const _0x4bb8e3=_0x2cb1;(function(_0x293b8d,_0x30254c){const _0x418f0c=_0x2cb1,_0x256c55=_0x293b8d();while(!![]){try{const _0xd3d9c3=-parseInt(_0x418f0c(0x2b2))/0x1*(parseInt(_0x418f0c(0x6f4))/0x2)+-parseInt(_0x418f0c(0x556))/0x3+parseInt(_0x418f0c(0x797))/0x4+parseInt(_0x418f0c(0x1ff))/0x5*(-parseInt(_0x418f0c(0x741))/0x6)+-parseInt(_0x418f0c(0x263))/0x7+parseInt(_0x418f0c(0x5ce))/0x8+parseInt(_0x418f0c(0x692))/0x9;if(_0xd3d9c3===_0x30254c)break;else _0x256c55['push'](_0x256c55['shift']());}catch(_0x349b47){_0x256c55['push'](_0x256c55['shift']());}}}(_0x23ba,0x45190));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x1f0902=_0x2cb1;if(_0x1f0902(0x163)in navigator)try{wakeLock=await navigator[_0x1f0902(0x163)][_0x1f0902(0x859)]('screen'),console['log'](_0x1f0902(0x71e)),wakeLock[_0x1f0902(0x838)]('release',()=>{const _0xd738d2=_0x1f0902;console[_0xd738d2(0x4c0)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x145342){console['error']('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x145342[_0x1f0902(0x55b)]+',\x20'+_0x145342[_0x1f0902(0x158)]);}else console['warn']('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x408597=_0x2cb1;wakeLock!==null&&(await wakeLock[_0x408597(0x43b)](),wakeLock=null,console[_0x408597(0x4c0)](_0x408597(0x37f)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x2a53c9=_0x2cb1;if(dimTimer)clearTimeout(dimTimer);document[_0x2a53c9(0x45c)][_0x2a53c9(0x718)][_0x2a53c9(0x8b0)]('dimmed'),dimTimer=setTimeout(()=>{const _0x2be5d1=_0x2a53c9;document[_0x2be5d1(0x45c)]['classList'][_0x2be5d1(0x15f)](_0x2be5d1(0x2cc)),console[_0x2be5d1(0x4c0)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x52e720=_0x2cb1;if(dimTimer)clearTimeout(dimTimer);document[_0x52e720(0x45c)][_0x52e720(0x718)][_0x52e720(0x8b0)](_0x52e720(0x2cc)),window[_0x52e720(0x3de)](_0x52e720(0x77a),resetDimTimer),window['removeEventListener'](_0x52e720(0x2ff),resetDimTimer),window[_0x52e720(0x3de)]('touchstart',resetDimTimer),window['removeEventListener']('keydown',resetDimTimer),console['log']('หยุดระบบจับเวลาหรี่หน้าจอ');}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x4bb8e3(0x7bb),'pinnedProjects':[],'projectView':_0x4bb8e3(0x1fa)};const allMathTopics=[{'category':_0x4bb8e3(0x872),'name':'การนับ'},{'category':'จำนวนและการดำเนินการ','name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x693)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x4fd)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x53a)},{'category':'จำนวนและการดำเนินการ','name':'การลบ'},{'category':'จำนวนและการดำเนินการ','name':_0x4bb8e3(0x6f5)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x80f)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x56e)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':_0x4bb8e3(0x6ac)},{'category':_0x4bb8e3(0x872),'name':'ค่าสัมบูรณ์'},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x647)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x75f)},{'category':'จำนวนและการดำเนินการ','name':'ห.ร.ม.\x20(GCD)'},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x29c)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x656)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x77e)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0xcd)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x57f)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x40d)},{'category':'จำนวนและการดำเนินการ','name':_0x4bb8e3(0x4fb)},{'category':_0x4bb8e3(0x872),'name':'การหารเศษส่วน'},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x434)},{'category':'จำนวนและการดำเนินการ','name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x442)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x875)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x615)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x3ff)},{'category':'จำนวนและการดำเนินการ','name':_0x4bb8e3(0x75c)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x492)},{'category':_0x4bb8e3(0x872),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x6d6)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x2eb)},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x465)},{'category':_0x4bb8e3(0x872),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x4bb8e3(0x872),'name':_0x4bb8e3(0x5b1)},{'category':_0x4bb8e3(0x25e),'name':'หน่วยความยาวและการแปลง'},{'category':_0x4bb8e3(0x25e),'name':_0x4bb8e3(0x3d0)},{'category':_0x4bb8e3(0x25e),'name':_0x4bb8e3(0x40c)},{'category':_0x4bb8e3(0x25e),'name':_0x4bb8e3(0x391)},{'category':_0x4bb8e3(0x25e),'name':'อุณหภูมิและการแปลง'},{'category':_0x4bb8e3(0x25e),'name':'เส้นรอบรูป'},{'category':'การวัด','name':_0x4bb8e3(0x2b7)},{'category':'การวัด','name':_0x4bb8e3(0x6cd)},{'category':'การวัด','name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x4bb8e3(0x25e),'name':_0x4bb8e3(0x394)},{'category':_0x4bb8e3(0x25e),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':'การวัด','name':'มุมและการวัดมุม'},{'category':_0x4bb8e3(0x25e),'name':'สเกลและแผนที่'},{'category':_0x4bb8e3(0x25e),'name':_0x4bb8e3(0x2c1)},{'category':_0x4bb8e3(0x70b),'name':_0x4bb8e3(0xc4)},{'category':'เรขาคณิต','name':'ความสัมพันธ์ของมุม'},{'category':_0x4bb8e3(0x70b),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':'เรขาคณิต','name':'พื้นที่สามเหลี่ยม'},{'category':_0x4bb8e3(0x70b),'name':_0x4bb8e3(0x809)},{'category':_0x4bb8e3(0x70b),'name':'ความคล้ายของรูป'},{'category':_0x4bb8e3(0x70b),'name':_0x4bb8e3(0x32f)},{'category':_0x4bb8e3(0x70b),'name':_0x4bb8e3(0x546)},{'category':_0x4bb8e3(0x70b),'name':_0x4bb8e3(0x38e)},{'category':_0x4bb8e3(0x70b),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x4bb8e3(0x70b),'name':_0x4bb8e3(0x4fa)},{'category':_0x4bb8e3(0x70b),'name':_0x4bb8e3(0x306)},{'category':_0x4bb8e3(0x70b),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x4bb8e3(0x70b),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':'เรขาคณิต','name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4bb8e3(0x4d1)},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x356)},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x42f)},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x5d8)},{'category':_0x4bb8e3(0x15d),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x76d)},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x183)},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x369)},{'category':_0x4bb8e3(0x15d),'name':'สมการค่าสัมบูรณ์'},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x72b)},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x5f0)},{'category':_0x4bb8e3(0x15d),'name':'สมการยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4bb8e3(0x648)},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x55c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4bb8e3(0x27f)},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x5b2)},{'category':_0x4bb8e3(0x15d),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x4bb8e3(0x15d),'name':'โดเมนและเรนจ์'},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x291)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4bb8e3(0x2be)},{'category':_0x4bb8e3(0x15d),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4bb8e3(0x855)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4bb8e3(0x654)},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x669)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4bb8e3(0x43e)},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x4d5)},{'category':_0x4bb8e3(0x15d),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4bb8e3(0x1aa)},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x6b9)},{'category':_0x4bb8e3(0x15d),'name':'ฟังก์ชันลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x4bb8e3(0x15d),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4bb8e3(0x7ff)},{'category':_0x4bb8e3(0x15d),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x4bb8e3(0x15d),'name':_0x4bb8e3(0x625)},{'category':_0x4bb8e3(0x13c),'name':_0x4bb8e3(0x191)},{'category':_0x4bb8e3(0x13c),'name':'ความชันและเส้นตรง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x4bb8e3(0x616)},{'category':_0x4bb8e3(0x13c),'name':_0x4bb8e3(0xee)},{'category':_0x4bb8e3(0x13c),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x4bb8e3(0x13c),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x4bb8e3(0x13c),'name':_0x4bb8e3(0x471)},{'category':_0x4bb8e3(0x13c),'name':_0x4bb8e3(0x377)},{'category':_0x4bb8e3(0x13c),'name':_0x4bb8e3(0x7c4)},{'category':_0x4bb8e3(0x574),'name':_0x4bb8e3(0x1ae)},{'category':_0x4bb8e3(0x574),'name':_0x4bb8e3(0x10f)},{'category':_0x4bb8e3(0x574),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x4bb8e3(0x574),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x4bb8e3(0x574),'name':_0x4bb8e3(0x6fb)},{'category':_0x4bb8e3(0x574),'name':_0x4bb8e3(0x28a)},{'category':_0x4bb8e3(0x574),'name':_0x4bb8e3(0x68f)},{'category':_0x4bb8e3(0x574),'name':'การแปลงรูปอัตลักษณ์'},{'category':_0x4bb8e3(0x574),'name':_0x4bb8e3(0x294)},{'category':'ตรีโกณมิติ','name':_0x4bb8e3(0x513)},{'category':_0x4bb8e3(0x574),'name':_0x4bb8e3(0x72e)},{'category':'สถิติและความน่าจะเป็น','name':_0x4bb8e3(0x14a)},{'category':'สถิติและความน่าจะเป็น','name':'การจัดกลุ่มข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':_0x4bb8e3(0x184)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x4f0)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x44b)},{'category':_0x4bb8e3(0x3d2),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x695)},{'category':'สถิติและความน่าจะเป็น','name':_0x4bb8e3(0x76e)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x637)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x66d)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x1d1)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x448)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x483)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x5cf)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x326)},{'category':'สถิติและความน่าจะเป็น','name':_0x4bb8e3(0x550)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x54d)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x8bc)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x1dd)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x279)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x290)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0x8b2)},{'category':_0x4bb8e3(0x3d2),'name':_0x4bb8e3(0xac)},{'category':_0x4bb8e3(0x3d2),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x4bb8e3(0x89c),'name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':_0x4bb8e3(0x2a6)},{'category':_0x4bb8e3(0x89c),'name':_0x4bb8e3(0x6ad)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':'แคลคูลัสเบื้องต้น','name':_0x4bb8e3(0x1e1)},{'category':_0x4bb8e3(0x89c),'name':_0x4bb8e3(0x7f4)},{'category':'แคลคูลัสเบื้องต้น','name':'ความชันเส้นสัมผัส'},{'category':_0x4bb8e3(0x89c),'name':_0x4bb8e3(0x7f8)},{'category':_0x4bb8e3(0x89c),'name':_0x4bb8e3(0x594)},{'category':_0x4bb8e3(0x89c),'name':_0x4bb8e3(0x1a3)},{'category':_0x4bb8e3(0x89c),'name':'ปริพันธ์จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0x4bb8e3(0x182)},{'category':_0x4bb8e3(0x89c),'name':_0x4bb8e3(0x458)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4bb8e3(0x5ba)},{'category':_0x4bb8e3(0x432),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x4bb8e3(0x432),'name':_0x4bb8e3(0x126)},{'category':_0x4bb8e3(0x432),'name':_0x4bb8e3(0x26e)},{'category':_0x4bb8e3(0x432),'name':_0x4bb8e3(0x682)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดีเทอร์มิแนนต์'},{'category':_0x4bb8e3(0x432),'name':_0x4bb8e3(0x45b)},{'category':_0x4bb8e3(0x373),'name':_0x4bb8e3(0x737)},{'category':_0x4bb8e3(0x373),'name':'ดอกเบี้ยทบต้น'},{'category':_0x4bb8e3(0x373),'name':_0x4bb8e3(0x5a5)},{'category':_0x4bb8e3(0x373),'name':_0x4bb8e3(0x60e)},{'category':_0x4bb8e3(0x373),'name':_0x4bb8e3(0x73f)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x4bb8e3(0x308)},{'category':_0x4bb8e3(0x250),'name':_0x4bb8e3(0x4a8)},{'category':_0x4bb8e3(0x250),'name':_0x4bb8e3(0x857)}];function renderTopicCheckboxes(){const _0x1465e1=_0x4bb8e3,_0x54cba3=document[_0x1465e1(0x85b)]('math-topics-checkbox-container');if(!_0x54cba3)return;const _0x57a0ec=allMathTopics,_0x4f29d6=customMathTopics[_0x1465e1(0x347)](_0x588410=>({'id':_0x588410['id'],'category':'หัวข้อที่สร้างเอง','name':_0x588410[_0x1465e1(0x55b)]})),_0x3b1c3a=[..._0x57a0ec,..._0x4f29d6],_0x273125=_0x3b1c3a[_0x1465e1(0x83e)]((_0x286340,_0x203006)=>{const _0xef5c3d=_0x1465e1;return!_0x286340[_0x203006['category']]&&(_0x286340[_0x203006[_0xef5c3d(0x49f)]]=[]),_0x286340[_0x203006[_0xef5c3d(0x49f)]][_0xef5c3d(0x137)](_0x203006),_0x286340;},{});let _0x44d07a='';const _0x374796=[_0x1465e1(0x608),...Object['keys'](_0x273125)[_0x1465e1(0x2fe)](_0x4c7fbb=>_0x4c7fbb!==_0x1465e1(0x608))];for(const _0x2f42eb of _0x374796){if(_0x273125[_0x2f42eb]){const _0x28faf6=_0x2f42eb===_0x1465e1(0x608),_0x13dbdc=_0x28faf6?'fas\x20fa-user-edit':_0x1465e1(0x232),_0x252839=_0x28faf6?_0x1465e1(0x219):'text-indigo-700';_0x44d07a+=_0x1465e1(0x4a2),_0x44d07a+=_0x1465e1(0x886)+_0x252839+_0x1465e1(0x14c)+_0x13dbdc+'\x20mr-2\x22></i>'+_0x2f42eb+_0x1465e1(0x50f),_0x273125[_0x2f42eb]['forEach'](_0x2d63d1=>{const _0x55ab02=_0x1465e1,_0x3f1869=!!_0x2d63d1['id'],_0x2af700=_0x3f1869?_0x55ab02(0x15b)+_0x2d63d1['id']+_0x55ab02(0x88a)+_0x2d63d1['id']+_0x55ab02(0x80a)+_0x2d63d1['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2d63d1['id']+_0x55ab02(0x23f):'';_0x44d07a+=_0x55ab02(0x770)+(_0x2d63d1['id']||'')+_0x55ab02(0x4c5)+_0x2d63d1[_0x55ab02(0x55b)]+_0x55ab02(0x128)+_0x2d63d1[_0x55ab02(0x55b)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3f1869?_0x55ab02(0x3ec)+_0x2d63d1[_0x55ab02(0x55b)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2af700+_0x55ab02(0x42e);}),_0x44d07a+=_0x1465e1(0x277);}}_0x54cba3['innerHTML']=_0x44d07a||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x54cba3[_0x1465e1(0x3de)](_0x1465e1(0x2ee),updateSelectedTopicsCount),_0x54cba3[_0x1465e1(0x838)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x211c50,_0x389d2b){const _0xd32b2=_0x4bb8e3;if(!_0x211c50||!_0x389d2b['trim']()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x3049f3=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x211c50);await updateDoc(_0x3049f3,{'name':_0x389d2b[_0xd32b2(0xbf)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x49c8c9){console[_0xd32b2(0x60f)]('Error\x20updating\x20custom\x20topic:',_0x49c8c9),showMessage(_0xd32b2(0x1b4));}}function toggleTopicEditMode(_0x2a756f,_0x58700e){const _0x178462=_0x4bb8e3;if(!_0x2a756f)return;const _0x2409c4=_0x2a756f['querySelector'](_0x178462(0x39b)),_0xc1db87=_0x2a756f[_0x178462(0x7c6)](_0x178462(0x6c4)),_0x224adb=_0x2a756f[_0x178462(0x7c6)](_0x178462(0x547)),_0x293af3=_0x2a756f[_0x178462(0x7c6)](_0x178462(0x53f));_0x2409c4[_0x178462(0x718)][_0x178462(0x4bc)](_0x178462(0x248),_0x58700e),_0xc1db87[_0x178462(0x718)][_0x178462(0x4bc)](_0x178462(0x248),!_0x58700e),_0x224adb[_0x178462(0x718)]['toggle'](_0x178462(0x248),_0x58700e),_0x293af3[_0x178462(0x718)][_0x178462(0x4bc)](_0x178462(0x248),!_0x58700e),_0x58700e&&(_0xc1db87[_0x178462(0x5b6)](),_0xc1db87['select']());}function updateSelectedTopicsCount(){const _0x42c43a=_0x4bb8e3,_0x3b5652=document[_0x42c43a(0x85b)](_0x42c43a(0x7d0)),_0x26cbd9=_0x3b5652[_0x42c43a(0x68b)](_0x42c43a(0x224))[_0x42c43a(0x689)],_0x36534c=document[_0x42c43a(0x85b)](_0x42c43a(0x305));_0x26cbd9>0x0?_0x36534c[_0x42c43a(0x7b1)]=_0x42c43a(0x666)+_0x26cbd9+'\x20หัวข้อ)':_0x36534c[_0x42c43a(0x7b1)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x4bb8e3(0x5d6),quizLeaderboardSortOrder=_0x4bb8e3(0x50a),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,scratchpadCtx=null,isDrawingOnScratchpad=![],isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x4bb8e3(0x846),scratchpadPenColor=_0x4bb8e3(0x617),scratchpadPenSize=0x5;function getDistance(_0x15b9b3,_0x2e794c){const _0x2f4c5c=_0x4bb8e3;return Math[_0x2f4c5c(0x5e1)](Math[_0x2f4c5c(0x7a9)](_0x15b9b3['x']-_0x2e794c['x'],0x2)+Math['pow'](_0x15b9b3['y']-_0x2e794c['y'],0x2));}function getMidpoint(_0x1cadca,_0x4753ad){return{'x':(_0x1cadca['x']+_0x4753ad['x'])/0x2,'y':(_0x1cadca['y']+_0x4753ad['y'])/0x2};}function getTransformedPoint(_0x3eda50,_0x384450){return{'x':(_0x3eda50-scratchpadOffset['x'])/scratchpadScale,'y':(_0x384450-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x49cd97=_0x4bb8e3;if(!scratchpadCtx)return;const _0x5a0bd0=scratchpadCtx['canvas'],_0x4de50e=window[_0x49cd97(0x119)]||0x1;scratchpadCtx[_0x49cd97(0x28b)](),scratchpadCtx[_0x49cd97(0x1b8)](_0x4de50e,0x0,0x0,_0x4de50e,0x0,0x0),scratchpadCtx[_0x49cd97(0x4b2)](0x0,0x0,_0x5a0bd0[_0x49cd97(0x61e)],_0x5a0bd0[_0x49cd97(0x1c8)]),scratchpadCtx['restore'](),scratchpadCtx[_0x49cd97(0x28b)](),scratchpadCtx[_0x49cd97(0x5fb)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x49cd97(0x80e)](scratchpadScale,scratchpadScale),strokes[_0x49cd97(0xb5)](_0x355e26=>{drawStroke(_0x355e26);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x49cd97(0x415)]();}function drawStroke(_0x160266){const _0x3728d8=_0x4bb8e3;if(!_0x160266||_0x160266[_0x3728d8(0x3be)][_0x3728d8(0x689)]<0x1)return;scratchpadCtx[_0x3728d8(0xe3)](),scratchpadCtx[_0x3728d8(0x6eb)](_0x160266[_0x3728d8(0x3be)][0x0]['x'],_0x160266[_0x3728d8(0x3be)][0x0]['y']),scratchpadCtx[_0x3728d8(0x7be)]=_0x160266[_0x3728d8(0x7a5)],scratchpadCtx[_0x3728d8(0x831)]=_0x160266[_0x3728d8(0x6b0)],scratchpadCtx['globalCompositeOperation']=_0x160266[_0x3728d8(0x57d)]===_0x3728d8(0x366)?_0x3728d8(0x2c9):_0x3728d8(0x2fd);for(let _0x49f8db=0x1;_0x49f8db<_0x160266[_0x3728d8(0x3be)][_0x3728d8(0x689)]-0x1;_0x49f8db++){const _0x21e975=_0x160266['points'][_0x49f8db],_0x16c97d=_0x160266[_0x3728d8(0x3be)][_0x49f8db+0x1],_0x2e046d={'x':(_0x21e975['x']+_0x16c97d['x'])/0x2,'y':(_0x21e975['y']+_0x16c97d['y'])/0x2};scratchpadCtx['quadraticCurveTo'](_0x21e975['x'],_0x21e975['y'],_0x2e046d['x'],_0x2e046d['y']);}scratchpadCtx[_0x3728d8(0x3c6)](),scratchpadCtx[_0x3728d8(0x53c)]();}function handlePointerDown(_0x2859ca){const _0x596ad9=_0x4bb8e3;_0x2859ca['preventDefault']();const _0xe2d6=scratchpadCtx['canvas'],_0x394510=_0xe2d6[_0x596ad9(0x488)]();if(_0x2859ca['touches']){if(_0x2859ca['touches']['length']===0x1){isDrawingOnScratchpad=!![],redoStrokes=[];const _0x44f5d1=getTransformedPoint(_0x2859ca['touches'][0x0][_0x596ad9(0x614)]-_0x394510[_0x596ad9(0x71f)],_0x2859ca[_0x596ad9(0xbc)][0x0][_0x596ad9(0x149)]-_0x394510[_0x596ad9(0x889)]);currentStroke={'tool':activeTool,'color':scratchpadPenColor,'size':scratchpadPenSize,'points':[_0x44f5d1]};}else _0x2859ca['touches'][_0x596ad9(0x689)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x2859ca['touches'][0x0]['clientX'],'y':_0x2859ca[_0x596ad9(0xbc)][0x0]['clientY']},{'x':_0x2859ca[_0x596ad9(0xbc)][0x1]['clientX'],'y':_0x2859ca['touches'][0x1][_0x596ad9(0x149)]}),initialPinchDistance=getDistance({'x':_0x2859ca[_0x596ad9(0xbc)][0x0][_0x596ad9(0x614)],'y':_0x2859ca[_0x596ad9(0xbc)][0x0][_0x596ad9(0x149)]},{'x':_0x2859ca[_0x596ad9(0xbc)][0x1][_0x596ad9(0x614)],'y':_0x2859ca['touches'][0x1][_0x596ad9(0x149)]}));}else{if(_0x2859ca['button']===0x1)isMousePanning=!![],panStart={'x':_0x2859ca[_0x596ad9(0x614)],'y':_0x2859ca[_0x596ad9(0x149)]},_0xe2d6[_0x596ad9(0x85c)][_0x596ad9(0x4ab)]=_0x596ad9(0x4de);else{if(_0x2859ca['button']===0x0){isDrawingOnScratchpad=!![],redoStrokes=[];const _0xa5156=getTransformedPoint(_0x2859ca[_0x596ad9(0x614)]-_0x394510[_0x596ad9(0x71f)],_0x2859ca[_0x596ad9(0x149)]-_0x394510[_0x596ad9(0x889)]);currentStroke={'tool':activeTool,'color':scratchpadPenColor,'size':scratchpadPenSize,'points':[_0xa5156]};}}}}function handlePointerMove(_0x3bfc24){const _0x342c93=_0x4bb8e3;_0x3bfc24[_0x342c93(0x514)]();const _0x3bb1f1=scratchpadCtx[_0x342c93(0x789)],_0x1f8385=_0x3bb1f1[_0x342c93(0x488)]();if(_0x3bfc24[_0x342c93(0xbc)]){if(_0x3bfc24['touches'][_0x342c93(0x689)]===0x1&&isDrawingOnScratchpad){const _0x14df7e=getTransformedPoint(_0x3bfc24[_0x342c93(0xbc)][0x0][_0x342c93(0x614)]-_0x1f8385['left'],_0x3bfc24[_0x342c93(0xbc)][0x0][_0x342c93(0x149)]-_0x1f8385[_0x342c93(0x889)]);currentStroke[_0x342c93(0x3be)]['push'](_0x14df7e),redrawScratchpad();}else{if(_0x3bfc24[_0x342c93(0xbc)][_0x342c93(0x689)]===0x2&&isPanning){const _0x29000e=getDistance({'x':_0x3bfc24['touches'][0x0][_0x342c93(0x614)],'y':_0x3bfc24[_0x342c93(0xbc)][0x0][_0x342c93(0x149)]},{'x':_0x3bfc24['touches'][0x1][_0x342c93(0x614)],'y':_0x3bfc24[_0x342c93(0xbc)][0x1][_0x342c93(0x149)]}),_0x455ffc=getMidpoint({'x':_0x3bfc24['touches'][0x0][_0x342c93(0x614)],'y':_0x3bfc24[_0x342c93(0xbc)][0x0][_0x342c93(0x149)]},{'x':_0x3bfc24[_0x342c93(0xbc)][0x1][_0x342c93(0x614)],'y':_0x3bfc24['touches'][0x1][_0x342c93(0x149)]}),_0x1e7b72=_0x29000e/ initialPinchDistance,_0x4e5ebb=Math[_0x342c93(0x1e6)](Math[_0x342c93(0x790)](scratchpadScale*_0x1e7b72,MIN_SCALE),MAX_SCALE),_0x60f424=_0x455ffc['x']-panStart['x'],_0x3faeb=_0x455ffc['y']-panStart['y'];scratchpadOffset['x']=_0x455ffc['x']-(_0x455ffc['x']-scratchpadOffset['x'])*(_0x4e5ebb/scratchpadScale),scratchpadOffset['y']=_0x455ffc['y']-(_0x455ffc['y']-scratchpadOffset['y'])*(_0x4e5ebb/scratchpadScale),scratchpadOffset['x']+=_0x60f424,scratchpadOffset['y']+=_0x3faeb,scratchpadScale=_0x4e5ebb,initialPinchDistance=_0x29000e,panStart=_0x455ffc,redrawScratchpad();}}}else{if(isMousePanning){const _0x495d62=_0x3bfc24[_0x342c93(0x614)]-panStart['x'],_0x535ea5=_0x3bfc24[_0x342c93(0x149)]-panStart['y'];scratchpadOffset['x']+=_0x495d62,scratchpadOffset['y']+=_0x535ea5,panStart={'x':_0x3bfc24[_0x342c93(0x614)],'y':_0x3bfc24['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x9101fc=getTransformedPoint(_0x3bfc24[_0x342c93(0x614)]-_0x1f8385[_0x342c93(0x71f)],_0x3bfc24['clientY']-_0x1f8385[_0x342c93(0x889)]);currentStroke[_0x342c93(0x3be)]['push'](_0x9101fc),redrawScratchpad();}}}}function handlePointerUp(_0xb81957){const _0x4eacaa=_0x4bb8e3;_0xb81957[_0x4eacaa(0x514)]();const _0xcfae6f=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0xcfae6f[_0x4eacaa(0x85c)][_0x4eacaa(0x4ab)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x4eacaa(0x3be)][_0x4eacaa(0x689)]>0x1&&strokes[_0x4eacaa(0x137)](currentStroke),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x423136){const _0x54304c=_0x4bb8e3;_0x423136[_0x54304c(0x514)]();const _0x2c8ceb=_0x423136[_0x54304c(0x3c7)]*-0.005,_0x2998f4=Math['min'](Math[_0x54304c(0x790)](scratchpadScale+_0x2c8ceb,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x423136[_0x54304c(0x614)]-(_0x423136['clientX']-scratchpadOffset['x'])*(_0x2998f4/scratchpadScale),scratchpadOffset['y']=_0x423136[_0x54304c(0x149)]-(_0x423136[_0x54304c(0x149)]-scratchpadOffset['y'])*(_0x2998f4/scratchpadScale),scratchpadScale=_0x2998f4,redrawScratchpad();}function undo(){strokes['length']>0x0&&(redoStrokes['push'](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x575269=_0x4bb8e3;redoStrokes[_0x575269(0x689)]>0x0&&(strokes[_0x575269(0x137)](redoStrokes[_0x575269(0x837)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x4e2d19=_0x4bb8e3;document[_0x4e2d19(0x85b)](_0x4e2d19(0x6e4))['disabled']=strokes[_0x4e2d19(0x689)]===0x0,document[_0x4e2d19(0x85b)](_0x4e2d19(0x871))[_0x4e2d19(0x1ea)]=redoStrokes[_0x4e2d19(0x689)]===0x0;}function openScratchpad(_0x58a4c9,_0x5a7ba6){const _0x372320=_0x4bb8e3,_0x15fe4a=document[_0x372320(0x85b)](_0x372320(0x4b3)),_0x14104f=document[_0x372320(0x85b)](_0x372320(0x211)),_0x4ad774=document[_0x372320(0x85b)](_0x372320(0x601)),_0x3b25e2=document[_0x372320(0x85b)]('scratchpad-controls');_0x14104f[_0x372320(0x7b1)]=_0x58a4c9[_0x372320(0x866)]||_0x58a4c9['questionText'],_0x4ad774['innerHTML']=_0x5a7ba6[_0x372320(0x347)]((_0x4dd415,_0x52b240)=>_0x372320(0x73e)+String[_0x372320(0x75b)](0x41+_0x52b240)+'.\x20'+_0x4dd415+_0x372320(0x277))['join'](''),_0x3b25e2[_0x372320(0x76f)]=_0x372320(0x8a6),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x15fe4a[_0x372320(0x718)][_0x372320(0x8b0)](_0x372320(0x248)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x372320(0x864)])MathJax[_0x372320(0x540)]([_0x14104f,_0x4ad774]);}function initializeScratchpadCanvas(){const _0x2b0f6f=_0x4bb8e3,_0x5e748e=document[_0x2b0f6f(0x85b)](_0x2b0f6f(0x200)),_0x33af70=document[_0x2b0f6f(0x7c6)](_0x2b0f6f(0x6a9));if(!_0x5e748e||!_0x33af70)return;scratchpadCtx=_0x5e748e[_0x2b0f6f(0x4ac)]('2d',{'willReadFrequently':!![]});const _0x334e54=window[_0x2b0f6f(0x119)]||0x1,_0x5cc6cf=_0x33af70[_0x2b0f6f(0x488)]();_0x5e748e[_0x2b0f6f(0x61e)]=_0x5cc6cf['width']*_0x334e54,_0x5e748e['height']=_0x5cc6cf[_0x2b0f6f(0x1c8)]*_0x334e54,_0x5e748e['style'][_0x2b0f6f(0x61e)]=_0x5cc6cf[_0x2b0f6f(0x61e)]+'px',_0x5e748e[_0x2b0f6f(0x85c)]['height']=_0x5cc6cf[_0x2b0f6f(0x1c8)]+'px',scratchpadCtx['scale'](_0x334e54,_0x334e54),scratchpadCtx[_0x2b0f6f(0x771)]=_0x2b0f6f(0x43f),scratchpadCtx[_0x2b0f6f(0x427)]=_0x2b0f6f(0x43f),_0x5e748e[_0x2b0f6f(0x3de)](_0x2b0f6f(0x38f),handlePointerDown),_0x5e748e[_0x2b0f6f(0x3de)](_0x2b0f6f(0x7ab),handlePointerMove),_0x5e748e[_0x2b0f6f(0x3de)](_0x2b0f6f(0x470),handlePointerUp),_0x5e748e[_0x2b0f6f(0x3de)]('pointercancel',handlePointerUp),_0x5e748e[_0x2b0f6f(0x3de)](_0x2b0f6f(0x47b),handleWheel),_0x5e748e['removeEventListener'](_0x2b0f6f(0x436),handlePointerDown),_0x5e748e[_0x2b0f6f(0x3de)](_0x2b0f6f(0x161),handlePointerMove),_0x5e748e['removeEventListener']('touchend',handlePointerUp),_0x5e748e['addEventListener'](_0x2b0f6f(0x38f),handlePointerDown),_0x5e748e[_0x2b0f6f(0x838)](_0x2b0f6f(0x7ab),handlePointerMove),_0x5e748e[_0x2b0f6f(0x838)](_0x2b0f6f(0x470),handlePointerUp),_0x5e748e[_0x2b0f6f(0x838)](_0x2b0f6f(0x216),handlePointerUp),_0x5e748e[_0x2b0f6f(0x838)](_0x2b0f6f(0x47b),handleWheel,{'passive':![]}),_0x5e748e[_0x2b0f6f(0x838)](_0x2b0f6f(0x436),handlePointerDown,{'passive':![]}),_0x5e748e[_0x2b0f6f(0x838)](_0x2b0f6f(0x161),handlePointerMove,{'passive':![]}),_0x5e748e[_0x2b0f6f(0x838)](_0x2b0f6f(0x129),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x273ce6=_0x4bb8e3,_0x487821=document[_0x273ce6(0x85b)](_0x273ce6(0x4b3));document[_0x273ce6(0x85b)](_0x273ce6(0x4d3))[_0x273ce6(0x838)](_0x273ce6(0x5a1),()=>_0x487821[_0x273ce6(0x718)][_0x273ce6(0x15f)]('hidden')),document[_0x273ce6(0x85b)]('reset-view-btn')[_0x273ce6(0x838)](_0x273ce6(0x5a1),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x273ce6(0x85b)](_0x273ce6(0x1d6))[_0x273ce6(0x838)](_0x273ce6(0x5a1),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x273ce6(0x85b)](_0x273ce6(0x6e4))[_0x273ce6(0x838)]('click',undo),document[_0x273ce6(0x85b)](_0x273ce6(0x871))[_0x273ce6(0x838)]('click',redo),document['querySelectorAll'](_0x273ce6(0x30f))['forEach'](_0x3665ab=>{const _0x33b27e=_0x273ce6;_0x3665ab[_0x33b27e(0x838)]('click',()=>{const _0x331211=_0x33b27e;scratchpadPenSize=parseInt(_0x3665ab[_0x331211(0x717)]['size'],0xa),document[_0x331211(0x68b)]('.pen-size-btn')[_0x331211(0xb5)](_0xdcd336=>_0xdcd336[_0x331211(0x718)][_0x331211(0x8b0)](_0x331211(0x3a7))),_0x3665ab[_0x331211(0x718)][_0x331211(0x15f)](_0x331211(0x3a7));});});const _0x5aeb9d=document['getElementById'](_0x273ce6(0x6f2)),_0x1e786c=document[_0x273ce6(0x85b)](_0x273ce6(0x611));_0x5aeb9d[_0x273ce6(0x838)](_0x273ce6(0x5a1),()=>{const _0x14d08b=_0x273ce6;activeTool=_0x14d08b(0x846),_0x5aeb9d['classList'][_0x14d08b(0x15f)](_0x14d08b(0x3a7)),_0x1e786c[_0x14d08b(0x718)][_0x14d08b(0x8b0)]('active');}),_0x1e786c['addEventListener'](_0x273ce6(0x5a1),()=>{const _0x133119=_0x273ce6;activeTool='eraser',_0x1e786c[_0x133119(0x718)][_0x133119(0x15f)]('active'),_0x5aeb9d[_0x133119(0x718)][_0x133119(0x8b0)](_0x133119(0x3a7));}),document[_0x273ce6(0x68b)](_0x273ce6(0x567))[_0x273ce6(0xb5)](_0x1894a8=>{const _0xc06bd8=_0x273ce6;_0x1894a8[_0xc06bd8(0x838)](_0xc06bd8(0x5a1),()=>{const _0x367df2=_0xc06bd8;scratchpadPenColor=_0x1894a8['dataset']['color'],activeTool=_0x367df2(0x846),_0x5aeb9d[_0x367df2(0x718)][_0x367df2(0x15f)]('active'),_0x1e786c[_0x367df2(0x718)][_0x367df2(0x8b0)](_0x367df2(0x3a7)),document['querySelectorAll'](_0x367df2(0x567))[_0x367df2(0xb5)](_0x2f21d1=>_0x2f21d1['classList']['remove']('active')),_0x1894a8[_0x367df2(0x718)][_0x367df2(0x15f)](_0x367df2(0x3a7));});}),document['querySelector'](_0x273ce6(0x3bb))[_0x273ce6(0x718)][_0x273ce6(0x15f)](_0x273ce6(0x3a7)),window[_0x273ce6(0x838)](_0x273ce6(0x66a),()=>{const _0x585042=_0x273ce6;!_0x487821[_0x585042(0x718)]['contains'](_0x585042(0x248))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x4bb8e3(0x435),'name':_0x4bb8e3(0x78e),'description':_0x4bb8e3(0x4f1),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x4bb8e3(0x6b2),'description':_0x4bb8e3(0x7b0),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x4bb8e3(0x519),'name':_0x4bb8e3(0x3d9),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x4bb8e3(0x588)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':'ผ่านฉลุย','description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x4bb8e3(0x6bc)},'COMEBACK_KING':{'id':'comeback_king','name':_0x4bb8e3(0x97),'description':_0x4bb8e3(0x4e5),'icon':_0x4bb8e3(0x742)},'SPECIALIST':{'id':_0x4bb8e3(0x48b),'name':_0x4bb8e3(0x5f5),'description':_0x4bb8e3(0x3a8),'icon':_0x4bb8e3(0x49d)},'PERSEVERANCE':{'id':_0x4bb8e3(0xf9),'name':_0x4bb8e3(0x1f6),'description':_0x4bb8e3(0xed),'icon':_0x4bb8e3(0x833)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x4bb8e3(0x1ca),'projectId':_0x4bb8e3(0x6c9),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x4bb8e3(0x671),'appId':_0x4bb8e3(0x572),'measurementId':_0x4bb8e3(0x221)},appId=typeof __app_id!==_0x4bb8e3(0x272)?__app_id:_0x4bb8e3(0x6bf),adminView=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x3f2)),studentView=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x472)),projectDashboardView=document['getElementById'](_0x4bb8e3(0xb1)),projectDetailView=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x111)),quizResultsView=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x74d)),projectList=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x522)),noProjectsMsg=document['getElementById'](_0x4bb8e3(0x2c2)),projectTitle=document['getElementById'](_0x4bb8e3(0x88e)),projectIdDisplay=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x2ab)),studentList=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x332)),messageModal=document[_0x4bb8e3(0x85b)]('message-modal'),modalMessage=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x485)),createProjectModal=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x16a)),adminPasswordModal=document[_0x4bb8e3(0x85b)]('admin-password-modal'),confirmationModal=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x3a5)),userIdDisplay=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x607)),topicTab=document[_0x4bb8e3(0x85b)]('topic-tab'),textTab=document[_0x4bb8e3(0x85b)]('text-tab'),topicInputArea=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x5aa)),textInputArea=document[_0x4bb8e3(0x85b)]('text-input-area'),manageTab=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x84e)),resultsTab=document[_0x4bb8e3(0x85b)]('results-tab'),leaderboardTab=document['getElementById'](_0x4bb8e3(0x1b7)),manageTabContent=document['getElementById'](_0x4bb8e3(0x6cf)),resultsTabContent=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x16e)),leaderboardTabContent=document[_0x4bb8e3(0x85b)]('leaderboard-tab-content'),projectQuizzesList=document[_0x4bb8e3(0x85b)]('project-quizzes-list'),fileTab=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x888)),fileInputArea=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x213)),fileUploadInput=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0xa2)),worksheetTab=document[_0x4bb8e3(0x85b)]('worksheet-tab'),worksheetInputArea=document[_0x4bb8e3(0x85b)]('worksheet-input-area'),generateWorksheetBtn=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x1fd)),studentInitialView=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x287)),studentNameSelectionView=document['getElementById'](_0x4bb8e3(0x122)),studentQuizArea=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x405)),studentResultArea=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x4f8)),studentReadingArea=document['getElementById'](_0x4bb8e3(0x81f)),loadQuizBtn=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x380)),startQuizBtn=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x5eb)),studentJoinGameView=document['getElementById'](_0x4bb8e3(0x38d)),presentationModal=document[_0x4bb8e3(0x85b)]('presentation-modal'),renameQuizModal=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x1fe)),moveQuizModal=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x7c7)),quizSettingsModal=document['getElementById']('quiz-settings-modal'),quizStatusModal=document['getElementById']('quiz-status-modal'),liveGameView=document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x4ae));function handleAutoFixLatex(){const _0x49ed1b=_0x4bb8e3,_0x1c20f1=document['getElementById'](_0x49ed1b(0x818))||document,_0x1cb75d=_0x1c20f1[_0x49ed1b(0x68b)]([_0x49ed1b(0x2d6),_0x49ed1b(0x1e0),'[contenteditable=\x22true\x22]','[role=\x22textbox\x22]','.ql-editor','label',_0x49ed1b(0x716),_0x49ed1b(0x1c2),_0x49ed1b(0x325)][_0x49ed1b(0x19b)](','));let _0x1eb640=0x0;const _0x371409=_0x3e00c0=>_0x49ed1b(0x39a)in _0x3e00c0?String(_0x3e00c0[_0x49ed1b(0x39a)]):_0x3e00c0[_0x49ed1b(0x1a0)]!==undefined?_0x3e00c0[_0x49ed1b(0x1a0)]:_0x3e00c0[_0x49ed1b(0x7b1)]||'',_0x1d914e=(_0x4ae85c,_0xc900fe)=>{const _0x16cb19=_0x49ed1b;if(_0x16cb19(0x39a)in _0x4ae85c){_0x4ae85c['value']=_0xc900fe;return;}if(_0x4ae85c[_0x16cb19(0x7c6)]&&_0x4ae85c[_0x16cb19(0x7c6)](_0x16cb19(0x612)))return;if(_0x4ae85c[_0x16cb19(0x1a0)]!==undefined)_0x4ae85c[_0x16cb19(0x1a0)]=_0xc900fe;else _0x4ae85c['textContent']=_0xc900fe;},_0x419a55=_0x3355b7=>_0x3355b7['replace'](/\u00A0/g,'\x20')[_0x49ed1b(0x6ed)](/\u200B/g,'')[_0x49ed1b(0x6ed)](/\r\n?/g,'\x0a'),_0x1408f4=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0xaaccae=_0x1d4d39=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x1d4d39),_0xf0279f=_0x82410a=>{const _0xb6eb24=_0x49ed1b,_0x32c55c=(_0x82410a[_0xb6eb24(0x8a0)](/\{/g)||[])[_0xb6eb24(0x689)],_0x42625e=(_0x82410a[_0xb6eb24(0x8a0)](/\}/g)||[])[_0xb6eb24(0x689)];if(_0x32c55c>_0x42625e)_0x82410a=_0x82410a+'}'['repeat'](_0x32c55c-_0x42625e);return _0x82410a;},_0x1a775a=_0x11de6f=>{const _0x4cd705=_0x49ed1b;let _0x58fad9=_0x11de6f['trim']();const _0x14a624=[_0x4cd705(0x8a5),_0x4cd705(0x554),_0x4cd705(0xb3),_0x4cd705(0x5e1),_0x4cd705(0x524),_0x4cd705(0x3e0),_0x4cd705(0x4ea),_0x4cd705(0x1e9),_0x4cd705(0x189),_0x4cd705(0x577),'le','ge',_0x4cd705(0x2bb),'pm','approx',_0x4cd705(0x34c),_0x4cd705(0x26d),_0x4cd705(0x84f),'log','ln',_0x4cd705(0x7d4),'prod',_0x4cd705(0x557),_0x4cd705(0x71f),'right','overline','underline',_0x4cd705(0x1f7),_0x4cd705(0x750)];_0x58fad9=_0x58fad9[_0x4cd705(0x6ed)](new RegExp(_0x4cd705(0x419)+_0x14a624['join']('|')+_0x4cd705(0x4af),'g'),'\x5c'),_0x14a624[_0x4cd705(0xb5)](_0xeca076=>{_0x58fad9=_0x58fad9['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0xeca076+'\x5cb','g'),(_0x3e8bfb,_0xc27238)=>_0xc27238+'\x5c'+_0xeca076);});const _0x1636ba=[[/×/g,_0x4cd705(0x1f9)],[/·/g,'\x5ccdot'],[/÷/g,_0x4cd705(0x106)],[/≤/g,_0x4cd705(0x5a4)],[/≥/g,_0x4cd705(0x1d0)],[/≠/g,_0x4cd705(0x6d7)],[/±/g,_0x4cd705(0x5be)],[/∑/g,_0x4cd705(0x77b)],[/−/g,'-']];_0x1636ba[_0x4cd705(0xb5)](([_0x3318da,_0x3c61e0])=>{const _0x5c4f7d=_0x4cd705;_0x58fad9=_0x58fad9[_0x5c4f7d(0x6ed)](_0x3318da,_0x3c61e0);}),_0x58fad9=_0x58fad9['replace'](/√\s*\(([^)]*)\)/g,'\x5csqrt{$1}'),_0x58fad9=_0x58fad9[_0x4cd705(0x6ed)](/√\s*([A-Za-z0-9]+)/g,_0x4cd705(0xa4)),_0x58fad9=_0x58fad9['replace'](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x4cd705(0x6ed)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x4cd705(0x31b))['replace'](/(^|[^\\])ext\{/g,'$1\x5ctext{')['replace'](/(^|[^\\])ext\(/g,_0x4cd705(0x6de))[_0x4cd705(0x6ed)](/\\text\(([^)]*)\)/g,_0x4cd705(0x74c))['replace'](/\s\\frac/g,_0x4cd705(0x719)),_0x58fad9=_0x58fad9['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x155a94,_0x1cc360,_0x119fe0,_0xdfa4cf)=>_0x1cc360+_0x4cd705(0x5a8)+_0x119fe0+'}{'+_0xdfa4cf+'}'),_0x58fad9=_0x58fad9[_0x4cd705(0x6ed)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x4cd705(0x6be))['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x4cd705(0x6be))[_0x4cd705(0x6ed)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x4cd705(0x6be)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x4cd705(0xc5)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x4cd705(0xc5)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x4cd705(0xc5)],[/(\d+)\s*°\s*C/g,_0x4cd705(0xc5)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x4cd705(0x843)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x4cd705(0xb5)](([_0x1612d9,_0x534c7e])=>{const _0x246434=_0x4cd705;_0x58fad9=_0x58fad9[_0x246434(0x6ed)](_0x1612d9,_0x534c7e);}),_0x58fad9=_0x58fad9[_0x4cd705(0x6ed)](/(\d+)\s*%/g,_0x4cd705(0x77d)),_0x58fad9=_0x58fad9[_0x4cd705(0x6ed)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x4cd705(0x8b1))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x4cd705(0x398))[_0x4cd705(0x6ed)](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x4cd705(0x34c),_0x4cd705(0x26d),_0x4cd705(0x84f),'log','ln']['forEach'](_0x38662b=>{const _0x516ae4=_0x4cd705;_0x58fad9=_0x58fad9[_0x516ae4(0x6ed)](new RegExp(_0x516ae4(0x2d9)+_0x38662b+_0x516ae4(0x1a1),'g'),(_0x3f813b,_0x31e0ae)=>_0x31e0ae+'\x5c'+_0x38662b+'(');});const _0x25c01c=(_0x58fad9[_0x4cd705(0x8a0)](/\\left\b/g)||[])[_0x4cd705(0x689)],_0x2cc396=(_0x58fad9['match'](/\\right\b/g)||[])[_0x4cd705(0x689)];if(_0x25c01c!==_0x2cc396)_0x58fad9=_0x58fad9[_0x4cd705(0x6ed)](/\\left\b/g,'')[_0x4cd705(0x6ed)](/\\right\b/g,'');return _0x58fad9=_0xf0279f(_0x58fad9),_0x58fad9;},_0x41bcd4=_0x20756c=>{const _0x734cab=_0x49ed1b;if(/\$|\\\(|\\\[/['test'](_0x20756c))return _0x20756c;if(!_0x1408f4['test'](_0x20756c))return _0x20756c;const _0x5e04c4=_0x20756c[_0x734cab(0x8a0)](/^\s*/)[0x0],_0x4d5c11=_0x20756c[_0x734cab(0x8a0)](/\s*$/)[0x0],_0x3fe874=_0x20756c[_0x734cab(0xbf)]();return _0x5e04c4+'$'+_0x1a775a(_0x3fe874)+'$'+_0x4d5c11;},_0x5c5815=_0x31338b=>_0x31338b['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x1cb75d[_0x49ed1b(0xb5)](_0xf3c76e=>{const _0xaaf260=_0x49ed1b;if(_0xf3c76e[_0xaaf260(0x7c6)]&&_0xf3c76e[_0xaaf260(0x7c6)](_0xaaf260(0x612)))return;const _0x2276ab=_0x371409(_0xf3c76e);let _0x5609bd=_0x419a55(_0x2276ab);_0x5609bd=_0x5609bd[_0xaaf260(0x6ed)](/\$\$([\s\S]*?)\$\$/g,(_0x49ef42,_0x35b217)=>'$$'+_0x1a775a(_0x35b217)+'$$')[_0xaaf260(0x6ed)](/\$([^$]*?)\$/g,(_0x3076c9,_0x23f4e8)=>'$'+_0x1a775a(_0x23f4e8)+'$')[_0xaaf260(0x6ed)](/\\\(([\s\S]*?)\\\)/g,(_0xc3e8c7,_0x4fa166)=>'\x5c('+_0x1a775a(_0x4fa166)+'\x5c)')['replace'](/\\\[([\s\S]*?)\\\]/g,(_0x4d0b29,_0x4df652)=>'\x5c['+_0x1a775a(_0x4df652)+'\x5c]');let _0x266dda=_0x5609bd,_0x57dca7=0x0;const _0x598b34=_0x440c2a=>_0x440c2a['replace'](/S([^S]{0,2000}?)S/g,(_0x1cb451,_0x595985)=>_0x1408f4['test'](_0x595985)?'$'+_0x1a775a(_0x595985)+'$':_0x1cb451);while(_0x57dca7++<0x14){const _0x48904d=_0x598b34(_0x266dda);if(_0x48904d===_0x266dda)break;_0x266dda=_0x48904d;}_0x5609bd=_0x266dda,_0x5609bd=_0x5609bd[_0xaaf260(0x5f2)]('\x0a')['map'](_0x22306a=>{const _0x3a81bc=_0xaaf260;if(!(/[,\u3001，;；]/[_0x3a81bc(0x553)](_0x22306a)||/\s(?:และ|หรือ)\s/[_0x3a81bc(0x553)](_0x22306a))||!_0x1408f4[_0x3a81bc(0x553)](_0x22306a))return _0x22306a;return _0x5c5815(_0x22306a)[_0x3a81bc(0x347)](_0x53b6d6=>{const _0x4caa08=_0x3a81bc;if(/^\s(?:และ|หรือ)\s$/[_0x4caa08(0x553)](_0x53b6d6)||/^[,\u3001，;；]$/[_0x4caa08(0x553)](_0x53b6d6))return _0x53b6d6;return _0x41bcd4(_0x53b6d6);})[_0x3a81bc(0x19b)]('');})[_0xaaf260(0x19b)]('\x0a'),_0x5609bd=_0x5609bd[_0xaaf260(0x5f2)]('\x0a')[_0xaaf260(0x347)](_0x251a38=>{const _0x440a55=_0xaaf260,_0x49b065=_0x251a38['trim']();if(!_0x49b065)return _0x251a38;const _0xe9d026=/\$|\\\(|\\\[/['test'](_0x49b065),_0x40695d=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x440a55(0x553)](_0x49b065);if(_0xe9d026||!_0x40695d||_0xaaccae(_0x49b065))return _0x251a38;return _0x251a38['replace'](_0x49b065,'$'+_0x1a775a(_0x49b065)+'$');})[_0xaaf260(0x19b)]('\x0a'),_0x5609bd=_0x5609bd[_0xaaf260(0x6ed)](/(\d+)\s*°\s*C\b/g,(_0x40a040,_0x1caf36,_0x286b39,_0x3cb6a0)=>{const _0x229e52=_0xaaf260,_0x25eb70=_0x3cb6a0[_0x286b39-0x1];if(_0x25eb70==='$'||_0x25eb70==='S'||_0x25eb70==='\x5c')return _0x40a040;return'$'+_0x1caf36+_0x229e52(0x772);})[_0xaaf260(0x6ed)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x287c17,_0x5b8105,_0x4a3d19,_0x3c3569)=>{const _0x40c1de=_0xaaf260,_0x3566fa=_0x3c3569[_0x4a3d19-0x1];if(_0x3566fa==='$'||_0x3566fa==='S'||_0x3566fa==='\x5c')return _0x287c17;return'$'+_0x5b8105+_0x40c1de(0x772);})[_0xaaf260(0x6ed)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0xc374e0,_0x51af3e,_0x146287,_0x2f850a)=>{const _0x4e8e35=_0xaaf260,_0x9f0467=_0x2f850a[_0x146287-0x1];if(_0x9f0467==='$'||_0x9f0467==='S'||_0x9f0467==='\x5c')return _0xc374e0;return'$'+_0x51af3e+_0x4e8e35(0x772);}),_0x5609bd=_0x5609bd[_0xaaf260(0x6ed)](/\$\s*\$/g,'$$'),_0x5609bd!==_0x2276ab&&(_0x1d914e(_0xf3c76e,_0x5609bd),_0x1eb640++);});if(_0x1eb640>0x0){showMessage(_0x49ed1b(0x71a)+_0x1eb640+_0x49ed1b(0x468));try{if(window[_0x49ed1b(0x864)]&&MathJax[_0x49ed1b(0x540)])MathJax['typesetPromise']();window[_0x49ed1b(0x69f)]&&typeof renderMathInElement===_0x49ed1b(0xe4)&&renderMathInElement(_0x1c20f1,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0xcca18){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x1c4d6d=_0x4bb8e3,_0x53c9a7=collection(db,_0x1c4d6d(0x898)+appId+'/public/data/customMathTopics');onSnapshot(_0x53c9a7,_0x133b78=>{const _0x3903e8=_0x1c4d6d;customMathTopics=_0x133b78[_0x3903e8(0x46b)]['map'](_0x1b87ce=>({'id':_0x1b87ce['id'],..._0x1b87ce[_0x3903e8(0xc3)]()})),renderTopicCheckboxes();},_0xeff2e=>{const _0x2c1894=_0x1c4d6d;console[_0x2c1894(0x60f)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0xeff2e);});}function handleSelectAllTopics(){const _0x446677=_0x4bb8e3,_0x12f450=document['getElementById'](_0x446677(0x7d0)),_0x2e57d7=_0x12f450['querySelectorAll']('input[type=\x22checkbox\x22]');_0x2e57d7[_0x446677(0xb5)](_0xbb6028=>{const _0x39114b=_0x446677;_0xbb6028[_0x39114b(0x8ae)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x167f22=_0x4bb8e3,_0x46a6bc=document[_0x167f22(0x85b)](_0x167f22(0x7d0)),_0x30310c=_0x46a6bc[_0x167f22(0x68b)](_0x167f22(0x58c));_0x30310c[_0x167f22(0xb5)](_0x5ca5de=>{_0x5ca5de['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x23dbf7){const _0x2585d6=_0x4bb8e3;if(!_0x23dbf7)return;try{const _0x19d266=doc(db,_0x2585d6(0x898)+appId+_0x2585d6(0x4b5),_0x23dbf7);await deleteDoc(_0x19d266),showMessage('ลบหัวข้อสำเร็จ');}catch(_0xccf404){console[_0x2585d6(0x60f)](_0x2585d6(0x2a9),_0xccf404),showMessage(_0x2585d6(0x329));}}async function handleAddCustomMathTopic(){const _0x314455=_0x4bb8e3,_0x550f83=document[_0x314455(0x85b)](_0x314455(0x253)),_0x24a954=_0x550f83['value'][_0x314455(0xbf)]();if(!_0x24a954){showMessage(_0x314455(0x660));return;}if(!userId){showMessage(_0x314455(0x734));return;}try{const _0x10e989=collection(db,_0x314455(0x898)+appId+_0x314455(0x4b5));await addDoc(_0x10e989,{'name':_0x24a954,'createdAt':serverTimestamp()}),_0x550f83[_0x314455(0x39a)]='',showMessage(_0x314455(0x814)+_0x24a954+_0x314455(0x218));}catch(_0x59646f){console['error'](_0x314455(0x445),_0x59646f),showMessage(_0x314455(0x3e3));}}async function handleUpdateOldQuizzes(){const _0x419210=_0x4bb8e3;showConfirmation(_0x419210(0x8a4),async()=>{const _0x4a3341=_0x419210,_0x178025=document['getElementById'](_0x4a3341(0x5b8)),_0x1420b8=document[_0x4a3341(0x85b)](_0x4a3341(0x4d8)),_0x4d3f95=_0x1420b8[_0x4a3341(0x7b1)];_0x178025[_0x4a3341(0x718)][_0x4a3341(0x8b0)]('hidden'),_0x1420b8['textContent']=_0x4a3341(0x578);try{const _0x1fcdce=collection(db,_0x4a3341(0x898)+appId+_0x4a3341(0x1a4)),_0xd07a75=await getDocs(_0x1fcdce);if(_0xd07a75[_0x4a3341(0x39d)]){showMessage(_0x4a3341(0x7f6));return;}const _0x4ba704=writeBatch(db);let _0x21c948=0x0;_0xd07a75[_0x4a3341(0xb5)](_0x37d114=>{const _0x573884=_0x4a3341,_0x5603a7=_0x37d114[_0x573884(0xc3)](),_0x5a3887=_0x37d114['id'];if(_0x5603a7['questions']&&_0x5603a7['questions'][_0x573884(0x689)]>0x0&&!_0x5603a7[_0x573884(0x79e)][0x0][_0x573884(0x835)]('id')){console['log'](_0x573884(0x667)+_0x5a3887+'\x20('+_0x5603a7['topic']+')'),_0x21c948++;const _0xcc8ac5=_0x5603a7[_0x573884(0x79e)][_0x573884(0x347)]((_0x2ae4c3,_0xc9ef1f)=>{const _0x27a827=_0x573884;return{..._0x2ae4c3,'id':_0x2ae4c3['id']||'q_'+Date[_0x27a827(0x7e0)]()+'_'+_0x5a3887+'_'+_0xc9ef1f};}),_0xf2acbd=doc(db,_0x573884(0x898)+appId+'/public/data/quizzes',_0x5a3887);_0x4ba704[_0x573884(0x89e)](_0xf2acbd,{'questions':_0xcc8ac5});}}),_0x21c948>0x0?(_0x1420b8[_0x4a3341(0x7b1)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x21c948+_0x4a3341(0x4bf),await _0x4ba704[_0x4a3341(0x3f8)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x21c948+_0x4a3341(0x2b1))):showMessage(_0x4a3341(0x275));}catch(_0x3bc9e5){console[_0x4a3341(0x60f)](_0x4a3341(0x4a7),_0x3bc9e5),showMessage(_0x4a3341(0x6e3)+_0x3bc9e5[_0x4a3341(0x158)]);}finally{_0x178025[_0x4a3341(0x718)][_0x4a3341(0x15f)](_0x4a3341(0x248)),_0x1420b8[_0x4a3341(0x7b1)]=_0x4d3f95;}});}async function handleBulkUpdateQuizSettings(){const _0x30d7c0=_0x4bb8e3,_0x32037c={'shuffle':document[_0x30d7c0(0x85b)]('bulk-shuffle-select')[_0x30d7c0(0x39a)],'resultsDisplay':document[_0x30d7c0(0x85b)](_0x30d7c0(0x5dd))[_0x30d7c0(0x39a)],'loopUntilPass':document[_0x30d7c0(0x85b)](_0x30d7c0(0x63f))[_0x30d7c0(0x8ae)]},_0x107c60=allQuizzesGlobal[_0x30d7c0(0x689)];showConfirmation(_0x30d7c0(0x48e)+_0x107c60+_0x30d7c0(0x76c),async()=>{const _0x2d0368=_0x30d7c0,_0x18552b=document[_0x2d0368(0x85b)](_0x2d0368(0x141));_0x18552b[_0x2d0368(0x1ea)]=!![],_0x18552b[_0x2d0368(0x76f)]=_0x2d0368(0x755);try{const _0x3d533e=writeBatch(db);allQuizzesGlobal[_0x2d0368(0xb5)](_0x220068=>{const _0x20374a=_0x2d0368,_0x338c63=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x220068['id']),_0x5b49f8={..._0x220068[_0x20374a(0x785)]||{},..._0x32037c};_0x3d533e['update'](_0x338c63,{'settings':_0x5b49f8});}),await _0x3d533e[_0x2d0368(0x3f8)](),document['getElementById']('bulk-quiz-settings-modal')['classList'][_0x2d0368(0x15f)](_0x2d0368(0x248)),showMessage(_0x2d0368(0x314)+_0x107c60+_0x2d0368(0xcb));}catch(_0xa6b568){console[_0x2d0368(0x60f)](_0x2d0368(0xc7),_0xa6b568),showMessage(_0x2d0368(0x78c));}finally{_0x18552b[_0x2d0368(0x1ea)]=![],_0x18552b[_0x2d0368(0x76f)]='ยืนยันและอัปเดตทั้งหมด';}});}async function handleSaveProjectName(){const _0x145ef0=_0x4bb8e3,_0x281e44=document[_0x145ef0(0x85b)](_0x145ef0(0x88e)),_0x5647f7=document[_0x145ef0(0x85b)]('save-project-name-btn'),_0x5ab985=_0x281e44[_0x145ef0(0x7b1)][_0x145ef0(0xbf)]();if(!_0x5ab985||!currentProjectId){showMessage(_0x145ef0(0x584)),_0x281e44['textContent']=currentProjectData[_0x145ef0(0xe9)];return;}_0x5647f7[_0x145ef0(0x1ea)]=!![],_0x5647f7[_0x145ef0(0x76f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x2c1717=doc(db,_0x145ef0(0x898)+appId+_0x145ef0(0x802),currentProjectId);await updateDoc(_0x2c1717,{'projectName':_0x5ab985}),currentProjectData&&(currentProjectData[_0x145ef0(0xe9)]=_0x5ab985),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x101376){console[_0x145ef0(0x60f)](_0x145ef0(0x41b),_0x101376),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x281e44['textContent']=currentProjectData[_0x145ef0(0xe9)];}finally{_0x5647f7['classList'][_0x145ef0(0x15f)](_0x145ef0(0x248)),_0x5647f7[_0x145ef0(0x1ea)]=![],_0x5647f7[_0x145ef0(0x76f)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}async function initialize(){const _0x22c955=_0x4bb8e3;try{const _0x2cc919=initializeApp(firebaseConfig);db=getFirestore(_0x2cc919),auth=getAuth(_0x2cc919),setupAuthListener(),setupEventListeners(),showView(_0x22c955(0x503)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x1789eb){console[_0x22c955(0x60f)](_0x22c955(0x293),_0x1789eb),showMessage(_0x22c955(0xd4));}}async function handleVerifyAnswersInEditor(){const _0x3dd46e=_0x4bb8e3,_0x247564=document[_0x3dd46e(0x85b)](_0x3dd46e(0x510));if(!_0x247564)return;const _0xf38d08=document[_0x3dd46e(0x85b)](_0x3dd46e(0x4ee));_0xf38d08[_0x3dd46e(0x1ea)]=!![],_0xf38d08[_0x3dd46e(0x76f)]=_0x3dd46e(0x817);try{const _0xad4003=_0x247564[_0x3dd46e(0x68b)](_0x3dd46e(0x505)),_0x4f31b6=Array[_0x3dd46e(0x1e2)](_0xad4003)[_0x3dd46e(0x347)]((_0x2ed1c6,_0x5c8cec)=>{const _0x402dd2=_0x3dd46e,_0x349e51=_0x2ed1c6[_0x402dd2(0x717)][_0x402dd2(0x166)],_0x3e176a=_0x2ed1c6[_0x402dd2(0x7c6)](_0x402dd2(0x2d6))[_0x402dd2(0x39a)];let _0x54a0aa=null,_0x142b13='';switch(_0x349e51){case _0x402dd2(0x75e):const _0x599c7c=_0x2ed1c6['querySelectorAll']('input[type=\x22text\x22]');_0x54a0aa=Array['from'](_0x599c7c)[_0x402dd2(0x347)](_0x509b52=>_0x509b52[_0x402dd2(0x39a)]);const _0x42aa38=_0x2ed1c6['querySelector'](_0x402dd2(0x73a));_0x42aa38&&(_0x142b13=_0x54a0aa[parseInt(_0x42aa38[_0x402dd2(0x39a)])]);break;case _0x402dd2(0x403):_0x142b13=_0x2ed1c6[_0x402dd2(0x7c6)](_0x402dd2(0x630))[_0x402dd2(0x39a)];break;case'true_false':const _0xdeb59b=_0x2ed1c6[_0x402dd2(0x7c6)](_0x402dd2(0x73a));_0x142b13=_0xdeb59b?_0xdeb59b[_0x402dd2(0x39a)]:'';break;case'matching_item':_0x142b13=_0x2ed1c6[_0x402dd2(0x7c6)](_0x402dd2(0x7cd))[_0x402dd2(0x39a)];break;}return{'question':_0x3e176a,'options':_0x54a0aa,'proposedAnswer':_0x142b13};}),_0x44c9f0=_0x3dd46e(0x20a)+JSON[_0x3dd46e(0x852)](_0x4f31b6)+_0x3dd46e(0x502),_0x1219f0={'type':'ARRAY','items':{'type':_0x3dd46e(0x67a),'properties':{'questionIndex':{'type':_0x3dd46e(0x152)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x3dd46e(0x7f1)},'suggestedAnswer':{'type':_0x3dd46e(0x7f1)}},'required':[_0x3dd46e(0x65f),'isCorrect',_0x3dd46e(0x6ab)]}},_0x9ee039=await callAnalysisApi(_0x44c9f0,{'type':'OBJECT','properties':{'result':_0x1219f0},'required':[_0x3dd46e(0x6fe)]});displayVerificationResultsInEditor(_0x9ee039[_0x3dd46e(0x6fe)]);}catch(_0x2c2b97){console[_0x3dd46e(0x60f)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x2c2b97),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0xf38d08['disabled']=![],_0xf38d08[_0x3dd46e(0x76f)]=_0x3dd46e(0x885);}}function displayVerificationResultsInEditor(_0x13ef85){const _0x164965=_0x4bb8e3;_0x13ef85[_0x164965(0xb5)](_0x3a0cfb=>{const _0x54d911=_0x164965,_0x53f56e=document['querySelector'](_0x54d911(0x365)+_0x3a0cfb[_0x54d911(0x65f)]+'\x22]');if(!_0x53f56e)return;const _0x238ba9=_0x53f56e['querySelector'](_0x54d911(0x3a1));if(_0x238ba9)_0x238ba9[_0x54d911(0x8b0)]();let _0xea03da='';if(_0x3a0cfb['isCorrect'])_0xea03da=_0x54d911(0x80d);else{const _0x5229fb=_0x3a0cfb[_0x54d911(0x763)]?_0x54d911(0x6c2):'';_0xea03da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x5229fb+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x3a0cfb[_0x54d911(0x6ab)]+_0x54d911(0x95)+(_0x3a0cfb[_0x54d911(0x763)]?_0x54d911(0x3b9)+_0x3a0cfb[_0x54d911(0x763)]+_0x54d911(0x50f):'')+_0x54d911(0x3ac);}_0x53f56e['insertAdjacentHTML']('beforeend',_0xea03da);if(!_0x3a0cfb['isCorrect']&&_0x3a0cfb[_0x54d911(0x763)]){const _0xbb5b45=_0x53f56e[_0x54d911(0x717)]['qType'],_0x2fcaa9=_0x5275e2=>{const _0x54ced0=_0x54d911;if(!_0x5275e2)return;_0x5275e2[_0x54ced0(0x718)][_0x54ced0(0x15f)]('bg-green-200','transition-all',_0x54ced0(0x400)),setTimeout(()=>{const _0x43fc03=_0x54ced0;_0x5275e2[_0x43fc03(0x718)][_0x43fc03(0x8b0)](_0x43fc03(0x27d));},0x9c4);};if(_0xbb5b45==='multiple_choice'){const _0x23f074=Array[_0x54d911(0x1e2)](_0x53f56e[_0x54d911(0x68b)]('input[type=\x22text\x22]')),_0x4a104d=_0x23f074[_0x54d911(0x6b1)](_0x2797ec=>_0x2797ec[_0x54d911(0x39a)][_0x54d911(0xbf)]()[_0x54d911(0x74e)]()===_0x3a0cfb[_0x54d911(0x763)]['trim']()[_0x54d911(0x74e)]());if(_0x4a104d!==-0x1){const _0x3ed4b6=_0x53f56e[_0x54d911(0x7c6)]('input[type=\x22radio\x22][value=\x22'+_0x4a104d+'\x22]');_0x3ed4b6&&(_0x3ed4b6[_0x54d911(0x8ae)]=!![],_0x2fcaa9(_0x3ed4b6[_0x54d911(0x8b6)](_0x54d911(0x1e9))));}}else{if(_0xbb5b45==='short_answer'||_0xbb5b45===_0x54d911(0x69e)){const _0x11c716=_0x53f56e[_0x54d911(0x7c6)](_0x54d911(0x226));_0x11c716&&(_0x11c716[_0x54d911(0x39a)]=_0x3a0cfb[_0x54d911(0x763)],_0x2fcaa9(_0x11c716));}else{if(_0xbb5b45===_0x54d911(0x2d2)){const _0x2283b8=_0x3a0cfb['suggestedAnswer'][_0x54d911(0xbf)]()['toLowerCase'](),_0x1c8400=_0x53f56e[_0x54d911(0x7c6)]('input[type=\x22radio\x22][value=\x22'+_0x2283b8+'\x22]');_0x1c8400&&(_0x1c8400[_0x54d911(0x8ae)]=!![],_0x2fcaa9(_0x1c8400['closest'](_0x54d911(0x1e9))));}}}}}),showMessage(_0x164965(0x77c));}async function handleVerifyAnswers(){const _0x1b33fa=_0x4bb8e3;if(!currentQuizData||!currentQuizData[_0x1b33fa(0x79e)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x2dcdac=document['getElementById']('verify-answers-btn');_0x2dcdac[_0x1b33fa(0x1ea)]=!![],_0x2dcdac[_0x1b33fa(0x76f)]=_0x1b33fa(0x817);try{const _0x4b0116=currentQuizData['questions'][_0x1b33fa(0x347)]((_0x475b4d,_0x460437)=>{const _0x78d631=_0x1b33fa;let _0x1433ad='';const _0x3a675e=_0x475b4d['questionType']||currentQuizData[_0x78d631(0x33b)];switch(_0x3a675e){case'multiple_choice':_0x1433ad=_0x475b4d[_0x78d631(0x498)][_0x475b4d[_0x78d631(0x136)]];break;case _0x78d631(0x403):_0x1433ad=_0x475b4d[_0x78d631(0x140)];break;case _0x78d631(0x2d2):_0x1433ad=_0x475b4d[_0x78d631(0x7d8)]['toString']();break;case _0x78d631(0x69e):_0x1433ad=_0x475b4d[_0x78d631(0x453)];break;}return{'question':_0x475b4d[_0x78d631(0x866)]||_0x475b4d[_0x78d631(0x862)],'options':_0x475b4d[_0x78d631(0x498)]||null,'proposedAnswer':_0x1433ad};}),_0xa60508='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x1b33fa(0x852)](_0x4b0116)+_0x1b33fa(0x384),_0x1d1a54={'type':_0x1b33fa(0x12f),'items':{'type':_0x1b33fa(0x67a),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x1b33fa(0x32d)},'justification':{'type':_0x1b33fa(0x7f1)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x1b33fa(0x65f),_0x1b33fa(0xdf),'justification']}},_0x459b85=await callAnalysisApi(_0xa60508,{'type':_0x1b33fa(0x67a),'properties':{'result':_0x1d1a54},'required':[_0x1b33fa(0x6fe)]});displayVerificationResults(_0x459b85[_0x1b33fa(0x6fe)]);}catch(_0x29f895){console[_0x1b33fa(0x60f)](_0x1b33fa(0x2d4),_0x29f895),showMessage(_0x1b33fa(0x496));}finally{_0x2dcdac[_0x1b33fa(0x1ea)]=![],_0x2dcdac[_0x1b33fa(0x76f)]=_0x1b33fa(0x83d);}}function displayVerificationResults(_0x263886){const _0x2de976=_0x4bb8e3;_0x263886[_0x2de976(0xb5)](_0x328e5b=>{const _0x5773f5=_0x2de976,_0x264c8c=document['querySelector'](_0x5773f5(0x22a)+_0x328e5b[_0x5773f5(0x65f)]+'\x22]');if(_0x264c8c){const _0x29de24=_0x264c8c[_0x5773f5(0x7c6)]('.verification-result');if(_0x29de24)_0x29de24[_0x5773f5(0x8b0)]();let _0x11b3aa='';_0x328e5b['isCorrect']?_0x11b3aa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x11b3aa=_0x5773f5(0x845)+_0x328e5b[_0x5773f5(0x6ab)]+_0x5773f5(0x40b)+(_0x328e5b[_0x5773f5(0x763)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x328e5b[_0x5773f5(0x763)]+_0x5773f5(0x50f):'')+_0x5773f5(0x31d),_0x264c8c['insertAdjacentHTML'](_0x5773f5(0x107),_0x11b3aa);}}),showMessage(_0x2de976(0x77c));}function compareNumericalAnswers(_0xc7a499,_0x47aa04){const _0xac51aa=_0x4bb8e3,_0x34c243=String(_0xc7a499)[_0xac51aa(0x6ed)](',','.')[_0xac51aa(0x6ed)](/[^\d.-]/g,'')[_0xac51aa(0xbf)](),_0x515255=String(_0x47aa04)['replace'](',','.')[_0xac51aa(0x6ed)](/[^\d.-]/g,'')[_0xac51aa(0xbf)]();if(_0x34c243===''||_0x515255==='')return![];const _0x44eec8=parseFloat(_0x34c243),_0x42806e=parseFloat(_0x515255);if(isNaN(_0x44eec8)||isNaN(_0x42806e))return![];return Math['abs'](_0x44eec8-_0x42806e)<0.001;}function _0x2cb1(_0x3ed4ae,_0x8026ff){const _0x23bae5=_0x23ba();return _0x2cb1=function(_0x2cb16b,_0x5bbbec){_0x2cb16b=_0x2cb16b-0x8a;let _0x447dfb=_0x23bae5[_0x2cb16b];return _0x447dfb;},_0x2cb1(_0x3ed4ae,_0x8026ff);}async function gradeShortAnswer(_0x419473,_0x2ed75c){const _0x428c3f=_0x4bb8e3,_0x326d46=_0x2ed75c[_0x428c3f(0x140)];if(String(_0x419473)['trim']()['toLowerCase']()===String(_0x326d46)[_0x428c3f(0xbf)]()[_0x428c3f(0x74e)]())return!![];if(compareNumericalAnswers(_0x419473,_0x326d46))return!![];return console[_0x428c3f(0x4c0)](_0x428c3f(0x61b)),await gradeShortAnswerWithAI(_0x419473,_0x326d46);}async function revealAnswerForAdmin(_0x2f6d75,_0x529720){const _0x504322=_0x4bb8e3,_0xd1d6a4=doc(db,_0x504322(0x898)+appId+_0x504322(0x1cd),currentLiveGameId);await updateDoc(_0xd1d6a4,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x2d00fb){const _0x49cca2=_0x4bb8e3,_0x31c718=Object[_0x49cca2(0x506)](_0x2d00fb[_0x49cca2(0x451)]||{})[_0x49cca2(0x2fe)](_0x2cc701=>_0x2cc701[_0x49cca2(0x652)]===_0x49cca2(0x3a7));_0x31c718[_0x49cca2(0x676)]((_0x4e103c,_0x50530f)=>_0x50530f[_0x49cca2(0x454)]-_0x4e103c[_0x49cca2(0x454)]);const _0x63d9b5=_0x31c718['slice'](0x0,0x5),_0x19d03a=_0x49cca2(0x73c)+_0x63d9b5['map']((_0x136d1a,_0x42ff67)=>_0x49cca2(0x650)+(_0x42ff67+0x1)+'.\x20'+(_0x136d1a[_0x49cca2(0x55b)]||Object['keys'](_0x2d00fb[_0x49cca2(0x451)])[_0x49cca2(0x687)](_0x22c969=>_0x2d00fb[_0x49cca2(0x451)][_0x22c969]===_0x136d1a))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x136d1a['score']+_0x49cca2(0x5bd))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2d00fb[_0x49cca2(0x675)]+0x1===currentQuizData[_0x49cca2(0x79e)][_0x49cca2(0x689)]?_0x49cca2(0x850):_0x49cca2(0x6aa))+_0x49cca2(0x359);liveGameView['innerHTML']=_0x19d03a,document[_0x49cca2(0x85b)](_0x49cca2(0x664))['addEventListener'](_0x49cca2(0x5a1),async()=>{const _0x28ac28=_0x49cca2,_0x3c05e2=doc(db,_0x28ac28(0x898)+appId+'/public/data/liveGames',currentLiveGameId),_0x4c270b=_0x2d00fb['currentQuestionIndex']+0x1;if(_0x4c270b<currentQuizData[_0x28ac28(0x79e)][_0x28ac28(0x689)]){const _0x3c4123={'currentQuestionIndex':_0x4c270b,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x28ac28(0xf7)};Object[_0x28ac28(0x7c2)](_0x2d00fb['players'])[_0x28ac28(0xb5)](_0x216dcf=>{const _0x55396d=_0x28ac28;_0x3c4123[_0x55396d(0x3c2)+_0x216dcf+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x3c05e2,_0x3c4123);}else await updateDoc(_0x3c05e2,{'status':_0x28ac28(0x350)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x450bc2=>{const _0x516dd9=_0x2cb1;if(_0x450bc2){userId=_0x450bc2[_0x516dd9(0x7fc)],userIdDisplay['textContent']=userId;const _0x31d908=await loadUserPreferences();_0x31d908[_0x516dd9(0x296)]&&(document['getElementById'](_0x516dd9(0x6af))['value']=_0x31d908['projectSortOrder']);globalDashboardSettings['projectView']=_0x31d908[_0x516dd9(0x28e)]||_0x516dd9(0x1fa);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x19dc7c,_0x507e24){const _0x14e342=_0x4bb8e3;if(!userId)return;try{const _0x565d9b=doc(db,'artifacts/'+appId+_0x14e342(0x1f8)+userId+_0x14e342(0x5e7)),_0xf194bc={};_0xf194bc[_0x19dc7c]=_0x507e24,await setDoc(_0x565d9b,_0xf194bc,{'merge':!![]});}catch(_0x337800){console[_0x14e342(0x60f)](_0x14e342(0xaf),_0x337800);}}async function loadUserPreferences(){const _0x202d01=_0x4bb8e3;if(!userId)return{};try{const _0x1394fd=doc(db,_0x202d01(0x898)+appId+'/users/'+userId+'/preferences/main'),_0x5a5329=await getDoc(_0x1394fd);if(_0x5a5329['exists']())return _0x5a5329[_0x202d01(0xc3)]();return{};}catch(_0x368ad8){return console[_0x202d01(0x60f)](_0x202d01(0x3ba),_0x368ad8),{};}}function showPodiumView(_0x5dae09){const _0x4e0454=_0x4bb8e3,_0x27f177=Object[_0x4e0454(0x244)](_0x5dae09)[_0x4e0454(0x347)](([_0x2d70a9,_0x37300a])=>({'name':_0x2d70a9,'score':_0x37300a[_0x4e0454(0x454)]||0x0,'badges':_0x37300a[_0x4e0454(0x7fb)]||[]}));_0x27f177[_0x4e0454(0x676)]((_0x211c83,_0x1af5e)=>{const _0x3abebd=_0x4e0454,_0x115f5a=_0x1af5e[_0x3abebd(0x454)]-_0x211c83[_0x3abebd(0x454)];if(_0x115f5a!==0x0)return _0x115f5a;return(_0x1af5e[_0x3abebd(0x7fb)]['length']||0x0)-(_0x211c83['badges']['length']||0x0);});const _0x285652=_0x470f15=>{const _0x3ebf16=_0x4e0454;if(!_0x470f15||_0x470f15[_0x3ebf16(0x689)]===0x0)return'';const _0x111633={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x470f15[_0x3ebf16(0x347)](_0x34dd81=>_0x111633[_0x34dd81]||'')[_0x3ebf16(0x19b)]('')+_0x3ebf16(0x277);},_0x107102=_0x27f177[_0x4e0454(0x50c)](0x3),_0x11aa0e=_0x107102[_0x4e0454(0x689)]>0x0?_0x4e0454(0x1d9)+_0x107102['map']((_0x35e1f9,_0x5c16b7)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x5c16b7+0x4)+_0x4e0454(0x571)+_0x35e1f9[_0x4e0454(0x55b)]+_0x4e0454(0x414)+_0x35e1f9[_0x4e0454(0x454)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x2ba840=_0x4e0454(0x147)+(_0x27f177[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x27f177[0x1][_0x4e0454(0x55b)]+_0x4e0454(0x95)+_0x285652(_0x27f177[0x1][_0x4e0454(0x7fb)])+_0x4e0454(0x162)+_0x27f177[0x1]['score']+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4e0454(0x61c))+_0x4e0454(0x2e7)+(_0x27f177[0x0]?_0x4e0454(0x7f7)+_0x27f177[0x0][_0x4e0454(0x55b)]+_0x4e0454(0x95)+_0x285652(_0x27f177[0x0][_0x4e0454(0x7fb)])+_0x4e0454(0x2f1)+_0x27f177[0x0][_0x4e0454(0x454)]+_0x4e0454(0x5d5):_0x4e0454(0x61c))+_0x4e0454(0x2e7)+(_0x27f177[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x27f177[0x2][_0x4e0454(0x55b)]+_0x4e0454(0x95)+_0x285652(_0x27f177[0x2][_0x4e0454(0x7fb)])+_0x4e0454(0x162)+_0x27f177[0x2]['score']+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x4e0454(0x61c))+_0x4e0454(0x1ec)+_0x11aa0e+'\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin'?_0x4e0454(0x824):_0x4e0454(0x873))+_0x4e0454(0x4b9);liveGameView[_0x4e0454(0x76f)]=_0x2ba840,currentMode===_0x4e0454(0x527)&&document[_0x4e0454(0x85b)](_0x4e0454(0x21c))[_0x4e0454(0x838)](_0x4e0454(0x5a1),async()=>{const _0x483e4d=_0x4e0454,_0x112bcb=doc(db,_0x483e4d(0x898)+appId+_0x483e4d(0x1cd),currentLiveGameId);await deleteDoc(_0x112bcb),showView('admin-dashboard');});}async function handleStartLiveRace(_0x42b24a){const _0x14e28f=_0x4bb8e3;let _0x46887f=allQuizzes['find'](_0x3e9ee4=>_0x3e9ee4['id']===_0x42b24a);if(!_0x46887f){const _0x361955=doc(db,_0x14e28f(0x898)+appId+_0x14e28f(0x1a4),_0x42b24a),_0x31581f=await getDoc(_0x361955);if(!_0x31581f[_0x14e28f(0x1db)]()){showMessage(_0x14e28f(0x24c));return;}_0x46887f={'id':_0x31581f['id'],..._0x31581f[_0x14e28f(0xc3)]()};}const _0x363870=getShuffledQuiz(_0x46887f);currentQuizData=_0x363870;const _0x466a0f=_0x46887f[_0x14e28f(0x598)]||currentProjectId||null,_0x52a22e=Math[_0x14e28f(0x883)](0x3e8+Math[_0x14e28f(0x38c)]()*0x2328)['toString']();currentLiveGamePin=_0x52a22e;try{const _0xe41f6a=await addDoc(collection(db,_0x14e28f(0x898)+appId+'/public/data/liveGames'),{'quizId':_0x42b24a,'projectId':_0x466a0f,'status':_0x14e28f(0x26c),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x52a22e,'createdAt':serverTimestamp(),'shuffledQuiz':_0x363870});currentLiveGameId=_0xe41f6a['id'],showAdminLobbyView(_0x52a22e,_0x46887f[_0x14e28f(0x2cd)]),listenForLiveGameUpdates();}catch(_0x4da5b0){console[_0x14e28f(0x60f)](_0x14e28f(0x324),_0x4da5b0),showMessage(_0x14e28f(0x3e6));}}async function handleShowStudentRankings(){const _0x574451=_0x4bb8e3,_0x3a11a4=document[_0x574451(0x7c6)]('#student-quiz-leaderboard-content\x20thead');_0x3a11a4&&(_0x3a11a4[_0x574451(0x76f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x5c179b=document[_0x574451(0x7c6)](_0x574451(0x312));_0x5c179b&&(_0x5c179b[_0x574451(0x76f)]=_0x574451(0x116));const _0x32b956=document[_0x574451(0x85b)](_0x574451(0x360));_0x32b956[_0x574451(0x718)][_0x574451(0x8b0)](_0x574451(0x248)),document[_0x574451(0x85b)](_0x574451(0x139))['onclick']=()=>_0x32b956[_0x574451(0x718)][_0x574451(0x15f)](_0x574451(0x248));const _0x18938b=document[_0x574451(0x85b)](_0x574451(0x173)),_0x4e5b6e=document[_0x574451(0x85b)]('student-project-leaderboard-tab'),_0x33151f=document[_0x574451(0x85b)](_0x574451(0x15e)),_0x46c57f=document[_0x574451(0x85b)](_0x574451(0x686));_0x18938b['onclick']=()=>{const _0x86d8ca=_0x574451;_0x18938b['classList'][_0x86d8ca(0x15f)](_0x86d8ca(0x3a7)),_0x4e5b6e[_0x86d8ca(0x718)][_0x86d8ca(0x8b0)](_0x86d8ca(0x3a7)),_0x33151f['classList'][_0x86d8ca(0x8b0)](_0x86d8ca(0x248)),_0x46c57f['classList'][_0x86d8ca(0x15f)](_0x86d8ca(0x248));},_0x4e5b6e['onclick']=()=>{const _0x5f2e2c=_0x574451;_0x4e5b6e[_0x5f2e2c(0x718)][_0x5f2e2c(0x15f)](_0x5f2e2c(0x3a7)),_0x18938b[_0x5f2e2c(0x718)][_0x5f2e2c(0x8b0)]('active'),_0x46c57f[_0x5f2e2c(0x718)][_0x5f2e2c(0x8b0)](_0x5f2e2c(0x248)),_0x33151f[_0x5f2e2c(0x718)][_0x5f2e2c(0x15f)](_0x5f2e2c(0x248));};try{const _0x92fea2=collection(db,_0x574451(0x898)+appId+_0x574451(0x9f)+currentQuizData['id']+_0x574451(0x84d)),_0x152024=await getDocs(_0x92fea2),_0x364426=_0x152024[_0x574451(0x46b)][_0x574451(0x347)](_0x264e3e=>_0x264e3e['data']());renderQuizLeaderboard(_0x364426,currentQuizData,_0x574451(0x4a9));const _0x1e78a8=collection(db,_0x574451(0x898)+appId+'/public/data/projects/'+currentQuizData[_0x574451(0x598)]+_0x574451(0x477)),_0x39931d=await getDocs(_0x1e78a8),_0x3b1e2a=_0x39931d[_0x574451(0x46b)][_0x574451(0x347)](_0xee3bad=>_0xee3bad['data']());renderLeaderboard(_0x3b1e2a,'student-project-leaderboard-table-body');}catch(_0x1da58d){console['error'](_0x574451(0x5ee),_0x1da58d),showMessage(_0x574451(0x41d));}}async function handleSaveToBank(_0x1244c2){const _0x500eb5=_0x4bb8e3,_0x1749ac=_0x1244c2[_0x500eb5(0x512)],_0x39e0a9=_0x1749ac[_0x500eb5(0x717)][_0x500eb5(0x3ae)],_0x40a394=currentQuizData[_0x500eb5(0x79e)][_0x39e0a9];if(!userId){showMessage(_0x500eb5(0x99));return;}try{const _0x4544d3={..._0x40a394,'originalTopic':currentQuizData[_0x500eb5(0x2cd)],'savedAt':serverTimestamp()},_0x18715e=collection(db,_0x500eb5(0x898)+appId+_0x500eb5(0x1f8)+userId+'/questionBank');await addDoc(_0x18715e,_0x4544d3),showMessage(_0x500eb5(0x4ce)),_0x1749ac[_0x500eb5(0x718)][_0x500eb5(0x8b0)](_0x500eb5(0x2a2)),_0x1749ac['classList'][_0x500eb5(0x15f)](_0x500eb5(0x7a1)),_0x1749ac[_0x500eb5(0x1ea)]=!![];}catch(_0x42269e){console[_0x500eb5(0x60f)]('Error\x20saving\x20to\x20question\x20bank:',_0x42269e),showMessage(_0x500eb5(0x238));}}function listenForStarredQuizzes(){const _0x294d67=_0x4bb8e3;if(!userId)return;const _0x3f1c75=collection(db,_0x294d67(0x898)+appId+_0x294d67(0x1a4)),_0x18d89d=query(_0x3f1c75,where(_0x294d67(0x283),'==',!![]));onSnapshot(_0x18d89d,_0x813fdc=>{const _0x261544=_0x294d67;starredQuizzes=_0x813fdc[_0x261544(0x46b)][_0x261544(0x347)](_0x55719b=>({'id':_0x55719b['id'],..._0x55719b[_0x261544(0xc3)]()})),currentProjectId===_0x261544(0x13d)?renderQuizzes():renderProjects();},_0x244f48=>{const _0x4f9f57=_0x294d67;console[_0x4f9f57(0x60f)](_0x4f9f57(0x638),_0x244f48);});}function exportQuizAsWorksheetPDF(){const _0x2225ee=_0x4bb8e3;if(!currentQuizData||!currentQuizData[_0x2225ee(0x79e)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x4c48b2=currentQuizData,_0x1d5ca4=window[_0x2225ee(0x2a1)]('','_blank'),_0x8d26bd=_0x43dc41=>String[_0x2225ee(0x75b)](0x41+_0x43dc41),_0x2f2c86=_0x2225ee(0x70a)+_0x4c48b2['topic']+_0x2225ee(0x146)+_0x4c48b2[_0x2225ee(0x2cd)]+_0x2225ee(0x5dc)+_0x4c48b2[_0x2225ee(0x79e)][_0x2225ee(0x347)]((_0x51ada6,_0x5e467c)=>{const _0x30a1eb=_0x2225ee;let _0x2a27a3='';const _0x29194e=_0x51ada6[_0x30a1eb(0x7a7)]||_0x4c48b2[_0x30a1eb(0x33b)];switch(_0x29194e){case _0x30a1eb(0x75e):case _0x30a1eb(0x44d):_0x2a27a3='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x51ada6[_0x30a1eb(0x498)][_0x30a1eb(0x347)]((_0x4d4c1b,_0x579aa2)=>_0x30a1eb(0x3a2)+_0x8d26bd(_0x579aa2)+'.\x20'+_0x4d4c1b+_0x30a1eb(0x7ee))[_0x30a1eb(0x19b)](_0x30a1eb(0x121))+_0x30a1eb(0x277);break;case _0x30a1eb(0x2d2):_0x2a27a3='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x2a27a3=_0x30a1eb(0x460);break;}return _0x30a1eb(0x249)+(_0x5e467c+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x51ada6[_0x30a1eb(0x866)]||_0x51ada6[_0x30a1eb(0x862)])+_0x30a1eb(0x318)+(_0x51ada6[_0x30a1eb(0xc1)]?_0x30a1eb(0x727)+_0x51ada6[_0x30a1eb(0xc1)]+_0x30a1eb(0x277):'')+_0x30a1eb(0x6d4)+_0x2a27a3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2225ee(0x19b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1d5ca4[_0x2225ee(0xa8)][_0x2225ee(0x25c)](_0x2f2c86),_0x1d5ca4['document'][_0x2225ee(0x1d4)](),_0x1d5ca4[_0x2225ee(0x422)]=function(){setTimeout(()=>{const _0x6b7ea2=_0x2cb1;_0x1d5ca4[_0x6b7ea2(0x688)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x2f1592=_0x4bb8e3;if(!currentQuizData||!currentQuizData[_0x2f1592(0x79e)]){showMessage(_0x2f1592(0x1a7));return;}const _0x3d1310=currentQuizData,_0x59d3da=window[_0x2f1592(0x2a1)]('',_0x2f1592(0x17c)),_0x463e6a=_0x34e634=>String[_0x2f1592(0x75b)](0x41+_0x34e634),_0x32b963=_0x2f1592(0x5ef)+_0x3d1310[_0x2f1592(0x2cd)]+_0x2f1592(0x310)+_0x3d1310[_0x2f1592(0x79e)][_0x2f1592(0x347)]((_0x16376b,_0x40924a)=>{const _0x1ea461=_0x2f1592;let _0x2690bb='';const _0x3e93c3=_0x16376b[_0x1ea461(0x7a7)]||_0x3d1310[_0x1ea461(0x33b)];switch(_0x3e93c3){case _0x1ea461(0x75e):case _0x1ea461(0x44d):_0x2690bb='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x16376b[_0x1ea461(0x498)][_0x1ea461(0x347)]((_0x22121f,_0x49e4e5)=>_0x1ea461(0x353)+_0x463e6a(_0x49e4e5)+'.\x20'+_0x22121f+'</span>')['join']('<br>')+_0x1ea461(0x3ac);break;case _0x1ea461(0x2d2):_0x2690bb=_0x1ea461(0x12a);break;default:_0x2690bb='';break;}return _0x1ea461(0x3d8)+_0x3d1310[_0x1ea461(0x2cd)]+_0x1ea461(0x108)+(_0x40924a+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x16376b[_0x1ea461(0x866)]||_0x16376b[_0x1ea461(0x862)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x16376b[_0x1ea461(0xc1)]?_0x1ea461(0x6a0)+_0x16376b[_0x1ea461(0xc1)]+_0x1ea461(0x277):'')+_0x1ea461(0x6d4)+_0x2690bb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2f1592(0x19b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x59d3da[_0x2f1592(0xa8)][_0x2f1592(0x25c)](_0x32b963),_0x59d3da[_0x2f1592(0xa8)][_0x2f1592(0x1d4)](),_0x59d3da[_0x2f1592(0x422)]=function(){setTimeout(()=>{const _0x5e56f9=_0x2cb1;_0x59d3da[_0x5e56f9(0x688)]();},0x5dc);};}async function handleToggleStarQuiz(_0x3f8274){const _0x481c06=_0x4bb8e3,_0xe08f03=doc(db,_0x481c06(0x898)+appId+'/public/data/quizzes',_0x3f8274);try{const _0x5c6b48=await getDoc(_0xe08f03);if(_0x5c6b48[_0x481c06(0x1db)]()){const _0x488833=_0x5c6b48[_0x481c06(0xc3)]()['isStarred']||![];await updateDoc(_0xe08f03,{'isStarred':!_0x488833});}}catch(_0x2fbb0c){console[_0x481c06(0x60f)](_0x481c06(0x501),_0x2fbb0c),showMessage(_0x481c06(0xf5));}}async function displayQuestionBank(){const _0x485ecb=_0x4bb8e3,_0x22ff24=document[_0x485ecb(0x85b)](_0x485ecb(0x88f));_0x22ff24[_0x485ecb(0x76f)]=_0x485ecb(0x3fb);try{const _0x2ef9ea=collection(db,'artifacts/'+appId+'/users/'+userId+_0x485ecb(0x7dc)),_0x3f908e=query(_0x2ef9ea),_0x17ab45=await getDocs(_0x3f908e);if(_0x17ab45[_0x485ecb(0x39d)]){_0x22ff24[_0x485ecb(0x76f)]=_0x485ecb(0x75a);return;}let _0x4235c8=_0x17ab45['docs']['map'](_0xf44758=>{const _0x2a6f1b=_0x485ecb,_0x36fd73=_0xf44758['data'](),_0x33e0f3=_0xf44758['id'];return _0x2a6f1b(0xa5)+JSON[_0x2a6f1b(0x852)](_0x36fd73)+_0x2a6f1b(0x515)+(_0x36fd73[_0x2a6f1b(0x862)]||_0x36fd73[_0x2a6f1b(0x866)])+_0x2a6f1b(0x39e)+_0x36fd73['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x485ecb(0x19b)]('');_0x22ff24[_0x485ecb(0x76f)]=_0x485ecb(0xff)+_0x4235c8+_0x485ecb(0x568),document[_0x485ecb(0x85b)](_0x485ecb(0x6a8))[_0x485ecb(0x838)](_0x485ecb(0x5a1),createQuizFromBank);}catch(_0xe60c25){console[_0x485ecb(0x60f)](_0x485ecb(0x8ad),_0xe60c25),_0x22ff24[_0x485ecb(0x76f)]=_0x485ecb(0x494);}}function showAdminLiveQuestionView(_0x40ce71,_0x2ba7b8,_0x357c61){const _0x110152=_0x4bb8e3,_0xadc25b=_0x40ce71[_0x110152(0x7a7)]||currentQuizData[_0x110152(0x33b)];let _0xf26ed8='';if(_0xadc25b===_0x110152(0x75e)||_0xadc25b==='true_false'){const _0x5c7768=_0xadc25b==='true_false'?[_0x110152(0x657),'ไม่ใช่']:_0x40ce71['options'],_0x4c346f=_0xadc25b===_0x110152(0x2d2)?_0x40ce71['correctAnswer']?0x0:0x1:_0x40ce71['correctAnswerIndex'];_0xf26ed8=_0x5c7768[_0x110152(0x347)]((_0x3a78ce,_0x585161)=>_0x110152(0x1d5)+(_0x585161===_0x4c346f)+_0x110152(0x364)+_0x3a78ce+_0x110152(0x636))[_0x110152(0x19b)]('');}else{if(_0xadc25b===_0x110152(0x69e)){const _0x18fd2c=_0x40ce71['allResponses']||[];_0xf26ed8=_0x18fd2c['map'](_0x4460bc=>_0x110152(0x1d5)+(_0x4460bc===_0x40ce71['correctResponse'])+_0x110152(0x364)+_0x4460bc+_0x110152(0x636))[_0x110152(0x19b)]('');}}const _0x507bcb=_0x40ce71['stem']||_0x40ce71['questionText'],_0x40aa94=_0x110152(0x2ef)+(_0x2ba7b8+0x1)+_0x110152(0x3cb)+_0x357c61+_0x110152(0x11e)+currentLiveGamePin+_0x110152(0x47c)+_0x507bcb+_0x110152(0x103)+_0xf26ed8+_0x110152(0x3d6);liveGameView[_0x110152(0x76f)]=_0x40aa94,window[_0x110152(0x864)]&&MathJax[_0x110152(0x540)]&&MathJax['typesetPromise']([liveGameView]),document[_0x110152(0x85b)]('reveal-answer-btn')[_0x110152(0x838)](_0x110152(0x5a1),()=>revealAnswerForAdmin(_0x2ba7b8,_0x357c61)),document[_0x110152(0x85b)]('end-game-btn')[_0x110152(0x838)](_0x110152(0x5a1),async()=>{const _0x1475e9=_0x110152;showConfirmation(_0x1475e9(0x35e),async()=>{const _0x266e19=_0x1475e9,_0x11b0ef=doc(db,_0x266e19(0x898)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x11b0ef,{'status':'podium'});});}),document['getElementById']('manage-players-btn')[_0x110152(0x838)](_0x110152(0x5a1),()=>{const _0x1962c7=_0x110152;document[_0x1962c7(0x85b)](_0x1962c7(0x2fc))[_0x1962c7(0x718)][_0x1962c7(0x4bc)]('hidden');});}function showStudentLiveQuestionView(_0x30b2d9,_0x15462b,_0x40324f){const _0x595cb7=_0x4bb8e3,_0x18434e=_0x30b2d9[_0x595cb7(0x7a7)]||currentQuizData[_0x595cb7(0x33b)];let _0x318bc3='';if(_0x18434e===_0x595cb7(0x75e)||_0x18434e==='true_false'){const _0xb55b5d=_0x18434e==='true_false'?[_0x595cb7(0x657),_0x595cb7(0x7a2)]:_0x30b2d9[_0x595cb7(0x498)];_0x318bc3=_0xb55b5d['map']((_0x136689,_0x4be5b0)=>_0x595cb7(0x5d3)+_0x4be5b0+_0x595cb7(0x2bf)+_0x136689+_0x595cb7(0x29a))[_0x595cb7(0x19b)]('');}else{if(_0x18434e===_0x595cb7(0x69e)){const _0x465ab4=_0x30b2d9[_0x595cb7(0xe8)]||[];_0x318bc3=_0x465ab4[_0x595cb7(0x347)]((_0x1467be,_0x174c71)=>_0x595cb7(0x5d3)+_0x174c71+_0x595cb7(0x2bf)+_0x1467be+_0x595cb7(0x29a))['join']('');}else _0x18434e==='short_answer'&&(_0x318bc3=_0x595cb7(0x9a));}const _0x12b33d=_0x30b2d9[_0x595cb7(0x866)]||_0x30b2d9[_0x595cb7(0x862)],_0x8aeb08='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x15462b+0x1)+_0x595cb7(0x3cb)+_0x40324f+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x12b33d+_0x595cb7(0x6d5)+_0x318bc3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x595cb7(0x76f)]=_0x8aeb08;window[_0x595cb7(0x864)]&&MathJax['typesetPromise']&&MathJax[_0x595cb7(0x540)]([liveGameView]);const _0x129a6=document['getElementById'](_0x595cb7(0x145));_0x129a6&&_0x129a6[_0x595cb7(0x838)](_0x595cb7(0x5a1),()=>{const _0x3279fd=_0x595cb7,_0x5050f8=document[_0x3279fd(0x85b)](_0x3279fd(0x2ec))[_0x3279fd(0x39a)];handleLiveAnswer(_0x5050f8,_0x30b2d9);}),document[_0x595cb7(0x85b)](_0x595cb7(0x633))['addEventListener'](_0x595cb7(0x5a1),_0x13b0c8=>{const _0x89710a=_0x595cb7,_0x657d24=_0x13b0c8[_0x89710a(0x101)]['closest'](_0x89710a(0x217));if(_0x657d24){const _0x46565f=parseInt(_0x657d24[_0x89710a(0x717)][_0x89710a(0x3ae)]);handleLiveAnswer(_0x46565f,_0x30b2d9);}});}async function handleLiveAnswer(_0x15ffd4,_0x3cbc0f){const _0x502dba=_0x4bb8e3;document['querySelectorAll'](_0x502dba(0x104))[_0x502dba(0xb5)](_0x521db2=>_0x521db2[_0x502dba(0x1ea)]=!![]);const _0x2078ae=_0x3cbc0f['questionType']||currentQuizData[_0x502dba(0x33b)];let _0x14a8fa=![],_0x149b62=_0x15ffd4;if(_0x2078ae===_0x502dba(0x403)){const _0x17f1b0=(_0x15ffd4||'')[_0x502dba(0xa9)]();_0x14a8fa=await gradeShortAnswer(_0x17f1b0,_0x3cbc0f);}else{if(_0x2078ae===_0x502dba(0x75e))_0x14a8fa=_0x15ffd4===_0x3cbc0f['correctAnswerIndex'];else{if(_0x2078ae==='true_false'){const _0x57d5e7=_0x3cbc0f[_0x502dba(0x7d8)];_0x14a8fa=_0x15ffd4===0x0&&_0x57d5e7||_0x15ffd4===0x1&&!_0x57d5e7;}else{if(_0x2078ae===_0x502dba(0x69e)){const _0x2d7ce3=_0x3cbc0f[_0x502dba(0xe8)][_0x15ffd4];_0x14a8fa=_0x2d7ce3===_0x3cbc0f[_0x502dba(0x453)],_0x149b62=_0x2d7ce3;}}}}const _0x50e3a7=doc(db,'artifacts/'+appId+_0x502dba(0x1cd),currentLiveGameId),_0x378d51={};_0x378d51[_0x502dba(0x3c2)+currentStudentName+_0x502dba(0x135)]=!![],_0x378d51[_0x502dba(0x3c2)+currentStudentName+_0x502dba(0x7cb)]=_0x14a8fa,_0x378d51[_0x502dba(0x3c2)+currentStudentName+_0x502dba(0x2f3)]=_0x2078ae===_0x502dba(0x403)||_0x2078ae===_0x502dba(0x69e)?null:_0x15ffd4,_0x378d51['players.'+currentStudentName+_0x502dba(0x204)]=_0x149b62,_0x378d51['players.'+currentStudentName+_0x502dba(0x11d)]=serverTimestamp(),_0x378d51[_0x502dba(0x3c2)+currentStudentName+_0x502dba(0x4ff)]=![],await updateDoc(_0x50e3a7,_0x378d51),liveGameView[_0x502dba(0x76f)]=_0x502dba(0x565);}function showAdminSummaryView(_0x10ba02,_0x5c9b95){const _0x57dc99=_0x4bb8e3,_0x36e3a2=Object[_0x57dc99(0x506)](_0x10ba02[_0x57dc99(0x451)]||{}),_0x52ad07=_0x5c9b95[_0x57dc99(0x7a7)]||currentQuizData[_0x57dc99(0x33b)],_0x63e2d2=_0x52ad07===_0x57dc99(0x2d2)?['ใช่',_0x57dc99(0x7a2)]:_0x5c9b95['options']||_0x5c9b95[_0x57dc99(0xe8)]||[],_0x24ca5c={},_0x1bebd5=new Array(_0x63e2d2[_0x57dc99(0x689)])[_0x57dc99(0x79c)](0x0);_0x63e2d2[_0x57dc99(0xb5)]((_0x4e234a,_0x4fb25c)=>{_0x24ca5c[_0x4fb25c]=[];}),Object[_0x57dc99(0x244)](_0x10ba02['players']||{})[_0x57dc99(0xb5)](([_0x264d9c,_0x3deb31])=>{const _0x28e77a=_0x57dc99;if(_0x3deb31[_0x28e77a(0x652)]==='active'&&_0x3deb31[_0x28e77a(0x370)]!==undefined){const _0x22e422=_0x3deb31[_0x28e77a(0x370)];_0x24ca5c[_0x22e422]&&(_0x24ca5c[_0x22e422][_0x28e77a(0x137)](_0x264d9c),_0x1bebd5[_0x22e422]++);}});const _0x1520b4=Math[_0x57dc99(0x790)](..._0x1bebd5,0x1),_0x413626=_0x57dc99(0x65b)+(_0x5c9b95[_0x57dc99(0x866)]||_0x5c9b95['questionText'])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1bebd5[_0x57dc99(0x347)]((_0x5c029d,_0x25c1b0)=>{const _0x3191ee=_0x57dc99,_0x202e61=_0x24ca5c[_0x25c1b0][_0x3191ee(0x689)]>0x0?_0x24ca5c[_0x25c1b0][_0x3191ee(0x19b)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x2fea58=![];if(_0x52ad07==='multiple_choice')_0x2fea58=_0x25c1b0===_0x5c9b95[_0x3191ee(0x136)];else{if(_0x52ad07===_0x3191ee(0x2d2)){const _0x5b5aa1=_0x5c9b95[_0x3191ee(0x7d8)];_0x2fea58=_0x5b5aa1&&_0x25c1b0===0x0||!_0x5b5aa1&&_0x25c1b0===0x1;}else _0x52ad07===_0x3191ee(0x69e)&&(_0x2fea58=_0x63e2d2[_0x25c1b0]===_0x5c9b95[_0x3191ee(0x453)]);}const _0x53f661=_0x2fea58?_0x3191ee(0x4e7):_0x3191ee(0x5ad);return _0x3191ee(0x6c6)+_0x5c029d+_0x3191ee(0x2f8)+_0x53f661+_0x3191ee(0x252)+_0x25c1b0+_0x3191ee(0x1d8)+_0x63e2d2[_0x25c1b0]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x25c1b0+_0x3191ee(0x67d)+_0x202e61+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x57dc99(0x19b)]('')+_0x57dc99(0x230);liveGameView['innerHTML']=_0x413626;if(window[_0x57dc99(0x864)])MathJax[_0x57dc99(0x540)]();document[_0x57dc99(0x85b)](_0x57dc99(0xd2))[_0x57dc99(0x838)](_0x57dc99(0x5a1),async()=>{const _0x4e7d94=_0x57dc99,_0x46d554=doc(db,'artifacts/'+appId+_0x4e7d94(0x1cd),currentLiveGameId);await updateDoc(_0x46d554,{'questionStatus':_0x4e7d94(0x700)});}),document[_0x57dc99(0x85b)](_0x57dc99(0x22d))['addEventListener'](_0x57dc99(0x5a1),()=>{openScratchpad(_0x5c9b95,_0x63e2d2);});}function showPlayerSummaryView(_0x44a0bb,_0x30a0f6){const _0x2c750e=_0x4bb8e3,_0x5a8fc1=Object[_0x2c750e(0x506)](_0x44a0bb[_0x2c750e(0x451)]||{}),_0x2ef1e1=_0x44a0bb[_0x2c750e(0x451)][_0x30a0f6],_0xf69564=_0x5a8fc1[_0x2c750e(0x2fe)](_0x2f995a=>_0x2f995a['status']===_0x2c750e(0x3a7))[_0x2c750e(0x676)]((_0x572393,_0x128a7d)=>_0x128a7d[_0x2c750e(0x454)]-_0x572393['score']),_0x532760=_0xf69564[_0x2c750e(0x6b1)](_0x1a4acd=>_0x1a4acd===_0x2ef1e1)+0x1,_0x369702=_0x2ef1e1[_0x2c750e(0x10e)]?'ถูกต้อง!':_0x2c750e(0x697),_0x42dee9=_0x2ef1e1[_0x2c750e(0x10e)]?_0x2c750e(0x7da):_0x2c750e(0x851),_0x12814c=_0x2ef1e1['pointsLastQuestion']||0x0,_0xff4555=_0x2c750e(0x3b2),_0x412d68='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0xff4555+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x42dee9+_0x2c750e(0x57b)+_0x369702+_0x2c750e(0x6ee)+_0x12814c+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x532760>0x0?_0x532760:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x412d68;}function createQuizFromBank(){const _0x5ddcdb=_0x4bb8e3,_0x3af532=document['querySelectorAll'](_0x5ddcdb(0x826));if(_0x3af532[_0x5ddcdb(0x689)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x3759c9=[];_0x3af532[_0x5ddcdb(0xb5)](_0x37e069=>{const _0x38766c=_0x5ddcdb;_0x3759c9[_0x38766c(0x137)](JSON[_0x38766c(0x4a5)](_0x37e069[_0x38766c(0x39a)]));});const _0x462db3={'topic':_0x5ddcdb(0x6b6),'questions':_0x3759c9};displayGeneratedQuiz(_0x462db3);}function showAdminLobbyView(_0x4552ec,_0x40e86f){const _0x2b8dda=_0x4bb8e3;showView('live-game');const _0x152fd1=_0x2b8dda(0x6e8)+_0x40e86f+_0x2b8dda(0x639)+_0x4552ec+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x152fd1,document[_0x2b8dda(0x85b)](_0x2b8dda(0x234))[_0x2b8dda(0x838)](_0x2b8dda(0x5a1),async()=>{const _0x11b128=_0x2b8dda;if(!currentQuizData||!currentQuizData[_0x11b128(0x79e)]||currentQuizData[_0x11b128(0x79e)]['length']===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x4b1901=doc(db,_0x11b128(0x898)+appId+_0x11b128(0x1cd),currentLiveGameId);await updateDoc(_0x4b1901,{'status':_0x11b128(0x815),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x124041=currentQuizData[_0x11b128(0x79e)][0x0],_0x29bc36=currentQuizData[_0x11b128(0x79e)]['length'];showAdminLiveQuestionView(_0x124041,0x0,_0x29bc36);}catch(_0x71fc86){console[_0x11b128(0x60f)](_0x11b128(0x56c),_0x71fc86),showMessage(_0x11b128(0x2f4));}});}async function openGlobalLiveModal(){const _0x2fba8b=_0x4bb8e3;if(allQuizzesGlobal[_0x2fba8b(0x689)]===0x0){const _0x585e5c=await getDocs(collection(db,_0x2fba8b(0x898)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x585e5c[_0x2fba8b(0x46b)][_0x2fba8b(0x347)](_0x4e79a9=>({'id':_0x4e79a9['id'],..._0x4e79a9['data']()}));}renderGlobalQuizList(''),document[_0x2fba8b(0x85b)]('global-live-game-modal')['classList'][_0x2fba8b(0x8b0)]('hidden');}async function openQuizBankModal(){const _0x27531c=_0x4bb8e3;if(allQuizzesGlobal['length']===0x0){const _0x319511=await getDocs(collection(db,_0x27531c(0x898)+appId+_0x27531c(0x1a4)));allQuizzesGlobal=_0x319511['docs']['map'](_0x316e7d=>({'id':_0x316e7d['id'],..._0x316e7d[_0x27531c(0xc3)]()}));}renderQuizBankList(''),document[_0x27531c(0x85b)]('quiz-bank-modal')[_0x27531c(0x718)]['remove'](_0x27531c(0x248));}function renderQuizBankList(_0x4bdb24=''){const _0x3d24f6=_0x4bb8e3,_0x553a7d=document[_0x3d24f6(0x85b)](_0x3d24f6(0x3cf)),_0x5905ac=_0x4bdb24[_0x3d24f6(0x74e)]()[_0x3d24f6(0xbf)](),_0xc0e90b=allQuizzesGlobal[_0x3d24f6(0x347)](_0x313c80=>({..._0x313c80,'projectName':allProjects[_0x3d24f6(0x687)](_0x396495=>_0x396495['id']===_0x313c80[_0x3d24f6(0x598)])?.[_0x3d24f6(0xe9)]||_0x3d24f6(0x7f5)}))['filter'](_0x5e11db=>(_0x5e11db[_0x3d24f6(0x2cd)]||'')[_0x3d24f6(0x74e)]()['includes'](_0x5905ac)||(_0x5e11db[_0x3d24f6(0xe9)]||'')['toLowerCase']()['includes'](_0x5905ac)||_0x5e11db['id'][_0x3d24f6(0xa9)]()['includes'](_0x5905ac));document['getElementById'](_0x3d24f6(0x57e))[_0x3d24f6(0x7b1)]='('+_0xc0e90b[_0x3d24f6(0x689)]+_0x3d24f6(0x52d),_0x553a7d[_0x3d24f6(0x76f)]=_0xc0e90b[_0x3d24f6(0x689)]?_0xc0e90b['map'](_0x3cf977=>_0x3d24f6(0x663)+_0x3cf977['id']+_0x3d24f6(0x5c1)+(_0x3cf977['topic']||'(ไม่มีชื่อ)')+_0x3d24f6(0x787)+(_0x3cf977[_0x3d24f6(0x79e)]?.[_0x3d24f6(0x689)]||0x0)+_0x3d24f6(0x6fd)+_0x3cf977[_0x3d24f6(0xe9)]+_0x3d24f6(0x76b)+_0x3cf977['id']+_0x3d24f6(0x4da)+_0x3cf977['id']+_0x3d24f6(0xd8)+_0x3cf977['id']+_0x3d24f6(0x489)+_0x3cf977['id']+_0x3d24f6(0x52f)+_0x3cf977['id']+_0x3d24f6(0x212)+_0x3cf977['id']+_0x3d24f6(0x761)+_0x3cf977['id']+_0x3d24f6(0x118)+_0x3cf977[_0x3d24f6(0x2cd)]+_0x3d24f6(0x105))[_0x3d24f6(0x19b)](''):_0x3d24f6(0x144),_0x553a7d[_0x3d24f6(0x68b)](_0x3d24f6(0x721))[_0x3d24f6(0xb5)](_0x29cc23=>{const _0x56b0d3=_0x3d24f6;_0x29cc23[_0x56b0d3(0x838)](_0x56b0d3(0x5a1),()=>{const _0x46b4af=_0x56b0d3,_0x1db68b=_0x29cc23['dataset']['id'];document['getElementById'](_0x46b4af(0x78b))[_0x46b4af(0x718)]['add'](_0x46b4af(0x248)),showQuizDetailView(_0x1db68b);});}),_0x553a7d[_0x3d24f6(0x68b)]('.quiz-bank-try-btn')[_0x3d24f6(0xb5)](_0x10956e=>{_0x10956e['addEventListener']('click',_0x593ed4=>{const _0x1925d3=_0x2cb1;_0x593ed4[_0x1925d3(0x486)]();const _0x5cc3cf=_0x10956e['dataset']['id'],_0x405ebb=allQuizzesGlobal[_0x1925d3(0x687)](_0x46cb87=>_0x46cb87['id']===_0x5cc3cf);_0x405ebb?(currentQuizData=_0x405ebb,document[_0x1925d3(0x85b)]('quiz-bank-modal')[_0x1925d3(0x718)][_0x1925d3(0x15f)](_0x1925d3(0x248)),startAdminTest()):showMessage(_0x1925d3(0x24c));});}),_0x553a7d['querySelectorAll'](_0x3d24f6(0x47f))['forEach'](_0x4815d0=>{const _0x3ee362=_0x3d24f6;_0x4815d0[_0x3ee362(0x838)](_0x3ee362(0x5a1),_0xe77ea3=>{const _0x135f25=_0x3ee362;_0xe77ea3[_0x135f25(0x486)]();const _0xd290f6=_0x4815d0[_0x135f25(0x717)]['id'],_0x32cb5d=allQuizzesGlobal['find'](_0x482570=>_0x482570['id']===_0xd290f6);_0x32cb5d?(document[_0x135f25(0x85b)](_0x135f25(0x78b))[_0x135f25(0x718)][_0x135f25(0x15f)](_0x135f25(0x248)),handleGenerateParallelFromBank(_0x32cb5d)):showMessage(_0x135f25(0x24c));});}),_0x553a7d['querySelectorAll'](_0x3d24f6(0x19a))['forEach'](_0x30dc7f=>{const _0x4e2d79=_0x3d24f6;_0x30dc7f[_0x4e2d79(0x838)](_0x4e2d79(0x5a1),_0x610b5e=>{const _0x2b1503=_0x4e2d79;_0x610b5e[_0x2b1503(0x486)]();const _0x1fc281=_0x30dc7f[_0x2b1503(0x717)]['id'],_0x35fa56=allQuizzesGlobal[_0x2b1503(0x687)](_0x58db8f=>_0x58db8f['id']===_0x1fc281);_0x35fa56?(document['getElementById'](_0x2b1503(0x78b))['classList'][_0x2b1503(0x15f)](_0x2b1503(0x248)),startPresentation(_0x35fa56)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x553a7d[_0x3d24f6(0x68b)](_0x3d24f6(0x1ad))[_0x3d24f6(0xb5)](_0x5ef5f0=>{const _0x2a06c8=_0x3d24f6;_0x5ef5f0['addEventListener'](_0x2a06c8(0x5a1),_0x3cb963=>{const _0x1adc8d=_0x2a06c8;_0x3cb963[_0x1adc8d(0x486)]();const _0x169200=_0x5ef5f0['dataset']['id'];document[_0x1adc8d(0x85b)](_0x1adc8d(0x78b))['classList'][_0x1adc8d(0x15f)](_0x1adc8d(0x248)),handleMoveQuiz(_0x169200);});}),_0x553a7d['querySelectorAll'](_0x3d24f6(0x5ae))[_0x3d24f6(0xb5)](_0x55c97e=>{const _0x3ce7b4=_0x3d24f6;_0x55c97e[_0x3ce7b4(0x838)](_0x3ce7b4(0x5a1),_0xc89e9d=>{const _0x420079=_0x3ce7b4;_0xc89e9d[_0x420079(0x486)]();const _0x109f78=_0x55c97e['dataset']['id'];document[_0x420079(0x85b)](_0x420079(0x78b))[_0x420079(0x718)][_0x420079(0x15f)](_0x420079(0x248)),handleQuizSettings(_0x109f78);});}),_0x553a7d[_0x3d24f6(0x68b)](_0x3d24f6(0x2aa))['forEach'](_0x1872c9=>{const _0x897d6e=_0x3d24f6;_0x1872c9['addEventListener'](_0x897d6e(0x5a1),_0x4dc313=>{const _0x540b0f=_0x897d6e;_0x4dc313[_0x540b0f(0x486)]();const _0x4e199d=_0x1872c9['dataset']['id'],_0x3e330f=_0x1872c9[_0x540b0f(0x717)][_0x540b0f(0x2cd)];showConfirmation(_0x540b0f(0x6f3)+_0x3e330f+_0x540b0f(0x2d5),()=>handleDeleteQuiz(_0x4e199d));});});}async function handleCompareResults(_0x498e1b,_0x9c9380){const _0x25d296=_0x4bb8e3,_0x2ab0b5=document[_0x25d296(0x85b)]('comparison-modal'),_0x456d2d=document['getElementById'](_0x25d296(0xbb)),_0x1e5056=document[_0x25d296(0x85b)](_0x25d296(0x2c0));document['getElementById']('comparison-overall-tab')['classList'][_0x25d296(0x15f)](_0x25d296(0x3a7)),document[_0x25d296(0x85b)](_0x25d296(0x764))[_0x25d296(0x718)][_0x25d296(0x8b0)](_0x25d296(0x3a7)),_0x456d2d[_0x25d296(0x718)][_0x25d296(0x8b0)](_0x25d296(0x248)),_0x1e5056['classList']['add'](_0x25d296(0x248)),_0x456d2d[_0x25d296(0x76f)]=_0x25d296(0x3fb),_0x1e5056[_0x25d296(0x76f)]='',_0x2ab0b5[_0x25d296(0x718)]['remove'](_0x25d296(0x248));try{const _0x1e3441=doc(db,'artifacts/'+appId+_0x25d296(0x1a4),_0x498e1b),_0x5c8abb=await getDoc(_0x1e3441);if(!_0x5c8abb[_0x25d296(0x1db)]())throw new Error(_0x25d296(0x229));const _0x905b71=_0x5c8abb['data'](),_0x1eda79=_0x905b71['questions']['length'],_0x2c61c0=collection(db,_0x25d296(0x898)+appId+_0x25d296(0x9f)+_0x9c9380+_0x25d296(0x84d)),_0x51fcbb=collection(db,_0x25d296(0x898)+appId+_0x25d296(0x9f)+_0x498e1b+_0x25d296(0x84d)),[_0x6544fa,_0x139503]=await Promise[_0x25d296(0x89d)]([getDocs(_0x2c61c0),getDocs(_0x51fcbb)]),_0x2dce5f=_0x6544fa[_0x25d296(0x46b)]['map'](_0x38135e=>_0x38135e['data']()),_0x4b764f=_0x139503['docs'][_0x25d296(0x347)](_0x1d5e38=>_0x1d5e38['data']()),_0x1af0c6=_0x2dce5f[_0x25d296(0x347)](_0x28a6bd=>_0x28a6bd[_0x25d296(0x237)]),_0x43b796=_0x4b764f[_0x25d296(0x347)](_0x2ceded=>_0x2ceded[_0x25d296(0x237)]),_0x530df4=calculateMeanAndStdDev(_0x1af0c6),_0x187b20=calculateMeanAndStdDev(_0x43b796),_0x43d747=_0x530df4['mean'],_0xf51909=_0x187b20[_0x25d296(0x569)],_0x28cb83=_0xf51909-_0x43d747;let _0x212c86=_0x25d296(0x62f)+_0x43d747[_0x25d296(0x3e8)](0x2)+_0x25d296(0x6f8)+_0xf51909[_0x25d296(0x3e8)](0x2)+_0x25d296(0x743)+(_0x28cb83>=0x0?_0x25d296(0x74f):_0x25d296(0x8e))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x28cb83>=0x0?_0x25d296(0x67b):_0x25d296(0x534))+_0x25d296(0x1cf)+(_0x28cb83>=0x0?_0x25d296(0x812):_0x25d296(0x345))+'\x22>'+(_0x28cb83>=0x0?'+':'')+_0x28cb83[_0x25d296(0x3e8)](0x2)+_0x25d296(0x1c6);_0x456d2d['innerHTML']=_0x212c86;const _0x1038de=document[_0x25d296(0x85b)](_0x25d296(0x729))['getContext']('2d');if(chartInstances[_0x25d296(0x27b)])chartInstances[_0x25d296(0x27b)][_0x25d296(0x63c)]();chartInstances['comparison']=new Chart(_0x1038de,{'type':_0x25d296(0x5e6),'data':{'labels':[_0x25d296(0x49e)],'datasets':[{'label':_0x25d296(0x622),'data':[_0x43d747],'backgroundColor':_0x25d296(0x882)},{'label':_0x25d296(0x562),'data':[_0xf51909],'backgroundColor':_0x25d296(0x13b)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x1eda79}}}});const _0x46ce6d=currentProjectData[_0x25d296(0x4a4)]||[],_0x50d57f=_0x46ce6d[_0x25d296(0x347)](_0x5139a0=>{const _0xa58ddb=_0x25d296,_0x371b90=_0x2dce5f[_0xa58ddb(0x687)](_0x9d4e44=>_0x9d4e44['studentName']===_0x5139a0),_0x55b5a1=_0x4b764f[_0xa58ddb(0x687)](_0x1c9d71=>_0x1c9d71[_0xa58ddb(0x333)]===_0x5139a0),_0x397b6b=_0x371b90?_0x371b90[_0xa58ddb(0x237)]:null,_0x5a2ac8=_0x55b5a1?_0x55b5a1[_0xa58ddb(0x237)]:null,_0x4ae06b=_0x397b6b!==null&&_0x5a2ac8!==null?_0x5a2ac8-_0x397b6b:null,_0x419b87=_0x397b6b!==null?calculateZScore(_0x397b6b,_0x530df4[_0xa58ddb(0x569)],_0x530df4[_0xa58ddb(0x7fd)]):null,_0x3c9a5b=_0x5a2ac8!==null?calculateZScore(_0x5a2ac8,_0x187b20[_0xa58ddb(0x569)],_0x187b20[_0xa58ddb(0x7fd)]):null,_0x31cdd1=_0x419b87!==null?calculateTScore(_0x419b87):null,_0xc2e89b=_0x3c9a5b!==null?calculateTScore(_0x3c9a5b):null,_0x51fcc2=_0x31cdd1!==null&&_0xc2e89b!==null?_0xc2e89b-_0x31cdd1:null;return{'name':_0x5139a0,'preScore':_0x397b6b,'postScore':_0x5a2ac8,'gain':_0x4ae06b,'preTScore':_0x31cdd1,'postTScore':_0xc2e89b,'tGain':_0x51fcc2};});renderIndividualComparisonTable(_0x50d57f,_0x1e5056);}catch(_0x4a0d41){console[_0x25d296(0x60f)](_0x25d296(0x338),_0x4a0d41),_0x456d2d[_0x25d296(0x76f)]=_0x25d296(0x374);}}function displayHalfMarkResult(_0x10afba,_0x2143df){const _0x32b307=_0x4bb8e3,_0x4462ac=_0x10afba>=_0x2143df/0x2,_0x5dd4f4=_0x4462ac?_0x32b307(0x344):_0x32b307(0x8e),_0x327cb3=_0x4462ac?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x32b307(0x1eb),_0xa8e6b1=_0x4462ac?_0x32b307(0x4fe):_0x32b307(0x534),_0x36d9cb=_0x4462ac?_0x32b307(0x82e):'คะแนนยังไม่ถึงครึ่ง',_0x5bfd33=_0x4462ac?_0x32b307(0x840):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x1420ec=_0x32b307(0x3cc)+_0x5dd4f4+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x327cb3+_0x32b307(0x12e)+_0xa8e6b1+_0x32b307(0x59b)+_0x36d9cb+_0x32b307(0x543)+_0x5bfd33+_0x32b307(0x2a3);studentResultArea[_0x32b307(0x76f)]=_0x1420ec,studentResultArea['classList'][_0x32b307(0x8b0)]('hidden'),studentQuizArea[_0x32b307(0x718)][_0x32b307(0x15f)](_0x32b307(0x248)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x4462ac});}function displayPerfectScoreResult(_0x5ddee2,_0x24902e){const _0x52c13e=_0x4bb8e3,_0x1b6f03=_0x5ddee2===_0x24902e,_0xd72fa8=_0x1b6f03?_0x52c13e(0x1da):_0x52c13e(0x4ba),_0x48f6b3=_0x1b6f03?_0x52c13e(0x5f8):_0x52c13e(0x24a),_0x394bae=_0x1b6f03?_0x52c13e(0x6d0):_0x52c13e(0x64f),_0xc98824=_0x1b6f03?_0x52c13e(0x497):_0x52c13e(0x93),_0x49a05d=_0x1b6f03?_0x52c13e(0x6d2):_0x52c13e(0x894);let _0x25acf5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0xd72fa8+_0x52c13e(0x1bc)+_0x48f6b3+_0x52c13e(0x12e)+_0x394bae+_0x52c13e(0x59b)+_0xc98824+_0x52c13e(0x543)+_0x49a05d+_0x52c13e(0x2a3);studentResultArea[_0x52c13e(0x76f)]=_0x25acf5,studentResultArea[_0x52c13e(0x718)][_0x52c13e(0x8b0)](_0x52c13e(0x248)),studentQuizArea[_0x52c13e(0x718)][_0x52c13e(0x15f)](_0x52c13e(0x248)),setupResultScreenBackButton({'showRankings':![],'score':_0x5ddee2,'totalQuestions':_0x24902e});}function renderIndividualComparisonTable(_0x1b219d,_0x316129){const _0x5b0273=_0x4bb8e3;_0x1b219d['sort']((_0x4bfacf,_0x189f42)=>(_0x189f42[_0x5b0273(0x881)]??-Infinity)-(_0x4bfacf[_0x5b0273(0x881)]??-Infinity));let _0x320b58='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x1b219d[_0x5b0273(0x689)]===0x0?_0x320b58+=_0x5b0273(0x40f):_0x1b219d[_0x5b0273(0xb5)]((_0x46a178,_0x219499)=>{const _0x5805b7=_0x5b0273;let _0x5b5f4e='-',_0x4b6bc3='';if(_0x46a178[_0x5805b7(0x7a8)]!==null){const _0x31b5dc=_0x46a178['gain']>0x0?_0x5805b7(0x7a1):_0x46a178[_0x5805b7(0x7a8)]<0x0?_0x5805b7(0x4d2):'text-gray-500',_0x1d5675=_0x46a178[_0x5805b7(0x7a8)]>0x0?'+':'';_0x5b5f4e='<span\x20class=\x22font-bold\x20'+_0x31b5dc+'\x22>'+_0x1d5675+_0x46a178['gain']+_0x5805b7(0x3fe);if(_0x46a178['gain']>0x0)_0x4b6bc3=_0x5805b7(0x81c);else _0x46a178[_0x5805b7(0x7a8)]<0x0?_0x4b6bc3=_0x5805b7(0x7bd):_0x4b6bc3=_0x5805b7(0x4c8);}let _0x2935ca='-';if(_0x46a178[_0x5805b7(0x881)]!==null){const _0x44a43f=_0x46a178[_0x5805b7(0x881)]>0x0?'text-green-600':_0x46a178['tGain']<0x0?_0x5805b7(0x4d2):_0x5805b7(0x164),_0x122393=_0x46a178[_0x5805b7(0x881)]>0x0?'+':'';_0x2935ca='<span\x20class=\x22font-bold\x20'+_0x44a43f+'\x22>'+_0x122393+_0x46a178[_0x5805b7(0x881)][_0x5805b7(0x3e8)](0x2)+_0x5805b7(0x3fe);}_0x320b58+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x219499+0x1)+_0x5805b7(0x2db)+_0x46a178[_0x5805b7(0x55b)]+_0x5805b7(0x6f0)+(_0x46a178[_0x5805b7(0x24d)]??'-')+_0x5805b7(0x3d4)+(_0x46a178[_0x5805b7(0x6b5)]??'-')+_0x5805b7(0x6f0)+_0x5b5f4e+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x4b6bc3+_0x5805b7(0x284)+(_0x46a178[_0x5805b7(0x4e6)]?.[_0x5805b7(0x3e8)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x46a178['postTScore']?.[_0x5805b7(0x3e8)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x2935ca+_0x5805b7(0x8a9);}),_0x320b58+='</tbody></table></div>',_0x316129[_0x5b0273(0x76f)]=_0x320b58;}function handleRenameQuiz(_0x505bd3,_0x40494a){const _0x54c7c0=_0x4bb8e3;actionTargetId=_0x505bd3,document[_0x54c7c0(0x85b)](_0x54c7c0(0x748))[_0x54c7c0(0x39a)]=_0x40494a,renameQuizModal[_0x54c7c0(0x718)][_0x54c7c0(0x8b0)](_0x54c7c0(0x248));}function setupComparisonModalTabs(){const _0x5f4f1d=_0x4bb8e3,_0x59c5e2=document[_0x5f4f1d(0x85b)](_0x5f4f1d(0x8a3)),_0x426590=document[_0x5f4f1d(0x85b)]('comparison-individual-tab'),_0x3e60f0=document['getElementById'](_0x5f4f1d(0xbb)),_0x94c53f=document[_0x5f4f1d(0x85b)](_0x5f4f1d(0x2c0));_0x59c5e2[_0x5f4f1d(0x838)](_0x5f4f1d(0x5a1),()=>{const _0x14e996=_0x5f4f1d;_0x59c5e2[_0x14e996(0x718)][_0x14e996(0x15f)]('active'),_0x426590[_0x14e996(0x718)][_0x14e996(0x8b0)](_0x14e996(0x3a7)),_0x3e60f0[_0x14e996(0x718)][_0x14e996(0x8b0)]('hidden'),_0x94c53f[_0x14e996(0x718)][_0x14e996(0x15f)](_0x14e996(0x248));}),_0x426590[_0x5f4f1d(0x838)]('click',()=>{const _0x5e4632=_0x5f4f1d;_0x426590[_0x5e4632(0x718)][_0x5e4632(0x15f)]('active'),_0x59c5e2[_0x5e4632(0x718)][_0x5e4632(0x8b0)]('active'),_0x94c53f['classList'][_0x5e4632(0x8b0)]('hidden'),_0x3e60f0['classList'][_0x5e4632(0x15f)](_0x5e4632(0x248));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x29f13a=''){const _0x40dbd0=_0x4bb8e3,_0x13e4f4=document['getElementById'](_0x40dbd0(0x6d1)),_0x7bdea1=_0x29f13a[_0x40dbd0(0x74e)]()[_0x40dbd0(0xbf)](),_0x5d88c7=allQuizzesGlobal[_0x40dbd0(0x347)](_0x18153e=>({..._0x18153e,'projectName':allProjects[_0x40dbd0(0x687)](_0x1800b3=>_0x1800b3['id']===_0x18153e['projectId'])?.[_0x40dbd0(0xe9)]||_0x18153e[_0x40dbd0(0x598)]}))['filter'](_0x55a628=>(_0x55a628[_0x40dbd0(0x2cd)]||'')['toLowerCase']()[_0x40dbd0(0x190)](_0x7bdea1)||(_0x55a628[_0x40dbd0(0xe9)]||'')[_0x40dbd0(0x74e)]()[_0x40dbd0(0x190)](_0x7bdea1));document[_0x40dbd0(0x85b)](_0x40dbd0(0x3c3))[_0x40dbd0(0x7b1)]='('+_0x5d88c7[_0x40dbd0(0x689)]+_0x40dbd0(0x52d),_0x13e4f4[_0x40dbd0(0x76f)]=_0x5d88c7[_0x40dbd0(0x689)]?_0x5d88c7[_0x40dbd0(0x347)](_0x4a9467=>_0x40dbd0(0x863)+_0x4a9467['id']+_0x40dbd0(0x56d)+(_0x4a9467['topic']||'(ไม่มีชื่อ)')+_0x40dbd0(0xf3)+(_0x4a9467[_0x40dbd0(0x79e)]?.[_0x40dbd0(0x689)]||0x0)+_0x40dbd0(0x7ad)+_0x4a9467[_0x40dbd0(0xe9)]+_0x40dbd0(0x313))[_0x40dbd0(0x19b)](''):_0x40dbd0(0x13f),selectedGlobalQuizId=null,document['getElementById']('confirm-global-live-btn')[_0x40dbd0(0x1ea)]=!![],_0x13e4f4[_0x40dbd0(0x68b)](_0x40dbd0(0x56f))[_0x40dbd0(0xb5)](_0x3d4636=>{const _0x39b671=_0x40dbd0;_0x3d4636[_0x39b671(0x838)](_0x39b671(0x5a1),()=>{const _0x5a8edc=_0x39b671;selectedGlobalQuizId=_0x3d4636[_0x5a8edc(0x717)]['id'],_0x13e4f4[_0x5a8edc(0x68b)](_0x5a8edc(0x22b))[_0x5a8edc(0xb5)](_0x2f2c1f=>_0x2f2c1f[_0x5a8edc(0x718)]['remove']('bg-purple-50',_0x5a8edc(0x5ca),_0x5a8edc(0x34a))),_0x3d4636['classList']['add']('bg-purple-50',_0x5a8edc(0x5ca),_0x5a8edc(0x34a)),document[_0x5a8edc(0x85b)]('confirm-global-live-btn')[_0x5a8edc(0x1ea)]=![];});});}function listenForLiveGameUpdates(){const _0x59b256=_0x4bb8e3;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5d5665=doc(db,_0x59b256(0x898)+appId+_0x59b256(0x1cd),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5d5665,_0x2963a5=>{const _0x413833=_0x59b256;if(!_0x2963a5[_0x413833(0x1db)]()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x54a8ec=_0x2963a5[_0x413833(0xc3)]();_0x54a8ec[_0x413833(0x3ab)]&&(currentQuizData=_0x54a8ec[_0x413833(0x3ab)]);!currentQuizData&&_0x54a8ec[_0x413833(0x83b)]&&((async()=>{const _0x55eb4c=_0x413833;try{const _0x2603ad=doc(db,_0x55eb4c(0x898)+appId+_0x55eb4c(0x1a4),_0x54a8ec[_0x55eb4c(0x83b)]),_0x14075a=await getDoc(_0x2603ad);_0x14075a['exists']()&&(currentQuizData={'id':_0x14075a['id'],..._0x14075a[_0x55eb4c(0xc3)]()});}catch(_0x2acfb9){console[_0x55eb4c(0x60f)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x2acfb9);}})());switch(_0x54a8ec[_0x413833(0x652)]){case'lobby':if(currentMode===_0x413833(0x527)){const _0x667f0a=_0x54a8ec[_0x413833(0x451)]?Object[_0x413833(0x244)](_0x54a8ec['players']):[],_0x385035=_0x667f0a[_0x413833(0x2fe)](([_0xd2e6e,_0x322331])=>_0x322331[_0x413833(0x652)]==='active'),_0x3a4277=document['getElementById']('player-count');if(_0x3a4277)_0x3a4277[_0x413833(0x7b1)]=_0x385035[_0x413833(0x689)];const _0x5e1415=document[_0x413833(0x85b)](_0x413833(0x816));_0x5e1415&&(_0x5e1415['innerHTML']=_0x385035[_0x413833(0x347)](([_0x173e74,_0x5a96d2])=>_0x413833(0x6c3)+_0x173e74+_0x413833(0x433)+_0x173e74+_0x413833(0x7fa))[_0x413833(0x19b)](''));const _0x19fa8e=document[_0x413833(0x85b)](_0x413833(0x234));_0x19fa8e&&(_0x19fa8e[_0x413833(0x1ea)]=_0x385035[_0x413833(0x689)]===0x0);}else showView(_0x413833(0x690)),liveGameView[_0x413833(0x76f)]=_0x413833(0x4b1)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x413833(0x815):const _0x3cbff2=_0x54a8ec[_0x413833(0x675)];if(currentQuizData&&currentQuizData[_0x413833(0x79e)][_0x3cbff2]){const _0x12866a=currentQuizData[_0x413833(0x79e)][_0x3cbff2],_0x370c52=_0x54a8ec[_0x413833(0x698)]||'answering';switch(_0x370c52){case _0x413833(0x4f6):currentMode===_0x413833(0x527)?showAdminSummaryView(_0x54a8ec,_0x12866a):showPlayerSummaryView(_0x54a8ec,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0x54a8ec);break;case _0x413833(0xf7):default:if(currentMode===_0x413833(0x527)){const _0x4fbba5=writeBatch(db);let _0x1a20c7=![];Object['entries'](_0x54a8ec[_0x413833(0x451)])[_0x413833(0xb5)](([_0xc99bd3,_0x1a2920])=>{const _0x395a8b=_0x413833;if(_0x1a2920['status']===_0x395a8b(0x3a7)&&_0x1a2920[_0x395a8b(0x3d3)]&&!_0x1a2920[_0x395a8b(0x78d)]){_0x1a20c7=!![];const _0x5b2ed1=_0x1a2920[_0x395a8b(0x3d3)][_0x395a8b(0x3cd)]()-_0x54a8ec['questionDisplayedAt'][_0x395a8b(0x3cd)]();let _0x4e5bff=0x0;if(_0x1a2920[_0x395a8b(0x10e)]){const _0x1fa4b3=0x3e8,_0x36b1f0=0x1f4,_0x2577a7=0x4e20;let _0x2fd225=_0x5b2ed1/_0x2577a7;if(_0x2fd225>0x1)_0x2fd225=0x1;const _0x12792a=Math['round'](_0x2fd225*_0x36b1f0);_0x4e5bff=_0x1fa4b3-_0x12792a;}const _0x292665=doc(db,_0x395a8b(0x898)+appId+'/public/data/liveGames',currentLiveGameId);_0x4fbba5[_0x395a8b(0x89e)](_0x292665,{[_0x395a8b(0x3c2)+_0xc99bd3+'.score']:increment(_0x4e5bff),[_0x395a8b(0x3c2)+_0xc99bd3+_0x395a8b(0x92)]:_0x4e5bff,['players.'+_0xc99bd3+_0x395a8b(0x4ff)]:!![]});}});_0x1a20c7&&_0x4fbba5['commit']()[_0x413833(0x467)](_0x49f4a7=>console['error'](_0x413833(0x215),_0x49f4a7));lastRenderedAdminQuestionIndex!==_0x3cbff2&&(showAdminLiveQuestionView(_0x12866a,_0x3cbff2,currentQuizData['questions'][_0x413833(0x689)]),lastRenderedAdminQuestionIndex=_0x3cbff2);const _0x4e8164=_0x54a8ec[_0x413833(0x451)]||{},_0x3c5983=Object['values'](_0x4e8164)[_0x413833(0x2fe)](_0x21c185=>_0x21c185[_0x413833(0x652)]==='active'),_0x1ed215=_0x3c5983[_0x413833(0x689)],_0x31bc37=_0x3c5983[_0x413833(0x2fe)](_0xbe7be9=>_0xbe7be9['answeredCurrentQuestion']===!![])[_0x413833(0x689)],_0x50ef60=document[_0x413833(0x85b)]('answer-counter');if(_0x50ef60)_0x50ef60[_0x413833(0x7b1)]=_0x31bc37+'/'+_0x1ed215;const _0x3e8bda=document[_0x413833(0x85b)]('live-player-list');if(_0x3e8bda){let _0x8f462a=Object[_0x413833(0x244)](_0x4e8164)[_0x413833(0x2fe)](([_0x14363e,_0x11f173])=>_0x11f173['status']===_0x413833(0x3a7))[_0x413833(0x347)](([_0x597c83,_0x2bdb54])=>{const _0x86383b=_0x413833,_0x8d9b5c=_0x2bdb54[_0x86383b(0x731)]===!![],_0x2936ef=_0x8d9b5c?_0x86383b(0x7da):'bg-gray-500',_0x5f2603=_0x8d9b5c?_0x86383b(0x16c):_0x86383b(0x659);return _0x86383b(0x4be)+_0x2936ef+_0x86383b(0x54a)+_0x5f2603+_0x86383b(0x7e6)+_0x597c83+_0x86383b(0x430)+_0x597c83+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x413833(0x19b)]('');_0x3e8bda[_0x413833(0x76f)]=_0x8f462a||_0x413833(0x51e);}_0x1ed215>0x0&&_0x31bc37===_0x1ed215&&revealAnswerForAdmin(_0x3cbff2,currentQuizData[_0x413833(0x79e)][_0x413833(0x689)]);}else{const _0x1b63ac=_0x54a8ec[_0x413833(0x451)][currentStudentName];_0x1b63ac&&!_0x1b63ac['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x12866a,_0x3cbff2,currentQuizData[_0x413833(0x79e)][_0x413833(0x689)]);}break;}}break;case _0x413833(0x350):showPodiumView(_0x54a8ec['players']);break;}});}async function handleKickPlayer(_0x31c8c2){const _0x3fe512=_0x4bb8e3;if(!currentLiveGameId||!_0x31c8c2)return;const _0x44de78=doc(db,_0x3fe512(0x898)+appId+_0x3fe512(0x1cd),currentLiveGameId),_0x5de62e={};_0x5de62e['players.'+_0x31c8c2+_0x3fe512(0x117)]='inactive';try{await updateDoc(_0x44de78,_0x5de62e);}catch(_0x5694c9){console[_0x3fe512(0x60f)](_0x3fe512(0x68d)+_0x31c8c2+':',_0x5694c9),showMessage(_0x3fe512(0x5ab));}}async function authenticateUser(){const _0x492614=_0x4bb8e3;try{typeof __initial_auth_token!==_0x492614(0x272)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x403261){console[_0x492614(0x60f)](_0x492614(0x18a),_0x403261),showMessage(_0x492614(0x641));}}function showView(_0x3adc7d){const _0x166eb8=_0x4bb8e3,_0x30ac2f=['admin-view',_0x166eb8(0x472),_0x166eb8(0xb1),_0x166eb8(0x111),'quiz-results-view',_0x166eb8(0x4ae),_0x166eb8(0x457)];_0x30ac2f[_0x166eb8(0xb5)](_0x2f7cd1=>document[_0x166eb8(0x85b)](_0x2f7cd1)?.[_0x166eb8(0x718)][_0x166eb8(0x15f)](_0x166eb8(0x248)));if(_0x3adc7d===_0x166eb8(0x56a))adminView[_0x166eb8(0x718)][_0x166eb8(0x8b0)]('hidden'),projectDashboardView['classList']['remove'](_0x166eb8(0x248));else{if(_0x3adc7d===_0x166eb8(0x503))studentView[_0x166eb8(0x718)][_0x166eb8(0x8b0)](_0x166eb8(0x248)),studentInitialView[_0x166eb8(0x718)][_0x166eb8(0x8b0)]('hidden'),studentNameSelectionView[_0x166eb8(0x718)][_0x166eb8(0x15f)](_0x166eb8(0x248)),studentQuizArea['classList'][_0x166eb8(0x15f)]('hidden'),studentResultArea[_0x166eb8(0x718)][_0x166eb8(0x15f)](_0x166eb8(0x248)),studentReadingArea[_0x166eb8(0x718)][_0x166eb8(0x15f)](_0x166eb8(0x248)),studentJoinGameView[_0x166eb8(0x718)]['add'](_0x166eb8(0x248));else{if(_0x3adc7d===_0x166eb8(0x63b))adminView[_0x166eb8(0x718)]['remove'](_0x166eb8(0x248)),projectDetailView[_0x166eb8(0x718)][_0x166eb8(0x8b0)](_0x166eb8(0x248));else{if(_0x3adc7d===_0x166eb8(0x86e))adminView[_0x166eb8(0x718)][_0x166eb8(0x8b0)]('hidden'),quizResultsView[_0x166eb8(0x718)][_0x166eb8(0x8b0)](_0x166eb8(0x248));else _0x3adc7d===_0x166eb8(0x690)&&liveGameView['classList']['remove'](_0x166eb8(0x248));}}}}function showJoinGameView(){const _0xf70d5c=_0x4bb8e3;studentInitialView['classList'][_0xf70d5c(0x15f)]('hidden'),studentJoinGameView[_0xf70d5c(0x718)][_0xf70d5c(0x8b0)]('hidden');}async function handleSaveVisibilitySettings(){const _0x56b6c0=_0x4bb8e3;if(!currentProjectId)return;const _0x2cd44d=doc(db,_0x56b6c0(0x898)+appId+_0x56b6c0(0x802),currentProjectId);try{await updateDoc(_0x2cd44d,{'settings.showInStudentDashboard':document['getElementById'](_0x56b6c0(0x610))[_0x56b6c0(0x8ae)],'settings.isPasscodeEnabled':document['getElementById']('enable-passcode-checkbox')[_0x56b6c0(0x8ae)],'settings.passcode':document[_0x56b6c0(0x85b)]('project-passcode-input')[_0x56b6c0(0x39a)][_0x56b6c0(0xbf)]()}),showMessage(_0x56b6c0(0x17b));}catch(_0x477c62){console[_0x56b6c0(0x60f)]('Error\x20saving\x20visibility\x20settings:',_0x477c62),showMessage(_0x56b6c0(0x238));}}function setupEventListeners(){const _0x3bcb3d=_0x4bb8e3,_0x42dc35=document['getElementById'](_0x3bcb3d(0x4ae));_0x42dc35[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),_0x2d763a=>{const _0x1f7842=_0x3bcb3d,_0x4bc786=_0x2d763a['target']['closest'](_0x1f7842(0x83f));document[_0x1f7842(0x68b)](_0x1f7842(0x83a))[_0x1f7842(0xb5)](_0x32bebc=>{const _0x13cc61=_0x1f7842;(!_0x4bc786||_0x32bebc['id']!==_0x4bc786[_0x13cc61(0x717)]['tooltipTarget'])&&_0x32bebc['classList'][_0x13cc61(0x8b0)](_0x13cc61(0x2f5));});if(!_0x4bc786)return;const _0x55494a=_0x4bc786['dataset'][_0x1f7842(0x1ed)],_0x42d498=document[_0x1f7842(0x85b)](_0x55494a);_0x42d498&&_0x42d498[_0x1f7842(0x718)][_0x1f7842(0x4bc)]('visible');}),_0x42dc35[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),_0x3d48f4=>{const _0x49aeac=_0x3bcb3d;if(_0x3d48f4[_0x49aeac(0x101)]['classList'][_0x49aeac(0x328)]('kick-player-btn')){const _0x2c5897=_0x3d48f4[_0x49aeac(0x101)][_0x49aeac(0x717)][_0x49aeac(0x2d0)];_0x2c5897&&handleKickPlayer(_0x2c5897);}}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x88e))[_0x3bcb3d(0x838)]('focus',()=>document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x5cb))[_0x3bcb3d(0x718)]['remove'](_0x3bcb3d(0x248))),document['getElementById'](_0x3bcb3d(0x5cb))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),handleSaveProjectName),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x88e))[_0x3bcb3d(0x838)](_0x3bcb3d(0x7cc),_0x45764a=>{const _0x2cd73c=_0x3bcb3d;_0x45764a[_0x2cd73c(0x4c6)]===_0x2cd73c(0x6a5)&&(_0x45764a[_0x2cd73c(0x514)](),_0x45764a[_0x2cd73c(0x101)]['blur'](),handleSaveProjectName());}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x7e1))['addEventListener']('click',()=>{const _0x1efd05=_0x3bcb3d;document['getElementById']('bulk-quiz-settings-modal')['classList'][_0x1efd05(0x8b0)](_0x1efd05(0x248));}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x604))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x1fd495=_0x3bcb3d;document[_0x1fd495(0x85b)](_0x1fd495(0x715))[_0x1fd495(0x718)]['add'](_0x1fd495(0x248));}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x141))['addEventListener'](_0x3bcb3d(0x5a1),handleBulkUpdateQuizSettings),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x621))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),handleModeSwitch),document['getElementById'](_0x3bcb3d(0x537))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),handleUpdateOldQuizzes),document[_0x3bcb3d(0x85b)]('reset-project-order-btn')[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),handleResetProjectOrder),document['getElementById']('save-visibility-settings-btn')[_0x3bcb3d(0x838)]('click',handleSaveVisibilitySettings),document[_0x3bcb3d(0x85b)]('add-custom-math-topic-btn')[_0x3bcb3d(0x838)]('click',handleAddCustomMathTopic),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x31e))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),handleSelectAllTopics),document['getElementById']('deselect-all-topics-btn')['addEventListener']('click',handleDeselectAllTopics),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x214))['addEventListener']('click',()=>{const _0x1756c8=_0x3bcb3d;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x1756c8(0x56a));}),document[_0x3bcb3d(0x85b)]('back-to-project-btn')['addEventListener'](_0x3bcb3d(0x5a1),()=>{const _0x54a25f=_0x3bcb3d;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x54a25f(0x63b));}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x6ef))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x211e54=_0x3bcb3d;showView(_0x211e54(0x56a));}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x48d))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x5c639b=_0x3bcb3d;messageModal[_0x5c639b(0x718)][_0x5c639b(0x15f)]('hidden'),typeof modalConfirmAction===_0x5c639b(0xe4)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x4db))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>createProjectModal[_0x3bcb3d(0x718)]['remove'](_0x3bcb3d(0x248))),document[_0x3bcb3d(0x85b)]('cancel-create-project-btn')[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>createProjectModal['classList']['add'](_0x3bcb3d(0x248))),document['getElementById']('cancel-admin-login-btn')[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>adminPasswordModal[_0x3bcb3d(0x718)][_0x3bcb3d(0x15f)](_0x3bcb3d(0x248))),document['getElementById'](_0x3bcb3d(0x300))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),handleAdminLogin),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x3fc))['addEventListener'](_0x3bcb3d(0x4dd),_0x298e94=>{const _0x363db4=_0x3bcb3d;if(_0x298e94[_0x363db4(0x4c6)]===_0x363db4(0x6a5))handleAdminLogin();}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x3ee))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x5b2bfb=_0x3bcb3d;confirmationModal[_0x5b2bfb(0x718)][_0x5b2bfb(0x15f)](_0x5b2bfb(0x248)),confirmAction=null;}),document['getElementById'](_0x3bcb3d(0x23c))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x389d39=_0x3bcb3d;confirmAction&&confirmAction(),confirmationModal[_0x389d39(0x718)][_0x389d39(0x15f)](_0x389d39(0x248)),confirmAction=null;}),document['getElementById'](_0x3bcb3d(0x254))['addEventListener']('click',()=>renameQuizModal[_0x3bcb3d(0x718)][_0x3bcb3d(0x15f)](_0x3bcb3d(0x248))),document['getElementById'](_0x3bcb3d(0x5c9))['addEventListener'](_0x3bcb3d(0x5a1),confirmRenameQuiz),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x6b4))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>moveQuizModal[_0x3bcb3d(0x718)]['add'](_0x3bcb3d(0x248))),document['getElementById'](_0x3bcb3d(0x3b0))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),confirmMoveQuiz),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x24f))['addEventListener'](_0x3bcb3d(0x5a1),()=>quizSettingsModal[_0x3bcb3d(0x718)][_0x3bcb3d(0x15f)]('hidden')),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x36b))['addEventListener'](_0x3bcb3d(0x5a1),confirmQuizSettings),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x26a))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>quizStatusModal['classList'][_0x3bcb3d(0x15f)](_0x3bcb3d(0x248))),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x52e))[_0x3bcb3d(0x838)]('click',confirmQuizStatus);const _0x30b6ee=document['getElementById'](_0x3bcb3d(0x605));document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x14d))['addEventListener'](_0x3bcb3d(0x5a1),()=>{const _0x1abce3=_0x3bcb3d;_0x30b6ee[_0x1abce3(0x718)][_0x1abce3(0x15f)]('hidden');}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x613))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),async()=>{const _0x1d1e6e=_0x3bcb3d,_0x1e7964=allQuizzes['find'](_0x43e933=>_0x43e933['id']===actionTargetId);_0x1e7964?(currentQuizData=_0x1e7964,exportQuizAsWorksheetPDF()):showMessage(_0x1d1e6e(0x24c)),_0x30b6ee[_0x1d1e6e(0x718)][_0x1d1e6e(0x15f)](_0x1d1e6e(0x248));}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x596))[_0x3bcb3d(0x838)]('click',async()=>{const _0x168356=_0x3bcb3d,_0x44eb6a=allQuizzes['find'](_0x4afeef=>_0x4afeef['id']===actionTargetId);_0x44eb6a?(currentQuizData=_0x44eb6a,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x30b6ee['classList'][_0x168356(0x15f)]('hidden');}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x297))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),openGlobalLiveModal),document[_0x3bcb3d(0x85b)]('cancel-global-live-btn')['addEventListener'](_0x3bcb3d(0x5a1),()=>{const _0x5ce149=_0x3bcb3d;document['getElementById'](_0x5ce149(0x6e0))[_0x5ce149(0x718)][_0x5ce149(0x15f)](_0x5ce149(0x248)),selectedGlobalQuizId=null;}),document['getElementById'](_0x3bcb3d(0x5f1))[_0x3bcb3d(0x838)](_0x3bcb3d(0x386),_0x3ea84e=>renderGlobalQuizList(_0x3ea84e[_0x3bcb3d(0x101)][_0x3bcb3d(0x39a)])),document[_0x3bcb3d(0x85b)]('confirm-global-live-btn')[_0x3bcb3d(0x838)]('click',()=>{const _0x4747d4=_0x3bcb3d,_0x593640=selectedGlobalQuizId;if(!_0x593640)return;document[_0x4747d4(0x85b)](_0x4747d4(0x6e0))['classList'][_0x4747d4(0x15f)](_0x4747d4(0x248)),handleStartLiveRace(_0x593640);}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x396))['addEventListener'](_0x3bcb3d(0x386),renderProjects),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x6af))[_0x3bcb3d(0x838)]('change',async()=>{const _0x269a64=_0x3bcb3d,_0x2bdac2=document[_0x269a64(0x85b)]('project-sort-select')[_0x269a64(0x39a)],_0x9f3db2=doc(db,_0x269a64(0x327),_0x269a64(0x609));try{await setDoc(_0x9f3db2,{'projectSort':_0x2bdac2},{'merge':!![]});}catch(_0x41f039){console[_0x269a64(0x60f)](_0x269a64(0x452),_0x41f039),showMessage(_0x269a64(0x20d));}}),document['getElementById'](_0x3bcb3d(0x389))[_0x3bcb3d(0x838)](_0x3bcb3d(0x386),renderQuizzes),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x21f))['addEventListener'](_0x3bcb3d(0x5a1),()=>{const _0x2f0b13=_0x3bcb3d;globalDashboardSettings[_0x2f0b13(0x28e)]='grid',saveUserPreference('projectView',_0x2f0b13(0x1fa)),renderProjects();}),document['getElementById'](_0x3bcb3d(0x79a))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0xc26700=_0x3bcb3d;globalDashboardSettings[_0xc26700(0x28e)]=_0xc26700(0x439),saveUserPreference(_0xc26700(0x28e),_0xc26700(0x439)),renderProjects();}),manageTab[_0x3bcb3d(0x838)]('click',()=>switchProjectTab(_0x3bcb3d(0x346))),resultsTab[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>switchProjectTab(_0x3bcb3d(0x142))),leaderboardTab[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>switchProjectTab(_0x3bcb3d(0x700))),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x626))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>switchQuizDetailTab(_0x3bcb3d(0x5bf))),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x70d))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>switchQuizDetailTab(_0x3bcb3d(0x769))),document[_0x3bcb3d(0x85b)]('leaderboard-quiz-tab-btn')[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>switchQuizDetailTab(_0x3bcb3d(0x46a))),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x6da))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>switchQuizDetailTab(_0x3bcb3d(0x4f7))),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x342))['addEventListener'](_0x3bcb3d(0x5a1),handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x3bcb3d(0x5a1),generateWorksheet);const _0x197608=document['getElementById']('link-tab'),_0x48a2ce=document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x203)),_0xe56cb0=document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x1df)),_0x243a93=document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x1ef)),_0x400a3a=document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x208)),_0x1379f9=document[_0x3bcb3d(0x85b)]('parallel-test-input-area');topicTab[_0x3bcb3d(0x838)]('click',()=>{const _0x134b6a=_0x3bcb3d;topicTab[_0x134b6a(0x718)][_0x134b6a(0x15f)]('active'),textTab['classList'][_0x134b6a(0x8b0)](_0x134b6a(0x3a7)),fileTab['classList']['remove'](_0x134b6a(0x3a7)),worksheetTab[_0x134b6a(0x718)][_0x134b6a(0x8b0)](_0x134b6a(0x3a7));if(_0x197608)_0x197608[_0x134b6a(0x718)]['remove'](_0x134b6a(0x3a7));if(_0xe56cb0)_0xe56cb0[_0x134b6a(0x718)][_0x134b6a(0x8b0)](_0x134b6a(0x3a7));if(_0x400a3a)_0x400a3a[_0x134b6a(0x718)][_0x134b6a(0x8b0)]('active');topicInputArea[_0x134b6a(0x718)]['remove'](_0x134b6a(0x248)),textInputArea[_0x134b6a(0x718)][_0x134b6a(0x15f)](_0x134b6a(0x248)),fileInputArea[_0x134b6a(0x718)][_0x134b6a(0x15f)](_0x134b6a(0x248)),worksheetInputArea[_0x134b6a(0x718)][_0x134b6a(0x15f)](_0x134b6a(0x248));if(_0x48a2ce)_0x48a2ce[_0x134b6a(0x718)][_0x134b6a(0x15f)](_0x134b6a(0x248));if(_0x243a93)_0x243a93[_0x134b6a(0x718)]['add'](_0x134b6a(0x248));if(_0x1379f9)_0x1379f9[_0x134b6a(0x718)][_0x134b6a(0x15f)](_0x134b6a(0x248));}),textTab[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x10b918=_0x3bcb3d;textTab[_0x10b918(0x718)][_0x10b918(0x15f)](_0x10b918(0x3a7)),topicTab[_0x10b918(0x718)]['remove'](_0x10b918(0x3a7)),fileTab[_0x10b918(0x718)][_0x10b918(0x8b0)](_0x10b918(0x3a7)),worksheetTab[_0x10b918(0x718)]['remove'](_0x10b918(0x3a7));if(_0x197608)_0x197608[_0x10b918(0x718)]['remove'](_0x10b918(0x3a7));if(_0xe56cb0)_0xe56cb0[_0x10b918(0x718)]['remove']('active');if(_0x400a3a)_0x400a3a[_0x10b918(0x718)][_0x10b918(0x8b0)]('active');textInputArea['classList']['remove'](_0x10b918(0x248)),topicInputArea[_0x10b918(0x718)][_0x10b918(0x15f)](_0x10b918(0x248)),fileInputArea[_0x10b918(0x718)][_0x10b918(0x15f)](_0x10b918(0x248)),worksheetInputArea[_0x10b918(0x718)][_0x10b918(0x15f)](_0x10b918(0x248));if(_0x48a2ce)_0x48a2ce[_0x10b918(0x718)]['add'](_0x10b918(0x248));if(_0x243a93)_0x243a93['classList'][_0x10b918(0x15f)](_0x10b918(0x248));if(_0x1379f9)_0x1379f9[_0x10b918(0x718)][_0x10b918(0x15f)](_0x10b918(0x248));}),fileTab['addEventListener']('click',()=>{const _0x40ee42=_0x3bcb3d;fileTab['classList'][_0x40ee42(0x15f)]('active'),topicTab[_0x40ee42(0x718)]['remove'](_0x40ee42(0x3a7)),textTab[_0x40ee42(0x718)]['remove']('active'),worksheetTab[_0x40ee42(0x718)][_0x40ee42(0x8b0)]('active');if(_0x197608)_0x197608[_0x40ee42(0x718)]['remove'](_0x40ee42(0x3a7));if(_0xe56cb0)_0xe56cb0['classList'][_0x40ee42(0x8b0)](_0x40ee42(0x3a7));if(_0x400a3a)_0x400a3a[_0x40ee42(0x718)][_0x40ee42(0x8b0)](_0x40ee42(0x3a7));fileInputArea[_0x40ee42(0x718)][_0x40ee42(0x8b0)](_0x40ee42(0x248)),topicInputArea[_0x40ee42(0x718)][_0x40ee42(0x15f)](_0x40ee42(0x248)),textInputArea['classList']['add']('hidden'),worksheetInputArea[_0x40ee42(0x718)][_0x40ee42(0x15f)](_0x40ee42(0x248));if(_0x48a2ce)_0x48a2ce['classList'][_0x40ee42(0x15f)](_0x40ee42(0x248));if(_0x243a93)_0x243a93[_0x40ee42(0x718)][_0x40ee42(0x15f)](_0x40ee42(0x248));if(_0x1379f9)_0x1379f9[_0x40ee42(0x718)]['add']('hidden');}),worksheetTab['addEventListener'](_0x3bcb3d(0x5a1),()=>{const _0x3e8c2e=_0x3bcb3d;worksheetTab[_0x3e8c2e(0x718)][_0x3e8c2e(0x15f)](_0x3e8c2e(0x3a7)),topicTab[_0x3e8c2e(0x718)][_0x3e8c2e(0x8b0)](_0x3e8c2e(0x3a7)),textTab[_0x3e8c2e(0x718)][_0x3e8c2e(0x8b0)]('active'),fileTab[_0x3e8c2e(0x718)]['remove']('active');if(_0x197608)_0x197608[_0x3e8c2e(0x718)][_0x3e8c2e(0x8b0)](_0x3e8c2e(0x3a7));if(_0xe56cb0)_0xe56cb0[_0x3e8c2e(0x718)][_0x3e8c2e(0x8b0)](_0x3e8c2e(0x3a7));if(_0x400a3a)_0x400a3a[_0x3e8c2e(0x718)][_0x3e8c2e(0x8b0)]('active');worksheetInputArea[_0x3e8c2e(0x718)][_0x3e8c2e(0x8b0)]('hidden'),topicInputArea[_0x3e8c2e(0x718)]['add']('hidden'),textInputArea[_0x3e8c2e(0x718)][_0x3e8c2e(0x15f)](_0x3e8c2e(0x248)),fileInputArea[_0x3e8c2e(0x718)][_0x3e8c2e(0x15f)](_0x3e8c2e(0x248));if(_0x48a2ce)_0x48a2ce[_0x3e8c2e(0x718)][_0x3e8c2e(0x15f)](_0x3e8c2e(0x248));if(_0x243a93)_0x243a93['classList']['add'](_0x3e8c2e(0x248));if(_0x1379f9)_0x1379f9['classList'][_0x3e8c2e(0x15f)]('hidden');});const _0x1269ce=document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x5df)),_0x5882b8=document['getElementById'](_0x3bcb3d(0x88f));_0x1269ce&&_0x1269ce[_0x3bcb3d(0x838)]('click',()=>{const _0x3f978e=_0x3bcb3d;topicTab[_0x3f978e(0x718)][_0x3f978e(0x8b0)](_0x3f978e(0x3a7)),textTab[_0x3f978e(0x718)]['remove'](_0x3f978e(0x3a7)),fileTab[_0x3f978e(0x718)][_0x3f978e(0x8b0)](_0x3f978e(0x3a7)),worksheetTab[_0x3f978e(0x718)]['remove'](_0x3f978e(0x3a7));if(_0x197608)_0x197608[_0x3f978e(0x718)][_0x3f978e(0x8b0)](_0x3f978e(0x3a7));if(_0xe56cb0)_0xe56cb0[_0x3f978e(0x718)][_0x3f978e(0x8b0)](_0x3f978e(0x3a7));if(_0x400a3a)_0x400a3a[_0x3f978e(0x718)][_0x3f978e(0x8b0)]('active');_0x1269ce[_0x3f978e(0x718)][_0x3f978e(0x15f)](_0x3f978e(0x3a7)),topicInputArea['classList']['add'](_0x3f978e(0x248)),textInputArea[_0x3f978e(0x718)][_0x3f978e(0x15f)](_0x3f978e(0x248)),fileInputArea[_0x3f978e(0x718)]['add'](_0x3f978e(0x248)),worksheetInputArea[_0x3f978e(0x718)][_0x3f978e(0x15f)](_0x3f978e(0x248));if(_0x48a2ce)_0x48a2ce['classList']['add'](_0x3f978e(0x248));if(_0x243a93)_0x243a93[_0x3f978e(0x718)][_0x3f978e(0x15f)]('hidden');if(_0x1379f9)_0x1379f9['classList'][_0x3f978e(0x15f)]('hidden');_0x5882b8['classList'][_0x3f978e(0x8b0)]('hidden'),displayQuestionBank();});_0x197608&&(_0x197608[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x37efe2=_0x3bcb3d;_0x197608[_0x37efe2(0x718)][_0x37efe2(0x15f)](_0x37efe2(0x3a7)),topicTab[_0x37efe2(0x718)]['remove'](_0x37efe2(0x3a7)),textTab[_0x37efe2(0x718)][_0x37efe2(0x8b0)](_0x37efe2(0x3a7)),fileTab[_0x37efe2(0x718)][_0x37efe2(0x8b0)](_0x37efe2(0x3a7)),worksheetTab[_0x37efe2(0x718)][_0x37efe2(0x8b0)](_0x37efe2(0x3a7));if(_0xe56cb0)_0xe56cb0[_0x37efe2(0x718)][_0x37efe2(0x8b0)](_0x37efe2(0x3a7));if(_0x400a3a)_0x400a3a[_0x37efe2(0x718)][_0x37efe2(0x8b0)](_0x37efe2(0x3a7));_0x48a2ce[_0x37efe2(0x718)][_0x37efe2(0x8b0)](_0x37efe2(0x248)),topicInputArea['classList'][_0x37efe2(0x15f)]('hidden'),textInputArea[_0x37efe2(0x718)][_0x37efe2(0x15f)](_0x37efe2(0x248)),fileInputArea[_0x37efe2(0x718)][_0x37efe2(0x15f)](_0x37efe2(0x248)),worksheetInputArea[_0x37efe2(0x718)][_0x37efe2(0x15f)](_0x37efe2(0x248));if(_0x243a93)_0x243a93[_0x37efe2(0x718)][_0x37efe2(0x15f)](_0x37efe2(0x248));if(_0x1379f9)_0x1379f9[_0x37efe2(0x718)]['add'](_0x37efe2(0x248));}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x4e3))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),handleGenerateFromLink));_0xe56cb0&&_0xe56cb0[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x2a6f22=_0x3bcb3d;_0xe56cb0[_0x2a6f22(0x718)][_0x2a6f22(0x15f)](_0x2a6f22(0x3a7)),topicTab[_0x2a6f22(0x718)]['remove']('active'),textTab[_0x2a6f22(0x718)][_0x2a6f22(0x8b0)](_0x2a6f22(0x3a7)),fileTab['classList'][_0x2a6f22(0x8b0)](_0x2a6f22(0x3a7)),worksheetTab[_0x2a6f22(0x718)][_0x2a6f22(0x8b0)](_0x2a6f22(0x3a7));if(_0x197608)_0x197608[_0x2a6f22(0x718)]['remove'](_0x2a6f22(0x3a7));if(_0x1269ce)_0x1269ce[_0x2a6f22(0x718)]['remove']('active');if(_0x400a3a)_0x400a3a[_0x2a6f22(0x718)][_0x2a6f22(0x8b0)](_0x2a6f22(0x3a7));_0x243a93[_0x2a6f22(0x718)][_0x2a6f22(0x8b0)](_0x2a6f22(0x248)),topicInputArea[_0x2a6f22(0x718)]['add']('hidden'),textInputArea[_0x2a6f22(0x718)][_0x2a6f22(0x15f)](_0x2a6f22(0x248)),fileInputArea[_0x2a6f22(0x718)]['add']('hidden'),worksheetInputArea[_0x2a6f22(0x718)]['add']('hidden');if(_0x48a2ce)_0x48a2ce[_0x2a6f22(0x718)][_0x2a6f22(0x15f)](_0x2a6f22(0x248));if(_0x5882b8)_0x5882b8[_0x2a6f22(0x718)]['add']('hidden');if(_0x1379f9)_0x1379f9['classList'][_0x2a6f22(0x15f)](_0x2a6f22(0x248));});_0x400a3a&&_0x400a3a[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0xb1509f=_0x3bcb3d;_0x400a3a[_0xb1509f(0x718)]['add'](_0xb1509f(0x3a7)),topicTab[_0xb1509f(0x718)][_0xb1509f(0x8b0)](_0xb1509f(0x3a7)),textTab['classList'][_0xb1509f(0x8b0)](_0xb1509f(0x3a7)),fileTab[_0xb1509f(0x718)]['remove'](_0xb1509f(0x3a7)),worksheetTab[_0xb1509f(0x718)][_0xb1509f(0x8b0)](_0xb1509f(0x3a7));if(_0x197608)_0x197608[_0xb1509f(0x718)][_0xb1509f(0x8b0)]('active');if(_0xe56cb0)_0xe56cb0['classList'][_0xb1509f(0x8b0)](_0xb1509f(0x3a7));if(_0x1269ce)_0x1269ce[_0xb1509f(0x718)]['remove'](_0xb1509f(0x3a7));_0x1379f9['classList'][_0xb1509f(0x8b0)](_0xb1509f(0x248)),topicInputArea[_0xb1509f(0x718)]['add'](_0xb1509f(0x248)),textInputArea[_0xb1509f(0x718)]['add'](_0xb1509f(0x248)),fileInputArea['classList'][_0xb1509f(0x15f)](_0xb1509f(0x248)),worksheetInputArea['classList']['add'](_0xb1509f(0x248));if(_0x48a2ce)_0x48a2ce[_0xb1509f(0x718)][_0xb1509f(0x15f)](_0xb1509f(0x248));if(_0x243a93)_0x243a93[_0xb1509f(0x718)][_0xb1509f(0x15f)](_0xb1509f(0x248));if(_0x5882b8)_0x5882b8[_0xb1509f(0x718)][_0xb1509f(0x15f)](_0xb1509f(0x248));});const _0x316716=document['getElementById'](_0x3bcb3d(0x822)),_0x4b650a=document[_0x3bcb3d(0x85b)]('generate-from-blueprint-btn');_0x316716&&_0x316716[_0x3bcb3d(0x838)](_0x3bcb3d(0x2ee),_0xe3104e=>{const _0x3aa76e=_0x3bcb3d;_0xe3104e[_0x3aa76e(0x101)][_0x3aa76e(0xdd)][_0x3aa76e(0x689)]>0x0?_0x4b650a[_0x3aa76e(0x1ea)]=![]:_0x4b650a[_0x3aa76e(0x1ea)]=!![];});_0x4b650a&&_0x4b650a[_0x3bcb3d(0x838)]('click',handleGenerateFromBlueprint);const _0x1de21e=document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x36c)),_0x4c4d34=document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x4f2));_0x1de21e&&_0x1de21e['addEventListener'](_0x3bcb3d(0x2ee),_0x1f78bb=>{const _0x13b18f=_0x3bcb3d;_0x4c4d34[_0x13b18f(0x1ea)]=_0x1f78bb[_0x13b18f(0x101)][_0x13b18f(0xdd)][_0x13b18f(0x689)]===0x0;});_0x4c4d34&&_0x4c4d34[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),handleGenerateParallelTest);loadQuizBtn[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),handleLoadQuiz),startQuizBtn[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),async()=>{const _0x5e42aa=_0x3bcb3d,_0x53d387=document[_0x5e42aa(0x85b)](_0x5e42aa(0x60c));currentStudentName=_0x53d387['value'];if(!currentStudentName){showMessage(_0x5e42aa(0x653));return;}try{const _0x3f5dc9=currentQuizData['id'],_0x3611af=doc(db,_0x5e42aa(0x898)+appId+'/public/data/quizzes/'+_0x3f5dc9+'/submissions',currentStudentName);await setDoc(_0x3611af,{'studentName':currentStudentName,'startedAt':new Date()[_0x5e42aa(0x7a3)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x21f953){console['error'](_0x5e42aa(0x1c9),_0x21f953),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x5e42aa(0x718)][_0x5e42aa(0x15f)](_0x5e42aa(0x248)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x23b))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),showJoinGameView),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x6d3))['addEventListener'](_0x3bcb3d(0x5a1),handleJoinLiveGame),document['getElementById'](_0x3bcb3d(0x8b3))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>showView(_0x3bcb3d(0x503)));const _0x2048ba=()=>{const _0x1af51c=_0x3bcb3d,_0x448e58=document[_0x1af51c(0x85b)](_0x1af51c(0x10b))[_0x1af51c(0x7b1)]['replace'](/[^a-z0-9]/gi,'_')[_0x1af51c(0x74e)]();return'results_'+(_0x448e58||_0x1af51c(0x71d));},_0x3c2de3=document[_0x3bcb3d(0x85b)]('math-topic-search-input');_0x3c2de3&&_0x3c2de3[_0x3bcb3d(0x838)](_0x3bcb3d(0x386),_0x56db6b=>{const _0x1ccfa3=_0x3bcb3d,_0x43150b=_0x56db6b[_0x1ccfa3(0x101)]['value']['toLowerCase']()[_0x1ccfa3(0xbf)](),_0x13baf6=document[_0x1ccfa3(0x85b)]('math-topics-checkbox-container'),_0x239da1=_0x13baf6[_0x1ccfa3(0x68b)](_0x1ccfa3(0x52b));_0x239da1['forEach'](_0x103f04=>{const _0x31f53c=_0x1ccfa3;let _0x1d7593=![];const _0x32a125=_0x103f04[_0x31f53c(0x68b)]('.topic-row');_0x32a125[_0x31f53c(0xb5)](_0x2a40fc=>{const _0x5c43ca=_0x31f53c,_0x487cbf=_0x2a40fc['querySelector']('.topic-name-display')['textContent']['toLowerCase']();_0x487cbf[_0x5c43ca(0x190)](_0x43150b)?(_0x2a40fc[_0x5c43ca(0x85c)][_0x5c43ca(0x6dd)]=_0x5c43ca(0x15c),_0x1d7593=!![]):_0x2a40fc['style'][_0x5c43ca(0x6dd)]=_0x5c43ca(0x55e);}),_0x1d7593?_0x103f04['style'][_0x31f53c(0x6dd)]=_0x31f53c(0x6e5):_0x103f04[_0x31f53c(0x85c)][_0x31f53c(0x6dd)]='none';});});document['getElementById']('export-image-btn')[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>exportTableAsImage('results-table-container',_0x2048ba())),document[_0x3bcb3d(0x85b)]('export-pdf-btn')['addEventListener'](_0x3bcb3d(0x5a1),()=>exportTableAsPDF('results-table',_0x2048ba())),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x84a))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>exportTableAsWord(_0x3bcb3d(0x271),_0x2048ba())),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0xfe))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>exportTableAsExcel(_0x3bcb3d(0x589),_0x2048ba()));const _0x2396f1=()=>{const _0x1d3c31=_0x3bcb3d,_0x2a33d0=document[_0x1d3c31(0x85b)]('results-quiz-title')[_0x1d3c31(0x7b1)][_0x1d3c31(0x6ed)](/[^a-z0-9]/gi,'_')[_0x1d3c31(0x74e)]();return'leaderboard_'+(_0x2a33d0||_0x1d3c31(0x71d));};document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x5da))[_0x3bcb3d(0x838)]('click',()=>exportTableAsImage(_0x3bcb3d(0x8ba),_0x2396f1())),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x46d))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>exportTableAsPDF(_0x3bcb3d(0x334),_0x2396f1())),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0xd3))['addEventListener'](_0x3bcb3d(0x5a1),()=>exportTableAsWord(_0x3bcb3d(0x8ba),_0x2396f1())),document['getElementById'](_0x3bcb3d(0x30a))[_0x3bcb3d(0x838)]('click',()=>exportTableAsExcel(_0x3bcb3d(0x334),_0x2396f1())),projectQuizzesList[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),async _0x37d7bc=>{const _0x1a28ff=_0x3bcb3d,_0x5288df=_0x37d7bc[_0x1a28ff(0x101)][_0x1a28ff(0x8b6)](_0x1a28ff(0x499)),_0x1a57a0=_0x37d7bc[_0x1a28ff(0x101)][_0x1a28ff(0x8b6)](_0x1a28ff(0x34e)),_0x1fef1f=_0x37d7bc['target'][_0x1a28ff(0x8b6)](_0x1a28ff(0x7bc)),_0x291b47=_0x37d7bc[_0x1a28ff(0x101)][_0x1a28ff(0x8b6)]('.generate-lesson-btn'),_0x52da8b=_0x37d7bc[_0x1a28ff(0x101)]['closest'](_0x1a28ff(0xeb)),_0x53d483=_0x37d7bc['target'][_0x1a28ff(0x8b6)]('.copy-quiz-id-list-btn'),_0x2d065c=_0x37d7bc[_0x1a28ff(0x101)][_0x1a28ff(0x8b6)](_0x1a28ff(0x37b)),_0x295c5a=_0x37d7bc[_0x1a28ff(0x101)]['closest'](_0x1a28ff(0x3b6)),_0x46059c=_0x37d7bc[_0x1a28ff(0x101)]['closest'](_0x1a28ff(0x3ca)),_0x492272=_0x37d7bc['target'][_0x1a28ff(0x8b6)]('.rename-quiz-btn'),_0xfe457e=_0x37d7bc[_0x1a28ff(0x101)]['closest'](_0x1a28ff(0xb7)),_0x26de18=_0x37d7bc[_0x1a28ff(0x101)][_0x1a28ff(0x8b6)](_0x1a28ff(0x309)),_0x596bab=_0x37d7bc['target'][_0x1a28ff(0x8b6)](_0x1a28ff(0x55d)),_0x2e4703=_0x37d7bc['target']['closest']('.unpair-quiz-btn'),_0x22061b=_0x37d7bc['target']['closest']('.start-presentation-list-btn'),_0x696d75=_0x37d7bc[_0x1a28ff(0x101)][_0x1a28ff(0x8b6)](_0x1a28ff(0x63d)),_0x43f518=_0x37d7bc[_0x1a28ff(0x101)][_0x1a28ff(0x8b6)](_0x1a28ff(0x19f)),_0x3e0b39=_0x37d7bc[_0x1a28ff(0x101)]['closest'](_0x1a28ff(0x681)),_0x33065e=_0x37d7bc[_0x1a28ff(0x101)][_0x1a28ff(0x8b6)](_0x1a28ff(0x4a6)),_0xd489ac=_0x37d7bc[_0x1a28ff(0x101)][_0x1a28ff(0x8b6)](_0x1a28ff(0x114)),_0x934f6a=_0x37d7bc[_0x1a28ff(0x101)][_0x1a28ff(0x8b6)](_0x1a28ff(0x29f)),_0x5f2c89=_0x37d7bc[_0x1a28ff(0x101)][_0x1a28ff(0x8b6)](_0x1a28ff(0x82f));if(_0x934f6a){const _0x844a16=_0x934f6a[_0x1a28ff(0x717)][_0x1a28ff(0x83b)],_0x3bdfae=document['getElementById']('actions-container-'+_0x844a16);_0x3bdfae&&_0x3bdfae['classList'][_0x1a28ff(0x4bc)](_0x1a28ff(0x248));}else{if(_0x1a57a0){const _0x4e7d2b=_0x1a57a0[_0x1a28ff(0x717)][_0x1a28ff(0x83b)],_0xad0089=allQuizzes[_0x1a28ff(0x687)](_0x2e796e=>_0x2e796e['id']===_0x4e7d2b);_0xad0089&&handleGenerateParallelPostTest(_0xad0089);}else{if(_0x1fef1f)handleCompareResults(_0x1fef1f['dataset'][_0x1a28ff(0x83b)],_0x1fef1f[_0x1a28ff(0x717)]['preTestId']);else{if(_0x291b47){const _0x1fde60=_0x291b47[_0x1a28ff(0x717)][_0x1a28ff(0x83b)],_0x1be98a=allQuizzes['find'](_0x3c12bd=>_0x3c12bd['id']===_0x1fde60);_0x1be98a&&_0x1be98a[_0x1a28ff(0x3fa)]?(displayLessonPlan(_0x1be98a[_0x1a28ff(0x3fa)],_0x1be98a),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x1fde60)),document['getElementById']('confirmation-modal')[_0x1a28ff(0x7c6)]('h3')['textContent']=_0x1a28ff(0x765),document[_0x1a28ff(0x85b)](_0x1a28ff(0x23c))[_0x1a28ff(0x7b1)]=_0x1a28ff(0x82b)):handleGenerateLessonPlan(_0x1fde60);}else{if(_0x52da8b)handleToggleStarQuiz(_0x52da8b[_0x1a28ff(0x717)][_0x1a28ff(0x83b)]);else{if(_0x53d483)copyTextToClipboard(_0x53d483[_0x1a28ff(0x717)]['quizId'],_0x1a28ff(0x165));else{if(_0x2d065c)handleOpenQuizEditor(_0x2d065c[_0x1a28ff(0x717)][_0x1a28ff(0x83b)]);else{if(_0x295c5a)handleQuizSettings(_0x295c5a[_0x1a28ff(0x717)][_0x1a28ff(0x83b)]);else{if(_0x46059c)handleDuplicateQuiz(_0x46059c['dataset']['quizId']);else{if(_0x492272)handleRenameQuiz(_0x492272[_0x1a28ff(0x717)][_0x1a28ff(0x83b)],_0x492272['dataset'][_0x1a28ff(0x2cd)]);else{if(_0xfe457e){const _0x565378=_0xfe457e[_0x1a28ff(0x717)][_0x1a28ff(0x83b)],_0x27af59=allQuizzes[_0x1a28ff(0x687)](_0x317364=>_0x317364['id']===_0x565378);_0x27af59&&handleGenerateParallelFromBank(_0x27af59);}else{if(_0x26de18)handleMoveQuiz(_0x26de18[_0x1a28ff(0x717)][_0x1a28ff(0x83b)]);else{if(_0x596bab)handleManualQuizPairing(_0x596bab['dataset'][_0x1a28ff(0x83b)]);else{if(_0x2e4703)handleUnpairQuiz(_0x2e4703[_0x1a28ff(0x717)][_0x1a28ff(0x83b)]);else{if(_0x22061b){const _0x50fc8f=_0x22061b['dataset'][_0x1a28ff(0x83b)],_0x2894b8=allQuizzes[_0x1a28ff(0x687)](_0x2ea23b=>_0x2ea23b['id']===_0x50fc8f);if(_0x2894b8)startPresentation(_0x2894b8);}else{if(_0x696d75){const _0x2002e4=_0x696d75[_0x1a28ff(0x717)][_0x1a28ff(0x83b)],_0xce9521=allQuizzes[_0x1a28ff(0x687)](_0x5e0e63=>_0x5e0e63['id']===_0x2002e4);_0xce9521&&(currentQuizData=_0xce9521,startAdminTest());}else{if(_0x43f518)handleStartLiveRace(_0x43f518['dataset'][_0x1a28ff(0x83b)]);else{if(_0x3e0b39)actionTargetId=_0x3e0b39['dataset'][_0x1a28ff(0x83b)],document[_0x1a28ff(0x85b)]('export-pdf-modal')[_0x1a28ff(0x718)][_0x1a28ff(0x8b0)]('hidden');else{if(_0x33065e)showConfirmation(_0x1a28ff(0x6f3)+_0x33065e['dataset']['topic']+_0x1a28ff(0xc2),()=>handleDeleteQuiz(_0x33065e[_0x1a28ff(0x717)][_0x1a28ff(0x83b)]));else{if(_0xd489ac)handleQuizStatus(_0xd489ac[_0x1a28ff(0x717)][_0x1a28ff(0x83b)]);else{if(_0x5f2c89)handleGenerateEasyVersionQuiz(_0x5f2c89['dataset'][_0x1a28ff(0x83b)]);else _0x5288df&&showQuizDetailView(_0x5288df['dataset'][_0x1a28ff(0x83b)]);}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x3bcb3d(0x334))[_0x3bcb3d(0x7c6)](_0x3bcb3d(0x1c3))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),_0x4b2e5f=>{const _0x35b89b=_0x3bcb3d,_0x14a140=_0x4b2e5f[_0x35b89b(0x101)]['closest'](_0x35b89b(0xb4));if(!_0x14a140||!_0x14a140[_0x35b89b(0x717)]['sort'])return;const _0x5a3ceb=_0x14a140[_0x35b89b(0x717)]['sort'];if(quizLeaderboardSortBy===_0x5a3ceb)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x35b89b(0x404)?'desc':'asc';else{quizLeaderboardSortBy=_0x5a3ceb;const _0x3a8b0a=['studentName'];quizLeaderboardSortOrder=_0x3a8b0a[_0x35b89b(0x190)](_0x5a3ceb)?_0x35b89b(0x404):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x3bcb3d(0x85b)]('close-presentation-btn')['addEventListener'](_0x3bcb3d(0x5a1),closePresentation),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x8a8))['addEventListener'](_0x3bcb3d(0x5a1),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x3bcb3d(0x85b)]('next-question-btn')[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x515e97=_0x3bcb3d;currentQuizData[_0x515e97(0x79e)]&&currentPresentationSlide<currentQuizData[_0x515e97(0x79e)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x3bcb3d(0x838)](_0x3bcb3d(0x4cf),()=>{const _0x3a87ad=_0x3bcb3d;!document[_0x3a87ad(0x376)]&&(presentationModal[_0x3a87ad(0x85c)]['display']=_0x3a87ad(0x55e));}),document[_0x3bcb3d(0x85b)]('delete-all-students-btn')[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),handleDeleteAllStudents),studentList[_0x3bcb3d(0x838)]('click',_0x326bd2=>{const _0x3693c9=_0x3bcb3d,_0x4dc726=_0x326bd2[_0x3693c9(0x101)][_0x3693c9(0x8b6)](_0x3693c9(0x8c));if(_0x4dc726){const _0x3d2d21=_0x4dc726[_0x3693c9(0x717)][_0x3693c9(0x333)];handleDeleteStudent(_0x3d2d21);}}),document['getElementById'](_0x3bcb3d(0x87a))['addEventListener'](_0x3bcb3d(0x5a1),handleGenerateFromFileClick),fileUploadInput[_0x3bcb3d(0x838)]('change',_0x34096d=>{const _0x2fded5=_0x3bcb3d,_0x3580d8=_0x34096d[_0x2fded5(0x101)][_0x2fded5(0xdd)][0x0],_0x391c9b=document['getElementById'](_0x2fded5(0x87a));_0x3580d8?(selectedFile=_0x3580d8,_0x391c9b[_0x2fded5(0x1ea)]=![]):(selectedFile=null,_0x391c9b[_0x2fded5(0x1ea)]=!![]);}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x482))[_0x3bcb3d(0x838)](_0x3bcb3d(0x2ee),_0x59b73d=>{const _0x47541d=_0x3bcb3d,_0x3b1931=document['getElementById']('timer-duration-container'),_0x282d46=document['getElementById']('timer-duration-label'),_0x477e08=document[_0x47541d(0x85b)]('timer-duration-input');_0x59b73d[_0x47541d(0x101)]['value']===_0x47541d(0x55e)?_0x3b1931[_0x47541d(0x718)][_0x47541d(0x15f)](_0x47541d(0x248)):(_0x3b1931['classList'][_0x47541d(0x8b0)]('hidden'),_0x59b73d[_0x47541d(0x101)][_0x47541d(0x39a)]==='whole_quiz'?(_0x282d46[_0x47541d(0x7b1)]='ระยะเวลา\x20(นาที):',_0x477e08[_0x47541d(0x39a)]='10'):(_0x282d46[_0x47541d(0x7b1)]=_0x47541d(0x1b1),_0x477e08[_0x47541d(0x39a)]='30'));}),document['getElementById']('quiz-type-select')[_0x3bcb3d(0x838)](_0x3bcb3d(0x2ee),_0x51bcf3=>{const _0x13e6f8=_0x3bcb3d,_0x328b09=document[_0x13e6f8(0x85b)](_0x13e6f8(0x120)),_0x1ec34c=_0x51bcf3[_0x13e6f8(0x101)]['value'],_0x1a02fe=document[_0x13e6f8(0x7c6)]('label[for=\x22num-questions\x22]'),_0xaa527a=document[_0x13e6f8(0x85b)](_0x13e6f8(0x1b6)),_0x33e13a=document[_0x13e6f8(0x85b)](_0x13e6f8(0x7de));_0x1ec34c===_0x13e6f8(0x6e7)?_0x1a02fe['textContent']=_0x13e6f8(0x31f):_0x1a02fe[_0x13e6f8(0x7b1)]=_0x13e6f8(0x176),_0x1ec34c===_0x13e6f8(0x75e)||_0x1ec34c===_0x13e6f8(0x44d)||_0x1ec34c==='mixed'?_0x328b09[_0x13e6f8(0x718)][_0x13e6f8(0x8b0)](_0x13e6f8(0x248)):_0x328b09['classList']['add'](_0x13e6f8(0x248)),_0xaa527a[_0x13e6f8(0x790)]=_0x33e13a[_0x13e6f8(0x39a)];}),document[_0x3bcb3d(0x85b)]('num-questions')[_0x3bcb3d(0x838)]('input',_0x3a3216=>{const _0x18d68c=_0x3bcb3d;document[_0x18d68c(0x85b)](_0x18d68c(0x1b6))['max']=_0x3a3216[_0x18d68c(0x101)][_0x18d68c(0x39a)];}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x618))[_0x3bcb3d(0x838)](_0x3bcb3d(0x2ee),_0x200149=>{const _0x236fe8=_0x3bcb3d,_0x361283=document[_0x236fe8(0x85b)]('modal-timer-duration-container'),_0x509378=document[_0x236fe8(0x85b)](_0x236fe8(0x464)),_0x62c2e5=document[_0x236fe8(0x85b)]('modal-timer-duration-input');_0x200149[_0x236fe8(0x101)][_0x236fe8(0x39a)]===_0x236fe8(0x55e)?_0x361283[_0x236fe8(0x718)][_0x236fe8(0x15f)]('hidden'):(_0x361283['classList']['remove'](_0x236fe8(0x248)),_0x200149[_0x236fe8(0x101)]['value']===_0x236fe8(0x1de)?_0x509378[_0x236fe8(0x7b1)]='ระยะเวลา\x20(นาที):':_0x509378[_0x236fe8(0x7b1)]='ระยะเวลา\x20(วินาที):');}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x26b))['addEventListener'](_0x3bcb3d(0x5a1),()=>{const _0x299f4c=_0x3bcb3d;document[_0x299f4c(0x85b)](_0x299f4c(0x510))[_0x299f4c(0x718)]['add']('hidden');}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x705))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x1b25dc=_0x3bcb3d;document[_0x1b25dc(0x85b)]('quiz-editor-modal')[_0x1b25dc(0x718)]['add'](_0x1b25dc(0x248));}),document['getElementById'](_0x3bcb3d(0x4ee))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),handleVerifyAnswersInEditor),document['getElementById'](_0x3bcb3d(0x1c5))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x36c4e5=_0x3bcb3d;document[_0x36c4e5(0x85b)](_0x36c4e5(0x510))[_0x36c4e5(0x718)]['add'](_0x36c4e5(0x248)),showConfirmation(_0x36c4e5(0x3e9),handleSaveChanges);}),document['getElementById'](_0x3bcb3d(0x757))['addEventListener']('click',handleAutoFixLatex);const _0x4cf09c=document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x818));_0x4cf09c&&_0x4cf09c[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),_0x42c58e=>{const _0x196494=_0x3bcb3d,_0x29dfa3=_0x42c58e['target'][_0x196494(0x8b6)](_0x196494(0x784)),_0x230b63=_0x42c58e[_0x196494(0x101)]['closest'](_0x196494(0x810));if(_0x29dfa3){const _0x5425d2=_0x29dfa3[_0x196494(0x8b6)]('.question-editor-item'),_0x461fee=parseInt(_0x5425d2['dataset'][_0x196494(0x597)],0xa);handleRegenerateQuestionInEditor(_0x461fee);}else{if(_0x230b63){const _0x5d57b3=_0x230b63['closest'](_0x196494(0x505)),_0x4da3ea=parseInt(_0x5d57b3[_0x196494(0x717)][_0x196494(0x597)],0xa);handleAiFixFormula(_0x4da3ea);}}});document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x5de))[_0x3bcb3d(0x838)]('click',openQuizBankModal),document['getElementById'](_0x3bcb3d(0x130))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x54b9f4=_0x3bcb3d;document['getElementById']('quiz-bank-modal')[_0x54b9f4(0x718)][_0x54b9f4(0x15f)](_0x54b9f4(0x248));}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x6a1))[_0x3bcb3d(0x838)](_0x3bcb3d(0x386),_0x578e01=>renderQuizBankList(_0x578e01[_0x3bcb3d(0x101)][_0x3bcb3d(0x39a)]));const _0x272353=document['getElementById']('math-topics-checkbox-container');if(_0x272353){let _0x32b34f=null;_0x272353[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),_0x5265dc=>{const _0x1606c0=_0x3bcb3d,_0x5dcbc0=_0x5265dc[_0x1606c0(0x101)],_0x15813f=_0x5dcbc0['closest'](_0x1606c0(0x45f)),_0x252b47=_0x5dcbc0[_0x1606c0(0x8b6)]('.delete-custom-topic-btn'),_0x51fcd6=_0x5dcbc0[_0x1606c0(0x8b6)](_0x1606c0(0xa6)),_0x270d49=_0x5dcbc0[_0x1606c0(0x8b6)](_0x1606c0(0x758));if(_0x252b47){_0x5265dc[_0x1606c0(0x514)]();const _0x23a74b=_0x252b47[_0x1606c0(0x717)]['id'],_0x58a610=_0x252b47[_0x1606c0(0x8b6)](_0x1606c0(0x8aa))[_0x1606c0(0x7c6)](_0x1606c0(0x39b))[_0x1606c0(0x7b1)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x58a610+'\x22?',()=>handleDeleteCustomTopic(_0x23a74b));}else{if(_0x15813f){_0x5265dc[_0x1606c0(0x514)]();_0x32b34f&&toggleTopicEditMode(_0x32b34f,![]);const _0x235163=_0x15813f[_0x1606c0(0x8b6)](_0x1606c0(0x89f));_0x32b34f=_0x235163,toggleTopicEditMode(_0x235163,!![]);}else{if(_0x51fcd6){_0x5265dc[_0x1606c0(0x514)]();const _0x5ac819=_0x51fcd6[_0x1606c0(0x717)]['id'],_0x41b132=_0x51fcd6['closest'](_0x1606c0(0x89f)),_0x266452=_0x41b132['querySelector']('.topic-name-input')[_0x1606c0(0x39a)];handleUpdateCustomTopic(_0x5ac819,_0x266452),_0x32b34f=null;}else{if(_0x270d49){_0x5265dc[_0x1606c0(0x514)]();const _0x78d2f3=_0x270d49[_0x1606c0(0x8b6)](_0x1606c0(0x89f));toggleTopicEditMode(_0x78d2f3,![]),_0x32b34f=null;}}}}}),document['getElementById'](_0x3bcb3d(0xd0))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0xf49037=_0x3bcb3d;document['getElementById'](_0xf49037(0x27e))['classList'][_0xf49037(0x15f)](_0xf49037(0x248));}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x352))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x4ccdf9=_0x3bcb3d;document[_0x4ccdf9(0x85b)](_0x4ccdf9(0x27e))[_0x4ccdf9(0x718)][_0x4ccdf9(0x15f)](_0x4ccdf9(0x248));}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0xa0))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),handleExportLessonPDF);}document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x8a1))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),()=>{const _0x688b89=_0x3bcb3d;document['getElementById'](_0x688b89(0x3e7))['classList']['add']('hidden');}),document[_0x3bcb3d(0x85b)](_0x3bcb3d(0x3c0))['addEventListener'](_0x3bcb3d(0x5a1),()=>{const _0x48427b=_0x3bcb3d;document['getElementById'](_0x48427b(0x3e7))[_0x48427b(0x718)][_0x48427b(0x15f)]('hidden');}),setupComparisonModalTabs(),document['body'][_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),function(_0x5572f5){const _0x3e5e2f=_0x3bcb3d;if(_0x5572f5[_0x3e5e2f(0x101)]['classList'][_0x3e5e2f(0x328)](_0x3e5e2f(0x44a))){const _0x542734=unescape(_0x5572f5[_0x3e5e2f(0x101)]['dataset'][_0x3e5e2f(0x2cd)]);startSkillPractice(_0x542734);}}),document['getElementById'](_0x3bcb3d(0x799))[_0x3bcb3d(0x838)](_0x3bcb3d(0x5a1),_0x4d8838=>{const _0x4920b1=_0x3bcb3d,_0x31001a=_0x4d8838['target'][_0x4920b1(0x8b6)](_0x4920b1(0x2f6));if(_0x31001a){const _0xcc24b=_0x31001a[_0x4920b1(0x717)][_0x4920b1(0x333)];handleDeleteSubmission(_0xcc24b);}});}async function showStudentProgressView(){const _0x11d7ae=_0x4bb8e3;studentInitialView[_0x11d7ae(0x718)][_0x11d7ae(0x15f)](_0x11d7ae(0x248)),document[_0x11d7ae(0x85b)](_0x11d7ae(0x457))[_0x11d7ae(0x718)][_0x11d7ae(0x8b0)](_0x11d7ae(0x248));const _0x59bb55=document[_0x11d7ae(0x85b)](_0x11d7ae(0x71b)),_0xfc5abd=document[_0x11d7ae(0x85b)](_0x11d7ae(0x78a)),_0x4bc47c=document[_0x11d7ae(0x85b)](_0x11d7ae(0x1e5));_0x4bc47c[_0x11d7ae(0x76f)]=_0x11d7ae(0x6c8),_0xfc5abd['innerHTML']=_0x11d7ae(0x367),_0xfc5abd[_0x11d7ae(0x1ea)]=!![],_0x59bb55[_0x11d7ae(0x76f)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects['length']===0x0){const _0x5ff412=collection(db,'artifacts/'+appId+_0x11d7ae(0x802)),_0x48f72f=await getDocs(_0x5ff412);allProjects=_0x48f72f[_0x11d7ae(0x46b)]['map'](_0x9dd70a=>({'id':_0x9dd70a['id'],..._0x9dd70a[_0x11d7ae(0xc3)]()}));}const _0x2ee837=allProjects[_0x11d7ae(0x2fe)](_0x105077=>_0x105077[_0x11d7ae(0x785)]?.[_0x11d7ae(0x1d7)]!==![]);_0x2ee837[_0x11d7ae(0x676)]((_0x42d3c4,_0x169c06)=>_0x42d3c4['projectName'][_0x11d7ae(0x5a3)](_0x169c06[_0x11d7ae(0xe9)],'th')),_0x59bb55[_0x11d7ae(0x76f)]=_0x11d7ae(0x4dc)+_0x2ee837[_0x11d7ae(0x347)](_0x5e3888=>_0x11d7ae(0x4b8)+_0x5e3888['id']+'\x22>'+_0x5e3888['projectName']+_0x11d7ae(0x1e3))[_0x11d7ae(0x19b)](''),_0x59bb55[_0x11d7ae(0x11f)]=()=>{const _0x185933=_0x11d7ae,_0x51ec9a=_0xfc5abd['value'],_0x38be14=_0x59bb55[_0x185933(0x39a)];_0xfc5abd['disabled']=!![],_0xfc5abd[_0x185933(0x76f)]=_0x185933(0x367),_0x4bc47c[_0x185933(0x76f)]=_0x185933(0x860);if(!_0x38be14)return;const _0x3f4999=allProjects[_0x185933(0x687)](_0x29f0f3=>_0x29f0f3['id']===_0x38be14);if(!_0x3f4999||!_0x3f4999['students'])return;const _0x4637fc=()=>{const _0x539d04=_0x185933;_0xfc5abd[_0x539d04(0x76f)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x3f4999[_0x539d04(0x4a4)][_0x539d04(0x347)](_0x1b772c=>_0x539d04(0x4b8)+_0x1b772c+'\x22>'+_0x1b772c+_0x539d04(0x1e3))[_0x539d04(0x19b)](''),_0xfc5abd['disabled']=![];const _0x4503cf=Array[_0x539d04(0x1e2)](_0xfc5abd['options'])[_0x539d04(0x347)](_0x52724f=>_0x52724f[_0x539d04(0x39a)]);if(_0x51ec9a&&_0x4503cf[_0x539d04(0x190)](_0x51ec9a))_0xfc5abd['value']=_0x51ec9a,_0xfc5abd['dispatchEvent'](new Event('change'));else _0x3f4999[_0x539d04(0x4a4)][_0x539d04(0x689)]===0x1&&(_0xfc5abd['value']=_0x3f4999[_0x539d04(0x4a4)][0x0],_0xfc5abd[_0x539d04(0xe5)](new Event(_0x539d04(0x2ee))));};if(_0x3f4999['settings']?.['isPasscodeEnabled']){if(sessionStorage[_0x185933(0x2b0)](_0x185933(0x874)+_0x38be14)==='true'){_0x4637fc();return;}const _0x46529c=document[_0x185933(0x85b)](_0x185933(0x6f6)),_0x441f8e=document[_0x185933(0x85b)](_0x185933(0x47d)),_0x164935=document['getElementById'](_0x185933(0x322)),_0x394607=document[_0x185933(0x85b)](_0x185933(0x6c7)),_0x330089=document['getElementById'](_0x185933(0x590));document[_0x185933(0x85b)](_0x185933(0x180))['textContent']=_0x185933(0x649)+_0x3f4999[_0x185933(0xe9)],_0x394607['value']='',_0x330089[_0x185933(0x718)][_0x185933(0x15f)](_0x185933(0x248)),_0x46529c[_0x185933(0x718)][_0x185933(0x8b0)](_0x185933(0x248));const _0x5375b4=()=>{const _0x105b3a=_0x185933,_0x3da249=_0x394607['value'][_0x105b3a(0xbf)]();_0x3da249===_0x3f4999[_0x105b3a(0x785)][_0x105b3a(0x7ae)]?(sessionStorage['setItem'](_0x105b3a(0x874)+_0x38be14,_0x105b3a(0x7d3)),_0x46529c['classList'][_0x105b3a(0x15f)](_0x105b3a(0x248)),_0x4637fc(),_0x441f8e[_0x105b3a(0x3de)](_0x105b3a(0x5a1),_0x5375b4)):_0x330089[_0x105b3a(0x718)][_0x105b3a(0x8b0)](_0x105b3a(0x248));};_0x441f8e[_0x185933(0x68e)]=_0x5375b4,_0x164935[_0x185933(0x68e)]=()=>{const _0x5e9f9a=_0x185933;_0x46529c[_0x5e9f9a(0x718)][_0x5e9f9a(0x15f)](_0x5e9f9a(0x248)),_0x59bb55[_0x5e9f9a(0x39a)]='',_0x441f8e[_0x5e9f9a(0x3de)](_0x5e9f9a(0x5a1),_0x5375b4);};}else _0x4637fc();},_0xfc5abd[_0x11d7ae(0x11f)]=()=>{const _0x3d99d1=_0x11d7ae,_0x37ab37=_0x59bb55[_0x3d99d1(0x39a)],_0x26cb37=_0xfc5abd[_0x3d99d1(0x39a)];_0x37ab37&&_0x26cb37&&renderStudentProgressDashboard(_0x37ab37,_0x26cb37);};}async function renderStudentProgressDashboard(_0x5a2f0b,_0x3994f7){const _0x37cfd9=_0x4bb8e3,_0x2c5cc5=document[_0x37cfd9(0x85b)]('student-progress-content');_0x2c5cc5['innerHTML']=_0x37cfd9(0x3fb);try{const _0x1a8436=collection(db,_0x37cfd9(0x898)+appId+_0x37cfd9(0x1a4)),_0x2add46=query(_0x1a8436,where(_0x37cfd9(0x598),'==',_0x5a2f0b)),_0x117445=await getDocs(_0x2add46),_0x46ff4e=_0x117445[_0x37cfd9(0x46b)]['map'](_0x1f20f5=>({'id':_0x1f20f5['id'],..._0x1f20f5[_0x37cfd9(0xc3)]()})),_0x23e687=_0x46ff4e[_0x37cfd9(0x347)](_0x354df3=>getDoc(doc(db,_0x37cfd9(0x898)+appId+'/public/data/quizzes/'+_0x354df3['id']+_0x37cfd9(0x84d),_0x3994f7))),_0x47caf0=await Promise['all'](_0x23e687),_0x497dda=_0x47caf0[_0x37cfd9(0x2fe)](_0x35542b=>_0x35542b['exists']())[_0x37cfd9(0x347)](_0x16de5b=>({'quizId':_0x16de5b['ref']['parent'][_0x37cfd9(0x4a0)]['id'],..._0x16de5b[_0x37cfd9(0xc3)]()}));if(_0x497dda['length']===0x0){_0x2c5cc5['innerHTML']=_0x37cfd9(0x644);return;}let _0x1180c4=_0x37cfd9(0x387);_0x497dda[_0x37cfd9(0xb5)](_0x183224=>{const _0x538623=_0x37cfd9,_0x2cab24=_0x46ff4e['find'](_0x55e460=>_0x55e460['id']===_0x183224[_0x538623(0x83b)]),_0x4cce5d=_0x2cab24['settings']?.[_0x538623(0x3b3)]||_0x538623(0x781),_0x1beea1=_0x2cab24[_0x538623(0x785)]?.[_0x538623(0x255)]??0x0,_0x4fa517=_0x183224[_0x538623(0x5d6)]>=_0x1beea1;let _0x1edce2='',_0x17c806=_0x538623(0x3c4);switch(_0x4cce5d){case _0x538623(0x781):case _0x538623(0x555):_0x17c806=_0x4fa517?_0x538623(0x11b):_0x538623(0x209),_0x1edce2=_0x538623(0x437)+(_0x4fa517?_0x538623(0x3c5):'text-red-700')+'\x22>'+_0x183224['bestScore']+'\x20/\x20'+_0x183224[_0x538623(0x295)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x4fa517?_0x538623(0x64b):_0x538623(0x228))+'\x22>'+(_0x4fa517?_0x538623(0x71c):_0x538623(0x684))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x538623(0x2ac):_0x17c806=_0x4fa517?_0x538623(0x11b):_0x538623(0x209),_0x1edce2=_0x538623(0x3b8)+(_0x4fa517?_0x538623(0x64b):_0x538623(0x228))+'\x22>'+(_0x4fa517?_0x538623(0x71c):'ไม่ผ่าน')+_0x538623(0x321);break;case _0x538623(0x205):_0x17c806=_0x538623(0x288),_0x1edce2=_0x538623(0x298);break;}_0x1180c4+=_0x538623(0x51a)+_0x17c806+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x2cab24[_0x538623(0x2cd)]+_0x538623(0x1a2)+_0x183224[_0x538623(0x491)]['length']+_0x538623(0x52c)+new Date(_0x183224[_0x538623(0xf0)])[_0x538623(0x7cf)](_0x538623(0x23d))+_0x538623(0x37d)+_0x1edce2+_0x538623(0x7e2);}),_0x1180c4+=_0x37cfd9(0x277),_0x2c5cc5[_0x37cfd9(0x76f)]=_0x1180c4;}catch(_0x40c6d2){console['error'](_0x37cfd9(0x319),_0x40c6d2),_0x2c5cc5['innerHTML']=_0x37cfd9(0x336);}}function setupStudentProgressListeners(){const _0x2b8229=_0x4bb8e3;document['getElementById'](_0x2b8229(0x124))['addEventListener'](_0x2b8229(0x5a1),showStudentProgressView),document[_0x2b8229(0x85b)](_0x2b8229(0x456))['addEventListener']('click',()=>{const _0x538103=_0x2b8229;document[_0x538103(0x85b)](_0x538103(0x457))[_0x538103(0x718)][_0x538103(0x15f)]('hidden'),document['getElementById'](_0x538103(0x287))[_0x538103(0x718)][_0x538103(0x8b0)](_0x538103(0x248));});}async function startSkillPractice(_0x4afd83){const _0x18884e=_0x4bb8e3;studentResultArea[_0x18884e(0x718)]['add'](_0x18884e(0x248)),studentQuizArea[_0x18884e(0x76f)]=_0x18884e(0x823),studentQuizArea[_0x18884e(0x718)][_0x18884e(0x8b0)](_0x18884e(0x248));try{const _0x539b8d=await getStandardizedTopic(_0x4afd83);console[_0x18884e(0x4c0)]('คำถามดิบ:\x20\x22'+_0x4afd83+_0x18884e(0x348)+_0x539b8d+'\x22'),studentQuizArea[_0x18884e(0x7c6)]('p')[_0x18884e(0x7b1)]=_0x18884e(0x28d)+_0x539b8d+_0x18884e(0x570);const _0x14cf00=collection(db,'artifacts/'+appId+_0x18884e(0x842)),_0xa14b4e=query(_0x14cf00,where(_0x18884e(0x2cd),'==',_0x539b8d)),_0x1bc5b0=await getDocs(_0xa14b4e);if(_0x1bc5b0[_0x18884e(0x46b)][_0x18884e(0x689)]>=0x3){console[_0x18884e(0x4c0)](_0x18884e(0x14b)+_0x1bc5b0['docs'][_0x18884e(0x689)]+_0x18884e(0x490)+_0x539b8d+_0x18884e(0x2f2));let _0x30f318=_0x1bc5b0[_0x18884e(0x46b)][_0x18884e(0x347)](_0x5944a0=>_0x5944a0[_0x18884e(0xc3)]());shuffleArray(_0x30f318);const _0x1740aa={'topic':_0x539b8d,'questions':_0x30f318[_0x18884e(0x50c)](0x0,0x3)};displaySkillPracticeDrill(_0x1740aa);}else{console['log'](_0x18884e(0x745)+_0x539b8d+_0x18884e(0x77f));const _0x17ee35=await generatePracticeQuestions(_0x539b8d);await saveDrillToPracticeBank(_0x17ee35,_0x539b8d),displaySkillPracticeDrill(_0x17ee35);}}catch(_0xb6cc9e){console['error'](_0x18884e(0x67e),_0xb6cc9e),showMessage(_0x18884e(0x6f1)),studentQuizArea['classList'][_0x18884e(0x15f)](_0x18884e(0x248)),studentResultArea[_0x18884e(0x718)]['remove'](_0x18884e(0x248));}}async function saveDrillToPracticeBank(_0x1c4449,_0x168e7e){const _0x3f4739=_0x4bb8e3,_0x111a4c=collection(db,'artifacts/'+appId+_0x3f4739(0x842)),_0x54feca=writeBatch(db);_0x1c4449[_0x3f4739(0x79e)][_0x3f4739(0xb5)](_0x2f2514=>{const _0x2554f1=_0x3f4739,_0x5d251a=doc(_0x111a4c);_0x54feca[_0x2554f1(0x91)](_0x5d251a,{'topic':_0x168e7e,'questionText':_0x2f2514[_0x2554f1(0x862)],'options':_0x2f2514[_0x2554f1(0x498)],'correctAnswerIndex':_0x2f2514[_0x2554f1(0x136)],'explanation':_0x2f2514[_0x2554f1(0x829)],'createdAt':serverTimestamp()});});try{await _0x54feca[_0x3f4739(0x3f8)](),console[_0x3f4739(0x4c0)](_0x3f4739(0x558)+_0x1c4449['questions'][_0x3f4739(0x689)]+_0x3f4739(0x711));}catch(_0x442527){console[_0x3f4739(0x60f)](_0x3f4739(0x59a),_0x442527);}}async function getStandardizedTopic(_0x5a6b48){const _0x24aebf=_0x4bb8e3,_0x307c7a=_0x24aebf(0x8b)+_0x5a6b48+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x1bd1c6={'type':'OBJECT','properties':{'standardTopic':{'type':'STRING'}},'required':[_0x24aebf(0x5af)]};try{const _0x202665=await callAnalysisApi(_0x307c7a,_0x1bd1c6);return _0x202665[_0x24aebf(0x5af)];}catch(_0x38e84c){return console[_0x24aebf(0x60f)](_0x24aebf(0x552),_0x38e84c),_0x5a6b48;}}async function handleGenerateEasyVersionQuiz(_0x3f57f3){const _0x16e61e=_0x4bb8e3;showConfirmation(_0x16e61e(0x1ce),async()=>{const _0x237d33=_0x16e61e;showMessage(_0x237d33(0x803));try{const _0x2a215d=allQuizzes['find'](_0x313513=>_0x313513['id']===_0x3f57f3);if(!_0x2a215d)throw new Error(_0x237d33(0x418));const _0x332184=_0x237d33(0x730)+JSON[_0x237d33(0x852)](_0x2a215d['questions'])+_0x237d33(0x133),_0x182614={'type':'OBJECT','properties':{'questionText':{'type':_0x237d33(0x7f1)},'questionType':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x237d33(0x7f1)}},'correctAnswerIndex':{'type':_0x237d33(0x152)},'idealAnswer':{'type':_0x237d33(0x7f1)},'explanation':{'type':_0x237d33(0x7f1)},'imageCode':{'type':'STRING'}},'required':[_0x237d33(0x862),'questionType',_0x237d33(0x829)]},_0x372648={'type':_0x237d33(0x67a),'properties':{'questions':{'type':_0x237d33(0x12f),'items':_0x182614}},'required':['questions']},_0x51086f=await callAnalysisApi(_0x332184,_0x372648);_0x51086f&&_0x51086f[_0x237d33(0x79e)]&&_0x51086f[_0x237d33(0x79e)][_0x237d33(0xb5)](_0x45df25=>{const _0x4f40aa=_0x237d33;_0x45df25['questionText']&&(_0x45df25[_0x4f40aa(0x862)]=_0x45df25[_0x4f40aa(0x862)]['trim']()[_0x4f40aa(0x6ed)](/,$/,'')[_0x4f40aa(0xbf)]());_0x45df25[_0x4f40aa(0x498)]&&Array[_0x4f40aa(0x7eb)](_0x45df25[_0x4f40aa(0x498)])&&(_0x45df25[_0x4f40aa(0x498)]=_0x45df25[_0x4f40aa(0x498)][_0x4f40aa(0x347)](_0x45e1ff=>_0x45e1ff||_0x4f40aa(0x49b)));if(_0x45df25['imageCode']){const _0x27c717=_0x45df25[_0x4f40aa(0xc1)][_0x4f40aa(0xbf)]();_0x27c717===''||_0x27c717['toLowerCase']()===_0x4f40aa(0x247)||!_0x27c717[_0x4f40aa(0x6ce)](_0x4f40aa(0x603))?delete _0x45df25[_0x4f40aa(0xc1)]:_0x45df25['imageCode']=_0x27c717;}});if(!_0x51086f||!_0x51086f[_0x237d33(0x79e)]||_0x51086f[_0x237d33(0x79e)][_0x237d33(0x689)]===0x0)throw new Error(_0x237d33(0x6db));const _0x4dcce0={'projectId':_0x2a215d[_0x237d33(0x598)],'quizType':_0x2a215d['quizType'],'settings':_0x2a215d[_0x237d33(0x785)],'createdBy':_0x2a215d[_0x237d33(0x245)],'status':'active','topic':'(ฉบับง่าย)\x20'+_0x2a215d[_0x237d33(0x2cd)],'questions':_0x51086f[_0x237d33(0x79e)],'createdAt':new Date()[_0x237d33(0x7a3)](),'quizMode':'standard','pairedQuizId':null};let _0x526b0e;while(!![]){_0x526b0e=Math['floor'](0x3e8+Math[_0x237d33(0x38c)]()*0x2328)[_0x237d33(0xa9)]();const _0x43b559=await getDoc(doc(db,_0x237d33(0x898)+appId+_0x237d33(0x1a4),_0x526b0e));if(!_0x43b559[_0x237d33(0x1db)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x237d33(0x1a4),_0x526b0e),_0x4dcce0),showMessage(_0x237d33(0x3dd));}catch(_0x1d8780){console[_0x237d33(0x60f)](_0x237d33(0xae),_0x1d8780),showMessage(_0x237d33(0x273)+_0x1d8780['message']);}});}async function generatePracticeQuestions(_0x2db407){const _0x29ad82=_0x4bb8e3,_0x201c1e=_0x29ad82(0x210)+_0x2db407+_0x29ad82(0x459)+simpleMathPrompt+_0x29ad82(0x579),_0x57b549={'type':_0x29ad82(0x67a),'properties':{'questionText':{'type':_0x29ad82(0x7f1)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x29ad82(0x152)},'explanation':{'type':_0x29ad82(0x7f1)}},'required':['questionText','options',_0x29ad82(0x136),'explanation']},_0x1f685a={'type':_0x29ad82(0x67a),'properties':{'topic':{'type':_0x29ad82(0x7f1)},'questions':{'type':_0x29ad82(0x12f),'items':_0x57b549}},'required':['topic',_0x29ad82(0x79e)]};return await callAnalysisApi(_0x201c1e,_0x1f685a);}function displayLessonPlan(_0x38ed7a,_0x4eae04){const _0x36db51=_0x4bb8e3,_0x581a0c=_0x36db51(0x10d)+_0x4eae04[_0x36db51(0x2cd)]+_0x36db51(0x33f)+_0x38ed7a[_0x36db51(0x7ed)][_0x36db51(0x347)](_0x446b16=>_0x36db51(0x476)+_0x446b16+_0x36db51(0x4bd))[_0x36db51(0x19b)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x38ed7a[_0x36db51(0x7d6)]+_0x36db51(0x619)+_0x38ed7a[_0x36db51(0x7e8)]['map'](_0x305871=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x305871[_0x36db51(0x815)]+_0x36db51(0x735)+_0x305871[_0x36db51(0x723)]+_0x36db51(0x85f))[_0x36db51(0x19b)]('')+_0x36db51(0x3e5);document['getElementById'](_0x36db51(0x260))['textContent']=_0x36db51(0x7aa)+_0x4eae04[_0x36db51(0x2cd)],document[_0x36db51(0x85b)]('lesson-plan-content')[_0x36db51(0x76f)]=_0x581a0c,document[_0x36db51(0x85b)]('lesson-plan-modal')['classList'][_0x36db51(0x8b0)](_0x36db51(0x248));if(window[_0x36db51(0x864)])MathJax[_0x36db51(0x540)]();}function displaySkillPracticeDrill(_0x31fab9){const _0x11cd92=_0x4bb8e3;let _0x56ccb1=0x0;const _0x566cc0=_0x31fab9[_0x11cd92(0x79e)],_0xa18358=()=>{const _0x3540c0=_0x11cd92,_0x120c89=_0x566cc0[_0x56ccb1],_0x5e00ea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x56ccb1+0x1)+_0x3540c0(0x3cb)+_0x566cc0[_0x3540c0(0x689)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x120c89['questionText']+_0x3540c0(0x807)+_0x120c89['options']['map']((_0xdd8896,_0x681117)=>_0x3540c0(0x4ca)+_0x681117+_0x3540c0(0x270)+_0x681117+_0x3540c0(0x56b)+_0x681117+'\x22>'+_0xdd8896+_0x3540c0(0x14f))[_0x3540c0(0x19b)]('')+_0x3540c0(0x392);studentQuizArea[_0x3540c0(0x76f)]=_0x5e00ea;if(window[_0x3540c0(0x864)])MathJax[_0x3540c0(0x540)]([studentQuizArea]);document[_0x3540c0(0x85b)](_0x3540c0(0x5c7))[_0x3540c0(0x838)](_0x3540c0(0x5a1),async()=>{const _0x358b9b=_0x3540c0,_0x848f30=await getHintForQuestion(_0x120c89[_0x358b9b(0x862)]);showMessage(_0x848f30);}),document[_0x3540c0(0x85b)]('check-answer-btn')['addEventListener'](_0x3540c0(0x5a1),()=>{const _0x20224a=_0x3540c0,_0x1b06ac=document['querySelector'](_0x20224a(0xad));if(!_0x1b06ac){showMessage(_0x20224a(0x2af));return;}const _0x5ab312=document['getElementById'](_0x20224a(0x16d)),_0x298da7=parseInt(_0x1b06ac[_0x20224a(0x39a)])===_0x120c89['correctAnswerIndex'];_0x298da7?(_0x5ab312[_0x20224a(0x3d5)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x5ab312[_0x20224a(0x76f)]=_0x20224a(0x542)+_0x120c89[_0x20224a(0x829)]):(_0x5ab312[_0x20224a(0x3d5)]=_0x20224a(0x6b8),_0x5ab312[_0x20224a(0x76f)]=_0x20224a(0x47a)+_0x120c89[_0x20224a(0x829)]);_0x5ab312[_0x20224a(0x718)][_0x20224a(0x8b0)](_0x20224a(0x248));if(window['MathJax'])MathJax['typesetPromise']([_0x5ab312]);document[_0x20224a(0x85b)](_0x20224a(0x4f4))[_0x20224a(0x718)][_0x20224a(0x15f)]('hidden'),document[_0x20224a(0x85b)](_0x20224a(0x5c7))['classList'][_0x20224a(0x15f)](_0x20224a(0x248)),document[_0x20224a(0x85b)]('next-drill-btn')['classList'][_0x20224a(0x8b0)](_0x20224a(0x248));}),document[_0x3540c0(0x85b)](_0x3540c0(0xf1))[_0x3540c0(0x838)]('click',()=>{const _0x8e6dfb=_0x3540c0;_0x56ccb1++,_0x56ccb1<_0x566cc0[_0x8e6dfb(0x689)]?_0xa18358():(studentQuizArea['innerHTML']=_0x8e6dfb(0x41a),document[_0x8e6dfb(0x85b)]('back-to-results-btn')['addEventListener'](_0x8e6dfb(0x5a1),()=>{const _0x547b0a=_0x8e6dfb;studentQuizArea[_0x547b0a(0x718)]['add'](_0x547b0a(0x248)),studentResultArea['classList'][_0x547b0a(0x8b0)](_0x547b0a(0x248));}));});};_0xa18358();}async function getHintForQuestion(_0x1ca4c6){const _0x2a3cef=_0x4bb8e3,_0x2d600d=_0x2a3cef(0x46e)+_0x1ca4c6+_0x2a3cef(0x89b),_0x2c8547={'type':_0x2a3cef(0x67a),'properties':{'hint':{'type':_0x2a3cef(0x7f1)}},'required':[_0x2a3cef(0x6ca)]};try{const _0x191c5d=await callAnalysisApi(_0x2d600d,_0x2c8547);return _0x191c5d[_0x2a3cef(0x6ca)];}catch(_0x45a79d){return console[_0x2a3cef(0x60f)](_0x2a3cef(0x51d),_0x45a79d),_0x2a3cef(0x680);}}async function extractTextFromPdf(_0x3da43f){const _0x3a1cbb=_0x4bb8e3;pdfjsLib['GlobalWorkerOptions'][_0x3a1cbb(0x4e2)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x3a440f=await _0x3da43f[_0x3a1cbb(0x41e)](),_0x15fa4d=await pdfjsLib[_0x3a1cbb(0x5b7)](_0x3a440f)[_0x3a1cbb(0x33d)],_0x296ab2=_0x15fa4d['numPages'];let _0x2ccb7a='';for(let _0x257cfc=0x1;_0x257cfc<=_0x296ab2;_0x257cfc++){const _0x26e8aa=await _0x15fa4d[_0x3a1cbb(0x645)](_0x257cfc),_0x2c4178=await _0x26e8aa[_0x3a1cbb(0x5a0)](),_0x56d64f=_0x2c4178['items'][_0x3a1cbb(0x347)](_0x141c12=>_0x141c12[_0x3a1cbb(0x286)])[_0x3a1cbb(0x19b)]('\x20');_0x2ccb7a+=_0x56d64f+'\x0a\x0a';}return _0x2ccb7a;}async function handleGenerateFromBlueprint(){const _0x207501=_0x4bb8e3,_0x52bb22=document[_0x207501(0x85b)](_0x207501(0x822)),_0x45c155=document[_0x207501(0x85b)]('reference-pdf-upload'),_0x31e9e7=_0x52bb22[_0x207501(0xdd)][0x0],_0x5228ac=_0x45c155[_0x207501(0xdd)][_0x207501(0x689)]>0x0?_0x45c155[_0x207501(0xdd)][0x0]:null;if(!_0x31e9e7){showMessage(_0x207501(0x63e));return;}const _0x5222dd=document[_0x207501(0x85b)](_0x207501(0x5b8)),_0x20fd57=document[_0x207501(0x85b)](_0x207501(0x4d8)),_0x37329a=document[_0x207501(0x85b)](_0x207501(0x266)),_0x4945b2=document[_0x207501(0x85b)](_0x207501(0x561));_0x4945b2[_0x207501(0x1ea)]=!![],document['getElementById']('quiz-generation-area')[_0x207501(0x718)]['remove'](_0x207501(0x248)),_0x37329a[_0x207501(0x76f)]='',_0x5222dd['classList'][_0x207501(0x8b0)](_0x207501(0x248));try{_0x20fd57[_0x207501(0x7b1)]='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0x3dcb4a=await extractTextFromPdf(_0x31e9e7);if(!_0x3dcb4a[_0x207501(0xbf)]())throw new Error(_0x207501(0x36d));let _0x58e80b='';_0x5228ac&&(_0x20fd57['textContent']='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0x58e80b=await extractTextFromPdf(_0x5228ac));_0x20fd57[_0x207501(0x7b1)]=_0x207501(0x17a);const _0x38880f=document['getElementById'](_0x207501(0x7c5))[_0x207501(0x8ae)],_0x172610=_0x38880f?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x4c862c=_0x58e80b?_0x207501(0x7c0)+_0x58e80b+_0x207501(0x2bd):'',_0x4fcffd=_0x207501(0x808)+(_0x58e80b?_0x207501(0x4c1):'')+_0x207501(0x131)+_0x3dcb4a+_0x207501(0x2bd)+_0x4c862c+_0x207501(0x375)+_0x172610+_0x207501(0x856)+simpleMathPrompt+_0x207501(0x66f),_0x225cf8={'type':'OBJECT','properties':{'questionText':{'type':_0x207501(0x7f1)},'questionType':{'type':_0x207501(0x7f1),'enum':['multiple_choice',_0x207501(0x403)]},'options':{'type':'ARRAY','items':{'type':_0x207501(0x7f1)}},'correctAnswerIndex':{'type':_0x207501(0x152)},'idealAnswer':{'type':_0x207501(0x7f1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x207501(0x7f1)}},'required':[_0x207501(0x862),_0x207501(0x7a7),_0x207501(0x829)]},_0x1fff16={'type':_0x207501(0x67a),'properties':{'topic':{'type':_0x207501(0x7f1)},'questions':{'type':'ARRAY','items':_0x225cf8}},'required':[_0x207501(0x2cd),_0x207501(0x79e)]};await handleApiCall(_0x4fcffd,'กำลังสร้างแบบทดสอบจาก\x20Blueprint...',_0x1fff16);}catch(_0x46b48f){console[_0x207501(0x60f)]('Error\x20generating\x20from\x20blueprint:',_0x46b48f),showMessage(_0x207501(0x273)+_0x46b48f['message']),_0x37329a['innerHTML']=_0x207501(0x81b);}finally{_0x5222dd[_0x207501(0x718)][_0x207501(0x15f)](_0x207501(0x248)),_0x4945b2['disabled']=![];}}async function handleGenerateParallelFromBank(_0x381776){const _0x24b6f7=_0x4bb8e3;switchProjectTab(_0x24b6f7(0x346));const _0x6c4e3b=document[_0x24b6f7(0x85b)](_0x24b6f7(0x5b8)),_0x4380d4=document['getElementById'](_0x24b6f7(0x4d8)),_0xd158c5=document[_0x24b6f7(0x85b)]('generated-quiz-container');document[_0x24b6f7(0x85b)](_0x24b6f7(0x1e7))[_0x24b6f7(0x718)][_0x24b6f7(0x8b0)](_0x24b6f7(0x248)),_0xd158c5[_0x24b6f7(0x76f)]='',_0x6c4e3b[_0x24b6f7(0x718)]['remove']('hidden'),_0x4380d4['textContent']='กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x381776[_0x24b6f7(0x2cd)]+_0x24b6f7(0x5bb);try{const _0x233367=_0x381776[_0x24b6f7(0x79e)][_0x24b6f7(0x347)]((_0x1955c9,_0x5cc5a6)=>{const _0x2f02f4=_0x24b6f7;let _0x560400=_0x5cc5a6+0x1+'.\x20'+(_0x1955c9[_0x2f02f4(0x862)]||_0x1955c9[_0x2f02f4(0x866)])+'\x0a';if(_0x1955c9[_0x2f02f4(0x498)])_0x560400+=_0x1955c9[_0x2f02f4(0x498)][_0x2f02f4(0x347)]((_0x2ab0cd,_0x143e31)=>'\x20\x20\x20-\x20'+(_0x143e31===_0x1955c9[_0x2f02f4(0x136)]?'[*]':'')+'\x20'+_0x2ab0cd)[_0x2f02f4(0x19b)]('\x0a');else _0x1955c9[_0x2f02f4(0x140)]&&(_0x560400+=_0x2f02f4(0x782)+_0x1955c9[_0x2f02f4(0x140)]);return _0x560400;})[_0x24b6f7(0x19b)]('\x0a\x0a');_0x4380d4['textContent']=_0x24b6f7(0x320);const _0x3d8c9e=_0x381776[_0x24b6f7(0x79e)][_0x24b6f7(0x689)],_0x51a1b8=_0x24b6f7(0x722)+_0x381776['topic']+_0x24b6f7(0x27c)+_0x3d8c9e+_0x24b6f7(0xf2)+_0x233367+_0x24b6f7(0x798)+_0x3d8c9e+_0x24b6f7(0x36e)+simpleMathPrompt+_0x24b6f7(0x66f),_0x58999c={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x24b6f7(0x7f1),'enum':[_0x24b6f7(0x75e),_0x24b6f7(0x403),_0x24b6f7(0x2d2),_0x24b6f7(0x69e)]},'options':{'type':_0x24b6f7(0x12f),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x24b6f7(0x7f1)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x24b6f7(0x7f1)},'correctResponse':{'type':_0x24b6f7(0x7f1)},'allResponses':{'type':_0x24b6f7(0x12f),'items':{'type':_0x24b6f7(0x7f1)}},'explanation':{'type':_0x24b6f7(0x7f1)},'imageCode':{'type':_0x24b6f7(0x7f1)}},'required':[_0x24b6f7(0x862),_0x24b6f7(0x7a7),_0x24b6f7(0x829)]},_0x81ff66={'type':_0x24b6f7(0x67a),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x24b6f7(0x12f),'items':_0x58999c}},'required':[_0x24b6f7(0x2cd),_0x24b6f7(0x79e)]},_0x99253d=await callAnalysisApi(_0x51a1b8,_0x81ff66);_0x99253d[_0x24b6f7(0x79e)][_0x24b6f7(0x689)]>_0x3d8c9e&&(_0x99253d[_0x24b6f7(0x79e)]=_0x99253d['questions']['slice'](0x0,_0x3d8c9e)),_0x99253d[_0x24b6f7(0x2cd)]=_0x24b6f7(0x751)+_0x381776[_0x24b6f7(0x2cd)],_0x99253d[_0x24b6f7(0x33b)]=_0x381776[_0x24b6f7(0x33b)],currentQuizData=_0x99253d,displayGeneratedQuiz(_0x99253d),document[_0x24b6f7(0x85b)](_0x24b6f7(0x6cf))[_0x24b6f7(0x68c)]({'behavior':_0x24b6f7(0x2c3)});}catch(_0x5bb18d){console['error'](_0x24b6f7(0xd7),_0x5bb18d),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5bb18d['message']),_0xd158c5[_0x24b6f7(0x76f)]=_0x24b6f7(0x4cc);}finally{_0x6c4e3b[_0x24b6f7(0x718)][_0x24b6f7(0x15f)]('hidden');}}async function handleGenerateParallelPostTest(_0x4a44eb){const _0x6a1cac=_0x4bb8e3,_0x42ee9c=document[_0x6a1cac(0x85b)](_0x6a1cac(0x16e)),_0x28c97d=document[_0x6a1cac(0x85b)]('project-quizzes-list');_0x28c97d['classList'][_0x6a1cac(0x15f)]('hidden');const _0x348051=_0x6a1cac(0x6bb);_0x42ee9c['insertAdjacentHTML'](_0x6a1cac(0x107),_0x348051);try{const _0x5829d2=_0x4a44eb[_0x6a1cac(0x79e)][_0x6a1cac(0x347)]((_0x35b822,_0xd477f6)=>{const _0x4c1189=_0x6a1cac;let _0x2dfcc0=_0xd477f6+0x1+'.\x20'+(_0x35b822[_0x4c1189(0x862)]||_0x35b822[_0x4c1189(0x866)]);if(_0x35b822[_0x4c1189(0x498)])_0x2dfcc0+=_0x4c1189(0x17e)+_0x35b822[_0x4c1189(0x498)][_0x4c1189(0x19b)](',\x20');return _0x2dfcc0;})[_0x6a1cac(0x19b)]('\x0a\x0a'),_0x5c2aa6=_0x6a1cac(0x848)+_0x4a44eb[_0x6a1cac(0x2cd)]+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5829d2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x6a1cac(0x66f),_0xd4e9e0={'type':'OBJECT','properties':{'topic':{'type':_0x6a1cac(0x7f1)},'questions':{'type':_0x6a1cac(0x12f),'items':{'type':_0x6a1cac(0x67a),'properties':{'questionText':{'type':_0x6a1cac(0x7f1)},'questionType':{'type':_0x6a1cac(0x7f1)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x6a1cac(0x7f1)},'explanation':{'type':_0x6a1cac(0x7f1)}},'required':[_0x6a1cac(0x862),_0x6a1cac(0x829)]}}},'required':[_0x6a1cac(0x2cd),'questions']},_0x12cb4c=await callAnalysisApi(_0x5c2aa6,_0xd4e9e0),_0x1d70e2=_0x4a44eb[_0x6a1cac(0x2cd)][_0x6a1cac(0x6ed)](_0x6a1cac(0x81e),'')[_0x6a1cac(0xbf)](),_0x132ab5=_0x6a1cac(0x62d)+_0x1d70e2,_0x523c24={..._0x12cb4c,'topic':_0x132ab5,'quizType':_0x4a44eb[_0x6a1cac(0x33b)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x6a1cac(0x7a3)](),'status':_0x6a1cac(0x3a7),'settings':_0x4a44eb[_0x6a1cac(0x785)],'quizMode':_0x6a1cac(0x539),'pairedQuizId':_0x4a44eb['id']};let _0x25f1be;while(!![]){_0x25f1be=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x6a1cac(0xa9)]();const _0xe26c57=await getDoc(doc(db,_0x6a1cac(0x898)+appId+'/public/data/quizzes',_0x25f1be));if(!_0xe26c57[_0x6a1cac(0x1db)]())break;}await setDoc(doc(db,_0x6a1cac(0x898)+appId+_0x6a1cac(0x1a4),_0x25f1be),_0x523c24);const _0x5dee29=doc(db,'artifacts/'+appId+_0x6a1cac(0x1a4),_0x4a44eb['id']);await updateDoc(_0x5dee29,{'pairedQuizId':_0x25f1be}),showMessage(_0x6a1cac(0x341));}catch(_0x4991cf){console[_0x6a1cac(0x60f)](_0x6a1cac(0x7a6),_0x4991cf),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4991cf[_0x6a1cac(0x158)]);}finally{const _0x597aa4=document[_0x6a1cac(0x85b)](_0x6a1cac(0x82d));if(_0x597aa4)_0x597aa4['remove']();_0x28c97d[_0x6a1cac(0x718)][_0x6a1cac(0x8b0)](_0x6a1cac(0x248));}}async function handleGenerateParallelTest(){const _0x4d6ac4=_0x4bb8e3,_0x5f5cc8=document[_0x4d6ac4(0x85b)](_0x4d6ac4(0x36c)),_0x3a1345=_0x5f5cc8[_0x4d6ac4(0xdd)][0x0];if(!_0x3a1345){showMessage(_0x4d6ac4(0x2ce));return;}const _0x49b48e=document[_0x4d6ac4(0x85b)]('loader'),_0x5d3fb1=document['getElementById'](_0x4d6ac4(0x4d8)),_0xf7fc2a=document['getElementById']('generated-quiz-container'),_0x1e3796=document[_0x4d6ac4(0x85b)](_0x4d6ac4(0x4f2));_0x1e3796[_0x4d6ac4(0x1ea)]=!![],document[_0x4d6ac4(0x85b)]('quiz-generation-area')[_0x4d6ac4(0x718)][_0x4d6ac4(0x8b0)](_0x4d6ac4(0x248)),_0xf7fc2a[_0x4d6ac4(0x76f)]='',_0x49b48e[_0x4d6ac4(0x718)][_0x4d6ac4(0x8b0)](_0x4d6ac4(0x248)),_0x5d3fb1['textContent']='กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...';try{const _0x3d45d0=await extractTextFromPdf(_0x3a1345);if(!_0x3d45d0['trim']())throw new Error('ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย');_0x5d3fb1['textContent']='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x44038e=document['getElementById']('include-images-checkbox')['checked'],_0x2e71d8=_0x44038e?_0x4d6ac4(0x4d7):'',_0x5c4478=_0x4d6ac4(0x7c9)+_0x3d45d0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e71d8+_0x4d6ac4(0x856)+simpleMathPrompt+_0x4d6ac4(0x66f),_0x3aa146={'type':_0x4d6ac4(0x67a),'properties':{'questionText':{'type':_0x4d6ac4(0x7f1)},'questionType':{'type':_0x4d6ac4(0x7f1),'enum':[_0x4d6ac4(0x75e),_0x4d6ac4(0x403)]},'options':{'type':_0x4d6ac4(0x12f),'items':{'type':_0x4d6ac4(0x7f1)}},'correctAnswerIndex':{'type':_0x4d6ac4(0x152)},'idealAnswer':{'type':_0x4d6ac4(0x7f1)},'explanation':{'type':_0x4d6ac4(0x7f1)},'imageCode':{'type':_0x4d6ac4(0x7f1)}},'required':['questionText',_0x4d6ac4(0x7a7),_0x4d6ac4(0x829)]},_0x5bcd74={'type':_0x4d6ac4(0x67a),'properties':{'topic':{'type':_0x4d6ac4(0x7f1)},'questions':{'type':'ARRAY','items':_0x3aa146}},'required':[_0x4d6ac4(0x2cd),_0x4d6ac4(0x79e)]};await handleApiCall(_0x5c4478,_0x4d6ac4(0x466),_0x5bcd74);}catch(_0x2345ab){console[_0x4d6ac4(0x60f)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x2345ab),showMessage(_0x4d6ac4(0x273)+_0x2345ab['message']),_0xf7fc2a['innerHTML']=_0x4d6ac4(0x4cc);}finally{_0x49b48e[_0x4d6ac4(0x718)][_0x4d6ac4(0x15f)](_0x4d6ac4(0x248)),_0x1e3796[_0x4d6ac4(0x1ea)]=![];}}async function handleRegenerateQuestionInEditor(_0x1f37ef){const _0x200df9=_0x4bb8e3;if(currentEditingQuizData===null)return;const _0x147e23=document[_0x200df9(0x7c6)](_0x200df9(0x365)+_0x1f37ef+'\x22]');_0x147e23&&(_0x147e23[_0x200df9(0x76f)]=_0x200df9(0x201));const _0x3c599f=currentEditingQuizData[_0x200df9(0x79e)][_0x1f37ef],_0x10c263=currentEditingQuizData[_0x200df9(0x2cd)],_0x5a5f58=_0x3c599f['questionType'],_0x582978={'type':_0x200df9(0x67a),'properties':{'questionText':{'type':_0x200df9(0x7f1)},'options':{'type':_0x200df9(0x12f),'items':{'type':_0x200df9(0x7f1)}},'correctAnswerIndex':{'type':_0x200df9(0x152)},'explanation':{'type':_0x200df9(0x7f1)}},'required':[_0x200df9(0x862),_0x200df9(0x498),'correctAnswerIndex',_0x200df9(0x829)]},_0x4d87cb={'type':'OBJECT','properties':{'questionText':{'type':_0x200df9(0x7f1)},'idealAnswer':{'type':_0x200df9(0x7f1)},'explanation':{'type':_0x200df9(0x7f1)}},'required':[_0x200df9(0x862),_0x200df9(0x140),_0x200df9(0x829)]};let _0x11742e,_0x3aadc5='';_0x5a5f58===_0x200df9(0x75e)?(_0x11742e=_0x582978,_0x3aadc5=_0x200df9(0x2fb)):(_0x11742e=_0x4d87cb,_0x3aadc5=_0x200df9(0x13a));const _0x392efd=_0x200df9(0x54e)+_0x10c263+_0x200df9(0x7b3)+_0x3aadc5+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x3c599f[_0x200df9(0x862)]||_0x3c599f[_0x200df9(0x866)])+_0x200df9(0x64a)+simpleMathPrompt;try{const _0x50aeb0=await callAnalysisApi(_0x392efd,_0x11742e);currentEditingQuizData['questions'][_0x1f37ef]={..._0x3c599f,..._0x50aeb0},renderQuizEditor(currentEditingQuizData);}catch(_0x36119e){console[_0x200df9(0x60f)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x36119e),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x9e642=_0x4bb8e3,_0x3fef88=document[_0x9e642(0x85b)](_0x9e642(0x621));currentMode===_0x9e642(0x503)?(adminPasswordModal[_0x9e642(0x718)][_0x9e642(0x8b0)](_0x9e642(0x248)),document['getElementById'](_0x9e642(0x3fc))[_0x9e642(0x5b6)]()):(currentMode=_0x9e642(0x503),_0x3fef88[_0x9e642(0x76f)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x3fef88[_0x9e642(0x9d)]='สลับไปโหมดผู้ควบคุม',showView(_0x9e642(0x503)));}function handleAdminLogin(){const _0x571e05=_0x4bb8e3,_0xe78b8e=document[_0x571e05(0x85b)]('admin-password-input'),_0x48d5a0=document[_0x571e05(0x85b)](_0x571e05(0x2d7));if(_0xe78b8e[_0x571e05(0x39a)]===_0x571e05(0x3e2)){adminPasswordModal[_0x571e05(0x718)][_0x571e05(0x15f)]('hidden'),_0xe78b8e[_0x571e05(0x39a)]='',_0x48d5a0[_0x571e05(0x718)][_0x571e05(0x15f)](_0x571e05(0x248)),currentMode=_0x571e05(0x527);const _0x1e93de=document['getElementById'](_0x571e05(0x621));_0x1e93de['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x1e93de['title']='สลับไปโหมดนักเรียน',showView(_0x571e05(0x56a));}else _0x48d5a0[_0x571e05(0x718)][_0x571e05(0x8b0)](_0x571e05(0x248)),_0xe78b8e[_0x571e05(0x39a)]='';}function switchProjectTab(_0x5d9c70){const _0x4a1305=_0x4bb8e3;['manage',_0x4a1305(0x142),_0x4a1305(0x700)][_0x4a1305(0xb5)](_0xb4dc93=>{const _0x2878ce=_0x4a1305;document['getElementById'](_0xb4dc93+_0x2878ce(0x4f9))[_0x2878ce(0x718)][_0x2878ce(0x8b0)]('active'),document[_0x2878ce(0x85b)](_0xb4dc93+'-tab-content')[_0x2878ce(0x718)]['add'](_0x2878ce(0x248));}),document[_0x4a1305(0x85b)](_0x5d9c70+_0x4a1305(0x4f9))['classList']['add'](_0x4a1305(0x3a7)),document[_0x4a1305(0x85b)](_0x5d9c70+_0x4a1305(0x892))[_0x4a1305(0x718)][_0x4a1305(0x8b0)](_0x4a1305(0x248));}function switchQuizDetailTab(_0x3338a6){const _0xf164de=_0x4bb8e3,_0x110a1f={'analytics':{'btn':_0xf164de(0x626),'content':'analytics-tab-content'},'scores':{'btn':_0xf164de(0x70d),'content':_0xf164de(0x799)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0xf164de(0x6da),'content':_0xf164de(0x7e3)}};for(const _0x3804ed in _0x110a1f){document[_0xf164de(0x85b)](_0x110a1f[_0x3804ed][_0xf164de(0x582)])[_0xf164de(0x718)][_0xf164de(0x8b0)](_0xf164de(0x3a7)),document['getElementById'](_0x110a1f[_0x3804ed]['content'])[_0xf164de(0x718)][_0xf164de(0x15f)](_0xf164de(0x248));}document[_0xf164de(0x85b)](_0x110a1f[_0x3338a6][_0xf164de(0x582)])[_0xf164de(0x718)][_0xf164de(0x15f)](_0xf164de(0x3a7)),document[_0xf164de(0x85b)](_0x110a1f[_0x3338a6][_0xf164de(0x60a)])[_0xf164de(0x718)][_0xf164de(0x8b0)](_0xf164de(0x248));}function showMessage(_0xd2279,_0x43bb58=null){const _0x1d28e1=_0x4bb8e3;modalMessage['textContent']=_0xd2279,modalConfirmAction=_0x43bb58,messageModal[_0x1d28e1(0x718)][_0x1d28e1(0x8b0)](_0x1d28e1(0x248));}function showConfirmation(_0x4da4ca,_0x2fd531){const _0x235acf=_0x4bb8e3;document[_0x235acf(0x85b)](_0x235acf(0x887))[_0x235acf(0x7b1)]=_0x4da4ca,document['getElementById'](_0x235acf(0x3a5))[_0x235acf(0x7c6)]('h3')[_0x235acf(0x7b1)]=_0x235acf(0x548),confirmAction=_0x2fd531,confirmationModal[_0x235acf(0x718)][_0x235acf(0x8b0)]('hidden');}function listenForProjects(){const _0x386503=_0x4bb8e3,_0x752c88=doc(db,'globalSettings',_0x386503(0x609));onSnapshot(_0x752c88,_0x501286=>{const _0x4707ca=_0x386503;if(_0x501286[_0x4707ca(0x1db)]()){const _0x12f3e3=_0x501286['data']();globalDashboardSettings[_0x4707ca(0x2ca)]=_0x12f3e3[_0x4707ca(0x2ca)]||'date_desc',globalDashboardSettings[_0x4707ca(0x80c)]=_0x12f3e3['pinnedProjects']||[],globalDashboardSettings[_0x4707ca(0x7d9)]=_0x12f3e3[_0x4707ca(0x7d9)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x25d63c=collection(db,'artifacts/'+appId+_0x386503(0x802));unsubscribeProjectsListener=onSnapshot(_0x25d63c,_0x3c8021=>{const _0xee3e34=_0x386503;allProjects=_0x3c8021[_0xee3e34(0x46b)]['map'](_0x31c4c7=>({'id':_0x31c4c7['id'],..._0x31c4c7['data']()})),renderProjects();},_0x1ebb82=>{const _0x59a540=_0x386503;console['error'](_0x59a540(0x195),_0x1ebb82),showMessage(_0x59a540(0x6e9));});}function showColorPalette(_0x2b3ce6,_0x58e544){const _0xcbc412=_0x4bb8e3;document[_0xcbc412(0x68b)]('.color-palette-popup')['forEach'](_0x39ac08=>_0x39ac08[_0xcbc412(0x8b0)]());const _0x8a92ad=[_0xcbc412(0x32c),_0xcbc412(0x2e5),'#FEF3C7','#D1FAE5',_0xcbc412(0x18d),_0xcbc412(0x66e),_0xcbc412(0x33e),'#FCE7F3',_0xcbc412(0x1bf)],_0x39913e=document[_0xcbc412(0x2e6)](_0xcbc412(0x1e9));_0x39913e['className']='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x8a92ad['forEach'](_0x3c0046=>{const _0x233a56=_0xcbc412,_0x550593=document[_0x233a56(0x2e6)]('div');_0x550593[_0x233a56(0x3d5)]=_0x233a56(0x896),_0x550593[_0x233a56(0x85c)][_0x233a56(0x746)]=_0x3c0046,_0x550593[_0x233a56(0x838)](_0x233a56(0x5a1),()=>{const _0x3746b8=_0x233a56;handleProjectColorChange(_0x58e544,_0x3c0046),_0x39913e[_0x3746b8(0x8b0)]();}),_0x39913e[_0x233a56(0xf8)](_0x550593);}),document[_0xcbc412(0x45c)]['appendChild'](_0x39913e);const _0x12e033=_0x2b3ce6['getBoundingClientRect']();_0x39913e[_0xcbc412(0x85c)][_0xcbc412(0x889)]=_0x12e033[_0xcbc412(0x30c)]+window['scrollY']+'px',_0x39913e[_0xcbc412(0x85c)]['left']=_0x12e033[_0xcbc412(0x71f)]+window['scrollX']-_0x39913e[_0xcbc412(0x707)]/0x2+'px';}async function handleProjectColorChange(_0x51b3da,_0x40ff4c){const _0x13012c=_0x4bb8e3,_0x497fea=doc(db,_0x13012c(0x898)+appId+'/public/data/projects',_0x51b3da);try{await updateDoc(_0x497fea,{'color':_0x40ff4c});}catch(_0x25b249){console['error'](_0x13012c(0x354),_0x25b249),showMessage(_0x13012c(0x658));}}async function renderProjects(){const _0x4d6ba8=_0x4bb8e3,_0x268513=globalDashboardSettings['projectSort']||_0x4d6ba8(0x7bb),_0x1eb6fd=new Set(globalDashboardSettings[_0x4d6ba8(0x80c)]||[]),_0xdee2cc=globalDashboardSettings[_0x4d6ba8(0x28e)]||_0x4d6ba8(0x1fa),_0x6efaa5=document['getElementById'](_0x4d6ba8(0x21f)),_0x185e5b=document[_0x4d6ba8(0x85b)]('list-view-btn');_0x6efaa5[_0x4d6ba8(0x718)][_0x4d6ba8(0x4bc)](_0x4d6ba8(0x3a7),_0xdee2cc==='grid'),_0x185e5b[_0x4d6ba8(0x718)]['toggle'](_0x4d6ba8(0x3a7),_0xdee2cc===_0x4d6ba8(0x439)),document[_0x4d6ba8(0x85b)](_0x4d6ba8(0x6af))[_0x4d6ba8(0x39a)]=_0x268513;const _0x5476b3=document[_0x4d6ba8(0x85b)](_0x4d6ba8(0x396))[_0x4d6ba8(0x39a)][_0x4d6ba8(0x74e)]();let _0x5cc062=allProjects[_0x4d6ba8(0x2fe)](_0x4d9d36=>_0x4d9d36[_0x4d6ba8(0xe9)][_0x4d6ba8(0x74e)]()[_0x4d6ba8(0x190)](_0x5476b3));const _0x2208ed=_0x5cc062[_0x4d6ba8(0x2fe)](_0x3d83f7=>_0x1eb6fd[_0x4d6ba8(0x257)](_0x3d83f7['id'])),_0x57fca9=_0x5cc062[_0x4d6ba8(0x2fe)](_0x280eef=>!_0x1eb6fd[_0x4d6ba8(0x257)](_0x280eef['id'])),_0x26f4ae=(_0x3c9ed1,_0x3db9c2)=>{const _0x55bca6=_0x4d6ba8;switch(_0x268513){case _0x55bca6(0x199):return _0x3c9ed1['projectName'][_0x55bca6(0x5a3)](_0x3db9c2['projectName'],'th');case _0x55bca6(0x48f):return _0x3db9c2['projectName']['localeCompare'](_0x3c9ed1[_0x55bca6(0xe9)],'th');case'date_asc':return new Date(_0x3c9ed1['createdAt'])-new Date(_0x3db9c2[_0x55bca6(0x670)]);default:return new Date(_0x3db9c2['createdAt'])-new Date(_0x3c9ed1[_0x55bca6(0x670)]);}};_0x2208ed[_0x4d6ba8(0x676)](_0x26f4ae),_0x57fca9[_0x4d6ba8(0x676)](_0x26f4ae);const _0x46dc94=[..._0x2208ed,..._0x57fca9],_0x2b04b5=globalDashboardSettings[_0x4d6ba8(0x7d9)]||[];_0x2b04b5[_0x4d6ba8(0x689)]>0x0&&_0xdee2cc===_0x4d6ba8(0x1fa)&&_0x46dc94[_0x4d6ba8(0x676)]((_0x59d48e,_0xbe3300)=>{const _0xa3a483=_0x4d6ba8,_0x58ba2f=_0x2b04b5[_0xa3a483(0x702)](_0x59d48e['id']),_0x75cba9=_0x2b04b5[_0xa3a483(0x702)](_0xbe3300['id']);if(_0x58ba2f===-0x1)return 0x1;if(_0x75cba9===-0x1)return-0x1;return _0x58ba2f-_0x75cba9;});const _0x2f5efe={};await Promise[_0x4d6ba8(0x89d)](_0x46dc94[_0x4d6ba8(0x347)](async _0x5e9b0b=>{const _0x1c7583=_0x4d6ba8,_0x5bd3d4=query(collection(db,_0x1c7583(0x898)+appId+'/public/data/quizzes'),where(_0x1c7583(0x598),'==',_0x5e9b0b['id'])),_0x327040=await getDocs(_0x5bd3d4);_0x2f5efe[_0x5e9b0b['id']]=_0x327040[_0x1c7583(0x6b0)];}));const _0x480244=document[_0x4d6ba8(0x85b)](_0x4d6ba8(0x522));let _0x5bf585='';if(_0xdee2cc==='grid'){_0x480244[_0x4d6ba8(0x3d5)]=_0x4d6ba8(0x1b5);if(starredQuizzes[_0x4d6ba8(0x689)]>0x0&&_0x5476b3===''){const _0x55eff6=starredQuizzes[_0x4d6ba8(0x347)](_0x539788=>{const _0xfc8dae=_0x4d6ba8,_0x4d7a7c=allProjects['find'](_0x3c465d=>_0x3c465d['id']===_0x539788[_0xfc8dae(0x598)]);return{..._0x539788,'projectName':_0x4d7a7c?_0x4d7a7c[_0xfc8dae(0xe9)]:_0xfc8dae(0x7f5)};});_0x5bf585+=_0x4d6ba8(0x132)+_0x55eff6[_0x4d6ba8(0x347)](_0x4bfbe0=>_0x4d6ba8(0x1fc)+_0x4bfbe0[_0x4d6ba8(0x2cd)]+'\x22>'+_0x4bfbe0[_0x4d6ba8(0x2cd)]+_0x4d6ba8(0x858)+_0x4bfbe0[_0x4d6ba8(0xe9)]+_0x4d6ba8(0x834)+_0x4bfbe0[_0x4d6ba8(0xe9)]+_0x4d6ba8(0x8a))['join']('')+_0x4d6ba8(0x169)+starredQuizzes[_0x4d6ba8(0x689)]+_0x4d6ba8(0x337);}_0x46dc94[_0x4d6ba8(0xb5)](_0xd31bcb=>{const _0x3f412e=_0x4d6ba8,_0x50fb19=_0x2f5efe[_0xd31bcb['id']]??0x0,_0x2a6715=_0x1eb6fd['has'](_0xd31bcb['id']),_0x2d9ae4=_0xd31bcb[_0x3f412e(0x7a5)]||'#FFFFFF',_0x5f581e=parseInt(_0x2d9ae4[_0x3f412e(0x642)](0x1,0x3),0x10)*0.299+parseInt(_0x2d9ae4[_0x3f412e(0x642)](0x3,0x5),0x10)*0.587+parseInt(_0x2d9ae4['substring'](0x5,0x7),0x10)*0.114<0xba,_0x2b6104=_0x5f581e?_0x3f412e(0x1a9):_0x3f412e(0xc8),_0x20f52b=_0x5f581e?_0x3f412e(0x2dc):_0x3f412e(0x164);_0x5bf585+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x2a6715?_0x3f412e(0x1b2):_0x3f412e(0x2b9))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x2d9ae4+_0x3f412e(0x683)+_0xd31bcb['id']+_0x3f412e(0x877)+_0xd31bcb['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x5f581e?_0x3f412e(0x276):_0x3f412e(0xaa))+_0x3f412e(0x1b3)+_0xd31bcb['id']+_0x3f412e(0x3f5)+(_0x5f581e?'text-gray-300\x20hover:text-white':_0x3f412e(0xaa))+_0x3f412e(0x2df)+(_0x2a6715?_0x5f581e?_0x3f412e(0x60b):_0x3f412e(0x5d7):'')+_0x3f412e(0x2c7)+_0xd31bcb['id']+_0x3f412e(0x728)+_0x2b6104+_0x3f412e(0x890)+_0xd31bcb[_0x3f412e(0xe9)]+_0x3f412e(0x632)+_0x20f52b+_0x3f412e(0xd9)+new Date(_0xd31bcb['createdAt'])['toLocaleDateString']('th-TH')+_0x3f412e(0x390)+(_0x5f581e?'text-gray-100':_0x3f412e(0x7b6))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x50fb19+_0x3f412e(0x525)+_0xd31bcb['id']+_0x3f412e(0x585)+_0xd31bcb['projectName']+_0x3f412e(0x788)+(_0x5f581e?_0x3f412e(0x507):'text-red-500\x20hover:text-red-700')+_0x3f412e(0x1c4);});}else _0x480244[_0x4d6ba8(0x3d5)]=_0x4d6ba8(0x5b9),starredQuizzes['length']>0x0&&_0x5476b3===''&&(_0x5bf585+=_0x4d6ba8(0x449)+starredQuizzes[_0x4d6ba8(0x689)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x5bf585+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x46dc94[_0x4d6ba8(0xb5)](_0x5394e5=>{const _0x3b8f93=_0x4d6ba8,_0x2b6499=_0x2f5efe[_0x5394e5['id']]??0x0,_0x22356a=_0x1eb6fd[_0x3b8f93(0x257)](_0x5394e5['id']);_0x5bf585+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x5394e5[_0x3b8f93(0x7a5)]||_0x3b8f93(0x1bf))+_0x3b8f93(0x792)+_0x5394e5['id']+_0x3b8f93(0x8a2)+_0x5394e5[_0x3b8f93(0xe9)]+_0x3b8f93(0x6ec)+_0x2b6499+_0x3b8f93(0x223)+new Date(_0x5394e5['createdAt'])['toLocaleString'](_0x3b8f93(0x23d))+_0x3b8f93(0x504)+_0x5394e5['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x22356a?_0x3b8f93(0x5d7):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5394e5['id']+_0x3b8f93(0x585)+_0x5394e5[_0x3b8f93(0xe9)]+_0x3b8f93(0x6b7);});projectList[_0x4d6ba8(0x76f)]=_0x5bf585,noProjectsMsg[_0x4d6ba8(0x718)][_0x4d6ba8(0x4bc)](_0x4d6ba8(0x248),_0x5bf585['length']>0x0);}document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x7b9))[_0x4bb8e3(0x838)](_0x4bb8e3(0x5a1),async()=>{const _0x75d4f2=_0x4bb8e3,_0x4612d3=document[_0x75d4f2(0x85b)](_0x75d4f2(0x4a1)),_0x70d284=_0x4612d3[_0x75d4f2(0x39a)][_0x75d4f2(0xbf)]();if(!_0x70d284){showMessage(_0x75d4f2(0x49c));return;}try{const _0x1c407e=doc(collection(db,_0x75d4f2(0x898)+appId+_0x75d4f2(0x802)));await setDoc(_0x1c407e,{'projectName':_0x70d284,'students':[],'settings':{'resultsDisplay':_0x75d4f2(0x781),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x75d4f2(0x7a3)]()}),_0x4612d3['value']='',createProjectModal[_0x75d4f2(0x718)][_0x75d4f2(0x15f)](_0x75d4f2(0x248)),showMessage(_0x75d4f2(0x31c));}catch(_0x164821){console[_0x75d4f2(0x60f)](_0x75d4f2(0x38a),_0x164821),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x4bb8e3(0x838)]('click',async _0x911b9c=>{const _0x1e460b=_0x4bb8e3,_0x68fa60=_0x911b9c[_0x1e460b(0x101)]['closest'](_0x1e460b(0x7f9)),_0x1719fd=_0x911b9c[_0x1e460b(0x101)][_0x1e460b(0x8b6)](_0x1e460b(0x4bb)),_0x1831d2=_0x911b9c[_0x1e460b(0x101)]['closest'](_0x1e460b(0x246)),_0x119f77=_0x911b9c[_0x1e460b(0x101)][_0x1e460b(0x8b6)](_0x1e460b(0x8bd));if(_0x1831d2){const _0x26adc1=_0x1831d2['dataset']['id'],_0x24094a=doc(db,_0x1e460b(0x327),'dashboardConfig'),_0x4b62c5=globalDashboardSettings[_0x1e460b(0x80c)];let _0x30dbe1;_0x4b62c5[_0x1e460b(0x190)](_0x26adc1)?_0x30dbe1=_0x4b62c5[_0x1e460b(0x2fe)](_0x4611bf=>_0x4611bf!==_0x26adc1):_0x30dbe1=[..._0x4b62c5,_0x26adc1];try{await setDoc(_0x24094a,{'pinnedProjects':_0x30dbe1},{'merge':!![]});}catch(_0x4ab04b){console[_0x1e460b(0x60f)]('Error\x20updating\x20pin\x20status:',_0x4ab04b),showMessage(_0x1e460b(0x8b4));}}else{if(_0x119f77){const _0x4c5c8f=_0x119f77[_0x1e460b(0x717)]['id'];showColorPalette(_0x119f77,_0x4c5c8f);}else{if(_0x68fa60){const _0x45bf82=_0x68fa60[_0x1e460b(0x717)]['id'];_0x45bf82==='starred-project'?showStarredProjectView():(currentProjectId=_0x45bf82,await loadProjectDetails(currentProjectId),showView(_0x1e460b(0x63b)));}else{if(_0x1719fd){const _0x59b28b=_0x1719fd['dataset']['id'],_0x19bb3c=_0x1719fd['dataset']['name'];showConfirmation(_0x1e460b(0x86d)+_0x19bb3c+_0x1e460b(0xc2),()=>handleDeleteProject(_0x59b28b));}}}}}),projectList[_0x4bb8e3(0x838)](_0x4bb8e3(0x754),_0x159be1=>{const _0x283ca2=_0x4bb8e3,_0x2f3b09=_0x159be1['target'][_0x283ca2(0x8b6)]('.project-card-container');_0x2f3b09&&_0x2f3b09['classList'][_0x283ca2(0x15f)](_0x283ca2(0x7c8));}),projectList[_0x4bb8e3(0x838)](_0x4bb8e3(0x895),_0x386b19=>{const _0x383999=_0x4bb8e3,_0x3910a1=_0x386b19[_0x383999(0x101)][_0x383999(0x8b6)]('.project-card-container');_0x3910a1&&_0x3910a1['classList']['remove'](_0x383999(0x7c8));}),projectList[_0x4bb8e3(0x838)](_0x4bb8e3(0x1f4),_0x5ba906=>{const _0x5e9ee0=_0x4bb8e3;_0x5ba906[_0x5e9ee0(0x514)]();const _0x8b97fa=document['querySelector']('.project-card-container.opacity-50');if(!_0x8b97fa)return;const _0x4b23e7=getDragAfterElement(projectList,_0x5ba906[_0x5e9ee0(0x149)]);_0x4b23e7==null?projectList[_0x5e9ee0(0xf8)](_0x8b97fa):projectList[_0x5e9ee0(0x242)](_0x8b97fa,_0x4b23e7);}),projectList['addEventListener'](_0x4bb8e3(0x14e),_0xfc561b=>{const _0x5d380a=_0x4bb8e3;_0xfc561b[_0x5d380a(0x514)]();const _0x21861a=[...projectList['querySelectorAll'](_0x5d380a(0x3f0))][_0x5d380a(0x347)](_0x267a14=>_0x267a14[_0x5d380a(0x717)]['id']);saveProjectOrder(_0x21861a);});function renderBehaviorLog(_0x660929){const _0xc90f67=_0x4bb8e3,_0x39d8f3=document[_0xc90f67(0x85b)]('behavior-log-container');if(!_0x39d8f3)return;const _0x4a645b=_0x660929[_0xc90f67(0x2fe)](_0x24b5d0=>_0x24b5d0[_0xc90f67(0x78f)]&&_0x24b5d0['behaviorLog'][_0xc90f67(0x689)]>0x0);if(_0x4a645b[_0xc90f67(0x689)]===0x0){_0x39d8f3['innerHTML']=_0xc90f67(0x599);return;}let _0x15746a='';_0x4a645b[_0xc90f67(0xb5)](_0x24b8d4=>{const _0xcb2a90=_0xc90f67;_0x15746a+=_0xcb2a90(0x5b5)+_0x24b8d4['studentName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x24b8d4[_0xcb2a90(0x78f)]['sort']((_0x4114d2,_0x108b3e)=>new Date(_0x108b3e['timestamp'])-new Date(_0x4114d2[_0xcb2a90(0x20e)]))[_0xcb2a90(0xb5)](_0x40f9a5=>{const _0x4b88f1=_0xcb2a90,_0x228b45=new Date(_0x40f9a5[_0x4b88f1(0x20e)])[_0x4b88f1(0x233)]('th-TH',{'dateStyle':_0x4b88f1(0x330),'timeStyle':_0x4b88f1(0x61f)});_0x15746a+=_0x4b88f1(0x193)+_0x40f9a5[_0x4b88f1(0x691)]+_0x4b88f1(0x500)+_0x228b45+_0x4b88f1(0x258);}),_0x15746a+=_0xcb2a90(0x2ba);}),_0x39d8f3[_0xc90f67(0x76f)]=_0x15746a;}function getDragAfterElement(_0x1b71b3,_0x595e0f){const _0x374a0c=_0x4bb8e3,_0x53cdfe=[..._0x1b71b3['querySelectorAll']('.project-card-container:not(.opacity-50)')];return _0x53cdfe[_0x374a0c(0x83e)]((_0xbe34cb,_0x17ebbb)=>{const _0x5e3be2=_0x374a0c,_0x2c3a9b=_0x17ebbb['getBoundingClientRect'](),_0x3d37cc=_0x595e0f-_0x2c3a9b[_0x5e3be2(0x889)]-_0x2c3a9b[_0x5e3be2(0x1c8)]/0x2;return _0x3d37cc<0x0&&_0x3d37cc>_0xbe34cb['offset']?{'offset':_0x3d37cc,'element':_0x17ebbb}:_0xbe34cb;},{'offset':Number['NEGATIVE_INFINITY']})[_0x374a0c(0x3eb)];}async function saveProjectOrder(_0x27266b){const _0x25d33c=_0x4bb8e3,_0x2b6248=doc(db,'globalSettings',_0x25d33c(0x609));try{await setDoc(_0x2b6248,{'projectOrder':_0x27266b},{'merge':!![]});}catch(_0x15b975){console['error'](_0x25d33c(0x102),_0x15b975),showMessage(_0x25d33c(0xce));}}async function logBehaviorEvent(_0x11c269,_0x5e47a8={}){const _0x2bb2a4=_0x4bb8e3;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x2bb2a4(0x897)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x1b4f3f=doc(db,_0x2bb2a4(0x898)+appId+_0x2bb2a4(0x9f)+currentQuizData['id']+_0x2bb2a4(0x84d),currentStudentName),_0x2fec8e={'event':_0x11c269,'timestamp':new Date()[_0x2bb2a4(0x7a3)](),..._0x5e47a8};try{await updateDoc(_0x1b4f3f,{'behaviorLog':arrayUnion(_0x2fec8e)}),console[_0x2bb2a4(0x4c0)](_0x2bb2a4(0x643)+currentStudentName+_0x2bb2a4(0x2cf));}catch(_0x3d2fc7){_0x3d2fc7[_0x2bb2a4(0x3a6)]===_0x2bb2a4(0x25a)?console[_0x2bb2a4(0x897)](_0x2bb2a4(0x438)+currentStudentName+_0x2bb2a4(0x62c)):console['error']('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x3d2fc7);}}function calculateMeanAndStdDev(_0x4be3a6){const _0x50d7ed=_0x4bb8e3;if(_0x4be3a6[_0x50d7ed(0x689)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x1d7b51=_0x4be3a6[_0x50d7ed(0x83e)]((_0x5bac22,_0x384acf)=>_0x5bac22+_0x384acf,0x0)/_0x4be3a6[_0x50d7ed(0x689)];if(_0x4be3a6[_0x50d7ed(0x689)]===0x1)return{'mean':_0x1d7b51,'stdDev':0x0};const _0x457879=Math['sqrt'](_0x4be3a6[_0x50d7ed(0x347)](_0x77e2af=>Math[_0x50d7ed(0x7a9)](_0x77e2af-_0x1d7b51,0x2))[_0x50d7ed(0x83e)]((_0x545ea3,_0x5f4610)=>_0x545ea3+_0x5f4610,0x0)/(_0x4be3a6['length']-0x1));return{'mean':_0x1d7b51,'stdDev':_0x457879};}function calculateZScore(_0x3e6d66,_0x3cb80a,_0x2c1e42){if(_0x2c1e42===0x0)return 0x0;return(_0x3e6d66-_0x3cb80a)/_0x2c1e42;}function calculateTScore(_0x440b52){return 0xa*_0x440b52+0x32;}function showStarredProjectView(){const _0x331585=_0x4bb8e3;currentProjectId=_0x331585(0x13d),currentProjectData=null,projectTitle['textContent']=_0x331585(0x378),projectIdDisplay[_0x331585(0x7b1)]=_0x331585(0x679),showView(_0x331585(0x63b)),manageTab[_0x331585(0x718)][_0x331585(0x15f)](_0x331585(0x248)),leaderboardTab[_0x331585(0x718)][_0x331585(0x15f)](_0x331585(0x248)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x5bca43){const _0x1a14ac=_0x4bb8e3,_0x9b6b7e=doc(db,_0x1a14ac(0x898)+appId+'/public/data/projects',_0x5bca43),_0x4d080e=await getDoc(_0x9b6b7e);if(_0x4d080e[_0x1a14ac(0x1db)]()){manageTab[_0x1a14ac(0x718)][_0x1a14ac(0x8b0)](_0x1a14ac(0x248)),leaderboardTab[_0x1a14ac(0x718)][_0x1a14ac(0x8b0)](_0x1a14ac(0x248)),currentProjectData=_0x4d080e[_0x1a14ac(0xc3)](),projectTitle[_0x1a14ac(0x7b1)]=currentProjectData['projectName'],projectIdDisplay['textContent']=_0x5bca43;const _0x3b146f=currentProjectData[_0x1a14ac(0x785)]||{};document[_0x1a14ac(0x85b)]('shuffle-setting-select')[_0x1a14ac(0x39a)]=_0x3b146f['shuffleSetting']||_0x1a14ac(0x55e);const _0x22c749=document[_0x1a14ac(0x85b)]('show-in-student-dashboard-checkbox');_0x22c749['checked']=_0x3b146f[_0x1a14ac(0x1d7)]!==![];const _0x1d2710=document[_0x1a14ac(0x85b)](_0x1a14ac(0x549)),_0x1531e0=document['getElementById'](_0x1a14ac(0x620)),_0x41ff04=document[_0x1a14ac(0x85b)](_0x1a14ac(0x623)),_0x49a22f=_0x3b146f[_0x1a14ac(0x662)]||![];_0x1d2710['checked']=_0x49a22f,_0x41ff04[_0x1a14ac(0x39a)]=_0x3b146f['passcode']||'',_0x1531e0[_0x1a14ac(0x718)][_0x1a14ac(0x4bc)](_0x1a14ac(0x248),!_0x49a22f),_0x1d2710[_0x1a14ac(0x11f)]=()=>{const _0xfc0b4d=_0x1a14ac;_0x1531e0[_0xfc0b4d(0x718)][_0xfc0b4d(0x4bc)](_0xfc0b4d(0x248),!_0x1d2710[_0xfc0b4d(0x8ae)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5bca43),listenForProjectQuizzes(_0x5bca43),listenForStudentProfiles(_0x5bca43);}else showMessage(_0x1a14ac(0xc9)),showView(_0x1a14ac(0x56a));}async function handleResetProjectOrder(){const _0x473321=_0x4bb8e3,_0x4d9e53=doc(db,'globalSettings',_0x473321(0x609));try{await setDoc(_0x4d9e53,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x473321(0x24e));}catch(_0x211284){console[_0x473321(0x60f)](_0x473321(0x21e),_0x211284),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x225818){const _0x52d996=_0x4bb8e3;if(!_0x225818)return;const _0x5d50c0=doc(db,_0x52d996(0x898)+appId+_0x52d996(0x802),_0x225818);try{const _0x1fffef=await getDoc(_0x5d50c0);if(_0x1fffef[_0x52d996(0x1db)]()){const _0x5ecbd1=_0x1fffef[_0x52d996(0xc3)]()[_0x52d996(0x4c7)]||![];await updateDoc(_0x5d50c0,{'isPinned':!_0x5ecbd1});}}catch(_0x1294af){console['error'](_0x52d996(0x2ea),_0x1294af),showMessage(_0x52d996(0x8b4));}}async function handleDeleteProject(_0x13c182){const _0x248c12=_0x4bb8e3;try{const _0xd04d07=writeBatch(db),_0x4fcc85=collection(db,_0x248c12(0x898)+appId+_0x248c12(0x1a4)),_0x198f1a=query(_0x4fcc85,where(_0x248c12(0x598),'==',_0x13c182)),_0x15439b=await getDocs(_0x198f1a);for(const _0x39a6c2 of _0x15439b[_0x248c12(0x46b)]){const _0x1f72e2=collection(db,_0x248c12(0x898)+appId+_0x248c12(0x9f)+_0x39a6c2['id']+_0x248c12(0x84d)),_0x2a5b00=await getDocs(_0x1f72e2);_0x2a5b00[_0x248c12(0xb5)](_0x4767c3=>{const _0x734a3c=_0x248c12;_0xd04d07['delete'](_0x4767c3[_0x734a3c(0x168)]);}),_0xd04d07[_0x248c12(0xde)](_0x39a6c2[_0x248c12(0x168)]);}const _0x486513=collection(db,_0x248c12(0x898)+appId+_0x248c12(0x5ec)+_0x13c182+'/studentProfiles'),_0x16979d=await getDocs(_0x486513);_0x16979d[_0x248c12(0xb5)](_0x5c331e=>{const _0x5cba33=_0x248c12;_0xd04d07[_0x5cba33(0xde)](_0x5c331e[_0x5cba33(0x168)]);});const _0x44ac32=doc(db,'artifacts/'+appId+_0x248c12(0x802),_0x13c182);_0xd04d07[_0x248c12(0xde)](_0x44ac32),await _0xd04d07[_0x248c12(0x3f8)](),showMessage(_0x248c12(0xd6)),showView(_0x248c12(0x56a));}catch(_0x86a8d7){console['error'](_0x248c12(0x6a6),_0x86a8d7),showMessage(_0x248c12(0x409));}}document['getElementById'](_0x4bb8e3(0x179))[_0x4bb8e3(0x838)](_0x4bb8e3(0x5a1),async()=>{const _0x47b027=_0x4bb8e3;if(!currentProjectId)return;const _0x3d3c8e={'defaultNumQuestions':parseInt(document[_0x47b027(0x85b)](_0x47b027(0x7de))[_0x47b027(0x39a)]),'defaultNumChoices':parseInt(document['getElementById'](_0x47b027(0x35b))[_0x47b027(0x39a)]),'defaultPassingScore':parseInt(document['getElementById'](_0x47b027(0x1b6))[_0x47b027(0x39a)]),'resultsDisplay':document[_0x47b027(0x85b)](_0x47b027(0x363))['value'],'shuffleSetting':document[_0x47b027(0x85b)](_0x47b027(0x559))['value'],'timerMode':document['getElementById'](_0x47b027(0x482))[_0x47b027(0x39a)],'timerDuration':parseInt(document['getElementById'](_0x47b027(0x6fc))[_0x47b027(0x39a)])};try{const _0x419658=doc(db,'artifacts/'+appId+_0x47b027(0x802),currentProjectId);await updateDoc(_0x419658,{'settings':_0x3d3c8e}),showMessage(_0x47b027(0x541));}catch(_0x2f800b){console[_0x47b027(0x60f)](_0x47b027(0x7f2),_0x2f800b),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x5ec3db){const _0xb8717e=_0x4bb8e3,_0x6a2526=doc(db,_0xb8717e(0x898)+appId+_0xb8717e(0x802),_0x5ec3db);unsubscribeStudentsListener=onSnapshot(_0x6a2526,_0xe9cf8c=>{const _0x745dba=_0xb8717e;if(_0xe9cf8c[_0x745dba(0x1db)]()){const _0x502e74=_0xe9cf8c[_0x745dba(0xc3)]();currentProjectData=_0x502e74,renderStudentList(_0x502e74[_0x745dba(0x4a4)]||[]);}});}function renderStudentList(_0xf89f6d){const _0xecf3bd=_0x4bb8e3,_0x429ecb=document[_0xecf3bd(0x85b)](_0xecf3bd(0x51b));_0xf89f6d['length']===0x0?(studentList['innerHTML']=_0xecf3bd(0x74b),_0x429ecb['classList'][_0xecf3bd(0x15f)](_0xecf3bd(0x248))):(studentList[_0xecf3bd(0x76f)]=_0xf89f6d[_0xecf3bd(0x347)](_0x5af65a=>_0xecf3bd(0x3d1)+_0x5af65a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x5af65a+_0xecf3bd(0x5b4))[_0xecf3bd(0x19b)](''),_0x429ecb[_0xecf3bd(0x718)]['remove'](_0xecf3bd(0x248)));}document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x5cd))[_0x4bb8e3(0x838)]('click',async()=>{const _0x50c37a=_0x4bb8e3;if(!currentProjectId)return;const _0x908a34=document[_0x50c37a(0x85b)](_0x50c37a(0x54c)),_0x533ba2=_0x908a34[_0x50c37a(0x39a)]['trim']();if(!_0x533ba2){showMessage(_0x50c37a(0x3e4));return;}const _0x2c6696=_0x533ba2[_0x50c37a(0x5f2)]('\x0a')[_0x50c37a(0x347)](_0x38f64f=>_0x38f64f['trim']())[_0x50c37a(0x2fe)](_0x5eb6b3=>_0x5eb6b3);if(_0x2c6696[_0x50c37a(0x689)]===0x0)return;try{const _0x43b6f6=doc(db,'artifacts/'+appId+_0x50c37a(0x802),currentProjectId),_0x37f480=await getDoc(_0x43b6f6);if(_0x37f480['exists']()){const _0x1a70a8=_0x37f480[_0x50c37a(0xc3)]()[_0x50c37a(0x4a4)]||[],_0xb72913=[...new Set([..._0x1a70a8,..._0x2c6696])];await updateDoc(_0x43b6f6,{'students':_0xb72913}),_0x908a34[_0x50c37a(0x39a)]='';}}catch(_0x53e6c3){console[_0x50c37a(0x60f)]('Error\x20adding\x20students:',_0x53e6c3),showMessage(_0x50c37a(0x844));}});async function handleManualQuizPairing(_0x4ea3b8){const _0x3fa171=_0x4bb8e3,_0x2e918c=document['getElementById']('move-quiz-modal'),_0x585068=document[_0x3fa171(0x85b)](_0x3fa171(0x7ef)),_0x38c23a=_0x2e918c[_0x3fa171(0x7c6)]('h3'),_0x1135fb=document[_0x3fa171(0x85b)](_0x3fa171(0x3b0)),_0x4e0e64=document[_0x3fa171(0x85b)](_0x3fa171(0x6b4));_0x38c23a['textContent']=_0x3fa171(0x79d),_0x585068[_0x3fa171(0x76f)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x1135fb['textContent']=_0x3fa171(0x704),_0x2e918c['classList'][_0x3fa171(0x8b0)](_0x3fa171(0x248));const _0x3eb751=allQuizzes[_0x3fa171(0x2fe)](_0x2f60d9=>_0x2f60d9['id']!==_0x4ea3b8);_0x3eb751[_0x3fa171(0x689)]===0x0?(_0x585068[_0x3fa171(0x76f)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x1135fb['disabled']=!![]):(_0x585068[_0x3fa171(0x76f)]=_0x3fa171(0x177)+_0x3eb751[_0x3fa171(0x347)](_0x32be21=>_0x3fa171(0x4b8)+_0x32be21['id']+'\x22>'+_0x32be21[_0x3fa171(0x2cd)]+_0x3fa171(0x1e3))[_0x3fa171(0x19b)](''),_0x1135fb[_0x3fa171(0x1ea)]=![]);const _0x5c92ac=async()=>{const _0x5f11e5=_0x3fa171,_0x2db899=_0x585068[_0x5f11e5(0x39a)];if(!_0x2db899){showMessage(_0x5f11e5(0x6d8));return;}_0x1135fb[_0x5f11e5(0x1ea)]=!![],_0x1135fb[_0x5f11e5(0x7b1)]=_0x5f11e5(0x760);try{const _0xa9d8f6=doc(db,_0x5f11e5(0x898)+appId+_0x5f11e5(0x1a4),_0x4ea3b8),_0x43b1f4=doc(db,'artifacts/'+appId+_0x5f11e5(0x1a4),_0x2db899),_0x4c92f8=writeBatch(db);_0x4c92f8[_0x5f11e5(0x89e)](_0xa9d8f6,{'pairedQuizId':_0x2db899}),_0x4c92f8['update'](_0x43b1f4,{'pairedQuizId':_0x4ea3b8}),await _0x4c92f8[_0x5f11e5(0x3f8)](),showMessage(_0x5f11e5(0x402)),_0x2e918c[_0x5f11e5(0x718)][_0x5f11e5(0x15f)](_0x5f11e5(0x248));}catch(_0x12e195){console[_0x5f11e5(0x60f)]('Error\x20pairing\x20quizzes:',_0x12e195),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x38c23a['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x1135fb['textContent']='ย้าย',_0x1135fb[_0x5f11e5(0x1ea)]=![],_0x1135fb[_0x5f11e5(0x3de)](_0x5f11e5(0x5a1),_0x5c92ac),_0x4e0e64[_0x5f11e5(0x3de)]('click',_0x1645fe);}},_0x1645fe=()=>{const _0x5e3e63=_0x3fa171;_0x2e918c['classList']['add'](_0x5e3e63(0x248)),_0x38c23a[_0x5e3e63(0x7b1)]=_0x5e3e63(0x87c),_0x1135fb[_0x5e3e63(0x7b1)]=_0x5e3e63(0x3aa),_0x1135fb[_0x5e3e63(0x3de)](_0x5e3e63(0x5a1),_0x5c92ac),_0x4e0e64[_0x5e3e63(0x3de)]('click',_0x1645fe);};_0x1135fb['addEventListener']('click',_0x5c92ac),_0x4e0e64[_0x3fa171(0x838)](_0x3fa171(0x5a1),_0x1645fe);}function handleDeleteStudent(_0x5f557d){const _0x2bfefb=_0x4bb8e3;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x5f557d+_0x2bfefb(0x30e),async()=>{const _0x2a34e6=_0x2bfefb;if(!currentProjectId||!currentProjectData)return;const _0x329023=currentProjectData['students'][_0x2a34e6(0x2fe)](_0x186c60=>_0x186c60!==_0x5f557d);try{const _0x5527d3=doc(db,_0x2a34e6(0x898)+appId+_0x2a34e6(0x802),currentProjectId),_0x490485=doc(db,_0x2a34e6(0x898)+appId+_0x2a34e6(0x5ec)+currentProjectId+_0x2a34e6(0x477),_0x5f557d),_0x46a7ea=writeBatch(db);_0x46a7ea[_0x2a34e6(0x89e)](_0x5527d3,{'students':_0x329023}),_0x46a7ea['delete'](_0x490485),await _0x46a7ea[_0x2a34e6(0x3f8)]();}catch(_0x161692){console[_0x2a34e6(0x60f)](_0x2a34e6(0x3db),_0x161692),showMessage(_0x2a34e6(0x6f7));}});}function handleDeleteAllStudents(){const _0x3638b8=_0x4bb8e3;showConfirmation(_0x3638b8(0x1ab),async()=>{const _0x279647=_0x3638b8;if(!currentProjectId)return;try{const _0x4aace9=doc(db,_0x279647(0x898)+appId+_0x279647(0x802),currentProjectId),_0x5efdc4=collection(db,_0x279647(0x898)+appId+_0x279647(0x5ec)+currentProjectId+'/studentProfiles'),_0x1f1869=await getDocs(_0x5efdc4),_0x504c08=writeBatch(db);_0x504c08[_0x279647(0x89e)](_0x4aace9,{'students':[]}),_0x1f1869[_0x279647(0xb5)](_0x39279d=>_0x504c08[_0x279647(0xde)](_0x39279d[_0x279647(0x168)])),await _0x504c08[_0x279647(0x3f8)]();}catch(_0x2cb2c0){console[_0x279647(0x60f)]('Error\x20deleting\x20all\x20students:',_0x2cb2c0),showMessage(_0x279647(0x1a8));}});}async function handleGenerateFromFileClick(){const _0x4a8144=_0x4bb8e3;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x1ce960=document['getElementById'](_0x4a8144(0x5b8)),_0x412776=document[_0x4a8144(0x85b)](_0x4a8144(0x4d8)),_0x3ac164=document[_0x4a8144(0x85b)](_0x4a8144(0x266)),_0x1c9960=document[_0x4a8144(0x85b)](_0x4a8144(0x87a));_0x1c9960[_0x4a8144(0x1ea)]=!![],document[_0x4a8144(0x85b)](_0x4a8144(0x1e7))[_0x4a8144(0x718)][_0x4a8144(0x8b0)](_0x4a8144(0x248)),_0x3ac164[_0x4a8144(0x76f)]='',_0x1ce960[_0x4a8144(0x718)][_0x4a8144(0x8b0)]('hidden'),_0x412776[_0x4a8144(0x7b1)]='กำลังอ่านและเตรียมไฟล์...';const _0x4ef2fa=new FileReader();_0x4ef2fa[_0x4a8144(0x7e9)](selectedFile),_0x4ef2fa[_0x4a8144(0x422)]=async()=>{const _0xd59852=_0x4a8144;try{const _0x34b2e9=_0x4ef2fa[_0xd59852(0x6fe)][_0xd59852(0x5f2)](',')[0x1],_0x4780ab=selectedFile['type'];await generateQuizFromFile(_0x4780ab,_0x34b2e9);}catch(_0x4ed793){console[_0xd59852(0x60f)](_0xd59852(0x674),_0x4ed793),showMessage(_0xd59852(0x791)+_0x4ed793['message']),_0x1ce960[_0xd59852(0x718)][_0xd59852(0x15f)](_0xd59852(0x248));}finally{}},_0x4ef2fa[_0x4a8144(0x1f3)]=_0x1a77c9=>{const _0x42e8ca=_0x4a8144;console['error'](_0x42e8ca(0x115),_0x1a77c9),showMessage(_0x42e8ca(0x440)),_0x1ce960['classList'][_0x42e8ca(0x15f)](_0x42e8ca(0x248)),_0x1c9960[_0x42e8ca(0x1ea)]=![];};}function autoFormatMath(_0x44ef30){const _0x14b2e1=_0x4bb8e3;if(typeof _0x44ef30!==_0x14b2e1(0x587)||!_0x44ef30)return _0x44ef30;const _0x21d462=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x38bbb4=_0x44ef30[_0x14b2e1(0x6ed)](_0x21d462,_0x38b655=>{const _0x41236c=_0x14b2e1;return'$'+_0x38b655[_0x41236c(0xbf)]()+'$';});return _0x38bbb4;}function sanitizeQuizData(_0x3dbc35){const _0x52d13f=_0x4bb8e3;if(!_0x3dbc35||!_0x3dbc35[_0x52d13f(0x79e)])return _0x3dbc35;const _0x1e4773={'imes':_0x52d13f(0x1f9),'div':_0x52d13f(0x106)},_0x18b14f=_0x3a22d8=>{const _0x2c5b1a=_0x52d13f;if(typeof _0x3a22d8!=='string')return _0x3a22d8;let _0x5a4b6d=_0x3a22d8;for(const [_0x1bea7a,_0x1a7290]of Object[_0x2c5b1a(0x244)](_0x1e4773)){const _0x2768dd=new RegExp('\x5cb'+_0x1bea7a+'\x5cb','g');_0x5a4b6d=_0x5a4b6d['replace'](_0x2768dd,_0x1a7290);}return _0x5a4b6d=_0x5a4b6d[_0x2c5b1a(0x6ed)](/\\\//g,'\x5cdiv'),_0x5a4b6d=_0x5a4b6d[_0x2c5b1a(0x6ed)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x2c5b1a(0x6ed)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')['replace'](/÷/g,_0x2c5b1a(0x106))['replace'](/×/g,_0x2c5b1a(0x1f9)),_0x5a4b6d=_0x5a4b6d[_0x2c5b1a(0x6ed)](/(\d)(\\frac)/g,_0x2c5b1a(0x7c3)),_0x5a4b6d=autoFormatMath(_0x5a4b6d),_0x5a4b6d;};return _0x3dbc35[_0x52d13f(0x2cd)]&&(_0x3dbc35[_0x52d13f(0x2cd)]=_0x18b14f(_0x3dbc35[_0x52d13f(0x2cd)])),_0x3dbc35['questions'][_0x52d13f(0xb5)](_0x505d9a=>{const _0x5d3d1e=_0x52d13f;_0x505d9a[_0x5d3d1e(0x862)]=_0x18b14f(_0x505d9a[_0x5d3d1e(0x862)]),_0x505d9a[_0x5d3d1e(0x498)]&&(_0x505d9a[_0x5d3d1e(0x498)]=_0x505d9a[_0x5d3d1e(0x498)][_0x5d3d1e(0x347)](_0x18b14f)),_0x505d9a[_0x5d3d1e(0x829)]&&(_0x505d9a[_0x5d3d1e(0x829)]=_0x18b14f(_0x505d9a['explanation'])),_0x505d9a['stem']&&(_0x505d9a[_0x5d3d1e(0x866)]=_0x18b14f(_0x505d9a[_0x5d3d1e(0x866)])),_0x505d9a[_0x5d3d1e(0x453)]&&(_0x505d9a[_0x5d3d1e(0x453)]=_0x18b14f(_0x505d9a[_0x5d3d1e(0x453)])),_0x505d9a[_0x5d3d1e(0xe8)]&&(_0x505d9a[_0x5d3d1e(0xe8)]=_0x505d9a[_0x5d3d1e(0xe8)][_0x5d3d1e(0x347)](_0x18b14f));}),_0x3dbc35;}const simpleMathPrompt=_0x4bb8e3(0x368);async function handleGenerateFromLink(){const _0xbbefed=_0x4bb8e3,_0x10ba73=document[_0xbbefed(0x85b)](_0xbbefed(0x725)),_0x203a6c=document[_0xbbefed(0x85b)](_0xbbefed(0x143)),_0x2fca1=_0x10ba73[_0xbbefed(0x39a)][_0xbbefed(0xbf)](),_0x541536=_0x203a6c[_0xbbefed(0x39a)]['trim']();if(!_0x2fca1){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x414e28=document[_0xbbefed(0x85b)](_0xbbefed(0x5b8)),_0x54d955=document[_0xbbefed(0x85b)]('loader-text'),_0x12c643=document[_0xbbefed(0x85b)]('generated-quiz-container'),_0x2a5a46=document[_0xbbefed(0x85b)](_0xbbefed(0x4e3));document[_0xbbefed(0x85b)](_0xbbefed(0x1e7))[_0xbbefed(0x718)][_0xbbefed(0x8b0)](_0xbbefed(0x248)),_0x12c643[_0xbbefed(0x76f)]='',_0x414e28['classList']['remove']('hidden'),_0x54d955['textContent']=_0xbbefed(0xe7),_0x2a5a46['disabled']=!![];try{const _0x21398c=_0xbbefed(0x1cb)+encodeURIComponent(_0x2fca1),_0x528f8b=await fetch(_0x21398c);if(!_0x528f8b['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x528f8b[_0xbbefed(0x652)]+')');const _0x51cdc4=await _0x528f8b[_0xbbefed(0x524)](),_0x5c52b8=extractTextFromHtml(_0x51cdc4);if(!_0x5c52b8||_0x5c52b8['length']<0x64)throw new Error(_0xbbefed(0x5fd));await generateQuiz(_0x541536,_0x5c52b8);}catch(_0x3159e1){console['error'](_0xbbefed(0x5e4),_0x3159e1),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3159e1[_0xbbefed(0x158)]),_0x12c643[_0xbbefed(0x76f)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x414e28[_0xbbefed(0x718)][_0xbbefed(0x15f)]('hidden'),_0x2a5a46[_0xbbefed(0x1ea)]=![];}}function extractTextFromHtml(_0x14aa97){const _0x3280de=_0x4bb8e3,_0xa4258b=new DOMParser()['parseFromString'](_0x14aa97,_0x3280de(0x316));return _0xa4258b[_0x3280de(0x68b)](_0x3280de(0x783))['forEach'](_0x98d2b2=>_0x98d2b2[_0x3280de(0x8b0)]()),_0xa4258b[_0x3280de(0x45c)][_0x3280de(0x7b1)]||'';}document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x602))['addEventListener'](_0x4bb8e3(0x5a1),()=>{const _0x23d461=_0x4bb8e3,_0x24fb17=document[_0x23d461(0x85b)](_0x23d461(0x775))[_0x23d461(0x39a)][_0x23d461(0xbf)]();generateQuiz(_0x24fb17,null);}),document[_0x4bb8e3(0x85b)](_0x4bb8e3(0x11c))[_0x4bb8e3(0x838)]('click',()=>{const _0x289df7=_0x4bb8e3,_0x41bcd7=document['getElementById']('text-content-input')[_0x289df7(0x39a)]['trim']();if(!_0x41bcd7){showMessage(_0x289df7(0x35c));return;}const _0x3b24ce=document['getElementById'](_0x289df7(0x775))[_0x289df7(0x39a)][_0x289df7(0xbf)]();generateQuiz(_0x3b24ce,_0x41bcd7);});async function generateQuiz(_0x5c9afa,_0x7f8be5,_0x90c297=null){const _0x1668d1=_0x4bb8e3,_0x112543=document[_0x1668d1(0x85b)](_0x1668d1(0x7c5))[_0x1668d1(0x8ae)],_0x5116de=document[_0x1668d1(0x85b)](_0x1668d1(0x5bc))[_0x1668d1(0x39a)],_0x4585a0=document[_0x1668d1(0x85b)](_0x1668d1(0x7de))['value'],_0x3c6f1c=document[_0x1668d1(0x85b)](_0x1668d1(0x35b))[_0x1668d1(0x39a)],_0x59365e=document[_0x1668d1(0x85b)](_0x1668d1(0x323))['checked'],_0x1fb11a=_0x59365e?'':_0x1668d1(0x2d3),_0x447bf1=document['getElementById'](_0x1668d1(0x171)),_0x278133=_0x447bf1[_0x1668d1(0x39a)];let _0x4eddc1='';_0x278133!=='auto'&&(_0x4eddc1='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x278133+'\x22');const _0x1840c8=document['getElementById'](_0x1668d1(0x127)),_0x302d26=_0x1840c8[_0x1668d1(0x39a)];let _0x47c255='';_0x302d26!==_0x1668d1(0x343)&&(_0x47c255=_0x1668d1(0x776)+_0x302d26+_0x1668d1(0x8ac));const _0x1193ae=document[_0x1668d1(0x68b)](_0x1668d1(0x45d)),_0x58d484=Array[_0x1668d1(0x1e2)](_0x1193ae)[_0x1668d1(0x347)](_0x39fb99=>_0x39fb99[_0x1668d1(0x39a)]);let _0x427721='';_0x58d484[_0x1668d1(0x689)]>0x0&&(_0x427721=_0x1668d1(0x4b0)+_0x58d484[_0x1668d1(0x19b)](',\x20')+_0x1668d1(0x5e3));let _0x462c92='',_0x1052c7='',_0x53b5b4,_0x1fccf9=_0x1668d1(0x1c0)+_0x5c9afa+'\x22';if(!_0x5c9afa&&_0x7f8be5)_0x1fccf9='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x5c9afa&&!_0x7f8be5&&(_0x1fccf9=_0x1668d1(0x156));const _0x39620b={'type':_0x1668d1(0x67a),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1668d1(0x152)},'explanation':{'type':_0x1668d1(0x7f1)},'imageCode':{'type':_0x1668d1(0x7f1)}},'required':[_0x1668d1(0x862),_0x1668d1(0x498),'correctAnswerIndex',_0x1668d1(0x829)]},_0x3cf533={'type':_0x1668d1(0x67a),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x1668d1(0x7f1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1668d1(0x7f1)}},'required':['questionText','idealAnswer','explanation']},_0x45d4a7={'type':_0x1668d1(0x67a),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x1668d1(0x7f1),'enum':[_0x1668d1(0x75e),_0x1668d1(0x403)]},'options':{'type':'ARRAY','items':{'type':_0x1668d1(0x7f1)}},'correctAnswerIndex':{'type':_0x1668d1(0x152)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x1668d1(0x7f1)},'imageCode':{'type':_0x1668d1(0x7f1)}},'required':[_0x1668d1(0x862),'questionType','explanation']},_0x115e79={'type':_0x1668d1(0x67a),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1668d1(0x7f1)}},'required':[_0x1668d1(0x862),_0x1668d1(0x7d8),'explanation']},_0x40fcde={'type':_0x1668d1(0x67a),'properties':{'questionType':{'type':'STRING','enum':[_0x1668d1(0x69e)]},'stem':{'type':_0x1668d1(0x7f1)},'correctResponse':{'type':_0x1668d1(0x7f1)},'allResponses':{'type':'ARRAY','items':{'type':_0x1668d1(0x7f1)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x1668d1(0x7a7),_0x1668d1(0x866),_0x1668d1(0x453),'allResponses','explanation']};let _0xaff087;if(_0x90c297!==null){const _0x687506=currentQuizData[_0x1668d1(0x79e)][_0x90c297][_0x1668d1(0x7a7)],_0x469918=_0x112543?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x462c92=_0x1668d1(0x3f3)+_0x1fccf9+'\x20'+_0x427721+'\x20'+_0x4eddc1+_0x1668d1(0x60d)+_0x469918+'\x20'+simpleMathPrompt;if(_0x687506===_0x1668d1(0x75e))_0x53b5b4=_0x39620b;else{if(_0x687506==='matching_item')_0x53b5b4={'type':_0x1668d1(0x67a),'properties':{'questionType':{'type':'STRING','enum':[_0x1668d1(0x69e)]},'stem':{'type':_0x1668d1(0x7f1)},'correctResponse':{'type':_0x1668d1(0x7f1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1668d1(0x7f1)}},'required':[_0x1668d1(0x7a7),_0x1668d1(0x866),'correctResponse',_0x1668d1(0x829)]};else _0x53b5b4=_0x3cf533;}_0xaff087=_0x53b5b4;}else{const _0x474bed=_0x112543?_0x1668d1(0x813):'',_0xe02eb5=_0x1668d1(0x426);switch(_0x5116de){case _0x1668d1(0x75e):_0x462c92=_0x1668d1(0x17d)+_0x1fb11a+'\x20'+_0x4585a0+_0x1668d1(0x7ec)+_0x1fccf9+'\x20'+_0x427721+'\x20'+_0x4eddc1+'\x20'+_0x47c255+_0x1668d1(0x29e)+_0x3c6f1c+_0x1668d1(0x62e)+_0x474bed+'\x20'+simpleMathPrompt,_0x53b5b4=_0x39620b;break;case _0x1668d1(0x44d):_0x462c92=_0x1668d1(0x410)+_0x1fb11a+'\x20'+_0x4585a0+_0x1668d1(0x7ec)+_0x1fccf9+'\x20'+_0x427721+'\x20'+_0x4eddc1+'\x20'+_0x47c255+_0x1668d1(0x50e)+_0x3c6f1c+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x474bed+'\x20'+simpleMathPrompt,_0x53b5b4=_0x39620b;break;case _0x1668d1(0x7a0):_0x462c92=_0x1668d1(0x410)+_0x1fb11a+'\x20'+_0x4585a0+_0x1668d1(0x7ec)+_0x1fccf9+'\x20'+_0x427721+'\x20'+_0x4eddc1+'\x20'+_0x47c255+_0x1668d1(0x841)+_0x474bed+'\x20'+simpleMathPrompt,_0x53b5b4=_0x3cf533;break;case'mixed':_0x462c92=_0x1668d1(0x805)+_0x1fb11a+'\x20'+_0x4585a0+_0x1668d1(0x7ec)+_0x1fccf9+'\x20'+_0x427721+'\x20'+_0x4eddc1+'\x20'+_0x47c255+_0x1668d1(0x8b5)+_0x3c6f1c+_0x1668d1(0x6a3)+_0x474bed+'\x20'+simpleMathPrompt+'.',_0x53b5b4=_0x45d4a7;break;case'true_false':_0x462c92='สร้างคำถามแบบใช่/ไม่ใช่'+_0x1fb11a+'\x20'+_0x4585a0+_0x1668d1(0x7ec)+_0x1fccf9+'\x20'+_0x427721+'\x20'+_0x4eddc1+'\x20'+_0x47c255+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x474bed+'\x20'+simpleMathPrompt,_0x53b5b4=_0x115e79;break;case _0x1668d1(0x6e7):_0x462c92=_0x1668d1(0x526)+_0x1fb11a+'\x20'+_0x4585a0+_0x1668d1(0x5c5)+_0x1fccf9+'\x20'+_0x427721+'\x20'+_0x4eddc1+'\x20'+_0x47c255+_0x1668d1(0x627)+_0x474bed+'\x20'+simpleMathPrompt,_0x53b5b4=_0x40fcde;break;}_0xaff087={'type':_0x1668d1(0x67a),'properties':{'topic':{'type':_0x1668d1(0x7f1)},'questions':{'type':_0x1668d1(0x12f),'items':_0x53b5b4}},'required':[_0x1668d1(0x2cd),_0x1668d1(0x79e)]};}return _0x7f8be5?(_0x462c92=_0x1668d1(0x187)+_0x7f8be5+_0x1668d1(0x536)+_0x462c92,_0x1052c7=_0x1668d1(0x67f)):_0x1052c7=_0x1668d1(0x150),handleApiCall(_0x462c92,_0x1052c7,_0xaff087,_0x90c297);}async function generateQuizFromFile(_0x27bd6d,_0x488264){const _0x4636cc=_0x4bb8e3,_0x570141=document[_0x4636cc(0x85b)]('file-topic-input')[_0x4636cc(0x39a)][_0x4636cc(0xbf)](),_0x5e1c77=document[_0x4636cc(0x85b)](_0x4636cc(0x5bc))['value'],_0x28d32a=document['getElementById'](_0x4636cc(0x7de))[_0x4636cc(0x39a)],_0x178b79=document[_0x4636cc(0x85b)](_0x4636cc(0x35b))[_0x4636cc(0x39a)],_0xa92598=document[_0x4636cc(0x85b)]('include-images-checkbox')[_0x4636cc(0x8ae)],_0x104ae4=document[_0x4636cc(0x85b)](_0x4636cc(0x323))[_0x4636cc(0x8ae)],_0xb1efac=_0x104ae4?'':'คณิตศาสตร์';let _0x4b49ad='',_0x20540c,_0x55be0f=_0x4636cc(0x1c0)+_0x570141+'\x22';!_0x570141&&(_0x55be0f=_0x4636cc(0x566));const _0x165f27=_0xa92598?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x5e1c77){case _0x4636cc(0x75e):_0x4b49ad=_0x4636cc(0x17d)+_0xb1efac+'\x20'+_0x28d32a+_0x4636cc(0x7ec)+_0x55be0f+_0x4636cc(0x29e)+_0x178b79+_0x4636cc(0x62e)+_0x165f27+'\x20'+simpleMathPrompt,_0x20540c={'type':'OBJECT','properties':{'questionText':{'type':_0x4636cc(0x7f1)},'options':{'type':_0x4636cc(0x12f),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4636cc(0x152)},'explanation':{'type':_0x4636cc(0x7f1)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x4636cc(0x498),_0x4636cc(0x136),_0x4636cc(0x829)]};break;case _0x4636cc(0x44d):_0x4b49ad='สร้างคำถามแบบเติมคำในช่องว่าง'+_0xb1efac+'\x20'+_0x28d32a+_0x4636cc(0x7ec)+_0x55be0f+_0x4636cc(0x50e)+_0x178b79+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x165f27+'\x20'+simpleMathPrompt,_0x20540c={'type':'OBJECT','properties':{'questionText':{'type':_0x4636cc(0x7f1)},'options':{'type':_0x4636cc(0x12f),'items':{'type':_0x4636cc(0x7f1)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x4636cc(0x7f1)},'imageCode':{'type':_0x4636cc(0x7f1)}},'required':[_0x4636cc(0x862),_0x4636cc(0x498),_0x4636cc(0x136),_0x4636cc(0x829)]};break;case _0x4636cc(0x7a0):_0x4b49ad='สร้างคำถามแบบเติมคำในช่องว่าง'+_0xb1efac+'\x20'+_0x28d32a+'\x20ข้อ\x20'+_0x55be0f+_0x4636cc(0x841)+_0x165f27+'\x20'+simpleMathPrompt,_0x20540c={'type':_0x4636cc(0x67a),'properties':{'questionText':{'type':_0x4636cc(0x7f1)},'idealAnswer':{'type':_0x4636cc(0x7f1)},'explanation':{'type':_0x4636cc(0x7f1)},'imageCode':{'type':_0x4636cc(0x7f1)}},'required':[_0x4636cc(0x862),'idealAnswer',_0x4636cc(0x829)]};break;case _0x4636cc(0x343):_0x4b49ad='สร้างแบบทดสอบ'+_0xb1efac+'\x20'+_0x28d32a+_0x4636cc(0x7ec)+_0x55be0f+_0x4636cc(0x62b)+_0x178b79+_0x4636cc(0x6a3)+_0x165f27+'\x20'+simpleMathPrompt+_0x4636cc(0x57c),_0x20540c={'type':'OBJECT','properties':{'questionText':{'type':_0x4636cc(0x7f1)},'questionType':{'type':_0x4636cc(0x7f1),'enum':[_0x4636cc(0x75e),_0x4636cc(0x403)]},'options':{'type':'ARRAY','items':{'type':_0x4636cc(0x7f1)}},'correctAnswerIndex':{'type':_0x4636cc(0x152)},'idealAnswer':{'type':_0x4636cc(0x7f1)},'explanation':{'type':_0x4636cc(0x7f1)},'imageCode':{'type':_0x4636cc(0x7f1)}},'required':[_0x4636cc(0x862),'questionType',_0x4636cc(0x829)]};break;case _0x4636cc(0x2d2):_0x4b49ad=_0x4636cc(0x646)+_0xb1efac+'\x20'+_0x28d32a+_0x4636cc(0x7ec)+_0x55be0f+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x165f27+'\x20'+simpleMathPrompt,_0x20540c={'type':_0x4636cc(0x67a),'properties':{'questionText':{'type':_0x4636cc(0x7f1)},'correctAnswer':{'type':_0x4636cc(0x32d)},'explanation':{'type':_0x4636cc(0x7f1)},'imageCode':{'type':_0x4636cc(0x7f1)}},'required':[_0x4636cc(0x862),_0x4636cc(0x7d8),'explanation']};break;case'matching':_0x4b49ad=_0x4636cc(0x526)+_0xb1efac+'\x20'+_0x28d32a+_0x4636cc(0x5c5)+_0x55be0f+_0x4636cc(0x2a0)+_0x28d32a+_0x4636cc(0x172)+_0x165f27+'\x20'+simpleMathPrompt,_0x20540c={'type':_0x4636cc(0x67a),'properties':{'questionType':{'type':'STRING','enum':[_0x4636cc(0x69e)]},'stem':{'type':_0x4636cc(0x7f1)},'correctResponse':{'type':_0x4636cc(0x7f1)},'allResponses':{'type':_0x4636cc(0x12f),'items':{'type':_0x4636cc(0x7f1)}},'explanation':{'type':_0x4636cc(0x7f1)},'imageCode':{'type':_0x4636cc(0x7f1)}},'required':[_0x4636cc(0x7a7),'stem',_0x4636cc(0x453),_0x4636cc(0xe8),_0x4636cc(0x829)]};break;}const _0x2add3b={'type':_0x4636cc(0x67a),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x20540c}},'required':[_0x4636cc(0x2cd),_0x4636cc(0x79e)]},_0x11c03e='จากไฟล์ที่แนบมานี้,\x20'+_0x4b49ad,_0x5a4a7e={'contents':[{'parts':[{'text':_0x11c03e},{'inlineData':{'mimeType':_0x27bd6d,'data':_0x488264}}]}],'generationConfig':{'responseMimeType':_0x4636cc(0xca),'responseSchema':_0x2add3b}};return handleApiCall(_0x5a4a7e[_0x4636cc(0x382)][0x0][_0x4636cc(0x767)],_0x4636cc(0x351),_0x2add3b);}async function handleApiCall(_0x1aa4e1,_0x2b986b,_0x446a21,_0xe993b5=null){const _0x599526=_0x4bb8e3,_0x5347d5=document[_0x599526(0x85b)](_0x599526(0x1e7)),_0x1cd719=document[_0x599526(0x85b)]('loader'),_0x4c9a36=document[_0x599526(0x85b)](_0x599526(0x4d8)),_0x1eb930=document['getElementById'](_0x599526(0x266));_0x5347d5[_0x599526(0x718)]['remove'](_0x599526(0x248));_0xe993b5===null&&(_0x1eb930[_0x599526(0x76f)]='');_0x1cd719[_0x599526(0x718)][_0x599526(0x8b0)](_0x599526(0x248)),_0x4c9a36[_0x599526(0x7b1)]=_0x2b986b,document[_0x599526(0x85b)](_0x599526(0x602))[_0x599526(0x1ea)]=!![],document[_0x599526(0x85b)](_0x599526(0x11c))['disabled']=!![],document[_0x599526(0x85b)](_0x599526(0x4e3))[_0x599526(0x1ea)]=!![];try{const _0x4edcf={'responseMimeType':_0x599526(0xca),'responseSchema':_0x446a21},_0x2ee135=Array[_0x599526(0x7eb)](_0x1aa4e1)?_0x1aa4e1:[{'text':_0x1aa4e1}],_0x30191a={'contents':[{'role':'user','parts':_0x2ee135}],'generationConfig':_0x4edcf},_0xda964e=_0x599526(0x188),_0x35056e=_0x599526(0x529)+_0xda964e,_0x476299=await fetch(_0x35056e,{'method':_0x599526(0x5ea),'headers':{'Content-Type':_0x599526(0xca)},'body':JSON[_0x599526(0x852)](_0x30191a)});if(!_0x476299['ok'])throw new Error(_0x599526(0x685)+_0x476299[_0x599526(0x652)]);const _0x21acdc=await _0x476299['json']();if(_0x21acdc[_0x599526(0x1ee)]?.[0x0]?.[_0x599526(0x60a)]?.[_0x599526(0x767)]?.[0x0]){let _0x233beb=_0x21acdc[_0x599526(0x1ee)][0x0][_0x599526(0x60a)]['parts'][0x0][_0x599526(0x524)],_0x50d51a;try{if(_0x233beb[_0x599526(0x6ce)](_0x599526(0x4a3)))_0x233beb=_0x233beb[_0x599526(0x642)](0x7,_0x233beb[_0x599526(0x689)]-0x3)[_0x599526(0xbf)]();else _0x233beb[_0x599526(0x6ce)](_0x599526(0x34f))&&(_0x233beb=_0x233beb[_0x599526(0x642)](0x3,_0x233beb[_0x599526(0x689)]-0x3)['trim']());_0x50d51a=JSON[_0x599526(0x4a5)](_0x233beb);}catch(_0x5dfad4){console[_0x599526(0x60f)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x5dfad4,_0x233beb);throw new Error(_0x599526(0x752));}if(_0xe993b5!==null){if(_0x50d51a[_0x599526(0x7a7)]===_0x599526(0x69e)){const _0x5caf58=currentQuizData['questions'][_0x599526(0x347)](_0x25e08e=>_0x25e08e[_0x599526(0x453)]);_0x50d51a['allResponses']=_0x5caf58;const _0x51ae5c=currentQuizData['questions'][_0xe993b5][_0x599526(0x453)],_0x23706d=_0x5caf58[_0x599526(0x702)](_0x51ae5c);_0x23706d>-0x1&&(_0x5caf58[_0x23706d]=_0x50d51a['correctResponse']),currentQuizData[_0x599526(0x79e)][_0x599526(0xb5)](_0x585aac=>{const _0x42580d=_0x599526;if(_0x585aac[_0x42580d(0x7a7)]===_0x42580d(0x69e))_0x585aac[_0x42580d(0xe8)]=_0x5caf58;});}currentQuizData[_0x599526(0x79e)][_0xe993b5]=_0x50d51a,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x50d51a;const _0x336fcd=document[_0x599526(0x85b)](_0x599526(0x5bc))['value'];currentQuizData[_0x599526(0x33b)]=_0x336fcd,currentQuizData[_0x599526(0x79e)]&&currentQuizData['questions'][_0x599526(0xb5)](_0x500468=>{const _0x35a80a=_0x599526;if(!_0x500468[_0x35a80a(0x7a7)]){if(_0x336fcd===_0x35a80a(0x44d))_0x500468[_0x35a80a(0x7a7)]='multiple_choice';else _0x336fcd===_0x35a80a(0x7a0)?_0x500468[_0x35a80a(0x7a7)]=_0x35a80a(0x403):_0x500468['questionType']=_0x336fcd;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x599526(0x60f)](_0x599526(0x5c8),JSON[_0x599526(0x852)](_0x21acdc));throw new Error(_0x599526(0x752));}}catch(_0x488062){console[_0x599526(0x60f)](_0x599526(0x5db),_0x488062),showMessage(_0x599526(0x714)),_0xe993b5===null&&(_0x1eb930[_0x599526(0x76f)]=_0x599526(0x2e8));}finally{_0x1cd719[_0x599526(0x718)]['add'](_0x599526(0x248)),document[_0x599526(0x85b)](_0x599526(0x602))[_0x599526(0x1ea)]=![],document[_0x599526(0x85b)]('generate-from-text-btn')['disabled']=![],document[_0x599526(0x85b)](_0x599526(0x4e3))['disabled']=![];const _0x100d6d=document[_0x599526(0x85b)](_0x599526(0x87a));_0x100d6d&&(_0x100d6d[_0x599526(0x1ea)]=![]);}}function exitFullscreen(){const _0x56f4df=_0x4bb8e3;if(document[_0x56f4df(0x5d4)])document[_0x56f4df(0x5d4)]()[_0x56f4df(0x467)](_0x1aff4d=>console['error'](_0x1aff4d));else{if(document['webkitExitFullscreen'])document[_0x56f4df(0x709)]();else document[_0x56f4df(0x53b)]&&document[_0x56f4df(0x53b)]();}}function enterFullscreen(){const _0x10ada0=_0x4bb8e3,_0x26ae93=document[_0x10ada0(0x8b9)];if(_0x26ae93[_0x10ada0(0x736)])_0x26ae93['requestFullscreen']()['catch'](_0x5662a4=>{const _0x3c803b=_0x10ada0;console['error'](_0x3c803b(0x227)+_0x5662a4[_0x3c803b(0x158)]+'\x20('+_0x5662a4[_0x3c803b(0x55b)]+')');});else{if(_0x26ae93[_0x10ada0(0x635)])_0x26ae93['webkitRequestFullscreen']();else _0x26ae93[_0x10ada0(0x1f1)]&&_0x26ae93['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x30aa31=_0x4bb8e3;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x30aa31(0x518)+maxCheatAttempts+_0x30aa31(0x59e)),document[_0x30aa31(0x85b)](_0x30aa31(0x6ae))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x30aa31(0x3de)](_0x30aa31(0x181),handleVisibilityChange),document['removeEventListener'](_0x30aa31(0x4cf),handleFullscreenChange)):showMessage(_0x30aa31(0x673)+cheatAttempts+'/'+maxCheatAttempts+_0x30aa31(0x869),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x490493=_0x4bb8e3;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x490493(0x202)]==='hidden')handleCheatingEvent();else document[_0x490493(0x202)]===_0x490493(0x2f5)&&(console['log']('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x3f55cb=_0x4bb8e3;if(currentMode===_0x3f55cb(0x668)||!isQuizActive)return;!document[_0x3f55cb(0x376)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4674ba){const _0x31123d=_0x4bb8e3,_0x3dbc96=document['getElementById'](_0x31123d(0x266));let _0x443092='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x4674ba[_0x31123d(0x2cd)]+_0x31123d(0x282);_0x4674ba[_0x31123d(0x79e)][_0x31123d(0xb5)]((_0x20974f,_0x106b92)=>{const _0x2a4aea=_0x31123d;!_0x20974f['id']&&(_0x20974f['id']='q_'+Date[_0x2a4aea(0x7e0)]()+'_'+_0x106b92);const _0x3d43f8=_0x20974f[_0x2a4aea(0x7a7)]||_0x4674ba[_0x2a4aea(0x33b)];_0x443092+=_0x2a4aea(0x820)+_0x106b92+_0x2a4aea(0x66c)+_0x106b92+_0x2a4aea(0x759)+_0x106b92+_0x2a4aea(0x696)+_0x106b92+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x3d43f8){case _0x2a4aea(0x69e):_0x443092+=_0x2a4aea(0x3ef)+_0x106b92+'\x22>'+(_0x106b92+0x1)+'.\x20'+_0x20974f[_0x2a4aea(0x866)]+_0x2a4aea(0x50f);_0x20974f[_0x2a4aea(0xc1)]&&(_0x443092+=_0x2a4aea(0x3a0)+_0x106b92+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x20974f[_0x2a4aea(0xc1)]+'</div>');_0x443092+=_0x2a4aea(0x634)+_0x106b92+'\x22>'+_0x20974f[_0x2a4aea(0x453)]+_0x2a4aea(0x563),_0x443092+=_0x2a4aea(0x480)+_0x106b92+'\x22>'+_0x20974f[_0x2a4aea(0x829)]+_0x2a4aea(0x563);break;case'short_answer':_0x443092+=_0x2a4aea(0x3ef)+_0x106b92+'\x22>'+(_0x106b92+0x1)+'.\x20'+_0x20974f['questionText']+_0x2a4aea(0x50f);_0x20974f[_0x2a4aea(0xc1)]&&(_0x443092+='<div\x20id=\x22q-image-container-'+_0x106b92+_0x2a4aea(0x1bb)+_0x20974f[_0x2a4aea(0xc1)]+_0x2a4aea(0x277));_0x443092+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x106b92+'\x22>'+_0x20974f[_0x2a4aea(0x140)]+'</span></div>',_0x443092+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x106b92+'\x22>'+_0x20974f[_0x2a4aea(0x829)]+_0x2a4aea(0x563);break;case _0x2a4aea(0x2d2):_0x443092+=_0x2a4aea(0x3ef)+_0x106b92+'\x22>'+(_0x106b92+0x1)+'.\x20'+_0x20974f['questionText']+_0x2a4aea(0x50f);_0x20974f[_0x2a4aea(0xc1)]&&(_0x443092+='<div\x20id=\x22q-image-container-'+_0x106b92+_0x2a4aea(0x1bb)+_0x20974f['imageCode']+_0x2a4aea(0x277));_0x443092+=_0x2a4aea(0x865)+(_0x20974f['correctAnswer']===!![]?_0x2a4aea(0x756):'')+_0x2a4aea(0x786)+(_0x20974f['correctAnswer']===![]?_0x2a4aea(0x756):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x443092+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x106b92+'\x22>'+_0x20974f[_0x2a4aea(0x829)]+_0x2a4aea(0x563);break;case _0x2a4aea(0x383):case'multiple_choice':default:_0x443092+=_0x2a4aea(0x3ef)+_0x106b92+'\x22>'+(_0x106b92+0x1)+'.\x20'+_0x20974f['questionText']+_0x2a4aea(0x50f);_0x20974f[_0x2a4aea(0xc1)]&&(_0x443092+=_0x2a4aea(0x3a0)+_0x106b92+_0x2a4aea(0x1bb)+_0x20974f['imageCode']+_0x2a4aea(0x277));_0x443092+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x106b92+_0x2a4aea(0x69a)+_0x20974f['options'][_0x2a4aea(0x347)]((_0x5bcce1,_0x2accf5)=>_0x2a4aea(0x72a)+(_0x2accf5===_0x20974f[_0x2a4aea(0x136)]?_0x2a4aea(0x756):'')+'\x22>'+_0x5bcce1+_0x2a4aea(0x4bd))[_0x2a4aea(0x19b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x443092+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x106b92+'\x22>'+_0x20974f['explanation']+_0x2a4aea(0x563);break;}_0x443092+='</div>';}),_0x443092+=_0x31123d(0x479),_0x3dbc96[_0x31123d(0x76f)]=_0x443092,document['querySelectorAll'](_0x31123d(0x33a))[_0x31123d(0xb5)](_0xc8c1e7=>_0xc8c1e7[_0x31123d(0x838)](_0x31123d(0x5a1),handleEditQuestion)),document[_0x31123d(0x68b)](_0x31123d(0xc6))['forEach'](_0x5b5ef7=>_0x5b5ef7[_0x31123d(0x838)](_0x31123d(0x5a1),handleRegenerateQuestion)),document[_0x31123d(0x68b)](_0x31123d(0x59c))[_0x31123d(0xb5)](_0x2c705e=>_0x2c705e[_0x31123d(0x838)](_0x31123d(0x5a1),handleSaveToBank)),document[_0x31123d(0x85b)](_0x31123d(0x113))[_0x31123d(0x838)](_0x31123d(0x5a1),exportQuizAsWorksheetPDF),document[_0x31123d(0x85b)](_0x31123d(0x50d))[_0x31123d(0x838)](_0x31123d(0x5a1),saveQuiz),document[_0x31123d(0x85b)]('verify-answers-btn')[_0x31123d(0x838)](_0x31123d(0x5a1),handleVerifyAnswers);if(window[_0x31123d(0x864)])window[_0x31123d(0x864)][_0x31123d(0x540)]([_0x3dbc96]);}function handleRegenerateQuestion(_0x216951){const _0x29ce99=_0x4bb8e3,_0x373d3a=_0x216951[_0x29ce99(0x512)][_0x29ce99(0x717)][_0x29ce99(0x3ae)],_0x519845=currentQuizData['topic'];showMessage(_0x29ce99(0x88c)+(parseInt(_0x373d3a)+0x1)+'\x20ใหม่...'),generateQuiz(_0x519845,null,parseInt(_0x373d3a));}function getPointerPosition(_0x5aec9f,_0x5dacf4){const _0x390497=_0x4bb8e3,_0x172c70=_0x5aec9f[_0x390497(0x335)]();let _0x528078,_0x1dc64b;return _0x5dacf4['touches']&&_0x5dacf4[_0x390497(0xbc)]['length']>0x0?(_0x528078=_0x5dacf4['touches'][0x0]['clientX'],_0x1dc64b=_0x5dacf4['touches'][0x0][_0x390497(0x149)]):(_0x528078=_0x5dacf4[_0x390497(0x614)],_0x1dc64b=_0x5dacf4['clientY']),{'x':(_0x528078-_0x172c70['e'])/_0x172c70['a'],'y':(_0x1dc64b-_0x172c70['f'])/_0x172c70['d']};}function startDrag(_0x1b94e5){const _0x6ac23a=_0x4bb8e3;_0x1b94e5[_0x6ac23a(0xf6)]==='touchstart'&&_0x1b94e5['preventDefault']();const _0x2c6636=_0x1b94e5[_0x6ac23a(0x101)][_0x6ac23a(0x8b6)]('.draggable-text');if(_0x2c6636){draggedSvgElement=_0x2c6636;const _0x5f582b=draggedSvgElement['ownerSVGElement'],_0x5223dc=getPointerPosition(_0x5f582b,_0x1b94e5);svgOffset['x']=_0x5223dc['x']-parseFloat(draggedSvgElement[_0x6ac23a(0x7e7)](null,'x')),svgOffset['y']=_0x5223dc['y']-parseFloat(draggedSvgElement[_0x6ac23a(0x7e7)](null,'y'));}}function calculateItemAnalysis(_0x1d2dd3,_0x40b444){const _0x1243b2=_0x4bb8e3,_0x178852={};if(_0x40b444[_0x1243b2(0x689)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x405383=[..._0x40b444][_0x1243b2(0x676)]((_0x3e33bd,_0x10be8d)=>{const _0x199686=_0x1243b2,_0x1af40b=_0x10be8d[_0x199686(0x237)]-_0x3e33bd[_0x199686(0x237)];if(_0x1af40b!==0x0)return _0x1af40b;const _0x6291a3=_0x3e33bd[_0x199686(0x491)]?.[_0x199686(0x689)]||0x1,_0x15248f=_0x10be8d[_0x199686(0x491)]?.[_0x199686(0x689)]||0x1,_0xa36b1c=_0x6291a3-_0x15248f;if(_0xa36b1c!==0x0)return _0xa36b1c;const _0x2392a7=new Date(_0x3e33bd[_0x199686(0xf0)]),_0xf2e436=new Date(_0x10be8d[_0x199686(0xf0)]),_0x212873=_0x2392a7-_0xf2e436;if(_0x212873!==0x0)return _0x212873;return _0x3e33bd['studentName'][_0x199686(0x5a3)](_0x10be8d[_0x199686(0x333)],'th');}),_0x453c1f=_0x405383['length'],_0x43b960=Math[_0x1243b2(0x790)](0x1,Math[_0x1243b2(0x883)](_0x453c1f*0.33));if(_0x43b960===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4aadf9=_0x405383[_0x1243b2(0x50c)](0x0,_0x43b960),_0x5634ed=_0x405383[_0x1243b2(0x50c)](-_0x43b960),_0x672801=_0x4aadf9[_0x1243b2(0x347)](_0x5694ab=>_0x5694ab[_0x1243b2(0x333)]),_0x32d1b7=_0x5634ed[_0x1243b2(0x347)](_0x2e6f4b=>_0x2e6f4b[_0x1243b2(0x333)]);return _0x1d2dd3[_0x1243b2(0x79e)][_0x1243b2(0xb5)]((_0x1ac5a0,_0xed9af)=>{const _0x35c826=_0x1243b2,_0x3f84b5=_0x1ac5a0['stem']||_0x1ac5a0[_0x35c826(0x862)];let _0x49ab7b=0x0,_0x24ff44=0x0,_0x5a207e=0x0;const _0x59c073=[],_0x581b37=[];_0x4aadf9[_0x35c826(0xb5)](_0x34db21=>{const _0x27e645=_0x35c826,_0xf30236=_0x34db21[_0x27e645(0x491)][_0x34db21[_0x27e645(0x491)][_0x27e645(0x689)]-0x1],_0x3ae2fc=_0xf30236['answers'][_0x27e645(0x687)](_0x335415=>_0x335415[_0x27e645(0x710)]===_0x3f84b5);_0x59c073[_0x27e645(0x137)]({'name':_0x34db21[_0x27e645(0x333)],'isCorrect':_0x3ae2fc?_0x3ae2fc[_0x27e645(0xdf)]:![]}),_0x3ae2fc&&_0x3ae2fc[_0x27e645(0xdf)]&&_0x24ff44++;}),_0x5634ed[_0x35c826(0xb5)](_0x547b40=>{const _0x5a424b=_0x35c826,_0x109695=_0x547b40[_0x5a424b(0x491)][_0x547b40['attempts'][_0x5a424b(0x689)]-0x1],_0x119088=_0x109695[_0x5a424b(0x43c)]['find'](_0x1e9e3a=>_0x1e9e3a[_0x5a424b(0x710)]===_0x3f84b5);_0x581b37[_0x5a424b(0x137)]({'name':_0x547b40[_0x5a424b(0x333)],'isCorrect':_0x119088?_0x119088[_0x5a424b(0xdf)]:![]}),_0x119088&&_0x119088[_0x5a424b(0xdf)]&&_0x5a207e++;}),_0x40b444[_0x35c826(0xb5)](_0x3f91d3=>{const _0x524d58=_0x35c826,_0xb9769f=_0x3f91d3[_0x524d58(0x491)][_0x3f91d3['attempts']['length']-0x1],_0x570034=_0xb9769f[_0x524d58(0x43c)]['find'](_0x43136e=>_0x43136e[_0x524d58(0x710)]===_0x3f84b5);_0x570034&&_0x570034['isCorrect']&&_0x49ab7b++;});const _0x234413=_0x453c1f>0x0?_0x49ab7b/_0x453c1f:0x0,_0x8f40a2=_0x43b960>0x0?_0x24ff44/_0x43b960-_0x5a207e/_0x43b960:0x0;_0x178852[_0xed9af]={'p':_0x234413,'r':_0x8f40a2,'upperGroupResponders':_0x59c073,'lowerGroupResponders':_0x581b37};}),{'perQuestionStats':_0x178852,'overallGroups':{'upperGroupNames':_0x672801,'lowerGroupNames':_0x32d1b7}};}function drag(_0x26bea9){const _0x1ec1f3=_0x4bb8e3;if(draggedSvgElement){_0x26bea9[_0x1ec1f3(0x514)]();const _0x1317c6=draggedSvgElement[_0x1ec1f3(0xef)],_0x3612e1=getPointerPosition(_0x1317c6,_0x26bea9),_0x5d3c72=_0x1317c6[_0x1ec1f3(0x3ea)]['baseVal'];let _0x4324e2=_0x3612e1['x']-svgOffset['x'],_0x233228=_0x3612e1['y']-svgOffset['y'];const _0x54f76b=draggedSvgElement[_0x1ec1f3(0x292)]();_0x4324e2=Math[_0x1ec1f3(0x790)](_0x5d3c72['x'],Math[_0x1ec1f3(0x1e6)](_0x4324e2,_0x5d3c72['x']+_0x5d3c72[_0x1ec1f3(0x61e)]-_0x54f76b[_0x1ec1f3(0x61e)])),_0x233228=Math[_0x1ec1f3(0x790)](_0x5d3c72['y'],Math[_0x1ec1f3(0x1e6)](_0x233228,_0x5d3c72['y']+_0x5d3c72[_0x1ec1f3(0x1c8)]-_0x54f76b[_0x1ec1f3(0x1c8)])),draggedSvgElement['setAttributeNS'](null,'x',_0x4324e2),draggedSvgElement['setAttributeNS'](null,'y',_0x233228);}}function endDrag(_0x53bff7){draggedSvgElement=null;}function handleSvgEditClick(_0x4c7678){const _0x4baed5=_0x4bb8e3;if(_0x4c7678[_0x4baed5(0x101)][_0x4baed5(0x718)][_0x4baed5(0x328)](_0x4baed5(0x34d))){const _0x1cf3c2=_0x4c7678['target']['dataset'][_0x4baed5(0x69b)],_0xf494d2=_0x4c7678[_0x4baed5(0x512)],_0x19325c=_0xf494d2[_0x4baed5(0x7c6)]('#'+_0x1cf3c2);_0x19325c&&_0x19325c[_0x4baed5(0x8b0)](),_0x4c7678['target']['remove']();}}function handleEditQuestion(_0x3ff636){const _0x99a8b6=_0x4bb8e3,_0x2f1510=_0x3ff636[_0x99a8b6(0x512)],_0x6450ec=_0x2f1510[_0x99a8b6(0x717)][_0x99a8b6(0x3ae)],_0x46ab72=currentQuizData[_0x99a8b6(0x79e)][_0x6450ec],_0x58c318=document[_0x99a8b6(0x85b)](_0x99a8b6(0x564)+_0x6450ec),_0x28e116=document[_0x99a8b6(0x85b)](_0x99a8b6(0x677)+_0x6450ec),_0x30002d=document[_0x99a8b6(0x85b)](_0x99a8b6(0x5a9)+_0x6450ec);if(_0x2f1510[_0x99a8b6(0x76f)][_0x99a8b6(0x190)]('fa-pen')){_0x2f1510['innerHTML']=_0x99a8b6(0x65d),_0x2f1510[_0x99a8b6(0x9d)]='บันทึกการแก้ไข';if(_0x58c318)_0x58c318[_0x99a8b6(0x20c)]=!![];if(_0x28e116)_0x28e116[_0x99a8b6(0x20c)]=!![];if(_0x30002d){const _0x44f3e9=_0x30002d[_0x99a8b6(0x7c6)](_0x99a8b6(0x3c1));if(_0x44f3e9){const _0x95d24a=_0x44f3e9[_0x99a8b6(0x68b)](_0x99a8b6(0x524));_0x95d24a[_0x99a8b6(0xb5)]((_0x55f78f,_0xc52be4)=>{const _0x1449c9=_0x99a8b6,_0x15d52c=_0x1449c9(0x20f)+_0x6450ec+'-'+_0xc52be4;_0x55f78f['id']=_0x15d52c,_0x55f78f['classList'][_0x1449c9(0x15f)](_0x1449c9(0x73b)),_0x55f78f[_0x1449c9(0x85c)][_0x1449c9(0x4ab)]='move';const _0x4a4996=document[_0x1449c9(0x5f3)](_0x1449c9(0x868),_0x1449c9(0x516)),_0x1f2c55=_0x55f78f[_0x1449c9(0x292)]();_0x4a4996[_0x1449c9(0x167)]('cx',String(_0x1f2c55['x']+_0x1f2c55[_0x1449c9(0x61e)]+0x5)),_0x4a4996[_0x1449c9(0x167)]('cy',String(_0x1f2c55['y']+_0x1f2c55['height']/0x2-0x5)),_0x4a4996[_0x1449c9(0x167)]('r','5'),_0x4a4996[_0x1449c9(0x167)](_0x1449c9(0x79c),'red'),_0x4a4996[_0x1449c9(0x167)](_0x1449c9(0x42d),'delete-svg-btn'),_0x4a4996['dataset'][_0x1449c9(0x69b)]=_0x15d52c,_0x55f78f[_0x1449c9(0x55f)](_0x4a4996);}),_0x44f3e9[_0x99a8b6(0x838)](_0x99a8b6(0x2ff),startDrag),_0x44f3e9['addEventListener'](_0x99a8b6(0x77a),drag),_0x44f3e9[_0x99a8b6(0x838)](_0x99a8b6(0x61d),endDrag),_0x44f3e9[_0x99a8b6(0x838)]('mouseleave',endDrag),_0x44f3e9[_0x99a8b6(0x838)](_0x99a8b6(0x436),startDrag,{'passive':![]}),_0x44f3e9[_0x99a8b6(0x838)]('touchmove',drag,{'passive':![]}),_0x44f3e9[_0x99a8b6(0x838)](_0x99a8b6(0x129),endDrag),_0x44f3e9[_0x99a8b6(0x838)]('touchcancel',endDrag),_0x44f3e9[_0x99a8b6(0x838)](_0x99a8b6(0x5a1),handleSvgEditClick);}}if(_0x58c318)_0x58c318['focus']();}else{_0x2f1510['innerHTML']=_0x99a8b6(0x27a),_0x2f1510[_0x99a8b6(0x9d)]='แก้ไขข้อนี้';if(_0x58c318){_0x58c318[_0x99a8b6(0x20c)]=![];const _0x3f416e=_0x46ab72['questionType']||currentQuizData['quizType'];_0x3f416e==='matching_item'?_0x46ab72['stem']=_0x58c318[_0x99a8b6(0x1a0)]['substring'](_0x58c318['innerText'][_0x99a8b6(0x702)]('.')+0x2)['trim']():_0x46ab72[_0x99a8b6(0x862)]=_0x58c318[_0x99a8b6(0x1a0)][_0x99a8b6(0x642)](_0x58c318[_0x99a8b6(0x1a0)]['indexOf']('.')+0x2)[_0x99a8b6(0xbf)]();}_0x28e116&&(_0x28e116['contentEditable']=![],_0x46ab72[_0x99a8b6(0x829)]=_0x28e116[_0x99a8b6(0x1a0)]);if(_0x30002d){const _0x292604=_0x30002d[_0x99a8b6(0x7c6)](_0x99a8b6(0x3c1));if(_0x292604){const _0x54e8c3=_0x292604[_0x99a8b6(0x825)](!![]);_0x54e8c3[_0x99a8b6(0x68b)](_0x99a8b6(0x5f4))[_0x99a8b6(0xb5)](_0x538eea=>_0x538eea[_0x99a8b6(0x8b0)]()),_0x54e8c3[_0x99a8b6(0x68b)]('.draggable-text')[_0x99a8b6(0xb5)](_0x116a36=>{const _0x2db836=_0x99a8b6;_0x116a36[_0x2db836(0x718)]['remove']('draggable-text'),_0x116a36['style'][_0x2db836(0x4ab)]='default',_0x116a36[_0x2db836(0x87e)]('id');}),_0x46ab72[_0x99a8b6(0xc1)]=_0x54e8c3[_0x99a8b6(0x1f0)],_0x292604[_0x99a8b6(0x3de)]('mousedown',startDrag),_0x292604[_0x99a8b6(0x3de)](_0x99a8b6(0x77a),drag),_0x292604[_0x99a8b6(0x3de)]('mouseup',endDrag),_0x292604[_0x99a8b6(0x3de)]('mouseleave',endDrag),_0x292604[_0x99a8b6(0x3de)]('touchstart',startDrag),_0x292604['removeEventListener'](_0x99a8b6(0x161),drag),_0x292604[_0x99a8b6(0x3de)](_0x99a8b6(0x129),endDrag),_0x292604[_0x99a8b6(0x3de)](_0x99a8b6(0x40a),endDrag),_0x292604['removeEventListener']('click',handleSvgEditClick),_0x292604['querySelectorAll'](_0x99a8b6(0x5f4))['forEach'](_0x16e045=>_0x16e045[_0x99a8b6(0x8b0)]()),_0x292604[_0x99a8b6(0x68b)](_0x99a8b6(0x65c))[_0x99a8b6(0xb5)](_0xafc06b=>{const _0x46a98b=_0x99a8b6;_0xafc06b[_0x46a98b(0x718)][_0x46a98b(0x8b0)](_0x46a98b(0x73b)),_0xafc06b['style']['cursor']=_0x46a98b(0x85a);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x339d46){const _0x4d8a42=_0x4bb8e3,_0x4e3972=document[_0x4d8a42(0x85b)]('quiz-editor-modal'),_0x518bd9=document['getElementById'](_0x4d8a42(0x818));_0x518bd9[_0x4d8a42(0x76f)]=_0x4d8a42(0x3fb),_0x4e3972['classList'][_0x4d8a42(0x8b0)]('hidden');try{const _0x5b1b20=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x339d46),_0x59ea19=await getDoc(_0x5b1b20);if(!_0x59ea19[_0x4d8a42(0x1db)]())throw new Error(_0x4d8a42(0x31a));currentEditingQuizData={'id':_0x339d46,..._0x59ea19[_0x4d8a42(0xc3)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x1620a5){console[_0x4d8a42(0x60f)](_0x4d8a42(0x475),_0x1620a5),showMessage(_0x4d8a42(0x361)),_0x4e3972[_0x4d8a42(0x718)][_0x4d8a42(0x15f)](_0x4d8a42(0x248));}}function renderQuizEditor(_0x1aa71a){const _0x194189=_0x4bb8e3;document[_0x194189(0x85b)](_0x194189(0x753))[_0x194189(0x39a)]=_0x1aa71a[_0x194189(0x2cd)];const _0x3aea58=document['getElementById'](_0x194189(0x818));let _0x4bc8f5=_0x1aa71a['questions']['map']((_0x1fd5ed,_0x431638)=>{const _0x3c636d=_0x194189;let _0x4d82f1='';const _0x411aec=_0x1fd5ed[_0x3c636d(0x7a7)]||_0x1aa71a[_0x3c636d(0x33b)];switch(_0x411aec){case _0x3c636d(0x75e):const _0x4da7a0=(_0x1fd5ed[_0x3c636d(0x498)]||[])[_0x3c636d(0x347)]((_0x30099c,_0x5cadbf)=>_0x3c636d(0x46f)+_0x431638+_0x3c636d(0x407)+_0x5cadbf+'\x22\x20'+(_0x5cadbf===_0x1fd5ed[_0x3c636d(0x136)]?_0x3c636d(0x8ae):'')+_0x3c636d(0x879)+_0x30099c+_0x3c636d(0x21d))[_0x3c636d(0x19b)]('');_0x4d82f1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x4da7a0+_0x3c636d(0x444);break;case'short_answer':_0x4d82f1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x1fd5ed['idealAnswer']||'')+_0x3c636d(0x420);break;case _0x3c636d(0x2d2):_0x4d82f1=_0x3c636d(0x4ed)+_0x431638+'\x22\x20value=\x22true\x22\x20'+(_0x1fd5ed[_0x3c636d(0x7d8)]===!![]?_0x3c636d(0x8ae):'')+_0x3c636d(0x397)+_0x431638+_0x3c636d(0x1c1)+(_0x1fd5ed[_0x3c636d(0x7d8)]===![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0x4d82f1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x1fd5ed[_0x3c636d(0x453)]||'')+_0x3c636d(0x446);break;}const _0x3af916=_0x1fd5ed[_0x3c636d(0x862)]||_0x1fd5ed[_0x3c636d(0x866)]||'';return _0x3c636d(0x6cc)+_0x431638+_0x3c636d(0x194)+_0x411aec+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x431638+0x1)+'\x20('+_0x411aec+_0x3c636d(0x583)+_0x3af916+_0x3c636d(0x159)+_0x4d82f1+_0x3c636d(0x157);})[_0x194189(0x19b)]('');_0x3aea58['innerHTML']=_0x4bc8f5,_0x3aea58['querySelectorAll'](_0x194189(0x7b2))[_0x194189(0xb5)](_0x42743e=>{const _0x98a5fd=_0x194189;_0x42743e[_0x98a5fd(0x838)](_0x98a5fd(0x5a1),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x2d33e9){const _0x3db497=_0x4bb8e3,_0x3ef37d=_0x2d33e9[_0x3db497(0x512)],_0x4dc73b=_0x3ef37d[_0x3db497(0x8b6)](_0x3db497(0x505));if(!_0x4dc73b)return;const _0x1e1de3=parseInt(_0x4dc73b['dataset'][_0x3db497(0x597)],0xa);if(isNaN(_0x1e1de3)||!currentEditingQuizData[_0x3db497(0x79e)][_0x1e1de3]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x41b923=currentEditingQuizData['questions'][_0x1e1de3];_0x3ef37d[_0x3db497(0x76f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x3ef37d[_0x3db497(0x1ea)]=!![];const _0xf67f27='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON[_0x3db497(0x852)](_0x41b923)+_0x3db497(0x6dc);let _0x4c1fc3;const _0x307220=_0x41b923[_0x3db497(0x7a7)]||currentEditingQuizData[_0x3db497(0x33b)];switch(_0x307220){case _0x3db497(0x403):_0x4c1fc3={'type':_0x3db497(0x67a),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x3db497(0x7f1)},'explanation':{'type':_0x3db497(0x7f1)},'imageCode':{'type':_0x3db497(0x7f1)}},'required':[_0x3db497(0x862),_0x3db497(0x140),_0x3db497(0x829)]};break;case'multiple_choice':default:_0x4c1fc3={'type':_0x3db497(0x67a),'properties':{'questionText':{'type':_0x3db497(0x7f1)},'options':{'type':'ARRAY','items':{'type':_0x3db497(0x7f1)}},'correctAnswerIndex':{'type':_0x3db497(0x152)},'explanation':{'type':_0x3db497(0x7f1)},'imageCode':{'type':_0x3db497(0x7f1)}},'required':['questionText','options','correctAnswerIndex',_0x3db497(0x829)]};break;}try{let _0x6b5d72=await callAnalysisApi(_0xf67f27,_0x4c1fc3);_0x6b5d72['options']&&Array[_0x3db497(0x7eb)](_0x6b5d72[_0x3db497(0x498)])&&(_0x6b5d72[_0x3db497(0x498)]=_0x6b5d72[_0x3db497(0x498)]['map'](_0x2a0299=>typeof _0x2a0299===_0x3db497(0x587)?_0x2a0299[_0x3db497(0x6ed)](/S(\s*[\d_]+?\s*)S/g,_0x3db497(0x58b)):_0x2a0299)),_0x41b923[_0x3db497(0xc1)]&&_0x41b923[_0x3db497(0xc1)][_0x3db497(0x190)](_0x3db497(0x11a))&&(_0x6b5d72[_0x3db497(0xc1)]=''),currentEditingQuizData['questions'][_0x1e1de3]={..._0x41b923,..._0x6b5d72},renderQuizEditor(currentEditingQuizData),showMessage(_0x3db497(0x821));}catch(_0x5dbaf9){console[_0x3db497(0x60f)](_0x3db497(0x774),_0x5dbaf9),showMessage(_0x3db497(0x473)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x4c7ea3=_0x4bb8e3,_0x200d83=document[_0x4c7ea3(0x85b)](_0x4c7ea3(0x1c5));_0x200d83[_0x4c7ea3(0x1ea)]=!![],_0x200d83['innerHTML']=_0x4c7ea3(0x7d2);try{const _0x147a28=document[_0x4c7ea3(0x85b)]('editor-quiz-topic')['value'],_0x40e060=document[_0x4c7ea3(0x68b)](_0x4c7ea3(0x505));let _0x2540c4=[];const _0x448828=Array[_0x4c7ea3(0x1e2)](_0x40e060)['map']((_0x63984,_0x2883fb)=>{const _0x3ab138=_0x4c7ea3,_0x32abb1=_0x63984[_0x3ab138(0x717)][_0x3ab138(0x166)],_0x4ac2ec=_0x63984[_0x3ab138(0x7c6)]('textarea')[_0x3ab138(0x39a)];let _0x2df05f={'questionType':_0x32abb1};const _0xcb5ea=currentEditingQuizData[_0x3ab138(0x79e)][_0x2883fb];switch(_0x32abb1){case'multiple_choice':_0x2df05f['questionText']=_0x4ac2ec;const _0x2db605=_0x63984['querySelectorAll']('input[type=\x22text\x22]');_0x2df05f['options']=Array[_0x3ab138(0x1e2)](_0x2db605)[_0x3ab138(0x347)](_0x55fe95=>_0x55fe95['value']);const _0x3dcbba=_0x63984[_0x3ab138(0x7c6)](_0x3ab138(0x73a));_0x2df05f[_0x3ab138(0x136)]=_0x3dcbba?parseInt(_0x3dcbba[_0x3ab138(0x39a)]):0x0;break;case _0x3ab138(0x403):_0x2df05f[_0x3ab138(0x862)]=_0x4ac2ec,_0x2df05f[_0x3ab138(0x140)]=_0x63984['querySelector'](_0x3ab138(0x630))[_0x3ab138(0x39a)];break;case _0x3ab138(0x2d2):_0x2df05f['questionText']=_0x4ac2ec;const _0x554cd5=_0x63984['querySelector'](_0x3ab138(0x73a));_0x2df05f[_0x3ab138(0x7d8)]=_0x554cd5?_0x554cd5[_0x3ab138(0x39a)]===_0x3ab138(0x7d3):!![];break;case'matching_item':_0x2df05f[_0x3ab138(0x866)]=_0x4ac2ec;const _0x4d880b=_0x63984[_0x3ab138(0x7c6)](_0x3ab138(0x7cd));_0x2df05f[_0x3ab138(0x453)]=_0x4d880b?_0x4d880b[_0x3ab138(0x39a)]:'',_0x2540c4[_0x3ab138(0x137)](_0x2df05f[_0x3ab138(0x453)]);break;default:_0x2df05f[_0x3ab138(0x862)]=_0x4ac2ec;break;}return{..._0xcb5ea,..._0x2df05f};});_0x2540c4[_0x4c7ea3(0x689)]>0x0&&_0x448828[_0x4c7ea3(0xb5)](_0x408d58=>{const _0x2bec50=_0x4c7ea3;_0x408d58[_0x2bec50(0x7a7)]==='matching_item'&&(_0x408d58[_0x2bec50(0xe8)]=_0x2540c4);});const _0x46f73b=currentEditingQuizData['id'],_0x1b8693=doc(db,_0x4c7ea3(0x898)+appId+'/public/data/quizzes',_0x46f73b);await updateDoc(_0x1b8693,{'topic':_0x147a28,'questions':_0x448828}),document[_0x4c7ea3(0x85b)](_0x4c7ea3(0x510))['classList'][_0x4c7ea3(0x15f)](_0x4c7ea3(0x248)),showMessage(_0x4c7ea3(0x532),()=>initiateReGradeProcess(_0x46f73b));}catch(_0x5dd2fa){console[_0x4c7ea3(0x60f)](_0x4c7ea3(0x96),_0x5dd2fa),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x200d83[_0x4c7ea3(0x1ea)]=![],_0x200d83[_0x4c7ea3(0x76f)]=_0x4c7ea3(0x4cd);}}async function initiateReGradeProcess(_0xaaf5f2){const _0x10ef40=_0x4bb8e3;showMessage(_0x10ef40(0x2b6));try{const _0x506e9d=doc(db,_0x10ef40(0x898)+appId+_0x10ef40(0x1a4),_0xaaf5f2),_0x1bdc3d=await getDoc(_0x506e9d);if(!_0x1bdc3d[_0x10ef40(0x1db)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x508977={'id':_0xaaf5f2,..._0x1bdc3d[_0x10ef40(0xc3)]()},_0x58bd41=collection(db,'artifacts/'+appId+_0x10ef40(0x1a4),_0xaaf5f2,'submissions'),_0x33dbac=await getDocs(_0x58bd41);if(_0x33dbac[_0x10ef40(0x39d)]){showMessage(_0x10ef40(0x827));return;}const _0x260bf9=_0x33dbac[_0x10ef40(0x46b)][_0x10ef40(0x347)](_0x37e9c5=>reGradeSingleSubmission(_0x37e9c5,_0x508977));await Promise['all'](_0x260bf9);if(_0x508977[_0x10ef40(0x598)]){const _0x227769=doc(db,_0x10ef40(0x898)+appId+'/public/data/projects',_0x508977[_0x10ef40(0x598)]),_0x169193=await getDoc(_0x227769);if(_0x169193[_0x10ef40(0x1db)]()&&_0x169193[_0x10ef40(0xc3)]()[_0x10ef40(0x4a4)]){const _0x572a3d=_0x169193['data']()['students']['map'](_0x37abee=>updateStudentProfile(_0x508977[_0x10ef40(0x598)],_0x37abee));await Promise[_0x10ef40(0x89d)](_0x572a3d);}}showMessage(_0x10ef40(0x4cb)+_0x33dbac[_0x10ef40(0x6b0)]+_0x10ef40(0x3a3));}catch(_0x486e32){console[_0x10ef40(0x60f)](_0x10ef40(0x29b),_0x486e32),showMessage(_0x10ef40(0x463)+_0x486e32[_0x10ef40(0x158)]);}}async function reGradeSingleSubmission(_0xbf0447,_0x177d41){const _0x375b1b=_0x4bb8e3,_0x59d2=_0xbf0447[_0x375b1b(0xc3)](),_0x8eea33=_0x59d2['studentName'],_0xd34e9f=_0x59d2[_0x375b1b(0x491)]||[],_0x407648=[];for(const _0x5d1892 of _0xd34e9f){let _0x8d542a=0x0,_0x22302b=[],_0x33208d=0x0;const _0x1157ba=[];for(const _0x1d3793 of _0x5d1892['answers']){let _0x53f80b;_0x1d3793[_0x375b1b(0x58f)]&&(_0x53f80b=_0x177d41[_0x375b1b(0x79e)][_0x375b1b(0x687)](_0x3f2c70=>_0x3f2c70['id']===_0x1d3793[_0x375b1b(0x58f)]));!_0x53f80b&&_0x1d3793[_0x375b1b(0x710)]&&(_0x53f80b=_0x177d41[_0x375b1b(0x79e)][_0x375b1b(0x687)](_0xdbc9f8=>(_0xdbc9f8[_0x375b1b(0x866)]||_0xdbc9f8[_0x375b1b(0x862)])===_0x1d3793[_0x375b1b(0x710)]));let _0x1cc497=![];if(_0x53f80b){const _0x4d9a3d=_0x53f80b[_0x375b1b(0x7a7)]||_0x177d41[_0x375b1b(0x33b)];switch(_0x4d9a3d){case _0x375b1b(0x75e):if(_0x53f80b[_0x375b1b(0x498)]&&_0x53f80b[_0x375b1b(0x136)]<_0x53f80b[_0x375b1b(0x498)][_0x375b1b(0x689)]){const _0x1d1390=_0x53f80b['options'][_0x53f80b[_0x375b1b(0x136)]];_0x1cc497=_0x1d3793['answerText']===_0x1d1390;}break;case'true_false':const _0x11f8d7=_0x1d3793[_0x375b1b(0x399)]===!![]||_0x1d3793[_0x375b1b(0x399)]===_0x375b1b(0x7d3);_0x1cc497=_0x11f8d7===_0x53f80b[_0x375b1b(0x7d8)];break;case _0x375b1b(0x69e):_0x1cc497=_0x1d3793[_0x375b1b(0x399)]===_0x53f80b[_0x375b1b(0x453)];break;case _0x375b1b(0x403):_0x1cc497=await gradeShortAnswer(_0x1d3793[_0x375b1b(0x399)],_0x53f80b);break;default:_0x1cc497=_0x1d3793[_0x375b1b(0xdf)];break;}}if(_0x1cc497){_0x8d542a++,_0x33208d++;if(_0x33208d===0x3)_0x22302b[_0x375b1b(0x137)](BADGES[_0x375b1b(0x85d)]['id']);}else _0x33208d=0x0;_0x1157ba[_0x375b1b(0x137)]({..._0x1d3793,'isCorrect':_0x1cc497});}let _0x2d94e2=_0x8d542a*0xa;_0x8d542a===_0x177d41[_0x375b1b(0x79e)][_0x375b1b(0x689)]&&(_0x2d94e2+=0x32,_0x22302b['push'](BADGES[_0x375b1b(0x134)]['id'])),_0x407648['push']({..._0x5d1892,'score':_0x8d542a,'points':_0x2d94e2,'badges':Array['from'](new Set(_0x22302b)),'answers':_0x1157ba});}const _0x172d00=_0x407648[_0x375b1b(0x689)]>0x0?_0x407648[0x0][_0x375b1b(0x454)]:0x0,_0xb3d5=Math[_0x375b1b(0x790)](..._0x407648[_0x375b1b(0x347)](_0x3f0e75=>_0x3f0e75[_0x375b1b(0x454)])),_0x5f4bf4=_0x407648[_0x375b1b(0x689)]>0x0?_0x407648[_0x407648[_0x375b1b(0x689)]-0x1][_0x375b1b(0x454)]:0x0,_0x4549ce=_0x407648[_0x375b1b(0x689)]>0x0?_0x407648[_0x407648[_0x375b1b(0x689)]-0x1][_0x375b1b(0x3be)]:0x0,_0x30dad0=doc(db,_0x375b1b(0x898)+appId+_0x375b1b(0x9f)+_0x177d41['id']+_0x375b1b(0x84d),_0x8eea33);await updateDoc(_0x30dad0,{'attempts':_0x407648,'firstScore':_0x172d00,'bestScore':_0xb3d5,'latestScore':_0x5f4bf4,'points':_0x4549ce});}function cleanupQuizOptions(_0x508e8a){const _0x552d05=_0x4bb8e3,_0x56767d=(_0x4b94a1,_0x2b868c)=>_0x2b868c===0x0?_0x4b94a1:_0x56767d(_0x2b868c,_0x4b94a1%_0x2b868c),_0x415050=_0x259f7f=>{const _0x24a201=_0x2cb1;if(typeof _0x259f7f!=='string')return null;_0x259f7f=_0x259f7f['trim']();const _0x9c4736=_0x259f7f[_0x24a201(0x5f2)](/[ /]/)[_0x24a201(0x2fe)](_0x5a712d=>_0x5a712d!=='');if(_0x9c4736['length']===0x3)return parseInt(_0x9c4736[0x0])+parseInt(_0x9c4736[0x1])/parseInt(_0x9c4736[0x2]);else{if(_0x9c4736['length']===0x2)return parseInt(_0x9c4736[0x0])/parseInt(_0x9c4736[0x1]);else{if(_0x9c4736[_0x24a201(0x689)]===0x1&&!isNaN(_0x9c4736[0x0]))return parseFloat(_0x9c4736[0x0]);}}return null;},_0x36283e=_0x3c3502=>{const _0x1681f9=_0x2cb1;if(typeof _0x3c3502!==_0x1681f9(0x587))return _0x3c3502;const _0x33636a=_0x3c3502['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x33636a){const _0x2a441e=parseInt(_0x33636a[0x1]);let _0x4bc398=parseInt(_0x33636a[0x2]),_0x3bbe98=parseInt(_0x33636a[0x3]);const _0x593051=_0x56767d(_0x4bc398,_0x3bbe98);_0x4bc398/=_0x593051,_0x3bbe98/=_0x593051;if(_0x3bbe98===0x1)return(_0x2a441e+_0x4bc398)[_0x1681f9(0xa9)]();return _0x2a441e+'\x20'+_0x4bc398+'/'+_0x3bbe98;}return _0x3c3502;};return _0x508e8a&&_0x508e8a['questions']&&_0x508e8a[_0x552d05(0x79e)][_0x552d05(0xb5)](_0x159d6d=>{const _0x27f490=_0x552d05;if(_0x159d6d[_0x27f490(0x7a7)]===_0x27f490(0x75e)&&_0x159d6d[_0x27f490(0x498)]){const _0x5bd4a5=new Map(),_0x5875cf=_0x159d6d[_0x27f490(0x498)][_0x159d6d[_0x27f490(0x136)]];_0x159d6d[_0x27f490(0x498)][_0x27f490(0xb5)](_0x58a014=>{const _0x3bb2a9=_0x27f490,_0x261485=_0x36283e(_0x58a014),_0x2fc704=_0x415050(_0x261485);_0x2fc704!==null&&!_0x5bd4a5[_0x3bb2a9(0x257)](_0x2fc704)&&_0x5bd4a5['set'](_0x2fc704,_0x261485);}),_0x159d6d[_0x27f490(0x498)]=Array[_0x27f490(0x1e2)](_0x5bd4a5[_0x27f490(0x506)]());const _0x412936=_0x159d6d[_0x27f490(0x498)][_0x27f490(0x6b1)](_0x209917=>_0x209917===_0x36283e(_0x5875cf));_0x159d6d[_0x27f490(0x136)]=_0x412936!==-0x1?_0x412936:0x0;}}),_0x508e8a;}async function saveQuiz(){const _0x3c633a=_0x4bb8e3;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x3c633a(0x79e)]||!userId){showMessage(_0x3c633a(0xb0));return;}const _0x5c7e1c=document['getElementById'](_0x3c633a(0x50d));_0x5c7e1c[_0x3c633a(0x1ea)]=!![],_0x5c7e1c[_0x3c633a(0x76f)]=_0x3c633a(0x7d2);const _0x5da90a=document[_0x3c633a(0x85b)](_0x3c633a(0x70e))[_0x3c633a(0x8ae)];let _0xde0224=document[_0x3c633a(0x85b)](_0x3c633a(0x6f9))[_0x3c633a(0x1a0)]['trim']();_0x5da90a&&!_0xde0224['startsWith']('(ก่อนเรียน)')&&(_0xde0224=_0x3c633a(0x551)+_0xde0224);try{const _0x43295a={'resultsDisplay':document['getElementById'](_0x3c633a(0x363))[_0x3c633a(0x39a)],'shuffle':document['getElementById'](_0x3c633a(0x559))[_0x3c633a(0x39a)],'timerMode':document[_0x3c633a(0x85b)](_0x3c633a(0x482))[_0x3c633a(0x39a)],'timerDuration':parseInt(document[_0x3c633a(0x85b)](_0x3c633a(0x6fc))['value'])||0xa,'passingScore':parseInt(document['getElementById']('passing-score-input')[_0x3c633a(0x39a)])||0x0,'isAdaptive':document['getElementById']('adaptive-quiz-checkbox')[_0x3c633a(0x8ae)],'loopUntilPass':document[_0x3c633a(0x85b)]('loop-until-pass-checkbox')[_0x3c633a(0x8ae)]},_0x32c92b=(currentQuizData[_0x3c633a(0x79e)]||[])[_0x3c633a(0x347)]((_0x9523af,_0x4d865e)=>{const _0x2f18ca=_0x3c633a,_0x22925c=document[_0x2f18ca(0x85b)]('quiz-type-select')['value'],_0x3de03d={'id':'q_'+Date['now']()+'_'+_0x4d865e,'questionText':_0x9523af['questionText']||'','explanation':_0x9523af[_0x2f18ca(0x829)]||_0x2f18ca(0x3f7),'questionType':_0x9523af['questionType']||_0x22925c,'imageCode':_0x9523af[_0x2f18ca(0xc1)]||null};return(_0x3de03d[_0x2f18ca(0x7a7)]===_0x2f18ca(0x75e)||_0x3de03d['questionType']===_0x2f18ca(0x44d)||_0x3de03d[_0x2f18ca(0x7a7)]==='mixed'&&_0x9523af['options'])&&(_0x3de03d['options']=_0x9523af[_0x2f18ca(0x498)]||[],_0x3de03d[_0x2f18ca(0x136)]=_0x9523af[_0x2f18ca(0x136)]!==undefined?_0x9523af[_0x2f18ca(0x136)]:0x0),(_0x3de03d['questionType']==='short_answer'||_0x3de03d[_0x2f18ca(0x7a7)]===_0x2f18ca(0x7a0)||_0x3de03d[_0x2f18ca(0x7a7)]==='mixed'&&_0x9523af[_0x2f18ca(0x140)])&&(_0x3de03d[_0x2f18ca(0x140)]=_0x9523af['idealAnswer']||''),_0x3de03d['questionType']===_0x2f18ca(0x2d2)&&(_0x3de03d[_0x2f18ca(0x7d8)]=_0x9523af[_0x2f18ca(0x7d8)]===!![]),_0x3de03d[_0x2f18ca(0x7a7)]===_0x2f18ca(0x69e)&&(_0x3de03d[_0x2f18ca(0x866)]=_0x9523af['stem']||'',_0x3de03d[_0x2f18ca(0x453)]=_0x9523af[_0x2f18ca(0x453)]||'',_0x3de03d[_0x2f18ca(0xe8)]=_0x9523af[_0x2f18ca(0xe8)]||[]),_0x3de03d;}),_0x3b26d0={'topic':_0xde0224,'quizType':currentQuizData[_0x3c633a(0x33b)]||_0x3c633a(0x75e),'questions':_0x32c92b,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3c633a(0x7a3)](),'status':_0x3c633a(0x3a7),'settings':_0x43295a,'quizMode':_0x5da90a?_0x3c633a(0x44e):_0x3c633a(0x315),'pairedQuizId':null,'lessonPlan':null};let _0x250028;while(!![]){_0x250028=Math['floor'](0x3e8+Math[_0x3c633a(0x38c)]()*0x2328)[_0x3c633a(0xa9)]();const _0x4be4ee=await getDoc(doc(db,_0x3c633a(0x898)+appId+'/public/data/quizzes',_0x250028));if(!_0x4be4ee['exists']())break;}await setDoc(doc(db,_0x3c633a(0x898)+appId+_0x3c633a(0x1a4),_0x250028),_0x3b26d0),currentQuizData['settings']=_0x43295a,currentQuizData['id']=_0x250028;const _0x2fe1b6=document[_0x3c633a(0x85b)](_0x3c633a(0xa7));_0x2fe1b6[_0x3c633a(0x76f)]=_0x3c633a(0x62a)+_0x250028+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x3c633a(0x85b)](_0x3c633a(0x18c))[_0x3c633a(0x838)](_0x3c633a(0x5a1),()=>copyTextToClipboard(_0x250028,_0x3c633a(0x165))),document[_0x3c633a(0x85b)](_0x3c633a(0x12d))[_0x3c633a(0x838)](_0x3c633a(0x5a1),()=>handleStartLiveRace(_0x250028)),document[_0x3c633a(0x85b)](_0x3c633a(0x576))[_0x3c633a(0x838)]('click',()=>startPresentation(currentQuizData)),document[_0x3c633a(0x85b)](_0x3c633a(0x19c))[_0x3c633a(0x838)](_0x3c633a(0x5a1),startAdminTest),showMessage(_0x3c633a(0x4ef));}catch(_0x1277c1){console[_0x3c633a(0x60f)](_0x3c633a(0xf4),_0x1277c1),showMessage(_0x3c633a(0x4fc)),_0x5c7e1c[_0x3c633a(0x1ea)]=![],_0x5c7e1c[_0x3c633a(0x76f)]=_0x3c633a(0x86a);}}function promptForProjectAndSave(){const _0x354c18=_0x4bb8e3,_0x4c22bd=document[_0x354c18(0x85b)](_0x354c18(0x7c7)),_0x156c34=document[_0x354c18(0x85b)](_0x354c18(0x7ef)),_0x3018b1=_0x4c22bd['querySelector']('h3'),_0x33d3c3=document[_0x354c18(0x85b)](_0x354c18(0x3b0));_0x3018b1['textContent']='เลือกโปรเจคเพื่อบันทึก',_0x33d3c3[_0x354c18(0x7b1)]=_0x354c18(0x98);allProjects['length']===0x0?(_0x156c34[_0x354c18(0x76f)]=_0x354c18(0xec),_0x33d3c3[_0x354c18(0x1ea)]=!![]):(_0x156c34[_0x354c18(0x76f)]=allProjects[_0x354c18(0x347)](_0x9e29f7=>_0x354c18(0x4b8)+_0x9e29f7['id']+'\x22>'+_0x9e29f7[_0x354c18(0xe9)]+_0x354c18(0x1e3))[_0x354c18(0x19b)](''),_0x33d3c3[_0x354c18(0x1ea)]=![]);_0x4c22bd['classList'][_0x354c18(0x8b0)]('hidden');const _0xa8c98d=()=>{const _0x13c7ae=_0x354c18,_0x2477b4=_0x156c34['value'];_0x2477b4?(currentProjectId=_0x2477b4,_0x4c22bd[_0x13c7ae(0x718)][_0x13c7ae(0x15f)](_0x13c7ae(0x248)),saveQuiz(),_0x3018b1[_0x13c7ae(0x7b1)]=_0x13c7ae(0x87c),_0x33d3c3[_0x13c7ae(0x7b1)]=_0x13c7ae(0x3aa),_0x33d3c3[_0x13c7ae(0x3de)](_0x13c7ae(0x5a1),_0xa8c98d),_0x33d3c3['addEventListener']('click',confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x33d3c3['removeEventListener']('click',confirmMoveQuiz),_0x33d3c3['addEventListener'](_0x354c18(0x5a1),_0xa8c98d);}function copyTextToClipboard(_0x2c9eef,_0x339e04){const _0x5802d6=_0x4bb8e3,_0x3f68e5=document[_0x5802d6(0x2e6)]('textarea');_0x3f68e5[_0x5802d6(0x39a)]=_0x2c9eef,_0x3f68e5['style'][_0x5802d6(0x54f)]=_0x5802d6(0x2e4),_0x3f68e5[_0x5802d6(0x85c)]['opacity']='0',document[_0x5802d6(0x45c)][_0x5802d6(0xf8)](_0x3f68e5),_0x3f68e5[_0x5802d6(0x5b6)](),_0x3f68e5[_0x5802d6(0x53d)]();try{const _0x15610a=document[_0x5802d6(0x38b)](_0x5802d6(0x6fa));showMessage(_0x15610a?_0x339e04:_0x5802d6(0x153));}catch(_0x3a3fb8){showMessage(_0x5802d6(0x153)),console['error'](_0x5802d6(0x51f),_0x3a3fb8);}document[_0x5802d6(0x45c)][_0x5802d6(0x5e2)](_0x3f68e5);}function listenForProjectQuizzes(_0x271b4b){const _0x8d1107=_0x4bb8e3,_0x26b7c5=collection(db,_0x8d1107(0x898)+appId+'/public/data/quizzes'),_0x5b2a18=query(_0x26b7c5,where(_0x8d1107(0x598),'==',_0x271b4b));unsubscribeQuizzesListener=onSnapshot(_0x5b2a18,async _0x59519a=>{const _0x55264f=_0x8d1107;allQuizzes=_0x59519a[_0x55264f(0x46b)][_0x55264f(0x347)](_0x20f838=>({'id':_0x20f838['id'],..._0x20f838['data']()})),renderQuizzes();},_0x16f6de=>{const _0x4c3e26=_0x8d1107;console[_0x4c3e26(0x60f)]('Error\x20fetching\x20project\x20quizzes:',_0x16f6de),document[_0x4c3e26(0x85b)](_0x4c3e26(0x6a4))[_0x4c3e26(0x76f)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x333f1f=_0x4bb8e3,_0x11dad9=document[_0x333f1f(0x85b)]('project-quizzes-list'),_0xadc6ab=document[_0x333f1f(0x85b)](_0x333f1f(0x389))[_0x333f1f(0x39a)]['toLowerCase']();let _0x4fb5d5;currentProjectId==='starred'?_0x4fb5d5=starredQuizzes:_0x4fb5d5=allQuizzes;let _0x2d87f9=_0x4fb5d5['filter'](_0x4bb5d9=>_0x4bb5d9[_0x333f1f(0x2cd)][_0x333f1f(0x74e)]()[_0x333f1f(0x190)](_0xadc6ab));_0x2d87f9['sort']((_0x239e12,_0x230070)=>new Date(_0x230070['createdAt'])-new Date(_0x239e12[_0x333f1f(0x670)]));if(_0x2d87f9[_0x333f1f(0x689)]===0x0){_0x11dad9[_0x333f1f(0x76f)]=_0x333f1f(0x7b4);return;}const _0x3b93c4={},_0x3ec6a3=_0x2d87f9[_0x333f1f(0x347)](async _0x34224e=>{const _0x1eea46=_0x333f1f,_0x1c8360=collection(db,_0x1eea46(0x898)+appId+_0x1eea46(0x9f)+_0x34224e['id']+_0x1eea46(0x84d)),_0x165ac5=await getDocs(_0x1c8360);_0x3b93c4[_0x34224e['id']]=_0x165ac5['size'];});await Promise['all'](_0x3ec6a3);let _0x23a735='';_0x2d87f9[_0x333f1f(0xb5)](_0x655904=>{const _0x3d9650=_0x333f1f,_0x312f31=_0x3b93c4[_0x655904['id']]||0x0,_0x9d37ca=_0x655904['status']||_0x3d9650(0x3a7),_0x24e860=_0x655904[_0x3d9650(0x785)]?.['timerMode']||_0x3d9650(0x55e);let _0x303580='',_0x11fb8c='';const _0x312c62=new Date();let _0xf296d5=_0x9d37ca;if(_0x9d37ca===_0x3d9650(0x5ed)){const _0xd831d9=_0x655904[_0x3d9650(0xe1)]?new Date(_0x655904[_0x3d9650(0xe1)]):null,_0x559ec0=_0x655904['endTime']?new Date(_0x655904[_0x3d9650(0x24b)]):null;if(_0x559ec0&&_0x312c62>_0x559ec0)_0xf296d5=_0x3d9650(0x340);else _0xd831d9&&_0x312c62<_0xd831d9?_0xf296d5='scheduled_pending':_0xf296d5='active';}switch(_0xf296d5){case'inactive':_0x303580=_0x3d9650(0x867),_0x11fb8c=_0x3d9650(0x6a2);break;case _0x3d9650(0x4ec):_0x303580=_0x3d9650(0x85e),_0x11fb8c='text-blue-700\x20bg-blue-100';break;case'active':_0x303580=_0x24e860!==_0x3d9650(0x55e)?'เปิด\x20(จับเวลา)':'เปิดใช้งาน',_0x11fb8c='text-green-700\x20bg-green-100';break;default:_0x303580=_0x3d9650(0x2d1),_0x11fb8c=_0x3d9650(0x819);break;}let _0x1c9b2f='';const _0x46a0af={'day':_0x3d9650(0xba),'month':_0x3d9650(0xba),'year':'numeric','hour':_0x3d9650(0xba),'minute':_0x3d9650(0xba),'hour12':![]};if(_0x9d37ca===_0x3d9650(0x5ed)){if(_0x655904[_0x3d9650(0xe1)])_0x1c9b2f+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x655904[_0x3d9650(0xe1)])[_0x3d9650(0x233)](_0x3d9650(0x23d),_0x46a0af)+_0x3d9650(0x50f);if(_0x655904['endTime'])_0x1c9b2f+=_0x3d9650(0x7f0)+new Date(_0x655904[_0x3d9650(0x24b)])[_0x3d9650(0x233)](_0x3d9650(0x23d),_0x46a0af)+'</p>';}let _0x2714b5='';if(_0x655904[_0x3d9650(0x349)]){const _0x8c0cd5=allQuizzes[_0x3d9650(0x687)](_0x43bf03=>_0x43bf03['id']===_0x655904[_0x3d9650(0x349)]);if(_0x8c0cd5){let _0x3c1f15,_0x2295b0;new Date(_0x655904['createdAt'])<new Date(_0x8c0cd5[_0x3d9650(0x670)])?(_0x3c1f15=_0x655904['id'],_0x2295b0=_0x8c0cd5['id']):(_0x3c1f15=_0x8c0cd5['id'],_0x2295b0=_0x655904['id']),_0x2714b5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2295b0+_0x3d9650(0x79b)+_0x3c1f15+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x655904[_0x3d9650(0x3ce)]===_0x3d9650(0x44e)&&(_0x2714b5+=_0x3d9650(0x65a)+_0x655904['id']+_0x3d9650(0x185));if(_0x655904[_0x3d9650(0x3ce)]===_0x3d9650(0x44e)&&_0x312f31>0x0)_0x2714b5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x655904['id']+_0x3d9650(0x447);else!_0x655904[_0x3d9650(0x349)]&&_0x655904[_0x3d9650(0x3ce)]!==_0x3d9650(0x44e)&&_0x312f31>0x0&&(_0x2714b5+=_0x3d9650(0x65a)+_0x655904['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x23a6e4='';_0x655904[_0x3d9650(0x349)]?_0x23a6e4='<button\x20data-quiz-id=\x22'+_0x655904['id']+_0x3d9650(0x2c6):_0x23a6e4='<button\x20data-quiz-id=\x22'+_0x655904['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x23a735+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x655904['id']+_0x3d9650(0x2e0)+_0x655904[_0x3d9650(0x2cd)]+_0x3d9650(0x7a4)+_0x655904[_0x3d9650(0x79e)][_0x3d9650(0x689)]+_0x3d9650(0x86c)+new Date(_0x655904['createdAt'])[_0x3d9650(0x233)](_0x3d9650(0x23d))+_0x3d9650(0x2b3)+_0x312f31+_0x3d9650(0xb6)+_0x1c9b2f+_0x3d9650(0x2c4)+_0x11fb8c+'\x22>'+_0x303580+_0x3d9650(0x6e2)+_0x655904['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x655904['id']+_0x3d9650(0x3da)+(_0x655904['isStarred']?_0x3d9650(0x580):_0x3d9650(0x884))+_0x3d9650(0x317)+_0x2714b5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x655904['id']+_0x3d9650(0x2c8)+_0x655904['id']+_0x3d9650(0x6e6)+_0x655904['id']+_0x3d9650(0x123)+_0x655904['id']+_0x3d9650(0x3b7)+_0x655904['id']+_0x3d9650(0x593)+_0x655904['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x655904['id']+_0x3d9650(0x118)+_0x655904[_0x3d9650(0x2cd)]+_0x3d9650(0x70c)+_0x655904['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x655904['id']+_0x3d9650(0x86b)+_0x23a6e4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x655904['id']+_0x3d9650(0x581)+_0x655904['id']+_0x3d9650(0x7ac)+_0x655904['id']+_0x3d9650(0x52a)+_0x655904['id']+_0x3d9650(0x8f)+_0x655904['id']+'\x22\x20data-topic=\x22'+_0x655904[_0x3d9650(0x2cd)]+_0x3d9650(0x560)+_0x655904['id']+_0x3d9650(0x7d1);}),_0x11dad9[_0x333f1f(0x76f)]=_0x23a735,document['querySelectorAll']('.quiz-result-card')[_0x333f1f(0xb5)](_0xe9e4=>{const _0x23d500=_0x333f1f;_0xe9e4[_0x23d500(0x838)](_0x23d500(0x5a1),()=>{const _0x9ca951=_0x23d500,_0x4d354f=_0xe9e4['dataset'][_0x9ca951(0x83b)];showQuizDetailView(_0x4d354f);});});}async function handleUnpairQuiz(_0x3f8cb9){const _0x45941c=_0x4bb8e3,_0x5074f3=allQuizzes[_0x45941c(0x687)](_0x3ad87b=>_0x3ad87b['id']===_0x3f8cb9);if(!_0x5074f3||!_0x5074f3['pairedQuizId']){showMessage(_0x45941c(0x1f2));return;}showConfirmation(_0x45941c(0x35a),async()=>{const _0x3b40f3=_0x45941c;try{const _0x458d4a=doc(db,_0x3b40f3(0x898)+appId+_0x3b40f3(0x1a4),_0x3f8cb9),_0x161225=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5074f3['pairedQuizId']),_0x31ada9=writeBatch(db);_0x31ada9[_0x3b40f3(0x89e)](_0x458d4a,{'pairedQuizId':null}),_0x31ada9['update'](_0x161225,{'pairedQuizId':null}),await _0x31ada9[_0x3b40f3(0x3f8)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x10f6e3){console['error']('Error\x20unpairing\x20quizzes:',_0x10f6e3),showMessage(_0x3b40f3(0x520));}});}function formatAndPrintLessonPlan(_0x1f2422,_0x44b0ad){const _0x49c898=_0x4bb8e3,_0x3a2bc6=window[_0x49c898(0x2a1)]('',_0x49c898(0x17c)),_0x10fb50='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x44b0ad[_0x49c898(0x2cd)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x44b0ad['topic']+_0x49c898(0x575)+_0x1f2422[_0x49c898(0x7ed)]['map'](_0x30d218=>_0x49c898(0x476)+_0x30d218+'</li>')['join']('')+_0x49c898(0x225)+_0x1f2422[_0x49c898(0x7d6)]+_0x49c898(0x406)+_0x1f2422[_0x49c898(0x7e8)][_0x49c898(0x347)](_0x120f0a=>_0x49c898(0x10a)+_0x120f0a[_0x49c898(0x815)]+_0x49c898(0xb9)+_0x120f0a[_0x49c898(0x723)]+_0x49c898(0x51c))[_0x49c898(0x19b)]('')+_0x49c898(0x18e);_0x3a2bc6['document'][_0x49c898(0x25c)](_0x10fb50),_0x3a2bc6[_0x49c898(0xa8)]['close'](),_0x3a2bc6['onload']=function(){setTimeout(()=>{const _0xa76e1e=_0x2cb1;_0x3a2bc6[_0xa76e1e(0x688)]();},0x3e8);};}async function handleAiFixFormula(_0x46f9bf){const _0x361523=_0x4bb8e3,_0x49af5c=document[_0x361523(0x7c6)](_0x361523(0x365)+_0x46f9bf+'\x22]');if(!_0x49af5c)return;const _0x559dfe=_0x49af5c[_0x361523(0x717)][_0x361523(0x166)],_0x5ea781=_0x49af5c[_0x361523(0x7c6)](_0x361523(0x810));let _0x5eb4f2={'question':_0x49af5c[_0x361523(0x7c6)](_0x361523(0x2d6))[_0x361523(0x39a)]};switch(_0x559dfe){case _0x361523(0x75e):_0x5eb4f2[_0x361523(0x498)]=Array[_0x361523(0x1e2)](_0x49af5c[_0x361523(0x68b)]('input[type=\x22text\x22]'))[_0x361523(0x347)](_0x49acf2=>_0x49acf2[_0x361523(0x39a)]);break;case _0x361523(0x403):_0x5eb4f2[_0x361523(0x140)]=_0x49af5c['querySelector'](_0x361523(0x630))[_0x361523(0x39a)];break;case _0x361523(0x69e):_0x5eb4f2[_0x361523(0x453)]=_0x49af5c['querySelector'](_0x361523(0x7cd))[_0x361523(0x39a)];break;}_0x5ea781[_0x361523(0x76f)]=_0x361523(0x2c5),_0x5ea781[_0x361523(0x1ea)]=!![];try{const _0x1ce649=_0x361523(0x5d2)+JSON[_0x361523(0x852)](_0x5eb4f2)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1ee2ee={'type':'OBJECT','properties':{'fixedData':{'type':_0x361523(0x67a),'properties':{'question':{'type':_0x361523(0x7f1)},'options':{'type':_0x361523(0x12f),'items':{'type':_0x361523(0x7f1)}},'idealAnswer':{'type':_0x361523(0x7f1)},'correctResponse':{'type':_0x361523(0x7f1)}},'required':[_0x361523(0x815)]}},'required':[_0x361523(0x72f)]},_0x4237d3=await callAnalysisApi(_0x1ce649,_0x1ee2ee);if(_0x4237d3&&_0x4237d3[_0x361523(0x72f)]){const _0x55c595=_0x4237d3[_0x361523(0x72f)];_0x49af5c[_0x361523(0x7c6)](_0x361523(0x2d6))['value']=_0x55c595[_0x361523(0x815)]||_0x5eb4f2['question'];switch(_0x559dfe){case _0x361523(0x75e):_0x55c595['options']&&_0x55c595[_0x361523(0x498)]['length']>0x0&&_0x49af5c['querySelectorAll']('input[type=\x22text\x22]')[_0x361523(0xb5)]((_0x501368,_0x319ed4)=>{const _0x2b7ea4=_0x361523;_0x501368[_0x2b7ea4(0x39a)]=_0x55c595[_0x2b7ea4(0x498)][_0x319ed4]||_0x5eb4f2[_0x2b7ea4(0x498)][_0x319ed4];});break;case _0x361523(0x403):_0x49af5c['querySelector'](_0x361523(0x630))[_0x361523(0x39a)]=_0x55c595['idealAnswer']||_0x5eb4f2[_0x361523(0x140)];break;case _0x361523(0x69e):_0x49af5c['querySelector'](_0x361523(0x7cd))[_0x361523(0x39a)]=_0x55c595[_0x361523(0x453)]||_0x5eb4f2['correctResponse'];break;}if(_0x5eb4f2[_0x361523(0x815)]!==_0x55c595[_0x361523(0x815)])try{const _0x5a4a00=collection(db,'artifacts/'+appId+_0x361523(0x417));await addDoc(_0x5a4a00,{'broken':_0x5eb4f2[_0x361523(0x815)],'fixed':_0x55c595[_0x361523(0x815)],'createdAt':serverTimestamp()});}catch(_0x7e853f){console[_0x361523(0x60f)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x7e853f);}showMessage(_0x361523(0x12c));}else throw new Error(_0x361523(0x545));}catch(_0x1f1c0a){console[_0x361523(0x60f)]('AI\x20Formula\x20Fix\x20Error:',_0x1f1c0a),showMessage(_0x361523(0x100));}finally{_0x5ea781[_0x361523(0x76f)]=_0x361523(0x7ce),_0x5ea781['disabled']=![];}}async function handleGenerateLessonPlan(_0x282254){const _0x193ce1=_0x4bb8e3;showMessage(_0x193ce1(0xa3));try{const _0x398c99=doc(db,_0x193ce1(0x898)+appId+'/public/data/quizzes',_0x282254),_0x4edf2e=await getDoc(_0x398c99);if(!_0x4edf2e[_0x193ce1(0x1db)]())throw new Error(_0x193ce1(0x24c));const _0x15fc8e={'id':_0x282254,..._0x4edf2e['data']()},_0x241575=collection(db,_0x193ce1(0x898)+appId+_0x193ce1(0x1a4),_0x282254,_0x193ce1(0x7df)),_0x3e4a36=await getDocs(_0x241575),_0x4d680e=_0x3e4a36[_0x193ce1(0x46b)][_0x193ce1(0x347)](_0x836638=>_0x836638[_0x193ce1(0xc3)]());if(_0x4d680e[_0x193ce1(0x689)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x1be9d0=calculateItemAnalysis(_0x15fc8e,_0x4d680e)['perQuestionStats'],_0x106df9=calculateDistractorAnalysis(_0x15fc8e,_0x4d680e),_0x4a3779=_0x8bf624=>{const _0x5a81ea=_0x193ce1;if(!_0x8bf624)return'';return _0x8bf624[_0x5a81ea(0x6ed)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x5a81ea(0x6ed)](/\n/g,'\x5cn');};let _0x5bf0a2=_0x193ce1(0x2ed);_0x15fc8e[_0x193ce1(0x79e)][_0x193ce1(0xb5)]((_0x334d6f,_0x1fcc03)=>{const _0x485c87=_0x193ce1,_0x5bc9cb=_0x1be9d0[_0x1fcc03]?.['p'][_0x485c87(0x3e8)](0x2)||_0x485c87(0x7f5),_0x207eb2=_0x1be9d0[_0x1fcc03]?.['r'][_0x485c87(0x3e8)](0x2)||'N/A',_0x179c0f=_0x4a3779(_0x334d6f[_0x485c87(0x862)]||_0x334d6f[_0x485c87(0x866)]);_0x5bf0a2+=_0x485c87(0x42b)+(_0x1fcc03+0x1)+'\x20(p='+_0x5bc9cb+_0x485c87(0x2fa)+_0x207eb2+_0x485c87(0x89a)+_0x179c0f+'\x5cn';if(_0x334d6f[_0x485c87(0x7a7)]==='multiple_choice'&&_0x106df9[_0x1fcc03]){const _0x577f1b=_0x106df9[_0x1fcc03],_0x1ab291=Object['keys'](_0x577f1b)[_0x485c87(0x2fe)](_0x5d9a14=>parseInt(_0x5d9a14)!==_0x334d6f[_0x485c87(0x136)])[_0x485c87(0x676)]((_0x438a73,_0x5b4eb4)=>_0x577f1b[_0x5b4eb4][_0x485c87(0x421)]-_0x577f1b[_0x438a73][_0x485c87(0x421)])[0x0];if(_0x1ab291&&_0x577f1b[_0x1ab291]['total']>0x0){const _0x4e92e9=_0x4a3779(_0x577f1b[_0x1ab291][_0x485c87(0x524)]);_0x5bf0a2+=_0x485c87(0x20b)+_0x4e92e9+'\x22\x5cn';}}});const _0x389de8=_0x193ce1(0x876)+_0x15fc8e[_0x193ce1(0x2cd)]+_0x193ce1(0x49a)+_0x5bf0a2+_0x193ce1(0x385),_0x1418cf={'type':'OBJECT','properties':{'learningGaps':{'type':_0x193ce1(0x12f),'items':{'type':_0x193ce1(0x7f1)}},'teachingContent':{'type':_0x193ce1(0x7f1)},'practiceProblems':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x193ce1(0x7f1)},'solution':{'type':_0x193ce1(0x7f1)}}}}},'required':[_0x193ce1(0x7ed),_0x193ce1(0x7d6),_0x193ce1(0x7e8)]},_0x4b468a=await callAnalysisApi(_0x389de8,_0x1418cf);await updateDoc(_0x398c99,{'lessonPlan':_0x4b468a});const _0xd978a4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x15fc8e[_0x193ce1(0x2cd)]+_0x193ce1(0x7ea)+_0x4b468a[_0x193ce1(0x7ed)][_0x193ce1(0x347)](_0x29925f=>_0x193ce1(0x476)+_0x29925f+'</li>')[_0x193ce1(0x19b)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x4b468a[_0x193ce1(0x7d6)]+_0x193ce1(0x4d4)+_0x4b468a[_0x193ce1(0x7e8)]['map'](_0x3a6efb=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x3a6efb['question']+_0x193ce1(0x735)+_0x3a6efb[_0x193ce1(0x723)]+'</p></div>')[_0x193ce1(0x19b)]('')+_0x193ce1(0x2b5);document[_0x193ce1(0x85b)](_0x193ce1(0x260))[_0x193ce1(0x7b1)]='แผนการสอน:\x20'+_0x15fc8e[_0x193ce1(0x2cd)],document[_0x193ce1(0x85b)]('lesson-plan-content')[_0x193ce1(0x76f)]=_0xd978a4,document[_0x193ce1(0x85b)](_0x193ce1(0x27e))[_0x193ce1(0x718)]['remove'](_0x193ce1(0x248));if(window['MathJax'])MathJax['typesetPromise']();messageModal[_0x193ce1(0x718)][_0x193ce1(0x15f)](_0x193ce1(0x248));}catch(_0x7c87f3){console[_0x193ce1(0x60f)]('Error\x20generating\x20lesson\x20plan:',_0x7c87f3),showMessage(_0x193ce1(0x273)+_0x7c87f3[_0x193ce1(0x158)]);}}async function handleDuplicateQuiz(_0x3d1e9c){const _0x3cbcd7=_0x4bb8e3;try{const _0xa1c00c=doc(db,_0x3cbcd7(0x898)+appId+'/public/data/quizzes',_0x3d1e9c),_0x1bff95=await getDoc(_0xa1c00c);if(_0x1bff95[_0x3cbcd7(0x1db)]()){const _0xb3bd2f=_0x1bff95[_0x3cbcd7(0xc3)]();let _0x16f9b2='',_0x3bc263=_0x3cbcd7(0x315),_0x27c8f0=null;if(_0xb3bd2f[_0x3cbcd7(0x3ce)]===_0x3cbcd7(0x44e)){let _0x51b72b=_0xb3bd2f['topic'][_0x3cbcd7(0x6ed)](_0x3cbcd7(0x81e),'')[_0x3cbcd7(0xbf)]();_0x16f9b2=_0x3cbcd7(0x62d)+_0x51b72b,_0x3bc263=_0x3cbcd7(0x539),_0x27c8f0=_0x3d1e9c;}else _0x16f9b2=_0x3cbcd7(0x207)+_0xb3bd2f[_0x3cbcd7(0x2cd)];const _0x29fe1a={..._0xb3bd2f,'topic':_0x16f9b2,'createdAt':new Date()[_0x3cbcd7(0x7a3)](),'quizMode':_0x3bc263,'pairedQuizId':_0x27c8f0};let _0x3a9b48;while(!![]){_0x3a9b48=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x3cbcd7(0xa9)]();const _0x4d8a2e=await getDoc(doc(db,_0x3cbcd7(0x898)+appId+_0x3cbcd7(0x1a4),_0x3a9b48));if(!_0x4d8a2e['exists']())break;}const _0x4fd1ab=doc(db,_0x3cbcd7(0x898)+appId+_0x3cbcd7(0x1a4),_0x3a9b48);await setDoc(_0x4fd1ab,_0x29fe1a),_0x29fe1a[_0x3cbcd7(0x3ce)]===_0x3cbcd7(0x539)&&await updateDoc(_0xa1c00c,{'pairedQuizId':_0x3a9b48}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x3cbcd7(0x19d));}catch(_0x3b9a1d){console[_0x3cbcd7(0x60f)](_0x3cbcd7(0x41f),_0x3b9a1d),showMessage(_0x3cbcd7(0x3df));}}async function handleDeleteQuiz(_0x3c6a12,_0x482eec=!![]){const _0x46a554=_0x4bb8e3;try{const _0x32a718=writeBatch(db),_0x3a363b=collection(db,_0x46a554(0x898)+appId+_0x46a554(0x9f)+_0x3c6a12+_0x46a554(0x84d)),_0x214b31=await getDocs(_0x3a363b);_0x214b31[_0x46a554(0xb5)](_0x23ca66=>{_0x32a718['delete'](doc(_0x3a363b,_0x23ca66['id']));});const _0xa7b658=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3c6a12);_0x32a718[_0x46a554(0xde)](_0xa7b658),await _0x32a718['commit'](),_0x482eec&&showMessage(_0x46a554(0x186));}catch(_0x3208d3){console[_0x46a554(0x60f)](_0x46a554(0x773),_0x3208d3),_0x482eec&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x21795d){const _0x4603e0=_0x4bb8e3;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x4603e0(0x5bf));try{const _0x11d73f=doc(db,_0x4603e0(0x898)+appId+_0x4603e0(0x1a4),_0x21795d),_0x177977=await getDoc(_0x11d73f);if(!_0x177977[_0x4603e0(0x1db)]()){showMessage(_0x4603e0(0x24c));return;}const _0x2604db={'id':_0x177977['id'],..._0x177977[_0x4603e0(0xc3)]()};currentQuizData=_0x2604db;const _0x3a5fbd=doc(db,_0x4603e0(0x898)+appId+_0x4603e0(0x802),_0x2604db[_0x4603e0(0x598)]),_0x182894=await getDoc(_0x3a5fbd);_0x182894[_0x4603e0(0x1db)]()?(currentProjectData=_0x182894[_0x4603e0(0xc3)](),currentProjectId=_0x2604db[_0x4603e0(0x598)]):(currentProjectData={'students':[]},currentProjectId=_0x2604db['projectId']);document[_0x4603e0(0x85b)]('results-quiz-title')[_0x4603e0(0x7b1)]=_0x2604db[_0x4603e0(0x2cd)],document[_0x4603e0(0x85b)]('results-quiz-id-display')['textContent']=_0x21795d;const _0x491d9f=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x21795d,_0x4603e0(0x7df));unsubscribeSubmissionsListener=onSnapshot(_0x491d9f,_0x2953e8=>{const _0x2ee811=_0x4603e0,_0x13c3f8=_0x2953e8[_0x2ee811(0x46b)][_0x2ee811(0x347)](_0x20cab5=>({'id':_0x20cab5['id'],..._0x20cab5[_0x2ee811(0xc3)]()}));currentSubmissions=_0x13c3f8;const _0x241a88=_0x13c3f8[_0x2ee811(0x2fe)](_0x380166=>_0x380166['attempts']&&_0x380166[_0x2ee811(0x491)][_0x2ee811(0x689)]>0x0);renderBehaviorLog(_0x13c3f8),renderAnswerGrid(currentProjectData[_0x2ee811(0x4a4)],_0x241a88,_0x2604db),renderAnalytics(_0x2604db,_0x241a88),renderQuizResultsTable(currentProjectData[_0x2ee811(0x4a4)],_0x13c3f8,_0x2604db),renderQuizLeaderboard(_0x241a88,_0x2604db,_0x2ee811(0x413));}),showView(_0x4603e0(0x86e));}catch(_0x33a0aa){console['error'](_0x4603e0(0x39c),_0x33a0aa),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x36c5f1,_0xc9889e,_0x59f714){const _0x47f82b=_0x4bb8e3,_0x2b9688=document[_0x47f82b(0x85b)](_0x47f82b(0x523));if(!_0x2b9688)return;if(!_0x36c5f1||_0x36c5f1[_0x47f82b(0x689)]===0x0){_0x2b9688[_0x47f82b(0x76f)]=_0x47f82b(0x23a);return;}const _0x1944ad=_0x59f714[_0x47f82b(0x79e)],_0x2817b8=_0xc9889e[_0x47f82b(0x83e)]((_0x23782c,_0x293d57)=>{const _0x3b8f55=_0x47f82b;return _0x23782c[_0x293d57[_0x3b8f55(0x333)]]=_0x293d57,_0x23782c;},{}),_0x2e64f1=_0x572b6c=>String[_0x47f82b(0x75b)](0x41+_0x572b6c),_0x3adc15=_0x3723a1=>{const _0x4e5572=_0x47f82b,_0x191516=_0x3723a1[_0x4e5572(0x7a7)]||_0x59f714[_0x4e5572(0x33b)];switch(_0x191516){case _0x4e5572(0x75e):return _0x3723a1['options']&&_0x3723a1['options']['length']>_0x3723a1['correctAnswerIndex']?_0x2e64f1(_0x3723a1[_0x4e5572(0x136)]):'-';case _0x4e5572(0x2d2):return _0x3723a1[_0x4e5572(0x7d8)]?'ใช่':_0x4e5572(0x7a2);case _0x4e5572(0x69e):return _0x3723a1[_0x4e5572(0x453)]||'-';case _0x4e5572(0x403):return'พิมพ์ตอบ';default:return'-';}},_0x22277f=(_0x3a538e,_0xe49372)=>{const _0x1c39a2=_0x47f82b;if(_0xe49372[_0x1c39a2(0x399)]===null||_0xe49372[_0x1c39a2(0x399)]===undefined)return'-';const _0x30f70e=_0x3a538e[_0x1c39a2(0x7a7)]||_0x59f714['quizType'];switch(_0x30f70e){case _0x1c39a2(0x75e):const _0x1a923=_0x3a538e[_0x1c39a2(0x498)][_0x1c39a2(0x6b1)](_0x24119a=>_0x24119a===_0xe49372[_0x1c39a2(0x779)]);return _0x1a923!==-0x1?_0x2e64f1(_0x1a923):_0xe49372[_0x1c39a2(0x779)]||'-';case _0x1c39a2(0x2d2):return _0xe49372['answer']===_0x1c39a2(0x7d3)||_0xe49372[_0x1c39a2(0x399)]===!![]?_0x1c39a2(0x657):_0x1c39a2(0x7a2);default:return _0xe49372[_0x1c39a2(0x399)];}};let _0x2033ce=_0x47f82b(0x694)+_0x1944ad[_0x47f82b(0x347)]((_0x9a6856,_0x16c5c5)=>_0x47f82b(0x6c1)+(_0x16c5c5+0x1)+'</th>')[_0x47f82b(0x19b)]('')+_0x47f82b(0x3b1)+_0x1944ad[_0x47f82b(0x347)](_0xe259a4=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x3adc15(_0xe259a4)+_0x47f82b(0x4c2))[_0x47f82b(0x19b)]('')+_0x47f82b(0x13e);_0x36c5f1[_0x47f82b(0xb5)](_0x192d8b=>{const _0x1e2e59=_0x47f82b;_0x2033ce+='<tr>',_0x2033ce+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x192d8b+_0x1e2e59(0x4c2);const _0x3bd342=_0x2817b8[_0x192d8b];if(_0x3bd342){const _0x3cd401=_0x3bd342[_0x1e2e59(0x491)][_0x3bd342[_0x1e2e59(0x491)][_0x1e2e59(0x689)]-0x1];_0x1944ad[_0x1e2e59(0xb5)]((_0x593d75,_0x17a2c7)=>{const _0x175ba4=_0x1e2e59,_0x267edb=_0x3cd401[_0x175ba4(0x43c)][_0x175ba4(0x687)](_0x399eb7=>_0x399eb7[_0x175ba4(0x710)]===(_0x593d75[_0x175ba4(0x866)]||_0x593d75['questionText']));if(_0x267edb){let _0x446386=![];const _0x353300=_0x593d75[_0x175ba4(0x7a7)]||_0x59f714[_0x175ba4(0x33b)];if(_0x267edb['answer']!==null&&_0x267edb[_0x175ba4(0x399)]!==undefined)switch(_0x353300){case'multiple_choice':const _0x1a4c68=_0x593d75[_0x175ba4(0x498)][_0x593d75[_0x175ba4(0x136)]];_0x446386=_0x267edb[_0x175ba4(0x779)]===_0x1a4c68;break;case _0x175ba4(0x2d2):const _0x151092=_0x267edb[_0x175ba4(0x399)]===!![]||_0x267edb[_0x175ba4(0x399)]===_0x175ba4(0x7d3);_0x446386=_0x151092===_0x593d75[_0x175ba4(0x7d8)];break;case'matching_item':_0x446386=_0x267edb[_0x175ba4(0x399)]===_0x593d75['correctResponse'];break;default:_0x446386=_0x267edb[_0x175ba4(0xdf)];break;}const _0x1179ab=_0x446386?_0x175ba4(0x344):_0x175ba4(0x8e);_0x2033ce+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x1179ab+'\x22>'+_0x22277f(_0x593d75,_0x267edb)+_0x175ba4(0x4c2);}else _0x2033ce+=_0x175ba4(0x849);});}else _0x2033ce+=_0x1944ad[_0x1e2e59(0x347)](()=>_0x1e2e59(0x16f))[_0x1e2e59(0x19b)]('');_0x2033ce+='</tr>';}),_0x2033ce+='</tbody></table>',_0x2b9688[_0x47f82b(0x76f)]=_0x2033ce;}function renderQuizResultsTable(_0x940c76,_0x1669f6,_0x1ca0c6){const _0x31564d=_0x4bb8e3,_0x3f64aa=_0x1669f6[_0x31564d(0x83e)]((_0x54ed7d,_0x263cc4)=>{return _0x54ed7d[_0x263cc4['studentName']]=_0x263cc4,_0x54ed7d;},{}),_0x5bb8cb=document[_0x31564d(0x7c6)](_0x31564d(0x5c0));_0x5bb8cb&&!_0x5bb8cb['innerHTML'][_0x31564d(0x190)](_0x31564d(0x70f))&&(_0x5bb8cb[_0x31564d(0x76f)]+=_0x31564d(0x8b8));const _0x58e886=document['getElementById'](_0x31564d(0x2f0));if(!_0x940c76||_0x940c76[_0x31564d(0x689)]===0x0){_0x58e886[_0x31564d(0x76f)]=_0x31564d(0x239);return;}const _0x6c8afb=_0x1ca0c6[_0x31564d(0x461)]===!![],_0x5c8069=_0x1ca0c6[_0x31564d(0x785)]?.[_0x31564d(0x255)]??-0x1;let _0x503c1c='';_0x940c76[_0x31564d(0xb5)](_0x118054=>{const _0x440a9c=_0x31564d,_0x4b479a=_0x3f64aa[_0x118054];let _0x1cd7d7=_0x440a9c(0x455)+(_0x6c8afb?_0x440a9c(0x58a):_0x440a9c(0x222))+'\x22>'+(_0x6c8afb?_0x440a9c(0x304):_0x440a9c(0x79f))+_0x440a9c(0x530);if(_0x4b479a){if(_0x4b479a[_0x440a9c(0x491)]&&_0x4b479a[_0x440a9c(0x491)]['length']>0x0){let _0xa82f9b=_0x6c8afb?_0x4b479a[_0x440a9c(0x5d6)]===_0x4b479a['totalQuestions']:_0x5c8069!==-0x1&&_0x4b479a[_0x440a9c(0x5d6)]>=_0x5c8069;const _0x50a658=_0xa82f9b?_0x440a9c(0x839):_0x440a9c(0x6cb),_0x4cd874=_0xa82f9b?_0x440a9c(0x71c):_0x440a9c(0x684),_0x5e968a=_0x440a9c(0x357)+_0x50a658+'\x22>'+_0x4cd874+_0x440a9c(0x530),_0x21a740=_0x440a9c(0x170)+(_0x4b479a[_0x440a9c(0x491)]?.[_0x440a9c(0x689)]||0x1)+_0x440a9c(0x1bd);_0x503c1c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x118054+_0x440a9c(0x740)+_0x4b479a[_0x440a9c(0x5d6)]+_0x440a9c(0x3cb)+_0x4b479a[_0x440a9c(0x295)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e968a+_0x440a9c(0x6a7)+_0x1cd7d7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x4b479a[_0x440a9c(0x2a7)]+'\x20/\x20'+_0x4b479a[_0x440a9c(0x295)]+_0x440a9c(0x73d)+_0x4b479a[_0x440a9c(0x237)]+'\x20/\x20'+_0x4b479a[_0x440a9c(0x295)]+_0x440a9c(0x699)+(_0x4b479a['points']||0x0)+_0x440a9c(0x3ed)+_0x21a740+_0x440a9c(0x423)+new Date(_0x4b479a[_0x440a9c(0xf0)])[_0x440a9c(0x233)](_0x440a9c(0x23d))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x118054+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x38418c=_0x440a9c(0x72d);_0x503c1c+=_0x440a9c(0x25f)+_0x118054+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cd7d7+_0x440a9c(0x6ff)+_0x38418c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x4b479a[_0x440a9c(0x5cc)])['toLocaleString'](_0x440a9c(0x23d))+_0x440a9c(0x41c)+_0x118054+_0x440a9c(0x2cb);}}else{const _0x5b6c99=_0x440a9c(0x393);_0x503c1c+=_0x440a9c(0x1b9)+_0x118054+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1cd7d7+_0x440a9c(0x878)+_0x5b6c99+_0x440a9c(0x231);}}),_0x58e886[_0x31564d(0x76f)]=_0x503c1c;}async function confirmRenameQuiz(){const _0x4980b4=_0x4bb8e3,_0x46218b=document[_0x4980b4(0x85b)](_0x4980b4(0x748))[_0x4980b4(0x39a)][_0x4980b4(0xbf)]();if(!_0x46218b){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x210f9c=doc(db,_0x4980b4(0x898)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x210f9c,{'topic':_0x46218b}),showMessage(_0x4980b4(0xdb)),renameQuizModal[_0x4980b4(0x718)][_0x4980b4(0x15f)](_0x4980b4(0x248)),actionTargetId=null;}catch(_0x3dba3a){console[_0x4980b4(0x60f)](_0x4980b4(0x84b),_0x3dba3a),showMessage(_0x4980b4(0x573));}}async function handleMoveQuiz(_0xaa9e25){const _0x197a84=_0x4bb8e3;actionTargetId=_0xaa9e25;const _0x4f259c=document[_0x197a84(0x85b)](_0x197a84(0x7ef));_0x4f259c[_0x197a84(0x76f)]=_0x197a84(0x629),moveQuizModal['classList'][_0x197a84(0x8b0)]('hidden');try{const _0x2453e0=collection(db,'artifacts/'+appId+_0x197a84(0x802)),_0x3d832d=await getDocs(_0x2453e0),_0x5cf97c=_0x3d832d[_0x197a84(0x46b)][_0x197a84(0x347)](_0x5b2e60=>({'id':_0x5b2e60['id'],..._0x5b2e60['data']()})),_0x92b1f1=_0x5cf97c['filter'](_0x18e057=>_0x18e057['id']!==currentProjectId);if(_0x92b1f1[_0x197a84(0x689)]===0x0){_0x4f259c[_0x197a84(0x76f)]=_0x197a84(0x706),document[_0x197a84(0x85b)]('confirm-move-quiz-btn')[_0x197a84(0x1ea)]=!![];return;}_0x4f259c['innerHTML']=_0x92b1f1[_0x197a84(0x347)](_0x2b2d7a=>_0x197a84(0x4b8)+_0x2b2d7a['id']+'\x22>'+_0x2b2d7a['projectName']+'</option>')[_0x197a84(0x19b)](''),document['getElementById'](_0x197a84(0x3b0))[_0x197a84(0x1ea)]=![];}catch(_0x2f4298){console[_0x197a84(0x60f)](_0x197a84(0x4d9),_0x2f4298),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x197a84(0x718)][_0x197a84(0x15f)](_0x197a84(0x248));}}async function confirmMoveQuiz(){const _0x299c98=_0x4bb8e3,_0x3094fd=document[_0x299c98(0x85b)](_0x299c98(0x7ef))[_0x299c98(0x39a)];if(!_0x3094fd){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x25eb5c=doc(db,_0x299c98(0x898)+appId+_0x299c98(0x1a4),actionTargetId);try{await updateDoc(_0x25eb5c,{'projectId':_0x3094fd}),showMessage(_0x299c98(0x4e9)),moveQuizModal[_0x299c98(0x718)][_0x299c98(0x15f)](_0x299c98(0x248)),actionTargetId=null;}catch(_0x553ed9){console[_0x299c98(0x60f)]('Error\x20moving\x20quiz:',_0x553ed9),showMessage(_0x299c98(0x87b));}}async function handleQuizSettings(_0x31243d){const _0x7a311b=_0x4bb8e3;actionTargetId=_0x31243d;const _0x177f64=doc(db,_0x7a311b(0x898)+appId+_0x7a311b(0x1a4),_0x31243d);try{const _0x7f2b04=await getDoc(_0x177f64);if(_0x7f2b04['exists']()){const _0x26e65f=_0x7f2b04[_0x7a311b(0xc3)](),_0x4f00ef=_0x26e65f['settings']||{},_0x21b3de=_0x26e65f['questions'][_0x7a311b(0x689)];document[_0x7a311b(0x85b)](_0x7a311b(0x7d5))[_0x7a311b(0x39a)]=_0x4f00ef[_0x7a311b(0x388)]||_0x7a311b(0x55e),document['getElementById'](_0x7a311b(0x280))[_0x7a311b(0x39a)]=_0x4f00ef['resultsDisplay']||_0x7a311b(0x781),document[_0x7a311b(0x85b)](_0x7a311b(0x618))[_0x7a311b(0x39a)]=_0x4f00ef[_0x7a311b(0x5a2)]||_0x7a311b(0x55e),document[_0x7a311b(0x85b)](_0x7a311b(0x241))[_0x7a311b(0x39a)]=_0x4f00ef['timerDuration']||0xa,document[_0x7a311b(0x85b)]('modal-passing-score-input')[_0x7a311b(0x39a)]=_0x4f00ef['passingScore']||Math[_0x7a311b(0x883)](_0x21b3de/0x2),document[_0x7a311b(0x85b)](_0x7a311b(0x18b))[_0x7a311b(0x790)]=_0x21b3de,document[_0x7a311b(0x85b)](_0x7a311b(0x462))[_0x7a311b(0x8ae)]=_0x4f00ef[_0x7a311b(0x155)]||![],document[_0x7a311b(0x85b)](_0x7a311b(0x5ac))[_0x7a311b(0x8ae)]=_0x4f00ef[_0x7a311b(0x533)]||![],document['getElementById']('modal-timer-mode-select')[_0x7a311b(0xe5)](new Event(_0x7a311b(0x2ee))),quizSettingsModal[_0x7a311b(0x718)]['remove']('hidden');}else showMessage(_0x7a311b(0x24c));}catch(_0x383abb){console[_0x7a311b(0x60f)](_0x7a311b(0x4df),_0x383abb),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x461d1e=_0x4bb8e3;if(!actionTargetId)return;const _0x237404=doc(db,_0x461d1e(0x898)+appId+_0x461d1e(0x1a4),actionTargetId),_0x5582b1={'shuffle':document['getElementById'](_0x461d1e(0x7d5))[_0x461d1e(0x39a)],'resultsDisplay':document[_0x461d1e(0x85b)]('modal-results-display-select')[_0x461d1e(0x39a)],'timerMode':document['getElementById']('modal-timer-mode-select')[_0x461d1e(0x39a)],'timerDuration':parseInt(document[_0x461d1e(0x85b)](_0x461d1e(0x241))[_0x461d1e(0x39a)])||0xa,'passingScore':parseInt(document['getElementById'](_0x461d1e(0x18b))['value'])||0x0,'passingScore':parseInt(document[_0x461d1e(0x85b)](_0x461d1e(0x18b))[_0x461d1e(0x39a)])||0x0,'isAdaptive':document[_0x461d1e(0x85b)](_0x461d1e(0x462))[_0x461d1e(0x8ae)],'loopUntilPass':document[_0x461d1e(0x85b)](_0x461d1e(0x5ac))[_0x461d1e(0x8ae)]};try{await updateDoc(_0x237404,{'settings':_0x5582b1}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x461d1e(0x718)][_0x461d1e(0x15f)](_0x461d1e(0x248)),actionTargetId=null;}catch(_0x43afc4){console[_0x461d1e(0x60f)](_0x461d1e(0x600),_0x43afc4),showMessage(_0x461d1e(0x238));}}async function handleQuizStatus(_0x1a8522){const _0x27b79e=_0x4bb8e3;actionTargetId=_0x1a8522;const _0x1c3610=doc(db,_0x27b79e(0x898)+appId+_0x27b79e(0x1a4),_0x1a8522);try{const _0x570159=await getDoc(_0x1c3610);if(_0x570159[_0x27b79e(0x1db)]()){const _0x37ff69=_0x570159[_0x27b79e(0xc3)](),_0x12a5fa=_0x37ff69[_0x27b79e(0x652)]||_0x27b79e(0x3a7),_0x492388=document[_0x27b79e(0x85b)](_0x27b79e(0x411)),_0x24e0c7=document['getElementById'](_0x27b79e(0x2e2)),_0x5e3329=document['getElementById'](_0x27b79e(0x58e));let _0x4ffcd8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20'+(_0x12a5fa===_0x27b79e(0x3a7)?_0x27b79e(0x8ae):'')+_0x27b79e(0x724)+(_0x12a5fa===_0x27b79e(0x340)?_0x27b79e(0x8ae):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x12a5fa===_0x27b79e(0x5ed)?_0x27b79e(0x8ae):'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x492388[_0x27b79e(0x76f)]=_0x4ffcd8;const _0x12d9ab=_0x12a5fa==='scheduled';_0x24e0c7[_0x27b79e(0x718)][_0x27b79e(0x4bc)](_0x27b79e(0x248),!_0x12d9ab),_0x5e3329['classList'][_0x27b79e(0x4bc)](_0x27b79e(0x248),!_0x12d9ab),document['getElementById'](_0x27b79e(0x720))[_0x27b79e(0x39a)]=_0x37ff69[_0x27b79e(0xe1)]?_0x37ff69[_0x27b79e(0xe1)]['substring'](0x0,0x10):'',document[_0x27b79e(0x85b)](_0x27b79e(0x3e1))['value']=_0x37ff69[_0x27b79e(0x24b)]?_0x37ff69[_0x27b79e(0x24b)][_0x27b79e(0x642)](0x0,0x10):'',_0x492388[_0x27b79e(0x68b)](_0x27b79e(0xdc))[_0x27b79e(0xb5)](_0x5f43f3=>{const _0x276f47=_0x27b79e;_0x5f43f3[_0x276f47(0x838)](_0x276f47(0x2ee),_0x4bd160=>{const _0x568159=_0x276f47,_0xc787ef=_0x4bd160[_0x568159(0x101)][_0x568159(0x39a)]===_0x568159(0x39f);_0x24e0c7[_0x568159(0x718)]['toggle'](_0x568159(0x248),!_0xc787ef),_0x5e3329['classList'][_0x568159(0x4bc)](_0x568159(0x248),!_0xc787ef);});}),quizStatusModal[_0x27b79e(0x718)][_0x27b79e(0x8b0)](_0x27b79e(0x248));}}catch(_0x4a0521){console['error']('Error\x20fetching\x20quiz\x20status:',_0x4a0521),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x3b7a52=_0x4bb8e3;if(!actionTargetId)return;const _0x24bb30=doc(db,_0x3b7a52(0x898)+appId+_0x3b7a52(0x1a4),actionTargetId),_0x5c4a84=document[_0x3b7a52(0x7c6)](_0x3b7a52(0x3f9));if(!_0x5c4a84){showMessage(_0x3b7a52(0x259));return;}const _0x49ca5f=_0x5c4a84[_0x3b7a52(0x39a)];let _0x8e367a={};if(_0x49ca5f===_0x3b7a52(0x3a7)||_0x49ca5f===_0x3b7a52(0x340))_0x8e367a={'status':_0x49ca5f,'startTime':null,'endTime':null};else{if(_0x49ca5f===_0x3b7a52(0x39f)){const _0x1228b5=document['getElementById']('quiz-start-time')[_0x3b7a52(0x39a)],_0x52fe9c=document[_0x3b7a52(0x85b)](_0x3b7a52(0x3e1))['value'];if(!_0x1228b5&&!_0x52fe9c){showMessage(_0x3b7a52(0x19e));return;}_0x8e367a={'status':_0x3b7a52(0x5ed),'startTime':_0x1228b5?new Date(_0x1228b5)[_0x3b7a52(0x7a3)]():null,'endTime':_0x52fe9c?new Date(_0x52fe9c)['toISOString']():null};}}try{await updateDoc(_0x24bb30,_0x8e367a),showMessage(_0x3b7a52(0x264)),quizStatusModal[_0x3b7a52(0x718)]['add'](_0x3b7a52(0x248)),actionTargetId=null;}catch(_0x2e2ad9){console[_0x3b7a52(0x60f)](_0x3b7a52(0x339),_0x2e2ad9),showMessage(_0x3b7a52(0x197));}}function listenForStudentProfiles(_0x396f1d){const _0x325e6c=_0x4bb8e3,_0xb57e5f=collection(db,_0x325e6c(0x898)+appId+_0x325e6c(0x5ec)+_0x396f1d+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0xb57e5f,_0x25fbd9=>{const _0xab1f0b=_0x325e6c,_0xe69fb5=_0x25fbd9[_0xab1f0b(0x46b)][_0xab1f0b(0x347)](_0x5788f=>_0x5788f['data']());renderLeaderboard(_0xe69fb5,_0xab1f0b(0x10c));},_0x3d0e70=>{const _0x594089=_0x325e6c;console['error'](_0x594089(0x1ac),_0x3d0e70),document['getElementById'](_0x594089(0x10c))['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x11fc9e,_0xf4c306){const _0x2fdd32=_0x4bb8e3,_0x4f7c70=document[_0x2fdd32(0x85b)](_0xf4c306);if(!_0x11fc9e||_0x11fc9e[_0x2fdd32(0x689)]===0x0){_0x4f7c70[_0x2fdd32(0x76f)]=_0x2fdd32(0x4d6);return;}_0x11fc9e[_0x2fdd32(0x676)]((_0x4e07a2,_0x3b9602)=>{const _0x32617b=_0x2fdd32,_0x8b6c53=(_0x3b9602[_0x32617b(0x747)]||0x0)-(_0x4e07a2['totalPoints']||0x0);if(_0x8b6c53!==0x0)return _0x8b6c53;const _0x5c2eab=(_0x3b9602[_0x32617b(0x508)]?.[_0x32617b(0x48b)]||0x0)-(_0x4e07a2[_0x32617b(0x508)]?.['specialist']||0x0);if(_0x5c2eab!==0x0)return _0x5c2eab;const _0x6a73eb=(_0x3b9602[_0x32617b(0x508)]?.[_0x32617b(0x655)]||0x0)-(_0x4e07a2[_0x32617b(0x508)]?.['first_try_ace']||0x0);if(_0x6a73eb!==0x0)return _0x6a73eb;const _0x433bec=(_0x3b9602[_0x32617b(0x508)]?.[_0x32617b(0x435)]||0x0)-(_0x4e07a2[_0x32617b(0x508)]?.[_0x32617b(0x435)]||0x0);if(_0x433bec!==0x0)return _0x433bec;const _0x45dbbd=(_0x3b9602[_0x32617b(0x508)]?.[_0x32617b(0x59f)]||0x0)-(_0x4e07a2[_0x32617b(0x508)]?.['quick_thinker']||0x0);if(_0x45dbbd!==0x0)return _0x45dbbd;return _0x4e07a2[_0x32617b(0x333)][_0x32617b(0x5a3)](_0x3b9602['studentName'],'th');});let _0x16d6df='';_0x11fc9e[_0x2fdd32(0xb5)]((_0x5dffbe,_0xa071d6)=>{const _0x40f072=_0x2fdd32,_0x3c9169=_0xa071d6+0x1,_0x25d41f=_0x5dffbe['badgesCount']||{};let _0x2573e0='';const _0x58a012=[_0x40f072(0x48b),'perfect_score',_0x40f072(0x655),'quick_thinker'];_0x58a012[_0x40f072(0xb5)](_0x49d2a1=>{const _0x52cdc4=_0x40f072;if(_0x25d41f[_0x49d2a1]>0x0){const _0x5f0b19=Object[_0x52cdc4(0x506)](BADGES)[_0x52cdc4(0x687)](_0x4ac156=>_0x4ac156['id']===_0x49d2a1);_0x5f0b19&&(_0x49d2a1===_0x52cdc4(0x48b)?_0x2573e0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x5f0b19[_0x52cdc4(0x55b)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x5f0b19[_0x52cdc4(0x76a)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2573e0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x5f0b19[_0x52cdc4(0x55b)]+'\x20('+_0x25d41f[_0x49d2a1]+_0x52cdc4(0x28f)+_0x5f0b19['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x25d41f[_0x49d2a1]+_0x52cdc4(0x4b6));}}),_0x16d6df+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x3c9169+_0x40f072(0x235)+_0x5dffbe[_0x40f072(0x333)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x5dffbe[_0x40f072(0x747)]||0x0)+_0x40f072(0x235)+(_0x2573e0||'-')+_0x40f072(0x4e8);}),_0x4f7c70['innerHTML']=_0x16d6df;}function displayLoopScreen(_0x29c38b,_0x2d0f22,_0x54bc01){const _0x283e42=_0x4bb8e3;let _0x3910ce='';_0x54bc01!=='show_pass_fail_only'&&(_0x3910ce=_0x283e42(0x744)+_0x29c38b+'\x20/\x20'+_0x2d0f22+_0x283e42(0x178));const _0x5cad0f=_0x283e42(0x416)+_0x3910ce+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x283e42(0x76f)]=_0x5cad0f,studentResultArea[_0x283e42(0x718)][_0x283e42(0x8b0)](_0x283e42(0x248)),studentQuizArea[_0x283e42(0x718)][_0x283e42(0x15f)](_0x283e42(0x248)),document[_0x283e42(0x85b)](_0x283e42(0x36f))['addEventListener'](_0x283e42(0x5a1),()=>{const _0x9953f4=_0x283e42;studentResultArea[_0x9953f4(0x718)]['add'](_0x9953f4(0x248)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x3c2789,_0x37360c,_0x1cf211){const _0x49021a=_0x4bb8e3,_0x4e88a0=document['getElementById'](_0x1cf211),_0x6ad3f2=_0x1cf211==='student-quiz-leaderboard-table-body',_0x1af584=_0x37360c[_0x49021a(0x79e)][_0x49021a(0x689)],_0x4f3329=document[_0x49021a(0x85b)](_0x1cf211)[_0x49021a(0x8b6)](_0x49021a(0x2bc));if(_0x4f3329&&!_0x6ad3f2){const _0x417023=_0x4f3329[_0x49021a(0x7c6)]('thead');_0x417023[_0x49021a(0x76f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x3c2789||_0x3c2789[_0x49021a(0x689)]===0x0){_0x4e88a0[_0x49021a(0x76f)]=_0x49021a(0x531)+(_0x6ad3f2?0x6:0x8)+_0x49021a(0x362);return;}const _0x3ba097=[..._0x3c2789];_0x3ba097[_0x49021a(0x676)]((_0xcb221,_0x4b2f88)=>{const _0x573371=_0x49021a;let _0x5a3f35,_0x13ba7d;switch(quizLeaderboardSortBy){case _0x573371(0x333):_0x5a3f35=_0xcb221[_0x573371(0x333)]||'',_0x13ba7d=_0x4b2f88['studentName']||'';return quizLeaderboardSortOrder===_0x573371(0x404)?_0x5a3f35[_0x573371(0x5a3)](_0x13ba7d,'th'):_0x13ba7d[_0x573371(0x5a3)](_0x5a3f35,'th');case _0x573371(0x3be):_0x5a3f35=_0xcb221[_0x573371(0x3be)]||0x0,_0x13ba7d=_0x4b2f88[_0x573371(0x3be)]||0x0;break;case'attempts':_0x5a3f35=_0xcb221[_0x573371(0x491)]?.[_0x573371(0x689)]||0x1,_0x13ba7d=_0x4b2f88[_0x573371(0x491)]?.[_0x573371(0x689)]||0x1;break;case'latestSubmittedAt':_0x5a3f35=new Date(_0xcb221['latestSubmittedAt']),_0x13ba7d=new Date(_0x4b2f88[_0x573371(0xf0)]);break;case _0x573371(0x5d6):default:_0x5a3f35=_0xcb221[_0x573371(0x5d6)],_0x13ba7d=_0x4b2f88[_0x573371(0x5d6)];break;}if(_0x5a3f35<_0x13ba7d)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x5a3f35>_0x13ba7d)return quizLeaderboardSortOrder===_0x573371(0x404)?0x1:-0x1;return 0x0;});const _0x4eee92=_0x37360c[_0x49021a(0x461)]===!![],_0x3ac76a=_0x37360c[_0x49021a(0x785)]?.[_0x49021a(0x255)]??-0x1;let _0x38ee03='';_0x3ba097[_0x49021a(0xb5)]((_0x13d176,_0x550061)=>{const _0x4120b6=_0x49021a,_0x96d81f=_0x550061+0x1;let _0x181c2e=_0x4120b6(0x22c);if(_0x4eee92||_0x3ac76a!==-0x1){let _0x568871=_0x4eee92?_0x13d176[_0x4120b6(0x5d6)]===_0x1af584:_0x13d176[_0x4120b6(0x5d6)]>=_0x3ac76a;const _0x8e96b3=_0x568871?'bg-green-100\x20text-green-800':_0x4120b6(0x6cb),_0x48f599=_0x568871?_0x4120b6(0x71c):_0x4120b6(0x684);_0x181c2e='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x8e96b3+'\x22>'+_0x48f599+_0x4120b6(0x530);}const _0x49f422=_0x13d176['attempts'][_0x13d176['attempts'][_0x4120b6(0x689)]-0x1],_0x38e8ec=(_0x49f422[_0x4120b6(0x7fb)]||[])[_0x4120b6(0x347)](_0x595e23=>{const _0x64efae=_0x4120b6,_0x59ab85=Object['values'](BADGES)['find'](_0x459e6b=>_0x459e6b['id']===_0x595e23);return _0x59ab85?_0x64efae(0x665)+_0x59ab85['name']+_0x64efae(0x5d1)+_0x59ab85[_0x64efae(0x76a)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})['join']('');_0x38ee03+=_0x4120b6(0x5b3)+_0x96d81f+_0x4120b6(0x240)+_0x13d176[_0x4120b6(0x333)]+_0x4120b6(0x82c)+_0x13d176[_0x4120b6(0x5d6)]+_0x4120b6(0x3cb)+_0x1af584+_0x4120b6(0x732)+_0x181c2e+_0x4120b6(0x487)+(_0x13d176[_0x4120b6(0x3be)]||0x0)+_0x4120b6(0x732)+(_0x6ad3f2?'':_0x4120b6(0x32a)+(_0x13d176[_0x4120b6(0x491)]?.[_0x4120b6(0x689)]||0x1)+'</td>')+_0x4120b6(0x37a)+(_0x6ad3f2?'':_0x4120b6(0x81d)+new Date(_0x13d176['latestSubmittedAt'])[_0x4120b6(0x233)](_0x4120b6(0x23d))+'</td>')+_0x4120b6(0x4c3)+(_0x38e8ec||'-')+_0x4120b6(0x289);}),_0x4e88a0[_0x49021a(0x76f)]=_0x38ee03,_0x4f3329&&!_0x6ad3f2&&_0x4f3329[_0x49021a(0x68b)](_0x49021a(0xfd))[_0x49021a(0xb5)](_0x3dfdf3=>{const _0x3971a5=_0x49021a,_0x3be0ad=_0x3dfdf3['querySelector']('.sort-indicator');if(_0x3be0ad)_0x3be0ad[_0x3971a5(0x8b0)]();_0x3dfdf3[_0x3971a5(0x717)][_0x3971a5(0x676)]===quizLeaderboardSortBy&&(_0x3dfdf3[_0x3971a5(0x76f)]+=_0x3971a5(0x3b4)+(quizLeaderboardSortOrder===_0x3971a5(0x404)?'▲':'▼')+_0x3971a5(0x3fe));});}async function handleDeleteSubmission(_0x501ec4){const _0x50f53c=_0x4bb8e3;if(!currentQuizData||!currentQuizData['id']||!_0x501ec4){showMessage(_0x50f53c(0x3f4));return;}showConfirmation(_0x50f53c(0x30d)+_0x501ec4+_0x50f53c(0x1af),async()=>{const _0x4e423a=_0x50f53c,_0x4aa4a3=currentQuizData['id'],_0x413d5f=doc(db,_0x4e423a(0x898)+appId+_0x4e423a(0x9f)+_0x4aa4a3+_0x4e423a(0x84d),_0x501ec4);try{await deleteDoc(_0x413d5f),showMessage('ลบผลสอบของ\x20'+_0x501ec4+_0x4e423a(0x2cf));}catch(_0x370b74){console[_0x4e423a(0x60f)](_0x4e423a(0x307),_0x370b74),showMessage(_0x4e423a(0x8af));}});}async function handleLoadQuiz(){const _0x25c9d7=_0x4bb8e3,_0x155aab=document[_0x25c9d7(0x85b)](_0x25c9d7(0x5ff)),_0x17acf5=_0x155aab[_0x25c9d7(0x39a)][_0x25c9d7(0xbf)]();if(!_0x17acf5){showMessage(_0x25c9d7(0x762));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x25c9d7(0x76f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x575f6c=doc(db,_0x25c9d7(0x898)+appId+_0x25c9d7(0x1a4),_0x17acf5),_0x534993=await getDoc(_0x575f6c);if(!_0x534993[_0x25c9d7(0x1db)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x534993['id'],..._0x534993[_0x25c9d7(0xc3)]()};const _0x1a9dc0=currentQuizData['status']||_0x25c9d7(0x3a7),_0x38c1aa=new Date();if(_0x1a9dc0==='inactive'){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x1a9dc0===_0x25c9d7(0x5ed)){const _0x3c54b2=currentQuizData[_0x25c9d7(0xe1)]?new Date(currentQuizData['startTime']):null,_0x157ea4=currentQuizData[_0x25c9d7(0x24b)]?new Date(currentQuizData[_0x25c9d7(0x24b)]):null;if(_0x3c54b2&&_0x38c1aa<_0x3c54b2){showMessage(_0x25c9d7(0x4ad)+_0x3c54b2[_0x25c9d7(0x233)]('th-TH',{'hour12':![]}));return;}if(_0x157ea4&&_0x38c1aa>_0x157ea4){showMessage(_0x25c9d7(0x2f9));return;}}const _0x2a92cc=currentQuizData[_0x25c9d7(0x598)];currentProjectId=_0x2a92cc;const _0xbf46c4=doc(db,_0x25c9d7(0x898)+appId+_0x25c9d7(0x802),_0x2a92cc),_0x1ff2f5=await getDoc(_0xbf46c4);if(!_0x1ff2f5[_0x25c9d7(0x1db)]()){showMessage(_0x25c9d7(0x4f3));return;}const _0x348a96=_0x1ff2f5[_0x25c9d7(0xc3)]();currentStudentProjectData=_0x348a96,displayStudentNameSelector(_0x348a96[_0x25c9d7(0x4a4)],currentQuizData[_0x25c9d7(0x2cd)]);}catch(_0x4f7b07){console[_0x25c9d7(0x60f)]('Error\x20loading\x20quiz\x20for\x20student:',_0x4f7b07),showMessage(_0x25c9d7(0x43d));}finally{loadQuizBtn[_0x25c9d7(0x1ea)]=![],loadQuizBtn[_0x25c9d7(0x76f)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x10bf71=_0x4bb8e3,_0x2838a4=document['getElementById'](_0x10bf71(0x847)),_0x440c6a=document[_0x10bf71(0x85b)](_0x10bf71(0x870)),_0x3e8320=document[_0x10bf71(0x85b)](_0x10bf71(0x6d3)),_0x25cc2c=_0x2838a4[_0x10bf71(0x39a)]['trim'](),_0x2112af=_0x440c6a[_0x10bf71(0x39a)][_0x10bf71(0xbf)]();if(!_0x25cc2c||!_0x2112af){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x3e8320['disabled']=!![],_0x3e8320[_0x10bf71(0x76f)]=_0x10bf71(0x592);try{const _0x26c7c3=collection(db,_0x10bf71(0x898)+appId+'/public/data/liveGames'),_0xf87521=query(_0x26c7c3,where(_0x10bf71(0x586),'==',_0x25cc2c),where('status','in',[_0x10bf71(0x26c),'question'])),_0x2c73ac=await getDocs(_0xf87521);if(_0x2c73ac[_0x10bf71(0x39d)]){showMessage(_0x10bf71(0x5d9));return;}const _0x11c738=_0x2c73ac['docs'][0x0],_0x75049f=_0x11c738[_0x10bf71(0xc3)]();currentLiveGameId=_0x11c738['id'];const _0x57be84=_0x75049f['quizId'],_0x225efb=doc(db,_0x10bf71(0x898)+appId+_0x10bf71(0x1a4),_0x57be84),_0x3fb027=await getDoc(_0x225efb);if(!_0x3fb027[_0x10bf71(0x1db)]()){showMessage(_0x10bf71(0x28c));return;}currentQuizData={'id':_0x3fb027['id'],..._0x3fb027[_0x10bf71(0xc3)]()};if(_0x75049f[_0x10bf71(0x451)]&&_0x75049f[_0x10bf71(0x451)][_0x2112af]){const _0x3c59e6=_0x75049f['players'][_0x2112af];if(_0x3c59e6['status']==='inactive'){_0x3e8320['innerHTML']=_0x10bf71(0x21a);const _0x14151c={};_0x14151c[_0x10bf71(0x3c2)+_0x2112af+_0x10bf71(0x117)]=_0x10bf71(0x3a7),await updateDoc(doc(db,_0x10bf71(0x898)+appId+_0x10bf71(0x1cd),currentLiveGameId),_0x14151c),showView('live-game'),currentStudentName=_0x2112af,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x75049f['status']!==_0x10bf71(0x26c)){showMessage(_0x10bf71(0x708));return;}_0x3e8320[_0x10bf71(0x76f)]=_0x10bf71(0x5f6);const _0x50cfb5={};_0x50cfb5['players.'+_0x2112af]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x10bf71(0x3a7)},await updateDoc(doc(db,_0x10bf71(0x898)+appId+_0x10bf71(0x1cd),currentLiveGameId),_0x50cfb5),currentStudentName=_0x2112af,listenForLiveGameUpdates();}catch(_0x5bd72a){console[_0x10bf71(0x60f)](_0x10bf71(0x2f7),_0x5bd72a),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x3e8320[_0x10bf71(0x1ea)]=![],_0x3e8320['innerHTML']=_0x10bf71(0x2e9);}}function displayStudentNameSelector(_0x4442e4,_0x52d5cd){const _0x3ce74f=_0x4bb8e3,_0xd79b8=document['getElementById'](_0x3ce74f(0x60c));document['getElementById'](_0x3ce74f(0xbe))[_0x3ce74f(0x7b1)]='แบบทดสอบ:\x20'+_0x52d5cd,!_0x4442e4||_0x4442e4[_0x3ce74f(0x689)]===0x0?(_0xd79b8[_0x3ce74f(0x76f)]=_0x3ce74f(0x804),startQuizBtn[_0x3ce74f(0x1ea)]=!![]):(_0xd79b8[_0x3ce74f(0x76f)]=_0x3ce74f(0x261),_0x4442e4[_0x3ce74f(0xb5)](_0x2a6268=>{const _0x3c9f64=_0x3ce74f,_0x474a83=document[_0x3c9f64(0x2e6)](_0x3c9f64(0x109));_0x474a83[_0x3c9f64(0x39a)]=_0x2a6268,_0x474a83[_0x3c9f64(0x7b1)]=_0x2a6268,_0xd79b8[_0x3c9f64(0xf8)](_0x474a83);}),startQuizBtn[_0x3ce74f(0x1ea)]=![]),studentInitialView[_0x3ce74f(0x718)][_0x3ce74f(0x15f)](_0x3ce74f(0x248)),studentNameSelectionView['classList'][_0x3ce74f(0x8b0)]('hidden');}function shuffleArray(_0x1f5d3a){const _0x4aaf1b=_0x4bb8e3;for(let _0x2d8634=_0x1f5d3a['length']-0x1;_0x2d8634>0x0;_0x2d8634--){const _0x10f464=Math[_0x4aaf1b(0x883)](Math[_0x4aaf1b(0x38c)]()*(_0x2d8634+0x1));[_0x1f5d3a[_0x2d8634],_0x1f5d3a[_0x10f464]]=[_0x1f5d3a[_0x10f464],_0x1f5d3a[_0x2d8634]];}}function getShuffledQuiz(_0x5c7f1d){const _0x40db14=_0x4bb8e3;let _0x290ca5=JSON['parse'](JSON[_0x40db14(0x852)](_0x5c7f1d));const _0x3020ba=_0x290ca5[_0x40db14(0x785)]?.[_0x40db14(0x388)]||'none';if(_0x3020ba==='none')return _0x290ca5;return(_0x3020ba==='questions_only'||_0x3020ba===_0x40db14(0x262))&&shuffleArray(_0x290ca5['questions']),(_0x3020ba==='choices_only'||_0x3020ba===_0x40db14(0x262))&&_0x290ca5[_0x40db14(0x79e)][_0x40db14(0xb5)](_0x153802=>{const _0x5ab5f0=_0x40db14,_0x441ba8=_0x153802[_0x5ab5f0(0x7a7)]||_0x290ca5[_0x5ab5f0(0x33b)];if(_0x153802[_0x5ab5f0(0x498)]){let _0x1d6a9c=_0x153802['options'][_0x5ab5f0(0x347)]((_0x35db96,_0x448e8b)=>({'text':_0x35db96,'isCorrect':_0x448e8b===_0x153802[_0x5ab5f0(0x136)]}));shuffleArray(_0x1d6a9c),_0x153802[_0x5ab5f0(0x498)]=_0x1d6a9c[_0x5ab5f0(0x347)](_0x1d3896=>_0x1d3896['text']),_0x153802[_0x5ab5f0(0x136)]=_0x1d6a9c[_0x5ab5f0(0x6b1)](_0x248429=>_0x248429[_0x5ab5f0(0xdf)]);}_0x441ba8===_0x5ab5f0(0x69e)&&_0x153802[_0x5ab5f0(0xe8)]&&shuffleArray(_0x153802[_0x5ab5f0(0xe8)]);}),_0x290ca5;}function displayQuizForStudent(_0x1415fe){const _0x2d3fe0=_0x4bb8e3;studentQuizArea['classList'][_0x2d3fe0(0x8b0)](_0x2d3fe0(0x248)),currentDisplayedQuiz=getShuffledQuiz(_0x1415fe);currentMode!==_0x2d3fe0(0x668)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2d3fe0(0x838)](_0x2d3fe0(0x4cf),handleFullscreenChange),document['addEventListener'](_0x2d3fe0(0x181),handleVisibilityChange),enterFullscreen(),window[_0x2d3fe0(0x838)](_0x2d3fe0(0x77a),resetDimTimer),window['addEventListener'](_0x2d3fe0(0x2ff),resetDimTimer),window[_0x2d3fe0(0x838)](_0x2d3fe0(0x436),resetDimTimer),window[_0x2d3fe0(0x838)](_0x2d3fe0(0x7cc),resetDimTimer),resetDimTimer());const _0x189f2a=currentDisplayedQuiz[_0x2d3fe0(0x785)]?.['timerMode']||_0x2d3fe0(0x55e);if(_0x189f2a===_0x2d3fe0(0x1de))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2d3fe0(0x785)]['timerDuration']);else _0x189f2a===_0x2d3fe0(0xc0)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x2c05e1=_0x4bb8e3;let _0x31f865='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x2c05e1(0x2cd)]+_0x2c05e1(0x628)+(currentMode==='admin-testing'?_0x2c05e1(0x40e):'')+_0x2c05e1(0x478);currentDisplayedQuiz['questions']['forEach']((_0x1febcd,_0x35ff26)=>{const _0x41ea9b=_0x2c05e1,_0x1eff6a=_0x1febcd[_0x41ea9b(0x7a7)]||currentDisplayedQuiz[_0x41ea9b(0x33b)];_0x31f865+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x1eff6a==='matching_item'?_0x31f865+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x35ff26+0x1)+'.\x20'+_0x1febcd[_0x41ea9b(0x866)]+_0x41ea9b(0x9c)+_0x35ff26+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1febcd[_0x41ea9b(0xe8)][_0x41ea9b(0x347)](_0x6ac0a=>_0x41ea9b(0x4b8)+_0x6ac0a+'\x22>'+_0x6ac0a+_0x41ea9b(0x1e3))[_0x41ea9b(0x19b)]('')+_0x41ea9b(0x63a):(_0x31f865+='<p>'+(_0x35ff26+0x1)+'.\x20'+(_0x1febcd[_0x41ea9b(0x3fd)]||_0x1febcd[_0x41ea9b(0x862)])+_0x41ea9b(0x50f),_0x1febcd[_0x41ea9b(0xc1)]&&(_0x31f865+=_0x41ea9b(0x2b8)+_0x1febcd[_0x41ea9b(0xc1)]+'</div>'));_0x31f865+=_0x41ea9b(0x7d7);switch(_0x1eff6a){case'short_answer':_0x31f865+=_0x41ea9b(0x1fb)+_0x35ff26+_0x41ea9b(0x196);break;case _0x41ea9b(0x2d2):_0x31f865+=_0x41ea9b(0x712)+_0x35ff26+_0x41ea9b(0x22f)+_0x35ff26+_0x41ea9b(0x1dc)+_0x35ff26+_0x41ea9b(0x4e4),_0x31f865+=_0x41ea9b(0x712)+_0x35ff26+_0x41ea9b(0x521)+_0x35ff26+_0x41ea9b(0x3dc)+_0x35ff26+_0x41ea9b(0x72c);break;case _0x41ea9b(0x69e):break;case _0x41ea9b(0x383):case _0x41ea9b(0x75e):default:_0x31f865+=_0x1febcd['options'][_0x41ea9b(0x347)]((_0x1b87eb,_0x561b8f)=>_0x41ea9b(0x749)+_0x35ff26+_0x41ea9b(0x535)+_0x561b8f+_0x41ea9b(0x7c1)+_0x35ff26+'\x22\x20value=\x22'+_0x561b8f+_0x41ea9b(0x45e)+_0x35ff26+_0x41ea9b(0x535)+_0x561b8f+'\x22>'+_0x1b87eb+_0x41ea9b(0x2e1))[_0x41ea9b(0x19b)]('');break;}_0x31f865+=_0x41ea9b(0xb8);}),_0x31f865+=_0x2c05e1(0x672),_0x31f865+=_0x2c05e1(0x6df),studentQuizArea['innerHTML']=_0x31f865;if(currentMode===_0x2c05e1(0x668)){const _0xbb927d=document[_0x2c05e1(0x85b)]('cancel-test-btn');if(_0xbb927d)_0xbb927d['addEventListener'](_0x2c05e1(0x5a1),cancelAdminTest);}document[_0x2c05e1(0x85b)]('quiz-form')['addEventListener']('submit',handleSubmitQuiz);if(window['MathJax'])window['MathJax']['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x7be4e8){const _0x558fe5=_0x4bb8e3;if(_0x7be4e8)_0x7be4e8[_0x558fe5(0x514)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x35cbcc=document[_0x558fe5(0x85b)]('quiz-form');if(!_0x35cbcc)return;const _0x1e8f18=_0x35cbcc[_0x558fe5(0x7c6)](_0x558fe5(0x640)),_0x301bfd=currentDisplayedQuiz[_0x558fe5(0x79e)][_0x558fe5(0x3af)](_0x4f47ae=>_0x4f47ae[_0x558fe5(0x7a7)]===_0x558fe5(0x403));_0x1e8f18&&(_0x1e8f18['disabled']=!![],_0x301bfd?_0x1e8f18[_0x558fe5(0x76f)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x1e8f18[_0x558fe5(0x76f)]=_0x558fe5(0x495));const _0xd2af74=new FormData(_0x35cbcc),_0x24db64=currentDisplayedQuiz[_0x558fe5(0x79e)][_0x558fe5(0x347)]((_0x5496b5,_0x5e5753)=>{const _0x1fdcec=_0x558fe5,_0x56299d=_0x5496b5[_0x1fdcec(0x7a7)]||currentDisplayedQuiz[_0x1fdcec(0x33b)],_0xad4c94=_0xd2af74[_0x1fdcec(0x311)](_0x1fdcec(0x815)+_0x5e5753);if(_0xad4c94!==null&&_0xad4c94!==undefined){if(_0x56299d==='multiple_choice'||_0x56299d==='fill_in_the_blank')return parseInt(_0xad4c94);return _0xad4c94;}return null;}),_0x507ffe=currentQuizData['id'],_0xe42220=doc(db,_0x558fe5(0x898)+appId+_0x558fe5(0x9f)+_0x507ffe+_0x558fe5(0x84d),currentStudentName),_0x1e884a=await getDoc(_0xe42220),_0x15b6cc=_0x1e884a[_0x558fe5(0x1db)]()?_0x1e884a[_0x558fe5(0xc3)]():{},_0x47bbf0=_0x15b6cc[_0x558fe5(0x491)]||[];await processAndSubmitAnswers(_0x24db64,_0x47bbf0);}async function gradeShortAnswerWithAI(_0x6245f3,_0x2aa6a9){const _0x511874=_0x4bb8e3;if(!_0x6245f3||!_0x2aa6a9)return![];try{const _0x506391='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x6245f3+_0x511874(0x481)+_0x2aa6a9+_0x511874(0x278),_0x5f3306={'contents':[{'role':_0x511874(0x4aa),'parts':[{'text':_0x506391}]}]},_0x298a70='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0xab218b='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x298a70,_0x323395=await fetch(_0xab218b,{'method':'POST','headers':{'Content-Type':_0x511874(0xca)},'body':JSON[_0x511874(0x852)](_0x5f3306)});if(!_0x323395['ok'])throw new Error(_0x511874(0x269));const _0x1e5365=await _0x323395[_0x511874(0x780)](),_0x3f2587=_0x1e5365[_0x511874(0x1ee)][0x0][_0x511874(0x60a)][_0x511874(0x767)][0x0][_0x511874(0x524)][_0x511874(0xbf)]()['toLowerCase']();return _0x3f2587===_0x511874(0x7d3);}catch(_0x176f4c){return console[_0x511874(0x60f)](_0x511874(0x110),_0x176f4c),![];}}async function processAndSubmitAnswers(_0x158ba4,_0x45f63f){const _0x1b203b=_0x4bb8e3;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x1b203b(0x3de)](_0x1b203b(0x4cf),handleFullscreenChange),document[_0x1b203b(0x3de)]('visibilitychange',handleVisibilityChange);let _0x51b6f8=0x0,_0x3950c9=0x0,_0x1f73c7=[];const _0x5b1294=[],_0x480c0b=currentDisplayedQuiz[_0x1b203b(0x79e)]['length'];let _0x5a1e83=0x0;const _0x2bf90c=currentDisplayedQuiz[_0x1b203b(0x79e)];for(let _0x18de75=0x0;_0x18de75<_0x2bf90c['length'];_0x18de75++){const _0x1cdf0d=_0x2bf90c[_0x18de75],_0x4e9b4a=_0x158ba4[_0x18de75],_0x139124=_0x1cdf0d[_0x1b203b(0x7a7)]||currentDisplayedQuiz[_0x1b203b(0x33b)];let _0x5d71bb=![];if(_0x4e9b4a!==null&&_0x4e9b4a!=='')switch(_0x139124){case _0x1b203b(0x69e):_0x5d71bb=_0x4e9b4a===_0x1cdf0d[_0x1b203b(0x453)];break;case _0x1b203b(0x2d2):const _0x78147c=_0x4e9b4a===!![]||_0x4e9b4a===_0x1b203b(0x7d3);_0x5d71bb=_0x78147c===_0x1cdf0d[_0x1b203b(0x7d8)];break;case _0x1b203b(0x383):case _0x1b203b(0x75e):default:_0x5d71bb=Number(_0x4e9b4a)===_0x1cdf0d[_0x1b203b(0x136)];break;case'short_answer':_0x5d71bb=await gradeShortAnswer(_0x4e9b4a,_0x1cdf0d);break;}_0x5d71bb?(_0x51b6f8++,_0x5a1e83++,_0x5a1e83===0x3&&(_0x1f73c7[_0x1b203b(0x137)](BADGES[_0x1b203b(0x85d)]['id']),_0x5a1e83=0x0)):_0x5a1e83=0x0;let _0x38b062=null;_0x1cdf0d[_0x1b203b(0x498)]&&_0x4e9b4a!==null&&(_0x38b062=_0x1cdf0d['options'][_0x4e9b4a]),_0x5b1294[_0x1b203b(0x137)]({'questionId':_0x1cdf0d['id'],'answer':_0x4e9b4a,'answerText':_0x38b062,'isCorrect':_0x5d71bb,'originalQuestionText':_0x1cdf0d[_0x1b203b(0x866)]||_0x1cdf0d[_0x1b203b(0x862)]});}_0x3950c9=_0x51b6f8*0xa;_0x51b6f8===_0x480c0b&&_0x480c0b>0x0&&!currentDisplayedQuiz[_0x1b203b(0x461)]&&(_0x3950c9+=0x32,_0x1f73c7['push'](BADGES[_0x1b203b(0x134)]['id']));const _0x5a1006=currentDisplayedQuiz['settings']?.[_0x1b203b(0x255)]??Math[_0x1b203b(0x883)](_0x480c0b/0x2),_0x1e7df7=currentDisplayedQuiz['settings']?.[_0x1b203b(0x5a2)];if(_0x1e7df7===_0x1b203b(0x1de)&&quizStartTime){const _0x44cc7a=(new Date()-quizStartTime)/0x3e8,_0x357cab=currentDisplayedQuiz['settings']['timerDuration']*0x3c;_0x51b6f8>=_0x5a1006&&_0x44cc7a<_0x357cab/0x2&&(_0x3950c9+=0x14,_0x1f73c7[_0x1b203b(0x137)](BADGES[_0x1b203b(0x68a)]['id']));}_0x45f63f[_0x1b203b(0x689)]===0x0&&_0x51b6f8===_0x480c0b&&_0x480c0b>0x0&&_0x1f73c7[_0x1b203b(0x137)](BADGES[_0x1b203b(0x87f)]['id']);if(_0x45f63f[_0x1b203b(0x689)]>0x0){const _0x16b9f1=_0x45f63f[0x0]['score'];if(_0x16b9f1<_0x5a1006&&_0x51b6f8>=_0x5a1006){const _0x5927f0=_0x45f63f[_0x1b203b(0x3af)](_0x39b329=>(_0x39b329[_0x1b203b(0x7fb)]||[])[_0x1b203b(0x190)](BADGES[_0x1b203b(0x606)]['id']));!_0x5927f0&&_0x1f73c7[_0x1b203b(0x137)](BADGES[_0x1b203b(0x606)]['id']);}}_0x45f63f[_0x1b203b(0x689)]===0x4&&_0x1f73c7[_0x1b203b(0x137)](BADGES['PERSEVERANCE']['id']);const _0x195cc5=currentDisplayedQuiz[_0x1b203b(0x785)]['resultsDisplay'];if(currentMode===_0x1b203b(0x668)){handleResultDisplay(_0x195cc5,_0x51b6f8,_0x3950c9,_0x1f73c7,_0x5b1294,_0x480c0b);return;}const _0x26b800=currentQuizData['id'],_0x5ba916=doc(db,_0x1b203b(0x898)+appId+'/public/data/quizzes/'+_0x26b800+_0x1b203b(0x84d),currentStudentName);try{const _0x5f16d0=[..._0x45f63f],_0x4e1f4b={'score':_0x51b6f8,'points':_0x3950c9,'badges':_0x1f73c7,'submittedAt':new Date()[_0x1b203b(0x7a3)](),'answers':_0x5b1294};_0x5f16d0[_0x1b203b(0x137)](_0x4e1f4b);const _0x2dd98c=_0x5f16d0[0x0]['score'],_0x5843f2=Math[_0x1b203b(0x790)](..._0x5f16d0[_0x1b203b(0x347)](_0x4f15f4=>_0x4f15f4[_0x1b203b(0x454)])),_0x151650=_0x51b6f8,_0x3e97eb=_0x4e1f4b[_0x1b203b(0x3d3)];await setDoc(_0x5ba916,{'studentName':currentStudentName,'totalQuestions':_0x480c0b,'attempts':_0x5f16d0,'firstScore':_0x2dd98c,'bestScore':_0x5843f2,'latestScore':_0x151650,'points':_0x3950c9,'latestSubmittedAt':_0x3e97eb},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x1b203b(0x598)],currentStudentName),handleResultDisplay(_0x195cc5,_0x51b6f8,_0x3950c9,_0x1f73c7,_0x5b1294,_0x480c0b);}catch(_0xe068f9){console[_0x1b203b(0x60f)](_0x1b203b(0x47e),_0xe068f9),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x15d154,_0x57930f){const _0x4dab4a=_0x4bb8e3,_0x18fb39=doc(db,_0x4dab4a(0x898)+appId+_0x4dab4a(0x5ec)+_0x15d154+_0x4dab4a(0x477),_0x57930f);try{const _0x4785f1=query(collection(db,_0x4dab4a(0x898)+appId+_0x4dab4a(0x1a4)),where(_0x4dab4a(0x598),'==',_0x15d154)),_0x288b27=await getDocs(_0x4785f1),_0xd2ce12=new Map(_0x288b27['docs']['map'](_0x5087db=>[_0x5087db['id'],_0x5087db[_0x4dab4a(0xc3)]()])),_0x33e951=Array[_0x4dab4a(0x1e2)](_0xd2ce12[_0x4dab4a(0x7c2)]());await runTransaction(db,async _0x499e59=>{const _0x32bd2e=_0x4dab4a;let _0x5bd226=0x0;const _0x4bfc89={};let _0x215c11=!![],_0x3935d8=0x0,_0x4eddb6=0x0;for(const _0xbe868c of _0x33e951){const _0x3302c2=_0xd2ce12['get'](_0xbe868c),_0x304b7f=doc(db,_0x32bd2e(0x898)+appId+_0x32bd2e(0x9f)+_0xbe868c+_0x32bd2e(0x84d),_0x57930f),_0x3727ec=await _0x499e59[_0x32bd2e(0x311)](_0x304b7f);if(_0x3727ec['exists']()){const _0xaaa1b6=_0x3727ec[_0x32bd2e(0xc3)](),_0x39d73f=_0xaaa1b6[_0x32bd2e(0x491)]||[];if(_0x39d73f[_0x32bd2e(0x689)]>0x0){const _0x3a68f4=_0x39d73f['reduce']((_0x33f622,_0x24b7bd)=>{const _0x5ba287=_0x32bd2e;if(_0x24b7bd['score']>_0x33f622[_0x5ba287(0x454)])return _0x24b7bd;if(_0x24b7bd[_0x5ba287(0x454)]===_0x33f622[_0x5ba287(0x454)])return(_0x24b7bd[_0x5ba287(0x3be)]||0x0)>(_0x33f622[_0x5ba287(0x3be)]||0x0)?_0x24b7bd:_0x33f622;return _0x33f622;},{'score':-0x1,'points':-0x1});_0x3a68f4[_0x32bd2e(0x454)]>-0x1&&(_0x5bd226+=_0x3a68f4[_0x32bd2e(0x3be)]||0x0,(_0x3a68f4['badges']||[])['forEach'](_0x12f024=>{_0x4bfc89[_0x12f024]=(_0x4bfc89[_0x12f024]||0x0)+0x1;}));}}if(_0x3302c2[_0x32bd2e(0x2cd)]!==_0x32bd2e(0x148)){_0x4eddb6++;if(_0x3727ec['exists']()){_0x3935d8++;const _0xbd1777=_0x3727ec['data']();_0xbd1777[_0x32bd2e(0x5d6)]!==_0xbd1777[_0x32bd2e(0x295)]&&(_0x215c11=![]);}else _0x215c11=![];}}_0x4eddb6>0x0&&_0x3935d8===_0x4eddb6&&_0x215c11?_0x4bfc89[_0x32bd2e(0x48b)]=0x1:_0x4bfc89[_0x32bd2e(0x48b)]=0x0,_0x499e59[_0x32bd2e(0x91)](_0x18fb39,{'studentName':_0x57930f,'totalPoints':_0x5bd226,'unlockedBadges':Object[_0x32bd2e(0x7c2)](_0x4bfc89)[_0x32bd2e(0x2fe)](_0x1407e4=>_0x4bfc89[_0x1407e4]>0x0),'badgesCount':_0x4bfc89},{'merge':!![]});});}catch(_0x34866){console[_0x4dab4a(0x60f)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x34866),showMessage(_0x4dab4a(0x26f));}}function startAdminTest(){const _0x220806=_0x4bb8e3;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x1f42d5=JSON[_0x220806(0x4a5)](JSON[_0x220806(0x852)](currentQuizData));currentMode=_0x220806(0x668),currentStudentName=_0x220806(0x7db),adminView[_0x220806(0x718)][_0x220806(0x15f)](_0x220806(0x248)),studentView[_0x220806(0x718)]['remove']('hidden'),studentInitialView['classList'][_0x220806(0x15f)](_0x220806(0x248)),studentNameSelectionView[_0x220806(0x718)]['add'](_0x220806(0x248)),studentResultArea[_0x220806(0x718)][_0x220806(0x15f)]('hidden'),studentQuizArea[_0x220806(0x718)][_0x220806(0x8b0)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x1f42d5);}function handleResultDisplay(_0x301cfd,_0x19f79a,_0x32c7d9,_0x205782,_0x195bcf,_0x8d4adb){const _0x31eb0c=_0x4bb8e3;if(_0x301cfd===_0x31eb0c(0x205)){displaySubmissionConfirmation();return;}const _0x54fd52=currentDisplayedQuiz[_0x31eb0c(0x785)]?.[_0x31eb0c(0x255)]??Math[_0x31eb0c(0x883)](_0x8d4adb/0x2),_0x3ba297=currentDisplayedQuiz[_0x31eb0c(0x785)]?.['isAdaptive']??![],_0x529d40=currentDisplayedQuiz[_0x31eb0c(0x785)]?.['loopUntilPass']===!![],_0x1758bf=_0x19f79a<_0x54fd52,_0x4bc502=_0x301cfd==='half_mark_status'||_0x301cfd===_0x31eb0c(0x25d);if(_0x529d40&&_0x1758bf&&!_0x4bc502){_0x301cfd==='show_results_and_answers'?displayResultsWithAnswers(_0x19f79a,_0x32c7d9,_0x205782,_0x195bcf,_0x8d4adb,!![]):displayLoopScreen(_0x19f79a,_0x8d4adb,_0x301cfd);return;}if(_0x3ba297&&_0x1758bf){startAdaptiveFlow(_0x195bcf,_0x19f79a,_0x8d4adb);return;}switch(_0x301cfd){case _0x31eb0c(0x781):displayResultsWithAnswers(_0x19f79a,_0x32c7d9,_0x205782,_0x195bcf,_0x8d4adb);break;case _0x31eb0c(0x555):displayResultsScoreOnly(_0x19f79a,_0x32c7d9,_0x205782,_0x8d4adb);break;case'show_pass_fail_only':displayPassFailOnly(_0x19f79a,_0x8d4adb);break;case _0x31eb0c(0x160):displayHalfMarkResult(_0x19f79a,_0x8d4adb);break;case _0x31eb0c(0x25d):displayPerfectScoreResult(_0x19f79a,_0x8d4adb);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x1c58a9){const _0x3b144b=_0x4bb8e3;studentReadingArea['innerHTML']=_0x3b144b(0x5fe);const _0x1453cd=_0x3b144b(0x33c)+_0x1c58a9+_0x3b144b(0x431)+simpleMathPrompt+_0x3b144b(0x36a),_0x4c911f={'type':_0x3b144b(0x67a),'properties':{'questionText':{'type':_0x3b144b(0x7f1)},'options':{'type':_0x3b144b(0x12f),'items':{'type':_0x3b144b(0x7f1)}},'correctAnswerIndex':{'type':_0x3b144b(0x152)},'explanation':{'type':_0x3b144b(0x7f1)}},'required':[_0x3b144b(0x862),_0x3b144b(0x498),_0x3b144b(0x136),_0x3b144b(0x829)]},_0x5a8535={'type':_0x3b144b(0x67a),'properties':{'topic':{'type':_0x3b144b(0x7f1)},'questions':{'type':_0x3b144b(0x12f),'items':_0x4c911f}},'required':[_0x3b144b(0x2cd),_0x3b144b(0x79e)]};try{const _0x4d49b0=await callAnalysisApi(_0x1453cd,_0x5a8535);_0x4d49b0[_0x3b144b(0x461)]=!![],studentReadingArea['classList'][_0x3b144b(0x15f)](_0x3b144b(0x248));const _0x3131dc={...currentDisplayedQuiz[_0x3b144b(0x785)],'isAdaptive':![],'resultsDisplay':_0x3b144b(0x781)};_0x4d49b0[_0x3b144b(0x785)]=_0x3131dc,displayQuizForStudent(_0x4d49b0);}catch(_0x52915a){console[_0x3b144b(0x60f)](_0x3b144b(0x703),_0x52915a),showMessage(_0x3b144b(0x5fc)),showView(_0x3b144b(0x503));}}function displayPassFailOnly(_0xd0a1d7,_0x5a189c){const _0x3ca5f8=_0x4bb8e3,_0x1348a1=currentDisplayedQuiz[_0x3ca5f8(0x785)]?.[_0x3ca5f8(0x255)]??-0x1,_0x22bcba=currentDisplayedQuiz[_0x3ca5f8(0x461)]===!![];let _0x11ca8e='',_0x1c5a25=![];if(_0x22bcba||_0x1348a1!==-0x1){_0x1c5a25=_0x22bcba?_0xd0a1d7===_0x5a189c:_0xd0a1d7>=_0x1348a1;const _0xb526b5=_0x1c5a25?_0x3ca5f8(0x839):_0x3ca5f8(0x6cb),_0x332039=_0x1c5a25?'ผ่าน':_0x3ca5f8(0x684);_0x11ca8e=_0x3ca5f8(0x25b)+_0xb526b5+'\x22>'+_0x332039+_0x3ca5f8(0x563);}else _0x11ca8e='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x522a17=_0x3ca5f8(0x5e9)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11ca8e+_0x3ca5f8(0x5e0);studentResultArea[_0x3ca5f8(0x76f)]=_0x522a17,studentResultArea['classList'][_0x3ca5f8(0x8b0)](_0x3ca5f8(0x248)),studentQuizArea[_0x3ca5f8(0x718)][_0x3ca5f8(0x15f)](_0x3ca5f8(0x248)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x1c5a25});}function cancelAdminTest(){const _0x40deda=_0x4bb8e3;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x40deda(0x3de)](_0x40deda(0x4cf),handleFullscreenChange),document[_0x40deda(0x3de)](_0x40deda(0x181),handleVisibilityChange),currentMode='admin',studentView['classList']['add'](_0x40deda(0x248)),adminView['classList'][_0x40deda(0x8b0)]('hidden'),showView('project-detail');}function setupResultScreenBackButton(_0x56eddd){const _0x3acda3=_0x4bb8e3,_0x4da5f8={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x56eddd};if(_0x4da5f8[_0x3acda3(0x34b)]){const _0x1a8624='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x3acda3(0x401)](_0x3acda3(0x107),_0x1a8624),document['getElementById']('retake-quiz-loop-btn')['addEventListener'](_0x3acda3(0x5a1),()=>{const _0x4079c7=_0x3acda3;studentResultArea[_0x4079c7(0x718)][_0x4079c7(0x15f)](_0x4079c7(0x248)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x9dec1a=_0x3acda3(0xfb),_0x1c21a2=currentMode===_0x3acda3(0x668),_0x3ba1bf=_0x1c21a2?_0x3acda3(0x7dd):_0x3acda3(0x538);let _0x2bab21='';_0x4da5f8[_0x3acda3(0x651)]&&(_0x2bab21+=_0x3acda3(0x7b5));let _0x1f9234=_0x4da5f8[_0x3acda3(0x3a9)];_0x1f9234===undefined&&(_0x1f9234=_0x4da5f8[_0x3acda3(0x454)]<_0x4da5f8[_0x3acda3(0x295)]);_0x1f9234&&(_0x2bab21+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x2bab21+=_0x3acda3(0x4f5)+_0x9dec1a+_0x3acda3(0x474)+_0x3ba1bf+_0x3acda3(0x811);const _0x13641f=_0x3acda3(0x94)+_0x2bab21+'</div>';studentResultArea[_0x3acda3(0x401)]('beforeend',_0x13641f),studentResultArea[_0x3acda3(0x7c6)]('#view-rankings-btn')?.[_0x3acda3(0x838)](_0x3acda3(0x5a1),handleShowStudentRankings);const _0x4e74ad=studentResultArea[_0x3acda3(0x7c6)]('#retake-for-improvement-btn');_0x4e74ad&&_0x4e74ad[_0x3acda3(0x838)](_0x3acda3(0x5a1),()=>{const _0x566d78=_0x3acda3;studentResultArea[_0x566d78(0x718)][_0x566d78(0x15f)](_0x566d78(0x248)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3acda3(0x85b)](_0x9dec1a)[_0x3acda3(0x838)](_0x3acda3(0x5a1),()=>{const _0x3f7a22=_0x3acda3;_0x1c21a2?(currentMode=_0x3f7a22(0x527),studentView[_0x3f7a22(0x718)]['add'](_0x3f7a22(0x248)),adminView[_0x3f7a22(0x718)]['remove'](_0x3f7a22(0x248)),showView('project-detail')):(showView(_0x3f7a22(0x503)),document[_0x3f7a22(0x85b)]('quiz-id-input')[_0x3f7a22(0x39a)]='');});}function displayResultsWithAnswers(_0x249350,_0x29cbd5,_0x3b08bc,_0x23a99c,_0xd0a677,_0x9b5551=![]){const _0x21ef39=_0x4bb8e3,_0x1aef89=_0xd0a677>0x0?_0x249350/_0xd0a677*0x64:0x0,_0x551291=currentDisplayedQuiz[_0x21ef39(0x785)]?.[_0x21ef39(0x255)]??-0x1,_0x2ff345=currentDisplayedQuiz['isRemedial']===!![];let _0x968a19='';if(_0x2ff345||_0x551291!==-0x1){let _0x3a6f02=_0x2ff345?_0x249350===_0xd0a677:_0x249350>=_0x551291;const _0x520da1=_0x3a6f02?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x556aba=_0x3a6f02?_0x21ef39(0x71c):_0x21ef39(0x684);_0x968a19=_0x21ef39(0x517)+_0x520da1+'\x22>'+_0x556aba+_0x21ef39(0x50f);}let _0x3dd8a3=_0x21ef39(0xcf)+currentStudentName+_0x21ef39(0x1ba)+_0x249350+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0xd0a677+_0x21ef39(0x796)+_0x968a19+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x29cbd5+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x1aef89['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x21ef39(0x79e)][_0x21ef39(0xb5)]((_0x12b951,_0x48ce12)=>{const _0x3bae3f=_0x21ef39,_0x2e62de=_0x23a99c[_0x48ce12],_0x1e32a0=_0x2e62de[_0x3bae3f(0x399)],_0x5c3088=_0x2e62de[_0x3bae3f(0xdf)],_0x5b9beb=_0x12b951['questionType']||currentDisplayedQuiz[_0x3bae3f(0x33b)];_0x3dd8a3+=_0x3bae3f(0x795)+(_0x5c3088?_0x3bae3f(0xcc):_0x3bae3f(0x830))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x48ce12+0x1)+'.\x20'+(_0x12b951[_0x3bae3f(0x866)]||_0x12b951[_0x3bae3f(0x862)])+_0x3bae3f(0x768);switch(_0x5b9beb){case _0x3bae3f(0x69e):const _0x30bf31=_0x1e32a0||_0x3bae3f(0x358),_0x4f0fd6=_0x12b951[_0x3bae3f(0x453)];_0x3dd8a3+=_0x3bae3f(0x302)+(!_0x5c3088?_0x3bae3f(0x726):'')+'\x22>'+_0x30bf31+_0x3bae3f(0x469);!_0x5c3088&&(_0x3dd8a3+=_0x3bae3f(0x701)+_0x4f0fd6+_0x3bae3f(0x50f));break;case _0x3bae3f(0x403):_0x3dd8a3+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x1e32a0||_0x3bae3f(0x358))+_0x3bae3f(0x50f),_0x3dd8a3+=_0x3bae3f(0x303)+_0x12b951[_0x3bae3f(0x140)]+_0x3bae3f(0x50f);break;case'true_false':_0x3dd8a3+=_0x3bae3f(0x6ba)+(_0x12b951[_0x3bae3f(0x7d8)]===!![]?_0x3bae3f(0x64e):'')+'\x20'+(_0x1e32a0==='true'&&!_0x5c3088?_0x3bae3f(0x726):'')+'\x22>ใช่</p>',_0x3dd8a3+=_0x3bae3f(0x6ba)+(_0x12b951[_0x3bae3f(0x7d8)]===![]?_0x3bae3f(0x64e):'')+'\x20'+(_0x1e32a0==='false'&&!_0x5c3088?_0x3bae3f(0x726):'')+_0x3bae3f(0x379);break;default:_0x3dd8a3+=_0x12b951[_0x3bae3f(0x498)][_0x3bae3f(0x347)]((_0x5d9328,_0x5acbf3)=>{const _0x49fe91=_0x3bae3f;let _0x1c058c='',_0x1adc17='';if(_0x5acbf3===_0x12b951[_0x49fe91(0x136)])_0x1c058c=_0x49fe91(0x64e),_0x1adc17='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x5acbf3===_0x1e32a0&&(_0x1c058c=_0x49fe91(0x7bf),_0x1adc17=_0x49fe91(0x1a5));return _0x49fe91(0x206)+_0x1c058c+'\x22>'+_0x1adc17+_0x5d9328+_0x49fe91(0x277);})['join']('');break;}_0x3dd8a3+=_0x3bae3f(0x4e0)+(_0x12b951['explanation']||_0x3bae3f(0x3f7))+_0x3bae3f(0x277);if(!_0x5c3088){const _0x46ec2f=_0x12b951[_0x3bae3f(0x866)]||_0x12b951[_0x3bae3f(0x862)];_0x3dd8a3+=_0x3bae3f(0x23e)+escape(_0x46ec2f)+_0x3bae3f(0x265);}_0x3dd8a3+='</div>';}),studentResultArea['innerHTML']=_0x3dd8a3,renderEarnedBadges(_0x3b08bc,'earned-badges-container'),studentResultArea[_0x21ef39(0x718)][_0x21ef39(0x8b0)](_0x21ef39(0x248)),studentQuizArea['classList']['add'](_0x21ef39(0x248)),setupResultScreenBackButton({'isLooping':_0x9b5551,'score':_0x249350,'totalQuestions':_0xd0a677,'showRankings':!![]});if(window[_0x21ef39(0x864)])window[_0x21ef39(0x864)][_0x21ef39(0x540)]([studentResultArea]);}function displayResultsScoreOnly(_0x4a6e1e,_0x1df854,_0x5ebf3e,_0x673f5e){const _0x129b5a=_0x4bb8e3,_0xd332e0=_0x673f5e>0x0?_0x4a6e1e/_0x673f5e*0x64:0x0,_0x448ad5=currentDisplayedQuiz[_0x129b5a(0x785)]?.[_0x129b5a(0x255)]??-0x1,_0x57f0d8=currentDisplayedQuiz['isRemedial']===!![];let _0x305c2e='';if(_0x57f0d8||_0x448ad5!==-0x1){let _0x45a8b3=_0x57f0d8?_0x4a6e1e===_0x673f5e:_0x4a6e1e>=_0x448ad5;const _0x38d8b0=_0x45a8b3?'bg-green-100\x20text-green-800':_0x129b5a(0x6cb),_0x2a60a4=_0x45a8b3?'ผ่าน':_0x129b5a(0x684);_0x305c2e=_0x129b5a(0x517)+_0x38d8b0+'\x22>'+_0x2a60a4+_0x129b5a(0x50f);}let _0x2260de=_0x129b5a(0x5e9)+currentStudentName+_0x129b5a(0x801)+_0x4a6e1e+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x673f5e+_0x129b5a(0x796)+_0x305c2e+_0x129b5a(0x806)+_0x1df854+_0x129b5a(0x2de)+_0xd332e0[_0x129b5a(0x3e8)](0x0)+_0x129b5a(0x624);studentResultArea[_0x129b5a(0x76f)]=_0x2260de,renderEarnedBadges(_0x5ebf3e,_0x129b5a(0x175)),studentResultArea[_0x129b5a(0x718)][_0x129b5a(0x8b0)](_0x129b5a(0x248)),studentQuizArea[_0x129b5a(0x718)][_0x129b5a(0x15f)](_0x129b5a(0x248)),setupResultScreenBackButton({'score':_0x4a6e1e,'totalQuestions':_0x673f5e,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x8c7359=_0x4bb8e3;let _0x30f4b3=_0x8c7359(0x45a)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x8c7359(0x76f)]=_0x30f4b3,studentResultArea[_0x8c7359(0x718)][_0x8c7359(0x8b0)](_0x8c7359(0x248)),studentQuizArea[_0x8c7359(0x718)]['add'](_0x8c7359(0x248)),document[_0x8c7359(0x85b)](_0x8c7359(0x1be))[_0x8c7359(0x838)]('click',()=>{const _0x191586=_0x8c7359;showView(_0x191586(0x503)),document[_0x191586(0x85b)](_0x191586(0x5ff))['value']='';});}function renderEarnedBadges(_0x20de03,_0x5bfa27){const _0x5e22e5=_0x4bb8e3,_0x54a623=document[_0x5e22e5(0x85b)](_0x5bfa27);if(!_0x54a623||!_0x20de03||_0x20de03[_0x5e22e5(0x689)]===0x0)return;let _0x58c609='';_0x20de03[_0x5e22e5(0xb5)]((_0x9b6391,_0x40c4b2)=>{const _0x49ab73=_0x5e22e5,_0x4cb148=Object['values'](BADGES)[_0x49ab73(0x687)](_0x251106=>_0x251106['id']===_0x9b6391);_0x4cb148&&(_0x58c609+=_0x49ab73(0x331)+_0x40c4b2*0.2+'s;\x22\x20title=\x22'+_0x4cb148[_0x49ab73(0x6c0)]+_0x49ab73(0x828)+_0x4cb148[_0x49ab73(0x76a)]+_0x49ab73(0x428)+_0x4cb148['name']+_0x49ab73(0x631));}),_0x54a623['innerHTML']=_0x58c609;}function startPresentation(_0x4003de){const _0x453740=_0x4bb8e3;currentQuizData=getShuffledQuiz(_0x4003de),currentPresentationSlide=0x0,presentationModal['style'][_0x453740(0x6dd)]=_0x453740(0x15c),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3fbc83=_0x4bb8e3;document[_0x3fbc83(0x376)]&&document[_0x3fbc83(0x5d4)](),presentationModal['style'][_0x3fbc83(0x6dd)]=_0x3fbc83(0x55e);}function renderPresentationSlide(_0x156829){const _0x28b255=_0x4bb8e3,_0x435501=document[_0x28b255(0x85b)](_0x28b255(0x899));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0x156829]){_0x435501[_0x28b255(0x76f)]=_0x28b255(0x5f7);return;}const _0x5e5684=currentQuizData[_0x28b255(0x79e)][_0x156829],_0x2cbed3=_0x5e5684[_0x28b255(0x7a7)]||currentQuizData[_0x28b255(0x33b)];_0x435501[_0x28b255(0x76f)]='';let _0x33569d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5e5684[_0x28b255(0xc1)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x5e5684['imageCode']+_0x28b255(0x277):'')+_0x28b255(0x301)+(_0x156829+0x1)+'.\x20'+(_0x5e5684[_0x28b255(0x866)]||_0x5e5684[_0x28b255(0x862)])+_0x28b255(0x59d);switch(_0x2cbed3){case _0x28b255(0x69e):_0x33569d+=_0x5e5684[_0x28b255(0xe8)][_0x28b255(0x347)](_0x51e830=>_0x28b255(0xab)+_0x51e830+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x28b255(0x19b)]('');break;case'true_false':_0x33569d+=_0x28b255(0xe2),_0x33569d+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case'fill_in_no_choices':case'short_answer':_0x33569d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x28b255(0x383):case _0x28b255(0x75e):default:_0x33569d+=_0x5e5684[_0x28b255(0x498)][_0x28b255(0x347)]((_0x278c0d,_0x2fb425)=>_0x28b255(0x5e5)+_0x2fb425+_0x28b255(0x6d9)+_0x278c0d+_0x28b255(0x43a))[_0x28b255(0x19b)]('');break;}_0x33569d+=_0x28b255(0x8d)+(_0x5e5684[_0x28b255(0x829)]||_0x28b255(0x3f7))+_0x28b255(0x7e2),_0x435501[_0x28b255(0x76f)]=_0x33569d;if(window[_0x28b255(0x864)])window[_0x28b255(0x864)][_0x28b255(0x540)]([_0x435501]);let _0x100e5c=[];switch(_0x2cbed3){case _0x28b255(0x69e):_0x100e5c=_0x5e5684[_0x28b255(0xe8)]||[];break;case _0x28b255(0x2d2):_0x100e5c=[_0x28b255(0x657),_0x28b255(0x7a2)];break;default:_0x100e5c=_0x5e5684[_0x28b255(0x498)]||[];break;}const _0xa8afba=document['getElementById'](_0x28b255(0xe0));_0xa8afba&&(_0xa8afba[_0x28b255(0x68e)]=()=>{openScratchpad(_0x5e5684,_0x100e5c);});document['querySelectorAll'](_0x28b255(0x67c))[_0x28b255(0xb5)](_0x46292a=>{const _0x5584dc=_0x28b255;_0x46292a[_0x5584dc(0x838)]('click',_0x243c53=>revealAnswerForPresentation(_0x156829,_0x243c53['currentTarget']));});const _0x230dbf=document[_0x28b255(0x85b)]('check-presentation-answer-btn');_0x230dbf&&_0x230dbf[_0x28b255(0x838)](_0x28b255(0x5a1),()=>checkShortAnswerForPresentation(_0x156829)),document['getElementById'](_0x28b255(0x661))[_0x28b255(0x7b1)]=_0x28b255(0x4c4)+(_0x156829+0x1)+_0x28b255(0x3cb)+currentQuizData[_0x28b255(0x79e)][_0x28b255(0x689)],document[_0x28b255(0x85b)](_0x28b255(0x8a8))[_0x28b255(0x1ea)]=_0x156829===0x0,document[_0x28b255(0x85b)](_0x28b255(0x836))[_0x28b255(0x1ea)]=_0x156829===currentQuizData[_0x28b255(0x79e)][_0x28b255(0x689)]-0x1;}async function checkShortAnswerForPresentation(_0x50d61a){const _0x287a36=_0x4bb8e3,_0x14d515=currentQuizData[_0x287a36(0x79e)][_0x50d61a],_0x18b90d=document[_0x287a36(0x85b)](_0x287a36(0x37e)),_0x4b6517=document['getElementById'](_0x287a36(0x854)),_0x40731c=document[_0x287a36(0x85b)](_0x287a36(0x3a4)),_0x3bdc5c=document['getElementById']('presentation-explanation');if(!_0x18b90d||!_0x4b6517||!_0x40731c||!_0x3bdc5c)return;const _0x3dcae2=_0x18b90d[_0x287a36(0x39a)][_0x287a36(0xbf)]();if(_0x3dcae2==='')return;_0x4b6517[_0x287a36(0x1ea)]=!![],_0x4b6517['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x18b90d[_0x287a36(0x1ea)]=!![];const _0x578893=await gradeShortAnswer(_0x3dcae2,_0x14d515);_0x578893?_0x40731c[_0x287a36(0x76f)]=_0x287a36(0x3b5):_0x40731c[_0x287a36(0x76f)]=_0x287a36(0x29d)+_0x14d515[_0x287a36(0x140)]+')',_0x40731c[_0x287a36(0x718)][_0x287a36(0x8b0)](_0x287a36(0x248)),_0x3bdc5c[_0x287a36(0x718)][_0x287a36(0x8b0)](_0x287a36(0x248)),_0x4b6517['classList']['add'](_0x287a36(0x248));}function revealAnswerForPresentation(_0x8833ff,_0x483e8f){const _0xa8e860=_0x4bb8e3,_0x21237c=currentQuizData['questions'][_0x8833ff],_0x5d391e=_0x21237c['questionType']||currentQuizData[_0xa8e860(0x33b)];document[_0xa8e860(0x68b)](_0xa8e860(0x67c))[_0xa8e860(0xb5)](_0x47c19d=>{const _0x59b717=_0xa8e860;_0x47c19d[_0x59b717(0x1ea)]=!![],_0x47c19d[_0x59b717(0x718)][_0x59b717(0x8b0)](_0x59b717(0x8ab));let _0x1ed901=![];if(_0x5d391e==='multiple_choice'||_0x5d391e===_0x59b717(0x383)){const _0x2e9d9e=parseInt(_0x47c19d[_0x59b717(0x717)][_0x59b717(0x3ae)]);_0x1ed901=_0x2e9d9e===_0x21237c[_0x59b717(0x136)];}else{if(_0x5d391e==='true_false'){const _0x5dc733=_0x47c19d[_0x59b717(0x717)][_0x59b717(0x399)]===_0x59b717(0x7d3);_0x1ed901=_0x5dc733===_0x21237c[_0x59b717(0x7d8)];}else _0x5d391e===_0x59b717(0x69e)&&(_0x1ed901=_0x47c19d[_0x59b717(0x7b1)][_0x59b717(0xbf)]()===_0x21237c[_0x59b717(0x453)]);}_0x1ed901?_0x47c19d[_0x59b717(0x718)][_0x59b717(0x15f)](_0x59b717(0x7da),_0x59b717(0x1a9),_0x59b717(0x5e8)):_0x47c19d[_0x59b717(0x718)][_0x59b717(0x15f)](_0x59b717(0x7c8));}),_0x483e8f[_0xa8e860(0x718)][_0xa8e860(0x8b0)]('opacity-50');let _0x3bf60e=![];if(_0x5d391e===_0xa8e860(0x75e))_0x3bf60e=parseInt(_0x483e8f[_0xa8e860(0x717)]['index'])===_0x21237c[_0xa8e860(0x136)];else{if(_0x5d391e===_0xa8e860(0x2d2))_0x3bf60e=_0x483e8f[_0xa8e860(0x717)]['answer']===_0xa8e860(0x7d3)===_0x21237c[_0xa8e860(0x7d8)];else _0x5d391e===_0xa8e860(0x69e)&&(_0x3bf60e=_0x483e8f['textContent'][_0xa8e860(0xbf)]()===_0x21237c['correctResponse']);}!_0x3bf60e&&_0x483e8f[_0xa8e860(0x718)][_0xa8e860(0x15f)](_0xa8e860(0x851),_0xa8e860(0x1a9),_0xa8e860(0x853)),document[_0xa8e860(0x85b)](_0xa8e860(0x425))[_0xa8e860(0x718)][_0xa8e860(0x8b0)](_0xa8e860(0x248));}function startWholeQuizTimer(_0x2a1a43){const _0x5a0d95=_0x4bb8e3,_0x291dee=document[_0x5a0d95(0x85b)](_0x5a0d95(0x151));if(!_0x291dee)return;const _0x1a1012=Date[_0x5a0d95(0x7e0)]()+_0x2a1a43*0x3c*0x3e8;_0x291dee[_0x5a0d95(0x76f)]=_0x5a0d95(0xea);const _0x4bdd2d=document[_0x5a0d95(0x85b)](_0x5a0d95(0x42c));quizTimerInterval=setInterval(()=>{const _0x4880ca=_0x5a0d95,_0x3066b6=_0x1a1012-Date[_0x4880ca(0x7e0)]();if(_0x3066b6<=0x0)clearInterval(quizTimerInterval),_0x4bdd2d['textContent']=_0x4880ca(0x66b),showMessage(_0x4880ca(0x65e)),handleSubmitQuiz(null);else{const _0xb4c565=Math[_0x4880ca(0x883)](_0x3066b6/0x3e8/0x3c%0x3c)['toString']()[_0x4880ca(0x174)](0x2,'0'),_0x19c77e=Math['floor'](_0x3066b6/0x3e8%0x3c)[_0x4880ca(0xa9)]()[_0x4880ca(0x174)](0x2,'0');_0x4bdd2d['textContent']=_0xb4c565+':'+_0x19c77e;}},0x3e8);}function renderPerQuestionView(){const _0x54dea1=_0x4bb8e3;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x559492=currentDisplayedQuiz[_0x54dea1(0x79e)][currentQuestionIndex],_0x44ad24=_0x559492[_0x54dea1(0x7a7)]||currentDisplayedQuiz['quizType'];let _0x78fc7=_0x54dea1(0x42a)+(currentQuestionIndex+0x1)+_0x54dea1(0x6c5)+currentDisplayedQuiz['questions'][_0x54dea1(0x689)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x54dea1(0x668)?_0x54dea1(0x40e):'')+_0x54dea1(0x2d8)+currentDisplayedQuiz[_0x54dea1(0x2cd)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x54dea1(0x79e)][_0x54dea1(0x689)]-0x1?_0x54dea1(0x35f):_0x54dea1(0x738))+_0x54dea1(0x75d);studentQuizArea[_0x54dea1(0x76f)]=_0x78fc7;let _0x4a4278='',_0x10ed7e='';switch(_0x44ad24){case'matching_item':_0x4a4278=currentQuestionIndex+0x1+'.\x20'+_0x559492[_0x54dea1(0x866)],_0x10ed7e=_0x54dea1(0x591)+_0x559492[_0x54dea1(0xe8)]['map'](_0x17a797=>_0x54dea1(0x4b8)+_0x17a797+'\x22>'+_0x17a797+'</option>')[_0x54dea1(0x19b)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x54dea1(0x2d2):_0x4a4278=currentQuestionIndex+0x1+'.\x20'+_0x559492[_0x54dea1(0x862)],_0x10ed7e=_0x54dea1(0xd1);break;case'short_answer':case _0x54dea1(0x7a0):_0x4a4278=currentQuestionIndex+0x1+'.\x20'+_0x559492[_0x54dea1(0x862)],_0x10ed7e='<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>';break;case _0x54dea1(0x75e):case _0x54dea1(0x44d):default:_0x4a4278=currentQuestionIndex+0x1+'.\x20'+_0x559492[_0x54dea1(0x862)],_0x10ed7e=_0x559492[_0x54dea1(0x498)][_0x54dea1(0x347)]((_0x4b5f10,_0x3c1609)=>_0x54dea1(0x5c4)+_0x3c1609+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x3c1609+_0x54dea1(0xfa)+_0x3c1609+'\x22>'+_0x4b5f10+_0x54dea1(0x7b8))[_0x54dea1(0x19b)]('');break;}_0x559492['imageCode']&&(_0x4a4278+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x559492[_0x54dea1(0xc1)]+'</div>');document[_0x54dea1(0x85b)]('per-question-text')[_0x54dea1(0x76f)]=_0x4a4278,document[_0x54dea1(0x85b)]('per-question-options')[_0x54dea1(0x76f)]=_0x10ed7e;if(currentMode===_0x54dea1(0x668)){const _0x1c04a2=document[_0x54dea1(0x85b)](_0x54dea1(0x22e));if(_0x1c04a2)_0x1c04a2['addEventListener'](_0x54dea1(0x5a1),cancelAdminTest);}document[_0x54dea1(0x85b)](_0x54dea1(0x2ae))[_0x54dea1(0x838)](_0x54dea1(0x5a1),()=>handleNextQuestionInTimedMode(![]));if(window[_0x54dea1(0x864)])window[_0x54dea1(0x864)][_0x54dea1(0x540)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x7c1709=_0x4bb8e3,_0x4bb4ee=currentDisplayedQuiz['settings'][_0x7c1709(0x53e)],_0x3e8137=document[_0x7c1709(0x85b)](_0x7c1709(0x83c));if(!_0x3e8137)return;let _0x36f367=_0x4bb4ee;_0x3e8137[_0x7c1709(0x76f)]=_0x7c1709(0x9b)+_0x36f367+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x2f0f50=document[_0x7c1709(0x85b)]('timer-bar'),_0x1388e0=document[_0x7c1709(0x85b)](_0x7c1709(0x1b0));perQuestionTimerInterval=setInterval(()=>{const _0x31104b=_0x7c1709;_0x36f367--;const _0x12074b=_0x36f367/_0x4bb4ee*0x64;_0x2f0f50[_0x31104b(0x85c)][_0x31104b(0x61e)]=_0x12074b+'%',_0x1388e0[_0x31104b(0x7b1)]=_0x36f367,_0x36f367<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x31104b(0x794)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x316ec6=![]){const _0x3e0084=_0x4bb8e3;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x3c1f71=null;if(!_0x316ec6){const _0x24b18c=currentDisplayedQuiz[_0x3e0084(0x79e)][currentQuestionIndex],_0x5237da=_0x24b18c[_0x3e0084(0x7a7)]||currentDisplayedQuiz[_0x3e0084(0x33b)];if(_0x5237da==='short_answer'||_0x5237da==='fill_in_no_choices'){const _0x5569fe=document[_0x3e0084(0x7c6)](_0x3e0084(0x713));_0x3c1f71=_0x5569fe?_0x5569fe[_0x3e0084(0x39a)]['trim']():'';}else{if(_0x5237da===_0x3e0084(0x69e)){const _0x283a68=document[_0x3e0084(0x7c6)](_0x3e0084(0x44c));_0x3c1f71=_0x283a68?_0x283a68[_0x3e0084(0x39a)]:'';}else{const _0x5364fc=document[_0x3e0084(0x7c6)]('input[name=\x22question_single\x22]:checked');if(_0x5364fc){const _0x6b9bbc=_0x5364fc['value'];_0x3c1f71=!isNaN(parseInt(_0x6b9bbc,0xa))&&_0x6b9bbc[_0x3e0084(0xbf)]()!==''?parseInt(_0x6b9bbc,0xa):_0x6b9bbc;}}}}studentAnswersPerQuestion['push'](_0x3c1f71),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3e0084(0x79e)][_0x3e0084(0x689)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x3e1595=_0x4bb8e3,_0x3a61e0=currentDisplayedQuiz[_0x3e1595(0x79e)][_0x3e1595(0x3af)](_0x355d3f=>_0x355d3f[_0x3e1595(0x7a7)]===_0x3e1595(0x403));_0x3a61e0?showMessage(_0x3e1595(0x2a8)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x4f1c24=currentQuizData['id'],_0x364ba7=doc(db,_0x3e1595(0x898)+appId+_0x3e1595(0x9f)+_0x4f1c24+'/submissions',currentStudentName),_0x3f1f44=await getDoc(_0x364ba7),_0x59c063=_0x3f1f44[_0x3e1595(0x1db)]()?_0x3f1f44[_0x3e1595(0xc3)]():{},_0x4c020f=_0x59c063[_0x3e1595(0x491)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x4c020f);}function getResultsFilename(){const _0x38b87c=_0x4bb8e3,_0x53f8ed=document['getElementById'](_0x38b87c(0x10b))[_0x38b87c(0x7b1)][_0x38b87c(0x6ed)](/[^a-z0-9]/gi,'_')[_0x38b87c(0x74e)]();return _0x38b87c(0x6bd)+(_0x53f8ed||_0x38b87c(0x71d));}function exportResultsAsImage(){const _0x2b58c4=_0x4bb8e3,_0x34192f=document[_0x2b58c4(0x85b)]('results-table-container');showMessage(_0x2b58c4(0x395)),html2canvas(_0x34192f)[_0x2b58c4(0x7af)](_0x23f0a5=>{const _0x2b0a61=_0x2b58c4,_0x3667b3=document[_0x2b0a61(0x2e6)]('a');_0x3667b3[_0x2b0a61(0x4eb)]=getResultsFilename()+_0x2b0a61(0x87d),_0x3667b3[_0x2b0a61(0x154)]=_0x23f0a5[_0x2b0a61(0x50b)](_0x2b0a61(0x800)),_0x3667b3[_0x2b0a61(0x5a1)](),messageModal['classList'][_0x2b0a61(0x15f)](_0x2b0a61(0x248));});}function exportResultsAsPDF(){const _0x4b7b4b=_0x4bb8e3,{jsPDF:_0x49a6fc}=window['jspdf'],_0x36ac62=new _0x49a6fc();_0x36ac62[_0x4b7b4b(0x6ea)](_0x4b7b4b(0x544),_0x4b7b4b(0x55a)),_0x36ac62['autoTable']({'html':'#results-table'}),_0x36ac62[_0x4b7b4b(0x28b)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x36b664=_0x4bb8e3,_0x1e8b4a='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x36b664(0x484)+_0x36b664(0x1d2)+_0x36b664(0x35d),_0x3501d0='</body></html>',_0x50f808=_0x1e8b4a+document[_0x36b664(0x85b)](_0x36b664(0x271))['innerHTML']+_0x3501d0,_0x588a3f='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x50f808),_0xa22416=document['createElement']('a');document[_0x36b664(0x45c)][_0x36b664(0xf8)](_0xa22416),_0xa22416['href']=_0x588a3f,_0xa22416[_0x36b664(0x4eb)]=getResultsFilename()+_0x36b664(0x408),_0xa22416[_0x36b664(0x5a1)](),document[_0x36b664(0x45c)][_0x36b664(0x5e2)](_0xa22416);}function exportResultsAsExcel(){const _0x540d2e=_0x4bb8e3,_0x366915=document[_0x540d2e(0x85b)](_0x540d2e(0x589));let _0x4cc5df=[];for(let _0x640089=0x0;_0x640089<_0x366915[_0x540d2e(0x198)]['length'];_0x640089++){let _0x1e80fb=[],_0x2e8c90=_0x366915['rows'][_0x640089][_0x540d2e(0x68b)](_0x540d2e(0x220));for(let _0x36b1d0=0x0;_0x36b1d0<_0x2e8c90['length'];_0x36b1d0++){_0x1e80fb[_0x540d2e(0x137)]('\x22'+_0x2e8c90[_0x36b1d0][_0x540d2e(0x1a0)][_0x540d2e(0x6ed)](/"/g,'\x22\x22')+'\x22');}_0x4cc5df[_0x540d2e(0x137)](_0x1e80fb[_0x540d2e(0x19b)](','));}const _0x54aebd=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x4cc5df[_0x540d2e(0x19b)]('\x0a')],{'type':_0x540d2e(0x268)}),_0x2b78a4=document[_0x540d2e(0x2e6)]('a');_0x2b78a4[_0x540d2e(0x154)]=URL[_0x540d2e(0x61a)](_0x54aebd),_0x2b78a4['download']=getResultsFilename()+_0x540d2e(0xfc),_0x2b78a4[_0x540d2e(0x5a1)]();}function exportTableAsImage(_0x56be92,_0x43c7ed){const _0x31fd00=_0x4bb8e3,_0x1ccde8=document[_0x31fd00(0x85b)](_0x56be92);if(!_0x1ccde8){showMessage(_0x31fd00(0x81a));return;}showMessage(_0x31fd00(0x395)),html2canvas(_0x1ccde8)['then'](_0x225caa=>{const _0x4a32b5=_0x31fd00,_0x41ff8c=document[_0x4a32b5(0x2e6)]('a');_0x41ff8c['download']=_0x43c7ed+'.png',_0x41ff8c[_0x4a32b5(0x154)]=_0x225caa['toDataURL']('image/png'),_0x41ff8c['click'](),messageModal['classList'][_0x4a32b5(0x15f)](_0x4a32b5(0x248));});}function exportTableAsPDF(_0x4dfe38,_0x1cb8e0){const _0xce9934=_0x4bb8e3,{jsPDF:_0x58c145}=window[_0xce9934(0x84c)],_0x568cac=new _0x58c145();_0x568cac['setFont'](_0xce9934(0x544),_0xce9934(0x55a)),_0x568cac[_0xce9934(0xe6)]({'html':'#'+_0x4dfe38}),_0x568cac[_0xce9934(0x28b)](_0x1cb8e0+_0xce9934(0x64d));}function exportTableAsWord(_0x511cc9,_0x173beb){const _0x41ff68=_0x4bb8e3,_0x2e8d4c=document['getElementById'](_0x511cc9);if(!_0x2e8d4c){showMessage(_0x41ff68(0x81a));return;}const _0x1b1c45='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x41ff68(0x484)+_0x41ff68(0x1d2)+_0x41ff68(0x35d),_0x60b6a3='</body></html>',_0x8ed6fe=_0x1b1c45+_0x2e8d4c[_0x41ff68(0x76f)]+_0x60b6a3,_0x438469=_0x41ff68(0x5fa)+encodeURIComponent(_0x8ed6fe),_0x5ef01e=document[_0x41ff68(0x2e6)]('a');document[_0x41ff68(0x45c)]['appendChild'](_0x5ef01e),_0x5ef01e['href']=_0x438469,_0x5ef01e[_0x41ff68(0x4eb)]=_0x173beb+_0x41ff68(0x408),_0x5ef01e['click'](),document[_0x41ff68(0x45c)][_0x41ff68(0x5e2)](_0x5ef01e);}function exportTableAsExcel(_0x592ab1,_0x578137){const _0x155f71=_0x4bb8e3,_0x2a7477=document[_0x155f71(0x85b)](_0x592ab1);if(!_0x2a7477){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x40ba10=[];for(let _0x2376e8=0x0;_0x2376e8<_0x2a7477[_0x155f71(0x198)][_0x155f71(0x689)];_0x2376e8++){let _0x2aed40=[],_0x87792a=_0x2a7477['rows'][_0x2376e8][_0x155f71(0x68b)](_0x155f71(0x220));for(let _0x3c1933=0x0;_0x3c1933<_0x87792a[_0x155f71(0x689)];_0x3c1933++){_0x2aed40['push']('\x22'+_0x87792a[_0x3c1933][_0x155f71(0x1a0)][_0x155f71(0x6ed)](/"/g,'\x22\x22')+'\x22');}_0x40ba10[_0x155f71(0x137)](_0x2aed40['join'](','));}const _0x586252=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x40ba10[_0x155f71(0x19b)]('\x0a')],{'type':_0x155f71(0x268)}),_0x4363fa=document[_0x155f71(0x2e6)]('a');_0x4363fa[_0x155f71(0x154)]=URL[_0x155f71(0x61a)](_0x586252),_0x4363fa[_0x155f71(0x4eb)]=_0x578137+_0x155f71(0xfc),_0x4363fa[_0x155f71(0x5a1)]();}function _0x23ba(){const _0x3efc58=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','answeredCurrentQuestion','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','interesting-stats-container','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','</p><p><strong>เฉลย:</strong>\x20','requestFullscreen','ดอกเบี้ยอย่างง่าย','คำถามถัดไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','input[type=\x22radio\x22]:checked','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<div>','ร้อยละประยุกต์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','38412zFEtOc','fa-shield-alt\x20text-gray-600','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','backgroundColor','totalPoints','rename-quiz-input','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','ส่งแล้ว','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x5ctext{$1}','quiz-results-view','toLowerCase','bg-emerald-100','deg','(คู่ขนาน)\x20','Invalid\x20response\x20structure\x20from\x20AI.','editor-quiz-topic','dragstart','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','text-green-600\x20font-bold','auto-fix-latex-btn','.cancel-edit-topic-btn','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','fromCharCode','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','multiple_choice','ตัวประกอบและตัวประกอบเฉพาะ','กำลังจับคู่...','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาป้อนรหัสแบบทดสอบ','suggestedAnswer','comparison-individual-tab','แผนการสอน','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','parts','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','scores','icon','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','ระบบสมการเชิงเส้นสองตัวแปร','มัธยฐาน','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','lineJoin','^{\x5ccirc}\x5ctext{C}$','Error\x20deleting\x20quiz:','AI\x20Fix\x20Error:','topic-input','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','</p><div>','answerText','mousemove','\x5csum','ตรวจทานเฉลยเสร็จสิ้น!','$1\x5c%','อัตราและอัตราหน่วย','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','json','show_results_and_answers','\x20\x20\x20-\x20คำตอบ:\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','.regenerate-question-editor-btn','settings','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22\x20class=\x22delete-project-btn\x20','canvas','progress-student-select','quiz-bank-modal','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','isScored','คะแนนเต็ม','behaviorLog','max','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','หมดเวลาสำหรับข้อนี้!','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2208308KzNGDE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**','scores-tab-content','list-view-btn','\x22\x20data-pre-test-id=\x22','fill','จับคู่เพื่อเปรียบเทียบผล','questions','สอบปกติ','fill_in_no_choices','text-green-600','ไม่ใช่','toISOString','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','color','Error\x20generating\x20parallel\x20post-test:','questionType','gain','pow','แผนการสอน:\x20','pointermove','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','passcode','then','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','textContent','.ai-fix-question-btn','\x22\x20ให้เป็นคำถามประเภท\x20\x22','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','text-gray-700','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-create-project-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','date_desc','.compare-results-btn','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','strokeStyle','font-bold\x20text-red-700\x20line-through','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22question','keys','$1\x20\x5cfrac','ไฮเพอร์โบลา','include-images-checkbox','querySelector','move-quiz-modal','opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','.lastAnswerCorrect','keydown','.correct-response-input','<i\x20class=\x22fas\x20fa-magic\x22></i>','toLocaleDateString','math-topics-checkbox-container','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','true','sum','modal-shuffle-select','teachingContent','</div><div\x20class=\x22space-y-2\x22>','correctAnswer','projectOrder','bg-green-500','ผู้ควบคุม\x20(ทดสอบ)','/questionBank','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','num-questions','submissions','now','bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log-tab-content','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','getAttributeNS','practiceProblems','readAsDataURL','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','isArray','\x20ข้อ\x20','learningGaps','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-project-select','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','STRING','Error\x20saving\x20settings:','ที่พิมพ์ได้\x20จำนวน\x20','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','N/A','ไม่พบแบบทดสอบในระบบเลย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','อัตราการเปลี่ยนแปลงทันที','.project-card-content','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badges','uid','stdDev','teacherSuggestions','ผลรวมอนุกรม\x20(Σ)','image/png','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','/public/data/projects','AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความเท่ากันทุกประการของสามเหลี่ยม','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','upperGroupResponders','pinnedProjects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','scale','การหาร','.ai-fix-formula-btn','</button>','text-emerald-900','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','เพิ่มหัวข้อ\x20\x22','question','player-list-lobby','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','quiz-editor-questions-container','text-green-700\x20bg-green-100','ไม่พบตารางสำหรับ\x20Export','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','(ก่อนเรียน)','student-reading-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','AI\x20แก้ไขคำถามสำเร็จ!','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cloneNode','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','explanation','rgba(79,\x2070,\x20229,\x200.8)','สร้างใหม่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','temp-loader-results','ทำคะแนนได้เกินครึ่ง','.generate-easy-version-btn','border-red-300\x20bg-red-50','lineWidth','blockReason','fa-dumbbell\x20text-gray-700','\x22>จาก:\x20','hasOwnProperty','next-question-btn','pop','addEventListener','bg-green-100\x20text-green-800','.live-summary-tooltip.visible','quizId','per-question-timer-container','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','reduce','.summary-bar-item','ยอดเยี่ยม!','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','/public/data/practiceBank','$1^{\x5ccirc}','ไม่สามารถเพิ่มนักเรียนได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','pen','game-pin-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','export-word-btn','Error\x20renaming\x20quiz:','jspdf','/submissions','manage-tab','tan','สรุปผลสุดท้าย','bg-red-500','stringify','border-red-700','check-presentation-answer-btn','ฟังก์ชันเชิงเส้นและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','request','default','getElementById','style','ON_FIRE','รอเปิด','</p></div>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','questionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','MathJax','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','stem','ปิดใช้งาน','http://www.w3.org/2000/svg','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','quiz-results','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','nickname-input','redo-btn','จำนวนและการดำเนินการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','authed_project_','การลบทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','generate-from-file-btn','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','ย้ายแบบทดสอบไปโปรเจคอื่น','.png','removeAttribute','FIRST_TRY_ACE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','tGain','rgba(59,\x20130,\x20246,\x200.7)','floor','far\x20fa-star','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','<p\x20class=\x22font-bold\x20text-sm\x20','confirmation-message','file-tab','top','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','worksheet-topic-input','กำลังสร้างคำถามข้อ\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','project-title','bank-input-area','\x20pointer-events-none\x22>','\x0a---\x0a','-tab-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','dragend','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','warn','artifacts/','presentation-slide-container','):\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','แคลคูลัสเบื้องต้น','all','update','[data-topic-container-id]','match','close-comparison-modal-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','comparison-overall-tab','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','frac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','prev-question-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.group','hover:bg-indigo-100','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','Error\x20displaying\x20question\x20bank:','checked','เกิดข้อผิดพลาดในการลบผลสอบ','remove','$1^{$2}','การจัดหมู่\x20(Combination)','back-to-student-initial-btn','เกิดข้อผิดพลาดในการปักหมุด',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','closest','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','documentElement','quiz-leaderboard-table-container','lower_group_count','แผนภาพเวนน์','.color-palette-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','.delete-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','bg-red-100','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','set','.pointsLastQuestion','ยังไม่เต็มนะ','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20quiz\x20edits:','ราชาคัมแบ็ก','เลือกและบันทึก','ไม่พบข้อมูลผู้ใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','/public/data/quizzes/','export-lesson-pdf-btn','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','file-upload-input','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','\x5csqrt{$1}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','.save-custom-topic-btn','generated-quiz-actions','document','toString','text-gray-400\x20hover:text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงทวินาม\x20(พื้นฐาน)','input[name=\x22drill_answer\x22]:checked','Error\x20generating\x20easy\x20version\x20quiz:','Error\x20saving\x20user\x20preference:','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','project-dashboard-view','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','tfrac','.sortable-header','forEach','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.parallel-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','2-digit','comparison-overall-content','touches','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-quiz-topic','trim','per_question','imageCode','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','data','จุด\x20เส้น\x20ระนาบ','$1^{\x5ccirc}\x5ctext{C}','.regenerate-question-btn','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','text-indigo-800','ไม่พบโปรเจค','application/json','\x20ชุดสำเร็จ!','border-green-300\x20bg-green-50','เศษส่วน\x20(ย่อ/ขยาย)','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','close-lesson-plan-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show-leaderboard-btn','export-leaderboard-word-btn','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','ลบโปรเจคสำเร็จแล้ว','Error\x20generating\x20parallel\x20test\x20from\x20bank:','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปลี่ยนชื่อแบบทดสอบสำเร็จ','input[name=\x22status-option\x22]','files','delete','isCorrect','presentation-scratchpad-btn','startTime','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','beginPath','function','dispatchEvent','autoTable','กำลังดึงข้อมูลจากลิงก์...','allResponses','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.star-quiz-btn','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','เส้นตรง:\x20ขนาน/ตั้งฉาก','ownerSVGElement','latestSubmittedAt','next-drill-btn','\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Error\x20saving\x20quiz:','เกิดข้อผิดพลาดในการติดดาว','type','answering','appendChild','perseverance','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','back-from-results-btn','.csv','thead\x20.sortable-header','export-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','target','Error\x20saving\x20project\x20order:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x5cdiv','beforeend','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','results-quiz-title','leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','lastAnswerCorrect','มุมพิเศษ\x2030°-60°-90°','AI\x20grading\x20failed:','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','export-worksheet-pdf-btn','.quiz-status-btn','FileReader\x20error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','.status','\x22\x20data-topic=\x22','devicePixelRatio','fix\x20the\x20option','bg-green-50','generate-from-text-btn','.submittedAt','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','onchange','num-choices-container','<br>','student-name-selection-view','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','view-my-progress-btn','submission-status-chart','การประยุกต์เวกเตอร์พื้นฐาน','question-complexity-select','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','touchend','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','start-live-race-generated-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','ARRAY','cancel-quiz-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PERFECT_SCORE','.answeredCurrentQuestion','correctAnswerIndex','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','close-student-rankings-btn','แบบเติมคำตอบ','rgba(16,\x20185,\x20129,\x200.7)','เรขาคณิตวิเคราะห์','starred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','idealAnswer','confirm-bulk-quiz-settings-btn','results','link-topic-input','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','live-submit-short-answer-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบซ่อมเสริม','clientY','ชนิดของข้อมูลและการเก็บข้อมูล','พบข้อสอบ\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','cancel-export-pdf-btn','drop','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบจากหัวข้อ...','timer-container','NUMBER','คัดลอกไม่สำเร็จ','href','isAdaptive','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','</div>\x0a</div>\x0a','message','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','flex','พีชคณิตและฟังก์ชัน','student-quiz-leaderboard-content','add','half_mark_status','touchmove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','wakeLock','text-gray-500','คัดลอกรหัสแล้ว!','qType','setAttribute','ref','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','create-project-modal','upper_group_count','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','drill-feedback','results-tab-content','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','difficulty-level-select','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','student-quiz-leaderboard-tab','padStart','earned-badges-container','จำนวนข้อ:','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','</strong></p>','save-settings-btn','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','บันทึกการตั้งค่าการแสดงผลสำเร็จ','_blank','สร้างแบบทดสอบปรนัย','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','passcode-prompt-message','visibilitychange','ทฤษฎีบทพื้นฐานของแคลคูลัส','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','ตารางความถี่','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบแบบทดสอบสำเร็จแล้ว','จากเนื้อหาต่อไปนี้:\x20\x22','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','leq','Authentication\x20failed:','modal-passing-score-input','copy-quiz-id-btn','#DBEAFE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includes','ระยะทางและจุดกึ่งกลาง','upperGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x22\x20data-q-type=\x22','Error\x20listening\x20for\x20projects:','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','rows','name_asc','.quiz-bank-present-btn','join','admin-try-quiz-btn','Original\x20quiz\x20not\x20found','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','.start-live-race-btn','innerText','\x5cs*\x5c(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','ปริพันธ์ไม่จำกัด','/public/data/quizzes','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','text-white','ฟังก์ชันแบบชิ้นส่วน','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','Error\x20listening\x20for\x20student\x20profiles:','.quiz-bank-move-btn','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','per-q-countdown','ระยะเวลา\x20(วินาที):','border-indigo-400\x20ring-2\x20ring-indigo-200','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','passing-score-input','leaderboard-tab','setTransform','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)</span></td>','back-to-home-manual-release','#E5E7EB','เกี่ยวกับหัวข้อ\x20\x22','\x22\x20value=\x22false\x22\x20','.option-text','thead','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','save-quiz-edits-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','height','Failed\x20to\x20create\x20initial\x20submission\x20record:','ai-quiz-app-aefee.firebaseapp.com','https://corsproxy.io/?','finishReason','/public/data/liveGames','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x5cge','ส่วนเบี่ยงเบนเฉลี่ย','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','lowerGroupResponders','close','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','scratchpad-clear-btn','showInStudentDashboard','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-100','exists','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','ความน่าจะเป็นแบบมีเงื่อนไข','whole_quiz','blueprint-tab','input[type=\x22text\x22]','อนุพันธ์:\x20ผลคูณ/ผลหาร','from','</option>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','student-progress-content','min','quiz-generation-area','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','div','disabled','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tooltipTarget','candidates','blueprint-input-area','outerHTML','msRequestFullscreen','ไม่พบข้อมูลการจับคู่','onerror','dragover','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','ผู้ไม่ยอมแพ้','circ','/users/','\x5ctimes','grid','<textarea\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','generate-worksheet-btn','rename-quiz-modal','310HfDfCT','scratchpad-canvas','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','visibilityState','link-input-area','.lastAnswerValue','manual_release','<div\x20class=\x22','(คัดลอก)\x20','parallel-test-tab','bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','contentEditable','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','timestamp','editable-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','scratchpad-question','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','file-input-area','back-to-dashboard-btn','Error\x20committing\x20score\x20updates:','pointercancel','.live-answer-btn','\x22\x20สำเร็จ','text-blue-700','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-game-final-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20resetting\x20project\x20order:','grid-view-btn','td,\x20th','G-V90KRM0L63','bg-blue-100\x20text-blue-800','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','.ideal-answer-input,\x20.correct-response-input','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','bg-red-200\x20text-red-800','ไม่พบข้อมูลข้อสอบหลังเรียน','div[data-question-index=\x22','button','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','open-scratchpad-btn','cancel-test-btn','_opt0\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-bookmark','toLocaleString','start-game-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','%</span>','latestScore','เกิดข้อผิดพลาดในการบันทึก','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','join-live-game-btn','confirm-delete-btn','th-TH','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','modal-timer-duration-input','insertBefore','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','entries','createdBy','.pin-project-btn','null','hidden','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','endTime','ไม่พบข้อมูลแบบทดสอบ','preScore','รีเซ็ตลำดับโปรเจคแล้ว','cancel-quiz-settings-btn','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','custom-math-topic-input','cancel-rename-quiz-btn','passingScore','perQuestionStats','has','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกสถานะ','not-found','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','write','perfect_score_status','การวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','lesson-plan-title','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','both','257873WFOHgv','อัปเดตสถานะสำเร็จ','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','generated-quiz-container','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/csv;charset=utf-8;','API\x20call\x20failed','cancel-quiz-status-btn','cancel-quiz-edits-btn','lobby','cos','เมทริกซ์:\x20บวก/คูณ','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x22\x20name=\x22drill_answer\x22\x20value=\x22','results-table-container','undefined','เกิดข้อผิดพลาด:\x20','submission','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','text-gray-300\x20hover:text-white','</div>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','ความเป็นอิสระของเหตุการณ์','<i\x20class=\x22fas\x20fa-pen\x22></i>','comparison','\x22\x20ซึ่งมีทั้งหมด\x20','bg-green-200','lesson-plan-modal','อสมการค่าสัมบูรณ์','modal-results-display-select','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','</h3>','isStarred','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','ยอดเยี่ยม','str','student-initial-view','bg-yellow-50','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กฎของโคไซน์','save','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','projectView','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','การเรียงสับเปลี่ยน\x20(Permutation)','องค์ประกอบของฟังก์ชัน','getBBox','Firebase\x20initialization\x20failed:','สมการตรีโกณมิติ','totalQuestions','projectSortOrder','open-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Re-grade\x20process\x20failed:','ค.ร.น.\x20(LCM)','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','.\x20แต่ละข้อมี\x20','.toggle-actions-btn','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','open','text-purple-600','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','STOP','ความต่อเนื่อง','firstScore','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','Error\x20deleting\x20custom\x20topic:','.quiz-bank-delete-btn','project-id-display','show_pass_fail_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-timed-btn','กรุณาเลือกคำตอบก่อนครับ','getItem','\x20รายการสำเร็จ!','154587nwlTtz','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','พื้นที่สี่เหลี่ยม','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','border-gray-200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','neq','table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันผกผัน','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','ค่าคลาดเคลื่อนของการวัด','no-projects-msg','smooth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','destination-out','projectSort','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dimmed','topic','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','\x20สำเร็จ','playerName','ตั้งเวลา\x20(เปิด)','true_false','คณิตศาสตร์','Error\x20verifying\x20answers:','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','textarea','password-error-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','(^|[^\x5c\x5c])\x5cb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','text-gray-200','Error\x20during\x20class\x20analysis:','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','</label>\x0a\x20\x20\x20\x20</div>\x0a','quiz-schedule-start-container','<tr\x20class=\x22','fixed','#FEE2E2','createElement','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','Error\x20toggling\x20pin\x20status:','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','live-short-answer-input','สรุปผลการวิเคราะห์:\x5cn','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','quiz-results-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','.lastAnswerIndex','ไม่สามารถเริ่มเกมได้','visible','.delete-submission-btn','Error\x20joining\x20live\x20game:','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','แบบทดสอบนี้หมดเวลาแล้ว',',\x20r=','แบบปรนัย\x204\x20ตัวเลือก','live-player-management','source-over','filter','mousedown','confirm-admin-login-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','สอบซ่อม','selected-topics-count','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','Error\x20deleting\x20submission:','ค่าความจริง/ตารางค่าความจริง','.move-quiz-btn','export-leaderboard-excel-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','bottom','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','.pen-size-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','get','#student-project-leaderboard-content\x20thead','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','อัปเดตการตั้งค่าของแบบทดสอบ\x20','standard','text/html','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20rendering\x20student\x20progress:','ไม่พบแบบทดสอบ','$1\x5cfrac','สร้างโปรเจคสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select-all-topics-btn','จำนวนคู่:','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-passcode-btn','force-math-checkbox','Error\x20starting\x20live\x20race:','.answer-text','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','globalSettings','contains','เกิดข้อผิดพลาดในการลบหัวข้อ','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','กรุณาป้อนหัวข้อสำหรับใบงาน','#FFFFFF','BOOLEAN','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปสี่เหลี่ยมและสมบัติ','short','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','student-list','studentName','quiz-leaderboard-table','getScreenCTM','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20comparing\x20results:','Error\x20updating\x20quiz\x20status:','.edit-question-btn','quizType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','promise','#F3E8FF','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','inactive','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','analyze-strengths-btn','mixed','bg-green-100','text-red-900','manage','map','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','pairedQuizId','ring-purple-400','isLooping','sin','delete-svg-btn','.generate-post-test-btn','```','podium','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','close-lesson-plan-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20updating\x20project\x20color:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','การกระจายและการจัดหมู่','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','ไม่ได้ตอบ','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','num-choices','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','ส่งคำตอบ','student-rankings-modal','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','results-display-select','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item[data-q-index=\x22','eraser','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x0a\x20\x20\x20\x20','confirm-quiz-settings-btn','parallel-test-upload-input','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','retake-quiz-loop-btn','lastAnswerIndex','Error\x20generating\x20worksheet:','ไม่มี','คณิตการเงิน/บูรณาการ','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenElement','วงรี','แบบทดสอบที่ติดดาว','\x22>ไม่ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-quiz-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-short-answer-input','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','load-quiz-btn','<h1></h1>','contents','fill_in_the_blank','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input','<div\x20class=\x22space-y-4\x22>','shuffle','quiz-search-input','Error\x20creating\x20project:','execCommand','random','student-join-game-view','วงกลม:\x20คอร์ดและเส้นสัมผัส','pointerdown','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','พื้นที่ผิวรูปทรงสามมิติ','กำลังสร้างรูปภาพ...','project-search-input','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','$1_{$2}','answer','value','.topic-name-display','Error\x20showing\x20quiz\x20detail\x20view:','empty','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','schedule','<div\x20id=\x22q-image-container-','.verification-result-editor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','presentation-ai-result','confirmation-modal','code','active','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','showImproveButton','ย้าย','shuffledQuiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','index','some','confirm-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','resultsDisplay','<span\x20class=\x22sort-indicator\x20ml-2\x22>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','.quiz-settings-btn','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','<p><strong>คำตอบที่แนะนำ:</strong>\x20','Error\x20loading\x20user\x20preferences:','.pen-color-btn[data-color=\x22#000000\x22]','overallGroups','strength-weakness-analysis-container','points','#ffffff','close-comparison-modal-footer-btn','svg','players.','global-live-game-count','bg-gray-50','text-green-700','stroke','deltaY','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','.duplicate-quiz-btn','\x20/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','toDate','quizMode','bank-quiz-list','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','สถิติและความน่าจะเป็น','submittedAt','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','MathJax\x20typeset\x20error\x20(analytics):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','ท็อปฟอร์ม','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','Error\x20deleting\x20student:','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','removeEventListener','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','times','quiz-end-time','27411472','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','กรุณาใส่ชื่อนักเรียน','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการสร้างห้องเกม','comparison-modal','toFixed','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','viewBox','element','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-delete-btn','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','.project-card-container[data-id]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin-view','สร้างคำถามใหม่\x201\x20ข้อ\x20','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x22\x20class=\x22pin-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','ไม่มีคำอธิบาย','commit','input[name=\x22status-option\x22]:checked','lessonPlan','<div\x20class=\x22loader\x20mx-auto\x22></div>','admin-password-input','instructions','</span>','การหารทศนิยม','duration-300','insertAdjacentHTML','จับคู่แบบทดสอบสำเร็จ!','short_answer','asc','student-quiz-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22','.doc','เกิดข้อผิดพลาดในการลบโปรเจค','touchcancel','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยเวลาและการคำนวณเวลา','การลบเศษส่วน','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','สร้างคำถามแบบเติมคำในช่องว่าง','quiz-status-options','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','quiz-leaderboard-table-body','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','restore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/learnedFixes','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x5c\x5c\x5c\x5c(?=(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20project\x20name:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ไม่สามารถโหลดข้อมูลอันดับได้','arrayBuffer','Error\x20duplicating\x20quiz:','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','total','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','presentation-explanation','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','lineCap','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','-\x20ข้อ\x20','countdown-display','class','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','จำนวนคละ','perfect_score','touchstart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','ไม่พบเอกสารการส่งงานของ\x20','list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','release','answers','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','ฟังก์ชันสัมพัทธ์\x20(rational)','round','เกิดข้อผิดพลาดในการอ่านไฟล์','classWeaknesses','การบวกทศนิยม','raw','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20custom\x20topic:','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความแปรปรวน','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','practice-topic-btn','ฮิสโตแกรม','#per-question-options\x20select','fill_in_with_choices','pre-test','lowerGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','players','Error\x20updating\x20sort\x20preference:','correctResponse','score','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','back-to-student-home-btn','student-progress-view','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','แก้ระบบสมการด้วยเมทริกซ์','body','#math-topics-checkbox-container\x20input:checked','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','.edit-custom-topic-btn','<div\x20class=\x22answer-space\x22></div>','isRemedial','modal-adaptive-quiz-checkbox','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','modal-timer-duration-label','รากที่สองและที่สาม','กำลังสร้างแบบทดสอบคู่ขนาน...','catch','\x20ช่อง','</span></p>','leaderboard-quiz','docs','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','export-leaderboard-pdf-btn','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','pointerup','พาราโบลา','student-view','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','Error\x20opening\x20quiz\x20editor:','<li>','/studentProfiles','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','wheel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','confirm-passcode-btn','Error\x20saving\x20submission:','.quiz-bank-parallel-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x22.\x20Ideal\x20Answer:\x20\x22','timer-mode-select','ส่วนเบี่ยงเบนมาตรฐาน','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','modal-message','stopPropagation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','getBoundingClientRect','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','ยังไม่ส่ง','specialist','เกิดข้อผิดพลาดในการสร้างใบงาน','modal-close-btn','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','name_desc','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','attempts','ร้อยละพื้นฐาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','คะแนนเต็ม!','options','.quiz-result-card','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ตัวเลือกผิดพลาด)','กรุณาใส่ชื่อโปรเจค','fa-user-astronaut\x20text-blue-700','คะแนนเฉลี่ย','category','parent','project-name-input','<div\x20class=\x22mb-3\x20topic-category\x22>','```json','students','parse','.delete-quiz-btn','Error\x20updating\x20old\x20quizzes:','รูปแบบการให้เหตุผล','student-quiz-leaderboard-table-body','user','cursor','getContext','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','live-game-view',')\x5cb)','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','clearRect','scratchpad-modal','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/customMathTopics','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correct','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-100','.delete-project-btn','toggle','</li>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x20รายการ...','log','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ข้อที่\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','key','isPinned','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','ตรวจคะแนนใหม่\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','fullscreenchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','ตัวแปรและนิพจน์','text-red-600','scratchpad-close-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ฟังก์ชันราก\x20(root)','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','loader-text','Error\x20fetching\x20projects\x20for\x20move:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','create-project-btn','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','keyup','grabbing','Error\x20fetching\x20quiz\x20settings:','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','workerSrc','generate-from-link-btn','_opt0\x22>ใช่</label></div>','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','preTScore','#26890c','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบสำเร็จ','cdot','download','scheduled_pending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','verify-answers-editor-btn','บันทึกแบบทดสอบสำเร็จแล้ว!','กราฟแท่ง\x20กราฟเส้น','ตอบถูกทุกข้อในแบบทดสอบนี้','generate-from-parallel-test-btn','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','check-answer-btn','<button\x20id=\x22','summary_chart','behavior-log','student-result-area','-tab','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','การคูณเศษส่วน','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','ลำดับการดำเนินการ\x20(PEMDAS)','text-green-800','.isScored',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','Error\x20toggling\x20star\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.question-editor-item','values','text-red-300\x20hover:text-red-100','badgesCount','label','desc','toDataURL','slice','save-quiz-btn','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','</p>','quiz-editor-modal','ควรปรับปรุง','currentTarget','กราฟฟังก์ชันตรีโกณ','preventDefault','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','circle','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','ตรวจพบการออกจากหน้าจอครบ\x20','on_fire','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','delete-all-students-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20get\x20hint:','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','Copy\x20command\x20failed','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','_opt1\x22\x20name=\x22question','project-list','answer-grid-container','text','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สร้างชุดคำถามจับคู่','admin','จำนวนนักเรียน','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.topic-category','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','\x20ชุด)','confirm-quiz-status-btn','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','</span></td>','<tr><td\x20colspan=\x22','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','loopUntilPass','text-red-800','_opt','\x22,\x20','update-old-quizzes-btn','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','post-test','การบวก','msExitFullscreen','closePath','select','timerDuration','.topic-actions-edit','typesetPromise','บันทึกการตั้งค่าแล้ว','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','helvetica','AI\x20ไม่สามารถประมวลผลข้อมูลได้','รูปหลายเหลี่ยมและมุมภายใน','.topic-actions-view','ยืนยันการกระทำ','enable-passcode-checkbox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','student-name-input','กฎบวกและกฎคูณ','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','position','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','(ก่อนเรียน)\x20','Failed\x20to\x20get\x20standardized\x20topic:','test','dfrac','show_results_only','488784hLMuWN','binom','บันทึกคำถามใหม่\x20','shuffle-setting-select','normal','name','อสมการเชิงเส้น','.pair-quiz-btn','none','after','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','generate-from-blueprint-btn','หลังเรียน','</span></div>','q-text-','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','.pen-color-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mean','admin-dashboard','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','Error\x20starting\x20game:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','จำนวนเต็มบวก','button[data-id]','\x22...','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','1:274192258111:web:4120c9118229b5644dd48a','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','ตรีโกณมิติ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-presentation-btn','geq','กำลังสแกนหาแบบทดสอบเก่า...','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','analytics-summary-cards','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','tool','quiz-bank-count','การบวกเศษส่วน','fas\x20fa-star\x20text-yellow-500','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','btn','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','ชื่อโปรเจคห้ามว่าง','\x22\x20data-name=\x22','gamePin','string','fa-fire\x20text-orange-500','results-table','bg-amber-100\x20text-amber-800','$$$1$','input[type=\x22checkbox\x22]','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','quiz-schedule-end-container','questionId','passcode-error-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x20\x0a\x20\x20\x20\x20','export-tutor-pdf-btn','qIndex','projectId','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x20mb-2\x22>','.save-to-bank-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','quick_thinker','getTextContent','click','timerMode','localeCompare','\x5cle','เงินงวด\x20(อนุกรมเงินงวด)','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','คะแนน','\x5cfrac{','q-image-container-','topic-input-area','เกิดข้อผิดพลาดในการนำผู้เล่นออก','modal-loop-until-pass-checkbox','#e21b3c','.quiz-bank-settings-btn','standardTopic','afterend','สัญกรณ์วิทยาศาสตร์','ระบบอสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','focus','getDocument','loader','flex\x20flex-col\x20gap-2','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x22\x20เพื่อสร้างชุดคู่ขนาน...','quiz-type-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cpm','analytics','#results-table\x20thead\x20tr','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','AI\x20request\x20was\x20blocked.\x20Reason:\x20','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','\x20คู่\x20','classStrengths','hint-btn','Invalid\x20response\x20structure\x20from\x20AI:','confirm-rename-quiz-btn','ring-2','save-project-name-btn','startedAt','add-student-btn','3913280eYwNtv','การแจกแจงปกติและ\x20z-score','#10B981','\x22><i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','exitFullscreen','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bestScore','text-indigo-600','การแยกตัวประกอบ','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','export-leaderboard-image-btn','Error\x20generating\x20quiz:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-results-display-select','open-quiz-bank-btn','bank-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','sqrt','removeChild','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','Error\x20generating\x20from\x20link:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','bar','/preferences/main','border-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','POST','start-quiz-btn','/public/data/projects/','scheduled','Error\x20fetching\x20student\x20rankings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','สมการราก\x20(radical)','global-quiz-search-input','split','createElementNS','.delete-svg-btn','ผู้เชี่ยวชาญ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','data:application/vnd.ms-word;charset=utf-8,','translate','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-id-input','Error\x20updating\x20quiz\x20settings:','scratchpad-options','generate-from-topic-btn','<svg','cancel-bulk-quiz-settings-btn','export-pdf-modal','COMEBACK_KING','user-id-display','หัวข้อที่สร้างเอง','dashboardConfig','content','text-yellow-300','student-name-select','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','ค่าเสื่อมราคา','error','show-in-student-dashboard-checkbox','eraser-tool-btn','mjx-container','export-compact-pdf-btn','clientX','การคูณทศนิยม','เส้นตรง:\x20รูปแบบสมการ','#000000','modal-timer-mode-select','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','createObjectURL','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','<div\x20class=\x22flex-1\x22></div>','mouseup','width','medium','passcode-input-container','mode-switcher-btn','ก่อนเรียน','project-passcode-input','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','จำนวนเชิงซ้อน\x20(เสริม)','analytics-tab-btn','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option>กำลังโหลดโปรเจค...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','(หลังเรียน)\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','.ideal-answer-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','live-options-container','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','webkitRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฐานนิยม','Error\x20listening\x20for\x20starred\x20quizzes:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','project-detail','destroy','.admin-try-quiz-list-btn','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','bulk-loop-until-pass-checkbox','button[type=\x22submit\x22]','การยืนยันตัวตนล้มเหลว','substring','อัปเดตพฤติกรรมสำหรับ\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','getPage','สร้างคำถามแบบใช่/ไม่ใช่','เส้นจำนวน','สมการลอการิทึม','สำหรับโปรเจค:\x20','\x22.\x20','bg-green-200\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','.pdf','font-bold\x20text-green-700','text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','showRankings','status','กรุณาเลือกชื่อของคุณ','ฟังก์ชันกำลังสองและกราฟ','first_try_ace','อัตราส่วนและสัดส่วน','ใช่','เกิดข้อผิดพลาดในการเปลี่ยนสี','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','.draggable-text','<i\x20class=\x22fas\x20fa-save\x22></i>','หมดเวลา!\x20กำลังส่งคำตอบ...','questionIndex','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','slide-counter','isPasscodeEnabled','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','goto-next-question-btn','<span\x20title=\x22','(เลือกแล้ว\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','admin-testing','ฟังก์ชันพหุนาม','resize','00:00','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','พิสัย','#E0E7FF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','createdAt','274192258111','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','คำเตือน\x20(','Error\x20processing\x20file\x20for\x20AI:','currentQuestionIndex','sort','q-explanation-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','pinned-items','OBJECT','text-emerald-800','.presentation-option','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','.export-pdf-list-btn','อินเวอร์สของเมทริกซ์',';\x22\x20data-id=\x22','ไม่ผ่าน','API\x20call\x20failed\x20with\x20status:\x20','student-project-leaderboard-content','find','print','length','QUICK_THINKER','querySelectorAll','scrollIntoView','Failed\x20to\x20kick\x20player\x20','onclick','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','live-game','attemptNumber','2720151kyAMKa','การปัดเศษและประมาณค่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าเฉลี่ย','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ผิด','questionStatus','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','targetId','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','promptFeedback','matching_item','katex','<div\x20class=\x22my-6\x22>','bank-quiz-search-input','text-red-700\x20bg-red-100','\x20ตัวเลือก.\x20','project-quizzes-list','Enter','Error\x20deleting\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-from-bank-btn','.scratchpad-content-wrapper','ข้อต่อไป','justification','ศูนย์','อนุพันธ์:\x20กฎพื้นฐาน','quiz-form','project-sort-select','size','findIndex','เซียนสมองไว','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','cancel-move-quiz-btn','postScore','แบบทดสอบจากคลังส่วนตัว','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','ฟังก์ชันยกกำลัง','<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fa-rocket\x20text-purple-500','results_','\x5cfrac{$1}{$2}','ai-quiz-generator-v3','description','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.topic-name-input','\x20จาก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','student-passcode-input','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','ai-quiz-app-aefee','hint','bg-red-100\x20text-red-800','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','พื้นที่สามเหลี่ยม','startsWith','manage-tab-content','text-yellow-800','global-quiz-list','สุดยอด!\x20ตอบถูกทุกข้อ','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x5cneq','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log-tab-btn','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','display','$1\x5ctext(','</form>','global-live-game-modal','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการอัปเดต:\x20','undo-btn','block','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','matching','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','setFont','moveTo','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','replace','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','back-to-dashboard-from-results-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','pen-tool-btn','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','6MAgyfh','การคูณ','project-passcode-modal','เกิดข้อผิดพลาดในการลบนักเรียน','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','editable-quiz-topic','copy','กฎของไซน์','timer-duration-input','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','indexOf','Remedial\x20quiz\x20generation\x20failed:','ยืนยันการจับคู่','cancel-quiz-edits-btn-footer','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','offsetWidth','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','webkitExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','เรขาคณิต','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','scores-tab-btn','pre-test-checkbox','จัดการ','originalQuestionText','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','<div><input\x20type=\x22radio\x22\x20id=\x22q','#per-question-options\x20textarea','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','bulk-quiz-settings-modal','.choice-text','dataset','classList','\x5cfrac','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','progress-project-select','ผ่าน','quiz','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','left','quiz-start-time','.quiz-bank-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22','solution','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','link-url-input','line-through\x20text-red-700','<div\x20class=\x22my-2\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','comparison-chart','<li\x20class=\x22','สมการเหตุผล\x20(rational)','_opt1\x22>ไม่ใช่</label></div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','fixedData'];_0x23ba=function(){return _0x3efc58;};return _0x23ba();}function renderAnalytics(_0x2ecf3e,_0x539143){const _0x5048f6=_0x4bb8e3,_0x3e7fcf=_0x539143['filter'](_0x55a9b7=>_0x55a9b7[_0x5048f6(0x237)]!==undefined),_0x757d26=currentProjectData[_0x5048f6(0x4a4)][_0x5048f6(0x689)],_0x57fa7d=_0x3e7fcf['length'],_0x438d6a=_0x757d26-_0x57fa7d,_0x2d7ee8=_0x757d26>0x0?_0x57fa7d/_0x757d26*0x64:0x0,_0xbd94ed=_0x3e7fcf['map'](_0x41d745=>_0x41d745[_0x5048f6(0x237)]),_0xa5b089=_0xbd94ed['length']>0x0?_0xbd94ed[_0x5048f6(0x83e)]((_0x187123,_0x3b565b)=>_0x187123+_0x3b565b,0x0)/_0xbd94ed[_0x5048f6(0x689)]:0x0,_0x414317=_0x2ecf3e[_0x5048f6(0x79e)][_0x5048f6(0x689)],_0x1f1d51=_0x414317>0x0?_0xa5b089/_0x414317*0x64:0x0,_0x498b01=calculateItemAnalysis(_0x2ecf3e,_0x3e7fcf),_0x486021=calculateReliabilityKR20(_0x2ecf3e,_0x3e7fcf,_0x498b01[_0x5048f6(0x256)]);let _0x128ed3='';if(_0x486021!==null){let _0x1b7791='';if(_0x486021>=0.9)_0x1b7791=_0x5048f6(0x285);else{if(_0x486021>=0.8)_0x1b7791='ดีมาก';else{if(_0x486021>=0.7)_0x1b7791='ดี';else{if(_0x486021>=0.6)_0x1b7791='พอใช้';else _0x1b7791=_0x5048f6(0x511);}}}_0x128ed3=_0x5048f6(0x4d0)+_0x486021['toFixed'](0x2)+_0x5048f6(0x678)+_0x1b7791+_0x5048f6(0x861);}const _0x3db3a2=document[_0x5048f6(0x85b)](_0x5048f6(0x57a));_0x3db3a2[_0x5048f6(0x76f)]=_0x5048f6(0x17f)+_0x2d7ee8['toFixed'](0x0)+_0x5048f6(0x4e1)+_0x57fa7d+'/'+_0x757d26+_0x5048f6(0x1e8)+_0xa5b089['toFixed'](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x1f1d51[_0x5048f6(0x3e8)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0xbd94ed[_0x5048f6(0x689)]>0x0?Math[_0x5048f6(0x790)](..._0xbd94ed):'N/A')+_0x5048f6(0x493)+(_0xbd94ed['length']>0x0?Math[_0x5048f6(0x1e6)](..._0xbd94ed):_0x5048f6(0x7f5))+_0x5048f6(0x3f1)+_0x128ed3+_0x5048f6(0x36a);const _0x3d2d3f=document[_0x5048f6(0x85b)]('interesting-stats-wrapper');_0x3d2d3f&&_0x3d2d3f['remove']();const _0x2ce305=_0x5048f6(0x8a7);_0x3db3a2['insertAdjacentHTML'](_0x5048f6(0x5b0),_0x2ce305);const _0x5b78c7=currentProjectData[_0x5048f6(0x4a4)]||[];renderSubmissionChart(_0x57fa7d,_0x438d6a,_0x3e7fcf,_0x5b78c7),renderScoreDistributionChart(_0x3e7fcf,_0x414317),renderQuestionAnalytics(_0x2ecf3e,_0x3e7fcf,_0x5b78c7),renderInterestingStats(_0x2ecf3e,_0x3e7fcf);}async function handleExportLessonPDF(){const _0x3d13c9=_0x4bb8e3,_0x5d675b=document[_0x3d13c9(0x85b)]('lesson-plan-content'),_0x3674e9=document['getElementById'](_0x3d13c9(0x260))[_0x3d13c9(0x7b1)],_0x3260f0=window[_0x3d13c9(0x2a1)]('',_0x3d13c9(0x17c)),_0x1b5928=_0x3d13c9(0x355)+_0x3674e9+_0x3d13c9(0x21b)+_0x5d675b['innerHTML']+_0x3d13c9(0x69c);_0x3260f0['document']['write'](_0x1b5928),_0x3260f0['document'][_0x3d13c9(0x1d4)](),_0x3260f0[_0x3d13c9(0x422)]=function(){setTimeout(()=>{const _0x3a303b=_0x2cb1;_0x3260f0[_0x3a303b(0x688)]();},0x5dc);};}function renderInterestingStats(_0x56d40a,_0x28fe31){const _0x5f7891=_0x4bb8e3,_0x19d700=document[_0x5f7891(0x85b)](_0x5f7891(0x733));if(!_0x19d700)return;if(_0x28fe31['length']===0x0){_0x19d700[_0x5f7891(0x76f)]=_0x5f7891(0x5a6);return;}const _0x4ed553=_0x56d40a[_0x5f7891(0x79e)]['map']((_0x359aa1,_0x1ddc6e)=>({'index':_0x1ddc6e+0x1,'text':_0x359aa1[_0x5f7891(0x862)]||_0x359aa1[_0x5f7891(0x866)],'correct':0x0}));_0x28fe31[_0x5f7891(0xb5)](_0x454c23=>{const _0x47a312=_0x5f7891,_0x178706=_0x454c23[_0x47a312(0x491)][_0x454c23[_0x47a312(0x491)][_0x47a312(0x689)]-0x1];_0x178706&&_0x178706[_0x47a312(0x43c)]&&_0x178706[_0x47a312(0x43c)]['forEach'](_0x42b0b0=>{const _0x542e17=_0x47a312,_0x3602f7=_0x4ed553[_0x542e17(0x687)](_0x1ce32a=>_0x1ce32a['text']===_0x42b0b0[_0x542e17(0x710)]);_0x42b0b0['isCorrect']&&_0x3602f7&&_0x3602f7[_0x542e17(0x4b7)]++;});});const _0x2366a6=_0x28fe31[_0x5f7891(0x689)],_0x41039d=Math[_0x5f7891(0x790)](..._0x4ed553[_0x5f7891(0x347)](_0x55abe3=>_0x55abe3['correct'])),_0x2e7e90=Math[_0x5f7891(0x1e6)](..._0x4ed553[_0x5f7891(0x347)](_0x4c18d1=>_0x4c18d1[_0x5f7891(0x4b7)])),_0x5d47eb=_0x4ed553['filter'](_0x13db5d=>_0x13db5d[_0x5f7891(0x4b7)]===_0x41039d)[_0x5f7891(0x347)](_0x47a43a=>'ข้อ\x20'+_0x47a43a[_0x5f7891(0x3ae)]),_0x51be46=_0x4ed553[_0x5f7891(0x2fe)](_0x12e981=>_0x12e981[_0x5f7891(0x4b7)]===_0x2e7e90)[_0x5f7891(0x347)](_0x3a004c=>'ข้อ\x20'+_0x3a004c[_0x5f7891(0x3ae)]),_0x50621d=_0x28fe31[_0x5f7891(0x676)]((_0x173876,_0x1dcc9f)=>_0x1dcc9f['latestScore']-_0x173876[_0x5f7891(0x237)])[_0x5f7891(0x2fe)]((_0x1654e3,_0x5d4775,_0x160c3f)=>_0x1654e3['latestScore']===_0x160c3f[0x0][_0x5f7891(0x237)]),_0x22d705=_0x28fe31[_0x5f7891(0x676)]((_0x505e83,_0x2f10a1)=>_0x505e83[_0x5f7891(0x237)]-_0x2f10a1[_0x5f7891(0x237)])['filter']((_0x2866ce,_0x5818a6,_0x461530)=>_0x2866ce[_0x5f7891(0x237)]===_0x461530[0x0][_0x5f7891(0x237)]),_0x34b16d=_0x5f7891(0x3f6)+_0x5d47eb[_0x5f7891(0x19b)](',\x20')+_0x5f7891(0x1f5)+_0x41039d+'\x20/\x20'+_0x2366a6+_0x5f7891(0x7ca)+_0x51be46[_0x5f7891(0x19b)](',\x20')+_0x5f7891(0x1f5)+(_0x2366a6-_0x2e7e90)+_0x5f7891(0x3cb)+_0x2366a6+_0x5f7891(0x7e4)+_0x50621d[_0x5f7891(0x347)](_0x292c66=>_0x292c66[_0x5f7891(0x333)])[_0x5f7891(0x19b)](',\x20')+_0x5f7891(0x893)+_0x50621d[0x0][_0x5f7891(0x237)]+_0x5f7891(0x2a4)+_0x22d705[_0x5f7891(0x347)](_0x2e1929=>_0x2e1929[_0x5f7891(0x333)])[_0x5f7891(0x19b)](',\x20')+_0x5f7891(0x893)+_0x22d705[0x0][_0x5f7891(0x237)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x19d700[_0x5f7891(0x76f)]=_0x34b16d;}function renderSubmissionChart(_0x535f12,_0x4d1131,_0x4518ad,_0x2f52f6){const _0xeb4120=_0x4bb8e3,_0x23aa08=document['getElementById'](_0xeb4120(0x125))[_0xeb4120(0x4ac)]('2d'),_0x374741=_0x4518ad[_0xeb4120(0x347)](_0x2b67db=>_0x2b67db[_0xeb4120(0x333)]),_0x495dfb=_0x2f52f6['filter'](_0x548997=>!_0x374741[_0xeb4120(0x190)](_0x548997));chartInstances[_0xeb4120(0x274)]&&chartInstances[_0xeb4120(0x274)][_0xeb4120(0x63c)](),chartInstances[_0xeb4120(0x274)]=new Chart(_0x23aa08,{'type':'doughnut','data':{'labels':[_0xeb4120(0x74a),_0xeb4120(0x48a)],'datasets':[{'data':[_0x535f12,_0x4d1131],'backgroundColor':[_0xeb4120(0x5d0),'#F59E0B'],'borderColor':[_0xeb4120(0x3bf),_0xeb4120(0x3bf)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0xeb4120(0x30c)},'tooltip':{'callbacks':{'label':function(_0x57e3fc){const _0x5e2b04=_0xeb4120;let _0x3fefeb=_0x57e3fc[_0x5e2b04(0x509)]||'';return _0x3fefeb&&(_0x3fefeb+=':\x20'),_0x3fefeb+=_0x57e3fc[_0x5e2b04(0x443)],_0x3fefeb;},'afterLabel':function(_0x5a4b29){const _0x4d3c25=_0xeb4120;let _0x2ffba3;return _0x5a4b29['dataIndex']===0x0?_0x2ffba3=_0x374741:_0x2ffba3=_0x495dfb,_0x2ffba3[_0x4d3c25(0x689)]>0x0?_0x2ffba3[_0x4d3c25(0x19b)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x210f4b,_0xda1d27){const _0x11952b=_0x4bb8e3,_0x1d6f96=document['getElementById']('score-distribution-chart')[_0x11952b(0x4ac)]('2d'),_0x82f78f={};for(let _0x2751a8=0x0;_0x2751a8<=_0xda1d27;_0x2751a8++){_0x82f78f[_0x2751a8]=0x0;}_0x210f4b[_0x11952b(0xb5)](_0x502fdc=>{const _0x5e69b4=_0x11952b;_0x82f78f[_0x502fdc[_0x5e69b4(0x237)]]!==undefined&&_0x82f78f[_0x502fdc[_0x5e69b4(0x237)]]++;}),chartInstances[_0x11952b(0x454)]&&chartInstances['score'][_0x11952b(0x63c)](),chartInstances[_0x11952b(0x454)]=new Chart(_0x1d6f96,{'type':'bar','data':{'labels':Object[_0x11952b(0x7c2)](_0x82f78f),'datasets':[{'label':_0x11952b(0x528),'data':Object[_0x11952b(0x506)](_0x82f78f),'backgroundColor':_0x11952b(0x82a),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x11952b(0x5a7)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x5a25bd){const _0x3cbe5f=_0x11952b,_0x102463=_0x5a25bd[_0x3cbe5f(0x509)],_0x133356=_0x210f4b[_0x3cbe5f(0x2fe)](_0x988f23=>_0x988f23[_0x3cbe5f(0x237)]==_0x102463)[_0x3cbe5f(0x347)](_0x5d6e80=>_0x5d6e80[_0x3cbe5f(0x333)]);return _0x133356[_0x3cbe5f(0x689)]>0x0?_0x133356['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x50e57a,_0x3eb042,_0x15e016){const _0x5b9a71=_0x4bb8e3,_0x1d0a73=document[_0x5b9a71(0x85b)]('question-analytics-container');if(_0x15e016[_0x5b9a71(0x689)]===0x0){_0x1d0a73[_0x5b9a71(0x76f)]=_0x5b9a71(0x2b4);return;}const _0x524281=calculateItemAnalysis(_0x50e57a,_0x3eb042),_0x4be5e5=calculateDistractorAnalysis(_0x50e57a,_0x3eb042);let _0x4190e4='';_0x524281[_0x5b9a71(0x3bc)]&&(_0x4190e4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x524281['overallGroups'][_0x5b9a71(0x192)][_0x5b9a71(0x689)]+_0x5b9a71(0x267)+_0x524281[_0x5b9a71(0x3bc)][_0x5b9a71(0x192)][_0x5b9a71(0x347)](_0x18007e=>_0x5b9a71(0x476)+_0x18007e+'</li>')[_0x5b9a71(0x19b)]('')+_0x5b9a71(0x64c)+_0x524281[_0x5b9a71(0x3bc)][_0x5b9a71(0x44f)][_0x5b9a71(0x689)]+_0x5b9a71(0x267)+_0x524281[_0x5b9a71(0x3bc)][_0x5b9a71(0x44f)][_0x5b9a71(0x347)](_0x320bbf=>_0x5b9a71(0x476)+_0x320bbf+_0x5b9a71(0x4bd))[_0x5b9a71(0x19b)]('')+_0x5b9a71(0x138));let _0x5919dd='';const _0x46b444=_0x3eb042[_0x5b9a71(0x347)](_0x2bec1e=>_0x2bec1e[_0x5b9a71(0x333)]),_0x28c83c=_0x1d2b46=>{const _0x503555=_0x5b9a71;if(_0x1d2b46>=0.8)return _0x503555(0x766);if(_0x1d2b46>=0.6)return _0x503555(0x1e4);if(_0x1d2b46>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x1d2b46>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x503555(0x7b7);},_0x3a7f73=_0xf8dd3=>{const _0x4c0cb1=_0x5b9a71;if(_0xf8dd3<0x0)return _0x4c0cb1(0x5f9);if(_0xf8dd3>=0.4)return _0x4c0cb1(0xd5);if(_0xf8dd3>=0.3)return _0x4c0cb1(0x299);if(_0xf8dd3>=0.2)return _0x4c0cb1(0x30b);return _0x4c0cb1(0x37c);},_0x5def64=_0x2db091=>{const _0x114b59=_0x5b9a71,_0x1a4b68=_0x2db091['toFixed'](0x0);if(parseFloat(_0x1a4b68)===0x64)return _0x114b59(0x6e1)+_0x1a4b68+_0x114b59(0x236);if(_0x2db091>=0x32)return _0x114b59(0x90)+_0x1a4b68+_0x114b59(0x236);return _0x114b59(0x6b3)+_0x1a4b68+_0x114b59(0x236);};_0x50e57a[_0x5b9a71(0x79e)]['forEach']((_0xba18a6,_0x3c80db)=>{const _0x4b3edf=_0x5b9a71,_0x44d8fd=_0x524281[_0x4b3edf(0x256)][_0x3c80db],_0x176ab6=_0x4be5e5[_0x3c80db],_0x176713=_0xba18a6[_0x4b3edf(0x866)]||_0xba18a6[_0x4b3edf(0x862)]||_0xba18a6[_0x4b3edf(0x3fd)];let _0x5508ab=0x0;const _0x60db4=[],_0x110061=[];_0x3eb042[_0x4b3edf(0xb5)](_0x5e6b3a=>{const _0x5c97a4=_0x4b3edf,_0x268a50=_0x5e6b3a[_0x5c97a4(0x491)][_0x5e6b3a[_0x5c97a4(0x491)][_0x5c97a4(0x689)]-0x1];if(_0x268a50&&_0x268a50[_0x5c97a4(0x43c)]){const _0x16f343=_0x268a50[_0x5c97a4(0x43c)][_0x5c97a4(0x687)](_0x37b1f4=>_0x37b1f4[_0x5c97a4(0x710)]===_0x176713)??_0x268a50['answers'][_0x3c80db]??null;_0x16f343&&(_0x16f343[_0x5c97a4(0xdf)]?(_0x5508ab++,_0x60db4[_0x5c97a4(0x137)](_0x5e6b3a['studentName'])):_0x110061[_0x5c97a4(0x137)](_0x5e6b3a[_0x5c97a4(0x333)]));}});const _0x5aa171=_0x3eb042[_0x4b3edf(0x689)]>0x0?_0x5508ab/_0x3eb042['length']*0x64:0x0,_0x2d7ac5=_0x15e016['filter'](_0x3c694e=>!_0x46b444[_0x4b3edf(0x190)](_0x3c694e)),_0x1fc60a=_0x44d8fd?_0x4b3edf(0x880)+_0x44d8fd['p'][_0x4b3edf(0x3e8)](0x2)+_0x4b3edf(0x778)+_0x28c83c(_0x44d8fd['p'])+_0x4b3edf(0x4c9)+_0x44d8fd['r'][_0x4b3edf(0x3e8)](0x2)+_0x4b3edf(0x778)+_0x3a7f73(_0x44d8fd['r'])+_0x4b3edf(0x18f)+_0x5def64(_0x5aa171)+_0x4b3edf(0x112):'';let _0xd749d3='';_0x176ab6&&(_0xd749d3=_0x4b3edf(0x2da)+Object[_0x4b3edf(0x7c2)](_0x176ab6)[_0x4b3edf(0x347)](_0x4e7467=>{const _0x5c0b36=_0x4b3edf,_0x5e5818=_0x176ab6[_0x4e7467],_0x1c8892=parseInt(_0x4e7467)===_0xba18a6[_0x5c0b36(0x136)],_0x250a11=!_0x1c8892&&_0x5e5818[_0x5c0b36(0x8bb)]>_0x5e5818['upper_group_count'];return _0x5c0b36(0x2e3)+(_0x1c8892?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x1c8892?'✔\x20':'')+_0x5e5818[_0x5c0b36(0x524)]+_0x5c0b36(0x46c)+_0x5e5818[_0x5c0b36(0x16b)]+_0x5c0b36(0x46c)+_0x5e5818[_0x5c0b36(0x8bb)]+'\x20'+(_0x250a11?'👍':'')+_0x5c0b36(0x46c)+_0x5e5818['total']+'</td></tr>';})['join']('')+_0x4b3edf(0x450));let _0x5b15b1='';_0x44d8fd&&_0x44d8fd[_0x4b3edf(0x80b)]&&(_0x5b15b1=_0x4b3edf(0x251)+_0x44d8fd[_0x4b3edf(0x80b)]['length']+_0x4b3edf(0x58d)+_0x44d8fd[_0x4b3edf(0x80b)][_0x4b3edf(0x347)](_0x405630=>'<li>'+(_0x405630[_0x4b3edf(0xdf)]?_0x4b3edf(0xb2):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x405630[_0x4b3edf(0x55b)]+_0x4b3edf(0x4bd))[_0x4b3edf(0x19b)]('')+_0x4b3edf(0x3c9)+_0x44d8fd[_0x4b3edf(0x1d3)][_0x4b3edf(0x689)]+_0x4b3edf(0x58d)+_0x44d8fd[_0x4b3edf(0x1d3)][_0x4b3edf(0x347)](_0x840935=>_0x4b3edf(0x476)+(_0x840935[_0x4b3edf(0xdf)]?_0x4b3edf(0xb2):_0x4b3edf(0x281))+'\x20'+_0x840935[_0x4b3edf(0x55b)]+_0x4b3edf(0x4bd))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x5919dd+=_0x4b3edf(0x1c7)+(_0x3c80db+0x1)+':\x20'+_0x176713+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x1fc60a+_0x4b3edf(0x88d)+_0x176713+_0x4b3edf(0x777)+_0x5508ab+_0x4b3edf(0x6c5)+_0x3eb042[_0x4b3edf(0x689)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x5aa171[_0x4b3edf(0x3e8)](0x0)+_0x4b3edf(0x3c8)+_0x60db4[_0x4b3edf(0x689)]+_0x4b3edf(0x429)+(_0x60db4[_0x4b3edf(0x689)]>0x0?_0x60db4['join'](',\x20'):_0x4b3edf(0x372))+_0x4b3edf(0x793)+_0x110061[_0x4b3edf(0x689)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x110061[_0x4b3edf(0x689)]>0x0?_0x110061['join'](',\x20'):_0x4b3edf(0x372))+_0x4b3edf(0x8b7)+_0x2d7ac5['length']+_0x4b3edf(0x429)+(_0x2d7ac5[_0x4b3edf(0x689)]>0x0?_0x2d7ac5[_0x4b3edf(0x19b)](',\x20'):_0x4b3edf(0x372))+_0x4b3edf(0x32e)+_0xd749d3+_0x4b3edf(0x12b)+_0x5b15b1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1d0a73[_0x5b9a71(0x76f)]=_0x4190e4+_0x5919dd;try{window[_0x5b9a71(0x864)]&&MathJax[_0x5b9a71(0x540)]&&MathJax[_0x5b9a71(0x540)]([_0x1d0a73]);}catch(_0x37d31e){console[_0x5b9a71(0x60f)](_0x5b9a71(0x3d7),_0x37d31e);}}function calculateDistractorAnalysis(_0x229793,_0x2eb830){const _0x2e2644=_0x4bb8e3,_0x20f30b={};if(_0x2eb830['length']<0x2)return _0x20f30b;const _0x2f6508=[..._0x2eb830][_0x2e2644(0x676)]((_0x54bd1d,_0x1a0afd)=>{const _0x4fe461=_0x2e2644,_0x1df722=_0x1a0afd['latestScore']-_0x54bd1d[_0x4fe461(0x237)];if(_0x1df722!==0x0)return _0x1df722;const _0x3a9cfb=_0x54bd1d[_0x4fe461(0x491)]?.[_0x4fe461(0x689)]||0x1,_0x8842f6=_0x1a0afd['attempts']?.['length']||0x1,_0x4f6046=_0x3a9cfb-_0x8842f6;if(_0x4f6046!==0x0)return _0x4f6046;const _0x120e9f=new Date(_0x54bd1d[_0x4fe461(0xf0)]),_0x366758=new Date(_0x1a0afd[_0x4fe461(0xf0)]),_0x5d340a=_0x120e9f-_0x366758;if(_0x5d340a!==0x0)return _0x5d340a;return _0x54bd1d[_0x4fe461(0x333)][_0x4fe461(0x5a3)](_0x1a0afd[_0x4fe461(0x333)],'th');}),_0x4a24a9=_0x2f6508[_0x2e2644(0x689)],_0x3a0c13=Math[_0x2e2644(0x790)](0x1,Math[_0x2e2644(0x883)](_0x4a24a9*0.33)),_0x2e528b=_0x2f6508[_0x2e2644(0x50c)](0x0,_0x3a0c13),_0x6bddc2=_0x2f6508[_0x2e2644(0x50c)](-_0x3a0c13);return _0x229793['questions'][_0x2e2644(0xb5)]((_0x3eef43,_0x590a64)=>{const _0xae0a81=_0x2e2644;if(_0x3eef43['questionType']!==_0xae0a81(0x75e)||!_0x3eef43[_0xae0a81(0x498)])return;const _0x2e2c78=_0x3eef43[_0xae0a81(0x862)],_0x4c1f50={};_0x3eef43['options']['forEach']((_0x8d9dd,_0x336d32)=>{_0x4c1f50[_0x336d32]={'text':_0x8d9dd,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x2f6508[_0xae0a81(0xb5)](_0x36c1c5=>{const _0x1f2fa0=_0xae0a81,_0x2467b8=_0x36c1c5[_0x1f2fa0(0x491)][_0x36c1c5[_0x1f2fa0(0x491)][_0x1f2fa0(0x689)]-0x1],_0x144b52=_0x2467b8[_0x1f2fa0(0x43c)][_0x1f2fa0(0x687)](_0x2040fb=>_0x2040fb[_0x1f2fa0(0x710)]===_0x2e2c78);if(_0x144b52&&_0x144b52[_0x1f2fa0(0x399)]!==null){const _0x307297=_0x3eef43[_0x1f2fa0(0x498)][_0x1f2fa0(0x6b1)](_0x4c7002=>_0x4c7002===_0x144b52['answerText']);_0x307297!==-0x1&&_0x4c1f50[_0x307297]&&(_0x4c1f50[_0x307297]['total']++,_0x2e528b[_0x1f2fa0(0x190)](_0x36c1c5)&&_0x4c1f50[_0x307297][_0x1f2fa0(0x16b)]++,_0x6bddc2[_0x1f2fa0(0x190)](_0x36c1c5)&&_0x4c1f50[_0x307297][_0x1f2fa0(0x8bb)]++);}}),_0x20f30b[_0x590a64]=_0x4c1f50;}),_0x20f30b;}function calculateReliabilityKR20(_0x433035,_0x29415e,_0x4643ba){const _0x2d19a5=_0x4bb8e3,_0x54c7f3=_0x433035[_0x2d19a5(0x79e)][_0x2d19a5(0x689)];if(_0x54c7f3<0x2||_0x29415e[_0x2d19a5(0x689)]<0x2)return null;const _0x2f30fe=_0x29415e[_0x2d19a5(0x347)](_0x1bfc71=>_0x1bfc71[_0x2d19a5(0x237)]),_0x4403cb=_0x2f30fe[_0x2d19a5(0x83e)]((_0x1e5d4c,_0x55c24a)=>_0x1e5d4c+_0x55c24a,0x0)/_0x2f30fe[_0x2d19a5(0x689)],_0x5c4f2f=_0x2f30fe['map'](_0x10fb01=>Math['pow'](_0x10fb01-_0x4403cb,0x2))[_0x2d19a5(0x83e)]((_0x1d4645,_0x54ba77)=>_0x1d4645+_0x54ba77,0x0)/_0x2f30fe[_0x2d19a5(0x689)];if(_0x5c4f2f===0x0)return null;let _0xc5069=0x0;for(let _0x2bce93=0x0;_0x2bce93<_0x54c7f3;_0x2bce93++){const _0x51cc0c=_0x4643ba[_0x2bce93]?.['p'];if(_0x51cc0c===undefined)continue;const _0x4296d6=0x1-_0x51cc0c;_0xc5069+=_0x51cc0c*_0x4296d6;}if(_0xc5069===0x0)return null;const _0x2f43ec=_0x54c7f3/(_0x54c7f3-0x1)*(0x1-_0xc5069/_0x5c4f2f);if(_0x2f43ec>0x1)return null;return _0x2f43ec;}async function handleAnalyzeClass(){const _0x52c3b5=_0x4bb8e3;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x52c3b5(0x424));return;}const _0x5cdcee=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x52c3b5(0x84d)),_0x46796d=await getDocs(_0x5cdcee),_0x3b11ff=_0x46796d[_0x52c3b5(0x46b)][_0x52c3b5(0x347)](_0x473a80=>_0x473a80['data']());if(_0x3b11ff[_0x52c3b5(0x689)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x52c80a=document[_0x52c3b5(0x85b)](_0x52c3b5(0x3bd));_0x52c80a[_0x52c3b5(0x76f)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x52c3b5(0x85b)]('analyze-strengths-btn')[_0x52c3b5(0x1ea)]=!![];const _0x551420=_0x3b11ff[_0x52c3b5(0x347)]((_0x1c2a37,_0x9e65ac)=>{const _0x242be5=_0x52c3b5,_0x3607d4=_0x1c2a37['attempts'][_0x1c2a37[_0x242be5(0x491)][_0x242be5(0x689)]-0x1];if(!_0x3607d4)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x9e65ac+0x1)+'\x20('+_0x1c2a37[_0x242be5(0x333)]+_0x242be5(0x5c3)+_0x3607d4['score']+'/'+_0x1c2a37['totalQuestions']+_0x242be5(0x9e)+JSON[_0x242be5(0x852)](_0x3607d4[_0x242be5(0x43c)])+_0x242be5(0x66f);})[_0x52c3b5(0x19b)](_0x52c3b5(0x891)),_0x5314ab=_0x52c3b5(0x739)+currentQuizData[_0x52c3b5(0x2cd)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x52c3b5(0x852)](currentQuizData[_0x52c3b5(0x79e)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x551420+_0x52c3b5(0x7ba),_0x3c96f7={'type':_0x52c3b5(0x67a),'properties':{'classStrengths':{'type':_0x52c3b5(0x12f),'items':{'type':_0x52c3b5(0x7f1)}},'classWeaknesses':{'type':_0x52c3b5(0x12f),'items':{'type':_0x52c3b5(0x7f1)}},'teacherSuggestions':{'type':_0x52c3b5(0x12f),'items':{'type':_0x52c3b5(0x7f1)}}},'required':[_0x52c3b5(0x5c6),_0x52c3b5(0x441),_0x52c3b5(0x7fe)]};try{const _0x4d0c98=await callAnalysisApi(_0x5314ab,_0x3c96f7);displayClassAnalysis(_0x4d0c98);}catch(_0x13024d){console[_0x52c3b5(0x60f)](_0x52c3b5(0x2dd),_0x13024d),_0x52c80a['innerHTML']=_0x52c3b5(0xa1)+_0x13024d[_0x52c3b5(0x158)]+_0x52c3b5(0x85f);}finally{document[_0x52c3b5(0x85b)](_0x52c3b5(0x342))[_0x52c3b5(0x1ea)]=![];}}function displayClassAnalysis(_0x4f2844){const _0x35cf11=_0x4bb8e3,_0x5135b8=document['getElementById'](_0x35cf11(0x3bd));if(!_0x4f2844){_0x5135b8[_0x35cf11(0x76f)]=_0x35cf11(0x243);return;}_0x5135b8['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f2844[_0x35cf11(0x5c6)][_0x35cf11(0x347)](_0x4bb453=>_0x35cf11(0x476)+_0x4bb453+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f2844[_0x35cf11(0x441)][_0x35cf11(0x347)](_0x125b26=>'<li>'+_0x125b26+_0x35cf11(0x4bd))[_0x35cf11(0x19b)]('')+_0x35cf11(0x2ad)+_0x4f2844['teacherSuggestions']['map'](_0x321bcf=>_0x35cf11(0x476)+_0x321bcf+_0x35cf11(0x4bd))[_0x35cf11(0x19b)]('')+_0x35cf11(0xbd);}function formatAndPrintWorksheet(_0xae8351,_0x15098c){const _0xf9e91b=_0x4bb8e3,_0xc1c263='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0xae8351['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0xae8351[_0xf9e91b(0x2cd)]+_0xf9e91b(0x4b4)+_0xae8351[_0xf9e91b(0x79e)][_0xf9e91b(0x347)]((_0x418c65,_0x8d1be)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x8d1be+0x1)+'.\x20'+_0x418c65[_0xf9e91b(0x862)]+_0xf9e91b(0x86f)+(_0x418c65['imageCode']?_0xf9e91b(0x412)+_0x418c65[_0xf9e91b(0xc1)]+_0xf9e91b(0x277):'')+_0xf9e91b(0xda))[_0xf9e91b(0x19b)]('')+_0xf9e91b(0x15a);_0x15098c['document'][_0xf9e91b(0x25c)](_0xc1c263),_0x15098c[_0xf9e91b(0xa8)][_0xf9e91b(0x1d4)](),_0x15098c[_0xf9e91b(0x422)]=function(){setTimeout(()=>{const _0xd44b55=_0x2cb1;_0x15098c[_0xd44b55(0x688)]();},0x3e8);};}async function generateWorksheet(){const _0xc5fcc0=_0x4bb8e3,_0x16aa42=document[_0xc5fcc0(0x85b)](_0xc5fcc0(0x88b))[_0xc5fcc0(0x39a)][_0xc5fcc0(0xbf)]();if(!_0x16aa42){showMessage(_0xc5fcc0(0x32b));return;}const _0x51cb8e=document[_0xc5fcc0(0x85b)]('force-math-checkbox')[_0xc5fcc0(0x8ae)],_0x17acd8=_0x51cb8e?'':_0xc5fcc0(0x2d3),_0xe6d04c=window['open']('',_0xc5fcc0(0x17c));_0xe6d04c[_0xc5fcc0(0xa8)][_0xc5fcc0(0x25c)](_0xc5fcc0(0x381));const _0x338970=parseInt(document[_0xc5fcc0(0x85b)]('num-questions')[_0xc5fcc0(0x39a)]),_0x4cd9be=document[_0xc5fcc0(0x85b)]('include-images-checkbox')['checked'],_0x69e2df=_0x4cd9be?_0xc5fcc0(0x7e5):'',_0x21a9ff=_0xc5fcc0(0x54b)+_0x17acd8+_0xc5fcc0(0x7f3)+_0x338970+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x16aa42+_0xc5fcc0(0x1a6)+_0x69e2df+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0xc5fcc0(0x595),_0x56251f={'type':_0xc5fcc0(0x67a),'properties':{'topic':{'type':_0xc5fcc0(0x7f1)},'questions':{'type':_0xc5fcc0(0x12f),'items':{'type':_0xc5fcc0(0x67a),'properties':{'questionText':{'type':_0xc5fcc0(0x7f1)},'imageCode':{'type':_0xc5fcc0(0x7f1)}},'required':['questionText']}}},'required':[_0xc5fcc0(0x2cd),'questions']};document['getElementById']('loader-text')[_0xc5fcc0(0x7b1)]='',document[_0xc5fcc0(0x85b)]('loader')[_0xc5fcc0(0x718)][_0xc5fcc0(0x8b0)](_0xc5fcc0(0x248)),document['getElementById'](_0xc5fcc0(0x1e7))[_0xc5fcc0(0x718)][_0xc5fcc0(0x8b0)](_0xc5fcc0(0x248)),generateWorksheetBtn[_0xc5fcc0(0x1ea)]=!![];try{const _0x178967=await callAnalysisApi(_0x21a9ff,_0x56251f);formatAndPrintWorksheet(_0x178967,_0xe6d04c);}catch(_0x223bef){console[_0xc5fcc0(0x60f)](_0xc5fcc0(0x371),_0x223bef);if(_0xe6d04c)_0xe6d04c[_0xc5fcc0(0x1d4)]();showMessage(_0xc5fcc0(0x48c));}finally{document['getElementById']('loader')[_0xc5fcc0(0x718)][_0xc5fcc0(0x15f)](_0xc5fcc0(0x248)),document[_0xc5fcc0(0x85b)]('quiz-generation-area')[_0xc5fcc0(0x718)][_0xc5fcc0(0x15f)](_0xc5fcc0(0x248)),generateWorksheetBtn[_0xc5fcc0(0x1ea)]=![];}}async function callAnalysisApi(_0x35df4b,_0x160bb0){const _0x590b04=_0x4bb8e3,_0x2c8484={'contents':[{'role':'user','parts':[{'text':_0x35df4b}]}],'generationConfig':{'responseMimeType':_0x590b04(0xca),'responseSchema':_0x160bb0}},_0x113ae4=_0x590b04(0x188),_0x3a3ae6=_0x590b04(0x529)+_0x113ae4,_0x32a328=await fetch(_0x3a3ae6,{'method':_0x590b04(0x5ea),'headers':{'Content-Type':_0x590b04(0xca)},'body':JSON['stringify'](_0x2c8484)});if(!_0x32a328['ok'])throw new Error(_0x590b04(0x685)+_0x32a328[_0x590b04(0x652)]);const _0x2e64b8=await _0x32a328['json']();if(_0x2e64b8[_0x590b04(0x1ee)]?.[0x0]?.[_0x590b04(0x60a)]?.['parts']?.[0x0])return JSON[_0x590b04(0x4a5)](_0x2e64b8[_0x590b04(0x1ee)][0x0][_0x590b04(0x60a)][_0x590b04(0x767)][0x0][_0x590b04(0x524)]);else{let _0x1e6c36='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x2e64b8[_0x590b04(0x69d)]?.[_0x590b04(0x832)])_0x1e6c36=_0x590b04(0x5c2)+_0x2e64b8['promptFeedback'][_0x590b04(0x832)]+'.';else _0x2e64b8[_0x590b04(0x1ee)]?.[0x0]?.[_0x590b04(0x1cc)]&&_0x2e64b8[_0x590b04(0x1ee)][0x0]['finishReason']!==_0x590b04(0x2a5)&&(_0x1e6c36=_0x590b04(0x3ad)+_0x2e64b8[_0x590b04(0x1ee)][0x0][_0x590b04(0x1cc)]+'.');console[_0x590b04(0x60f)](_0x1e6c36,JSON[_0x590b04(0x852)](_0x2e64b8));throw new Error(_0x1e6c36);}}initialize();
