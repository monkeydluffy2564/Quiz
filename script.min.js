const _0x2e2582=_0x5f2f;(function(_0x5b91ee,_0x1a9894){const _0x24227c=_0x5f2f,_0x3c7e83=_0x5b91ee();while(!![]){try{const _0xf2cce3=parseInt(_0x24227c(0xe69))/0x1+-parseInt(_0x24227c(0x519))/0x2*(parseInt(_0x24227c(0x8fa))/0x3)+parseInt(_0x24227c(0x38b))/0x4+parseInt(_0x24227c(0xb71))/0x5+-parseInt(_0x24227c(0x7de))/0x6*(parseInt(_0x24227c(0xab4))/0x7)+parseInt(_0x24227c(0x8b6))/0x8+parseInt(_0x24227c(0xcd7))/0x9*(-parseInt(_0x24227c(0xa04))/0xa);if(_0xf2cce3===_0x1a9894)break;else _0x3c7e83['push'](_0x3c7e83['shift']());}catch(_0x16bbc3){_0x3c7e83['push'](_0x3c7e83['shift']());}}}(_0x1cb7,0x6a1f5));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x2e2582(0x2d7),'บักแตงโม','เทพทรู',_0x2e2582(0x744),'นกฮูกกลางวัน',_0x2e2582(0x786),_0x2e2582(0xc1b),_0x2e2582(0xbd7),_0x2e2582(0xc59),_0x2e2582(0x46f),'ผู้พิชิตดาว',_0x2e2582(0x439),_0x2e2582(0xb45),_0x2e2582(0xb13),_0x2e2582(0xf0b),_0x2e2582(0xf10),'นินจาชาเขียว',_0x2e2582(0x9c3),_0x2e2582(0xb10),'มังกรกินจุ',_0x2e2582(0x9e5),_0x2e2582(0x99d),_0x2e2582(0xa45),_0x2e2582(0x7bd),_0x2e2582(0x934),_0x2e2582(0x7bf),_0x2e2582(0xed3),_0x2e2582(0x809),_0x2e2582(0xaea),_0x2e2582(0xad0),_0x2e2582(0xcfe),_0x2e2582(0x275),'คนดีศรีสยาม','ดาวTikTok','ยูทูปเบอร์ฝึกหัด','CEOพันล้าน',_0x2e2582(0x5f9),'อินฟลูเอนเซอร์',_0x2e2582(0x919),'ดาวสภา',_0x2e2582(0xd2d),_0x2e2582(0xa8c),'ส้มตำปูปลาร้า','พิซซ่าหน้าทุเรียน',_0x2e2582(0x265),'ข้าวมันไก่พิเศษ',_0x2e2582(0x596),_0x2e2582(0x86f),'ชีสเค้ก',_0x2e2582(0x203),'สายตาสั้น',_0x2e2582(0x8d2),_0x2e2582(0x873),_0x2e2582(0xc04),_0x2e2582(0x585),_0x2e2582(0x7b7),_0x2e2582(0xc8d),_0x2e2582(0x772),_0x2e2582(0x5c9),_0x2e2582(0xd69),'จันทร์เจ้า',_0x2e2582(0x735),_0x2e2582(0x568),_0x2e2582(0xdac),_0x2e2582(0x579),_0x2e2582(0x224),_0x2e2582(0xe7e),_0x2e2582(0x570),'ป่าไม้',_0x2e2582(0x212),_0x2e2582(0x574),_0x2e2582(0x1ea),'เกมเมอร์',_0x2e2582(0x512),_0x2e2582(0xdcc),_0x2e2582(0xe5d),_0x2e2582(0x7f1),_0x2e2582(0x85a),_0x2e2582(0xcb1),_0x2e2582(0xd05),'พลังคลื่นเต่า',_0x2e2582(0xca3),_0x2e2582(0x4a2),'ตัวแทนแห่งดวงจันทร์','ดาบพิฆาตอสูร',_0x2e2582(0x1cc),_0x2e2582(0x5ec),_0x2e2582(0xe81),'กัปตัน',_0x2e2582(0x1f1),'รักแรกพบ',_0x2e2582(0xec7),_0x2e2582(0x2be),'อกหัก',_0x2e2582(0xa34),_0x2e2582(0x1cd),_0x2e2582(0x796),_0x2e2582(0xb23),_0x2e2582(0xb5c),_0x2e2582(0x2c5)];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x2e2582(0x5e4),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x5958ce=_0x2e2582;if(_0x5958ce(0xcc5)in navigator)try{wakeLock=await navigator[_0x5958ce(0xcc5)][_0x5958ce(0x3d7)](_0x5958ce(0x6f9)),console['log']('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x5958ce(0x504)](_0x5958ce(0xb5a),()=>{const _0x5081c9=_0x5958ce;console[_0x5081c9(0xeec)](_0x5081c9(0xc62));});}catch(_0x12fd3f){console[_0x5958ce(0x61c)](_0x5958ce(0xb02)+_0x12fd3f[_0x5958ce(0x47c)]+',\x20'+_0x12fd3f[_0x5958ce(0x784)]);}else console['warn'](_0x5958ce(0x49c));},releaseWakeLock=async()=>{const _0x15e050=_0x2e2582;wakeLock!==null&&(await wakeLock[_0x15e050(0xb5a)](),wakeLock=null,console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x5aa055=_0x2e2582;if(!document[_0x5aa055(0xc74)][_0x5aa055(0xed5)][_0x5aa055(0x84c)](_0x5aa055(0x5c8))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x24fc79=_0x5aa055;document[_0x24fc79(0xc74)][_0x24fc79(0xed5)]['add'](_0x24fc79(0x5c8)),console[_0x24fc79(0xeec)](_0x24fc79(0x800));},inactivityTime);}}function wakeUpScreen(_0x3f849f){const _0x546f94=_0x2e2582;_0x3f849f&&(_0x3f849f[_0x546f94(0xee2)](),_0x3f849f['preventDefault']());document[_0x546f94(0xc74)][_0x546f94(0xed5)][_0x546f94(0xb8a)]('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x14a981=_0x546f94;document[_0x14a981(0xc74)]['classList'][_0x14a981(0xbca)](_0x14a981(0x5c8));},inactivityTime);}function stopDimTimer(){const _0x3cbf9e=_0x2e2582;if(dimTimer)clearTimeout(dimTimer);document[_0x3cbf9e(0xc74)]['classList'][_0x3cbf9e(0xb8a)]('dimmed'),window[_0x3cbf9e(0x637)](_0x3cbf9e(0xe1a),resetDimTimer),window[_0x3cbf9e(0x637)](_0x3cbf9e(0x5d3),resetDimTimer),window['removeEventListener']('touchstart',resetDimTimer),window['removeEventListener'](_0x3cbf9e(0x6ac),resetDimTimer),console[_0x3cbf9e(0xeec)](_0x3cbf9e(0x4c3));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x494ddb,_0xf09cee=![]){const _0x24426b=_0x2e2582,_0x837b10=allQuizzes[_0x24426b(0x426)](_0x351b0a=>_0x351b0a['id']===_0x494ddb)||allQuizzesGlobal[_0x24426b(0x426)](_0xdcb01f=>_0xdcb01f['id']===_0x494ddb);if(!_0x837b10){showMessage(_0x24426b(0x476));return;}currentQuizData=getShuffledQuiz(_0x837b10);const _0x1b7518=Math[_0x24426b(0xabc)](0x3e8+Math[_0x24426b(0x76c)]()*0x2328)['toString']();try{const _0x2b3b52=await addDoc(collection(db,'artifacts/'+appId+_0x24426b(0xc66)),{'quizId':_0x837b10['id'],'projectId':_0x837b10['projectId'],'status':'lobby','pin':_0x1b7518,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xf09cee});currentTeamQuizId=_0x2b3b52['id'],showView(_0x24426b(0x37e)),renderAdminTeamQuizDashboard(_0x1b7518,_0x837b10[_0x24426b(0x308)]),listenForTeamQuizUpdates();}catch(_0x44875f){console[_0x24426b(0x61c)](_0x24426b(0x6df),_0x44875f),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x99112b,_0x4ed512,_0x33da28=_0x2e2582(0xcb4)){const _0x444bac=_0x2e2582,_0x1e1d51=_0x33da28===_0x444bac(0xdd3)?'Group\x20Mode':_0x444bac(0x2b2);liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x1e1d51+':\x20'+_0x4ed512+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x99112b+_0x444bac(0x57a),document[_0x444bac(0x6ec)]('end-team-quiz-btn')[_0x444bac(0x504)](_0x444bac(0x7b0),async()=>{const _0x34ea4b=_0x444bac;showConfirmation(_0x34ea4b(0x2ff),async()=>{const _0x23cb94=_0x34ea4b;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x23cb94(0x509)+appId+_0x23cb94(0xc66),currentTeamQuizId)),showView(_0x23cb94(0x641));});});}function listenForTeamQuizUpdates(){const _0x5b0d41=_0x2e2582;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x446f51=doc(db,'artifacts/'+appId+_0x5b0d41(0xc66),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x446f51,_0x179685=>{const _0x2f6e91=_0x5b0d41;if(!_0x179685[_0x2f6e91(0xa82)]()){sessionStorage[_0x2f6e91(0xcbf)](_0x2f6e91(0x9ad));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x2f6e91(0x670));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2f6e91(0x2dd)?showView(_0x2f6e91(0x641)):showView(_0x2f6e91(0x4d0));return;}const _0x4becb1=_0x179685[_0x2f6e91(0xe5c)]();if(currentMode===_0x2f6e91(0x2dd)){if(_0x4becb1[_0x2f6e91(0x5ca)]===_0x2f6e91(0xdd3)&&_0x4becb1['status']!=='podium'&&_0x4becb1['status']!==_0x2f6e91(0xbd6)){const _0x2f1229=Object[_0x2f6e91(0x586)](_0x4becb1['groups']||{});if(_0x2f1229[_0x2f6e91(0x83b)]>0x0){const _0x23dbe1=_0x2f1229['every'](_0x4aebf7=>_0x4aebf7['isFinished']===!![]);_0x23dbe1&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x4becb1);}else{if(_0x4becb1[_0x2f6e91(0x4dc)]===_0x2f6e91(0x709)||_0x4becb1[_0x2f6e91(0x4dc)]===_0x2f6e91(0xbd6)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x4becb1[_0x2f6e91(0x5ca)]===_0x2f6e91(0xdd3)){const _0x3793f3=_0x4becb1['groups'][userId];(!_0x3793f3||!_0x3793f3[_0x2f6e91(0x219)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x342438){const _0x1963ac=_0x2e2582;console['log'](_0x1963ac(0x68f));const _0xcd5b27=doc(db,_0x1963ac(0x509)+appId+'/public/data/teamQuizzes',_0x342438);try{const _0x38377b=await getDoc(_0xcd5b27);if(_0x38377b['exists']()){const _0x14ceb7=_0x38377b['data']();_0x14ceb7[_0x1963ac(0xf29)]&&await saveGameResultsAsSubmissions(_0x14ceb7);}await updateDoc(_0xcd5b27,{'status':_0x1963ac(0x709)});}catch(_0x262adf){console['error'](_0x1963ac(0x226),_0x262adf);}}function updateAdminTeamDashboard(_0x3b4a11){const _0x2ce68f=_0x2e2582,_0xbffaba=document[_0x2ce68f(0x6ec)](_0x2ce68f(0xee5));if(!_0xbffaba)return;const _0x4989fd=_0x3b4a11[_0x2ce68f(0x5ca)]||'team',_0x5d07bc=currentQuizData[_0x2ce68f(0xa08)]['length'];if(_0x4989fd==='group'){const _0x54ab09=Object[_0x2ce68f(0x586)](_0x3b4a11[_0x2ce68f(0x7b2)]||{});if(_0x54ab09['length']===0x0){_0xbffaba[_0x2ce68f(0x674)]=_0x2ce68f(0x38d);return;}const _0x4dd073=[..._0x54ab09][_0x2ce68f(0x6f8)]((_0x470371,_0x13183c)=>_0x13183c[_0x2ce68f(0x600)]-_0x470371[_0x2ce68f(0x600)]),_0x20bbd6=_0x4dd073[_0x2ce68f(0x91f)]((_0x3b760d,_0x23ae28)=>{const _0x565cca=_0x2ce68f,_0x32b1a6=_0x3b760d[_0x565cca(0x767)]?.[_0x565cca(0x83b)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x23ae28+0x1)+_0x565cca(0xc81)+_0x3b760d[_0x565cca(0xf4c)]['join'](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x32b1a6+'/'+_0x5d07bc+_0x565cca(0x82d)+_0x3b760d['score']+_0x565cca(0x4e1);})[_0x2ce68f(0x8c3)](''),_0x125c06=currentQuizData[_0x2ce68f(0xa08)]['map']((_0x3514fc,_0x165802)=>{const _0x676666=_0x2ce68f;let _0x1a539c=0x0,_0x2ba3fa=0x0;_0x54ab09['forEach'](_0x57e5ea=>{const _0x538008=_0x5f2f,_0x20bf8b=_0x57e5ea[_0x538008(0x767)]?.['find'](_0x264881=>_0x264881['questionIndex']===_0x165802);if(_0x20bf8b){_0x2ba3fa++;if(_0x20bf8b[_0x538008(0x33c)])_0x1a539c++;}});const _0x308bd8=_0x2ba3fa>0x0&&_0x2ba3fa===_0x54ab09[_0x676666(0x83b)],_0x595d3f=_0x308bd8?_0x676666(0xec5):'bg-black/10',_0x3d6291=_0x308bd8?_0x676666(0x5c1):'';return _0x676666(0x2a8)+_0x595d3f+_0x676666(0xcd0)+(_0x165802+0x1)+':</span><span>'+_0x3d6291+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x1a539c+'/'+_0x54ab09[_0x676666(0x83b)]+_0x676666(0xc6b);})[_0x2ce68f(0x8c3)]('');_0xbffaba[_0x2ce68f(0x674)]=_0x2ce68f(0x6e0)+_0x20bbd6+_0x2ce68f(0x9a0)+_0x125c06+'</div></div></div>';return;}const _0x301311=_0x3b4a11[_0x2ce68f(0x33b)]||{},_0x3732ec=Object['keys'](_0x301311);if(_0x3732ec[_0x2ce68f(0x83b)]===0x0){_0xbffaba[_0x2ce68f(0x674)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0xc1553f=_0x3732ec[_0x2ce68f(0x91f)](_0x45ea56=>({'name':_0x45ea56,'score':_0x301311[_0x45ea56]['score']||0x0}))[_0x2ce68f(0x6f8)]((_0x2b2a69,_0x555d39)=>_0x555d39[_0x2ce68f(0x600)]-_0x2b2a69[_0x2ce68f(0x600)]),_0x90b77e=_0xc1553f['map'](_0x4a3aeb=>{const _0x37f534=_0x2ce68f,_0x4836b9=_0x301311[_0x4a3aeb[_0x37f534(0x47c)]]?.['answers']?.[_0x37f534(0x83b)]||0x0,_0x553916=Math[_0x37f534(0xca4)](_0x5d07bc/_0x3732ec[_0x37f534(0x83b)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x4a3aeb['name']+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x4836b9+'/'+_0x553916+_0x37f534(0xc30)+_0x4a3aeb[_0x37f534(0x600)]+_0x37f534(0xaa1);})[_0x2ce68f(0x8c3)](''),_0x580e99=_0x3732ec['reduce']((_0xab9140,_0x1235d9)=>_0xab9140+(_0x301311[_0x1235d9][_0x2ce68f(0x767)]?.[_0x2ce68f(0x83b)]||0x0),0x0),_0x214444=currentQuizData[_0x2ce68f(0xa08)][_0x2ce68f(0x91f)]((_0x503031,_0x486243)=>{const _0x4bd1fe=_0x2ce68f;let _0x4cd6d8=null,_0x108fa6=null;for(const _0x41ceb0 of _0x3732ec){const _0xd97d11=_0x301311[_0x41ceb0][_0x4bd1fe(0x767)]?.['find'](_0x44b297=>_0x44b297[_0x4bd1fe(0x39e)]===_0x486243);if(_0xd97d11){_0x4cd6d8=_0xd97d11,_0x108fa6=_0x41ceb0;break;}}const _0x5595af=!!_0x4cd6d8,_0x5c85e8=_0x5595af&&_0x4cd6d8['isCorrect'],_0x269054=(Math[_0x4bd1fe(0xabc)](_0x486243/_0x3732ec[_0x4bd1fe(0x83b)])+0x1)*_0x3732ec[_0x4bd1fe(0x83b)],_0xc903c4=_0x580e99>=_0x269054,_0x2c28cd=_0xc903c4?_0x4bd1fe(0x3f5):'bg-black/10',_0x761f37=_0xc903c4?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x84b99a='รอ...';return _0x5595af&&(_0x84b99a=_0x108fa6+_0x4bd1fe(0x6cf)+(_0x5c85e8?_0x4bd1fe(0x8bf):'ผิด')),_0x4bd1fe(0x2a8)+_0x2c28cd+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x486243+0x1)+_0x4bd1fe(0x376)+_0x761f37+_0x4bd1fe(0xdc5)+_0x84b99a+'</p></div>';})[_0x2ce68f(0x8c3)]('');_0xbffaba['innerHTML']=_0x2ce68f(0x58f)+_0x90b77e+_0x2ce68f(0x6eb)+_0x214444+_0x2ce68f(0x96f);}async function handleJoinTeamQuiz(){const _0x5cbfc4=_0x2e2582,_0x26167a=prompt(_0x5cbfc4(0x223));if(!_0x26167a||_0x26167a[_0x5cbfc4(0xdd8)]()[_0x5cbfc4(0x83b)]!==0x4){showMessage(_0x5cbfc4(0x9c5));return;}try{const _0x50a327=collection(db,_0x5cbfc4(0x509)+appId+_0x5cbfc4(0xc66)),_0x354400=query(_0x50a327,where('pin','==',_0x26167a[_0x5cbfc4(0xdd8)]()),where(_0x5cbfc4(0x4dc),'==','lobby')),_0x30169d=await getDocs(_0x354400);if(_0x30169d[_0x5cbfc4(0xe58)]){showMessage(_0x5cbfc4(0xd46));return;}const _0x22181b=_0x30169d[_0x5cbfc4(0x875)][0x0];currentTeamQuizId=_0x22181b['id'];const _0x5d0207=_0x22181b[_0x5cbfc4(0xe5c)](),_0x438607=doc(db,_0x5cbfc4(0x509)+appId+'/public/data/projects',_0x5d0207[_0x5cbfc4(0x6ea)]),_0x27cb89=doc(db,_0x5cbfc4(0x509)+appId+_0x5cbfc4(0x2d1),_0x5d0207[_0x5cbfc4(0x3ac)]),[_0xcc869,_0x2d701a]=await Promise[_0x5cbfc4(0x5e4)]([getDoc(_0x438607),getDoc(_0x27cb89)]);if(!_0xcc869['exists']()||!_0x2d701a[_0x5cbfc4(0xa82)]())throw new Error(_0x5cbfc4(0x7a5));currentQuizData=getShuffledQuiz({'id':_0x2d701a['id'],..._0x2d701a[_0x5cbfc4(0xe5c)]()});const _0x1b280b=_0xcc869['data']();showTeamPlayerSelection(_0x1b280b[_0x5cbfc4(0x30d)],currentQuizData[_0x5cbfc4(0x308)]);}catch(_0x159773){console[_0x5cbfc4(0x61c)]('Error\x20joining\x20team\x20quiz:',_0x159773),showMessage(_0x5cbfc4(0xebb)+_0x159773[_0x5cbfc4(0x784)]);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x2e3645=_0x2e2582;currentInputPin='',updatePinDisplay(),document['getElementById']('pin-entry-modal')[_0x2e3645(0xed5)]['remove']('hidden');}function updatePinDisplay(){const _0x59eef1=_0x2e2582,_0x22fb3f=document['querySelectorAll'](_0x59eef1(0xaae));_0x22fb3f[_0x59eef1(0x9ce)]((_0x277c21,_0x257009)=>{const _0x138c65=_0x59eef1;_0x257009<currentInputPin['length']?(_0x277c21['textContent']=currentInputPin[_0x257009],_0x277c21[_0x138c65(0xed5)][_0x138c65(0xbca)]('border-indigo-500',_0x138c65(0x8a1)),_0x277c21['classList'][_0x138c65(0xb8a)](_0x138c65(0x7be),_0x138c65(0xc36))):(_0x277c21[_0x138c65(0x337)]='',_0x277c21['classList'][_0x138c65(0xb8a)](_0x138c65(0x778),_0x138c65(0x8a1)),_0x277c21[_0x138c65(0xed5)]['add'](_0x138c65(0x7be),_0x138c65(0xc36)));});}async function handlePinKeyPress(_0x1758b1){const _0x146bc9=_0x2e2582;if(_0x1758b1===_0x146bc9(0x9f8))currentInputPin=currentInputPin['slice'](0x0,-0x1);else currentInputPin['length']<0x4&&(currentInputPin+=_0x1758b1);updatePinDisplay(),currentInputPin[_0x146bc9(0x83b)]===0x4&&setTimeout(async()=>{const _0xfac7c4=_0x146bc9;document[_0xfac7c4(0x6ec)](_0xfac7c4(0x79d))[_0xfac7c4(0xed5)][_0xfac7c4(0xbca)](_0xfac7c4(0x515)),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x3b5fef){const _0x145024=_0x2e2582,_0x5d4257=_0x3b5fef[_0x145024(0xdd8)]();showMessage('กำลังค้นหากิจกรรม...');try{const _0x5b781f=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0x4d8911=query(_0x5b781f,where('pin','==',_0x5d4257),where(_0x145024(0x4dc),'==',_0x145024(0x9ec))),_0x633fcf=await getDocs(_0x4d8911);if(!_0x633fcf[_0x145024(0xe58)]){console['log'](_0x145024(0xd2e)),await proceedWithTeamQuizJoin(_0x633fcf[_0x145024(0x875)][0x0]);return;}const _0x59e709=collection(db,_0x145024(0x509)+appId+_0x145024(0xa31)),_0x5a5c41=query(_0x59e709,where(_0x145024(0xd35),'==',_0x5d4257),where(_0x145024(0x4dc),'in',[_0x145024(0x9ec),'question','summary',_0x145024(0xa51)])),_0x38fc4d=await getDocs(_0x5a5c41);if(!_0x38fc4d['empty']){console[_0x145024(0xeec)](_0x145024(0xb08)),await proceedWithSyncQuizJoin(_0x38fc4d[_0x145024(0x875)][0x0]);return;}showMessage(_0x145024(0x39b));}catch(_0x9b9c28){console['error'](_0x145024(0xdda),_0x9b9c28),showMessage(_0x145024(0xa95)+_0x9b9c28[_0x145024(0x784)]);}}async function proceedWithTeamQuizJoin(_0x4c005e){const _0x14fdb4=_0x2e2582;currentTeamQuizId=_0x4c005e['id'];const _0x5c365d=_0x4c005e[_0x14fdb4(0xe5c)](),_0x704b4f=doc(db,'artifacts/'+appId+'/public/data/projects',_0x5c365d['projectId']),_0xd5986c=doc(db,_0x14fdb4(0x509)+appId+_0x14fdb4(0x2d1),_0x5c365d['quizId']),[_0x2c2aeb,_0x434c04]=await Promise[_0x14fdb4(0x5e4)]([getDoc(_0x704b4f),getDoc(_0xd5986c)]);if(!_0x2c2aeb['exists']()||!_0x434c04[_0x14fdb4(0xa82)]())throw new Error(_0x14fdb4(0x7a5));currentQuizData=getShuffledQuiz({'id':_0x434c04['id'],..._0x434c04[_0x14fdb4(0xe5c)]()}),showTeamPlayerSelection(_0x2c2aeb[_0x14fdb4(0xe5c)]()[_0x14fdb4(0x30d)],currentQuizData[_0x14fdb4(0x308)],_0x5c365d[_0x14fdb4(0x5ca)]||_0x14fdb4(0xcb4)),messageModal[_0x14fdb4(0xed5)][_0x14fdb4(0xbca)](_0x14fdb4(0x515));}async function proceedWithSyncQuizJoin(_0x44f800){const _0x29a125=_0x2e2582;currentLiveGameId=_0x44f800['id'];const _0x27b3e4=_0x44f800[_0x29a125(0xe5c)](),_0xfc2e=doc(db,_0x29a125(0x509)+appId+_0x29a125(0x2d1),_0x27b3e4[_0x29a125(0x3ac)]),_0x581154=await getDoc(_0xfc2e);if(!_0x581154['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x45d7ca=_0x581154['data'](),_0x336800=doc(db,'artifacts/'+appId+_0x29a125(0x850),_0x45d7ca['projectId']),_0x29612e=await getDoc(_0x336800);if(!_0x29612e['exists']())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x27b3e4[_0x29a125(0x23c)],showView(_0x29a125(0x803)),showTeamPlayerSelection(_0x29612e['data']()[_0x29a125(0x30d)],_0x45d7ca[_0x29a125(0x308)],_0x29a125(0x5db));const _0x383c1f=document[_0x29a125(0x6ec)](_0x29a125(0x9ff)),_0x4b276d=_0x383c1f[_0x29a125(0xd56)](!![]);_0x383c1f['parentNode'][_0x29a125(0x3a7)](_0x4b276d,_0x383c1f),_0x4b276d[_0x29a125(0xdba)]=confirmAndJoinSyncGame,messageModal[_0x29a125(0xed5)][_0x29a125(0xbca)]('hidden');}function getCleanApplicationHTML(){const _0x38bfff=_0x2e2582,_0x3ea77d=document['getElementById'](_0x38bfff(0x846));if(!_0x3ea77d)return'';const _0x18930c=_0x3ea77d[_0x38bfff(0xd56)](!![]);return _0x18930c[_0x38bfff(0xcf1)]('.application-options\x20button')[_0x38bfff(0x9ce)](_0x1b8b8a=>{const _0x682f1a=_0x38bfff;_0x1b8b8a[_0x682f1a(0xed5)]['remove']('correct',_0x682f1a(0x343)),_0x1b8b8a['disabled']=![];}),_0x18930c[_0x38bfff(0x674)];}function showTeamPlayerSelection(_0x45f639,_0x1fa0b8,_0xcc792f='team'){const _0x27e1ed=_0x2e2582;studentInitialView['classList'][_0x27e1ed(0xbca)]('hidden'),studentJoinGameView[_0x27e1ed(0xed5)][_0x27e1ed(0xbca)]('hidden'),document[_0x27e1ed(0x6ec)](_0x27e1ed(0x5bd))['classList']['remove'](_0x27e1ed(0x515));let _0x451694=_0x27e1ed(0x2b2);if(_0xcc792f==='group')_0x451694=_0x27e1ed(0x55a);else _0xcc792f===_0x27e1ed(0x5db)&&(_0x451694=_0x27e1ed(0x258));document[_0x27e1ed(0x6ec)](_0x27e1ed(0xa63))['textContent']=_0x451694+':\x20'+_0x1fa0b8;const _0x5666a8=document[_0x27e1ed(0x6ec)](_0x27e1ed(0x417));if(!_0x45f639||_0x45f639[_0x27e1ed(0x83b)]===0x0){_0x5666a8['innerHTML']=_0x27e1ed(0x68e),document[_0x27e1ed(0x6ec)](_0x27e1ed(0x9ff))['disabled']=!![];return;}_0x5666a8[_0x27e1ed(0x674)]=_0x45f639[_0x27e1ed(0x91f)](_0x15d93=>_0x27e1ed(0x2cb)+_0x15d93+_0x27e1ed(0xc29)+_0x15d93+_0x27e1ed(0x8cc))['join'](''),document[_0x27e1ed(0x6ec)]('confirm-team-players-btn')[_0x27e1ed(0x736)]=![];}async function confirmAndStartTeamQuiz(){const _0x3969c=_0x2e2582,_0x279991=Array[_0x3969c(0x30a)](document[_0x3969c(0xcf1)](_0x3969c(0x383)))['map'](_0x16a0f2=>_0x16a0f2['value']);if(_0x279991[_0x3969c(0x83b)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x279991,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x277e92=doc(db,_0x3969c(0x509)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x418e3d=await getDoc(_0x277e92);if(!_0x418e3d[_0x3969c(0xa82)]())throw new Error(_0x3969c(0x1f9));const _0x320c8c=_0x418e3d[_0x3969c(0xe5c)]();if(_0x320c8c[_0x3969c(0x5ca)]===_0x3969c(0xdd3)){const _0x23eb6a={[_0x3969c(0x4ba)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x277e92,_0x23eb6a);}else{const _0x49973c=_0x320c8c[_0x3969c(0x33b)]||{};localTeamPlayers[_0x3969c(0x9ce)](_0x24faa1=>{!_0x49973c[_0x24faa1]&&(_0x49973c[_0x24faa1]={'score':0x0,'answers':[]});}),await updateDoc(_0x277e92,{'responses':_0x49973c});}document[_0x3969c(0x6ec)](_0x3969c(0x5bd))['classList']['add']('hidden'),renderTeamQuizQuestion();const _0x5956d6={'gameId':currentTeamQuizId,'mode':_0x320c8c[_0x3969c(0x5ca)]||_0x3969c(0xcb4),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x3969c(0x2b8)](_0x3969c(0x9ad),JSON['stringify'](_0x5956d6)),listenForTeamQuizUpdates();}catch(_0x535352){console[_0x3969c(0x61c)](_0x3969c(0x69d),_0x535352),showMessage(_0x3969c(0x487));}}async function renderTeamQuizQuestion(){const _0x35510e=_0x2e2582;if(localQuestionIndex>=currentQuizData[_0x35510e(0xa08)][_0x35510e(0x83b)]){displayTeamQuizFinalResults();return;}const _0x46e45d=currentQuizData['questions'][localQuestionIndex],_0x5b8585=localTeamPlayers[localPlayerIndex],_0x10c3f9=_0x46e45d[_0x35510e(0xb6d)]||currentQuizData[_0x35510e(0x80d)];let _0x27181f=_0x46e45d['stem']||_0x46e45d[_0x35510e(0x912)],_0x259147='';switch(_0x10c3f9){case _0x35510e(0xbb3):case _0x35510e(0x2af):_0x259147=_0x46e45d[_0x35510e(0x25f)]['map']((_0x5c37e3,_0x20f982)=>_0x35510e(0xb55)+_0x20f982+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x20f982+_0x35510e(0xe37)+_0x20f982+'\x22>'+_0x5c37e3+_0x35510e(0x617))[_0x35510e(0x8c3)]('');break;case _0x35510e(0x35c):_0x259147=_0x35510e(0xa42);break;case'short_answer':case _0x35510e(0x8f5):_0x259147=_0x35510e(0xabe);break;case _0x35510e(0x440):_0x259147=_0x35510e(0x59e)+_0x46e45d[_0x35510e(0xa2e)]['map'](_0x4e023d=>'<option\x20value=\x22'+_0x4e023d+'\x22>'+_0x4e023d+_0x35510e(0x645))[_0x35510e(0x8c3)]('')+_0x35510e(0x268);break;default:_0x259147=_0x35510e(0x59c);break;}studentQuizArea[_0x35510e(0x674)]=_0x35510e(0x394)+(localQuestionIndex+0x1)+_0x35510e(0xa09)+currentQuizData[_0x35510e(0xa08)][_0x35510e(0x83b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x5b8585+_0x35510e(0x419)+(localQuestionIndex+0x1)+'.\x20'+_0x27181f+_0x35510e(0x8ae)+(_0x46e45d[_0x35510e(0xde8)]?_0x35510e(0x6d0)+_0x46e45d[_0x35510e(0xde8)]+_0x35510e(0x4f3):'')+_0x35510e(0x883)+_0x259147+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x35510e(0xed5)][_0x35510e(0xb8a)]('hidden');if(window[_0x35510e(0xef3)])MathJax[_0x35510e(0x396)]([studentQuizArea]);document[_0x35510e(0x6ec)](_0x35510e(0x8f3))[_0x35510e(0x504)](_0x35510e(0x7b0),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x327aa0=_0x2e2582,_0x272613=currentQuizData[_0x327aa0(0xa08)][localQuestionIndex],_0x100d05=_0x272613['questionType']||currentQuizData['quizType'];let _0xcb73fa=null,_0x4ac98f=![];if(_0x100d05===_0x327aa0(0x466)||_0x100d05===_0x327aa0(0x8f5)){const _0x4da0f2=document['querySelector'](_0x327aa0(0xa43));if(!_0x4da0f2||!_0x4da0f2[_0x327aa0(0x8c2)][_0x327aa0(0xdd8)]()){showMessage(_0x327aa0(0xd28));return;}_0xcb73fa=_0x4da0f2['value'][_0x327aa0(0xdd8)](),_0x4ac98f=await gradeShortAnswer(_0xcb73fa,_0x272613);}else{const _0x1d9788=document[_0x327aa0(0x427)](_0x327aa0(0xdbb));if(!_0x1d9788||_0x1d9788[_0x327aa0(0x8c2)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0xcb73fa=_0x1d9788[_0x327aa0(0x8c2)];switch(_0x100d05){case'true_false':_0x4ac98f=_0xcb73fa==='true'===_0x272613['correctAnswer'];break;case _0x327aa0(0x440):_0x4ac98f=_0xcb73fa===_0x272613['correctResponse'];break;default:_0x4ac98f=parseInt(_0xcb73fa)===_0x272613[_0x327aa0(0x526)];break;}}const _0x4a6d53={'questionIndex':localQuestionIndex,'isCorrect':_0x4ac98f},_0x3fd9ff=userId,_0x5d29c9={[_0x327aa0(0x4ba)+_0x3fd9ff+_0x327aa0(0x60b)]:arrayUnion(_0x4a6d53)};_0x4ac98f&&(_0x5d29c9[_0x327aa0(0x4ba)+_0x3fd9ff+_0x327aa0(0x453)]=increment(0x1));try{await updateDoc(doc(db,_0x327aa0(0x509)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x5d29c9),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x327aa0(0xa08)][_0x327aa0(0x83b)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x4bece9){console[_0x327aa0(0x61c)]('Error\x20submitting\x20group\x20answer:',_0x4bece9),showMessage(_0x327aa0(0xb20));}}async function handleTeamAnswerSubmit(){const _0x242ff9=_0x2e2582,_0x39dd3b=await getDoc(doc(db,_0x242ff9(0x509)+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x39dd3b[_0x242ff9(0xa82)]())return;const _0x4b4fe1=_0x39dd3b[_0x242ff9(0xe5c)]();if(_0x4b4fe1[_0x242ff9(0x5ca)]===_0x242ff9(0xdd3)){handleGroupAnswerSubmit();return;}const _0xb7753=localTeamPlayers[localPlayerIndex],_0x5d6bc4=currentQuizData['questions'][localQuestionIndex],_0x408932=_0x5d6bc4[_0x242ff9(0xb6d)]||currentQuizData[_0x242ff9(0x80d)];let _0x520192=null,_0x5ca879=![];if(_0x408932===_0x242ff9(0x466)||_0x408932===_0x242ff9(0x8f5)){const _0x50c057=document[_0x242ff9(0x427)]('textarea[name=\x22team_answer\x22]');if(!_0x50c057||!_0x50c057[_0x242ff9(0x8c2)]['trim']()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x520192=_0x50c057[_0x242ff9(0x8c2)][_0x242ff9(0xdd8)](),_0x5ca879=await gradeShortAnswer(_0x520192,_0x5d6bc4);}else{const _0x480d14=document[_0x242ff9(0x427)](_0x242ff9(0xdbb));if(!_0x480d14||_0x480d14[_0x242ff9(0x8c2)]===''){showMessage(_0x242ff9(0x695));return;}_0x520192=_0x480d14[_0x242ff9(0x8c2)];switch(_0x408932){case _0x242ff9(0x35c):_0x5ca879=_0x520192===_0x242ff9(0xbb9)===_0x5d6bc4['correctAnswer'];break;case _0x242ff9(0x440):_0x5ca879=_0x520192===_0x5d6bc4[_0x242ff9(0xc32)];break;default:_0x5ca879=parseInt(_0x520192)===_0x5d6bc4[_0x242ff9(0x526)];break;}}const _0x18d37f={'questionIndex':localQuestionIndex,'isCorrect':_0x5ca879,'answerValue':_0x520192},_0x30d333={[_0x242ff9(0xb07)+_0xb7753+_0x242ff9(0x60b)]:arrayUnion(_0x18d37f)};_0x5ca879&&(_0x30d333[_0x242ff9(0xb07)+_0xb7753+_0x242ff9(0x453)]=increment(0x1));try{await updateDoc(doc(db,_0x242ff9(0x509)+appId+_0x242ff9(0xc66),currentTeamQuizId),_0x30d333),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x242ff9(0x83b)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x21a975){console[_0x242ff9(0x61c)]('Error\x20submitting\x20team\x20answer:',_0x21a975),showMessage(_0x242ff9(0xb20));}}async function displayTeamQuizFinalResults(){const _0xc86d3a=_0x2e2582;studentQuizArea[_0xc86d3a(0xed5)][_0xc86d3a(0xbca)](_0xc86d3a(0x515)),studentResultArea[_0xc86d3a(0xed5)]['remove']('hidden');const _0x418ca7=doc(db,'artifacts/'+appId+_0xc86d3a(0xc66),currentTeamQuizId),_0x256a13=await getDoc(_0x418ca7);if(!_0x256a13[_0xc86d3a(0xa82)]()){studentResultArea[_0xc86d3a(0x674)]=_0xc86d3a(0xbd5);return;}const _0x312b3b=_0x256a13[_0xc86d3a(0xe5c)]();let _0x3e424f=[];const _0xe88402=_0x312b3b['mode']||_0xc86d3a(0xcb4);if(_0xe88402===_0xc86d3a(0xdd3)){const _0x3e2e14=_0x312b3b[_0xc86d3a(0x7b2)][userId];_0x3e2e14?_0x3e424f=[{'name':_0xc86d3a(0x4c6)+localTeamPlayers['join'](',\x20'),'score':_0x3e2e14['score']||0x0}]:_0x3e424f=[{'name':_0xc86d3a(0x2a1),'score':_0xc86d3a(0xaf9)}];}else _0x3e424f=localTeamPlayers[_0xc86d3a(0x91f)](_0x2fbd29=>({'name':_0x2fbd29,'score':_0x312b3b[_0xc86d3a(0x33b)][_0x2fbd29]?.[_0xc86d3a(0x600)]||0x0}))[_0xc86d3a(0x6f8)]((_0x3f529f,_0x3390e0)=>_0x3390e0[_0xc86d3a(0x600)]-_0x3f529f[_0xc86d3a(0x600)]);studentResultArea[_0xc86d3a(0x674)]=_0xc86d3a(0xcff)+_0x3e424f[_0xc86d3a(0x91f)](_0x430593=>_0xc86d3a(0x74e)+_0x430593[_0xc86d3a(0x47c)]+_0xc86d3a(0x602)+_0x430593[_0xc86d3a(0x600)]+_0xc86d3a(0x72a))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0xc86d3a(0xcbf)](_0xc86d3a(0x9ad)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x36230b=_0xc86d3a;deleteDoc(doc(db,_0x36230b(0x509)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x2e2582(0xa25),'pinnedProjects':[],'projectView':_0x2e2582(0x57e)};const allMathTopics=[{'category':_0x2e2582(0x86d),'name':_0x2e2582(0x361)},{'category':'จำนวนและการดำเนินการ','name':_0x2e2582(0xe53)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0x837)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0xc18)},{'category':'จำนวนและการดำเนินการ','name':_0x2e2582(0xb53)},{'category':_0x2e2582(0x86d),'name':'การลบ'},{'category':_0x2e2582(0x86d),'name':'การคูณ'},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0xa41)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0xcd4)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0x42f)},{'category':'จำนวนและการดำเนินการ','name':'ศูนย์'},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0x87e)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0xd98)},{'category':'จำนวนและการดำเนินการ','name':_0x2e2582(0x2e8)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0xac0)},{'category':'จำนวนและการดำเนินการ','name':_0x2e2582(0x364)},{'category':'จำนวนและการดำเนินการ','name':_0x2e2582(0xda1)},{'category':'จำนวนและการดำเนินการ','name':'อัตราและอัตราหน่วย'},{'category':_0x2e2582(0x86d),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':'จำนวนและการดำเนินการ','name':'การบวกเศษส่วน'},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0x274)},{'category':'จำนวนและการดำเนินการ','name':'การคูณเศษส่วน'},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0x443)},{'category':'จำนวนและการดำเนินการ','name':_0x2e2582(0xdb4)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0xd2c)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0x506)},{'category':'จำนวนและการดำเนินการ','name':_0x2e2582(0x21b)},{'category':'จำนวนและการดำเนินการ','name':_0x2e2582(0xd95)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0x831)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0x4ae)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0xdbf)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0xa4d)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0x726)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0x320)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0x9ef)},{'category':_0x2e2582(0x86d),'name':_0x2e2582(0xf24)},{'category':'จำนวนและการดำเนินการ','name':_0x2e2582(0xca9)},{'category':_0x2e2582(0x447),'name':_0x2e2582(0xc38)},{'category':_0x2e2582(0x447),'name':_0x2e2582(0xd41)},{'category':_0x2e2582(0x447),'name':_0x2e2582(0xc52)},{'category':_0x2e2582(0x447),'name':_0x2e2582(0x967)},{'category':_0x2e2582(0x447),'name':_0x2e2582(0x980)},{'category':_0x2e2582(0x447),'name':_0x2e2582(0x4f1)},{'category':_0x2e2582(0x447),'name':_0x2e2582(0x482)},{'category':'การวัด','name':'พื้นที่สามเหลี่ยม'},{'category':_0x2e2582(0x447),'name':_0x2e2582(0x37c)},{'category':_0x2e2582(0x447),'name':_0x2e2582(0x300)},{'category':_0x2e2582(0x447),'name':_0x2e2582(0x814)},{'category':_0x2e2582(0x447),'name':_0x2e2582(0x6c3)},{'category':_0x2e2582(0x447),'name':_0x2e2582(0xa48)},{'category':'การวัด','name':_0x2e2582(0x9d9)},{'category':_0x2e2582(0xbcf),'name':_0x2e2582(0x388)},{'category':'เรขาคณิต','name':'ความสัมพันธ์ของมุม'},{'category':'เรขาคณิต','name':_0x2e2582(0x6f2)},{'category':_0x2e2582(0xbcf),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x2e2582(0xbcf),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x2e2582(0xbcf),'name':_0x2e2582(0x3b0)},{'category':'เรขาคณิต','name':_0x2e2582(0xa6c)},{'category':_0x2e2582(0xbcf),'name':_0x2e2582(0x455)},{'category':_0x2e2582(0xbcf),'name':_0x2e2582(0x6d1)},{'category':_0x2e2582(0xbcf),'name':_0x2e2582(0xb44)},{'category':'เรขาคณิต','name':_0x2e2582(0x496)},{'category':_0x2e2582(0xbcf),'name':_0x2e2582(0x6da)},{'category':_0x2e2582(0xbcf),'name':_0x2e2582(0x990)},{'category':'เรขาคณิต','name':_0x2e2582(0x349)},{'category':'เรขาคณิต','name':_0x2e2582(0x1eb)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2e2582(0xae5)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0x303)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0xe87)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0x49d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2e2582(0x2bb)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0xf0e)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x2e2582(0x811),'name':_0x2e2582(0x8be)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0x3c5)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเหตุผล\x20(rational)'},{'category':_0x2e2582(0x811),'name':_0x2e2582(0xe7b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2e2582(0x973)},{'category':_0x2e2582(0x811),'name':'สมการลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2e2582(0x87b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2e2582(0xd91)},{'category':_0x2e2582(0x811),'name':'ระบบอสมการ'},{'category':_0x2e2582(0x811),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2e2582(0xa17)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0xef8)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันผกผัน'},{'category':_0x2e2582(0x811),'name':_0x2e2582(0x8d3)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0x94a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2e2582(0x640)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2e2582(0x59b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2e2582(0xbb0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2e2582(0xdf9)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0x79c)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0x367)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0x29a)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0x82c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2e2582(0xa7f)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0xc51)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0xa9e)},{'category':_0x2e2582(0x811),'name':_0x2e2582(0xbb8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2e2582(0x1dd)},{'category':_0x2e2582(0x400),'name':_0x2e2582(0xd64)},{'category':_0x2e2582(0x400),'name':'ความชันและเส้นตรง'},{'category':_0x2e2582(0x400),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':'เรขาคณิตวิเคราะห์','name':_0x2e2582(0xed0)},{'category':'เรขาคณิตวิเคราะห์','name':_0x2e2582(0x255)},{'category':_0x2e2582(0x400),'name':_0x2e2582(0xa28)},{'category':_0x2e2582(0x400),'name':_0x2e2582(0x805)},{'category':_0x2e2582(0x400),'name':_0x2e2582(0x943)},{'category':_0x2e2582(0x400),'name':_0x2e2582(0xd8f)},{'category':_0x2e2582(0xd29),'name':_0x2e2582(0x583)},{'category':_0x2e2582(0xd29),'name':_0x2e2582(0x425)},{'category':_0x2e2582(0xd29),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':'ตรีโกณมิติ','name':_0x2e2582(0x1d3)},{'category':_0x2e2582(0xd29),'name':_0x2e2582(0x477)},{'category':_0x2e2582(0xd29),'name':_0x2e2582(0x44c)},{'category':_0x2e2582(0xd29),'name':_0x2e2582(0x2c0)},{'category':_0x2e2582(0xd29),'name':_0x2e2582(0xc44)},{'category':_0x2e2582(0xd29),'name':'สมการตรีโกณมิติ'},{'category':_0x2e2582(0xd29),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x2e2582(0xd29),'name':_0x2e2582(0x415)},{'category':'สถิติและความน่าจะเป็น','name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x2e2582(0x49a),'name':_0x2e2582(0xd81)},{'category':'สถิติและความน่าจะเป็น','name':_0x2e2582(0x9cd)},{'category':_0x2e2582(0x49a),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x2e2582(0x49a),'name':_0x2e2582(0x30f)},{'category':_0x2e2582(0x49a),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x2e2582(0x49a),'name':_0x2e2582(0x555)},{'category':_0x2e2582(0x49a),'name':_0x2e2582(0x251)},{'category':_0x2e2582(0x49a),'name':'ฐานนิยม'},{'category':_0x2e2582(0x49a),'name':_0x2e2582(0xb7b)},{'category':'สถิติและความน่าจะเป็น','name':_0x2e2582(0xdc8)},{'category':'สถิติและความน่าจะเป็น','name':'ความแปรปรวน'},{'category':_0x2e2582(0x49a),'name':_0x2e2582(0x66c)},{'category':_0x2e2582(0x49a),'name':_0x2e2582(0xb26)},{'category':'สถิติและความน่าจะเป็น','name':_0x2e2582(0x4eb)},{'category':'สถิติและความน่าจะเป็น','name':_0x2e2582(0xa9f)},{'category':_0x2e2582(0x49a),'name':_0x2e2582(0xac1)},{'category':_0x2e2582(0x49a),'name':_0x2e2582(0xc17)},{'category':'สถิติและความน่าจะเป็น','name':_0x2e2582(0xdcb)},{'category':'สถิติและความน่าจะเป็น','name':_0x2e2582(0xda7)},{'category':'สถิติและความน่าจะเป็น','name':_0x2e2582(0x2a2)},{'category':_0x2e2582(0x49a),'name':_0x2e2582(0xf49)},{'category':_0x2e2582(0x49a),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x2e2582(0x49a),'name':_0x2e2582(0x64e)},{'category':_0x2e2582(0xa1c),'name':_0x2e2582(0x654)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2e2582(0xdb8)},{'category':_0x2e2582(0xa1c),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x2e2582(0xa1c),'name':_0x2e2582(0x2ba)},{'category':_0x2e2582(0xa1c),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x2e2582(0xa1c),'name':_0x2e2582(0x3c9)},{'category':_0x2e2582(0xa1c),'name':_0x2e2582(0xb5e)},{'category':_0x2e2582(0xa1c),'name':_0x2e2582(0x5fc)},{'category':_0x2e2582(0xa1c),'name':_0x2e2582(0xd76)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2e2582(0xac5)},{'category':_0x2e2582(0xa1c),'name':'ปริพันธ์จำกัด'},{'category':_0x2e2582(0xa1c),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x2e2582(0xa1c),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2e2582(0x85b)},{'category':_0x2e2582(0xd75),'name':_0x2e2582(0xe9c)},{'category':_0x2e2582(0xd75),'name':_0x2e2582(0x8f0)},{'category':_0x2e2582(0xd75),'name':_0x2e2582(0xba2)},{'category':_0x2e2582(0xd75),'name':_0x2e2582(0x257)},{'category':_0x2e2582(0xd75),'name':_0x2e2582(0x5d5)},{'category':_0x2e2582(0xd75),'name':_0x2e2582(0x478)},{'category':_0x2e2582(0xc31),'name':_0x2e2582(0xea5)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x2e2582(0x2ee)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x2e2582(0xd07)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x2e2582(0xc71)},{'category':_0x2e2582(0xc31),'name':_0x2e2582(0xec6)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x2e2582(0x6b2)},{'category':_0x2e2582(0xf3f),'name':_0x2e2582(0x882)},{'category':_0x2e2582(0xf3f),'name':_0x2e2582(0x4f9)}];function renderTopicCheckboxes(){const _0x48cc4e=_0x2e2582,_0x23e56e=document[_0x48cc4e(0x6ec)](_0x48cc4e(0x780));if(!_0x23e56e)return;const _0x143eef=allMathTopics,_0x47d933=customMathTopics[_0x48cc4e(0x91f)](_0x1bee6e=>({'id':_0x1bee6e['id'],'category':_0x48cc4e(0xa20),'name':_0x1bee6e[_0x48cc4e(0x47c)]})),_0x2e0302=[..._0x143eef,..._0x47d933],_0x3e9a84=_0x2e0302[_0x48cc4e(0x5ed)]((_0x5d692d,_0x36737d)=>{const _0x580655=_0x48cc4e;return!_0x5d692d[_0x36737d['category']]&&(_0x5d692d[_0x36737d['category']]=[]),_0x5d692d[_0x36737d[_0x580655(0xe1e)]]['push'](_0x36737d),_0x5d692d;},{});let _0xe4d619='';const _0x1888ed=[_0x48cc4e(0xa20),...Object[_0x48cc4e(0x66f)](_0x3e9a84)[_0x48cc4e(0xe4e)](_0x163ad9=>_0x163ad9!==_0x48cc4e(0xa20))];for(const _0x59dade of _0x1888ed){if(_0x3e9a84[_0x59dade]){const _0x2e3bed=_0x59dade===_0x48cc4e(0xa20),_0x30cf3b=_0x2e3bed?'fas\x20fa-user-edit':_0x48cc4e(0x4b3),_0x3195ac=_0x2e3bed?_0x48cc4e(0x246):_0x48cc4e(0x768);_0xe4d619+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0xe4d619+=_0x48cc4e(0x52b)+_0x3195ac+_0x48cc4e(0x8b9)+_0x30cf3b+_0x48cc4e(0xa0d)+_0x59dade+'</p>',_0x3e9a84[_0x59dade][_0x48cc4e(0x9ce)](_0xb81fdd=>{const _0x92a10a=_0x48cc4e,_0x23e8dd=!!_0xb81fdd['id'],_0x3cd5fc=_0x23e8dd?_0x92a10a(0x423)+_0xb81fdd['id']+_0x92a10a(0x518)+_0xb81fdd['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xb81fdd['id']+_0x92a10a(0xaa6)+_0xb81fdd['id']+_0x92a10a(0x9cf):'';_0xe4d619+=_0x92a10a(0x4e5)+(_0xb81fdd['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0xb81fdd['name']+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0xb81fdd[_0x92a10a(0x47c)]+_0x92a10a(0xe00)+(_0x23e8dd?_0x92a10a(0xed7)+_0xb81fdd[_0x92a10a(0x47c)]+'\x22>':'')+_0x92a10a(0x3a2)+_0x3cd5fc+_0x92a10a(0x4c2);}),_0xe4d619+='</div>';}}_0x23e56e[_0x48cc4e(0x674)]=_0xe4d619||_0x48cc4e(0x9e9),_0x23e56e[_0x48cc4e(0x637)](_0x48cc4e(0xefa),updateSelectedTopicsCount),_0x23e56e[_0x48cc4e(0x504)](_0x48cc4e(0xefa),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x2e5377,_0x588212){const _0x2024b5=_0x2e2582;if(!_0x2e5377||!_0x588212['trim']()){showMessage(_0x2024b5(0x47e));return;}try{const _0x2561ac=doc(db,_0x2024b5(0x509)+appId+_0x2024b5(0xb95),_0x2e5377);await updateDoc(_0x2561ac,{'name':_0x588212[_0x2024b5(0xdd8)]()}),showMessage(_0x2024b5(0x983));}catch(_0x1ebfaf){console[_0x2024b5(0x61c)]('Error\x20updating\x20custom\x20topic:',_0x1ebfaf),showMessage(_0x2024b5(0x1ed));}}function toggleTopicEditMode(_0x2f42eb,_0x37ab04){const _0x2a5069=_0x2e2582;if(!_0x2f42eb)return;const _0x1591ae=_0x2f42eb[_0x2a5069(0x427)](_0x2a5069(0x3fd)),_0x262bb3=_0x2f42eb[_0x2a5069(0x427)](_0x2a5069(0x309)),_0x2a559f=_0x2f42eb[_0x2a5069(0x427)](_0x2a5069(0x693)),_0x3b39db=_0x2f42eb[_0x2a5069(0x427)](_0x2a5069(0xcad));_0x1591ae[_0x2a5069(0xed5)][_0x2a5069(0x6dd)](_0x2a5069(0x515),_0x37ab04),_0x262bb3[_0x2a5069(0xed5)]['toggle'](_0x2a5069(0x515),!_0x37ab04),_0x2a559f[_0x2a5069(0xed5)]['toggle'](_0x2a5069(0x515),_0x37ab04),_0x3b39db['classList'][_0x2a5069(0x6dd)](_0x2a5069(0x515),!_0x37ab04),_0x37ab04&&(_0x262bb3[_0x2a5069(0x1f2)](),_0x262bb3[_0x2a5069(0x91a)]());}async function handleStartLiveRace(_0x1412ef){const _0x140f5b=_0x2e2582;let _0x1ccc3b=allQuizzes[_0x140f5b(0x426)](_0x1924d2=>_0x1924d2['id']===_0x1412ef);if(!_0x1ccc3b){const _0x405e6c=doc(db,'artifacts/'+appId+_0x140f5b(0x2d1),_0x1412ef),_0x2f2a8e=await getDoc(_0x405e6c);if(!_0x2f2a8e[_0x140f5b(0xa82)]()){showMessage(_0x140f5b(0x476));return;}_0x1ccc3b={'id':_0x2f2a8e['id'],..._0x2f2a8e['data']()};}const _0x32fbdf=getShuffledQuiz(_0x1ccc3b);currentQuizData=_0x32fbdf;const _0x1c001a=_0x1ccc3b['projectId']||currentProjectId||null,_0x3f8762=Math['floor'](0x3e8+Math[_0x140f5b(0x76c)]()*0x2328)['toString']();currentLiveGamePin=_0x3f8762;try{const _0x151fd0=await addDoc(collection(db,_0x140f5b(0x509)+appId+'/public/data/liveGames'),{'quizId':_0x1412ef,'projectId':_0x1c001a,'status':_0x140f5b(0x9ec),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x3f8762,'createdAt':serverTimestamp(),'shuffledQuiz':_0x32fbdf});currentLiveGameId=_0x151fd0['id'],showAdminLobbyView(_0x3f8762,_0x1ccc3b[_0x140f5b(0x308)]),listenForLiveGameUpdates();}catch(_0x567ac4){console[_0x140f5b(0x61c)](_0x140f5b(0x215),_0x567ac4),showMessage(_0x140f5b(0x7b6));}}function updateSelectedTopicsCount(){const _0x77f19=_0x2e2582,_0x53fd78=document[_0x77f19(0x6ec)](_0x77f19(0x780)),_0x4b77cb=_0x53fd78[_0x77f19(0xcf1)](_0x77f19(0xeb6))[_0x77f19(0x83b)],_0x508a5b=document[_0x77f19(0x6ec)](_0x77f19(0x961));_0x4b77cb>0x0?_0x508a5b[_0x77f19(0x337)]=_0x77f19(0x576)+_0x4b77cb+_0x77f19(0x334):_0x508a5b[_0x77f19(0x337)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x2e2582(0x4d0),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x2e2582(0xa19),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x2e2582(0x705),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor='#000000',scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x33632e,_0x544a5e){const _0x38ba68=_0x2e2582;return Math['sqrt'](Math[_0x38ba68(0x697)](_0x33632e['x']-_0x544a5e['x'],0x2)+Math[_0x38ba68(0x697)](_0x33632e['y']-_0x544a5e['y'],0x2));}function getMidpoint(_0x5487a1,_0x542591){return{'x':(_0x5487a1['x']+_0x542591['x'])/0x2,'y':(_0x5487a1['y']+_0x542591['y'])/0x2};}function getTransformedPoint(_0x3cd63e,_0x102033){return{'x':(_0x3cd63e-scratchpadOffset['x'])/scratchpadScale,'y':(_0x102033-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x43102f=_0x2e2582;if(!scratchpadCtx)return;const _0x5de2b3=scratchpadCtx[_0x43102f(0x36f)],_0x4d89cc=window['devicePixelRatio']||0x1,_0x2010e1=document['getElementById'](_0x43102f(0x669));_0x2010e1&&(_0x2010e1[_0x43102f(0xdb7)][_0x43102f(0x3a9)]=_0x43102f(0x95a),_0x2010e1[_0x43102f(0xdb7)][_0x43102f(0x313)]=_0x43102f(0xe33)+scratchpadOffset['x']+_0x43102f(0xb72)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0x43102f(0xbeb)](),scratchpadCtx[_0x43102f(0xd5c)](_0x4d89cc,0x0,0x0,_0x4d89cc,0x0,0x0),scratchpadCtx[_0x43102f(0x2d0)](0x0,0x0,_0x5de2b3[_0x43102f(0x950)],_0x5de2b3[_0x43102f(0xc77)]),scratchpadCtx['restore'](),scratchpadCtx['save'](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x43102f(0x9ce)](_0x91b65a=>{drawStroke(_0x91b65a);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x43102f(0x676)]();}function renderGroupModeQuestion(){const _0x5bc298=_0x2e2582;if(localQuestionIndex>=currentQuizData[_0x5bc298(0xa08)][_0x5bc298(0x83b)]){displayTeamQuizFinalResults();return;}const _0x300f04=currentQuizData[_0x5bc298(0xa08)][localQuestionIndex],_0x5141ad=_0x300f04[_0x5bc298(0xb6d)]||currentQuizData[_0x5bc298(0x80d)];let _0x3b0f2c=_0x300f04[_0x5bc298(0x71c)]||_0x300f04[_0x5bc298(0x912)],_0x549cc4='';switch(_0x5141ad){case _0x5bc298(0xbb3):case _0x5bc298(0x2af):_0x549cc4=_0x300f04[_0x5bc298(0x25f)]['map']((_0x3da398,_0x602bbe)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x602bbe+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x602bbe+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x602bbe+'\x22>'+_0x3da398+_0x5bc298(0x617))[_0x5bc298(0x8c3)]('');break;case _0x5bc298(0x35c):_0x549cc4=_0x5bc298(0xa42);break;case'short_answer':case _0x5bc298(0x8f5):_0x549cc4='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case _0x5bc298(0x440):_0x549cc4=_0x5bc298(0x59e)+_0x300f04[_0x5bc298(0xa2e)]['map'](_0x88f37e=>_0x5bc298(0x3e4)+_0x88f37e+'\x22>'+_0x88f37e+_0x5bc298(0x645))[_0x5bc298(0x8c3)]('')+_0x5bc298(0x268);break;default:_0x549cc4='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x5bc298(0x674)]=_0x5bc298(0x394)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x5bc298(0xa08)][_0x5bc298(0x83b)]+_0x5bc298(0xbfd)+localTeamPlayers[_0x5bc298(0x8c3)](',\x20')+_0x5bc298(0x419)+(localQuestionIndex+0x1)+'.\x20'+_0x3b0f2c+_0x5bc298(0x8ae)+(_0x300f04[_0x5bc298(0xde8)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x300f04[_0x5bc298(0xde8)]+_0x5bc298(0x4f3):'')+_0x5bc298(0x883)+_0x549cc4+_0x5bc298(0x713),studentQuizArea[_0x5bc298(0xed5)][_0x5bc298(0xb8a)]('hidden');if(window[_0x5bc298(0xef3)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x5bc298(0x1d5))[_0x5bc298(0x504)]('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x3a240b,_0x18dc9b=null,_0x259651,_0x5cb77d=null,_0x1e3b58=![],_0x3edf80=null){const _0x58ffcb=_0x2e2582,_0x598900=document[_0x58ffcb(0x6ec)](_0x58ffcb(0x6c8));_0x598900&&_0x598900[_0x58ffcb(0x4e9)]({'behavior':_0x58ffcb(0x516),'block':_0x58ffcb(0x8f4)}),generateQuiz(_0x3a240b,_0x18dc9b,null,_0x3edf80,!![],_0x259651,_0x5cb77d,_0x1e3b58);}function handleGenerateAndShowLesson(_0x4993c2,_0x58e81f){const _0x5dd24c=_0x2e2582,_0x49f77=document[_0x5dd24c(0x6ec)](_0x5dd24c(0x909)),_0x59c1bb=document[_0x5dd24c(0x6ec)]('lesson-view-title'),_0x3b9d32=document['getElementById'](_0x5dd24c(0x95c)),_0x1e452d=document[_0x5dd24c(0x6ec)](_0x5dd24c(0xca5));[_0x5dd24c(0x898),'memoryContent','applicationContent',_0x5dd24c(0xa64)][_0x5dd24c(0x9ce)](_0x280853=>{const _0x49a83e=_0x5dd24c,_0x48971f=document[_0x49a83e(0x6ec)](_0x280853)[_0x49a83e(0x7cc)];_0x48971f&&(_0x48971f[_0x49a83e(0xdb7)][_0x49a83e(0x35a)]=_0x49a83e(0x6dc));}),_0x59c1bb[_0x5dd24c(0x337)]='กำลังสร้างบทเรียน:\x20'+_0x4993c2,_0x1e452d['classList'][_0x5dd24c(0xbca)](_0x5dd24c(0x515)),_0x3b9d32[_0x5dd24c(0xed5)]['remove'](_0x5dd24c(0x515)),_0x49f77[_0x5dd24c(0xed5)][_0x5dd24c(0xb8a)](_0x5dd24c(0x515)),generateLesson(_0x4993c2,_0x58e81f)['catch'](_0x20ca5d=>{const _0xa8571a=_0x5dd24c;console['error']('Failed\x20to\x20generate\x20lesson:',_0x20ca5d),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x49f77[_0xa8571a(0xed5)][_0xa8571a(0xbca)](_0xa8571a(0x515));});}function handlePointerDown(_0xec111e){const _0x3c7ebd=_0x2e2582;_0xec111e[_0x3c7ebd(0xf44)]();const _0x51097b=scratchpadCtx[_0x3c7ebd(0x36f)],_0x558082=_0x51097b[_0x3c7ebd(0x324)](),_0x3c39e4=_0xec111e[_0x3c7ebd(0x976)]||(_0xec111e[_0x3c7ebd(0xa39)]?_0x3c7ebd(0xd92):'mouse');if(_0x3c39e4==='pen'||_0x3c39e4==='mouse'){if(_0xec111e[_0x3c7ebd(0x976)]==='mouse'&&_0xec111e[_0x3c7ebd(0xb49)]!==0x0){_0xec111e[_0x3c7ebd(0xb49)]===0x1&&(isMousePanning=!![],panStart={'x':_0xec111e[_0x3c7ebd(0xd16)],'y':_0xec111e['clientY']},_0x51097b[_0x3c7ebd(0xdb7)][_0x3c7ebd(0x42c)]=_0x3c7ebd(0xdf8));return;}activeTool===_0x3c7ebd(0xce7)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x560e99=getTransformedPoint(_0xec111e[_0x3c7ebd(0xd16)]-_0x558082[_0x3c7ebd(0x322)],_0xec111e['clientY']-_0x558082['top']);let _0x4f4617={'tool':activeTool,'points':[_0x560e99]};if(activeTool===_0x3c7ebd(0xaf1))_0x4f4617['color']=scratchpadPenColor,_0x4f4617[_0x3c7ebd(0xdb2)]=scratchpadPenSize;else{if(activeTool===_0x3c7ebd(0x8e9))_0x4f4617['color']=scratchpadPenColor,_0x4f4617[_0x3c7ebd(0xdb2)]=scratchpadEraserSize;else{if(activeTool===_0x3c7ebd(0x2df))_0x4f4617[_0x3c7ebd(0x6ad)]=scratchpadHighlighterColor,_0x4f4617[_0x3c7ebd(0xdb2)]=scratchpadHighlighterSize;else activeTool===_0x3c7ebd(0xce7)&&(_0x4f4617[_0x3c7ebd(0x6ad)]=scratchpadPenColor,_0x4f4617[_0x3c7ebd(0xdb2)]=scratchpadPenSize);}}currentStroke=_0x4f4617;}else _0xec111e[_0x3c7ebd(0xa39)]&&(_0xec111e[_0x3c7ebd(0xa39)]['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0xec111e[_0x3c7ebd(0xa39)][0x0]['clientX'],'y':_0xec111e[_0x3c7ebd(0xa39)][0x0]['clientY']},{'x':_0xec111e['touches'][0x1][_0x3c7ebd(0xd16)],'y':_0xec111e['touches'][0x1][_0x3c7ebd(0xccc)]}),initialPinchDistance=getDistance({'x':_0xec111e['touches'][0x0]['clientX'],'y':_0xec111e[_0x3c7ebd(0xa39)][0x0][_0x3c7ebd(0xccc)]},{'x':_0xec111e[_0x3c7ebd(0xa39)][0x1][_0x3c7ebd(0xd16)],'y':_0xec111e[_0x3c7ebd(0xa39)][0x1][_0x3c7ebd(0xccc)]})));}function animateTrail(){const _0x82b91d=_0x2e2582,_0x10311e=Date['now']();let _0x4b960c=![];for(let _0xf2a9c9=strokes[_0x82b91d(0x83b)]-0x1;_0xf2a9c9>=0x0;_0xf2a9c9--){const _0x5e1c84=strokes[_0xf2a9c9];if(_0x5e1c84[_0x82b91d(0x8a3)]===_0x82b91d(0xce7)&&_0x5e1c84[_0x82b91d(0x687)]){const _0x108aa3=_0x10311e-_0x5e1c84[_0x82b91d(0x687)];_0x108aa3>=TRAIL_DURATION?strokes[_0x82b91d(0x4de)](_0xf2a9c9,0x1):(_0x5e1c84[_0x82b91d(0xe23)]=0x1-_0x108aa3/TRAIL_DURATION,_0x4b960c=!![]);}}redrawScratchpad(),_0x4b960c?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x35b597){const _0x3e6696=_0x2e2582;if(!_0x35b597||_0x35b597[_0x3e6696(0xf1b)][_0x3e6696(0x83b)]<0x1)return;scratchpadCtx[_0x3e6696(0xbeb)](),scratchpadCtx[_0x3e6696(0x946)]='round',scratchpadCtx[_0x3e6696(0xdd4)]=_0x3e6696(0xa75);if(_0x35b597[_0x3e6696(0x8a3)]===_0x3e6696(0xce7)){const _0x2fbf60=_0x35b597[_0x3e6696(0xdb2)]/scratchpadScale;scratchpadCtx[_0x3e6696(0x924)]=_0x35b597['opacity']??0x1,scratchpadCtx[_0x3e6696(0x3ab)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x3e6696(0x649)]=_0x2fbf60*0x3,scratchpadCtx[_0x3e6696(0x2f7)]=_0x3e6696(0x536),scratchpadCtx[_0x3e6696(0x56b)]=_0x2fbf60*2.5,scratchpadCtx[_0x3e6696(0xdb5)](),scratchpadCtx[_0x3e6696(0x464)](_0x35b597[_0x3e6696(0xf1b)][0x0]['x'],_0x35b597[_0x3e6696(0xf1b)][0x0]['y']);for(let _0x15e522=0x1;_0x15e522<_0x35b597[_0x3e6696(0xf1b)][_0x3e6696(0x83b)]-0x1;_0x15e522++){const _0x24bff7=getMidpoint(_0x35b597[_0x3e6696(0xf1b)][_0x15e522],_0x35b597[_0x3e6696(0xf1b)][_0x15e522+0x1]);scratchpadCtx[_0x3e6696(0x982)](_0x35b597['points'][_0x15e522]['x'],_0x35b597[_0x3e6696(0xf1b)][_0x15e522]['y'],_0x24bff7['x'],_0x24bff7['y']);}scratchpadCtx[_0x3e6696(0x510)](),scratchpadCtx[_0x3e6696(0x3ab)]=_0x3e6696(0x7d3),scratchpadCtx[_0x3e6696(0x649)]=0x0,scratchpadCtx[_0x3e6696(0x2f7)]=_0x3e6696(0x29c),scratchpadCtx[_0x3e6696(0x56b)]=_0x2fbf60,scratchpadCtx[_0x3e6696(0x510)](),scratchpadCtx[_0x3e6696(0xe56)]();}else{if(_0x35b597[_0x3e6696(0x8a3)]===_0x3e6696(0x2df)){scratchpadCtx[_0x3e6696(0x501)]=_0x3e6696(0x341),scratchpadCtx[_0x3e6696(0x2f7)]=_0x35b597[_0x3e6696(0x6ad)],scratchpadCtx[_0x3e6696(0x56b)]=_0x35b597[_0x3e6696(0xdb2)],scratchpadCtx[_0x3e6696(0xdb5)](),scratchpadCtx[_0x3e6696(0x464)](_0x35b597['points'][0x0]['x'],_0x35b597[_0x3e6696(0xf1b)][0x0]['y']);for(let _0x20cf97=0x1;_0x20cf97<_0x35b597[_0x3e6696(0xf1b)][_0x3e6696(0x83b)]-0x1;_0x20cf97++){const _0x31b2b2=getMidpoint(_0x35b597[_0x3e6696(0xf1b)][_0x20cf97],_0x35b597[_0x3e6696(0xf1b)][_0x20cf97+0x1]);scratchpadCtx[_0x3e6696(0x982)](_0x35b597[_0x3e6696(0xf1b)][_0x20cf97]['x'],_0x35b597[_0x3e6696(0xf1b)][_0x20cf97]['y'],_0x31b2b2['x'],_0x31b2b2['y']);}scratchpadCtx[_0x3e6696(0x510)](),scratchpadCtx[_0x3e6696(0xe56)]();}else{scratchpadCtx[_0x3e6696(0x501)]=_0x35b597[_0x3e6696(0x8a3)]===_0x3e6696(0x8e9)?_0x3e6696(0x7ba):_0x3e6696(0x3a1),scratchpadCtx[_0x3e6696(0x2f7)]=_0x35b597[_0x3e6696(0x6ad)],scratchpadCtx[_0x3e6696(0x56b)]=_0x35b597[_0x3e6696(0xdb2)],scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x35b597[_0x3e6696(0xf1b)][0x0]['x'],_0x35b597['points'][0x0]['y']);for(let _0x5cde04=0x1;_0x5cde04<_0x35b597[_0x3e6696(0xf1b)][_0x3e6696(0x83b)]-0x1;_0x5cde04++){const _0x53568e=getMidpoint(_0x35b597[_0x3e6696(0xf1b)][_0x5cde04],_0x35b597[_0x3e6696(0xf1b)][_0x5cde04+0x1]);scratchpadCtx[_0x3e6696(0x982)](_0x35b597[_0x3e6696(0xf1b)][_0x5cde04]['x'],_0x35b597[_0x3e6696(0xf1b)][_0x5cde04]['y'],_0x53568e['x'],_0x53568e['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x3e6696(0x676)]();}function handlePointerMove(_0x2ba7a5){const _0x52981e=_0x2e2582;_0x2ba7a5[_0x52981e(0xf44)]();const _0x2db76e=scratchpadCtx[_0x52981e(0x36f)],_0x3bd782=_0x2db76e['getBoundingClientRect']();if(_0x2ba7a5[_0x52981e(0xa39)]){if(_0x2ba7a5[_0x52981e(0xa39)][_0x52981e(0x83b)]===0x1&&isDrawingOnScratchpad){const _0x2941a8=getTransformedPoint(_0x2ba7a5[_0x52981e(0xa39)][0x0][_0x52981e(0xd16)]-_0x3bd782['left'],_0x2ba7a5[_0x52981e(0xa39)][0x0][_0x52981e(0xccc)]-_0x3bd782[_0x52981e(0x276)]);currentStroke[_0x52981e(0xf1b)]['push'](_0x2941a8),redrawScratchpad();}else{if(_0x2ba7a5[_0x52981e(0xa39)]['length']===0x2&&isPanning){const _0x3b512a=getDistance({'x':_0x2ba7a5[_0x52981e(0xa39)][0x0][_0x52981e(0xd16)],'y':_0x2ba7a5[_0x52981e(0xa39)][0x0][_0x52981e(0xccc)]},{'x':_0x2ba7a5[_0x52981e(0xa39)][0x1][_0x52981e(0xd16)],'y':_0x2ba7a5[_0x52981e(0xa39)][0x1][_0x52981e(0xccc)]}),_0x31a6a4=getMidpoint({'x':_0x2ba7a5['touches'][0x0][_0x52981e(0xd16)],'y':_0x2ba7a5[_0x52981e(0xa39)][0x0]['clientY']},{'x':_0x2ba7a5[_0x52981e(0xa39)][0x1]['clientX'],'y':_0x2ba7a5[_0x52981e(0xa39)][0x1][_0x52981e(0xccc)]}),_0x1cfc2d=_0x3b512a/ initialPinchDistance,_0x26443b=Math['min'](Math[_0x52981e(0xd94)](scratchpadScale*_0x1cfc2d,MIN_SCALE),MAX_SCALE),_0x532072=_0x31a6a4['x']-panStart['x'],_0x570e7e=_0x31a6a4['y']-panStart['y'];scratchpadOffset['x']=_0x31a6a4['x']-(_0x31a6a4['x']-scratchpadOffset['x'])*(_0x26443b/scratchpadScale),scratchpadOffset['y']=_0x31a6a4['y']-(_0x31a6a4['y']-scratchpadOffset['y'])*(_0x26443b/scratchpadScale),scratchpadOffset['x']+=_0x532072,scratchpadOffset['y']+=_0x570e7e,scratchpadScale=_0x26443b,initialPinchDistance=_0x3b512a,panStart=_0x31a6a4,redrawScratchpad();}}}else{if(isMousePanning){const _0x28c33c=_0x2ba7a5[_0x52981e(0xd16)]-panStart['x'],_0x421f53=_0x2ba7a5[_0x52981e(0xccc)]-panStart['y'];scratchpadOffset['x']+=_0x28c33c,scratchpadOffset['y']+=_0x421f53,panStart={'x':_0x2ba7a5[_0x52981e(0xd16)],'y':_0x2ba7a5[_0x52981e(0xccc)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x5aaa75=getTransformedPoint(_0x2ba7a5[_0x52981e(0xd16)]-_0x3bd782[_0x52981e(0x322)],_0x2ba7a5['clientY']-_0x3bd782['top']);currentStroke[_0x52981e(0xf1b)][_0x52981e(0x724)](_0x5aaa75),redrawScratchpad();}}}}function handlePointerUp(_0x167afe){const _0x2952ce=_0x2e2582;_0x167afe['preventDefault']();const _0x3de5ad=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x3de5ad[_0x2952ce(0xdb7)][_0x2952ce(0x42c)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x2952ce(0xf1b)]['length']>0x1&&(strokes[_0x2952ce(0x724)](currentStroke),currentStroke[_0x2952ce(0x8a3)]===_0x2952ce(0xce7)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x1205fc=_0x2952ce,_0x4d38b4=strokes['filter'](_0x5ce098=>_0x5ce098['tool']===_0x1205fc(0xce7)&&!_0x5ce098[_0x1205fc(0x687)]);if(_0x4d38b4['length']>0x0){const _0x5611d7=Date[_0x1205fc(0xbf5)]();_0x4d38b4['forEach'](_0x4a0196=>_0x4a0196[_0x1205fc(0x687)]=_0x5611d7),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0xc8667e){const _0x15f6c7=_0x2e2582;_0xc8667e[_0x15f6c7(0xf44)]();const _0x180868=_0xc8667e[_0x15f6c7(0x916)]*-0.005,_0x4ecbd9=Math['min'](Math[_0x15f6c7(0xd94)](scratchpadScale+_0x180868,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0xc8667e[_0x15f6c7(0xd16)]-(_0xc8667e[_0x15f6c7(0xd16)]-scratchpadOffset['x'])*(_0x4ecbd9/scratchpadScale),scratchpadOffset['y']=_0xc8667e['clientY']-(_0xc8667e[_0x15f6c7(0xccc)]-scratchpadOffset['y'])*(_0x4ecbd9/scratchpadScale),scratchpadScale=_0x4ecbd9,redrawScratchpad();}function undo(){const _0x1b92fc=_0x2e2582;strokes[_0x1b92fc(0x83b)]>0x0&&(redoStrokes[_0x1b92fc(0x724)](strokes[_0x1b92fc(0x412)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x21f6d3=_0x2e2582;redoStrokes[_0x21f6d3(0x83b)]>0x0&&(strokes['push'](redoStrokes[_0x21f6d3(0x412)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x410b7b=_0x2e2582;document['getElementById']('undo-btn')[_0x410b7b(0x736)]=strokes[_0x410b7b(0x83b)]===0x0,document[_0x410b7b(0x6ec)](_0x410b7b(0x1d7))[_0x410b7b(0x736)]=redoStrokes[_0x410b7b(0x83b)]===0x0;}function openScratchpad(_0x490dc5,_0x3fbe0e){const _0x5f553a=_0x2e2582,_0x17da15=document['getElementById']('scratchpad-modal'),_0x1a586b=document[_0x5f553a(0x6ec)](_0x5f553a(0x4fc)),_0x7ed914=document[_0x5f553a(0x6ec)](_0x5f553a(0xa4f)),_0x33db86=document[_0x5f553a(0x6ec)](_0x5f553a(0x4bb));_0x1a586b[_0x5f553a(0x674)]=_0x490dc5[_0x5f553a(0x71c)]||_0x490dc5[_0x5f553a(0x912)],_0x7ed914[_0x5f553a(0x674)]=_0x3fbe0e[_0x5f553a(0x91f)]((_0x260fc0,_0x5b4957)=>_0x5f553a(0xd36)+String[_0x5f553a(0xb87)](0x41+_0x5b4957)+'.\x20'+_0x260fc0+_0x5f553a(0x4f3))['join'](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x17da15[_0x5f553a(0xed5)][_0x5f553a(0xb8a)](_0x5f553a(0x515)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x5f553a(0xef3)])MathJax[_0x5f553a(0x396)]([_0x1a586b,_0x7ed914]);}function openBlueprintQuizSettings(){const _0x3966b3=_0x2e2582,_0x1201ca=document[_0x3966b3(0x6ec)](_0x3966b3(0x706)),_0xbd0795=blueprintPageSettings||(currentProjectData?currentProjectData[_0x3966b3(0xe11)]:{})||{};document['getElementById'](_0x3966b3(0xf23))[_0x3966b3(0x8c2)]=_0xbd0795[_0x3966b3(0x80d)]||document[_0x3966b3(0x6ec)](_0x3966b3(0x94c))['value'],document[_0x3966b3(0x6ec)](_0x3966b3(0xa5b))[_0x3966b3(0x674)]=document[_0x3966b3(0x6ec)](_0x3966b3(0xeb1))[_0x3966b3(0x674)],document[_0x3966b3(0x6ec)](_0x3966b3(0xa5b))[_0x3966b3(0x8c2)]=_0xbd0795['difficultyValue']||document[_0x3966b3(0x6ec)](_0x3966b3(0xeb1))['value'],document[_0x3966b3(0x6ec)](_0x3966b3(0xdcf))[_0x3966b3(0x674)]=document[_0x3966b3(0x6ec)](_0x3966b3(0x9cc))[_0x3966b3(0x674)],document[_0x3966b3(0x6ec)](_0x3966b3(0xdcf))[_0x3966b3(0x8c2)]=_0xbd0795['complexityValue']||document['getElementById']('question-complexity-select')[_0x3966b3(0x8c2)],document[_0x3966b3(0x6ec)]('bp-modal-num-questions')['value']=_0xbd0795[_0x3966b3(0x727)]||document[_0x3966b3(0x6ec)]('num-questions')[_0x3966b3(0x8c2)],document[_0x3966b3(0x6ec)]('bp-modal-passing-score-input')[_0x3966b3(0x8c2)]=_0xbd0795['passingScore']||document['getElementById'](_0x3966b3(0xc61))[_0x3966b3(0x8c2)],document[_0x3966b3(0x6ec)](_0x3966b3(0xbac))[_0x3966b3(0x8c2)]=_0xbd0795[_0x3966b3(0xc27)]||document[_0x3966b3(0x6ec)](_0x3966b3(0x655))[_0x3966b3(0x8c2)],document[_0x3966b3(0x6ec)](_0x3966b3(0xaf0))[_0x3966b3(0x8c2)]=_0xbd0795[_0x3966b3(0x4a4)]||document['getElementById'](_0x3966b3(0x279))[_0x3966b3(0x8c2)],document[_0x3966b3(0x6ec)](_0x3966b3(0xa96))[_0x3966b3(0xa0a)]=_0xbd0795[_0x3966b3(0x3d1)]||document[_0x3966b3(0x6ec)](_0x3966b3(0x9c4))[_0x3966b3(0xa0a)],_0x1201ca['classList'][_0x3966b3(0xb8a)](_0x3966b3(0x515));}function handleSaveBlueprintPageSettings(){const _0x452d34=_0x2e2582;blueprintPageSettings={'quizType':document[_0x452d34(0x6ec)]('bp-modal-quiz-type-select')['value'],'difficultyValue':document[_0x452d34(0x6ec)](_0x452d34(0xa5b))[_0x452d34(0x8c2)],'complexityValue':document[_0x452d34(0x6ec)](_0x452d34(0xdcf))[_0x452d34(0x8c2)],'numQuestions':document[_0x452d34(0x6ec)](_0x452d34(0x87a))[_0x452d34(0x8c2)],'passingScore':document['getElementById'](_0x452d34(0xaa3))[_0x452d34(0x8c2)],'numChoices':document[_0x452d34(0x6ec)](_0x452d34(0xbac))[_0x452d34(0x8c2)],'shuffle':document[_0x452d34(0x6ec)]('bp-modal-shuffle-setting-select')['value'],'includeImages':document['getElementById'](_0x452d34(0xa96))[_0x452d34(0xa0a)]},showMessage(_0x452d34(0x375)),document['getElementById'](_0x452d34(0x706))[_0x452d34(0xed5)][_0x452d34(0xbca)](_0x452d34(0x515));}function listenForParallelTestShortcuts(){const _0x5812c5=_0x2e2582,_0x2c6c68=doc(db,_0x5812c5(0x854),_0x5812c5(0xdce));onSnapshot(_0x2c6c68,_0x3e131b=>{const _0x2b46f2=_0x5812c5;let _0x441524=[],_0x33a935=[],_0x47d2ca={};if(_0x3e131b[_0x2b46f2(0xa82)]()){const _0x1f1a4d=_0x3e131b[_0x2b46f2(0xe5c)]();_0x441524=_0x1f1a4d[_0x2b46f2(0x2ce)]||[],_0x33a935=_0x1f1a4d[_0x2b46f2(0xaef)]||[],_0x47d2ca=_0x1f1a4d[_0x2b46f2(0x23d)]||{};}!_0x33a935['find'](_0xac51ad=>_0xac51ad['id']==='all')&&_0x33a935[_0x2b46f2(0x5f7)]({'id':_0x2b46f2(0x5e4),'name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x441524[_0x2b46f2(0x426)](_0x485651=>_0x485651['id']===_0x2b46f2(0x374))&&_0x441524['unshift']({'id':_0x2b46f2(0x374),'name':'ต้นฉบับ\x201','url':'','isDefault':!![]}),!_0x441524[_0x2b46f2(0x426)](_0x4c1f15=>_0x4c1f15['id']===_0x2b46f2(0x7fd))&&_0x441524[_0x2b46f2(0x5f7)]({'id':_0x2b46f2(0x7fd),'name':_0x2b46f2(0xc47),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x441524,parallelShortcutTabs=_0x33a935,parallelShortcutOrder=_0x47d2ca,renderParallelTestShortcuts(),!document[_0x2b46f2(0x6ec)]('additional-parallel-shortcuts-modal')[_0x2b46f2(0xed5)][_0x2b46f2(0x84c)]('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x1d4940=_0x2e2582,_0x50edd9=doc(db,_0x1d4940(0x854),_0x1d4940(0xdce));try{await setDoc(_0x50edd9,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x1e562f){console[_0x1d4940(0x61c)](_0x1d4940(0xea3),_0x1e562f);}}function renderAdditionalParallelShortcutsModal(){const _0x524cd6=_0x2e2582,_0x37d9de=document['getElementById']('parallel-shortcut-tabs-nav'),_0xc9a313=document[_0x524cd6(0x6ec)](_0x524cd6(0xf28));if(!_0x37d9de||!_0xc9a313)return;_0x37d9de[_0x524cd6(0x674)]=parallelShortcutTabs['map'](_0xb8b204=>{const _0x1d546e=_0x524cd6,_0xb21ca2=_0xb8b204['id']===activeParallelShortcutTabId;return _0x1d546e(0xb4f)+_0xb8b204['id']+_0x1d546e(0x8c1)+(_0xb21ca2?_0x1d546e(0xdab):_0x1d546e(0xef7))+_0x1d546e(0xe60)+_0xb8b204[_0x1d546e(0x47c)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0xb8b204[_0x1d546e(0x47c)]+_0x1d546e(0x35f)+(!_0xb8b204[_0x1d546e(0x34e)]?'<button\x20data-tab-id=\x22'+_0xb8b204['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x1d546e(0xe6a);})['join']('');const _0x3eccfa=parallelShortcutTabs[_0x524cd6(0x426)](_0xa3f227=>_0xa3f227['id']===activeParallelShortcutTabId);let _0x583501=_0x3eccfa?.['isDefault']?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x21e99f=>(_0x3eccfa?.['shortcutIds']||[])[_0x524cd6(0x9ee)](_0x21e99f['id']));const _0x3984cd=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x583501[_0x524cd6(0x6f8)]((_0x2f6736,_0x32fe40)=>{const _0x4f530c=_0x524cd6,_0x199d11=_0x3984cd[_0x4f530c(0x3b3)](_0x2f6736['id']),_0x1ec1f0=_0x3984cd[_0x4f530c(0x3b3)](_0x32fe40['id']);return(_0x199d11===-0x1?Infinity:_0x199d11)-(_0x1ec1f0===-0x1?Infinity:_0x1ec1f0);}),_0xc9a313['innerHTML']=_0x583501[_0x524cd6(0x91f)](_0x478b3c=>{const _0x20eaa4=_0x524cd6,_0x40e879=_0x478b3c[_0x20eaa4(0xbaf)]?'🔁':'🔗',_0x4768af=parallelShortcutTabs['filter'](_0x13421b=>!_0x13421b[_0x20eaa4(0x34e)]),_0x1d68e2=_0x3eccfa[_0x20eaa4(0x34e)]&&_0x4768af[_0x20eaa4(0x83b)]>0x0?_0x20eaa4(0x2fa)+_0x4768af[_0x20eaa4(0x91f)](_0x420052=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x478b3c['id']+_0x20eaa4(0x73d)+_0x420052['id']+'\x22>'+_0x420052[_0x20eaa4(0x47c)]+_0x20eaa4(0x2c9))['join']('')+_0x20eaa4(0xdc6):'';return _0x20eaa4(0xb19)+_0x478b3c['id']+_0x20eaa4(0x8d5)+_0x40e879+'\x20'+_0x478b3c['name']+_0x20eaa4(0x23a)+_0x478b3c['id']+_0x20eaa4(0x839)+_0x478b3c['id']+_0x20eaa4(0x836)+(!_0x478b3c['isDefault']?_0x20eaa4(0xae1)+_0x478b3c['id']+_0x20eaa4(0x6bd):'')+_0x20eaa4(0x500)+(!_0x3eccfa[_0x20eaa4(0x34e)]?_0x20eaa4(0xa3a)+_0x478b3c['id']+_0x20eaa4(0xc4f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d68e2+_0x20eaa4(0xccd);})[_0x524cd6(0x8c3)]('')||_0x524cd6(0x981),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x527492=_0x2e2582;document[_0x527492(0xcf1)](_0x527492(0x353))[_0x527492(0x9ce)](_0x387793=>{const _0x246281=_0x527492;_0x387793['onclick']=_0x13eb63=>{const _0x2c4917=_0x5f2f;activeParallelShortcutTabId=_0x13eb63['currentTarget'][_0x2c4917(0x261)][_0x2c4917(0xe73)],renderAdditionalParallelShortcutsModal();},_0x387793[_0x246281(0x62e)]=_0x52bb2a=>{const _0x24b792=_0x246281,_0x512fe3=_0x52bb2a['currentTarget'][_0x24b792(0x427)](_0x24b792(0xe21));_0x52bb2a['currentTarget'][_0x24b792(0x427)](_0x24b792(0x7e1))[_0x24b792(0xed5)]['add']('hidden'),_0x512fe3[_0x24b792(0xed5)][_0x24b792(0xb8a)](_0x24b792(0x515)),_0x512fe3[_0x24b792(0x1f2)](),_0x512fe3[_0x24b792(0x91a)]();};}),document[_0x527492(0xcf1)]('#parallel-shortcut-tabs-nav\x20.tab-name-input')[_0x527492(0x9ce)](_0x5d2ebc=>{const _0x3576ac=_0x527492,_0x2e0bba=()=>{const _0x31b9f4=_0x5f2f,_0x5b7144=_0x5d2ebc['closest'](_0x31b9f4(0x353))['dataset'][_0x31b9f4(0xe73)],_0x177214=parallelShortcutTabs[_0x31b9f4(0x426)](_0x142806=>_0x142806['id']===_0x5b7144);_0x177214&&(_0x177214['name']=_0x5d2ebc[_0x31b9f4(0x8c2)][_0x31b9f4(0xdd8)]()||_0x177214[_0x31b9f4(0x47c)],saveParallelShortcutConfig());};_0x5d2ebc[_0x3576ac(0x975)]=_0x2e0bba,_0x5d2ebc[_0x3576ac(0x5a9)]=_0x3e8cd0=>{const _0x8f41ee=_0x3576ac;if(_0x3e8cd0[_0x8f41ee(0x4ef)]===_0x8f41ee(0x3e0))_0x5d2ebc[_0x8f41ee(0xf3d)]();};}),document['querySelectorAll'](_0x527492(0xecd))[_0x527492(0x9ce)](_0x53b1bb=>_0x53b1bb[_0x527492(0xdba)]=_0x2cf769=>{const _0x379fe5=_0x527492,_0x58b21a=_0x2cf769[_0x379fe5(0x968)][_0x379fe5(0x261)][_0x379fe5(0xe73)];showConfirmation(_0x379fe5(0x533),()=>{const _0x21131a=_0x379fe5;parallelShortcutTabs=parallelShortcutTabs[_0x21131a(0xe4e)](_0x56f1e1=>_0x56f1e1['id']!==_0x58b21a),delete parallelShortcutOrder[_0x58b21a];if(activeParallelShortcutTabId===_0x58b21a)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x527492(0xcf1)](_0x527492(0xc28))['forEach'](_0x581e3c=>_0x581e3c['onclick']=_0x43e1c6=>{const _0x123135=_0x527492;_0x43e1c6['preventDefault']();const {shortcutId:_0x3d868f,targetTabId:_0xf42452}=_0x43e1c6[_0x123135(0x968)]['dataset'],_0xd0d0eb=parallelShortcutTabs['find'](_0x1b068b=>_0x1b068b['id']===_0xf42452);_0xd0d0eb&&!_0xd0d0eb['shortcutIds'][_0x123135(0x9ee)](_0x3d868f)&&(_0xd0d0eb[_0x123135(0x694)][_0x123135(0x724)](_0x3d868f),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x527492(0x86c))[_0x527492(0x9ce)](_0x9864ee=>_0x9864ee[_0x527492(0xdba)]=_0x2a1c19=>{const _0x8a2561=_0x527492,_0x4e1171=_0x2a1c19['currentTarget'][_0x8a2561(0x261)][_0x8a2561(0x47f)],_0x27affa=parallelShortcutTabs[_0x8a2561(0x426)](_0x51422c=>_0x51422c['id']===activeParallelShortcutTabId);_0x27affa&&!_0x27affa[_0x8a2561(0x34e)]&&(_0x27affa[_0x8a2561(0x694)]=_0x27affa[_0x8a2561(0x694)][_0x8a2561(0xe4e)](_0x42ed22=>_0x42ed22!==_0x4e1171),saveParallelShortcutConfig());}),document['querySelectorAll']('.move-parallel-shortcut-menu-btn')[_0x527492(0x9ce)](_0x495f59=>_0x495f59[_0x527492(0xdba)]=_0x1e8052=>{const _0x2f7262=_0x527492;_0x1e8052['stopPropagation']();const _0xc5388f=_0x1e8052[_0x2f7262(0x968)][_0x2f7262(0xe2f)];document[_0x2f7262(0xcf1)](_0x2f7262(0xaee))[_0x2f7262(0x9ce)](_0x40c36a=>_0x40c36a[_0x2f7262(0xed5)]['add'](_0x2f7262(0x515))),_0xc5388f[_0x2f7262(0xed5)][_0x2f7262(0xb8a)]('hidden');});const _0x11a7b5=document['getElementById']('additional-parallel-shortcuts-list');let _0x233df2=null;_0x11a7b5[_0x527492(0xb82)]=_0x4e8756=>{const _0x124069=_0x527492;_0x233df2=_0x4e8756['target'][_0x124069(0x366)](_0x124069(0x4b8));if(_0x233df2)setTimeout(()=>_0x233df2['classList'][_0x124069(0xbca)]('opacity-50'),0x0);},_0x11a7b5[_0x527492(0x387)]=()=>{const _0x506dd9=_0x527492;_0x233df2&&(_0x233df2['classList']['remove'](_0x506dd9(0xe80)),_0x233df2=null);},_0x11a7b5[_0x527492(0x804)]=_0x431bbe=>{const _0x9c0e96=_0x527492;_0x431bbe[_0x9c0e96(0xf44)]();},_0x11a7b5[_0x527492(0xe42)]=_0x41d91e=>{const _0x305ba4=_0x527492;_0x41d91e[_0x305ba4(0xf44)]();if(_0x233df2){const _0x46dbea=[..._0x11a7b5[_0x305ba4(0xcf1)](_0x305ba4(0x3c7))]['reduce']((_0x47f112,_0x47fc8c)=>{const _0x5a2029=_0x305ba4,_0x50cbbe=_0x47fc8c[_0x5a2029(0x324)](),_0x4aa62c=_0x41d91e[_0x5a2029(0xccc)]-_0x50cbbe[_0x5a2029(0x276)]-_0x50cbbe[_0x5a2029(0xc77)]/0x2;return _0x4aa62c<0x0&&_0x4aa62c>_0x47f112['offset']?{'offset':_0x4aa62c,'element':_0x47fc8c}:_0x47f112;},{'offset':Number['NEGATIVE_INFINITY']})[_0x305ba4(0x435)];_0x46dbea==null?_0x11a7b5[_0x305ba4(0xa8b)](_0x233df2):_0x11a7b5[_0x305ba4(0xb36)](_0x233df2,_0x46dbea);const _0x15352e=[..._0x11a7b5[_0x305ba4(0xcf1)](_0x305ba4(0x4b8))][_0x305ba4(0x91f)](_0x3e35ab=>_0x3e35ab['dataset'][_0x305ba4(0x47f)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x15352e,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x4f2de9=_0x2e2582,_0x334840=prompt(_0x4f2de9(0x6d7),'แท็บใหม่');_0x334840&&_0x334840[_0x4f2de9(0xdd8)]()&&(parallelShortcutTabs[_0x4f2de9(0x724)]({'id':'tab_'+Date[_0x4f2de9(0xbf5)](),'name':_0x334840[_0x4f2de9(0xdd8)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x490f92=_0x2e2582,_0xffadf9=document[_0x490f92(0x6ec)]('parallel-shortcut-container'),_0x365535=document[_0x490f92(0x6ec)](_0x490f92(0xf28)),_0x12b130=document['getElementById'](_0x490f92(0xa3b));if(_0x12b130)_0x12b130[_0x490f92(0xed5)][_0x490f92(0xbca)](_0x490f92(0x515));if(!_0xffadf9||!_0x365535)return;const _0x4b20b4=parallelTestShortcuts['slice'](0x0,0x4),_0xaca339=parallelTestShortcuts[_0x490f92(0xcb7)](0x4);_0xffadf9['innerHTML']=_0x4b20b4[_0x490f92(0x91f)](_0xd4b0bf=>{const _0x33adb0=_0x490f92,_0x425cee=_0xd4b0bf['url']&&_0xd4b0bf[_0x33adb0(0xbaf)][_0x33adb0(0xdd8)]()!=='',_0x56959e=_0x425cee?_0x33adb0(0x5b3):_0x33adb0(0x80c),_0x3b5464=_0x425cee?'🔁':'🔗',_0x4ed5e3=!_0xd4b0bf[_0x33adb0(0x34e)]?'<button\x20data-id=\x22'+_0xd4b0bf['id']+_0x33adb0(0x92e):'';return _0x33adb0(0x2e2)+_0xd4b0bf['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x56959e+_0x33adb0(0x9ac)+_0x3b5464+'\x20'+_0xd4b0bf[_0x33adb0(0x47c)]+_0x33adb0(0x97c)+_0xd4b0bf['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ed5e3+_0x33adb0(0x734);})['join'](''),_0xaca339[_0x490f92(0x83b)]>0x0&&(_0xffadf9['innerHTML']+=_0x490f92(0x494)),_0xaca339[_0x490f92(0x83b)]>0x0?_0x365535[_0x490f92(0x674)]=_0xaca339[_0x490f92(0x91f)](_0x4866c0=>_0x490f92(0x5e2)+(_0x4866c0[_0x490f92(0xbaf)]?'🔁':'🔗')+'\x20'+_0x4866c0[_0x490f92(0x47c)]+_0x490f92(0x5c4)+_0x4866c0['id']+_0x490f92(0x6af)+_0x4866c0['id']+_0x490f92(0x1e2)+(!_0x4866c0['isDefault']?_0x490f92(0xae1)+_0x4866c0['id']+_0x490f92(0x6bd):'')+_0x490f92(0x691))[_0x490f92(0x8c3)](''):_0x365535[_0x490f92(0x674)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openParallelTestShortcutEditor(_0x222005=null){const _0x2ec346=_0x2e2582,_0x15e5e6=document[_0x2ec346(0x6ec)](_0x2ec346(0x9f6)),_0x46b368=document[_0x2ec346(0x6ec)]('parallel-shortcut-modal-title'),_0x54d6d5=document[_0x2ec346(0x6ec)](_0x2ec346(0xa32)),_0x18db5a=document[_0x2ec346(0x6ec)]('parallel-shortcut-name-input'),_0xc8b0bf=document[_0x2ec346(0x6ec)](_0x2ec346(0x917));if(_0x222005){const _0x547c38=parallelTestShortcuts[_0x2ec346(0x426)](_0x330825=>_0x330825['id']===_0x222005);if(!_0x547c38)return;_0x46b368['textContent']='แก้ไขปุ่มลัดข้อสอบต้นฉบับ',_0x54d6d5[_0x2ec346(0x8c2)]=_0x547c38['id'],_0x18db5a[_0x2ec346(0x8c2)]=_0x547c38['name'],_0xc8b0bf[_0x2ec346(0x8c2)]=_0x547c38['url']||'';}else _0x46b368[_0x2ec346(0x337)]='เพิ่มปุ่มลัดข้อสอบต้นฉบับ',_0x54d6d5['value']='',_0x18db5a[_0x2ec346(0x8c2)]='',_0xc8b0bf[_0x2ec346(0x8c2)]='';_0x15e5e6[_0x2ec346(0xed5)][_0x2ec346(0xb8a)](_0x2ec346(0x515));}async function saveParallelTestShortcutChanges(){const _0x2f61a3=_0x2e2582,_0x3dd70a=document[_0x2f61a3(0x6ec)](_0x2f61a3(0xa32))['value'],_0x20361e=document[_0x2f61a3(0x6ec)](_0x2f61a3(0xbab))[_0x2f61a3(0x8c2)][_0x2f61a3(0xdd8)](),_0x40fb45=document[_0x2f61a3(0x6ec)](_0x2f61a3(0x917))[_0x2f61a3(0x8c2)][_0x2f61a3(0xdd8)]();if(!_0x20361e){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x4c7806={'id':_0x3dd70a||'parallel-shortcut_'+Date[_0x2f61a3(0xbf5)](),'name':_0x20361e,'url':_0x40fb45,'isDefault':_0x3dd70a[_0x2f61a3(0xdb3)](_0x2f61a3(0x788))};let _0x51350e;_0x3dd70a?_0x51350e=parallelTestShortcuts[_0x2f61a3(0x91f)](_0x20c6a5=>_0x20c6a5['id']===_0x3dd70a?_0x4c7806:_0x20c6a5):_0x51350e=[...parallelTestShortcuts,_0x4c7806];try{const _0x561610=doc(db,_0x2f61a3(0x854),_0x2f61a3(0xdce));await setDoc(_0x561610,{'shortcuts':_0x51350e},{'merge':!![]}),document[_0x2f61a3(0x6ec)](_0x2f61a3(0x9f6))[_0x2f61a3(0xed5)][_0x2f61a3(0xbca)]('hidden');}catch(_0x504728){console[_0x2f61a3(0x61c)]('Error\x20saving\x20parallel\x20shortcut:',_0x504728),showMessage(_0x2f61a3(0xcdd));}}async function handleParallelTestShortcutClick(_0x251d8d){const _0x27a155=_0x2e2582,_0x38845b=parallelTestShortcuts[_0x27a155(0x426)](_0x146812=>_0x146812['id']===_0x251d8d);if(!_0x38845b)return;if(!_0x38845b[_0x27a155(0xbaf)]||_0x38845b[_0x27a155(0xbaf)]['trim']()===''){openParallelTestShortcutEditor(_0x251d8d);return;}const _0x353641=document[_0x27a155(0x6ec)]('loader'),_0x1ef165=document[_0x27a155(0x6ec)]('loader-text');document[_0x27a155(0x6ec)](_0x27a155(0x6c8))[_0x27a155(0xed5)][_0x27a155(0xb8a)](_0x27a155(0x515)),document['getElementById'](_0x27a155(0x456))['innerHTML']='',_0x353641[_0x27a155(0xed5)][_0x27a155(0xb8a)](_0x27a155(0x515)),_0x1ef165['textContent']='กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...';try{let _0x26c403;_0x38845b[_0x27a155(0xbaf)][_0x27a155(0x3be)]()[_0x27a155(0x9ee)](_0x27a155(0x6e6))?_0x26c403=_0x27a155(0x2cc):_0x26c403=_0x27a155(0xeb9);const _0xbfd7b6=await fetchFileFromUrl(_0x38845b[_0x27a155(0xbaf)],_0x26c403);await handleGenerateParallelTest(_0xbfd7b6);}catch(_0x58f53f){console[_0x27a155(0x61c)]('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x58f53f),showMessage(_0x27a155(0xebb)+_0x58f53f[_0x27a155(0x784)]),_0x353641['classList'][_0x27a155(0xbca)]('hidden');}}function initializeScratchpadCanvas(){const _0x19ecd6=_0x2e2582,_0x42f2d9=document[_0x19ecd6(0x6ec)]('scratchpad-canvas'),_0xc9d743=document[_0x19ecd6(0x427)](_0x19ecd6(0x810));if(!_0x42f2d9||!_0xc9d743)return;scratchpadCtx=_0x42f2d9[_0x19ecd6(0x630)]('2d',{'willReadFrequently':!![]});const _0x4f0008=window[_0x19ecd6(0x9f5)]||0x1,_0x28779b=_0xc9d743['getBoundingClientRect']();_0x42f2d9[_0x19ecd6(0x950)]=_0x28779b['width']*_0x4f0008,_0x42f2d9[_0x19ecd6(0xc77)]=_0x28779b['height']*_0x4f0008,_0x42f2d9['style'][_0x19ecd6(0x950)]=_0x28779b['width']+'px',_0x42f2d9[_0x19ecd6(0xdb7)][_0x19ecd6(0xc77)]=_0x28779b[_0x19ecd6(0xc77)]+'px',scratchpadCtx[_0x19ecd6(0x263)](_0x4f0008,_0x4f0008),scratchpadCtx[_0x19ecd6(0x946)]=_0x19ecd6(0xa75),scratchpadCtx[_0x19ecd6(0xdd4)]=_0x19ecd6(0xa75),_0x42f2d9[_0x19ecd6(0x637)](_0x19ecd6(0x7e4),handlePointerDown),_0x42f2d9[_0x19ecd6(0x637)](_0x19ecd6(0x5b8),handlePointerMove),_0x42f2d9['removeEventListener']('pointerup',handlePointerUp),_0x42f2d9[_0x19ecd6(0x637)](_0x19ecd6(0xee8),handlePointerUp),_0x42f2d9[_0x19ecd6(0x637)](_0x19ecd6(0x21c),handleWheel),_0x42f2d9[_0x19ecd6(0x637)]('touchstart',handlePointerDown),_0x42f2d9[_0x19ecd6(0x637)]('touchmove',handlePointerMove),_0x42f2d9[_0x19ecd6(0x637)](_0x19ecd6(0x9ab),handlePointerUp),_0x42f2d9[_0x19ecd6(0x504)](_0x19ecd6(0x7e4),handlePointerDown),_0x42f2d9['addEventListener'](_0x19ecd6(0x5b8),handlePointerMove),_0x42f2d9[_0x19ecd6(0x504)](_0x19ecd6(0xad6),handlePointerUp),_0x42f2d9[_0x19ecd6(0x504)]('pointercancel',handlePointerUp),_0x42f2d9[_0x19ecd6(0x504)]('wheel',handleWheel,{'passive':![]}),_0x42f2d9[_0x19ecd6(0x504)](_0x19ecd6(0xbe0),handlePointerDown,{'passive':![]}),_0x42f2d9[_0x19ecd6(0x504)](_0x19ecd6(0x208),handlePointerMove,{'passive':![]}),_0x42f2d9[_0x19ecd6(0x504)](_0x19ecd6(0x9ab),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x5badbc=_0x2e2582,_0x5f0dae=document['getElementById'](_0x5badbc(0x355)),_0x48f241=document[_0x5badbc(0x6ec)](_0x5badbc(0x4bb));_0x48f241[_0x5badbc(0x674)]=_0x5badbc(0x704)+scratchpadHighlighterSize+_0x5badbc(0x92b);const _0x29a096=document[_0x5badbc(0x6ec)](_0x5badbc(0xc4b)),_0x1894ae=document[_0x5badbc(0x6ec)](_0x5badbc(0x91d)),_0x19abd9=document[_0x5badbc(0x6ec)]('trail-tool-btn'),_0x43e496=document[_0x5badbc(0x6ec)](_0x5badbc(0xa77)),_0x42f610=document[_0x5badbc(0x6ec)](_0x5badbc(0x9c9)),_0x21abc4=document['getElementById'](_0x5badbc(0xd09)),_0x127bfe=document[_0x5badbc(0x6ec)](_0x5badbc(0xa52)),_0x3d4b08=[_0x29a096,_0x1894ae,_0x19abd9,_0x43e496];document[_0x5badbc(0x6ec)](_0x5badbc(0xb39))[_0x5badbc(0x504)](_0x5badbc(0x7b0),()=>_0x5f0dae[_0x5badbc(0xed5)]['add'](_0x5badbc(0x515))),document[_0x5badbc(0x6ec)]('reset-view-btn')['addEventListener']('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x5badbc(0x214))['addEventListener'](_0x5badbc(0x7b0),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x5badbc(0x6ec)]('undo-btn')[_0x5badbc(0x504)](_0x5badbc(0x7b0),undo),document[_0x5badbc(0x6ec)](_0x5badbc(0x1d7))[_0x5badbc(0x504)]('click',redo);const _0x553123=_0x305668=>{const _0xd2cd5e=_0x5badbc;_0x3d4b08[_0xd2cd5e(0x9ce)](_0x1eb0ad=>_0x1eb0ad[_0xd2cd5e(0xed5)][_0xd2cd5e(0xb8a)](_0xd2cd5e(0xb3d))),_0x305668[_0xd2cd5e(0xed5)][_0xd2cd5e(0xbca)](_0xd2cd5e(0xb3d)),_0x42f610[_0xd2cd5e(0xed5)][_0xd2cd5e(0xbca)](_0xd2cd5e(0x515)),_0x21abc4[_0xd2cd5e(0xed5)][_0xd2cd5e(0xbca)](_0xd2cd5e(0x515)),_0x127bfe['classList']['add'](_0xd2cd5e(0x515));if(activeTool===_0xd2cd5e(0xaf1)||activeTool===_0xd2cd5e(0xce7))_0x42f610[_0xd2cd5e(0xed5)][_0xd2cd5e(0xb8a)]('hidden');else{if(activeTool===_0xd2cd5e(0x2df))_0x21abc4[_0xd2cd5e(0xed5)][_0xd2cd5e(0xb8a)](_0xd2cd5e(0x515));else activeTool==='eraser'&&_0x127bfe[_0xd2cd5e(0xed5)][_0xd2cd5e(0xb8a)]('hidden');}};_0x29a096[_0x5badbc(0x504)](_0x5badbc(0x7b0),()=>{const _0x18efce=_0x5badbc;activeTool=_0x18efce(0xaf1),_0x553123(_0x29a096);}),_0x1894ae[_0x5badbc(0x504)](_0x5badbc(0x7b0),()=>{const _0x4ec66f=_0x5badbc;activeTool=_0x4ec66f(0x8e9),_0x553123(_0x1894ae);}),_0x19abd9[_0x5badbc(0x504)](_0x5badbc(0x7b0),()=>{const _0x159fd9=_0x5badbc;activeTool=_0x159fd9(0xce7),_0x553123(_0x19abd9);}),_0x43e496['addEventListener'](_0x5badbc(0x7b0),()=>{const _0x565464=_0x5badbc;activeTool=_0x565464(0x2df),_0x553123(_0x43e496);}),_0x42f610['querySelectorAll'](_0x5badbc(0x2a4))[_0x5badbc(0x9ce)](_0x96d873=>{const _0x4baf98=_0x5badbc;_0x96d873[_0x4baf98(0x504)]('click',_0x281b9c=>{const _0x5e0a17=_0x4baf98;scratchpadPenSize=parseInt(_0x281b9c[_0x5e0a17(0x8dd)][_0x5e0a17(0x261)][_0x5e0a17(0xdb2)],0xa),_0x42f610[_0x5e0a17(0xcf1)]('.pen-size-btn')['forEach'](_0x4f8f53=>_0x4f8f53[_0x5e0a17(0xed5)][_0x5e0a17(0xb8a)](_0x5e0a17(0xb3d))),_0x281b9c[_0x5e0a17(0x8dd)]['classList']['add']('active');});}),_0x127bfe[_0x5badbc(0xcf1)](_0x5badbc(0x67f))[_0x5badbc(0x9ce)](_0x312751=>{const _0x270938=_0x5badbc;_0x312751[_0x270938(0x504)]('click',_0x42bb1c=>{const _0x268e34=_0x270938,_0x42ecff=_0x42bb1c[_0x268e34(0x968)];scratchpadEraserSize=parseInt(_0x42ecff[_0x268e34(0x261)]['size'],0xa),_0x127bfe[_0x268e34(0xcf1)](_0x268e34(0x67f))['forEach'](_0x1a383b=>_0x1a383b[_0x268e34(0xed5)]['remove']('active')),_0x42ecff[_0x268e34(0xed5)][_0x268e34(0xbca)]('active');});}),_0x42f610[_0x5badbc(0xcf1)](_0x5badbc(0xee9))[_0x5badbc(0x9ce)](_0xe53be7=>{const _0x179399=_0x5badbc;_0xe53be7[_0x179399(0x504)](_0x179399(0x7b0),_0x324a8d=>{const _0x5e4a69=_0x179399;scratchpadPenColor=_0x324a8d[_0x5e4a69(0x8dd)][_0x5e4a69(0x261)][_0x5e4a69(0x6ad)],_0x42f610[_0x5e4a69(0xcf1)](_0x5e4a69(0xee9))[_0x5e4a69(0x9ce)](_0x396d5a=>_0x396d5a[_0x5e4a69(0xed5)][_0x5e4a69(0xb8a)](_0x5e4a69(0xb3d))),_0x324a8d[_0x5e4a69(0x8dd)][_0x5e4a69(0xed5)]['add']('active');});}),_0x21abc4[_0x5badbc(0xcf1)](_0x5badbc(0x593))[_0x5badbc(0x9ce)](_0x36ca52=>{const _0x4638e9=_0x5badbc;_0x36ca52[_0x4638e9(0x504)]('click',_0x374b30=>{const _0x5e18fa=_0x4638e9;scratchpadHighlighterColor=_0x374b30[_0x5e18fa(0x8dd)][_0x5e18fa(0x261)]['color'],_0x21abc4['querySelectorAll'](_0x5e18fa(0x593))['forEach'](_0x13be8c=>_0x13be8c[_0x5e18fa(0xed5)][_0x5e18fa(0xb8a)](_0x5e18fa(0xb3d))),_0x374b30['target'][_0x5e18fa(0xed5)][_0x5e18fa(0xbca)](_0x5e18fa(0xb3d));});});const _0x4e7579=document[_0x5badbc(0x6ec)](_0x5badbc(0x1ff)),_0x1224c1=document[_0x5badbc(0x6ec)](_0x5badbc(0x871));_0x4e7579[_0x5badbc(0x504)](_0x5badbc(0x671),_0x4cba75=>{const _0x3d1df3=_0x5badbc,_0x55233a=parseInt(_0x4cba75[_0x3d1df3(0x8dd)][_0x3d1df3(0x8c2)],0xa);scratchpadHighlighterSize=_0x55233a,_0x1224c1[_0x3d1df3(0x337)]=_0x55233a;}),window[_0x5badbc(0x504)](_0x5badbc(0x855),()=>{const _0x5ae9a7=_0x5badbc;!_0x5f0dae['classList']['contains'](_0x5ae9a7(0x515))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x2e2582(0x4bc),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x2e2582(0x9e8)},'QUICK_THINKER':{'id':_0x2e2582(0x5ab),'name':_0x2e2582(0xc73),'description':_0x2e2582(0xc0c),'icon':_0x2e2582(0x6bf)},'ON_FIRE':{'id':_0x2e2582(0xbf9),'name':'ท็อปฟอร์ม','description':_0x2e2582(0x283),'icon':_0x2e2582(0x1fb)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':'ผ่านฉลุย','description':_0x2e2582(0x833),'icon':_0x2e2582(0x7e5)},'COMEBACK_KING':{'id':_0x2e2582(0x80b),'name':'ราชาคัมแบ็ก','description':_0x2e2582(0x7e9),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x2e2582(0xf15),'name':_0x2e2582(0x6c7),'description':_0x2e2582(0xef5),'icon':_0x2e2582(0xb1e)},'PERSEVERANCE':{'id':_0x2e2582(0x939),'name':_0x2e2582(0x5e0),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x2e2582(0x96d)}},firebaseConfig={'apiKey':_0x2e2582(0xb9b),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':'ai-quiz-app-aefee','storageBucket':_0x2e2582(0x4c7),'messagingSenderId':_0x2e2582(0x2a3),'appId':_0x2e2582(0xe82),'measurementId':_0x2e2582(0x93a)},appId=typeof __app_id!==_0x2e2582(0x6f6)?__app_id:_0x2e2582(0x853),adminView=document[_0x2e2582(0x6ec)](_0x2e2582(0xea6)),studentView=document[_0x2e2582(0x6ec)](_0x2e2582(0x493)),projectDashboardView=document[_0x2e2582(0x6ec)](_0x2e2582(0xc7e)),projectDetailView=document[_0x2e2582(0x6ec)](_0x2e2582(0x8c5)),quizResultsView=document[_0x2e2582(0x6ec)]('quiz-results-view'),projectList=document['getElementById'](_0x2e2582(0x492)),noProjectsMsg=document[_0x2e2582(0x6ec)](_0x2e2582(0x93e)),projectTitle=document[_0x2e2582(0x6ec)]('project-title'),projectIdDisplay=document[_0x2e2582(0x6ec)]('project-id-display'),studentList=document[_0x2e2582(0x6ec)](_0x2e2582(0x302)),messageModal=document['getElementById']('message-modal'),modalMessage=document['getElementById'](_0x2e2582(0x5b7)),createProjectModal=document[_0x2e2582(0x6ec)](_0x2e2582(0x58d)),adminPasswordModal=document[_0x2e2582(0x6ec)](_0x2e2582(0x91e)),confirmationModal=document[_0x2e2582(0x6ec)]('confirmation-modal'),userIdDisplay=document[_0x2e2582(0x6ec)]('user-id-display'),topicTab=document[_0x2e2582(0x6ec)]('topic-tab'),textTab=document[_0x2e2582(0x6ec)]('text-tab'),topicInputArea=document['getElementById'](_0x2e2582(0x8c8)),textInputArea=document['getElementById'](_0x2e2582(0x58a)),manageTab=document[_0x2e2582(0x6ec)](_0x2e2582(0x284)),resultsTab=document[_0x2e2582(0x6ec)](_0x2e2582(0x2f1)),leaderboardTab=document[_0x2e2582(0x6ec)](_0x2e2582(0x51e)),manageTabContent=document[_0x2e2582(0x6ec)]('manage-tab-content'),resultsTabContent=document['getElementById']('results-tab-content'),leaderboardTabContent=document[_0x2e2582(0x6ec)]('leaderboard-tab-content'),projectQuizzesList=document[_0x2e2582(0x6ec)]('project-quizzes-list'),fileTab=document[_0x2e2582(0x6ec)](_0x2e2582(0x43c)),fileInputArea=document[_0x2e2582(0x6ec)](_0x2e2582(0x1f5)),fileUploadInput=document[_0x2e2582(0x6ec)](_0x2e2582(0xb8e)),worksheetTab=document[_0x2e2582(0x6ec)]('worksheet-tab'),worksheetInputArea=document['getElementById'](_0x2e2582(0x329)),generateWorksheetBtn=document[_0x2e2582(0x6ec)](_0x2e2582(0xa6f)),studentInitialView=document[_0x2e2582(0x6ec)](_0x2e2582(0xcd9)),studentNameSelectionView=document['getElementById'](_0x2e2582(0x8ba)),studentQuizArea=document[_0x2e2582(0x6ec)](_0x2e2582(0xea7)),studentResultArea=document[_0x2e2582(0x6ec)](_0x2e2582(0x9db)),studentReadingArea=document['getElementById'](_0x2e2582(0x605)),loadQuizBtn=document[_0x2e2582(0x6ec)]('load-quiz-btn'),startQuizBtn=document['getElementById']('start-quiz-btn'),studentJoinGameView=document[_0x2e2582(0x6ec)](_0x2e2582(0x7f7)),presentationModal=document[_0x2e2582(0x6ec)](_0x2e2582(0x64d)),renameQuizModal=document[_0x2e2582(0x6ec)](_0x2e2582(0xc00)),moveQuizModal=document[_0x2e2582(0x6ec)](_0x2e2582(0xd17)),quizSettingsModal=document['getElementById'](_0x2e2582(0x538)),quizStatusModal=document[_0x2e2582(0x6ec)](_0x2e2582(0x1d6)),liveGameView=document['getElementById'](_0x2e2582(0x434));function handleFixLessonLatex(){const _0x58ad80=_0x2e2582,_0x287df8=document[_0x58ad80(0x6ec)](_0x58ad80(0xf39));if(!_0x287df8){showMessage(_0x58ad80(0xe1b));return;}const _0x2ecf10=_0x287df8[_0x58ad80(0xcf1)]([_0x58ad80(0xc37),_0x58ad80(0x62a),_0x58ad80(0xcda),_0x58ad80(0x54d),_0x58ad80(0xd6d)][_0x58ad80(0x8c3)](','));let _0x3e4858=0x0;const _0x3fb8b2=_0x1aa316=>_0x1aa316[_0x58ad80(0x337)]||'',_0x2b23aa=(_0xc74fb3,_0x457f76)=>{const _0x1dfa52=_0x58ad80;if(_0xc74fb3['querySelector']&&_0xc74fb3[_0x1dfa52(0x427)](_0x1dfa52(0xe2d)))return;_0xc74fb3[_0x1dfa52(0x337)]=_0x457f76;},_0x3a5966=_0x5001a6=>_0x5001a6['replace'](/\u00A0/g,'\x20')[_0x58ad80(0x3cc)](/\u200B/g,'')[_0x58ad80(0x3cc)](/\r\n?/g,'\x0a'),_0x45abb4=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x13ec58=_0x46a53a=>{const _0x48714c=_0x58ad80;let _0xed3c45=_0x46a53a['trim']();const _0x47944c=['frac',_0x48714c(0xc91),'tfrac',_0x48714c(0x96b),_0x48714c(0x566),_0x48714c(0x6cd),_0x48714c(0x647),_0x48714c(0x2b0),_0x48714c(0xf33),_0x48714c(0xf4b),'le','ge',_0x48714c(0x849),'pm',_0x48714c(0x5da),_0x48714c(0xdfe),_0x48714c(0x45a),_0x48714c(0x9fc),_0x48714c(0xeec),'ln',_0x48714c(0x752),_0x48714c(0x245),_0x48714c(0x70f),'left',_0x48714c(0xbc6),_0x48714c(0x4ac),'underline',_0x48714c(0xb97),_0x48714c(0xbdb)];_0x47944c[_0x48714c(0x9ce)](_0x5cddeb=>{const _0x281f04=_0x48714c;_0xed3c45=_0xed3c45['replace'](new RegExp(_0x281f04(0x9d2)+_0x5cddeb+'\x5cb','g'),(_0x228d3a,_0x12274a)=>_0x12274a+'\x5c'+_0x5cddeb);});const _0x569fa8=[[/×/g,_0x48714c(0xdea)],[/·/g,_0x48714c(0xbfa)],[/÷/g,_0x48714c(0xdc7)],[/≤/g,_0x48714c(0x717)],[/≥/g,'\x5cge'],[/≠/g,_0x48714c(0xaf2)],[/±/g,_0x48714c(0x2b7)],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x569fa8['forEach'](([_0x60e870,_0x181221])=>{const _0x4e62c7=_0x48714c;_0xed3c45=_0xed3c45[_0x4e62c7(0x3cc)](_0x60e870,_0x181221);}),_0xed3c45=_0xed3c45[_0x48714c(0x3cc)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0xed3c45=_0xed3c45[_0x48714c(0x3cc)](/(\d+)\s*%/g,'$1\x5c%'),_0xed3c45;},_0x4b9797=_0x3da698=>{const _0x2d612d=_0x58ad80;if(/\$|\\\(|\\\[/[_0x2d612d(0x74d)](_0x3da698))return _0x3da698;if(!_0x45abb4[_0x2d612d(0x74d)](_0x3da698))return _0x3da698;const _0x435e66=_0x3da698[_0x2d612d(0xf08)](/^\s*/)[0x0],_0x5cec10=_0x3da698[_0x2d612d(0xf08)](/\s*$/)[0x0],_0x372545=_0x3da698['trim']();return _0x435e66+'$'+_0x13ec58(_0x372545)+'$'+_0x5cec10;};_0x2ecf10['forEach'](_0x51d1de=>{const _0x5a8df0=_0x58ad80,_0x39d53f=_0x3fb8b2(_0x51d1de);let _0x536fbd=_0x3a5966(_0x39d53f);_0x536fbd=_0x536fbd['replace'](/\$([^$]*?)\$/g,(_0x44ef68,_0x2da921)=>'$'+_0x13ec58(_0x2da921)+'$');const _0x49f792=_0x536fbd[_0x5a8df0(0x8c0)](/(\s+)/),_0x2ff761=_0x49f792[_0x5a8df0(0x91f)](_0x36047e=>{const _0x5868e4=_0x5a8df0;if(/\s+/[_0x5868e4(0x74d)](_0x36047e))return _0x36047e;return _0x4b9797(_0x36047e);});_0x536fbd=_0x2ff761[_0x5a8df0(0x8c3)](''),_0x536fbd!==_0x39d53f&&(_0x2b23aa(_0x51d1de,_0x536fbd),_0x3e4858++);});if(_0x3e4858>0x0){showMessage(_0x58ad80(0xd0b)+_0x3e4858+_0x58ad80(0xdeb));try{window[_0x58ad80(0xef3)]&&MathJax[_0x58ad80(0x396)]&&MathJax['typesetPromise']([_0x287df8]);}catch(_0x439a73){console[_0x58ad80(0x61c)]('MathJax\x20re-render\x20failed:',_0x439a73);}}else showMessage(_0x58ad80(0x745));}function handleAutoFixLatex(){const _0x429a70=_0x2e2582,_0x36b656=document[_0x429a70(0x6ec)]('quiz-editor-questions-container')||document,_0x4c83c2=_0x36b656[_0x429a70(0xcf1)]('textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li');let _0x554cef=0x0;const _0x438771=_0x5d8f3a=>_0x429a70(0x8c2)in _0x5d8f3a?String(_0x5d8f3a[_0x429a70(0x8c2)]):_0x5d8f3a['innerText']!==undefined?_0x5d8f3a[_0x429a70(0xd58)]:_0x5d8f3a[_0x429a70(0x337)]||'',_0x398c81=(_0x57a602,_0x5cd8f9)=>{const _0x3fc4f9=_0x429a70;if(_0x3fc4f9(0x8c2)in _0x57a602){_0x57a602['value']=_0x5cd8f9;return;}if(_0x57a602[_0x3fc4f9(0x427)]&&_0x57a602[_0x3fc4f9(0x427)](_0x3fc4f9(0xe2d)))return;if(_0x57a602[_0x3fc4f9(0xd58)]!==undefined)_0x57a602['innerText']=_0x5cd8f9;else _0x57a602[_0x3fc4f9(0x337)]=_0x5cd8f9;},_0x55a597=_0x4955fd=>_0x4955fd[_0x429a70(0x3cc)](/\u00A0/g,'\x20')[_0x429a70(0x3cc)](/\u200B/g,'')[_0x429a70(0x3cc)](/\r\n?/g,'\x0a'),_0x5c155e=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x3952bf=_0x196bad=>{const _0x4a46c3=_0x429a70;let _0x51cd09=_0x196bad[_0x4a46c3(0xdd8)]();_0x51cd09=_0x51cd09[_0x4a46c3(0x3cc)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x51cd09=_0x51cd09[_0x4a46c3(0x3cc)](/\bfrac(\d)(\d)/g,_0x4a46c3(0xcfc));const _0x2cb672=[_0x4a46c3(0xbb6),_0x4a46c3(0x96b),_0x4a46c3(0x6cd),'cdot','div','leq',_0x4a46c3(0xf4b),_0x4a46c3(0x849),'pm',_0x4a46c3(0xdfe),'cos','tan',_0x4a46c3(0xeec),'ln'];_0x2cb672['forEach'](_0x2be237=>{const _0x1ffa3a=_0x4a46c3;_0x51cd09=_0x51cd09['replace'](new RegExp(_0x1ffa3a(0x9d2)+_0x2be237+'\x5cb','g'),(_0x1d4e82,_0x2b8982)=>_0x2b8982+'\x5c'+_0x2be237);});const _0x2691f9=[[/×/g,_0x4a46c3(0xdea)],[/·/g,'\x5ccdot'],[/÷/g,_0x4a46c3(0xdc7)],[/≤/g,'\x5cle'],[/≥/g,'\x5cge'],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm']];return _0x2691f9['forEach'](([_0x58a956,_0x44e564])=>{_0x51cd09=_0x51cd09['replace'](_0x58a956,_0x44e564);}),_0x51cd09;},_0x3ec166=_0x1c9503=>{const _0xd16804=_0x429a70;if(/\$|\\\(|\\\[/[_0xd16804(0x74d)](_0x1c9503))return _0x1c9503;if(!_0x5c155e[_0xd16804(0x74d)](_0x1c9503))return _0x1c9503;const _0x323405=_0x1c9503['match'](/^\s*/)[0x0],_0x4f5376=_0x1c9503[_0xd16804(0xf08)](/\s*$/)[0x0],_0x15f69a=_0x1c9503[_0xd16804(0xdd8)]();return _0x323405+'$'+_0x3952bf(_0x15f69a)+'$'+_0x4f5376;};_0x4c83c2[_0x429a70(0x9ce)](_0x92eef0=>{const _0x37cd7a=_0x429a70,_0x4d6274=_0x438771(_0x92eef0);let _0x18f9d3=_0x55a597(_0x4d6274);_0x18f9d3=_0x18f9d3[_0x37cd7a(0x3cc)](/\$([^$]*?)\$/g,(_0x2ebb23,_0x229189)=>'$'+_0x3952bf(_0x229189)+'$');const _0x500955=_0x18f9d3[_0x37cd7a(0x8c0)](/(\s+)/),_0x50d142=_0x500955[_0x37cd7a(0x91f)](_0x11289c=>/\s+/['test'](_0x11289c)?_0x11289c:_0x3ec166(_0x11289c));_0x18f9d3=_0x50d142[_0x37cd7a(0x8c3)](''),_0x18f9d3!==_0x4d6274&&(_0x398c81(_0x92eef0,_0x18f9d3),_0x554cef++);});if(_0x554cef>0x0){showMessage(_0x429a70(0xb1b)+_0x554cef+_0x429a70(0x38a));try{if(window['MathJax']&&MathJax['typesetPromise'])MathJax[_0x429a70(0x396)]();}catch(_0x1fa62f){}}else showMessage(_0x429a70(0x4c4));}async function listenForCustomMathTopics(){const _0x4ec6a4=_0x2e2582,_0x287da8=collection(db,_0x4ec6a4(0x509)+appId+_0x4ec6a4(0xb95));onSnapshot(_0x287da8,_0x423507=>{const _0x9216a=_0x4ec6a4;customMathTopics=_0x423507['docs'][_0x9216a(0x91f)](_0x458c11=>({'id':_0x458c11['id'],..._0x458c11[_0x9216a(0xe5c)]()})),renderTopicCheckboxes();},_0x199da4=>{const _0x428da7=_0x4ec6a4;console[_0x428da7(0x61c)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x199da4);});}function handleSelectAllTopics(){const _0x18cd04=_0x2e2582,_0x86a695=document['getElementById'](_0x18cd04(0x780)),_0x24798f=_0x86a695[_0x18cd04(0xcf1)](_0x18cd04(0x277));_0x24798f[_0x18cd04(0x9ce)](_0x5b13d9=>{const _0x5765b8=_0x18cd04;_0x5b13d9[_0x5765b8(0xa0a)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2d480a=_0x2e2582,_0x33caf4=document['getElementById']('math-topics-checkbox-container'),_0x5b45c8=_0x33caf4[_0x2d480a(0xcf1)]('input[type=\x22checkbox\x22]');_0x5b45c8[_0x2d480a(0x9ce)](_0x5b5a3a=>{const _0x477470=_0x2d480a;_0x5b5a3a[_0x477470(0xa0a)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x21f6c6){const _0x583372=_0x2e2582;if(!_0x21f6c6)return;try{const _0x5c3988=doc(db,_0x583372(0x509)+appId+_0x583372(0xb95),_0x21f6c6);await deleteDoc(_0x5c3988),showMessage(_0x583372(0x459));}catch(_0x525d5d){console['error'](_0x583372(0xe19),_0x525d5d),showMessage(_0x583372(0x41a));}}async function handleAddCustomMathTopic(){const _0x478957=_0x2e2582,_0x1085c4=document[_0x478957(0x6ec)](_0x478957(0x2ed)),_0x3b896e=_0x1085c4['value'][_0x478957(0xdd8)]();if(!_0x3b896e){showMessage(_0x478957(0x393));return;}if(!userId){showMessage(_0x478957(0x537));return;}try{const _0x597b47=collection(db,_0x478957(0x509)+appId+'/public/data/customMathTopics');await addDoc(_0x597b47,{'name':_0x3b896e,'createdAt':serverTimestamp()}),_0x1085c4['value']='',showMessage(_0x478957(0x777)+_0x3b896e+_0x478957(0xc0e));}catch(_0x36c4cc){console[_0x478957(0x61c)](_0x478957(0xe84),_0x36c4cc),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x27862e=_0x5f2f,_0xd7576f=document['getElementById'](_0x27862e(0x3e6)),_0x522b9b=document[_0x27862e(0x6ec)]('loader-text'),_0x44f271=_0x522b9b[_0x27862e(0x337)];_0xd7576f[_0x27862e(0xed5)]['remove']('hidden'),_0x522b9b[_0x27862e(0x337)]=_0x27862e(0xd66);try{const _0x400e01=collection(db,_0x27862e(0x509)+appId+_0x27862e(0x2d1)),_0x36c37f=await getDocs(_0x400e01);if(_0x36c37f[_0x27862e(0xe58)]){showMessage(_0x27862e(0x248));return;}const _0x1160ee=writeBatch(db);let _0x4e3fbb=0x0;_0x36c37f[_0x27862e(0x9ce)](_0x49587a=>{const _0x45129e=_0x27862e,_0x51bc04=_0x49587a[_0x45129e(0xe5c)](),_0x5a3b9e=_0x49587a['id'];if(_0x51bc04[_0x45129e(0xa08)]&&_0x51bc04[_0x45129e(0xa08)][_0x45129e(0x83b)]>0x0&&!_0x51bc04[_0x45129e(0xa08)][0x0]['hasOwnProperty']('id')){console['log']('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x5a3b9e+'\x20('+_0x51bc04[_0x45129e(0x308)]+')'),_0x4e3fbb++;const _0x124ab0=_0x51bc04[_0x45129e(0xa08)][_0x45129e(0x91f)]((_0x381a96,_0x39a072)=>{const _0x3691dc=_0x45129e;return{..._0x381a96,'id':_0x381a96['id']||'q_'+Date[_0x3691dc(0xbf5)]()+'_'+_0x5a3b9e+'_'+_0x39a072};}),_0x5672bf=doc(db,_0x45129e(0x509)+appId+_0x45129e(0x2d1),_0x5a3b9e);_0x1160ee[_0x45129e(0xf45)](_0x5672bf,{'questions':_0x124ab0});}}),_0x4e3fbb>0x0?(_0x522b9b[_0x27862e(0x337)]=_0x27862e(0x5a3)+_0x4e3fbb+'\x20รายการ...',await _0x1160ee[_0x27862e(0xc42)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x4e3fbb+_0x27862e(0xded))):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x8c34a7){console[_0x27862e(0x61c)]('Error\x20updating\x20old\x20quizzes:',_0x8c34a7),showMessage(_0x27862e(0x5ef)+_0x8c34a7[_0x27862e(0x784)]);}finally{_0xd7576f[_0x27862e(0xed5)]['add']('hidden'),_0x522b9b[_0x27862e(0x337)]=_0x44f271;}});}function _0x5f2f(_0x3e087a,_0x4507b4){const _0x1cb707=_0x1cb7();return _0x5f2f=function(_0x5f2fd4,_0x234f87){_0x5f2fd4=_0x5f2fd4-0x1c7;let _0x3613ab=_0x1cb707[_0x5f2fd4];return _0x3613ab;},_0x5f2f(_0x3e087a,_0x4507b4);}async function handleBulkUpdateQuizSettings(){const _0x4f3cdb=_0x2e2582,_0x564c25={'shuffle':document['getElementById'](_0x4f3cdb(0xd4d))[_0x4f3cdb(0x8c2)],'resultsDisplay':document[_0x4f3cdb(0x6ec)](_0x4f3cdb(0x581))['value'],'loopUntilPass':document[_0x4f3cdb(0x6ec)](_0x4f3cdb(0x241))[_0x4f3cdb(0xa0a)],'isConfidenceScoringEnabled':document[_0x4f3cdb(0x6ec)](_0x4f3cdb(0x5f8))[_0x4f3cdb(0xa0a)],'confidenceMode':document[_0x4f3cdb(0x6ec)]('bulk-confidence-mode-select')[_0x4f3cdb(0x8c2)]};try{showMessage(_0x4f3cdb(0x489));const _0x234354=await getDocs(collection(db,_0x4f3cdb(0x509)+appId+_0x4f3cdb(0x2d1))),_0x450e2c=_0x234354['docs'][_0x4f3cdb(0x91f)](_0x331302=>({'id':_0x331302['id'],'data':_0x331302['data']()})),_0x2ed4a6=_0x450e2c[_0x4f3cdb(0x83b)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x2ed4a6+_0x4f3cdb(0x4e7),async()=>{const _0x24385e=_0x4f3cdb,_0x588bd4=document[_0x24385e(0x6ec)](_0x24385e(0xaab));_0x588bd4['disabled']=!![],_0x588bd4[_0x24385e(0x674)]=_0x24385e(0xb31);try{const _0x5ccdc9=writeBatch(db);_0x450e2c['forEach'](_0x231ae9=>{const _0x40e0b4=_0x24385e,_0x5daef6=doc(db,_0x40e0b4(0x509)+appId+_0x40e0b4(0x2d1),_0x231ae9['id']),_0x4ece30={..._0x231ae9[_0x40e0b4(0xe5c)]['settings']||{},..._0x564c25};_0x5ccdc9[_0x40e0b4(0xf45)](_0x5daef6,{'settings':_0x4ece30});}),await _0x5ccdc9['commit'](),document[_0x24385e(0x6ec)]('bulk-quiz-settings-modal')[_0x24385e(0xed5)][_0x24385e(0xbca)]('hidden'),showMessage(_0x24385e(0x3fe)+_0x2ed4a6+_0x24385e(0xbcd));}catch(_0x311c5f){console[_0x24385e(0x61c)](_0x24385e(0x42d),_0x311c5f),showMessage(_0x24385e(0xa62));}finally{_0x588bd4['disabled']=![],_0x588bd4[_0x24385e(0x674)]=_0x24385e(0x569);}});}catch(_0x1566d6){console[_0x4f3cdb(0x61c)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x1566d6),showMessage(_0x4f3cdb(0x5a0));}}async function handleSaveProjectName(){const _0x27df41=_0x2e2582,_0x5f0483=document[_0x27df41(0x6ec)](_0x27df41(0x3cb)),_0x23b50b=document['getElementById']('save-project-name-btn'),_0x34a973=_0x5f0483['textContent'][_0x27df41(0xdd8)]();if(!_0x34a973||!currentProjectId){showMessage(_0x27df41(0x539)),_0x5f0483[_0x27df41(0x337)]=currentProjectData[_0x27df41(0x52e)];return;}_0x23b50b['disabled']=!![],_0x23b50b[_0x27df41(0x674)]=_0x27df41(0xaad);try{const _0x1bd752=doc(db,_0x27df41(0x509)+appId+_0x27df41(0x850),currentProjectId);await updateDoc(_0x1bd752,{'projectName':_0x34a973}),currentProjectData&&(currentProjectData[_0x27df41(0x52e)]=_0x34a973),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x4a18b8){console[_0x27df41(0x61c)]('Error\x20updating\x20project\x20name:',_0x4a18b8),showMessage('เกิดข้อผิดพลาดในการบันทึก'),_0x5f0483[_0x27df41(0x337)]=currentProjectData[_0x27df41(0x52e)];}finally{_0x23b50b[_0x27df41(0xed5)][_0x27df41(0xbca)]('hidden'),_0x23b50b[_0x27df41(0x736)]=![],_0x23b50b[_0x27df41(0x674)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x39fcad,_0x5771f6){const _0x535aa0=_0x2e2582,_0xc736a0=document[_0x535aa0(0x6ec)](_0x535aa0(0x909)),_0x3ab85c=document[_0x535aa0(0x6ec)](_0x535aa0(0x2f2)),_0x35a2bb=document[_0x535aa0(0x6ec)](_0x535aa0(0x95c)),_0x1709c8=document[_0x535aa0(0x6ec)](_0x535aa0(0xca5));_0x3ab85c['textContent']='กำลังสร้างแบบทดสอบ:\x20'+_0x39fcad,_0x1709c8[_0x535aa0(0xed5)][_0x535aa0(0xbca)]('hidden'),_0x35a2bb[_0x535aa0(0xed5)][_0x535aa0(0xb8a)](_0x535aa0(0x515)),_0xc736a0[_0x535aa0(0xed5)][_0x535aa0(0xb8a)](_0x535aa0(0x515)),generatePracticeTest(_0x39fcad,_0x5771f6)['catch'](_0x1cc7b9=>{const _0x141866=_0x535aa0;console['error'](_0x141866(0xbfb),_0x1cc7b9),showMessage(_0x141866(0xd3e)),_0xc736a0[_0x141866(0xed5)][_0x141866(0xbca)](_0x141866(0x515));});}async function generatePracticeTest(_0x734b43,_0x40cd16){const _0x3c4310=_0x2e2582;[_0x3c4310(0x898),_0x3c4310(0xcec),_0x3c4310(0x846),_0x3c4310(0xa64)][_0x3c4310(0x9ce)](_0xb1fc2f=>{const _0x415c48=_0x3c4310,_0x5a0204=document[_0x415c48(0x6ec)](_0xb1fc2f)[_0x415c48(0x7cc)];_0x5a0204&&(_0x5a0204['style'][_0x415c48(0x35a)]=_0x415c48(0xd62));});try{const _0x2911fe=_0x3c4310(0xab8),_0x21cb9e='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x40cd16+_0x3c4310(0xd9b)+_0x734b43+_0x3c4310(0xee1),_0x3b8460=await callGemini(_0x21cb9e,!![]),_0xf48e16=document[_0x3c4310(0x6ec)](_0x3c4310(0x2f2)),_0x1ebe66=document[_0x3c4310(0x6ec)](_0x3c4310(0x95c)),_0x1950b5=document[_0x3c4310(0x6ec)](_0x3c4310(0xca5)),_0x116bf2=document[_0x3c4310(0x6ec)](_0x3c4310(0x846))[_0x3c4310(0x7cc)];_0xf48e16[_0x3c4310(0xd58)]=_0x3c4310(0x47b)+_0x734b43[_0x3c4310(0x3cc)](/•\s/g,'')+_0x3c4310(0x5ad)+_0x40cd16+')',currentApplicationData=JSON[_0x3c4310(0xbbc)](_0x3b8460);const _0x1ddd8a=document[_0x3c4310(0x6ec)](_0x3c4310(0x846));_0x1ddd8a[_0x3c4310(0x674)]=currentApplicationData[_0x3c4310(0x91f)]((_0x1aab53,_0x4164f0)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x4164f0+0x1)+'.\x20'+marked[_0x3c4310(0xe02)](_0x1aab53[_0x3c4310(0x77c)])+_0x3c4310(0x68a)+_0x4164f0+_0x3c4310(0x2ec)+_0x1aab53['options'][_0x3c4310(0x91f)]((_0x101c96,_0x3eb786)=>_0x3c4310(0x243)+_0x4164f0+',\x20'+_0x3eb786+_0x3c4310(0x702)+String[_0x3c4310(0xb87)](0x61+_0x3eb786)+'.\x20'+marked['parseInline'](_0x101c96)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3c4310(0x8c3)]('')+_0x3c4310(0x691))[_0x3c4310(0x8c3)](''),window[_0x3c4310(0xef3)]&&MathJax[_0x3c4310(0x396)]([_0x1ddd8a]),_0x116bf2&&(_0x116bf2[_0x3c4310(0xdb7)][_0x3c4310(0x35a)]='block'),_0x1ebe66[_0x3c4310(0xed5)]['add'](_0x3c4310(0x515)),_0x1950b5[_0x3c4310(0xed5)][_0x3c4310(0xb8a)](_0x3c4310(0x515));}catch(_0x274d79){console[_0x3c4310(0x61c)](_0x274d79);throw _0x274d79;}}async function callGemini(_0x10e232,_0x13947d=![]){const _0x92ddf2=_0x2e2582,_0x12f64c=_0x92ddf2(0x884),_0x370ecc=_0x92ddf2(0x821)+_0x12f64c,_0x2856b3={'contents':[{'parts':[{'text':_0x10e232}]}]};_0x13947d&&(_0x2856b3[_0x92ddf2(0x999)]={'responseMimeType':_0x92ddf2(0x78a)},_0x10e232[_0x92ddf2(0x9ee)]('Test\x20Blueprint')?_0x2856b3[_0x92ddf2(0x999)][_0x92ddf2(0x1e5)]={'type':_0x92ddf2(0xda2),'properties':{'gradeLevel':{'type':_0x92ddf2(0x9eb)},'curriculum':{'type':_0x92ddf2(0xb83),'items':{'type':_0x92ddf2(0xda2),'properties':{'sara':{'type':_0x92ddf2(0x9eb)},'mainTopics':{'type':_0x92ddf2(0xb83),'items':{'type':_0x92ddf2(0xda2),'properties':{'topicName':{'type':_0x92ddf2(0x9eb)},'subTopics':{'type':'ARRAY','items':{'type':_0x92ddf2(0x9eb)}}},'required':[_0x92ddf2(0x9fe),'subTopics']}}},'required':['sara',_0x92ddf2(0xb00)]}}},'required':[_0x92ddf2(0x3ad),_0x92ddf2(0xe3c)]}:_0x2856b3['generationConfig'][_0x92ddf2(0x1e5)]={'type':_0x92ddf2(0xb83),'items':{'type':'OBJECT','properties':{'question':{'type':_0x92ddf2(0x9eb)},'options':{'type':_0x92ddf2(0xb83),'items':{'type':_0x92ddf2(0x9eb)}},'answer':{'type':_0x92ddf2(0xbb4)}},'required':[_0x92ddf2(0x77c),_0x92ddf2(0x25f),'answer']}});try{const _0x162ac8=await fetch(_0x370ecc,{'method':_0x92ddf2(0x616),'headers':{'Content-Type':_0x92ddf2(0x78a)},'body':JSON[_0x92ddf2(0x908)](_0x2856b3)});if(!_0x162ac8['ok']){const _0x10c401=await _0x162ac8[_0x92ddf2(0x566)]();console['error'](_0x92ddf2(0x4e2),_0x10c401);throw new Error(_0x92ddf2(0xdd0)+_0x162ac8[_0x92ddf2(0x4dc)]);}const _0x36cafd=await _0x162ac8[_0x92ddf2(0x6b0)]();if(_0x36cafd[_0x92ddf2(0xc1c)]&&_0x36cafd[_0x92ddf2(0xc1c)][0x0][_0x92ddf2(0x9fa)]&&_0x36cafd['candidates'][0x0][_0x92ddf2(0x9fa)]['parts'][0x0])return _0x36cafd[_0x92ddf2(0xc1c)][0x0][_0x92ddf2(0x9fa)][_0x92ddf2(0x4d8)][0x0]['text'];else{console[_0x92ddf2(0x61c)]('Unexpected\x20API\x20response\x20structure:',_0x36cafd);if(_0x36cafd[_0x92ddf2(0xc1c)]&&_0x36cafd[_0x92ddf2(0xc1c)][0x0][_0x92ddf2(0xa00)]===_0x92ddf2(0xa2d))return JSON[_0x92ddf2(0x908)]({'error':_0x92ddf2(0x270)});throw new Error(_0x92ddf2(0x29d));}}catch(_0x51269e){console[_0x92ddf2(0x61c)]('Error\x20calling\x20Gemini\x20API:',_0x51269e);throw _0x51269e;}}async function generateLesson(_0x439d21=null,_0x207630=null){const _0x5e5599=_0x2e2582,_0x4bcb74=_0x439d21,_0x419a8f=_0x207630||_0x5e5599(0xf48),_0x5ced7e=document[_0x5e5599(0x6ec)]('lesson-loader'),_0x588dda=document[_0x5e5599(0x6ec)](_0x5e5599(0x285));_0x588dda[_0x5e5599(0x337)]=_0x5e5599(0x3dc)+_0x4bcb74+_0x5e5599(0x30c);try{let _0x2fd67a=[];const _0x106a24=document[_0x5e5599(0x6ec)](_0x5e5599(0x2e9))?.[_0x5e5599(0x8c2)]['trim']();if(_0x106a24)try{_0x588dda[_0x5e5599(0x337)]=_0x5e5599(0x922);const _0x1c5a27=await fetchFileFromUrl(_0x106a24,_0x5e5599(0xcbb)),_0x5090e1=await new Promise((_0x5b2af5,_0xfc4140)=>{const _0x367096=_0x5e5599,_0x25ff0c=new FileReader();_0x25ff0c[_0x367096(0xa1b)](_0x1c5a27),_0x25ff0c[_0x367096(0x9c2)]=()=>_0x5b2af5(_0x25ff0c[_0x367096(0xb66)][_0x367096(0x8c0)](',')[0x1]),_0x25ff0c[_0x367096(0xc0d)]=_0xfc4140;});_0x2fd67a[_0x5e5599(0x724)]({'inlineData':{'mimeType':_0x1c5a27[_0x5e5599(0xae4)],'data':_0x5090e1}});}catch(_0x59312f){console[_0x5e5599(0x61c)](_0x5e5599(0x668),_0x59312f),showMessage(_0x5e5599(0x307));}const _0x507959=_0x5e5599(0x35e)+_0x4bcb74+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x4bcb74+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x588dda[_0x5e5599(0x337)]=_0x5e5599(0x3dc)+_0x4bcb74+'\x22...';const _0x5a56f2=_0x5e5599(0xf3b)+_0x419a8f+_0x5e5599(0xd9b)+_0x4bcb74+_0x5e5599(0xd4e)+_0x507959+_0x5e5599(0xe4b),_0x57b99b=_0x5e5599(0xd32)+_0x4bcb74+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x419a8f+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0x507959+_0x5e5599(0x7c3),_0x4e5a46=_0x5e5599(0x8e6),_0x17d034='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x419a8f+_0x5e5599(0xd9b)+_0x4bcb74+_0x5e5599(0x7d7)+_0x507959+_0x5e5599(0x6f0)+_0x4e5a46+_0x5e5599(0x6ff),_0x43f56a=_0x5e5599(0x6cc)+_0x4bcb74+_0x5e5599(0xd42)+_0x419a8f+_0x5e5599(0x485)+_0x507959+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x4d332f={'type':'ARRAY','items':{'type':_0x5e5599(0xda2),'properties':{'question':{'type':_0x5e5599(0x9eb)},'options':{'type':_0x5e5599(0xb83),'items':{'type':_0x5e5599(0x9eb)}},'answer':{'type':'NUMBER'}},'required':[_0x5e5599(0x77c),_0x5e5599(0x25f),_0x5e5599(0x67c)]}},[_0x67250d,_0x1878ab,_0x49e8c1,_0x5ae6fd]=await Promise['all']([handleApiCall([{'text':_0x5a56f2},..._0x2fd67a],'...',null,null,![]),handleApiCall([{'text':_0x57b99b},..._0x2fd67a],_0x5e5599(0xa15),null,null,![]),handleApiCall([{'text':_0x17d034},..._0x2fd67a],_0x5e5599(0xa15),_0x4d332f,null,![]),handleApiCall([{'text':_0x43f56a},..._0x2fd67a],_0x5e5599(0xa15),null,null,![])]),_0xaf23f1=JSON[_0x5e5599(0x908)](_0x49e8c1||[]),_0x11b72f=document[_0x5e5599(0x6ec)](_0x5e5599(0x2f2)),_0x44e9e9=document['getElementById'](_0x5e5599(0xca5));_0x11b72f[_0x5e5599(0xd58)]=_0x5e5599(0xdc3)+_0x4bcb74[_0x5e5599(0x3cc)](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x419a8f+')',[_0x5e5599(0x898),_0x5e5599(0xcec),'summaryContent']['forEach'](_0x2b9975=>{const _0x4452ce=_0x5e5599;document['getElementById'](_0x2b9975)[_0x4452ce(0x674)]='';}),document[_0x5e5599(0x6ec)](_0x5e5599(0x898))['innerHTML']=_0x67250d?marked[_0x5e5599(0xbbc)](_0x67250d):_0x5e5599(0x3c8),document[_0x5e5599(0x6ec)](_0x5e5599(0xcec))[_0x5e5599(0x674)]=_0x1878ab?marked[_0x5e5599(0xbbc)](_0x1878ab):_0x5e5599(0x3c8),document[_0x5e5599(0x6ec)](_0x5e5599(0xa64))[_0x5e5599(0x674)]=_0x5ae6fd?marked[_0x5e5599(0xbbc)](_0x5ae6fd):_0x5e5599(0x3c8),currentApplicationData=JSON[_0x5e5599(0xbbc)](_0xaf23f1);const _0x3b39cb=document['getElementById']('applicationContent');_0x3b39cb['innerHTML']=(currentApplicationData||[])[_0x5e5599(0x91f)]((_0x60873b,_0x232699)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x232699+0x1)+'.\x20'+marked['parseInline'](_0x60873b[_0x5e5599(0x77c)]||'')+_0x5e5599(0x68a)+_0x232699+_0x5e5599(0x2ec)+(_0x60873b[_0x5e5599(0x25f)]||[])[_0x5e5599(0x91f)]((_0x4576b9,_0x4ca7ff)=>_0x5e5599(0x243)+_0x232699+',\x20'+_0x4ca7ff+_0x5e5599(0x702)+String[_0x5e5599(0xb87)](0x61+_0x4ca7ff)+'.\x20'+marked[_0x5e5599(0xe02)](_0x4576b9||'')+_0x5e5599(0xd40))[_0x5e5599(0x8c3)]('')+_0x5e5599(0x691))[_0x5e5599(0x8c3)]('')||_0x5e5599(0x971),window[_0x5e5599(0xef3)]&&MathJax[_0x5e5599(0x396)]([_0x44e9e9]),_0x5ced7e[_0x5e5599(0xed5)][_0x5e5599(0xbca)](_0x5e5599(0x515)),_0x44e9e9[_0x5e5599(0xed5)][_0x5e5599(0xb8a)](_0x5e5599(0x515));}catch(_0x2f27d4){console[_0x5e5599(0x61c)](_0x2f27d4);throw _0x2f27d4;}}function checkAnswer(_0x4c9160,_0xb9fefe){const _0x1e6ea8=_0x2e2582,_0x774dba=currentApplicationData[_0x4c9160],_0x110a56=document[_0x1e6ea8(0x6ec)]('q'+_0x4c9160+_0x1e6ea8(0xef6)),_0x54ceca=_0x110a56['getElementsByTagName'](_0x1e6ea8(0xb49));for(let _0x2fa479 of _0x54ceca){_0x2fa479[_0x1e6ea8(0x736)]=!![];}_0xb9fefe===_0x774dba[_0x1e6ea8(0x67c)]?_0x54ceca[_0xb9fefe]['classList'][_0x1e6ea8(0xbca)](_0x1e6ea8(0x259)):(_0x54ceca[_0xb9fefe][_0x1e6ea8(0xed5)][_0x1e6ea8(0xbca)](_0x1e6ea8(0x343)),_0x54ceca[_0x774dba['answer']]['classList'][_0x1e6ea8(0xbca)](_0x1e6ea8(0x259)));}window[_0x2e2582(0x327)]=handleGenerateAndShowLesson,window[_0x2e2582(0x304)]=checkAnswer,window['handleGeneratePracticeTest']=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x560ffc=_0x2e2582;if(document['getElementById'](_0x560ffc(0xc08)))return;const _0x393b30='\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>';document[_0x560ffc(0xc74)][_0x560ffc(0xc88)](_0x560ffc(0x5ea),_0x393b30),setupCropperButtons();}function setupCropperButtons(){const _0x20f763=_0x2e2582;document[_0x20f763(0x6ec)](_0x20f763(0x852))['addEventListener']('click',()=>{const _0x4f18bd=_0x20f763;document[_0x4f18bd(0x6ec)]('cropper-modal')[_0x4f18bd(0xed5)][_0x4f18bd(0xbca)](_0x4f18bd(0x515)),cropperInstance&&(cropperInstance[_0x4f18bd(0x77b)](),cropperInstance=null),document[_0x4f18bd(0x6ec)](_0x4f18bd(0xe01))[_0x4f18bd(0x8c2)]='';}),document['getElementById'](_0x20f763(0x99e))[_0x20f763(0x504)](_0x20f763(0x7b0),()=>{const _0x5cea83=_0x20f763;if(!cropperInstance)return;const _0xdc7e38=document[_0x5cea83(0x6ec)](_0x5cea83(0x99e)),_0x5962ef=_0xdc7e38[_0x5cea83(0x674)];_0xdc7e38['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...',_0xdc7e38[_0x5cea83(0x736)]=!![],cropperInstance[_0x5cea83(0x7c5)]()[_0x5cea83(0xea8)](async _0xf34bfb=>{const _0x40064c=_0x5cea83;document[_0x40064c(0x6ec)]('cropper-modal')[_0x40064c(0xed5)][_0x40064c(0xbca)](_0x40064c(0x515));const _0x3de662=new File([_0xf34bfb],'cropped_image.png',{'type':'image/png'});await handleScanImageForText(_0x3de662),_0xdc7e38[_0x40064c(0x674)]=_0x5962ef,_0xdc7e38['disabled']=![],cropperInstance['destroy'](),cropperInstance=null;},_0x5cea83(0xf22));});}function startCropper(_0x37a910){const _0x3b5b62=_0x2e2582;ensureCropperModalExists();const _0x3be075=document[_0x3b5b62(0x6ec)]('cropper-modal'),_0x1f75fa=document['getElementById'](_0x3b5b62(0x4f4)),_0x45f818=new FileReader();_0x45f818['onload']=_0x1480b5=>{const _0x575c2d=_0x3b5b62;_0x1f75fa[_0x575c2d(0xed8)]=_0x1480b5[_0x575c2d(0x8dd)][_0x575c2d(0xb66)],_0x3be075[_0x575c2d(0xed5)]['remove'](_0x575c2d(0x515));if(cropperInstance)cropperInstance['destroy']();cropperInstance=new Cropper(_0x1f75fa,{'viewMode':0x1,'dragMode':'move','autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x45f818[_0x3b5b62(0xa1b)](_0x37a910);}document[_0x2e2582(0x504)](_0x2e2582(0x9b2),()=>{const _0x4095ee=_0x2e2582,_0x3456c8=document[_0x4095ee(0x6ec)](_0x4095ee(0xe01)),_0x30c5f9=document['getElementById'](_0x4095ee(0x6c2));_0x30c5f9&&_0x3456c8&&(_0x30c5f9['addEventListener']('click',()=>{const _0x16a027=_0x4095ee;_0x3456c8['value']='',_0x3456c8[_0x16a027(0x7b0)]();}),_0x3456c8[_0x4095ee(0x504)](_0x4095ee(0xefa),_0x35f810=>{const _0x4f18ea=_0x4095ee;_0x35f810[_0x4f18ea(0x8dd)]['files']&&_0x35f810[_0x4f18ea(0x8dd)][_0x4f18ea(0x29f)][_0x4f18ea(0x83b)]>0x0&&startCropper(_0x35f810[_0x4f18ea(0x8dd)][_0x4f18ea(0x29f)][0x0]);}));});async function handleScanImageForText(_0x323217){const _0x3d9f5e=_0x2e2582,_0xe61029=document['getElementById']('text-content-input'),_0x3e31be=document[_0x3d9f5e(0x6ec)](_0x3d9f5e(0x424));if(!_0x323217)return;_0x3e31be['disabled']=!![],_0x3e31be['innerHTML']=_0x3d9f5e(0xa80),_0xe61029[_0x3d9f5e(0x373)]=_0x3d9f5e(0x6d9);try{const _0x5927ac=await new Promise((_0x2d5929,_0x1e771d)=>{const _0x38308a=_0x3d9f5e,_0x2f42de=new FileReader();_0x2f42de[_0x38308a(0xa1b)](_0x323217),_0x2f42de['onload']=()=>_0x2d5929(_0x2f42de['result']['split'](',')[0x1]),_0x2f42de[_0x38308a(0xc0d)]=_0x1e771d;}),_0x568e90='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xe0c0fa=[{'text':_0x568e90},{'inlineData':{'mimeType':_0x323217[_0x3d9f5e(0xae4)],'data':_0x5927ac}}],_0xcb488e=await handleApiCall(_0xe0c0fa,_0x3d9f5e(0xd54),null,null,![]);if(_0xcb488e){const _0x70e58e=_0xe61029[_0x3d9f5e(0x8c2)][_0x3d9f5e(0xdd8)]();_0xe61029['value']=_0x70e58e?_0x70e58e+'\x0a\x0a'+_0xcb488e:_0xcb488e,showMessage('สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ');}else throw new Error(_0x3d9f5e(0xa7c));}catch(_0x30f3){console[_0x3d9f5e(0x61c)](_0x3d9f5e(0x26b),_0x30f3),showMessage(_0x3d9f5e(0x2f6)+_0x30f3['message']);}finally{_0x3e31be[_0x3d9f5e(0x736)]=![],_0x3e31be[_0x3d9f5e(0x674)]=_0x3d9f5e(0x70b),document['getElementById'](_0x3d9f5e(0x61e))[_0x3d9f5e(0x8c2)]='';}}async function initialize(){const _0x37e305=_0x2e2582;try{const _0x5434cf=initializeApp(firebaseConfig);db=getFirestore(_0x5434cf),auth=getAuth(_0x5434cf),setupAuthListener(),setupEventListeners(),showView(_0x37e305(0x4d0)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x262474){console['error']('Firebase\x20initialization\x20failed:',_0x262474),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x37a674=_0x2e2582,_0x5a320a=document[_0x37a674(0x6ec)]('quiz-editor-modal');if(!_0x5a320a)return;const _0x5ae83a=document[_0x37a674(0x6ec)](_0x37a674(0x36c));_0x5ae83a[_0x37a674(0x736)]=!![],_0x5ae83a[_0x37a674(0x674)]=_0x37a674(0x345);try{const _0x14634b=_0x5a320a['querySelectorAll'](_0x37a674(0x262)),_0x1d2a23=Array[_0x37a674(0x30a)](_0x14634b)[_0x37a674(0x91f)]((_0x148102,_0x45aff4)=>{const _0x53c963=_0x37a674,_0x363bbd=_0x148102[_0x53c963(0x261)][_0x53c963(0x33a)],_0x252a6a=_0x148102[_0x53c963(0x427)](_0x53c963(0xf4a))[_0x53c963(0x8c2)];let _0xbfad24=null,_0x1eff71='';switch(_0x363bbd){case _0x53c963(0xbb3):const _0x59506d=_0x148102[_0x53c963(0xcf1)](_0x53c963(0x2db));_0xbfad24=Array['from'](_0x59506d)[_0x53c963(0x91f)](_0x2a5dad=>_0x2a5dad[_0x53c963(0x8c2)]);const _0x65952e=_0x148102['querySelector']('input[type=\x22radio\x22]:checked');_0x65952e&&(_0x1eff71=_0xbfad24[parseInt(_0x65952e['value'])]||'');break;case'short_answer':case'fill_in_no_choices':_0xbfad24=[],_0x1eff71=_0x148102[_0x53c963(0x427)](_0x53c963(0x81e))['value'];break;case _0x53c963(0x35c):_0xbfad24=[_0x53c963(0xbb9),'false'];const _0x4057a7=_0x148102[_0x53c963(0x427)](_0x53c963(0x567));_0x1eff71=_0x4057a7?_0x4057a7['value']:'';break;case _0x53c963(0x440):_0xbfad24=[],_0x1eff71=_0x148102['querySelector']('.correct-response-input')[_0x53c963(0x8c2)];break;}return{'questionIndex':_0x45aff4,'questionType':_0x363bbd,'question':_0x252a6a,'options':_0xbfad24,'proposedAnswer':_0x1eff71};}),_0x23395b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20**ตรวจสอบความถูกต้อง:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้อง\x20->\x20ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20**กรณีผิดหรือข้อมูลไม่ครบ\x20(สำคัญ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20หรือเป็นค่าว่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20หรือถ้า\x20\x22options\x22\x20ว่างเปล่า\x20หรือมีแต่ค่าขยะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และ\x20**ต้องสร้าง\x20\x22newOptionsPayload\x22**\x20ขึ้นมาใหม่\x20โดยมีกฎเหล็กดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20**ต้องเป็น\x20Array\x20ที่มี\x20String\x20จำนวน\x204\x20ตัวเลือกเสมอ**\x20(ห้ามขาด\x20ห้ามเกิน)\x20ประกอบด้วยคำตอบที่ถูก\x201\x20ข้อ\x20และตัวลวงสมเหตุสมผล\x203\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20ตำแหน่ง\x20(0-3)\x20ของข้อที่ถูก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องตรวจสอบ:\x20'+JSON[_0x37a674(0x908)](_0x1d2a23)+_0x37a674(0x6b5),_0x57b36b={'type':_0x37a674(0xb83),'items':{'type':_0x37a674(0xda2),'properties':{'questionIndex':{'type':_0x37a674(0xbb4)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':'STRING'},'correctOptionExists':{'type':_0x37a674(0xe27)},'suggestedAnswer':{'type':_0x37a674(0x9eb)},'newOptionsPayload':{'type':'OBJECT','properties':{'newOptions':{'type':_0x37a674(0xb83),'items':{'type':'STRING'}},'newCorrectIndex':{'type':_0x37a674(0xbb4)}},'required':[_0x37a674(0xb54),'newCorrectIndex']}},'required':[_0x37a674(0x39e),_0x37a674(0x33c),_0x37a674(0x7b1)]}},_0x354305=await callAnalysisApi(_0x23395b,{'type':'OBJECT','properties':{'result':_0x57b36b},'required':['result']});if(_0x354305&&_0x354305['result'])displayVerificationResultsInEditor(_0x354305['result']);else throw new Error(_0x37a674(0x3db));}catch(_0x165682){console[_0x37a674(0x61c)](_0x37a674(0x9a6),_0x165682),showMessage(_0x37a674(0xddc)+_0x165682['message']);}finally{_0x5ae83a['disabled']=![],_0x5ae83a[_0x37a674(0x674)]=_0x37a674(0x1e4);}}function displayVerificationResultsInEditor(_0x3fc5d0){const _0x485aff=_0x2e2582;_0x3fc5d0['forEach'](_0x42a719=>{const _0x231c73=_0x5f2f,_0x1c34bb=document[_0x231c73(0x427)]('.question-editor-item[data-q-index=\x22'+_0x42a719[_0x231c73(0x39e)]+'\x22]');if(!_0x1c34bb)return;const _0x5c936f=_0x1c34bb['querySelector'](_0x231c73(0x4f5));if(_0x5c936f)_0x5c936f['remove']();let _0x31dc06='';if(_0x42a719['newOptionsPayload']&&_0x42a719[_0x231c73(0x4a7)][_0x231c73(0xb54)]){const _0x135f31=_0x42a719[_0x231c73(0x4a7)][_0x231c73(0xb54)],_0x305dd4=_0x42a719[_0x231c73(0x4a7)][_0x231c73(0x331)],_0xaa5236=_0x1c34bb[_0x231c73(0x261)][_0x231c73(0x33a)];if(_0xaa5236==='multiple_choice'){const _0x4cda38=_0x1c34bb[_0x231c73(0xcf1)](_0x231c73(0x2db));_0x4cda38[_0x231c73(0x9ce)]((_0x4be011,_0x7b222e)=>{const _0xfa2c07=_0x231c73;_0x135f31[_0x7b222e]?_0x4be011[_0xfa2c07(0x8c2)]=_0x135f31[_0x7b222e]:_0x4be011['value']=_0xfa2c07(0x6b4);});const _0x5a5600=_0x1c34bb['querySelector'](_0x231c73(0x2f3)+_0x305dd4+'\x22]');_0x5a5600&&(_0x5a5600[_0x231c73(0xa0a)]=!![]),_0x31dc06=_0x231c73(0x46d),_0x1c34bb[_0x231c73(0xed5)][_0x231c73(0xbca)](_0x231c73(0x73c),'transition-all','duration-300'),setTimeout(()=>{const _0x202592=_0x231c73;_0x1c34bb[_0x202592(0xed5)][_0x202592(0xb8a)](_0x202592(0x73c));},0x9c4);}}else{if(!_0x42a719[_0x231c73(0x33c)]&&_0x42a719['suggestedAnswer']){const _0xef67a3=_0x42a719[_0x231c73(0x925)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x31dc06='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0xef67a3+_0x231c73(0x6fc)+_0x42a719[_0x231c73(0x7b1)]+_0x231c73(0x62c)+(_0x42a719['suggestedAnswer']?_0x231c73(0x964)+_0x42a719[_0x231c73(0x925)]+_0x231c73(0x895):'')+_0x231c73(0xc1f);const _0x1df1ea=_0x1c34bb[_0x231c73(0x261)][_0x231c73(0x33a)],_0x3326f7=_0x22e8a6=>{const _0x41e02b=_0x231c73;if(!_0x22e8a6)return;_0x22e8a6['classList']['add'](_0x41e02b(0x750),_0x41e02b(0x520),'duration-300'),setTimeout(()=>{const _0x232e83=_0x41e02b;_0x22e8a6['classList'][_0x232e83(0xb8a)]('bg-green-200');},0x9c4);};if(_0x1df1ea===_0x231c73(0xbb3)){const _0x5b3397=Array[_0x231c73(0x30a)](_0x1c34bb[_0x231c73(0xcf1)](_0x231c73(0x2db))),_0x2d040a=_0x5b3397[_0x231c73(0x8e8)](_0x52f8b4=>_0x52f8b4[_0x231c73(0x8c2)][_0x231c73(0xdd8)]()[_0x231c73(0x3be)]()===_0x42a719[_0x231c73(0x925)][_0x231c73(0xdd8)]()['toLowerCase']());if(_0x2d040a!==-0x1){const _0x452b37=_0x1c34bb[_0x231c73(0x427)]('input[type=\x22radio\x22][value=\x22'+_0x2d040a+'\x22]');_0x452b37&&(_0x452b37['checked']=!![],_0x3326f7(_0x452b37[_0x231c73(0x366)]('div')));}}else{if(_0x1df1ea===_0x231c73(0x466)||_0x1df1ea===_0x231c73(0x440)){const _0x2a678c=_0x1c34bb[_0x231c73(0x427)](_0x231c73(0x22b));_0x2a678c&&(_0x2a678c['value']=_0x42a719[_0x231c73(0x925)],_0x3326f7(_0x2a678c));}else{if(_0x1df1ea===_0x231c73(0x35c)){const _0x2ba786=_0x42a719[_0x231c73(0x925)][_0x231c73(0xdd8)]()['toLowerCase'](),_0x22329e=_0x1c34bb[_0x231c73(0x427)]('input[type=\x22radio\x22][value=\x22'+_0x2ba786+'\x22]');_0x22329e&&(_0x22329e[_0x231c73(0xa0a)]=!![],_0x3326f7(_0x22329e['closest'](_0x231c73(0x2b0))));}}}}else _0x42a719[_0x231c73(0x33c)]&&(_0x31dc06=_0x231c73(0x825));}_0x1c34bb['insertAdjacentHTML'](_0x231c73(0x5ea),_0x31dc06);}),showMessage(_0x485aff(0x3c2));}async function handleVerifyAnswers(){const _0x3a8642=_0x2e2582;if(!currentQuizData||!currentQuizData[_0x3a8642(0xa08)]){showMessage(_0x3a8642(0x3f3));return;}const _0x31f9ac=document[_0x3a8642(0x6ec)]('verify-answers-btn');_0x31f9ac[_0x3a8642(0x736)]=!![],_0x31f9ac['innerHTML']=_0x3a8642(0x345);try{const _0x36ae3d=currentQuizData[_0x3a8642(0xa08)]['map']((_0x29c5ea,_0x40c81d)=>{const _0x4a719c=_0x3a8642;let _0x33f6e7='';const _0x270018=_0x29c5ea['questionType']||currentQuizData[_0x4a719c(0x80d)];switch(_0x270018){case _0x4a719c(0xbb3):_0x33f6e7=_0x29c5ea['options'][_0x29c5ea[_0x4a719c(0x526)]];break;case _0x4a719c(0x466):_0x33f6e7=_0x29c5ea[_0x4a719c(0x9f1)];break;case _0x4a719c(0x35c):_0x33f6e7=_0x29c5ea[_0x4a719c(0xec0)][_0x4a719c(0xe25)]();break;case'matching_item':_0x33f6e7=_0x29c5ea[_0x4a719c(0xc32)];break;}return{'question':_0x29c5ea[_0x4a719c(0x71c)]||_0x29c5ea[_0x4a719c(0x912)],'options':_0x29c5ea['options']||null,'proposedAnswer':_0x33f6e7};}),_0x1a8eea=_0x3a8642(0x47a)+JSON[_0x3a8642(0x908)](_0x36ae3d)+_0x3a8642(0x2d5),_0x386d6d={'type':_0x3a8642(0xb83),'items':{'type':_0x3a8642(0xda2),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x3a8642(0xe27)},'justification':{'type':_0x3a8642(0x9eb)},'suggestedAnswer':{'type':_0x3a8642(0x9eb)}},'required':[_0x3a8642(0x39e),'isCorrect',_0x3a8642(0x7b1)]}},_0x2cdd7f=await callAnalysisApi(_0x1a8eea,{'type':_0x3a8642(0xda2),'properties':{'result':_0x386d6d},'required':['result']});displayVerificationResults(_0x2cdd7f[_0x3a8642(0xb66)]);}catch(_0x35ad4b){console[_0x3a8642(0x61c)](_0x3a8642(0x547),_0x35ad4b),showMessage(_0x3a8642(0xa4b));}finally{_0x31f9ac[_0x3a8642(0x736)]=![],_0x31f9ac['innerHTML']=_0x3a8642(0xb77);}}function displayVerificationResults(_0x590510){const _0x6fed52=_0x2e2582;_0x590510[_0x6fed52(0x9ce)](_0x536e2f=>{const _0x11be38=_0x6fed52,_0x3d8c37=document[_0x11be38(0x427)](_0x11be38(0x9bf)+_0x536e2f[_0x11be38(0x39e)]+'\x22]');if(_0x3d8c37){const _0x940bc=_0x3d8c37['querySelector'](_0x11be38(0x748));if(_0x940bc)_0x940bc['remove']();let _0x34fb31='';_0x536e2f[_0x11be38(0x33c)]?_0x34fb31=_0x11be38(0x4f6):_0x34fb31='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x536e2f[_0x11be38(0x7b1)]+_0x11be38(0x4a3)+(_0x536e2f[_0x11be38(0x925)]?_0x11be38(0x964)+_0x536e2f[_0x11be38(0x925)]+_0x11be38(0x895):'')+_0x11be38(0x4af),_0x3d8c37['insertAdjacentHTML'](_0x11be38(0x5ea),_0x34fb31);}}),showMessage(_0x6fed52(0x3c2));}function compareNumericalAnswers(_0x476809,_0x316d2a){const _0x53eee7=_0x2e2582,_0x5cb79c=String(_0x476809)[_0x53eee7(0x3cc)](',','.')[_0x53eee7(0x3cc)](/[^\d.-]/g,'')[_0x53eee7(0xdd8)](),_0x64540a=String(_0x316d2a)['replace'](',','.')[_0x53eee7(0x3cc)](/[^\d.-]/g,'')['trim']();if(_0x5cb79c===''||_0x64540a==='')return![];const _0x33dfc3=parseFloat(_0x5cb79c),_0x3378db=parseFloat(_0x64540a);if(isNaN(_0x33dfc3)||isNaN(_0x3378db))return![];return Math[_0x53eee7(0x8b5)](_0x33dfc3-_0x3378db)<0.001;}function isPotentiallyNumeric(_0x2641b0){const _0x4402a7=_0x2e2582;if(typeof _0x2641b0!==_0x4402a7(0xa9c)&&typeof _0x2641b0!==_0x4402a7(0x763))return![];const _0x87b754=String(_0x2641b0)[_0x4402a7(0x3cc)](',','.')[_0x4402a7(0xdd8)]();return _0x87b754!==''&&!isNaN(parseFloat(_0x87b754))&&isFinite(_0x87b754);}async function gradeShortAnswer(_0x457eb8,_0x1988a3){const _0x557867=_0x2e2582,_0xdf03d1=_0x1988a3[_0x557867(0x9f1)],_0x42c074=String(_0x457eb8)[_0x557867(0x3cc)](/\$/g,'')[_0x557867(0xdd8)](),_0xd447c0=String(_0xdf03d1)['replace'](/\$/g,'')['trim']();if(_0x42c074[_0x557867(0x3be)]()===_0xd447c0[_0x557867(0x3be)]())return!![];if(isPotentiallyNumeric(_0x42c074)&&isPotentiallyNumeric(_0xd447c0)){if(compareNumericalAnswers(_0x42c074,_0xd447c0))return!![];}return console[_0x557867(0xeec)](_0x557867(0x3d9)),![];}async function revealAnswerForAdmin(_0x7df41b,_0xcb8ab9){const _0x540c99=_0x2e2582,_0x476dcf=doc(db,'artifacts/'+appId+_0x540c99(0x98f),currentLiveGameId);await updateDoc(_0x476dcf,{'questionStatus':_0x540c99(0x5ac)});}function showTop5LeaderboardView(_0x2f0bc7){const _0x48111f=_0x2e2582,_0x318207=Object[_0x48111f(0x586)](_0x2f0bc7['players']||{})['filter'](_0x544f6a=>_0x544f6a[_0x48111f(0x4dc)]===_0x48111f(0xb3d));_0x318207[_0x48111f(0x6f8)]((_0x18b45f,_0x41298f)=>_0x41298f[_0x48111f(0x600)]-_0x18b45f['score']);const _0x59950a=_0x318207[_0x48111f(0xcb7)](0x0,0x5),_0x19a668='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x59950a[_0x48111f(0x91f)]((_0x60b028,_0x2d2ac3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x2d2ac3+0x1)+'.\x20'+(_0x60b028[_0x48111f(0x47c)]||Object['keys'](_0x2f0bc7[_0x48111f(0x21d)])[_0x48111f(0x426)](_0x2bf398=>_0x2f0bc7['players'][_0x2bf398]===_0x60b028))+_0x48111f(0xdcd)+_0x60b028[_0x48111f(0x600)]+_0x48111f(0x25b))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2f0bc7[_0x48111f(0x5fb)]+0x1===currentQuizData[_0x48111f(0xa08)][_0x48111f(0x83b)]?_0x48111f(0x218):_0x48111f(0xc94))+_0x48111f(0x5b4);liveGameView[_0x48111f(0x674)]=_0x19a668,document[_0x48111f(0x6ec)]('goto-next-question-btn')[_0x48111f(0x504)]('click',async()=>{const _0x40b35c=_0x48111f,_0x3d9b7e=doc(db,_0x40b35c(0x509)+appId+_0x40b35c(0x98f),currentLiveGameId),_0x18398=_0x2f0bc7[_0x40b35c(0x5fb)]+0x1;if(_0x18398<currentQuizData[_0x40b35c(0xa08)][_0x40b35c(0x83b)]){const _0x470baa={'currentQuestionIndex':_0x18398,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x40b35c(0xc46)};Object['keys'](_0x2f0bc7[_0x40b35c(0x21d)])[_0x40b35c(0x9ce)](_0x2d09bd=>{const _0x287b04=_0x40b35c;_0x470baa[_0x287b04(0xa3c)+_0x2d09bd+_0x287b04(0x278)]=![];}),await updateDoc(_0x3d9b7e,_0x470baa);}else await updateDoc(_0x3d9b7e,{'status':_0x40b35c(0x709)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x50dd6d=>{const _0x4e15d8=_0x5f2f;if(_0x50dd6d){userId=_0x50dd6d[_0x4e15d8(0x75b)],userIdDisplay['textContent']=userId;const _0x299cf9=await loadUserPreferences();_0x299cf9['projectSortOrder']&&(document[_0x4e15d8(0x6ec)](_0x4e15d8(0xf1c))[_0x4e15d8(0x8c2)]=_0x299cf9[_0x4e15d8(0xde0)]);globalDashboardSettings[_0x4e15d8(0xa9a)]=_0x299cf9[_0x4e15d8(0xa9a)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x14c799,_0x24f8f0){const _0x433540=_0x2e2582;if(!userId)return;try{const _0x394b45=doc(db,_0x433540(0x509)+appId+_0x433540(0xc9f)+userId+_0x433540(0x449)),_0x125258={};_0x125258[_0x14c799]=_0x24f8f0,await setDoc(_0x394b45,_0x125258,{'merge':!![]});}catch(_0x1d624f){console['error'](_0x433540(0xbdc),_0x1d624f);}}async function loadUserPreferences(){const _0x3e677e=_0x2e2582;if(!userId)return{};try{const _0x5ce574=doc(db,_0x3e677e(0x509)+appId+_0x3e677e(0xc9f)+userId+_0x3e677e(0x449)),_0x507e6e=await getDoc(_0x5ce574);if(_0x507e6e[_0x3e677e(0xa82)]())return _0x507e6e[_0x3e677e(0xe5c)]();return{};}catch(_0x1052a9){return console[_0x3e677e(0x61c)](_0x3e677e(0x75e),_0x1052a9),{};}}function parseIndentedBlueprint(_0x1fafcb){const _0x3a5649=_0x2e2582,_0xd61be8=_0x1fafcb[_0x3a5649(0x8c0)]('\x0a')[_0x3a5649(0xe4e)](_0x3406e7=>_0x3406e7[_0x3a5649(0xdd8)]()!==''),_0x59c490=[];let _0x1a352a=null,_0x4f8867=null;return _0xd61be8[_0x3a5649(0x9ce)](_0x27fa0b=>{const _0x3ce36a=_0x3a5649,_0x1a10db=_0x27fa0b[_0x3ce36a(0xf08)](/^\s*/)[0x0][_0x3ce36a(0x83b)],_0x276218=_0x27fa0b[_0x3ce36a(0xdd8)]();if(_0x1a10db===0x0)_0x1a352a={'sara':_0x276218,'mainTopics':[]},_0x59c490[_0x3ce36a(0x724)](_0x1a352a),_0x4f8867=null;else{if(_0x1a10db>0x0&&_0x1a10db<0x8&&_0x1a352a)_0x4f8867={'topicName':_0x276218,'subTopics':[]},_0x1a352a[_0x3ce36a(0xb00)][_0x3ce36a(0x724)](_0x4f8867);else _0x1a10db>=0x8&&_0x4f8867&&_0x4f8867[_0x3ce36a(0xe1c)][_0x3ce36a(0x724)](_0x276218);}}),{'curriculum':_0x59c490};}async function handleManualBlueprintSave(){const _0x52b14f=_0x2e2582,_0x5f5478=document[_0x52b14f(0x6ec)](_0x52b14f(0xce4))[_0x52b14f(0x8c2)][_0x52b14f(0xdd8)](),_0x3d1545=document[_0x52b14f(0x6ec)](_0x52b14f(0x611))[_0x52b14f(0x8c2)][_0x52b14f(0xdd8)](),_0x21df2f=document[_0x52b14f(0x6ec)](_0x52b14f(0x666))[_0x52b14f(0x8c2)];if(!_0x5f5478||!_0x3d1545||!_0x21df2f){showMessage(_0x52b14f(0x2dc));return;}const _0x492442=parseIndentedBlueprint(_0x21df2f);if(!_0x492442[_0x52b14f(0xe3c)]||_0x492442['curriculum'][_0x52b14f(0x83b)]===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x4fb5d6={};let _0x5e0b97=0x0;_0x492442[_0x52b14f(0xe3c)][_0x52b14f(0x9ce)](_0x339c3f=>{const _0xa8b948=_0x52b14f;_0x339c3f[_0xa8b948(0xb00)][_0xa8b948(0x9ce)](_0x36de53=>{const _0x5553fe=_0xa8b948;_0x36de53['subTopics'][_0x5553fe(0x9ce)](_0x5b9315=>{const _0x482ae9=_0x5553fe,_0x392c11=_0x482ae9(0x7ac)+Date[_0x482ae9(0xbf5)]()+Math[_0x482ae9(0x76c)]()['toString'](0x24)[_0x482ae9(0x22a)](0x2,0x9);_0x4fb5d6[_0x392c11]={'sara':_0x339c3f[_0x482ae9(0x544)],'mainTopic':_0x36de53[_0x482ae9(0x9fe)],'subTopic':_0x5b9315,'status':_0x482ae9(0x3fa),'lessonContent':null,'order':_0x5e0b97++};});});});try{const _0x38cf89=collection(db,_0x52b14f(0x509)+appId+_0x52b14f(0x9d8));await addDoc(_0x38cf89,{'projectName':_0x5f5478,'gradeLevel':_0x3d1545,'topics':_0x4fb5d6,'createdAt':serverTimestamp()}),showMessage(_0x52b14f(0xcc6)+_0x5f5478+_0x52b14f(0x525)),document[_0x52b14f(0x6ec)](_0x52b14f(0x8eb))[_0x52b14f(0xed5)]['add'](_0x52b14f(0x515));}catch(_0xd7b414){console[_0x52b14f(0x61c)](_0x52b14f(0x86a),_0xd7b414),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x31d5e5){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)',async()=>{const _0x2e042d=_0x5f2f;try{const _0x34659b=doc(db,_0x2e042d(0x509)+appId+_0x2e042d(0x9d8),currentBlueprintProjectId);await updateDoc(_0x34659b,{[_0x2e042d(0xabf)+_0x31d5e5+_0x2e042d(0xa4c)]:[]}),showMessage(_0x2e042d(0xcfa)),openTopicQuizBank(_0x31d5e5),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3b2c79){console[_0x2e042d(0x61c)](_0x2e042d(0x6a8),_0x3b2c79),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x36f032,_0x372603=_0x2e2582(0xeee),_0x52b1db=null){const _0x6cda83=_0x2e2582,_0x5e3c60=_0x52b1db?.[_0x6cda83(0x4dd)]===!![],_0xbe7fd2=Object[_0x6cda83(0x81d)](_0x36f032)[_0x6cda83(0x91f)](([_0x1e72c4,_0x182413])=>({'name':_0x1e72c4,'realScore':_0x182413['realScore']||_0x182413[_0x6cda83(0x600)]||0x0,'totalPoints':_0x182413[_0x6cda83(0x468)]||0x0,'badges':_0x182413[_0x6cda83(0xdbd)]||[],'hasPerfectScoreBonus':_0x182413[_0x6cda83(0x2fb)]||![]})),_0x40ccec=Math['max'](..._0xbe7fd2[_0x6cda83(0x91f)](_0x31e432=>_0x31e432[_0x6cda83(0x468)]),-Infinity),_0x3028e1=Math[_0x6cda83(0xd94)](..._0xbe7fd2[_0x6cda83(0x91f)](_0x102aeb=>_0x102aeb[_0x6cda83(0x947)]),-Infinity);_0xbe7fd2[_0x6cda83(0x6f8)]((_0x4bc937,_0x4c1c08)=>{const _0x550e64=_0x6cda83;if(_0x5e3c60){const _0x1089c1=_0x4c1c08['totalPoints']-_0x4bc937['totalPoints'];if(_0x1089c1!==0x0)return _0x1089c1;const _0x46a1e9=_0x4c1c08[_0x550e64(0x947)]-_0x4bc937[_0x550e64(0x947)];if(_0x46a1e9!==0x0)return _0x46a1e9;return _0x4bc937[_0x550e64(0x47c)][_0x550e64(0x6e9)](_0x4c1c08[_0x550e64(0x47c)],'th');}else{const _0x24f0a0=_0x4c1c08[_0x550e64(0x468)]-_0x4bc937[_0x550e64(0x468)];if(_0x24f0a0!==0x0)return _0x24f0a0;return _0x4c1c08[_0x550e64(0x947)]-_0x4bc937[_0x550e64(0x947)];}});const _0x3dbb50=_0x2a2bac=>{const _0xdb9303=_0x6cda83;if(!_0x2a2bac||_0x2a2bac[_0xdb9303(0x83b)]===0x0)return'';const _0x4bf052={'quick_thinker':'⚡️','on_fire':'🔥'};return _0xdb9303(0xc01)+_0x2a2bac[_0xdb9303(0x91f)](_0x260ef5=>_0x4bf052[_0x260ef5]||'')[_0xdb9303(0x8c3)]('')+_0xdb9303(0x4f3);},_0xae62f=_0x5dfc8c=>{const _0x271d15=_0x6cda83;let _0x53e6b2='';if(_0x5e3c60){if(_0x5dfc8c['totalPoints']===_0x40ccec&&_0x40ccec>0x0)_0x53e6b2+='<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20';if(_0x5dfc8c[_0x271d15(0x947)]===_0x3028e1&&_0x3028e1>0x0)_0x53e6b2+=_0x271d15(0x4cd);}else{if(_0x5dfc8c[_0x271d15(0x2fb)])_0x53e6b2=_0x271d15(0x234);}if(_0x5e3c60){const _0x68e700=_0x5dfc8c['totalPoints']>=0x0?'(+'+_0x5dfc8c['totalPoints']['toLocaleString']()+')':'('+_0x5dfc8c[_0x271d15(0x468)][_0x271d15(0xe4c)]()+')';return'<p\x20class=\x22text-xl\x22>'+_0x5dfc8c['realScore']+_0x271d15(0x340)+_0x68e700+'\x20'+_0x53e6b2+'</p>';}else return'<p\x20class=\x22text-xl\x22>'+_0x5dfc8c[_0x271d15(0x468)]['toLocaleString']()+_0x271d15(0x340)+_0x53e6b2+_0x271d15(0x895);},_0x47c4f2=_0xbe7fd2['slice'](0x3),_0x1cd617=_0x47c4f2[_0x6cda83(0x83b)]>0x0?_0x6cda83(0xe6e)+_0x47c4f2[_0x6cda83(0x91f)]((_0x5c2a76,_0x599634)=>{const _0x4ce07f=_0x6cda83;return _0x4ce07f(0xa10)+(_0x599634+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5c2a76[_0x4ce07f(0x47c)]+_0x4ce07f(0xb89)+_0xae62f(_0x5c2a76)+_0x4ce07f(0x78d);})[_0x6cda83(0x8c3)]('')+_0x6cda83(0xbbb):'',_0x1a22ea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xbe7fd2[0x1]?_0x6cda83(0x93c)+_0xbe7fd2[0x1][_0x6cda83(0x47c)]+_0x6cda83(0x895)+_0x3dbb50(_0xbe7fd2[0x1][_0x6cda83(0xdbd)])+_0xae62f(_0xbe7fd2[0x1])+_0x6cda83(0x941):_0x6cda83(0x305))+_0x6cda83(0xb80)+(_0xbe7fd2[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0xbe7fd2[0x0][_0x6cda83(0x47c)]+_0x6cda83(0x895)+_0x3dbb50(_0xbe7fd2[0x0]['badges'])+_0xae62f(_0xbe7fd2[0x0])+_0x6cda83(0xd60):_0x6cda83(0x305))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xbe7fd2[0x2]?_0x6cda83(0xe29)+_0xbe7fd2[0x2][_0x6cda83(0x47c)]+_0x6cda83(0x895)+_0x3dbb50(_0xbe7fd2[0x2]['badges'])+_0xae62f(_0xbe7fd2[0x2])+_0x6cda83(0x51b):_0x6cda83(0x305))+_0x6cda83(0xec4)+_0x1cd617+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x6cda83(0x2dd)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x6cda83(0x79b))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView[_0x6cda83(0x674)]=_0x1a22ea,currentMode===_0x6cda83(0x2dd)?document['getElementById']('close-game-final-btn')['addEventListener'](_0x6cda83(0x7b0),async()=>{const _0x506dde=_0x6cda83;let _0x414ba7;_0x372603===_0x506dde(0x5db)?_0x414ba7=doc(db,_0x506dde(0x509)+appId+_0x506dde(0xa31),currentLiveGameId):_0x414ba7=doc(db,_0x506dde(0x509)+appId+_0x506dde(0x98f),currentLiveGameId),await deleteDoc(_0x414ba7);}):document['getElementById']('student-back-to-home-btn')?.[_0x6cda83(0x504)](_0x6cda83(0x7b0),()=>{const _0x4605d5=_0x6cda83;showView(_0x4605d5(0x4d0));});}function renderSyncSummaryView(_0x49e425,_0xc2bf65,_0x203d8a){const _0x5d88fd=_0x2e2582,_0x5e0d31=_0x49e425[_0x5d88fd(0x826)]||_0x5d88fd(0x45e),_0x4b934e=(_0x5e0d31===_0x5d88fd(0x3f4)||_0x5e0d31==='anonymous_reveal_end')&&_0x49e425[_0x5d88fd(0xc0b)]===![],_0x1a93f0=_0x5e0d31===_0x5d88fd(0xa8e)||_0x5e0d31==='anonymous_reveal_end',_0x432ce8=_0x49e425[_0x5d88fd(0x23c)][_0x5d88fd(0xa08)],_0x5f49b1=_0xc2bf65['questionType']||_0x49e425[_0x5d88fd(0x23c)][_0x5d88fd(0x80d)],_0x14e66d=_0x5f49b1===_0x5d88fd(0x466)||_0x5f49b1===_0x5d88fd(0x8f5);let _0xf0818a='';if(_0x14e66d){let _0x49ac03=0x0,_0xbd7aad=0x0;const _0x10039c=[],_0x168d64=[];Object[_0x5d88fd(0x81d)](_0x49e425[_0x5d88fd(0x21d)]||{})[_0x5d88fd(0x9ce)](([_0x5d406a,_0x4618d6])=>{const _0x84d6a6=_0x5d88fd,_0x1ff0ac=(_0x4618d6[_0x84d6a6(0x767)]||[])[_0x84d6a6(0x426)](_0x2f7a65=>_0x2f7a65[_0x84d6a6(0x39e)]===_0x49e425[_0x84d6a6(0x5fb)]);if(_0x4618d6[_0x84d6a6(0x4dc)]!==_0x84d6a6(0xace)&&_0x1ff0ac){const _0x5c69d3=_0x1ff0ac['answerText'],_0x404250=_0x4b934e?_0x49e425['playerNicknames'][_0x5d406a]||_0x84d6a6(0xacc):_0x5d406a;_0x1ff0ac[_0x84d6a6(0x33c)]?(_0x49ac03++,_0x10039c[_0x84d6a6(0x724)](_0x404250)):(_0xbd7aad++,_0x168d64[_0x84d6a6(0x724)](_0x84d6a6(0x38e)+_0x404250+_0x84d6a6(0x85e)+(_0x5c69d3||'(ไม่ตอบ)')));}}),_0xf0818a=_0x5d88fd(0x4f0)+_0x49ac03+_0x5d88fd(0x4fe)+(_0x10039c['length']>0x0?_0x10039c[_0x5d88fd(0x8c3)](',\x20'):'-')+_0x5d88fd(0x751)+_0xbd7aad+_0x5d88fd(0x431)+(_0x168d64['length']>0x0?_0x168d64[_0x5d88fd(0x8c3)](_0x5d88fd(0x8cf)):'-')+_0x5d88fd(0x985);}else{let _0x5a8d31=[];_0x5f49b1===_0x5d88fd(0x35c)?_0x5a8d31=[_0x5d88fd(0xdd1),_0x5d88fd(0x6ca)]:_0x5a8d31=_0xc2bf65['options']||[];const _0x182231=new Array(_0x5a8d31[_0x5d88fd(0x83b)])[_0x5d88fd(0x4bf)](0x0),_0x446e07={};_0x5a8d31[_0x5d88fd(0x9ce)]((_0x558494,_0x37272a)=>{_0x446e07[_0x37272a]=[];}),Object['entries'](_0x49e425['players']||{})[_0x5d88fd(0x9ce)](([_0x1351fb,_0x11541b])=>{const _0x2b8758=_0x5d88fd,_0x5cbb60=(_0x11541b[_0x2b8758(0x767)]||[])[_0x2b8758(0x426)](_0x39265a=>_0x39265a[_0x2b8758(0x39e)]===_0x49e425['currentQuestionIndex']);if(_0x11541b[_0x2b8758(0x4dc)]!==_0x2b8758(0xace)&&_0x5cbb60&&_0x5cbb60[_0x2b8758(0x67c)]!==null){const _0x58f3c2=parseInt(_0x5cbb60[_0x2b8758(0x67c)]);if(!isNaN(_0x58f3c2)&&_0x446e07[_0x58f3c2]!==undefined){const _0x2008b4=_0x4b934e?_0x49e425[_0x2b8758(0x5e7)][_0x1351fb]||_0x2b8758(0xacc):_0x1351fb;_0x446e07[_0x58f3c2][_0x2b8758(0x724)](_0x2008b4),_0x182231[_0x58f3c2]++;}}}),_0xf0818a=_0x5d88fd(0x6be)+_0x182231[_0x5d88fd(0x91f)]((_0xfdc65e,_0x251c8a)=>{const _0x2f60e4=_0x5d88fd,_0x2e88d7=_0x446e07[_0x251c8a][_0x2f60e4(0x83b)]>0x0?_0x446e07[_0x251c8a]['join'](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x2bd20e=_0x2f60e4(0xe0d);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0xfdc65e+_0x2f60e4(0x686)+_0x2bd20e+_0x2f60e4(0xb2a)+_0x251c8a+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x5a8d31[_0x251c8a]+_0x2f60e4(0xd33)+_0x251c8a+_0x2f60e4(0xd84)+_0x2e88d7+_0x2f60e4(0x7c8);})[_0x5d88fd(0x8c3)]('')+_0x5d88fd(0xddf);}let _0x18cec7='';const _0xe9bdc2=_0x49e425[_0x5d88fd(0x5fb)]>=_0x432ce8[_0x5d88fd(0x83b)]-0x1;_0x203d8a?_0x1a93f0?_0xe9bdc2?_0x18cec7=_0x5d88fd(0x970):_0x18cec7='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>':_0x18cec7=_0x5d88fd(0x548):_0x1a93f0?_0x18cec7=_0x5d88fd(0x65d):_0x18cec7=_0x5d88fd(0x4ad);const _0x2fb0b5=_0x203d8a?_0x5d88fd(0xbe2)+_0x49e425[_0x5d88fd(0xd35)]+_0x5d88fd(0x3d2):'',_0x2ef59d=_0x5d88fd(0x84b)+_0x2fb0b5+_0x5d88fd(0x628)+(_0xc2bf65[_0x5d88fd(0x912)]||_0xc2bf65[_0x5d88fd(0x71c)]||'')+_0x5d88fd(0x59d)+_0xf0818a+_0x5d88fd(0x4b0)+_0x18cec7+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x5d88fd(0x674)]=_0x2ef59d;if(window['MathJax'])MathJax[_0x5d88fd(0x396)]();if(_0x203d8a){const _0x2f2cf5=doc(db,_0x5d88fd(0x509)+appId+_0x5d88fd(0xa31),currentLiveGameId);document[_0x5d88fd(0x6ec)](_0x5d88fd(0x92c))?.[_0x5d88fd(0x504)](_0x5d88fd(0x7b0),async()=>{const _0x2491d5=_0x5d88fd,_0x5c885c=Object[_0x2491d5(0x586)](_0x49e425[_0x2491d5(0x21d)]||{})[_0x2491d5(0x91f)](_0x1cf010=>({'name':_0x1cf010[_0x2491d5(0x47c)],'score':_0x1cf010[_0x2491d5(0x600)]||0x0,'totalPoints':_0x1cf010['totalPoints']||0x0,'pointsLastRound':_0x1cf010[_0x2491d5(0x201)]||0x0,'answers':_0x1cf010['answers']||[],'correctStreak':_0x1cf010[_0x2491d5(0xc54)]||0x0}));await updateDoc(_0x2f2cf5,{'status':_0x2491d5(0xa51),'publicLeaderboard':_0x5c885c});}),document[_0x5d88fd(0x6ec)](_0x5d88fd(0xb09))?.[_0x5d88fd(0x504)](_0x5d88fd(0x7b0),()=>{const _0x2cf51b=_0x5d88fd;openScratchpad(_0xc2bf65,_0xc2bf65[_0x2cf51b(0x25f)]||[]);}),document[_0x5d88fd(0x6ec)](_0x5d88fd(0x903))?.[_0x5d88fd(0x504)](_0x5d88fd(0x7b0),async()=>{const _0x59bf49=_0x5d88fd,_0x116562=_0x49e425[_0x59bf49(0x5fb)]+0x1;await updateDoc(_0x2f2cf5,{'status':_0x59bf49(0x77c),'currentQuestionIndex':_0x116562,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0x5d88fd(0x6ec)]('show-final-results-btn')?.[_0x5d88fd(0x504)](_0x5d88fd(0x7b0),async()=>{const _0x548fa6=_0x5d88fd,_0x324018=Object[_0x548fa6(0x586)](_0x49e425['players']||{})['map'](_0x547c70=>({'name':_0x547c70['name'],'score':_0x547c70[_0x548fa6(0x600)]||0x0,'totalPoints':_0x547c70[_0x548fa6(0x468)]||0x0,'pointsLastRound':_0x547c70[_0x548fa6(0x201)]||0x0,'answers':_0x547c70[_0x548fa6(0x767)]||[],'correctStreak':_0x547c70[_0x548fa6(0xc54)]||0x0}));await updateDoc(_0x2f2cf5,{'status':_0x548fa6(0xa51),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x324018});});}}function renderAnonymousStudentResultsView(_0x3e7c2b){const _0x46b551=_0x2e2582,_0x302603=_0x3e7c2b[_0x46b551(0x5fb)]>=_0x3e7c2b['shuffledQuiz']['questions'][_0x46b551(0x83b)]-0x1;let _0x18483e='';if(_0x3e7c2b[_0x46b551(0xc0b)]===!![]){const _0xa6a421=_0x3e7c2b[_0x46b551(0x21d)][localTeamPlayers[0x0]],_0x500472=_0xa6a421[_0x46b551(0x47c)],_0x9df568=_0xa6a421['score'];_0x18483e=_0x46b551(0x3fc)+_0x500472+_0x46b551(0x99a)+_0x9df568+_0x46b551(0xe6d);}else _0x18483e=_0x46b551(0x550)+(_0x302603?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':'รอผู้ควบคุมไปข้อต่อไป...')+_0x46b551(0x588);const _0x56fd1b=_0x46b551(0xc68)+_0x18483e+_0x46b551(0xd99);liveGameView['innerHTML']=_0x56fd1b;}async function handleShowStudentRankings(){const _0x24daf7=_0x2e2582,_0x58cd52=document[_0x24daf7(0x427)]('#student-quiz-leaderboard-content\x20thead');_0x58cd52&&(_0x58cd52[_0x24daf7(0x674)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x541f77=document[_0x24daf7(0x427)](_0x24daf7(0x362));_0x541f77&&(_0x541f77[_0x24daf7(0x674)]=_0x24daf7(0xa1d));const _0x5a857b=document[_0x24daf7(0x6ec)]('student-rankings-modal');_0x5a857b[_0x24daf7(0xed5)][_0x24daf7(0xb8a)]('hidden'),document[_0x24daf7(0x6ec)](_0x24daf7(0x474))[_0x24daf7(0xdba)]=()=>_0x5a857b[_0x24daf7(0xed5)][_0x24daf7(0xbca)]('hidden');const _0x54bfd9=document[_0x24daf7(0x6ec)](_0x24daf7(0xdf2)),_0x4b2c7f=document[_0x24daf7(0x6ec)](_0x24daf7(0x403)),_0x114529=document['getElementById'](_0x24daf7(0xd53)),_0x33dc0d=document['getElementById']('student-project-leaderboard-content');_0x54bfd9[_0x24daf7(0xdba)]=()=>{const _0x33126f=_0x24daf7;_0x54bfd9[_0x33126f(0xed5)][_0x33126f(0xbca)](_0x33126f(0xb3d)),_0x4b2c7f[_0x33126f(0xed5)][_0x33126f(0xb8a)](_0x33126f(0xb3d)),_0x114529[_0x33126f(0xed5)]['remove'](_0x33126f(0x515)),_0x33dc0d['classList'][_0x33126f(0xbca)](_0x33126f(0x515));},_0x4b2c7f['onclick']=()=>{const _0x1c90cf=_0x24daf7;_0x4b2c7f[_0x1c90cf(0xed5)][_0x1c90cf(0xbca)](_0x1c90cf(0xb3d)),_0x54bfd9['classList']['remove']('active'),_0x33dc0d[_0x1c90cf(0xed5)]['remove']('hidden'),_0x114529[_0x1c90cf(0xed5)][_0x1c90cf(0xbca)](_0x1c90cf(0x515));};try{const _0x38e0a7=collection(db,_0x24daf7(0x509)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x24daf7(0xb14)),_0x3430c3=await getDocs(_0x38e0a7),_0x38da04=_0x3430c3[_0x24daf7(0x875)][_0x24daf7(0x91f)](_0x32ac9a=>_0x32ac9a['data']());renderQuizLeaderboard(_0x38da04,currentQuizData,_0x24daf7(0xbc8));const _0x12e182=collection(db,_0x24daf7(0x509)+appId+_0x24daf7(0x76d)+currentQuizData[_0x24daf7(0x6ea)]+_0x24daf7(0xe9d)),_0x3e45c6=await getDocs(_0x12e182),_0x13e9ef=_0x3e45c6[_0x24daf7(0x875)][_0x24daf7(0x91f)](_0x350edf=>_0x350edf[_0x24daf7(0xe5c)]());renderLeaderboard(_0x13e9ef,_0x24daf7(0x524));}catch(_0x6f1bc1){console[_0x24daf7(0x61c)](_0x24daf7(0xdfb),_0x6f1bc1),showMessage(_0x24daf7(0xdf4));}}async function handleSaveToBank(_0x5ae76e){const _0x5e9a7a=_0x2e2582,_0x5e7be6=_0x5ae76e[_0x5e9a7a(0x968)],_0xd111b0=_0x5e7be6[_0x5e9a7a(0x261)][_0x5e9a7a(0x7f2)],_0x7d5961=currentQuizData[_0x5e9a7a(0xa08)][_0xd111b0];if(!userId){showMessage(_0x5e9a7a(0xa21));return;}try{const _0x916559={..._0x7d5961,'originalTopic':currentQuizData[_0x5e9a7a(0x308)],'savedAt':serverTimestamp()},_0x3401f5=collection(db,_0x5e9a7a(0x509)+appId+_0x5e9a7a(0xc9f)+userId+_0x5e9a7a(0xa4e));await addDoc(_0x3401f5,_0x916559),showMessage(_0x5e9a7a(0xa2a)),_0x5e7be6[_0x5e9a7a(0xed5)][_0x5e9a7a(0xb8a)](_0x5e9a7a(0x71d)),_0x5e7be6['classList']['add'](_0x5e9a7a(0xaed)),_0x5e7be6[_0x5e9a7a(0x736)]=!![];}catch(_0x110d47){console['error']('Error\x20saving\x20to\x20question\x20bank:',_0x110d47),showMessage(_0x5e9a7a(0xcdd));}}async function selectProjectAndGenerateBlueprintQuiz(_0x352628,_0x49b680=null,_0x51ace2=null,_0x4835c8=![]){const _0x57da37=_0x2e2582;cameFromBlueprint=!![];const _0x48ac5c=document[_0x57da37(0x6ec)](_0x57da37(0x2e9))?.[_0x57da37(0x8c2)][_0x57da37(0xdd8)]();let _0x9ddc60=null;if(_0x48ac5c){showMessage(_0x57da37(0x922));try{const _0x2391cd=await fetchFileFromUrl(_0x48ac5c,'reference_onet.pdf'),_0x4136c2=await new Promise((_0x232bac,_0xf1ccc3)=>{const _0x517b57=_0x57da37,_0x10b146=new FileReader();_0x10b146[_0x517b57(0xa1b)](_0x2391cd),_0x10b146[_0x517b57(0x9c2)]=()=>_0x232bac(_0x10b146[_0x517b57(0xb66)]['split'](',')[0x1]),_0x10b146[_0x517b57(0xc0d)]=_0xf1ccc3;});_0x9ddc60=[{'inlineData':{'mimeType':_0x2391cd[_0x57da37(0xae4)],'data':_0x4136c2}}],messageModal[_0x57da37(0xed5)]['add'](_0x57da37(0x515));}catch(_0x35b3a3){console[_0x57da37(0x61c)](_0x57da37(0x63a),_0x35b3a3),showMessage(_0x57da37(0x2f9));}}const _0x555b09=document[_0x57da37(0x6ec)](_0x57da37(0xd17)),_0x5e68f7=document[_0x57da37(0x6ec)]('move-quiz-project-select'),_0x185a4a=_0x555b09[_0x57da37(0x427)]('h3'),_0x3cad32=document[_0x57da37(0x6ec)](_0x57da37(0xc22)),_0x352530=document[_0x57da37(0x6ec)](_0x57da37(0xb2d));_0x185a4a[_0x57da37(0x337)]=_0x57da37(0x260),_0x3cad32[_0x57da37(0x337)]=_0x57da37(0x249),_0x3cad32['disabled']=!![];allProjects[_0x57da37(0x83b)]===0x0?_0x5e68f7[_0x57da37(0x674)]=_0x57da37(0x514):(_0x5e68f7['innerHTML']=_0x57da37(0x3f1)+allProjects['map'](_0x20fe54=>'<option\x20value=\x22'+_0x20fe54['id']+'\x22>'+_0x20fe54[_0x57da37(0x52e)]+_0x57da37(0x645))[_0x57da37(0x8c3)](''),_0x3cad32[_0x57da37(0x736)]=![]);_0x555b09[_0x57da37(0xed5)][_0x57da37(0xb8a)](_0x57da37(0x515));const _0x2a8b78=async()=>{const _0x47671c=_0x57da37,_0x3326bd=_0x5e68f7[_0x47671c(0x8c2)];if(!_0x3326bd){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x555b09[_0x47671c(0xed5)]['add'](_0x47671c(0x515)),document[_0x47671c(0x6ec)](_0x47671c(0xc10))[_0x47671c(0xed5)][_0x47671c(0xbca)]('hidden'),await loadProjectDetails(_0x3326bd),showView(_0x47671c(0x641)),handleGenerateQuizFromBlueprintTopic(_0x352628,_0x49b680,_0x3326bd,_0x51ace2,_0x4835c8,_0x9ddc60),_0x26df19();},_0x26df19=()=>{const _0x54144f=_0x57da37;_0x185a4a[_0x54144f(0x337)]=_0x54144f(0x53f),_0x3cad32['textContent']=_0x54144f(0x292),_0x3cad32[_0x54144f(0x637)](_0x54144f(0x7b0),_0x2a8b78),_0x352530['removeEventListener']('click',_0x26df19),_0x3cad32[_0x54144f(0x504)](_0x54144f(0x7b0),confirmMoveQuiz);};_0x3cad32[_0x57da37(0x637)]('click',confirmMoveQuiz),_0x3cad32[_0x57da37(0x504)]('click',_0x2a8b78),_0x352530['addEventListener'](_0x57da37(0x7b0),_0x26df19);}function listenForStarredQuizzes(){const _0x41d44b=_0x2e2582;if(!userId)return;const _0x3f650b=collection(db,_0x41d44b(0x509)+appId+_0x41d44b(0x2d1)),_0x24f281=query(_0x3f650b,where(_0x41d44b(0x294),'==',!![]));onSnapshot(_0x24f281,_0x5f5bfe=>{const _0x3acf42=_0x41d44b;starredQuizzes=_0x5f5bfe[_0x3acf42(0x875)][_0x3acf42(0x91f)](_0x4b97ae=>({'id':_0x4b97ae['id'],..._0x4b97ae['data']()})),currentProjectId===_0x3acf42(0x45c)?renderQuizzes():renderProjects();},_0x104560=>{const _0x4f4ab9=_0x41d44b;console[_0x4f4ab9(0x61c)](_0x4f4ab9(0x8b8),_0x104560);});}function listenForFileShortcuts(){const _0x541d65=_0x2e2582,_0x1a1031=doc(db,_0x541d65(0x854),_0x541d65(0xbc1));onSnapshot(_0x1a1031,_0x3306e8=>{const _0x20b033=_0x541d65;let _0x5c4f88=[],_0x16f93e=[],_0x5f13b7={};if(_0x3306e8[_0x20b033(0xa82)]()){const _0x227cd7=_0x3306e8[_0x20b033(0xe5c)]();_0x5c4f88=_0x227cd7[_0x20b033(0x2ce)]||[],_0x16f93e=_0x227cd7[_0x20b033(0x816)]||[],_0x5f13b7=_0x227cd7[_0x20b033(0xd3b)]||{};}!_0x16f93e['find'](_0x15e3b9=>_0x15e3b9['id']==='all')&&_0x16f93e[_0x20b033(0x5f7)]({'id':_0x20b033(0x5e4),'name':_0x20b033(0xd5d),'isDefault':!![]}),!_0x5c4f88[_0x20b033(0x426)](_0x5c7e19=>_0x5c7e19['id']===_0x20b033(0x9f4))&&_0x5c4f88['unshift']({'id':_0x20b033(0x9f4),'name':'ไฟล์ลัด\x201','url':'','isDefault':!![]}),!_0x5c4f88[_0x20b033(0x426)](_0x16fb50=>_0x16fb50['id']===_0x20b033(0x4ea))&&_0x5c4f88['unshift']({'id':'file-default-2','name':_0x20b033(0xba4),'url':'','isDefault':!![]}),fileShortcuts=_0x5c4f88,fileShortcutTabs=_0x16f93e,fileShortcutOrder=_0x5f13b7,renderFileShortcuts(),!document[_0x20b033(0x6ec)](_0x20b033(0x1ef))[_0x20b033(0xed5)][_0x20b033(0x84c)](_0x20b033(0x515))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x24bb75=_0x2e2582,_0x5107e3=doc(db,'globalSettings',_0x24bb75(0xbc1));try{await setDoc(_0x5107e3,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0xa21f8b){console['error'](_0x24bb75(0x23b),_0xa21f8b);}}function renderAdditionalFileShortcutsModal(){const _0x3a2f88=_0x2e2582,_0x598d7c=document[_0x3a2f88(0x6ec)](_0x3a2f88(0x890)),_0x2fec6d=document[_0x3a2f88(0x6ec)]('additional-file-shortcuts-list');if(!_0x598d7c||!_0x2fec6d)return;_0x598d7c['innerHTML']=fileShortcutTabs['map'](_0x23fdd8=>{const _0x40cd55=_0x3a2f88,_0x3d693c=_0x23fdd8['id']===activeFileShortcutTabId;return _0x40cd55(0xb4f)+_0x23fdd8['id']+_0x40cd55(0xcca)+(_0x3d693c?_0x40cd55(0xdab):_0x40cd55(0xef7))+_0x40cd55(0xe60)+_0x23fdd8[_0x40cd55(0x47c)]+_0x40cd55(0xf11)+_0x23fdd8[_0x40cd55(0x47c)]+_0x40cd55(0x35f)+(!_0x23fdd8[_0x40cd55(0x34e)]?'<button\x20data-tab-id=\x22'+_0x23fdd8['id']+_0x40cd55(0x3ec):'')+_0x40cd55(0xe6a);})[_0x3a2f88(0x8c3)]('');const _0x5e55da=fileShortcutTabs['find'](_0x2ac843=>_0x2ac843['id']===activeFileShortcutTabId);let _0x56f7d7=_0x5e55da?.['isDefault']?[...fileShortcuts]:fileShortcuts[_0x3a2f88(0xe4e)](_0x485cd9=>(_0x5e55da?.[_0x3a2f88(0x694)]||[])[_0x3a2f88(0x9ee)](_0x485cd9['id']));const _0x52008a=fileShortcutOrder[activeFileShortcutTabId]||[];_0x56f7d7[_0x3a2f88(0x6f8)]((_0x66f147,_0x4adcd1)=>{const _0x4fa38c=_0x3a2f88,_0x5d3d05=_0x52008a[_0x4fa38c(0x3b3)](_0x66f147['id']),_0x97de67=_0x52008a[_0x4fa38c(0x3b3)](_0x4adcd1['id']);return(_0x5d3d05===-0x1?Infinity:_0x5d3d05)-(_0x97de67===-0x1?Infinity:_0x97de67);}),_0x2fec6d[_0x3a2f88(0x674)]=_0x56f7d7['map'](_0x213484=>{const _0x2bf922=_0x3a2f88,_0x2d6a4a=_0x213484[_0x2bf922(0xbaf)]?'📄':'🔗',_0x5535e2=fileShortcutTabs[_0x2bf922(0xe4e)](_0x18dd47=>!_0x18dd47[_0x2bf922(0x34e)]),_0x343ddc=_0x5e55da[_0x2bf922(0x34e)]&&_0x5535e2[_0x2bf922(0x83b)]>0x0?_0x2bf922(0x9a3)+_0x5535e2[_0x2bf922(0x91f)](_0x428ca1=>_0x2bf922(0x1f0)+_0x213484['id']+_0x2bf922(0x73d)+_0x428ca1['id']+'\x22>'+_0x428ca1[_0x2bf922(0x47c)]+_0x2bf922(0x2c9))[_0x2bf922(0x8c3)]('')+_0x2bf922(0xdc6):'';return _0x2bf922(0xb19)+_0x213484['id']+_0x2bf922(0x521)+_0x2d6a4a+'\x20'+_0x213484[_0x2bf922(0x47c)]+_0x2bf922(0x23a)+_0x213484['id']+_0x2bf922(0x7fc)+_0x213484['id']+_0x2bf922(0x463)+(!_0x213484[_0x2bf922(0x34e)]?'<button\x20data-id=\x22'+_0x213484['id']+_0x2bf922(0xa38):'')+_0x2bf922(0x500)+(!_0x5e55da[_0x2bf922(0x34e)]?_0x2bf922(0xa3a)+_0x213484['id']+_0x2bf922(0xc99):'')+_0x2bf922(0x500)+_0x343ddc+_0x2bf922(0xccd);})['join']('')||_0x3a2f88(0x981),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x1b68ad=_0x2e2582;document[_0x1b68ad(0xcf1)](_0x1b68ad(0x6cb))[_0x1b68ad(0x9ce)](_0x14f362=>{const _0x4b860f=_0x1b68ad;_0x14f362[_0x4b860f(0xdba)]=_0x1dbc21=>{const _0x4aa5a8=_0x4b860f;activeFileShortcutTabId=_0x1dbc21[_0x4aa5a8(0x968)]['dataset'][_0x4aa5a8(0xe73)],renderAdditionalFileShortcutsModal();},_0x14f362[_0x4b860f(0x62e)]=_0x3dfb22=>{const _0x1e5c44=_0x4b860f,_0x265421=_0x3dfb22[_0x1e5c44(0x968)]['querySelector'](_0x1e5c44(0xe21));_0x3dfb22['currentTarget'][_0x1e5c44(0x427)](_0x1e5c44(0x7e1))['classList'][_0x1e5c44(0xbca)](_0x1e5c44(0x515)),_0x265421[_0x1e5c44(0xed5)]['remove'](_0x1e5c44(0x515)),_0x265421[_0x1e5c44(0x1f2)](),_0x265421[_0x1e5c44(0x91a)]();};}),document[_0x1b68ad(0xcf1)](_0x1b68ad(0x34f))[_0x1b68ad(0x9ce)](_0x2e69c0=>{const _0x3ab5d2=_0x1b68ad,_0x1e3e8b=()=>{const _0x44bb7a=_0x5f2f,_0x453341=_0x2e69c0[_0x44bb7a(0x366)]('.file-shortcut-tab-btn')[_0x44bb7a(0x261)][_0x44bb7a(0xe73)],_0x4b6311=fileShortcutTabs[_0x44bb7a(0x426)](_0x3eab61=>_0x3eab61['id']===_0x453341);_0x4b6311&&(_0x4b6311[_0x44bb7a(0x47c)]=_0x2e69c0['value'][_0x44bb7a(0xdd8)]()||_0x4b6311[_0x44bb7a(0x47c)],saveFileShortcutConfig());};_0x2e69c0[_0x3ab5d2(0x975)]=_0x1e3e8b,_0x2e69c0[_0x3ab5d2(0x5a9)]=_0x1e2772=>{const _0x13dbf3=_0x3ab5d2;if(_0x1e2772[_0x13dbf3(0x4ef)]===_0x13dbf3(0x3e0))_0x2e69c0[_0x13dbf3(0xf3d)]();};}),document[_0x1b68ad(0xcf1)]('.delete-file-shortcut-tab-btn')[_0x1b68ad(0x9ce)](_0x1a105c=>_0x1a105c[_0x1b68ad(0xdba)]=_0x38b222=>{const _0x57bfa3=_0x1b68ad,_0x211041=_0x38b222[_0x57bfa3(0x968)][_0x57bfa3(0x261)][_0x57bfa3(0xe73)];showConfirmation(_0x57bfa3(0x533),()=>{const _0x5db89c=_0x57bfa3;fileShortcutTabs=fileShortcutTabs['filter'](_0x33743b=>_0x33743b['id']!==_0x211041),delete fileShortcutOrder[_0x211041];if(activeFileShortcutTabId===_0x211041)activeFileShortcutTabId=_0x5db89c(0x5e4);saveFileShortcutConfig();});}),document[_0x1b68ad(0xcf1)]('.move-file-shortcut-item')[_0x1b68ad(0x9ce)](_0x1ac9e1=>_0x1ac9e1[_0x1b68ad(0xdba)]=_0x5912e2=>{const _0x559b5e=_0x1b68ad;_0x5912e2['preventDefault']();const {shortcutId:_0x50209c,targetTabId:_0xca4d67}=_0x5912e2['currentTarget'][_0x559b5e(0x261)],_0x5f3518=fileShortcutTabs[_0x559b5e(0x426)](_0xc987cf=>_0xc987cf['id']===_0xca4d67);_0x5f3518&&!_0x5f3518[_0x559b5e(0x694)][_0x559b5e(0x9ee)](_0x50209c)&&(_0x5f3518['shortcutIds'][_0x559b5e(0x724)](_0x50209c),saveFileShortcutConfig());}),document[_0x1b68ad(0xcf1)](_0x1b68ad(0xf2c))[_0x1b68ad(0x9ce)](_0x17dbbc=>_0x17dbbc[_0x1b68ad(0xdba)]=_0x50f59b=>{const _0x4635c2=_0x1b68ad,_0x24d7f1=_0x50f59b['currentTarget'][_0x4635c2(0x261)][_0x4635c2(0x47f)],_0x7a4584=fileShortcutTabs[_0x4635c2(0x426)](_0x42860d=>_0x42860d['id']===activeFileShortcutTabId);_0x7a4584&&!_0x7a4584[_0x4635c2(0x34e)]&&(_0x7a4584[_0x4635c2(0x694)]=_0x7a4584[_0x4635c2(0x694)][_0x4635c2(0xe4e)](_0x4e5832=>_0x4e5832!==_0x24d7f1),saveFileShortcutConfig());}),document['querySelectorAll'](_0x1b68ad(0x64c))[_0x1b68ad(0x9ce)](_0x449e01=>_0x449e01['onclick']=_0x352f1c=>{const _0x17aeea=_0x1b68ad;_0x352f1c[_0x17aeea(0xee2)]();const _0x32adb8=_0x352f1c['currentTarget']['nextElementSibling'];document[_0x17aeea(0xcf1)](_0x17aeea(0x9ed))[_0x17aeea(0x9ce)](_0x203bbc=>_0x203bbc[_0x17aeea(0xed5)]['add'](_0x17aeea(0x515))),_0x32adb8[_0x17aeea(0xed5)][_0x17aeea(0xb8a)](_0x17aeea(0x515));});const _0x28dbd1=document['getElementById'](_0x1b68ad(0x732));let _0x2602c7=null;_0x28dbd1[_0x1b68ad(0xb82)]=_0x13adfc=>{const _0x4be724=_0x1b68ad;_0x2602c7=_0x13adfc[_0x4be724(0x8dd)][_0x4be724(0x366)]('.shortcut-list-item');if(_0x2602c7)setTimeout(()=>_0x2602c7[_0x4be724(0xed5)]['add'](_0x4be724(0xe80)),0x0);},_0x28dbd1[_0x1b68ad(0x387)]=()=>{const _0x4f61d0=_0x1b68ad;_0x2602c7&&(_0x2602c7[_0x4f61d0(0xed5)][_0x4f61d0(0xb8a)](_0x4f61d0(0xe80)),_0x2602c7=null);},_0x28dbd1[_0x1b68ad(0x804)]=_0x4b024b=>{const _0x4ffb82=_0x1b68ad;_0x4b024b[_0x4ffb82(0xf44)]();},_0x28dbd1[_0x1b68ad(0xe42)]=_0x5416b2=>{const _0x4a55b0=_0x1b68ad;_0x5416b2[_0x4a55b0(0xf44)]();if(_0x2602c7){const _0x9a51cb=[..._0x28dbd1[_0x4a55b0(0xcf1)](_0x4a55b0(0x3c7))][_0x4a55b0(0x5ed)]((_0x126330,_0x1d3808)=>{const _0x4c8525=_0x4a55b0,_0x1b24b1=_0x1d3808['getBoundingClientRect'](),_0x573905=_0x5416b2[_0x4c8525(0xccc)]-_0x1b24b1[_0x4c8525(0x276)]-_0x1b24b1[_0x4c8525(0xc77)]/0x2;return _0x573905<0x0&&_0x573905>_0x126330['offset']?{'offset':_0x573905,'element':_0x1d3808}:_0x126330;},{'offset':Number[_0x4a55b0(0x96c)]})[_0x4a55b0(0x435)];_0x9a51cb==null?_0x28dbd1[_0x4a55b0(0xa8b)](_0x2602c7):_0x28dbd1[_0x4a55b0(0xb36)](_0x2602c7,_0x9a51cb);const _0x32ed5d=[..._0x28dbd1[_0x4a55b0(0xcf1)](_0x4a55b0(0x4b8))]['map'](_0x44604e=>_0x44604e[_0x4a55b0(0x261)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x32ed5d,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x3208f0=_0x2e2582,_0x4d5173=prompt(_0x3208f0(0x6d7),_0x3208f0(0x69e));_0x4d5173&&_0x4d5173[_0x3208f0(0xdd8)]()&&(fileShortcutTabs['push']({'id':_0x3208f0(0x6b6)+Date[_0x3208f0(0xbf5)](),'name':_0x4d5173[_0x3208f0(0xdd8)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x24b0cd=_0x2e2582,_0x198a78=document[_0x24b0cd(0x6ec)](_0x24b0cd(0x4b7)),_0x4a1000=document[_0x24b0cd(0x6ec)](_0x24b0cd(0x732)),_0x1b2e2e=document[_0x24b0cd(0x6ec)]('file-shortcuts-loading-msg');if(_0x1b2e2e)_0x1b2e2e[_0x24b0cd(0xed5)][_0x24b0cd(0xbca)](_0x24b0cd(0x515));if(!_0x198a78||!_0x4a1000)return;const _0xcc2c57=fileShortcuts[_0x24b0cd(0xcb7)](0x0,0x4),_0x324294=fileShortcuts[_0x24b0cd(0xcb7)](0x4);_0x198a78[_0x24b0cd(0x674)]=_0xcc2c57['map'](_0x52e354=>{const _0xf87f17=_0x24b0cd,_0x55daf9=_0x52e354[_0xf87f17(0xbaf)]&&_0x52e354['url'][_0xf87f17(0xdd8)]()!=='',_0x20190c=selectedFile&&selectedFile[_0xf87f17(0x47f)]===_0x52e354['id'];let _0x41d30c=_0xf87f17(0x80c),_0x536813='🔗';if(_0x20190c)_0x41d30c=_0xf87f17(0xe52),_0x536813='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0x55daf9&&(_0x41d30c=_0xf87f17(0x472),_0x536813='📄');const _0x7db28e=!_0x52e354[_0xf87f17(0x34e)]?_0xf87f17(0xae1)+_0x52e354['id']+_0xf87f17(0x52a):'';return _0xf87f17(0x2e2)+_0x52e354['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x41d30c+_0xf87f17(0x363)+_0x536813+_0xf87f17(0x48b)+_0x52e354[_0xf87f17(0x47c)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x52e354['id']+_0xf87f17(0xcf9)+_0x7db28e+_0xf87f17(0x734);})[_0x24b0cd(0x8c3)](''),_0x324294[_0x24b0cd(0x83b)]>0x0&&(_0x198a78[_0x24b0cd(0x674)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x324294[_0x24b0cd(0x83b)]>0x0?_0x4a1000['innerHTML']=_0x324294[_0x24b0cd(0x91f)](_0x4cf3a2=>_0x24b0cd(0xe79)+(_0x4cf3a2['url']?'📄':'🔗')+'\x20'+_0x4cf3a2[_0x24b0cd(0x47c)]+_0x24b0cd(0x5c4)+_0x4cf3a2['id']+_0x24b0cd(0x5c7)+_0x4cf3a2['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4cf3a2[_0x24b0cd(0x34e)]?'<button\x20data-id=\x22'+_0x4cf3a2['id']+_0x24b0cd(0xa38):'')+_0x24b0cd(0x691))[_0x24b0cd(0x8c3)](''):_0x4a1000['innerHTML']=_0x24b0cd(0x1d0);}function openFileShortcutEditor(_0x19c303=null){const _0x328328=_0x2e2582,_0x24533b=document['getElementById'](_0x328328(0xec2)),_0x9b31e9=document[_0x328328(0x6ec)](_0x328328(0x8d1)),_0x1c723e=document[_0x328328(0x6ec)](_0x328328(0x4d9)),_0x2f8cc8=document[_0x328328(0x6ec)]('file-shortcut-name-input'),_0xd64bb=document['getElementById']('file-shortcut-url-input');if(_0x19c303){const _0x1e66ba=fileShortcuts[_0x328328(0x426)](_0x973b8=>_0x973b8['id']===_0x19c303);if(!_0x1e66ba)return;_0x9b31e9[_0x328328(0x337)]=_0x328328(0x20e),_0x1c723e[_0x328328(0x8c2)]=_0x1e66ba['id'],_0x2f8cc8[_0x328328(0x8c2)]=_0x1e66ba[_0x328328(0x47c)],_0xd64bb[_0x328328(0x8c2)]=_0x1e66ba[_0x328328(0xbaf)]||'';}else _0x9b31e9[_0x328328(0x337)]=_0x328328(0xbf2),_0x1c723e[_0x328328(0x8c2)]='',_0x2f8cc8[_0x328328(0x8c2)]='',_0xd64bb[_0x328328(0x8c2)]='';_0x24533b[_0x328328(0xed5)][_0x328328(0xb8a)](_0x328328(0x515));}async function saveFileShortcutChanges(){const _0x1dd03c=_0x2e2582,_0x3a0ad4=document['getElementById'](_0x1dd03c(0x4d9))[_0x1dd03c(0x8c2)],_0x103bc8=document['getElementById']('file-shortcut-name-input')[_0x1dd03c(0x8c2)][_0x1dd03c(0xdd8)](),_0x43f4e0=document[_0x1dd03c(0x6ec)](_0x1dd03c(0xe4a))[_0x1dd03c(0x8c2)][_0x1dd03c(0xdd8)]();if(!_0x103bc8){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x2dde3b={'id':_0x3a0ad4||_0x1dd03c(0x996)+Date['now'](),'name':_0x103bc8,'url':_0x43f4e0,'isDefault':_0x3a0ad4['startsWith'](_0x1dd03c(0xc19))};let _0xbd4a;_0x3a0ad4?_0xbd4a=fileShortcuts[_0x1dd03c(0x91f)](_0x3cb371=>_0x3cb371['id']===_0x3a0ad4?_0x2dde3b:_0x3cb371):_0xbd4a=[...fileShortcuts,_0x2dde3b];try{const _0x27668a=doc(db,_0x1dd03c(0x854),_0x1dd03c(0xbc1));await setDoc(_0x27668a,{'shortcuts':_0xbd4a},{'merge':!![]}),document['getElementById'](_0x1dd03c(0xec2))['classList'][_0x1dd03c(0xbca)](_0x1dd03c(0x515));}catch(_0x2e4699){console[_0x1dd03c(0x61c)](_0x1dd03c(0x73b),_0x2e4699),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x57ca5e){const _0x53aeee=_0x2e2582,_0x34684f=fileShortcuts['find'](_0x22cb5c=>_0x22cb5c['id']===_0x57ca5e);if(!_0x34684f)return;if(!_0x34684f[_0x53aeee(0xbaf)]||_0x34684f[_0x53aeee(0xbaf)][_0x53aeee(0xdd8)]()===''){openFileShortcutEditor(_0x57ca5e);return;}const _0x5e3693=document['querySelector'](_0x53aeee(0x8e4)+_0x57ca5e+'\x22]');if(_0x5e3693){const _0x50d324=_0x5e3693[_0x53aeee(0x674)];_0x5e3693[_0x53aeee(0x674)]='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x5e3693['disabled']=!![];}document[_0x53aeee(0xcf1)]('.file-shortcut-btn')[_0x53aeee(0x9ce)](_0x135497=>{const _0x22d825=_0x53aeee;if(_0x135497[_0x22d825(0x261)]['id']!==_0x57ca5e)_0x135497[_0x22d825(0xed5)]['add']('opacity-50','pointer-events-none');});try{const _0x36a8f9=new URL(_0x34684f[_0x53aeee(0xbaf)])['pathname'],_0x34ccf0=_0x36a8f9[_0x53aeee(0x497)](_0x36a8f9[_0x53aeee(0x27d)]('/')+0x1)||(_0x34684f[_0x53aeee(0xbaf)][_0x53aeee(0x9ee)](_0x53aeee(0x6e6))?_0x53aeee(0xf2e):_0x53aeee(0x6a0)),_0x1d03a5=await fetchFileFromUrl(_0x34684f[_0x53aeee(0xbaf)],_0x34ccf0);_0x1d03a5[_0x53aeee(0x47f)]=_0x57ca5e,selectedFile=_0x1d03a5,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById'](_0x53aeee(0x1f5))[_0x53aeee(0x4e9)]({'behavior':_0x53aeee(0x516),'block':_0x53aeee(0x8f4)});}catch(_0x491465){console[_0x53aeee(0x61c)](_0x53aeee(0xc1e),_0x491465),showMessage(_0x53aeee(0x517)+_0x491465[_0x53aeee(0x784)]),renderFileShortcuts();}finally{document['querySelectorAll'](_0x53aeee(0x792))[_0x53aeee(0x9ce)](_0x3ea10b=>{const _0xd120b2=_0x53aeee;_0x3ea10b[_0xd120b2(0xed5)][_0xd120b2(0xb8a)](_0xd120b2(0xe80),_0xd120b2(0xc7f)),_0x3ea10b[_0xd120b2(0x736)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x56227c=_0x2e2582;if(allQuizzesGlobal[_0x56227c(0x83b)]>0x0)return;console[_0x56227c(0xeec)](_0x56227c(0xc2d)),showMessage(_0x56227c(0x7af));try{const _0x35ea79=await getDocs(collection(db,'artifacts/'+appId+_0x56227c(0x2d1)));allQuizzesGlobal=_0x35ea79[_0x56227c(0x875)][_0x56227c(0x91f)](_0x4d8651=>({'id':_0x4d8651['id'],..._0x4d8651['data']()})),console[_0x56227c(0xeec)](_0x56227c(0x461)+allQuizzesGlobal[_0x56227c(0x83b)]+_0x56227c(0xc03)),messageModal[_0x56227c(0xed5)][_0x56227c(0xbca)](_0x56227c(0x515));}catch(_0x15107f){console[_0x56227c(0x61c)](_0x56227c(0xe2b),_0x15107f),messageModal['classList'][_0x56227c(0xbca)]('hidden');throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x361534=_0x2e2582;if(!currentQuizData||!currentQuizData[_0x361534(0xa08)]){showMessage(_0x361534(0x3a0));return;}const _0x1b6a43=currentQuizData,_0x459558=window[_0x361534(0xcd8)]('',_0x361534(0x204)),_0x1f58ac=_0x2f8e3b=>String[_0x361534(0xb87)](0x41+_0x2f8e3b),_0x592469=_0x361534(0x2b4)+_0x1b6a43[_0x361534(0x308)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x1b6a43['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b6a43[_0x361534(0xa08)]['map']((_0x1bdcc8,_0x2a896a)=>{const _0x2137c0=_0x361534;let _0x2c6c7e='';const _0x4fe545=_0x1bdcc8[_0x2137c0(0xb6d)]||_0x1b6a43['quizType'];switch(_0x4fe545){case _0x2137c0(0xbb3):case _0x2137c0(0x2af):_0x2c6c7e=_0x2137c0(0xbf3)+_0x1bdcc8[_0x2137c0(0x25f)]['map']((_0x5c5388,_0x4f09de)=>_0x2137c0(0x42a)+_0x1f58ac(_0x4f09de)+'.\x20'+_0x5c5388+_0x2137c0(0x5a7))[_0x2137c0(0x8c3)](_0x2137c0(0x8cf))+_0x2137c0(0x4f3);break;case'true_false':_0x2c6c7e=_0x2137c0(0xb04);break;default:_0x2c6c7e=_0x2137c0(0x3fb);break;}return _0x2137c0(0x339)+(_0x2a896a+0x1)+_0x2137c0(0x989)+(_0x1bdcc8[_0x2137c0(0x71c)]||_0x1bdcc8[_0x2137c0(0x912)])+_0x2137c0(0x8cb)+(_0x1bdcc8[_0x2137c0(0xde8)]?_0x2137c0(0xe64)+_0x1bdcc8[_0x2137c0(0xde8)]+'</div>':'')+_0x2137c0(0xb74)+_0x2c6c7e+_0x2137c0(0x7f5);})[_0x361534(0x8c3)]('')+_0x361534(0x1d9);_0x459558[_0x361534(0x923)]['write'](_0x592469),_0x459558['document']['close'](),_0x459558[_0x361534(0x9c2)]=function(){setTimeout(()=>{const _0x1068a9=_0x5f2f;_0x459558[_0x1068a9(0xe8a)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x2365dc=_0x2e2582;if(!currentQuizData||!currentQuizData[_0x2365dc(0xa08)]){showMessage(_0x2365dc(0x3a0));return;}const _0x4c2ea=currentQuizData,_0x4b3419=window[_0x2365dc(0xcd8)]('','_blank'),_0x19c546=_0x5e58b1=>String[_0x2365dc(0xb87)](0x41+_0x5e58b1),_0x597f88='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x4c2ea[_0x2365dc(0x308)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c2ea[_0x2365dc(0xa08)]['map']((_0x1d8296,_0x472a11)=>{const _0x2f12d4=_0x2365dc;let _0x3b6848='';const _0x497628=_0x1d8296[_0x2f12d4(0xb6d)]||_0x4c2ea['quizType'];switch(_0x497628){case _0x2f12d4(0xbb3):case _0x2f12d4(0x2af):_0x3b6848=_0x2f12d4(0x573)+_0x1d8296[_0x2f12d4(0x25f)][_0x2f12d4(0x91f)]((_0x34a3f0,_0x166c37)=>_0x2f12d4(0x4cb)+_0x19c546(_0x166c37)+'.\x20'+_0x34a3f0+_0x2f12d4(0x935))[_0x2f12d4(0x8c3)](_0x2f12d4(0x8cf))+_0x2f12d4(0xc1f);break;case _0x2f12d4(0x35c):_0x3b6848=_0x2f12d4(0x9b6);break;default:_0x3b6848='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x4c2ea['topic']+_0x2f12d4(0x5d1)+(_0x472a11+0x1)+_0x2f12d4(0x486)+(_0x1d8296[_0x2f12d4(0x71c)]||_0x1d8296[_0x2f12d4(0x912)])+_0x2f12d4(0x8cb)+(_0x1d8296[_0x2f12d4(0xde8)]?_0x2f12d4(0xaca)+_0x1d8296[_0x2f12d4(0xde8)]+_0x2f12d4(0x4f3):'')+_0x2f12d4(0xb74)+_0x3b6848+_0x2f12d4(0x98b);})['join']('')+_0x2365dc(0x65a);_0x4b3419['document'][_0x2365dc(0x8b3)](_0x597f88),_0x4b3419[_0x2365dc(0x923)][_0x2365dc(0x5d4)](),_0x4b3419['onload']=function(){setTimeout(()=>{_0x4b3419['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x24273c){const _0x56f72b=_0x2e2582,_0x38d361=doc(db,_0x56f72b(0x509)+appId+'/public/data/quizzes',_0x24273c);try{const _0x5395ab=await getDoc(_0x38d361);if(_0x5395ab['exists']()){const _0x5b5f8f=_0x5395ab['data']()[_0x56f72b(0x294)]||![];await updateDoc(_0x38d361,{'isStarred':!_0x5b5f8f});}}catch(_0xfdb10e){console['error'](_0x56f72b(0x4bd),_0xfdb10e),showMessage(_0x56f72b(0xc82));}}async function displayQuestionBank(){const _0x1170d0=_0x2e2582,_0x1e0636=document[_0x1170d0(0x6ec)](_0x1170d0(0xb56));_0x1e0636['innerHTML']=_0x1170d0(0xc4c);try{const _0x473fdd=collection(db,_0x1170d0(0x509)+appId+'/users/'+userId+_0x1170d0(0xa4e)),_0x4a751d=query(_0x473fdd),_0x43a57d=await getDocs(_0x4a751d);if(_0x43a57d[_0x1170d0(0xe58)]){_0x1e0636[_0x1170d0(0x674)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x1b5fc9=_0x43a57d[_0x1170d0(0x875)][_0x1170d0(0x91f)](_0x41afd4=>{const _0x93b18b=_0x1170d0,_0x40d0b8=_0x41afd4['data'](),_0xb6d421=_0x41afd4['id'];return _0x93b18b(0x3a3)+JSON[_0x93b18b(0x908)](_0x40d0b8)+_0x93b18b(0x5e3)+(_0x40d0b8[_0x93b18b(0x912)]||_0x40d0b8[_0x93b18b(0x71c)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x40d0b8[_0x93b18b(0x39c)]+_0x93b18b(0xc45);})[_0x1170d0(0x8c3)]('');_0x1e0636[_0x1170d0(0x674)]=_0x1170d0(0xad5)+_0x1b5fc9+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x1170d0(0xdc0))['addEventListener'](_0x1170d0(0x7b0),createQuizFromBank);}catch(_0x22e768){console[_0x1170d0(0x61c)](_0x1170d0(0xf21),_0x22e768),_0x1e0636[_0x1170d0(0x674)]=_0x1170d0(0xab3);}}async function handleExportLessonToPDF(){const _0x4bd203=_0x2e2582,_0x2df176=document[_0x4bd203(0x6ec)](_0x4bd203(0xca5)),_0x4086f1=document[_0x4bd203(0x6ec)](_0x4bd203(0x2f2))[_0x4bd203(0x337)]||'บทเรียน';if(!_0x2df176){showMessage(_0x4bd203(0xe13));return;}const _0x3a03f2=window[_0x4bd203(0xcd8)]('',_0x4bd203(0x204)),_0x5bcdf8=_0x4bd203(0xd78)+_0x4086f1+_0x4bd203(0xc7a)+_0x4086f1+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2df176[_0x4bd203(0x674)]+_0x4bd203(0xab6);_0x3a03f2['document']['write'](_0x5bcdf8),_0x3a03f2[_0x4bd203(0x923)][_0x4bd203(0x5d4)](),_0x3a03f2[_0x4bd203(0x9c2)]=function(){setTimeout(()=>{const _0x44aeb3=_0x5f2f;_0x3a03f2[_0x44aeb3(0xe8a)]();},0x7d0);};}function showAdminLiveQuestionView(_0x1a4069,_0x14bdfa,_0x5c2cc4){const _0x3d1041=_0x2e2582,_0xbf8a7f=_0x1a4069['questionType']||currentQuizData[_0x3d1041(0x80d)];let _0x1904a5='';if(_0xbf8a7f===_0x3d1041(0xbb3)||_0xbf8a7f===_0x3d1041(0x35c)){const _0x337f3f=_0xbf8a7f===_0x3d1041(0x35c)?['ใช่',_0x3d1041(0x369)]:_0x1a4069['options'],_0x4f80f4=_0xbf8a7f==='true_false'?_0x1a4069['correctAnswer']?0x0:0x1:_0x1a4069[_0x3d1041(0x526)];_0x1904a5=_0x337f3f[_0x3d1041(0x91f)]((_0x1a4ef3,_0x423775)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x423775===_0x4f80f4)+_0x3d1041(0x289)+_0x1a4ef3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3d1041(0x8c3)]('');}else{if(_0xbf8a7f===_0x3d1041(0x440)){const _0x1d8876=_0x1a4069['allResponses']||[];_0x1904a5=_0x1d8876[_0x3d1041(0x91f)](_0x2dc0f1=>_0x3d1041(0xd83)+(_0x2dc0f1===_0x1a4069[_0x3d1041(0xc32)])+_0x3d1041(0x289)+_0x2dc0f1+_0x3d1041(0x734))[_0x3d1041(0x8c3)]('');}}const _0x11e520=_0x1a4069[_0x3d1041(0x71c)]||_0x1a4069[_0x3d1041(0x912)],_0x320c6f=_0x3d1041(0x44a)+(_0x14bdfa+0x1)+_0x3d1041(0xa09)+_0x5c2cc4+_0x3d1041(0x2bf)+currentLiveGamePin+_0x3d1041(0xe1d)+_0x11e520+_0x3d1041(0xab9)+_0x1904a5+_0x3d1041(0x298);liveGameView['innerHTML']=_0x320c6f,window[_0x3d1041(0xef3)]&&MathJax[_0x3d1041(0x396)]&&MathJax[_0x3d1041(0x396)]([liveGameView]),document[_0x3d1041(0x6ec)]('reveal-answer-btn')['addEventListener'](_0x3d1041(0x7b0),()=>revealAnswerForAdmin(_0x14bdfa,_0x5c2cc4)),document['getElementById'](_0x3d1041(0x210))['addEventListener'](_0x3d1041(0x7b0),async()=>{const _0x4fedbc=_0x3d1041;showConfirmation(_0x4fedbc(0xd8a),async()=>{const _0x2f3307=_0x4fedbc,_0x33faaa=doc(db,_0x2f3307(0x509)+appId+_0x2f3307(0x98f),currentLiveGameId);await updateDoc(_0x33faaa,{'status':_0x2f3307(0x709)});});}),document[_0x3d1041(0x6ec)](_0x3d1041(0xce5))[_0x3d1041(0x504)]('click',()=>{const _0x15b8a1=_0x3d1041;document[_0x15b8a1(0x6ec)](_0x15b8a1(0x74c))['classList']['toggle'](_0x15b8a1(0x515));});}function promptForProjectBeforeGenerating(_0x36c167){const _0x196ea5=_0x2e2582,_0xa0fd19=document[_0x196ea5(0x6ec)]('move-quiz-modal'),_0x99cb72=document[_0x196ea5(0x6ec)]('move-quiz-project-select'),_0x28707c=_0xa0fd19['querySelector']('h3'),_0x3c0440=document[_0x196ea5(0x6ec)](_0x196ea5(0xc22)),_0x8a454a=document[_0x196ea5(0x6ec)]('cancel-move-quiz-btn');_0x28707c[_0x196ea5(0x337)]=_0x196ea5(0x260),_0x3c0440[_0x196ea5(0x337)]=_0x196ea5(0x249),_0x3c0440[_0x196ea5(0x736)]=!![];allProjects[_0x196ea5(0x83b)]===0x0?_0x99cb72[_0x196ea5(0x674)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x99cb72[_0x196ea5(0x674)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x196ea5(0x91f)](_0x6cc8ce=>_0x196ea5(0x3e4)+_0x6cc8ce['id']+'\x22>'+_0x6cc8ce[_0x196ea5(0x52e)]+'</option>')[_0x196ea5(0x8c3)](''),_0x3c0440[_0x196ea5(0x736)]=![]);_0xa0fd19['classList'][_0x196ea5(0xb8a)](_0x196ea5(0x515));const _0x42afa4=async()=>{const _0xfe21b0=_0x196ea5,_0x24f25d=_0x99cb72[_0xfe21b0(0x8c2)];if(!_0x24f25d){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0xa0fd19['classList'][_0xfe21b0(0xbca)](_0xfe21b0(0x515)),await loadProjectDetails(_0x24f25d),showView(_0xfe21b0(0x641)),handleGenerateQuizFromBlueprintTopic(_0x36c167),_0x4ff069();},_0x4ff069=()=>{const _0x13633c=_0x196ea5;_0x28707c[_0x13633c(0x337)]=_0x13633c(0x53f),_0x3c0440['textContent']='ย้าย',_0x3c0440[_0x13633c(0x637)](_0x13633c(0x7b0),_0x42afa4),_0x8a454a['removeEventListener']('click',_0x4ff069),_0x3c0440[_0x13633c(0x504)]('click',confirmMoveQuiz);};_0x3c0440['removeEventListener'](_0x196ea5(0x7b0),confirmMoveQuiz),_0x3c0440[_0x196ea5(0x504)](_0x196ea5(0x7b0),_0x42afa4),_0x8a454a[_0x196ea5(0x504)]('click',_0x4ff069);}function showStudentLiveQuestionView(_0x3ccd83,_0x10ffd3,_0xeddb39){const _0x38313c=_0x2e2582,_0x3ad319=_0x3ccd83[_0x38313c(0xb6d)]||currentQuizData[_0x38313c(0x80d)];let _0x4f73ad='';if(_0x3ad319===_0x38313c(0xbb3)||_0x3ad319===_0x38313c(0x35c)){const _0xb743d5=_0x3ad319===_0x38313c(0x35c)?[_0x38313c(0xf19),_0x38313c(0x369)]:_0x3ccd83['options'];_0x4f73ad=_0xb743d5[_0x38313c(0x91f)]((_0x2c5a69,_0x28d186)=>_0x38313c(0x52d)+_0x28d186+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c5a69+_0x38313c(0xd5f))[_0x38313c(0x8c3)]('');}else{if(_0x3ad319===_0x38313c(0x440)){const _0x449b6a=_0x3ccd83['allResponses']||[];_0x4f73ad=_0x449b6a[_0x38313c(0x91f)]((_0x4a98a1,_0x205ec0)=>_0x38313c(0x52d)+_0x205ec0+_0x38313c(0x720)+_0x4a98a1+_0x38313c(0xd5f))[_0x38313c(0x8c3)]('');}else _0x3ad319===_0x38313c(0x466)&&(_0x4f73ad=_0x38313c(0xb58));}const _0x2afd84=_0x3ccd83[_0x38313c(0x71c)]||_0x3ccd83[_0x38313c(0x912)],_0x44c98a=_0x38313c(0xa84)+(_0x10ffd3+0x1)+'\x20/\x20'+_0xeddb39+_0x38313c(0x7c7)+_0x2afd84+_0x38313c(0x3a6)+_0x4f73ad+_0x38313c(0x9f0);liveGameView[_0x38313c(0x674)]=_0x44c98a;window[_0x38313c(0xef3)]&&MathJax['typesetPromise']&&MathJax[_0x38313c(0x396)]([liveGameView]);const _0x59bb40=document['getElementById']('live-submit-short-answer-btn');_0x59bb40&&_0x59bb40['addEventListener'](_0x38313c(0x7b0),()=>{const _0x26cf33=_0x38313c,_0x40fa2d=document[_0x26cf33(0x6ec)]('live-short-answer-input')[_0x26cf33(0x8c2)];handleLiveAnswer(_0x40fa2d,_0x3ccd83);}),document[_0x38313c(0x6ec)](_0x38313c(0x48f))[_0x38313c(0x504)]('click',_0x23425e=>{const _0xe4f553=_0x38313c,_0x4611be=_0x23425e[_0xe4f553(0x8dd)][_0xe4f553(0x366)]('.live-answer-btn');if(_0x4611be){const _0x37eaff=parseInt(_0x4611be['dataset']['index']);handleLiveAnswer(_0x37eaff,_0x3ccd83);}});}function listenForBlueprintShortcuts(){const _0x5b777f=doc(db,'globalSettings','dashboardConfig');onSnapshot(_0x5b777f,_0x23edf4=>{const _0x2beddd=_0x5f2f;let _0x59f5e6=[],_0x4eb45c=[],_0x4af680={};if(_0x23edf4[_0x2beddd(0xa82)]()){const _0x111796=_0x23edf4['data']();_0x59f5e6=_0x111796[_0x2beddd(0x807)]||[],_0x4eb45c=_0x111796[_0x2beddd(0x87c)]||[],_0x4af680=_0x111796[_0x2beddd(0xe70)]||{};}!_0x4eb45c[_0x2beddd(0x426)](_0x1b3b25=>_0x1b3b25['id']===_0x2beddd(0x5e4))&&_0x4eb45c[_0x2beddd(0x5f7)]({'id':_0x2beddd(0x5e4),'name':'ปุ่มลัดทั้งหมด','isDefault':!![]}),!_0x59f5e6[_0x2beddd(0x426)](_0x37e8d6=>_0x37e8d6['id']===_0x2beddd(0xb11))&&_0x59f5e6[_0x2beddd(0x5f7)]({'id':_0x2beddd(0xb11),'name':_0x2beddd(0xcbc),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x59f5e6[_0x2beddd(0x426)](_0x45ac85=>_0x45ac85['id']===_0x2beddd(0xb94))&&_0x59f5e6['unshift']({'id':_0x2beddd(0xb94),'name':_0x2beddd(0xaec),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x59f5e6,shortcutTabs=_0x4eb45c,shortcutOrder=_0x4af680,renderBlueprintShortcuts(),!document[_0x2beddd(0x6ec)](_0x2beddd(0x3b5))['classList'][_0x2beddd(0x84c)](_0x2beddd(0x515))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x1d2537=_0x2e2582,_0x514652=document[_0x1d2537(0x6ec)](_0x1d2537(0x572)),_0x4234ba=document['getElementById']('additional-shortcuts-list');if(!_0x514652||!_0x4234ba)return;_0x514652['innerHTML']=shortcutTabs[_0x1d2537(0x91f)](_0x2f285e=>{const _0x4558f3=_0x1d2537,_0x5e58e6=_0x2f285e['id']===activeShortcutTabId,_0x803a6b=_0x4558f3(0xdab),_0x4064a8='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return _0x4558f3(0x378)+_0x2f285e['id']+_0x4558f3(0x225)+(_0x5e58e6?_0x803a6b:_0x4064a8)+_0x4558f3(0xed2)+_0x2f285e[_0x4558f3(0x47c)]+_0x4558f3(0xf46)+_0x2f285e['name']+_0x4558f3(0xb7f)+(!_0x2f285e[_0x4558f3(0x34e)]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x2f285e['id']+_0x4558f3(0x66e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');const _0x380c67=shortcutTabs[_0x1d2537(0x426)](_0x40c3ef=>_0x40c3ef['id']===activeShortcutTabId);let _0x93c9da=[];if(_0x380c67){if(_0x380c67[_0x1d2537(0x34e)])_0x93c9da=[...blueprintShortcuts];else{const _0x14e5a7=_0x380c67[_0x1d2537(0x694)]||[];_0x93c9da=blueprintShortcuts[_0x1d2537(0xe4e)](_0x114194=>_0x14e5a7[_0x1d2537(0x9ee)](_0x114194['id']));}}const _0x421b38=shortcutOrder[activeShortcutTabId]||[];_0x93c9da[_0x1d2537(0x6f8)]((_0x592fbe,_0x52b4f3)=>{const _0x1fa436=_0x1d2537,_0x541aa0=_0x421b38[_0x1fa436(0x3b3)](_0x592fbe['id']),_0x29a02e=_0x421b38[_0x1fa436(0x3b3)](_0x52b4f3['id']);if(_0x541aa0===-0x1)return 0x1;if(_0x29a02e===-0x1)return-0x1;return _0x541aa0-_0x29a02e;}),_0x4234ba[_0x1d2537(0x674)]=_0x93c9da[_0x1d2537(0x83b)]>0x0?_0x93c9da[_0x1d2537(0x91f)](_0x3fcad8=>{const _0x38c44e=_0x1d2537;let _0x2de101='🧩';if(_0x3fcad8[_0x38c44e(0xb1a)]&&_0x3fcad8[_0x38c44e(0x330)])_0x2de101='📗';else{if(_0x3fcad8[_0x38c44e(0xb1a)])_0x2de101='📘';}const _0x174345=shortcutTabs['filter'](_0x567770=>!_0x567770[_0x38c44e(0x34e)]),_0x837b85=_0x380c67[_0x38c44e(0x34e)]&&_0x174345[_0x38c44e(0x83b)]>0x0?_0x38c44e(0xc4e)+_0x174345[_0x38c44e(0x91f)](_0x12491d=>_0x38c44e(0x85f)+_0x3fcad8['id']+'\x22\x20data-target-tab-id=\x22'+_0x12491d['id']+'\x22>'+_0x12491d['name']+_0x38c44e(0xa13))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0x38c44e(0x3d6)+_0x3fcad8['id']+_0x38c44e(0x57c)+_0x2de101+'\x20'+_0x3fcad8['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3fcad8['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3fcad8['id']+_0x38c44e(0x542)+(!_0x3fcad8[_0x38c44e(0x34e)]?'<button\x20data-id=\x22'+_0x3fcad8['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x38c44e(0xddb)+(!_0x380c67[_0x38c44e(0x34e)]?'<button\x20data-shortcut-id=\x22'+_0x3fcad8['id']+_0x38c44e(0x906):'')+_0x38c44e(0xddb)+_0x837b85+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x1d2537(0x8c3)](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x3e467c=_0x2e2582;document[_0x3e467c(0xcf1)](_0x3e467c(0x1e9))['forEach'](_0x28ce89=>{const _0x1b9f8c=_0x3e467c;_0x28ce89[_0x1b9f8c(0x504)]('click',_0x1d4733=>{const _0x41e906=_0x1b9f8c;activeShortcutTabId=_0x1d4733[_0x41e906(0x968)]['dataset']['tabId'],renderAdditionalShortcutsModal();}),_0x28ce89[_0x1b9f8c(0x504)](_0x1b9f8c(0x358),_0x3fa643=>{const _0x2e4f8b=_0x1b9f8c,_0xe5cea5=_0x3fa643[_0x2e4f8b(0x968)];_0xe5cea5['querySelector'](_0x2e4f8b(0x7e1))['classList']['add'](_0x2e4f8b(0x515));const _0xbe106d=_0xe5cea5[_0x2e4f8b(0x427)](_0x2e4f8b(0xe21));_0xbe106d['classList'][_0x2e4f8b(0xb8a)](_0x2e4f8b(0x515)),_0xbe106d['focus'](),_0xbe106d[_0x2e4f8b(0x91a)]();});}),document[_0x3e467c(0xcf1)](_0x3e467c(0xe21))['forEach'](_0xd0b6f7=>{const _0xead080=_0x3e467c,_0x4bbbac=()=>{const _0x11376e=_0x5f2f,_0x2c7f36=_0xd0b6f7[_0x11376e(0x366)](_0x11376e(0x1e9))[_0x11376e(0x261)][_0x11376e(0xe73)];handleRenameShortcutTab(_0x2c7f36,_0xd0b6f7['value']);};_0xd0b6f7[_0xead080(0x504)](_0xead080(0xf3d),_0x4bbbac),_0xd0b6f7[_0xead080(0x504)](_0xead080(0x6ac),_0x2855e6=>{const _0xf0d2a1=_0xead080;if(_0x2855e6[_0xf0d2a1(0x4ef)]===_0xf0d2a1(0x3e0))_0xd0b6f7[_0xf0d2a1(0xf3d)]();});}),document['querySelectorAll'](_0x3e467c(0x545))[_0x3e467c(0x9ce)](_0x46d4dc=>{const _0x1940ce=_0x3e467c;_0x46d4dc[_0x1940ce(0x504)](_0x1940ce(0x7b0),_0x3fa016=>handleDeleteShortcutTab(_0x3fa016[_0x1940ce(0x968)][_0x1940ce(0x261)][_0x1940ce(0xe73)]));}),document[_0x3e467c(0xcf1)](_0x3e467c(0x63d))[_0x3e467c(0x9ce)](_0x100dac=>{const _0x2b7acd=_0x3e467c;_0x100dac[_0x2b7acd(0x504)]('click',_0x51e345=>{const _0xb1f49a=_0x2b7acd;_0x51e345['preventDefault']();const {shortcutId:_0x19e57a,targetTabId:_0x2b6dd4}=_0x51e345[_0xb1f49a(0x968)][_0xb1f49a(0x261)];handleMoveShortcutToTab(_0x19e57a,_0x2b6dd4);});}),document[_0x3e467c(0xcf1)](_0x3e467c(0x450))[_0x3e467c(0x9ce)](_0x5a8c5b=>{const _0x6e6c02=_0x3e467c;_0x5a8c5b['addEventListener'](_0x6e6c02(0x7b0),_0x513e08=>{const _0x1c0aa3=_0x6e6c02;handleRemoveShortcutFromTab(_0x513e08[_0x1c0aa3(0x968)][_0x1c0aa3(0x261)][_0x1c0aa3(0x47f)],activeShortcutTabId);});});const _0x4d9159=document[_0x3e467c(0x6ec)](_0x3e467c(0x86e));_0x4d9159['querySelectorAll'](_0x3e467c(0x32e))[_0x3e467c(0x9ce)](_0x5f3aa2=>{_0x5f3aa2['addEventListener']('click',()=>{const _0x52e8d6=_0x5f2f;document[_0x52e8d6(0x6ec)](_0x52e8d6(0x3b5))[_0x52e8d6(0xed5)]['add'](_0x52e8d6(0x515)),handleShortcutClick(_0x5f3aa2[_0x52e8d6(0x261)]['id']);});});let _0x291bff=null;_0x4d9159['addEventListener']('dragstart',_0x4db2b5=>{const _0x415609=_0x3e467c;_0x291bff=_0x4db2b5['target']['closest'](_0x415609(0x4b8)),_0x291bff&&setTimeout(()=>_0x291bff[_0x415609(0xed5)]['add'](_0x415609(0xe80)),0x0);}),_0x4d9159[_0x3e467c(0x504)](_0x3e467c(0x43d),()=>{const _0x49720d=_0x3e467c;_0x291bff&&(_0x291bff[_0x49720d(0xed5)]['remove'](_0x49720d(0xe80)),_0x291bff=null);}),_0x4d9159['addEventListener'](_0x3e467c(0xe55),_0x490d43=>{const _0x480770=_0x3e467c;_0x490d43[_0x480770(0xf44)]();const _0x5281a4=[..._0x4d9159[_0x480770(0xcf1)](_0x480770(0x3c7))][_0x480770(0x5ed)]((_0x18d165,_0x27dacc)=>{const _0x45ee50=_0x480770,_0x56ea36=_0x27dacc[_0x45ee50(0x324)](),_0x230a32=_0x490d43[_0x45ee50(0xccc)]-_0x56ea36[_0x45ee50(0x276)]-_0x56ea36[_0x45ee50(0xc77)]/0x2;return _0x230a32<0x0&&_0x230a32>_0x18d165[_0x45ee50(0x8a6)]?{'offset':_0x230a32,'element':_0x27dacc}:_0x18d165;},{'offset':Number[_0x480770(0x96c)]})['element'];_0x5281a4==null?_0x4d9159[_0x480770(0xa8b)](_0x291bff):_0x4d9159[_0x480770(0xb36)](_0x291bff,_0x5281a4);}),_0x4d9159[_0x3e467c(0x504)](_0x3e467c(0xe74),_0x1ce264=>{const _0x2b909d=_0x3e467c;_0x1ce264[_0x2b909d(0xf44)]();if(_0x291bff){const _0x4d1898=[..._0x4d9159[_0x2b909d(0xcf1)](_0x2b909d(0x4b8))][_0x2b909d(0x91f)](_0x466867=>_0x466867['dataset'][_0x2b909d(0x47f)]);handleShortcutOrderChange(activeShortcutTabId,_0x4d1898);}}),document['querySelectorAll'](_0x3e467c(0xe07))['forEach'](_0x435910=>{const _0x52b3de=_0x3e467c;_0x435910['addEventListener'](_0x52b3de(0x7b0),_0x48a18a=>{const _0x16f92f=_0x52b3de;_0x48a18a[_0x16f92f(0xee2)]();const _0x3c1e4c=_0x48a18a['currentTarget'][_0x16f92f(0xe2f)],_0xbccdf8=_0x3c1e4c[_0x16f92f(0xed5)][_0x16f92f(0x84c)](_0x16f92f(0x515));document[_0x16f92f(0xcf1)]('.move-shortcut-dropdown')[_0x16f92f(0x9ce)](_0x34b556=>_0x34b556['classList'][_0x16f92f(0xbca)](_0x16f92f(0x515))),_0xbccdf8&&_0x3c1e4c['classList']['remove'](_0x16f92f(0x515));});});}document[_0x2e2582(0x504)]('click',_0xb9e08d=>{const _0x13fd0f=_0x2e2582;!_0xb9e08d[_0x13fd0f(0x8dd)][_0x13fd0f(0x366)]('.group\x5c/dropdown')&&document[_0x13fd0f(0xcf1)](_0x13fd0f(0x893))['forEach'](_0x4f270f=>_0x4f270f[_0x13fd0f(0xed5)]['add'](_0x13fd0f(0x515)));});async function saveShortcutConfig(){const _0x214083=_0x2e2582,_0x10cccc=doc(db,_0x214083(0x854),'dashboardConfig');try{await setDoc(_0x10cccc,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x24c597){console[_0x214083(0x61c)](_0x214083(0x5c6),_0x24c597);}}async function handleAddShortcutTab(){const _0x3ee12c=_0x2e2582,_0x379e8c=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');if(!_0x379e8c||_0x379e8c[_0x3ee12c(0xdd8)]()==='')return;shortcutTabs[_0x3ee12c(0x724)]({'id':_0x3ee12c(0x6b6)+Date[_0x3ee12c(0xbf5)](),'name':_0x379e8c[_0x3ee12c(0xdd8)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0xce00a5,_0x46a231){const _0xed412f=_0x2e2582,_0x2fbea0=shortcutTabs[_0xed412f(0x426)](_0xbd8e96=>_0xbd8e96['id']===_0xce00a5);_0x2fbea0&&_0x46a231['trim']()!==''&&(_0x2fbea0[_0xed412f(0x47c)]=_0x46a231[_0xed412f(0xdd8)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x5b5043){const _0x10ab09=_0x2e2582,_0xd0020f=shortcutTabs[_0x10ab09(0x426)](_0x226b5f=>_0x226b5f['id']===_0x5b5043);_0xd0020f&&!_0xd0020f[_0x10ab09(0x34e)]&&showConfirmation(_0x10ab09(0xd30)+_0xd0020f['name']+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0xe34852=_0x10ab09;shortcutTabs=shortcutTabs[_0xe34852(0xe4e)](_0x118e45=>_0x118e45['id']!==_0x5b5043),delete shortcutOrder[_0x5b5043];if(activeShortcutTabId===_0x5b5043)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x3bc7f7,_0x17fdc1){const _0x4eb12f=_0x2e2582,_0x439f45=shortcutTabs[_0x4eb12f(0x426)](_0x666503=>_0x666503['id']===_0x17fdc1);_0x439f45&&!_0x439f45[_0x4eb12f(0x694)][_0x4eb12f(0x9ee)](_0x3bc7f7)&&(_0x439f45[_0x4eb12f(0x694)]['push'](_0x3bc7f7),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x17491a,_0x130d6e){const _0x5381e8=_0x2e2582,_0x258a5a=shortcutTabs['find'](_0x44fac4=>_0x44fac4['id']===_0x130d6e);_0x258a5a&&!_0x258a5a[_0x5381e8(0x34e)]&&(_0x258a5a[_0x5381e8(0x694)]=_0x258a5a[_0x5381e8(0x694)][_0x5381e8(0xe4e)](_0x585faf=>_0x585faf!==_0x17491a),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x261136,_0x352fa4){shortcutOrder[_0x261136]=_0x352fa4,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x42a08e=_0x2e2582,_0x53a64a=document[_0x42a08e(0x6ec)]('blueprint-shortcut-container'),_0x1e7158=document['getElementById'](_0x42a08e(0x86e)),_0x200e88=document['getElementById']('shortcuts-loading-msg');_0x200e88&&_0x200e88['classList'][_0x42a08e(0xbca)](_0x42a08e(0x515));if(!_0x53a64a||!_0x1e7158)return;const _0x506196=blueprintShortcuts['slice'](0x0,0x4),_0xf211a9=blueprintShortcuts[_0x42a08e(0xcb7)](0x4);_0x53a64a[_0x42a08e(0x674)]=_0x506196[_0x42a08e(0x91f)](_0x2c4795=>{const _0x32fc22=_0x42a08e;let _0x2c4766=_0x32fc22(0x80c),_0x607abd='🧩';if(_0x2c4795[_0x32fc22(0xb1a)]&&_0x2c4795[_0x32fc22(0x330)])_0x2c4766='bg-green-500\x20hover:bg-green-600\x20text-white',_0x607abd='📗';else _0x2c4795[_0x32fc22(0xb1a)]&&(_0x2c4766=_0x32fc22(0x472),_0x607abd='📘');const _0x5e1e55=!_0x2c4795[_0x32fc22(0x34e)]?_0x32fc22(0xae1)+_0x2c4795['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x32fc22(0x2e2)+_0x2c4795['id']+_0x32fc22(0xa5e)+_0x2c4766+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x607abd+'\x20'+_0x2c4795['name']+_0x32fc22(0x97c)+_0x2c4795['id']+_0x32fc22(0x46c)+_0x5e1e55+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0xf211a9['length']>0x0&&(_0x53a64a['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0xf211a9[_0x42a08e(0x83b)]>0x0?_0x1e7158[_0x42a08e(0x674)]=_0xf211a9['map'](_0x40a544=>{const _0x393607=_0x42a08e;let _0x428d03='🧩';if(_0x40a544[_0x393607(0xb1a)]&&_0x40a544[_0x393607(0x330)])_0x428d03='📗';else _0x40a544[_0x393607(0xb1a)]&&(_0x428d03='📘');return _0x393607(0x20d)+_0x428d03+'\x20'+_0x40a544[_0x393607(0x47c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x40a544['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x40a544['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x40a544[_0x393607(0x34e)]?_0x393607(0xae1)+_0x40a544['id']+_0x393607(0xc0f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x42a08e(0x8c3)](''):_0x1e7158[_0x42a08e(0x674)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x4a03da){const _0x3b56e3=_0x2e2582,_0x28460c=_0x4a03da[_0x3b56e3(0x8c0)]('.')['pop']()[_0x3b56e3(0x3be)]();switch(_0x28460c){case _0x3b56e3(0x9bd):return'application/pdf';case _0x3b56e3(0x291):return _0x3b56e3(0xa7e);default:return _0x3b56e3(0xad7);}}function openShortcutEditor(_0x2e926e=null){const _0xa231c7=_0x2e2582,_0x455b27=document[_0xa231c7(0x6ec)](_0xa231c7(0x7a3)),_0x5e65a9=document[_0xa231c7(0x6ec)]('shortcut-modal-title'),_0x282ed1=document['getElementById']('shortcut-id-input'),_0x23aede=document['getElementById'](_0xa231c7(0x3d4)),_0x367316=document[_0xa231c7(0x6ec)](_0xa231c7(0x32b)),_0x4c6ff3=document['getElementById'](_0xa231c7(0xc1a));if(_0x2e926e){const _0x5e77ad=blueprintShortcuts[_0xa231c7(0x426)](_0x5884bc=>_0x5884bc['id']===_0x2e926e);if(!_0x5e77ad)return;_0x5e65a9[_0xa231c7(0x337)]=_0xa231c7(0x5bc),_0x282ed1[_0xa231c7(0x8c2)]=_0x5e77ad['id'],_0x23aede[_0xa231c7(0x8c2)]=_0x5e77ad[_0xa231c7(0x47c)],_0x367316[_0xa231c7(0x8c2)]=_0x5e77ad['blueprintUrl']||'',_0x4c6ff3[_0xa231c7(0x8c2)]=_0x5e77ad[_0xa231c7(0x330)]||'';}else _0x5e65a9[_0xa231c7(0x337)]=_0xa231c7(0xcf0),_0x282ed1[_0xa231c7(0x8c2)]='',_0x23aede['value']='',_0x367316[_0xa231c7(0x8c2)]='',_0x4c6ff3[_0xa231c7(0x8c2)]='';_0x455b27[_0xa231c7(0xed5)][_0xa231c7(0xb8a)](_0xa231c7(0x515));}async function saveShortcutChanges(){const _0x3a5b7b=_0x2e2582,_0x388fa5=document[_0x3a5b7b(0x6ec)](_0x3a5b7b(0x48e))['value'],_0x29016b=document['getElementById'](_0x3a5b7b(0x3d4))[_0x3a5b7b(0x8c2)][_0x3a5b7b(0xdd8)](),_0x1e52a1=document[_0x3a5b7b(0x6ec)](_0x3a5b7b(0x32b))['value'][_0x3a5b7b(0xdd8)]();if(!_0x29016b||!_0x1e52a1){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27');return;}const _0x50635e={'id':_0x388fa5||'shortcut_'+Date['now'](),'name':_0x29016b,'blueprintUrl':_0x1e52a1,'referenceUrl':document[_0x3a5b7b(0x6ec)]('shortcut-reference-url-input')[_0x3a5b7b(0x8c2)][_0x3a5b7b(0xdd8)](),'isDefault':_0x388fa5['startsWith']('default-')};let _0x131e7b;_0x388fa5?_0x131e7b=blueprintShortcuts[_0x3a5b7b(0x91f)](_0x56379d=>_0x56379d['id']===_0x388fa5?_0x50635e:_0x56379d):_0x131e7b=[...blueprintShortcuts,_0x50635e];try{const _0x2057ec=doc(db,'globalSettings','dashboardConfig');await setDoc(_0x2057ec,{'blueprintShortcuts':_0x131e7b},{'merge':!![]}),document[_0x3a5b7b(0x6ec)]('shortcut-editor-modal')[_0x3a5b7b(0xed5)][_0x3a5b7b(0xbca)](_0x3a5b7b(0x515));}catch(_0x1a96de){console[_0x3a5b7b(0x61c)](_0x3a5b7b(0x672),_0x1a96de),showMessage(_0x3a5b7b(0xcdd));}}async function handleShortcutClick(_0x35c5bd){const _0x3c2e31=_0x2e2582,_0x1e0184=blueprintShortcuts[_0x3c2e31(0x426)](_0xc34c18=>_0xc34c18['id']===_0x35c5bd);if(!_0x1e0184||!_0x1e0184['blueprintUrl'])return;document[_0x3c2e31(0x6ec)](_0x3c2e31(0xea1))[_0x3c2e31(0xed5)][_0x3c2e31(0xbca)](_0x3c2e31(0x515)),document[_0x3c2e31(0x6ec)](_0x3c2e31(0x601))[_0x3c2e31(0x736)]=!![];const _0x124107=document[_0x3c2e31(0x6ec)](_0x3c2e31(0x3e6)),_0x161c6d=document[_0x3c2e31(0x6ec)](_0x3c2e31(0x350));document[_0x3c2e31(0x6ec)](_0x3c2e31(0x6c8))[_0x3c2e31(0xed5)][_0x3c2e31(0xb8a)](_0x3c2e31(0x515)),document[_0x3c2e31(0x6ec)]('generated-quiz-container')[_0x3c2e31(0x674)]='',_0x124107[_0x3c2e31(0xed5)][_0x3c2e31(0xb8a)](_0x3c2e31(0x515));try{_0x161c6d[_0x3c2e31(0x337)]=_0x3c2e31(0xa67);const _0x19e139=await fetchFileFromUrl(_0x1e0184[_0x3c2e31(0xb1a)],'blueprint.pdf');let _0x4fb9c8=null;if(_0x1e0184['referenceUrl']){_0x161c6d[_0x3c2e31(0x337)]=_0x3c2e31(0x35b);const _0x36bd87=_0x1e0184['referenceUrl']['toLowerCase']()[_0x3c2e31(0xc63)](_0x3c2e31(0x6e6))?_0x3c2e31(0x457):_0x3c2e31(0xd0f);_0x4fb9c8=await fetchFileFromUrl(_0x1e0184[_0x3c2e31(0x330)],_0x36bd87);}await handleGenerateFromBlueprintWithFiles(_0x19e139,_0x4fb9c8);}catch(_0xba7f06){console[_0x3c2e31(0x61c)](_0x3c2e31(0x83e),_0xba7f06),showMessage('เกิดข้อผิดพลาด:\x20'+_0xba7f06[_0x3c2e31(0x784)]),_0x124107[_0x3c2e31(0xed5)]['add'](_0x3c2e31(0x515));}}function getDirectDownloadUrl(_0x2fd50c){const _0x1d48d8=_0x2e2582,_0x21aae8=_0x2fd50c[_0x1d48d8(0xf08)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x21aae8&&_0x21aae8[0x1])return _0x1d48d8(0x901)+_0x21aae8[0x1];return _0x2fd50c;}async function fetchFileFromUrl(_0x3b133c,_0x1e750f){const _0x2b7f62=_0x2e2582,_0xf05f7b=getDirectDownloadUrl(_0x3b133c),_0x388baa=_0x2b7f62(0x610)+encodeURIComponent(_0xf05f7b),_0x1b9162=await fetch(_0x388baa);if(!_0x1b9162['ok'])throw new Error(_0x2b7f62(0xcac)+_0x1b9162[_0x2b7f62(0x4dc)]+')');const _0x5df354=await _0x1b9162[_0x2b7f62(0x7f0)](),_0x3ba90c=await new Promise((_0x21e4ba,_0x7f5bbf)=>{const _0x5bd08e=_0x2b7f62,_0x35fb63=new FileReader();_0x35fb63[_0x5bd08e(0x282)]=()=>_0x21e4ba(new Uint8Array(_0x35fb63[_0x5bd08e(0xb66)])),_0x35fb63[_0x5bd08e(0xc0d)]=_0x7f5bbf,_0x35fb63[_0x5bd08e(0xce8)](_0x5df354['slice'](0x0,0x4));});let _0x502907='';const _0x5b032e=new TextDecoder()[_0x2b7f62(0xde4)](_0x3ba90c);return _0x5b032e==='%PDF'?(_0x502907=_0x2b7f62(0xad7),console['log'](_0x2b7f62(0xc86))):(_0x502907=_0x2b7f62(0xa7e),console[_0x2b7f62(0xeec)](_0x2b7f62(0xa23))),new File([_0x5df354],_0x1e750f,{'type':_0x502907});}async function handleGenerateFromBlueprintWithFiles(_0x13338b,_0x1ad6a6=null){const _0x59f8b0=_0x2e2582;if(!_0x13338b){showMessage(_0x59f8b0(0xd52));return;}const _0x18d414=document['getElementById'](_0x59f8b0(0x3e6)),_0x299d5d=document[_0x59f8b0(0x6ec)](_0x59f8b0(0x350));_0x18d414[_0x59f8b0(0xed5)][_0x59f8b0(0xb8a)](_0x59f8b0(0x515)),document[_0x59f8b0(0x6ec)](_0x59f8b0(0x6c8))['classList'][_0x59f8b0(0xb8a)](_0x59f8b0(0x515)),document[_0x59f8b0(0x6ec)](_0x59f8b0(0x456))[_0x59f8b0(0x674)]='';try{_0x299d5d[_0x59f8b0(0x337)]=_0x59f8b0(0x63e);const _0x479393=await new Promise((_0x34ccda,_0x159e7a)=>{const _0x487480=_0x59f8b0,_0x1d91a3=new FileReader();_0x1d91a3[_0x487480(0xa1b)](_0x13338b),_0x1d91a3['onload']=()=>_0x34ccda(_0x1d91a3[_0x487480(0xb66)][_0x487480(0x8c0)](',')[0x1]),_0x1d91a3[_0x487480(0xc0d)]=_0x159e7a;}),_0x59cb4a=[];if(_0x1ad6a6){_0x299d5d[_0x59f8b0(0x337)]=_0x59f8b0(0x9f3);const _0xa95fab=await _0x1ad6a6[_0x59f8b0(0x566)]();_0x59cb4a[_0x59f8b0(0x724)]({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'+_0xa95fab});}const _0x603d12=[{'text':_0x59f8b0(0xa15)},{'inlineData':{'mimeType':_0x13338b[_0x59f8b0(0xae4)],'data':_0x479393}},..._0x59cb4a];await handleGenerateFromBlueprint(_0x603d12);}catch(_0x1e5afd){console[_0x59f8b0(0x61c)]('Error\x20in\x20generating\x20from\x20files:',_0x1e5afd),showMessage(_0x59f8b0(0xebb)+_0x1e5afd[_0x59f8b0(0x784)]),_0x18d414[_0x59f8b0(0xed5)][_0x59f8b0(0xbca)]('hidden');}}async function handleLiveAnswer(_0x4804f4,_0x496ea3){const _0x2209ec=_0x2e2582;document[_0x2209ec(0xcf1)](_0x2209ec(0xa83))[_0x2209ec(0x9ce)](_0x3a314d=>_0x3a314d[_0x2209ec(0x736)]=!![]);const _0x13eb68=_0x496ea3[_0x2209ec(0xb6d)]||currentQuizData[_0x2209ec(0x80d)];let _0x268694=![],_0x4e998f=_0x4804f4;if(_0x13eb68===_0x2209ec(0x466)){const _0x3c65f8=(_0x4804f4||'')[_0x2209ec(0xe25)]();_0x268694=await gradeShortAnswer(_0x3c65f8,_0x496ea3);}else{if(_0x13eb68===_0x2209ec(0xbb3))_0x268694=_0x4804f4===_0x496ea3[_0x2209ec(0x526)];else{if(_0x13eb68===_0x2209ec(0x35c)){const _0x13be56=_0x496ea3[_0x2209ec(0xec0)];_0x268694=_0x4804f4===0x0&&_0x13be56||_0x4804f4===0x1&&!_0x13be56;}else{if(_0x13eb68===_0x2209ec(0x440)){const _0x57644a=_0x496ea3['allResponses'][_0x4804f4];_0x268694=_0x57644a===_0x496ea3[_0x2209ec(0xc32)],_0x4e998f=_0x57644a;}}}}const _0x4ff063=doc(db,_0x2209ec(0x509)+appId+_0x2209ec(0x98f),currentLiveGameId),_0x2a83dc={};_0x2a83dc[_0x2209ec(0xa3c)+currentStudentName+_0x2209ec(0x278)]=!![],_0x2a83dc[_0x2209ec(0xa3c)+currentStudentName+'.lastAnswerCorrect']=_0x268694,_0x2a83dc[_0x2209ec(0xa3c)+currentStudentName+_0x2209ec(0x37a)]=_0x13eb68===_0x2209ec(0x466)||_0x13eb68===_0x2209ec(0x440)?null:_0x4804f4,_0x2a83dc[_0x2209ec(0xa3c)+currentStudentName+_0x2209ec(0xf3e)]=_0x4e998f,_0x2a83dc['players.'+currentStudentName+_0x2209ec(0x5ae)]=serverTimestamp(),_0x2a83dc[_0x2209ec(0xa3c)+currentStudentName+_0x2209ec(0x2de)]=![],await updateDoc(_0x4ff063,_0x2a83dc),liveGameView[_0x2209ec(0x674)]=_0x2209ec(0x6c9);}function showAdminSummaryView(_0x11f3ba,_0x174c56){const _0xe9bcfc=_0x2e2582,_0x1d2f27=Object[_0xe9bcfc(0x586)](_0x11f3ba[_0xe9bcfc(0x21d)]||{}),_0x19728a=_0x174c56[_0xe9bcfc(0xb6d)]||currentQuizData['quizType'],_0x5b7a43=_0x19728a===_0xe9bcfc(0x35c)?[_0xe9bcfc(0xf19),_0xe9bcfc(0x369)]:_0x174c56[_0xe9bcfc(0x25f)]||_0x174c56[_0xe9bcfc(0xa2e)]||[],_0xcc8211={},_0x5c1d9b=new Array(_0x5b7a43[_0xe9bcfc(0x83b)])['fill'](0x0);_0x5b7a43[_0xe9bcfc(0x9ce)]((_0x3e2e93,_0x33721a)=>{_0xcc8211[_0x33721a]=[];}),Object[_0xe9bcfc(0x81d)](_0x11f3ba[_0xe9bcfc(0x21d)]||{})['forEach'](([_0x2fdb3e,_0x55ed6f])=>{const _0x221bce=_0xe9bcfc;if(_0x55ed6f[_0x221bce(0x4dc)]===_0x221bce(0xb3d)&&_0x55ed6f[_0x221bce(0x2a0)]!==undefined){const _0x2c1f99=_0x55ed6f[_0x221bce(0x2a0)];_0xcc8211[_0x2c1f99]&&(_0xcc8211[_0x2c1f99][_0x221bce(0x724)](_0x2fdb3e),_0x5c1d9b[_0x2c1f99]++);}});const _0x20d6d6=Math[_0xe9bcfc(0xd94)](..._0x5c1d9b,0x1),_0x51447c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x174c56[_0xe9bcfc(0x71c)]||_0x174c56[_0xe9bcfc(0x912)])+_0xe9bcfc(0x82b)+_0x5c1d9b[_0xe9bcfc(0x91f)]((_0x3b0527,_0x409bfc)=>{const _0x542ee0=_0xe9bcfc,_0x4c2ce4=_0xcc8211[_0x409bfc][_0x542ee0(0x83b)]>0x0?_0xcc8211[_0x409bfc][_0x542ee0(0x8c3)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x3aaf98=![];if(_0x19728a===_0x542ee0(0xbb3))_0x3aaf98=_0x409bfc===_0x174c56[_0x542ee0(0x526)];else{if(_0x19728a===_0x542ee0(0x35c)){const _0x309f8c=_0x174c56['correctAnswer'];_0x3aaf98=_0x309f8c&&_0x409bfc===0x0||!_0x309f8c&&_0x409bfc===0x1;}else _0x19728a==='matching_item'&&(_0x3aaf98=_0x5b7a43[_0x409bfc]===_0x174c56[_0x542ee0(0xc32)]);}const _0x52edde=_0x3aaf98?_0x542ee0(0x863):_0x542ee0(0xe95);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x3b0527+_0x542ee0(0xe86)+_0x52edde+_0x542ee0(0x61a)+_0x409bfc+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x5b7a43[_0x409bfc]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x409bfc+_0x542ee0(0x1cf)+_0x4c2ce4+_0x542ee0(0x7c8);})[_0xe9bcfc(0x8c3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0xe9bcfc(0x674)]=_0x51447c;if(window[_0xe9bcfc(0xef3)])MathJax['typesetPromise']();document['getElementById'](_0xe9bcfc(0x9d4))['addEventListener'](_0xe9bcfc(0x7b0),async()=>{const _0x30b854=_0xe9bcfc,_0x5cd28f=doc(db,_0x30b854(0x509)+appId+_0x30b854(0x98f),currentLiveGameId);await updateDoc(_0x5cd28f,{'questionStatus':'leaderboard'});}),document['getElementById'](_0xe9bcfc(0xbe7))['addEventListener'](_0xe9bcfc(0x7b0),()=>{openScratchpad(_0x174c56,_0x5b7a43);});}function showPlayerSummaryView(_0x3b6ad2,_0x4765fc){const _0x3032b3=_0x2e2582,_0x11c618=Object[_0x3032b3(0x586)](_0x3b6ad2['players']||{}),_0x1927e3=_0x3b6ad2[_0x3032b3(0x21d)][_0x4765fc],_0xf0c49d=_0x11c618[_0x3032b3(0xe4e)](_0x3e7b0b=>_0x3e7b0b[_0x3032b3(0x4dc)]===_0x3032b3(0xb3d))[_0x3032b3(0x6f8)]((_0x2f313a,_0x28391b)=>_0x28391b[_0x3032b3(0x600)]-_0x2f313a['score']),_0x7a8ef7=_0xf0c49d[_0x3032b3(0x8e8)](_0x352e61=>_0x352e61===_0x1927e3)+0x1,_0x4e1e1a=_0x1927e3['lastAnswerCorrect']?_0x3032b3(0x5cc):'ผิด',_0x15fffe=_0x1927e3[_0x3032b3(0xd70)]?_0x3032b3(0x411):_0x3032b3(0x3ed),_0x42defe=_0x1927e3[_0x3032b3(0x82a)]||0x0,_0x545093=_0x3032b3(0x51d),_0x3e68d9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x545093+_0x3032b3(0x3aa)+_0x15fffe+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x4e1e1a+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x42defe+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x7a8ef7>0x0?_0x7a8ef7:'-')+_0x3032b3(0x499);liveGameView[_0x3032b3(0x674)]=_0x3e68d9;}function createQuizFromBank(){const _0x5052f5=_0x2e2582,_0x1ec9bb=document[_0x5052f5(0xcf1)](_0x5052f5(0xc95));if(_0x1ec9bb[_0x5052f5(0x83b)]===0x0){showMessage(_0x5052f5(0x5f0));return;}const _0x47b1bd=[];_0x1ec9bb['forEach'](_0x3b680a=>{const _0x23cfa0=_0x5052f5;_0x47b1bd[_0x23cfa0(0x724)](JSON[_0x23cfa0(0xbbc)](_0x3b680a[_0x23cfa0(0x8c2)]));});const _0x3a32f0={'topic':_0x5052f5(0x4db),'questions':_0x47b1bd};displayGeneratedQuiz(_0x3a32f0);}function showAdminLobbyView(_0x186371,_0x7e17ba){const _0x5d8ce4=_0x2e2582;showView('live-game');const _0xf4f4f7=_0x5d8ce4(0xb4d)+_0x7e17ba+_0x5d8ce4(0x205)+_0x186371+_0x5d8ce4(0xea0);liveGameView[_0x5d8ce4(0x674)]=_0xf4f4f7,document['getElementById'](_0x5d8ce4(0x3f6))[_0x5d8ce4(0x504)](_0x5d8ce4(0x7b0),async()=>{const _0x22b0ff=_0x5d8ce4;if(!currentQuizData||!currentQuizData[_0x22b0ff(0xa08)]||currentQuizData[_0x22b0ff(0xa08)][_0x22b0ff(0x83b)]===0x0){showMessage(_0x22b0ff(0x2aa));return;}try{const _0x3b1365=doc(db,_0x22b0ff(0x509)+appId+_0x22b0ff(0x98f),currentLiveGameId);await updateDoc(_0x3b1365,{'status':_0x22b0ff(0x77c),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1c0547=currentQuizData['questions'][0x0],_0x2ad151=currentQuizData[_0x22b0ff(0xa08)][_0x22b0ff(0x83b)];showAdminLiveQuestionView(_0x1c0547,0x0,_0x2ad151);}catch(_0x204a98){console[_0x22b0ff(0x61c)]('Error\x20starting\x20game:',_0x204a98),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x5dda2e=_0x2e2582;if(allQuizzesGlobal['length']===0x0){const _0x24d9d5=await getDocs(collection(db,_0x5dda2e(0x509)+appId+_0x5dda2e(0x2d1)));allQuizzesGlobal=_0x24d9d5[_0x5dda2e(0x875)]['map'](_0x538c21=>({'id':_0x538c21['id'],..._0x538c21[_0x5dda2e(0xe5c)]()}));}renderQuizBankList(''),document['getElementById'](_0x5dda2e(0x63f))[_0x5dda2e(0xed5)][_0x5dda2e(0xb8a)](_0x5dda2e(0x515));}function renderQuizBankList(_0x12e594='',_0x183c80=![]){const _0x644f69=_0x2e2582,_0x18bad7=document[_0x644f69(0x6ec)](_0x644f69(0x5c0)),_0x1f3b6d=_0x12e594['toLowerCase']()[_0x644f69(0xdd8)](),_0x334811=allQuizzesGlobal[_0x644f69(0x91f)](_0x8078=>({..._0x8078,'projectName':allProjects['find'](_0x24fef2=>_0x24fef2['id']===_0x8078[_0x644f69(0x6ea)])?.[_0x644f69(0x52e)]||_0x644f69(0xaf9)}))[_0x644f69(0xe4e)](_0x21467d=>(_0x21467d['topic']||'')[_0x644f69(0x3be)]()[_0x644f69(0x9ee)](_0x1f3b6d)||(_0x21467d[_0x644f69(0x52e)]||'')['toLowerCase']()[_0x644f69(0x9ee)](_0x1f3b6d)||_0x21467d['id'][_0x644f69(0xe25)]()[_0x644f69(0x9ee)](_0x1f3b6d));document[_0x644f69(0x6ec)](_0x644f69(0x7d4))['textContent']='('+_0x334811[_0x644f69(0x83b)]+_0x644f69(0x28a),_0x18bad7[_0x644f69(0x674)]=_0x334811['length']?_0x334811['map'](_0xf4f6a5=>{const _0x58fc2c=_0x644f69,_0x1935f6=!_0x183c80?_0x58fc2c(0xd1b)+_0xf4f6a5['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xf4f6a5['id']+_0x58fc2c(0xa54)+_0xf4f6a5['id']+_0x58fc2c(0xab7)+_0xf4f6a5['id']+_0x58fc2c(0xb6b)+_0xf4f6a5['id']+_0x58fc2c(0xeb5)+_0xf4f6a5['id']+'\x22\x20data-topic=\x22'+_0xf4f6a5[_0x58fc2c(0x308)]+_0x58fc2c(0xdbc):'';return _0x58fc2c(0x3e1)+_0xf4f6a5['id']+_0x58fc2c(0x673)+(_0xf4f6a5['topic']||_0x58fc2c(0x50a))+_0x58fc2c(0x2a6)+(_0xf4f6a5[_0x58fc2c(0xa08)]?.[_0x58fc2c(0x83b)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0xf4f6a5[_0x58fc2c(0x52e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0xf4f6a5['id']+_0x58fc2c(0xd82)+_0x1935f6+_0x58fc2c(0xb59);})['join'](''):_0x644f69(0xf1e),!_0x183c80&&(_0x18bad7[_0x644f69(0xcf1)](_0x644f69(0x81a))[_0x644f69(0x9ce)](_0x58c10d=>{const _0x20a5c0=_0x644f69;_0x58c10d[_0x20a5c0(0x504)](_0x20a5c0(0x7b0),()=>{const _0x30f032=_0x20a5c0,_0x4142f0=_0x58c10d[_0x30f032(0x261)]['id'];document[_0x30f032(0x6ec)](_0x30f032(0x63f))[_0x30f032(0xed5)][_0x30f032(0xbca)](_0x30f032(0x515)),showQuizDetailView(_0x4142f0);});}),_0x18bad7[_0x644f69(0xcf1)](_0x644f69(0xd67))[_0x644f69(0x9ce)](_0x577796=>{const _0xeed62e=_0x644f69;_0x577796[_0xeed62e(0x504)](_0xeed62e(0x7b0),_0x2f36de=>{const _0x53336f=_0xeed62e;_0x2f36de[_0x53336f(0xee2)]();const _0x4d59b5=_0x577796[_0x53336f(0x261)]['id'],_0x3a70b6=allQuizzesGlobal['find'](_0x4cfe7c=>_0x4cfe7c['id']===_0x4d59b5);_0x3a70b6?(currentQuizData=_0x3a70b6,document[_0x53336f(0x6ec)](_0x53336f(0x63f))['classList'][_0x53336f(0xbca)](_0x53336f(0x515)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x18bad7[_0x644f69(0xcf1)](_0x644f69(0x9d7))[_0x644f69(0x9ce)](_0xba77f4=>{const _0x3bd740=_0x644f69;_0xba77f4['addEventListener'](_0x3bd740(0x7b0),_0x26c0e9=>{const _0x50fdab=_0x3bd740;_0x26c0e9[_0x50fdab(0xee2)]();const _0xa287f1=_0xba77f4['dataset']['id'],_0xb91492=allQuizzesGlobal[_0x50fdab(0x426)](_0x34b654=>_0x34b654['id']===_0xa287f1);_0xb91492?(document['getElementById'](_0x50fdab(0x63f))['classList'][_0x50fdab(0xbca)](_0x50fdab(0x515)),handleGenerateParallelFromBank(_0xb91492)):showMessage(_0x50fdab(0x476));});}),_0x18bad7[_0x644f69(0xcf1)](_0x644f69(0xdb0))['forEach'](_0x2c0e42=>{const _0x3cb228=_0x644f69;_0x2c0e42['addEventListener'](_0x3cb228(0x7b0),_0x42a538=>{const _0x46f93e=_0x3cb228;_0x42a538[_0x46f93e(0xee2)]();const _0x344478=_0x2c0e42[_0x46f93e(0x261)]['id'],_0xa493ff=allQuizzesGlobal[_0x46f93e(0x426)](_0x4aa51d=>_0x4aa51d['id']===_0x344478);_0xa493ff?(document['getElementById']('quiz-bank-modal')[_0x46f93e(0xed5)][_0x46f93e(0xbca)](_0x46f93e(0x515)),startPresentation(_0xa493ff)):showMessage(_0x46f93e(0x476));});}),_0x18bad7['querySelectorAll'](_0x644f69(0xae8))[_0x644f69(0x9ce)](_0x1986a9=>{const _0x3f624d=_0x644f69;_0x1986a9[_0x3f624d(0x504)](_0x3f624d(0x7b0),_0x37d0a6=>{const _0x22b549=_0x3f624d;_0x37d0a6[_0x22b549(0xee2)]();const _0x37755d=_0x1986a9[_0x22b549(0x261)]['id'];document[_0x22b549(0x6ec)]('quiz-bank-modal')[_0x22b549(0xed5)]['add'](_0x22b549(0x515)),handleMoveQuiz(_0x37755d);});}),_0x18bad7[_0x644f69(0xcf1)](_0x644f69(0x8fe))[_0x644f69(0x9ce)](_0xb2f642=>{const _0x4b0f4f=_0x644f69;_0xb2f642[_0x4b0f4f(0x504)]('click',_0x3bb3d9=>{const _0x3a8ccc=_0x4b0f4f;_0x3bb3d9['stopPropagation']();const _0x10b43a=_0xb2f642[_0x3a8ccc(0x261)]['id'];document[_0x3a8ccc(0x6ec)](_0x3a8ccc(0x63f))[_0x3a8ccc(0xed5)][_0x3a8ccc(0xbca)](_0x3a8ccc(0x515)),handleQuizSettings(_0x10b43a);});}),_0x18bad7['querySelectorAll']('.quiz-bank-delete-btn')['forEach'](_0x47b105=>{const _0x253e00=_0x644f69;_0x47b105[_0x253e00(0x504)]('click',_0x199af9=>{const _0x4d58e6=_0x253e00;_0x199af9[_0x4d58e6(0xee2)]();const _0x1074bf=_0x47b105[_0x4d58e6(0x261)]['id'],_0x470956=_0x47b105[_0x4d58e6(0x261)][_0x4d58e6(0x308)];showConfirmation(_0x4d58e6(0x29b)+_0x470956+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x1074bf));});}));}async function handleCompareResults(_0x448139,_0x1093e9){const _0x19bd97=_0x2e2582,_0x510cd2=document[_0x19bd97(0x6ec)](_0x19bd97(0xd68)),_0x403678=document[_0x19bd97(0x6ec)](_0x19bd97(0x528)),_0x1f2427=document[_0x19bd97(0x6ec)](_0x19bd97(0xa94));document['getElementById'](_0x19bd97(0x534))[_0x19bd97(0xed5)][_0x19bd97(0xbca)](_0x19bd97(0xb3d)),document[_0x19bd97(0x6ec)](_0x19bd97(0xbe5))[_0x19bd97(0xed5)]['remove']('active'),_0x403678[_0x19bd97(0xed5)][_0x19bd97(0xb8a)](_0x19bd97(0x515)),_0x1f2427['classList']['add'](_0x19bd97(0x515)),_0x403678[_0x19bd97(0x674)]=_0x19bd97(0xc4c),_0x1f2427[_0x19bd97(0x674)]='',_0x510cd2[_0x19bd97(0xed5)][_0x19bd97(0xb8a)](_0x19bd97(0x515));try{const _0x7ce31a=doc(db,_0x19bd97(0x509)+appId+_0x19bd97(0x2d1),_0x448139),_0x62cf91=await getDoc(_0x7ce31a);if(!_0x62cf91[_0x19bd97(0xa82)]())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x68e2e1=_0x62cf91[_0x19bd97(0xe5c)](),_0x156679=_0x68e2e1['questions'][_0x19bd97(0x83b)],_0x4322b3=collection(db,_0x19bd97(0x509)+appId+_0x19bd97(0xd97)+_0x1093e9+_0x19bd97(0xb14)),_0x58a1bd=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x448139+_0x19bd97(0xb14)),[_0x18af93,_0x3adf4c]=await Promise[_0x19bd97(0x5e4)]([getDocs(_0x4322b3),getDocs(_0x58a1bd)]),_0x5a1638=_0x18af93[_0x19bd97(0x875)][_0x19bd97(0x91f)](_0x2b151a=>_0x2b151a['data']()),_0x3a84c2=_0x3adf4c[_0x19bd97(0x875)][_0x19bd97(0x91f)](_0x1c957a=>_0x1c957a['data']()),_0x4a882d=_0x5a1638[_0x19bd97(0x91f)](_0x2d055a=>_0x2d055a['latestScore']),_0x26a8e9=_0x3a84c2[_0x19bd97(0x91f)](_0x5a3e4c=>_0x5a3e4c[_0x19bd97(0xcc3)]),_0x30ef60=calculateMeanAndStdDev(_0x4a882d),_0x4dde18=calculateMeanAndStdDev(_0x26a8e9),_0x39db9b=_0x30ef60[_0x19bd97(0x43b)],_0x4a8703=_0x4dde18[_0x19bd97(0x43b)],_0x4578fd=_0x4a8703-_0x39db9b;let _0x20538f=_0x19bd97(0xeae)+_0x39db9b['toFixed'](0x2)+_0x19bd97(0x747)+_0x4a8703[_0x19bd97(0xd15)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x4578fd>=0x0?_0x19bd97(0x710):'bg-red-100')+_0x19bd97(0xb1c)+(_0x4578fd>=0x0?'text-emerald-800':'text-red-800')+_0x19bd97(0xc72)+(_0x4578fd>=0x0?'text-emerald-900':'text-red-900')+'\x22>'+(_0x4578fd>=0x0?'+':'')+_0x4578fd['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x403678[_0x19bd97(0x674)]=_0x20538f;const _0x232972=document[_0x19bd97(0x6ec)]('comparison-chart')['getContext']('2d');if(chartInstances[_0x19bd97(0xd8e)])chartInstances[_0x19bd97(0xd8e)][_0x19bd97(0x77b)]();chartInstances[_0x19bd97(0xd8e)]=new Chart(_0x232972,{'type':_0x19bd97(0x7d9),'data':{'labels':[_0x19bd97(0xda0)],'datasets':[{'label':_0x19bd97(0x372),'data':[_0x39db9b],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':'หลังเรียน','data':[_0x4a8703],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x156679}}}});const _0x39233b=currentProjectData[_0x19bd97(0x30d)]||[],_0x17c200=_0x39233b[_0x19bd97(0x91f)](_0x360023=>{const _0x406354=_0x19bd97,_0x427d3b=_0x5a1638[_0x406354(0x426)](_0x19a999=>_0x19a999[_0x406354(0xba6)]===_0x360023),_0x50aa95=_0x3a84c2[_0x406354(0x426)](_0x4086b6=>_0x4086b6[_0x406354(0xba6)]===_0x360023),_0x14081f=_0x427d3b?_0x427d3b[_0x406354(0xcc3)]:null,_0x593275=_0x50aa95?_0x50aa95[_0x406354(0xcc3)]:null,_0x4a2bd0=_0x14081f!==null&&_0x593275!==null?_0x593275-_0x14081f:null,_0x4dbb80=_0x14081f!==null?calculateZScore(_0x14081f,_0x30ef60['mean'],_0x30ef60[_0x406354(0xf18)]):null,_0x5c403e=_0x593275!==null?calculateZScore(_0x593275,_0x4dde18[_0x406354(0x43b)],_0x4dde18['stdDev']):null,_0x4e43f6=_0x4dbb80!==null?calculateTScore(_0x4dbb80):null,_0x43c8aa=_0x5c403e!==null?calculateTScore(_0x5c403e):null,_0x2f2716=_0x4e43f6!==null&&_0x43c8aa!==null?_0x43c8aa-_0x4e43f6:null;return{'name':_0x360023,'preScore':_0x14081f,'postScore':_0x593275,'gain':_0x4a2bd0,'preTScore':_0x4e43f6,'postTScore':_0x43c8aa,'tGain':_0x2f2716};});renderIndividualComparisonTable(_0x17c200,_0x1f2427);}catch(_0x51f344){console[_0x19bd97(0x61c)](_0x19bd97(0x3ef),_0x51f344),_0x403678['innerHTML']=_0x19bd97(0x584);}}async function saveBlueprintProject(){const _0x3533a2=_0x2e2582;if(!extractedBlueprintData||!extractedBlueprintData[_0x3533a2(0xe3c)]){showMessage(_0x3533a2(0x861));return;}const _0x39c4fd=prompt(_0x3533a2(0xe7a),_0x3533a2(0x8e2));if(!_0x39c4fd||_0x39c4fd[_0x3533a2(0xdd8)]()==='')return;const _0x2cd84e={};extractedBlueprintData[_0x3533a2(0xe3c)][_0x3533a2(0x9ce)](_0x52a4cf=>{const _0x9e1936=_0x3533a2;_0x52a4cf[_0x9e1936(0xb00)]['forEach'](_0x55dd19=>{const _0x5730f7=_0x9e1936;_0x55dd19[_0x5730f7(0xe1c)]['forEach'](_0x28954f=>{const _0x19196a=_0x5730f7,_0x20ee04=_0x19196a(0x7ac)+Date['now']()+Math[_0x19196a(0x76c)]()[_0x19196a(0xe25)](0x24)['substr'](0x2,0x9);_0x2cd84e[_0x20ee04]={'sara':_0x52a4cf[_0x19196a(0x544)],'mainTopic':_0x55dd19[_0x19196a(0x9fe)],'subTopic':_0x28954f,'status':_0x19196a(0x3fa),'lessonContent':null};});});});try{const _0x3a815b=collection(db,'artifacts/'+appId+_0x3533a2(0x9d8));await addDoc(_0x3a815b,{'projectName':_0x39c4fd[_0x3533a2(0xdd8)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x2cd84e,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x39c4fd[_0x3533a2(0xdd8)]()+_0x3533a2(0x525)),document['getElementById']('save-blueprint-as-project-btn')[_0x3533a2(0xed5)][_0x3533a2(0xbca)]('hidden');}catch(_0x2ac616){console['error'](_0x3533a2(0x9b8),_0x2ac616),showMessage(_0x3533a2(0x629));}}async function showBlueprintProjects(){const _0x257619=_0x2e2582,_0x17a315=document['getElementById'](_0x257619(0x98a)),_0x5d65af=document['getElementById'](_0x257619(0xd80));_0x5d65af[_0x257619(0x674)]=_0x257619(0xbba),_0x17a315[_0x257619(0xed5)][_0x257619(0xb8a)](_0x257619(0x515));try{const _0x39db86=collection(db,_0x257619(0x509)+appId+_0x257619(0x9d8)),_0x1a7a2c=await getDocs(_0x39db86);if(_0x1a7a2c['empty']){_0x5d65af[_0x257619(0x674)]=_0x257619(0x21e);return;}const _0x15f13a=_0x1a7a2c['docs'][_0x257619(0x91f)](_0x4e32cf=>({'id':_0x4e32cf['id'],..._0x4e32cf[_0x257619(0xe5c)]()}));_0x15f13a[_0x257619(0x6f8)]((_0x43e285,_0x4030ac)=>_0x43e285['projectName'][_0x257619(0x6e9)](_0x4030ac[_0x257619(0x52e)],'th')),_0x5d65af[_0x257619(0x674)]=_0x15f13a[_0x257619(0x91f)](_0x35b749=>_0x257619(0xa12)+_0x35b749[_0x257619(0x52e)]+_0x257619(0xc92)+_0x35b749[_0x257619(0x3ad)]+'\x20|\x20'+Object[_0x257619(0x66f)](_0x35b749[_0x257619(0x9a5)])[_0x257619(0x83b)]+_0x257619(0x4ed)+_0x35b749['id']+_0x257619(0x559)+_0x35b749['id']+_0x257619(0x3c6))[_0x257619(0x8c3)]('');}catch(_0x416703){console[_0x257619(0x61c)](_0x257619(0xa26),_0x416703),_0x5d65af[_0x257619(0x674)]=_0x257619(0x8a2);}}async function displayBlueprintProjectManager(_0x5c31cc){const _0x2f1539=_0x2e2582;currentBlueprintProjectId=_0x5c31cc,document[_0x2f1539(0x6ec)](_0x2f1539(0x98a))[_0x2f1539(0xed5)][_0x2f1539(0xbca)](_0x2f1539(0x515)),showView(_0x2f1539(0x2da)),projectDashboardView[_0x2f1539(0xed5)][_0x2f1539(0xbca)]('hidden');const _0x38210e=document[_0x2f1539(0x6ec)]('blueprint-project-manager-view');_0x38210e[_0x2f1539(0xed5)][_0x2f1539(0xb8a)]('hidden'),document[_0x2f1539(0x6ec)](_0x2f1539(0x1ec))['innerHTML']=_0x2f1539(0xc4c);try{const _0x5d140e=doc(db,'artifacts/'+appId+_0x2f1539(0x9d8),_0x5c31cc),_0x584058=await getDoc(_0x5d140e);if(!_0x584058[_0x2f1539(0xa82)]())throw new Error(_0x2f1539(0xc24));const _0x1fa4d5={'id':_0x584058['id'],..._0x584058['data']()};document[_0x2f1539(0x6ec)](_0x2f1539(0x41c))[_0x2f1539(0x337)]=_0x1fa4d5[_0x2f1539(0x52e)],document[_0x2f1539(0x6ec)](_0x2f1539(0x2e9))['value']=_0x1fa4d5[_0x2f1539(0x398)]||'',renderBlueprintTopicManager(_0x1fa4d5);}catch(_0x182adb){console[_0x2f1539(0x61c)](_0x2f1539(0x69b),_0x182adb),showMessage(_0x182adb[_0x2f1539(0x784)]),showView(_0x2f1539(0x2da));}}function renderBlueprintTopicManager(_0x14528b){const _0xc8b845=_0x2e2582,_0x3fbd57=document['getElementById'](_0xc8b845(0x1ec)),_0x4aef87=_0x14528b[_0xc8b845(0x9a5)]||{};if(Object[_0xc8b845(0x66f)](_0x4aef87)[_0xc8b845(0x83b)]===0x0){_0x3fbd57['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x3445fa=Object[_0xc8b845(0x81d)](_0x4aef87)[_0xc8b845(0x91f)](([_0x25f8c9,_0x3e7513])=>({'id':_0x25f8c9,..._0x3e7513}))[_0xc8b845(0x6f8)]((_0x662aac,_0x59d0e9)=>(_0x662aac[_0xc8b845(0xece)]??Infinity)-(_0x59d0e9[_0xc8b845(0xece)]??Infinity)),_0x4a5ad2={};_0x3445fa['forEach'](_0x3e9b8b=>{const _0x2b016e=_0xc8b845,{sara:_0x25034a,mainTopic:_0x56bde0}=_0x3e9b8b;!_0x4a5ad2[_0x25034a]&&(_0x4a5ad2[_0x25034a]={}),!_0x4a5ad2[_0x25034a][_0x56bde0]&&(_0x4a5ad2[_0x25034a][_0x56bde0]=[]),_0x4a5ad2[_0x25034a][_0x56bde0][_0x2b016e(0x724)](_0x3e9b8b);});let _0x2288bf='';for(const _0x33a46d in _0x4a5ad2){_0x2288bf+=_0xc8b845(0xab5)+_0x33a46d+_0xc8b845(0xa0b);for(const _0x2627a1 in _0x4a5ad2[_0x33a46d]){_0x2288bf+=_0xc8b845(0x664)+_0x2627a1+_0xc8b845(0x70e),_0x4a5ad2[_0x33a46d][_0x2627a1][_0xc8b845(0x9ce)](_0xb10569=>{const _0x3bd855=_0xc8b845,_0x57df9e=_0xb10569['id'],_0x27801d=_0xb10569[_0x3bd855(0xee3)]||[],_0x1ee9d5=_0x27801d['length']>0x0,_0x1dfefd=_0xb10569[_0x3bd855(0x4dc)]===_0x3bd855(0x4ff);let _0x31dfdc='';_0x1ee9d5?_0x31dfdc=_0x3bd855(0x71a)+_0x27801d[_0x3bd855(0x83b)]+'\x20ชุด)</span>':_0x31dfdc=_0x3bd855(0x856)+(_0x1dfefd?_0x3bd855(0xb42):_0x3bd855(0x89a))+'\x22>'+(_0x1dfefd?'สร้างแล้ว':_0x3bd855(0xe75))+_0x3bd855(0x935);const _0x551f9c=!_0x1dfefd?_0x3bd855(0xbc0):'',_0x131af3=!_0x1dfefd?_0x3bd855(0x60a):'';let _0x5cfb5a=_0x1dfefd?'<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>':_0x3bd855(0x8aa);_0x2288bf+=_0x3bd855(0x9af)+_0x57df9e+_0x3bd855(0xc0a)+_0xb10569[_0x3bd855(0xb98)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31dfdc+_0x3bd855(0x3bb)+_0x551f9c+_0x3bd855(0x685)+_0x131af3+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5cfb5a+_0x3bd855(0xcbd);}),_0x2288bf+='</div></div>';}_0x2288bf+='</div>';}_0x3fbd57[_0xc8b845(0x674)]=_0x2288bf;}async function handleDeepDeleteBlueprintProject(_0x450f5c){const _0x4aca4b=_0x2e2582,_0x5d0eec=doc(db,_0x4aca4b(0x509)+appId+'/public/data/blueprintProjects',_0x450f5c),_0x1ae8d0=await getDoc(_0x5d0eec);if(!_0x1ae8d0['exists']()){showMessage(_0x4aca4b(0xad8));return;}const _0xe224cc=_0x1ae8d0[_0x4aca4b(0xe5c)]()[_0x4aca4b(0x52e)];showConfirmation(_0x4aca4b(0x56d)+_0xe224cc+_0x4aca4b(0x832),async()=>{const _0x9788c3=_0x4aca4b;showMessage(_0x9788c3(0xf0f));try{const _0x2194ec=writeBatch(db),_0xeeb613=_0x1ae8d0[_0x9788c3(0xe5c)](),_0x57b050=_0xeeb613['topics']||{};for(const _0x1d33a2 in _0x57b050){const _0x50a9ae=doc(db,_0x9788c3(0x509)+appId+_0x9788c3(0x8b4)+_0x450f5c+_0x9788c3(0x4fd),_0x1d33a2);_0x2194ec[_0x9788c3(0x69c)](_0x50a9ae);}const _0x40847a=new Set();for(const _0x4bcf16 in _0x57b050){_0x57b050[_0x4bcf16][_0x9788c3(0xee3)]&&_0x57b050[_0x4bcf16][_0x9788c3(0xee3)][_0x9788c3(0x9ce)](_0xc28c1f=>_0x40847a[_0x9788c3(0xbca)](_0xc28c1f));}for(const _0x55783f of _0x40847a){await handleDeleteQuiz(_0x55783f,![]);}_0x2194ec['delete'](_0x5d0eec),await _0x2194ec['commit'](),showMessage(_0x9788c3(0x7ea)+_0xe224cc+_0x9788c3(0x1f4)),showBlueprintProjects();}catch(_0x2b6779){console[_0x9788c3(0x61c)](_0x9788c3(0xa65),_0x2b6779),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x48a78f){const _0x2e22d6=_0x2e2582,_0x3f9411=document[_0x2e22d6(0x6ec)](_0x2e22d6(0xe28)),_0x1a741f=document[_0x2e22d6(0x6ec)](_0x2e22d6(0xe83)),_0x4e6875=document[_0x2e22d6(0x6ec)](_0x2e22d6(0x3f9));try{await ensureGlobalQuizzesLoaded();const _0x3c611b=doc(db,_0x2e22d6(0x509)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x286553=await getDoc(_0x3c611b);if(!_0x286553[_0x2e22d6(0xa82)]())return;const _0x31718a=_0x286553[_0x2e22d6(0xe5c)](),_0x4cf616=_0x31718a['topics'][_0x48a78f];document[_0x2e22d6(0x6ec)]('topic-bank-subtopic-name')[_0x2e22d6(0x337)]=_0x4cf616['subTopic'];const _0x4b1fc5=_0x4cf616['linkedQuizIds']||[];_0x4e6875[_0x2e22d6(0xed5)]['toggle']('hidden',_0x4b1fc5[_0x2e22d6(0x83b)]===0x0),_0x4e6875[_0x2e22d6(0xdba)]=()=>handleClearAllLinksForTopic(_0x48a78f);if(_0x4b1fc5['length']===0x0)_0x1a741f[_0x2e22d6(0x674)]=_0x2e22d6(0x8ea);else{const _0xc65f6d=allQuizzesGlobal['filter'](_0x158cf7=>_0x4b1fc5[_0x2e22d6(0x9ee)](_0x158cf7['id']));_0x1a741f[_0x2e22d6(0x674)]=_0xc65f6d[_0x2e22d6(0x91f)](_0x1b4117=>_0x2e22d6(0xbbd)+_0x1b4117['id']+_0x2e22d6(0x31a)+_0x1b4117[_0x2e22d6(0x308)]+_0x2e22d6(0x22d)+_0x1b4117['id']+_0x2e22d6(0x71f)+_0x1b4117[_0x2e22d6(0xa08)][_0x2e22d6(0x83b)]+_0x2e22d6(0x3d3)+_0x1b4117['id']+_0x2e22d6(0x8d9)+_0x1b4117['id']+_0x2e22d6(0xde2)+_0x1b4117['id']+_0x2e22d6(0x6a2)+_0x1b4117['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22'+_0x48a78f+'\x22\x20data-quiz-id=\x22'+_0x1b4117['id']+_0x2e22d6(0x1de))[_0x2e22d6(0x8c3)]('');}document[_0x2e22d6(0x6ec)](_0x2e22d6(0x902))[_0x2e22d6(0xdba)]=()=>{openQuizSelectorForBlueprint(_0x48a78f);},document[_0x2e22d6(0x6ec)]('close-topic-bank-btn')[_0x2e22d6(0xdba)]=()=>_0x3f9411['classList']['add']('hidden'),_0x3f9411['classList'][_0x2e22d6(0xb8a)](_0x2e22d6(0x515));}catch(_0x91c12d){showMessage(_0x91c12d[_0x2e22d6(0x784)]);}}async function openQuizSelectorForBlueprint(_0x1b481e){const _0x1c5932=_0x2e2582,_0x26bc09=document[_0x1c5932(0x6ec)](_0x1c5932(0x63f)),_0x43cd18=document[_0x1c5932(0x6ec)](_0x1c5932(0xe28));_0x43cd18[_0x1c5932(0xed5)]['add']('hidden'),document[_0x1c5932(0x6ec)]('confirm-link-quiz-btn')?.[_0x1c5932(0xb8a)]();const _0x7643af=document[_0x1c5932(0xc7b)](_0x1c5932(0xb49));_0x7643af['id']=_0x1c5932(0x4be),_0x7643af[_0x1c5932(0x233)]=_0x1c5932(0x45f),_0x7643af[_0x1c5932(0x337)]=_0x1c5932(0xd79),_0x7643af['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x26bc09[_0x1c5932(0xed5)]['remove'](_0x1c5932(0x515)),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x1c5932(0x93b))['style'][_0x1c5932(0x35a)]='none',_0x26bc09[_0x1c5932(0x427)](_0x1c5932(0x8d6))[_0x1c5932(0xa8b)](_0x7643af);const _0x3fa026=(_0xb4bd39=![])=>{const _0x4d7fa9=_0x1c5932;_0x26bc09['classList'][_0x4d7fa9(0xbca)](_0x4d7fa9(0x515)),document[_0x4d7fa9(0x6ec)]('bulk-quiz-settings-btn')[_0x4d7fa9(0xdb7)][_0x4d7fa9(0x35a)]=_0x4d7fa9(0x5fd),_0x7643af['remove'](),_0xb4bd39&&openTopicQuizBank(_0x1b481e);};_0x7643af[_0x1c5932(0xdba)]=async()=>{const _0xdc326e=_0x1c5932,_0x15cb5d=Array[_0xdc326e(0x30a)](document[_0xdc326e(0xcf1)]('.quiz-bank-checkbox:checked'))['map'](_0x467415=>_0x467415[_0xdc326e(0x8c2)]);if(_0x15cb5d[_0xdc326e(0x83b)]===0x0)return;try{const _0x4e6b4e=doc(db,'artifacts/'+appId+_0xdc326e(0x9d8),currentBlueprintProjectId),_0x574bc3=(await getDoc(_0x4e6b4e))['data'](),_0x4a20c5=_0x574bc3['topics'][_0x1b481e][_0xdc326e(0xee3)]||[],_0xe168be=[...new Set([..._0x4a20c5,..._0x15cb5d])];await updateDoc(_0x4e6b4e,{['topics.'+_0x1b481e+'.linkedQuizIds']:_0xe168be}),showMessage('เพิ่ม\x20'+_0x15cb5d[_0xdc326e(0x83b)]+_0xdc326e(0xd74)),_0x3fa026(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2a6e85){console[_0xdc326e(0x61c)]('Error\x20linking\x20quizzes:',_0x2a6e85);}},document[_0x1c5932(0x6ec)](_0x1c5932(0x879))[_0x1c5932(0xdba)]=()=>_0x3fa026(!![]);}catch(_0x30af41){showMessage(_0x30af41[_0x1c5932(0x784)]),_0x43cd18[_0x1c5932(0xed5)][_0x1c5932(0xb8a)](_0x1c5932(0x515));}}function handleClearLinkedQuiz(_0x324840){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x366433=_0x5f2f;try{const _0x2b884c=doc(db,'artifacts/'+appId+_0x366433(0x9d8),currentBlueprintProjectId);await updateDoc(_0x2b884c,{[_0x366433(0xabf)+_0x324840+_0x366433(0xc9a)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3c1569){console['error'](_0x366433(0x295),_0x3c1569),showMessage(_0x366433(0x6aa));}});}async function addTopicToProject(){const _0x27e3ea=_0x2e2582,_0x5f5692=prompt(_0x27e3ea(0xaa2));if(!_0x5f5692||_0x5f5692['trim']()==='')return;const _0x19d013=prompt(_0x27e3ea(0x8f2),_0x27e3ea(0x89e)),_0x587660=prompt(_0x27e3ea(0xf2f),_0x27e3ea(0x575)),_0x14815a='topic_'+Date[_0x27e3ea(0xbf5)]()+Math['random']()[_0x27e3ea(0xe25)](0x24)[_0x27e3ea(0x22a)](0x2,0x9),_0x23fe57={'sara':_0x19d013,'mainTopic':_0x587660,'subTopic':_0x5f5692[_0x27e3ea(0xdd8)](),'status':_0x27e3ea(0x3fa),'lessonContent':null};try{const _0xc0b79f=doc(db,_0x27e3ea(0x509)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0xc0b79f,{[_0x27e3ea(0xabf)+_0x14815a]:_0x23fe57}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5f497d){console[_0x27e3ea(0x61c)]('Error\x20adding\x20topic:',_0x5f497d),showMessage(_0x27e3ea(0x5d9));}}async function editTopicInProject(_0x5c1238){const _0x388d46=_0x2e2582,_0x533bc2=document[_0x388d46(0x427)](_0x388d46(0x683)+_0x5c1238+'\x22]'),_0x4ef0a8=_0x533bc2[_0x388d46(0x427)](_0x388d46(0xb70)),_0x641900=_0x4ef0a8[_0x388d46(0x337)],_0x4a1c65=prompt(_0x388d46(0xc16),_0x641900);if(!_0x4a1c65||_0x4a1c65['trim']()===''||_0x4a1c65[_0x388d46(0xdd8)]()===_0x641900)return;try{const _0x1cda75=doc(db,_0x388d46(0x509)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x1cda75,{[_0x388d46(0xabf)+_0x5c1238+_0x388d46(0x24a)]:_0x4a1c65[_0x388d46(0xdd8)]()}),_0x4ef0a8['textContent']=_0x4a1c65['trim'](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x1ada08){console[_0x388d46(0x61c)](_0x388d46(0x3c1),_0x1ada08),showMessage(_0x388d46(0x1e3));}}async function deleteTopicFromProject(_0x3f80a1){const _0x45b7e6=_0x2e2582;if(!confirm(_0x45b7e6(0x848)))return;try{const _0x11e3e9=doc(db,_0x45b7e6(0x509)+appId+_0x45b7e6(0x9d8),currentBlueprintProjectId);await updateDoc(_0x11e3e9,{[_0x45b7e6(0xabf)+_0x3f80a1]:deleteField()}),document[_0x45b7e6(0x427)](_0x45b7e6(0x683)+_0x3f80a1+'\x22]')[_0x45b7e6(0xb8a)](),showMessage(_0x45b7e6(0x459));}catch(_0x4089af){console['error']('Error\x20deleting\x20topic:',_0x4089af),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x535383,_0x555f7c,_0x1b2693){handleGenerateAndShowLesson(_0x555f7c,_0x1b2693);const _0x25afe8=setInterval(async()=>{const _0x49a421=_0x5f2f,_0x2cd8b8=document[_0x49a421(0x6ec)](_0x49a421(0x909)),_0x135751=_0x2cd8b8[_0x49a421(0xed5)][_0x49a421(0x84c)](_0x49a421(0x515));if(_0x135751){clearInterval(_0x25afe8);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x2d2d80={'point':document['getElementById'](_0x49a421(0x898))[_0x49a421(0x674)],'memory':document[_0x49a421(0x6ec)](_0x49a421(0xcec))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x49a421(0x6ec)](_0x49a421(0xa64))[_0x49a421(0x674)]};try{const _0x13a382=doc(db,_0x49a421(0x509)+appId+_0x49a421(0x9d8),currentBlueprintProjectId),_0x1e086a=doc(db,_0x49a421(0x509)+appId+_0x49a421(0x8b4)+currentBlueprintProjectId+_0x49a421(0x4fd),_0x535383),_0x108b37=writeBatch(db);_0x108b37[_0x49a421(0x63c)](_0x1e086a,{'content':_0x2d2d80}),_0x108b37[_0x49a421(0xf45)](_0x13a382,{[_0x49a421(0xabf)+_0x535383+_0x49a421(0x354)]:_0x49a421(0x4ff)}),await _0x108b37[_0x49a421(0xc42)](),console['log'](_0x49a421(0xf17)+_0x535383+_0x49a421(0x7ca)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xd1b5d9){console[_0x49a421(0x61c)](_0x49a421(0x5d6),_0xd1b5d9);}}}},0x3e8);}function displayHalfMarkResult(_0x5e1f7f,_0x2341f6){const _0x35b534=_0x2e2582,_0x5d0ab7=_0x5e1f7f>=_0x2341f6/0x2,_0x16fd1a=_0x5d0ab7?_0x35b534(0x220):_0x35b534(0xf12),_0x710b84=_0x5d0ab7?_0x35b534(0x888):_0x35b534(0xb9c),_0x49261c=_0x5d0ab7?'text-green-800':_0x35b534(0xd73),_0x4126dc=_0x5d0ab7?_0x35b534(0x72b):_0x35b534(0xf4d),_0x31b789=_0x5d0ab7?_0x35b534(0xbcb):_0x35b534(0x4b2);let _0x27d799=_0x35b534(0xd27)+_0x16fd1a+_0x35b534(0xf3c)+_0x710b84+_0x35b534(0x3ce)+_0x49261c+_0x35b534(0xef4)+_0x4126dc+_0x35b534(0xdf1)+_0x31b789+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x35b534(0x674)]=_0x27d799,studentResultArea[_0x35b534(0xed5)][_0x35b534(0xb8a)](_0x35b534(0x515)),studentQuizArea['classList'][_0x35b534(0xbca)](_0x35b534(0x515)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x5d0ab7});}function displayPerfectScoreResult(_0x1982cb,_0x53e33){const _0x43a9a6=_0x2e2582,_0x2cbb12=_0x1982cb===_0x53e33,_0x540195=_0x2cbb12?_0x43a9a6(0x53a):_0x43a9a6(0x1d8),_0x3ee3f3=_0x2cbb12?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x43a9a6(0x6f1),_0x2587fd=_0x2cbb12?_0x43a9a6(0x6f3):_0x43a9a6(0xba0),_0x5b1b3b=_0x2cbb12?_0x43a9a6(0xde6):_0x43a9a6(0xe43),_0x50c1a5=_0x2cbb12?_0x43a9a6(0xa27):_0x43a9a6(0x931);let _0x26c6aa=_0x43a9a6(0xd27)+_0x540195+_0x43a9a6(0xf3c)+_0x3ee3f3+_0x43a9a6(0x3ce)+_0x2587fd+_0x43a9a6(0xef4)+_0x5b1b3b+_0x43a9a6(0xdf1)+_0x50c1a5+_0x43a9a6(0x4c9);studentResultArea[_0x43a9a6(0x674)]=_0x26c6aa,studentResultArea['classList'][_0x43a9a6(0xb8a)](_0x43a9a6(0x515)),studentQuizArea['classList'][_0x43a9a6(0xbca)](_0x43a9a6(0x515)),setupResultScreenBackButton({'showRankings':![],'score':_0x1982cb,'totalQuestions':_0x53e33});}function renderIndividualComparisonTable(_0x444950,_0x22d4f2){const _0x174622=_0x2e2582;_0x444950['sort']((_0x19bf6e,_0x233729)=>(_0x233729['tGain']??-Infinity)-(_0x19bf6e[_0x174622(0x5d7)]??-Infinity));let _0x20d8ba=_0x174622(0x43e);_0x444950[_0x174622(0x83b)]===0x0?_0x20d8ba+=_0x174622(0x3ca):_0x444950['forEach']((_0x353353,_0x2019a4)=>{const _0x2d225f=_0x174622;let _0x562966='-',_0x414a48='';if(_0x353353[_0x2d225f(0x663)]!==null){const _0x28c7ca=_0x353353[_0x2d225f(0x663)]>0x0?_0x2d225f(0xaed):_0x353353['gain']<0x0?'text-red-600':_0x2d225f(0xcab),_0x4d0e87=_0x353353['gain']>0x0?'+':'';_0x562966=_0x2d225f(0x6c5)+_0x28c7ca+'\x22>'+_0x4d0e87+_0x353353[_0x2d225f(0x663)]+'</span>';if(_0x353353['gain']>0x0)_0x414a48='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x353353['gain']<0x0?_0x414a48='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x414a48=_0x2d225f(0xbb2);}let _0x5454d6='-';if(_0x353353['tGain']!==null){const _0x5e29e6=_0x353353['tGain']>0x0?_0x2d225f(0xaed):_0x353353['tGain']<0x0?_0x2d225f(0x7dd):_0x2d225f(0xcab),_0x2abf36=_0x353353[_0x2d225f(0x5d7)]>0x0?'+':'';_0x5454d6=_0x2d225f(0x6c5)+_0x5e29e6+'\x22>'+_0x2abf36+_0x353353[_0x2d225f(0x5d7)][_0x2d225f(0xd15)](0x2)+'</span>';}_0x20d8ba+=_0x2d225f(0xada)+(_0x2019a4+0x1)+_0x2d225f(0xb6a)+_0x353353['name']+_0x2d225f(0x5dd)+(_0x353353[_0x2d225f(0x936)]??'-')+_0x2d225f(0xbc3)+(_0x353353['postScore']??'-')+_0x2d225f(0x5dd)+_0x562966+_0x2d225f(0xa07)+_0x414a48+_0x2d225f(0x428)+(_0x353353['preTScore']?.[_0x2d225f(0xd15)](0x2)??'-')+_0x2d225f(0xb24)+(_0x353353['postTScore']?.[_0x2d225f(0xd15)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x5454d6+_0x2d225f(0x954);}),_0x20d8ba+='</tbody></table></div>',_0x22d4f2[_0x174622(0x674)]=_0x20d8ba;}function handleRenameQuiz(_0x5a4554,_0xa1d427){const _0x131101=_0x2e2582;actionTargetId=_0x5a4554,document['getElementById'](_0x131101(0xf38))[_0x131101(0x8c2)]=_0xa1d427,renameQuizModal[_0x131101(0xed5)][_0x131101(0xb8a)]('hidden');}function setupComparisonModalTabs(){const _0x3e6bb9=_0x2e2582,_0x4b9fc0=document[_0x3e6bb9(0x6ec)](_0x3e6bb9(0x534)),_0x33b445=document[_0x3e6bb9(0x6ec)](_0x3e6bb9(0xbe5)),_0x4c65c4=document['getElementById']('comparison-overall-content'),_0x1cf897=document[_0x3e6bb9(0x6ec)](_0x3e6bb9(0xa94));_0x4b9fc0[_0x3e6bb9(0x504)](_0x3e6bb9(0x7b0),()=>{const _0x3ceb04=_0x3e6bb9;_0x4b9fc0[_0x3ceb04(0xed5)][_0x3ceb04(0xbca)](_0x3ceb04(0xb3d)),_0x33b445[_0x3ceb04(0xed5)][_0x3ceb04(0xb8a)](_0x3ceb04(0xb3d)),_0x4c65c4[_0x3ceb04(0xed5)][_0x3ceb04(0xb8a)](_0x3ceb04(0x515)),_0x1cf897[_0x3ceb04(0xed5)][_0x3ceb04(0xbca)](_0x3ceb04(0x515));}),_0x33b445[_0x3e6bb9(0x504)](_0x3e6bb9(0x7b0),()=>{const _0x53f92d=_0x3e6bb9;_0x33b445[_0x53f92d(0xed5)]['add'](_0x53f92d(0xb3d)),_0x4b9fc0[_0x53f92d(0xed5)]['remove'](_0x53f92d(0xb3d)),_0x1cf897[_0x53f92d(0xed5)][_0x53f92d(0xb8a)]('hidden'),_0x4c65c4[_0x53f92d(0xed5)][_0x53f92d(0xbca)](_0x53f92d(0x515));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x3060d7=_0x2e2582;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1f4612=doc(db,_0x3060d7(0x509)+appId+_0x3060d7(0x98f),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1f4612,_0x16344f=>{const _0x306967=_0x3060d7;if(!_0x16344f[_0x306967(0xa82)]()){showMessage(_0x306967(0x511));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x306967(0x2dd)?showView(_0x306967(0x641)):showView(_0x306967(0x4d0));return;}const _0xa7c1f1=_0x16344f['data']();_0xa7c1f1['shuffledQuiz']&&(currentQuizData=_0xa7c1f1[_0x306967(0x23c)]);!currentQuizData&&_0xa7c1f1['quizId']&&((async()=>{const _0x19e41b=_0x306967;try{const _0x1f8a77=doc(db,'artifacts/'+appId+_0x19e41b(0x2d1),_0xa7c1f1[_0x19e41b(0x3ac)]),_0x236c99=await getDoc(_0x1f8a77);_0x236c99[_0x19e41b(0xa82)]()&&(currentQuizData={'id':_0x236c99['id'],..._0x236c99[_0x19e41b(0xe5c)]()});}catch(_0x159065){console[_0x19e41b(0x61c)](_0x19e41b(0x58b),_0x159065);}})());switch(_0xa7c1f1[_0x306967(0x4dc)]){case'lobby':if(currentMode===_0x306967(0x2dd)){const _0x2028e3=_0xa7c1f1['players']?Object[_0x306967(0x81d)](_0xa7c1f1[_0x306967(0x21d)]):[],_0x28462d=_0x2028e3[_0x306967(0xe4e)](([_0x73af2f,_0xff3e1e])=>_0xff3e1e['status']===_0x306967(0xb3d)),_0x8e529c=document[_0x306967(0x6ec)](_0x306967(0x558));if(_0x8e529c)_0x8e529c['textContent']=_0x28462d[_0x306967(0x83b)];const _0x2b0aa7=document[_0x306967(0x6ec)](_0x306967(0xe2e));_0x2b0aa7&&(_0x2b0aa7[_0x306967(0x674)]=_0x28462d[_0x306967(0x91f)](([_0xe7edc6,_0x50ca02])=>_0x306967(0xad2)+_0xe7edc6+_0x306967(0xb8d)+_0xe7edc6+_0x306967(0x36b))[_0x306967(0x8c3)](''));const _0x1243f7=document['getElementById']('start-game-btn');_0x1243f7&&(_0x1243f7[_0x306967(0x736)]=_0x28462d[_0x306967(0x83b)]===0x0);}else showView(_0x306967(0x37e)),liveGameView['innerHTML']=_0x306967(0xcce)+currentStudentName+_0x306967(0x60d);break;case _0x306967(0x77c):const _0x1ba8d7=_0xa7c1f1[_0x306967(0x5fb)];if(currentQuizData&&currentQuizData[_0x306967(0xa08)][_0x1ba8d7]){const _0x254d03=currentQuizData['questions'][_0x1ba8d7],_0x5d8d04=_0xa7c1f1[_0x306967(0xdff)]||_0x306967(0xc46);switch(_0x5d8d04){case _0x306967(0x5ac):currentMode===_0x306967(0x2dd)?showAdminSummaryView(_0xa7c1f1,_0x254d03):showPlayerSummaryView(_0xa7c1f1,currentStudentName);break;case _0x306967(0xf31):currentMode===_0x306967(0x2dd)&&showTop5LeaderboardView(_0xa7c1f1);break;case _0x306967(0xc46):default:if(currentMode===_0x306967(0x2dd)){const _0x12c02f=writeBatch(db);let _0x3c9c18=![];Object['entries'](_0xa7c1f1[_0x306967(0x21d)])[_0x306967(0x9ce)](([_0x3b2b67,_0x4d4b05])=>{const _0x315834=_0x306967;if(_0x4d4b05['status']===_0x315834(0xb3d)&&_0x4d4b05[_0x315834(0xac2)]&&!_0x4d4b05[_0x315834(0xa3e)]){_0x3c9c18=!![];const _0x23e63d=_0x4d4b05[_0x315834(0xac2)][_0x315834(0x920)]()-_0xa7c1f1[_0x315834(0xeb8)][_0x315834(0x920)]();let _0x4841ff=0x0;if(_0x4d4b05[_0x315834(0xd70)]){const _0x375533=0x3e8,_0x3826d6=0x1f4,_0x14b9c6=0x4e20;let _0x55d72c=_0x23e63d/_0x14b9c6;if(_0x55d72c>0x1)_0x55d72c=0x1;const _0x4a0615=Math[_0x315834(0xa75)](_0x55d72c*_0x3826d6);_0x4841ff=_0x375533-_0x4a0615;}const _0x3a4d47=doc(db,_0x315834(0x509)+appId+_0x315834(0x98f),currentLiveGameId);_0x12c02f[_0x315834(0xf45)](_0x3a4d47,{[_0x315834(0xa3c)+_0x3b2b67+_0x315834(0x453)]:increment(_0x4841ff),[_0x315834(0xa3c)+_0x3b2b67+_0x315834(0xa53)]:_0x4841ff,[_0x315834(0xa3c)+_0x3b2b67+_0x315834(0x2de)]:!![]});}});_0x3c9c18&&_0x12c02f[_0x306967(0xc42)]()[_0x306967(0x4ec)](_0x5d14fc=>console['error'](_0x306967(0xaba),_0x5d14fc));lastRenderedAdminQuestionIndex!==_0x1ba8d7&&(showAdminLiveQuestionView(_0x254d03,_0x1ba8d7,currentQuizData['questions'][_0x306967(0x83b)]),lastRenderedAdminQuestionIndex=_0x1ba8d7);const _0x1b6eff=_0xa7c1f1[_0x306967(0x21d)]||{},_0x3613db=Object[_0x306967(0x586)](_0x1b6eff)[_0x306967(0xe4e)](_0x37ec96=>_0x37ec96[_0x306967(0x4dc)]==='active'),_0x3ce9dc=_0x3613db[_0x306967(0x83b)],_0xa51064=_0x3613db[_0x306967(0xe4e)](_0x2df88b=>_0x2df88b[_0x306967(0x4b4)]===!![])[_0x306967(0x83b)],_0x37770d=document['getElementById'](_0x306967(0x9e3));if(_0x37770d)_0x37770d['textContent']=_0xa51064+'/'+_0x3ce9dc;const _0x402d3e=document['getElementById']('live-player-list');if(_0x402d3e){let _0x577f2f=Object['entries'](_0x1b6eff)['filter'](([_0x592c77,_0x30992d])=>_0x30992d[_0x306967(0x4dc)]===_0x306967(0xb3d))[_0x306967(0x91f)](([_0x5520b7,_0x591d72])=>{const _0x2d8164=_0x306967,_0x516267=_0x591d72[_0x2d8164(0x4b4)]===!![],_0x46c400=_0x516267?_0x2d8164(0x411):_0x2d8164(0xab2),_0x23310a=_0x516267?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x2d8164(0x801)+_0x46c400+_0x2d8164(0xadd)+_0x23310a+_0x2d8164(0xe03)+_0x5520b7+_0x2d8164(0x98c)+_0x5520b7+_0x2d8164(0x5e8);})[_0x306967(0x8c3)]('');_0x402d3e[_0x306967(0x674)]=_0x577f2f||_0x306967(0xe71);}_0x3ce9dc>0x0&&_0xa51064===_0x3ce9dc&&revealAnswerForAdmin(_0x1ba8d7,currentQuizData[_0x306967(0xa08)][_0x306967(0x83b)]);}else{const _0x45553e=_0xa7c1f1['players'][currentStudentName];_0x45553e&&!_0x45553e['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x254d03,_0x1ba8d7,currentQuizData[_0x306967(0xa08)]['length']);}break;}}break;case _0x306967(0x709):showPodiumView(_0xa7c1f1[_0x306967(0x21d)],_0x306967(0xeee));break;}});}async function openGlobalActivityModal(){const _0xe201b8=_0x2e2582;if(allQuizzesGlobal[_0xe201b8(0x83b)]===0x0){const _0xc57f0a=await getDocs(collection(db,_0xe201b8(0x509)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0xc57f0a[_0xe201b8(0x875)]['map'](_0x4c8a0d=>({'id':_0x4c8a0d['id'],..._0x4c8a0d[_0xe201b8(0xe5c)]()}));}renderGlobalActivityList(''),document['getElementById'](_0xe201b8(0xad9))['classList'][_0xe201b8(0xb8a)]('hidden');}function renderGlobalActivityList(_0x535d2f=''){const _0x21b59b=_0x2e2582,_0xeab17b=document[_0x21b59b(0x6ec)](_0x21b59b(0xb84)),_0x150310=_0x535d2f[_0x21b59b(0x3be)]()[_0x21b59b(0xdd8)](),_0x350e26=allQuizzesGlobal[_0x21b59b(0x91f)](_0x3f1d05=>({..._0x3f1d05,'projectName':allProjects[_0x21b59b(0x426)](_0x3ce446=>_0x3ce446['id']===_0x3f1d05[_0x21b59b(0x6ea)])?.[_0x21b59b(0x52e)]||_0x21b59b(0xaf9)}))[_0x21b59b(0xe4e)](_0x1db06f=>(_0x1db06f[_0x21b59b(0x308)]||'')['toLowerCase']()[_0x21b59b(0x9ee)](_0x150310)||(_0x1db06f[_0x21b59b(0x52e)]||'')[_0x21b59b(0x3be)]()[_0x21b59b(0x9ee)](_0x150310));document['getElementById']('global-quiz-count')[_0x21b59b(0x337)]='('+_0x350e26['length']+_0x21b59b(0x28a),_0xeab17b['innerHTML']=_0x350e26['length']?_0x350e26['map'](_0x4bcf55=>_0x21b59b(0x58e)+(_0x4bcf55['topic']||_0x21b59b(0x50a))+_0x21b59b(0x523)+(_0x4bcf55[_0x21b59b(0xa08)]?.[_0x21b59b(0x83b)]||0x0)+_0x21b59b(0xe67)+_0x4bcf55[_0x21b59b(0x52e)]+_0x21b59b(0xc35)+_0x4bcf55['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4bcf55['id']+_0x21b59b(0xae3))[_0x21b59b(0x8c3)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x451232){const _0x2f4408=_0x2e2582;if(!currentLiveGameId||!_0x451232)return;const _0x205647=doc(db,_0x2f4408(0x509)+appId+'/public/data/liveGames',currentLiveGameId),_0x29b26d={};_0x29b26d[_0x2f4408(0xa3c)+_0x451232+_0x2f4408(0x354)]=_0x2f4408(0xace);try{await updateDoc(_0x205647,_0x29b26d);}catch(_0x2fe808){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x451232+':',_0x2fe808),showMessage(_0x2f4408(0x55c));}}async function authenticateUser(){const _0x47db65=_0x2e2582;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x57eefc){console[_0x47db65(0x61c)](_0x47db65(0x764),_0x57eefc),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x12ad14){const _0x3a3c9f=_0x2e2582;adminView[_0x3a3c9f(0xed5)][_0x3a3c9f(0xbca)](_0x3a3c9f(0x515)),studentView[_0x3a3c9f(0xed5)][_0x3a3c9f(0xbca)](_0x3a3c9f(0x515)),projectDashboardView[_0x3a3c9f(0xed5)][_0x3a3c9f(0xbca)](_0x3a3c9f(0x515)),projectDetailView['classList'][_0x3a3c9f(0xbca)](_0x3a3c9f(0x515)),quizResultsView['classList'][_0x3a3c9f(0xbca)](_0x3a3c9f(0x515)),liveGameView[_0x3a3c9f(0xed5)][_0x3a3c9f(0xbca)]('hidden'),document['getElementById'](_0x3a3c9f(0xc10))['classList'][_0x3a3c9f(0xbca)](_0x3a3c9f(0x515)),studentInitialView[_0x3a3c9f(0xed5)]['add']('hidden'),studentJoinGameView['classList'][_0x3a3c9f(0xbca)]('hidden'),studentNameSelectionView[_0x3a3c9f(0xed5)][_0x3a3c9f(0xbca)](_0x3a3c9f(0x515)),studentQuizArea['classList'][_0x3a3c9f(0xbca)](_0x3a3c9f(0x515)),studentResultArea[_0x3a3c9f(0xed5)][_0x3a3c9f(0xbca)](_0x3a3c9f(0x515)),studentReadingArea[_0x3a3c9f(0xed5)][_0x3a3c9f(0xbca)]('hidden');const _0x17abaa=document[_0x3a3c9f(0x6ec)](_0x3a3c9f(0x5bd)),_0x1d30b5=document[_0x3a3c9f(0x6ec)](_0x3a3c9f(0x66b));if(_0x17abaa)_0x17abaa[_0x3a3c9f(0xed5)]['add'](_0x3a3c9f(0x515));if(_0x1d30b5)_0x1d30b5[_0x3a3c9f(0xed5)][_0x3a3c9f(0xbca)]('hidden');switch(_0x12ad14){case _0x3a3c9f(0x2da):adminView[_0x3a3c9f(0xed5)]['remove'](_0x3a3c9f(0x515)),projectDashboardView[_0x3a3c9f(0xed5)][_0x3a3c9f(0xb8a)](_0x3a3c9f(0x515));break;case _0x3a3c9f(0x641):adminView[_0x3a3c9f(0xed5)]['remove'](_0x3a3c9f(0x515)),projectDetailView[_0x3a3c9f(0xed5)][_0x3a3c9f(0xb8a)](_0x3a3c9f(0x515));break;case _0x3a3c9f(0xcb0):adminView['classList']['remove'](_0x3a3c9f(0x515)),quizResultsView[_0x3a3c9f(0xed5)][_0x3a3c9f(0xb8a)]('hidden');break;case'student':studentView[_0x3a3c9f(0xed5)][_0x3a3c9f(0xb8a)](_0x3a3c9f(0x515)),studentInitialView[_0x3a3c9f(0xed5)]['remove']('hidden');break;case _0x3a3c9f(0x37e):liveGameView[_0x3a3c9f(0xed5)][_0x3a3c9f(0xb8a)]('hidden');break;case _0x3a3c9f(0x803):studentView[_0x3a3c9f(0xed5)]['remove'](_0x3a3c9f(0x515));if(_0x17abaa)_0x17abaa[_0x3a3c9f(0xed5)][_0x3a3c9f(0xb8a)](_0x3a3c9f(0x515));break;case _0x3a3c9f(0xb43):studentView['classList'][_0x3a3c9f(0xb8a)](_0x3a3c9f(0x515));if(_0x1d30b5)_0x1d30b5[_0x3a3c9f(0xed5)][_0x3a3c9f(0xb8a)](_0x3a3c9f(0x515));break;default:studentView[_0x3a3c9f(0xed5)][_0x3a3c9f(0xb8a)]('hidden'),studentInitialView['classList'][_0x3a3c9f(0xb8a)]('hidden');break;}}function showJoinGameView(){const _0xc3420e=_0x2e2582;studentInitialView[_0xc3420e(0xed5)][_0xc3420e(0xbca)]('hidden'),studentJoinGameView[_0xc3420e(0xed5)][_0xc3420e(0xb8a)](_0xc3420e(0x515));}async function handleSaveVisibilitySettings(){const _0x48b3ae=_0x2e2582;if(!currentProjectId)return;const _0x4f8f7d=doc(db,_0x48b3ae(0x509)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x4f8f7d,{'settings.showInStudentDashboard':document['getElementById'](_0x48b3ae(0xa11))[_0x48b3ae(0xa0a)],'settings.isPasscodeEnabled':document['getElementById'](_0x48b3ae(0xe6b))['checked'],'settings.passcode':document[_0x48b3ae(0x6ec)]('project-passcode-input')[_0x48b3ae(0x8c2)][_0x48b3ae(0xdd8)]()}),showMessage(_0x48b3ae(0x2e4));}catch(_0x5c1f15){console[_0x48b3ae(0x61c)](_0x48b3ae(0x960),_0x5c1f15),showMessage(_0x48b3ae(0xcdd));}}function setupEventListeners(){const _0x35608c=_0x2e2582,_0x3dc0c7=document[_0x35608c(0x6ec)](_0x35608c(0x61e)),_0x343e18=document[_0x35608c(0x6ec)](_0x35608c(0x424));_0x3dc0c7&&_0x343e18&&(_0x343e18['addEventListener'](_0x35608c(0x7b0),()=>_0x3dc0c7[_0x35608c(0x7b0)]()),_0x3dc0c7[_0x35608c(0x504)](_0x35608c(0xefa),_0x373c0b=>{const _0xed4e8a=_0x35608c;_0x373c0b['target'][_0xed4e8a(0x29f)][_0xed4e8a(0x83b)]>0x0&&handleScanImageForText(_0x373c0b['target'][_0xed4e8a(0x29f)][0x0]);}));const _0x31fce1=document[_0x35608c(0x6ec)](_0x35608c(0xb2e));_0x31fce1&&_0x31fce1[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x3f9308=_0x35608c,_0x2a5731=document['getElementById'](_0x3f9308(0x953)),_0x4b3abd=document[_0x3f9308(0x6ec)](_0x3f9308(0x859));_0x2a5731&&(_0x2a5731[_0x3f9308(0x8c2)]=_0x2a5731[_0x3f9308(0xd94)],_0x4b3abd&&(_0x4b3abd[_0x3f9308(0x337)]=_0x2a5731[_0x3f9308(0x8c2)],_0x4b3abd['classList']['remove'](_0x3f9308(0x680)),void _0x4b3abd[_0x3f9308(0x98e)],_0x4b3abd[_0x3f9308(0xed5)][_0x3f9308(0xbca)](_0x3f9308(0x313),_0x3f9308(0x887),'scale-125',_0x3f9308(0x7dd)),setTimeout(()=>_0x4b3abd[_0x3f9308(0xed5)][_0x3f9308(0xb8a)]('scale-125','text-red-600'),0xc8)));});document['getElementById'](_0x35608c(0xd9a))['addEventListener'](_0x35608c(0x7b0),()=>{const _0x290d5a=_0x35608c;document['getElementById']('wager-modal')[_0x290d5a(0xed5)][_0x290d5a(0xbca)](_0x290d5a(0x515));}),document['getElementById'](_0x35608c(0xee6))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x25014d=_0x35608c,_0x2a4698=document[_0x25014d(0x6ec)](_0x25014d(0x5c5)),_0x529c42=document[_0x25014d(0x6ec)](_0x25014d(0xb62)),_0x1546a6=document['getElementById'](_0x25014d(0x953))[_0x25014d(0x8c2)],_0x2b7ed9=_0x529c42['dataset'][_0x25014d(0x74a)],_0x473b15=JSON[_0x25014d(0xbbc)](_0x529c42[_0x25014d(0x261)]['question']),_0x43d26d=JSON['parse'](_0x529c42[_0x25014d(0x261)][_0x25014d(0xb41)]),_0x161662=_0x529c42['dataset'][_0x25014d(0xdd6)];_0x2a4698[_0x25014d(0xed5)][_0x25014d(0xbca)](_0x25014d(0x515)),handleSyncAnswerSubmit(_0x2b7ed9,_0x473b15,_0x43d26d,_0x161662,![],_0x1546a6);}),document[_0x35608c(0xcf1)](_0x35608c(0xecc))['forEach'](_0x3070ec=>{const _0xe98763=_0x35608c;_0x3070ec[_0xe98763(0x504)](_0xe98763(0xefa),_0x33d60e=>{const _0x521680=_0xe98763,_0x235684=document[_0x521680(0x6ec)](_0x521680(0xa6e));_0x33d60e[_0x521680(0x8dd)][_0x521680(0x8c2)]===_0x521680(0x3f4)?_0x235684['classList']['remove'](_0x521680(0x515)):_0x235684['classList'][_0x521680(0xbca)]('hidden');});}),document[_0x35608c(0x6ec)](_0x35608c(0x9b3))['addEventListener']('change',_0x10813f=>{const _0x55c4e0=_0x35608c;document['getElementById'](_0x55c4e0(0xa78))['classList'][_0x55c4e0(0x6dd)](_0x55c4e0(0x515),!_0x10813f[_0x55c4e0(0x8dd)]['checked']);});const _0x480503=document[_0x35608c(0x6ec)](_0x35608c(0x1c8)),_0x51df51=document[_0x35608c(0x6ec)](_0x35608c(0x6f7));_0x480503&&_0x51df51&&_0x480503[_0x35608c(0x504)]('click',()=>{const _0x510dd3=_0x35608c;_0x51df51[_0x510dd3(0xed5)]['add']('hidden'),_0x51df51[_0x510dd3(0x261)]['currentMode']='';});const _0x4af506=document[_0x35608c(0x6ec)](_0x35608c(0xd7c));_0x4af506&&(_0x4af506['addEventListener'](_0x35608c(0x5d3),wakeUpScreen),_0x4af506[_0x35608c(0x504)]('touchstart',wakeUpScreen));document[_0x35608c(0x6ec)]('save-bp-reference-btn')[_0x35608c(0x504)]('click',async()=>{const _0x173c0a=_0x35608c;if(!currentBlueprintProjectId)return;const _0x2a021c=document[_0x173c0a(0x6ec)](_0x173c0a(0x2e9))[_0x173c0a(0x8c2)][_0x173c0a(0xdd8)](),_0xc76167=doc(db,_0x173c0a(0x509)+appId+_0x173c0a(0x9d8),currentBlueprintProjectId);try{await updateDoc(_0xc76167,{'referenceFileUrl':_0x2a021c}),showMessage(_0x173c0a(0x7e8));}catch(_0x549e65){console[_0x173c0a(0x61c)](_0x173c0a(0xc87),_0x549e65),showMessage(_0x173c0a(0xcdd));}}),document['getElementById'](_0x35608c(0xba5))['addEventListener'](_0x35608c(0x7b0),handleAddParallelShortcutTab),document['getElementById'](_0x35608c(0x310))[_0x35608c(0x504)](_0x35608c(0x7b0),_0x1884a4=>{const _0x3d0099=_0x35608c;_0x1884a4[_0x3d0099(0x8dd)]['closest']('#open-additional-parallel-shortcuts-btn')&&(activeParallelShortcutTabId=_0x3d0099(0x5e4),renderAdditionalParallelShortcutsModal(),document[_0x3d0099(0x6ec)](_0x3d0099(0xb01))[_0x3d0099(0xed5)][_0x3d0099(0xb8a)](_0x3d0099(0x515)));}),document[_0x35608c(0x6ec)](_0x35608c(0x3e2))['addEventListener'](_0x35608c(0x7b0),()=>{const _0x444921=_0x35608c;document[_0x444921(0x6ec)](_0x444921(0xb01))[_0x444921(0xed5)][_0x444921(0xbca)](_0x444921(0x515));}),document['addEventListener'](_0x35608c(0x7b0),_0x5eaf77=>{const _0x20492d=_0x35608c;!_0x5eaf77['target'][_0x20492d(0x366)](_0x20492d(0xce9))&&document[_0x20492d(0xcf1)](_0x20492d(0xaee))['forEach'](_0x36b284=>_0x36b284[_0x20492d(0xed5)]['add'](_0x20492d(0x515)));}),document[_0x35608c(0x6ec)](_0x35608c(0xdf7))['addEventListener']('click',handleAddFileShortcutTab),document[_0x35608c(0x6ec)](_0x35608c(0x1f5))[_0x35608c(0x504)](_0x35608c(0x7b0),_0x2a75fc=>{const _0x546ad3=_0x35608c;_0x2a75fc[_0x546ad3(0x8dd)]['closest'](_0x546ad3(0xc15))&&(activeFileShortcutTabId=_0x546ad3(0x5e4),renderAdditionalFileShortcutsModal(),document[_0x546ad3(0x6ec)](_0x546ad3(0x1ef))['classList'][_0x546ad3(0xb8a)](_0x546ad3(0x515)));}),document[_0x35608c(0x6ec)]('close-additional-file-shortcuts-btn')['addEventListener'](_0x35608c(0x7b0),()=>{const _0x519933=_0x35608c;document[_0x519933(0x6ec)](_0x519933(0x1ef))[_0x519933(0xed5)][_0x519933(0xbca)](_0x519933(0x515));}),document['addEventListener'](_0x35608c(0x7b0),_0x3d5848=>{const _0x172e36=_0x35608c;!_0x3d5848[_0x172e36(0x8dd)]['closest']('.group\x5c/dropdown-file')&&document['querySelectorAll'](_0x172e36(0x9ed))[_0x172e36(0x9ce)](_0x21563b=>_0x21563b[_0x172e36(0xed5)]['add'](_0x172e36(0x515)));}),document[_0x35608c(0x6ec)]('add-shortcut-tab-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),handleAddShortcutTab),document['getElementById'](_0x35608c(0x380))[_0x35608c(0x504)]('click',_0x5e7e97=>{const _0x19adb0=_0x35608c,_0x3e9ab4=_0x5e7e97['target'][_0x19adb0(0x366)](_0x19adb0(0x820)),_0x23e077=_0x5e7e97[_0x19adb0(0x8dd)]['closest'](_0x19adb0(0xefc)),_0x218880=_0x5e7e97[_0x19adb0(0x8dd)][_0x19adb0(0x366)](_0x19adb0(0x469));if(_0x23e077)openParallelTestShortcutEditor(_0x23e077['dataset']['id']);else{if(_0x218880){const _0x5972c3=_0x218880[_0x19adb0(0x261)]['id'];showConfirmation(_0x19adb0(0x4c1),async()=>{const _0x480de1=_0x19adb0,_0x138454=parallelTestShortcuts['filter'](_0x335773=>_0x335773['id']!==_0x5972c3),_0x43f431=doc(db,_0x480de1(0x854),'parallelTestShortcutsConfig');await setDoc(_0x43f431,{'shortcuts':_0x138454},{'merge':!![]});});}else _0x3e9ab4&&handleParallelTestShortcutClick(_0x3e9ab4['dataset']['id']);}}),document[_0x35608c(0x6ec)](_0x35608c(0x7ff))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>openParallelTestShortcutEditor(null)),document[_0x35608c(0x6ec)]('cancel-parallel-shortcut-edit-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x59c187=_0x35608c;document[_0x59c187(0x6ec)]('parallel-shortcut-editor-modal')['classList']['add'](_0x59c187(0x515));}),document['getElementById'](_0x35608c(0x286))[_0x35608c(0x504)]('click',saveParallelTestShortcutChanges),document[_0x35608c(0x6ec)](_0x35608c(0x310))['addEventListener'](_0x35608c(0x7b0),_0x1d586d=>{const _0x316ad5=_0x35608c;_0x1d586d[_0x316ad5(0x8dd)][_0x316ad5(0x366)]('#open-additional-parallel-shortcuts-btn')&&document['getElementById']('additional-parallel-shortcuts-modal')[_0x316ad5(0xed5)]['remove'](_0x316ad5(0x515));}),document[_0x35608c(0x6ec)](_0x35608c(0x3e2))['addEventListener'](_0x35608c(0x7b0),()=>{const _0x4ba59f=_0x35608c;document[_0x4ba59f(0x6ec)](_0x4ba59f(0xb01))[_0x4ba59f(0xed5)][_0x4ba59f(0xbca)](_0x4ba59f(0x515));}),document[_0x35608c(0x6ec)](_0x35608c(0xf28))[_0x35608c(0x504)](_0x35608c(0x7b0),_0x29992b=>{const _0x32d4fb=_0x35608c,_0x33ba50=document['getElementById'](_0x32d4fb(0xb01)),_0x250f73=_0x29992b[_0x32d4fb(0x8dd)][_0x32d4fb(0x366)](_0x32d4fb(0x8bb)),_0x5ff93d=_0x29992b[_0x32d4fb(0x8dd)][_0x32d4fb(0x366)](_0x32d4fb(0x8c4)),_0x269eca=_0x29992b[_0x32d4fb(0x8dd)][_0x32d4fb(0x366)](_0x32d4fb(0x70c));if(_0x250f73)_0x33ba50[_0x32d4fb(0xed5)][_0x32d4fb(0xbca)](_0x32d4fb(0x515)),handleParallelTestShortcutClick(_0x250f73[_0x32d4fb(0x261)]['id']);else{if(_0x5ff93d)_0x33ba50['classList'][_0x32d4fb(0xbca)](_0x32d4fb(0x515)),openParallelTestShortcutEditor(_0x5ff93d[_0x32d4fb(0x261)]['id']);else{if(_0x269eca){const _0x2b4234=_0x269eca['dataset']['id'];showConfirmation(_0x32d4fb(0x4c1),async()=>{const _0x4e074d=_0x32d4fb,_0x62cd54=parallelTestShortcuts['filter'](_0x1c5f01=>_0x1c5f01['id']!==_0x2b4234),_0x1bb599=doc(db,_0x4e074d(0x854),'parallelTestShortcutsConfig');await setDoc(_0x1bb599,{'shortcuts':_0x62cd54},{'merge':!![]});});}}}}),document[_0x35608c(0x6ec)](_0x35608c(0x4b7))[_0x35608c(0x504)](_0x35608c(0x7b0),_0xe87478=>{const _0x1dc916=_0x35608c,_0x4b3286=_0xe87478['target'][_0x1dc916(0x366)](_0x1dc916(0x792)),_0x41d61c=_0xe87478['target']['closest']('.edit-file-shortcut-btn'),_0x1d5d60=_0xe87478[_0x1dc916(0x8dd)][_0x1dc916(0x366)]('.delete-file-shortcut-btn');if(_0x41d61c)openFileShortcutEditor(_0x41d61c[_0x1dc916(0x261)]['id']);else{if(_0x1d5d60){const _0x19d7ab=_0x1d5d60[_0x1dc916(0x261)]['id'];showConfirmation(_0x1dc916(0x4c1),async()=>{const _0x114efc=_0x1dc916,_0x40783e=fileShortcuts[_0x114efc(0xe4e)](_0x3ca902=>_0x3ca902['id']!==_0x19d7ab),_0x2e5214=doc(db,_0x114efc(0x854),_0x114efc(0xbc1));await setDoc(_0x2e5214,{'shortcuts':_0x40783e},{'merge':!![]});});}else _0x4b3286&&handleFileShortcutClick(_0x4b3286['dataset']['id']);}}),document['getElementById']('add-file-shortcut-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),()=>openFileShortcutEditor(null)),document[_0x35608c(0x6ec)](_0x35608c(0x794))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x295eb9=_0x35608c;document[_0x295eb9(0x6ec)](_0x295eb9(0xec2))['classList'][_0x295eb9(0xbca)](_0x295eb9(0x515));}),document['getElementById']('save-file-shortcut-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),saveFileShortcutChanges),document[_0x35608c(0x6ec)](_0x35608c(0x1f5))['addEventListener'](_0x35608c(0x7b0),_0x2e7e5c=>{const _0x249b56=_0x35608c;_0x2e7e5c[_0x249b56(0x8dd)]['closest'](_0x249b56(0xc15))&&document['getElementById'](_0x249b56(0x1ef))[_0x249b56(0xed5)][_0x249b56(0xb8a)](_0x249b56(0x515));}),document[_0x35608c(0x6ec)](_0x35608c(0x3b2))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x457d11=_0x35608c;document[_0x457d11(0x6ec)](_0x457d11(0x1ef))[_0x457d11(0xed5)]['add'](_0x457d11(0x515));}),document[_0x35608c(0x6ec)](_0x35608c(0x732))['addEventListener'](_0x35608c(0x7b0),_0x312c93=>{const _0x445719=_0x35608c,_0x3469aa=document['getElementById']('additional-file-shortcuts-modal'),_0x398a29=_0x312c93[_0x445719(0x8dd)][_0x445719(0x366)](_0x445719(0x5df)),_0x495c5f=_0x312c93['target']['closest'](_0x445719(0x715)),_0x359f89=_0x312c93['target'][_0x445719(0x366)](_0x445719(0xd26));if(_0x398a29)_0x3469aa[_0x445719(0xed5)][_0x445719(0xbca)](_0x445719(0x515)),handleFileShortcutClick(_0x398a29[_0x445719(0x261)]['id']);else{if(_0x495c5f)_0x3469aa[_0x445719(0xed5)][_0x445719(0xbca)](_0x445719(0x515)),openFileShortcutEditor(_0x495c5f[_0x445719(0x261)]['id']);else{if(_0x359f89){const _0x27b072=_0x359f89['dataset']['id'];showConfirmation(_0x445719(0x4c1),async()=>{const _0x5d2371=_0x445719,_0x4a4e89=fileShortcuts[_0x5d2371(0xe4e)](_0x5371ca=>_0x5371ca['id']!==_0x27b072),_0x3f3e69=doc(db,_0x5d2371(0x854),_0x5d2371(0xbc1));await setDoc(_0x3f3e69,{'shortcuts':_0x4a4e89},{'merge':!![]});});}}}}),document[_0x35608c(0x6ec)](_0x35608c(0xdfd))['addEventListener'](_0x35608c(0x7b0),_0x4e7581=>{const _0x1023c3=_0x35608c;_0x4e7581[_0x1023c3(0x8dd)][_0x1023c3(0x366)](_0x1023c3(0x20c))&&(activeShortcutTabId=_0x1023c3(0x5e4),renderAdditionalShortcutsModal(),document[_0x1023c3(0x6ec)]('additional-shortcuts-modal')['classList'][_0x1023c3(0xb8a)](_0x1023c3(0x515)));}),document[_0x35608c(0x6ec)](_0x35608c(0x390))[_0x35608c(0x504)]('click',()=>{const _0x1e47a5=_0x35608c;document['getElementById'](_0x1e47a5(0x3b5))[_0x1e47a5(0xed5)][_0x1e47a5(0xbca)](_0x1e47a5(0x515));}),document[_0x35608c(0x6ec)]('additional-shortcuts-list')[_0x35608c(0x504)](_0x35608c(0x7b0),_0xf0118d=>{const _0x8a7d5=_0x35608c,_0x16c32f=_0xf0118d['target']['closest'](_0x8a7d5(0x32e)),_0x1e5aec=_0xf0118d[_0x8a7d5(0x8dd)][_0x8a7d5(0x366)](_0x8a7d5(0xbef)),_0x516cf0=_0xf0118d[_0x8a7d5(0x8dd)][_0x8a7d5(0x366)](_0x8a7d5(0x889)),_0x3173e0=document[_0x8a7d5(0x6ec)]('additional-shortcuts-modal');if(_0x16c32f)_0x3173e0[_0x8a7d5(0xed5)][_0x8a7d5(0xbca)](_0x8a7d5(0x515)),handleShortcutClick(_0x16c32f['dataset']['id']);else{if(_0x1e5aec)_0x3173e0[_0x8a7d5(0xed5)][_0x8a7d5(0xbca)](_0x8a7d5(0x515)),openShortcutEditor(_0x1e5aec[_0x8a7d5(0x261)]['id']);else{if(_0x516cf0){const _0x23dc9c=_0x516cf0[_0x8a7d5(0x261)]['id'],_0x41b1b7=blueprintShortcuts[_0x8a7d5(0x426)](_0x4dcbd4=>_0x4dcbd4['id']===_0x23dc9c)?.[_0x8a7d5(0x47c)];showConfirmation(_0x8a7d5(0xaf3)+_0x41b1b7+'\x22?',async()=>{const _0x248e64=_0x8a7d5,_0x564bd3=blueprintShortcuts[_0x248e64(0xe4e)](_0x3fa89c=>_0x3fa89c['id']!==_0x23dc9c);try{const _0x2bd9a8=doc(db,'globalSettings',_0x248e64(0xdf3));await setDoc(_0x2bd9a8,{'blueprintShortcuts':_0x564bd3},{'merge':!![]});}catch(_0x403f53){console[_0x248e64(0x61c)](_0x248e64(0x51c),_0x403f53);}});}}}}),document[_0x35608c(0x6ec)](_0x35608c(0x70a))['addEventListener']('click',_0x4e72f5=>{const _0x5a0679=_0x35608c,_0x4b3691=_0x4e72f5['target'][_0x5a0679(0x366)]('.shortcut-btn'),_0x3fa02a=_0x4e72f5[_0x5a0679(0x8dd)]['closest'](_0x5a0679(0x8db)),_0x42351e=_0x4e72f5['target'][_0x5a0679(0x366)](_0x5a0679(0x28e));if(_0x3fa02a)openShortcutEditor(_0x3fa02a[_0x5a0679(0x261)]['id']);else{if(_0x42351e){const _0x1eb0ea=_0x42351e['dataset']['id'],_0x21c3c2=blueprintShortcuts[_0x5a0679(0x426)](_0x1dafe9=>_0x1dafe9['id']===_0x1eb0ea)?.[_0x5a0679(0x47c)];showConfirmation(_0x5a0679(0xaf3)+_0x21c3c2+'\x22?',async()=>{const _0x3aa599=_0x5a0679,_0x5a7b53=blueprintShortcuts[_0x3aa599(0xe4e)](_0x2594c7=>_0x2594c7['id']!==_0x1eb0ea);try{const _0x411385=doc(db,_0x3aa599(0x854),_0x3aa599(0xdf3));await setDoc(_0x411385,{'blueprintShortcuts':_0x5a7b53},{'merge':!![]});}catch(_0x33bbca){console['error'](_0x3aa599(0x51c),_0x33bbca);}});}else _0x4b3691&&handleShortcutClick(_0x4b3691['dataset']['id']);}}),document[_0x35608c(0x6ec)]('add-shortcut-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),()=>openShortcutEditor(null)),document[_0x35608c(0x6ec)](_0x35608c(0x7ee))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x55973f=_0x35608c;document[_0x55973f(0x6ec)](_0x55973f(0x7a3))[_0x55973f(0xed5)][_0x55973f(0xbca)]('hidden');}),document[_0x35608c(0x6ec)](_0x35608c(0x731))[_0x35608c(0x504)](_0x35608c(0x7b0),saveShortcutChanges),document[_0x35608c(0x6ec)]('generate-from-blueprint-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),async()=>{const _0x81cd88=_0x35608c,_0x27baa4=document[_0x81cd88(0x6ec)](_0x81cd88(0x25a)),_0x3f60c0=document[_0x81cd88(0x6ec)](_0x81cd88(0x438));_0x27baa4['files']['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0x27baa4[_0x81cd88(0x29f)][0x0],_0x3f60c0[_0x81cd88(0x29f)][0x0]||null):showMessage(_0x81cd88(0x5ee));}),document[_0x35608c(0x6ec)](_0x35608c(0xe28))['addEventListener'](_0x35608c(0x7b0),async _0x23a19c=>{const _0x39d653=_0x35608c,_0x1956e7=document[_0x39d653(0x6ec)](_0x39d653(0xe28)),_0x56485a=_0x23a19c['target'][_0x39d653(0x366)]('.bp-view-analysis-btn'),_0x295ea7=_0x23a19c[_0x39d653(0x8dd)][_0x39d653(0x366)](_0x39d653(0x217)),_0x38901a=_0x23a19c['target'][_0x39d653(0x366)](_0x39d653(0x5de)),_0x4a68f6=_0x23a19c[_0x39d653(0x8dd)]['closest'](_0x39d653(0xe66)),_0x3dd172=_0x23a19c['target'][_0x39d653(0x366)](_0x39d653(0x8a5)),_0x12f748=_0x23a19c[_0x39d653(0x8dd)]['closest']('.bp-game-btn');if(_0x56485a){cameFromBlueprint=!![];const _0x21cd8f=_0x56485a[_0x39d653(0x261)][_0x39d653(0x3ac)];showQuizDetailView(_0x21cd8f),_0x1956e7['classList'][_0x39d653(0xbca)](_0x39d653(0x515));}else{if(_0x295ea7){const _0x266504=_0x295ea7[_0x39d653(0x261)][_0x39d653(0xd89)],_0x135cc4=_0x295ea7[_0x39d653(0x261)]['quizId'],_0x22cd52=allQuizzesGlobal['find'](_0x462258=>_0x462258['id']===_0x135cc4),_0x1bd312=_0x22cd52?_0x22cd52[_0x39d653(0x308)]:_0x39d653(0x448);showConfirmation(_0x39d653(0xcd2)+_0x1bd312+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x5e358b=_0x39d653;try{const _0x2e284c=doc(db,_0x5e358b(0x509)+appId+_0x5e358b(0x9d8),currentBlueprintProjectId);await updateDoc(_0x2e284c,{[_0x5e358b(0xabf)+_0x266504+'.linkedQuizIds']:arrayRemove(_0x135cc4)}),showMessage(_0x5e358b(0x88b)),openTopicQuizBank(_0x266504),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x436322){console[_0x5e358b(0x61c)](_0x5e358b(0xcfd),_0x436322),showMessage(_0x5e358b(0x238));}});}else{if(_0x38901a){cameFromBlueprint=!![];const _0x4b0512=_0x38901a[_0x39d653(0x261)][_0x39d653(0x3ac)],_0x2f8e2c=allQuizzesGlobal[_0x39d653(0x426)](_0x42200a=>_0x42200a['id']===_0x4b0512);_0x2f8e2c&&(startPresentation(_0x2f8e2c),_0x1956e7[_0x39d653(0xed5)][_0x39d653(0xbca)](_0x39d653(0x515)));}else{if(_0x4a68f6){cameFromBlueprint=!![];const _0xcab419=_0x4a68f6['dataset']['quizId'],_0x4b3c92=allQuizzesGlobal['find'](_0x5bf3a3=>_0x5bf3a3['id']===_0xcab419);_0x4b3c92&&(currentQuizData=_0x4b3c92,startAdminTest(),_0x1956e7['classList'][_0x39d653(0xbca)](_0x39d653(0x515)));}else{if(_0x3dd172)cameFromBlueprint=!![],handleStartLiveRace(_0x3dd172['dataset']['quizId']),_0x1956e7[_0x39d653(0xed5)][_0x39d653(0xbca)](_0x39d653(0x515));else{if(_0x12f748){cameFromBlueprint=!![];const _0x4a32cd=_0x12f748['dataset'][_0x39d653(0x3ac)],_0x427fad=_0x12f748['dataset'][_0x39d653(0x5ca)],_0x4d634b=allQuizzesGlobal[_0x39d653(0x426)](_0x3e3338=>_0x3e3338['id']===_0x4a32cd);_0x4d634b&&(showGameStartConfirmationModal(_0x4a32cd,_0x427fad,_0x4d634b['topic']),_0x1956e7['classList'][_0x39d653(0xbca)]('hidden'));}}}}}}}),document['getElementById']('manual-create-blueprint-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x1b6b86=_0x35608c;document[_0x1b6b86(0x6ec)](_0x1b6b86(0x8eb))['classList'][_0x1b6b86(0xb8a)](_0x1b6b86(0x515)),document[_0x1b6b86(0x6ec)](_0x1b6b86(0xce4))['value']='',document[_0x1b6b86(0x6ec)]('manual-bp-grade-level')[_0x1b6b86(0x8c2)]='',document['getElementById']('manual-bp-content')[_0x1b6b86(0x8c2)]='';}),document[_0x35608c(0x6ec)](_0x35608c(0xf1f))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x3715b6=_0x35608c;document[_0x3715b6(0x6ec)](_0x3715b6(0x8eb))[_0x3715b6(0xed5)][_0x3715b6(0xbca)](_0x3715b6(0x515));}),document['getElementById'](_0x35608c(0x622))['addEventListener'](_0x35608c(0x7b0),handleManualBlueprintSave),document[_0x35608c(0x6ec)](_0x35608c(0x755))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>document[_0x35608c(0x6ec)](_0x35608c(0x706))[_0x35608c(0xed5)]['add'](_0x35608c(0x515))),document[_0x35608c(0x6ec)](_0x35608c(0xac7))[_0x35608c(0x504)](_0x35608c(0x7b0),handleSaveBlueprintPageSettings),document[_0x35608c(0x6ec)](_0x35608c(0x207))[_0x35608c(0x504)](_0x35608c(0x7b0),openBlueprintQuizSettings),document['getElementById'](_0x35608c(0xaf7))[_0x35608c(0x504)]('click',saveBlueprintProject),document['getElementById'](_0x35608c(0x817))[_0x35608c(0x504)](_0x35608c(0x7b0),showBlueprintProjects),document['getElementById'](_0x35608c(0x6e7))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x39f25e=_0x35608c;document[_0x39f25e(0x6ec)](_0x39f25e(0x98a))[_0x39f25e(0xed5)][_0x39f25e(0xbca)]('hidden');}),document[_0x35608c(0x6ec)]('blueprint-project-list')[_0x35608c(0x504)](_0x35608c(0x7b0),_0x767f07=>{const _0x20f21c=_0x35608c,_0x396e33=_0x767f07['target'][_0x20f21c(0x366)](_0x20f21c(0xf25)),_0x1858cd=_0x767f07[_0x20f21c(0x8dd)][_0x20f21c(0x366)](_0x20f21c(0x2c1));if(_0x396e33)displayBlueprintProjectManager(_0x396e33[_0x20f21c(0x261)]['id']);else _0x1858cd&&handleDeepDeleteBlueprintProject(_0x1858cd[_0x20f21c(0x261)]['id']);}),document[_0x35608c(0x6ec)](_0x35608c(0xbb5))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x280e7b=_0x35608c;currentBlueprintProjectId=null,currentProjectId=null,document[_0x280e7b(0x6ec)]('blueprint-project-manager-view')['classList']['add'](_0x280e7b(0x515)),showView(_0x280e7b(0x2da));}),document[_0x35608c(0x6ec)](_0x35608c(0xba1))[_0x35608c(0x504)]('click',addTopicToProject),document[_0x35608c(0x6ec)]('bp-topic-list-container')[_0x35608c(0x504)](_0x35608c(0x7b0),async _0x12a05e=>{const _0x42501b=_0x35608c,_0x3faf2c=_0x12a05e[_0x42501b(0x8dd)][_0x42501b(0x366)](_0x42501b(0x49b));if(!_0x3faf2c)return;const _0x2a90ed=_0x3faf2c[_0x42501b(0x261)][_0x42501b(0xd89)],_0x42a392=_0x12a05e[_0x42501b(0x8dd)]['closest'](_0x42501b(0xb50)),_0x2b919b=_0x12a05e['target']['closest'](_0x42501b(0x256)),_0x561b5d=_0x12a05e[_0x42501b(0x8dd)][_0x42501b(0x366)]('.bp-create-topic-quiz-btn'),_0x512948=_0x12a05e[_0x42501b(0x8dd)]['closest']('.bp-open-topic-bank-btn'),_0xde722e=_0x12a05e[_0x42501b(0x8dd)][_0x42501b(0x366)]('.view-bp-lesson-btn'),_0x42b502=_0x12a05e[_0x42501b(0x8dd)][_0x42501b(0x366)]('.bp-generate-lesson-btn'),_0x922a4f=_0x12a05e[_0x42501b(0x8dd)][_0x42501b(0x366)](_0x42501b(0x9ea)),_0x11ec18=_0x12a05e['target'][_0x42501b(0x366)](_0x42501b(0xe3f)),_0x1c3e05=_0x2cb458=>{const _0x1fcc3c=_0x42501b,_0x611115=_0x2cb458[_0x1fcc3c(0x427)](_0x1fcc3c(0xb70))[_0x1fcc3c(0x337)][_0x1fcc3c(0xdd8)](),_0xe45171=_0x2cb458[_0x1fcc3c(0x366)](_0x1fcc3c(0xdde))[_0x1fcc3c(0x7aa)],_0x40348e=_0xe45171?_0xe45171[_0x1fcc3c(0x337)]['trim']():'';return _0x40348e+':\x20'+_0x611115;};if(_0x512948)openTopicQuizBank(_0x2a90ed);else{if(_0x42a392){const _0x589fc1=_0x1c3e05(_0x3faf2c);selectProjectAndGenerateBlueprintQuiz(_0x589fc1,null,_0x2a90ed,!![]);}else{if(_0x2b919b){const _0x4e2af2=_0x1c3e05(_0x3faf2c);try{const _0x2a0a6e=doc(db,_0x42501b(0x509)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x42501b(0x4fd),_0x2a90ed),_0x40d0c7=await getDoc(_0x2a0a6e);if(_0x40d0c7['exists']()){const _0x3c6260=_0x40d0c7[_0x42501b(0xe5c)]()[_0x42501b(0x9fa)],_0x149eef=document[_0x42501b(0xc7b)]('div'),_0x2c1578=_0x4fbb07=>{const _0x1d88d6=_0x42501b;if(!_0x4fbb07)return'';return _0x149eef[_0x1d88d6(0x674)]=_0x4fbb07,_0x149eef[_0x1d88d6(0x337)]||_0x149eef[_0x1d88d6(0xd58)]||'';},_0x523be3=(_0x2c1578(_0x3c6260[_0x42501b(0x932)])+'\x20'+_0x2c1578(_0x3c6260['memory'])+'\x20'+_0x2c1578(_0x3c6260[_0x42501b(0xa73)]))['trim']();selectProjectAndGenerateBlueprintQuiz(_0x4e2af2,_0x523be3,_0x2a90ed,![]);}else showMessage(_0x42501b(0xbda));}catch(_0x2bbda3){console['error'](_0x42501b(0x495),_0x2bbda3),showMessage(_0x42501b(0xea9));}}else{if(_0x561b5d){const _0x1ac655=_0x1c3e05(_0x3faf2c);selectProjectAndGenerateBlueprintQuiz(_0x1ac655,null,_0x2a90ed,![]);}else{if(_0xde722e){const _0x4c5127=doc(db,_0x42501b(0x509)+appId+_0x42501b(0x9d8),currentBlueprintProjectId),_0x56622f=await getDoc(_0x4c5127);if(_0x56622f[_0x42501b(0xa82)]()){const _0xd7907c=_0x56622f['data'](),_0x6c3458=_0xd7907c[_0x42501b(0x9a5)][_0x2a90ed];if(_0x6c3458&&_0x6c3458[_0x42501b(0x4dc)]===_0x42501b(0x4ff))try{const _0x376d62=doc(db,_0x42501b(0x509)+appId+_0x42501b(0x8b4)+currentBlueprintProjectId+_0x42501b(0x4fd),_0x2a90ed),_0xe31e8c=await getDoc(_0x376d62);if(_0xe31e8c[_0x42501b(0xa82)]()){const _0x5dfa30=_0xe31e8c['data']()[_0x42501b(0x9fa)];document[_0x42501b(0x6ec)](_0x42501b(0x2f2))[_0x42501b(0x337)]='บทเรียนเรื่อง:\x20'+_0x1c3e05(_0x3faf2c),document[_0x42501b(0x6ec)]('pointContent')[_0x42501b(0x674)]=_0x5dfa30[_0x42501b(0x932)],document[_0x42501b(0x6ec)](_0x42501b(0xcec))[_0x42501b(0x674)]=_0x5dfa30[_0x42501b(0x94d)],document[_0x42501b(0x6ec)](_0x42501b(0xa64))['innerHTML']=_0x5dfa30[_0x42501b(0xa73)];const _0x5e7b40=document['getElementById'](_0x42501b(0x846));_0x5dfa30[_0x42501b(0xe5a)]?(currentApplicationData=_0x5dfa30['applicationData'],_0x5e7b40[_0x42501b(0x674)]=currentApplicationData[_0x42501b(0x91f)]((_0x3e60cd,_0x44b4bf)=>_0x42501b(0x31e)+(_0x44b4bf+0x1)+'.\x20'+marked[_0x42501b(0xe02)](_0x3e60cd['question'])+_0x42501b(0xe20)+_0x44b4bf+'-options\x22>'+_0x3e60cd[_0x42501b(0x25f)][_0x42501b(0x91f)]((_0x2a005b,_0x5ebf10)=>_0x42501b(0xafb)+_0x44b4bf+',\x20'+_0x5ebf10+')\x22>'+String[_0x42501b(0xb87)](0x61+_0x5ebf10)+'.\x20'+marked[_0x42501b(0xe02)](_0x2a005b)+_0x42501b(0xb81))[_0x42501b(0x8c3)]('')+_0x42501b(0xe8f))[_0x42501b(0x8c3)]('')):(currentApplicationData=[],_0x5e7b40[_0x42501b(0x674)]=_0x5dfa30[_0x42501b(0xe9e)]||_0x5dfa30[_0x42501b(0x22c)]),document[_0x42501b(0x6ec)](_0x42501b(0x95c))[_0x42501b(0xed5)][_0x42501b(0xbca)](_0x42501b(0x515)),document[_0x42501b(0x6ec)](_0x42501b(0xca5))['classList'][_0x42501b(0xb8a)](_0x42501b(0x515)),document[_0x42501b(0x6ec)]('lesson-view-modal')['classList']['remove'](_0x42501b(0x515)),window['MathJax']&&MathJax[_0x42501b(0x396)]([document[_0x42501b(0x6ec)](_0x42501b(0xf39))]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0x370aa8){console[_0x42501b(0x61c)](_0x42501b(0xe54),_0x370aa8),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage(_0x42501b(0x4d3));}}else{if(_0x42b502){const _0x222669=_0x1c3e05(_0x3faf2c),_0x4e7088=doc(db,_0x42501b(0x509)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x3e56f1=await getDoc(_0x4e7088);if(_0x3e56f1[_0x42501b(0xa82)]()){const _0x304278=_0x3e56f1[_0x42501b(0xe5c)]();generateAndSaveLessonForBlueprint(_0x2a90ed,_0x222669,_0x304278[_0x42501b(0x3ad)]);}}else{if(_0x922a4f)editTopicInProject(_0x2a90ed);else _0x11ec18&&deleteTopicFromProject(_0x2a90ed);}}}}}}}),document['getElementById'](_0x35608c(0x708))['addEventListener'](_0x35608c(0x7b0),handleFixLessonLatex),document[_0x35608c(0x6ec)]('export-lesson-to-pdf-btn')[_0x35608c(0x504)]('click',handleExportLessonToPDF),document[_0x35608c(0x6ec)](_0x35608c(0x73f))[_0x35608c(0x504)]('click',()=>{const _0x281e3f=_0x35608c;document[_0x281e3f(0x6ec)](_0x281e3f(0x909))['classList'][_0x281e3f(0xbca)](_0x281e3f(0x515));});const _0x41f40b=document['getElementById'](_0x35608c(0x5f8)),_0x58cec3=document[_0x35608c(0x6ec)]('bulk-confidence-mode-container');_0x41f40b['addEventListener'](_0x35608c(0xefa),()=>{const _0x3eb1e3=_0x35608c;_0x58cec3['classList']['toggle'](_0x3eb1e3(0x515),!_0x41f40b[_0x3eb1e3(0xa0a)]);});const _0x56de38=document[_0x35608c(0x6ec)](_0x35608c(0x703)),_0x5293aa=document[_0x35608c(0x6ec)](_0x35608c(0x2a5));_0x56de38[_0x35608c(0x504)](_0x35608c(0xefa),()=>{const _0x3eea58=_0x35608c;_0x5293aa[_0x3eea58(0xed5)][_0x3eea58(0x6dd)](_0x3eea58(0x515),!_0x56de38['checked']);});const _0x24f04d=document['getElementById'](_0x35608c(0x857)),_0x2534e5=document['getElementById']('modal-confidence-mode-container');_0x24f04d['addEventListener'](_0x35608c(0xefa),()=>{const _0x4cc16e=_0x35608c;_0x2534e5[_0x4cc16e(0xed5)]['toggle'](_0x4cc16e(0x515),!_0x24f04d[_0x4cc16e(0xa0a)]);});const _0x134a98=document['getElementById'](_0x35608c(0x6f7)),_0x552245=async _0xd1e097=>{const _0x298486=_0x35608c,_0x1c31f4=document[_0x298486(0x6ec)](_0x298486(0x6f7)),_0x50dd43=_0x1c31f4[_0x298486(0x261)][_0x298486(0xb7e)],_0x1ffa86=document['getElementById'](_0x298486(0x966));_0x1c31f4['classList'][_0x298486(0xbca)](_0x298486(0x515));if(_0x50dd43===_0x298486(0xe0c)){const _0x15b368=_0x1ffa86[_0x298486(0x8c2)],_0x184317={'answer':_0x15b368,'wasConfident':_0xd1e097};proceedToNextQuestion(_0x184317);}else{if(_0x50dd43===_0x298486(0x5db)){const _0x379a82=_0x1ffa86[_0x298486(0x261)][_0x298486(0x74a)],_0x454b1c=JSON[_0x298486(0xbbc)](_0x1ffa86['dataset'][_0x298486(0x77c)]),_0x118d3a=JSON[_0x298486(0xbbc)](_0x1ffa86['dataset'][_0x298486(0xb41)]),_0x365082=_0x1ffa86[_0x298486(0x261)][_0x298486(0xdd6)];handleSyncAnswerSubmit(_0x379a82,_0x454b1c,_0x118d3a,_0x365082,_0xd1e097);}}_0x1c31f4[_0x298486(0x261)]['currentMode']='';};document[_0x35608c(0x6ec)](_0x35608c(0xc6c))['addEventListener']('click',()=>_0x552245(!![])),document['getElementById']('confirm-not-confident')[_0x35608c(0x504)](_0x35608c(0x7b0),()=>_0x552245(![])),liveGameView['addEventListener']('click',_0x1aae49=>{const _0x3b8f4d=_0x35608c,_0x3423aa=_0x1aae49['target'][_0x3b8f4d(0x366)](_0x3b8f4d(0x306));if(_0x3423aa){const _0x4e9e29=_0x3423aa[_0x3b8f4d(0x261)][_0x3b8f4d(0xdd6)];_0x4e9e29&&handleKickPlayerSync(_0x4e9e29);}});const _0x37ec42=document[_0x35608c(0x6ec)]('confirm-game-start-btn'),_0x169f35=document[_0x35608c(0x6ec)]('cancel-game-start-btn');_0x169f35[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x436642=_0x35608c;document[_0x436642(0x6ec)](_0x436642(0x401))[_0x436642(0xed5)][_0x436642(0xbca)](_0x436642(0x515));}),_0x37ec42[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x5af7ac=_0x35608c,_0x2ee698=document[_0x5af7ac(0x6ec)]('game-start-quiz-id')['value'],_0x54430a=document[_0x5af7ac(0x6ec)](_0x5af7ac(0x563))['value'],_0x1b7090=document[_0x5af7ac(0x6ec)](_0x5af7ac(0x365))[_0x5af7ac(0xa0a)];document[_0x5af7ac(0x6ec)](_0x5af7ac(0x401))[_0x5af7ac(0xed5)][_0x5af7ac(0xbca)](_0x5af7ac(0x515));switch(_0x54430a){case'live-race':handleStartLiveRace(_0x2ee698,_0x1b7090);break;case _0x5af7ac(0xcb4):handleStartTeamQuiz(_0x2ee698,_0x1b7090);break;case _0x5af7ac(0xdd3):handleStartGroupMode(_0x2ee698,_0x1b7090);break;case'sync':const _0x268196=document[_0x5af7ac(0x427)](_0x5af7ac(0xa18))[_0x5af7ac(0x8c2)]||_0x5af7ac(0x45e);handleStartSyncMode(_0x2ee698,_0x1b7090,_0x268196);break;}}),document[_0x35608c(0x6ec)](_0x35608c(0xb47))[_0x35608c(0x504)](_0x35608c(0x7b0),handleJoinGroupActivity),liveGameView[_0x35608c(0x504)](_0x35608c(0x7b0),_0x2b0140=>{const _0x5e999d=_0x35608c,_0x42b877=_0x2b0140[_0x5e999d(0x8dd)][_0x5e999d(0x366)]('.summary-bar-item');document[_0x5e999d(0xcf1)](_0x5e999d(0x995))[_0x5e999d(0x9ce)](_0x583ee2=>{const _0x14510d=_0x5e999d;(!_0x42b877||_0x583ee2['id']!==_0x42b877[_0x14510d(0x261)][_0x14510d(0x3f8)])&&_0x583ee2[_0x14510d(0xed5)][_0x14510d(0xb8a)](_0x14510d(0x8a0));});if(!_0x42b877)return;const _0x1c76fb=_0x42b877[_0x5e999d(0x261)][_0x5e999d(0x3f8)],_0x4ee301=document[_0x5e999d(0x6ec)](_0x1c76fb);_0x4ee301&&_0x4ee301['classList'][_0x5e999d(0x6dd)](_0x5e999d(0x8a0));}),liveGameView[_0x35608c(0x504)]('click',_0x5a597=>{const _0x137ce8=_0x35608c;if(_0x5a597['target'][_0x137ce8(0xed5)][_0x137ce8(0x84c)](_0x137ce8(0x7d0))){const _0x524ba9=_0x5a597['target']['dataset'][_0x137ce8(0xdd6)];_0x524ba9&&handleKickPlayer(_0x524ba9);}}),document[_0x35608c(0x6ec)](_0x35608c(0x3cb))[_0x35608c(0x504)](_0x35608c(0x1f2),()=>document[_0x35608c(0x6ec)](_0x35608c(0x865))[_0x35608c(0xed5)][_0x35608c(0xb8a)]('hidden')),document[_0x35608c(0x6ec)](_0x35608c(0x865))[_0x35608c(0x504)](_0x35608c(0x7b0),handleSaveProjectName),document[_0x35608c(0x6ec)](_0x35608c(0x3cb))[_0x35608c(0x504)](_0x35608c(0x6ac),_0x44f15a=>{const _0xacb4e9=_0x35608c;_0x44f15a['key']===_0xacb4e9(0x3e0)&&(_0x44f15a[_0xacb4e9(0xf44)](),_0x44f15a[_0xacb4e9(0x8dd)][_0xacb4e9(0xf3d)](),handleSaveProjectName());}),document['getElementById'](_0x35608c(0x93b))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x42df08=_0x35608c;document['getElementById'](_0x42df08(0x6f4))[_0x42df08(0xed5)][_0x42df08(0xb8a)](_0x42df08(0x515));}),document[_0x35608c(0x6ec)](_0x35608c(0x3a4))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x25048a=_0x35608c;document[_0x25048a(0x6ec)](_0x25048a(0x6f4))['classList'][_0x25048a(0xbca)](_0x25048a(0x515));}),document[_0x35608c(0x6ec)](_0x35608c(0xaab))[_0x35608c(0x504)](_0x35608c(0x7b0),handleBulkUpdateQuizSettings),document[_0x35608c(0x6ec)](_0x35608c(0x60c))['addEventListener'](_0x35608c(0x7b0),handleModeSwitch),document[_0x35608c(0x6ec)](_0x35608c(0xd7e))[_0x35608c(0x504)]('click',handleUpdateOldQuizzes),document[_0x35608c(0x6ec)](_0x35608c(0x7b8))[_0x35608c(0x504)](_0x35608c(0x7b0),handleResetProjectOrder),document[_0x35608c(0x6ec)](_0x35608c(0xe32))[_0x35608c(0x504)](_0x35608c(0x7b0),handleSaveVisibilitySettings),document[_0x35608c(0x6ec)](_0x35608c(0x8ff))[_0x35608c(0x504)](_0x35608c(0x7b0),handleAddCustomMathTopic),document[_0x35608c(0x6ec)](_0x35608c(0xd5a))['addEventListener'](_0x35608c(0x7b0),handleSelectAllTopics),document[_0x35608c(0x6ec)]('deselect-all-topics-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),handleDeselectAllTopics),document[_0x35608c(0x6ec)](_0x35608c(0xeb7))[_0x35608c(0x504)]('click',()=>{const _0x356ebc=_0x35608c;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x356ebc(0x2da));}}),document[_0x35608c(0x6ec)](_0x35608c(0xd2f))['addEventListener']('click',()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document['getElementById'](_0x35608c(0x79a))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x570e4a=_0x35608c;showView(_0x570e4a(0x2da));}),document['getElementById'](_0x35608c(0xb5d))['addEventListener'](_0x35608c(0x7b0),()=>{const _0x402d72=_0x35608c;messageModal[_0x402d72(0xed5)][_0x402d72(0xbca)](_0x402d72(0x515)),typeof modalConfirmAction===_0x402d72(0xe88)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x35608c(0x6ec)](_0x35608c(0x1d4))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>createProjectModal[_0x35608c(0xed5)]['remove'](_0x35608c(0x515))),document[_0x35608c(0x6ec)](_0x35608c(0x46e))['addEventListener'](_0x35608c(0x7b0),()=>createProjectModal[_0x35608c(0xed5)]['add']('hidden')),document[_0x35608c(0x6ec)]('cancel-admin-login-btn')[_0x35608c(0x504)]('click',()=>adminPasswordModal[_0x35608c(0xed5)]['add'](_0x35608c(0x515))),document['getElementById'](_0x35608c(0xc2e))['addEventListener'](_0x35608c(0x7b0),handleAdminLogin),document['getElementById'](_0x35608c(0xa71))[_0x35608c(0x504)]('keyup',_0xe34bf8=>{const _0x2a79b0=_0x35608c;if(_0xe34bf8[_0x2a79b0(0x4ef)]===_0x2a79b0(0x3e0))handleAdminLogin();}),document[_0x35608c(0x6ec)](_0x35608c(0x77a))['addEventListener'](_0x35608c(0x7b0),()=>{const _0x3959ec=_0x35608c;confirmationModal['classList']['add'](_0x3959ec(0x515)),typeof cancelAction===_0x3959ec(0xe88)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x35608c(0x6ec)](_0x35608c(0x5c3))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x4d540c=_0x35608c;confirmAction&&confirmAction(),confirmationModal[_0x4d540c(0xed5)][_0x4d540c(0xbca)](_0x4d540c(0x515)),confirmAction=null,cancelAction=null;}),document[_0x35608c(0x6ec)](_0x35608c(0xe0a))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>renameQuizModal[_0x35608c(0xed5)][_0x35608c(0xbca)](_0x35608c(0x515))),document[_0x35608c(0x6ec)](_0x35608c(0x74b))[_0x35608c(0x504)](_0x35608c(0x7b0),confirmRenameQuiz),document[_0x35608c(0x6ec)]('cancel-move-quiz-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),()=>moveQuizModal[_0x35608c(0xed5)]['add'](_0x35608c(0x515))),document[_0x35608c(0x6ec)]('confirm-move-quiz-btn')['addEventListener'](_0x35608c(0x7b0),confirmMoveQuiz),document[_0x35608c(0x6ec)](_0x35608c(0x50b))[_0x35608c(0x504)]('click',()=>quizSettingsModal[_0x35608c(0xed5)][_0x35608c(0xbca)]('hidden')),document[_0x35608c(0x6ec)]('confirm-quiz-settings-btn')[_0x35608c(0x504)]('click',confirmQuizSettings),document[_0x35608c(0x6ec)](_0x35608c(0x37d))['addEventListener'](_0x35608c(0x7b0),()=>quizStatusModal[_0x35608c(0xed5)]['add'](_0x35608c(0x515))),document[_0x35608c(0x6ec)]('confirm-quiz-status-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),confirmQuizStatus);const _0x32d292=document[_0x35608c(0x6ec)](_0x35608c(0x2e0));document[_0x35608c(0x6ec)](_0x35608c(0x872))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x56f87e=_0x35608c;_0x32d292['classList'][_0x56f87e(0xbca)](_0x56f87e(0x515));}),document[_0x35608c(0x6ec)](_0x35608c(0xf0c))[_0x35608c(0x504)](_0x35608c(0x7b0),async()=>{const _0x2f019a=_0x35608c,_0x25e793=allQuizzes['find'](_0x2b3eb6=>_0x2b3eb6['id']===actionTargetId);_0x25e793?(currentQuizData=_0x25e793,exportQuizAsWorksheetPDF()):showMessage(_0x2f019a(0x476)),_0x32d292[_0x2f019a(0xed5)]['add'](_0x2f019a(0x515));}),document[_0x35608c(0x6ec)](_0x35608c(0xa4a))['addEventListener'](_0x35608c(0x7b0),async()=>{const _0x563ab7=_0x35608c,_0x5309c5=allQuizzes[_0x563ab7(0x426)](_0x88f4d7=>_0x88f4d7['id']===actionTargetId);_0x5309c5?(currentQuizData=_0x5309c5,exportQuizAsTutorPDF()):showMessage(_0x563ab7(0x476)),_0x32d292[_0x563ab7(0xed5)][_0x563ab7(0xbca)](_0x563ab7(0x515));});const _0x173e63=document[_0x35608c(0x6ec)](_0x35608c(0xa90));_0x173e63[_0x35608c(0x674)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x173e63[_0x35608c(0x504)](_0x35608c(0x7b0),openGlobalActivityModal),document[_0x35608c(0x6ec)](_0x35608c(0xd1f))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0xc7422c=_0x35608c;document[_0xc7422c(0x6ec)](_0xc7422c(0xad9))[_0xc7422c(0xed5)][_0xc7422c(0xbca)]('hidden');}),document[_0x35608c(0x6ec)](_0x35608c(0xcc1))[_0x35608c(0x504)]('input',_0x3fa8f6=>{const _0x254755=_0x35608c;renderGlobalActivityList(_0x3fa8f6[_0x254755(0x8dd)][_0x254755(0x8c2)]);}),document['getElementById'](_0x35608c(0xb84))[_0x35608c(0x504)](_0x35608c(0x7b0),_0x4c2b6f=>{const _0x2fb905=_0x35608c,_0x57e406=_0x4c2b6f[_0x2fb905(0x8dd)][_0x2fb905(0x366)](_0x2fb905(0xafc));if(!_0x57e406)return;const _0xd729d5=_0x57e406['dataset']['id'],_0x5373d4=_0x57e406[_0x2fb905(0x261)][_0x2fb905(0x5ca)],_0x63d668=allQuizzesGlobal[_0x2fb905(0x426)](_0xee40e9=>_0xee40e9['id']===_0xd729d5);_0x63d668&&(document['getElementById'](_0x2fb905(0xad9))['classList'][_0x2fb905(0xbca)](_0x2fb905(0x515)),_0x5373d4==='live-race'?handleStartLiveRace(_0xd729d5):showGameStartConfirmationModal(_0xd729d5,_0x5373d4,_0x63d668[_0x2fb905(0x308)]));}),document[_0x35608c(0x6ec)]('project-search-input')['addEventListener'](_0x35608c(0x671),renderProjects),document[_0x35608c(0x6ec)]('project-sort-select')[_0x35608c(0x504)](_0x35608c(0xefa),async()=>{const _0x4a0b43=_0x35608c,_0x402959=document['getElementById']('project-sort-select')[_0x4a0b43(0x8c2)],_0x501762=doc(db,'globalSettings',_0x4a0b43(0xdf3));try{await setDoc(_0x501762,{'projectSort':_0x402959},{'merge':!![]});}catch(_0x49c96e){console[_0x4a0b43(0x61c)]('Error\x20updating\x20sort\x20preference:',_0x49c96e),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x35608c(0x6ec)](_0x35608c(0xe94))[_0x35608c(0x504)](_0x35608c(0x671),renderQuizzes),document[_0x35608c(0x6ec)]('grid-view-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x3e5f1a=_0x35608c;globalDashboardSettings[_0x3e5f1a(0xa9a)]=_0x3e5f1a(0x57e),saveUserPreference(_0x3e5f1a(0xa9a),_0x3e5f1a(0x57e)),renderProjects();}),document[_0x35608c(0x6ec)]('list-view-btn')['addEventListener'](_0x35608c(0x7b0),()=>{const _0x46f390=_0x35608c;globalDashboardSettings[_0x46f390(0xa9a)]=_0x46f390(0xd18),saveUserPreference(_0x46f390(0xa9a),_0x46f390(0xd18)),renderProjects();}),manageTab['addEventListener'](_0x35608c(0x7b0),()=>switchProjectTab(_0x35608c(0xb4e))),resultsTab[_0x35608c(0x504)](_0x35608c(0x7b0),()=>switchProjectTab(_0x35608c(0xa51))),leaderboardTab[_0x35608c(0x504)](_0x35608c(0x7b0),()=>switchProjectTab(_0x35608c(0xf31))),document['getElementById'](_0x35608c(0xb3c))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>switchQuizDetailTab('analytics')),document[_0x35608c(0x6ec)](_0x35608c(0xcb6))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>switchQuizDetailTab(_0x35608c(0xe2a))),document[_0x35608c(0x6ec)](_0x35608c(0xaa4))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x35608c(0x6ec)](_0x35608c(0x6bc))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>switchQuizDetailTab(_0x35608c(0xcf2))),document['getElementById'](_0x35608c(0x5be))[_0x35608c(0x504)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x35608c(0x504)](_0x35608c(0x7b0),generateWorksheet);const _0x255fb4=document[_0x35608c(0x6ec)](_0x35608c(0x433)),_0x516963=document[_0x35608c(0x6ec)](_0x35608c(0x799)),_0x8259dd=document[_0x35608c(0x6ec)](_0x35608c(0x949)),_0x1ce062=document[_0x35608c(0x6ec)]('blueprint-input-area'),_0x420d0d=document[_0x35608c(0x6ec)]('parallel-test-tab'),_0x160fba=document[_0x35608c(0x6ec)](_0x35608c(0x310));topicTab['addEventListener'](_0x35608c(0x7b0),()=>{const _0x17ebf0=_0x35608c;topicTab[_0x17ebf0(0xed5)][_0x17ebf0(0xbca)](_0x17ebf0(0xb3d)),textTab[_0x17ebf0(0xed5)][_0x17ebf0(0xb8a)]('active'),fileTab[_0x17ebf0(0xed5)][_0x17ebf0(0xb8a)]('active'),worksheetTab[_0x17ebf0(0xed5)][_0x17ebf0(0xb8a)]('active');if(_0x255fb4)_0x255fb4[_0x17ebf0(0xed5)][_0x17ebf0(0xb8a)]('active');if(_0x8259dd)_0x8259dd['classList'][_0x17ebf0(0xb8a)]('active');if(_0x420d0d)_0x420d0d[_0x17ebf0(0xed5)][_0x17ebf0(0xb8a)]('active');topicInputArea[_0x17ebf0(0xed5)]['remove']('hidden'),textInputArea[_0x17ebf0(0xed5)][_0x17ebf0(0xbca)](_0x17ebf0(0x515)),fileInputArea['classList'][_0x17ebf0(0xbca)](_0x17ebf0(0x515)),worksheetInputArea['classList'][_0x17ebf0(0xbca)](_0x17ebf0(0x515));if(_0x516963)_0x516963[_0x17ebf0(0xed5)][_0x17ebf0(0xbca)](_0x17ebf0(0x515));if(_0x1ce062)_0x1ce062['classList'][_0x17ebf0(0xbca)](_0x17ebf0(0x515));if(_0x160fba)_0x160fba['classList'][_0x17ebf0(0xbca)](_0x17ebf0(0x515));}),textTab['addEventListener'](_0x35608c(0x7b0),()=>{const _0xeba6f2=_0x35608c;textTab[_0xeba6f2(0xed5)][_0xeba6f2(0xbca)](_0xeba6f2(0xb3d)),topicTab[_0xeba6f2(0xed5)][_0xeba6f2(0xb8a)](_0xeba6f2(0xb3d)),fileTab[_0xeba6f2(0xed5)]['remove']('active'),worksheetTab[_0xeba6f2(0xed5)][_0xeba6f2(0xb8a)]('active');if(_0x255fb4)_0x255fb4[_0xeba6f2(0xed5)]['remove']('active');if(_0x8259dd)_0x8259dd['classList']['remove'](_0xeba6f2(0xb3d));if(_0x420d0d)_0x420d0d[_0xeba6f2(0xed5)][_0xeba6f2(0xb8a)]('active');textInputArea[_0xeba6f2(0xed5)]['remove']('hidden'),topicInputArea[_0xeba6f2(0xed5)]['add'](_0xeba6f2(0x515)),fileInputArea[_0xeba6f2(0xed5)][_0xeba6f2(0xbca)](_0xeba6f2(0x515)),worksheetInputArea[_0xeba6f2(0xed5)][_0xeba6f2(0xbca)](_0xeba6f2(0x515));if(_0x516963)_0x516963[_0xeba6f2(0xed5)][_0xeba6f2(0xbca)](_0xeba6f2(0x515));if(_0x1ce062)_0x1ce062[_0xeba6f2(0xed5)][_0xeba6f2(0xbca)](_0xeba6f2(0x515));if(_0x160fba)_0x160fba[_0xeba6f2(0xed5)][_0xeba6f2(0xbca)](_0xeba6f2(0x515));}),fileTab[_0x35608c(0x504)]('click',()=>{const _0x12dbab=_0x35608c;fileTab[_0x12dbab(0xed5)][_0x12dbab(0xbca)](_0x12dbab(0xb3d)),topicTab[_0x12dbab(0xed5)]['remove'](_0x12dbab(0xb3d)),textTab[_0x12dbab(0xed5)][_0x12dbab(0xb8a)](_0x12dbab(0xb3d)),worksheetTab[_0x12dbab(0xed5)][_0x12dbab(0xb8a)]('active');if(_0x255fb4)_0x255fb4[_0x12dbab(0xed5)][_0x12dbab(0xb8a)](_0x12dbab(0xb3d));if(_0x8259dd)_0x8259dd[_0x12dbab(0xed5)][_0x12dbab(0xb8a)]('active');if(_0x420d0d)_0x420d0d[_0x12dbab(0xed5)][_0x12dbab(0xb8a)]('active');fileInputArea['classList'][_0x12dbab(0xb8a)](_0x12dbab(0x515)),topicInputArea[_0x12dbab(0xed5)][_0x12dbab(0xbca)]('hidden'),textInputArea['classList'][_0x12dbab(0xbca)](_0x12dbab(0x515)),worksheetInputArea[_0x12dbab(0xed5)]['add'](_0x12dbab(0x515));if(_0x516963)_0x516963[_0x12dbab(0xed5)][_0x12dbab(0xbca)]('hidden');if(_0x1ce062)_0x1ce062[_0x12dbab(0xed5)][_0x12dbab(0xbca)]('hidden');if(_0x160fba)_0x160fba[_0x12dbab(0xed5)][_0x12dbab(0xbca)]('hidden');}),worksheetTab['addEventListener'](_0x35608c(0x7b0),()=>{const _0x592fb7=_0x35608c;worksheetTab['classList'][_0x592fb7(0xbca)]('active'),topicTab[_0x592fb7(0xed5)]['remove']('active'),textTab[_0x592fb7(0xed5)][_0x592fb7(0xb8a)](_0x592fb7(0xb3d)),fileTab[_0x592fb7(0xed5)][_0x592fb7(0xb8a)](_0x592fb7(0xb3d));if(_0x255fb4)_0x255fb4[_0x592fb7(0xed5)]['remove'](_0x592fb7(0xb3d));if(_0x8259dd)_0x8259dd['classList'][_0x592fb7(0xb8a)]('active');if(_0x420d0d)_0x420d0d[_0x592fb7(0xed5)]['remove'](_0x592fb7(0xb3d));worksheetInputArea[_0x592fb7(0xed5)][_0x592fb7(0xb8a)](_0x592fb7(0x515)),topicInputArea[_0x592fb7(0xed5)][_0x592fb7(0xbca)](_0x592fb7(0x515)),textInputArea[_0x592fb7(0xed5)][_0x592fb7(0xbca)](_0x592fb7(0x515)),fileInputArea[_0x592fb7(0xed5)][_0x592fb7(0xbca)](_0x592fb7(0x515));if(_0x516963)_0x516963['classList'][_0x592fb7(0xbca)](_0x592fb7(0x515));if(_0x1ce062)_0x1ce062[_0x592fb7(0xed5)]['add']('hidden');if(_0x160fba)_0x160fba[_0x592fb7(0xed5)][_0x592fb7(0xbca)](_0x592fb7(0x515));});const _0x5e8440=document[_0x35608c(0x6ec)](_0x35608c(0x470)),_0x1d3650=document[_0x35608c(0x6ec)](_0x35608c(0xb56));_0x5e8440&&_0x5e8440[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x39b1a3=_0x35608c;topicTab['classList'][_0x39b1a3(0xb8a)]('active'),textTab[_0x39b1a3(0xed5)]['remove'](_0x39b1a3(0xb3d)),fileTab[_0x39b1a3(0xed5)][_0x39b1a3(0xb8a)]('active'),worksheetTab[_0x39b1a3(0xed5)][_0x39b1a3(0xb8a)]('active');if(_0x255fb4)_0x255fb4[_0x39b1a3(0xed5)][_0x39b1a3(0xb8a)]('active');if(_0x8259dd)_0x8259dd[_0x39b1a3(0xed5)][_0x39b1a3(0xb8a)](_0x39b1a3(0xb3d));if(_0x420d0d)_0x420d0d[_0x39b1a3(0xed5)][_0x39b1a3(0xb8a)](_0x39b1a3(0xb3d));_0x5e8440[_0x39b1a3(0xed5)][_0x39b1a3(0xbca)](_0x39b1a3(0xb3d)),topicInputArea[_0x39b1a3(0xed5)][_0x39b1a3(0xbca)]('hidden'),textInputArea[_0x39b1a3(0xed5)][_0x39b1a3(0xbca)](_0x39b1a3(0x515)),fileInputArea[_0x39b1a3(0xed5)][_0x39b1a3(0xbca)](_0x39b1a3(0x515)),worksheetInputArea[_0x39b1a3(0xed5)][_0x39b1a3(0xbca)]('hidden');if(_0x516963)_0x516963['classList'][_0x39b1a3(0xbca)](_0x39b1a3(0x515));if(_0x1ce062)_0x1ce062[_0x39b1a3(0xed5)]['add']('hidden');if(_0x160fba)_0x160fba[_0x39b1a3(0xed5)][_0x39b1a3(0xbca)](_0x39b1a3(0x515));_0x1d3650[_0x39b1a3(0xed5)][_0x39b1a3(0xb8a)](_0x39b1a3(0x515)),displayQuestionBank();});_0x255fb4&&(_0x255fb4[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x1847c7=_0x35608c;_0x255fb4[_0x1847c7(0xed5)][_0x1847c7(0xbca)]('active'),topicTab[_0x1847c7(0xed5)]['remove'](_0x1847c7(0xb3d)),textTab[_0x1847c7(0xed5)][_0x1847c7(0xb8a)](_0x1847c7(0xb3d)),fileTab[_0x1847c7(0xed5)]['remove'](_0x1847c7(0xb3d)),worksheetTab[_0x1847c7(0xed5)][_0x1847c7(0xb8a)](_0x1847c7(0xb3d));if(_0x8259dd)_0x8259dd['classList'][_0x1847c7(0xb8a)](_0x1847c7(0xb3d));if(_0x420d0d)_0x420d0d[_0x1847c7(0xed5)]['remove'](_0x1847c7(0xb3d));_0x516963[_0x1847c7(0xed5)][_0x1847c7(0xb8a)]('hidden'),topicInputArea['classList'][_0x1847c7(0xbca)](_0x1847c7(0x515)),textInputArea[_0x1847c7(0xed5)][_0x1847c7(0xbca)](_0x1847c7(0x515)),fileInputArea['classList'][_0x1847c7(0xbca)](_0x1847c7(0x515)),worksheetInputArea['classList']['add'](_0x1847c7(0x515));if(_0x1ce062)_0x1ce062[_0x1847c7(0xed5)]['add'](_0x1847c7(0x515));if(_0x160fba)_0x160fba[_0x1847c7(0xed5)][_0x1847c7(0xbca)](_0x1847c7(0x515));}),document[_0x35608c(0x6ec)](_0x35608c(0xbc9))[_0x35608c(0x504)](_0x35608c(0x7b0),handleGenerateFromLink));_0x8259dd&&_0x8259dd[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x105cb0=_0x35608c;_0x8259dd[_0x105cb0(0xed5)]['add'](_0x105cb0(0xb3d)),topicTab[_0x105cb0(0xed5)]['remove'](_0x105cb0(0xb3d)),textTab['classList'][_0x105cb0(0xb8a)](_0x105cb0(0xb3d)),fileTab[_0x105cb0(0xed5)]['remove'](_0x105cb0(0xb3d)),worksheetTab[_0x105cb0(0xed5)][_0x105cb0(0xb8a)](_0x105cb0(0xb3d));if(_0x255fb4)_0x255fb4[_0x105cb0(0xed5)][_0x105cb0(0xb8a)](_0x105cb0(0xb3d));if(_0x5e8440)_0x5e8440[_0x105cb0(0xed5)][_0x105cb0(0xb8a)](_0x105cb0(0xb3d));if(_0x420d0d)_0x420d0d[_0x105cb0(0xed5)][_0x105cb0(0xb8a)]('active');_0x1ce062[_0x105cb0(0xed5)][_0x105cb0(0xb8a)](_0x105cb0(0x515)),topicInputArea[_0x105cb0(0xed5)]['add']('hidden'),textInputArea[_0x105cb0(0xed5)]['add']('hidden'),fileInputArea[_0x105cb0(0xed5)][_0x105cb0(0xbca)](_0x105cb0(0x515)),worksheetInputArea[_0x105cb0(0xed5)][_0x105cb0(0xbca)](_0x105cb0(0x515));if(_0x516963)_0x516963['classList'][_0x105cb0(0xbca)](_0x105cb0(0x515));if(_0x1d3650)_0x1d3650[_0x105cb0(0xed5)]['add']('hidden');if(_0x160fba)_0x160fba[_0x105cb0(0xed5)]['add'](_0x105cb0(0x515));});_0x420d0d&&_0x420d0d[_0x35608c(0x504)]('click',()=>{const _0xb72259=_0x35608c;_0x420d0d[_0xb72259(0xed5)]['add'](_0xb72259(0xb3d)),topicTab['classList'][_0xb72259(0xb8a)](_0xb72259(0xb3d)),textTab[_0xb72259(0xed5)][_0xb72259(0xb8a)]('active'),fileTab[_0xb72259(0xed5)][_0xb72259(0xb8a)](_0xb72259(0xb3d)),worksheetTab[_0xb72259(0xed5)][_0xb72259(0xb8a)](_0xb72259(0xb3d));if(_0x255fb4)_0x255fb4['classList'][_0xb72259(0xb8a)](_0xb72259(0xb3d));if(_0x8259dd)_0x8259dd['classList'][_0xb72259(0xb8a)](_0xb72259(0xb3d));if(_0x5e8440)_0x5e8440[_0xb72259(0xed5)][_0xb72259(0xb8a)](_0xb72259(0xb3d));_0x160fba[_0xb72259(0xed5)][_0xb72259(0xb8a)](_0xb72259(0x515)),topicInputArea[_0xb72259(0xed5)][_0xb72259(0xbca)](_0xb72259(0x515)),textInputArea[_0xb72259(0xed5)][_0xb72259(0xbca)](_0xb72259(0x515)),fileInputArea[_0xb72259(0xed5)]['add'](_0xb72259(0x515)),worksheetInputArea['classList'][_0xb72259(0xbca)]('hidden');if(_0x516963)_0x516963[_0xb72259(0xed5)][_0xb72259(0xbca)]('hidden');if(_0x1ce062)_0x1ce062[_0xb72259(0xed5)][_0xb72259(0xbca)]('hidden');if(_0x1d3650)_0x1d3650['classList'][_0xb72259(0xbca)](_0xb72259(0x515));});const _0xc86447=document[_0x35608c(0x6ec)]('blueprint-upload-input'),_0x21d788=document['getElementById'](_0x35608c(0x601));if(_0xc86447){const _0x482e27=document[_0x35608c(0x6ec)](_0x35608c(0x25a)),_0x142513=document['getElementById'](_0x35608c(0x601)),_0x4d2367=document[_0x35608c(0x6ec)]('blueprint-options-container'),_0x1ecc55=document['getElementById'](_0x35608c(0xae9)),_0x949280=document[_0x35608c(0x6ec)]('blueprint-topics-list-container'),_0x5893cc=document['getElementById'](_0x35608c(0x9dd));_0x482e27&&_0x482e27[_0x35608c(0x504)]('change',async _0x13e3d6=>{const _0x26b5ae=_0x35608c;_0x4d2367['classList'][_0x26b5ae(0xbca)](_0x26b5ae(0x515)),_0x949280['classList'][_0x26b5ae(0xbca)]('hidden'),_0x1ecc55[_0x26b5ae(0xa0a)]=![],_0x142513[_0x26b5ae(0x736)]=!![];const _0x343fe3=_0x13e3d6[_0x26b5ae(0x8dd)][_0x26b5ae(0x29f)][0x0];if(_0x343fe3){_0x142513[_0x26b5ae(0x736)]=![];try{const _0x392cb0=await extractTextFromPdf(_0x343fe3);await analyzeBlueprintForTopics(_0x392cb0);}catch(_0x250c36){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x4d2367[_0x26b5ae(0xed5)][_0x26b5ae(0xbca)](_0x26b5ae(0x515));}}}),_0x1ecc55&&_0x1ecc55['addEventListener'](_0x35608c(0xefa),_0x22b628=>{const _0x30350c=_0x35608c,_0x3417e4=_0x22b628['target'][_0x30350c(0xa0a)];_0x949280[_0x30350c(0xed5)][_0x30350c(0x6dd)](_0x30350c(0x515),!_0x3417e4),_0x142513[_0x30350c(0x736)]=_0x3417e4;}),_0x5893cc&&(_0x5893cc&&_0x5893cc['addEventListener'](_0x35608c(0x7b0),_0x3c7bc8=>{const _0x1eb6a5=_0x35608c,_0x4d3fbe=_0x3c7bc8['target'][_0x1eb6a5(0x366)](_0x1eb6a5(0xbfe)),_0x31badc=_0x3c7bc8[_0x1eb6a5(0x8dd)]['closest']('.generate-content-btn');if(_0x4d3fbe){const _0x12efe8=unescape(_0x4d3fbe[_0x1eb6a5(0x261)][_0x1eb6a5(0x308)]);generateQuizForSingleTopic(_0x12efe8);}else{if(_0x31badc){const _0x987a84=unescape(_0x31badc['dataset'][_0x1eb6a5(0x308)]);handleGenerateTeachingContent(_0x987a84);}}}));}_0x21d788&&_0x21d788['addEventListener'](_0x35608c(0x7b0),handleGenerateFromBlueprint);const _0x2c866f=document[_0x35608c(0x6ec)](_0x35608c(0x631)),_0x525fa0=document[_0x35608c(0x6ec)](_0x35608c(0x491));_0x2c866f&&_0x2c866f[_0x35608c(0x504)](_0x35608c(0xefa),_0x5201df=>{const _0x128916=_0x35608c;_0x525fa0[_0x128916(0x736)]=_0x5201df[_0x128916(0x8dd)][_0x128916(0x29f)][_0x128916(0x83b)]===0x0;});_0x525fa0&&_0x525fa0[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x35608c(0x504)](_0x35608c(0x7b0),handleLoadQuiz),startQuizBtn[_0x35608c(0x504)](_0x35608c(0x7b0),async()=>{const _0x1324d6=_0x35608c,_0x15cbb2=document[_0x1324d6(0x6ec)](_0x1324d6(0xb22));currentStudentName=_0x15cbb2[_0x1324d6(0x8c2)];if(!currentStudentName){showMessage(_0x1324d6(0xda4));return;}try{const _0x187bdd=currentQuizData['id'],_0x4d6a19=doc(db,_0x1324d6(0x509)+appId+_0x1324d6(0xd97)+_0x187bdd+'/submissions',currentStudentName),_0x7cfa2d=await getDoc(_0x4d6a19);!_0x7cfa2d[_0x1324d6(0xa82)]()?await setDoc(_0x4d6a19,{'studentName':currentStudentName,'startedAt':new Date()[_0x1324d6(0xbae)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x4d6a19,{'startedAt':new Date()[_0x1324d6(0xbae)]()});}catch(_0xfc5687){console[_0x1324d6(0x61c)](_0x1324d6(0x399),_0xfc5687),showMessage(_0x1324d6(0xbf7));return;}studentNameSelectionView[_0x1324d6(0xed5)][_0x1324d6(0xbca)](_0x1324d6(0x515)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x35608c(0x6ec)]('join-live-game-btn')[_0x35608c(0x504)]('click',showJoinGameView),document[_0x35608c(0x6ec)]('confirm-join-game-btn')['addEventListener']('click',handleJoinLiveGame),document['getElementById']('back-to-student-initial-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),()=>showView('student'));const _0x1534ed=()=>{const _0xd6b15b=_0x35608c,_0x5408c0=document['getElementById'](_0xd6b15b(0x701))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0xd6b15b(0x3be)]();return _0xd6b15b(0xc4d)+(_0x5408c0||_0xd6b15b(0x385));},_0xb058c3=document[_0x35608c(0x6ec)](_0x35608c(0xcae));_0xb058c3&&_0xb058c3['addEventListener']('input',_0x3c8bcb=>{const _0x2a7649=_0x35608c,_0x1d8b50=_0x3c8bcb[_0x2a7649(0x8dd)]['value'][_0x2a7649(0x3be)]()[_0x2a7649(0xdd8)](),_0x56a6ac=document[_0x2a7649(0x6ec)](_0x2a7649(0x780)),_0x544348=_0x56a6ac[_0x2a7649(0xcf1)](_0x2a7649(0x22f));_0x544348[_0x2a7649(0x9ce)](_0x325430=>{const _0xb86d5b=_0x2a7649;let _0x2e7ede=![];const _0x28e37d=_0x325430[_0xb86d5b(0xcf1)](_0xb86d5b(0xeb3));_0x28e37d[_0xb86d5b(0x9ce)](_0x4f85c3=>{const _0x6b2525=_0xb86d5b,_0xd5d3ab=_0x4f85c3['querySelector']('.topic-name-display')[_0x6b2525(0x337)][_0x6b2525(0x3be)]();_0xd5d3ab[_0x6b2525(0x9ee)](_0x1d8b50)?(_0x4f85c3['style'][_0x6b2525(0x35a)]=_0x6b2525(0x5fd),_0x2e7ede=!![]):_0x4f85c3[_0x6b2525(0xdb7)][_0x6b2525(0x35a)]=_0x6b2525(0xd62);}),_0x2e7ede?_0x325430[_0xb86d5b(0xdb7)][_0xb86d5b(0x35a)]=_0xb86d5b(0x6dc):_0x325430[_0xb86d5b(0xdb7)][_0xb86d5b(0x35a)]=_0xb86d5b(0xd62);});});document[_0x35608c(0x6ec)](_0x35608c(0x2f0))['addEventListener'](_0x35608c(0x7b0),()=>exportTableAsImage(_0x35608c(0xeef),_0x1534ed())),document[_0x35608c(0x6ec)](_0x35608c(0x597))['addEventListener']('click',()=>exportTableAsPDF(_0x35608c(0x815),_0x1534ed())),document[_0x35608c(0x6ec)](_0x35608c(0x789))[_0x35608c(0x504)]('click',()=>exportTableAsWord(_0x35608c(0xeef),_0x1534ed())),document[_0x35608c(0x6ec)](_0x35608c(0x92f))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>exportTableAsExcel(_0x35608c(0x815),_0x1534ed()));const _0x2588d2=()=>{const _0x4a2bec=_0x35608c,_0x32bc78=document[_0x4a2bec(0x6ec)]('results-quiz-title')['textContent'][_0x4a2bec(0x3cc)](/[^a-z0-9]/gi,'_')[_0x4a2bec(0x3be)]();return _0x4a2bec(0xdaa)+(_0x32bc78||_0x4a2bec(0x385));};document[_0x35608c(0x6ec)](_0x35608c(0xe92))['addEventListener'](_0x35608c(0x7b0),()=>exportTableAsImage(_0x35608c(0x7da),_0x2588d2())),document[_0x35608c(0x6ec)]('export-leaderboard-pdf-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),()=>exportTableAsPDF(_0x35608c(0x95d),_0x2588d2())),document[_0x35608c(0x6ec)](_0x35608c(0xe14))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>exportTableAsWord(_0x35608c(0x7da),_0x2588d2())),document[_0x35608c(0x6ec)]('export-leaderboard-excel-btn')['addEventListener']('click',()=>exportTableAsExcel(_0x35608c(0x95d),_0x2588d2())),projectQuizzesList[_0x35608c(0x504)](_0x35608c(0x7b0),async _0x3e5fb1=>{const _0x320c75=_0x35608c,_0x5a697b=_0x3e5fb1['target'][_0x320c75(0x366)](_0x320c75(0xe9f)),_0x5f11e1=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)](_0x320c75(0xc8b)),_0x1b42c1=_0x3e5fb1['target'][_0x320c75(0x366)]('.compare-results-btn'),_0x366c2c=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)]('.generate-lesson-btn'),_0x3823db=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)](_0x320c75(0x587)),_0x26184d=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)]('.copy-quiz-id-list-btn'),_0x1925e6=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)](_0x320c75(0xbec)),_0xe055e3=_0x3e5fb1['target']['closest']('.quiz-settings-btn'),_0x65ca02=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)](_0x320c75(0x2e3)),_0x1df7d0=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)](_0x320c75(0x891)),_0x565982=_0x3e5fb1['target'][_0x320c75(0x366)](_0x320c75(0xe5e)),_0x30c6a0=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)](_0x320c75(0x82e)),_0x3601b0=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)](_0x320c75(0x993)),_0x2a912f=_0x3e5fb1['target'][_0x320c75(0x366)](_0x320c75(0xcba)),_0x16eb89=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)](_0x320c75(0xbff)),_0x3db4e6=_0x3e5fb1[_0x320c75(0x8dd)]['closest'](_0x320c75(0x73e)),_0x1f9bd8=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)](_0x320c75(0x5b9)),_0x3a9747=_0x3e5fb1['target'][_0x320c75(0x366)](_0x320c75(0xe96)),_0x2f75f6=_0x3e5fb1['target'][_0x320c75(0x366)]('.quiz-status-btn'),_0x4b77b0=_0x3e5fb1[_0x320c75(0x8dd)]['closest'](_0x320c75(0x21f)),_0x4e49c0=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)](_0x320c75(0x4b1)),_0x4e703c=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)](_0x320c75(0xbc7)),_0x7e5bfd=_0x3e5fb1[_0x320c75(0x8dd)][_0x320c75(0x366)](_0x320c75(0xbe6));if(_0x4e703c){const _0xfdeea2=_0x4e703c[_0x320c75(0x261)][_0x320c75(0x3ac)],_0x46f5fa=_0x4e703c[_0x320c75(0x261)][_0x320c75(0x5ca)],_0x211028=allQuizzes[_0x320c75(0x426)](_0x44d307=>_0x44d307['id']===_0xfdeea2);_0x211028&&showGameStartConfirmationModal(_0xfdeea2,_0x46f5fa,_0x211028[_0x320c75(0x308)]);}else{if(_0x7e5bfd){const _0x3fee2a=_0x7e5bfd[_0x320c75(0x261)]['quizId'];handleStartLiveRace(_0x3fee2a);}else{if(_0x4b77b0){const _0x459fd3=_0x4b77b0[_0x320c75(0x261)]['quizId'],_0x3de7b1=document[_0x320c75(0x6ec)](_0x320c75(0x998)+_0x459fd3);_0x3de7b1&&_0x3de7b1['classList']['toggle'](_0x320c75(0x515));}else{if(_0x5f11e1){const _0xe612e=_0x5f11e1[_0x320c75(0x261)][_0x320c75(0x3ac)],_0x166984=allQuizzes[_0x320c75(0x426)](_0x522dad=>_0x522dad['id']===_0xe612e);_0x166984&&handleGenerateParallelPostTest(_0x166984);}else{if(_0x1b42c1)handleCompareResults(_0x1b42c1[_0x320c75(0x261)]['quizId'],_0x1b42c1[_0x320c75(0x261)][_0x320c75(0xa81)]);else{if(_0x366c2c){const _0x4d6afd=_0x366c2c[_0x320c75(0x261)][_0x320c75(0x3ac)],_0x1a5ce9=allQuizzes[_0x320c75(0x426)](_0x31695e=>_0x31695e['id']===_0x4d6afd);_0x1a5ce9&&_0x1a5ce9[_0x320c75(0x454)]?(displayLessonPlan(_0x1a5ce9[_0x320c75(0x454)],_0x1a5ce9),showConfirmation(_0x320c75(0x50d),()=>handleGenerateLessonPlan(_0x4d6afd)),document['getElementById']('confirmation-modal')[_0x320c75(0x427)]('h3')[_0x320c75(0x337)]=_0x320c75(0xc49),document[_0x320c75(0x6ec)](_0x320c75(0x5c3))['textContent']=_0x320c75(0x957)):handleGenerateLessonPlan(_0x4d6afd);}else{if(_0x3823db)handleToggleStarQuiz(_0x3823db[_0x320c75(0x261)][_0x320c75(0x3ac)]);else{if(_0x26184d)copyTextToClipboard(_0x26184d['dataset'][_0x320c75(0x3ac)],_0x320c75(0xc14));else{if(_0x1925e6)handleOpenQuizEditor(_0x1925e6['dataset'][_0x320c75(0x3ac)]);else{if(_0xe055e3)handleQuizSettings(_0xe055e3[_0x320c75(0x261)][_0x320c75(0x3ac)]);else{if(_0x65ca02)handleDuplicateQuiz(_0x65ca02[_0x320c75(0x261)][_0x320c75(0x3ac)]);else{if(_0x1df7d0)handleRenameQuiz(_0x1df7d0[_0x320c75(0x261)][_0x320c75(0x3ac)],_0x1df7d0[_0x320c75(0x261)]['topic']);else{if(_0x565982){const _0x4ccc2d=_0x565982[_0x320c75(0x261)][_0x320c75(0x3ac)],_0x26f044=allQuizzes[_0x320c75(0x426)](_0x543f7b=>_0x543f7b['id']===_0x4ccc2d);_0x26f044&&handleGenerateParallelFromBank(_0x26f044);}else{if(_0x30c6a0)handleMoveQuiz(_0x30c6a0['dataset'][_0x320c75(0x3ac)]);else{if(_0x3601b0)handleManualQuizPairing(_0x3601b0['dataset']['quizId']);else{if(_0x2a912f)handleUnpairQuiz(_0x2a912f['dataset'][_0x320c75(0x3ac)]);else{if(_0x16eb89){const _0x34757b=_0x16eb89[_0x320c75(0x261)][_0x320c75(0x3ac)],_0x20ba28=allQuizzes[_0x320c75(0x426)](_0x57050a=>_0x57050a['id']===_0x34757b);if(_0x20ba28)startPresentation(_0x20ba28);}else{if(_0x3db4e6){const _0x2c6956=_0x3db4e6['dataset']['quizId'],_0x89d6a9=allQuizzes[_0x320c75(0x426)](_0x453e05=>_0x453e05['id']===_0x2c6956);_0x89d6a9&&(currentQuizData=_0x89d6a9,startAdminTest());}else{if(_0x1f9bd8)actionTargetId=_0x1f9bd8[_0x320c75(0x261)][_0x320c75(0x3ac)],document['getElementById'](_0x320c75(0x2e0))[_0x320c75(0xed5)][_0x320c75(0xb8a)](_0x320c75(0x515));else{if(_0x3a9747)showConfirmation(_0x320c75(0x29b)+_0x3a9747['dataset'][_0x320c75(0x308)]+_0x320c75(0xd02),()=>handleDeleteQuiz(_0x3a9747[_0x320c75(0x261)][_0x320c75(0x3ac)]));else{if(_0x2f75f6)handleQuizStatus(_0x2f75f6[_0x320c75(0x261)][_0x320c75(0x3ac)]);else{if(_0x4e49c0)handleGenerateEasyVersionQuiz(_0x4e49c0[_0x320c75(0x261)][_0x320c75(0x3ac)]);else _0x5a697b&&showQuizDetailView(_0x5a697b[_0x320c75(0x261)][_0x320c75(0x3ac)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x35608c(0x6ec)](_0x35608c(0xa91))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>showView('student')),document['getElementById']('confirm-team-players-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),confirmAndStartTeamQuiz),document['getElementById'](_0x35608c(0x95d))[_0x35608c(0x427)](_0x35608c(0xa46))[_0x35608c(0x504)](_0x35608c(0x7b0),_0x5ebe33=>{const _0x4e31f9=_0x35608c,_0x19cdb3=_0x5ebe33[_0x4e31f9(0x8dd)][_0x4e31f9(0x366)](_0x4e31f9(0x972));if(!_0x19cdb3||!_0x19cdb3[_0x4e31f9(0x261)]['sort'])return;const _0x406b7f=_0x19cdb3[_0x4e31f9(0x261)]['sort'];if(quizLeaderboardSortBy===_0x406b7f)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x4e31f9(0x9a1)?_0x4e31f9(0xa19):_0x4e31f9(0x9a1);else{quizLeaderboardSortBy=_0x406b7f;const _0xe23988=[_0x4e31f9(0xba6)];quizLeaderboardSortOrder=_0xe23988[_0x4e31f9(0x9ee)](_0x406b7f)?_0x4e31f9(0x9a1):_0x4e31f9(0xa19);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x35608c(0x6ec)]('close-presentation-btn')[_0x35608c(0x504)]('click',closePresentation),document[_0x35608c(0x6ec)]('prev-question-btn')[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x35608c(0x4d1))[_0x35608c(0x504)]('click',()=>{const _0x3508d4=_0x35608c;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x3508d4(0xa08)][_0x3508d4(0x83b)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x35608c(0x504)](_0x35608c(0x490),()=>{const _0x52622f=_0x35608c;!document[_0x52622f(0x2bd)]&&(presentationModal['style'][_0x52622f(0x35a)]=_0x52622f(0xd62));}),document[_0x35608c(0x6ec)](_0x35608c(0x407))[_0x35608c(0x504)](_0x35608c(0x7b0),handleDeleteAllStudents),studentList[_0x35608c(0x504)](_0x35608c(0x7b0),_0x1bb875=>{const _0x14adc5=_0x35608c,_0x512172=_0x1bb875[_0x14adc5(0x8dd)][_0x14adc5(0x366)]('.delete-student-btn');if(_0x512172){const _0x32d9b2=_0x512172[_0x14adc5(0x261)][_0x14adc5(0xba6)];handleDeleteStudent(_0x32d9b2);}}),document[_0x35608c(0x6ec)](_0x35608c(0x52f))['addEventListener'](_0x35608c(0x7b0),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x35608c(0xefa),_0xf0e78b=>{const _0x1e0f68=_0x35608c,_0xbb1218=_0xf0e78b[_0x1e0f68(0x8dd)]['files'][0x0],_0x39c88c=document[_0x1e0f68(0x6ec)]('generate-from-file-btn'),_0x32926f=document['getElementById'](_0x1e0f68(0xd1c)),_0x37d4c4=document['getElementById']('separate-by-content-from-file-checkbox');_0xbb1218?(selectedFile=_0xbb1218,_0x37d4c4[_0x1e0f68(0xa0a)]?(_0x39c88c[_0x1e0f68(0x736)]=!![],analyzeFileForTopics(_0xbb1218)):(_0x39c88c[_0x1e0f68(0x736)]=![],_0x32926f[_0x1e0f68(0xed5)][_0x1e0f68(0xbca)](_0x1e0f68(0x515)))):(selectedFile=null,_0x39c88c[_0x1e0f68(0x736)]=!![],_0x32926f['classList'][_0x1e0f68(0xbca)](_0x1e0f68(0x515)));}),document[_0x35608c(0x6ec)]('separate-by-content-from-file-checkbox')['addEventListener'](_0x35608c(0xefa),_0x320b07=>{const _0x64e629=_0x35608c,_0x1abb2a=_0x320b07[_0x64e629(0x8dd)][_0x64e629(0xa0a)],_0x2879fc=document['getElementById'](_0x64e629(0x52f)),_0x2fb698=document[_0x64e629(0x6ec)](_0x64e629(0xd1c));_0x1abb2a?(_0x2879fc[_0x64e629(0x736)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x2fb698[_0x64e629(0xed5)]['remove'](_0x64e629(0x515)),document[_0x64e629(0x6ec)](_0x64e629(0x994))[_0x64e629(0x674)]=_0x64e629(0x2fc))):(_0x2fb698[_0x64e629(0xed5)]['add'](_0x64e629(0x515)),_0x2879fc[_0x64e629(0x736)]=!selectedFile);}),document[_0x35608c(0x6ec)](_0x35608c(0xd1c))[_0x35608c(0x504)](_0x35608c(0x7b0),_0x246b0a=>{const _0x34f411=_0x35608c,_0x52a312=_0x246b0a[_0x34f411(0x8dd)][_0x34f411(0x366)](_0x34f411(0x315)),_0x4d2789=_0x246b0a['target'][_0x34f411(0x366)](_0x34f411(0xe77));if(_0x52a312){const _0x5676a7=unescape(_0x52a312['dataset'][_0x34f411(0x308)]);generateHybridQuizForTopic(_0x5676a7);}else{if(_0x4d2789){const _0xf9265d=unescape(_0x4d2789[_0x34f411(0x261)][_0x34f411(0x308)]),_0x44a72f=document['getElementById']('difficulty-level-select')[_0x34f411(0x8c2)];handleGenerateAndShowLesson(_0xf9265d,_0x44a72f);}}}),document[_0x35608c(0x6ec)](_0x35608c(0x4ee))[_0x35608c(0x504)](_0x35608c(0xefa),_0x5eb25c=>{const _0x5bcbb4=_0x35608c,_0x3dcfac=document[_0x5bcbb4(0x6ec)](_0x5bcbb4(0x829)),_0x2a1fe4=document[_0x5bcbb4(0x6ec)]('timer-duration-label'),_0x57a55a=document[_0x5bcbb4(0x6ec)](_0x5bcbb4(0xb27));_0x5eb25c[_0x5bcbb4(0x8dd)]['value']===_0x5bcbb4(0xd62)?_0x3dcfac[_0x5bcbb4(0xed5)][_0x5bcbb4(0xbca)]('hidden'):(_0x3dcfac[_0x5bcbb4(0xed5)][_0x5bcbb4(0xb8a)](_0x5bcbb4(0x515)),_0x5eb25c[_0x5bcbb4(0x8dd)][_0x5bcbb4(0x8c2)]===_0x5bcbb4(0x1e6)?(_0x2a1fe4['textContent']=_0x5bcbb4(0xbe1),_0x57a55a[_0x5bcbb4(0x8c2)]='10'):(_0x2a1fe4[_0x5bcbb4(0x337)]=_0x5bcbb4(0xc55),_0x57a55a['value']='30'));}),document[_0x35608c(0x6ec)](_0x35608c(0x94c))[_0x35608c(0x504)]('change',_0x331548=>{const _0x2ca699=_0x35608c,_0x50f083=document['getElementById'](_0x2ca699(0x48c)),_0x15185c=_0x331548[_0x2ca699(0x8dd)][_0x2ca699(0x8c2)],_0x1b4de0=document[_0x2ca699(0x427)]('label[for=\x22num-questions\x22]'),_0x2c42b0=document[_0x2ca699(0x6ec)](_0x2ca699(0xc61)),_0x126a62=document[_0x2ca699(0x6ec)](_0x2ca699(0xb86));_0x15185c===_0x2ca699(0xf06)?_0x1b4de0[_0x2ca699(0x337)]=_0x2ca699(0xe44):_0x1b4de0[_0x2ca699(0x337)]=_0x2ca699(0x652),_0x15185c===_0x2ca699(0xbb3)||_0x15185c==='fill_in_with_choices'||_0x15185c===_0x2ca699(0xc5c)?_0x50f083[_0x2ca699(0xed5)][_0x2ca699(0xb8a)](_0x2ca699(0x515)):_0x50f083[_0x2ca699(0xed5)][_0x2ca699(0xbca)](_0x2ca699(0x515)),_0x2c42b0[_0x2ca699(0xd94)]=_0x126a62['value'];}),document[_0x35608c(0x6ec)](_0x35608c(0xb86))[_0x35608c(0x504)](_0x35608c(0x671),_0x53f166=>{const _0xccae75=_0x35608c;document['getElementById']('passing-score-input')[_0xccae75(0xd94)]=_0x53f166[_0xccae75(0x8dd)]['value'];}),document[_0x35608c(0x6ec)](_0x35608c(0xa9d))['addEventListener'](_0x35608c(0xefa),_0x2329d0=>{const _0x1a9665=_0x35608c,_0x3cff40=document[_0x1a9665(0x6ec)](_0x1a9665(0x89b)),_0x382d01=document[_0x1a9665(0x6ec)]('modal-timer-duration-label'),_0x584ba2=document['getElementById']('modal-timer-duration-input');_0x2329d0[_0x1a9665(0x8dd)][_0x1a9665(0x8c2)]===_0x1a9665(0xd62)?_0x3cff40[_0x1a9665(0xed5)][_0x1a9665(0xbca)](_0x1a9665(0x515)):(_0x3cff40[_0x1a9665(0xed5)][_0x1a9665(0xb8a)](_0x1a9665(0x515)),_0x2329d0[_0x1a9665(0x8dd)][_0x1a9665(0x8c2)]===_0x1a9665(0x1e6)?_0x382d01[_0x1a9665(0x337)]=_0x1a9665(0xbe1):_0x382d01[_0x1a9665(0x337)]=_0x1a9665(0xc55));}),document[_0x35608c(0x6ec)]('cancel-quiz-edits-btn')['addEventListener'](_0x35608c(0x7b0),()=>{const _0x250cbf=_0x35608c;document['getElementById'](_0x250cbf(0xe61))['classList'][_0x250cbf(0xbca)](_0x250cbf(0x515));}),document[_0x35608c(0x6ec)](_0x35608c(0x8d7))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x198270=_0x35608c;document['getElementById']('quiz-editor-modal')[_0x198270(0xed5)]['add']('hidden');}),document[_0x35608c(0x6ec)](_0x35608c(0x36c))[_0x35608c(0x504)](_0x35608c(0x7b0),handleVerifyAnswersInEditor),document[_0x35608c(0x6ec)](_0x35608c(0x356))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x544634=_0x35608c;document[_0x544634(0x6ec)]('quiz-editor-modal')[_0x544634(0xed5)][_0x544634(0xbca)]('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document['getElementById'](_0x35608c(0x27a))['addEventListener']('click',handleAutoFixLatex);const _0x134e6a=document[_0x35608c(0x6ec)]('quiz-editor-questions-container');_0x134e6a&&_0x134e6a[_0x35608c(0x504)](_0x35608c(0x7b0),_0x14f580=>{const _0x2f07a4=_0x35608c,_0x4bab84=_0x14f580[_0x2f07a4(0x8dd)][_0x2f07a4(0x366)]('.regenerate-question-editor-btn');if(_0x4bab84){const _0x5a1bda=_0x4bab84[_0x2f07a4(0x366)](_0x2f07a4(0x262)),_0x594ec7=parseInt(_0x5a1bda['dataset'][_0x2f07a4(0x5d8)],0xa);handleRegenerateQuestionInEditor(_0x594ec7);return;}const _0x58f0f1=_0x14f580[_0x2f07a4(0x8dd)][_0x2f07a4(0x366)](_0x2f07a4(0xcfb));if(_0x58f0f1){const _0x26de83=_0x58f0f1['closest'](_0x2f07a4(0x262)),_0x3e8eb4=parseInt(_0x26de83[_0x2f07a4(0x261)]['qIndex'],0xa);handleDeleteQuestionInEditor(_0x3e8eb4);return;}const _0x13d5c7=_0x14f580['target'][_0x2f07a4(0x366)](_0x2f07a4(0x9fb));if(_0x13d5c7){handleAddQuestionInEditor();return;}});document[_0x35608c(0x6ec)](_0x35608c(0x25e))[_0x35608c(0x504)](_0x35608c(0x7b0),openQuizBankModal),document[_0x35608c(0x6ec)](_0x35608c(0x879))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0xa890dc=_0x35608c;document[_0xa890dc(0x6ec)](_0xa890dc(0x63f))[_0xa890dc(0xed5)][_0xa890dc(0xbca)](_0xa890dc(0x515));}),document[_0x35608c(0x6ec)](_0x35608c(0x49f))['addEventListener'](_0x35608c(0x671),_0x5b71a8=>renderQuizBankList(_0x5b71a8['target'][_0x35608c(0x8c2)]));const _0x151baf=document[_0x35608c(0x6ec)]('math-topics-checkbox-container');if(_0x151baf){let _0x14cf6a=null;_0x151baf[_0x35608c(0x504)](_0x35608c(0x7b0),_0x30f27d=>{const _0x1d3387=_0x35608c,_0xb393ff=_0x30f27d[_0x1d3387(0x8dd)],_0x4813b9=_0xb393ff['closest'](_0x1d3387(0x899)),_0x2c5e0d=_0xb393ff[_0x1d3387(0x366)](_0x1d3387(0x758)),_0x412452=_0xb393ff[_0x1d3387(0x366)](_0x1d3387(0xa85)),_0x1ef5bd=_0xb393ff[_0x1d3387(0x366)](_0x1d3387(0xc34));if(_0x2c5e0d){_0x30f27d[_0x1d3387(0xf44)]();const _0x540284=_0x2c5e0d['dataset']['id'],_0x197a7b=_0x2c5e0d[_0x1d3387(0x366)](_0x1d3387(0xf2d))[_0x1d3387(0x427)](_0x1d3387(0x3fd))[_0x1d3387(0x337)];showConfirmation(_0x1d3387(0x6a6)+_0x197a7b+'\x22?',()=>handleDeleteCustomTopic(_0x540284));}else{if(_0x4813b9){_0x30f27d[_0x1d3387(0xf44)]();_0x14cf6a&&toggleTopicEditMode(_0x14cf6a,![]);const _0x378d03=_0x4813b9['closest']('[data-topic-container-id]');_0x14cf6a=_0x378d03,toggleTopicEditMode(_0x378d03,!![]);}else{if(_0x412452){_0x30f27d['preventDefault']();const _0x5dcde2=_0x412452['dataset']['id'],_0x5f72f=_0x412452[_0x1d3387(0x366)](_0x1d3387(0x648)),_0x107db5=_0x5f72f[_0x1d3387(0x427)]('.topic-name-input')['value'];handleUpdateCustomTopic(_0x5dcde2,_0x107db5),_0x14cf6a=null;}else{if(_0x1ef5bd){_0x30f27d[_0x1d3387(0xf44)]();const _0x7206f=_0x1ef5bd[_0x1d3387(0x366)](_0x1d3387(0x648));toggleTopicEditMode(_0x7206f,![]),_0x14cf6a=null;}}}}}),document[_0x35608c(0x6ec)](_0x35608c(0x6ed))[_0x35608c(0x504)]('click',()=>{const _0x5a8843=_0x35608c;document[_0x5a8843(0x6ec)](_0x5a8843(0xaf8))[_0x5a8843(0xed5)][_0x5a8843(0xbca)](_0x5a8843(0x515));}),document['getElementById']('close-lesson-plan-modal-footer-btn')['addEventListener'](_0x35608c(0x7b0),()=>{const _0xce7b69=_0x35608c;document['getElementById'](_0xce7b69(0xaf8))[_0xce7b69(0xed5)]['add'](_0xce7b69(0x515));}),document[_0x35608c(0x6ec)](_0x35608c(0x945))[_0x35608c(0x504)](_0x35608c(0x7b0),handleExportLessonPDF);}document[_0x35608c(0x6ec)](_0x35608c(0x9d1))[_0x35608c(0x504)](_0x35608c(0x7b0),()=>{const _0x321142=_0x35608c;document[_0x321142(0x6ec)](_0x321142(0xd68))[_0x321142(0xed5)]['add']('hidden');}),document[_0x35608c(0x6ec)](_0x35608c(0x3a5))['addEventListener']('click',()=>{const _0xd8f289=_0x35608c;document['getElementById'](_0xd8f289(0xd68))[_0xd8f289(0xed5)][_0xd8f289(0xbca)](_0xd8f289(0x515));}),setupComparisonModalTabs(),document['body'][_0x35608c(0x504)]('click',function(_0x296973){const _0x394c1a=_0x35608c;if(_0x296973[_0x394c1a(0x8dd)]['classList'][_0x394c1a(0x84c)]('practice-topic-btn')){const _0x56bbec=unescape(_0x296973[_0x394c1a(0x8dd)][_0x394c1a(0x261)][_0x394c1a(0x308)]);startSkillPractice(_0x56bbec);}}),document['getElementById'](_0x35608c(0x64f))[_0x35608c(0x504)](_0x35608c(0x7b0),_0x28039a=>{const _0x5e96e3=_0x35608c,_0x341aa4=_0x28039a['target']['closest'](_0x5e96e3(0x75f));if(_0x341aa4){const _0x4a6f20=_0x341aa4[_0x5e96e3(0x261)][_0x5e96e3(0xba6)];handleDeleteSubmission(_0x4a6f20);return;}const _0x12150f=_0x28039a[_0x5e96e3(0x8dd)][_0x5e96e3(0x366)]('.edit-points-btn');if(_0x12150f){const _0x484274=_0x12150f[_0x5e96e3(0x261)][_0x5e96e3(0xba6)],_0x5247e6=_0x12150f[_0x5e96e3(0x261)][_0x5e96e3(0xb9a)],_0x56d6ec=prompt(_0x5e96e3(0x8dc)+_0x484274+'\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)',_0x5247e6);if(_0x56d6ec!==null&&_0x56d6ec[_0x5e96e3(0xdd8)]()!==''){const _0x4dff9e=parseInt(_0x56d6ec,0xa);!isNaN(_0x4dff9e)?handleManualEditPoints(_0x484274,_0x4dff9e):alert(_0x5e96e3(0x83a));}}}),document[_0x35608c(0x6ec)](_0x35608c(0x965))?.[_0x35608c(0x504)]('click',()=>{const _0x7e1cd0=_0x35608c;document[_0x7e1cd0(0x6ec)]('pin-entry-modal')['classList'][_0x7e1cd0(0xbca)](_0x7e1cd0(0x515));}),document[_0x35608c(0xcf1)](_0x35608c(0xaa9))[_0x35608c(0x9ce)](_0x1f4c2d=>{const _0x1a6fd7=_0x35608c;_0x1f4c2d[_0x1a6fd7(0x504)](_0x1a6fd7(0x7b0),()=>{const _0x46e7e6=_0x1a6fd7;handlePinKeyPress(_0x1f4c2d['dataset'][_0x46e7e6(0xa03)]);});}),document[_0x35608c(0x6ec)](_0x35608c(0x8cd))?.['addEventListener'](_0x35608c(0x7b0),()=>{const _0x532ee5=_0x35608c;handlePinKeyPress(_0x532ee5(0x9f8));});}async function handleStartGroupMode(_0xd250db,_0x2b953a=![]){const _0x341462=_0x2e2582,_0x2445bc=allQuizzes['find'](_0x1b5eed=>_0x1b5eed['id']===_0xd250db)||allQuizzesGlobal[_0x341462(0x426)](_0x3a5dad=>_0x3a5dad['id']===_0xd250db);if(!_0x2445bc){showMessage(_0x341462(0x476));return;}currentQuizData=getShuffledQuiz(_0x2445bc);const _0x50e0a1=Math[_0x341462(0xabc)](0x3e8+Math['random']()*0x2328)[_0x341462(0xe25)]();try{const _0x2e50e9=await addDoc(collection(db,_0x341462(0x509)+appId+_0x341462(0xc66)),{'quizId':_0x2445bc['id'],'projectId':_0x2445bc[_0x341462(0x6ea)],'status':_0x341462(0x9ec),'pin':_0x50e0a1,'mode':_0x341462(0xdd3),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2b953a});currentTeamQuizId=_0x2e50e9['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x50e0a1,_0x2445bc[_0x341462(0x308)],'group'),listenForTeamQuizUpdates();}catch(_0x36b126){console[_0x341462(0x61c)](_0x341462(0x55d),_0x36b126),showMessage(_0x341462(0x2ea));}}async function showStudentProgressView(){const _0x39c59a=_0x2e2582;studentInitialView[_0x39c59a(0xed5)]['add'](_0x39c59a(0x515)),document[_0x39c59a(0x6ec)](_0x39c59a(0x66b))[_0x39c59a(0xed5)]['remove']('hidden');const _0x1a03dd=document[_0x39c59a(0x6ec)](_0x39c59a(0x36a)),_0x56af18=document['getElementById']('progress-student-select'),_0x27a153=document[_0x39c59a(0x6ec)]('student-progress-content');_0x27a153['innerHTML']=_0x39c59a(0x55f),_0x56af18[_0x39c59a(0x674)]=_0x39c59a(0x823),_0x56af18[_0x39c59a(0x736)]=!![],_0x1a03dd[_0x39c59a(0x674)]=_0x39c59a(0x2d3);if(allProjects[_0x39c59a(0x83b)]===0x0){const _0x237b70=collection(db,_0x39c59a(0x509)+appId+_0x39c59a(0x850)),_0x123a87=await getDocs(_0x237b70);allProjects=_0x123a87[_0x39c59a(0x875)][_0x39c59a(0x91f)](_0x3d6376=>({'id':_0x3d6376['id'],..._0x3d6376['data']()}));}const _0x343a63=allProjects['filter'](_0x843ecc=>_0x843ecc[_0x39c59a(0xe11)]?.['showInStudentDashboard']!==![]);_0x343a63['sort']((_0x9d2397,_0x4163b7)=>_0x9d2397['projectName']['localeCompare'](_0x4163b7['projectName'],'th')),_0x1a03dd['innerHTML']=_0x39c59a(0x3f1)+_0x343a63[_0x39c59a(0x91f)](_0xc62dd0=>_0x39c59a(0x3e4)+_0xc62dd0['id']+'\x22>'+_0xc62dd0['projectName']+_0x39c59a(0x645))['join'](''),_0x1a03dd[_0x39c59a(0xd11)]=()=>{const _0x5f4e22=_0x39c59a,_0x4d0dfd=_0x56af18['value'],_0x51f62e=_0x1a03dd[_0x5f4e22(0x8c2)];_0x56af18[_0x5f4e22(0x736)]=!![],_0x56af18[_0x5f4e22(0x674)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x27a153[_0x5f4e22(0x674)]=_0x5f4e22(0x351);if(!_0x51f62e)return;const _0x2f8dba=allProjects[_0x5f4e22(0x426)](_0x285167=>_0x285167['id']===_0x51f62e);if(!_0x2f8dba||!_0x2f8dba[_0x5f4e22(0x30d)])return;const _0x1fae6e=()=>{const _0x21b6b8=_0x5f4e22;_0x56af18[_0x21b6b8(0x674)]=_0x21b6b8(0x823)+_0x2f8dba[_0x21b6b8(0x30d)][_0x21b6b8(0x91f)](_0x550623=>_0x21b6b8(0x3e4)+_0x550623+'\x22>'+_0x550623+_0x21b6b8(0x645))[_0x21b6b8(0x8c3)](''),_0x56af18[_0x21b6b8(0x736)]=![];const _0x2110f7=Array[_0x21b6b8(0x30a)](_0x56af18[_0x21b6b8(0x25f)])[_0x21b6b8(0x91f)](_0x3126da=>_0x3126da[_0x21b6b8(0x8c2)]);if(_0x4d0dfd&&_0x2110f7['includes'](_0x4d0dfd))_0x56af18[_0x21b6b8(0x8c2)]=_0x4d0dfd,_0x56af18[_0x21b6b8(0xf07)](new Event(_0x21b6b8(0xefa)));else _0x2f8dba[_0x21b6b8(0x30d)]['length']===0x1&&(_0x56af18[_0x21b6b8(0x8c2)]=_0x2f8dba['students'][0x0],_0x56af18[_0x21b6b8(0xf07)](new Event(_0x21b6b8(0xefa))));};if(_0x2f8dba[_0x5f4e22(0xe11)]?.[_0x5f4e22(0xe76)]){if(sessionStorage[_0x5f4e22(0xe7f)](_0x5f4e22(0xca7)+_0x51f62e)===_0x5f4e22(0xbb9)){_0x1fae6e();return;}const _0x3fc06d=document[_0x5f4e22(0x6ec)](_0x5f4e22(0x272)),_0x1a9b79=document[_0x5f4e22(0x6ec)]('confirm-passcode-btn'),_0x24934f=document[_0x5f4e22(0x6ec)](_0x5f4e22(0xa60)),_0x2f7cdc=document[_0x5f4e22(0x6ec)]('student-passcode-input'),_0x4168e2=document[_0x5f4e22(0x6ec)](_0x5f4e22(0xb67));document['getElementById'](_0x5f4e22(0xd01))[_0x5f4e22(0x337)]=_0x5f4e22(0xc12)+_0x2f8dba['projectName'],_0x2f7cdc['value']='',_0x4168e2[_0x5f4e22(0xed5)][_0x5f4e22(0xbca)]('hidden'),_0x3fc06d['classList'][_0x5f4e22(0xb8a)](_0x5f4e22(0x515));const _0xac8581=()=>{const _0x28c1ee=_0x5f4e22,_0x5a7bb6=_0x2f7cdc['value']['trim']();_0x5a7bb6===_0x2f8dba[_0x28c1ee(0xe11)][_0x28c1ee(0xaaf)]?(sessionStorage[_0x28c1ee(0x2b8)](_0x28c1ee(0xca7)+_0x51f62e,_0x28c1ee(0xbb9)),_0x3fc06d['classList'][_0x28c1ee(0xbca)]('hidden'),_0x1fae6e(),_0x1a9b79[_0x28c1ee(0x637)]('click',_0xac8581)):_0x4168e2[_0x28c1ee(0xed5)][_0x28c1ee(0xb8a)](_0x28c1ee(0x515));};_0x1a9b79[_0x5f4e22(0xdba)]=_0xac8581,_0x24934f[_0x5f4e22(0xdba)]=()=>{const _0x19516c=_0x5f4e22;_0x3fc06d[_0x19516c(0xed5)]['add'](_0x19516c(0x515)),_0x1a03dd['value']='',_0x1a9b79[_0x19516c(0x637)](_0x19516c(0x7b0),_0xac8581);};}else _0x1fae6e();},_0x56af18[_0x39c59a(0xd11)]=()=>{const _0x3394e1=_0x39c59a,_0x1fe240=_0x1a03dd[_0x3394e1(0x8c2)],_0x327cbb=_0x56af18[_0x3394e1(0x8c2)];_0x1fe240&&_0x327cbb&&renderStudentProgressDashboard(_0x1fe240,_0x327cbb);};}async function confirmAndJoinSyncGame(){const _0x1f3b84=_0x2e2582;lastSeenQuestionIndex=-0x1,sessionStorage[_0x1f3b84(0xcbf)](_0x1f3b84(0xee7)),sessionStorage[_0x1f3b84(0xcbf)](_0x1f3b84(0x381)),Object[_0x1f3b84(0x66f)](sessionStorage)[_0x1f3b84(0x9ce)](_0x25bea8=>{const _0x37600b=_0x1f3b84;(_0x25bea8[_0x37600b(0xdb3)](_0x37600b(0x632))||_0x25bea8[_0x37600b(0xdb3)](_0x37600b(0xdbe))||_0x25bea8['startsWith'](_0x37600b(0xecf)))&&sessionStorage['removeItem'](_0x25bea8);});const _0x2a0cb1=Array[_0x1f3b84(0x30a)](document[_0x1f3b84(0xcf1)](_0x1f3b84(0x383)))[_0x1f3b84(0x91f)](_0x2139de=>_0x2139de[_0x1f3b84(0x8c2)]);if(_0x2a0cb1[_0x1f3b84(0x83b)]===0x0){showMessage(_0x1f3b84(0x8ab));return;}localTeamPlayers=_0x2a0cb1,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x565925=writeBatch(db),_0x213e0d=serverTimestamp();_0x2a0cb1[_0x1f3b84(0x9ce)](_0x3cd77d=>{const _0x2a4cad=_0x1f3b84,_0x2f89be=doc(db,_0x2a4cad(0x509)+appId+_0x2a4cad(0x8ac)+currentLiveGameId+'/players',_0x3cd77d),_0x15fc07={'name':_0x3cd77d,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':_0x2a4cad(0xb3d),'answers':[],'joinedAt':_0x213e0d,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x565925[_0x2a4cad(0x63c)](_0x2f89be,_0x15fc07,{'merge':!![]});}),await _0x565925[_0x1f3b84(0xc42)](),showView(_0x1f3b84(0x37e)),document[_0x1f3b84(0x6ec)]('student-team-selection-view')[_0x1f3b84(0xed5)][_0x1f3b84(0xbca)](_0x1f3b84(0x515)),currentStudentName=_0x2a0cb1[0x0],listenForSyncGameUpdates();const _0x291739={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1f3b84(0x2b8)](_0x1f3b84(0x9ad),JSON['stringify'](_0x291739)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x1f3b84(0x504)]('fullscreenchange',handleFullscreenChange),document[_0x1f3b84(0x504)](_0x1f3b84(0x556),handleVisibilityChange),enterFullscreen(),window[_0x1f3b84(0x504)](_0x1f3b84(0xe1a),resetDimTimer),window[_0x1f3b84(0x504)](_0x1f3b84(0x5d3),resetDimTimer),window[_0x1f3b84(0x504)]('touchstart',resetDimTimer),window['addEventListener'](_0x1f3b84(0x6ac),resetDimTimer),resetDimTimer());}catch(_0x567afa){console['error'](_0x1f3b84(0x8b2),_0x567afa),showMessage(_0x1f3b84(0x7d8)+_0x567afa[_0x1f3b84(0x784)]);}}async function resumeActiveGameSession(){const _0x6df749=_0x2e2582,_0x10e5c0=sessionStorage[_0x6df749(0xe7f)](_0x6df749(0x9ad));if(!_0x10e5c0)return;const _0x3dcdd6=JSON['parse'](_0x10e5c0),{gameId:_0x49be07,mode:_0x32d3e0,role:_0x248749,players:_0x447bbd,turnIndex:_0x21c597}=_0x3dcdd6;try{if(_0x248749===_0x6df749(0x2dd)&&_0x32d3e0===_0x6df749(0x5db)){const _0x4f503c=doc(db,_0x6df749(0x509)+appId+_0x6df749(0xa31),_0x49be07),_0x43d630=await getDoc(_0x4f503c);if(!_0x43d630['exists']()||_0x43d630[_0x6df749(0xe5c)]()[_0x6df749(0x4dc)]==='podium'||_0x43d630[_0x6df749(0xe5c)]()['status']===_0x6df749(0xbd6)){sessionStorage['removeItem'](_0x6df749(0x9ad));return;}console['log'](_0x6df749(0x9e2)+_0x49be07+')'),currentMode=_0x6df749(0x2dd),currentLiveGameId=_0x49be07,currentQuizData=_0x43d630['data']()[_0x6df749(0x23c)],showView(_0x6df749(0x37e)),listenForSyncGameUpdates();}else{if(_0x32d3e0===_0x6df749(0x5db)&&_0x447bbd){const _0x47775e=doc(db,_0x6df749(0x509)+appId+'/public/data/syncGames',_0x49be07),_0x405b9b=await getDoc(_0x47775e);if(!_0x405b9b[_0x6df749(0xa82)]()||_0x405b9b[_0x6df749(0xe5c)]()[_0x6df749(0x4dc)]===_0x6df749(0x709)||_0x405b9b['data']()['status']==='finished'){sessionStorage[_0x6df749(0xcbf)](_0x6df749(0x9ad));return;}console[_0x6df749(0xeec)](_0x6df749(0x53d)+_0x49be07+')'),currentLiveGameId=_0x49be07,currentStudentName=_0x447bbd[0x0],localTeamPlayers=_0x447bbd,showView(_0x6df749(0x37e)),listenForSyncGameUpdates();}else{if((_0x32d3e0===_0x6df749(0xcb4)||_0x32d3e0===_0x6df749(0xdd3))&&_0x447bbd){const _0x472c90=doc(db,_0x6df749(0x509)+appId+_0x6df749(0xc66),_0x49be07),_0x39c820=await getDoc(_0x472c90);if(!_0x39c820[_0x6df749(0xa82)]()||_0x39c820[_0x6df749(0xe5c)]()[_0x6df749(0x4dc)]===_0x6df749(0x709)||_0x39c820[_0x6df749(0xe5c)]()[_0x6df749(0x4dc)]==='finished'){sessionStorage[_0x6df749(0xcbf)](_0x6df749(0x9ad));return;}console[_0x6df749(0xeec)](_0x6df749(0xede)+_0x32d3e0+_0x6df749(0xcc8)+_0x49be07+')'),currentTeamQuizId=_0x49be07,localTeamPlayers=_0x447bbd,localQuestionIndex=_0x3dcdd6[_0x6df749(0x39e)]||0x0,localPlayerIndex=_0x3dcdd6[_0x6df749(0x677)]||0x0;const _0x3eea9e=_0x39c820['data'](),_0x14f3fa=doc(db,_0x6df749(0x509)+appId+_0x6df749(0x2d1),_0x3eea9e['quizId']),_0x2c2563=await getDoc(_0x14f3fa);_0x2c2563[_0x6df749(0xa82)]()&&(currentQuizData=getShuffledQuiz({'id':_0x2c2563['id'],..._0x2c2563[_0x6df749(0xe5c)]()}),showView('student'),studentInitialView['classList'][_0x6df749(0xbca)](_0x6df749(0x515)),_0x32d3e0===_0x6df749(0xdd3)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x301967){console[_0x6df749(0x61c)]('Failed\x20to\x20resume\x20game\x20session:',_0x301967),sessionStorage[_0x6df749(0xcbf)](_0x6df749(0x9ad));}}async function handleUsePowerup(_0x58c9ed,_0x340e25,_0x2eb3ec,_0x5a36bf,_0x2e1947){const _0x45f53d=_0x2e2582,_0x4739cd=_0x5a36bf['currentQuestionIndex'],_0x234f73='powerupUsed_q'+_0x4739cd+'_p'+_0x58c9ed,_0x5d41c3=sessionStorage['getItem'](_0x234f73);if(_0x5d41c3&&_0x340e25!==_0x45f53d(0x6d2)&&_0x340e25!=='strategyScan'){showMessage(_0x45f53d(0x9c1));const _0x7a87ff=document[_0x45f53d(0x6ec)]('use-powerup-'+_0x340e25);if(_0x7a87ff)_0x7a87ff[_0x45f53d(0x736)]=![];return;}if(_0x340e25===_0x45f53d(0x592)){sessionStorage[_0x45f53d(0x2b8)](_0x234f73,_0x340e25),playSystemSound(_0x45f53d(0x7bb)),renderStudentSyncQuestionView(_0x5a36bf);return;}const _0x15f3eb=doc(db,'artifacts/'+appId+_0x45f53d(0x8ac)+currentLiveGameId+_0x45f53d(0x80f),_0x58c9ed);try{await runTransaction(db,async _0x40b7df=>{const _0x456c74=_0x45f53d,_0x396ec6=await _0x40b7df[_0x456c74(0x987)](_0x15f3eb);if(!_0x396ec6[_0x456c74(0xa82)]())throw _0x456c74(0x841);const _0x4b2b00=_0x396ec6[_0x456c74(0xe5c)](),_0x16634f=_0x4b2b00[_0x456c74(0x5e1)]||{},_0x277c88=_0x16634f[_0x340e25]||0x0;if(_0x277c88<=0x0)throw'คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)';const _0x82e106={};_0x82e106[_0x456c74(0xc41)+_0x340e25]=increment(-0x1);_0x340e25!==_0x456c74(0x592)&&(_0x82e106[_0x456c74(0xc54)]=0x0);if(_0x340e25===_0x456c74(0x6d2)){const _0x858562=(_0x5a36bf['timerDuration']||0xf0)*0x3e8,_0x2a0934=_0x858562*0.25;_0x82e106[_0x456c74(0x467)]=increment(_0x2a0934);}_0x40b7df[_0x456c74(0xf45)](_0x15f3eb,_0x82e106);}),_0x340e25===_0x45f53d(0x660)&&sessionStorage[_0x45f53d(0x2b8)](_0x45f53d(0xee7),'true'),_0x340e25!==_0x45f53d(0x6d2)&&_0x340e25!==_0x45f53d(0x3cd)&&sessionStorage[_0x45f53d(0x2b8)](_0x234f73,_0x340e25),playSystemSound(_0x45f53d(0x7bb)),applyPowerupEffect(_0x58c9ed,_0x340e25,_0x2eb3ec,_0x5a36bf,_0x2e1947),(_0x340e25===_0x45f53d(0x7bc)||_0x340e25===_0x45f53d(0xedd)||_0x340e25===_0x45f53d(0x8e3)||_0x340e25==='revealOptions')&&renderStudentSyncQuestionView(_0x5a36bf),_0x340e25!==_0x45f53d(0x592)&&_0x2e1947['correctStreak']>0x0&&showMessage(_0x45f53d(0xc75)+_0x340e25+_0x45f53d(0xe4f));}catch(_0x2aaa59){console['error'](_0x45f53d(0x45b),_0x2aaa59),showMessage(typeof _0x2aaa59==='string'?_0x2aaa59:_0x45f53d(0x27c));const _0x23fd76=document[_0x45f53d(0x6ec)](_0x45f53d(0xf42)+_0x340e25);if(_0x23fd76)_0x23fd76['disabled']=![];}}async function getCachedOtherPlayers(_0x55c9e0,_0x49b87f){const _0x36e353=_0x2e2582,_0x67d90d=_0x55c9e0[_0x36e353(0x5fb)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x67d90d)return console[_0x36e353(0xeec)](_0x36e353(0x798)),cachedOtherPlayersForQuestion;console[_0x36e353(0xeec)](_0x36e353(0xc2a));const _0x16f295=collection(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+'/players'),_0x44b431=query(_0x16f295,where(_0x36e353(0x4dc),'==','active')),_0x3b8ca0=await getDocs(_0x44b431),_0x488bec=[];return _0x3b8ca0[_0x36e353(0x9ce)](_0x3212e6=>{const _0x5d3d58=_0x36e353,_0x322c93=_0x3212e6[_0x5d3d58(0xe5c)]();_0x488bec['push'](_0x322c93);}),cachedOtherPlayersForQuestion=_0x488bec,cachedQuestionIndexForPlayers=_0x67d90d,_0x488bec;}async function applyPowerupEffect(_0x3c2bf0,_0x1bf180,_0x1900a5,_0x3b7ded,_0x44242e){const _0x5a29b8=_0x2e2582,_0x578e48=_0x1900a5,_0x573ec7=_0x3b7ded[_0x5a29b8(0x5fb)];switch(_0x1bf180){case _0x5a29b8(0x592):showMessage(_0x5a29b8(0x733));break;case _0x5a29b8(0xf04):showMessage('🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง');break;case _0x5a29b8(0x6d2):const _0x2e726f=(_0x3b7ded[_0x5a29b8(0xedc)]||0xf0)*0.25;showMessage(_0x5a29b8(0x4a0)+_0x2e726f+'\x20วินาที');break;case'cutOne':case _0x5a29b8(0xedd):const _0x14cf64=document[_0x5a29b8(0xcf1)]('.live-answer-btn');if(_0x14cf64[_0x5a29b8(0x83b)]===0x0){showMessage(_0x5a29b8(0xdec));return;}const _0x3a1b35=_0x5a29b8(0xecf)+_0x573ec7+'_p'+_0x3c2bf0,_0x2a23de=JSON[_0x5a29b8(0xbbc)](sessionStorage['getItem'](_0x3a1b35)||'[]');let _0x52c9ff;const _0x18fac3=_0x578e48['questionType']||_0x3b7ded['shuffledQuiz'][_0x5a29b8(0x80d)];_0x18fac3===_0x5a29b8(0x35c)?_0x52c9ff=String(_0x578e48[_0x5a29b8(0xec0)])[_0x5a29b8(0x3be)]()==='true'?0x0:0x1:_0x52c9ff=_0x578e48[_0x5a29b8(0x526)];const _0x103952=Array[_0x5a29b8(0x30a)](_0x14cf64)[_0x5a29b8(0xe4e)](_0x2ca4d9=>parseInt(_0x2ca4d9[_0x5a29b8(0x261)]['value'])!==_0x52c9ff&&!_0x2a23de[_0x5a29b8(0x9ee)](_0x2ca4d9[_0x5a29b8(0x261)]['value']));if(_0x103952[_0x5a29b8(0x83b)]===0x0){showMessage(_0x5a29b8(0xd50));return;}shuffleArray(_0x103952);const _0x2797bd=_0x1bf180==='cutOne'?0x1:0x2,_0x3fb821=[];for(let _0xaddf85=0x0;_0xaddf85<_0x2797bd;_0xaddf85++){_0x103952[_0xaddf85]&&(_0x103952[_0xaddf85][_0x5a29b8(0xed5)][_0x5a29b8(0xbca)](_0x5a29b8(0x515)),_0x3fb821[_0x5a29b8(0x724)](_0x103952[_0xaddf85][_0x5a29b8(0x261)][_0x5a29b8(0x8c2)]));}const _0x33d634=[..._0x2a23de,..._0x3fb821];sessionStorage[_0x5a29b8(0x2b8)](_0x3a1b35,JSON[_0x5a29b8(0x908)](_0x33d634)),showMessage(_0x1bf180==='cutOne'?_0x5a29b8(0xf0a):'⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!');break;default:showMessage(_0x5a29b8(0xeaa)+_0x1bf180+'\x20แล้ว!');}}async function handleForceConfident(_0xaa555,_0x46905f){const _0x162dda=_0x2e2582;if(!currentLiveGameId||!_0xaa555)return;const _0x4d52bb=doc(db,_0x162dda(0x509)+appId+_0x162dda(0x8ac)+currentLiveGameId+_0x162dda(0x80f),_0xaa555);try{await updateDoc(_0x4d52bb,{'isForcedConfident':!![]}),showMessage(_0x162dda(0xc97)+_0x46905f+_0x162dda(0xd21));}catch(_0x13be0d){console[_0x162dda(0x61c)]('Failed\x20to\x20apply\x20forceConfident:',_0x13be0d),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}async function handleRefundPowerup(_0x16fe8d,_0x35cbd9){const _0x25068c=_0x2e2582,_0x2941c6=doc(db,_0x25068c(0x509)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x16fe8d);try{const _0x5505b7={};_0x5505b7['powerups.'+_0x35cbd9]=increment(0x1),await updateDoc(_0x2941c6,_0x5505b7),console[_0x25068c(0xeec)](_0x25068c(0x53b)+_0x35cbd9+_0x25068c(0xc98)+_0x16fe8d);}catch(_0xf205ed){console[_0x25068c(0x61c)](_0x25068c(0x3e3),_0xf205ed);}}async function handleApplyJinx(_0x115e8e,_0x27ffb8){const _0x10539f=_0x2e2582;if(!currentLiveGameId||!_0x115e8e)return;const _0xe12065=doc(db,_0x10539f(0x509)+appId+_0x10539f(0x8ac)+currentLiveGameId+_0x10539f(0x80f),_0x115e8e);try{await updateDoc(_0xe12065,{'isJinxed':!![]}),showMessage(_0x10539f(0x4fa)+_0x27ffb8+_0x10539f(0xd21));}catch(_0x1dc9db){console[_0x10539f(0x61c)](_0x10539f(0x502),_0x1dc9db),showMessage(_0x10539f(0xb0b));}}function activateFileInputAreaWithLoadedFile(){const _0x5d78d5=_0x2e2582,_0x7165b=document[_0x5d78d5(0x6ec)](_0x5d78d5(0x52f)),_0xdad8d3=document[_0x5d78d5(0x6ec)]('file-topics-list-container'),_0x5aaa99=document[_0x5d78d5(0x6ec)](_0x5d78d5(0x4e6));selectedFile?_0x5aaa99[_0x5d78d5(0xa0a)]?(_0x7165b[_0x5d78d5(0x736)]=!![],analyzeFileForTopics(selectedFile)):(_0x7165b['disabled']=![],_0xdad8d3['classList']['add'](_0x5d78d5(0x515))):(_0x7165b[_0x5d78d5(0x736)]=!![],_0xdad8d3[_0x5d78d5(0xed5)][_0x5d78d5(0xbca)](_0x5d78d5(0x515)));}async function handleKickPlayerSync(_0x1a55be){const _0x338574=_0x2e2582;if(!currentLiveGameId||!_0x1a55be)return;const _0x1c2055=doc(db,_0x338574(0x509)+appId+_0x338574(0x8ac)+currentLiveGameId+'/players',_0x1a55be);try{await updateDoc(_0x1c2055,{'status':_0x338574(0xace)});}catch(_0x270de4){console[_0x338574(0x61c)](_0x338574(0xa05)+_0x1a55be+':',_0x270de4),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x5adac1,_0x4b891b){const _0x2ce935=_0x2e2582,_0x31b9d=document['getElementById'](_0x2ce935(0xda6));_0x31b9d[_0x2ce935(0x674)]=_0x2ce935(0xc4c);try{const _0x155e5f=collection(db,'artifacts/'+appId+_0x2ce935(0x2d1)),_0x165ac3=query(_0x155e5f,where(_0x2ce935(0x6ea),'==',_0x5adac1)),_0x2802b4=await getDocs(_0x165ac3),_0x50e65b=_0x2802b4[_0x2ce935(0x875)][_0x2ce935(0x91f)](_0x2e6e5a=>({'id':_0x2e6e5a['id'],..._0x2e6e5a[_0x2ce935(0xe5c)]()})),_0x372a04=_0x50e65b['map'](_0x403eee=>getDoc(doc(db,_0x2ce935(0x509)+appId+_0x2ce935(0xd97)+_0x403eee['id']+_0x2ce935(0xb14),_0x4b891b))),_0x223d33=await Promise[_0x2ce935(0x5e4)](_0x372a04),_0x36d2d4=_0x223d33['filter'](_0x2657c3=>_0x2657c3[_0x2ce935(0xa82)]())['map'](_0xde53bc=>({'quizId':_0xde53bc[_0x2ce935(0xd0d)][_0x2ce935(0xda5)][_0x2ce935(0xda5)]['id'],..._0xde53bc['data']()}));if(_0x36d2d4[_0x2ce935(0x83b)]===0x0){_0x31b9d['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x228cb5=_0x2ce935(0x9a7);_0x36d2d4['forEach'](_0x3380c8=>{const _0x210b14=_0x2ce935,_0x5d7ec0=_0x50e65b[_0x210b14(0x426)](_0x10615e=>_0x10615e['id']===_0x3380c8[_0x210b14(0x3ac)]),_0x37d29c=_0x5d7ec0[_0x210b14(0xe11)]?.['resultsDisplay']||_0x210b14(0xf01),_0x20d974=_0x5d7ec0[_0x210b14(0xe11)]?.[_0x210b14(0x582)]??0x0,_0x4f5ab0=_0x3380c8[_0x210b14(0x4f8)]>=_0x20d974;let _0x4a3a5e='',_0x32ed81=_0x210b14(0xc36);switch(_0x37d29c){case'show_results_and_answers':case'show_results_only':_0x32ed81=_0x4f5ab0?_0x210b14(0xed6):_0x210b14(0xb35),_0x4a3a5e=_0x210b14(0x7c1)+(_0x4f5ab0?_0x210b14(0x878):_0x210b14(0x8ad))+'\x22>'+_0x3380c8[_0x210b14(0x4f8)]+_0x210b14(0xa09)+_0x3380c8[_0x210b14(0x410)]+_0x210b14(0x978)+(_0x4f5ab0?'bg-green-200\x20text-green-800':_0x210b14(0x2b6))+'\x22>'+(_0x4f5ab0?'ผ่าน':_0x210b14(0x1dc))+_0x210b14(0x8ae);break;case _0x210b14(0x962):_0x32ed81=_0x4f5ab0?_0x210b14(0xed6):'bg-red-50',_0x4a3a5e=_0x210b14(0x9c6)+(_0x4f5ab0?_0x210b14(0xb42):_0x210b14(0x2b6))+'\x22>'+(_0x4f5ab0?_0x210b14(0x95b):_0x210b14(0x1dc))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x210b14(0x441):_0x32ed81='bg-yellow-50',_0x4a3a5e=_0x210b14(0xe91);break;}_0x228cb5+=_0x210b14(0x7d6)+_0x32ed81+_0x210b14(0x739)+_0x5d7ec0[_0x210b14(0x308)]+_0x210b14(0x90b)+_0x3380c8[_0x210b14(0x3ea)][_0x210b14(0x83b)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x3380c8[_0x210b14(0x7e7)])[_0x210b14(0xf43)](_0x210b14(0xb17))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a3a5e+_0x210b14(0x416);}),_0x228cb5+=_0x2ce935(0x4f3),_0x31b9d['innerHTML']=_0x228cb5;}catch(_0x1ca875){console[_0x2ce935(0x61c)](_0x2ce935(0x81c),_0x1ca875),_0x31b9d['innerHTML']=_0x2ce935(0x6e1);}}function renderQuizBankListForMultiSelect(_0x1023de=''){const _0x51084d=_0x2e2582,_0x1c8527=document[_0x51084d(0x6ec)](_0x51084d(0x5c0)),_0x671132=_0x1023de[_0x51084d(0x3be)]()[_0x51084d(0xdd8)](),_0x10b233=allQuizzesGlobal[_0x51084d(0x91f)](_0x2727aa=>({..._0x2727aa,'projectName':allProjects[_0x51084d(0x426)](_0x42f792=>_0x42f792['id']===_0x2727aa[_0x51084d(0x6ea)])?.['projectName']||_0x51084d(0xaf9)}))[_0x51084d(0xe4e)](_0x354589=>(_0x354589['topic']||'')[_0x51084d(0x3be)]()[_0x51084d(0x9ee)](_0x671132)||(_0x354589[_0x51084d(0x52e)]||'')[_0x51084d(0x3be)]()[_0x51084d(0x9ee)](_0x671132)||_0x354589['id'][_0x51084d(0xe25)]()[_0x51084d(0x9ee)](_0x671132));_0x1c8527['innerHTML']=_0x10b233[_0x51084d(0x83b)]?_0x10b233[_0x51084d(0x91f)](_0xb994c9=>_0x51084d(0x5b0)+_0xb994c9['id']+_0x51084d(0xa70)+(_0xb994c9[_0x51084d(0x308)]||_0x51084d(0x50a))+_0x51084d(0xd47)+_0xb994c9[_0x51084d(0x52e)]+_0x51084d(0x50f)+_0xb994c9['id']+_0x51084d(0x1fc))[_0x51084d(0x8c3)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x1c8527[_0x51084d(0xd11)]=()=>{const _0x20d371=_0x51084d,_0x2ae264=document[_0x20d371(0x427)](_0x20d371(0x3a8));document[_0x20d371(0x6ec)]('confirm-link-quiz-btn')['disabled']=!_0x2ae264;};}function setupStudentProgressListeners(){const _0x167751=_0x2e2582;document[_0x167751(0x6ec)](_0x167751(0x790))['addEventListener'](_0x167751(0x7b0),showStudentProgressView),document[_0x167751(0x6ec)]('back-to-student-home-btn')['addEventListener'](_0x167751(0x7b0),()=>{const _0x50a7bf=_0x167751;document[_0x50a7bf(0x6ec)](_0x50a7bf(0x66b))[_0x50a7bf(0xed5)][_0x50a7bf(0xbca)](_0x50a7bf(0x515)),document['getElementById'](_0x50a7bf(0xcd9))['classList'][_0x50a7bf(0xb8a)](_0x50a7bf(0x515));});}async function startSkillPractice(_0x1a3ce3){const _0x4db786=_0x2e2582;studentResultArea['classList'][_0x4db786(0xbca)](_0x4db786(0x515)),studentQuizArea[_0x4db786(0x674)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x4db786(0xed5)][_0x4db786(0xb8a)](_0x4db786(0x515));try{const _0x4a5a47=await getStandardizedTopic(_0x1a3ce3);console[_0x4db786(0xeec)]('คำถามดิบ:\x20\x22'+_0x1a3ce3+_0x4db786(0x896)+_0x4a5a47+'\x22'),studentQuizArea['querySelector']('p')[_0x4db786(0x337)]=_0x4db786(0xd06)+_0x4a5a47+_0x4db786(0x30c);const _0x55a55e=collection(db,_0x4db786(0x509)+appId+_0x4db786(0xf35)),_0x55cbb4=query(_0x55a55e,where(_0x4db786(0x308),'==',_0x4a5a47)),_0x190d62=await getDocs(_0x55cbb4);if(_0x190d62[_0x4db786(0x875)]['length']>=0x3){console['log'](_0x4db786(0x2a7)+_0x190d62[_0x4db786(0x875)]['length']+_0x4db786(0xbe8)+_0x4a5a47+_0x4db786(0x404));let _0x3159c5=_0x190d62[_0x4db786(0x875)][_0x4db786(0x91f)](_0x136031=>_0x136031[_0x4db786(0xe5c)]());shuffleArray(_0x3159c5);const _0x69911d={'topic':_0x4a5a47,'questions':_0x3159c5[_0x4db786(0xcb7)](0x0,0x3)};displaySkillPracticeDrill(_0x69911d);}else{console[_0x4db786(0xeec)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x4a5a47+_0x4db786(0xb93));const _0x14f857=await generatePracticeQuestions(_0x4a5a47);await saveDrillToPracticeBank(_0x14f857,_0x4a5a47),displaySkillPracticeDrill(_0x14f857);}}catch(_0x29709b){console['error'](_0x4db786(0xc96),_0x29709b),showMessage(_0x4db786(0x293)),studentQuizArea['classList'][_0x4db786(0xbca)](_0x4db786(0x515)),studentResultArea[_0x4db786(0xed5)][_0x4db786(0xb8a)](_0x4db786(0x515));}}async function saveDrillToPracticeBank(_0x5dff2,_0x4c9d35){const _0x44d768=_0x2e2582,_0x534067=collection(db,_0x44d768(0x509)+appId+_0x44d768(0xf35)),_0x12545e=writeBatch(db);_0x5dff2['questions'][_0x44d768(0x9ce)](_0x2c1bc8=>{const _0x17a8ca=_0x44d768,_0x283fc8=doc(_0x534067);_0x12545e[_0x17a8ca(0x63c)](_0x283fc8,{'topic':_0x4c9d35,'questionText':_0x2c1bc8[_0x17a8ca(0x912)],'options':_0x2c1bc8['options'],'correctAnswerIndex':_0x2c1bc8[_0x17a8ca(0x526)],'explanation':_0x2c1bc8[_0x17a8ca(0xec3)],'createdAt':serverTimestamp()});});try{await _0x12545e[_0x44d768(0xc42)](),console[_0x44d768(0xeec)](_0x44d768(0x4d7)+_0x5dff2[_0x44d768(0xa08)]['length']+_0x44d768(0x4b6));}catch(_0x1adc76){console[_0x44d768(0x61c)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x1adc76);}}async function getStandardizedTopic(_0x8efdeb){const _0x1e6aa4=_0x2e2582,_0x53c8e5=_0x1e6aa4(0x68d)+_0x8efdeb+_0x1e6aa4(0x67e),_0x488523={'type':'OBJECT','properties':{'standardTopic':{'type':'STRING'}},'required':[_0x1e6aa4(0x952)]};try{const _0x21641a=await callAnalysisApi(_0x53c8e5,_0x488523);return _0x21641a[_0x1e6aa4(0x952)];}catch(_0x10d905){return console[_0x1e6aa4(0x61c)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x10d905),_0x8efdeb;}}async function handleGenerateEasyVersionQuiz(_0x551b25){const _0x31aa04=_0x2e2582,_0x5a54bf=document[_0x31aa04(0x6ec)](_0x31aa04(0x481)),_0x49cf7d=document[_0x31aa04(0x6ec)](_0x31aa04(0x1fe));_0x49cf7d[_0x31aa04(0xed5)][_0x31aa04(0xbca)](_0x31aa04(0x515));const _0x1564f1=_0x31aa04(0x5f1);_0x5a54bf[_0x31aa04(0xc88)](_0x31aa04(0x5ea),_0x1564f1);try{const _0x39ea6b=allQuizzes['find'](_0x598acc=>_0x598acc['id']===_0x551b25);if(!_0x39ea6b)throw new Error(_0x31aa04(0x54e));const _0x4477ff=_0x31aa04(0x7c9)+JSON[_0x31aa04(0x908)](_0x39ea6b[_0x31aa04(0xa08)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x288e35={'type':_0x31aa04(0xda2),'properties':{'questionText':{'type':_0x31aa04(0x9eb)},'questionType':{'type':_0x31aa04(0x9eb)},'options':{'type':_0x31aa04(0xb83),'items':{'type':_0x31aa04(0x9eb)}},'correctAnswerIndex':{'type':_0x31aa04(0xbb4)},'idealAnswer':{'type':_0x31aa04(0x9eb)},'explanation':{'type':_0x31aa04(0x9eb)},'imageCode':{'type':'STRING'}},'required':['questionText','questionType',_0x31aa04(0xec3)]},_0x51e3b7={'type':_0x31aa04(0xda2),'properties':{'questions':{'type':_0x31aa04(0xb83),'items':_0x288e35}},'required':[_0x31aa04(0xa08)]},_0x20cf0e=await callAnalysisApi(_0x4477ff,_0x51e3b7);_0x20cf0e&&_0x20cf0e[_0x31aa04(0xa08)]&&_0x20cf0e[_0x31aa04(0xa08)][_0x31aa04(0x9ce)](_0x3b1500=>{const _0x48a9f7=_0x31aa04;if(_0x3b1500[_0x48a9f7(0x4ca)](_0x48a9f7(0xde8))){const _0x3c8fac=String(_0x3b1500[_0x48a9f7(0xde8)])[_0x48a9f7(0xdd8)]();(_0x3c8fac===''||_0x3c8fac['toLowerCase']()===_0x48a9f7(0x386)||!_0x3c8fac[_0x48a9f7(0xdb3)](_0x48a9f7(0x7ed)))&&delete _0x3b1500[_0x48a9f7(0xde8)];}});if(!_0x20cf0e||!_0x20cf0e[_0x31aa04(0xa08)]||_0x20cf0e[_0x31aa04(0xa08)][_0x31aa04(0x83b)]===0x0)throw new Error(_0x31aa04(0x1f7));const _0x22eb33=_0x20cf0e[_0x31aa04(0xa08)][_0x31aa04(0x91f)]((_0xd2afd0,_0x410df4)=>({..._0xd2afd0,'id':'q_'+Date['now']()+'_'+_0x410df4})),_0xaaf2d5={'projectId':_0x39ea6b['projectId'],'quizType':_0x39ea6b[_0x31aa04(0x80d)],'settings':_0x39ea6b[_0x31aa04(0xe11)],'createdBy':_0x39ea6b[_0x31aa04(0x722)],'status':'active','topic':'(ฉบับง่าย)\x20'+_0x39ea6b['topic'],'questions':_0x22eb33,'createdAt':new Date()[_0x31aa04(0xbae)](),'quizMode':_0x31aa04(0x395),'pairedQuizId':null};let _0x37a88f;while(!![]){_0x37a88f=Math[_0x31aa04(0xabc)](0x3e8+Math[_0x31aa04(0x76c)]()*0x2328)[_0x31aa04(0xe25)]();const _0x177d44=await getDoc(doc(db,'artifacts/'+appId+_0x31aa04(0x2d1),_0x37a88f));if(!_0x177d44['exists']())break;}await setDoc(doc(db,_0x31aa04(0x509)+appId+_0x31aa04(0x2d1),_0x37a88f),_0xaaf2d5),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x5028d9){console[_0x31aa04(0x61c)]('Error\x20generating\x20easy\x20version\x20quiz:',_0x5028d9),showMessage(_0x31aa04(0xebb)+_0x5028d9[_0x31aa04(0x784)]);}finally{const _0x11ff91=document[_0x31aa04(0x6ec)](_0x31aa04(0xeba));_0x11ff91&&_0x11ff91[_0x31aa04(0xb8a)](),_0x49cf7d[_0x31aa04(0xed5)][_0x31aa04(0xb8a)](_0x31aa04(0x515));}}async function generatePracticeQuestions(_0x3add1e){const _0x1c20ee=_0x2e2582,_0x270f2f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x3add1e+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x1c20ee(0x1e1),_0x227fa6={'type':_0x1c20ee(0xda2),'properties':{'questionText':{'type':_0x1c20ee(0x9eb)},'options':{'type':_0x1c20ee(0xb83),'items':{'type':_0x1c20ee(0x9eb)}},'correctAnswerIndex':{'type':_0x1c20ee(0xbb4)},'explanation':{'type':_0x1c20ee(0x9eb)}},'required':['questionText','options',_0x1c20ee(0x526),'explanation']},_0xda68a5={'type':_0x1c20ee(0xda2),'properties':{'topic':{'type':_0x1c20ee(0x9eb)},'questions':{'type':'ARRAY','items':_0x227fa6}},'required':[_0x1c20ee(0x308),_0x1c20ee(0xa08)]};return await callAnalysisApi(_0x270f2f,_0xda68a5);}function displayLessonPlan(_0x1012e9,_0x55d1d1){const _0x1071a3=_0x2e2582,_0x56fd13=_0x1071a3(0xb90)+_0x55d1d1['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x1012e9['learningGaps'][_0x1071a3(0x91f)](_0x2d9341=>_0x1071a3(0xa5c)+_0x2d9341+_0x1071a3(0x918))[_0x1071a3(0x8c3)]('')+_0x1071a3(0x553)+_0x1012e9[_0x1071a3(0xc53)]+_0x1071a3(0xf36)+_0x1012e9[_0x1071a3(0x3b9)][_0x1071a3(0x91f)](_0x4c2e3a=>_0x1071a3(0x560)+_0x4c2e3a['question']+_0x1071a3(0x299)+_0x4c2e3a[_0x1071a3(0x55b)]+'</p></div>')[_0x1071a3(0x8c3)]('')+_0x1071a3(0x6d8);document[_0x1071a3(0x6ec)](_0x1071a3(0x698))['textContent']=_0x1071a3(0xcb8)+_0x55d1d1['topic'],document[_0x1071a3(0x6ec)](_0x1071a3(0x840))[_0x1071a3(0x674)]=_0x56fd13,document[_0x1071a3(0x6ec)]('lesson-plan-modal')[_0x1071a3(0xed5)][_0x1071a3(0xb8a)](_0x1071a3(0x515));if(window[_0x1071a3(0xef3)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x170777){const _0x1380b6=_0x2e2582;let _0x2cb9a3=0x0;const _0x190e07=_0x170777[_0x1380b6(0xa08)],_0x3678fd=()=>{const _0x2f4887=_0x1380b6,_0x42e53a=_0x190e07[_0x2cb9a3],_0x868f4a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x2cb9a3+0x1)+_0x2f4887(0xa09)+_0x190e07[_0x2f4887(0x83b)]+_0x2f4887(0x785)+_0x42e53a[_0x2f4887(0x912)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x42e53a[_0x2f4887(0x25f)][_0x2f4887(0x91f)]((_0x16fa62,_0x5c5654)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x5c5654+_0x2f4887(0xa47)+_0x5c5654+_0x2f4887(0xd85)+_0x5c5654+'\x22>'+_0x16fa62+_0x2f4887(0x49e))[_0x2f4887(0x8c3)]('')+_0x2f4887(0x9f9);studentQuizArea[_0x2f4887(0x674)]=_0x868f4a;if(window[_0x2f4887(0xef3)])MathJax[_0x2f4887(0x396)]([studentQuizArea]);document[_0x2f4887(0x6ec)](_0x2f4887(0x8d8))['addEventListener'](_0x2f4887(0x7b0),async()=>{const _0x360097=_0x2f4887,_0x73e402=await getHintForQuestion(_0x42e53a[_0x360097(0x912)]);showMessage(_0x73e402);}),document[_0x2f4887(0x6ec)]('check-answer-btn')[_0x2f4887(0x504)](_0x2f4887(0x7b0),()=>{const _0x52de10=_0x2f4887,_0xfc2d71=document[_0x52de10(0x427)]('input[name=\x22drill_answer\x22]:checked');if(!_0xfc2d71){showMessage(_0x52de10(0x5f3));return;}const _0x573945=document['getElementById'](_0x52de10(0x408)),_0x4c7658=parseInt(_0xfc2d71[_0x52de10(0x8c2)])===_0x42e53a[_0x52de10(0x526)];_0x4c7658?(_0x573945[_0x52de10(0x233)]=_0x52de10(0x540),_0x573945[_0x52de10(0x674)]=_0x52de10(0xf26)+_0x42e53a['explanation']):(_0x573945[_0x52de10(0x233)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x573945[_0x52de10(0x674)]=_0x52de10(0x623)+_0x42e53a[_0x52de10(0xec3)]);_0x573945[_0x52de10(0xed5)][_0x52de10(0xb8a)](_0x52de10(0x515));if(window['MathJax'])MathJax[_0x52de10(0x396)]([_0x573945]);document[_0x52de10(0x6ec)]('check-answer-btn')['classList'][_0x52de10(0xbca)](_0x52de10(0x515)),document[_0x52de10(0x6ec)]('hint-btn')['classList']['add'](_0x52de10(0x515)),document[_0x52de10(0x6ec)](_0x52de10(0xc07))[_0x52de10(0xed5)][_0x52de10(0xb8a)](_0x52de10(0x515));}),document[_0x2f4887(0x6ec)](_0x2f4887(0xc07))[_0x2f4887(0x504)]('click',()=>{const _0x3e4adc=_0x2f4887;_0x2cb9a3++,_0x2cb9a3<_0x190e07[_0x3e4adc(0x83b)]?_0x3678fd():(studentQuizArea[_0x3e4adc(0x674)]=_0x3e4adc(0xc64),document['getElementById'](_0x3e4adc(0x940))[_0x3e4adc(0x504)]('click',()=>{const _0xc97395=_0x3e4adc;studentQuizArea[_0xc97395(0xed5)][_0xc97395(0xbca)](_0xc97395(0x515)),studentResultArea['classList'][_0xc97395(0xb8a)]('hidden');}));});};_0x3678fd();}async function getHintForQuestion(_0x597852){const _0x5b9be5=_0x2e2582,_0x5a2ccc=_0x5b9be5(0x6c0)+_0x597852+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x55e005={'type':_0x5b9be5(0xda2),'properties':{'hint':{'type':_0x5b9be5(0x9eb)}},'required':[_0x5b9be5(0xe63)]};try{const _0xcead21=await callAnalysisApi(_0x5a2ccc,_0x55e005);return _0xcead21[_0x5b9be5(0xe63)];}catch(_0x5888c5){return console[_0x5b9be5(0x61c)](_0x5b9be5(0x34b),_0x5888c5),_0x5b9be5(0x50c);}}async function extractTextFromPdf(_0x12c2d8){const _0x106616=_0x2e2582;pdfjsLib[_0x106616(0x5ce)][_0x106616(0x766)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x41e4b2=await _0x12c2d8[_0x106616(0x57b)](),_0x45cb47=await pdfjsLib[_0x106616(0xb6e)](_0x41e4b2)[_0x106616(0xa1a)],_0x4b7c09=_0x45cb47['numPages'];let _0x595e34='';for(let _0x45a152=0x1;_0x45a152<=_0x4b7c09;_0x45a152++){const _0xfee797=await _0x45cb47[_0x106616(0xb0e)](_0x45a152),_0x282559=await _0xfee797[_0x106616(0xcde)](),_0x19ff5c=_0x282559[_0x106616(0xb1f)][_0x106616(0x91f)](_0x249a4b=>_0x249a4b[_0x106616(0x97e)])[_0x106616(0x8c3)]('\x20');_0x595e34+=_0x19ff5c+'\x0a\x0a';}return _0x595e34;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x481c24){const _0x31b5c9=_0x2e2582,_0x3ce591=document[_0x31b5c9(0x6ec)](_0x31b5c9(0xea1)),_0x28c347=document[_0x31b5c9(0x6ec)](_0x31b5c9(0x9dd)),_0x2e334f=document['getElementById'](_0x31b5c9(0xaf7));_0x3ce591['classList'][_0x31b5c9(0xb8a)](_0x31b5c9(0x515)),_0x28c347['innerHTML']=_0x31b5c9(0x986),_0x2e334f[_0x31b5c9(0xed5)][_0x31b5c9(0xbca)](_0x31b5c9(0x515));try{const _0x312a6b=_0x31b5c9(0xefe)+_0x481c24+_0x31b5c9(0x522),_0x3e89f7={'type':'OBJECT','properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x31b5c9(0xb83),'items':{'type':_0x31b5c9(0xda2),'properties':{'sara':{'type':_0x31b5c9(0x9eb)},'mainTopics':{'type':_0x31b5c9(0xb83),'items':{'type':_0x31b5c9(0xda2),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':'ARRAY','items':{'type':_0x31b5c9(0x9eb)}}},'required':[_0x31b5c9(0x9fe),_0x31b5c9(0xe1c)]}}},'required':['sara',_0x31b5c9(0xb00)]}}},'required':[_0x31b5c9(0x3ad),_0x31b5c9(0xe3c)]},_0x5c6ce1=await callAnalysisApi(_0x312a6b,_0x3e89f7);if(_0x5c6ce1&&_0x5c6ce1[_0x31b5c9(0xe3c)])extractedBlueprintData=_0x5c6ce1,renderBlueprintTopics(_0x5c6ce1),_0x2e334f[_0x31b5c9(0xed5)][_0x31b5c9(0xb8a)]('hidden');else throw new Error(_0x31b5c9(0x8f9));}catch(_0x5932f3){console[_0x31b5c9(0x61c)]('Error\x20analyzing\x20blueprint\x20topics:',_0x5932f3),_0x28c347[_0x31b5c9(0x674)]=_0x31b5c9(0x498);}}function renderBlueprintTopics(_0xc863ae){const _0x129ba7=_0x2e2582,_0x109015=document[_0x129ba7(0x6ec)](_0x129ba7(0x9dd)),_0x190f35=_0xc863ae['gradeLevel'],_0x339b72='<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20'+_0x190f35+_0x129ba7(0x325);let _0x5a1f28='';_0xc863ae['curriculum'][_0x129ba7(0x9ce)](_0x45d2f6=>{const _0x310e2e=_0x129ba7;_0x5a1f28+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x45d2f6[_0x310e2e(0x544)]+'</h4>',_0x45d2f6[_0x310e2e(0xb00)][_0x310e2e(0x9ce)](_0x39c271=>{const _0x5bab5f=_0x310e2e;_0x5a1f28+=_0x5bab5f(0xead)+_0x39c271[_0x5bab5f(0x9fe)]+_0x5bab5f(0x8b1),_0x39c271[_0x5bab5f(0xe1c)][_0x5bab5f(0x9ce)](_0x1db970=>{const _0x59f1ad=_0x5bab5f;_0x5a1f28+=_0x59f1ad(0x52c)+_0x1db970[_0x59f1ad(0x3cc)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x190f35[_0x59f1ad(0x3cc)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x1db970+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x1db970['replace'](/'/g,'\x5c\x27')+_0x59f1ad(0xbf4);}),_0x5a1f28+='</div></div>';}),_0x5a1f28+=_0x310e2e(0x4f3);}),_0x109015[_0x129ba7(0x674)]=_0x339b72+_0x5a1f28;}async function handleGenerateTeachingContent(_0x44f2d){const _0x500384=_0x2e2582,_0x4de21c=document[_0x500384(0x6ec)](_0x500384(0xaf8)),_0xdd9ec2=document[_0x500384(0x6ec)](_0x500384(0x840));document[_0x500384(0x6ec)](_0x500384(0x698))[_0x500384(0x337)]='กำลังสร้างเนื้อหา:\x20'+_0x44f2d,_0xdd9ec2[_0x500384(0x674)]=_0x500384(0x661),_0x4de21c['classList'][_0x500384(0xb8a)]('hidden');try{const _0x264c01=_0x500384(0xc13)+_0x44f2d+_0x500384(0x78b),_0x3e0ab3={'type':_0x500384(0xda2),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':_0x500384(0x9eb)}},'commonMistakes':{'type':_0x500384(0xb83),'items':{'type':_0x500384(0x9eb)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x500384(0xda2),'properties':{'question':{'type':_0x500384(0x9eb)},'solution':{'type':_0x500384(0x9eb)}},'required':[_0x500384(0x77c),'solution']}},'teacherTips':{'type':_0x500384(0xb83),'items':{'type':'STRING'}}},'required':[_0x500384(0x41f),_0x500384(0xe2c),_0x500384(0x4ab),_0x500384(0xbea)]},_0x430aa5=await callAnalysisApi(_0x264c01,_0x3e0ab3);displayTeachingContent(_0x430aa5,_0x44f2d);}catch(_0x2cfee6){console[_0x500384(0x61c)](_0x500384(0xd25),_0x2cfee6),_0xdd9ec2['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x2cfee6[_0x500384(0x784)]+_0x500384(0x895);}}function displayTeachingContent(_0x5f51d0,_0x5c0309){const _0x75a197=_0x2e2582,_0x451440=document['getElementById'](_0x75a197(0x840));document[_0x75a197(0x6ec)]('lesson-plan-title')[_0x75a197(0x337)]=_0x75a197(0xd45)+_0x5c0309;const _0x108fbf=_0x75a197(0x621)+_0x5f51d0['keyConcepts'][_0x75a197(0x91f)](_0x208a8d=>_0x75a197(0xa5c)+_0x208a8d+_0x75a197(0x918))[_0x75a197(0x8c3)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x5f51d0[_0x75a197(0xe2c)]['map'](_0x4e5998=>_0x75a197(0xa5c)+_0x4e5998+_0x75a197(0x918))[_0x75a197(0x8c3)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x5f51d0[_0x75a197(0x4ab)][_0x75a197(0x91f)](_0x4b068b=>_0x75a197(0x757)+_0x4b068b[_0x75a197(0x77c)]+_0x75a197(0x421)+_0x4b068b['solution']+_0x75a197(0x8fc))[_0x75a197(0x8c3)]('')+_0x75a197(0x236)+_0x5f51d0['teacherTips']['map'](_0x46ad47=>'<li>'+_0x46ad47+_0x75a197(0x918))[_0x75a197(0x8c3)]('')+_0x75a197(0xc3e);_0x451440[_0x75a197(0x674)]=_0x108fbf;if(window[_0x75a197(0xef3)])MathJax[_0x75a197(0x396)]([_0x451440]);}async function generateQuizForSingleTopic(_0x1d5c56){const _0x3baf31=_0x2e2582;console[_0x3baf31(0xeec)](_0x3baf31(0x910)+_0x1d5c56+'\x22');const _0x3426e2=document[_0x3baf31(0x6ec)](_0x3baf31(0x438)),_0x52b076=_0x3426e2[_0x3baf31(0x29f)][_0x3baf31(0x83b)]>0x0?_0x3426e2[_0x3baf31(0x29f)][0x0]:null;let _0x2ef5e5=null;if(_0x52b076)try{const _0x4021fa=new FileReader();_0x4021fa['readAsDataURL'](_0x52b076);const _0x18b419=await new Promise((_0x3230bb,_0x111734)=>{const _0x1bd600=_0x3baf31;_0x4021fa[_0x1bd600(0x9c2)]=()=>_0x3230bb(_0x4021fa['result'][_0x1bd600(0x8c0)](',')[0x1]),_0x4021fa['onerror']=_0x4962f4=>_0x111734(_0x4962f4);});_0x2ef5e5=[{'inlineData':{'mimeType':_0x52b076[_0x3baf31(0xae4)],'data':_0x18b419}}];}catch(_0x234eba){console[_0x3baf31(0x61c)](_0x3baf31(0x679),_0x234eba),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x1d5c56,null,null,_0x2ef5e5,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x186261=null){const _0x2c9300=_0x2e2582,_0x3e5719=document['getElementById'](_0x2c9300(0x3e6)),_0x2817d4=document[_0x2c9300(0x6ec)](_0x2c9300(0x350));let _0x45245c,_0x2fe392=[];if(_0x186261)_0x45245c=_0x186261,_0x2fe392=_0x45245c['slice'](0x2);else{const _0x13ea4a=document[_0x2c9300(0x6ec)](_0x2c9300(0x25a)),_0x35370d=document['getElementById'](_0x2c9300(0x438)),_0x161264=_0x13ea4a['files'][0x0];if(!_0x161264){showMessage(_0x2c9300(0x667));return;}_0x2817d4[_0x2c9300(0x337)]='กำลังเตรียมไฟล์...';const _0x1082b7=await new Promise((_0x302183,_0x15b99c)=>{const _0x28544a=_0x2c9300,_0xa77da1=new FileReader();_0xa77da1[_0x28544a(0xa1b)](_0x161264),_0xa77da1['onload']=()=>_0x302183(_0xa77da1['result']['split'](',')[0x1]),_0xa77da1['onerror']=_0x15b99c;});_0x45245c=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0x161264[_0x2c9300(0xae4)],'data':_0x1082b7}}];if(_0x35370d[_0x2c9300(0x29f)][_0x2c9300(0x83b)]>0x0){const _0x3057f3=_0x35370d[_0x2c9300(0x29f)][0x0];_0x2817d4[_0x2c9300(0x337)]=_0x2c9300(0xc76);const _0x1b3114=await new Promise((_0x586f9c,_0x28d4cc)=>{const _0x5e36ef=_0x2c9300,_0x5a565f=new FileReader();_0x5a565f[_0x5e36ef(0xa1b)](_0x3057f3),_0x5a565f[_0x5e36ef(0x9c2)]=()=>_0x586f9c(_0x5a565f[_0x5e36ef(0xb66)]['split'](',')[0x1]),_0x5a565f[_0x5e36ef(0xc0d)]=_0x28d4cc;}),_0x29548c={'inlineData':{'mimeType':_0x3057f3[_0x2c9300(0xae4)],'data':_0x1b3114}};_0x45245c[_0x2c9300(0x724)](_0x29548c),_0x2fe392['push'](_0x29548c);}}const _0x1e5da2=_0x2c9300(0xbd0),_0x272b55=_0x2c9300(0xa2c);let _0x2204b4='';_0x2fe392&&_0x2fe392[_0x2c9300(0x83b)]>0x0?_0x2204b4=_0x1e5da2:_0x2204b4=_0x272b55;const _0x344a37='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a'+_0x2204b4+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x14a5e2={'type':_0x2c9300(0xda2),'properties':{'questionText':{'type':_0x2c9300(0x9eb)},'questionType':{'type':_0x2c9300(0x9eb),'enum':['multiple_choice',_0x2c9300(0x466),'true_false',_0x2c9300(0x440)]},'options':{'type':_0x2c9300(0xb83),'items':{'type':_0x2c9300(0x9eb)}},'correctAnswerIndex':{'type':_0x2c9300(0xbb4)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x2c9300(0xe27)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2c9300(0x9eb)}},'required':['questionType','explanation']},_0x44fa21={'type':_0x2c9300(0xda2),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2c9300(0xb83),'items':_0x14a5e2}},'required':[_0x2c9300(0x308),_0x2c9300(0xa08)]};_0x45245c[0x0][_0x2c9300(0x566)]=_0x344a37,await handleApiCall(_0x45245c,_0x2c9300(0xdca),_0x44fa21);}function proceedToNextQuestion(_0x3fd2a3){const _0x3cf2ec=_0x2e2582;studentAnswersPerQuestion[_0x3cf2ec(0x724)](_0x3fd2a3),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x3cf2ec(0x83b)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x5862ad,_0x259932,_0x18d768){const _0xe5c167=_0x2e2582,_0x18871d=Object['values'](_0x5862ad[_0xe5c167(0x21d)]||{}),_0x5e612d=_0x18871d[_0xe5c167(0x83b)],_0x50bd16=_0x18d768,_0x38e9d9=_0x5862ad[_0xe5c167(0x826)]||_0xe5c167(0x45e),_0x5538ef=_0x38e9d9===_0xe5c167(0x3f4)||_0x38e9d9===_0xe5c167(0xa7b),_0x558292=_0x38e9d9===_0xe5c167(0xa8e)||_0x38e9d9===_0xe5c167(0xa7b),_0x11a96e=_0x5862ad[_0xe5c167(0xc0b)]===!![],_0x1465a1=_0x38e9d9==='competition',_0x4df7ed=_0x5862ad[_0xe5c167(0x23c)][_0xe5c167(0xa08)],_0x4e7dec=_0x4df7ed[_0x50bd16],_0x1fdea8=_0x27eb08=>String[_0xe5c167(0xb87)](0x41+_0x27eb08),_0x5c1b28=_0x18871d[_0xe5c167(0x91f)](_0x4ef053=>{const _0x53f63c=_0xe5c167,_0x4f0821=(_0x4ef053[_0x53f63c(0x767)]||[])[_0x53f63c(0xe4e)](_0x4e00e9=>{const _0x442e06=_0x53f63c;if(_0x558292)return _0x4e00e9[_0x442e06(0x39e)]<=_0x50bd16;return!![];});let _0x2403ad=0x0,_0x376bde=0x0;_0x558292?(_0x2403ad=_0x4f0821['filter'](_0x114b2a=>_0x114b2a[_0x53f63c(0x33c)])['length'],_0x376bde=_0x4f0821['reduce']((_0x1d9819,_0x10400a)=>_0x1d9819+(_0x10400a['pointsAwarded']||0x0),0x0)):(_0x2403ad=_0x4ef053['score']||0x0,_0x376bde=_0x4ef053['totalPoints']||0x0);const _0x5774fa=[..._0x4f0821][_0x53f63c(0x6f8)]((_0xec6a21,_0x4b93e0)=>_0xec6a21[_0x53f63c(0x39e)]-_0x4b93e0['questionIndex']);let _0x44b961=0x0;return _0x5774fa['forEach'](_0x22e6f5=>{const _0x2fd063=_0x53f63c,_0xec7450=_0x22e6f5[_0x2fd063(0xc57)]&&_0x22e6f5['powerupUsed']!==_0x2fd063(0x592)||_0x22e6f5[_0x2fd063(0x8c7)];_0x22e6f5[_0x2fd063(0x33c)]?_0xec7450?_0x44b961=0x0:_0x44b961++:_0x44b961=0x0;}),{..._0x4ef053,'realScore':_0x2403ad,'totalPoints':_0x376bde,'answers':_0x4f0821,'correctStreak':_0x44b961};}),_0x3ea8d9=Math[_0xe5c167(0xd94)](..._0x5c1b28[_0xe5c167(0x91f)](_0x36e9e9=>_0x36e9e9[_0xe5c167(0x468)]),-Infinity),_0x3a34a7=Math[_0xe5c167(0xd94)](..._0x5c1b28[_0xe5c167(0x91f)](_0x1c07fd=>_0x1c07fd['realScore']),-Infinity),_0xc736a5=_0x5862ad[_0xe5c167(0x4dd)]===!![],_0x5673db=[..._0x5c1b28][_0xe5c167(0x6f8)]((_0x36d6f5,_0x5ee876)=>{const _0x47e7a0=_0xe5c167;if(_0xc736a5){const _0x10630f=_0x5ee876['totalPoints']-_0x36d6f5[_0x47e7a0(0x468)];if(_0x10630f!==0x0)return _0x10630f;const _0x1d0ecf=_0x5ee876[_0x47e7a0(0x947)]-_0x36d6f5['realScore'];if(_0x1d0ecf!==0x0)return _0x1d0ecf;return(_0x36d6f5[_0x47e7a0(0x47c)]||'')[_0x47e7a0(0x6e9)](_0x5ee876[_0x47e7a0(0x47c)]||'','th');}else{const _0x278ab6=_0x5ee876[_0x47e7a0(0x468)]-_0x36d6f5[_0x47e7a0(0x468)];if(_0x278ab6!==0x0)return _0x278ab6;const _0x284031=_0x5ee876[_0x47e7a0(0x947)]-_0x36d6f5[_0x47e7a0(0x947)];if(_0x284031!==0x0)return _0x284031;return(_0x36d6f5[_0x47e7a0(0x47c)]||'')[_0x47e7a0(0x6e9)](_0x5ee876[_0x47e7a0(0x47c)]||'','th');}});let _0x255822='';const _0x3b03eb=!_0x1465a1&&!(_0x5538ef&&_0x5862ad[_0xe5c167(0x20a)]===![]);if(_0x4e7dec&&_0x3b03eb){let _0x14852e='',_0x29c182='';const _0x33cd69=_0x4e7dec[_0xe5c167(0xb6d)]||_0x5862ad[_0xe5c167(0x23c)][_0xe5c167(0x80d)];if(_0x33cd69==='multiple_choice'&&_0x4e7dec['options']){const _0x273831=_0x4e7dec['correctAnswerIndex'];_0x14852e=_0x4e7dec[_0xe5c167(0x25f)][_0x273831],_0x29c182=_0x1fdea8(_0x273831)+'.';}else{if(_0x33cd69===_0xe5c167(0x35c)){const _0x44945a=String(_0x4e7dec[_0xe5c167(0xec0)])[_0xe5c167(0x3be)]()===_0xe5c167(0xbb9);_0x14852e=_0x44945a?'ใช่\x20/\x20ถูก':'ไม่ใช่\x20/\x20ผิด',_0x29c182=_0x44945a?'ก.':'ข.';}else{if(_0x33cd69==='matching_item')_0x14852e=_0x4e7dec[_0xe5c167(0xc32)]||'-';else(_0x33cd69===_0xe5c167(0x466)||_0x33cd69===_0xe5c167(0x8f5))&&(_0x14852e=_0x4e7dec[_0xe5c167(0x9f1)]||'-');}}_0x14852e&&(_0x255822='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20'+(_0x50bd16+0x1)+_0xe5c167(0x7e0)+_0x29c182+'\x20'+_0x14852e+_0xe5c167(0xeda));}const _0x5f3e78=_0x5673db[_0xe5c167(0x91f)]((_0x20d6b7,_0x31207e)=>{const _0x300226=_0xe5c167,_0x20a1aa=_0x20d6b7[_0x300226(0x947)],_0xabf59=_0x20d6b7[_0x300226(0x468)],_0xfdc27b=(_0x20d6b7[_0x300226(0x767)]||[])[_0x300226(0x426)](_0x255e27=>_0x255e27[_0x300226(0x39e)]===_0x18d768),_0x172559=_0x20d6b7['answers'][_0x300226(0x83b)];let _0x310ce8='';if(_0xfdc27b){if(_0xfdc27b['wasForced'])_0x310ce8+=_0x300226(0xde5);if(_0xfdc27b['wasJinxed'])_0x310ce8+=_0x300226(0x730);if(_0xfdc27b['usedBuyTime'])_0x310ce8+=_0x300226(0xae6);const _0xb05feb=_0xfdc27b['powerupUsed'];if(_0xb05feb){const _0x57b83e={'poll':'📊','cutOne':'✂️','insurance':_0x300226(0xe46),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x300226(0x7eb)};if(_0x57b83e[_0xb05feb])_0x310ce8+=_0x300226(0x221)+_0x57b83e[_0xb05feb]+_0x300226(0x935);}}let _0x245bdb='';const _0x505092=_0x20d6b7['correctStreak']||0x0,_0x31cd95=_0xfdc27b&&_0xfdc27b[_0x300226(0x8c7)],_0x368eef=_0xfdc27b&&_0xfdc27b['powerupUsed']&&_0xfdc27b['powerupUsed']!=='wagerMultiplier';!_0x1465a1&&_0x505092>=0x3&&!_0x31cd95&&!_0x368eef&&(_0x245bdb+=_0x300226(0x557)+_0x505092+_0x300226(0x935));if(!_0x1465a1&&_0x172559>0x0){if(_0xc736a5){if(_0xabf59===_0x3ea8d9&&_0x3ea8d9>0x0)_0x245bdb+=_0x300226(0xc6e);if(_0x20a1aa===_0x3a34a7&&_0x3a34a7>0x0)_0x245bdb+=_0x300226(0xe48);}else{const _0x17841d=_0x20d6b7[_0x300226(0x947)]===_0x18d768+0x1;if(_0x17841d)_0x245bdb+=_0x300226(0xf1a);}if(_0x245bdb===''&&_0xabf59<0x0)_0x245bdb+=_0x300226(0x73a);}let _0x5b92d1='bg-black/20',_0x437e56=![],_0x1128c0=![];if(!_0x1465a1){const _0x4a7aec=(_0x20d6b7[_0x300226(0x767)]||[])[_0x300226(0x426)](_0x18e3c0=>_0x18e3c0[_0x300226(0x39e)]===_0x50bd16);if(_0x4a7aec){const _0x44b32c=_0x4a7aec[_0x300226(0x33c)],_0x156f99=_0x4a7aec['wasConfident']===!![]||_0x4a7aec[_0x300226(0x8fd)]===_0x300226(0xaac),_0x8787b1=_0x4a7aec['powerupUsed'];if(_0x8787b1===_0x300226(0x592))_0x44b32c?(_0x5b92d1=_0x300226(0x7a9),_0x437e56=!![]):(_0x5b92d1='bg-red-700\x20text-white\x20font-bold',_0x1128c0=!![]);else{if(_0x156f99)_0x5b92d1=_0x44b32c?_0x300226(0x30b):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x44b32c&&(_0x5b92d1=_0x300226(0x599));}}}let _0x5db4ad='';const _0x55d313=_0x20d6b7[_0x300226(0x47c)],_0xc120e7=_0x5862ad[_0x300226(0x5e7)][_0x20d6b7[_0x300226(0x47c)]]||_0x300226(0xacc),_0x665437=_0x300226(0x96a),_0x49e8b7='word-break:\x20break-all;',_0x536072=_0x437e56?_0x300226(0x6f3):_0x300226(0x9b1);let _0x2b4d93='';const _0x10ff80=_0xabf59>=0x0?'(+'+_0xabf59[_0x300226(0xe4c)]()+')':'('+_0xabf59['toLocaleString']()+')',_0x4a3714='<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>'+_0x20a1aa+_0x300226(0x340)+_0x10ff80+_0x300226(0x935);if(_0x259932){if(_0x5538ef&&!_0x11a96e)_0x1128c0?_0x5db4ad=_0x300226(0xb69)+_0x665437+_0x300226(0x452)+_0x55d313+'\x20('+_0xc120e7+_0x300226(0xe31)+_0x49e8b7+'\x22>'+_0x55d313+_0x300226(0xf47)+_0x310ce8+'\x20'+_0x245bdb+'<span\x20class=\x22block\x20text-sm\x20'+_0x536072+_0x300226(0xa2f)+_0x49e8b7+_0x300226(0x357)+_0xc120e7+')</span></div>':_0x5db4ad='<div\x20style=\x22'+_0x665437+_0x300226(0x452)+_0xc120e7+_0x300226(0x7fe)+_0x49e8b7+'\x22>'+_0xc120e7+_0x300226(0xf47)+_0x310ce8+'\x20'+_0x245bdb+_0x300226(0x4f3),_0x2b4d93=_0x4a3714;else{if(_0x5538ef&&_0x11a96e)_0x5db4ad=_0x300226(0xb69)+_0x665437+_0x300226(0x452)+_0x55d313+_0x300226(0x7fe)+_0x49e8b7+'\x22>'+_0x55d313+_0x300226(0xf47)+_0x310ce8+'\x20'+_0x245bdb+_0x300226(0x7b3)+_0x536072+'\x22\x20style=\x22'+_0x49e8b7+_0x300226(0x357)+_0xc120e7+_0x300226(0x3ee),_0x2b4d93=_0x4a3714;else _0x1465a1?(_0x5db4ad=_0x300226(0xb69)+_0x665437+_0x300226(0x452)+_0x55d313+_0x300226(0x7fe)+_0x49e8b7+'\x22>'+_0x55d313+'</span>\x20'+_0x310ce8+'\x20'+_0x245bdb+'</div>',_0x2b4d93=''):(_0x5db4ad=_0x300226(0xb69)+_0x665437+_0x300226(0x452)+_0x55d313+_0x300226(0x7fe)+_0x49e8b7+'\x22>'+_0x55d313+_0x300226(0xf47)+_0x310ce8+'\x20'+_0x245bdb+'</div>',_0x2b4d93=_0x4a3714);}}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x5b92d1+_0x300226(0xefb)+(_0x31207e+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5db4ad+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b4d93+_0x300226(0xddf);})['join'](''),_0xae1700=_0x4df7ed[_0xe5c167(0x91f)]((_0x3c3bf6,_0xb7b5f)=>{const _0x4a7de8=_0xe5c167;if(_0x558292&&_0xb7b5f>_0x50bd16||_0x1465a1)return'';const _0x22ccc7=_0x5c1b28[_0x4a7de8(0xe4e)](_0x17043d=>_0x17043d[_0x4a7de8(0x767)]&&_0x17043d[_0x4a7de8(0x767)][_0x4a7de8(0x426)](_0xe047ee=>_0xe047ee[_0x4a7de8(0x39e)]===_0xb7b5f&&_0xe047ee['isCorrect']))[_0x4a7de8(0x83b)],_0x586f61=_0xb7b5f===_0x50bd16,_0x1338cb=_0x586f61?_0x4a7de8(0xe90):_0x4a7de8(0xf13);return _0x4a7de8(0xc2b)+_0x1338cb+_0x4a7de8(0x3c4)+(_0xb7b5f+0x1)+_0x4a7de8(0xdfc)+_0x22ccc7+_0x4a7de8(0xa09)+_0x5e612d+_0x4a7de8(0xade);})[_0xe5c167(0x8c3)]('');let _0x47bf5e='',_0x44df7a='';if(_0x259932){const _0x24192b=_0x38e9d9===_0xe5c167(0x45e)&&_0x5862ad[_0xe5c167(0x5fb)]>=_0x4df7ed[_0xe5c167(0x83b)]-0x1,_0x27b9a0=_0x558292&&_0x5862ad['reviewQuestionIndex']>=_0x4df7ed['length']-0x1,_0x2b951e=_0x38e9d9===_0xe5c167(0xc93)&&_0x5862ad[_0xe5c167(0x5fb)]>=_0x4df7ed[_0xe5c167(0x83b)]-0x1,_0x22c516=_0x5538ef&&!_0x558292&&_0x5862ad[_0xe5c167(0x5fb)]>=_0x4df7ed[_0xe5c167(0x83b)]-0x1;if(_0x558292)_0x27b9a0?_0x5538ef&&!_0x11a96e?_0x47bf5e=_0xe5c167(0xa0f):_0x47bf5e=_0xe5c167(0xb64):_0x47bf5e=_0xe5c167(0x267);else _0x24192b||_0x2b951e||_0x22c516?_0x5538ef&&!_0x11a96e?_0x47bf5e=_0xe5c167(0xa0f):_0x47bf5e=_0xe5c167(0xb64):_0x47bf5e=_0xe5c167(0x862);_0x44df7a=_0xe5c167(0xe89);}const _0x8a1fb6=_0x1465a1||_0x5538ef&&!_0x5862ad[_0xe5c167(0x20a)]?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0xae1700+_0xe5c167(0xe8f),_0x125611=_0x1465a1||_0x5538ef&&!_0x5862ad[_0xe5c167(0x20a)]?_0xe5c167(0x692):'md:col-span-1',_0x184002=_0xe5c167(0xac4)+_0x5862ad[_0xe5c167(0x23c)][_0xe5c167(0x308)]+_0xe5c167(0xb16)+_0x5862ad[_0xe5c167(0xd35)]+_0xe5c167(0xb15)+_0x44df7a+_0xe5c167(0xec4)+_0x255822+_0xe5c167(0xb32)+_0x125611+_0xe5c167(0x531)+(_0x5f3e78||_0xe5c167(0x779))+_0xe5c167(0xf3a)+_0x8a1fb6+_0xe5c167(0xcc4)+(_0x259932?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x47bf5e+_0xe5c167(0x4f3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0xe5c167(0x674)]=_0x184002;if(window[_0xe5c167(0xef3)]){const _0x579f44=document[_0xe5c167(0x6ec)](_0xe5c167(0x281));_0x579f44&&MathJax['typesetPromise']([_0x579f44]);}if(_0x259932){const _0x295fb0=document[_0xe5c167(0x6ec)]('next-sync-question-btn');_0x295fb0&&(_0x295fb0[_0xe5c167(0xdba)]=async()=>{const _0x30d4ba=_0xe5c167,_0x511571=doc(db,_0x30d4ba(0x509)+appId+_0x30d4ba(0xa31),currentLiveGameId),_0x2c6192=_0x5862ad[_0x30d4ba(0x5fb)]+0x1,_0x346d4b=_0x5862ad['shuffledQuiz'][_0x30d4ba(0xa08)][_0x30d4ba(0x83b)];!_0x558292&&_0x2c6192<_0x346d4b?await updateDoc(_0x511571,{'status':_0x30d4ba(0x77c),'currentQuestionIndex':_0x2c6192,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x511571,{'status':'podium'});});const _0x1b2dc5=document[_0xe5c167(0x6ec)](_0xe5c167(0xe8e));_0x1b2dc5&&(_0x1b2dc5[_0xe5c167(0xdba)]=async()=>{const _0x1a62f1=_0xe5c167,_0x4a58e6=doc(db,_0x1a62f1(0x509)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x4a58e6,{'reviewQuestionIndex':increment(0x1)});});document['getElementById'](_0xe5c167(0xaf5))?.[_0xe5c167(0x504)]('click',async()=>{const _0x41a3ba=_0xe5c167;await updateDoc(doc(db,'artifacts/'+appId+_0x41a3ba(0xa31),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x36c224=document[_0xe5c167(0x6ec)](_0xe5c167(0x1da));_0x36c224&&(_0x36c224['onclick']=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x3a35a3=_0x5f2f;await updateDoc(doc(db,_0x3a35a3(0x509)+appId+_0x3a35a3(0xa31),currentLiveGameId),{'status':_0x3a35a3(0x709)});});});}}async function handleGenerateParallelFromBank(_0x55834f){const _0x540ccb=_0x2e2582,_0x101c1b=document[_0x540ccb(0x6ec)](_0x540ccb(0x481)),_0x15d997=document['getElementById']('project-quizzes-list');_0x15d997[_0x540ccb(0xed5)][_0x540ccb(0xbca)](_0x540ccb(0x515));const _0x4c92d6=_0x540ccb(0x9b7)+_0x55834f['topic']+_0x540ccb(0x761);_0x101c1b[_0x540ccb(0xc88)](_0x540ccb(0x5ea),_0x4c92d6);const _0xdd2110=document['getElementById'](_0x540ccb(0xf4e));try{const _0x1b3a0e=_0x55834f[_0x540ccb(0xa08)][_0x540ccb(0x91f)]((_0x17aa4c,_0x597ce7)=>{const _0x5efe2b=_0x540ccb;let _0x17acf7=_0x597ce7+0x1+'.\x20'+(_0x17aa4c[_0x5efe2b(0x912)]||_0x17aa4c[_0x5efe2b(0x71c)])+'\x0a';if(_0x17aa4c[_0x5efe2b(0x25f)])_0x17acf7+=_0x17aa4c[_0x5efe2b(0x25f)]['map']((_0x19b859,_0x50c36a)=>_0x5efe2b(0x67b)+(_0x50c36a===_0x17aa4c[_0x5efe2b(0x526)]?_0x5efe2b(0x9b0):'')+'\x20'+_0x19b859)[_0x5efe2b(0x8c3)]('\x0a');else _0x17aa4c[_0x5efe2b(0x9f1)]&&(_0x17acf7+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x17aa4c[_0x5efe2b(0x9f1)]);return _0x17acf7;})[_0x540ccb(0x8c3)]('\x0a\x0a');_0xdd2110[_0x540ccb(0x337)]=_0x540ccb(0xb78);const _0x117903='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x55834f[_0x540ccb(0x308)]+_0x540ccb(0xa35)+_0x1b3a0e+_0x540ccb(0x867)+simpleMathPrompt+_0x540ccb(0x6b5),_0x16f783={'type':_0x540ccb(0xda2),'properties':{'questionText':{'type':_0x540ccb(0x9eb)},'questionType':{'type':'STRING','enum':[_0x540ccb(0xbb3),'short_answer','true_false',_0x540ccb(0x440)]},'options':{'type':_0x540ccb(0xb83),'items':{'type':_0x540ccb(0x9eb)}},'correctAnswerIndex':{'type':_0x540ccb(0xbb4)},'idealAnswer':{'type':_0x540ccb(0x9eb)},'correctAnswer':{'type':_0x540ccb(0xe27)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x540ccb(0x9eb)},'allResponses':{'type':'ARRAY','items':{'type':_0x540ccb(0x9eb)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x540ccb(0x9eb)}},'required':[_0x540ccb(0xb6d),_0x540ccb(0xec3)]},_0x7e5ceb={'type':_0x540ccb(0xda2),'properties':{'topic':{'type':_0x540ccb(0x9eb)},'questions':{'type':_0x540ccb(0xb83),'items':_0x16f783}},'required':[_0x540ccb(0x308),_0x540ccb(0xa08)]},_0x4fc75f=await callAnalysisApi(_0x117903,_0x7e5ceb),_0x699245=_0x4fc75f[_0x540ccb(0xa08)]['map']((_0x41033f,_0x2e9fbc)=>({..._0x41033f,'id':'q_'+Date[_0x540ccb(0xbf5)]()+'_'+_0x2e9fbc})),_0x123d31='(คู่ขนาน)\x20'+_0x55834f[_0x540ccb(0x308)],_0x40d34d={'topic':_0x123d31,'questions':_0x699245,'quizType':_0x55834f['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x540ccb(0xbae)](),'status':'active','settings':_0x55834f['settings'],'quizMode':_0x540ccb(0x395),'pairedQuizId':null,'lessonPlan':null};let _0x4a689e;while(!![]){_0x4a689e=Math['floor'](0x3e8+Math[_0x540ccb(0x76c)]()*0x2328)[_0x540ccb(0xe25)]();const _0x2b553d=await getDoc(doc(db,_0x540ccb(0x509)+appId+_0x540ccb(0x2d1),_0x4a689e));if(!_0x2b553d[_0x540ccb(0xa82)]())break;}await setDoc(doc(db,_0x540ccb(0x509)+appId+_0x540ccb(0x2d1),_0x4a689e),_0x40d34d),showMessage(_0x540ccb(0x6a9));}catch(_0x5cf813){console[_0x540ccb(0x61c)](_0x540ccb(0xa44),_0x5cf813),showMessage(_0x540ccb(0xebb)+_0x5cf813[_0x540ccb(0x784)]);}finally{const _0x9233f1=document[_0x540ccb(0x6ec)](_0x540ccb(0xeba));_0x9233f1&&_0x9233f1['remove'](),_0x15d997[_0x540ccb(0xed5)][_0x540ccb(0xb8a)](_0x540ccb(0x515));}}async function handleGenerateParallelPostTest(_0x62ada8){const _0x47ba16=_0x2e2582,_0x4ceb8e=document[_0x47ba16(0x6ec)](_0x47ba16(0x481)),_0x3214a9=document['getElementById'](_0x47ba16(0x1fe));_0x3214a9[_0x47ba16(0xed5)][_0x47ba16(0xbca)](_0x47ba16(0x515));const _0x1e8342=_0x47ba16(0x3bc);_0x4ceb8e[_0x47ba16(0xc88)]('beforeend',_0x1e8342);try{const _0x793e08=_0x62ada8['questions'][_0x47ba16(0x91f)]((_0x4d54ea,_0x946cb9)=>{const _0x5ce134=_0x47ba16;let _0x3935cb=_0x946cb9+0x1+'.\x20'+(_0x4d54ea[_0x5ce134(0x912)]||_0x4d54ea[_0x5ce134(0x71c)]);if(_0x4d54ea['options'])_0x3935cb+=_0x5ce134(0xbfc)+_0x4d54ea['options']['join'](',\x20');return _0x3935cb;})['join']('\x0a\x0a'),_0x1a9bf5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x62ada8['topic']+_0x47ba16(0x8ec)+_0x793e08+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x47ba16(0x6b5),_0x2998ae={'type':_0x47ba16(0xda2),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionText':{'type':_0x47ba16(0x9eb)},'questionType':{'type':_0x47ba16(0x9eb)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x47ba16(0xbb4)},'idealAnswer':{'type':_0x47ba16(0x9eb)},'explanation':{'type':_0x47ba16(0x9eb)}},'required':['questionText',_0x47ba16(0xec3)]}}},'required':[_0x47ba16(0x308),'questions']},_0x34868b=await callAnalysisApi(_0x1a9bf5,_0x2998ae),_0x2c5379=_0x62ada8['topic'][_0x47ba16(0x3cc)](_0x47ba16(0x24f),'')['trim'](),_0xe3a38e=_0x47ba16(0x76b)+_0x2c5379,_0x3f68ee={..._0x34868b,'topic':_0xe3a38e,'quizType':_0x62ada8[_0x47ba16(0x80d)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x47ba16(0xbae)](),'status':'active','settings':_0x62ada8[_0x47ba16(0xe11)],'quizMode':_0x47ba16(0xe26),'pairedQuizId':_0x62ada8['id']};let _0x2a0ded;while(!![]){_0x2a0ded=Math[_0x47ba16(0xabc)](0x3e8+Math[_0x47ba16(0x76c)]()*0x2328)[_0x47ba16(0xe25)]();const _0x3c20ce=await getDoc(doc(db,'artifacts/'+appId+_0x47ba16(0x2d1),_0x2a0ded));if(!_0x3c20ce[_0x47ba16(0xa82)]())break;}await setDoc(doc(db,_0x47ba16(0x509)+appId+_0x47ba16(0x2d1),_0x2a0ded),_0x3f68ee);const _0x559654=doc(db,_0x47ba16(0x509)+appId+_0x47ba16(0x2d1),_0x62ada8['id']);await updateDoc(_0x559654,{'pairedQuizId':_0x2a0ded}),showMessage(_0x47ba16(0x874));}catch(_0x19efab){console[_0x47ba16(0x61c)](_0x47ba16(0xc05),_0x19efab),showMessage(_0x47ba16(0xebb)+_0x19efab['message']);}finally{const _0x401422=document['getElementById'](_0x47ba16(0xeba));if(_0x401422)_0x401422[_0x47ba16(0xb8a)]();_0x3214a9[_0x47ba16(0xed5)][_0x47ba16(0xb8a)](_0x47ba16(0x515));}}async function handleGenerateParallelTest(_0x3faf77=null){const _0x4f1e38=_0x2e2582;let _0x25a543=_0x3faf77;if(!_0x25a543){const _0x165e2d=document['getElementById'](_0x4f1e38(0x631));_0x165e2d[_0x4f1e38(0x29f)]['length']>0x0&&(_0x25a543=_0x165e2d[_0x4f1e38(0x29f)][0x0]);}if(!_0x25a543){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x46ffff=document[_0x4f1e38(0x6ec)](_0x4f1e38(0x3e6)),_0x5c1ea0=document[_0x4f1e38(0x6ec)](_0x4f1e38(0x350)),_0x2fc90a=document[_0x4f1e38(0x6ec)](_0x4f1e38(0x456)),_0x39d56f=document['getElementById'](_0x4f1e38(0x491));_0x39d56f['disabled']=!![],document[_0x4f1e38(0x6ec)]('quiz-generation-area')[_0x4f1e38(0xed5)][_0x4f1e38(0xb8a)]('hidden'),_0x2fc90a['innerHTML']='',_0x46ffff[_0x4f1e38(0xed5)]['remove'](_0x4f1e38(0x515)),_0x5c1ea0[_0x4f1e38(0x337)]=_0x4f1e38(0x9ca);const _0x2d1918=new FileReader();_0x2d1918[_0x4f1e38(0xa1b)](_0x25a543),_0x2d1918['onload']=async()=>{const _0x3e50d3=_0x4f1e38;try{const _0x2c853a=_0x2d1918[_0x3e50d3(0xb66)][_0x3e50d3(0x8c0)](',')[0x1],_0x47a460=_0x25a543[_0x3e50d3(0xae4)];_0x5c1ea0[_0x3e50d3(0x337)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x3dc1a4=document[_0x3e50d3(0x6ec)]('include-images-checkbox')[_0x3e50d3(0xa0a)],_0x2060b2=_0x3dc1a4?_0x3e50d3(0xe06):'',_0x30a0db=_0x3e50d3(0xa0c),_0xc6a3ab={'type':_0x3e50d3(0xda2),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x3e50d3(0xbb3),_0x3e50d3(0x466)]},'options':{'type':_0x3e50d3(0xb83),'items':{'type':_0x3e50d3(0x9eb)}},'correctAnswerIndex':{'type':_0x3e50d3(0xbb4)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3e50d3(0x9eb)},'imageCode':{'type':_0x3e50d3(0x9eb)}},'required':[_0x3e50d3(0x912),_0x3e50d3(0xb6d),_0x3e50d3(0xec3)]},_0x692b44={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3e50d3(0xb83),'items':_0xc6a3ab}},'required':[_0x3e50d3(0x308),_0x3e50d3(0xa08)]},_0x53cc91=[{'text':_0x30a0db},{'inlineData':{'mimeType':_0x47a460,'data':_0x2c853a}}];await handleApiCall(_0x53cc91,_0x3e50d3(0xb75),_0x692b44);}catch(_0x298b62){console[_0x3e50d3(0x61c)](_0x3e50d3(0x4d6),_0x298b62),showMessage(_0x3e50d3(0xebb)+_0x298b62[_0x3e50d3(0x784)]),_0x2fc90a['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x46ffff[_0x3e50d3(0xed5)][_0x3e50d3(0xbca)](_0x3e50d3(0x515)),_0x39d56f[_0x3e50d3(0x736)]=![];}},_0x2d1918['onerror']=_0x3d2fab=>{const _0x55ef0f=_0x4f1e38;console[_0x55ef0f(0x61c)]('FileReader\x20error:',_0x3d2fab),showMessage(_0x55ef0f(0x897)),_0x46ffff[_0x55ef0f(0xed5)][_0x55ef0f(0xbca)](_0x55ef0f(0x515)),_0x39d56f[_0x55ef0f(0x736)]=![];};}async function handleRegenerateQuestionInEditor(_0x378f0d){const _0x25cab5=_0x2e2582;if(currentEditingQuizData===null)return;const _0x205bf0=document[_0x25cab5(0x427)](_0x25cab5(0x44d)+_0x378f0d+'\x22]');_0x205bf0&&(_0x205bf0[_0x25cab5(0x674)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x205e47=currentEditingQuizData['questions'][_0x378f0d],_0x129b8e=currentEditingQuizData[_0x25cab5(0x308)],_0x1460c5=_0x205e47['questionType'],_0x3daca5={'type':_0x25cab5(0xda2),'properties':{'questionText':{'type':_0x25cab5(0x9eb)},'options':{'type':_0x25cab5(0xb83),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x25cab5(0xbb4)},'explanation':{'type':'STRING'}},'required':[_0x25cab5(0x912),_0x25cab5(0x25f),_0x25cab5(0x526),'explanation']},_0x15f6c3={'type':_0x25cab5(0xda2),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x25cab5(0x9eb)},'explanation':{'type':_0x25cab5(0x9eb)}},'required':[_0x25cab5(0x912),_0x25cab5(0x9f1),'explanation']};let _0x58747a,_0x2ca8c1='';_0x1460c5===_0x25cab5(0xbb3)?(_0x58747a=_0x3daca5,_0x2ca8c1=_0x25cab5(0xbf8)):(_0x58747a=_0x15f6c3,_0x2ca8c1=_0x25cab5(0xcb9));const _0x3f7588=_0x25cab5(0x9bc)+_0x129b8e+_0x25cab5(0xdfa)+_0x2ca8c1+_0x25cab5(0x250)+(_0x205e47['questionText']||_0x205e47[_0x25cab5(0x71c)])+_0x25cab5(0x8ed)+simpleMathPrompt;try{const _0x5f4c24=await callAnalysisApi(_0x3f7588,_0x58747a);currentEditingQuizData[_0x25cab5(0xa08)][_0x378f0d]={..._0x205e47,..._0x5f4c24},renderQuizEditor(currentEditingQuizData);}catch(_0x13dcd4){console[_0x25cab5(0x61c)](_0x25cab5(0x3d0),_0x13dcd4),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x597442=_0x2e2582,_0x3b7721=document[_0x597442(0x6ec)](_0x597442(0x60c));currentMode===_0x597442(0x4d0)?(currentMode=_0x597442(0x2dd),_0x3b7721[_0x597442(0x674)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x3b7721['title']='สลับไปโหมดนักเรียน',showView(_0x597442(0x2da))):(currentMode=_0x597442(0x4d0),_0x3b7721['innerHTML']=_0x597442(0xe9a),_0x3b7721[_0x597442(0x247)]='สลับไปโหมดผู้ควบคุม',showView(_0x597442(0x4d0)));}function handleAdminLogin(){const _0xae8c5d=_0x2e2582,_0x82c492=document[_0xae8c5d(0x6ec)](_0xae8c5d(0xa71)),_0x47a117=document[_0xae8c5d(0x6ec)](_0xae8c5d(0xbd4));if(_0x82c492[_0xae8c5d(0x8c2)]==='27411472'){adminPasswordModal[_0xae8c5d(0xed5)][_0xae8c5d(0xbca)](_0xae8c5d(0x515)),_0x82c492['value']='',_0x47a117[_0xae8c5d(0xed5)][_0xae8c5d(0xbca)](_0xae8c5d(0x515)),currentMode=_0xae8c5d(0x2dd);const _0x46e447=document[_0xae8c5d(0x6ec)](_0xae8c5d(0x60c));_0x46e447['innerHTML']=_0xae8c5d(0xa02),_0x46e447['title']=_0xae8c5d(0xc7d),showView(_0xae8c5d(0x2da));}else _0x47a117[_0xae8c5d(0xed5)][_0xae8c5d(0xb8a)](_0xae8c5d(0x515)),_0x82c492[_0xae8c5d(0x8c2)]='';}function switchProjectTab(_0x4170fa){const _0x40d5c1=_0x2e2582;[_0x40d5c1(0xb4e),_0x40d5c1(0xa51),_0x40d5c1(0xf31)]['forEach'](_0x13b830=>{const _0x59aa97=_0x40d5c1;document['getElementById'](_0x13b830+_0x59aa97(0x562))[_0x59aa97(0xed5)][_0x59aa97(0xb8a)](_0x59aa97(0xb3d)),document[_0x59aa97(0x6ec)](_0x13b830+_0x59aa97(0x773))[_0x59aa97(0xed5)][_0x59aa97(0xbca)]('hidden');}),document['getElementById'](_0x4170fa+'-tab')[_0x40d5c1(0xed5)][_0x40d5c1(0xbca)]('active'),document['getElementById'](_0x4170fa+_0x40d5c1(0x773))[_0x40d5c1(0xed5)][_0x40d5c1(0xb8a)](_0x40d5c1(0x515));}function switchQuizDetailTab(_0x1f665d){const _0x3f2a28=_0x2e2582,_0x49d4ca={'analytics':{'btn':'analytics-tab-btn','content':_0x3f2a28(0x6b1)},'scores':{'btn':'scores-tab-btn','content':_0x3f2a28(0x64f)},'leaderboard-quiz':{'btn':_0x3f2a28(0xaa4),'content':_0x3f2a28(0x740)},'behavior-log':{'btn':_0x3f2a28(0x6bc),'content':_0x3f2a28(0x503)}};for(const _0x39d012 in _0x49d4ca){document[_0x3f2a28(0x6ec)](_0x49d4ca[_0x39d012][_0x3f2a28(0x432)])[_0x3f2a28(0xed5)][_0x3f2a28(0xb8a)]('active'),document[_0x3f2a28(0x6ec)](_0x49d4ca[_0x39d012][_0x3f2a28(0x9fa)])['classList'][_0x3f2a28(0xbca)](_0x3f2a28(0x515));}document['getElementById'](_0x49d4ca[_0x1f665d][_0x3f2a28(0x432)])[_0x3f2a28(0xed5)][_0x3f2a28(0xbca)]('active'),document['getElementById'](_0x49d4ca[_0x1f665d][_0x3f2a28(0x9fa)])['classList'][_0x3f2a28(0xb8a)]('hidden');}function showMessage(_0x234b1e,_0x5ef6aa=null){const _0x2bb09f=_0x2e2582;modalMessage[_0x2bb09f(0x674)]=_0x234b1e[_0x2bb09f(0x3cc)](/\n/g,'<br>'),modalConfirmAction=_0x5ef6aa,messageModal[_0x2bb09f(0xed5)][_0x2bb09f(0xb8a)](_0x2bb09f(0x515));}function showConfirmation(_0x8f86da,_0x521e31,_0x4b703a=null){const _0x2db9ee=_0x2e2582;document[_0x2db9ee(0x6ec)](_0x2db9ee(0xa6d))['textContent']=_0x8f86da,document[_0x2db9ee(0x6ec)]('confirmation-modal')[_0x2db9ee(0x427)]('h3')[_0x2db9ee(0x337)]=_0x2db9ee(0xc84),confirmAction=_0x521e31,cancelAction=_0x4b703a,confirmationModal[_0x2db9ee(0xed5)][_0x2db9ee(0xb8a)](_0x2db9ee(0x515));}function listenForProjects(){const _0x44b725=_0x2e2582,_0xc2e471=doc(db,'globalSettings',_0x44b725(0xdf3));onSnapshot(_0xc2e471,_0xd0c442=>{const _0x517002=_0x44b725;if(_0xd0c442[_0x517002(0xa82)]()){const _0x4fd80c=_0xd0c442[_0x517002(0xe5c)]();globalDashboardSettings[_0x517002(0x333)]=_0x4fd80c[_0x517002(0x333)]||_0x517002(0xa25),globalDashboardSettings[_0x517002(0x3bf)]=_0x4fd80c[_0x517002(0x3bf)]||[],globalDashboardSettings[_0x517002(0xe15)]=_0x4fd80c[_0x517002(0xe15)]||[];}allProjects[_0x517002(0x83b)]>0x0&&renderProjects();});const _0x4d062e=collection(db,_0x44b725(0x509)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x4d062e,_0x550984=>{const _0x4b718f=_0x44b725;allProjects=_0x550984[_0x4b718f(0x875)][_0x4b718f(0x91f)](_0x3fd713=>({'id':_0x3fd713['id'],..._0x3fd713[_0x4b718f(0xe5c)]()})),renderProjects();},_0x210fc6=>{const _0x57597e=_0x44b725;console[_0x57597e(0x61c)](_0x57597e(0x2f5),_0x210fc6),showMessage(_0x57597e(0x7d1));});}function showColorPalette(_0xa1efb8,_0x2b6b8d){const _0x2ca338=_0x2e2582;document[_0x2ca338(0xcf1)](_0x2ca338(0x682))[_0x2ca338(0x9ce)](_0x2cdb33=>_0x2cdb33[_0x2ca338(0xb8a)]());const _0xa9ea3b=[_0x2ca338(0x29c),_0x2ca338(0xebe),_0x2ca338(0x808),_0x2ca338(0x608),_0x2ca338(0x3e9),_0x2ca338(0xcaf),_0x2ca338(0x57f),_0x2ca338(0x642),_0x2ca338(0xa22)],_0x40d2b4=document[_0x2ca338(0xc7b)](_0x2ca338(0x2b0));_0x40d2b4[_0x2ca338(0x233)]=_0x2ca338(0xbc2),_0xa9ea3b[_0x2ca338(0x9ce)](_0x3f2285=>{const _0x2b21c1=_0x2ca338,_0x20ab95=document['createElement'](_0x2b21c1(0x2b0));_0x20ab95[_0x2b21c1(0x233)]=_0x2b21c1(0x7a4),_0x20ab95[_0x2b21c1(0xdb7)][_0x2b21c1(0x430)]=_0x3f2285,_0x20ab95[_0x2b21c1(0x504)](_0x2b21c1(0x7b0),()=>{const _0x2922b7=_0x2b21c1;handleProjectColorChange(_0x2b6b8d,_0x3f2285),_0x40d2b4[_0x2922b7(0xb8a)]();}),_0x40d2b4[_0x2b21c1(0xa8b)](_0x20ab95);}),document['body'][_0x2ca338(0xa8b)](_0x40d2b4);const _0x5ae133=_0xa1efb8[_0x2ca338(0x324)]();_0x40d2b4[_0x2ca338(0xdb7)][_0x2ca338(0x276)]=_0x5ae133[_0x2ca338(0x955)]+window['scrollY']+'px',_0x40d2b4[_0x2ca338(0xdb7)]['left']=_0x5ae133[_0x2ca338(0x322)]+window[_0x2ca338(0x6e3)]-_0x40d2b4['offsetWidth']/0x2+'px';}function _0x1cb7(){const _0x50af74=['.buy-time-confirm-btn','data','นักเขียน','.parallel-quiz-btn','STOP','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','quiz-editor-modal','</p></div>','hint','<div\x20class=\x22my-2\x22>','28px','.bp-try-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','632560uPQhkF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','enable-passcode-checkbox','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removed','shortcutOrder','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','tabId','drop','ยังไม่สร้าง','isPasscodeEnabled','.generate-content-btn','Error\x20saving\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','สมการราก\x20(radical)','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ทะเล','getItem','opacity-50','ไอรอนแมน','1:274192258111:web:4120c9118229b5644dd48a','topic-bank-list','Error\x20adding\x20custom\x20topic:','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','function','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','print','interesting-stats-container','จำนวนนักเรียน','ไม่พบข้อมูลโปรเจค','next-review-question-btn','</div></div>','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-image-btn','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','quiz-search-input','#e21b3c','.delete-quiz-btn','PERFECT_SCORE','Error\x20during\x20class\x20analysis:','input[name=\x22syncVariant\x22][value=\x22','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','ดอทโปรดักต์\x20(dot)','/studentProfiles','applicationHTML','.quiz-result-card','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','blueprint-options-container','per-question-text','Error\x20saving\x20parallel\x20shortcut\x20config:','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ดอกเบี้ยอย่างง่าย','admin-view','student-quiz-area','toBlob','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','ใช้ไอเทม\x20','label','<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','.totalPoints','docChanges','difficulty-level-select','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','.topic-row','\x22\x20name=\x22question_single\x22\x20value=\x22','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','input[type=\x22checkbox\x22]:checked','back-to-dashboard-btn','questionDisplayedAt','source_document.pdf','temp-loader-results','เกิดข้อผิดพลาด:\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','#FEE2E2','draggable-text','correctAnswer','text-green-700\x20bg-green-100','file-shortcut-editor-modal','explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-900\x20font-bold','ร้อยละประยุกต์','คนโสด','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','getTime','presentation-explanation','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','input[name=\x22syncVariant\x22]','.delete-parallel-shortcut-tab-btn','order','hiddenOptions_q','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','กระต่ายตื่นตูม','Error\x20saving\x20quiz:','classList','bg-green-50','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','src','Error\x20updating\x20quiz\x20settings:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','timerDuration','fiftyFifty','กำลังกลับเข้าสู่เกม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','stopPropagation','linkedQuizIds','จัดการ','team-player-status-grid','confirm-wager-btn','pollUsedThisTurn','pointercancel','.pen-color-btn','QUICK_THINKER',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-','log','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','live-race','results-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20','transition','MathJax','\x20mb-2\x22>','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','-options','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','องค์ประกอบของฟังก์ชัน','check-presentation-answer-btn','change','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>','.edit-parallel-shortcut-btn','cancel-test-btn','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','Error\x20submitting\x20answer:','show_results_and_answers','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','strength-weakness-analysis-container','secondChance','complexityValue','matching','dispatchEvent','match','timerMode','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','อัศวินรัตติกาล','export-compact-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ระบบสมการเชิงเส้นสองตัวแปร','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','จอมเวทย์ขนมหวาน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','bg-red-100','p-2\x20bg-black/10\x20rounded-md','.delete-project-btn','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','stdDev','ใช่','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','points','project-sort-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','cancel-manual-bp-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','Error\x20displaying\x20question\x20bank:','image/png','bp-modal-quiz-type-select','รูปสแควร์รูท\x20(surd)','.open-bp-project-btn','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','new-question-type-select','additional-parallel-shortcuts-list','shouldSaveResults','webkitAudioContext','currentTime','.remove-file-shortcut-from-tab-btn','.group','file.txt','อยู่ในหัวข้อหลักใด:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','leq','autoTable','/public/data/practiceBank','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','some','rename-quiz-input','lesson-view-content','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blur','.lastAnswerValue','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','<button\x20id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','use-powerup-','toLocaleDateString','preventDefault','update','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</span>\x20','ไม่ระบุ','การจัดหมู่\x20(Combination)','textarea','geq','members','คะแนนยังไม่ถึงครึ่ง','temp-loader-text-results','MathJax\x20typeset\x20error\x20(analytics):','cancel-confidence-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','คาถาแยกเงาพันร่าง','คู่จิ้น','$$$1$','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','\x22\x20data-name=\x22','\x20to\x20blueprint\x20topic\x20','เรเดียนและการแปลงหน่วย','create-project-btn','submit-group-answer-btn','quiz-status-modal','redo-btn','bg-blue-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','end-sync-game-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่ผ่าน','จำนวนเชิงซ้อน\x20(เสริม)','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startTime','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไข','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','responseSchema','whole_quiz','text-red-500\x20hover:text-red-700','#view-rankings-btn','.shortcut-tab-btn','ช่างภาพ','ทฤษฎีบทพีทาโกรัสและการประยุกต์','bp-topic-list-container','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-file-shortcuts-modal','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','ฮัลค์','focus','name_desc','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','file-input-area','ไม่สามารถโหลดรายการโปรเจคได้','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','text-green-600\x20font-bold','ไม่พบข้อมูลเกม','COMEBACK_KING','fa-fire\x20text-orange-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','project-quizzes-list','highlighter-size-slider','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','pointsLastRound','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ลาเต้ไม่หวาน','_blank','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','bp-quiz-settings-btn','touchmove','editable-text-','showAnswerInAnonymous','modal-timer-duration-input','#open-additional-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','แก้ไขปุ่มลัดจากไฟล์','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','end-game-btn','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','แม่น้ำ','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','scratchpad-clear-btn','Error\x20starting\x20live\x20race:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.bp-unlink-quiz-btn','สรุปผลสุดท้าย','isFinished','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','การลบทศนิยม','wheel','players','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','.toggle-actions-btn','bg-green-100','<span\x20title=\x22ใช้ไอเทม\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','ท้องฟ้า','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','Failed\x20to\x20end\x20group\x20mode\x20game:','ซื้อ\x20\x22','Matching\x20options\x20synced:','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','substr','.ideal-answer-input,\x20.correct-response-input','application','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','.topic-category','bold','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','className','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','<button\x20data-value=\x22','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','กรุณาเลือกไฟล์ก่อน','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20saving\x20file\x20shortcut\x20config:','shuffledQuiz','parallelShortcutOrder','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','P/อัน)','bulk-loop-until-pass-checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','isNormalTopic','prod','text-blue-700','title','ไม่พบแบบทดสอบในระบบเลย','เลือกและเริ่มสร้าง','.subTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-presentation-btn','total','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','(ก่อนเรียน)','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','มัธยฐาน','answerText','market-timer-bar','bg-gray-100\x20opacity-70','ระยะจากจุดถึงเส้นตรง','.bp-create-content-quiz-btn','อินเวอร์สของเมทริกซ์','Sync\x20Mode','correct','blueprint-upload-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','open-quiz-bank-btn','options','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','dataset','.question-editor-item','scale','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','ไอติมทอด','next-question-timed-btn','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','</select>','confidence-mode-select','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','OCR\x20Error:','textAlign','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','isPinned','use-powerup-secondChance','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','project-passcode-modal','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','การลบเศษส่วน','สายลับจับบ้านเล็ก','top','input[type=\x22checkbox\x22]','.answeredCurrentQuestion','shuffle-setting-select','auto-fix-latex-btn','mandatory','เกิดข้อผิดพลาดในการใช้ตัวช่วย','lastIndexOf','ยังไม่มีนักเรียนส่งงาน','msRequestFullscreen','ไม่พบแบบทดสอบสำหรับรหัสนี้','main-correct-answer-display','onloadend','ตอบถูก\x203\x20ข้อติดต่อกัน','manage-tab','lesson-loader-text','save-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','isArray','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','font-bold\x20text-red-700\x20line-through','Successfully\x20removed\x20','exitFullscreen','.delete-shortcut-btn','sync-timer-duration-input','\x20ใหม่...','txt','ย้าย','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','isStarred','Error\x20clearing\x20linked\x20quiz:','AI\x20Fix\x20Error:','both','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p><p><strong>เฉลย:</strong>\x20','ฟังก์ชันยกกำลัง','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','#FFFFFF','Invalid\x20response\x20structure\x20from\x20API.','use-powerup-insurance','files','lastAnswerIndex','กลุ่มของคุณ','การเรียงสับเปลี่ยน\x20(Permutation)','274192258111','.pen-size-btn','confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','พบข้อสอบ\x20','<div\x20class=\x22p-2\x20rounded-md\x20','start','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','link-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','originalQuestionText','fill_in_with_choices','div','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Team\x20Quiz','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-red-200\x20text-red-800','\x5cpm','setItem','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','อนุพันธ์:\x20กฎลูกโซ่','สมการเชิงเส้นตัวแปรเดียว','pairedQuizId','fullscreenElement','แอบชอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','.delete-bp-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span><span\x20class=\x22font-bold\x22>','perfect_score_status','มูเตลู','use-powerup-cutOne','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','isSyncGame','</a>','sync-timer-bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','source_document.txt','[id^=\x22dropdown-list-\x22]','shortcuts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clearRect','/public/data/quizzes','กำลังดึงข้อมูลจากลิงก์...','<option\x20value=\x22\x22>กำลังโหลด...</option>','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ON_FIRE','นักล่าฝัน','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','frequency','admin-dashboard','input[type=\x22text\x22]','กรุณากรอกข้อมูลให้ครบทุกช่อง','admin','.isScored','highlighter','export-pdf-modal','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','.duplicate-quiz-btn','บันทึกการตั้งค่าการแสดงผลสำเร็จ','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','dropdown-list-','pointsAwarded','ตัวประกอบและตัวประกอบเฉพาะ','bp-reference-file-url','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','custom-math-topic-input','ดอกเบี้ยทบต้น','เปิดใช้งาน','export-image-btn','results-tab','lesson-view-title','input[type=\x22radio\x22][value=\x22','answer-grid-container','Error\x20listening\x20for\x20projects:','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','strokeStyle','mouseup','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hasPerfectScoreBonus','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','setFont','คณิตศาสตร์','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','พื้นที่ผิวรูปทรงสามมิติ','.custom-math-dropdown','student-list','การกระจายและการจัดหมู่','checkAnswer','<div\x20class=\x22flex-1\x22></div>','.kick-player-btn-sync','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','topic','.topic-name-input','from','bg-[#4ADE80]\x20text-green-900\x20font-bold','\x22...','students','คำถามถัดไป','ฮิสโตแกรม','parallel-test-input-area','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20w-8\x20inline-block\x20text-center\x22>','minHeight','transform','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.file-topic-selection-btn','text-red-300\x20hover:text-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','editable-quiz-topic','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','ผู้เล่น\x20','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','#retake-for-improvement-btn','left','border-red-700','getBoundingClientRect','</h3>','Error\x20opening\x20quiz\x20editor:','handleGenerateAndShowLesson','</th>','worksheet-input-area','black-market-settings-container','shortcut-blueprint-url-input','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','.use-hidden-shortcut-btn','adaptive-quiz-checkbox','referenceUrl','newCorrectIndex','ไม่พบข้อมูลการจับคู่','projectSort','\x20หัวข้อ)','isAdaptive','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','textContent','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','qType','responses','isCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-red-700\x20bg-red-100','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x20คะแนน\x20','multiply','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','incorrect','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','list-view-btn','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','การสร้างรูปด้วยวงเวียน–สันตรง','(คัดลอก)\x20','Failed\x20to\x20get\x20hint:','0\x20(รอโบนัส)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isDefault','#file-shortcut-tabs-nav\x20.tab-name-input','loader-text','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','.parallel-shortcut-tab-btn','.status','scratchpad-modal','save-quiz-edits-btn','\x22>(','dblclick','generate-from-text-btn','display','กำลังดึงไฟล์อ้างอิงจากลิงก์...','true_false','project-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20','การนับ','#student-project-leaderboard-content\x20thead','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','ค.ร.น.\x20(LCM)','save-game-results-checkbox','closest','ฟังก์ชันแบบชิ้นส่วน','(พยายามอยู่)','ไม่ใช่','progress-project-select','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','verify-answers-editor-btn','showInStudentDashboard','<button\x20data-quiz-id=\x22','canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20analyzing\x20file\x20for\x20topics:','ก่อนเรียน','placeholder','parallel-default-1','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว',':</span><span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','.lastAnswerIndex','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','พื้นที่วงกลม/ส่วนของวงกลม','cancel-quiz-status-btn','live-game','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','parallel-shortcut-container','onSecondChance','confirm-join-game-btn','input[name=\x22team_player\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz','null','ondragend','จุด\x20เส้น\x20ระนาบ','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20จุด','1009072vuiRhY','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','<span\x20class=\x22text-yellow-200\x20font-bold\x22>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','close-additional-shortcuts-btn','lowerGroupResponders','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','standard','typesetPromise','then','referenceFileUrl','Failed\x20to\x20create/update\x20submission\x20record:','powerupUsedThisTurn','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','originalTopic','เกิดข้อผิดพลาดในการจับคู่','questionIndex','modal-adaptive-quiz-checkbox','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','source-over','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','cancel-bulk-quiz-settings-btn','close-comparison-modal-footer-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','replaceChild','.quiz-bank-checkbox:checked','transformOrigin','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','shadowColor','quizId','gradeLevel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','ความคล้ายของรูป','\x22\x20value=\x22true\x22\x20','close-additional-file-shortcuts-btn','indexOf','question-analytics-container','additional-shortcuts-modal','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','use-powerup-revealOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','practiceProblems','ย้ายแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','toLowerCase','pinnedProjects','%</span>','Error\x20editing\x20topic:','ตรวจทานเฉลยเสร็จสิ้น!','execCommand','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','สมการค่าสัมบูรณ์','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.shortcut-list-item:not(.opacity-50)','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','project-title','replace','strategyScan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','Error\x20regenerating\x20question\x20in\x20editor:','includeImages','</strong></div>','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','shortcut-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','request','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.','กรุณาป้อนหัวข้อสำหรับใบงาน','AI\x20ไม่ส่งผลลัพธ์กลับมา','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','⏳\x20ซื้อเวลา','student-quiz-topic','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Enter','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','close-additional-parallel-shortcuts-btn','Failed\x20to\x20refund\x20powerup:','<option\x20value=\x22','.auto-resize-textarea','loader','classWeaknesses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22','#DBEAFE','attempts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','bg-red-500',')</span></div>','Error\x20comparing\x20results:','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','<div\x20id=\x22q-image-container-','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','anonymous','bg-green-200\x20text-green-900','start-game-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','tooltipTarget','clear-all-links-btn','not_generated','<div\x20class=\x22answer-space\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','.topic-name-display','อัปเดตการตั้งค่าของแบบทดสอบ\x20','จากเนื้อหาต่อไปนี้:\x20\x22','เรขาคณิตวิเคราะห์','confirm-game-start-modal','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/10\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22','student-project-leaderboard-tab','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<i\x20class=\x22fas\x20fa-pen\x22></i>','\x22\x20name=\x22question','delete-all-students-btn','drill-feedback','width\x2060s\x20linear','afterend','Error\x20calculating\x20final\x20scores:','คู่คำตอบ...','แบบทดสอบที่ติดดาว','\x22\x20x','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','totalQuestions','bg-green-500','pop','Error\x20during\x20blueprint\x20link\x20cleanup:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','team-student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','เกิดข้อผิดพลาดในการลบหัวข้อ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','bp-project-title','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','every','keyConcepts','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','scan-text-image-btn','มุมพิเศษ\x2030°-60°-90°','find','querySelector','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20จำนวน\x20','cursor','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','\x20ทำงานอยู่!</div>','จำนวนเต็มลบ','backgroundColor','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','btn','link-tab','live-game-view','element','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','reference-pdf-upload','มือปราบสายรุ้ง','touchcancel','mean','file-tab','dragend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','matching_item','manual_release','dataIndex','การหารเศษส่วน','interesting-stats-wrapper','getAttributeNS','topic-input','การวัด','รายการนี้','/preferences/main','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','firstElementChild','กฎของโคไซน์','.question-editor-item[data-q-index=\x22','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-player-list','.remove-shortcut-from-tab-btn','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x22\x20title=\x22','.score','lessonPlan','รูปหลายเหลี่ยมและมุมภายใน','generated-quiz-container','reference.txt','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','ลบหัวข้อสำเร็จ','cos','Powerup\x20use\x20failed:','starred','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','classic','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','Loaded\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','moveTo','Error\x20saving\x20game\x20results:','short_answer','timeBonusThisQuestion','totalPoints','.delete-parallel-shortcut-btn','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-create-project-btn','จิงโจ้สโลว์ไลฟ์','bank-tab','presentation-ai-result','bg-blue-500\x20hover:bg-blue-600\x20text-white','font-bold\x20text-green-700','close-student-rankings-btn','class','ไม่พบข้อมูลแบบทดสอบ','กฎของไซน์','แก้ระบบสมการด้วยเมทริกซ์','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','แบบทดสอบฝึกฝนเรื่อง:\x20','name','teacherSuggestions','ชื่อหัวข้อห้ามว่าง','shortcutId','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','results-tab-content','พื้นที่สี่เหลี่ยม','ดูผลสรุปสุดท้าย','<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','ไม่สามารถสร้างโปรเจคได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','num-choices-container','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','shortcut-id-input','live-options-container','fullscreenchange','generate-from-parallel-test-btn','project-list','student-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20preparing\x20content\x20quiz:','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','substring','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สถิติและความน่าจะเป็น','[data-topic-id]','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','การแยกตัวประกอบ','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-quiz-search-input','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แปลงร่าง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','newOptionsPayload','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-200','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','stepByStepExamples','overline','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','.generate-easy-version-btn','สู้ๆ\x20ลองอีกครั้งนะ','fas\x20fa-bookmark','answeredCurrentQuestion','\x22\x20data-topic=\x22','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','file-shortcut-container','.shortcut-list-item','Invalid\x20response\x20structure\x20from\x20AI.','groups.','scratchpad-controls','คะแนนเต็ม','Error\x20toggling\x20star\x20status:','confirm-link-quiz-btn','fill','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หยุดระบบจับเวลาหรี่หน้าจอ','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','quiz-editor-questions-container','กลุ่ม:\x20','ai-quiz-app-aefee.firebasestorage.app','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','hasOwnProperty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','medium','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20','table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','student','next-question-btn','_opt1\x22>ไม่ใช่</label></div>','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','fixed','_opt','Error\x20generating\x20from\x20parallel\x20test\x20file:','บันทึกคำถามใหม่\x20','parts','file-shortcut-id-input','Error\x20saving\x20project\x20order:','แบบทดสอบจากคลังส่วนตัว','status','isBlackMarketEnabled','splice','per_question','presentation-scratchpad-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20Error\x20Body:','instructions','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','separate-by-content-from-file-checkbox','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','use-powerup-wagerMultiplier-instant','scrollIntoView','file-default-2','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','catch','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','timer-mode-select','key','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','เส้นรอบรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>','image-to-crop','.verification-result-editor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','bestScore','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','ใช้\x20\x22คำสาป\x22\x20กับ\x20','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','scratchpad-question','/lessons','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','generated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalCompositeOperation','Failed\x20to\x20apply\x20jinx:','behavior-log-tab-content','addEventListener','min','การบวกทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','artifacts/','(ไม่มีชื่อ)','cancel-quiz-settings-btn','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','timestamp','\x20|\x20ID:\x20','stroke','เกมสิ้นสุดลงแล้ว','ศิลปิน','รอเปิด','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','hidden','smooth','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','6FsknGU','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','Error\x20deleting\x20shortcut:','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','leaderboard-tab','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','transition-all','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','student-project-leaderboard-table-body','\x22\x20สำเร็จ!','correctAnswerIndex','admin-testing','comparison-overall-content','.pdf','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','<p\x20class=\x22font-bold\x20text-sm\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','projectName','generate-from-file-btn','http://www.w3.org/2000/svg','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','คุณแน่ใจว่าต้องการลบแท็บนี้?','comparison-overall-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','rgba(239,\x2068,\x2068,\x200.7)','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','quiz-settings-modal','ชื่อโปรเจคห้ามว่าง','bg-yellow-100','Refunded\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','copy','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','sara','.delete-shortcut-tab-btn','sync-short-answer-input','Error\x20verifying\x20answers:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20showing\x20quiz\x20detail\x20view:','startedAt','.csv','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','.ai-content\x20td','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','ยกเลิกการจับคู่สำเร็จ','ค่าเฉลี่ย','visibilitychange','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','player-count','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Group\x20Mode','solution','เกิดข้อผิดพลาดในการนำผู้เล่นออก','Error\x20starting\x20group\x20quiz:','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','-tab','game-start-mode','perfect_score','<span\x20title=\x22ใช้\x20','text','input[type=\x22radio\x22]:checked','สายหมอก','ยืนยันและอัปเดตทั้งหมด','\x22\x20data-q-type=\x22','lineWidth','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','ภูเขา','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','shortcut-tabs-nav','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','นักเดินทาง','หัวข้อหลักใหม่','(เลือกแล้ว\x20','.color-palette-btn','blockReason','ดวงดาว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','arrayBuffer','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','student-name-input','grid','#F3E8FF','ไม่สามารถบันทึกการตั้งค่าได้','bulk-results-display-select','passingScore','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','ติดซีรีส์','values','.star-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ลบผลสอบของ\x20','text-input-area','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','create-project-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','wagerMultiplier','.highlighter-color-btn','.draggable-text','overflow','หมูกระทะจะเยียวยาทุกสิ่ง','export-pdf-btn','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','bg-[#DCFCE7]\x20text-green-900','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','ฟังก์ชันพหุนาม','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','.project-card-container[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','กำลังอัปเดตแบบทดสอบ\x20','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','Game\x20results\x20already\x20saved.\x20Skipping.','.animate-pulse','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/3</span></div>','onkeydown','100%','quick_thinker','summary_chart','\x20(สำหรับ\x20','.submittedAt','00:00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-teal-500\x20hover:bg-teal-600\x20text-white','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','viewBox','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','modal-message','pointermove','.export-pdf-list-btn','quiz-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','แก้ไขปุ่มลัด','student-team-selection-view','analyze-strengths-btn','bg-indigo-600\x20hover:bg-indigo-700','bank-quiz-list','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-delete-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','wager-modal','Error\x20saving\x20shortcut\x20config:','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','dimmed','404\x20Not\x20Found','mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','ถูกต้อง!','หมดเวลา!\x20กำลังส่งคำตอบ...','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','mousedown','close','ดีเทอร์มิแนนต์','Error\x20saving\x20lesson\x20to\x20project:','tGain','qIndex','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','approx','sync','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','.bp-present-btn','.use-hidden-file-shortcut-btn','ผู้ไม่ยอมแพ้','powerups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','all','<span\x20title=\x22','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','playerNicknames','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','beforeend','แบบทดสอบซ่อมเสริม','ธอร์ค้อนบิน','reduce','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','เกิดข้อผิดพลาดในการอัปเดต:\x20','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20P)','กรุณาเลือกคำตอบก่อนครับ','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','helvetica','.hidden-option-input','unshift','bulk-confidence-scoring-checkbox','เศรษฐีดูไบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','currentQuestionIndex','อัตราการเปลี่ยนแปลงทันที','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','score','generate-from-blueprint-btn','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','อัปเดตสถานะสำเร็จ','.ai-fix-formula-btn','student-reading-area','zIndex','stop','#D1FAE5','(ตามมาติดๆ)','กรุณาสร้างบทเรียนก่อน','.answers','mode-switcher-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','สร้างโปรเจคสำเร็จ!','https://corsproxy.io/?','manual-bp-grade-level','lower_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','screen_exit','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','POST','</label></div>','text-indigo-600','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','fixedData','error','contentEditable','scan-text-image-input','half_mark_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','confirm-manual-bp-btn','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','พอใช้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','เกิดข้อผิดพลาดในการบันทึกโปรเจค','.ai-content\x20li','delete-svg-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ondblclick','แก้ไข\x20Points\x20ของ\x20','getContext','parallel-test-upload-input','freeMarketEntryUsed_q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','per-question-options','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','removeEventListener','Error\x20deleting\x20student:','webkitExitFullscreen','Could\x20not\x20fetch\x20reference\x20file:','raw','set','.move-shortcut-item','กำลังอ่านไฟล์\x20Test\x20Blueprint...','quiz-bank-modal','ฟังก์ชันกำลังสองและกราฟ','project-detail','#FCE7F3','เปิด\x20(จับเวลา)','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','</option>','createOscillator','cdot','[data-topic-container-id]','shadowBlur','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attemptNumber','.move-file-shortcut-menu-btn','presentation-modal','ความคาดหมาย\x20(Expected\x20value)','scores-tab-content','numeric','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','จำนวนข้อ:','🌗\x2050:50','ลิมิต','num-choices','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x22.\x20Ideal\x20Answer:\x20\x22','\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','bg-blue-100\x20text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','_opt1\x22\x20name=\x22question','firstScore','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','poll','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20deleting\x20submission:','gain','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','close-market-btn','manual-bp-content','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','scratchpad-header','.doc','student-progress-view','ส่วนเบี่ยงเบนมาตรฐาน','\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keys','กิจกรรมสิ้นสุดลงแล้ว','input','Error\x20saving\x20shortcut:','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','innerHTML','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','restore','playerIndex','warn','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','FIRST_TRY_ACE','\x20\x20\x20-\x20','answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','.eraser-size-btn','scale-125','2-digit','.color-palette-popup','[data-topic-id=\x22','submit','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','fadeStartTime','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','All\x20groups\x20have\x20finished.\x20Ending\x20game.','</span><button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','md:col-span-3','.topic-actions-view','shortcutIds','กรุณาเลือกคำตอบ','...\x22)?','pow','lesson-plan-title','quiz-form','เกี่ยวกับหัวข้อ\x20\x22','Error\x20displaying\x20blueprint\x20project:','delete','Error\x20confirming\x20players:','แท็บใหม่','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา','file.pdf','คัดลอกแบบทดสอบสำเร็จ','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22','#4338ca','wasJinxed','<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','ยืนยันการจับคู่','Error\x20clearing\x20all\x20links:','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','เกิดข้อผิดพลาด','.live-answer-btn','keydown','color','กรุณาใส่ชื่อนักเรียน','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','json','analytics-tab-content','ค่าความจริง/ตารางค่าความจริง','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','tab_','เกิดข้อผิดพลาดในการลบแบบทดสอบ','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','default','\x20ตัวเลือก)','showRankings','behavior-log-tab-btn','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-bolt\x20text-blue-500','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','camera-crop-btn','มุมและการวัดมุม','sync-timer-countdown','<span\x20class=\x22font-bold\x20','กำลังจับคู่...','ผู้เชี่ยวชาญ','quiz-generation-area','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','ไม่ใช่\x20/\x20ผิด','.file-shortcut-tab-btn','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','times','100px','\x20ตอบ','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','วงกลม:\x20คอร์ดและเส้นสัมผัส','buyTime','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','sync-submit-btn','grid-view-btn','ไม่ได้ตอบ','กรุณาตั้งชื่อแท็บใหม่:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','classStrengths','block','toggle','sawtooth','Error\x20starting\x20team\x20quiz:','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','scrollX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','isRemedial','.txt','cancel-blueprint-projects-btn','</span></p>','localeCompare','projectId','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','getElementById','close-lesson-plan-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','quiz-results-table-body','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','สามเหลี่ยม\x20(ชนิด/สมบัติ)','text-yellow-800','bulk-quiz-settings-modal','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','undefined','confidence-modal','sort','screen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','reviewQuestionIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','timer-container','resultsSaved','\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','word-break:\x20break-all;','results-quiz-title',')\x22>','confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','rgba(255,\x20255,\x200,\x200.5)','blueprint-settings-modal','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','fix-lesson-latex-btn','podium','blueprint-shortcut-container','<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ','.delete-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','binom','bg-emerald-100','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20request\x20was\x20blocked.\x20Reason:\x20','.edit-hidden-file-shortcut-btn','instantWager','\x5cle','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','stem','text-purple-600','doughnut','\x20|\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-text-','createdBy','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','push','results-display-select','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','numQuestions','difficultyValue','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำคะแนนได้เกินครึ่ง','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','answered','ตลาดมืด\x20(','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22โดนคำสาป\x22>😈</span>','save-shortcut-btn','additional-file-shortcuts-list','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ตะวันฉาย','disabled','setValueAtTime','per-question-timer-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','Error\x20saving\x20file\x20shortcut:','bg-yellow-200','\x22\x20data-target-tab-id=\x22','.admin-try-quiz-list-btn','close-lesson-view-btn','leaderboard-quiz-tab-content','bg-gray-400','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','analytics-summary-cards','เหมียวขี้เซา','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','Error\x20listening\x20for\x20student\x20profiles:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','.verification-result','.presentation-option','answerValue','confirm-rename-quiz-btn','live-player-management','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','doc','bg-green-200','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','sum','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','cancel-bp-settings-btn','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','.delete-custom-topic-btn','scrollHeight','<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20(','uid','Error\x20in\x20handleApiCall:','selectMathOption','Error\x20loading\x20user\x20preferences:','.delete-submission-btn','\x22\x20class=\x22delete-project-btn\x20','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','number','Authentication\x20failed:','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','workerSrc','answers','text-indigo-700','confidence_single','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','(หลังเรียน)\x20','random','/public/data/projects/','คำตอบที่ถูกต้อง','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โหลดนาน','-tab-content','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','endTime','getScreenCTM','เพิ่มหัวข้อ\x20\x22','border-indigo-500','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','cancel-delete-btn','destroy','question','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','math-topics-checkbox-container','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','_new','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','message','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','เต่าสายฟ้า','เกิดข้อผิดพลาดในการปักหมุด','parallel-default-','export-word-btn','application/json','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','msExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','view-my-progress-btn','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','.file-shortcut-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','cancel-file-shortcut-edit-btn','<span\x20title=\x22โดนบังคับ\x22>👻</span>','แฟนทิพย์','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','link-input-area','back-to-dashboard-from-results-btn','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','ฟังก์ชันค่าสัมบูรณ์','pin-entry-modal','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','jspdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','publicLeaderboard','.option-input','shortcut-editor-modal','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','baseVal','bg-yellow-300\x20text-yellow-900\x20font-bold','previousElementSibling','.edit-question-btn','topic_','</body></html>','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','กำลังโหลดคลังข้อสอบทั้งหมด...','click','justification','groups','<span\x20class=\x22block\x20text-sm\x20','บันทึกการตั้งค่าแล้ว','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','เกิดข้อผิดพลาดในการสร้างห้องเกม','แบตหมด','reset-project-order-btn','badgesCount','destination-out','powerup','cutOne','ไก่ฟ้าพญาลอ','border-gray-300','หมาป่าเดียวดาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','เกิดข้อผิดพลาดในการบันทึกลำดับ','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','getCroppedCanvas','.live-answer-btn,\x20#sync-submit-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','\x20สำเร็จ','confidenceMode','parentElement','Error\x20resetting\x20project\x20order:','\x20\x0a\x20\x20\x20\x20','textarea[name=\x22question_single\x22]','kick-player-btn','เกิดข้อผิดพลาดในการโหลดโปรเจค','input-','transparent','quiz-bank-count','Error\x20toggling\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','bar','quiz-leaderboard-table-container','ยอดเยี่ยม','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','text-red-600','6KopCXJ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','.tab-name-display','triangle','\x22\x20id=\x22input-','pointerdown','fa-rocket\x20text-purple-500','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','latestSubmittedAt','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','ลบโปรเจค\x20\x22','👁️','ตัวเลือก\x20ข','<svg','cancel-shortcut-edit-btn','learningGaps','blob','นักวิทยาศาสตร์','index','submission-status-chart','Copy\x20command\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','student-join-game-view','description','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x20pointer-events-none\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallel-default-2','\x22><span\x20style=\x22','add-parallel-shortcut-btn','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','สร้างแบบทดสอบ','student-team-join','ondragover','พาราโบลา','input[name=\x22status-option\x22]:checked','blueprintShortcuts','#FEF3C7','เสือซ่อนเล็บ','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','comeback_king','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','quizType','perQuestionStats','/players','.scratchpad-content-wrapper','พีชคณิตและฟังก์ชัน','.png','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','ปริมาตรรูปทรงสามมิติ','results-table','fileShortcutTabs','open-blueprint-projects-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','.quiz-bank-item','Attempting\x20to\x20save\x20game\x20results...','Error\x20rendering\x20student\x20progress:','entries','.ideal-answer-input','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','.parallel-shortcut-btn','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','เกิดข้อผิดพลาดในการสร้างใบงาน','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','gameVariant','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exponentialRampToValueAtTime','timer-duration-container','pointsLastQuestion','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันลอการิทึม','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','.move-quiz-btn','<span\x20class=\x22sort-indicator\x20ml-2\x22>','text-gray-700','การหารทศนิยม','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','ทำคะแนนเต็มในการทำครั้งแรก','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','z-index:\x20','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การปัดเศษและประมาณค่า','.ai-fix-question-btn','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณากรอกเป็นตัวเลขเท่านั้น','length','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','Error\x20processing\x20shortcut\x20click:','Export\x20Image\x20Error:','lesson-plan-content','ไม่พบข้อมูลผู้เล่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','fontWeight','presentation-slide-container','applicationContent','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','neq','Buy\x20Item\x20failed:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','contains','Remedial\x20quiz\x20generation\x20failed:','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/projects','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','cancel-crop-btn','ai-quiz-generator-v3','globalSettings','resize','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','modal-confidence-scoring-checkbox','earned-badges-container','wager-amount-display','นักประดิษฐ์','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span>:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','modal-passing-score-input','ไม่พบข้อมูลหัวข้อที่จะบันทึก','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','#26890c','pinned-items','save-project-name-btn','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upper_group_count','Error\x20deleting\x20all\x20students:','Error\x20saving\x20manual\x20blueprint\x20project:','scheduled_pending','.remove-parallel-shortcut-from-tab-btn','จำนวนและการดำเนินการ','additional-shortcuts-list','ครัวซองต์','\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-size-value','cancel-export-pdf-btn','ออฟฟิศซินโดรม','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','docs','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','auto','text-green-700','cancel-quiz-bank-btn','bp-modal-num-questions','อสมการเชิงเส้น','shortcutTabs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i><span>ON\x20FIRE!\x20คะแนน\x20x2</span><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20','ค่าสัมบูรณ์','เกิดข้อผิดพลาดในการบันทึกคะแนน','bg-[#EF4444]\x20text-white\x20font-bold','เกิดข้อผิดพลาดในการซื้อ','รูปแบบการให้เหตุผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','first_try_ace','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','transition-transform','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','.delete-hidden-shortcut-btn','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','นำแบบทดสอบออกจากคลังนี้แล้ว','project-passcode-input','เกิดข้อผิดพลาดในการลบนักเรียน','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','file-shortcut-tabs-nav','.rename-quiz-btn','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','.move-shortcut-dropdown','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','</p>','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','เกิดข้อผิดพลาดในการอ่านไฟล์','pointContent','.edit-custom-topic-btn','bg-gray-200\x20text-gray-700','modal-timer-duration-container','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','สาระที่\x201','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','visible','bg-white','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','tool','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','.bp-live-btn','offset','show_results_only',';\x22\x20data-id=\x22','has','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','/public/data/syncGames/','text-red-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','New\x20question\x20detected.\x20Cleaning\x20up.','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','Error\x20joining\x20sync\x20game:','write','/public/data/blueprintProjects/','abs','3028824UsDrGe','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','Error\x20listening\x20for\x20starred\x20quizzes:','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','student-name-selection-view','.use-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','border-red-300\x20bg-red-50','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','ถูก','split','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','value','join','.edit-hidden-parallel-shortcut-btn','project-detail-view','Error\x20updating\x20project\x20color:','usedBuyTime','topic-input-area','🚀\x20คุณเดิมพันหมดหน้าตัก!','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','pin-backspace-btn','\x20ข้อ...','<br>','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','file-shortcut-modal-title','ปวดหลัง','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','.flex.justify-between.items-center','cancel-quiz-edits-btn-footer','hint-btn','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','.edit-shortcut-btn','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','target','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','\x22\x20value=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Blueprint\x20O-NET\x20ป.6','insurance','.file-shortcut-btn[data-id=\x22','<div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','findIndex','eraser','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','manual-blueprint-modal','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20','Re-grade\x20process\x20failed:','.correct-response-input','การประยุกต์เวกเตอร์พื้นฐาน','per-q-countdown','อยู่ในสาระการเรียนรู้ใด:','submit-team-answer-btn','center','fill_in_no_choices','ตัวเลือก\x20ก','rgba(79,\x2070,\x20229,\x201)','toggleMathDropdown','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','51699bjgvNB','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wasConfident','.quiz-bank-settings-btn','add-custom-math-topic-btn','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','https://drive.google.com/uc?export=download&id=','add-from-global-bank-btn','next-sync-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-pen','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','สร้างคำถามแบบใช่/ไม่ใช่','stringify','lesson-view-modal','.pin-project-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','-9999px','\x20คู่\x20','download','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','questionText','red','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','deltaY','parallel-shortcut-url-input','</li>','เน็ตไอดอล','select','line-through\x20text-red-700','generated-quiz-actions','eraser-tool-btn','admin-password-modal','map','toDate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','document','globalAlpha','suggestedAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','webkitRequestFullscreen','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','ดีมาก','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','show-results-btn','text/csv;charset=utf-8;','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','export-excel-btn','ยังไม่ส่ง','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','point','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','กุ้งเต้นแร้งกา','</span>','preScore','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','gamePin','perseverance','G-V90KRM0L63','bulk-quiz-settings-btn','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','สอบปกติ','no-projects-msg','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','back-to-results-btn','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','วงรี','</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>','export-lesson-pdf-btn','lineJoin','realScore','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','blueprint-tab','ฟังก์ชันเชิงเส้นและกราฟ','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','quiz-type-select','memory','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','save-settings-btn','width','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','standardTopic','wager-slider','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bottom','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','สร้างใหม่','</tbody></table>','price','0\x200','ผ่าน','lesson-loader','quiz-leaderboard-table','data:application/vnd.ms-word;charset=utf-8,','scheduled','Error\x20saving\x20visibility\x20settings:','selected-topics-count','show_pass_fail_only','<p><strong>คำตอบของคุณ:</strong>\x20','<p><strong>คำตอบที่แนะนำ:</strong>\x20','close-pin-modal-btn','selected-answer-index-hidden','ปริมาตร/ความจุและการแปลง','currentTarget','(กำลังไล่ตาม)','line-height:\x201.3;\x20min-width:\x200;','sqrt','NEGATIVE_INFINITY','fa-dumbbell\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div></div>','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','.sortable-header','สมการยกกำลัง','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','onblur','pointerType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','move','#math-topics-checkbox-container\x20input:checked','loopUntilPass','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาใส่ชื่อโปรเจค','str','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','อุณหภูมิและการแปลง','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','quadraticCurveTo','แก้ไขหัวข้อสำเร็จ','retake-quiz-loop-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','blueprint-projects-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','offsetWidth','/public/data/liveGames','สมมาตร\x20(แกน/จุด)','หมดเวลาสำหรับข้อนี้!','rgba(79,\x2070,\x20229,\x200.8)','.pair-quiz-btn','file-topics-list','.live-summary-tooltip.visible','file-shortcut_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','actions-container-','generationConfig','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','กรุณาวาง\x20URL\x20ของบทความก่อน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แมวเก้าชีวิต','confirm-crop-btn','(รอคะแนน)','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','asc','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','topics','Error\x20verifying\x20answers\x20in\x20editor:','<div\x20class=\x22space-y-4\x22>','bg-red-100\x20text-red-800','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','touchend','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','activeGameSession','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','[*]','text-gray-300','DOMContentLoaded','sync-timer-enable-checkbox','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x22>ใช่</p>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','Error\x20saving\x20blueprint\x20project:','added','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','questions_only','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','pdf','marginBottom','div[data-question-index=\x22','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','onload','ซามูไรสายเดี่ยว','include-images-checkbox','รหัสไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','pen-tools-group','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','question-complexity-select','ตารางความถี่','forEach','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','close-comparison-modal-btn','(^|[^\x5c\x5c])\x5cb','<span>','show-leaderboard-btn','overflowY','short','.quiz-bank-parallel-btn','/public/data/blueprintProjects','ค่าคลาดเคลื่อนของการวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','student-result-area','bg-green-100\x20font-bold','blueprint-topics-list','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','</td>','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','เกิดข้อผิดพลาดในการเปลี่ยนสี','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','answer-counter','\x0a---\x0a','หมีขั้วโลกใต้','text-white','\x20(\x22','fa-crown\x20text-yellow-500','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','.bp-edit-topic-btn','STRING','lobby','.move-file-shortcut-dropdown','includes','รากที่สองและที่สาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','idealAnswer','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','กำลังอ่านไฟล์อ้างอิง...','file-default-1','devicePixelRatio','parallel-shortcut-editor-modal','Error\x20loading\x20quiz\x20for\x20student:','backspace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','content','#add-question-editor-btn','tan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topicName','confirm-team-players-btn','finishReason','\x22\x20name=\x22confidence','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','val','2270gaZLbn','Failed\x20to\x20kick\x20player\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','questions','\x20/\x20','checked','</h4>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mr-2\x22></i>','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','show-in-student-dashboard-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','...','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','โดเมนและเรนจ์','input[name=\x22syncVariant\x22]:checked','desc','promise','readAsDataURL','แคลคูลัสเบื้องต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','หัวข้อที่สร้างเอง','ไม่พบข้อมูลผู้ใช้','#E5E7EB','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','</span></div>','date_desc','Error\x20loading\x20blueprint\x20projects:','สุดยอด!\x20ตอบถูกทุกข้อ','วงกลม:\x20สมการและสมบัติ','name_asc','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','position','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','SAFETY','allResponses','\x22\x20style=\x22','Error\x20pairing\x20quizzes:','/public/data/syncGames','parallel-shortcut-id-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพื่อนสนิท','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#confidence-input-','false','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','touches','<button\x20data-shortcut-id=\x22','parallel-shortcuts-loading-msg','players.','modified','isScored','boolean','href','การหาร','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','textarea[name=\x22team_answer\x22]','Error\x20generating\x20parallel\x20test\x20from\x20bank:','ปลาทูคะนอง','thead','\x22\x20name=\x22drill_answer\x22\x20value=\x22','สเกลและแผนที่','createObjectURL','export-tutor-pdf-btn','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','.linkedQuizIds','ปรับเพิ่ม/ลดเป็นร้อยละ','/questionBank','scratchpad-options','\x20link(s)\x20for\x20quiz\x20ID:\x20','results','eraser-tools-group','.pointsLastQuestion','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22',')</button>','isConfidenceScoringEnabled','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','oninput','bp-modal-difficulty-level-select','<li>','เลือกและบันทึก','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','_opt0\x22>ใช่</label></div>','cancel-passcode-btn','itemId','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','team-quiz-topic','summaryContent','Error\x20during\x20deep\x20delete:','bg-green-400\x20text-white\x20font-bold','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','บันทึกการแก้ไข','.buy-item-btn','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','รูปสี่เหลี่ยมและสมบัติ','confirmation-message','anon-settings-container','generate-worksheet-btn','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','admin-password-input','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','summary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','round','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','highlighter-tool-btn','sync-timer-duration-container','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','fas\x20fa-star\x20text-yellow-500','anonymous_reveal_end','AI\x20ไม่สามารถอ่านข้อความได้','#results-table\x20thead\x20tr','text/plain','ลำดับเลขคณิต\x20(AP)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...','preTestId','exists','.live-answer-btn,\x20#live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','.save-custom-topic-btn','พิมพ์ตอบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบแบบทดสอบสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','black-market-modal','appendChild','ชาไข่มุก','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reveal_at_end','bg-black/20','open-global-live-btn','cancel-team-selection-btn','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','</span></td>','comparison-individual-content','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','bp-modal-include-images-checkbox','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','projectView','.delete-svg-btn','string','modal-timer-mode-select','ผลรวมอนุกรม\x20(Σ)','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x20คะแนน</span></div>','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','bp-modal-passing-score-input','leaderboard-quiz-tab-btn','bg-white\x20text-gray-800','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','market-item-list','.pin-key','AudioContext','confirm-bulk-quiz-settings-btn','confident','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','.pin-digit-box','passcode','ตรวจพบการออกจากหน้าจอครบ\x20','fill_in_the_blank','bg-gray-500','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','2447186jnjeok','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20committing\x20score\x20updates:','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','floor','outerHTML','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','topics.','ห.ร.ม.\x20(GCD)','กฎบวกและกฎคูณ','submittedAt','AI\x20did\x20not\x20return\x20any\x20content.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','ปริพันธ์ไม่จำกัด','ownerSVGElement','save-bp-settings-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','<div\x20class=\x22my-6\x22>','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','???','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','inactive','generate-from-topic-btn','หนอนหนังสือ','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เปลี่ยนชื่อแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','pointerup','application/pdf','ไม่พบโปรเจคที่ต้องการลบ','global-activity-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','timer-bar','คำเตือน\x20(','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','passcode-input-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','<button\x20data-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','type','ตัวแปรและนิพจน์','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','.quiz-bank-move-btn','separate-by-content-checkbox','ม้าดีดกะโหลก','<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>','Blueprint\x202','text-green-600','.move-parallel-shortcut-dropdown','parallelShortcutTabs','bp-modal-shuffle-setting-select','pen','\x5cneq','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','.project-card-container','reveal-names-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-blueprint-as-project-btn','lesson-plan-modal','N/A','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','.game-start-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','setAttributeNS','ตั้งเวลา\x20(เปิด)','mainTopics','additional-parallel-shortcuts-modal','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','game-start-quiz-id','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','\x20in\x20all\x20blueprint\x20projects.','responses.','พบ\x20Sync\x20Game!','open-sync-scratchpad-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','เกิดข้อผิดพลาดในการใช้ไอเทม','</strong></p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','getPage','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','โจรสลัดอวกาศ','default-1','visibilityState','สายลมแห่งโชคชะตา','/submissions','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','th-TH','normal','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','blueprintUrl','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x20คน\x20เรียบร้อยแล้ว!','fa-user-astronaut\x20text-blue-700','items','เกิดข้อผิดพลาดในการส่งคำตอบ',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','student-name-select','คนคุย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','removeChild','การแจกแจงปกติและ\x20z-score','timer-duration-input','ซื้อ\x20(','bg-red-100\x20text-red-900',';\x22\x20data-tooltip-target=\x22tooltip-','\x20เป็น\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','cancel-move-quiz-btn','wager-all-in-btn','force-math-checkbox','modal-confidence-mode-select','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','\x20(p=','bg-red-50','insertBefore','---\x20[คำถามใหม่]\x20---','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','scratchpad-close-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-btn','active','Error\x20generating\x20lesson\x20plan:','circle','text-gray-400\x20hover:text-indigo-600','gameData','bg-green-200\x20text-green-800','student-progress','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','เงาปริศนา','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','join-group-activity-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','resultsDisplay','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','manage','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','.bp-create-onet-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','การบวก','newOptions','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','bank-input-area','30px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20</div>','release','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สถานะไม่ชัดเจน','modal-close-btn','ความชันเส้นสัมผัส','\x20ครั้ง)</span></td>','start-live-race-generated-btn','selectedTopicNames','selected-answer-index-hidden-wager','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','modal-loop-until-pass-checkbox','result','passcode-error-msg','.regenerate-question-btn','<div\x20style=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','upperGroupNames','questionType','getDocument','buy-time-quantity-input','[data-field=\x22subTopic\x22]','1006665gawaUz','px,\x20','enable-black-market-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','\x22\x20class=\x22color-palette-btn\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','กำลังสร้างแบบทดสอบจากหัวข้อ...','option','พิสัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behaviorLog','currentMode','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>','ondragstart','ARRAY','global-activity-quiz-list','loop-until-pass-checkbox','num-questions','fromCharCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','remove','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','\x20mx-1\x20text-lg\x22></i></span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','file-upload-input','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','revealOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','default-2','/public/data/customMathTopics','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','circ','subTopic','overallGroups','currentPoints','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','bg-red-700\x20text-white\x20font-bold','text-blue-800','bp-add-topic-btn','เมทริกซ์:\x20บวก/คูณ','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','ไฟล์ลัด\x202','add-parallel-shortcut-tab-btn','studentName','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','q-explanation-','สอบซ่อม','AI\x20grading\x20failed:','parallel-shortcut-name-input','bp-modal-num-choices','modal-confidence-mode-container','toISOString','url','ฟังก์ชันสัมพัทธ์\x20(rational)','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','multiple_choice','NUMBER','back-to-dashboard-from-bp-btn','frac','คะแนน','ทฤษฎีทวินาม\x20(เบื้องต้น)','true','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','parse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','fix\x20the\x20option','sync-player-management','disabled\x20bg-gray-400\x20cursor-not-allowed','fileShortcutsConfig','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','ไม่มี','quizMode','right','.start-game-btn','student-quiz-leaderboard-table-body','generate-from-link-btn','add','ยอดเยี่ยม!','แบบทดสอบนี้หมดเวลาแล้ว','\x20ชุดสำเร็จ!','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','เรขาคณิต','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','user','สรุปผลการวิเคราะห์:\x5cn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>','password-error-msg','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','finished','สิงโตยิ้ม','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','deg','Error\x20saving\x20user\x20preference:','\x22,\x20','save-quiz-btn','game-start-modal-title','touchstart','ระยะเวลา\x20(นาที):','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','comparison-individual-tab','.start-live-race-btn','open-scratchpad-btn','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teacherTips','save','.edit-quiz-btn','border-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','.edit-hidden-shortcut-btn','เกิดข้อผิดพลาดในการลบโปรเจค','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','เพิ่มปุ่มลัดจากไฟล์ใหม่','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','now','isForcedConfident','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','แบบปรนัย\x204\x20ตัวเลือก','on_fire','\x5ccdot','Failed\x20to\x20generate\x20practice\x20test:','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','.topic-selection-btn','.start-presentation-list-btn','rename-quiz-modal','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20quizzes\x20into\x20global\x20cache.','นอนไม่พอ','Error\x20generating\x20parallel\x20post-test:','verify-answers-btn','next-drill-btn','cropper-modal','confidence-input-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','isAnonymousRevealed','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','onerror','\x22\x20สำเร็จ','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','blueprint-project-manager-view','date_asc','สำหรับโปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','คัดลอกรหัสแล้ว!','#open-additional-file-shortcuts-btn','แก้ไขชื่อหัวข้อย่อย:','แผนภาพเวนน์','ลำดับการดำเนินการ\x20(PEMDAS)','file-default-','shortcut-reference-url-input','โลมาบิน','candidates','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20processing\x20file\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','จากไฟล์ที่แนบมานี้,\x20','confidence','confirm-move-quiz-btn','</p><div>','ไม่พบโปรเจค','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','numChoices','.move-parallel-shortcut-item','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','confirm-admin-login-btn','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','คณิตการเงิน/บูรณาการ','correctResponse','</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.cancel-edit-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-gray-50','.ai-content\x20p','หน่วยความยาวและการแปลง','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','border-green-300\x20bg-green-50','use-powerup-buyTime','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20จาก\x20','market-current-points','powerups.','commit','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','การแปลงรูปอัตลักษณ์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answering','ต้นฉบับ\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','แผนการสอน','</form>','pen-tool-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','results_','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ลำดับเรขาคณิต\x20(GP)','หน่วยเวลาและการคำนวณเวลา','teachingContent','correctStreak','ระยะเวลา\x20(วินาที):','No\x20players\x20data\x20found\x20to\x20save\x20yet.','powerupUsed','เกิดข้อผิดพลาดในการเข้าตลาดมืด','เพนกวินไฟ','bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md','wasForced','mixed','กำลังสร้างแบบทดสอบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','passing-score-input','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','endsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','after','/public/data/teamQuizzes','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20กลุ่ม</p></div>','confirm-confident','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-indigo-200\x20mt-2\x22>(นักเรียนต้องใช้ไอเทม\x20\x22เผยตัวเลือก\x22\x20จึงจะเห็นปุ่ม)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','```json','ค่าเสื่อมราคา','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','เซียนสมองไว','body','คุณใช้ตัวช่วย\x20\x22','กำลังเตรียมไฟล์อ้างอิง...','height','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','createElement','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','สลับไปโหมดนักเรียน','project-dashboard-view','pointer-events-none','Error\x20deleting\x20quiz:','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','เกิดข้อผิดพลาดในการติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันการกระทำ','far\x20fa-star','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','Error\x20saving\x20reference\x20URL:','insertAdjacentHTML','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','PERSEVERANCE','.generate-post-test-btn','👁️\x20เผยตัวเลือก','เน็ตช้า','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','<option>กำลังโหลดโปรเจค...</option>','dfrac','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','competition','ข้อต่อไป','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','\x20to\x20','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','.linkedQuizId','submissions','Error\x20fetching\x20projects\x20for\x20move:','สร้างแบบทดสอบปรนัย','slide-counter','/users/','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','ปล่อยพลัง','ceil','lesson-sections-container','ข้อ\x20','authed_project_','s;\x22\x20title=\x22','สัญกรณ์วิทยาศาสตร์','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','text-gray-500','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','.topic-actions-edit','math-topic-search-input','#E0E7FF','quiz-results','นักกีฬา','maxHeight','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','team','dragstart','scores-tab-btn','slice','แผนการสอน:\x20','แบบเติมคำตอบ','.unpair-quiz-btn','reference_onet.pdf','Blueprint\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','removeItem','requestFullscreen','global-quiz-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','latestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wakeLock','บันทึกโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','\x20(Player)\x20(ID:\x20','isJinxed','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','setAttribute','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','จำนวนเต็มบวก','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','text-gray-300\x20hover:text-white','24930REWbln','open','student-initial-view','.ai-content\x20blockquote','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-gray-100','เกิดข้อผิดพลาดในการบันทึก','getTextContent','ส่งคำตอบ','createdAt','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','manual-bp-project-name','manage-players-btn','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','trail','readAsArrayBuffer','.group\x5c/dropdown-parallel','targetId','original-mode-checkbox','memoryContent','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','presentation-short-answer-input','Error\x20updating\x20points:','เพิ่มปุ่มลัดใหม่','querySelectorAll','behavior-log','<tr>','countdown-display','ไม่มีคำอธิบาย','กรุณาใส่ชื่อใหม่','.text-indigo-200','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','.delete-question-editor-btn','\x5cfrac{$1}{$2}','Error\x20unlinking\x20quiz:','ยอดนักสืบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','passcode-prompt-message','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','selected-text-','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ครูใหญ่','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','เงินงวด\x20(อนุกรมเงินงวด)','icon','highlighter-tools-group','\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-','แก้ไขสูตรคณิตศาสตร์\x20','กรุณาเลือกโปรเจคที่ต้องการบันทึก','ref','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','reference.pdf','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','onchange','\x22\x20data-pre-test-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','rows','toFixed','clientX','move-quiz-modal','list','\x27Sarabun\x27,\x20sans-serif','not_confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','file-topics-list-container','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-global-activity-btn','.answered','\x20สำเร็จ!','):\x20','Error\x20renaming\x20quiz:','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','Error\x20generating\x20teaching\x20content:','.delete-hidden-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','กรุณาพิมพ์คำตอบของกลุ่ม','ตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#10B981','ทศนิยม\x20(ค่าประจำหลัก)','กาแฟขม','พบ\x20Team\x20Quiz!','back-to-project-btn','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','สร้างคำถามแบบเติมคำในช่องว่าง','สำหรับหัวข้อ\x20\x27','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','pin','<div>','bg-green-100\x20text-green-800','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','showImproveButton','move-quiz-project-select','fileShortcutOrder','<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยมวล/น้ำหนักและการแปลง','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','เนื้อหาสำหรับสอน:\x20','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','Auto-cleanup\x20failed:','bulk-shuffle-select','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','.project-card-content','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','pre-test','ไม่พบไฟล์\x20Test\x20Blueprint','student-quiz-leaderboard-content','AI\x20กำลังสแกนข้อความ...','<div\x20class=\x22','cloneNode','Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):','innerText','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','select-all-topics-btn','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','setTransform','ไฟล์ทั้งหมด','flex\x20flex-col\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','none','ตลาดมืด\x20(0\x20P)','ระยะทางและจุดกึ่งกลาง','thead\x20.sortable-header','กำลังสแกนหาแบบทดสอบเก่า...','.quiz-bank-try-btn','comparison-modal','กองดอง','modal-results-display-select','รายงานผลคะแนน','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','.ai-content\x20h3','admin-try-quiz-btn','เลือกโปรเจคเพื่อบันทึก','lastAnswerCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','linearRampToValueAtTime','text-red-800','\x20แบบทดสอบลงในคลังสำเร็จ!','เวกเตอร์และเมทริกซ์\x20(เสริม)','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','เพิ่มรายการที่เลือก','ตรวจคะแนนใหม่\x20','fontSize','dim-overlay','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','update-old-quizzes-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-project-list','การจัดกลุ่มข้อมูล','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้','font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topicId','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','connect','Error\x20generating\x20hybrid\x20quiz:','comparison','ไฮเพอร์โบลา','<button\x20id=\x22open-market-btn\x22\x20class=\x22','อสมการค่าสัมบูรณ์','touch','(นำโด่ง)','max','การคูณทศนิยม','คำถาม...','/public/data/quizzes/','เส้นจำนวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-wager-btn','\x27\x20ในหัวข้อ\x20\x27','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','back-from-results-btn','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','resume','คะแนนเฉลี่ย','อัตราส่วนและสัดส่วน','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','กรุณาเลือกชื่อของคุณ','parent','student-progress-content','ความเป็นอิสระของเหตุการณ์','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','#ffffff','leaderboard_','border-indigo-500\x20text-indigo-600','ก้อนเมฆ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','.quiz-bank-present-btn','contents','size','startsWith','จำนวนคละ','beginPath','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','style','ความต่อเนื่อง','code','onclick','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','badges','powerupUsed_q','ร้อยละพื้นฐาน','create-from-bank-btn','\x20คนที่ส่ง\x20ตอบถูก\x20(','บันทึกแบบทดสอบสำเร็จแล้ว!','บทเรียนเรื่อง:\x20','text-blue-700\x20bg-blue-100','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x5cdiv','ส่วนเบี่ยงเบนเฉลี่ย','ข้อที่\x20','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','ความน่าจะเป็นแบบมีเงื่อนไข','นักดนตรี','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','parallelTestShortcutsConfig','bp-modal-question-complexity-select','API\x20call\x20failed\x20with\x20status:\x20','ใช่\x20/\x20ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','group','lineCap','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','playerName','promptFeedback','trim','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20joining\x20activity:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ:\x20','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','.space-y-1.pl-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','projectSortOrder','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','decode','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','คะแนนเต็ม!','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','imageCode','padding','\x5ctimes','\x20จุดเรียบร้อยแล้ว','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','\x20รายการสำเร็จ!','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checkbox','start-sync-game-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','student-quiz-leaderboard-tab','dashboardConfig','ไม่สามารถโหลดข้อมูลอันดับได้','ไม่พบตารางสำหรับ\x20Export','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','add-file-shortcut-tab-btn','grabbing','ฟังก์ชันราก\x20(root)','\x22\x20ให้เป็นคำถามประเภท\x20\x22','Error\x20fetching\x20student\x20rankings:',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','blueprint-input-area','sin','questionStatus','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','camera-input','parseInline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','questionId','<li\x20class=\x22','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','.move-shortcut-menu-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','confidence-scoring-toggle','cancel-rename-quiz-btn','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','timed','#6366F1','_opt0\x22\x20name=\x22question','getBBox','<tr><td\x20colspan=\x22','settings','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','export-leaderboard-word-btn','projectOrder','<i\x20class=\x22fas\x20fa-save\x22></i>','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','คำอธิบาย...','Error\x20deleting\x20custom\x20topic:','mousemove','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','subTopics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','category','parseFromString','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','.tab-name-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','opacity','upperGroupResponders','toString','post-test','BOOLEAN','topic-quiz-bank-modal','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','scores','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','commonMistakes','mjx-container','player-list-lobby','nextElementSibling','กรุณาป้อนรหัสแบบทดสอบ',')\x22><span\x20style=\x22','save-visibility-settings-btn','translate(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lowerGroupNames','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','Leaderboard\x20update\x20transaction\x20failed:\x20','กรุณาเลือกสถานะ','.project-card-container.opacity-50','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','curriculum','sine','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','.bp-delete-topic-btn','(ก่อนเรียน)\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','ondrop','ยังไม่เต็มนะ','จำนวนคู่:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','🛡️','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','quiz-leaderboard-table-body','file-shortcut-url-input','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','toLocaleString','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','กำลังสร้างรูปภาพ...','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','ระบบเลขและค่าประจำหลัก','Error\x20fetching\x20lesson\x20content:','dragover','closePath','hover:bg-indigo-100','empty','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','applicationData'];_0x1cb7=function(){return _0x50af74;};return _0x1cb7();}async function handleProjectColorChange(_0x39cb1e,_0x3c5119){const _0x5e5192=_0x2e2582,_0x622c9d=doc(db,_0x5e5192(0x509)+appId+'/public/data/projects',_0x39cb1e);try{await updateDoc(_0x622c9d,{'color':_0x3c5119});}catch(_0x4c0f23){console[_0x5e5192(0x61c)](_0x5e5192(0x8c6),_0x4c0f23),showMessage(_0x5e5192(0x9e1));}}async function renderProjects(){const _0x5eb41c=_0x2e2582,_0x3a339b=globalDashboardSettings[_0x5eb41c(0x333)]||_0x5eb41c(0xa25),_0xa36b3b=new Set(globalDashboardSettings[_0x5eb41c(0x3bf)]||[]),_0x1a9d07=globalDashboardSettings['projectView']||_0x5eb41c(0x57e),_0x35d07c=document[_0x5eb41c(0x6ec)](_0x5eb41c(0x6d5)),_0x4fa4b8=document['getElementById'](_0x5eb41c(0x346));_0x35d07c[_0x5eb41c(0xed5)]['toggle'](_0x5eb41c(0xb3d),_0x1a9d07===_0x5eb41c(0x57e)),_0x4fa4b8['classList'][_0x5eb41c(0x6dd)](_0x5eb41c(0xb3d),_0x1a9d07===_0x5eb41c(0xd18)),document['getElementById']('project-sort-select')['value']=_0x3a339b;const _0x3686d8=document[_0x5eb41c(0x6ec)]('project-search-input')[_0x5eb41c(0x8c2)][_0x5eb41c(0x3be)]();let _0x2d7cae=allProjects['filter'](_0x206695=>_0x206695[_0x5eb41c(0x52e)]['toLowerCase']()['includes'](_0x3686d8));const _0x11afa7=_0x2d7cae[_0x5eb41c(0xe4e)](_0x2fd484=>_0xa36b3b[_0x5eb41c(0x8a9)](_0x2fd484['id'])),_0x16b5a3=_0x2d7cae[_0x5eb41c(0xe4e)](_0x3523d0=>!_0xa36b3b[_0x5eb41c(0x8a9)](_0x3523d0['id'])),_0x3afb77=(_0x36e542,_0x2bfb1b)=>{const _0x22bf57=_0x5eb41c;switch(_0x3a339b){case _0x22bf57(0xa29):return _0x36e542[_0x22bf57(0x52e)][_0x22bf57(0x6e9)](_0x2bfb1b[_0x22bf57(0x52e)],'th');case _0x22bf57(0x1f3):return _0x2bfb1b['projectName'][_0x22bf57(0x6e9)](_0x36e542['projectName'],'th');case _0x22bf57(0xc11):return new Date(_0x36e542[_0x22bf57(0xce0)])-new Date(_0x2bfb1b['createdAt']);default:return new Date(_0x2bfb1b[_0x22bf57(0xce0)])-new Date(_0x36e542[_0x22bf57(0xce0)]);}};_0x11afa7['sort'](_0x3afb77),_0x16b5a3[_0x5eb41c(0x6f8)](_0x3afb77);const _0x542ae3=[..._0x11afa7,..._0x16b5a3],_0x26bc99=globalDashboardSettings['projectOrder']||[];_0x26bc99[_0x5eb41c(0x83b)]>0x0&&_0x1a9d07===_0x5eb41c(0x57e)&&_0x542ae3['sort']((_0x3b6306,_0x4d673d)=>{const _0x13ceae=_0x5eb41c,_0x2c4ea0=_0x26bc99[_0x13ceae(0x3b3)](_0x3b6306['id']),_0x289dc1=_0x26bc99[_0x13ceae(0x3b3)](_0x4d673d['id']);if(_0x2c4ea0===-0x1)return 0x1;if(_0x289dc1===-0x1)return-0x1;return _0x2c4ea0-_0x289dc1;});const _0x59a84e={};await Promise[_0x5eb41c(0x5e4)](_0x542ae3[_0x5eb41c(0x91f)](async _0x25bf62=>{const _0x5bd724=_0x5eb41c,_0x20635d=query(collection(db,'artifacts/'+appId+_0x5bd724(0x2d1)),where(_0x5bd724(0x6ea),'==',_0x25bf62['id'])),_0x410207=await getDocs(_0x20635d);_0x59a84e[_0x25bf62['id']]=_0x410207[_0x5bd724(0xdb2)];}));const _0x4f453d=document['getElementById'](_0x5eb41c(0x492));let _0x17b4ee='';if(_0x1a9d07==='grid'){_0x4f453d[_0x5eb41c(0x233)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x5eb41c(0x83b)]>0x0&&_0x3686d8===''){const _0x3e766e=starredQuizzes['map'](_0x15e1c3=>{const _0x422855=_0x5eb41c,_0x308ad9=allProjects['find'](_0x25a44a=>_0x25a44a['id']===_0x15e1c3['projectId']);return{..._0x15e1c3,'projectName':_0x308ad9?_0x308ad9[_0x422855(0x52e)]:_0x422855(0xaf9)};});_0x17b4ee+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e766e['map'](_0x29f915=>_0x5eb41c(0x317)+_0x29f915[_0x5eb41c(0x308)]+'\x22>'+_0x29f915[_0x5eb41c(0x308)]+_0x5eb41c(0xdf6)+_0x29f915[_0x5eb41c(0x52e)]+'\x22>จาก:\x20'+_0x29f915['projectName']+_0x5eb41c(0x23f))[_0x5eb41c(0x8c3)]('')+_0x5eb41c(0xbe3)+starredQuizzes[_0x5eb41c(0x83b)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x542ae3[_0x5eb41c(0x9ce)](_0x48aa07=>{const _0x12ef07=_0x5eb41c,_0x332a3d=_0x59a84e[_0x48aa07['id']]??0x0,_0x4460f8=_0xa36b3b[_0x12ef07(0x8a9)](_0x48aa07['id']),_0x111c2a=_0x48aa07[_0x12ef07(0x6ad)]||_0x12ef07(0x29c),_0x3c7cc7=parseInt(_0x111c2a[_0x12ef07(0x497)](0x1,0x3),0x10)*0.299+parseInt(_0x111c2a[_0x12ef07(0x497)](0x3,0x5),0x10)*0.587+parseInt(_0x111c2a['substring'](0x5,0x7),0x10)*0.114<0xba,_0xc8ac2d=_0x3c7cc7?_0x12ef07(0x9e6):'text-indigo-800',_0x30ab82=_0x3c7cc7?_0x12ef07(0x4a9):_0x12ef07(0xcab);_0x17b4ee+=_0x12ef07(0x8e7)+(_0x4460f8?'border-indigo-400\x20ring-2\x20ring-indigo-200':'border-gray-200')+_0x12ef07(0xe3e)+_0x111c2a+_0x12ef07(0x8a8)+_0x48aa07['id']+_0x12ef07(0x2b5)+_0x48aa07['id']+_0x12ef07(0xb76)+(_0x3c7cc7?_0x12ef07(0xcd6):_0x12ef07(0xb40))+_0x12ef07(0x4aa)+_0x48aa07['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x3c7cc7?_0x12ef07(0xcd6):'text-gray-400\x20hover:text-indigo-600')+_0x12ef07(0x5e6)+(_0x4460f8?_0x3c7cc7?'text-yellow-300':_0x12ef07(0x618):'')+_0x12ef07(0x348)+_0x48aa07['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0xc8ac2d+_0x12ef07(0x7fa)+_0x48aa07['projectName']+_0x12ef07(0x948)+_0x30ab82+_0x12ef07(0xced)+new Date(_0x48aa07[_0x12ef07(0xce0)])[_0x12ef07(0xf43)](_0x12ef07(0xb17))+_0x12ef07(0x4a5)+(_0x3c7cc7?_0x12ef07(0xcdc):_0x12ef07(0x830))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x332a3d+_0x12ef07(0x38f)+_0x48aa07['id']+'\x22\x20data-name=\x22'+_0x48aa07[_0x12ef07(0x52e)]+_0x12ef07(0x760)+(_0x3c7cc7?_0x12ef07(0x316):_0x12ef07(0x1e7))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x4f453d[_0x5eb41c(0x233)]=_0x5eb41c(0xd5e),starredQuizzes['length']>0x0&&_0x3686d8===''&&(_0x17b4ee+=_0x5eb41c(0x77f)+starredQuizzes[_0x5eb41c(0x83b)]+_0x5eb41c(0xce1)),_0x17b4ee+=_0x5eb41c(0xc1d),_0x542ae3[_0x5eb41c(0x9ce)](_0x56f0d4=>{const _0x2ea6ed=_0x5eb41c,_0x337678=_0x59a84e[_0x56f0d4['id']]??0x0,_0x2b8fd9=_0xa36b3b[_0x2ea6ed(0x8a9)](_0x56f0d4['id']);_0x17b4ee+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x56f0d4[_0x2ea6ed(0x6ad)]||'#E5E7EB')+_0x2ea6ed(0xa72)+_0x56f0d4['id']+_0x2ea6ed(0x894)+_0x56f0d4[_0x2ea6ed(0x52e)]+_0x2ea6ed(0x6fa)+_0x337678+_0x2ea6ed(0xc2f)+new Date(_0x56f0d4['createdAt'])[_0x2ea6ed(0xe4c)]('th-TH')+_0x2ea6ed(0xe22)+_0x56f0d4['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x2b8fd9?_0x2ea6ed(0x618):'')+_0x2ea6ed(0x3df)+_0x56f0d4['id']+_0x2ea6ed(0x1d1)+_0x56f0d4[_0x2ea6ed(0x52e)]+_0x2ea6ed(0xa59);});projectList[_0x5eb41c(0x674)]=_0x17b4ee,noProjectsMsg[_0x5eb41c(0xed5)][_0x5eb41c(0x6dd)](_0x5eb41c(0x515),_0x17b4ee['length']>0x0);}document['getElementById']('confirm-create-project-btn')[_0x2e2582(0x504)](_0x2e2582(0x7b0),async()=>{const _0x673e23=_0x2e2582,_0x45a255=document['getElementById'](_0x673e23(0x35d)),_0x5daed1=_0x45a255['value'][_0x673e23(0xdd8)]();if(!_0x5daed1){showMessage(_0x673e23(0x97d));return;}try{const _0x25c00d=doc(collection(db,_0x673e23(0x509)+appId+_0x673e23(0x850)));await setDoc(_0x25c00d,{'projectName':_0x5daed1,'students':[],'settings':{'resultsDisplay':_0x673e23(0xf01),'shuffleSetting':_0x673e23(0xd62),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x673e23(0xd62),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x673e23(0xbae)]()}),_0x45a255['value']='',createProjectModal['classList'][_0x673e23(0xbca)]('hidden'),showMessage(_0x673e23(0x60f));}catch(_0xa648d5){console[_0x673e23(0x61c)]('Error\x20creating\x20project:',_0xa648d5),showMessage(_0x673e23(0x48a));}}),projectList[_0x2e2582(0x504)](_0x2e2582(0x7b0),async _0x5ba9c5=>{const _0x520fe7=_0x2e2582,_0x2011f4=_0x5ba9c5['target'][_0x520fe7(0x366)](_0x520fe7(0xd4f)),_0x534df2=_0x5ba9c5[_0x520fe7(0x8dd)][_0x520fe7(0x366)](_0x520fe7(0xf14)),_0xba08fe=_0x5ba9c5['target']['closest'](_0x520fe7(0x90a)),_0x3dac52=_0x5ba9c5[_0x520fe7(0x8dd)][_0x520fe7(0x366)](_0x520fe7(0x577));if(_0xba08fe){const _0x44d28c=_0xba08fe['dataset']['id'],_0x304624=doc(db,_0x520fe7(0x854),'dashboardConfig'),_0x331b19=globalDashboardSettings[_0x520fe7(0x3bf)];let _0x4e77b0;_0x331b19['includes'](_0x44d28c)?_0x4e77b0=_0x331b19[_0x520fe7(0xe4e)](_0x1c71a9=>_0x1c71a9!==_0x44d28c):_0x4e77b0=[..._0x331b19,_0x44d28c];try{await setDoc(_0x304624,{'pinnedProjects':_0x4e77b0},{'merge':!![]});}catch(_0x60ef39){console[_0x520fe7(0x61c)]('Error\x20updating\x20pin\x20status:',_0x60ef39),showMessage(_0x520fe7(0x787));}}else{if(_0x3dac52){const _0x236a9e=_0x3dac52['dataset']['id'];showColorPalette(_0x3dac52,_0x236a9e);}else{if(_0x2011f4){const _0x20bbb7=_0x2011f4[_0x520fe7(0x261)]['id'];_0x20bbb7==='starred-project'?showStarredProjectView():(currentProjectId=_0x20bbb7,await loadProjectDetails(currentProjectId),showView(_0x520fe7(0x641)));}else{if(_0x534df2){const _0x40253e=_0x534df2[_0x520fe7(0x261)]['id'],_0x73092c=_0x534df2[_0x520fe7(0x261)][_0x520fe7(0x47c)];showConfirmation(_0x520fe7(0x797)+_0x73092c+_0x520fe7(0xd02),()=>handleDeleteProject(_0x40253e));}}}}}),projectList[_0x2e2582(0x504)](_0x2e2582(0xcb5),_0x8eacde=>{const _0x23ae81=_0x2e2582,_0x17259c=_0x8eacde[_0x23ae81(0x8dd)]['closest'](_0x23ae81(0xaf4));_0x17259c&&_0x17259c[_0x23ae81(0xed5)][_0x23ae81(0xbca)](_0x23ae81(0xe80));}),projectList[_0x2e2582(0x504)](_0x2e2582(0x43d),_0x4c13f2=>{const _0x1e89df=_0x2e2582,_0x8fb832=_0x4c13f2[_0x1e89df(0x8dd)][_0x1e89df(0x366)](_0x1e89df(0xaf4));_0x8fb832&&_0x8fb832[_0x1e89df(0xed5)]['remove'](_0x1e89df(0xe80));}),projectList[_0x2e2582(0x504)](_0x2e2582(0xe55),_0x473915=>{const _0x8d7e66=_0x2e2582;_0x473915['preventDefault']();const _0x9bb498=document[_0x8d7e66(0x427)](_0x8d7e66(0xe3a));if(!_0x9bb498)return;const _0x86bfc3=getDragAfterElement(projectList,_0x473915[_0x8d7e66(0xccc)]);_0x86bfc3==null?projectList[_0x8d7e66(0xa8b)](_0x9bb498):projectList['insertBefore'](_0x9bb498,_0x86bfc3);}),projectList[_0x2e2582(0x504)](_0x2e2582(0xe74),_0x2aac22=>{const _0x21f895=_0x2e2582;_0x2aac22[_0x21f895(0xf44)]();const _0x310699=[...projectList[_0x21f895(0xcf1)](_0x21f895(0x5a1))][_0x21f895(0x91f)](_0x28ec00=>_0x28ec00['dataset']['id']);saveProjectOrder(_0x310699);});function renderBehaviorLog(_0x1bb493){const _0x425e70=_0x2e2582,_0xf963e2=document[_0x425e70(0x6ec)]('behavior-log-container');if(!_0xf963e2)return;const _0x26e540=_0x1bb493[_0x425e70(0xe4e)](_0x10f7cf=>_0x10f7cf[_0x425e70(0xb7d)]&&_0x10f7cf[_0x425e70(0xb7d)][_0x425e70(0x83b)]>0x0);if(_0x26e540[_0x425e70(0x83b)]===0x0){_0xf963e2[_0x425e70(0x674)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x2873bd='';_0x26e540[_0x425e70(0x9ce)](_0x2cff6f=>{const _0x522cce=_0x425e70;_0x2873bd+=_0x522cce(0x5fe)+_0x2cff6f[_0x522cce(0xba6)]+_0x522cce(0x62d),_0x2cff6f[_0x522cce(0xb7d)]['sort']((_0xb2bcd5,_0x1ddbfb)=>new Date(_0x1ddbfb[_0x522cce(0x50e)])-new Date(_0xb2bcd5[_0x522cce(0x50e)]))[_0x522cce(0x9ce)](_0x125dfe=>{const _0x52c81c=_0x522cce,_0xf5707e=new Date(_0x125dfe[_0x52c81c(0x50e)])[_0x52c81c(0xe4c)]('th-TH',{'dateStyle':_0x52c81c(0x9d6),'timeStyle':_0x52c81c(0x4cc)});_0x2873bd+=_0x52c81c(0xccf)+_0x125dfe[_0x52c81c(0x64b)]+_0x52c81c(0xb21)+_0xf5707e+_0x52c81c(0xaf6);}),_0x2873bd+=_0x522cce(0x691);}),_0xf963e2[_0x425e70(0x674)]=_0x2873bd;}function getDragAfterElement(_0x234070,_0x1f6814){const _0x3c134a=_0x2e2582,_0x1890d2=[..._0x234070[_0x3c134a(0xcf1)]('.project-card-container:not(.opacity-50)')];return _0x1890d2['reduce']((_0x2857a9,_0x159664)=>{const _0x14187d=_0x3c134a,_0x3eb6a7=_0x159664[_0x14187d(0x324)](),_0x3fc228=_0x1f6814-_0x3eb6a7[_0x14187d(0x276)]-_0x3eb6a7[_0x14187d(0xc77)]/0x2;return _0x3fc228<0x0&&_0x3fc228>_0x2857a9[_0x14187d(0x8a6)]?{'offset':_0x3fc228,'element':_0x159664}:_0x2857a9;},{'offset':Number[_0x3c134a(0x96c)]})[_0x3c134a(0x435)];}async function saveProjectOrder(_0x16cea5){const _0xfff83=_0x2e2582,_0x229beb=doc(db,'globalSettings',_0xfff83(0xdf3));try{await setDoc(_0x229beb,{'projectOrder':_0x16cea5},{'merge':!![]});}catch(_0xaa90aa){console['error'](_0xfff83(0x4da),_0xaa90aa),showMessage(_0xfff83(0x7c2));}}async function logBehaviorEvent(_0x46fc07,_0x3cde94={}){const _0x1cc87a=_0x2e2582;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x1cc87a(0x678)](_0x1cc87a(0x754));return;}const _0x3104f3=doc(db,_0x1cc87a(0x509)+appId+_0x1cc87a(0xd97)+currentQuizData['id']+'/submissions',currentStudentName),_0x206fc5={'event':_0x46fc07,'timestamp':new Date()[_0x1cc87a(0xbae)](),..._0x3cde94};try{await updateDoc(_0x3104f3,{'behaviorLog':arrayUnion(_0x206fc5)}),console['log']('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+'\x20สำเร็จ');}catch(_0x52801c){_0x52801c[_0x1cc87a(0xdb9)]==='not-found'?console[_0x1cc87a(0x678)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x1cc87a(0x200)):console['error']('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x52801c);}}function getScoreTier(_0x37e084,_0x22d881){const _0x310d06=_0x2e2582;if(_0x22d881===0x0){if(_0x37e084===0x0)return{'text':_0x310d06(0x99f),'icon':'⏳'};return{'text':_0x310d06(0x368),'icon':'😥'};}const _0x5d08b1=_0x37e084/(_0x22d881===0x0?0x1:_0x22d881);if(_0x5d08b1===0x1)return{'text':_0x310d06(0xd93),'icon':'👑'};if(_0x5d08b1>=0.7)return{'text':_0x310d06(0x609),'icon':'🔥'};if(_0x5d08b1>=0.4)return{'text':_0x310d06(0x969),'icon':'🏃'};return{'text':_0x310d06(0x368),'icon':'😥'};}function calculateMeanAndStdDev(_0x22c83e){const _0x2daf7f=_0x2e2582;if(_0x22c83e[_0x2daf7f(0x83b)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x4563e7=_0x22c83e[_0x2daf7f(0x5ed)]((_0x4cfcf0,_0x51df97)=>_0x4cfcf0+_0x51df97,0x0)/_0x22c83e[_0x2daf7f(0x83b)];if(_0x22c83e['length']===0x1)return{'mean':_0x4563e7,'stdDev':0x0};const _0x4fbc21=Math['sqrt'](_0x22c83e['map'](_0x45b02a=>Math['pow'](_0x45b02a-_0x4563e7,0x2))[_0x2daf7f(0x5ed)]((_0x37f2c4,_0x2846f3)=>_0x37f2c4+_0x2846f3,0x0)/(_0x22c83e['length']-0x1));return{'mean':_0x4563e7,'stdDev':_0x4fbc21};}function calculateZScore(_0x3fabb7,_0x2587ca,_0x2cf6c3){if(_0x2cf6c3===0x0)return 0x0;return(_0x3fabb7-_0x2587ca)/_0x2cf6c3;}function calculateTScore(_0x50ecd3){return 0xa*_0x50ecd3+0x32;}function showStarredProjectView(){const _0x4de696=_0x2e2582;currentProjectId=_0x4de696(0x45c),currentProjectData=null,projectTitle[_0x4de696(0x337)]=_0x4de696(0x40d),projectIdDisplay[_0x4de696(0x337)]=_0x4de696(0x864),showView(_0x4de696(0x641)),manageTab[_0x4de696(0xed5)]['add'](_0x4de696(0x515)),leaderboardTab['classList'][_0x4de696(0xbca)](_0x4de696(0x515)),switchProjectTab(_0x4de696(0xa51)),renderQuizzes();}async function loadProjectDetails(_0x2ad81c){const _0x11c610=_0x2e2582,_0x30889f=doc(db,'artifacts/'+appId+'/public/data/projects',_0x2ad81c),_0x2fccf6=await getDoc(_0x30889f);if(_0x2fccf6[_0x11c610(0xa82)]()){manageTab[_0x11c610(0xed5)][_0x11c610(0xb8a)](_0x11c610(0x515)),leaderboardTab[_0x11c610(0xed5)][_0x11c610(0xb8a)](_0x11c610(0x515)),currentProjectData=_0x2fccf6[_0x11c610(0xe5c)](),projectTitle[_0x11c610(0x337)]=currentProjectData[_0x11c610(0x52e)],projectIdDisplay[_0x11c610(0x337)]=_0x2ad81c;const _0x1a9c0c=currentProjectData[_0x11c610(0xe11)]||{};document[_0x11c610(0x6ec)](_0x11c610(0x279))[_0x11c610(0x8c2)]=_0x1a9c0c['shuffleSetting']||_0x11c610(0xd62);const _0x4b46b2=document[_0x11c610(0x6ec)](_0x11c610(0xa11));_0x4b46b2[_0x11c610(0xa0a)]=_0x1a9c0c[_0x11c610(0x36d)]!==![];const _0x57b98d=document['getElementById']('enable-passcode-checkbox'),_0x562f9b=document[_0x11c610(0x6ec)](_0x11c610(0xadf)),_0x4df904=document[_0x11c610(0x6ec)](_0x11c610(0x88c)),_0x1f66fb=_0x1a9c0c[_0x11c610(0xe76)]||![];_0x57b98d[_0x11c610(0xa0a)]=_0x1f66fb,_0x4df904['value']=_0x1a9c0c[_0x11c610(0xaaf)]||'',_0x562f9b['classList']['toggle'](_0x11c610(0x515),!_0x1f66fb),_0x57b98d[_0x11c610(0xd11)]=()=>{const _0x1e9bca=_0x11c610;_0x562f9b[_0x1e9bca(0xed5)][_0x1e9bca(0x6dd)](_0x1e9bca(0x515),!_0x57b98d['checked']);},document[_0x11c610(0x6ec)]('confidence-scoring-checkbox')[_0x11c610(0xa0a)]=_0x1a9c0c[_0x11c610(0xa56)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x2ad81c),listenForProjectQuizzes(_0x2ad81c),listenForStudentProfiles(_0x2ad81c);}else showMessage(_0x11c610(0xc24)),showView(_0x11c610(0x2da));}async function handleResetProjectOrder(){const _0x14fac6=_0x2e2582,_0x3ed945=doc(db,_0x14fac6(0x854),_0x14fac6(0xdf3));try{await setDoc(_0x3ed945,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x7845f5){console['error'](_0x14fac6(0x7cd),_0x7845f5),showMessage(_0x14fac6(0x59f));}}async function handleTogglePinProject(_0x242128){const _0x3ca3a0=_0x2e2582;if(!_0x242128)return;const _0x5ea196=doc(db,_0x3ca3a0(0x509)+appId+_0x3ca3a0(0x850),_0x242128);try{const _0x3802d5=await getDoc(_0x5ea196);if(_0x3802d5[_0x3ca3a0(0xa82)]()){const _0x39ce0b=_0x3802d5[_0x3ca3a0(0xe5c)]()[_0x3ca3a0(0x26e)]||![];await updateDoc(_0x5ea196,{'isPinned':!_0x39ce0b});}}catch(_0x2cf6f7){console[_0x3ca3a0(0x61c)](_0x3ca3a0(0x7d5),_0x2cf6f7),showMessage(_0x3ca3a0(0x787));}}async function handleDeleteProject(_0x41cc04){const _0x243d3a=_0x2e2582;try{const _0x5bcf14=writeBatch(db),_0x302eb2=collection(db,_0x243d3a(0x509)+appId+'/public/data/quizzes'),_0x50447c=query(_0x302eb2,where(_0x243d3a(0x6ea),'==',_0x41cc04)),_0x4c44fb=await getDocs(_0x50447c);for(const _0xd1924b of _0x4c44fb[_0x243d3a(0x875)]){const _0x2670d8=collection(db,_0x243d3a(0x509)+appId+'/public/data/quizzes/'+_0xd1924b['id']+'/submissions'),_0x40c8e4=await getDocs(_0x2670d8);_0x40c8e4[_0x243d3a(0x9ce)](_0x56a0c0=>{_0x5bcf14['delete'](_0x56a0c0['ref']);}),_0x5bcf14[_0x243d3a(0x69c)](_0xd1924b['ref']);}const _0x3d9474=collection(db,'artifacts/'+appId+_0x243d3a(0x76d)+_0x41cc04+_0x243d3a(0xe9d)),_0x337a17=await getDocs(_0x3d9474);_0x337a17[_0x243d3a(0x9ce)](_0x463c27=>{const _0x40a684=_0x243d3a;_0x5bcf14[_0x40a684(0x69c)](_0x463c27[_0x40a684(0xd0d)]);});const _0x7b4506=doc(db,_0x243d3a(0x509)+appId+'/public/data/projects',_0x41cc04);_0x5bcf14[_0x243d3a(0x69c)](_0x7b4506),await _0x5bcf14[_0x243d3a(0xc42)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x243d3a(0x2da));}catch(_0x30ed31){console[_0x243d3a(0x61c)]('Error\x20deleting\x20project:',_0x30ed31),showMessage(_0x243d3a(0xbf0));}}document[_0x2e2582(0x6ec)](_0x2e2582(0x94f))['addEventListener'](_0x2e2582(0x7b0),async()=>{const _0x3884a1=_0x2e2582;if(!currentProjectId)return;const _0x2dfbe1={'defaultNumQuestions':parseInt(document[_0x3884a1(0x6ec)](_0x3884a1(0xb86))[_0x3884a1(0x8c2)]),'defaultNumChoices':parseInt(document[_0x3884a1(0x6ec)](_0x3884a1(0x655))[_0x3884a1(0x8c2)]),'defaultPassingScore':parseInt(document[_0x3884a1(0x6ec)](_0x3884a1(0xc61))[_0x3884a1(0x8c2)]),'resultsDisplay':document[_0x3884a1(0x6ec)](_0x3884a1(0x725))['value'],'shuffleSetting':document[_0x3884a1(0x6ec)](_0x3884a1(0x279))['value'],'timerMode':document[_0x3884a1(0x6ec)](_0x3884a1(0x4ee))[_0x3884a1(0x8c2)],'timerDuration':parseInt(document[_0x3884a1(0x6ec)](_0x3884a1(0xb27))[_0x3884a1(0x8c2)]),'isConfidenceScoringEnabled':document['getElementById'](_0x3884a1(0x703))[_0x3884a1(0xa0a)],'confidenceMode':document[_0x3884a1(0x6ec)](_0x3884a1(0x269))[_0x3884a1(0x8c2)]};try{const _0xdc88d1=doc(db,_0x3884a1(0x509)+appId+_0x3884a1(0x850),currentProjectId);await updateDoc(_0xdc88d1,{'settings':_0x2dfbe1}),showMessage(_0x3884a1(0x7b4));}catch(_0x1de5f9){console['error'](_0x3884a1(0xb8f),_0x1de5f9),showMessage(_0x3884a1(0x580));}});function listenForStudents(_0x3e7dda){const _0x5bdcb1=_0x2e2582,_0x41faed=doc(db,'artifacts/'+appId+_0x5bdcb1(0x850),_0x3e7dda);unsubscribeStudentsListener=onSnapshot(_0x41faed,_0x86aa84=>{const _0x3ab124=_0x5bdcb1;if(_0x86aa84[_0x3ab124(0xa82)]()){const _0x5a6192=_0x86aa84[_0x3ab124(0xe5c)]();currentProjectData=_0x5a6192,renderStudentList(_0x5a6192['students']||[]);}});}function renderStudentList(_0x49b27d){const _0x55e37c=_0x2e2582,_0x4df7b=document[_0x55e37c(0x6ec)](_0x55e37c(0x407));_0x49b27d[_0x55e37c(0x83b)]===0x0?(studentList[_0x55e37c(0x674)]=_0x55e37c(0xc6d),_0x4df7b[_0x55e37c(0xed5)][_0x55e37c(0xbca)](_0x55e37c(0x515))):(studentList[_0x55e37c(0x674)]=_0x49b27d[_0x55e37c(0x91f)](_0x250bbb=>_0x55e37c(0x342)+_0x250bbb+_0x55e37c(0xae2)+_0x250bbb+_0x55e37c(0x44e))[_0x55e37c(0x8c3)](''),_0x4df7b[_0x55e37c(0xed5)][_0x55e37c(0xb8a)](_0x55e37c(0x515)));}document['getElementById']('add-student-btn')[_0x2e2582(0x504)]('click',async()=>{const _0x542804=_0x2e2582;if(!currentProjectId)return;const _0x470cb2=document['getElementById'](_0x542804(0x57d)),_0x2e55e4=_0x470cb2[_0x542804(0x8c2)][_0x542804(0xdd8)]();if(!_0x2e55e4){showMessage(_0x542804(0x6ae));return;}const _0x3740ed=_0x2e55e4[_0x542804(0x8c0)]('\x0a')[_0x542804(0x91f)](_0x2d7c7d=>_0x2d7c7d[_0x542804(0xdd8)]())[_0x542804(0xe4e)](_0x26773a=>_0x26773a);if(_0x3740ed[_0x542804(0x83b)]===0x0)return;try{const _0x1214e5=doc(db,_0x542804(0x509)+appId+_0x542804(0x850),currentProjectId),_0x5e570a=await getDoc(_0x1214e5);if(_0x5e570a[_0x542804(0xa82)]()){const _0x21b048=_0x5e570a[_0x542804(0xe5c)]()['students']||[],_0x1c145a=[...new Set([..._0x21b048,..._0x3740ed])];await updateDoc(_0x1214e5,{'students':_0x1c145a}),_0x470cb2[_0x542804(0x8c2)]='';}}catch(_0x17b4fa){console[_0x542804(0x61c)]('Error\x20adding\x20students:',_0x17b4fa),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x5a916f){const _0x19674a=_0x2e2582,_0x5de301=document[_0x19674a(0x6ec)](_0x19674a(0xd17)),_0x2991b7=document[_0x19674a(0x6ec)]('move-quiz-project-select'),_0x373a63=_0x5de301[_0x19674a(0x427)]('h3'),_0x1e479a=document[_0x19674a(0x6ec)](_0x19674a(0xc22)),_0x371ec7=document[_0x19674a(0x6ec)](_0x19674a(0xb2d));_0x373a63[_0x19674a(0x337)]='จับคู่เพื่อเปรียบเทียบผล',_0x2991b7[_0x19674a(0x674)]=_0x19674a(0xd5b),_0x1e479a['textContent']=_0x19674a(0x6a7),_0x5de301['classList'][_0x19674a(0xb8a)]('hidden');const _0x93c199=allQuizzes[_0x19674a(0xe4e)](_0x41d22f=>_0x41d22f['id']!==_0x5a916f);_0x93c199['length']===0x0?(_0x2991b7[_0x19674a(0x674)]=_0x19674a(0xc89),_0x1e479a['disabled']=!![]):(_0x2991b7[_0x19674a(0x674)]=_0x19674a(0x451)+_0x93c199[_0x19674a(0x91f)](_0xe90c07=>_0x19674a(0x3e4)+_0xe90c07['id']+'\x22>'+_0xe90c07[_0x19674a(0x308)]+'</option>')[_0x19674a(0x8c3)](''),_0x1e479a[_0x19674a(0x736)]=![]);const _0x215f02=async()=>{const _0x3a0370=_0x19674a,_0x246c3c=_0x2991b7[_0x3a0370(0x8c2)];if(!_0x246c3c){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x1e479a[_0x3a0370(0x736)]=!![],_0x1e479a[_0x3a0370(0x337)]=_0x3a0370(0x6c6);try{const _0x261a1a=doc(db,_0x3a0370(0x509)+appId+_0x3a0370(0x2d1),_0x5a916f),_0x2c6d5e=doc(db,_0x3a0370(0x509)+appId+'/public/data/quizzes',_0x246c3c),_0x4c1b48=writeBatch(db);_0x4c1b48[_0x3a0370(0xf45)](_0x261a1a,{'pairedQuizId':_0x246c3c}),_0x4c1b48[_0x3a0370(0xf45)](_0x2c6d5e,{'pairedQuizId':_0x5a916f}),await _0x4c1b48[_0x3a0370(0xc42)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x5de301[_0x3a0370(0xed5)][_0x3a0370(0xbca)](_0x3a0370(0x515));}catch(_0x3ed8ae){console[_0x3a0370(0x61c)](_0x3a0370(0xa30),_0x3ed8ae),showMessage(_0x3a0370(0x39d));}finally{_0x373a63['textContent']=_0x3a0370(0x53f),_0x1e479a[_0x3a0370(0x337)]=_0x3a0370(0x292),_0x1e479a[_0x3a0370(0x736)]=![],_0x1e479a['removeEventListener'](_0x3a0370(0x7b0),_0x215f02),_0x371ec7[_0x3a0370(0x637)](_0x3a0370(0x7b0),_0x23b895);}},_0x23b895=()=>{const _0x47660a=_0x19674a;_0x5de301[_0x47660a(0xed5)][_0x47660a(0xbca)]('hidden'),_0x373a63[_0x47660a(0x337)]=_0x47660a(0x53f),_0x1e479a['textContent']=_0x47660a(0x292),_0x1e479a[_0x47660a(0x637)](_0x47660a(0x7b0),_0x215f02),_0x371ec7['removeEventListener'](_0x47660a(0x7b0),_0x23b895);};_0x1e479a[_0x19674a(0x504)](_0x19674a(0x7b0),_0x215f02),_0x371ec7[_0x19674a(0x504)](_0x19674a(0x7b0),_0x23b895);}function handleDeleteStudent(_0x455de1){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x455de1+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x3974b9=_0x5f2f;if(!currentProjectId||!currentProjectData)return;const _0x3f33fe=currentProjectData[_0x3974b9(0x30d)][_0x3974b9(0xe4e)](_0x2fee4a=>_0x2fee4a!==_0x455de1);try{const _0x1a4e7f=doc(db,_0x3974b9(0x509)+appId+_0x3974b9(0x850),currentProjectId),_0x394355=doc(db,_0x3974b9(0x509)+appId+_0x3974b9(0x76d)+currentProjectId+_0x3974b9(0xe9d),_0x455de1),_0x505761=writeBatch(db);_0x505761[_0x3974b9(0xf45)](_0x1a4e7f,{'students':_0x3f33fe}),_0x505761[_0x3974b9(0x69c)](_0x394355),await _0x505761[_0x3974b9(0xc42)]();}catch(_0x428247){console[_0x3974b9(0x61c)](_0x3974b9(0x638),_0x428247),showMessage(_0x3974b9(0x88d));}});}function handleDeleteAllStudents(){const _0x4d8d98=_0x2e2582;showConfirmation(_0x4d8d98(0x2e1),async()=>{const _0x3fcb3c=_0x4d8d98;if(!currentProjectId)return;try{const _0x3509a3=doc(db,_0x3fcb3c(0x509)+appId+_0x3fcb3c(0x850),currentProjectId),_0x4772f1=collection(db,_0x3fcb3c(0x509)+appId+_0x3fcb3c(0x76d)+currentProjectId+_0x3fcb3c(0xe9d)),_0x227813=await getDocs(_0x4772f1),_0x4fe773=writeBatch(db);_0x4fe773['update'](_0x3509a3,{'students':[]}),_0x227813[_0x3fcb3c(0x9ce)](_0x561cfc=>_0x4fe773['delete'](_0x561cfc['ref'])),await _0x4fe773[_0x3fcb3c(0xc42)]();}catch(_0x2da79a){console[_0x3fcb3c(0x61c)](_0x3fcb3c(0x869),_0x2da79a),showMessage(_0x3fcb3c(0xdaf));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x2b6724){const _0x292536=_0x2e2582,_0x51b11a=document[_0x292536(0x6ec)](_0x292536(0xd1c)),_0x3fbf9c=document[_0x292536(0x6ec)]('file-topics-list');_0x51b11a['classList']['remove'](_0x292536(0x515)),_0x3fbf9c[_0x292536(0x674)]=_0x292536(0xe7c);try{const _0x14fa2e=new FileReader();_0x14fa2e[_0x292536(0xa1b)](_0x2b6724),await new Promise((_0x196abc,_0x31c539)=>{const _0x3dea67=_0x292536;_0x14fa2e[_0x3dea67(0x9c2)]=()=>{const _0x2c03bc=_0x3dea67;fileDataBase64=_0x14fa2e[_0x2c03bc(0xb66)][_0x2c03bc(0x8c0)](',')[0x1],fileMimeType=_0x2b6724[_0x2c03bc(0xae4)],_0x196abc();},_0x14fa2e[_0x3dea67(0xc0d)]=_0x2dd228=>_0x31c539(_0x2dd228);});if(!fileDataBase64)throw new Error(_0x292536(0xda8));const _0x3e46eb=_0x292536(0x7a0),_0x29f237={'type':_0x292536(0xda2),'properties':{'topics':{'type':'ARRAY','items':{'type':_0x292536(0x9eb)}}},'required':[_0x292536(0x9a5)]},_0x5c70bf=[{'text':_0x3e46eb},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x5d70b6=await handleApiCall(_0x5c70bf,'กำลังวิเคราะห์หัวข้อ...',_0x29f237,null,![]);if(_0x5d70b6&&_0x5d70b6[_0x292536(0x9a5)])extractedFileTopics=_0x5d70b6[_0x292536(0x9a5)],renderFileTopics();else throw new Error(_0x292536(0xc3a));}catch(_0x55358b){console[_0x292536(0x61c)](_0x292536(0x371),_0x55358b),_0x3fbf9c['innerHTML']=_0x292536(0x22e)+_0x55358b[_0x292536(0x784)]+'</p>';}}function renderFileTopics(){const _0x226a22=_0x2e2582,_0x3c1690=document[_0x226a22(0x6ec)]('file-topics-list');if(extractedFileTopics[_0x226a22(0x83b)]===0x0){_0x3c1690[_0x226a22(0x674)]=_0x226a22(0x892);return;}_0x3c1690[_0x226a22(0x674)]=extractedFileTopics['map'](_0x3f8261=>_0x226a22(0xc48)+_0x3f8261+_0x226a22(0xc5e)+escape(_0x3f8261)+_0x226a22(0xbe4)+escape(_0x3f8261)+_0x226a22(0xcd1))[_0x226a22(0x8c3)]('');}async function generateHybridQuizForTopic(_0x193053){const _0x582443=_0x2e2582,_0x1af2de=parseInt(document['getElementById']('num-questions')[_0x582443(0x8c2)],0xa),_0x5abbef=document[_0x582443(0x6ec)]('quiz-type-select')[_0x582443(0x8c2)],_0x3bdd55=document[_0x582443(0x6ec)](_0x582443(0x655))[_0x582443(0x8c2)],_0xa5df32=document[_0x582443(0x6ec)](_0x582443(0x9c4))['checked'],_0x1c0e0f=_0xa5df32?_0x582443(0x97f):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x523a1b='',_0x1d82bd;const _0x2dc743={'type':_0x582443(0xda2),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x582443(0xb83),'items':{'type':_0x582443(0x9eb)}},'correctAnswerIndex':{'type':_0x582443(0xbb4)},'explanation':{'type':_0x582443(0x9eb)},'imageCode':{'type':_0x582443(0x9eb)}},'required':[_0x582443(0x912),_0x582443(0x25f),_0x582443(0x526),'explanation']},_0x172047={'type':_0x582443(0xda2),'properties':{'questionText':{'type':_0x582443(0x9eb)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x582443(0x9eb)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x582443(0xec0),_0x582443(0xec3)]},_0x1f7f12={'type':_0x582443(0xda2),'properties':{'questionText':{'type':_0x582443(0x9eb)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x582443(0x9eb)}},'required':[_0x582443(0x912),'idealAnswer',_0x582443(0xec3)]},_0x101b05={'type':'OBJECT','properties':{'questionType':{'type':_0x582443(0x9eb),'enum':[_0x582443(0x440)]},'stem':{'type':_0x582443(0x9eb)},'correctResponse':{'type':_0x582443(0x9eb)},'allResponses':{'type':_0x582443(0xb83),'items':{'type':_0x582443(0x9eb)}},'explanation':{'type':_0x582443(0x9eb)},'imageCode':{'type':'STRING'}},'required':[_0x582443(0xb6d),_0x582443(0x71c),_0x582443(0xc32),_0x582443(0xa2e),_0x582443(0xec3)]};switch(_0x5abbef){case _0x582443(0xbb3):const _0x5cd79b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด';prompt=_0x582443(0xc9d)+subjectPrefix+'\x20'+settings[_0x582443(0x727)]+_0x582443(0x360)+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+_0x582443(0x847)+settings[_0x582443(0xc27)]+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5cd79b+_0x582443(0xe08)+_0x1c0e0f+'\x20'+simpleMathPrompt,schema=_0x2dc743;break;case _0x582443(0x35c):_0x523a1b=_0x582443(0x46b),_0x1d82bd=_0x172047;break;case _0x582443(0x8f5):_0x523a1b='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x1d82bd=_0x1f7f12;break;case'matching':_0x523a1b=_0x582443(0xac8),_0x1d82bd=_0x101b05;break;case _0x582443(0x2af):_0x523a1b='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x3bdd55+_0x582443(0x6ba),_0x1d82bd=_0x2dc743;break;default:_0x523a1b='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x3bdd55+_0x582443(0x6ba),_0x1d82bd=_0x2dc743;break;}const _0xdfcb6d=_0x582443(0x688),_0xc4c203=document[_0x582443(0x6ec)]('loader'),_0x4f38a2=document[_0x582443(0x6ec)](_0x582443(0x350)),_0x44773b=document['getElementById'](_0x582443(0x456));document[_0x582443(0x6ec)]('quiz-generation-area')[_0x582443(0xed5)][_0x582443(0xb8a)](_0x582443(0x515)),_0x44773b[_0x582443(0x674)]='',_0xc4c203['classList']['remove'](_0x582443(0x515)),_0x4f38a2[_0x582443(0x337)]=_0x582443(0x915)+_0x193053+_0x582443(0x42b)+_0x1af2de+_0x582443(0x8ce);try{const _0x48b9ca='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x2b7b87=_0x582443(0x77e)+_0x193053+'\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20'+_0x1af2de+_0x582443(0xb52)+_0x193053+'\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20'+_0x1af2de+'\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20'+_0x1c0e0f+_0x582443(0x235)+_0x523a1b+_0x582443(0x7a7)+_0xdfcb6d+'**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x48b9ca+_0x582443(0xd88)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4883e6={'type':_0x582443(0xda2),'properties':{'topic':{'type':_0x582443(0x9eb)},'questions':{'type':_0x582443(0xb83),'items':_0x1d82bd}},'required':[_0x582443(0x308),_0x582443(0xa08)]},_0x5c0319=[{'text':_0x2b7b87},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x5c0319,_0x582443(0xc5d)+_0x193053+_0x582443(0x30c),_0x4883e6);}catch(_0x2102fa){console[_0x582443(0x61c)](_0x582443(0xd8d),_0x2102fa),showMessage(_0x582443(0xebb)+_0x2102fa['message']),_0x44773b['innerHTML']=_0x582443(0x591);}finally{_0xc4c203['classList'][_0x582443(0xbca)](_0x582443(0x515));}}async function handleGenerateFromFileClick(){const _0xa9dec8=_0x2e2582;if(!selectedFile){showMessage(_0xa9dec8(0x239));return;}const _0x782b6a=document[_0xa9dec8(0x6ec)]('loader'),_0x2e6fe7=document[_0xa9dec8(0x6ec)](_0xa9dec8(0x350)),_0x3fc410=document[_0xa9dec8(0x6ec)]('generated-quiz-container'),_0x35c816=document[_0xa9dec8(0x6ec)](_0xa9dec8(0x52f));_0x35c816[_0xa9dec8(0x736)]=!![],document[_0xa9dec8(0x6ec)]('quiz-generation-area')[_0xa9dec8(0xed5)][_0xa9dec8(0xb8a)](_0xa9dec8(0x515)),_0x3fc410['innerHTML']='',_0x782b6a[_0xa9dec8(0xed5)][_0xa9dec8(0xb8a)]('hidden'),_0x2e6fe7['textContent']='กำลังอ่านและเตรียมไฟล์...';try{const _0x5980f0=await new Promise((_0x5c6c83,_0x210278)=>{const _0x230a7d=_0xa9dec8,_0x420acb=new FileReader();_0x420acb['readAsDataURL'](selectedFile),_0x420acb['onload']=()=>_0x5c6c83(_0x420acb[_0x230a7d(0xb66)][_0x230a7d(0x8c0)](',')[0x1]),_0x420acb['onerror']=_0x157f0f=>_0x210278(_0x157f0f);});await generateQuizFromFile(selectedFile[_0xa9dec8(0xae4)],_0x5980f0);}catch(_0xf60ee8){console[_0xa9dec8(0x61c)]('Error\x20processing\x20file\x20for\x20AI:',_0xf60ee8),showMessage(_0xa9dec8(0x9a9)+_0xf60ee8['message']),_0x782b6a[_0xa9dec8(0xed5)][_0xa9dec8(0xbca)](_0xa9dec8(0x515)),_0x35c816[_0xa9dec8(0x736)]=![];}}function autoFormatMath(_0x1f6475){const _0x12a8b8=_0x2e2582;if(typeof _0x1f6475!==_0x12a8b8(0xa9c)||!_0x1f6475)return _0x1f6475;const _0x138fec=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1d48c9=_0x1f6475['replace'](_0x138fec,_0x3814f7=>{return'$'+_0x3814f7['trim']()+'$';});return _0x1d48c9;}function sanitizeQuizData(_0x3ee85d){const _0x56bd31=_0x2e2582;if(!_0x3ee85d||!_0x3ee85d[_0x56bd31(0xa08)])return _0x3ee85d;const _0x5b1287=_0x49e1ee=>{const _0x54a581=_0x56bd31;if(typeof _0x49e1ee!=='string')return _0x49e1ee;let _0x39959c=_0x49e1ee;_0x39959c=_0x39959c[_0x54a581(0x3cc)](/\\\(/g,'$')[_0x54a581(0x3cc)](/\\\)/g,'$'),_0x39959c=_0x39959c[_0x54a581(0x3cc)](/\\\[/g,'$$')[_0x54a581(0x3cc)](/\\\]/g,'$$'),_0x39959c=_0x39959c['replace'](/\\?imes\b/g,_0x54a581(0xdea));const _0x243e69=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x39959c=_0x39959c['replace'](_0x243e69,_0x45f6d9=>{return'$'+_0x45f6d9['trim']()+'$';}),_0x39959c;};return _0x3ee85d[_0x56bd31(0x308)]&&(_0x3ee85d[_0x56bd31(0x308)]=_0x5b1287(_0x3ee85d[_0x56bd31(0x308)])),_0x3ee85d[_0x56bd31(0xa08)][_0x56bd31(0x9ce)](_0x397367=>{const _0x275ace=_0x56bd31;_0x397367[_0x275ace(0x912)]=_0x5b1287(_0x397367[_0x275ace(0x912)]),_0x397367[_0x275ace(0x71c)]=_0x5b1287(_0x397367[_0x275ace(0x71c)]),_0x397367[_0x275ace(0x25f)]&&(_0x397367[_0x275ace(0x25f)]=_0x397367[_0x275ace(0x25f)]['map'](_0x46969b=>_0x5b1287(_0x46969b))),_0x397367[_0x275ace(0xec3)]&&(_0x397367['explanation']=_0x5b1287(_0x397367[_0x275ace(0xec3)])),_0x397367[_0x275ace(0xc32)]&&(_0x397367[_0x275ace(0xc32)]=_0x5b1287(_0x397367[_0x275ace(0xc32)])),_0x397367['allResponses']&&(_0x397367[_0x275ace(0xa2e)]=_0x397367['allResponses'][_0x275ace(0x91f)](_0x469dba=>_0x5b1287(_0x469dba))),_0x397367[_0x275ace(0x9f1)]&&(_0x397367[_0x275ace(0x9f1)]=_0x5b1287(_0x397367[_0x275ace(0x9f1)]));}),_0x3ee85d;}const simpleMathPrompt=_0x2e2582(0x571);async function handleGenerateFromLink(){const _0x500a18=_0x2e2582,_0x462de6=document[_0x500a18(0x6ec)]('link-url-input'),_0x15462a=document[_0x500a18(0x6ec)](_0x500a18(0x2ab)),_0x64f9b5=_0x462de6[_0x500a18(0x8c2)][_0x500a18(0xdd8)](),_0x4d1c14=_0x15462a['value']['trim']();if(!_0x64f9b5){showMessage(_0x500a18(0x99b));return;}const _0x123062=document[_0x500a18(0x6ec)](_0x500a18(0x3e6)),_0x4d9622=document[_0x500a18(0x6ec)](_0x500a18(0x350)),_0x6329ef=document[_0x500a18(0x6ec)]('generated-quiz-container'),_0x49c41b=document[_0x500a18(0x6ec)](_0x500a18(0xbc9));document[_0x500a18(0x6ec)](_0x500a18(0x6c8))[_0x500a18(0xed5)]['remove'](_0x500a18(0x515)),_0x6329ef[_0x500a18(0x674)]='',_0x123062[_0x500a18(0xed5)]['remove'](_0x500a18(0x515)),_0x4d9622['textContent']=_0x500a18(0x2d2),_0x49c41b[_0x500a18(0x736)]=!![];try{const _0x3a92a1=_0x500a18(0x610)+encodeURIComponent(_0x64f9b5),_0x5b8606=await fetch(_0x3a92a1);if(!_0x5b8606['ok'])throw new Error(_0x500a18(0x619)+_0x5b8606[_0x500a18(0x4dc)]+')');const _0x5a22a8=await _0x5b8606['text'](),_0xdf5f82=extractTextFromHtml(_0x5a22a8);if(!_0xdf5f82||_0xdf5f82['length']<0x64)throw new Error(_0x500a18(0xebc));await generateQuiz(_0x4d1c14,_0xdf5f82);}catch(_0x5f5d73){console['error']('Error\x20generating\x20from\x20link:',_0x5f5d73),showMessage(_0x500a18(0xebb)+_0x5f5d73[_0x500a18(0x784)]),_0x6329ef['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x123062[_0x500a18(0xed5)]['add'](_0x500a18(0x515)),_0x49c41b['disabled']=![];}}function extractTextFromHtml(_0x3a1544){const _0x438451=_0x2e2582,_0x1b2f97=new DOMParser()[_0x438451(0xe1f)](_0x3a1544,'text/html');return _0x1b2f97['querySelectorAll'](_0x438451(0xe41))[_0x438451(0x9ce)](_0xf5dd12=>_0xf5dd12[_0x438451(0xb8a)]()),_0x1b2f97[_0x438451(0xc74)]['textContent']||'';}document['getElementById'](_0x2e2582(0xacf))[_0x2e2582(0x504)](_0x2e2582(0x7b0),()=>{const _0x4756eb=_0x2e2582,_0x50b175=document[_0x4756eb(0x6ec)](_0x4756eb(0x446))[_0x4756eb(0x8c2)][_0x4756eb(0xdd8)]();generateQuiz(_0x50b175,null);}),document[_0x2e2582(0x6ec)](_0x2e2582(0x359))[_0x2e2582(0x504)](_0x2e2582(0x7b0),()=>{const _0x1a586=_0x2e2582,_0xded266=document[_0x1a586(0x6ec)]('text-content-input')[_0x1a586(0x8c2)][_0x1a586(0xdd8)]();if(!_0xded266){showMessage(_0x1a586(0xc39));return;}const _0x202886=document['getElementById'](_0x1a586(0x446))['value'][_0x1a586(0xdd8)]();generateQuiz(_0x202886,_0xded266);});async function generateQuiz(_0x9ddbaa,_0x276af4,_0x4d4096=null,_0x15b2e7=null,_0x30ff68=![],_0x1c598a=null,_0x3825f6=null,_0x2180ae=![]){const _0x4025f7=_0x2e2582;let _0x480e70={};if(_0x30ff68&&blueprintPageSettings)_0x480e70=blueprintPageSettings;else{const _0x4c4c8a=document[_0x4025f7(0xcf1)](_0x4025f7(0x97a));_0x480e70={'quizType':document['getElementById'](_0x4025f7(0x94c))['value'],'numQuestions':document[_0x4025f7(0x6ec)]('num-questions')['value'],'numChoices':document[_0x4025f7(0x6ec)]('num-choices')[_0x4025f7(0x8c2)],'includeImages':document['getElementById'](_0x4025f7(0x9c4))[_0x4025f7(0xa0a)],'isNormalTopic':document[_0x4025f7(0x6ec)](_0x4025f7(0xb2f))[_0x4025f7(0xa0a)],'difficultyValue':document[_0x4025f7(0x6ec)]('difficulty-level-select')['value'],'complexityValue':document[_0x4025f7(0x6ec)](_0x4025f7(0x9cc))[_0x4025f7(0x8c2)],'selectedTopicNames':Array[_0x4025f7(0x30a)](_0x4c4c8a)[_0x4025f7(0x91f)](_0x101885=>_0x101885[_0x4025f7(0x8c2)])};}const _0x43e1b7=_0x480e70[_0x4025f7(0x244)]?'':_0x4025f7(0x2fe),_0x26dbc8=_0x480e70[_0x4025f7(0x728)]!==_0x4025f7(0x877)?_0x4025f7(0x55e)+_0x480e70[_0x4025f7(0x728)]+'\x22':'',_0x3a2230=_0x480e70[_0x4025f7(0xf05)]!=='mixed'?_0x4025f7(0x813)+_0x480e70[_0x4025f7(0xf05)]+_0x4025f7(0x9b4):'';let _0x1a32c2='';_0x480e70[_0x4025f7(0xb61)]&&_0x480e70[_0x4025f7(0xb61)][_0x4025f7(0x83b)]>0x0&&(_0x1a32c2=_0x4025f7(0x824)+_0x480e70[_0x4025f7(0xb61)][_0x4025f7(0x8c3)](',\x20')+'.');let _0x5e8f9a='';_0x15b2e7&&(_0x5e8f9a=_0x4025f7(0x2c2));let _0x4b7936='',_0x175e1a='',_0x2c6d5a,_0x3e3145='เกี่ยวกับหัวข้อ\x20\x22'+_0x9ddbaa+'\x22';if(!_0x9ddbaa&&_0x276af4)_0x3e3145=_0x4025f7(0x43f);else!_0x9ddbaa&&!_0x276af4&&(_0x3e3145='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x49a626={'type':_0x4025f7(0xda2),'properties':{'questionText':{'type':_0x4025f7(0x9eb)},'options':{'type':'ARRAY','items':{'type':_0x4025f7(0x9eb)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x4025f7(0x9eb)},'imageCode':{'type':'STRING'}},'required':[_0x4025f7(0x912),_0x4025f7(0x25f),_0x4025f7(0x526),_0x4025f7(0xec3)]},_0xc4f44={'type':'OBJECT','properties':{'questionText':{'type':_0x4025f7(0x9eb)},'idealAnswer':{'type':_0x4025f7(0x9eb)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4025f7(0x9eb)}},'required':[_0x4025f7(0x912),_0x4025f7(0x9f1),_0x4025f7(0xec3)]},_0x22d958={'type':_0x4025f7(0xda2),'properties':{'questionText':{'type':_0x4025f7(0x9eb)},'questionType':{'type':_0x4025f7(0x9eb),'enum':[_0x4025f7(0xbb3),_0x4025f7(0x466)]},'options':{'type':'ARRAY','items':{'type':_0x4025f7(0x9eb)}},'correctAnswerIndex':{'type':_0x4025f7(0xbb4)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x4025f7(0x9eb)},'imageCode':{'type':_0x4025f7(0x9eb)}},'required':[_0x4025f7(0x912),_0x4025f7(0xb6d),_0x4025f7(0xec3)]},_0x156a21={'type':_0x4025f7(0xda2),'properties':{'questionText':{'type':_0x4025f7(0x9eb)},'correctAnswer':{'type':_0x4025f7(0xe27)},'explanation':{'type':_0x4025f7(0x9eb)},'imageCode':{'type':'STRING'}},'required':['questionText','correctAnswer',_0x4025f7(0xec3)]},_0x43f589={'type':_0x4025f7(0xda2),'properties':{'questionType':{'type':_0x4025f7(0x9eb),'enum':['matching_item']},'stem':{'type':_0x4025f7(0x9eb)},'correctResponse':{'type':_0x4025f7(0x9eb)},'allResponses':{'type':_0x4025f7(0xb83),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4025f7(0x9eb)}},'required':[_0x4025f7(0xb6d),_0x4025f7(0x71c),'correctResponse',_0x4025f7(0xa2e),'explanation']};let _0x2b54d0;if(_0x4d4096!==null){const _0x2116e0=currentQuizData[_0x4025f7(0xa08)][_0x4d4096][_0x4025f7(0xb6d)],_0x817cd9=_0x480e70['includeImages']?_0x4025f7(0x851):'';_0x4b7936=_0x4025f7(0xb2c)+_0x3e3145+'\x20'+_0x1a32c2+'\x20'+_0x26dbc8+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x817cd9+'\x20'+simpleMathPrompt;if(_0x2116e0===_0x4025f7(0xbb3))_0x2c6d5a=_0x49a626;else{if(_0x2116e0==='matching_item')_0x2c6d5a={'type':'OBJECT','properties':{'questionType':{'type':_0x4025f7(0x9eb),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x4025f7(0x9eb)},'explanation':{'type':_0x4025f7(0x9eb)},'imageCode':{'type':_0x4025f7(0x9eb)}},'required':[_0x4025f7(0xb6d),_0x4025f7(0x71c),_0x4025f7(0xc32),_0x4025f7(0xec3)]};else _0x2c6d5a=_0xc4f44;}_0x2b54d0=_0x2c6d5a;}else{const _0xb91a59=_0x480e70['includeImages']?_0x4025f7(0x2d8):'';switch(_0x480e70[_0x4025f7(0x80d)]){case _0x4025f7(0xbb3):const _0x481803=_0x4025f7(0x6ee);_0x4b7936=_0x4025f7(0xc9d)+_0x43e1b7+'\x20'+_0x480e70[_0x4025f7(0x727)]+_0x4025f7(0x360)+_0x3e3145+'\x20'+_0x1a32c2+'\x20'+_0x26dbc8+'\x20'+_0x3a2230+'\x20'+_0x5e8f9a+_0x4025f7(0x847)+_0x480e70['numChoices']+_0x4025f7(0x1ee)+_0x481803+_0x4025f7(0xe08)+_0xb91a59+'\x20'+simpleMathPrompt,_0x2c6d5a=_0x49a626;break;case _0x4025f7(0x2af):_0x4b7936='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x43e1b7+'\x20'+_0x480e70[_0x4025f7(0x727)]+'\x20ข้อ\x20'+_0x3e3145+'\x20'+_0x1a32c2+'\x20'+_0x26dbc8+'\x20'+_0x3a2230+'\x20'+_0x5e8f9a+_0x4025f7(0x7f9)+_0x480e70[_0x4025f7(0xc27)]+_0x4025f7(0x51a)+_0xb91a59+'\x20'+simpleMathPrompt,_0x2c6d5a=_0x49a626;break;case'fill_in_no_choices':_0x4b7936='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x43e1b7+'\x20'+_0x480e70[_0x4025f7(0x727)]+_0x4025f7(0x360)+_0x3e3145+'\x20'+_0x1a32c2+'\x20'+_0x26dbc8+'\x20'+_0x3a2230+'\x20'+_0x5e8f9a+_0x4025f7(0x781)+_0xb91a59+'\x20'+simpleMathPrompt,_0x2c6d5a=_0xc4f44;break;case _0x4025f7(0xc5c):_0x4b7936=_0x4025f7(0x802)+_0x43e1b7+'\x20'+_0x480e70[_0x4025f7(0x727)]+_0x4025f7(0x360)+_0x3e3145+'\x20'+_0x1a32c2+'\x20'+_0x26dbc8+'\x20'+_0x3a2230+'\x20'+_0x5e8f9a+_0x4025f7(0x83d)+_0x480e70[_0x4025f7(0xc27)]+'\x20ตัวเลือก.\x20'+_0xb91a59+'\x20'+simpleMathPrompt+'.',_0x2c6d5a=_0x22d958;break;case _0x4025f7(0x35c):_0x4b7936=_0x4025f7(0x907)+_0x43e1b7+'\x20'+_0x480e70[_0x4025f7(0x727)]+_0x4025f7(0x360)+_0x3e3145+'\x20'+_0x1a32c2+'\x20'+_0x26dbc8+'\x20'+_0x3a2230+'\x20'+_0x5e8f9a+_0x4025f7(0x53c)+_0xb91a59+'\x20'+simpleMathPrompt,_0x2c6d5a=_0x156a21;break;case _0x4025f7(0xf06):_0x4b7936='สร้างชุดคำถามจับคู่'+_0x43e1b7+'\x20'+_0x480e70['numQuestions']+_0x4025f7(0x90e)+_0x3e3145+'\x20'+_0x1a32c2+'\x20'+_0x26dbc8+'\x20'+_0x3a2230+'\x20'+_0x5e8f9a+_0x4025f7(0x2eb)+_0xb91a59+'\x20'+simpleMathPrompt,_0x2c6d5a=_0x43f589;break;}_0x2b54d0={'type':_0x4025f7(0xda2),'properties':{'topic':{'type':_0x4025f7(0x9eb)},'questions':{'type':_0x4025f7(0xb83),'items':_0x2c6d5a}},'required':['topic',_0x4025f7(0xa08)]};}const _0x4f735b=_0x4025f7(0x753);_0x276af4?(_0x2180ae?_0x4b7936='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x276af4+'\x22,\x20'+_0x4b7936+_0x4f735b:_0x4b7936=_0x4025f7(0x3ff)+_0x276af4+_0x4025f7(0xbdd)+_0x4b7936,_0x175e1a=_0x4025f7(0x928)):(_0x2180ae&&(_0x4b7936+=_0x4f735b),_0x175e1a=_0x4025f7(0xb79));let _0x5c901d;return _0x15b2e7?(_0x5c901d=[{'text':_0x4b7936},..._0x15b2e7],_0x175e1a='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x5c901d=_0x4b7936,handleApiCall(_0x5c901d,_0x175e1a,_0x2b54d0,_0x4d4096,!![],_0x1c598a,_0x3825f6);}async function generateQuizFromFile(_0x3d8813,_0x1ef611){const _0x335d5d=_0x2e2582,_0x460f83=document[_0x335d5d(0x6ec)]('file-topic-input')[_0x335d5d(0x8c2)][_0x335d5d(0xdd8)](),_0x531d76=document['getElementById'](_0x335d5d(0x94c))['value'],_0x5b2cc9=document['getElementById'](_0x335d5d(0xb86))[_0x335d5d(0x8c2)],_0x5b9518=document[_0x335d5d(0x6ec)](_0x335d5d(0x655))[_0x335d5d(0x8c2)],_0x4aa334=document[_0x335d5d(0x6ec)](_0x335d5d(0x9c4))['checked'],_0xbe8541=document[_0x335d5d(0x6ec)](_0x335d5d(0xb2f))['checked'],_0x371889=_0xbe8541?'':'คณิตศาสตร์',_0xcdefbf=document['getElementById'](_0x335d5d(0xceb))[_0x335d5d(0xa0a)];let _0x56c06d='',_0x312959;const _0x10a2f9=_0x4aa334?_0x335d5d(0x2d8):'';if(_0xcdefbf)_0x56c06d=_0x335d5d(0xacb)+_0x10a2f9+'\x0a'+simpleMathPrompt+'\x0a',_0x312959={'type':_0x335d5d(0xda2),'properties':{'questionText':{'type':_0x335d5d(0x9eb)},'questionType':{'type':_0x335d5d(0x9eb),'enum':[_0x335d5d(0xbb3),_0x335d5d(0x466),'true_false',_0x335d5d(0x440)]},'options':{'type':_0x335d5d(0xb83),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x335d5d(0xbb4)},'idealAnswer':{'type':_0x335d5d(0x9eb)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x335d5d(0x9eb)},'correctResponse':{'type':_0x335d5d(0x9eb)},'allResponses':{'type':_0x335d5d(0xb83),'items':{'type':_0x335d5d(0x9eb)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x335d5d(0x9eb)}},'required':[_0x335d5d(0xb6d),'explanation']};else{let _0x5569a9=_0x335d5d(0x69a)+_0x460f83+'\x22';!_0x460f83&&(_0x5569a9=_0x335d5d(0x437));switch(_0x531d76){case _0x335d5d(0xbb3):const _0x48d5b1=_0x335d5d(0xec8);_0x56c06d=_0x335d5d(0xc9d)+_0x371889+'\x20'+_0x5b2cc9+_0x335d5d(0x360)+_0x5569a9+_0x335d5d(0x4c0)+_0x5b9518+_0x335d5d(0x5dc)+_0x48d5b1+_0x335d5d(0x675)+_0x10a2f9+'\x20'+simpleMathPrompt,_0x312959={'type':'OBJECT','properties':{'questionText':{'type':_0x335d5d(0x9eb)},'options':{'type':_0x335d5d(0xb83),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x335d5d(0xbb4)},'explanation':{'type':_0x335d5d(0x9eb)},'imageCode':{'type':_0x335d5d(0x9eb)}},'required':[_0x335d5d(0x912),_0x335d5d(0x25f),'correctAnswerIndex',_0x335d5d(0xec3)]};break;case _0x335d5d(0x2af):_0x56c06d=_0x335d5d(0xd31)+_0x371889+'\x20'+_0x5b2cc9+'\x20ข้อ\x20'+_0x5569a9+_0x335d5d(0x7f9)+_0x5b9518+_0x335d5d(0x51a)+_0x10a2f9+'\x20'+simpleMathPrompt,_0x312959={'type':_0x335d5d(0xda2),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x335d5d(0xb83),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x335d5d(0xbb4)},'explanation':{'type':_0x335d5d(0x9eb)},'imageCode':{'type':'STRING'}},'required':[_0x335d5d(0x912),_0x335d5d(0x25f),_0x335d5d(0x526),_0x335d5d(0xec3)]};break;case _0x335d5d(0x8f5):_0x56c06d='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x371889+'\x20'+_0x5b2cc9+_0x335d5d(0x360)+_0x5569a9+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x10a2f9+'\x20'+simpleMathPrompt,_0x312959={'type':_0x335d5d(0xda2),'properties':{'questionText':{'type':_0x335d5d(0x9eb)},'idealAnswer':{'type':_0x335d5d(0x9eb)},'explanation':{'type':_0x335d5d(0x9eb)},'imageCode':{'type':_0x335d5d(0x9eb)}},'required':[_0x335d5d(0x912),_0x335d5d(0x9f1),'explanation']};break;case _0x335d5d(0xc5c):_0x56c06d=_0x335d5d(0x802)+_0x371889+'\x20'+_0x5b2cc9+_0x335d5d(0x360)+_0x5569a9+_0x335d5d(0xd8b)+_0x5b9518+_0x335d5d(0x937)+_0x10a2f9+'\x20'+simpleMathPrompt+_0x335d5d(0x9c0),_0x312959={'type':_0x335d5d(0xda2),'properties':{'questionText':{'type':_0x335d5d(0x9eb)},'questionType':{'type':_0x335d5d(0x9eb),'enum':['multiple_choice','short_answer']},'options':{'type':'ARRAY','items':{'type':_0x335d5d(0x9eb)}},'correctAnswerIndex':{'type':_0x335d5d(0xbb4)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x335d5d(0x9eb)},'imageCode':{'type':_0x335d5d(0x9eb)}},'required':[_0x335d5d(0x912),'questionType',_0x335d5d(0xec3)]};break;case _0x335d5d(0x35c):_0x56c06d=_0x335d5d(0x907)+_0x371889+'\x20'+_0x5b2cc9+_0x335d5d(0x360)+_0x5569a9+_0x335d5d(0x336)+_0x10a2f9+'\x20'+simpleMathPrompt,_0x312959={'type':_0x335d5d(0xda2),'properties':{'questionText':{'type':_0x335d5d(0x9eb)},'correctAnswer':{'type':_0x335d5d(0xe27)},'explanation':{'type':_0x335d5d(0x9eb)},'imageCode':{'type':_0x335d5d(0x9eb)}},'required':[_0x335d5d(0x912),_0x335d5d(0xec0),_0x335d5d(0xec3)]};break;case _0x335d5d(0xf06):_0x56c06d='สร้างชุดคำถามจับคู่'+_0x371889+'\x20'+_0x5b2cc9+_0x335d5d(0x90e)+_0x5569a9+_0x335d5d(0x711)+_0x5b2cc9+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x10a2f9+'\x20'+simpleMathPrompt,_0x312959={'type':_0x335d5d(0xda2),'properties':{'questionType':{'type':'STRING','enum':[_0x335d5d(0x440)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x335d5d(0xb83),'items':{'type':_0x335d5d(0x9eb)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x335d5d(0x9eb)}},'required':[_0x335d5d(0xb6d),'stem','correctResponse',_0x335d5d(0xa2e),'explanation']};break;}}const _0x53476f={'type':_0x335d5d(0xda2),'properties':{'topic':{'type':_0x335d5d(0x9eb)},'questions':{'type':_0x335d5d(0xb83),'items':_0x312959}},'required':[_0x335d5d(0x308),'questions']},_0x3e59fc=_0x335d5d(0xc20)+_0x56c06d,_0x282da6={'contents':[{'parts':[{'text':_0x3e59fc},{'inlineData':{'mimeType':_0x3d8813,'data':_0x1ef611}}]}],'generationConfig':{'responseMimeType':_0x335d5d(0x78a),'responseSchema':_0x53476f}};return handleApiCall(_0x282da6[_0x335d5d(0xdb1)][0x0][_0x335d5d(0x4d8)],_0x335d5d(0x71b),_0x53476f);}async function handleApiCall(_0x586075,_0x5efc63,_0x5be504,_0x5d1639=null,_0x5009fd=!![],_0x2d2a87=null,_0x219038=null){const _0x117c08=_0x2e2582,_0x48c602=document[_0x117c08(0x6ec)](_0x117c08(0x6c8)),_0x50e08e=document[_0x117c08(0x6ec)](_0x117c08(0x3e6)),_0x130b33=document['getElementById'](_0x117c08(0x350)),_0xd1ca77=document[_0x117c08(0x6ec)](_0x117c08(0x456));_0x48c602['classList']['remove'](_0x117c08(0x515));_0x5d1639===null&&_0x5009fd&&(_0xd1ca77[_0x117c08(0x674)]='');_0x50e08e[_0x117c08(0xed5)][_0x117c08(0xb8a)](_0x117c08(0x515)),_0x130b33[_0x117c08(0x337)]=_0x5efc63,document[_0x117c08(0x6ec)]('generate-from-topic-btn')[_0x117c08(0x736)]=!![],document[_0x117c08(0x6ec)](_0x117c08(0x359))[_0x117c08(0x736)]=!![],document[_0x117c08(0x6ec)](_0x117c08(0xbc9))[_0x117c08(0x736)]=!![];const _0x336d6b=document[_0x117c08(0x6ec)](_0x117c08(0x52f));if(_0x336d6b)_0x336d6b[_0x117c08(0x736)]=!![];const _0x52bc14=document[_0x117c08(0x6ec)](_0x117c08(0x601));if(_0x52bc14)_0x52bc14['disabled']=!![];const _0x50a297=document[_0x117c08(0x6ec)](_0x117c08(0x491));if(_0x50a297)_0x50a297['disabled']=!![];try{const _0x19740c=Array[_0x117c08(0x288)](_0x586075)?_0x586075:[{'text':_0x586075}],_0x1e974c={'contents':[{'role':_0x117c08(0xbd1),'parts':_0x19740c}]};_0x5be504&&(_0x1e974c[_0x117c08(0x999)]={'responseMimeType':_0x117c08(0x78a),'responseSchema':_0x5be504});const _0x460668=_0x117c08(0x884),_0x32d369=_0x117c08(0x821)+_0x460668,_0x16a3de=await fetch(_0x32d369,{'method':_0x117c08(0x616),'headers':{'Content-Type':_0x117c08(0x78a)},'body':JSON[_0x117c08(0x908)](_0x1e974c)});if(!_0x16a3de['ok']){const _0x119a32=await _0x16a3de[_0x117c08(0x566)]();console[_0x117c08(0x61c)]('API\x20Error\x20Response:',_0x119a32);throw new Error(_0x117c08(0xdd0)+_0x16a3de[_0x117c08(0x4dc)]);}const _0x5645ea=await _0x16a3de[_0x117c08(0x6b0)]();if(!_0x5645ea[_0x117c08(0xc1c)]||_0x5645ea[_0x117c08(0xc1c)][_0x117c08(0x83b)]===0x0){let _0x40e9ae=_0x117c08(0xac3);return _0x5645ea[_0x117c08(0xdd7)]?.[_0x117c08(0x578)]&&(_0x40e9ae='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x5645ea['promptFeedback'][_0x117c08(0x578)]+'.'),console[_0x117c08(0x61c)](_0x40e9ae,JSON[_0x117c08(0x908)](_0x5645ea)),null;}const _0x18cb98=_0x5645ea[_0x117c08(0xc1c)][0x0][_0x117c08(0x9fa)][_0x117c08(0x4d8)][0x0]['text'];if(_0x5be504){let _0x9c6f80=_0x18cb98;if(_0x9c6f80[_0x117c08(0xdb3)](_0x117c08(0xc70)))_0x9c6f80=_0x9c6f80[_0x117c08(0x497)](0x7,_0x9c6f80['length']-0x3)[_0x117c08(0xdd8)]();else _0x9c6f80[_0x117c08(0xdb3)]('```')&&(_0x9c6f80=_0x9c6f80[_0x117c08(0x497)](0x3,_0x9c6f80['length']-0x3)[_0x117c08(0xdd8)]());let _0x402c87=JSON[_0x117c08(0xbbc)](_0x9c6f80);if(_0x402c87[_0x117c08(0xa08)]&&Array['isArray'](_0x402c87[_0x117c08(0xa08)])){const _0x2e1f5c=_0x402c87[_0x117c08(0xa08)][_0x117c08(0xe4e)](_0x2b10cc=>_0x2b10cc[_0x117c08(0xb6d)]===_0x117c08(0x440));if(_0x2e1f5c[_0x117c08(0x83b)]>0x1){const _0x1b2d14=_0x2e1f5c[_0x117c08(0x91f)](_0x3700e1=>_0x3700e1[_0x117c08(0xc32)])['filter'](_0x354edd=>_0x354edd&&_0x354edd[_0x117c08(0xdd8)]()!=='');shuffleArray(_0x1b2d14),_0x2e1f5c[_0x117c08(0x9ce)](_0xa6e80=>{const _0x4bbec8=_0x117c08;_0xa6e80[_0x4bbec8(0xa2e)]=[..._0x1b2d14];}),console[_0x117c08(0xeec)](_0x117c08(0x228),_0x1b2d14);}}if(_0x5009fd){if(_0x5d1639!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x117c08(0xa08)]){}}else currentQuizData=_0x402c87,displayGeneratedQuiz(currentQuizData,_0x2d2a87,_0x219038);}return _0x402c87;}else return _0x18cb98;}catch(_0xc5a6e4){console[_0x117c08(0x61c)](_0x117c08(0x75c),_0xc5a6e4),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0xc5a6e4[_0x117c08(0x784)]);_0x5009fd&&(_0xd1ca77[_0x117c08(0x674)]=_0x117c08(0x21a));throw _0xc5a6e4;}finally{_0x50e08e[_0x117c08(0xed5)][_0x117c08(0xbca)]('hidden'),document[_0x117c08(0x6ec)](_0x117c08(0xacf))[_0x117c08(0x736)]=![],document['getElementById'](_0x117c08(0x359))['disabled']=![],document[_0x117c08(0x6ec)](_0x117c08(0xbc9))[_0x117c08(0x736)]=![];if(_0x336d6b)_0x336d6b['disabled']=![];if(_0x52bc14)_0x52bc14[_0x117c08(0x736)]=![];if(_0x50a297)_0x50a297['disabled']=![];}}function exitFullscreen(){const _0x58bc1c=_0x2e2582;if(document[_0x58bc1c(0x28d)])document[_0x58bc1c(0x28d)]()[_0x58bc1c(0x4ec)](_0x5cd86c=>console[_0x58bc1c(0x61c)](_0x5cd86c));else{if(document['webkitExitFullscreen'])document[_0x58bc1c(0x639)]();else document['msExitFullscreen']&&document[_0x58bc1c(0x78e)]();}}function enterFullscreen(){const _0x3f7785=_0x2e2582,_0x25e414=document['documentElement'];if(_0x25e414['requestFullscreen'])_0x25e414[_0x3f7785(0xcc0)]()[_0x3f7785(0x4ec)](_0x48613d=>{const _0x5b437d=_0x3f7785;console[_0x5b437d(0x61c)](_0x5b437d(0x94e)+_0x48613d[_0x5b437d(0x784)]+'\x20('+_0x48613d[_0x5b437d(0x47c)]+')');});else{if(_0x25e414[_0x3f7785(0x927)])_0x25e414['webkitRequestFullscreen']();else _0x25e414['msRequestFullscreen']&&_0x25e414[_0x3f7785(0x27f)]();}}function handleCheatingEvent(){const _0x110a96=_0x2e2582;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x110a96(0x614),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x110a96(0xab0)+maxCheatAttempts+_0x110a96(0x2b9)),document[_0x110a96(0x6ec)](_0x110a96(0x699))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener']('visibilitychange',handleVisibilityChange),document['removeEventListener'](_0x110a96(0x490),handleFullscreenChange)):showMessage(_0x110a96(0xadc)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x5c9589=_0x2e2582;if(currentMode===_0x5c9589(0x527)||!isQuizActive)return;if(document[_0x5c9589(0xb12)]===_0x5c9589(0x515))handleCheatingEvent();else document[_0x5c9589(0xb12)]===_0x5c9589(0x8a0)&&(console[_0x5c9589(0xeec)](_0x5c9589(0x651)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x5ac119=_0x2e2582;if(currentMode===_0x5ac119(0x527)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x96b586,_0x259ae1=null,_0x39f9dc=null){const _0x209378=_0x2e2582,_0x5a7f8d=document['getElementById'](_0x209378(0x456));let _0x51dd66=_0x209378(0xd24)+_0x96b586[_0x209378(0x308)]+_0x209378(0x325);_0x96b586[_0x209378(0xa08)]['forEach']((_0x2d5746,_0x133d91)=>{const _0x3ab8e6=_0x209378;!_0x2d5746['id']&&(_0x2d5746['id']='q_'+Date['now']()+'_'+_0x133d91);const _0x5bc7d8=_0x2d5746[_0x3ab8e6(0xb6d)]||_0x96b586[_0x3ab8e6(0x80d)];_0x51dd66+=_0x3ab8e6(0x9da)+_0x133d91+_0x3ab8e6(0x7c4)+_0x133d91+_0x3ab8e6(0xb9e)+_0x133d91+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x5bc7d8===_0x3ab8e6(0x440)?_0x51dd66+=_0x3ab8e6(0xd9e)+_0x133d91+'\x22>'+(_0x133d91+0x1)+'.\x20'+_0x2d5746[_0x3ab8e6(0x71c)]+'</p>':_0x51dd66+=_0x3ab8e6(0xd9e)+_0x133d91+'\x22>'+(_0x133d91+0x1)+'.\x20'+_0x2d5746[_0x3ab8e6(0x912)]+_0x3ab8e6(0x895);_0x2d5746[_0x3ab8e6(0xde8)]&&(_0x51dd66+=_0x3ab8e6(0x3f2)+_0x133d91+_0x3ab8e6(0x273)+_0x2d5746[_0x3ab8e6(0xde8)]+_0x3ab8e6(0x4f3));if(_0x2d5746[_0x3ab8e6(0x25f)]&&Array[_0x3ab8e6(0x288)](_0x2d5746['options'])&&_0x2d5746[_0x3ab8e6(0x25f)][_0x3ab8e6(0x83b)]>0x0)_0x51dd66+=_0x3ab8e6(0xb96)+_0x133d91+_0x3ab8e6(0xa87)+_0x2d5746[_0x3ab8e6(0x25f)][_0x3ab8e6(0x91f)]((_0x21ebaf,_0x229faf)=>_0x3ab8e6(0xe05)+(_0x229faf===_0x2d5746['correctAnswerIndex']?'text-green-600\x20font-bold':'')+'\x22>'+_0x21ebaf+_0x3ab8e6(0x918))[_0x3ab8e6(0x8c3)]('')+_0x3ab8e6(0xae0);else{if(_0x5bc7d8===_0x3ab8e6(0x440)||_0x2d5746[_0x3ab8e6(0xc32)])_0x51dd66+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x133d91+'\x22>'+_0x2d5746[_0x3ab8e6(0xc32)]+'</span></div>';else{if(_0x5bc7d8===_0x3ab8e6(0x35c)||typeof _0x2d5746[_0x3ab8e6(0xec0)]===_0x3ab8e6(0xa3f))_0x51dd66+=_0x3ab8e6(0x94b)+(_0x2d5746[_0x3ab8e6(0xec0)]===!![]?_0x3ab8e6(0x1f8):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x2d5746['correctAnswer']===![]?_0x3ab8e6(0x1f8):'')+_0x3ab8e6(0x25d);else _0x2d5746['idealAnswer']?_0x51dd66+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x133d91+'\x22>'+_0x2d5746[_0x3ab8e6(0x9f1)]+'</span></div>':_0x51dd66+='<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>';}}_0x51dd66+=_0x3ab8e6(0x51f)+_0x133d91+'\x22>'+_0x2d5746[_0x3ab8e6(0xec3)]+_0x3ab8e6(0xa24),_0x51dd66+=_0x3ab8e6(0x4f3);}),_0x51dd66+=_0x209378(0xb33),_0x5a7f8d[_0x209378(0x674)]=_0x51dd66,document['querySelectorAll'](_0x209378(0x7ab))[_0x209378(0x9ce)](_0x15ef1d=>_0x15ef1d['addEventListener'](_0x209378(0x7b0),handleEditQuestion)),document[_0x209378(0xcf1)](_0x209378(0xb68))[_0x209378(0x9ce)](_0x2782d4=>_0x2782d4[_0x209378(0x504)](_0x209378(0x7b0),handleRegenerateQuestion)),document['getElementById']('export-worksheet-pdf-btn')[_0x209378(0x504)](_0x209378(0x7b0),exportQuizAsWorksheetPDF),document[_0x209378(0x6ec)](_0x209378(0xc06))['addEventListener'](_0x209378(0x7b0),handleVerifyAnswers);const _0x30d756=document['getElementById'](_0x209378(0xbde));if(_0x30d756){const _0xb7659=_0x259ae1||currentProjectId;_0x30d756[_0x209378(0x504)](_0x209378(0x7b0),()=>saveQuiz(_0xb7659,_0x39f9dc));}if(window['MathJax'])window[_0x209378(0xef3)][_0x209378(0x396)]([_0x5a7f8d]);}function handleRegenerateQuestion(_0x47432c){const _0x455988=_0x2e2582,_0x7791f4=_0x47432c[_0x455988(0x968)][_0x455988(0x261)][_0x455988(0x7f2)],_0x2cff69=currentQuizData[_0x455988(0x308)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x7791f4)+0x1)+_0x455988(0x290)),generateQuiz(_0x2cff69,null,parseInt(_0x7791f4));}function getPointerPosition(_0x241005,_0xc78209){const _0x3375cf=_0x2e2582,_0x15e9ca=_0x241005[_0x3375cf(0x776)]();let _0x32a2a5,_0x493c6b;return _0xc78209[_0x3375cf(0xa39)]&&_0xc78209['touches'][_0x3375cf(0x83b)]>0x0?(_0x32a2a5=_0xc78209[_0x3375cf(0xa39)][0x0][_0x3375cf(0xd16)],_0x493c6b=_0xc78209['touches'][0x0][_0x3375cf(0xccc)]):(_0x32a2a5=_0xc78209[_0x3375cf(0xd16)],_0x493c6b=_0xc78209[_0x3375cf(0xccc)]),{'x':(_0x32a2a5-_0x15e9ca['e'])/_0x15e9ca['a'],'y':(_0x493c6b-_0x15e9ca['f'])/_0x15e9ca['d']};}function startDrag(_0xf60001){const _0x5947ba=_0x2e2582;_0xf60001[_0x5947ba(0xae4)]===_0x5947ba(0xbe0)&&_0xf60001['preventDefault']();const _0xb08d74=_0xf60001[_0x5947ba(0x8dd)][_0x5947ba(0x366)](_0x5947ba(0x594));if(_0xb08d74){draggedSvgElement=_0xb08d74;const _0x49f5b1=draggedSvgElement[_0x5947ba(0xac6)],_0x14c8e8=getPointerPosition(_0x49f5b1,_0xf60001);svgOffset['x']=_0x14c8e8['x']-parseFloat(draggedSvgElement[_0x5947ba(0x445)](null,'x')),svgOffset['y']=_0x14c8e8['y']-parseFloat(draggedSvgElement[_0x5947ba(0x445)](null,'y'));}}function calculateItemAnalysis(_0x27324c,_0x1c1aaf){const _0x5427ff=_0x2e2582,_0x46e740={};if(_0x1c1aaf[_0x5427ff(0x83b)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x44b30a=[..._0x1c1aaf]['sort']((_0x382e1,_0xf907a3)=>{const _0x16b60d=_0x5427ff,_0x16061c=_0xf907a3[_0x16b60d(0xcc3)]-_0x382e1['latestScore'];if(_0x16061c!==0x0)return _0x16061c;const _0xa2233a=_0x382e1['attempts']?.[_0x16b60d(0x83b)]||0x1,_0x21caa0=_0xf907a3['attempts']?.[_0x16b60d(0x83b)]||0x1,_0x322beb=_0xa2233a-_0x21caa0;if(_0x322beb!==0x0)return _0x322beb;const _0x7375e5=new Date(_0x382e1[_0x16b60d(0x7e7)]),_0x59ca11=new Date(_0xf907a3[_0x16b60d(0x7e7)]),_0x6f114f=_0x7375e5-_0x59ca11;if(_0x6f114f!==0x0)return _0x6f114f;return _0x382e1['studentName'][_0x16b60d(0x6e9)](_0xf907a3['studentName'],'th');}),_0x3ae490=_0x44b30a[_0x5427ff(0x83b)],_0x365d5c=Math[_0x5427ff(0xd94)](0x1,Math[_0x5427ff(0xabc)](_0x3ae490*0.33));if(_0x365d5c===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4f9512=_0x44b30a[_0x5427ff(0xcb7)](0x0,_0x365d5c),_0x42ccb2=_0x44b30a[_0x5427ff(0xcb7)](-_0x365d5c),_0x890e4b=_0x4f9512[_0x5427ff(0x91f)](_0x3c5bd4=>_0x3c5bd4[_0x5427ff(0xba6)]),_0x5d886b=_0x42ccb2[_0x5427ff(0x91f)](_0x2ff47c=>_0x2ff47c[_0x5427ff(0xba6)]);return _0x27324c[_0x5427ff(0xa08)]['forEach']((_0x4309ec,_0x1565ed)=>{const _0x34bfda=_0x5427ff,_0x540861=_0x4309ec['stem']||_0x4309ec['questionText'];let _0x2c29de=0x0,_0x3ecb04=0x0,_0x13e7e1=0x0;const _0x5366c8=[],_0x47c079=[];_0x4f9512[_0x34bfda(0x9ce)](_0x2b3717=>{const _0x70aa13=_0x34bfda,_0x4e708b=_0x2b3717[_0x70aa13(0x3ea)][_0x2b3717[_0x70aa13(0x3ea)][_0x70aa13(0x83b)]-0x1],_0x1483ba=_0x4e708b['answers'][_0x70aa13(0x426)](_0x4efa40=>_0x4efa40[_0x70aa13(0x2ae)]===_0x540861);_0x5366c8['push']({'name':_0x2b3717[_0x70aa13(0xba6)],'isCorrect':_0x1483ba?_0x1483ba['isCorrect']:![]}),_0x1483ba&&_0x1483ba[_0x70aa13(0x33c)]&&_0x3ecb04++;}),_0x42ccb2[_0x34bfda(0x9ce)](_0x52c43c=>{const _0x1ed5ee=_0x34bfda,_0x15c6fe=_0x52c43c['attempts'][_0x52c43c['attempts'][_0x1ed5ee(0x83b)]-0x1],_0x50e238=_0x15c6fe['answers'][_0x1ed5ee(0x426)](_0x1826f9=>_0x1826f9['originalQuestionText']===_0x540861);_0x47c079['push']({'name':_0x52c43c['studentName'],'isCorrect':_0x50e238?_0x50e238[_0x1ed5ee(0x33c)]:![]}),_0x50e238&&_0x50e238[_0x1ed5ee(0x33c)]&&_0x13e7e1++;}),_0x1c1aaf[_0x34bfda(0x9ce)](_0x592434=>{const _0x153a54=_0x34bfda,_0x14d837=_0x592434[_0x153a54(0x3ea)][_0x592434[_0x153a54(0x3ea)][_0x153a54(0x83b)]-0x1],_0x5b9396=_0x14d837['answers']['find'](_0x31ed39=>_0x31ed39['originalQuestionText']===_0x540861);_0x5b9396&&_0x5b9396[_0x153a54(0x33c)]&&_0x2c29de++;});const _0x75cc2f=_0x3ae490>0x0?_0x2c29de/_0x3ae490:0x0,_0x785632=_0x365d5c>0x0?_0x3ecb04/_0x365d5c-_0x13e7e1/_0x365d5c:0x0;_0x46e740[_0x1565ed]={'p':_0x75cc2f,'r':_0x785632,'upperGroupResponders':_0x5366c8,'lowerGroupResponders':_0x47c079};}),{'perQuestionStats':_0x46e740,'overallGroups':{'upperGroupNames':_0x890e4b,'lowerGroupNames':_0x5d886b}};}function drag(_0x593893){const _0x1dd17d=_0x2e2582;if(draggedSvgElement){_0x593893[_0x1dd17d(0xf44)]();const _0x2d6b1a=draggedSvgElement['ownerSVGElement'],_0x3244fd=getPointerPosition(_0x2d6b1a,_0x593893),_0x97cef9=_0x2d6b1a[_0x1dd17d(0x5b5)][_0x1dd17d(0x7a8)];let _0x4855b2=_0x3244fd['x']-svgOffset['x'],_0x2384a2=_0x3244fd['y']-svgOffset['y'];const _0x13657d=draggedSvgElement[_0x1dd17d(0xe0f)]();_0x4855b2=Math['max'](_0x97cef9['x'],Math[_0x1dd17d(0x505)](_0x4855b2,_0x97cef9['x']+_0x97cef9['width']-_0x13657d[_0x1dd17d(0x950)])),_0x2384a2=Math[_0x1dd17d(0xd94)](_0x97cef9['y'],Math['min'](_0x2384a2,_0x97cef9['y']+_0x97cef9['height']-_0x13657d[_0x1dd17d(0xc77)])),draggedSvgElement[_0x1dd17d(0xafe)](null,'x',_0x4855b2),draggedSvgElement[_0x1dd17d(0xafe)](null,'y',_0x2384a2);}}function endDrag(_0x2de525){draggedSvgElement=null;}function handleSvgEditClick(_0x11dec0){const _0x2806f0=_0x2e2582;if(_0x11dec0[_0x2806f0(0x8dd)][_0x2806f0(0xed5)]['contains'](_0x2806f0(0x62b))){const _0x27c84f=_0x11dec0[_0x2806f0(0x8dd)][_0x2806f0(0x261)][_0x2806f0(0xcea)],_0x1299d2=_0x11dec0['currentTarget'],_0x58d1ba=_0x1299d2['querySelector']('#'+_0x27c84f);_0x58d1ba&&_0x58d1ba[_0x2806f0(0xb8a)](),_0x11dec0['target']['remove']();}}function handleEditQuestion(_0x34af55){const _0x1efada=_0x2e2582,_0x1ba820=_0x34af55[_0x1efada(0x968)],_0x3bde4c=_0x1ba820[_0x1efada(0x261)][_0x1efada(0x7f2)],_0x22dbd0=currentQuizData[_0x1efada(0xa08)][_0x3bde4c],_0x179821=document[_0x1efada(0x6ec)](_0x1efada(0x721)+_0x3bde4c),_0x4972ce=document['getElementById'](_0x1efada(0xba8)+_0x3bde4c),_0x363ac5=document['getElementById']('q-image-container-'+_0x3bde4c);if(_0x1ba820[_0x1efada(0x674)]['includes'](_0x1efada(0x905))){_0x1ba820[_0x1efada(0x674)]=_0x1efada(0xe16),_0x1ba820[_0x1efada(0x247)]=_0x1efada(0xa68);if(_0x179821)_0x179821[_0x1efada(0x61d)]=!![];if(_0x4972ce)_0x4972ce[_0x1efada(0x61d)]=!![];if(_0x363ac5){const _0x3784cd=_0x363ac5[_0x1efada(0x427)]('svg');if(_0x3784cd){const _0x1f6910=_0x3784cd[_0x1efada(0xcf1)](_0x1efada(0x566));_0x1f6910[_0x1efada(0x9ce)]((_0x414719,_0x32fa29)=>{const _0x5601b0=_0x1efada,_0x193ba8=_0x5601b0(0x209)+_0x3bde4c+'-'+_0x32fa29;_0x414719['id']=_0x193ba8,_0x414719['classList'][_0x5601b0(0xbca)](_0x5601b0(0xebf)),_0x414719['style'][_0x5601b0(0x42c)]=_0x5601b0(0x979);const _0x6b76e6=document['createElementNS'](_0x5601b0(0x530),_0x5601b0(0xb3f)),_0x16a9b5=_0x414719[_0x5601b0(0xe0f)]();_0x6b76e6[_0x5601b0(0xccb)]('cx',String(_0x16a9b5['x']+_0x16a9b5[_0x5601b0(0x950)]+0x5)),_0x6b76e6[_0x5601b0(0xccb)]('cy',String(_0x16a9b5['y']+_0x16a9b5[_0x5601b0(0xc77)]/0x2-0x5)),_0x6b76e6['setAttribute']('r','5'),_0x6b76e6[_0x5601b0(0xccb)](_0x5601b0(0x4bf),_0x5601b0(0x913)),_0x6b76e6[_0x5601b0(0xccb)](_0x5601b0(0x475),_0x5601b0(0x62b)),_0x6b76e6[_0x5601b0(0x261)][_0x5601b0(0xcea)]=_0x193ba8,_0x414719[_0x5601b0(0xc65)](_0x6b76e6);}),_0x3784cd[_0x1efada(0x504)](_0x1efada(0x5d3),startDrag),_0x3784cd[_0x1efada(0x504)](_0x1efada(0xe1a),drag),_0x3784cd[_0x1efada(0x504)](_0x1efada(0x2f8),endDrag),_0x3784cd[_0x1efada(0x504)](_0x1efada(0xbd8),endDrag),_0x3784cd['addEventListener'](_0x1efada(0xbe0),startDrag,{'passive':![]}),_0x3784cd[_0x1efada(0x504)]('touchmove',drag,{'passive':![]}),_0x3784cd[_0x1efada(0x504)](_0x1efada(0x9ab),endDrag),_0x3784cd[_0x1efada(0x504)](_0x1efada(0x43a),endDrag),_0x3784cd[_0x1efada(0x504)](_0x1efada(0x7b0),handleSvgEditClick);}}if(_0x179821)_0x179821['focus']();}else{_0x1ba820[_0x1efada(0x674)]=_0x1efada(0x405),_0x1ba820['title']='แก้ไขข้อนี้';if(_0x179821){_0x179821[_0x1efada(0x61d)]=![];const _0x38ae0b=_0x22dbd0[_0x1efada(0xb6d)]||currentQuizData[_0x1efada(0x80d)];_0x38ae0b===_0x1efada(0x440)?_0x22dbd0['stem']=_0x179821['innerText'][_0x1efada(0x497)](_0x179821['innerText'][_0x1efada(0x3b3)]('.')+0x2)[_0x1efada(0xdd8)]():_0x22dbd0[_0x1efada(0x912)]=_0x179821['innerText'][_0x1efada(0x497)](_0x179821[_0x1efada(0xd58)][_0x1efada(0x3b3)]('.')+0x2)[_0x1efada(0xdd8)]();}_0x4972ce&&(_0x4972ce['contentEditable']=![],_0x22dbd0[_0x1efada(0xec3)]=_0x4972ce[_0x1efada(0xd58)]);if(_0x363ac5){const _0x2a3dcb=_0x363ac5[_0x1efada(0x427)]('svg');if(_0x2a3dcb){const _0x4d87d8=_0x2a3dcb[_0x1efada(0xd56)](!![]);_0x4d87d8[_0x1efada(0xcf1)]('.delete-svg-btn')[_0x1efada(0x9ce)](_0x130c3c=>_0x130c3c[_0x1efada(0xb8a)]()),_0x4d87d8['querySelectorAll'](_0x1efada(0x594))[_0x1efada(0x9ce)](_0x4f4ee8=>{const _0x55827b=_0x1efada;_0x4f4ee8[_0x55827b(0xed5)][_0x55827b(0xb8a)](_0x55827b(0xebf)),_0x4f4ee8[_0x55827b(0xdb7)]['cursor']=_0x55827b(0x6b9),_0x4f4ee8['removeAttribute']('id');}),_0x22dbd0[_0x1efada(0xde8)]=_0x4d87d8[_0x1efada(0xabd)],_0x2a3dcb[_0x1efada(0x637)](_0x1efada(0x5d3),startDrag),_0x2a3dcb[_0x1efada(0x637)](_0x1efada(0xe1a),drag),_0x2a3dcb['removeEventListener']('mouseup',endDrag),_0x2a3dcb['removeEventListener']('mouseleave',endDrag),_0x2a3dcb[_0x1efada(0x637)](_0x1efada(0xbe0),startDrag),_0x2a3dcb[_0x1efada(0x637)](_0x1efada(0x208),drag),_0x2a3dcb[_0x1efada(0x637)](_0x1efada(0x9ab),endDrag),_0x2a3dcb[_0x1efada(0x637)]('touchcancel',endDrag),_0x2a3dcb[_0x1efada(0x637)](_0x1efada(0x7b0),handleSvgEditClick),_0x2a3dcb[_0x1efada(0xcf1)](_0x1efada(0xa9b))['forEach'](_0x4b44f1=>_0x4b44f1[_0x1efada(0xb8a)]()),_0x2a3dcb['querySelectorAll'](_0x1efada(0x594))[_0x1efada(0x9ce)](_0x25f954=>{const _0x2c038a=_0x1efada;_0x25f954[_0x2c038a(0xed5)]['remove'](_0x2c038a(0xebf)),_0x25f954[_0x2c038a(0xdb7)][_0x2c038a(0x42c)]=_0x2c038a(0x6b9);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x16d4ad){const _0x2d8a70=_0x2e2582,_0x36a904=document[_0x2d8a70(0x6ec)](_0x2d8a70(0xe61)),_0x485269=document[_0x2d8a70(0x6ec)](_0x2d8a70(0x4c5));_0x485269[_0x2d8a70(0x674)]=_0x2d8a70(0xc4c),_0x36a904[_0x2d8a70(0xed5)][_0x2d8a70(0xb8a)](_0x2d8a70(0x515));try{const _0x565d7e=doc(db,_0x2d8a70(0x509)+appId+_0x2d8a70(0x2d1),_0x16d4ad),_0xfd9e17=await getDoc(_0x565d7e);if(!_0xfd9e17[_0x2d8a70(0xa82)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x16d4ad,..._0xfd9e17['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x325c14){console[_0x2d8a70(0x61c)](_0x2d8a70(0x326),_0x325c14),showMessage(_0x2d8a70(0xe0b)),_0x36a904[_0x2d8a70(0xed5)]['add']('hidden');}}function renderQuizEditor(_0x58c601){const _0x50ae7b=_0x2e2582;document['getElementById']('editor-quiz-topic')['value']=_0x58c601['topic'];const _0x491575=document[_0x50ae7b(0x6ec)](_0x50ae7b(0x4c5));let _0x574d92=_0x58c601[_0x50ae7b(0xa08)]['map']((_0x27cb64,_0x510320)=>{const _0x58e037=_0x50ae7b;let _0x246e18='';const _0x346571=_0x27cb64[_0x58e037(0xb6d)]||_0x58c601[_0x58e037(0x80d)],_0x4e874e=(_0x346571==='short_answer'||_0x346571==='fill_in_no_choices')&&_0x27cb64['options']&&_0x27cb64['options'][_0x58e037(0x83b)]>0x0;switch(_0x346571){case _0x58e037(0xbb3):const _0x3e7ede=(_0x27cb64[_0x58e037(0x25f)]||[])[_0x58e037(0x91f)]((_0x46e82b,_0x5670dd)=>_0x58e037(0xda3)+_0x510320+_0x58e037(0x8e0)+_0x5670dd+'\x22\x20'+(_0x5670dd===_0x27cb64[_0x58e037(0x526)]?_0x58e037(0xa0a):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x46e82b+_0x58e037(0xe3b))[_0x58e037(0x8c3)]('');_0x246e18=_0x58e037(0xa58)+_0x3e7ede+_0x58e037(0x34d);break;case _0x58e037(0x8f5):case _0x58e037(0x466):_0x246e18='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x27cb64['idealAnswer']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x4e874e){const _0x50a770=(_0x27cb64[_0x58e037(0x25f)]||[])[_0x58e037(0x91f)]((_0x3c0d2a,_0x4ba766)=>_0x58e037(0xcc7)+_0x510320+_0x58e037(0x8e0)+_0x4ba766+'\x22\x20'+(_0x4ba766===_0x27cb64[_0x58e037(0x526)]?_0x58e037(0xa0a):'')+_0x58e037(0xd4a)+_0x3c0d2a+_0x58e037(0x870))[_0x58e037(0x8c3)]('');_0x246e18+=_0x58e037(0xd43)+_0x50a770+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}break;case _0x58e037(0x35c):_0x246e18=_0x58e037(0xbee)+_0x510320+_0x58e037(0x3b1)+(_0x27cb64[_0x58e037(0xec0)]===!![]?_0x58e037(0xa0a):'')+_0x58e037(0x20f)+_0x510320+_0x58e037(0xef1)+(_0x27cb64[_0x58e037(0xec0)]===![]?_0x58e037(0xa0a):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x58e037(0x440):_0x246e18='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x27cb64['correctResponse']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}let _0x7a6366=_0x27cb64[_0x58e037(0x912)]||_0x27cb64[_0x58e037(0x71c)]||'';_0x7a6366=_0x7a6366['replace'](/<br\s*\/?>/gi,'\x0a');let _0x3d4918='';if(_0x346571===_0x58e037(0xbb3))_0x3d4918=_0x58e037(0x1fd);else _0x4e874e&&(_0x3d4918=_0x58e037(0x4f7));return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x510320+_0x58e037(0x56a)+_0x346571+'\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d4918+'\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x510320+0x1)+'\x20('+_0x346571+_0x58e037(0x9e0)+_0x7a6366+'</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x246e18+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x491575[_0x50ae7b(0x674)]=_0x574d92;const _0x381181=_0x50ae7b(0x287);_0x491575[_0x50ae7b(0xc88)]('beforeend',_0x381181),_0x491575['querySelectorAll'](_0x50ae7b(0x3e5))[_0x50ae7b(0x9ce)](_0x48f154=>{const _0x45dbcb=_0x50ae7b;_0x48f154[_0x45dbcb(0xdb7)][_0x45dbcb(0x9d5)]=_0x45dbcb(0x515),_0x48f154['style'][_0x45dbcb(0x312)]=_0x45dbcb(0x6ce),_0x48f154[_0x45dbcb(0xd14)]=0x4;const _0x57fda9=()=>{const _0x468919=_0x45dbcb;_0x48f154['style']['height']='auto',_0x48f154[_0x468919(0xdb7)][_0x468919(0xc77)]=_0x48f154[_0x468919(0x759)]+'px';};_0x48f154['addEventListener']('input',_0x57fda9),_0x57fda9();}),_0x491575['querySelectorAll'](_0x50ae7b(0x838))['forEach'](_0x61b638=>{const _0x4931f6=_0x50ae7b;_0x61b638[_0x4931f6(0x504)](_0x4931f6(0x7b0),handleAiFixQuestion);}),_0x491575[_0x50ae7b(0xcf1)](_0x50ae7b(0x604))['forEach'](_0x205171=>{const _0x38ff45=_0x50ae7b;_0x205171[_0x38ff45(0x504)](_0x38ff45(0x7b0),_0x1475df=>{const _0x2713aa=_0x38ff45,_0x581f70=parseInt(_0x1475df[_0x2713aa(0x968)][_0x2713aa(0x366)](_0x2713aa(0x262))[_0x2713aa(0x261)][_0x2713aa(0x5d8)],0xa);handleAiFixFormula(_0x581f70);});}),_0x491575[_0x50ae7b(0xcf1)]('.toggle-hidden-options-btn')[_0x50ae7b(0x9ce)](_0xd18c58=>{_0xd18c58['addEventListener']('click',_0x4c4cd5=>{const _0x4de462=_0x5f2f,_0x5b30b2=parseInt(_0x4c4cd5[_0x4de462(0x968)][_0x4de462(0x366)](_0x4de462(0x262))[_0x4de462(0x261)][_0x4de462(0x5d8)],0xa);handleToggleHiddenOptions(_0x5b30b2);});});}function handleToggleHiddenOptions(_0x333d25){const _0x20aaa0=_0x2e2582;if(!currentEditingQuizData||!currentEditingQuizData['questions'][_0x333d25])return;const _0x210e85=currentEditingQuizData['questions'][_0x333d25],_0x65e28f=_0x210e85[_0x20aaa0(0xb6d)]||_0x20aaa0(0xbb3),_0x34c944=document[_0x20aaa0(0x427)]('.question-editor-item[data-q-index=\x22'+_0x333d25+'\x22]');if(_0x34c944){_0x210e85[_0x20aaa0(0x912)]=_0x34c944[_0x20aaa0(0x427)](_0x20aaa0(0xf4a))[_0x20aaa0(0x8c2)];if(_0x65e28f===_0x20aaa0(0xbb3)){const _0x4e4822=_0x34c944['querySelectorAll']('.option-input');_0x210e85[_0x20aaa0(0x25f)]=Array[_0x20aaa0(0x30a)](_0x4e4822)[_0x20aaa0(0x91f)](_0xc746b6=>_0xc746b6['value']);const _0x3f4619=_0x34c944[_0x20aaa0(0x427)](_0x20aaa0(0x567));if(_0x3f4619)_0x210e85['correctAnswerIndex']=parseInt(_0x3f4619[_0x20aaa0(0x8c2)]);}else{if(_0x65e28f==='short_answer'||_0x65e28f===_0x20aaa0(0x8f5)){const _0x3a31ee=_0x34c944[_0x20aaa0(0x427)](_0x20aaa0(0x81e));if(_0x3a31ee)_0x210e85[_0x20aaa0(0x9f1)]=_0x3a31ee['value'];const _0x2e5beb=_0x34c944[_0x20aaa0(0xcf1)](_0x20aaa0(0x5f6));_0x2e5beb[_0x20aaa0(0x83b)]>0x0&&(_0x210e85[_0x20aaa0(0x25f)]=Array[_0x20aaa0(0x30a)](_0x2e5beb)['map'](_0x21ffa0=>_0x21ffa0[_0x20aaa0(0x8c2)]));}}}_0x65e28f===_0x20aaa0(0xbb3)?(_0x210e85[_0x20aaa0(0xb6d)]=_0x20aaa0(0x466),_0x210e85[_0x20aaa0(0x25f)]&&_0x210e85[_0x20aaa0(0x526)]!==undefined&&(_0x210e85[_0x20aaa0(0x9f1)]=_0x210e85[_0x20aaa0(0x25f)][_0x210e85[_0x20aaa0(0x526)]]||'')):_0x210e85['questionType']=_0x20aaa0(0xbb3),renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x387e5f){const _0xe40336=_0x2e2582;if(!currentEditingQuizData||!currentEditingQuizData[_0xe40336(0xa08)][_0x387e5f])return;const _0xe9750a=currentEditingQuizData['questions'][_0x387e5f][_0xe40336(0x912)]||currentEditingQuizData['questions'][_0x387e5f][_0xe40336(0x71c)];showConfirmation(_0xe40336(0x229)+(_0x387e5f+0x1)+_0xe40336(0x9e7)+_0xe9750a[_0xe40336(0x497)](0x0,0x14)+_0xe40336(0x696),()=>{const _0x4ff4be=_0xe40336;currentEditingQuizData[_0x4ff4be(0xa08)][_0x4ff4be(0x4de)](_0x387e5f,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x4ff4be(0x2b3));});}function handleAddQuestionInEditor(){const _0x1d1306=_0x2e2582;if(!currentEditingQuizData)return;const _0x79a29f=document[_0x1d1306(0x6ec)](_0x1d1306(0xf27)),_0x3a0cb6=_0x79a29f?_0x79a29f[_0x1d1306(0x8c2)]:_0x1d1306(0xbb3);let _0x3e6791={'id':'q_'+Date['now']()+_0x1d1306(0x782),'questionType':_0x3a0cb6,'questionText':_0x1d1306(0xb37),'explanation':_0x1d1306(0xe18)};switch(_0x3a0cb6){case'multiple_choice':_0x3e6791[_0x1d1306(0x25f)]=[_0x1d1306(0x8f6),_0x1d1306(0x7ec),'ตัวเลือก\x20ค','ตัวเลือก\x20ง'],_0x3e6791[_0x1d1306(0x526)]=0x0;break;case _0x1d1306(0x466):case _0x1d1306(0x8f5):_0x3e6791[_0x1d1306(0x9f1)]=_0x1d1306(0x76e);break;case _0x1d1306(0x35c):_0x3e6791[_0x1d1306(0xec0)]=!![];break;case'matching_item':_0x3e6791['stem']='คำถาม...',_0x3e6791[_0x1d1306(0xc32)]=_0x1d1306(0x40c),_0x3e6791[_0x1d1306(0x912)]=_0x1d1306(0xd96);break;}currentEditingQuizData['questions']['push'](_0x3e6791),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x59c183=_0x1d1306,_0x4d19e8=document[_0x59c183(0x427)]('.question-editor-item:last-of-type');if(_0x4d19e8){_0x4d19e8[_0x59c183(0x4e9)]({'behavior':_0x59c183(0x516),'block':_0x59c183(0x8f4)});const _0x26e499=_0x4d19e8[_0x59c183(0x427)](_0x59c183(0xf4a));if(_0x26e499)_0x26e499[_0x59c183(0x1f2)]();}},0x64);}async function handleAiFixQuestion(_0x2b75e0){const _0x59af69=_0x2e2582,_0x5a45ed=_0x2b75e0[_0x59af69(0x968)],_0xd93691=_0x5a45ed[_0x59af69(0x366)](_0x59af69(0x262));if(!_0xd93691)return;const _0x1214ae=parseInt(_0xd93691[_0x59af69(0x261)][_0x59af69(0x5d8)],0xa);if(isNaN(_0x1214ae)||!currentEditingQuizData[_0x59af69(0xa08)][_0x1214ae]){showMessage(_0x59af69(0xde3));return;}const _0x2a6d78=currentEditingQuizData[_0x59af69(0xa08)][_0x1214ae];_0x5a45ed[_0x59af69(0x674)]=_0x59af69(0xaad),_0x5a45ed['disabled']=!![];const _0x465d4e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON[_0x59af69(0x908)](_0x2a6d78)+_0x59af69(0xee0);let _0x55be2b;const _0x258b69=_0x2a6d78[_0x59af69(0xb6d)]||currentEditingQuizData[_0x59af69(0x80d)];switch(_0x258b69){case _0x59af69(0x466):_0x55be2b={'type':_0x59af69(0xda2),'properties':{'questionText':{'type':_0x59af69(0x9eb)},'idealAnswer':{'type':_0x59af69(0x9eb)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x59af69(0x9eb)}},'required':['questionText',_0x59af69(0x9f1),_0x59af69(0xec3)]};break;case _0x59af69(0xbb3):default:_0x55be2b={'type':'OBJECT','properties':{'questionText':{'type':_0x59af69(0x9eb)},'options':{'type':_0x59af69(0xb83),'items':{'type':_0x59af69(0x9eb)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x59af69(0x9eb)},'imageCode':{'type':_0x59af69(0x9eb)}},'required':[_0x59af69(0x912),_0x59af69(0x25f),'correctAnswerIndex',_0x59af69(0xec3)]};break;}try{let _0x404375=await callAnalysisApi(_0x465d4e,_0x55be2b);_0x404375[_0x59af69(0x25f)]&&Array[_0x59af69(0x288)](_0x404375['options'])&&(_0x404375[_0x59af69(0x25f)]=_0x404375[_0x59af69(0x25f)]['map'](_0x54c06d=>typeof _0x54c06d===_0x59af69(0xa9c)?_0x54c06d[_0x59af69(0x3cc)](/S(\s*[\d_]+?\s*)S/g,_0x59af69(0x1ce)):_0x54c06d)),_0x2a6d78[_0x59af69(0xde8)]&&_0x2a6d78[_0x59af69(0xde8)][_0x59af69(0x9ee)](_0x59af69(0xbbe))&&(_0x404375['imageCode']=''),currentEditingQuizData[_0x59af69(0xa08)][_0x1214ae]={..._0x2a6d78,..._0x404375},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x3f21ab){console['error'](_0x59af69(0x296),_0x3f21ab),showMessage(_0x59af69(0xd34)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x19eefd=_0x2e2582,_0x5ba8b3=document['getElementById'](_0x19eefd(0x356));_0x5ba8b3[_0x19eefd(0x736)]=!![],_0x5ba8b3['innerHTML']=_0x19eefd(0xdad);try{const _0x2df02c=document['getElementById']('editor-quiz-topic')[_0x19eefd(0x8c2)],_0x541f62=document[_0x19eefd(0xcf1)](_0x19eefd(0x262));let _0x9a401d=[];const _0x1e8353=Array['from'](_0x541f62)[_0x19eefd(0x91f)]((_0x53df18,_0x2f5896)=>{const _0x38ac8f=_0x19eefd,_0x3fd260=_0x53df18[_0x38ac8f(0x261)][_0x38ac8f(0x33a)],_0x527e0d=_0x53df18['querySelector'](_0x38ac8f(0xf4a))[_0x38ac8f(0x8c2)]['replace'](/\n/g,'<br>');let _0x54bce8={'questionType':_0x3fd260};const _0x403790=currentEditingQuizData[_0x38ac8f(0xa08)][_0x2f5896]||{};switch(_0x3fd260){case _0x38ac8f(0xbb3):_0x54bce8['questionText']=_0x527e0d;const _0x5527ec=_0x53df18['querySelectorAll'](_0x38ac8f(0x7a2));_0x54bce8[_0x38ac8f(0x25f)]=Array[_0x38ac8f(0x30a)](_0x5527ec)['map'](_0x156d8d=>_0x156d8d[_0x38ac8f(0x8c2)]);const _0x57dd6f=_0x53df18[_0x38ac8f(0x427)]('input[type=\x22radio\x22]:checked');_0x54bce8['correctAnswerIndex']=_0x57dd6f?parseInt(_0x57dd6f[_0x38ac8f(0x8c2)]):0x0;break;case _0x38ac8f(0x8f5):case _0x38ac8f(0x466):_0x54bce8[_0x38ac8f(0x912)]=_0x527e0d,_0x54bce8['idealAnswer']=_0x53df18['querySelector'](_0x38ac8f(0x81e))[_0x38ac8f(0x8c2)];const _0x59bceb=_0x53df18[_0x38ac8f(0xcf1)](_0x38ac8f(0x5f6));_0x59bceb['length']>0x0?(_0x54bce8[_0x38ac8f(0x25f)]=Array['from'](_0x59bceb)['map'](_0x28418b=>_0x28418b[_0x38ac8f(0x8c2)]),_0x403790[_0x38ac8f(0x526)]!==undefined?_0x54bce8[_0x38ac8f(0x526)]=_0x403790['correctAnswerIndex']:_0x54bce8[_0x38ac8f(0x526)]=0x0):(delete _0x54bce8[_0x38ac8f(0x25f)],delete _0x54bce8[_0x38ac8f(0x526)]);break;case _0x38ac8f(0x35c):_0x54bce8['questionText']=_0x527e0d;const _0x4283e1=_0x53df18[_0x38ac8f(0x427)]('input[type=\x22radio\x22]:checked');_0x54bce8[_0x38ac8f(0xec0)]=_0x4283e1?_0x4283e1[_0x38ac8f(0x8c2)]==='true':!![];break;case _0x38ac8f(0x440):_0x54bce8[_0x38ac8f(0x71c)]=_0x527e0d;const _0x265576=_0x53df18[_0x38ac8f(0x427)](_0x38ac8f(0x8ef));_0x54bce8['correctResponse']=_0x265576?_0x265576[_0x38ac8f(0x8c2)]:'',_0x9a401d[_0x38ac8f(0x724)](_0x54bce8[_0x38ac8f(0xc32)]);break;default:_0x54bce8['questionText']=_0x527e0d;break;}return{..._0x403790,..._0x54bce8};});_0x9a401d[_0x19eefd(0x83b)]>0x0&&_0x1e8353[_0x19eefd(0x9ce)](_0x4016b0=>{const _0x3973ff=_0x19eefd;_0x4016b0[_0x3973ff(0xb6d)]==='matching_item'&&(_0x4016b0[_0x3973ff(0xa2e)]=_0x9a401d);});const _0x39fb2f=currentEditingQuizData['id'],_0x225926=doc(db,_0x19eefd(0x509)+appId+_0x19eefd(0x2d1),_0x39fb2f);await updateDoc(_0x225926,{'topic':_0x2df02c,'questions':_0x1e8353}),document['getElementById'](_0x19eefd(0xe61))[_0x19eefd(0xed5)][_0x19eefd(0xbca)](_0x19eefd(0x515)),showMessage(_0x19eefd(0xbf1),()=>initiateReGradeProcess(_0x39fb2f));}catch(_0x459a8a){console['error']('Error\x20saving\x20quiz\x20edits:',_0x459a8a),showMessage(_0x19eefd(0xcdd));}finally{_0x5ba8b3[_0x19eefd(0x736)]=![],_0x5ba8b3[_0x19eefd(0x674)]=_0x19eefd(0xa0e);}}async function initiateReGradeProcess(_0xb8a8a){const _0xb01b9f=_0x2e2582;showMessage(_0xb01b9f(0x25c));try{const _0x2c8ce2=doc(db,_0xb01b9f(0x509)+appId+_0xb01b9f(0x2d1),_0xb8a8a),_0x3d7c4c=await getDoc(_0x2c8ce2);if(!_0x3d7c4c[_0xb01b9f(0xa82)]())throw new Error(_0xb01b9f(0x476));const _0xf13636={'id':_0xb8a8a,..._0x3d7c4c[_0xb01b9f(0xe5c)]()},_0xa4ac2=collection(db,'artifacts/'+appId+_0xb01b9f(0x2d1),_0xb8a8a,_0xb01b9f(0xc9b)),_0x59d02a=await getDocs(_0xa4ac2);if(_0x59d02a[_0xb01b9f(0xe58)]){showMessage(_0xb01b9f(0x3d8));return;}const _0x31837b=_0x59d02a['docs'][_0xb01b9f(0x91f)](_0x38b67e=>reGradeSingleSubmission(_0x38b67e,_0xf13636));await Promise[_0xb01b9f(0x5e4)](_0x31837b);if(_0xf13636[_0xb01b9f(0x6ea)]){const _0x226d18=doc(db,_0xb01b9f(0x509)+appId+_0xb01b9f(0x850),_0xf13636[_0xb01b9f(0x6ea)]),_0x3f6132=await getDoc(_0x226d18);if(_0x3f6132['exists']()&&_0x3f6132[_0xb01b9f(0xe5c)]()['students']){const _0x575ca5=_0x3f6132[_0xb01b9f(0xe5c)]()[_0xb01b9f(0x30d)][_0xb01b9f(0x91f)](_0x572208=>updateStudentProfile(_0xf13636[_0xb01b9f(0x6ea)],_0x572208));await Promise[_0xb01b9f(0x5e4)](_0x575ca5);}}showMessage(_0xb01b9f(0xd7a)+_0x59d02a[_0xb01b9f(0xdb2)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x53f484){console[_0xb01b9f(0x61c)](_0xb01b9f(0x8ee),_0x53f484),showMessage(_0xb01b9f(0xd6c)+_0x53f484['message']);}}async function reGradeSingleSubmission(_0x1c2594,_0x212264){const _0x345feb=_0x2e2582,_0x56e583=_0x1c2594['data'](),_0x5422ba=_0x56e583['studentName'],_0x4f0364=_0x56e583[_0x345feb(0x3ea)]||[],_0x99535b=[];for(const _0x5a876b of _0x4f0364){let _0x937fd1=0x0,_0x38f851=[],_0x51b7a9=0x0;const _0x43664c=[];for(const _0x2eddd1 of _0x5a876b[_0x345feb(0x767)]){let _0x1510aa;_0x2eddd1[_0x345feb(0xe04)]&&(_0x1510aa=_0x212264['questions'][_0x345feb(0x426)](_0x27b7bf=>_0x27b7bf['id']===_0x2eddd1['questionId']));!_0x1510aa&&_0x2eddd1[_0x345feb(0x2ae)]&&(_0x1510aa=_0x212264[_0x345feb(0xa08)][_0x345feb(0x426)](_0x4338db=>(_0x4338db[_0x345feb(0x71c)]||_0x4338db[_0x345feb(0x912)])===_0x2eddd1['originalQuestionText']));let _0x169f77=![];if(_0x1510aa){const _0x37c10a=_0x1510aa[_0x345feb(0xb6d)]||_0x212264[_0x345feb(0x80d)];switch(_0x37c10a){case'multiple_choice':if(_0x1510aa[_0x345feb(0x25f)]&&_0x1510aa[_0x345feb(0x526)]<_0x1510aa[_0x345feb(0x25f)]['length']){const _0x25bea1=_0x1510aa[_0x345feb(0x25f)][_0x1510aa[_0x345feb(0x526)]];_0x169f77=_0x2eddd1[_0x345feb(0x252)]===_0x25bea1;}break;case _0x345feb(0x35c):const _0x4b9be7=_0x2eddd1[_0x345feb(0x67c)]===!![]||_0x2eddd1[_0x345feb(0x67c)]===_0x345feb(0xbb9);_0x169f77=_0x4b9be7===_0x1510aa[_0x345feb(0xec0)];break;case _0x345feb(0x440):_0x169f77=_0x2eddd1[_0x345feb(0x67c)]===_0x1510aa[_0x345feb(0xc32)];break;case'short_answer':_0x169f77=await gradeShortAnswer(_0x2eddd1[_0x345feb(0x67c)],_0x1510aa);break;default:_0x169f77=_0x2eddd1[_0x345feb(0x33c)];break;}}if(_0x169f77){_0x937fd1++,_0x51b7a9++;if(_0x51b7a9===0x3)_0x38f851['push'](BADGES['ON_FIRE']['id']);}else _0x51b7a9=0x0;_0x43664c['push']({..._0x2eddd1,'isCorrect':_0x169f77});}let _0x1b24dd=0x0;const _0x4bafe5=_0x5a876b[_0x345feb(0x2c8)]===!![]||_0x5a876b['points']>_0x212264[_0x345feb(0xa08)][_0x345feb(0x83b)]*0x14;_0x4bafe5?_0x1b24dd=_0x5a876b[_0x345feb(0xf1b)]:(_0x1b24dd=_0x937fd1*0xa,_0x937fd1===_0x212264['questions']['length']&&(_0x1b24dd+=0x32,_0x38f851[_0x345feb(0x724)](BADGES[_0x345feb(0xe97)]['id']))),_0x99535b[_0x345feb(0x724)]({..._0x5a876b,'score':_0x937fd1,'points':_0x1b24dd,'badges':Array[_0x345feb(0x30a)](new Set(_0x38f851)),'answers':_0x43664c});}const _0x463437=_0x99535b['length']>0x0?_0x99535b[0x0][_0x345feb(0x600)]:0x0,_0xe855fa=Math[_0x345feb(0xd94)](..._0x99535b[_0x345feb(0x91f)](_0x3b4833=>_0x3b4833[_0x345feb(0x600)])),_0x488964=_0x99535b[_0x345feb(0x83b)]>0x0?_0x99535b[_0x99535b['length']-0x1]['score']:0x0,_0x406c2d=_0x99535b[_0x345feb(0x83b)]>0x0?_0x99535b[_0x99535b['length']-0x1][_0x345feb(0xf1b)]:0x0,_0x33f27d=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x212264['id']+_0x345feb(0xb14),_0x5422ba);await updateDoc(_0x33f27d,{'attempts':_0x99535b,'firstScore':_0x463437,'bestScore':_0xe855fa,'latestScore':_0x488964,'points':_0x406c2d});}function cleanupQuizOptions(_0x751382){const _0x326f88=_0x2e2582,_0x302b64=(_0x506aae,_0x24b9b8)=>_0x24b9b8===0x0?_0x506aae:_0x302b64(_0x24b9b8,_0x506aae%_0x24b9b8),_0x42ba56=_0x2750a8=>{const _0x546bc2=_0x5f2f;if(typeof _0x2750a8!==_0x546bc2(0xa9c))return null;_0x2750a8=_0x2750a8[_0x546bc2(0xdd8)]();const _0x8c6085=_0x2750a8[_0x546bc2(0x8c0)](/[ /]/)[_0x546bc2(0xe4e)](_0x2269c5=>_0x2269c5!=='');if(_0x8c6085['length']===0x3)return parseInt(_0x8c6085[0x0])+parseInt(_0x8c6085[0x1])/parseInt(_0x8c6085[0x2]);else{if(_0x8c6085[_0x546bc2(0x83b)]===0x2)return parseInt(_0x8c6085[0x0])/parseInt(_0x8c6085[0x1]);else{if(_0x8c6085[_0x546bc2(0x83b)]===0x1&&!isNaN(_0x8c6085[0x0]))return parseFloat(_0x8c6085[0x0]);}}return null;},_0x53d05a=_0x221226=>{const _0x7bad28=_0x5f2f;if(typeof _0x221226!==_0x7bad28(0xa9c))return _0x221226;const _0x431ff2=_0x221226[_0x7bad28(0xf08)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x431ff2){const _0x3fe129=parseInt(_0x431ff2[0x1]);let _0x441793=parseInt(_0x431ff2[0x2]),_0x6cd303=parseInt(_0x431ff2[0x3]);const _0x51f719=_0x302b64(_0x441793,_0x6cd303);_0x441793/=_0x51f719,_0x6cd303/=_0x51f719;if(_0x6cd303===0x1)return(_0x3fe129+_0x441793)[_0x7bad28(0xe25)]();return _0x3fe129+'\x20'+_0x441793+'/'+_0x6cd303;}return _0x221226;};return _0x751382&&_0x751382[_0x326f88(0xa08)]&&_0x751382['questions'][_0x326f88(0x9ce)](_0x36e1f0=>{const _0x135fa4=_0x326f88;if(_0x36e1f0['questionType']===_0x135fa4(0xbb3)&&_0x36e1f0[_0x135fa4(0x25f)]){const _0x5c862a=new Map(),_0x5a4690=_0x36e1f0[_0x135fa4(0x25f)][_0x36e1f0['correctAnswerIndex']];_0x36e1f0[_0x135fa4(0x25f)]['forEach'](_0x36cf0c=>{const _0x3fdcbc=_0x135fa4,_0x5003f1=_0x53d05a(_0x36cf0c),_0x2a1d45=_0x42ba56(_0x5003f1);_0x2a1d45!==null&&!_0x5c862a['has'](_0x2a1d45)&&_0x5c862a[_0x3fdcbc(0x63c)](_0x2a1d45,_0x5003f1);}),_0x36e1f0[_0x135fa4(0x25f)]=Array[_0x135fa4(0x30a)](_0x5c862a[_0x135fa4(0x586)]());const _0x2fb66a=_0x36e1f0[_0x135fa4(0x25f)]['findIndex'](_0x13584b=>_0x13584b===_0x53d05a(_0x5a4690));_0x36e1f0[_0x135fa4(0x526)]=_0x2fb66a!==-0x1?_0x2fb66a:0x0;}}),_0x751382;}function showGameStartConfirmationModal(_0x11ee37,_0x5d9fb0,_0x4028c8){const _0x2bae9b=_0x2e2582,_0x1d1708=document['getElementById']('confirm-game-start-modal');document[_0x2bae9b(0x6ec)](_0x2bae9b(0xbdf))[_0x2bae9b(0x337)]='เริ่มกิจกรรม:\x20'+_0x4028c8,document['getElementById'](_0x2bae9b(0xb03))['value']=_0x11ee37,document[_0x2bae9b(0x6ec)](_0x2bae9b(0x563))[_0x2bae9b(0x8c2)]=_0x5d9fb0,document[_0x2bae9b(0x6ec)](_0x2bae9b(0x365))[_0x2bae9b(0xa0a)]=!![];const _0x10de79=document[_0x2bae9b(0x6ec)]('sync-variant-selector'),_0x9ce1bc=document[_0x2bae9b(0x6ec)]('sync-timer-enable-checkbox'),_0x1ee5ae=document['getElementById'](_0x2bae9b(0xa78)),_0x3fc476=document['getElementById'](_0x2bae9b(0x32a)),_0x54b8dd=document[_0x2bae9b(0x6ec)]('anon-settings-container');if(_0x5d9fb0===_0x2bae9b(0x5db)){_0x10de79[_0x2bae9b(0xed5)][_0x2bae9b(0xb8a)](_0x2bae9b(0x515));const _0x4a96d1=_0x2bae9b(0x3f4);document['querySelector'](_0x2bae9b(0xe99)+_0x4a96d1+'\x22]')['checked']=!![];if(_0x54b8dd)_0x54b8dd[_0x2bae9b(0xed5)][_0x2bae9b(0xb8a)](_0x2bae9b(0x515));_0x9ce1bc[_0x2bae9b(0xa0a)]=!![],_0x1ee5ae[_0x2bae9b(0xed5)][_0x2bae9b(0xb8a)](_0x2bae9b(0x515)),document[_0x2bae9b(0x6ec)]('sync-timer-duration-input')[_0x2bae9b(0x8c2)]='300',_0x3fc476[_0x2bae9b(0xed5)][_0x2bae9b(0xb8a)](_0x2bae9b(0x515)),document[_0x2bae9b(0x6ec)](_0x2bae9b(0xb73))[_0x2bae9b(0xa0a)]=!![];}else{_0x10de79['classList']['add'](_0x2bae9b(0x515));if(_0x54b8dd)_0x54b8dd['classList'][_0x2bae9b(0xbca)](_0x2bae9b(0x515));_0x9ce1bc['checked']=![],_0x1ee5ae[_0x2bae9b(0xed5)][_0x2bae9b(0xbca)](_0x2bae9b(0x515)),_0x3fc476['classList'][_0x2bae9b(0xbca)]('hidden');}_0x1d1708['classList'][_0x2bae9b(0xb8a)]('hidden');}async function saveGameResultsAsSubmissions(_0x6c0333){const _0x440503=_0x2e2582;if(_0x6c0333[_0x440503(0x6fe)]){console[_0x440503(0xeec)](_0x440503(0x5a5));return;}console[_0x440503(0xeec)](_0x440503(0x81b),_0x6c0333);const _0x409c9b=_0x6c0333[_0x440503(0x3ac)];let _0x5e386f=[];if(_0x6c0333[_0x440503(0x21d)])_0x5e386f=Object[_0x440503(0x81d)](_0x6c0333[_0x440503(0x21d)])[_0x440503(0x91f)](([_0x171514,_0x3978a0])=>({'name':_0x171514,..._0x3978a0}));else{if(_0x6c0333[_0x440503(0x7b2)])Object[_0x440503(0x586)](_0x6c0333[_0x440503(0x7b2)])[_0x440503(0x9ce)](_0x2589fc=>{const _0x22ac70=_0x440503;_0x2589fc[_0x22ac70(0xf4c)][_0x22ac70(0x9ce)](_0x28fccf=>{const _0x4e42e5=_0x22ac70;_0x5e386f['push']({'name':_0x28fccf,'score':_0x2589fc[_0x4e42e5(0x600)],'answers':_0x2589fc[_0x4e42e5(0x767)]});});});else _0x6c0333['responses']&&Object[_0x440503(0x81d)](_0x6c0333[_0x440503(0x33b)])['forEach'](([_0x2cf4dc,_0x306f48])=>{_0x5e386f['push']({'name':_0x2cf4dc,..._0x306f48});});}if(_0x5e386f[_0x440503(0x83b)]===0x0){console[_0x440503(0x678)](_0x440503(0xc56));return;}const _0x41318b=_0x6c0333[_0x440503(0x23c)]?.[_0x440503(0xa08)][_0x440503(0x83b)]||currentQuizData[_0x440503(0xa08)]['length'],_0x3c3955=writeBatch(db);for(const _0x4b35f8 of _0x5e386f){const _0x337153=doc(db,_0x440503(0x509)+appId+_0x440503(0xd97)+_0x409c9b+_0x440503(0xb14),_0x4b35f8['name']),_0x392fe3=(_0x4b35f8[_0x440503(0x767)]||[])[_0x440503(0xe4e)](_0x3fc08e=>_0x3fc08e['isCorrect'])[_0x440503(0x83b)];let _0x245140=_0x4b35f8[_0x440503(0x468)]!==undefined?_0x4b35f8[_0x440503(0x468)]:_0x392fe3,_0x41c521=_0x4b35f8[_0x440503(0xdbd)]||[];_0x392fe3===_0x41318b&&_0x41318b>0x0&&(!_0x41c521[_0x440503(0x9ee)]('perfect_score')&&_0x41c521[_0x440503(0x724)](_0x440503(0x564)));const _0x32dd9e={'score':_0x392fe3,'points':_0x245140,'badges':_0x41c521,'submittedAt':new Date()[_0x440503(0xbae)](),'isSyncGame':!![],'answers':(_0x4b35f8[_0x440503(0x767)]||[])[_0x440503(0x91f)](_0x600a61=>({'questionId':_0x600a61['questionId'],'answer':_0x600a61[_0x440503(0x67c)],'answerText':_0x600a61['answerText'],'isCorrect':_0x600a61['isCorrect'],'originalQuestionText':_0x600a61[_0x440503(0x2ae)],'wasConfident':_0x600a61['wasConfident'],'powerupUsed':_0x600a61[_0x440503(0xc57)]||null}))},_0x438804=await getDoc(_0x337153),_0x422105=_0x438804[_0x440503(0xa82)]()?_0x438804[_0x440503(0xe5c)]():{},_0x2422ec=_0x422105[_0x440503(0x4f8)]||0x0,_0xad9f60=_0x422105[_0x440503(0x3ea)]||[];_0xad9f60[_0x440503(0x83b)]===0x0&&_0x392fe3===_0x41318b&&_0x41318b>0x0&&(!_0x32dd9e[_0x440503(0xdbd)][_0x440503(0x9ee)]('first_try_ace')&&_0x32dd9e['badges'][_0x440503(0x724)](_0x440503(0x885)));const _0xbbc7d9={'studentName':_0x4b35f8[_0x440503(0x47c)],'totalQuestions':_0x41318b,'attempts':arrayUnion(_0x32dd9e),'latestScore':_0x392fe3,'points':_0x245140,'latestSubmittedAt':_0x32dd9e[_0x440503(0xac2)],'bestScore':Math[_0x440503(0xd94)](_0x2422ec,_0x392fe3),'firstScore':_0xad9f60[_0x440503(0x83b)]===0x0?_0x392fe3:_0x422105['firstScore']||0x0};_0x3c3955[_0x440503(0x63c)](_0x337153,_0xbbc7d9,{'merge':!![]});}try{if(currentLiveGameId){const _0x540eba=doc(db,_0x440503(0x509)+appId+_0x440503(0xa31),currentLiveGameId);_0x3c3955[_0x440503(0xf45)](_0x540eba,{'resultsSaved':!![]});}await _0x3c3955[_0x440503(0xc42)](),showMessage('บันทึกผลการเรียนของนักเรียน\x20'+_0x5e386f['length']+_0x440503(0xb1d));const _0x28487d=_0x6c0333[_0x440503(0x23c)]?.[_0x440503(0x6ea)]||currentQuizData?.[_0x440503(0x6ea)]||currentProjectId;if(_0x28487d){const _0x585332=[...new Set(_0x5e386f['map'](_0x3d5d81=>_0x3d5d81[_0x440503(0x47c)]))];for(const _0x372123 of _0x585332){await updateStudentProfile(_0x28487d,_0x372123);}}}catch(_0x1e627a){console[_0x440503(0x61c)](_0x440503(0x465),_0x1e627a),showMessage(_0x440503(0x729));}}async function saveQuiz(_0x5505a0=null,_0x282f52=null){const _0x41400d=_0x2e2582,_0x3689b2=_0x5505a0||currentProjectId;if(!_0x3689b2){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x41400d(0xa08)]||!userId){showMessage(_0x41400d(0x723));return;}const _0x1b5cf7=document['getElementById'](_0x41400d(0xbde));_0x1b5cf7['disabled']=!![],_0x1b5cf7[_0x41400d(0x674)]=_0x41400d(0xdad);const _0x248209=document[_0x41400d(0x6ec)]('pre-test-checkbox')['checked'];let _0x260bad=document[_0x41400d(0x6ec)](_0x41400d(0x319))[_0x41400d(0xd58)]['trim']();_0x248209&&!_0x260bad[_0x41400d(0xdb3)](_0x41400d(0x24f))&&(_0x260bad=_0x41400d(0xe40)+_0x260bad);try{const _0x2cbffa={'resultsDisplay':document[_0x41400d(0x6ec)](_0x41400d(0x725))[_0x41400d(0x8c2)],'shuffle':document[_0x41400d(0x6ec)](_0x41400d(0x279))['value'],'timerMode':document[_0x41400d(0x6ec)](_0x41400d(0x4ee))[_0x41400d(0x8c2)],'timerDuration':parseInt(document[_0x41400d(0x6ec)](_0x41400d(0xb27))[_0x41400d(0x8c2)])||0xa,'passingScore':parseInt(document[_0x41400d(0x6ec)](_0x41400d(0xc61))[_0x41400d(0x8c2)])||0x0,'isAdaptive':document[_0x41400d(0x6ec)](_0x41400d(0x32f))[_0x41400d(0xa0a)],'loopUntilPass':document[_0x41400d(0x6ec)](_0x41400d(0xb85))[_0x41400d(0xa0a)]},_0x4182f4=(currentQuizData[_0x41400d(0xa08)]||[])['map']((_0x57bc93,_0x1245d6)=>{const _0x1b92d7=_0x41400d,_0x5f3be3=document[_0x1b92d7(0x6ec)]('quiz-type-select')[_0x1b92d7(0x8c2)],_0x2d6c11={'id':'q_'+Date[_0x1b92d7(0xbf5)]()+'_'+_0x1245d6,'questionText':_0x57bc93[_0x1b92d7(0x912)]||'','explanation':_0x57bc93[_0x1b92d7(0xec3)]||_0x1b92d7(0xcf5),'questionType':_0x57bc93['questionType']||_0x5f3be3,'imageCode':_0x57bc93[_0x1b92d7(0xde8)]||null};return(_0x2d6c11['questionType']===_0x1b92d7(0xbb3)||_0x2d6c11[_0x1b92d7(0xb6d)]===_0x1b92d7(0x2af)||_0x2d6c11[_0x1b92d7(0xb6d)]===_0x1b92d7(0xc5c)&&_0x57bc93['options'])&&(_0x2d6c11[_0x1b92d7(0x25f)]=_0x57bc93[_0x1b92d7(0x25f)]||[],_0x2d6c11[_0x1b92d7(0x526)]=_0x57bc93['correctAnswerIndex']!==undefined?_0x57bc93[_0x1b92d7(0x526)]:0x0),(_0x2d6c11[_0x1b92d7(0xb6d)]===_0x1b92d7(0x466)||_0x2d6c11[_0x1b92d7(0xb6d)]===_0x1b92d7(0x8f5)||_0x2d6c11[_0x1b92d7(0xb6d)]===_0x1b92d7(0xc5c)&&_0x57bc93[_0x1b92d7(0x9f1)])&&(_0x2d6c11['idealAnswer']=_0x57bc93[_0x1b92d7(0x9f1)]||''),_0x2d6c11['questionType']===_0x1b92d7(0x35c)&&(_0x2d6c11[_0x1b92d7(0xec0)]=_0x57bc93[_0x1b92d7(0xec0)]===!![]),_0x2d6c11[_0x1b92d7(0xb6d)]==='matching_item'&&(_0x2d6c11[_0x1b92d7(0x71c)]=_0x57bc93[_0x1b92d7(0x71c)]||'',_0x2d6c11[_0x1b92d7(0xc32)]=_0x57bc93['correctResponse']||'',_0x2d6c11[_0x1b92d7(0xa2e)]=_0x57bc93[_0x1b92d7(0xa2e)]||[]),_0x2d6c11;}),_0x584ae8={'topic':_0x260bad,'quizType':currentQuizData[_0x41400d(0x80d)]||'multiple_choice','questions':_0x4182f4,'projectId':_0x3689b2,'createdBy':userId,'createdAt':new Date()[_0x41400d(0xbae)](),'status':'active','settings':_0x2cbffa,'quizMode':_0x248209?'pre-test':_0x41400d(0x395),'pairedQuizId':null,'lessonPlan':null};let _0x57d746;while(!![]){_0x57d746=Math[_0x41400d(0xabc)](0x3e8+Math['random']()*0x2328)['toString']();const _0x27dc8c=await getDoc(doc(db,_0x41400d(0x509)+appId+'/public/data/quizzes',_0x57d746));if(!_0x27dc8c[_0x41400d(0xa82)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x57d746),_0x584ae8);if(_0x282f52&&currentBlueprintProjectId){console[_0x41400d(0xeec)]('Auto-linking\x20new\x20quiz\x20'+_0x57d746+_0x41400d(0x1d2)+_0x282f52);try{const _0x47dfa4=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x47dfa4,{[_0x41400d(0xabf)+_0x282f52+_0x41400d(0xa4c)]:arrayUnion(_0x57d746)});}catch(_0x35236b){console['error'](_0x41400d(0x72c),_0x35236b);}}currentQuizData['settings']=_0x2cbffa,currentQuizData['id']=_0x57d746;const _0x1fbe99=document['getElementById'](_0x41400d(0x91c));_0x1fbe99[_0x41400d(0x674)]=_0x41400d(0xa14)+_0x57d746+_0x41400d(0xa6b),document['getElementById']('copy-quiz-id-btn')[_0x41400d(0x504)](_0x41400d(0x7b0),()=>copyTextToClipboard(_0x57d746,_0x41400d(0xc14))),document['getElementById'](_0x41400d(0xb60))[_0x41400d(0x504)](_0x41400d(0x7b0),()=>handleStartLiveRace(_0x57d746)),document[_0x41400d(0x6ec)](_0x41400d(0x24c))[_0x41400d(0x504)](_0x41400d(0x7b0),()=>startPresentation(currentQuizData)),document[_0x41400d(0x6ec)](_0x41400d(0xd6e))['addEventListener'](_0x41400d(0x7b0),startAdminTest),showMessage(_0x41400d(0xdc2));}catch(_0x205493){console[_0x41400d(0x61c)](_0x41400d(0xed4),_0x205493),showMessage(_0x41400d(0x8ca));}finally{_0x1b5cf7['disabled']=![],_0x1b5cf7[_0x41400d(0x674)]=_0x41400d(0x834);}}function promptForProjectAndSave(){const _0x39c577=_0x2e2582,_0x337314=document[_0x39c577(0x6ec)]('move-quiz-modal'),_0xc82368=document[_0x39c577(0x6ec)](_0x39c577(0xd3a)),_0x5e39a1=_0x337314[_0x39c577(0x427)]('h3'),_0xd832f4=document[_0x39c577(0x6ec)](_0x39c577(0xc22));_0x5e39a1[_0x39c577(0x337)]=_0x39c577(0xd6f),_0xd832f4['textContent']=_0x39c577(0xa5d);allProjects[_0x39c577(0x83b)]===0x0?(_0xc82368[_0x39c577(0x674)]=_0x39c577(0x76a),_0xd832f4[_0x39c577(0x736)]=!![]):(_0xc82368[_0x39c577(0x674)]=allProjects[_0x39c577(0x91f)](_0x3266fe=>_0x39c577(0x3e4)+_0x3266fe['id']+'\x22>'+_0x3266fe[_0x39c577(0x52e)]+_0x39c577(0x645))[_0x39c577(0x8c3)](''),_0xd832f4[_0x39c577(0x736)]=![]);_0x337314['classList']['remove'](_0x39c577(0x515));const _0x3f3488=()=>{const _0x1d96e0=_0x39c577,_0x18766d=_0xc82368['value'];_0x18766d?(currentProjectId=_0x18766d,_0x337314[_0x1d96e0(0xed5)][_0x1d96e0(0xbca)](_0x1d96e0(0x515)),saveQuiz(),_0x5e39a1['textContent']=_0x1d96e0(0x53f),_0xd832f4[_0x1d96e0(0x337)]=_0x1d96e0(0x292),_0xd832f4['removeEventListener']('click',_0x3f3488),_0xd832f4[_0x1d96e0(0x504)](_0x1d96e0(0x7b0),confirmMoveQuiz)):showMessage(_0x1d96e0(0xd0c));};_0xd832f4['removeEventListener']('click',confirmMoveQuiz),_0xd832f4[_0x39c577(0x504)](_0x39c577(0x7b0),_0x3f3488);}function copyTextToClipboard(_0x48f20c,_0x2b66c2){const _0x4b3b70=_0x2e2582,_0x19aac5=document[_0x4b3b70(0xc7b)](_0x4b3b70(0xf4a));_0x19aac5[_0x4b3b70(0x8c2)]=_0x48f20c,_0x19aac5['style'][_0x4b3b70(0xa2b)]=_0x4b3b70(0x4d4),_0x19aac5[_0x4b3b70(0xdb7)][_0x4b3b70(0xe23)]='0',document[_0x4b3b70(0xc74)][_0x4b3b70(0xa8b)](_0x19aac5),_0x19aac5['focus'](),_0x19aac5[_0x4b3b70(0x91a)]();try{const _0x184cfc=document[_0x4b3b70(0x3c3)](_0x4b3b70(0x541));showMessage(_0x184cfc?_0x2b66c2:'คัดลอกไม่สำเร็จ');}catch(_0x1941c5){showMessage('คัดลอกไม่สำเร็จ'),console[_0x4b3b70(0x61c)](_0x4b3b70(0x7f4),_0x1941c5);}document[_0x4b3b70(0xc74)][_0x4b3b70(0xb25)](_0x19aac5);}function listenForProjectQuizzes(_0xf23615){const _0x18c0af=_0x2e2582,_0x451b1e=collection(db,_0x18c0af(0x509)+appId+_0x18c0af(0x2d1)),_0x34826d=query(_0x451b1e,where('projectId','==',_0xf23615));unsubscribeQuizzesListener=onSnapshot(_0x34826d,async _0x10a2bc=>{const _0x2f420f=_0x18c0af;allQuizzes=_0x10a2bc['docs'][_0x2f420f(0x91f)](_0x1b6e58=>({'id':_0x1b6e58['id'],..._0x1b6e58[_0x2f420f(0xe5c)]()})),renderQuizzes();},_0x2e09ee=>{const _0x155196=_0x18c0af;console[_0x155196(0x61c)]('Error\x20fetching\x20project\x20quizzes:',_0x2e09ee),document['getElementById'](_0x155196(0x1fe))[_0x155196(0x674)]=_0x155196(0x9de);});}async function renderQuizzes(){const _0x3b7368=_0x2e2582,_0x14337c=document['getElementById'](_0x3b7368(0x1fe)),_0x423272=document[_0x3b7368(0x6ec)](_0x3b7368(0xe94))[_0x3b7368(0x8c2)][_0x3b7368(0x3be)]();let _0x14deff;currentProjectId===_0x3b7368(0x45c)?_0x14deff=starredQuizzes:_0x14deff=allQuizzes;let _0xec29f=_0x14deff[_0x3b7368(0xe4e)](_0x301053=>_0x301053[_0x3b7368(0x308)][_0x3b7368(0x3be)]()[_0x3b7368(0x9ee)](_0x423272));_0xec29f['sort']((_0x28aced,_0x5007c2)=>new Date(_0x5007c2[_0x3b7368(0xce0)])-new Date(_0x28aced['createdAt']));if(_0xec29f[_0x3b7368(0x83b)]===0x0){_0x14337c[_0x3b7368(0x674)]=_0x3b7368(0x707);return;}const _0x44fe5e={},_0x3481bd=_0xec29f[_0x3b7368(0x91f)](async _0x2fbbcf=>{const _0x4907b7=_0x3b7368,_0x103cdb=collection(db,'artifacts/'+appId+_0x4907b7(0xd97)+_0x2fbbcf['id']+_0x4907b7(0xb14)),_0x15eb37=await getDocs(_0x103cdb);_0x44fe5e[_0x2fbbcf['id']]=_0x15eb37[_0x4907b7(0xdb2)];});await Promise['all'](_0x3481bd);let _0x3123aa='';_0xec29f[_0x3b7368(0x9ce)](_0x5b5fa7=>{const _0x2ce212=_0x3b7368,_0x42d53b=_0x44fe5e[_0x5b5fa7['id']]||0x0,_0xe142c9=_0x5b5fa7[_0x2ce212(0x4dc)]||_0x2ce212(0xb3d),_0x49f68e=_0x5b5fa7['settings']?.['timerMode']||_0x2ce212(0xd62);let _0x102fe1='',_0x2db7a1='';const _0x52d303=new Date();let _0x24f994=_0xe142c9;if(_0xe142c9==='scheduled'){const _0x50b528=_0x5b5fa7[_0x2ce212(0x1df)]?new Date(_0x5b5fa7[_0x2ce212(0x1df)]):null,_0x3d9f33=_0x5b5fa7[_0x2ce212(0x775)]?new Date(_0x5b5fa7['endTime']):null;if(_0x3d9f33&&_0x52d303>_0x3d9f33)_0x24f994=_0x2ce212(0xace);else _0x50b528&&_0x52d303<_0x50b528?_0x24f994=_0x2ce212(0x86b):_0x24f994='active';}switch(_0x24f994){case _0x2ce212(0xace):_0x102fe1='ปิดใช้งาน',_0x2db7a1=_0x2ce212(0x33e);break;case _0x2ce212(0x86b):_0x102fe1=_0x2ce212(0x513),_0x2db7a1=_0x2ce212(0xdc4);break;case'active':_0x102fe1=_0x49f68e!==_0x2ce212(0xd62)?_0x2ce212(0x643):_0x2ce212(0x2ef),_0x2db7a1=_0x2ce212(0xec1);break;default:_0x102fe1=_0x2ce212(0xaff),_0x2db7a1='text-green-700\x20bg-green-100';break;}let _0x4e07e0='';const _0xe27f1={'day':_0x2ce212(0x681),'month':'2-digit','year':_0x2ce212(0x650),'hour':'2-digit','minute':_0x2ce212(0x681),'hour12':![]};if(_0xe142c9==='scheduled'){if(_0x5b5fa7[_0x2ce212(0x1df)])_0x4e07e0+=_0x2ce212(0xc43)+new Date(_0x5b5fa7[_0x2ce212(0x1df)])[_0x2ce212(0xe4c)](_0x2ce212(0xb17),_0xe27f1)+_0x2ce212(0x895);if(_0x5b5fa7[_0x2ce212(0x775)])_0x4e07e0+=_0x2ce212(0x231)+new Date(_0x5b5fa7['endTime'])['toLocaleString'](_0x2ce212(0xb17),_0xe27f1)+_0x2ce212(0x895);}let _0x10d797='';if(_0x5b5fa7[_0x2ce212(0x2bc)]){const _0x33e18d=allQuizzes[_0x2ce212(0x426)](_0x2a3923=>_0x2a3923['id']===_0x5b5fa7[_0x2ce212(0x2bc)]);if(_0x33e18d){let _0x562994,_0x4a2c7b;new Date(_0x5b5fa7[_0x2ce212(0xce0)])<new Date(_0x33e18d[_0x2ce212(0xce0)])?(_0x562994=_0x5b5fa7['id'],_0x4a2c7b=_0x33e18d['id']):(_0x562994=_0x33e18d['id'],_0x4a2c7b=_0x5b5fa7['id']),_0x10d797+=_0x2ce212(0x33d)+_0x4a2c7b+_0x2ce212(0xd12)+_0x562994+_0x2ce212(0xdee);}}else _0x5b5fa7[_0x2ce212(0xbc5)]==='pre-test'&&(_0x10d797+=_0x2ce212(0x590)+_0x5b5fa7['id']+_0x2ce212(0x79e));if(_0x5b5fa7['quizMode']==='pre-test'&&_0x42d53b>0x0)_0x10d797+=_0x2ce212(0x590)+_0x5b5fa7['id']+_0x2ce212(0x389);else!_0x5b5fa7['pairedQuizId']&&_0x5b5fa7['quizMode']!==_0x2ce212(0xd51)&&_0x42d53b>0x0&&(_0x10d797+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5b5fa7['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x44f7cb='';_0x5b5fa7[_0x2ce212(0x2bc)]?_0x44f7cb='<button\x20data-quiz-id=\x22'+_0x5b5fa7['id']+_0x2ce212(0x48d):_0x44f7cb=_0x2ce212(0x36e)+_0x5b5fa7['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>';const _0x2d7849=_0x2ce212(0xf41)+_0x5b5fa7['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x3123aa+=_0x2ce212(0xb88)+_0x5b5fa7['id']+_0x2ce212(0x54f)+_0x5b5fa7['topic']+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x5b5fa7[_0x2ce212(0xa08)][_0x2ce212(0x83b)]+_0x2ce212(0xe68)+new Date(_0x5b5fa7['createdAt'])[_0x2ce212(0xe4c)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x42d53b+_0x2ce212(0x65e)+_0x4e07e0+_0x2ce212(0x202)+_0x2db7a1+'\x22>'+_0x102fe1+_0x2ce212(0x5fa)+_0x5b5fa7['id']+_0x2ce212(0x2b1)+_0x5b5fa7['id']+_0x2ce212(0x9d0)+(_0x5b5fa7[_0x2ce212(0x294)]?_0x2ce212(0xa7a):_0x2ce212(0xc85))+_0x2ce212(0x72f)+_0x10d797+_0x2ce212(0x904)+_0x2d7849+_0x2ce212(0xc78)+_0x5b5fa7['id']+_0x2ce212(0xeff)+_0x5b5fa7['id']+_0x2ce212(0xd38)+_0x5b5fa7['id']+_0x2ce212(0xde7)+_0x5b5fa7['id']+_0x2ce212(0x98d)+_0x5b5fa7['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5b5fa7['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5b5fa7['id']+'\x22\x20data-topic=\x22'+_0x5b5fa7['topic']+_0x2ce212(0xcd3)+_0x5b5fa7['id']+_0x2ce212(0x88a)+_0x5b5fa7['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44f7cb+_0x2ce212(0x3ae)+_0x5b5fa7['id']+_0x2ce212(0xe7d)+_0x5b5fa7['id']+_0x2ce212(0x314)+_0x5b5fa7['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5b5fa7['id']+_0x2ce212(0xcdb)+_0x5b5fa7['id']+_0x2ce212(0x4b5)+_0x5b5fa7['topic']+_0x2ce212(0xa57)+_0x5b5fa7['id']+_0x2ce212(0xb5b);}),_0x14337c[_0x3b7368(0x674)]=_0x3123aa,document[_0x3b7368(0xcf1)](_0x3b7368(0xe9f))['forEach'](_0x571499=>{const _0x30e1a4=_0x3b7368;_0x571499[_0x30e1a4(0x504)](_0x30e1a4(0x7b0),()=>{const _0x5a4010=_0x30e1a4,_0x2057f3=_0x571499[_0x5a4010(0x261)][_0x5a4010(0x3ac)];showQuizDetailView(_0x2057f3);});});}async function handleUnpairQuiz(_0xa095f8){const _0x1a5b3c=_0x2e2582,_0x504138=allQuizzes[_0x1a5b3c(0x426)](_0xdb8e96=>_0xdb8e96['id']===_0xa095f8);if(!_0x504138||!_0x504138[_0x1a5b3c(0x2bc)]){showMessage(_0x1a5b3c(0x332));return;}showConfirmation(_0x1a5b3c(0x929),async()=>{const _0x14aa9b=_0x1a5b3c;try{const _0xe1f57=doc(db,'artifacts/'+appId+_0x14aa9b(0x2d1),_0xa095f8),_0x39cbde=doc(db,_0x14aa9b(0x509)+appId+_0x14aa9b(0x2d1),_0x504138[_0x14aa9b(0x2bc)]),_0x4151b8=writeBatch(db);_0x4151b8[_0x14aa9b(0xf45)](_0xe1f57,{'pairedQuizId':null}),_0x4151b8[_0x14aa9b(0xf45)](_0x39cbde,{'pairedQuizId':null}),await _0x4151b8[_0x14aa9b(0xc42)](),showMessage(_0x14aa9b(0x554));}catch(_0x302528){console[_0x14aa9b(0x61c)]('Error\x20unpairing\x20quizzes:',_0x302528),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x29fb52,_0x53eb87){const _0x58d4e1=_0x2e2582,_0x10eacc=window[_0x58d4e1(0xcd8)]('',_0x58d4e1(0x204)),_0xa6e72b=_0x58d4e1(0xbd9)+_0x53eb87[_0x58d4e1(0x308)]+_0x58d4e1(0x4a6)+_0x53eb87['topic']+_0x58d4e1(0xb3b)+_0x29fb52[_0x58d4e1(0x7ef)]['map'](_0x16649e=>_0x58d4e1(0xa5c)+_0x16649e+'</li>')['join']('')+_0x58d4e1(0x31b)+_0x29fb52[_0x58d4e1(0xc53)]+_0x58d4e1(0x827)+_0x29fb52['practiceProblems']['map'](_0x4e242f=>_0x58d4e1(0x264)+_0x4e242f[_0x58d4e1(0x77c)]+_0x58d4e1(0x9c7)+_0x4e242f[_0x58d4e1(0x55b)]+_0x58d4e1(0xa33))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x10eacc['document'][_0x58d4e1(0x8b3)](_0xa6e72b),_0x10eacc['document'][_0x58d4e1(0x5d4)](),_0x10eacc[_0x58d4e1(0x9c2)]=function(){setTimeout(()=>{const _0x47f5c2=_0x5f2f;_0x10eacc[_0x47f5c2(0xe8a)]();},0x3e8);};}async function handleAiFixFormula(_0x40b7a4){const _0x133d87=_0x2e2582,_0x5e0eff=document[_0x133d87(0x427)]('.question-editor-item[data-q-index=\x22'+_0x40b7a4+'\x22]');if(!_0x5e0eff)return;const _0x2eb8a1=_0x5e0eff[_0x133d87(0x261)][_0x133d87(0x33a)],_0x53d038=_0x5e0eff['querySelector'](_0x133d87(0x604));let _0x4e4b5e={'question':_0x5e0eff[_0x133d87(0x427)]('textarea')[_0x133d87(0x8c2)]};switch(_0x2eb8a1){case _0x133d87(0xbb3):_0x4e4b5e[_0x133d87(0x25f)]=Array[_0x133d87(0x30a)](_0x5e0eff[_0x133d87(0xcf1)](_0x133d87(0x2db)))['map'](_0x3bc8e3=>_0x3bc8e3[_0x133d87(0x8c2)]);break;case _0x133d87(0x8f5):case _0x133d87(0x466):_0x4e4b5e[_0x133d87(0x9f1)]=_0x5e0eff[_0x133d87(0x427)](_0x133d87(0x81e))[_0x133d87(0x8c2)];break;case _0x133d87(0x440):_0x4e4b5e[_0x133d87(0xc32)]=_0x5e0eff[_0x133d87(0x427)]('.correct-response-input')[_0x133d87(0x8c2)];break;}_0x53d038[_0x133d87(0x674)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x53d038['disabled']=!![];try{const _0x1de058=_0x133d87(0x58c)+JSON[_0x133d87(0x908)](_0x4e4b5e)+_0x133d87(0xd1e),_0x18b728={'type':'OBJECT','properties':{'fixedData':{'type':_0x133d87(0xda2),'properties':{'question':{'type':_0x133d87(0x9eb)},'options':{'type':_0x133d87(0xb83),'items':{'type':_0x133d87(0x9eb)}},'idealAnswer':{'type':_0x133d87(0x9eb)},'correctResponse':{'type':_0x133d87(0x9eb)}},'required':['question']}},'required':[_0x133d87(0x61b)]},_0x5c75cc=await callAnalysisApi(_0x1de058,_0x18b728);if(_0x5c75cc&&_0x5c75cc[_0x133d87(0x61b)]){const _0x15c689=_0x5c75cc['fixedData'];_0x5e0eff[_0x133d87(0x427)](_0x133d87(0xf4a))[_0x133d87(0x8c2)]=_0x15c689['question']||_0x4e4b5e[_0x133d87(0x77c)];switch(_0x2eb8a1){case'multiple_choice':_0x15c689['options']&&_0x15c689[_0x133d87(0x25f)][_0x133d87(0x83b)]>0x0&&_0x5e0eff[_0x133d87(0xcf1)](_0x133d87(0x2db))[_0x133d87(0x9ce)]((_0x1664c1,_0x286f77)=>{const _0x5b4f68=_0x133d87;_0x1664c1['value']=_0x15c689['options'][_0x286f77]||_0x4e4b5e[_0x5b4f68(0x25f)][_0x286f77];});break;case _0x133d87(0x8f5):case'short_answer':_0x5e0eff[_0x133d87(0x427)]('.ideal-answer-input')[_0x133d87(0x8c2)]=_0x15c689[_0x133d87(0x9f1)]||_0x4e4b5e[_0x133d87(0x9f1)];break;case _0x133d87(0x440):_0x5e0eff['querySelector'](_0x133d87(0x8ef))[_0x133d87(0x8c2)]=_0x15c689['correctResponse']||_0x4e4b5e[_0x133d87(0xc32)];break;}showMessage(_0x133d87(0x429));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x14c23a){console[_0x133d87(0x61c)]('AI\x20Formula\x20Fix\x20Error:',_0x14c23a),showMessage(_0x133d87(0x8da));}finally{_0x53d038['innerHTML']='<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>',_0x53d038['disabled']=![];}}async function handleGenerateLessonPlan(_0x58a927){const _0x1c3e6d=_0x2e2582;showMessage(_0x1c3e6d(0x765));try{const _0x356e77=doc(db,_0x1c3e6d(0x509)+appId+_0x1c3e6d(0x2d1),_0x58a927),_0x186992=await getDoc(_0x356e77);if(!_0x186992[_0x1c3e6d(0xa82)]())throw new Error(_0x1c3e6d(0x476));const _0x2517d4={'id':_0x58a927,..._0x186992[_0x1c3e6d(0xe5c)]()},_0x27cd30=collection(db,_0x1c3e6d(0x509)+appId+'/public/data/quizzes',_0x58a927,_0x1c3e6d(0xc9b)),_0x7a03d3=await getDocs(_0x27cd30),_0x3ee086=_0x7a03d3['docs']['map'](_0x41799c=>_0x41799c[_0x1c3e6d(0xe5c)]());if(_0x3ee086[_0x1c3e6d(0x83b)]===0x0)throw new Error(_0x1c3e6d(0x27e));const _0x1397fd=calculateItemAnalysis(_0x2517d4,_0x3ee086)['perQuestionStats'],_0x5dac07=calculateDistractorAnalysis(_0x2517d4,_0x3ee086),_0x5d1f6b=_0x27d619=>{const _0x2bbaa7=_0x1c3e6d;if(!_0x27d619)return'';return _0x27d619[_0x2bbaa7(0x3cc)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x2bbaa7(0x3cc)](/\n/g,'\x5cn');};let _0xeeb2d7=_0x1c3e6d(0xbd2);_0x2517d4['questions']['forEach']((_0x44b77e,_0x4adeb7)=>{const _0x2d0776=_0x1c3e6d,_0x5032ee=_0x1397fd[_0x4adeb7]?.['p'][_0x2d0776(0xd15)](0x2)||'N/A',_0x31f6d3=_0x1397fd[_0x4adeb7]?.['r'][_0x2d0776(0xd15)](0x2)||_0x2d0776(0xaf9),_0x33b988=_0x5d1f6b(_0x44b77e[_0x2d0776(0x912)]||_0x44b77e['stem']);_0xeeb2d7+='-\x20ข้อ\x20'+(_0x4adeb7+0x1)+_0x2d0776(0xb34)+_0x5032ee+',\x20r='+_0x31f6d3+_0x2d0776(0xd22)+_0x33b988+'\x5cn';if(_0x44b77e[_0x2d0776(0xb6d)]===_0x2d0776(0xbb3)&&_0x5dac07[_0x4adeb7]){const _0x46ae0d=_0x5dac07[_0x4adeb7],_0x10b498=Object['keys'](_0x46ae0d)[_0x2d0776(0xe4e)](_0x2a4bb9=>parseInt(_0x2a4bb9)!==_0x44b77e['correctAnswerIndex'])[_0x2d0776(0x6f8)]((_0x5195f0,_0x3f6f14)=>_0x46ae0d[_0x3f6f14]['total']-_0x46ae0d[_0x5195f0][_0x2d0776(0x24d)])[0x0];if(_0x10b498&&_0x46ae0d[_0x10b498][_0x2d0776(0x24d)]>0x0){const _0x58bd1c=_0x5d1f6b(_0x46ae0d[_0x10b498]['text']);_0xeeb2d7+=_0x2d0776(0x974)+_0x58bd1c+'\x22\x5cn';}}});const _0x1b4dcb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x2517d4[_0x1c3e6d(0x308)]+_0x1c3e6d(0x56e)+_0xeeb2d7+_0x1c3e6d(0x384),_0x3a4928={'type':_0x1c3e6d(0xda2),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x1c3e6d(0x9eb)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x1c3e6d(0xb83),'items':{'type':_0x1c3e6d(0xda2),'properties':{'question':{'type':_0x1c3e6d(0x9eb)},'solution':{'type':_0x1c3e6d(0x9eb)}}}}},'required':[_0x1c3e6d(0x7ef),'teachingContent','practiceProblems']},_0x1b1c76=await callAnalysisApi(_0x1b4dcb,_0x3a4928);await updateDoc(_0x356e77,{'lessonPlan':_0x1b1c76});const _0xbe906c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x2517d4[_0x1c3e6d(0x308)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x1b1c76['learningGaps'][_0x1c3e6d(0x91f)](_0x1d26cb=>_0x1c3e6d(0xa5c)+_0x1d26cb+'</li>')[_0x1c3e6d(0x8c3)]('')+_0x1c3e6d(0xa98)+_0x1b1c76[_0x1c3e6d(0xc53)]+_0x1c3e6d(0xcaa)+_0x1b1c76[_0x1c3e6d(0x3b9)]['map'](_0x1cd6ad=>_0x1c3e6d(0x560)+_0x1cd6ad[_0x1c3e6d(0x77c)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x1cd6ad[_0x1c3e6d(0x55b)]+'</p></div>')[_0x1c3e6d(0x8c3)]('')+_0x1c3e6d(0xb4c);document['getElementById'](_0x1c3e6d(0x698))[_0x1c3e6d(0x337)]=_0x1c3e6d(0xcb8)+_0x2517d4[_0x1c3e6d(0x308)],document['getElementById'](_0x1c3e6d(0x840))[_0x1c3e6d(0x674)]=_0xbe906c,document[_0x1c3e6d(0x6ec)](_0x1c3e6d(0xaf8))[_0x1c3e6d(0xed5)]['remove'](_0x1c3e6d(0x515));if(window[_0x1c3e6d(0xef3)])MathJax[_0x1c3e6d(0x396)]();messageModal['classList'][_0x1c3e6d(0xbca)](_0x1c3e6d(0x515));}catch(_0x33afd9){console[_0x1c3e6d(0x61c)](_0x1c3e6d(0xb3e),_0x33afd9),showMessage(_0x1c3e6d(0xebb)+_0x33afd9[_0x1c3e6d(0x784)]);}}async function handleDuplicateQuiz(_0x347a2c){const _0x5c283f=_0x2e2582;try{const _0x5e43d8=doc(db,_0x5c283f(0x509)+appId+_0x5c283f(0x2d1),_0x347a2c),_0x14e2b3=await getDoc(_0x5e43d8);if(_0x14e2b3['exists']()){const _0x5da885=_0x14e2b3[_0x5c283f(0xe5c)]();let _0x290c28='',_0x14fa0a=_0x5c283f(0x395),_0x40c503=null;if(_0x5da885[_0x5c283f(0xbc5)]==='pre-test'){let _0x5d50f8=_0x5da885[_0x5c283f(0x308)][_0x5c283f(0x3cc)](_0x5c283f(0x24f),'')['trim']();_0x290c28='(หลังเรียน)\x20'+_0x5d50f8,_0x14fa0a=_0x5c283f(0xe26),_0x40c503=_0x347a2c;}else _0x290c28=_0x5c283f(0x34a)+_0x5da885[_0x5c283f(0x308)];const _0x56c33f={..._0x5da885,'topic':_0x290c28,'createdAt':new Date()['toISOString'](),'quizMode':_0x14fa0a,'pairedQuizId':_0x40c503};let _0x52b0ed;while(!![]){_0x52b0ed=Math['floor'](0x3e8+Math[_0x5c283f(0x76c)]()*0x2328)[_0x5c283f(0xe25)]();const _0x188da3=await getDoc(doc(db,_0x5c283f(0x509)+appId+_0x5c283f(0x2d1),_0x52b0ed));if(!_0x188da3['exists']())break;}const _0x1318b2=doc(db,_0x5c283f(0x509)+appId+'/public/data/quizzes',_0x52b0ed);await setDoc(_0x1318b2,_0x56c33f),_0x56c33f[_0x5c283f(0xbc5)]===_0x5c283f(0xe26)&&await updateDoc(_0x5e43d8,{'pairedQuizId':_0x52b0ed}),showMessage(_0x5c283f(0x6a1));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x3ebc52){console[_0x5c283f(0x61c)]('Error\x20duplicating\x20quiz:',_0x3ebc52),showMessage(_0x5c283f(0x1ca));}}async function handleDeleteQuiz(_0x25edbb,_0x539507=!![]){const _0x4e02a3=_0x2e2582;try{const _0x18d63b=writeBatch(db),_0xbb0c9c=collection(db,_0x4e02a3(0x509)+appId+_0x4e02a3(0xd97)+_0x25edbb+_0x4e02a3(0xb14)),_0x1ba53a=await getDocs(_0xbb0c9c);_0x1ba53a[_0x4e02a3(0x9ce)](_0x3328bb=>{const _0x2e87ca=_0x4e02a3;_0x18d63b[_0x2e87ca(0x69c)](doc(_0xbb0c9c,_0x3328bb['id']));});const _0x4d44c0=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x25edbb);_0x18d63b[_0x4e02a3(0x69c)](_0x4d44c0),await _0x18d63b['commit']();try{console['log']('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x25edbb+_0x4e02a3(0xb06));const _0x567792=collection(db,_0x4e02a3(0x509)+appId+_0x4e02a3(0x9d8)),_0x3f177e=await getDocs(_0x567792),_0x46bdd6=[];_0x3f177e[_0x4e02a3(0x9ce)](_0x469477=>{const _0x32fa97=_0x4e02a3,_0x48d4d0=_0x469477['data'](),_0x414b39=_0x48d4d0[_0x32fa97(0x9a5)]||{};let _0x1c61de=![];for(const _0x4f8a59 in _0x414b39){const _0x585cf1=_0x414b39[_0x4f8a59];if(_0x585cf1['linkedQuizIds']&&_0x585cf1[_0x32fa97(0xee3)]['includes'](_0x25edbb)){_0x1c61de=!![];const _0x197b27=doc(db,_0x32fa97(0x509)+appId+_0x32fa97(0x9d8),_0x469477['id']),_0x38f7a1=updateDoc(_0x197b27,{[_0x32fa97(0xabf)+_0x4f8a59+'.linkedQuizIds']:arrayRemove(_0x25edbb)});_0x46bdd6[_0x32fa97(0x724)](_0x38f7a1);}}}),_0x46bdd6[_0x4e02a3(0x83b)]>0x0&&(await Promise['all'](_0x46bdd6),console[_0x4e02a3(0xeec)](_0x4e02a3(0x28c)+_0x46bdd6['length']+_0x4e02a3(0xa50)+_0x25edbb+'.'));}catch(_0x37589d){console[_0x4e02a3(0x61c)](_0x4e02a3(0x413),_0x37589d);}_0x539507&&showMessage(_0x4e02a3(0xa88));}catch(_0xbbd91f){console[_0x4e02a3(0x61c)](_0x4e02a3(0xc80),_0xbbd91f),_0x539507&&showMessage(_0x4e02a3(0x6b7));}}async function showQuizDetailView(_0x10e61f){const _0x5f36c8=_0x2e2582;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x67dadf=doc(db,_0x5f36c8(0x509)+appId+_0x5f36c8(0x2d1),_0x10e61f),_0x5b04cd=await getDoc(_0x67dadf);if(!_0x5b04cd[_0x5f36c8(0xa82)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x276e2f={'id':_0x5b04cd['id'],..._0x5b04cd[_0x5f36c8(0xe5c)]()};currentQuizData=_0x276e2f;const _0x2f2d8f=doc(db,_0x5f36c8(0x509)+appId+_0x5f36c8(0x850),_0x276e2f[_0x5f36c8(0x6ea)]),_0x3ac53d=await getDoc(_0x2f2d8f);_0x3ac53d[_0x5f36c8(0xa82)]()?(currentProjectData=_0x3ac53d[_0x5f36c8(0xe5c)](),currentProjectId=_0x276e2f['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x276e2f[_0x5f36c8(0x6ea)]);document[_0x5f36c8(0x6ec)](_0x5f36c8(0x701))[_0x5f36c8(0x337)]=_0x276e2f[_0x5f36c8(0x308)],document[_0x5f36c8(0x6ec)]('results-quiz-id-display')['textContent']=_0x10e61f;const _0x32742c=collection(db,_0x5f36c8(0x509)+appId+_0x5f36c8(0x2d1),_0x10e61f,_0x5f36c8(0xc9b));unsubscribeSubmissionsListener=onSnapshot(_0x32742c,_0xf0facb=>{const _0xb6aed4=_0x5f36c8,_0x1ad902=_0xf0facb[_0xb6aed4(0x875)][_0xb6aed4(0x91f)](_0x3531ff=>({'id':_0x3531ff['id'],..._0x3531ff[_0xb6aed4(0xe5c)]()}));currentSubmissions=_0x1ad902;const _0x4bdc9a=_0x1ad902[_0xb6aed4(0xe4e)](_0x27038d=>_0x27038d[_0xb6aed4(0x3ea)]&&_0x27038d[_0xb6aed4(0x3ea)]['length']>0x0);renderBehaviorLog(_0x1ad902),renderAnswerGrid(currentProjectData[_0xb6aed4(0x30d)],_0x4bdc9a,_0x276e2f),renderAnalytics(_0x276e2f,_0x4bdc9a),renderQuizResultsTable(currentProjectData['students'],_0x1ad902,_0x276e2f),renderQuizLeaderboard(_0x4bdc9a,_0x276e2f,_0xb6aed4(0xe49));}),showView(_0x5f36c8(0xcb0));}catch(_0xda64d8){console['error'](_0x5f36c8(0x549),_0xda64d8),showMessage(_0x5f36c8(0xa16));}}function renderAnswerGrid(_0x7d5a02,_0x207d1e,_0x3fc603){const _0x5bb45a=_0x2e2582,_0x163b2b=document[_0x5bb45a(0x6ec)](_0x5bb45a(0x2f4));if(!_0x163b2b)return;if(!_0x7d5a02||_0x7d5a02[_0x5bb45a(0x83b)]===0x0){_0x163b2b[_0x5bb45a(0x674)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x186309=_0x3fc603[_0x5bb45a(0xa08)],_0x1886dc=_0x207d1e[_0x5bb45a(0x5ed)]((_0x43cd8c,_0x3f2adf)=>{const _0x307d34=_0x5bb45a;return _0x43cd8c[_0x3f2adf[_0x307d34(0xba6)]]=_0x3f2adf,_0x43cd8c;},{}),_0x3146d9=_0x39d0d9=>String[_0x5bb45a(0xb87)](0x41+_0x39d0d9),_0x535cf9=_0x5ab994=>{const _0x5602d8=_0x5bb45a,_0x109251=_0x5ab994[_0x5602d8(0xb6d)]||_0x3fc603[_0x5602d8(0x80d)];switch(_0x109251){case _0x5602d8(0xbb3):return _0x5ab994[_0x5602d8(0x25f)]&&_0x5ab994[_0x5602d8(0x25f)][_0x5602d8(0x83b)]>_0x5ab994[_0x5602d8(0x526)]?_0x3146d9(_0x5ab994['correctAnswerIndex']):'-';case _0x5602d8(0x35c):const _0x355835=_0x5ab994[_0x5602d8(0xec0)]===!![]||String(_0x5ab994[_0x5602d8(0xec0)])[_0x5602d8(0x3be)]()===_0x5602d8(0xbb9);return _0x355835?_0x5602d8(0xf19):_0x5602d8(0x369);case _0x5602d8(0x440):return _0x5ab994[_0x5602d8(0xc32)]||'-';case _0x5602d8(0x466):return _0x5602d8(0xa86);default:return'-';}},_0x5864f1=(_0x5d1fc8,_0x3c86b7)=>{const _0x2c5e67=_0x5bb45a;if(_0x3c86b7[_0x2c5e67(0x67c)]===null||_0x3c86b7[_0x2c5e67(0x67c)]===undefined)return'-';const _0x42c30d=_0x5d1fc8[_0x2c5e67(0xb6d)]||_0x3fc603[_0x2c5e67(0x80d)];switch(_0x42c30d){case _0x2c5e67(0xbb3):const _0x2db4ad=_0x5d1fc8['options'][_0x2c5e67(0x8e8)](_0x326094=>_0x326094===_0x3c86b7[_0x2c5e67(0x252)]);return _0x2db4ad!==-0x1?_0x3146d9(_0x2db4ad):_0x3c86b7[_0x2c5e67(0x252)]||'-';case _0x2c5e67(0x35c):if(_0x3c86b7[_0x2c5e67(0x67c)]=='0'||_0x3c86b7[_0x2c5e67(0x67c)]===!![]||_0x3c86b7[_0x2c5e67(0x67c)]===_0x2c5e67(0xbb9))return _0x2c5e67(0xf19);return _0x2c5e67(0x369);default:return _0x3c86b7[_0x2c5e67(0x67c)];}};let _0x23e9ec=_0x5bb45a(0x4f2)+_0x186309[_0x5bb45a(0x91f)]((_0x386be0,_0x14a0d6)=>_0x5bb45a(0x9f2)+(_0x14a0d6+0x1)+_0x5bb45a(0x328))['join']('')+_0x5bb45a(0xd7f)+_0x186309[_0x5bb45a(0x91f)](_0x5bcbbc=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x535cf9(_0x5bcbbc)+'</td>')['join']('')+_0x5bb45a(0xf16);_0x7d5a02[_0x5bb45a(0x9ce)](_0x5339eb=>{const _0x318bb2=_0x5bb45a;_0x23e9ec+=_0x318bb2(0xcf3),_0x23e9ec+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x5339eb+_0x318bb2(0x9df);const _0x3f0533=_0x1886dc[_0x5339eb];if(_0x3f0533){const _0x4b506f=_0x3f0533['attempts'][_0x3f0533['attempts'][_0x318bb2(0x83b)]-0x1];_0x186309[_0x318bb2(0x9ce)]((_0x334f65,_0x2b73cc)=>{const _0x453584=_0x318bb2,_0x2a437d=_0x4b506f[_0x453584(0x767)]['find'](_0x450b48=>_0x450b48[_0x453584(0xe04)]===_0x334f65['id']);if(_0x2a437d){let _0x14a9c2='';const _0x396b5d=_0x2a437d[_0x453584(0x33c)]===!![],_0x2c8101=_0x2a437d[_0x453584(0x8fd)]===!![]||_0x2a437d['wasConfident']===_0x453584(0xaac),_0x2253c4=_0x2a437d['powerupUsed'];if(_0x2253c4===_0x453584(0x592))_0x396b5d?_0x14a9c2=_0x453584(0x7a9):_0x14a9c2=_0x453584(0xb9f);else _0x2c8101?_0x14a9c2=_0x396b5d?_0x453584(0xa66):'bg-red-500\x20text-white\x20font-bold':_0x14a9c2=_0x396b5d?_0x453584(0xd37):_0x453584(0x9a8);_0x23e9ec+=_0x453584(0x3f7)+_0x14a9c2+'\x22>'+_0x5864f1(_0x334f65,_0x2a437d)+_0x453584(0x9df);}else _0x23e9ec+=_0x453584(0x7e6);});}else _0x23e9ec+=_0x186309[_0x318bb2(0x91f)](()=>_0x318bb2(0x6b3))[_0x318bb2(0x8c3)]('');_0x23e9ec+='</tr>';}),_0x23e9ec+=_0x5bb45a(0x958),_0x163b2b[_0x5bb45a(0x674)]=_0x23e9ec;}function renderQuizResultsTable(_0x339160,_0x18b07c,_0x47dbb4){const _0x786c43=_0x2e2582,_0x14707c=_0x18b07c[_0x786c43(0x5ed)]((_0x3b6cac,_0x3e8976)=>{return _0x3b6cac[_0x3e8976['studentName']]=_0x3e8976,_0x3b6cac;},{}),_0x37eb0e=document[_0x786c43(0x427)](_0x786c43(0xa7d));_0x37eb0e&&!_0x37eb0e[_0x786c43(0x674)][_0x786c43(0x9ee)](_0x786c43(0xee4))&&(_0x37eb0e['innerHTML']+=_0x786c43(0x9cb));const _0x5b1fe1=document[_0x786c43(0x6ec)](_0x786c43(0x6ef));if(!_0x339160||_0x339160[_0x786c43(0x83b)]===0x0){_0x5b1fe1[_0x786c43(0x674)]=_0x786c43(0xe50);return;}const _0x1e4ebc=_0x47dbb4[_0x786c43(0x6e5)]===!![],_0x11a729=_0x47dbb4[_0x786c43(0xe11)]?.['passingScore']??-0x1;let _0x9ffa56='';_0x339160['forEach'](_0x176b5f=>{const _0x14524e=_0x786c43,_0x358f5b=_0x14707c[_0x176b5f];let _0x15dab7=_0x14524e(0xd13)+(_0x1e4ebc?'bg-amber-100\x20text-amber-800':_0x14524e(0x659))+'\x22>'+(_0x1e4ebc?_0x14524e(0xba9):_0x14524e(0x93d))+'</span></td>';if(_0x358f5b){if(_0x358f5b[_0x14524e(0x3ea)]&&_0x358f5b[_0x14524e(0x3ea)]['length']>0x0){let _0x5354fc=_0x1e4ebc?_0x358f5b['bestScore']===_0x358f5b[_0x14524e(0x410)]:_0x11a729!==-0x1&&_0x358f5b['bestScore']>=_0x11a729;const _0x29fefb=_0x5354fc?_0x14524e(0xd37):'bg-red-100\x20text-red-800',_0x1b770c=_0x5354fc?'ผ่าน':'ไม่ผ่าน',_0x2f802e=_0x14524e(0x8de)+_0x29fefb+'\x22>'+_0x1b770c+_0x14524e(0xa93),_0x1d3e15=_0x14524e(0x793)+(_0x358f5b['attempts']?.[_0x14524e(0x83b)]||0x1)+_0x14524e(0xb5f),_0x196fa0=_0x14524e(0xb05)+(_0x358f5b[_0x14524e(0xf1b)]||0x0)[_0x14524e(0xe4c)]()+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22'+_0x176b5f+_0x14524e(0x8df)+(_0x358f5b['points']||0x0)+_0x14524e(0x615);_0x9ffa56+=_0x14524e(0x67d)+_0x176b5f+_0x14524e(0xd61)+_0x358f5b[_0x14524e(0x4f8)]+_0x14524e(0xa09)+_0x358f5b[_0x14524e(0x410)]+_0x14524e(0xc8e)+_0x2f802e+_0x14524e(0x500)+_0x15dab7+_0x14524e(0x633)+_0x358f5b[_0x14524e(0x65c)]+'\x20/\x20'+_0x358f5b[_0x14524e(0x410)]+_0x14524e(0xd3f)+_0x358f5b['latestScore']+_0x14524e(0xa09)+_0x358f5b[_0x14524e(0x410)]+_0x14524e(0x414)+_0x196fa0+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d3e15+_0x14524e(0x620)+new Date(_0x358f5b[_0x14524e(0x7e7)])[_0x14524e(0xe4c)](_0x14524e(0xb17))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x176b5f+_0x14524e(0xc5f);}else{const _0xa6a4e7=_0x14524e(0x37b);_0x9ffa56+=_0x14524e(0x78f)+_0x176b5f+_0x14524e(0x8d4)+_0x15dab7+_0x14524e(0x9fd)+_0xa6a4e7+_0x14524e(0x620)+new Date(_0x358f5b[_0x14524e(0x54a)])['toLocaleString'](_0x14524e(0xb17))+_0x14524e(0x242)+_0x176b5f+_0x14524e(0xc5f);}}else{const _0xc583a4=_0x14524e(0x774);_0x9ffa56+=_0x14524e(0x271)+_0x176b5f+_0x14524e(0xa06)+_0x15dab7+_0x14524e(0xe34)+_0xc583a4+_0x14524e(0x5cf);}}),_0x5b1fe1[_0x786c43(0x674)]=_0x9ffa56;}async function confirmRenameQuiz(){const _0x53ade4=_0x2e2582,_0x42d085=document[_0x53ade4(0x6ec)](_0x53ade4(0xf38))['value'][_0x53ade4(0xdd8)]();if(!_0x42d085){showMessage(_0x53ade4(0xcf6));return;}if(!actionTargetId)return;const _0x2e3a6c=doc(db,_0x53ade4(0x509)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x2e3a6c,{'topic':_0x42d085}),showMessage(_0x53ade4(0xad4)),renameQuizModal['classList']['add'](_0x53ade4(0x515)),actionTargetId=null;}catch(_0x1a0141){console[_0x53ade4(0x61c)](_0x53ade4(0xd23),_0x1a0141),showMessage(_0x53ade4(0xebd));}}async function handleMoveQuiz(_0x5d0348){const _0x12127d=_0x2e2582;actionTargetId=_0x5d0348;const _0x295a98=document[_0x12127d(0x6ec)](_0x12127d(0xd3a));_0x295a98[_0x12127d(0x674)]=_0x12127d(0xc90),moveQuizModal['classList'][_0x12127d(0xb8a)](_0x12127d(0x515));try{const _0x8ebcf6=collection(db,_0x12127d(0x509)+appId+_0x12127d(0x850)),_0x1c18c1=await getDocs(_0x8ebcf6),_0x50d782=_0x1c18c1['docs']['map'](_0x169d0f=>({'id':_0x169d0f['id'],..._0x169d0f['data']()})),_0x1ff93e=_0x50d782[_0x12127d(0xe4e)](_0x2163f0=>_0x2163f0['id']!==currentProjectId);if(_0x1ff93e[_0x12127d(0x83b)]===0x0){_0x295a98[_0x12127d(0x674)]=_0x12127d(0x8b7),document[_0x12127d(0x6ec)]('confirm-move-quiz-btn')[_0x12127d(0x736)]=!![];return;}_0x295a98[_0x12127d(0x674)]=_0x1ff93e[_0x12127d(0x91f)](_0x54c295=>_0x12127d(0x3e4)+_0x54c295['id']+'\x22>'+_0x54c295[_0x12127d(0x52e)]+'</option>')[_0x12127d(0x8c3)](''),document['getElementById'](_0x12127d(0xc22))[_0x12127d(0x736)]=![];}catch(_0x2ebe20){console['error'](_0x12127d(0xc9c),_0x2ebe20),showMessage(_0x12127d(0x1f6)),moveQuizModal[_0x12127d(0xed5)]['add']('hidden');}}async function confirmMoveQuiz(){const _0x6f514c=_0x2e2582,_0x374dbb=document[_0x6f514c(0x6ec)](_0x6f514c(0xd3a))[_0x6f514c(0x8c2)];if(!_0x374dbb){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x572773=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x572773,{'projectId':_0x374dbb}),showMessage(_0x6f514c(0x3ba)),moveQuizModal['classList'][_0x6f514c(0xbca)](_0x6f514c(0x515)),actionTargetId=null;}catch(_0x501da6){console[_0x6f514c(0x61c)]('Error\x20moving\x20quiz:',_0x501da6),showMessage(_0x6f514c(0xf32));}}async function handleQuizSettings(_0x2b338f){const _0x5022fb=_0x2e2582;actionTargetId=_0x2b338f;const _0x3c772c=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2b338f);try{const _0x49d030=await getDoc(_0x3c772c);if(_0x49d030[_0x5022fb(0xa82)]()){const _0x4cbe4c=_0x49d030[_0x5022fb(0xe5c)](),_0x131236=_0x4cbe4c['settings']||{},_0x2e9811=_0x4cbe4c[_0x5022fb(0xa08)][_0x5022fb(0x83b)];document['getElementById']('modal-shuffle-select')['value']=_0x131236['shuffle']||_0x5022fb(0xd62),document[_0x5022fb(0x6ec)](_0x5022fb(0xd6a))['value']=_0x131236[_0x5022fb(0xb4b)]||_0x5022fb(0xf01),document[_0x5022fb(0x6ec)](_0x5022fb(0xa9d))['value']=_0x131236[_0x5022fb(0xf09)]||_0x5022fb(0xd62),document[_0x5022fb(0x6ec)](_0x5022fb(0x20b))['value']=_0x131236[_0x5022fb(0xedc)]||0xa,document[_0x5022fb(0x6ec)](_0x5022fb(0x860))[_0x5022fb(0x8c2)]=_0x131236['passingScore']||Math[_0x5022fb(0xabc)](_0x2e9811/0x2),document[_0x5022fb(0x6ec)](_0x5022fb(0x860))[_0x5022fb(0xd94)]=_0x2e9811,document[_0x5022fb(0x6ec)](_0x5022fb(0x39f))[_0x5022fb(0xa0a)]=_0x131236[_0x5022fb(0x335)]||![],document[_0x5022fb(0x6ec)](_0x5022fb(0xb65))[_0x5022fb(0xa0a)]=_0x131236['loopUntilPass']||![];const _0x46c758=_0x131236['isConfidenceScoringEnabled']||![];document[_0x5022fb(0x6ec)](_0x5022fb(0x857))[_0x5022fb(0xa0a)]=_0x46c758,document[_0x5022fb(0x6ec)](_0x5022fb(0xb30))[_0x5022fb(0x8c2)]=_0x131236[_0x5022fb(0x7cb)]||'checkbox';const _0x61019f=document[_0x5022fb(0x6ec)](_0x5022fb(0xbad));_0x61019f[_0x5022fb(0xed5)]['toggle'](_0x5022fb(0x515),!_0x46c758),document[_0x5022fb(0x6ec)](_0x5022fb(0xa9d))[_0x5022fb(0xf07)](new Event(_0x5022fb(0xefa))),quizSettingsModal[_0x5022fb(0xed5)][_0x5022fb(0xb8a)](_0x5022fb(0x515));}else showMessage(_0x5022fb(0x476));}catch(_0x4cc660){console[_0x5022fb(0x61c)]('Error\x20fetching\x20quiz\x20settings:',_0x4cc660),showMessage(_0x5022fb(0xd00));}}async function confirmQuizSettings(){const _0x234b66=_0x2e2582;if(!actionTargetId)return;const _0x389baf=doc(db,_0x234b66(0x509)+appId+_0x234b66(0x2d1),actionTargetId),_0x30e8fe={'shuffle':document[_0x234b66(0x6ec)]('modal-shuffle-select')[_0x234b66(0x8c2)],'resultsDisplay':document[_0x234b66(0x6ec)](_0x234b66(0xd6a))['value'],'timerMode':document[_0x234b66(0x6ec)](_0x234b66(0xa9d))[_0x234b66(0x8c2)],'timerDuration':parseInt(document[_0x234b66(0x6ec)](_0x234b66(0x20b))[_0x234b66(0x8c2)])||0xa,'passingScore':parseInt(document[_0x234b66(0x6ec)](_0x234b66(0x860))['value'])||0x0,'isAdaptive':document['getElementById']('modal-adaptive-quiz-checkbox')['checked'],'loopUntilPass':document[_0x234b66(0x6ec)](_0x234b66(0xb65))[_0x234b66(0xa0a)],'isConfidenceScoringEnabled':document[_0x234b66(0x6ec)](_0x234b66(0x857))[_0x234b66(0xa0a)],'confidenceMode':document[_0x234b66(0x6ec)](_0x234b66(0xb30))['value']};try{await updateDoc(_0x389baf,{'settings':_0x30e8fe}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x234b66(0xed5)][_0x234b66(0xbca)](_0x234b66(0x515)),actionTargetId=null;}catch(_0x5dca01){console[_0x234b66(0x61c)](_0x234b66(0xed9),_0x5dca01),showMessage(_0x234b66(0xcdd));}}async function confirmQuizStatus(){const _0x32a2dd=_0x2e2582;if(!actionTargetId)return;const _0x222685=doc(db,_0x32a2dd(0x509)+appId+_0x32a2dd(0x2d1),actionTargetId),_0x2582e2=document[_0x32a2dd(0x427)](_0x32a2dd(0x806));if(!_0x2582e2){showMessage(_0x32a2dd(0xe39));return;}const _0x7edf15=_0x2582e2['value'];let _0x9b16cd={};if(_0x7edf15===_0x32a2dd(0xb3d)||_0x7edf15===_0x32a2dd(0xace))_0x9b16cd={'status':_0x7edf15,'startTime':null,'endTime':null};else{if(_0x7edf15==='schedule'){const _0x917439=document[_0x32a2dd(0x6ec)]('quiz-start-time')[_0x32a2dd(0x8c2)],_0x3071a2=document[_0x32a2dd(0x6ec)]('quiz-end-time')[_0x32a2dd(0x8c2)];if(!_0x917439&&!_0x3071a2){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x9b16cd={'status':_0x32a2dd(0x95f),'startTime':_0x917439?new Date(_0x917439)[_0x32a2dd(0xbae)]():null,'endTime':_0x3071a2?new Date(_0x3071a2)[_0x32a2dd(0xbae)]():null};}}try{await updateDoc(_0x222685,_0x9b16cd),showMessage(_0x32a2dd(0x603)),quizStatusModal[_0x32a2dd(0xed5)]['add']('hidden'),actionTargetId=null;}catch(_0x10d225){console[_0x32a2dd(0x61c)]('Error\x20updating\x20quiz\x20status:',_0x10d225),showMessage(_0x32a2dd(0x634));}}function listenForStudentProfiles(_0x3d7bcf){const _0x4aca47=_0x2e2582,_0x4a1065=collection(db,_0x4aca47(0x509)+appId+_0x4aca47(0x76d)+_0x3d7bcf+_0x4aca47(0xe9d));unsubscribeStudentProfilesListener=onSnapshot(_0x4a1065,_0x4f0bf4=>{const _0x366c01=_0x4aca47,_0xa5afb6=_0x4f0bf4[_0x366c01(0x875)][_0x366c01(0x91f)](_0x4f5334=>_0x4f5334[_0x366c01(0xe5c)]());renderLeaderboard(_0xa5afb6,'leaderboard-table-body');},_0x5a3b8e=>{const _0x48c463=_0x4aca47;console[_0x48c463(0x61c)](_0x48c463(0x746),_0x5a3b8e),document[_0x48c463(0x6ec)]('leaderboard-table-body')[_0x48c463(0x674)]=_0x48c463(0xc67);});}function renderLeaderboard(_0x36728b,_0x55e6a2){const _0x2564be=_0x2e2582,_0x5b1c36=document['getElementById'](_0x55e6a2);if(!_0x36728b||_0x36728b[_0x2564be(0x83b)]===0x0){_0x5b1c36[_0x2564be(0x674)]=_0x2564be(0x338);return;}_0x36728b[_0x2564be(0x6f8)]((_0x26c1d5,_0x2937cc)=>{const _0x39a15a=_0x2564be,_0x4d39b6=(_0x2937cc[_0x39a15a(0x468)]||0x0)-(_0x26c1d5[_0x39a15a(0x468)]||0x0);if(_0x4d39b6!==0x0)return _0x4d39b6;const _0x4d5125=(_0x2937cc['badgesCount']?.[_0x39a15a(0xf15)]||0x0)-(_0x26c1d5[_0x39a15a(0x7b9)]?.[_0x39a15a(0xf15)]||0x0);if(_0x4d5125!==0x0)return _0x4d5125;const _0x36d44b=(_0x2937cc['badgesCount']?.[_0x39a15a(0x885)]||0x0)-(_0x26c1d5[_0x39a15a(0x7b9)]?.[_0x39a15a(0x885)]||0x0);if(_0x36d44b!==0x0)return _0x36d44b;const _0x5c5c24=(_0x2937cc[_0x39a15a(0x7b9)]?.['perfect_score']||0x0)-(_0x26c1d5[_0x39a15a(0x7b9)]?.[_0x39a15a(0x564)]||0x0);if(_0x5c5c24!==0x0)return _0x5c5c24;const _0x4ac253=(_0x2937cc[_0x39a15a(0x7b9)]?.[_0x39a15a(0x5ab)]||0x0)-(_0x26c1d5[_0x39a15a(0x7b9)]?.[_0x39a15a(0x5ab)]||0x0);if(_0x4ac253!==0x0)return _0x4ac253;return _0x26c1d5[_0x39a15a(0xba6)][_0x39a15a(0x6e9)](_0x2937cc['studentName'],'th');});let _0x2557b2='';_0x36728b[_0x2564be(0x9ce)]((_0x15d943,_0x4f12f7)=>{const _0x251778=_0x2564be,_0x498dc9=_0x4f12f7+0x1,_0xed9c4=_0x15d943['badgesCount']||{};let _0x1505e3='';const _0x31230b=[_0x251778(0xf15),_0x251778(0x564),_0x251778(0x885),_0x251778(0x5ab)];_0x31230b[_0x251778(0x9ce)](_0x24bc49=>{const _0x13ea4c=_0x251778;if(_0xed9c4[_0x24bc49]>0x0){const _0x241feb=Object[_0x13ea4c(0x586)](BADGES)[_0x13ea4c(0x426)](_0x118c41=>_0x118c41['id']===_0x24bc49);_0x241feb&&(_0x24bc49==='specialist'?_0x1505e3+=_0x13ea4c(0x997)+_0x241feb['name']+_0x13ea4c(0xb0f)+_0x241feb[_0x13ea4c(0xd08)]+_0x13ea4c(0xc6a):_0x1505e3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x241feb[_0x13ea4c(0x47c)]+'\x20('+_0xed9c4[_0x24bc49]+_0x13ea4c(0x65f)+_0x241feb['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0xed9c4[_0x24bc49]+_0x13ea4c(0xd3d));}}),_0x2557b2+=_0x251778(0x552)+_0x498dc9+_0x251778(0x414)+_0x15d943['studentName']+_0x251778(0x532)+(_0x15d943['totalPoints']||0x0)['toLocaleString']()+_0x251778(0x414)+(_0x1505e3||'-')+_0x251778(0xc2c);}),_0x5b1c36[_0x2564be(0x674)]=_0x2557b2;}function displayLoopScreen(_0x1c4b40,_0x4be5fa,_0x1f7e07){const _0x37f793=_0x2e2582;let _0x277a7b='';_0x1f7e07!==_0x37f793(0x962)&&(_0x277a7b=_0x37f793(0x4c8)+_0x1c4b40+_0x37f793(0xa09)+_0x4be5fa+_0x37f793(0xb0c));const _0x427ea5=_0x37f793(0x24b)+_0x277a7b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x37f793(0x674)]=_0x427ea5,studentResultArea[_0x37f793(0xed5)][_0x37f793(0xb8a)]('hidden'),studentQuizArea[_0x37f793(0xed5)][_0x37f793(0xbca)](_0x37f793(0x515)),document[_0x37f793(0x6ec)](_0x37f793(0x984))[_0x37f793(0x504)](_0x37f793(0x7b0),()=>{const _0x3b5d74=_0x37f793;studentResultArea[_0x3b5d74(0xed5)][_0x3b5d74(0xbca)](_0x3b5d74(0x515)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x429076,_0xc64ae3,_0x5ce875){const _0x42586d=_0x2e2582,_0x453fdf=document[_0x42586d(0x6ec)](_0x5ce875),_0x558a26=_0x5ce875===_0x42586d(0xbc8),_0x2d1be2=_0xc64ae3[_0x42586d(0xa08)][_0x42586d(0x83b)],_0x52dc49=document[_0x42586d(0x6ec)](_0x5ce875)[_0x42586d(0x366)](_0x42586d(0x4ce));if(_0x52dc49&&!_0x558a26){const _0x43380a=_0x52dc49[_0x42586d(0x427)]('thead');_0x43380a[_0x42586d(0x674)]=_0x42586d(0xef0);}if(!_0x429076||_0x429076[_0x42586d(0x83b)]===0x0){_0x453fdf[_0x42586d(0x674)]=_0x42586d(0xe10)+(_0x558a26?0x6:0x8)+_0x42586d(0x213);return;}const _0x57cd34=[..._0x429076];_0x57cd34[_0x42586d(0x6f8)]((_0x571c11,_0x31b7c9)=>{const _0x5517b0=_0x42586d;let _0x4b602d,_0x1d2bb4;switch(quizLeaderboardSortBy){case _0x5517b0(0xba6):_0x4b602d=_0x571c11[_0x5517b0(0xba6)]||'',_0x1d2bb4=_0x31b7c9[_0x5517b0(0xba6)]||'';return quizLeaderboardSortOrder===_0x5517b0(0x9a1)?_0x4b602d[_0x5517b0(0x6e9)](_0x1d2bb4,'th'):_0x1d2bb4['localeCompare'](_0x4b602d,'th');case _0x5517b0(0xf1b):_0x4b602d=_0x571c11['points']||0x0,_0x1d2bb4=_0x31b7c9[_0x5517b0(0xf1b)]||0x0;break;case'attempts':_0x4b602d=_0x571c11[_0x5517b0(0x3ea)]?.['length']||0x1,_0x1d2bb4=_0x31b7c9['attempts']?.[_0x5517b0(0x83b)]||0x1;break;case _0x5517b0(0x7e7):_0x4b602d=new Date(_0x571c11[_0x5517b0(0x7e7)]),_0x1d2bb4=new Date(_0x31b7c9[_0x5517b0(0x7e7)]);break;case _0x5517b0(0x4f8):default:_0x4b602d=_0x571c11[_0x5517b0(0x4f8)],_0x1d2bb4=_0x31b7c9[_0x5517b0(0x4f8)];break;}if(_0x4b602d<_0x1d2bb4)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x4b602d>_0x1d2bb4)return quizLeaderboardSortOrder===_0x5517b0(0x9a1)?0x1:-0x1;return 0x0;});const _0x2ce145=_0xc64ae3[_0x42586d(0x6e5)]===!![],_0x3aa6c9=_0xc64ae3[_0x42586d(0xe11)]?.[_0x42586d(0x582)]??-0x1;let _0xc70692='';_0x57cd34[_0x42586d(0x9ce)]((_0x50e58e,_0x512bb3)=>{const _0x2da8d5=_0x42586d,_0x48ae1a=_0x512bb3+0x1;let _0x22cb71=_0x2da8d5(0xaa7);if(_0x2ce145||_0x3aa6c9!==-0x1){let _0x487809=_0x2ce145?_0x50e58e['bestScore']===_0x2d1be2:_0x50e58e['bestScore']>=_0x3aa6c9;const _0xf2bf1f=_0x487809?_0x2da8d5(0xd37):'bg-red-100\x20text-red-800',_0x23f25c=_0x487809?_0x2da8d5(0x95b):_0x2da8d5(0x1dc);_0x22cb71='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0xf2bf1f+'\x22>'+_0x23f25c+_0x2da8d5(0xa93);}const _0x27569a=_0x50e58e[_0x2da8d5(0x3ea)][_0x50e58e[_0x2da8d5(0x3ea)][_0x2da8d5(0x83b)]-0x1],_0x522a0a=(_0x27569a[_0x2da8d5(0xdbd)]||[])['map'](_0x256111=>{const _0xbadc3e=_0x2da8d5,_0x5c4b93=Object[_0xbadc3e(0x586)](BADGES)[_0xbadc3e(0x426)](_0x4abf59=>_0x4abf59['id']===_0x256111);return _0x5c4b93?_0xbadc3e(0x5e5)+_0x5c4b93[_0xbadc3e(0x47c)]+'\x22><i\x20class=\x22fas\x20'+_0x5c4b93[_0xbadc3e(0xd08)]+_0xbadc3e(0xb8c):'';})[_0x2da8d5(0x8c3)]('');_0xc70692+=_0x2da8d5(0xb4a)+_0x48ae1a+_0x2da8d5(0x627)+_0x50e58e['studentName']+_0x2da8d5(0x2c7)+_0x50e58e[_0x2da8d5(0x4f8)]+_0x2da8d5(0xa09)+_0x2d1be2+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22cb71+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x50e58e[_0x2da8d5(0xf1b)]||0x0)[_0x2da8d5(0xe4c)]()+_0x2da8d5(0xe59)+(_0x558a26?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x50e58e[_0x2da8d5(0x3ea)]?.[_0x2da8d5(0x83b)]||0x1)+_0x2da8d5(0x9df))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x558a26?'':_0x2da8d5(0x911)+new Date(_0x50e58e[_0x2da8d5(0x7e7)])[_0x2da8d5(0xe4c)]('th-TH')+_0x2da8d5(0x9df))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x522a0a||'-')+_0x2da8d5(0x377);}),_0x453fdf[_0x42586d(0x674)]=_0xc70692,_0x52dc49&&!_0x558a26&&_0x52dc49[_0x42586d(0xcf1)](_0x42586d(0xd65))[_0x42586d(0x9ce)](_0x445495=>{const _0x3b5315=_0x42586d,_0x306db6=_0x445495[_0x3b5315(0x427)]('.sort-indicator');if(_0x306db6)_0x306db6['remove']();_0x445495[_0x3b5315(0x261)][_0x3b5315(0x6f8)]===quizLeaderboardSortBy&&(_0x445495[_0x3b5315(0x674)]+=_0x3b5315(0x82f)+(quizLeaderboardSortOrder===_0x3b5315(0x9a1)?'▲':'▼')+_0x3b5315(0x935));});}async function handleDeleteSubmission(_0xa2c4e){const _0x385d9d=_0x2e2582;if(!currentQuizData||!currentQuizData['id']||!_0xa2c4e){showMessage(_0x385d9d(0x211));return;}showConfirmation(_0x385d9d(0x68c)+_0xa2c4e+_0x385d9d(0x719),async()=>{const _0x12d847=_0x385d9d,_0x42cf65=currentQuizData['id'],_0x5bd4b6=doc(db,'artifacts/'+appId+_0x12d847(0xd97)+_0x42cf65+_0x12d847(0xb14),_0xa2c4e);try{await deleteDoc(_0x5bd4b6),showMessage(_0x12d847(0x589)+_0xa2c4e+'\x20สำเร็จ');}catch(_0x1908a8){console['error'](_0x12d847(0x662),_0x1908a8),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x221ad1=_0x2e2582,_0x8dcced=document[_0x221ad1(0x6ec)]('quiz-id-input'),_0xf2748e=_0x8dcced[_0x221ad1(0x8c2)][_0x221ad1(0xdd8)]();if(!_0xf2748e){showMessage(_0x221ad1(0xe30));return;}loadQuizBtn[_0x221ad1(0x736)]=!![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x5075f3=doc(db,_0x221ad1(0x509)+appId+_0x221ad1(0x2d1),_0xf2748e),_0x5a95d8=await getDoc(_0x5075f3);if(!_0x5a95d8['exists']()){showMessage(_0x221ad1(0x280));return;}currentQuizData={'id':_0x5a95d8['id'],..._0x5a95d8[_0x221ad1(0xe5c)]()};const _0x525f37=currentQuizData['status']||_0x221ad1(0xb3d),_0x233847=new Date();if(_0x525f37===_0x221ad1(0xace)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x525f37===_0x221ad1(0x95f)){const _0x529a0f=currentQuizData['startTime']?new Date(currentQuizData[_0x221ad1(0x1df)]):null,_0x2ea058=currentQuizData['endTime']?new Date(currentQuizData[_0x221ad1(0x775)]):null;if(_0x529a0f&&_0x233847<_0x529a0f){showMessage(_0x221ad1(0xe72)+_0x529a0f[_0x221ad1(0xe4c)](_0x221ad1(0xb17),{'hour12':![]}));return;}if(_0x2ea058&&_0x233847>_0x2ea058){showMessage(_0x221ad1(0xbcc));return;}}const _0x32cb1e=currentQuizData[_0x221ad1(0x6ea)];currentProjectId=_0x32cb1e;const _0x1d391b=doc(db,_0x221ad1(0x509)+appId+_0x221ad1(0x850),_0x32cb1e),_0x1247e1=await getDoc(_0x1d391b);if(!_0x1247e1['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x4a2eb4=_0x1247e1[_0x221ad1(0xe5c)]();currentStudentProjectData=_0x4a2eb4,displayStudentNameSelector(_0x4a2eb4[_0x221ad1(0x30d)],currentQuizData[_0x221ad1(0x308)]);}catch(_0x2961c7){console[_0x221ad1(0x61c)](_0x221ad1(0x9f7),_0x2961c7),showMessage(_0x221ad1(0x460));}finally{loadQuizBtn[_0x221ad1(0x736)]=![],loadQuizBtn[_0x221ad1(0x674)]=_0x221ad1(0x26a);}}async function handleManualEditPoints(_0xb07a02,_0x4b6814){const _0x46dcb3=_0x2e2582;if(!currentQuizData||!currentQuizData['id'])return;const _0x3a5d1d=currentQuizData['id'],_0x40ea63=doc(db,_0x46dcb3(0x509)+appId+_0x46dcb3(0xd97)+_0x3a5d1d+'/submissions',_0xb07a02);try{const _0x4333e7=await getDoc(_0x40ea63);if(!_0x4333e7[_0x46dcb3(0xa82)]())return;const _0x4f2a9e=_0x4333e7[_0x46dcb3(0xe5c)](),_0x4c2e28=_0x4f2a9e[_0x46dcb3(0x3ea)]||[];_0x4c2e28[_0x46dcb3(0x83b)]>0x0&&(_0x4c2e28[_0x4c2e28['length']-0x1][_0x46dcb3(0xf1b)]=_0x4b6814,_0x4c2e28[_0x4c2e28[_0x46dcb3(0x83b)]-0x1]['isSyncGame']=!![]),await updateDoc(_0x40ea63,{'points':_0x4b6814,'attempts':_0x4c2e28}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0xb07a02),showMessage(_0x46dcb3(0x62f)+_0xb07a02+_0x46dcb3(0xb2b)+_0x4b6814+_0x46dcb3(0xd21));}catch(_0x2d822e){console[_0x46dcb3(0x61c)](_0x46dcb3(0xcef),_0x2d822e),showMessage(_0x46dcb3(0x87f));}}async function handleJoinLiveGame(){const _0x56f163=_0x2e2582,_0xea4f05=document[_0x56f163(0x6ec)]('game-pin-input'),_0x1b9775=document['getElementById']('nickname-input'),_0x26d339=document['getElementById'](_0x56f163(0x382)),_0x3f86ad=_0xea4f05['value'][_0x56f163(0xdd8)](),_0x170e09=_0x1b9775['value']['trim']();if(!_0x3f86ad||!_0x170e09){showMessage(_0x56f163(0x80a));return;}_0x26d339[_0x56f163(0x736)]=!![],_0x26d339[_0x56f163(0x674)]=_0x56f163(0x54c);try{const _0x2ae242=collection(db,'artifacts/'+appId+_0x56f163(0x98f)),_0x5c791d=query(_0x2ae242,where(_0x56f163(0x938),'==',_0x3f86ad),where(_0x56f163(0x4dc),'in',[_0x56f163(0x9ec),_0x56f163(0x77c)])),_0x4d74b6=await getDocs(_0x5c791d);if(_0x4d74b6[_0x56f163(0xe58)]){showMessage(_0x56f163(0x598));return;}const _0x103132=_0x4d74b6[_0x56f163(0x875)][0x0],_0x39b0eb=_0x103132[_0x56f163(0xe5c)]();currentLiveGameId=_0x103132['id'];const _0x40aaca=_0x39b0eb[_0x56f163(0x3ac)],_0x8f8c83=doc(db,'artifacts/'+appId+_0x56f163(0x2d1),_0x40aaca),_0x1ef63d=await getDoc(_0x8f8c83);if(!_0x1ef63d[_0x56f163(0xa82)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x1ef63d['id'],..._0x1ef63d[_0x56f163(0xe5c)]()};if(_0x39b0eb[_0x56f163(0x21d)]&&_0x39b0eb[_0x56f163(0x21d)][_0x170e09]){const _0x238171=_0x39b0eb[_0x56f163(0x21d)][_0x170e09];if(_0x238171[_0x56f163(0x4dc)]===_0x56f163(0xace)){_0x26d339[_0x56f163(0x674)]=_0x56f163(0x88f);const _0x18cede={};_0x18cede[_0x56f163(0xa3c)+_0x170e09+_0x56f163(0x354)]='active',await updateDoc(doc(db,_0x56f163(0x509)+appId+'/public/data/liveGames',currentLiveGameId),_0x18cede),showView('live-game'),currentStudentName=_0x170e09,listenForLiveGameUpdates();return;}else{showMessage(_0x56f163(0xd59));return;}}if(_0x39b0eb[_0x56f163(0x4dc)]!==_0x56f163(0x9ec)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x26d339[_0x56f163(0x674)]=_0x56f163(0x843);const _0xa70eb4={};_0xa70eb4[_0x56f163(0xa3c)+_0x170e09]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x56f163(0x509)+appId+_0x56f163(0x98f),currentLiveGameId),_0xa70eb4),currentStudentName=_0x170e09,listenForLiveGameUpdates();}catch(_0x121bae){console[_0x56f163(0x61c)]('Error\x20joining\x20live\x20game:',_0x121bae),showMessage(_0x56f163(0x56f));}finally{_0x26d339[_0x56f163(0x736)]=![],_0x26d339[_0x56f163(0x674)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x2bad0c,_0x255975){const _0x34dfd2=_0x2e2582,_0x1f7f07=document[_0x34dfd2(0x6ec)](_0x34dfd2(0xb22));document['getElementById'](_0x34dfd2(0x3de))[_0x34dfd2(0x337)]='แบบทดสอบ:\x20'+_0x255975,!_0x2bad0c||_0x2bad0c['length']===0x0?(_0x1f7f07[_0x34dfd2(0x674)]=_0x34dfd2(0xd9c),startQuizBtn[_0x34dfd2(0x736)]=!![]):(_0x1f7f07['innerHTML']=_0x34dfd2(0x352),_0x2bad0c['forEach'](_0x3bf066=>{const _0x3ad87f=_0x34dfd2,_0x200a17=document[_0x3ad87f(0xc7b)](_0x3ad87f(0xb7a));_0x200a17[_0x3ad87f(0x8c2)]=_0x3bf066,_0x200a17[_0x3ad87f(0x337)]=_0x3bf066,_0x1f7f07[_0x3ad87f(0xa8b)](_0x200a17);}),startQuizBtn[_0x34dfd2(0x736)]=![]),studentInitialView['classList']['add'](_0x34dfd2(0x515)),studentNameSelectionView[_0x34dfd2(0xed5)][_0x34dfd2(0xb8a)](_0x34dfd2(0x515));}function shuffleArray(_0x585659){const _0x268696=_0x2e2582;for(let _0x3f46c0=_0x585659[_0x268696(0x83b)]-0x1;_0x3f46c0>0x0;_0x3f46c0--){const _0x582f32=Math['floor'](Math[_0x268696(0x76c)]()*(_0x3f46c0+0x1));[_0x585659[_0x3f46c0],_0x585659[_0x582f32]]=[_0x585659[_0x582f32],_0x585659[_0x3f46c0]];}}function getShuffledQuiz(_0x1b496f){const _0x4088f7=_0x2e2582;let _0x466e2b=JSON['parse'](JSON['stringify'](_0x1b496f));const _0x105392=_0x466e2b[_0x4088f7(0xe11)]?.['shuffle']||_0x4088f7(0xd62);if(_0x105392===_0x4088f7(0xd62))return _0x466e2b;return(_0x105392===_0x4088f7(0x9bb)||_0x105392===_0x4088f7(0x297))&&shuffleArray(_0x466e2b[_0x4088f7(0xa08)]),(_0x105392==='choices_only'||_0x105392===_0x4088f7(0x297))&&_0x466e2b[_0x4088f7(0xa08)]['forEach'](_0x1d7a12=>{const _0x185d79=_0x4088f7,_0x15fbe4=_0x1d7a12[_0x185d79(0xb6d)]||_0x466e2b[_0x185d79(0x80d)];if(_0x1d7a12[_0x185d79(0x25f)]){let _0x2c733f=_0x1d7a12[_0x185d79(0x25f)]['map']((_0x42575a,_0x49efc0)=>({'text':_0x42575a,'isCorrect':_0x49efc0===_0x1d7a12[_0x185d79(0x526)]}));shuffleArray(_0x2c733f),_0x1d7a12[_0x185d79(0x25f)]=_0x2c733f[_0x185d79(0x91f)](_0x15778e=>_0x15778e['text']),_0x1d7a12[_0x185d79(0x526)]=_0x2c733f[_0x185d79(0x8e8)](_0x28d895=>_0x28d895[_0x185d79(0x33c)]);}_0x15fbe4===_0x185d79(0x440)&&_0x1d7a12[_0x185d79(0xa2e)]&&shuffleArray(_0x1d7a12['allResponses']);}),_0x466e2b;}function displayQuizForStudent(_0x25186f){const _0x24c145=_0x2e2582;studentQuizArea['classList'][_0x24c145(0xb8a)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x25186f);currentMode!==_0x24c145(0x527)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document[_0x24c145(0x504)](_0x24c145(0x556),handleVisibilityChange),enterFullscreen(),window[_0x24c145(0x504)]('mousemove',resetDimTimer),window[_0x24c145(0x504)](_0x24c145(0x5d3),resetDimTimer),window[_0x24c145(0x504)](_0x24c145(0xbe0),resetDimTimer),window[_0x24c145(0x504)]('keydown',resetDimTimer),resetDimTimer());const _0x2a2cf0=currentDisplayedQuiz[_0x24c145(0xe11)]?.[_0x24c145(0xf09)]||_0x24c145(0xd62);if(_0x2a2cf0===_0x24c145(0x1e6))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x24c145(0xe11)][_0x24c145(0xedc)]);else _0x2a2cf0===_0x24c145(0x4df)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window[_0x2e2582(0x8f8)]=function(_0xe0d294){const _0x250928=_0x2e2582,_0xac5765=document[_0x250928(0x6ec)](_0x250928(0x2e6)+_0xe0d294),_0x270d5e=document[_0x250928(0xcf1)](_0x250928(0x2cd));_0x270d5e['forEach'](_0x55e13b=>{const _0x536767=_0x250928;if(_0x55e13b['id']!=='dropdown-list-'+_0xe0d294)_0x55e13b[_0x536767(0xed5)]['add'](_0x536767(0x515));});if(_0xac5765)_0xac5765['classList'][_0x250928(0x6dd)](_0x250928(0x515));},window[_0x2e2582(0x75d)]=function(_0xf5585,_0x2c426a){const _0x402621=_0x2e2582,_0x2d8361=currentDisplayedQuiz;if(!_0x2d8361)return;const _0x3c01cb=_0x2d8361['questions'][_0xf5585],_0x4193ff=_0x3c01cb['allResponses'][_0x2c426a],_0x4aff32=document[_0x402621(0x6ec)](_0x402621(0x7d2)+_0xf5585);if(_0x4aff32)_0x4aff32[_0x402621(0x8c2)]=_0x4193ff;const _0x452ecd=document['getElementById'](_0x402621(0xd03)+_0xf5585);if(_0x452ecd){_0x452ecd[_0x402621(0x674)]=_0x4193ff;if(window[_0x402621(0xef3)])MathJax[_0x402621(0x396)]([_0x452ecd]);_0x452ecd['classList']['add'](_0x402621(0x768),_0x402621(0xd87));}const _0x253ee6=document[_0x402621(0x6ec)](_0x402621(0x2e6)+_0xf5585);if(_0x253ee6)_0x253ee6[_0x402621(0xed5)][_0x402621(0xbca)](_0x402621(0x515));},document[_0x2e2582(0x504)](_0x2e2582(0x7b0),_0x4e9865=>{const _0x1a9db5=_0x2e2582;!_0x4e9865[_0x1a9db5(0x8dd)]['closest'](_0x1a9db5(0x301))&&document[_0x1a9db5(0xcf1)](_0x1a9db5(0x2cd))[_0x1a9db5(0x9ce)](_0x552654=>_0x552654[_0x1a9db5(0xed5)][_0x1a9db5(0xbca)](_0x1a9db5(0x515)));});function renderFullQuizForm(){const _0x4a4ef3=_0x2e2582,_0x3f9df4=currentDisplayedQuiz['settings']?.[_0x4a4ef3(0xa56)]===!![],_0x105fbe=currentDisplayedQuiz[_0x4a4ef3(0xe11)]?.[_0x4a4ef3(0x7cb)]||_0x4a4ef3(0xdef);let _0x9275f2=![],_0x4924f5=_0x4a4ef3(0x7c0)+currentDisplayedQuiz['topic']+_0x4a4ef3(0x436)+(currentMode===_0x4a4ef3(0x527)?_0x4a4ef3(0x40f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions'][_0x4a4ef3(0x9ce)]((_0xba56bc,_0x56184b)=>{const _0x39580e=_0x4a4ef3,_0x367410=_0xba56bc[_0x39580e(0xb6d)]||currentDisplayedQuiz[_0x39580e(0x80d)],_0x165d18=_0x39580e(0x835)+(0x64-_0x56184b)+';';_0x367410===_0x39580e(0x440)&&!_0x9275f2&&(_0x4924f5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x9275f2=!![]);_0x4924f5+=_0x39580e(0x712)+_0x165d18+'\x22>';_0x367410!==_0x39580e(0x440)&&(_0x4924f5+=_0x39580e(0x2ac)+(_0x56184b+0x1)+'.\x20'+(_0xba56bc['instructions']||_0xba56bc['questionText'])+_0x39580e(0x8ae)+(_0xba56bc[_0x39580e(0xde8)]?_0x39580e(0x6d0)+_0xba56bc[_0x39580e(0xde8)]+_0x39580e(0x4f3):'')+_0x39580e(0x988));_0x4924f5+=_0x39580e(0x8e5);if(_0x367410==='matching_item'&&_0xba56bc['allResponses'])_0x4924f5+=_0x39580e(0xe9b)+(_0x56184b+0x1)+_0x39580e(0xbd3)+_0xba56bc[_0x39580e(0x71c)]+_0x39580e(0x77d)+_0x56184b+_0x39580e(0x7e3)+_0x56184b+'\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown('+_0x56184b+_0x39580e(0xeeb)+_0x56184b+_0x39580e(0xd0a)+_0x56184b+_0x39580e(0x4a1)+_0xba56bc['allResponses'][_0x39580e(0x91f)]((_0x479eec,_0x54a123)=>_0x39580e(0x70d)+_0x56184b+',\x20'+_0x54a123+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x479eec+_0x39580e(0x3b8))[_0x39580e(0x8c3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else{if(_0x367410===_0x39580e(0x35c))_0x4924f5+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x56184b+_0x39580e(0xe0e)+_0x56184b+_0x39580e(0x37f)+_0x56184b+_0x39580e(0xa5f),_0x4924f5+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x56184b+_0x39580e(0x65b)+_0x56184b+_0x39580e(0xbce)+_0x56184b+_0x39580e(0x4d2);else _0xba56bc[_0x39580e(0x25f)]&&Array[_0x39580e(0x288)](_0xba56bc['options'])&&_0xba56bc[_0x39580e(0x25f)][_0x39580e(0x83b)]>0x0?_0x4924f5+=_0xba56bc['options'][_0x39580e(0x91f)]((_0x521147,_0x4df542)=>_0x39580e(0x762)+_0x56184b+_0x39580e(0x4d5)+_0x4df542+_0x39580e(0x406)+_0x56184b+'\x22\x20value=\x22'+_0x4df542+_0x39580e(0xe85)+_0x56184b+_0x39580e(0x4d5)+_0x4df542+'\x22>'+_0x521147+_0x39580e(0x3f0))[_0x39580e(0x8c3)](''):_0x4924f5+='<textarea\x20name=\x22question'+_0x56184b+_0x39580e(0xa79);}_0x4924f5+=_0x39580e(0x4f3),_0x3f9df4&&(_0x4924f5+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x105fbe===_0x39580e(0x27b)?_0x4924f5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x56184b+'\x22\x20name=\x22confidence'+_0x56184b+_0x39580e(0x658)+_0x56184b+_0x39580e(0x756)+_0x56184b+_0x39580e(0x4a8):_0x4924f5+=_0x39580e(0xd77)+_0x56184b+_0x39580e(0xa01)+_0x56184b+_0x39580e(0x7b5)+_0x56184b+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4924f5+=_0x39580e(0x4f3)),_0x4924f5+=_0x39580e(0x4f3);}),_0x4924f5+=_0x4a4ef3(0xd4b),_0x4924f5+=_0x4a4ef3(0xc4a),studentQuizArea['innerHTML']=_0x4924f5;if(currentMode===_0x4a4ef3(0x527)){const _0x437da6=document[_0x4a4ef3(0x6ec)](_0x4a4ef3(0xefd));if(_0x437da6)_0x437da6[_0x4a4ef3(0x504)](_0x4a4ef3(0x7b0),cancelAdminTest);}const _0x14b8ae=document['getElementById']('quiz-form');_0x14b8ae&&(_0x14b8ae[_0x4a4ef3(0x504)](_0x4a4ef3(0x684),handleSubmitQuiz),_0x14b8ae[_0x4a4ef3(0x504)](_0x4a4ef3(0x7b0),_0x3e90b8=>{const _0x15f683=_0x4a4ef3;if(_0x3e90b8[_0x15f683(0x8dd)]['classList'][_0x15f683(0x84c)]('confidence-choice-btn')){const _0x2812c8=_0x3e90b8['target'],_0x3ddb6c=_0x2812c8['dataset'][_0x15f683(0x39e)],_0x55a53f=_0x2812c8[_0x15f683(0x261)][_0x15f683(0x8c2)];document['getElementById'](_0x15f683(0xc09)+_0x3ddb6c)['value']=_0x55a53f;const _0x160426=_0x2812c8[_0x15f683(0x7cc)];_0x160426[_0x15f683(0xcf1)]('.confidence-choice-btn')[_0x15f683(0x9ce)](_0x4d6140=>_0x4d6140[_0x15f683(0xed5)][_0x15f683(0xb8a)]('active')),_0x2812c8[_0x15f683(0xed5)][_0x15f683(0xbca)](_0x15f683(0xb3d));}})),window[_0x4a4ef3(0xef3)]&&setTimeout(()=>{const _0x4c559a=_0x4a4ef3;window[_0x4c559a(0xef3)][_0x4c559a(0x396)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0xdc876){const _0x2de16a=_0x2e2582;if(_0xdc876)_0xdc876[_0x2de16a(0xf44)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x2ec8e4=document['getElementById'](_0x2de16a(0x699));if(!_0x2ec8e4)return;const _0x26e471=currentDisplayedQuiz[_0x2de16a(0xe11)]?.['isConfidenceScoringEnabled']===!![],_0x4b83f5=currentDisplayedQuiz[_0x2de16a(0xe11)]?.[_0x2de16a(0x7cb)]||_0x2de16a(0xdef);if(_0x26e471&&_0x4b83f5==='mandatory'){let _0x4dd401=!![];for(let _0x226b2d=0x0;_0x226b2d<currentDisplayedQuiz[_0x2de16a(0xa08)][_0x2de16a(0x83b)];_0x226b2d++){const _0x1ca59f=_0x2ec8e4[_0x2de16a(0x427)](_0x2de16a(0xa36)+_0x226b2d);if(!_0x1ca59f||_0x1ca59f[_0x2de16a(0x8c2)]===''){_0x4dd401=![];break;}}if(!_0x4dd401){showMessage(_0x2de16a(0x480));return;}}const _0x31bb9a=_0x2ec8e4[_0x2de16a(0x427)]('button[type=\x22submit\x22]'),_0x31a807=currentDisplayedQuiz['questions'][_0x2de16a(0xf37)](_0x284081=>_0x284081[_0x2de16a(0xb6d)]===_0x2de16a(0x466));_0x31bb9a&&(_0x31bb9a[_0x2de16a(0x736)]=!![],_0x31bb9a[_0x2de16a(0x674)]=_0x31a807?_0x2de16a(0x6d3):_0x2de16a(0x5d0));const _0x45f781=new FormData(_0x2ec8e4),_0x1ba2d4=currentDisplayedQuiz['questions'][_0x2de16a(0x91f)]((_0x1bd5ea,_0x1e9da1)=>{const _0x4b91a1=_0x2de16a,_0x669f73=_0x45f781[_0x4b91a1(0x987)](_0x4b91a1(0x77c)+_0x1e9da1);let _0x1f15b9;_0x4b83f5==='mandatory'?_0x1f15b9=_0x45f781[_0x4b91a1(0x987)](_0x4b91a1(0xc21)+_0x1e9da1):_0x1f15b9=_0x45f781[_0x4b91a1(0x987)]('confidence'+_0x1e9da1)==='on';let _0x3d5344=null;if(_0x669f73!==null&&_0x669f73!==undefined){const _0x491ae2=_0x1bd5ea[_0x4b91a1(0xb6d)]||currentDisplayedQuiz['quizType'];_0x491ae2===_0x4b91a1(0xbb3)||_0x491ae2==='fill_in_the_blank'?_0x3d5344=parseInt(_0x669f73):_0x3d5344=_0x669f73;}return{'answer':_0x3d5344,'wasConfident':_0x1f15b9};}),_0x5aeeb3=currentQuizData['id'],_0x32bfeb=doc(db,_0x2de16a(0x509)+appId+_0x2de16a(0xd97)+_0x5aeeb3+_0x2de16a(0xb14),currentStudentName),_0x52e064=await getDoc(_0x32bfeb),_0x264b9b=_0x52e064[_0x2de16a(0xa82)]()?_0x52e064[_0x2de16a(0xe5c)]():{},_0x2cbffc=_0x264b9b['attempts']||[];await processAndSubmitAnswers(_0x1ba2d4,_0x2cbffc);}async function gradeShortAnswerWithAI(_0x4528e4,_0x581757){const _0x3f27f5=_0x2e2582;if(!_0x4528e4||!_0x581757)return![];try{const _0x32c6af='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x4528e4+_0x3f27f5(0x657)+_0x581757+_0x3f27f5(0x81f),_0x58e258={'contents':[{'role':_0x3f27f5(0xbd1),'parts':[{'text':_0x32c6af}]}]},_0x585e53='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0x33d883=_0x3f27f5(0x821)+_0x585e53,_0x14d88d=await fetch(_0x33d883,{'method':_0x3f27f5(0x616),'headers':{'Content-Type':_0x3f27f5(0x78a)},'body':JSON[_0x3f27f5(0x908)](_0x58e258)});if(!_0x14d88d['ok'])throw new Error('API\x20call\x20failed');const _0x7c486e=await _0x14d88d[_0x3f27f5(0x6b0)](),_0x17c091=_0x7c486e[_0x3f27f5(0xc1c)][0x0][_0x3f27f5(0x9fa)][_0x3f27f5(0x4d8)][0x0]['text']['trim']()[_0x3f27f5(0x3be)]();return _0x17c091===_0x3f27f5(0xbb9);}catch(_0x588335){return console[_0x3f27f5(0x61c)](_0x3f27f5(0xbaa),_0x588335),![];}}async function processAndSubmitAnswers(_0x3c9f97,_0x3601cb){const _0x45a996=_0x2e2582;releaseWakeLock(),stopDimTimer();try{document[_0x45a996(0x2bd)]&&await document[_0x45a996(0x28d)]();}catch(_0x4b1687){console[_0x45a996(0x678)](_0x45a996(0xd57),_0x4b1687);}isQuizActive=![],document['removeEventListener'](_0x45a996(0x490),handleFullscreenChange),document[_0x45a996(0x637)]('visibilitychange',handleVisibilityChange);let _0x4b8a32=0x0;const _0x3987c6=[],_0x494b6b=currentDisplayedQuiz[_0x45a996(0xa08)]['length'];let _0x1075ad=0x0,_0x4c1598=[];const _0x59a990=currentDisplayedQuiz[_0x45a996(0xa08)];for(let _0x554b58=0x0;_0x554b58<_0x59a990['length'];_0x554b58++){const _0x43ca4f=_0x59a990[_0x554b58],_0x33ec69=_0x3c9f97[_0x554b58],_0x2de385=_0x33ec69?_0x33ec69[_0x45a996(0x67c)]:null,_0x31b3de=_0x33ec69?_0x33ec69[_0x45a996(0x8fd)]:null;let _0x341b8c=![],_0x174c85=0x0;if(_0x2de385!==null&&_0x2de385!==''){const _0x5ee842=_0x43ca4f[_0x45a996(0xb6d)]||currentDisplayedQuiz[_0x45a996(0x80d)];switch(_0x5ee842){case'matching_item':_0x341b8c=_0x2de385===_0x43ca4f[_0x45a996(0xc32)];break;case _0x45a996(0x35c):const _0x5f115f=_0x2de385===!![]||_0x2de385===_0x45a996(0xbb9);_0x341b8c=_0x5f115f===_0x43ca4f[_0x45a996(0xec0)];break;case'fill_in_no_choices':case'short_answer':_0x341b8c=await gradeShortAnswer(_0x2de385,_0x43ca4f);break;case _0x45a996(0xbb3):case _0x45a996(0x2af):default:_0x341b8c=Number(_0x2de385)===_0x43ca4f[_0x45a996(0x526)];break;}}if(currentDisplayedQuiz[_0x45a996(0xe11)]?.['isConfidenceScoringEnabled']){const _0x1ed848=_0x33ec69?_0x33ec69[_0x45a996(0x8fd)]:null;if(_0x341b8c&&(_0x1ed848===!![]||_0x1ed848===_0x45a996(0xaac)))_0x174c85=0x2;else{if(_0x341b8c)_0x174c85=0x1;else{if(!_0x341b8c&&(_0x1ed848===![]||_0x1ed848===_0x45a996(0xd1a)||_0x1ed848===null))_0x174c85=0x0;else!_0x341b8c&&(_0x1ed848===!![]||_0x1ed848===_0x45a996(0xaac))&&(_0x174c85=-0x1);}}}else _0x174c85=_0x341b8c?0x1:0x0;_0x4b8a32+=_0x174c85;if(_0x341b8c){_0x1075ad++;if(_0x1075ad===0x3)_0x4c1598['push'](BADGES[_0x45a996(0x2d6)]['id']);}else _0x1075ad=0x0;let _0x5c8c97=null;_0x43ca4f[_0x45a996(0x25f)]&&(_0x43ca4f['questionType']==='multiple_choice'||_0x43ca4f['questionType']===_0x45a996(0x2af))&&_0x2de385!==null?_0x5c8c97=_0x43ca4f[_0x45a996(0x25f)][_0x2de385]:_0x5c8c97=_0x2de385,_0x3987c6['push']({'questionId':_0x43ca4f['id'],'answer':_0x2de385,'answerText':_0x5c8c97,'isCorrect':_0x341b8c,'wasConfident':_0x31b3de,'pointsAwarded':_0x174c85,'originalQuestionText':_0x43ca4f['stem']||_0x43ca4f['questionText']});}const _0x475370=_0x3987c6[_0x45a996(0xe4e)](_0x41af35=>_0x41af35[_0x45a996(0x33c)])[_0x45a996(0x83b)],_0xc95cba=currentDisplayedQuiz[_0x45a996(0xe11)]?.[_0x45a996(0x582)]??Math['floor'](_0x494b6b/0x2);_0x475370===_0x494b6b&&_0x494b6b>0x0&&!currentDisplayedQuiz[_0x45a996(0x6e5)]&&_0x4c1598[_0x45a996(0x724)](BADGES[_0x45a996(0xe97)]['id']);const _0x3de939=currentDisplayedQuiz['settings']?.[_0x45a996(0xf09)];if(_0x3de939===_0x45a996(0x1e6)&&quizStartTime){const _0x330af1=(new Date()-quizStartTime)/0x3e8,_0x589dba=currentDisplayedQuiz[_0x45a996(0xe11)]['timerDuration']*0x3c;_0x475370>=_0xc95cba&&_0x330af1<_0x589dba/0x2&&_0x4c1598[_0x45a996(0x724)](BADGES[_0x45a996(0xeea)]['id']);}_0x3601cb['length']===0x0&&_0x475370===_0x494b6b&&_0x494b6b>0x0&&_0x4c1598['push'](BADGES[_0x45a996(0x67a)]['id']);if(_0x3601cb[_0x45a996(0x83b)]>0x0){const _0x4376fd=_0x3601cb[0x0][_0x45a996(0x600)];if(_0x4376fd<_0xc95cba&&_0x475370>=_0xc95cba){const _0x4626e0=_0x3601cb['some'](_0x30b20e=>(_0x30b20e[_0x45a996(0xdbd)]||[])['includes'](BADGES[_0x45a996(0x1fa)]['id']));!_0x4626e0&&_0x4c1598[_0x45a996(0x724)](BADGES['COMEBACK_KING']['id']);}}_0x3601cb['length']===0x4&&_0x4c1598[_0x45a996(0x724)](BADGES[_0x45a996(0xc8a)]['id']);const _0x58b904=currentDisplayedQuiz[_0x45a996(0xe11)][_0x45a996(0xb4b)];if(currentMode===_0x45a996(0x527)){handleResultDisplay(_0x58b904,_0x475370,_0x4b8a32,_0x4c1598,_0x3987c6,_0x494b6b);return;}const _0x8c2364=currentQuizData['id'],_0x411cb0=doc(db,_0x45a996(0x509)+appId+_0x45a996(0xd97)+_0x8c2364+_0x45a996(0xb14),currentStudentName);try{const _0x44e7ac=[..._0x3601cb],_0xcccdea={'score':_0x475370,'points':_0x4b8a32,'badges':Array[_0x45a996(0x30a)](new Set(_0x4c1598)),'submittedAt':new Date()[_0x45a996(0xbae)](),'answers':_0x3987c6};_0x44e7ac[_0x45a996(0x724)](_0xcccdea);const _0x4dd73d=_0x3601cb[_0x45a996(0x83b)]===0x0?_0x475370:_0x3601cb[0x0][_0x45a996(0x600)]||0x0,_0xa71820=Math[_0x45a996(0xd94)](..._0x44e7ac[_0x45a996(0x91f)](_0x5a64ac=>_0x5a64ac['score']));await setDoc(_0x411cb0,{'studentName':currentStudentName,'totalQuestions':_0x494b6b,'attempts':_0x44e7ac,'firstScore':_0x4dd73d,'bestScore':_0xa71820,'latestScore':_0x475370,'points':_0x4b8a32,'latestSubmittedAt':_0xcccdea[_0x45a996(0xac2)]},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x58b904,_0x475370,_0x4b8a32,_0x4c1598,_0x3987c6,_0x494b6b);}catch(_0x40d1d4){console[_0x45a996(0x61c)](_0x45a996(0xe78),_0x40d1d4),showMessage(_0x45a996(0x636));}}async function updateStudentProfile(_0x1e2df3,_0x3da7dd){const _0x210bdd=_0x2e2582,_0x15049a=doc(db,'artifacts/'+appId+_0x210bdd(0x76d)+_0x1e2df3+_0x210bdd(0xe9d),_0x3da7dd);try{const _0x271547=query(collection(db,_0x210bdd(0x509)+appId+_0x210bdd(0x2d1)),where(_0x210bdd(0x6ea),'==',_0x1e2df3)),_0x3461c3=await getDocs(_0x271547),_0x289599=new Map(_0x3461c3[_0x210bdd(0x875)][_0x210bdd(0x91f)](_0x432180=>[_0x432180['id'],_0x432180['data']()])),_0x37e3c4=Array[_0x210bdd(0x30a)](_0x289599[_0x210bdd(0x66f)]());await runTransaction(db,async _0x282b77=>{const _0x22cfc7=_0x210bdd;let _0x5894aa=0x0;const _0x515eff={};let _0xab5b9e=!![],_0x18f18c=0x0,_0x1a430d=0x0;for(const _0x5a7772 of _0x37e3c4){const _0x54107d=_0x289599[_0x22cfc7(0x987)](_0x5a7772),_0x2ba916=doc(db,_0x22cfc7(0x509)+appId+_0x22cfc7(0xd97)+_0x5a7772+'/submissions',_0x3da7dd),_0x2ef0df=await _0x282b77[_0x22cfc7(0x987)](_0x2ba916);if(_0x2ef0df['exists']()){const _0x371022=_0x2ef0df['data'](),_0x46ce2a=_0x371022['attempts']||[];if(_0x46ce2a[_0x22cfc7(0x83b)]>0x0){const _0x533700=_0x46ce2a[_0x22cfc7(0x5ed)]((_0x136ee9,_0x8350f6)=>{const _0x24c3c1=_0x22cfc7;if(_0x8350f6[_0x24c3c1(0x600)]>_0x136ee9['score'])return _0x8350f6;if(_0x8350f6[_0x24c3c1(0x600)]===_0x136ee9[_0x24c3c1(0x600)])return(_0x8350f6['points']||0x0)>(_0x136ee9[_0x24c3c1(0xf1b)]||0x0)?_0x8350f6:_0x136ee9;return _0x136ee9;},{'score':-0x1,'points':-0x1});_0x533700[_0x22cfc7(0x600)]>-0x1&&(_0x5894aa+=_0x533700[_0x22cfc7(0xf1b)]||0x0,(_0x533700['badges']||[])['forEach'](_0x140a72=>{_0x515eff[_0x140a72]=(_0x515eff[_0x140a72]||0x0)+0x1;}));}}if(_0x54107d[_0x22cfc7(0x308)]!==_0x22cfc7(0x5eb)){_0x1a430d++;if(_0x2ef0df[_0x22cfc7(0xa82)]()){_0x18f18c++;const _0xe080d9=_0x2ef0df[_0x22cfc7(0xe5c)]();_0xe080d9[_0x22cfc7(0x4f8)]!==_0xe080d9['totalQuestions']&&(_0xab5b9e=![]);}else _0xab5b9e=![];}}_0x1a430d>0x0&&_0x18f18c===_0x1a430d&&_0xab5b9e?_0x515eff['specialist']=0x1:_0x515eff[_0x22cfc7(0xf15)]=0x0,_0x282b77[_0x22cfc7(0x63c)](_0x15049a,{'studentName':_0x3da7dd,'totalPoints':_0x5894aa,'unlockedBadges':Object[_0x22cfc7(0x66f)](_0x515eff)[_0x22cfc7(0xe4e)](_0x53cbd1=>_0x515eff[_0x53cbd1]>0x0),'badgesCount':_0x515eff},{'merge':!![]});});}catch(_0x2c6fe4){console['error'](_0x210bdd(0xe38),_0x2c6fe4),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x36fee9=_0x2e2582;if(!currentQuizData){showMessage(_0x36fee9(0x93f));return;}let _0x18308f=JSON['parse'](JSON[_0x36fee9(0x908)](currentQuizData));currentMode=_0x36fee9(0x527),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x36fee9(0xed5)][_0x36fee9(0xbca)](_0x36fee9(0x515)),studentView[_0x36fee9(0xed5)][_0x36fee9(0xb8a)]('hidden'),studentInitialView[_0x36fee9(0xed5)]['add']('hidden'),studentNameSelectionView[_0x36fee9(0xed5)][_0x36fee9(0xbca)](_0x36fee9(0x515)),studentResultArea['classList'][_0x36fee9(0xbca)](_0x36fee9(0x515)),studentQuizArea[_0x36fee9(0xed5)][_0x36fee9(0xb8a)](_0x36fee9(0x515)),quizStartTime=new Date(),displayQuizForStudent(_0x18308f);}function handleResultDisplay(_0x55bf99,_0x442b11,_0x11454f,_0x5a84b1,_0x3b8f43,_0x29cd37){const _0x5a2ea9=_0x2e2582;if(_0x55bf99===_0x5a2ea9(0x441)){displaySubmissionConfirmation();return;}const _0x4d9d72=currentDisplayedQuiz[_0x5a2ea9(0xe11)]?.['passingScore']??Math[_0x5a2ea9(0xabc)](_0x29cd37/0x2),_0x353267=currentDisplayedQuiz[_0x5a2ea9(0xe11)]?.[_0x5a2ea9(0x335)]??![],_0x14ac80=currentDisplayedQuiz[_0x5a2ea9(0xe11)]?.[_0x5a2ea9(0x97b)]===!![],_0x29c658=_0x442b11<_0x4d9d72,_0x2892bc=_0x55bf99===_0x5a2ea9(0x61f)||_0x55bf99==='perfect_score_status';if(_0x14ac80&&_0x29c658&&!_0x2892bc){_0x55bf99===_0x5a2ea9(0xf01)?displayResultsWithAnswers(_0x442b11,_0x11454f,_0x5a84b1,_0x3b8f43,_0x29cd37,!![]):displayLoopScreen(_0x442b11,_0x29cd37,_0x55bf99);return;}if(_0x353267&&_0x29c658){startAdaptiveFlow(_0x3b8f43,_0x442b11,_0x29cd37);return;}switch(_0x55bf99){case _0x5a2ea9(0xf01):displayResultsWithAnswers(_0x442b11,_0x11454f,_0x5a84b1,_0x3b8f43,_0x29cd37);break;case _0x5a2ea9(0x8a7):displayResultsScoreOnly(_0x442b11,_0x11454f,_0x5a84b1,_0x29cd37);break;case _0x5a2ea9(0x962):displayPassFailOnly(_0x442b11,_0x29cd37);break;case _0x5a2ea9(0x61f):displayHalfMarkResult(_0x442b11,_0x29cd37);break;case _0x5a2ea9(0x2c4):displayPerfectScoreResult(_0x442b11,_0x29cd37);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x3d3279){const _0x41ef29=_0x2e2582;studentReadingArea[_0x41ef29(0x674)]=_0x41ef29(0x84f);const _0x3487a7=_0x41ef29(0xc50)+_0x3d3279+_0x41ef29(0xcd5)+simpleMathPrompt+_0x41ef29(0x66d),_0x3cb4ab={'type':_0x41ef29(0xda2),'properties':{'questionText':{'type':_0x41ef29(0x9eb)},'options':{'type':'ARRAY','items':{'type':_0x41ef29(0x9eb)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':[_0x41ef29(0x912),_0x41ef29(0x25f),_0x41ef29(0x526),_0x41ef29(0xec3)]},_0xcc0320={'type':_0x41ef29(0xda2),'properties':{'topic':{'type':_0x41ef29(0x9eb)},'questions':{'type':_0x41ef29(0xb83),'items':_0x3cb4ab}},'required':[_0x41ef29(0x308),_0x41ef29(0xa08)]};try{const _0x5e0da4=await callAnalysisApi(_0x3487a7,_0xcc0320);_0x5e0da4['isRemedial']=!![],studentReadingArea['classList'][_0x41ef29(0xbca)]('hidden');const _0x52515b={...currentDisplayedQuiz[_0x41ef29(0xe11)],'isAdaptive':![],'resultsDisplay':_0x41ef29(0xf01)};_0x5e0da4[_0x41ef29(0xe11)]=_0x52515b,displayQuizForStudent(_0x5e0da4);}catch(_0x66fe37){console[_0x41ef29(0x61c)](_0x41ef29(0x84d),_0x66fe37),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView('student');}}function displayPassFailOnly(_0x4af775,_0x5f0fdd){const _0x4ba8fd=_0x2e2582,_0x3efe1e=currentDisplayedQuiz[_0x4ba8fd(0xe11)]?.['passingScore']??-0x1,_0xcaca0=currentDisplayedQuiz[_0x4ba8fd(0x6e5)]===!![];let _0xf58c38='',_0xdee545=![];if(_0xcaca0||_0x3efe1e!==-0x1){_0xdee545=_0xcaca0?_0x4af775===_0x5f0fdd:_0x4af775>=_0x3efe1e;const _0x330e12=_0xdee545?_0x4ba8fd(0xd37):_0x4ba8fd(0x9a8),_0x596621=_0xdee545?_0x4ba8fd(0x95b):_0x4ba8fd(0x1dc);_0xf58c38=_0x4ba8fd(0xe17)+_0x330e12+'\x22>'+_0x596621+_0x4ba8fd(0xa24);}else _0xf58c38=_0x4ba8fd(0xba7);let _0x354a46=_0x4ba8fd(0x6e2)+currentStudentName+_0x4ba8fd(0x8e1)+_0xf58c38+_0x4ba8fd(0xd99);studentResultArea['innerHTML']=_0x354a46,studentResultArea[_0x4ba8fd(0xed5)][_0x4ba8fd(0xb8a)]('hidden'),studentQuizArea[_0x4ba8fd(0xed5)]['add']('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0xdee545});}function cancelAdminTest(){const _0x528f8c=_0x2e2582;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x528f8c(0x637)](_0x528f8c(0x490),handleFullscreenChange),document[_0x528f8c(0x637)](_0x528f8c(0x556),handleVisibilityChange),currentMode=_0x528f8c(0x2dd),studentView[_0x528f8c(0xed5)][_0x528f8c(0xbca)](_0x528f8c(0x515)),adminView[_0x528f8c(0xed5)][_0x528f8c(0xb8a)]('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x528f8c(0x641));}function setupResultScreenBackButton(_0x76e8d5){const _0x5e4438=_0x2e2582,_0x504c96={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x76e8d5};if(_0x504c96['isLooping']){const _0x5349cd=_0x5e4438(0x9ae);studentResultArea[_0x5e4438(0xc88)](_0x5e4438(0x5ea),_0x5349cd),document['getElementById'](_0x5e4438(0x984))[_0x5e4438(0x504)](_0x5e4438(0x7b0),()=>{const _0xa829ff=_0x5e4438;studentResultArea['classList']['add'](_0xa829ff(0x515)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x50129b=_0x5e4438(0xd9d),_0x2b9dd6=currentMode===_0x5e4438(0x527),_0x542c98=_0x2b9dd6?_0x5e4438(0x791):_0x5e4438(0x422);let _0x4b28b9='';_0x504c96[_0x5e4438(0x6bb)]&&(_0x4b28b9+=_0x5e4438(0x6b8));let _0x2e22cd=_0x504c96[_0x5e4438(0xd39)];_0x2e22cd===undefined&&(_0x2e22cd=_0x504c96['score']<_0x504c96[_0x5e4438(0x410)]);_0x2e22cd&&(_0x4b28b9+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x4b28b9+=_0x5e4438(0xf40)+_0x50129b+_0x5e4438(0xd1d)+_0x542c98+_0x5e4438(0xb81);const _0x29bde3=_0x5e4438(0x344)+_0x4b28b9+_0x5e4438(0x4f3);studentResultArea[_0x5e4438(0xc88)](_0x5e4438(0x5ea),_0x29bde3),studentResultArea[_0x5e4438(0x427)](_0x5e4438(0x1e8))?.['addEventListener']('click',handleShowStudentRankings);const _0xde1708=studentResultArea['querySelector'](_0x5e4438(0x321));_0xde1708&&_0xde1708[_0x5e4438(0x504)](_0x5e4438(0x7b0),()=>{const _0x162d85=_0x5e4438;studentResultArea[_0x162d85(0xed5)][_0x162d85(0xbca)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x5e4438(0x6ec)](_0x50129b)[_0x5e4438(0x504)](_0x5e4438(0x7b0),()=>{const _0x5d4bcb=_0x5e4438;_0x2b9dd6?(currentMode='admin',studentView[_0x5d4bcb(0xed5)][_0x5d4bcb(0xbca)](_0x5d4bcb(0x515)),adminView['classList']['remove'](_0x5d4bcb(0x515)),showView('project-detail')):(showView(_0x5d4bcb(0x4d0)),document['getElementById'](_0x5d4bcb(0x5ba))['value']='');});}function displayResultsWithAnswers(_0x37d5d6,_0x5d6987,_0x5d6eb5,_0x5695b2,_0x11e5e9,_0xdf40ad=![]){const _0x23704e=_0x2e2582,_0x538583=_0x11e5e9>0x0?_0x37d5d6/_0x11e5e9*0x64:0x0,_0x1c0fb8=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x5c07c2=currentDisplayedQuiz[_0x23704e(0x6e5)]===!![];let _0x514588='';if(_0x5c07c2||_0x1c0fb8!==-0x1){let _0x263b9e=_0x5c07c2?_0x37d5d6===_0x11e5e9:_0x37d5d6>=_0x1c0fb8;const _0x44f89f=_0x263b9e?_0x23704e(0xd37):'bg-red-100\x20text-red-800',_0x4f89ac=_0x263b9e?_0x23704e(0x95b):'ไม่ผ่าน';_0x514588=_0x23704e(0xbb1)+_0x44f89f+'\x22>'+_0x4f89ac+_0x23704e(0x895);}let _0x3472de=_0x23704e(0x3d5)+currentStudentName+_0x23704e(0x3b6)+_0x37d5d6+_0x23704e(0xa1e)+_0x11e5e9+_0x23704e(0x771)+_0x514588+_0x23704e(0xaa0)+_0x5d6987+_0x23704e(0xe93)+_0x538583[_0x23704e(0xd15)](0x0)+_0x23704e(0x38c);currentDisplayedQuiz[_0x23704e(0xa08)][_0x23704e(0x9ce)]((_0x4335a3,_0x48d81c)=>{const _0x24e995=_0x23704e,_0x1489b4=_0x5695b2[_0x48d81c],_0x2bd548=_0x1489b4['answer'],_0x51347e=_0x1489b4[_0x24e995(0x33c)],_0x377d52=_0x4335a3[_0x24e995(0xb6d)]||currentDisplayedQuiz['quizType'];_0x3472de+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x51347e?_0x24e995(0xc3c):_0x24e995(0x8bd))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x48d81c+0x1)+'.\x20'+(_0x4335a3[_0x24e995(0x71c)]||_0x4335a3[_0x24e995(0x912)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x377d52){case'matching_item':const _0x5a1351=_0x2bd548||_0x24e995(0x6d6),_0x211192=_0x4335a3[_0x24e995(0xc32)];_0x3472de+=_0x24e995(0x718)+(!_0x51347e?_0x24e995(0x91b):'')+'\x22>'+_0x5a1351+_0x24e995(0x6e8);!_0x51347e&&(_0x3472de+=_0x24e995(0x7a6)+_0x211192+'</p>');break;case _0x24e995(0x8f5):case _0x24e995(0x466):_0x3472de+=_0x24e995(0x963)+(_0x2bd548||'ไม่ได้ตอบ')+'</p>',_0x3472de+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x4335a3['idealAnswer']+'</p>';break;case'true_false':_0x3472de+=_0x24e995(0xeac)+(_0x4335a3[_0x24e995(0xec0)]===!![]?_0x24e995(0x473):'')+'\x20'+(_0x2bd548===_0x24e995(0xbb9)&&!_0x51347e?_0x24e995(0x91b):'')+_0x24e995(0x9b5),_0x3472de+='<p\x20class=\x22'+(_0x4335a3[_0x24e995(0xec0)]===![]?_0x24e995(0x473):'')+'\x20'+(_0x2bd548==='false'&&!_0x51347e?_0x24e995(0x91b):'')+'\x22>ไม่ใช่</p>';break;case'multiple_choice':case _0x24e995(0x2af):default:if(_0x4335a3[_0x24e995(0x25f)]&&Array[_0x24e995(0x288)](_0x4335a3['options']))_0x3472de+=_0x4335a3[_0x24e995(0x25f)]['map']((_0xa6f5a9,_0x5dcb4a)=>{const _0x228259=_0x24e995;let _0x15f7b6='',_0x3f9581='';if(_0x5dcb4a===_0x4335a3[_0x228259(0x526)])_0x15f7b6=_0x228259(0x473),_0x3f9581=_0x228259(0xe6c);else _0x5dcb4a===_0x2bd548&&(_0x15f7b6=_0x228259(0x28b),_0x3f9581=_0x228259(0x88e));return _0x228259(0xd55)+_0x15f7b6+'\x22>'+_0x3f9581+_0xa6f5a9+'</div>';})[_0x24e995(0x8c3)]('');else{_0x3472de+=_0x24e995(0x963)+(_0x2bd548||_0x24e995(0x6d6))+_0x24e995(0x895);if(!_0x51347e)_0x3472de+=_0x24e995(0xe12);}break;}_0x3472de+=_0x24e995(0xeed)+(_0x4335a3[_0x24e995(0xec3)]||_0x24e995(0xcf5))+_0x24e995(0x4f3);if(!_0x51347e){const _0x9df7=_0x4335a3[_0x24e995(0x71c)]||_0x4335a3['questionText'];_0x3472de+=_0x24e995(0x3af)+escape(_0x9df7)+_0x24e995(0xa92);}_0x3472de+=_0x24e995(0x4f3);}),studentResultArea[_0x23704e(0x674)]=_0x3472de,renderEarnedBadges(_0x5d6eb5,_0x23704e(0x858)),studentResultArea[_0x23704e(0xed5)]['remove'](_0x23704e(0x515)),studentQuizArea[_0x23704e(0xed5)][_0x23704e(0xbca)](_0x23704e(0x515)),setupResultScreenBackButton({'isLooping':_0xdf40ad,'score':_0x37d5d6,'totalQuestions':_0x11e5e9,'showRankings':!![]});if(window[_0x23704e(0xef3)])window[_0x23704e(0xef3)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x3ff3e0,_0x5c9b98,_0x3bb662,_0x4e6fa1){const _0x390282=_0x2e2582,_0x3c4621=_0x4e6fa1>0x0?_0x3ff3e0/_0x4e6fa1*0x64:0x0,_0x146810=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x4c1c23=currentDisplayedQuiz[_0x390282(0x6e5)]===!![];let _0x8f462c='';if(_0x4c1c23||_0x146810!==-0x1){let _0x147e39=_0x4c1c23?_0x3ff3e0===_0x4e6fa1:_0x3ff3e0>=_0x146810;const _0x27a55f=_0x147e39?_0x390282(0xd37):'bg-red-100\x20text-red-800',_0x4c6384=_0x147e39?_0x390282(0x95b):_0x390282(0x1dc);_0x8f462c=_0x390282(0xbb1)+_0x27a55f+'\x22>'+_0x4c6384+_0x390282(0x895);}let _0x3d2c5c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x390282(0xb46)+_0x3ff3e0+_0x390282(0x206)+_0x4e6fa1+_0x390282(0x771)+_0x8f462c+_0x390282(0xaa0)+_0x5c9b98+_0x390282(0xcb3)+_0x3c4621['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x3d2c5c,renderEarnedBadges(_0x3bb662,_0x390282(0x858)),studentResultArea['classList']['remove']('hidden'),studentQuizArea[_0x390282(0xed5)][_0x390282(0xbca)]('hidden'),setupResultScreenBackButton({'score':_0x3ff3e0,'totalQuestions':_0x4e6fa1,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x19a5e3=_0x2e2582;let _0x2f5da7=_0x19a5e3(0x31f)+currentStudentName+_0x19a5e3(0x942);studentResultArea[_0x19a5e3(0x674)]=_0x2f5da7,studentResultArea[_0x19a5e3(0xed5)][_0x19a5e3(0xb8a)](_0x19a5e3(0x515)),studentQuizArea[_0x19a5e3(0xed5)][_0x19a5e3(0xbca)](_0x19a5e3(0x515)),document[_0x19a5e3(0x6ec)]('back-to-home-manual-release')['addEventListener']('click',()=>{const _0x3e390c=_0x19a5e3;showView(_0x3e390c(0x4d0)),document['getElementById'](_0x3e390c(0x5ba))['value']='';});}function renderEarnedBadges(_0x144b7a,_0xa1bac1){const _0x43a79f=_0x2e2582,_0x25bf42=document[_0x43a79f(0x6ec)](_0xa1bac1);if(!_0x25bf42||!_0x144b7a||_0x144b7a[_0x43a79f(0x83b)]===0x0)return;let _0x15a59d='';_0x144b7a[_0x43a79f(0x9ce)]((_0x1e5b0e,_0x3fc0ef)=>{const _0x3a1bf2=_0x43a79f,_0x294a0e=Object[_0x3a1bf2(0x586)](BADGES)[_0x3a1bf2(0x426)](_0x509fc2=>_0x509fc2['id']===_0x1e5b0e);_0x294a0e&&(_0x15a59d+=_0x3a1bf2(0xdd2)+_0x3fc0ef*0.2+_0x3a1bf2(0xca8)+_0x294a0e[_0x3a1bf2(0x7f8)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x294a0e[_0x3a1bf2(0xd08)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x294a0e[_0x3a1bf2(0x47c)]+_0x3a1bf2(0xd48));}),_0x25bf42[_0x43a79f(0x674)]=_0x15a59d;}function startPresentation(_0xf3cb4e){const _0x46c425=_0x2e2582;currentQuizData=getShuffledQuiz(_0xf3cb4e),currentPresentationSlide=0x0,presentationModal[_0x46c425(0xdb7)][_0x46c425(0x35a)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x42844a=_0x2e2582;document[_0x42844a(0x2bd)]&&document['exitFullscreen'](),presentationModal[_0x42844a(0xdb7)][_0x42844a(0x35a)]='none';}function renderPresentationSlide(_0x21c484){const _0x5123e1=_0x2e2582,_0x1f07b1=document[_0x5123e1(0x6ec)](_0x5123e1(0x845));if(!currentQuizData||!currentQuizData[_0x5123e1(0xa08)]||!currentQuizData[_0x5123e1(0xa08)][_0x21c484]){_0x1f07b1['innerHTML']='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x5b1b03=currentQuizData[_0x5123e1(0xa08)][_0x21c484],_0x10e479=_0x5b1b03[_0x5123e1(0xb6d)]||currentQuizData['quizType'];_0x1f07b1[_0x5123e1(0x674)]='';let _0x5e4f66=_0x5123e1(0x6c1)+(_0x5b1b03['imageCode']?_0x5123e1(0x6d0)+_0x5b1b03[_0x5123e1(0xde8)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x21c484+0x1)+'.\x20'+(_0x5b1b03[_0x5123e1(0x71c)]||_0x5b1b03[_0x5123e1(0x912)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x10e479){case'matching_item':_0x5e4f66+=_0x5b1b03[_0x5123e1(0xa2e)][_0x5123e1(0x91f)](_0x28a9df=>_0x5123e1(0xb92)+_0x28a9df+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5123e1(0x8c3)]('');break;case _0x5123e1(0x35c):_0x5e4f66+=_0x5123e1(0x89d),_0x5e4f66+=_0x5123e1(0xd0e);break;case _0x5123e1(0x8f5):case _0x5123e1(0x466):_0x5e4f66+=_0x5123e1(0xd2a);break;case _0x5123e1(0xab1):case _0x5123e1(0xbb3):default:_0x5e4f66+=_0x5b1b03[_0x5123e1(0x25f)]['map']((_0x4e853f,_0x375dcf)=>_0x5123e1(0xa89)+_0x375dcf+_0x5123e1(0x64a)+_0x4e853f+_0x5123e1(0xbe9))[_0x5123e1(0x8c3)]('');break;}_0x5e4f66+=_0x5123e1(0x68b)+(_0x5b1b03[_0x5123e1(0xec3)]||_0x5123e1(0xcf5))+_0x5123e1(0x416),_0x1f07b1[_0x5123e1(0x674)]=_0x5e4f66;if(window[_0x5123e1(0xef3)])window['MathJax'][_0x5123e1(0x396)]([_0x1f07b1]);let _0x5043fe=[];switch(_0x10e479){case _0x5123e1(0x440):_0x5043fe=_0x5b1b03[_0x5123e1(0xa2e)]||[];break;case'true_false':_0x5043fe=[_0x5123e1(0xf19),_0x5123e1(0x369)];break;default:_0x5043fe=_0x5b1b03[_0x5123e1(0x25f)]||[];break;}const _0x34c3ea=document[_0x5123e1(0x6ec)](_0x5123e1(0x4e0));_0x34c3ea&&(_0x34c3ea['onclick']=()=>{openScratchpad(_0x5b1b03,_0x5043fe);});document[_0x5123e1(0xcf1)](_0x5123e1(0x749))[_0x5123e1(0x9ce)](_0x5c3179=>{const _0x3492a5=_0x5123e1;_0x5c3179[_0x3492a5(0x504)]('click',_0x21fcce=>revealAnswerForPresentation(_0x21c484,_0x21fcce['currentTarget']));});const _0x1deaa9=document[_0x5123e1(0x6ec)](_0x5123e1(0xef9));_0x1deaa9&&_0x1deaa9[_0x5123e1(0x504)](_0x5123e1(0x7b0),()=>checkShortAnswerForPresentation(_0x21c484)),document[_0x5123e1(0x6ec)](_0x5123e1(0xc9e))[_0x5123e1(0x337)]=_0x5123e1(0xdc9)+(_0x21c484+0x1)+_0x5123e1(0xa09)+currentQuizData[_0x5123e1(0xa08)][_0x5123e1(0x83b)],document[_0x5123e1(0x6ec)]('prev-question-btn')['disabled']=_0x21c484===0x0,document[_0x5123e1(0x6ec)](_0x5123e1(0x4d1))[_0x5123e1(0x736)]=_0x21c484===currentQuizData[_0x5123e1(0xa08)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x2d1bac){const _0x5a4b3b=_0x2e2582,_0x5aed0c=currentQuizData[_0x5a4b3b(0xa08)][_0x2d1bac],_0x1c870b=document[_0x5a4b3b(0x6ec)](_0x5a4b3b(0xcee)),_0x42d4d2=document[_0x5a4b3b(0x6ec)](_0x5a4b3b(0xef9)),_0x3bdc76=document[_0x5a4b3b(0x6ec)](_0x5a4b3b(0x471)),_0x47477a=document[_0x5a4b3b(0x6ec)](_0x5a4b3b(0xeca));if(!_0x1c870b||!_0x42d4d2||!_0x3bdc76||!_0x47477a)return;const _0x2614dc=_0x1c870b[_0x5a4b3b(0x8c2)][_0x5a4b3b(0xdd8)]();if(_0x2614dc==='')return;_0x42d4d2[_0x5a4b3b(0x736)]=!![],_0x42d4d2[_0x5a4b3b(0x674)]=_0x5a4b3b(0x45d),_0x1c870b[_0x5a4b3b(0x736)]=!![];const _0x49c3e4=await gradeShortAnswer(_0x2614dc,_0x5aed0c);_0x49c3e4?_0x3bdc76['innerHTML']=_0x5a4b3b(0x8fb):_0x3bdc76[_0x5a4b3b(0x674)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x5aed0c[_0x5a4b3b(0x9f1)]+')',_0x3bdc76[_0x5a4b3b(0xed5)]['remove']('hidden'),_0x47477a[_0x5a4b3b(0xed5)][_0x5a4b3b(0xb8a)](_0x5a4b3b(0x515)),_0x42d4d2[_0x5a4b3b(0xed5)][_0x5a4b3b(0xbca)](_0x5a4b3b(0x515));}function revealAnswerForPresentation(_0x54ff78,_0x19c444){const _0x5a47c8=_0x2e2582,_0x3902ef=currentQuizData[_0x5a47c8(0xa08)][_0x54ff78],_0x1b657=_0x3902ef['questionType']||currentQuizData[_0x5a47c8(0x80d)];document['querySelectorAll']('.presentation-option')[_0x5a47c8(0x9ce)](_0x5ee9d9=>{const _0x474995=_0x5a47c8;_0x5ee9d9['disabled']=!![],_0x5ee9d9[_0x474995(0xed5)][_0x474995(0xb8a)](_0x474995(0xe57));let _0x4f6c84=![];if(_0x1b657==='multiple_choice'||_0x1b657===_0x474995(0xab1)){const _0x3020bb=parseInt(_0x5ee9d9[_0x474995(0x261)]['index']);_0x4f6c84=_0x3020bb===_0x3902ef[_0x474995(0x526)];}else{if(_0x1b657===_0x474995(0x35c)){const _0x3c9e91=_0x5ee9d9['dataset'][_0x474995(0x67c)]==='true';_0x4f6c84=_0x3c9e91===_0x3902ef['correctAnswer'];}else _0x1b657==='matching_item'&&(_0x4f6c84=_0x5ee9d9['textContent'][_0x474995(0xdd8)]()===_0x3902ef[_0x474995(0xc32)]);}_0x4f6c84?_0x5ee9d9[_0x474995(0xed5)]['add']('bg-green-500',_0x474995(0x9e6),_0x474995(0xbed)):_0x5ee9d9[_0x474995(0xed5)][_0x474995(0xbca)](_0x474995(0xe80));}),_0x19c444[_0x5a47c8(0xed5)][_0x5a47c8(0xb8a)]('opacity-50');let _0x35fea1=![];if(_0x1b657===_0x5a47c8(0xbb3))_0x35fea1=parseInt(_0x19c444[_0x5a47c8(0x261)][_0x5a47c8(0x7f2)])===_0x3902ef['correctAnswerIndex'];else{if(_0x1b657===_0x5a47c8(0x35c))_0x35fea1=_0x19c444[_0x5a47c8(0x261)]['answer']===_0x5a47c8(0xbb9)===_0x3902ef['correctAnswer'];else _0x1b657===_0x5a47c8(0x440)&&(_0x35fea1=_0x19c444[_0x5a47c8(0x337)][_0x5a47c8(0xdd8)]()===_0x3902ef[_0x5a47c8(0xc32)]);}!_0x35fea1&&_0x19c444[_0x5a47c8(0xed5)]['add'](_0x5a47c8(0x3ed),_0x5a47c8(0x9e6),_0x5a47c8(0x323)),document[_0x5a47c8(0x6ec)]('presentation-explanation')['classList'][_0x5a47c8(0xb8a)](_0x5a47c8(0x515));}function startWholeQuizTimer(_0x557031){const _0x2291d5=_0x2e2582,_0x538b36=document[_0x2291d5(0x6ec)](_0x2291d5(0x6fd));if(!_0x538b36)return;const _0x68f327=Date['now']()+_0x557031*0x3c*0x3e8;_0x538b36[_0x2291d5(0x674)]=_0x2291d5(0x3eb);const _0x4dfc65=document[_0x2291d5(0x6ec)](_0x2291d5(0xcf4));quizTimerInterval=setInterval(()=>{const _0x5bf8a9=_0x2291d5,_0x1fb5b4=_0x68f327-Date['now']();if(_0x1fb5b4<=0x0)clearInterval(quizTimerInterval),_0x4dfc65[_0x5bf8a9(0x337)]=_0x5bf8a9(0x5af),showMessage(_0x5bf8a9(0x5cd)),handleSubmitQuiz(null);else{const _0x23d4f4=Math[_0x5bf8a9(0xabc)](_0x1fb5b4/0x3e8/0x3c%0x3c)[_0x5bf8a9(0xe25)]()['padStart'](0x2,'0'),_0x2ac2ea=Math[_0x5bf8a9(0xabc)](_0x1fb5b4/0x3e8%0x3c)[_0x5bf8a9(0xe25)]()['padStart'](0x2,'0');_0x4dfc65[_0x5bf8a9(0x337)]=_0x23d4f4+':'+_0x2ac2ea;}},0x3e8);}function renderPerQuestionView(){const _0x13318f=_0x2e2582;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x90888d=currentDisplayedQuiz[_0x13318f(0xa08)][currentQuestionIndex],_0x289c8a=_0x90888d[_0x13318f(0xb6d)]||currentDisplayedQuiz['quizType'],_0x49adbd=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![];let _0x480ecc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x13318f(0xc3f)+currentDisplayedQuiz[_0x13318f(0xa08)][_0x13318f(0x83b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x13318f(0x40f):'')+_0x13318f(0x32d)+currentDisplayedQuiz[_0x13318f(0x308)]+_0x13318f(0x1db);studentQuizArea[_0x13318f(0x674)]=_0x480ecc;let _0x44dd0c=_0x90888d[_0x13318f(0x71c)]||_0x90888d['questionText'];_0x90888d[_0x13318f(0xde8)]&&(_0x44dd0c+=_0x13318f(0x6d0)+_0x90888d[_0x13318f(0xde8)]+_0x13318f(0x4f3));let _0x2cc7e1='';switch(_0x289c8a){case _0x13318f(0x466):case'fill_in_no_choices':_0x2cc7e1=_0x13318f(0x32c);break;case'true_false':_0x2cc7e1=_0x13318f(0x31c);break;case _0x13318f(0x440):_0x2cc7e1=_0x13318f(0xc79)+(_0x90888d['allResponses']||[])[_0x13318f(0x91f)](_0x1e94a4=>_0x13318f(0x3e4)+_0x1e94a4+'\x22>'+_0x1e94a4+'</option>')[_0x13318f(0x8c3)]('')+_0x13318f(0x6e4);break;default:_0x90888d[_0x13318f(0x25f)]&&(_0x2cc7e1=_0x90888d[_0x13318f(0x25f)][_0x13318f(0x91f)]((_0x261331,_0x52473c)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x52473c+_0x13318f(0xeb4)+_0x52473c+_0x13318f(0x23e)+_0x52473c+'\x22>'+_0x261331+'</label></div>')[_0x13318f(0x8c3)](''));break;}document['getElementById'](_0x13318f(0xea2))['innerHTML']=_0x44dd0c,document[_0x13318f(0x6ec)](_0x13318f(0x635))[_0x13318f(0x674)]=_0x2cc7e1;const _0x1b6b2e=currentDisplayedQuiz[_0x13318f(0xe11)]?.[_0x13318f(0xa56)]===!![],_0x37cb6e=currentDisplayedQuiz[_0x13318f(0xe11)]?.[_0x13318f(0x7cb)]||'checkbox';if(_0x1b6b2e&&_0x37cb6e===_0x13318f(0xdef)){const _0x3f7b51=_0x13318f(0xd49);studentQuizArea['querySelector']('.mb-6.p-4')[_0x13318f(0xc88)](_0x13318f(0x5ea),_0x3f7b51);}studentQuizArea[_0x13318f(0xc88)](_0x13318f(0x5ea),_0x13318f(0xc83)+(currentQuestionIndex===currentDisplayedQuiz[_0x13318f(0xa08)][_0x13318f(0x83b)]-0x1?_0x13318f(0xcdf):_0x13318f(0x30e))+_0x13318f(0x60e));currentMode===_0x13318f(0x527)&&document[_0x13318f(0x6ec)](_0x13318f(0xefd))?.[_0x13318f(0x504)](_0x13318f(0x7b0),cancelAdminTest);document[_0x13318f(0x6ec)](_0x13318f(0x266))[_0x13318f(0x504)](_0x13318f(0x7b0),()=>handleNextQuestionInTimedMode(![]));if(window[_0x13318f(0xef3)])window[_0x13318f(0xef3)][_0x13318f(0x396)]([studentQuizArea]);currentDisplayedQuiz[_0x13318f(0xe11)]?.[_0x13318f(0xf09)]===_0x13318f(0x4df)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x28bf8c=_0x2e2582,_0x24a5cd=currentDisplayedQuiz[_0x28bf8c(0xe11)]['timerDuration'],_0x582db8=document['getElementById'](_0x28bf8c(0x738));if(!_0x582db8)return;let _0x2407f1=_0x24a5cd;_0x582db8[_0x28bf8c(0x674)]=_0x28bf8c(0x977)+_0x2407f1+_0x28bf8c(0x53e);const _0x4c98f3=document[_0x28bf8c(0x6ec)](_0x28bf8c(0xadb)),_0x4ec574=document['getElementById'](_0x28bf8c(0x8f1));perQuestionTimerInterval=setInterval(()=>{const _0x4c0ef8=_0x28bf8c;_0x2407f1--;const _0x3705ac=_0x2407f1/_0x24a5cd*0x64;_0x4c98f3[_0x4c0ef8(0xdb7)][_0x4c0ef8(0x950)]=_0x3705ac+'%',_0x4ec574[_0x4c0ef8(0x337)]=_0x2407f1,_0x2407f1<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x4c0ef8(0x991)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x36a7b1=![]){const _0x2fc1e9=_0x2e2582;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x483302=null,_0x4e71c1=![];if(!_0x36a7b1){const _0x323f52=currentDisplayedQuiz[_0x2fc1e9(0xa08)][currentQuestionIndex],_0x174584=_0x323f52[_0x2fc1e9(0xb6d)]||currentDisplayedQuiz['quizType'];if(_0x174584==='short_answer'||_0x174584==='fill_in_no_choices')_0x483302=document[_0x2fc1e9(0x427)](_0x2fc1e9(0x7cf))?.['value'][_0x2fc1e9(0xdd8)]()??'';else{if(_0x174584==='matching_item')_0x483302=document[_0x2fc1e9(0x427)]('select[name=\x22question_single\x22]')?.[_0x2fc1e9(0x8c2)]??'';else{const _0x4d519d=document[_0x2fc1e9(0x427)]('input[name=\x22question_single\x22]:checked');_0x4d519d&&(_0x483302=_0x4d519d[_0x2fc1e9(0x8c2)]);}}if(_0x483302===null||_0x483302===''){showMessage(_0x2fc1e9(0x76f)),startPerQuestionTimer();return;}const _0x595eae=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x191d56=currentDisplayedQuiz['settings']?.[_0x2fc1e9(0x7cb)]||'checkbox';if(_0x595eae&&_0x191d56===_0x2fc1e9(0x27b)){document[_0x2fc1e9(0x6ec)](_0x2fc1e9(0x6f7))[_0x2fc1e9(0x261)][_0x2fc1e9(0xb7e)]='timed',document[_0x2fc1e9(0x6ec)](_0x2fc1e9(0x966))[_0x2fc1e9(0x8c2)]=_0x483302,document['getElementById'](_0x2fc1e9(0x6f7))[_0x2fc1e9(0xed5)][_0x2fc1e9(0xb8a)](_0x2fc1e9(0x515));return;}const _0x50e5ab=document[_0x2fc1e9(0x6ec)](_0x2fc1e9(0x769));_0x50e5ab&&(_0x4e71c1=_0x50e5ab['checked']);}const _0x59727b={'answer':_0x483302,'wasConfident':_0x4e71c1};proceedToNextQuestion(_0x59727b);}async function finalizePerQuestionQuiz(){const _0x15a31b=_0x2e2582,_0x119eca=currentDisplayedQuiz[_0x15a31b(0xa08)][_0x15a31b(0xf37)](_0x2b9e9c=>_0x2b9e9c['questionType']===_0x15a31b(0x466));_0x119eca?showMessage(_0x15a31b(0x8b0)):showMessage(_0x15a31b(0xad1));const _0x11db06=currentQuizData['id'],_0xc1465a=doc(db,_0x15a31b(0x509)+appId+_0x15a31b(0xd97)+_0x11db06+_0x15a31b(0xb14),currentStudentName),_0x106ee0=await getDoc(_0xc1465a),_0x2c2795=_0x106ee0['exists']()?_0x106ee0[_0x15a31b(0xe5c)]():{},_0x1056fd=_0x2c2795['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x1056fd);}function getResultsFilename(){const _0x529d0d=_0x2e2582,_0x511ec5=document[_0x529d0d(0x6ec)](_0x529d0d(0x701))[_0x529d0d(0x337)][_0x529d0d(0x3cc)](/[^a-z0-9]/gi,'_')[_0x529d0d(0x3be)]();return _0x529d0d(0xc4d)+(_0x511ec5||_0x529d0d(0x385));}function exportResultsAsImage(){const _0x1ff308=_0x2e2582,_0x3bf81e=document['getElementById']('results-table-container');showMessage(_0x1ff308(0xe51)),html2canvas(_0x3bf81e)['then'](_0x5a1296=>{const _0x33fdce=_0x1ff308,_0xbaa61a=document['createElement']('a');_0xbaa61a[_0x33fdce(0x90f)]=getResultsFilename()+_0x33fdce(0x812),_0xbaa61a['href']=_0x5a1296['toDataURL'](_0x33fdce(0xf22)),_0xbaa61a['click'](),messageModal['classList'][_0x33fdce(0xbca)]('hidden');});}function exportResultsAsPDF(){const _0x5d28f1=_0x2e2582,{jsPDF:_0x179e9c}=window[_0x5d28f1(0x79f)],_0x12f692=new _0x179e9c();_0x12f692[_0x5d28f1(0x2fd)](_0x5d28f1(0x5f5),'normal'),_0x12f692[_0x5d28f1(0xf34)]({'html':'#results-table'}),_0x12f692['save'](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x5ca74d=_0x2e2582,_0x4a2028=_0x5ca74d(0x819)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x4f5111=_0x5ca74d(0x7ad),_0x5d3dae=_0x4a2028+document[_0x5ca74d(0x6ec)](_0x5ca74d(0xeef))[_0x5ca74d(0x674)]+_0x4f5111,_0x51c515=_0x5ca74d(0x95e)+encodeURIComponent(_0x5d3dae),_0x1a7dba=document['createElement']('a');document[_0x5ca74d(0xc74)]['appendChild'](_0x1a7dba),_0x1a7dba[_0x5ca74d(0xa40)]=_0x51c515,_0x1a7dba[_0x5ca74d(0x90f)]=getResultsFilename()+'.doc',_0x1a7dba[_0x5ca74d(0x7b0)](),document['body']['removeChild'](_0x1a7dba);}function exportResultsAsExcel(){const _0x49b8ce=_0x2e2582,_0x2e15c3=document[_0x49b8ce(0x6ec)](_0x49b8ce(0x815));let _0xf08062=[];for(let _0xd6ca14=0x0;_0xd6ca14<_0x2e15c3['rows'][_0x49b8ce(0x83b)];_0xd6ca14++){let _0x491d18=[],_0x50f431=_0x2e15c3[_0x49b8ce(0xd14)][_0xd6ca14][_0x49b8ce(0xcf1)]('td,\x20th');for(let _0x1d56cd=0x0;_0x1d56cd<_0x50f431[_0x49b8ce(0x83b)];_0x1d56cd++){_0x491d18[_0x49b8ce(0x724)]('\x22'+_0x50f431[_0x1d56cd]['innerText'][_0x49b8ce(0x3cc)](/"/g,'\x22\x22')+'\x22');}_0xf08062['push'](_0x491d18[_0x49b8ce(0x8c3)](','));}const _0x184ff5=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xf08062[_0x49b8ce(0x8c3)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x5dbaeb=document['createElement']('a');_0x5dbaeb['href']=URL[_0x49b8ce(0xa49)](_0x184ff5),_0x5dbaeb[_0x49b8ce(0x90f)]=getResultsFilename()+_0x49b8ce(0x54b),_0x5dbaeb[_0x49b8ce(0x7b0)]();}function exportTableAsImage(_0x2c4d5f,_0x41ad3e){const _0x12331d=_0x2e2582,_0x78129=document['getElementById'](_0x2c4d5f),_0x552c8b=document['getElementById']('results-quiz-title');if(!_0x78129){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x12331d(0xce2));const _0x273ad6=document[_0x12331d(0xc7b)]('div');_0x273ad6[_0x12331d(0xdb7)][_0x12331d(0x430)]=_0x12331d(0xda9),_0x273ad6[_0x12331d(0xdb7)][_0x12331d(0xde9)]=_0x12331d(0xb57),_0x273ad6[_0x12331d(0xdb7)][_0x12331d(0x950)]='1000px',_0x273ad6['style'][_0x12331d(0xa2b)]='fixed',_0x273ad6[_0x12331d(0xdb7)][_0x12331d(0x322)]=_0x12331d(0x90d),_0x273ad6[_0x12331d(0xdb7)][_0x12331d(0x276)]='0',_0x273ad6[_0x12331d(0xdb7)][_0x12331d(0x606)]='-1';const _0x426924=document[_0x12331d(0xc7b)]('h1');_0x426924[_0x12331d(0xd58)]=_0x552c8b?_0x552c8b[_0x12331d(0xd58)]:_0x12331d(0xd6b),_0x426924[_0x12331d(0xdb7)][_0x12331d(0x26c)]=_0x12331d(0x8f4),_0x426924[_0x12331d(0xdb7)]['fontFamily']=_0x12331d(0xd19),_0x426924['style'][_0x12331d(0xd7b)]=_0x12331d(0xe65),_0x426924[_0x12331d(0xdb7)][_0x12331d(0x844)]=_0x12331d(0x230),_0x426924[_0x12331d(0xdb7)]['color']=_0x12331d(0x6a3),_0x426924[_0x12331d(0xdb7)][_0x12331d(0x9be)]='20px';const _0x170009=_0x78129[_0x12331d(0xd56)](!![]);_0x170009[_0x12331d(0xdb7)][_0x12331d(0xcb2)]=_0x12331d(0xd62),_0x170009[_0x12331d(0xdb7)][_0x12331d(0x595)]=_0x12331d(0x8a0);const _0x51fc46=_0x170009[_0x12331d(0xcf1)]('th');let _0x1eb778=-0x1;_0x51fc46['forEach']((_0x2f2a82,_0x2ae4fb)=>{const _0x327731=_0x12331d;_0x2f2a82[_0x327731(0x337)][_0x327731(0xdd8)]()==='ผล'&&(_0x2f2a82[_0x327731(0xdb7)][_0x327731(0x35a)]=_0x327731(0xd62),_0x1eb778=_0x2ae4fb);});if(_0x1eb778!==-0x1){const _0x5e3a57=_0x170009[_0x12331d(0xcf1)]('tr');_0x5e3a57[_0x12331d(0x9ce)](_0x207b01=>{const _0x4a0208=_0x12331d,_0xaaabdd=_0x207b01[_0x4a0208(0xcf1)]('td');_0xaaabdd[_0x4a0208(0x83b)]>_0x1eb778&&(_0xaaabdd[_0x1eb778][_0x4a0208(0xdb7)]['display']=_0x4a0208(0xd62));});}_0x273ad6[_0x12331d(0xa8b)](_0x426924),_0x273ad6[_0x12331d(0xa8b)](_0x170009),document[_0x12331d(0xc74)][_0x12331d(0xa8b)](_0x273ad6),html2canvas(_0x273ad6,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x12331d(0xda9)})[_0x12331d(0x397)](_0x1c1fa5=>{const _0x50fcb1=_0x12331d,_0x3a06e7=document[_0x50fcb1(0xc7b)]('a');_0x3a06e7[_0x50fcb1(0x90f)]=_0x41ad3e+_0x50fcb1(0x812),_0x3a06e7[_0x50fcb1(0xa40)]=_0x1c1fa5['toDataURL'](_0x50fcb1(0xf22)),_0x3a06e7['click'](),document['body']['removeChild'](_0x273ad6),messageModal[_0x50fcb1(0xed5)][_0x50fcb1(0xbca)](_0x50fcb1(0x515));})[_0x12331d(0x4ec)](_0x373aea=>{const _0x54f16e=_0x12331d;console[_0x54f16e(0x61c)](_0x54f16e(0x83f),_0x373aea),document[_0x54f16e(0xc74)][_0x54f16e(0xb25)](_0x273ad6),showMessage('เกิดข้อผิดพลาดในการสร้างรูปภาพ');});}function exportTableAsPDF(_0x191311,_0x15cb71){const _0x3cdd16=_0x2e2582,{jsPDF:_0x2af1e4}=window[_0x3cdd16(0x79f)],_0x8bd9ee=new _0x2af1e4();_0x8bd9ee[_0x3cdd16(0x2fd)]('helvetica',_0x3cdd16(0xb18)),_0x8bd9ee['autoTable']({'html':'#'+_0x191311}),_0x8bd9ee[_0x3cdd16(0xbeb)](_0x15cb71+_0x3cdd16(0x529));}function exportTableAsWord(_0x21c2ae,_0x1c44e3){const _0x25a2ad=_0x2e2582,_0x3473e0=document[_0x25a2ad(0x6ec)](_0x21c2ae);if(!_0x3473e0){showMessage(_0x25a2ad(0xdf5));return;}const _0x3c8e63=_0x25a2ad(0x819)+_0x25a2ad(0x783)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x1a23ab=_0x25a2ad(0x7ad),_0x18881b=_0x3c8e63+_0x3473e0['innerHTML']+_0x1a23ab,_0x4f55a1=_0x25a2ad(0x95e)+encodeURIComponent(_0x18881b),_0x117076=document[_0x25a2ad(0xc7b)]('a');document['body'][_0x25a2ad(0xa8b)](_0x117076),_0x117076['href']=_0x4f55a1,_0x117076['download']=_0x1c44e3+_0x25a2ad(0x66a),_0x117076[_0x25a2ad(0x7b0)](),document['body']['removeChild'](_0x117076);}function exportTableAsExcel(_0x1f6a17,_0x666847){const _0x3db909=_0x2e2582,_0x29188e=document['getElementById'](_0x1f6a17);if(!_0x29188e){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x1f3458=[];for(let _0x3da6cb=0x0;_0x3da6cb<_0x29188e[_0x3db909(0xd14)][_0x3db909(0x83b)];_0x3da6cb++){let _0x54883c=[],_0x1b8c96=_0x29188e[_0x3db909(0xd14)][_0x3da6cb][_0x3db909(0xcf1)]('td,\x20th');for(let _0x36195b=0x0;_0x36195b<_0x1b8c96[_0x3db909(0x83b)];_0x36195b++){_0x54883c[_0x3db909(0x724)]('\x22'+_0x1b8c96[_0x36195b]['innerText'][_0x3db909(0x3cc)](/"/g,'\x22\x22')+'\x22');}_0x1f3458['push'](_0x54883c[_0x3db909(0x8c3)](','));}const _0x51045a=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1f3458['join']('\x0a')],{'type':_0x3db909(0x92d)}),_0x13e74e=document[_0x3db909(0xc7b)]('a');_0x13e74e['href']=URL['createObjectURL'](_0x51045a),_0x13e74e[_0x3db909(0x90f)]=_0x666847+_0x3db909(0x54b),_0x13e74e[_0x3db909(0x7b0)]();}function renderAnalytics(_0xe03585,_0x298268){const _0x3fef23=_0x2e2582,_0x1743a3=_0x298268[_0x3fef23(0xe4e)](_0x1585bf=>_0x1585bf[_0x3fef23(0xcc3)]!==undefined),_0x2b311a=currentProjectData[_0x3fef23(0x30d)][_0x3fef23(0x83b)],_0x5f4a32=_0x1743a3[_0x3fef23(0x83b)],_0x43bb1a=_0x2b311a-_0x5f4a32,_0x146a88=_0x2b311a>0x0?_0x5f4a32/_0x2b311a*0x64:0x0,_0x439b84=_0x1743a3['map'](_0xf5dd21=>_0xf5dd21[_0x3fef23(0xcc3)]),_0x3c3da6=_0x439b84['length']>0x0?_0x439b84[_0x3fef23(0x5ed)]((_0x2ab468,_0x23c36e)=>_0x2ab468+_0x23c36e,0x0)/_0x439b84[_0x3fef23(0x83b)]:0x0,_0x14c61c=_0xe03585['questions'][_0x3fef23(0x83b)],_0x4afdff=_0x14c61c>0x0?_0x3c3da6/_0x14c61c*0x64:0x0,_0x432bfa=calculateItemAnalysis(_0xe03585,_0x1743a3),_0x3d3466=calculateReliabilityKR20(_0xe03585,_0x1743a3,_0x432bfa[_0x3fef23(0x80e)]);let _0x282917='';if(_0x3d3466!==null){let _0x59064e='';if(_0x3d3466>=0.9)_0x59064e=_0x3fef23(0x7db);else{if(_0x3d3466>=0.8)_0x59064e=_0x3fef23(0x92a);else{if(_0x3d3466>=0.7)_0x59064e='ดี';else{if(_0x3d3466>=0.6)_0x59064e=_0x3fef23(0x626);else _0x59064e='ควรปรับปรุง';}}}_0x282917='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x3d3466[_0x3fef23(0xd15)](0x2)+_0x3fef23(0xe45)+_0x59064e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x42af61=document[_0x3fef23(0x6ec)](_0x3fef23(0x743));_0x42af61[_0x3fef23(0x674)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x146a88[_0x3fef23(0xd15)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x5f4a32+'/'+_0x2b311a+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x3c3da6[_0x3fef23(0xd15)](0x2)+_0x3fef23(0x818)+_0x4afdff[_0x3fef23(0xd15)](0x0)+_0x3fef23(0x479)+(_0x439b84[_0x3fef23(0x83b)]>0x0?Math[_0x3fef23(0xd94)](..._0x439b84):_0x3fef23(0xaf9))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x439b84['length']>0x0?Math['min'](..._0x439b84):_0x3fef23(0xaf9))+_0x3fef23(0xd82)+_0x282917+_0x3fef23(0x66d);const _0x3fc87b=document[_0x3fef23(0x6ec)](_0x3fef23(0x444));_0x3fc87b&&_0x3fc87b[_0x3fef23(0xb8a)]();const _0x5dfd16=_0x3fef23(0x613);_0x42af61[_0x3fef23(0xc88)](_0x3fef23(0x40a),_0x5dfd16);const _0x287eb2=currentProjectData['students']||[];renderSubmissionChart(_0x5f4a32,_0x43bb1a,_0x1743a3,_0x287eb2),renderScoreDistributionChart(_0x1743a3,_0x14c61c),renderQuestionAnalytics(_0xe03585,_0x1743a3,_0x287eb2),renderInterestingStats(_0xe03585,_0x1743a3);}async function handleExportLessonPDF(){const _0x36822a=_0x2e2582,_0x3f698b=document[_0x36822a(0x6ec)](_0x36822a(0x840)),_0x91b271=document[_0x36822a(0x6ec)](_0x36822a(0x698))['textContent'],_0x1bddc6=window[_0x36822a(0xcd8)]('',_0x36822a(0x204)),_0x389eec=_0x36822a(0xd78)+_0x91b271+_0x36822a(0xf30)+_0x3f698b[_0x36822a(0x674)]+_0x36822a(0x2ad);_0x1bddc6['document'][_0x36822a(0x8b3)](_0x389eec),_0x1bddc6[_0x36822a(0x923)][_0x36822a(0x5d4)](),_0x1bddc6[_0x36822a(0x9c2)]=function(){setTimeout(()=>{_0x1bddc6['print']();},0x5dc);};}function renderInterestingStats(_0xe4ffc1,_0x1213a2){const _0x4bff5d=_0x2e2582,_0x1b846d=document['getElementById'](_0x4bff5d(0xe8b));if(!_0x1b846d)return;if(_0x1213a2[_0x4bff5d(0x83b)]===0x0){_0x1b846d['innerHTML']='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0xf66fc6=_0xe4ffc1[_0x4bff5d(0xa08)]['map']((_0x3a6935,_0x44871f)=>({'index':_0x44871f+0x1,'text':_0x3a6935[_0x4bff5d(0x912)]||_0x3a6935['stem'],'correct':0x0}));_0x1213a2['forEach'](_0x439960=>{const _0x531077=_0x4bff5d,_0x285103=_0x439960[_0x531077(0x3ea)][_0x439960[_0x531077(0x3ea)][_0x531077(0x83b)]-0x1];_0x285103&&_0x285103['answers']&&_0x285103[_0x531077(0x767)]['forEach'](_0xf89e1f=>{const _0x1b1061=_0x531077,_0xc35760=_0xf66fc6['find'](_0xba1496=>_0xba1496[_0x1b1061(0x566)]===_0xf89e1f[_0x1b1061(0x2ae)]);_0xf89e1f[_0x1b1061(0x33c)]&&_0xc35760&&_0xc35760[_0x1b1061(0x259)]++;});});const _0x306d33=_0x1213a2[_0x4bff5d(0x83b)],_0x1f5625=Math['max'](..._0xf66fc6[_0x4bff5d(0x91f)](_0xf54474=>_0xf54474['correct'])),_0x7d7641=Math['min'](..._0xf66fc6[_0x4bff5d(0x91f)](_0x5704ba=>_0x5704ba['correct'])),_0x175649=_0xf66fc6[_0x4bff5d(0xe4e)](_0x591955=>_0x591955['correct']===_0x1f5625)[_0x4bff5d(0x91f)](_0x46a62a=>_0x4bff5d(0xca6)+_0x46a62a[_0x4bff5d(0x7f2)]),_0x15ef72=_0xf66fc6[_0x4bff5d(0xe4e)](_0x2fc1d5=>_0x2fc1d5[_0x4bff5d(0x259)]===_0x7d7641)[_0x4bff5d(0x91f)](_0x344600=>_0x4bff5d(0xca6)+_0x344600[_0x4bff5d(0x7f2)]),_0x4209e7=_0x1213a2['sort']((_0x45ff02,_0x1f33e9)=>_0x1f33e9[_0x4bff5d(0xcc3)]-_0x45ff02[_0x4bff5d(0xcc3)])[_0x4bff5d(0xe4e)]((_0x58de94,_0x4092cf,_0x8a97d4)=>_0x58de94['latestScore']===_0x8a97d4[0x0][_0x4bff5d(0xcc3)]),_0x33ed1b=_0x1213a2[_0x4bff5d(0x6f8)]((_0x3d536b,_0x1447fb)=>_0x3d536b[_0x4bff5d(0xcc3)]-_0x1447fb['latestScore'])[_0x4bff5d(0xe4e)]((_0x47544d,_0x5e4132,_0x2c7c90)=>_0x47544d['latestScore']===_0x2c7c90[0x0][_0x4bff5d(0xcc3)]),_0x47f406=_0x4bff5d(0x83c)+_0x175649[_0x4bff5d(0x8c3)](',\x20')+_0x4bff5d(0x876)+_0x1f5625+_0x4bff5d(0xa09)+_0x306d33+_0x4bff5d(0xb0a)+_0x15ef72[_0x4bff5d(0x8c3)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x306d33-_0x7d7641)+_0x4bff5d(0xa09)+_0x306d33+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x4209e7['map'](_0x5b1821=>_0x5b1821[_0x4bff5d(0xba6)])['join'](',\x20')+_0x4bff5d(0x9a2)+_0x4209e7[0x0][_0x4bff5d(0xcc3)]+_0x4bff5d(0xd7d)+_0x33ed1b[_0x4bff5d(0x91f)](_0x45aaeb=>_0x45aaeb[_0x4bff5d(0xba6)])[_0x4bff5d(0x8c3)](',\x20')+_0x4bff5d(0x9a2)+_0x33ed1b[0x0][_0x4bff5d(0xcc3)]+_0x4bff5d(0x625);_0x1b846d[_0x4bff5d(0x674)]=_0x47f406;}function renderSubmissionChart(_0x58ae6d,_0x4d5108,_0x4c9aa9,_0x17ef21){const _0x5e886b=_0x2e2582,_0x2d6843=document[_0x5e886b(0x6ec)](_0x5e886b(0x7f3))[_0x5e886b(0x630)]('2d'),_0x164107=_0x4c9aa9[_0x5e886b(0x91f)](_0x3e6b90=>_0x3e6b90['studentName']),_0x272f1e=_0x17ef21[_0x5e886b(0xe4e)](_0x2b2b7b=>!_0x164107['includes'](_0x2b2b7b));chartInstances['submission']&&chartInstances['submission'][_0x5e886b(0x77b)](),chartInstances['submission']=new Chart(_0x2d6843,{'type':_0x5e886b(0x71e),'data':{'labels':['ส่งแล้ว',_0x5e886b(0x930)],'datasets':[{'data':[_0x58ae6d,_0x4d5108],'backgroundColor':[_0x5e886b(0xd2b),'#F59E0B'],'borderColor':[_0x5e886b(0xda9),_0x5e886b(0xda9)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x4f5861){const _0x4f11ec=_0x5e886b;let _0x5044de=_0x4f5861[_0x4f11ec(0xeab)]||'';return _0x5044de&&(_0x5044de+=':\x20'),_0x5044de+=_0x4f5861[_0x4f11ec(0x63b)],_0x5044de;},'afterLabel':function(_0x25ba51){const _0x5bfc0d=_0x5e886b;let _0x2a4dee;return _0x25ba51[_0x5bfc0d(0x442)]===0x0?_0x2a4dee=_0x164107:_0x2a4dee=_0x272f1e,_0x2a4dee['length']>0x0?_0x2a4dee[_0x5bfc0d(0x8c3)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x4a55fe,_0x5a5b9d){const _0x1576d4=_0x2e2582,_0x1ae05f=document[_0x1576d4(0x6ec)]('score-distribution-chart')[_0x1576d4(0x630)]('2d'),_0x293495={};for(let _0x49817b=0x0;_0x49817b<=_0x5a5b9d;_0x49817b++){_0x293495[_0x49817b]=0x0;}_0x4a55fe[_0x1576d4(0x9ce)](_0x46e05d=>{const _0x2572df=_0x1576d4;_0x293495[_0x46e05d[_0x2572df(0xcc3)]]!==undefined&&_0x293495[_0x46e05d[_0x2572df(0xcc3)]]++;}),chartInstances[_0x1576d4(0x600)]&&chartInstances[_0x1576d4(0x600)]['destroy'](),chartInstances['score']=new Chart(_0x1ae05f,{'type':_0x1576d4(0x7d9),'data':{'labels':Object[_0x1576d4(0x66f)](_0x293495),'datasets':[{'label':_0x1576d4(0xe8c),'data':Object[_0x1576d4(0x586)](_0x293495),'backgroundColor':_0x1576d4(0x992),'borderColor':_0x1576d4(0x8f7),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x1576d4(0xbb7)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x5d6527){const _0x34856a=_0x1576d4,_0x4546cb=_0x5d6527[_0x34856a(0xeab)],_0x1b79d6=_0x4a55fe[_0x34856a(0xe4e)](_0x41d7fd=>_0x41d7fd['latestScore']==_0x4546cb)[_0x34856a(0x91f)](_0x584f3d=>_0x584f3d[_0x34856a(0xba6)]);return _0x1b79d6[_0x34856a(0x83b)]>0x0?_0x1b79d6[_0x34856a(0x8c3)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x12eac0,_0xd6a7f,_0x3e903d){const _0x57176f=_0x2e2582,_0xa19ebe=document['getElementById'](_0x57176f(0x3b4));if(_0x3e903d[_0x57176f(0x83b)]===0x0){_0xa19ebe[_0x57176f(0x674)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x1766fa=calculateItemAnalysis(_0x12eac0,_0xd6a7f),_0x3430f4=calculateDistractorAnalysis(_0x12eac0,_0xd6a7f);let _0x178944='';_0x1766fa[_0x57176f(0xb99)]&&(_0x178944=_0x57176f(0x5b1)+_0x1766fa[_0x57176f(0xb99)][_0x57176f(0xb6c)][_0x57176f(0x83b)]+_0x57176f(0x7fb)+_0x1766fa['overallGroups'][_0x57176f(0xb6c)][_0x57176f(0x91f)](_0x37c7f5=>_0x57176f(0xa5c)+_0x37c7f5+_0x57176f(0x918))[_0x57176f(0x8c3)]('')+_0x57176f(0x842)+_0x1766fa[_0x57176f(0xb99)][_0x57176f(0xe35)][_0x57176f(0x83b)]+_0x57176f(0x7fb)+_0x1766fa[_0x57176f(0xb99)][_0x57176f(0xe35)]['map'](_0x4ae4e3=>_0x57176f(0xa5c)+_0x4ae4e3+_0x57176f(0x918))[_0x57176f(0x8c3)]('')+_0x57176f(0x507));let _0x107ded='';const _0x4b70a9=_0xd6a7f[_0x57176f(0x91f)](_0x324275=>_0x324275[_0x57176f(0xba6)]),_0x420d85=_0x2b267f=>{const _0x1e189d=_0x57176f;if(_0x2b267f>=0.8)return _0x1e189d(0xdb6);if(_0x2b267f>=0.6)return _0x1e189d(0x543);if(_0x2b267f>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x2b267f>=0.2)return _0x1e189d(0xacd);return _0x1e189d(0xafd);},_0x39e433=_0x8f15aa=>{const _0x4d8ce1=_0x57176f;if(_0x8f15aa<0x0)return _0x4d8ce1(0x89f);if(_0x8f15aa>=0.4)return _0x4d8ce1(0xca2);if(_0x8f15aa>=0.3)return _0x4d8ce1(0x420);if(_0x8f15aa>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x4d8ce1(0xa97);},_0x57da5e=_0x1c9666=>{const _0x38d461=_0x57176f,_0x200aee=_0x1c9666[_0x38d461(0xd15)](0x0);if(parseFloat(_0x200aee)===0x64)return _0x38d461(0x5b6)+_0x200aee+_0x38d461(0x3c0);if(_0x1c9666>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x200aee+_0x38d461(0x3c0);return _0x38d461(0x56c)+_0x200aee+'%</span>';};_0x12eac0[_0x57176f(0xa08)][_0x57176f(0x9ce)]((_0x3ce04d,_0x19b2a0)=>{const _0x4b4785=_0x57176f,_0x346690=_0x1766fa[_0x4b4785(0x80e)][_0x19b2a0],_0x9e024c=_0x3430f4[_0x19b2a0],_0x4a436e=_0x3ce04d[_0x4b4785(0x71c)]||_0x3ce04d[_0x4b4785(0x912)]||_0x3ce04d[_0x4b4785(0x4e3)];let _0x98cd52=0x0;const _0x522e46=[],_0x24a9dc=[];_0xd6a7f[_0x4b4785(0x9ce)](_0x225685=>{const _0x536415=_0x4b4785,_0xf08897=_0x225685[_0x536415(0x3ea)][_0x225685[_0x536415(0x3ea)][_0x536415(0x83b)]-0x1];if(_0xf08897&&_0xf08897[_0x536415(0x767)]){const _0x56d031=_0xf08897[_0x536415(0x767)][_0x536415(0x426)](_0x2cb79c=>_0x2cb79c[_0x536415(0x2ae)]===_0x4a436e)??_0xf08897['answers'][_0x19b2a0]??null;_0x56d031&&(_0x56d031[_0x536415(0x33c)]?(_0x98cd52++,_0x522e46['push'](_0x225685['studentName'])):_0x24a9dc['push'](_0x225685[_0x536415(0xba6)]));}});const _0x8e1e4d=_0xd6a7f[_0x4b4785(0x83b)]>0x0?_0x98cd52/_0xd6a7f[_0x4b4785(0x83b)]*0x64:0x0,_0x40e4dc=_0x3e903d[_0x4b4785(0xe4e)](_0x573ef0=>!_0x4b70a9[_0x4b4785(0x9ee)](_0x573ef0)),_0x2d62ae=_0x346690?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x346690['p']['toFixed'](0x2)+_0x4b4785(0xc23)+_0x420d85(_0x346690['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x346690['r']['toFixed'](0x2)+_0x4b4785(0xc23)+_0x39e433(_0x346690['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57da5e(_0x8e1e4d)+_0x4b4785(0x216):'';let _0x5c4200='';_0x9e024c&&(_0x5c4200=_0x4b4785(0xb48)+Object[_0x4b4785(0x66f)](_0x9e024c)[_0x4b4785(0x91f)](_0x5aa6f3=>{const _0x1bccfb=_0x4b4785,_0x1cb59c=_0x9e024c[_0x5aa6f3],_0x4947ee=parseInt(_0x5aa6f3)===_0x3ce04d[_0x1bccfb(0x526)],_0x3a0fae=!_0x4947ee&&_0x1cb59c[_0x1bccfb(0x612)]>_0x1cb59c[_0x1bccfb(0x868)];return'<tr\x20class=\x22'+(_0x4947ee?_0x1bccfb(0x9dc):'')+_0x1bccfb(0xed1)+(_0x4947ee?'✔\x20':'')+_0x1cb59c[_0x1bccfb(0x566)]+_0x1bccfb(0x1e0)+_0x1cb59c[_0x1bccfb(0x868)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x1cb59c[_0x1bccfb(0x612)]+'\x20'+(_0x3a0fae?'👍':'')+_0x1bccfb(0x1e0)+_0x1cb59c[_0x1bccfb(0x24d)]+'</td></tr>';})[_0x4b4785(0x8c3)]('')+_0x4b4785(0xedf));let _0x2fdb75='';_0x346690&&_0x346690[_0x4b4785(0xe24)]&&(_0x2fdb75=_0x4b4785(0x7df)+_0x346690[_0x4b4785(0xe24)][_0x4b4785(0x83b)]+_0x4b4785(0x3cf)+_0x346690[_0x4b4785(0xe24)][_0x4b4785(0x91f)](_0x4bc566=>_0x4b4785(0xa5c)+(_0x4bc566[_0x4b4785(0x33c)]?_0x4b4785(0x886):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x4bc566[_0x4b4785(0x47c)]+_0x4b4785(0x918))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x346690['lowerGroupResponders']['length']+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x346690[_0x4b4785(0x391)]['map'](_0x141dac=>'<li>'+(_0x141dac[_0x4b4785(0x33c)]?_0x4b4785(0x886):_0x4b4785(0xc8f))+'\x20'+_0x141dac[_0x4b4785(0x47c)]+_0x4b4785(0x918))[_0x4b4785(0x8c3)]('')+_0x4b4785(0x5ff)),_0x107ded+=_0x4b4785(0x933)+(_0x19b2a0+0x1)+':\x20'+_0x4a436e+_0x4b4785(0x41b)+_0x2d62ae+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x4a436e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x98cd52+_0x4b4785(0xc3f)+_0xd6a7f['length']+_0x4b4785(0xdc1)+_0x8e1e4d[_0x4b4785(0xd15)](0x0)+_0x4b4785(0x24e)+_0x522e46[_0x4b4785(0x83b)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x522e46[_0x4b4785(0x83b)]>0x0?_0x522e46[_0x4b4785(0x8c3)](',\x20'):_0x4b4785(0xbc4))+_0x4b4785(0xc60)+_0x24a9dc[_0x4b4785(0x83b)]+_0x4b4785(0xabb)+(_0x24a9dc[_0x4b4785(0x83b)]>0x0?_0x24a9dc[_0x4b4785(0x8c3)](',\x20'):_0x4b4785(0xbc4))+_0x4b4785(0xde1)+_0x40e4dc['length']+_0x4b4785(0xabb)+(_0x40e4dc[_0x4b4785(0x83b)]>0x0?_0x40e4dc[_0x4b4785(0x8c3)](',\x20'):_0x4b4785(0xbc4))+_0x4b4785(0xd04)+_0x5c4200+_0x4b4785(0xddb)+_0x2fdb75+_0x4b4785(0xf0d);}),_0xa19ebe[_0x57176f(0x674)]=_0x178944+_0x107ded;try{window[_0x57176f(0xef3)]&&MathJax[_0x57176f(0x396)]&&MathJax['typesetPromise']([_0xa19ebe]);}catch(_0x539bc1){console[_0x57176f(0x61c)](_0x57176f(0x1c7),_0x539bc1);}}function calculateDistractorAnalysis(_0x13bb9b,_0x36b493){const _0x1943ec=_0x2e2582,_0x2a435b={};if(_0x36b493[_0x1943ec(0x83b)]<0x2)return _0x2a435b;const _0x18c84d=[..._0x36b493]['sort']((_0x369a36,_0x1a71f1)=>{const _0xf66d46=_0x1943ec,_0x24e32a=_0x1a71f1['latestScore']-_0x369a36[_0xf66d46(0xcc3)];if(_0x24e32a!==0x0)return _0x24e32a;const _0x101381=_0x369a36[_0xf66d46(0x3ea)]?.[_0xf66d46(0x83b)]||0x1,_0xa9f2d2=_0x1a71f1[_0xf66d46(0x3ea)]?.[_0xf66d46(0x83b)]||0x1,_0x2002d6=_0x101381-_0xa9f2d2;if(_0x2002d6!==0x0)return _0x2002d6;const _0x3e50bc=new Date(_0x369a36[_0xf66d46(0x7e7)]),_0x4feedb=new Date(_0x1a71f1[_0xf66d46(0x7e7)]),_0x1ee46e=_0x3e50bc-_0x4feedb;if(_0x1ee46e!==0x0)return _0x1ee46e;return _0x369a36[_0xf66d46(0xba6)][_0xf66d46(0x6e9)](_0x1a71f1[_0xf66d46(0xba6)],'th');}),_0x152577=_0x18c84d[_0x1943ec(0x83b)],_0x1f9d5c=Math['max'](0x1,Math['floor'](_0x152577*0.33)),_0x1efc1f=_0x18c84d[_0x1943ec(0xcb7)](0x0,_0x1f9d5c),_0x55c135=_0x18c84d[_0x1943ec(0xcb7)](-_0x1f9d5c);return _0x13bb9b['questions'][_0x1943ec(0x9ce)]((_0x75f73d,_0x4f0ba1)=>{const _0xc0ffea=_0x1943ec;if(_0x75f73d['questionType']!==_0xc0ffea(0xbb3)||!_0x75f73d[_0xc0ffea(0x25f)])return;const _0x2f692c=_0x75f73d[_0xc0ffea(0x912)],_0x244232={};_0x75f73d[_0xc0ffea(0x25f)][_0xc0ffea(0x9ce)]((_0x2f5797,_0x3dc6c4)=>{_0x244232[_0x3dc6c4]={'text':_0x2f5797,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x18c84d['forEach'](_0xd59e72=>{const _0x12cca4=_0xc0ffea,_0x18c0d9=_0xd59e72['attempts'][_0xd59e72['attempts'][_0x12cca4(0x83b)]-0x1],_0x42862a=_0x18c0d9['answers'][_0x12cca4(0x426)](_0x5c9131=>_0x5c9131['originalQuestionText']===_0x2f692c);if(_0x42862a&&_0x42862a[_0x12cca4(0x67c)]!==null){const _0x52b507=_0x75f73d[_0x12cca4(0x25f)][_0x12cca4(0x8e8)](_0x4da4bb=>_0x4da4bb===_0x42862a[_0x12cca4(0x252)]);_0x52b507!==-0x1&&_0x244232[_0x52b507]&&(_0x244232[_0x52b507][_0x12cca4(0x24d)]++,_0x1efc1f[_0x12cca4(0x9ee)](_0xd59e72)&&_0x244232[_0x52b507][_0x12cca4(0x868)]++,_0x55c135['includes'](_0xd59e72)&&_0x244232[_0x52b507][_0x12cca4(0x612)]++);}}),_0x2a435b[_0x4f0ba1]=_0x244232;}),_0x2a435b;}function calculateReliabilityKR20(_0x25426b,_0x19c59,_0x2db399){const _0x591dc2=_0x2e2582,_0x449d93=_0x25426b[_0x591dc2(0xa08)][_0x591dc2(0x83b)];if(_0x449d93<0x2||_0x19c59[_0x591dc2(0x83b)]<0x2)return null;const _0x238870=_0x19c59[_0x591dc2(0x91f)](_0x52422c=>_0x52422c[_0x591dc2(0xcc3)]),_0x420043=_0x238870[_0x591dc2(0x5ed)]((_0x2dc314,_0x33c371)=>_0x2dc314+_0x33c371,0x0)/_0x238870['length'],_0xb03090=_0x238870[_0x591dc2(0x91f)](_0x589ad6=>Math[_0x591dc2(0x697)](_0x589ad6-_0x420043,0x2))[_0x591dc2(0x5ed)]((_0x218f8d,_0x43a7a8)=>_0x218f8d+_0x43a7a8,0x0)/_0x238870['length'];if(_0xb03090===0x0)return null;let _0x3c38c1=0x0;for(let _0x9799c6=0x0;_0x9799c6<_0x449d93;_0x9799c6++){const _0x54b5d5=_0x2db399[_0x9799c6]?.['p'];if(_0x54b5d5===undefined)continue;const _0x1fb558=0x1-_0x54b5d5;_0x3c38c1+=_0x54b5d5*_0x1fb558;}if(_0x3c38c1===0x0)return null;const _0x4aee21=_0x449d93/(_0x449d93-0x1)*(0x1-_0x3c38c1/_0xb03090);if(_0x4aee21>0x1)return null;return _0x4aee21;}async function handleAnalyzeClass(){const _0x5f1a2f=_0x2e2582;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x5f1a2f(0x656));return;}const _0x8a1d17=collection(db,_0x5f1a2f(0x509)+appId+_0x5f1a2f(0xd97)+currentQuizData['id']+_0x5f1a2f(0xb14)),_0x3e428e=await getDocs(_0x8a1d17),_0x15a41c=_0x3e428e[_0x5f1a2f(0x875)]['map'](_0x3a8531=>_0x3a8531[_0x5f1a2f(0xe5c)]());if(_0x15a41c[_0x5f1a2f(0x83b)]<0x2){showMessage(_0x5f1a2f(0xdd5));return;}const _0x3b1cf4=document[_0x5f1a2f(0x6ec)]('strength-weakness-analysis-container');_0x3b1cf4[_0x5f1a2f(0x674)]=_0x5f1a2f(0x742),document[_0x5f1a2f(0x6ec)]('analyze-strengths-btn')['disabled']=!![];const _0x436ea7=_0x15a41c['map']((_0xab5531,_0x283c8b)=>{const _0x2893dc=_0x5f1a2f,_0x43edf0=_0xab5531[_0x2893dc(0x3ea)][_0xab5531[_0x2893dc(0x3ea)][_0x2893dc(0x83b)]-0x1];if(!_0x43edf0)return'';return _0x2893dc(0x8bc)+(_0x283c8b+0x1)+'\x20('+_0xab5531[_0x2893dc(0xba6)]+_0x2893dc(0xb9d)+_0x43edf0[_0x2893dc(0x600)]+'/'+_0xab5531[_0x2893dc(0x410)]+_0x2893dc(0xae7)+JSON[_0x2893dc(0x908)](_0x43edf0[_0x2893dc(0x767)])+_0x2893dc(0x6b5);})[_0x5f1a2f(0x8c3)](_0x5f1a2f(0x9e4)),_0x2c0447=_0x5f1a2f(0x232)+currentQuizData[_0x5f1a2f(0x308)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x5f1a2f(0x908)](currentQuizData[_0x5f1a2f(0xa08)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x436ea7+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x26cc25={'type':_0x5f1a2f(0xda2),'properties':{'classStrengths':{'type':_0x5f1a2f(0xb83),'items':{'type':_0x5f1a2f(0x9eb)}},'classWeaknesses':{'type':_0x5f1a2f(0xb83),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x5f1a2f(0xb83),'items':{'type':_0x5f1a2f(0x9eb)}}},'required':['classStrengths',_0x5f1a2f(0x3e7),_0x5f1a2f(0x47d)]};try{const _0x580452=await callAnalysisApi(_0x2c0447,_0x26cc25);displayClassAnalysis(_0x580452);}catch(_0x46cbc9){console[_0x5f1a2f(0x61c)](_0x5f1a2f(0xe98),_0x46cbc9),_0x3b1cf4[_0x5f1a2f(0x674)]=_0x5f1a2f(0xc26)+_0x46cbc9[_0x5f1a2f(0x784)]+_0x5f1a2f(0xe62);}finally{document[_0x5f1a2f(0x6ec)]('analyze-strengths-btn')[_0x5f1a2f(0x736)]=![];}}function displayClassAnalysis(_0x5d21d3){const _0x23d732=_0x2e2582,_0x3eafd7=document[_0x23d732(0x6ec)](_0x23d732(0xf03));if(!_0x5d21d3){_0x3eafd7[_0x23d732(0x674)]=_0x23d732(0xf20);return;}_0x3eafd7[_0x23d732(0x674)]=_0x23d732(0x462)+_0x5d21d3[_0x23d732(0x6db)]['map'](_0x156714=>'<li>'+_0x156714+_0x23d732(0x918))[_0x23d732(0x8c3)]('')+_0x23d732(0xb3a)+_0x5d21d3[_0x23d732(0x3e7)][_0x23d732(0x91f)](_0xc71d12=>_0x23d732(0xa5c)+_0xc71d12+_0x23d732(0x918))['join']('')+_0x23d732(0x1c9)+_0x5d21d3[_0x23d732(0x47d)][_0x23d732(0x91f)](_0x26f393=>_0x23d732(0xa5c)+_0x26f393+'</li>')[_0x23d732(0x8c3)]('')+_0x23d732(0x9ba);}function formatAndPrintWorksheet(_0xbdc045,_0x44fd88){const _0x50844b=_0x2e2582,_0xa067ba=_0x50844b(0x9c8)+_0xbdc045['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0xbdc045[_0x50844b(0x308)]+_0x50844b(0x624)+_0xbdc045['questions'][_0x50844b(0x91f)]((_0x86d50b,_0x15cba)=>_0x50844b(0x5a2)+(_0x15cba+0x1)+'.\x20'+_0x86d50b[_0x50844b(0x912)]+_0x50844b(0xc02)+(_0x86d50b['imageCode']?_0x50844b(0x46a)+_0x86d50b[_0x50844b(0xde8)]+_0x50844b(0x4f3):'')+_0x50844b(0x96e))[_0x50844b(0x8c3)]('')+_0x50844b(0xab6);_0x44fd88[_0x50844b(0x923)][_0x50844b(0x8b3)](_0xa067ba),_0x44fd88['document'][_0x50844b(0x5d4)](),_0x44fd88['onload']=function(){setTimeout(()=>{const _0x3f31b6=_0x5f2f;_0x44fd88[_0x3f31b6(0xe8a)]();},0x3e8);};}async function generateWorksheet(){const _0x47b915=_0x2e2582,_0x70a61e=document[_0x47b915(0x6ec)]('worksheet-topic-input')[_0x47b915(0x8c2)][_0x47b915(0xdd8)]();if(!_0x70a61e){showMessage(_0x47b915(0x3da));return;}const _0x3f929a=document[_0x47b915(0x6ec)]('force-math-checkbox')[_0x47b915(0xa0a)],_0x53caff=_0x3f929a?'':_0x47b915(0x2fe),_0x187a2a=window[_0x47b915(0xcd8)]('',_0x47b915(0x204));_0x187a2a[_0x47b915(0x923)][_0x47b915(0x8b3)]('<h1></h1>');const _0x55c2c7=parseInt(document[_0x47b915(0x6ec)](_0x47b915(0xb86))['value']),_0x25157e=document['getElementById']('include-images-checkbox')[_0x47b915(0xa0a)],_0x5079e9=_0x25157e?_0x47b915(0x1cb):'',_0x317767='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x53caff+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x55c2c7+_0x47b915(0xa1f)+_0x70a61e+_0x47b915(0xea4)+_0x5079e9+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x47b915(0x7ce),_0x20c2c7={'type':'OBJECT','properties':{'topic':{'type':_0x47b915(0x9eb)},'questions':{'type':_0x47b915(0xb83),'items':{'type':_0x47b915(0xda2),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x47b915(0x9eb)}},'required':[_0x47b915(0x912)]}}},'required':[_0x47b915(0x308),_0x47b915(0xa08)]};document[_0x47b915(0x6ec)]('loader-text')[_0x47b915(0x337)]='',document[_0x47b915(0x6ec)](_0x47b915(0x3e6))[_0x47b915(0xed5)][_0x47b915(0xb8a)](_0x47b915(0x515)),document[_0x47b915(0x6ec)]('quiz-generation-area')[_0x47b915(0xed5)][_0x47b915(0xb8a)](_0x47b915(0x515)),generateWorksheetBtn[_0x47b915(0x736)]=!![];try{const _0x13dd28=await callAnalysisApi(_0x317767,_0x20c2c7);formatAndPrintWorksheet(_0x13dd28,_0x187a2a);}catch(_0x227e15){console[_0x47b915(0x61c)]('Error\x20generating\x20worksheet:',_0x227e15);if(_0x187a2a)_0x187a2a['close']();showMessage(_0x47b915(0x822));}finally{document['getElementById']('loader')['classList'][_0x47b915(0xbca)]('hidden'),document['getElementById'](_0x47b915(0x6c8))[_0x47b915(0xed5)][_0x47b915(0xbca)](_0x47b915(0x515)),generateWorksheetBtn[_0x47b915(0x736)]=![];}}async function callAnalysisApi(_0x48a28e,_0xcace2e){const _0x30f2fd=_0x2e2582,_0x19bf5e={'contents':[{'role':_0x30f2fd(0xbd1),'parts':[{'text':_0x48a28e}]}],'generationConfig':{'responseMimeType':_0x30f2fd(0x78a),'responseSchema':_0xcace2e}},_0x3272c4=_0x30f2fd(0x884),_0x5a8921=_0x30f2fd(0x821)+_0x3272c4,_0x1f82a4=await fetch(_0x5a8921,{'method':_0x30f2fd(0x616),'headers':{'Content-Type':_0x30f2fd(0x78a)},'body':JSON[_0x30f2fd(0x908)](_0x19bf5e)});if(!_0x1f82a4['ok'])throw new Error(_0x30f2fd(0xdd0)+_0x1f82a4[_0x30f2fd(0x4dc)]);const _0x19a896=await _0x1f82a4[_0x30f2fd(0x6b0)]();if(_0x19a896[_0x30f2fd(0xc1c)]?.[0x0]?.[_0x30f2fd(0x9fa)]?.[_0x30f2fd(0x4d8)]?.[0x0])return JSON[_0x30f2fd(0xbbc)](_0x19a896['candidates'][0x0][_0x30f2fd(0x9fa)]['parts'][0x0][_0x30f2fd(0x566)]);else{let _0x223f09=_0x30f2fd(0x4b9);if(_0x19a896[_0x30f2fd(0xdd7)]?.[_0x30f2fd(0x578)])_0x223f09=_0x30f2fd(0x714)+_0x19a896[_0x30f2fd(0xdd7)][_0x30f2fd(0x578)]+'.';else _0x19a896[_0x30f2fd(0xc1c)]?.[0x0]?.[_0x30f2fd(0xa00)]&&_0x19a896[_0x30f2fd(0xc1c)][0x0]['finishReason']!==_0x30f2fd(0xe5f)&&(_0x223f09=_0x30f2fd(0x33f)+_0x19a896[_0x30f2fd(0xc1c)][0x0][_0x30f2fd(0xa00)]+'.');console[_0x30f2fd(0x61c)](_0x223f09,JSON[_0x30f2fd(0x908)](_0x19a896));throw new Error(_0x223f09);}}async function handleStartSyncMode(_0x301f37,_0x1cd096=![],_0x38e886='classic'){const _0x23800c=_0x2e2582,_0x1a517c=allQuizzes['find'](_0x5f3f95=>_0x5f3f95['id']===_0x301f37)||allQuizzesGlobal[_0x23800c(0x426)](_0x2760a0=>_0x2760a0['id']===_0x301f37);if(!_0x1a517c){showMessage(_0x23800c(0x476));return;}currentQuizData=getShuffledQuiz(_0x1a517c);const _0x467258=Math[_0x23800c(0xabc)](0x3e8+Math[_0x23800c(0x76c)]()*0x2328)[_0x23800c(0xe25)](),_0x3e0d38=doc(db,'artifacts/'+appId+_0x23800c(0x850),_0x1a517c[_0x23800c(0x6ea)]),_0x5c9545=await getDoc(_0x3e0d38);if(!_0x5c9545['exists']()){showMessage(_0x23800c(0x59a));return;}const _0x3ecab0=_0x5c9545[_0x23800c(0xe5c)]()[_0x23800c(0x30d)]||[],_0x28af96={};if(_0x38e886==='anonymous'||_0x38e886===_0x23800c(0xa7b)){const _0x33cea3=[...ANONYMOUS_NAMES][_0x23800c(0x6f8)](()=>0.5-Math['random']());_0x3ecab0[_0x23800c(0x9ce)]((_0x1426a2,_0x4a7ba8)=>{const _0x1bcbd5=_0x23800c;_0x28af96[_0x1426a2]=_0x33cea3[_0x4a7ba8]||_0x1bcbd5(0x31d)+(_0x4a7ba8+0x1);});}const _0x36d936=document[_0x23800c(0x6ec)](_0x23800c(0x9b3))[_0x23800c(0xa0a)],_0x4a95df=parseInt(document[_0x23800c(0x6ec)](_0x23800c(0x28f))[_0x23800c(0x8c2)],0xa);let _0x3be9ed={'timerMode':_0x23800c(0xd62),'timerDuration':0x0};_0x36d936&&(_0x3be9ed['timerMode']=_0x23800c(0x4df),_0x3be9ed[_0x23800c(0xedc)]=_0x4a95df||0xf0);const _0x252c82=document[_0x23800c(0x6ec)]('anon-show-answer-toggle')[_0x23800c(0xa0a)],_0x134200=document['getElementById'](_0x23800c(0xb73))[_0x23800c(0xa0a)];try{const _0xab1075=await addDoc(collection(db,_0x23800c(0x509)+appId+_0x23800c(0xa31)),{'quizId':_0x1a517c['id'],'pin':_0x467258,'status':_0x23800c(0x9ec),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1cd096,'players':{},'gameVariant':_0x38e886,'reviewQuestionIndex':0x0,'playerNicknames':_0x28af96,'isAnonymousRevealed':![],..._0x3be9ed,'showAnswerInAnonymous':_0x252c82,'isBlackMarketEnabled':_0x134200});currentLiveGameId=_0xab1075['id'],showView(_0x23800c(0x37e)),renderSyncLobbyView(_0x467258,_0x1a517c[_0x23800c(0x308)]),listenForSyncGameUpdates();const _0x1b4d47={'gameId':currentLiveGameId,'mode':_0x23800c(0x5db),'role':_0x23800c(0x2dd)};sessionStorage[_0x23800c(0x2b8)]('activeGameSession',JSON['stringify'](_0x1b4d47));}catch(_0x27acab){console[_0x23800c(0x61c)]('Error\x20starting\x20sync\x20game:',_0x27acab),showMessage(_0x23800c(0x41d));}}function calculateFinalPodiumScores(_0x337beb){const _0x20a2c8=_0x2e2582;if(!_0x337beb||!_0x337beb[_0x20a2c8(0x23c)]||!_0x337beb[_0x20a2c8(0x21d)])return _0x337beb[_0x20a2c8(0x21d)]||{};const _0x114cdd=_0x337beb[_0x20a2c8(0x23c)][_0x20a2c8(0xa08)][_0x20a2c8(0x83b)],_0x2eeb53=JSON[_0x20a2c8(0xbbc)](JSON[_0x20a2c8(0x908)](_0x337beb[_0x20a2c8(0x21d)]));return Object[_0x20a2c8(0x586)](_0x2eeb53)[_0x20a2c8(0x9ce)](_0x47abf0=>{const _0xe78346=_0x20a2c8,_0x1af309=_0x47abf0[_0xe78346(0x600)]||0x0,_0x521286=_0x47abf0[_0xe78346(0x468)]||0x0;_0x114cdd>0x0&&_0x1af309===_0x114cdd?_0x47abf0['hasPerfectScoreBonus']=!![]:_0x47abf0[_0xe78346(0x2fb)]=![],_0x47abf0['realScore']=_0x1af309,_0x47abf0['totalPoints']=_0x521286;}),_0x2eeb53;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x23d865=_0x2e2582;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0xe6d7bb=doc(db,'artifacts/'+appId+_0x23d865(0xa31),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xe6d7bb,_0x467563=>{const _0x31b03c=_0x23d865;if(!_0x467563[_0x31b03c(0xa82)]()){sessionStorage[_0x31b03c(0xcbf)](_0x31b03c(0x9ad)),showMessage(_0x31b03c(0x670));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x31b03c(0x2dd)?showView(_0x31b03c(0x641)):showView('student');return;}cachedGameData=_0x467563[_0x31b03c(0xe5c)](),cachedGameData[_0x31b03c(0x23c)]&&(currentQuizData=cachedGameData[_0x31b03c(0x23c)]),syncDataAndRender();});const _0x454eab=collection(db,_0x23d865(0x509)+appId+_0x23d865(0x8ac)+currentLiveGameId+'/players');if(currentMode==='admin')unsubscribePlayersCollectionListener=onSnapshot(_0x454eab,_0x33c13a=>{const _0xff97ee=_0x23d865;_0x33c13a[_0xff97ee(0xeb0)]()[_0xff97ee(0x9ce)](_0x139558=>{const _0x108e31=_0xff97ee;if(_0x139558[_0x108e31(0xae4)]===_0x108e31(0x9b9)||_0x139558[_0x108e31(0xae4)]===_0x108e31(0xa3d))cachedPlayerData[_0x139558[_0x108e31(0x74f)]['id']]=_0x139558[_0x108e31(0x74f)][_0x108e31(0xe5c)]();else _0x139558[_0x108e31(0xae4)]===_0x108e31(0xe6f)&&delete cachedPlayerData[_0x139558['doc']['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x23d865(0x83b)]>0x0){const _0x523388=query(_0x454eab,where(_0x23d865(0x47c),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x523388,_0x246fb6=>{const _0x35e5af=_0x23d865;_0x246fb6[_0x35e5af(0xeb0)]()[_0x35e5af(0x9ce)](_0x41ec6e=>{const _0x4daa9e=_0x35e5af;(_0x41ec6e['type']===_0x4daa9e(0x9b9)||_0x41ec6e[_0x4daa9e(0xae4)]===_0x4daa9e(0xa3d))&&(cachedPlayerData[_0x41ec6e['doc']['id']]=_0x41ec6e[_0x4daa9e(0x74f)]['data']());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x56fb55=_0x2e2582;if(!cachedGameData)return;const _0x53f0cd={},_0x54457e=cachedGameData[_0x56fb55(0x5fb)];Object[_0x56fb55(0x66f)](cachedPlayerData)[_0x56fb55(0x9ce)](_0x4abd7b=>{const _0x3744ca=_0x56fb55,_0x846d39=cachedPlayerData[_0x4abd7b],_0x276bb1=_0x846d39[_0x3744ca(0x767)]&&_0x846d39[_0x3744ca(0x767)]['some'](_0x139aad=>_0x139aad[_0x3744ca(0x39e)]===_0x54457e);_0x53f0cd[_0x4abd7b]={..._0x846d39,'answered':_0x276bb1};});const _0xfa3297={...cachedGameData,'players':_0x53f0cd};currentMode===_0x56fb55(0x2dd)?updateAdminSyncView(_0xfa3297):updateStudentSyncView(_0xfa3297);}function renderSyncLobbyView(_0x28328e,_0x5b3abe){const _0x321cb4=_0x2e2582;liveGameView[_0x321cb4(0x674)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x5b3abe+_0x321cb4(0x205)+_0x28328e+_0x321cb4(0x99c);const _0x12f5bb=document[_0x321cb4(0x6ec)](_0x321cb4(0xe09)),_0x2413ef=document['getElementById']('confidence-scoring-description');_0x12f5bb['addEventListener'](_0x321cb4(0xefa),()=>{const _0x1d4356=_0x321cb4;_0x2413ef['style']['display']=_0x12f5bb[_0x1d4356(0xa0a)]?_0x1d4356(0x6dc):_0x1d4356(0xd62);}),document[_0x321cb4(0x6ec)](_0x321cb4(0xdf0))[_0x321cb4(0x504)](_0x321cb4(0x7b0),async()=>{const _0x56c8ae=_0x321cb4,_0x6f76d=doc(db,_0x56c8ae(0x509)+appId+_0x56c8ae(0xa31),currentLiveGameId),_0x2c2c0d=document['getElementById']('confidence-scoring-toggle')[_0x56c8ae(0xa0a)];await updateDoc(_0x6f76d,{'status':_0x56c8ae(0x77c),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x2c2c0d});});}function updateAdminSyncView(_0x678ba5){const _0x1ed841=_0x2e2582;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x678ba5[_0x1ed841(0x4dc)]){case _0x1ed841(0x9ec):renderSyncLobbyView(_0x678ba5[_0x1ed841(0xd35)],_0x678ba5[_0x1ed841(0x23c)][_0x1ed841(0x308)]);const _0x457b8e=Object[_0x1ed841(0x81d)](_0x678ba5[_0x1ed841(0x21d)]||{})[_0x1ed841(0xe4e)](([_0x41f787,_0x27756a])=>_0x27756a[_0x1ed841(0x4dc)]!==_0x1ed841(0xace));document[_0x1ed841(0x6ec)](_0x1ed841(0x558))[_0x1ed841(0x337)]=_0x457b8e[_0x1ed841(0x83b)],document[_0x1ed841(0x6ec)]('player-list-lobby')[_0x1ed841(0x674)]=_0x457b8e[_0x1ed841(0x91f)](([_0x1b09d8,_0x23e030])=>_0x1ed841(0xcc2)+_0x1b09d8+_0x1ed841(0x318)+_0x1b09d8+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1ed841(0x8c3)]('')||_0x1ed841(0xa99),document[_0x1ed841(0x6ec)](_0x1ed841(0xdf0))[_0x1ed841(0x736)]=_0x457b8e[_0x1ed841(0x83b)]===0x0;break;case'question':const _0x179514=Object['values'](_0x678ba5[_0x1ed841(0x21d)]||{})[_0x1ed841(0xe4e)](_0x5c2041=>_0x5c2041[_0x1ed841(0x4dc)]!==_0x1ed841(0xace)),_0x382eaf=_0x179514[_0x1ed841(0xe4e)](_0x590cdd=>_0x590cdd[_0x1ed841(0x72d)])[_0x1ed841(0x83b)],_0x1a99ae=_0x382eaf===_0x179514[_0x1ed841(0x83b)]&&_0x179514[_0x1ed841(0x83b)]>0x0;if(_0x1a99ae&&_0x678ba5[_0x1ed841(0x4dc)]===_0x1ed841(0x77c)){const _0x3b074d=doc(db,_0x1ed841(0x509)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x3b074d,{'status':'summary'});return;}if(document[_0x1ed841(0x6ec)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x678ba5);else{const _0x1b9723=document['getElementById'](_0x1ed841(0x9e3));_0x1b9723&&(_0x1b9723['textContent']=_0x382eaf+'/'+_0x179514[_0x1ed841(0x83b)]);const _0x61b929=document[_0x1ed841(0x6ec)](_0x1ed841(0x44f));_0x61b929&&(_0x61b929[_0x1ed841(0x674)]=_0x179514[_0x1ed841(0x91f)](_0x527527=>{const _0x4bcc0c=_0x1ed841,_0x21fe63=_0x527527['answered']?_0x4bcc0c(0x411):_0x4bcc0c(0xab2),_0x53c2dd=_0x527527['answered']?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x4bcc0c(0x7dc);return _0x4bcc0c(0xd10)+_0x21fe63+'\x22>'+_0x53c2dd+_0x4bcc0c(0x9d3)+_0x527527[_0x4bcc0c(0x47c)]+_0x4bcc0c(0x690)+_0x527527['name']+_0x4bcc0c(0xca0);})[_0x1ed841(0x8c3)](''));}const _0x13c126=_0x678ba5[_0x1ed841(0xf09)]===_0x1ed841(0x4df)&&_0x678ba5[_0x1ed841(0xeb8)];if(_0x13c126){const _0x546d92=_0x678ba5[_0x1ed841(0xeb8)][_0x1ed841(0x920)]()[_0x1ed841(0xec9)](),_0xbe82f9=_0x678ba5[_0x1ed841(0xedc)]*0x3e8,_0x14aa5e=_0x546d92+_0xbe82f9,_0x303bc3=document['getElementById'](_0x1ed841(0x2ca)),_0x435e1e=document[_0x1ed841(0x6ec)](_0x1ed841(0x6c4));syncQuestionTimerInterval=setInterval(()=>{const _0x45a8c0=_0x1ed841,_0x2d7a45=Date['now'](),_0xf5b822=_0x179514[_0x45a8c0(0x83b)]>0x0&&_0x179514[_0x45a8c0(0x41e)](_0x966969=>{const _0x2a6443=_0x45a8c0;if(_0x966969[_0x2a6443(0x72d)])return!![];const _0x25b3cd=_0x966969['timeBonusThisQuestion']||0x0;return _0x2d7a45>=_0x546d92+_0xbe82f9+_0x25b3cd;});if(_0xf5b822){clearInterval(syncQuestionTimerInterval);const _0x2cebea=doc(db,_0x45a8c0(0x509)+appId+_0x45a8c0(0xa31),currentLiveGameId);updateDoc(_0x2cebea,{'status':_0x45a8c0(0xa73)});return;}const _0x4a3826=_0x14aa5e-_0x2d7a45;if(_0x4a3826<=0x0){if(_0x303bc3)_0x303bc3[_0x45a8c0(0xdb7)]['width']='0%';if(_0x435e1e)_0x435e1e[_0x45a8c0(0x337)]=_0x45a8c0(0x34c);}else{if(_0x303bc3&&_0x435e1e){const _0x50a12d=_0x4a3826/_0xbe82f9*0x64;_0x303bc3[_0x45a8c0(0xdb7)]['width']=_0x50a12d+'%',_0x435e1e[_0x45a8c0(0x337)]=Math[_0x45a8c0(0xca4)](_0x4a3826/0x3e8);}}},0x1f4);}break;case _0x1ed841(0xa73):const _0x49fb64=_0x678ba5[_0x1ed841(0x5fb)],_0xeac2e0=_0x678ba5[_0x1ed841(0x23c)][_0x1ed841(0xa08)][_0x49fb64];renderSyncSummaryView(_0x678ba5,_0xeac2e0,!![]);break;case _0x1ed841(0xa51):const _0x470161=_0x678ba5['gameVariant']||_0x1ed841(0x45e);_0x470161===_0x1ed841(0xa8e)||_0x470161===_0x1ed841(0xa7b)?renderAdminSyncDashboard(_0x678ba5,!![],_0x678ba5[_0x1ed841(0x6fb)]):(_0x678ba5['status']===_0x1ed841(0xa51)&&!_0x678ba5['scoresCalculated']&&((async()=>{const _0x9188f=_0x1ed841;try{const _0x21c034=doc(db,_0x9188f(0x509)+appId+_0x9188f(0xa31),currentLiveGameId);await updateDoc(_0x21c034,{'scoresCalculated':!![]});const _0x7726b4=cachedPlayerData||{},_0x3406f0=_0x678ba5['shuffledQuiz'][_0x9188f(0xa08)][_0x9188f(0x83b)],_0x42db52={};Object[_0x9188f(0x586)](_0x7726b4)['forEach'](_0x3b0ec7=>{const _0x52ee51=_0x9188f;if(_0x3b0ec7[_0x52ee51(0x4dc)]!==_0x52ee51(0xace)){const _0x97aeb=_0x3b0ec7['name'],_0x30e1c0=_0x3b0ec7[_0x52ee51(0x600)]||0x0,_0x4c7df6=_0x3b0ec7[_0x52ee51(0x468)]||0x0;let _0x166f15=_0x4c7df6;_0x3406f0>0x0&&_0x30e1c0===_0x3406f0&&(_0x166f15+=0x1),_0x42db52[_0x52ee51(0xa3c)+_0x97aeb+_0x52ee51(0x453)]=_0x30e1c0,_0x42db52[_0x52ee51(0xa3c)+_0x97aeb+_0x52ee51(0xeaf)]=_0x166f15,_0x42db52[_0x52ee51(0xa3c)+_0x97aeb+'.pointsLastRound']=_0x166f15;}}),await updateDoc(_0x21c034,{..._0x42db52});}catch(_0x4305b5){console[_0x9188f(0x61c)](_0x9188f(0x40b),_0x4305b5);}})()),renderAdminSyncDashboard(_0x678ba5,!![],_0x678ba5[_0x1ed841(0x5fb)]));break;case _0x1ed841(0x709):const _0x4a1a1c=Object[_0x1ed841(0x66f)](_0x678ba5[_0x1ed841(0x21d)]||{})[_0x1ed841(0x83b)]>0x0,_0x50a1b1=_0x678ba5[_0x1ed841(0x6fe)]===!![],_0x1de44a=_0x678ba5[_0x1ed841(0xf29)]===!![];_0x1de44a&&!_0x50a1b1&&_0x4a1a1c&&saveGameResultsAsSubmissions(_0x678ba5);sessionStorage[_0x1ed841(0xcbf)](_0x1ed841(0x9ad));const _0x8c05a1=calculateFinalPodiumScores(_0x678ba5);showPodiumView(_0x8c05a1,'sync',_0x678ba5);break;}}function renderAdminSyncQuestionView(_0x85793c){const _0x5761da=_0x2e2582,_0x1e33f5=_0x85793c[_0x5761da(0x5fb)],_0x43f282=_0x85793c[_0x5761da(0x23c)][_0x5761da(0xa08)][_0x1e33f5],_0x2b07c6=_0x85793c[_0x5761da(0x23c)]['questions']['length'],_0x1cba98=Object[_0x5761da(0x586)](_0x85793c[_0x5761da(0x21d)]||{})[_0x5761da(0xe4e)](_0x4d2efa=>_0x4d2efa[_0x5761da(0x4dc)]!=='inactive'),_0x294974=_0x1cba98[_0x5761da(0xe4e)](_0x2ca603=>_0x2ca603[_0x5761da(0x72d)])[_0x5761da(0x83b)],_0x34e355=_0x294974===_0x1cba98[_0x5761da(0x83b)]&&_0x1cba98[_0x5761da(0x83b)]>0x0,_0x56c39f=_0x43f282['questionType']||_0x85793c['shuffledQuiz'][_0x5761da(0x80d)],_0x2a96d5=(_0x56c39f===_0x5761da(0x466)||_0x56c39f===_0x5761da(0x8f5))&&_0x43f282[_0x5761da(0x25f)]&&_0x43f282[_0x5761da(0x25f)]['length']>0x0;let _0x4acb2b='';_0x2a96d5?_0x4acb2b=_0x5761da(0xc6f):_0x4acb2b=(_0x43f282['options']||[])['map'](_0x521266=>_0x5761da(0x7f6)+_0x521266+_0x5761da(0x4f3))[_0x5761da(0x8c3)]('');let _0x1d4162='';_0x85793c[_0x5761da(0xf09)]==='per_question'&&(_0x1d4162=_0x5761da(0x4cf)+_0x85793c[_0x5761da(0xedc)]+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');liveGameView[_0x5761da(0x674)]=_0x5761da(0x5bb)+(_0x1e33f5+0x1)+_0x5761da(0xa09)+_0x2b07c6+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+_0x85793c[_0x5761da(0xd35)]+_0x5761da(0x921)+_0x294974+'/'+_0x1cba98['length']+_0x5761da(0xdae)+_0x1d4162+_0x5761da(0x770)+(_0x43f282[_0x5761da(0x912)]||_0x43f282[_0x5761da(0x71c)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x4acb2b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x34e355?'disabled':'')+_0x5761da(0xecb);if(window['MathJax'])MathJax[_0x5761da(0x396)]();const _0x4500f4=doc(db,_0x5761da(0x509)+appId+_0x5761da(0xa31),currentLiveGameId);document[_0x5761da(0x6ec)](_0x5761da(0x92c))['addEventListener'](_0x5761da(0x7b0),async()=>{const _0x28a60b=_0x5761da;await updateDoc(_0x4500f4,{'status':_0x28a60b(0xa73)});}),document[_0x5761da(0x6ec)]('open-sync-scratchpad-btn')[_0x5761da(0xdba)]=()=>{const _0x536d5c=_0x5761da;openScratchpad(_0x43f282,_0x43f282[_0x536d5c(0x25f)]||[]);},document[_0x5761da(0x6ec)]('sync-manage-players-btn')[_0x5761da(0x504)](_0x5761da(0x7b0),()=>{const _0x444f4b=_0x5761da;document[_0x444f4b(0x6ec)](_0x444f4b(0xbbf))[_0x444f4b(0xed5)]['toggle']('hidden');});const _0x1aeace=document[_0x5761da(0x6ec)](_0x5761da(0x1da));_0x1aeace&&(_0x1aeace['onclick']=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x4c7e8c=_0x5f2f;await updateDoc(_0x4500f4,{'status':_0x4c7e8c(0x709)});});});}function renderSyncLeaderboardView(_0x50bf74,_0x25719e){const _0x4afa7c=_0x2e2582,_0x3dd433=Object[_0x4afa7c(0x586)](_0x50bf74[_0x4afa7c(0x21d)]||{});_0x3dd433[_0x4afa7c(0x6f8)]((_0x25938c,_0x40650d)=>_0x40650d[_0x4afa7c(0x600)]-_0x25938c[_0x4afa7c(0x600)]);const _0x16c233=_0x3dd433['slice'](0x0,0x5);let _0x4ee557='';if(_0x25719e){const _0x3be0de=_0x50bf74[_0x4afa7c(0x5fb)]>=_0x50bf74['shuffledQuiz'][_0x4afa7c(0xa08)][_0x4afa7c(0x83b)]-0x1;_0x4ee557='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x3be0de?_0x4afa7c(0x483):'ข้อต่อไป')+_0x4afa7c(0xd44);}else _0x4ee557=_0x4afa7c(0x89c);liveGameView[_0x4afa7c(0x674)]=_0x4afa7c(0x5cb)+_0x16c233[_0x4afa7c(0x91f)]((_0x169d60,_0x3e1ba9)=>_0x4afa7c(0xa76)+(_0x3e1ba9+0x1)+'.\x20'+_0x169d60[_0x4afa7c(0x47c)]+_0x4afa7c(0x2c3)+_0x169d60[_0x4afa7c(0x600)]+'</span></div>')[_0x4afa7c(0x8c3)]('')+_0x4afa7c(0x5c2)+_0x4ee557+_0x4afa7c(0xd99),_0x25719e&&document[_0x4afa7c(0x6ec)](_0x4afa7c(0x903))[_0x4afa7c(0x504)](_0x4afa7c(0x7b0),async()=>{const _0x15498a=_0x4afa7c,_0x4d2bae=doc(db,'artifacts/'+appId+_0x15498a(0xa31),currentLiveGameId),_0x2ecea2=_0x50bf74[_0x15498a(0x5fb)]+0x1;if(_0x2ecea2<_0x50bf74[_0x15498a(0x23c)][_0x15498a(0xa08)][_0x15498a(0x83b)]){const _0x104930={};Object[_0x15498a(0x66f)](_0x50bf74['players'])[_0x15498a(0x9ce)](_0x529a14=>{const _0x3b2f78=_0x15498a;_0x104930['players.'+_0x529a14+_0x3b2f78(0xd20)]=![];}),await updateDoc(_0x4d2bae,{'status':_0x15498a(0x77c),'currentQuestionIndex':_0x2ecea2,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x4d2bae,{'status':_0x15498a(0x709)});});}async function handleJoinSyncGame(){const _0x2f3653=_0x2e2582,_0x498031=prompt(_0x2f3653(0x4fb));if(!_0x498031||_0x498031['trim']()['length']!==0x2){showMessage(_0x2f3653(0x9c5));return;}try{const _0xc8a318=collection(db,'artifacts/'+appId+_0x2f3653(0xa31)),_0x7c125f=query(_0xc8a318,where('pin','==',_0x498031[_0x2f3653(0xdd8)]()),where(_0x2f3653(0x4dc),'==','lobby')),_0x4b230e=await getDocs(_0x7c125f);if(_0x4b230e[_0x2f3653(0xe58)]){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x2ebc87=_0x4b230e[_0x2f3653(0x875)][0x0];currentLiveGameId=_0x2ebc87['id'];const _0x3a5e27=_0x2ebc87[_0x2f3653(0xe5c)](),_0xdbe306=doc(db,_0x2f3653(0x509)+appId+_0x2f3653(0x2d1),_0x3a5e27[_0x2f3653(0x3ac)]),_0x6641b=await getDoc(_0xdbe306);if(!_0x6641b[_0x2f3653(0xa82)]())throw new Error(_0x2f3653(0x2e5));const _0x4181ff=_0x6641b[_0x2f3653(0xe5c)](),_0x51a79e=doc(db,_0x2f3653(0x509)+appId+'/public/data/projects',_0x4181ff['projectId']),_0x553666=await getDoc(_0x51a79e);if(!_0x553666[_0x2f3653(0xa82)]())throw new Error(_0x2f3653(0xe8d));currentQuizData=_0x3a5e27[_0x2f3653(0x23c)];const _0xd2ccd4=_0x553666[_0x2f3653(0xe5c)]();showView(_0x2f3653(0x803)),showTeamPlayerSelection(_0xd2ccd4[_0x2f3653(0x30d)],_0x4181ff[_0x2f3653(0x308)]);const _0x1f10fc=document[_0x2f3653(0x6ec)](_0x2f3653(0x9ff));_0x1f10fc[_0x2f3653(0xdba)]=confirmAndJoinSyncGame;}catch(_0x212e41){console[_0x2f3653(0x61c)](_0x2f3653(0x8b2),_0x212e41),showMessage(_0x2f3653(0xebb)+_0x212e41[_0x2f3653(0x784)]);}}function updateStudentSyncView(_0x2e32f8){const _0x41db4d=_0x2e2582,_0x57e383=localTeamPlayers[0x0],_0x360bb2=_0x2e32f8[_0x41db4d(0x21d)][_0x57e383]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x2e32f8[_0x41db4d(0x4dc)]){case _0x41db4d(0x9ec):showView(_0x41db4d(0x37e)),liveGameView['innerHTML']=_0x41db4d(0x900);break;case _0x41db4d(0x77c):if(_0x2e32f8[_0x41db4d(0x5fb)]!==lastSeenQuestionIndex){console[_0x41db4d(0xeec)](_0x41db4d(0x8af)),sessionStorage[_0x41db4d(0xcbf)](_0x41db4d(0x39a)),sessionStorage[_0x41db4d(0xcbf)](_0x41db4d(0x381)),sessionStorage[_0x41db4d(0xcbf)]('pollUsedThisTurn');const _0x3f628c='freeMarketEntryUsed_q'+lastSeenQuestionIndex,_0x4e9f5c='powerupUsed_q'+lastSeenQuestionIndex,_0x5c4cad=_0x41db4d(0xecf)+lastSeenQuestionIndex;Object[_0x41db4d(0x66f)](sessionStorage)[_0x41db4d(0x9ce)](_0x518ee1=>{const _0x1fd91a=_0x41db4d;(_0x518ee1[_0x1fd91a(0xdb3)](_0x3f628c)||_0x518ee1[_0x1fd91a(0xdb3)](_0x4e9f5c)||_0x518ee1['startsWith'](_0x5c4cad))&&sessionStorage['removeItem'](_0x518ee1);});if(_0x360bb2[_0x41db4d(0xcc9)]||_0x360bb2[_0x41db4d(0xbf6)]||(_0x360bb2['timeBonusThisQuestion']||0x0)>0x0){const _0x3bbfc9=doc(db,_0x41db4d(0x509)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x57e383);updateDoc(_0x3bbfc9,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x41db4d(0x4ec)](_0x45c68a=>console[_0x41db4d(0x61c)](_0x41db4d(0xd4c),_0x45c68a));}lastSeenQuestionIndex=_0x2e32f8['currentQuestionIndex'];}localPlayerTurnIndex=0x0;const _0x43af96=localTeamPlayers[_0x41db4d(0x41e)](_0x4a3b14=>_0x2e32f8['players'][_0x4a3b14]?.[_0x41db4d(0x72d)]===!![]);if(_0x43af96)liveGameView['innerHTML']=_0x41db4d(0x644);else{renderStudentSyncQuestionView(_0x2e32f8);if(_0x2e32f8[_0x41db4d(0xf09)]===_0x41db4d(0x4df)){if(!_0x2e32f8[_0x41db4d(0xeb8)]){console['log'](_0x41db4d(0x78c));return;}const _0xe8001b=_0x2e32f8[_0x41db4d(0xeb8)][_0x41db4d(0x920)]()[_0x41db4d(0xec9)](),_0xae6560=_0x2e32f8[_0x41db4d(0xedc)]*0x3e8,_0x3890a9=localTeamPlayers['map'](_0x40cce2=>_0x2e32f8[_0x41db4d(0x21d)][_0x40cce2]?.['timeBonusThisQuestion']||0x0),_0x56cb9d=Math[_0x41db4d(0xd94)](..._0x3890a9,0x0),_0x1a1778=_0xe8001b+_0xae6560+_0x56cb9d;syncQuestionTimerInterval=setInterval(()=>{const _0x34a846=_0x41db4d,_0xc5343b=_0x1a1778-Date[_0x34a846(0xbf5)](),_0x45355c=document[_0x34a846(0x6ec)](_0x34a846(0x2ca)),_0x58bbdd=document['getElementById'](_0x34a846(0x6c4));if(_0xc5343b<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x45355c)_0x45355c[_0x34a846(0xdb7)][_0x34a846(0x950)]='0%';if(_0x58bbdd)_0x58bbdd[_0x34a846(0x337)]='0';liveGameView[_0x34a846(0x674)]=_0x34a846(0x2cf);}else{if(_0x45355c&&_0x58bbdd){const _0x130a02=_0xae6560+_0x56cb9d,_0x3586a7=_0x130a02>0x0?_0xc5343b/_0x130a02*0x64:0x0;_0x45355c[_0x34a846(0xdb7)][_0x34a846(0x950)]=_0x3586a7+'%',_0x58bbdd['textContent']=Math[_0x34a846(0xca4)](_0xc5343b/0x3e8);}}},0x1f4);}}break;case'summary':liveGameView[_0x41db4d(0x674)]=_0x41db4d(0xd71);break;case _0x41db4d(0xa51):localPlayerTurnIndex=0x0;const _0x44ae92=_0x2e32f8[_0x41db4d(0x826)]||_0x41db4d(0x45e);if(_0x44ae92===_0x41db4d(0x3f4)||_0x44ae92==='anonymous_reveal_end')renderStudentAnonymousResultsView(_0x2e32f8,_0x2e32f8['currentQuestionIndex']);else _0x44ae92===_0x41db4d(0xc93)?renderStudentCompetitionResultsView(_0x2e32f8,_0x2e32f8[_0x41db4d(0x5fb)]):renderStudentSyncResultsView(_0x2e32f8);break;case'podium':releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x41db4d(0x637)](_0x41db4d(0x490),handleFullscreenChange),document[_0x41db4d(0x637)]('visibilitychange',handleVisibilityChange),sessionStorage[_0x41db4d(0xcbf)](_0x41db4d(0x9ad));const _0xfaa573=_0x2e32f8[_0x41db4d(0x826)]||_0x41db4d(0x45e),_0x3ef330=_0x2e32f8['shuffledQuiz'][_0x41db4d(0xa08)][_0x41db4d(0x83b)]-0x1;if(_0xfaa573==='anonymous'||_0xfaa573==='anonymous_reveal_end')renderStudentAnonymousResultsView(_0x2e32f8,_0x3ef330);else _0xfaa573==='competition'?renderStudentCompetitionResultsView(_0x2e32f8,_0x3ef330):renderStudentSyncResultsView(_0x2e32f8);const _0x67e781=liveGameView[_0x41db4d(0x427)](_0x41db4d(0x5a6));_0x67e781&&(_0x67e781[_0x41db4d(0xdb7)][_0x41db4d(0x35a)]='none');const _0x1167c6=liveGameView[_0x41db4d(0x427)](_0x41db4d(0xcf7));_0x1167c6&&(_0x1167c6[_0x41db4d(0xdb7)][_0x41db4d(0x35a)]=_0x41db4d(0xd62));const _0x469bbe=_0x41db4d(0x488);liveGameView[_0x41db4d(0x44b)]?liveGameView[_0x41db4d(0x44b)]['insertAdjacentHTML']('beforeend',_0x469bbe):liveGameView[_0x41db4d(0xc88)]('beforeend',_0x469bbe);break;}}function renderStudentSyncResultsView(_0x15de1c){const _0x4fa938=_0x2e2582;let _0x243086=[];_0x15de1c[_0x4fa938(0x7a1)]&&Array[_0x4fa938(0x288)](_0x15de1c[_0x4fa938(0x7a1)])&&_0x15de1c[_0x4fa938(0x7a1)][_0x4fa938(0x83b)]>0x0?_0x243086=_0x15de1c[_0x4fa938(0x7a1)]:_0x243086=Object[_0x4fa938(0x586)](_0x15de1c[_0x4fa938(0x21d)]||{});const _0x36ff95=_0x15de1c[_0x4fa938(0x826)]||_0x4fa938(0x45e),_0x47fcdd=_0x36ff95===_0x4fa938(0xa8e)||_0x36ff95===_0x4fa938(0xa7b),_0x2d05e4=_0x15de1c[_0x4fa938(0x23c)][_0x4fa938(0xa08)],_0x1b7f7a=_0x47fcdd&&_0x15de1c[_0x4fa938(0x6fb)]!==undefined?_0x15de1c[_0x4fa938(0x6fb)]:_0x15de1c[_0x4fa938(0x5fb)],_0x30ab18=_0x47fcdd?_0x15de1c[_0x4fa938(0x6fb)]:_0x15de1c[_0x4fa938(0x5fb)],_0x2f7bbb=_0x243086['map'](_0x33aff2=>{const _0x1bcc5a=_0x4fa938,_0x3310dd=(_0x33aff2[_0x1bcc5a(0x767)]||[])[_0x1bcc5a(0xe4e)](_0x5c6f4b=>_0x5c6f4b[_0x1bcc5a(0x39e)]<=_0x1b7f7a);let _0x4e3168=0x0,_0xb25a6b=0x0;_0x47fcdd?(_0x4e3168=_0x3310dd[_0x1bcc5a(0xe4e)](_0x1f06b1=>_0x1f06b1[_0x1bcc5a(0x33c)])[_0x1bcc5a(0x83b)],_0xb25a6b=_0x3310dd['reduce']((_0xbb1fc1,_0x237f91)=>_0xbb1fc1+(_0x237f91['pointsAwarded']||0x0),0x0)):(_0x4e3168=_0x33aff2['score']||0x0,_0xb25a6b=_0x33aff2['totalPoints']||0x0);const _0x474143=[..._0x3310dd]['sort']((_0x42076b,_0x2c8faf)=>_0x42076b[_0x1bcc5a(0x39e)]-_0x2c8faf['questionIndex']);let _0x10eb05=0x0;return _0x474143[_0x1bcc5a(0x9ce)](_0x5997f1=>{const _0x294fbf=_0x1bcc5a,_0x56bdf7=_0x5997f1['powerupUsed']&&_0x5997f1['powerupUsed']!=='wagerMultiplier'||_0x5997f1['usedBuyTime'];_0x5997f1[_0x294fbf(0x33c)]?_0x10eb05=_0x56bdf7?0x0:_0x10eb05+0x1:_0x10eb05=0x0;}),{..._0x33aff2,'realScore':_0x4e3168,'totalPoints':_0xb25a6b,'answers':_0x33aff2['answers'],'correctStreak':_0x10eb05};}),_0x189ba2=Math[_0x4fa938(0xd94)](..._0x2f7bbb[_0x4fa938(0x91f)](_0x48fb4f=>_0x48fb4f[_0x4fa938(0x468)]),-Infinity),_0x220450=Math[_0x4fa938(0xd94)](..._0x2f7bbb[_0x4fa938(0x91f)](_0x8363e9=>_0x8363e9[_0x4fa938(0x947)]),-Infinity),_0x4d3dd9=_0x15de1c[_0x4fa938(0x4dd)]===!![];let _0x3fd646=_0x2f7bbb['filter'](_0x2b1d21=>localTeamPlayers[_0x4fa938(0x9ee)](_0x2b1d21[_0x4fa938(0x47c)]));_0x3fd646[_0x4fa938(0x6f8)]((_0x352520,_0x41c3f0)=>(_0x41c3f0[_0x4fa938(0x468)]||0x0)-(_0x352520['totalPoints']||0x0));let _0x18dbbc='';const _0x4ad2a9=_0x47fcdd?_0x1b7f7a>=_0x2d05e4[_0x4fa938(0x83b)]-0x1:_0x15de1c[_0x4fa938(0x5fb)]>=_0x2d05e4[_0x4fa938(0x83b)]-0x1;if(_0x15de1c['status']===_0x4fa938(0x709))_0x18dbbc='';else _0x4ad2a9?_0x18dbbc=_0x4fa938(0xce3):_0x18dbbc=_0x4fa938(0x65d);const _0x387ba9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3fd646[_0x4fa938(0x91f)]((_0x5516a4,_0x4e8d33)=>{const _0x39ecbd=_0x4fa938;let _0x34af98=_0x39ecbd(0xaa5);const _0x1fbcdb=(_0x5516a4['answers']||[])[_0x39ecbd(0x426)](_0x421cb5=>_0x421cb5[_0x39ecbd(0x39e)]===_0x30ab18);let _0x53250d='';if(_0x1fbcdb){if(_0x1fbcdb[_0x39ecbd(0xc5b)])_0x53250d+=_0x39ecbd(0x795);if(_0x1fbcdb['wasJinxed'])_0x53250d+=_0x39ecbd(0x730);if(_0x1fbcdb[_0x39ecbd(0x8c7)])_0x53250d+=_0x39ecbd(0xa6a);const _0x5b57ca=_0x1fbcdb[_0x39ecbd(0xc57)];if(_0x5b57ca){const _0x5d6934={'poll':'📊','cutOne':'✂️','insurance':_0x39ecbd(0xe46),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':'👁️'};if(_0x5d6934[_0x5b57ca])_0x53250d+=_0x39ecbd(0x565)+_0x5b57ca+'\x22>'+_0x5d6934[_0x5b57ca]+'</span>';}}if(_0x1fbcdb){const _0x7f6123=_0x1fbcdb[_0x39ecbd(0x33c)],_0x520cf2=_0x1fbcdb[_0x39ecbd(0x8fd)]===!![]||_0x1fbcdb[_0x39ecbd(0x8fd)]===_0x39ecbd(0xaac),_0x4c0e5e=_0x1fbcdb['powerupUsed'];if(_0x4c0e5e===_0x39ecbd(0x592))_0x34af98=_0x7f6123?_0x39ecbd(0x7a9):'bg-red-700\x20text-white\x20font-bold';else{if(_0x520cf2)_0x34af98=_0x7f6123?_0x39ecbd(0x30b):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x7f6123?_0x34af98=_0x39ecbd(0x599):_0x34af98=_0x39ecbd(0xb29);}}let _0x1da7cd='';_0x1fbcdb&&_0x1fbcdb[_0x39ecbd(0xc57)]==='wagerMultiplier'&&!_0x1fbcdb['isCorrect']&&(_0x1da7cd=_0x39ecbd(0xf1d));const _0x2d603d=_0x5516a4[_0x39ecbd(0x468)]>=0x0?'(+'+_0x5516a4[_0x39ecbd(0x468)]['toLocaleString']()+')':'('+_0x5516a4[_0x39ecbd(0x468)][_0x39ecbd(0xe4c)]()+')';let _0x1d6438='';const _0x259492=_0x5516a4['answers'][_0x39ecbd(0x83b)],_0x586c96=_0x1b7f7a+0x1;if(_0x259492>0x0){_0x4d3dd9?(_0x5516a4[_0x39ecbd(0x468)]===_0x189ba2&&_0x189ba2>0x0&&(_0x1d6438+=_0x39ecbd(0x6a5)),_0x5516a4[_0x39ecbd(0x947)]===_0x220450&&_0x220450>0x0&&(_0x1d6438+=_0x39ecbd(0x484))):_0x5516a4['realScore']===_0x586c96&&(_0x1d6438+=_0x39ecbd(0xd3c));const _0x20445e=_0x1d6438[_0x39ecbd(0x9ee)]('👑')||_0x1d6438['includes']('🎓')||_0x1d6438[_0x39ecbd(0x9ee)]('⭐');!_0x20445e&&_0x5516a4[_0x39ecbd(0x468)]<0x0&&(_0x1d6438+=_0x39ecbd(0xaeb));}let _0x5d6cdb='';const _0x42bbf3=_0x1fbcdb&&_0x1fbcdb[_0x39ecbd(0x8c7)],_0x3152da=_0x1fbcdb&&_0x1fbcdb[_0x39ecbd(0xc57)]&&_0x1fbcdb[_0x39ecbd(0xc57)]!=='wagerMultiplier';if(!_0x42bbf3&&!_0x3152da){const _0x10106a=_0x5516a4[_0x39ecbd(0xc54)]||0x0;_0x10106a>=0x3&&(_0x5d6cdb=_0x39ecbd(0x392)+_0x10106a+_0x39ecbd(0x935));}return _0x39ecbd(0x85c)+_0x34af98+_0x39ecbd(0x311)+(_0x4e8d33+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mr-1\x22>'+_0x5516a4[_0x39ecbd(0x47c)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x53250d+'\x20'+_0x1d6438+'\x20'+_0x5d6cdb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5516a4['realScore']+_0x39ecbd(0x340)+_0x2d603d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1da7cd+_0x39ecbd(0xa74);})[_0x4fa938(0x8c3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18dbbc+_0x4fa938(0x5f4);liveGameView['innerHTML']=_0x387ba9;}function renderStudentAnonymousResultsView(_0x52bb57,_0x258093){const _0x80272a=_0x2e2582;let _0x3a219a=[];_0x52bb57[_0x80272a(0x7a1)]?_0x3a219a=_0x52bb57[_0x80272a(0x7a1)]:_0x3a219a=Object[_0x80272a(0x586)](_0x52bb57[_0x80272a(0x21d)]||{});const _0x591e50=_0x52bb57[_0x80272a(0x826)]||_0x80272a(0x45e),_0x1e2d47=_0x591e50===_0x80272a(0xa8e)||_0x591e50===_0x80272a(0xa7b),_0x1ce9ea=_0x52bb57[_0x80272a(0xc0b)]===!![],_0x1c639f=_0x52bb57['shuffledQuiz']['questions'],_0x20d9be=_0x1e2d47&&_0x52bb57['reviewQuestionIndex']!==undefined?_0x52bb57[_0x80272a(0x6fb)]:_0x258093,_0x4b0801=_0x3a219a[_0x80272a(0x91f)](_0x283ab6=>{const _0x47efc6=_0x80272a,_0x170fac=(_0x283ab6[_0x47efc6(0x767)]||[])[_0x47efc6(0xe4e)](_0x5b06ad=>_0x5b06ad[_0x47efc6(0x39e)]<=_0x20d9be);let _0x312e04=0x0,_0xb1d69d=0x0;_0x1e2d47?(_0x312e04=_0x170fac[_0x47efc6(0xe4e)](_0x8c55bd=>_0x8c55bd['isCorrect'])[_0x47efc6(0x83b)],_0xb1d69d=_0x170fac['reduce']((_0x1e7734,_0x235123)=>_0x1e7734+(_0x235123[_0x47efc6(0x2e7)]||0x0),0x0)):(_0x312e04=_0x283ab6[_0x47efc6(0x600)]||0x0,_0xb1d69d=_0x283ab6[_0x47efc6(0x468)]||0x0);const _0x204ede=[..._0x170fac]['sort']((_0x1d73a3,_0x242dd9)=>_0x1d73a3[_0x47efc6(0x39e)]-_0x242dd9['questionIndex']);let _0x64c4b=0x0;return _0x204ede[_0x47efc6(0x9ce)](_0x16fd18=>{const _0x52d24b=_0x47efc6,_0x223024=_0x16fd18[_0x52d24b(0xc57)]&&_0x16fd18[_0x52d24b(0xc57)]!==_0x52d24b(0x592)||_0x16fd18[_0x52d24b(0x8c7)];_0x16fd18[_0x52d24b(0x33c)]?_0x223024?_0x64c4b=0x0:_0x64c4b++:_0x64c4b=0x0;}),{..._0x283ab6,'realScore':_0x312e04,'totalPoints':_0xb1d69d,'answers':_0x283ab6['answers'],'correctStreak':_0x64c4b};}),_0x51c668=Math['max'](..._0x4b0801[_0x80272a(0x91f)](_0x54c2ea=>_0x54c2ea[_0x80272a(0x468)]),-Infinity),_0x5653d9=Math['max'](..._0x4b0801[_0x80272a(0x91f)](_0x10d11c=>_0x10d11c[_0x80272a(0x947)]),-Infinity),_0x1d5f07=_0x52bb57[_0x80272a(0x4dd)]===!![],_0x2f573f=[..._0x4b0801][_0x80272a(0x6f8)]((_0x32f55e,_0x9a8858)=>{const _0x5f3262=_0x80272a;if(_0x1d5f07){if(_0x9a8858[_0x5f3262(0x468)]!==_0x32f55e['totalPoints'])return _0x9a8858['totalPoints']-_0x32f55e[_0x5f3262(0x468)];if(_0x9a8858['realScore']!==_0x32f55e[_0x5f3262(0x947)])return _0x9a8858[_0x5f3262(0x947)]-_0x32f55e[_0x5f3262(0x947)];}else{if(_0x9a8858['totalPoints']!==_0x32f55e[_0x5f3262(0x468)])return _0x9a8858[_0x5f3262(0x468)]-_0x32f55e[_0x5f3262(0x468)];if(_0x9a8858[_0x5f3262(0x947)]!==_0x32f55e['realScore'])return _0x9a8858[_0x5f3262(0x947)]-_0x32f55e[_0x5f3262(0x947)];}return(_0x32f55e[_0x5f3262(0x47c)]||'')[_0x5f3262(0x6e9)](_0x9a8858[_0x5f3262(0x47c)]||'','th');});let _0x3d513c=null;const _0x4f4923=_0x4b0801[_0x80272a(0xe4e)](_0x34abfe=>localTeamPlayers['includes'](_0x34abfe['name']));_0x3d513c=_0x4f4923[_0x80272a(0x83b)]>0x0?_0x4f4923['sort']((_0x3a55ff,_0x2d1109)=>_0x2d1109[_0x80272a(0x468)]-_0x3a55ff[_0x80272a(0x468)])[0x0]:null;if(!_0x3d513c){liveGameView[_0x80272a(0x674)]=_0x80272a(0xc7c);return;}const _0x51daaf=_0x1d5f07?_0x3d513c['totalPoints']:_0x3d513c[_0x80272a(0x468)],_0x5af49c=_0x20d9be+0x1,_0x563f3d=_0x2f573f[_0x80272a(0x91f)]((_0x5675d7,_0xafc057)=>{const _0x4cb0f3=_0x80272a,_0xcb488d=_0x5675d7[_0x4cb0f3(0x947)],_0x55f9f5=_0x5675d7[_0x4cb0f3(0x468)],_0x9e9fed=(_0x5675d7['answers']||[])['find'](_0x3e1d00=>_0x3e1d00[_0x4cb0f3(0x39e)]===_0x20d9be);let _0x515ebe='';if(_0x9e9fed){if(_0x9e9fed[_0x4cb0f3(0xc5b)])_0x515ebe+=_0x4cb0f3(0x8a4);if(_0x9e9fed[_0x4cb0f3(0x6a4)])_0x515ebe+=_0x4cb0f3(0x5e9);if(_0x9e9fed[_0x4cb0f3(0x8c7)])_0x515ebe+=_0x4cb0f3(0xae6);const _0x120e05=_0x9e9fed[_0x4cb0f3(0xc57)];if(_0x120e05){const _0x3d7ea2={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x4cb0f3(0x7eb)};if(_0x3d7ea2[_0x120e05])_0x515ebe+=_0x4cb0f3(0x221)+_0x3d7ea2[_0x120e05]+_0x4cb0f3(0x935);}}let _0x5a4a74='';if(_0x5af49c>0x0){if(_0x1d5f07){if(_0x55f9f5===_0x51c668&&_0x51c668>0x0)_0x5a4a74+='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>';if(_0xcb488d===_0x5653d9&&_0x5653d9>0x0)_0x5a4a74+=_0x4cb0f3(0xe48);}else{const _0x1e3874=_0x5675d7[_0x4cb0f3(0x947)]===_0x5af49c&&_0x5af49c>0x0;if(_0x1e3874)_0x5a4a74='<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>';}if(_0x5a4a74===''&&_0x55f9f5<0x0)_0x5a4a74='<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>';}let _0x547eb8='';const _0x48afce=_0x9e9fed&&_0x9e9fed[_0x4cb0f3(0x8c7)],_0x4a6eda=_0x9e9fed&&_0x9e9fed['powerupUsed']&&_0x9e9fed[_0x4cb0f3(0xc57)]!=='wagerMultiplier';if(!_0x48afce&&!_0x4a6eda){const _0x4bea2b=_0x5675d7['correctStreak']||0x0;_0x4bea2b>=0x3&&(_0x547eb8=_0x4cb0f3(0x4e4)+_0x4bea2b+_0x4cb0f3(0x935));}let _0x323c55=_0x4cb0f3(0xa8f),_0x1ca7ab=![];if(_0x9e9fed){const _0x31534d=_0x9e9fed[_0x4cb0f3(0x33c)],_0x581f56=_0x9e9fed['wasConfident']===!![]||_0x9e9fed['wasConfident']===_0x4cb0f3(0xaac),_0x53e570=_0x9e9fed[_0x4cb0f3(0xc57)];if(_0x53e570===_0x4cb0f3(0x592))_0x31534d?(_0x323c55=_0x4cb0f3(0x7a9),_0x1ca7ab=!![]):_0x323c55=_0x4cb0f3(0xb9f);else{if(_0x581f56)_0x323c55=_0x31534d?_0x4cb0f3(0x30b):_0x4cb0f3(0x880);else _0x31534d&&(_0x323c55='bg-[#DCFCE7]\x20text-green-900');}}let _0xa1c9fa='';const _0x4a1985=_0x5675d7['name'],_0x577725=_0x52bb57[_0x4cb0f3(0x5e7)][_0x5675d7[_0x4cb0f3(0x47c)]]||_0x4cb0f3(0xacc),_0x4c3a2a=_0x4cb0f3(0x96a),_0x5129a0=_0x4cb0f3(0x700),_0x3db545=localTeamPlayers['includes'](_0x4a1985),_0x10a283=_0x1ca7ab?'text-yellow-800':_0x4cb0f3(0x9b1),_0x5110ee=_0x1d5f07?_0x5675d7[_0x4cb0f3(0x468)]:_0x5675d7['totalPoints'],_0x5b1328=_0x1ce9ea||_0x3db545||_0x51daaf>_0x5110ee;_0x5b1328?_0xa1c9fa=_0x4cb0f3(0xb69)+_0x4c3a2a+'\x22\x20title=\x22'+_0x4a1985+'\x20('+_0x577725+_0x4cb0f3(0xe31)+_0x5129a0+'\x22>'+_0x4a1985+_0x4cb0f3(0xf47)+_0x515ebe+'\x20'+_0x5a4a74+'\x20'+_0x547eb8+_0x4cb0f3(0x7b3)+_0x10a283+_0x4cb0f3(0xa2f)+_0x5129a0+'\x22>('+_0x577725+_0x4cb0f3(0x3ee):_0xa1c9fa='<div\x20style=\x22'+_0x4c3a2a+_0x4cb0f3(0x452)+_0x577725+_0x4cb0f3(0x7fe)+_0x5129a0+'\x22>'+_0x577725+'</span>\x20'+_0x515ebe+'\x20'+_0x5a4a74+'\x20'+_0x547eb8+_0x4cb0f3(0x4f3);_0x3db545&&(_0xa1c9fa='<div\x20class=\x22flex\x20items-center\x20gap-2\x22>'+_0xa1c9fa+_0x4cb0f3(0xca1));const _0x4e5f3e=_0x55f9f5>=0x0?'(+'+_0x55f9f5['toLocaleString']()+')':'('+_0x55f9f5[_0x4cb0f3(0xe4c)]()+')',_0xaf9cf7=_0x4cb0f3(0x90c)+_0xcb488d+'\x20คะแนน\x20'+_0x4e5f3e+_0x4cb0f3(0x935);return _0x4cb0f3(0x418)+_0x323c55+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+(_0xafc057+0x1)+_0x4cb0f3(0x379)+_0xa1c9fa+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xaf9cf7+_0x4cb0f3(0xddf);})[_0x80272a(0x8c3)]('');let _0x1f7bee='';const _0x3322ca=_0x1e2d47?_0x20d9be>=_0x1c639f[_0x80272a(0x83b)]-0x1:_0x52bb57['currentQuestionIndex']>=_0x1c639f[_0x80272a(0x83b)]-0x1;if(_0x52bb57[_0x80272a(0x4dc)]===_0x80272a(0x709))_0x1f7bee='';else _0x3322ca?_0x1f7bee=_0x80272a(0xce3):_0x1f7bee=_0x80272a(0x65d);const _0x567aee=_0x80272a(0xac9)+_0x563f3d+_0x80272a(0x5c2)+_0x1f7bee+_0x80272a(0xd99);liveGameView[_0x80272a(0x674)]=_0x567aee;}function renderStudentCompetitionResultsView(_0x280886,_0x439c68){const _0x524e6c=_0x2e2582,_0xfa3c7d=Object[_0x524e6c(0x586)](_0x280886[_0x524e6c(0x21d)]||{}),_0x3a267e=_0x439c68,_0x49ac24=_0x280886['gameVariant']||_0x524e6c(0x45e),_0x9a0b3b=_0x280886[_0x524e6c(0x23c)][_0x524e6c(0xa08)],_0x471e7e=_0xfa3c7d[_0x524e6c(0x91f)](_0x2bf35e=>{const _0x3c0dfa=_0x524e6c,_0x4294e6=_0x2bf35e[_0x3c0dfa(0x600)]||0x0,_0x39afc3=_0x2bf35e['totalPoints']||0x0,_0xf0dd78=(_0x2bf35e[_0x3c0dfa(0x767)]||[])[_0x3c0dfa(0xe4e)](_0x3a604c=>_0x49ac24===_0x3c0dfa(0xa8e)?_0x3a604c['questionIndex']<=_0x3a267e:!![]);return{..._0x2bf35e,'realScore':_0x4294e6,'totalPoints':_0x39afc3,'answers':_0xf0dd78};}),_0x3aa43e=_0x280886[_0x524e6c(0x4dd)]===!![],_0xe6500=[..._0x471e7e]['sort']((_0x365f11,_0x516a22)=>{const _0x2f1fb5=_0x524e6c;if(_0x3aa43e){const _0x431f46=_0x516a22[_0x2f1fb5(0x947)]-_0x365f11[_0x2f1fb5(0x947)];if(_0x431f46!==0x0)return _0x431f46;const _0x57f409=_0x516a22['totalPoints']-_0x365f11[_0x2f1fb5(0x468)];if(_0x57f409!==0x0)return _0x57f409;return(_0x365f11[_0x2f1fb5(0x47c)]||'')[_0x2f1fb5(0x6e9)](_0x516a22[_0x2f1fb5(0x47c)]||'','th');}else{const _0x53f102=_0x516a22[_0x2f1fb5(0x468)]-_0x365f11[_0x2f1fb5(0x468)];if(_0x53f102!==0x0)return _0x53f102;const _0x1ed7d5=_0x516a22[_0x2f1fb5(0x947)]-_0x365f11['realScore'];if(_0x1ed7d5!==0x0)return _0x1ed7d5;return(_0x365f11[_0x2f1fb5(0x47c)]||'')[_0x2f1fb5(0x6e9)](_0x516a22[_0x2f1fb5(0x47c)]||'','th');}}),_0x3046ad=_0xe6500[_0x524e6c(0x91f)]((_0x397a69,_0x225faf)=>{const _0x63f6ec=_0x524e6c,_0x49e1d3='';let _0x5f1c53=_0x63f6ec(0xa8f);const _0x3fe5f9=_0x397a69[_0x63f6ec(0x47c)],_0x3ddd34='line-height:\x201.3;\x20min-width:\x200;',_0x59d04c=_0x63f6ec(0x700),_0x587fb2='<div\x20style=\x22'+_0x3ddd34+_0x63f6ec(0x452)+_0x3fe5f9+_0x63f6ec(0x7fe)+_0x59d04c+'\x22>'+_0x3fe5f9+_0x63f6ec(0x935)+_0x49e1d3+_0x63f6ec(0x4f3),_0x29bc34='';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0x5f1c53+_0x63f6ec(0xeb2)+(_0x225faf+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>'+_0x587fb2+_0x63f6ec(0x34d)+_0x29bc34+_0x63f6ec(0xddf);})[_0x524e6c(0x8c3)]('');let _0x2c6bec='';const _0x57348b=_0x49ac24==='reveal_at_end'?_0x280886[_0x524e6c(0x6fb)]>=_0x9a0b3b[_0x524e6c(0x83b)]-0x1:_0x280886['currentQuestionIndex']>=_0x9a0b3b[_0x524e6c(0x83b)]-0x1;_0x57348b?_0x2c6bec=_0x524e6c(0xce3):_0x2c6bec=_0x524e6c(0x65d);const _0x490eb9=_0x524e6c(0xb7c)+_0x3046ad+_0x524e6c(0xcc4)+_0x2c6bec+_0x524e6c(0xd99);liveGameView[_0x524e6c(0x674)]=_0x490eb9;}function renderStudentSyncQuestionView(_0x46cc52){const _0x587473=_0x2e2582;while(localPlayerTurnIndex<localTeamPlayers[_0x587473(0x83b)]&&_0x46cc52['players'][localTeamPlayers[localPlayerTurnIndex]]?.[_0x587473(0x72d)]===!![]){localPlayerTurnIndex++;}const _0x1e6193=localTeamPlayers[localPlayerTurnIndex];if(!_0x1e6193)return;const _0x173789=_0x46cc52['players'][_0x1e6193],_0x483417=_0x46cc52['currentQuestionIndex'],_0x36ef64=_0x46cc52['shuffledQuiz'][_0x587473(0xa08)]['length'],_0x46f0e9=_0x46cc52[_0x587473(0x23c)]['questions'][_0x483417],_0x573fa6=_0x46f0e9[_0x587473(0xb6d)]||_0x46cc52[_0x587473(0x23c)][_0x587473(0x80d)];let _0x529c76='',_0x3dfc8e=![];const _0x187394=_0x587473(0xdbe)+_0x483417+'_p'+_0x1e6193,_0x5da4c5=sessionStorage[_0x587473(0xe7f)](_0x187394),_0x9ed535=_0x5da4c5===_0x587473(0xb91),_0x4409d1=_0x587473(0xecf)+_0x483417+'_p'+_0x1e6193,_0x52674f=JSON[_0x587473(0xbbc)](sessionStorage[_0x587473(0xe7f)](_0x4409d1)||'[]')[_0x587473(0x91f)](String);if((_0x573fa6===_0x587473(0x466)||_0x573fa6===_0x587473(0x8f5))&&_0x9ed535&&_0x46f0e9[_0x587473(0x25f)]&&_0x46f0e9[_0x587473(0x25f)][_0x587473(0x83b)]>0x0)_0x529c76=_0x46f0e9[_0x587473(0x25f)]['map']((_0x512786,_0x5e88a1)=>{const _0x22d748=_0x587473;if(_0x52674f[_0x22d748(0x9ee)](String(_0x5e88a1)))return'';return _0x22d748(0x237)+_0x512786+'\x22\x20data-index=\x22'+_0x5e88a1+_0x22d748(0xc25)+_0x512786+'</button>';})[_0x587473(0x8c3)]('');else{if(_0x573fa6===_0x587473(0x466)||_0x573fa6===_0x587473(0x8f5))_0x3dfc8e=!![],_0x529c76=_0x587473(0xcbe);else switch(_0x573fa6){case'true_false':const _0x21d209=_0x52674f['includes']('0')?'':_0x587473(0x5d2),_0x4be46d=_0x52674f[_0x587473(0x9ee)]('1')?'':_0x587473(0x9a4);_0x529c76=_0x21d209+_0x4be46d;break;case _0x587473(0x440):_0x3dfc8e=!![],_0x529c76='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+(_0x46f0e9[_0x587473(0xa2e)]||[])[_0x587473(0x91f)](_0x448c9=>_0x587473(0x3e4)+_0x448c9+'\x22>'+_0x448c9+_0x587473(0x645))[_0x587473(0x8c3)]('')+_0x587473(0xc33);break;case _0x587473(0xbb3):default:_0x529c76=(_0x46f0e9[_0x587473(0x25f)]||[])['map']((_0x232e17,_0x8405)=>{const _0x262ecc=_0x587473;if(_0x52674f[_0x262ecc(0x9ee)](String(_0x8405)))return'';return _0x262ecc(0x237)+_0x8405+'\x22\x20data-index=\x22'+_0x8405+_0x262ecc(0x951)+_0x232e17+'</button>';})[_0x587473(0x8c3)]('');break;}}let _0x35888f='';_0x46cc52[_0x587473(0xf09)]==='per_question'&&(_0x35888f=_0x587473(0x222)+_0x46cc52[_0x587473(0xedc)]+_0x587473(0x866));let _0x5310f0='';const _0xfb13be=_0x46cc52[_0x587473(0x826)]||_0x587473(0x45e),_0xafc2a1=[_0x587473(0xa8e),'anonymous_reveal_end',_0x587473(0xc93)][_0x587473(0x9ee)](_0xfb13be);if(_0x46cc52[_0x587473(0x4dd)]===!![]){if(_0xafc2a1)!_0x5da4c5&&(_0x5310f0=_0x587473(0x926));else{const _0x1eca21=_0x173789[_0x587473(0x468)]||0x0,_0x3e9ada=_0x173789['powerups']||{},_0x3a2c64=[_0x3e9ada['buyTime']>0x0?'<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20('+_0x3e9ada[_0x587473(0x6d2)]+_0x587473(0xa55):'',_0x3e9ada[_0x587473(0xb91)]>0x0?_0x587473(0x75a)+_0x3e9ada[_0x587473(0xb91)]+_0x587473(0xa55):'',_0x3e9ada['cutOne']>0x0?'<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20('+_0x3e9ada[_0x587473(0x7bc)]+_0x587473(0xa55):'',_0x3e9ada[_0x587473(0x8e3)]>0x0?_0x587473(0x458)+_0x3e9ada[_0x587473(0x8e3)]+_0x587473(0xa55):'',_0x3e9ada['fiftyFifty']>0x0?_0x587473(0x347)+_0x3e9ada['fiftyFifty']+_0x587473(0xa55):'',_0x3e9ada[_0x587473(0xf04)]>0x0?_0x587473(0x9aa)+_0x3e9ada[_0x587473(0xf04)]+_0x587473(0xa55):''][_0x587473(0xe4e)](Boolean)[_0x587473(0x8c3)]('\x20'),_0x3a713f=_0x587473(0x632)+_0x483417+'_p'+_0x1e6193,_0x6d16a5=sessionStorage['getItem'](_0x3a713f)===_0x587473(0xbb9),_0x2217f1=_0x1eca21>0x0&&(!_0x6d16a5||_0x1eca21>=0x1),_0x33f5f8=_0x1eca21===0x0?_0x587473(0xd63):_0x6d16a5?'ตลาดมืด\x20(-1\x20P)':_0x587473(0x72e)+_0x1eca21+_0x587473(0x5f2),_0x19688a=_0x2217f1?_0x587473(0xc5a):_0x587473(0xafa),_0x17a4b6=_0x2217f1?'':'disabled';let _0x515b9d=_0x587473(0xd90)+_0x19688a+'\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20'+_0x17a4b6+'><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20'+_0x33f5f8+_0x587473(0xb81);if(!_0x5da4c5){const _0x338e51=_0x1eca21>0x0,_0x15c786=_0x338e51?_0x587473(0x2d4):'bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70',_0x4cd896=_0x338e51?'bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1':_0x587473(0xb8b),_0x4db6ca=_0x338e51?'':_0x587473(0x736);_0x515b9d+=_0x587473(0x3e8)+_0x15c786+_0x587473(0x6f5)+_0x4db6ca+_0x587473(0x402)+_0x4cd896+_0x587473(0x6f5)+_0x4db6ca+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[9px]\x20bg-black/20\x20px-1.5\x20py-0.5\x20rounded\x20mt-0.5\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}_0x5310f0='<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>'+_0x515b9d+_0x587473(0x944)+(_0x3a2c64||'')+_0x587473(0xe8f);}}let _0x571863='';_0x173789['isJinxed']&&(_0x571863+=_0x587473(0x561));_0x173789['isForcedConfident']&&(_0x571863+=_0x587473(0x5b2));(_0x173789[_0x587473(0x467)]||0x0)>0x0&&(_0x571863+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x20<span>เวลาโบนัสทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');if(_0x5da4c5){if(_0x5da4c5===_0x587473(0x592)){const _0x3b6d77=_0xafc2a1?_0x587473(0x8c9):'💰\x20โหมดเดิมพันทำงานอยู่!';_0x571863+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b6d77+'\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}else{if(_0x5da4c5===_0x587473(0x7bc))_0x571863+=_0x587473(0xb38);else{if(_0x5da4c5===_0x587473(0xedd))_0x571863+=_0x587473(0x914);else{if(_0x5da4c5===_0x587473(0xf04))_0x571863+=_0x587473(0x85d);else{if(_0x5da4c5===_0x587473(0xb91))_0x571863+=_0x587473(0x535);else _0x5da4c5===_0x587473(0x8e3)?_0x571863+=_0x587473(0xdd9):_0x571863+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>'+_0x5da4c5+_0x587473(0x42e);}}}}}let _0x1bd7f4='';if(!_0xafc2a1){const _0x25c894=_0x173789[_0x587473(0xc54)]||0x0;if(_0x25c894>=0x3)_0x1bd7f4=_0x587473(0x87d)+_0x25c894+_0x587473(0xad3);else _0x25c894>0x0&&(_0x1bd7f4=_0x587473(0xedb)+_0x25c894+_0x587473(0x5a8));}liveGameView[_0x587473(0x674)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x483417+0x1)+_0x587473(0xa09)+_0x36ef64+_0x587473(0x508)+_0x1e6193+_0x587473(0xc69)+_0x1bd7f4+'\x20'+_0x35888f+'\x20'+_0x5310f0+_0x587473(0xe4d)+_0x571863+_0x587473(0xc3b)+(_0x46f0e9[_0x587473(0x912)]||_0x46f0e9[_0x587473(0x71c)])+_0x587473(0xf02)+_0x529c76+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window['MathJax'])MathJax[_0x587473(0x396)]();function _0x6d6073(_0x58c1fe,_0x5f4121,_0x34c09d,_0x1059f0){const _0x522afb=_0x587473,_0x1372ce=_0x34c09d['isConfidenceScoringEnabled']===!![],_0x6350ff=_0x34c09d[_0x522afb(0x5fb)],_0x3f1a84=_0x522afb(0xdbe)+_0x6350ff+'_p'+_0x1059f0,_0xbfbfdd=sessionStorage[_0x522afb(0xe7f)](_0x3f1a84),_0x85fc39=_0xbfbfdd===_0x522afb(0x592),_0x12d94a=_0x34c09d[_0x522afb(0x21d)][_0x1059f0];if(_0x85fc39){const _0x16d089=sessionStorage[_0x522afb(0xe7f)](_0x522afb(0x716))==='true';if(_0xafc2a1||_0x16d089){const _0x261171=_0x12d94a[_0x522afb(0x468)]||0x0;sessionStorage[_0x522afb(0xcbf)](_0x522afb(0x716)),handleSyncAnswerSubmit(_0x58c1fe,_0x5f4121,_0x34c09d,_0x1059f0,![],_0x261171);}else{const _0x36e67b=document['getElementById'](_0x522afb(0x5c5)),_0x5de924=document['getElementById'](_0x522afb(0x953)),_0xe157de=document['getElementById'](_0x522afb(0x859)),_0x443285=document[_0x522afb(0x6ec)]('wager-max-points'),_0x40fca6=_0x12d94a[_0x522afb(0x468)]||0x0;_0x5de924[_0x522afb(0xd94)]=_0x40fca6,_0x5de924[_0x522afb(0x8c2)]=_0x40fca6,_0xe157de[_0x522afb(0x337)]=_0x40fca6,_0x443285[_0x522afb(0x337)]=_0x40fca6,_0x5de924[_0x522afb(0xa5a)]=()=>{const _0x352398=_0x522afb;_0xe157de[_0x352398(0x337)]=_0x5de924[_0x352398(0x8c2)];};const _0x34f192=document[_0x522afb(0x6ec)](_0x522afb(0xb62));_0x34f192[_0x522afb(0x261)][_0x522afb(0x74a)]=_0x58c1fe,_0x34f192['dataset'][_0x522afb(0x77c)]=JSON[_0x522afb(0x908)](_0x5f4121),_0x34f192['dataset']['gameData']=JSON[_0x522afb(0x908)](_0x34c09d),_0x34f192[_0x522afb(0x261)][_0x522afb(0xdd6)]=_0x1059f0,_0x36e67b[_0x522afb(0xed5)]['remove'](_0x522afb(0x515));}}else{if(_0x1372ce){document[_0x522afb(0x6ec)](_0x522afb(0x6f7))[_0x522afb(0x261)][_0x522afb(0xb7e)]='sync';const _0x273773=document['getElementById'](_0x522afb(0x966));_0x273773['dataset']['answerValue']=_0x58c1fe,_0x273773[_0x522afb(0x261)][_0x522afb(0x77c)]=JSON['stringify'](_0x5f4121),_0x273773['dataset'][_0x522afb(0xb41)]=JSON[_0x522afb(0x908)](_0x34c09d),_0x273773[_0x522afb(0x261)][_0x522afb(0xdd6)]=_0x1059f0,document[_0x522afb(0x6ec)](_0x522afb(0x6f7))[_0x522afb(0xed5)][_0x522afb(0xb8a)](_0x522afb(0x515));}else handleSyncAnswerSubmit(_0x58c1fe,_0x5f4121,_0x34c09d,_0x1059f0,![],0x0);}}_0x3dfc8e?document[_0x587473(0x6ec)](_0x587473(0x6d4))[_0x587473(0x504)](_0x587473(0x7b0),()=>{const _0x196b93=_0x587473,_0x384706=document[_0x196b93(0x6ec)](_0x196b93(0x546))||document[_0x196b93(0x6ec)]('sync-matching-select');if(_0x384706[_0x196b93(0x8c2)][_0x196b93(0xdd8)]()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x6d6073(_0x384706[_0x196b93(0x8c2)],_0x46f0e9,_0x46cc52,_0x1e6193);}):document['querySelectorAll'](_0x587473(0x6ab))['forEach'](_0x108986=>{const _0x103db8=_0x587473;_0x108986[_0x103db8(0x504)](_0x103db8(0x7b0),()=>{const _0x109cf9=_0x103db8;_0x6d6073(_0x108986[_0x109cf9(0x261)][_0x109cf9(0x8c2)],_0x46f0e9,_0x46cc52,_0x1e6193);});});if(_0x46cc52[_0x587473(0x4dd)]===!![]){if(!_0xafc2a1){const _0x551cb5=document[_0x587473(0x6ec)]('open-market-btn');_0x551cb5&&_0x551cb5[_0x587473(0x504)](_0x587473(0x7b0),()=>{const _0x49facc=_0x587473,_0x5bae34=_0x49facc(0x632)+_0x483417+'_p'+_0x1e6193,_0x39c3c6=sessionStorage['getItem'](_0x5bae34)===_0x49facc(0xbb9);if(!_0x39c3c6)openBlackMarket(_0x46cc52,_0x173789),sessionStorage[_0x49facc(0x2b8)](_0x5bae34,'true'),renderStudentSyncQuestionView(_0x46cc52);else{if(_0x173789['totalPoints']<0x1){showMessage(_0x49facc(0x551));return;}showConfirmation(_0x49facc(0x7ae),()=>{handlePayForMarketEntry(_0x1e6193,_0x46cc52,_0x173789);});}}),document[_0x587473(0x6ec)](_0x587473(0xc3d))?.[_0x587473(0x504)](_0x587473(0x7b0),_0x1ae493=>{const _0x360159=_0x587473;_0x1ae493[_0x360159(0x8dd)][_0x360159(0x736)]=!![],handleUsePowerup(_0x1e6193,'buyTime',_0x46f0e9,_0x46cc52,_0x173789);}),document[_0x587473(0x6ec)](_0x587473(0x2c6))?.[_0x587473(0x504)](_0x587473(0x7b0),_0x30d1f2=>{const _0x5492d4=_0x587473;_0x30d1f2[_0x5492d4(0x8dd)][_0x5492d4(0x736)]=!![],handleUsePowerup(_0x1e6193,_0x5492d4(0x7bc),_0x46f0e9,_0x46cc52,_0x173789);}),document[_0x587473(0x6ec)](_0x587473(0x29e))?.[_0x587473(0x504)](_0x587473(0x7b0),_0x14d28d=>{const _0x23ec7b=_0x587473;_0x14d28d['target']['disabled']=!![],handleUsePowerup(_0x1e6193,_0x23ec7b(0x8e3),_0x46f0e9,_0x46cc52,_0x173789);}),document['getElementById']('use-powerup-fiftyFifty')?.[_0x587473(0x504)](_0x587473(0x7b0),_0x1e4bf1=>{const _0x5458f8=_0x587473;_0x1e4bf1['target'][_0x5458f8(0x736)]=!![],handleUsePowerup(_0x1e6193,_0x5458f8(0xedd),_0x46f0e9,_0x46cc52,_0x173789);}),document[_0x587473(0x6ec)](_0x587473(0x26f))?.[_0x587473(0x504)](_0x587473(0x7b0),_0x358366=>{const _0x47bdf6=_0x587473;_0x358366[_0x47bdf6(0x8dd)][_0x47bdf6(0x736)]=!![],handleUsePowerup(_0x1e6193,_0x47bdf6(0xf04),_0x46f0e9,_0x46cc52,_0x173789);}),document[_0x587473(0x6ec)](_0x587473(0x3b7))?.[_0x587473(0x504)](_0x587473(0x7b0),_0x502af3=>{const _0x3449e4=_0x587473;_0x502af3[_0x3449e4(0x8dd)][_0x3449e4(0x736)]=!![],handleUsePowerup(_0x1e6193,_0x3449e4(0xb91),_0x46f0e9,_0x46cc52,_0x173789);}),document[_0x587473(0x6ec)]('use-powerup-wagerMultiplier')?.['addEventListener']('click',_0x7d2146=>{const _0xbb975c=_0x587473;_0x7d2146['target'][_0xbb975c(0x736)]=!![],sessionStorage[_0xbb975c(0x2b8)](_0xbb975c(0x716),_0xbb975c(0xa37)),handleUsePowerup(_0x1e6193,_0xbb975c(0x592),_0x46f0e9,_0x46cc52,_0x173789);});}document[_0x587473(0x6ec)](_0x587473(0x4e8))?.['addEventListener'](_0x587473(0x7b0),_0x228e78=>{const _0x43da0f=_0x587473;_0x228e78[_0x43da0f(0x8dd)]['disabled']=!![],sessionStorage['setItem'](_0x43da0f(0x716),_0x43da0f(0xbb9)),handleUsePowerup(_0x1e6193,_0x43da0f(0x592),_0x46f0e9,_0x46cc52,_0x173789);});}}async function handleSyncAnswerSubmit(_0x20e934,_0x2e7e08,_0x2c895f,_0x23271c,_0x3d6c43,_0x345986=0x0){const _0x3d282e=_0x2e2582;document[_0x3d282e(0xcf1)](_0x3d282e(0x7c6))[_0x3d282e(0x9ce)](_0x342a20=>_0x342a20[_0x3d282e(0x736)]=!![]);const _0x2f1cce=_0x2c895f[_0x3d282e(0x5fb)],_0x41c19b=_0x3d282e(0xdbe)+_0x2f1cce+'_p'+_0x23271c,_0x18c245=sessionStorage['getItem'](_0x41c19b),_0x3d95d8=_0x2c895f[_0x3d282e(0x21d)][_0x23271c]||{},_0x5a96db=_0x3d95d8[_0x3d282e(0xbf6)]===!![],_0x179473=sessionStorage[_0x3d282e(0xe7f)](_0x3d282e(0x381))==='true';let _0x25ff95=_0x3d95d8['correctStreak']||0x0;_0x18c245&&_0x18c245!=='wagerMultiplier'&&(_0x25ff95=0x0);const _0x3156d1=_0x25ff95>=0x3,_0x2a39f6=_0x2e7e08[_0x3d282e(0xb6d)]||_0x2c895f[_0x3d282e(0x23c)][_0x3d282e(0x80d)];let _0x3b4e0a=![],_0x1d0982=_0x20e934;switch(_0x2a39f6){case _0x3d282e(0x35c):const _0x5bf78f=parseInt(_0x20e934),_0x39486d=_0x2e7e08['correctAnswer']===!![]||String(_0x2e7e08['correctAnswer'])[_0x3d282e(0x3be)]()===_0x3d282e(0xbb9);_0x3b4e0a=_0x5bf78f===0x0&&_0x39486d||_0x5bf78f===0x1&&!_0x39486d,_0x1d0982=_0x5bf78f===0x0?'ใช่\x20/\x20ถูก':'ไม่ใช่\x20/\x20ผิด';break;case _0x3d282e(0x466):case _0x3d282e(0x8f5):_0x3b4e0a=await gradeShortAnswer(_0x20e934,_0x2e7e08);break;case _0x3d282e(0x440):_0x3b4e0a=_0x20e934===_0x2e7e08['correctResponse'];break;case _0x3d282e(0xbb3):default:const _0x46d918=parseInt(_0x20e934);_0x3b4e0a=_0x46d918===_0x2e7e08[_0x3d282e(0x526)];_0x2e7e08[_0x3d282e(0x25f)]&&_0x2e7e08[_0x3d282e(0x25f)][_0x46d918]&&(_0x1d0982=_0x2e7e08[_0x3d282e(0x25f)][_0x46d918]);break;}if(!_0x3b4e0a&&_0x18c245===_0x3d282e(0xf04)&&!_0x179473){sessionStorage[_0x3d282e(0xcbf)](_0x41c19b),sessionStorage[_0x3d282e(0x2b8)](_0x3d282e(0x381),_0x3d282e(0xbb9)),showMessage(_0x3d282e(0x689)),document['querySelectorAll']('.live-answer-btn,\x20#sync-submit-btn')[_0x3d282e(0x9ce)](_0x375744=>{const _0x2b4c72=_0x3d282e;if(!_0x375744[_0x2b4c72(0xed5)][_0x2b4c72(0x84c)](_0x2b4c72(0x515)))_0x375744[_0x2b4c72(0x736)]=![];});return;}let _0x4a8c7f=0x0;const _0xac8963=_0x18c245==='wagerMultiplier',_0x198063=_0x18c245===_0x3d282e(0x8e3),_0x2ff34e=sessionStorage[_0x3d282e(0xe7f)](_0x3d282e(0xee7))==='true',_0x7b963f=_0x3d95d8[_0x3d282e(0xcc9)]===!![];if(_0xac8963){const _0x17c13e=parseInt(_0x345986,0xa)||0x0;_0x4a8c7f=_0x3b4e0a?_0x17c13e*0x2:-_0x17c13e;}else{if(_0x2ff34e&&!_0x3b4e0a)_0x4a8c7f=_0x3d6c43===!![]||_0x3d6c43==='confident'||_0x5a96db?-0x4:-0x2;else{if(_0x5a96db)_0x4a8c7f=_0x3b4e0a?0x2:-0x1;else{if(_0x2c895f[_0x3d282e(0xa56)]){if(_0x3b4e0a&&(_0x3d6c43===!![]||_0x3d6c43===_0x3d282e(0xaac)))_0x4a8c7f=0x2;else{if(_0x3b4e0a)_0x4a8c7f=0x1;else{if(!_0x3b4e0a&&(_0x3d6c43===![]||_0x3d6c43===_0x3d282e(0xd1a)||_0x3d6c43===null))_0x4a8c7f=0x0;else{if(!_0x3b4e0a&&(_0x3d6c43===!![]||_0x3d6c43===_0x3d282e(0xaac)))_0x4a8c7f=-0x1;}}}}else _0x4a8c7f=_0x3b4e0a?0x1:0x0;}}}_0x3156d1&&_0x4a8c7f>0x0&&(_0x4a8c7f*=0x2);if(_0x7b963f&&!_0x3b4e0a&&_0x4a8c7f<0x0)_0x4a8c7f*=0x2;if(!_0x3b4e0a&&_0x198063)_0x4a8c7f=0x0;const _0x3d7124=(_0x3d95d8[_0x3d282e(0x467)]||0x0)>0x0,_0x56d284=_0x18c245&&_0x18c245!=='wagerMultiplier';let _0x3ab921=0x0;_0x3b4e0a&&(_0x3ab921=_0x56d284?0x0:_0x25ff95+0x1);const _0x155dc5={'questionIndex':_0x2c895f[_0x3d282e(0x5fb)],'questionId':_0x2e7e08['id'],'answer':_0x20e934,'answerText':_0x1d0982,'isCorrect':_0x3b4e0a,'originalQuestionText':_0x2e7e08['questionText']||_0x2e7e08['stem'],'wasConfident':_0x5a96db?_0x3d282e(0xaac):_0x3d6c43||![],'pointsAwarded':_0x4a8c7f,'powerupUsed':_0x18c245||null,'wasJinxed':_0x7b963f||![],'wasForced':_0x5a96db||![],'usedPoll':_0x2ff34e||![],'usedBuyTime':_0x3d7124,'streakActive':_0x3156d1},_0x2ee369=doc(db,_0x3d282e(0x509)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x3d282e(0x80f),_0x23271c),_0x5adfd2=_0x3d95d8[_0x3d282e(0x767)]||[],_0x5c5f5d=_0x5adfd2[_0x3d282e(0xe4e)](_0x287040=>_0x287040[_0x3d282e(0x39e)]!==_0x2c895f[_0x3d282e(0x5fb)]),_0x1d5a8c=[..._0x5c5f5d,_0x155dc5],_0x2afb62=_0x1d5a8c[_0x3d282e(0xe4e)](_0x391f47=>_0x391f47[_0x3d282e(0x33c)])['length'],_0x49140e={'answers':_0x1d5a8c,'score':_0x2afb62,'totalPoints':increment(_0x4a8c7f),'answered':!![],'lastAnswerIndex':_0x2a39f6==='multiple_choice'||_0x2a39f6===_0x3d282e(0x35c)?parseInt(_0x20e934):null,'lastAnswerValue':_0x1d0982,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x3ab921};if(_0x179473)sessionStorage['removeItem']('onSecondChance');try{await updateDoc(_0x2ee369,_0x49140e);}catch(_0x49dd74){console['error'](_0x3d282e(0xf00),_0x49dd74),showMessage(_0x3d282e(0x84e)),document[_0x3d282e(0xcf1)]('.live-answer-btn,\x20#sync-submit-btn')['forEach'](_0x31e046=>_0x31e046[_0x3d282e(0x736)]=![]);}}const allMarketItems=[{'id':'buyTime','name':_0x2e2582(0x3dd),'price':0x1,'desc':_0x2e2582(0x8d0)},{'id':_0x2e2582(0x7bc),'name':'✂️\x20ตัด\x201\x20ตัวเลือก','price':0x2,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ'},{'id':_0x2e2582(0xedd),'name':_0x2e2582(0x653),'price':0x5,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)'},{'id':_0x2e2582(0xf04),'name':'🔁\x20โอกาสครั้งที่สอง','price':0x7,'desc':'ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง'},{'id':'revealOptions','name':_0x2e2582(0xc8c),'price':0xc,'desc':_0x2e2582(0xcf8)}];function openBlackMarket(_0x49417e,_0xf5dd4d){const _0x32e7de=_0x2e2582;let _0x4ab993=null;const _0x4df074=document['getElementById'](_0x32e7de(0xa8a)),_0x43d20e=document[_0x32e7de(0x6ec)](_0x32e7de(0xaa8)),_0x349126=document[_0x32e7de(0x6ec)](_0x32e7de(0xc40)),_0x2f5d54=document['getElementById'](_0x32e7de(0x253)),_0x346d9f=_0xf5dd4d['totalPoints']||0x0;_0x349126[_0x32e7de(0x337)]=_0x346d9f;const _0xa974f5=_0x49417e[_0x32e7de(0x5fb)],_0xd99dc7=_0x49417e[_0x32e7de(0x23c)][_0x32e7de(0xa08)][_0xa974f5],_0x17156c=_0xd99dc7['questionType']||_0x49417e[_0x32e7de(0x23c)][_0x32e7de(0x80d)],_0x355285=_0x49417e[_0x32e7de(0xf09)]===_0x32e7de(0x4df),_0xecb67a=allMarketItems;_0x43d20e[_0x32e7de(0x674)]=_0xecb67a[_0x32e7de(0x91f)](_0x51cc47=>{const _0x488157=_0x32e7de,_0x46bfd1=_0x346d9f>=_0x51cc47[_0x488157(0x959)];if(_0x51cc47['id']===_0x488157(0x6d2)){const _0x435b6c=_0x46bfd1?Math[_0x488157(0xabc)](_0x346d9f/_0x51cc47[_0x488157(0x959)]):0x0,_0x57035e=_0x46bfd1&&_0x355285;let _0xb7a058=_0x488157(0xb28)+_0x51cc47[_0x488157(0x959)]+_0x488157(0x240),_0x59010f=_0x57035e?_0x488157(0x5bf):_0x488157(0x741);return!_0x355285&&(_0xb7a058=_0x488157(0x69f),_0x59010f=_0x488157(0x26d)),_0x488157(0x3bd)+(!_0x57035e?_0x488157(0x254):_0x488157(0x8a1))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x51cc47[_0x488157(0x47c)]+_0x488157(0xc92)+_0x51cc47[_0x488157(0xa19)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22'+_0x435b6c+'\x22\x20'+(!_0x57035e?'disabled':'')+_0x488157(0xe47)+_0x59010f+_0x488157(0x956)+_0x51cc47['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22'+_0x51cc47[_0x488157(0x959)]+_0x488157(0xa8d)+(!_0x57035e?_0x488157(0x736):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb7a058+_0x488157(0x370);}else{let _0x3be3c0=!_0x46bfd1,_0x252088=_0x46bfd1?_0x488157(0x5bf):_0x488157(0x741),_0x5d6c41=_0x488157(0xb28)+_0x51cc47['price']+'P)';if(_0x51cc47['id']===_0x488157(0xb91)){const _0x35ea98=_0xd99dc7[_0x488157(0x25f)]&&_0xd99dc7[_0x488157(0x25f)][_0x488157(0x83b)]>0x0,_0x527588=_0x17156c===_0x488157(0x466)||_0x17156c==='fill_in_no_choices';(!_0x35ea98||!_0x527588)&&(_0x3be3c0=!![],_0x252088=_0x488157(0x26d),_0x5d6c41=_0x488157(0xd86));}if(_0x51cc47['id']===_0x488157(0x7bc)||_0x51cc47['id']===_0x488157(0xedd)){const _0x4ed6a1=_0x17156c===_0x488157(0x466)||_0x17156c===_0x488157(0x8f5),_0x5d4f47=_0xd99dc7[_0x488157(0x25f)]&&_0xd99dc7[_0x488157(0x25f)]['length']>0x0;(_0x4ed6a1||!_0x5d4f47)&&(_0x3be3c0=!![],_0x252088='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300',_0x5d6c41=_0x488157(0x5a4));}return _0x488157(0x3bd)+(_0x3be3c0?_0x488157(0x254):_0x488157(0x8a1))+_0x488157(0xb0d)+_0x51cc47[_0x488157(0x47c)]+_0x488157(0xc92)+_0x51cc47[_0x488157(0xa19)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20'+_0x252088+_0x488157(0xb63)+_0x51cc47['id']+_0x488157(0xba3)+_0x51cc47[_0x488157(0x959)]+_0x488157(0xe36)+(_0x3be3c0?_0x488157(0x736):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d6c41+_0x488157(0xb51);}})['join'](''),_0x4df074['classList'][_0x32e7de(0xb8a)](_0x32e7de(0x515)),_0x2f5d54[_0x32e7de(0xdb7)][_0x32e7de(0xef2)]=_0x32e7de(0xd62),_0x2f5d54[_0x32e7de(0xdb7)][_0x32e7de(0x950)]=_0x32e7de(0x5aa),setTimeout(()=>{const _0x28a9f1=_0x32e7de;_0x2f5d54[_0x28a9f1(0xdb7)]['transition']=_0x28a9f1(0x409),_0x2f5d54['style'][_0x28a9f1(0x950)]='0%';},0x32),_0x4ab993=setTimeout(()=>{const _0xf9047e=_0x32e7de;_0x4df074[_0xf9047e(0xed5)]['add'](_0xf9047e(0x515));},0xea60),document[_0x32e7de(0x6ec)](_0x32e7de(0x665))[_0x32e7de(0xdba)]=()=>{const _0x5d27ed=_0x32e7de;clearTimeout(_0x4ab993),_0x4df074[_0x5d27ed(0xed5)][_0x5d27ed(0xbca)](_0x5d27ed(0x515));},_0x43d20e[_0x32e7de(0xcf1)](_0x32e7de(0xa69))[_0x32e7de(0x9ce)](_0x58f3b5=>{const _0x592516=_0x32e7de;_0x58f3b5[_0x592516(0xdba)]=_0xf8cadf=>{const _0x39572a=_0x592516,_0x141b44=_0xf8cadf[_0x39572a(0x8dd)][_0x39572a(0x261)][_0x39572a(0xa61)],_0x559739=parseInt(_0xf8cadf[_0x39572a(0x8dd)][_0x39572a(0x261)]['price'],0xa);clearTimeout(_0x4ab993),_0x4df074['classList'][_0x39572a(0xbca)](_0x39572a(0x515)),handleBuyItem(_0xf5dd4d[_0x39572a(0x47c)],_0x141b44,_0x559739,0x1);};}),_0x43d20e[_0x32e7de(0xcf1)](_0x32e7de(0xe5b))[_0x32e7de(0x9ce)](_0x345134=>{const _0x4a3ade=_0x32e7de;_0x345134[_0x4a3ade(0xdba)]=_0x30045f=>{const _0x3689ab=_0x4a3ade,_0x39bf49=_0x30045f[_0x3689ab(0x8dd)][_0x3689ab(0x261)][_0x3689ab(0xa61)],_0x14f96f=parseInt(_0x30045f[_0x3689ab(0x8dd)][_0x3689ab(0x261)][_0x3689ab(0x959)],0xa),_0x4dfb0c=document[_0x3689ab(0x6ec)](_0x3689ab(0xb6f)),_0x1b4c98=parseInt(_0x4dfb0c['value'],0xa),_0x146762=parseInt(_0x4dfb0c[_0x3689ab(0xd94)],0xa);if(!_0x1b4c98||_0x1b4c98<0x1){showMessage('กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)');return;}if(_0x1b4c98>_0x146762){showMessage(_0x3689ab(0xddd)+_0x146762+'\x20ชิ้น)');return;}clearTimeout(_0x4ab993),_0x4df074['classList'][_0x3689ab(0xbca)](_0x3689ab(0x515)),handleBuyItem(_0xf5dd4d[_0x3689ab(0x47c)],_0x39bf49,_0x14f96f,_0x1b4c98);};});}async function handleBuyItem(_0x179c09,_0x1803fb,_0x1e736e,_0x5b29d6=0x1){const _0x230fb3=_0x2e2582,_0x4e90c4=doc(db,'artifacts/'+appId+_0x230fb3(0x8ac)+currentLiveGameId+_0x230fb3(0x80f),_0x179c09);try{await runTransaction(db,async _0x2cca8d=>{const _0x289329=_0x230fb3,_0x335d9b=await _0x2cca8d['get'](_0x4e90c4);if(!_0x335d9b[_0x289329(0xa82)]())throw'ไม่พบข้อมูลผู้เล่น';const _0x437f18=_0x335d9b[_0x289329(0xe5c)]()[_0x289329(0x468)]||0x0,_0x2f2d51=_0x1e736e*_0x5b29d6;if(_0x437f18<_0x2f2d51)throw'มี\x20Points\x20ไม่เพียงพอ';const _0x4beb44={};_0x4beb44['totalPoints']=increment(-_0x2f2d51),_0x4beb44[_0x289329(0xc41)+_0x1803fb]=increment(_0x5b29d6),_0x2cca8d['update'](_0x4e90c4,_0x4beb44);}),showMessage(_0x230fb3(0x227)+_0x1803fb+_0x230fb3(0x40e)+_0x5b29d6+_0x230fb3(0xd21));}catch(_0x7d6a02){console[_0x230fb3(0x61c)](_0x230fb3(0x84a),_0x7d6a02),showMessage(typeof _0x7d6a02===_0x230fb3(0xa9c)?_0x7d6a02:_0x230fb3(0x881));}}async function handlePayForMarketEntry(_0x349845,_0x3c1984,_0x24d371){const _0x38b157=_0x2e2582,_0x139519=doc(db,'artifacts/'+appId+_0x38b157(0x8ac)+currentLiveGameId+_0x38b157(0x80f),_0x349845);try{await runTransaction(db,async _0x16fa45=>{const _0x41bbca=_0x38b157,_0x23f413=await _0x16fa45[_0x41bbca(0x987)](_0x139519);if(!_0x23f413[_0x41bbca(0xa82)]())throw _0x41bbca(0x841);const _0x459d8d=_0x23f413[_0x41bbca(0xe5c)]()[_0x41bbca(0x468)]||0x0;if(_0x459d8d<0x1)throw _0x41bbca(0xce6);const _0x117c5e={};_0x117c5e[_0x41bbca(0x468)]=increment(-0x1),_0x16fa45['update'](_0x139519,_0x117c5e);});const _0x2514b9={..._0x24d371,'totalPoints':(_0x24d371[_0x38b157(0x468)]||0x0)-0x1};openBlackMarket(_0x3c1984,_0x2514b9);}catch(_0x2f2564){console[_0x38b157(0x61c)]('Market\x20entry\x20payment\x20failed:',_0x2f2564),showMessage(typeof _0x2f2564==='string'?_0x2f2564:_0x38b157(0xc58));}}const audioCtx=new(window[(_0x2e2582(0xaaa))]||window[(_0x2e2582(0xf2a))])();function playSystemSound(_0x2e408b){const _0x115bc1=_0x2e2582;if(audioCtx['state']==='suspended')audioCtx[_0x115bc1(0xd9f)]();const _0xa94b8b=audioCtx[_0x115bc1(0x646)](),_0x462e5e=audioCtx['createGain']();_0xa94b8b['connect'](_0x462e5e),_0x462e5e[_0x115bc1(0xd8c)](audioCtx['destination']);const _0x3e7454=audioCtx[_0x115bc1(0xf2b)];if(_0x2e408b===_0x115bc1(0x259))_0xa94b8b[_0x115bc1(0xae4)]=_0x115bc1(0xe3d),_0xa94b8b[_0x115bc1(0x2d9)][_0x115bc1(0x737)](0x258,_0x3e7454),_0xa94b8b[_0x115bc1(0x2d9)][_0x115bc1(0x828)](0x4b0,_0x3e7454+0.1),_0x462e5e[_0x115bc1(0x663)][_0x115bc1(0x737)](0.1,_0x3e7454),_0x462e5e[_0x115bc1(0x663)][_0x115bc1(0x828)](0.01,_0x3e7454+0.5),_0xa94b8b[_0x115bc1(0x2a9)](_0x3e7454),_0xa94b8b['stop'](_0x3e7454+0.5);else{if(_0x2e408b===_0x115bc1(0x343))_0xa94b8b[_0x115bc1(0xae4)]=_0x115bc1(0x6de),_0xa94b8b[_0x115bc1(0x2d9)][_0x115bc1(0x737)](0x96,_0x3e7454),_0xa94b8b[_0x115bc1(0x2d9)][_0x115bc1(0x828)](0x64,_0x3e7454+0.2),_0x462e5e[_0x115bc1(0x663)][_0x115bc1(0x737)](0.1,_0x3e7454),_0x462e5e[_0x115bc1(0x663)]['exponentialRampToValueAtTime'](0.01,_0x3e7454+0.3),_0xa94b8b[_0x115bc1(0x2a9)](_0x3e7454),_0xa94b8b['stop'](_0x3e7454+0.3);else _0x2e408b===_0x115bc1(0x7bb)&&(_0xa94b8b[_0x115bc1(0xae4)]=_0x115bc1(0x7e2),_0xa94b8b[_0x115bc1(0x2d9)][_0x115bc1(0x737)](0x12c,_0x3e7454),_0xa94b8b[_0x115bc1(0x2d9)][_0x115bc1(0xd72)](0x258,_0x3e7454+0.1),_0x462e5e['gain'][_0x115bc1(0x737)](0.1,_0x3e7454),_0x462e5e[_0x115bc1(0x663)]['linearRampToValueAtTime'](0.01,_0x3e7454+0.3),_0xa94b8b[_0x115bc1(0x2a9)](_0x3e7454),_0xa94b8b[_0x115bc1(0x607)](_0x3e7454+0.3));}}initialize();
