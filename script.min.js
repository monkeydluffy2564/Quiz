const _0x2531d4=_0x57b0;(function(_0x4882e5,_0x158205){const _0x165014=_0x57b0,_0x1b13e7=_0x4882e5();while(!![]){try{const _0x66b8c=parseInt(_0x165014(0x1f3))/0x1+-parseInt(_0x165014(0x5d0))/0x2+-parseInt(_0x165014(0x25f))/0x3*(-parseInt(_0x165014(0x257))/0x4)+parseInt(_0x165014(0x638))/0x5+parseInt(_0x165014(0x3c6))/0x6+-parseInt(_0x165014(0x58f))/0x7*(parseInt(_0x165014(0x5c7))/0x8)+parseInt(_0x165014(0x69f))/0x9;if(_0x66b8c===_0x158205)break;else _0x1b13e7['push'](_0x1b13e7['shift']());}catch(_0x2553e0){_0x1b13e7['push'](_0x1b13e7['shift']());}}}(_0x39f3,0x82da3));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';function _0x57b0(_0x4f3bd7,_0x1a98ab){const _0x39f31c=_0x39f3();return _0x57b0=function(_0x57b0b2,_0x26fd30){_0x57b0b2=_0x57b0b2-0x16c;let _0x10d04d=_0x39f31c[_0x57b0b2];return _0x10d04d;},_0x57b0(_0x4f3bd7,_0x1a98ab);}const allMathTopics=[{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x4e3)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x80f)},{'category':_0x2531d4(0x6dc),'name':'การปัดเศษและประมาณค่า'},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x419)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x1c4)},{'category':'จำนวนและการดำเนินการ','name':_0x2531d4(0x4da)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x7a8)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x68b)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x53c)},{'category':_0x2531d4(0x6dc),'name':'จำนวนเต็มลบ'},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x3c2)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x779)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x528)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x349)},{'category':'จำนวนและการดำเนินการ','name':_0x2531d4(0x825)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x58e)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x277)},{'category':'จำนวนและการดำเนินการ','name':'อัตราและอัตราหน่วย'},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x4ee)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x7c7)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x44f)},{'category':_0x2531d4(0x6dc),'name':'การคูณเศษส่วน'},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x640)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x6b1)},{'category':_0x2531d4(0x6dc),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x37f)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x4cf)},{'category':'จำนวนและการดำเนินการ','name':_0x2531d4(0x525)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x360)},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x259)},{'category':'จำนวนและการดำเนินการ','name':_0x2531d4(0x4cc)},{'category':'จำนวนและการดำเนินการ','name':_0x2531d4(0x7cd)},{'category':_0x2531d4(0x6dc),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x2531d4(0x6dc),'name':_0x2531d4(0x523)},{'category':_0x2531d4(0x6dc),'name':'รากที่สองและที่สาม'},{'category':'จำนวนและการดำเนินการ','name':_0x2531d4(0x7ec)},{'category':'จำนวนและการดำเนินการ','name':'สัญกรณ์วิทยาศาสตร์'},{'category':'การวัด','name':_0x2531d4(0x2aa)},{'category':_0x2531d4(0x4ad),'name':_0x2531d4(0x6a5)},{'category':_0x2531d4(0x4ad),'name':_0x2531d4(0x661)},{'category':'การวัด','name':_0x2531d4(0x17c)},{'category':'การวัด','name':_0x2531d4(0x618)},{'category':_0x2531d4(0x4ad),'name':_0x2531d4(0x570)},{'category':'การวัด','name':_0x2531d4(0x23f)},{'category':_0x2531d4(0x4ad),'name':_0x2531d4(0x40c)},{'category':_0x2531d4(0x4ad),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x2531d4(0x4ad),'name':_0x2531d4(0x49e)},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x2531d4(0x4ad),'name':_0x2531d4(0x1a8)},{'category':_0x2531d4(0x4ad),'name':_0x2531d4(0x178)},{'category':_0x2531d4(0x4ad),'name':_0x2531d4(0x264)},{'category':'เรขาคณิต','name':_0x2531d4(0x1a7)},{'category':'เรขาคณิต','name':_0x2531d4(0x435)},{'category':_0x2531d4(0x831),'name':_0x2531d4(0x221)},{'category':'เรขาคณิต','name':_0x2531d4(0x40c)},{'category':'เรขาคณิต','name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':'เรขาคณิต','name':_0x2531d4(0x82d)},{'category':_0x2531d4(0x831),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x2531d4(0x831),'name':_0x2531d4(0x27a)},{'category':_0x2531d4(0x831),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':'เรขาคณิต','name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x2531d4(0x831),'name':_0x2531d4(0x1ff)},{'category':_0x2531d4(0x831),'name':_0x2531d4(0x678)},{'category':_0x2531d4(0x831),'name':_0x2531d4(0x645)},{'category':_0x2531d4(0x831),'name':_0x2531d4(0x807)},{'category':_0x2531d4(0x831),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':'พีชคณิตและฟังก์ชัน','name':'ตัวแปรและนิพจน์'},{'category':_0x2531d4(0x7ac),'name':'การกระจายและการจัดหมู่'},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x21b)},{'category':_0x2531d4(0x7ac),'name':'การแยกตัวประกอบ'},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x1f6)},{'category':_0x2531d4(0x7ac),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x2531d4(0x7ac),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x575)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2531d4(0x234)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2531d4(0x7e9)},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x1dd)},{'category':_0x2531d4(0x7ac),'name':'สมการลอการิทึม'},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x66d)},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x716)},{'category':_0x2531d4(0x7ac),'name':'ระบบอสมการ'},{'category':_0x2531d4(0x7ac),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':'โดเมนและเรนจ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2531d4(0x6f4)},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x7d6)},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x656)},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x440)},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x3e9)},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x4cb)},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x47d)},{'category':_0x2531d4(0x7ac),'name':'ฟังก์ชันราก\x20(root)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2531d4(0x26f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2531d4(0x5f7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2531d4(0x739)},{'category':_0x2531d4(0x7ac),'name':'ฟังก์ชันลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2531d4(0x2d5)},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x2f1)},{'category':_0x2531d4(0x7ac),'name':_0x2531d4(0x492)},{'category':_0x2531d4(0x7ac),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x2531d4(0x48b)},{'category':_0x2531d4(0x28a),'name':_0x2531d4(0x4db)},{'category':_0x2531d4(0x28a),'name':_0x2531d4(0x60c)},{'category':_0x2531d4(0x28a),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x2531d4(0x28a),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x2531d4(0x28a),'name':_0x2531d4(0x70f)},{'category':_0x2531d4(0x28a),'name':_0x2531d4(0x74c)},{'category':_0x2531d4(0x28a),'name':_0x2531d4(0x79d)},{'category':_0x2531d4(0x28a),'name':'วงรี'},{'category':_0x2531d4(0x28a),'name':_0x2531d4(0x24c)},{'category':_0x2531d4(0x3e0),'name':_0x2531d4(0x3f7)},{'category':_0x2531d4(0x3e0),'name':_0x2531d4(0x3d8)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x2531d4(0x3e0),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x2531d4(0x3e0),'name':_0x2531d4(0x436)},{'category':'ตรีโกณมิติ','name':_0x2531d4(0x5e0)},{'category':_0x2531d4(0x3e0),'name':_0x2531d4(0x2a0)},{'category':'ตรีโกณมิติ','name':_0x2531d4(0x2c6)},{'category':'ตรีโกณมิติ','name':_0x2531d4(0x311)},{'category':_0x2531d4(0x3e0),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x2531d4(0x3e0),'name':_0x2531d4(0x709)},{'category':_0x2531d4(0x318),'name':_0x2531d4(0x6e3)},{'category':_0x2531d4(0x318),'name':_0x2531d4(0x652)},{'category':'สถิติและความน่าจะเป็น','name':'ตารางความถี่'},{'category':'สถิติและความน่าจะเป็น','name':_0x2531d4(0x3f2)},{'category':_0x2531d4(0x318),'name':_0x2531d4(0x5e6)},{'category':_0x2531d4(0x318),'name':_0x2531d4(0x41a)},{'category':_0x2531d4(0x318),'name':'ค่าเฉลี่ย'},{'category':_0x2531d4(0x318),'name':_0x2531d4(0x223)},{'category':'สถิติและความน่าจะเป็น','name':_0x2531d4(0x266)},{'category':'สถิติและความน่าจะเป็น','name':_0x2531d4(0x69d)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x2531d4(0x318),'name':_0x2531d4(0x717)},{'category':_0x2531d4(0x318),'name':_0x2531d4(0x243)},{'category':'สถิติและความน่าจะเป็น','name':_0x2531d4(0x6c8)},{'category':_0x2531d4(0x318),'name':_0x2531d4(0x301)},{'category':_0x2531d4(0x318),'name':_0x2531d4(0x63a)},{'category':_0x2531d4(0x318),'name':_0x2531d4(0x73f)},{'category':'สถิติและความน่าจะเป็น','name':_0x2531d4(0x4e1)},{'category':'สถิติและความน่าจะเป็น','name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x2531d4(0x318),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x2531d4(0x318),'name':_0x2531d4(0x781)},{'category':_0x2531d4(0x318),'name':_0x2531d4(0x7cb)},{'category':_0x2531d4(0x318),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x2531d4(0x318),'name':_0x2531d4(0x40d)},{'category':_0x2531d4(0x7d5),'name':_0x2531d4(0x6ed)},{'category':_0x2531d4(0x7d5),'name':_0x2531d4(0x235)},{'category':_0x2531d4(0x7d5),'name':_0x2531d4(0x557)},{'category':'แคลคูลัสเบื้องต้น','name':_0x2531d4(0x1d2)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x2531d4(0x7d5),'name':_0x2531d4(0x29f)},{'category':_0x2531d4(0x7d5),'name':_0x2531d4(0x534)},{'category':_0x2531d4(0x7d5),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x2531d4(0x7d5),'name':_0x2531d4(0x54e)},{'category':_0x2531d4(0x7d5),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0x2531d4(0x7d5),'name':'ปริพันธ์จำกัด'},{'category':_0x2531d4(0x7d5),'name':_0x2531d4(0x5ba)},{'category':_0x2531d4(0x7d5),'name':_0x2531d4(0x406)},{'category':_0x2531d4(0x6db),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x2531d4(0x6db),'name':'ดอทโปรดักต์\x20(dot)'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x2531d4(0x2ab)},{'category':_0x2531d4(0x6db),'name':_0x2531d4(0x6b6)},{'category':_0x2531d4(0x6db),'name':_0x2531d4(0x412)},{'category':_0x2531d4(0x6db),'name':_0x2531d4(0x364)},{'category':_0x2531d4(0x6db),'name':_0x2531d4(0x700)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x2531d4(0x2fb)},{'category':_0x2531d4(0x4e8),'name':_0x2531d4(0x615)},{'category':_0x2531d4(0x4e8),'name':_0x2531d4(0x54f)},{'category':_0x2531d4(0x4e8),'name':'ค่าเสื่อมราคา'},{'category':_0x2531d4(0x4e8),'name':_0x2531d4(0x215)},{'category':_0x2531d4(0x6e7),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x2531d4(0x6e7),'name':_0x2531d4(0x4bf)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x434fc4=_0x2531d4,_0x59103f=document[_0x434fc4(0x2e3)](_0x434fc4(0x295));if(!_0x59103f)return;const _0x126144=allMathTopics,_0x3499dd=customMathTopics['map'](_0xb4ca0c=>({'id':_0xb4ca0c['id'],'category':_0x434fc4(0x751),'name':_0xb4ca0c[_0x434fc4(0x35d)]})),_0x48d071=[..._0x126144,..._0x3499dd],_0x49aeda=_0x48d071[_0x434fc4(0x5fb)]((_0x705381,_0x5048fb)=>{const _0x3c877f=_0x434fc4;return!_0x705381[_0x5048fb['category']]&&(_0x705381[_0x5048fb['category']]=[]),_0x705381[_0x5048fb[_0x3c877f(0x238)]]['push'](_0x5048fb),_0x705381;},{});let _0xf2c294='';const _0x24c544=[_0x434fc4(0x751),...Object[_0x434fc4(0x6e5)](_0x49aeda)['filter'](_0x56cb81=>_0x56cb81!==_0x434fc4(0x751))];for(const _0x2837cf of _0x24c544){if(_0x49aeda[_0x2837cf]){const _0x25c687=_0x2837cf===_0x434fc4(0x751),_0x16f9bb=_0x25c687?_0x434fc4(0x432):_0x434fc4(0x6d7),_0x279bae=_0x25c687?_0x434fc4(0x799):_0x434fc4(0x23d);_0xf2c294+=_0x434fc4(0x2de),_0xf2c294+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x279bae+_0x434fc4(0x332)+_0x16f9bb+_0x434fc4(0x65e)+_0x2837cf+_0x434fc4(0x179),_0x49aeda[_0x2837cf][_0x434fc4(0x676)](_0x5312f9=>{const _0x1622c3=_0x434fc4,_0x109eb7=!!_0x5312f9['id'],_0x3acd31=_0x109eb7?_0x1622c3(0x209)+_0x5312f9['id']+_0x1622c3(0x232)+_0x5312f9['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5312f9['id']+_0x1622c3(0x16c)+_0x5312f9['id']+_0x1622c3(0x228):'';_0xf2c294+=_0x1622c3(0x1e5)+(_0x5312f9['id']||'')+_0x1622c3(0x499)+_0x5312f9[_0x1622c3(0x35d)]+_0x1622c3(0x80c)+_0x5312f9['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x109eb7?_0x1622c3(0x190)+_0x5312f9[_0x1622c3(0x35d)]+'\x22>':'')+_0x1622c3(0x80d)+_0x3acd31+_0x1622c3(0x1dc);}),_0xf2c294+=_0x434fc4(0x61b);}}_0x59103f[_0x434fc4(0x3fe)]=_0xf2c294||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x59103f['removeEventListener'](_0x434fc4(0x4c3),updateSelectedTopicsCount),_0x59103f['addEventListener'](_0x434fc4(0x4c3),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x3acf9,_0xfd8484){const _0x50b0dd=_0x2531d4;if(!_0x3acf9||!_0xfd8484[_0x50b0dd(0x1f8)]()){showMessage(_0x50b0dd(0x2d9));return;}try{const _0x5b63ea=doc(db,'artifacts/'+appId+_0x50b0dd(0x498),_0x3acf9);await updateDoc(_0x5b63ea,{'name':_0xfd8484[_0x50b0dd(0x1f8)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x3a82bf){console[_0x50b0dd(0x3f0)](_0x50b0dd(0x5e5),_0x3a82bf),showMessage(_0x50b0dd(0x250));}}function toggleTopicEditMode(_0x15881c,_0x3eee9d){const _0xaa4b47=_0x2531d4;if(!_0x15881c)return;const _0x5ca70c=_0x15881c['querySelector'](_0xaa4b47(0x39f)),_0x109d05=_0x15881c['querySelector'](_0xaa4b47(0x34c)),_0x10386d=_0x15881c[_0xaa4b47(0x71c)](_0xaa4b47(0x77e)),_0x2af58f=_0x15881c[_0xaa4b47(0x71c)](_0xaa4b47(0x2eb));_0x5ca70c[_0xaa4b47(0x52e)][_0xaa4b47(0x6f3)](_0xaa4b47(0x47f),_0x3eee9d),_0x109d05[_0xaa4b47(0x52e)][_0xaa4b47(0x6f3)](_0xaa4b47(0x47f),!_0x3eee9d),_0x10386d['classList'][_0xaa4b47(0x6f3)](_0xaa4b47(0x47f),_0x3eee9d),_0x2af58f[_0xaa4b47(0x52e)]['toggle'](_0xaa4b47(0x47f),!_0x3eee9d),_0x3eee9d&&(_0x109d05[_0xaa4b47(0x648)](),_0x109d05['select']());}function updateSelectedTopicsCount(){const _0x34a547=_0x2531d4,_0x51df7b=document[_0x34a547(0x2e3)](_0x34a547(0x295)),_0x4a385c=_0x51df7b['querySelectorAll'](_0x34a547(0x40f))['length'],_0x5cf1b9=document[_0x34a547(0x2e3)]('selected-topics-count');_0x4a385c>0x0?_0x5cf1b9[_0x34a547(0x3d7)]=_0x34a547(0x4f5)+_0x4a385c+_0x34a547(0x3c1):_0x5cf1b9[_0x34a547(0x3d7)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x2531d4(0x1d9),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x2531d4(0x727),quizLeaderboardSortOrder=_0x2531d4(0x2cb),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x2531d4(0x1bf),'name':_0x2531d4(0x40b),'description':_0x2531d4(0x280),'icon':_0x2531d4(0x803)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x2531d4(0x4d9),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x2531d4(0x25e)},'ON_FIRE':{'id':_0x2531d4(0x560),'name':_0x2531d4(0x176),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x2531d4(0x208)},'FIRST_TRY_ACE':{'id':_0x2531d4(0x7b4),'name':_0x2531d4(0x80b),'description':_0x2531d4(0x74b),'icon':_0x2531d4(0x361)},'COMEBACK_KING':{'id':_0x2531d4(0x64a),'name':_0x2531d4(0x5ca),'description':_0x2531d4(0x19b),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x2531d4(0x191),'name':_0x2531d4(0x6af),'description':_0x2531d4(0x584),'icon':_0x2531d4(0x2d2)},'PERSEVERANCE':{'id':'perseverance','name':_0x2531d4(0x79f),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x2531d4(0x284)}},firebaseConfig={'apiKey':_0x2531d4(0x445),'authDomain':_0x2531d4(0x760),'projectId':_0x2531d4(0x49c),'storageBucket':_0x2531d4(0x577),'messagingSenderId':_0x2531d4(0x26b),'appId':_0x2531d4(0x74d),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x2531d4(0x2f2)?__app_id:_0x2531d4(0x298),adminView=document['getElementById'](_0x2531d4(0x81c)),studentView=document[_0x2531d4(0x2e3)](_0x2531d4(0x533)),projectDashboardView=document[_0x2531d4(0x2e3)](_0x2531d4(0x40a)),projectDetailView=document[_0x2531d4(0x2e3)](_0x2531d4(0x7b7)),quizResultsView=document['getElementById'](_0x2531d4(0x5b1)),projectList=document['getElementById'](_0x2531d4(0x7c5)),noProjectsMsg=document[_0x2531d4(0x2e3)](_0x2531d4(0x4f1)),projectTitle=document[_0x2531d4(0x2e3)]('project-title'),projectIdDisplay=document[_0x2531d4(0x2e3)](_0x2531d4(0x31b)),studentList=document[_0x2531d4(0x2e3)]('student-list'),messageModal=document[_0x2531d4(0x2e3)](_0x2531d4(0x27d)),modalMessage=document[_0x2531d4(0x2e3)](_0x2531d4(0x1a2)),createProjectModal=document[_0x2531d4(0x2e3)](_0x2531d4(0x3eb)),adminPasswordModal=document[_0x2531d4(0x2e3)]('admin-password-modal'),confirmationModal=document['getElementById']('confirmation-modal'),userIdDisplay=document[_0x2531d4(0x2e3)]('user-id-display'),topicTab=document['getElementById'](_0x2531d4(0x6fa)),textTab=document[_0x2531d4(0x2e3)](_0x2531d4(0x6b2)),topicInputArea=document[_0x2531d4(0x2e3)](_0x2531d4(0x2ee)),textInputArea=document[_0x2531d4(0x2e3)]('text-input-area'),manageTab=document[_0x2531d4(0x2e3)]('manage-tab'),resultsTab=document[_0x2531d4(0x2e3)](_0x2531d4(0x6c7)),leaderboardTab=document[_0x2531d4(0x2e3)]('leaderboard-tab'),manageTabContent=document['getElementById'](_0x2531d4(0x6ae)),resultsTabContent=document[_0x2531d4(0x2e3)](_0x2531d4(0x42f)),leaderboardTabContent=document[_0x2531d4(0x2e3)](_0x2531d4(0x516)),projectQuizzesList=document[_0x2531d4(0x2e3)](_0x2531d4(0x6aa)),fileTab=document[_0x2531d4(0x2e3)](_0x2531d4(0x735)),fileInputArea=document[_0x2531d4(0x2e3)](_0x2531d4(0x7bc)),fileUploadInput=document[_0x2531d4(0x2e3)]('file-upload-input'),worksheetTab=document[_0x2531d4(0x2e3)](_0x2531d4(0x4a1)),worksheetInputArea=document[_0x2531d4(0x2e3)](_0x2531d4(0x458)),generateWorksheetBtn=document[_0x2531d4(0x2e3)](_0x2531d4(0x350)),studentInitialView=document['getElementById'](_0x2531d4(0x5d2)),studentNameSelectionView=document[_0x2531d4(0x2e3)]('student-name-selection-view'),studentQuizArea=document[_0x2531d4(0x2e3)](_0x2531d4(0x1a4)),studentResultArea=document['getElementById'](_0x2531d4(0x738)),studentReadingArea=document[_0x2531d4(0x2e3)](_0x2531d4(0x7d0)),loadQuizBtn=document[_0x2531d4(0x2e3)](_0x2531d4(0x7ce)),startQuizBtn=document[_0x2531d4(0x2e3)](_0x2531d4(0x1de)),studentJoinGameView=document[_0x2531d4(0x2e3)]('student-join-game-view'),presentationModal=document[_0x2531d4(0x2e3)](_0x2531d4(0x3b6)),renameQuizModal=document[_0x2531d4(0x2e3)](_0x2531d4(0x24f)),moveQuizModal=document['getElementById'](_0x2531d4(0x4f8)),quizSettingsModal=document[_0x2531d4(0x2e3)](_0x2531d4(0x4fa)),quizStatusModal=document['getElementById'](_0x2531d4(0x4c9)),liveGameView=document['getElementById']('live-game-view');function handleAutoFixLatex(){const _0x3c55a5=_0x2531d4,_0x5a92a3=document[_0x3c55a5(0x2e3)]('quiz-editor-questions-container')||document,_0x14f119=_0x5a92a3[_0x3c55a5(0x1e7)](['textarea','input[type=\x22text\x22]',_0x3c55a5(0x33c),'[role=\x22textbox\x22]',_0x3c55a5(0x3b1),_0x3c55a5(0x286),_0x3c55a5(0x32b),_0x3c55a5(0x76f),_0x3c55a5(0x543)][_0x3c55a5(0x828)](','));let _0x5d4670=0x0;const _0xa156d1=_0x47e34c=>_0x3c55a5(0x6f0)in _0x47e34c?String(_0x47e34c[_0x3c55a5(0x6f0)]):_0x47e34c[_0x3c55a5(0x527)]!==undefined?_0x47e34c[_0x3c55a5(0x527)]:_0x47e34c[_0x3c55a5(0x3d7)]||'',_0x27c683=(_0x33403c,_0x5e37f1)=>{const _0x1ec65f=_0x3c55a5;if(_0x1ec65f(0x6f0)in _0x33403c){_0x33403c['value']=_0x5e37f1;return;}if(_0x33403c[_0x1ec65f(0x71c)]&&_0x33403c['querySelector'](_0x1ec65f(0x476)))return;if(_0x33403c[_0x1ec65f(0x527)]!==undefined)_0x33403c[_0x1ec65f(0x527)]=_0x5e37f1;else _0x33403c[_0x1ec65f(0x3d7)]=_0x5e37f1;},_0x4d6198=_0x22350f=>_0x22350f[_0x3c55a5(0x69c)](/\u00A0/g,'\x20')[_0x3c55a5(0x69c)](/\u200B/g,'')[_0x3c55a5(0x69c)](/\r\n?/g,'\x0a'),_0x15e275=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x2c7bbd=_0x425f9c=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x3c55a5(0x2f8)](_0x425f9c),_0x115d71=_0x5ec73f=>{const _0x1d2416=_0x3c55a5,_0x173fc9=(_0x5ec73f[_0x1d2416(0x32e)](/\{/g)||[])[_0x1d2416(0x7ca)],_0x14fb48=(_0x5ec73f[_0x1d2416(0x32e)](/\}/g)||[])[_0x1d2416(0x7ca)];if(_0x173fc9>_0x14fb48)_0x5ec73f=_0x5ec73f+'}'[_0x1d2416(0x363)](_0x173fc9-_0x14fb48);return _0x5ec73f;},_0x3a3f9a=_0x408c9b=>{const _0x29b4dd=_0x3c55a5;let _0x59f2aa=_0x408c9b[_0x29b4dd(0x1f8)]();const _0x1695cf=[_0x29b4dd(0x399),_0x29b4dd(0x63d),'tfrac',_0x29b4dd(0x252),_0x29b4dd(0x31a),_0x29b4dd(0x195),_0x29b4dd(0x4ab),_0x29b4dd(0x5b7),_0x29b4dd(0x5df),_0x29b4dd(0x6d6),'le','ge',_0x29b4dd(0x80a),'pm','approx',_0x29b4dd(0x7d8),_0x29b4dd(0x1b1),'tan',_0x29b4dd(0x6ee),'ln',_0x29b4dd(0x64e),_0x29b4dd(0x56b),_0x29b4dd(0x7fa),'left',_0x29b4dd(0x393),'overline',_0x29b4dd(0x537),_0x29b4dd(0x669),_0x29b4dd(0x2d3)];_0x59f2aa=_0x59f2aa[_0x29b4dd(0x69c)](new RegExp(_0x29b4dd(0x5c3)+_0x1695cf[_0x29b4dd(0x828)]('|')+_0x29b4dd(0x369),'g'),'\x5c'),_0x1695cf[_0x29b4dd(0x676)](_0x2928fb=>{const _0x1a26ae=_0x29b4dd;_0x59f2aa=_0x59f2aa['replace'](new RegExp(_0x1a26ae(0x224)+_0x2928fb+'\x5cb','g'),(_0x544a8b,_0x9ba153)=>_0x9ba153+'\x5c'+_0x2928fb);});const _0x1051c4=[[/×/g,_0x29b4dd(0x314)],[/·/g,_0x29b4dd(0x7e5)],[/÷/g,_0x29b4dd(0x632)],[/≤/g,_0x29b4dd(0x601)],[/≥/g,_0x29b4dd(0x312)],[/≠/g,'\x5cneq'],[/±/g,_0x29b4dd(0x273)],[/∑/g,_0x29b4dd(0x651)],[/−/g,'-']];_0x1051c4[_0x29b4dd(0x676)](([_0x380b57,_0x890d83])=>{_0x59f2aa=_0x59f2aa['replace'](_0x380b57,_0x890d83);}),_0x59f2aa=_0x59f2aa['replace'](/√\s*\(([^)]*)\)/g,_0x29b4dd(0x448)),_0x59f2aa=_0x59f2aa[_0x29b4dd(0x69c)](/√\s*([A-Za-z0-9]+)/g,_0x29b4dd(0x448)),_0x59f2aa=_0x59f2aa['replace'](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x29b4dd(0x69c)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x29b4dd(0x1cd))[_0x29b4dd(0x69c)](/(^|[^\\])ext\{/g,'$1\x5ctext{')[_0x29b4dd(0x69c)](/(^|[^\\])ext\(/g,_0x29b4dd(0x7d4))[_0x29b4dd(0x69c)](/\\text\(([^)]*)\)/g,_0x29b4dd(0x6f1))['replace'](/\s\\frac/g,_0x29b4dd(0x248)),_0x59f2aa=_0x59f2aa['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x37d20c,_0x20f432,_0x502639,_0x11ed6a)=>_0x20f432+_0x29b4dd(0x300)+_0x502639+'}{'+_0x11ed6a+'}'),_0x59f2aa=_0x59f2aa['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x29b4dd(0x3a7))['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,'\x5cfrac{$1}{$2}')[_0x29b4dd(0x69c)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x29b4dd(0x3a7)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x29b4dd(0x2ac)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x29b4dd(0x2ac)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x29b4dd(0x2ac)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,_0x29b4dd(0x2ac)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x29b4dd(0x650)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x29b4dd(0x2ac)]][_0x29b4dd(0x676)](([_0x56ed6e,_0x5ce753])=>{const _0xa22cc0=_0x29b4dd;_0x59f2aa=_0x59f2aa[_0xa22cc0(0x69c)](_0x56ed6e,_0x5ce753);}),_0x59f2aa=_0x59f2aa[_0x29b4dd(0x69c)](/(\d+)\s*%/g,_0x29b4dd(0x469)),_0x59f2aa=_0x59f2aa['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x29b4dd(0x774))[_0x29b4dd(0x69c)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0x29b4dd(0x69c)](/\{\{([^\{\}]+)\}\}/g,_0x29b4dd(0x82a)),['sin','cos','tan',_0x29b4dd(0x6ee),'ln'][_0x29b4dd(0x676)](_0x5a10e5=>{const _0x5ce0f6=_0x29b4dd;_0x59f2aa=_0x59f2aa[_0x5ce0f6(0x69c)](new RegExp(_0x5ce0f6(0x224)+_0x5a10e5+'\x5cs*\x5c(','g'),(_0x36e7b2,_0x520584)=>_0x520584+'\x5c'+_0x5a10e5+'(');});const _0x8ed909=(_0x59f2aa[_0x29b4dd(0x32e)](/\\left\b/g)||[])[_0x29b4dd(0x7ca)],_0x45f9cb=(_0x59f2aa['match'](/\\right\b/g)||[])[_0x29b4dd(0x7ca)];if(_0x8ed909!==_0x45f9cb)_0x59f2aa=_0x59f2aa['replace'](/\\left\b/g,'')[_0x29b4dd(0x69c)](/\\right\b/g,'');return _0x59f2aa=_0x115d71(_0x59f2aa),_0x59f2aa;},_0x4b35b6=_0x1cc25f=>{const _0x16d6ee=_0x3c55a5;if(/\$|\\\(|\\\[/[_0x16d6ee(0x2f8)](_0x1cc25f))return _0x1cc25f;if(!_0x15e275[_0x16d6ee(0x2f8)](_0x1cc25f))return _0x1cc25f;const _0x5ae661=_0x1cc25f['match'](/^\s*/)[0x0],_0x396d35=_0x1cc25f['match'](/\s*$/)[0x0],_0x22c9b2=_0x1cc25f[_0x16d6ee(0x1f8)]();return _0x5ae661+'$'+_0x3a3f9a(_0x22c9b2)+'$'+_0x396d35;},_0x598e13=_0x286c82=>_0x286c82[_0x3c55a5(0x1b3)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x14f119['forEach'](_0x37d530=>{const _0xafe547=_0x3c55a5;if(_0x37d530[_0xafe547(0x71c)]&&_0x37d530['querySelector'](_0xafe547(0x476)))return;const _0x1afe6c=_0xa156d1(_0x37d530);let _0x5f48ca=_0x4d6198(_0x1afe6c);_0x5f48ca=_0x5f48ca[_0xafe547(0x69c)](/\$\$([\s\S]*?)\$\$/g,(_0xc2c0c0,_0x16cce1)=>'$$'+_0x3a3f9a(_0x16cce1)+'$$')[_0xafe547(0x69c)](/\$([^$]*?)\$/g,(_0xd928f1,_0xd5c210)=>'$'+_0x3a3f9a(_0xd5c210)+'$')[_0xafe547(0x69c)](/\\\(([\s\S]*?)\\\)/g,(_0x419f98,_0x443a16)=>'\x5c('+_0x3a3f9a(_0x443a16)+'\x5c)')[_0xafe547(0x69c)](/\\\[([\s\S]*?)\\\]/g,(_0x1e526e,_0x32eca7)=>'\x5c['+_0x3a3f9a(_0x32eca7)+'\x5c]');let _0x254b86=_0x5f48ca,_0x21ab23=0x0;const _0x27fb7d=_0x1d40ab=>_0x1d40ab[_0xafe547(0x69c)](/S([^S]{0,2000}?)S/g,(_0x369ac3,_0x110ef2)=>_0x15e275[_0xafe547(0x2f8)](_0x110ef2)?'$'+_0x3a3f9a(_0x110ef2)+'$':_0x369ac3);while(_0x21ab23++<0x14){const _0x5be7c9=_0x27fb7d(_0x254b86);if(_0x5be7c9===_0x254b86)break;_0x254b86=_0x5be7c9;}_0x5f48ca=_0x254b86,_0x5f48ca=_0x5f48ca['split']('\x0a')[_0xafe547(0x70b)](_0x5b13b1=>{const _0x41f5ff=_0xafe547;if(!(/[,\u3001，;；]/['test'](_0x5b13b1)||/\s(?:และ|หรือ)\s/[_0x41f5ff(0x2f8)](_0x5b13b1))||!_0x15e275['test'](_0x5b13b1))return _0x5b13b1;return _0x598e13(_0x5b13b1)[_0x41f5ff(0x70b)](_0x29d4a7=>{const _0x2e5142=_0x41f5ff;if(/^\s(?:และ|หรือ)\s$/[_0x2e5142(0x2f8)](_0x29d4a7)||/^[,\u3001，;；]$/[_0x2e5142(0x2f8)](_0x29d4a7))return _0x29d4a7;return _0x4b35b6(_0x29d4a7);})[_0x41f5ff(0x828)]('');})[_0xafe547(0x828)]('\x0a'),_0x5f48ca=_0x5f48ca['split']('\x0a')[_0xafe547(0x70b)](_0x4d3adf=>{const _0x2bfbee=_0xafe547,_0x186d9c=_0x4d3adf['trim']();if(!_0x186d9c)return _0x4d3adf;const _0x418340=/\$|\\\(|\\\[/[_0x2bfbee(0x2f8)](_0x186d9c),_0x137a44=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x2bfbee(0x2f8)](_0x186d9c);if(_0x418340||!_0x137a44||_0x2c7bbd(_0x186d9c))return _0x4d3adf;return _0x4d3adf[_0x2bfbee(0x69c)](_0x186d9c,'$'+_0x3a3f9a(_0x186d9c)+'$');})['join']('\x0a'),_0x5f48ca=_0x5f48ca[_0xafe547(0x69c)](/(\d+)\s*°\s*C\b/g,(_0x582a84,_0x3681f7,_0x5703b3,_0xeb0785)=>{const _0x3956a1=_0xafe547,_0x111c95=_0xeb0785[_0x5703b3-0x1];if(_0x111c95==='$'||_0x111c95==='S'||_0x111c95==='\x5c')return _0x582a84;return'$'+_0x3681f7+_0x3956a1(0x333);})[_0xafe547(0x69c)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x5c8a32,_0x1b926b,_0x5ef660,_0x50eb19)=>{const _0x574aec=_0xafe547,_0x512a69=_0x50eb19[_0x5ef660-0x1];if(_0x512a69==='$'||_0x512a69==='S'||_0x512a69==='\x5c')return _0x5c8a32;return'$'+_0x1b926b+_0x574aec(0x333);})[_0xafe547(0x69c)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0xe2d467,_0x773dee,_0x41a953,_0x137c99)=>{const _0x27922a=_0x137c99[_0x41a953-0x1];if(_0x27922a==='$'||_0x27922a==='S'||_0x27922a==='\x5c')return _0xe2d467;return'$'+_0x773dee+'^{\x5ccirc}\x5ctext{C}$';}),_0x5f48ca=_0x5f48ca[_0xafe547(0x69c)](/\$\s*\$/g,'$$'),_0x5f48ca!==_0x1afe6c&&(_0x27c683(_0x37d530,_0x5f48ca),_0x5d4670++);});if(_0x5d4670>0x0){showMessage(_0x3c55a5(0x3ed)+_0x5d4670+'\x20ช่อง');try{if(window[_0x3c55a5(0x39d)]&&MathJax[_0x3c55a5(0x61e)])MathJax[_0x3c55a5(0x61e)]();window[_0x3c55a5(0x64f)]&&typeof renderMathInElement===_0x3c55a5(0x51b)&&renderMathInElement(_0x5a92a3,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x38414a){}}else showMessage(_0x3c55a5(0x27e));}async function listenForCustomMathTopics(){const _0x4ec0ed=_0x2531d4,_0x523423=collection(db,_0x4ec0ed(0x4ed)+appId+_0x4ec0ed(0x498));onSnapshot(_0x523423,_0x1b6386=>{const _0x5897e2=_0x4ec0ed;customMathTopics=_0x1b6386[_0x5897e2(0x446)]['map'](_0x51ca96=>({'id':_0x51ca96['id'],..._0x51ca96['data']()})),renderTopicCheckboxes();},_0x1c553b=>{const _0x2ca360=_0x4ec0ed;console[_0x2ca360(0x3f0)](_0x2ca360(0x331),_0x1c553b);});}function handleSelectAllTopics(){const _0x2db8c1=_0x2531d4,_0x301f94=document[_0x2db8c1(0x2e3)]('math-topics-checkbox-container'),_0x442670=_0x301f94['querySelectorAll'](_0x2db8c1(0x2af));_0x442670[_0x2db8c1(0x676)](_0x5829df=>{const _0x4e13b0=_0x2db8c1;_0x5829df[_0x4e13b0(0x7ad)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2e0bb1=_0x2531d4,_0x4c37b2=document[_0x2e0bb1(0x2e3)]('math-topics-checkbox-container'),_0x454a7c=_0x4c37b2[_0x2e0bb1(0x1e7)]('input[type=\x22checkbox\x22]');_0x454a7c['forEach'](_0x59b324=>{const _0x492180=_0x2e0bb1;_0x59b324[_0x492180(0x7ad)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x52e020){const _0x63ead6=_0x2531d4;if(!_0x52e020)return;try{const _0xb208d3=doc(db,_0x63ead6(0x4ed)+appId+_0x63ead6(0x498),_0x52e020);await deleteDoc(_0xb208d3),showMessage(_0x63ead6(0x62c));}catch(_0x4effc3){console[_0x63ead6(0x3f0)](_0x63ead6(0x4b5),_0x4effc3),showMessage(_0x63ead6(0x7c2));}}async function handleAddCustomMathTopic(){const _0x39827b=_0x2531d4,_0x473725=document[_0x39827b(0x2e3)](_0x39827b(0x4ba)),_0x2805b5=_0x473725[_0x39827b(0x6f0)][_0x39827b(0x1f8)]();if(!_0x2805b5){showMessage(_0x39827b(0x603));return;}if(!userId){showMessage(_0x39827b(0x42b));return;}try{const _0x4ff965=collection(db,_0x39827b(0x4ed)+appId+'/public/data/customMathTopics');await addDoc(_0x4ff965,{'name':_0x2805b5,'createdAt':serverTimestamp()}),_0x473725[_0x39827b(0x6f0)]='',showMessage(_0x39827b(0x5c4)+_0x2805b5+'\x22\x20สำเร็จ');}catch(_0x21cded){console[_0x39827b(0x3f0)](_0x39827b(0x33d),_0x21cded),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function initialize(){const _0x52919e=_0x2531d4;try{const _0x5ac63b=initializeApp(firebaseConfig);db=getFirestore(_0x5ac63b),auth=getAuth(_0x5ac63b),setupAuthListener(),setupEventListeners(),showView(_0x52919e(0x1d9)),renderTopicCheckboxes();}catch(_0x592b9c){console[_0x52919e(0x3f0)](_0x52919e(0x2fe),_0x592b9c),showMessage(_0x52919e(0x629));}}function compareNumericalAnswers(_0x47f222,_0x126483){const _0x46b2da=_0x2531d4,_0xbc897c=String(_0x47f222)[_0x46b2da(0x69c)](',','.')['replace'](/[^\d.-]/g,'')['trim'](),_0xa9f91e=String(_0x126483)[_0x46b2da(0x69c)](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0xbc897c===''||_0xa9f91e==='')return![];const _0x54e444=parseFloat(_0xbc897c),_0x19708a=parseFloat(_0xa9f91e);if(isNaN(_0x54e444)||isNaN(_0x19708a))return![];return Math['abs'](_0x54e444-_0x19708a)<0.001;}async function gradeShortAnswer(_0x3abd98,_0x49910c){const _0x2c25f3=_0x2531d4,_0x6677b9=_0x49910c[_0x2c25f3(0x1c5)];if(String(_0x3abd98)[_0x2c25f3(0x1f8)]()['toLowerCase']()===String(_0x6677b9)[_0x2c25f3(0x1f8)]()[_0x2c25f3(0x6f9)]())return!![];if(compareNumericalAnswers(_0x3abd98,_0x6677b9))return!![];return console[_0x2c25f3(0x6ee)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x3abd98,_0x6677b9);}async function revealAnswerForAdmin(_0x2f1956,_0x21e0ec){const _0xb7f571=_0x2531d4;if(document[_0xb7f571(0x2e3)]('next-live-question-btn'))return;const _0x1df93e=doc(db,'artifacts/'+appId+_0xb7f571(0x2dd),currentLiveGameId);await updateDoc(_0x1df93e,{'questionStatus':_0xb7f571(0x513)});const _0x451754=liveGameView['querySelector'](_0xb7f571(0x800));_0x451754&&(_0x451754[_0xb7f571(0x52e)][_0xb7f571(0x3cf)](_0xb7f571(0x695)),_0x451754[_0xb7f571(0x52e)][_0xb7f571(0x813)](_0xb7f571(0x3ae),_0xb7f571(0x202),'font-bold','border-4',_0xb7f571(0x192)),_0x451754[_0xb7f571(0x3fe)]=_0xb7f571(0x390)+_0x451754['innerHTML']);const _0x3a0381=document['getElementById'](_0xb7f571(0x317));_0x3a0381&&(_0x3a0381[_0xb7f571(0x3fe)]=_0xb7f571(0x219)+(_0x2f1956+0x1===_0x21e0ec?_0xb7f571(0x6eb):_0xb7f571(0x783))+_0xb7f571(0x5c6),document['getElementById']('next-live-question-btn')[_0xb7f571(0x270)](_0xb7f571(0x429),async()=>{const _0x36550d=_0xb7f571,_0x4ce93f=doc(db,_0x36550d(0x4ed)+appId+_0x36550d(0x2dd),currentLiveGameId),_0x21414f=await getDoc(_0x4ce93f);if(!_0x21414f[_0x36550d(0x3a1)]())return;const _0x53354b=_0x21414f['data'](),_0x2f8ea6={};if(_0x53354b[_0x36550d(0x447)])for(const _0x2d159a in _0x53354b[_0x36550d(0x447)]){_0x2f8ea6['players.'+_0x2d159a+_0x36550d(0x7bb)]=![];}const _0x5bb9dd=_0x2f1956+0x1;_0x5bb9dd<_0x21e0ec?(_0x2f8ea6[_0x36550d(0x4e9)]=_0x5bb9dd,_0x2f8ea6[_0x36550d(0x1f5)]=serverTimestamp(),_0x2f8ea6[_0x36550d(0x7ea)]=_0x36550d(0x6c9),await updateDoc(_0x4ce93f,_0x2f8ea6)):await updateDoc(_0x4ce93f,{'status':'podium'});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x33deab=>{if(_0x33deab){userId=_0x33deab['uid'],userIdDisplay['textContent']=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}function showPodiumView(_0x153b12){const _0x22cc1c=_0x2531d4,_0xa751bc=Object[_0x22cc1c(0x66c)](_0x153b12)[_0x22cc1c(0x70b)](([_0x12a1df,_0x511b73])=>({'name':_0x12a1df,'score':_0x511b73['score']||0x0,'badges':_0x511b73[_0x22cc1c(0x7fb)]||[]}));_0xa751bc[_0x22cc1c(0x201)]((_0x54f0d9,_0x444edb)=>{const _0x25a282=_0x22cc1c,_0x972b4f=_0x444edb['score']-_0x54f0d9[_0x25a282(0x7a7)];if(_0x972b4f!==0x0)return _0x972b4f;return(_0x444edb[_0x25a282(0x7fb)][_0x25a282(0x7ca)]||0x0)-(_0x54f0d9['badges']['length']||0x0);});const _0x309e02=_0x2cd320=>{const _0x217c20=_0x22cc1c;if(!_0x2cd320||_0x2cd320[_0x217c20(0x7ca)]===0x0)return'';const _0x1af942={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x2cd320[_0x217c20(0x70b)](_0x29c71b=>_0x1af942[_0x29c71b]||'')[_0x217c20(0x828)]('')+_0x217c20(0x61b);},_0x58c3cf=_0xa751bc[_0x22cc1c(0x4b4)](0x3),_0x4b741e=_0x58c3cf[_0x22cc1c(0x7ca)]>0x0?_0x22cc1c(0x585)+_0x58c3cf['map']((_0x108521,_0x638c32)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x638c32+0x4)+_0x22cc1c(0x485)+_0x108521[_0x22cc1c(0x35d)]+_0x22cc1c(0x555)+_0x108521[_0x22cc1c(0x7a7)]+_0x22cc1c(0x599))[_0x22cc1c(0x828)]('')+_0x22cc1c(0x702):'',_0x3f0946=_0x22cc1c(0x1cc)+(_0xa751bc[0x1]?_0x22cc1c(0x732)+_0xa751bc[0x1][_0x22cc1c(0x35d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x309e02(_0xa751bc[0x1][_0x22cc1c(0x7fb)])+_0x22cc1c(0x200)+_0xa751bc[0x1]['score']+_0x22cc1c(0x61d):_0x22cc1c(0x454))+_0x22cc1c(0x786)+(_0xa751bc[0x0]?_0x22cc1c(0x594)+_0xa751bc[0x0][_0x22cc1c(0x35d)]+_0x22cc1c(0x4f6)+_0x309e02(_0xa751bc[0x0][_0x22cc1c(0x7fb)])+_0x22cc1c(0x304)+_0xa751bc[0x0][_0x22cc1c(0x7a7)]+_0x22cc1c(0x22c):_0x22cc1c(0x454))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xa751bc[0x2]?_0x22cc1c(0x6c0)+_0xa751bc[0x2][_0x22cc1c(0x35d)]+_0x22cc1c(0x4f6)+_0x309e02(_0xa751bc[0x2]['badges'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0xa751bc[0x2][_0x22cc1c(0x7a7)]+_0x22cc1c(0x5a7):_0x22cc1c(0x454))+_0x22cc1c(0x7e1)+_0x4b741e+_0x22cc1c(0x5f1)+(currentMode==='admin'?_0x22cc1c(0x275):'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x22cc1c(0x391);liveGameView[_0x22cc1c(0x3fe)]=_0x3f0946,currentMode===_0x22cc1c(0x1d6)&&document[_0x22cc1c(0x2e3)](_0x22cc1c(0x66b))[_0x22cc1c(0x270)](_0x22cc1c(0x429),async()=>{const _0x1819bf=_0x22cc1c,_0x17ba21=doc(db,'artifacts/'+appId+_0x1819bf(0x2dd),currentLiveGameId);await deleteDoc(_0x17ba21),showView(_0x1819bf(0x3b4));});}async function handleStartLiveRace(_0x25c330){const _0x2c14e1=_0x2531d4;let _0x44517c=allQuizzes['find'](_0x464057=>_0x464057['id']===_0x25c330);if(!_0x44517c){const _0x46d9a5=doc(db,_0x2c14e1(0x4ed)+appId+_0x2c14e1(0x6e6),_0x25c330),_0x46d3c7=await getDoc(_0x46d9a5);if(!_0x46d3c7['exists']()){showMessage(_0x2c14e1(0x36d));return;}_0x44517c={'id':_0x46d3c7['id'],..._0x46d3c7[_0x2c14e1(0x7b5)]()};}currentQuizData=getShuffledQuiz(_0x44517c);const _0x2f7fe4=_0x44517c[_0x2c14e1(0x1d8)]||currentProjectId||null,_0x549a73=Math['floor'](0x3e8+Math[_0x2c14e1(0x3ba)]()*0x2328)[_0x2c14e1(0x757)]();currentLiveGamePin=_0x549a73;try{const _0x6ba8e8=await addDoc(collection(db,_0x2c14e1(0x4ed)+appId+'/public/data/liveGames'),{'quizId':_0x25c330,'projectId':_0x2f7fe4,'status':_0x2c14e1(0x593),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x549a73,'createdAt':serverTimestamp()});currentLiveGameId=_0x6ba8e8['id'],showAdminLobbyView(_0x549a73,_0x44517c['topic']),listenForLiveGameUpdates();}catch(_0xb760cb){console[_0x2c14e1(0x3f0)]('Error\x20starting\x20live\x20race:',_0xb760cb),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x5676bb=_0x2531d4,_0x45f16a=document[_0x5676bb(0x71c)](_0x5676bb(0x643));_0x45f16a&&(_0x45f16a[_0x5676bb(0x3fe)]=_0x5676bb(0x3c5));const _0x279526=document[_0x5676bb(0x71c)](_0x5676bb(0x38b));_0x279526&&(_0x279526[_0x5676bb(0x3fe)]=_0x5676bb(0x544));const _0x2f2761=document[_0x5676bb(0x2e3)](_0x5676bb(0x433));_0x2f2761[_0x5676bb(0x52e)]['remove'](_0x5676bb(0x47f)),document[_0x5676bb(0x2e3)](_0x5676bb(0x493))[_0x5676bb(0x52a)]=()=>_0x2f2761[_0x5676bb(0x52e)]['add']('hidden');const _0xde99e9=document['getElementById'](_0x5676bb(0x806)),_0x17e8ce=document['getElementById'](_0x5676bb(0x4e5)),_0x2b75b3=document[_0x5676bb(0x2e3)](_0x5676bb(0x81b)),_0x46575=document[_0x5676bb(0x2e3)]('student-project-leaderboard-content');_0xde99e9['onclick']=()=>{const _0x6d9e57=_0x5676bb;_0xde99e9[_0x6d9e57(0x52e)]['add']('active'),_0x17e8ce[_0x6d9e57(0x52e)]['remove'](_0x6d9e57(0x62f)),_0x2b75b3['classList'][_0x6d9e57(0x3cf)]('hidden'),_0x46575[_0x6d9e57(0x52e)]['add'](_0x6d9e57(0x47f));},_0x17e8ce[_0x5676bb(0x52a)]=()=>{const _0x4b4a7a=_0x5676bb;_0x17e8ce[_0x4b4a7a(0x52e)][_0x4b4a7a(0x813)](_0x4b4a7a(0x62f)),_0xde99e9['classList'][_0x4b4a7a(0x3cf)](_0x4b4a7a(0x62f)),_0x46575['classList'][_0x4b4a7a(0x3cf)](_0x4b4a7a(0x47f)),_0x2b75b3[_0x4b4a7a(0x52e)]['add'](_0x4b4a7a(0x47f));};try{const _0x2459a9=collection(db,_0x5676bb(0x4ed)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x5676bb(0x724)),_0x2d0905=await getDocs(_0x2459a9),_0x3db2f2=_0x2d0905[_0x5676bb(0x446)]['map'](_0x3e5707=>_0x3e5707['data']());renderQuizLeaderboard(_0x3db2f2,currentQuizData,_0x5676bb(0x6be));const _0x354eed=collection(db,_0x5676bb(0x4ed)+appId+_0x5676bb(0x46c)+currentQuizData['projectId']+_0x5676bb(0x2d7)),_0x599906=await getDocs(_0x354eed),_0x212af1=_0x599906[_0x5676bb(0x446)]['map'](_0x240609=>_0x240609['data']());renderLeaderboard(_0x212af1,_0x5676bb(0x309));}catch(_0x13a1ec){console[_0x5676bb(0x3f0)](_0x5676bb(0x268),_0x13a1ec),showMessage(_0x5676bb(0x6cd));}}async function handleSaveToBank(_0x5214bb){const _0x45021b=_0x2531d4,_0x3c135c=_0x5214bb[_0x45021b(0x495)],_0x15abff=_0x3c135c[_0x45021b(0x5d8)][_0x45021b(0x421)],_0x5ef456=currentQuizData[_0x45021b(0x2ba)][_0x15abff];if(!userId){showMessage(_0x45021b(0x313));return;}try{const _0x1de549={..._0x5ef456,'originalTopic':currentQuizData[_0x45021b(0x521)],'savedAt':serverTimestamp()},_0x2bd60f=collection(db,_0x45021b(0x4ed)+appId+_0x45021b(0x357)+userId+_0x45021b(0x5c2));await addDoc(_0x2bd60f,_0x1de549),showMessage(_0x45021b(0x2a4)),_0x3c135c[_0x45021b(0x52e)][_0x45021b(0x3cf)]('text-purple-600'),_0x3c135c[_0x45021b(0x52e)][_0x45021b(0x813)]('text-green-600'),_0x3c135c[_0x45021b(0x271)]=!![];}catch(_0x172df7){console[_0x45021b(0x3f0)](_0x45021b(0x60b),_0x172df7),showMessage(_0x45021b(0x7af));}}function listenForStarredQuizzes(){const _0x21cc30=_0x2531d4;if(!userId)return;const _0x32e388=collection(db,_0x21cc30(0x4ed)+appId+_0x21cc30(0x6e6)),_0x495aa2=query(_0x32e388,where('isStarred','==',!![]));onSnapshot(_0x495aa2,_0x503834=>{const _0x5dfded=_0x21cc30;starredQuizzes=_0x503834[_0x5dfded(0x446)][_0x5dfded(0x70b)](_0x35609c=>({'id':_0x35609c['id'],..._0x35609c[_0x5dfded(0x7b5)]()})),renderProjects();},_0x51354e=>{const _0x299c5f=_0x21cc30;console[_0x299c5f(0x3f0)](_0x299c5f(0x583),_0x51354e);});}function exportQuizAsWorksheetPDF(){const _0x24b474=_0x2531d4;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x386c18=currentQuizData,_0x360424=window['open']('',_0x24b474(0x2e7)),_0x31cfcf=_0x4b88cc=>String[_0x24b474(0x22a)](0x41+_0x4b88cc),_0xf31af2=_0x24b474(0x7f5)+_0x386c18['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x386c18[_0x24b474(0x521)]+_0x24b474(0x763)+_0x386c18[_0x24b474(0x2ba)][_0x24b474(0x70b)]((_0x34d05e,_0x1ca7b5)=>{const _0x2724f9=_0x24b474;let _0x3c57c1='';const _0x52f376=_0x34d05e[_0x2724f9(0x71d)]||_0x386c18['quizType'];switch(_0x52f376){case _0x2724f9(0x31d):case _0x2724f9(0x57a):_0x3c57c1=_0x2724f9(0x714)+_0x34d05e['options']['map']((_0x55dd6a,_0x399e98)=>_0x2724f9(0x721)+_0x31cfcf(_0x399e98)+'.\x20'+_0x55dd6a+_0x2724f9(0x795))['join']('<br>')+_0x2724f9(0x61b);break;case _0x2724f9(0x1ab):_0x3c57c1='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x3c57c1=_0x2724f9(0x1c3);break;}return _0x2724f9(0x44e)+(_0x1ca7b5+0x1)+_0x2724f9(0x194)+(_0x34d05e[_0x2724f9(0x25d)]||_0x34d05e[_0x2724f9(0x53f)])+_0x2724f9(0x3c0)+(_0x34d05e[_0x2724f9(0x1aa)]?'<div\x20class=\x22my-2\x22>'+_0x34d05e['imageCode']+_0x2724f9(0x61b):'')+_0x2724f9(0x674)+_0x3c57c1+_0x2724f9(0x30a);})[_0x24b474(0x828)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x360424['document']['write'](_0xf31af2),_0x360424[_0x24b474(0x58c)][_0x24b474(0x41d)](),_0x360424['onload']=function(){setTimeout(()=>{const _0x3a48ae=_0x57b0;_0x360424[_0x3a48ae(0x686)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x4d3af7=_0x2531d4;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x4d3af7(0x1b4));return;}const _0x30ac00=currentQuizData,_0x48ab6f=window[_0x4d3af7(0x753)]('','_blank'),_0x3df40e=_0x36199f=>String[_0x4d3af7(0x22a)](0x41+_0x36199f),_0x390609='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x30ac00[_0x4d3af7(0x521)]+_0x4d3af7(0x59c)+_0x30ac00[_0x4d3af7(0x2ba)][_0x4d3af7(0x70b)]((_0x1d08e7,_0x2d93ee)=>{const _0x387122=_0x4d3af7;let _0x3fc916='';const _0x366ed5=_0x1d08e7[_0x387122(0x71d)]||_0x30ac00['quizType'];switch(_0x366ed5){case _0x387122(0x31d):case _0x387122(0x57a):_0x3fc916='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x1d08e7[_0x387122(0x1c1)]['map']((_0x3a07c5,_0x4b6fbe)=>_0x387122(0x4ce)+_0x3df40e(_0x4b6fbe)+'.\x20'+_0x3a07c5+_0x387122(0x7d7))['join']('<br>')+_0x387122(0x5bd);break;case _0x387122(0x1ab):_0x3fc916=_0x387122(0x5b6);break;default:_0x3fc916='';break;}return _0x387122(0x5a6)+_0x30ac00['topic']+_0x387122(0x21f)+(_0x2d93ee+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x1d08e7[_0x387122(0x25d)]||_0x1d08e7[_0x387122(0x53f)])+_0x387122(0x3c0)+(_0x1d08e7['imageCode']?'<div\x20class=\x22my-6\x22>'+_0x1d08e7[_0x387122(0x1aa)]+_0x387122(0x61b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3fc916+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4d3af7(0x828)]('')+_0x4d3af7(0x2e0);_0x48ab6f[_0x4d3af7(0x58c)][_0x4d3af7(0x216)](_0x390609),_0x48ab6f['document'][_0x4d3af7(0x41d)](),_0x48ab6f[_0x4d3af7(0x1a0)]=function(){setTimeout(()=>{_0x48ab6f['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x3fa7dd){const _0x2359b3=_0x2531d4,_0x57e349=doc(db,_0x2359b3(0x4ed)+appId+_0x2359b3(0x6e6),_0x3fa7dd);try{const _0x5de05b=await getDoc(_0x57e349);if(_0x5de05b['exists']()){const _0x920ebf=_0x5de05b[_0x2359b3(0x7b5)]()[_0x2359b3(0x57c)]||![];await updateDoc(_0x57e349,{'isStarred':!_0x920ebf});}}catch(_0x5183f7){console[_0x2359b3(0x3f0)](_0x2359b3(0x1a5),_0x5183f7),showMessage(_0x2359b3(0x32f));}}async function displayQuestionBank(){const _0x177c5a=_0x2531d4,_0x3976d0=document['getElementById']('bank-input-area');_0x3976d0[_0x177c5a(0x3fe)]=_0x177c5a(0x3e1);try{const _0x3675f2=collection(db,_0x177c5a(0x4ed)+appId+_0x177c5a(0x357)+userId+_0x177c5a(0x5c2)),_0x428e5f=query(_0x3675f2),_0x871cd8=await getDocs(_0x428e5f);if(_0x871cd8[_0x177c5a(0x787)]){_0x3976d0[_0x177c5a(0x3fe)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x5694d7=_0x871cd8['docs'][_0x177c5a(0x70b)](_0x1deef7=>{const _0x1b5f0e=_0x177c5a,_0xd37249=_0x1deef7['data'](),_0x1a85b9=_0x1deef7['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x1b5f0e(0x1b0)](_0xd37249)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0xd37249[_0x1b5f0e(0x53f)]||_0xd37249[_0x1b5f0e(0x25d)])+_0x1b5f0e(0x5ac)+_0xd37249[_0x1b5f0e(0x55d)]+_0x1b5f0e(0x5f4);})[_0x177c5a(0x828)]('');_0x3976d0[_0x177c5a(0x3fe)]=_0x177c5a(0x4d5)+_0x5694d7+_0x177c5a(0x633),document[_0x177c5a(0x2e3)](_0x177c5a(0x5a5))[_0x177c5a(0x270)]('click',createQuizFromBank);}catch(_0x20868f){console['error'](_0x177c5a(0x1fe),_0x20868f),_0x3976d0[_0x177c5a(0x3fe)]=_0x177c5a(0x3b5);}}function showAdminLiveQuestionView(_0x100327,_0x3da07b,_0x47a664){const _0x271b5a=_0x2531d4,_0x490417=_0x100327[_0x271b5a(0x71d)]||currentQuizData[_0x271b5a(0x76d)];let _0x449bb0='';if(_0x490417===_0x271b5a(0x31d)||_0x490417===_0x271b5a(0x1ab)){const _0x423eab=_0x490417===_0x271b5a(0x1ab)?[_0x271b5a(0x413),_0x271b5a(0x764)]:_0x100327['options'],_0x4fcf6f=_0x490417===_0x271b5a(0x1ab)?_0x100327[_0x271b5a(0x756)]?0x0:0x1:_0x100327[_0x271b5a(0x230)];_0x449bb0=_0x423eab[_0x271b5a(0x70b)]((_0x32d64e,_0x68b707)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x68b707===_0x4fcf6f)+_0x271b5a(0x562)+_0x32d64e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x271b5a(0x828)]('');}else{if(_0x490417==='matching_item'){const _0x1d3183=_0x100327[_0x271b5a(0x595)]||[];_0x449bb0=_0x1d3183['map'](_0x38d7a1=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x38d7a1===_0x100327[_0x271b5a(0x805)])+_0x271b5a(0x562)+_0x38d7a1+_0x271b5a(0x236))[_0x271b5a(0x828)]('');}}const _0x3ffded=_0x100327[_0x271b5a(0x25d)]||_0x100327['questionText'],_0x295a94=_0x271b5a(0x3e2)+(_0x3da07b+0x1)+_0x271b5a(0x379)+_0x47a664+_0x271b5a(0x73c)+_0x3ffded+_0x271b5a(0x2e8)+_0x449bb0+_0x271b5a(0x43f);liveGameView[_0x271b5a(0x3fe)]=_0x295a94;window[_0x271b5a(0x39d)]&&MathJax['typesetPromise']&&MathJax[_0x271b5a(0x61e)]([liveGameView]);const _0x358209=document[_0x271b5a(0x2e3)](_0x271b5a(0x317));document[_0x271b5a(0x2e3)](_0x271b5a(0x204))[_0x271b5a(0x270)](_0x271b5a(0x429),async()=>{const _0x4f29f8=_0x271b5a,_0xc0cc83=doc(db,_0x4f29f8(0x4ed)+appId+_0x4f29f8(0x2dd),currentLiveGameId);await updateDoc(_0xc0cc83,{'questionStatus':_0x4f29f8(0x513)});const _0xcd6d76=liveGameView['querySelector'](_0x4f29f8(0x800));_0xcd6d76&&(_0xcd6d76[_0x4f29f8(0x52e)]['remove'](_0x4f29f8(0x695)),_0xcd6d76[_0x4f29f8(0x52e)][_0x4f29f8(0x813)]('bg-green-300',_0x4f29f8(0x202),_0x4f29f8(0x5a8),_0x4f29f8(0x587),_0x4f29f8(0x192)),_0xcd6d76[_0x4f29f8(0x3fe)]=_0x4f29f8(0x390)+_0xcd6d76[_0x4f29f8(0x3fe)]),_0x358209[_0x4f29f8(0x3fe)]=_0x4f29f8(0x219)+(_0x3da07b+0x1===_0x47a664?_0x4f29f8(0x6eb):'ข้อต่อไป')+_0x4f29f8(0x5c6),document['getElementById'](_0x4f29f8(0x475))['addEventListener']('click',async()=>{const _0x2533ce=_0x4f29f8,_0x301502=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x3b2c64=await getDoc(_0x301502);if(!_0x3b2c64[_0x2533ce(0x3a1)]())return;const _0x40191b=_0x3b2c64[_0x2533ce(0x7b5)](),_0x5c3c66={};if(_0x40191b[_0x2533ce(0x447)])for(const _0x54d5ec in _0x40191b[_0x2533ce(0x447)]){_0x5c3c66[_0x2533ce(0x526)+_0x54d5ec+_0x2533ce(0x7bb)]=![];}const _0x5a477e=_0x3da07b+0x1;_0x5a477e<_0x47a664?(_0x5c3c66['currentQuestionIndex']=_0x5a477e,_0x5c3c66[_0x2533ce(0x1f5)]=serverTimestamp(),_0x5c3c66[_0x2533ce(0x7ea)]='answering',await updateDoc(_0x301502,_0x5c3c66)):await updateDoc(_0x301502,{'status':_0x2533ce(0x21c)});});}),document['getElementById'](_0x271b5a(0x1f9))[_0x271b5a(0x270)](_0x271b5a(0x429),async()=>{const _0xe48794=_0x271b5a,_0x284ec8=doc(db,_0xe48794(0x4ed)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x284ec8),showView('admin-dashboard');});}function showStudentLiveQuestionView(_0x204085,_0xed3288,_0x5d72eb){const _0x545fdd=_0x2531d4,_0x555b08=_0x204085['questionType']||currentQuizData[_0x545fdd(0x76d)];let _0x15d773='';if(_0x555b08===_0x545fdd(0x31d)||_0x555b08==='true_false'){const _0x38c9f5=_0x555b08===_0x545fdd(0x1ab)?[_0x545fdd(0x413),_0x545fdd(0x764)]:_0x204085[_0x545fdd(0x1c1)];_0x15d773=_0x38c9f5[_0x545fdd(0x70b)]((_0x492c04,_0x504b8e)=>_0x545fdd(0x685)+_0x504b8e+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x492c04+_0x545fdd(0x16d))[_0x545fdd(0x828)]('');}else{if(_0x555b08===_0x545fdd(0x378)){const _0x3875c5=_0x204085[_0x545fdd(0x595)]||[];_0x15d773=_0x3875c5['map']((_0x2d4b5f,_0x1cd262)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1cd262+_0x545fdd(0x325)+_0x2d4b5f+_0x545fdd(0x16d))[_0x545fdd(0x828)]('');}else _0x555b08==='short_answer'&&(_0x15d773=_0x545fdd(0x7c6));}const _0x27592b=_0x204085[_0x545fdd(0x25d)]||_0x204085[_0x545fdd(0x53f)],_0x53abc7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0xed3288+0x1)+'\x20/\x20'+_0x5d72eb+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x27592b+_0x545fdd(0x2ff)+_0x15d773+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x545fdd(0x3fe)]=_0x53abc7;window[_0x545fdd(0x39d)]&&MathJax['typesetPromise']&&MathJax[_0x545fdd(0x61e)]([liveGameView]);const _0x3da26d=document[_0x545fdd(0x2e3)](_0x545fdd(0x654));_0x3da26d&&_0x3da26d[_0x545fdd(0x270)](_0x545fdd(0x429),()=>{const _0x4c3d25=_0x545fdd,_0x1a2c10=document[_0x4c3d25(0x2e3)](_0x4c3d25(0x7a9))[_0x4c3d25(0x6f0)];handleLiveAnswer(_0x1a2c10,_0x204085);}),document[_0x545fdd(0x2e3)](_0x545fdd(0x51c))[_0x545fdd(0x270)]('click',_0x4df259=>{const _0xf7ad9e=_0x545fdd,_0x1110d9=_0x4df259['target'][_0xf7ad9e(0x36a)](_0xf7ad9e(0x2ca));if(_0x1110d9){const _0x5390b2=parseInt(_0x1110d9['dataset']['index']);handleLiveAnswer(_0x5390b2,_0x204085);}});}async function handleLiveAnswer(_0x3955ad,_0x5efb92){const _0x2a0f9c=_0x2531d4;document[_0x2a0f9c(0x1e7)](_0x2a0f9c(0x373))[_0x2a0f9c(0x676)](_0x59ce12=>_0x59ce12[_0x2a0f9c(0x271)]=!![]);const _0x3cf192=_0x5efb92[_0x2a0f9c(0x71d)]||currentQuizData['quizType'];let _0x1340eb=![];if(_0x3cf192===_0x2a0f9c(0x57f)){const _0x51ee56=(_0x3955ad||'')[_0x2a0f9c(0x757)]();_0x1340eb=await gradeShortAnswer(_0x51ee56,_0x5efb92);}else{if(_0x3cf192==='multiple_choice')_0x1340eb=_0x3955ad===_0x5efb92['correctAnswerIndex'];else{if(_0x3cf192===_0x2a0f9c(0x1ab)){const _0x34b2b1=_0x5efb92[_0x2a0f9c(0x756)];_0x1340eb=_0x3955ad===0x0&&_0x34b2b1||_0x3955ad===0x1&&!_0x34b2b1;}else{if(_0x3cf192==='matching_item'){const _0x2eafbe=_0x5efb92['allResponses'][_0x3955ad];_0x1340eb=_0x2eafbe===_0x5efb92['correctResponse'];}}}}const _0x52166e=doc(db,_0x2a0f9c(0x4ed)+appId+'/public/data/liveGames',currentLiveGameId),_0x47d80d=await getDoc(_0x52166e);if(!_0x47d80d['exists']())return;const _0x550184=_0x47d80d['data'](),_0x7d9481=_0x550184[_0x2a0f9c(0x447)][currentStudentName];let _0x40c278=_0x7d9481[_0x2a0f9c(0x7fb)]||[],_0x5ecd21=_0x7d9481[_0x2a0f9c(0x6de)]||0x0;const _0x14afbf={};let _0x22753c=0x0;if(_0x550184[_0x2a0f9c(0x1f5)]){const _0x977e9f=_0x550184[_0x2a0f9c(0x1f5)][_0x2a0f9c(0x79c)](),_0x230066=new Date()-_0x977e9f;if(_0x1340eb){const _0x215d45=0x3e8,_0x349ed6=0x1f4,_0x257bff=0x4e20;let _0x5f5bfa=_0x230066/_0x257bff;if(_0x5f5bfa>0x1)_0x5f5bfa=0x1;const _0x39f5b8=Math[_0x2a0f9c(0x606)](_0x5f5bfa*_0x349ed6);_0x22753c=_0x215d45-_0x39f5b8,_0x230066<=0x1388&&!_0x40c278[_0x2a0f9c(0x7a3)](_0x2a0f9c(0x4c2))&&_0x40c278[_0x2a0f9c(0x3a5)](_0x2a0f9c(0x4c2));}}_0x1340eb?(_0x5ecd21++,_0x5ecd21===0x3&&!_0x40c278[_0x2a0f9c(0x7a3)](_0x2a0f9c(0x560))&&(_0x40c278[_0x2a0f9c(0x3a5)](_0x2a0f9c(0x560)),_0x5ecd21=0x0)):_0x5ecd21=0x0,_0x1340eb&&(_0x14afbf[_0x2a0f9c(0x526)+currentStudentName+_0x2a0f9c(0x4a7)]=increment(_0x22753c)),_0x14afbf[_0x2a0f9c(0x526)+currentStudentName+_0x2a0f9c(0x541)]=_0x40c278,_0x14afbf['players.'+currentStudentName+_0x2a0f9c(0x81d)]=_0x5ecd21,_0x14afbf[_0x2a0f9c(0x526)+currentStudentName+_0x2a0f9c(0x7bb)]=!![],_0x14afbf[_0x2a0f9c(0x526)+currentStudentName+_0x2a0f9c(0x5ed)]=_0x1340eb,_0x14afbf[_0x2a0f9c(0x526)+currentStudentName+_0x2a0f9c(0x588)]=_0x22753c,await updateDoc(_0x52166e,_0x14afbf),liveGameView[_0x2a0f9c(0x3fe)]=_0x2a0f9c(0x653);}function createQuizFromBank(){const _0x56a794=_0x2531d4,_0x471242=document[_0x56a794(0x1e7)](_0x56a794(0x4c7));if(_0x471242[_0x56a794(0x7ca)]===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x416f3b=[];_0x471242[_0x56a794(0x676)](_0x403a42=>{const _0x51ddfb=_0x56a794;_0x416f3b[_0x51ddfb(0x3a5)](JSON[_0x51ddfb(0x3ef)](_0x403a42[_0x51ddfb(0x6f0)]));});const _0xdb9f7a={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x416f3b};displayGeneratedQuiz(_0xdb9f7a);}function showAdminLobbyView(_0x406554,_0x156e0e){const _0x266db6=_0x2531d4;showView(_0x266db6(0x416));const _0x35b185=_0x266db6(0x187)+_0x156e0e+_0x266db6(0x4a8)+_0x406554+_0x266db6(0x65b);liveGameView[_0x266db6(0x3fe)]=_0x35b185,document[_0x266db6(0x2e3)](_0x266db6(0x3b8))[_0x266db6(0x270)](_0x266db6(0x429),async()=>{const _0x32b0bb=_0x266db6;if(!currentQuizData||!currentQuizData[_0x32b0bb(0x2ba)]||currentQuizData[_0x32b0bb(0x2ba)][_0x32b0bb(0x7ca)]===0x0){showMessage(_0x32b0bb(0x37a));return;}try{const _0x452e2f=doc(db,_0x32b0bb(0x4ed)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x452e2f,{'status':_0x32b0bb(0x777),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x5a58d5=currentQuizData[_0x32b0bb(0x2ba)][0x0],_0x3e9658=currentQuizData[_0x32b0bb(0x2ba)][_0x32b0bb(0x7ca)];showAdminLiveQuestionView(_0x5a58d5,0x0,_0x3e9658);}catch(_0x53e236){console[_0x32b0bb(0x3f0)]('Error\x20starting\x20game:',_0x53e236),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x132ad3=_0x2531d4;if(allQuizzesGlobal[_0x132ad3(0x7ca)]===0x0){const _0x1fb283=await getDocs(collection(db,'artifacts/'+appId+_0x132ad3(0x6e6)));allQuizzesGlobal=_0x1fb283[_0x132ad3(0x446)][_0x132ad3(0x70b)](_0x210938=>({'id':_0x210938['id'],..._0x210938[_0x132ad3(0x7b5)]()}));}renderGlobalQuizList(''),document['getElementById'](_0x132ad3(0x375))[_0x132ad3(0x52e)]['remove'](_0x132ad3(0x47f));}async function openQuizBankModal(){const _0x5d7ce8=_0x2531d4;if(allQuizzesGlobal['length']===0x0){const _0xe03e84=await getDocs(collection(db,_0x5d7ce8(0x4ed)+appId+_0x5d7ce8(0x6e6)));allQuizzesGlobal=_0xe03e84[_0x5d7ce8(0x446)]['map'](_0x3860ae=>({'id':_0x3860ae['id'],..._0x3860ae[_0x5d7ce8(0x7b5)]()}));}renderQuizBankList(''),document[_0x5d7ce8(0x2e3)](_0x5d7ce8(0x578))['classList'][_0x5d7ce8(0x3cf)](_0x5d7ce8(0x47f));}function renderQuizBankList(_0x31912f=''){const _0x188416=_0x2531d4,_0x3e283e=document[_0x188416(0x2e3)](_0x188416(0x2dc)),_0x59bce5=_0x31912f[_0x188416(0x6f9)]()[_0x188416(0x1f8)](),_0x388238=allQuizzesGlobal[_0x188416(0x70b)](_0x369d87=>({..._0x369d87,'projectName':allProjects[_0x188416(0x292)](_0x5cd1da=>_0x5cd1da['id']===_0x369d87[_0x188416(0x1d8)])?.[_0x188416(0x545)]||_0x188416(0x213)}))[_0x188416(0x2b1)](_0x387fd0=>(_0x387fd0['topic']||'')[_0x188416(0x6f9)]()[_0x188416(0x7a3)](_0x59bce5)||(_0x387fd0[_0x188416(0x545)]||'')['toLowerCase']()[_0x188416(0x7a3)](_0x59bce5)||_0x387fd0['id'][_0x188416(0x757)]()[_0x188416(0x7a3)](_0x59bce5));document[_0x188416(0x2e3)](_0x188416(0x3e3))[_0x188416(0x3d7)]='('+_0x388238['length']+_0x188416(0x7fc),_0x3e283e['innerHTML']=_0x388238['length']?_0x388238[_0x188416(0x70b)](_0x20d459=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x20d459['id']+_0x188416(0x17f)+(_0x20d459[_0x188416(0x521)]||_0x188416(0x7cf))+_0x188416(0x4f2)+(_0x20d459[_0x188416(0x2ba)]?.[_0x188416(0x7ca)]||0x0)+_0x188416(0x38f)+_0x20d459['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x20d459['id']+_0x188416(0x253)+_0x20d459['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x20d459['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x20d459['id']+_0x188416(0x59f))[_0x188416(0x828)](''):_0x188416(0x5d7),_0x3e283e[_0x188416(0x1e7)](_0x188416(0x56d))[_0x188416(0x676)](_0xbd40e2=>{const _0x4de7f0=_0x188416;_0xbd40e2[_0x4de7f0(0x270)](_0x4de7f0(0x429),()=>{const _0x3247c9=_0x4de7f0,_0x402618=_0xbd40e2['dataset']['id'];document[_0x3247c9(0x2e3)](_0x3247c9(0x578))[_0x3247c9(0x52e)][_0x3247c9(0x813)](_0x3247c9(0x47f)),showQuizDetailView(_0x402618);});}),_0x3e283e[_0x188416(0x1e7)](_0x188416(0x403))[_0x188416(0x676)](_0x2f1df7=>{const _0x54aba9=_0x188416;_0x2f1df7[_0x54aba9(0x270)](_0x54aba9(0x429),_0x35a7fe=>{const _0x374371=_0x54aba9;_0x35a7fe[_0x374371(0x768)]();const _0x26acae=_0x2f1df7[_0x374371(0x5d8)]['id'],_0xa28df0=allQuizzesGlobal[_0x374371(0x292)](_0x5862fb=>_0x5862fb['id']===_0x26acae);_0xa28df0?(currentQuizData=_0xa28df0,document['getElementById'](_0x374371(0x578))[_0x374371(0x52e)][_0x374371(0x813)](_0x374371(0x47f)),startAdminTest()):showMessage(_0x374371(0x36d));});}),_0x3e283e[_0x188416(0x1e7)]('.quiz-bank-parallel-btn')['forEach'](_0x256b92=>{_0x256b92['addEventListener']('click',_0x43e961=>{const _0x3da9f3=_0x57b0;_0x43e961['stopPropagation']();const _0x3b409f=_0x256b92[_0x3da9f3(0x5d8)]['id'],_0x306d8f=allQuizzesGlobal[_0x3da9f3(0x292)](_0x58783b=>_0x58783b['id']===_0x3b409f);_0x306d8f?(document['getElementById'](_0x3da9f3(0x578))[_0x3da9f3(0x52e)][_0x3da9f3(0x813)](_0x3da9f3(0x47f)),handleGenerateParallelFromBank(_0x306d8f)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x3e283e['querySelectorAll'](_0x188416(0x7b1))['forEach'](_0x3bd357=>{const _0x507608=_0x188416;_0x3bd357['addEventListener'](_0x507608(0x429),_0x2993d8=>{const _0x53bf50=_0x507608;_0x2993d8[_0x53bf50(0x768)]();const _0x328aed=_0x3bd357[_0x53bf50(0x5d8)]['id'],_0x145b36=allQuizzesGlobal['find'](_0xafa5a2=>_0xafa5a2['id']===_0x328aed);_0x145b36?(document[_0x53bf50(0x2e3)](_0x53bf50(0x578))[_0x53bf50(0x52e)]['add'](_0x53bf50(0x47f)),startPresentation(_0x145b36)):showMessage(_0x53bf50(0x36d));});});}async function handleCompareResults(_0x262cce,_0x589245){const _0x58e8df=_0x2531d4,_0xbac09f=document[_0x58e8df(0x2e3)]('comparison-modal'),_0x5a327b=document[_0x58e8df(0x2e3)](_0x58e8df(0x597)),_0x370351=document[_0x58e8df(0x2e3)](_0x58e8df(0x60d));document[_0x58e8df(0x2e3)]('comparison-overall-tab')[_0x58e8df(0x52e)][_0x58e8df(0x813)](_0x58e8df(0x62f)),document['getElementById'](_0x58e8df(0x72f))[_0x58e8df(0x52e)][_0x58e8df(0x3cf)]('active'),_0x5a327b[_0x58e8df(0x52e)][_0x58e8df(0x3cf)](_0x58e8df(0x47f)),_0x370351['classList']['add'](_0x58e8df(0x47f)),_0x5a327b['innerHTML']=_0x58e8df(0x3e1),_0x370351[_0x58e8df(0x3fe)]='',_0xbac09f['classList'][_0x58e8df(0x3cf)](_0x58e8df(0x47f));try{const _0x150f5e=doc(db,_0x58e8df(0x4ed)+appId+_0x58e8df(0x6e6),_0x262cce),_0x3b96a9=await getDoc(_0x150f5e);if(!_0x3b96a9[_0x58e8df(0x3a1)]())throw new Error(_0x58e8df(0x2e4));const _0x57cda3=_0x3b96a9['data'](),_0x382688=_0x57cda3[_0x58e8df(0x2ba)][_0x58e8df(0x7ca)],_0x59b7ad=collection(db,_0x58e8df(0x4ed)+appId+'/public/data/quizzes/'+_0x589245+'/submissions'),_0x4fe3fd=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x262cce+_0x58e8df(0x724)),[_0x38bac3,_0x32d716]=await Promise['all']([getDocs(_0x59b7ad),getDocs(_0x4fe3fd)]),_0x3e93dd=_0x38bac3[_0x58e8df(0x446)][_0x58e8df(0x70b)](_0x117894=>_0x117894['data']()),_0xa35e40=_0x32d716[_0x58e8df(0x446)][_0x58e8df(0x70b)](_0x1a4a06=>_0x1a4a06[_0x58e8df(0x7b5)]()),_0x56e3c7=_0x3e93dd[_0x58e8df(0x70b)](_0x4c6469=>_0x4c6469[_0x58e8df(0x474)]),_0x15f9e6=_0xa35e40[_0x58e8df(0x70b)](_0x1f4b57=>_0x1f4b57[_0x58e8df(0x474)]),_0x3a7ac2=calculateMeanAndStdDev(_0x56e3c7),_0x16d470=calculateMeanAndStdDev(_0x15f9e6),_0x351bd1=_0x3a7ac2[_0x58e8df(0x503)],_0x21b965=_0x16d470[_0x58e8df(0x503)],_0x4aced8=_0x21b965-_0x351bd1;let _0x3d68a7=_0x58e8df(0x6da)+_0x351bd1[_0x58e8df(0x7e4)](0x2)+_0x58e8df(0x771)+_0x21b965[_0x58e8df(0x7e4)](0x2)+_0x58e8df(0x460)+(_0x4aced8>=0x0?_0x58e8df(0x43b):_0x58e8df(0x398))+_0x58e8df(0x426)+(_0x4aced8>=0x0?'text-emerald-800':_0x58e8df(0x832))+_0x58e8df(0x6c4)+(_0x4aced8>=0x0?'text-emerald-900':'text-red-900')+'\x22>'+(_0x4aced8>=0x0?'+':'')+_0x4aced8['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x5a327b[_0x58e8df(0x3fe)]=_0x3d68a7;const _0x263f0a=document[_0x58e8df(0x2e3)](_0x58e8df(0x589))['getContext']('2d');if(chartInstances[_0x58e8df(0x344)])chartInstances[_0x58e8df(0x344)][_0x58e8df(0x4c4)]();chartInstances[_0x58e8df(0x344)]=new Chart(_0x263f0a,{'type':_0x58e8df(0x4d3),'data':{'labels':[_0x58e8df(0x1fd)],'datasets':[{'label':_0x58e8df(0x2c2),'data':[_0x351bd1],'backgroundColor':_0x58e8df(0x17e)},{'label':_0x58e8df(0x1d5),'data':[_0x21b965],'backgroundColor':_0x58e8df(0x822)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x382688}}}});const _0x3d9650=currentProjectData[_0x58e8df(0x380)]||[],_0x530a89=_0x3d9650[_0x58e8df(0x70b)](_0x4451e6=>{const _0x312a0d=_0x58e8df,_0x23f088=_0x3e93dd[_0x312a0d(0x292)](_0x33320b=>_0x33320b['studentName']===_0x4451e6),_0x5881b9=_0xa35e40['find'](_0x250293=>_0x250293['studentName']===_0x4451e6),_0x142384=_0x23f088?_0x23f088[_0x312a0d(0x474)]:null,_0x607d8a=_0x5881b9?_0x5881b9[_0x312a0d(0x474)]:null,_0x141b5e=_0x142384!==null&&_0x607d8a!==null?_0x607d8a-_0x142384:null,_0x41fb2e=_0x142384!==null?calculateZScore(_0x142384,_0x3a7ac2['mean'],_0x3a7ac2[_0x312a0d(0x214)]):null,_0x29ded4=_0x607d8a!==null?calculateZScore(_0x607d8a,_0x16d470[_0x312a0d(0x503)],_0x16d470[_0x312a0d(0x214)]):null,_0x356132=_0x41fb2e!==null?calculateTScore(_0x41fb2e):null,_0xc47d0b=_0x29ded4!==null?calculateTScore(_0x29ded4):null,_0x4ce103=_0x356132!==null&&_0xc47d0b!==null?_0xc47d0b-_0x356132:null;return{'name':_0x4451e6,'preScore':_0x142384,'postScore':_0x607d8a,'gain':_0x141b5e,'preTScore':_0x356132,'postTScore':_0xc47d0b,'tGain':_0x4ce103};});renderIndividualComparisonTable(_0x530a89,_0x370351);}catch(_0x15ff01){console[_0x58e8df(0x3f0)](_0x58e8df(0x64c),_0x15ff01),_0x5a327b[_0x58e8df(0x3fe)]=_0x58e8df(0x5da);}}function renderIndividualComparisonTable(_0xae310,_0x1b78bd){const _0x4ecf12=_0x2531d4;_0xae310['sort']((_0x3d6225,_0x57340e)=>(_0x57340e['tGain']??-Infinity)-(_0x3d6225[_0x4ecf12(0x249)]??-Infinity));let _0x367721=_0x4ecf12(0x4f9);_0xae310[_0x4ecf12(0x7ca)]===0x0?_0x367721+=_0x4ecf12(0x2e6):_0xae310[_0x4ecf12(0x676)]((_0x2c3cdf,_0x45d729)=>{const _0x25c8af=_0x4ecf12;let _0x1c7601='-';if(_0x2c3cdf[_0x25c8af(0x5ff)]!==null){const _0x246023=_0x2c3cdf[_0x25c8af(0x5ff)]>0x0?_0x25c8af(0x617):_0x2c3cdf[_0x25c8af(0x5ff)]<0x0?_0x25c8af(0x7cc):_0x25c8af(0x18a),_0x5539d8=_0x2c3cdf[_0x25c8af(0x5ff)]>0x0?'+':'';_0x1c7601='<span\x20class=\x22font-bold\x20'+_0x246023+'\x22>'+_0x5539d8+_0x2c3cdf['gain']+_0x25c8af(0x7d7);}let _0x3bd5c6='-';if(_0x2c3cdf[_0x25c8af(0x249)]!==null){const _0x3f84ee=_0x2c3cdf['tGain']>0x0?_0x25c8af(0x617):_0x2c3cdf[_0x25c8af(0x249)]<0x0?_0x25c8af(0x7cc):_0x25c8af(0x18a),_0x3daf59=_0x2c3cdf[_0x25c8af(0x249)]>0x0?'+':'';_0x3bd5c6=_0x25c8af(0x43a)+_0x3f84ee+'\x22>'+_0x3daf59+_0x2c3cdf[_0x25c8af(0x249)]['toFixed'](0x2)+_0x25c8af(0x7d7);}_0x367721+=_0x25c8af(0x239)+(_0x45d729+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x2c3cdf[_0x25c8af(0x35d)]+_0x25c8af(0x742)+(_0x2c3cdf[_0x25c8af(0x44c)]??'-')+_0x25c8af(0x4d0)+(_0x2c3cdf[_0x25c8af(0x7b2)]??'-')+_0x25c8af(0x742)+_0x1c7601+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x2c3cdf[_0x25c8af(0x423)]?.[_0x25c8af(0x7e4)](0x2)??'-')+_0x25c8af(0x7f7)+(_0x2c3cdf[_0x25c8af(0x72a)]?.[_0x25c8af(0x7e4)](0x2)??'-')+_0x25c8af(0x742)+_0x3bd5c6+_0x25c8af(0x1ee);}),_0x367721+=_0x4ecf12(0x3d3),_0x1b78bd[_0x4ecf12(0x3fe)]=_0x367721;}function setupComparisonModalTabs(){const _0x58a6d1=_0x2531d4,_0xa0da01=document[_0x58a6d1(0x2e3)](_0x58a6d1(0x61c)),_0x19bdf0=document[_0x58a6d1(0x2e3)](_0x58a6d1(0x72f)),_0xb45c5b=document['getElementById']('comparison-overall-content'),_0x199ca6=document[_0x58a6d1(0x2e3)]('comparison-individual-content');_0xa0da01[_0x58a6d1(0x270)](_0x58a6d1(0x429),()=>{const _0x3891be=_0x58a6d1;_0xa0da01['classList']['add']('active'),_0x19bdf0[_0x3891be(0x52e)][_0x3891be(0x3cf)](_0x3891be(0x62f)),_0xb45c5b['classList'][_0x3891be(0x3cf)](_0x3891be(0x47f)),_0x199ca6[_0x3891be(0x52e)][_0x3891be(0x813)](_0x3891be(0x47f));}),_0x19bdf0['addEventListener']('click',()=>{const _0x219515=_0x58a6d1;_0x19bdf0[_0x219515(0x52e)][_0x219515(0x813)](_0x219515(0x62f)),_0xa0da01[_0x219515(0x52e)][_0x219515(0x3cf)](_0x219515(0x62f)),_0x199ca6[_0x219515(0x52e)][_0x219515(0x3cf)](_0x219515(0x47f)),_0xb45c5b[_0x219515(0x52e)][_0x219515(0x813)](_0x219515(0x47f));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x306138=''){const _0x1000b7=_0x2531d4,_0x2459fa=document[_0x1000b7(0x2e3)]('global-quiz-list'),_0x2ebcb4=_0x306138[_0x1000b7(0x6f9)]()[_0x1000b7(0x1f8)](),_0x3951c6=allQuizzesGlobal['map'](_0x5b1887=>({..._0x5b1887,'projectName':allProjects[_0x1000b7(0x292)](_0x3a5b6f=>_0x3a5b6f['id']===_0x5b1887[_0x1000b7(0x1d8)])?.[_0x1000b7(0x545)]||_0x5b1887['projectId']}))[_0x1000b7(0x2b1)](_0x3a4138=>(_0x3a4138[_0x1000b7(0x521)]||'')[_0x1000b7(0x6f9)]()['includes'](_0x2ebcb4)||(_0x3a4138[_0x1000b7(0x545)]||'')[_0x1000b7(0x6f9)]()[_0x1000b7(0x7a3)](_0x2ebcb4));document[_0x1000b7(0x2e3)](_0x1000b7(0x58a))[_0x1000b7(0x3d7)]='('+_0x3951c6[_0x1000b7(0x7ca)]+_0x1000b7(0x7fc),_0x2459fa[_0x1000b7(0x3fe)]=_0x3951c6[_0x1000b7(0x7ca)]?_0x3951c6[_0x1000b7(0x70b)](_0x3d7bd0=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3d7bd0['id']+_0x1000b7(0x425)+(_0x3d7bd0[_0x1000b7(0x521)]||_0x1000b7(0x7cf))+_0x1000b7(0x7f4)+(_0x3d7bd0['questions']?.['length']||0x0)+_0x1000b7(0x171)+_0x3d7bd0[_0x1000b7(0x545)]+_0x1000b7(0x337))[_0x1000b7(0x828)](''):_0x1000b7(0x4be),selectedGlobalQuizId=null,document[_0x1000b7(0x2e3)](_0x1000b7(0x796))['disabled']=!![],_0x2459fa[_0x1000b7(0x1e7)]('button[data-id]')['forEach'](_0x32e8d3=>{const _0x489354=_0x1000b7;_0x32e8d3[_0x489354(0x270)](_0x489354(0x429),()=>{const _0xace934=_0x489354;selectedGlobalQuizId=_0x32e8d3['dataset']['id'],_0x2459fa[_0xace934(0x1e7)](_0xace934(0x410))[_0xace934(0x676)](_0x6df2db=>_0x6df2db[_0xace934(0x52e)]['remove'](_0xace934(0x611),'ring-2',_0xace934(0x2e1))),_0x32e8d3[_0xace934(0x52e)][_0xace934(0x813)]('bg-purple-50','ring-2',_0xace934(0x2e1)),document['getElementById']('confirm-global-live-btn')[_0xace934(0x271)]=![];});});}function listenForLiveGameUpdates(){const _0x4c5911=_0x2531d4;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x51b3a3=doc(db,'artifacts/'+appId+_0x4c5911(0x2dd),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x51b3a3,_0xa61d7=>{const _0xd5c72=_0x4c5911;if(!_0xa61d7[_0xd5c72(0x3a1)]()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x4bf095=_0xa61d7[_0xd5c72(0x7b5)]();!currentQuizData&&_0x4bf095[_0xd5c72(0x1ce)]&&((async()=>{const _0x2c76a3=_0xd5c72;try{const _0x3e4858=doc(db,_0x2c76a3(0x4ed)+appId+_0x2c76a3(0x6e6),_0x4bf095[_0x2c76a3(0x1ce)]),_0x4a86b0=await getDoc(_0x3e4858);_0x4a86b0[_0x2c76a3(0x3a1)]()&&(currentQuizData={'id':_0x4a86b0['id'],..._0x4a86b0[_0x2c76a3(0x7b5)]()});}catch(_0x2e7cfb){console[_0x2c76a3(0x3f0)](_0x2c76a3(0x54b),_0x2e7cfb);}})());switch(_0x4bf095['status']){case _0xd5c72(0x593):if(currentMode==='admin'){const _0x2b0efe=_0x4bf095[_0xd5c72(0x447)]?Object['keys'](_0x4bf095[_0xd5c72(0x447)]):[];document[_0xd5c72(0x2e3)](_0xd5c72(0x67c))[_0xd5c72(0x3d7)]=_0x2b0efe[_0xd5c72(0x7ca)],document['getElementById'](_0xd5c72(0x4b7))[_0xd5c72(0x3fe)]=_0x2b0efe['map'](_0x4a7bfa=>'<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>'+_0x4a7bfa+'</span>')['join']('');const _0x40f7b1=document[_0xd5c72(0x2e3)](_0xd5c72(0x3b8));_0x40f7b1&&(_0x40f7b1[_0xd5c72(0x271)]=_0x2b0efe['length']===0x0);}else showView('live-game'),liveGameView[_0xd5c72(0x3fe)]=_0xd5c72(0x71e)+currentStudentName+_0xd5c72(0x673);break;case _0xd5c72(0x777):const _0x3f0276=_0x4bf095['currentQuestionIndex'];if(currentQuizData&&currentQuizData['questions'][_0x3f0276]){const _0x243ed7=currentQuizData[_0xd5c72(0x2ba)][_0x3f0276],_0x1ffe12=currentQuizData['questions'][_0xd5c72(0x7ca)];if(currentMode===_0xd5c72(0x1d6)){lastRenderedAdminQuestionIndex!==_0x3f0276&&(showAdminLiveQuestionView(_0x243ed7,_0x3f0276,_0x1ffe12),lastRenderedAdminQuestionIndex=_0x3f0276);const _0x4f55fb=document[_0xd5c72(0x2e3)]('answer-counter');if(_0x4f55fb&&_0x4bf095[_0xd5c72(0x447)]){const _0x148e55=Object[_0xd5c72(0x6e5)](_0x4bf095['players'])[_0xd5c72(0x7ca)],_0x523d64=Object['values'](_0x4bf095['players'])['filter'](_0x1b0c06=>_0x1b0c06[_0xd5c72(0x29a)]===!![])[_0xd5c72(0x7ca)];_0x4f55fb['textContent']=_0x523d64+'/'+_0x148e55,_0x148e55>0x0&&_0x523d64===_0x148e55&&_0x4bf095[_0xd5c72(0x7ea)]!==_0xd5c72(0x513)&&revealAnswerForAdmin(_0x3f0276,_0x1ffe12);}}else{const _0x3df669=_0x4bf095[_0xd5c72(0x447)][currentStudentName];if(_0x4bf095[_0xd5c72(0x7ea)]===_0xd5c72(0x513)){if(_0x3df669['answeredCurrentQuestion']){const _0x12c3e0=_0x3df669['lastAnswerCorrect'],_0x4e1f38=_0x3df669[_0xd5c72(0x341)]||0x0,_0x1ae502=_0x12c3e0?_0xd5c72(0x3bc)+_0x4e1f38+_0xd5c72(0x3ca):_0xd5c72(0x535);liveGameView[_0xd5c72(0x3fe)]=_0xd5c72(0x723)+_0x1ae502+_0xd5c72(0x70e);}else liveGameView[_0xd5c72(0x3fe)]=_0xd5c72(0x48a);}else!_0x3df669[_0xd5c72(0x29a)]&&showStudentLiveQuestionView(_0x243ed7,_0x3f0276,_0x1ffe12);}}break;case _0xd5c72(0x21c):showPodiumView(_0x4bf095['players']);break;}});}async function authenticateUser(){const _0x53fb98=_0x2531d4;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x17d1ed){console['error'](_0x53fb98(0x804),_0x17d1ed),showMessage(_0x53fb98(0x68d));}}function showView(_0x11cac6){const _0x554422=_0x2531d4,_0x5d4aac=[_0x554422(0x81c),_0x554422(0x533),_0x554422(0x40a),_0x554422(0x7b7),_0x554422(0x5b1),_0x554422(0x50e)];_0x5d4aac[_0x554422(0x676)](_0x35e3b9=>document[_0x554422(0x2e3)](_0x35e3b9)?.[_0x554422(0x52e)][_0x554422(0x813)]('hidden'));if(_0x11cac6===_0x554422(0x3b4))adminView['classList']['remove']('hidden'),projectDashboardView[_0x554422(0x52e)][_0x554422(0x3cf)]('hidden');else{if(_0x11cac6===_0x554422(0x1d9))studentView['classList'][_0x554422(0x3cf)](_0x554422(0x47f)),studentInitialView[_0x554422(0x52e)][_0x554422(0x3cf)](_0x554422(0x47f)),studentNameSelectionView[_0x554422(0x52e)]['add'](_0x554422(0x47f)),studentQuizArea[_0x554422(0x52e)][_0x554422(0x813)](_0x554422(0x47f)),studentResultArea['classList'][_0x554422(0x813)](_0x554422(0x47f)),studentReadingArea[_0x554422(0x52e)][_0x554422(0x813)](_0x554422(0x47f)),studentJoinGameView[_0x554422(0x52e)][_0x554422(0x813)](_0x554422(0x47f));else{if(_0x11cac6===_0x554422(0x1b5))adminView[_0x554422(0x52e)][_0x554422(0x3cf)]('hidden'),projectDetailView[_0x554422(0x52e)][_0x554422(0x3cf)](_0x554422(0x47f));else{if(_0x11cac6===_0x554422(0x462))adminView[_0x554422(0x52e)][_0x554422(0x3cf)](_0x554422(0x47f)),quizResultsView['classList'][_0x554422(0x3cf)](_0x554422(0x47f));else _0x11cac6===_0x554422(0x416)&&liveGameView[_0x554422(0x52e)]['remove'](_0x554422(0x47f));}}}}function showJoinGameView(){const _0x29fe7d=_0x2531d4;studentInitialView[_0x29fe7d(0x52e)][_0x29fe7d(0x813)](_0x29fe7d(0x47f)),studentJoinGameView[_0x29fe7d(0x52e)][_0x29fe7d(0x3cf)]('hidden');}function setupEventListeners(){const _0x11af9e=_0x2531d4;document['getElementById'](_0x11af9e(0x565))[_0x11af9e(0x270)](_0x11af9e(0x429),handleModeSwitch),document['getElementById']('add-custom-math-topic-btn')[_0x11af9e(0x270)](_0x11af9e(0x429),handleAddCustomMathTopic),document['getElementById'](_0x11af9e(0x255))[_0x11af9e(0x270)]('click',handleSelectAllTopics),document[_0x11af9e(0x2e3)](_0x11af9e(0x694))[_0x11af9e(0x270)](_0x11af9e(0x429),handleDeselectAllTopics),document[_0x11af9e(0x2e3)](_0x11af9e(0x520))['addEventListener']('click',()=>{const _0x4b3bb5=_0x11af9e;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x4b3bb5(0x3b4));}),document[_0x11af9e(0x2e3)](_0x11af9e(0x7ee))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document[_0x11af9e(0x2e3)](_0x11af9e(0x2a9))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{showView('admin-dashboard');}),document[_0x11af9e(0x2e3)](_0x11af9e(0x67e))[_0x11af9e(0x270)]('click',()=>messageModal[_0x11af9e(0x52e)][_0x11af9e(0x813)]('hidden')),document[_0x11af9e(0x2e3)]('create-project-btn')[_0x11af9e(0x270)](_0x11af9e(0x429),()=>createProjectModal['classList']['remove'](_0x11af9e(0x47f))),document[_0x11af9e(0x2e3)](_0x11af9e(0x567))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>createProjectModal[_0x11af9e(0x52e)][_0x11af9e(0x813)](_0x11af9e(0x47f))),document['getElementById']('cancel-admin-login-btn')[_0x11af9e(0x270)](_0x11af9e(0x429),()=>adminPasswordModal['classList'][_0x11af9e(0x813)]('hidden')),document[_0x11af9e(0x2e3)]('confirm-admin-login-btn')['addEventListener']('click',handleAdminLogin),document['getElementById'](_0x11af9e(0x78c))[_0x11af9e(0x270)](_0x11af9e(0x2f3),_0x57f6e9=>{const _0x4e9d1a=_0x11af9e;if(_0x57f6e9[_0x4e9d1a(0x7f1)]===_0x4e9d1a(0x4e4))handleAdminLogin();}),document[_0x11af9e(0x2e3)](_0x11af9e(0x5de))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{const _0x2b9e6b=_0x11af9e;confirmationModal[_0x2b9e6b(0x52e)][_0x2b9e6b(0x813)]('hidden'),confirmAction=null;}),document[_0x11af9e(0x2e3)](_0x11af9e(0x5cf))['addEventListener'](_0x11af9e(0x429),()=>{const _0x16f1a6=_0x11af9e;confirmAction&&confirmAction(),confirmationModal[_0x16f1a6(0x52e)][_0x16f1a6(0x813)](_0x16f1a6(0x47f)),confirmAction=null;}),document[_0x11af9e(0x2e3)]('cancel-rename-quiz-btn')[_0x11af9e(0x270)](_0x11af9e(0x429),()=>renameQuizModal[_0x11af9e(0x52e)][_0x11af9e(0x813)](_0x11af9e(0x47f))),document[_0x11af9e(0x2e3)](_0x11af9e(0x437))[_0x11af9e(0x270)](_0x11af9e(0x429),confirmRenameQuiz),document['getElementById'](_0x11af9e(0x5b3))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>moveQuizModal[_0x11af9e(0x52e)]['add']('hidden')),document['getElementById']('confirm-move-quiz-btn')[_0x11af9e(0x270)](_0x11af9e(0x429),confirmMoveQuiz),document[_0x11af9e(0x2e3)](_0x11af9e(0x6e2))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>quizSettingsModal['classList'][_0x11af9e(0x813)]('hidden')),document[_0x11af9e(0x2e3)]('confirm-quiz-settings-btn')[_0x11af9e(0x270)](_0x11af9e(0x429),confirmQuizSettings),document[_0x11af9e(0x2e3)](_0x11af9e(0x25a))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>quizStatusModal[_0x11af9e(0x52e)]['add']('hidden')),document[_0x11af9e(0x2e3)](_0x11af9e(0x687))[_0x11af9e(0x270)](_0x11af9e(0x429),confirmQuizStatus);const _0x26797a=document[_0x11af9e(0x2e3)]('export-pdf-modal');document['getElementById'](_0x11af9e(0x546))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{const _0x121e40=_0x11af9e;_0x26797a['classList'][_0x121e40(0x813)](_0x121e40(0x47f));}),document[_0x11af9e(0x2e3)]('export-compact-pdf-btn')[_0x11af9e(0x270)]('click',async()=>{const _0x1e9b26=_0x11af9e,_0xec155a=allQuizzes[_0x1e9b26(0x292)](_0x391afe=>_0x391afe['id']===actionTargetId);_0xec155a?(currentQuizData=_0xec155a,exportQuizAsWorksheetPDF()):showMessage(_0x1e9b26(0x36d)),_0x26797a[_0x1e9b26(0x52e)]['add'](_0x1e9b26(0x47f));}),document[_0x11af9e(0x2e3)](_0x11af9e(0x6c3))[_0x11af9e(0x270)](_0x11af9e(0x429),async()=>{const _0x234ecd=_0x11af9e,_0x23479b=allQuizzes[_0x234ecd(0x292)](_0x62434c=>_0x62434c['id']===actionTargetId);_0x23479b?(currentQuizData=_0x23479b,exportQuizAsTutorPDF()):showMessage(_0x234ecd(0x36d)),_0x26797a[_0x234ecd(0x52e)][_0x234ecd(0x813)]('hidden');}),document[_0x11af9e(0x2e3)](_0x11af9e(0x424))[_0x11af9e(0x270)]('click',openGlobalLiveModal),document[_0x11af9e(0x2e3)](_0x11af9e(0x553))['addEventListener'](_0x11af9e(0x429),()=>{const _0x46f182=_0x11af9e;document[_0x46f182(0x2e3)](_0x46f182(0x375))['classList']['add'](_0x46f182(0x47f)),selectedGlobalQuizId=null;}),document[_0x11af9e(0x2e3)](_0x11af9e(0x7aa))[_0x11af9e(0x270)]('input',_0x15510d=>renderGlobalQuizList(_0x15510d[_0x11af9e(0x2ae)][_0x11af9e(0x6f0)])),document[_0x11af9e(0x2e3)]('confirm-global-live-btn')[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{const _0x39b280=_0x11af9e,_0x16b945=selectedGlobalQuizId;if(!_0x16b945)return;document[_0x39b280(0x2e3)](_0x39b280(0x375))[_0x39b280(0x52e)][_0x39b280(0x813)](_0x39b280(0x47f)),handleStartLiveRace(_0x16b945);}),document[_0x11af9e(0x2e3)]('project-search-input')[_0x11af9e(0x270)](_0x11af9e(0x7c9),renderProjects),document[_0x11af9e(0x2e3)](_0x11af9e(0x289))[_0x11af9e(0x270)](_0x11af9e(0x4c3),renderProjects),document[_0x11af9e(0x2e3)](_0x11af9e(0x70a))[_0x11af9e(0x270)]('input',renderQuizzes),manageTab['addEventListener'](_0x11af9e(0x429),()=>switchProjectTab(_0x11af9e(0x428))),resultsTab[_0x11af9e(0x270)](_0x11af9e(0x429),()=>switchProjectTab(_0x11af9e(0x55f))),leaderboardTab['addEventListener'](_0x11af9e(0x429),()=>switchProjectTab(_0x11af9e(0x53d))),document[_0x11af9e(0x2e3)]('analytics-tab-btn')[_0x11af9e(0x270)]('click',()=>switchQuizDetailTab(_0x11af9e(0x3f4))),document[_0x11af9e(0x2e3)]('scores-tab-btn')['addEventListener'](_0x11af9e(0x429),()=>switchQuizDetailTab('scores')),document[_0x11af9e(0x2e3)](_0x11af9e(0x463))[_0x11af9e(0x270)]('click',()=>switchQuizDetailTab(_0x11af9e(0x53a))),document['getElementById'](_0x11af9e(0x56a))[_0x11af9e(0x270)](_0x11af9e(0x429),handleAnalyzeClass),generateWorksheetBtn[_0x11af9e(0x270)](_0x11af9e(0x429),generateWorksheet);const _0x53949f=document[_0x11af9e(0x2e3)]('link-tab'),_0x4efa97=document['getElementById']('link-input-area'),_0x1dfbd4=document['getElementById'](_0x11af9e(0x5ab)),_0x242c14=document[_0x11af9e(0x2e3)](_0x11af9e(0x4f4)),_0x5050b4=document[_0x11af9e(0x2e3)](_0x11af9e(0x6e0)),_0x11cae0=document[_0x11af9e(0x2e3)](_0x11af9e(0x218));topicTab[_0x11af9e(0x270)]('click',()=>{const _0x45ca55=_0x11af9e;topicTab[_0x45ca55(0x52e)]['add']('active'),textTab[_0x45ca55(0x52e)]['remove'](_0x45ca55(0x62f)),fileTab[_0x45ca55(0x52e)]['remove'](_0x45ca55(0x62f)),worksheetTab[_0x45ca55(0x52e)][_0x45ca55(0x3cf)](_0x45ca55(0x62f));if(_0x53949f)_0x53949f[_0x45ca55(0x52e)]['remove'](_0x45ca55(0x62f));if(_0x1dfbd4)_0x1dfbd4[_0x45ca55(0x52e)]['remove'](_0x45ca55(0x62f));if(_0x5050b4)_0x5050b4['classList'][_0x45ca55(0x3cf)](_0x45ca55(0x62f));topicInputArea[_0x45ca55(0x52e)]['remove'](_0x45ca55(0x47f)),textInputArea[_0x45ca55(0x52e)][_0x45ca55(0x813)]('hidden'),fileInputArea[_0x45ca55(0x52e)][_0x45ca55(0x813)](_0x45ca55(0x47f)),worksheetInputArea[_0x45ca55(0x52e)][_0x45ca55(0x813)]('hidden');if(_0x4efa97)_0x4efa97[_0x45ca55(0x52e)][_0x45ca55(0x813)](_0x45ca55(0x47f));if(_0x242c14)_0x242c14[_0x45ca55(0x52e)]['add'](_0x45ca55(0x47f));if(_0x11cae0)_0x11cae0[_0x45ca55(0x52e)][_0x45ca55(0x813)](_0x45ca55(0x47f));}),textTab[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{const _0x489a4a=_0x11af9e;textTab[_0x489a4a(0x52e)][_0x489a4a(0x813)](_0x489a4a(0x62f)),topicTab[_0x489a4a(0x52e)][_0x489a4a(0x3cf)](_0x489a4a(0x62f)),fileTab[_0x489a4a(0x52e)][_0x489a4a(0x3cf)](_0x489a4a(0x62f)),worksheetTab[_0x489a4a(0x52e)]['remove'](_0x489a4a(0x62f));if(_0x53949f)_0x53949f[_0x489a4a(0x52e)][_0x489a4a(0x3cf)]('active');if(_0x1dfbd4)_0x1dfbd4[_0x489a4a(0x52e)]['remove'](_0x489a4a(0x62f));if(_0x5050b4)_0x5050b4[_0x489a4a(0x52e)][_0x489a4a(0x3cf)](_0x489a4a(0x62f));textInputArea[_0x489a4a(0x52e)][_0x489a4a(0x3cf)](_0x489a4a(0x47f)),topicInputArea[_0x489a4a(0x52e)][_0x489a4a(0x813)](_0x489a4a(0x47f)),fileInputArea[_0x489a4a(0x52e)][_0x489a4a(0x813)](_0x489a4a(0x47f)),worksheetInputArea[_0x489a4a(0x52e)][_0x489a4a(0x813)](_0x489a4a(0x47f));if(_0x4efa97)_0x4efa97[_0x489a4a(0x52e)][_0x489a4a(0x813)](_0x489a4a(0x47f));if(_0x242c14)_0x242c14['classList'][_0x489a4a(0x813)](_0x489a4a(0x47f));if(_0x11cae0)_0x11cae0[_0x489a4a(0x52e)]['add'](_0x489a4a(0x47f));}),fileTab[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{const _0x450f0b=_0x11af9e;fileTab['classList'][_0x450f0b(0x813)](_0x450f0b(0x62f)),topicTab[_0x450f0b(0x52e)][_0x450f0b(0x3cf)](_0x450f0b(0x62f)),textTab[_0x450f0b(0x52e)][_0x450f0b(0x3cf)]('active'),worksheetTab[_0x450f0b(0x52e)][_0x450f0b(0x3cf)](_0x450f0b(0x62f));if(_0x53949f)_0x53949f[_0x450f0b(0x52e)][_0x450f0b(0x3cf)]('active');if(_0x1dfbd4)_0x1dfbd4[_0x450f0b(0x52e)][_0x450f0b(0x3cf)](_0x450f0b(0x62f));if(_0x5050b4)_0x5050b4[_0x450f0b(0x52e)][_0x450f0b(0x3cf)](_0x450f0b(0x62f));fileInputArea[_0x450f0b(0x52e)][_0x450f0b(0x3cf)]('hidden'),topicInputArea[_0x450f0b(0x52e)][_0x450f0b(0x813)](_0x450f0b(0x47f)),textInputArea[_0x450f0b(0x52e)][_0x450f0b(0x813)]('hidden'),worksheetInputArea[_0x450f0b(0x52e)][_0x450f0b(0x813)]('hidden');if(_0x4efa97)_0x4efa97[_0x450f0b(0x52e)][_0x450f0b(0x813)](_0x450f0b(0x47f));if(_0x242c14)_0x242c14[_0x450f0b(0x52e)]['add']('hidden');if(_0x11cae0)_0x11cae0[_0x450f0b(0x52e)]['add']('hidden');}),worksheetTab[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{const _0x1dad3c=_0x11af9e;worksheetTab['classList'][_0x1dad3c(0x813)](_0x1dad3c(0x62f)),topicTab['classList'][_0x1dad3c(0x3cf)](_0x1dad3c(0x62f)),textTab[_0x1dad3c(0x52e)][_0x1dad3c(0x3cf)](_0x1dad3c(0x62f)),fileTab['classList']['remove']('active');if(_0x53949f)_0x53949f['classList']['remove'](_0x1dad3c(0x62f));if(_0x1dfbd4)_0x1dfbd4[_0x1dad3c(0x52e)]['remove']('active');if(_0x5050b4)_0x5050b4['classList'][_0x1dad3c(0x3cf)](_0x1dad3c(0x62f));worksheetInputArea[_0x1dad3c(0x52e)][_0x1dad3c(0x3cf)](_0x1dad3c(0x47f)),topicInputArea['classList'][_0x1dad3c(0x813)](_0x1dad3c(0x47f)),textInputArea[_0x1dad3c(0x52e)][_0x1dad3c(0x813)](_0x1dad3c(0x47f)),fileInputArea[_0x1dad3c(0x52e)][_0x1dad3c(0x813)](_0x1dad3c(0x47f));if(_0x4efa97)_0x4efa97[_0x1dad3c(0x52e)]['add'](_0x1dad3c(0x47f));if(_0x242c14)_0x242c14['classList']['add']('hidden');if(_0x11cae0)_0x11cae0[_0x1dad3c(0x52e)][_0x1dad3c(0x813)]('hidden');});const _0x1d6369=document[_0x11af9e(0x2e3)]('bank-tab'),_0x3794b7=document[_0x11af9e(0x2e3)](_0x11af9e(0x5b0));_0x1d6369&&_0x1d6369[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{const _0x131940=_0x11af9e;topicTab[_0x131940(0x52e)][_0x131940(0x3cf)](_0x131940(0x62f)),textTab['classList']['remove']('active'),fileTab[_0x131940(0x52e)][_0x131940(0x3cf)]('active'),worksheetTab[_0x131940(0x52e)]['remove']('active');if(_0x53949f)_0x53949f['classList'][_0x131940(0x3cf)](_0x131940(0x62f));if(_0x1dfbd4)_0x1dfbd4[_0x131940(0x52e)][_0x131940(0x3cf)]('active');if(_0x5050b4)_0x5050b4[_0x131940(0x52e)][_0x131940(0x3cf)](_0x131940(0x62f));_0x1d6369['classList'][_0x131940(0x813)](_0x131940(0x62f)),topicInputArea[_0x131940(0x52e)][_0x131940(0x813)](_0x131940(0x47f)),textInputArea[_0x131940(0x52e)][_0x131940(0x813)]('hidden'),fileInputArea[_0x131940(0x52e)][_0x131940(0x813)](_0x131940(0x47f)),worksheetInputArea[_0x131940(0x52e)][_0x131940(0x813)](_0x131940(0x47f));if(_0x4efa97)_0x4efa97[_0x131940(0x52e)][_0x131940(0x813)]('hidden');if(_0x242c14)_0x242c14[_0x131940(0x52e)]['add'](_0x131940(0x47f));if(_0x11cae0)_0x11cae0[_0x131940(0x52e)][_0x131940(0x813)]('hidden');_0x3794b7['classList']['remove']('hidden'),displayQuestionBank();});_0x53949f&&(_0x53949f['addEventListener']('click',()=>{const _0x159448=_0x11af9e;_0x53949f[_0x159448(0x52e)]['add']('active'),topicTab[_0x159448(0x52e)]['remove'](_0x159448(0x62f)),textTab['classList'][_0x159448(0x3cf)](_0x159448(0x62f)),fileTab[_0x159448(0x52e)][_0x159448(0x3cf)](_0x159448(0x62f)),worksheetTab[_0x159448(0x52e)]['remove'](_0x159448(0x62f));if(_0x1dfbd4)_0x1dfbd4[_0x159448(0x52e)][_0x159448(0x3cf)](_0x159448(0x62f));if(_0x5050b4)_0x5050b4[_0x159448(0x52e)][_0x159448(0x3cf)](_0x159448(0x62f));_0x4efa97['classList'][_0x159448(0x3cf)](_0x159448(0x47f)),topicInputArea[_0x159448(0x52e)][_0x159448(0x813)](_0x159448(0x47f)),textInputArea['classList'][_0x159448(0x813)](_0x159448(0x47f)),fileInputArea['classList']['add'](_0x159448(0x47f)),worksheetInputArea[_0x159448(0x52e)][_0x159448(0x813)]('hidden');if(_0x242c14)_0x242c14['classList']['add'](_0x159448(0x47f));if(_0x11cae0)_0x11cae0[_0x159448(0x52e)][_0x159448(0x813)](_0x159448(0x47f));}),document['getElementById'](_0x11af9e(0x75d))[_0x11af9e(0x270)]('click',handleGenerateFromLink));_0x1dfbd4&&_0x1dfbd4['addEventListener'](_0x11af9e(0x429),()=>{const _0x498860=_0x11af9e;_0x1dfbd4[_0x498860(0x52e)][_0x498860(0x813)](_0x498860(0x62f)),topicTab[_0x498860(0x52e)][_0x498860(0x3cf)](_0x498860(0x62f)),textTab[_0x498860(0x52e)][_0x498860(0x3cf)]('active'),fileTab['classList'][_0x498860(0x3cf)](_0x498860(0x62f)),worksheetTab[_0x498860(0x52e)][_0x498860(0x3cf)](_0x498860(0x62f));if(_0x53949f)_0x53949f[_0x498860(0x52e)]['remove'](_0x498860(0x62f));if(_0x1d6369)_0x1d6369['classList'][_0x498860(0x3cf)](_0x498860(0x62f));if(_0x5050b4)_0x5050b4[_0x498860(0x52e)][_0x498860(0x3cf)](_0x498860(0x62f));_0x242c14[_0x498860(0x52e)][_0x498860(0x3cf)](_0x498860(0x47f)),topicInputArea[_0x498860(0x52e)][_0x498860(0x813)]('hidden'),textInputArea[_0x498860(0x52e)]['add']('hidden'),fileInputArea[_0x498860(0x52e)][_0x498860(0x813)](_0x498860(0x47f)),worksheetInputArea[_0x498860(0x52e)][_0x498860(0x813)](_0x498860(0x47f));if(_0x4efa97)_0x4efa97['classList'][_0x498860(0x813)](_0x498860(0x47f));if(_0x3794b7)_0x3794b7['classList']['add'](_0x498860(0x47f));if(_0x11cae0)_0x11cae0[_0x498860(0x52e)][_0x498860(0x813)](_0x498860(0x47f));});_0x5050b4&&_0x5050b4['addEventListener']('click',()=>{const _0xbf5ccf=_0x11af9e;_0x5050b4[_0xbf5ccf(0x52e)][_0xbf5ccf(0x813)]('active'),topicTab[_0xbf5ccf(0x52e)][_0xbf5ccf(0x3cf)]('active'),textTab[_0xbf5ccf(0x52e)][_0xbf5ccf(0x3cf)]('active'),fileTab[_0xbf5ccf(0x52e)][_0xbf5ccf(0x3cf)](_0xbf5ccf(0x62f)),worksheetTab[_0xbf5ccf(0x52e)]['remove'](_0xbf5ccf(0x62f));if(_0x53949f)_0x53949f['classList'][_0xbf5ccf(0x3cf)](_0xbf5ccf(0x62f));if(_0x1dfbd4)_0x1dfbd4[_0xbf5ccf(0x52e)][_0xbf5ccf(0x3cf)]('active');if(_0x1d6369)_0x1d6369[_0xbf5ccf(0x52e)][_0xbf5ccf(0x3cf)](_0xbf5ccf(0x62f));_0x11cae0['classList']['remove']('hidden'),topicInputArea[_0xbf5ccf(0x52e)][_0xbf5ccf(0x813)](_0xbf5ccf(0x47f)),textInputArea[_0xbf5ccf(0x52e)]['add']('hidden'),fileInputArea[_0xbf5ccf(0x52e)][_0xbf5ccf(0x813)]('hidden'),worksheetInputArea[_0xbf5ccf(0x52e)][_0xbf5ccf(0x813)]('hidden');if(_0x4efa97)_0x4efa97['classList'][_0xbf5ccf(0x813)](_0xbf5ccf(0x47f));if(_0x242c14)_0x242c14[_0xbf5ccf(0x52e)]['add'](_0xbf5ccf(0x47f));if(_0x3794b7)_0x3794b7[_0xbf5ccf(0x52e)]['add']('hidden');});const _0x531fd4=document['getElementById'](_0x11af9e(0x203)),_0x43e298=document['getElementById']('generate-from-blueprint-btn');_0x531fd4&&_0x531fd4[_0x11af9e(0x270)](_0x11af9e(0x4c3),_0x4ca9cc=>{const _0x25492d=_0x11af9e;_0x4ca9cc[_0x25492d(0x2ae)][_0x25492d(0x34b)][_0x25492d(0x7ca)]>0x0?_0x43e298[_0x25492d(0x271)]=![]:_0x43e298[_0x25492d(0x271)]=!![];});_0x43e298&&_0x43e298[_0x11af9e(0x270)](_0x11af9e(0x429),handleGenerateFromBlueprint);const _0xa22d1d=document[_0x11af9e(0x2e3)](_0x11af9e(0x1e0)),_0x1792b3=document['getElementById'](_0x11af9e(0x5e4));_0xa22d1d&&_0xa22d1d[_0x11af9e(0x270)](_0x11af9e(0x4c3),_0x468f16=>{const _0x4713cb=_0x11af9e;_0x1792b3['disabled']=_0x468f16[_0x4713cb(0x2ae)][_0x4713cb(0x34b)][_0x4713cb(0x7ca)]===0x0;});_0x1792b3&&_0x1792b3['addEventListener'](_0x11af9e(0x429),handleGenerateParallelTest);loadQuizBtn[_0x11af9e(0x270)](_0x11af9e(0x429),handleLoadQuiz),startQuizBtn[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{const _0x320718=_0x11af9e,_0x50da23=document[_0x320718(0x2e3)](_0x320718(0x3dc));currentStudentName=_0x50da23[_0x320718(0x6f0)];if(!currentStudentName){showMessage(_0x320718(0x269));return;}studentNameSelectionView[_0x320718(0x52e)][_0x320718(0x813)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x11af9e(0x197))[_0x11af9e(0x270)](_0x11af9e(0x429),showJoinGameView),document[_0x11af9e(0x2e3)](_0x11af9e(0x7b8))[_0x11af9e(0x270)](_0x11af9e(0x429),handleJoinLiveGame),document[_0x11af9e(0x2e3)](_0x11af9e(0x510))['addEventListener'](_0x11af9e(0x429),()=>showView(_0x11af9e(0x1d9)));const _0x52617c=()=>{const _0x268ab3=_0x11af9e,_0x402d50=document['getElementById']('results-quiz-title')[_0x268ab3(0x3d7)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x268ab3(0x372)+(_0x402d50||'quiz');},_0x181385=document['getElementById'](_0x11af9e(0x808));_0x181385&&_0x181385[_0x11af9e(0x270)](_0x11af9e(0x7c9),_0x49fe7a=>{const _0x593d39=_0x11af9e,_0x404d93=_0x49fe7a[_0x593d39(0x2ae)]['value']['toLowerCase']()['trim'](),_0x27c6fe=document['getElementById'](_0x593d39(0x295)),_0x47b961=_0x27c6fe[_0x593d39(0x1e7)]('.topic-category');_0x47b961[_0x593d39(0x676)](_0x5b0533=>{const _0xeb6307=_0x593d39;let _0x472fbe=![];const _0x57d9ff=_0x5b0533[_0xeb6307(0x1e7)](_0xeb6307(0x758));_0x57d9ff[_0xeb6307(0x676)](_0x449248=>{const _0x326140=_0xeb6307,_0x31bd63=_0x449248[_0x326140(0x71c)](_0x326140(0x39f))[_0x326140(0x3d7)][_0x326140(0x6f9)]();_0x31bd63[_0x326140(0x7a3)](_0x404d93)?(_0x449248[_0x326140(0x708)][_0x326140(0x3bd)]=_0x326140(0x3d4),_0x472fbe=!![]):_0x449248[_0x326140(0x708)][_0x326140(0x3bd)]='none';}),_0x472fbe?_0x5b0533['style'][_0xeb6307(0x3bd)]='block':_0x5b0533[_0xeb6307(0x708)][_0xeb6307(0x3bd)]=_0xeb6307(0x7c1);});});document[_0x11af9e(0x2e3)](_0x11af9e(0x778))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>exportTableAsImage(_0x11af9e(0x51d),_0x52617c())),document[_0x11af9e(0x2e3)](_0x11af9e(0x244))[_0x11af9e(0x270)]('click',()=>exportTableAsPDF(_0x11af9e(0x5c5),_0x52617c())),document[_0x11af9e(0x2e3)](_0x11af9e(0x586))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>exportTableAsWord(_0x11af9e(0x51d),_0x52617c())),document['getElementById'](_0x11af9e(0x7d3))['addEventListener'](_0x11af9e(0x429),()=>exportTableAsExcel('results-table',_0x52617c()));const _0x4eacda=()=>{const _0x40e62f=_0x11af9e,_0x4768cc=document['getElementById'](_0x40e62f(0x71b))['textContent'][_0x40e62f(0x69c)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x40e62f(0x1a1)+(_0x4768cc||'quiz');};document[_0x11af9e(0x2e3)](_0x11af9e(0x3a2))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>exportTableAsImage(_0x11af9e(0x743),_0x4eacda())),document[_0x11af9e(0x2e3)](_0x11af9e(0x272))[_0x11af9e(0x270)]('click',()=>exportTableAsPDF(_0x11af9e(0x7e0),_0x4eacda())),document[_0x11af9e(0x2e3)](_0x11af9e(0x477))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x4eacda())),document[_0x11af9e(0x2e3)](_0x11af9e(0x457))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>exportTableAsExcel(_0x11af9e(0x7e0),_0x4eacda())),projectQuizzesList[_0x11af9e(0x270)](_0x11af9e(0x429),async _0x4498a6=>{const _0x38bc45=_0x11af9e,_0x273cd0=_0x4498a6[_0x38bc45(0x2ae)][_0x38bc45(0x36a)](_0x38bc45(0x3a4));if(_0x273cd0){const _0x53dc9b=_0x273cd0[_0x38bc45(0x5d8)][_0x38bc45(0x1ce)],_0x3aac14=allQuizzes[_0x38bc45(0x292)](_0x4692f1=>_0x4692f1['id']===_0x53dc9b);if(_0x3aac14&&_0x3aac14[_0x38bc45(0x3df)]){const _0x17b4bd=_0x3aac14[_0x38bc45(0x3df)],_0x19e54f=_0x38bc45(0x4fe)+_0x3aac14[_0x38bc45(0x521)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x17b4bd[_0x38bc45(0x591)][_0x38bc45(0x70b)](_0x1e1283=>'<li>'+_0x1e1283+_0x38bc45(0x793))[_0x38bc45(0x828)]('')+_0x38bc45(0x52f)+_0x17b4bd[_0x38bc45(0x2d8)]+_0x38bc45(0x42e)+_0x17b4bd[_0x38bc45(0x210)][_0x38bc45(0x70b)](_0x390625=>_0x38bc45(0x4d4)+_0x390625[_0x38bc45(0x777)]+_0x38bc45(0x452)+_0x390625[_0x38bc45(0x2be)]+_0x38bc45(0x4c5))['join']('')+_0x38bc45(0x29c);document[_0x38bc45(0x2e3)]('lesson-plan-title')[_0x38bc45(0x3d7)]='แผนการสอน:\x20'+_0x3aac14[_0x38bc45(0x521)],document['getElementById'](_0x38bc45(0x7dc))[_0x38bc45(0x3fe)]=_0x19e54f,document['getElementById'](_0x38bc45(0x2c9))['classList'][_0x38bc45(0x3cf)]('hidden'),showConfirmation(_0x38bc45(0x67d),()=>handleGenerateLessonPlan(_0x53dc9b)),document[_0x38bc45(0x2e3)](_0x38bc45(0x28d))[_0x38bc45(0x71c)]('h3')[_0x38bc45(0x3d7)]=_0x38bc45(0x293),document['getElementById'](_0x38bc45(0x5cf))[_0x38bc45(0x3d7)]=_0x38bc45(0x608);}else handleGenerateLessonPlan(_0x53dc9b);return;}const _0x461f55=_0x4498a6[_0x38bc45(0x2ae)][_0x38bc45(0x36a)](_0x38bc45(0x705)),_0x233171=_0x4498a6['target'][_0x38bc45(0x36a)](_0x38bc45(0x79b)),_0x88ecc9=_0x4498a6[_0x38bc45(0x2ae)][_0x38bc45(0x36a)](_0x38bc45(0x6e1)),_0x132747=_0x4498a6['target'][_0x38bc45(0x36a)](_0x38bc45(0x69e)),_0x50b916=_0x4498a6[_0x38bc45(0x2ae)][_0x38bc45(0x36a)]('.start-presentation-list-btn'),_0x2e2eb3=_0x4498a6[_0x38bc45(0x2ae)]['closest'](_0x38bc45(0x481)),_0x483c2b=_0x4498a6['target'][_0x38bc45(0x36a)](_0x38bc45(0x354)),_0xb76d0=_0x4498a6[_0x38bc45(0x2ae)][_0x38bc45(0x36a)](_0x38bc45(0x346)),_0x18b0e1=_0x4498a6[_0x38bc45(0x2ae)]['closest'](_0x38bc45(0x5f9)),_0x52aa8c=_0x4498a6[_0x38bc45(0x2ae)][_0x38bc45(0x36a)](_0x38bc45(0x3a3)),_0x48d2ef=_0x4498a6[_0x38bc45(0x2ae)][_0x38bc45(0x36a)](_0x38bc45(0x7d2)),_0x140b2e=_0x4498a6['target'][_0x38bc45(0x36a)](_0x38bc45(0x4cd)),_0x5646ba=_0x4498a6[_0x38bc45(0x2ae)][_0x38bc45(0x36a)]('.edit-quiz-btn'),_0xf0293e=_0x4498a6[_0x38bc45(0x2ae)][_0x38bc45(0x36a)]('.parallel-quiz-btn'),_0x2f2aa1=_0x4498a6['target'][_0x38bc45(0x36a)](_0x38bc45(0x23c));if(_0x461f55){const _0x5036d7=_0x461f55[_0x38bc45(0x5d8)][_0x38bc45(0x1ce)],_0x878aa0=_0x461f55[_0x38bc45(0x5d8)]['preTestId'];handleCompareResults(_0x5036d7,_0x878aa0);}else{if(_0x2f2aa1){const _0x3900c4=_0x2f2aa1[_0x38bc45(0x5d8)]['quizId'];actionTargetId=_0x3900c4,document[_0x38bc45(0x2e3)](_0x38bc45(0x6ad))['classList'][_0x38bc45(0x3cf)](_0x38bc45(0x47f));}else{if(_0x5646ba){const _0x2f406e=_0x5646ba[_0x38bc45(0x5d8)][_0x38bc45(0x1ce)];handleOpenQuizEditor(_0x2f406e);}else{if(_0xf0293e){const _0x1e517a=_0xf0293e[_0x38bc45(0x5d8)][_0x38bc45(0x1ce)],_0x56b7ac=allQuizzes['find'](_0x56335c=>_0x56335c['id']===_0x1e517a);_0x56b7ac?handleGenerateParallelFromBank(_0x56b7ac):showMessage(_0x38bc45(0x36d));}else{if(_0x233171){const _0x3072b4=_0x233171[_0x38bc45(0x5d8)][_0x38bc45(0x1ce)];handleToggleStarQuiz(_0x3072b4);}else{if(_0x140b2e){const _0x33ce29=_0x140b2e[_0x38bc45(0x5d8)][_0x38bc45(0x1ce)];handleStartLiveRace(_0x33ce29);}else{if(_0x88ecc9){const _0xb65732=_0x88ecc9[_0x38bc45(0x5d8)]['quizId'],_0x499ded=_0x88ecc9[_0x38bc45(0x5d8)]['topic'];showConfirmation(_0x38bc45(0x6df)+_0x499ded+_0x38bc45(0x766),()=>handleDeleteQuiz(_0xb65732));}else{if(_0x132747){const _0x591568=_0x132747[_0x38bc45(0x5d8)]['quizId'];copyTextToClipboard(_0x591568,'คัดลอกรหัสแล้ว!');}else{if(_0x50b916){const _0x16d353=_0x50b916[_0x38bc45(0x5d8)][_0x38bc45(0x1ce)],_0x1ecf0c=doc(db,_0x38bc45(0x4ed)+appId+'/public/data/quizzes',_0x16d353),_0xba2a10=await getDoc(_0x1ecf0c);if(_0xba2a10[_0x38bc45(0x3a1)]()){const _0x3aa493={'id':_0xba2a10['id'],..._0xba2a10['data']()};startPresentation(_0x3aa493);}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x2e2eb3){const _0x3d998=_0x2e2eb3[_0x38bc45(0x5d8)][_0x38bc45(0x1ce)],_0x518b3c=doc(db,_0x38bc45(0x4ed)+appId+_0x38bc45(0x6e6),_0x3d998),_0x31c9ad=await getDoc(_0x518b3c);_0x31c9ad[_0x38bc45(0x3a1)]()?(currentQuizData={'id':_0x31c9ad['id'],..._0x31c9ad[_0x38bc45(0x7b5)]()},startAdminTest()):showMessage(_0x38bc45(0x36d));}else{if(_0x483c2b){const _0x23e269=_0x483c2b[_0x38bc45(0x5d8)][_0x38bc45(0x1ce)],_0x326f22=_0x483c2b[_0x38bc45(0x5d8)][_0x38bc45(0x521)];handleRenameQuiz(_0x23e269,_0x326f22);}else{if(_0xb76d0){const _0x462226=_0xb76d0[_0x38bc45(0x5d8)][_0x38bc45(0x1ce)];handleMoveQuiz(_0x462226);}else{if(_0x18b0e1){const _0x3afd88=_0x18b0e1['dataset'][_0x38bc45(0x1ce)];handleQuizSettings(_0x3afd88);}else{if(_0x52aa8c){const _0x23fb5c=_0x52aa8c[_0x38bc45(0x5d8)]['quizId'];handleQuizStatus(_0x23fb5c);}else{if(_0x48d2ef){const _0xe536cb=_0x48d2ef[_0x38bc45(0x5d8)][_0x38bc45(0x1ce)];handleDuplicateQuiz(_0xe536cb);}}}}}}}}}}}}}}}}),document[_0x11af9e(0x2e3)]('quiz-leaderboard-table')[_0x11af9e(0x71c)](_0x11af9e(0x3e6))['addEventListener'](_0x11af9e(0x429),_0x9c4cea=>{const _0x5f5406=_0x11af9e,_0x2e4081=_0x9c4cea[_0x5f5406(0x2ae)][_0x5f5406(0x36a)]('.sortable-header');if(!_0x2e4081||!_0x2e4081[_0x5f5406(0x5d8)][_0x5f5406(0x201)])return;const _0x1b6bb8=_0x2e4081['dataset'][_0x5f5406(0x201)];if(quizLeaderboardSortBy===_0x1b6bb8)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x5f5406(0x551)?_0x5f5406(0x2cb):_0x5f5406(0x551);else{quizLeaderboardSortBy=_0x1b6bb8;const _0x1373b0=[_0x5f5406(0x667)];quizLeaderboardSortOrder=_0x1373b0[_0x5f5406(0x7a3)](_0x1b6bb8)?_0x5f5406(0x551):_0x5f5406(0x2cb);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x5f5406(0x755));}),document[_0x11af9e(0x2e3)]('close-presentation-btn')['addEventListener']('click',closePresentation),document[_0x11af9e(0x2e3)](_0x11af9e(0x37c))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x11af9e(0x2e3)](_0x11af9e(0x607))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{const _0x2a46e0=_0x11af9e;currentQuizData[_0x2a46e0(0x2ba)]&&currentPresentationSlide<currentQuizData[_0x2a46e0(0x2ba)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x11af9e(0x270)]('fullscreenchange',()=>{const _0x1f1b81=_0x11af9e;!document['fullscreenElement']&&(presentationModal[_0x1f1b81(0x708)][_0x1f1b81(0x3bd)]=_0x1f1b81(0x7c1));}),document[_0x11af9e(0x2e3)](_0x11af9e(0x35e))[_0x11af9e(0x270)]('click',handleDeleteAllStudents),studentList[_0x11af9e(0x270)](_0x11af9e(0x429),_0x39d78f=>{const _0x39307a=_0x11af9e,_0x5aa03f=_0x39d78f[_0x39307a(0x2ae)][_0x39307a(0x36a)](_0x39307a(0x773));if(_0x5aa03f){const _0x4f11ae=_0x5aa03f['dataset'][_0x39307a(0x667)];handleDeleteStudent(_0x4f11ae);}}),document[_0x11af9e(0x2e3)](_0x11af9e(0x22e))[_0x11af9e(0x270)](_0x11af9e(0x429),handleGenerateFromFileClick),fileUploadInput[_0x11af9e(0x270)](_0x11af9e(0x4c3),_0x258e7c=>{const _0x30d738=_0x11af9e,_0x1f7930=_0x258e7c[_0x30d738(0x2ae)][_0x30d738(0x34b)][0x0],_0x122d2f=document[_0x30d738(0x2e3)](_0x30d738(0x22e));_0x1f7930?(selectedFile=_0x1f7930,_0x122d2f[_0x30d738(0x271)]=![]):(selectedFile=null,_0x122d2f[_0x30d738(0x271)]=!![]);}),document[_0x11af9e(0x2e3)](_0x11af9e(0x623))[_0x11af9e(0x270)](_0x11af9e(0x4c3),_0x2be3a3=>{const _0x1c49d0=_0x11af9e,_0x46b808=document[_0x1c49d0(0x2e3)](_0x1c49d0(0x605)),_0xdacbb4=document[_0x1c49d0(0x2e3)](_0x1c49d0(0x4aa)),_0x2045b9=document['getElementById']('timer-duration-input');_0x2be3a3['target'][_0x1c49d0(0x6f0)]===_0x1c49d0(0x7c1)?_0x46b808[_0x1c49d0(0x52e)][_0x1c49d0(0x813)]('hidden'):(_0x46b808[_0x1c49d0(0x52e)]['remove'](_0x1c49d0(0x47f)),_0x2be3a3[_0x1c49d0(0x2ae)]['value']===_0x1c49d0(0x466)?(_0xdacbb4['textContent']=_0x1c49d0(0x6b7),_0x2045b9[_0x1c49d0(0x6f0)]='10'):(_0xdacbb4[_0x1c49d0(0x3d7)]=_0x1c49d0(0x681),_0x2045b9['value']='30'));}),document['getElementById'](_0x11af9e(0x765))[_0x11af9e(0x270)](_0x11af9e(0x4c3),_0x540b60=>{const _0x1b9714=_0x11af9e,_0x4379c7=document[_0x1b9714(0x2e3)](_0x1b9714(0x6c2)),_0x1c409f=_0x540b60[_0x1b9714(0x2ae)][_0x1b9714(0x6f0)],_0x4c99d3=document[_0x1b9714(0x71c)](_0x1b9714(0x4ef)),_0x519106=document['getElementById'](_0x1b9714(0x6cb)),_0x201125=document[_0x1b9714(0x2e3)](_0x1b9714(0x5e7));_0x1c409f===_0x1b9714(0x7a2)?_0x4c99d3['textContent']=_0x1b9714(0x44a):_0x4c99d3['textContent']='จำนวนข้อ:',_0x1c409f===_0x1b9714(0x31d)||_0x1c409f==='fill_in_with_choices'||_0x1c409f==='mixed'?_0x4379c7[_0x1b9714(0x52e)][_0x1b9714(0x3cf)](_0x1b9714(0x47f)):_0x4379c7[_0x1b9714(0x52e)][_0x1b9714(0x813)](_0x1b9714(0x47f)),_0x519106[_0x1b9714(0x31e)]=_0x201125[_0x1b9714(0x6f0)];}),document['getElementById']('num-questions')[_0x11af9e(0x270)]('input',_0xf1d73=>{const _0x423265=_0x11af9e;document['getElementById'](_0x423265(0x6cb))[_0x423265(0x31e)]=_0xf1d73[_0x423265(0x2ae)][_0x423265(0x6f0)];}),document[_0x11af9e(0x2e3)]('modal-timer-mode-select')[_0x11af9e(0x270)](_0x11af9e(0x4c3),_0x43fe64=>{const _0x588320=_0x11af9e,_0x5d8397=document[_0x588320(0x2e3)]('modal-timer-duration-container'),_0x395107=document[_0x588320(0x2e3)](_0x588320(0x73a)),_0x3f7110=document[_0x588320(0x2e3)]('modal-timer-duration-input');_0x43fe64[_0x588320(0x2ae)][_0x588320(0x6f0)]===_0x588320(0x7c1)?_0x5d8397[_0x588320(0x52e)][_0x588320(0x813)](_0x588320(0x47f)):(_0x5d8397[_0x588320(0x52e)]['remove'](_0x588320(0x47f)),_0x43fe64[_0x588320(0x2ae)][_0x588320(0x6f0)]==='whole_quiz'?_0x395107['textContent']=_0x588320(0x6b7):_0x395107['textContent']='ระยะเวลา\x20(วินาที):');}),document[_0x11af9e(0x2e3)](_0x11af9e(0x3d5))[_0x11af9e(0x270)]('click',()=>{const _0x2d56ae=_0x11af9e;document[_0x2d56ae(0x2e3)]('quiz-editor-modal')[_0x2d56ae(0x52e)]['add']('hidden');}),document[_0x11af9e(0x2e3)]('cancel-quiz-edits-btn-footer')['addEventListener'](_0x11af9e(0x429),()=>{const _0x1507c5=_0x11af9e;document[_0x1507c5(0x2e3)]('quiz-editor-modal')[_0x1507c5(0x52e)][_0x1507c5(0x813)](_0x1507c5(0x47f));}),document[_0x11af9e(0x2e3)](_0x11af9e(0x2b4))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{const _0x59b2e9=_0x11af9e;document[_0x59b2e9(0x2e3)](_0x59b2e9(0x675))['classList']['add'](_0x59b2e9(0x47f)),showConfirmation(_0x59b2e9(0x769),handleSaveChanges);}),document['getElementById']('auto-fix-latex-btn')['addEventListener'](_0x11af9e(0x429),handleAutoFixLatex);const _0x47a8c9=document[_0x11af9e(0x2e3)](_0x11af9e(0x5d4));_0x47a8c9&&_0x47a8c9[_0x11af9e(0x270)]('click',_0x221b51=>{const _0x32af36=_0x11af9e,_0x2302df=_0x221b51[_0x32af36(0x2ae)][_0x32af36(0x36a)](_0x32af36(0x6fb));if(_0x2302df){const _0x477b57=_0x2302df[_0x32af36(0x36a)]('.question-editor-item'),_0x1bf7f7=parseInt(_0x477b57[_0x32af36(0x5d8)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x1bf7f7);}});document[_0x11af9e(0x2e3)](_0x11af9e(0x767))[_0x11af9e(0x270)]('click',openQuizBankModal),document[_0x11af9e(0x2e3)](_0x11af9e(0x5f3))['addEventListener'](_0x11af9e(0x429),()=>{const _0x192e8d=_0x11af9e;document['getElementById'](_0x192e8d(0x578))[_0x192e8d(0x52e)][_0x192e8d(0x813)](_0x192e8d(0x47f));}),document[_0x11af9e(0x2e3)](_0x11af9e(0x660))[_0x11af9e(0x270)]('input',_0x151302=>renderQuizBankList(_0x151302[_0x11af9e(0x2ae)][_0x11af9e(0x6f0)]));const _0x953c42=document[_0x11af9e(0x2e3)](_0x11af9e(0x295));if(_0x953c42){let _0x1f17e2=null;_0x953c42[_0x11af9e(0x270)](_0x11af9e(0x429),_0x135373=>{const _0x56daac=_0x11af9e,_0x43a0db=_0x135373[_0x56daac(0x2ae)],_0xe9c906=_0x43a0db['closest'](_0x56daac(0x701)),_0x3c9fa1=_0x43a0db[_0x56daac(0x36a)](_0x56daac(0x5bf)),_0x202926=_0x43a0db[_0x56daac(0x36a)]('.save-custom-topic-btn'),_0xa9639d=_0x43a0db['closest'](_0x56daac(0x3c4));if(_0x3c9fa1){_0x135373['preventDefault']();const _0x1c154f=_0x3c9fa1[_0x56daac(0x5d8)]['id'],_0x27061e=_0x3c9fa1[_0x56daac(0x36a)](_0x56daac(0x5bc))[_0x56daac(0x71c)](_0x56daac(0x39f))[_0x56daac(0x3d7)];showConfirmation(_0x56daac(0x42d)+_0x27061e+'\x22?',()=>handleDeleteCustomTopic(_0x1c154f));}else{if(_0xe9c906){_0x135373[_0x56daac(0x1a3)]();_0x1f17e2&&toggleTopicEditMode(_0x1f17e2,![]);const _0x412ff8=_0xe9c906[_0x56daac(0x36a)]('[data-topic-container-id]');_0x1f17e2=_0x412ff8,toggleTopicEditMode(_0x412ff8,!![]);}else{if(_0x202926){_0x135373[_0x56daac(0x1a3)]();const _0x4d43bf=_0x202926['dataset']['id'],_0x2b80e0=_0x202926['closest'](_0x56daac(0x343)),_0x125134=_0x2b80e0[_0x56daac(0x71c)]('.topic-name-input')[_0x56daac(0x6f0)];handleUpdateCustomTopic(_0x4d43bf,_0x125134),_0x1f17e2=null;}else{if(_0xa9639d){_0x135373['preventDefault']();const _0x16c475=_0xa9639d['closest'](_0x56daac(0x343));toggleTopicEditMode(_0x16c475,![]),_0x1f17e2=null;}}}}}),document[_0x11af9e(0x2e3)](_0x11af9e(0x4d2))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{const _0x58c532=_0x11af9e;document[_0x58c532(0x2e3)](_0x58c532(0x2c9))['classList'][_0x58c532(0x813)](_0x58c532(0x47f));}),document[_0x11af9e(0x2e3)]('close-lesson-plan-modal-footer-btn')[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{const _0x723226=_0x11af9e;document[_0x723226(0x2e3)](_0x723226(0x2c9))['classList'][_0x723226(0x813)](_0x723226(0x47f));}),document['getElementById'](_0x11af9e(0x4b8))['addEventListener'](_0x11af9e(0x429),handleExportLessonPDF);}document[_0x11af9e(0x2e3)](_0x11af9e(0x1fc))[_0x11af9e(0x270)](_0x11af9e(0x429),()=>{const _0x582707=_0x11af9e;document[_0x582707(0x2e3)](_0x582707(0x509))[_0x582707(0x52e)][_0x582707(0x813)](_0x582707(0x47f));}),document[_0x11af9e(0x2e3)](_0x11af9e(0x72d))['addEventListener']('click',()=>{const _0x414343=_0x11af9e;document[_0x414343(0x2e3)](_0x414343(0x509))['classList']['add'](_0x414343(0x47f));}),setupComparisonModalTabs(),document[_0x11af9e(0x2a8)][_0x11af9e(0x270)](_0x11af9e(0x429),function(_0x390900){const _0x231335=_0x11af9e;if(_0x390900[_0x231335(0x2ae)]['classList'][_0x231335(0x1d3)](_0x231335(0x47b))){const _0x206397=unescape(_0x390900[_0x231335(0x2ae)][_0x231335(0x5d8)][_0x231335(0x521)]);startSkillPractice(_0x206397);}});}async function startSkillPractice(_0x1734af){const _0x53e660=_0x2531d4;studentResultArea[_0x53e660(0x52e)][_0x53e660(0x813)](_0x53e660(0x47f)),studentQuizArea[_0x53e660(0x3fe)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x53e660(0x52e)][_0x53e660(0x3cf)](_0x53e660(0x47f));try{const _0xdc490c=await getStandardizedTopic(_0x1734af);console[_0x53e660(0x6ee)](_0x53e660(0x4d8)+_0x1734af+_0x53e660(0x1e6)+_0xdc490c+'\x22'),studentQuizArea[_0x53e660(0x71c)]('p')[_0x53e660(0x3d7)]=_0x53e660(0x679)+_0xdc490c+_0x53e660(0x6f6);const _0x566387=collection(db,_0x53e660(0x4ed)+appId+_0x53e660(0x1ed)),_0x3cc2d1=query(_0x566387,where('topic','==',_0xdc490c)),_0x43ee15=await getDocs(_0x3cc2d1);if(_0x43ee15['docs'][_0x53e660(0x7ca)]>=0x3){console[_0x53e660(0x6ee)](_0x53e660(0x619)+_0x43ee15[_0x53e660(0x446)][_0x53e660(0x7ca)]+_0x53e660(0x789)+_0xdc490c+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x1693f9=_0x43ee15[_0x53e660(0x446)]['map'](_0x3ca623=>_0x3ca623[_0x53e660(0x7b5)]());shuffleArray(_0x1693f9);const _0x4ad40b={'topic':_0xdc490c,'questions':_0x1693f9[_0x53e660(0x4b4)](0x0,0x3)};displaySkillPracticeDrill(_0x4ad40b);}else{console['log']('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0xdc490c+_0x53e660(0x1c7));const _0x4eda3f=await generatePracticeQuestions(_0xdc490c);await saveDrillToPracticeBank(_0x4eda3f,_0xdc490c),displaySkillPracticeDrill(_0x4eda3f);}}catch(_0x1bbc51){console[_0x53e660(0x3f0)](_0x53e660(0x353),_0x1bbc51),showMessage(_0x53e660(0x359)),studentQuizArea[_0x53e660(0x52e)][_0x53e660(0x813)](_0x53e660(0x47f)),studentResultArea['classList'][_0x53e660(0x3cf)](_0x53e660(0x47f));}}async function saveDrillToPracticeBank(_0x2c0158,_0x144d3f){const _0xe7a8c5=_0x2531d4,_0x277f77=collection(db,_0xe7a8c5(0x4ed)+appId+_0xe7a8c5(0x1ed)),_0x82e39a=writeBatch(db);_0x2c0158[_0xe7a8c5(0x2ba)][_0xe7a8c5(0x676)](_0xad9028=>{const _0x3d6097=_0xe7a8c5,_0x5747e2=doc(_0x277f77);_0x82e39a['set'](_0x5747e2,{'topic':_0x144d3f,'questionText':_0xad9028[_0x3d6097(0x53f)],'options':_0xad9028[_0x3d6097(0x1c1)],'correctAnswerIndex':_0xad9028[_0x3d6097(0x230)],'explanation':_0xad9028[_0x3d6097(0x3cb)],'createdAt':serverTimestamp()});});try{await _0x82e39a['commit'](),console[_0xe7a8c5(0x6ee)](_0xe7a8c5(0x31f)+_0x2c0158[_0xe7a8c5(0x2ba)][_0xe7a8c5(0x7ca)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x1bc7cd){console[_0xe7a8c5(0x3f0)](_0xe7a8c5(0x4a2),_0x1bc7cd);}}async function getStandardizedTopic(_0x43cbe3){const _0xcfa60c=_0x2531d4,_0x4e9aeb=_0xcfa60c(0x24e)+_0x43cbe3+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x34ae8c={'type':_0xcfa60c(0x693),'properties':{'standardTopic':{'type':_0xcfa60c(0x4bc)}},'required':[_0xcfa60c(0x7e2)]};try{const _0x4de5ef=await callAnalysisApi(_0x4e9aeb,_0x34ae8c);return _0x4de5ef['standardTopic'];}catch(_0x15c3d4){return console[_0xcfa60c(0x3f0)](_0xcfa60c(0x1a9),_0x15c3d4),_0x43cbe3;}}async function generatePracticeQuestions(_0x343056){const _0x1353b3=_0x2531d4,_0x9ee911=_0x1353b3(0x320)+_0x343056+_0x1353b3(0x3f1)+simpleMathPrompt+_0x1353b3(0x823),_0x4594d6={'type':_0x1353b3(0x693),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1353b3(0x184),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1353b3(0x1b2)},'explanation':{'type':_0x1353b3(0x4bc)}},'required':[_0x1353b3(0x53f),_0x1353b3(0x1c1),_0x1353b3(0x230),_0x1353b3(0x3cb)]},_0x5af6bb={'type':'OBJECT','properties':{'topic':{'type':_0x1353b3(0x4bc)},'questions':{'type':_0x1353b3(0x184),'items':_0x4594d6}},'required':[_0x1353b3(0x521),_0x1353b3(0x2ba)]};return await callAnalysisApi(_0x9ee911,_0x5af6bb);}function displaySkillPracticeDrill(_0x1f92a4){let _0x294a24=0x0;const _0x39da1e=_0x1f92a4['questions'],_0x44a879=()=>{const _0x5ca161=_0x57b0,_0x5b6930=_0x39da1e[_0x294a24],_0x53de83='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x294a24+0x1)+_0x5ca161(0x379)+_0x39da1e['length']+_0x5ca161(0x27f)+_0x5b6930[_0x5ca161(0x53f)]+_0x5ca161(0x642)+_0x5b6930['options']['map']((_0x5ced57,_0x17e971)=>_0x5ca161(0x688)+_0x17e971+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x17e971+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x17e971+'\x22>'+_0x5ced57+_0x5ca161(0x443))[_0x5ca161(0x828)]('')+_0x5ca161(0x713);studentQuizArea[_0x5ca161(0x3fe)]=_0x53de83;if(window[_0x5ca161(0x39d)])MathJax[_0x5ca161(0x61e)]([studentQuizArea]);document[_0x5ca161(0x2e3)](_0x5ca161(0x294))[_0x5ca161(0x270)](_0x5ca161(0x429),async()=>{const _0x479d30=_0x5ca161,_0x8a4b19=await getHintForQuestion(_0x5b6930[_0x479d30(0x53f)]);showMessage(_0x8a4b19);}),document[_0x5ca161(0x2e3)](_0x5ca161(0x496))[_0x5ca161(0x270)](_0x5ca161(0x429),()=>{const _0x263794=_0x5ca161,_0x30f7f2=document[_0x263794(0x71c)](_0x263794(0x405));if(!_0x30f7f2){showMessage(_0x263794(0x3a9));return;}const _0x198996=document[_0x263794(0x2e3)](_0x263794(0x18f)),_0x3df682=parseInt(_0x30f7f2['value'])===_0x5b6930[_0x263794(0x230)];_0x3df682?(_0x198996[_0x263794(0x43e)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x198996['innerHTML']=_0x263794(0x33e)+_0x5b6930['explanation']):(_0x198996[_0x263794(0x43e)]=_0x263794(0x173),_0x198996[_0x263794(0x3fe)]=_0x263794(0x48e)+_0x5b6930[_0x263794(0x3cb)]);_0x198996[_0x263794(0x52e)][_0x263794(0x3cf)](_0x263794(0x47f));if(window['MathJax'])MathJax[_0x263794(0x61e)]([_0x198996]);document[_0x263794(0x2e3)](_0x263794(0x496))['classList']['add'](_0x263794(0x47f)),document[_0x263794(0x2e3)](_0x263794(0x294))['classList'][_0x263794(0x813)](_0x263794(0x47f)),document[_0x263794(0x2e3)](_0x263794(0x4d1))[_0x263794(0x52e)][_0x263794(0x3cf)](_0x263794(0x47f));}),document['getElementById'](_0x5ca161(0x4d1))[_0x5ca161(0x270)](_0x5ca161(0x429),()=>{const _0x47109b=_0x5ca161;_0x294a24++,_0x294a24<_0x39da1e[_0x47109b(0x7ca)]?_0x44a879():(studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x47109b(0x4f3))['addEventListener'](_0x47109b(0x429),()=>{const _0x4c4684=_0x47109b;studentQuizArea[_0x4c4684(0x52e)][_0x4c4684(0x813)]('hidden'),studentResultArea[_0x4c4684(0x52e)]['remove'](_0x4c4684(0x47f));}));});};_0x44a879();}async function getHintForQuestion(_0xb31f74){const _0x5ba595=_0x2531d4,_0x40c02b=_0x5ba595(0x21d)+_0xb31f74+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x4c711d={'type':'OBJECT','properties':{'hint':{'type':'STRING'}},'required':[_0x5ba595(0x639)]};try{const _0x251031=await callAnalysisApi(_0x40c02b,_0x4c711d);return _0x251031['hint'];}catch(_0x2a3ce9){return console[_0x5ba595(0x3f0)](_0x5ba595(0x1cb),_0x2a3ce9),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x451ed2){const _0x4c48b6=_0x2531d4;pdfjsLib[_0x4c48b6(0x382)][_0x4c48b6(0x183)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x2a8981=await _0x451ed2[_0x4c48b6(0x49b)](),_0x314a4e=await pdfjsLib[_0x4c48b6(0x6f5)](_0x2a8981)[_0x4c48b6(0x581)],_0x22f100=_0x314a4e[_0x4c48b6(0x4b3)];let _0x29d086='';for(let _0x1f612f=0x1;_0x1f612f<=_0x22f100;_0x1f612f++){const _0x59a394=await _0x314a4e[_0x4c48b6(0x40e)](_0x1f612f),_0x37c4e7=await _0x59a394['getTextContent'](),_0x4b897c=_0x37c4e7['items'][_0x4c48b6(0x70b)](_0x3bd72c=>_0x3bd72c[_0x4c48b6(0x246)])[_0x4c48b6(0x828)]('\x20');_0x29d086+=_0x4b897c+'\x0a\x0a';}return _0x29d086;}async function handleGenerateFromBlueprint(){const _0x1d9864=_0x2531d4,_0x29511d=document[_0x1d9864(0x2e3)](_0x1d9864(0x203)),_0x27b93d=document[_0x1d9864(0x2e3)]('reference-pdf-upload'),_0x4c525b=_0x29511d[_0x1d9864(0x34b)][0x0],_0x3345eb=_0x27b93d[_0x1d9864(0x34b)][_0x1d9864(0x7ca)]>0x0?_0x27b93d[_0x1d9864(0x34b)][0x0]:null;if(!_0x4c525b){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x67dad4=document[_0x1d9864(0x2e3)](_0x1d9864(0x4ca)),_0x177c36=document['getElementById']('loader-text'),_0x1bd8c1=document[_0x1d9864(0x2e3)]('generated-quiz-container'),_0x1e987b=document['getElementById']('generate-from-blueprint-btn');_0x1e987b['disabled']=!![],document['getElementById'](_0x1d9864(0x45a))['classList'][_0x1d9864(0x3cf)](_0x1d9864(0x47f)),_0x1bd8c1['innerHTML']='',_0x67dad4['classList'][_0x1d9864(0x3cf)](_0x1d9864(0x47f));try{_0x177c36[_0x1d9864(0x3d7)]=_0x1d9864(0x38d);const _0x3818ba=await extractTextFromPdf(_0x4c525b);if(!_0x3818ba[_0x1d9864(0x1f8)]())throw new Error(_0x1d9864(0x55c));let _0x4f0678='';_0x3345eb&&(_0x177c36['textContent']=_0x1d9864(0x780),_0x4f0678=await extractTextFromPdf(_0x3345eb));_0x177c36[_0x1d9864(0x3d7)]=_0x1d9864(0x450);const _0x1ed78e=document[_0x1d9864(0x2e3)](_0x1d9864(0x5e3))[_0x1d9864(0x7ad)],_0x1b8180=_0x1ed78e?_0x1d9864(0x2c8):'',_0x303634=_0x4f0678?_0x1d9864(0x3fd)+_0x4f0678+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x17a855=_0x1d9864(0x367)+(_0x4f0678?_0x1d9864(0x748):'')+_0x1d9864(0x73e)+_0x3818ba+_0x1d9864(0x5aa)+_0x303634+_0x1d9864(0x754)+_0x1b8180+_0x1d9864(0x824)+simpleMathPrompt+_0x1d9864(0x1c9),_0x55b300={'type':'OBJECT','properties':{'questionText':{'type':_0x1d9864(0x4bc)},'questionType':{'type':_0x1d9864(0x4bc),'enum':['multiple_choice',_0x1d9864(0x57f)]},'options':{'type':_0x1d9864(0x184),'items':{'type':_0x1d9864(0x4bc)}},'correctAnswerIndex':{'type':_0x1d9864(0x1b2)},'idealAnswer':{'type':_0x1d9864(0x4bc)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1d9864(0x4bc)}},'required':[_0x1d9864(0x53f),_0x1d9864(0x71d),_0x1d9864(0x3cb)]},_0x2b41d3={'type':_0x1d9864(0x693),'properties':{'topic':{'type':_0x1d9864(0x4bc)},'questions':{'type':_0x1d9864(0x184),'items':_0x55b300}},'required':[_0x1d9864(0x521),_0x1d9864(0x2ba)]};await handleApiCall(_0x17a855,_0x1d9864(0x3e5),_0x2b41d3);}catch(_0x35e708){console[_0x1d9864(0x3f0)](_0x1d9864(0x211),_0x35e708),showMessage('เกิดข้อผิดพลาด:\x20'+_0x35e708[_0x1d9864(0x473)]),_0x1bd8c1[_0x1d9864(0x3fe)]=_0x1d9864(0x826);}finally{_0x67dad4[_0x1d9864(0x52e)][_0x1d9864(0x813)]('hidden'),_0x1e987b[_0x1d9864(0x271)]=![];}}async function handleGenerateParallelFromBank(_0x20b71f){const _0x1e6e50=_0x2531d4,_0x508804=document['getElementById'](_0x1e6e50(0x4ca)),_0x517e49=document[_0x1e6e50(0x2e3)](_0x1e6e50(0x5f0)),_0x15d9a1=document[_0x1e6e50(0x2e3)](_0x1e6e50(0x6e4)),_0x98a61e=document[_0x1e6e50(0x2e3)]('quiz-generation-area');showView(_0x1e6e50(0x1b5)),switchProjectTab(_0x1e6e50(0x428)),_0x98a61e['classList'][_0x1e6e50(0x3cf)](_0x1e6e50(0x47f)),_0x15d9a1['innerHTML']='',_0x508804['classList']['remove'](_0x1e6e50(0x47f)),_0x517e49[_0x1e6e50(0x3d7)]=_0x1e6e50(0x6a6)+_0x20b71f[_0x1e6e50(0x521)]+_0x1e6e50(0x6f6);try{const _0x17bf7c=_0x20b71f['questions'][_0x1e6e50(0x70b)]((_0x489a67,_0x3aa982)=>{const _0x16ccb1=_0x1e6e50;let _0x204859=_0x3aa982+0x1+'.\x20'+(_0x489a67[_0x16ccb1(0x53f)]||_0x489a67[_0x16ccb1(0x25d)])+'\x0a';if(_0x489a67[_0x16ccb1(0x1c1)])_0x204859+=_0x489a67[_0x16ccb1(0x1c1)][_0x16ccb1(0x70b)]((_0x295fd3,_0x287f63)=>_0x16ccb1(0x54d)+(_0x287f63===_0x489a67[_0x16ccb1(0x230)]?_0x16ccb1(0x2b7):'')+'\x20'+_0x295fd3)[_0x16ccb1(0x828)]('\x0a');else{if(_0x489a67[_0x16ccb1(0x1c5)])_0x204859+=_0x16ccb1(0x2c1)+_0x489a67[_0x16ccb1(0x1c5)];else _0x489a67[_0x16ccb1(0x805)]&&(_0x204859+=_0x16ccb1(0x2c1)+_0x489a67[_0x16ccb1(0x805)]);}return _0x204859;})[_0x1e6e50(0x828)]('\x0a\x0a');_0x517e49[_0x1e6e50(0x3d7)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x17be84=_0x1e6e50(0x706)+_0x20b71f['topic']+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17bf7c+_0x1e6e50(0x394)+_0x20b71f[_0x1e6e50(0x76d)]+'),\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x1e6e50(0x1c9),_0x25699e={'type':'OBJECT','properties':{'questionText':{'type':_0x1e6e50(0x4bc)},'questionType':{'type':_0x1e6e50(0x4bc),'enum':['multiple_choice',_0x1e6e50(0x57f),'true_false',_0x1e6e50(0x378)]},'options':{'type':_0x1e6e50(0x184),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1e6e50(0x1b2)},'idealAnswer':{'type':_0x1e6e50(0x4bc)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x1e6e50(0x4bc)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x1e6e50(0x184),'items':{'type':'STRING'}},'explanation':{'type':_0x1e6e50(0x4bc)},'imageCode':{'type':_0x1e6e50(0x4bc)}},'required':[_0x1e6e50(0x71d),'explanation']},_0x370907={'type':_0x1e6e50(0x693),'properties':{'topic':{'type':_0x1e6e50(0x4bc)},'questions':{'type':_0x1e6e50(0x184),'items':_0x25699e}},'required':[_0x1e6e50(0x521),'questions']};await handleApiCall(_0x17be84,_0x1e6e50(0x699),_0x370907);}catch(_0x332781){console[_0x1e6e50(0x3f0)](_0x1e6e50(0x501),_0x332781),showMessage('เกิดข้อผิดพลาด:\x20'+_0x332781[_0x1e6e50(0x473)]),_0x15d9a1[_0x1e6e50(0x3fe)]=_0x1e6e50(0x41f);}finally{_0x508804['classList'][_0x1e6e50(0x813)](_0x1e6e50(0x47f));}}async function handleGenerateParallelTest(){const _0x5dbc6b=_0x2531d4,_0x31c1cd=document['getElementById']('parallel-test-upload-input'),_0x11d239=_0x31c1cd[_0x5dbc6b(0x34b)][0x0];if(!_0x11d239){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x1f33ce=document[_0x5dbc6b(0x2e3)](_0x5dbc6b(0x4ca)),_0xa4bbc2=document[_0x5dbc6b(0x2e3)](_0x5dbc6b(0x5f0)),_0x452081=document[_0x5dbc6b(0x2e3)](_0x5dbc6b(0x6e4)),_0xde56a8=document[_0x5dbc6b(0x2e3)](_0x5dbc6b(0x5e4));_0xde56a8[_0x5dbc6b(0x271)]=!![],document['getElementById'](_0x5dbc6b(0x45a))['classList'][_0x5dbc6b(0x3cf)]('hidden'),_0x452081['innerHTML']='',_0x1f33ce['classList'][_0x5dbc6b(0x3cf)](_0x5dbc6b(0x47f)),_0xa4bbc2['textContent']='กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...';try{const _0x408f1f=await extractTextFromPdf(_0x11d239);if(!_0x408f1f[_0x5dbc6b(0x1f8)]())throw new Error(_0x5dbc6b(0x444));_0xa4bbc2[_0x5dbc6b(0x3d7)]=_0x5dbc6b(0x306);const _0xba6c2a=document[_0x5dbc6b(0x2e3)](_0x5dbc6b(0x5e3))[_0x5dbc6b(0x7ad)],_0xc509b1=_0xba6c2a?_0x5dbc6b(0x2c8):'',_0x405135='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x408f1f+_0x5dbc6b(0x7e3)+_0xc509b1+_0x5dbc6b(0x824)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1fe17e={'type':'OBJECT','properties':{'questionText':{'type':_0x5dbc6b(0x4bc)},'questionType':{'type':_0x5dbc6b(0x4bc),'enum':[_0x5dbc6b(0x31d),_0x5dbc6b(0x57f)]},'options':{'type':'ARRAY','items':{'type':_0x5dbc6b(0x4bc)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x5dbc6b(0x4bc)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5dbc6b(0x4bc)}},'required':[_0x5dbc6b(0x53f),_0x5dbc6b(0x71d),_0x5dbc6b(0x3cb)]},_0x58e667={'type':'OBJECT','properties':{'topic':{'type':_0x5dbc6b(0x4bc)},'questions':{'type':_0x5dbc6b(0x184),'items':_0x1fe17e}},'required':[_0x5dbc6b(0x521),_0x5dbc6b(0x2ba)]};await handleApiCall(_0x405135,_0x5dbc6b(0x699),_0x58e667);}catch(_0x4d0760){console['error'](_0x5dbc6b(0x305),_0x4d0760),showMessage(_0x5dbc6b(0x220)+_0x4d0760['message']),_0x452081[_0x5dbc6b(0x3fe)]=_0x5dbc6b(0x41f);}finally{_0x1f33ce[_0x5dbc6b(0x52e)][_0x5dbc6b(0x813)]('hidden'),_0xde56a8[_0x5dbc6b(0x271)]=![];}}async function handleRegenerateQuestionInEditor(_0xffc29){const _0x26869a=_0x2531d4;if(currentEditingQuizData===null)return;const _0x4d5a30=document[_0x26869a(0x71c)](_0x26869a(0x6ab)+_0xffc29+'\x22]');_0x4d5a30&&(_0x4d5a30[_0x26869a(0x3fe)]=_0x26869a(0x508));const _0x5500e2=currentEditingQuizData[_0x26869a(0x2ba)][_0xffc29],_0x273fab=currentEditingQuizData[_0x26869a(0x521)],_0x48f097=_0x5500e2[_0x26869a(0x71d)],_0x36f601={'type':_0x26869a(0x693),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x26869a(0x184),'items':{'type':_0x26869a(0x4bc)}},'correctAnswerIndex':{'type':_0x26869a(0x1b2)},'explanation':{'type':'STRING'}},'required':[_0x26869a(0x53f),_0x26869a(0x1c1),'correctAnswerIndex',_0x26869a(0x3cb)]},_0x3df3d6={'type':_0x26869a(0x693),'properties':{'questionText':{'type':_0x26869a(0x4bc)},'idealAnswer':{'type':_0x26869a(0x4bc)},'explanation':{'type':'STRING'}},'required':[_0x26869a(0x53f),_0x26869a(0x1c5),_0x26869a(0x3cb)]};let _0x4ae347,_0x32f5d0='';_0x48f097===_0x26869a(0x31d)?(_0x4ae347=_0x36f601,_0x32f5d0=_0x26869a(0x49d)):(_0x4ae347=_0x3df3d6,_0x32f5d0=_0x26869a(0x185));const _0x352509=_0x26869a(0x395)+_0x273fab+_0x26869a(0x198)+_0x32f5d0+_0x26869a(0x58d)+(_0x5500e2[_0x26869a(0x53f)]||_0x5500e2['stem'])+_0x26869a(0x5fd)+simpleMathPrompt;try{const _0x64848f=await callAnalysisApi(_0x352509,_0x4ae347);currentEditingQuizData['questions'][_0xffc29]={..._0x5500e2,..._0x64848f},renderQuizEditor(currentEditingQuizData);}catch(_0x48171f){console[_0x26869a(0x3f0)](_0x26869a(0x3f6),_0x48171f),showMessage(_0x26869a(0x217)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x7c528b=_0x2531d4,_0x335599=document[_0x7c528b(0x2e3)](_0x7c528b(0x565));currentMode===_0x7c528b(0x1d9)?(adminPasswordModal['classList'][_0x7c528b(0x3cf)]('hidden'),document[_0x7c528b(0x2e3)](_0x7c528b(0x78c))[_0x7c528b(0x648)]()):(currentMode=_0x7c528b(0x1d9),_0x335599[_0x7c528b(0x3fe)]=_0x7c528b(0x6d9),_0x335599[_0x7c528b(0x487)]=_0x7c528b(0x2f5),showView(_0x7c528b(0x1d9)));}function handleAdminLogin(){const _0xc9ab06=_0x2531d4,_0x571bfd=document[_0xc9ab06(0x2e3)](_0xc9ab06(0x78c)),_0x1fbea2=document[_0xc9ab06(0x2e3)](_0xc9ab06(0x70d));if(_0x571bfd[_0xc9ab06(0x6f0)]===_0xc9ab06(0x4ac)){adminPasswordModal[_0xc9ab06(0x52e)][_0xc9ab06(0x813)](_0xc9ab06(0x47f)),_0x571bfd[_0xc9ab06(0x6f0)]='',_0x1fbea2[_0xc9ab06(0x52e)][_0xc9ab06(0x813)]('hidden'),currentMode=_0xc9ab06(0x1d6);const _0x1d17dc=document['getElementById'](_0xc9ab06(0x565));_0x1d17dc['innerHTML']=_0xc9ab06(0x285),_0x1d17dc['title']=_0xc9ab06(0x2e2),showView(_0xc9ab06(0x3b4));}else _0x1fbea2[_0xc9ab06(0x52e)]['remove'](_0xc9ab06(0x47f)),_0x571bfd[_0xc9ab06(0x6f0)]='';}function switchProjectTab(_0x2331d4){const _0x565d39=_0x2531d4;[_0x565d39(0x428),_0x565d39(0x55f),_0x565d39(0x53d)][_0x565d39(0x676)](_0x3f2b28=>{const _0x1544d5=_0x565d39;document['getElementById'](_0x3f2b28+'-tab')[_0x1544d5(0x52e)]['remove'](_0x1544d5(0x62f)),document[_0x1544d5(0x2e3)](_0x3f2b28+_0x1544d5(0x604))[_0x1544d5(0x52e)][_0x1544d5(0x813)](_0x1544d5(0x47f));}),document[_0x565d39(0x2e3)](_0x2331d4+_0x565d39(0x4a3))[_0x565d39(0x52e)][_0x565d39(0x813)](_0x565d39(0x62f)),document[_0x565d39(0x2e3)](_0x2331d4+'-tab-content')[_0x565d39(0x52e)][_0x565d39(0x3cf)](_0x565d39(0x47f));}function switchQuizDetailTab(_0x5b9217){const _0x11f8dc=_0x2531d4,_0x62b72a={'analytics':{'btn':_0x11f8dc(0x68f),'content':_0x11f8dc(0x4af)},'scores':{'btn':_0x11f8dc(0x6a1),'content':_0x11f8dc(0x2d4)},'leaderboard-quiz':{'btn':_0x11f8dc(0x463),'content':_0x11f8dc(0x409)}};for(const _0x150699 in _0x62b72a){document['getElementById'](_0x62b72a[_0x150699][_0x11f8dc(0x718)])[_0x11f8dc(0x52e)][_0x11f8dc(0x3cf)]('active'),document[_0x11f8dc(0x2e3)](_0x62b72a[_0x150699][_0x11f8dc(0x1d1)])[_0x11f8dc(0x52e)]['add']('hidden');}document[_0x11f8dc(0x2e3)](_0x62b72a[_0x5b9217][_0x11f8dc(0x718)])['classList'][_0x11f8dc(0x813)](_0x11f8dc(0x62f)),document[_0x11f8dc(0x2e3)](_0x62b72a[_0x5b9217][_0x11f8dc(0x1d1)])[_0x11f8dc(0x52e)][_0x11f8dc(0x3cf)](_0x11f8dc(0x47f));}function showMessage(_0x18736c){const _0x5ad1ce=_0x2531d4;modalMessage['textContent']=_0x18736c,messageModal['classList'][_0x5ad1ce(0x3cf)](_0x5ad1ce(0x47f));}function showConfirmation(_0x498ce5,_0x1f6fa4){const _0x32fba8=_0x2531d4;document['getElementById'](_0x32fba8(0x2a2))['textContent']=_0x498ce5,document[_0x32fba8(0x2e3)](_0x32fba8(0x28d))[_0x32fba8(0x71c)]('h3')['textContent']='ยืนยันการกระทำ',confirmAction=_0x1f6fa4,confirmationModal[_0x32fba8(0x52e)][_0x32fba8(0x3cf)](_0x32fba8(0x47f));}function listenForProjects(){const _0x220dd2=_0x2531d4,_0x1eed4=collection(db,_0x220dd2(0x4ed)+appId+_0x220dd2(0x5f6));unsubscribeProjectsListener=onSnapshot(_0x1eed4,_0x18b838=>{const _0x49ea70=_0x220dd2;allProjects=_0x18b838[_0x49ea70(0x446)]['map'](_0x5a9c22=>({'id':_0x5a9c22['id'],..._0x5a9c22[_0x49ea70(0x7b5)]()})),renderProjects();},_0x307a11=>{const _0x1f63af=_0x220dd2;console[_0x1f63af(0x3f0)](_0x1f63af(0x497),_0x307a11),showMessage(_0x1f63af(0x251));});}async function renderProjects(){const _0x4d27b4=_0x2531d4,_0x244e73=document['getElementById'](_0x4d27b4(0x600))['value']['toLowerCase'](),_0x12545d=document[_0x4d27b4(0x2e3)](_0x4d27b4(0x289))[_0x4d27b4(0x6f0)];let _0x10a0ad=allProjects[_0x4d27b4(0x2b1)](_0x428ea9=>_0x428ea9[_0x4d27b4(0x545)][_0x4d27b4(0x6f9)]()['includes'](_0x244e73));_0x10a0ad[_0x4d27b4(0x201)]((_0xe90d73,_0x32f73e)=>{const _0x46704b=_0x4d27b4;switch(_0x12545d){case _0x46704b(0x459):return _0xe90d73['projectName'][_0x46704b(0x2c0)](_0x32f73e[_0x46704b(0x545)],'th');case _0x46704b(0x456):return _0x32f73e[_0x46704b(0x545)][_0x46704b(0x2c0)](_0xe90d73[_0x46704b(0x545)],'th');case _0x46704b(0x355):return new Date(_0xe90d73[_0x46704b(0x5fa)])-new Date(_0x32f73e[_0x46704b(0x5fa)]);case _0x46704b(0x1f0):default:return new Date(_0x32f73e['createdAt'])-new Date(_0xe90d73[_0x46704b(0x5fa)]);}});const _0x3856ff={};await Promise[_0x4d27b4(0x17a)](_0x10a0ad['map'](async _0x46a719=>{const _0x17779b=_0x4d27b4,_0x42daed=query(collection(db,_0x17779b(0x4ed)+appId+_0x17779b(0x6e6)),where(_0x17779b(0x1d8),'==',_0x46a719['id'])),_0x403955=await getDocs(_0x42daed);_0x3856ff[_0x46a719['id']]=_0x403955[_0x17779b(0x530)];}));let _0x20d594='';starredQuizzes[_0x4d27b4(0x7ca)]>0x0&&(_0x20d594+=_0x4d27b4(0x4d6)+starredQuizzes[_0x4d27b4(0x7ca)]+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x10a0ad[_0x4d27b4(0x676)](_0x5e069e=>{const _0x1a31bc=_0x4d27b4,_0x5d5ebd=_0x3856ff[_0x5e069e['id']]??0x0;_0x20d594+=_0x1a31bc(0x302)+_0x5e069e['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>'+_0x5e069e['projectName']+_0x1a31bc(0x417)+new Date(_0x5e069e['createdAt'])[_0x1a31bc(0x4d7)]('th-TH')+_0x1a31bc(0x376)+_0x5d5ebd+_0x1a31bc(0x29b)+_0x5e069e['id']+_0x1a31bc(0x647)+_0x5e069e[_0x1a31bc(0x545)]+_0x1a31bc(0x2fa);}),projectList[_0x4d27b4(0x3fe)]=_0x20d594,noProjectsMsg[_0x4d27b4(0x52e)][_0x4d27b4(0x6f3)]('hidden',_0x20d594[_0x4d27b4(0x7ca)]>0x0);}document[_0x2531d4(0x2e3)](_0x2531d4(0x1ac))[_0x2531d4(0x270)](_0x2531d4(0x429),async()=>{const _0x4428cf=_0x2531d4,_0x23fe32=document[_0x4428cf(0x2e3)](_0x4428cf(0x78e)),_0x3e1b1a=_0x23fe32['value'][_0x4428cf(0x1f8)]();if(!_0x3e1b1a){showMessage(_0x4428cf(0x775));return;}try{const _0x26028f=doc(collection(db,_0x4428cf(0x4ed)+appId+_0x4428cf(0x5f6)));await setDoc(_0x26028f,{'projectName':_0x3e1b1a,'students':[],'settings':{'resultsDisplay':_0x4428cf(0x1d7),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x4428cf(0x7c1),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0x4428cf(0x434)]()}),_0x23fe32['value']='',createProjectModal[_0x4428cf(0x52e)][_0x4428cf(0x813)]('hidden'),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x24882f){console[_0x4428cf(0x3f0)]('Error\x20creating\x20project:',_0x24882f),showMessage(_0x4428cf(0x3c8));}}),projectList['addEventListener'](_0x2531d4(0x429),async _0x4885c3=>{const _0x1e33eb=_0x2531d4,_0x4caeb8=_0x4885c3[_0x1e33eb(0x2ae)][_0x1e33eb(0x36a)]('.project-card-content'),_0x38114c=_0x4885c3[_0x1e33eb(0x2ae)][_0x1e33eb(0x36a)](_0x1e33eb(0x740));if(_0x4caeb8){const _0x867e91=_0x4caeb8[_0x1e33eb(0x5d8)]['id'];_0x867e91===_0x1e33eb(0x401)?showStarredProjectView():(currentProjectId=_0x867e91,await loadProjectDetails(currentProjectId),showView(_0x1e33eb(0x1b5)));}else{if(_0x38114c){const _0x32c825=_0x38114c[_0x1e33eb(0x5d8)]['id'],_0x8f1434=_0x38114c[_0x1e33eb(0x5d8)][_0x1e33eb(0x35d)];showConfirmation(_0x1e33eb(0x710)+_0x8f1434+'\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x32c825));}}});function calculateMeanAndStdDev(_0x1ec435){const _0x3ea562=_0x2531d4;if(_0x1ec435['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x1c0525=_0x1ec435['reduce']((_0x97e15f,_0x3d0ea1)=>_0x97e15f+_0x3d0ea1,0x0)/_0x1ec435[_0x3ea562(0x7ca)];if(_0x1ec435[_0x3ea562(0x7ca)]===0x1)return{'mean':_0x1c0525,'stdDev':0x0};const _0x46fb97=Math[_0x3ea562(0x252)](_0x1ec435[_0x3ea562(0x70b)](_0x105928=>Math[_0x3ea562(0x263)](_0x105928-_0x1c0525,0x2))['reduce']((_0x34e75d,_0x125a52)=>_0x34e75d+_0x125a52,0x0)/(_0x1ec435[_0x3ea562(0x7ca)]-0x1));return{'mean':_0x1c0525,'stdDev':_0x46fb97};}function calculateZScore(_0x384fa4,_0x1dc61c,_0x170a86){if(_0x170a86===0x0)return 0x0;return(_0x384fa4-_0x1dc61c)/_0x170a86;}function calculateTScore(_0x41f6a2){return 0xa*_0x41f6a2+0x32;}function showStarredProjectView(){const _0x18c418=_0x2531d4;currentProjectId=_0x18c418(0x196),currentProjectData=null,projectTitle[_0x18c418(0x3d7)]=_0x18c418(0x327),projectIdDisplay[_0x18c418(0x3d7)]=_0x18c418(0x2ea),showView(_0x18c418(0x1b5)),manageTab['classList']['add'](_0x18c418(0x47f)),leaderboardTab[_0x18c418(0x52e)][_0x18c418(0x813)]('hidden'),switchProjectTab(_0x18c418(0x55f)),renderQuizzes();}async function loadProjectDetails(_0x361b6e){const _0x2c8d95=_0x2531d4,_0x5bc5f9=doc(db,'artifacts/'+appId+_0x2c8d95(0x5f6),_0x361b6e),_0x8f8826=await getDoc(_0x5bc5f9);if(_0x8f8826['exists']()){manageTab[_0x2c8d95(0x52e)]['remove']('hidden'),leaderboardTab['classList'][_0x2c8d95(0x3cf)](_0x2c8d95(0x47f)),currentProjectData=_0x8f8826['data'](),projectTitle[_0x2c8d95(0x3d7)]=currentProjectData[_0x2c8d95(0x545)],projectIdDisplay[_0x2c8d95(0x3d7)]=_0x361b6e;const _0x420504=currentProjectData[_0x2c8d95(0x2b3)]||{};document[_0x2c8d95(0x2e3)]('num-questions')[_0x2c8d95(0x6f0)]=_0x420504['defaultNumQuestions']||0x5,document[_0x2c8d95(0x2e3)]('num-choices')[_0x2c8d95(0x6f0)]=_0x420504[_0x2c8d95(0x6b3)]||0x4,document[_0x2c8d95(0x2e3)](_0x2c8d95(0x6cb))[_0x2c8d95(0x6f0)]=_0x420504[_0x2c8d95(0x6ec)]||Math[_0x2c8d95(0x55e)]((_0x420504[_0x2c8d95(0x568)]||0x5)/0x2),document[_0x2c8d95(0x2e3)](_0x2c8d95(0x6cb))[_0x2c8d95(0x31e)]=_0x420504[_0x2c8d95(0x568)]||0x5,document['getElementById'](_0x2c8d95(0x20a))[_0x2c8d95(0x6f0)]=_0x420504[_0x2c8d95(0x188)]||_0x2c8d95(0x1d7),document[_0x2c8d95(0x2e3)](_0x2c8d95(0x175))['value']=_0x420504[_0x2c8d95(0x61f)]||'none';const _0x571c34=_0x420504[_0x2c8d95(0x28f)]||_0x2c8d95(0x7c1),_0x31876a=_0x420504[_0x2c8d95(0x697)]||0xa,_0x5a5b4f=document['getElementById'](_0x2c8d95(0x623)),_0x366a22=document['getElementById']('timer-duration-container'),_0xcf02b1=document[_0x2c8d95(0x2e3)](_0x2c8d95(0x2ce));_0x5a5b4f['value']=_0x571c34,_0xcf02b1['value']=_0x31876a;_0x571c34==='none'?_0x366a22[_0x2c8d95(0x52e)][_0x2c8d95(0x813)](_0x2c8d95(0x47f)):_0x366a22['classList']['remove'](_0x2c8d95(0x47f));_0x5a5b4f['dispatchEvent'](new Event(_0x2c8d95(0x4c3)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x361b6e),listenForProjectQuizzes(_0x361b6e),listenForStudentProfiles(_0x361b6e);}else showMessage(_0x2c8d95(0x759)),showView(_0x2c8d95(0x3b4));}async function handleDeleteProject(_0x34a104){const _0x148ae3=_0x2531d4;try{const _0x35f1e1=writeBatch(db),_0x53ac03=collection(db,_0x148ae3(0x4ed)+appId+_0x148ae3(0x6e6)),_0x143814=query(_0x53ac03,where('projectId','==',_0x34a104)),_0x33e6d8=await getDocs(_0x143814);for(const _0x28d581 of _0x33e6d8[_0x148ae3(0x446)]){const _0x136ac0=collection(db,_0x148ae3(0x4ed)+appId+_0x148ae3(0x80e)+_0x28d581['id']+_0x148ae3(0x724)),_0x2d2a6a=await getDocs(_0x136ac0);_0x2d2a6a[_0x148ae3(0x676)](_0x5bb871=>{const _0x5b1fa6=_0x148ae3;_0x35f1e1['delete'](_0x5bb871[_0x5b1fa6(0x274)]);}),_0x35f1e1[_0x148ae3(0x75f)](_0x28d581[_0x148ae3(0x274)]);}const _0x55349d=collection(db,_0x148ae3(0x4ed)+appId+'/public/data/projects/'+_0x34a104+'/studentProfiles'),_0x219986=await getDocs(_0x55349d);_0x219986[_0x148ae3(0x676)](_0x41e1b5=>{const _0x5b862e=_0x148ae3;_0x35f1e1[_0x5b862e(0x75f)](_0x41e1b5['ref']);});const _0x22d4f7=doc(db,_0x148ae3(0x4ed)+appId+_0x148ae3(0x5f6),_0x34a104);_0x35f1e1['delete'](_0x22d4f7),await _0x35f1e1[_0x148ae3(0x28c)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x148ae3(0x3b4));}catch(_0x1c581b){console[_0x148ae3(0x3f0)](_0x148ae3(0x19d),_0x1c581b),showMessage(_0x148ae3(0x22d));}}document[_0x2531d4(0x2e3)](_0x2531d4(0x470))[_0x2531d4(0x270)](_0x2531d4(0x429),async()=>{const _0x20ec6c=_0x2531d4;if(!currentProjectId)return;const _0x49c7a3={'defaultNumQuestions':parseInt(document['getElementById'](_0x20ec6c(0x5e7))[_0x20ec6c(0x6f0)]),'defaultNumChoices':parseInt(document[_0x20ec6c(0x2e3)](_0x20ec6c(0x7fd))[_0x20ec6c(0x6f0)]),'defaultPassingScore':parseInt(document[_0x20ec6c(0x2e3)](_0x20ec6c(0x6cb))[_0x20ec6c(0x6f0)]),'resultsDisplay':document[_0x20ec6c(0x2e3)]('results-display-select')[_0x20ec6c(0x6f0)],'shuffleSetting':document[_0x20ec6c(0x2e3)](_0x20ec6c(0x175))[_0x20ec6c(0x6f0)],'timerMode':document['getElementById']('timer-mode-select')['value'],'timerDuration':parseInt(document[_0x20ec6c(0x2e3)](_0x20ec6c(0x2ce))[_0x20ec6c(0x6f0)])};try{const _0xe3560=doc(db,_0x20ec6c(0x4ed)+appId+_0x20ec6c(0x5f6),currentProjectId);await updateDoc(_0xe3560,{'settings':_0x49c7a3}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x3a6628){console[_0x20ec6c(0x3f0)]('Error\x20saving\x20settings:',_0x3a6628),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x11e104){const _0xf23a03=doc(db,'artifacts/'+appId+'/public/data/projects',_0x11e104);unsubscribeStudentsListener=onSnapshot(_0xf23a03,_0x24ed23=>{const _0x45af1f=_0x57b0;if(_0x24ed23[_0x45af1f(0x3a1)]()){const _0x34a39a=_0x24ed23[_0x45af1f(0x7b5)]();currentProjectData=_0x34a39a,renderStudentList(_0x34a39a[_0x45af1f(0x380)]||[]);}});}function renderStudentList(_0x129d9e){const _0x43a9e1=_0x2531d4,_0x579893=document[_0x43a9e1(0x2e3)](_0x43a9e1(0x35e));_0x129d9e[_0x43a9e1(0x7ca)]===0x0?(studentList[_0x43a9e1(0x3fe)]=_0x43a9e1(0x690),_0x579893['classList'][_0x43a9e1(0x813)]('hidden')):(studentList['innerHTML']=_0x129d9e[_0x43a9e1(0x70b)](_0x5790cb=>_0x43a9e1(0x741)+_0x5790cb+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x5790cb+_0x43a9e1(0x7b9))[_0x43a9e1(0x828)](''),_0x579893[_0x43a9e1(0x52e)][_0x43a9e1(0x3cf)](_0x43a9e1(0x47f)));}document[_0x2531d4(0x2e3)](_0x2531d4(0x25c))[_0x2531d4(0x270)]('click',async()=>{const _0x3ba7d8=_0x2531d4;if(!currentProjectId)return;const _0x1dad1b=document['getElementById']('student-name-input'),_0x118ab4=_0x1dad1b[_0x3ba7d8(0x6f0)][_0x3ba7d8(0x1f8)]();if(!_0x118ab4){showMessage(_0x3ba7d8(0x4b9));return;}const _0x5159f7=_0x118ab4[_0x3ba7d8(0x1b3)]('\x0a')[_0x3ba7d8(0x70b)](_0x3a1f08=>_0x3a1f08[_0x3ba7d8(0x1f8)]())[_0x3ba7d8(0x2b1)](_0x1f67b9=>_0x1f67b9);if(_0x5159f7[_0x3ba7d8(0x7ca)]===0x0)return;try{const _0x55da38=doc(db,_0x3ba7d8(0x4ed)+appId+'/public/data/projects',currentProjectId),_0xc9b926=await getDoc(_0x55da38);if(_0xc9b926[_0x3ba7d8(0x3a1)]()){const _0x56e94a=_0xc9b926[_0x3ba7d8(0x7b5)]()[_0x3ba7d8(0x380)]||[],_0xb542c8=[...new Set([..._0x56e94a,..._0x5159f7])];await updateDoc(_0x55da38,{'students':_0xb542c8}),_0x1dad1b[_0x3ba7d8(0x6f0)]='';}}catch(_0x517f8e){console[_0x3ba7d8(0x3f0)](_0x3ba7d8(0x5ee),_0x517f8e),showMessage(_0x3ba7d8(0x451));}});function handleDeleteStudent(_0x5cd2cf){const _0x44fc44=_0x2531d4;showConfirmation(_0x44fc44(0x6b4)+_0x5cd2cf+_0x44fc44(0x3b9),async()=>{const _0x3c0e99=_0x44fc44;if(!currentProjectId||!currentProjectData)return;const _0x11ed16=currentProjectData[_0x3c0e99(0x380)][_0x3c0e99(0x2b1)](_0x5bfb8a=>_0x5bfb8a!==_0x5cd2cf);try{const _0x3eb06c=doc(db,_0x3c0e99(0x4ed)+appId+_0x3c0e99(0x5f6),currentProjectId),_0x559dd0=doc(db,_0x3c0e99(0x4ed)+appId+_0x3c0e99(0x46c)+currentProjectId+'/studentProfiles',_0x5cd2cf),_0x41ac82=writeBatch(db);_0x41ac82[_0x3c0e99(0x2cd)](_0x3eb06c,{'students':_0x11ed16}),_0x41ac82[_0x3c0e99(0x75f)](_0x559dd0),await _0x41ac82[_0x3c0e99(0x28c)]();}catch(_0xb01c78){console[_0x3c0e99(0x3f0)]('Error\x20deleting\x20student:',_0xb01c78),showMessage(_0x3c0e99(0x64b));}});}function handleDeleteAllStudents(){const _0x46b7b9=_0x2531d4;showConfirmation(_0x46b7b9(0x707),async()=>{const _0x27e133=_0x46b7b9;if(!currentProjectId)return;try{const _0x4bbcfc=doc(db,_0x27e133(0x4ed)+appId+_0x27e133(0x5f6),currentProjectId),_0x4d151f=collection(db,'artifacts/'+appId+_0x27e133(0x46c)+currentProjectId+_0x27e133(0x2d7)),_0x10f1d9=await getDocs(_0x4d151f),_0x40e6f8=writeBatch(db);_0x40e6f8['update'](_0x4bbcfc,{'students':[]}),_0x10f1d9['forEach'](_0x5d9bb4=>_0x40e6f8[_0x27e133(0x75f)](_0x5d9bb4[_0x27e133(0x274)])),await _0x40e6f8['commit']();}catch(_0x34c102){console[_0x27e133(0x3f0)](_0x27e133(0x50f),_0x34c102),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x4745e9=_0x2531d4;if(!selectedFile){showMessage(_0x4745e9(0x6fd));return;}const _0x256bba=document[_0x4745e9(0x2e3)]('loader'),_0x6ad77d=document[_0x4745e9(0x2e3)]('loader-text'),_0x9508a8=document[_0x4745e9(0x2e3)]('generated-quiz-container'),_0x793b09=document[_0x4745e9(0x2e3)]('generate-from-file-btn');_0x793b09[_0x4745e9(0x271)]=!![],document[_0x4745e9(0x2e3)](_0x4745e9(0x45a))[_0x4745e9(0x52e)]['remove']('hidden'),_0x9508a8['innerHTML']='',_0x256bba[_0x4745e9(0x52e)]['remove'](_0x4745e9(0x47f)),_0x6ad77d['textContent']='กำลังอ่านและเตรียมไฟล์...';const _0x2333af=new FileReader();_0x2333af[_0x4745e9(0x670)](selectedFile),_0x2333af['onload']=async()=>{const _0x7feb30=_0x4745e9;try{const _0x2a4b8c=_0x2333af[_0x7feb30(0x48c)]['split'](',')[0x1],_0x1e8444=selectedFile[_0x7feb30(0x7f6)];await generateQuizFromFile(_0x1e8444,_0x2a4b8c);}catch(_0x5ebf7d){console[_0x7feb30(0x3f0)](_0x7feb30(0x798),_0x5ebf7d),showMessage(_0x7feb30(0x7eb)+_0x5ebf7d[_0x7feb30(0x473)]),_0x256bba[_0x7feb30(0x52e)][_0x7feb30(0x813)](_0x7feb30(0x47f));}finally{}},_0x2333af[_0x4745e9(0x5ec)]=_0x3d4895=>{const _0x4b4970=_0x4745e9;console[_0x4b4970(0x3f0)](_0x4b4970(0x684),_0x3d4895),showMessage(_0x4b4970(0x65d)),_0x256bba[_0x4b4970(0x52e)][_0x4b4970(0x813)](_0x4b4970(0x47f)),_0x793b09['disabled']=![];};}function autoFormatMath(_0x5d4357){const _0x373934=_0x2531d4;if(typeof _0x5d4357!==_0x373934(0x5c9)||!_0x5d4357)return _0x5d4357;const _0x3528c6=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x289178=_0x5d4357['replace'](_0x3528c6,_0x2e0769=>{return'$'+_0x2e0769['trim']()+'$';});return _0x289178;}function sanitizeQuizData(_0x17d325){const _0x1fcb7a=_0x2531d4;if(!_0x17d325||!_0x17d325[_0x1fcb7a(0x2ba)])return _0x17d325;const _0x42e0da={'imes':_0x1fcb7a(0x314),'div':'\x5cdiv'},_0x136b1c=_0x531593=>{const _0x43befb=_0x1fcb7a;if(typeof _0x531593!==_0x43befb(0x5c9))return _0x531593;let _0x9f65ab=_0x531593;for(const [_0x2af955,_0x1004bb]of Object[_0x43befb(0x66c)](_0x42e0da)){const _0x165b30=new RegExp('\x5cb'+_0x2af955+'\x5cb','g');_0x9f65ab=_0x9f65ab[_0x43befb(0x69c)](_0x165b30,_0x1004bb);}return _0x9f65ab=_0x9f65ab[_0x43befb(0x69c)](/\\\//g,_0x43befb(0x632)),_0x9f65ab=_0x9f65ab['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x43befb(0x632))[_0x43befb(0x69c)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x43befb(0x314))[_0x43befb(0x69c)](/÷/g,_0x43befb(0x632))[_0x43befb(0x69c)](/×/g,'\x5ctimes'),_0x9f65ab=_0x9f65ab['replace'](/(\d)(\\frac)/g,_0x43befb(0x5be)),_0x9f65ab=autoFormatMath(_0x9f65ab),_0x9f65ab;};return _0x17d325[_0x1fcb7a(0x521)]&&(_0x17d325[_0x1fcb7a(0x521)]=_0x136b1c(_0x17d325[_0x1fcb7a(0x521)])),_0x17d325[_0x1fcb7a(0x2ba)]['forEach'](_0x4e2eda=>{const _0x3856aa=_0x1fcb7a;_0x4e2eda[_0x3856aa(0x53f)]=_0x136b1c(_0x4e2eda['questionText']),_0x4e2eda[_0x3856aa(0x1c1)]&&(_0x4e2eda['options']=_0x4e2eda['options']['map'](_0x136b1c)),_0x4e2eda[_0x3856aa(0x3cb)]&&(_0x4e2eda[_0x3856aa(0x3cb)]=_0x136b1c(_0x4e2eda[_0x3856aa(0x3cb)])),_0x4e2eda[_0x3856aa(0x25d)]&&(_0x4e2eda[_0x3856aa(0x25d)]=_0x136b1c(_0x4e2eda[_0x3856aa(0x25d)])),_0x4e2eda['correctResponse']&&(_0x4e2eda[_0x3856aa(0x805)]=_0x136b1c(_0x4e2eda[_0x3856aa(0x805)])),_0x4e2eda[_0x3856aa(0x595)]&&(_0x4e2eda[_0x3856aa(0x595)]=_0x4e2eda[_0x3856aa(0x595)][_0x3856aa(0x70b)](_0x136b1c));}),_0x17d325;}const simpleMathPrompt=_0x2531d4(0x397);async function handleGenerateFromLink(){const _0x2b060b=_0x2531d4,_0x1c3e53=document[_0x2b060b(0x2e3)](_0x2b060b(0x23a)),_0x9b7786=document[_0x2b060b(0x2e3)](_0x2b060b(0x821)),_0x37de47=_0x1c3e53['value'][_0x2b060b(0x1f8)](),_0x202c6a=_0x9b7786['value'][_0x2b060b(0x1f8)]();if(!_0x37de47){showMessage(_0x2b060b(0x614));return;}const _0x502354=document[_0x2b060b(0x2e3)](_0x2b060b(0x4ca)),_0x55eff9=document[_0x2b060b(0x2e3)](_0x2b060b(0x5f0)),_0x528bdc=document['getElementById'](_0x2b060b(0x6e4)),_0x1a875b=document[_0x2b060b(0x2e3)](_0x2b060b(0x75d));document['getElementById']('quiz-generation-area')[_0x2b060b(0x52e)][_0x2b060b(0x3cf)]('hidden'),_0x528bdc[_0x2b060b(0x3fe)]='',_0x502354[_0x2b060b(0x52e)]['remove']('hidden'),_0x55eff9[_0x2b060b(0x3d7)]=_0x2b060b(0x368),_0x1a875b[_0x2b060b(0x271)]=!![];try{const _0x11190e=_0x2b060b(0x283)+encodeURIComponent(_0x37de47),_0x1d71d6=await fetch(_0x11190e);if(!_0x1d71d6['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x1d71d6[_0x2b060b(0x3e7)]+')');const _0x1a799a=await _0x1d71d6[_0x2b060b(0x31a)](),_0x388b38=extractTextFromHtml(_0x1a799a);if(!_0x388b38||_0x388b38[_0x2b060b(0x7ca)]<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x202c6a,_0x388b38);}catch(_0x2e83c8){console['error'](_0x2b060b(0x18e),_0x2e83c8),showMessage(_0x2b060b(0x220)+_0x2e83c8[_0x2b060b(0x473)]),_0x528bdc[_0x2b060b(0x3fe)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x502354[_0x2b060b(0x52e)]['add'](_0x2b060b(0x47f)),_0x1a875b[_0x2b060b(0x271)]=![];}}function extractTextFromHtml(_0x311871){const _0x37471f=_0x2531d4,_0x8ffd03=new DOMParser()[_0x37471f(0x33a)](_0x311871,_0x37471f(0x465));return _0x8ffd03[_0x37471f(0x1e7)](_0x37471f(0x7be))[_0x37471f(0x676)](_0x13f452=>_0x13f452[_0x37471f(0x3cf)]()),_0x8ffd03[_0x37471f(0x2a8)][_0x37471f(0x3d7)]||'';}document[_0x2531d4(0x2e3)](_0x2531d4(0x2f6))[_0x2531d4(0x270)](_0x2531d4(0x429),()=>{const _0x440a8b=_0x2531d4,_0xf7bc75=document['getElementById'](_0x440a8b(0x2bf))[_0x440a8b(0x6f0)]['trim']();generateQuiz(_0xf7bc75,null);}),document[_0x2531d4(0x2e3)](_0x2531d4(0x75a))[_0x2531d4(0x270)]('click',()=>{const _0x44f713=_0x2531d4,_0x3616f9=document['getElementById']('text-content-input')['value']['trim']();if(!_0x3616f9){showMessage(_0x44f713(0x27b));return;}const _0xa9a1f6=document[_0x44f713(0x2e3)](_0x44f713(0x2bf))['value'][_0x44f713(0x1f8)]();generateQuiz(_0xa9a1f6,_0x3616f9);});async function generateQuiz(_0x2def8e,_0x59e730,_0x560df5=null){const _0x4dc2c2=_0x2531d4,_0x2467cf=document[_0x4dc2c2(0x2e3)](_0x4dc2c2(0x5e3))[_0x4dc2c2(0x7ad)],_0xa57049=document['getElementById'](_0x4dc2c2(0x765))[_0x4dc2c2(0x6f0)],_0x5edb4d=document[_0x4dc2c2(0x2e3)](_0x4dc2c2(0x5e7))[_0x4dc2c2(0x6f0)],_0x1ebb0d=document[_0x4dc2c2(0x2e3)](_0x4dc2c2(0x7fd))[_0x4dc2c2(0x6f0)],_0x5280eb=document[_0x4dc2c2(0x2e3)](_0x4dc2c2(0x750))[_0x4dc2c2(0x7ad)],_0x4159a0=_0x5280eb?'':_0x4dc2c2(0x5c8),_0x35493f=document['getElementById']('difficulty-level-select'),_0x1e17fc=_0x35493f['value'];let _0x51e4c0='';_0x1e17fc!==_0x4dc2c2(0x6a3)&&(_0x51e4c0=_0x4dc2c2(0x36b)+_0x1e17fc+'\x22');const _0x14cc83=document[_0x4dc2c2(0x2e3)](_0x4dc2c2(0x81a)),_0x3b0a83=_0x14cc83[_0x4dc2c2(0x6f0)];let _0x5ee232='';_0x3b0a83!==_0x4dc2c2(0x5d6)&&(_0x5ee232=_0x4dc2c2(0x20e)+_0x3b0a83+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy');const _0x4cbed3=document[_0x4dc2c2(0x1e7)](_0x4dc2c2(0x47e)),_0x3dc507=Array[_0x4dc2c2(0x479)](_0x4cbed3)[_0x4dc2c2(0x70b)](_0x4548fe=>_0x4548fe[_0x4dc2c2(0x6f0)]);let _0x440773='';_0x3dc507[_0x4dc2c2(0x7ca)]>0x0&&(_0x440773=_0x4dc2c2(0x1eb)+_0x3dc507[_0x4dc2c2(0x828)](',\x20')+_0x4dc2c2(0x430));let _0x16cf1e='',_0x36bfa5='',_0x44cc54,_0x84bf40=_0x4dc2c2(0x680)+_0x2def8e+'\x22';if(!_0x2def8e&&_0x59e730)_0x84bf40=_0x4dc2c2(0x6a0);else!_0x2def8e&&!_0x59e730&&(_0x84bf40='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x64a917={'type':_0x4dc2c2(0x693),'properties':{'questionText':{'type':_0x4dc2c2(0x4bc)},'options':{'type':_0x4dc2c2(0x184),'items':{'type':_0x4dc2c2(0x4bc)}},'correctAnswerIndex':{'type':_0x4dc2c2(0x1b2)},'explanation':{'type':_0x4dc2c2(0x4bc)},'imageCode':{'type':'STRING'}},'required':[_0x4dc2c2(0x53f),_0x4dc2c2(0x1c1),_0x4dc2c2(0x230),_0x4dc2c2(0x3cb)]},_0x4fd4be={'type':_0x4dc2c2(0x693),'properties':{'questionText':{'type':_0x4dc2c2(0x4bc)},'idealAnswer':{'type':_0x4dc2c2(0x4bc)},'explanation':{'type':_0x4dc2c2(0x4bc)},'imageCode':{'type':_0x4dc2c2(0x4bc)}},'required':['questionText','idealAnswer',_0x4dc2c2(0x3cb)]},_0x5b29b0={'type':_0x4dc2c2(0x693),'properties':{'questionText':{'type':_0x4dc2c2(0x4bc)},'questionType':{'type':_0x4dc2c2(0x4bc),'enum':[_0x4dc2c2(0x31d),_0x4dc2c2(0x57f)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4dc2c2(0x1b2)},'idealAnswer':{'type':_0x4dc2c2(0x4bc)},'explanation':{'type':_0x4dc2c2(0x4bc)},'imageCode':{'type':_0x4dc2c2(0x4bc)}},'required':['questionText',_0x4dc2c2(0x71d),_0x4dc2c2(0x3cb)]},_0x55fbd5={'type':_0x4dc2c2(0x693),'properties':{'questionText':{'type':_0x4dc2c2(0x4bc)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x4dc2c2(0x4bc)},'imageCode':{'type':_0x4dc2c2(0x4bc)}},'required':[_0x4dc2c2(0x53f),'correctAnswer',_0x4dc2c2(0x3cb)]},_0xb2123d={'type':_0x4dc2c2(0x693),'properties':{'questionType':{'type':_0x4dc2c2(0x4bc),'enum':[_0x4dc2c2(0x378)]},'stem':{'type':_0x4dc2c2(0x4bc)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x4dc2c2(0x184),'items':{'type':_0x4dc2c2(0x4bc)}},'explanation':{'type':_0x4dc2c2(0x4bc)},'imageCode':{'type':_0x4dc2c2(0x4bc)}},'required':[_0x4dc2c2(0x71d),_0x4dc2c2(0x25d),_0x4dc2c2(0x805),_0x4dc2c2(0x595),'explanation']};let _0x540af3;if(_0x560df5!==null){const _0x4520cf=currentQuizData[_0x4dc2c2(0x2ba)][_0x560df5][_0x4dc2c2(0x71d)],_0x5120d8=_0x2467cf?_0x4dc2c2(0x616):'';_0x16cf1e='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x84bf40+'\x20'+_0x440773+'\x20'+_0x51e4c0+_0x4dc2c2(0x78a)+_0x5120d8+'\x20'+simpleMathPrompt;if(_0x4520cf===_0x4dc2c2(0x31d))_0x44cc54=_0x64a917;else{if(_0x4520cf===_0x4dc2c2(0x378))_0x44cc54={'type':'OBJECT','properties':{'questionType':{'type':_0x4dc2c2(0x4bc),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x4dc2c2(0x4bc)},'explanation':{'type':_0x4dc2c2(0x4bc)},'imageCode':{'type':_0x4dc2c2(0x4bc)}},'required':[_0x4dc2c2(0x71d),_0x4dc2c2(0x25d),_0x4dc2c2(0x805),_0x4dc2c2(0x3cb)]};else _0x44cc54=_0x4fd4be;}_0x540af3=_0x44cc54;}else{const _0x4a4043=_0x2467cf?_0x4dc2c2(0x402):'';switch(_0xa57049){case _0x4dc2c2(0x31d):_0x16cf1e=_0x4dc2c2(0x20f)+_0x4159a0+'\x20'+_0x5edb4d+'\x20ข้อ\x20'+_0x84bf40+'\x20'+_0x440773+'\x20'+_0x51e4c0+'\x20'+_0x5ee232+_0x4dc2c2(0x548)+_0x1ebb0d+_0x4dc2c2(0x3b7)+_0x4a4043+'\x20'+simpleMathPrompt,_0x44cc54=_0x64a917;break;case _0x4dc2c2(0x57a):_0x16cf1e=_0x4dc2c2(0x453)+_0x4159a0+'\x20'+_0x5edb4d+'\x20ข้อ\x20'+_0x84bf40+'\x20'+_0x440773+'\x20'+_0x51e4c0+'\x20'+_0x5ee232+_0x4dc2c2(0x315)+_0x1ebb0d+_0x4dc2c2(0x711)+_0x4a4043+'\x20'+simpleMathPrompt,_0x44cc54=_0x64a917;break;case _0x4dc2c2(0x494):_0x16cf1e=_0x4dc2c2(0x453)+_0x4159a0+'\x20'+_0x5edb4d+_0x4dc2c2(0x193)+_0x84bf40+'\x20'+_0x440773+'\x20'+_0x51e4c0+'\x20'+_0x5ee232+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4a4043+'\x20'+simpleMathPrompt,_0x44cc54=_0x4fd4be;break;case'mixed':_0x16cf1e='สร้างแบบทดสอบ'+_0x4159a0+'\x20'+_0x5edb4d+'\x20ข้อ\x20'+_0x84bf40+'\x20'+_0x440773+'\x20'+_0x51e4c0+'\x20'+_0x5ee232+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x1ebb0d+_0x4dc2c2(0x47c)+_0x4a4043+'\x20'+simpleMathPrompt+'.',_0x44cc54=_0x5b29b0;break;case _0x4dc2c2(0x1ab):_0x16cf1e=_0x4dc2c2(0x60f)+_0x4159a0+'\x20'+_0x5edb4d+_0x4dc2c2(0x193)+_0x84bf40+'\x20'+_0x440773+'\x20'+_0x51e4c0+'\x20'+_0x5ee232+_0x4dc2c2(0x7ff)+_0x4a4043+'\x20'+simpleMathPrompt,_0x44cc54=_0x55fbd5;break;case _0x4dc2c2(0x7a2):_0x16cf1e='สร้างชุดคำถามจับคู่'+_0x4159a0+'\x20'+_0x5edb4d+_0x4dc2c2(0x1ad)+_0x84bf40+'\x20'+_0x440773+'\x20'+_0x51e4c0+'\x20'+_0x5ee232+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x4a4043+'\x20'+simpleMathPrompt,_0x44cc54=_0xb2123d;break;}_0x540af3={'type':_0x4dc2c2(0x693),'properties':{'topic':{'type':_0x4dc2c2(0x4bc)},'questions':{'type':_0x4dc2c2(0x184),'items':_0x44cc54}},'required':[_0x4dc2c2(0x521),_0x4dc2c2(0x2ba)]};}return _0x59e730?(_0x16cf1e=_0x4dc2c2(0x819)+_0x59e730+_0x4dc2c2(0x820)+_0x16cf1e,_0x36bfa5='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x36bfa5=_0x4dc2c2(0x5c0),handleApiCall(_0x16cf1e,_0x36bfa5,_0x540af3,_0x560df5);}async function generateQuizFromFile(_0x1063ed,_0x2a57ae){const _0x274904=_0x2531d4,_0x3d9ab6=document[_0x274904(0x2e3)](_0x274904(0x3ff))[_0x274904(0x6f0)][_0x274904(0x1f8)](),_0x53de00=document[_0x274904(0x2e3)]('quiz-type-select')['value'],_0x5ec9c4=document['getElementById'](_0x274904(0x5e7))[_0x274904(0x6f0)],_0x57a4b1=document[_0x274904(0x2e3)](_0x274904(0x7fd))[_0x274904(0x6f0)],_0x3387fe=document[_0x274904(0x2e3)](_0x274904(0x5e3))[_0x274904(0x7ad)],_0x2bed56=document['getElementById'](_0x274904(0x750))[_0x274904(0x7ad)],_0x3dcd9a=_0x2bed56?'':_0x274904(0x5c8);let _0x248e14='',_0x5406a5,_0x19a787=_0x274904(0x680)+_0x3d9ab6+'\x22';!_0x3d9ab6&&(_0x19a787=_0x274904(0x287));const _0xb1114a=_0x3387fe?_0x274904(0x402):'';switch(_0x53de00){case _0x274904(0x31d):_0x248e14=_0x274904(0x20f)+_0x3dcd9a+'\x20'+_0x5ec9c4+'\x20ข้อ\x20'+_0x19a787+'.\x20แต่ละข้อมี\x20'+_0x57a4b1+_0x274904(0x3b7)+_0xb1114a+'\x20'+simpleMathPrompt,_0x5406a5={'type':_0x274904(0x693),'properties':{'questionText':{'type':_0x274904(0x4bc)},'options':{'type':_0x274904(0x184),'items':{'type':_0x274904(0x4bc)}},'correctAnswerIndex':{'type':_0x274904(0x1b2)},'explanation':{'type':_0x274904(0x4bc)},'imageCode':{'type':_0x274904(0x4bc)}},'required':['questionText',_0x274904(0x1c1),'correctAnswerIndex',_0x274904(0x3cb)]};break;case _0x274904(0x57a):_0x248e14=_0x274904(0x453)+_0x3dcd9a+'\x20'+_0x5ec9c4+_0x274904(0x193)+_0x19a787+_0x274904(0x315)+_0x57a4b1+_0x274904(0x711)+_0xb1114a+'\x20'+simpleMathPrompt,_0x5406a5={'type':_0x274904(0x693),'properties':{'questionText':{'type':_0x274904(0x4bc)},'options':{'type':_0x274904(0x184),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x274904(0x1b2)},'explanation':{'type':_0x274904(0x4bc)},'imageCode':{'type':'STRING'}},'required':[_0x274904(0x53f),_0x274904(0x1c1),_0x274904(0x230),_0x274904(0x3cb)]};break;case _0x274904(0x494):_0x248e14='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3dcd9a+'\x20'+_0x5ec9c4+_0x274904(0x193)+_0x19a787+_0x274904(0x81f)+_0xb1114a+'\x20'+simpleMathPrompt,_0x5406a5={'type':_0x274904(0x693),'properties':{'questionText':{'type':_0x274904(0x4bc)},'idealAnswer':{'type':_0x274904(0x4bc)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x274904(0x53f),'idealAnswer',_0x274904(0x3cb)]};break;case _0x274904(0x5d6):_0x248e14=_0x274904(0x7f0)+_0x3dcd9a+'\x20'+_0x5ec9c4+_0x274904(0x193)+_0x19a787+_0x274904(0x170)+_0x57a4b1+_0x274904(0x47c)+_0xb1114a+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x5406a5={'type':_0x274904(0x693),'properties':{'questionText':{'type':_0x274904(0x4bc)},'questionType':{'type':_0x274904(0x4bc),'enum':[_0x274904(0x31d),_0x274904(0x57f)]},'options':{'type':'ARRAY','items':{'type':_0x274904(0x4bc)}},'correctAnswerIndex':{'type':_0x274904(0x1b2)},'idealAnswer':{'type':_0x274904(0x4bc)},'explanation':{'type':_0x274904(0x4bc)},'imageCode':{'type':_0x274904(0x4bc)}},'required':[_0x274904(0x53f),_0x274904(0x71d),_0x274904(0x3cb)]};break;case _0x274904(0x1ab):_0x248e14=_0x274904(0x60f)+_0x3dcd9a+'\x20'+_0x5ec9c4+_0x274904(0x193)+_0x19a787+_0x274904(0x52d)+_0xb1114a+'\x20'+simpleMathPrompt,_0x5406a5={'type':_0x274904(0x693),'properties':{'questionText':{'type':_0x274904(0x4bc)},'correctAnswer':{'type':_0x274904(0x1f7)},'explanation':{'type':_0x274904(0x4bc)},'imageCode':{'type':_0x274904(0x4bc)}},'required':[_0x274904(0x53f),_0x274904(0x756),'explanation']};break;case _0x274904(0x7a2):_0x248e14='สร้างชุดคำถามจับคู่'+_0x3dcd9a+'\x20'+_0x5ec9c4+_0x274904(0x1ad)+_0x19a787+_0x274904(0x6ff)+_0x5ec9c4+_0x274904(0x420)+_0xb1114a+'\x20'+simpleMathPrompt,_0x5406a5={'type':_0x274904(0x693),'properties':{'questionType':{'type':'STRING','enum':[_0x274904(0x378)]},'stem':{'type':_0x274904(0x4bc)},'correctResponse':{'type':_0x274904(0x4bc)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x274904(0x4bc)},'imageCode':{'type':_0x274904(0x4bc)}},'required':[_0x274904(0x71d),'stem',_0x274904(0x805),_0x274904(0x595),'explanation']};break;}const _0x17b04a={'type':'OBJECT','properties':{'topic':{'type':_0x274904(0x4bc)},'questions':{'type':_0x274904(0x184),'items':_0x5406a5}},'required':[_0x274904(0x521),'questions']},_0x30360a=_0x274904(0x7a5)+_0x248e14,_0x27a893={'contents':[{'parts':[{'text':_0x30360a},{'inlineData':{'mimeType':_0x1063ed,'data':_0x2a57ae}}]}],'generationConfig':{'responseMimeType':_0x274904(0x782),'responseSchema':_0x17b04a}};return handleApiCall(_0x27a893[_0x274904(0x199)][0x0]['parts'],_0x274904(0x77b),_0x17b04a);}async function handleApiCall(_0x53682c,_0x47be7b,_0x30f8f1,_0x422d5c=null){const _0x58d4e9=_0x2531d4,_0x27182e=document[_0x58d4e9(0x2e3)](_0x58d4e9(0x45a)),_0xa62cd6=document[_0x58d4e9(0x2e3)]('loader'),_0x5aadeb=document[_0x58d4e9(0x2e3)](_0x58d4e9(0x5f0)),_0x315169=document[_0x58d4e9(0x2e3)](_0x58d4e9(0x6e4));_0x27182e[_0x58d4e9(0x52e)][_0x58d4e9(0x3cf)]('hidden');_0x422d5c===null&&(_0x315169[_0x58d4e9(0x3fe)]='');_0xa62cd6['classList'][_0x58d4e9(0x3cf)]('hidden'),_0x5aadeb[_0x58d4e9(0x3d7)]=_0x47be7b,document[_0x58d4e9(0x2e3)](_0x58d4e9(0x2f6))['disabled']=!![],document[_0x58d4e9(0x2e3)]('generate-from-text-btn')[_0x58d4e9(0x271)]=!![],document['getElementById'](_0x58d4e9(0x75d))[_0x58d4e9(0x271)]=!![];try{const _0x10717d={'responseMimeType':_0x58d4e9(0x782),'responseSchema':_0x30f8f1},_0x57cd62=Array['isArray'](_0x53682c)?_0x53682c:[{'text':_0x53682c}],_0x4fe919={'contents':[{'role':_0x58d4e9(0x39b),'parts':_0x57cd62}],'generationConfig':_0x10717d},_0x4f4357=_0x58d4e9(0x502),_0x45ddad='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x4f4357,_0x37a0e1=await fetch(_0x45ddad,{'method':_0x58d4e9(0x5a0),'headers':{'Content-Type':'application/json'},'body':JSON[_0x58d4e9(0x1b0)](_0x4fe919)});if(!_0x37a0e1['ok'])throw new Error(_0x58d4e9(0x32a)+_0x37a0e1['status']);const _0x7110ac=await _0x37a0e1['json']();if(_0x7110ac[_0x58d4e9(0x512)]?.[0x0]?.['content']?.[_0x58d4e9(0x1e2)]?.[0x0]){let _0x4178d1=_0x7110ac[_0x58d4e9(0x512)][0x0][_0x58d4e9(0x1d1)][_0x58d4e9(0x1e2)][0x0][_0x58d4e9(0x31a)],_0x9f5d1;try{if(_0x4178d1[_0x58d4e9(0x5fc)](_0x58d4e9(0x715)))_0x4178d1=_0x4178d1[_0x58d4e9(0x4dc)](0x7,_0x4178d1[_0x58d4e9(0x7ca)]-0x3)[_0x58d4e9(0x1f8)]();else _0x4178d1[_0x58d4e9(0x5fc)](_0x58d4e9(0x6b9))&&(_0x4178d1=_0x4178d1[_0x58d4e9(0x4dc)](0x3,_0x4178d1[_0x58d4e9(0x7ca)]-0x3)[_0x58d4e9(0x1f8)]());_0x9f5d1=JSON[_0x58d4e9(0x3ef)](_0x4178d1);}catch(_0x5f323a){console[_0x58d4e9(0x3f0)](_0x58d4e9(0x438),_0x5f323a,_0x4178d1);throw new Error(_0x58d4e9(0x62e));}if(_0x422d5c!==null){if(_0x9f5d1['questionType']===_0x58d4e9(0x378)){const _0x58d46f=currentQuizData[_0x58d4e9(0x2ba)][_0x58d4e9(0x70b)](_0x5eae40=>_0x5eae40[_0x58d4e9(0x805)]);_0x9f5d1['allResponses']=_0x58d46f;const _0x2dfd79=currentQuizData['questions'][_0x422d5c][_0x58d4e9(0x805)],_0x15cf4d=_0x58d46f[_0x58d4e9(0x229)](_0x2dfd79);_0x15cf4d>-0x1&&(_0x58d46f[_0x15cf4d]=_0x9f5d1[_0x58d4e9(0x805)]),currentQuizData[_0x58d4e9(0x2ba)][_0x58d4e9(0x676)](_0x4ce550=>{const _0x52ddc7=_0x58d4e9;if(_0x4ce550[_0x52ddc7(0x71d)]===_0x52ddc7(0x378))_0x4ce550[_0x52ddc7(0x595)]=_0x58d46f;});}currentQuizData[_0x58d4e9(0x2ba)][_0x422d5c]=_0x9f5d1,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x9f5d1;const _0x50c79f=document['getElementById']('quiz-type-select')['value'];currentQuizData[_0x58d4e9(0x76d)]=_0x50c79f,currentQuizData[_0x58d4e9(0x2ba)]&&currentQuizData[_0x58d4e9(0x2ba)][_0x58d4e9(0x676)](_0x35e979=>{const _0x36cabf=_0x58d4e9;if(!_0x35e979[_0x36cabf(0x71d)]){if(_0x50c79f===_0x36cabf(0x57a))_0x35e979[_0x36cabf(0x71d)]='multiple_choice';else _0x50c79f===_0x36cabf(0x494)?_0x35e979[_0x36cabf(0x71d)]=_0x36cabf(0x57f):_0x35e979[_0x36cabf(0x71d)]=_0x50c79f;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error']('Invalid\x20response\x20structure\x20from\x20AI:',JSON[_0x58d4e9(0x1b0)](_0x7110ac));throw new Error(_0x58d4e9(0x62e));}}catch(_0x362943){console[_0x58d4e9(0x3f0)]('Error\x20generating\x20quiz:',_0x362943),showMessage(_0x58d4e9(0x38e)),_0x422d5c===null&&(_0x315169[_0x58d4e9(0x3fe)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');}finally{_0xa62cd6['classList']['add'](_0x58d4e9(0x47f)),document[_0x58d4e9(0x2e3)]('generate-from-topic-btn')[_0x58d4e9(0x271)]=![],document[_0x58d4e9(0x2e3)](_0x58d4e9(0x75a))[_0x58d4e9(0x271)]=![],document[_0x58d4e9(0x2e3)]('generate-from-link-btn')[_0x58d4e9(0x271)]=![];const _0x11af3b=document[_0x58d4e9(0x2e3)](_0x58d4e9(0x22e));_0x11af3b&&(_0x11af3b[_0x58d4e9(0x271)]=![]);}}function displayGeneratedQuiz(_0x437561){const _0x1190b7=_0x2531d4,_0x5947ee=document[_0x1190b7(0x2e3)](_0x1190b7(0x6e4));let _0x4aaed1=_0x1190b7(0x22f)+_0x437561['topic']+'</h3>';_0x437561[_0x1190b7(0x2ba)][_0x1190b7(0x676)]((_0x444a99,_0x223e6e)=>{const _0x170fa6=_0x1190b7,_0x2b4615=_0x444a99[_0x170fa6(0x71d)]||_0x437561[_0x170fa6(0x76d)];_0x4aaed1+=_0x170fa6(0x1df)+_0x223e6e+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x223e6e+_0x170fa6(0x696)+_0x223e6e+_0x170fa6(0x30c);switch(_0x2b4615){case _0x170fa6(0x378):_0x4aaed1+=_0x170fa6(0x745)+_0x223e6e+'\x22>'+(_0x223e6e+0x1)+'.\x20'+_0x444a99[_0x170fa6(0x25d)]+_0x170fa6(0x179);_0x444a99[_0x170fa6(0x1aa)]&&(_0x4aaed1+=_0x170fa6(0x46f)+_0x223e6e+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x444a99[_0x170fa6(0x1aa)]+_0x170fa6(0x61b));_0x4aaed1+=_0x170fa6(0x39a)+_0x223e6e+'\x22>'+_0x444a99[_0x170fa6(0x805)]+_0x170fa6(0x58b),_0x4aaed1+=_0x170fa6(0x4fd)+_0x223e6e+'\x22>'+_0x444a99[_0x170fa6(0x3cb)]+_0x170fa6(0x58b);break;case _0x170fa6(0x57f):_0x4aaed1+=_0x170fa6(0x745)+_0x223e6e+'\x22>'+(_0x223e6e+0x1)+'.\x20'+_0x444a99['questionText']+_0x170fa6(0x179);_0x444a99[_0x170fa6(0x1aa)]&&(_0x4aaed1+=_0x170fa6(0x46f)+_0x223e6e+_0x170fa6(0x51a)+_0x444a99['imageCode']+'</div>');_0x4aaed1+=_0x170fa6(0x790)+_0x223e6e+'\x22>'+_0x444a99['idealAnswer']+'</span></div>',_0x4aaed1+=_0x170fa6(0x4fd)+_0x223e6e+'\x22>'+_0x444a99[_0x170fa6(0x3cb)]+_0x170fa6(0x58b);break;case'true_false':_0x4aaed1+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x223e6e+'\x22>'+(_0x223e6e+0x1)+'.\x20'+_0x444a99[_0x170fa6(0x53f)]+_0x170fa6(0x179);_0x444a99[_0x170fa6(0x1aa)]&&(_0x4aaed1+='<div\x20id=\x22q-image-container-'+_0x223e6e+_0x170fa6(0x51a)+_0x444a99[_0x170fa6(0x1aa)]+_0x170fa6(0x61b));_0x4aaed1+=_0x170fa6(0x181)+(_0x444a99[_0x170fa6(0x756)]===!![]?'text-green-600\x20font-bold':'')+_0x170fa6(0x532)+(_0x444a99[_0x170fa6(0x756)]===![]?_0x170fa6(0x5af):'')+_0x170fa6(0x366),_0x4aaed1+=_0x170fa6(0x4fd)+_0x223e6e+'\x22>'+_0x444a99[_0x170fa6(0x3cb)]+_0x170fa6(0x58b);break;case _0x170fa6(0x4e6):case'multiple_choice':default:_0x4aaed1+=_0x170fa6(0x745)+_0x223e6e+'\x22>'+(_0x223e6e+0x1)+'.\x20'+_0x444a99['questionText']+'</p>';_0x444a99['imageCode']&&(_0x4aaed1+=_0x170fa6(0x46f)+_0x223e6e+_0x170fa6(0x51a)+_0x444a99[_0x170fa6(0x1aa)]+_0x170fa6(0x61b));_0x4aaed1+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x223e6e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x444a99[_0x170fa6(0x1c1)][_0x170fa6(0x70b)]((_0x349894,_0x9c01ba)=>_0x170fa6(0x19f)+(_0x9c01ba===_0x444a99[_0x170fa6(0x230)]?_0x170fa6(0x5af):'')+'\x22>'+_0x349894+_0x170fa6(0x793))[_0x170fa6(0x828)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x4aaed1+=_0x170fa6(0x4fd)+_0x223e6e+'\x22>'+_0x444a99[_0x170fa6(0x3cb)]+_0x170fa6(0x58b);break;}_0x4aaed1+='</div>';}),_0x4aaed1+=_0x1190b7(0x307),_0x5947ee[_0x1190b7(0x3fe)]=_0x4aaed1,document['querySelectorAll'](_0x1190b7(0x75b))[_0x1190b7(0x676)](_0x5a576c=>_0x5a576c['addEventListener'](_0x1190b7(0x429),handleEditQuestion)),document[_0x1190b7(0x1e7)](_0x1190b7(0x737))[_0x1190b7(0x676)](_0x19ac67=>_0x19ac67['addEventListener'](_0x1190b7(0x429),handleRegenerateQuestion)),document[_0x1190b7(0x1e7)](_0x1190b7(0x566))[_0x1190b7(0x676)](_0x907f66=>_0x907f66['addEventListener'](_0x1190b7(0x429),handleSaveToBank)),document[_0x1190b7(0x2e3)](_0x1190b7(0x6bd))['addEventListener'](_0x1190b7(0x429),exportQuizAsWorksheetPDF),document['getElementById']('save-quiz-btn')[_0x1190b7(0x270)](_0x1190b7(0x429),saveQuiz);if(window[_0x1190b7(0x39d)])window[_0x1190b7(0x39d)][_0x1190b7(0x61e)]([_0x5947ee]);}function handleRegenerateQuestion(_0x3e399d){const _0x340c29=_0x2531d4,_0x362ffd=_0x3e399d['currentTarget'][_0x340c29(0x5d8)]['index'],_0x44cea3=currentQuizData[_0x340c29(0x521)];showMessage(_0x340c29(0x387)+(parseInt(_0x362ffd)+0x1)+_0x340c29(0x207)),generateQuiz(_0x44cea3,null,parseInt(_0x362ffd));}function getPointerPosition(_0x4d9d55,_0x289379){const _0x5bc0c4=_0x2531d4,_0x220469=_0x4d9d55[_0x5bc0c4(0x816)]();let _0x1e5304,_0x9ec981;return _0x289379[_0x5bc0c4(0x7a1)]&&_0x289379[_0x5bc0c4(0x7a1)][_0x5bc0c4(0x7ca)]>0x0?(_0x1e5304=_0x289379[_0x5bc0c4(0x7a1)][0x0][_0x5bc0c4(0x6ba)],_0x9ec981=_0x289379[_0x5bc0c4(0x7a1)][0x0][_0x5bc0c4(0x6ce)]):(_0x1e5304=_0x289379['clientX'],_0x9ec981=_0x289379[_0x5bc0c4(0x6ce)]),{'x':(_0x1e5304-_0x220469['e'])/_0x220469['a'],'y':(_0x9ec981-_0x220469['f'])/_0x220469['d']};}function startDrag(_0x18dd08){const _0x458a4c=_0x2531d4;_0x18dd08[_0x458a4c(0x7f6)]==='touchstart'&&_0x18dd08[_0x458a4c(0x1a3)]();const _0x3f2f83=_0x18dd08['target'][_0x458a4c(0x36a)](_0x458a4c(0x60e));if(_0x3f2f83){draggedSvgElement=_0x3f2f83;const _0x2f2c3f=draggedSvgElement[_0x458a4c(0x174)],_0x32fb87=getPointerPosition(_0x2f2c3f,_0x18dd08);svgOffset['x']=_0x32fb87['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x32fb87['y']-parseFloat(draggedSvgElement[_0x458a4c(0x431)](null,'y'));}}function calculateItemAnalysis(_0x15069d,_0x151086){const _0x513a9f=_0x2531d4,_0x3429da={};if(_0x151086['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xa315ed=[..._0x151086][_0x513a9f(0x201)]((_0x27efa7,_0x3b3944)=>{const _0x465bdb=_0x513a9f,_0x1f5bb0=_0x3b3944[_0x465bdb(0x474)]-_0x27efa7['latestScore'];if(_0x1f5bb0!==0x0)return _0x1f5bb0;const _0x5a1205=_0x27efa7[_0x465bdb(0x400)]?.['length']||0x1,_0x586a60=_0x3b3944['attempts']?.[_0x465bdb(0x7ca)]||0x1,_0x530a4b=_0x5a1205-_0x586a60;if(_0x530a4b!==0x0)return _0x530a4b;const _0x1cd995=new Date(_0x27efa7['latestSubmittedAt']),_0x1b4126=new Date(_0x3b3944[_0x465bdb(0x237)]),_0x5b733b=_0x1cd995-_0x1b4126;if(_0x5b733b!==0x0)return _0x5b733b;return _0x27efa7['studentName'][_0x465bdb(0x2c0)](_0x3b3944[_0x465bdb(0x667)],'th');}),_0x866db6=_0xa315ed[_0x513a9f(0x7ca)],_0x4db8ec=Math[_0x513a9f(0x31e)](0x1,Math[_0x513a9f(0x55e)](_0x866db6*0.33));if(_0x4db8ec===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x8ba82a=_0xa315ed[_0x513a9f(0x4b4)](0x0,_0x4db8ec),_0x309f8d=_0xa315ed[_0x513a9f(0x4b4)](-_0x4db8ec),_0x575f3f=_0x8ba82a[_0x513a9f(0x70b)](_0x13f31c=>_0x13f31c[_0x513a9f(0x667)]),_0x1ec136=_0x309f8d[_0x513a9f(0x70b)](_0x14df8e=>_0x14df8e[_0x513a9f(0x667)]);return _0x15069d[_0x513a9f(0x2ba)]['forEach']((_0x140af3,_0x5b90d2)=>{const _0x339867=_0x513a9f,_0x38f845=_0x140af3[_0x339867(0x25d)]||_0x140af3[_0x339867(0x53f)];let _0x15de86=0x0,_0x10f6cf=0x0,_0x443f7b=0x0;const _0x506a68=[],_0x34ee3a=[];_0x8ba82a['forEach'](_0x23e61a=>{const _0x3b7fe5=_0x339867,_0x1385e9=_0x23e61a[_0x3b7fe5(0x400)][_0x23e61a[_0x3b7fe5(0x400)][_0x3b7fe5(0x7ca)]-0x1],_0x31c173=_0x1385e9[_0x3b7fe5(0x2db)][_0x3b7fe5(0x292)](_0x45ad6c=>_0x45ad6c[_0x3b7fe5(0x43d)]===_0x38f845);_0x506a68['push']({'name':_0x23e61a['studentName'],'isCorrect':_0x31c173?_0x31c173[_0x3b7fe5(0x1ec)]:![]}),_0x31c173&&_0x31c173[_0x3b7fe5(0x1ec)]&&_0x10f6cf++;}),_0x309f8d[_0x339867(0x676)](_0x35d6b0=>{const _0xffcf3c=_0x339867,_0x17ba65=_0x35d6b0[_0xffcf3c(0x400)][_0x35d6b0[_0xffcf3c(0x400)][_0xffcf3c(0x7ca)]-0x1],_0x55cf63=_0x17ba65[_0xffcf3c(0x2db)][_0xffcf3c(0x292)](_0x1853f4=>_0x1853f4[_0xffcf3c(0x43d)]===_0x38f845);_0x34ee3a[_0xffcf3c(0x3a5)]({'name':_0x35d6b0[_0xffcf3c(0x667)],'isCorrect':_0x55cf63?_0x55cf63[_0xffcf3c(0x1ec)]:![]}),_0x55cf63&&_0x55cf63[_0xffcf3c(0x1ec)]&&_0x443f7b++;}),_0x151086[_0x339867(0x676)](_0x41bf19=>{const _0x43aa5e=_0x339867,_0x34c7d4=_0x41bf19[_0x43aa5e(0x400)][_0x41bf19[_0x43aa5e(0x400)][_0x43aa5e(0x7ca)]-0x1],_0x2e1750=_0x34c7d4[_0x43aa5e(0x2db)][_0x43aa5e(0x292)](_0x372050=>_0x372050['originalQuestionText']===_0x38f845);_0x2e1750&&_0x2e1750[_0x43aa5e(0x1ec)]&&_0x15de86++;});const _0x272ba5=_0x866db6>0x0?_0x15de86/_0x866db6:0x0,_0x360be0=_0x4db8ec>0x0?_0x10f6cf/_0x4db8ec-_0x443f7b/_0x4db8ec:0x0;_0x3429da[_0x5b90d2]={'p':_0x272ba5,'r':_0x360be0,'upperGroupResponders':_0x506a68,'lowerGroupResponders':_0x34ee3a};}),{'perQuestionStats':_0x3429da,'overallGroups':{'upperGroupNames':_0x575f3f,'lowerGroupNames':_0x1ec136}};}function drag(_0x583cee){const _0x59d871=_0x2531d4;if(draggedSvgElement){_0x583cee[_0x59d871(0x1a3)]();const _0x5b12fc=draggedSvgElement[_0x59d871(0x174)],_0x3239aa=getPointerPosition(_0x5b12fc,_0x583cee),_0x320596=_0x5b12fc['viewBox'][_0x59d871(0x815)];let _0x4f370c=_0x3239aa['x']-svgOffset['x'],_0xd90939=_0x3239aa['y']-svgOffset['y'];const _0x2c4776=draggedSvgElement[_0x59d871(0x414)]();_0x4f370c=Math[_0x59d871(0x31e)](_0x320596['x'],Math[_0x59d871(0x2d6)](_0x4f370c,_0x320596['x']+_0x320596[_0x59d871(0x2a7)]-_0x2c4776[_0x59d871(0x2a7)])),_0xd90939=Math[_0x59d871(0x31e)](_0x320596['y'],Math['min'](_0xd90939,_0x320596['y']+_0x320596[_0x59d871(0x69b)]-_0x2c4776[_0x59d871(0x69b)])),draggedSvgElement[_0x59d871(0x625)](null,'x',_0x4f370c),draggedSvgElement['setAttributeNS'](null,'y',_0xd90939);}}function endDrag(_0x208f13){draggedSvgElement=null;}function handleSvgEditClick(_0x47fbf9){const _0xe33ab5=_0x2531d4;if(_0x47fbf9['target'][_0xe33ab5(0x52e)][_0xe33ab5(0x1d3)]('delete-svg-btn')){const _0x509c19=_0x47fbf9[_0xe33ab5(0x2ae)][_0xe33ab5(0x5d8)][_0xe33ab5(0x422)],_0x41cf81=_0x47fbf9[_0xe33ab5(0x495)],_0x59e012=_0x41cf81[_0xe33ab5(0x71c)]('#'+_0x509c19);_0x59e012&&_0x59e012[_0xe33ab5(0x3cf)](),_0x47fbf9['target'][_0xe33ab5(0x3cf)]();}}function handleEditQuestion(_0x445cb5){const _0x254d4c=_0x2531d4,_0x4ea91d=_0x445cb5[_0x254d4c(0x495)],_0x26d821=_0x4ea91d[_0x254d4c(0x5d8)][_0x254d4c(0x421)],_0x2b919f=currentQuizData['questions'][_0x26d821],_0x42adf6=document[_0x254d4c(0x2e3)](_0x254d4c(0x28e)+_0x26d821),_0x401e79=document['getElementById'](_0x254d4c(0x442)+_0x26d821),_0x4b744b=document[_0x254d4c(0x2e3)]('q-image-container-'+_0x26d821);if(_0x4ea91d[_0x254d4c(0x3fe)]['includes'](_0x254d4c(0x348))){_0x4ea91d['innerHTML']=_0x254d4c(0x649),_0x4ea91d[_0x254d4c(0x487)]=_0x254d4c(0x478);if(_0x42adf6)_0x42adf6[_0x254d4c(0x5e9)]=!![];if(_0x401e79)_0x401e79[_0x254d4c(0x5e9)]=!![];if(_0x4b744b){const _0x44a6d6=_0x4b744b[_0x254d4c(0x71c)](_0x254d4c(0x747));if(_0x44a6d6){const _0x3716bf=_0x44a6d6['querySelectorAll'](_0x254d4c(0x31a));_0x3716bf[_0x254d4c(0x676)]((_0x1d8d9b,_0x359e3e)=>{const _0x5d1c33=_0x254d4c,_0x564c03=_0x5d1c33(0x464)+_0x26d821+'-'+_0x359e3e;_0x1d8d9b['id']=_0x564c03,_0x1d8d9b[_0x5d1c33(0x52e)][_0x5d1c33(0x813)]('draggable-text'),_0x1d8d9b[_0x5d1c33(0x708)][_0x5d1c33(0x4c8)]=_0x5d1c33(0x772);const _0x6c3d70=document[_0x5d1c33(0x34a)](_0x5d1c33(0x5d9),_0x5d1c33(0x260)),_0x41bc41=_0x1d8d9b['getBBox']();_0x6c3d70[_0x5d1c33(0x61a)]('cx',String(_0x41bc41['x']+_0x41bc41[_0x5d1c33(0x2a7)]+0x5)),_0x6c3d70['setAttribute']('cy',String(_0x41bc41['y']+_0x41bc41['height']/0x2-0x5)),_0x6c3d70['setAttribute']('r','5'),_0x6c3d70['setAttribute']('fill','red'),_0x6c3d70['setAttribute'](_0x5d1c33(0x19a),_0x5d1c33(0x388)),_0x6c3d70[_0x5d1c33(0x5d8)][_0x5d1c33(0x422)]=_0x564c03,_0x1d8d9b[_0x5d1c33(0x6e9)](_0x6c3d70);}),_0x44a6d6[_0x254d4c(0x270)]('mousedown',startDrag),_0x44a6d6['addEventListener'](_0x254d4c(0x7ba),drag),_0x44a6d6[_0x254d4c(0x270)](_0x254d4c(0x6d8),endDrag),_0x44a6d6[_0x254d4c(0x270)]('mouseleave',endDrag),_0x44a6d6[_0x254d4c(0x270)](_0x254d4c(0x5e8),startDrag,{'passive':![]}),_0x44a6d6['addEventListener'](_0x254d4c(0x316),drag,{'passive':![]}),_0x44a6d6[_0x254d4c(0x270)](_0x254d4c(0x1f4),endDrag),_0x44a6d6['addEventListener'](_0x254d4c(0x488),endDrag),_0x44a6d6[_0x254d4c(0x270)](_0x254d4c(0x429),handleSvgEditClick);}}if(_0x42adf6)_0x42adf6[_0x254d4c(0x648)]();}else{_0x4ea91d[_0x254d4c(0x3fe)]=_0x254d4c(0x484),_0x4ea91d[_0x254d4c(0x487)]=_0x254d4c(0x2c4);if(_0x42adf6){_0x42adf6['contentEditable']=![];const _0x3e64e3=_0x2b919f[_0x254d4c(0x71d)]||currentQuizData[_0x254d4c(0x76d)];_0x3e64e3===_0x254d4c(0x378)?_0x2b919f[_0x254d4c(0x25d)]=_0x42adf6['innerText'][_0x254d4c(0x4dc)](_0x42adf6[_0x254d4c(0x527)][_0x254d4c(0x229)]('.')+0x2)[_0x254d4c(0x1f8)]():_0x2b919f[_0x254d4c(0x53f)]=_0x42adf6['innerText'][_0x254d4c(0x4dc)](_0x42adf6[_0x254d4c(0x527)][_0x254d4c(0x229)]('.')+0x2)[_0x254d4c(0x1f8)]();}_0x401e79&&(_0x401e79['contentEditable']=![],_0x2b919f['explanation']=_0x401e79['innerText']);if(_0x4b744b){const _0x3f819c=_0x4b744b['querySelector'](_0x254d4c(0x747));if(_0x3f819c){const _0x480f22=_0x3f819c[_0x254d4c(0x538)](!![]);_0x480f22['querySelectorAll'](_0x254d4c(0x5eb))[_0x254d4c(0x676)](_0x48358b=>_0x48358b['remove']()),_0x480f22[_0x254d4c(0x1e7)](_0x254d4c(0x60e))[_0x254d4c(0x676)](_0x5007c9=>{const _0x374efc=_0x254d4c;_0x5007c9['classList']['remove']('draggable-text'),_0x5007c9['style'][_0x374efc(0x4c8)]='default',_0x5007c9['removeAttribute']('id');}),_0x2b919f[_0x254d4c(0x1aa)]=_0x480f22[_0x254d4c(0x698)],_0x3f819c['removeEventListener'](_0x254d4c(0x6bb),startDrag),_0x3f819c[_0x254d4c(0x468)](_0x254d4c(0x7ba),drag),_0x3f819c[_0x254d4c(0x468)](_0x254d4c(0x6d8),endDrag),_0x3f819c[_0x254d4c(0x468)](_0x254d4c(0x3fc),endDrag),_0x3f819c[_0x254d4c(0x468)](_0x254d4c(0x5e8),startDrag),_0x3f819c[_0x254d4c(0x468)](_0x254d4c(0x316),drag),_0x3f819c['removeEventListener'](_0x254d4c(0x1f4),endDrag),_0x3f819c[_0x254d4c(0x468)](_0x254d4c(0x488),endDrag),_0x3f819c['removeEventListener'](_0x254d4c(0x429),handleSvgEditClick),_0x3f819c[_0x254d4c(0x1e7)]('.delete-svg-btn')[_0x254d4c(0x676)](_0x3fc393=>_0x3fc393[_0x254d4c(0x3cf)]()),_0x3f819c['querySelectorAll'](_0x254d4c(0x60e))[_0x254d4c(0x676)](_0x2a2a6d=>{const _0xc73216=_0x254d4c;_0x2a2a6d['classList'][_0xc73216(0x3cf)](_0xc73216(0x342)),_0x2a2a6d[_0xc73216(0x708)][_0xc73216(0x4c8)]=_0xc73216(0x44b);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x502670){const _0x4b8412=_0x2531d4,_0x249185=document[_0x4b8412(0x2e3)](_0x4b8412(0x675)),_0xf70a07=document[_0x4b8412(0x2e3)](_0x4b8412(0x5d4));_0xf70a07[_0x4b8412(0x3fe)]=_0x4b8412(0x3e1),_0x249185[_0x4b8412(0x52e)][_0x4b8412(0x3cf)]('hidden');try{const _0xf55279=doc(db,_0x4b8412(0x4ed)+appId+_0x4b8412(0x6e6),_0x502670),_0x2e7845=await getDoc(_0xf55279);if(!_0x2e7845['exists']())throw new Error(_0x4b8412(0x3de));currentEditingQuizData={'id':_0x502670,..._0x2e7845['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x178f0a){console[_0x4b8412(0x3f0)](_0x4b8412(0x4b0),_0x178f0a),showMessage(_0x4b8412(0x5cd)),_0x249185['classList']['add'](_0x4b8412(0x47f));}}function renderQuizEditor(_0x533443){const _0x381b4e=_0x2531d4;document[_0x381b4e(0x2e3)](_0x381b4e(0x5db))[_0x381b4e(0x6f0)]=_0x533443['topic'];const _0x60a5dc=document[_0x381b4e(0x2e3)]('quiz-editor-questions-container');let _0x3eb2fa=_0x533443[_0x381b4e(0x2ba)][_0x381b4e(0x70b)]((_0x2668fc,_0x384f13)=>{const _0x406a97=_0x381b4e;let _0x4c6eb2='';const _0x4b9737=_0x2668fc[_0x406a97(0x71d)]||_0x533443[_0x406a97(0x76d)];switch(_0x4b9737){case _0x406a97(0x31d):const _0x3a3e44=(_0x2668fc['options']||[])[_0x406a97(0x70b)]((_0x111749,_0x4f311d)=>_0x406a97(0x42c)+_0x384f13+_0x406a97(0x408)+_0x4f311d+'\x22\x20'+(_0x4f311d===_0x2668fc['correctAnswerIndex']?_0x406a97(0x7ad):'')+_0x406a97(0x7b6)+_0x111749+_0x406a97(0x5b2))[_0x406a97(0x828)]('');_0x4c6eb2=_0x406a97(0x550)+_0x3a3e44+_0x406a97(0x2a3);break;case _0x406a97(0x57f):_0x4c6eb2=_0x406a97(0x26c)+(_0x2668fc[_0x406a97(0x1c5)]||'')+_0x406a97(0x5e2);break;case _0x406a97(0x1ab):_0x4c6eb2=_0x406a97(0x3fb)+_0x384f13+_0x406a97(0x2df)+(_0x2668fc[_0x406a97(0x756)]===!![]?'checked':'')+_0x406a97(0x6c6)+_0x384f13+'\x22\x20value=\x22false\x22\x20'+(_0x2668fc[_0x406a97(0x756)]===![]?'checked':'')+_0x406a97(0x3b0);break;case'matching_item':_0x4c6eb2=_0x406a97(0x59e)+(_0x2668fc[_0x406a97(0x805)]||'')+_0x406a97(0x21a);break;}const _0x66f363=_0x2668fc['questionText']||_0x2668fc['stem']||'';return _0x406a97(0x79e)+_0x384f13+_0x406a97(0x1f1)+_0x4b9737+_0x406a97(0x596)+(_0x384f13+0x1)+'\x20('+_0x4b9737+'):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x66f363+_0x406a97(0x76c)+_0x4c6eb2+_0x406a97(0x19e);})[_0x381b4e(0x828)]('');_0x60a5dc[_0x381b4e(0x3fe)]=_0x3eb2fa;}async function handleSaveChanges(){const _0x40460f=_0x2531d4,_0x5a99ab=document[_0x40460f(0x2e3)]('save-quiz-edits-btn');_0x5a99ab[_0x40460f(0x271)]=!![],_0x5a99ab[_0x40460f(0x3fe)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x56f33f=document[_0x40460f(0x2e3)](_0x40460f(0x5db))[_0x40460f(0x6f0)],_0x53bf59=document[_0x40460f(0x1e7)](_0x40460f(0x2c7));let _0x5f46b3=[];const _0x42a35d=Array[_0x40460f(0x479)](_0x53bf59)[_0x40460f(0x70b)]((_0x394e8f,_0xd5e2c3)=>{const _0x1c234e=_0x40460f,_0x52642d=_0x394e8f['dataset'][_0x1c234e(0x6f2)],_0x2aaf3b=_0x394e8f['querySelector']('textarea')[_0x1c234e(0x6f0)];let _0xa17732={'questionType':_0x52642d};const _0x1561ef=currentEditingQuizData[_0x1c234e(0x2ba)][_0xd5e2c3];switch(_0x52642d){case'multiple_choice':_0xa17732[_0x1c234e(0x53f)]=_0x2aaf3b;const _0x3c6dd7=_0x394e8f[_0x1c234e(0x1e7)](_0x1c234e(0x511));_0xa17732[_0x1c234e(0x1c1)]=Array[_0x1c234e(0x479)](_0x3c6dd7)['map'](_0x27b47e=>_0x27b47e[_0x1c234e(0x6f0)]);const _0x231e79=_0x394e8f['querySelector']('input[type=\x22radio\x22]:checked');_0xa17732['correctAnswerIndex']=_0x231e79?parseInt(_0x231e79['value']):0x0;break;case _0x1c234e(0x57f):_0xa17732['questionText']=_0x2aaf3b,_0xa17732[_0x1c234e(0x1c5)]=_0x394e8f['querySelector'](_0x1c234e(0x6ef))['value'];break;case'true_false':_0xa17732[_0x1c234e(0x53f)]=_0x2aaf3b;const _0x278e9a=_0x394e8f[_0x1c234e(0x71c)](_0x1c234e(0x621));_0xa17732['correctAnswer']=_0x278e9a?_0x278e9a[_0x1c234e(0x6f0)]===_0x1c234e(0x3d2):!![];break;case _0x1c234e(0x378):_0xa17732[_0x1c234e(0x25d)]=_0x2aaf3b;const _0x1e0be8=_0x394e8f[_0x1c234e(0x71c)](_0x1c234e(0x5f8));_0xa17732[_0x1c234e(0x805)]=_0x1e0be8?_0x1e0be8[_0x1c234e(0x6f0)]:'',_0x5f46b3[_0x1c234e(0x3a5)](_0xa17732[_0x1c234e(0x805)]);break;default:_0xa17732[_0x1c234e(0x53f)]=_0x2aaf3b;break;}return{..._0x1561ef,..._0xa17732};});_0x5f46b3[_0x40460f(0x7ca)]>0x0&&_0x42a35d['forEach'](_0x32424f=>{const _0x1c6d36=_0x40460f;_0x32424f[_0x1c6d36(0x71d)]==='matching_item'&&(_0x32424f[_0x1c6d36(0x595)]=_0x5f46b3);});const _0xd06940=doc(db,_0x40460f(0x4ed)+appId+_0x40460f(0x6e6),currentEditingQuizData['id']);await updateDoc(_0xd06940,{'topic':_0x56f33f,'questions':_0x42a35d}),showMessage(_0x40460f(0x571)),document[_0x40460f(0x2e3)]('quiz-editor-modal')[_0x40460f(0x52e)]['add']('hidden');}catch(_0x56cc33){console['error'](_0x40460f(0x785),_0x56cc33),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x5a99ab[_0x40460f(0x271)]=![],_0x5a99ab[_0x40460f(0x3fe)]=_0x40460f(0x610);}}async function saveQuiz(){const _0x2370b9=_0x2531d4;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x2370b9(0x2ba)]||!userId){showMessage(_0x2370b9(0x279));return;}const _0x59fda2=document['getElementById']('save-quiz-btn');_0x59fda2[_0x2370b9(0x271)]=!![],_0x59fda2['innerHTML']=_0x2370b9(0x3d9);const _0x2cd9ae=document[_0x2370b9(0x2e3)](_0x2370b9(0x7a6))[_0x2370b9(0x7ad)];let _0x34ba09=document[_0x2370b9(0x2e3)]('editable-quiz-topic')[_0x2370b9(0x527)][_0x2370b9(0x1f8)]();_0x2cd9ae&&!_0x34ba09[_0x2370b9(0x5fc)](_0x2370b9(0x76a))&&(_0x34ba09=_0x2370b9(0x34f)+_0x34ba09);try{const _0x34ad26={'resultsDisplay':document[_0x2370b9(0x2e3)](_0x2370b9(0x20a))[_0x2370b9(0x6f0)],'shuffle':document[_0x2370b9(0x2e3)](_0x2370b9(0x175))[_0x2370b9(0x6f0)],'timerMode':document[_0x2370b9(0x2e3)](_0x2370b9(0x623))['value'],'timerDuration':parseInt(document[_0x2370b9(0x2e3)](_0x2370b9(0x2ce))['value'])||0xa,'passingScore':parseInt(document[_0x2370b9(0x2e3)](_0x2370b9(0x6cb))['value'])||0x0,'isAdaptive':document[_0x2370b9(0x2e3)](_0x2370b9(0x7dd))[_0x2370b9(0x7ad)]},_0x5715b9=(currentQuizData[_0x2370b9(0x2ba)]||[])[_0x2370b9(0x70b)](_0x130d69=>{const _0x36b96f=_0x2370b9,_0x3a984b=document[_0x36b96f(0x2e3)](_0x36b96f(0x765))[_0x36b96f(0x6f0)],_0x577472={'questionText':_0x130d69[_0x36b96f(0x53f)]||'','explanation':_0x130d69[_0x36b96f(0x3cb)]||_0x36b96f(0x74e),'questionType':_0x130d69['questionType']||_0x3a984b,'imageCode':_0x130d69[_0x36b96f(0x1aa)]||null};return(_0x577472[_0x36b96f(0x71d)]===_0x36b96f(0x31d)||_0x577472[_0x36b96f(0x71d)]===_0x36b96f(0x57a)||_0x577472[_0x36b96f(0x71d)]===_0x36b96f(0x5d6)&&_0x130d69[_0x36b96f(0x1c1)])&&(_0x577472['options']=_0x130d69[_0x36b96f(0x1c1)]||[],_0x577472[_0x36b96f(0x230)]=_0x130d69[_0x36b96f(0x230)]!==undefined?_0x130d69[_0x36b96f(0x230)]:0x0),(_0x577472['questionType']==='short_answer'||_0x577472[_0x36b96f(0x71d)]===_0x36b96f(0x494)||_0x577472['questionType']===_0x36b96f(0x5d6)&&_0x130d69[_0x36b96f(0x1c5)])&&(_0x577472[_0x36b96f(0x1c5)]=_0x130d69[_0x36b96f(0x1c5)]||''),_0x577472['questionType']==='true_false'&&(_0x577472['correctAnswer']=_0x130d69[_0x36b96f(0x756)]===!![]),_0x577472[_0x36b96f(0x71d)]==='matching_item'&&(_0x577472['stem']=_0x130d69['stem']||'',_0x577472[_0x36b96f(0x805)]=_0x130d69[_0x36b96f(0x805)]||'',_0x577472[_0x36b96f(0x595)]=_0x130d69['allResponses']||[]),_0x577472;}),_0x4844b3={'topic':_0x34ba09,'quizType':currentQuizData[_0x2370b9(0x76d)]||'multiple_choice','questions':_0x5715b9,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2370b9(0x434)](),'status':_0x2370b9(0x62f),'settings':_0x34ad26,'quizMode':_0x2cd9ae?'pre-test':_0x2370b9(0x69a),'pairedQuizId':null,'lessonPlan':null};let _0x2ff7b0;while(!![]){_0x2ff7b0=Math[_0x2370b9(0x55e)](0x3e8+Math['random']()*0x2328)[_0x2370b9(0x757)]();const _0x395b37=await getDoc(doc(db,_0x2370b9(0x4ed)+appId+_0x2370b9(0x6e6),_0x2ff7b0));if(!_0x395b37[_0x2370b9(0x3a1)]())break;}await setDoc(doc(db,_0x2370b9(0x4ed)+appId+'/public/data/quizzes',_0x2ff7b0),_0x4844b3),currentQuizData[_0x2370b9(0x2b3)]=_0x34ad26,currentQuizData['id']=_0x2ff7b0;const _0x5449a2=document['getElementById'](_0x2370b9(0x68a));_0x5449a2['innerHTML']=_0x2370b9(0x441)+_0x2ff7b0+_0x2370b9(0x7c8),document[_0x2370b9(0x2e3)](_0x2370b9(0x6c5))['addEventListener'](_0x2370b9(0x429),()=>copyTextToClipboard(_0x2ff7b0,_0x2370b9(0x47a))),document['getElementById'](_0x2370b9(0x559))[_0x2370b9(0x270)](_0x2370b9(0x429),()=>handleStartLiveRace(_0x2ff7b0)),document[_0x2370b9(0x2e3)](_0x2370b9(0x5dc))['addEventListener'](_0x2370b9(0x429),()=>startPresentation(currentQuizData)),document[_0x2370b9(0x2e3)](_0x2370b9(0x63c))['addEventListener']('click',startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x255e05){console[_0x2370b9(0x3f0)](_0x2370b9(0x76e),_0x255e05),showMessage(_0x2370b9(0x491)),_0x59fda2[_0x2370b9(0x271)]=![],_0x59fda2[_0x2370b9(0x3fe)]=_0x2370b9(0x4ea);}}function promptForProjectAndSave(){const _0x2edd0e=_0x2531d4,_0x282298=document['getElementById'](_0x2edd0e(0x4f8)),_0x343d5c=document[_0x2edd0e(0x2e3)](_0x2edd0e(0x17d)),_0x1570f6=_0x282298['querySelector']('h3'),_0x38d246=document[_0x2edd0e(0x2e3)]('confirm-move-quiz-btn');_0x1570f6[_0x2edd0e(0x3d7)]='เลือกโปรเจคเพื่อบันทึก',_0x38d246[_0x2edd0e(0x3d7)]=_0x2edd0e(0x41c);allProjects['length']===0x0?(_0x343d5c['innerHTML']=_0x2edd0e(0x2cf),_0x38d246[_0x2edd0e(0x271)]=!![]):(_0x343d5c[_0x2edd0e(0x3fe)]=allProjects[_0x2edd0e(0x70b)](_0x446365=>_0x2edd0e(0x3cc)+_0x446365['id']+'\x22>'+_0x446365[_0x2edd0e(0x545)]+_0x2edd0e(0x542))[_0x2edd0e(0x828)](''),_0x38d246[_0x2edd0e(0x271)]=![]);_0x282298[_0x2edd0e(0x52e)]['remove'](_0x2edd0e(0x47f));const _0x2d32dd=()=>{const _0x289415=_0x2edd0e,_0x5dcac6=_0x343d5c['value'];_0x5dcac6?(currentProjectId=_0x5dcac6,_0x282298[_0x289415(0x52e)]['add'](_0x289415(0x47f)),saveQuiz(),_0x1570f6['textContent']=_0x289415(0x480),_0x38d246['textContent']=_0x289415(0x2a1),_0x38d246['removeEventListener'](_0x289415(0x429),_0x2d32dd),_0x38d246[_0x289415(0x270)]('click',confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x38d246[_0x2edd0e(0x468)]('click',confirmMoveQuiz),_0x38d246[_0x2edd0e(0x270)]('click',_0x2d32dd);}function copyTextToClipboard(_0x3f38c8,_0xbf57d){const _0x4959ef=_0x2531d4,_0x3c98d9=document[_0x4959ef(0x657)]('textarea');_0x3c98d9[_0x4959ef(0x6f0)]=_0x3f38c8,_0x3c98d9[_0x4959ef(0x708)][_0x4959ef(0x62a)]=_0x4959ef(0x78d),_0x3c98d9[_0x4959ef(0x708)][_0x4959ef(0x3dd)]='0',document[_0x4959ef(0x2a8)]['appendChild'](_0x3c98d9),_0x3c98d9[_0x4959ef(0x648)](),_0x3c98d9[_0x4959ef(0x547)]();try{const _0x31fc3e=document['execCommand']('copy');showMessage(_0x31fc3e?_0xbf57d:_0x4959ef(0x334));}catch(_0x3f5559){showMessage(_0x4959ef(0x334)),console[_0x4959ef(0x3f0)](_0x4959ef(0x57e),_0x3f5559);}document['body'][_0x4959ef(0x634)](_0x3c98d9);}function listenForProjectQuizzes(_0x278006){const _0x324c13=_0x2531d4,_0x3c7c2f=collection(db,_0x324c13(0x4ed)+appId+_0x324c13(0x6e6)),_0x2cba9b=query(_0x3c7c2f,where('projectId','==',_0x278006));unsubscribeQuizzesListener=onSnapshot(_0x2cba9b,async _0x188533=>{const _0x91ddc5=_0x324c13;allQuizzes=_0x188533[_0x91ddc5(0x446)][_0x91ddc5(0x70b)](_0x2c34fe=>({'id':_0x2c34fe['id'],..._0x2c34fe[_0x91ddc5(0x7b5)]()})),renderQuizzes();},_0x5f444c=>{const _0x4dd183=_0x324c13;console['error'](_0x4dd183(0x241),_0x5f444c),document[_0x4dd183(0x2e3)]('project-quizzes-list')[_0x4dd183(0x3fe)]=_0x4dd183(0x500);});}async function renderQuizzes(){const _0x575275=_0x2531d4,_0x2f70d8=document['getElementById']('project-quizzes-list'),_0x2abc48=document['getElementById'](_0x575275(0x70a))[_0x575275(0x6f0)][_0x575275(0x6f9)]();let _0x5a87d5;currentProjectId===_0x575275(0x196)?_0x5a87d5=starredQuizzes:_0x5a87d5=allQuizzes;let _0x3810e0=_0x5a87d5['filter'](_0x5a21a5=>_0x5a21a5[_0x575275(0x521)][_0x575275(0x6f9)]()[_0x575275(0x7a3)](_0x2abc48));_0x3810e0[_0x575275(0x201)]((_0x1c2520,_0x19f74c)=>new Date(_0x19f74c[_0x575275(0x5fa)])-new Date(_0x1c2520[_0x575275(0x5fa)]));if(_0x3810e0[_0x575275(0x7ca)]===0x0){_0x2f70d8[_0x575275(0x3fe)]=_0x575275(0x659);return;}const _0x2da63b={},_0x24c379=_0x3810e0[_0x575275(0x70b)](async _0xcba766=>{const _0x1b3012=_0x575275,_0x2d3fae=collection(db,_0x1b3012(0x4ed)+appId+_0x1b3012(0x80e)+_0xcba766['id']+_0x1b3012(0x724)),_0x5afe6c=await getDocs(_0x2d3fae);_0x2da63b[_0xcba766['id']]=_0x5afe6c[_0x1b3012(0x530)];});await Promise[_0x575275(0x17a)](_0x24c379);let _0x165b31='';_0x3810e0[_0x575275(0x676)](_0x503862=>{const _0x154c1a=_0x575275,_0x4573e7=_0x2da63b[_0x503862['id']]||0x0,_0x41311f=_0x503862[_0x154c1a(0x3e7)]||_0x154c1a(0x62f),_0x377f01=_0x503862['settings']?.[_0x154c1a(0x28f)]||_0x154c1a(0x7c1);let _0x400019='',_0x1d7213='';const _0x1ec312=new Date();let _0xdb30f6=_0x41311f;if(_0x41311f===_0x154c1a(0x1e8)){const _0x5743de=_0x503862[_0x154c1a(0x1e1)]?new Date(_0x503862[_0x154c1a(0x1e1)]):null,_0x366da7=_0x503862[_0x154c1a(0x2f9)]?new Date(_0x503862[_0x154c1a(0x2f9)]):null;if(_0x366da7&&_0x1ec312>_0x366da7)_0xdb30f6=_0x154c1a(0x582);else _0x5743de&&_0x1ec312<_0x5743de?_0xdb30f6='scheduled_pending':_0xdb30f6=_0x154c1a(0x62f);}switch(_0xdb30f6){case _0x154c1a(0x582):_0x400019=_0x154c1a(0x519),_0x1d7213=_0x154c1a(0x564);break;case'scheduled_pending':_0x400019=_0x154c1a(0x65f),_0x1d7213=_0x154c1a(0x4bd);break;case _0x154c1a(0x62f):_0x400019=_0x377f01!==_0x154c1a(0x7c1)?_0x154c1a(0x2b6):_0x154c1a(0x637),_0x1d7213=_0x154c1a(0x4c0);break;default:_0x400019='ตั้งเวลา\x20(เปิด)',_0x1d7213='text-green-700\x20bg-green-100';}let _0x14ddde='';const _0x5d3ce0={'day':'2-digit','month':'2-digit','year':_0x154c1a(0x3f3),'hour':'2-digit','minute':_0x154c1a(0x7c0),'hour12':![]};_0x41311f===_0x154c1a(0x1e8)&&(_0x503862[_0x154c1a(0x1e1)]&&(_0x14ddde+=_0x154c1a(0x2a5)+new Date(_0x503862[_0x154c1a(0x1e1)])['toLocaleString']('th-TH',_0x5d3ce0)+_0x154c1a(0x179)),_0x503862[_0x154c1a(0x2f9)]&&(_0x14ddde+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x503862['endTime'])[_0x154c1a(0x41e)](_0x154c1a(0x7d1),_0x5d3ce0)+'</p>'));let _0x33eaf4='';if(_0x4573e7>0x0){if(_0x503862[_0x154c1a(0x4e2)]===_0x154c1a(0x377)&&_0x503862['pairedQuizId'])_0x33eaf4=_0x154c1a(0x7ef)+_0x503862['id']+_0x154c1a(0x1b8)+_0x503862['pairedQuizId']+_0x154c1a(0x3d1);else{const _0x552986=_0x503862[_0x154c1a(0x4e2)]===_0x154c1a(0x641),_0x545cee=_0x552986?_0x154c1a(0x7bf):_0x154c1a(0x6cc),_0x2c8cee=_0x552986?_0x154c1a(0x4a4):_0x154c1a(0x323);_0x33eaf4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x503862['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20'+_0x545cee+_0x154c1a(0x580)+_0x2c8cee+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}_0x165b31+=_0x154c1a(0x74a)+_0x503862['id']+_0x154c1a(0x4de)+_0x503862[_0x154c1a(0x521)]+_0x154c1a(0x561)+_0x503862['questions']['length']+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x503862[_0x154c1a(0x5fa)])[_0x154c1a(0x41e)](_0x154c1a(0x7d1))+_0x154c1a(0x2e5)+_0x4573e7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14ddde+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x1d7213+'\x22>'+_0x400019+_0x154c1a(0x5a1)+_0x503862['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-x-4\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x503862['id']+_0x154c1a(0x291)+(_0x503862[_0x154c1a(0x57c)]?_0x154c1a(0x362):_0x154c1a(0x6f8))+_0x154c1a(0x3aa)+_0x33eaf4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x503862['id']+_0x154c1a(0x5b8)+_0x503862['id']+_0x154c1a(0x365)+_0x503862['id']+_0x154c1a(0x407)+_0x503862['id']+_0x154c1a(0x3b3)+_0x503862['id']+_0x154c1a(0x205)+_0x503862[_0x154c1a(0x521)]+_0x154c1a(0x290)+_0x503862['id']+_0x154c1a(0x482)+_0x503862['id']+_0x154c1a(0x78b)+_0x503862['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x503862['id']+_0x154c1a(0x626)+_0x503862['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x503862['id']+_0x154c1a(0x26a)+_0x503862['id']+_0x154c1a(0x205)+_0x503862['topic']+_0x154c1a(0x77a);}),_0x2f70d8[_0x575275(0x3fe)]=_0x165b31,document['querySelectorAll'](_0x575275(0x6dd))[_0x575275(0x676)](_0x30af32=>{const _0xfe2de=_0x575275;_0x30af32[_0xfe2de(0x270)]('click',()=>{const _0x521804=_0xfe2de,_0x4276a9=_0x30af32[_0x521804(0x5d8)][_0x521804(0x1ce)];showQuizDetailView(_0x4276a9);});});}function formatAndPrintLessonPlan(_0x482a03,_0x27d681){const _0x3957fa=_0x2531d4,_0x38944f=window[_0x3957fa(0x753)]('','_blank'),_0x4d84fb=_0x3957fa(0x627)+_0x27d681[_0x3957fa(0x521)]+_0x3957fa(0x7b0)+_0x27d681['topic']+_0x3957fa(0x812)+_0x482a03[_0x3957fa(0x591)][_0x3957fa(0x70b)](_0x3ca648=>_0x3957fa(0x6fc)+_0x3ca648+_0x3957fa(0x793))[_0x3957fa(0x828)]('')+_0x3957fa(0x2fc)+_0x482a03[_0x3957fa(0x2d8)]+_0x3957fa(0x7f9)+_0x482a03[_0x3957fa(0x210)][_0x3957fa(0x70b)](_0x12ffe7=>_0x3957fa(0x683)+_0x12ffe7[_0x3957fa(0x777)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x12ffe7[_0x3957fa(0x2be)]+_0x3957fa(0x6bc))[_0x3957fa(0x828)]('')+_0x3957fa(0x6e8);_0x38944f[_0x3957fa(0x58c)][_0x3957fa(0x216)](_0x4d84fb),_0x38944f[_0x3957fa(0x58c)][_0x3957fa(0x41d)](),_0x38944f[_0x3957fa(0x1a0)]=function(){setTimeout(()=>{_0x38944f['print']();},0x3e8);};}async function handleGenerateLessonPlan(_0x35d4ac){const _0x25a67f=_0x2531d4;showMessage(_0x25a67f(0x41b));try{const _0x4dbeb5=doc(db,_0x25a67f(0x4ed)+appId+_0x25a67f(0x6e6),_0x35d4ac),_0x455991=await getDoc(_0x4dbeb5);if(!_0x455991[_0x25a67f(0x3a1)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x3063bc={'id':_0x35d4ac,..._0x455991[_0x25a67f(0x7b5)]()},_0x4109ef=collection(db,_0x25a67f(0x4ed)+appId+_0x25a67f(0x6e6),_0x35d4ac,'submissions'),_0x47d460=await getDocs(_0x4109ef),_0x2967cd=_0x47d460[_0x25a67f(0x446)][_0x25a67f(0x70b)](_0x327415=>_0x327415[_0x25a67f(0x7b5)]());if(_0x2967cd['length']===0x0)throw new Error(_0x25a67f(0x2b0));const _0x3ec1d6=calculateItemAnalysis(_0x3063bc,_0x2967cd)[_0x25a67f(0x515)],_0x2b241e=calculateDistractorAnalysis(_0x3063bc,_0x2967cd),_0x154baf=_0x265182=>{const _0x462c7b=_0x25a67f;if(!_0x265182)return'';return _0x265182[_0x462c7b(0x69c)](/\\/g,'\x5c\x5c')[_0x462c7b(0x69c)](/"/g,'\x5c\x22')[_0x462c7b(0x69c)](/\n/g,'\x5cn');};let _0x38004c=_0x25a67f(0x371);_0x3063bc[_0x25a67f(0x2ba)][_0x25a67f(0x676)]((_0x25c205,_0x33bd7a)=>{const _0x3aeb23=_0x25a67f,_0x4efe21=_0x3ec1d6[_0x33bd7a]?.['p'][_0x3aeb23(0x7e4)](0x2)||'N/A',_0x2de0d0=_0x3ec1d6[_0x33bd7a]?.['r'][_0x3aeb23(0x7e4)](0x2)||_0x3aeb23(0x213),_0x4c2b64=_0x154baf(_0x25c205['questionText']||_0x25c205[_0x3aeb23(0x25d)]);_0x38004c+=_0x3aeb23(0x72e)+(_0x33bd7a+0x1)+_0x3aeb23(0x336)+_0x4efe21+_0x3aeb23(0x2f4)+_0x2de0d0+_0x3aeb23(0x335)+_0x4c2b64+'\x5cn';if(_0x25c205[_0x3aeb23(0x71d)]===_0x3aeb23(0x31d)&&_0x2b241e[_0x33bd7a]){const _0x3f48a2=_0x2b241e[_0x33bd7a],_0x5b6182=Object[_0x3aeb23(0x6e5)](_0x3f48a2)['filter'](_0x1d83a3=>parseInt(_0x1d83a3)!==_0x25c205['correctAnswerIndex'])['sort']((_0x36da5,_0x3cdb23)=>_0x3f48a2[_0x3cdb23][_0x3aeb23(0x2a6)]-_0x3f48a2[_0x36da5]['total'])[0x0];if(_0x5b6182&&_0x3f48a2[_0x5b6182][_0x3aeb23(0x2a6)]>0x0){const _0x5cd0ae=_0x154baf(_0x3f48a2[_0x5b6182][_0x3aeb23(0x31a)]);_0x38004c+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x5cd0ae+_0x3aeb23(0x1c0);}}});const _0x84844='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x3063bc[_0x25a67f(0x521)]+_0x25a67f(0x5a4)+_0x38004c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x46acbc={'type':_0x25a67f(0x693),'properties':{'learningGaps':{'type':_0x25a67f(0x184),'items':{'type':_0x25a67f(0x4bc)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x25a67f(0x184),'items':{'type':_0x25a67f(0x693),'properties':{'question':{'type':_0x25a67f(0x4bc)},'solution':{'type':_0x25a67f(0x4bc)}}}}},'required':[_0x25a67f(0x591),_0x25a67f(0x2d8),_0x25a67f(0x210)]},_0x2812b0=await callAnalysisApi(_0x84844,_0x46acbc);await updateDoc(_0x4dbeb5,{'lessonPlan':_0x2812b0});const _0x4c18e5=_0x25a67f(0x1c6)+_0x3063bc['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x2812b0['learningGaps']['map'](_0x1f7fde=>_0x25a67f(0x6fc)+_0x1f7fde+_0x25a67f(0x793))[_0x25a67f(0x828)]('')+_0x25a67f(0x689)+_0x2812b0['teachingContent']+_0x25a67f(0x6a4)+_0x2812b0[_0x25a67f(0x210)][_0x25a67f(0x70b)](_0x4898b2=>_0x25a67f(0x4d4)+_0x4898b2[_0x25a67f(0x777)]+_0x25a67f(0x452)+_0x4898b2['solution']+_0x25a67f(0x4c5))[_0x25a67f(0x828)]('')+_0x25a67f(0x73d);document[_0x25a67f(0x2e3)]('lesson-plan-title')['textContent']=_0x25a67f(0x4fb)+_0x3063bc[_0x25a67f(0x521)],document[_0x25a67f(0x2e3)]('lesson-plan-content')['innerHTML']=_0x4c18e5,document[_0x25a67f(0x2e3)](_0x25a67f(0x2c9))[_0x25a67f(0x52e)][_0x25a67f(0x3cf)]('hidden'),messageModal[_0x25a67f(0x52e)]['add'](_0x25a67f(0x47f));}catch(_0x2e5bc1){console[_0x25a67f(0x3f0)](_0x25a67f(0x2b8),_0x2e5bc1),showMessage(_0x25a67f(0x220)+_0x2e5bc1['message']);}}async function handleDuplicateQuiz(_0x84f74){const _0x144833=_0x2531d4;try{const _0x5a83d8=doc(db,_0x144833(0x4ed)+appId+_0x144833(0x6e6),_0x84f74),_0x36f9ac=await getDoc(_0x5a83d8);if(_0x36f9ac['exists']()){const _0x32a462=_0x36f9ac['data']();let _0x4a6fa5=_0x32a462['topic'];_0x4a6fa5[_0x144833(0x5fc)]('(ก่อนเรียน)')&&(_0x4a6fa5=_0x4a6fa5[_0x144833(0x69c)](_0x144833(0x76a),'')[_0x144833(0x1f8)]());const _0x4dec9f='(หลังเรียน)\x20'+_0x4a6fa5,_0x157fbb={..._0x32a462,'topic':_0x4dec9f,'createdAt':new Date()[_0x144833(0x434)](),'quizMode':_0x32a462[_0x144833(0x4e2)]===_0x144833(0x641)?_0x144833(0x377):_0x144833(0x69a),'pairedQuizId':_0x32a462[_0x144833(0x4e2)]==='pre-test'?_0x84f74:null};let _0x16b240;while(!![]){_0x16b240=Math[_0x144833(0x55e)](0x3e8+Math[_0x144833(0x3ba)]()*0x2328)['toString']();const _0x16dd68=await getDoc(doc(db,_0x144833(0x4ed)+appId+'/public/data/quizzes',_0x16b240));if(!_0x16dd68[_0x144833(0x3a1)]())break;}const _0x338c7b=doc(db,_0x144833(0x4ed)+appId+_0x144833(0x6e6),_0x16b240);await setDoc(_0x338c7b,_0x157fbb),_0x157fbb['quizMode']===_0x144833(0x377)&&await updateDoc(_0x5a83d8,{'pairedQuizId':_0x16b240}),showMessage(_0x144833(0x1bc));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x14d5dd){console[_0x144833(0x3f0)](_0x144833(0x486),_0x14d5dd),showMessage(_0x144833(0x6b5));}}async function handleDeleteQuiz(_0x49bb63,_0x159fc7=!![]){const _0xdc4760=_0x2531d4;try{const _0xa6d454=writeBatch(db),_0xbc7164=collection(db,_0xdc4760(0x4ed)+appId+_0xdc4760(0x80e)+_0x49bb63+'/submissions'),_0xc933d7=await getDocs(_0xbc7164);_0xc933d7[_0xdc4760(0x676)](_0x450fb7=>{const _0xaf6d9=_0xdc4760;_0xa6d454[_0xaf6d9(0x75f)](doc(_0xbc7164,_0x450fb7['id']));});const _0x12efa8=doc(db,_0xdc4760(0x4ed)+appId+_0xdc4760(0x6e6),_0x49bb63);_0xa6d454[_0xdc4760(0x75f)](_0x12efa8),await _0xa6d454[_0xdc4760(0x28c)](),_0x159fc7&&showMessage(_0xdc4760(0x303));}catch(_0x5ae34b){console[_0xdc4760(0x3f0)](_0xdc4760(0x3c3),_0x5ae34b),_0x159fc7&&showMessage(_0xdc4760(0x801));}}async function showQuizDetailView(_0x1368a3){const _0x566bec=_0x2531d4;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x566bec(0x3f4));try{const _0x98f168=doc(db,_0x566bec(0x4ed)+appId+_0x566bec(0x6e6),_0x1368a3),_0x5496b4=await getDoc(_0x98f168);if(!_0x5496b4[_0x566bec(0x3a1)]()){showMessage(_0x566bec(0x36d));return;}const _0x315d8e={'id':_0x5496b4['id'],..._0x5496b4['data']()};currentQuizData=_0x315d8e;const _0x4b910b=doc(db,_0x566bec(0x4ed)+appId+_0x566bec(0x5f6),_0x315d8e[_0x566bec(0x1d8)]),_0x328766=await getDoc(_0x4b910b);_0x328766[_0x566bec(0x3a1)]()?(currentProjectData=_0x328766[_0x566bec(0x7b5)](),currentProjectId=_0x315d8e[_0x566bec(0x1d8)]):(currentProjectData={'students':[]},currentProjectId=_0x315d8e['projectId']);document['getElementById']('results-quiz-title')[_0x566bec(0x3d7)]=_0x315d8e[_0x566bec(0x521)],document[_0x566bec(0x2e3)](_0x566bec(0x6cf))[_0x566bec(0x3d7)]=_0x1368a3;const _0x47f7ac=collection(db,_0x566bec(0x4ed)+appId+_0x566bec(0x6e6),_0x1368a3,_0x566bec(0x6d0));unsubscribeSubmissionsListener=onSnapshot(_0x47f7ac,_0x27d629=>{const _0x57be9c=_0x566bec,_0x311502=_0x27d629[_0x57be9c(0x446)]['map'](_0x5503b7=>({'id':_0x5503b7['id'],..._0x5503b7[_0x57be9c(0x7b5)]()}));currentSubmissions=_0x311502,renderAnswerGrid(currentProjectData['students'],_0x311502,_0x315d8e),renderAnalytics(_0x315d8e,_0x311502),renderQuizResultsTable(currentProjectData[_0x57be9c(0x380)],_0x311502,_0x315d8e),renderQuizLeaderboard(_0x311502,_0x315d8e,_0x57be9c(0x755));}),showView('quiz-results');}catch(_0x321e45){console['error'](_0x566bec(0x79a),_0x321e45),showMessage(_0x566bec(0x636));}}function renderAnswerGrid(_0x314c11,_0x41cd99,_0x566ee0){const _0x20e234=_0x2531d4,_0x4b013c=document[_0x20e234(0x2e3)](_0x20e234(0x736));if(!_0x4b013c)return;if(!_0x314c11||_0x314c11['length']===0x0||_0x41cd99['length']===0x0){_0x4b013c[_0x20e234(0x3fe)]=_0x20e234(0x30d);return;}const _0x40e9dd=_0x566ee0[_0x20e234(0x2ba)],_0xaa55ac=_0x41cd99[_0x20e234(0x5fb)]((_0x2c21d3,_0x55d361)=>{return _0x2c21d3[_0x55d361['studentName']]=_0x55d361,_0x2c21d3;},{}),_0x22220a=_0x372afd=>String[_0x20e234(0x22a)](0x41+_0x372afd),_0x11e7c3=_0x1db0ba=>{const _0x4b2133=_0x20e234;switch(_0x1db0ba[_0x4b2133(0x71d)]){case'multiple_choice':return _0x1db0ba[_0x4b2133(0x1c1)]?_0x22220a(_0x1db0ba[_0x4b2133(0x230)]):'-';case _0x4b2133(0x1ab):return _0x1db0ba[_0x4b2133(0x756)]?_0x4b2133(0x413):'ไม่ใช่';case'matching_item':return _0x1db0ba[_0x4b2133(0x805)];case _0x4b2133(0x57f):return _0x4b2133(0x352);default:return'-';}},_0x2d5b7e=(_0x5ca67f,_0x1c4c3b)=>{const _0x4ed14d=_0x20e234;if(_0x1c4c3b[_0x4ed14d(0x358)]===null||_0x1c4c3b['answer']===undefined)return'-';switch(_0x5ca67f[_0x4ed14d(0x71d)]){case _0x4ed14d(0x31d):const _0x52d9ea=_0x5ca67f['options'][_0x4ed14d(0x830)](_0x48258c=>_0x48258c===_0x1c4c3b[_0x4ed14d(0x321)]);return _0x52d9ea!==-0x1?_0x22220a(_0x52d9ea):_0x1c4c3b['answerText']||'-';case _0x4ed14d(0x1ab):return _0x1c4c3b[_0x4ed14d(0x358)]===_0x4ed14d(0x3d2)||_0x1c4c3b[_0x4ed14d(0x358)]===!![]?_0x4ed14d(0x413):_0x4ed14d(0x764);default:return _0x1c4c3b['answer'];}};let _0x36b474=_0x20e234(0x48f)+_0x40e9dd['map']((_0x1b20ed,_0x2ab440)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x2ab440+0x1)+_0x20e234(0x3c9))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40e9dd[_0x20e234(0x70b)](_0x326caf=>_0x20e234(0x2fd)+_0x11e7c3(_0x326caf)+_0x20e234(0x296))[_0x20e234(0x828)]('')+_0x20e234(0x66a);_0x314c11[_0x20e234(0x676)](_0x5c9d25=>{const _0x151794=_0x20e234;_0x36b474+=_0x151794(0x19c),_0x36b474+=_0x151794(0x504)+_0x5c9d25+'</td>';const _0x105def=_0xaa55ac[_0x5c9d25];if(_0x105def){const _0x56fb34=_0x105def[_0x151794(0x400)][_0x105def[_0x151794(0x400)][_0x151794(0x7ca)]-0x1];_0x40e9dd[_0x151794(0x676)]((_0x42864f,_0x4f0bdb)=>{const _0x4a29df=_0x151794,_0x3f8d99=_0x56fb34[_0x4a29df(0x2db)]['find'](_0x2b006f=>_0x2b006f['originalQuestionText']===(_0x42864f[_0x4a29df(0x25d)]||_0x42864f[_0x4a29df(0x53f)]));if(_0x3f8d99){const _0x5dfe30=_0x3f8d99[_0x4a29df(0x1ec)]?_0x4a29df(0x658):'bg-red-100';_0x36b474+=_0x4a29df(0x189)+_0x5dfe30+'\x22>'+_0x2d5b7e(_0x42864f,_0x3f8d99)+_0x4a29df(0x296);}else _0x36b474+=_0x4a29df(0x67f);});}else _0x36b474+=_0x40e9dd['map'](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x151794(0x828)]('');_0x36b474+=_0x151794(0x77f);}),_0x36b474+=_0x20e234(0x247),_0x4b013c[_0x20e234(0x3fe)]=_0x36b474;}function renderQuizResultsTable(_0x1ad36d,_0x50ce5b,_0x2fecef){const _0x49fda3=_0x2531d4,_0x374f5b=_0x50ce5b['reduce']((_0x4dbf0e,_0x1dccae)=>{return _0x4dbf0e[_0x1dccae['studentName']]=_0x1dccae,_0x4dbf0e;},{}),_0x371727=document['getElementById'](_0x49fda3(0x2f7));if(!_0x1ad36d||_0x1ad36d[_0x49fda3(0x7ca)]===0x0){_0x371727[_0x49fda3(0x3fe)]=_0x49fda3(0x6c1);return;}const _0x5d950e=_0x2fecef['isRemedial']===!![],_0x136035=_0x2fecef['settings']?.[_0x49fda3(0x624)]??-0x1;let _0xaa7022='';_0x1ad36d[_0x49fda3(0x676)](_0x535c4c=>{const _0x4c6588=_0x49fda3,_0x404d61=_0x374f5b[_0x535c4c];let _0x4f96be=_0x4c6588(0x70c),_0x1bfbd3=_0x4c6588(0x383)+(_0x5d950e?_0x4c6588(0x50c):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x5d950e?_0x4c6588(0x5bb):'สอบปกติ')+_0x4c6588(0x7e7);if(_0x404d61){let _0x214fc9;_0x5d950e?_0x214fc9=_0x404d61[_0x4c6588(0x727)]===_0x404d61[_0x4c6588(0x7db)]:_0x214fc9=_0x136035!==-0x1&&_0x404d61[_0x4c6588(0x727)]>=_0x136035;if(_0x5d950e||_0x136035!==-0x1){const _0x1b38ba=_0x214fc9?_0x4c6588(0x628):_0x4c6588(0x4a6),_0x104150=_0x214fc9?_0x4c6588(0x1fb):_0x4c6588(0x4ae);_0x4f96be='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x1b38ba+'\x22>'+_0x104150+_0x4c6588(0x7e7);}const _0x4fa305=_0x4c6588(0x677)+(_0x404d61[_0x4c6588(0x400)]?.[_0x4c6588(0x7ca)]||0x1)+'\x20ครั้ง)</span></td>';_0xaa7022+=_0x4c6588(0x72c)+_0x535c4c+_0x4c6588(0x5b5)+_0x404d61['bestScore']+_0x4c6588(0x379)+_0x404d61[_0x4c6588(0x7db)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f96be+_0x4c6588(0x3e4)+_0x1bfbd3+_0x4c6588(0x7e8)+_0x404d61['firstScore']+_0x4c6588(0x379)+_0x404d61[_0x4c6588(0x7db)]+_0x4c6588(0x52c)+_0x404d61[_0x4c6588(0x474)]+_0x4c6588(0x506)+(_0x404d61[_0x4c6588(0x3db)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4fa305+_0x4c6588(0x45b)+new Date(_0x404d61[_0x4c6588(0x237)])['toLocaleString'](_0x4c6588(0x7d1))+_0x4c6588(0x1ee);}else{const _0x4bfb61=_0x4c6588(0x49f);_0xaa7022+=_0x4c6588(0x72c)+_0x535c4c+_0x4c6588(0x74f)+_0x1bfbd3+_0x4c6588(0x4ec)+_0x4bfb61+_0x4c6588(0x68e);}}),_0x371727[_0x49fda3(0x3fe)]=_0xaa7022;}function handleRenameQuiz(_0x3e48bd,_0x4d8ab0){const _0x3ec4d5=_0x2531d4;actionTargetId=_0x3e48bd,document['getElementById'](_0x3ec4d5(0x226))['value']=_0x4d8ab0,renameQuizModal['classList'][_0x3ec4d5(0x3cf)](_0x3ec4d5(0x47f));}async function confirmRenameQuiz(){const _0x40f1f4=_0x2531d4,_0x2fa2fe=document[_0x40f1f4(0x2e3)](_0x40f1f4(0x226))[_0x40f1f4(0x6f0)]['trim']();if(!_0x2fa2fe){showMessage(_0x40f1f4(0x49a));return;}if(!actionTargetId)return;const _0x225a74=doc(db,'artifacts/'+appId+_0x40f1f4(0x6e6),actionTargetId);try{await updateDoc(_0x225a74,{'topic':_0x2fa2fe}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x40f1f4(0x52e)][_0x40f1f4(0x813)](_0x40f1f4(0x47f)),actionTargetId=null;}catch(_0x11d714){console[_0x40f1f4(0x3f0)](_0x40f1f4(0x3fa),_0x11d714),showMessage(_0x40f1f4(0x4df));}}function _0x39f3(){const _0x196833=['results-quiz-id-display','submissions','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','#view-rankings-btn','ข้อ\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','fullscreenElement','geq','fas\x20fa-bookmark','mouseup','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','เวกเตอร์และเมทริกซ์\x20(เสริม)','จำนวนและการดำเนินการ','.quiz-result-card','correctStreak','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','parallel-test-tab','.delete-quiz-btn','cancel-quiz-settings-btn','ชนิดของข้อมูลและการเก็บข้อมูล','generated-quiz-container','keys','/public/data/quizzes','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','after','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','ดูสรุปผล','defaultPassingScore','ลิมิต','log','.ideal-answer-input','value','\x5ctext{$1}','qType','toggle','องค์ประกอบของฟังก์ชัน','getDocument','\x22...','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','far\x20fa-star','toLowerCase','topic-tab','.regenerate-question-editor-btn','<li>','กรุณาเลือกไฟล์ก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','แก้ระบบสมการด้วยเมทริกซ์','.edit-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตสถานะสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','.compare-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','style','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','quiz-search-input','map','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','password-error-msg','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','ระยะจากจุดถึงเส้นตรง','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','```json','อสมการค่าสัมบูรณ์','ความแปรปรวน','btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','คะแนน','results-quiz-title','querySelector','questionType','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','per-question-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','จำนวนนักเรียน','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','/submissions','<textarea\x20name=\x22question','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','bestScore','quiz-end-time','แบบทดสอบนี้หมดเวลาแล้ว','postTScore','\x20จาก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','close-comparison-modal-footer-btn','-\x20ข้อ\x20','comparison-individual-tab','#F59E0B','ดีมาก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','upperGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-tab','answer-grid-container','.regenerate-question-btn','student-result-area','ฟังก์ชันยกกำลัง','modal-timer-duration-label','\x20\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎบวกและกฎคูณ','.delete-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','quiz-leaderboard-table-container','student-quiz-topic','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','svg','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','ทำคะแนนเต็มในการทำครั้งแรก','วงกลม:\x20สมการและสมบัติ','1:274192258111:web:4120c9118229b5644dd48a','ไม่มีคำอธิบาย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','force-math-checkbox','หัวข้อที่สร้างเอง','ยอดเยี่ยม','open','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-body','correctAnswer','toString','.topic-row','ไม่พบโปรเจค','generate-from-text-btn','.edit-question-btn','leaderboard-table-body','generate-from-link-btn','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','delete','ai-quiz-app-aefee.firebaseapp.com','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ใช่','quiz-type-select','\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร','open-quiz-bank-btn','stopPropagation','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','(ก่อนเรียน)','interesting-stats-wrapper','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','quizType','Error\x20saving\x20quiz:','.option-text','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','move','.delete-student-btn','$1^{$2}','กรุณาใส่ชื่อโปรเจค','createObjectURL','question','export-image-btn','ค่าสัมบูรณ์','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20','<br>','.topic-actions-view','</tr>','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','การเรียงสับเปลี่ยน\x20(Permutation)','application/json','ข้อต่อไป','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20quiz\x20edits:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','empty','Error\x20listening\x20for\x20student\x20profiles:','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','admin-password-input','fixed','project-name-input','input[name=\x22status-option\x22]:checked','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','</li>','bottom','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-global-live-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','Error\x20processing\x20file\x20for\x20AI:','text-blue-700','Error\x20showing\x20quiz\x20detail\x20view:','.star-quiz-btn','toDate','พาราโบลา','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','ผู้ไม่ยอมแพ้','normal','touches','matching','includes','download','จากไฟล์ที่แนบมานี้,\x20','pre-test-checkbox','score','การคูณ','live-short-answer-input','global-quiz-search-input','game-pin-input','พีชคณิตและฟังก์ชัน','checked','thead\x20.sortable-header','เกิดข้อผิดพลาดในการบันทึก','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','.quiz-bank-present-btn','postScore','_opt0\x22\x20name=\x22question','first_try_ace','data','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','project-detail-view','confirm-join-game-btn','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousemove','.answeredCurrentQuestion','file-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l','2-digit','none','เกิดข้อผิดพลาดในการลบหัวข้อ','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','appendChild','project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การบวกเศษส่วน','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','input','length','การจัดหมู่\x20(Combination)','text-red-600','ปรับเพิ่ม/ลดเป็นร้อยละ','load-quiz-btn','(ไม่มีชื่อ)','student-reading-area','th-TH','.duplicate-quiz-btn','export-excel-btn','$1\x5ctext(','แคลคูลัสเบื้องต้น','ฟังก์ชันผกผัน','</span>','sin','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalQuestions','lesson-plan-content','adaptive-quiz-checkbox','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','values','quiz-leaderboard-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toFixed','\x5ccdot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','สมการราก\x20(radical)','questionStatus','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','รูปสแควร์รูท\x20(surd)','then','back-to-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สร้างแบบทดสอบ','key','lower_group_count','both','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','type','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','ยังไม่ส่ง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','binom','badges','\x20ชุด)','num-choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','[data-is-correct=\x22true\x22]','เกิดข้อผิดพลาดในการลบแบบทดสอบ','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','fa-crown\x20text-yellow-500','Authentication\x20failed:','correctResponse','student-quiz-leaderboard-tab','การสร้างรูปด้วยวงเวียน–สันตรง','math-topic-search-input','helvetica','neq','ผ่านฉลุย','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes/','ระบบเลขและค่าประจำหลัก','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add','</body></html>','baseVal','getScreenCTM','presentation-ai-result','Error\x20fetching\x20quiz\x20status:','จากเนื้อหาต่อไปนี้:\x20\x22','question-complexity-select','student-quiz-leaderboard-content','admin-view','.correctStreak','modal-timer-duration-input','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x22,\x20','link-topic-input','rgba(16,\x20185,\x20129,\x200.7)','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ห.ร.ม.\x20(GCD)','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','join','quiz-form','{$1}','lesson-plan-title','#per-question-options\x20select','ความคล้ายของรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','findIndex','เรขาคณิต','text-red-800','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','ownerSVGElement','shuffle-setting-select','ท็อปฟอร์ม','back-from-results-btn','สเกลและแผนที่','</p>','all','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','ปริมาตร/ความจุและการแปลง','move-quiz-project-select','rgba(59,\x20130,\x20246,\x200.7)','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','per_question','workerSrc','ARRAY','แบบเติมคำตอบ','setFont','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','resultsDisplay','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','text-gray-500','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','Error\x20generating\x20from\x20link:','drill-feedback','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','specialist','border-green-500','\x20ข้อ\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','times','starred','join-live-game-btn','\x22\x20ให้เป็นคำถามประเภท\x20\x22','contents','class','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','<tr>','Error\x20deleting\x20project:','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<li\x20class=\x22','onload','leaderboard_','modal-message','preventDefault','student-quiz-area','Error\x20toggling\x20star\x20status:','isRemedial','จุด\x20เส้น\x20ระนาบ','มุมและการวัดมุม','Failed\x20to\x20get\x20standardized\x20topic:','imageCode','true_false','confirm-create-project-btn','\x20คู่\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','stringify','cos','NUMBER','split','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','project-detail','กรุณาเลือกสถานะ','set','\x22\x20data-pre-test-id=\x22','กรุณาป้อนหัวข้อสำหรับใบงาน','%</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','คัดลอกแบบทดสอบสำเร็จ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','image/png','perfect_score','\x22\x5cn','options','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','<div\x20class=\x22answer-space\x22></div>','การบวก','idealAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','Failed\x20to\x20get\x20hint:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5cfrac','quizId','Error\x20during\x20class\x20analysis:','กำลังสร้างรูปภาพ...','content','อนุพันธ์:\x20กฎลูกโซ่','contains','jspdf','หลังเรียน','admin','show_results_and_answers','projectId','student','modal-shuffle-select','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการยกกำลัง','start-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','parallel-test-upload-input','startTime','parts','ที่พิมพ์ได้\x20จำนวน\x20','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','querySelectorAll','scheduled','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','quiz-id-input','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','isCorrect','/public/data/practiceBank','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</form>','date_desc','\x22\x20data-q-type=\x22','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','191089pEqTbp','touchend','questionDisplayedAt','สมการเชิงเส้นตัวแปรเดียว','BOOLEAN','trim','end-game-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','ผ่าน','close-comparison-modal-btn','คะแนนเฉลี่ย','Error\x20displaying\x20question\x20bank:','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','sort','text-green-900','blueprint-upload-input','reveal-answer-btn','\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ใหม่...','fa-fire\x20text-orange-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','สร้างแบบทดสอบปรนัย','practiceProblems','Error\x20generating\x20from\x20blueprint:','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','N/A','stdDev','ร้อยละประยุกต์','write','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','parallel-test-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','podium','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','เกิดข้อผิดพลาด:\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','AI\x20grading\x20failed:','มัธยฐาน','(^|[^\x5c\x5c])\x5cb','STOP','rename-quiz-input','opacity-50','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','indexOf','fromCharCode','\x22.\x20Ideal\x20Answer:\x20\x22','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบโปรเจค','generate-from-file-btn','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','correctAnswerIndex','choices_only','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','สมการเหตุผล\x20(rational)','ความต่อเนื่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','latestSubmittedAt','category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','link-url-input','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','.export-pdf-list-btn','text-indigo-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','พื้นที่สี่เหลี่ยม','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','Error\x20fetching\x20project\x20quizzes:','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนเบี่ยงเบนมาตรฐาน','export-pdf-btn','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','str','</tbody></table>','\x5cfrac','tGain','dataIndex','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','ไฮเพอร์โบลา','AI\x20request\x20was\x20blocked.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','rename-quiz-modal','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','เกิดข้อผิดพลาดในการโหลดโปรเจค','sqrt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','select-all-topics-btn','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','4OeCTSY','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','cancel-quiz-status-btn','PERFECT_SCORE','add-student-btn','stem','fa-bolt\x20text-blue-500','1353171puDsGu','circle','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','<h1></h1>','pow','ค่าคลาดเคลื่อนของการวัด','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','ฐานนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','Error\x20fetching\x20student\x20rankings:','กรุณาเลือกชื่อของคุณ','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','274192258111','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','data:application/vnd.ms-word;charset=utf-8,','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','ฟังก์ชันค่าสัมบูรณ์','addEventListener','disabled','export-leaderboard-pdf-btn','\x5cpm','ref','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission-status-chart','อัตราส่วนและสัดส่วน','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','รูปหลายเหลี่ยมและมุมภายใน','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','<div><input\x20type=\x22radio\x22\x20id=\x22q','message-modal','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','ตอบถูกทุกข้อในแบบทดสอบนี้','กรุณาเลือกโปรเจคปลายทาง','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','https://corsproxy.io/?','fa-dumbbell\x20text-gray-700','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','label','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','project-sort-select','เรขาคณิตวิเคราะห์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','commit','confirmation-modal','q-text-','timerMode','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','find','แผนการสอน','hint-btn','math-topics-checkbox-container','</td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-generator-v3','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','answeredCurrentQuestion','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','ย้าย','confirmation-message','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','total','width','body','back-to-dashboard-from-results-btn','หน่วยความยาวและการแปลง','การประยุกต์เวกเตอร์พื้นฐาน','$1^{\x5ccirc}\x5ctext{C}','overallGroups','target','input[type=\x22checkbox\x22]','ยังไม่มีนักเรียนส่งงาน','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','settings','save-quiz-edits-btn','คำถามถัดไป','เปิด\x20(จับเวลา)','[*]','Error\x20generating\x20lesson\x20plan:','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','questions','classStrengths','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','toDataURL','solution','topic-input','localeCompare','\x20\x20\x20-\x20คำตอบ:\x20','ก่อนเรียน','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','แก้ไขข้อนี้','show_pass_fail_only','การแปลงรูปอัตลักษณ์','.question-editor-item','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','lesson-plan-modal','.live-answer-btn','desc','countdown-display','update','timer-duration-input','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fa-user-astronaut\x20text-blue-700','deg','scores-tab-content','ลำดับเลขคณิต\x20(AP)','min','/studentProfiles','teachingContent','ชื่อหัวข้อห้ามว่าง','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','answers','bank-quiz-list','/public/data/liveGames','<div\x20class=\x22mb-3\x20topic-category\x22>','\x22\x20value=\x22true\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ring-purple-400','สลับไปโหมดนักเรียน','getElementById','ไม่พบข้อมูลข้อสอบหลังเรียน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>','<tr><td\x20colspan=\x228\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','_blank','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PERSEVERANCE','pinned-items','.topic-actions-edit','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','exitFullscreen','topic-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','button[type=\x22submit\x22]','ลำดับเรขาคณิต\x20(GP)','undefined','keyup',',\x20r=','สลับไปโหมดผู้ควบคุม','generate-from-topic-btn','quiz-results-table-body','test','endTime','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดอกเบี้ยอย่างง่าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','Firebase\x20initialization\x20failed:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac{','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22','ลบแบบทดสอบสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','Error\x20generating\x20from\x20parallel\x20test\x20file:','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','student-project-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลคำตอบของนักเรียนเพื่อนำมาสร้างตาราง</p>','.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','<tr\x20class=\x22','สมการตรีโกณมิติ','\x5cge','ไม่พบข้อมูลผู้ใช้','\x5ctimes','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','touchmove','admin-action-buttons','สถิติและความน่าจะเป็น','quiz-schedule-start-container','text','project-id-display','question-analytics-container','multiple_choice','max','บันทึกคำถามใหม่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','answerText','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','วิเคราะห์ผล','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','แบบทดสอบที่ติดดาว','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','API\x20call\x20failed\x20with\x20status:\x20','.choice-text','พอใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','match','เกิดข้อผิดพลาดในการติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','^{\x5ccirc}\x5ctext{C}$','คัดลอกไม่สำเร็จ','):\x20','\x20(p=','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','upperGroupNames','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','parseFromString','finishReason','[contenteditable=\x22true\x22]','Error\x20adding\x20custom\x20topic:','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','badgesCount','pointsLastQuestion','draggable-text','[data-topic-container-id]','comparison','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','.move-quiz-btn','getContext','fa-pen','ตัวประกอบและตัวประกอบเฉพาะ','createElementNS','files','.topic-name-input','Error\x20updating\x20quiz\x20settings:','json','(ก่อนเรียน)\x20','generate-worksheet-btn','rgba(79,\x2070,\x20229,\x200.8)','พิมพ์ตอบ','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','.rename-quiz-btn','date_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','/users/','answer','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','.presentation-option','autoTable','confirm-move-quiz-btn','name','delete-all-students-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','การหารทศนิยม','fa-rocket\x20text-purple-500','fas\x20fa-star\x20text-yellow-500','repeat','ดีเทอร์มิแนนต์','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงข้อมูลจากลิงก์...',')\x5cb)','closest','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','ไม่พบข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','raw','score-distribution-chart','สรุปผลการวิเคราะห์:\x5cn','results_','.live-answer-btn,\x20#live-submit-short-answer-btn','font-bold\x20text-red-700\x20line-through','global-live-game-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','post-test','matching_item','\x20/\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','modal-passing-score-input','prev-question-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','การบวกทศนิยม','students','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','GlobalWorkerOptions','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','Error\x20loading\x20quiz\x20for\x20student:','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','กำลังสร้างคำถามข้อ\x20','delete-svg-btn','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','submission','#student-project-leaderboard-content\x20thead','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','right','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม\x20(','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','<span\x20title=\x22','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','bg-red-100','frac','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','user','s;\x22\x20title=\x22','MathJax','presentation-short-answer-input','.topic-name-display','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','exists','export-leaderboard-image-btn','.quiz-status-btn','.generate-lesson-btn','push','line-through\x20text-red-700','\x5cfrac{$1}{$2}','\x22\x20name=\x22question','กรุณาเลือกคำตอบก่อนครับ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','modal-adaptive-quiz-checkbox','presentation-slide-container','bg-green-300','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ql-editor','modal-results-display-select','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','admin-dashboard','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','presentation-modal','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','start-game-btn','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','random','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำตอบถูกต้อง!\x20+','display','cancel-test-btn','some','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20หัวข้อ)','ศูนย์','Error\x20deleting\x20quiz:','.cancel-edit-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','1325544Lbbmhj','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ไม่สามารถสร้างโปรเจคได้','</th>','\x20คะแนน','explanation','<option\x20value=\x22','submittedAt','lowerGroupResponders','remove','<p><strong>คำตอบของคุณ:</strong>\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','true','</tbody></table></div>','flex','cancel-quiz-edits-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','textContent','มุมพิเศษ\x2030°-60°-90°','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','<p\x20class=\x22','points','student-name-select','opacity','ไม่พบแบบทดสอบ','lessonPlan','ตรีโกณมิติ','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','quiz-bank-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','thead','status','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันกำลังสองและกราฟ','instructions','create-project-modal','ไม่มี','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','ส่งคำตอบ','parse','error','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กราฟแท่ง\x20กราฟเส้น','numeric','analytics','td,\x20th','Error\x20regenerating\x20question\x20in\x20editor:','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20renaming\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','file-topic-input','attempts','starred-project','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','.quiz-bank-try-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','input[name=\x22drill_answer\x22]:checked','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20value=\x22','leaderboard-quiz-tab-content','project-dashboard-view','คะแนนเต็ม','พื้นที่สามเหลี่ยม','ความคาดหมาย\x20(Expected\x20value)','getPage','input[type=\x22checkbox\x22]:checked','button','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','อินเวอร์สของเมทริกซ์','ใช่','getBBox','#10B981','live-game','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','ไม่ได้ตอบ','ลำดับการดำเนินการ\x20(PEMDAS)','แผนภาพกล่อง\x20(box\x20plot)','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','เลือกและบันทึก','close','toLocaleString','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','index','targetId','preTScore','open-global-live-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','manage','click','<option>กำลังโหลดโปรเจค...</option>','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','results-tab-content','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','getAttributeNS','fas\x20fa-user-edit','student-rankings-modal','toISOString','ความสัมพันธ์ของมุม','กฎของไซน์','confirm-rename-quiz-btn','Failed\x20to\x20parse\x20JSON\x20from\x20AI','save','<span\x20class=\x22font-bold\x20','bg-emerald-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','originalQuestionText','className','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันเชิงเส้นและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','q-explanation-','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','docs','players','\x5csqrt{$1}','shuffle','จำนวนคู่:','default','preScore','next-question-timed-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','การลบเศษส่วน','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','ไม่สามารถเพิ่มนักเรียนได้','</p><p><strong>เฉลย:</strong>\x20','สร้างคำถามแบบเติมคำในช่องว่าง','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','name_desc','export-leaderboard-excel-btn','worksheet-input-area','name_asc','quiz-generation-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','quiz-status-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt','gamePin','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','quiz-results','leaderboard-quiz-tab-btn','editable-text-','text/html','whole_quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','removeEventListener','$1\x5c%','totalPoints','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','/public/data/projects/','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','<div\x20id=\x22q-image-container-','save-settings-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','message','latestScore','next-live-question-btn','mjx-container','export-leaderboard-word-btn','บันทึกการแก้ไข','from','คัดลอกรหัสแล้ว!','practice-topic-btn','\x20ตัวเลือก.\x20','ฟังก์ชันสัมพัทธ์\x20(rational)','#math-topics-checkbox-container\x20input:checked','hidden','ย้ายแบบทดสอบไปโปรเจคอื่น','.admin-try-quiz-list-btn','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบตารางสำหรับ\x20Export','<i\x20class=\x22fas\x20fa-pen\x22></i>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20duplicating\x20quiz:','title','touchcancel','presentation-explanation','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','จำนวนเชิงซ้อน\x20(เสริม)','result','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','ผลรวมอนุกรม\x20(Σ)','close-student-rankings-btn','fill_in_no_choices','currentTarget','check-answer-btn','Error\x20listening\x20for\x20projects:','/public/data/customMathTopics','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','กรุณาใส่ชื่อใหม่','arrayBuffer','ai-quiz-app-aefee','แบบปรนัย\x204\x20ตัวเลือก','พื้นที่ผิวรูปทรงสามมิติ','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','worksheet-tab','Error\x20saving\x20questions\x20to\x20practice\x20bank:','-tab','สร้างเนื้อหาสอน','</span></p>','bg-red-100\x20text-red-800','.score','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','timer-duration-label','cdot','27411472','การวัด','ไม่ผ่าน','analytics-tab-content','Error\x20opening\x20quiz\x20editor:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','00:00','numPages','slice','Error\x20deleting\x20custom\x20topic:','API\x20call\x20failed','player-list-lobby','export-lesson-pdf-btn','กรุณาใส่ชื่อนักเรียน','custom-math-topic-input','description','STRING','text-blue-700\x20bg-blue-100','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','รูปแบบการให้เหตุผล','text-green-700\x20bg-green-100','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','quick_thinker','change','destroy','</p></div>','back-to-home-manual-release','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','cursor','quiz-status-modal','loader','ฟังก์ชันพหุนาม','ร้อยละพื้นฐาน','.start-live-race-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','การลบทศนิยม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','next-drill-btn','close-lesson-plan-modal-btn','bar','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','toLocaleDateString','คำถามดิบ:\x20\x22','เซียนสมองไว','การลบ','ระยะทางและจุดกึ่งกลาง','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','icon','แผนภาพเวนน์','quizMode','การนับ','Enter','student-project-leaderboard-tab','fill_in_the_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คณิตการเงิน/บูรณาการ','currentQuestionIndex','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','เศษส่วน\x20(ย่อ/ขยาย)','label[for=\x22num-questions\x22]','เกิดข้อผิดพลาดในการเข้าร่วมเกม','no-projects-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','back-to-results-btn','blueprint-input-area','(เลือกแล้ว\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','move-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อนเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลังเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','quiz-settings-modal','แผนการสอน:\x20','teacherSuggestions','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ควรปรับปรุง','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','mean','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','บันทึกการตั้งค่าสำเร็จ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','comparison-modal','เกิดข้อผิดพลาดในการโหลดสถานะ','ON_FIRE','bg-amber-100\x20text-amber-800','show_results_only','live-game-view','Error\x20deleting\x20all\x20students:','back-to-student-initial-btn','input[type=\x22text\x22]','candidates','revealed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','perQuestionStats','leaderboard-tab-content','originalQuestion','schedule','ปิดใช้งาน','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','function','live-options-container','results-table-container','<p>','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','back-to-dashboard-btn','topic','เกิดข้อผิดพลาดในการสร้างใบงาน','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','#ffffff','การคูณทศนิยม','players.','innerText','เส้นจำนวน','Remedial\x20quiz\x20generation\x20failed:','onclick','\x22>ไม่ใช่</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','classList','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','size','check-presentation-answer-btn','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','student-view','ความชันเส้นสัมผัส','คำตอบผิด','<span\x20class=\x22sort-indicator\x20ml-2\x22>','underline','cloneNode','now','leaderboard-quiz','strength-weakness-analysis-container','จำนวนเต็มบวก','leaderboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','questionText','earned-badges-container','.badges','</option>','.answer-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','projectName','cancel-export-pdf-btn','select','.\x20แต่ละข้อมี\x20','</div><div\x20class=\x22space-y-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x20\x20\x20-\x20','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','เงินงวด\x20(อนุกรมเงินงวด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','asc','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-global-live-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','isAdaptive','อนุพันธ์:\x20กฎพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-live-race-generated-btn','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','originalTopic','floor','results','on_fire','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','text-red-700\x20bg-red-100','mode-switcher-btn','.save-to-bank-btn','cancel-create-project-btn','defaultNumQuestions','dispatchEvent','analyze-strengths-btn','prod','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','.quiz-bank-item','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','เส้นรอบรูป','บันทึกการแก้ไขสำเร็จ','</label>\x0a\x20\x20\x20\x20</div>\x0a','insertAdjacentHTML','<div\x20class=\x22','สมการค่าสัมบูรณ์','beforeend','ai-quiz-app-aefee.appspot.com','quiz-bank-modal','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','isStarred','Adaptive\x20flow\x20failed:','Copy\x20command\x20failed','short_answer','\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20','promise','inactive','Error\x20listening\x20for\x20starred\x20quizzes:','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-word-btn','border-4','.pointsLastQuestion','comparison-chart','global-live-game-count','</span></div>','document','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','ค.ร.น.\x20(LCM)','1005956nJqHjU','questions_only','learningGaps','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','allResponses','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','comparison-overall-content','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','POST','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','แบบทดสอบนี้ปิดใช้งานอยู่','ไม่สามารถโหลดรายการโปรเจคได้','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-from-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','font-bold','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','text-green-600\x20font-bold','bank-input-area','quiz-results-view','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-move-quiz-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','div','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','ทฤษฎีบทพื้นฐานของแคลคูลัส','สอบซ่อม','.group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','$1\x20\x5cfrac','.delete-custom-topic-btn','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/questionBank','\x5c\x5c\x5c\x5c(?=(','เพิ่มหัวข้อ\x20\x22','results-table','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','56DDhznO','คณิตศาสตร์','string','ราชาคัมแบ็ก','quiz-start-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','bg-green-500','confirm-delete-btn','959238EyoVWo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-initial-view','MathJax\x20typeset\x20error\x20(analytics):','quiz-editor-questions-container','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mixed','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','dataset','http://www.w3.org/2000/svg','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','editor-quiz-topic','start-presentation-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','cancel-delete-btn','leq','กฎของโคไซน์','</p><div>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include-images-checkbox','generate-from-parallel-test-btn','Error\x20updating\x20custom\x20topic:','ฮิสโตแกรม','num-questions','touchstart','contentEditable','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','.delete-svg-btn','onerror','.lastAnswerCorrect','Error\x20adding\x20students:','ส่งแล้ว','loader-text','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-bank-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects','ฟังก์ชันแบบชิ้นส่วน','.correct-response-input','.quiz-settings-btn','createdAt','reduce','startsWith','\x22.\x20','start-remedial-quiz-btn','gain','project-search-input','\x5cle','nickname-input','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','-tab-content','timer-duration-container','round','next-question-btn','สร้างใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','Error\x20saving\x20to\x20question\x20bank:','ความชันและเส้นตรง','comparison-individual-content','.draggable-text','สร้างคำถามแบบใช่/ไม่ใช่','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','bg-purple-50','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','modal-timer-mode-select','กรุณาวาง\x20URL\x20ของบทความก่อน','ดอกเบี้ยทบต้น','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','text-green-600','อุณหภูมิและการแปลง','พบข้อสอบ\x20','setAttribute','</div>','comparison-overall-tab','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','typesetPromise','shuffleSetting','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22]:checked','text/csv;charset=utf-8;','timer-mode-select','passingScore','setAttributeNS','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','bg-green-100\x20text-green-800','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','position','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบหัวข้อสำเร็จ','href','Invalid\x20response\x20structure\x20from\x20AI.','active','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x5cdiv','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','removeChild','submit','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','เปิดใช้งาน','447330HnWwja','hint','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','admin-try-quiz-btn','dfrac','Error\x20fetching\x20projects\x20for\x20move:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','การหารเศษส่วน','pre-test','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#student-quiz-leaderboard-content\x20thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-topic=\x22','สมมาตร\x20(แกน/จุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','\x22\x20data-name=\x22','focus','<i\x20class=\x22fas\x20fa-save\x22></i>','comeback_king','เกิดข้อผิดพลาดในการลบนักเรียน','Error\x20comparing\x20results:','.doc','sum','katex','$1^{\x5ccirc}','\x5csum','การจัดกลุ่มข้อมูล','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','live-submit-short-answer-btn','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','createElement','bg-green-100','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','COMEBACK_KING','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','remedialContent','เกิดข้อผิดพลาดในการอ่านไฟล์','\x20mr-2\x22></i>','รอเปิด','bank-quiz-search-input','หน่วยเวลาและการคำนวณเวลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','ข้อที่\x20','Leaderboard\x20update\x20transaction\x20failed:\x20','Error\x20joining\x20live\x20game:','studentName','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','circ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','close-game-final-btn','entries','อสมการเชิงเส้น','promptFeedback','admin-testing','readAsDataURL','_opt1\x22\x20name=\x22question','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-modal','forEach','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','upper_group_count','correct','player-count','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','modal-close-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','เกี่ยวกับหัวข้อ\x20\x22','ระยะเวลา\x20(วินาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','FileReader\x20error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','print','confirm-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','generated-quiz-actions','การหาร','.png','การยืนยันตัวตนล้มเหลว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-btn','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','border-red-700','interesting-stats-container','OBJECT','deselect-all-topics-btn','bg-white/30','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','timerDuration','outerHTML','กำลังสร้างแบบทดสอบคู่ขนาน...','standard','height','replace','พิสัย','.copy-quiz-id-list-btn','9621090atfYie','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','scores-tab-btn','.csv','auto','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','หน่วยมวล/น้ำหนักและการแปลง','กำลังวิเคราะห์ข้อสอบ\x20\x22','#results-table','text-white','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','project-quizzes-list','.question-editor-item[data-q-index=\x22','doughnut','export-pdf-modal','manage-tab-content','ผู้เชี่ยวชาญ','per-q-countdown','จำนวนคละ','text-tab','defaultNumChoices','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','เมทริกซ์:\x20บวก/คูณ','ระยะเวลา\x20(นาที):','\x22><i\x20class=\x22fas\x20','```','clientX','mousedown','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-worksheet-pdf-btn','student-quiz-leaderboard-table-body','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','num-choices-container','export-tutor-pdf-btn','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','copy-quiz-id-btn','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','results-tab','การแจกแจงปกติและ\x20z-score','answering','table','passing-score-input','from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l','ไม่สามารถโหลดข้อมูลอันดับได้','clientY'];_0x39f3=function(){return _0x196833;};return _0x39f3();}async function handleMoveQuiz(_0x264ce2){const _0x354d5c=_0x2531d4;actionTargetId=_0x264ce2;const _0x315ff9=document[_0x354d5c(0x2e3)](_0x354d5c(0x17d));_0x315ff9[_0x354d5c(0x3fe)]=_0x354d5c(0x42a),moveQuizModal['classList']['remove'](_0x354d5c(0x47f));try{const _0x13315c=collection(db,_0x354d5c(0x4ed)+appId+'/public/data/projects'),_0x4c16d8=await getDocs(_0x13315c),_0x37d277=_0x4c16d8[_0x354d5c(0x446)][_0x354d5c(0x70b)](_0x3376bf=>({'id':_0x3376bf['id'],..._0x3376bf[_0x354d5c(0x7b5)]()})),_0x3a2b26=_0x37d277[_0x354d5c(0x2b1)](_0x3c4c96=>_0x3c4c96['id']!==currentProjectId);if(_0x3a2b26['length']===0x0){_0x315ff9['innerHTML']=_0x354d5c(0x663),document[_0x354d5c(0x2e3)](_0x354d5c(0x35c))[_0x354d5c(0x271)]=!![];return;}_0x315ff9['innerHTML']=_0x3a2b26[_0x354d5c(0x70b)](_0x2cc4b1=>_0x354d5c(0x3cc)+_0x2cc4b1['id']+'\x22>'+_0x2cc4b1[_0x354d5c(0x545)]+_0x354d5c(0x542))[_0x354d5c(0x828)](''),document[_0x354d5c(0x2e3)](_0x354d5c(0x35c))[_0x354d5c(0x271)]=![];}catch(_0x2e6e7c){console[_0x354d5c(0x3f0)](_0x354d5c(0x63e),_0x2e6e7c),showMessage(_0x354d5c(0x5a3)),moveQuizModal[_0x354d5c(0x52e)][_0x354d5c(0x813)]('hidden');}}async function confirmMoveQuiz(){const _0x3384c1=_0x2531d4,_0xa96ffe=document[_0x3384c1(0x2e3)](_0x3384c1(0x17d))['value'];if(!_0xa96ffe){showMessage(_0x3384c1(0x281));return;}if(!actionTargetId)return;const _0x5a7c85=doc(db,_0x3384c1(0x4ed)+appId+_0x3384c1(0x6e6),actionTargetId);try{await updateDoc(_0x5a7c85,{'projectId':_0xa96ffe}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x3384c1(0x52e)][_0x3384c1(0x813)](_0x3384c1(0x47f)),actionTargetId=null;}catch(_0x43dc30){console[_0x3384c1(0x3f0)](_0x3384c1(0x1ca),_0x43dc30),showMessage(_0x3384c1(0x4eb));}}async function handleQuizSettings(_0x29f8bd){const _0xec7ced=_0x2531d4;actionTargetId=_0x29f8bd;const _0xeb5f32=doc(db,'artifacts/'+appId+_0xec7ced(0x6e6),_0x29f8bd);try{const _0x235238=await getDoc(_0xeb5f32);if(_0x235238[_0xec7ced(0x3a1)]()){const _0x3d9f1d=_0x235238[_0xec7ced(0x7b5)](),_0x4fc14d=_0x3d9f1d[_0xec7ced(0x2b3)]||{},_0x295153=_0x3d9f1d[_0xec7ced(0x2ba)][_0xec7ced(0x7ca)];document[_0xec7ced(0x2e3)](_0xec7ced(0x1da))[_0xec7ced(0x6f0)]=_0x4fc14d['shuffle']||_0xec7ced(0x7c1),document[_0xec7ced(0x2e3)](_0xec7ced(0x3b2))[_0xec7ced(0x6f0)]=_0x4fc14d['resultsDisplay']||_0xec7ced(0x1d7),document[_0xec7ced(0x2e3)]('modal-timer-mode-select')[_0xec7ced(0x6f0)]=_0x4fc14d['timerMode']||_0xec7ced(0x7c1),document[_0xec7ced(0x2e3)](_0xec7ced(0x81e))['value']=_0x4fc14d[_0xec7ced(0x697)]||0xa,document[_0xec7ced(0x2e3)](_0xec7ced(0x37b))[_0xec7ced(0x6f0)]=_0x4fc14d['passingScore']||Math[_0xec7ced(0x55e)](_0x295153/0x2),document['getElementById'](_0xec7ced(0x37b))[_0xec7ced(0x31e)]=_0x295153,document[_0xec7ced(0x2e3)](_0xec7ced(0x3ac))[_0xec7ced(0x7ad)]=_0x4fc14d['isAdaptive']||![],document['getElementById'](_0xec7ced(0x613))[_0xec7ced(0x569)](new Event(_0xec7ced(0x4c3))),quizSettingsModal[_0xec7ced(0x52e)][_0xec7ced(0x3cf)](_0xec7ced(0x47f));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x3e3fe2){console[_0xec7ced(0x3f0)]('Error\x20fetching\x20quiz\x20settings:',_0x3e3fe2),showMessage(_0xec7ced(0x212));}}async function confirmQuizSettings(){const _0x398cab=_0x2531d4;if(!actionTargetId)return;const _0x434adf=doc(db,_0x398cab(0x4ed)+appId+_0x398cab(0x6e6),actionTargetId),_0x362d05={'shuffle':document[_0x398cab(0x2e3)](_0x398cab(0x1da))[_0x398cab(0x6f0)],'resultsDisplay':document[_0x398cab(0x2e3)]('modal-results-display-select')[_0x398cab(0x6f0)],'timerMode':document[_0x398cab(0x2e3)](_0x398cab(0x613))[_0x398cab(0x6f0)],'timerDuration':parseInt(document[_0x398cab(0x2e3)](_0x398cab(0x81e))['value'])||0xa,'passingScore':parseInt(document[_0x398cab(0x2e3)](_0x398cab(0x37b))['value'])||0x0,'passingScore':parseInt(document[_0x398cab(0x2e3)](_0x398cab(0x37b))[_0x398cab(0x6f0)])||0x0,'isAdaptive':document[_0x398cab(0x2e3)](_0x398cab(0x3ac))['checked']};try{await updateDoc(_0x434adf,{'settings':_0x362d05}),showMessage(_0x398cab(0x505)),quizSettingsModal[_0x398cab(0x52e)][_0x398cab(0x813)](_0x398cab(0x47f)),actionTargetId=null;}catch(_0x29996b){console[_0x398cab(0x3f0)](_0x398cab(0x34d),_0x29996b),showMessage(_0x398cab(0x7af));}}async function handleQuizStatus(_0x4a14eb){const _0x5afffc=_0x2531d4;actionTargetId=_0x4a14eb;const _0x15b5a3=doc(db,_0x5afffc(0x4ed)+appId+_0x5afffc(0x6e6),_0x4a14eb);try{const _0xf15a4=await getDoc(_0x15b5a3);if(_0xf15a4['exists']()){const _0x120128=_0xf15a4[_0x5afffc(0x7b5)](),_0x75a171=_0x120128[_0x5afffc(0x3e7)]||_0x5afffc(0x62f),_0x49d9ce=document['getElementById'](_0x5afffc(0x45c)),_0x1717dc=document[_0x5afffc(0x2e3)](_0x5afffc(0x319)),_0x193139=document['getElementById']('quiz-schedule-end-container');let _0xc2ea65=_0x5afffc(0x4dd)+(_0x75a171===_0x5afffc(0x62f)?_0x5afffc(0x7ad):'')+_0x5afffc(0x389)+(_0x75a171==='inactive'?'checked':'')+_0x5afffc(0x672)+(_0x75a171===_0x5afffc(0x1e8)?_0x5afffc(0x7ad):'')+_0x5afffc(0x48d);_0x49d9ce['innerHTML']=_0xc2ea65;const _0xc34739=_0x75a171==='scheduled';_0x1717dc[_0x5afffc(0x52e)][_0x5afffc(0x6f3)](_0x5afffc(0x47f),!_0xc34739),_0x193139[_0x5afffc(0x52e)][_0x5afffc(0x6f3)](_0x5afffc(0x47f),!_0xc34739),document[_0x5afffc(0x2e3)]('quiz-start-time')[_0x5afffc(0x6f0)]=_0x120128['startTime']?_0x120128[_0x5afffc(0x1e1)][_0x5afffc(0x4dc)](0x0,0x10):'',document[_0x5afffc(0x2e3)](_0x5afffc(0x728))[_0x5afffc(0x6f0)]=_0x120128[_0x5afffc(0x2f9)]?_0x120128[_0x5afffc(0x2f9)][_0x5afffc(0x4dc)](0x0,0x10):'',_0x49d9ce[_0x5afffc(0x1e7)]('input[name=\x22status-option\x22]')['forEach'](_0x47cb42=>{const _0x10bf13=_0x5afffc;_0x47cb42[_0x10bf13(0x270)](_0x10bf13(0x4c3),_0x40d68f=>{const _0xf2d369=_0x10bf13,_0x4445b2=_0x40d68f[_0xf2d369(0x2ae)]['value']==='schedule';_0x1717dc[_0xf2d369(0x52e)]['toggle']('hidden',!_0x4445b2),_0x193139[_0xf2d369(0x52e)][_0xf2d369(0x6f3)]('hidden',!_0x4445b2);});}),quizStatusModal[_0x5afffc(0x52e)][_0x5afffc(0x3cf)](_0x5afffc(0x47f));}}catch(_0x11cab5){console[_0x5afffc(0x3f0)](_0x5afffc(0x818),_0x11cab5),showMessage(_0x5afffc(0x50a));}}async function confirmQuizStatus(){const _0x55b9fa=_0x2531d4;if(!actionTargetId)return;const _0x42f0b9=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId),_0x486152=document[_0x55b9fa(0x71c)](_0x55b9fa(0x78f));if(!_0x486152){showMessage(_0x55b9fa(0x1b6));return;}const _0x2dad88=_0x486152[_0x55b9fa(0x6f0)];let _0x2937e1={};if(_0x2dad88===_0x55b9fa(0x62f)||_0x2dad88===_0x55b9fa(0x582))_0x2937e1={'status':_0x2dad88,'startTime':null,'endTime':null};else{if(_0x2dad88===_0x55b9fa(0x518)){const _0xbc4be0=document['getElementById'](_0x55b9fa(0x5cb))[_0x55b9fa(0x6f0)],_0x30576e=document[_0x55b9fa(0x2e3)]('quiz-end-time')['value'];if(!_0xbc4be0&&!_0x30576e){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x2937e1={'status':_0x55b9fa(0x1e8),'startTime':_0xbc4be0?new Date(_0xbc4be0)['toISOString']():null,'endTime':_0x30576e?new Date(_0x30576e)[_0x55b9fa(0x434)]():null};}}try{await updateDoc(_0x42f0b9,_0x2937e1),showMessage(_0x55b9fa(0x703)),quizStatusModal[_0x55b9fa(0x52e)][_0x55b9fa(0x813)](_0x55b9fa(0x47f)),actionTargetId=null;}catch(_0x28a7b7){console[_0x55b9fa(0x3f0)]('Error\x20updating\x20quiz\x20status:',_0x28a7b7),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x5cfa90){const _0x14a602=_0x2531d4,_0x280c91=collection(db,_0x14a602(0x4ed)+appId+_0x14a602(0x46c)+_0x5cfa90+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x280c91,_0xe90685=>{const _0x3a4593=_0x14a602,_0x3ea23a=_0xe90685[_0x3a4593(0x446)][_0x3a4593(0x70b)](_0x142771=>_0x142771['data']());renderLeaderboard(_0x3ea23a,_0x3a4593(0x75c));},_0x5d4a1b=>{const _0x168f2e=_0x14a602;console['error'](_0x168f2e(0x788),_0x5d4a1b),document[_0x168f2e(0x2e3)](_0x168f2e(0x75c))[_0x168f2e(0x3fe)]=_0x168f2e(0x461);});}function renderLeaderboard(_0x528ffe,_0x2c5f58){const _0x595fc4=_0x2531d4,_0xc364b3=document[_0x595fc4(0x2e3)](_0x2c5f58);if(!_0x528ffe||_0x528ffe[_0x595fc4(0x7ca)]===0x0){_0xc364b3[_0x595fc4(0x3fe)]=_0x595fc4(0x3ab);return;}_0x528ffe[_0x595fc4(0x201)]((_0x501b53,_0x2015f5)=>{const _0x12f265=_0x595fc4,_0x1212fd=(_0x2015f5['totalPoints']||0x0)-(_0x501b53[_0x12f265(0x46a)]||0x0);if(_0x1212fd!==0x0)return _0x1212fd;const _0x26f3e8=(_0x2015f5[_0x12f265(0x340)]?.[_0x12f265(0x191)]||0x0)-(_0x501b53[_0x12f265(0x340)]?.['specialist']||0x0);if(_0x26f3e8!==0x0)return _0x26f3e8;const _0x520c74=(_0x2015f5[_0x12f265(0x340)]?.[_0x12f265(0x7b4)]||0x0)-(_0x501b53[_0x12f265(0x340)]?.['first_try_ace']||0x0);if(_0x520c74!==0x0)return _0x520c74;const _0x27ff26=(_0x2015f5[_0x12f265(0x340)]?.['perfect_score']||0x0)-(_0x501b53[_0x12f265(0x340)]?.[_0x12f265(0x1bf)]||0x0);if(_0x27ff26!==0x0)return _0x27ff26;const _0x486a02=(_0x2015f5['badgesCount']?.[_0x12f265(0x4c2)]||0x0)-(_0x501b53[_0x12f265(0x340)]?.[_0x12f265(0x4c2)]||0x0);if(_0x486a02!==0x0)return _0x486a02;return _0x501b53[_0x12f265(0x667)]['localeCompare'](_0x2015f5[_0x12f265(0x667)],'th');});let _0x556ab1='';_0x528ffe['forEach']((_0x308f6a,_0x16c3bb)=>{const _0xcc096c=_0x595fc4,_0x5de425=_0x16c3bb+0x1,_0x5d5c7a=_0x308f6a[_0xcc096c(0x340)]||{};let _0x16a2d7='';const _0x179fed=['specialist',_0xcc096c(0x1bf),_0xcc096c(0x7b4),_0xcc096c(0x4c2)];_0x179fed[_0xcc096c(0x676)](_0x4c2243=>{const _0x41f06c=_0xcc096c;if(_0x5d5c7a[_0x4c2243]>0x0){const _0x5982e3=Object[_0x41f06c(0x7df)](BADGES)[_0x41f06c(0x292)](_0x4eea2a=>_0x4eea2a['id']===_0x4c2243);_0x5982e3&&(_0x4c2243===_0x41f06c(0x191)?_0x16a2d7+=_0x41f06c(0x5b9)+_0x5982e3[_0x41f06c(0x35d)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x5982e3[_0x41f06c(0x4e0)]+_0x41f06c(0x5b4):_0x16a2d7+=_0x41f06c(0x5b9)+_0x5982e3[_0x41f06c(0x35d)]+'\x20('+_0x5d5c7a[_0x4c2243]+_0x41f06c(0x3c7)+_0x5982e3[_0x41f06c(0x4e0)]+_0x41f06c(0x35f)+_0x5d5c7a[_0x4c2243]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x556ab1+=_0xcc096c(0x43c)+_0x5de425+_0xcc096c(0x811)+_0x308f6a[_0xcc096c(0x667)]+_0xcc096c(0x1fa)+(_0x308f6a[_0xcc096c(0x46a)]||0x0)+_0xcc096c(0x811)+(_0x16a2d7||'-')+_0xcc096c(0x761);}),_0xc364b3[_0x595fc4(0x3fe)]=_0x556ab1;}function renderQuizLeaderboard(_0x1517f9,_0x3871a5,_0xacc741){const _0xc82f27=_0x2531d4,_0x23e676=document[_0xc82f27(0x2e3)](_0xacc741),_0x44cad4=_0xacc741===_0xc82f27(0x6be),_0x55f61b=_0x3871a5[_0xc82f27(0x2ba)][_0xc82f27(0x7ca)],_0x269135=document[_0xc82f27(0x2e3)](_0xacc741)[_0xc82f27(0x36a)](_0xc82f27(0x6ca));if(_0x269135&&!_0x44cad4){const _0x907d4=_0x269135['querySelector']('thead');_0x907d4['innerHTML']=_0xc82f27(0x206);}if(!_0x1517f9||_0x1517f9[_0xc82f27(0x7ca)]===0x0){_0x23e676[_0xc82f27(0x3fe)]='<tr><td\x20colspan=\x22'+(_0x44cad4?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x22278e=[..._0x1517f9];_0x22278e['sort']((_0x27640f,_0x70fa2a)=>{const _0x23c58a=_0xc82f27;let _0x31ce39,_0x101469;switch(quizLeaderboardSortBy){case _0x23c58a(0x667):_0x31ce39=_0x27640f[_0x23c58a(0x667)]||'',_0x101469=_0x70fa2a[_0x23c58a(0x667)]||'';return quizLeaderboardSortOrder==='asc'?_0x31ce39[_0x23c58a(0x2c0)](_0x101469,'th'):_0x101469[_0x23c58a(0x2c0)](_0x31ce39,'th');case _0x23c58a(0x3db):_0x31ce39=_0x27640f[_0x23c58a(0x3db)]||0x0,_0x101469=_0x70fa2a[_0x23c58a(0x3db)]||0x0;break;case _0x23c58a(0x400):_0x31ce39=_0x27640f['attempts']?.['length']||0x1,_0x101469=_0x70fa2a[_0x23c58a(0x400)]?.[_0x23c58a(0x7ca)]||0x1;break;case'latestSubmittedAt':_0x31ce39=new Date(_0x27640f[_0x23c58a(0x237)]),_0x101469=new Date(_0x70fa2a[_0x23c58a(0x237)]);break;case _0x23c58a(0x727):default:_0x31ce39=_0x27640f[_0x23c58a(0x727)],_0x101469=_0x70fa2a[_0x23c58a(0x727)];break;}if(_0x31ce39<_0x101469)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x31ce39>_0x101469)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x52308e=_0x3871a5[_0xc82f27(0x1a6)]===!![],_0x832eef=_0x3871a5[_0xc82f27(0x2b3)]?.[_0xc82f27(0x624)]??-0x1;let _0x4f8344='';_0x22278e[_0xc82f27(0x676)]((_0x3fe625,_0x109fa1)=>{const _0x5dc39e=_0xc82f27,_0x33d0ae=_0x109fa1+0x1;let _0x276dab='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x52308e||_0x832eef!==-0x1){let _0xf5e1ef=_0x52308e?_0x3fe625[_0x5dc39e(0x727)]===_0x55f61b:_0x3fe625[_0x5dc39e(0x727)]>=_0x832eef;const _0x249f1f=_0xf5e1ef?'bg-green-100\x20text-green-800':_0x5dc39e(0x4a6),_0x18257d=_0xf5e1ef?'ผ่าน':_0x5dc39e(0x4ae);_0x276dab=_0x5dc39e(0x797)+_0x249f1f+'\x22>'+_0x18257d+_0x5dc39e(0x7e7);}const _0xa1b4d1=_0x3fe625[_0x5dc39e(0x400)][_0x3fe625[_0x5dc39e(0x400)]['length']-0x1],_0x268dcf=(_0xa1b4d1[_0x5dc39e(0x7fb)]||[])['map'](_0x1a3fc7=>{const _0x52345a=_0x5dc39e,_0x2023fe=Object[_0x52345a(0x7df)](BADGES)[_0x52345a(0x292)](_0x3bd047=>_0x3bd047['id']===_0x1a3fc7);return _0x2023fe?_0x52345a(0x396)+_0x2023fe['name']+_0x52345a(0x6b8)+_0x2023fe['icon']+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x5dc39e(0x828)]('');_0x4f8344+=_0x5dc39e(0x719)+_0x33d0ae+_0x5dc39e(0x411)+_0x3fe625[_0x5dc39e(0x667)]+_0x5dc39e(0x554)+_0x3fe625[_0x5dc39e(0x727)]+'\x20/\x20'+_0x55f61b+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x276dab+_0x5dc39e(0x5cc)+(_0x3fe625[_0x5dc39e(0x3db)]||0x0)+_0x5dc39e(0x3e8)+(_0x44cad4?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x3fe625[_0x5dc39e(0x400)]?.[_0x5dc39e(0x7ca)]||0x1)+_0x5dc39e(0x296))+_0x5dc39e(0x455)+(_0x44cad4?'':_0x5dc39e(0x5dd)+new Date(_0x3fe625[_0x5dc39e(0x237)])[_0x5dc39e(0x41e)](_0x5dc39e(0x7d1))+_0x5dc39e(0x296))+_0x5dc39e(0x53e)+(_0x268dcf||'-')+_0x5dc39e(0x810);}),_0x23e676[_0xc82f27(0x3fe)]=_0x4f8344,_0x269135&&!_0x44cad4&&_0x269135['querySelectorAll'](_0xc82f27(0x7ae))[_0xc82f27(0x676)](_0x2eeb42=>{const _0x19d19e=_0xc82f27,_0x3eaa46=_0x2eeb42[_0x19d19e(0x71c)]('.sort-indicator');if(_0x3eaa46)_0x3eaa46[_0x19d19e(0x3cf)]();_0x2eeb42[_0x19d19e(0x5d8)][_0x19d19e(0x201)]===quizLeaderboardSortBy&&(_0x2eeb42[_0x19d19e(0x3fe)]+=_0x19d19e(0x536)+(quizLeaderboardSortOrder===_0x19d19e(0x551)?'▲':'▼')+_0x19d19e(0x7d7));});}async function handleLoadQuiz(){const _0x3d939e=_0x2531d4,_0x53fae4=document[_0x3d939e(0x2e3)](_0x3d939e(0x1ea)),_0x50a88f=_0x53fae4[_0x3d939e(0x6f0)][_0x3d939e(0x1f8)]();if(!_0x50a88f){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x3d939e(0x271)]=!![],loadQuizBtn[_0x3d939e(0x3fe)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x48c41e=doc(db,_0x3d939e(0x4ed)+appId+_0x3d939e(0x6e6),_0x50a88f),_0x44ca77=await getDoc(_0x48c41e);if(!_0x44ca77[_0x3d939e(0x3a1)]()){showMessage(_0x3d939e(0x16e));return;}currentQuizData={'id':_0x44ca77['id'],..._0x44ca77['data']()};const _0x52635b=currentQuizData[_0x3d939e(0x3e7)]||'active',_0x59ad92=new Date();if(_0x52635b===_0x3d939e(0x582)){showMessage(_0x3d939e(0x5a2));return;}if(_0x52635b===_0x3d939e(0x1e8)){const _0x264158=currentQuizData[_0x3d939e(0x1e1)]?new Date(currentQuizData[_0x3d939e(0x1e1)]):null,_0x21d1e2=currentQuizData[_0x3d939e(0x2f9)]?new Date(currentQuizData[_0x3d939e(0x2f9)]):null;if(_0x264158&&_0x59ad92<_0x264158){showMessage(_0x3d939e(0x802)+_0x264158[_0x3d939e(0x41e)]('th-TH',{'hour12':![]}));return;}if(_0x21d1e2&&_0x59ad92>_0x21d1e2){showMessage(_0x3d939e(0x729));return;}}const _0x44a62b=currentQuizData['projectId'];currentProjectId=_0x44a62b;const _0x45219a=doc(db,_0x3d939e(0x4ed)+appId+_0x3d939e(0x5f6),_0x44a62b),_0x16dc5b=await getDoc(_0x45219a);if(!_0x16dc5b[_0x3d939e(0x3a1)]()){showMessage(_0x3d939e(0x23b));return;}const _0x1810f6=_0x16dc5b[_0x3d939e(0x7b5)]();currentStudentProjectData=_0x1810f6,displayStudentNameSelector(_0x1810f6[_0x3d939e(0x380)],currentQuizData['topic']);}catch(_0x2c1196){console['error'](_0x3d939e(0x385),_0x2c1196),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x3d939e(0x271)]=![],loadQuizBtn[_0x3d939e(0x3fe)]=_0x3d939e(0x54c);}}async function handleJoinLiveGame(){const _0x427432=_0x2531d4,_0x49a324=document[_0x427432(0x2e3)](_0x427432(0x7ab)),_0x12666e=document[_0x427432(0x2e3)](_0x427432(0x602)),_0x231405=document[_0x427432(0x2e3)](_0x427432(0x7b8)),_0x20a2c0=_0x49a324['value'][_0x427432(0x1f8)](),_0x1d91f3=_0x12666e['value'][_0x427432(0x1f8)]();if(!_0x20a2c0||!_0x1d91f3){showMessage(_0x427432(0x240));return;}_0x231405[_0x427432(0x271)]=!![],_0x231405[_0x427432(0x3fe)]=_0x427432(0x770);try{const _0x2abac9=collection(db,'artifacts/'+appId+_0x427432(0x2dd)),_0x55971f=query(_0x2abac9,where(_0x427432(0x45f),'==',_0x20a2c0),where(_0x427432(0x3e7),'==',_0x427432(0x593))),_0x2e9991=await getDocs(_0x55971f);if(_0x2e9991[_0x427432(0x787)]){showMessage(_0x427432(0x746));return;}const _0x538695=_0x2e9991[_0x427432(0x446)][0x0],_0x49eb6b=_0x538695['data']();currentLiveGameId=_0x538695['id'];const _0x2ec2e1=_0x49eb6b[_0x427432(0x1ce)],_0x1c5bee=doc(db,_0x427432(0x4ed)+appId+'/public/data/quizzes',_0x2ec2e1),_0x595ac7=await getDoc(_0x1c5bee);if(!_0x595ac7[_0x427432(0x3a1)]()){showMessage(_0x427432(0x261));return;}currentQuizData={'id':_0x595ac7['id'],..._0x595ac7[_0x427432(0x7b5)]()};if(_0x49eb6b['players']&&_0x49eb6b[_0x427432(0x447)][_0x1d91f3]){showMessage(_0x427432(0x4c1));return;}const _0x28e092={};_0x28e092[_0x427432(0x526)+_0x1d91f3]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,'artifacts/'+appId+_0x427432(0x2dd),currentLiveGameId),_0x28e092),currentStudentName=_0x1d91f3,listenForLiveGameUpdates();}catch(_0x443b27){console[_0x427432(0x3f0)](_0x427432(0x666),_0x443b27),showMessage(_0x427432(0x4f0));}finally{_0x231405[_0x427432(0x271)]=![],_0x231405[_0x427432(0x3fe)]=_0x427432(0x4a0);}}function displayStudentNameSelector(_0x44b910,_0x4104b8){const _0x1cbbfd=_0x2531d4,_0x3d6de8=document[_0x1cbbfd(0x2e3)](_0x1cbbfd(0x3dc));document[_0x1cbbfd(0x2e3)](_0x1cbbfd(0x744))[_0x1cbbfd(0x3d7)]=_0x1cbbfd(0x1c8)+_0x4104b8,!_0x44b910||_0x44b910[_0x1cbbfd(0x7ca)]===0x0?(_0x3d6de8['innerHTML']=_0x1cbbfd(0x36c),startQuizBtn[_0x1cbbfd(0x271)]=!![]):(_0x3d6de8['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x44b910[_0x1cbbfd(0x676)](_0x11cb2d=>{const _0x13e941=_0x1cbbfd,_0x370b52=document[_0x13e941(0x657)]('option');_0x370b52['value']=_0x11cb2d,_0x370b52[_0x13e941(0x3d7)]=_0x11cb2d,_0x3d6de8[_0x13e941(0x7c4)](_0x370b52);}),startQuizBtn[_0x1cbbfd(0x271)]=![]),studentInitialView['classList'][_0x1cbbfd(0x813)](_0x1cbbfd(0x47f)),studentNameSelectionView[_0x1cbbfd(0x52e)]['remove']('hidden');}function shuffleArray(_0x233d7e){const _0x3bf0a5=_0x2531d4;for(let _0x30ec3a=_0x233d7e[_0x3bf0a5(0x7ca)]-0x1;_0x30ec3a>0x0;_0x30ec3a--){const _0x50afe9=Math[_0x3bf0a5(0x55e)](Math[_0x3bf0a5(0x3ba)]()*(_0x30ec3a+0x1));[_0x233d7e[_0x30ec3a],_0x233d7e[_0x50afe9]]=[_0x233d7e[_0x50afe9],_0x233d7e[_0x30ec3a]];}}function getShuffledQuiz(_0x4f2247){const _0x580056=_0x2531d4;let _0x1e15d3=JSON[_0x580056(0x3ef)](JSON[_0x580056(0x1b0)](_0x4f2247));const _0x12208d=_0x1e15d3[_0x580056(0x2b3)]?.[_0x580056(0x449)]||_0x580056(0x7c1);if(_0x12208d===_0x580056(0x7c1))return _0x1e15d3;return(_0x12208d===_0x580056(0x590)||_0x12208d===_0x580056(0x7f3))&&shuffleArray(_0x1e15d3['questions']),(_0x12208d===_0x580056(0x231)||_0x12208d===_0x580056(0x7f3))&&_0x1e15d3[_0x580056(0x2ba)][_0x580056(0x676)](_0x463e61=>{const _0x236f89=_0x580056,_0x2a2e40=_0x463e61[_0x236f89(0x71d)]||_0x1e15d3['quizType'];if(_0x463e61[_0x236f89(0x1c1)]){let _0x1c3504=_0x463e61[_0x236f89(0x1c1)]['map']((_0x19ec78,_0x50210a)=>({'text':_0x19ec78,'isCorrect':_0x50210a===_0x463e61[_0x236f89(0x230)]}));shuffleArray(_0x1c3504),_0x463e61[_0x236f89(0x1c1)]=_0x1c3504[_0x236f89(0x70b)](_0x1812f1=>_0x1812f1[_0x236f89(0x31a)]),_0x463e61[_0x236f89(0x230)]=_0x1c3504[_0x236f89(0x830)](_0x299352=>_0x299352[_0x236f89(0x1ec)]);}_0x2a2e40===_0x236f89(0x378)&&_0x463e61[_0x236f89(0x595)]&&shuffleArray(_0x463e61['allResponses']);}),_0x1e15d3;}function displayQuizForStudent(_0x37f696){const _0x15b7bf=_0x2531d4;studentQuizArea[_0x15b7bf(0x52e)][_0x15b7bf(0x3cf)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x37f696);const _0x278cde=currentDisplayedQuiz[_0x15b7bf(0x2b3)]?.[_0x15b7bf(0x28f)]||_0x15b7bf(0x7c1);if(_0x278cde===_0x15b7bf(0x466))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x15b7bf(0x2b3)][_0x15b7bf(0x697)]);else _0x278cde===_0x15b7bf(0x182)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x4389fa=_0x2531d4;let _0x12ea1e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x4389fa(0x521)]+_0x4389fa(0x620)+(currentMode===_0x4389fa(0x66f)?_0x4389fa(0x254):'')+_0x4389fa(0x45d);currentDisplayedQuiz[_0x4389fa(0x2ba)]['forEach']((_0x372a33,_0xc7b288)=>{const _0x339cfb=_0x4389fa,_0x7daae6=_0x372a33[_0x339cfb(0x71d)]||currentDisplayedQuiz[_0x339cfb(0x76d)];_0x12ea1e+=_0x339cfb(0x28b);_0x7daae6===_0x339cfb(0x378)?_0x12ea1e+=_0x339cfb(0x233)+(_0xc7b288+0x1)+'.\x20'+_0x372a33['stem']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0xc7b288+_0x339cfb(0x20c)+_0x372a33['allResponses'][_0x339cfb(0x70b)](_0x4baa04=>_0x339cfb(0x3cc)+_0x4baa04+'\x22>'+_0x4baa04+_0x339cfb(0x542))[_0x339cfb(0x828)]('')+_0x339cfb(0x26e):(_0x12ea1e+=_0x339cfb(0x51e)+(_0xc7b288+0x1)+'.\x20'+(_0x372a33[_0x339cfb(0x3ea)]||_0x372a33['questionText'])+_0x339cfb(0x179),_0x372a33[_0x339cfb(0x1aa)]&&(_0x12ea1e+=_0x339cfb(0x55a)+_0x372a33[_0x339cfb(0x1aa)]+'</div>'));_0x12ea1e+=_0x339cfb(0x549);switch(_0x7daae6){case _0x339cfb(0x57f):_0x12ea1e+=_0x339cfb(0x725)+_0xc7b288+_0x339cfb(0x282);break;case _0x339cfb(0x1ab):_0x12ea1e+=_0x339cfb(0x27c)+_0xc7b288+_0x339cfb(0x7b3)+_0xc7b288+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0xc7b288+'_opt0\x22>ใช่</label></div>',_0x12ea1e+=_0x339cfb(0x27c)+_0xc7b288+_0x339cfb(0x671)+_0xc7b288+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0xc7b288+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x339cfb(0x378):break;case'fill_in_the_blank':case _0x339cfb(0x31d):default:_0x12ea1e+=_0x372a33[_0x339cfb(0x1c1)][_0x339cfb(0x70b)]((_0x35648e,_0x3665b0)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0xc7b288+_0x339cfb(0x45e)+_0x3665b0+_0x339cfb(0x3a8)+_0xc7b288+_0x339cfb(0x408)+_0x3665b0+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0xc7b288+_0x339cfb(0x45e)+_0x3665b0+'\x22>'+_0x35648e+_0x339cfb(0x572))[_0x339cfb(0x828)]('');break;}_0x12ea1e+=_0x339cfb(0x682);}),_0x12ea1e+=_0x4389fa(0x56e),_0x12ea1e+=_0x4389fa(0x1ef),studentQuizArea[_0x4389fa(0x3fe)]=_0x12ea1e;if(currentMode===_0x4389fa(0x66f)){const _0x5a41a2=document[_0x4389fa(0x2e3)](_0x4389fa(0x3be));if(_0x5a41a2)_0x5a41a2[_0x4389fa(0x270)](_0x4389fa(0x429),cancelAdminTest);}document[_0x4389fa(0x2e3)](_0x4389fa(0x829))[_0x4389fa(0x270)](_0x4389fa(0x635),handleSubmitQuiz);if(window['MathJax'])window[_0x4389fa(0x39d)][_0x4389fa(0x61e)]([studentQuizArea]);}async function handleSubmitQuiz(_0x471154){const _0x2fb997=_0x2531d4;if(_0x471154)_0x471154[_0x2fb997(0x1a3)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x13a179=document['getElementById'](_0x2fb997(0x829));if(!_0x13a179)return;const _0x4cf5db=_0x13a179[_0x2fb997(0x71c)](_0x2fb997(0x2f0)),_0xca5bff=currentDisplayedQuiz[_0x2fb997(0x2ba)][_0x2fb997(0x3bf)](_0x322874=>_0x322874['questionType']===_0x2fb997(0x57f));_0x4cf5db&&(_0x4cf5db[_0x2fb997(0x271)]=!![],_0xca5bff?_0x4cf5db['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x4cf5db['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x550fc0=new FormData(_0x13a179),_0xda9e15=currentDisplayedQuiz[_0x2fb997(0x2ba)]['map']((_0xda3608,_0x4d6853)=>{const _0x410de1=_0x2fb997,_0x12867e=_0xda3608[_0x410de1(0x71d)]||currentDisplayedQuiz['quizType'],_0x3992a4=_0x550fc0[_0x410de1(0x5a9)]('question'+_0x4d6853);if(_0x3992a4!==null&&_0x3992a4!==undefined){if(_0x12867e===_0x410de1(0x31d)||_0x12867e==='fill_in_the_blank')return parseInt(_0x3992a4);return _0x3992a4;}return null;}),_0xd7e0d8=currentQuizData['id'],_0x27dc56=doc(db,_0x2fb997(0x4ed)+appId+_0x2fb997(0x80e)+_0xd7e0d8+_0x2fb997(0x724),currentStudentName),_0x2e9331=await getDoc(_0x27dc56),_0x11009a=_0x2e9331['exists']()?_0x2e9331['data']():{},_0x906310=_0x11009a[_0x2fb997(0x400)]||[];await processAndSubmitAnswers(_0xda9e15,_0x906310);}async function gradeShortAnswerWithAI(_0x2cfbf2,_0x437913){const _0x2b1584=_0x2531d4;if(!_0x2cfbf2||!_0x437913)return![];try{const _0x1fa514=_0x2b1584(0x57b)+_0x2cfbf2+_0x2b1584(0x22b)+_0x437913+_0x2b1584(0x278),_0x22f43b={'contents':[{'role':'user','parts':[{'text':_0x1fa514}]}]},_0x2aa272=_0x2b1584(0x502),_0x1f775c=_0x2b1584(0x46e)+_0x2aa272,_0x541cea=await fetch(_0x1f775c,{'method':_0x2b1584(0x5a0),'headers':{'Content-Type':'application/json'},'body':JSON[_0x2b1584(0x1b0)](_0x22f43b)});if(!_0x541cea['ok'])throw new Error(_0x2b1584(0x4b6));const _0x464377=await _0x541cea[_0x2b1584(0x34e)](),_0x3d3add=_0x464377[_0x2b1584(0x512)][0x0][_0x2b1584(0x1d1)][_0x2b1584(0x1e2)][0x0][_0x2b1584(0x31a)][_0x2b1584(0x1f8)]()[_0x2b1584(0x6f9)]();return _0x3d3add===_0x2b1584(0x3d2);}catch(_0x25ca44){return console[_0x2b1584(0x3f0)](_0x2b1584(0x222),_0x25ca44),![];}}async function processAndSubmitAnswers(_0x29dcd0,_0x3f7067){const _0x22bfd2=_0x2531d4;let _0x2b613f=0x0,_0x26a361=0x0,_0x475327=[];const _0x4bb2f8=[],_0xd9dcf=currentDisplayedQuiz['questions'][_0x22bfd2(0x7ca)];let _0xf50907=0x0;const _0x1e47e7=currentDisplayedQuiz[_0x22bfd2(0x2ba)];for(let _0x1543dc=0x0;_0x1543dc<_0x1e47e7[_0x22bfd2(0x7ca)];_0x1543dc++){const _0xdc57b3=_0x1e47e7[_0x1543dc],_0x30e850=_0x29dcd0[_0x1543dc],_0x5c7928=_0xdc57b3[_0x22bfd2(0x71d)]||currentDisplayedQuiz[_0x22bfd2(0x76d)];let _0x6eb1de=![];if(_0x30e850!==null&&_0x30e850!=='')switch(_0x5c7928){case _0x22bfd2(0x378):_0x6eb1de=_0x30e850===_0xdc57b3['correctResponse'];break;case _0x22bfd2(0x1ab):const _0x565b94=_0x30e850===!![]||_0x30e850==='true';_0x6eb1de=_0x565b94===_0xdc57b3[_0x22bfd2(0x756)];break;case _0x22bfd2(0x4e6):case _0x22bfd2(0x31d):default:_0x6eb1de=Number(_0x30e850)===_0xdc57b3[_0x22bfd2(0x230)];break;case _0x22bfd2(0x57f):_0x6eb1de=await gradeShortAnswer(_0x30e850,_0xdc57b3);break;}_0x6eb1de?(_0x2b613f++,_0xf50907++,_0xf50907===0x3&&(_0x475327[_0x22bfd2(0x3a5)](BADGES[_0x22bfd2(0x50b)]['id']),_0xf50907=0x0)):_0xf50907=0x0;let _0x31ba8c=null;_0xdc57b3[_0x22bfd2(0x1c1)]&&_0x30e850!==null&&(_0x31ba8c=_0xdc57b3[_0x22bfd2(0x1c1)][_0x30e850]),_0x4bb2f8[_0x22bfd2(0x3a5)]({'answer':_0x30e850,'answerText':_0x31ba8c,'isCorrect':_0x6eb1de,'originalQuestionText':_0xdc57b3[_0x22bfd2(0x25d)]||_0xdc57b3['questionText']});}_0x26a361=_0x2b613f*0xa;_0x2b613f===_0xd9dcf&&_0xd9dcf>0x0&&!currentDisplayedQuiz[_0x22bfd2(0x1a6)]&&(_0x26a361+=0x32,_0x475327[_0x22bfd2(0x3a5)](BADGES[_0x22bfd2(0x25b)]['id']));const _0x2b9959=currentDisplayedQuiz['settings']?.[_0x22bfd2(0x624)]??Math['floor'](_0xd9dcf/0x2),_0x8a671a=currentDisplayedQuiz['settings']?.[_0x22bfd2(0x28f)];if(_0x8a671a===_0x22bfd2(0x466)&&quizStartTime){const _0x3815a0=(new Date()-quizStartTime)/0x3e8,_0x39f907=currentDisplayedQuiz['settings'][_0x22bfd2(0x697)]*0x3c;_0x2b613f>=_0x2b9959&&_0x3815a0<_0x39f907/0x2&&(_0x26a361+=0x14,_0x475327['push'](BADGES['QUICK_THINKER']['id']));}_0x3f7067[_0x22bfd2(0x7ca)]===0x0&&_0x2b613f===_0xd9dcf&&_0xd9dcf>0x0&&_0x475327['push'](BADGES['FIRST_TRY_ACE']['id']);if(_0x3f7067[_0x22bfd2(0x7ca)]>0x0){const _0x3b2ee9=_0x3f7067[0x0][_0x22bfd2(0x7a7)];if(_0x3b2ee9<_0x2b9959&&_0x2b613f>=_0x2b9959){const _0x5886c0=_0x3f7067[_0x22bfd2(0x3bf)](_0x41df0f=>(_0x41df0f['badges']||[])[_0x22bfd2(0x7a3)](BADGES[_0x22bfd2(0x65a)]['id']));!_0x5886c0&&_0x475327[_0x22bfd2(0x3a5)](BADGES['COMEBACK_KING']['id']);}}_0x3f7067[_0x22bfd2(0x7ca)]===0x4&&_0x475327[_0x22bfd2(0x3a5)](BADGES[_0x22bfd2(0x2e9)]['id']);const _0x2114ea=currentDisplayedQuiz[_0x22bfd2(0x2b3)]['resultsDisplay'];if(currentMode===_0x22bfd2(0x66f)){handleResultDisplay(_0x2114ea,_0x2b613f,_0x26a361,_0x475327,_0x4bb2f8,_0xd9dcf);return;}const _0x57cf78=currentQuizData['id'],_0x13c743=doc(db,_0x22bfd2(0x4ed)+appId+_0x22bfd2(0x80e)+_0x57cf78+_0x22bfd2(0x724),currentStudentName);try{const _0x17b669=[..._0x3f7067],_0x463e58={'score':_0x2b613f,'points':_0x26a361,'badges':_0x475327,'submittedAt':new Date()[_0x22bfd2(0x434)](),'answers':_0x4bb2f8};_0x17b669['push'](_0x463e58);const _0x32c283=_0x17b669[0x0]['score'],_0x2cc350=Math['max'](..._0x17b669[_0x22bfd2(0x70b)](_0x5ede15=>_0x5ede15[_0x22bfd2(0x7a7)])),_0x25076b=_0x2b613f,_0x221b6c=_0x463e58[_0x22bfd2(0x3cd)];await setDoc(_0x13c743,{'studentName':currentStudentName,'totalQuestions':_0xd9dcf,'attempts':_0x17b669,'firstScore':_0x32c283,'bestScore':_0x2cc350,'latestScore':_0x25076b,'points':_0x26a361,'latestSubmittedAt':_0x221b6c}),await updateStudentProfile(currentQuizData[_0x22bfd2(0x1d8)],currentStudentName),handleResultDisplay(_0x2114ea,_0x2b613f,_0x26a361,_0x475327,_0x4bb2f8,_0xd9dcf);}catch(_0x1c7ccf){console[_0x22bfd2(0x3f0)]('Error\x20saving\x20submission:',_0x1c7ccf),showMessage(_0x22bfd2(0x2da));}}async function updateStudentProfile(_0x2230cb,_0x7fc18e){const _0x464b28=_0x2531d4,_0x5649c0=doc(db,_0x464b28(0x4ed)+appId+'/public/data/projects/'+_0x2230cb+_0x464b28(0x2d7),_0x7fc18e);try{const _0x38c66b=query(collection(db,_0x464b28(0x4ed)+appId+_0x464b28(0x6e6)),where(_0x464b28(0x1d8),'==',_0x2230cb)),_0x4adab8=await getDocs(_0x38c66b),_0x348ed1=new Map(_0x4adab8['docs'][_0x464b28(0x70b)](_0x4a74cb=>[_0x4a74cb['id'],_0x4a74cb[_0x464b28(0x7b5)]()])),_0x30924a=Array[_0x464b28(0x479)](_0x348ed1[_0x464b28(0x6e5)]());await runTransaction(db,async _0x52a6cc=>{const _0x37c994=_0x464b28;let _0x5146a5=0x0;const _0x57b91f={};let _0x430d03=!![],_0xde087a=0x0,_0x4c9213=0x0;for(const _0x2721f2 of _0x30924a){const _0x215403=_0x348ed1['get'](_0x2721f2),_0x4a36c7=doc(db,'artifacts/'+appId+_0x37c994(0x80e)+_0x2721f2+_0x37c994(0x724),_0x7fc18e),_0x2b89a0=await _0x52a6cc['get'](_0x4a36c7);if(_0x2b89a0[_0x37c994(0x3a1)]()){const _0x3a4a4a=_0x2b89a0[_0x37c994(0x7b5)](),_0x15a3d9=_0x3a4a4a['attempts']||[];if(_0x15a3d9['length']>0x0){const _0x47f145=_0x15a3d9[_0x37c994(0x5fb)]((_0x1f095e,_0x3ad3f7)=>{const _0x45b567=_0x37c994;if(_0x3ad3f7[_0x45b567(0x7a7)]>_0x1f095e[_0x45b567(0x7a7)])return _0x3ad3f7;if(_0x3ad3f7['score']===_0x1f095e[_0x45b567(0x7a7)])return(_0x3ad3f7[_0x45b567(0x3db)]||0x0)>(_0x1f095e[_0x45b567(0x3db)]||0x0)?_0x3ad3f7:_0x1f095e;return _0x1f095e;},{'score':-0x1,'points':-0x1});_0x47f145[_0x37c994(0x7a7)]>-0x1&&(_0x5146a5+=_0x47f145['points']||0x0,(_0x47f145[_0x37c994(0x7fb)]||[])['forEach'](_0xc3fb9f=>{_0x57b91f[_0xc3fb9f]=(_0x57b91f[_0xc3fb9f]||0x0)+0x1;}));}}if(_0x215403[_0x37c994(0x521)]!=='แบบทดสอบซ่อมเสริม'){_0x4c9213++;if(_0x2b89a0[_0x37c994(0x3a1)]()){_0xde087a++;const _0x2a9be2=_0x2b89a0['data']();_0x2a9be2[_0x37c994(0x727)]!==_0x2a9be2[_0x37c994(0x7db)]&&(_0x430d03=![]);}else _0x430d03=![];}}_0x4c9213>0x0&&_0xde087a===_0x4c9213&&_0x430d03?_0x57b91f[_0x37c994(0x191)]=0x1:_0x57b91f[_0x37c994(0x191)]=0x0,_0x52a6cc[_0x37c994(0x1b7)](_0x5649c0,{'studentName':_0x7fc18e,'totalPoints':_0x5146a5,'unlockedBadges':Object[_0x37c994(0x6e5)](_0x57b91f)[_0x37c994(0x2b1)](_0x3ec43b=>_0x57b91f[_0x3ec43b]>0x0),'badgesCount':_0x57b91f},{'merge':!![]});});}catch(_0x30c72f){console[_0x464b28(0x3f0)](_0x464b28(0x665),_0x30c72f),showMessage(_0x464b28(0x631));}}function startAdminTest(){const _0x306ee1=_0x2531d4;if(!currentQuizData){showMessage(_0x306ee1(0x37e));return;}let _0x31abfb=JSON['parse'](JSON[_0x306ee1(0x1b0)](currentQuizData));currentMode=_0x306ee1(0x66f),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x306ee1(0x52e)][_0x306ee1(0x813)]('hidden'),studentView[_0x306ee1(0x52e)][_0x306ee1(0x3cf)](_0x306ee1(0x47f)),studentInitialView[_0x306ee1(0x52e)][_0x306ee1(0x813)](_0x306ee1(0x47f)),studentNameSelectionView[_0x306ee1(0x52e)]['add'](_0x306ee1(0x47f)),studentResultArea[_0x306ee1(0x52e)]['add']('hidden'),studentQuizArea['classList'][_0x306ee1(0x3cf)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x31abfb);}function handleResultDisplay(_0x57ec8f,_0x3b221f,_0x1c44bb,_0x52dc0f,_0x147d03,_0x3eadda){const _0x1b548e=_0x2531d4,_0xb83cb2=currentDisplayedQuiz[_0x1b548e(0x2b3)]?.[_0x1b548e(0x624)]??Math[_0x1b548e(0x55e)](_0x3eadda/0x2),_0x109784=currentDisplayedQuiz[_0x1b548e(0x2b3)]?.[_0x1b548e(0x556)]??![];if(_0x109784&&_0x3b221f<_0xb83cb2){startAdaptiveFlow(_0x147d03,_0x3b221f,_0x3eadda);return;}switch(_0x57ec8f){case _0x1b548e(0x1d7):displayResultsWithAnswers(_0x3b221f,_0x1c44bb,_0x52dc0f,_0x147d03,_0x3eadda);break;case _0x1b548e(0x50d):displayResultsScoreOnly(_0x3b221f,_0x1c44bb,_0x52dc0f,_0x3eadda);break;case _0x1b548e(0x2c5):displayPassFailOnly(_0x3b221f,_0x3eadda);break;case'manual_release':default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x587d56,_0x21781e,_0xd5e823){const _0x5466af=_0x2531d4,_0x277acb=_0x587d56[_0x5466af(0x70b)]((_0x219b2b,_0x1312ac)=>({..._0x219b2b,'originalQuestion':currentDisplayedQuiz[_0x5466af(0x2ba)][_0x1312ac]}))['filter'](_0x13f184=>!_0x13f184['isCorrect']&&_0x13f184[_0x5466af(0x517)][_0x5466af(0x3cb)])[_0x5466af(0x70b)](_0x382989=>'-\x20'+_0x382989['originalQuestion'][_0x5466af(0x3cb)])[_0x5466af(0x828)]('\x0a');if(!_0x277acb){displayResultsScoreOnly(_0x21781e,0x0,[],_0xd5e823);return;}studentQuizArea[_0x5466af(0x52e)][_0x5466af(0x813)](_0x5466af(0x47f)),studentReadingArea[_0x5466af(0x52e)][_0x5466af(0x3cf)](_0x5466af(0x47f)),studentReadingArea[_0x5466af(0x3fe)]=_0x5466af(0x20b);const _0x16fd4b=_0x5466af(0x704)+currentDisplayedQuiz[_0x5466af(0x521)]+_0x5466af(0x288)+_0x277acb+_0x5466af(0x6d4),_0x21d507={'type':_0x5466af(0x693),'properties':{'remedialContent':{'type':_0x5466af(0x4bc)}},'required':[_0x5466af(0x65c)]};try{const _0x3d8441=await callAnalysisApi(_0x16fd4b,_0x21d507),_0x4cd93d=_0x3d8441[_0x5466af(0x65c)];studentReadingArea[_0x5466af(0x3fe)]=_0x5466af(0x29d)+_0x4cd93d['replace'](/\n/g,_0x5466af(0x77d))+_0x5466af(0x381),document[_0x5466af(0x2e3)](_0x5466af(0x5fe))[_0x5466af(0x270)]('click',()=>generateRemedialQuiz(_0x277acb));}catch(_0x26d407){console[_0x5466af(0x3f0)](_0x5466af(0x57d),_0x26d407),showMessage(_0x5466af(0x18c)),displayResultsScoreOnly(_0x21781e,0x0,[],_0xd5e823);}}async function generateRemedialQuiz(_0x57bc2a){const _0x14b421=_0x2531d4;studentReadingArea['innerHTML']=_0x14b421(0x427);const _0x419848=_0x14b421(0x2ef)+_0x57bc2a+_0x14b421(0x59b)+simpleMathPrompt+_0x14b421(0x77c),_0x442e97={'type':_0x14b421(0x693),'properties':{'questionText':{'type':_0x14b421(0x4bc)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x14b421(0x1b2)},'explanation':{'type':'STRING'}},'required':[_0x14b421(0x53f),'options','correctAnswerIndex',_0x14b421(0x3cb)]},_0xcb4697={'type':_0x14b421(0x693),'properties':{'topic':{'type':_0x14b421(0x4bc)},'questions':{'type':'ARRAY','items':_0x442e97}},'required':[_0x14b421(0x521),_0x14b421(0x2ba)]};try{const _0x499af1=await callAnalysisApi(_0x419848,_0xcb4697);_0x499af1[_0x14b421(0x1a6)]=!![],studentReadingArea[_0x14b421(0x52e)][_0x14b421(0x813)](_0x14b421(0x47f));const _0x40632d={...currentDisplayedQuiz[_0x14b421(0x2b3)],'isAdaptive':![],'resultsDisplay':_0x14b421(0x1d7)};_0x499af1[_0x14b421(0x2b3)]=_0x40632d,displayQuizForStudent(_0x499af1);}catch(_0x5e5c6b){console[_0x14b421(0x3f0)](_0x14b421(0x529),_0x5e5c6b),showMessage(_0x14b421(0x245)),showView('student');}}function displayPassFailOnly(_0xeedab3,_0x548bb7){const _0x551524=_0x2531d4,_0x453496=currentDisplayedQuiz[_0x551524(0x2b3)]?.['passingScore']??-0x1,_0x325a10=currentDisplayedQuiz['isRemedial']===!![];let _0xb78abb='';if(_0x325a10||_0x453496!==-0x1){let _0x4d99d1;_0x325a10?_0x4d99d1=_0xeedab3===_0x548bb7:_0x4d99d1=_0xeedab3>=_0x453496;const _0x38c905=_0x4d99d1?_0x551524(0x628):_0x551524(0x4a6),_0x2e42a6=_0x4d99d1?_0x551524(0x1fb):_0x551524(0x4ae);_0xb78abb=_0x551524(0x3f8)+_0x38c905+'\x22>'+_0x2e42a6+'</span></div>';}else _0xb78abb=_0x551524(0x630);let _0x531fd2=_0x551524(0x308)+currentStudentName+_0x551524(0x1ae)+_0xb78abb+_0x551524(0x391);studentResultArea[_0x551524(0x3fe)]=_0x531fd2,studentResultArea[_0x551524(0x52e)][_0x551524(0x3cf)]('hidden'),studentQuizArea['classList'][_0x551524(0x813)](_0x551524(0x47f));const _0x574219=_0x551524(0x177),_0x1ac11e=currentMode==='admin-testing',_0x391bc6=_0x1ac11e?_0x551524(0x2b9):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x47dcfb=_0x551524(0x59a)+_0x574219+_0x551524(0x1db)+_0x391bc6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x551524(0x573)](_0x551524(0x576),_0x47dcfb),document[_0x551524(0x2e3)](_0x574219)[_0x551524(0x270)](_0x551524(0x429),()=>{const _0x28cf89=_0x551524;_0x1ac11e?(currentMode=_0x28cf89(0x1d6),studentView[_0x28cf89(0x52e)][_0x28cf89(0x813)](_0x28cf89(0x47f)),adminView[_0x28cf89(0x52e)]['remove'](_0x28cf89(0x47f)),showView(_0x28cf89(0x1b5))):(showView(_0x28cf89(0x1d9)),document[_0x28cf89(0x2e3)]('quiz-id-input')[_0x28cf89(0x6f0)]='');});}function cancelAdminTest(){const _0x18fbd0=_0x2531d4;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x18fbd0(0x1d6),studentView['classList'][_0x18fbd0(0x813)](_0x18fbd0(0x47f)),adminView['classList']['remove'](_0x18fbd0(0x47f)),showView(_0x18fbd0(0x1b5));}function setupResultScreenBackButton(){const _0x18148a=_0x2531d4,_0x46233a=_0x18148a(0x177),_0x5c3f98=currentMode===_0x18148a(0x66f),_0x83a142=_0x5c3f98?_0x18148a(0x2b9):_0x18148a(0x324),_0x49df1b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22'+_0x46233a+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x83a142+_0x18148a(0x662);studentResultArea[_0x18148a(0x573)](_0x18148a(0x576),_0x49df1b),studentResultArea[_0x18148a(0x71c)](_0x18148a(0x6d2))[_0x18148a(0x270)](_0x18148a(0x429),handleShowStudentRankings),document[_0x18148a(0x2e3)](_0x46233a)[_0x18148a(0x270)](_0x18148a(0x429),()=>{const _0x19f903=_0x18148a;_0x5c3f98?(currentMode=_0x19f903(0x1d6),studentView[_0x19f903(0x52e)]['add'](_0x19f903(0x47f)),adminView[_0x19f903(0x52e)][_0x19f903(0x3cf)](_0x19f903(0x47f)),showView(_0x19f903(0x1b5))):(showView('student'),document['getElementById'](_0x19f903(0x1ea))[_0x19f903(0x6f0)]='');});}function displayResultsWithAnswers(_0xdacfa8,_0x4f16cc,_0x94510f,_0x5a76a9,_0x58f833){const _0x1b9b89=_0x2531d4,_0x10644a=_0x58f833>0x0?_0xdacfa8/_0x58f833*0x64:0x0,_0x5be368=currentDisplayedQuiz['settings']?.[_0x1b9b89(0x624)]??-0x1,_0x24c66c=currentDisplayedQuiz[_0x1b9b89(0x1a6)]===!![];let _0x22c1c8='';if(_0x24c66c||_0x5be368!==-0x1){let _0x53220c=_0x24c66c?_0xdacfa8===_0x58f833:_0xdacfa8>=_0x5be368;const _0x5ee418=_0x53220c?_0x1b9b89(0x628):_0x1b9b89(0x4a6),_0x583b6f=_0x53220c?_0x1b9b89(0x1fb):'ไม่ผ่าน';_0x22c1c8=_0x1b9b89(0x7de)+_0x5ee418+'\x22>'+_0x583b6f+_0x1b9b89(0x179);}let _0x5df760=_0x1b9b89(0x267)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0xdacfa8+_0x1b9b89(0x1e4)+_0x58f833+_0x1b9b89(0x180)+_0x22c1c8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x4f16cc+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x10644a['toFixed'](0x0)+_0x1b9b89(0x328);currentDisplayedQuiz['questions']['forEach']((_0xb7b3d4,_0x3023bb)=>{const _0x4e9b8b=_0x1b9b89,_0x2d1f19=_0x5a76a9[_0x3023bb],_0x17ac7c=_0x2d1f19[_0x4e9b8b(0x358)],_0x3d316d=_0x2d1f19[_0x4e9b8b(0x1ec)],_0x2eba40=_0xb7b3d4[_0x4e9b8b(0x71d)]||currentDisplayedQuiz['quizType'];_0x5df760+=_0x4e9b8b(0x20d)+(_0x3d316d?'border-green-300\x20bg-green-50':'border-red-300\x20bg-red-50')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x3023bb+0x1)+'.\x20'+(_0xb7b3d4[_0x4e9b8b(0x25d)]||_0xb7b3d4['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x2eba40){case _0x4e9b8b(0x378):const _0xb81e5=_0x17ac7c||_0x4e9b8b(0x418),_0x4e2627=_0xb7b3d4['correctResponse'];_0x5df760+=_0x4e9b8b(0x2bc)+(!_0x3d316d?_0x4e9b8b(0x3a6):'')+'\x22>'+_0xb81e5+_0x4e9b8b(0x4a5);!_0x3d316d&&(_0x5df760+=_0x4e9b8b(0x598)+_0x4e2627+'</p>');break;case'short_answer':_0x5df760+=_0x4e9b8b(0x3d0)+(_0x17ac7c||_0x4e9b8b(0x418))+'</p>',_0x5df760+=_0x4e9b8b(0x51f)+_0xb7b3d4[_0x4e9b8b(0x1c5)]+_0x4e9b8b(0x179);break;case'true_false':_0x5df760+='<p\x20class=\x22'+(_0xb7b3d4['correctAnswer']===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x17ac7c===_0x4e9b8b(0x3d2)&&!_0x3d316d?'line-through\x20text-red-700':'')+'\x22>ใช่</p>',_0x5df760+=_0x4e9b8b(0x3da)+(_0xb7b3d4[_0x4e9b8b(0x756)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x17ac7c==='false'&&!_0x3d316d?_0x4e9b8b(0x3a6):'')+_0x4e9b8b(0x52b);break;case'fill_in_the_blank':case'multiple_choice':default:_0x5df760+=_0xb7b3d4['options'][_0x4e9b8b(0x70b)]((_0x4a26c7,_0x1bff3b)=>{const _0x3c1f48=_0x4e9b8b;let _0x3322fe='',_0x4b732b='';if(_0x1bff3b===_0xb7b3d4['correctAnswerIndex'])_0x3322fe='font-bold\x20text-green-700',_0x4b732b=_0x3c1f48(0x386);else _0x1bff3b===_0x17ac7c&&(_0x3322fe=_0x3c1f48(0x374),_0x4b732b=_0x3c1f48(0x30b));return _0x3c1f48(0x574)+_0x3322fe+'\x22>'+_0x4b732b+_0x4a26c7+_0x3c1f48(0x61b);})[_0x4e9b8b(0x828)]('');break;}_0x5df760+=_0x4e9b8b(0x791)+(_0xb7b3d4['explanation']||'ไม่มีคำอธิบาย')+_0x4e9b8b(0x2d1);if(!_0x3d316d){const _0x125845=_0xb7b3d4[_0x4e9b8b(0x25d)]||_0xb7b3d4['questionText'];_0x5df760+=_0x4e9b8b(0x644)+escape(_0x125845)+_0x4e9b8b(0x3bb);}_0x5df760+=_0x4e9b8b(0x2b2);}),studentResultArea[_0x1b9b89(0x3fe)]=_0x5df760,renderEarnedBadges(_0x94510f,_0x1b9b89(0x540)),studentResultArea[_0x1b9b89(0x52e)][_0x1b9b89(0x3cf)](_0x1b9b89(0x47f)),studentQuizArea[_0x1b9b89(0x52e)][_0x1b9b89(0x813)](_0x1b9b89(0x47f)),setupResultScreenBackButton();if(window['MathJax'])window[_0x1b9b89(0x39d)][_0x1b9b89(0x61e)]([studentResultArea]);}function displayResultsScoreOnly(_0x2cc90b,_0xd7bf14,_0x19833a,_0x54af67){const _0x17fc77=_0x2531d4,_0x252b27=_0x54af67>0x0?_0x2cc90b/_0x54af67*0x64:0x0,_0x38d49e=currentDisplayedQuiz[_0x17fc77(0x2b3)]?.[_0x17fc77(0x624)]??-0x1,_0x3d0819=currentDisplayedQuiz[_0x17fc77(0x1a6)]===!![];let _0x2d423d='';if(_0x3d0819||_0x38d49e!==-0x1){let _0x58576e;_0x3d0819?_0x58576e=_0x2cc90b===_0x54af67:_0x58576e=_0x2cc90b>=_0x38d49e;const _0x303fe6=_0x58576e?_0x17fc77(0x628):_0x17fc77(0x4a6),_0x22c538=_0x58576e?_0x17fc77(0x1fb):_0x17fc77(0x4ae);_0x2d423d=_0x17fc77(0x7de)+_0x303fe6+'\x22>'+_0x22c538+_0x17fc77(0x179);}let _0x23acbe=_0x17fc77(0x63f)+currentStudentName+_0x17fc77(0x404)+_0x2cc90b+_0x17fc77(0x38c)+_0x54af67+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d423d+_0x17fc77(0x23e)+_0xd7bf14+_0x17fc77(0x1e9)+_0x252b27[_0x17fc77(0x7e4)](0x0)+_0x17fc77(0x612);studentResultArea[_0x17fc77(0x3fe)]=_0x23acbe,renderEarnedBadges(_0x19833a,'earned-badges-container'),studentResultArea[_0x17fc77(0x52e)][_0x17fc77(0x3cf)]('hidden'),studentQuizArea[_0x17fc77(0x52e)]['add'](_0x17fc77(0x47f)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x413789=_0x2531d4;let _0x2d2f5d=_0x413789(0x7fe)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x2d2f5d,studentResultArea[_0x413789(0x52e)]['remove'](_0x413789(0x47f)),studentQuizArea[_0x413789(0x52e)][_0x413789(0x813)](_0x413789(0x47f)),document[_0x413789(0x2e3)](_0x413789(0x4c6))[_0x413789(0x270)](_0x413789(0x429),()=>{const _0x46082c=_0x413789;showView(_0x46082c(0x1d9)),document[_0x46082c(0x2e3)]('quiz-id-input')[_0x46082c(0x6f0)]='';});}function renderEarnedBadges(_0x5030e9,_0x164087){const _0x4303b8=_0x2531d4,_0x19b77c=document[_0x4303b8(0x2e3)](_0x164087);if(!_0x19b77c||!_0x5030e9||_0x5030e9['length']===0x0)return;let _0x5a57fc='';_0x5030e9[_0x4303b8(0x676)]((_0x3e40f9,_0x453063)=>{const _0x3fbfc1=_0x4303b8,_0x36965d=Object[_0x3fbfc1(0x7df)](BADGES)['find'](_0x8add1=>_0x8add1['id']===_0x3e40f9);_0x36965d&&(_0x5a57fc+=_0x3fbfc1(0x514)+_0x453063*0.2+_0x3fbfc1(0x39c)+_0x36965d[_0x3fbfc1(0x4bb)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x36965d[_0x3fbfc1(0x4e0)]+_0x3fbfc1(0x265)+_0x36965d[_0x3fbfc1(0x35d)]+_0x3fbfc1(0x4b1));}),_0x19b77c[_0x4303b8(0x3fe)]=_0x5a57fc;}function startPresentation(_0x2db7ce){const _0x35bf37=_0x2531d4;currentQuizData=getShuffledQuiz(_0x2db7ce),currentPresentationSlide=0x0,presentationModal[_0x35bf37(0x708)]['display']='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x1b5c90=_0x2531d4;document[_0x1b5c90(0x6d5)]&&document[_0x1b5c90(0x2ed)](),presentationModal[_0x1b5c90(0x708)]['display']=_0x1b5c90(0x7c1);}function renderPresentationSlide(_0x1488b5){const _0x2ab6c2=_0x2531d4,_0x2987bc=document['getElementById'](_0x2ab6c2(0x3ad));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0x1488b5]){_0x2987bc['innerHTML']=_0x2ab6c2(0x29e);return;}const _0x25f3e9=currentQuizData['questions'][_0x1488b5],_0x26dddb=_0x25f3e9[_0x2ab6c2(0x71d)]||currentQuizData[_0x2ab6c2(0x76d)];_0x2987bc[_0x2ab6c2(0x3fe)]='';let _0x8916eb=_0x2ab6c2(0x558)+(_0x25f3e9['imageCode']?_0x2ab6c2(0x55a)+_0x25f3e9[_0x2ab6c2(0x1aa)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x1488b5+0x1)+'.\x20'+(_0x25f3e9[_0x2ab6c2(0x25d)]||_0x25f3e9['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x26dddb){case _0x2ab6c2(0x378):_0x8916eb+=_0x25f3e9['allResponses'][_0x2ab6c2(0x70b)](_0x499d8b=>_0x2ab6c2(0x36e)+_0x499d8b+_0x2ab6c2(0x5f5))[_0x2ab6c2(0x828)]('');break;case _0x2ab6c2(0x1ab):_0x8916eb+=_0x2ab6c2(0x6f7),_0x8916eb+=_0x2ab6c2(0x655);break;case _0x2ab6c2(0x494):case _0x2ab6c2(0x57f):_0x8916eb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'fill_in_the_blank':case _0x2ab6c2(0x31d):default:_0x8916eb+=_0x25f3e9[_0x2ab6c2(0x1c1)][_0x2ab6c2(0x70b)]((_0x4ce77e,_0x4644be)=>_0x2ab6c2(0x345)+_0x4644be+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4ce77e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2ab6c2(0x828)]('');break;}_0x8916eb+=_0x2ab6c2(0x356)+(_0x25f3e9[_0x2ab6c2(0x3cb)]||_0x2ab6c2(0x74e))+_0x2ab6c2(0x702),_0x2987bc[_0x2ab6c2(0x3fe)]=_0x8916eb;if(window['MathJax'])window['MathJax'][_0x2ab6c2(0x61e)]([_0x2987bc]);document[_0x2ab6c2(0x1e7)]('.presentation-option')[_0x2ab6c2(0x676)](_0x1541dc=>{const _0x5a4a0b=_0x2ab6c2;_0x1541dc['addEventListener'](_0x5a4a0b(0x429),_0x121aac=>revealAnswerForPresentation(_0x1488b5,_0x121aac[_0x5a4a0b(0x495)]));});const _0x7ace53=document[_0x2ab6c2(0x2e3)](_0x2ab6c2(0x531));_0x7ace53&&_0x7ace53[_0x2ab6c2(0x270)]('click',()=>checkShortAnswerForPresentation(_0x1488b5)),document[_0x2ab6c2(0x2e3)]('slide-counter')[_0x2ab6c2(0x3d7)]=_0x2ab6c2(0x664)+(_0x1488b5+0x1)+_0x2ab6c2(0x379)+currentQuizData[_0x2ab6c2(0x2ba)][_0x2ab6c2(0x7ca)],document[_0x2ab6c2(0x2e3)](_0x2ab6c2(0x37c))[_0x2ab6c2(0x271)]=_0x1488b5===0x0,document[_0x2ab6c2(0x2e3)]('next-question-btn')[_0x2ab6c2(0x271)]=_0x1488b5===currentQuizData[_0x2ab6c2(0x2ba)][_0x2ab6c2(0x7ca)]-0x1;}async function checkShortAnswerForPresentation(_0x3bb7de){const _0x9037aa=_0x2531d4,_0x3f89ab=currentQuizData['questions'][_0x3bb7de],_0x44083d=document[_0x9037aa(0x2e3)](_0x9037aa(0x39e)),_0x58cd0b=document[_0x9037aa(0x2e3)]('check-presentation-answer-btn'),_0x415920=document[_0x9037aa(0x2e3)](_0x9037aa(0x817)),_0x58bb42=document[_0x9037aa(0x2e3)](_0x9037aa(0x489));if(!_0x44083d||!_0x58cd0b||!_0x415920||!_0x58bb42)return;const _0x315337=_0x44083d[_0x9037aa(0x6f0)][_0x9037aa(0x1f8)]();if(_0x315337==='')return;_0x58cd0b['disabled']=!![],_0x58cd0b[_0x9037aa(0x3fe)]=_0x9037aa(0x5ae),_0x44083d[_0x9037aa(0x271)]=!![];const _0x20f7c7=await gradeShortAnswer(_0x315337,_0x3f89ab);_0x20f7c7?_0x415920[_0x9037aa(0x3fe)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x415920[_0x9037aa(0x3fe)]=_0x9037aa(0x322)+_0x3f89ab[_0x9037aa(0x1c5)]+')',_0x415920[_0x9037aa(0x52e)][_0x9037aa(0x3cf)](_0x9037aa(0x47f)),_0x58bb42[_0x9037aa(0x52e)]['remove'](_0x9037aa(0x47f)),_0x58cd0b[_0x9037aa(0x52e)]['add']('hidden');}function revealAnswerForPresentation(_0x3b7773,_0x4e604d){const _0x262355=_0x2531d4,_0x43b9a2=currentQuizData[_0x262355(0x2ba)][_0x3b7773],_0x130674=_0x43b9a2['questionType']||currentQuizData[_0x262355(0x76d)];document[_0x262355(0x1e7)](_0x262355(0x35a))['forEach'](_0x436040=>{const _0x6ce182=_0x262355;_0x436040[_0x6ce182(0x271)]=!![],_0x436040['classList'][_0x6ce182(0x3cf)]('hover:bg-indigo-100');let _0x4fce1a=![];if(_0x130674===_0x6ce182(0x31d)||_0x130674===_0x6ce182(0x4e6)){const _0x32ecdb=parseInt(_0x436040['dataset'][_0x6ce182(0x421)]);_0x4fce1a=_0x32ecdb===_0x43b9a2[_0x6ce182(0x230)];}else{if(_0x130674===_0x6ce182(0x1ab)){const _0x47a0ba=_0x436040[_0x6ce182(0x5d8)][_0x6ce182(0x358)]===_0x6ce182(0x3d2);_0x4fce1a=_0x47a0ba===_0x43b9a2[_0x6ce182(0x756)];}else _0x130674==='matching_item'&&(_0x4fce1a=_0x436040['textContent'][_0x6ce182(0x1f8)]()===_0x43b9a2[_0x6ce182(0x805)]);}_0x4fce1a?_0x436040[_0x6ce182(0x52e)][_0x6ce182(0x813)](_0x6ce182(0x5ce),_0x6ce182(0x6a8),'border-green-700'):_0x436040[_0x6ce182(0x52e)]['add'](_0x6ce182(0x227));}),_0x4e604d[_0x262355(0x52e)][_0x262355(0x3cf)](_0x262355(0x227));let _0x2a7e2c=![];if(_0x130674===_0x262355(0x31d))_0x2a7e2c=parseInt(_0x4e604d['dataset'][_0x262355(0x421)])===_0x43b9a2['correctAnswerIndex'];else{if(_0x130674===_0x262355(0x1ab))_0x2a7e2c=_0x4e604d[_0x262355(0x5d8)][_0x262355(0x358)]==='true'===_0x43b9a2[_0x262355(0x756)];else _0x130674===_0x262355(0x378)&&(_0x2a7e2c=_0x4e604d['textContent'][_0x262355(0x1f8)]()===_0x43b9a2[_0x262355(0x805)]);}!_0x2a7e2c&&_0x4e604d[_0x262355(0x52e)][_0x262355(0x813)]('bg-red-500',_0x262355(0x6a8),_0x262355(0x691)),document[_0x262355(0x2e3)](_0x262355(0x489))['classList']['remove'](_0x262355(0x47f));}function startWholeQuizTimer(_0x29f760){const _0x1525c4=_0x2531d4,_0x1f4700=document[_0x1525c4(0x2e3)]('timer-container');if(!_0x1f4700)return;const _0x11d4e1=Date['now']()+_0x29f760*0x3c*0x3e8;_0x1f4700[_0x1525c4(0x3fe)]=_0x1525c4(0x592);const _0xe79475=document[_0x1525c4(0x2e3)](_0x1525c4(0x2cc));quizTimerInterval=setInterval(()=>{const _0x59c600=_0x1525c4,_0x80b639=_0x11d4e1-Date[_0x59c600(0x539)]();if(_0x80b639<=0x0)clearInterval(quizTimerInterval),_0xe79475[_0x59c600(0x3d7)]=_0x59c600(0x4b2),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x288239=Math[_0x59c600(0x55e)](_0x80b639/0x3e8/0x3c%0x3c)[_0x59c600(0x757)]()['padStart'](0x2,'0'),_0x363cfd=Math[_0x59c600(0x55e)](_0x80b639/0x3e8%0x3c)[_0x59c600(0x757)]()['padStart'](0x2,'0');_0xe79475[_0x59c600(0x3d7)]=_0x288239+':'+_0x363cfd;}},0x3e8);}function renderPerQuestionView(){const _0x41942f=_0x2531d4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x4692d7=currentDisplayedQuiz[_0x41942f(0x2ba)][currentQuestionIndex],_0x578b29=_0x4692d7['questionType']||currentDisplayedQuiz[_0x41942f(0x76d)];let _0x18709f=_0x41942f(0x82e)+(currentQuestionIndex+0x1)+_0x41942f(0x72b)+currentDisplayedQuiz[_0x41942f(0x2ba)][_0x41942f(0x7ca)]+_0x41942f(0x507)+(currentMode===_0x41942f(0x66f)?_0x41942f(0x254):'')+_0x41942f(0x472)+currentDisplayedQuiz[_0x41942f(0x521)]+_0x41942f(0x3af)+(currentQuestionIndex===currentDisplayedQuiz[_0x41942f(0x2ba)][_0x41942f(0x7ca)]-0x1?_0x41942f(0x3ee):_0x41942f(0x2b5))+_0x41942f(0x609);studentQuizArea[_0x41942f(0x3fe)]=_0x18709f;let _0x35b30d='',_0xd76e24='';switch(_0x578b29){case'matching_item':_0x35b30d=currentQuestionIndex+0x1+'.\x20'+_0x4692d7[_0x41942f(0x25d)],_0xd76e24=_0x41942f(0x3f9)+_0x4692d7[_0x41942f(0x595)][_0x41942f(0x70b)](_0x3e4fd4=>'<option\x20value=\x22'+_0x3e4fd4+'\x22>'+_0x3e4fd4+_0x41942f(0x542))[_0x41942f(0x828)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'true_false':_0x35b30d=currentQuestionIndex+0x1+'.\x20'+_0x4692d7[_0x41942f(0x53f)],_0xd76e24='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x41942f(0x57f):case _0x41942f(0x494):_0x35b30d=currentQuestionIndex+0x1+'.\x20'+_0x4692d7['questionText'],_0xd76e24=_0x41942f(0x392);break;case _0x41942f(0x31d):case _0x41942f(0x57a):default:_0x35b30d=currentQuestionIndex+0x1+'.\x20'+_0x4692d7['questionText'],_0xd76e24=_0x4692d7[_0x41942f(0x1c1)][_0x41942f(0x70b)]((_0x55b63b,_0x934a47)=>_0x41942f(0x646)+_0x934a47+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x934a47+_0x41942f(0x5ea)+_0x934a47+'\x22>'+_0x55b63b+_0x41942f(0x242))[_0x41942f(0x828)]('');break;}_0x4692d7[_0x41942f(0x1aa)]&&(_0x35b30d+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4692d7['imageCode']+'</div>');document[_0x41942f(0x2e3)]('per-question-text')[_0x41942f(0x3fe)]=_0x35b30d,document[_0x41942f(0x2e3)](_0x41942f(0x720))['innerHTML']=_0xd76e24;if(currentMode===_0x41942f(0x66f)){const _0x3d9b23=document[_0x41942f(0x2e3)]('cancel-test-btn');if(_0x3d9b23)_0x3d9b23[_0x41942f(0x270)](_0x41942f(0x429),cancelAdminTest);}document['getElementById'](_0x41942f(0x44d))[_0x41942f(0x270)](_0x41942f(0x429),()=>handleNextQuestionInTimedMode(![]));if(window[_0x41942f(0x39d)])window[_0x41942f(0x39d)][_0x41942f(0x61e)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x2e4900=_0x2531d4,_0x5e1ab0=currentDisplayedQuiz[_0x2e4900(0x2b3)][_0x2e4900(0x697)],_0x32ffcf=document[_0x2e4900(0x2e3)]('per-question-timer-container');if(!_0x32ffcf)return;let _0x4bd6b8=_0x5e1ab0;_0x32ffcf[_0x2e4900(0x3fe)]=_0x2e4900(0x1bb)+_0x4bd6b8+_0x2e4900(0x5f2);const _0x55b1ab=document[_0x2e4900(0x2e3)]('timer-bar'),_0x3b7ad7=document[_0x2e4900(0x2e3)](_0x2e4900(0x6b0));perQuestionTimerInterval=setInterval(()=>{const _0x1da2f9=_0x2e4900;_0x4bd6b8--;const _0x5c54ae=_0x4bd6b8/_0x5e1ab0*0x64;_0x55b1ab[_0x1da2f9(0x708)][_0x1da2f9(0x2a7)]=_0x5c54ae+'%',_0x3b7ad7[_0x1da2f9(0x3d7)]=_0x4bd6b8,_0x4bd6b8<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3e9e0d=![]){const _0x3eb9a3=_0x2531d4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x36dba8=null;if(!_0x3e9e0d){const _0x36d297=currentDisplayedQuiz[_0x3eb9a3(0x2ba)][currentQuestionIndex],_0x127735=_0x36d297[_0x3eb9a3(0x71d)]||currentDisplayedQuiz['quizType'];if(_0x127735===_0x3eb9a3(0x57f)||_0x127735===_0x3eb9a3(0x494)){const _0xbb9000=document[_0x3eb9a3(0x71c)]('#per-question-options\x20textarea');_0x36dba8=_0xbb9000?_0xbb9000[_0x3eb9a3(0x6f0)][_0x3eb9a3(0x1f8)]():'';}else{if(_0x127735===_0x3eb9a3(0x378)){const _0x47079e=document[_0x3eb9a3(0x71c)](_0x3eb9a3(0x82c));_0x36dba8=_0x47079e?_0x47079e[_0x3eb9a3(0x6f0)]:'';}else{const _0x201402=document['querySelector']('input[name=\x22question_single\x22]:checked');if(_0x201402){const _0x161011=_0x201402[_0x3eb9a3(0x6f0)];_0x36dba8=!isNaN(parseInt(_0x161011,0xa))&&_0x161011['trim']()!==''?parseInt(_0x161011,0xa):_0x161011;}}}}studentAnswersPerQuestion[_0x3eb9a3(0x3a5)](_0x36dba8),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x3eb9a3(0x7ca)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x483706=_0x2531d4,_0xe65b7d=currentDisplayedQuiz[_0x483706(0x2ba)]['some'](_0x5961c2=>_0x5961c2[_0x483706(0x71d)]===_0x483706(0x57f));_0xe65b7d?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x483706(0x256));const _0xf8ea63=currentQuizData['id'],_0x4b9190=doc(db,'artifacts/'+appId+_0x483706(0x80e)+_0xf8ea63+_0x483706(0x724),currentStudentName),_0x297c93=await getDoc(_0x4b9190),_0x37c106=_0x297c93['exists']()?_0x297c93[_0x483706(0x7b5)]():{},_0x27761c=_0x37c106[_0x483706(0x400)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x27761c);}function getResultsFilename(){const _0x39ec9c=_0x2531d4,_0x5e5c69=document[_0x39ec9c(0x2e3)](_0x39ec9c(0x71b))[_0x39ec9c(0x3d7)][_0x39ec9c(0x69c)](/[^a-z0-9]/gi,'_')[_0x39ec9c(0x6f9)]();return _0x39ec9c(0x372)+(_0x5e5c69||_0x39ec9c(0x749));}function exportResultsAsImage(){const _0x2d16e7=_0x2531d4,_0x3eb5eb=document['getElementById']('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x3eb5eb)[_0x2d16e7(0x7ed)](_0x552615=>{const _0x6678cc=_0x2d16e7,_0x64f750=document[_0x6678cc(0x657)]('a');_0x64f750[_0x6678cc(0x7a4)]=getResultsFilename()+'.png',_0x64f750['href']=_0x552615[_0x6678cc(0x2bd)](_0x6678cc(0x1be)),_0x64f750[_0x6678cc(0x429)](),messageModal[_0x6678cc(0x52e)][_0x6678cc(0x813)](_0x6678cc(0x47f));});}function exportResultsAsPDF(){const _0x56c7e7=_0x2531d4,{jsPDF:_0x42e0e3}=window['jspdf'],_0x1c11fe=new _0x42e0e3();_0x1c11fe[_0x56c7e7(0x186)](_0x56c7e7(0x809),_0x56c7e7(0x7a0)),_0x1c11fe['autoTable']({'html':_0x56c7e7(0x6a7)}),_0x1c11fe[_0x56c7e7(0x439)](getResultsFilename()+_0x56c7e7(0x30e));}function exportResultsAsWord(){const _0x58f921=_0x2531d4,_0x13f085=_0x58f921(0x24b)+_0x58f921(0x56c)+_0x58f921(0x3a0)+_0x58f921(0x63b),_0x474d5e=_0x58f921(0x814),_0x4ed802=_0x13f085+document[_0x58f921(0x2e3)](_0x58f921(0x51d))[_0x58f921(0x3fe)]+_0x474d5e,_0x10bec2=_0x58f921(0x26d)+encodeURIComponent(_0x4ed802),_0x6a1ad1=document[_0x58f921(0x657)]('a');document[_0x58f921(0x2a8)]['appendChild'](_0x6a1ad1),_0x6a1ad1['href']=_0x10bec2,_0x6a1ad1[_0x58f921(0x7a4)]=getResultsFilename()+_0x58f921(0x64d),_0x6a1ad1[_0x58f921(0x429)](),document[_0x58f921(0x2a8)]['removeChild'](_0x6a1ad1);}function exportResultsAsExcel(){const _0x1366c0=_0x2531d4,_0x15adbd=document[_0x1366c0(0x2e3)](_0x1366c0(0x5c5));let _0x553d0d=[];for(let _0x46285e=0x0;_0x46285e<_0x15adbd[_0x1366c0(0x2d0)][_0x1366c0(0x7ca)];_0x46285e++){let _0x3950cd=[],_0x2d03bf=_0x15adbd[_0x1366c0(0x2d0)][_0x46285e][_0x1366c0(0x1e7)](_0x1366c0(0x3f5));for(let _0x15d5b9=0x0;_0x15d5b9<_0x2d03bf[_0x1366c0(0x7ca)];_0x15d5b9++){_0x3950cd[_0x1366c0(0x3a5)]('\x22'+_0x2d03bf[_0x15d5b9]['innerText'][_0x1366c0(0x69c)](/"/g,'\x22\x22')+'\x22');}_0x553d0d[_0x1366c0(0x3a5)](_0x3950cd[_0x1366c0(0x828)](','));}const _0x428695=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x553d0d[_0x1366c0(0x828)]('\x0a')],{'type':_0x1366c0(0x622)}),_0x36e822=document['createElement']('a');_0x36e822[_0x1366c0(0x62d)]=URL[_0x1366c0(0x776)](_0x428695),_0x36e822[_0x1366c0(0x7a4)]=getResultsFilename()+_0x1366c0(0x6a2),_0x36e822['click']();}function exportTableAsImage(_0x5ba7be,_0x47994a){const _0x5d7a66=_0x2531d4,_0x1f9940=document[_0x5d7a66(0x2e3)](_0x5ba7be);if(!_0x1f9940){showMessage(_0x5d7a66(0x483));return;}showMessage(_0x5d7a66(0x1d0)),html2canvas(_0x1f9940)[_0x5d7a66(0x7ed)](_0x51e67b=>{const _0x1c5a08=_0x5d7a66,_0x3a96d7=document[_0x1c5a08(0x657)]('a');_0x3a96d7[_0x1c5a08(0x7a4)]=_0x47994a+_0x1c5a08(0x68c),_0x3a96d7['href']=_0x51e67b[_0x1c5a08(0x2bd)](_0x1c5a08(0x1be)),_0x3a96d7[_0x1c5a08(0x429)](),messageModal[_0x1c5a08(0x52e)][_0x1c5a08(0x813)](_0x1c5a08(0x47f));});}function exportTableAsPDF(_0x22ea28,_0x45e2cf){const _0x5b82e5=_0x2531d4,{jsPDF:_0x55aedf}=window[_0x5b82e5(0x1d4)],_0x28bf3f=new _0x55aedf();_0x28bf3f[_0x5b82e5(0x186)]('helvetica',_0x5b82e5(0x7a0)),_0x28bf3f[_0x5b82e5(0x35b)]({'html':'#'+_0x22ea28}),_0x28bf3f[_0x5b82e5(0x439)](_0x45e2cf+_0x5b82e5(0x30e));}function exportTableAsWord(_0x33dfd1,_0x4e7df1){const _0x397ae8=_0x2531d4,_0x3ec7a3=document['getElementById'](_0x33dfd1);if(!_0x3ec7a3){showMessage(_0x397ae8(0x483));return;}const _0x416ea9='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x397ae8(0x56c)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x397ae8(0x63b),_0x41b0ad=_0x397ae8(0x814),_0x1e1fbc=_0x416ea9+_0x3ec7a3[_0x397ae8(0x3fe)]+_0x41b0ad,_0x3d0b84=_0x397ae8(0x26d)+encodeURIComponent(_0x1e1fbc),_0x328bf2=document[_0x397ae8(0x657)]('a');document[_0x397ae8(0x2a8)][_0x397ae8(0x7c4)](_0x328bf2),_0x328bf2[_0x397ae8(0x62d)]=_0x3d0b84,_0x328bf2[_0x397ae8(0x7a4)]=_0x4e7df1+'.doc',_0x328bf2[_0x397ae8(0x429)](),document[_0x397ae8(0x2a8)][_0x397ae8(0x634)](_0x328bf2);}function exportTableAsExcel(_0x5ee3a7,_0x43aea4){const _0x17c653=_0x2531d4,_0x711bae=document[_0x17c653(0x2e3)](_0x5ee3a7);if(!_0x711bae){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x5cfed6=[];for(let _0x3cb125=0x0;_0x3cb125<_0x711bae[_0x17c653(0x2d0)]['length'];_0x3cb125++){let _0x2f1a25=[],_0x52f5ba=_0x711bae[_0x17c653(0x2d0)][_0x3cb125][_0x17c653(0x1e7)](_0x17c653(0x3f5));for(let _0x49786a=0x0;_0x49786a<_0x52f5ba['length'];_0x49786a++){_0x2f1a25[_0x17c653(0x3a5)]('\x22'+_0x52f5ba[_0x49786a]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x5cfed6[_0x17c653(0x3a5)](_0x2f1a25[_0x17c653(0x828)](','));}const _0x343b4d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5cfed6[_0x17c653(0x828)]('\x0a')],{'type':_0x17c653(0x622)}),_0x27a624=document['createElement']('a');_0x27a624[_0x17c653(0x62d)]=URL['createObjectURL'](_0x343b4d),_0x27a624[_0x17c653(0x7a4)]=_0x43aea4+'.csv',_0x27a624[_0x17c653(0x429)]();}function renderAnalytics(_0x28fd55,_0x56b2a2){const _0x204480=_0x2531d4,_0x24790e=currentProjectData[_0x204480(0x380)][_0x204480(0x7ca)],_0x3a2d0c=_0x56b2a2[_0x204480(0x7ca)],_0x555425=_0x24790e-_0x3a2d0c,_0x1855a2=_0x24790e>0x0?_0x3a2d0c/_0x24790e*0x64:0x0,_0x41fb05=_0x56b2a2[_0x204480(0x70b)](_0x4fc9ef=>_0x4fc9ef[_0x204480(0x474)]),_0x43fd2f=_0x41fb05[_0x204480(0x7ca)]>0x0?_0x41fb05['reduce']((_0x2e28b2,_0x40596c)=>_0x2e28b2+_0x40596c,0x0)/_0x41fb05[_0x204480(0x7ca)]:0x0,_0x58b794=_0x28fd55[_0x204480(0x2ba)]['length'],_0x2b3038=_0x58b794>0x0?_0x43fd2f/_0x58b794*0x64:0x0,_0xbba21d=calculateItemAnalysis(_0x28fd55,_0x56b2a2),_0x483cc6=calculateReliabilityKR20(_0x28fd55,_0x56b2a2,_0xbba21d['perQuestionStats']);let _0x5ac6eb='';if(_0x483cc6!==null){let _0x202793='';if(_0x483cc6>=0.9)_0x202793=_0x204480(0x752);else{if(_0x483cc6>=0.8)_0x202793=_0x204480(0x731);else{if(_0x483cc6>=0.7)_0x202793='ดี';else{if(_0x483cc6>=0.6)_0x202793=_0x204480(0x32c);else _0x202793=_0x204480(0x4ff);}}}_0x5ac6eb=_0x204480(0x792)+_0x483cc6[_0x204480(0x7e4)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x202793+_0x204480(0x668);}const _0x5006f3=document[_0x204480(0x2e3)]('analytics-summary-cards');_0x5006f3['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x1855a2[_0x204480(0x7e4)](0x0)+_0x204480(0x60a)+_0x3a2d0c+'/'+_0x24790e+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x43fd2f[_0x204480(0x7e4)](0x2)+_0x204480(0x299)+_0x2b3038[_0x204480(0x7e4)](0x0)+_0x204480(0x17b)+(_0x41fb05[_0x204480(0x7ca)]>0x0?Math[_0x204480(0x31e)](..._0x41fb05):_0x204480(0x213))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x41fb05[_0x204480(0x7ca)]>0x0?Math[_0x204480(0x2d6)](..._0x41fb05):'N/A')+_0x204480(0x297)+_0x5ac6eb+_0x204480(0x77c);const _0x441039=document['getElementById'](_0x204480(0x76b));_0x441039&&_0x441039['remove']();const _0x55d62a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x5006f3['insertAdjacentHTML']('afterend',_0x55d62a);const _0x21ed40=currentProjectData[_0x204480(0x380)]||[];renderSubmissionChart(_0x3a2d0c,_0x555425,_0x56b2a2,_0x21ed40),renderScoreDistributionChart(_0x56b2a2,_0x58b794),renderQuestionAnalytics(_0x28fd55,_0x56b2a2,_0x21ed40),renderInterestingStats(_0x28fd55,_0x56b2a2);}async function handleExportLessonPDF(){const _0xdf3d42=_0x2531d4,_0x1919b1=document[_0xdf3d42(0x2e3)]('lesson-plan-content'),_0x2f3526=document[_0xdf3d42(0x2e3)](_0xdf3d42(0x82b))[_0xdf3d42(0x3d7)],_0x4540b3=window[_0xdf3d42(0x753)]('',_0xdf3d42(0x2e7)),_0x2c5164='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x2f3526+_0xdf3d42(0x37d)+_0x1919b1[_0xdf3d42(0x3fe)]+_0xdf3d42(0x7d9);_0x4540b3['document'][_0xdf3d42(0x216)](_0x2c5164),_0x4540b3[_0xdf3d42(0x58c)][_0xdf3d42(0x41d)](),_0x4540b3[_0xdf3d42(0x1a0)]=function(){setTimeout(()=>{const _0x3eb659=_0x57b0;_0x4540b3[_0x3eb659(0x686)]();},0x5dc);};}function renderInterestingStats(_0xe333e2,_0x338f95){const _0x3ec163=_0x2531d4,_0x155378=document[_0x3ec163(0x2e3)](_0x3ec163(0x692));if(!_0x155378)return;if(_0x338f95[_0x3ec163(0x7ca)]===0x0){_0x155378[_0x3ec163(0x3fe)]=_0x3ec163(0x46d);return;}const _0x34c915=_0xe333e2['questions'][_0x3ec163(0x70b)]((_0x2bdb46,_0x2df6f2)=>({'index':_0x2df6f2+0x1,'text':_0x2bdb46['questionText']||_0x2bdb46[_0x3ec163(0x25d)],'correct':0x0}));_0x338f95[_0x3ec163(0x676)](_0x17b664=>{const _0x4a2dc1=_0x3ec163,_0x8af916=_0x17b664[_0x4a2dc1(0x400)][_0x17b664['attempts'][_0x4a2dc1(0x7ca)]-0x1];_0x8af916&&_0x8af916[_0x4a2dc1(0x2db)]&&_0x8af916['answers']['forEach'](_0x9fffc2=>{const _0x2b3144=_0x4a2dc1,_0x8e73d=_0x34c915[_0x2b3144(0x292)](_0x37b643=>_0x37b643[_0x2b3144(0x31a)]===_0x9fffc2[_0x2b3144(0x43d)]);_0x9fffc2[_0x2b3144(0x1ec)]&&_0x8e73d&&_0x8e73d[_0x2b3144(0x67b)]++;});});const _0x50fe1a=_0x338f95['length'],_0xf2a12a=Math[_0x3ec163(0x31e)](..._0x34c915[_0x3ec163(0x70b)](_0x3a5a79=>_0x3a5a79[_0x3ec163(0x67b)])),_0x22f84d=Math[_0x3ec163(0x2d6)](..._0x34c915['map'](_0x22ab9c=>_0x22ab9c[_0x3ec163(0x67b)])),_0x23db8b=_0x34c915[_0x3ec163(0x2b1)](_0x1981cb=>_0x1981cb[_0x3ec163(0x67b)]===_0xf2a12a)[_0x3ec163(0x70b)](_0x21a3c8=>'ข้อ\x20'+_0x21a3c8[_0x3ec163(0x421)]),_0x379bd9=_0x34c915[_0x3ec163(0x2b1)](_0x53f09f=>_0x53f09f[_0x3ec163(0x67b)]===_0x22f84d)[_0x3ec163(0x70b)](_0x21dea2=>_0x3ec163(0x6d3)+_0x21dea2[_0x3ec163(0x421)]),_0x366c25=_0x338f95[_0x3ec163(0x201)]((_0x168fbf,_0x1f2f73)=>_0x1f2f73[_0x3ec163(0x474)]-_0x168fbf[_0x3ec163(0x474)])[_0x3ec163(0x2b1)]((_0xb05db3,_0x140610,_0xca3333)=>_0xb05db3[_0x3ec163(0x474)]===_0xca3333[0x0][_0x3ec163(0x474)]),_0x9bc3b5=_0x338f95[_0x3ec163(0x201)]((_0x179d4a,_0x2d083e)=>_0x179d4a[_0x3ec163(0x474)]-_0x2d083e[_0x3ec163(0x474)])[_0x3ec163(0x2b1)]((_0x3b86e0,_0x4a2e69,_0x585220)=>_0x3b86e0['latestScore']===_0x585220[0x0][_0x3ec163(0x474)]),_0x416fbe=_0x3ec163(0x330)+_0x23db8b[_0x3ec163(0x828)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0xf2a12a+_0x3ec163(0x379)+_0x50fe1a+_0x3ec163(0x172)+_0x379bd9['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x50fe1a-_0x22f84d)+_0x3ec163(0x379)+_0x50fe1a+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x366c25[_0x3ec163(0x70b)](_0x193a48=>_0x193a48['studentName'])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x366c25[0x0][_0x3ec163(0x474)]+_0x3ec163(0x2ec)+_0x9bc3b5[_0x3ec163(0x70b)](_0x11864c=>_0x11864c[_0x3ec163(0x667)])[_0x3ec163(0x828)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x9bc3b5[0x0][_0x3ec163(0x474)]+_0x3ec163(0x471);_0x155378[_0x3ec163(0x3fe)]=_0x416fbe;}function renderSubmissionChart(_0x3d07b6,_0x330a81,_0x748dad,_0x1f981f){const _0x30351e=_0x2531d4,_0x2637a0=document[_0x30351e(0x2e3)](_0x30351e(0x276))[_0x30351e(0x347)]('2d'),_0x4e009b=_0x748dad['map'](_0x5d2793=>_0x5d2793['studentName']),_0x3cad95=_0x1f981f[_0x30351e(0x2b1)](_0x131212=>!_0x4e009b[_0x30351e(0x7a3)](_0x131212));chartInstances[_0x30351e(0x38a)]&&chartInstances['submission'][_0x30351e(0x4c4)](),chartInstances[_0x30351e(0x38a)]=new Chart(_0x2637a0,{'type':_0x30351e(0x6ac),'data':{'labels':[_0x30351e(0x5ef),_0x30351e(0x7f8)],'datasets':[{'data':[_0x3d07b6,_0x330a81],'backgroundColor':[_0x30351e(0x415),_0x30351e(0x730)],'borderColor':[_0x30351e(0x524),_0x30351e(0x524)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x30351e(0x794)},'tooltip':{'callbacks':{'label':function(_0x1ddc09){const _0x11104a=_0x30351e;let _0x483b4e=_0x1ddc09[_0x11104a(0x286)]||'';return _0x483b4e&&(_0x483b4e+=':\x20'),_0x483b4e+=_0x1ddc09[_0x11104a(0x36f)],_0x483b4e;},'afterLabel':function(_0x51fa1f){const _0x476a01=_0x30351e;let _0x4e8612;return _0x51fa1f[_0x476a01(0x24a)]===0x0?_0x4e8612=_0x4e009b:_0x4e8612=_0x3cad95,_0x4e8612[_0x476a01(0x7ca)]>0x0?_0x4e8612['join']('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x45665f,_0x4b3444){const _0x3697b9=_0x2531d4,_0x3d33c3=document[_0x3697b9(0x2e3)](_0x3697b9(0x370))['getContext']('2d'),_0x364619={};for(let _0x5d8c11=0x0;_0x5d8c11<=_0x4b3444;_0x5d8c11++){_0x364619[_0x5d8c11]=0x0;}_0x45665f['forEach'](_0x25bab9=>{const _0x2fa1f5=_0x3697b9;_0x364619[_0x25bab9['latestScore']]!==undefined&&_0x364619[_0x25bab9[_0x2fa1f5(0x474)]]++;}),chartInstances[_0x3697b9(0x7a7)]&&chartInstances[_0x3697b9(0x7a7)][_0x3697b9(0x4c4)](),chartInstances[_0x3697b9(0x7a7)]=new Chart(_0x3d33c3,{'type':_0x3697b9(0x4d3),'data':{'labels':Object[_0x3697b9(0x6e5)](_0x364619),'datasets':[{'label':_0x3697b9(0x722),'data':Object[_0x3697b9(0x7df)](_0x364619),'backgroundColor':_0x3697b9(0x351),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x3697b9(0x71a)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4292c1){const _0x350a9a=_0x3697b9,_0x452b88=_0x4292c1[_0x350a9a(0x286)],_0x48bec7=_0x45665f['filter'](_0x1fa2c5=>_0x1fa2c5[_0x350a9a(0x474)]==_0x452b88)[_0x350a9a(0x70b)](_0x30534e=>_0x30534e[_0x350a9a(0x667)]);return _0x48bec7[_0x350a9a(0x7ca)]>0x0?_0x48bec7[_0x350a9a(0x828)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x4818cd,_0x4ef7a1,_0x20fa74){const _0x1ac3e6=_0x2531d4,_0x4a7df6=document[_0x1ac3e6(0x2e3)](_0x1ac3e6(0x31c));if(_0x20fa74[_0x1ac3e6(0x7ca)]===0x0){_0x4a7df6['innerHTML']=_0x1ac3e6(0x6a9);return;}const _0xf1774f=calculateItemAnalysis(_0x4818cd,_0x4ef7a1),_0x107518=calculateDistractorAnalysis(_0x4818cd,_0x4ef7a1);let _0x37143c='';_0xf1774f[_0x1ac3e6(0x2ad)]&&(_0x37143c=_0x1ac3e6(0x54a)+_0xf1774f['overallGroups'][_0x1ac3e6(0x338)]['length']+_0x1ac3e6(0x552)+_0xf1774f[_0x1ac3e6(0x2ad)][_0x1ac3e6(0x338)][_0x1ac3e6(0x70b)](_0x494007=>_0x1ac3e6(0x6fc)+_0x494007+_0x1ac3e6(0x793))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0xf1774f[_0x1ac3e6(0x2ad)]['lowerGroupNames'][_0x1ac3e6(0x7ca)]+_0x1ac3e6(0x552)+_0xf1774f['overallGroups']['lowerGroupNames']['map'](_0x2df49e=>_0x1ac3e6(0x6fc)+_0x2df49e+'</li>')[_0x1ac3e6(0x828)]('')+_0x1ac3e6(0x6fe));let _0x33f7fe='';const _0xd47c7a=_0x4ef7a1[_0x1ac3e6(0x70b)](_0x5d99f5=>_0x5d99f5[_0x1ac3e6(0x667)]),_0x59ee64=_0x4d81fc=>{const _0x3ad37c=_0x1ac3e6;if(_0x4d81fc>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x4d81fc>=0.6)return _0x3ad37c(0x490);if(_0x4d81fc>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x4d81fc>=0.2)return _0x3ad37c(0x329);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x3bdef0=_0x4a0e6d=>{const _0x5a82da=_0x1ac3e6;if(_0x4a0e6d<0x0)return _0x5a82da(0x726);if(_0x4a0e6d>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x4a0e6d>=0.3)return _0x5a82da(0x82f);if(_0x4a0e6d>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x5a82da(0x563);},_0x3aa677=_0x3d4598=>{const _0x51dc2d=_0x1ac3e6,_0x2651c8=_0x3d4598[_0x51dc2d(0x7e4)](0x0);if(parseFloat(_0x2651c8)===0x64)return _0x51dc2d(0x326)+_0x2651c8+_0x51dc2d(0x1ba);if(_0x3d4598>=0x32)return _0x51dc2d(0x18d)+_0x2651c8+'%</span>';return _0x51dc2d(0x21e)+_0x2651c8+_0x51dc2d(0x1ba);};_0x4818cd[_0x1ac3e6(0x2ba)][_0x1ac3e6(0x676)]((_0x2b8664,_0x4c96c7)=>{const _0x45809a=_0x1ac3e6,_0x510197=_0xf1774f[_0x45809a(0x515)][_0x4c96c7],_0x41bd99=_0x107518[_0x4c96c7],_0x21cad3=_0x2b8664[_0x45809a(0x25d)]||_0x2b8664[_0x45809a(0x53f)]||_0x2b8664[_0x45809a(0x3ea)];let _0x2579bf=0x0;const _0xe2eef6=[],_0x35c608=[];_0x4ef7a1['forEach'](_0xce8b67=>{const _0x3bfa50=_0x45809a,_0x44cf4b=_0xce8b67[_0x3bfa50(0x400)][_0xce8b67[_0x3bfa50(0x400)][_0x3bfa50(0x7ca)]-0x1];if(_0x44cf4b&&_0x44cf4b['answers']){const _0x4595b5=_0x44cf4b[_0x3bfa50(0x2db)][_0x3bfa50(0x292)](_0x5e163f=>_0x5e163f[_0x3bfa50(0x43d)]===_0x21cad3)??_0x44cf4b[_0x3bfa50(0x2db)][_0x4c96c7]??null;_0x4595b5&&(_0x4595b5[_0x3bfa50(0x1ec)]?(_0x2579bf++,_0xe2eef6[_0x3bfa50(0x3a5)](_0xce8b67[_0x3bfa50(0x667)])):_0x35c608[_0x3bfa50(0x3a5)](_0xce8b67[_0x3bfa50(0x667)]));}});const _0x3f8edb=_0x4ef7a1[_0x45809a(0x7ca)]>0x0?_0x2579bf/_0x4ef7a1[_0x45809a(0x7ca)]*0x64:0x0,_0x3563c9=_0x20fa74[_0x45809a(0x2b1)](_0x23535e=>!_0xd47c7a['includes'](_0x23535e)),_0x14d97c=_0x510197?_0x45809a(0x6ea)+_0x510197['p'][_0x45809a(0x7e4)](0x2)+_0x45809a(0x5e1)+_0x59ee64(_0x510197['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x510197['r'][_0x45809a(0x7e4)](0x2)+_0x45809a(0x5e1)+_0x3bdef0(_0x510197['r'])+_0x45809a(0x579)+_0x3aa677(_0x3f8edb)+_0x45809a(0x4e7):'';let _0xc56a58='';_0x41bd99&&(_0xc56a58=_0x45809a(0x827)+Object[_0x45809a(0x6e5)](_0x41bd99)[_0x45809a(0x70b)](_0x4c8291=>{const _0x5a15aa=_0x45809a,_0x541640=_0x41bd99[_0x4c8291],_0x58d470=parseInt(_0x4c8291)===_0x2b8664[_0x5a15aa(0x230)],_0xc6f7a6=!_0x58d470&&_0x541640['lower_group_count']>_0x541640[_0x5a15aa(0x67a)];return _0x5a15aa(0x310)+(_0x58d470?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x58d470?'✔\x20':'')+_0x541640[_0x5a15aa(0x31a)]+_0x5a15aa(0x6d1)+_0x541640['upper_group_count']+_0x5a15aa(0x6d1)+_0x541640['lower_group_count']+'\x20'+(_0xc6f7a6?'👍':'')+_0x5a15aa(0x6d1)+_0x541640[_0x5a15aa(0x2a6)]+'</td></tr>';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x8d1e66='';_0x510197&&_0x510197[_0x45809a(0x733)]&&(_0x8d1e66=_0x45809a(0x7bd)+_0x510197['upperGroupResponders'][_0x45809a(0x7ca)]+_0x45809a(0x339)+_0x510197[_0x45809a(0x733)][_0x45809a(0x70b)](_0x4cc243=>_0x45809a(0x6fc)+(_0x4cc243['isCorrect']?_0x45809a(0x712):_0x45809a(0x4a9))+'\x20'+_0x4cc243[_0x45809a(0x35d)]+_0x45809a(0x793))[_0x45809a(0x828)]('')+_0x45809a(0x1f2)+_0x510197[_0x45809a(0x3ce)][_0x45809a(0x7ca)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x510197[_0x45809a(0x3ce)][_0x45809a(0x70b)](_0x14d3b2=>_0x45809a(0x6fc)+(_0x14d3b2[_0x45809a(0x1ec)]?_0x45809a(0x712):_0x45809a(0x4a9))+'\x20'+_0x14d3b2[_0x45809a(0x35d)]+_0x45809a(0x793))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x33f7fe+=_0x45809a(0x467)+(_0x4c96c7+0x1)+':\x20'+_0x21cad3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x14d97c+_0x45809a(0x2c3)+_0x21cad3+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x2579bf+_0x45809a(0x72b)+_0x4ef7a1[_0x45809a(0x7ca)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x3f8edb[_0x45809a(0x7e4)](0x0)+_0x45809a(0x56f)+_0xe2eef6[_0x45809a(0x7ca)]+_0x45809a(0x55b)+(_0xe2eef6['length']>0x0?_0xe2eef6[_0x45809a(0x828)](',\x20'):_0x45809a(0x3ec))+_0x45809a(0x1af)+_0x35c608['length']+_0x45809a(0x55b)+(_0x35c608['length']>0x0?_0x35c608['join'](',\x20'):_0x45809a(0x3ec))+_0x45809a(0x18b)+_0x3563c9[_0x45809a(0x7ca)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x3563c9[_0x45809a(0x7ca)]>0x0?_0x3563c9['join'](',\x20'):'ไม่มี')+_0x45809a(0x5d5)+_0xc56a58+_0x45809a(0x3e4)+_0x8d1e66+_0x45809a(0x32d);}),_0x4a7df6['innerHTML']=_0x37143c+_0x33f7fe;try{window['MathJax']&&MathJax[_0x1ac3e6(0x61e)]&&MathJax[_0x1ac3e6(0x61e)]([_0x4a7df6]);}catch(_0x488309){console['error'](_0x1ac3e6(0x5d3),_0x488309);}}function calculateDistractorAnalysis(_0x150136,_0x5123ae){const _0x1ecf41=_0x2531d4,_0x44ad9c={};if(_0x5123ae[_0x1ecf41(0x7ca)]<0x2)return _0x44ad9c;const _0x5f1ae1=[..._0x5123ae]['sort']((_0x1706c1,_0x56f7dc)=>{const _0x321086=_0x1ecf41,_0x366676=_0x56f7dc['latestScore']-_0x1706c1['latestScore'];if(_0x366676!==0x0)return _0x366676;const _0x5ea0dd=_0x1706c1[_0x321086(0x400)]?.[_0x321086(0x7ca)]||0x1,_0x3b52dc=_0x56f7dc['attempts']?.['length']||0x1,_0x57ba72=_0x5ea0dd-_0x3b52dc;if(_0x57ba72!==0x0)return _0x57ba72;const _0xb0ca93=new Date(_0x1706c1[_0x321086(0x237)]),_0x5b1913=new Date(_0x56f7dc['latestSubmittedAt']),_0x4820c4=_0xb0ca93-_0x5b1913;if(_0x4820c4!==0x0)return _0x4820c4;return _0x1706c1['studentName'][_0x321086(0x2c0)](_0x56f7dc[_0x321086(0x667)],'th');}),_0x2ffe4d=_0x5f1ae1[_0x1ecf41(0x7ca)],_0x3f24a0=Math['max'](0x1,Math['floor'](_0x2ffe4d*0.33)),_0x5b38a1=_0x5f1ae1[_0x1ecf41(0x4b4)](0x0,_0x3f24a0),_0x425caa=_0x5f1ae1[_0x1ecf41(0x4b4)](-_0x3f24a0);return _0x150136['questions'][_0x1ecf41(0x676)]((_0x4f23af,_0x4d2589)=>{const _0x39603e=_0x1ecf41;if(_0x4f23af[_0x39603e(0x71d)]!==_0x39603e(0x31d)||!_0x4f23af[_0x39603e(0x1c1)])return;const _0x3ed026=_0x4f23af[_0x39603e(0x53f)],_0x36a647={};_0x4f23af['options'][_0x39603e(0x676)]((_0x284c5d,_0x33379e)=>{_0x36a647[_0x33379e]={'text':_0x284c5d,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x5f1ae1[_0x39603e(0x676)](_0x28da84=>{const _0x76c3ed=_0x39603e,_0x1f9610=_0x28da84['attempts'][_0x28da84[_0x76c3ed(0x400)][_0x76c3ed(0x7ca)]-0x1],_0x58b095=_0x1f9610['answers'][_0x76c3ed(0x292)](_0x49e6c7=>_0x49e6c7[_0x76c3ed(0x43d)]===_0x3ed026);if(_0x58b095&&_0x58b095['answer']!==null){const _0x359991=_0x4f23af['options'][_0x76c3ed(0x830)](_0x49904d=>_0x49904d===_0x58b095[_0x76c3ed(0x321)]);_0x359991!==-0x1&&_0x36a647[_0x359991]&&(_0x36a647[_0x359991][_0x76c3ed(0x2a6)]++,_0x5b38a1[_0x76c3ed(0x7a3)](_0x28da84)&&_0x36a647[_0x359991][_0x76c3ed(0x67a)]++,_0x425caa[_0x76c3ed(0x7a3)](_0x28da84)&&_0x36a647[_0x359991][_0x76c3ed(0x7f2)]++);}}),_0x44ad9c[_0x4d2589]=_0x36a647;}),_0x44ad9c;}function calculateReliabilityKR20(_0x39d76b,_0xdaebd4,_0x18a93b){const _0xa32aa=_0x2531d4,_0x264e97=_0x39d76b['questions'][_0xa32aa(0x7ca)];if(_0x264e97<0x2||_0xdaebd4[_0xa32aa(0x7ca)]<0x2)return null;const _0x40cbeb=_0xdaebd4[_0xa32aa(0x70b)](_0xfe6a2b=>_0xfe6a2b['latestScore']),_0x1c7ff5=_0x40cbeb[_0xa32aa(0x5fb)]((_0x3f4202,_0x2bffa8)=>_0x3f4202+_0x2bffa8,0x0)/_0x40cbeb[_0xa32aa(0x7ca)],_0x5079ab=_0x40cbeb[_0xa32aa(0x70b)](_0x5e483c=>Math[_0xa32aa(0x263)](_0x5e483c-_0x1c7ff5,0x2))[_0xa32aa(0x5fb)]((_0x5a9d86,_0x3ded17)=>_0x5a9d86+_0x3ded17,0x0)/_0x40cbeb[_0xa32aa(0x7ca)];if(_0x5079ab===0x0)return null;let _0x4625df=0x0;for(let _0x2fb920=0x0;_0x2fb920<_0x264e97;_0x2fb920++){const _0x116c3b=_0x18a93b[_0x2fb920]?.['p'];if(_0x116c3b===undefined)continue;const _0x13d4f1=0x1-_0x116c3b;_0x4625df+=_0x116c3b*_0x13d4f1;}if(_0x4625df===0x0)return null;const _0x108fea=_0x264e97/(_0x264e97-0x1)*(0x1-_0x4625df/_0x5079ab);if(_0x108fea>0x1)return null;return _0x108fea;}async function handleAnalyzeClass(){const _0x28d92c=_0x2531d4;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0xcd49cf=collection(db,_0x28d92c(0x4ed)+appId+_0x28d92c(0x80e)+currentQuizData['id']+'/submissions'),_0x72db58=await getDocs(_0xcd49cf),_0x157b8d=_0x72db58['docs']['map'](_0x27c540=>_0x27c540[_0x28d92c(0x7b5)]());if(_0x157b8d[_0x28d92c(0x7ca)]<0x2){showMessage(_0x28d92c(0x7c3));return;}const _0x128dca=document['getElementById'](_0x28d92c(0x53b));_0x128dca[_0x28d92c(0x3fe)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x28d92c(0x2e3)]('analyze-strengths-btn')[_0x28d92c(0x271)]=!![];const _0x345aa1=_0x157b8d['map']((_0x2c6919,_0x3110c2)=>{const _0x25d107=_0x28d92c,_0xbf837c=_0x2c6919[_0x25d107(0x400)][_0x2c6919[_0x25d107(0x400)][_0x25d107(0x7ca)]-0x1];if(!_0xbf837c)return'';return _0x25d107(0x16f)+(_0x3110c2+0x1)+'\x20('+_0x2c6919[_0x25d107(0x667)]+_0x25d107(0x75e)+_0xbf837c['score']+'/'+_0x2c6919[_0x25d107(0x7db)]+_0x25d107(0x30f)+JSON[_0x25d107(0x1b0)](_0xbf837c['answers'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x28d92c(0x828)]('\x0a---\x0a'),_0xa77ea2=_0x28d92c(0x7e6)+currentQuizData[_0x28d92c(0x521)]+_0x28d92c(0x1c2)+JSON['stringify'](currentQuizData[_0x28d92c(0x2ba)])+_0x28d92c(0x1bd)+_0x345aa1+_0x28d92c(0x384),_0x4eb1b2={'type':_0x28d92c(0x693),'properties':{'classStrengths':{'type':_0x28d92c(0x184),'items':{'type':_0x28d92c(0x4bc)}},'classWeaknesses':{'type':_0x28d92c(0x184),'items':{'type':_0x28d92c(0x4bc)}},'teacherSuggestions':{'type':_0x28d92c(0x184),'items':{'type':'STRING'}}},'required':[_0x28d92c(0x2bb),'classWeaknesses',_0x28d92c(0x4fc)]};try{const _0x4737a3=await callAnalysisApi(_0xa77ea2,_0x4eb1b2);displayClassAnalysis(_0x4737a3);}catch(_0x6d0122){console[_0x28d92c(0x3f0)](_0x28d92c(0x1cf),_0x6d0122),_0x128dca[_0x28d92c(0x3fe)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x6d0122['message']+_0x28d92c(0x4c5);}finally{document[_0x28d92c(0x2e3)]('analyze-strengths-btn')['disabled']=![];}}function displayClassAnalysis(_0x56baf1){const _0x2fd5f1=_0x2531d4,_0x3e3b61=document[_0x2fd5f1(0x2e3)](_0x2fd5f1(0x53b));if(!_0x56baf1){_0x3e3b61[_0x2fd5f1(0x3fe)]=_0x2fd5f1(0x71f);return;}_0x3e3b61[_0x2fd5f1(0x3fe)]=_0x2fd5f1(0x5d1)+_0x56baf1['classStrengths'][_0x2fd5f1(0x70b)](_0x4b891d=>_0x2fd5f1(0x6fc)+_0x4b891d+_0x2fd5f1(0x793))[_0x2fd5f1(0x828)]('')+_0x2fd5f1(0x7da)+_0x56baf1['classWeaknesses'][_0x2fd5f1(0x70b)](_0x33de5f=>_0x2fd5f1(0x6fc)+_0x33de5f+_0x2fd5f1(0x793))['join']('')+_0x2fd5f1(0x762)+_0x56baf1[_0x2fd5f1(0x4fc)][_0x2fd5f1(0x70b)](_0x578add=>_0x2fd5f1(0x6fc)+_0x578add+'</li>')[_0x2fd5f1(0x828)]('')+_0x2fd5f1(0x734);}function formatAndPrintWorksheet(_0x4fe6f6,_0x4eaa5a){const _0x32dbea=_0x2531d4,_0x2a15da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x4fe6f6[_0x32dbea(0x521)]+_0x32dbea(0x6bf)+_0x4fe6f6[_0x32dbea(0x521)]+_0x32dbea(0x784)+_0x4fe6f6[_0x32dbea(0x2ba)][_0x32dbea(0x70b)]((_0x192648,_0x1d6968)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x1d6968+0x1)+'.\x20'+_0x192648[_0x32dbea(0x53f)]+_0x32dbea(0x62b)+(_0x192648['imageCode']?_0x32dbea(0x33f)+_0x192648['imageCode']+_0x32dbea(0x61b):'')+_0x32dbea(0x5c1))[_0x32dbea(0x828)]('')+_0x32dbea(0x4f7);_0x4eaa5a[_0x32dbea(0x58c)][_0x32dbea(0x216)](_0x2a15da),_0x4eaa5a[_0x32dbea(0x58c)][_0x32dbea(0x41d)](),_0x4eaa5a[_0x32dbea(0x1a0)]=function(){setTimeout(()=>{const _0x2f51f0=_0x57b0;_0x4eaa5a[_0x2f51f0(0x686)]();},0x3e8);};}async function generateWorksheet(){const _0x3412a3=_0x2531d4,_0xe6e07f=document[_0x3412a3(0x2e3)]('worksheet-topic-input')[_0x3412a3(0x6f0)][_0x3412a3(0x1f8)]();if(!_0xe6e07f){showMessage(_0x3412a3(0x1b9));return;}const _0x16cde1=document[_0x3412a3(0x2e3)](_0x3412a3(0x750))[_0x3412a3(0x7ad)],_0x29e5bb=_0x16cde1?'':_0x3412a3(0x5c8),_0x4d07d8=window[_0x3412a3(0x753)]('','_blank');_0x4d07d8['document']['write'](_0x3412a3(0x262));const _0x44db85=parseInt(document[_0x3412a3(0x2e3)]('num-questions')['value']),_0x4444d6=document[_0x3412a3(0x2e3)](_0x3412a3(0x5e3))[_0x3412a3(0x7ad)],_0x12401f=_0x4444d6?_0x3412a3(0x258):'',_0xae00b1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x29e5bb+_0x3412a3(0x1e3)+_0x44db85+_0x3412a3(0x46b)+_0xe6e07f+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12401f+_0x3412a3(0x3d6)+simpleMathPrompt+_0x3412a3(0x73b),_0x274d8c={'type':_0x3412a3(0x693),'properties':{'topic':{'type':_0x3412a3(0x4bc)},'questions':{'type':_0x3412a3(0x184),'items':{'type':_0x3412a3(0x693),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x3412a3(0x4bc)}},'required':[_0x3412a3(0x53f)]}}},'required':[_0x3412a3(0x521),_0x3412a3(0x2ba)]};document[_0x3412a3(0x2e3)]('loader-text')[_0x3412a3(0x3d7)]='',document['getElementById'](_0x3412a3(0x4ca))[_0x3412a3(0x52e)][_0x3412a3(0x3cf)](_0x3412a3(0x47f)),document['getElementById'](_0x3412a3(0x45a))[_0x3412a3(0x52e)][_0x3412a3(0x3cf)](_0x3412a3(0x47f)),generateWorksheetBtn[_0x3412a3(0x271)]=!![];try{const _0x1027a0=await callAnalysisApi(_0xae00b1,_0x274d8c);formatAndPrintWorksheet(_0x1027a0,_0x4d07d8);}catch(_0x4902aa){console[_0x3412a3(0x3f0)]('Error\x20generating\x20worksheet:',_0x4902aa);if(_0x4d07d8)_0x4d07d8[_0x3412a3(0x41d)]();showMessage(_0x3412a3(0x522));}finally{document['getElementById'](_0x3412a3(0x4ca))[_0x3412a3(0x52e)]['add'](_0x3412a3(0x47f)),document[_0x3412a3(0x2e3)]('quiz-generation-area')[_0x3412a3(0x52e)][_0x3412a3(0x813)]('hidden'),generateWorksheetBtn[_0x3412a3(0x271)]=![];}}async function callAnalysisApi(_0x3f2017,_0x14e031){const _0x543966=_0x2531d4,_0x1022f1={'contents':[{'role':_0x543966(0x39b),'parts':[{'text':_0x3f2017}]}],'generationConfig':{'responseMimeType':_0x543966(0x782),'responseSchema':_0x14e031}},_0x393b2b=_0x543966(0x502),_0x77980d=_0x543966(0x46e)+_0x393b2b,_0x198ff1=await fetch(_0x77980d,{'method':_0x543966(0x5a0),'headers':{'Content-Type':_0x543966(0x782)},'body':JSON[_0x543966(0x1b0)](_0x1022f1)});if(!_0x198ff1['ok'])throw new Error(_0x543966(0x32a)+_0x198ff1[_0x543966(0x3e7)]);const _0x356bf0=await _0x198ff1[_0x543966(0x34e)]();if(_0x356bf0[_0x543966(0x512)]?.[0x0]?.['content']?.['parts']?.[0x0])return JSON[_0x543966(0x3ef)](_0x356bf0[_0x543966(0x512)][0x0][_0x543966(0x1d1)][_0x543966(0x1e2)][0x0]['text']);else{let _0x79b04d=_0x543966(0x62e);if(_0x356bf0[_0x543966(0x66e)]?.[_0x543966(0x59d)])_0x79b04d=_0x543966(0x24d)+_0x356bf0[_0x543966(0x66e)][_0x543966(0x59d)]+'.';else _0x356bf0['candidates']?.[0x0]?.[_0x543966(0x33b)]&&_0x356bf0[_0x543966(0x512)][0x0]['finishReason']!==_0x543966(0x225)&&(_0x79b04d=_0x543966(0x5ad)+_0x356bf0[_0x543966(0x512)][0x0][_0x543966(0x33b)]+'.');console[_0x543966(0x3f0)](_0x79b04d,JSON[_0x543966(0x1b0)](_0x356bf0));throw new Error(_0x79b04d);}}initialize();
