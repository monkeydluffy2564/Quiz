const _0x24b34b=_0x5125;(function(_0x1fce3b,_0x31f69a){const _0x15f82e=_0x5125,_0x2edece=_0x1fce3b();while(!![]){try{const _0x153f4d=parseInt(_0x15f82e(0x10a))/0x1+-parseInt(_0x15f82e(0x431))/0x2*(parseInt(_0x15f82e(0x297))/0x3)+-parseInt(_0x15f82e(0x35d))/0x4*(parseInt(_0x15f82e(0x474))/0x5)+parseInt(_0x15f82e(0x103))/0x6*(parseInt(_0x15f82e(0x3b9))/0x7)+parseInt(_0x15f82e(0x2e9))/0x8*(parseInt(_0x15f82e(0x11c))/0x9)+parseInt(_0x15f82e(0x3b4))/0xa*(parseInt(_0x15f82e(0xac))/0xb)+-parseInt(_0x15f82e(0x1ba))/0xc*(parseInt(_0x15f82e(0x38b))/0xd);if(_0x153f4d===_0x31f69a)break;else _0x2edece['push'](_0x2edece['shift']());}catch(_0x214b1a){_0x2edece['push'](_0x2edece['shift']());}}}(_0x3833,0x350ae));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';function _0x5125(_0x2c9bf8,_0x1c8e7e){const _0x383334=_0x3833();return _0x5125=function(_0x512552,_0x4c0e71){_0x512552=_0x512552-0x8f;let _0x33bc70=_0x383334[_0x512552];return _0x33bc70;},_0x5125(_0x2c9bf8,_0x1c8e7e);}let db,auth,userId,currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x24b34b(0x42d),quizLeaderboardSortOrder=_0x24b34b(0x11f),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x24b34b(0x416),'name':_0x24b34b(0x3e0),'description':_0x24b34b(0x42b),'icon':_0x24b34b(0x10d)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x24b34b(0x501),'description':_0x24b34b(0x4e6),'icon':_0x24b34b(0x4ab)},'ON_FIRE':{'id':_0x24b34b(0x49a),'name':'ท็อปฟอร์ม','description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x24b34b(0x17a)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x24b34b(0x14a),'description':_0x24b34b(0x2be),'icon':_0x24b34b(0x2f3)},'COMEBACK_KING':{'id':'comeback_king','name':_0x24b34b(0x105),'description':_0x24b34b(0x2d0),'icon':_0x24b34b(0x4c2)},'SPECIALIST':{'id':'specialist','name':_0x24b34b(0x384),'description':_0x24b34b(0x1e2),'icon':_0x24b34b(0x14f)},'PERSEVERANCE':{'id':'perseverance','name':_0x24b34b(0x3cd),'description':_0x24b34b(0x469),'icon':_0x24b34b(0x3ca)}},firebaseConfig={'apiKey':_0x24b34b(0x200),'authDomain':_0x24b34b(0x30e),'projectId':'ai-quiz-app-aefee','storageBucket':'ai-quiz-app-aefee.appspot.com','messagingSenderId':_0x24b34b(0x178),'appId':_0x24b34b(0x1a0),'measurementId':_0x24b34b(0x2ac)},appId=typeof __app_id!==_0x24b34b(0xcb)?__app_id:_0x24b34b(0x109),adminView=document[_0x24b34b(0x33a)]('admin-view'),studentView=document[_0x24b34b(0x33a)](_0x24b34b(0x226)),projectDashboardView=document[_0x24b34b(0x33a)](_0x24b34b(0x188)),projectDetailView=document[_0x24b34b(0x33a)](_0x24b34b(0x199)),quizResultsView=document[_0x24b34b(0x33a)](_0x24b34b(0x1a4)),projectList=document[_0x24b34b(0x33a)](_0x24b34b(0x1d9)),noProjectsMsg=document['getElementById'](_0x24b34b(0x1d0)),projectTitle=document['getElementById'](_0x24b34b(0x28e)),projectIdDisplay=document[_0x24b34b(0x33a)](_0x24b34b(0x467)),studentList=document[_0x24b34b(0x33a)]('student-list'),messageModal=document['getElementById']('message-modal'),modalMessage=document[_0x24b34b(0x33a)]('modal-message'),createProjectModal=document[_0x24b34b(0x33a)](_0x24b34b(0x253)),adminPasswordModal=document['getElementById'](_0x24b34b(0x24d)),confirmationModal=document['getElementById'](_0x24b34b(0x51c)),userIdDisplay=document[_0x24b34b(0x33a)](_0x24b34b(0x291)),topicTab=document[_0x24b34b(0x33a)](_0x24b34b(0x4a0)),textTab=document[_0x24b34b(0x33a)]('text-tab'),topicInputArea=document[_0x24b34b(0x33a)](_0x24b34b(0x173)),textInputArea=document[_0x24b34b(0x33a)](_0x24b34b(0xdc)),manageTab=document[_0x24b34b(0x33a)](_0x24b34b(0x4b1)),resultsTab=document[_0x24b34b(0x33a)]('results-tab'),leaderboardTab=document[_0x24b34b(0x33a)](_0x24b34b(0x180)),manageTabContent=document[_0x24b34b(0x33a)](_0x24b34b(0x378)),resultsTabContent=document[_0x24b34b(0x33a)](_0x24b34b(0x20e)),leaderboardTabContent=document[_0x24b34b(0x33a)](_0x24b34b(0x20c)),projectQuizzesList=document['getElementById']('project-quizzes-list'),fileTab=document['getElementById'](_0x24b34b(0x3ac)),fileInputArea=document[_0x24b34b(0x33a)](_0x24b34b(0x35a)),fileUploadInput=document[_0x24b34b(0x33a)](_0x24b34b(0x393)),worksheetTab=document[_0x24b34b(0x33a)]('worksheet-tab'),worksheetInputArea=document[_0x24b34b(0x33a)](_0x24b34b(0x4f0)),generateWorksheetBtn=document['getElementById'](_0x24b34b(0x183)),studentInitialView=document[_0x24b34b(0x33a)](_0x24b34b(0x2e2)),studentNameSelectionView=document[_0x24b34b(0x33a)](_0x24b34b(0xce)),studentQuizArea=document[_0x24b34b(0x33a)](_0x24b34b(0x23b)),studentResultArea=document[_0x24b34b(0x33a)](_0x24b34b(0x2a3)),studentReadingArea=document[_0x24b34b(0x33a)](_0x24b34b(0x300)),loadQuizBtn=document['getElementById'](_0x24b34b(0x14b)),startQuizBtn=document[_0x24b34b(0x33a)](_0x24b34b(0x4bf)),studentJoinGameView=document[_0x24b34b(0x33a)](_0x24b34b(0x1e4)),presentationModal=document[_0x24b34b(0x33a)](_0x24b34b(0xc5)),renameQuizModal=document['getElementById']('rename-quiz-modal'),moveQuizModal=document[_0x24b34b(0x33a)](_0x24b34b(0x1c5)),quizSettingsModal=document[_0x24b34b(0x33a)](_0x24b34b(0x1b0)),quizStatusModal=document['getElementById']('quiz-status-modal'),liveGameView=document[_0x24b34b(0x33a)](_0x24b34b(0x397));async function initialize(){const _0x4c35dc=_0x24b34b;try{const _0x88a4cc=initializeApp(firebaseConfig);db=getFirestore(_0x88a4cc),auth=getAuth(_0x88a4cc),setupAuthListener(),setupEventListeners(),showView(_0x4c35dc(0x335));}catch(_0x4f1cb1){console[_0x4c35dc(0xb1)](_0x4c35dc(0x405),_0x4f1cb1),showMessage(_0x4c35dc(0x20b));}}function compareNumericalAnswers(_0x432820,_0x20b6b3){const _0x53f8ef=_0x24b34b,_0x54e0d5=String(_0x432820)[_0x53f8ef(0x48b)](',','.')[_0x53f8ef(0x48b)](/[^\d.-]/g,'')[_0x53f8ef(0x4c4)](),_0xcf22d4=String(_0x20b6b3)[_0x53f8ef(0x48b)](',','.')[_0x53f8ef(0x48b)](/[^\d.-]/g,'')[_0x53f8ef(0x4c4)]();if(_0x54e0d5===''||_0xcf22d4==='')return![];const _0x5f35bf=parseFloat(_0x54e0d5),_0x12bb64=parseFloat(_0xcf22d4);if(isNaN(_0x5f35bf)||isNaN(_0x12bb64))return![];return Math[_0x53f8ef(0x251)](_0x5f35bf-_0x12bb64)<0.001;}async function gradeShortAnswer(_0xb620f8,_0x5a38dc){const _0x3dec2f=_0x24b34b,_0x2802a8=_0x5a38dc[_0x3dec2f(0x239)];if(String(_0xb620f8)[_0x3dec2f(0x4c4)]()['toLowerCase']()===String(_0x2802a8)[_0x3dec2f(0x4c4)]()[_0x3dec2f(0x294)]())return!![];if(compareNumericalAnswers(_0xb620f8,_0x2802a8))return!![];return console['log'](_0x3dec2f(0x1d8)),await gradeShortAnswerWithAI(_0xb620f8,_0x2802a8);}async function revealAnswerForAdmin(_0x35feeb,_0x184f14){const _0x33980a=_0x24b34b;if(document['getElementById'](_0x33980a(0x172)))return;const _0x301869=doc(db,_0x33980a(0x202)+appId+_0x33980a(0x2f5),currentLiveGameId);await updateDoc(_0x301869,{'questionStatus':_0x33980a(0x374)});const _0x192a15=liveGameView[_0x33980a(0xe5)](_0x33980a(0x2bd));_0x192a15&&(_0x192a15[_0x33980a(0x43c)]['remove'](_0x33980a(0xcd)),_0x192a15['classList']['add'](_0x33980a(0xe2),_0x33980a(0x4d7),_0x33980a(0x135),_0x33980a(0xae),_0x33980a(0x101)),_0x192a15['innerHTML']=_0x33980a(0x282)+_0x192a15['innerHTML']);const _0x415d28=document[_0x33980a(0x33a)](_0x33980a(0x480));_0x415d28&&(_0x415d28['innerHTML']=_0x33980a(0x21b)+(_0x35feeb+0x1===_0x184f14?_0x33980a(0x2d6):'ข้อต่อไป')+_0x33980a(0xba),document['getElementById'](_0x33980a(0x172))['addEventListener'](_0x33980a(0x139),async()=>{const _0x4668f5=_0x33980a,_0x374a50=doc(db,_0x4668f5(0x202)+appId+'/public/data/liveGames',currentLiveGameId),_0x5cb717=await getDoc(_0x374a50);if(!_0x5cb717[_0x4668f5(0x266)]())return;const _0x49f623=_0x5cb717[_0x4668f5(0x49b)](),_0x2e99c2={};if(_0x49f623['players'])for(const _0x3c8b2f in _0x49f623[_0x4668f5(0x357)]){_0x2e99c2[_0x4668f5(0x4b6)+_0x3c8b2f+_0x4668f5(0x3bc)]=![];}const _0x416c18=_0x35feeb+0x1;_0x416c18<_0x184f14?(_0x2e99c2[_0x4668f5(0x2ba)]=_0x416c18,_0x2e99c2['questionDisplayedAt']=serverTimestamp(),_0x2e99c2[_0x4668f5(0x9b)]=_0x4668f5(0x2a7),await updateDoc(_0x374a50,_0x2e99c2)):await updateDoc(_0x374a50,{'status':'podium'});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x197cbd=>{const _0x3855a0=_0x5125;if(_0x197cbd){userId=_0x197cbd[_0x3855a0(0x50a)],userIdDisplay['textContent']=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes();}else await authenticateUser();});}function showPodiumView(_0x4d411b){const _0x2aeb0b=_0x24b34b,_0x1c3773=Object[_0x2aeb0b(0x238)](_0x4d411b)[_0x2aeb0b(0x500)](([_0x5af0c7,_0x280b8f])=>({'name':_0x5af0c7,'score':_0x280b8f[_0x2aeb0b(0x3e9)]||0x0,'badges':_0x280b8f[_0x2aeb0b(0x408)]||[]}));_0x1c3773[_0x2aeb0b(0x1c4)]((_0x24e529,_0x317e10)=>{const _0x1fe9ce=_0x2aeb0b,_0xda4bd5=_0x317e10[_0x1fe9ce(0x3e9)]-_0x24e529[_0x1fe9ce(0x3e9)];if(_0xda4bd5!==0x0)return _0xda4bd5;return(_0x317e10[_0x1fe9ce(0x408)][_0x1fe9ce(0x114)]||0x0)-(_0x24e529[_0x1fe9ce(0x408)][_0x1fe9ce(0x114)]||0x0);});const _0x307e19=_0x4d3715=>{const _0x5bc69a=_0x2aeb0b;if(!_0x4d3715||_0x4d3715[_0x5bc69a(0x114)]===0x0)return'';const _0x417c44={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x5bc69a(0x3a5)+_0x4d3715[_0x5bc69a(0x500)](_0x570897=>_0x417c44[_0x570897]||'')['join']('')+'</div>';},_0x537808=_0x1c3773[_0x2aeb0b(0x1cf)](0x3),_0x2846ca=_0x537808[_0x2aeb0b(0x114)]>0x0?_0x2aeb0b(0x1b4)+_0x537808['map']((_0x2b5198,_0x2bd7e3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x2bd7e3+0x4)+_0x2aeb0b(0x3ce)+_0x2b5198['name']+_0x2aeb0b(0x329)+_0x2b5198[_0x2aeb0b(0x3e9)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2aeb0b(0x179)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x4de17e=_0x2aeb0b(0x276)+(_0x1c3773[0x1]?_0x2aeb0b(0x487)+_0x1c3773[0x1]['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x307e19(_0x1c3773[0x1]['badges'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x1c3773[0x1][_0x2aeb0b(0x3e9)]+_0x2aeb0b(0x15b):'<div\x20class=\x22flex-1\x22></div>')+_0x2aeb0b(0xdd)+(_0x1c3773[0x0]?_0x2aeb0b(0x473)+_0x1c3773[0x0][_0x2aeb0b(0x2f0)]+_0x2aeb0b(0x275)+_0x307e19(_0x1c3773[0x0]['badges'])+_0x2aeb0b(0xc6)+_0x1c3773[0x0]['score']+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x2aeb0b(0x465))+_0x2aeb0b(0xdd)+(_0x1c3773[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x1c3773[0x2][_0x2aeb0b(0x2f0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x307e19(_0x1c3773[0x2]['badges'])+_0x2aeb0b(0xe9)+_0x1c3773[0x2]['score']+_0x2aeb0b(0x1f8):_0x2aeb0b(0x465))+_0x2aeb0b(0x3b7)+_0x2846ca+_0x2aeb0b(0x50d)+(currentMode===_0x2aeb0b(0x2fd)?_0x2aeb0b(0x36f):'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x2aeb0b(0x156);liveGameView[_0x2aeb0b(0x3dd)]=_0x4de17e,currentMode===_0x2aeb0b(0x2fd)&&document[_0x2aeb0b(0x33a)](_0x2aeb0b(0x32b))['addEventListener'](_0x2aeb0b(0x139),async()=>{const _0x271027=_0x2aeb0b,_0xcb52b9=doc(db,'artifacts/'+appId+_0x271027(0x2f5),currentLiveGameId);await deleteDoc(_0xcb52b9),showView(_0x271027(0x17f));});}async function handleStartLiveRace(_0x3b4ad4){const _0x4f7f77=_0x24b34b;let _0xe7def0=allQuizzes[_0x4f7f77(0x4f9)](_0x440e09=>_0x440e09['id']===_0x3b4ad4);if(!_0xe7def0){const _0x4fd652=doc(db,'artifacts/'+appId+_0x4f7f77(0x20a),_0x3b4ad4),_0x25c870=await getDoc(_0x4fd652);if(!_0x25c870[_0x4f7f77(0x266)]()){showMessage(_0x4f7f77(0x237));return;}_0xe7def0={'id':_0x25c870['id'],..._0x25c870[_0x4f7f77(0x49b)]()};}currentQuizData=getShuffledQuiz(_0xe7def0);const _0x116c3c=_0xe7def0['projectId']||currentProjectId||null,_0x1f6be5=Math[_0x4f7f77(0x2cf)](0x3e8+Math['random']()*0x2328)[_0x4f7f77(0x46b)]();currentLiveGamePin=_0x1f6be5;try{const _0x43960a=await addDoc(collection(db,_0x4f7f77(0x202)+appId+_0x4f7f77(0x2f5)),{'quizId':_0x3b4ad4,'projectId':_0x116c3c,'status':_0x4f7f77(0x1ab),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1f6be5,'createdAt':serverTimestamp()});currentLiveGameId=_0x43960a['id'],showAdminLobbyView(_0x1f6be5,_0xe7def0['topic']),listenForLiveGameUpdates();}catch(_0x250c30){console[_0x4f7f77(0xb1)]('Error\x20starting\x20live\x20race:',_0x250c30),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x58182e=_0x24b34b,_0x45fa1d=document[_0x58182e(0xe5)]('#student-quiz-leaderboard-content\x20thead');_0x45fa1d&&(_0x45fa1d[_0x58182e(0x3dd)]=_0x58182e(0x39b));const _0x324a3c=document['querySelector'](_0x58182e(0x1a2));_0x324a3c&&(_0x324a3c[_0x58182e(0x3dd)]=_0x58182e(0x170));const _0x160645=document[_0x58182e(0x33a)](_0x58182e(0x40f));_0x160645[_0x58182e(0x43c)][_0x58182e(0x4ff)](_0x58182e(0x377)),document[_0x58182e(0x33a)](_0x58182e(0x490))['onclick']=()=>_0x160645['classList'][_0x58182e(0x220)](_0x58182e(0x377));const _0x119500=document['getElementById']('student-quiz-leaderboard-tab'),_0x8d29e=document[_0x58182e(0x33a)](_0x58182e(0x32c)),_0x3a9fa2=document[_0x58182e(0x33a)]('student-quiz-leaderboard-content'),_0x1fe1f5=document[_0x58182e(0x33a)](_0x58182e(0x3d4));_0x119500[_0x58182e(0x453)]=()=>{const _0xf750ba=_0x58182e;_0x119500[_0xf750ba(0x43c)][_0xf750ba(0x220)](_0xf750ba(0x3b3)),_0x8d29e[_0xf750ba(0x43c)][_0xf750ba(0x4ff)](_0xf750ba(0x3b3)),_0x3a9fa2['classList'][_0xf750ba(0x4ff)]('hidden'),_0x1fe1f5[_0xf750ba(0x43c)][_0xf750ba(0x220)]('hidden');},_0x8d29e[_0x58182e(0x453)]=()=>{const _0x1e631e=_0x58182e;_0x8d29e['classList']['add'](_0x1e631e(0x3b3)),_0x119500[_0x1e631e(0x43c)][_0x1e631e(0x4ff)](_0x1e631e(0x3b3)),_0x1fe1f5['classList'][_0x1e631e(0x4ff)]('hidden'),_0x3a9fa2[_0x1e631e(0x43c)][_0x1e631e(0x220)](_0x1e631e(0x377));};try{const _0x4ba3bd=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x58182e(0x150)),_0x2dbec1=await getDocs(_0x4ba3bd),_0xb1a6a5=_0x2dbec1['docs'][_0x58182e(0x500)](_0x2bcf96=>_0x2bcf96[_0x58182e(0x49b)]());renderQuizLeaderboard(_0xb1a6a5,currentQuizData,_0x58182e(0x481));const _0x20a68e=collection(db,'artifacts/'+appId+_0x58182e(0x478)+currentQuizData['projectId']+_0x58182e(0x227)),_0x59c5c1=await getDocs(_0x20a68e),_0x5442bf=_0x59c5c1[_0x58182e(0xb7)]['map'](_0x399096=>_0x399096['data']());renderLeaderboard(_0x5442bf,_0x58182e(0x110));}catch(_0x565fb7){console[_0x58182e(0xb1)](_0x58182e(0x4e5),_0x565fb7),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x3f0131){const _0x5d15b4=_0x24b34b,_0x819c2d=_0x3f0131[_0x5d15b4(0x389)],_0x9f5d2d=_0x819c2d[_0x5d15b4(0x3f5)][_0x5d15b4(0x3fd)],_0x118b5c=currentQuizData['questions'][_0x9f5d2d];if(!userId){showMessage(_0x5d15b4(0x90));return;}try{const _0x2f2cb3={..._0x118b5c,'originalTopic':currentQuizData[_0x5d15b4(0x140)],'savedAt':serverTimestamp()},_0x7ca146=collection(db,'artifacts/'+appId+_0x5d15b4(0x345)+userId+_0x5d15b4(0x325));await addDoc(_0x7ca146,_0x2f2cb3),showMessage(_0x5d15b4(0x43e)),_0x819c2d[_0x5d15b4(0x43c)]['remove']('text-purple-600'),_0x819c2d[_0x5d15b4(0x43c)][_0x5d15b4(0x220)](_0x5d15b4(0x212)),_0x819c2d['disabled']=!![];}catch(_0x138963){console[_0x5d15b4(0xb1)]('Error\x20saving\x20to\x20question\x20bank:',_0x138963),showMessage(_0x5d15b4(0x4df));}}function listenForStarredQuizzes(){const _0x20e610=_0x24b34b;if(!userId)return;const _0x2b4de2=collection(db,_0x20e610(0x202)+appId+'/public/data/quizzes'),_0x830db=query(_0x2b4de2,where(_0x20e610(0x3c2),'==',!![]));onSnapshot(_0x830db,_0x1fbf7d=>{const _0x48422b=_0x20e610;starredQuizzes=_0x1fbf7d[_0x48422b(0xb7)][_0x48422b(0x500)](_0x39868d=>({'id':_0x39868d['id'],..._0x39868d[_0x48422b(0x49b)]()})),renderProjects();},_0x3921be=>{const _0x50e258=_0x20e610;console[_0x50e258(0xb1)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x3921be);});}async function handleToggleStarQuiz(_0x155668){const _0x2110c6=_0x24b34b,_0x2b803d=doc(db,_0x2110c6(0x202)+appId+'/public/data/quizzes',_0x155668);try{const _0x246a65=await getDoc(_0x2b803d);if(_0x246a65[_0x2110c6(0x266)]()){const _0x27a1bc=_0x246a65[_0x2110c6(0x49b)]()[_0x2110c6(0x3c2)]||![];await updateDoc(_0x2b803d,{'isStarred':!_0x27a1bc});}}catch(_0x339ed8){console[_0x2110c6(0xb1)](_0x2110c6(0x506),_0x339ed8),showMessage(_0x2110c6(0x285));}}async function displayQuestionBank(){const _0x58671b=_0x24b34b,_0x42acaf=document['getElementById'](_0x58671b(0x147));_0x42acaf[_0x58671b(0x3dd)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x3ff8de=collection(db,_0x58671b(0x202)+appId+_0x58671b(0x345)+userId+_0x58671b(0x325)),_0x10aef1=query(_0x3ff8de),_0x55701a=await getDocs(_0x10aef1);if(_0x55701a['empty']){_0x42acaf[_0x58671b(0x3dd)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x43dc30=_0x55701a[_0x58671b(0xb7)]['map'](_0x4a06ce=>{const _0xae40a7=_0x58671b,_0x32a234=_0x4a06ce['data'](),_0xe9a6c=_0x4a06ce['id'];return _0xae40a7(0x420)+JSON[_0xae40a7(0x29f)](_0x32a234)+_0xae40a7(0x206)+(_0x32a234['questionText']||_0x32a234[_0xae40a7(0x4b4)])+_0xae40a7(0xc9)+_0x32a234[_0xae40a7(0x11b)]+_0xae40a7(0x2fa);})['join']('');_0x42acaf[_0x58671b(0x3dd)]=_0x58671b(0x1d3)+_0x43dc30+_0x58671b(0x2b8),document[_0x58671b(0x33a)]('create-from-bank-btn')[_0x58671b(0x1d5)](_0x58671b(0x139),createQuizFromBank);}catch(_0x21c8a1){console[_0x58671b(0xb1)](_0x58671b(0x264),_0x21c8a1),_0x42acaf[_0x58671b(0x3dd)]=_0x58671b(0x330);}}function showAdminLiveQuestionView(_0x3e472a,_0x21d535,_0x52f434){const _0x30420e=_0x24b34b,_0x572801=_0x3e472a[_0x30420e(0xa0)]||currentQuizData[_0x30420e(0xab)];let _0x82aebd='';if(_0x572801==='multiple_choice'||_0x572801===_0x30420e(0x49f)){const _0x2263f9=_0x572801===_0x30420e(0x49f)?[_0x30420e(0x4be),'ไม่ใช่']:_0x3e472a[_0x30420e(0x3a0)],_0x3fac4d=_0x572801===_0x30420e(0x49f)?_0x3e472a[_0x30420e(0x463)]?0x0:0x1:_0x3e472a[_0x30420e(0x3cb)];_0x82aebd=_0x2263f9[_0x30420e(0x500)]((_0x5532d7,_0x12d084)=>_0x30420e(0x2ef)+(_0x12d084===_0x3fac4d)+_0x30420e(0x3b8)+_0x5532d7+_0x30420e(0x2c4))['join']('');}else{if(_0x572801===_0x30420e(0x30d)){const _0x17da28=_0x3e472a[_0x30420e(0x298)]||[];_0x82aebd=_0x17da28[_0x30420e(0x500)](_0x1ba811=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x1ba811===_0x3e472a['correctResponse'])+_0x30420e(0x3b8)+_0x1ba811+_0x30420e(0x2c4))[_0x30420e(0x179)]('');}}const _0x2744a1=_0x3e472a[_0x30420e(0x4b4)]||_0x3e472a[_0x30420e(0x121)],_0x30fd6b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x21d535+0x1)+_0x30420e(0xbf)+_0x52f434+_0x30420e(0xdf)+_0x2744a1+_0x30420e(0xfd)+_0x82aebd+_0x30420e(0x435);liveGameView[_0x30420e(0x3dd)]=_0x30fd6b;window[_0x30420e(0x3d7)]&&MathJax[_0x30420e(0x493)]&&MathJax[_0x30420e(0x493)]([liveGameView]);const _0x18a0c8=document['getElementById'](_0x30420e(0x480));document['getElementById']('reveal-answer-btn')[_0x30420e(0x1d5)](_0x30420e(0x139),async()=>{const _0x12f18a=_0x30420e,_0x565a7b=doc(db,_0x12f18a(0x202)+appId+_0x12f18a(0x2f5),currentLiveGameId);await updateDoc(_0x565a7b,{'questionStatus':'revealed'});const _0x47a6bd=liveGameView[_0x12f18a(0xe5)]('[data-is-correct=\x22true\x22]');_0x47a6bd&&(_0x47a6bd['classList'][_0x12f18a(0x4ff)](_0x12f18a(0xcd)),_0x47a6bd['classList'][_0x12f18a(0x220)](_0x12f18a(0xe2),_0x12f18a(0x4d7),_0x12f18a(0x135),_0x12f18a(0xae),_0x12f18a(0x101)),_0x47a6bd['innerHTML']=_0x12f18a(0x282)+_0x47a6bd[_0x12f18a(0x3dd)]),_0x18a0c8[_0x12f18a(0x3dd)]=_0x12f18a(0x21b)+(_0x21d535+0x1===_0x52f434?_0x12f18a(0x2d6):'ข้อต่อไป')+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x12f18a(0x33a)](_0x12f18a(0x172))[_0x12f18a(0x1d5)](_0x12f18a(0x139),async()=>{const _0x1943fc=_0x12f18a,_0x107de3=doc(db,_0x1943fc(0x202)+appId+_0x1943fc(0x2f5),currentLiveGameId),_0x2adccf=await getDoc(_0x107de3);if(!_0x2adccf['exists']())return;const _0x38953f=_0x2adccf['data'](),_0x1f4938={};if(_0x38953f[_0x1943fc(0x357)])for(const _0x4fc7c0 in _0x38953f[_0x1943fc(0x357)]){_0x1f4938[_0x1943fc(0x4b6)+_0x4fc7c0+_0x1943fc(0x3bc)]=![];}const _0x49c13c=_0x21d535+0x1;_0x49c13c<_0x52f434?(_0x1f4938['currentQuestionIndex']=_0x49c13c,_0x1f4938[_0x1943fc(0x3fb)]=serverTimestamp(),_0x1f4938[_0x1943fc(0x9b)]=_0x1943fc(0x2a7),await updateDoc(_0x107de3,_0x1f4938)):await updateDoc(_0x107de3,{'status':_0x1943fc(0x129)});});}),document[_0x30420e(0x33a)]('end-game-btn')[_0x30420e(0x1d5)](_0x30420e(0x139),async()=>{const _0x193feb=_0x30420e,_0x4b3144=doc(db,_0x193feb(0x202)+appId+_0x193feb(0x2f5),currentLiveGameId);await deleteDoc(_0x4b3144),showView(_0x193feb(0x17f));});}function showStudentLiveQuestionView(_0x59a146,_0x14fc1e,_0x3ade3b){const _0x4f8d8b=_0x24b34b,_0x3cb6b0=_0x59a146[_0x4f8d8b(0xa0)]||currentQuizData[_0x4f8d8b(0xab)];let _0x436102='';if(_0x3cb6b0===_0x4f8d8b(0x2f4)||_0x3cb6b0===_0x4f8d8b(0x49f)){const _0x2b57e0=_0x3cb6b0===_0x4f8d8b(0x49f)?['ใช่','ไม่ใช่']:_0x59a146['options'];_0x436102=_0x2b57e0[_0x4f8d8b(0x500)]((_0x16c8b9,_0x3d861d)=>_0x4f8d8b(0x48d)+_0x3d861d+_0x4f8d8b(0x155)+_0x16c8b9+_0x4f8d8b(0x194))[_0x4f8d8b(0x179)]('');}else{if(_0x3cb6b0===_0x4f8d8b(0x30d)){const _0x49bafd=_0x59a146[_0x4f8d8b(0x298)]||[];_0x436102=_0x49bafd['map']((_0x4a58c5,_0x4fde6f)=>_0x4f8d8b(0x48d)+_0x4fde6f+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a58c5+_0x4f8d8b(0x194))[_0x4f8d8b(0x179)]('');}else _0x3cb6b0===_0x4f8d8b(0x3c7)&&(_0x436102=_0x4f8d8b(0x12b));}const _0x365a6d=_0x59a146[_0x4f8d8b(0x4b4)]||_0x59a146[_0x4f8d8b(0x121)],_0xec408b=_0x4f8d8b(0x2e6)+(_0x14fc1e+0x1)+_0x4f8d8b(0xbf)+_0x3ade3b+_0x4f8d8b(0x223)+_0x365a6d+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x436102+_0x4f8d8b(0x26e);liveGameView[_0x4f8d8b(0x3dd)]=_0xec408b;window[_0x4f8d8b(0x3d7)]&&MathJax[_0x4f8d8b(0x493)]&&MathJax['typesetPromise']([liveGameView]);const _0x4fdf87=document[_0x4f8d8b(0x33a)]('live-submit-short-answer-btn');_0x4fdf87&&_0x4fdf87[_0x4f8d8b(0x1d5)](_0x4f8d8b(0x139),()=>{const _0x548653=_0x4f8d8b,_0x3dbc0a=document[_0x548653(0x33a)](_0x548653(0x112))[_0x548653(0x4bb)];handleLiveAnswer(_0x3dbc0a,_0x59a146);}),document[_0x4f8d8b(0x33a)](_0x4f8d8b(0x316))['addEventListener']('click',_0x2f2416=>{const _0x41a503=_0x4f8d8b,_0x56228c=_0x2f2416['target'][_0x41a503(0x3d1)](_0x41a503(0x460));if(_0x56228c){const _0x501cf4=parseInt(_0x56228c['dataset'][_0x41a503(0x3fd)]);handleLiveAnswer(_0x501cf4,_0x59a146);}});}async function handleLiveAnswer(_0x8b2589,_0x25460f){const _0x105b51=_0x24b34b;document[_0x105b51(0x33f)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x105b51(0x426)](_0x3a3941=>_0x3a3941[_0x105b51(0x308)]=!![]);const _0x30fce5=_0x25460f['questionType']||currentQuizData[_0x105b51(0xab)];let _0x117345=![];if(_0x30fce5===_0x105b51(0x3c7)){const _0x4ea805=(_0x8b2589||'')[_0x105b51(0x46b)]();_0x117345=await gradeShortAnswer(_0x4ea805,_0x25460f);}else{if(_0x30fce5===_0x105b51(0x2f4))_0x117345=_0x8b2589===_0x25460f[_0x105b51(0x3cb)];else{if(_0x30fce5===_0x105b51(0x49f)){const _0x29bc8b=_0x25460f[_0x105b51(0x463)];_0x117345=_0x8b2589===0x0&&_0x29bc8b||_0x8b2589===0x1&&!_0x29bc8b;}else{if(_0x30fce5==='matching_item'){const _0x3101db=_0x25460f[_0x105b51(0x298)][_0x8b2589];_0x117345=_0x3101db===_0x25460f[_0x105b51(0x13d)];}}}}const _0x3847b8=doc(db,_0x105b51(0x202)+appId+_0x105b51(0x2f5),currentLiveGameId),_0x2ed4c9=await getDoc(_0x3847b8);if(!_0x2ed4c9[_0x105b51(0x266)]())return;const _0x151904=_0x2ed4c9[_0x105b51(0x49b)](),_0x1d584f=_0x151904[_0x105b51(0x357)][currentStudentName];let _0x5b6b2d=_0x1d584f[_0x105b51(0x408)]||[],_0x5f3afb=_0x1d584f[_0x105b51(0x2de)]||0x0;const _0x20aaa3={};let _0x39e3bb=0x0;if(_0x151904['questionDisplayedAt']){const _0x18e51c=_0x151904[_0x105b51(0x3fb)][_0x105b51(0x3fe)](),_0xc1b7d3=new Date()-_0x18e51c;if(_0x117345){const _0x19f843=0x3e8,_0x249ae8=0x1f4,_0x3f917f=0x4e20;let _0x2ce9b2=_0xc1b7d3/_0x3f917f;if(_0x2ce9b2>0x1)_0x2ce9b2=0x1;const _0x56285b=Math[_0x105b51(0x2ab)](_0x2ce9b2*_0x249ae8);_0x39e3bb=_0x19f843-_0x56285b,_0xc1b7d3<=0x1388&&!_0x5b6b2d[_0x105b51(0x102)]('quick_thinker')&&_0x5b6b2d[_0x105b51(0x1c7)](_0x105b51(0x166));}}_0x117345?(_0x5f3afb++,_0x5f3afb===0x3&&!_0x5b6b2d[_0x105b51(0x102)](_0x105b51(0x49a))&&(_0x5b6b2d[_0x105b51(0x1c7)](_0x105b51(0x49a)),_0x5f3afb=0x0)):_0x5f3afb=0x0,_0x117345&&(_0x20aaa3[_0x105b51(0x4b6)+currentStudentName+_0x105b51(0x484)]=increment(_0x39e3bb)),_0x20aaa3['players.'+currentStudentName+_0x105b51(0x358)]=_0x5b6b2d,_0x20aaa3[_0x105b51(0x4b6)+currentStudentName+_0x105b51(0xde)]=_0x5f3afb,_0x20aaa3[_0x105b51(0x4b6)+currentStudentName+_0x105b51(0x3bc)]=!![],_0x20aaa3['players.'+currentStudentName+_0x105b51(0x2d4)]=_0x117345,_0x20aaa3[_0x105b51(0x4b6)+currentStudentName+_0x105b51(0x233)]=_0x39e3bb,await updateDoc(_0x3847b8,_0x20aaa3),liveGameView[_0x105b51(0x3dd)]=_0x105b51(0x437);}function createQuizFromBank(){const _0x35ec8a=_0x24b34b,_0x2197aa=document[_0x35ec8a(0x33f)](_0x35ec8a(0x323));if(_0x2197aa[_0x35ec8a(0x114)]===0x0){showMessage(_0x35ec8a(0x12a));return;}const _0x3eb3f8=[];_0x2197aa[_0x35ec8a(0x426)](_0x29d937=>{const _0x198855=_0x35ec8a;_0x3eb3f8['push'](JSON['parse'](_0x29d937[_0x198855(0x4bb)]));});const _0x2d9ca6={'topic':_0x35ec8a(0x452),'questions':_0x3eb3f8};displayGeneratedQuiz(_0x2d9ca6);}function showAdminLobbyView(_0x3a8bba,_0x45bef6){const _0x280a88=_0x24b34b;showView('live-game');const _0x110b7c=_0x280a88(0x4b0)+_0x45bef6+_0x280a88(0x15e)+_0x3a8bba+_0x280a88(0x2ee);liveGameView['innerHTML']=_0x110b7c,document['getElementById'](_0x280a88(0x31b))[_0x280a88(0x1d5)](_0x280a88(0x139),async()=>{const _0x1b8acd=_0x280a88;if(!currentQuizData||!currentQuizData[_0x1b8acd(0x177)]||currentQuizData[_0x1b8acd(0x177)][_0x1b8acd(0x114)]===0x0){showMessage(_0x1b8acd(0x24e));return;}try{const _0x4ebaaa=doc(db,_0x1b8acd(0x202)+appId+_0x1b8acd(0x2f5),currentLiveGameId);await updateDoc(_0x4ebaaa,{'status':_0x1b8acd(0x4a8),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x5a66e1=currentQuizData[_0x1b8acd(0x177)][0x0],_0x28fa30=currentQuizData[_0x1b8acd(0x177)][_0x1b8acd(0x114)];showAdminLiveQuestionView(_0x5a66e1,0x0,_0x28fa30);}catch(_0x365ff6){console['error'](_0x1b8acd(0xe4),_0x365ff6),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0xd50f7f=_0x24b34b;if(allQuizzesGlobal['length']===0x0){const _0x58e2d4=await getDocs(collection(db,_0xd50f7f(0x202)+appId+_0xd50f7f(0x20a)));allQuizzesGlobal=_0x58e2d4[_0xd50f7f(0xb7)][_0xd50f7f(0x500)](_0x19c966=>({'id':_0x19c966['id'],..._0x19c966[_0xd50f7f(0x49b)]()}));}renderGlobalQuizList(''),document[_0xd50f7f(0x33a)](_0xd50f7f(0x27b))[_0xd50f7f(0x43c)]['remove']('hidden');}function renderGlobalQuizList(_0x1fa573=''){const _0x526b26=_0x24b34b,_0x4fe965=document[_0x526b26(0x33a)](_0x526b26(0x350)),_0x10824c=_0x1fa573[_0x526b26(0x294)]()[_0x526b26(0x4c4)](),_0x2df653=allQuizzesGlobal[_0x526b26(0x500)](_0x20ab1=>({..._0x20ab1,'projectName':allProjects['find'](_0x3f02e4=>_0x3f02e4['id']===_0x20ab1[_0x526b26(0x34e)])?.['projectName']||_0x20ab1[_0x526b26(0x34e)]}))['filter'](_0x4ea721=>(_0x4ea721[_0x526b26(0x140)]||'')['toLowerCase']()[_0x526b26(0x102)](_0x10824c)||(_0x4ea721[_0x526b26(0x439)]||'')['toLowerCase']()[_0x526b26(0x102)](_0x10824c));_0x4fe965[_0x526b26(0x3dd)]=_0x2df653[_0x526b26(0x114)]?_0x2df653[_0x526b26(0x500)](_0xe896f=>_0x526b26(0x3c9)+_0xe896f['id']+_0x526b26(0x216)+(_0xe896f[_0x526b26(0x140)]||_0x526b26(0x425))+_0x526b26(0x213)+(_0xe896f[_0x526b26(0x177)]?.[_0x526b26(0x114)]||0x0)+_0x526b26(0x204)+_0xe896f['projectName']+_0x526b26(0x130))[_0x526b26(0x179)](''):_0x526b26(0x4ef),selectedGlobalQuizId=null,document[_0x526b26(0x33a)](_0x526b26(0x355))[_0x526b26(0x308)]=!![],_0x4fe965['querySelectorAll'](_0x526b26(0x45d))[_0x526b26(0x426)](_0x2dae59=>{const _0x188cdb=_0x526b26;_0x2dae59[_0x188cdb(0x1d5)](_0x188cdb(0x139),()=>{const _0x20ec5e=_0x188cdb;selectedGlobalQuizId=_0x2dae59[_0x20ec5e(0x3f5)]['id'],_0x4fe965[_0x20ec5e(0x33f)](_0x20ec5e(0x418))[_0x20ec5e(0x426)](_0x145d1c=>_0x145d1c[_0x20ec5e(0x43c)][_0x20ec5e(0x4ff)]('bg-purple-50','ring-2',_0x20ec5e(0x4a9))),_0x2dae59[_0x20ec5e(0x43c)][_0x20ec5e(0x220)](_0x20ec5e(0x2df),_0x20ec5e(0x2c1),_0x20ec5e(0x4a9)),document[_0x20ec5e(0x33a)](_0x20ec5e(0x355))[_0x20ec5e(0x308)]=![];});});}function listenForLiveGameUpdates(){const _0x183396=_0x24b34b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2797e6=doc(db,_0x183396(0x202)+appId+_0x183396(0x2f5),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2797e6,_0x24a71e=>{const _0x57fa1b=_0x183396;if(!_0x24a71e[_0x57fa1b(0x266)]()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x54c9e3=_0x24a71e[_0x57fa1b(0x49b)]();!currentQuizData&&_0x54c9e3[_0x57fa1b(0x390)]&&((async()=>{const _0x98bb64=_0x57fa1b;try{const _0x57f360=doc(db,_0x98bb64(0x202)+appId+_0x98bb64(0x20a),_0x54c9e3[_0x98bb64(0x390)]),_0x27d143=await getDoc(_0x57f360);_0x27d143['exists']()&&(currentQuizData={'id':_0x27d143['id'],..._0x27d143[_0x98bb64(0x49b)]()});}catch(_0x5f427c){console[_0x98bb64(0xb1)](_0x98bb64(0x1aa),_0x5f427c);}})());switch(_0x54c9e3[_0x57fa1b(0x4d6)]){case'lobby':if(currentMode===_0x57fa1b(0x2fd)){const _0x2115a5=_0x54c9e3[_0x57fa1b(0x357)]?Object[_0x57fa1b(0xca)](_0x54c9e3['players']):[];document[_0x57fa1b(0x33a)](_0x57fa1b(0x3dc))[_0x57fa1b(0x4fa)]=_0x2115a5['length'],document['getElementById'](_0x57fa1b(0x48a))[_0x57fa1b(0x3dd)]=_0x2115a5[_0x57fa1b(0x500)](_0x4f59e0=>_0x57fa1b(0x2bf)+_0x4f59e0+_0x57fa1b(0x396))['join']('');const _0x29f230=document[_0x57fa1b(0x33a)](_0x57fa1b(0x31b));_0x29f230&&(_0x29f230['disabled']=_0x2115a5['length']===0x0);}else showView(_0x57fa1b(0x45a)),liveGameView[_0x57fa1b(0x3dd)]=_0x57fa1b(0x3d2)+currentStudentName+_0x57fa1b(0xc3);break;case _0x57fa1b(0x4a8):const _0x54e2e2=_0x54c9e3[_0x57fa1b(0x2ba)];if(currentQuizData&&currentQuizData['questions'][_0x54e2e2]){const _0x515b51=currentQuizData[_0x57fa1b(0x177)][_0x54e2e2],_0x40455e=currentQuizData[_0x57fa1b(0x177)]['length'];if(currentMode===_0x57fa1b(0x2fd)){lastRenderedAdminQuestionIndex!==_0x54e2e2&&(showAdminLiveQuestionView(_0x515b51,_0x54e2e2,_0x40455e),lastRenderedAdminQuestionIndex=_0x54e2e2);const _0x99de78=document[_0x57fa1b(0x33a)](_0x57fa1b(0xa5));if(_0x99de78&&_0x54c9e3['players']){const _0x26d769=Object['keys'](_0x54c9e3[_0x57fa1b(0x357)])[_0x57fa1b(0x114)],_0x4c492c=Object[_0x57fa1b(0x4d1)](_0x54c9e3['players'])[_0x57fa1b(0x410)](_0x2b2f64=>_0x2b2f64[_0x57fa1b(0x295)]===!![])[_0x57fa1b(0x114)];_0x99de78[_0x57fa1b(0x4fa)]=_0x4c492c+'/'+_0x26d769,_0x26d769>0x0&&_0x4c492c===_0x26d769&&_0x54c9e3['questionStatus']!==_0x57fa1b(0x374)&&revealAnswerForAdmin(_0x54e2e2,_0x40455e);}}else{const _0x5a19b0=_0x54c9e3[_0x57fa1b(0x357)][currentStudentName];if(_0x54c9e3[_0x57fa1b(0x9b)]==='revealed'){if(_0x5a19b0[_0x57fa1b(0x295)]){const _0x18568e=_0x5a19b0[_0x57fa1b(0xfb)],_0x4d8b7e=_0x5a19b0[_0x57fa1b(0x471)]||0x0,_0x3c9278=_0x18568e?_0x57fa1b(0x1b8)+_0x4d8b7e+_0x57fa1b(0x2d3):_0x57fa1b(0x26b);liveGameView[_0x57fa1b(0x3dd)]=_0x57fa1b(0x1da)+_0x3c9278+_0x57fa1b(0x310);}else liveGameView['innerHTML']=_0x57fa1b(0x20f);}else!_0x5a19b0[_0x57fa1b(0x295)]&&showStudentLiveQuestionView(_0x515b51,_0x54e2e2,_0x40455e);}}break;case'podium':showPodiumView(_0x54c9e3[_0x57fa1b(0x357)]);break;}});}async function authenticateUser(){const _0x35a94d=_0x24b34b;try{typeof __initial_auth_token!==_0x35a94d(0xcb)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x162710){console[_0x35a94d(0xb1)](_0x35a94d(0x3e3),_0x162710),showMessage(_0x35a94d(0x138));}}function showView(_0x57c60a){const _0x109635=_0x24b34b,_0x43b0a1=[_0x109635(0xb6),_0x109635(0x226),_0x109635(0x188),_0x109635(0x199),_0x109635(0x1a4),_0x109635(0x397)];_0x43b0a1['forEach'](_0x286cde=>document['getElementById'](_0x286cde)?.[_0x109635(0x43c)][_0x109635(0x220)](_0x109635(0x377)));if(_0x57c60a===_0x109635(0x17f))adminView[_0x109635(0x43c)][_0x109635(0x4ff)](_0x109635(0x377)),projectDashboardView[_0x109635(0x43c)][_0x109635(0x4ff)]('hidden');else{if(_0x57c60a===_0x109635(0x335))studentView[_0x109635(0x43c)][_0x109635(0x4ff)](_0x109635(0x377)),studentInitialView['classList'][_0x109635(0x4ff)](_0x109635(0x377)),studentNameSelectionView['classList'][_0x109635(0x220)](_0x109635(0x377)),studentQuizArea[_0x109635(0x43c)][_0x109635(0x220)]('hidden'),studentResultArea['classList'][_0x109635(0x220)]('hidden'),studentReadingArea[_0x109635(0x43c)][_0x109635(0x220)](_0x109635(0x377)),studentJoinGameView[_0x109635(0x43c)][_0x109635(0x220)](_0x109635(0x377));else{if(_0x57c60a===_0x109635(0x1d6))adminView[_0x109635(0x43c)][_0x109635(0x4ff)](_0x109635(0x377)),projectDetailView['classList'][_0x109635(0x4ff)](_0x109635(0x377));else{if(_0x57c60a===_0x109635(0xad))adminView[_0x109635(0x43c)][_0x109635(0x4ff)](_0x109635(0x377)),quizResultsView[_0x109635(0x43c)][_0x109635(0x4ff)](_0x109635(0x377));else _0x57c60a===_0x109635(0x45a)&&liveGameView[_0x109635(0x43c)][_0x109635(0x4ff)](_0x109635(0x377));}}}}function showJoinGameView(){const _0x465d11=_0x24b34b;studentInitialView[_0x465d11(0x43c)][_0x465d11(0x220)]('hidden'),studentJoinGameView[_0x465d11(0x43c)]['remove'](_0x465d11(0x377));}function setupEventListeners(){const _0x4bc841=_0x24b34b;document['getElementById'](_0x4bc841(0x1c2))[_0x4bc841(0x1d5)](_0x4bc841(0x139),handleModeSwitch),document[_0x4bc841(0x33a)](_0x4bc841(0x363))[_0x4bc841(0x1d5)]('click',()=>{const _0x27d03=_0x4bc841;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x27d03(0x17f));}),document[_0x4bc841(0x33a)](_0x4bc841(0x3d6))[_0x4bc841(0x1d5)]('click',()=>{const _0x87995a=_0x4bc841;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x87995a(0x1d6));}),document[_0x4bc841(0x33a)](_0x4bc841(0x4ad))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>{const _0x498ef7=_0x4bc841;showView(_0x498ef7(0x17f));}),document[_0x4bc841(0x33a)](_0x4bc841(0x409))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>messageModal[_0x4bc841(0x43c)][_0x4bc841(0x220)](_0x4bc841(0x377))),document[_0x4bc841(0x33a)]('create-project-btn')[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>createProjectModal[_0x4bc841(0x43c)][_0x4bc841(0x4ff)](_0x4bc841(0x377))),document['getElementById'](_0x4bc841(0x4c9))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>createProjectModal['classList'][_0x4bc841(0x220)](_0x4bc841(0x377))),document['getElementById'](_0x4bc841(0x25f))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>adminPasswordModal[_0x4bc841(0x43c)][_0x4bc841(0x220)]('hidden')),document[_0x4bc841(0x33a)](_0x4bc841(0xe7))['addEventListener'](_0x4bc841(0x139),handleAdminLogin),document['getElementById'](_0x4bc841(0x1ce))[_0x4bc841(0x1d5)]('keyup',_0x3187da=>{const _0x4e141f=_0x4bc841;if(_0x3187da[_0x4e141f(0x457)]==='Enter')handleAdminLogin();}),document[_0x4bc841(0x33a)](_0x4bc841(0x309))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>{const _0x47164f=_0x4bc841;confirmationModal[_0x47164f(0x43c)][_0x47164f(0x220)](_0x47164f(0x377)),confirmAction=null;}),document[_0x4bc841(0x33a)](_0x4bc841(0x19a))[_0x4bc841(0x1d5)]('click',()=>{const _0x3f6a46=_0x4bc841;confirmAction&&confirmAction(),confirmationModal[_0x3f6a46(0x43c)][_0x3f6a46(0x220)]('hidden'),confirmAction=null;}),document['getElementById'](_0x4bc841(0x434))['addEventListener']('click',()=>renameQuizModal[_0x4bc841(0x43c)]['add']('hidden')),document[_0x4bc841(0x33a)](_0x4bc841(0x3bf))[_0x4bc841(0x1d5)](_0x4bc841(0x139),confirmRenameQuiz),document[_0x4bc841(0x33a)]('cancel-move-quiz-btn')[_0x4bc841(0x1d5)]('click',()=>moveQuizModal[_0x4bc841(0x43c)][_0x4bc841(0x220)](_0x4bc841(0x377))),document[_0x4bc841(0x33a)](_0x4bc841(0x4b3))['addEventListener'](_0x4bc841(0x139),confirmMoveQuiz),document[_0x4bc841(0x33a)](_0x4bc841(0x19b))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>quizSettingsModal[_0x4bc841(0x43c)][_0x4bc841(0x220)]('hidden')),document['getElementById'](_0x4bc841(0x4af))[_0x4bc841(0x1d5)](_0x4bc841(0x139),confirmQuizSettings),document[_0x4bc841(0x33a)](_0x4bc841(0x92))[_0x4bc841(0x1d5)]('click',()=>quizStatusModal['classList']['add']('hidden')),document[_0x4bc841(0x33a)]('confirm-quiz-status-btn')[_0x4bc841(0x1d5)]('click',confirmQuizStatus),document['getElementById'](_0x4bc841(0x43f))[_0x4bc841(0x1d5)](_0x4bc841(0x139),openGlobalLiveModal),document[_0x4bc841(0x33a)](_0x4bc841(0x1c1))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>{const _0x39ef98=_0x4bc841;document[_0x39ef98(0x33a)]('global-live-game-modal')[_0x39ef98(0x43c)]['add'](_0x39ef98(0x377)),selectedGlobalQuizId=null;}),document[_0x4bc841(0x33a)](_0x4bc841(0x4e4))[_0x4bc841(0x1d5)](_0x4bc841(0x235),_0x5101c0=>renderGlobalQuizList(_0x5101c0['target']['value'])),document[_0x4bc841(0x33a)](_0x4bc841(0x355))['addEventListener'](_0x4bc841(0x139),()=>{const _0xc9f2c0=_0x4bc841,_0x5d876c=selectedGlobalQuizId;if(!_0x5d876c)return;document['getElementById'](_0xc9f2c0(0x27b))['classList'][_0xc9f2c0(0x220)](_0xc9f2c0(0x377)),handleStartLiveRace(_0x5d876c);}),document['getElementById']('project-search-input')[_0x4bc841(0x1d5)](_0x4bc841(0x235),renderProjects),document['getElementById'](_0x4bc841(0x37b))['addEventListener']('change',renderProjects),document[_0x4bc841(0x33a)](_0x4bc841(0x516))[_0x4bc841(0x1d5)](_0x4bc841(0x235),renderQuizzes),manageTab[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>switchProjectTab(_0x4bc841(0x32d))),resultsTab['addEventListener'](_0x4bc841(0x139),()=>switchProjectTab(_0x4bc841(0x132))),leaderboardTab[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>switchProjectTab(_0x4bc841(0x34f))),document[_0x4bc841(0x33a)](_0x4bc841(0x41c))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>switchQuizDetailTab(_0x4bc841(0x2f2))),document['getElementById']('scores-tab-btn')[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>switchQuizDetailTab('scores')),document[_0x4bc841(0x33a)](_0x4bc841(0x483))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>switchQuizDetailTab(_0x4bc841(0x27a))),document['getElementById'](_0x4bc841(0x15d))[_0x4bc841(0x1d5)]('click',handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x4bc841(0x139),generateWorksheet);const _0x43dcfb=document[_0x4bc841(0x33a)](_0x4bc841(0x247)),_0x1a4561=document[_0x4bc841(0x33a)](_0x4bc841(0x3d5));topicTab['addEventListener']('click',()=>{const _0x31e443=_0x4bc841;topicTab[_0x31e443(0x43c)][_0x31e443(0x220)](_0x31e443(0x3b3)),textTab[_0x31e443(0x43c)]['remove']('active'),fileTab['classList'][_0x31e443(0x4ff)]('active'),worksheetTab[_0x31e443(0x43c)]['remove'](_0x31e443(0x3b3));if(_0x43dcfb)_0x43dcfb[_0x31e443(0x43c)][_0x31e443(0x4ff)](_0x31e443(0x3b3));topicInputArea[_0x31e443(0x43c)][_0x31e443(0x4ff)]('hidden'),textInputArea[_0x31e443(0x43c)][_0x31e443(0x220)](_0x31e443(0x377)),fileInputArea[_0x31e443(0x43c)][_0x31e443(0x220)](_0x31e443(0x377)),worksheetInputArea[_0x31e443(0x43c)][_0x31e443(0x220)](_0x31e443(0x377));if(_0x1a4561)_0x1a4561[_0x31e443(0x43c)][_0x31e443(0x220)](_0x31e443(0x377));}),textTab[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>{const _0x5aa39c=_0x4bc841;textTab[_0x5aa39c(0x43c)][_0x5aa39c(0x220)](_0x5aa39c(0x3b3)),topicTab[_0x5aa39c(0x43c)]['remove'](_0x5aa39c(0x3b3)),fileTab[_0x5aa39c(0x43c)]['remove'](_0x5aa39c(0x3b3)),worksheetTab[_0x5aa39c(0x43c)][_0x5aa39c(0x4ff)](_0x5aa39c(0x3b3));if(_0x43dcfb)_0x43dcfb[_0x5aa39c(0x43c)][_0x5aa39c(0x4ff)](_0x5aa39c(0x3b3));textInputArea[_0x5aa39c(0x43c)][_0x5aa39c(0x4ff)](_0x5aa39c(0x377)),topicInputArea[_0x5aa39c(0x43c)][_0x5aa39c(0x220)](_0x5aa39c(0x377)),fileInputArea[_0x5aa39c(0x43c)]['add'](_0x5aa39c(0x377)),worksheetInputArea[_0x5aa39c(0x43c)][_0x5aa39c(0x220)](_0x5aa39c(0x377));if(_0x1a4561)_0x1a4561[_0x5aa39c(0x43c)]['add'](_0x5aa39c(0x377));}),fileTab[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>{const _0x5d67f3=_0x4bc841;fileTab[_0x5d67f3(0x43c)][_0x5d67f3(0x220)](_0x5d67f3(0x3b3)),topicTab[_0x5d67f3(0x43c)][_0x5d67f3(0x4ff)](_0x5d67f3(0x3b3)),textTab[_0x5d67f3(0x43c)][_0x5d67f3(0x4ff)](_0x5d67f3(0x3b3)),worksheetTab[_0x5d67f3(0x43c)][_0x5d67f3(0x4ff)](_0x5d67f3(0x3b3));if(_0x43dcfb)_0x43dcfb[_0x5d67f3(0x43c)][_0x5d67f3(0x4ff)](_0x5d67f3(0x3b3));fileInputArea[_0x5d67f3(0x43c)][_0x5d67f3(0x4ff)](_0x5d67f3(0x377)),topicInputArea[_0x5d67f3(0x43c)][_0x5d67f3(0x220)](_0x5d67f3(0x377)),textInputArea[_0x5d67f3(0x43c)][_0x5d67f3(0x220)](_0x5d67f3(0x377)),worksheetInputArea['classList']['add'](_0x5d67f3(0x377));if(_0x1a4561)_0x1a4561['classList'][_0x5d67f3(0x220)](_0x5d67f3(0x377));}),worksheetTab[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>{const _0x53eb63=_0x4bc841;worksheetTab[_0x53eb63(0x43c)][_0x53eb63(0x220)](_0x53eb63(0x3b3)),topicTab[_0x53eb63(0x43c)][_0x53eb63(0x4ff)](_0x53eb63(0x3b3)),textTab['classList'][_0x53eb63(0x4ff)]('active'),fileTab[_0x53eb63(0x43c)][_0x53eb63(0x4ff)](_0x53eb63(0x3b3));if(_0x43dcfb)_0x43dcfb['classList'][_0x53eb63(0x4ff)](_0x53eb63(0x3b3));worksheetInputArea[_0x53eb63(0x43c)][_0x53eb63(0x4ff)](_0x53eb63(0x377)),topicInputArea[_0x53eb63(0x43c)][_0x53eb63(0x220)]('hidden'),textInputArea[_0x53eb63(0x43c)][_0x53eb63(0x220)](_0x53eb63(0x377)),fileInputArea['classList'][_0x53eb63(0x220)]('hidden');if(_0x1a4561)_0x1a4561['classList'][_0x53eb63(0x220)](_0x53eb63(0x377));});const _0x5a8583=document[_0x4bc841(0x33a)](_0x4bc841(0xfa)),_0x39b251=document['getElementById']('bank-input-area');_0x5a8583&&_0x5a8583[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>{const _0x4729ce=_0x4bc841;topicTab[_0x4729ce(0x43c)][_0x4729ce(0x4ff)](_0x4729ce(0x3b3)),textTab['classList']['remove'](_0x4729ce(0x3b3)),fileTab[_0x4729ce(0x43c)][_0x4729ce(0x4ff)]('active'),worksheetTab[_0x4729ce(0x43c)][_0x4729ce(0x4ff)](_0x4729ce(0x3b3));if(_0x43dcfb)_0x43dcfb['classList'][_0x4729ce(0x4ff)]('active');_0x5a8583[_0x4729ce(0x43c)][_0x4729ce(0x220)]('active'),topicInputArea[_0x4729ce(0x43c)][_0x4729ce(0x220)](_0x4729ce(0x377)),textInputArea['classList'][_0x4729ce(0x220)](_0x4729ce(0x377)),fileInputArea[_0x4729ce(0x43c)]['add'](_0x4729ce(0x377)),worksheetInputArea[_0x4729ce(0x43c)][_0x4729ce(0x220)](_0x4729ce(0x377));if(_0x1a4561)_0x1a4561[_0x4729ce(0x43c)]['add'](_0x4729ce(0x377));_0x39b251[_0x4729ce(0x43c)][_0x4729ce(0x4ff)](_0x4729ce(0x377)),displayQuestionBank();});_0x43dcfb&&(_0x43dcfb[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>{const _0x2b9392=_0x4bc841;topicTab[_0x2b9392(0x43c)][_0x2b9392(0x4ff)](_0x2b9392(0x3b3)),textTab[_0x2b9392(0x43c)][_0x2b9392(0x4ff)](_0x2b9392(0x3b3)),fileTab['classList'][_0x2b9392(0x4ff)](_0x2b9392(0x3b3)),worksheetTab[_0x2b9392(0x43c)][_0x2b9392(0x4ff)](_0x2b9392(0x3b3)),_0x43dcfb['classList'][_0x2b9392(0x220)](_0x2b9392(0x3b3)),topicInputArea[_0x2b9392(0x43c)][_0x2b9392(0x220)]('hidden'),textInputArea[_0x2b9392(0x43c)][_0x2b9392(0x220)](_0x2b9392(0x377)),fileInputArea['classList'][_0x2b9392(0x220)](_0x2b9392(0x377)),worksheetInputArea[_0x2b9392(0x43c)][_0x2b9392(0x220)](_0x2b9392(0x377)),_0x1a4561['classList']['remove'](_0x2b9392(0x377));}),document[_0x4bc841(0x33a)](_0x4bc841(0x167))[_0x4bc841(0x1d5)](_0x4bc841(0x139),handleGenerateFromLink));loadQuizBtn['addEventListener'](_0x4bc841(0x139),handleLoadQuiz),startQuizBtn['addEventListener'](_0x4bc841(0x139),()=>{const _0x24c4be=_0x4bc841,_0xa4b1b5=document['getElementById'](_0x24c4be(0x41f));currentStudentName=_0xa4b1b5[_0x24c4be(0x4bb)];if(!currentStudentName){showMessage(_0x24c4be(0x4f6));return;}studentNameSelectionView[_0x24c4be(0x43c)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x4bc841(0xd7))[_0x4bc841(0x1d5)](_0x4bc841(0x139),showJoinGameView),document['getElementById']('confirm-join-game-btn')[_0x4bc841(0x1d5)](_0x4bc841(0x139),handleJoinLiveGame),document[_0x4bc841(0x33a)]('back-to-student-initial-btn')[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>showView(_0x4bc841(0x335)));const _0x338f7b=()=>{const _0x5d44f4=_0x4bc841,_0x2ce254=document[_0x5d44f4(0x33a)]('results-quiz-title')[_0x5d44f4(0x4fa)][_0x5d44f4(0x48b)](/[^a-z0-9]/gi,'_')[_0x5d44f4(0x294)]();return _0x5d44f4(0x111)+(_0x2ce254||_0x5d44f4(0x414));};document[_0x4bc841(0x33a)](_0x4bc841(0x41b))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>exportTableAsImage(_0x4bc841(0x356),_0x338f7b())),document[_0x4bc841(0x33a)](_0x4bc841(0x3ab))['addEventListener']('click',()=>exportTableAsPDF('results-table',_0x338f7b())),document[_0x4bc841(0x33a)](_0x4bc841(0x3a9))['addEventListener'](_0x4bc841(0x139),()=>exportTableAsWord('results-table-container',_0x338f7b())),document[_0x4bc841(0x33a)]('export-excel-btn')[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>exportTableAsExcel(_0x4bc841(0x51a),_0x338f7b()));const _0x183b9f=()=>{const _0x4a623e=_0x4bc841,_0x316371=document['getElementById'](_0x4a623e(0x100))['textContent'][_0x4a623e(0x48b)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'leaderboard_'+(_0x316371||_0x4a623e(0x414));};document[_0x4bc841(0x33a)](_0x4bc841(0x376))['addEventListener'](_0x4bc841(0x139),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x183b9f())),document[_0x4bc841(0x33a)](_0x4bc841(0x39a))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>exportTableAsPDF(_0x4bc841(0x32e),_0x183b9f())),document[_0x4bc841(0x33a)](_0x4bc841(0x422))[_0x4bc841(0x1d5)]('click',()=>exportTableAsWord('quiz-leaderboard-table-container',_0x183b9f())),document[_0x4bc841(0x33a)]('export-leaderboard-excel-btn')['addEventListener'](_0x4bc841(0x139),()=>exportTableAsExcel(_0x4bc841(0x32e),_0x183b9f())),projectQuizzesList[_0x4bc841(0x1d5)](_0x4bc841(0x139),async _0x3ac334=>{const _0x18174f=_0x4bc841,_0x2260a1=_0x3ac334[_0x18174f(0xb3)][_0x18174f(0x3d1)](_0x18174f(0x1a6)),_0x13a5c3=_0x3ac334[_0x18174f(0xb3)][_0x18174f(0x3d1)](_0x18174f(0x211)),_0x12f710=_0x3ac334[_0x18174f(0xb3)][_0x18174f(0x3d1)](_0x18174f(0x47a)),_0x51695a=_0x3ac334['target'][_0x18174f(0x3d1)](_0x18174f(0x3aa)),_0x4749f8=_0x3ac334[_0x18174f(0xb3)]['closest'](_0x18174f(0x485)),_0x1bbc61=_0x3ac334[_0x18174f(0xb3)][_0x18174f(0x3d1)]('.rename-quiz-btn'),_0x21055e=_0x3ac334[_0x18174f(0xb3)][_0x18174f(0x3d1)]('.move-quiz-btn'),_0x3c036f=_0x3ac334['target'][_0x18174f(0x3d1)]('.quiz-settings-btn'),_0x52e90e=_0x3ac334['target'][_0x18174f(0x3d1)](_0x18174f(0x2b7)),_0x22b0e4=_0x3ac334[_0x18174f(0xb3)][_0x18174f(0x3d1)](_0x18174f(0x482)),_0x262f25=_0x3ac334['target'][_0x18174f(0x3d1)](_0x18174f(0x26c)),_0x495dca=_0x3ac334[_0x18174f(0xb3)][_0x18174f(0x3d1)](_0x18174f(0x2a4));if(_0x495dca){const _0x5efa8e=_0x495dca[_0x18174f(0x3f5)][_0x18174f(0x390)];handleOpenQuizEditor(_0x5efa8e);}else{if(_0x2260a1){const _0x174859=_0x2260a1['dataset']['quizId'];handleToggleStarQuiz(_0x174859);}else{if(_0x262f25){const _0x1c9cf1=_0x262f25[_0x18174f(0x3f5)][_0x18174f(0x390)];handleStartLiveRace(_0x1c9cf1);}else{if(_0x13a5c3){const _0x168dd2=_0x13a5c3[_0x18174f(0x3f5)][_0x18174f(0x390)],_0x51db01=_0x13a5c3[_0x18174f(0x3f5)][_0x18174f(0x140)];showConfirmation(_0x18174f(0x4c8)+_0x51db01+'\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x168dd2));}else{if(_0x12f710){const _0xf0efab=_0x12f710[_0x18174f(0x3f5)][_0x18174f(0x390)];copyTextToClipboard(_0xf0efab,_0x18174f(0x3cc));}else{if(_0x51695a){const _0x543119=_0x51695a[_0x18174f(0x3f5)][_0x18174f(0x390)],_0x265ed5=doc(db,_0x18174f(0x202)+appId+'/public/data/quizzes',_0x543119),_0x4073de=await getDoc(_0x265ed5);if(_0x4073de[_0x18174f(0x266)]()){const _0x366037={'id':_0x4073de['id'],..._0x4073de[_0x18174f(0x49b)]()};startPresentation(_0x366037);}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x4749f8){const _0x53a23b=_0x4749f8[_0x18174f(0x3f5)][_0x18174f(0x390)],_0x4f957e=doc(db,_0x18174f(0x202)+appId+_0x18174f(0x20a),_0x53a23b),_0x4d6c62=await getDoc(_0x4f957e);_0x4d6c62['exists']()?(currentQuizData={'id':_0x4d6c62['id'],..._0x4d6c62[_0x18174f(0x49b)]()},startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');}else{if(_0x1bbc61){const _0x3f7978=_0x1bbc61['dataset']['quizId'],_0x321eec=_0x1bbc61[_0x18174f(0x3f5)][_0x18174f(0x140)];handleRenameQuiz(_0x3f7978,_0x321eec);}else{if(_0x21055e){const _0x242f29=_0x21055e[_0x18174f(0x3f5)][_0x18174f(0x390)];handleMoveQuiz(_0x242f29);}else{if(_0x3c036f){const _0x5a3bfa=_0x3c036f[_0x18174f(0x3f5)][_0x18174f(0x390)];handleQuizSettings(_0x5a3bfa);}else{if(_0x52e90e){const _0x5c84f6=_0x52e90e[_0x18174f(0x3f5)][_0x18174f(0x390)];handleQuizStatus(_0x5c84f6);}else{if(_0x22b0e4){const _0x30338e=_0x22b0e4[_0x18174f(0x3f5)]['quizId'];handleDuplicateQuiz(_0x30338e);}}}}}}}}}}}}}),document[_0x4bc841(0x33a)](_0x4bc841(0x32e))[_0x4bc841(0xe5)](_0x4bc841(0x4e0))[_0x4bc841(0x1d5)](_0x4bc841(0x139),_0x15914e=>{const _0xbf76f8=_0x4bc841,_0x123448=_0x15914e[_0xbf76f8(0xb3)][_0xbf76f8(0x3d1)](_0xbf76f8(0x2a8));if(!_0x123448||!_0x123448[_0xbf76f8(0x3f5)][_0xbf76f8(0x1c4)])return;const _0x9e2c86=_0x123448[_0xbf76f8(0x3f5)]['sort'];if(quizLeaderboardSortBy===_0x9e2c86)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0xbf76f8(0x27f)?_0xbf76f8(0x11f):_0xbf76f8(0x27f);else{quizLeaderboardSortBy=_0x9e2c86;const _0x481c28=[_0xbf76f8(0x415)];quizLeaderboardSortOrder=_0x481c28['includes'](_0x9e2c86)?'asc':_0xbf76f8(0x11f);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0xbf76f8(0x346));}),document[_0x4bc841(0x33a)](_0x4bc841(0x436))[_0x4bc841(0x1d5)](_0x4bc841(0x139),closePresentation),document[_0x4bc841(0x33a)](_0x4bc841(0x193))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x4bc841(0x33a)]('next-question-btn')['addEventListener'](_0x4bc841(0x139),()=>{const _0x27e360=_0x4bc841;currentQuizData[_0x27e360(0x177)]&&currentPresentationSlide<currentQuizData[_0x27e360(0x177)][_0x27e360(0x114)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x4bc841(0x1d5)]('fullscreenchange',()=>{const _0x2055e0=_0x4bc841;!document[_0x2055e0(0x23c)]&&(presentationModal[_0x2055e0(0x1c0)][_0x2055e0(0x502)]=_0x2055e0(0xd3));}),document[_0x4bc841(0x33a)](_0x4bc841(0x37a))[_0x4bc841(0x1d5)](_0x4bc841(0x139),handleDeleteAllStudents),studentList[_0x4bc841(0x1d5)]('click',_0x55c1e1=>{const _0x37c3bf=_0x4bc841,_0x4ccf22=_0x55c1e1[_0x37c3bf(0xb3)]['closest'](_0x37c3bf(0x16c));if(_0x4ccf22){const _0x27c237=_0x4ccf22[_0x37c3bf(0x3f5)]['studentName'];handleDeleteStudent(_0x27c237);}}),document[_0x4bc841(0x33a)](_0x4bc841(0x4b5))[_0x4bc841(0x1d5)](_0x4bc841(0x139),handleGenerateFromFileClick),fileUploadInput[_0x4bc841(0x1d5)](_0x4bc841(0x40e),_0x46f6a1=>{const _0x3a3e1f=_0x4bc841,_0xc84a07=_0x46f6a1[_0x3a3e1f(0xb3)][_0x3a3e1f(0x35e)][0x0],_0x10ee4c=document[_0x3a3e1f(0x33a)](_0x3a3e1f(0x4b5));_0xc84a07?(selectedFile=_0xc84a07,_0x10ee4c[_0x3a3e1f(0x308)]=![]):(selectedFile=null,_0x10ee4c['disabled']=!![]);}),document[_0x4bc841(0x33a)](_0x4bc841(0x3ec))[_0x4bc841(0x1d5)](_0x4bc841(0x40e),_0x2746f1=>{const _0xc7d426=_0x4bc841,_0x208e76=document[_0xc7d426(0x33a)]('timer-duration-container'),_0x4cb087=document[_0xc7d426(0x33a)](_0xc7d426(0xbb)),_0x3623bc=document[_0xc7d426(0x33a)](_0xc7d426(0x248));_0x2746f1[_0xc7d426(0xb3)]['value']===_0xc7d426(0xd3)?_0x208e76[_0xc7d426(0x43c)][_0xc7d426(0x220)](_0xc7d426(0x377)):(_0x208e76[_0xc7d426(0x43c)][_0xc7d426(0x4ff)](_0xc7d426(0x377)),_0x2746f1['target']['value']==='whole_quiz'?(_0x4cb087[_0xc7d426(0x4fa)]=_0xc7d426(0x234),_0x3623bc[_0xc7d426(0x4bb)]='10'):(_0x4cb087['textContent']=_0xc7d426(0x305),_0x3623bc[_0xc7d426(0x4bb)]='30'));}),document[_0x4bc841(0x33a)](_0x4bc841(0xf8))[_0x4bc841(0x1d5)](_0x4bc841(0x40e),_0x3e63a0=>{const _0x153c52=_0x4bc841,_0x40f93a=document[_0x153c52(0x33a)](_0x153c52(0x499)),_0x4fb094=_0x3e63a0[_0x153c52(0xb3)][_0x153c52(0x4bb)],_0xa641cd=document['querySelector'](_0x153c52(0x1b1)),_0x323c58=document[_0x153c52(0x33a)](_0x153c52(0x46e)),_0x1ea622=document[_0x153c52(0x33a)](_0x153c52(0x324));_0x4fb094===_0x153c52(0x4f7)?_0xa641cd[_0x153c52(0x4fa)]=_0x153c52(0x399):_0xa641cd[_0x153c52(0x4fa)]=_0x153c52(0x18d),_0x4fb094===_0x153c52(0x2f4)||_0x4fb094===_0x153c52(0x4a5)||_0x4fb094===_0x153c52(0x50c)?_0x40f93a[_0x153c52(0x43c)][_0x153c52(0x4ff)](_0x153c52(0x377)):_0x40f93a['classList'][_0x153c52(0x220)](_0x153c52(0x377)),_0x323c58[_0x153c52(0x31d)]=_0x1ea622[_0x153c52(0x4bb)];}),document['getElementById'](_0x4bc841(0x324))[_0x4bc841(0x1d5)]('input',_0x148cad=>{const _0x5a6f1c=_0x4bc841;document[_0x5a6f1c(0x33a)]('passing-score-input')['max']=_0x148cad['target'][_0x5a6f1c(0x4bb)];}),document['getElementById'](_0x4bc841(0x28d))[_0x4bc841(0x1d5)]('change',_0x4fd657=>{const _0x4b99bf=_0x4bc841,_0x25c235=document[_0x4b99bf(0x33a)](_0x4b99bf(0x317)),_0x500938=document[_0x4b99bf(0x33a)](_0x4b99bf(0x444)),_0xd4233e=document['getElementById'](_0x4b99bf(0x4bd));_0x4fd657['target']['value']===_0x4b99bf(0xd3)?_0x25c235[_0x4b99bf(0x43c)][_0x4b99bf(0x220)]('hidden'):(_0x25c235[_0x4b99bf(0x43c)][_0x4b99bf(0x4ff)](_0x4b99bf(0x377)),_0x4fd657['target'][_0x4b99bf(0x4bb)]===_0x4b99bf(0x4ed)?_0x500938[_0x4b99bf(0x4fa)]=_0x4b99bf(0x234):_0x500938[_0x4b99bf(0x4fa)]=_0x4b99bf(0x305));}),document[_0x4bc841(0x33a)]('cancel-quiz-edits-btn')[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>{const _0x4e97c2=_0x4bc841;document[_0x4e97c2(0x33a)](_0x4e97c2(0x289))[_0x4e97c2(0x43c)][_0x4e97c2(0x220)](_0x4e97c2(0x377));}),document[_0x4bc841(0x33a)](_0x4bc841(0x123))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>{const _0x27c01e=_0x4bc841;document[_0x27c01e(0x33a)](_0x27c01e(0x289))[_0x27c01e(0x43c)][_0x27c01e(0x220)](_0x27c01e(0x377));}),document[_0x4bc841(0x33a)](_0x4bc841(0x39e))[_0x4bc841(0x1d5)](_0x4bc841(0x139),()=>{const _0x1bc420=_0x4bc841;document[_0x1bc420(0x33a)](_0x1bc420(0x289))[_0x1bc420(0x43c)][_0x1bc420(0x220)]('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);});}function handleModeSwitch(){const _0x376552=_0x24b34b,_0x537c8e=document[_0x376552(0x33a)]('mode-switcher-btn');currentMode===_0x376552(0x335)?(adminPasswordModal[_0x376552(0x43c)][_0x376552(0x4ff)](_0x376552(0x377)),document[_0x376552(0x33a)]('admin-password-input')['focus']()):(currentMode='student',_0x537c8e[_0x376552(0x3dd)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x537c8e['title']=_0x376552(0x338),showView(_0x376552(0x335)));}function handleAdminLogin(){const _0x297a54=_0x24b34b,_0x3d9ab1=document[_0x297a54(0x33a)]('admin-password-input'),_0x394608=document[_0x297a54(0x33a)](_0x297a54(0x131));if(_0x3d9ab1[_0x297a54(0x4bb)]===_0x297a54(0x402)){adminPasswordModal['classList'][_0x297a54(0x220)](_0x297a54(0x377)),_0x3d9ab1['value']='',_0x394608[_0x297a54(0x43c)][_0x297a54(0x220)](_0x297a54(0x377)),currentMode=_0x297a54(0x2fd);const _0x54a525=document[_0x297a54(0x33a)](_0x297a54(0x1c2));_0x54a525[_0x297a54(0x3dd)]=_0x297a54(0x1ee),_0x54a525[_0x297a54(0x365)]=_0x297a54(0x4e9),showView(_0x297a54(0x17f));}else _0x394608[_0x297a54(0x43c)][_0x297a54(0x4ff)](_0x297a54(0x377)),_0x3d9ab1[_0x297a54(0x4bb)]='';}function switchProjectTab(_0xfecda3){const _0xd084e4=_0x24b34b;[_0xd084e4(0x32d),'results','leaderboard'][_0xd084e4(0x426)](_0x586f91=>{const _0x13c7b6=_0xd084e4;document[_0x13c7b6(0x33a)](_0x586f91+_0x13c7b6(0x3c8))[_0x13c7b6(0x43c)][_0x13c7b6(0x4ff)](_0x13c7b6(0x3b3)),document[_0x13c7b6(0x33a)](_0x586f91+_0x13c7b6(0x1ed))[_0x13c7b6(0x43c)]['add'](_0x13c7b6(0x377));}),document[_0xd084e4(0x33a)](_0xfecda3+'-tab')[_0xd084e4(0x43c)][_0xd084e4(0x220)](_0xd084e4(0x3b3)),document['getElementById'](_0xfecda3+_0xd084e4(0x1ed))['classList']['remove'](_0xd084e4(0x377));}function switchQuizDetailTab(_0x554f83){const _0x5b3a0e=_0x24b34b,_0x1bb77e={'analytics':{'btn':'analytics-tab-btn','content':_0x5b3a0e(0x44d)},'scores':{'btn':_0x5b3a0e(0x3c6),'content':_0x5b3a0e(0x1be)},'leaderboard-quiz':{'btn':_0x5b3a0e(0x483),'content':_0x5b3a0e(0x16a)}};for(const _0x34ec3c in _0x1bb77e){document[_0x5b3a0e(0x33a)](_0x1bb77e[_0x34ec3c][_0x5b3a0e(0x1e9)])[_0x5b3a0e(0x43c)][_0x5b3a0e(0x4ff)](_0x5b3a0e(0x3b3)),document['getElementById'](_0x1bb77e[_0x34ec3c][_0x5b3a0e(0x4cd)])['classList']['add'](_0x5b3a0e(0x377));}document[_0x5b3a0e(0x33a)](_0x1bb77e[_0x554f83][_0x5b3a0e(0x1e9)])[_0x5b3a0e(0x43c)]['add'](_0x5b3a0e(0x3b3)),document['getElementById'](_0x1bb77e[_0x554f83][_0x5b3a0e(0x4cd)])[_0x5b3a0e(0x43c)][_0x5b3a0e(0x4ff)](_0x5b3a0e(0x377));}function showMessage(_0x346200){const _0x58380d=_0x24b34b;modalMessage[_0x58380d(0x4fa)]=_0x346200,messageModal[_0x58380d(0x43c)][_0x58380d(0x4ff)](_0x58380d(0x377));}function showConfirmation(_0x34e2a4,_0x3668f5){const _0x33843f=_0x24b34b;document['getElementById'](_0x33843f(0x284))[_0x33843f(0x4fa)]=_0x34e2a4,document[_0x33843f(0x33a)](_0x33843f(0x51c))[_0x33843f(0xe5)]('h3')[_0x33843f(0x4fa)]=_0x33843f(0x27c),confirmAction=_0x3668f5,confirmationModal[_0x33843f(0x43c)][_0x33843f(0x4ff)](_0x33843f(0x377));}function listenForProjects(){const _0x1a9703=_0x24b34b,_0x3cdc16=collection(db,_0x1a9703(0x202)+appId+_0x1a9703(0x30b));unsubscribeProjectsListener=onSnapshot(_0x3cdc16,_0x5c1a40=>{const _0x417819=_0x1a9703;allProjects=_0x5c1a40['docs'][_0x417819(0x500)](_0x4e94ca=>({'id':_0x4e94ca['id'],..._0x4e94ca[_0x417819(0x49b)]()})),renderProjects();},_0x169548=>{const _0x34c876=_0x1a9703;console[_0x34c876(0xb1)](_0x34c876(0x3f9),_0x169548),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}async function renderProjects(){const _0x418f53=_0x24b34b,_0x4439e4=document[_0x418f53(0x33a)]('project-search-input')[_0x418f53(0x4bb)][_0x418f53(0x294)](),_0x22e72b=document[_0x418f53(0x33a)]('project-sort-select')['value'];let _0x41fb9a=allProjects[_0x418f53(0x410)](_0x475043=>_0x475043[_0x418f53(0x439)][_0x418f53(0x294)]()[_0x418f53(0x102)](_0x4439e4));_0x41fb9a[_0x418f53(0x1c4)]((_0x16f914,_0x346625)=>{const _0x1ad951=_0x418f53;switch(_0x22e72b){case _0x1ad951(0x4a2):return _0x16f914['projectName'][_0x1ad951(0x27d)](_0x346625[_0x1ad951(0x439)],'th');case'name_desc':return _0x346625[_0x1ad951(0x439)]['localeCompare'](_0x16f914[_0x1ad951(0x439)],'th');case _0x1ad951(0x4f3):return new Date(_0x16f914[_0x1ad951(0x352)])-new Date(_0x346625[_0x1ad951(0x352)]);case _0x1ad951(0x257):default:return new Date(_0x346625[_0x1ad951(0x352)])-new Date(_0x16f914[_0x1ad951(0x352)]);}});const _0xc7204f={};await Promise['all'](_0x41fb9a[_0x418f53(0x500)](async _0x37fe78=>{const _0x1f72a1=_0x418f53,_0x4b6fd3=query(collection(db,_0x1f72a1(0x202)+appId+_0x1f72a1(0x20a)),where(_0x1f72a1(0x34e),'==',_0x37fe78['id'])),_0x25f497=await getDocs(_0x4b6fd3);_0xc7204f[_0x37fe78['id']]=_0x25f497[_0x1f72a1(0x26d)];}));let _0x412622='';starredQuizzes[_0x418f53(0x114)]>0x0&&(_0x412622+=_0x418f53(0x2a6)+starredQuizzes[_0x418f53(0x114)]+_0x418f53(0x210)),_0x41fb9a[_0x418f53(0x426)](_0x5cb191=>{const _0x13622d=_0x418f53,_0x4785af=_0xc7204f[_0x5cb191['id']]??0x0;_0x412622+=_0x13622d(0x11d)+_0x5cb191['id']+_0x13622d(0x11a)+_0x5cb191[_0x13622d(0x439)]+_0x13622d(0x1a5)+new Date(_0x5cb191[_0x13622d(0x352)])[_0x13622d(0x18e)](_0x13622d(0xa6))+_0x13622d(0x107)+_0x4785af+_0x13622d(0x320)+_0x5cb191['id']+_0x13622d(0x196)+_0x5cb191[_0x13622d(0x439)]+_0x13622d(0x3f3);}),projectList['innerHTML']=_0x412622,noProjectsMsg[_0x418f53(0x43c)][_0x418f53(0x495)]('hidden',_0x412622[_0x418f53(0x114)]>0x0);}document['getElementById'](_0x24b34b(0x47b))['addEventListener']('click',async()=>{const _0x39117e=_0x24b34b,_0x42963d=document[_0x39117e(0x33a)](_0x39117e(0x137)),_0x20a803=_0x42963d['value'][_0x39117e(0x4c4)]();if(!_0x20a803){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x2ff36a=doc(collection(db,_0x39117e(0x202)+appId+'/public/data/projects'));await setDoc(_0x2ff36a,{'projectName':_0x20a803,'students':[],'settings':{'resultsDisplay':_0x39117e(0x31f),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x39117e(0xd3),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0x39117e(0xbd)]()}),_0x42963d[_0x39117e(0x4bb)]='',createProjectModal[_0x39117e(0x43c)][_0x39117e(0x220)]('hidden'),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x19574e){console['error'](_0x39117e(0x451),_0x19574e),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x24b34b(0x1d5)](_0x24b34b(0x139),async _0x58aca2=>{const _0x53eddb=_0x24b34b,_0x216bd9=_0x58aca2[_0x53eddb(0xb3)][_0x53eddb(0x3d1)](_0x53eddb(0x2aa)),_0x3b8331=_0x58aca2[_0x53eddb(0xb3)][_0x53eddb(0x3d1)](_0x53eddb(0xa4));if(_0x216bd9){const _0x4255be=_0x216bd9[_0x53eddb(0x3f5)]['id'];_0x4255be==='starred-project'?showStarredProjectView():(currentProjectId=_0x4255be,await loadProjectDetails(currentProjectId),showView(_0x53eddb(0x1d6)));}else{if(_0x3b8331){const _0x31f05c=_0x3b8331[_0x53eddb(0x3f5)]['id'],_0x2412a3=_0x3b8331['dataset'][_0x53eddb(0x2f0)];showConfirmation(_0x53eddb(0x1dc)+_0x2412a3+_0x53eddb(0x4ee),()=>handleDeleteProject(_0x31f05c));}}});function showStarredProjectView(){const _0x5ab9d6=_0x24b34b;currentProjectId='starred',currentProjectData=null,projectTitle['textContent']=_0x5ab9d6(0xd2),projectIdDisplay[_0x5ab9d6(0x4fa)]=_0x5ab9d6(0xf3),showView('project-detail'),manageTab['classList']['add'](_0x5ab9d6(0x377)),leaderboardTab[_0x5ab9d6(0x43c)][_0x5ab9d6(0x220)](_0x5ab9d6(0x377)),switchProjectTab(_0x5ab9d6(0x132)),renderQuizzes();}async function loadProjectDetails(_0x507301){const _0x4bc9cf=_0x24b34b,_0x296d5c=doc(db,_0x4bc9cf(0x202)+appId+_0x4bc9cf(0x30b),_0x507301),_0x25b3b1=await getDoc(_0x296d5c);if(_0x25b3b1[_0x4bc9cf(0x266)]()){manageTab[_0x4bc9cf(0x43c)][_0x4bc9cf(0x4ff)](_0x4bc9cf(0x377)),leaderboardTab[_0x4bc9cf(0x43c)][_0x4bc9cf(0x4ff)](_0x4bc9cf(0x377)),currentProjectData=_0x25b3b1[_0x4bc9cf(0x49b)](),projectTitle[_0x4bc9cf(0x4fa)]=currentProjectData[_0x4bc9cf(0x439)],projectIdDisplay['textContent']=_0x507301;const _0x376dc4=currentProjectData[_0x4bc9cf(0x4fc)]||{};document['getElementById']('num-questions')[_0x4bc9cf(0x4bb)]=_0x376dc4[_0x4bc9cf(0x4d8)]||0x5,document[_0x4bc9cf(0x33a)](_0x4bc9cf(0x370))[_0x4bc9cf(0x4bb)]=_0x376dc4['defaultNumChoices']||0x4,document[_0x4bc9cf(0x33a)]('passing-score-input')['value']=_0x376dc4[_0x4bc9cf(0x479)]||Math[_0x4bc9cf(0x2cf)]((_0x376dc4['defaultNumQuestions']||0x5)/0x2),document['getElementById'](_0x4bc9cf(0x46e))[_0x4bc9cf(0x31d)]=_0x376dc4[_0x4bc9cf(0x4d8)]||0x5,document[_0x4bc9cf(0x33a)](_0x4bc9cf(0x4e7))[_0x4bc9cf(0x4bb)]=_0x376dc4[_0x4bc9cf(0x360)]||'show_results_and_answers',document['getElementById'](_0x4bc9cf(0x38c))['value']=_0x376dc4['shuffleSetting']||_0x4bc9cf(0xd3);const _0x149596=_0x376dc4['timerMode']||'none',_0x5e2456=_0x376dc4['timerDuration']||0xa,_0x4bf602=document[_0x4bc9cf(0x33a)](_0x4bc9cf(0x3ec)),_0xe40ef2=document[_0x4bc9cf(0x33a)](_0x4bc9cf(0x25b)),_0x103c8e=document[_0x4bc9cf(0x33a)](_0x4bc9cf(0x248));_0x4bf602[_0x4bc9cf(0x4bb)]=_0x149596,_0x103c8e[_0x4bc9cf(0x4bb)]=_0x5e2456;_0x149596===_0x4bc9cf(0xd3)?_0xe40ef2[_0x4bc9cf(0x43c)][_0x4bc9cf(0x220)](_0x4bc9cf(0x377)):_0xe40ef2[_0x4bc9cf(0x43c)][_0x4bc9cf(0x4ff)](_0x4bc9cf(0x377));_0x4bf602[_0x4bc9cf(0x2a1)](new Event(_0x4bc9cf(0x40e)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x507301),listenForProjectQuizzes(_0x507301),listenForStudentProfiles(_0x507301);}else showMessage(_0x4bc9cf(0x388)),showView(_0x4bc9cf(0x17f));}async function handleDeleteProject(_0x2b3366){const _0x36c668=_0x24b34b;try{const _0x36a0f3=writeBatch(db),_0x7a897f=collection(db,'artifacts/'+appId+_0x36c668(0x20a)),_0x37c7db=query(_0x7a897f,where('projectId','==',_0x2b3366)),_0xb139c8=await getDocs(_0x37c7db);for(const _0x55ce39 of _0xb139c8[_0x36c668(0xb7)]){const _0x357cb3=collection(db,'artifacts/'+appId+_0x36c668(0x4e2)+_0x55ce39['id']+'/submissions'),_0x4f3bbc=await getDocs(_0x357cb3);_0x4f3bbc[_0x36c668(0x426)](_0x42a782=>{const _0xd563a2=_0x36c668;_0x36a0f3[_0xd563a2(0x383)](_0x42a782[_0xd563a2(0x161)]);}),_0x36a0f3['delete'](_0x55ce39['ref']);}const _0x2041d9=collection(db,_0x36c668(0x202)+appId+_0x36c668(0x478)+_0x2b3366+_0x36c668(0x227)),_0x2fd7e1=await getDocs(_0x2041d9);_0x2fd7e1[_0x36c668(0x426)](_0x2f0b93=>{_0x36a0f3['delete'](_0x2f0b93['ref']);});const _0x1b3b95=doc(db,_0x36c668(0x202)+appId+_0x36c668(0x30b),_0x2b3366);_0x36a0f3[_0x36c668(0x383)](_0x1b3b95),await _0x36a0f3[_0x36c668(0x12f)](),showMessage(_0x36c668(0x303)),showView(_0x36c668(0x17f));}catch(_0x4d99a9){console[_0x36c668(0xb1)]('Error\x20deleting\x20project:',_0x4d99a9),showMessage(_0x36c668(0x1d7));}}document[_0x24b34b(0x33a)](_0x24b34b(0x16e))['addEventListener']('click',async()=>{const _0x13c86a=_0x24b34b;if(!currentProjectId)return;const _0x222507={'defaultNumQuestions':parseInt(document[_0x13c86a(0x33a)](_0x13c86a(0x324))[_0x13c86a(0x4bb)]),'defaultNumChoices':parseInt(document[_0x13c86a(0x33a)]('num-choices')[_0x13c86a(0x4bb)]),'defaultPassingScore':parseInt(document[_0x13c86a(0x33a)]('passing-score-input')[_0x13c86a(0x4bb)]),'resultsDisplay':document[_0x13c86a(0x33a)](_0x13c86a(0x4e7))[_0x13c86a(0x4bb)],'shuffleSetting':document[_0x13c86a(0x33a)](_0x13c86a(0x38c))['value'],'timerMode':document[_0x13c86a(0x33a)](_0x13c86a(0x3ec))[_0x13c86a(0x4bb)],'timerDuration':parseInt(document[_0x13c86a(0x33a)]('timer-duration-input')['value'])};try{const _0x213c6a=doc(db,'artifacts/'+appId+_0x13c86a(0x30b),currentProjectId);await updateDoc(_0x213c6a,{'settings':_0x222507}),showMessage(_0x13c86a(0x165));}catch(_0x57d8d1){console[_0x13c86a(0xb1)]('Error\x20saving\x20settings:',_0x57d8d1),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x501ea2){const _0x20bec0=doc(db,'artifacts/'+appId+'/public/data/projects',_0x501ea2);unsubscribeStudentsListener=onSnapshot(_0x20bec0,_0x5875fd=>{const _0x14f19e=_0x5125;if(_0x5875fd[_0x14f19e(0x266)]()){const _0x19fdec=_0x5875fd[_0x14f19e(0x49b)]();currentProjectData=_0x19fdec,renderStudentList(_0x19fdec[_0x14f19e(0x1b7)]||[]);}});}function renderStudentList(_0xc49492){const _0x36f7fa=_0x24b34b,_0x389525=document['getElementById']('delete-all-students-btn');_0xc49492[_0x36f7fa(0x114)]===0x0?(studentList[_0x36f7fa(0x3dd)]=_0x36f7fa(0x1d2),_0x389525[_0x36f7fa(0x43c)]['add'](_0x36f7fa(0x377))):(studentList[_0x36f7fa(0x3dd)]=_0xc49492[_0x36f7fa(0x500)](_0xbae7cb=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0xbae7cb+_0x36f7fa(0x136)+_0xbae7cb+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x36f7fa(0x179)](''),_0x389525[_0x36f7fa(0x43c)]['remove'](_0x36f7fa(0x377)));}document['getElementById'](_0x24b34b(0x171))[_0x24b34b(0x1d5)](_0x24b34b(0x139),async()=>{const _0x3aea3a=_0x24b34b;if(!currentProjectId)return;const _0x48ec5f=document[_0x3aea3a(0x33a)](_0x3aea3a(0x4aa)),_0x284c13=_0x48ec5f[_0x3aea3a(0x4bb)][_0x3aea3a(0x4c4)]();if(!_0x284c13){showMessage(_0x3aea3a(0x380));return;}const _0x2be363=_0x284c13[_0x3aea3a(0x158)]('\x0a')[_0x3aea3a(0x500)](_0x1f9685=>_0x1f9685[_0x3aea3a(0x4c4)]())[_0x3aea3a(0x410)](_0x562a58=>_0x562a58);if(_0x2be363[_0x3aea3a(0x114)]===0x0)return;try{const _0x3b8e58=doc(db,_0x3aea3a(0x202)+appId+_0x3aea3a(0x30b),currentProjectId),_0x523cd7=await getDoc(_0x3b8e58);if(_0x523cd7['exists']()){const _0x4b378b=_0x523cd7[_0x3aea3a(0x49b)]()[_0x3aea3a(0x1b7)]||[],_0x653860=[...new Set([..._0x4b378b,..._0x2be363])];await updateDoc(_0x3b8e58,{'students':_0x653860}),_0x48ec5f[_0x3aea3a(0x4bb)]='';}}catch(_0x435d94){console[_0x3aea3a(0xb1)](_0x3aea3a(0x33e),_0x435d94),showMessage(_0x3aea3a(0x511));}});function handleDeleteStudent(_0x495764){const _0x5030e2=_0x24b34b;showConfirmation(_0x5030e2(0x4d5)+_0x495764+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0xe0f69=_0x5030e2;if(!currentProjectId||!currentProjectData)return;const _0x49357f=currentProjectData['students']['filter'](_0x1a561d=>_0x1a561d!==_0x495764);try{const _0x281593=doc(db,_0xe0f69(0x202)+appId+'/public/data/projects',currentProjectId),_0x10f7dc=doc(db,_0xe0f69(0x202)+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles',_0x495764),_0x2a762c=writeBatch(db);_0x2a762c['update'](_0x281593,{'students':_0x49357f}),_0x2a762c[_0xe0f69(0x383)](_0x10f7dc),await _0x2a762c['commit']();}catch(_0x4cdffc){console['error'](_0xe0f69(0x40b),_0x4cdffc),showMessage(_0xe0f69(0x446));}});}function handleDeleteAllStudents(){const _0x560a05=_0x24b34b;showConfirmation(_0x560a05(0x504),async()=>{const _0x5f05f7=_0x560a05;if(!currentProjectId)return;try{const _0x113b98=doc(db,_0x5f05f7(0x202)+appId+'/public/data/projects',currentProjectId),_0x59f627=collection(db,_0x5f05f7(0x202)+appId+_0x5f05f7(0x478)+currentProjectId+_0x5f05f7(0x227)),_0x2147c5=await getDocs(_0x59f627),_0x1b93d8=writeBatch(db);_0x1b93d8[_0x5f05f7(0x4b7)](_0x113b98,{'students':[]}),_0x2147c5['forEach'](_0x34cea8=>_0x1b93d8[_0x5f05f7(0x383)](_0x34cea8[_0x5f05f7(0x161)])),await _0x1b93d8[_0x5f05f7(0x12f)]();}catch(_0x3c6607){console[_0x5f05f7(0xb1)](_0x5f05f7(0x127),_0x3c6607),showMessage(_0x5f05f7(0x252));}});}async function handleGenerateFromFileClick(){const _0x40a332=_0x24b34b;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x4d89d7=document['getElementById'](_0x40a332(0x25d)),_0x22874d=document[_0x40a332(0x33a)](_0x40a332(0x4ce)),_0x369218=document[_0x40a332(0x33a)](_0x40a332(0xee)),_0x4642d1=document[_0x40a332(0x33a)]('generate-from-file-btn');_0x4642d1[_0x40a332(0x308)]=!![],document[_0x40a332(0x33a)](_0x40a332(0x160))['classList']['remove'](_0x40a332(0x377)),_0x369218[_0x40a332(0x3dd)]='',_0x4d89d7[_0x40a332(0x43c)][_0x40a332(0x4ff)]('hidden'),_0x22874d[_0x40a332(0x4fa)]='กำลังอ่านและเตรียมไฟล์...';const _0x221834=new FileReader();_0x221834[_0x40a332(0x2c8)](selectedFile),_0x221834['onload']=async()=>{const _0x578ce9=_0x40a332;try{const _0x3e0032=_0x221834[_0x578ce9(0x315)][_0x578ce9(0x158)](',')[0x1],_0x1a8915=selectedFile[_0x578ce9(0x440)];await generateQuizFromFile(_0x1a8915,_0x3e0032);}catch(_0x1a5679){console[_0x578ce9(0xb1)](_0x578ce9(0x443),_0x1a5679),showMessage(_0x578ce9(0x36d)+_0x1a5679[_0x578ce9(0xed)]),_0x4d89d7['classList'][_0x578ce9(0x220)](_0x578ce9(0x377));}finally{}},_0x221834[_0x40a332(0xe6)]=_0x4a4fe1=>{const _0x4e17d2=_0x40a332;console['error'](_0x4e17d2(0x3ba),_0x4a4fe1),showMessage(_0x4e17d2(0x244)),_0x4d89d7[_0x4e17d2(0x43c)][_0x4e17d2(0x220)]('hidden'),_0x4642d1['disabled']=![];};}function autoFormatMath(_0x23aa3c){const _0x1b9347=_0x24b34b;if(typeof _0x23aa3c!=='string'||!_0x23aa3c)return _0x23aa3c;const _0x46ce28=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x6faa7d=_0x23aa3c[_0x1b9347(0x48b)](_0x46ce28,_0x1e94da=>{const _0x12b766=_0x1b9347;return'$'+_0x1e94da[_0x12b766(0x4c4)]()+'$';});return _0x6faa7d;}function sanitizeQuizData(_0x390d10){const _0x521211=_0x24b34b;if(!_0x390d10||!_0x390d10[_0x521211(0x177)])return _0x390d10;const _0x20217c={'imes':'\x5ctimes','div':_0x521211(0x31c)},_0x2c03da=_0x101563=>{const _0x5b1ba5=_0x521211;if(typeof _0x101563!==_0x5b1ba5(0x1a1))return _0x101563;let _0x39c1a0=_0x101563;for(const [_0x44678e,_0x8b372b]of Object['entries'](_0x20217c)){const _0x2adb61=new RegExp('\x5cb'+_0x44678e+'\x5cb','g');_0x39c1a0=_0x39c1a0[_0x5b1ba5(0x48b)](_0x2adb61,_0x8b372b);}return _0x39c1a0=_0x39c1a0[_0x5b1ba5(0x48b)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x5b1ba5(0x31c))[_0x5b1ba5(0x48b)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x5b1ba5(0x46f))['replace'](/÷/g,_0x5b1ba5(0x31c))[_0x5b1ba5(0x48b)](/×/g,_0x5b1ba5(0x46f)),_0x39c1a0=_0x39c1a0[_0x5b1ba5(0x48b)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x39c1a0=autoFormatMath(_0x39c1a0),_0x39c1a0;};return _0x390d10[_0x521211(0x140)]&&(_0x390d10[_0x521211(0x140)]=_0x2c03da(_0x390d10[_0x521211(0x140)])),_0x390d10[_0x521211(0x177)][_0x521211(0x426)](_0x345d6a=>{const _0x200041=_0x521211;_0x345d6a[_0x200041(0x121)]=_0x2c03da(_0x345d6a[_0x200041(0x121)]),_0x345d6a[_0x200041(0x3a0)]&&(_0x345d6a['options']=_0x345d6a['options'][_0x200041(0x500)](_0x2c03da)),_0x345d6a[_0x200041(0xd6)]&&(_0x345d6a[_0x200041(0xd6)]=_0x2c03da(_0x345d6a['explanation'])),_0x345d6a[_0x200041(0x4b4)]&&(_0x345d6a['stem']=_0x2c03da(_0x345d6a[_0x200041(0x4b4)])),_0x345d6a[_0x200041(0x13d)]&&(_0x345d6a[_0x200041(0x13d)]=_0x2c03da(_0x345d6a[_0x200041(0x13d)])),_0x345d6a['allResponses']&&(_0x345d6a[_0x200041(0x298)]=_0x345d6a[_0x200041(0x298)][_0x200041(0x500)](_0x2c03da));}),_0x390d10;}const simpleMathPrompt=_0x24b34b(0x2a0);async function handleGenerateFromLink(){const _0x210734=_0x24b34b,_0x5c0b3e=document[_0x210734(0x33a)](_0x210734(0x94)),_0x2f2bdd=document['getElementById'](_0x210734(0x2ff)),_0x316113=_0x5c0b3e[_0x210734(0x4bb)]['trim'](),_0x509478=_0x2f2bdd[_0x210734(0x4bb)][_0x210734(0x4c4)]();if(!_0x316113){showMessage(_0x210734(0x182));return;}const _0x4bea21=document[_0x210734(0x33a)]('loader'),_0x23849a=document[_0x210734(0x33a)](_0x210734(0x4ce)),_0x2aeac5=document[_0x210734(0x33a)]('generated-quiz-container'),_0xead8fe=document[_0x210734(0x33a)]('generate-from-link-btn');document[_0x210734(0x33a)](_0x210734(0x160))[_0x210734(0x43c)][_0x210734(0x4ff)](_0x210734(0x377)),_0x2aeac5[_0x210734(0x3dd)]='',_0x4bea21[_0x210734(0x43c)][_0x210734(0x4ff)](_0x210734(0x377)),_0x23849a['textContent']=_0x210734(0x1f2),_0xead8fe[_0x210734(0x308)]=!![];try{const _0x45d501=_0x210734(0x513)+encodeURIComponent(_0x316113),_0x3bc61b=await fetch(_0x45d501);if(!_0x3bc61b['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x3bc61b[_0x210734(0x4d6)]+')');const _0x5d4c26=await _0x3bc61b[_0x210734(0x22e)](),_0x508031=extractTextFromHtml(_0x5d4c26);if(!_0x508031||_0x508031[_0x210734(0x114)]<0x64)throw new Error(_0x210734(0x489));await generateQuiz(_0x509478,_0x508031);}catch(_0x279576){console[_0x210734(0xb1)]('Error\x20generating\x20from\x20link:',_0x279576),showMessage(_0x210734(0xc0)+_0x279576[_0x210734(0xed)]),_0x2aeac5[_0x210734(0x3dd)]=_0x210734(0x382);}finally{_0x4bea21[_0x210734(0x43c)]['add'](_0x210734(0x377)),_0xead8fe[_0x210734(0x308)]=![];}}function extractTextFromHtml(_0x117521){const _0x19e094=_0x24b34b,_0x591df4=new DOMParser()[_0x19e094(0xbe)](_0x117521,_0x19e094(0x400));return _0x591df4[_0x19e094(0x33f)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x19e094(0x426)](_0x5734a5=>_0x5734a5['remove']()),_0x591df4[_0x19e094(0x461)][_0x19e094(0x4fa)]||'';}document['getElementById']('generate-from-topic-btn')['addEventListener'](_0x24b34b(0x139),()=>{const _0x3328e1=_0x24b34b,_0x310c0e=document['getElementById'](_0x3328e1(0x29e))[_0x3328e1(0x4bb)][_0x3328e1(0x4c4)]();if(!_0x310c0e){showMessage('กรุณาป้อนหัวข้อก่อน');return;}generateQuiz(_0x310c0e,null);}),document[_0x24b34b(0x33a)](_0x24b34b(0x33d))['addEventListener']('click',()=>{const _0x88a0ae=_0x24b34b,_0x139bbd=document[_0x88a0ae(0x33a)]('text-content-input')[_0x88a0ae(0x4bb)][_0x88a0ae(0x4c4)]();if(!_0x139bbd){showMessage('กรุณาวางเนื้อหาก่อน');return;}generateQuiz(null,_0x139bbd);});async function generateQuiz(_0x1d8e90,_0x58691c,_0x2955b7=null){const _0x3a9ca7=_0x24b34b,_0x542f96=document[_0x3a9ca7(0x33a)](_0x3a9ca7(0xfe))[_0x3a9ca7(0x41d)],_0x17daaf=document[_0x3a9ca7(0x33a)](_0x3a9ca7(0xf8))[_0x3a9ca7(0x4bb)],_0xf854fc=document[_0x3a9ca7(0x33a)](_0x3a9ca7(0x324))[_0x3a9ca7(0x4bb)],_0x14f06f=document[_0x3a9ca7(0x33a)](_0x3a9ca7(0x370))[_0x3a9ca7(0x4bb)];let _0x36e510='',_0x56b43a='',_0x10a8d3,_0x2adc00='เกี่ยวกับหัวข้อ\x20\x22'+_0x1d8e90+'\x22';if(!_0x1d8e90&&_0x58691c)_0x2adc00=_0x3a9ca7(0x477);else!_0x1d8e90&&!_0x58691c&&(_0x2adc00=_0x3a9ca7(0x3ed));const _0x559568={'type':'OBJECT','properties':{'questionText':{'type':_0x3a9ca7(0x1fa)},'options':{'type':_0x3a9ca7(0x43a),'items':{'type':_0x3a9ca7(0x1fa)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x3a9ca7(0x1fa)},'imageCode':{'type':'STRING'}},'required':[_0x3a9ca7(0x121),'options',_0x3a9ca7(0x3cb),_0x3a9ca7(0xd6)]},_0x444bbc={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x3a9ca7(0x1fa)},'explanation':{'type':_0x3a9ca7(0x1fa)},'imageCode':{'type':'STRING'}},'required':[_0x3a9ca7(0x121),'idealAnswer',_0x3a9ca7(0xd6)]},_0x3bf0fd={'type':_0x3a9ca7(0xaa),'properties':{'questionText':{'type':_0x3a9ca7(0x1fa)},'questionType':{'type':_0x3a9ca7(0x1fa),'enum':[_0x3a9ca7(0x2f4),'short_answer']},'options':{'type':_0x3a9ca7(0x43a),'items':{'type':_0x3a9ca7(0x1fa)}},'correctAnswerIndex':{'type':_0x3a9ca7(0x4b8)},'idealAnswer':{'type':_0x3a9ca7(0x1fa)},'explanation':{'type':_0x3a9ca7(0x1fa)},'imageCode':{'type':'STRING'}},'required':['questionText','questionType',_0x3a9ca7(0xd6)]},_0x964f6e={'type':_0x3a9ca7(0xaa),'properties':{'questionText':{'type':_0x3a9ca7(0x1fa)},'correctAnswer':{'type':_0x3a9ca7(0x125)},'explanation':{'type':_0x3a9ca7(0x1fa)},'imageCode':{'type':'STRING'}},'required':[_0x3a9ca7(0x121),_0x3a9ca7(0x463),'explanation']},_0x3650b4={'type':'OBJECT','properties':{'questionType':{'type':_0x3a9ca7(0x1fa),'enum':[_0x3a9ca7(0x30d)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x3a9ca7(0x1fa)},'allResponses':{'type':_0x3a9ca7(0x43a),'items':{'type':'STRING'}},'explanation':{'type':_0x3a9ca7(0x1fa)},'imageCode':{'type':_0x3a9ca7(0x1fa)}},'required':[_0x3a9ca7(0xa0),_0x3a9ca7(0x4b4),_0x3a9ca7(0x13d),_0x3a9ca7(0x298),_0x3a9ca7(0xd6)]};let _0x392b28;if(_0x2955b7!==null){const _0x3f7940=currentQuizData[_0x3a9ca7(0x177)][_0x2955b7][_0x3a9ca7(0xa0)],_0x4091f8=_0x542f96?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';if(_0x3f7940===_0x3a9ca7(0x2f4))_0x36e510='สร้างแบบทดสอบปรนัย\x201\x20ข้อ\x20'+_0x2adc00+_0x3a9ca7(0x13e)+_0x14f06f+_0x3a9ca7(0x3c3)+_0x4091f8+'\x20'+simpleMathPrompt,_0x10a8d3=_0x559568;else _0x3f7940===_0x3a9ca7(0x30d)?(_0x36e510=_0x3a9ca7(0x45f)+_0x2adc00+'\x20สร้างคำถามจับคู่\x201\x20ข้อ\x20(1\x20คู่)\x20ที่อยู่ในหมวดหมู่เดียวกันกับคำถามเดิม\x20แต่ต้องแตกต่างออกไป.\x20รูปแบบคือ:\x20stem,\x20correctResponse,\x20และ\x20explanation.\x20'+_0x4091f8+'\x20'+simpleMathPrompt,_0x10a8d3={'type':_0x3a9ca7(0xaa),'properties':{'questionType':{'type':_0x3a9ca7(0x1fa),'enum':[_0x3a9ca7(0x30d)]},'stem':{'type':_0x3a9ca7(0x1fa)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x3a9ca7(0x1fa)},'imageCode':{'type':_0x3a9ca7(0x1fa)}},'required':[_0x3a9ca7(0xa0),_0x3a9ca7(0x4b4),_0x3a9ca7(0x13d),_0x3a9ca7(0xd6)]}):(_0x36e510=_0x3a9ca7(0x192)+_0x2adc00+_0x3a9ca7(0x13c)+_0x4091f8+'\x20'+simpleMathPrompt,_0x10a8d3=_0x444bbc);_0x392b28=_0x10a8d3;}else{const _0x49bfc1=_0x542f96?_0x3a9ca7(0x1d1):'';switch(_0x17daaf){case _0x3a9ca7(0x2f4):_0x36e510=_0x3a9ca7(0x3ad)+_0xf854fc+_0x3a9ca7(0x2db)+_0x2adc00+'.\x20แต่ละข้อมี\x20'+_0x14f06f+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x49bfc1+'\x20'+simpleMathPrompt,_0x10a8d3=_0x559568;break;case'fill_in_with_choices':_0x36e510=_0x3a9ca7(0x404)+_0xf854fc+_0x3a9ca7(0x2db)+_0x2adc00+_0x3a9ca7(0x106)+_0x14f06f+_0x3a9ca7(0x124)+_0x49bfc1+'\x20'+simpleMathPrompt,_0x10a8d3=_0x559568;break;case _0x3a9ca7(0x3c0):_0x36e510=_0x3a9ca7(0x404)+_0xf854fc+_0x3a9ca7(0x2db)+_0x2adc00+_0x3a9ca7(0x118)+_0x49bfc1+'\x20'+simpleMathPrompt,_0x10a8d3=_0x444bbc;break;case'mixed':_0x36e510='สร้างแบบทดสอบ\x20'+_0xf854fc+_0x3a9ca7(0x2db)+_0x2adc00+_0x3a9ca7(0x3f1)+_0x14f06f+_0x3a9ca7(0x508)+_0x49bfc1+'\x20'+simpleMathPrompt+_0x3a9ca7(0x44c),_0x10a8d3=_0x3bf0fd;break;case'true_false':_0x36e510=_0x3a9ca7(0x2c3)+_0xf854fc+'\x20ข้อ\x20'+_0x2adc00+_0x3a9ca7(0x476)+_0x49bfc1+'\x20'+simpleMathPrompt,_0x10a8d3=_0x964f6e;break;case _0x3a9ca7(0x4f7):_0x36e510=_0x3a9ca7(0x2a5)+_0xf854fc+'\x20คู่\x20'+_0x2adc00+_0x3a9ca7(0xe3)+_0xf854fc+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x49bfc1+'\x20'+simpleMathPrompt,_0x10a8d3=_0x3650b4;break;}_0x392b28={'type':_0x3a9ca7(0xaa),'properties':{'topic':{'type':_0x3a9ca7(0x1fa)},'questions':{'type':_0x3a9ca7(0x43a),'items':_0x10a8d3}},'required':[_0x3a9ca7(0x140),_0x3a9ca7(0x177)]};}return _0x58691c?(_0x36e510=_0x3a9ca7(0x32a)+_0x58691c+_0x3a9ca7(0x30f)+_0x36e510,_0x56b43a=_0x3a9ca7(0x12d)):_0x56b43a='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x36e510,_0x56b43a,_0x392b28,_0x2955b7);}async function generateQuizFromFile(_0x29f328,_0x5b182a){const _0x503421=_0x24b34b,_0x36e32f=document[_0x503421(0x33a)]('file-topic-input')['value'][_0x503421(0x4c4)](),_0x1e7591=document[_0x503421(0x33a)]('quiz-type-select')['value'],_0x2931b9=document[_0x503421(0x33a)](_0x503421(0x324))['value'],_0x4279d7=document[_0x503421(0x33a)](_0x503421(0x370))[_0x503421(0x4bb)],_0x273542=document[_0x503421(0x33a)](_0x503421(0xfe))['checked'];let _0x1670aa='',_0x102d71,_0xd0452a=_0x503421(0x197)+_0x36e32f+'\x22';!_0x36e32f&&(_0xd0452a=_0x503421(0x152));const _0x8963cc=_0x273542?_0x503421(0x1d1):'';switch(_0x1e7591){case _0x503421(0x2f4):_0x1670aa=_0x503421(0x3ad)+_0x2931b9+'\x20ข้อ\x20'+_0xd0452a+_0x503421(0x4ac)+_0x4279d7+_0x503421(0x3c3)+_0x8963cc+'\x20'+simpleMathPrompt,_0x102d71={'type':_0x503421(0xaa),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x503421(0x1fa)}},'correctAnswerIndex':{'type':_0x503421(0x4b8)},'explanation':{'type':_0x503421(0x1fa)},'imageCode':{'type':_0x503421(0x1fa)}},'required':[_0x503421(0x121),_0x503421(0x3a0),'correctAnswerIndex',_0x503421(0xd6)]};break;case _0x503421(0x4a5):_0x1670aa=_0x503421(0x404)+_0x2931b9+'\x20ข้อ\x20'+_0xd0452a+_0x503421(0x106)+_0x4279d7+_0x503421(0x124)+_0x8963cc+'\x20'+simpleMathPrompt,_0x102d71={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x503421(0x43a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x503421(0x4b8)},'explanation':{'type':_0x503421(0x1fa)},'imageCode':{'type':_0x503421(0x1fa)}},'required':[_0x503421(0x121),_0x503421(0x3a0),'correctAnswerIndex',_0x503421(0xd6)]};break;case _0x503421(0x3c0):_0x1670aa=_0x503421(0x404)+_0x2931b9+_0x503421(0x2db)+_0xd0452a+_0x503421(0x118)+_0x8963cc+'\x20'+simpleMathPrompt,_0x102d71={'type':_0x503421(0xaa),'properties':{'questionText':{'type':_0x503421(0x1fa)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x503421(0x1fa)},'imageCode':{'type':_0x503421(0x1fa)}},'required':[_0x503421(0x121),_0x503421(0x239),_0x503421(0xd6)]};break;case _0x503421(0x50c):_0x1670aa=_0x503421(0x38a)+_0x2931b9+_0x503421(0x2db)+_0xd0452a+_0x503421(0x3f1)+_0x4279d7+_0x503421(0x508)+_0x8963cc+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x102d71={'type':_0x503421(0xaa),'properties':{'questionText':{'type':_0x503421(0x1fa)},'questionType':{'type':'STRING','enum':[_0x503421(0x2f4),'short_answer']},'options':{'type':_0x503421(0x43a),'items':{'type':_0x503421(0x1fa)}},'correctAnswerIndex':{'type':_0x503421(0x4b8)},'idealAnswer':{'type':_0x503421(0x1fa)},'explanation':{'type':_0x503421(0x1fa)},'imageCode':{'type':_0x503421(0x1fa)}},'required':[_0x503421(0x121),_0x503421(0xa0),_0x503421(0xd6)]};break;case'true_false':_0x1670aa=_0x503421(0x2c3)+_0x2931b9+'\x20ข้อ\x20'+_0xd0452a+_0x503421(0x476)+_0x8963cc+'\x20'+simpleMathPrompt,_0x102d71={'type':_0x503421(0xaa),'properties':{'questionText':{'type':_0x503421(0x1fa)},'correctAnswer':{'type':_0x503421(0x125)},'explanation':{'type':_0x503421(0x1fa)},'imageCode':{'type':_0x503421(0x1fa)}},'required':[_0x503421(0x121),_0x503421(0x463),_0x503421(0xd6)]};break;case _0x503421(0x4f7):_0x1670aa=_0x503421(0x2a5)+_0x2931b9+'\x20คู่\x20'+_0xd0452a+_0x503421(0xe3)+_0x2931b9+_0x503421(0x3a1)+_0x8963cc+'\x20'+simpleMathPrompt,_0x102d71={'type':_0x503421(0xaa),'properties':{'questionType':{'type':'STRING','enum':[_0x503421(0x30d)]},'stem':{'type':_0x503421(0x1fa)},'correctResponse':{'type':_0x503421(0x1fa)},'allResponses':{'type':_0x503421(0x43a),'items':{'type':_0x503421(0x1fa)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x503421(0x1fa)}},'required':[_0x503421(0xa0),'stem',_0x503421(0x13d),'allResponses',_0x503421(0xd6)]};break;}const _0x340865={'type':_0x503421(0xaa),'properties':{'topic':{'type':_0x503421(0x1fa)},'questions':{'type':_0x503421(0x43a),'items':_0x102d71}},'required':[_0x503421(0x140),_0x503421(0x177)]},_0x3d4a63='จากไฟล์ที่แนบมานี้,\x20'+_0x1670aa,_0x3fa834={'contents':[{'parts':[{'text':_0x3d4a63},{'inlineData':{'mimeType':_0x29f328,'data':_0x5b182a}}]}],'generationConfig':{'responseMimeType':_0x503421(0x228),'responseSchema':_0x340865}};return handleApiCall(_0x3fa834[_0x503421(0x42a)][0x0][_0x503421(0x1bd)],_0x503421(0x3c4),_0x340865);}async function handleApiCall(_0x1659fe,_0x387967,_0x2d5c7b,_0x511e19=null){const _0x12bc1e=_0x24b34b,_0x24c149=document[_0x12bc1e(0x33a)](_0x12bc1e(0x160)),_0x5c655d=document[_0x12bc1e(0x33a)](_0x12bc1e(0x25d)),_0x1691ed=document[_0x12bc1e(0x33a)](_0x12bc1e(0x4ce)),_0x12aafa=document['getElementById'](_0x12bc1e(0xee));_0x24c149[_0x12bc1e(0x43c)]['remove'](_0x12bc1e(0x377));_0x511e19===null&&(_0x12aafa[_0x12bc1e(0x3dd)]='');_0x5c655d[_0x12bc1e(0x43c)][_0x12bc1e(0x4ff)](_0x12bc1e(0x377)),_0x1691ed[_0x12bc1e(0x4fa)]=_0x387967,document[_0x12bc1e(0x33a)](_0x12bc1e(0xd8))['disabled']=!![],document[_0x12bc1e(0x33a)]('generate-from-text-btn')[_0x12bc1e(0x308)]=!![],document[_0x12bc1e(0x33a)]('generate-from-link-btn')[_0x12bc1e(0x308)]=!![];try{const _0x57fa81={'responseMimeType':_0x12bc1e(0x228),'responseSchema':_0x2d5c7b},_0x95865=Array['isArray'](_0x1659fe)?_0x1659fe:[{'text':_0x1659fe}],_0x55d48e={'contents':[{'role':_0x12bc1e(0x4a6),'parts':_0x95865}],'generationConfig':_0x57fa81},_0x552885=_0x12bc1e(0x31a),_0x4b36d4='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x552885,_0x1c9fda=await fetch(_0x4b36d4,{'method':_0x12bc1e(0x4d9),'headers':{'Content-Type':_0x12bc1e(0x228)},'body':JSON[_0x12bc1e(0x29f)](_0x55d48e)});if(!_0x1c9fda['ok'])throw new Error(_0x12bc1e(0x189)+_0x1c9fda[_0x12bc1e(0x4d6)]);const _0x2ccc92=await _0x1c9fda[_0x12bc1e(0x519)]();if(_0x2ccc92[_0x12bc1e(0x93)]?.[0x0]?.['content']?.[_0x12bc1e(0x1bd)]?.[0x0]){let _0x244a09=_0x2ccc92[_0x12bc1e(0x93)][0x0][_0x12bc1e(0x4cd)][_0x12bc1e(0x1bd)][0x0]['text'],_0x9bf1bd;try{if(_0x244a09['startsWith'](_0x12bc1e(0x4e1)))_0x244a09=_0x244a09[_0x12bc1e(0x2c9)](0x7,_0x244a09[_0x12bc1e(0x114)]-0x3)[_0x12bc1e(0x4c4)]();else _0x244a09[_0x12bc1e(0x207)]('```')&&(_0x244a09=_0x244a09[_0x12bc1e(0x2c9)](0x3,_0x244a09['length']-0x3)[_0x12bc1e(0x4c4)]());_0x9bf1bd=JSON[_0x12bc1e(0x4a1)](_0x244a09);}catch(_0x49dd46){console['error'](_0x12bc1e(0xaf),_0x49dd46,_0x244a09);throw new Error(_0x12bc1e(0x40d));}if(_0x511e19!==null){if(_0x9bf1bd['questionType']==='matching_item'){const _0x20a58d=currentQuizData[_0x12bc1e(0x177)][_0x12bc1e(0x500)](_0x5b4315=>_0x5b4315[_0x12bc1e(0x13d)]);_0x9bf1bd['allResponses']=_0x20a58d;const _0x27d18b=currentQuizData[_0x12bc1e(0x177)][_0x511e19]['correctResponse'],_0x526343=_0x20a58d[_0x12bc1e(0x268)](_0x27d18b);_0x526343>-0x1&&(_0x20a58d[_0x526343]=_0x9bf1bd[_0x12bc1e(0x13d)]),currentQuizData['questions']['forEach'](_0x532e10=>{const _0xf4adcc=_0x12bc1e;if(_0x532e10[_0xf4adcc(0xa0)]===_0xf4adcc(0x30d))_0x532e10[_0xf4adcc(0x298)]=_0x20a58d;});}currentQuizData[_0x12bc1e(0x177)][_0x511e19]=_0x9bf1bd,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x9bf1bd;const _0x568838=document['getElementById'](_0x12bc1e(0xf8))['value'];currentQuizData['quizType']=_0x568838,currentQuizData[_0x12bc1e(0x177)]&&currentQuizData[_0x12bc1e(0x177)][_0x12bc1e(0x426)](_0x5508b4=>{const _0x52f939=_0x12bc1e;if(!_0x5508b4[_0x52f939(0xa0)]){if(_0x568838===_0x52f939(0x4a5))_0x5508b4['questionType']='multiple_choice';else _0x568838===_0x52f939(0x3c0)?_0x5508b4['questionType']=_0x52f939(0x3c7):_0x5508b4[_0x52f939(0xa0)]=_0x568838;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x12bc1e(0xb1)](_0x12bc1e(0x47e),JSON['stringify'](_0x2ccc92));throw new Error(_0x12bc1e(0x40d));}}catch(_0x312d3c){console['error'](_0x12bc1e(0x9d),_0x312d3c),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง'),_0x511e19===null&&(_0x12aafa['innerHTML']=_0x12bc1e(0x3e8));}finally{_0x5c655d[_0x12bc1e(0x43c)][_0x12bc1e(0x220)](_0x12bc1e(0x377)),document[_0x12bc1e(0x33a)](_0x12bc1e(0xd8))['disabled']=![],document[_0x12bc1e(0x33a)](_0x12bc1e(0x33d))[_0x12bc1e(0x308)]=![],document[_0x12bc1e(0x33a)](_0x12bc1e(0x167))[_0x12bc1e(0x308)]=![];const _0x10a8dd=document[_0x12bc1e(0x33a)](_0x12bc1e(0x4b5));_0x10a8dd&&(_0x10a8dd[_0x12bc1e(0x308)]=![]);}}function displayGeneratedQuiz(_0xe6715e){const _0xb9dbb1=_0x24b34b,_0x47e9fc=document[_0xb9dbb1(0x33a)](_0xb9dbb1(0xee));let _0x4e7807=_0xb9dbb1(0x259)+_0xe6715e[_0xb9dbb1(0x140)]+'</h3>';_0xe6715e['questions'][_0xb9dbb1(0x426)]((_0x35cb6f,_0x208fe8)=>{const _0x53c06e=_0xb9dbb1,_0x1309b0=_0x35cb6f[_0x53c06e(0xa0)]||_0xe6715e[_0x53c06e(0xab)];_0x4e7807+=_0x53c06e(0xa3)+_0x208fe8+_0x53c06e(0x1f1)+_0x208fe8+_0x53c06e(0x1ca)+_0x208fe8+_0x53c06e(0x246);switch(_0x1309b0){case'matching_item':_0x4e7807+=_0x53c06e(0x19e)+_0x208fe8+'\x22>'+(_0x208fe8+0x1)+'.\x20'+_0x35cb6f['stem']+_0x53c06e(0xe0);_0x35cb6f[_0x53c06e(0x168)]&&(_0x4e7807+=_0x53c06e(0x2eb)+_0x208fe8+_0x53c06e(0xd5)+_0x35cb6f[_0x53c06e(0x168)]+'</div>');_0x4e7807+=_0x53c06e(0x4ec)+_0x208fe8+'\x22>'+_0x35cb6f['correctResponse']+_0x53c06e(0x497),_0x4e7807+=_0x53c06e(0x175)+_0x208fe8+'\x22>'+_0x35cb6f['explanation']+_0x53c06e(0x497);break;case'short_answer':_0x4e7807+=_0x53c06e(0x19e)+_0x208fe8+'\x22>'+(_0x208fe8+0x1)+'.\x20'+_0x35cb6f[_0x53c06e(0x121)]+_0x53c06e(0xe0);_0x35cb6f[_0x53c06e(0x168)]&&(_0x4e7807+=_0x53c06e(0x2eb)+_0x208fe8+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x35cb6f[_0x53c06e(0x168)]+_0x53c06e(0x385));_0x4e7807+=_0x53c06e(0x115)+_0x208fe8+'\x22>'+_0x35cb6f[_0x53c06e(0x239)]+_0x53c06e(0x497),_0x4e7807+=_0x53c06e(0x175)+_0x208fe8+'\x22>'+_0x35cb6f[_0x53c06e(0xd6)]+_0x53c06e(0x497);break;case _0x53c06e(0x49f):_0x4e7807+=_0x53c06e(0x19e)+_0x208fe8+'\x22>'+(_0x208fe8+0x1)+'.\x20'+_0x35cb6f['questionText']+_0x53c06e(0xe0);_0x35cb6f[_0x53c06e(0x168)]&&(_0x4e7807+=_0x53c06e(0x2eb)+_0x208fe8+_0x53c06e(0xd5)+_0x35cb6f[_0x53c06e(0x168)]+'</div>');_0x4e7807+=_0x53c06e(0x45b)+(_0x35cb6f['correctAnswer']===!![]?'text-green-600\x20font-bold':'')+_0x53c06e(0x373)+(_0x35cb6f[_0x53c06e(0x463)]===![]?_0x53c06e(0x273):'')+_0x53c06e(0x3e6),_0x4e7807+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x208fe8+'\x22>'+_0x35cb6f[_0x53c06e(0xd6)]+_0x53c06e(0x497);break;case _0x53c06e(0x274):case _0x53c06e(0x2f4):default:_0x4e7807+=_0x53c06e(0x19e)+_0x208fe8+'\x22>'+(_0x208fe8+0x1)+'.\x20'+_0x35cb6f[_0x53c06e(0x121)]+_0x53c06e(0xe0);_0x35cb6f[_0x53c06e(0x168)]&&(_0x4e7807+='<div\x20id=\x22q-image-container-'+_0x208fe8+_0x53c06e(0xd5)+_0x35cb6f[_0x53c06e(0x168)]+'</div>');_0x4e7807+=_0x53c06e(0x21f)+_0x208fe8+_0x53c06e(0xd4)+_0x35cb6f[_0x53c06e(0x3a0)][_0x53c06e(0x500)]((_0x45c128,_0x274453)=>'<li\x20class=\x22'+(_0x274453===_0x35cb6f['correctAnswerIndex']?_0x53c06e(0x273):'')+'\x22>'+_0x45c128+'</li>')[_0x53c06e(0x179)]('')+_0x53c06e(0x3e1),_0x4e7807+=_0x53c06e(0x175)+_0x208fe8+'\x22>'+_0x35cb6f['explanation']+'</span></div>';break;}_0x4e7807+=_0x53c06e(0x385);}),_0x4e7807+=_0xb9dbb1(0x10f),_0x47e9fc[_0xb9dbb1(0x3dd)]=_0x4e7807,document[_0xb9dbb1(0x33f)](_0xb9dbb1(0x442))['forEach'](_0x1f24bd=>_0x1f24bd['addEventListener']('click',handleEditQuestion)),document[_0xb9dbb1(0x33f)](_0xb9dbb1(0xf5))[_0xb9dbb1(0x426)](_0x5cb37a=>_0x5cb37a[_0xb9dbb1(0x1d5)]('click',handleRegenerateQuestion)),document[_0xb9dbb1(0x33f)](_0xb9dbb1(0x262))[_0xb9dbb1(0x426)](_0x8e769d=>_0x8e769d[_0xb9dbb1(0x1d5)](_0xb9dbb1(0x139),handleSaveToBank)),document[_0xb9dbb1(0x33a)](_0xb9dbb1(0x4c7))[_0xb9dbb1(0x1d5)]('click',saveQuiz);if(window['MathJax'])window[_0xb9dbb1(0x3d7)][_0xb9dbb1(0x493)]([_0x47e9fc]);}function handleRegenerateQuestion(_0xa42e5b){const _0x4c2956=_0x24b34b,_0x187844=_0xa42e5b[_0x4c2956(0x389)]['dataset'][_0x4c2956(0x3fd)],_0x53bbe4=currentQuizData[_0x4c2956(0x140)];showMessage(_0x4c2956(0x3bd)+(parseInt(_0x187844)+0x1)+'\x20ใหม่...'),generateQuiz(_0x53bbe4,null,parseInt(_0x187844));}function getPointerPosition(_0x1317c3,_0xd51893){const _0x1e2e79=_0x24b34b,_0x1d55f6=_0x1317c3[_0x1e2e79(0x242)]();let _0x491d00,_0x5e30cd;return _0xd51893[_0x1e2e79(0x3eb)]&&_0xd51893[_0x1e2e79(0x3eb)]['length']>0x0?(_0x491d00=_0xd51893[_0x1e2e79(0x3eb)][0x0]['clientX'],_0x5e30cd=_0xd51893[_0x1e2e79(0x3eb)][0x0][_0x1e2e79(0x13a)]):(_0x491d00=_0xd51893[_0x1e2e79(0x174)],_0x5e30cd=_0xd51893['clientY']),{'x':(_0x491d00-_0x1d55f6['e'])/_0x1d55f6['a'],'y':(_0x5e30cd-_0x1d55f6['f'])/_0x1d55f6['d']};}function startDrag(_0x28ddf1){const _0x584d4d=_0x24b34b;_0x28ddf1[_0x584d4d(0x440)]===_0x584d4d(0x491)&&_0x28ddf1[_0x584d4d(0x4da)]();const _0x57bf24=_0x28ddf1[_0x584d4d(0xb3)][_0x584d4d(0x3d1)](_0x584d4d(0x35b));if(_0x57bf24){draggedSvgElement=_0x57bf24;const _0x947ca7=draggedSvgElement['ownerSVGElement'],_0xffdda7=getPointerPosition(_0x947ca7,_0x28ddf1);svgOffset['x']=_0xffdda7['x']-parseFloat(draggedSvgElement[_0x584d4d(0x428)](null,'x')),svgOffset['y']=_0xffdda7['y']-parseFloat(draggedSvgElement[_0x584d4d(0x428)](null,'y'));}}function drag(_0x36bd3c){const _0x5aea41=_0x24b34b;if(draggedSvgElement){_0x36bd3c['preventDefault']();const _0x4bf454=draggedSvgElement['ownerSVGElement'],_0x271184=getPointerPosition(_0x4bf454,_0x36bd3c),_0x494023=_0x4bf454['viewBox'][_0x5aea41(0x1b2)];let _0x3fb4ad=_0x271184['x']-svgOffset['x'],_0x2ceac9=_0x271184['y']-svgOffset['y'];const _0x4c61b1=draggedSvgElement[_0x5aea41(0x4bc)]();_0x3fb4ad=Math[_0x5aea41(0x31d)](_0x494023['x'],Math[_0x5aea41(0x263)](_0x3fb4ad,_0x494023['x']+_0x494023[_0x5aea41(0x369)]-_0x4c61b1[_0x5aea41(0x369)])),_0x2ceac9=Math[_0x5aea41(0x31d)](_0x494023['y'],Math[_0x5aea41(0x263)](_0x2ceac9,_0x494023['y']+_0x494023['height']-_0x4c61b1[_0x5aea41(0x190)])),draggedSvgElement[_0x5aea41(0x19d)](null,'x',_0x3fb4ad),draggedSvgElement[_0x5aea41(0x19d)](null,'y',_0x2ceac9);}}function endDrag(_0x4c889c){draggedSvgElement=null;}function handleSvgEditClick(_0x3c98fb){const _0x2499be=_0x24b34b;if(_0x3c98fb['target'][_0x2499be(0x43c)][_0x2499be(0x4fb)](_0x2499be(0x332))){const _0xf4b5df=_0x3c98fb[_0x2499be(0xb3)][_0x2499be(0x3f5)]['targetId'],_0x578316=_0x3c98fb[_0x2499be(0x389)],_0x4a0845=_0x578316[_0x2499be(0xe5)]('#'+_0xf4b5df);_0x4a0845&&_0x4a0845[_0x2499be(0x4ff)](),_0x3c98fb[_0x2499be(0xb3)][_0x2499be(0x4ff)]();}}function handleEditQuestion(_0x8e67c4){const _0x33ed47=_0x24b34b,_0x4b18d5=_0x8e67c4['currentTarget'],_0x18d31b=_0x4b18d5[_0x33ed47(0x3f5)]['index'],_0xbb4319=currentQuizData[_0x33ed47(0x177)][_0x18d31b],_0x314092=document[_0x33ed47(0x33a)](_0x33ed47(0x14c)+_0x18d31b),_0x598799=document[_0x33ed47(0x33a)](_0x33ed47(0x19f)+_0x18d31b),_0xc207d3=document[_0x33ed47(0x33a)](_0x33ed47(0x48c)+_0x18d31b);if(_0x4b18d5[_0x33ed47(0x3dd)]['includes'](_0x33ed47(0x3af))){_0x4b18d5[_0x33ed47(0x3dd)]=_0x33ed47(0x4ba),_0x4b18d5[_0x33ed47(0x365)]=_0x33ed47(0x14d);if(_0x314092)_0x314092[_0x33ed47(0x3ea)]=!![];if(_0x598799)_0x598799[_0x33ed47(0x3ea)]=!![];if(_0xc207d3){const _0x476433=_0xc207d3[_0x33ed47(0xe5)](_0x33ed47(0x1af));if(_0x476433){const _0x51d71b=_0x476433[_0x33ed47(0x33f)](_0x33ed47(0x22e));_0x51d71b[_0x33ed47(0x426)]((_0x1d5149,_0x5526fb)=>{const _0x4735a8=_0x33ed47,_0x11f563=_0x4735a8(0x1f3)+_0x18d31b+'-'+_0x5526fb;_0x1d5149['id']=_0x11f563,_0x1d5149[_0x4735a8(0x43c)][_0x4735a8(0x220)]('draggable-text'),_0x1d5149['style'][_0x4735a8(0x2fe)]='move';const _0xe723d8=document[_0x4735a8(0x375)]('http://www.w3.org/2000/svg','circle'),_0x8e7fcd=_0x1d5149[_0x4735a8(0x4bc)]();_0xe723d8[_0x4735a8(0x18c)]('cx',String(_0x8e7fcd['x']+_0x8e7fcd[_0x4735a8(0x369)]+0x5)),_0xe723d8['setAttribute']('cy',String(_0x8e7fcd['y']+_0x8e7fcd[_0x4735a8(0x190)]/0x2-0x5)),_0xe723d8[_0x4735a8(0x18c)]('r','5'),_0xe723d8[_0x4735a8(0x18c)](_0x4735a8(0xff),_0x4735a8(0x38e)),_0xe723d8[_0x4735a8(0x18c)](_0x4735a8(0x17b),_0x4735a8(0x332)),_0xe723d8['dataset'][_0x4735a8(0x1cd)]=_0x11f563,_0x1d5149[_0x4735a8(0x29d)](_0xe723d8);}),_0x476433['addEventListener'](_0x33ed47(0x3a7),startDrag),_0x476433[_0x33ed47(0x1d5)](_0x33ed47(0x1f0),drag),_0x476433['addEventListener'](_0x33ed47(0x260),endDrag),_0x476433[_0x33ed47(0x1d5)](_0x33ed47(0x296),endDrag),_0x476433[_0x33ed47(0x1d5)](_0x33ed47(0x491),startDrag,{'passive':![]}),_0x476433[_0x33ed47(0x1d5)]('touchmove',drag,{'passive':![]}),_0x476433['addEventListener']('touchend',endDrag),_0x476433[_0x33ed47(0x1d5)](_0x33ed47(0x2c2),endDrag),_0x476433[_0x33ed47(0x1d5)](_0x33ed47(0x139),handleSvgEditClick);}}if(_0x314092)_0x314092[_0x33ed47(0x4c1)]();}else{_0x4b18d5[_0x33ed47(0x3dd)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x4b18d5[_0x33ed47(0x365)]='แก้ไขข้อนี้';if(_0x314092){_0x314092[_0x33ed47(0x3ea)]=![];const _0x13f153=_0xbb4319[_0x33ed47(0xa0)]||currentQuizData[_0x33ed47(0xab)];_0x13f153===_0x33ed47(0x30d)?_0xbb4319[_0x33ed47(0x4b4)]=_0x314092['innerText'][_0x33ed47(0x2c9)](_0x314092[_0x33ed47(0x18b)][_0x33ed47(0x268)]('.')+0x2)[_0x33ed47(0x4c4)]():_0xbb4319[_0x33ed47(0x121)]=_0x314092[_0x33ed47(0x18b)][_0x33ed47(0x2c9)](_0x314092[_0x33ed47(0x18b)][_0x33ed47(0x268)]('.')+0x2)['trim']();}_0x598799&&(_0x598799[_0x33ed47(0x3ea)]=![],_0xbb4319[_0x33ed47(0xd6)]=_0x598799[_0x33ed47(0x18b)]);if(_0xc207d3){const _0x4a513a=_0xc207d3[_0x33ed47(0xe5)](_0x33ed47(0x1af));if(_0x4a513a){const _0x31a484=_0x4a513a['cloneNode'](!![]);_0x31a484[_0x33ed47(0x33f)](_0x33ed47(0x512))['forEach'](_0x444c57=>_0x444c57[_0x33ed47(0x4ff)]()),_0x31a484[_0x33ed47(0x33f)](_0x33ed47(0x35b))[_0x33ed47(0x426)](_0x3017be=>{const _0x7dc665=_0x33ed47;_0x3017be['classList'][_0x7dc665(0x4ff)](_0x7dc665(0x43d)),_0x3017be[_0x7dc665(0x1c0)][_0x7dc665(0x2fe)]='default',_0x3017be[_0x7dc665(0x448)]('id');}),_0xbb4319[_0x33ed47(0x168)]=_0x31a484[_0x33ed47(0x21a)],_0x4a513a[_0x33ed47(0x184)](_0x33ed47(0x3a7),startDrag),_0x4a513a[_0x33ed47(0x184)]('mousemove',drag),_0x4a513a[_0x33ed47(0x184)](_0x33ed47(0x260),endDrag),_0x4a513a[_0x33ed47(0x184)](_0x33ed47(0x296),endDrag),_0x4a513a[_0x33ed47(0x184)](_0x33ed47(0x491),startDrag),_0x4a513a['removeEventListener'](_0x33ed47(0x4cf),drag),_0x4a513a[_0x33ed47(0x184)](_0x33ed47(0x3e2),endDrag),_0x4a513a[_0x33ed47(0x184)](_0x33ed47(0x2c2),endDrag),_0x4a513a[_0x33ed47(0x184)](_0x33ed47(0x139),handleSvgEditClick),_0x4a513a['querySelectorAll'](_0x33ed47(0x512))[_0x33ed47(0x426)](_0x537705=>_0x537705[_0x33ed47(0x4ff)]()),_0x4a513a[_0x33ed47(0x33f)]('.draggable-text')['forEach'](_0x2e9f2c=>{const _0x1889d4=_0x33ed47;_0x2e9f2c[_0x1889d4(0x43c)][_0x1889d4(0x4ff)](_0x1889d4(0x43d)),_0x2e9f2c[_0x1889d4(0x1c0)][_0x1889d4(0x2fe)]=_0x1889d4(0x164);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x2f60ab){const _0xf89013=_0x24b34b,_0x56706b=document[_0xf89013(0x33a)]('quiz-editor-modal'),_0x5d1eed=document[_0xf89013(0x33a)](_0xf89013(0x321));_0x5d1eed['innerHTML']=_0xf89013(0x46c),_0x56706b[_0xf89013(0x43c)][_0xf89013(0x4ff)](_0xf89013(0x377));try{const _0x44ff74=doc(db,_0xf89013(0x202)+appId+_0xf89013(0x20a),_0x2f60ab),_0x452424=await getDoc(_0x44ff74);if(!_0x452424['exists']())throw new Error(_0xf89013(0x9e));currentEditingQuizData={'id':_0x2f60ab,..._0x452424[_0xf89013(0x49b)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x39951a){console[_0xf89013(0xb1)](_0xf89013(0x50e),_0x39951a),showMessage(_0xf89013(0x39c)),_0x56706b['classList'][_0xf89013(0x220)](_0xf89013(0x377));}}function renderQuizEditor(_0x303f01){const _0x610b08=_0x24b34b;document[_0x610b08(0x33a)](_0x610b08(0x4e3))[_0x610b08(0x4bb)]=_0x303f01[_0x610b08(0x140)];const _0x5a769b=document[_0x610b08(0x33a)](_0x610b08(0x321));let _0x11eae8=_0x303f01[_0x610b08(0x177)][_0x610b08(0x500)]((_0x221cc7,_0xbdf9d)=>{const _0x8e8569=_0x610b08;let _0x856aff='';const _0x41f358=_0x221cc7[_0x8e8569(0xa0)]||_0x303f01['quizType'];switch(_0x41f358){case _0x8e8569(0x2f4):const _0x21e067=(_0x221cc7[_0x8e8569(0x3a0)]||[])[_0x8e8569(0x500)]((_0x47fc5b,_0x1dc61a)=>_0x8e8569(0x269)+_0xbdf9d+_0x8e8569(0x250)+_0x1dc61a+'\x22\x20'+(_0x1dc61a===_0x221cc7[_0x8e8569(0x3cb)]?_0x8e8569(0x41d):'')+_0x8e8569(0x2cc)+_0x47fc5b+_0x8e8569(0x2e7))[_0x8e8569(0x179)]('');_0x856aff=_0x8e8569(0x2d8)+_0x21e067+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x8e8569(0x3c7):_0x856aff=_0x8e8569(0x8f)+(_0x221cc7[_0x8e8569(0x239)]||'')+_0x8e8569(0xb9);break;case _0x8e8569(0x49f):_0x856aff=_0x8e8569(0x134)+_0xbdf9d+_0x8e8569(0xcc)+(_0x221cc7['correctAnswer']===!![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0xbdf9d+_0x8e8569(0xf0)+(_0x221cc7[_0x8e8569(0x463)]===![]?_0x8e8569(0x41d):'')+_0x8e8569(0x306);break;case _0x8e8569(0x30d):_0x856aff=_0x8e8569(0x1a3)+(_0x221cc7[_0x8e8569(0x13d)]||'')+_0x8e8569(0x249);break;}const _0x522b26=_0x221cc7[_0x8e8569(0x121)]||_0x221cc7['stem']||'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x22\x20data-q-type=\x22'+_0x41f358+_0x8e8569(0xcf)+(_0xbdf9d+0x1)+'\x20('+_0x41f358+_0x8e8569(0x1b3)+_0x522b26+_0x8e8569(0x459)+_0x856aff+_0x8e8569(0x421);})[_0x610b08(0x179)]('');_0x5a769b['innerHTML']=_0x11eae8;}async function handleSaveChanges(){const _0x516e38=_0x24b34b,_0x197740=document[_0x516e38(0x33a)](_0x516e38(0x39e));_0x197740[_0x516e38(0x308)]=!![],_0x197740[_0x516e38(0x3dd)]=_0x516e38(0x4a3);try{const _0x273bd2=document[_0x516e38(0x33a)](_0x516e38(0x4e3))[_0x516e38(0x4bb)],_0x1542e5=document[_0x516e38(0x33f)]('.question-editor-item');let _0x309e70=[];const _0x1f7f5b=Array[_0x516e38(0x221)](_0x1542e5)[_0x516e38(0x500)]((_0x20927a,_0x2ace3b)=>{const _0x3126ee=_0x516e38,_0x2fec0a=_0x20927a[_0x3126ee(0x3f5)][_0x3126ee(0x20d)],_0x2de0f8=_0x20927a[_0x3126ee(0xe5)](_0x3126ee(0x2d9))[_0x3126ee(0x4bb)];let _0x2e276c={'questionType':_0x2fec0a};const _0x415a35=currentEditingQuizData['questions'][_0x2ace3b];switch(_0x2fec0a){case _0x3126ee(0x2f4):_0x2e276c[_0x3126ee(0x121)]=_0x2de0f8;const _0x16972d=_0x20927a[_0x3126ee(0x33f)](_0x3126ee(0x4e8));_0x2e276c[_0x3126ee(0x3a0)]=Array[_0x3126ee(0x221)](_0x16972d)[_0x3126ee(0x500)](_0x506797=>_0x506797[_0x3126ee(0x4bb)]);const _0x5e7d20=_0x20927a[_0x3126ee(0xe5)](_0x3126ee(0x176));_0x2e276c[_0x3126ee(0x3cb)]=_0x5e7d20?parseInt(_0x5e7d20[_0x3126ee(0x4bb)]):0x0;break;case _0x3126ee(0x3c7):_0x2e276c[_0x3126ee(0x121)]=_0x2de0f8,_0x2e276c['idealAnswer']=_0x20927a[_0x3126ee(0xe5)](_0x3126ee(0x279))['value'];break;case _0x3126ee(0x49f):_0x2e276c[_0x3126ee(0x121)]=_0x2de0f8;const _0x431432=_0x20927a['querySelector'](_0x3126ee(0x176));_0x2e276c[_0x3126ee(0x463)]=_0x431432?_0x431432[_0x3126ee(0x4bb)]===_0x3126ee(0x34c):!![];break;case'matching_item':_0x2e276c[_0x3126ee(0x4b4)]=_0x2de0f8;const _0xdb6717=_0x20927a[_0x3126ee(0xe5)](_0x3126ee(0x286));_0x2e276c['correctResponse']=_0xdb6717?_0xdb6717['value']:'',_0x309e70[_0x3126ee(0x1c7)](_0x2e276c[_0x3126ee(0x13d)]);break;default:_0x2e276c[_0x3126ee(0x121)]=_0x2de0f8;break;}return{..._0x415a35,..._0x2e276c};});_0x309e70[_0x516e38(0x114)]>0x0&&_0x1f7f5b['forEach'](_0x13c2ae=>{const _0x3b7e69=_0x516e38;_0x13c2ae[_0x3b7e69(0xa0)]===_0x3b7e69(0x30d)&&(_0x13c2ae[_0x3b7e69(0x298)]=_0x309e70);});const _0x46771f=doc(db,'artifacts/'+appId+'/public/data/quizzes',currentEditingQuizData['id']);await updateDoc(_0x46771f,{'topic':_0x273bd2,'questions':_0x1f7f5b}),showMessage(_0x516e38(0x311)),document[_0x516e38(0x33a)](_0x516e38(0x289))['classList'][_0x516e38(0x220)](_0x516e38(0x377));}catch(_0x8e166c){console[_0x516e38(0xb1)]('Error\x20saving\x20quiz\x20edits:',_0x8e166c),showMessage(_0x516e38(0x4df));}finally{_0x197740[_0x516e38(0x308)]=![],_0x197740[_0x516e38(0x3dd)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function saveQuiz(){const _0x17c7e5=_0x24b34b;if(!currentQuizData||!currentQuizData[_0x17c7e5(0x177)]||!userId||!currentProjectId){showMessage(_0x17c7e5(0x3e5));return;}const _0x48a97e=document[_0x17c7e5(0x33a)]('save-quiz-btn');_0x48a97e['disabled']=!![],_0x48a97e[_0x17c7e5(0x3dd)]=_0x17c7e5(0x4a3),currentQuizData[_0x17c7e5(0x140)]=document[_0x17c7e5(0x33a)](_0x17c7e5(0x128))[_0x17c7e5(0x18b)];try{const _0x33c96c={'resultsDisplay':document[_0x17c7e5(0x33a)](_0x17c7e5(0x4e7))[_0x17c7e5(0x4bb)],'shuffle':document[_0x17c7e5(0x33a)]('shuffle-setting-select')[_0x17c7e5(0x4bb)],'timerMode':document[_0x17c7e5(0x33a)](_0x17c7e5(0x3ec))[_0x17c7e5(0x4bb)],'timerDuration':parseInt(document[_0x17c7e5(0x33a)](_0x17c7e5(0x248))['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0x17c7e5(0x46e))[_0x17c7e5(0x4bb)])||0x0,'passingScore':parseInt(document[_0x17c7e5(0x33a)](_0x17c7e5(0x46e))[_0x17c7e5(0x4bb)])||0x0,'isAdaptive':document[_0x17c7e5(0x33a)](_0x17c7e5(0x2d1))[_0x17c7e5(0x41d)]},_0x31b6c5=(currentQuizData['questions']||[])['map'](_0x1bf229=>{const _0x4e58d7=_0x17c7e5,_0x2590a8=document[_0x4e58d7(0x33a)](_0x4e58d7(0xf8))['value'],_0x46c430={'questionText':_0x1bf229['questionText']||'','explanation':_0x1bf229['explanation']||_0x4e58d7(0x11e),'questionType':_0x1bf229[_0x4e58d7(0xa0)]||_0x2590a8,'imageCode':_0x1bf229[_0x4e58d7(0x168)]||null};return(_0x46c430[_0x4e58d7(0xa0)]==='multiple_choice'||_0x46c430[_0x4e58d7(0xa0)]===_0x4e58d7(0x4a5)||_0x46c430[_0x4e58d7(0xa0)]===_0x4e58d7(0x50c)&&_0x1bf229[_0x4e58d7(0x3a0)])&&(_0x46c430[_0x4e58d7(0x3a0)]=_0x1bf229[_0x4e58d7(0x3a0)]||[],_0x46c430['correctAnswerIndex']=_0x1bf229[_0x4e58d7(0x3cb)]!==undefined?_0x1bf229[_0x4e58d7(0x3cb)]:0x0),(_0x46c430[_0x4e58d7(0xa0)]===_0x4e58d7(0x3c7)||_0x46c430[_0x4e58d7(0xa0)]===_0x4e58d7(0x3c0)||_0x46c430[_0x4e58d7(0xa0)]===_0x4e58d7(0x50c)&&_0x1bf229[_0x4e58d7(0x239)])&&(_0x46c430[_0x4e58d7(0x239)]=_0x1bf229[_0x4e58d7(0x239)]||''),_0x46c430[_0x4e58d7(0xa0)]===_0x4e58d7(0x49f)&&(_0x46c430['correctAnswer']=_0x1bf229[_0x4e58d7(0x463)]===!![]),_0x46c430['questionType']===_0x4e58d7(0x30d)&&(_0x46c430[_0x4e58d7(0x4b4)]=_0x1bf229[_0x4e58d7(0x4b4)]||'',_0x46c430[_0x4e58d7(0x13d)]=_0x1bf229[_0x4e58d7(0x13d)]||'',_0x46c430[_0x4e58d7(0x298)]=_0x1bf229['allResponses']||[]),_0x46c430;}),_0x527489={'topic':currentQuizData[_0x17c7e5(0x140)]||_0x17c7e5(0x10c),'quizType':currentQuizData[_0x17c7e5(0xab)]||_0x17c7e5(0x2f4),'questions':_0x31b6c5,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x17c7e5(0xbd)](),'status':_0x17c7e5(0x3b3),'settings':_0x33c96c};let _0x59d591;while(!![]){_0x59d591=Math[_0x17c7e5(0x2cf)](0x3e8+Math['random']()*0x2328)[_0x17c7e5(0x46b)]();const _0xf3ae52=await getDoc(doc(db,_0x17c7e5(0x202)+appId+_0x17c7e5(0x20a),_0x59d591));if(!_0xf3ae52[_0x17c7e5(0x266)]())break;}await setDoc(doc(db,_0x17c7e5(0x202)+appId+'/public/data/quizzes',_0x59d591),_0x527489),currentQuizData[_0x17c7e5(0x4fc)]=_0x33c96c,currentQuizData['id']=_0x59d591;const _0x3a30ee=document[_0x17c7e5(0x33a)](_0x17c7e5(0x1e8));_0x3a30ee[_0x17c7e5(0x3dd)]=_0x17c7e5(0xb5)+_0x59d591+_0x17c7e5(0xc4),document[_0x17c7e5(0x33a)](_0x17c7e5(0x354))[_0x17c7e5(0x1d5)](_0x17c7e5(0x139),()=>copyTextToClipboard(_0x59d591,_0x17c7e5(0x3cc))),document[_0x17c7e5(0x33a)](_0x17c7e5(0x49e))['addEventListener'](_0x17c7e5(0x139),()=>handleStartLiveRace(_0x59d591)),document[_0x17c7e5(0x33a)](_0x17c7e5(0x430))[_0x17c7e5(0x1d5)](_0x17c7e5(0x139),()=>startPresentation(currentQuizData)),document[_0x17c7e5(0x33a)](_0x17c7e5(0x517))['addEventListener']('click',startAdminTest),showMessage(_0x17c7e5(0x381));}catch(_0xe22677){console[_0x17c7e5(0xb1)](_0x17c7e5(0x2b1),_0xe22677),showMessage(_0x17c7e5(0x4d2)),_0x48a97e[_0x17c7e5(0x308)]=![],_0x48a97e[_0x17c7e5(0x3dd)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function copyTextToClipboard(_0x4dff0d,_0x52d71b){const _0x57d837=_0x24b34b,_0x51133f=document['createElement'](_0x57d837(0x2d9));_0x51133f['value']=_0x4dff0d,_0x51133f[_0x57d837(0x1c0)][_0x57d837(0x4d0)]=_0x57d837(0x218),_0x51133f[_0x57d837(0x1c0)][_0x57d837(0xf9)]='0',document[_0x57d837(0x461)][_0x57d837(0x42e)](_0x51133f),_0x51133f[_0x57d837(0x4c1)](),_0x51133f[_0x57d837(0x419)]();try{const _0x59b15a=document[_0x57d837(0x4fd)](_0x57d837(0x441));showMessage(_0x59b15a?_0x52d71b:_0x57d837(0x28f));}catch(_0x4ecc87){showMessage(_0x57d837(0x28f)),console[_0x57d837(0xb1)]('Copy\x20command\x20failed',_0x4ecc87);}document[_0x57d837(0x461)][_0x57d837(0x225)](_0x51133f);}function listenForProjectQuizzes(_0x1f6527){const _0x305a87=_0x24b34b,_0x783a23=collection(db,_0x305a87(0x202)+appId+_0x305a87(0x20a)),_0x3f53ba=query(_0x783a23,where(_0x305a87(0x34e),'==',_0x1f6527));unsubscribeQuizzesListener=onSnapshot(_0x3f53ba,async _0x736386=>{const _0x4640da=_0x305a87;allQuizzes=_0x736386['docs']['map'](_0x5136bc=>({'id':_0x5136bc['id'],..._0x5136bc[_0x4640da(0x49b)]()})),renderQuizzes();},_0x1d7128=>{const _0x1943b5=_0x305a87;console[_0x1943b5(0xb1)](_0x1943b5(0x3a6),_0x1d7128),document[_0x1943b5(0x33a)](_0x1943b5(0x30c))[_0x1943b5(0x3dd)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x2dadbc=_0x24b34b,_0x31a6ce=document[_0x2dadbc(0x33a)](_0x2dadbc(0x30c)),_0x1688c7=document[_0x2dadbc(0x33a)](_0x2dadbc(0x516))[_0x2dadbc(0x4bb)][_0x2dadbc(0x294)]();let _0x432f73;currentProjectId===_0x2dadbc(0x302)?_0x432f73=starredQuizzes:_0x432f73=allQuizzes;let _0x2c8116=_0x432f73[_0x2dadbc(0x410)](_0x544a04=>_0x544a04[_0x2dadbc(0x140)][_0x2dadbc(0x294)]()[_0x2dadbc(0x102)](_0x1688c7));_0x2c8116['sort']((_0x5f1281,_0x2c09b2)=>new Date(_0x2c09b2[_0x2dadbc(0x352)])-new Date(_0x5f1281[_0x2dadbc(0x352)]));if(_0x2c8116[_0x2dadbc(0x114)]===0x0){_0x31a6ce[_0x2dadbc(0x3dd)]=_0x2dadbc(0x26a);return;}const _0xd08a4={},_0x1e650c=_0x2c8116[_0x2dadbc(0x500)](async _0x21969e=>{const _0x2c340a=_0x2dadbc,_0x157355=collection(db,_0x2c340a(0x202)+appId+_0x2c340a(0x4e2)+_0x21969e['id']+'/submissions'),_0x51ad58=await getDocs(_0x157355);_0xd08a4[_0x21969e['id']]=_0x51ad58[_0x2c340a(0x26d)];});await Promise[_0x2dadbc(0x2d2)](_0x1e650c);let _0x240b5e='';_0x2c8116[_0x2dadbc(0x426)](_0x1aceed=>{const _0x202c43=_0x2dadbc,_0xd95f3=_0xd08a4[_0x1aceed['id']]||0x0,_0x557956=_0x1aceed['status']||_0x202c43(0x3b3),_0x3224a0=_0x1aceed[_0x202c43(0x4fc)]?.[_0x202c43(0x488)]||_0x202c43(0xd3);let _0x47af4b='',_0x412342='';const _0x151f6b=new Date();let _0x3da29f=_0x557956;if(_0x557956===_0x202c43(0x4d3)){const _0x5c7b30=_0x1aceed[_0x202c43(0x1db)]?new Date(_0x1aceed['startTime']):null,_0x4a35d0=_0x1aceed[_0x202c43(0x3d9)]?new Date(_0x1aceed['endTime']):null;if(_0x4a35d0&&_0x151f6b>_0x4a35d0)_0x3da29f=_0x202c43(0x14e);else _0x5c7b30&&_0x151f6b<_0x5c7b30?_0x3da29f=_0x202c43(0x340):_0x3da29f=_0x202c43(0x3b3);}switch(_0x3da29f){case _0x202c43(0x14e):_0x47af4b=_0x202c43(0x29c),_0x412342=_0x202c43(0x126);break;case _0x202c43(0x340):_0x47af4b=_0x202c43(0x2ed),_0x412342=_0x202c43(0x3be);break;case'active':_0x47af4b=_0x3224a0!=='none'?'เปิด\x20(จับเวลา)':_0x202c43(0xfc),_0x412342=_0x202c43(0x367);break;default:_0x47af4b=_0x202c43(0x1e3),_0x412342='text-green-700\x20bg-green-100';}let _0x31c66e='';const _0x314f75={'day':'2-digit','month':_0x202c43(0xa2),'year':_0x202c43(0x144),'hour':_0x202c43(0xa2),'minute':'2-digit','hour12':![]};_0x557956==='scheduled'&&(_0x1aceed[_0x202c43(0x1db)]&&(_0x31c66e+=_0x202c43(0x486)+new Date(_0x1aceed['startTime'])[_0x202c43(0x22d)]('th-TH',_0x314f75)+_0x202c43(0xe0)),_0x1aceed[_0x202c43(0x3d9)]&&(_0x31c66e+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x1aceed[_0x202c43(0x3d9)])[_0x202c43(0x22d)]('th-TH',_0x314f75)+_0x202c43(0xe0))),_0x240b5e+=_0x202c43(0x191)+_0x1aceed['id']+_0x202c43(0x362)+_0x1aceed[_0x202c43(0x140)]+_0x202c43(0x2e1)+_0x1aceed[_0x202c43(0x177)]['length']+_0x202c43(0x4c3)+new Date(_0x1aceed[_0x202c43(0x352)])['toLocaleString']('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>'+_0xd95f3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31c66e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x412342+'\x22>'+_0x47af4b+_0x202c43(0x133)+_0x1aceed['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-2\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1aceed['id']+_0x202c43(0x224)+(_0x1aceed['isStarred']?'fas\x20fa-star\x20text-yellow-500':'far\x20fa-star')+_0x202c43(0x445)+_0x1aceed['id']+_0x202c43(0x37f)+_0x1aceed['id']+_0x202c43(0x245)+_0x1aceed[_0x202c43(0x140)]+_0x202c43(0x3cf)+_0x1aceed['id']+_0x202c43(0x4ea)+_0x1aceed['id']+_0x202c43(0x10e)+_0x1aceed['id']+_0x202c43(0x3c1)+_0x1aceed['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1aceed['id']+_0x202c43(0x429)+_0x1aceed['id']+_0x202c43(0x3da)+_0x1aceed['id']+_0x202c43(0xa1)+_0x1aceed['id']+_0x202c43(0x245)+_0x1aceed[_0x202c43(0x140)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x20ml-auto\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x31a6ce['innerHTML']=_0x240b5e,document[_0x2dadbc(0x33f)](_0x2dadbc(0x25a))[_0x2dadbc(0x426)](_0x736c60=>{const _0xe09433=_0x2dadbc;_0x736c60[_0xe09433(0x1d5)](_0xe09433(0x139),()=>{const _0x55ab2d=_0xe09433,_0x37b27a=_0x736c60[_0x55ab2d(0x3f5)]['quizId'];showQuizDetailView(_0x37b27a);});});}async function handleDuplicateQuiz(_0x1741b1){const _0x16bae2=_0x24b34b;try{const _0x7539d1=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1741b1),_0x2369ac=await getDoc(_0x7539d1);if(_0x2369ac[_0x16bae2(0x266)]()){const _0x1936b9=_0x2369ac[_0x16bae2(0x49b)](),_0x51f69c={..._0x1936b9,'topic':'(คัดลอก)\x20'+_0x1936b9[_0x16bae2(0x140)],'createdAt':new Date()['toISOString']()};await addDoc(collection(db,_0x16bae2(0x202)+appId+_0x16bae2(0x20a)),_0x51f69c),showMessage(_0x16bae2(0x2e8));}else throw new Error(_0x16bae2(0x347));}catch(_0x346de3){console[_0x16bae2(0xb1)](_0x16bae2(0x18a),_0x346de3),showMessage(_0x16bae2(0xc8));}}async function handleDeleteQuiz(_0x178427,_0x45f92f=!![]){const _0x1ff095=_0x24b34b;try{const _0x530929=writeBatch(db),_0x4d1587=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x178427+_0x1ff095(0x150)),_0x39b681=await getDocs(_0x4d1587);_0x39b681[_0x1ff095(0x426)](_0x110d92=>{const _0x797c32=_0x1ff095;_0x530929[_0x797c32(0x383)](doc(_0x4d1587,_0x110d92['id']));});const _0xa9782d=doc(db,_0x1ff095(0x202)+appId+_0x1ff095(0x20a),_0x178427);_0x530929[_0x1ff095(0x383)](_0xa9782d),await _0x530929['commit'](),_0x45f92f&&showMessage(_0x1ff095(0x2e5));}catch(_0x5ab029){console['error'](_0x1ff095(0x288),_0x5ab029),_0x45f92f&&showMessage(_0x1ff095(0xc7));}}async function showQuizDetailView(_0x5923ad){const _0x19d836=_0x24b34b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x32390c=doc(db,_0x19d836(0x202)+appId+_0x19d836(0x20a),_0x5923ad),_0x23f428=await getDoc(_0x32390c);if(!_0x23f428[_0x19d836(0x266)]()){showMessage(_0x19d836(0x237));return;}const _0x4bb819={'id':_0x23f428['id'],..._0x23f428['data']()};currentQuizData=_0x4bb819;const _0xed1f10=doc(db,'artifacts/'+appId+_0x19d836(0x30b),_0x4bb819[_0x19d836(0x34e)]),_0x47ea63=await getDoc(_0xed1f10);_0x47ea63[_0x19d836(0x266)]()?(currentProjectData=_0x47ea63[_0x19d836(0x49b)](),currentProjectId=_0x4bb819['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x4bb819[_0x19d836(0x34e)]);document[_0x19d836(0x33a)]('results-quiz-title')['textContent']=_0x4bb819['topic'],document['getElementById'](_0x19d836(0x368))['textContent']=_0x5923ad;const _0x23443c=collection(db,_0x19d836(0x202)+appId+_0x19d836(0x20a),_0x5923ad,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x23443c,_0x5d9614=>{const _0x54350a=_0x19d836,_0x235611=_0x5d9614['docs'][_0x54350a(0x500)](_0x4cadb1=>({'id':_0x4cadb1['id'],..._0x4cadb1[_0x54350a(0x49b)]()}));currentSubmissions=_0x235611,renderAnalytics(_0x4bb819,_0x235611),renderQuizResultsTable(currentProjectData[_0x54350a(0x1b7)],_0x235611,_0x4bb819),renderQuizLeaderboard(_0x235611,_0x4bb819,_0x54350a(0x346));}),showView(_0x19d836(0xad));}catch(_0x21c019){console[_0x19d836(0xb1)](_0x19d836(0x515),_0x21c019),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderQuizResultsTable(_0x550322,_0x5e40c7,_0x587353){const _0x40afea=_0x24b34b,_0x4870e2=_0x5e40c7[_0x40afea(0xeb)]((_0x70f28b,_0xbe63f9)=>{return _0x70f28b[_0xbe63f9['studentName']]=_0xbe63f9,_0x70f28b;},{}),_0x2b31d9=document[_0x40afea(0x33a)]('quiz-results-table-body');if(!_0x550322||_0x550322[_0x40afea(0x114)]===0x0){_0x2b31d9['innerHTML']='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x463c95=_0x587353[_0x40afea(0x44b)]===!![],_0x4b4fc4=_0x587353[_0x40afea(0x4fc)]?.[_0x40afea(0x328)]??-0x1;let _0x3c55d8='';_0x550322['forEach'](_0x41da9f=>{const _0x488774=_0x40afea,_0x233260=_0x4870e2[_0x41da9f];let _0x1f48b3='<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>',_0x493c76='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x463c95?_0x488774(0x4f8):_0x488774(0x232))+'\x22>'+(_0x463c95?_0x488774(0x351):'สอบปกติ')+_0x488774(0x4cc);if(_0x233260){let _0x251e83;_0x463c95?_0x251e83=_0x233260[_0x488774(0x42d)]===_0x233260[_0x488774(0x2b9)]:_0x251e83=_0x4b4fc4!==-0x1&&_0x233260[_0x488774(0x42d)]>=_0x4b4fc4;if(_0x463c95||_0x4b4fc4!==-0x1){const _0x4cda1b=_0x251e83?'bg-green-100\x20text-green-800':_0x488774(0x22a),_0x18fea7=_0x251e83?_0x488774(0x2fb):_0x488774(0x1b6);_0x1f48b3=_0x488774(0x17c)+_0x4cda1b+'\x22>'+_0x18fea7+'</span></td>';}const _0xab0ea9=_0x488774(0x387)+(_0x233260[_0x488774(0x47c)]?.[_0x488774(0x114)]||0x1)+'\x20ครั้ง)</span></td>';_0x3c55d8+=_0x488774(0x2dc)+_0x41da9f+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x233260[_0x488774(0x42d)]+_0x488774(0xbf)+_0x233260[_0x488774(0x2b9)]+_0x488774(0x1cb)+_0x1f48b3+_0x488774(0x116)+_0x493c76+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x233260[_0x488774(0x1cc)]+_0x488774(0xbf)+_0x233260[_0x488774(0x2b9)]+_0x488774(0x40a)+_0x233260['latestScore']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x233260['points']||0x0)+_0x488774(0x1cb)+_0xab0ea9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x233260[_0x488774(0x236)])['toLocaleString'](_0x488774(0xa6))+_0x488774(0x117);}else{const _0x3c2c32=_0x488774(0x185);_0x3c55d8+=_0x488774(0x2dc)+_0x41da9f+_0x488774(0x3ae)+_0x493c76+_0x488774(0xa7)+_0x3c2c32+_0x488774(0x44f);}}),_0x2b31d9[_0x40afea(0x3dd)]=_0x3c55d8;}function handleRenameQuiz(_0x597c76,_0x422dde){const _0x8acc98=_0x24b34b;actionTargetId=_0x597c76,document[_0x8acc98(0x33a)](_0x8acc98(0x403))[_0x8acc98(0x4bb)]=_0x422dde,renameQuizModal['classList'][_0x8acc98(0x4ff)](_0x8acc98(0x377));}async function confirmRenameQuiz(){const _0x318403=_0x24b34b,_0x58233d=document[_0x318403(0x33a)](_0x318403(0x403))[_0x318403(0x4bb)][_0x318403(0x4c4)]();if(!_0x58233d){showMessage(_0x318403(0x154));return;}if(!actionTargetId)return;const _0x12d5c3=doc(db,'artifacts/'+appId+_0x318403(0x20a),actionTargetId);try{await updateDoc(_0x12d5c3,{'topic':_0x58233d}),showMessage(_0x318403(0x2f1)),renameQuizModal['classList'][_0x318403(0x220)](_0x318403(0x377)),actionTargetId=null;}catch(_0x5f024f){console[_0x318403(0xb1)](_0x318403(0x28c),_0x5f024f),showMessage(_0x318403(0x3ef));}}async function handleMoveQuiz(_0x5cca97){const _0x2a5973=_0x24b34b;actionTargetId=_0x5cca97;const _0x366f86=document[_0x2a5973(0x33a)]('move-quiz-project-select');_0x366f86[_0x2a5973(0x3dd)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal['classList'][_0x2a5973(0x4ff)]('hidden');try{const _0x92c98d=collection(db,_0x2a5973(0x202)+appId+'/public/data/projects'),_0x153258=await getDocs(_0x92c98d),_0x2e5928=_0x153258['docs'][_0x2a5973(0x500)](_0x18cb83=>({'id':_0x18cb83['id'],..._0x18cb83[_0x2a5973(0x49b)]()})),_0x3fb17c=_0x2e5928[_0x2a5973(0x410)](_0x1bbafb=>_0x1bbafb['id']!==currentProjectId);if(_0x3fb17c[_0x2a5973(0x114)]===0x0){_0x366f86[_0x2a5973(0x3dd)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x2a5973(0x33a)](_0x2a5973(0x4b3))['disabled']=!![];return;}_0x366f86[_0x2a5973(0x3dd)]=_0x3fb17c[_0x2a5973(0x500)](_0x139420=>'<option\x20value=\x22'+_0x139420['id']+'\x22>'+_0x139420[_0x2a5973(0x439)]+_0x2a5973(0x120))[_0x2a5973(0x179)](''),document['getElementById'](_0x2a5973(0x4b3))[_0x2a5973(0x308)]=![];}catch(_0x2ab294){console['error'](_0x2a5973(0x498),_0x2ab294),showMessage(_0x2a5973(0x243)),moveQuizModal[_0x2a5973(0x43c)]['add'](_0x2a5973(0x377));}}async function confirmMoveQuiz(){const _0x308955=_0x24b34b,_0x5db29d=document[_0x308955(0x33a)](_0x308955(0x1f6))['value'];if(!_0x5db29d){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x4dad8e=doc(db,_0x308955(0x202)+appId+_0x308955(0x20a),actionTargetId);try{await updateDoc(_0x4dad8e,{'projectId':_0x5db29d}),showMessage(_0x308955(0x3b2)),moveQuizModal['classList'][_0x308955(0x220)]('hidden'),actionTargetId=null;}catch(_0x201160){console[_0x308955(0xb1)](_0x308955(0x21e),_0x201160),showMessage(_0x308955(0x47d));}}async function handleQuizSettings(_0x31aeac){const _0x48e14b=_0x24b34b;actionTargetId=_0x31aeac;const _0x5d0a0d=doc(db,_0x48e14b(0x202)+appId+_0x48e14b(0x20a),_0x31aeac);try{const _0x2b035f=await getDoc(_0x5d0a0d);if(_0x2b035f[_0x48e14b(0x266)]()){const _0x2ec1f9=_0x2b035f[_0x48e14b(0x49b)](),_0x35db87=_0x2ec1f9['settings']||{},_0x572f45=_0x2ec1f9[_0x48e14b(0x177)][_0x48e14b(0x114)];document[_0x48e14b(0x33a)](_0x48e14b(0x344))[_0x48e14b(0x4bb)]=_0x35db87['shuffle']||_0x48e14b(0xd3),document[_0x48e14b(0x33a)](_0x48e14b(0x1ad))[_0x48e14b(0x4bb)]=_0x35db87[_0x48e14b(0x360)]||_0x48e14b(0x31f),document[_0x48e14b(0x33a)]('modal-timer-mode-select')[_0x48e14b(0x4bb)]=_0x35db87[_0x48e14b(0x488)]||_0x48e14b(0xd3),document['getElementById'](_0x48e14b(0x4bd))['value']=_0x35db87[_0x48e14b(0x3db)]||0xa,document[_0x48e14b(0x33a)](_0x48e14b(0x307))['value']=_0x35db87[_0x48e14b(0x328)]||Math[_0x48e14b(0x2cf)](_0x572f45/0x2),document[_0x48e14b(0x33a)](_0x48e14b(0x307))[_0x48e14b(0x31d)]=_0x572f45,document[_0x48e14b(0x33a)](_0x48e14b(0x28a))[_0x48e14b(0x41d)]=_0x35db87[_0x48e14b(0x447)]||![],document[_0x48e14b(0x33a)]('modal-timer-mode-select')['dispatchEvent'](new Event(_0x48e14b(0x40e))),quizSettingsModal['classList']['remove'](_0x48e14b(0x377));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x3adfe4){console[_0x48e14b(0xb1)]('Error\x20fetching\x20quiz\x20settings:',_0x3adfe4),showMessage(_0x48e14b(0x3fc));}}async function confirmQuizSettings(){const _0x7a4bcc=_0x24b34b;if(!actionTargetId)return;const _0xf2ac9b=doc(db,_0x7a4bcc(0x202)+appId+_0x7a4bcc(0x20a),actionTargetId),_0x1f5d57={'shuffle':document['getElementById'](_0x7a4bcc(0x344))['value'],'resultsDisplay':document[_0x7a4bcc(0x33a)](_0x7a4bcc(0x1ad))[_0x7a4bcc(0x4bb)],'timerMode':document[_0x7a4bcc(0x33a)](_0x7a4bcc(0x28d))[_0x7a4bcc(0x4bb)],'timerDuration':parseInt(document[_0x7a4bcc(0x33a)]('modal-timer-duration-input')[_0x7a4bcc(0x4bb)])||0xa,'passingScore':parseInt(document[_0x7a4bcc(0x33a)](_0x7a4bcc(0x307))[_0x7a4bcc(0x4bb)])||0x0,'passingScore':parseInt(document[_0x7a4bcc(0x33a)]('modal-passing-score-input')[_0x7a4bcc(0x4bb)])||0x0,'isAdaptive':document['getElementById'](_0x7a4bcc(0x28a))[_0x7a4bcc(0x41d)]};try{await updateDoc(_0xf2ac9b,{'settings':_0x1f5d57}),showMessage(_0x7a4bcc(0x334)),quizSettingsModal[_0x7a4bcc(0x43c)]['add'](_0x7a4bcc(0x377)),actionTargetId=null;}catch(_0x34f447){console[_0x7a4bcc(0xb1)](_0x7a4bcc(0x299),_0x34f447),showMessage(_0x7a4bcc(0x4df));}}async function handleQuizStatus(_0x5aa998){const _0x58436b=_0x24b34b;actionTargetId=_0x5aa998;const _0x389446=doc(db,_0x58436b(0x202)+appId+'/public/data/quizzes',_0x5aa998);try{const _0x20b99c=await getDoc(_0x389446);if(_0x20b99c[_0x58436b(0x266)]()){const _0x2b2885=_0x20b99c[_0x58436b(0x49b)](),_0x56d402=_0x2b2885[_0x58436b(0x4d6)]||_0x58436b(0x3b3),_0x4efed6=document[_0x58436b(0x33a)](_0x58436b(0x1e7)),_0x196473=document[_0x58436b(0x33a)]('quiz-schedule-start-container'),_0x895b14=document['getElementById'](_0x58436b(0x4dd));let _0x193bd4=_0x58436b(0x290)+(_0x56d402===_0x58436b(0x3b3)?_0x58436b(0x41d):'')+'>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20'+(_0x56d402===_0x58436b(0x14e)?_0x58436b(0x41d):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x56d402===_0x58436b(0x4d3)?_0x58436b(0x41d):'')+'>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x4efed6[_0x58436b(0x3dd)]=_0x193bd4;const _0x192435=_0x56d402==='scheduled';_0x196473[_0x58436b(0x43c)][_0x58436b(0x495)](_0x58436b(0x377),!_0x192435),_0x895b14[_0x58436b(0x43c)][_0x58436b(0x495)](_0x58436b(0x377),!_0x192435),document[_0x58436b(0x33a)]('quiz-start-time')[_0x58436b(0x4bb)]=_0x2b2885['startTime']?_0x2b2885['startTime'][_0x58436b(0x2c9)](0x0,0x10):'',document[_0x58436b(0x33a)](_0x58436b(0x379))['value']=_0x2b2885[_0x58436b(0x3d9)]?_0x2b2885[_0x58436b(0x3d9)]['substring'](0x0,0x10):'',_0x4efed6[_0x58436b(0x33f)](_0x58436b(0x3bb))['forEach'](_0x130536=>{const _0x3a5bb4=_0x58436b;_0x130536[_0x3a5bb4(0x1d5)](_0x3a5bb4(0x40e),_0x42541c=>{const _0x21f2fb=_0x3a5bb4,_0x5e1b2f=_0x42541c[_0x21f2fb(0xb3)][_0x21f2fb(0x4bb)]==='schedule';_0x196473[_0x21f2fb(0x43c)][_0x21f2fb(0x495)](_0x21f2fb(0x377),!_0x5e1b2f),_0x895b14[_0x21f2fb(0x43c)]['toggle'](_0x21f2fb(0x377),!_0x5e1b2f);});}),quizStatusModal[_0x58436b(0x43c)][_0x58436b(0x4ff)](_0x58436b(0x377));}}catch(_0x423679){console['error']('Error\x20fetching\x20quiz\x20status:',_0x423679),showMessage(_0x58436b(0xe1));}}async function confirmQuizStatus(){const _0x23b07f=_0x24b34b;if(!actionTargetId)return;const _0x26b95e=doc(db,_0x23b07f(0x202)+appId+_0x23b07f(0x20a),actionTargetId),_0x20f344=document[_0x23b07f(0xe5)](_0x23b07f(0x3b1));if(!_0x20f344){showMessage(_0x23b07f(0xbc));return;}const _0x373f95=_0x20f344['value'];let _0x59f36f={};if(_0x373f95===_0x23b07f(0x3b3)||_0x373f95==='inactive')_0x59f36f={'status':_0x373f95,'startTime':null,'endTime':null};else{if(_0x373f95===_0x23b07f(0x143)){const _0x11d13f=document[_0x23b07f(0x33a)]('quiz-start-time')[_0x23b07f(0x4bb)],_0x4b0821=document['getElementById']('quiz-end-time')['value'];if(!_0x11d13f&&!_0x4b0821){showMessage(_0x23b07f(0x208));return;}_0x59f36f={'status':_0x23b07f(0x4d3),'startTime':_0x11d13f?new Date(_0x11d13f)[_0x23b07f(0xbd)]():null,'endTime':_0x4b0821?new Date(_0x4b0821)['toISOString']():null};}}try{await updateDoc(_0x26b95e,_0x59f36f),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal['classList'][_0x23b07f(0x220)](_0x23b07f(0x377)),actionTargetId=null;}catch(_0x465428){console[_0x23b07f(0xb1)](_0x23b07f(0x36b),_0x465428),showMessage(_0x23b07f(0x36c));}}function listenForStudentProfiles(_0x12e407){const _0x530d10=_0x24b34b,_0xc033ae=collection(db,_0x530d10(0x202)+appId+'/public/data/projects/'+_0x12e407+_0x530d10(0x227));unsubscribeStudentProfilesListener=onSnapshot(_0xc033ae,_0x455d1a=>{const _0x3d59b4=_0x530d10,_0x190f87=_0x455d1a[_0x3d59b4(0xb7)]['map'](_0x276269=>_0x276269[_0x3d59b4(0x49b)]());renderLeaderboard(_0x190f87,_0x3d59b4(0x3f2));},_0x551c52=>{const _0x514634=_0x530d10;console['error'](_0x514634(0xd0),_0x551c52),document[_0x514634(0x33a)](_0x514634(0x3f2))[_0x514634(0x3dd)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x309099,_0x26b1e2){const _0x3609cf=_0x24b34b,_0x53b11d=document[_0x3609cf(0x33a)](_0x26b1e2);if(!_0x309099||_0x309099[_0x3609cf(0x114)]===0x0){_0x53b11d[_0x3609cf(0x3dd)]=_0x3609cf(0x432);return;}_0x309099['sort']((_0x288668,_0x429530)=>{const _0x3e1138=_0x3609cf,_0x485293=(_0x429530[_0x3e1138(0x4f5)]||0x0)-(_0x288668['totalPoints']||0x0);if(_0x485293!==0x0)return _0x485293;const _0x2e857d=(_0x429530[_0x3e1138(0x49c)]?.[_0x3e1138(0x22c)]||0x0)-(_0x288668[_0x3e1138(0x49c)]?.['specialist']||0x0);if(_0x2e857d!==0x0)return _0x2e857d;const _0x3bf593=(_0x429530['badgesCount']?.[_0x3e1138(0x2d5)]||0x0)-(_0x288668[_0x3e1138(0x49c)]?.[_0x3e1138(0x2d5)]||0x0);if(_0x3bf593!==0x0)return _0x3bf593;const _0xe3cc3d=(_0x429530[_0x3e1138(0x49c)]?.[_0x3e1138(0x416)]||0x0)-(_0x288668[_0x3e1138(0x49c)]?.[_0x3e1138(0x416)]||0x0);if(_0xe3cc3d!==0x0)return _0xe3cc3d;const _0x50914e=(_0x429530[_0x3e1138(0x49c)]?.[_0x3e1138(0x166)]||0x0)-(_0x288668[_0x3e1138(0x49c)]?.['quick_thinker']||0x0);if(_0x50914e!==0x0)return _0x50914e;return _0x288668[_0x3e1138(0x415)]['localeCompare'](_0x429530[_0x3e1138(0x415)],'th');});let _0x3ff0c5='';_0x309099[_0x3609cf(0x426)]((_0x37f1c2,_0x36dc22)=>{const _0x145316=_0x3609cf,_0x3623b4=_0x36dc22+0x1,_0x760f94=_0x37f1c2[_0x145316(0x49c)]||{};let _0x4a8032='';const _0x52288f=[_0x145316(0x22c),_0x145316(0x416),_0x145316(0x2d5),'quick_thinker'];_0x52288f[_0x145316(0x426)](_0x27ddd0=>{const _0x2854b1=_0x145316;if(_0x760f94[_0x27ddd0]>0x0){const _0x314233=Object[_0x2854b1(0x4d1)](BADGES)[_0x2854b1(0x4f9)](_0x55c53c=>_0x55c53c['id']===_0x27ddd0);_0x314233&&(_0x27ddd0===_0x2854b1(0x22c)?_0x4a8032+=_0x2854b1(0x119)+_0x314233['name']+_0x2854b1(0x2b2)+_0x314233[_0x2854b1(0x1f4)]+_0x2854b1(0x336):_0x4a8032+=_0x2854b1(0x119)+_0x314233[_0x2854b1(0x2f0)]+'\x20('+_0x760f94[_0x27ddd0]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x314233['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x760f94[_0x27ddd0]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x3ff0c5+=_0x145316(0x222)+_0x3623b4+_0x145316(0x99)+_0x37f1c2[_0x145316(0x415)]+_0x145316(0x301)+(_0x37f1c2['totalPoints']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x4a8032||'-')+_0x145316(0x458);}),_0x53b11d[_0x3609cf(0x3dd)]=_0x3ff0c5;}function renderQuizLeaderboard(_0x1b513a,_0x4f5268,_0x24c9ca){const _0x4c26cb=_0x24b34b,_0x21162c=document['getElementById'](_0x24c9ca),_0x579c30=_0x24c9ca==='student-quiz-leaderboard-table-body',_0x2387b5=_0x4f5268[_0x4c26cb(0x177)][_0x4c26cb(0x114)],_0xc610b5=document['getElementById'](_0x24c9ca)['closest'](_0x4c26cb(0x43b));if(_0xc610b5&&!_0x579c30){const _0x1f1cb0=_0xc610b5['querySelector']('thead');_0x1f1cb0['innerHTML']=_0x4c26cb(0x3f0);}if(!_0x1b513a||_0x1b513a['length']===0x0){_0x21162c[_0x4c26cb(0x3dd)]=_0x4c26cb(0x3c5)+(_0x579c30?0x6:0x8)+_0x4c26cb(0x3f8);return;}const _0x59fab9=[..._0x1b513a];_0x59fab9[_0x4c26cb(0x1c4)]((_0x4beae3,_0x2e2fa5)=>{const _0x293911=_0x4c26cb;let _0x2efbf9,_0x3bea22;switch(quizLeaderboardSortBy){case _0x293911(0x415):_0x2efbf9=_0x4beae3[_0x293911(0x415)]||'',_0x3bea22=_0x2e2fa5['studentName']||'';return quizLeaderboardSortOrder===_0x293911(0x27f)?_0x2efbf9[_0x293911(0x27d)](_0x3bea22,'th'):_0x3bea22[_0x293911(0x27d)](_0x2efbf9,'th');case _0x293911(0x1c8):_0x2efbf9=_0x4beae3[_0x293911(0x1c8)]||0x0,_0x3bea22=_0x2e2fa5['points']||0x0;break;case _0x293911(0x47c):_0x2efbf9=_0x4beae3[_0x293911(0x47c)]?.['length']||0x1,_0x3bea22=_0x2e2fa5['attempts']?.[_0x293911(0x114)]||0x1;break;case _0x293911(0x236):_0x2efbf9=new Date(_0x4beae3[_0x293911(0x236)]),_0x3bea22=new Date(_0x2e2fa5['latestSubmittedAt']);break;case'bestScore':default:_0x2efbf9=_0x4beae3['bestScore'],_0x3bea22=_0x2e2fa5[_0x293911(0x42d)];break;}if(_0x2efbf9<_0x3bea22)return quizLeaderboardSortOrder===_0x293911(0x27f)?-0x1:0x1;if(_0x2efbf9>_0x3bea22)return quizLeaderboardSortOrder===_0x293911(0x27f)?0x1:-0x1;return 0x0;});const _0xd8047d=_0x4f5268['isRemedial']===!![],_0x30ec66=_0x4f5268[_0x4c26cb(0x4fc)]?.['passingScore']??-0x1;let _0x4b8397='';_0x59fab9[_0x4c26cb(0x426)]((_0x43d8b2,_0x3b3b97)=>{const _0x35ad65=_0x4c26cb,_0x58e0ed=_0x3b3b97+0x1;let _0x38f509=_0x35ad65(0x146);if(_0xd8047d||_0x30ec66!==-0x1){let _0xbf64c=_0xd8047d?_0x43d8b2[_0x35ad65(0x42d)]===_0x2387b5:_0x43d8b2['bestScore']>=_0x30ec66;const _0x3dfe4c=_0xbf64c?_0x35ad65(0x157):_0x35ad65(0x22a),_0x4bcb7f=_0xbf64c?_0x35ad65(0x2fb):_0x35ad65(0x1b6);_0x38f509=_0x35ad65(0x15a)+_0x3dfe4c+'\x22>'+_0x4bcb7f+'</span></td>';}const _0x5ebfe3=_0x43d8b2[_0x35ad65(0x47c)][_0x43d8b2['attempts'][_0x35ad65(0x114)]-0x1],_0x343100=(_0x5ebfe3['badges']||[])[_0x35ad65(0x500)](_0x2461ec=>{const _0x28f0c3=_0x35ad65,_0x574230=Object[_0x28f0c3(0x4d1)](BADGES)[_0x28f0c3(0x4f9)](_0x59014e=>_0x59014e['id']===_0x2461ec);return _0x574230?'<span\x20title=\x22'+_0x574230[_0x28f0c3(0x2f0)]+_0x28f0c3(0xea)+_0x574230['icon']+'\x20mx-1\x20text-lg\x22></i></span>':'';})['join']('');_0x4b8397+=_0x35ad65(0x514)+_0x58e0ed+_0x35ad65(0x16f)+_0x43d8b2['studentName']+_0x35ad65(0x361)+_0x43d8b2[_0x35ad65(0x42d)]+_0x35ad65(0xbf)+_0x2387b5+_0x35ad65(0x1c3)+_0x38f509+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x43d8b2[_0x35ad65(0x1c8)]||0x0)+_0x35ad65(0x1c3)+(_0x579c30?'':_0x35ad65(0x122)+(_0x43d8b2[_0x35ad65(0x47c)]?.[_0x35ad65(0x114)]||0x1)+_0x35ad65(0x231))+_0x35ad65(0x272)+(_0x579c30?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x43d8b2[_0x35ad65(0x236)])[_0x35ad65(0x22d)](_0x35ad65(0xa6))+_0x35ad65(0x231))+_0x35ad65(0x1ea)+(_0x343100||'-')+_0x35ad65(0x17d);}),_0x21162c[_0x4c26cb(0x3dd)]=_0x4b8397,_0xc610b5&&!_0x579c30&&_0xc610b5[_0x4c26cb(0x33f)]('thead\x20.sortable-header')[_0x4c26cb(0x426)](_0x50f79d=>{const _0x1d5db4=_0x4c26cb,_0x3e1df5=_0x50f79d[_0x1d5db4(0xe5)](_0x1d5db4(0x1fb));if(_0x3e1df5)_0x3e1df5['remove']();_0x50f79d[_0x1d5db4(0x3f5)][_0x1d5db4(0x1c4)]===quizLeaderboardSortBy&&(_0x50f79d[_0x1d5db4(0x3dd)]+=_0x1d5db4(0x472)+(quizLeaderboardSortOrder===_0x1d5db4(0x27f)?'▲':'▼')+_0x1d5db4(0x396));});}async function handleLoadQuiz(){const _0x31e5fa=_0x24b34b,_0x2c9ad6=document[_0x31e5fa(0x33a)](_0x31e5fa(0xc2)),_0x39105d=_0x2c9ad6[_0x31e5fa(0x4bb)][_0x31e5fa(0x4c4)]();if(!_0x39105d){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x31e5fa(0x3dd)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x3cfbbd=doc(db,_0x31e5fa(0x202)+appId+_0x31e5fa(0x20a),_0x39105d),_0x33527c=await getDoc(_0x3cfbbd);if(!_0x33527c[_0x31e5fa(0x266)]()){showMessage(_0x31e5fa(0x3ff));return;}currentQuizData={'id':_0x33527c['id'],..._0x33527c['data']()};const _0x4f4439=currentQuizData[_0x31e5fa(0x4d6)]||_0x31e5fa(0x3b3),_0x515344=new Date();if(_0x4f4439===_0x31e5fa(0x14e)){showMessage(_0x31e5fa(0x25e));return;}if(_0x4f4439===_0x31e5fa(0x4d3)){const _0xed3dbc=currentQuizData['startTime']?new Date(currentQuizData[_0x31e5fa(0x1db)]):null,_0x433d4a=currentQuizData['endTime']?new Date(currentQuizData['endTime']):null;if(_0xed3dbc&&_0x515344<_0xed3dbc){showMessage(_0x31e5fa(0x456)+_0xed3dbc[_0x31e5fa(0x22d)](_0x31e5fa(0xa6),{'hour12':![]}));return;}if(_0x433d4a&&_0x515344>_0x433d4a){showMessage(_0x31e5fa(0x391));return;}}const _0x4c9a41=currentQuizData[_0x31e5fa(0x34e)];currentProjectId=_0x4c9a41;const _0x56f9b1=doc(db,'artifacts/'+appId+_0x31e5fa(0x30b),_0x4c9a41),_0x385c6d=await getDoc(_0x56f9b1);if(!_0x385c6d[_0x31e5fa(0x266)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x36fc86=_0x385c6d[_0x31e5fa(0x49b)]();currentStudentProjectData=_0x36fc86,displayStudentNameSelector(_0x36fc86[_0x31e5fa(0x1b7)],currentQuizData[_0x31e5fa(0x140)]);}catch(_0x5a68f1){console['error'](_0x31e5fa(0x4b2),_0x5a68f1),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x31e5fa(0x3dd)]=_0x31e5fa(0x108);}}async function handleJoinLiveGame(){const _0x4e02aa=_0x24b34b,_0x5b0aaa=document[_0x4e02aa(0x33a)]('game-pin-input'),_0x1fa9c7=document[_0x4e02aa(0x33a)]('nickname-input'),_0x535459=document[_0x4e02aa(0x33a)](_0x4e02aa(0x2ce)),_0x3f5547=_0x5b0aaa[_0x4e02aa(0x4bb)]['trim'](),_0x3d8899=_0x1fa9c7['value'][_0x4e02aa(0x4c4)]();if(!_0x3f5547||!_0x3d8899){showMessage(_0x4e02aa(0x372));return;}_0x535459[_0x4e02aa(0x308)]=!![],_0x535459[_0x4e02aa(0x3dd)]=_0x4e02aa(0x1bf);try{const _0x38750a=collection(db,_0x4e02aa(0x202)+appId+_0x4e02aa(0x2f5)),_0x4177c5=query(_0x38750a,where(_0x4e02aa(0x341),'==',_0x3f5547),where(_0x4e02aa(0x4d6),'==',_0x4e02aa(0x1ab))),_0x38faca=await getDocs(_0x4177c5);if(_0x38faca[_0x4e02aa(0x255)]){showMessage(_0x4e02aa(0x314));return;}const _0x3b72e9=_0x38faca[_0x4e02aa(0xb7)][0x0],_0x5c3de4=_0x3b72e9['data']();currentLiveGameId=_0x3b72e9['id'];const _0x50c91d=_0x5c3de4[_0x4e02aa(0x390)],_0x590312=doc(db,_0x4e02aa(0x202)+appId+'/public/data/quizzes',_0x50c91d),_0x13af95=await getDoc(_0x590312);if(!_0x13af95[_0x4e02aa(0x266)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x13af95['id'],..._0x13af95[_0x4e02aa(0x49b)]()};if(_0x5c3de4[_0x4e02aa(0x357)]&&_0x5c3de4[_0x4e02aa(0x357)][_0x3d8899]){showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น');return;}const _0x49e2dc={};_0x49e2dc[_0x4e02aa(0x4b6)+_0x3d8899]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x4e02aa(0x202)+appId+_0x4e02aa(0x2f5),currentLiveGameId),_0x49e2dc),currentStudentName=_0x3d8899,listenForLiveGameUpdates();}catch(_0x8ca251){console[_0x4e02aa(0xb1)](_0x4e02aa(0x2ca),_0x8ca251),showMessage(_0x4e02aa(0x13f));}finally{_0x535459[_0x4e02aa(0x308)]=![],_0x535459[_0x4e02aa(0x3dd)]=_0x4e02aa(0x1e0);}}function displayStudentNameSelector(_0x1c3a2c,_0xc7f875){const _0x5a7921=_0x24b34b,_0x57f3a4=document[_0x5a7921(0x33a)](_0x5a7921(0x41f));document['getElementById'](_0x5a7921(0x464))[_0x5a7921(0x4fa)]=_0x5a7921(0x331)+_0xc7f875,!_0x1c3a2c||_0x1c3a2c[_0x5a7921(0x114)]===0x0?(_0x57f3a4[_0x5a7921(0x3dd)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x5a7921(0x308)]=!![]):(_0x57f3a4[_0x5a7921(0x3dd)]=_0x5a7921(0x3f4),_0x1c3a2c[_0x5a7921(0x426)](_0x1dc525=>{const _0xb09f7f=_0x5a7921,_0x2f0ea8=document[_0xb09f7f(0x1fe)](_0xb09f7f(0x12c));_0x2f0ea8[_0xb09f7f(0x4bb)]=_0x1dc525,_0x2f0ea8[_0xb09f7f(0x4fa)]=_0x1dc525,_0x57f3a4[_0xb09f7f(0x42e)](_0x2f0ea8);}),startQuizBtn[_0x5a7921(0x308)]=![]),studentInitialView[_0x5a7921(0x43c)][_0x5a7921(0x220)](_0x5a7921(0x377)),studentNameSelectionView[_0x5a7921(0x43c)][_0x5a7921(0x4ff)](_0x5a7921(0x377));}function shuffleArray(_0x337551){const _0x1aae39=_0x24b34b;for(let _0x4cf680=_0x337551[_0x1aae39(0x114)]-0x1;_0x4cf680>0x0;_0x4cf680--){const _0x2895df=Math['floor'](Math['random']()*(_0x4cf680+0x1));[_0x337551[_0x4cf680],_0x337551[_0x2895df]]=[_0x337551[_0x2895df],_0x337551[_0x4cf680]];}}function getShuffledQuiz(_0x24d9c0){const _0x4f1c5e=_0x24b34b;let _0x3cdaf6=JSON[_0x4f1c5e(0x4a1)](JSON[_0x4f1c5e(0x29f)](_0x24d9c0));const _0x523a09=_0x3cdaf6[_0x4f1c5e(0x4fc)]?.['shuffle']||_0x4f1c5e(0xd3);if(_0x523a09===_0x4f1c5e(0xd3))return _0x3cdaf6;return(_0x523a09===_0x4f1c5e(0x2ad)||_0x523a09===_0x4f1c5e(0x219))&&shuffleArray(_0x3cdaf6[_0x4f1c5e(0x177)]),(_0x523a09===_0x4f1c5e(0x411)||_0x523a09===_0x4f1c5e(0x219))&&_0x3cdaf6[_0x4f1c5e(0x177)][_0x4f1c5e(0x426)](_0x48b646=>{const _0x17eea6=_0x4f1c5e,_0x5a303e=_0x48b646[_0x17eea6(0xa0)]||_0x3cdaf6['quizType'];if(_0x48b646[_0x17eea6(0x3a0)]){let _0x3d5136=_0x48b646[_0x17eea6(0x3a0)][_0x17eea6(0x500)]((_0x6c1e18,_0x422f97)=>({'text':_0x6c1e18,'isCorrect':_0x422f97===_0x48b646['correctAnswerIndex']}));shuffleArray(_0x3d5136),_0x48b646[_0x17eea6(0x3a0)]=_0x3d5136[_0x17eea6(0x500)](_0x2e6421=>_0x2e6421['text']),_0x48b646[_0x17eea6(0x3cb)]=_0x3d5136[_0x17eea6(0x313)](_0x39d656=>_0x39d656['isCorrect']);}_0x5a303e===_0x17eea6(0x30d)&&_0x48b646[_0x17eea6(0x298)]&&shuffleArray(_0x48b646['allResponses']);}),_0x3cdaf6;}function displayQuizForStudent(_0x19717c){const _0x29c79d=_0x24b34b;studentQuizArea[_0x29c79d(0x43c)]['remove'](_0x29c79d(0x377)),currentDisplayedQuiz=getShuffledQuiz(_0x19717c);const _0x537a02=currentDisplayedQuiz[_0x29c79d(0x4fc)]?.[_0x29c79d(0x488)]||_0x29c79d(0xd3);if(_0x537a02==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x29c79d(0x4fc)][_0x29c79d(0x3db)]);else _0x537a02===_0x29c79d(0x1eb)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x2325d4=_0x24b34b;let _0x4ed1bb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x2325d4(0x217)+(currentMode==='admin-testing'?_0x2325d4(0x35c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';currentDisplayedQuiz[_0x2325d4(0x177)][_0x2325d4(0x426)]((_0x255350,_0x571f07)=>{const _0x241d70=_0x2325d4,_0x66122=_0x255350[_0x241d70(0xa0)]||currentDisplayedQuiz[_0x241d70(0xab)];_0x4ed1bb+=_0x241d70(0x39f);_0x66122==='matching_item'?_0x4ed1bb+='\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+(_0x571f07+0x1)+'.\x20'+_0x255350[_0x241d70(0x4b4)]+_0x241d70(0x24f)+_0x571f07+_0x241d70(0x9f)+_0x255350[_0x241d70(0x298)]['map'](_0x4a4c11=>'<option\x20value=\x22'+_0x4a4c11+'\x22>'+_0x4a4c11+_0x241d70(0x120))[_0x241d70(0x179)]('')+_0x241d70(0x1ff):(_0x4ed1bb+=_0x241d70(0x3d3)+(_0x571f07+0x1)+'.\x20'+(_0x255350[_0x241d70(0x433)]||_0x255350[_0x241d70(0x121)])+_0x241d70(0xe0),_0x255350[_0x241d70(0x168)]&&(_0x4ed1bb+=_0x241d70(0x1bb)+_0x255350[_0x241d70(0x168)]+_0x241d70(0x385)));_0x4ed1bb+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x66122){case _0x241d70(0x3c7):_0x4ed1bb+=_0x241d70(0x229)+_0x571f07+_0x241d70(0x4f1);break;case _0x241d70(0x49f):_0x4ed1bb+=_0x241d70(0x40c)+_0x571f07+'_opt0\x22\x20name=\x22question'+_0x571f07+_0x241d70(0x1fd)+_0x571f07+_0x241d70(0x466),_0x4ed1bb+=_0x241d70(0x40c)+_0x571f07+_0x241d70(0x261)+_0x571f07+_0x241d70(0x1c9)+_0x571f07+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x241d70(0x30d):break;case _0x241d70(0x274):case _0x241d70(0x2f4):default:_0x4ed1bb+=_0x255350['options'][_0x241d70(0x500)]((_0x13b4a6,_0x35e42b)=>_0x241d70(0x2a2)+_0x571f07+_0x241d70(0x339)+_0x35e42b+'\x22\x20name=\x22question'+_0x571f07+_0x241d70(0x250)+_0x35e42b+_0x241d70(0x4d4)+_0x571f07+'_opt'+_0x35e42b+'\x22>'+_0x13b4a6+'</label>\x0a\x20\x20\x20\x20</div>\x0a')[_0x241d70(0x179)]('');break;}_0x4ed1bb+=_0x241d70(0x19c);}),_0x4ed1bb+=_0x2325d4(0x2b3),_0x4ed1bb+=_0x2325d4(0x1ef),studentQuizArea[_0x2325d4(0x3dd)]=_0x4ed1bb;if(currentMode==='admin-testing'){const _0x3fff76=document[_0x2325d4(0x33a)](_0x2325d4(0x4c5));if(_0x3fff76)_0x3fff76['addEventListener'](_0x2325d4(0x139),cancelAdminTest);}document[_0x2325d4(0x33a)](_0x2325d4(0x145))[_0x2325d4(0x1d5)](_0x2325d4(0x2c0),handleSubmitQuiz);if(window['MathJax'])window[_0x2325d4(0x3d7)][_0x2325d4(0x493)]([studentQuizArea]);}async function handleSubmitQuiz(_0x65eb3a){const _0x14481f=_0x24b34b;if(_0x65eb3a)_0x65eb3a['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x297537=document[_0x14481f(0x33a)](_0x14481f(0x145));if(!_0x297537)return;const _0x51aa32=_0x297537[_0x14481f(0xe5)](_0x14481f(0x91)),_0x133924=currentDisplayedQuiz['questions'][_0x14481f(0x49d)](_0x1e8869=>_0x1e8869['questionType']===_0x14481f(0x3c7));_0x51aa32&&(_0x51aa32[_0x14481f(0x308)]=!![],_0x133924?_0x51aa32['innerHTML']=_0x14481f(0x96):_0x51aa32[_0x14481f(0x3dd)]=_0x14481f(0x278));const _0x4753ae=new FormData(_0x297537),_0x4a99b3=currentDisplayedQuiz['questions'][_0x14481f(0x500)]((_0x4e9dbf,_0x4ecffa)=>{const _0x240a9b=_0x14481f,_0x452863=_0x4e9dbf[_0x240a9b(0xa0)]||currentDisplayedQuiz[_0x240a9b(0xab)],_0x1295ee=_0x4753ae[_0x240a9b(0x113)](_0x240a9b(0x4a8)+_0x4ecffa);if(_0x1295ee!==null&&_0x1295ee!==undefined){if(_0x452863===_0x240a9b(0x2f4)||_0x452863===_0x240a9b(0x274))return parseInt(_0x1295ee);return _0x1295ee;}return null;}),_0x11b5b8=currentQuizData['id'],_0x2d9057=doc(db,_0x14481f(0x202)+appId+_0x14481f(0x4e2)+_0x11b5b8+_0x14481f(0x150),currentStudentName),_0x3af235=await getDoc(_0x2d9057),_0x9849dd=_0x3af235[_0x14481f(0x266)]()?_0x3af235[_0x14481f(0x49b)]():{},_0x18115e=_0x9849dd['attempts']||[];await processAndSubmitAnswers(_0x4a99b3,_0x18115e);}async function gradeShortAnswerWithAI(_0x564710,_0x287e32){const _0x3ffcf9=_0x24b34b;if(!_0x564710||!_0x287e32)return![];try{const _0x4c77a5=_0x3ffcf9(0x366)+_0x564710+_0x3ffcf9(0x4f2)+_0x287e32+_0x3ffcf9(0x509),_0x1fe275={'contents':[{'role':'user','parts':[{'text':_0x4c77a5}]}]},_0x1e3ec1='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x26cc59=_0x3ffcf9(0x186)+_0x1e3ec1,_0x334c6b=await fetch(_0x26cc59,{'method':_0x3ffcf9(0x4d9),'headers':{'Content-Type':'application/json'},'body':JSON[_0x3ffcf9(0x29f)](_0x1fe275)});if(!_0x334c6b['ok'])throw new Error(_0x3ffcf9(0x44e));const _0x2f1eff=await _0x334c6b['json'](),_0x1a509e=_0x2f1eff['candidates'][0x0][_0x3ffcf9(0x4cd)]['parts'][0x0][_0x3ffcf9(0x22e)][_0x3ffcf9(0x4c4)]()[_0x3ffcf9(0x294)]();return _0x1a509e===_0x3ffcf9(0x34c);}catch(_0xe5da84){return console[_0x3ffcf9(0xb1)]('AI\x20grading\x20failed:',_0xe5da84),![];}}async function processAndSubmitAnswers(_0x3a9c1b,_0x142612){const _0x59a103=_0x24b34b;let _0x2c05c0=0x0,_0x4d74c5=0x0,_0x90c6e3=[];const _0x3de336=[],_0x349ef8=currentDisplayedQuiz[_0x59a103(0x177)][_0x59a103(0x114)];let _0x35a0ac=0x0;const _0x2548df=currentDisplayedQuiz['questions'];for(let _0x14f2f4=0x0;_0x14f2f4<_0x2548df[_0x59a103(0x114)];_0x14f2f4++){const _0x166a79=_0x2548df[_0x14f2f4],_0x36044e=_0x3a9c1b[_0x14f2f4],_0x3f76da=_0x166a79[_0x59a103(0xa0)]||currentDisplayedQuiz['quizType'];let _0x17d0f2=![];if(_0x36044e!==null&&_0x36044e!=='')switch(_0x3f76da){case _0x59a103(0x30d):_0x17d0f2=_0x36044e===_0x166a79['correctResponse'];break;case _0x59a103(0x49f):const _0x5d73be=_0x36044e===!![]||_0x36044e===_0x59a103(0x34c);_0x17d0f2=_0x5d73be===_0x166a79['correctAnswer'];break;case _0x59a103(0x274):case _0x59a103(0x2f4):default:_0x17d0f2=Number(_0x36044e)===_0x166a79['correctAnswerIndex'];break;case'short_answer':_0x17d0f2=await gradeShortAnswer(_0x36044e,_0x166a79);break;}_0x17d0f2?(_0x2c05c0++,_0x35a0ac++,_0x35a0ac===0x3&&(_0x90c6e3[_0x59a103(0x1c7)](BADGES['ON_FIRE']['id']),_0x35a0ac=0x0)):_0x35a0ac=0x0,_0x3de336['push']({'answer':_0x36044e,'isCorrect':_0x17d0f2,'originalQuestionText':_0x166a79[_0x59a103(0x4b4)]||_0x166a79[_0x59a103(0x121)]});}_0x4d74c5=_0x2c05c0*0xa;_0x2c05c0===_0x349ef8&&_0x349ef8>0x0&&!currentDisplayedQuiz[_0x59a103(0x44b)]&&(_0x4d74c5+=0x32,_0x90c6e3[_0x59a103(0x1c7)](BADGES[_0x59a103(0x371)]['id']));const _0x2c1385=currentDisplayedQuiz[_0x59a103(0x4fc)]?.[_0x59a103(0x328)]??Math[_0x59a103(0x2cf)](_0x349ef8/0x2),_0xeca5bf=currentDisplayedQuiz[_0x59a103(0x4fc)]?.[_0x59a103(0x488)];if(_0xeca5bf===_0x59a103(0x4ed)&&quizStartTime){const _0x24c7d9=(new Date()-quizStartTime)/0x3e8,_0x13b954=currentDisplayedQuiz[_0x59a103(0x4fc)]['timerDuration']*0x3c;_0x2c05c0>=_0x2c1385&&_0x24c7d9<_0x13b954/0x2&&(_0x4d74c5+=0x14,_0x90c6e3[_0x59a103(0x1c7)](BADGES[_0x59a103(0x2da)]['id']));}_0x142612[_0x59a103(0x114)]===0x0&&_0x2c05c0===_0x349ef8&&_0x349ef8>0x0&&_0x90c6e3[_0x59a103(0x1c7)](BADGES[_0x59a103(0x151)]['id']);if(_0x142612[_0x59a103(0x114)]>0x0){const _0x428c26=_0x142612[0x0][_0x59a103(0x3e9)];if(_0x428c26<_0x2c1385&&_0x2c05c0>=_0x2c1385){const _0x51e7ef=_0x142612[_0x59a103(0x49d)](_0x32a363=>(_0x32a363[_0x59a103(0x408)]||[])['includes'](BADGES[_0x59a103(0x406)]['id']));!_0x51e7ef&&_0x90c6e3[_0x59a103(0x1c7)](BADGES[_0x59a103(0x406)]['id']);}}_0x142612[_0x59a103(0x114)]===0x4&&_0x90c6e3['push'](BADGES[_0x59a103(0x142)]['id']);const _0x4eec72=currentDisplayedQuiz[_0x59a103(0x4fc)][_0x59a103(0x360)];if(currentMode===_0x59a103(0x34b)){handleResultDisplay(_0x4eec72,_0x2c05c0,_0x4d74c5,_0x90c6e3,_0x3de336,_0x349ef8);return;}const _0x137ba1=currentQuizData['id'],_0x5cdab8=doc(db,'artifacts/'+appId+_0x59a103(0x4e2)+_0x137ba1+_0x59a103(0x150),currentStudentName);try{const _0x56218a=[..._0x142612],_0x4de1ef={'score':_0x2c05c0,'points':_0x4d74c5,'badges':_0x90c6e3,'submittedAt':new Date()[_0x59a103(0xbd)](),'answers':_0x3de336};_0x56218a['push'](_0x4de1ef);const _0x4ff309=_0x56218a[0x0][_0x59a103(0x3e9)],_0x398290=Math[_0x59a103(0x31d)](..._0x56218a['map'](_0x3cb6d0=>_0x3cb6d0['score'])),_0x3094db=_0x2c05c0,_0x56616e=_0x4de1ef[_0x59a103(0x2f8)];await setDoc(_0x5cdab8,{'studentName':currentStudentName,'totalQuestions':_0x349ef8,'attempts':_0x56218a,'firstScore':_0x4ff309,'bestScore':_0x398290,'latestScore':_0x3094db,'points':_0x4d74c5,'latestSubmittedAt':_0x56616e}),await updateStudentProfile(currentQuizData[_0x59a103(0x34e)],currentStudentName),handleResultDisplay(_0x4eec72,_0x2c05c0,_0x4d74c5,_0x90c6e3,_0x3de336,_0x349ef8);}catch(_0x43591e){console[_0x59a103(0xb1)]('Error\x20saving\x20submission:',_0x43591e),showMessage(_0x59a103(0x258));}}async function updateStudentProfile(_0x1c9762,_0x494295){const _0x3b08bf=_0x24b34b,_0x1b44cf=doc(db,_0x3b08bf(0x202)+appId+'/public/data/projects/'+_0x1c9762+_0x3b08bf(0x227),_0x494295);try{const _0x32600a=query(collection(db,'artifacts/'+appId+_0x3b08bf(0x20a)),where('projectId','==',_0x1c9762)),_0x3eccea=await getDocs(_0x32600a),_0x59f770=new Map(_0x3eccea['docs'][_0x3b08bf(0x500)](_0x485a9b=>[_0x485a9b['id'],_0x485a9b[_0x3b08bf(0x49b)]()])),_0x11dec6=Array[_0x3b08bf(0x221)](_0x59f770[_0x3b08bf(0xca)]());await runTransaction(db,async _0xdf5b74=>{const _0x25e616=_0x3b08bf;let _0x92e172=0x0;const _0x25b9be={};let _0x23dd78=!![],_0x356a4d=0x0,_0x3024f3=0x0;for(const _0x14ebef of _0x11dec6){const _0x5739bb=_0x59f770['get'](_0x14ebef),_0x1b6a08=doc(db,'artifacts/'+appId+_0x25e616(0x4e2)+_0x14ebef+_0x25e616(0x150),_0x494295),_0x51f815=await _0xdf5b74[_0x25e616(0x113)](_0x1b6a08);if(_0x51f815[_0x25e616(0x266)]()){const _0x3e8618=_0x51f815[_0x25e616(0x49b)](),_0x5dfc55=_0x3e8618[_0x25e616(0x47c)]||[];if(_0x5dfc55[_0x25e616(0x114)]>0x0){const _0x5b6bdb=_0x5dfc55[_0x25e616(0xeb)]((_0x17bf7a,_0x112345)=>{const _0x4940bd=_0x25e616;if(_0x112345[_0x4940bd(0x3e9)]>_0x17bf7a[_0x4940bd(0x3e9)])return _0x112345;if(_0x112345[_0x4940bd(0x3e9)]===_0x17bf7a['score'])return(_0x112345['points']||0x0)>(_0x17bf7a[_0x4940bd(0x1c8)]||0x0)?_0x112345:_0x17bf7a;return _0x17bf7a;},{'score':-0x1,'points':-0x1});_0x5b6bdb['score']>-0x1&&(_0x92e172+=_0x5b6bdb[_0x25e616(0x1c8)]||0x0,(_0x5b6bdb['badges']||[])['forEach'](_0x3ad6cf=>{_0x25b9be[_0x3ad6cf]=(_0x25b9be[_0x3ad6cf]||0x0)+0x1;}));}}if(_0x5739bb[_0x25e616(0x140)]!==_0x25e616(0x13b)){_0x3024f3++;if(_0x51f815[_0x25e616(0x266)]()){_0x356a4d++;const _0x375642=_0x51f815[_0x25e616(0x49b)]();_0x375642[_0x25e616(0x42d)]!==_0x375642['totalQuestions']&&(_0x23dd78=![]);}else _0x23dd78=![];}}_0x3024f3>0x0&&_0x356a4d===_0x3024f3&&_0x23dd78?_0x25b9be[_0x25e616(0x22c)]=0x1:_0x25b9be[_0x25e616(0x22c)]=0x0,_0xdf5b74[_0x25e616(0x48e)](_0x1b44cf,{'studentName':_0x494295,'totalPoints':_0x92e172,'unlockedBadges':Object[_0x25e616(0xca)](_0x25b9be)[_0x25e616(0x410)](_0x5155e8=>_0x25b9be[_0x5155e8]>0x0),'badgesCount':_0x25b9be},{'merge':!![]});});}catch(_0x57dfd8){console['error']('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x57dfd8),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x10e2db=_0x24b34b;if(!currentQuizData){showMessage(_0x10e2db(0x22f));return;}let _0x33a982=JSON[_0x10e2db(0x4a1)](JSON[_0x10e2db(0x29f)](currentQuizData));currentMode=_0x10e2db(0x34b),currentStudentName=_0x10e2db(0x394),adminView[_0x10e2db(0x43c)]['add'](_0x10e2db(0x377)),studentView[_0x10e2db(0x43c)]['remove'](_0x10e2db(0x377)),studentInitialView['classList'][_0x10e2db(0x220)](_0x10e2db(0x377)),studentNameSelectionView[_0x10e2db(0x43c)][_0x10e2db(0x220)](_0x10e2db(0x377)),studentResultArea[_0x10e2db(0x43c)][_0x10e2db(0x220)]('hidden'),studentQuizArea[_0x10e2db(0x43c)]['remove'](_0x10e2db(0x377)),quizStartTime=new Date(),displayQuizForStudent(_0x33a982);}function handleResultDisplay(_0x36e870,_0x3aaec2,_0x266c98,_0x1b8f26,_0x4d6921,_0x5d713e){const _0x155163=_0x24b34b,_0x488fab=currentDisplayedQuiz['settings']?.[_0x155163(0x328)]??Math[_0x155163(0x2cf)](_0x5d713e/0x2),_0x6d035f=currentDisplayedQuiz[_0x155163(0x4fc)]?.[_0x155163(0x447)]??![];if(_0x6d035f&&_0x3aaec2<_0x488fab){startAdaptiveFlow(_0x4d6921,_0x3aaec2,_0x5d713e);return;}switch(_0x36e870){case _0x155163(0x31f):displayResultsWithAnswers(_0x3aaec2,_0x266c98,_0x1b8f26,_0x4d6921,_0x5d713e);break;case'show_results_only':displayResultsScoreOnly(_0x3aaec2,_0x266c98,_0x1b8f26,_0x5d713e);break;case'show_pass_fail_only':displayPassFailOnly(_0x3aaec2,_0x5d713e);break;case _0x155163(0x2bc):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x4b7763,_0x859354,_0x4e36fa){const _0x38991d=_0x24b34b,_0x30a704=_0x4b7763[_0x38991d(0x500)]((_0x45eca8,_0x17f58b)=>({..._0x45eca8,'originalQuestion':currentDisplayedQuiz[_0x38991d(0x177)][_0x17f58b]}))['filter'](_0x4688c4=>!_0x4688c4[_0x38991d(0x4b9)]&&_0x4688c4[_0x38991d(0x475)][_0x38991d(0xd6)])[_0x38991d(0x500)](_0x1d6633=>'-\x20'+_0x1d6633[_0x38991d(0x475)]['explanation'])['join']('\x0a');if(!_0x30a704){displayResultsScoreOnly(_0x859354,0x0,[],_0x4e36fa);return;}studentQuizArea[_0x38991d(0x43c)]['add'](_0x38991d(0x377)),studentReadingArea[_0x38991d(0x43c)][_0x38991d(0x4ff)](_0x38991d(0x377)),studentReadingArea[_0x38991d(0x3dd)]=_0x38991d(0x2b4);const _0x2c6be1=_0x38991d(0xda)+currentDisplayedQuiz[_0x38991d(0x140)]+_0x38991d(0x327)+_0x30a704+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x533213={'type':'OBJECT','properties':{'remedialContent':{'type':_0x38991d(0x1fa)}},'required':[_0x38991d(0x277)]};try{const _0x159e84=await callAnalysisApi(_0x2c6be1,_0x533213),_0x3a11d8=_0x159e84[_0x38991d(0x277)];studentReadingArea[_0x38991d(0x3dd)]=_0x38991d(0x1d4)+_0x3a11d8[_0x38991d(0x48b)](/\n/g,_0x38991d(0x494))+_0x38991d(0x454),document[_0x38991d(0x33a)](_0x38991d(0x3f7))[_0x38991d(0x1d5)](_0x38991d(0x139),()=>generateRemedialQuiz(_0x30a704));}catch(_0x2b809d){console[_0x38991d(0xb1)](_0x38991d(0x50b),_0x2b809d),showMessage(_0x38991d(0x3b5)),displayResultsScoreOnly(_0x859354,0x0,[],_0x4e36fa);}}async function generateRemedialQuiz(_0x4c514a){const _0x5d02ce=_0x24b34b;studentReadingArea[_0x5d02ce(0x3dd)]=_0x5d02ce(0x45e);const _0x7e2243=_0x5d02ce(0x4cb)+_0x4c514a+_0x5d02ce(0x24b)+simpleMathPrompt+'\x0a\x20\x20\x20\x20',_0x26c7cb={'type':'OBJECT','properties':{'questionText':{'type':_0x5d02ce(0x1fa)},'options':{'type':_0x5d02ce(0x43a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5d02ce(0x4b8)},'explanation':{'type':_0x5d02ce(0x1fa)}},'required':[_0x5d02ce(0x121),_0x5d02ce(0x3a0),'correctAnswerIndex',_0x5d02ce(0xd6)]},_0x5cd5c6={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x5d02ce(0x43a),'items':_0x26c7cb}},'required':[_0x5d02ce(0x140),'questions']};try{const _0x55f141=await callAnalysisApi(_0x7e2243,_0x5cd5c6);_0x55f141[_0x5d02ce(0x44b)]=!![],studentReadingArea[_0x5d02ce(0x43c)][_0x5d02ce(0x220)](_0x5d02ce(0x377));const _0x5cadc2={...currentDisplayedQuiz[_0x5d02ce(0x4fc)],'isAdaptive':![],'resultsDisplay':_0x5d02ce(0x31f)};_0x55f141[_0x5d02ce(0x4fc)]=_0x5cadc2,displayQuizForStudent(_0x55f141);}catch(_0xc33520){console[_0x5d02ce(0xb1)](_0x5d02ce(0x4eb),_0xc33520),showMessage(_0x5d02ce(0x492)),showView(_0x5d02ce(0x335));}}function displayPassFailOnly(_0x1cf7d3,_0x4b7220){const _0x2dde84=_0x24b34b,_0x4bddb9=currentDisplayedQuiz[_0x2dde84(0x4fc)]?.['passingScore']??-0x1,_0x4ae3c1=currentDisplayedQuiz[_0x2dde84(0x44b)]===!![];let _0x2ef85a='';if(_0x4ae3c1||_0x4bddb9!==-0x1){let _0x225440;_0x4ae3c1?_0x225440=_0x1cf7d3===_0x4b7220:_0x225440=_0x1cf7d3>=_0x4bddb9;const _0x28e060=_0x225440?_0x2dde84(0x157):'bg-red-100\x20text-red-800',_0x277173=_0x225440?_0x2dde84(0x2fb):_0x2dde84(0x1b6);_0x2ef85a=_0x2dde84(0x29a)+_0x28e060+'\x22>'+_0x277173+_0x2dde84(0x497);}else _0x2ef85a='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x22b67a=_0x2dde84(0x318)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ef85a+_0x2dde84(0x156);studentResultArea[_0x2dde84(0x3dd)]=_0x22b67a,studentResultArea[_0x2dde84(0x43c)][_0x2dde84(0x4ff)]('hidden'),studentQuizArea[_0x2dde84(0x43c)][_0x2dde84(0x220)](_0x2dde84(0x377));const _0x279a86=_0x2dde84(0x18f),_0x48fbee=currentMode===_0x2dde84(0x34b),_0xdce795=_0x48fbee?_0x2dde84(0x4ca):_0x2dde84(0x496),_0x61428d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22'+_0x279a86+'\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xdce795+_0x2dde84(0x1e6);studentResultArea[_0x2dde84(0x37d)](_0x2dde84(0xef),_0x61428d),document[_0x2dde84(0x33a)](_0x279a86)[_0x2dde84(0x1d5)](_0x2dde84(0x139),()=>{const _0x112078=_0x2dde84;_0x48fbee?(currentMode=_0x112078(0x2fd),studentView['classList'][_0x112078(0x220)]('hidden'),adminView[_0x112078(0x43c)][_0x112078(0x4ff)](_0x112078(0x377)),showView(_0x112078(0x1d6))):(showView(_0x112078(0x335)),document[_0x112078(0x33a)](_0x112078(0xc2))[_0x112078(0x4bb)]='');});}function cancelAdminTest(){const _0x5ad342=_0x24b34b;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x5ad342(0x2fd),studentView['classList']['add'](_0x5ad342(0x377)),adminView[_0x5ad342(0x43c)][_0x5ad342(0x4ff)]('hidden'),showView(_0x5ad342(0x1d6));}function setupResultScreenBackButton(){const _0x21ee6a=_0x24b34b,_0x52eab3='back-from-results-btn',_0x536e08=currentMode===_0x21ee6a(0x34b),_0x1ce8a2=_0x536e08?_0x21ee6a(0x4ca):_0x21ee6a(0x496),_0x304a90=_0x21ee6a(0x3b6)+_0x52eab3+_0x21ee6a(0x214)+_0x1ce8a2+_0x21ee6a(0x163);studentResultArea['insertAdjacentHTML'](_0x21ee6a(0xef),_0x304a90),studentResultArea[_0x21ee6a(0xe5)](_0x21ee6a(0x2f6))[_0x21ee6a(0x1d5)]('click',handleShowStudentRankings),document[_0x21ee6a(0x33a)](_0x52eab3)[_0x21ee6a(0x1d5)](_0x21ee6a(0x139),()=>{const _0x12f519=_0x21ee6a;_0x536e08?(currentMode=_0x12f519(0x2fd),studentView[_0x12f519(0x43c)][_0x12f519(0x220)](_0x12f519(0x377)),adminView[_0x12f519(0x43c)][_0x12f519(0x4ff)]('hidden'),showView(_0x12f519(0x1d6))):(showView(_0x12f519(0x335)),document[_0x12f519(0x33a)](_0x12f519(0xc2))[_0x12f519(0x4bb)]='');});}function displayResultsWithAnswers(_0xc192,_0x50eb8a,_0x1821d0,_0x48095f,_0x14b8f6){const _0x77f291=_0x24b34b,_0x60786c=_0x14b8f6>0x0?_0xc192/_0x14b8f6*0x64:0x0,_0x2ab9ec=currentDisplayedQuiz[_0x77f291(0x4fc)]?.['passingScore']??-0x1,_0x399cdd=currentDisplayedQuiz[_0x77f291(0x44b)]===!![];let _0x18b8cd='';if(_0x399cdd||_0x2ab9ec!==-0x1){let _0x33230d=_0x399cdd?_0xc192===_0x14b8f6:_0xc192>=_0x2ab9ec;const _0x2b25ca=_0x33230d?_0x77f291(0x157):_0x77f291(0x22a),_0x1d9f86=_0x33230d?_0x77f291(0x2fb):_0x77f291(0x1b6);_0x18b8cd=_0x77f291(0x3ee)+_0x2b25ca+'\x22>'+_0x1d9f86+'</p>';}let _0x5e419a=_0x77f291(0x1ec)+currentStudentName+_0x77f291(0x349)+_0xc192+_0x77f291(0x32f)+_0x14b8f6+_0x77f291(0x1c6)+_0x18b8cd+_0x77f291(0x267)+_0x50eb8a+_0x77f291(0x1f5)+_0x60786c['toFixed'](0x0)+_0x77f291(0x4a4);currentDisplayedQuiz[_0x77f291(0x177)]['forEach']((_0x5bc741,_0x514576)=>{const _0x9b2c0a=_0x77f291,_0x33b0f4=_0x48095f[_0x514576],_0xd56478=_0x33b0f4[_0x9b2c0a(0x427)],_0x3966a1=_0x33b0f4[_0x9b2c0a(0x4b9)],_0x1fb8e6=_0x5bc741[_0x9b2c0a(0xa0)]||currentDisplayedQuiz[_0x9b2c0a(0xab)];_0x5e419a+=_0x9b2c0a(0x240)+(_0x3966a1?'border-green-300\x20bg-green-50':'border-red-300\x20bg-red-50')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x514576+0x1)+'.\x20'+(_0x5bc741[_0x9b2c0a(0x4b4)]||_0x5bc741[_0x9b2c0a(0x121)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x1fb8e6){case'matching_item':const _0x7e3df1=_0xd56478||_0x9b2c0a(0x2cb),_0x349b43=_0x5bc741[_0x9b2c0a(0x13d)];_0x5e419a+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x3966a1?_0x9b2c0a(0xdb):'')+'\x22>'+_0x7e3df1+_0x9b2c0a(0x23a);!_0x3966a1&&(_0x5e419a+=_0x9b2c0a(0x2bb)+_0x349b43+_0x9b2c0a(0xe0));break;case _0x9b2c0a(0x3c7):_0x5e419a+=_0x9b2c0a(0x438)+(_0xd56478||_0x9b2c0a(0x2cb))+_0x9b2c0a(0xe0),_0x5e419a+=_0x9b2c0a(0x47f)+_0x5bc741['idealAnswer']+_0x9b2c0a(0xe0);break;case _0x9b2c0a(0x49f):_0x5e419a+=_0x9b2c0a(0xb4)+(_0x5bc741['correctAnswer']===!![]?_0x9b2c0a(0x42c):'')+'\x20'+(_0xd56478===_0x9b2c0a(0x34c)&&!_0x3966a1?'line-through\x20text-red-700':'')+_0x9b2c0a(0x10b),_0x5e419a+=_0x9b2c0a(0xb4)+(_0x5bc741[_0x9b2c0a(0x463)]===![]?_0x9b2c0a(0x42c):'')+'\x20'+(_0xd56478===_0x9b2c0a(0x3d0)&&!_0x3966a1?_0x9b2c0a(0xdb):'')+_0x9b2c0a(0x2dd);break;case'fill_in_the_blank':case'multiple_choice':default:_0x5e419a+=_0x5bc741[_0x9b2c0a(0x3a0)][_0x9b2c0a(0x500)]((_0x585e6e,_0x393236)=>{const _0x325ab7=_0x9b2c0a;let _0x1a62a7='',_0x4fd132='';if(_0x393236===_0x5bc741['correctAnswerIndex'])_0x1a62a7=_0x325ab7(0x42c),_0x4fd132=_0x325ab7(0x36e);else _0x393236===_0xd56478&&(_0x1a62a7=_0x325ab7(0xf7),_0x4fd132=_0x325ab7(0x468));return _0x325ab7(0x424)+_0x1a62a7+'\x22>'+_0x4fd132+_0x585e6e+_0x325ab7(0x385);})[_0x9b2c0a(0x179)]('');break;}_0x5e419a+=_0x9b2c0a(0x283)+(_0x5bc741['explanation']||_0x9b2c0a(0x11e))+_0x9b2c0a(0x3de);}),studentResultArea[_0x77f291(0x3dd)]=_0x5e419a,renderEarnedBadges(_0x1821d0,_0x77f291(0x4c0)),studentResultArea[_0x77f291(0x43c)]['remove'](_0x77f291(0x377)),studentQuizArea[_0x77f291(0x43c)][_0x77f291(0x220)](_0x77f291(0x377)),setupResultScreenBackButton();if(window['MathJax'])window[_0x77f291(0x3d7)][_0x77f291(0x493)]([studentResultArea]);}function displayResultsScoreOnly(_0x48c309,_0x3b6300,_0x4d1816,_0x5c996c){const _0x31579f=_0x24b34b,_0x51a36d=_0x5c996c>0x0?_0x48c309/_0x5c996c*0x64:0x0,_0x49db8b=currentDisplayedQuiz[_0x31579f(0x4fc)]?.[_0x31579f(0x328)]??-0x1,_0x40743a=currentDisplayedQuiz[_0x31579f(0x44b)]===!![];let _0x501c20='';if(_0x40743a||_0x49db8b!==-0x1){let _0x284209;_0x40743a?_0x284209=_0x48c309===_0x5c996c:_0x284209=_0x48c309>=_0x49db8b;const _0x259913=_0x284209?_0x31579f(0x157):_0x31579f(0x22a),_0x278bed=_0x284209?'ผ่าน':_0x31579f(0x1b6);_0x501c20=_0x31579f(0x3ee)+_0x259913+'\x22>'+_0x278bed+_0x31579f(0xe0);}let _0x5145d6=_0x31579f(0x271)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x48c309+_0x31579f(0x23e)+_0x5c996c+_0x31579f(0x1c6)+_0x501c20+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x3b6300+_0x31579f(0x342)+_0x51a36d[_0x31579f(0x292)](0x0)+_0x31579f(0x2c6);studentResultArea[_0x31579f(0x3dd)]=_0x5145d6,renderEarnedBadges(_0x4d1816,_0x31579f(0x4c0)),studentResultArea[_0x31579f(0x43c)][_0x31579f(0x4ff)](_0x31579f(0x377)),studentQuizArea[_0x31579f(0x43c)]['add'](_0x31579f(0x377)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0xef5718=_0x24b34b;let _0x59491b=_0xef5718(0x413)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0xef5718(0x3dd)]=_0x59491b,studentResultArea[_0xef5718(0x43c)][_0xef5718(0x4ff)](_0xef5718(0x377)),studentQuizArea[_0xef5718(0x43c)][_0xef5718(0x220)]('hidden'),document['getElementById'](_0xef5718(0x1e1))['addEventListener'](_0xef5718(0x139),()=>{const _0x33ca91=_0xef5718;showView(_0x33ca91(0x335)),document['getElementById'](_0x33ca91(0xc2))[_0x33ca91(0x4bb)]='';});}function renderEarnedBadges(_0x261535,_0x371621){const _0xa94656=_0x24b34b,_0x593139=document[_0xa94656(0x33a)](_0x371621);if(!_0x593139||!_0x261535||_0x261535[_0xa94656(0x114)]===0x0)return;let _0x14f31d='';_0x261535[_0xa94656(0x426)]((_0x102137,_0x51e193)=>{const _0x14b539=_0xa94656,_0x121261=Object[_0x14b539(0x4d1)](BADGES)['find'](_0x460009=>_0x460009['id']===_0x102137);_0x121261&&(_0x14f31d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x51e193*0.2+_0x14b539(0x4db)+_0x121261[_0x14b539(0x148)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x121261['icon']+_0x14b539(0x507)+_0x121261['name']+_0x14b539(0x209));}),_0x593139[_0xa94656(0x3dd)]=_0x14f31d;}function startPresentation(_0x37db8d){const _0x365888=_0x24b34b;currentQuizData=getShuffledQuiz(_0x37db8d),currentPresentationSlide=0x0,presentationModal[_0x365888(0x1c0)]['display']='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x4dab73=_0x24b34b;document[_0x4dab73(0x23c)]&&document[_0x4dab73(0x15c)](),presentationModal[_0x4dab73(0x1c0)][_0x4dab73(0x502)]=_0x4dab73(0xd3);}function renderPresentationSlide(_0x44258b){const _0x30b540=_0x24b34b,_0xe6a58d=document[_0x30b540(0x33a)](_0x30b540(0x281));if(!currentQuizData||!currentQuizData[_0x30b540(0x177)]||!currentQuizData[_0x30b540(0x177)][_0x44258b]){_0xe6a58d['innerHTML']='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x248f99=currentQuizData[_0x30b540(0x177)][_0x44258b],_0x12fed2=_0x248f99[_0x30b540(0xa0)]||currentQuizData[_0x30b540(0xab)];_0xe6a58d['innerHTML']='';let _0xfe01d2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x248f99[_0x30b540(0x168)]?_0x30b540(0x1bb)+_0x248f99[_0x30b540(0x168)]+_0x30b540(0x385):'')+_0x30b540(0x364)+(_0x44258b+0x1)+'.\x20'+(_0x248f99['stem']||_0x248f99[_0x30b540(0x121)])+_0x30b540(0x41e);switch(_0x12fed2){case _0x30b540(0x30d):_0xfe01d2+=_0x248f99[_0x30b540(0x298)]['map'](_0x37db63=>_0x30b540(0x293)+_0x37db63+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x30b540(0x179)]('');break;case _0x30b540(0x49f):_0xfe01d2+=_0x30b540(0x353),_0xfe01d2+=_0x30b540(0x12e);break;case'fill_in_no_choices':case'short_answer':_0xfe01d2+=_0x30b540(0x2c7);break;case _0x30b540(0x274):case _0x30b540(0x2f4):default:_0xfe01d2+=_0x248f99['options']['map']((_0x41a7df,_0x5ab2f8)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x5ab2f8+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x41a7df+_0x30b540(0x25c))[_0x30b540(0x179)]('');break;}_0xfe01d2+=_0x30b540(0x395)+(_0x248f99[_0x30b540(0xd6)]||_0x30b540(0x11e))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xe6a58d['innerHTML']=_0xfe01d2;if(window[_0x30b540(0x3d7)])window[_0x30b540(0x3d7)][_0x30b540(0x493)]([_0xe6a58d]);document[_0x30b540(0x33f)]('.presentation-option')[_0x30b540(0x426)](_0xb20175=>{const _0x347827=_0x30b540;_0xb20175[_0x347827(0x1d5)](_0x347827(0x139),_0x4edb66=>revealAnswerForPresentation(_0x44258b,_0x4edb66[_0x347827(0x389)]));});const _0x40d124=document[_0x30b540(0x33a)](_0x30b540(0x2a9));_0x40d124&&_0x40d124[_0x30b540(0x1d5)](_0x30b540(0x139),()=>checkShortAnswerForPresentation(_0x44258b)),document[_0x30b540(0x33a)](_0x30b540(0x39d))[_0x30b540(0x4fa)]=_0x30b540(0x1a9)+(_0x44258b+0x1)+'\x20/\x20'+currentQuizData['questions'][_0x30b540(0x114)],document[_0x30b540(0x33a)](_0x30b540(0x193))[_0x30b540(0x308)]=_0x44258b===0x0,document[_0x30b540(0x33a)](_0x30b540(0x203))[_0x30b540(0x308)]=_0x44258b===currentQuizData[_0x30b540(0x177)][_0x30b540(0x114)]-0x1;}async function checkShortAnswerForPresentation(_0x202ee4){const _0x12261f=_0x24b34b,_0x489b2e=currentQuizData[_0x12261f(0x177)][_0x202ee4],_0x4f57be=document[_0x12261f(0x33a)](_0x12261f(0x1fc)),_0x193f51=document['getElementById'](_0x12261f(0x2a9)),_0x499ae6=document[_0x12261f(0x33a)](_0x12261f(0xd9)),_0xd6e90e=document[_0x12261f(0x33a)]('presentation-explanation');if(!_0x4f57be||!_0x193f51||!_0x499ae6||!_0xd6e90e)return;const _0x52fbe2=_0x4f57be['value'][_0x12261f(0x4c4)]();if(_0x52fbe2==='')return;_0x193f51[_0x12261f(0x308)]=!![],_0x193f51['innerHTML']=_0x12261f(0x392),_0x4f57be[_0x12261f(0x308)]=!![];const _0x3233d7=await gradeShortAnswer(_0x52fbe2,_0x489b2e);_0x3233d7?_0x499ae6[_0x12261f(0x3dd)]=_0x12261f(0x205):_0x499ae6['innerHTML']=_0x12261f(0x51b)+_0x489b2e[_0x12261f(0x239)]+')',_0x499ae6[_0x12261f(0x43c)][_0x12261f(0x4ff)](_0x12261f(0x377)),_0xd6e90e[_0x12261f(0x43c)][_0x12261f(0x4ff)](_0x12261f(0x377)),_0x193f51['classList']['add']('hidden');}function revealAnswerForPresentation(_0x4dc205,_0x32009e){const _0x10d1e1=_0x24b34b,_0x39ba15=currentQuizData[_0x10d1e1(0x177)][_0x4dc205],_0x553202=_0x39ba15[_0x10d1e1(0xa0)]||currentQuizData[_0x10d1e1(0xab)];document[_0x10d1e1(0x33f)](_0x10d1e1(0x169))[_0x10d1e1(0x426)](_0x29f513=>{const _0x1102a6=_0x10d1e1;_0x29f513['disabled']=!![],_0x29f513['classList'][_0x1102a6(0x4ff)](_0x1102a6(0x1df));let _0x1338ab=![];if(_0x553202===_0x1102a6(0x2f4)||_0x553202===_0x1102a6(0x274)){const _0x3adf18=parseInt(_0x29f513['dataset'][_0x1102a6(0x3fd)]);_0x1338ab=_0x3adf18===_0x39ba15[_0x1102a6(0x3cb)];}else{if(_0x553202==='true_false'){const _0x489658=_0x29f513[_0x1102a6(0x3f5)][_0x1102a6(0x427)]===_0x1102a6(0x34c);_0x1338ab=_0x489658===_0x39ba15['correctAnswer'];}else _0x553202===_0x1102a6(0x30d)&&(_0x1338ab=_0x29f513[_0x1102a6(0x4fa)][_0x1102a6(0x4c4)]()===_0x39ba15[_0x1102a6(0x13d)]);}_0x1338ab?_0x29f513['classList']['add'](_0x1102a6(0x2af),_0x1102a6(0x149),_0x1102a6(0x104)):_0x29f513[_0x1102a6(0x43c)][_0x1102a6(0x220)](_0x1102a6(0x503));}),_0x32009e[_0x10d1e1(0x43c)][_0x10d1e1(0x4ff)](_0x10d1e1(0x503));let _0xef3d97=![];if(_0x553202===_0x10d1e1(0x2f4))_0xef3d97=parseInt(_0x32009e[_0x10d1e1(0x3f5)][_0x10d1e1(0x3fd)])===_0x39ba15[_0x10d1e1(0x3cb)];else{if(_0x553202===_0x10d1e1(0x49f))_0xef3d97=_0x32009e['dataset'][_0x10d1e1(0x427)]===_0x10d1e1(0x34c)===_0x39ba15['correctAnswer'];else _0x553202==='matching_item'&&(_0xef3d97=_0x32009e[_0x10d1e1(0x4fa)]['trim']()===_0x39ba15['correctResponse']);}!_0xef3d97&&_0x32009e[_0x10d1e1(0x43c)]['add'](_0x10d1e1(0x1f9),_0x10d1e1(0x149),_0x10d1e1(0x3a3)),document[_0x10d1e1(0x33a)](_0x10d1e1(0x31e))[_0x10d1e1(0x43c)]['remove'](_0x10d1e1(0x377));}function startWholeQuizTimer(_0x536898){const _0x151282=_0x24b34b,_0x1c4d3a=document[_0x151282(0x33a)]('timer-container');if(!_0x1c4d3a)return;const _0x575a71=Date[_0x151282(0x42f)]()+_0x536898*0x3c*0x3e8;_0x1c4d3a[_0x151282(0x3dd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x56e57f=document[_0x151282(0x33a)](_0x151282(0x319));quizTimerInterval=setInterval(()=>{const _0x4e1e67=_0x151282,_0x4a9e50=_0x575a71-Date[_0x4e1e67(0x42f)]();if(_0x4a9e50<=0x0)clearInterval(quizTimerInterval),_0x56e57f[_0x4e1e67(0x4fa)]=_0x4e1e67(0x3df),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x2fb8b2=Math['floor'](_0x4a9e50/0x3e8/0x3c%0x3c)['toString']()[_0x4e1e67(0x343)](0x2,'0'),_0x2fa951=Math['floor'](_0x4a9e50/0x3e8%0x3c)['toString']()[_0x4e1e67(0x343)](0x2,'0');_0x56e57f['textContent']=_0x2fb8b2+':'+_0x2fa951;}},0x3e8);}function renderPerQuestionView(){const _0x1a9d2b=_0x24b34b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0xef4c89=currentDisplayedQuiz[_0x1a9d2b(0x177)][currentQuestionIndex],_0x5278d8=_0xef4c89[_0x1a9d2b(0xa0)]||currentDisplayedQuiz[_0x1a9d2b(0xab)];let _0x5b59dc=_0x1a9d2b(0x41a)+(currentQuestionIndex+0x1)+_0x1a9d2b(0x256)+currentDisplayedQuiz['questions'][_0x1a9d2b(0x114)]+_0x1a9d2b(0x2c5)+(currentMode===_0x1a9d2b(0x34b)?_0x1a9d2b(0x35c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x1a9d2b(0x140)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x1a9d2b(0x177)][_0x1a9d2b(0x114)]-0x1?_0x1a9d2b(0x3e4):'คำถามถัดไป')+_0x1a9d2b(0x2b6);studentQuizArea[_0x1a9d2b(0x3dd)]=_0x5b59dc;let _0x3dee8c='',_0x67dab8='';switch(_0x5278d8){case _0x1a9d2b(0x30d):_0x3dee8c=currentQuestionIndex+0x1+'.\x20'+_0xef4c89[_0x1a9d2b(0x4b4)],_0x67dab8=_0x1a9d2b(0x16b)+_0xef4c89[_0x1a9d2b(0x298)][_0x1a9d2b(0x500)](_0x43bef0=>_0x1a9d2b(0x333)+_0x43bef0+'\x22>'+_0x43bef0+_0x1a9d2b(0x120))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1a9d2b(0x49f):_0x3dee8c=currentQuestionIndex+0x1+'.\x20'+_0xef4c89[_0x1a9d2b(0x121)],_0x67dab8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':case _0x1a9d2b(0x3c0):_0x3dee8c=currentQuestionIndex+0x1+'.\x20'+_0xef4c89[_0x1a9d2b(0x121)],_0x67dab8=_0x1a9d2b(0x265);break;case'multiple_choice':case _0x1a9d2b(0x4a5):default:_0x3dee8c=currentQuestionIndex+0x1+'.\x20'+_0xef4c89[_0x1a9d2b(0x121)],_0x67dab8=_0xef4c89['options']['map']((_0x2fa76c,_0x518597)=>_0x1a9d2b(0x3fa)+_0x518597+_0x1a9d2b(0x401)+_0x518597+_0x1a9d2b(0x254)+_0x518597+'\x22>'+_0x2fa76c+_0x1a9d2b(0x2e4))[_0x1a9d2b(0x179)]('');break;}_0xef4c89['imageCode']&&(_0x3dee8c+=_0x1a9d2b(0x1bb)+_0xef4c89[_0x1a9d2b(0x168)]+'</div>');document['getElementById'](_0x1a9d2b(0x1b9))[_0x1a9d2b(0x3dd)]=_0x3dee8c,document[_0x1a9d2b(0x33a)](_0x1a9d2b(0xf1))[_0x1a9d2b(0x3dd)]=_0x67dab8;if(currentMode==='admin-testing'){const _0x307fe0=document[_0x1a9d2b(0x33a)](_0x1a9d2b(0x4c5));if(_0x307fe0)_0x307fe0[_0x1a9d2b(0x1d5)](_0x1a9d2b(0x139),cancelAdminTest);}document[_0x1a9d2b(0x33a)](_0x1a9d2b(0x215))['addEventListener'](_0x1a9d2b(0x139),()=>handleNextQuestionInTimedMode(![]));if(window[_0x1a9d2b(0x3d7)])window[_0x1a9d2b(0x3d7)]['typesetPromise']([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x28d631=_0x24b34b,_0x1aae61=currentDisplayedQuiz['settings'][_0x28d631(0x3db)],_0x2b068a=document['getElementById'](_0x28d631(0x46d));if(!_0x2b068a)return;let _0x5a2db7=_0x1aae61;_0x2b068a['innerHTML']=_0x28d631(0x518)+_0x5a2db7+_0x28d631(0x304);const _0x2992ed=document[_0x28d631(0x33a)](_0x28d631(0x34a)),_0x500464=document['getElementById'](_0x28d631(0x455));perQuestionTimerInterval=setInterval(()=>{const _0x43cc91=_0x28d631;_0x5a2db7--;const _0x49582f=_0x5a2db7/_0x1aae61*0x64;_0x2992ed['style']['width']=_0x49582f+'%',_0x500464['textContent']=_0x5a2db7,_0x5a2db7<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x43cc91(0x423)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function _0x3833(){const _0x3bd2e2=['<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','fill_in_with_choices','user','blockReason','question','ring-purple-400','student-name-input','fa-bolt\x20text-blue-500','.\x20แต่ละข้อมี\x20','back-to-dashboard-from-results-btn','AI\x20request\x20was\x20blocked.\x20Reason:\x20','confirm-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','manage-tab','Error\x20loading\x20quiz\x20for\x20student:','confirm-move-quiz-btn','stem','generate-from-file-btn','players.','update','NUMBER','isCorrect','<i\x20class=\x22fas\x20fa-save\x22></i>','value','getBBox','modal-timer-duration-input','ใช่','start-quiz-btn','earned-badges-container','focus','fa-shield-alt\x20text-gray-600','\x20ข้อ)</span></p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','trim','cancel-test-btn','AI\x20กำลังสร้างใบงาน...','save-quiz-btn','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','cancel-create-project-btn','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>','content','loader-text','touchmove','position','values','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','scheduled','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','status','text-green-900','defaultNumQuestions','POST','preventDefault','s;\x22\x20title=\x22','onload','quiz-schedule-end-container','latestScore','เกิดข้อผิดพลาดในการบันทึก','thead','```json','/public/data/quizzes/','editor-quiz-topic','global-quiz-search-input','Error\x20fetching\x20student\x20rankings:','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','results-display-select','input[type=\x22text\x22]','สลับไปโหมดนักเรียน','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Remedial\x20quiz\x20generation\x20failed:','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','whole_quiz','\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','worksheet-input-area','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x22.\x20Ideal\x20Answer:\x20\x22','date_asc','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','totalPoints','กรุณาเลือกชื่อของคุณ','matching','bg-amber-100\x20text-amber-800','find','textContent','contains','settings','execCommand','href','remove','map','เซียนสมองไว','display','opacity-50','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','createObjectURL','Error\x20toggling\x20star\x20status:','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x20ตัวเลือก.\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','uid','Adaptive\x20flow\x20failed:','mixed','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20opening\x20quiz\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','ไม่สามารถเพิ่มนักเรียนได้','.delete-svg-btn','https://corsproxy.io/?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','Error\x20showing\x20quiz\x20detail\x20view:','quiz-search-input','admin-try-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','json','results-table','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ไม่พบข้อมูลผู้ใช้','button[type=\x22submit\x22]','cancel-quiz-status-btn','candidates','link-url-input','helvetica','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','questionStatus','ส่งแล้ว','Error\x20generating\x20quiz:','ไม่พบแบบทดสอบ','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionType','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','2-digit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','.delete-project-btn','answer-counter','th-TH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rows','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','OBJECT','quizType','11uLWgLt','quiz-results','border-4','Failed\x20to\x20parse\x20JSON\x20from\x20AI','classStrengths','error','</p></div>','target','<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','admin-view','docs','ไม่มี','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-label','กรุณาเลือกสถานะ','toISOString','parseFromString','\x20/\x20','เกิดข้อผิดพลาด:\x20','.doc','quiz-id-input','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','เกิดข้อผิดพลาดในการลบแบบทดสอบ','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','keys','undefined','\x22\x20value=\x22true\x22\x20','bg-white/30','student-name-selection-view','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','Error\x20listening\x20for\x20student\x20profiles:','setFont','แบบทดสอบที่ติดดาว','none','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','explanation','join-live-game-btn','generate-from-topic-btn','presentation-ai-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','line-through\x20text-red-700','text-input-area','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.correctStreak','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</p>','เกิดข้อผิดพลาดในการโหลดสถานะ','bg-green-300','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','Error\x20starting\x20game:','querySelector','onerror','confirm-admin-login-btn','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','\x22><i\x20class=\x22fas\x20','reduce','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3/4\x20truncate\x22>ข้อ\x20','message','generated-quiz-container','beforeend','\x22\x20value=\x22false\x22\x20','per-question-options','close','pinned-items','#per-question-options\x20select','.regenerate-question-btn','score-distribution-chart','font-bold\x20text-red-700\x20line-through','quiz-type-select','opacity','bank-tab','lastAnswerCorrect','เปิดใช้งาน','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include-images-checkbox','fill','results-quiz-title','border-green-500','includes','234YxQcAl','border-green-700','ราชาคัมแบ็ก','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','ai-quiz-generator-v3','412510WVPRzs','\x22>ใช่</p>','แบบทดสอบไม่มีชื่อ','fa-crown\x20text-yellow-500','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','student-project-leaderboard-table-body','results_','live-short-answer-input','get','length','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>','originalTopic','36volQvT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22','ไม่มีคำอธิบาย','desc','</option>','questionText','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','cancel-quiz-edits-btn-footer','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','BOOLEAN','text-red-700\x20bg-red-100','Error\x20deleting\x20all\x20students:','editable-quiz-topic','podium','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','option','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','commit','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','password-error-msg','results','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','font-bold','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','project-name-input','การยืนยันตัวตนล้มเหลว','click','clientY','แบบทดสอบซ่อมเสริม','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','correctResponse','.\x20ให้มี\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','topic','save','PERSEVERANCE','schedule','numeric','quiz-form','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','bank-input-area','description','text-white','ผ่านฉลุย','load-quiz-btn','q-text-','บันทึกการแก้ไข','inactive','fa-user-astronaut\x20text-blue-700','/submissions','FIRST_TRY_ACE','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','กรุณาใส่ชื่อใหม่','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20text-green-800','split','finishReason','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exitFullscreen','analyze-strengths-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','กำลังสร้างรูปภาพ...','quiz-generation-area','ref','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','default','บันทึกการตั้งค่าแล้ว','quick_thinker','generate-from-link-btn','imageCode','.presentation-option','leaderboard-quiz-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-student-btn','จำนวนนักเรียน','save-settings-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','add-student-btn','next-live-question-btn','topic-input-area','clientX','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','input[type=\x22radio\x22]:checked','questions','274192258111','join','fa-fire\x20text-orange-500','class','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','admin-dashboard','leaderboard-tab','toDataURL','กรุณาวาง\x20URL\x20ของบทความก่อน','generate-worksheet-btn','removeEventListener','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','strength-weakness-analysis-container','project-dashboard-view','API\x20call\x20failed\x20with\x20status:\x20','Error\x20duplicating\x20quiz:','innerText','setAttribute','จำนวนข้อ:','toLocaleDateString','back-from-results-btn','height','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','สร้างคำถามแบบเติมคำในช่องว่าง\x201\x20ข้อ\x20','prev-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/csv;charset=utf-8;','\x22\x20data-name=\x22','เกี่ยวกับหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการสร้างใบงาน','project-detail-view','confirm-delete-btn','cancel-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setAttributeNS','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','q-explanation-','1:274192258111:web:4120c9118229b5644dd48a','string','#student-project-leaderboard-content\x20thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','quiz-results-view','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','.star-quiz-btn','answers','normal','ข้อที่\x20','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','lobby','%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','modal-results-display-select','originalQuestionText','svg','quiz-settings-modal','label[for=\x22num-questions\x22]','baseVal','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','ไม่ผ่าน','students','คำตอบถูกต้อง!\x20+','per-question-text','4232460ikphpv','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','classWeaknesses','parts','scores-tab-content','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','style','cancel-global-live-btn','mode-switcher-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sort','move-quiz-modal','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','points','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','firstScore','targetId','admin-password-input','slice','no-projects-msg','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>','addEventListener','project-detail','เกิดข้อผิดพลาดในการลบโปรเจค','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','project-list','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','startTime','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','getContext','hover:bg-indigo-100','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','back-to-home-manual-release','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','ตั้งเวลา\x20(เปิด)','student-join-game-view','analytics-summary-cards','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-status-options','generated-quiz-actions','btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','per_question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','-tab-content','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','</form>','mousemove','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','กำลังดึงข้อมูลจากลิงก์...','editable-text-','icon','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','move-quiz-project-select','</body></html>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-500','STRING','.sort-indicator','presentation-short-answer-input','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','createElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','.csv','artifacts/','next-question-btn','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','startsWith','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','leaderboard-tab-content','qType','results-tab-content','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-quiz-btn','text-green-600','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-timed-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fixed','both','outerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','Error\x20moving\x20quiz:','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','add','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22','removeChild','student-view','/studentProfiles','application/json','<textarea\x20name=\x22question','bg-red-100\x20text-red-800','Error\x20during\x20class\x20analysis:','specialist','toLocaleString','text','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</td>','bg-blue-100\x20text-blue-800','.pointsLastQuestion','ระยะเวลา\x20(นาที):','input','latestSubmittedAt','ไม่พบข้อมูลแบบทดสอบ','entries','idealAnswer','</span></p>','student-quiz-area','fullscreenElement','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบถูก\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getScreenCTM','ไม่สามารถโหลดรายการโปรเจคได้','เกิดข้อผิดพลาดในการอ่านไฟล์','\x22\x20data-topic=\x22','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-tab','timer-duration-input','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','print','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','admin-password-modal','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x22\x20value=\x22','abs','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','create-project-modal','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','empty','\x20จาก\x20','date_desc','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','.quiz-result-card','timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader','แบบทดสอบนี้ปิดใช้งานอยู่','cancel-admin-login-btn','mouseup','_opt1\x22\x20name=\x22question','.save-to-bank-btn','min','Error\x20displaying\x20question\x20bank:','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','คำตอบผิด','.start-live-race-btn','size','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','write','destroy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600\x20font-bold','fill_in_the_blank','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remedialContent','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','.ideal-answer-input','leaderboard-quiz','global-live-game-modal','ยืนยันการกระทำ','localeCompare','bg-green-200\x20text-green-800','asc','label','presentation-slide-container','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','confirmation-message','เกิดข้อผิดพลาดในการติดดาว','.correct-response-input','dataIndex','Error\x20deleting\x20quiz:','quiz-editor-modal','modal-adaptive-quiz-checkbox','td,\x20th','Error\x20renaming\x20quiz:','modal-timer-mode-select','project-title','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','user-id-display','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLowerCase','answeredCurrentQuestion','mouseleave','580857TbtbXA','allResponses','Error\x20updating\x20quiz\x20settings:','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','autoTable','ปิดใช้งาน','after','topic-input','stringify','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','dispatchEvent','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','student-result-area','.edit-quiz-btn','สร้างชุดคำถามจับคู่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','answering','.sortable-header','check-presentation-answer-btn','.project-card-content','round','G-V90KRM0L63','questions_only','doughnut','bg-green-500','\x0a---\x0a','Error\x20saving\x20quiz:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#per-question-options\x20textarea','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','.quiz-status-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','totalQuestions','currentQuestionIndex','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','manual_release','[data-is-correct=\x22true\x22]','ทำคะแนนเต็มในการทำครั้งแรก','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','submit','ring-2','touchcancel','สร้างคำถามแบบใช่/ไม่ใช่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','readAsDataURL','substring','Error\x20joining\x20live\x20game:','ไม่ได้ตอบ','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','#10B981','confirm-join-game-btn','floor','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','adaptive-quiz-checkbox','all','\x20คะแนน','.lastAnswerCorrect','first_try_ace','ดูสรุปผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','textarea','QUICK_THINKER','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22>ไม่ใช่</p>','correctStreak','bg-purple-50','<li>','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','student-initial-view','worksheet-topic-input','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบแบบทดสอบสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกแบบทดสอบสำเร็จ','576176AlxTMj','submission','<div\x20id=\x22q-image-container-','download','รอเปิด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','name','เปลี่ยนชื่อแบบทดสอบสำเร็จ','analytics','fa-rocket\x20text-purple-500','multiple_choice','/public/data/liveGames','#view-rankings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','submittedAt','document','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่าน','promptFeedback','admin','cursor','link-topic-input','student-reading-area','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','starred','ลบโปรเจคสำเร็จแล้ว','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(วินาที):','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-passing-score-input','disabled','cancel-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects','project-quizzes-list','matching_item','ai-quiz-app-aefee.firebaseapp.com','\x22,\x20','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','บันทึกการแก้ไขสำเร็จ','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','findIndex','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','result','live-options-container','modal-timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','countdown-display','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','start-game-btn','\x5cdiv','max','presentation-explanation','show_results_and_answers','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-editor-questions-container','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','num-questions','/questionBank','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20px-2\x20py-1\x20rounded\x20','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','passingScore','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','จากเนื้อหาต่อไปนี้:\x20\x22','close-game-final-btn','student-project-leaderboard-tab','manage','quiz-leaderboard-table','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','แบบทดสอบ:\x20','delete-svg-btn','<option\x20value=\x22','บันทึกการตั้งค่าสำเร็จ','student','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดผู้ควบคุม','_opt','getElementById','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','bg-red-200\x20text-red-800','generate-from-text-btn','Error\x20adding\x20students:','querySelectorAll','scheduled_pending','gamePin','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','padStart','modal-shuffle-select','/users/','quiz-leaderboard-table-body','Original\x20quiz\x20not\x20found','ไม่พบตารางสำหรับ\x20Export','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','timer-bar','admin-testing','true','\x20คน):</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','projectId','leaderboard','global-quiz-list','สอบซ่อม','createdAt','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','copy-quiz-id-btn','confirm-global-live-btn','results-table-container','players','.badges','MathJax\x20typeset\x20error\x20(analytics):','file-input-area','.draggable-text','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','76feYGlN','files','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','resultsDisplay','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','back-to-dashboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','title','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','text-green-700\x20bg-green-100','results-quiz-id-display','width','teacherSuggestions','Error\x20updating\x20quiz\x20status:','เกิดข้อผิดพลาดในการอัปเดตสถานะ','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-choices','PERFECT_SCORE','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','revealed','createElementNS','export-leaderboard-image-btn','hidden','manage-tab-content','quiz-end-time','delete-all-students-btn','project-sort-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','insertAdjacentHTML','ยังไม่ส่ง','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาใส่ชื่อนักเรียน','บันทึกแบบทดสอบสำเร็จแล้ว!','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','delete','ผู้เชี่ยวชาญ','</div>','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','ไม่พบโปรเจค','currentTarget','สร้างแบบทดสอบ\x20','13YHQePm','shuffle-setting-select','#ffffff','red','\x20คนที่ส่ง\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','quizId','แบบทดสอบนี้หมดเวลาแล้ว','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','file-upload-input','ผู้ควบคุม\x20(ทดสอบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','</span>','live-game-view','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','จำนวนคู่:','export-leaderboard-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','slide-counter','save-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','options','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','border-red-700','N/A','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','Error\x20fetching\x20project\x20quizzes:','mousedown','STOP','export-word-btn','.start-presentation-list-btn','export-pdf-btn','file-tab','สร้างแบบทดสอบปรนัย\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-pen','</li>','input[name=\x22status-option\x22]:checked','ย้ายแบบทดสอบสำเร็จ','active','1990310DQKjUN','เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','39011vrqVww','FileReader\x20error:','input[name=\x22status-option\x22]','.answeredCurrentQuestion','กำลังสร้างคำถามข้อ\x20','text-blue-700\x20bg-blue-100','confirm-rename-quiz-btn','fill_in_no_choices','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','isStarred','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','<tr><td\x20colspan=\x22','scores-tab-btn','short_answer','-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fa-dumbbell\x20text-gray-700','correctAnswerIndex','คัดลอกรหัสแล้ว!','ผู้ไม่ยอมแพ้','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x09\x09\x09\x09\x09\x09\x09\x20<button\x20data-quiz-id=\x22','false','closest','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','<p>','student-project-leaderboard-content','link-input-area','back-to-project-btn','MathJax','.pdf','endTime','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','timerDuration','player-count','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','00:00','คะแนนเต็ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','touchend','Authentication\x20failed:','ส่งคำตอบ','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','score','contentEditable','touches','timer-mode-select','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','leaderboard-table-body','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-remedial-quiz-btn','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','Error\x20listening\x20for\x20projects:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','questionDisplayedAt','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','index','toDate','ไม่พบแบบทดสอบสำหรับรหัสนี้','text/html','\x22\x20name=\x22question_single\x22\x20value=\x22','2741','rename-quiz-input','สร้างคำถามแบบเติมคำในช่องว่าง\x20','Firebase\x20initialization\x20failed:','COMEBACK_KING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','badges','modal-close-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','Error\x20deleting\x20student:','<div><input\x20type=\x22radio\x22\x20id=\x22q','Invalid\x20response\x20structure\x20from\x20AI.','change','student-rankings-modal','filter','choices_only','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','quiz','studentName','perfect_score','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','button','select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','export-image-btn','analytics-tab-btn','checked','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-name-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-word-btn','หมดเวลาสำหรับข้อนี้!','<div\x20class=\x22','(ไม่มีชื่อ)','forEach','answer','getAttributeNS','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','contents','ตอบถูกทุกข้อในแบบทดสอบนี้','font-bold\x20text-green-700','bestScore','appendChild','now','start-presentation-btn','4mmxKxh','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','instructions','cancel-rename-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-presentation-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','<p><strong>คำตอบของคุณ:</strong>\x20','projectName','ARRAY','table','classList','draggable-text','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','open-global-live-btn','type','copy','.edit-question-btn','Error\x20processing\x20file\x20for\x20AI:','modal-timer-duration-label','\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการลบนักเรียน','isAdaptive','removeAttribute','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','jspdf','isRemedial','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','analytics-tab-content','API\x20call\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bar','Error\x20creating\x20project:','แบบทดสอบจากคลังส่วนตัว','onclick','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','per-q-countdown','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','key','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','live-game','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','.png','button[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','จากหัวข้อ\x20','.live-answer-btn','body','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','correctAnswer','student-quiz-topic','<div\x20class=\x22flex-1\x22></div>','_opt0\x22>ใช่</label></div>','project-id-display','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','then','toString','<div\x20class=\x22loader\x20mx-auto\x22></div>','per-question-timer-container','passing-score-input','\x5ctimes','Error\x20generating\x20worksheet:','pointsLastQuestion','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','42045tsvALT','originalQuestion','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','/public/data/projects/','defaultPassingScore','.copy-quiz-id-list-btn','confirm-create-project-btn','attempts','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','Invalid\x20response\x20structure\x20from\x20AI:','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','admin-action-buttons','student-quiz-leaderboard-table-body','.duplicate-quiz-btn','leaderboard-quiz-tab-btn','.score','.admin-try-quiz-list-btn','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','timerMode','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','player-list-lobby','replace','q-image-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','set','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-student-rankings-btn','touchstart','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','typesetPromise','<br>','toggle','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','</span></div>','Error\x20fetching\x20projects\x20for\x20move:','num-choices-container','on_fire','data','badgesCount','some','start-live-race-generated-btn','true_false','topic-tab','parse','name_asc'];_0x3833=function(){return _0x3bd2e2;};return _0x3833();}function handleNextQuestionInTimedMode(_0x3d688d=![]){const _0x32a4c9=_0x24b34b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x580fd8=null;if(!_0x3d688d){const _0x3d5306=currentDisplayedQuiz[_0x32a4c9(0x177)][currentQuestionIndex],_0xe1ec7e=_0x3d5306[_0x32a4c9(0xa0)]||currentDisplayedQuiz[_0x32a4c9(0xab)];if(_0xe1ec7e===_0x32a4c9(0x3c7)||_0xe1ec7e==='fill_in_no_choices'){const _0x27ed6b=document['querySelector'](_0x32a4c9(0x2b5));_0x580fd8=_0x27ed6b?_0x27ed6b[_0x32a4c9(0x4bb)][_0x32a4c9(0x4c4)]():'';}else{if(_0xe1ec7e==='matching_item'){const _0x1f73d4=document[_0x32a4c9(0xe5)](_0x32a4c9(0xf4));_0x580fd8=_0x1f73d4?_0x1f73d4[_0x32a4c9(0x4bb)]:'';}else{const _0x7bb41e=document[_0x32a4c9(0xe5)]('input[name=\x22question_single\x22]:checked');if(_0x7bb41e){const _0x2d19c3=_0x7bb41e['value'];_0x580fd8=!isNaN(parseInt(_0x2d19c3,0xa))&&_0x2d19c3[_0x32a4c9(0x4c4)]()!==''?parseInt(_0x2d19c3,0xa):_0x2d19c3;}}}}studentAnswersPerQuestion[_0x32a4c9(0x1c7)](_0x580fd8),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x32a4c9(0x114)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x429988=_0x24b34b,_0x1d4e3e=currentDisplayedQuiz[_0x429988(0x177)][_0x429988(0x49d)](_0x433b90=>_0x433b90['questionType']==='short_answer');_0x1d4e3e?showMessage(_0x429988(0x417)):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x194f83=currentQuizData['id'],_0x4d9b95=doc(db,'artifacts/'+appId+_0x429988(0x4e2)+_0x194f83+_0x429988(0x150),currentStudentName),_0x4d5b78=await getDoc(_0x4d9b95),_0x4ac9ea=_0x4d5b78[_0x429988(0x266)]()?_0x4d5b78[_0x429988(0x49b)]():{},_0xef1c8a=_0x4ac9ea[_0x429988(0x47c)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0xef1c8a);}function getResultsFilename(){const _0xb44e53=_0x24b34b,_0x20f391=document['getElementById'](_0xb44e53(0x100))[_0xb44e53(0x4fa)][_0xb44e53(0x48b)](/[^a-z0-9]/gi,'_')[_0xb44e53(0x294)]();return _0xb44e53(0x111)+(_0x20f391||_0xb44e53(0x414));}function exportResultsAsImage(){const _0x20dd8b=_0x24b34b,_0x308463=document[_0x20dd8b(0x33a)](_0x20dd8b(0x356));showMessage(_0x20dd8b(0x15f)),html2canvas(_0x308463)[_0x20dd8b(0x46a)](_0x14c866=>{const _0x50092e=_0x20dd8b,_0x32321e=document['createElement']('a');_0x32321e['download']=getResultsFilename()+_0x50092e(0x45c),_0x32321e['href']=_0x14c866['toDataURL'](_0x50092e(0xe8)),_0x32321e['click'](),messageModal[_0x50092e(0x43c)]['add'](_0x50092e(0x377));});}function exportResultsAsPDF(){const _0x5dc9e2=_0x24b34b,{jsPDF:_0x5c280e}=window[_0x5dc9e2(0x44a)],_0x301cd4=new _0x5c280e();_0x301cd4[_0x5dc9e2(0xd1)](_0x5dc9e2(0x95),_0x5dc9e2(0x1a8)),_0x301cd4[_0x5dc9e2(0x29b)]({'html':'#results-table'}),_0x301cd4['save'](getResultsFilename()+_0x5dc9e2(0x3d8));}function exportResultsAsWord(){const _0x36cf2a=_0x24b34b,_0x18c3b6=_0x36cf2a(0x1dd)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x36cf2a(0x98)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x25d90b=_0x36cf2a(0x1f7),_0x2fb56f=_0x18c3b6+document[_0x36cf2a(0x33a)](_0x36cf2a(0x356))[_0x36cf2a(0x3dd)]+_0x25d90b,_0x1894dd='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x2fb56f),_0x99c5b0=document[_0x36cf2a(0x1fe)]('a');document[_0x36cf2a(0x461)]['appendChild'](_0x99c5b0),_0x99c5b0[_0x36cf2a(0x4fe)]=_0x1894dd,_0x99c5b0[_0x36cf2a(0x2ec)]=getResultsFilename()+_0x36cf2a(0xc1),_0x99c5b0[_0x36cf2a(0x139)](),document[_0x36cf2a(0x461)][_0x36cf2a(0x225)](_0x99c5b0);}function exportResultsAsExcel(){const _0x25b222=_0x24b34b,_0x48ef0c=document[_0x25b222(0x33a)](_0x25b222(0x51a));let _0x40857e=[];for(let _0x355df5=0x0;_0x355df5<_0x48ef0c[_0x25b222(0xa8)]['length'];_0x355df5++){let _0x386584=[],_0x2802e5=_0x48ef0c[_0x25b222(0xa8)][_0x355df5][_0x25b222(0x33f)](_0x25b222(0x28b));for(let _0x421083=0x0;_0x421083<_0x2802e5['length'];_0x421083++){_0x386584[_0x25b222(0x1c7)]('\x22'+_0x2802e5[_0x421083]['innerText'][_0x25b222(0x48b)](/"/g,'\x22\x22')+'\x22');}_0x40857e[_0x25b222(0x1c7)](_0x386584[_0x25b222(0x179)](','));}const _0x8f2255=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x40857e[_0x25b222(0x179)]('\x0a')],{'type':_0x25b222(0x195)}),_0x1f2bf8=document[_0x25b222(0x1fe)]('a');_0x1f2bf8[_0x25b222(0x4fe)]=URL[_0x25b222(0x505)](_0x8f2255),_0x1f2bf8[_0x25b222(0x2ec)]=getResultsFilename()+_0x25b222(0x201),_0x1f2bf8[_0x25b222(0x139)]();}function exportTableAsImage(_0x34f15d,_0x928548){const _0x296976=_0x24b34b,_0x181f36=document[_0x296976(0x33a)](_0x34f15d);if(!_0x181f36){showMessage(_0x296976(0x348));return;}showMessage(_0x296976(0x15f)),html2canvas(_0x181f36)[_0x296976(0x46a)](_0x3a6e7f=>{const _0x58e74f=_0x296976,_0x469705=document['createElement']('a');_0x469705[_0x58e74f(0x2ec)]=_0x928548+'.png',_0x469705['href']=_0x3a6e7f[_0x58e74f(0x181)](_0x58e74f(0xe8)),_0x469705[_0x58e74f(0x139)](),messageModal[_0x58e74f(0x43c)][_0x58e74f(0x220)](_0x58e74f(0x377));});}function exportTableAsPDF(_0x2fad33,_0x2f1235){const _0x14ef9e=_0x24b34b,{jsPDF:_0x2cb0f3}=window[_0x14ef9e(0x44a)],_0x278a17=new _0x2cb0f3();_0x278a17[_0x14ef9e(0xd1)]('helvetica','normal'),_0x278a17['autoTable']({'html':'#'+_0x2fad33}),_0x278a17[_0x14ef9e(0x141)](_0x2f1235+_0x14ef9e(0x3d8));}function exportTableAsWord(_0x1729b8,_0x15ed0a){const _0x4995ab=_0x24b34b,_0x2a0fd4=document[_0x4995ab(0x33a)](_0x1729b8);if(!_0x2a0fd4){showMessage(_0x4995ab(0x348));return;}const _0x7f0c95='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x4995ab(0x312)+_0x4995ab(0x98)+_0x4995ab(0xa9),_0x18a10d=_0x4995ab(0x1f7),_0x40714e=_0x7f0c95+_0x2a0fd4['innerHTML']+_0x18a10d,_0x424d5b='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x40714e),_0x1dab55=document[_0x4995ab(0x1fe)]('a');document[_0x4995ab(0x461)][_0x4995ab(0x42e)](_0x1dab55),_0x1dab55[_0x4995ab(0x4fe)]=_0x424d5b,_0x1dab55[_0x4995ab(0x2ec)]=_0x15ed0a+_0x4995ab(0xc1),_0x1dab55[_0x4995ab(0x139)](),document['body'][_0x4995ab(0x225)](_0x1dab55);}function exportTableAsExcel(_0x13fff7,_0x1a977f){const _0x3bfc71=_0x24b34b,_0xb39ff6=document[_0x3bfc71(0x33a)](_0x13fff7);if(!_0xb39ff6){showMessage(_0x3bfc71(0x348));return;}let _0x3411c6=[];for(let _0xc3cf87=0x0;_0xc3cf87<_0xb39ff6['rows'][_0x3bfc71(0x114)];_0xc3cf87++){let _0x1b9ee6=[],_0x3f481c=_0xb39ff6[_0x3bfc71(0xa8)][_0xc3cf87]['querySelectorAll'](_0x3bfc71(0x28b));for(let _0x48fad0=0x0;_0x48fad0<_0x3f481c['length'];_0x48fad0++){_0x1b9ee6['push']('\x22'+_0x3f481c[_0x48fad0][_0x3bfc71(0x18b)][_0x3bfc71(0x48b)](/"/g,'\x22\x22')+'\x22');}_0x3411c6['push'](_0x1b9ee6['join'](','));}const _0x238ac1=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3411c6[_0x3bfc71(0x179)]('\x0a')],{'type':_0x3bfc71(0x195)}),_0x529634=document['createElement']('a');_0x529634['href']=URL['createObjectURL'](_0x238ac1),_0x529634['download']=_0x1a977f+_0x3bfc71(0x201),_0x529634[_0x3bfc71(0x139)]();}function renderAnalytics(_0x2c4b9f,_0x5d8b55){const _0x2f8a53=_0x24b34b,_0x167667=currentProjectData[_0x2f8a53(0x1b7)][_0x2f8a53(0x114)],_0x2b69e7=_0x5d8b55[_0x2f8a53(0x114)],_0x1a71dc=_0x167667-_0x2b69e7,_0x1efe17=_0x167667>0x0?_0x2b69e7/_0x167667*0x64:0x0,_0x5971d1=_0x5d8b55[_0x2f8a53(0x500)](_0x5c63a4=>_0x5c63a4[_0x2f8a53(0x4de)]),_0x41e03b=_0x5971d1[_0x2f8a53(0x114)]>0x0?_0x5971d1[_0x2f8a53(0xeb)]((_0x4a1a97,_0x3c0f76)=>_0x4a1a97+_0x3c0f76,0x0)/_0x5971d1[_0x2f8a53(0x114)]:0x0,_0x93d9e7=_0x2c4b9f[_0x2f8a53(0x177)][_0x2f8a53(0x114)],_0x32fab7=_0x93d9e7>0x0?_0x41e03b/_0x93d9e7*0x64:0x0,_0x281202=document[_0x2f8a53(0x33a)](_0x2f8a53(0x1e5));_0x281202[_0x2f8a53(0x3dd)]=_0x2f8a53(0x17e)+_0x1efe17[_0x2f8a53(0x292)](0x0)+_0x2f8a53(0x153)+_0x2b69e7+'/'+_0x167667+_0x2f8a53(0x24c)+_0x41e03b[_0x2f8a53(0x292)](0x2)+_0x2f8a53(0x21c)+_0x32fab7[_0x2f8a53(0x292)](0x0)+_0x2f8a53(0x21d)+(_0x5971d1[_0x2f8a53(0x114)]>0x0?Math[_0x2f8a53(0x31d)](..._0x5971d1):'N/A')+_0x2f8a53(0x2f7)+(_0x5971d1[_0x2f8a53(0x114)]>0x0?Math['min'](..._0x5971d1):_0x2f8a53(0x3a4))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x2decd6=currentProjectData['students']||[];renderSubmissionChart(_0x2b69e7,_0x1a71dc,_0x5d8b55,_0x2decd6),renderScoreDistributionChart(_0x5d8b55,_0x93d9e7),renderQuestionAnalytics(_0x2c4b9f,_0x5d8b55,_0x2decd6);}function renderSubmissionChart(_0x2480c4,_0x3b3824,_0x19cfab,_0x13e515){const _0x3be8f1=_0x24b34b,_0x293abf=document[_0x3be8f1(0x33a)]('submission-status-chart')[_0x3be8f1(0x1de)]('2d'),_0x5ab302=_0x19cfab[_0x3be8f1(0x500)](_0xdfc661=>_0xdfc661['studentName']),_0xed0304=_0x13e515['filter'](_0x22ec7d=>!_0x5ab302['includes'](_0x22ec7d));chartInstances['submission']&&chartInstances[_0x3be8f1(0x2ea)][_0x3be8f1(0x270)](),chartInstances[_0x3be8f1(0x2ea)]=new Chart(_0x293abf,{'type':_0x3be8f1(0x2ae),'data':{'labels':[_0x3be8f1(0x9c),_0x3be8f1(0x37e)],'datasets':[{'data':[_0x2480c4,_0x3b3824],'backgroundColor':[_0x3be8f1(0x2cd),'#F59E0B'],'borderColor':[_0x3be8f1(0x38d),_0x3be8f1(0x38d)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x247c04){let _0x4692c4=_0x247c04['label']||'';return _0x4692c4&&(_0x4692c4+=':\x20'),_0x4692c4+=_0x247c04['raw'],_0x4692c4;},'afterLabel':function(_0xb36638){const _0x22112d=_0x3be8f1;let _0x1a94a3;return _0xb36638[_0x22112d(0x287)]===0x0?_0x1a94a3=_0x5ab302:_0x1a94a3=_0xed0304,_0x1a94a3[_0x22112d(0x114)]>0x0?_0x1a94a3[_0x22112d(0x179)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x2c4d6b,_0x8b478f){const _0x40af01=_0x24b34b,_0x281e04=document[_0x40af01(0x33a)](_0x40af01(0xf6))[_0x40af01(0x1de)]('2d'),_0x5114d4={};for(let _0x5707de=0x0;_0x5707de<=_0x8b478f;_0x5707de++){_0x5114d4[_0x5707de]=0x0;}_0x2c4d6b['forEach'](_0x1abdd5=>{const _0x144808=_0x40af01;_0x5114d4[_0x1abdd5[_0x144808(0x4de)]]!==undefined&&_0x5114d4[_0x1abdd5[_0x144808(0x4de)]]++;}),chartInstances['score']&&chartInstances['score'][_0x40af01(0x270)](),chartInstances[_0x40af01(0x3e9)]=new Chart(_0x281e04,{'type':_0x40af01(0x450),'data':{'labels':Object[_0x40af01(0xca)](_0x5114d4),'datasets':[{'label':_0x40af01(0x16d),'data':Object[_0x40af01(0x4d1)](_0x5114d4),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x1acd41){const _0x14aac7=_0x40af01,_0x43ddfa=_0x1acd41[_0x14aac7(0x280)],_0x5d4ba4=_0x2c4d6b[_0x14aac7(0x410)](_0x22b997=>_0x22b997[_0x14aac7(0x4de)]==_0x43ddfa)[_0x14aac7(0x500)](_0x1aa5ad=>_0x1aa5ad[_0x14aac7(0x415)]);return _0x5d4ba4[_0x14aac7(0x114)]>0x0?_0x5d4ba4[_0x14aac7(0x179)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x21699e,_0x281ac6,_0xcb2a8){const _0x1db0c7=_0x24b34b,_0x59089f=document['getElementById']('question-analytics-container');if(_0xcb2a8[_0x1db0c7(0x114)]===0x0){_0x59089f[_0x1db0c7(0x3dd)]=_0x1db0c7(0x322);return;}let _0xdd266f='';const _0x1695ab=_0x281ac6[_0x1db0c7(0x500)](_0x2cc43e=>_0x2cc43e[_0x1db0c7(0x415)]);_0x21699e[_0x1db0c7(0x177)]['forEach']((_0x4d01e6,_0x2ec11e)=>{const _0x1e921a=_0x1db0c7;let _0x112c39=0x0;const _0x3868f5=[],_0x3b4920=[],_0x23ea9e=_0x4d01e6[_0x1e921a(0x4b4)]||_0x4d01e6['questionText']||_0x4d01e6[_0x1e921a(0x433)];_0x281ac6['forEach'](_0x1e8e84=>{const _0x257506=_0x1e921a,_0x141e36=_0x1e8e84[_0x257506(0x47c)][_0x1e8e84[_0x257506(0x47c)]['length']-0x1];if(_0x141e36&&_0x141e36[_0x257506(0x1a7)]){const _0x48b3c4=_0x141e36[_0x257506(0x1a7)][_0x257506(0x4f9)](_0xb9aeed=>_0xb9aeed[_0x257506(0x1ae)]===_0x23ea9e)??_0x141e36[_0x257506(0x1a7)][_0x2ec11e]??null;_0x48b3c4&&(_0x48b3c4[_0x257506(0x4b9)]?(_0x112c39++,_0x3868f5[_0x257506(0x1c7)](_0x1e8e84[_0x257506(0x415)])):_0x3b4920[_0x257506(0x1c7)](_0x1e8e84[_0x257506(0x415)]));}});const _0x2f9b91=_0xcb2a8[_0x1e921a(0x410)](_0x1a2ce9=>!_0x1695ab[_0x1e921a(0x102)](_0x1a2ce9)),_0x244c64=_0x281ac6['length']>0x0?_0x112c39/_0x281ac6[_0x1e921a(0x114)]*0x64:0x0;_0xdd266f+=_0x1e921a(0xec)+(_0x2ec11e+0x1)+':\x20'+_0x23ea9e+_0x1e921a(0x326)+(_0x244c64>=0x46?_0x1e921a(0x27e):_0x244c64>=0x28?'bg-yellow-200\x20text-yellow-800':_0x1e921a(0x33c))+_0x1e921a(0x23d)+_0x244c64['toFixed'](0x0)+_0x1e921a(0x1ac)+_0x23ea9e+_0x1e921a(0x449)+_0x112c39+_0x1e921a(0x256)+_0x281ac6[_0x1e921a(0x114)]+_0x1e921a(0x38f)+_0x3868f5['length']+_0x1e921a(0x34d)+(_0x3868f5[_0x1e921a(0x114)]>0x0?_0x3868f5[_0x1e921a(0x179)](',\x20'):'ไม่มี')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x3b4920[_0x1e921a(0x114)]+_0x1e921a(0x34d)+(_0x3b4920[_0x1e921a(0x114)]>0x0?_0x3b4920[_0x1e921a(0x179)](',\x20'):_0x1e921a(0xb8))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x2f9b91[_0x1e921a(0x114)]+_0x1e921a(0x34d)+(_0x2f9b91[_0x1e921a(0x114)]>0x0?_0x2f9b91[_0x1e921a(0x179)](',\x20'):_0x1e921a(0xb8))+_0x1e921a(0x241);}),_0x59089f[_0x1db0c7(0x3dd)]=_0xdd266f;try{window[_0x1db0c7(0x3d7)]&&MathJax[_0x1db0c7(0x493)]&&MathJax[_0x1db0c7(0x493)]([_0x59089f]);}catch(_0x518003){console[_0x1db0c7(0xb1)](_0x1db0c7(0x359),_0x518003);}}async function handleAnalyzeClass(){const _0x220c7e=_0x24b34b;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x220c7e(0x462));return;}const _0x3101eb=collection(db,_0x220c7e(0x202)+appId+_0x220c7e(0x4e2)+currentQuizData['id']+_0x220c7e(0x150)),_0x5e6e2e=await getDocs(_0x3101eb),_0xad4fd8=_0x5e6e2e[_0x220c7e(0xb7)][_0x220c7e(0x500)](_0x1bf8d2=>_0x1bf8d2['data']());if(_0xad4fd8['length']<0x2){showMessage(_0x220c7e(0x386));return;}const _0x538ac6=document[_0x220c7e(0x33a)]('strength-weakness-analysis-container');_0x538ac6[_0x220c7e(0x3dd)]=_0x220c7e(0x50f),document[_0x220c7e(0x33a)](_0x220c7e(0x15d))['disabled']=!![];const _0xe32f97=_0xad4fd8[_0x220c7e(0x500)]((_0x164560,_0x249816)=>{const _0x4e1aa8=_0x220c7e,_0x3fc7f1=_0x164560[_0x4e1aa8(0x47c)][_0x164560[_0x4e1aa8(0x47c)][_0x4e1aa8(0x114)]-0x1];if(!_0x3fc7f1)return'';return _0x4e1aa8(0x2d7)+(_0x249816+0x1)+'\x20('+_0x164560[_0x4e1aa8(0x415)]+_0x4e1aa8(0x33b)+_0x3fc7f1[_0x4e1aa8(0x3e9)]+'/'+_0x164560[_0x4e1aa8(0x2b9)]+_0x4e1aa8(0x407)+JSON[_0x4e1aa8(0x29f)](_0x3fc7f1['answers'])+_0x4e1aa8(0x3a2);})[_0x220c7e(0x179)](_0x220c7e(0x2b0)),_0x50f774=_0x220c7e(0x37c)+currentQuizData[_0x220c7e(0x140)]+_0x220c7e(0x412)+JSON['stringify'](currentQuizData['questions'])+_0x220c7e(0x35f)+_0xe32f97+_0x220c7e(0x4f4),_0x16d5fa={'type':_0x220c7e(0xaa),'properties':{'classStrengths':{'type':_0x220c7e(0x43a),'items':{'type':_0x220c7e(0x1fa)}},'classWeaknesses':{'type':_0x220c7e(0x43a),'items':{'type':_0x220c7e(0x1fa)}},'teacherSuggestions':{'type':_0x220c7e(0x43a),'items':{'type':_0x220c7e(0x1fa)}}},'required':[_0x220c7e(0xb0),_0x220c7e(0x1bc),_0x220c7e(0x36a)]};try{const _0x469d3e=await callAnalysisApi(_0x50f774,_0x16d5fa);displayClassAnalysis(_0x469d3e);}catch(_0x1410aa){console[_0x220c7e(0xb1)](_0x220c7e(0x22b),_0x1410aa),_0x538ac6['innerHTML']='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x1410aa['message']+_0x220c7e(0xb2);}finally{document[_0x220c7e(0x33a)](_0x220c7e(0x15d))[_0x220c7e(0x308)]=![];}}function displayClassAnalysis(_0x5e16e6){const _0x1e0a52=_0x24b34b,_0x3d85e0=document[_0x1e0a52(0x33a)](_0x1e0a52(0x187));if(!_0x5e16e6){_0x3d85e0['innerHTML']=_0x1e0a52(0x9a);return;}_0x3d85e0[_0x1e0a52(0x3dd)]=_0x1e0a52(0x337)+_0x5e16e6['classStrengths'][_0x1e0a52(0x500)](_0x28733d=>_0x1e0a52(0x2e0)+_0x28733d+_0x1e0a52(0x3b0))[_0x1e0a52(0x179)]('')+_0x1e0a52(0x30a)+_0x5e16e6[_0x1e0a52(0x1bc)][_0x1e0a52(0x500)](_0x4c1259=>_0x1e0a52(0x2e0)+_0x4c1259+_0x1e0a52(0x3b0))[_0x1e0a52(0x179)]('')+_0x1e0a52(0x3f6)+_0x5e16e6[_0x1e0a52(0x36a)]['map'](_0x4d4c62=>_0x1e0a52(0x2e0)+_0x4d4c62+_0x1e0a52(0x3b0))[_0x1e0a52(0x179)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x3f295a,_0x57b85a){const _0x5ae4a2=_0x24b34b,_0x187606=_0x5ae4a2(0x1b5)+_0x3f295a['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x3f295a[_0x5ae4a2(0x140)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f295a[_0x5ae4a2(0x177)][_0x5ae4a2(0x500)]((_0x39a9a5,_0x417e78)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x417e78+0x1)+'.\x20'+_0x39a9a5['questionText']+_0x5ae4a2(0x48f)+(_0x39a9a5[_0x5ae4a2(0x168)]?_0x5ae4a2(0x3e7)+_0x39a9a5['imageCode']+_0x5ae4a2(0x385):'')+_0x5ae4a2(0x23f))[_0x5ae4a2(0x179)]('')+_0x5ae4a2(0x230);_0x57b85a[_0x5ae4a2(0x2f9)][_0x5ae4a2(0x26f)](_0x187606),_0x57b85a['document']['close'](),_0x57b85a[_0x5ae4a2(0x4dc)]=function(){const _0x368f62=_0x5ae4a2;_0x57b85a[_0x368f62(0x24a)]();};}async function generateWorksheet(){const _0x45ad4a=_0x24b34b,_0x3b8f3d=document[_0x45ad4a(0x33a)](_0x45ad4a(0x2e3))[_0x45ad4a(0x4bb)][_0x45ad4a(0x4c4)]();if(!_0x3b8f3d){showMessage(_0x45ad4a(0x510));return;}const _0x263293=window['open']('','_blank');_0x263293['document'][_0x45ad4a(0x26f)]('<h1></h1>');const _0x2518fa=parseInt(document[_0x45ad4a(0x33a)](_0x45ad4a(0x324))[_0x45ad4a(0x4bb)]),_0x299821=document[_0x45ad4a(0x33a)](_0x45ad4a(0xfe))[_0x45ad4a(0x41d)],_0x51923f=_0x299821?_0x45ad4a(0x398):'',_0x24dc6e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงานที่พิมพ์ได้\x20จำนวน\x20'+_0x2518fa+_0x45ad4a(0x97)+_0x3b8f3d+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51923f+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20',_0x2632c2={'type':_0x45ad4a(0xaa),'properties':{'topic':{'type':_0x45ad4a(0x1fa)},'questions':{'type':_0x45ad4a(0x43a),'items':{'type':_0x45ad4a(0xaa),'properties':{'questionText':{'type':_0x45ad4a(0x1fa)},'imageCode':{'type':_0x45ad4a(0x1fa)}},'required':[_0x45ad4a(0x121)]}}},'required':[_0x45ad4a(0x140),_0x45ad4a(0x177)]};document[_0x45ad4a(0x33a)](_0x45ad4a(0x4ce))[_0x45ad4a(0x4fa)]=_0x45ad4a(0x4c6),document[_0x45ad4a(0x33a)](_0x45ad4a(0x25d))[_0x45ad4a(0x43c)][_0x45ad4a(0x4ff)](_0x45ad4a(0x377)),document['getElementById']('quiz-generation-area')[_0x45ad4a(0x43c)]['remove'](_0x45ad4a(0x377)),generateWorksheetBtn[_0x45ad4a(0x308)]=!![];try{const _0xc9e686=await callAnalysisApi(_0x24dc6e,_0x2632c2);formatAndPrintWorksheet(_0xc9e686,_0x263293);}catch(_0xb40dc0){console['error'](_0x45ad4a(0x470),_0xb40dc0);if(_0x263293)_0x263293[_0x45ad4a(0xf2)]();showMessage(_0x45ad4a(0x198));}finally{document[_0x45ad4a(0x33a)](_0x45ad4a(0x25d))['classList']['add'](_0x45ad4a(0x377)),document[_0x45ad4a(0x33a)](_0x45ad4a(0x160))[_0x45ad4a(0x43c)][_0x45ad4a(0x220)](_0x45ad4a(0x377)),generateWorksheetBtn[_0x45ad4a(0x308)]=![];}}async function callAnalysisApi(_0x22609c,_0x6a1b33){const _0x187b07=_0x24b34b,_0x355c06={'contents':[{'role':_0x187b07(0x4a6),'parts':[{'text':_0x22609c}]}],'generationConfig':{'responseMimeType':_0x187b07(0x228),'responseSchema':_0x6a1b33}},_0x3825f6='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x467052=_0x187b07(0x186)+_0x3825f6,_0x40bbfc=await fetch(_0x467052,{'method':_0x187b07(0x4d9),'headers':{'Content-Type':_0x187b07(0x228)},'body':JSON[_0x187b07(0x29f)](_0x355c06)});if(!_0x40bbfc['ok'])throw new Error(_0x187b07(0x189)+_0x40bbfc['status']);const _0x29c354=await _0x40bbfc['json']();if(_0x29c354[_0x187b07(0x93)]?.[0x0]?.[_0x187b07(0x4cd)]?.[_0x187b07(0x1bd)]?.[0x0])return JSON[_0x187b07(0x4a1)](_0x29c354[_0x187b07(0x93)][0x0][_0x187b07(0x4cd)][_0x187b07(0x1bd)][0x0][_0x187b07(0x22e)]);else{let _0x1aab1b=_0x187b07(0x40d);if(_0x29c354[_0x187b07(0x2fc)]?.['blockReason'])_0x1aab1b=_0x187b07(0x4ae)+_0x29c354[_0x187b07(0x2fc)][_0x187b07(0x4a7)]+'.';else _0x29c354[_0x187b07(0x93)]?.[0x0]?.[_0x187b07(0x159)]&&_0x29c354[_0x187b07(0x93)][0x0][_0x187b07(0x159)]!==_0x187b07(0x3a8)&&(_0x1aab1b=_0x187b07(0x162)+_0x29c354[_0x187b07(0x93)][0x0][_0x187b07(0x159)]+'.');console[_0x187b07(0xb1)](_0x1aab1b,JSON[_0x187b07(0x29f)](_0x29c354));throw new Error(_0x1aab1b);}}initialize();
