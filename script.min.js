const _0x1579df=_0x13b1;(function(_0x3a3612,_0x23177b){const _0x53cf05=_0x13b1,_0xea1077=_0x3a3612();while(!![]){try{const _0x1f4ef8=parseInt(_0x53cf05(0x710))/0x1+parseInt(_0x53cf05(0x845))/0x2*(-parseInt(_0x53cf05(0x34d))/0x3)+-parseInt(_0x53cf05(0x27a))/0x4+-parseInt(_0x53cf05(0x200))/0x5*(parseInt(_0x53cf05(0x4f2))/0x6)+-parseInt(_0x53cf05(0x252))/0x7*(parseInt(_0x53cf05(0x160))/0x8)+-parseInt(_0x53cf05(0x457))/0x9+parseInt(_0x53cf05(0x2db))/0xa;if(_0x1f4ef8===_0x23177b)break;else _0xea1077['push'](_0xea1077['shift']());}catch(_0x4cf9b7){_0xea1077['push'](_0xea1077['shift']());}}}(_0x2db2,0x793e8));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';function _0x13b1(_0x312455,_0x2d45b7){const _0x2db209=_0x2db2();return _0x13b1=function(_0x13b134,_0x1c3d45){_0x13b134=_0x13b134-0xad;let _0x2ced7b=_0x2db209[_0x13b134];return _0x2ced7b;},_0x13b1(_0x312455,_0x2d45b7);}let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x45bbfd=_0x13b1;if(_0x45bbfd(0x422)in navigator)try{wakeLock=await navigator[_0x45bbfd(0x422)][_0x45bbfd(0x261)](_0x45bbfd(0x9a3)),console[_0x45bbfd(0x919)](_0x45bbfd(0x921)),wakeLock[_0x45bbfd(0x6a9)](_0x45bbfd(0x8a8),()=>{const _0x161d2d=_0x45bbfd;console[_0x161d2d(0x919)](_0x161d2d(0x9a2));});}catch(_0x2596a8){console[_0x45bbfd(0x962)](_0x45bbfd(0x488)+_0x2596a8[_0x45bbfd(0x9a5)]+',\x20'+_0x2596a8['message']);}else console['warn']('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x2a84c5=_0x13b1;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x2a84c5(0x919)](_0x2a84c5(0x8f9)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x132540=_0x13b1;if(dimTimer)clearTimeout(dimTimer);document[_0x132540(0x708)][_0x132540(0x635)][_0x132540(0x74c)]('dimmed'),dimTimer=setTimeout(()=>{const _0x163402=_0x132540;document[_0x163402(0x708)][_0x163402(0x635)][_0x163402(0x8c5)](_0x163402(0x650)),console[_0x163402(0x919)](_0x163402(0x20f));},inactivityTime);}function stopDimTimer(){const _0x41c648=_0x13b1;if(dimTimer)clearTimeout(dimTimer);document[_0x41c648(0x708)]['classList']['remove']('dimmed'),window[_0x41c648(0x333)]('mousemove',resetDimTimer),window['removeEventListener'](_0x41c648(0x5f3),resetDimTimer),window[_0x41c648(0x333)]('touchstart',resetDimTimer),window['removeEventListener'](_0x41c648(0x1a4),resetDimTimer),console[_0x41c648(0x919)](_0x41c648(0x7ec));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0;async function handleStartTeamQuiz(_0x1fcb4e,_0xce51a=![]){const _0x9f276f=_0x13b1,_0x34eef6=allQuizzes[_0x9f276f(0x974)](_0x42dd91=>_0x42dd91['id']===_0x1fcb4e)||allQuizzesGlobal['find'](_0x4128cb=>_0x4128cb['id']===_0x1fcb4e);if(!_0x34eef6){showMessage(_0x9f276f(0x12d));return;}currentQuizData=getShuffledQuiz(_0x34eef6);const _0x5064e0=Math['floor'](0x3e8+Math[_0x9f276f(0x4fa)]()*0x2328)[_0x9f276f(0x994)]();try{const _0x31b0b3=await addDoc(collection(db,'artifacts/'+appId+_0x9f276f(0x3b1)),{'quizId':_0x34eef6['id'],'projectId':_0x34eef6[_0x9f276f(0x80a)],'status':_0x9f276f(0x6a8),'pin':_0x5064e0,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xce51a});currentTeamQuizId=_0x31b0b3['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x5064e0,_0x34eef6[_0x9f276f(0x9b2)]),listenForTeamQuizUpdates();}catch(_0x4832d1){console[_0x9f276f(0x962)](_0x9f276f(0x914),_0x4832d1),showMessage(_0x9f276f(0x57a));}}function renderAdminTeamQuizDashboard(_0x10e05d,_0x528bb3,_0x4cfb2d=_0x1579df(0x2bc)){const _0x409f7d=_0x1579df,_0x1bde7e=_0x4cfb2d==='group'?'Group\x20Mode':_0x409f7d(0x31e);liveGameView[_0x409f7d(0x581)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x1bde7e+':\x20'+_0x528bb3+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x10e05d+_0x409f7d(0x33b),document['getElementById'](_0x409f7d(0x655))[_0x409f7d(0x6a9)](_0x409f7d(0x379),async()=>{const _0x2f9ae4=_0x409f7d;showConfirmation(_0x2f9ae4(0x7f1),async()=>{const _0xbb1ee3=_0x2f9ae4;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0xbb1ee3(0x88d)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0xbb1ee3(0x978));});});}function listenForTeamQuizUpdates(){const _0x1f89f6=_0x1579df;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x5ad2e0=doc(db,_0x1f89f6(0x88d)+appId+_0x1f89f6(0x3b1),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x5ad2e0,_0x442ae2=>{const _0xf53be5=_0x1f89f6;if(!_0x442ae2['exists']()){sessionStorage[_0xf53be5(0x3e7)](_0xf53be5(0x916));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode===_0xf53be5(0x935))showMessage(_0xf53be5(0x5ff));showView(currentMode===_0xf53be5(0x935)?_0xf53be5(0x978):_0xf53be5(0x1d7));return;}const _0x3ff934=_0x442ae2[_0xf53be5(0x844)]();if(currentMode==='admin'){if(_0x3ff934[_0xf53be5(0x218)]===_0xf53be5(0x26c)&&_0x3ff934[_0xf53be5(0x1cf)]!==_0xf53be5(0xd8)&&_0x3ff934['status']!==_0xf53be5(0x7ab)){const _0x121f65=Object[_0xf53be5(0x373)](_0x3ff934[_0xf53be5(0x214)]||{});if(_0x121f65[_0xf53be5(0x783)]>0x0){const _0x230dd4=_0x121f65['every'](_0x3cff01=>_0x3cff01['isFinished']===!![]);_0x230dd4&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x3ff934);}else{if(_0x3ff934[_0xf53be5(0x1cf)]===_0xf53be5(0xd8)||_0x3ff934[_0xf53be5(0x1cf)]===_0xf53be5(0x7ab)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x3ff934[_0xf53be5(0x218)]===_0xf53be5(0x26c)){const _0x149a16=_0x3ff934[_0xf53be5(0x214)][userId];(!_0x149a16||!_0x149a16['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x2129fe){const _0x1b2bfc=_0x1579df;console['log'](_0x1b2bfc(0x289));const _0x7fa9f7=doc(db,_0x1b2bfc(0x88d)+appId+'/public/data/teamQuizzes',_0x2129fe);try{const _0x3f3947=await getDoc(_0x7fa9f7);if(_0x3f3947[_0x1b2bfc(0x3e1)]()){const _0x166d5a=_0x3f3947[_0x1b2bfc(0x844)]();_0x166d5a['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x166d5a);}await updateDoc(_0x7fa9f7,{'status':_0x1b2bfc(0xd8)});}catch(_0x17c615){console[_0x1b2bfc(0x962)](_0x1b2bfc(0x49a),_0x17c615);}}function updateAdminTeamDashboard(_0x1276f6){const _0x226218=_0x1579df,_0x51e70d=document[_0x226218(0x632)](_0x226218(0x8ad));if(!_0x51e70d)return;const _0x32d05b=_0x1276f6[_0x226218(0x218)]||'team';if(_0x32d05b===_0x226218(0x26c)){const _0x5380e9=Object[_0x226218(0x373)](_0x1276f6[_0x226218(0x214)]||{});if(_0x5380e9[_0x226218(0x783)]===0x0){_0x51e70d[_0x226218(0x581)]=_0x226218(0x653);return;}const _0x3786d1=[..._0x5380e9][_0x226218(0x774)]((_0x3b260f,_0x540206)=>_0x540206['score']-_0x3b260f[_0x226218(0x948)]),_0x128801=_0x3786d1['map']((_0x4f7cc0,_0x3b7d1d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x3b7d1d+0x1)+_0x226218(0x249)+_0x4f7cc0[_0x226218(0xe0)][_0x226218(0x7b1)](',\x20')+_0x226218(0x5f0)+_0x4f7cc0[_0x226218(0x948)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x226218(0x7b1)]('');let _0x63bfb2='';currentQuizData&&currentQuizData['questions']&&(_0x63bfb2=currentQuizData[_0x226218(0x88e)][_0x226218(0x931)]((_0x2854a4,_0x1138ab)=>{const _0x3877b5=_0x226218;let _0x53ebdc=0x0;return _0x5380e9['forEach'](_0x1b34cf=>{const _0x4f7ca8=_0x13b1,_0x4e5a59=_0x1b34cf[_0x4f7ca8(0x6ac)]||[],_0x17b893=_0x4e5a59['find'](_0x24c622=>_0x24c622[_0x4f7ca8(0x688)]===_0x1138ab);_0x17b893&&_0x17b893[_0x4f7ca8(0x304)]&&_0x53ebdc++;}),_0x3877b5(0x1ae)+(_0x1138ab+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x53ebdc+'\x20/\x20'+_0x5380e9[_0x3877b5(0x783)]+_0x3877b5(0x5f9);})['join']('')),_0x51e70d['innerHTML']=_0x226218(0x554)+_0x128801+_0x226218(0x78f)+_0x63bfb2+_0x226218(0x51d);}else{const _0x37de78=_0x1276f6[_0x226218(0x50d)]||{},_0x3d105d=Object[_0x226218(0x4cf)](_0x37de78);if(_0x3d105d[_0x226218(0x783)]===0x0){_0x51e70d['innerHTML']=_0x226218(0x1b5);return;}const _0x3e93b5=_0x3d105d[_0x226218(0x931)](_0x87ca51=>({'name':_0x87ca51,'score':_0x37de78[_0x87ca51]['score']||0x0}))['sort']((_0x3273b4,_0x58e08d)=>_0x58e08d[_0x226218(0x948)]-_0x3273b4[_0x226218(0x948)]);let _0xd5b43='';currentQuizData&&currentQuizData[_0x226218(0x88e)]&&(_0xd5b43=currentQuizData[_0x226218(0x88e)][_0x226218(0x931)]((_0x58a4b7,_0x1a6905)=>{const _0x590048=_0x226218;let _0x2d7654=0x0;return _0x3d105d[_0x590048(0x2fb)](_0x2700f6=>{const _0x7bc7e6=_0x590048,_0x46d51c=_0x37de78[_0x2700f6]['answers']||[],_0x504c8b=_0x46d51c['find'](_0x27649c=>_0x27649c[_0x7bc7e6(0x688)]===_0x1a6905);if(_0x504c8b&&_0x504c8b[_0x7bc7e6(0x304)])_0x2d7654++;}),'<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x1a6905+0x1)+_0x590048(0x5e6)+_0x2d7654+'\x20/\x20'+_0x3d105d['length']+'\x20คน\x20ตอบถูก</p></div>';})[_0x226218(0x7b1)]('')),_0x51e70d['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x3e93b5['map'](_0x5abd4f=>_0x226218(0x853)+_0x5abd4f[_0x226218(0x9a5)]+'</span><span\x20class=\x22font-bold\x22>'+_0x5abd4f[_0x226218(0x948)]+_0x226218(0x67e))['join']('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0xd5b43+_0x226218(0x590);}}async function handleJoinTeamQuiz(){const _0x10138b=_0x1579df,_0x223c13=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x223c13||_0x223c13[_0x10138b(0x3d4)]()[_0x10138b(0x783)]!==0x4){showMessage(_0x10138b(0x397));return;}try{const _0x450574=collection(db,_0x10138b(0x88d)+appId+_0x10138b(0x3b1)),_0x1f664e=query(_0x450574,where(_0x10138b(0x891),'==',_0x223c13['trim']()),where(_0x10138b(0x1cf),'==',_0x10138b(0x6a8))),_0x6881a2=await getDocs(_0x1f664e);if(_0x6881a2['empty']){showMessage(_0x10138b(0x5e0));return;}const _0x1427a0=_0x6881a2[_0x10138b(0x6b3)][0x0];currentTeamQuizId=_0x1427a0['id'];const _0x278fae=_0x1427a0[_0x10138b(0x844)](),_0x596714=doc(db,_0x10138b(0x88d)+appId+_0x10138b(0x18f),_0x278fae[_0x10138b(0x80a)]),_0x208174=doc(db,'artifacts/'+appId+_0x10138b(0x207),_0x278fae['quizId']),[_0x15410e,_0x5e8720]=await Promise['all']([getDoc(_0x596714),getDoc(_0x208174)]);if(!_0x15410e[_0x10138b(0x3e1)]()||!_0x5e8720['exists']())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x5e8720['id'],..._0x5e8720[_0x10138b(0x844)]()});const _0x1b7138=_0x15410e[_0x10138b(0x844)]();showTeamPlayerSelection(_0x1b7138[_0x10138b(0x63a)],currentQuizData[_0x10138b(0x9b2)]);}catch(_0x3cd40c){console[_0x10138b(0x962)](_0x10138b(0x108),_0x3cd40c),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3cd40c['message']);}}async function handleJoinGroupActivity(){const _0x34ac8f=_0x1579df,_0x31bc28=prompt(_0x34ac8f(0x760));if(!_0x31bc28||_0x31bc28[_0x34ac8f(0x3d4)]()[_0x34ac8f(0x783)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x32cd22=_0x31bc28[_0x34ac8f(0x3d4)]();showMessage(_0x34ac8f(0x65c));try{const _0x12401e=collection(db,_0x34ac8f(0x88d)+appId+_0x34ac8f(0x3b1)),_0x498a11=query(_0x12401e,where(_0x34ac8f(0x891),'==',_0x32cd22),where('status','==',_0x34ac8f(0x6a8))),_0x4609bc=await getDocs(_0x498a11);if(!_0x4609bc[_0x34ac8f(0xf2)]){console[_0x34ac8f(0x919)](_0x34ac8f(0x7c1)),await proceedWithTeamQuizJoin(_0x4609bc[_0x34ac8f(0x6b3)][0x0]);return;}const _0x446ed0=collection(db,_0x34ac8f(0x88d)+appId+'/public/data/syncGames'),_0x5e546d=query(_0x446ed0,where(_0x34ac8f(0x891),'==',_0x32cd22),where(_0x34ac8f(0x1cf),'==','lobby')),_0x355b9d=await getDocs(_0x5e546d);if(!_0x355b9d[_0x34ac8f(0xf2)]){console[_0x34ac8f(0x919)](_0x34ac8f(0x8d3)),await proceedWithSyncQuizJoin(_0x355b9d[_0x34ac8f(0x6b3)][0x0]);return;}showMessage(_0x34ac8f(0x687));}catch(_0x57a42f){console[_0x34ac8f(0x962)]('Error\x20joining\x20activity:',_0x57a42f),showMessage(_0x34ac8f(0x330)+_0x57a42f['message']);}}async function proceedWithTeamQuizJoin(_0x309400){const _0x3bd258=_0x1579df;currentTeamQuizId=_0x309400['id'];const _0x20bc88=_0x309400[_0x3bd258(0x844)](),_0x5414ad=doc(db,_0x3bd258(0x88d)+appId+_0x3bd258(0x18f),_0x20bc88[_0x3bd258(0x80a)]),_0x43273d=doc(db,'artifacts/'+appId+_0x3bd258(0x207),_0x20bc88[_0x3bd258(0x59c)]),[_0x53b526,_0x372e16]=await Promise['all']([getDoc(_0x5414ad),getDoc(_0x43273d)]);if(!_0x53b526['exists']()||!_0x372e16[_0x3bd258(0x3e1)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x372e16['id'],..._0x372e16[_0x3bd258(0x844)]()}),showTeamPlayerSelection(_0x53b526['data']()[_0x3bd258(0x63a)],currentQuizData[_0x3bd258(0x9b2)],_0x20bc88[_0x3bd258(0x218)]||_0x3bd258(0x2bc)),messageModal['classList'][_0x3bd258(0x8c5)](_0x3bd258(0x99e));}async function proceedWithSyncQuizJoin(_0x39be9c){const _0x57932a=_0x1579df;currentLiveGameId=_0x39be9c['id'];const _0x43370e=_0x39be9c[_0x57932a(0x844)](),_0x250606=doc(db,_0x57932a(0x88d)+appId+'/public/data/quizzes',_0x43370e[_0x57932a(0x59c)]),_0x5a6a45=await getDoc(_0x250606);if(!_0x5a6a45[_0x57932a(0x3e1)]())throw new Error(_0x57932a(0x12d));const _0x22dadb=_0x5a6a45[_0x57932a(0x844)](),_0x2a26aa=doc(db,_0x57932a(0x88d)+appId+_0x57932a(0x18f),_0x22dadb[_0x57932a(0x80a)]),_0x3f7e6b=await getDoc(_0x2a26aa);if(!_0x3f7e6b[_0x57932a(0x3e1)]())throw new Error(_0x57932a(0x628));currentQuizData=_0x43370e[_0x57932a(0x55e)],showView(_0x57932a(0x2ff)),showTeamPlayerSelection(_0x3f7e6b[_0x57932a(0x844)]()[_0x57932a(0x63a)],_0x22dadb['topic'],_0x57932a(0x5c4)),document[_0x57932a(0x632)](_0x57932a(0x5fc))['onclick']=confirmAndJoinSyncGame,messageModal['classList']['add'](_0x57932a(0x99e));}function showTeamPlayerSelection(_0x1f1132,_0x1dc010,_0x14f1e5='team'){const _0x339351=_0x1579df;studentInitialView['classList'][_0x339351(0x8c5)](_0x339351(0x99e)),studentJoinGameView[_0x339351(0x635)][_0x339351(0x8c5)](_0x339351(0x99e)),document[_0x339351(0x632)]('student-team-selection-view')['classList'][_0x339351(0x74c)](_0x339351(0x99e));let _0x512965=_0x339351(0x31e);if(_0x14f1e5===_0x339351(0x26c))_0x512965=_0x339351(0x680);else _0x14f1e5==='sync'&&(_0x512965='Sync\x20Mode');document[_0x339351(0x632)](_0x339351(0x197))[_0x339351(0xf3)]=_0x512965+':\x20'+_0x1dc010;const _0x5c26a8=document[_0x339351(0x632)](_0x339351(0x2f4));if(!_0x1f1132||_0x1f1132[_0x339351(0x783)]===0x0){_0x5c26a8[_0x339351(0x581)]=_0x339351(0x520),document['getElementById'](_0x339351(0x5fc))[_0x339351(0xd7)]=!![];return;}_0x5c26a8[_0x339351(0x581)]=_0x1f1132[_0x339351(0x931)](_0x21cf8b=>_0x339351(0x907)+_0x21cf8b+_0x339351(0x57b)+_0x21cf8b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x339351(0x7b1)](''),document[_0x339351(0x632)]('confirm-team-players-btn')[_0x339351(0xd7)]=![];}async function confirmAndStartTeamQuiz(){const _0x3839d8=_0x1579df,_0x2d14f8=Array[_0x3839d8(0x88b)](document[_0x3839d8(0x37d)](_0x3839d8(0x879)))[_0x3839d8(0x931)](_0x1e6fc0=>_0x1e6fc0['value']);if(_0x2d14f8[_0x3839d8(0x783)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x2d14f8,localPlayerTurnIndex=0x0;const _0x38afd2=doc(db,_0x3839d8(0x88d)+appId+_0x3839d8(0x3b1),currentTeamQuizId),_0x10f1c8=await getDoc(_0x38afd2);if(!_0x10f1c8['exists']()){showMessage(_0x3839d8(0x75d));return;}const _0x2dc9aa=_0x10f1c8[_0x3839d8(0x844)]();_0x2dc9aa[_0x3839d8(0x218)]===_0x3839d8(0x26c)&&(localGroupQuestionIndex=0x0);try{if(_0x2dc9aa[_0x3839d8(0x218)]===_0x3839d8(0x26c)){const _0x321175=userId,_0x1db5e2={};_0x1db5e2[_0x3839d8(0x6b6)+_0x321175]={'members':localTeamPlayers,'score':0x0,'answers':[]},await updateDoc(_0x38afd2,_0x1db5e2);}else{const _0x1db77e={};localTeamPlayers[_0x3839d8(0x2fb)](_0x497b6b=>{const _0x1dd685=_0x3839d8;_0x1db77e[_0x1dd685(0x5a8)+_0x497b6b]={'score':0x0,'answers':[]};}),await updateDoc(_0x38afd2,_0x1db77e);}document[_0x3839d8(0x632)](_0x3839d8(0x807))[_0x3839d8(0x635)]['add']('hidden'),renderTeamQuizQuestion();const _0x292b0b={'gameId':currentTeamQuizId,'mode':_0x2dc9aa[_0x3839d8(0x218)]||_0x3839d8(0x2bc),'players':localTeamPlayers,'turnIndex':localPlayerTurnIndex};sessionStorage[_0x3839d8(0x477)](_0x3839d8(0x916),JSON[_0x3839d8(0x3c5)](_0x292b0b)),listenForTeamQuizUpdates();}catch(_0x5a610b){console[_0x3839d8(0x962)](_0x3839d8(0x50c),_0x5a610b),showMessage(_0x3839d8(0x7a5));}}async function renderTeamQuizQuestion(){const _0x4c840e=_0x1579df,_0x4c22ef=doc(db,_0x4c840e(0x88d)+appId+_0x4c840e(0x3b1),currentTeamQuizId),_0x3f54e5=await getDoc(_0x4c22ef);if(!_0x3f54e5[_0x4c840e(0x3e1)]())return;const _0x5b93c6=_0x3f54e5[_0x4c840e(0x844)](),_0x1efffb=_0x5b93c6[_0x4c840e(0x218)]||_0x4c840e(0x2bc);let _0x1989a9,_0x3f36b4;_0x1efffb===_0x4c840e(0x26c)?(_0x1989a9=localGroupQuestionIndex,_0x3f36b4=_0x4c840e(0xd2)+localTeamPlayers[_0x4c840e(0x7b1)](',\x20')):(_0x1989a9=Math[_0x4c840e(0x1e3)](localPlayerTurnIndex/localTeamPlayers['length']),_0x3f36b4=_0x4c840e(0x717)+localTeamPlayers[localPlayerTurnIndex%localTeamPlayers['length']]);if(_0x1989a9>=currentQuizData[_0x4c840e(0x88e)][_0x4c840e(0x783)]){displayTeamQuizFinalResults();return;}const _0x39ea06=currentQuizData[_0x4c840e(0x88e)][_0x1989a9],_0x2de058=_0x39ea06[_0x4c840e(0x54a)]||currentQuizData[_0x4c840e(0x9af)];let _0x2893d7=_0x39ea06[_0x4c840e(0x36b)]||_0x39ea06[_0x4c840e(0x2b6)],_0x2f301a='';switch(_0x2de058){case'multiple_choice':case _0x4c840e(0x966):_0x2f301a=_0x39ea06['options'][_0x4c840e(0x931)]((_0x15f77c,_0x3c118c)=>_0x4c840e(0x182)+_0x3c118c+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x3c118c+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x3c118c+'\x22>'+_0x15f77c+_0x4c840e(0x195))[_0x4c840e(0x7b1)]('');break;case _0x4c840e(0x958):_0x2f301a=_0x4c840e(0x5cf);break;case'short_answer':case _0x4c840e(0x7aa):_0x2f301a=_0x4c840e(0x5d1);break;case _0x4c840e(0x357):_0x2f301a=_0x4c840e(0x2de)+_0x39ea06['allResponses'][_0x4c840e(0x931)](_0x1851bb=>_0x4c840e(0x322)+_0x1851bb+'\x22>'+_0x1851bb+_0x4c840e(0x987))[_0x4c840e(0x7b1)]('')+_0x4c840e(0x559);break;default:_0x2f301a=_0x4c840e(0x225);break;}studentQuizArea[_0x4c840e(0x581)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(_0x1989a9+0x1)+_0x4c840e(0x8f8)+currentQuizData[_0x4c840e(0x88e)][_0x4c840e(0x783)]+_0x4c840e(0x13c)+_0x3f36b4+_0x4c840e(0x177)+(_0x1989a9+0x1)+'.\x20'+_0x2893d7+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x39ea06['imageCode']?_0x4c840e(0x472)+_0x39ea06[_0x4c840e(0x137)]+_0x4c840e(0x49d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x2f301a+_0x4c840e(0x968),studentQuizArea[_0x4c840e(0x635)]['remove'](_0x4c840e(0x99e));if(window[_0x4c840e(0x1c5)])MathJax[_0x4c840e(0x2ab)]([studentQuizArea]);const _0x12e3cf=document[_0x4c840e(0x632)]('submit-team-answer-btn');_0x1efffb===_0x4c840e(0x26c)?_0x12e3cf[_0x4c840e(0x6a9)](_0x4c840e(0x379),handleGroupAnswerSubmit):_0x12e3cf[_0x4c840e(0x6a9)](_0x4c840e(0x379),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x239c1f=_0x1579df,_0x3d5e1f=doc(db,_0x239c1f(0x88d)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0xb18037=localGroupQuestionIndex,_0x38e163=currentQuizData['questions'][_0xb18037],_0x5c9ef5=_0x38e163[_0x239c1f(0x54a)]||currentQuizData[_0x239c1f(0x9af)];let _0x5c84af=null,_0x201e19=![];if(_0x5c9ef5===_0x239c1f(0x236)||_0x5c9ef5===_0x239c1f(0x7aa)){const _0x5de0d6=document[_0x239c1f(0x20a)](_0x239c1f(0x8d4));if(!_0x5de0d6||!_0x5de0d6[_0x239c1f(0x3d7)]['trim']()){showMessage(_0x239c1f(0x982));return;}_0x5c84af=_0x5de0d6[_0x239c1f(0x3d7)][_0x239c1f(0x3d4)](),_0x201e19=await gradeShortAnswer(_0x5c84af,_0x38e163);}else{const _0x19c6ce=document[_0x239c1f(0x20a)](_0x239c1f(0x2c3));if(!_0x19c6ce||_0x19c6ce['value']===''){showMessage(_0x239c1f(0x34e));return;}_0x5c84af=_0x19c6ce[_0x239c1f(0x3d7)];switch(_0x5c9ef5){case _0x239c1f(0x958):_0x201e19=_0x5c84af===_0x239c1f(0x21a)===_0x38e163[_0x239c1f(0x7d0)];break;case _0x239c1f(0x357):_0x201e19=_0x5c84af===_0x38e163[_0x239c1f(0x329)];break;default:_0x201e19=parseInt(_0x5c84af)===_0x38e163['correctAnswerIndex'];break;}}const _0x5e3bad={'questionIndex':_0xb18037,'isCorrect':_0x201e19},_0x2302e9=userId,_0x4de6a7={};_0x4de6a7[_0x239c1f(0x6b6)+_0x2302e9+'.answers']=arrayUnion(_0x5e3bad);_0x201e19&&(_0x4de6a7[_0x239c1f(0x6b6)+_0x2302e9+_0x239c1f(0x1d1)]=increment(0x1));try{await updateDoc(_0x3d5e1f,_0x4de6a7),localGroupQuestionIndex++,renderTeamQuizQuestion();}catch(_0x4289de){console[_0x239c1f(0x962)](_0x239c1f(0x3c8),_0x4289de),showMessage(_0x239c1f(0x622));}}async function handleTeamAnswerSubmit(){const _0x309a59=_0x1579df,_0x295970=localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x309a59(0x783)]],_0x287703=Math[_0x309a59(0x1e3)](localPlayerTurnIndex/localTeamPlayers[_0x309a59(0x783)]),_0x424aad=currentQuizData[_0x309a59(0x88e)][_0x287703],_0x52ee5f=_0x424aad[_0x309a59(0x54a)]||currentQuizData[_0x309a59(0x9af)];let _0x413050=null,_0x5d5d5c=![];if(_0x52ee5f===_0x309a59(0x236)||_0x52ee5f==='fill_in_no_choices'){const _0x113a9f=document['querySelector'](_0x309a59(0x8d4));if(!_0x113a9f||!_0x113a9f[_0x309a59(0x3d7)][_0x309a59(0x3d4)]()){showMessage(_0x309a59(0x956));return;}_0x413050=_0x113a9f[_0x309a59(0x3d7)][_0x309a59(0x3d4)](),_0x5d5d5c=await gradeShortAnswer(_0x413050,_0x424aad);}else{const _0x460237=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x460237||_0x460237[_0x309a59(0x3d7)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x413050=_0x460237[_0x309a59(0x3d7)];switch(_0x52ee5f){case'true_false':const _0x33a84d=_0x413050==='true';_0x5d5d5c=_0x33a84d===_0x424aad[_0x309a59(0x7d0)];break;case _0x309a59(0x357):_0x5d5d5c=_0x413050===_0x424aad['correctResponse'];break;default:const _0x5a515e=parseInt(_0x413050);_0x5d5d5c=_0x5a515e===_0x424aad['correctAnswerIndex'];break;}}const _0xb7d65={'questionIndex':_0x287703,'isCorrect':_0x5d5d5c,'answerValue':_0x413050},_0x20c239=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x2bc128={};_0x2bc128[_0x309a59(0x5a8)+_0x295970+_0x309a59(0x459)]=arrayUnion(_0xb7d65);_0x5d5d5c&&(_0x2bc128[_0x309a59(0x5a8)+_0x295970+_0x309a59(0x1d1)]=increment(0x1));try{await updateDoc(_0x20c239,_0x2bc128),localPlayerTurnIndex++;const _0x4fdef1=JSON[_0x309a59(0xf8)](sessionStorage['getItem'](_0x309a59(0x916))||'{}');_0x4fdef1[_0x309a59(0x309)]=localPlayerTurnIndex,sessionStorage[_0x309a59(0x477)](_0x309a59(0x916),JSON[_0x309a59(0x3c5)](_0x4fdef1)),renderTeamQuizQuestion();}catch(_0x84723){console['error']('Error\x20submitting\x20team\x20answer:',_0x84723),showMessage(_0x309a59(0x622));}}async function displayTeamQuizFinalResults(){const _0x4eef28=_0x1579df;studentQuizArea[_0x4eef28(0x635)][_0x4eef28(0x8c5)](_0x4eef28(0x99e)),studentResultArea[_0x4eef28(0x635)][_0x4eef28(0x74c)](_0x4eef28(0x99e));const _0x2d62ca=doc(db,_0x4eef28(0x88d)+appId+_0x4eef28(0x3b1),currentTeamQuizId),_0x6e8c6e=await getDoc(_0x2d62ca);if(!_0x6e8c6e['exists']()){studentResultArea[_0x4eef28(0x581)]=_0x4eef28(0x292);return;}const _0x12c110=_0x6e8c6e[_0x4eef28(0x844)]();let _0x5e7d20=[];const _0x5bf6c9=_0x12c110[_0x4eef28(0x218)]||_0x4eef28(0x2bc);if(_0x5bf6c9===_0x4eef28(0x26c)){const _0x358bde=_0x12c110[_0x4eef28(0x214)][userId];_0x358bde?_0x5e7d20=[{'name':'กลุ่ม:\x20'+localTeamPlayers['join'](',\x20'),'score':_0x358bde[_0x4eef28(0x948)]||0x0}]:_0x5e7d20=[{'name':'กลุ่มของคุณ','score':_0x4eef28(0x8e6)}];}else _0x5e7d20=localTeamPlayers[_0x4eef28(0x931)](_0x5e5e4f=>({'name':_0x5e5e4f,'score':_0x12c110['responses'][_0x5e5e4f]?.['score']||0x0}))[_0x4eef28(0x774)]((_0x1333a5,_0x2aa490)=>_0x2aa490[_0x4eef28(0x948)]-_0x1333a5[_0x4eef28(0x948)]);studentResultArea[_0x4eef28(0x581)]=_0x4eef28(0x189)+_0x5e7d20[_0x4eef28(0x931)](_0x48c640=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x48c640[_0x4eef28(0x9a5)]+_0x4eef28(0x5d5)+_0x48c640['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4eef28(0x7b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x4eef28(0x3e7)](_0x4eef28(0x916)),currentMode===_0x4eef28(0x935)&&currentTeamQuizId&&setTimeout(()=>{const _0x246218=_0x4eef28;deleteDoc(doc(db,_0x246218(0x88d)+appId+_0x246218(0x3b1),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x1579df(0x528),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x1579df(0x60a)},{'category':'จำนวนและการดำเนินการ','name':_0x1579df(0x5cc)},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x45a)},{'category':_0x1579df(0x7f8),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x81b)},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x617)},{'category':_0x1579df(0x7f8),'name':'การคูณ'},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x7cc)},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x6e3)},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x944)},{'category':'จำนวนและการดำเนินการ','name':_0x1579df(0x51a)},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x9ab)},{'category':'จำนวนและการดำเนินการ','name':_0x1579df(0x171)},{'category':_0x1579df(0x7f8),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x1ed)},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x23b)},{'category':'จำนวนและการดำเนินการ','name':_0x1579df(0x8ed)},{'category':_0x1579df(0x7f8),'name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':_0x1579df(0x640)},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x169)},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x2e0)},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x91f)},{'category':'จำนวนและการดำเนินการ','name':_0x1579df(0x6d5)},{'category':'จำนวนและการดำเนินการ','name':_0x1579df(0x780)},{'category':_0x1579df(0x7f8),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x12b)},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x892)},{'category':_0x1579df(0x7f8),'name':'การคูณทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0x1579df(0x625)},{'category':'จำนวนและการดำเนินการ','name':_0x1579df(0x72e)},{'category':'จำนวนและการดำเนินการ','name':'ร้อยละพื้นฐาน'},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x631)},{'category':'จำนวนและการดำเนินการ','name':_0x1579df(0x3aa)},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x564)},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x42d)},{'category':'จำนวนและการดำเนินการ','name':_0x1579df(0x1e8)},{'category':_0x1579df(0x7f8),'name':_0x1579df(0x1c8)},{'category':_0x1579df(0x570),'name':'หน่วยความยาวและการแปลง'},{'category':_0x1579df(0x570),'name':_0x1579df(0x26d)},{'category':'การวัด','name':_0x1579df(0x86c)},{'category':_0x1579df(0x570),'name':_0x1579df(0x7dc)},{'category':_0x1579df(0x570),'name':'อุณหภูมิและการแปลง'},{'category':'การวัด','name':_0x1579df(0xb0)},{'category':_0x1579df(0x570),'name':_0x1579df(0x8ac)},{'category':_0x1579df(0x570),'name':_0x1579df(0x41a)},{'category':_0x1579df(0x570),'name':_0x1579df(0x7cd)},{'category':'การวัด','name':_0x1579df(0x447)},{'category':_0x1579df(0x570),'name':_0x1579df(0x2e9)},{'category':'การวัด','name':_0x1579df(0x281)},{'category':_0x1579df(0x570),'name':_0x1579df(0x435)},{'category':'การวัด','name':_0x1579df(0x4ea)},{'category':_0x1579df(0x17b),'name':_0x1579df(0x263)},{'category':'เรขาคณิต','name':_0x1579df(0x45e)},{'category':_0x1579df(0x17b),'name':_0x1579df(0x110)},{'category':_0x1579df(0x17b),'name':'พื้นที่สามเหลี่ยม'},{'category':'เรขาคณิต','name':_0x1579df(0x90c)},{'category':_0x1579df(0x17b),'name':_0x1579df(0x54c)},{'category':_0x1579df(0x17b),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x1579df(0x17b),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x1579df(0x17b),'name':_0x1579df(0x11a)},{'category':_0x1579df(0x17b),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x1579df(0x17b),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x1579df(0x17b),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':_0x1579df(0x4ae)},{'category':_0x1579df(0x17b),'name':_0x1579df(0x3ba)},{'category':_0x1579df(0x17b),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x1579df(0x15e),'name':_0x1579df(0x646)},{'category':_0x1579df(0x15e),'name':_0x1579df(0x7fc)},{'category':_0x1579df(0x15e),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x1579df(0x15e),'name':_0x1579df(0x5f7)},{'category':_0x1579df(0x15e),'name':_0x1579df(0x9b8)},{'category':_0x1579df(0x15e),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x1579df(0x15e),'name':_0x1579df(0x428)},{'category':_0x1579df(0x15e),'name':_0x1579df(0x475)},{'category':_0x1579df(0x15e),'name':'สมการค่าสัมบูรณ์'},{'category':_0x1579df(0x15e),'name':_0x1579df(0x6f3)},{'category':_0x1579df(0x15e),'name':'สมการราก\x20(radical)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1579df(0x85c)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการลอการิทึม'},{'category':_0x1579df(0x15e),'name':_0x1579df(0x245)},{'category':_0x1579df(0x15e),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x1579df(0x15e),'name':_0x1579df(0x7eb)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x1579df(0x15e),'name':_0x1579df(0x4aa)},{'category':_0x1579df(0x15e),'name':_0x1579df(0x22f)},{'category':_0x1579df(0x15e),'name':_0x1579df(0x21e)},{'category':_0x1579df(0x15e),'name':_0x1579df(0x5a6)},{'category':_0x1579df(0x15e),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1579df(0x272)},{'category':_0x1579df(0x15e),'name':'ฟังก์ชันพหุนาม'},{'category':_0x1579df(0x15e),'name':_0x1579df(0x996)},{'category':_0x1579df(0x15e),'name':_0x1579df(0x429)},{'category':_0x1579df(0x15e),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x1579df(0x15e),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1579df(0x135)},{'category':_0x1579df(0x15e),'name':_0x1579df(0x18c)},{'category':_0x1579df(0x15e),'name':_0x1579df(0x352)},{'category':_0x1579df(0x15e),'name':_0x1579df(0x5dd)},{'category':'พีชคณิตและฟังก์ชัน','name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x1579df(0x15e),'name':_0x1579df(0xd9)},{'category':_0x1579df(0x15e),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x1579df(0x4ef),'name':_0x1579df(0x83f)},{'category':_0x1579df(0x4ef),'name':_0x1579df(0x97f)},{'category':_0x1579df(0x4ef),'name':_0x1579df(0x351)},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':'เรขาคณิตวิเคราะห์','name':_0x1579df(0x5ec)},{'category':_0x1579df(0x4ef),'name':_0x1579df(0x4c4)},{'category':_0x1579df(0x4ef),'name':_0x1579df(0x5bc)},{'category':_0x1579df(0x4ef),'name':_0x1579df(0x1c1)},{'category':_0x1579df(0x4ef),'name':_0x1579df(0x56e)},{'category':'ตรีโกณมิติ','name':_0x1579df(0x60c)},{'category':_0x1579df(0x859),'name':_0x1579df(0x3a5)},{'category':_0x1579df(0x859),'name':_0x1579df(0x25c)},{'category':_0x1579df(0x859),'name':_0x1579df(0x551)},{'category':_0x1579df(0x859),'name':_0x1579df(0x82e)},{'category':_0x1579df(0x859),'name':'กฎของโคไซน์'},{'category':_0x1579df(0x859),'name':_0x1579df(0xe2)},{'category':_0x1579df(0x859),'name':_0x1579df(0x5c8)},{'category':_0x1579df(0x859),'name':_0x1579df(0x5eb)},{'category':'ตรีโกณมิติ','name':_0x1579df(0x1a1)},{'category':_0x1579df(0x859),'name':_0x1579df(0x47e)},{'category':_0x1579df(0x5cb),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':_0x1579df(0x7df)},{'category':_0x1579df(0x5cb),'name':_0x1579df(0x977)},{'category':_0x1579df(0x5cb),'name':_0x1579df(0x550)},{'category':_0x1579df(0x5cb),'name':_0x1579df(0x43b)},{'category':'สถิติและความน่าจะเป็น','name':_0x1579df(0x20d)},{'category':_0x1579df(0x5cb),'name':'ค่าเฉลี่ย'},{'category':'สถิติและความน่าจะเป็น','name':_0x1579df(0xd4)},{'category':_0x1579df(0x5cb),'name':_0x1579df(0x873)},{'category':_0x1579df(0x5cb),'name':'พิสัย'},{'category':'สถิติและความน่าจะเป็น','name':_0x1579df(0x47f)},{'category':'สถิติและความน่าจะเป็น','name':_0x1579df(0x250)},{'category':_0x1579df(0x5cb),'name':_0x1579df(0x8c9)},{'category':'สถิติและความน่าจะเป็น','name':_0x1579df(0x184)},{'category':_0x1579df(0x5cb),'name':_0x1579df(0x19b)},{'category':'สถิติและความน่าจะเป็น','name':_0x1579df(0x39e)},{'category':'สถิติและความน่าจะเป็น','name':_0x1579df(0xeb)},{'category':'สถิติและความน่าจะเป็น','name':_0x1579df(0x15c)},{'category':'สถิติและความน่าจะเป็น','name':_0x1579df(0x769)},{'category':'สถิติและความน่าจะเป็น','name':_0x1579df(0x3a4)},{'category':_0x1579df(0x5cb),'name':_0x1579df(0x5b9)},{'category':_0x1579df(0x5cb),'name':_0x1579df(0x571)},{'category':_0x1579df(0x5cb),'name':_0x1579df(0x1d9)},{'category':_0x1579df(0x5cb),'name':_0x1579df(0x26f)},{'category':_0x1579df(0x6f8),'name':_0x1579df(0x2e1)},{'category':_0x1579df(0x6f8),'name':_0x1579df(0x80e)},{'category':_0x1579df(0x6f8),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x1579df(0x6f8),'name':_0x1579df(0x4ca)},{'category':_0x1579df(0x6f8),'name':_0x1579df(0x4d2)},{'category':_0x1579df(0x6f8),'name':_0x1579df(0x707)},{'category':_0x1579df(0x6f8),'name':'ความชันเส้นสัมผัส'},{'category':_0x1579df(0x6f8),'name':_0x1579df(0x578)},{'category':_0x1579df(0x6f8),'name':_0x1579df(0xb3)},{'category':_0x1579df(0x6f8),'name':_0x1579df(0x83d)},{'category':_0x1579df(0x6f8),'name':_0x1579df(0x3c0)},{'category':'แคลคูลัสเบื้องต้น','name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x1579df(0x6f8),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x1579df(0x79c),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x1579df(0x79c),'name':_0x1579df(0x8f0)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x1579df(0x79c),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x1579df(0x79c),'name':_0x1579df(0x743)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1579df(0x597)},{'category':_0x1579df(0x79c),'name':_0x1579df(0x1dc)},{'category':_0x1579df(0x2b4),'name':_0x1579df(0x41e)},{'category':_0x1579df(0x2b4),'name':_0x1579df(0x40c)},{'category':_0x1579df(0x2b4),'name':_0x1579df(0xee)},{'category':_0x1579df(0x2b4),'name':'ค่าเสื่อมราคา'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x1579df(0x378)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x1579df(0x626),'name':_0x1579df(0x2d9)},{'category':_0x1579df(0x626),'name':_0x1579df(0x4d1)}];function renderTopicCheckboxes(){const _0x2f7a76=_0x1579df,_0x162011=document[_0x2f7a76(0x632)]('math-topics-checkbox-container');if(!_0x162011)return;const _0x3fbf36=allMathTopics,_0x540766=customMathTopics['map'](_0x14b5da=>({'id':_0x14b5da['id'],'category':'หัวข้อที่สร้างเอง','name':_0x14b5da[_0x2f7a76(0x9a5)]})),_0x537b30=[..._0x3fbf36,..._0x540766],_0x579aa6=_0x537b30['reduce']((_0x1a798e,_0x10e22c)=>{const _0x2b8f49=_0x2f7a76;return!_0x1a798e[_0x10e22c['category']]&&(_0x1a798e[_0x10e22c[_0x2b8f49(0x7bb)]]=[]),_0x1a798e[_0x10e22c[_0x2b8f49(0x7bb)]][_0x2b8f49(0x995)](_0x10e22c),_0x1a798e;},{});let _0x4c7923='';const _0x2dfb7c=[_0x2f7a76(0x602),...Object[_0x2f7a76(0x4cf)](_0x579aa6)[_0x2f7a76(0x34b)](_0x5b74e2=>_0x5b74e2!=='หัวข้อที่สร้างเอง')];for(const _0x1492aa of _0x2dfb7c){if(_0x579aa6[_0x1492aa]){const _0x56442c=_0x1492aa===_0x2f7a76(0x602),_0x22a536=_0x56442c?_0x2f7a76(0x3a8):'fas\x20fa-bookmark',_0x4c0c01=_0x56442c?_0x2f7a76(0x216):'text-indigo-700';_0x4c7923+=_0x2f7a76(0x2c6),_0x4c7923+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x4c0c01+_0x2f7a76(0x738)+_0x22a536+'\x20mr-2\x22></i>'+_0x1492aa+_0x2f7a76(0x58b),_0x579aa6[_0x1492aa][_0x2f7a76(0x2fb)](_0x4a73da=>{const _0x104dd3=_0x2f7a76,_0x42b3ff=!!_0x4a73da['id'],_0xd126b8=_0x42b3ff?_0x104dd3(0x704)+_0x4a73da['id']+_0x104dd3(0x8cb)+_0x4a73da['id']+_0x104dd3(0x2b2)+_0x4a73da['id']+_0x104dd3(0x4c7)+_0x4a73da['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x4c7923+=_0x104dd3(0x13e)+(_0x4a73da['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x4a73da[_0x104dd3(0x9a5)]+_0x104dd3(0x910)+_0x4a73da['name']+_0x104dd3(0x6ca)+(_0x42b3ff?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x4a73da[_0x104dd3(0x9a5)]+'\x22>':'')+_0x104dd3(0x2f7)+_0xd126b8+_0x104dd3(0x98d);}),_0x4c7923+='</div>';}}_0x162011[_0x2f7a76(0x581)]=_0x4c7923||_0x2f7a76(0x869),_0x162011['removeEventListener']('change',updateSelectedTopicsCount),_0x162011[_0x2f7a76(0x6a9)](_0x2f7a76(0x40e),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x391cab,_0x298a2c){const _0x399e91=_0x1579df;if(!_0x391cab||!_0x298a2c[_0x399e91(0x3d4)]()){showMessage(_0x399e91(0x316));return;}try{const _0x532295=doc(db,'artifacts/'+appId+_0x399e91(0x358),_0x391cab);await updateDoc(_0x532295,{'name':_0x298a2c[_0x399e91(0x3d4)]()}),showMessage(_0x399e91(0x7a4));}catch(_0x110416){console[_0x399e91(0x962)](_0x399e91(0x3a9),_0x110416),showMessage(_0x399e91(0x58d));}}function toggleTopicEditMode(_0x23cf45,_0x1286fb){const _0x245e20=_0x1579df;if(!_0x23cf45)return;const _0x7c61af=_0x23cf45[_0x245e20(0x20a)](_0x245e20(0x114)),_0x3b753d=_0x23cf45[_0x245e20(0x20a)](_0x245e20(0x1fc)),_0x3bba63=_0x23cf45[_0x245e20(0x20a)]('.topic-actions-view'),_0x28089f=_0x23cf45[_0x245e20(0x20a)](_0x245e20(0x6ce));_0x7c61af['classList']['toggle'](_0x245e20(0x99e),_0x1286fb),_0x3b753d['classList']['toggle'](_0x245e20(0x99e),!_0x1286fb),_0x3bba63[_0x245e20(0x635)][_0x245e20(0x535)](_0x245e20(0x99e),_0x1286fb),_0x28089f[_0x245e20(0x635)][_0x245e20(0x535)](_0x245e20(0x99e),!_0x1286fb),_0x1286fb&&(_0x3b753d['focus'](),_0x3b753d['select']());}function updateSelectedTopicsCount(){const _0x390848=_0x1579df,_0x58127c=document[_0x390848(0x632)](_0x390848(0x124)),_0x158658=_0x58127c[_0x390848(0x37d)](_0x390848(0x772))[_0x390848(0x783)],_0x36398c=document[_0x390848(0x632)](_0x390848(0x78c));_0x158658>0x0?_0x36398c['textContent']=_0x390848(0x506)+_0x158658+'\x20หัวข้อ)':_0x36398c[_0x390848(0xf3)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x1579df(0x1d7),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x1579df(0x757),quizLeaderboardSortOrder=_0x1579df(0x6da),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x1579df(0x310),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x1579df(0x46f),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x3252f0,_0x40bbd2){const _0x36d010=_0x1579df;return Math[_0x36d010(0x259)](Math[_0x36d010(0x2bf)](_0x3252f0['x']-_0x40bbd2['x'],0x2)+Math['pow'](_0x3252f0['y']-_0x40bbd2['y'],0x2));}function getMidpoint(_0x5da245,_0x995c97){return{'x':(_0x5da245['x']+_0x995c97['x'])/0x2,'y':(_0x5da245['y']+_0x995c97['y'])/0x2};}function getTransformedPoint(_0x3bac99,_0x4977ce){return{'x':(_0x3bac99-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4977ce-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x322660=_0x1579df;if(!scratchpadCtx)return;const _0x4f0643=scratchpadCtx[_0x322660(0x4db)],_0x30dcc9=window[_0x322660(0x7c4)]||0x1,_0x28079b=document[_0x322660(0x632)](_0x322660(0x60e));_0x28079b&&(_0x28079b[_0x322660(0x86d)]['transformOrigin']='0\x200',_0x28079b[_0x322660(0x86d)][_0x322660(0x73d)]=_0x322660(0x6ad)+scratchpadOffset['x']+_0x322660(0xd0)+scratchpadOffset['y']+_0x322660(0x8b0)+scratchpadScale+')'),scratchpadCtx[_0x322660(0xaf)](),scratchpadCtx[_0x322660(0x4c8)](_0x30dcc9,0x0,0x0,_0x30dcc9,0x0,0x0),scratchpadCtx[_0x322660(0x305)](0x0,0x0,_0x4f0643['width'],_0x4f0643[_0x322660(0x5b2)]),scratchpadCtx[_0x322660(0x2f1)](),scratchpadCtx[_0x322660(0xaf)](),scratchpadCtx[_0x322660(0x6ff)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x322660(0x2fb)](_0x503450=>{drawStroke(_0x503450);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function handlePointerDown(_0x2182cf){const _0x635c21=_0x1579df;_0x2182cf[_0x635c21(0x93c)]();const _0x49093c=scratchpadCtx[_0x635c21(0x4db)],_0x24fe72=_0x49093c[_0x635c21(0x928)](),_0x22b013=_0x2182cf[_0x635c21(0x4de)]||(_0x2182cf['touches']?_0x635c21(0x1df):_0x635c21(0x101));if(_0x22b013===_0x635c21(0x7f7)||_0x22b013===_0x635c21(0x101)){if(_0x2182cf[_0x635c21(0x4de)]==='mouse'&&_0x2182cf['button']!==0x0){_0x2182cf[_0x635c21(0x5ee)]===0x1&&(isMousePanning=!![],panStart={'x':_0x2182cf['clientX'],'y':_0x2182cf['clientY']},_0x49093c[_0x635c21(0x86d)][_0x635c21(0xfd)]=_0x635c21(0x276));return;}activeTool===_0x635c21(0x988)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x1419be=getTransformedPoint(_0x2182cf[_0x635c21(0x793)]-_0x24fe72[_0x635c21(0x678)],_0x2182cf[_0x635c21(0x4d6)]-_0x24fe72[_0x635c21(0x37e)]);let _0x45a2c9={'tool':activeTool,'points':[_0x1419be]};if(activeTool===_0x635c21(0x434))_0x45a2c9[_0x635c21(0x711)]=scratchpadHighlighterColor,_0x45a2c9[_0x635c21(0x798)]=scratchpadHighlighterSize;else activeTool===_0x635c21(0x988)?(_0x45a2c9['color']=scratchpadPenColor,_0x45a2c9[_0x635c21(0x798)]=scratchpadPenSize):(_0x45a2c9[_0x635c21(0x711)]=scratchpadPenColor,_0x45a2c9[_0x635c21(0x798)]=scratchpadPenSize);currentStroke=_0x45a2c9;}else _0x2182cf[_0x635c21(0x697)]&&(_0x2182cf['touches'][_0x635c21(0x783)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x2182cf['touches'][0x0][_0x635c21(0x793)],'y':_0x2182cf[_0x635c21(0x697)][0x0][_0x635c21(0x4d6)]},{'x':_0x2182cf[_0x635c21(0x697)][0x1][_0x635c21(0x793)],'y':_0x2182cf[_0x635c21(0x697)][0x1][_0x635c21(0x4d6)]}),initialPinchDistance=getDistance({'x':_0x2182cf['touches'][0x0][_0x635c21(0x793)],'y':_0x2182cf[_0x635c21(0x697)][0x0]['clientY']},{'x':_0x2182cf['touches'][0x1]['clientX'],'y':_0x2182cf[_0x635c21(0x697)][0x1][_0x635c21(0x4d6)]})));}function animateTrail(){const _0x1ca254=_0x1579df,_0x3ad6d4=Date['now']();let _0x5a2f26=![];for(let _0x394ad3=strokes[_0x1ca254(0x783)]-0x1;_0x394ad3>=0x0;_0x394ad3--){const _0x2ed250=strokes[_0x394ad3];if(_0x2ed250[_0x1ca254(0x698)]===_0x1ca254(0x988)&&_0x2ed250['fadeStartTime']){const _0x1724a=_0x3ad6d4-_0x2ed250[_0x1ca254(0x4a2)];_0x1724a>=TRAIL_DURATION?strokes['splice'](_0x394ad3,0x1):(_0x2ed250[_0x1ca254(0x6af)]=0x1-_0x1724a/TRAIL_DURATION,_0x5a2f26=!![]);}}redrawScratchpad(),_0x5a2f26?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x45e716){const _0x4377bd=_0x1579df;if(!_0x45e716||_0x45e716['points'][_0x4377bd(0x783)]<0x1)return;scratchpadCtx[_0x4377bd(0xaf)](),scratchpadCtx[_0x4377bd(0x7d7)]='round',scratchpadCtx[_0x4377bd(0x159)]=_0x4377bd(0x878);if(_0x45e716[_0x4377bd(0x698)]===_0x4377bd(0x988)){const _0xe02df0=_0x45e716[_0x4377bd(0x798)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x45e716['opacity']??0x1,scratchpadCtx[_0x4377bd(0x53d)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x4377bd(0x6fe)]=_0xe02df0*0x3,scratchpadCtx['strokeStyle']=_0x4377bd(0x722),scratchpadCtx['lineWidth']=_0xe02df0*2.5,scratchpadCtx[_0x4377bd(0x93a)](),scratchpadCtx['moveTo'](_0x45e716[_0x4377bd(0x8c6)][0x0]['x'],_0x45e716['points'][0x0]['y']);for(let _0x3929b8=0x1;_0x3929b8<_0x45e716[_0x4377bd(0x8c6)][_0x4377bd(0x783)]-0x1;_0x3929b8++){const _0x231bfb=getMidpoint(_0x45e716[_0x4377bd(0x8c6)][_0x3929b8],_0x45e716[_0x4377bd(0x8c6)][_0x3929b8+0x1]);scratchpadCtx[_0x4377bd(0x4f9)](_0x45e716['points'][_0x3929b8]['x'],_0x45e716[_0x4377bd(0x8c6)][_0x3929b8]['y'],_0x231bfb['x'],_0x231bfb['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x4377bd(0x53d)]=_0x4377bd(0x413),scratchpadCtx[_0x4377bd(0x6fe)]=0x0,scratchpadCtx[_0x4377bd(0x130)]=_0x4377bd(0x4b3),scratchpadCtx[_0x4377bd(0x8fa)]=_0xe02df0,scratchpadCtx[_0x4377bd(0x645)](),scratchpadCtx[_0x4377bd(0x839)]();}else{if(_0x45e716[_0x4377bd(0x698)]==='highlighter'){scratchpadCtx[_0x4377bd(0x3cf)]=_0x4377bd(0x852),scratchpadCtx[_0x4377bd(0x130)]=_0x45e716[_0x4377bd(0x711)],scratchpadCtx[_0x4377bd(0x8fa)]=_0x45e716[_0x4377bd(0x798)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x4377bd(0x659)](_0x45e716[_0x4377bd(0x8c6)][0x0]['x'],_0x45e716[_0x4377bd(0x8c6)][0x0]['y']);for(let _0x38bfe7=0x1;_0x38bfe7<_0x45e716[_0x4377bd(0x8c6)][_0x4377bd(0x783)]-0x1;_0x38bfe7++){const _0xbb0e59=getMidpoint(_0x45e716[_0x4377bd(0x8c6)][_0x38bfe7],_0x45e716[_0x4377bd(0x8c6)][_0x38bfe7+0x1]);scratchpadCtx[_0x4377bd(0x4f9)](_0x45e716['points'][_0x38bfe7]['x'],_0x45e716['points'][_0x38bfe7]['y'],_0xbb0e59['x'],_0xbb0e59['y']);}scratchpadCtx[_0x4377bd(0x645)](),scratchpadCtx[_0x4377bd(0x839)]();}else{scratchpadCtx[_0x4377bd(0x3cf)]=_0x45e716[_0x4377bd(0x698)]===_0x4377bd(0x4a1)?_0x4377bd(0x723):_0x4377bd(0x818),scratchpadCtx[_0x4377bd(0x130)]=_0x45e716[_0x4377bd(0x711)],scratchpadCtx['lineWidth']=_0x45e716['size'],scratchpadCtx[_0x4377bd(0x93a)](),scratchpadCtx[_0x4377bd(0x659)](_0x45e716[_0x4377bd(0x8c6)][0x0]['x'],_0x45e716[_0x4377bd(0x8c6)][0x0]['y']);for(let _0x4b2c87=0x1;_0x4b2c87<_0x45e716[_0x4377bd(0x8c6)]['length']-0x1;_0x4b2c87++){const _0x3e02ba=getMidpoint(_0x45e716[_0x4377bd(0x8c6)][_0x4b2c87],_0x45e716[_0x4377bd(0x8c6)][_0x4b2c87+0x1]);scratchpadCtx['quadraticCurveTo'](_0x45e716['points'][_0x4b2c87]['x'],_0x45e716['points'][_0x4b2c87]['y'],_0x3e02ba['x'],_0x3e02ba['y']);}scratchpadCtx[_0x4377bd(0x645)](),scratchpadCtx[_0x4377bd(0x839)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x302e79){const _0x54c457=_0x1579df;_0x302e79[_0x54c457(0x93c)]();const _0x271b0f=scratchpadCtx[_0x54c457(0x4db)],_0x3da3b5=_0x271b0f['getBoundingClientRect']();if(_0x302e79[_0x54c457(0x697)]){if(_0x302e79[_0x54c457(0x697)][_0x54c457(0x783)]===0x1&&isDrawingOnScratchpad){const _0xd22d5d=getTransformedPoint(_0x302e79[_0x54c457(0x697)][0x0]['clientX']-_0x3da3b5[_0x54c457(0x678)],_0x302e79[_0x54c457(0x697)][0x0]['clientY']-_0x3da3b5[_0x54c457(0x37e)]);currentStroke[_0x54c457(0x8c6)][_0x54c457(0x995)](_0xd22d5d),redrawScratchpad();}else{if(_0x302e79[_0x54c457(0x697)][_0x54c457(0x783)]===0x2&&isPanning){const _0x57eede=getDistance({'x':_0x302e79['touches'][0x0]['clientX'],'y':_0x302e79['touches'][0x0][_0x54c457(0x4d6)]},{'x':_0x302e79[_0x54c457(0x697)][0x1][_0x54c457(0x793)],'y':_0x302e79[_0x54c457(0x697)][0x1]['clientY']}),_0x5dc230=getMidpoint({'x':_0x302e79['touches'][0x0]['clientX'],'y':_0x302e79['touches'][0x0][_0x54c457(0x4d6)]},{'x':_0x302e79[_0x54c457(0x697)][0x1]['clientX'],'y':_0x302e79['touches'][0x1][_0x54c457(0x4d6)]}),_0x50df49=_0x57eede/ initialPinchDistance,_0x1d5d0f=Math['min'](Math['max'](scratchpadScale*_0x50df49,MIN_SCALE),MAX_SCALE),_0x58efac=_0x5dc230['x']-panStart['x'],_0x515af3=_0x5dc230['y']-panStart['y'];scratchpadOffset['x']=_0x5dc230['x']-(_0x5dc230['x']-scratchpadOffset['x'])*(_0x1d5d0f/scratchpadScale),scratchpadOffset['y']=_0x5dc230['y']-(_0x5dc230['y']-scratchpadOffset['y'])*(_0x1d5d0f/scratchpadScale),scratchpadOffset['x']+=_0x58efac,scratchpadOffset['y']+=_0x515af3,scratchpadScale=_0x1d5d0f,initialPinchDistance=_0x57eede,panStart=_0x5dc230,redrawScratchpad();}}}else{if(isMousePanning){const _0x2c6708=_0x302e79[_0x54c457(0x793)]-panStart['x'],_0x2bdbdf=_0x302e79[_0x54c457(0x4d6)]-panStart['y'];scratchpadOffset['x']+=_0x2c6708,scratchpadOffset['y']+=_0x2bdbdf,panStart={'x':_0x302e79[_0x54c457(0x793)],'y':_0x302e79[_0x54c457(0x4d6)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0xccf7e=getTransformedPoint(_0x302e79[_0x54c457(0x793)]-_0x3da3b5[_0x54c457(0x678)],_0x302e79[_0x54c457(0x4d6)]-_0x3da3b5['top']);currentStroke['points'][_0x54c457(0x995)](_0xccf7e),redrawScratchpad();}}}}function handlePointerUp(_0x596c4c){const _0x14b8a1=_0x1579df;_0x596c4c[_0x14b8a1(0x93c)]();const _0x309dd2=scratchpadCtx[_0x14b8a1(0x4db)];isMousePanning&&(isMousePanning=![],_0x309dd2[_0x14b8a1(0x86d)][_0x14b8a1(0xfd)]=_0x14b8a1(0x307)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x14b8a1(0x8c6)]['length']>0x1&&(strokes['push'](currentStroke),currentStroke['tool']===_0x14b8a1(0x988)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x44d299=_0x14b8a1,_0x300f77=strokes['filter'](_0x408a8a=>_0x408a8a[_0x44d299(0x698)]===_0x44d299(0x988)&&!_0x408a8a[_0x44d299(0x4a2)]);if(_0x300f77[_0x44d299(0x783)]>0x0){const _0x581af2=Date[_0x44d299(0x2da)]();_0x300f77[_0x44d299(0x2fb)](_0x5704ed=>_0x5704ed[_0x44d299(0x4a2)]=_0x581af2),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0xbbbc6e){const _0x28052d=_0x1579df;_0xbbbc6e[_0x28052d(0x93c)]();const _0xe0d36c=_0xbbbc6e[_0x28052d(0x794)]*-0.005,_0xc5b378=Math[_0x28052d(0x219)](Math['max'](scratchpadScale+_0xe0d36c,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0xbbbc6e['clientX']-(_0xbbbc6e[_0x28052d(0x793)]-scratchpadOffset['x'])*(_0xc5b378/scratchpadScale),scratchpadOffset['y']=_0xbbbc6e['clientY']-(_0xbbbc6e[_0x28052d(0x4d6)]-scratchpadOffset['y'])*(_0xc5b378/scratchpadScale),scratchpadScale=_0xc5b378,redrawScratchpad();}function undo(){const _0x489d0f=_0x1579df;strokes[_0x489d0f(0x783)]>0x0&&(redoStrokes['push'](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x22ce96=_0x1579df;redoStrokes[_0x22ce96(0x783)]>0x0&&(strokes[_0x22ce96(0x995)](redoStrokes[_0x22ce96(0x33a)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x30b06a=_0x1579df;document[_0x30b06a(0x632)](_0x30b06a(0x179))['disabled']=strokes[_0x30b06a(0x783)]===0x0,document[_0x30b06a(0x632)](_0x30b06a(0x835))[_0x30b06a(0xd7)]=redoStrokes['length']===0x0;}function openScratchpad(_0x3da35f,_0xc73f6b){const _0x35d568=_0x1579df,_0x51a29e=document[_0x35d568(0x632)](_0x35d568(0x29a)),_0x14c4e5=document[_0x35d568(0x632)](_0x35d568(0x603)),_0x170ba3=document[_0x35d568(0x632)](_0x35d568(0x7a9)),_0x3120a8=document[_0x35d568(0x632)]('scratchpad-controls');_0x14c4e5[_0x35d568(0xf3)]=_0x3da35f['stem']||_0x3da35f['questionText'],_0x170ba3['innerHTML']=_0xc73f6b['map']((_0x53dd55,_0x295e79)=>_0x35d568(0x66b)+String['fromCharCode'](0x41+_0x295e79)+'.\x20'+_0x53dd55+'</div>')[_0x35d568(0x7b1)](''),_0x3120a8['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x09\x09\x09<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x51a29e['classList']['remove'](_0x35d568(0x99e)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x35d568(0x2ab)]([_0x14c4e5,_0x170ba3]);}function initializeScratchpadCanvas(){const _0x3bb3c9=_0x1579df,_0x1ca712=document[_0x3bb3c9(0x632)](_0x3bb3c9(0x491)),_0x469475=document[_0x3bb3c9(0x20a)](_0x3bb3c9(0x280));if(!_0x1ca712||!_0x469475)return;scratchpadCtx=_0x1ca712[_0x3bb3c9(0x1b9)]('2d',{'willReadFrequently':!![]});const _0x384f67=window[_0x3bb3c9(0x7c4)]||0x1,_0x187282=_0x469475[_0x3bb3c9(0x928)]();_0x1ca712[_0x3bb3c9(0x388)]=_0x187282['width']*_0x384f67,_0x1ca712[_0x3bb3c9(0x5b2)]=_0x187282[_0x3bb3c9(0x5b2)]*_0x384f67,_0x1ca712[_0x3bb3c9(0x86d)][_0x3bb3c9(0x388)]=_0x187282[_0x3bb3c9(0x388)]+'px',_0x1ca712[_0x3bb3c9(0x86d)]['height']=_0x187282[_0x3bb3c9(0x5b2)]+'px',scratchpadCtx[_0x3bb3c9(0x113)](_0x384f67,_0x384f67),scratchpadCtx[_0x3bb3c9(0x7d7)]=_0x3bb3c9(0x878),scratchpadCtx[_0x3bb3c9(0x159)]=_0x3bb3c9(0x878),_0x1ca712[_0x3bb3c9(0x333)](_0x3bb3c9(0x2c7),handlePointerDown),_0x1ca712['removeEventListener'](_0x3bb3c9(0x5f8),handlePointerMove),_0x1ca712['removeEventListener'](_0x3bb3c9(0x81c),handlePointerUp),_0x1ca712[_0x3bb3c9(0x333)]('pointercancel',handlePointerUp),_0x1ca712[_0x3bb3c9(0x333)](_0x3bb3c9(0x176),handleWheel),_0x1ca712[_0x3bb3c9(0x333)](_0x3bb3c9(0x3c3),handlePointerDown),_0x1ca712['removeEventListener'](_0x3bb3c9(0x7ca),handlePointerMove),_0x1ca712[_0x3bb3c9(0x333)](_0x3bb3c9(0x6d9),handlePointerUp),_0x1ca712[_0x3bb3c9(0x6a9)](_0x3bb3c9(0x2c7),handlePointerDown),_0x1ca712[_0x3bb3c9(0x6a9)](_0x3bb3c9(0x5f8),handlePointerMove),_0x1ca712[_0x3bb3c9(0x6a9)]('pointerup',handlePointerUp),_0x1ca712[_0x3bb3c9(0x6a9)](_0x3bb3c9(0x481),handlePointerUp),_0x1ca712[_0x3bb3c9(0x6a9)]('wheel',handleWheel,{'passive':![]}),_0x1ca712['addEventListener']('touchstart',handlePointerDown,{'passive':![]}),_0x1ca712['addEventListener']('touchmove',handlePointerMove,{'passive':![]}),_0x1ca712[_0x3bb3c9(0x6a9)](_0x3bb3c9(0x6d9),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x380c8e=_0x1579df,_0x42e286=document[_0x380c8e(0x632)](_0x380c8e(0x29a)),_0x3ebb77=document[_0x380c8e(0x632)](_0x380c8e(0xbe));_0x3ebb77[_0x380c8e(0x581)]=_0x380c8e(0xff)+scratchpadHighlighterSize+_0x380c8e(0xc0);const _0x22a0dc=document['getElementById'](_0x380c8e(0x440)),_0x488d16=document[_0x380c8e(0x632)](_0x380c8e(0x7d6)),_0x202e13=document[_0x380c8e(0x632)](_0x380c8e(0x231)),_0xf2a03f=document[_0x380c8e(0x632)](_0x380c8e(0x9ad)),_0xc62399=document[_0x380c8e(0x632)](_0x380c8e(0x78d)),_0x5f5a82=document[_0x380c8e(0x632)](_0x380c8e(0x425)),_0x72eb62=[_0x22a0dc,_0x488d16,_0x202e13,_0xf2a03f];document[_0x380c8e(0x632)](_0x380c8e(0x312))[_0x380c8e(0x6a9)](_0x380c8e(0x379),()=>_0x42e286['classList'][_0x380c8e(0x8c5)](_0x380c8e(0x99e))),document[_0x380c8e(0x632)]('reset-view-btn')['addEventListener']('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x380c8e(0x3fd))[_0x380c8e(0x6a9)](_0x380c8e(0x379),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x380c8e(0x632)](_0x380c8e(0x179))[_0x380c8e(0x6a9)](_0x380c8e(0x379),undo),document[_0x380c8e(0x632)](_0x380c8e(0x835))[_0x380c8e(0x6a9)](_0x380c8e(0x379),redo);const _0x44f0e5=_0x123417=>{const _0x59138f=_0x380c8e;_0x72eb62[_0x59138f(0x2fb)](_0x538b4a=>_0x538b4a[_0x59138f(0x635)][_0x59138f(0x74c)](_0x59138f(0x6c0))),_0x123417[_0x59138f(0x635)][_0x59138f(0x8c5)](_0x59138f(0x6c0));const _0x240425=_0x123417===_0xf2a03f;_0xc62399[_0x59138f(0x635)][_0x59138f(0x535)]('hidden',_0x240425),_0x5f5a82[_0x59138f(0x635)][_0x59138f(0x535)](_0x59138f(0x99e),!_0x240425);};_0x22a0dc[_0x380c8e(0x6a9)](_0x380c8e(0x379),()=>{const _0x3715d1=_0x380c8e;activeTool=_0x3715d1(0x7f7),_0x44f0e5(_0x22a0dc);}),_0x488d16[_0x380c8e(0x6a9)](_0x380c8e(0x379),()=>{const _0x17bb59=_0x380c8e;activeTool=_0x17bb59(0x4a1),_0x44f0e5(_0x488d16);}),_0x202e13[_0x380c8e(0x6a9)](_0x380c8e(0x379),()=>{const _0x29b875=_0x380c8e;activeTool=_0x29b875(0x988),_0x44f0e5(_0x202e13);}),_0xf2a03f[_0x380c8e(0x6a9)](_0x380c8e(0x379),()=>{const _0x46c6ef=_0x380c8e;activeTool=_0x46c6ef(0x434),_0x44f0e5(_0xf2a03f);}),_0xc62399['querySelectorAll'](_0x380c8e(0x880))[_0x380c8e(0x2fb)](_0x471b10=>{const _0x2e5148=_0x380c8e;_0x471b10[_0x2e5148(0x6a9)](_0x2e5148(0x379),_0x3f008f=>{const _0x2093f6=_0x2e5148;scratchpadPenSize=parseInt(_0x3f008f[_0x2093f6(0x51e)][_0x2093f6(0x6de)][_0x2093f6(0x798)],0xa),_0xc62399['querySelectorAll'](_0x2093f6(0x880))['forEach'](_0x454b06=>_0x454b06[_0x2093f6(0x635)][_0x2093f6(0x74c)](_0x2093f6(0x6c0))),_0x3f008f[_0x2093f6(0x51e)][_0x2093f6(0x635)][_0x2093f6(0x8c5)](_0x2093f6(0x6c0));});}),_0xc62399[_0x380c8e(0x37d)](_0x380c8e(0x2b9))[_0x380c8e(0x2fb)](_0x4f0d22=>{const _0x1c9323=_0x380c8e;_0x4f0d22['addEventListener'](_0x1c9323(0x379),_0x1dd09f=>{const _0x1537c1=_0x1c9323;scratchpadPenColor=_0x1dd09f[_0x1537c1(0x51e)][_0x1537c1(0x6de)][_0x1537c1(0x711)],_0xc62399[_0x1537c1(0x37d)](_0x1537c1(0x2b9))[_0x1537c1(0x2fb)](_0x384f3e=>_0x384f3e[_0x1537c1(0x635)]['remove']('active')),_0x1dd09f['target'][_0x1537c1(0x635)][_0x1537c1(0x8c5)](_0x1537c1(0x6c0));});}),_0x5f5a82[_0x380c8e(0x37d)]('.highlighter-color-btn')[_0x380c8e(0x2fb)](_0x504fc0=>{const _0x26d722=_0x380c8e;_0x504fc0['addEventListener'](_0x26d722(0x379),_0x47b2c7=>{const _0x510220=_0x26d722;scratchpadHighlighterColor=_0x47b2c7[_0x510220(0x51e)][_0x510220(0x6de)][_0x510220(0x711)],_0x5f5a82[_0x510220(0x37d)](_0x510220(0x7bd))[_0x510220(0x2fb)](_0x866540=>_0x866540[_0x510220(0x635)][_0x510220(0x74c)]('active')),_0x47b2c7[_0x510220(0x51e)][_0x510220(0x635)][_0x510220(0x8c5)](_0x510220(0x6c0));});});const _0x5e2f8a=document[_0x380c8e(0x632)]('highlighter-size-slider'),_0x250533=document['getElementById'](_0x380c8e(0x641));_0x5e2f8a[_0x380c8e(0x6a9)](_0x380c8e(0x8bf),_0x35907f=>{const _0x60cb16=_0x380c8e,_0x30a0c1=parseInt(_0x35907f['target'][_0x60cb16(0x3d7)],0xa);scratchpadHighlighterSize=_0x30a0c1,_0x250533[_0x60cb16(0xf3)]=_0x30a0c1;}),window[_0x380c8e(0x6a9)](_0x380c8e(0x1b4),()=>{const _0x26a8ed=_0x380c8e;!_0x42e286['classList'][_0x26a8ed(0x10f)](_0x26a8ed(0x99e))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x1579df(0x72f),'name':_0x1579df(0x19d),'description':_0x1579df(0x8a9),'icon':_0x1579df(0x85b)},'QUICK_THINKER':{'id':_0x1579df(0x663),'name':_0x1579df(0x969),'description':_0x1579df(0x7c8),'icon':_0x1579df(0x103)},'ON_FIRE':{'id':_0x1579df(0x19a),'name':_0x1579df(0x5d8),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x1579df(0x587)},'FIRST_TRY_ACE':{'id':_0x1579df(0xf7),'name':_0x1579df(0x398),'description':_0x1579df(0x8bc),'icon':_0x1579df(0x92e)},'COMEBACK_KING':{'id':_0x1579df(0x4bd),'name':_0x1579df(0x742),'description':_0x1579df(0x74e),'icon':_0x1579df(0x465)},'SPECIALIST':{'id':'specialist','name':_0x1579df(0x35c),'description':_0x1579df(0x756),'icon':_0x1579df(0x1f1)},'PERSEVERANCE':{'id':_0x1579df(0x849),'name':_0x1579df(0x56a),'description':_0x1579df(0x850),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x1579df(0x699),'authDomain':_0x1579df(0x986),'projectId':_0x1579df(0x515),'storageBucket':_0x1579df(0x6ec),'messagingSenderId':_0x1579df(0x9a0),'appId':_0x1579df(0x2cb),'measurementId':_0x1579df(0x3f2)},appId=typeof __app_id!==_0x1579df(0x90e)?__app_id:_0x1579df(0x739),adminView=document[_0x1579df(0x632)](_0x1579df(0x46d)),studentView=document[_0x1579df(0x632)](_0x1579df(0x237)),projectDashboardView=document[_0x1579df(0x632)](_0x1579df(0x573)),projectDetailView=document[_0x1579df(0x632)]('project-detail-view'),quizResultsView=document['getElementById']('quiz-results-view'),projectList=document[_0x1579df(0x632)](_0x1579df(0x841)),noProjectsMsg=document[_0x1579df(0x632)](_0x1579df(0x359)),projectTitle=document[_0x1579df(0x632)](_0x1579df(0x8b4)),projectIdDisplay=document[_0x1579df(0x632)](_0x1579df(0x64a)),studentList=document[_0x1579df(0x632)]('student-list'),messageModal=document[_0x1579df(0x632)](_0x1579df(0x51f)),modalMessage=document[_0x1579df(0x632)]('modal-message'),createProjectModal=document['getElementById']('create-project-modal'),adminPasswordModal=document[_0x1579df(0x632)](_0x1579df(0x3da)),confirmationModal=document['getElementById'](_0x1579df(0x6dd)),userIdDisplay=document[_0x1579df(0x632)]('user-id-display'),topicTab=document[_0x1579df(0x632)](_0x1579df(0x296)),textTab=document[_0x1579df(0x632)]('text-tab'),topicInputArea=document['getElementById'](_0x1579df(0x67b)),textInputArea=document[_0x1579df(0x632)]('text-input-area'),manageTab=document[_0x1579df(0x632)]('manage-tab'),resultsTab=document[_0x1579df(0x632)](_0x1579df(0x7a2)),leaderboardTab=document[_0x1579df(0x632)](_0x1579df(0x795)),manageTabContent=document['getElementById'](_0x1579df(0x344)),resultsTabContent=document['getElementById']('results-tab-content'),leaderboardTabContent=document[_0x1579df(0x632)]('leaderboard-tab-content'),projectQuizzesList=document[_0x1579df(0x632)]('project-quizzes-list'),fileTab=document['getElementById'](_0x1579df(0xc1)),fileInputArea=document[_0x1579df(0x632)](_0x1579df(0x654)),fileUploadInput=document[_0x1579df(0x632)]('file-upload-input'),worksheetTab=document['getElementById'](_0x1579df(0x59d)),worksheetInputArea=document[_0x1579df(0x632)](_0x1579df(0x874)),generateWorksheetBtn=document[_0x1579df(0x632)](_0x1579df(0x2a5)),studentInitialView=document[_0x1579df(0x632)](_0x1579df(0x965)),studentNameSelectionView=document[_0x1579df(0x632)](_0x1579df(0x355)),studentQuizArea=document[_0x1579df(0x632)]('student-quiz-area'),studentResultArea=document[_0x1579df(0x632)](_0x1579df(0x1cc)),studentReadingArea=document['getElementById']('student-reading-area'),loadQuizBtn=document[_0x1579df(0x632)](_0x1579df(0x902)),startQuizBtn=document[_0x1579df(0x632)](_0x1579df(0x4ce)),studentJoinGameView=document[_0x1579df(0x632)](_0x1579df(0x56d)),presentationModal=document['getElementById']('presentation-modal'),renameQuizModal=document[_0x1579df(0x632)]('rename-quiz-modal'),moveQuizModal=document[_0x1579df(0x632)](_0x1579df(0x8bb)),quizSettingsModal=document['getElementById'](_0x1579df(0x58a)),quizStatusModal=document['getElementById'](_0x1579df(0x764)),liveGameView=document['getElementById'](_0x1579df(0x3a7));function handleAutoFixLatex(){const _0x1c92c3=_0x1579df,_0x1b39d1=document[_0x1c92c3(0x632)]('quiz-editor-questions-container')||document,_0xf4b810=_0x1b39d1[_0x1c92c3(0x37d)]([_0x1c92c3(0x705),'input[type=\x22text\x22]','[contenteditable=\x22true\x22]',_0x1c92c3(0x9a4),_0x1c92c3(0x964),'label',_0x1c92c3(0x25e),_0x1c92c3(0x721),_0x1c92c3(0x7c3)][_0x1c92c3(0x7b1)](','));let _0x35b2e4=0x0;const _0x321a28=_0x22567a=>_0x1c92c3(0x3d7)in _0x22567a?String(_0x22567a[_0x1c92c3(0x3d7)]):_0x22567a[_0x1c92c3(0x31d)]!==undefined?_0x22567a['innerText']:_0x22567a['textContent']||'',_0x2487e4=(_0x2cbc43,_0x2627ea)=>{const _0x50efe7=_0x1c92c3;if('value'in _0x2cbc43){_0x2cbc43[_0x50efe7(0x3d7)]=_0x2627ea;return;}if(_0x2cbc43[_0x50efe7(0x20a)]&&_0x2cbc43['querySelector'](_0x50efe7(0x485)))return;if(_0x2cbc43['innerText']!==undefined)_0x2cbc43[_0x50efe7(0x31d)]=_0x2627ea;else _0x2cbc43[_0x50efe7(0xf3)]=_0x2627ea;},_0x104852=_0x23195a=>_0x23195a[_0x1c92c3(0x399)](/\u00A0/g,'\x20')[_0x1c92c3(0x399)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x2000fd=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x167e1a=_0x2c6a40=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x2c6a40),_0x4b2a52=_0x10ac6e=>{const _0x8fe44c=_0x1c92c3,_0x3641c6=(_0x10ac6e[_0x8fe44c(0x627)](/\{/g)||[])[_0x8fe44c(0x783)],_0x4c99c7=(_0x10ac6e[_0x8fe44c(0x627)](/\}/g)||[])['length'];if(_0x3641c6>_0x4c99c7)_0x10ac6e=_0x10ac6e+'}'[_0x8fe44c(0x246)](_0x3641c6-_0x4c99c7);return _0x10ac6e;},_0xb5c9f8=_0x4a8f63=>{const _0x252d35=_0x1c92c3;let _0x310e43=_0x4a8f63[_0x252d35(0x3d4)]();const _0x165be9=[_0x252d35(0x90a),'dfrac',_0x252d35(0x467),'sqrt',_0x252d35(0x999),'times',_0x252d35(0x3f4),_0x252d35(0x93e),'leq',_0x252d35(0x232),'le','ge',_0x252d35(0x5df),'pm',_0x252d35(0x6a4),_0x252d35(0x36c),_0x252d35(0x267),'tan',_0x252d35(0x919),'ln',_0x252d35(0x6f4),_0x252d35(0x6b2),_0x252d35(0x28e),'left',_0x252d35(0x6d4),_0x252d35(0x6d2),'underline','circ',_0x252d35(0x166)];_0x310e43=_0x310e43[_0x252d35(0x399)](new RegExp(_0x252d35(0x383)+_0x165be9[_0x252d35(0x7b1)]('|')+_0x252d35(0x67a),'g'),'\x5c'),_0x165be9['forEach'](_0x2ce423=>{const _0x1d282f=_0x252d35;_0x310e43=_0x310e43[_0x1d282f(0x399)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x2ce423+'\x5cb','g'),(_0x54b20e,_0x59c9d5)=>_0x59c9d5+'\x5c'+_0x2ce423);});const _0x30a0fa=[[/×/g,_0x252d35(0x248)],[/·/g,_0x252d35(0x8b8)],[/÷/g,_0x252d35(0x45c)],[/≤/g,_0x252d35(0x3ca)],[/≥/g,'\x5cge'],[/≠/g,_0x252d35(0x71f)],[/±/g,_0x252d35(0x639)],[/∑/g,_0x252d35(0x629)],[/−/g,'-']];_0x30a0fa[_0x252d35(0x2fb)](([_0x59ee02,_0x1c0bf3])=>{const _0x592041=_0x252d35;_0x310e43=_0x310e43[_0x592041(0x399)](_0x59ee02,_0x1c0bf3);}),_0x310e43=_0x310e43['replace'](/√\s*\(([^)]*)\)/g,_0x252d35(0x557)),_0x310e43=_0x310e43[_0x252d35(0x399)](/√\s*([A-Za-z0-9]+)/g,_0x252d35(0x557)),_0x310e43=_0x310e43[_0x252d35(0x399)](/(^|[^\\])\bimes\b/g,_0x252d35(0x3d0))[_0x252d35(0x399)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x252d35(0x74d))[_0x252d35(0x399)](/(^|[^\\])ext\{/g,_0x252d35(0x41f))['replace'](/(^|[^\\])ext\(/g,_0x252d35(0x840))[_0x252d35(0x399)](/\\text\(([^)]*)\)/g,_0x252d35(0x6a3))[_0x252d35(0x399)](/\s\\frac/g,_0x252d35(0x194)),_0x310e43=_0x310e43[_0x252d35(0x399)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x29eb69,_0x54226a,_0x582efb,_0x259961)=>_0x54226a+_0x252d35(0x247)+_0x582efb+'}{'+_0x259961+'}'),_0x310e43=_0x310e43[_0x252d35(0x399)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x252d35(0x68b))[_0x252d35(0x399)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x252d35(0x68b))[_0x252d35(0x399)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x252d35(0x68b)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x252d35(0x7db)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x252d35(0x7db)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x252d35(0x7db)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,_0x252d35(0x7db)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x252d35(0x2fb)](([_0x3d6935,_0x2bbfbe])=>{const _0x2f6042=_0x252d35;_0x310e43=_0x310e43[_0x2f6042(0x399)](_0x3d6935,_0x2bbfbe);}),_0x310e43=_0x310e43[_0x252d35(0x399)](/(\d+)\s*%/g,_0x252d35(0x79a)),_0x310e43=_0x310e43[_0x252d35(0x399)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x252d35(0x97c))[_0x252d35(0x399)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x252d35(0x38e))[_0x252d35(0x399)](/\{\{([^\{\}]+)\}\}/g,_0x252d35(0x7d5)),[_0x252d35(0x36c),_0x252d35(0x267),_0x252d35(0x789),'log','ln'][_0x252d35(0x2fb)](_0x222d7c=>{const _0x3ec4f7=_0x252d35;_0x310e43=_0x310e43[_0x3ec4f7(0x399)](new RegExp(_0x3ec4f7(0x100)+_0x222d7c+'\x5cs*\x5c(','g'),(_0x1d765b,_0x4d02b7)=>_0x4d02b7+'\x5c'+_0x222d7c+'(');});const _0x53e963=(_0x310e43[_0x252d35(0x627)](/\\left\b/g)||[])[_0x252d35(0x783)],_0x249fae=(_0x310e43[_0x252d35(0x627)](/\\right\b/g)||[])[_0x252d35(0x783)];if(_0x53e963!==_0x249fae)_0x310e43=_0x310e43[_0x252d35(0x399)](/\\left\b/g,'')[_0x252d35(0x399)](/\\right\b/g,'');return _0x310e43=_0x4b2a52(_0x310e43),_0x310e43;},_0x248797=_0xa0909c=>{const _0x485fa1=_0x1c92c3;if(/\$|\\\(|\\\[/[_0x485fa1(0x3a6)](_0xa0909c))return _0xa0909c;if(!_0x2000fd[_0x485fa1(0x3a6)](_0xa0909c))return _0xa0909c;const _0x37cda3=_0xa0909c['match'](/^\s*/)[0x0],_0x388d97=_0xa0909c[_0x485fa1(0x627)](/\s*$/)[0x0],_0x412c0e=_0xa0909c[_0x485fa1(0x3d4)]();return _0x37cda3+'$'+_0xb5c9f8(_0x412c0e)+'$'+_0x388d97;},_0x1ad667=_0x4426e5=>_0x4426e5['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0xf4b810[_0x1c92c3(0x2fb)](_0x541977=>{const _0x1601e6=_0x1c92c3;if(_0x541977['querySelector']&&_0x541977[_0x1601e6(0x20a)](_0x1601e6(0x485)))return;const _0x2a527c=_0x321a28(_0x541977);let _0x2e2814=_0x104852(_0x2a527c);_0x2e2814=_0x2e2814[_0x1601e6(0x399)](/\$\$([\s\S]*?)\$\$/g,(_0x2f4eaf,_0x13fd1a)=>'$$'+_0xb5c9f8(_0x13fd1a)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x5850e2,_0x2aaacf)=>'$'+_0xb5c9f8(_0x2aaacf)+'$')['replace'](/\\\(([\s\S]*?)\\\)/g,(_0x2af829,_0x37705)=>'\x5c('+_0xb5c9f8(_0x37705)+'\x5c)')['replace'](/\\\[([\s\S]*?)\\\]/g,(_0x2b83e1,_0x17a8e8)=>'\x5c['+_0xb5c9f8(_0x17a8e8)+'\x5c]');let _0x2cfa16=_0x2e2814,_0x30c44d=0x0;const _0x184d25=_0x20504d=>_0x20504d[_0x1601e6(0x399)](/S([^S]{0,2000}?)S/g,(_0x7958e7,_0x477e62)=>_0x2000fd[_0x1601e6(0x3a6)](_0x477e62)?'$'+_0xb5c9f8(_0x477e62)+'$':_0x7958e7);while(_0x30c44d++<0x14){const _0x10ad78=_0x184d25(_0x2cfa16);if(_0x10ad78===_0x2cfa16)break;_0x2cfa16=_0x10ad78;}_0x2e2814=_0x2cfa16,_0x2e2814=_0x2e2814[_0x1601e6(0x1ff)]('\x0a')[_0x1601e6(0x931)](_0x40cc32=>{const _0x1864d5=_0x1601e6;if(!(/[,\u3001，;；]/['test'](_0x40cc32)||/\s(?:และ|หรือ)\s/[_0x1864d5(0x3a6)](_0x40cc32))||!_0x2000fd['test'](_0x40cc32))return _0x40cc32;return _0x1ad667(_0x40cc32)['map'](_0x13010c=>{const _0x456246=_0x1864d5;if(/^\s(?:และ|หรือ)\s$/[_0x456246(0x3a6)](_0x13010c)||/^[,\u3001，;；]$/[_0x456246(0x3a6)](_0x13010c))return _0x13010c;return _0x248797(_0x13010c);})['join']('');})['join']('\x0a'),_0x2e2814=_0x2e2814[_0x1601e6(0x1ff)]('\x0a')[_0x1601e6(0x931)](_0x1ebdab=>{const _0x3ca81e=_0x1601e6,_0x17a0c1=_0x1ebdab['trim']();if(!_0x17a0c1)return _0x1ebdab;const _0x47a071=/\$|\\\(|\\\[/['test'](_0x17a0c1),_0x273b32=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x3ca81e(0x3a6)](_0x17a0c1);if(_0x47a071||!_0x273b32||_0x167e1a(_0x17a0c1))return _0x1ebdab;return _0x1ebdab['replace'](_0x17a0c1,'$'+_0xb5c9f8(_0x17a0c1)+'$');})[_0x1601e6(0x7b1)]('\x0a'),_0x2e2814=_0x2e2814[_0x1601e6(0x399)](/(\d+)\s*°\s*C\b/g,(_0x3b6497,_0xd4d5b0,_0x44a777,_0x518f7a)=>{const _0x45893d=_0x1601e6,_0x871db4=_0x518f7a[_0x44a777-0x1];if(_0x871db4==='$'||_0x871db4==='S'||_0x871db4==='\x5c')return _0x3b6497;return'$'+_0xd4d5b0+_0x45893d(0x746);})[_0x1601e6(0x399)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x5b42c6,_0x9b9b5a,_0xf3e0b1,_0x28a7a0)=>{const _0x57eddd=_0x1601e6,_0x5b706b=_0x28a7a0[_0xf3e0b1-0x1];if(_0x5b706b==='$'||_0x5b706b==='S'||_0x5b706b==='\x5c')return _0x5b42c6;return'$'+_0x9b9b5a+_0x57eddd(0x746);})[_0x1601e6(0x399)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x409fe4,_0x289885,_0x5555aa,_0x2ebd5f)=>{const _0x431bf2=_0x1601e6,_0x427383=_0x2ebd5f[_0x5555aa-0x1];if(_0x427383==='$'||_0x427383==='S'||_0x427383==='\x5c')return _0x409fe4;return'$'+_0x289885+_0x431bf2(0x746);}),_0x2e2814=_0x2e2814[_0x1601e6(0x399)](/\$\s*\$/g,'$$'),_0x2e2814!==_0x2a527c&&(_0x2487e4(_0x541977,_0x2e2814),_0x35b2e4++);});if(_0x35b2e4>0x0){showMessage(_0x1c92c3(0x16b)+_0x35b2e4+_0x1c92c3(0x430));try{if(window['MathJax']&&MathJax[_0x1c92c3(0x2ab)])MathJax[_0x1c92c3(0x2ab)]();window[_0x1c92c3(0x4b2)]&&typeof renderMathInElement==='function'&&renderMathInElement(_0x1b39d1,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x1631eb){}}else showMessage(_0x1c92c3(0x56c));}async function listenForCustomMathTopics(){const _0x130b6a=_0x1579df,_0x4db9fb=collection(db,'artifacts/'+appId+_0x130b6a(0x358));onSnapshot(_0x4db9fb,_0x1eb22f=>{const _0x4f360b=_0x130b6a;customMathTopics=_0x1eb22f['docs']['map'](_0x1369b7=>({'id':_0x1369b7['id'],..._0x1369b7[_0x4f360b(0x844)]()})),renderTopicCheckboxes();},_0x3cc041=>{const _0x382ba3=_0x130b6a;console[_0x382ba3(0x962)](_0x382ba3(0x652),_0x3cc041);});}function handleSelectAllTopics(){const _0xcd5a89=_0x1579df,_0x20a21b=document[_0xcd5a89(0x632)](_0xcd5a89(0x124)),_0x1239df=_0x20a21b[_0xcd5a89(0x37d)](_0xcd5a89(0x2d5));_0x1239df[_0xcd5a89(0x2fb)](_0x56cecc=>{const _0x47aec0=_0xcd5a89;_0x56cecc[_0x47aec0(0x37c)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x3d7085=_0x1579df,_0xa4fb94=document[_0x3d7085(0x632)](_0x3d7085(0x124)),_0x1cca81=_0xa4fb94[_0x3d7085(0x37d)](_0x3d7085(0x2d5));_0x1cca81['forEach'](_0x2a6c2c=>{const _0x4706a3=_0x3d7085;_0x2a6c2c[_0x4706a3(0x37c)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x279ced){const _0x5ae211=_0x1579df;if(!_0x279ced)return;try{const _0x22a270=doc(db,_0x5ae211(0x88d)+appId+_0x5ae211(0x358),_0x279ced);await deleteDoc(_0x22a270),showMessage(_0x5ae211(0x8ef));}catch(_0x50d681){console[_0x5ae211(0x962)](_0x5ae211(0x989),_0x50d681),showMessage(_0x5ae211(0x3b4));}}async function handleAddCustomMathTopic(){const _0x15aae1=_0x1579df,_0x4895df=document[_0x15aae1(0x632)](_0x15aae1(0xb5)),_0x33080a=_0x4895df[_0x15aae1(0x3d7)][_0x15aae1(0x3d4)]();if(!_0x33080a){showMessage(_0x15aae1(0x720));return;}if(!userId){showMessage(_0x15aae1(0x364));return;}try{const _0x57c902=collection(db,_0x15aae1(0x88d)+appId+_0x15aae1(0x358));await addDoc(_0x57c902,{'name':_0x33080a,'createdAt':serverTimestamp()}),_0x4895df[_0x15aae1(0x3d7)]='',showMessage(_0x15aae1(0x1f2)+_0x33080a+_0x15aae1(0x804));}catch(_0x301815){console['error'](_0x15aae1(0x5ef),_0x301815),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x48446a=_0x1579df;showConfirmation(_0x48446a(0x60b),async()=>{const _0x5997e0=_0x48446a,_0xaf4ddb=document[_0x5997e0(0x632)](_0x5997e0(0x2fe)),_0x3854ab=document[_0x5997e0(0x632)]('loader-text'),_0x81bbc=_0x3854ab[_0x5997e0(0xf3)];_0xaf4ddb[_0x5997e0(0x635)][_0x5997e0(0x74c)](_0x5997e0(0x99e)),_0x3854ab[_0x5997e0(0xf3)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x38a8a6=collection(db,_0x5997e0(0x88d)+appId+_0x5997e0(0x207)),_0x4fb6ab=await getDocs(_0x38a8a6);if(_0x4fb6ab['empty']){showMessage(_0x5997e0(0x3e8));return;}const _0x3c5e4c=writeBatch(db);let _0x16453d=0x0;_0x4fb6ab[_0x5997e0(0x2fb)](_0xe8c5e3=>{const _0x44bd0b=_0x5997e0,_0x45c074=_0xe8c5e3[_0x44bd0b(0x844)](),_0x598f51=_0xe8c5e3['id'];if(_0x45c074['questions']&&_0x45c074['questions']['length']>0x0&&!_0x45c074[_0x44bd0b(0x88e)][0x0][_0x44bd0b(0x69d)]('id')){console[_0x44bd0b(0x919)](_0x44bd0b(0x14a)+_0x598f51+'\x20('+_0x45c074['topic']+')'),_0x16453d++;const _0x2fc392=_0x45c074['questions'][_0x44bd0b(0x931)]((_0x1481f0,_0x5f0160)=>{return{..._0x1481f0,'id':_0x1481f0['id']||'q_'+Date['now']()+'_'+_0x598f51+'_'+_0x5f0160};}),_0x4b9bdd=doc(db,_0x44bd0b(0x88d)+appId+_0x44bd0b(0x207),_0x598f51);_0x3c5e4c[_0x44bd0b(0x283)](_0x4b9bdd,{'questions':_0x2fc392});}}),_0x16453d>0x0?(_0x3854ab[_0x5997e0(0xf3)]=_0x5997e0(0x6e6)+_0x16453d+_0x5997e0(0x72a),await _0x3c5e4c[_0x5997e0(0x196)](),showMessage(_0x5997e0(0x897)+_0x16453d+_0x5997e0(0x42e))):showMessage(_0x5997e0(0x72c));}catch(_0x52d519){console[_0x5997e0(0x962)](_0x5997e0(0x394),_0x52d519),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x52d519[_0x5997e0(0x52c)]);}finally{_0xaf4ddb['classList'][_0x5997e0(0x8c5)](_0x5997e0(0x99e)),_0x3854ab[_0x5997e0(0xf3)]=_0x81bbc;}});}async function handleBulkUpdateQuizSettings(){const _0x43dd30=_0x1579df,_0x914a98={'shuffle':document[_0x43dd30(0x632)]('bulk-shuffle-select')['value'],'resultsDisplay':document[_0x43dd30(0x632)](_0x43dd30(0x5b3))[_0x43dd30(0x3d7)],'loopUntilPass':document['getElementById'](_0x43dd30(0x414))['checked']},_0x1a2f0a=allQuizzesGlobal['length'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x1a2f0a+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x477dfe=_0x43dd30,_0x323adf=document['getElementById'](_0x477dfe(0x142));_0x323adf[_0x477dfe(0xd7)]=!![],_0x323adf[_0x477dfe(0x581)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x584d89=writeBatch(db);allQuizzesGlobal[_0x477dfe(0x2fb)](_0x5d1163=>{const _0x3f792c=_0x477dfe,_0x47ba1e=doc(db,_0x3f792c(0x88d)+appId+'/public/data/quizzes',_0x5d1163['id']),_0x50419e={..._0x5d1163[_0x3f792c(0x8b9)]||{},..._0x914a98};_0x584d89[_0x3f792c(0x283)](_0x47ba1e,{'settings':_0x50419e});}),await _0x584d89[_0x477dfe(0x196)](),document[_0x477dfe(0x632)](_0x477dfe(0x619))[_0x477dfe(0x635)][_0x477dfe(0x8c5)](_0x477dfe(0x99e)),showMessage(_0x477dfe(0x47a)+_0x1a2f0a+'\x20ชุดสำเร็จ!');}catch(_0x1f2472){console['error']('Error\x20during\x20bulk\x20quiz\x20settings\x20update:',_0x1f2472),showMessage(_0x477dfe(0x174));}finally{_0x323adf[_0x477dfe(0xd7)]=![],_0x323adf[_0x477dfe(0x581)]=_0x477dfe(0x1dd);}});}async function handleSaveProjectName(){const _0x240798=_0x1579df,_0xd4b578=document[_0x240798(0x632)](_0x240798(0x8b4)),_0xa4b37d=document[_0x240798(0x632)](_0x240798(0x2f3)),_0x3f9ebb=_0xd4b578[_0x240798(0xf3)]['trim']();if(!_0x3f9ebb||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0xd4b578['textContent']=currentProjectData['projectName'];return;}_0xa4b37d['disabled']=!![],_0xa4b37d[_0x240798(0x581)]=_0x240798(0x59f);try{const _0x584e99=doc(db,_0x240798(0x88d)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x584e99,{'projectName':_0x3f9ebb}),currentProjectData&&(currentProjectData['projectName']=_0x3f9ebb),showMessage(_0x240798(0x580));}catch(_0x4fea7b){console['error'](_0x240798(0x1e6),_0x4fea7b),showMessage(_0x240798(0x4e0)),_0xd4b578[_0x240798(0xf3)]=currentProjectData[_0x240798(0x8cf)];}finally{_0xa4b37d[_0x240798(0x635)][_0x240798(0x8c5)](_0x240798(0x99e)),_0xa4b37d[_0x240798(0xd7)]=![],_0xa4b37d[_0x240798(0x581)]=_0x240798(0x3f3);}}async function initialize(){const _0x33233b=_0x1579df;try{const _0x269cbf=initializeApp(firebaseConfig);db=getFirestore(_0x269cbf),auth=getAuth(_0x269cbf),setupAuthListener(),setupEventListeners(),showView(_0x33233b(0x1d7)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x7d517){console['error'](_0x33233b(0x888),_0x7d517),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x253175=_0x1579df,_0x32c936=document[_0x253175(0x632)](_0x253175(0x2e5));if(!_0x32c936)return;const _0x4a0e4e=document[_0x253175(0x632)](_0x253175(0x1ee));_0x4a0e4e['disabled']=!![],_0x4a0e4e[_0x253175(0x581)]=_0x253175(0xf6);try{const _0x257011=_0x32c936[_0x253175(0x37d)]('.question-editor-item'),_0xcbc872=Array[_0x253175(0x88b)](_0x257011)[_0x253175(0x931)]((_0x982d07,_0x49b180)=>{const _0x5286f7=_0x253175,_0x12fe65=_0x982d07[_0x5286f7(0x6de)][_0x5286f7(0x5d4)],_0x5b7e63=_0x982d07[_0x5286f7(0x20a)](_0x5286f7(0x705))[_0x5286f7(0x3d7)];let _0x27a7c9=null,_0x251d96='';switch(_0x12fe65){case'multiple_choice':const _0x41849e=_0x982d07['querySelectorAll'](_0x5286f7(0x6d0));_0x27a7c9=Array[_0x5286f7(0x88b)](_0x41849e)[_0x5286f7(0x931)](_0x1f9c83=>_0x1f9c83[_0x5286f7(0x3d7)]);const _0x2166f8=_0x982d07[_0x5286f7(0x20a)]('input[type=\x22radio\x22]:checked');_0x2166f8&&(_0x251d96=_0x27a7c9[parseInt(_0x2166f8['value'])]);break;case _0x5286f7(0x236):_0x251d96=_0x982d07[_0x5286f7(0x20a)](_0x5286f7(0x5ea))[_0x5286f7(0x3d7)];break;case _0x5286f7(0x958):const _0x2012d3=_0x982d07[_0x5286f7(0x20a)](_0x5286f7(0x376));_0x251d96=_0x2012d3?_0x2012d3[_0x5286f7(0x3d7)]:'';break;case _0x5286f7(0x357):_0x251d96=_0x982d07[_0x5286f7(0x20a)](_0x5286f7(0x4c1))['value'];break;}return{'question':_0x5b7e63,'options':_0x27a7c9,'proposedAnswer':_0x251d96};}),_0x1b668f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0xcbc872)+_0x253175(0x611),_0x2ee126={'type':_0x253175(0x926),'items':{'type':_0x253175(0xb1),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x253175(0x241)},'justification':{'type':_0x253175(0x1e7)},'suggestedAnswer':{'type':_0x253175(0x1e7)}},'required':[_0x253175(0x688),_0x253175(0x304),'justification']}},_0x5ee09a=await callAnalysisApi(_0x1b668f,{'type':_0x253175(0xb1),'properties':{'result':_0x2ee126},'required':[_0x253175(0x817)]});displayVerificationResultsInEditor(_0x5ee09a[_0x253175(0x817)]);}catch(_0x5c6715){console[_0x253175(0x962)](_0x253175(0x432),_0x5c6715),showMessage(_0x253175(0x727));}finally{_0x4a0e4e[_0x253175(0xd7)]=![],_0x4a0e4e[_0x253175(0x581)]=_0x253175(0x6cb);}}function displayVerificationResultsInEditor(_0x446880){const _0x5e3d8a=_0x1579df;_0x446880[_0x5e3d8a(0x2fb)](_0x272d0b=>{const _0x36e2f7=_0x5e3d8a,_0x2e1527=document['querySelector'](_0x36e2f7(0x90f)+_0x272d0b[_0x36e2f7(0x688)]+'\x22]');if(!_0x2e1527)return;const _0x4b2e7a=_0x2e1527[_0x36e2f7(0x20a)](_0x36e2f7(0x6f7));if(_0x4b2e7a)_0x4b2e7a[_0x36e2f7(0x74c)]();let _0x8daaae='';if(_0x272d0b[_0x36e2f7(0x304)])_0x8daaae=_0x36e2f7(0x27c);else{const _0x1975c1=_0x272d0b[_0x36e2f7(0x555)]?_0x36e2f7(0x7f0):'';_0x8daaae=_0x36e2f7(0x672)+_0x1975c1+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x272d0b['justification']+_0x36e2f7(0x66c)+(_0x272d0b['suggestedAnswer']?_0x36e2f7(0x2f0)+_0x272d0b['suggestedAnswer']+'</p>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x2e1527[_0x36e2f7(0x2cc)](_0x36e2f7(0x181),_0x8daaae);if(!_0x272d0b[_0x36e2f7(0x304)]&&_0x272d0b[_0x36e2f7(0x555)]){const _0x3256f6=_0x2e1527[_0x36e2f7(0x6de)][_0x36e2f7(0x5d4)],_0x566c30=_0x37dbf2=>{const _0x38dbc4=_0x36e2f7;if(!_0x37dbf2)return;_0x37dbf2['classList'][_0x38dbc4(0x8c5)](_0x38dbc4(0x4f1),_0x38dbc4(0x934),_0x38dbc4(0x222)),setTimeout(()=>{const _0xf53aef=_0x38dbc4;_0x37dbf2[_0xf53aef(0x635)][_0xf53aef(0x74c)](_0xf53aef(0x4f1));},0x9c4);};if(_0x3256f6===_0x36e2f7(0x34f)){const _0x4aad6e=Array[_0x36e2f7(0x88b)](_0x2e1527[_0x36e2f7(0x37d)](_0x36e2f7(0x6d0))),_0x267fb7=_0x4aad6e[_0x36e2f7(0x612)](_0x59070f=>_0x59070f['value'][_0x36e2f7(0x3d4)]()['toLowerCase']()===_0x272d0b[_0x36e2f7(0x555)]['trim']()[_0x36e2f7(0x7f9)]());if(_0x267fb7!==-0x1){const _0xe65181=_0x2e1527['querySelector'](_0x36e2f7(0x403)+_0x267fb7+'\x22]');_0xe65181&&(_0xe65181[_0x36e2f7(0x37c)]=!![],_0x566c30(_0xe65181[_0x36e2f7(0x5ac)]('div')));}}else{if(_0x3256f6===_0x36e2f7(0x236)||_0x3256f6==='matching_item'){const _0x131ebd=_0x2e1527['querySelector']('.ideal-answer-input,\x20.correct-response-input');_0x131ebd&&(_0x131ebd['value']=_0x272d0b[_0x36e2f7(0x555)],_0x566c30(_0x131ebd));}else{if(_0x3256f6===_0x36e2f7(0x958)){const _0x4e0dee=_0x272d0b[_0x36e2f7(0x555)]['trim']()[_0x36e2f7(0x7f9)](),_0x2eef79=_0x2e1527[_0x36e2f7(0x20a)](_0x36e2f7(0x403)+_0x4e0dee+'\x22]');_0x2eef79&&(_0x2eef79['checked']=!![],_0x566c30(_0x2eef79['closest'](_0x36e2f7(0x93e))));}}}}}),showMessage(_0x5e3d8a(0x381));}async function handleVerifyAnswers(){const _0x34f44e=_0x1579df;if(!currentQuizData||!currentQuizData[_0x34f44e(0x88e)]){showMessage(_0x34f44e(0x770));return;}const _0x41d9e9=document[_0x34f44e(0x632)]('verify-answers-btn');_0x41d9e9[_0x34f44e(0xd7)]=!![],_0x41d9e9['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x530632=currentQuizData[_0x34f44e(0x88e)]['map']((_0x2bb183,_0x2772bc)=>{const _0x3e6960=_0x34f44e;let _0x380e3c='';const _0x556f56=_0x2bb183[_0x3e6960(0x54a)]||currentQuizData[_0x3e6960(0x9af)];switch(_0x556f56){case _0x3e6960(0x34f):_0x380e3c=_0x2bb183['options'][_0x2bb183[_0x3e6960(0x48f)]];break;case _0x3e6960(0x236):_0x380e3c=_0x2bb183[_0x3e6960(0x3ad)];break;case _0x3e6960(0x958):_0x380e3c=_0x2bb183[_0x3e6960(0x7d0)]['toString']();break;case _0x3e6960(0x357):_0x380e3c=_0x2bb183['correctResponse'];break;}return{'question':_0x2bb183[_0x3e6960(0x36b)]||_0x2bb183[_0x3e6960(0x2b6)],'options':_0x2bb183[_0x3e6960(0x518)]||null,'proposedAnswer':_0x380e3c};}),_0xd31989=_0x34f44e(0x11c)+JSON[_0x34f44e(0x3c5)](_0x530632)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x56baf9={'type':_0x34f44e(0x926),'items':{'type':_0x34f44e(0xb1),'properties':{'questionIndex':{'type':_0x34f44e(0x5c9)},'isCorrect':{'type':_0x34f44e(0x241)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x34f44e(0x1e7)}},'required':[_0x34f44e(0x688),_0x34f44e(0x304),_0x34f44e(0x683)]}},_0x5946de=await callAnalysisApi(_0xd31989,{'type':_0x34f44e(0xb1),'properties':{'result':_0x56baf9},'required':['result']});displayVerificationResults(_0x5946de[_0x34f44e(0x817)]);}catch(_0x5dab7e){console[_0x34f44e(0x962)]('Error\x20verifying\x20answers:',_0x5dab7e),showMessage(_0x34f44e(0x727));}finally{_0x41d9e9[_0x34f44e(0xd7)]=![],_0x41d9e9[_0x34f44e(0x581)]=_0x34f44e(0x7b3);}}function displayVerificationResults(_0x143caf){const _0x5f0626=_0x1579df;_0x143caf[_0x5f0626(0x2fb)](_0x6e3eae=>{const _0x4deaed=_0x5f0626,_0x5e9545=document[_0x4deaed(0x20a)](_0x4deaed(0x526)+_0x6e3eae['questionIndex']+'\x22]');if(_0x5e9545){const _0x165b3b=_0x5e9545['querySelector']('.verification-result');if(_0x165b3b)_0x165b3b[_0x4deaed(0x74c)]();let _0x35b3e9='';_0x6e3eae[_0x4deaed(0x304)]?_0x35b3e9=_0x4deaed(0x20e):_0x35b3e9=_0x4deaed(0x3d6)+_0x6e3eae[_0x4deaed(0x683)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x6e3eae['suggestedAnswer']?_0x4deaed(0x2f0)+_0x6e3eae[_0x4deaed(0x555)]+_0x4deaed(0x58b):'')+_0x4deaed(0x284),_0x5e9545[_0x4deaed(0x2cc)]('beforeend',_0x35b3e9);}}),showMessage(_0x5f0626(0x381));}function compareNumericalAnswers(_0x473ff8,_0x3dcd3a){const _0x1e7f5=_0x1579df,_0x2f372d=String(_0x473ff8)[_0x1e7f5(0x399)](',','.')[_0x1e7f5(0x399)](/[^\d.-]/g,'')[_0x1e7f5(0x3d4)](),_0x3ba6c1=String(_0x3dcd3a)[_0x1e7f5(0x399)](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0x2f372d===''||_0x3ba6c1==='')return![];const _0x21994b=parseFloat(_0x2f372d),_0x17ad9d=parseFloat(_0x3ba6c1);if(isNaN(_0x21994b)||isNaN(_0x17ad9d))return![];return Math[_0x1e7f5(0x1b7)](_0x21994b-_0x17ad9d)<0.001;}async function gradeShortAnswer(_0x95bfa4,_0x4df2e6){const _0x39e141=_0x1579df,_0x26e35a=_0x4df2e6['idealAnswer'];if(String(_0x95bfa4)['trim']()[_0x39e141(0x7f9)]()===String(_0x26e35a)['trim']()[_0x39e141(0x7f9)]())return!![];if(compareNumericalAnswers(_0x95bfa4,_0x26e35a))return!![];return console[_0x39e141(0x919)](_0x39e141(0x368)),await gradeShortAnswerWithAI(_0x95bfa4,_0x26e35a);}async function revealAnswerForAdmin(_0x1188a1,_0x4dcc06){const _0x31e1f4=_0x1579df,_0x56262c=doc(db,_0x31e1f4(0x88d)+appId+_0x31e1f4(0x97b),currentLiveGameId);await updateDoc(_0x56262c,{'questionStatus':_0x31e1f4(0x8c0)});}function showTop5LeaderboardView(_0x341a11){const _0x51d3ed=_0x1579df,_0x4e26b2=Object[_0x51d3ed(0x373)](_0x341a11[_0x51d3ed(0x5da)]||{})[_0x51d3ed(0x34b)](_0xe76928=>_0xe76928[_0x51d3ed(0x1cf)]==='active');_0x4e26b2[_0x51d3ed(0x774)]((_0x50544e,_0xb15adb)=>_0xb15adb[_0x51d3ed(0x948)]-_0x50544e[_0x51d3ed(0x948)]);const _0x413bc5=_0x4e26b2[_0x51d3ed(0xc4)](0x0,0x5),_0x1ad845=_0x51d3ed(0xfb)+_0x413bc5['map']((_0x754ad3,_0x301524)=>_0x51d3ed(0x87d)+(_0x301524+0x1)+'.\x20'+(_0x754ad3[_0x51d3ed(0x9a5)]||Object[_0x51d3ed(0x4cf)](_0x341a11[_0x51d3ed(0x5da)])[_0x51d3ed(0x974)](_0x38acf9=>_0x341a11[_0x51d3ed(0x5da)][_0x38acf9]===_0x754ad3))+_0x51d3ed(0x868)+_0x754ad3['score']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x51d3ed(0x7b1)]('')+_0x51d3ed(0x46a)+(_0x341a11[_0x51d3ed(0x2ef)]+0x1===currentQuizData[_0x51d3ed(0x88e)][_0x51d3ed(0x783)]?_0x51d3ed(0x82d):_0x51d3ed(0x572))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x1ad845,document['getElementById'](_0x51d3ed(0x88f))[_0x51d3ed(0x6a9)]('click',async()=>{const _0x13c504=_0x51d3ed,_0x2bf39b=doc(db,'artifacts/'+appId+_0x13c504(0x97b),currentLiveGameId),_0x69ecb7=_0x341a11[_0x13c504(0x2ef)]+0x1;if(_0x69ecb7<currentQuizData['questions'][_0x13c504(0x783)]){const _0x447bae={'currentQuestionIndex':_0x69ecb7,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x13c504(0x608)};Object[_0x13c504(0x4cf)](_0x341a11['players'])[_0x13c504(0x2fb)](_0x338974=>{const _0x5c9bfc=_0x13c504;_0x447bae[_0x5c9bfc(0x21f)+_0x338974+_0x5c9bfc(0x277)]=![];}),await updateDoc(_0x2bf39b,_0x447bae);}else await updateDoc(_0x2bf39b,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x580a08=>{const _0xb52525=_0x13b1;if(_0x580a08){userId=_0x580a08[_0xb52525(0x858)],userIdDisplay[_0xb52525(0xf3)]=userId;const _0x3538ac=await loadUserPreferences();_0x3538ac[_0xb52525(0x156)]&&(document[_0xb52525(0x632)](_0xb52525(0x6d8))['value']=_0x3538ac[_0xb52525(0x156)]);globalDashboardSettings[_0xb52525(0x71e)]=_0x3538ac[_0xb52525(0x71e)]||_0xb52525(0x4e9);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x404f2f,_0x826131){const _0x464684=_0x1579df;if(!userId)return;try{const _0x1c4e93=doc(db,'artifacts/'+appId+_0x464684(0x15d)+userId+'/preferences/main'),_0x5f59d4={};_0x5f59d4[_0x404f2f]=_0x826131,await setDoc(_0x1c4e93,_0x5f59d4,{'merge':!![]});}catch(_0x180fe0){console[_0x464684(0x962)](_0x464684(0x689),_0x180fe0);}}async function loadUserPreferences(){const _0x524d01=_0x1579df;if(!userId)return{};try{const _0x55648f=doc(db,_0x524d01(0x88d)+appId+_0x524d01(0x15d)+userId+_0x524d01(0x75c)),_0x1aa2b8=await getDoc(_0x55648f);if(_0x1aa2b8[_0x524d01(0x3e1)]())return _0x1aa2b8[_0x524d01(0x844)]();return{};}catch(_0x364cd3){return console['error'](_0x524d01(0xbf),_0x364cd3),{};}}function showPodiumView(_0x498e36){const _0x3425c3=_0x1579df,_0x4dda23=Object['entries'](_0x498e36)['map'](([_0x501c5d,_0x25a890])=>({'name':_0x501c5d,'score':_0x25a890[_0x3425c3(0x948)]||0x0,'badges':_0x25a890[_0x3425c3(0x48d)]||[]}));_0x4dda23['sort']((_0x1c6dac,_0x364cab)=>{const _0x1dfdb7=_0x3425c3,_0x5185a8=_0x364cab[_0x1dfdb7(0x948)]-_0x1c6dac[_0x1dfdb7(0x948)];if(_0x5185a8!==0x0)return _0x5185a8;return(_0x364cab[_0x1dfdb7(0x48d)][_0x1dfdb7(0x783)]||0x0)-(_0x1c6dac['badges']['length']||0x0);});const _0x547977=_0xb67f67=>{const _0x2b3f75=_0x3425c3;if(!_0xb67f67||_0xb67f67[_0x2b3f75(0x783)]===0x0)return'';const _0xf04d0f={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0xb67f67[_0x2b3f75(0x931)](_0x5b8565=>_0xf04d0f[_0x5b8565]||'')['join']('')+_0x2b3f75(0x49d);},_0x42350e=_0x4dda23['slice'](0x3),_0x5278c0=_0x42350e[_0x3425c3(0x783)]>0x0?_0x3425c3(0x158)+_0x42350e[_0x3425c3(0x931)]((_0x6da1d1,_0x181b4f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x181b4f+0x4)+_0x3425c3(0x1bd)+_0x6da1d1[_0x3425c3(0x9a5)]+_0x3425c3(0x119)+_0x6da1d1[_0x3425c3(0x948)]+_0x3425c3(0x4fb))[_0x3425c3(0x7b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x4ae5e7=_0x3425c3(0x468)+(_0x4dda23[0x1]?_0x3425c3(0x53b)+_0x4dda23[0x1][_0x3425c3(0x9a5)]+_0x3425c3(0x66c)+_0x547977(_0x4dda23[0x1][_0x3425c3(0x48d)])+_0x3425c3(0x275)+_0x4dda23[0x1][_0x3425c3(0x948)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4dda23[0x0]?_0x3425c3(0x270)+_0x4dda23[0x0][_0x3425c3(0x9a5)]+_0x3425c3(0x66c)+_0x547977(_0x4dda23[0x0][_0x3425c3(0x48d)])+_0x3425c3(0x561)+_0x4dda23[0x0][_0x3425c3(0x948)]+_0x3425c3(0x1a9):_0x3425c3(0x736))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4dda23[0x2]?_0x3425c3(0x1d4)+_0x4dda23[0x2][_0x3425c3(0x9a5)]+_0x3425c3(0x66c)+_0x547977(_0x4dda23[0x2][_0x3425c3(0x48d)])+_0x3425c3(0x275)+_0x4dda23[0x2][_0x3425c3(0x948)]+_0x3425c3(0x3db):_0x3425c3(0x736))+_0x3425c3(0x596)+_0x5278c0+_0x3425c3(0x167)+(currentMode===_0x3425c3(0x935)?_0x3425c3(0xc2):_0x3425c3(0x341))+_0x3425c3(0x96c);liveGameView['innerHTML']=_0x4ae5e7,currentMode===_0x3425c3(0x935)&&document[_0x3425c3(0x632)](_0x3425c3(0x150))[_0x3425c3(0x6a9)]('click',async()=>{const _0x2ab2af=_0x3425c3,_0x39c7c7=doc(db,_0x2ab2af(0x88d)+appId+_0x2ab2af(0x97b),currentLiveGameId),_0x2d3aea=await getDoc(_0x39c7c7);if(_0x2d3aea[_0x2ab2af(0x3e1)]()){const _0x460e3e=_0x2d3aea[_0x2ab2af(0x844)]();_0x460e3e[_0x2ab2af(0x23d)]&&await saveGameResultsAsSubmissions(_0x460e3e);}await deleteDoc(_0x39c7c7),showView(_0x2ab2af(0x7ae));});}async function handleStartLiveRace(_0x4c7428,_0x14a1f7=![]){const _0x36f740=_0x1579df;let _0x4c8419=allQuizzes[_0x36f740(0x974)](_0x1a3a7c=>_0x1a3a7c['id']===_0x4c7428);if(!_0x4c8419){const _0x579ced=doc(db,_0x36f740(0x88d)+appId+'/public/data/quizzes',_0x4c7428),_0x7fdca0=await getDoc(_0x579ced);if(!_0x7fdca0[_0x36f740(0x3e1)]()){showMessage(_0x36f740(0x12d));return;}_0x4c8419={'id':_0x7fdca0['id'],..._0x7fdca0['data']()};}const _0x1abaca=getShuffledQuiz(_0x4c8419);currentQuizData=_0x1abaca;const _0x24de3c=_0x4c8419[_0x36f740(0x80a)]||currentProjectId||null,_0x41751d=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();currentLiveGamePin=_0x41751d;try{const _0x1f98ce=await addDoc(collection(db,_0x36f740(0x88d)+appId+_0x36f740(0x97b)),{'quizId':_0x4c7428,'shouldSaveResults':_0x14a1f7,'projectId':_0x24de3c,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x41751d,'createdAt':serverTimestamp(),'shuffledQuiz':_0x1abaca});currentLiveGameId=_0x1f98ce['id'],showAdminLobbyView(_0x41751d,_0x4c8419[_0x36f740(0x9b2)]),listenForLiveGameUpdates();}catch(_0x167bf8){console[_0x36f740(0x962)](_0x36f740(0x548),_0x167bf8),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x1c271b=_0x1579df,_0x1dc3a0=document[_0x1c271b(0x20a)](_0x1c271b(0x7ce));_0x1dc3a0&&(_0x1dc3a0[_0x1c271b(0x581)]=_0x1c271b(0x209));const _0x1a888e=document[_0x1c271b(0x20a)](_0x1c271b(0x565));_0x1a888e&&(_0x1a888e[_0x1c271b(0x581)]=_0x1c271b(0x81d));const _0x7233f5=document[_0x1c271b(0x632)]('student-rankings-modal');_0x7233f5['classList'][_0x1c271b(0x74c)](_0x1c271b(0x99e)),document[_0x1c271b(0x632)]('close-student-rankings-btn')[_0x1c271b(0x24d)]=()=>_0x7233f5[_0x1c271b(0x635)][_0x1c271b(0x8c5)](_0x1c271b(0x99e));const _0x53edec=document[_0x1c271b(0x632)]('student-quiz-leaderboard-tab'),_0xe1c1e=document[_0x1c271b(0x632)](_0x1c271b(0x94c)),_0x22e4e1=document[_0x1c271b(0x632)](_0x1c271b(0x496)),_0x18e84e=document['getElementById']('student-project-leaderboard-content');_0x53edec['onclick']=()=>{const _0xcc455c=_0x1c271b;_0x53edec[_0xcc455c(0x635)][_0xcc455c(0x8c5)](_0xcc455c(0x6c0)),_0xe1c1e[_0xcc455c(0x635)][_0xcc455c(0x74c)]('active'),_0x22e4e1['classList'][_0xcc455c(0x74c)](_0xcc455c(0x99e)),_0x18e84e[_0xcc455c(0x635)][_0xcc455c(0x8c5)](_0xcc455c(0x99e));},_0xe1c1e[_0x1c271b(0x24d)]=()=>{const _0x3cc94c=_0x1c271b;_0xe1c1e[_0x3cc94c(0x635)]['add'](_0x3cc94c(0x6c0)),_0x53edec[_0x3cc94c(0x635)][_0x3cc94c(0x74c)](_0x3cc94c(0x6c0)),_0x18e84e['classList'][_0x3cc94c(0x74c)](_0x3cc94c(0x99e)),_0x22e4e1[_0x3cc94c(0x635)][_0x3cc94c(0x8c5)](_0x3cc94c(0x99e));};try{const _0x136715=collection(db,_0x1c271b(0x88d)+appId+_0x1c271b(0x2c9)+currentQuizData['id']+'/submissions'),_0x20d58e=await getDocs(_0x136715),_0x242f9f=_0x20d58e[_0x1c271b(0x6b3)][_0x1c271b(0x931)](_0x41c45d=>_0x41c45d['data']());renderQuizLeaderboard(_0x242f9f,currentQuizData,_0x1c271b(0x69b));const _0x19e1a4=collection(db,_0x1c271b(0x88d)+appId+_0x1c271b(0x5a9)+currentQuizData['projectId']+_0x1c271b(0x1f5)),_0x4db676=await getDocs(_0x19e1a4),_0x4a654b=_0x4db676[_0x1c271b(0x6b3)][_0x1c271b(0x931)](_0x15d3bf=>_0x15d3bf[_0x1c271b(0x844)]());renderLeaderboard(_0x4a654b,_0x1c271b(0x500));}catch(_0x385fb5){console[_0x1c271b(0x962)](_0x1c271b(0x266),_0x385fb5),showMessage(_0x1c271b(0x77a));}}async function handleSaveToBank(_0x337834){const _0x4b2181=_0x1579df,_0x41d3fc=_0x337834[_0x4b2181(0x3c2)],_0x4a83b5=_0x41d3fc[_0x4b2181(0x6de)][_0x4b2181(0x62f)],_0x2b173a=currentQuizData[_0x4b2181(0x88e)][_0x4a83b5];if(!userId){showMessage(_0x4b2181(0xc8));return;}try{const _0x134dd0={..._0x2b173a,'originalTopic':currentQuizData[_0x4b2181(0x9b2)],'savedAt':serverTimestamp()},_0x41dd08=collection(db,_0x4b2181(0x88d)+appId+_0x4b2181(0x15d)+userId+'/questionBank');await addDoc(_0x41dd08,_0x134dd0),showMessage(_0x4b2181(0x26e)),_0x41d3fc['classList']['remove'](_0x4b2181(0x759)),_0x41d3fc[_0x4b2181(0x635)][_0x4b2181(0x8c5)](_0x4b2181(0x516)),_0x41d3fc[_0x4b2181(0xd7)]=!![];}catch(_0x19efc5){console[_0x4b2181(0x962)](_0x4b2181(0x32c),_0x19efc5),showMessage(_0x4b2181(0x4e0));}}function listenForStarredQuizzes(){const _0x590055=_0x1579df;if(!userId)return;const _0xe9b359=collection(db,_0x590055(0x88d)+appId+_0x590055(0x207)),_0x3dc055=query(_0xe9b359,where(_0x590055(0x258),'==',!![]));onSnapshot(_0x3dc055,_0x38b498=>{const _0x29036f=_0x590055;starredQuizzes=_0x38b498['docs'][_0x29036f(0x931)](_0x5b8d89=>({'id':_0x5b8d89['id'],..._0x5b8d89[_0x29036f(0x844)]()})),currentProjectId===_0x29036f(0x311)?renderQuizzes():renderProjects();},_0x255ba1=>{const _0x4ec159=_0x590055;console[_0x4ec159(0x962)](_0x4ec159(0x875),_0x255ba1);});}function exportQuizAsWorksheetPDF(){const _0xef8c13=_0x1579df;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x4b86f9=currentQuizData,_0x4b6b40=window['open']('','_blank'),_0x1bc2a0=_0x2f7f85=>String[_0xef8c13(0x4fc)](0x41+_0x2f7f85),_0xd148b5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x4b86f9[_0xef8c13(0x9b2)]+_0xef8c13(0x94b)+_0x4b86f9[_0xef8c13(0x9b2)]+_0xef8c13(0xcc)+_0x4b86f9[_0xef8c13(0x88e)]['map']((_0x160e16,_0x2445be)=>{const _0x37f7ec=_0xef8c13;let _0x2dfadf='';const _0x405f29=_0x160e16[_0x37f7ec(0x54a)]||_0x4b86f9[_0x37f7ec(0x9af)];switch(_0x405f29){case _0x37f7ec(0x34f):case _0x37f7ec(0x966):_0x2dfadf=_0x37f7ec(0x970)+_0x160e16['options'][_0x37f7ec(0x931)]((_0x5ec1d9,_0x2c850c)=>_0x37f7ec(0x319)+_0x1bc2a0(_0x2c850c)+'.\x20'+_0x5ec1d9+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](_0x37f7ec(0x401))+_0x37f7ec(0x49d);break;case _0x37f7ec(0x958):_0x2dfadf=_0x37f7ec(0x2bd);break;default:_0x2dfadf='<div\x20class=\x22answer-space\x22></div>';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x2445be+0x1)+_0x37f7ec(0x13a)+(_0x160e16[_0x37f7ec(0x36b)]||_0x160e16['questionText'])+_0x37f7ec(0x6db)+(_0x160e16[_0x37f7ec(0x137)]?'<div\x20class=\x22my-2\x22>'+_0x160e16[_0x37f7ec(0x137)]+'</div>':'')+_0x37f7ec(0x360)+_0x2dfadf+_0x37f7ec(0x3de);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4b6b40['document']['write'](_0xd148b5),_0x4b6b40['document']['close'](),_0x4b6b40[_0xef8c13(0x389)]=function(){setTimeout(()=>{const _0x139ba4=_0x13b1;_0x4b6b40[_0x139ba4(0x9b1)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x4eee39=_0x1579df;if(!currentQuizData||!currentQuizData[_0x4eee39(0x88e)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x191395=currentQuizData,_0x48856a=window[_0x4eee39(0x6d1)]('',_0x4eee39(0x864)),_0x49e9a5=_0x1b5e4f=>String[_0x4eee39(0x4fc)](0x41+_0x1b5e4f),_0x3b019f=_0x4eee39(0x4c0)+_0x191395[_0x4eee39(0x9b2)]+_0x4eee39(0x291)+_0x191395['questions']['map']((_0x2b3b2a,_0x520cbd)=>{const _0x1e1cbf=_0x4eee39;let _0xaae0a4='';const _0x59a2b5=_0x2b3b2a[_0x1e1cbf(0x54a)]||_0x191395['quizType'];switch(_0x59a2b5){case _0x1e1cbf(0x34f):case _0x1e1cbf(0x966):_0xaae0a4=_0x1e1cbf(0x187)+_0x2b3b2a[_0x1e1cbf(0x518)]['map']((_0x26a7a7,_0xa05193)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x49e9a5(_0xa05193)+'.\x20'+_0x26a7a7+_0x1e1cbf(0x5e3))[_0x1e1cbf(0x7b1)]('<br>')+_0x1e1cbf(0x976);break;case'true_false':_0xaae0a4=_0x1e1cbf(0x34a);break;default:_0xaae0a4='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x191395[_0x1e1cbf(0x9b2)]+_0x1e1cbf(0xfc)+(_0x520cbd+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x2b3b2a[_0x1e1cbf(0x36b)]||_0x2b3b2a[_0x1e1cbf(0x2b6)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2b3b2a[_0x1e1cbf(0x137)]?'<div\x20class=\x22my-6\x22>'+_0x2b3b2a['imageCode']+'</div>':'')+_0x1e1cbf(0x360)+_0xaae0a4+_0x1e1cbf(0x161);})[_0x4eee39(0x7b1)]('')+_0x4eee39(0x865);_0x48856a[_0x4eee39(0x751)][_0x4eee39(0x74f)](_0x3b019f),_0x48856a[_0x4eee39(0x751)][_0x4eee39(0x70a)](),_0x48856a[_0x4eee39(0x389)]=function(){setTimeout(()=>{_0x48856a['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x54442d){const _0x1188d0=_0x1579df,_0x453164=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x54442d);try{const _0x54a245=await getDoc(_0x453164);if(_0x54a245[_0x1188d0(0x3e1)]()){const _0x515736=_0x54a245[_0x1188d0(0x844)]()['isStarred']||![];await updateDoc(_0x453164,{'isStarred':!_0x515736});}}catch(_0x7ef97){console[_0x1188d0(0x962)](_0x1188d0(0x64f),_0x7ef97),showMessage(_0x1188d0(0x286));}}async function displayQuestionBank(){const _0x371643=_0x1579df,_0x3a3717=document[_0x371643(0x632)](_0x371643(0x487));_0x3a3717[_0x371643(0x581)]=_0x371643(0x43d);try{const _0x521f27=collection(db,'artifacts/'+appId+_0x371643(0x15d)+userId+'/questionBank'),_0x5a8a62=query(_0x521f27),_0x53e727=await getDocs(_0x5a8a62);if(_0x53e727[_0x371643(0xf2)]){_0x3a3717[_0x371643(0x581)]=_0x371643(0x61d);return;}let _0x4cf21d=_0x53e727[_0x371643(0x6b3)][_0x371643(0x931)](_0x6ad3bb=>{const _0x3dfcb7=_0x371643,_0x491e40=_0x6ad3bb[_0x3dfcb7(0x844)](),_0x63af36=_0x6ad3bb['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x3dfcb7(0x3c5)](_0x491e40)+_0x3dfcb7(0x70c)+(_0x491e40['questionText']||_0x491e40[_0x3dfcb7(0x36b)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x491e40['originalTopic']+_0x3dfcb7(0x758);})[_0x371643(0x7b1)]('');_0x3a3717[_0x371643(0x581)]=_0x371643(0x6cd)+_0x4cf21d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x371643(0x632)]('create-from-bank-btn')[_0x371643(0x6a9)]('click',createQuizFromBank);}catch(_0x51a51a){console['error']('Error\x20displaying\x20question\x20bank:',_0x51a51a),_0x3a3717['innerHTML']=_0x371643(0x7e5);}}function showAdminLiveQuestionView(_0x160913,_0x1482e4,_0x3a5c4e){const _0x46097a=_0x1579df,_0x510ca6=_0x160913['questionType']||currentQuizData[_0x46097a(0x9af)];let _0x3f1440='';if(_0x510ca6===_0x46097a(0x34f)||_0x510ca6===_0x46097a(0x958)){const _0xad05e3=_0x510ca6===_0x46097a(0x958)?[_0x46097a(0x282),_0x46097a(0x8d9)]:_0x160913['options'],_0x5b8d0c=_0x510ca6===_0x46097a(0x958)?_0x160913[_0x46097a(0x7d0)]?0x0:0x1:_0x160913['correctAnswerIndex'];_0x3f1440=_0xad05e3[_0x46097a(0x931)]((_0x14f6bf,_0x25bd9e)=>_0x46097a(0x392)+(_0x25bd9e===_0x5b8d0c)+_0x46097a(0x63f)+_0x14f6bf+_0x46097a(0x8ce))[_0x46097a(0x7b1)]('');}else{if(_0x510ca6===_0x46097a(0x357)){const _0xe60eb=_0x160913[_0x46097a(0x15f)]||[];_0x3f1440=_0xe60eb[_0x46097a(0x931)](_0x12c776=>_0x46097a(0x392)+(_0x12c776===_0x160913['correctResponse'])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12c776+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x46097a(0x7b1)]('');}}const _0x453375=_0x160913[_0x46097a(0x36b)]||_0x160913['questionText'],_0xb6bb8f=_0x46097a(0x593)+(_0x1482e4+0x1)+_0x46097a(0x8f8)+_0x3a5c4e+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x453375+_0x46097a(0x10d)+_0x3f1440+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x46097a(0x581)]=_0xb6bb8f,window[_0x46097a(0x1c5)]&&MathJax[_0x46097a(0x2ab)]&&MathJax['typesetPromise']([liveGameView]),document[_0x46097a(0x632)]('reveal-answer-btn')[_0x46097a(0x6a9)](_0x46097a(0x379),()=>revealAnswerForAdmin(_0x1482e4,_0x3a5c4e)),document['getElementById']('end-game-btn')[_0x46097a(0x6a9)](_0x46097a(0x379),async()=>{const _0x2a6e03=_0x46097a;showConfirmation(_0x2a6e03(0x45b),async()=>{const _0x32938c=_0x2a6e03,_0x3aba36=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x3aba36,{'status':_0x32938c(0xd8)});});}),document['getElementById'](_0x46097a(0x5be))['addEventListener']('click',()=>{const _0x1e2902=_0x46097a;document[_0x1e2902(0x632)](_0x1e2902(0xad))[_0x1e2902(0x635)]['toggle'](_0x1e2902(0x99e));});}function showStudentLiveQuestionView(_0x329b3a,_0x5143c1,_0x4ff1dd){const _0x3b0b47=_0x1579df,_0x56bddc=_0x329b3a[_0x3b0b47(0x54a)]||currentQuizData[_0x3b0b47(0x9af)];let _0x133da1='';if(_0x56bddc==='multiple_choice'||_0x56bddc===_0x3b0b47(0x958)){const _0x247117=_0x56bddc===_0x3b0b47(0x958)?[_0x3b0b47(0x282),'ไม่ใช่']:_0x329b3a['options'];_0x133da1=_0x247117['map']((_0x1a79fc,_0x292964)=>_0x3b0b47(0x857)+_0x292964+_0x3b0b47(0x49b)+_0x1a79fc+_0x3b0b47(0x877))[_0x3b0b47(0x7b1)]('');}else{if(_0x56bddc===_0x3b0b47(0x357)){const _0x3619a4=_0x329b3a['allResponses']||[];_0x133da1=_0x3619a4[_0x3b0b47(0x931)]((_0x2525cd,_0x5d23c7)=>_0x3b0b47(0x857)+_0x5d23c7+_0x3b0b47(0x49b)+_0x2525cd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3b0b47(0x7b1)]('');}else _0x56bddc===_0x3b0b47(0x236)&&(_0x133da1=_0x3b0b47(0x43c));}const _0x4a4bc3=_0x329b3a[_0x3b0b47(0x36b)]||_0x329b3a[_0x3b0b47(0x2b6)],_0x5bdaf5=_0x3b0b47(0x2e4)+(_0x5143c1+0x1)+_0x3b0b47(0x8f8)+_0x4ff1dd+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x4a4bc3+_0x3b0b47(0x4d5)+_0x133da1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x5bdaf5;window[_0x3b0b47(0x1c5)]&&MathJax[_0x3b0b47(0x2ab)]&&MathJax[_0x3b0b47(0x2ab)]([liveGameView]);const _0x235cce=document[_0x3b0b47(0x632)](_0x3b0b47(0x6b4));_0x235cce&&_0x235cce[_0x3b0b47(0x6a9)](_0x3b0b47(0x379),()=>{const _0x163e3c=_0x3b0b47,_0xfa6c68=document['getElementById'](_0x163e3c(0x66a))[_0x163e3c(0x3d7)];handleLiveAnswer(_0xfa6c68,_0x329b3a);}),document[_0x3b0b47(0x632)](_0x3b0b47(0x6a1))[_0x3b0b47(0x6a9)](_0x3b0b47(0x379),_0x3468a0=>{const _0x28f81f=_0x3b0b47,_0x17ad5b=_0x3468a0[_0x28f81f(0x51e)][_0x28f81f(0x5ac)](_0x28f81f(0x56f));if(_0x17ad5b){const _0xabd048=parseInt(_0x17ad5b['dataset'][_0x28f81f(0x62f)]);handleLiveAnswer(_0xabd048,_0x329b3a);}});}async function handleLiveAnswer(_0x5c3088,_0x39c0aa){const _0x5398bc=_0x1579df;document[_0x5398bc(0x37d)](_0x5398bc(0x52a))[_0x5398bc(0x2fb)](_0xbde80a=>_0xbde80a[_0x5398bc(0xd7)]=!![]);const _0x127745=_0x39c0aa['questionType']||currentQuizData[_0x5398bc(0x9af)];let _0x5109ac=![],_0x3f4ef7=_0x5c3088;if(_0x127745===_0x5398bc(0x236)){const _0x53bb7a=(_0x5c3088||'')[_0x5398bc(0x994)]();_0x5109ac=await gradeShortAnswer(_0x53bb7a,_0x39c0aa);}else{if(_0x127745===_0x5398bc(0x34f))_0x5109ac=_0x5c3088===_0x39c0aa[_0x5398bc(0x48f)];else{if(_0x127745===_0x5398bc(0x958)){const _0x466e7a=_0x39c0aa[_0x5398bc(0x7d0)];_0x5109ac=_0x5c3088===0x0&&_0x466e7a||_0x5c3088===0x1&&!_0x466e7a;}else{if(_0x127745==='matching_item'){const _0x875cd5=_0x39c0aa[_0x5398bc(0x15f)][_0x5c3088];_0x5109ac=_0x875cd5===_0x39c0aa[_0x5398bc(0x329)],_0x3f4ef7=_0x875cd5;}}}}const _0x4fb132=doc(db,'artifacts/'+appId+_0x5398bc(0x97b),currentLiveGameId),_0x49d84a={};_0x49d84a[_0x5398bc(0x21f)+currentStudentName+_0x5398bc(0x277)]=!![],_0x49d84a['players.'+currentStudentName+'.lastAnswerCorrect']=_0x5109ac,_0x49d84a[_0x5398bc(0x21f)+currentStudentName+_0x5398bc(0x6e5)]=_0x127745===_0x5398bc(0x236)||_0x127745==='matching_item'?null:_0x5c3088,_0x49d84a[_0x5398bc(0x21f)+currentStudentName+_0x5398bc(0x525)]=_0x3f4ef7,_0x49d84a[_0x5398bc(0x21f)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x49d84a[_0x5398bc(0x21f)+currentStudentName+_0x5398bc(0x3c6)]=![],await updateDoc(_0x4fb132,_0x49d84a),liveGameView[_0x5398bc(0x581)]=_0x5398bc(0x1a2);}function showAdminSummaryView(_0x857d5,_0x3360ed){const _0x5c7b6f=_0x1579df,_0x6bc861=Object[_0x5c7b6f(0x373)](_0x857d5['players']||{}),_0x50896=_0x3360ed['questionType']||currentQuizData[_0x5c7b6f(0x9af)],_0x319cc5=_0x50896==='true_false'?['ใช่',_0x5c7b6f(0x8d9)]:_0x3360ed[_0x5c7b6f(0x518)]||_0x3360ed[_0x5c7b6f(0x15f)]||[],_0x80ff58={},_0x290d87=new Array(_0x319cc5['length'])[_0x5c7b6f(0x9b9)](0x0);_0x319cc5[_0x5c7b6f(0x2fb)]((_0x219858,_0x32703f)=>{_0x80ff58[_0x32703f]=[];}),Object[_0x5c7b6f(0x9b6)](_0x857d5[_0x5c7b6f(0x5da)]||{})[_0x5c7b6f(0x2fb)](([_0x442a9d,_0x4b8414])=>{const _0x412dfa=_0x5c7b6f;if(_0x4b8414[_0x412dfa(0x1cf)]==='active'&&_0x4b8414[_0x412dfa(0x466)]!==undefined){const _0x41901d=_0x4b8414[_0x412dfa(0x466)];_0x80ff58[_0x41901d]&&(_0x80ff58[_0x41901d][_0x412dfa(0x995)](_0x442a9d),_0x290d87[_0x41901d]++);}});const _0x212f49=Math[_0x5c7b6f(0x7a0)](..._0x290d87,0x1),_0x2a083b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x3360ed[_0x5c7b6f(0x36b)]||_0x3360ed[_0x5c7b6f(0x2b6)])+_0x5c7b6f(0x533)+_0x290d87['map']((_0x43b3d1,_0x11a1cd)=>{const _0x53e413=_0x5c7b6f,_0x4f0a5c=_0x80ff58[_0x11a1cd][_0x53e413(0x783)]>0x0?_0x80ff58[_0x11a1cd][_0x53e413(0x7b1)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x496780=![];if(_0x50896==='multiple_choice')_0x496780=_0x11a1cd===_0x3360ed[_0x53e413(0x48f)];else{if(_0x50896===_0x53e413(0x958)){const _0x2d6708=_0x3360ed['correctAnswer'];_0x496780=_0x2d6708&&_0x11a1cd===0x0||!_0x2d6708&&_0x11a1cd===0x1;}else _0x50896===_0x53e413(0x357)&&(_0x496780=_0x319cc5[_0x11a1cd]===_0x3360ed[_0x53e413(0x329)]);}const _0x4118af=_0x496780?_0x53e413(0x253):_0x53e413(0x725);return _0x53e413(0x97d)+_0x43b3d1+_0x53e413(0x615)+_0x4118af+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x11a1cd+_0x53e413(0x8fd)+_0x319cc5[_0x11a1cd]+_0x53e413(0x36f)+_0x11a1cd+_0x53e413(0x562)+_0x4f0a5c+_0x53e413(0x1c2);})[_0x5c7b6f(0x7b1)]('')+_0x5c7b6f(0x1e4);liveGameView[_0x5c7b6f(0x581)]=_0x2a083b;if(window[_0x5c7b6f(0x1c5)])MathJax[_0x5c7b6f(0x2ab)]();document[_0x5c7b6f(0x632)](_0x5c7b6f(0x406))['addEventListener'](_0x5c7b6f(0x379),async()=>{const _0x282760=_0x5c7b6f,_0x594af9=doc(db,_0x282760(0x88d)+appId+_0x282760(0x97b),currentLiveGameId);await updateDoc(_0x594af9,{'questionStatus':_0x282760(0x4cb)});}),document[_0x5c7b6f(0x632)]('open-scratchpad-btn')[_0x5c7b6f(0x6a9)](_0x5c7b6f(0x379),()=>{openScratchpad(_0x3360ed,_0x319cc5);});}function showPlayerSummaryView(_0x156ed6,_0x1034ad){const _0x40ab1f=_0x1579df,_0x43bd14=Object['values'](_0x156ed6['players']||{}),_0x34dc27=_0x156ed6[_0x40ab1f(0x5da)][_0x1034ad],_0x1ce3d3=_0x43bd14[_0x40ab1f(0x34b)](_0x1990f0=>_0x1990f0[_0x40ab1f(0x1cf)]===_0x40ab1f(0x6c0))[_0x40ab1f(0x774)]((_0x5ea8a2,_0x1641fd)=>_0x1641fd['score']-_0x5ea8a2[_0x40ab1f(0x948)]),_0x461f84=_0x1ce3d3[_0x40ab1f(0x612)](_0x3d000e=>_0x3d000e===_0x34dc27)+0x1,_0x254a88=_0x34dc27[_0x40ab1f(0x943)]?_0x40ab1f(0x16d):_0x40ab1f(0x211),_0x58db31=_0x34dc27[_0x40ab1f(0x943)]?'bg-green-500':_0x40ab1f(0x423),_0x57f3cd=_0x34dc27[_0x40ab1f(0x326)]||0x0,_0x3618ad=_0x40ab1f(0x3ea),_0x1cfda8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x3618ad+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x58db31+_0x40ab1f(0x754)+_0x254a88+_0x40ab1f(0x831)+_0x57f3cd+_0x40ab1f(0x63b)+(_0x461f84>0x0?_0x461f84:'-')+_0x40ab1f(0x71d);liveGameView[_0x40ab1f(0x581)]=_0x1cfda8;}function createQuizFromBank(){const _0x476fe3=_0x1579df,_0xe23ad5=document[_0x476fe3(0x37d)](_0x476fe3(0x426));if(_0xe23ad5[_0x476fe3(0x783)]===0x0){showMessage(_0x476fe3(0x843));return;}const _0x4d638d=[];_0xe23ad5[_0x476fe3(0x2fb)](_0x3d04ea=>{const _0x1dcbd7=_0x476fe3;_0x4d638d[_0x1dcbd7(0x995)](JSON[_0x1dcbd7(0xf8)](_0x3d04ea['value']));});const _0x57e085={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x4d638d};displayGeneratedQuiz(_0x57e085);}function showAdminLobbyView(_0xffdccf,_0x1cf785){const _0x546cb9=_0x1579df;showView(_0x546cb9(0x233));const _0x121c67=_0x546cb9(0x386)+_0x1cf785+_0x546cb9(0x8fc)+_0xffdccf+_0x546cb9(0x1f7);liveGameView[_0x546cb9(0x581)]=_0x121c67,document[_0x546cb9(0x632)](_0x546cb9(0x66e))[_0x546cb9(0x6a9)](_0x546cb9(0x379),async()=>{const _0x5e236b=_0x546cb9;if(!currentQuizData||!currentQuizData[_0x5e236b(0x88e)]||currentQuizData[_0x5e236b(0x88e)][_0x5e236b(0x783)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x463ede=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x463ede,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x489df0=currentQuizData['questions'][0x0],_0x18d043=currentQuizData[_0x5e236b(0x88e)]['length'];showAdminLiveQuestionView(_0x489df0,0x0,_0x18d043);}catch(_0x53b97f){console[_0x5e236b(0x962)](_0x5e236b(0x132),_0x53b97f),showMessage(_0x5e236b(0x4e2));}});}async function openGlobalLiveModal(){const _0x4bdf41=_0x1579df;if(allQuizzesGlobal[_0x4bdf41(0x783)]===0x0){const _0x1f246d=await getDocs(collection(db,_0x4bdf41(0x88d)+appId+_0x4bdf41(0x207)));allQuizzesGlobal=_0x1f246d[_0x4bdf41(0x6b3)][_0x4bdf41(0x931)](_0x47b089=>({'id':_0x47b089['id'],..._0x47b089[_0x4bdf41(0x844)]()}));}renderGlobalQuizList(''),document['getElementById'](_0x4bdf41(0x856))[_0x4bdf41(0x635)]['remove'](_0x4bdf41(0x99e));}async function openQuizBankModal(){const _0x6d9828=_0x1579df;if(allQuizzesGlobal[_0x6d9828(0x783)]===0x0){const _0x4c1b0a=await getDocs(collection(db,_0x6d9828(0x88d)+appId+_0x6d9828(0x207)));allQuizzesGlobal=_0x4c1b0a[_0x6d9828(0x6b3)][_0x6d9828(0x931)](_0x56a331=>({'id':_0x56a331['id'],..._0x56a331['data']()}));}renderQuizBankList(''),document[_0x6d9828(0x632)](_0x6d9828(0x438))[_0x6d9828(0x635)][_0x6d9828(0x74c)](_0x6d9828(0x99e));}function renderQuizBankList(_0x4a3f33=''){const _0x1f4338=_0x1579df,_0xa05904=document[_0x1f4338(0x632)](_0x1f4338(0x1c7)),_0x5c6a1a=_0x4a3f33[_0x1f4338(0x7f9)]()['trim'](),_0xbd5122=allQuizzesGlobal[_0x1f4338(0x931)](_0x1c8ba9=>({..._0x1c8ba9,'projectName':allProjects[_0x1f4338(0x974)](_0x193c8c=>_0x193c8c['id']===_0x1c8ba9[_0x1f4338(0x80a)])?.[_0x1f4338(0x8cf)]||'N/A'}))[_0x1f4338(0x34b)](_0x59eea5=>(_0x59eea5[_0x1f4338(0x9b2)]||'')[_0x1f4338(0x7f9)]()['includes'](_0x5c6a1a)||(_0x59eea5['projectName']||'')[_0x1f4338(0x7f9)]()[_0x1f4338(0x29b)](_0x5c6a1a)||_0x59eea5['id'][_0x1f4338(0x994)]()['includes'](_0x5c6a1a));document[_0x1f4338(0x632)]('quiz-bank-count')['textContent']='('+_0xbd5122[_0x1f4338(0x783)]+_0x1f4338(0x6c4),_0xa05904[_0x1f4338(0x581)]=_0xbd5122[_0x1f4338(0x783)]?_0xbd5122[_0x1f4338(0x931)](_0x33ccd8=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x33ccd8['id']+_0x1f4338(0x8c4)+(_0x33ccd8[_0x1f4338(0x9b2)]||_0x1f4338(0x45f))+_0x1f4338(0x83e)+(_0x33ccd8[_0x1f4338(0x88e)]?.['length']||0x0)+_0x1f4338(0x8cc)+_0x33ccd8[_0x1f4338(0x8cf)]+_0x1f4338(0x577)+_0x33ccd8['id']+_0x1f4338(0x279)+_0x33ccd8['id']+_0x1f4338(0x32b)+_0x33ccd8['id']+_0x1f4338(0x186)+_0x33ccd8['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x33ccd8['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x33ccd8['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x33ccd8['id']+_0x1f4338(0x136)+_0x33ccd8['topic']+_0x1f4338(0x6c3))[_0x1f4338(0x7b1)](''):_0x1f4338(0x8d8),_0xa05904[_0x1f4338(0x37d)](_0x1f4338(0x886))['forEach'](_0x393cd8=>{const _0x1a3bb3=_0x1f4338;_0x393cd8[_0x1a3bb3(0x6a9)](_0x1a3bb3(0x379),()=>{const _0x5e24f3=_0x1a3bb3,_0x5d1d8f=_0x393cd8['dataset']['id'];document['getElementById'](_0x5e24f3(0x438))[_0x5e24f3(0x635)]['add'](_0x5e24f3(0x99e)),showQuizDetailView(_0x5d1d8f);});}),_0xa05904[_0x1f4338(0x37d)](_0x1f4338(0x648))['forEach'](_0x131786=>{const _0x53cb5f=_0x1f4338;_0x131786[_0x53cb5f(0x6a9)](_0x53cb5f(0x379),_0x3f4015=>{const _0x29bdb5=_0x53cb5f;_0x3f4015[_0x29bdb5(0x476)]();const _0x4d5706=_0x131786[_0x29bdb5(0x6de)]['id'],_0x1c95a8=allQuizzesGlobal[_0x29bdb5(0x974)](_0x53118f=>_0x53118f['id']===_0x4d5706);_0x1c95a8?(currentQuizData=_0x1c95a8,document['getElementById'](_0x29bdb5(0x438))['classList'][_0x29bdb5(0x8c5)](_0x29bdb5(0x99e)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0xa05904[_0x1f4338(0x37d)](_0x1f4338(0x213))[_0x1f4338(0x2fb)](_0x171209=>{const _0x3d9758=_0x1f4338;_0x171209[_0x3d9758(0x6a9)](_0x3d9758(0x379),_0x88af2c=>{const _0x82b077=_0x3d9758;_0x88af2c[_0x82b077(0x476)]();const _0x5170f1=_0x171209[_0x82b077(0x6de)]['id'],_0x2ed58a=allQuizzesGlobal['find'](_0x495c78=>_0x495c78['id']===_0x5170f1);_0x2ed58a?(document[_0x82b077(0x632)](_0x82b077(0x438))['classList'][_0x82b077(0x8c5)](_0x82b077(0x99e)),handleGenerateParallelFromBank(_0x2ed58a)):showMessage(_0x82b077(0x12d));});}),_0xa05904[_0x1f4338(0x37d)](_0x1f4338(0x106))[_0x1f4338(0x2fb)](_0x1d84ed=>{const _0x4fe85f=_0x1f4338;_0x1d84ed[_0x4fe85f(0x6a9)]('click',_0x56741b=>{const _0xeeaa0d=_0x4fe85f;_0x56741b[_0xeeaa0d(0x476)]();const _0x4adcd2=_0x1d84ed[_0xeeaa0d(0x6de)]['id'],_0x1ac341=allQuizzesGlobal[_0xeeaa0d(0x974)](_0x40750c=>_0x40750c['id']===_0x4adcd2);_0x1ac341?(document['getElementById']('quiz-bank-modal')[_0xeeaa0d(0x635)][_0xeeaa0d(0x8c5)]('hidden'),startPresentation(_0x1ac341)):showMessage(_0xeeaa0d(0x12d));});}),_0xa05904[_0x1f4338(0x37d)](_0x1f4338(0x99f))['forEach'](_0x34f0ac=>{const _0x317aa9=_0x1f4338;_0x34f0ac[_0x317aa9(0x6a9)](_0x317aa9(0x379),_0x206269=>{const _0x38dc9d=_0x317aa9;_0x206269[_0x38dc9d(0x476)]();const _0x4d5b95=_0x34f0ac[_0x38dc9d(0x6de)]['id'];document['getElementById'](_0x38dc9d(0x438))[_0x38dc9d(0x635)][_0x38dc9d(0x8c5)](_0x38dc9d(0x99e)),handleMoveQuiz(_0x4d5b95);});}),_0xa05904['querySelectorAll']('.quiz-bank-settings-btn')[_0x1f4338(0x2fb)](_0x2914af=>{const _0x446c5c=_0x1f4338;_0x2914af['addEventListener'](_0x446c5c(0x379),_0x151ece=>{const _0x23486f=_0x446c5c;_0x151ece[_0x23486f(0x476)]();const _0x5ac164=_0x2914af[_0x23486f(0x6de)]['id'];document[_0x23486f(0x632)](_0x23486f(0x438))[_0x23486f(0x635)][_0x23486f(0x8c5)](_0x23486f(0x99e)),handleQuizSettings(_0x5ac164);});}),_0xa05904['querySelectorAll'](_0x1f4338(0x5dc))[_0x1f4338(0x2fb)](_0x38ca0d=>{const _0x33d830=_0x1f4338;_0x38ca0d[_0x33d830(0x6a9)]('click',_0x5eb738=>{const _0x4343cb=_0x33d830;_0x5eb738['stopPropagation']();const _0x3914cb=_0x38ca0d[_0x4343cb(0x6de)]['id'],_0x36fad4=_0x38ca0d[_0x4343cb(0x6de)][_0x4343cb(0x9b2)];showConfirmation(_0x4343cb(0x26a)+_0x36fad4+_0x4343cb(0x938),()=>handleDeleteQuiz(_0x3914cb));});});}async function handleCompareResults(_0xcc015b,_0x350645){const _0x530378=_0x1579df,_0x6d92ac=document[_0x530378(0x632)]('comparison-modal'),_0x44b68e=document[_0x530378(0x632)]('comparison-overall-content'),_0x135772=document['getElementById'](_0x530378(0x538));document['getElementById'](_0x530378(0x320))[_0x530378(0x635)][_0x530378(0x8c5)](_0x530378(0x6c0)),document['getElementById'](_0x530378(0x89a))['classList'][_0x530378(0x74c)](_0x530378(0x6c0)),_0x44b68e['classList']['remove'](_0x530378(0x99e)),_0x135772['classList'][_0x530378(0x8c5)]('hidden'),_0x44b68e['innerHTML']=_0x530378(0x43d),_0x135772['innerHTML']='',_0x6d92ac[_0x530378(0x635)]['remove']('hidden');try{const _0x59cdbf=doc(db,_0x530378(0x88d)+appId+_0x530378(0x207),_0xcc015b),_0x721ba1=await getDoc(_0x59cdbf);if(!_0x721ba1[_0x530378(0x3e1)]())throw new Error(_0x530378(0x2fa));const _0x5c62f2=_0x721ba1[_0x530378(0x844)](),_0x4b3a2b=_0x5c62f2['questions'][_0x530378(0x783)],_0x2966a4=collection(db,_0x530378(0x88d)+appId+_0x530378(0x2c9)+_0x350645+_0x530378(0x367)),_0x4b90c4=collection(db,_0x530378(0x88d)+appId+'/public/data/quizzes/'+_0xcc015b+_0x530378(0x367)),[_0x149d96,_0x32abe6]=await Promise[_0x530378(0x529)]([getDocs(_0x2966a4),getDocs(_0x4b90c4)]),_0x4ec7e6=_0x149d96[_0x530378(0x6b3)]['map'](_0x548228=>_0x548228[_0x530378(0x844)]()),_0x505dcd=_0x32abe6['docs']['map'](_0x15fd1a=>_0x15fd1a[_0x530378(0x844)]()),_0x5b85a4=_0x4ec7e6[_0x530378(0x931)](_0x47c1a3=>_0x47c1a3[_0x530378(0x4f7)]),_0x3daf37=_0x505dcd[_0x530378(0x931)](_0x28e666=>_0x28e666['latestScore']),_0x5c2944=calculateMeanAndStdDev(_0x5b85a4),_0x2d3c38=calculateMeanAndStdDev(_0x3daf37),_0x30770e=_0x5c2944['mean'],_0x421b26=_0x2d3c38[_0x530378(0x728)],_0x2fb2e0=_0x421b26-_0x30770e;let _0x3bf0d8=_0x530378(0xdd)+_0x30770e[_0x530378(0x8b5)](0x2)+_0x530378(0x77f)+_0x421b26[_0x530378(0x8b5)](0x2)+_0x530378(0x35d)+(_0x2fb2e0>=0x0?_0x530378(0x8fe):'bg-red-100')+_0x530378(0x6b0)+(_0x2fb2e0>=0x0?_0x530378(0x264):_0x530378(0x353))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x2fb2e0>=0x0?_0x530378(0x734):_0x530378(0x201))+'\x22>'+(_0x2fb2e0>=0x0?'+':'')+_0x2fb2e0[_0x530378(0x8b5)](0x2)+_0x530378(0x547);_0x44b68e['innerHTML']=_0x3bf0d8;const _0x27253c=document[_0x530378(0x632)]('comparison-chart')[_0x530378(0x1b9)]('2d');if(chartInstances[_0x530378(0x7e6)])chartInstances[_0x530378(0x7e6)][_0x530378(0x2df)]();chartInstances['comparison']=new Chart(_0x27253c,{'type':'bar','data':{'labels':[_0x530378(0x40d)],'datasets':[{'label':_0x530378(0x563),'data':[_0x30770e],'backgroundColor':_0x530378(0x64c)},{'label':'หลังเรียน','data':[_0x421b26],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4b3a2b}}}});const _0x42fe4a=currentProjectData[_0x530378(0x63a)]||[],_0x1e4fdc=_0x42fe4a['map'](_0x1d104c=>{const _0x378a70=_0x530378,_0x3204a9=_0x4ec7e6[_0x378a70(0x974)](_0x47852e=>_0x47852e[_0x378a70(0x6ef)]===_0x1d104c),_0x45bfb1=_0x505dcd['find'](_0x14f49e=>_0x14f49e[_0x378a70(0x6ef)]===_0x1d104c),_0x195551=_0x3204a9?_0x3204a9['latestScore']:null,_0x4da782=_0x45bfb1?_0x45bfb1['latestScore']:null,_0x1307e8=_0x195551!==null&&_0x4da782!==null?_0x4da782-_0x195551:null,_0x3be557=_0x195551!==null?calculateZScore(_0x195551,_0x5c2944[_0x378a70(0x728)],_0x5c2944[_0x378a70(0x623)]):null,_0x16cb9c=_0x4da782!==null?calculateZScore(_0x4da782,_0x2d3c38[_0x378a70(0x728)],_0x2d3c38[_0x378a70(0x623)]):null,_0x549e4e=_0x3be557!==null?calculateTScore(_0x3be557):null,_0x2b8618=_0x16cb9c!==null?calculateTScore(_0x16cb9c):null,_0x30311b=_0x549e4e!==null&&_0x2b8618!==null?_0x2b8618-_0x549e4e:null;return{'name':_0x1d104c,'preScore':_0x195551,'postScore':_0x4da782,'gain':_0x1307e8,'preTScore':_0x549e4e,'postTScore':_0x2b8618,'tGain':_0x30311b};});renderIndividualComparisonTable(_0x1e4fdc,_0x135772);}catch(_0x5f0849){console[_0x530378(0x962)]('Error\x20comparing\x20results:',_0x5f0849),_0x44b68e['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x25f460,_0x54227a){const _0xc67bb8=_0x1579df,_0x39065e=_0x25f460>=_0x54227a/0x2,_0xd79613=_0x39065e?'bg-green-100':'bg-red-100',_0x133b24=_0x39065e?_0xc67bb8(0x94e):_0xc67bb8(0x4f0),_0x48cdf7=_0x39065e?_0xc67bb8(0x1b1):_0xc67bb8(0x353),_0x4788c5=_0x39065e?_0xc67bb8(0x7b5):_0xc67bb8(0x8a3),_0x595d52=_0x39065e?'ยอดเยี่ยม!':_0xc67bb8(0x4e4);let _0xc29391=_0xc67bb8(0x58e)+_0xd79613+_0xc67bb8(0x829)+_0x133b24+_0xc67bb8(0x7a8)+_0x48cdf7+_0xc67bb8(0x53a)+_0x4788c5+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x595d52+_0xc67bb8(0x192);studentResultArea[_0xc67bb8(0x581)]=_0xc29391,studentResultArea['classList'][_0xc67bb8(0x74c)]('hidden'),studentQuizArea[_0xc67bb8(0x635)][_0xc67bb8(0x8c5)](_0xc67bb8(0x99e)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x39065e});}function displayPerfectScoreResult(_0x1e7613,_0x4ade51){const _0x4b2cd9=_0x1579df,_0x350c65=_0x1e7613===_0x4ade51,_0xdf5bf5=_0x350c65?_0x4b2cd9(0x851):'bg-blue-100',_0x35bd48=_0x350c65?_0x4b2cd9(0x418):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x37327e=_0x350c65?_0x4b2cd9(0x343):'text-blue-800',_0x5bc319=_0x350c65?_0x4b2cd9(0x855):_0x4b2cd9(0x172),_0x4ed821=_0x350c65?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x4b2cd9(0x32d);let _0x27ffce=_0x4b2cd9(0x58e)+_0xdf5bf5+_0x4b2cd9(0x829)+_0x35bd48+_0x4b2cd9(0x7a8)+_0x37327e+_0x4b2cd9(0x53a)+_0x5bc319+_0x4b2cd9(0x96a)+_0x4ed821+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x4b2cd9(0x581)]=_0x27ffce,studentResultArea['classList']['remove'](_0x4b2cd9(0x99e)),studentQuizArea[_0x4b2cd9(0x635)][_0x4b2cd9(0x8c5)](_0x4b2cd9(0x99e)),setupResultScreenBackButton({'showRankings':![],'score':_0x1e7613,'totalQuestions':_0x4ade51});}function renderIndividualComparisonTable(_0x3bf477,_0x1ae59c){const _0x102663=_0x1579df;_0x3bf477['sort']((_0x16f5ee,_0x211812)=>(_0x211812[_0x102663(0x490)]??-Infinity)-(_0x16f5ee['tGain']??-Infinity));let _0x73a67f=_0x102663(0x2a1);_0x3bf477[_0x102663(0x783)]===0x0?_0x73a67f+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x3bf477[_0x102663(0x2fb)]((_0x167ed5,_0x33b7a4)=>{const _0xbb37ff=_0x102663;let _0x491ec3='-',_0x2c8ee0='';if(_0x167ed5[_0xbb37ff(0x592)]!==null){const _0x5729af=_0x167ed5[_0xbb37ff(0x592)]>0x0?_0xbb37ff(0x516):_0x167ed5[_0xbb37ff(0x592)]<0x0?'text-red-600':_0xbb37ff(0x199),_0x448ace=_0x167ed5['gain']>0x0?'+':'';_0x491ec3=_0xbb37ff(0x4bf)+_0x5729af+'\x22>'+_0x448ace+_0x167ed5[_0xbb37ff(0x592)]+_0xbb37ff(0x5e3);if(_0x167ed5[_0xbb37ff(0x592)]>0x0)_0x2c8ee0=_0xbb37ff(0x70f);else _0x167ed5[_0xbb37ff(0x592)]<0x0?_0x2c8ee0=_0xbb37ff(0x585):_0x2c8ee0='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x526027='-';if(_0x167ed5[_0xbb37ff(0x490)]!==null){const _0x461293=_0x167ed5[_0xbb37ff(0x490)]>0x0?'text-green-600':_0x167ed5[_0xbb37ff(0x490)]<0x0?'text-red-600':'text-gray-500',_0x498f0d=_0x167ed5['tGain']>0x0?'+':'';_0x526027=_0xbb37ff(0x4bf)+_0x461293+'\x22>'+_0x498f0d+_0x167ed5[_0xbb37ff(0x490)]['toFixed'](0x2)+'</span>';}_0x73a67f+=_0xbb37ff(0x4a6)+(_0x33b7a4+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x167ed5[_0xbb37ff(0x9a5)]+_0xbb37ff(0x695)+(_0x167ed5[_0xbb37ff(0x3d9)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x167ed5[_0xbb37ff(0x890)]??'-')+_0xbb37ff(0x695)+_0x491ec3+_0xbb37ff(0x88a)+_0x2c8ee0+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x167ed5[_0xbb37ff(0x3be)]?.[_0xbb37ff(0x8b5)](0x2)??'-')+_0xbb37ff(0x63e)+(_0x167ed5[_0xbb37ff(0xfe)]?.['toFixed'](0x2)??'-')+_0xbb37ff(0x695)+_0x526027+_0xbb37ff(0x36e);}),_0x73a67f+=_0x102663(0x46c),_0x1ae59c['innerHTML']=_0x73a67f;}function handleRenameQuiz(_0x4aaf44,_0x1327df){const _0x5215d6=_0x1579df;actionTargetId=_0x4aaf44,document['getElementById'](_0x5215d6(0x726))['value']=_0x1327df,renameQuizModal[_0x5215d6(0x635)][_0x5215d6(0x74c)](_0x5215d6(0x99e));}function setupComparisonModalTabs(){const _0x522d7a=_0x1579df,_0x13b132=document[_0x522d7a(0x632)](_0x522d7a(0x320)),_0x32b524=document[_0x522d7a(0x632)](_0x522d7a(0x89a)),_0x583eb9=document[_0x522d7a(0x632)](_0x522d7a(0x947)),_0x125fed=document[_0x522d7a(0x632)]('comparison-individual-content');_0x13b132[_0x522d7a(0x6a9)](_0x522d7a(0x379),()=>{const _0x19ad5a=_0x522d7a;_0x13b132[_0x19ad5a(0x635)]['add'](_0x19ad5a(0x6c0)),_0x32b524[_0x19ad5a(0x635)][_0x19ad5a(0x74c)](_0x19ad5a(0x6c0)),_0x583eb9[_0x19ad5a(0x635)][_0x19ad5a(0x74c)](_0x19ad5a(0x99e)),_0x125fed[_0x19ad5a(0x635)][_0x19ad5a(0x8c5)](_0x19ad5a(0x99e));}),_0x32b524[_0x522d7a(0x6a9)](_0x522d7a(0x379),()=>{const _0x407f48=_0x522d7a;_0x32b524[_0x407f48(0x635)][_0x407f48(0x8c5)](_0x407f48(0x6c0)),_0x13b132[_0x407f48(0x635)][_0x407f48(0x74c)](_0x407f48(0x6c0)),_0x125fed['classList'][_0x407f48(0x74c)](_0x407f48(0x99e)),_0x583eb9[_0x407f48(0x635)][_0x407f48(0x8c5)](_0x407f48(0x99e));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x4ab78b=''){const _0x445ecb=_0x1579df,_0x3c4c99=document[_0x445ecb(0x632)](_0x445ecb(0x3e2)),_0x431d7d=_0x4ab78b[_0x445ecb(0x7f9)]()[_0x445ecb(0x3d4)](),_0x522c4c=allQuizzesGlobal['map'](_0x2072e6=>({..._0x2072e6,'projectName':allProjects[_0x445ecb(0x974)](_0x596c44=>_0x596c44['id']===_0x2072e6[_0x445ecb(0x80a)])?.[_0x445ecb(0x8cf)]||_0x2072e6[_0x445ecb(0x80a)]}))[_0x445ecb(0x34b)](_0x8a85b0=>(_0x8a85b0[_0x445ecb(0x9b2)]||'')[_0x445ecb(0x7f9)]()[_0x445ecb(0x29b)](_0x431d7d)||(_0x8a85b0[_0x445ecb(0x8cf)]||'')['toLowerCase']()[_0x445ecb(0x29b)](_0x431d7d));document[_0x445ecb(0x632)]('global-live-game-count')['textContent']='('+_0x522c4c[_0x445ecb(0x783)]+_0x445ecb(0x6c4),_0x3c4c99[_0x445ecb(0x581)]=_0x522c4c[_0x445ecb(0x783)]?_0x522c4c[_0x445ecb(0x931)](_0x16eaac=>_0x445ecb(0x191)+_0x16eaac['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x16eaac[_0x445ecb(0x9b2)]||_0x445ecb(0x45f))+_0x445ecb(0xfa)+(_0x16eaac[_0x445ecb(0x88e)]?.['length']||0x0)+_0x445ecb(0x5d7)+_0x16eaac[_0x445ecb(0x8cf)]+_0x445ecb(0x4dd))[_0x445ecb(0x7b1)](''):_0x445ecb(0x2fd),selectedGlobalQuizId=null,document[_0x445ecb(0x632)](_0x445ecb(0x23a))[_0x445ecb(0xd7)]=!![],_0x3c4c99[_0x445ecb(0x37d)](_0x445ecb(0x77c))[_0x445ecb(0x2fb)](_0x44ccf7=>{const _0x4b09b2=_0x445ecb;_0x44ccf7[_0x4b09b2(0x6a9)](_0x4b09b2(0x379),()=>{const _0x5707ed=_0x4b09b2;selectedGlobalQuizId=_0x44ccf7['dataset']['id'],_0x3c4c99['querySelectorAll'](_0x5707ed(0x5ee))[_0x5707ed(0x2fb)](_0x5a59fe=>_0x5a59fe[_0x5707ed(0x635)][_0x5707ed(0x74c)](_0x5707ed(0x1bb),'ring-2',_0x5707ed(0x598))),_0x44ccf7['classList'][_0x5707ed(0x8c5)](_0x5707ed(0x1bb),_0x5707ed(0x54e),_0x5707ed(0x598)),document['getElementById']('confirm-global-live-btn')[_0x5707ed(0xd7)]=![];});});}function listenForLiveGameUpdates(){const _0x2101af=_0x1579df;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2f235=doc(db,_0x2101af(0x88d)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2f235,_0xe4c01c=>{const _0x46ae78=_0x2101af;if(!_0xe4c01c[_0x46ae78(0x3e1)]()){showMessage(_0x46ae78(0x560)),showView(currentMode);return;}const _0x365424=_0xe4c01c['data']();_0x365424[_0x46ae78(0x55e)]&&(currentQuizData=_0x365424[_0x46ae78(0x55e)]);!currentQuizData&&_0x365424[_0x46ae78(0x59c)]&&((async()=>{const _0x47ccdc=_0x46ae78;try{const _0x4633ae=doc(db,_0x47ccdc(0x88d)+appId+'/public/data/quizzes',_0x365424[_0x47ccdc(0x59c)]),_0x260865=await getDoc(_0x4633ae);_0x260865['exists']()&&(currentQuizData={'id':_0x260865['id'],..._0x260865[_0x47ccdc(0x844)]()});}catch(_0x5a9e74){console['error'](_0x47ccdc(0x2a4),_0x5a9e74);}})());switch(_0x365424['status']){case _0x46ae78(0x6a8):if(currentMode===_0x46ae78(0x935)){const _0xeb96dd=_0x365424[_0x46ae78(0x5da)]?Object[_0x46ae78(0x9b6)](_0x365424['players']):[],_0x26d30c=_0xeb96dd[_0x46ae78(0x34b)](([_0x1dbf33,_0x364f57])=>_0x364f57[_0x46ae78(0x1cf)]===_0x46ae78(0x6c0)),_0x34d38b=document[_0x46ae78(0x632)](_0x46ae78(0x5e5));if(_0x34d38b)_0x34d38b[_0x46ae78(0xf3)]=_0x26d30c['length'];const _0xf9005e=document[_0x46ae78(0x632)](_0x46ae78(0x385));_0xf9005e&&(_0xf9005e[_0x46ae78(0x581)]=_0x26d30c[_0x46ae78(0x931)](([_0x1b3083,_0x49beb8])=>_0x46ae78(0x960)+_0x1b3083+_0x46ae78(0x971)+_0x1b3083+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x46ae78(0x7b1)](''));const _0x4523e0=document[_0x46ae78(0x632)](_0x46ae78(0x66e));_0x4523e0&&(_0x4523e0[_0x46ae78(0xd7)]=_0x26d30c[_0x46ae78(0x783)]===0x0);}else showView(_0x46ae78(0x233)),liveGameView[_0x46ae78(0x581)]=_0x46ae78(0x1ea)+currentStudentName+_0x46ae78(0x53f);break;case _0x46ae78(0x3d1):const _0x39f072=_0x365424[_0x46ae78(0x2ef)];if(currentQuizData&&currentQuizData['questions'][_0x39f072]){const _0x5cc883=currentQuizData['questions'][_0x39f072],_0x242de9=_0x365424['questionStatus']||_0x46ae78(0x608);switch(_0x242de9){case _0x46ae78(0x8c0):currentMode==='admin'?showAdminSummaryView(_0x365424,_0x5cc883):showPlayerSummaryView(_0x365424,currentStudentName);break;case _0x46ae78(0x4cb):currentMode===_0x46ae78(0x935)&&showTop5LeaderboardView(_0x365424);break;case _0x46ae78(0x608):default:if(currentMode===_0x46ae78(0x935)){const _0x1fafae=writeBatch(db);let _0x5ba769=![];Object['entries'](_0x365424['players'])[_0x46ae78(0x2fb)](([_0x56b772,_0x3c20bf])=>{const _0x4b33d4=_0x46ae78;if(_0x3c20bf[_0x4b33d4(0x1cf)]===_0x4b33d4(0x6c0)&&_0x3c20bf[_0x4b33d4(0x10c)]&&!_0x3c20bf[_0x4b33d4(0x6a6)]){_0x5ba769=!![];const _0x4da33f=_0x3c20bf[_0x4b33d4(0x10c)][_0x4b33d4(0x431)]()-_0x365424[_0x4b33d4(0x894)][_0x4b33d4(0x431)]();let _0x258e9c=0x0;if(_0x3c20bf['lastAnswerCorrect']){const _0x534546=0x3e8,_0x17f222=0x1f4,_0x447060=0x4e20;let _0x47d0b1=_0x4da33f/_0x447060;if(_0x47d0b1>0x1)_0x47d0b1=0x1;const _0x57de30=Math[_0x4b33d4(0x878)](_0x47d0b1*_0x17f222);_0x258e9c=_0x534546-_0x57de30;}const _0x21a474=doc(db,_0x4b33d4(0x88d)+appId+'/public/data/liveGames',currentLiveGameId);_0x1fafae[_0x4b33d4(0x283)](_0x21a474,{['players.'+_0x56b772+'.score']:increment(_0x258e9c),[_0x4b33d4(0x21f)+_0x56b772+_0x4b33d4(0x87e)]:_0x258e9c,[_0x4b33d4(0x21f)+_0x56b772+'.isScored']:!![]});}});_0x5ba769&&_0x1fafae[_0x46ae78(0x196)]()[_0x46ae78(0x1f3)](_0x3e53cb=>console[_0x46ae78(0x962)](_0x46ae78(0x408),_0x3e53cb));lastRenderedAdminQuestionIndex!==_0x39f072&&(showAdminLiveQuestionView(_0x5cc883,_0x39f072,currentQuizData['questions'][_0x46ae78(0x783)]),lastRenderedAdminQuestionIndex=_0x39f072);const _0x1797e1=_0x365424[_0x46ae78(0x5da)]||{},_0x22159c=Object[_0x46ae78(0x373)](_0x1797e1)[_0x46ae78(0x34b)](_0x298204=>_0x298204[_0x46ae78(0x1cf)]===_0x46ae78(0x6c0)),_0x53ed8e=_0x22159c['length'],_0x1d8e82=_0x22159c['filter'](_0x422547=>_0x422547[_0x46ae78(0x5b1)]===!![])[_0x46ae78(0x783)],_0x6c403d=document[_0x46ae78(0x632)]('answer-counter');if(_0x6c403d)_0x6c403d[_0x46ae78(0xf3)]=_0x1d8e82+'/'+_0x53ed8e;const _0x259cc4=document[_0x46ae78(0x632)](_0x46ae78(0x918));if(_0x259cc4){let _0x5974d8=Object[_0x46ae78(0x9b6)](_0x1797e1)[_0x46ae78(0x34b)](([_0xaa6b68,_0x10ed6b])=>_0x10ed6b['status']===_0x46ae78(0x6c0))['map'](([_0x5e1876,_0x2daa86])=>{const _0x4317d0=_0x46ae78,_0x310582=_0x2daa86[_0x4317d0(0x5b1)]===!![],_0x329136=_0x310582?'bg-green-500':_0x4317d0(0x3b2),_0x3f21ff=_0x310582?_0x4317d0(0x76e):_0x4317d0(0x66f);return _0x4317d0(0x83b)+_0x329136+_0x4317d0(0x243)+_0x3f21ff+_0x4317d0(0x43f)+_0x5e1876+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x5e1876+_0x4317d0(0x4d3);})['join']('');_0x259cc4[_0x46ae78(0x581)]=_0x5974d8||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x53ed8e>0x0&&_0x1d8e82===_0x53ed8e&&revealAnswerForAdmin(_0x39f072,currentQuizData[_0x46ae78(0x88e)][_0x46ae78(0x783)]);}else{const _0x355005=_0x365424['players'][currentStudentName];_0x355005&&!_0x355005[_0x46ae78(0x5b1)]&&showStudentLiveQuestionView(_0x5cc883,_0x39f072,currentQuizData[_0x46ae78(0x88e)]['length']);}break;}}break;case'podium':showPodiumView(_0x365424[_0x46ae78(0x5da)]);break;}});}async function handleKickPlayer(_0x13ea84){const _0xdab0f1=_0x1579df;if(!currentLiveGameId||!_0x13ea84)return;const _0x5cf8f8=doc(db,_0xdab0f1(0x88d)+appId+'/public/data/liveGames',currentLiveGameId),_0x46f2d0={};_0x46f2d0[_0xdab0f1(0x21f)+_0x13ea84+_0xdab0f1(0x65d)]=_0xdab0f1(0x29f);try{await updateDoc(_0x5cf8f8,_0x46f2d0);}catch(_0x384cc5){console[_0xdab0f1(0x962)](_0xdab0f1(0xb8)+_0x13ea84+':',_0x384cc5),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x10e38e=_0x1579df;try{typeof __initial_auth_token!==_0x10e38e(0x90e)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x4b8757){console[_0x10e38e(0x962)](_0x10e38e(0x2be),_0x4b8757),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x4b7141){const _0x3fdd5a=_0x1579df;adminView[_0x3fdd5a(0x635)][_0x3fdd5a(0x8c5)](_0x3fdd5a(0x99e)),studentView[_0x3fdd5a(0x635)]['add'](_0x3fdd5a(0x99e)),projectDashboardView[_0x3fdd5a(0x635)][_0x3fdd5a(0x8c5)]('hidden'),projectDetailView['classList'][_0x3fdd5a(0x8c5)]('hidden'),quizResultsView[_0x3fdd5a(0x635)]['add'](_0x3fdd5a(0x99e)),liveGameView[_0x3fdd5a(0x635)][_0x3fdd5a(0x8c5)]('hidden'),studentInitialView[_0x3fdd5a(0x635)][_0x3fdd5a(0x8c5)](_0x3fdd5a(0x99e)),studentJoinGameView[_0x3fdd5a(0x635)]['add'](_0x3fdd5a(0x99e)),studentNameSelectionView[_0x3fdd5a(0x635)]['add'](_0x3fdd5a(0x99e)),studentQuizArea[_0x3fdd5a(0x635)][_0x3fdd5a(0x8c5)](_0x3fdd5a(0x99e)),studentResultArea[_0x3fdd5a(0x635)][_0x3fdd5a(0x8c5)](_0x3fdd5a(0x99e)),studentReadingArea['classList']['add'](_0x3fdd5a(0x99e));const _0x5938f4=document[_0x3fdd5a(0x632)]('student-team-selection-view'),_0x45e143=document[_0x3fdd5a(0x632)]('student-progress-view');if(_0x5938f4)_0x5938f4['classList'][_0x3fdd5a(0x8c5)]('hidden');if(_0x45e143)_0x45e143[_0x3fdd5a(0x635)]['add'](_0x3fdd5a(0x99e));switch(_0x4b7141){case _0x3fdd5a(0x7ae):adminView[_0x3fdd5a(0x635)][_0x3fdd5a(0x74c)](_0x3fdd5a(0x99e)),projectDashboardView['classList'][_0x3fdd5a(0x74c)](_0x3fdd5a(0x99e));break;case'project-detail':adminView[_0x3fdd5a(0x635)][_0x3fdd5a(0x74c)](_0x3fdd5a(0x99e)),projectDetailView['classList']['remove']('hidden');break;case _0x3fdd5a(0x85f):adminView[_0x3fdd5a(0x635)][_0x3fdd5a(0x74c)](_0x3fdd5a(0x99e)),quizResultsView[_0x3fdd5a(0x635)][_0x3fdd5a(0x74c)](_0x3fdd5a(0x99e));break;case _0x3fdd5a(0x1d7):studentView[_0x3fdd5a(0x635)][_0x3fdd5a(0x74c)](_0x3fdd5a(0x99e)),studentInitialView['classList'][_0x3fdd5a(0x74c)]('hidden');break;case'live-game':liveGameView[_0x3fdd5a(0x635)][_0x3fdd5a(0x74c)](_0x3fdd5a(0x99e));break;case'student-team-join':studentView[_0x3fdd5a(0x635)][_0x3fdd5a(0x74c)]('hidden');if(_0x5938f4)_0x5938f4[_0x3fdd5a(0x635)][_0x3fdd5a(0x74c)](_0x3fdd5a(0x99e));break;case _0x3fdd5a(0x676):studentView[_0x3fdd5a(0x635)][_0x3fdd5a(0x74c)](_0x3fdd5a(0x99e));if(_0x45e143)_0x45e143[_0x3fdd5a(0x635)]['remove'](_0x3fdd5a(0x99e));break;default:studentView[_0x3fdd5a(0x635)][_0x3fdd5a(0x74c)](_0x3fdd5a(0x99e)),studentInitialView[_0x3fdd5a(0x635)][_0x3fdd5a(0x74c)](_0x3fdd5a(0x99e));break;}}function showJoinGameView(){const _0x2905c7=_0x1579df;studentInitialView[_0x2905c7(0x635)][_0x2905c7(0x8c5)]('hidden'),studentJoinGameView['classList'][_0x2905c7(0x74c)](_0x2905c7(0x99e));}async function handleSaveVisibilitySettings(){const _0x3adfa7=_0x1579df;if(!currentProjectId)return;const _0x25319a=doc(db,_0x3adfa7(0x88d)+appId+_0x3adfa7(0x18f),currentProjectId);try{await updateDoc(_0x25319a,{'settings.showInStudentDashboard':document[_0x3adfa7(0x632)]('show-in-student-dashboard-checkbox')[_0x3adfa7(0x37c)],'settings.isPasscodeEnabled':document[_0x3adfa7(0x632)](_0x3adfa7(0x71c))[_0x3adfa7(0x37c)],'settings.passcode':document['getElementById'](_0x3adfa7(0x268))[_0x3adfa7(0x3d7)]['trim']()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x314924){console['error'](_0x3adfa7(0x744),_0x314924),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x1e3410=_0x1579df,_0x585ace=document[_0x1e3410(0x632)](_0x1e3410(0x30f)),_0x14e630=document['getElementById']('cancel-game-start-btn');_0x14e630[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0x5247ce=_0x1e3410;document[_0x5247ce(0x632)]('confirm-game-start-modal')[_0x5247ce(0x635)]['add'](_0x5247ce(0x99e));}),_0x585ace['addEventListener'](_0x1e3410(0x379),()=>{const _0x3bc2e0=_0x1e3410,_0x466a5e=document[_0x3bc2e0(0x632)]('game-start-quiz-id')[_0x3bc2e0(0x3d7)],_0x239379=document[_0x3bc2e0(0x632)]('game-start-mode')['value'],_0x40ccfe=document['getElementById'](_0x3bc2e0(0x7c9))[_0x3bc2e0(0x37c)];document[_0x3bc2e0(0x632)](_0x3bc2e0(0x226))[_0x3bc2e0(0x635)][_0x3bc2e0(0x8c5)](_0x3bc2e0(0x99e));switch(_0x239379){case _0x3bc2e0(0x238):handleStartLiveRace(_0x466a5e,_0x40ccfe);break;case _0x3bc2e0(0x2bc):handleStartTeamQuiz(_0x466a5e,_0x40ccfe);break;case _0x3bc2e0(0x26c):handleStartGroupMode(_0x466a5e,_0x40ccfe);break;case _0x3bc2e0(0x5c4):handleStartSyncMode(_0x466a5e,_0x40ccfe);break;}}),document[_0x1e3410(0x632)](_0x1e3410(0x2ee))[_0x1e3410(0x6a9)](_0x1e3410(0x379),handleJoinGroupActivity);const _0x3f6cb0=document['getElementById'](_0x1e3410(0x3a7));_0x3f6cb0[_0x1e3410(0x6a9)](_0x1e3410(0x379),_0x46dc23=>{const _0x5c4b74=_0x1e3410,_0x1bba75=_0x46dc23[_0x5c4b74(0x51e)][_0x5c4b74(0x5ac)](_0x5c4b74(0x3b3));document[_0x5c4b74(0x37d)](_0x5c4b74(0x963))[_0x5c4b74(0x2fb)](_0x211baf=>{const _0x33ce4a=_0x5c4b74;(!_0x1bba75||_0x211baf['id']!==_0x1bba75[_0x33ce4a(0x6de)][_0x33ce4a(0x5a4)])&&_0x211baf['classList'][_0x33ce4a(0x74c)](_0x33ce4a(0x35a));});if(!_0x1bba75)return;const _0x19aa75=_0x1bba75[_0x5c4b74(0x6de)][_0x5c4b74(0x5a4)],_0x3ef962=document[_0x5c4b74(0x632)](_0x19aa75);_0x3ef962&&_0x3ef962[_0x5c4b74(0x635)][_0x5c4b74(0x535)](_0x5c4b74(0x35a));}),_0x3f6cb0[_0x1e3410(0x6a9)](_0x1e3410(0x379),_0x30d992=>{const _0x49a47e=_0x1e3410;if(_0x30d992[_0x49a47e(0x51e)][_0x49a47e(0x635)][_0x49a47e(0x10f)]('kick-player-btn')){const _0x2eed75=_0x30d992[_0x49a47e(0x51e)]['dataset']['playerName'];_0x2eed75&&handleKickPlayer(_0x2eed75);}}),document['getElementById']('project-title')['addEventListener'](_0x1e3410(0x41c),()=>document[_0x1e3410(0x632)](_0x1e3410(0x2f3))[_0x1e3410(0x635)][_0x1e3410(0x74c)](_0x1e3410(0x99e))),document[_0x1e3410(0x632)]('save-project-name-btn')[_0x1e3410(0x6a9)]('click',handleSaveProjectName),document['getElementById'](_0x1e3410(0x8b4))['addEventListener']('keydown',_0x252e07=>{const _0x39c390=_0x1e3410;_0x252e07[_0x39c390(0x345)]===_0x39c390(0x420)&&(_0x252e07[_0x39c390(0x93c)](),_0x252e07[_0x39c390(0x51e)][_0x39c390(0x2d3)](),handleSaveProjectName());}),document['getElementById'](_0x1e3410(0x5ce))['addEventListener'](_0x1e3410(0x379),()=>{const _0x18b11f=_0x1e3410;document[_0x18b11f(0x632)](_0x18b11f(0x619))['classList'][_0x18b11f(0x74c)]('hidden');}),document[_0x1e3410(0x632)](_0x1e3410(0x2c1))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0xaea0e1=_0x1e3410;document['getElementById'](_0xaea0e1(0x619))[_0xaea0e1(0x635)][_0xaea0e1(0x8c5)](_0xaea0e1(0x99e));}),document[_0x1e3410(0x632)](_0x1e3410(0x142))[_0x1e3410(0x6a9)](_0x1e3410(0x379),handleBulkUpdateQuizSettings),document[_0x1e3410(0x632)](_0x1e3410(0x325))['addEventListener'](_0x1e3410(0x379),handleModeSwitch),document[_0x1e3410(0x632)](_0x1e3410(0x737))['addEventListener'](_0x1e3410(0x379),handleUpdateOldQuizzes),document[_0x1e3410(0x632)](_0x1e3410(0x633))['addEventListener'](_0x1e3410(0x379),handleResetProjectOrder),document[_0x1e3410(0x632)](_0x1e3410(0x205))[_0x1e3410(0x6a9)](_0x1e3410(0x379),handleSaveVisibilitySettings),document[_0x1e3410(0x632)](_0x1e3410(0x417))[_0x1e3410(0x6a9)](_0x1e3410(0x379),handleAddCustomMathTopic),document['getElementById'](_0x1e3410(0x920))[_0x1e3410(0x6a9)](_0x1e3410(0x379),handleSelectAllTopics),document[_0x1e3410(0x632)](_0x1e3410(0x73e))[_0x1e3410(0x6a9)]('click',handleDeselectAllTopics),document['getElementById'](_0x1e3410(0x14f))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document[_0x1e3410(0x632)](_0x1e3410(0x116))['addEventListener'](_0x1e3410(0x379),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document[_0x1e3410(0x632)](_0x1e3410(0x8f5))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{showView('admin-dashboard');}),document[_0x1e3410(0x632)](_0x1e3410(0x9b3))['addEventListener'](_0x1e3410(0x379),()=>{const _0x598956=_0x1e3410;messageModal[_0x598956(0x635)][_0x598956(0x8c5)](_0x598956(0x99e)),typeof modalConfirmAction===_0x598956(0x9ba)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x1e3410(0x632)](_0x1e3410(0x558))[_0x1e3410(0x6a9)]('click',()=>createProjectModal['classList']['remove'](_0x1e3410(0x99e))),document[_0x1e3410(0x632)]('cancel-create-project-btn')[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>createProjectModal[_0x1e3410(0x635)][_0x1e3410(0x8c5)]('hidden')),document['getElementById'](_0x1e3410(0x753))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>adminPasswordModal[_0x1e3410(0x635)]['add'](_0x1e3410(0x99e))),document[_0x1e3410(0x632)](_0x1e3410(0x1d6))['addEventListener']('click',handleAdminLogin),document['getElementById']('admin-password-input')['addEventListener']('keyup',_0x14df52=>{const _0xcdca1a=_0x1e3410;if(_0x14df52[_0xcdca1a(0x345)]===_0xcdca1a(0x420))handleAdminLogin();}),document[_0x1e3410(0x632)](_0x1e3410(0x6b9))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0xa86d93=_0x1e3410;confirmationModal[_0xa86d93(0x635)][_0xa86d93(0x8c5)]('hidden'),confirmAction=null;}),document[_0x1e3410(0x632)](_0x1e3410(0x63d))['addEventListener']('click',()=>{const _0x2bdef2=_0x1e3410;confirmAction&&confirmAction(),confirmationModal[_0x2bdef2(0x635)][_0x2bdef2(0x8c5)](_0x2bdef2(0x99e)),confirmAction=null;}),document[_0x1e3410(0x632)]('cancel-rename-quiz-btn')[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>renameQuizModal[_0x1e3410(0x635)][_0x1e3410(0x8c5)](_0x1e3410(0x99e))),document['getElementById'](_0x1e3410(0x10b))['addEventListener']('click',confirmRenameQuiz),document[_0x1e3410(0x632)](_0x1e3410(0x11b))['addEventListener'](_0x1e3410(0x379),()=>moveQuizModal[_0x1e3410(0x635)][_0x1e3410(0x8c5)](_0x1e3410(0x99e))),document['getElementById'](_0x1e3410(0x8dd))[_0x1e3410(0x6a9)](_0x1e3410(0x379),confirmMoveQuiz),document[_0x1e3410(0x632)](_0x1e3410(0x40f))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>quizSettingsModal[_0x1e3410(0x635)][_0x1e3410(0x8c5)](_0x1e3410(0x99e))),document[_0x1e3410(0x632)](_0x1e3410(0x303))[_0x1e3410(0x6a9)](_0x1e3410(0x379),confirmQuizSettings),document[_0x1e3410(0x632)](_0x1e3410(0x951))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>quizStatusModal[_0x1e3410(0x635)]['add'](_0x1e3410(0x99e))),document[_0x1e3410(0x632)](_0x1e3410(0x315))['addEventListener'](_0x1e3410(0x379),confirmQuizStatus);const _0x456e57=document[_0x1e3410(0x632)](_0x1e3410(0x981));document['getElementById'](_0x1e3410(0x2c0))[_0x1e3410(0x6a9)]('click',()=>{const _0x2c3298=_0x1e3410;_0x456e57[_0x2c3298(0x635)][_0x2c3298(0x8c5)]('hidden');}),document[_0x1e3410(0x632)](_0x1e3410(0x35f))[_0x1e3410(0x6a9)]('click',async()=>{const _0x926342=_0x1e3410,_0xc71825=allQuizzes[_0x926342(0x974)](_0x49c5b0=>_0x49c5b0['id']===actionTargetId);_0xc71825?(currentQuizData=_0xc71825,exportQuizAsWorksheetPDF()):showMessage(_0x926342(0x12d)),_0x456e57[_0x926342(0x635)]['add'](_0x926342(0x99e));}),document[_0x1e3410(0x632)](_0x1e3410(0xdf))[_0x1e3410(0x6a9)]('click',async()=>{const _0x5ad999=_0x1e3410,_0x97875a=allQuizzes[_0x5ad999(0x974)](_0x482f4=>_0x482f4['id']===actionTargetId);_0x97875a?(currentQuizData=_0x97875a,exportQuizAsTutorPDF()):showMessage(_0x5ad999(0x12d)),_0x456e57[_0x5ad999(0x635)][_0x5ad999(0x8c5)](_0x5ad999(0x99e));}),document[_0x1e3410(0x632)]('open-global-live-btn')['addEventListener'](_0x1e3410(0x379),openGlobalLiveModal),document[_0x1e3410(0x632)](_0x1e3410(0x8e0))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0x56e099=_0x1e3410;document[_0x56e099(0x632)](_0x56e099(0x856))[_0x56e099(0x635)][_0x56e099(0x8c5)](_0x56e099(0x99e)),selectedGlobalQuizId=null;}),document[_0x1e3410(0x632)](_0x1e3410(0x404))['addEventListener'](_0x1e3410(0x8bf),_0x203829=>renderGlobalQuizList(_0x203829[_0x1e3410(0x51e)][_0x1e3410(0x3d7)])),document[_0x1e3410(0x632)](_0x1e3410(0x23a))[_0x1e3410(0x6a9)]('click',()=>{const _0x471fd9=_0x1e3410,_0x13ddf7=selectedGlobalQuizId;if(!_0x13ddf7)return;document[_0x471fd9(0x632)](_0x471fd9(0x856))['classList'][_0x471fd9(0x8c5)](_0x471fd9(0x99e)),handleStartLiveRace(_0x13ddf7);}),document[_0x1e3410(0x632)](_0x1e3410(0x8e3))[_0x1e3410(0x6a9)](_0x1e3410(0x8bf),renderProjects),document[_0x1e3410(0x632)](_0x1e3410(0x6d8))[_0x1e3410(0x6a9)](_0x1e3410(0x40e),async()=>{const _0x48bdbd=_0x1e3410,_0x4f55f7=document[_0x48bdbd(0x632)](_0x48bdbd(0x6d8))[_0x48bdbd(0x3d7)],_0x4942fb=doc(db,_0x48bdbd(0x5c3),_0x48bdbd(0x6e8));try{await setDoc(_0x4942fb,{'projectSort':_0x4f55f7},{'merge':!![]});}catch(_0x54e164){console[_0x48bdbd(0x962)](_0x48bdbd(0x836),_0x54e164),showMessage(_0x48bdbd(0x446));}}),document[_0x1e3410(0x632)](_0x1e3410(0x7c5))[_0x1e3410(0x6a9)](_0x1e3410(0x8bf),renderQuizzes),document[_0x1e3410(0x632)](_0x1e3410(0x25f))['addEventListener'](_0x1e3410(0x379),()=>{const _0x4d7e4c=_0x1e3410;globalDashboardSettings[_0x4d7e4c(0x71e)]=_0x4d7e4c(0x4e9),saveUserPreference(_0x4d7e4c(0x71e),_0x4d7e4c(0x4e9)),renderProjects();}),document[_0x1e3410(0x632)](_0x1e3410(0x16e))['addEventListener'](_0x1e3410(0x379),()=>{const _0x5e41fa=_0x1e3410;globalDashboardSettings[_0x5e41fa(0x71e)]=_0x5e41fa(0x6c8),saveUserPreference('projectView',_0x5e41fa(0x6c8)),renderProjects();}),manageTab[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>switchProjectTab('manage')),resultsTab['addEventListener'](_0x1e3410(0x379),()=>switchProjectTab(_0x1e3410(0x6ab))),leaderboardTab[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>switchProjectTab(_0x1e3410(0x4cb))),document[_0x1e3410(0x632)]('analytics-tab-btn')[_0x1e3410(0x6a9)]('click',()=>switchQuizDetailTab(_0x1e3410(0x96f))),document[_0x1e3410(0x632)]('scores-tab-btn')[_0x1e3410(0x6a9)]('click',()=>switchQuizDetailTab('scores')),document[_0x1e3410(0x632)](_0x1e3410(0x61f))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x1e3410(0x632)](_0x1e3410(0x1b3))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>switchQuizDetailTab('behavior-log')),document['getElementById'](_0x1e3410(0x1fd))[_0x1e3410(0x6a9)](_0x1e3410(0x379),handleAnalyzeClass),generateWorksheetBtn['addEventListener']('click',generateWorksheet);const _0x899d5f=document[_0x1e3410(0x632)](_0x1e3410(0x2a3)),_0x539918=document['getElementById'](_0x1e3410(0x685)),_0x2847ca=document['getElementById'](_0x1e3410(0x3b6)),_0x25e3ea=document['getElementById'](_0x1e3410(0x7ea)),_0x451a8f=document[_0x1e3410(0x632)]('parallel-test-tab'),_0x454187=document[_0x1e3410(0x632)]('parallel-test-input-area');topicTab[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0x3e13d3=_0x1e3410;topicTab['classList'][_0x3e13d3(0x8c5)](_0x3e13d3(0x6c0)),textTab[_0x3e13d3(0x635)][_0x3e13d3(0x74c)](_0x3e13d3(0x6c0)),fileTab[_0x3e13d3(0x635)][_0x3e13d3(0x74c)]('active'),worksheetTab['classList'][_0x3e13d3(0x74c)](_0x3e13d3(0x6c0));if(_0x899d5f)_0x899d5f[_0x3e13d3(0x635)][_0x3e13d3(0x74c)](_0x3e13d3(0x6c0));if(_0x2847ca)_0x2847ca[_0x3e13d3(0x635)][_0x3e13d3(0x74c)](_0x3e13d3(0x6c0));if(_0x451a8f)_0x451a8f[_0x3e13d3(0x635)][_0x3e13d3(0x74c)](_0x3e13d3(0x6c0));topicInputArea[_0x3e13d3(0x635)]['remove']('hidden'),textInputArea[_0x3e13d3(0x635)][_0x3e13d3(0x8c5)]('hidden'),fileInputArea[_0x3e13d3(0x635)][_0x3e13d3(0x8c5)](_0x3e13d3(0x99e)),worksheetInputArea['classList'][_0x3e13d3(0x8c5)](_0x3e13d3(0x99e));if(_0x539918)_0x539918[_0x3e13d3(0x635)]['add'](_0x3e13d3(0x99e));if(_0x25e3ea)_0x25e3ea[_0x3e13d3(0x635)][_0x3e13d3(0x8c5)](_0x3e13d3(0x99e));if(_0x454187)_0x454187['classList'][_0x3e13d3(0x8c5)](_0x3e13d3(0x99e));}),textTab['addEventListener'](_0x1e3410(0x379),()=>{const _0x3d7a09=_0x1e3410;textTab[_0x3d7a09(0x635)][_0x3d7a09(0x8c5)](_0x3d7a09(0x6c0)),topicTab[_0x3d7a09(0x635)][_0x3d7a09(0x74c)](_0x3d7a09(0x6c0)),fileTab[_0x3d7a09(0x635)]['remove']('active'),worksheetTab['classList'][_0x3d7a09(0x74c)](_0x3d7a09(0x6c0));if(_0x899d5f)_0x899d5f[_0x3d7a09(0x635)][_0x3d7a09(0x74c)]('active');if(_0x2847ca)_0x2847ca[_0x3d7a09(0x635)]['remove'](_0x3d7a09(0x6c0));if(_0x451a8f)_0x451a8f[_0x3d7a09(0x635)]['remove'](_0x3d7a09(0x6c0));textInputArea[_0x3d7a09(0x635)][_0x3d7a09(0x74c)](_0x3d7a09(0x99e)),topicInputArea[_0x3d7a09(0x635)][_0x3d7a09(0x8c5)](_0x3d7a09(0x99e)),fileInputArea[_0x3d7a09(0x635)][_0x3d7a09(0x8c5)](_0x3d7a09(0x99e)),worksheetInputArea[_0x3d7a09(0x635)][_0x3d7a09(0x8c5)](_0x3d7a09(0x99e));if(_0x539918)_0x539918[_0x3d7a09(0x635)][_0x3d7a09(0x8c5)]('hidden');if(_0x25e3ea)_0x25e3ea[_0x3d7a09(0x635)][_0x3d7a09(0x8c5)]('hidden');if(_0x454187)_0x454187['classList'][_0x3d7a09(0x8c5)](_0x3d7a09(0x99e));}),fileTab[_0x1e3410(0x6a9)]('click',()=>{const _0x2f97f9=_0x1e3410;fileTab['classList'][_0x2f97f9(0x8c5)](_0x2f97f9(0x6c0)),topicTab[_0x2f97f9(0x635)][_0x2f97f9(0x74c)](_0x2f97f9(0x6c0)),textTab[_0x2f97f9(0x635)][_0x2f97f9(0x74c)]('active'),worksheetTab['classList'][_0x2f97f9(0x74c)]('active');if(_0x899d5f)_0x899d5f[_0x2f97f9(0x635)][_0x2f97f9(0x74c)](_0x2f97f9(0x6c0));if(_0x2847ca)_0x2847ca[_0x2f97f9(0x635)]['remove'](_0x2f97f9(0x6c0));if(_0x451a8f)_0x451a8f[_0x2f97f9(0x635)][_0x2f97f9(0x74c)](_0x2f97f9(0x6c0));fileInputArea[_0x2f97f9(0x635)][_0x2f97f9(0x74c)](_0x2f97f9(0x99e)),topicInputArea[_0x2f97f9(0x635)][_0x2f97f9(0x8c5)](_0x2f97f9(0x99e)),textInputArea['classList'][_0x2f97f9(0x8c5)]('hidden'),worksheetInputArea['classList'][_0x2f97f9(0x8c5)](_0x2f97f9(0x99e));if(_0x539918)_0x539918[_0x2f97f9(0x635)]['add'](_0x2f97f9(0x99e));if(_0x25e3ea)_0x25e3ea['classList'][_0x2f97f9(0x8c5)](_0x2f97f9(0x99e));if(_0x454187)_0x454187[_0x2f97f9(0x635)][_0x2f97f9(0x8c5)]('hidden');}),worksheetTab[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0x3515dc=_0x1e3410;worksheetTab['classList'][_0x3515dc(0x8c5)](_0x3515dc(0x6c0)),topicTab['classList'][_0x3515dc(0x74c)](_0x3515dc(0x6c0)),textTab[_0x3515dc(0x635)][_0x3515dc(0x74c)](_0x3515dc(0x6c0)),fileTab[_0x3515dc(0x635)][_0x3515dc(0x74c)](_0x3515dc(0x6c0));if(_0x899d5f)_0x899d5f[_0x3515dc(0x635)][_0x3515dc(0x74c)](_0x3515dc(0x6c0));if(_0x2847ca)_0x2847ca['classList']['remove'](_0x3515dc(0x6c0));if(_0x451a8f)_0x451a8f[_0x3515dc(0x635)]['remove'](_0x3515dc(0x6c0));worksheetInputArea['classList'][_0x3515dc(0x74c)](_0x3515dc(0x99e)),topicInputArea[_0x3515dc(0x635)]['add'](_0x3515dc(0x99e)),textInputArea[_0x3515dc(0x635)][_0x3515dc(0x8c5)](_0x3515dc(0x99e)),fileInputArea[_0x3515dc(0x635)][_0x3515dc(0x8c5)](_0x3515dc(0x99e));if(_0x539918)_0x539918[_0x3515dc(0x635)][_0x3515dc(0x8c5)]('hidden');if(_0x25e3ea)_0x25e3ea[_0x3515dc(0x635)][_0x3515dc(0x8c5)](_0x3515dc(0x99e));if(_0x454187)_0x454187[_0x3515dc(0x635)][_0x3515dc(0x8c5)](_0x3515dc(0x99e));});const _0x130aa6=document[_0x1e3410(0x632)]('bank-tab'),_0x206433=document[_0x1e3410(0x632)](_0x1e3410(0x487));_0x130aa6&&_0x130aa6[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0x2e6f44=_0x1e3410;topicTab[_0x2e6f44(0x635)][_0x2e6f44(0x74c)]('active'),textTab[_0x2e6f44(0x635)]['remove']('active'),fileTab['classList']['remove'](_0x2e6f44(0x6c0)),worksheetTab[_0x2e6f44(0x635)]['remove']('active');if(_0x899d5f)_0x899d5f[_0x2e6f44(0x635)][_0x2e6f44(0x74c)]('active');if(_0x2847ca)_0x2847ca[_0x2e6f44(0x635)][_0x2e6f44(0x74c)](_0x2e6f44(0x6c0));if(_0x451a8f)_0x451a8f['classList'][_0x2e6f44(0x74c)](_0x2e6f44(0x6c0));_0x130aa6[_0x2e6f44(0x635)][_0x2e6f44(0x8c5)](_0x2e6f44(0x6c0)),topicInputArea[_0x2e6f44(0x635)][_0x2e6f44(0x8c5)](_0x2e6f44(0x99e)),textInputArea['classList'][_0x2e6f44(0x8c5)]('hidden'),fileInputArea[_0x2e6f44(0x635)]['add'](_0x2e6f44(0x99e)),worksheetInputArea[_0x2e6f44(0x635)][_0x2e6f44(0x8c5)](_0x2e6f44(0x99e));if(_0x539918)_0x539918[_0x2e6f44(0x635)]['add'](_0x2e6f44(0x99e));if(_0x25e3ea)_0x25e3ea[_0x2e6f44(0x635)][_0x2e6f44(0x8c5)](_0x2e6f44(0x99e));if(_0x454187)_0x454187['classList'][_0x2e6f44(0x8c5)](_0x2e6f44(0x99e));_0x206433['classList'][_0x2e6f44(0x74c)](_0x2e6f44(0x99e)),displayQuestionBank();});_0x899d5f&&(_0x899d5f[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0xdbab51=_0x1e3410;_0x899d5f[_0xdbab51(0x635)][_0xdbab51(0x8c5)](_0xdbab51(0x6c0)),topicTab[_0xdbab51(0x635)][_0xdbab51(0x74c)](_0xdbab51(0x6c0)),textTab[_0xdbab51(0x635)][_0xdbab51(0x74c)](_0xdbab51(0x6c0)),fileTab[_0xdbab51(0x635)][_0xdbab51(0x74c)](_0xdbab51(0x6c0)),worksheetTab['classList'][_0xdbab51(0x74c)]('active');if(_0x2847ca)_0x2847ca[_0xdbab51(0x635)][_0xdbab51(0x74c)](_0xdbab51(0x6c0));if(_0x451a8f)_0x451a8f[_0xdbab51(0x635)]['remove']('active');_0x539918[_0xdbab51(0x635)]['remove'](_0xdbab51(0x99e)),topicInputArea[_0xdbab51(0x635)][_0xdbab51(0x8c5)](_0xdbab51(0x99e)),textInputArea[_0xdbab51(0x635)][_0xdbab51(0x8c5)](_0xdbab51(0x99e)),fileInputArea[_0xdbab51(0x635)]['add'](_0xdbab51(0x99e)),worksheetInputArea[_0xdbab51(0x635)][_0xdbab51(0x8c5)](_0xdbab51(0x99e));if(_0x25e3ea)_0x25e3ea[_0xdbab51(0x635)][_0xdbab51(0x8c5)]('hidden');if(_0x454187)_0x454187[_0xdbab51(0x635)][_0xdbab51(0x8c5)](_0xdbab51(0x99e));}),document[_0x1e3410(0x632)]('generate-from-link-btn')['addEventListener'](_0x1e3410(0x379),handleGenerateFromLink));_0x2847ca&&_0x2847ca[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0x17907e=_0x1e3410;_0x2847ca[_0x17907e(0x635)][_0x17907e(0x8c5)](_0x17907e(0x6c0)),topicTab['classList']['remove'](_0x17907e(0x6c0)),textTab[_0x17907e(0x635)][_0x17907e(0x74c)](_0x17907e(0x6c0)),fileTab[_0x17907e(0x635)][_0x17907e(0x74c)](_0x17907e(0x6c0)),worksheetTab[_0x17907e(0x635)][_0x17907e(0x74c)](_0x17907e(0x6c0));if(_0x899d5f)_0x899d5f[_0x17907e(0x635)][_0x17907e(0x74c)](_0x17907e(0x6c0));if(_0x130aa6)_0x130aa6[_0x17907e(0x635)]['remove'](_0x17907e(0x6c0));if(_0x451a8f)_0x451a8f[_0x17907e(0x635)][_0x17907e(0x74c)](_0x17907e(0x6c0));_0x25e3ea[_0x17907e(0x635)][_0x17907e(0x74c)](_0x17907e(0x99e)),topicInputArea[_0x17907e(0x635)]['add'](_0x17907e(0x99e)),textInputArea['classList'][_0x17907e(0x8c5)](_0x17907e(0x99e)),fileInputArea[_0x17907e(0x635)][_0x17907e(0x8c5)](_0x17907e(0x99e)),worksheetInputArea[_0x17907e(0x635)][_0x17907e(0x8c5)]('hidden');if(_0x539918)_0x539918[_0x17907e(0x635)][_0x17907e(0x8c5)](_0x17907e(0x99e));if(_0x206433)_0x206433[_0x17907e(0x635)][_0x17907e(0x8c5)](_0x17907e(0x99e));if(_0x454187)_0x454187[_0x17907e(0x635)][_0x17907e(0x8c5)](_0x17907e(0x99e));});_0x451a8f&&_0x451a8f[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0x3eaac8=_0x1e3410;_0x451a8f['classList'][_0x3eaac8(0x8c5)]('active'),topicTab[_0x3eaac8(0x635)][_0x3eaac8(0x74c)](_0x3eaac8(0x6c0)),textTab[_0x3eaac8(0x635)]['remove']('active'),fileTab[_0x3eaac8(0x635)][_0x3eaac8(0x74c)](_0x3eaac8(0x6c0)),worksheetTab[_0x3eaac8(0x635)][_0x3eaac8(0x74c)]('active');if(_0x899d5f)_0x899d5f['classList'][_0x3eaac8(0x74c)](_0x3eaac8(0x6c0));if(_0x2847ca)_0x2847ca[_0x3eaac8(0x635)][_0x3eaac8(0x74c)](_0x3eaac8(0x6c0));if(_0x130aa6)_0x130aa6[_0x3eaac8(0x635)]['remove'](_0x3eaac8(0x6c0));_0x454187[_0x3eaac8(0x635)][_0x3eaac8(0x74c)](_0x3eaac8(0x99e)),topicInputArea[_0x3eaac8(0x635)]['add'](_0x3eaac8(0x99e)),textInputArea[_0x3eaac8(0x635)][_0x3eaac8(0x8c5)]('hidden'),fileInputArea['classList'][_0x3eaac8(0x8c5)](_0x3eaac8(0x99e)),worksheetInputArea[_0x3eaac8(0x635)][_0x3eaac8(0x8c5)](_0x3eaac8(0x99e));if(_0x539918)_0x539918[_0x3eaac8(0x635)][_0x3eaac8(0x8c5)](_0x3eaac8(0x99e));if(_0x25e3ea)_0x25e3ea[_0x3eaac8(0x635)][_0x3eaac8(0x8c5)](_0x3eaac8(0x99e));if(_0x206433)_0x206433['classList'][_0x3eaac8(0x8c5)]('hidden');});const _0x362cf0=document[_0x1e3410(0x632)](_0x1e3410(0x624)),_0x3e4243=document[_0x1e3410(0x632)](_0x1e3410(0x6bd));_0x362cf0&&_0x362cf0[_0x1e3410(0x6a9)]('change',_0x1845cb=>{const _0x31aef2=_0x1e3410;_0x1845cb[_0x31aef2(0x51e)][_0x31aef2(0xf4)]['length']>0x0?_0x3e4243[_0x31aef2(0xd7)]=![]:_0x3e4243['disabled']=!![];});_0x3e4243&&_0x3e4243['addEventListener']('click',handleGenerateFromBlueprint);const _0x3c5580=document['getElementById'](_0x1e3410(0x788)),_0x1d6a3a=document[_0x1e3410(0x632)](_0x1e3410(0x6ee));_0x3c5580&&_0x3c5580[_0x1e3410(0x6a9)]('change',_0x1afd36=>{const _0x310b1f=_0x1e3410;_0x1d6a3a[_0x310b1f(0xd7)]=_0x1afd36['target'][_0x310b1f(0xf4)][_0x310b1f(0x783)]===0x0;});_0x1d6a3a&&_0x1d6a3a[_0x1e3410(0x6a9)](_0x1e3410(0x379),handleGenerateParallelTest);loadQuizBtn[_0x1e3410(0x6a9)](_0x1e3410(0x379),handleLoadQuiz),startQuizBtn['addEventListener']('click',async()=>{const _0x300ccd=_0x1e3410,_0x5d9da5=document[_0x300ccd(0x632)](_0x300ccd(0xc7));currentStudentName=_0x5d9da5['value'];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x19d4b6=currentQuizData['id'],_0x44b7d6=doc(db,_0x300ccd(0x88d)+appId+_0x300ccd(0x2c9)+_0x19d4b6+_0x300ccd(0x367),currentStudentName);await setDoc(_0x44b7d6,{'studentName':currentStudentName,'startedAt':new Date()[_0x300ccd(0x883)](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x314dc8){console[_0x300ccd(0x962)](_0x300ccd(0x1b8),_0x314dc8),showMessage(_0x300ccd(0x6ba));return;}studentNameSelectionView[_0x300ccd(0x635)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1e3410(0x632)](_0x1e3410(0x3c7))[_0x1e3410(0x6a9)]('click',showJoinGameView),document['getElementById'](_0x1e3410(0x76d))[_0x1e3410(0x6a9)]('click',handleJoinLiveGame),document[_0x1e3410(0x632)](_0x1e3410(0x235))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>showView(_0x1e3410(0x1d7)));const _0x48ff2d=()=>{const _0x2d802c=_0x1e3410,_0x433453=document[_0x2d802c(0x632)](_0x2d802c(0x48a))[_0x2d802c(0xf3)][_0x2d802c(0x399)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x2d802c(0x2ca)+(_0x433453||_0x2d802c(0x365));},_0x5e9194=document[_0x1e3410(0x632)](_0x1e3410(0x8be));_0x5e9194&&_0x5e9194[_0x1e3410(0x6a9)](_0x1e3410(0x8bf),_0xea3cc5=>{const _0x14a9f7=_0x1e3410,_0xf080b9=_0xea3cc5[_0x14a9f7(0x51e)][_0x14a9f7(0x3d7)][_0x14a9f7(0x7f9)]()['trim'](),_0x45e204=document['getElementById'](_0x14a9f7(0x124)),_0x541f8e=_0x45e204[_0x14a9f7(0x37d)](_0x14a9f7(0x990));_0x541f8e[_0x14a9f7(0x2fb)](_0x495a07=>{const _0x4991e7=_0x14a9f7;let _0x386555=![];const _0x31d636=_0x495a07[_0x4991e7(0x37d)](_0x4991e7(0x78e));_0x31d636[_0x4991e7(0x2fb)](_0x56f09e=>{const _0x5590f2=_0x4991e7,_0x88211a=_0x56f09e['querySelector'](_0x5590f2(0x114))[_0x5590f2(0xf3)]['toLowerCase']();_0x88211a['includes'](_0xf080b9)?(_0x56f09e[_0x5590f2(0x86d)][_0x5590f2(0x371)]=_0x5590f2(0x87a),_0x386555=!![]):_0x56f09e[_0x5590f2(0x86d)][_0x5590f2(0x371)]=_0x5590f2(0x900);}),_0x386555?_0x495a07[_0x4991e7(0x86d)][_0x4991e7(0x371)]=_0x4991e7(0x7bf):_0x495a07[_0x4991e7(0x86d)][_0x4991e7(0x371)]=_0x4991e7(0x900);});});document[_0x1e3410(0x632)](_0x1e3410(0x901))[_0x1e3410(0x6a9)]('click',()=>exportTableAsImage(_0x1e3410(0x173),_0x48ff2d())),document[_0x1e3410(0x632)](_0x1e3410(0x21d))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>exportTableAsPDF('results-table',_0x48ff2d())),document[_0x1e3410(0x632)](_0x1e3410(0x8a4))[_0x1e3410(0x6a9)]('click',()=>exportTableAsWord(_0x1e3410(0x173),_0x48ff2d())),document['getElementById'](_0x1e3410(0x8ee))['addEventListener'](_0x1e3410(0x379),()=>exportTableAsExcel(_0x1e3410(0x7a7),_0x48ff2d()));const _0x5288ce=()=>{const _0x29d220=_0x1e3410,_0x250549=document[_0x29d220(0x632)]('results-quiz-title')[_0x29d220(0xf3)][_0x29d220(0x399)](/[^a-z0-9]/gi,'_')[_0x29d220(0x7f9)]();return _0x29d220(0x658)+(_0x250549||_0x29d220(0x365));};document[_0x1e3410(0x632)]('export-leaderboard-image-btn')['addEventListener']('click',()=>exportTableAsImage(_0x1e3410(0x36a),_0x5288ce())),document['getElementById'](_0x1e3410(0xb9))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>exportTableAsPDF(_0x1e3410(0x664),_0x5288ce())),document[_0x1e3410(0x632)](_0x1e3410(0x4e7))['addEventListener']('click',()=>exportTableAsWord(_0x1e3410(0x36a),_0x5288ce())),document[_0x1e3410(0x632)](_0x1e3410(0x715))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>exportTableAsExcel(_0x1e3410(0x664),_0x5288ce())),projectQuizzesList[_0x1e3410(0x6a9)]('click',async _0xfa00f9=>{const _0x1bd18d=_0x1e3410,_0x17ac90=_0xfa00f9[_0x1bd18d(0x51e)][_0x1bd18d(0x5ac)](_0x1bd18d(0x5b8)),_0x406a49=_0xfa00f9['target'][_0x1bd18d(0x5ac)](_0x1bd18d(0x15b)),_0x275c21=_0xfa00f9[_0x1bd18d(0x51e)]['closest']('.compare-results-btn'),_0x177037=_0xfa00f9['target'][_0x1bd18d(0x5ac)](_0x1bd18d(0x8d6)),_0xf50737=_0xfa00f9[_0x1bd18d(0x51e)][_0x1bd18d(0x5ac)](_0x1bd18d(0x972)),_0x5ac11e=_0xfa00f9[_0x1bd18d(0x51e)][_0x1bd18d(0x5ac)]('.copy-quiz-id-list-btn'),_0x6cb1e3=_0xfa00f9[_0x1bd18d(0x51e)]['closest'](_0x1bd18d(0x256)),_0x414670=_0xfa00f9[_0x1bd18d(0x51e)]['closest'](_0x1bd18d(0xcd)),_0x571c08=_0xfa00f9[_0x1bd18d(0x51e)][_0x1bd18d(0x5ac)](_0x1bd18d(0x2e2)),_0x505525=_0xfa00f9[_0x1bd18d(0x51e)][_0x1bd18d(0x5ac)]('.rename-quiz-btn'),_0x5dddc6=_0xfa00f9[_0x1bd18d(0x51e)][_0x1bd18d(0x5ac)](_0x1bd18d(0x81f)),_0x524596=_0xfa00f9[_0x1bd18d(0x51e)][_0x1bd18d(0x5ac)](_0x1bd18d(0x402)),_0x133409=_0xfa00f9['target']['closest'](_0x1bd18d(0x735)),_0x5d4b08=_0xfa00f9[_0x1bd18d(0x51e)][_0x1bd18d(0x5ac)](_0x1bd18d(0x76c)),_0x4ac8d9=_0xfa00f9['target'][_0x1bd18d(0x5ac)](_0x1bd18d(0x91c)),_0x434da1=_0xfa00f9[_0x1bd18d(0x51e)][_0x1bd18d(0x5ac)](_0x1bd18d(0x4a7)),_0x1c525b=_0xfa00f9[_0x1bd18d(0x51e)][_0x1bd18d(0x5ac)](_0x1bd18d(0x3d2)),_0x1cd966=_0xfa00f9['target']['closest'](_0x1bd18d(0x8b1)),_0x119438=_0xfa00f9[_0x1bd18d(0x51e)][_0x1bd18d(0x5ac)]('.quiz-status-btn'),_0x204623=_0xfa00f9['target'][_0x1bd18d(0x5ac)](_0x1bd18d(0x2e3)),_0x46e9cc=_0xfa00f9[_0x1bd18d(0x51e)][_0x1bd18d(0x5ac)]('.generate-easy-version-btn'),_0x541f42=_0xfa00f9[_0x1bd18d(0x51e)][_0x1bd18d(0x5ac)](_0x1bd18d(0x44f)),_0x59eb1b=_0xfa00f9[_0x1bd18d(0x51e)]['closest'](_0x1bd18d(0x5fa));if(_0x541f42){const _0x2594ed=_0x541f42[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)],_0x4aef4c=_0x541f42[_0x1bd18d(0x6de)][_0x1bd18d(0x218)],_0x52371f=allQuizzes[_0x1bd18d(0x974)](_0x4985b3=>_0x4985b3['id']===_0x2594ed);_0x52371f&&showGameStartConfirmationModal(_0x2594ed,_0x4aef4c,_0x52371f[_0x1bd18d(0x9b2)]);}else{if(_0x59eb1b){const _0x54f059=_0x59eb1b[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)],_0x446450=allQuizzes['find'](_0x2f3f21=>_0x2f3f21['id']===_0x54f059);_0x446450&&showGameStartConfirmationModal(_0x54f059,_0x1bd18d(0x238),_0x446450[_0x1bd18d(0x9b2)]);}else{if(_0x204623){const _0x2402cf=_0x204623[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)],_0x154b9=document[_0x1bd18d(0x632)](_0x1bd18d(0x25d)+_0x2402cf);_0x154b9&&_0x154b9['classList'][_0x1bd18d(0x535)](_0x1bd18d(0x99e));}else{if(_0x406a49){const _0xd0d38d=_0x406a49[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)],_0x569fcb=allQuizzes[_0x1bd18d(0x974)](_0x5243d4=>_0x5243d4['id']===_0xd0d38d);_0x569fcb&&handleGenerateParallelPostTest(_0x569fcb);}else{if(_0x275c21)handleCompareResults(_0x275c21[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)],_0x275c21[_0x1bd18d(0x6de)][_0x1bd18d(0x61e)]);else{if(_0x177037){const _0x3a7fae=_0x177037[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)],_0x4d3911=allQuizzes['find'](_0x340edd=>_0x340edd['id']===_0x3a7fae);_0x4d3911&&_0x4d3911[_0x1bd18d(0x2aa)]?(displayLessonPlan(_0x4d3911[_0x1bd18d(0x2aa)],_0x4d3911),showConfirmation(_0x1bd18d(0x19f),()=>handleGenerateLessonPlan(_0x3a7fae)),document[_0x1bd18d(0x632)](_0x1bd18d(0x6dd))['querySelector']('h3')[_0x1bd18d(0xf3)]=_0x1bd18d(0x6e4),document[_0x1bd18d(0x632)](_0x1bd18d(0x63d))['textContent']=_0x1bd18d(0x4c3)):handleGenerateLessonPlan(_0x3a7fae);}else{if(_0xf50737)handleToggleStarQuiz(_0xf50737[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)]);else{if(_0x5ac11e)copyTextToClipboard(_0x5ac11e[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)],_0x1bd18d(0x3df));else{if(_0x6cb1e3)handleOpenQuizEditor(_0x6cb1e3[_0x1bd18d(0x6de)]['quizId']);else{if(_0x414670)handleQuizSettings(_0x414670[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)]);else{if(_0x571c08)handleDuplicateQuiz(_0x571c08[_0x1bd18d(0x6de)]['quizId']);else{if(_0x505525)handleRenameQuiz(_0x505525[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)],_0x505525['dataset'][_0x1bd18d(0x9b2)]);else{if(_0x5dddc6){const _0x24b051=_0x5dddc6[_0x1bd18d(0x6de)]['quizId'],_0x5b92ac=allQuizzes['find'](_0x30473d=>_0x30473d['id']===_0x24b051);_0x5b92ac&&handleGenerateParallelFromBank(_0x5b92ac);}else{if(_0x524596)handleMoveQuiz(_0x524596[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)]);else{if(_0x133409)handleManualQuizPairing(_0x133409[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)]);else{if(_0x5d4b08)handleUnpairQuiz(_0x5d4b08['dataset'][_0x1bd18d(0x59c)]);else{if(_0x4ac8d9){const _0x25e514=_0x4ac8d9[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)],_0x567134=allQuizzes[_0x1bd18d(0x974)](_0x197f65=>_0x197f65['id']===_0x25e514);if(_0x567134)startPresentation(_0x567134);}else{if(_0x434da1){const _0x51e518=_0x434da1['dataset'][_0x1bd18d(0x59c)],_0x528327=allQuizzes[_0x1bd18d(0x974)](_0x1c67fb=>_0x1c67fb['id']===_0x51e518);_0x528327&&(currentQuizData=_0x528327,startAdminTest());}else{if(_0x1c525b)actionTargetId=_0x1c525b[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)],document[_0x1bd18d(0x632)](_0x1bd18d(0x981))[_0x1bd18d(0x635)][_0x1bd18d(0x74c)]('hidden');else{if(_0x1cd966)showConfirmation(_0x1bd18d(0x26a)+_0x1cd966['dataset']['topic']+_0x1bd18d(0x366),()=>handleDeleteQuiz(_0x1cd966[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)]));else{if(_0x119438)handleQuizStatus(_0x119438[_0x1bd18d(0x6de)]['quizId']);else{if(_0x46e9cc)handleGenerateEasyVersionQuiz(_0x46e9cc[_0x1bd18d(0x6de)][_0x1bd18d(0x59c)]);else _0x17ac90&&showQuizDetailView(_0x17ac90['dataset'][_0x1bd18d(0x59c)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x1e3410(0x632)](_0x1e3410(0x54f))['addEventListener'](_0x1e3410(0x379),()=>showView(_0x1e3410(0x1d7))),document[_0x1e3410(0x632)]('confirm-team-players-btn')[_0x1e3410(0x6a9)](_0x1e3410(0x379),confirmAndStartTeamQuiz),document['getElementById']('quiz-leaderboard-table')['querySelector'](_0x1e3410(0x55a))[_0x1e3410(0x6a9)](_0x1e3410(0x379),_0x1911db=>{const _0x9d1f8e=_0x1e3410,_0x4fd9a3=_0x1911db[_0x9d1f8e(0x51e)]['closest'](_0x9d1f8e(0x93d));if(!_0x4fd9a3||!_0x4fd9a3['dataset']['sort'])return;const _0x2188a4=_0x4fd9a3[_0x9d1f8e(0x6de)]['sort'];if(quizLeaderboardSortBy===_0x2188a4)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x9d1f8e(0x665)?_0x9d1f8e(0x6da):'asc';else{quizLeaderboardSortBy=_0x2188a4;const _0xa5159e=['studentName'];quizLeaderboardSortOrder=_0xa5159e['includes'](_0x2188a4)?_0x9d1f8e(0x665):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x9d1f8e(0x5c5));}),document['getElementById'](_0x1e3410(0x2ae))[_0x1e3410(0x6a9)]('click',closePresentation),document['getElementById']('prev-question-btn')[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x1e3410(0x632)](_0x1e3410(0x7ac))[_0x1e3410(0x6a9)]('click',()=>{const _0x76460a=_0x1e3410;currentQuizData[_0x76460a(0x88e)]&&currentPresentationSlide<currentQuizData[_0x76460a(0x88e)][_0x76460a(0x783)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x1e3410(0x3eb),()=>{const _0x4eed7c=_0x1e3410;!document[_0x4eed7c(0x675)]&&(presentationModal['style']['display']='none');}),document['getElementById'](_0x1e3410(0x79d))['addEventListener'](_0x1e3410(0x379),handleDeleteAllStudents),studentList['addEventListener'](_0x1e3410(0x379),_0x1435a8=>{const _0x1f7257=_0x1e3410,_0x12a18b=_0x1435a8[_0x1f7257(0x51e)][_0x1f7257(0x5ac)]('.delete-student-btn');if(_0x12a18b){const _0xb85ade=_0x12a18b[_0x1f7257(0x6de)][_0x1f7257(0x6ef)];handleDeleteStudent(_0xb85ade);}}),document[_0x1e3410(0x632)](_0x1e3410(0x1fa))[_0x1e3410(0x6a9)]('click',handleGenerateFromFileClick),fileUploadInput[_0x1e3410(0x6a9)](_0x1e3410(0x40e),_0x45c0cb=>{const _0x206224=_0x1e3410,_0x3ef6ba=_0x45c0cb[_0x206224(0x51e)][_0x206224(0xf4)][0x0],_0x2d2442=document[_0x206224(0x632)](_0x206224(0x1fa));_0x3ef6ba?(selectedFile=_0x3ef6ba,_0x2d2442[_0x206224(0xd7)]=![]):(selectedFile=null,_0x2d2442['disabled']=!![]);}),document[_0x1e3410(0x632)](_0x1e3410(0x62e))['addEventListener']('change',_0x47921a=>{const _0xf170c8=_0x1e3410,_0x256d8a=document[_0xf170c8(0x632)](_0xf170c8(0x349)),_0x4e446d=document['getElementById']('timer-duration-label'),_0xfe96ea=document[_0xf170c8(0x632)](_0xf170c8(0x57e));_0x47921a[_0xf170c8(0x51e)][_0xf170c8(0x3d7)]===_0xf170c8(0x900)?_0x256d8a[_0xf170c8(0x635)][_0xf170c8(0x8c5)](_0xf170c8(0x99e)):(_0x256d8a[_0xf170c8(0x635)][_0xf170c8(0x74c)](_0xf170c8(0x99e)),_0x47921a[_0xf170c8(0x51e)][_0xf170c8(0x3d7)]===_0xf170c8(0x21b)?(_0x4e446d['textContent']=_0xf170c8(0x71b),_0xfe96ea[_0xf170c8(0x3d7)]='10'):(_0x4e446d[_0xf170c8(0xf3)]='ระยะเวลา\x20(วินาที):',_0xfe96ea[_0xf170c8(0x3d7)]='30'));}),document[_0x1e3410(0x632)](_0x1e3410(0x73a))[_0x1e3410(0x6a9)](_0x1e3410(0x40e),_0x1e0702=>{const _0x19252c=_0x1e3410,_0x413c1c=document[_0x19252c(0x632)]('num-choices-container'),_0xf2fe76=_0x1e0702[_0x19252c(0x51e)][_0x19252c(0x3d7)],_0x55327e=document['querySelector'](_0x19252c(0x5e7)),_0x596569=document[_0x19252c(0x632)]('passing-score-input'),_0x1d5ddb=document['getElementById']('num-questions');_0xf2fe76==='matching'?_0x55327e[_0x19252c(0xf3)]=_0x19252c(0x290):_0x55327e[_0x19252c(0xf3)]=_0x19252c(0x451),_0xf2fe76==='multiple_choice'||_0xf2fe76==='fill_in_with_choices'||_0xf2fe76===_0x19252c(0x973)?_0x413c1c[_0x19252c(0x635)][_0x19252c(0x74c)](_0x19252c(0x99e)):_0x413c1c[_0x19252c(0x635)][_0x19252c(0x8c5)](_0x19252c(0x99e)),_0x596569['max']=_0x1d5ddb[_0x19252c(0x3d7)];}),document[_0x1e3410(0x632)](_0x1e3410(0x411))[_0x1e3410(0x6a9)](_0x1e3410(0x8bf),_0x386779=>{const _0x256379=_0x1e3410;document[_0x256379(0x632)](_0x256379(0x4c6))['max']=_0x386779[_0x256379(0x51e)][_0x256379(0x3d7)];}),document[_0x1e3410(0x632)](_0x1e3410(0x546))[_0x1e3410(0x6a9)](_0x1e3410(0x40e),_0xa4d115=>{const _0x5a8a98=_0x1e3410,_0x30cabb=document[_0x5a8a98(0x632)](_0x5a8a98(0x295)),_0x1dcdd7=document[_0x5a8a98(0x632)](_0x5a8a98(0x210)),_0x21e2e7=document[_0x5a8a98(0x632)]('modal-timer-duration-input');_0xa4d115[_0x5a8a98(0x51e)][_0x5a8a98(0x3d7)]===_0x5a8a98(0x900)?_0x30cabb[_0x5a8a98(0x635)][_0x5a8a98(0x8c5)](_0x5a8a98(0x99e)):(_0x30cabb[_0x5a8a98(0x635)][_0x5a8a98(0x74c)]('hidden'),_0xa4d115['target'][_0x5a8a98(0x3d7)]===_0x5a8a98(0x21b)?_0x1dcdd7[_0x5a8a98(0xf3)]='ระยะเวลา\x20(นาที):':_0x1dcdd7[_0x5a8a98(0xf3)]=_0x5a8a98(0x553));}),document['getElementById'](_0x1e3410(0x6bc))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0xa2d5bb=_0x1e3410;document['getElementById'](_0xa2d5bb(0x2e5))[_0xa2d5bb(0x635)][_0xa2d5bb(0x8c5)](_0xa2d5bb(0x99e));}),document[_0x1e3410(0x632)](_0x1e3410(0x642))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0x59a1dd=_0x1e3410;document[_0x59a1dd(0x632)]('quiz-editor-modal')[_0x59a1dd(0x635)]['add'](_0x59a1dd(0x99e));}),document['getElementById']('verify-answers-editor-btn')['addEventListener'](_0x1e3410(0x379),handleVerifyAnswersInEditor),document[_0x1e3410(0x632)](_0x1e3410(0x1e5))['addEventListener'](_0x1e3410(0x379),()=>{const _0x3b8c79=_0x1e3410;document[_0x3b8c79(0x632)](_0x3b8c79(0x2e5))[_0x3b8c79(0x635)][_0x3b8c79(0x8c5)]('hidden'),showConfirmation(_0x3b8c79(0x65b),handleSaveChanges);}),document['getElementById'](_0x1e3410(0x2d2))['addEventListener'](_0x1e3410(0x379),handleAutoFixLatex);const _0x59115c=document[_0x1e3410(0x632)](_0x1e3410(0x7b8));_0x59115c&&_0x59115c['addEventListener'](_0x1e3410(0x379),_0x253a5b=>{const _0x3f415d=_0x1e3410,_0xb2cfff=_0x253a5b['target']['closest'](_0x3f415d(0x489)),_0x5cc861=_0x253a5b[_0x3f415d(0x51e)][_0x3f415d(0x5ac)](_0x3f415d(0x763));if(_0xb2cfff){const _0x2e9a30=_0xb2cfff[_0x3f415d(0x5ac)]('.question-editor-item'),_0xe44ca9=parseInt(_0x2e9a30[_0x3f415d(0x6de)][_0x3f415d(0x6a7)],0xa);handleRegenerateQuestionInEditor(_0xe44ca9);}else{if(_0x5cc861){const _0x3c0a33=_0x5cc861[_0x3f415d(0x5ac)](_0x3f415d(0x95f)),_0x172875=parseInt(_0x3c0a33[_0x3f415d(0x6de)][_0x3f415d(0x6a7)],0xa);handleAiFixFormula(_0x172875);}}});document[_0x1e3410(0x632)](_0x1e3410(0x3fe))['addEventListener'](_0x1e3410(0x379),openQuizBankModal),document[_0x1e3410(0x632)]('cancel-quiz-bank-btn')[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0x7e3e35=_0x1e3410;document['getElementById'](_0x7e3e35(0x438))[_0x7e3e35(0x635)][_0x7e3e35(0x8c5)](_0x7e3e35(0x99e));}),document[_0x1e3410(0x632)](_0x1e3410(0x8ab))[_0x1e3410(0x6a9)](_0x1e3410(0x8bf),_0x2b8944=>renderQuizBankList(_0x2b8944[_0x1e3410(0x51e)][_0x1e3410(0x3d7)]));const _0x1b326b=document[_0x1e3410(0x632)](_0x1e3410(0x124));if(_0x1b326b){let _0x24e14f=null;_0x1b326b[_0x1e3410(0x6a9)](_0x1e3410(0x379),_0x3d02e1=>{const _0x3027a7=_0x1e3410,_0x1c9ed8=_0x3d02e1[_0x3027a7(0x51e)],_0x1a0fad=_0x1c9ed8['closest']('.edit-custom-topic-btn'),_0x98ff41=_0x1c9ed8[_0x3027a7(0x5ac)](_0x3027a7(0x8c8)),_0x170320=_0x1c9ed8[_0x3027a7(0x5ac)](_0x3027a7(0x2f2)),_0x32f3ab=_0x1c9ed8[_0x3027a7(0x5ac)](_0x3027a7(0x582));if(_0x98ff41){_0x3d02e1[_0x3027a7(0x93c)]();const _0x3a4caa=_0x98ff41[_0x3027a7(0x6de)]['id'],_0x334ebb=_0x98ff41[_0x3027a7(0x5ac)](_0x3027a7(0x33c))[_0x3027a7(0x20a)](_0x3027a7(0x114))[_0x3027a7(0xf3)];showConfirmation(_0x3027a7(0x409)+_0x334ebb+'\x22?',()=>handleDeleteCustomTopic(_0x3a4caa));}else{if(_0x1a0fad){_0x3d02e1['preventDefault']();_0x24e14f&&toggleTopicEditMode(_0x24e14f,![]);const _0x985b5e=_0x1a0fad[_0x3027a7(0x5ac)](_0x3027a7(0x44c));_0x24e14f=_0x985b5e,toggleTopicEditMode(_0x985b5e,!![]);}else{if(_0x170320){_0x3d02e1['preventDefault']();const _0x1299a9=_0x170320[_0x3027a7(0x6de)]['id'],_0x2aab4c=_0x170320[_0x3027a7(0x5ac)](_0x3027a7(0x44c)),_0x343ea5=_0x2aab4c['querySelector'](_0x3027a7(0x1fc))[_0x3027a7(0x3d7)];handleUpdateCustomTopic(_0x1299a9,_0x343ea5),_0x24e14f=null;}else{if(_0x32f3ab){_0x3d02e1[_0x3027a7(0x93c)]();const _0x8ac935=_0x32f3ab[_0x3027a7(0x5ac)](_0x3027a7(0x44c));toggleTopicEditMode(_0x8ac935,![]),_0x24e14f=null;}}}}}),document['getElementById']('close-lesson-plan-modal-btn')[_0x1e3410(0x6a9)]('click',()=>{const _0x7e22f4=_0x1e3410;document[_0x7e22f4(0x632)]('lesson-plan-modal')[_0x7e22f4(0x635)][_0x7e22f4(0x8c5)]('hidden');}),document[_0x1e3410(0x632)](_0x1e3410(0x230))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0xd11414=_0x1e3410;document[_0xd11414(0x632)](_0xd11414(0x752))[_0xd11414(0x635)]['add'](_0xd11414(0x99e));}),document[_0x1e3410(0x632)]('export-lesson-pdf-btn')['addEventListener'](_0x1e3410(0x379),handleExportLessonPDF);}document[_0x1e3410(0x632)](_0x1e3410(0x34c))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0x567769=_0x1e3410;document['getElementById'](_0x567769(0x84d))[_0x567769(0x635)]['add'](_0x567769(0x99e));}),document[_0x1e3410(0x632)](_0x1e3410(0x5d9))[_0x1e3410(0x6a9)](_0x1e3410(0x379),()=>{const _0x5708a2=_0x1e3410;document[_0x5708a2(0x632)](_0x5708a2(0x84d))['classList']['add'](_0x5708a2(0x99e));}),setupComparisonModalTabs(),document[_0x1e3410(0x708)][_0x1e3410(0x6a9)](_0x1e3410(0x379),function(_0x59778f){const _0xa9a213=_0x1e3410;if(_0x59778f[_0xa9a213(0x51e)][_0xa9a213(0x635)][_0xa9a213(0x10f)]('practice-topic-btn')){const _0x35861d=unescape(_0x59778f['target'][_0xa9a213(0x6de)][_0xa9a213(0x9b2)]);startSkillPractice(_0x35861d);}}),document['getElementById'](_0x1e3410(0x324))[_0x1e3410(0x6a9)](_0x1e3410(0x379),_0x98eec8=>{const _0x5f2b0=_0x1e3410,_0x496f2c=_0x98eec8[_0x5f2b0(0x51e)][_0x5f2b0(0x5ac)](_0x5f2b0(0x2a7));if(_0x496f2c){const _0x23df14=_0x496f2c[_0x5f2b0(0x6de)]['studentName'];handleDeleteSubmission(_0x23df14);}});}async function handleStartGroupMode(_0x425e41,_0x21f53c=![]){const _0x1cc163=_0x1579df,_0x175287=allQuizzes[_0x1cc163(0x974)](_0x304514=>_0x304514['id']===_0x425e41)||allQuizzesGlobal[_0x1cc163(0x974)](_0x5412e0=>_0x5412e0['id']===_0x425e41);if(!_0x175287){showMessage(_0x1cc163(0x12d));return;}currentQuizData=getShuffledQuiz(_0x175287);const _0x5287d9=Math[_0x1cc163(0x1e3)](0x3e8+Math[_0x1cc163(0x4fa)]()*0x2328)[_0x1cc163(0x994)]();try{const _0x91ba01=await addDoc(collection(db,_0x1cc163(0x88d)+appId+_0x1cc163(0x3b1)),{'quizId':_0x175287['id'],'projectId':_0x175287[_0x1cc163(0x80a)],'status':'lobby','pin':_0x5287d9,'mode':_0x1cc163(0x26c),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x21f53c});currentTeamQuizId=_0x91ba01['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x5287d9,_0x175287[_0x1cc163(0x9b2)],_0x1cc163(0x26c)),listenForTeamQuizUpdates();}catch(_0x12cca0){console[_0x1cc163(0x962)](_0x1cc163(0x271),_0x12cca0),showMessage(_0x1cc163(0x3f6));}}async function showStudentProgressView(){const _0x44cf65=_0x1579df;studentInitialView[_0x44cf65(0x635)]['add'](_0x44cf65(0x99e)),document[_0x44cf65(0x632)]('student-progress-view')['classList'][_0x44cf65(0x74c)]('hidden');const _0x84e051=document[_0x44cf65(0x632)](_0x44cf65(0x419)),_0x5f42f4=document[_0x44cf65(0x632)](_0x44cf65(0x1b0)),_0x3d8796=document[_0x44cf65(0x632)](_0x44cf65(0x731));_0x3d8796[_0x44cf65(0x581)]=_0x44cf65(0x799),_0x5f42f4['innerHTML']=_0x44cf65(0x86e),_0x5f42f4[_0x44cf65(0xd7)]=!![],_0x84e051['innerHTML']=_0x44cf65(0x155);if(allProjects[_0x44cf65(0x783)]===0x0){const _0x100bc0=collection(db,_0x44cf65(0x88d)+appId+_0x44cf65(0x18f)),_0x4102a0=await getDocs(_0x100bc0);allProjects=_0x4102a0[_0x44cf65(0x6b3)][_0x44cf65(0x931)](_0x5d5da1=>({'id':_0x5d5da1['id'],..._0x5d5da1[_0x44cf65(0x844)]()}));}const _0x4e725f=allProjects['filter'](_0x95968a=>_0x95968a[_0x44cf65(0x8b9)]?.['showInStudentDashboard']!==![]);_0x4e725f[_0x44cf65(0x774)]((_0x1e85ec,_0x3ebc9c)=>_0x1e85ec[_0x44cf65(0x8cf)]['localeCompare'](_0x3ebc9c[_0x44cf65(0x8cf)],'th')),_0x84e051[_0x44cf65(0x581)]=_0x44cf65(0x1a7)+_0x4e725f[_0x44cf65(0x931)](_0x1df58f=>_0x44cf65(0x322)+_0x1df58f['id']+'\x22>'+_0x1df58f[_0x44cf65(0x8cf)]+_0x44cf65(0x987))[_0x44cf65(0x7b1)](''),_0x84e051[_0x44cf65(0x3b5)]=()=>{const _0xf9df54=_0x44cf65,_0x4e0490=_0x5f42f4[_0xf9df54(0x3d7)],_0x495411=_0x84e051[_0xf9df54(0x3d7)];_0x5f42f4['disabled']=!![],_0x5f42f4[_0xf9df54(0x581)]=_0xf9df54(0x86e),_0x3d8796[_0xf9df54(0x581)]=_0xf9df54(0x521);if(!_0x495411)return;const _0x49fb84=allProjects[_0xf9df54(0x974)](_0x4721e5=>_0x4721e5['id']===_0x495411);if(!_0x49fb84||!_0x49fb84['students'])return;const _0x29533e=()=>{const _0xf5894d=_0xf9df54;_0x5f42f4['innerHTML']=_0xf5894d(0x86e)+_0x49fb84[_0xf5894d(0x63a)]['map'](_0x5d076e=>_0xf5894d(0x322)+_0x5d076e+'\x22>'+_0x5d076e+_0xf5894d(0x987))[_0xf5894d(0x7b1)](''),_0x5f42f4[_0xf5894d(0xd7)]=![];const _0x7d7c81=Array[_0xf5894d(0x88b)](_0x5f42f4[_0xf5894d(0x518)])[_0xf5894d(0x931)](_0x51e1b7=>_0x51e1b7[_0xf5894d(0x3d7)]);if(_0x4e0490&&_0x7d7c81[_0xf5894d(0x29b)](_0x4e0490))_0x5f42f4[_0xf5894d(0x3d7)]=_0x4e0490,_0x5f42f4['dispatchEvent'](new Event('change'));else _0x49fb84[_0xf5894d(0x63a)]['length']===0x1&&(_0x5f42f4[_0xf5894d(0x3d7)]=_0x49fb84[_0xf5894d(0x63a)][0x0],_0x5f42f4['dispatchEvent'](new Event('change')));};if(_0x49fb84['settings']?.['isPasscodeEnabled']){if(sessionStorage[_0xf9df54(0x98f)](_0xf9df54(0x11d)+_0x495411)===_0xf9df54(0x21a)){_0x29533e();return;}const _0xe8a281=document[_0xf9df54(0x632)](_0xf9df54(0x89b)),_0xb190b5=document[_0xf9df54(0x632)](_0xf9df54(0x609)),_0x28b835=document['getElementById'](_0xf9df54(0x4cd)),_0x2fe994=document[_0xf9df54(0x632)]('student-passcode-input'),_0x3299ce=document[_0xf9df54(0x632)](_0xf9df54(0x24a));document[_0xf9df54(0x632)](_0xf9df54(0x129))[_0xf9df54(0xf3)]=_0xf9df54(0x47d)+_0x49fb84[_0xf9df54(0x8cf)],_0x2fe994[_0xf9df54(0x3d7)]='',_0x3299ce[_0xf9df54(0x635)][_0xf9df54(0x8c5)](_0xf9df54(0x99e)),_0xe8a281[_0xf9df54(0x635)][_0xf9df54(0x74c)](_0xf9df54(0x99e));const _0x157c7b=()=>{const _0xbdf39e=_0xf9df54,_0x55f850=_0x2fe994['value'][_0xbdf39e(0x3d4)]();_0x55f850===_0x49fb84[_0xbdf39e(0x8b9)][_0xbdf39e(0x8e1)]?(sessionStorage['setItem'](_0xbdf39e(0x11d)+_0x495411,_0xbdf39e(0x21a)),_0xe8a281[_0xbdf39e(0x635)][_0xbdf39e(0x8c5)](_0xbdf39e(0x99e)),_0x29533e(),_0xb190b5[_0xbdf39e(0x333)](_0xbdf39e(0x379),_0x157c7b)):_0x3299ce[_0xbdf39e(0x635)][_0xbdf39e(0x74c)](_0xbdf39e(0x99e));};_0xb190b5[_0xf9df54(0x24d)]=_0x157c7b,_0x28b835[_0xf9df54(0x24d)]=()=>{const _0xe4eea4=_0xf9df54;_0xe8a281[_0xe4eea4(0x635)]['add'](_0xe4eea4(0x99e)),_0x84e051[_0xe4eea4(0x3d7)]='',_0xb190b5[_0xe4eea4(0x333)]('click',_0x157c7b);};}else _0x29533e();},_0x5f42f4['onchange']=()=>{const _0x3519d1=_0x44cf65,_0x14c4ab=_0x84e051[_0x3519d1(0x3d7)],_0x1d89ec=_0x5f42f4[_0x3519d1(0x3d7)];_0x14c4ab&&_0x1d89ec&&renderStudentProgressDashboard(_0x14c4ab,_0x1d89ec);};}async function confirmAndJoinSyncGame(){const _0x325c47=_0x1579df,_0x201a5a=Array[_0x325c47(0x88b)](document[_0x325c47(0x37d)](_0x325c47(0x879)))[_0x325c47(0x931)](_0x2d0b94=>_0x2d0b94[_0x325c47(0x3d7)]);if(_0x201a5a[_0x325c47(0x783)]===0x0){showMessage(_0x325c47(0x265));return;}localTeamPlayers=_0x201a5a,localPlayerTurnIndex=0x0;const _0x149725=doc(db,_0x325c47(0x88d)+appId+_0x325c47(0x8f2),currentLiveGameId),_0x541817={};_0x201a5a['forEach'](_0x25bf94=>{const _0x40f0a1=_0x325c47;_0x541817[_0x40f0a1(0x21f)+_0x25bf94]={'name':_0x25bf94,'score':0x0,'answered':![]};});try{await updateDoc(_0x149725,_0x541817),document['getElementById'](_0x325c47(0x807))['classList'][_0x325c47(0x8c5)](_0x325c47(0x99e)),currentStudentName=_0x201a5a[0x0],listenForSyncGameUpdates();const _0x11d820={'gameId':currentLiveGameId,'mode':_0x325c47(0x5c4),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x325c47(0x477)](_0x325c47(0x916),JSON[_0x325c47(0x3c5)](_0x11d820));}catch(_0x5c2fb4){console[_0x325c47(0x962)]('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0x5c2fb4),showMessage(_0x325c47(0x7a5));}}async function resumeActiveGameSession(){const _0x1c11e6=_0x1579df,_0xb2119b=sessionStorage[_0x1c11e6(0x98f)]('activeGameSession');if(!_0xb2119b)return;const _0x312b86=JSON[_0x1c11e6(0xf8)](_0xb2119b),{gameId:_0x4f4ff9,mode:_0x5c447c,players:_0x3c0818,turnIndex:_0x40a9bb}=_0x312b86;try{let _0x525ede,_0xf2c450;_0x5c447c==='sync'?_0x525ede=doc(db,'artifacts/'+appId+_0x1c11e6(0x8f2),_0x4f4ff9):_0x525ede=doc(db,_0x1c11e6(0x88d)+appId+_0x1c11e6(0x3b1),_0x4f4ff9);_0xf2c450=await getDoc(_0x525ede);if(!_0xf2c450['exists']()||_0xf2c450[_0x1c11e6(0x844)]()[_0x1c11e6(0x1cf)]===_0x1c11e6(0x7ab)||_0xf2c450['data']()['status']===_0x1c11e6(0xd8)){sessionStorage[_0x1c11e6(0x3e7)](_0x1c11e6(0x916));return;}console[_0x1c11e6(0x919)](_0x1c11e6(0x7cf)+_0x5c447c+_0x1c11e6(0x3f5)+_0x4f4ff9+')'),localTeamPlayers=_0x3c0818,localPlayerTurnIndex=_0x40a9bb;if(_0x5c447c==='sync')currentLiveGameId=_0x4f4ff9,currentStudentName=_0x3c0818[0x0],showView(_0x1c11e6(0x233)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x4f4ff9;const _0x4a145d=_0xf2c450['data'](),_0x34ca45=doc(db,_0x1c11e6(0x88d)+appId+_0x1c11e6(0x207),_0x4a145d[_0x1c11e6(0x59c)]),_0x53c01d=await getDoc(_0x34ca45);_0x53c01d[_0x1c11e6(0x3e1)]()&&(currentQuizData=getShuffledQuiz({'id':_0x53c01d['id'],..._0x53c01d[_0x1c11e6(0x844)]()}),showView(_0x1c11e6(0x1d7)),studentInitialView[_0x1c11e6(0x635)]['add'](_0x1c11e6(0x99e)),renderTeamQuizQuestion());}}catch(_0x44ff2a){console[_0x1c11e6(0x962)](_0x1c11e6(0x287),_0x44ff2a),sessionStorage[_0x1c11e6(0x3e7)]('activeGameSession');}}async function renderStudentProgressDashboard(_0x1563a1,_0x264d6c){const _0xea6e94=_0x1579df,_0x5f0af0=document[_0xea6e94(0x632)](_0xea6e94(0x731));_0x5f0af0[_0xea6e94(0x581)]=_0xea6e94(0x43d);try{const _0x5dbb7d=collection(db,_0xea6e94(0x88d)+appId+_0xea6e94(0x207)),_0x43696c=query(_0x5dbb7d,where('projectId','==',_0x1563a1)),_0x542c8e=await getDocs(_0x43696c),_0x21657d=_0x542c8e[_0xea6e94(0x6b3)][_0xea6e94(0x931)](_0x59bb55=>({'id':_0x59bb55['id'],..._0x59bb55[_0xea6e94(0x844)]()})),_0x2f92a0=_0x21657d[_0xea6e94(0x931)](_0x417faa=>getDoc(doc(db,_0xea6e94(0x88d)+appId+_0xea6e94(0x2c9)+_0x417faa['id']+'/submissions',_0x264d6c))),_0x5e353c=await Promise[_0xea6e94(0x529)](_0x2f92a0),_0x26488a=_0x5e353c[_0xea6e94(0x34b)](_0x2e4eb0=>_0x2e4eb0['exists']())[_0xea6e94(0x931)](_0x51e605=>({'quizId':_0x51e605[_0xea6e94(0x55c)]['parent'][_0xea6e94(0x714)]['id'],..._0x51e605[_0xea6e94(0x844)]()}));if(_0x26488a[_0xea6e94(0x783)]===0x0){_0x5f0af0[_0xea6e94(0x581)]=_0xea6e94(0x2b8);return;}let _0x4f01bd=_0xea6e94(0x445);_0x26488a[_0xea6e94(0x2fb)](_0x4d5a7b=>{const _0x5e0042=_0xea6e94,_0x3cc0f9=_0x21657d[_0x5e0042(0x974)](_0xe6b402=>_0xe6b402['id']===_0x4d5a7b['quizId']),_0x3ff4ad=_0x3cc0f9[_0x5e0042(0x8b9)]?.[_0x5e0042(0x5bf)]||_0x5e0042(0x96b),_0x25f632=_0x3cc0f9[_0x5e0042(0x8b9)]?.['passingScore']??0x0,_0x11755a=_0x4d5a7b['bestScore']>=_0x25f632;let _0x1ad1fe='',_0x142351='bg-gray-50';switch(_0x3ff4ad){case _0x5e0042(0x96b):case _0x5e0042(0x6f5):_0x142351=_0x11755a?_0x5e0042(0x984):'bg-red-50',_0x1ad1fe=_0x5e0042(0x95b)+(_0x11755a?_0x5e0042(0x4ed):_0x5e0042(0x67f))+'\x22>'+_0x4d5a7b[_0x5e0042(0x757)]+_0x5e0042(0x8f8)+_0x4d5a7b[_0x5e0042(0x86f)]+_0x5e0042(0x3ed)+(_0x11755a?'bg-green-200\x20text-green-800':_0x5e0042(0x833))+'\x22>'+(_0x11755a?_0x5e0042(0x44e):_0x5e0042(0x6be))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'show_pass_fail_only':_0x142351=_0x11755a?_0x5e0042(0x984):_0x5e0042(0x543),_0x1ad1fe='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x11755a?'bg-green-200\x20text-green-800':'bg-red-200\x20text-red-800')+'\x22>'+(_0x11755a?_0x5e0042(0x44e):_0x5e0042(0x6be))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'manual_release':_0x142351=_0x5e0042(0x810),_0x1ad1fe=_0x5e0042(0x4b7);break;}_0x4f01bd+=_0x5e0042(0x49e)+_0x142351+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x3cc0f9[_0x5e0042(0x9b2)]+_0x5e0042(0x68a)+_0x4d5a7b[_0x5e0042(0x157)][_0x5e0042(0x783)]+_0x5e0042(0x778)+new Date(_0x4d5a7b[_0x5e0042(0x8fb)])[_0x5e0042(0x822)](_0x5e0042(0x61a))+_0x5e0042(0x638)+_0x1ad1fe+_0x5e0042(0x4dc);}),_0x4f01bd+=_0xea6e94(0x49d),_0x5f0af0['innerHTML']=_0x4f01bd;}catch(_0x1c9356){console[_0xea6e94(0x962)]('Error\x20rendering\x20student\x20progress:',_0x1c9356),_0x5f0af0[_0xea6e94(0x581)]='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function setupStudentProgressListeners(){const _0x69f096=_0x1579df;document['getElementById'](_0x69f096(0x14c))[_0x69f096(0x6a9)](_0x69f096(0x379),showStudentProgressView),document[_0x69f096(0x632)](_0x69f096(0x967))[_0x69f096(0x6a9)](_0x69f096(0x379),()=>{const _0x401eb5=_0x69f096;document['getElementById'](_0x401eb5(0x5f1))['classList'][_0x401eb5(0x8c5)]('hidden'),document[_0x401eb5(0x632)](_0x401eb5(0x965))[_0x401eb5(0x635)]['remove']('hidden');});}async function startSkillPractice(_0x1b6e25){const _0x5c4ed8=_0x1579df;studentResultArea[_0x5c4ed8(0x635)]['add'](_0x5c4ed8(0x99e)),studentQuizArea[_0x5c4ed8(0x581)]=_0x5c4ed8(0x82f),studentQuizArea[_0x5c4ed8(0x635)][_0x5c4ed8(0x74c)]('hidden');try{const _0x4b8055=await getStandardizedTopic(_0x1b6e25);console[_0x5c4ed8(0x919)](_0x5c4ed8(0x827)+_0x1b6e25+_0x5c4ed8(0x636)+_0x4b8055+'\x22'),studentQuizArea[_0x5c4ed8(0x20a)]('p')[_0x5c4ed8(0xf3)]=_0x5c4ed8(0x7a3)+_0x4b8055+_0x5c4ed8(0x62a);const _0x40abb0=collection(db,_0x5c4ed8(0x88d)+appId+_0x5c4ed8(0x278)),_0x4ac776=query(_0x40abb0,where(_0x5c4ed8(0x9b2),'==',_0x4b8055)),_0x1f84a8=await getDocs(_0x4ac776);if(_0x1f84a8[_0x5c4ed8(0x6b3)][_0x5c4ed8(0x783)]>=0x3){console[_0x5c4ed8(0x919)](_0x5c4ed8(0x59a)+_0x1f84a8[_0x5c4ed8(0x6b3)][_0x5c4ed8(0x783)]+_0x5c4ed8(0x863)+_0x4b8055+_0x5c4ed8(0x339));let _0x173a36=_0x1f84a8[_0x5c4ed8(0x6b3)][_0x5c4ed8(0x931)](_0x2f97df=>_0x2f97df[_0x5c4ed8(0x844)]());shuffleArray(_0x173a36);const _0x1816cc={'topic':_0x4b8055,'questions':_0x173a36[_0x5c4ed8(0xc4)](0x0,0x3)};displaySkillPracticeDrill(_0x1816cc);}else{console['log'](_0x5c4ed8(0x909)+_0x4b8055+_0x5c4ed8(0x494));const _0x2f81fc=await generatePracticeQuestions(_0x4b8055);await saveDrillToPracticeBank(_0x2f81fc,_0x4b8055),displaySkillPracticeDrill(_0x2f81fc);}}catch(_0x2623ce){console[_0x5c4ed8(0x962)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x2623ce),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x5c4ed8(0x635)][_0x5c4ed8(0x8c5)](_0x5c4ed8(0x99e)),studentResultArea['classList'][_0x5c4ed8(0x74c)]('hidden');}}async function saveDrillToPracticeBank(_0xa072ae,_0xdd302){const _0x22db7d=_0x1579df,_0x18dd2d=collection(db,_0x22db7d(0x88d)+appId+_0x22db7d(0x278)),_0x2f6425=writeBatch(db);_0xa072ae[_0x22db7d(0x88e)]['forEach'](_0x509986=>{const _0x3b5378=_0x22db7d,_0x108688=doc(_0x18dd2d);_0x2f6425['set'](_0x108688,{'topic':_0xdd302,'questionText':_0x509986['questionText'],'options':_0x509986[_0x3b5378(0x518)],'correctAnswerIndex':_0x509986[_0x3b5378(0x48f)],'explanation':_0x509986[_0x3b5378(0x832)],'createdAt':serverTimestamp()});});try{await _0x2f6425[_0x22db7d(0x196)](),console['log']('บันทึกคำถามใหม่\x20'+_0xa072ae[_0x22db7d(0x88e)][_0x22db7d(0x783)]+_0x22db7d(0x17c));}catch(_0x2a53be){console[_0x22db7d(0x962)](_0x22db7d(0x702),_0x2a53be);}}async function getStandardizedTopic(_0x2755b6){const _0x2f191e=_0x1579df,_0x11e6bd=_0x2f191e(0x76a)+_0x2755b6+_0x2f191e(0x89f),_0x41b4a3={'type':'OBJECT','properties':{'standardTopic':{'type':_0x2f191e(0x1e7)}},'required':[_0x2f191e(0x713)]};try{const _0x3f2689=await callAnalysisApi(_0x11e6bd,_0x41b4a3);return _0x3f2689[_0x2f191e(0x713)];}catch(_0x1ebb72){return console['error']('Failed\x20to\x20get\x20standardized\x20topic:',_0x1ebb72),_0x2755b6;}}async function handleGenerateEasyVersionQuiz(_0x13128c){const _0x306ff9=_0x1579df;showConfirmation(_0x306ff9(0xcf),async()=>{const _0x1de969=_0x306ff9;showMessage('AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...\x20กรุณารอสักครู่');try{const _0x24b9bd=allQuizzes['find'](_0x2446e8=>_0x2446e8['id']===_0x13128c);if(!_0x24b9bd)throw new Error(_0x1de969(0x165));const _0x448a07=_0x1de969(0x88c)+JSON[_0x1de969(0x3c5)](_0x24b9bd[_0x1de969(0x88e)])+_0x1de969(0x55f),_0x2a9ee2={'type':_0x1de969(0xb1),'properties':{'questionText':{'type':_0x1de969(0x1e7)},'questionType':{'type':_0x1de969(0x1e7)},'options':{'type':_0x1de969(0x926),'items':{'type':_0x1de969(0x1e7)}},'correctAnswerIndex':{'type':_0x1de969(0x5c9)},'idealAnswer':{'type':_0x1de969(0x1e7)},'explanation':{'type':_0x1de969(0x1e7)},'imageCode':{'type':_0x1de969(0x1e7)}},'required':['questionText',_0x1de969(0x54a),_0x1de969(0x832)]},_0x1ec361={'type':_0x1de969(0xb1),'properties':{'questions':{'type':_0x1de969(0x926),'items':_0x2a9ee2}},'required':[_0x1de969(0x88e)]},_0x51327b=await callAnalysisApi(_0x448a07,_0x1ec361);_0x51327b&&_0x51327b['questions']&&_0x51327b['questions'][_0x1de969(0x2fb)](_0x4c7376=>{const _0x3a4171=_0x1de969;_0x4c7376[_0x3a4171(0x2b6)]&&(_0x4c7376[_0x3a4171(0x2b6)]=_0x4c7376[_0x3a4171(0x2b6)][_0x3a4171(0x3d4)]()[_0x3a4171(0x399)](/,$/,'')[_0x3a4171(0x3d4)]());_0x4c7376['options']&&Array['isArray'](_0x4c7376[_0x3a4171(0x518)])&&(_0x4c7376[_0x3a4171(0x518)]=_0x4c7376['options'][_0x3a4171(0x931)](_0x4fcdb0=>_0x4fcdb0||_0x3a4171(0x4fd)));if(_0x4c7376['imageCode']){const _0xc6e01e=_0x4c7376['imageCode'][_0x3a4171(0x3d4)]();_0xc6e01e===''||_0xc6e01e[_0x3a4171(0x7f9)]()===_0x3a4171(0x43a)||!_0xc6e01e[_0x3a4171(0x40b)](_0x3a4171(0x170))?delete _0x4c7376['imageCode']:_0x4c7376['imageCode']=_0xc6e01e;}});if(!_0x51327b||!_0x51327b[_0x1de969(0x88e)]||_0x51327b[_0x1de969(0x88e)]['length']===0x0)throw new Error(_0x1de969(0x84a));const _0x5f5ae9={'projectId':_0x24b9bd[_0x1de969(0x80a)],'quizType':_0x24b9bd[_0x1de969(0x9af)],'settings':_0x24b9bd[_0x1de969(0x8b9)],'createdBy':_0x24b9bd[_0x1de969(0x6f6)],'status':_0x1de969(0x6c0),'topic':_0x1de969(0x524)+_0x24b9bd['topic'],'questions':_0x51327b[_0x1de969(0x88e)],'createdAt':new Date()[_0x1de969(0x883)](),'quizMode':'standard','pairedQuizId':null};let _0x3a706a;while(!![]){_0x3a706a=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();const _0x33c208=await getDoc(doc(db,_0x1de969(0x88d)+appId+_0x1de969(0x207),_0x3a706a));if(!_0x33c208[_0x1de969(0x3e1)]())break;}await setDoc(doc(db,_0x1de969(0x88d)+appId+'/public/data/quizzes',_0x3a706a),_0x5f5ae9),showMessage(_0x1de969(0x4f4));}catch(_0x4c13d5){console[_0x1de969(0x962)](_0x1de969(0x151),_0x4c13d5),showMessage(_0x1de969(0x4b1)+_0x4c13d5[_0x1de969(0x52c)]);}});}async function generatePracticeQuestions(_0x12282a){const _0x2b7801=_0x1579df,_0x5e8cc2=_0x2b7801(0x65f)+_0x12282a+_0x2b7801(0x75b)+simpleMathPrompt+_0x2b7801(0x809),_0x2e49da={'type':_0x2b7801(0xb1),'properties':{'questionText':{'type':_0x2b7801(0x1e7)},'options':{'type':_0x2b7801(0x926),'items':{'type':_0x2b7801(0x1e7)}},'correctAnswerIndex':{'type':_0x2b7801(0x5c9)},'explanation':{'type':_0x2b7801(0x1e7)}},'required':['questionText',_0x2b7801(0x518),_0x2b7801(0x48f),'explanation']},_0x1f9846={'type':'OBJECT','properties':{'topic':{'type':_0x2b7801(0x1e7)},'questions':{'type':_0x2b7801(0x926),'items':_0x2e49da}},'required':['topic','questions']};return await callAnalysisApi(_0x5e8cc2,_0x1f9846);}function displayLessonPlan(_0x29a08b,_0x5a2c70){const _0x5294a2=_0x1579df,_0x42064e=_0x5294a2(0x790)+_0x5a2c70[_0x5294a2(0x9b2)]+_0x5294a2(0x53e)+_0x29a08b[_0x5294a2(0x22a)][_0x5294a2(0x931)](_0x3f618b=>_0x5294a2(0x4d0)+_0x3f618b+_0x5294a2(0x9a8))[_0x5294a2(0x7b1)]('')+_0x5294a2(0x41b)+_0x29a08b[_0x5294a2(0x70e)]+_0x5294a2(0x991)+_0x29a08b[_0x5294a2(0x812)]['map'](_0x1604ba=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x1604ba['question']+_0x5294a2(0x501)+_0x1604ba['solution']+_0x5294a2(0x527))[_0x5294a2(0x7b1)]('')+_0x5294a2(0x724);document['getElementById'](_0x5294a2(0x975))[_0x5294a2(0xf3)]=_0x5294a2(0x95d)+_0x5a2c70['topic'],document['getElementById'](_0x5294a2(0x750))[_0x5294a2(0x581)]=_0x42064e,document[_0x5294a2(0x632)](_0x5294a2(0x752))['classList'][_0x5294a2(0x74c)](_0x5294a2(0x99e));if(window[_0x5294a2(0x1c5)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x5ed7b7){const _0x55283b=_0x1579df;let _0x34ea04=0x0;const _0x3c9a73=_0x5ed7b7[_0x55283b(0x88e)],_0x112151=()=>{const _0x514792=_0x55283b,_0x34b452=_0x3c9a73[_0x34ea04],_0x5ef3cf=_0x514792(0x95a)+(_0x34ea04+0x1)+_0x514792(0x8f8)+_0x3c9a73['length']+_0x514792(0x51b)+_0x34b452['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34b452[_0x514792(0x518)]['map']((_0x557b49,_0x16318f)=>_0x514792(0x8ae)+_0x16318f+_0x514792(0x574)+_0x16318f+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x16318f+'\x22>'+_0x557b49+_0x514792(0x7c7))[_0x514792(0x7b1)]('')+_0x514792(0x1c3);studentQuizArea[_0x514792(0x581)]=_0x5ef3cf;if(window[_0x514792(0x1c5)])MathJax['typesetPromise']([studentQuizArea]);document[_0x514792(0x632)](_0x514792(0x89d))['addEventListener'](_0x514792(0x379),async()=>{const _0x2ff145=_0x514792,_0x3dde83=await getHintForQuestion(_0x34b452[_0x2ff145(0x2b6)]);showMessage(_0x3dde83);}),document['getElementById'](_0x514792(0x202))['addEventListener']('click',()=>{const _0x4542fb=_0x514792,_0xf2ae8a=document[_0x4542fb(0x20a)]('input[name=\x22drill_answer\x22]:checked');if(!_0xf2ae8a){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x4e0a21=document[_0x4542fb(0x632)](_0x4542fb(0x54d)),_0x1bfc80=parseInt(_0xf2ae8a['value'])===_0x34b452[_0x4542fb(0x48f)];_0x1bfc80?(_0x4e0a21['className']=_0x4542fb(0x3e4),_0x4e0a21['innerHTML']=_0x4542fb(0x670)+_0x34b452[_0x4542fb(0x832)]):(_0x4e0a21[_0x4542fb(0x33e)]=_0x4542fb(0x61b),_0x4e0a21[_0x4542fb(0x581)]=_0x4542fb(0x483)+_0x34b452[_0x4542fb(0x832)]);_0x4e0a21[_0x4542fb(0x635)][_0x4542fb(0x74c)](_0x4542fb(0x99e));if(window[_0x4542fb(0x1c5)])MathJax[_0x4542fb(0x2ab)]([_0x4e0a21]);document['getElementById'](_0x4542fb(0x202))[_0x4542fb(0x635)][_0x4542fb(0x8c5)]('hidden'),document[_0x4542fb(0x632)]('hint-btn')[_0x4542fb(0x635)]['add'](_0x4542fb(0x99e)),document[_0x4542fb(0x632)](_0x4542fb(0x4a3))[_0x4542fb(0x635)][_0x4542fb(0x74c)](_0x4542fb(0x99e));}),document['getElementById'](_0x514792(0x4a3))['addEventListener']('click',()=>{const _0x18e6b1=_0x514792;_0x34ea04++,_0x34ea04<_0x3c9a73['length']?_0x112151():(studentQuizArea[_0x18e6b1(0x581)]=_0x18e6b1(0x424),document['getElementById']('back-to-results-btn')[_0x18e6b1(0x6a9)](_0x18e6b1(0x379),()=>{const _0x2a920e=_0x18e6b1;studentQuizArea[_0x2a920e(0x635)][_0x2a920e(0x8c5)](_0x2a920e(0x99e)),studentResultArea[_0x2a920e(0x635)][_0x2a920e(0x74c)]('hidden');}));});};_0x112151();}async function getHintForQuestion(_0x43416d){const _0x2fa508=_0x1579df,_0x390030=_0x2fa508(0x340)+_0x43416d+_0x2fa508(0x29e),_0x548dd9={'type':_0x2fa508(0xb1),'properties':{'hint':{'type':'STRING'}},'required':[_0x2fa508(0x64e)]};try{const _0x2d6aa2=await callAnalysisApi(_0x390030,_0x548dd9);return _0x2d6aa2[_0x2fa508(0x64e)];}catch(_0x4280e2){return console[_0x2fa508(0x962)](_0x2fa508(0x507),_0x4280e2),_0x2fa508(0x396);}}async function extractTextFromPdf(_0x319a4f){const _0x3ed0da=_0x1579df;pdfjsLib['GlobalWorkerOptions'][_0x3ed0da(0x6e7)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x431acf=await _0x319a4f[_0x3ed0da(0x599)](),_0x49835e=await pdfjsLib[_0x3ed0da(0x673)](_0x431acf)[_0x3ed0da(0x62c)],_0x5d3df9=_0x49835e[_0x3ed0da(0x94a)];let _0x31fc50='';for(let _0x36cd72=0x1;_0x36cd72<=_0x5d3df9;_0x36cd72++){const _0x37551a=await _0x49835e[_0x3ed0da(0x1db)](_0x36cd72),_0xf09e1c=await _0x37551a['getTextContent'](),_0xec5e58=_0xf09e1c[_0x3ed0da(0x118)][_0x3ed0da(0x931)](_0xb41b56=>_0xb41b56['str'])[_0x3ed0da(0x7b1)]('\x20');_0x31fc50+=_0xec5e58+'\x0a\x0a';}return _0x31fc50;}async function handleGenerateFromBlueprint(){const _0xc1dcce=_0x1579df,_0xf5c2fa=document[_0xc1dcce(0x632)](_0xc1dcce(0x624)),_0x43bcd9=document[_0xc1dcce(0x632)](_0xc1dcce(0x768)),_0x5f3db6=_0xf5c2fa['files'][0x0],_0x1b469c=_0x43bcd9[_0xc1dcce(0xf4)][_0xc1dcce(0x783)]>0x0?_0x43bcd9['files'][0x0]:null;if(!_0x5f3db6){showMessage(_0xc1dcce(0x416));return;}const _0x591b1c=document[_0xc1dcce(0x632)](_0xc1dcce(0x2fe)),_0x3a6a2b=document[_0xc1dcce(0x632)]('loader-text'),_0x54c6f5=document['getElementById'](_0xc1dcce(0x8d2)),_0x1ec2bc=document[_0xc1dcce(0x632)](_0xc1dcce(0x6bd));_0x1ec2bc[_0xc1dcce(0xd7)]=!![],document['getElementById'](_0xc1dcce(0x3e0))[_0xc1dcce(0x635)][_0xc1dcce(0x74c)](_0xc1dcce(0x99e)),_0x54c6f5[_0xc1dcce(0x581)]='',_0x591b1c[_0xc1dcce(0x635)][_0xc1dcce(0x74c)](_0xc1dcce(0x99e));try{_0x3a6a2b[_0xc1dcce(0xf3)]='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0x2b1082=await extractTextFromPdf(_0x5f3db6);if(!_0x2b1082['trim']())throw new Error(_0xc1dcce(0xec));let _0x476440='';_0x1b469c&&(_0x3a6a2b[_0xc1dcce(0xf3)]='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0x476440=await extractTextFromPdf(_0x1b469c));_0x3a6a2b[_0xc1dcce(0xf3)]=_0xc1dcce(0x145);const _0x286a9c=document[_0xc1dcce(0x632)](_0xc1dcce(0x667))[_0xc1dcce(0x37c)],_0x4bad91=_0x286a9c?_0xc1dcce(0x362):'',_0x4eff34=_0x476440?_0xc1dcce(0x6e2)+_0x476440+_0xc1dcce(0x566):'',_0x1e96a7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x476440?_0xc1dcce(0x815):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b1082+_0xc1dcce(0x566)+_0x4eff34+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4bad91+_0xc1dcce(0x393)+simpleMathPrompt+_0xc1dcce(0x7d1),_0x4f311c={'type':'OBJECT','properties':{'questionText':{'type':_0xc1dcce(0x1e7)},'questionType':{'type':_0xc1dcce(0x1e7),'enum':[_0xc1dcce(0x34f),'short_answer']},'options':{'type':_0xc1dcce(0x926),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xc1dcce(0x5c9)},'idealAnswer':{'type':_0xc1dcce(0x1e7)},'explanation':{'type':_0xc1dcce(0x1e7)},'imageCode':{'type':_0xc1dcce(0x1e7)}},'required':[_0xc1dcce(0x2b6),_0xc1dcce(0x54a),_0xc1dcce(0x832)]},_0x28c80e={'type':_0xc1dcce(0xb1),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x4f311c}},'required':[_0xc1dcce(0x9b2),_0xc1dcce(0x88e)]};await handleApiCall(_0x1e96a7,'กำลังสร้างแบบทดสอบจาก\x20Blueprint...',_0x28c80e);}catch(_0x1c8b5c){console[_0xc1dcce(0x962)](_0xc1dcce(0x3ff),_0x1c8b5c),showMessage(_0xc1dcce(0x4b1)+_0x1c8b5c[_0xc1dcce(0x52c)]),_0x54c6f5[_0xc1dcce(0x581)]=_0xc1dcce(0x10a);}finally{_0x591b1c[_0xc1dcce(0x635)][_0xc1dcce(0x8c5)](_0xc1dcce(0x99e)),_0x1ec2bc[_0xc1dcce(0xd7)]=![];}}function renderAdminSyncDashboard(_0xe433c,_0x1b4b84){const _0x373d8a=_0x1579df,_0x9b3fef=Object['values'](_0xe433c[_0x373d8a(0x5da)]||{}),_0x39f4fc=_0x9b3fef['length'],_0x362da8=[..._0x9b3fef][_0x373d8a(0x774)]((_0x27a582,_0x47f5fb)=>_0x47f5fb[_0x373d8a(0x948)]-_0x27a582[_0x373d8a(0x948)]),_0x44ada8=_0xe433c[_0x373d8a(0x2ef)],_0x1fbb20=_0x362da8[_0x373d8a(0x931)](_0x2ed1fd=>{const _0xa4de8a=_0x373d8a;let _0x1a0fd7=![];if(_0x2ed1fd[_0xa4de8a(0x6ac)]&&_0x44ada8!==-0x1){const _0x27a77e=_0x2ed1fd['answers'][_0xa4de8a(0x974)](_0x1f6047=>_0x1f6047[_0xa4de8a(0x688)]===_0x44ada8);_0x27a77e&&_0x27a77e[_0xa4de8a(0x304)]&&(_0x1a0fd7=!![]);}const _0x198f77=_0x1a0fd7?_0xa4de8a(0x59e):_0xa4de8a(0x380);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x198f77+_0xa4de8a(0x4b5)+_0x2ed1fd[_0xa4de8a(0x9a5)]+_0xa4de8a(0x7ba)+_0x2ed1fd[_0xa4de8a(0x948)]+_0xa4de8a(0x67e);})[_0x373d8a(0x7b1)](''),_0x1f8a75=_0xe433c[_0x373d8a(0x55e)][_0x373d8a(0x88e)],_0x5f1b06=_0x1f8a75[_0x373d8a(0x931)]((_0x3ae317,_0x514f3b)=>{const _0x3ac77e=_0x373d8a,_0x492f9d=_0x9b3fef[_0x3ac77e(0x34b)](_0xfa26fb=>_0xfa26fb[_0x3ac77e(0x6ac)]&&_0xfa26fb[_0x3ac77e(0x6ac)][_0x3ac77e(0x974)](_0x15b4f3=>_0x15b4f3[_0x3ac77e(0x688)]===_0x514f3b&&_0x15b4f3[_0x3ac77e(0x304)]))[_0x3ac77e(0x783)],_0x1f5b25=_0x514f3b===_0x44ada8,_0x50685e=_0x1f5b25?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x3ac77e(0x59b);return _0x3ac77e(0x3fa)+_0x50685e+_0x3ac77e(0x1b2)+(_0x514f3b+0x1)+_0x3ac77e(0x5e6)+_0x492f9d+_0x3ac77e(0x8f8)+_0x39f4fc+_0x3ac77e(0x4a5);})[_0x373d8a(0x7b1)]('');let _0x299bd8='',_0x179441='';if(_0x1b4b84){const _0x17a6d6=_0xe433c[_0x373d8a(0x2ef)]>=_0x1f8a75[_0x373d8a(0x783)]-0x1;_0x299bd8=_0x373d8a(0x2ac)+(_0x17a6d6?_0x373d8a(0x4a8):_0x373d8a(0x572))+_0x373d8a(0x18e),_0x179441=_0x373d8a(0x52f);}const _0x526971=_0x373d8a(0x1f4)+_0xe433c[_0x373d8a(0x55e)]['topic']+_0x373d8a(0x5ab)+_0x179441+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x1fbb20||_0x373d8a(0x889))+_0x373d8a(0x5f5)+_0x5f1b06+_0x373d8a(0x370)+(_0x1b4b84?_0x373d8a(0x6cf)+_0x299bd8+_0x373d8a(0x49d):'')+_0x373d8a(0xda);liveGameView[_0x373d8a(0x581)]=_0x526971;if(_0x1b4b84){document[_0x373d8a(0x632)](_0x373d8a(0x7ed))[_0x373d8a(0x24d)]=async()=>{const _0x3fdec3=_0x373d8a,_0x50ff7f=doc(db,'artifacts/'+appId+_0x3fdec3(0x8f2),currentLiveGameId),_0x3d43ee=_0xe433c[_0x3fdec3(0x2ef)]+0x1;if(_0x3d43ee<_0x1f8a75[_0x3fdec3(0x783)]){const _0x5e7f21={};Object['keys'](_0xe433c['players'])[_0x3fdec3(0x2fb)](_0x1d5cd5=>{const _0x1c5094=_0x3fdec3;_0x5e7f21[_0x1c5094(0x21f)+_0x1d5cd5+'.answered']=![];}),await updateDoc(_0x50ff7f,{..._0x5e7f21,'status':_0x3fdec3(0x3d1),'currentQuestionIndex':_0x3d43ee,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x50ff7f,{'status':_0x3fdec3(0xd8)});};const _0x3e4ab7=document[_0x373d8a(0x632)](_0x373d8a(0x584));_0x3e4ab7&&(_0x3e4ab7[_0x373d8a(0x24d)]=()=>{const _0x252ab1=_0x373d8a;showConfirmation(_0x252ab1(0x45b),async()=>{const _0x1e71f1=_0x252ab1,_0x3d16d8=doc(db,_0x1e71f1(0x88d)+appId+_0x1e71f1(0x8f2),currentLiveGameId);await updateDoc(_0x3d16d8,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0xa85ebb){const _0x51cccd=_0x1579df;switchProjectTab(_0x51cccd(0x9b5));const _0x4bf341=document[_0x51cccd(0x632)](_0x51cccd(0x2fe)),_0x34716c=document[_0x51cccd(0x632)](_0x51cccd(0x813)),_0x5e2473=document[_0x51cccd(0x632)]('generated-quiz-container');document[_0x51cccd(0x632)]('quiz-generation-area')[_0x51cccd(0x635)][_0x51cccd(0x74c)](_0x51cccd(0x99e)),_0x5e2473[_0x51cccd(0x581)]='',_0x4bf341[_0x51cccd(0x635)][_0x51cccd(0x74c)](_0x51cccd(0x99e)),_0x34716c[_0x51cccd(0xf3)]=_0x51cccd(0x1ce)+_0xa85ebb[_0x51cccd(0x9b2)]+_0x51cccd(0x895);try{const _0x54d8e8=_0xa85ebb[_0x51cccd(0x88e)][_0x51cccd(0x931)]((_0x59d7c7,_0x47f049)=>{const _0x2daf8e=_0x51cccd;let _0x27597f=_0x47f049+0x1+'.\x20'+(_0x59d7c7['questionText']||_0x59d7c7[_0x2daf8e(0x36b)])+'\x0a';if(_0x59d7c7[_0x2daf8e(0x518)])_0x27597f+=_0x59d7c7[_0x2daf8e(0x518)]['map']((_0x37c97d,_0x27d3ad)=>_0x2daf8e(0x65a)+(_0x27d3ad===_0x59d7c7[_0x2daf8e(0x48f)]?_0x2daf8e(0x134):'')+'\x20'+_0x37c97d)['join']('\x0a');else _0x59d7c7[_0x2daf8e(0x3ad)]&&(_0x27597f+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x59d7c7[_0x2daf8e(0x3ad)]);return _0x27597f;})[_0x51cccd(0x7b1)]('\x0a\x0a');_0x34716c[_0x51cccd(0xf3)]=_0x51cccd(0x3bc);const _0x12dc59=_0xa85ebb[_0x51cccd(0x88e)][_0x51cccd(0x783)],_0x37aae3=_0x51cccd(0x709)+_0xa85ebb[_0x51cccd(0x9b2)]+_0x51cccd(0x7f3)+_0x12dc59+_0x51cccd(0x123)+_0x54d8e8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20โดยต้องปฏิบัติตามกฎเหล็กต่อไปนี้อย่างเคร่งครัด:\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็ก\x20(ต้องปฏิบัติตามทุกข้อ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ความถูกต้อง\x20100%:**\x20คำถาม\x20ตัวเลือก\x20และเฉลยที่สร้างขึ้นใหม่ทั้งหมดต้องถูกต้องตามหลักวิชาการและคณิตศาสตร์\x20100%\x20**ห้ามมีข้อผิดพลาดโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**จำนวนข้อที่แน่นอน:**\x20แบบทดสอบชุดใหม่ต้องมี\x20**'+_0x12dc59+'\x20ข้อพอดี**\x20ห้ามขาด\x20ห้ามเกิน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ความเป็นคู่ขนาน:**\x20โจทย์ใหม่ต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเทียบเท่ากับโจทย์เดิม\x20แต่ต้องใช้ตัวเลข\x20สถานการณ์\x20หรือคำถามที่แตกต่างออกไป\x20**ห้ามคัดลอกโจทย์เดิม**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**โครงสร้างเหมือนเดิม:**\x20ประเภทของคำถามแต่ละข้อ\x20(เช่น\x20ปรนัย,\x20เติมคำ)\x20ต้องเหมือนกับข้อสอบต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**คุณภาพของตัวเลือก\x20(สำหรับปรนัย):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ต้องมีคำตอบที่ถูกต้องเพียง\x20**หนึ่งเดียว**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวง\x20(Distractors)\x20ต้องมีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x20แต่ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามมีตัวเลือกที่กำกวมหรือมีความหมายซ้ำซ้อนกัน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x51cccd(0x7d1),_0x22ed08={'type':'OBJECT','properties':{'questionText':{'type':_0x51cccd(0x1e7)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x51cccd(0x236),_0x51cccd(0x958),_0x51cccd(0x357)]},'options':{'type':'ARRAY','items':{'type':_0x51cccd(0x1e7)}},'correctAnswerIndex':{'type':_0x51cccd(0x5c9)},'idealAnswer':{'type':_0x51cccd(0x1e7)},'correctAnswer':{'type':_0x51cccd(0x241)},'stem':{'type':_0x51cccd(0x1e7)},'correctResponse':{'type':_0x51cccd(0x1e7)},'allResponses':{'type':_0x51cccd(0x926),'items':{'type':_0x51cccd(0x1e7)}},'explanation':{'type':_0x51cccd(0x1e7)},'imageCode':{'type':_0x51cccd(0x1e7)}},'required':[_0x51cccd(0x2b6),_0x51cccd(0x54a),_0x51cccd(0x832)]},_0x160dbc={'type':_0x51cccd(0xb1),'properties':{'topic':{'type':_0x51cccd(0x1e7)},'questions':{'type':_0x51cccd(0x926),'items':_0x22ed08}},'required':[_0x51cccd(0x9b2),'questions']},_0x41bf62=await callAnalysisApi(_0x37aae3,_0x160dbc);_0x41bf62[_0x51cccd(0x88e)][_0x51cccd(0x783)]>_0x12dc59&&(_0x41bf62['questions']=_0x41bf62[_0x51cccd(0x88e)][_0x51cccd(0xc4)](0x0,_0x12dc59)),_0x41bf62['topic']=_0x51cccd(0x495)+_0xa85ebb['topic'],_0x41bf62[_0x51cccd(0x9af)]=_0xa85ebb[_0x51cccd(0x9af)],currentQuizData=_0x41bf62,displayGeneratedQuiz(_0x41bf62),document['getElementById'](_0x51cccd(0x344))['scrollIntoView']({'behavior':_0x51cccd(0x1cb)});}catch(_0x159f9c){console[_0x51cccd(0x962)](_0x51cccd(0x5b6),_0x159f9c),showMessage(_0x51cccd(0x4b1)+_0x159f9c[_0x51cccd(0x52c)]),_0x5e2473[_0x51cccd(0x581)]=_0x51cccd(0x8aa);}finally{_0x4bf341[_0x51cccd(0x635)][_0x51cccd(0x8c5)](_0x51cccd(0x99e));}}async function handleGenerateParallelPostTest(_0x1a04dd){const _0x178597=_0x1579df,_0x3b3f2d=document[_0x178597(0x632)]('results-tab-content'),_0x37e45f=document['getElementById'](_0x178597(0x2c4));_0x37e45f['classList'][_0x178597(0x8c5)](_0x178597(0x99e));const _0xb0e302=_0x178597(0x24e);_0x3b3f2d[_0x178597(0x2cc)](_0x178597(0x181),_0xb0e302);try{const _0x128e73=_0x1a04dd['questions']['map']((_0x17baa1,_0x3c173f)=>{const _0x54b836=_0x178597;let _0x25532a=_0x3c173f+0x1+'.\x20'+(_0x17baa1['questionText']||_0x17baa1[_0x54b836(0x36b)]);if(_0x17baa1[_0x54b836(0x518)])_0x25532a+=_0x54b836(0x117)+_0x17baa1[_0x54b836(0x518)][_0x54b836(0x7b1)](',\x20');return _0x25532a;})[_0x178597(0x7b1)]('\x0a\x0a'),_0x15c5d3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x1a04dd[_0x178597(0x9b2)]+_0x178597(0x332)+_0x128e73+_0x178597(0x23c)+simpleMathPrompt+_0x178597(0x7d1),_0x4a6af7={'type':_0x178597(0xb1),'properties':{'topic':{'type':_0x178597(0x1e7)},'questions':{'type':'ARRAY','items':{'type':_0x178597(0xb1),'properties':{'questionText':{'type':_0x178597(0x1e7)},'questionType':{'type':_0x178597(0x1e7)},'options':{'type':_0x178597(0x926),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x178597(0x5c9)},'idealAnswer':{'type':_0x178597(0x1e7)},'explanation':{'type':_0x178597(0x1e7)}},'required':[_0x178597(0x2b6),_0x178597(0x832)]}}},'required':[_0x178597(0x9b2),_0x178597(0x88e)]},_0x5b6d64=await callAnalysisApi(_0x15c5d3,_0x4a6af7),_0x15b99c=_0x1a04dd[_0x178597(0x9b2)][_0x178597(0x399)]('(ก่อนเรียน)','')[_0x178597(0x3d4)](),_0xe0d61d=_0x178597(0x923)+_0x15b99c,_0x19ec3d={..._0x5b6d64,'topic':_0xe0d61d,'quizType':_0x1a04dd[_0x178597(0x9af)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x178597(0x883)](),'status':_0x178597(0x6c0),'settings':_0x1a04dd['settings'],'quizMode':'post-test','pairedQuizId':_0x1a04dd['id']};let _0x5d6d5d;while(!![]){_0x5d6d5d=Math[_0x178597(0x1e3)](0x3e8+Math[_0x178597(0x4fa)]()*0x2328)[_0x178597(0x994)]();const _0x513de4=await getDoc(doc(db,_0x178597(0x88d)+appId+_0x178597(0x207),_0x5d6d5d));if(!_0x513de4[_0x178597(0x3e1)]())break;}await setDoc(doc(db,_0x178597(0x88d)+appId+_0x178597(0x207),_0x5d6d5d),_0x19ec3d);const _0xd19635=doc(db,_0x178597(0x88d)+appId+_0x178597(0x207),_0x1a04dd['id']);await updateDoc(_0xd19635,{'pairedQuizId':_0x5d6d5d}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x42d5b9){console[_0x178597(0x962)](_0x178597(0x3af),_0x42d5b9),showMessage(_0x178597(0x4b1)+_0x42d5b9[_0x178597(0x52c)]);}finally{const _0x36f85e=document[_0x178597(0x632)](_0x178597(0x4d9));if(_0x36f85e)_0x36f85e['remove']();_0x37e45f['classList'][_0x178597(0x74c)]('hidden');}}async function handleGenerateParallelTest(){const _0x2dee67=_0x1579df,_0x2707fc=document[_0x2dee67(0x632)]('parallel-test-upload-input'),_0x192b04=_0x2707fc[_0x2dee67(0xf4)][0x0];if(!_0x192b04){showMessage(_0x2dee67(0x7d8));return;}const _0x514fba=document[_0x2dee67(0x632)]('loader'),_0x18fbad=document[_0x2dee67(0x632)](_0x2dee67(0x813)),_0x3afd93=document[_0x2dee67(0x632)](_0x2dee67(0x8d2)),_0x552f3d=document[_0x2dee67(0x632)](_0x2dee67(0x6ee));_0x552f3d[_0x2dee67(0xd7)]=!![],document['getElementById'](_0x2dee67(0x3e0))[_0x2dee67(0x635)][_0x2dee67(0x74c)](_0x2dee67(0x99e)),_0x3afd93[_0x2dee67(0x581)]='',_0x514fba['classList'][_0x2dee67(0x74c)](_0x2dee67(0x99e)),_0x18fbad[_0x2dee67(0xf3)]='กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...';try{const _0x10e0aa=await extractTextFromPdf(_0x192b04);if(!_0x10e0aa[_0x2dee67(0x3d4)]())throw new Error('ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย');_0x18fbad[_0x2dee67(0xf3)]=_0x2dee67(0x3bc);const _0x1616d2=document['getElementById']('include-images-checkbox')[_0x2dee67(0x37c)],_0x2cedee=_0x1616d2?_0x2dee67(0x362):'',_0x4380e9=_0x2dee67(0x7c2)+_0x10e0aa+_0x2dee67(0x133)+_0x2cedee+_0x2dee67(0x393)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x9e8c18={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2dee67(0x1e7),'enum':['multiple_choice',_0x2dee67(0x236)]},'options':{'type':_0x2dee67(0x926),'items':{'type':_0x2dee67(0x1e7)}},'correctAnswerIndex':{'type':_0x2dee67(0x5c9)},'idealAnswer':{'type':_0x2dee67(0x1e7)},'explanation':{'type':_0x2dee67(0x1e7)},'imageCode':{'type':'STRING'}},'required':[_0x2dee67(0x2b6),_0x2dee67(0x54a),'explanation']},_0x5310a2={'type':_0x2dee67(0xb1),'properties':{'topic':{'type':_0x2dee67(0x1e7)},'questions':{'type':_0x2dee67(0x926),'items':_0x9e8c18}},'required':['topic',_0x2dee67(0x88e)]};await handleApiCall(_0x4380e9,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x5310a2);}catch(_0x12bb69){console[_0x2dee67(0x962)](_0x2dee67(0x92a),_0x12bb69),showMessage('เกิดข้อผิดพลาด:\x20'+_0x12bb69[_0x2dee67(0x52c)]),_0x3afd93[_0x2dee67(0x581)]=_0x2dee67(0x8aa);}finally{_0x514fba[_0x2dee67(0x635)]['add'](_0x2dee67(0x99e)),_0x552f3d[_0x2dee67(0xd7)]=![];}}async function handleRegenerateQuestionInEditor(_0x2ac509){const _0x26236a=_0x1579df;if(currentEditingQuizData===null)return;const _0x4703ab=document[_0x26236a(0x20a)](_0x26236a(0x90f)+_0x2ac509+'\x22]');_0x4703ab&&(_0x4703ab[_0x26236a(0x581)]=_0x26236a(0x27e));const _0x4f5e51=currentEditingQuizData['questions'][_0x2ac509],_0x9cca55=currentEditingQuizData[_0x26236a(0x9b2)],_0x2ea519=_0x4f5e51[_0x26236a(0x54a)],_0x212562={'type':'OBJECT','properties':{'questionText':{'type':_0x26236a(0x1e7)},'options':{'type':'ARRAY','items':{'type':_0x26236a(0x1e7)}},'correctAnswerIndex':{'type':_0x26236a(0x5c9)},'explanation':{'type':_0x26236a(0x1e7)}},'required':[_0x26236a(0x2b6),_0x26236a(0x518),_0x26236a(0x48f),_0x26236a(0x832)]},_0x250d9a={'type':_0x26236a(0xb1),'properties':{'questionText':{'type':_0x26236a(0x1e7)},'idealAnswer':{'type':_0x26236a(0x1e7)},'explanation':{'type':_0x26236a(0x1e7)}},'required':['questionText',_0x26236a(0x3ad),_0x26236a(0x832)]};let _0x33f410,_0x2f59da='';_0x2ea519===_0x26236a(0x34f)?(_0x33f410=_0x212562,_0x2f59da=_0x26236a(0x8c1)):(_0x33f410=_0x250d9a,_0x2f59da=_0x26236a(0x9a7));const _0x114d48=_0x26236a(0x541)+_0x9cca55+_0x26236a(0x31c)+_0x2f59da+_0x26236a(0x149)+(_0x4f5e51[_0x26236a(0x2b6)]||_0x4f5e51['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x1ff33f=await callAnalysisApi(_0x114d48,_0x33f410);currentEditingQuizData[_0x26236a(0x88e)][_0x2ac509]={..._0x4f5e51,..._0x1ff33f},renderQuizEditor(currentEditingQuizData);}catch(_0x3d271f){console[_0x26236a(0x962)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x3d271f),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x553ed3=_0x1579df,_0x2f3b69=document[_0x553ed3(0x632)](_0x553ed3(0x325));currentMode==='student'?(adminPasswordModal[_0x553ed3(0x635)]['remove'](_0x553ed3(0x99e)),document[_0x553ed3(0x632)](_0x553ed3(0x450))['focus']()):(currentMode=_0x553ed3(0x1d7),_0x2f3b69['innerHTML']=_0x553ed3(0x8f1),_0x2f3b69[_0x553ed3(0xef)]=_0x553ed3(0x2ed),showView('student'));}function handleAdminLogin(){const _0x511e90=_0x1579df,_0x40d8c1=document[_0x511e90(0x632)](_0x511e90(0x450)),_0x36c104=document[_0x511e90(0x632)](_0x511e90(0x666));if(_0x40d8c1[_0x511e90(0x3d7)]===_0x511e90(0x91d)){adminPasswordModal[_0x511e90(0x635)][_0x511e90(0x8c5)](_0x511e90(0x99e)),_0x40d8c1[_0x511e90(0x3d7)]='',_0x36c104[_0x511e90(0x635)][_0x511e90(0x8c5)](_0x511e90(0x99e)),currentMode=_0x511e90(0x935);const _0x169638=document[_0x511e90(0x632)](_0x511e90(0x325));_0x169638['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x169638['title']=_0x511e90(0x50e),showView(_0x511e90(0x7ae));}else _0x36c104[_0x511e90(0x635)][_0x511e90(0x74c)](_0x511e90(0x99e)),_0x40d8c1['value']='';}function switchProjectTab(_0x3e3bd7){const _0xc28dd3=_0x1579df;[_0xc28dd3(0x9b5),_0xc28dd3(0x6ab),'leaderboard'][_0xc28dd3(0x2fb)](_0x2865b3=>{const _0x1a8cc3=_0xc28dd3;document[_0x1a8cc3(0x632)](_0x2865b3+_0x1a8cc3(0x8de))[_0x1a8cc3(0x635)]['remove'](_0x1a8cc3(0x6c0)),document['getElementById'](_0x2865b3+_0x1a8cc3(0x72d))[_0x1a8cc3(0x635)][_0x1a8cc3(0x8c5)]('hidden');}),document[_0xc28dd3(0x632)](_0x3e3bd7+_0xc28dd3(0x8de))['classList'][_0xc28dd3(0x8c5)](_0xc28dd3(0x6c0)),document[_0xc28dd3(0x632)](_0x3e3bd7+_0xc28dd3(0x72d))[_0xc28dd3(0x635)][_0xc28dd3(0x74c)](_0xc28dd3(0x99e));}function switchQuizDetailTab(_0x2d7ee3){const _0x1ae7a4=_0x1579df,_0x28946f={'analytics':{'btn':_0x1ae7a4(0x86b),'content':_0x1ae7a4(0xf5)},'scores':{'btn':_0x1ae7a4(0x1da),'content':_0x1ae7a4(0x324)},'leaderboard-quiz':{'btn':_0x1ae7a4(0x61f),'content':_0x1ae7a4(0x614)},'behavior-log':{'btn':_0x1ae7a4(0x1b3),'content':_0x1ae7a4(0x97a)}};for(const _0x4e659c in _0x28946f){document[_0x1ae7a4(0x632)](_0x28946f[_0x4e659c][_0x1ae7a4(0x49c)])[_0x1ae7a4(0x635)][_0x1ae7a4(0x74c)](_0x1ae7a4(0x6c0)),document[_0x1ae7a4(0x632)](_0x28946f[_0x4e659c][_0x1ae7a4(0x1fe)])['classList'][_0x1ae7a4(0x8c5)]('hidden');}document[_0x1ae7a4(0x632)](_0x28946f[_0x2d7ee3]['btn'])[_0x1ae7a4(0x635)][_0x1ae7a4(0x8c5)](_0x1ae7a4(0x6c0)),document['getElementById'](_0x28946f[_0x2d7ee3]['content'])[_0x1ae7a4(0x635)][_0x1ae7a4(0x74c)](_0x1ae7a4(0x99e));}function showMessage(_0x5c9a73,_0x8b1964=null){const _0x98448b=_0x1579df;modalMessage[_0x98448b(0xf3)]=_0x5c9a73,modalConfirmAction=_0x8b1964,messageModal[_0x98448b(0x635)][_0x98448b(0x74c)]('hidden');}function showConfirmation(_0x3e74f3,_0x54138b){const _0x32c095=_0x1579df;document[_0x32c095(0x632)]('confirmation-message')[_0x32c095(0xf3)]=_0x3e74f3,document[_0x32c095(0x632)](_0x32c095(0x6dd))['querySelector']('h3')['textContent']=_0x32c095(0x1a3),confirmAction=_0x54138b,confirmationModal[_0x32c095(0x635)][_0x32c095(0x74c)]('hidden');}function listenForProjects(){const _0x5d053b=_0x1579df,_0x1e3fac=doc(db,_0x5d053b(0x5c3),_0x5d053b(0x6e8));onSnapshot(_0x1e3fac,_0x31e692=>{const _0x5b19a8=_0x5d053b;if(_0x31e692['exists']()){const _0x5a8007=_0x31e692['data']();globalDashboardSettings['projectSort']=_0x5a8007['projectSort']||_0x5b19a8(0x528),globalDashboardSettings[_0x5b19a8(0x1a6)]=_0x5a8007[_0x5b19a8(0x1a6)]||[],globalDashboardSettings[_0x5b19a8(0x33d)]=_0x5a8007['projectOrder']||[];}allProjects[_0x5b19a8(0x783)]>0x0&&renderProjects();});const _0x416bd1=collection(db,_0x5d053b(0x88d)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x416bd1,_0x1c33c1=>{const _0x1686d0=_0x5d053b;allProjects=_0x1c33c1[_0x1686d0(0x6b3)][_0x1686d0(0x931)](_0x47f040=>({'id':_0x47f040['id'],..._0x47f040[_0x1686d0(0x844)]()})),renderProjects();},_0x39e0e9=>{const _0x438403=_0x5d053b;console[_0x438403(0x962)](_0x438403(0x455),_0x39e0e9),showMessage(_0x438403(0x415));});}function showColorPalette(_0x27944f,_0x260c38){const _0x69bc25=_0x1579df;document[_0x69bc25(0x37d)](_0x69bc25(0x374))[_0x69bc25(0x2fb)](_0xb623de=>_0xb623de[_0x69bc25(0x74c)]());const _0x369b24=[_0x69bc25(0x4b3),_0x69bc25(0x5f2),_0x69bc25(0x23f),_0x69bc25(0x3e3),_0x69bc25(0x493),_0x69bc25(0x99d),_0x69bc25(0x4eb),_0x69bc25(0x791),_0x69bc25(0x939)],_0x246935=document[_0x69bc25(0x42f)](_0x69bc25(0x93e));_0x246935[_0x69bc25(0x33e)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x369b24[_0x69bc25(0x2fb)](_0x5d5ce2=>{const _0x3c4a0d=_0x69bc25,_0x8276cc=document['createElement'](_0x3c4a0d(0x93e));_0x8276cc[_0x3c4a0d(0x33e)]=_0x3c4a0d(0x3a3),_0x8276cc[_0x3c4a0d(0x86d)]['backgroundColor']=_0x5d5ce2,_0x8276cc['addEventListener'](_0x3c4a0d(0x379),()=>{const _0x498a24=_0x3c4a0d;handleProjectColorChange(_0x260c38,_0x5d5ce2),_0x246935[_0x498a24(0x74c)]();}),_0x246935['appendChild'](_0x8276cc);}),document[_0x69bc25(0x708)][_0x69bc25(0x38f)](_0x246935);const _0x14fbae=_0x27944f['getBoundingClientRect']();_0x246935[_0x69bc25(0x86d)][_0x69bc25(0x37e)]=_0x14fbae[_0x69bc25(0x229)]+window[_0x69bc25(0x718)]+'px',_0x246935[_0x69bc25(0x86d)][_0x69bc25(0x678)]=_0x14fbae[_0x69bc25(0x678)]+window[_0x69bc25(0x3b7)]-_0x246935[_0x69bc25(0x92b)]/0x2+'px';}function _0x2db2(){const _0x380989=['transition-all','admin','back-from-results-btn','standard','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','#E5E7EB','beginPath','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','preventDefault','.sortable-header','div','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','กรุณาป้อนหัวข้อสำหรับใบงาน','quizMode','presentation-scratchpad-btn','lastAnswerCorrect','จำนวนเต็มลบ','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','comparison-overall-content','score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','numPages','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','student-project-leaderboard-tab','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','#view-rankings-btn','text-blue-700\x20bg-blue-100','cancel-quiz-status-btn','STOP','behaviorLog','parts','short','กรุณาพิมพ์คำตอบของคุณ','warn','true_false','perfect_score_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','Error\x20creating\x20project:','แผนการสอน:\x20','ไม่สามารถสร้างโปรเจคได้','.question-editor-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการลบโปรเจค','error','.live-summary-tooltip.visible','.ql-editor','student-initial-view','fill_in_with_choices','back-to-student-home-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เซียนสมองไว','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','show_results_and_answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','\x20ข้อ\x20','analytics','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','.star-quiz-btn','mixed','find','lesson-plan-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ตารางความถี่','project-detail','bar','behavior-log-tab-content','/public/data/liveGames','$1^{$2}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','คณิตศาสตร์','ความชันและเส้นตรง','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','export-pdf-modal','กรุณาพิมพ์คำตอบของกลุ่ม','topic-input','bg-green-50','.\x20แต่ละข้อมี\x20','ai-quiz-app-aefee.firebaseapp.com','</option>','trail','Error\x20deleting\x20custom\x20topic:','exitFullscreen','.project-card-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</span>','getItem','.topic-category','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ไม่มี','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','toString','push','ฟังก์ชันสัมพัทธ์\x20(rational)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบสำเร็จ','text','targetId','กำลังสร้างรูปภาพ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#E0E7FF','hidden','.quiz-bank-move-btn','274192258111','some','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','screen','[role=\x22textbox\x22]','name','upperGroupNames','แบบเติมคำตอบ','</li>','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','Error\x20joining\x20live\x20game:','ค่าสัมบูรณ์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','highlighter-tool-btn','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','quizType','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','print','topic','modal-close-btn','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','manage','entries','(ก่อนเรียน)\x20','สมการเชิงเส้นตัวแปรเดียว','fill','function','live-player-management','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','save','เส้นรอบรูป','OBJECT','nickname-input','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','fill_in_the_blank','custom-math-topic-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#per-question-options\x20textarea','Failed\x20to\x20kick\x20player\x20','export-leaderboard-pdf-btn','per-question-text','กำลังสร้างแบบทดสอบจากหัวข้อ...','contentEditable','.pin-project-btn','scratchpad-controls','Error\x20loading\x20user\x20preferences:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','slice','fixedData','text-red-500\x20hover:text-red-700','student-name-select','ไม่พบข้อมูลผู้ใช้','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','timerMode','matching','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-settings-btn','เกิดข้อผิดพลาดในการเปลี่ยนสี','คุณต้องการให้\x20AI\x20สร้างแบบทดสอบชุดนี้ในเวอร์ชันที่ง่ายลงหรือไม่?\x20ระบบจะสร้างเป็นแบบทดสอบชุดใหม่ในโปรเจคนี้','px,\x20','removeAttribute','กลุ่ม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','มัธยฐาน','fix\x20the\x20option','border-red-300\x20bg-red-50','disabled','podium','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ยังไม่มีนักเรียนส่งงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','.delete-svg-btn','export-tutor-pdf-btn','members','text-white','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20from\x20link:','ย้ายแบบทดสอบไปโปรเจคอื่น','draggable-text','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คู่\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','behavior-log-container','กฎบวกและกฎคูณ','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','เงินงวด\x20(อนุกรมเงินงวด)','title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','bg-blue-100\x20text-blue-800','empty','textContent','files','analytics-tab-content','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','first_try_ace','parse','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','cursor','postTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','(^|[^\x5c\x5c])\x5cb','mouse','helvetica','fa-bolt\x20text-blue-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','.quiz-bank-present-btn','adaptive-quiz-checkbox','Error\x20joining\x20team\x20quiz:','set','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','confirm-rename-quiz-btn','submittedAt','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','contains','สามเหลี่ยม\x20(ชนิด/สมบัติ)','retake-quiz-loop-btn','กรุณาเลือกสถานะ','scale','.topic-name-display','interesting-stats-container','back-to-project-btn','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','items','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','วงกลม:\x20คอร์ดและเส้นสัมผัส','cancel-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','authed_project_','API\x20call\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','</td>','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x20ข้อ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','math-topics-checkbox-container','submission','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','documentElement','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','passcode-prompt-message','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การบวกทศนิยม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','ไม่พบข้อมูลแบบทดสอบ','choices_only','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','strokeStyle','pre-test-checkbox','Error\x20starting\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[*]','ฟังก์ชันยกกำลัง','\x22\x20data-topic=\x22','imageCode','requestFullscreen','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','fixed','_opt0\x22>ใช่</label></div>','confirm-bulk-quiz-settings-btn','ไม่พบแบบทดสอบสำหรับรหัสนี้','localeCompare','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','quiz-schedule-start-container','Error\x20updating\x20project\x20color:','POST','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','.sort-indicator','view-my-progress-btn','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','quiz-status-options','back-to-dashboard-btn','close-game-final-btn','Error\x20generating\x20easy\x20version\x20quiz:','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<option\x20value=\x22\x22>กำลังโหลด...</option>','projectSortOrder','attempts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineCap','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','.generate-post-test-btn','แผนภาพเวนน์','/users/','พีชคณิตและฟังก์ชัน','allResponses','8MKxHyY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchcancel','\x22\x20data-pre-test-id=\x22','text-red-300\x20hover:text-red-100','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','deg','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','การบวกเศษส่วน','Error\x20during\x20class\x20analysis:','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','ถูกต้อง!','list-view-btn','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','<svg','เส้นจำนวน','ยังไม่เต็มนะ','results-table-container','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','_opt0\x22\x20name=\x22question','wheel','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','undo-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','เรขาคณิต','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','\x22\x20value=\x22true\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','<span\x20class=\x22sort-indicator\x20ml-2\x22>','beforeend','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','overallGroups','การแจกแจงปกติและ\x20z-score','<p>','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createdAt','substring','ฟังก์ชันลอการิทึม','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','/public/data/projects','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','timer-container','\x5cfrac','</label></div>','commit','team-quiz-topic','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','text-gray-500','on_fire','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','lowerGroupResponders','คะแนนเต็ม','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','</tbody></table>','กราฟฟังก์ชันตรีโกณ','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','ยืนยันการกระทำ','keydown','text-green-600\x20font-bold','pinnedProjects','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่ส่ง','สร้างคำถามแบบใช่/ไม่ใช่','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กำลังอ่านและเตรียมไฟล์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-student-select','text-green-800','\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','behavior-log-tab-btn','resize','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','abs','Failed\x20to\x20create\x20initial\x20submission\x20record:','getContext','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','bg-purple-50','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','verify-answers-btn','แบบทดสอบนี้ปิดใช้งานอยู่','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','วงรี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','MathJax','ดีมาก','bank-quiz-list','สัญกรณ์วิทยาศาสตร์','#ffffff','presentation-short-answer-input','smooth','student-result-area','text-gray-200','กำลังวิเคราะห์ข้อสอบ\x20\x22','status','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','.score','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','rows','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','shuffle','confirm-admin-login-btn','student','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','การแจกแจงทวินาม\x20(พื้นฐาน)','scores-tab-btn','getPage','แก้ระบบสมการด้วยเมทริกซ์','ยืนยันและอัปเดตทั้งหมด','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','touch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','save-quiz-edits-btn','Error\x20updating\x20project\x20name:','STRING','รูปสแควร์รูท\x20(surd)','delete','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','medium','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ห.ร.ม.\x20(GCD)','verify-answers-editor-btn','getAttributeNS','(คัดลอก)\x20','fa-user-astronaut\x20text-blue-700','เพิ่มหัวข้อ\x20\x22','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','/studentProfiles','ไม่สามารถบันทึกการตั้งค่าได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-worksheet-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','generate-from-file-btn','ยกเลิกการจับคู่สำเร็จ','.topic-name-input','analyze-strengths-btn','content','split','13870LQTjKA','text-red-900','check-answer-btn','modal-passing-score-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','save-visibility-settings-btn','insertBefore','/public/data/quizzes','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','querySelector','editable-quiz-topic','สอบปกติ','แผนภาพกล่อง\x20(box\x20plot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','modal-timer-duration-label','ผิด','finishReason','.quiz-bank-parallel-btn','groups','\x20จาก\x20','text-blue-700','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','mode','min','true','whole_quiz','font-bold\x20text-red-700\x20line-through','export-pdf-btn','ฟังก์ชันผกผัน','players.','คำถามถัดไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','duration-300','fa-pen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','confirm-game-start-modal','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','Error\x20deleting\x20quiz:','bottom','learningGaps','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x22\x20name=\x22question_single\x22\x20value=\x22','download','องค์ประกอบของฟังก์ชัน','close-lesson-plan-modal-footer-btn','trail-tool-btn','geq','live-game','start-presentation-btn','back-to-student-initial-btn','short_answer','student-view','live-race','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','confirm-global-live-btn','ค.ร.น.\x20(LCM)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shouldSaveResults','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','#FEF3C7','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','BOOLEAN','half_mark_status','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รีเซ็ตลำดับโปรเจคแล้ว','อสมการเชิงเส้น','repeat','\x5cfrac{','\x5ctimes','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','passcode-error-msg','เกิดข้อผิดพลาดในการอัปเดตสถานะ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','game-start-modal-title','ความแปรปรวน','startedAt','7VPLvwi','#26890c','\x22><p\x20class=\x22font-semibold\x22>','-\x20ข้อ\x20','.edit-quiz-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','isStarred','sqrt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','scheduled','มุมพิเศษ\x2045°-45°-90°','actions-container-','.choice-text','grid-view-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','request','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','จุด\x20เส้น\x20ระนาบ','text-emerald-800','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','Error\x20fetching\x20student\x20rankings:','cos','project-passcode-input','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','num-choices','group','หน่วยมวล/น้ำหนักและการแปลง','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','ความคาดหมาย\x20(Expected\x20value)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','Error\x20starting\x20group\x20quiz:','ฟังก์ชันกำลังสองและกราฟ','</span></div>','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','grabbing','.answeredCurrentQuestion','/public/data/practiceBank','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','3783028zNSYUz','per_question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','Error\x20saving\x20quiz\x20edits:','.scratchpad-content-wrapper','มุมและการวัดมุม','ใช่','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการติดดาว','Failed\x20to\x20resume\x20game\x20session:','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','All\x20groups\x20have\x20finished.\x20Ending\x20game.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x22>ใช่</p>','binom','</div><div\x20class=\x22space-y-2\x22>','จำนวนคู่:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','\x22\x5cn','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','modal-timer-duration-container','topic-tab','presentation-explanation','viewBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','scratchpad-modal','includes','answerText','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','inactive','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกลำดับ','link-tab','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','generate-worksheet-btn','ไม่พบแบบทดสอบ','.delete-submission-btn','text-gray-700','บันทึกแบบทดสอบสำเร็จแล้ว!','lessonPlan','typesetPromise','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','check-presentation-answer-btn','close-presentation-btn','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','save-settings-btn','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','คณิตการเงิน/บูรณาการ','Error\x20saving\x20game\x20results:','questionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','.pen-color-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','team','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Authentication\x20failed:','pow','cancel-export-pdf-btn','cancel-bulk-quiz-settings-btn','Error\x20adding\x20students:','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','project-quizzes-list','เกิดข้อผิดพลาดในการโหลดสถานะ','<div\x20class=\x22mb-3\x20topic-category\x22>','pointerdown','.ai-fix-question-btn','/public/data/quizzes/','results_','1:274192258111:web:4120c9118229b5644dd48a','insertAdjacentHTML','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','quiz-form','strength-weakness-analysis-container','auto-fix-latex-btn','blur','user','input[type=\x22checkbox\x22]','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','solution','COMEBACK_KING','รูปแบบการให้เหตุผล','now','15205640KuAXtK','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','modal-results-display-select','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','destroy','การลบเศษส่วน','ลิมิต','.duplicate-quiz-btn','.toggle-actions-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','quiz-editor-modal','timerDuration','บันทึกการตั้งค่าแล้ว','link-topic-input','ปริมาตรรูปทรงสามมิติ','Error\x20generating\x20worksheet:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','แบบทดสอบที่ติดดาว','สลับไปโหมดผู้ควบคุม','join-group-activity-btn','currentQuestionIndex','<p><strong>คำตอบที่แนะนำ:</strong>\x20','restore','.save-custom-topic-btn','save-project-name-btn','team-student-list','href','Error\x20updating\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','ไม่พบข้อมูลข้อสอบหลังเรียน','forEach','hover:bg-indigo-100','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','loader','student-team-join','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','confirm-quiz-settings-btn','isCorrect','clearRect','\x22\x20class=\x22pin-project-btn\x20','default','opacity-50','turnIndex','candidates','Original\x20quiz\x20not\x20found','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode-input-container','กำลังจับคู่...','confirm-game-start-btn','rgba(255,\x20255,\x200,\x200.5)','starred','scratchpad-close-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','หมดเวลา!\x20กำลังส่งคำตอบ...','confirm-quiz-status-btn','ชื่อหัวข้อห้ามว่าง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show-in-student-dashboard-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p><div>','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x22\x20ให้เป็นคำถามประเภท\x20\x22','innerText','Team\x20Quiz','สร้างแบบทดสอบ','comparison-overall-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-content','mode-switcher-btn','pointsLastQuestion','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','correctResponse','</body></html>','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20saving\x20to\x20question\x20bank:','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','<h1></h1>','ไม่ได้ตอบ','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeEventListener','Attempting\x20to\x20save\x20game\x20results...','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','red','border-green-700','FileReader\x20error:','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','pop','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.group','projectOrder','className','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-yellow-800','manage-tab-content','key','type','Failed\x20to\x20parse\x20JSON\x20from\x20AI','border-red-700','timer-duration-container','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','filter','close-comparison-modal-btn','300984vudtgP','กรุณาเลือกคำตอบของกลุ่ม','multiple_choice','กรุณาเลือกไฟล์ก่อน','เส้นตรง:\x20รูปแบบสมการ','ลำดับเลขคณิต\x20(AP)','text-red-800','สรุปผลการวิเคราะห์:\x5cn','student-name-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','matching_item','/public/data/customMathTopics','no-projects-msg','visible','start-sync-game-btn','ผู้เชี่ยวชาญ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','open-sync-scratchpad-btn','export-compact-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','Error\x20saving\x20submission:','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','quiz','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','/submissions','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','webkitExitFullscreen','quiz-leaderboard-table-container','stem','sin','ไม่สามารถโหลดรายการโปรเจคได้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','display','</button>','values','.color-palette-popup','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','input[type=\x22radio\x22]:checked','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','ร้อยละประยุกต์','click','isAdaptive','editable-text-','checked','querySelectorAll','top','modal-adaptive-quiz-checkbox','bg-black/20','ตรวจทานเฉลยเสร็จสิ้น!','#math-topics-checkbox-container\x20input:checked','\x5c\x5c\x5c\x5c(?=(','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','player-list-lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','false','width','onload','ยืนยันการจับคู่','submissions','เกิดข้อผิดพลาดในการอ่านไฟล์','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','$1_{$2}','appendChild','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20old\x20quizzes:','\x20รายการ\x20สำเร็จ!','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','รหัสไม่ถูกต้อง','ผ่านฉลุย','replace','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-indigo-800','กรุณาใส่ชื่อโปรเจค','table','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','input[name=\x22status-option\x22]:checked','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','ความเป็นอิสระของเหตุการณ์','มุมพิเศษ\x2030°-60°-90°','test','live-game-view','fas\x20fa-user-edit','Error\x20updating\x20custom\x20topic:','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','Copy\x20command\x20failed','idealAnswer','เปิด\x20(จับเวลา)','Error\x20generating\x20parallel\x20post-test:','worksheet-topic-input','/public/data/teamQuizzes','bg-gray-500','.summary-bar-item','เกิดข้อผิดพลาดในการลบหัวข้อ','onchange','blueprint-tab','scrollX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การสร้างรูปด้วยวงเวียน–สันตรง','\x0a---\x0a','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','manual_release','preTScore','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','ปริพันธ์จำกัด','ownerSVGElement','currentTarget','touchstart','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','stringify','.isScored','join-live-game-btn','Error\x20submitting\x20group\x20answer:','.color-palette-btn','\x5cle','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x20ครั้ง)</span></td>','Re-grade\x20process\x20failed:','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','globalCompositeOperation','$1\x5ctimes','question','.export-pdf-list-btn','Error\x20fetching\x20quiz\x20status:','trim','icon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','value','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','preScore','admin-password-modal','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20unpairing\x20quizzes:','q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกรหัสแล้ว!','quiz-generation-area','exists','global-quiz-list','#D1FAE5','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','Error\x20generating\x20quiz:','removeItem','ไม่พบแบบทดสอบในระบบเลย','<option>กำลังโหลดโปรเจค...</option>','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','fullscreenchange','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','modal-timer-duration-input','generate-from-topic-btn','G-V90KRM0L63','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','cdot','\x20(ID:\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','timestamp','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','<div\x20class=\x22','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','upperGroupResponders','scratchpad-clear-btn','open-quiz-bank-btn','Error\x20generating\x20from\x20blueprint:','.presentation-option','<br>','.move-quiz-btn','input[type=\x22radio\x22][value=\x22','global-quiz-search-input','label','show-leaderboard-btn','ที่พิมพ์ได้\x20จำนวน\x20','Error\x20committing\x20score\x20updates:','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','webkitRequestFullscreen','startsWith','ดอกเบี้ยทบต้น','คะแนนเฉลี่ย','change','cancel-quiz-settings-btn','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-questions','dragend','transparent','bulk-loop-until-pass-checkbox','เกิดข้อผิดพลาดในการโหลดโปรเจค','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','add-custom-math-topic-btn','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','progress-project-select','พื้นที่สามเหลี่ยม','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ดอกเบี้ยอย่างง่าย','$1\x5ctext{','Enter','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','wakeLock','bg-red-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-tools-group','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','.pdf','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','ฟังก์ชันราก\x20(root)','offset','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','รากที่สองและที่สาม','\x20รายการสำเร็จ!','createElement','\x20ช่อง','toDate','Error\x20verifying\x20answers\x20in\x20editor:','string','highlighter','สเกลและแผนที่','student-quiz-topic','thead\x20.sortable-header','quiz-bank-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','null','ฮิสโตแกรม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','สร้างโปรเจคสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','pen-tool-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','bg-amber-100\x20text-amber-800','กรุณาใส่ชื่อใหม่','far\x20fa-star','<div\x20class=\x22space-y-4\x22>','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','พื้นที่ผิวรูปทรงสามมิติ','ลบแบบทดสอบสำเร็จแล้ว','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','Error\x20loading\x20quiz\x20for\x20student:','post-test','[data-topic-container-id]','setAttributeNS','ผ่าน','.start-game-btn','admin-password-input','จำนวนข้อ:','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','เกิดข้อผิดพลาดในการจับคู่','Error\x20deleting\x20submission:','Error\x20listening\x20for\x20projects:','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','3541329lciOZL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.answers','การปัดเศษและประมาณค่า','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','\x5cdiv','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ความสัมพันธ์ของมุม','(ไม่มีชื่อ)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','save-quiz-btn','PERSEVERANCE','fa-shield-alt\x20text-gray-600','lastAnswerIndex','tfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>','</tbody></table></div>','admin-view','AI\x20Formula\x20Fix\x20Error:','#000000','svg','isArray','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','autoTable','mouseleave','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','stopPropagation','setItem','copy','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','อัปเดตการตั้งค่าของแบบทดสอบ\x20','move-quiz-project-select','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโปรเจค:\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','ส่วนเบี่ยงเบนเฉลี่ย','get','pointercancel','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','indexOf','mjx-container','ข้อ\x20','bank-input-area','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','.regenerate-question-editor-btn','results-quiz-title','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','badgesCount','badges','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswerIndex','tGain','scratchpad-canvas','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#DBEAFE','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','(คู่ขนาน)\x20','student-quiz-leaderboard-content','#F59E0B','createElementNS','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','Failed\x20to\x20end\x20group\x20mode\x20game:','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btn','</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','eraser','fadeStartTime','next-drill-btn','add-student-btn','\x20คน\x20ตอบถูก</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','.admin-try-quiz-list-btn','ดูผลสรุปสุดท้าย','generate-from-link-btn','โดเมนและเรนจ์','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','สมมาตร\x20(แกน/จุด)','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','จำนวนนักเรียน','เกิดข้อผิดพลาด:\x20','katex','#FFFFFF','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x22><span>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-green-300\x20bg-green-50','Error\x20updating\x20quiz\x20status:','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','#results-table\x20thead\x20tr','setAttribute','comeback_king','submission-status-chart','<span\x20class=\x22font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','.correct-response-input','บันทึกผลการเล่นเกมของ\x20','สร้างใหม่','วงกลม:\x20สมการและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passing-score-input','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','setTransform','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','อนุพันธ์:\x20กฎลูกโซ่','leaderboard','mousemove','cancel-passcode-btn','start-quiz-btn','keys','<li>','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','element','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientY','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','พอใช้','temp-loader-results','text-red-700\x20bg-red-100','canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','pointerType','เกิดข้อผิดพลาดในการสร้างใบงาน','เกิดข้อผิดพลาดในการบันทึก','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่สามารถเริ่มเกมได้','answer-grid-container','สู้ๆ\x20ลองอีกครั้งนะ','readAsDataURL','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','export-leaderboard-word-btn','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','grid','ค่าคลาดเคลื่อนของการวัด','#F3E8FF','totalPoints','text-green-700','</form>','เรขาคณิตวิเคราะห์','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','bg-green-200','66tiTfxB','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','baseVal','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','latestScore','startTime','quadraticCurveTo','random','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','(ตัวเลือกผิดพลาด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','answer','student-project-leaderboard-table-body','</p><p><strong>เฉลย:</strong>\x20','#retake-for-improvement-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','(เลือกแล้ว\x20','Failed\x20to\x20get\x20hint:','per-question-options','game-start-quiz-id','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','Error\x20updating\x20quiz\x20settings:','Error\x20confirming\x20players:','responses','สลับไปโหมดนักเรียน','API\x20call\x20failed\x20with\x20status:\x20','รอเปิด','earned-badges-container','screen_exit','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','คัดลอกไม่สำเร็จ','ai-quiz-app-aefee','text-green-600','แบบทดสอบ:\x20','options','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','ศูนย์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','submit','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','target','message-modal','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','(ก่อนเรียน)','bg-green-100\x20font-bold','(ฉบับง่าย)\x20','.lastAnswerValue','div[data-question-index=\x22','</p></div>','date_desc','all','.live-answer-btn,\x20#live-submit-short-answer-btn','normal','message','แบบทดสอบซ่อมเสริม','ไม่พบเอกสารการส่งงานของ\x20','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','removeChild','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','editor-quiz-topic','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container:not(.opacity-50)','toggle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',';\x22\x20data-id=\x22','comparison-individual-content','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20mb-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','shadowColor','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','bg-red-50','\x20ใหม่...','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','modal-timer-mode-select','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','Error\x20starting\x20live\x20race:','score-distribution-chart','questionType','description','ความคล้ายของรูป','drill-feedback','ring-2','cancel-team-selection-btn','กราฟแท่ง\x20กราฟเส้น','เรเดียนและการแปลงหน่วย','\x22,\x20','ระยะเวลา\x20(วินาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','suggestedAnswer','toDataURL','\x5csqrt{$1}','create-project-btn','</select>','thead','dataIndex','ref','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','shuffledQuiz','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ก่อนเรียน','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','#student-project-leaderboard-content\x20thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showImproveButton','fas\x20fa-star\x20text-yellow-500','passingScore','ผู้ไม่ยอมแพ้','\x20คนที่ส่ง\x20ตอบถูก\x20(','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','student-join-game-view','ไฮเพอร์โบลา','.live-answer-btn','การวัด','การจัดหมู่\x20(Combination)','ข้อต่อไป','project-dashboard-view','\x22\x20name=\x22drill_answer\x22\x20value=\x22','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','Error\x20joining\x20sync\x20game:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','อัตราการเปลี่ยนแปลงทันที','https://corsproxy.io/?','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','<button\x20data-quiz-id=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','timer-duration-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','เปลี่ยนชื่อโปรเจคสำเร็จ','innerHTML','.cancel-edit-topic-btn','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','end-sync-game-btn','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','fa-fire\x20text-orange-500','dragstart','AI\x20แก้ไขคำถามสำเร็จ!','quiz-settings-modal','</p>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','อัปเดตสถานะสำเร็จ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','back-to-home-manual-release','gain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ส่งคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดีเทอร์มิแนนต์','ring-purple-400','arrayBuffer','พบข้อสอบ\x20','p-2\x20bg-black/10\x20rounded-md','quizId','worksheet-tab','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','#results-table','modal-loop-until-pass-checkbox','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','projectSort','tooltipTarget','Invalid\x20response\x20structure\x20from\x20AI.','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','):\x20','responses.','/public/data/projects/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','closest','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','padStart','เกิดข้อผิดพลาดในการเข้าร่วมเกม','<button\x20id=\x22','answeredCurrentQuestion','height','bulk-results-display-select','$1\x20\x5cfrac','msExitFullscreen','Error\x20generating\x20parallel\x20test\x20from\x20bank:','firstScore','.quiz-result-card','การเรียงสับเปลี่ยน\x20(Permutation)','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','quiz-schedule-end-container','พาราโบลา','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','manage-players-btn','resultsDisplay','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','globalSettings','sync','quiz-leaderboard-table-body','http://www.w3.org/2000/svg','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','การแปลงรูปอัตลักษณ์','NUMBER','Game\x20Mode\x20Answer','สถิติและความน่าจะเป็น','ระบบเลขและค่าประจำหลัก','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bulk-quiz-settings-btn','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','Error\x20toggling\x20pin\x20status:','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','qType','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','doughnut','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','ท็อปฟอร์ม','close-comparison-modal-footer-btn','players','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','.quiz-bank-delete-btn','ลำดับเรขาคณิต\x20(GP)','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','neq','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','FIRST_TRY_ACE','.project-card-container','</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','player-count',':</p><p\x20class=\x22text-xs\x22>','label[for=\x22num-questions\x22]','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','isRemedial','.ideal-answer-input','สมการตรีโกณมิติ','ระยะจากจุดถึงเส้นตรง','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','button','Error\x20adding\x20custom\x20topic:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','student-progress-view','#FEE2E2','mousedown','gamePin','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','การแยกตัวประกอบ','pointermove','\x20กลุ่ม\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-live-race-btn','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confirm-team-players-btn','numeric','both','กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว','cancel-test-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หัวข้อที่สร้างเอง','scratchpad-question','สอบซ่อม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','answering','confirm-passcode-btn','การนับ','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','#10B981','scratchpad-header','delete-svg-btn','เปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','findIndex','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','leaderboard-quiz-tab-content','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','การลบ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bulk-quiz-settings-modal','th-TH','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x20\x0a\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','preTestId','leaderboard-quiz-tab-btn','หมดเวลาสำหรับข้อนี้!','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','เกิดข้อผิดพลาดในการส่งคำตอบ','stdDev','blueprint-upload-input','การหารทศนิยม','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','match','ไม่พบข้อมูลโปรเจค','\x5csum','\x22...','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','promise','#per-question-options\x20select','timer-mode-select','index','ไม่มีคำอธิบาย','ปรับเพิ่ม/ลดเป็นร้อยละ','getElementById','reset-project-order-btn','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','classList','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cpm','students','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','confirm-delete-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เศษส่วน\x20(ย่อ/ขยาย)','highlighter-size-value','cancel-quiz-edits-btn-footer','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','stroke','ตัวแปรและนิพจน์','per-question-timer-container','.quiz-bank-try-btn','คัดลอกแบบทดสอบสำเร็จ','project-id-display','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','rgba(59,\x20130,\x20246,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','hint','Error\x20toggling\x20star\x20status:','dimmed','ผู้ควบคุม\x20(ทดสอบ)','Error\x20listening\x20for\x20custom\x20math\x20topics:','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','file-input-area','end-team-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard_','moveTo','\x20\x20\x20-\x20','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','กำลังค้นหากิจกรรม...','.status','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','\x22\x20class=\x22delete-project-btn\x20','quick_thinker','quiz-leaderboard-table','asc','password-error-msg','include-images-checkbox','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','live-short-answer-input','<div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','start-game-btn','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','No\x20player\x20data\x20to\x20save.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','getDocument','prev-question-btn','fullscreenElement','student-progress','ตรวจคะแนนใหม่\x20','left','บันทึกการแก้ไข',')\x5cb)','topic-input-area','เกี่ยวกับหัวข้อ\x20\x22','bg-red-100','\x20คะแนน</span></div>','text-red-700','Group\x20Mode','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','00:00','justification','\x22>จาก:\x20','link-input-area','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','questionIndex','Error\x20saving\x20user\x20preference:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','\x5cfrac{$1}{$2}','จับคู่เพื่อเปรียบเทียบผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','<tr><td\x20colspan=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','code','touches','tool','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','quiz-start-time','student-quiz-leaderboard-table-body','<i\x20class=\x22fas\x20fa-save\x22></i>','hasOwnProperty','</label>\x0a\x20\x20\x20\x20</div>\x0a','bg-green-100\x20text-green-800','\x22\x20data-name=\x22','live-options-container','generate-from-text-btn','\x5ctext{$1}','approx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','isScored','qIndex','lobby','addEventListener','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','results','answers','translate(','text-yellow-300','opacity','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','prod','docs','live-submit-short-answer-btn','endTime','groups.','.draggable-text','has','cancel-delete-btn','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','cancel-quiz-edits-btn','generate-from-blueprint-btn','ไม่ผ่าน','start-live-race-generated-btn','active','```json','text-gray-400\x20hover:text-indigo-600','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ชุด)','pairedQuizId','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','isPinned','list','ย้าย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','.topic-actions-edit','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','input[type=\x22text\x22]','open','overline','จากไฟล์ที่แนบมานี้,\x20','right','การหารเศษส่วน','AI\x20Fix\x20Error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','project-sort-select','touchend','desc','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','confirmation-modal','dataset','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเต็มบวก','แผนการสอน','.lastAnswerIndex','กำลังอัปเดตแบบทดสอบ\x20','workerSrc','dashboardConfig','ไม่พบตารางสำหรับ\x20Export','slide-counter','อัปเดตพฤติกรรมสำหรับ\x20','ai-quiz-app-aefee.firebasestorage.app','ไม่สามารถเพิ่มนักเรียนได้','generate-from-parallel-test-btn','studentName','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','สร้างแบบทดสอบปรนัย','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','สมการเหตุผล\x20(rational)','sum','show_results_only','createdBy','.verification-result-editor','แคลคูลัสเบื้องต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','drop','per-q-countdown','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','</h3>','shadowBlur','translate','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','textarea','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษาที่มีความแม่นยำสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20นี่คือแบบทดสอบต้นฉบับในหัวข้อ\x20\x22','close','name_asc','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','isLooping','teachingContent','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','847445pkrlWU','color','font-bold\x20text-green-700','standardTopic','parent','export-leaderboard-excel-btn','.delete-project-btn','ตาของ:\x20','scrollY','<p><strong>คำตอบของคุณ:</strong>\x20','position','ระยะเวลา\x20(นาที):','enable-passcode-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectView','\x5cneq','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','.option-text','rgba(239,\x2068,\x2068,\x200.7)','destination-out','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','#e21b3c','rename-quiz-input','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','mean','input[name=\x22question_single\x22]:checked','\x20รายการ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','-tab-content','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','perfect_score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','student-progress-content','file-topic-input','not-found','text-emerald-900','.pair-quiz-btn','<div\x20class=\x22flex-1\x22></div>','update-old-quizzes-btn','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','ai-quiz-generator-v3','quiz-type-select','\x22\x20data-q-type=\x22','_opt1\x22>ไม่ใช่</label></div>','transform','deselect-all-topics-btn','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','ราชาคัมแบ็ก','อินเวอร์สของเมทริกซ์','Error\x20saving\x20visibility\x20settings:','Error\x20showing\x20quiz\x20detail\x20view:','^{\x5ccirc}\x5ctext{C}$','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','rgba(79,\x2070,\x20229,\x200.8)','setFont','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remove','$1\x5cfrac','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','write','lesson-plan-content','document','lesson-plan-modal','cancel-admin-login-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','visibilitychange','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','bestScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-purple-600','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/preferences/main','ไม่พบข้อมูลเกม','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','auto','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','จับคู่แบบทดสอบสำเร็จ!','show_pass_fail_only','.ai-fix-formula-btn','quiz-status-modal','total','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x22\x20name=\x22question','reference-pdf-upload','ความน่าจะเป็นแบบมีเงื่อนไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','.unpair-quiz-btn','confirm-join-game-btn','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sort','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','loopUntilPass','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','AI\x20request\x20was\x20blocked.\x20Reason:\x20','ไม่สามารถโหลดข้อมูลอันดับได้','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button[data-id]','shuffle-setting-select','text-content-input','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','จำนวนคละ','jspdf','.csv','length','Error\x20duplicating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','then','parallel-test-upload-input','tan','dispatchEvent',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','selected-topics-count','pen-tools-group','.topic-row','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','#FCE7F3','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','clientX','deltaY','leaderboard-tab','ไม่พบข้อมูลการจับคู่','<li\x20class=\x22','size','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','$1\x5c%','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','เวกเตอร์และเมทริกซ์\x20(เสริม)','delete-all-students-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','max','ลบโปรเจคสำเร็จแล้ว','results-tab','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','แก้ไขหัวข้อสำเร็จ','เกิดข้อผิดพลาดในการยืนยันผู้เล่น',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','scratchpad-options','fill_in_no_choices','finished','next-question-btn','specialist','admin-dashboard','ON_FIRE','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join','PERFECT_SCORE','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำคะแนนได้เกินครึ่ง','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','quiz-editor-questions-container','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','</span><span\x20class=\x22font-bold\x22>','category','modal-shuffle-select','.highlighter-color-btn','Error\x20opening\x20quiz\x20editor:','block','application/json','พบ\x20Team\x20Quiz!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.answer-text','devicePixelRatio','quiz-search-input','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','save-game-results-checkbox','touchmove','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การหาร','พื้นที่วงกลม/ส่วนของวงกลม','#student-quiz-leaderboard-content\x20thead','กำลังกลับเข้าสู่เกม\x20','correctAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20id=\x22q-image-container-',',\x20r=','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','{$1}','eraser-tool-btn','lineJoin','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','reduce','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','$1^{\x5ccirc}\x5ctext{C}','ปริมาตร/ความจุและการแปลง','.doc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การจัดกลุ่มข้อมูล','questionId','text/csv;charset=utf-8;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','Error\x20deleting\x20all\x20students:','สร้างคำถามแบบเติมคำในช่องว่าง','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','comparison','<i\x20class=\x22fas\x20fa-pen\x22></i>','พิมพ์ตอบ','getBBox','blueprint-input-area','ระบบอสมการ','หยุดระบบจับเวลาหรี่หน้าจอ','next-sync-question-btn','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','showRankings','\x22\x20ซึ่งมีทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2-digit','เกิดข้อผิดพลาดในการลบนักเรียน','pen','จำนวนและการดำเนินการ','toLowerCase','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','การกระจายและการจัดหมู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าสำเร็จ','AI\x20grading\x20failed:','force-math-checkbox','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','perQuestionStats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x22\x20สำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container[data-id]','student-team-selection-view','s;\x22\x20title=\x22','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','projectId','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','ความต่อเนื่อง','lowerGroupNames','bg-yellow-50','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','practiceProblems','loader-text','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','getScreenCTM','result','source-over','promptFeedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','การบวก','pointerup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','.parallel-quiz-btn','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','correct','toLocaleDateString','\x20mx-1\x20text-lg\x22></i></span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','คำถามดิบ:\x20\x22','data:application/vnd.ms-word;charset=utf-8,','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answered','quiz-id-input','mouseup','สรุปผลสุดท้าย','กฎของไซน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','explanation','bg-red-200\x20text-red-800','generated-quiz-actions','redo-btn','Error\x20updating\x20sort\x20preference:','quiz-end-time','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','closePath','visibilityState','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','instructions','ปริพันธ์ไม่จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ระยะทางและจุดกึ่งกลาง','$1\x5ctext(','project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','data','10avigXr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','text-indigo-600','text-gray-300\x20hover:text-white','perseverance','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','lower_group_count','เริ่มกิจกรรม:\x20','comparison-modal','copy-quiz-id-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','bg-yellow-100','multiply','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนเต็ม!','global-live-game-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','uid','ตรีโกณมิติ','\x20(p=','fa-crown\x20text-yellow-500','สมการยกกำลัง','analytics-summary-cards','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','quiz-results','classWeaknesses','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-ai-result','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span></td>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','originalQuestionText','analytics-tab-btn','หน่วยเวลาและการคำนวณเวลา','style','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','totalQuestions','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','pre-test','json','ฐานนิยม','worksheet-input-area','Error\x20listening\x20for\x20starred\x20quizzes:','กรุณาป้อนรหัสแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','round','input[name=\x22team_player\x22]:checked','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','.pointsLastQuestion','\x22\x20value=\x22','.pen-size-btn','.answered','game-pin-input','toISOString','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','.quiz-bank-item','admin-try-quiz-btn','Firebase\x20initialization\x20failed:','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','artifacts/','questions','goto-next-question-btn','postScore','pin','การลบทศนิยม','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','questionDisplayedAt','\x22\x20เพื่อสร้างชุดคู่ขนาน...','every','อัปเดตแบบทดสอบเก่า\x20','teacherSuggestions','Invalid\x20response\x20structure\x20from\x20AI:','comparison-individual-tab','project-passcode-modal','admin-testing','hint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','difficulty-level-select','upper_group_count','คะแนนยังไม่ถึงครึ่ง','export-word-btn','Error\x20processing\x20file\x20for\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','line-through\x20text-red-700','release','ตอบถูกทุกข้อในแบบทดสอบนี้','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','bank-quiz-search-input','พื้นที่สี่เหลี่ยม','team-player-status-grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','execCommand','px)\x20scale(','.delete-quiz-btn','\x20สำเร็จ','QUICK_THINKER','project-title','toFixed','<tr\x20class=\x22','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x5ccdot','settings','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','move-quiz-modal','ทำคะแนนเต็มในการทำครั้งแรก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','math-topic-search-input','input','summary_chart','แบบปรนัย\x204\x20ตัวเลือก','Remedial\x20quiz\x20generation\x20failed:','showInStudentDashboard','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','add','points','\x0a\x20\x20\x20\x20','.delete-custom-topic-btn','ส่วนเบี่ยงเบนมาตรฐาน','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','projectName','rgba(79,\x2070,\x20229,\x201)','parseFromString','generated-quiz-container','พบ\x20Sync\x20Game!','textarea[name=\x22team_answer\x22]','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','.generate-lesson-btn','<tr>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','Error\x20saving\x20settings:','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','confirm-move-quiz-btn','-tab','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','cancel-global-live-btn','passcode','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','project-search-input','```','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','N/A','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','scheduled_pending','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','next-question-timed-btn','createObjectURL','อัตราส่วนและสัดส่วน','export-excel-btn','ลบหัวข้อสำเร็จ','ดอทโปรดักต์\x20(dot)','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','/public/data/syncGames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','class','back-to-dashboard-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x20/\x20','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','lineWidth','latestSubmittedAt','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','bg-emerald-100','ข้อที่\x20','none','export-image-btn','load-quiz-btn','/public/data/learnedFixes','bg-red-100\x20text-red-800','text-gray-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','results-display-select','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','frac','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','ความเท่ากันทุกประการของสามเหลี่ยม','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','undefined','.question-editor-item[data-q-index=\x22','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','select','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','project-name-input','Error\x20starting\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','activeGameSession','สร้างชุดคำถามจับคู่','live-player-list','log','border-gray-200','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','.start-presentation-list-btn','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','การคูณเศษส่วน','select-all-topics-btn','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','Leaderboard\x20update\x20transaction\x20failed:\x20','(หลังเรียน)\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','leaderboard-table-body','ARRAY','toLocaleString','getBoundingClientRect','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','Error\x20generating\x20from\x20parallel\x20test\x20file:','offsetWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22','fa-rocket\x20text-purple-500','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','map','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</th>'];_0x2db2=function(){return _0x380989;};return _0x2db2();}async function handleProjectColorChange(_0x9ef03e,_0x5f2576){const _0x4819c7=_0x1579df,_0x53cbc5=doc(db,_0x4819c7(0x88d)+appId+_0x4819c7(0x18f),_0x9ef03e);try{await updateDoc(_0x53cbc5,{'color':_0x5f2576});}catch(_0x551a32){console[_0x4819c7(0x962)](_0x4819c7(0x147),_0x551a32),showMessage(_0x4819c7(0xce));}}async function renderProjects(){const _0x47d8bf=_0x1579df,_0xd83fd1=globalDashboardSettings[_0x47d8bf(0x5a3)]||_0x47d8bf(0x528),_0x5a7e7a=new Set(globalDashboardSettings[_0x47d8bf(0x1a6)]||[]),_0x37539b=globalDashboardSettings[_0x47d8bf(0x71e)]||'grid',_0xf5153e=document[_0x47d8bf(0x632)](_0x47d8bf(0x25f)),_0x31a992=document[_0x47d8bf(0x632)](_0x47d8bf(0x16e));_0xf5153e['classList']['toggle'](_0x47d8bf(0x6c0),_0x37539b===_0x47d8bf(0x4e9)),_0x31a992[_0x47d8bf(0x635)][_0x47d8bf(0x535)](_0x47d8bf(0x6c0),_0x37539b===_0x47d8bf(0x6c8)),document[_0x47d8bf(0x632)](_0x47d8bf(0x6d8))[_0x47d8bf(0x3d7)]=_0xd83fd1;const _0xb0142e=document['getElementById'](_0x47d8bf(0x8e3))[_0x47d8bf(0x3d7)][_0x47d8bf(0x7f9)]();let _0x5b2184=allProjects[_0x47d8bf(0x34b)](_0x19ff27=>_0x19ff27[_0x47d8bf(0x8cf)][_0x47d8bf(0x7f9)]()[_0x47d8bf(0x29b)](_0xb0142e));const _0x46e291=_0x5b2184['filter'](_0xa80b06=>_0x5a7e7a[_0x47d8bf(0x6b8)](_0xa80b06['id'])),_0x5ab9cb=_0x5b2184[_0x47d8bf(0x34b)](_0x5e01b3=>!_0x5a7e7a[_0x47d8bf(0x6b8)](_0x5e01b3['id'])),_0x5a8bd0=(_0x1bfb23,_0x1ebee6)=>{const _0x427ad9=_0x47d8bf;switch(_0xd83fd1){case _0x427ad9(0x70b):return _0x1bfb23[_0x427ad9(0x8cf)][_0x427ad9(0x144)](_0x1ebee6['projectName'],'th');case'name_desc':return _0x1ebee6[_0x427ad9(0x8cf)][_0x427ad9(0x144)](_0x1bfb23[_0x427ad9(0x8cf)],'th');case'date_asc':return new Date(_0x1bfb23[_0x427ad9(0x18a)])-new Date(_0x1ebee6[_0x427ad9(0x18a)]);default:return new Date(_0x1ebee6[_0x427ad9(0x18a)])-new Date(_0x1bfb23[_0x427ad9(0x18a)]);}};_0x46e291[_0x47d8bf(0x774)](_0x5a8bd0),_0x5ab9cb[_0x47d8bf(0x774)](_0x5a8bd0);const _0x515a3c=[..._0x46e291,..._0x5ab9cb],_0x309935=globalDashboardSettings['projectOrder']||[];_0x309935[_0x47d8bf(0x783)]>0x0&&_0x37539b===_0x47d8bf(0x4e9)&&_0x515a3c[_0x47d8bf(0x774)]((_0x2ef5da,_0x54d16d)=>{const _0x14cf02=_0x47d8bf,_0x3840e2=_0x309935[_0x14cf02(0x484)](_0x2ef5da['id']),_0x27686e=_0x309935[_0x14cf02(0x484)](_0x54d16d['id']);if(_0x3840e2===-0x1)return 0x1;if(_0x27686e===-0x1)return-0x1;return _0x3840e2-_0x27686e;});const _0x583978={};await Promise[_0x47d8bf(0x529)](_0x515a3c[_0x47d8bf(0x931)](async _0x1d71f1=>{const _0x5ec048=_0x47d8bf,_0x3c8c52=query(collection(db,_0x5ec048(0x88d)+appId+_0x5ec048(0x207)),where(_0x5ec048(0x80a),'==',_0x1d71f1['id'])),_0x3b4e4f=await getDocs(_0x3c8c52);_0x583978[_0x1d71f1['id']]=_0x3b4e4f[_0x5ec048(0x798)];}));const _0x51c3fb=document['getElementById'](_0x47d8bf(0x841));let _0x2a8bd6='';if(_0x37539b===_0x47d8bf(0x4e9)){_0x51c3fb['className']='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes['length']>0x0&&_0xb0142e===''){const _0x4f9806=starredQuizzes['map'](_0x33ecb1=>{const _0x439835=_0x47d8bf,_0x25dc88=allProjects['find'](_0x502877=>_0x502877['id']===_0x33ecb1['projectId']);return{..._0x33ecb1,'projectName':_0x25dc88?_0x25dc88[_0x439835(0x8cf)]:_0x439835(0x8e6)};});_0x2a8bd6+=_0x47d8bf(0x932)+_0x4f9806[_0x47d8bf(0x931)](_0x4dcee7=>_0x47d8bf(0x328)+_0x4dcee7[_0x47d8bf(0x9b2)]+'\x22>'+_0x4dcee7['topic']+_0x47d8bf(0x29d)+_0x4dcee7[_0x47d8bf(0x8cf)]+_0x47d8bf(0x684)+_0x4dcee7['projectName']+_0x47d8bf(0x536))['join']('')+_0x47d8bf(0x27d)+starredQuizzes[_0x47d8bf(0x783)]+_0x47d8bf(0x3a0);}_0x515a3c['forEach'](_0x4b09d0=>{const _0x488238=_0x47d8bf,_0x4079ed=_0x583978[_0x4b09d0['id']]??0x0,_0x1e9a80=_0x5a7e7a['has'](_0x4b09d0['id']),_0x4ea4cd=_0x4b09d0[_0x488238(0x711)]||'#FFFFFF',_0x11bdeb=parseInt(_0x4ea4cd[_0x488238(0x18b)](0x1,0x3),0x10)*0.299+parseInt(_0x4ea4cd[_0x488238(0x18b)](0x3,0x5),0x10)*0.587+parseInt(_0x4ea4cd[_0x488238(0x18b)](0x5,0x7),0x10)*0.114<0xba,_0x51a5fd=_0x11bdeb?_0x488238(0xe1):_0x488238(0x39b),_0x2c4327=_0x11bdeb?_0x488238(0x1cd):'text-gray-500';_0x2a8bd6+=_0x488238(0x824)+(_0x1e9a80?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x488238(0x91a))+_0x488238(0x8e2)+_0x4ea4cd+_0x488238(0x537)+_0x4b09d0['id']+_0x488238(0x327)+_0x4b09d0['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x11bdeb?_0x488238(0x848):_0x488238(0x6c2))+_0x488238(0xe7)+_0x4b09d0['id']+_0x488238(0x306)+(_0x11bdeb?_0x488238(0x848):_0x488238(0x6c2))+_0x488238(0x5bd)+(_0x1e9a80?_0x11bdeb?_0x488238(0x6ae):_0x488238(0x847):'')+_0x488238(0x8d5)+_0x4b09d0['id']+_0x488238(0x12f)+_0x51a5fd+_0x488238(0x46b)+_0x4b09d0['projectName']+_0x488238(0x1ba)+_0x2c4327+_0x488238(0x128)+new Date(_0x4b09d0[_0x488238(0x18a)])['toLocaleDateString'](_0x488238(0x61a))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x11bdeb?_0x488238(0x905):_0x488238(0x2a8))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x4079ed+_0x488238(0x42c)+_0x4b09d0['id']+_0x488238(0x6a0)+_0x4b09d0[_0x488238(0x8cf)]+_0x488238(0x662)+(_0x11bdeb?_0x488238(0x164):_0x488238(0xc6))+_0x488238(0x462);});}else _0x51c3fb[_0x47d8bf(0x33e)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x47d8bf(0x783)]>0x0&&_0xb0142e===''&&(_0x2a8bd6+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x47d8bf(0x783)]+_0x47d8bf(0x39a)),_0x2a8bd6+=_0x47d8bf(0x5cd),_0x515a3c[_0x47d8bf(0x2fb)](_0x5a15bd=>{const _0x546c8e=_0x47d8bf,_0x47feb=_0x583978[_0x5a15bd['id']]??0x0,_0x415244=_0x5a7e7a[_0x546c8e(0x6b8)](_0x5a15bd['id']);_0x2a8bd6+=_0x546c8e(0x5aa)+(_0x5a15bd['color']||_0x546c8e(0x939))+_0x546c8e(0x126)+_0x5a15bd['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x5a15bd[_0x546c8e(0x8cf)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x47feb+_0x546c8e(0x5db)+new Date(_0x5a15bd[_0x546c8e(0x18a)])[_0x546c8e(0x927)](_0x546c8e(0x61a))+_0x546c8e(0x771)+_0x5a15bd['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x415244?'text-indigo-600':'')+_0x546c8e(0x6aa)+_0x5a15bd['id']+'\x22\x20data-name=\x22'+_0x5a15bd[_0x546c8e(0x8cf)]+_0x546c8e(0x288);});projectList[_0x47d8bf(0x581)]=_0x2a8bd6,noProjectsMsg[_0x47d8bf(0x635)]['toggle'](_0x47d8bf(0x99e),_0x2a8bd6[_0x47d8bf(0x783)]>0x0);}document['getElementById']('confirm-create-project-btn')[_0x1579df(0x6a9)](_0x1579df(0x379),async()=>{const _0x723a3a=_0x1579df,_0x4a56a0=document[_0x723a3a(0x632)](_0x723a3a(0x913)),_0xd65425=_0x4a56a0['value'][_0x723a3a(0x3d4)]();if(!_0xd65425){showMessage(_0x723a3a(0x39c));return;}try{const _0x105a53=doc(collection(db,_0x723a3a(0x88d)+appId+_0x723a3a(0x18f)));await setDoc(_0x105a53,{'projectName':_0xd65425,'students':[],'settings':{'resultsDisplay':_0x723a3a(0x96b),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x723a3a(0x900),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x723a3a(0x883)]()}),_0x4a56a0[_0x723a3a(0x3d7)]='',createProjectModal[_0x723a3a(0x635)][_0x723a3a(0x8c5)](_0x723a3a(0x99e)),showMessage(_0x723a3a(0x43e));}catch(_0x520c2b){console['error'](_0x723a3a(0x95c),_0x520c2b),showMessage(_0x723a3a(0x95e));}}),projectList[_0x1579df(0x6a9)](_0x1579df(0x379),async _0x144258=>{const _0x25f623=_0x1579df,_0x2d09bd=_0x144258[_0x25f623(0x51e)][_0x25f623(0x5ac)](_0x25f623(0x98b)),_0x3b4f92=_0x144258['target'][_0x25f623(0x5ac)](_0x25f623(0x716)),_0x1e2de7=_0x144258['target'][_0x25f623(0x5ac)](_0x25f623(0xbd)),_0x5e8ba5=_0x144258[_0x25f623(0x51e)][_0x25f623(0x5ac)](_0x25f623(0x3c9));if(_0x1e2de7){const _0x1436a9=_0x1e2de7[_0x25f623(0x6de)]['id'],_0x2957ab=doc(db,'globalSettings',_0x25f623(0x6e8)),_0x3fda9c=globalDashboardSettings[_0x25f623(0x1a6)];let _0x3a4f8f;_0x3fda9c[_0x25f623(0x29b)](_0x1436a9)?_0x3a4f8f=_0x3fda9c[_0x25f623(0x34b)](_0x4d7b61=>_0x4d7b61!==_0x1436a9):_0x3a4f8f=[..._0x3fda9c,_0x1436a9];try{await setDoc(_0x2957ab,{'pinnedProjects':_0x3a4f8f},{'merge':!![]});}catch(_0x215269){console['error'](_0x25f623(0x2f6),_0x215269),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x5e8ba5){const _0x553c97=_0x5e8ba5[_0x25f623(0x6de)]['id'];showColorPalette(_0x5e8ba5,_0x553c97);}else{if(_0x2d09bd){const _0xf3793f=_0x2d09bd[_0x25f623(0x6de)]['id'];_0xf3793f==='starred-project'?showStarredProjectView():(currentProjectId=_0xf3793f,await loadProjectDetails(currentProjectId),showView(_0x25f623(0x978)));}else{if(_0x3b4f92){const _0xf39c8=_0x3b4f92[_0x25f623(0x6de)]['id'],_0x404a1b=_0x3b4f92[_0x25f623(0x6de)][_0x25f623(0x9a5)];showConfirmation(_0x25f623(0x390)+_0x404a1b+_0x25f623(0x366),()=>handleDeleteProject(_0xf39c8));}}}}}),projectList['addEventListener'](_0x1579df(0x588),_0x204c8a=>{const _0x2ec110=_0x1579df,_0x44c212=_0x204c8a[_0x2ec110(0x51e)][_0x2ec110(0x5ac)](_0x2ec110(0x5e2));_0x44c212&&_0x44c212['classList']['add'](_0x2ec110(0x308));}),projectList[_0x1579df(0x6a9)](_0x1579df(0x412),_0x30e6fe=>{const _0x18479f=_0x1579df,_0x405a83=_0x30e6fe[_0x18479f(0x51e)][_0x18479f(0x5ac)]('.project-card-container');_0x405a83&&_0x405a83[_0x18479f(0x635)][_0x18479f(0x74c)](_0x18479f(0x308));}),projectList[_0x1579df(0x6a9)]('dragover',_0x2ff30e=>{const _0x333984=_0x1579df;_0x2ff30e[_0x333984(0x93c)]();const _0x273e5d=document['querySelector']('.project-card-container.opacity-50');if(!_0x273e5d)return;const _0x41637d=getDragAfterElement(projectList,_0x2ff30e[_0x333984(0x4d6)]);_0x41637d==null?projectList[_0x333984(0x38f)](_0x273e5d):projectList[_0x333984(0x206)](_0x273e5d,_0x41637d);}),projectList[_0x1579df(0x6a9)](_0x1579df(0x6fa),_0x5aadca=>{const _0x4901a2=_0x1579df;_0x5aadca['preventDefault']();const _0x396454=[...projectList[_0x4901a2(0x37d)](_0x4901a2(0x806))]['map'](_0x538d2a=>_0x538d2a[_0x4901a2(0x6de)]['id']);saveProjectOrder(_0x396454);});function renderBehaviorLog(_0x79bfa6){const _0x502954=_0x1579df,_0x68ab16=document[_0x502954(0x632)](_0x502954(0xea));if(!_0x68ab16)return;const _0x37cf12=_0x79bfa6['filter'](_0x28fc2b=>_0x28fc2b[_0x502954(0x953)]&&_0x28fc2b['behaviorLog'][_0x502954(0x783)]>0x0);if(_0x37cf12[_0x502954(0x783)]===0x0){_0x68ab16[_0x502954(0x581)]=_0x502954(0x57d);return;}let _0x3b8408='';_0x37cf12[_0x502954(0x2fb)](_0x39aaae=>{const _0x579293=_0x502954;_0x3b8408+=_0x579293(0x91e)+_0x39aaae['studentName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x39aaae[_0x579293(0x953)][_0x579293(0x774)]((_0x1f251c,_0x39b97a)=>new Date(_0x39b97a[_0x579293(0x3f7)])-new Date(_0x1f251c[_0x579293(0x3f7)]))[_0x579293(0x2fb)](_0xd1297e=>{const _0x2065fe=_0x579293,_0x4bd9f8=new Date(_0xd1297e['timestamp'])[_0x2065fe(0x927)](_0x2065fe(0x61a),{'dateStyle':_0x2065fe(0x955),'timeStyle':_0x2065fe(0x1eb)});_0x3b8408+=_0x2065fe(0x8cd)+_0xd1297e['attemptNumber']+_0x2065fe(0x7a6)+_0x4bd9f8+_0x2065fe(0x854);}),_0x3b8408+=_0x579293(0x188);}),_0x68ab16['innerHTML']=_0x3b8408;}function getDragAfterElement(_0x3859bb,_0x5d63ac){const _0x5b5b98=_0x1579df,_0x514149=[..._0x3859bb[_0x5b5b98(0x37d)](_0x5b5b98(0x534))];return _0x514149[_0x5b5b98(0x7d9)]((_0x4a5f9c,_0x5dd23f)=>{const _0x1738c8=_0x5b5b98,_0x47d109=_0x5dd23f[_0x1738c8(0x928)](),_0x5499f2=_0x5d63ac-_0x47d109[_0x1738c8(0x37e)]-_0x47d109['height']/0x2;return _0x5499f2<0x0&&_0x5499f2>_0x4a5f9c[_0x1738c8(0x42a)]?{'offset':_0x5499f2,'element':_0x5dd23f}:_0x4a5f9c;},{'offset':Number['NEGATIVE_INFINITY']})[_0x5b5b98(0x4d4)];}async function saveProjectOrder(_0x4dbddf){const _0xa73b14=_0x1579df,_0x45cb83=doc(db,_0xa73b14(0x5c3),_0xa73b14(0x6e8));try{await setDoc(_0x45cb83,{'projectOrder':_0x4dbddf},{'merge':!![]});}catch(_0x3c3793){console[_0xa73b14(0x962)]('Error\x20saving\x20project\x20order:',_0x3c3793),showMessage(_0xa73b14(0x2a2));}}async function logBehaviorEvent(_0x195395,_0x16aed7={}){const _0x5c0a51=_0x1579df;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x5c0a51(0x957)](_0x5c0a51(0x4a0));return;}const _0x1b4a8b=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x5c0a51(0x367),currentStudentName),_0xad6f84={'event':_0x195395,'timestamp':new Date()[_0x5c0a51(0x883)](),..._0x16aed7};try{await updateDoc(_0x1b4a8b,{'behaviorLog':arrayUnion(_0xad6f84)}),console[_0x5c0a51(0x919)](_0x5c0a51(0x6eb)+currentStudentName+_0x5c0a51(0x8b2));}catch(_0x459099){_0x459099[_0x5c0a51(0x696)]===_0x5c0a51(0x733)?console[_0x5c0a51(0x957)](_0x5c0a51(0x52e)+currentStudentName+_0x5c0a51(0x28c)):console[_0x5c0a51(0x962)](_0x5c0a51(0x5ad),_0x459099);}}function calculateMeanAndStdDev(_0x43f85f){const _0x3b593e=_0x1579df;if(_0x43f85f[_0x3b593e(0x783)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x5f2552=_0x43f85f[_0x3b593e(0x7d9)]((_0x478be2,_0x58488a)=>_0x478be2+_0x58488a,0x0)/_0x43f85f[_0x3b593e(0x783)];if(_0x43f85f[_0x3b593e(0x783)]===0x1)return{'mean':_0x5f2552,'stdDev':0x0};const _0x23bcbf=Math[_0x3b593e(0x259)](_0x43f85f[_0x3b593e(0x931)](_0x195c8f=>Math[_0x3b593e(0x2bf)](_0x195c8f-_0x5f2552,0x2))[_0x3b593e(0x7d9)]((_0x22040d,_0x59f056)=>_0x22040d+_0x59f056,0x0)/(_0x43f85f[_0x3b593e(0x783)]-0x1));return{'mean':_0x5f2552,'stdDev':_0x23bcbf};}function calculateZScore(_0x4defb4,_0x94bc0f,_0x5bca46){if(_0x5bca46===0x0)return 0x0;return(_0x4defb4-_0x94bc0f)/_0x5bca46;}function calculateTScore(_0x1b9238){return 0xa*_0x1b9238+0x32;}function showStarredProjectView(){const _0x37d108=_0x1579df;currentProjectId=_0x37d108(0x311),currentProjectData=null,projectTitle['textContent']=_0x37d108(0x2ec),projectIdDisplay['textContent']='pinned-items',showView(_0x37d108(0x978)),manageTab[_0x37d108(0x635)][_0x37d108(0x8c5)](_0x37d108(0x99e)),leaderboardTab[_0x37d108(0x635)][_0x37d108(0x8c5)](_0x37d108(0x99e)),switchProjectTab(_0x37d108(0x6ab)),renderQuizzes();}async function loadProjectDetails(_0x82a3c2){const _0x135b19=_0x1579df,_0x27791c=doc(db,_0x135b19(0x88d)+appId+_0x135b19(0x18f),_0x82a3c2),_0x4e1d85=await getDoc(_0x27791c);if(_0x4e1d85[_0x135b19(0x3e1)]()){manageTab['classList'][_0x135b19(0x74c)](_0x135b19(0x99e)),leaderboardTab[_0x135b19(0x635)][_0x135b19(0x74c)]('hidden'),currentProjectData=_0x4e1d85[_0x135b19(0x844)](),projectTitle['textContent']=currentProjectData[_0x135b19(0x8cf)],projectIdDisplay[_0x135b19(0xf3)]=_0x82a3c2;const _0x2a0c3f=currentProjectData[_0x135b19(0x8b9)]||{};document['getElementById'](_0x135b19(0x77d))[_0x135b19(0x3d7)]=_0x2a0c3f['shuffleSetting']||_0x135b19(0x900);const _0x59fd00=document[_0x135b19(0x632)](_0x135b19(0x318));_0x59fd00[_0x135b19(0x37c)]=_0x2a0c3f[_0x135b19(0x8c3)]!==![];const _0xa577c6=document[_0x135b19(0x632)](_0x135b19(0x71c)),_0x13a7af=document['getElementById'](_0x135b19(0x30d)),_0x2a0c5e=document['getElementById'](_0x135b19(0x268)),_0x140d01=_0x2a0c3f['isPasscodeEnabled']||![];_0xa577c6[_0x135b19(0x37c)]=_0x140d01,_0x2a0c5e['value']=_0x2a0c3f[_0x135b19(0x8e1)]||'',_0x13a7af['classList'][_0x135b19(0x535)](_0x135b19(0x99e),!_0x140d01),_0xa577c6[_0x135b19(0x3b5)]=()=>{const _0x1a8e9a=_0x135b19;_0x13a7af[_0x1a8e9a(0x635)][_0x1a8e9a(0x535)](_0x1a8e9a(0x99e),!_0xa577c6[_0x1a8e9a(0x37c)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x82a3c2),listenForProjectQuizzes(_0x82a3c2),listenForStudentProfiles(_0x82a3c2);}else showMessage('ไม่พบโปรเจค'),showView(_0x135b19(0x7ae));}async function handleResetProjectOrder(){const _0xbec723=_0x1579df,_0xdfe0af=doc(db,_0xbec723(0x5c3),_0xbec723(0x6e8));try{await setDoc(_0xdfe0af,{'projectOrder':[]},{'merge':!![]}),showMessage(_0xbec723(0x244));}catch(_0x44f7bc){console['error']('Error\x20resetting\x20project\x20order:',_0x44f7bc),showMessage(_0xbec723(0x4af));}}async function handleTogglePinProject(_0x17f5f1){const _0x3e6ad5=_0x1579df;if(!_0x17f5f1)return;const _0x2e1d81=doc(db,_0x3e6ad5(0x88d)+appId+'/public/data/projects',_0x17f5f1);try{const _0x407919=await getDoc(_0x2e1d81);if(_0x407919[_0x3e6ad5(0x3e1)]()){const _0x2b2d40=_0x407919[_0x3e6ad5(0x844)]()[_0x3e6ad5(0x6c7)]||![];await updateDoc(_0x2e1d81,{'isPinned':!_0x2b2d40});}}catch(_0xe9a6e){console[_0x3e6ad5(0x962)](_0x3e6ad5(0x5d0),_0xe9a6e),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x36bbb1){const _0x38bc62=_0x1579df;try{const _0xa24989=writeBatch(db),_0x4dfdb8=collection(db,_0x38bc62(0x88d)+appId+_0x38bc62(0x207)),_0x20eaf0=query(_0x4dfdb8,where('projectId','==',_0x36bbb1)),_0x26d4d4=await getDocs(_0x20eaf0);for(const _0x35b1b4 of _0x26d4d4[_0x38bc62(0x6b3)]){const _0x2e902c=collection(db,_0x38bc62(0x88d)+appId+'/public/data/quizzes/'+_0x35b1b4['id']+'/submissions'),_0x2cb0c6=await getDocs(_0x2e902c);_0x2cb0c6[_0x38bc62(0x2fb)](_0x40a290=>{const _0xc6305a=_0x38bc62;_0xa24989[_0xc6305a(0x1e9)](_0x40a290[_0xc6305a(0x55c)]);}),_0xa24989[_0x38bc62(0x1e9)](_0x35b1b4[_0x38bc62(0x55c)]);}const _0x582b11=collection(db,_0x38bc62(0x88d)+appId+_0x38bc62(0x5a9)+_0x36bbb1+_0x38bc62(0x1f5)),_0x33bc09=await getDocs(_0x582b11);_0x33bc09[_0x38bc62(0x2fb)](_0x225aaa=>{const _0xb5a1a0=_0x38bc62;_0xa24989[_0xb5a1a0(0x1e9)](_0x225aaa[_0xb5a1a0(0x55c)]);});const _0x32c5dc=doc(db,_0x38bc62(0x88d)+appId+_0x38bc62(0x18f),_0x36bbb1);_0xa24989[_0x38bc62(0x1e9)](_0x32c5dc),await _0xa24989['commit'](),showMessage(_0x38bc62(0x7a1)),showView(_0x38bc62(0x7ae));}catch(_0x513c0f){console[_0x38bc62(0x962)]('Error\x20deleting\x20project:',_0x513c0f),showMessage(_0x38bc62(0x961));}}document['getElementById'](_0x1579df(0x2b1))[_0x1579df(0x6a9)](_0x1579df(0x379),async()=>{const _0x2eb206=_0x1579df;if(!currentProjectId)return;const _0x21a76a={'defaultNumQuestions':parseInt(document['getElementById']('num-questions')[_0x2eb206(0x3d7)]),'defaultNumChoices':parseInt(document[_0x2eb206(0x632)](_0x2eb206(0x26b))[_0x2eb206(0x3d7)]),'defaultPassingScore':parseInt(document[_0x2eb206(0x632)](_0x2eb206(0x4c6))[_0x2eb206(0x3d7)]),'resultsDisplay':document[_0x2eb206(0x632)]('results-display-select')[_0x2eb206(0x3d7)],'shuffleSetting':document[_0x2eb206(0x632)](_0x2eb206(0x77d))[_0x2eb206(0x3d7)],'timerMode':document[_0x2eb206(0x632)](_0x2eb206(0x62e))[_0x2eb206(0x3d7)],'timerDuration':parseInt(document[_0x2eb206(0x632)](_0x2eb206(0x57e))['value'])};try{const _0x869a80=doc(db,_0x2eb206(0x88d)+appId+_0x2eb206(0x18f),currentProjectId);await updateDoc(_0x869a80,{'settings':_0x21a76a}),showMessage(_0x2eb206(0x2e7));}catch(_0x1e5d17){console['error'](_0x2eb206(0x8db),_0x1e5d17),showMessage(_0x2eb206(0x1f6));}});function listenForStudents(_0x284d94){const _0x4eabb=_0x1579df,_0x5263c2=doc(db,_0x4eabb(0x88d)+appId+_0x4eabb(0x18f),_0x284d94);unsubscribeStudentsListener=onSnapshot(_0x5263c2,_0x1c3e22=>{const _0x3e4397=_0x4eabb;if(_0x1c3e22[_0x3e4397(0x3e1)]()){const _0x224e3a=_0x1c3e22['data']();currentProjectData=_0x224e3a,renderStudentList(_0x224e3a[_0x3e4397(0x63a)]||[]);}});}function renderStudentList(_0x59d60b){const _0x2aea68=_0x1579df,_0x3d6ecb=document['getElementById'](_0x2aea68(0x79d));_0x59d60b['length']===0x0?(studentList[_0x2aea68(0x581)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x3d6ecb[_0x2aea68(0x635)][_0x2aea68(0x8c5)](_0x2aea68(0x99e))):(studentList[_0x2aea68(0x581)]=_0x59d60b[_0x2aea68(0x931)](_0x19bcf1=>_0x2aea68(0x6a5)+_0x19bcf1+_0x2aea68(0x6dc)+_0x19bcf1+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2aea68(0x7b1)](''),_0x3d6ecb[_0x2aea68(0x635)][_0x2aea68(0x74c)]('hidden'));}document[_0x1579df(0x632)](_0x1579df(0x4a4))['addEventListener']('click',async()=>{const _0x5545c1=_0x1579df;if(!currentProjectId)return;const _0x56a6bb=document[_0x5545c1(0x632)]('student-name-input'),_0x4b92ed=_0x56a6bb[_0x5545c1(0x3d7)]['trim']();if(!_0x4b92ed){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x57f299=_0x4b92ed[_0x5545c1(0x1ff)]('\x0a')[_0x5545c1(0x931)](_0x4d44ac=>_0x4d44ac[_0x5545c1(0x3d4)]())[_0x5545c1(0x34b)](_0x58ddb8=>_0x58ddb8);if(_0x57f299[_0x5545c1(0x783)]===0x0)return;try{const _0x194e51=doc(db,_0x5545c1(0x88d)+appId+_0x5545c1(0x18f),currentProjectId),_0x223274=await getDoc(_0x194e51);if(_0x223274[_0x5545c1(0x3e1)]()){const _0x1da397=_0x223274[_0x5545c1(0x844)]()[_0x5545c1(0x63a)]||[],_0x19f21f=[...new Set([..._0x1da397,..._0x57f299])];await updateDoc(_0x194e51,{'students':_0x19f21f}),_0x56a6bb[_0x5545c1(0x3d7)]='';}}catch(_0x40d458){console[_0x5545c1(0x962)](_0x5545c1(0x2c2),_0x40d458),showMessage(_0x5545c1(0x6ed));}});async function handleManualQuizPairing(_0x5ccf45){const _0x5c5397=_0x1579df,_0x2eaa30=document[_0x5c5397(0x632)](_0x5c5397(0x8bb)),_0x454465=document[_0x5c5397(0x632)](_0x5c5397(0x47b)),_0x419974=_0x2eaa30[_0x5c5397(0x20a)]('h3'),_0x219268=document[_0x5c5397(0x632)]('confirm-move-quiz-btn'),_0x4f2a69=document['getElementById'](_0x5c5397(0x11b));_0x419974[_0x5c5397(0xf3)]=_0x5c5397(0x68c),_0x454465[_0x5c5397(0x581)]=_0x5c5397(0x1e1),_0x219268[_0x5c5397(0xf3)]=_0x5c5397(0x38a),_0x2eaa30[_0x5c5397(0x635)]['remove'](_0x5c5397(0x99e));const _0x47c4f9=allQuizzes[_0x5c5397(0x34b)](_0x3e480f=>_0x3e480f['id']!==_0x5ccf45);_0x47c4f9[_0x5c5397(0x783)]===0x0?(_0x454465[_0x5c5397(0x581)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x219268[_0x5c5397(0xd7)]=!![]):(_0x454465[_0x5c5397(0x581)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x47c4f9[_0x5c5397(0x931)](_0x44dd5a=>'<option\x20value=\x22'+_0x44dd5a['id']+'\x22>'+_0x44dd5a['topic']+'</option>')['join'](''),_0x219268[_0x5c5397(0xd7)]=![]);const _0x4b65b8=async()=>{const _0x307380=_0x5c5397,_0x10bbc7=_0x454465[_0x307380(0x3d7)];if(!_0x10bbc7){showMessage(_0x307380(0x637));return;}_0x219268[_0x307380(0xd7)]=!![],_0x219268[_0x307380(0xf3)]=_0x307380(0x30e);try{const _0x21bb8c=doc(db,'artifacts/'+appId+_0x307380(0x207),_0x5ccf45),_0xe6bdb2=doc(db,_0x307380(0x88d)+appId+_0x307380(0x207),_0x10bbc7),_0x32203a=writeBatch(db);_0x32203a['update'](_0x21bb8c,{'pairedQuizId':_0x10bbc7}),_0x32203a[_0x307380(0x283)](_0xe6bdb2,{'pairedQuizId':_0x5ccf45}),await _0x32203a['commit'](),showMessage(_0x307380(0x761)),_0x2eaa30[_0x307380(0x635)][_0x307380(0x8c5)](_0x307380(0x99e));}catch(_0x2e7854){console['error']('Error\x20pairing\x20quizzes:',_0x2e7854),showMessage(_0x307380(0x453));}finally{_0x419974[_0x307380(0xf3)]=_0x307380(0xe5),_0x219268['textContent']=_0x307380(0x6c9),_0x219268[_0x307380(0xd7)]=![],_0x219268[_0x307380(0x333)](_0x307380(0x379),_0x4b65b8),_0x4f2a69['removeEventListener'](_0x307380(0x379),_0x16188a);}},_0x16188a=()=>{const _0x1d451d=_0x5c5397;_0x2eaa30['classList'][_0x1d451d(0x8c5)](_0x1d451d(0x99e)),_0x419974[_0x1d451d(0xf3)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x219268[_0x1d451d(0xf3)]=_0x1d451d(0x6c9),_0x219268[_0x1d451d(0x333)](_0x1d451d(0x379),_0x4b65b8),_0x4f2a69[_0x1d451d(0x333)]('click',_0x16188a);};_0x219268['addEventListener'](_0x5c5397(0x379),_0x4b65b8),_0x4f2a69[_0x5c5397(0x6a9)](_0x5c5397(0x379),_0x16188a);}function handleDeleteStudent(_0x378d0c){const _0x53bacc=_0x1579df;showConfirmation(_0x53bacc(0x747)+_0x378d0c+_0x53bacc(0x4d7),async()=>{const _0x2b040b=_0x53bacc;if(!currentProjectId||!currentProjectData)return;const _0x5d960c=currentProjectData[_0x2b040b(0x63a)][_0x2b040b(0x34b)](_0x3e48fe=>_0x3e48fe!==_0x378d0c);try{const _0x5c866c=doc(db,_0x2b040b(0x88d)+appId+'/public/data/projects',currentProjectId),_0x3cdde9=doc(db,_0x2b040b(0x88d)+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles',_0x378d0c),_0x3b3a5c=writeBatch(db);_0x3b3a5c[_0x2b040b(0x283)](_0x5c866c,{'students':_0x5d960c}),_0x3b3a5c[_0x2b040b(0x1e9)](_0x3cdde9),await _0x3b3a5c[_0x2b040b(0x196)]();}catch(_0x473eee){console[_0x2b040b(0x962)](_0x2b040b(0x469),_0x473eee),showMessage(_0x2b040b(0x7f6));}});}function handleDeleteAllStudents(){const _0x7121bd=_0x1579df;showConfirmation(_0x7121bd(0x154),async()=>{const _0x496984=_0x7121bd;if(!currentProjectId)return;try{const _0x2c53df=doc(db,_0x496984(0x88d)+appId+_0x496984(0x18f),currentProjectId),_0x2c82b5=collection(db,_0x496984(0x88d)+appId+_0x496984(0x5a9)+currentProjectId+_0x496984(0x1f5)),_0x3931c7=await getDocs(_0x2c82b5),_0x10770e=writeBatch(db);_0x10770e[_0x496984(0x283)](_0x2c53df,{'students':[]}),_0x3931c7[_0x496984(0x2fb)](_0x185d5f=>_0x10770e[_0x496984(0x1e9)](_0x185d5f['ref'])),await _0x10770e['commit']();}catch(_0x1d7a7a){console['error'](_0x496984(0x7e3),_0x1d7a7a),showMessage(_0x496984(0x2cf));}});}async function handleGenerateFromFileClick(){const _0xe9ef81=_0x1579df;if(!selectedFile){showMessage(_0xe9ef81(0x350));return;}const _0x2e8237=document[_0xe9ef81(0x632)](_0xe9ef81(0x2fe)),_0x622c87=document['getElementById'](_0xe9ef81(0x813)),_0x30a069=document[_0xe9ef81(0x632)](_0xe9ef81(0x8d2)),_0x307eaa=document['getElementById'](_0xe9ef81(0x1fa));_0x307eaa[_0xe9ef81(0xd7)]=!![],document[_0xe9ef81(0x632)](_0xe9ef81(0x3e0))[_0xe9ef81(0x635)][_0xe9ef81(0x74c)](_0xe9ef81(0x99e)),_0x30a069[_0xe9ef81(0x581)]='',_0x2e8237[_0xe9ef81(0x635)][_0xe9ef81(0x74c)](_0xe9ef81(0x99e)),_0x622c87[_0xe9ef81(0xf3)]=_0xe9ef81(0x1ad);const _0x2e30ca=new FileReader();_0x2e30ca[_0xe9ef81(0x4e5)](selectedFile),_0x2e30ca[_0xe9ef81(0x389)]=async()=>{const _0x2f08b4=_0xe9ef81;try{const _0x108b6f=_0x2e30ca['result'][_0x2f08b4(0x1ff)](',')[0x1],_0x458f74=selectedFile[_0x2f08b4(0x346)];await generateQuizFromFile(_0x458f74,_0x108b6f);}catch(_0x240a73){console[_0x2f08b4(0x962)](_0x2f08b4(0x8a5),_0x240a73),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x240a73[_0x2f08b4(0x52c)]),_0x2e8237[_0x2f08b4(0x635)]['add'](_0x2f08b4(0x99e));}finally{}},_0x2e30ca['onerror']=_0x39bd3c=>{const _0x348b5a=_0xe9ef81;console[_0x348b5a(0x962)](_0x348b5a(0x338),_0x39bd3c),showMessage(_0x348b5a(0x38c)),_0x2e8237['classList'][_0x348b5a(0x8c5)]('hidden'),_0x307eaa[_0x348b5a(0xd7)]=![];};}function autoFormatMath(_0x4956ef){const _0x5a90d5=_0x1579df;if(typeof _0x4956ef!==_0x5a90d5(0x433)||!_0x4956ef)return _0x4956ef;const _0x450201=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x22be24=_0x4956ef['replace'](_0x450201,_0x205cc6=>{const _0x986653=_0x5a90d5;return'$'+_0x205cc6[_0x986653(0x3d4)]()+'$';});return _0x22be24;}function sanitizeQuizData(_0x32f7ca){const _0x4901a9=_0x1579df;if(!_0x32f7ca||!_0x32f7ca[_0x4901a9(0x88e)])return _0x32f7ca;const _0x4efa1d={'imes':_0x4901a9(0x248),'div':_0x4901a9(0x45c)},_0x4f936a=_0x14273b=>{const _0x3f8c6a=_0x4901a9;if(typeof _0x14273b!==_0x3f8c6a(0x433))return _0x14273b;let _0x3f211b=_0x14273b;for(const [_0x38e6f2,_0x380943]of Object[_0x3f8c6a(0x9b6)](_0x4efa1d)){const _0x2927fe=new RegExp('\x5cb'+_0x38e6f2+'\x5cb','g');_0x3f211b=_0x3f211b[_0x3f8c6a(0x399)](_0x2927fe,_0x380943);}return _0x3f211b=_0x3f211b['replace'](/\\\//g,'\x5cdiv'),_0x3f211b=_0x3f211b[_0x3f8c6a(0x399)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x3f8c6a(0x399)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x3f8c6a(0x248))[_0x3f8c6a(0x399)](/÷/g,_0x3f8c6a(0x45c))[_0x3f8c6a(0x399)](/×/g,_0x3f8c6a(0x248)),_0x3f211b=_0x3f211b[_0x3f8c6a(0x399)](/(\d)(\\frac)/g,_0x3f8c6a(0x5b4)),_0x3f211b=autoFormatMath(_0x3f211b),_0x3f211b;};return _0x32f7ca[_0x4901a9(0x9b2)]&&(_0x32f7ca['topic']=_0x4f936a(_0x32f7ca['topic'])),_0x32f7ca['questions'][_0x4901a9(0x2fb)](_0x45ae20=>{const _0x32fea2=_0x4901a9;_0x45ae20[_0x32fea2(0x2b6)]=_0x4f936a(_0x45ae20[_0x32fea2(0x2b6)]),_0x45ae20[_0x32fea2(0x518)]&&(_0x45ae20[_0x32fea2(0x518)]=_0x45ae20[_0x32fea2(0x518)][_0x32fea2(0x931)](_0x4f936a)),_0x45ae20['explanation']&&(_0x45ae20[_0x32fea2(0x832)]=_0x4f936a(_0x45ae20[_0x32fea2(0x832)])),_0x45ae20[_0x32fea2(0x36b)]&&(_0x45ae20[_0x32fea2(0x36b)]=_0x4f936a(_0x45ae20['stem'])),_0x45ae20['correctResponse']&&(_0x45ae20['correctResponse']=_0x4f936a(_0x45ae20[_0x32fea2(0x329)])),_0x45ae20[_0x32fea2(0x15f)]&&(_0x45ae20[_0x32fea2(0x15f)]=_0x45ae20[_0x32fea2(0x15f)][_0x32fea2(0x931)](_0x4f936a));}),_0x32f7ca;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x14c5f0=_0x1579df,_0x41d629=document[_0x14c5f0(0x632)]('link-url-input'),_0x1f516e=document[_0x14c5f0(0x632)](_0x14c5f0(0x2e8)),_0x3488bd=_0x41d629[_0x14c5f0(0x3d7)][_0x14c5f0(0x3d4)](),_0x1ed155=_0x1f516e['value'][_0x14c5f0(0x3d4)]();if(!_0x3488bd){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x29e236=document['getElementById'](_0x14c5f0(0x2fe)),_0x41176a=document['getElementById'](_0x14c5f0(0x813)),_0xe38a7c=document[_0x14c5f0(0x632)](_0x14c5f0(0x8d2)),_0x2f55f5=document[_0x14c5f0(0x632)](_0x14c5f0(0x4a9));document[_0x14c5f0(0x632)](_0x14c5f0(0x3e0))[_0x14c5f0(0x635)][_0x14c5f0(0x74c)]('hidden'),_0xe38a7c[_0x14c5f0(0x581)]='',_0x29e236[_0x14c5f0(0x635)][_0x14c5f0(0x74c)]('hidden'),_0x41176a['textContent']='กำลังดึงข้อมูลจากลิงก์...',_0x2f55f5['disabled']=!![];try{const _0x2ae0a0=_0x14c5f0(0x579)+encodeURIComponent(_0x3488bd),_0x2712a8=await fetch(_0x2ae0a0);if(!_0x2712a8['ok'])throw new Error(_0x14c5f0(0x3ab)+_0x2712a8[_0x14c5f0(0x1cf)]+')');const _0x4b1bd0=await _0x2712a8[_0x14c5f0(0x999)](),_0x1e2540=extractTextFromHtml(_0x4b1bd0);if(!_0x1e2540||_0x1e2540[_0x14c5f0(0x783)]<0x64)throw new Error(_0x14c5f0(0x3f8));await generateQuiz(_0x1ed155,_0x1e2540);}catch(_0x1e64c1){console['error'](_0x14c5f0(0xe4),_0x1e64c1),showMessage(_0x14c5f0(0x4b1)+_0x1e64c1[_0x14c5f0(0x52c)]),_0xe38a7c[_0x14c5f0(0x581)]=_0x14c5f0(0x227);}finally{_0x29e236[_0x14c5f0(0x635)][_0x14c5f0(0x8c5)](_0x14c5f0(0x99e)),_0x2f55f5['disabled']=![];}}function extractTextFromHtml(_0x499c56){const _0x5ee1b2=_0x1579df,_0x2afcea=new DOMParser()[_0x5ee1b2(0x8d1)](_0x499c56,'text/html');return _0x2afcea[_0x5ee1b2(0x37d)](_0x5ee1b2(0x7b7))['forEach'](_0x3f9f8a=>_0x3f9f8a[_0x5ee1b2(0x74c)]()),_0x2afcea['body'][_0x5ee1b2(0xf3)]||'';}document['getElementById'](_0x1579df(0x3f1))[_0x1579df(0x6a9)](_0x1579df(0x379),()=>{const _0x5bb2ff=_0x1579df,_0x1ce7f9=document[_0x5bb2ff(0x632)](_0x5bb2ff(0x983))[_0x5bb2ff(0x3d7)][_0x5bb2ff(0x3d4)]();generateQuiz(_0x1ce7f9,null);}),document[_0x1579df(0x632)]('generate-from-text-btn')[_0x1579df(0x6a9)]('click',()=>{const _0x22fcba=_0x1579df,_0x5655a6=document['getElementById'](_0x22fcba(0x77e))[_0x22fcba(0x3d7)]['trim']();if(!_0x5655a6){showMessage(_0x22fcba(0x5c0));return;}const _0x139b56=document[_0x22fcba(0x632)]('topic-input')[_0x22fcba(0x3d7)]['trim']();generateQuiz(_0x139b56,_0x5655a6);});async function generateQuiz(_0x2da715,_0x3f8279,_0xbf85f0=null){const _0x2cf427=_0x1579df,_0x2fbe22=document['getElementById']('include-images-checkbox')['checked'],_0xed9acc=document['getElementById']('quiz-type-select')[_0x2cf427(0x3d7)],_0xa0cf7d=document[_0x2cf427(0x632)](_0x2cf427(0x411))[_0x2cf427(0x3d7)],_0x145407=document['getElementById']('num-choices')[_0x2cf427(0x3d7)],_0x295c0d=document[_0x2cf427(0x632)](_0x2cf427(0x800))['checked'],_0x433688=_0x295c0d?'':_0x2cf427(0x97e),_0x160aaf=document[_0x2cf427(0x632)](_0x2cf427(0x8a1)),_0x17d0c2=_0x160aaf[_0x2cf427(0x3d7)];let _0x4a0660='';_0x17d0c2!==_0x2cf427(0x75f)&&(_0x4a0660='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x17d0c2+'\x22');const _0x84b202=document[_0x2cf427(0x632)]('question-complexity-select'),_0x25cfdd=_0x84b202['value'];let _0x38b7cb='';_0x25cfdd!=='mixed'&&(_0x38b7cb='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x25cfdd+_0x2cf427(0xe9));const _0x50d63a=document[_0x2cf427(0x37d)](_0x2cf427(0x382)),_0x54cb1e=Array[_0x2cf427(0x88b)](_0x50d63a)[_0x2cf427(0x931)](_0x1d8446=>_0x1d8446['value']);let _0x41f67a='';_0x54cb1e['length']>0x0&&(_0x41f67a=_0x2cf427(0x87c)+_0x54cb1e[_0x2cf427(0x7b1)](',\x20')+_0x2cf427(0x68e));let _0x1ab230='',_0xb0f7bc='',_0x5f15ff,_0xea7283='เกี่ยวกับหัวข้อ\x20\x22'+_0x2da715+'\x22';if(!_0x2da715&&_0x3f8279)_0xea7283=_0x2cf427(0x830);else!_0x2da715&&!_0x3f8279&&(_0xea7283=_0x2cf427(0x198));const _0x304d4d={'type':_0x2cf427(0xb1),'properties':{'questionText':{'type':_0x2cf427(0x1e7)},'options':{'type':_0x2cf427(0x926),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2cf427(0x5c9)},'explanation':{'type':_0x2cf427(0x1e7)},'imageCode':{'type':_0x2cf427(0x1e7)}},'required':['questionText',_0x2cf427(0x518),_0x2cf427(0x48f),_0x2cf427(0x832)]},_0x1f62e4={'type':_0x2cf427(0xb1),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2cf427(0x1e7)},'imageCode':{'type':_0x2cf427(0x1e7)}},'required':[_0x2cf427(0x2b6),_0x2cf427(0x3ad),_0x2cf427(0x832)]},_0x1357c2={'type':_0x2cf427(0xb1),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2cf427(0x1e7),'enum':[_0x2cf427(0x34f),_0x2cf427(0x236)]},'options':{'type':_0x2cf427(0x926),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2cf427(0x5c9)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2cf427(0x1e7)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x2cf427(0x54a),_0x2cf427(0x832)]},_0x454929={'type':_0x2cf427(0xb1),'properties':{'questionText':{'type':_0x2cf427(0x1e7)},'correctAnswer':{'type':_0x2cf427(0x241)},'explanation':{'type':_0x2cf427(0x1e7)},'imageCode':{'type':_0x2cf427(0x1e7)}},'required':[_0x2cf427(0x2b6),_0x2cf427(0x7d0),_0x2cf427(0x832)]},_0x1a456c={'type':_0x2cf427(0xb1),'properties':{'questionType':{'type':_0x2cf427(0x1e7),'enum':[_0x2cf427(0x357)]},'stem':{'type':_0x2cf427(0x1e7)},'correctResponse':{'type':_0x2cf427(0x1e7)},'allResponses':{'type':_0x2cf427(0x926),'items':{'type':_0x2cf427(0x1e7)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2cf427(0x54a),'stem',_0x2cf427(0x329),_0x2cf427(0x15f),'explanation']};let _0x457068;if(_0xbf85f0!==null){const _0x2ee716=currentQuizData['questions'][_0xbf85f0][_0x2cf427(0x54a)],_0x89bbc8=_0x2fbe22?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x1ab230='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0xea7283+'\x20'+_0x41f67a+'\x20'+_0x4a0660+_0x2cf427(0x766)+_0x89bbc8+'\x20'+simpleMathPrompt;if(_0x2ee716===_0x2cf427(0x34f))_0x5f15ff=_0x304d4d;else{if(_0x2ee716===_0x2cf427(0x357))_0x5f15ff={'type':_0x2cf427(0xb1),'properties':{'questionType':{'type':'STRING','enum':[_0x2cf427(0x357)]},'stem':{'type':_0x2cf427(0x1e7)},'correctResponse':{'type':_0x2cf427(0x1e7)},'explanation':{'type':_0x2cf427(0x1e7)},'imageCode':{'type':_0x2cf427(0x1e7)}},'required':['questionType',_0x2cf427(0x36b),_0x2cf427(0x329),_0x2cf427(0x832)]};else _0x5f15ff=_0x1f62e4;}_0x457068=_0x5f15ff;}else{const _0x2fb1ea=_0x2fbe22?_0x2cf427(0x8b7):'',_0x2c2d98='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0xed9acc){case'multiple_choice':_0x1ab230=_0x2cf427(0x6f1)+_0x433688+'\x20'+_0xa0cf7d+'\x20ข้อ\x20'+_0xea7283+'\x20'+_0x41f67a+'\x20'+_0x4a0660+'\x20'+_0x38b7cb+_0x2cf427(0x985)+_0x145407+_0x2cf427(0x786)+_0x2fb1ea+'\x20'+simpleMathPrompt,_0x5f15ff=_0x304d4d;break;case'fill_in_with_choices':_0x1ab230=_0x2cf427(0x7e4)+_0x433688+'\x20'+_0xa0cf7d+_0x2cf427(0x96e)+_0xea7283+'\x20'+_0x41f67a+'\x20'+_0x4a0660+'\x20'+_0x38b7cb+_0x2cf427(0x499)+_0x145407+_0x2cf427(0x993)+_0x2fb1ea+'\x20'+simpleMathPrompt,_0x5f15ff=_0x304d4d;break;case _0x2cf427(0x7aa):_0x1ab230=_0x2cf427(0x7e4)+_0x433688+'\x20'+_0xa0cf7d+'\x20ข้อ\x20'+_0xea7283+'\x20'+_0x41f67a+'\x20'+_0x4a0660+'\x20'+_0x38b7cb+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2fb1ea+'\x20'+simpleMathPrompt,_0x5f15ff=_0x1f62e4;break;case _0x2cf427(0x973):_0x1ab230=_0x2cf427(0x31f)+_0x433688+'\x20'+_0xa0cf7d+_0x2cf427(0x96e)+_0xea7283+'\x20'+_0x41f67a+'\x20'+_0x4a0660+'\x20'+_0x38b7cb+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x145407+'\x20ตัวเลือก.\x20'+_0x2fb1ea+'\x20'+simpleMathPrompt+'.',_0x5f15ff=_0x1357c2;break;case _0x2cf427(0x958):_0x1ab230=_0x2cf427(0x1ab)+_0x433688+'\x20'+_0xa0cf7d+_0x2cf427(0x96e)+_0xea7283+'\x20'+_0x41f67a+'\x20'+_0x4a0660+'\x20'+_0x38b7cb+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x2fb1ea+'\x20'+simpleMathPrompt,_0x5f15ff=_0x454929;break;case _0x2cf427(0xcb):_0x1ab230=_0x2cf427(0x917)+_0x433688+'\x20'+_0xa0cf7d+_0x2cf427(0xe8)+_0xea7283+'\x20'+_0x41f67a+'\x20'+_0x4a0660+'\x20'+_0x38b7cb+_0x2cf427(0x2af)+_0x2fb1ea+'\x20'+simpleMathPrompt,_0x5f15ff=_0x1a456c;break;}_0x457068={'type':'OBJECT','properties':{'topic':{'type':_0x2cf427(0x1e7)},'questions':{'type':_0x2cf427(0x926),'items':_0x5f15ff}},'required':[_0x2cf427(0x9b2),'questions']};}return _0x3f8279?(_0x1ab230='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x3f8279+_0x2cf427(0x552)+_0x1ab230,_0xb0f7bc=_0x2cf427(0x6df)):_0xb0f7bc=_0x2cf427(0xbb),handleApiCall(_0x1ab230,_0xb0f7bc,_0x457068,_0xbf85f0);}async function generateQuizFromFile(_0x4a4acd,_0x3d093f){const _0x38d957=_0x1579df,_0x4af0eb=document[_0x38d957(0x632)](_0x38d957(0x732))['value']['trim'](),_0x4daeac=document[_0x38d957(0x632)]('quiz-type-select')['value'],_0x4de6f7=document[_0x38d957(0x632)](_0x38d957(0x411))['value'],_0x54d41a=document[_0x38d957(0x632)](_0x38d957(0x26b))[_0x38d957(0x3d7)],_0x198e7a=document['getElementById'](_0x38d957(0x667))[_0x38d957(0x37c)],_0x10ad70=document[_0x38d957(0x632)](_0x38d957(0x800))[_0x38d957(0x37c)],_0x8d290a=_0x10ad70?'':_0x38d957(0x97e);let _0x203bae='',_0x4718eb,_0x56c746=_0x38d957(0x67c)+_0x4af0eb+'\x22';!_0x4af0eb&&(_0x56c746='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');const _0x17148c=_0x198e7a?_0x38d957(0x8b7):'';switch(_0x4daeac){case'multiple_choice':_0x203bae='สร้างแบบทดสอบปรนัย'+_0x8d290a+'\x20'+_0x4de6f7+_0x38d957(0x96e)+_0x56c746+'.\x20แต่ละข้อมี\x20'+_0x54d41a+_0x38d957(0x786)+_0x17148c+'\x20'+simpleMathPrompt,_0x4718eb={'type':_0x38d957(0xb1),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x38d957(0x926),'items':{'type':_0x38d957(0x1e7)}},'correctAnswerIndex':{'type':_0x38d957(0x5c9)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x38d957(0x1e7)}},'required':[_0x38d957(0x2b6),_0x38d957(0x518),'correctAnswerIndex',_0x38d957(0x832)]};break;case _0x38d957(0x966):_0x203bae='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x8d290a+'\x20'+_0x4de6f7+_0x38d957(0x96e)+_0x56c746+_0x38d957(0x499)+_0x54d41a+_0x38d957(0x993)+_0x17148c+'\x20'+simpleMathPrompt,_0x4718eb={'type':_0x38d957(0xb1),'properties':{'questionText':{'type':_0x38d957(0x1e7)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x38d957(0x5c9)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x38d957(0x1e7)}},'required':[_0x38d957(0x2b6),'options','correctAnswerIndex',_0x38d957(0x832)]};break;case _0x38d957(0x7aa):_0x203bae=_0x38d957(0x7e4)+_0x8d290a+'\x20'+_0x4de6f7+_0x38d957(0x96e)+_0x56c746+_0x38d957(0x301)+_0x17148c+'\x20'+simpleMathPrompt,_0x4718eb={'type':_0x38d957(0xb1),'properties':{'questionText':{'type':_0x38d957(0x1e7)},'idealAnswer':{'type':_0x38d957(0x1e7)},'explanation':{'type':_0x38d957(0x1e7)},'imageCode':{'type':_0x38d957(0x1e7)}},'required':[_0x38d957(0x2b6),_0x38d957(0x3ad),'explanation']};break;case _0x38d957(0x973):_0x203bae='สร้างแบบทดสอบ'+_0x8d290a+'\x20'+_0x4de6f7+'\x20ข้อ\x20'+_0x56c746+_0x38d957(0x78b)+_0x54d41a+'\x20ตัวเลือก.\x20'+_0x17148c+'\x20'+simpleMathPrompt+_0x38d957(0x692),_0x4718eb={'type':'OBJECT','properties':{'questionText':{'type':_0x38d957(0x1e7)},'questionType':{'type':_0x38d957(0x1e7),'enum':[_0x38d957(0x34f),_0x38d957(0x236)]},'options':{'type':_0x38d957(0x926),'items':{'type':_0x38d957(0x1e7)}},'correctAnswerIndex':{'type':_0x38d957(0x5c9)},'idealAnswer':{'type':_0x38d957(0x1e7)},'explanation':{'type':_0x38d957(0x1e7)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x38d957(0x54a),_0x38d957(0x832)]};break;case _0x38d957(0x958):_0x203bae=_0x38d957(0x1ab)+_0x8d290a+'\x20'+_0x4de6f7+'\x20ข้อ\x20'+_0x56c746+_0x38d957(0x6c6)+_0x17148c+'\x20'+simpleMathPrompt,_0x4718eb={'type':_0x38d957(0xb1),'properties':{'questionText':{'type':_0x38d957(0x1e7)},'correctAnswer':{'type':_0x38d957(0x241)},'explanation':{'type':_0x38d957(0x1e7)},'imageCode':{'type':_0x38d957(0x1e7)}},'required':['questionText','correctAnswer',_0x38d957(0x832)]};break;case _0x38d957(0xcb):_0x203bae=_0x38d957(0x917)+_0x8d290a+'\x20'+_0x4de6f7+_0x38d957(0xe8)+_0x56c746+_0x38d957(0x3bf)+_0x4de6f7+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x17148c+'\x20'+simpleMathPrompt,_0x4718eb={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x38d957(0x357)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x38d957(0x1e7)},'allResponses':{'type':_0x38d957(0x926),'items':{'type':_0x38d957(0x1e7)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x38d957(0x1e7)}},'required':[_0x38d957(0x54a),_0x38d957(0x36b),_0x38d957(0x329),_0x38d957(0x15f),_0x38d957(0x832)]};break;}const _0x4495ab={'type':_0x38d957(0xb1),'properties':{'topic':{'type':_0x38d957(0x1e7)},'questions':{'type':_0x38d957(0x926),'items':_0x4718eb}},'required':[_0x38d957(0x9b2),_0x38d957(0x88e)]},_0x53289=_0x38d957(0x6d3)+_0x203bae,_0x2aed84={'contents':[{'parts':[{'text':_0x53289},{'inlineData':{'mimeType':_0x4a4acd,'data':_0x3d093f}}]}],'generationConfig':{'responseMimeType':_0x38d957(0x7c0),'responseSchema':_0x4495ab}};return handleApiCall(_0x2aed84['contents'][0x0][_0x38d957(0x954)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x4495ab);}async function handleApiCall(_0x3d8c75,_0x44d9b0,_0x5962f2,_0x1ae20e=null){const _0x2ab47e=_0x1579df,_0x241f80=document[_0x2ab47e(0x632)]('quiz-generation-area'),_0x182dfa=document[_0x2ab47e(0x632)]('loader'),_0xcad297=document[_0x2ab47e(0x632)](_0x2ab47e(0x813)),_0x25f013=document[_0x2ab47e(0x632)](_0x2ab47e(0x8d2));_0x241f80[_0x2ab47e(0x635)][_0x2ab47e(0x74c)](_0x2ab47e(0x99e));_0x1ae20e===null&&(_0x25f013[_0x2ab47e(0x581)]='');_0x182dfa[_0x2ab47e(0x635)][_0x2ab47e(0x74c)](_0x2ab47e(0x99e)),_0xcad297[_0x2ab47e(0xf3)]=_0x44d9b0,document[_0x2ab47e(0x632)]('generate-from-topic-btn')[_0x2ab47e(0xd7)]=!![],document[_0x2ab47e(0x632)](_0x2ab47e(0x6a2))[_0x2ab47e(0xd7)]=!![],document[_0x2ab47e(0x632)](_0x2ab47e(0x4a9))[_0x2ab47e(0xd7)]=!![];try{const _0x323b9c={'responseMimeType':_0x2ab47e(0x7c0),'responseSchema':_0x5962f2},_0x8801c1=Array[_0x2ab47e(0x471)](_0x3d8c75)?_0x3d8c75:[{'text':_0x3d8c75}],_0x193d89={'contents':[{'role':_0x2ab47e(0x2d4),'parts':_0x8801c1}],'generationConfig':_0x323b9c},_0x42c248=_0x2ab47e(0x4f6),_0x4e9302='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x42c248,_0x164641=await fetch(_0x4e9302,{'method':'POST','headers':{'Content-Type':_0x2ab47e(0x7c0)},'body':JSON[_0x2ab47e(0x3c5)](_0x193d89)});if(!_0x164641['ok'])throw new Error(_0x2ab47e(0x50f)+_0x164641[_0x2ab47e(0x1cf)]);const _0x167a3a=await _0x164641[_0x2ab47e(0x872)]();if(_0x167a3a['candidates']?.[0x0]?.['content']?.[_0x2ab47e(0x954)]?.[0x0]){let _0x125f03=_0x167a3a[_0x2ab47e(0x30a)][0x0][_0x2ab47e(0x1fe)]['parts'][0x0][_0x2ab47e(0x999)],_0x5ba1dd;try{if(_0x125f03[_0x2ab47e(0x40b)](_0x2ab47e(0x6c1)))_0x125f03=_0x125f03[_0x2ab47e(0x18b)](0x7,_0x125f03[_0x2ab47e(0x783)]-0x3)[_0x2ab47e(0x3d4)]();else _0x125f03[_0x2ab47e(0x40b)](_0x2ab47e(0x8e4))&&(_0x125f03=_0x125f03['substring'](0x3,_0x125f03['length']-0x3)[_0x2ab47e(0x3d4)]());_0x5ba1dd=JSON['parse'](_0x125f03);}catch(_0x2be7ea){console[_0x2ab47e(0x962)](_0x2ab47e(0x347),_0x2be7ea,_0x125f03);throw new Error(_0x2ab47e(0x5a5));}if(_0x1ae20e!==null){if(_0x5ba1dd['questionType']===_0x2ab47e(0x357)){const _0x177870=currentQuizData[_0x2ab47e(0x88e)][_0x2ab47e(0x931)](_0xb27535=>_0xb27535[_0x2ab47e(0x329)]);_0x5ba1dd[_0x2ab47e(0x15f)]=_0x177870;const _0x345f27=currentQuizData[_0x2ab47e(0x88e)][_0x1ae20e][_0x2ab47e(0x329)],_0x3d579b=_0x177870[_0x2ab47e(0x484)](_0x345f27);_0x3d579b>-0x1&&(_0x177870[_0x3d579b]=_0x5ba1dd[_0x2ab47e(0x329)]),currentQuizData[_0x2ab47e(0x88e)][_0x2ab47e(0x2fb)](_0x2c524a=>{const _0x55b97f=_0x2ab47e;if(_0x2c524a[_0x55b97f(0x54a)]===_0x55b97f(0x357))_0x2c524a[_0x55b97f(0x15f)]=_0x177870;});}currentQuizData['questions'][_0x1ae20e]=_0x5ba1dd,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x5ba1dd;const _0x3f5764=document[_0x2ab47e(0x632)](_0x2ab47e(0x73a))['value'];currentQuizData[_0x2ab47e(0x9af)]=_0x3f5764,currentQuizData[_0x2ab47e(0x88e)]&&currentQuizData[_0x2ab47e(0x88e)][_0x2ab47e(0x2fb)](_0x17debe=>{const _0x11811a=_0x2ab47e;if(!_0x17debe[_0x11811a(0x54a)]){if(_0x3f5764===_0x11811a(0x966))_0x17debe['questionType']='multiple_choice';else _0x3f5764==='fill_in_no_choices'?_0x17debe[_0x11811a(0x54a)]=_0x11811a(0x236):_0x17debe[_0x11811a(0x54a)]=_0x3f5764;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x2ab47e(0x962)](_0x2ab47e(0x899),JSON[_0x2ab47e(0x3c5)](_0x167a3a));throw new Error(_0x2ab47e(0x5a5));}}catch(_0x241c2d){console[_0x2ab47e(0x962)](_0x2ab47e(0x3e6),_0x241c2d),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง'),_0x1ae20e===null&&(_0x25f013[_0x2ab47e(0x581)]=_0x2ab47e(0xae));}finally{_0x182dfa[_0x2ab47e(0x635)][_0x2ab47e(0x8c5)](_0x2ab47e(0x99e)),document[_0x2ab47e(0x632)](_0x2ab47e(0x3f1))[_0x2ab47e(0xd7)]=![],document['getElementById'](_0x2ab47e(0x6a2))[_0x2ab47e(0xd7)]=![],document['getElementById'](_0x2ab47e(0x4a9))['disabled']=![];const _0x2f717c=document['getElementById'](_0x2ab47e(0x1fa));_0x2f717c&&(_0x2f717c['disabled']=![]);}}function exitFullscreen(){const _0x170a73=_0x1579df;if(document[_0x170a73(0x98a)])document[_0x170a73(0x98a)]()[_0x170a73(0x1f3)](_0x4d3d68=>console[_0x170a73(0x962)](_0x4d3d68));else{if(document[_0x170a73(0x369)])document[_0x170a73(0x369)]();else document[_0x170a73(0x5b5)]&&document[_0x170a73(0x5b5)]();}}function enterFullscreen(){const _0x47d58c=_0x1579df,_0x42efc7=document[_0x47d58c(0x127)];if(_0x42efc7[_0x47d58c(0x138)])_0x42efc7[_0x47d58c(0x138)]()[_0x47d58c(0x1f3)](_0xcbb157=>{const _0x2c904c=_0x47d58c;console[_0x2c904c(0x962)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0xcbb157[_0x2c904c(0x52c)]+'\x20('+_0xcbb157['name']+')');});else{if(_0x42efc7[_0x47d58c(0x40a)])_0x42efc7[_0x47d58c(0x40a)]();else _0x42efc7['msRequestFullscreen']&&_0x42efc7['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x36dc07=_0x1579df;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x36dc07(0x512),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x36dc07(0x1e2)),document[_0x36dc07(0x632)]('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x36dc07(0x333)](_0x36dc07(0x755),handleVisibilityChange),document[_0x36dc07(0x333)]('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x4ffe88=_0x1579df;if(currentMode===_0x4ffe88(0x89c)||!isQuizActive)return;if(document['visibilityState']==='hidden')handleCheatingEvent();else document[_0x4ffe88(0x83a)]==='visible'&&(console[_0x4ffe88(0x919)](_0x4ffe88(0x16f)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x54f605=_0x1579df;if(currentMode===_0x54f605(0x89c)||!isQuizActive)return;!document[_0x54f605(0x675)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x56d9cb){const _0x1f3904=_0x1579df,_0x556771=document['getElementById'](_0x1f3904(0x8d2));let _0xaf2c61='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x56d9cb[_0x1f3904(0x9b2)]+_0x1f3904(0x6fd);_0x56d9cb[_0x1f3904(0x88e)][_0x1f3904(0x2fb)]((_0x58cb66,_0xe2bde)=>{const _0x106552=_0x1f3904;!_0x58cb66['id']&&(_0x58cb66['id']='q_'+Date[_0x106552(0x2da)]()+'_'+_0xe2bde);const _0x218917=_0x58cb66[_0x106552(0x54a)]||_0x56d9cb[_0x106552(0x9af)];_0xaf2c61+=_0x106552(0x8f6)+_0xe2bde+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0xe2bde+_0x106552(0x8ca)+_0xe2bde+_0x106552(0x45d)+_0xe2bde+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x218917){case _0x106552(0x357):_0xaf2c61+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xe2bde+'\x22>'+(_0xe2bde+0x1)+'.\x20'+_0x58cb66[_0x106552(0x36b)]+_0x106552(0x58b);_0x58cb66[_0x106552(0x137)]&&(_0xaf2c61+=_0x106552(0x7d2)+_0xe2bde+_0x106552(0x2b3)+_0x58cb66['imageCode']+_0x106552(0x49d));_0xaf2c61+=_0x106552(0x1de)+_0xe2bde+'\x22>'+_0x58cb66[_0x106552(0x329)]+_0x106552(0x273),_0xaf2c61+=_0x106552(0x257)+_0xe2bde+'\x22>'+_0x58cb66[_0x106552(0x832)]+_0x106552(0x273);break;case _0x106552(0x236):_0xaf2c61+=_0x106552(0x3cb)+_0xe2bde+'\x22>'+(_0xe2bde+0x1)+'.\x20'+_0x58cb66[_0x106552(0x2b6)]+'</p>';_0x58cb66['imageCode']&&(_0xaf2c61+=_0x106552(0x7d2)+_0xe2bde+_0x106552(0x2b3)+_0x58cb66[_0x106552(0x137)]+_0x106552(0x49d));_0xaf2c61+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0xe2bde+'\x22>'+_0x58cb66[_0x106552(0x3ad)]+'</span></div>',_0xaf2c61+=_0x106552(0x257)+_0xe2bde+'\x22>'+_0x58cb66[_0x106552(0x832)]+_0x106552(0x273);break;case'true_false':_0xaf2c61+=_0x106552(0x3cb)+_0xe2bde+'\x22>'+(_0xe2bde+0x1)+'.\x20'+_0x58cb66[_0x106552(0x2b6)]+_0x106552(0x58b);_0x58cb66['imageCode']&&(_0xaf2c61+=_0x106552(0x7d2)+_0xe2bde+_0x106552(0x2b3)+_0x58cb66[_0x106552(0x137)]+_0x106552(0x49d));_0xaf2c61+=_0x106552(0x76b)+(_0x58cb66['correctAnswer']===!![]?_0x106552(0x1a5):'')+_0x106552(0x643)+(_0x58cb66[_0x106552(0x7d0)]===![]?_0x106552(0x1a5):'')+_0x106552(0x342),_0xaf2c61+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0xe2bde+'\x22>'+_0x58cb66[_0x106552(0x832)]+'</span></div>';break;case _0x106552(0xb4):case _0x106552(0x34f):default:_0xaf2c61+=_0x106552(0x3cb)+_0xe2bde+'\x22>'+(_0xe2bde+0x1)+'.\x20'+_0x58cb66['questionText']+'</p>';_0x58cb66[_0x106552(0x137)]&&(_0xaf2c61+=_0x106552(0x7d2)+_0xe2bde+_0x106552(0x2b3)+_0x58cb66[_0x106552(0x137)]+_0x106552(0x49d));_0xaf2c61+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0xe2bde+_0x106552(0x317)+_0x58cb66[_0x106552(0x518)][_0x106552(0x931)]((_0x1bb479,_0xb35b3f)=>_0x106552(0x797)+(_0xb35b3f===_0x58cb66['correctAnswerIndex']?'text-green-600\x20font-bold':'')+'\x22>'+_0x1bb479+'</li>')[_0x106552(0x7b1)]('')+_0x106552(0x25a),_0xaf2c61+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0xe2bde+'\x22>'+_0x58cb66[_0x106552(0x832)]+_0x106552(0x273);break;}_0xaf2c61+=_0x106552(0x49d);}),_0xaf2c61+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x556771[_0x1f3904(0x581)]=_0xaf2c61,document[_0x1f3904(0x37d)]('.edit-question-btn')[_0x1f3904(0x2fb)](_0x3f65e1=>_0x3f65e1['addEventListener'](_0x1f3904(0x379),handleEditQuestion)),document[_0x1f3904(0x37d)]('.regenerate-question-btn')[_0x1f3904(0x2fb)](_0x43aaca=>_0x43aaca[_0x1f3904(0x6a9)](_0x1f3904(0x379),handleRegenerateQuestion)),document['querySelectorAll']('.save-to-bank-btn')['forEach'](_0x188a92=>_0x188a92[_0x1f3904(0x6a9)]('click',handleSaveToBank)),document['getElementById'](_0x1f3904(0x1f8))[_0x1f3904(0x6a9)]('click',exportQuizAsWorksheetPDF),document[_0x1f3904(0x632)](_0x1f3904(0x463))[_0x1f3904(0x6a9)]('click',saveQuiz),document['getElementById'](_0x1f3904(0x1be))[_0x1f3904(0x6a9)]('click',handleVerifyAnswers);if(window[_0x1f3904(0x1c5)])window['MathJax'][_0x1f3904(0x2ab)]([_0x556771]);}function handleRegenerateQuestion(_0x49af97){const _0x43ee84=_0x1579df,_0xaf6f8=_0x49af97[_0x43ee84(0x3c2)][_0x43ee84(0x6de)][_0x43ee84(0x62f)],_0x104749=currentQuizData[_0x43ee84(0x9b2)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0xaf6f8)+0x1)+_0x43ee84(0x544)),generateQuiz(_0x104749,null,parseInt(_0xaf6f8));}function getPointerPosition(_0x1042da,_0xbc622a){const _0x6d5321=_0x1579df,_0x375ea3=_0x1042da[_0x6d5321(0x816)]();let _0xc30508,_0x132a2e;return _0xbc622a[_0x6d5321(0x697)]&&_0xbc622a['touches']['length']>0x0?(_0xc30508=_0xbc622a[_0x6d5321(0x697)][0x0][_0x6d5321(0x793)],_0x132a2e=_0xbc622a[_0x6d5321(0x697)][0x0]['clientY']):(_0xc30508=_0xbc622a[_0x6d5321(0x793)],_0x132a2e=_0xbc622a[_0x6d5321(0x4d6)]),{'x':(_0xc30508-_0x375ea3['e'])/_0x375ea3['a'],'y':(_0x132a2e-_0x375ea3['f'])/_0x375ea3['d']};}function startDrag(_0x235aaa){const _0x19d916=_0x1579df;_0x235aaa['type']===_0x19d916(0x3c3)&&_0x235aaa[_0x19d916(0x93c)]();const _0xcbc26d=_0x235aaa[_0x19d916(0x51e)][_0x19d916(0x5ac)](_0x19d916(0x6b7));if(_0xcbc26d){draggedSvgElement=_0xcbc26d;const _0x328b37=draggedSvgElement[_0x19d916(0x3c1)],_0x239033=getPointerPosition(_0x328b37,_0x235aaa);svgOffset['x']=_0x239033['x']-parseFloat(draggedSvgElement[_0x19d916(0x1ef)](null,'x')),svgOffset['y']=_0x239033['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x5526f1,_0x147458){const _0x255a83=_0x1579df,_0x17197a={};if(_0x147458['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x44b9d8=[..._0x147458]['sort']((_0x294039,_0x30d100)=>{const _0x240d11=_0x13b1,_0x58e6e8=_0x30d100[_0x240d11(0x4f7)]-_0x294039[_0x240d11(0x4f7)];if(_0x58e6e8!==0x0)return _0x58e6e8;const _0x5da8eb=_0x294039[_0x240d11(0x157)]?.[_0x240d11(0x783)]||0x1,_0x75a98=_0x30d100['attempts']?.[_0x240d11(0x783)]||0x1,_0x2fec89=_0x5da8eb-_0x75a98;if(_0x2fec89!==0x0)return _0x2fec89;const _0x4d23d2=new Date(_0x294039[_0x240d11(0x8fb)]),_0x37ef51=new Date(_0x30d100[_0x240d11(0x8fb)]),_0x2a52c0=_0x4d23d2-_0x37ef51;if(_0x2a52c0!==0x0)return _0x2a52c0;return _0x294039[_0x240d11(0x6ef)][_0x240d11(0x144)](_0x30d100['studentName'],'th');}),_0x11ce44=_0x44b9d8[_0x255a83(0x783)],_0x2df224=Math[_0x255a83(0x7a0)](0x1,Math[_0x255a83(0x1e3)](_0x11ce44*0.33));if(_0x2df224===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x3306b2=_0x44b9d8['slice'](0x0,_0x2df224),_0x9e6849=_0x44b9d8[_0x255a83(0xc4)](-_0x2df224),_0x3cba9e=_0x3306b2[_0x255a83(0x931)](_0x4c3977=>_0x4c3977[_0x255a83(0x6ef)]),_0x10fffb=_0x9e6849[_0x255a83(0x931)](_0x3797cd=>_0x3797cd[_0x255a83(0x6ef)]);return _0x5526f1[_0x255a83(0x88e)][_0x255a83(0x2fb)]((_0x160390,_0x4233db)=>{const _0xed8ad1=_0x255a83,_0x57e377=_0x160390[_0xed8ad1(0x36b)]||_0x160390[_0xed8ad1(0x2b6)];let _0x241e79=0x0,_0x5aa999=0x0,_0x35edb6=0x0;const _0x1ea4f9=[],_0x496f87=[];_0x3306b2[_0xed8ad1(0x2fb)](_0x4d8d87=>{const _0x309516=_0xed8ad1,_0x5b3eaa=_0x4d8d87['attempts'][_0x4d8d87[_0x309516(0x157)][_0x309516(0x783)]-0x1],_0x483b44=_0x5b3eaa[_0x309516(0x6ac)][_0x309516(0x974)](_0x1eccaf=>_0x1eccaf[_0x309516(0x86a)]===_0x57e377);_0x1ea4f9['push']({'name':_0x4d8d87[_0x309516(0x6ef)],'isCorrect':_0x483b44?_0x483b44['isCorrect']:![]}),_0x483b44&&_0x483b44['isCorrect']&&_0x5aa999++;}),_0x9e6849['forEach'](_0x3a0871=>{const _0x1038d6=_0xed8ad1,_0xe7a450=_0x3a0871['attempts'][_0x3a0871[_0x1038d6(0x157)][_0x1038d6(0x783)]-0x1],_0x5d6860=_0xe7a450['answers'][_0x1038d6(0x974)](_0x340cc7=>_0x340cc7[_0x1038d6(0x86a)]===_0x57e377);_0x496f87[_0x1038d6(0x995)]({'name':_0x3a0871[_0x1038d6(0x6ef)],'isCorrect':_0x5d6860?_0x5d6860['isCorrect']:![]}),_0x5d6860&&_0x5d6860[_0x1038d6(0x304)]&&_0x35edb6++;}),_0x147458['forEach'](_0x28c2c9=>{const _0x8050e7=_0xed8ad1,_0x4f0b4e=_0x28c2c9[_0x8050e7(0x157)][_0x28c2c9['attempts'][_0x8050e7(0x783)]-0x1],_0x39c4aa=_0x4f0b4e['answers'][_0x8050e7(0x974)](_0x293a05=>_0x293a05[_0x8050e7(0x86a)]===_0x57e377);_0x39c4aa&&_0x39c4aa['isCorrect']&&_0x241e79++;});const _0x365fcc=_0x11ce44>0x0?_0x241e79/_0x11ce44:0x0,_0x4c24f8=_0x2df224>0x0?_0x5aa999/_0x2df224-_0x35edb6/_0x2df224:0x0;_0x17197a[_0x4233db]={'p':_0x365fcc,'r':_0x4c24f8,'upperGroupResponders':_0x1ea4f9,'lowerGroupResponders':_0x496f87};}),{'perQuestionStats':_0x17197a,'overallGroups':{'upperGroupNames':_0x3cba9e,'lowerGroupNames':_0x10fffb}};}function drag(_0x46f373){const _0x1b058d=_0x1579df;if(draggedSvgElement){_0x46f373[_0x1b058d(0x93c)]();const _0x162c4e=draggedSvgElement[_0x1b058d(0x3c1)],_0xc14dea=getPointerPosition(_0x162c4e,_0x46f373),_0xdc3f8a=_0x162c4e[_0x1b058d(0x298)][_0x1b058d(0x4f5)];let _0x4ea5fd=_0xc14dea['x']-svgOffset['x'],_0x468aff=_0xc14dea['y']-svgOffset['y'];const _0x2dfe41=draggedSvgElement[_0x1b058d(0x7e9)]();_0x4ea5fd=Math[_0x1b058d(0x7a0)](_0xdc3f8a['x'],Math[_0x1b058d(0x219)](_0x4ea5fd,_0xdc3f8a['x']+_0xdc3f8a['width']-_0x2dfe41[_0x1b058d(0x388)])),_0x468aff=Math[_0x1b058d(0x7a0)](_0xdc3f8a['y'],Math[_0x1b058d(0x219)](_0x468aff,_0xdc3f8a['y']+_0xdc3f8a[_0x1b058d(0x5b2)]-_0x2dfe41[_0x1b058d(0x5b2)])),draggedSvgElement[_0x1b058d(0x44d)](null,'x',_0x4ea5fd),draggedSvgElement['setAttributeNS'](null,'y',_0x468aff);}}function endDrag(_0x218e69){draggedSvgElement=null;}function handleSvgEditClick(_0x351a13){const _0x3c4d4f=_0x1579df;if(_0x351a13[_0x3c4d4f(0x51e)][_0x3c4d4f(0x635)][_0x3c4d4f(0x10f)](_0x3c4d4f(0x60f))){const _0x16530d=_0x351a13[_0x3c4d4f(0x51e)][_0x3c4d4f(0x6de)][_0x3c4d4f(0x99a)],_0x564195=_0x351a13[_0x3c4d4f(0x3c2)],_0x57ddff=_0x564195[_0x3c4d4f(0x20a)]('#'+_0x16530d);_0x57ddff&&_0x57ddff[_0x3c4d4f(0x74c)](),_0x351a13[_0x3c4d4f(0x51e)][_0x3c4d4f(0x74c)]();}}function handleEditQuestion(_0xf60b76){const _0x436dc4=_0x1579df,_0x5da0d5=_0xf60b76[_0x436dc4(0x3c2)],_0x503290=_0x5da0d5[_0x436dc4(0x6de)][_0x436dc4(0x62f)],_0x37a9ea=currentQuizData['questions'][_0x503290],_0x4c7002=document[_0x436dc4(0x632)](_0x436dc4(0x3dd)+_0x503290),_0x438c6f=document['getElementById']('q-explanation-'+_0x503290),_0x10097c=document[_0x436dc4(0x632)]('q-image-container-'+_0x503290);if(_0x5da0d5[_0x436dc4(0x581)]['includes'](_0x436dc4(0x223))){_0x5da0d5['innerHTML']=_0x436dc4(0x69c),_0x5da0d5[_0x436dc4(0xef)]=_0x436dc4(0x679);if(_0x4c7002)_0x4c7002[_0x436dc4(0xbc)]=!![];if(_0x438c6f)_0x438c6f[_0x436dc4(0xbc)]=!![];if(_0x10097c){const _0xde462a=_0x10097c[_0x436dc4(0x20a)](_0x436dc4(0x470));if(_0xde462a){const _0x39df68=_0xde462a[_0x436dc4(0x37d)]('text');_0x39df68[_0x436dc4(0x2fb)]((_0xf3fe01,_0x51b65d)=>{const _0x7a779c=_0x436dc4,_0x36d7fb=_0x7a779c(0x37b)+_0x503290+'-'+_0x51b65d;_0xf3fe01['id']=_0x36d7fb,_0xf3fe01[_0x7a779c(0x635)][_0x7a779c(0x8c5)]('draggable-text'),_0xf3fe01[_0x7a779c(0x86d)]['cursor']='move';const _0x28c388=document[_0x7a779c(0x498)](_0x7a779c(0x5c6),'circle'),_0x535c63=_0xf3fe01['getBBox']();_0x28c388[_0x7a779c(0x4bc)]('cx',String(_0x535c63['x']+_0x535c63['width']+0x5)),_0x28c388[_0x7a779c(0x4bc)]('cy',String(_0x535c63['y']+_0x535c63[_0x7a779c(0x5b2)]/0x2-0x5)),_0x28c388[_0x7a779c(0x4bc)]('r','5'),_0x28c388['setAttribute'](_0x7a779c(0x9b9),_0x7a779c(0x336)),_0x28c388[_0x7a779c(0x4bc)](_0x7a779c(0x8f4),_0x7a779c(0x60f)),_0x28c388[_0x7a779c(0x6de)][_0x7a779c(0x99a)]=_0x36d7fb,_0xf3fe01['after'](_0x28c388);}),_0xde462a[_0x436dc4(0x6a9)](_0x436dc4(0x5f3),startDrag),_0xde462a['addEventListener'](_0x436dc4(0x4cc),drag),_0xde462a[_0x436dc4(0x6a9)](_0x436dc4(0x82c),endDrag),_0xde462a[_0x436dc4(0x6a9)](_0x436dc4(0x474),endDrag),_0xde462a[_0x436dc4(0x6a9)](_0x436dc4(0x3c3),startDrag,{'passive':![]}),_0xde462a[_0x436dc4(0x6a9)](_0x436dc4(0x7ca),drag,{'passive':![]}),_0xde462a[_0x436dc4(0x6a9)](_0x436dc4(0x6d9),endDrag),_0xde462a[_0x436dc4(0x6a9)](_0x436dc4(0x162),endDrag),_0xde462a[_0x436dc4(0x6a9)](_0x436dc4(0x379),handleSvgEditClick);}}if(_0x4c7002)_0x4c7002[_0x436dc4(0x41c)]();}else{_0x5da0d5[_0x436dc4(0x581)]=_0x436dc4(0x7e7),_0x5da0d5[_0x436dc4(0xef)]='แก้ไขข้อนี้';if(_0x4c7002){_0x4c7002[_0x436dc4(0xbc)]=![];const _0x46f3ca=_0x37a9ea[_0x436dc4(0x54a)]||currentQuizData['quizType'];_0x46f3ca===_0x436dc4(0x357)?_0x37a9ea[_0x436dc4(0x36b)]=_0x4c7002[_0x436dc4(0x31d)]['substring'](_0x4c7002[_0x436dc4(0x31d)]['indexOf']('.')+0x2)[_0x436dc4(0x3d4)]():_0x37a9ea['questionText']=_0x4c7002[_0x436dc4(0x31d)][_0x436dc4(0x18b)](_0x4c7002[_0x436dc4(0x31d)][_0x436dc4(0x484)]('.')+0x2)[_0x436dc4(0x3d4)]();}_0x438c6f&&(_0x438c6f['contentEditable']=![],_0x37a9ea[_0x436dc4(0x832)]=_0x438c6f[_0x436dc4(0x31d)]);if(_0x10097c){const _0x1df32d=_0x10097c[_0x436dc4(0x20a)](_0x436dc4(0x470));if(_0x1df32d){const _0x5d8d8f=_0x1df32d['cloneNode'](!![]);_0x5d8d8f['querySelectorAll'](_0x436dc4(0xde))[_0x436dc4(0x2fb)](_0x1c2a21=>_0x1c2a21[_0x436dc4(0x74c)]()),_0x5d8d8f[_0x436dc4(0x37d)](_0x436dc4(0x6b7))[_0x436dc4(0x2fb)](_0x35dc95=>{const _0x38794a=_0x436dc4;_0x35dc95[_0x38794a(0x635)][_0x38794a(0x74c)](_0x38794a(0xe6)),_0x35dc95[_0x38794a(0x86d)]['cursor']=_0x38794a(0x307),_0x35dc95[_0x38794a(0xd1)]('id');}),_0x37a9ea[_0x436dc4(0x137)]=_0x5d8d8f['outerHTML'],_0x1df32d[_0x436dc4(0x333)](_0x436dc4(0x5f3),startDrag),_0x1df32d[_0x436dc4(0x333)](_0x436dc4(0x4cc),drag),_0x1df32d['removeEventListener']('mouseup',endDrag),_0x1df32d['removeEventListener'](_0x436dc4(0x474),endDrag),_0x1df32d['removeEventListener'](_0x436dc4(0x3c3),startDrag),_0x1df32d[_0x436dc4(0x333)](_0x436dc4(0x7ca),drag),_0x1df32d['removeEventListener']('touchend',endDrag),_0x1df32d['removeEventListener'](_0x436dc4(0x162),endDrag),_0x1df32d[_0x436dc4(0x333)](_0x436dc4(0x379),handleSvgEditClick),_0x1df32d[_0x436dc4(0x37d)](_0x436dc4(0xde))[_0x436dc4(0x2fb)](_0x16e111=>_0x16e111['remove']()),_0x1df32d[_0x436dc4(0x37d)](_0x436dc4(0x6b7))[_0x436dc4(0x2fb)](_0x298a40=>{const _0x212cad=_0x436dc4;_0x298a40[_0x212cad(0x635)][_0x212cad(0x74c)](_0x212cad(0xe6)),_0x298a40['style'][_0x212cad(0xfd)]=_0x212cad(0x307);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x5087b1){const _0xf39e47=_0x1579df,_0x526456=document[_0xf39e47(0x632)]('quiz-editor-modal'),_0x47e902=document[_0xf39e47(0x632)](_0xf39e47(0x7b8));_0x47e902['innerHTML']=_0xf39e47(0x43d),_0x526456[_0xf39e47(0x635)]['remove'](_0xf39e47(0x99e));try{const _0x535f67=doc(db,_0xf39e47(0x88d)+appId+'/public/data/quizzes',_0x5087b1),_0x2d967f=await getDoc(_0x535f67);if(!_0x2d967f[_0xf39e47(0x3e1)]())throw new Error(_0xf39e47(0x2a6));currentEditingQuizData={'id':_0x5087b1,..._0x2d967f['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x318422){console['error'](_0xf39e47(0x7be),_0x318422),showMessage(_0xf39e47(0x6fc)),_0x526456[_0xf39e47(0x635)]['add'](_0xf39e47(0x99e));}}function renderQuizEditor(_0x324f07){const _0x162ff5=_0x1579df;document[_0x162ff5(0x632)](_0x162ff5(0x532))[_0x162ff5(0x3d7)]=_0x324f07[_0x162ff5(0x9b2)];const _0x3e74ee=document['getElementById'](_0x162ff5(0x7b8));let _0x5fda4e=_0x324f07['questions'][_0x162ff5(0x931)]((_0x4f2c35,_0x1d4b66)=>{const _0x43df77=_0x162ff5;let _0x14f4cc='';const _0x124aa9=_0x4f2c35[_0x43df77(0x54a)]||_0x324f07[_0x43df77(0x9af)];switch(_0x124aa9){case'multiple_choice':const _0x49fabe=(_0x4f2c35[_0x43df77(0x518)]||[])[_0x43df77(0x931)]((_0x95dd6e,_0x1e8ca2)=>_0x43df77(0x313)+_0x1d4b66+_0x43df77(0x87f)+_0x1e8ca2+'\x22\x20'+(_0x1e8ca2===_0x4f2c35[_0x43df77(0x48f)]?'checked':'')+_0x43df77(0x820)+_0x95dd6e+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');_0x14f4cc=_0x43df77(0x239)+_0x49fabe+_0x43df77(0x84f);break;case'short_answer':_0x14f4cc=_0x43df77(0x299)+(_0x4f2c35[_0x43df77(0x3ad)]||'')+_0x43df77(0x601);break;case'true_false':_0x14f4cc=_0x43df77(0x6d7)+_0x1d4b66+_0x43df77(0x17e)+(_0x4f2c35['correctAnswer']===!![]?_0x43df77(0x37c):'')+_0x43df77(0x811)+_0x1d4b66+'\x22\x20value=\x22false\x22\x20'+(_0x4f2c35['correctAnswer']===![]?_0x43df77(0x37c):'')+_0x43df77(0x7c6);break;case'matching_item':_0x14f4cc=_0x43df77(0x846)+(_0x4f2c35[_0x43df77(0x329)]||'')+_0x43df77(0x12a);break;}const _0xc553d0=_0x4f2c35[_0x43df77(0x2b6)]||_0x4f2c35[_0x43df77(0x36b)]||'';return _0x43df77(0x946)+_0x1d4b66+_0x43df77(0x73b)+_0x124aa9+_0x43df77(0x545)+(_0x1d4b66+0x1)+'\x20('+_0x124aa9+_0x43df77(0x801)+_0xc553d0+_0x43df77(0x3fb)+_0x14f4cc+'</div>\x0a</div>\x0a';})['join']('');_0x3e74ee[_0x162ff5(0x581)]=_0x5fda4e,_0x3e74ee[_0x162ff5(0x37d)](_0x162ff5(0x2c8))[_0x162ff5(0x2fb)](_0x485bdc=>{const _0x3b5b29=_0x162ff5;_0x485bdc[_0x3b5b29(0x6a9)](_0x3b5b29(0x379),handleAiFixQuestion);});}async function handleAiFixQuestion(_0xc51565){const _0x8c8b9c=_0x1579df,_0x179079=_0xc51565[_0x8c8b9c(0x3c2)],_0x5ea67d=_0x179079[_0x8c8b9c(0x5ac)](_0x8c8b9c(0x95f));if(!_0x5ea67d)return;const _0x5dbdd4=parseInt(_0x5ea67d[_0x8c8b9c(0x6de)][_0x8c8b9c(0x6a7)],0xa);if(isNaN(_0x5dbdd4)||!currentEditingQuizData[_0x8c8b9c(0x88e)][_0x5dbdd4]){showMessage(_0x8c8b9c(0xc9));return;}const _0x7ec18b=currentEditingQuizData[_0x8c8b9c(0x88e)][_0x5dbdd4];_0x179079[_0x8c8b9c(0x581)]=_0x8c8b9c(0x59f),_0x179079['disabled']=!![];const _0x5d2f2a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON[_0x8c8b9c(0x3c5)](_0x7ec18b)+_0x8c8b9c(0x64d);let _0x4a58c9;const _0x59f8aa=_0x7ec18b[_0x8c8b9c(0x54a)]||currentEditingQuizData[_0x8c8b9c(0x9af)];switch(_0x59f8aa){case'short_answer':_0x4a58c9={'type':'OBJECT','properties':{'questionText':{'type':_0x8c8b9c(0x1e7)},'idealAnswer':{'type':_0x8c8b9c(0x1e7)},'explanation':{'type':_0x8c8b9c(0x1e7)},'imageCode':{'type':_0x8c8b9c(0x1e7)}},'required':[_0x8c8b9c(0x2b6),_0x8c8b9c(0x3ad),_0x8c8b9c(0x832)]};break;case _0x8c8b9c(0x34f):default:_0x4a58c9={'type':'OBJECT','properties':{'questionText':{'type':_0x8c8b9c(0x1e7)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x8c8b9c(0x1e7)},'imageCode':{'type':_0x8c8b9c(0x1e7)}},'required':[_0x8c8b9c(0x2b6),_0x8c8b9c(0x518),_0x8c8b9c(0x48f),_0x8c8b9c(0x832)]};break;}try{let _0x448cd5=await callAnalysisApi(_0x5d2f2a,_0x4a58c9);_0x448cd5[_0x8c8b9c(0x518)]&&Array[_0x8c8b9c(0x471)](_0x448cd5[_0x8c8b9c(0x518)])&&(_0x448cd5[_0x8c8b9c(0x518)]=_0x448cd5[_0x8c8b9c(0x518)][_0x8c8b9c(0x931)](_0x1ad198=>typeof _0x1ad198===_0x8c8b9c(0x433)?_0x1ad198[_0x8c8b9c(0x399)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x1ad198)),_0x7ec18b['imageCode']&&_0x7ec18b['imageCode'][_0x8c8b9c(0x29b)](_0x8c8b9c(0xd5))&&(_0x448cd5[_0x8c8b9c(0x137)]=''),currentEditingQuizData['questions'][_0x5dbdd4]={..._0x7ec18b,..._0x448cd5},renderQuizEditor(currentEditingQuizData),showMessage(_0x8c8b9c(0x589));}catch(_0x532a87){console[_0x8c8b9c(0x962)](_0x8c8b9c(0x6d6),_0x532a87),showMessage(_0x8c8b9c(0x79b)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x195043=_0x1579df,_0x32a519=document[_0x195043(0x632)](_0x195043(0x1e5));_0x32a519[_0x195043(0xd7)]=!![],_0x32a519[_0x195043(0x581)]=_0x195043(0x204);try{const _0x13c2d2=document[_0x195043(0x632)](_0x195043(0x532))['value'],_0x3f1f3e=document[_0x195043(0x37d)](_0x195043(0x95f));let _0x37e9b1=[];const _0x2c8f31=Array['from'](_0x3f1f3e)[_0x195043(0x931)]((_0x2a1334,_0x58d28a)=>{const _0x191ec2=_0x195043,_0xfddbb6=_0x2a1334['dataset'][_0x191ec2(0x5d4)],_0x34a9e1=_0x2a1334[_0x191ec2(0x20a)](_0x191ec2(0x705))['value'];let _0x45f7c5={'questionType':_0xfddbb6};const _0x5f139b=currentEditingQuizData[_0x191ec2(0x88e)][_0x58d28a];switch(_0xfddbb6){case'multiple_choice':_0x45f7c5[_0x191ec2(0x2b6)]=_0x34a9e1;const _0x5bec2d=_0x2a1334[_0x191ec2(0x37d)](_0x191ec2(0x6d0));_0x45f7c5[_0x191ec2(0x518)]=Array[_0x191ec2(0x88b)](_0x5bec2d)['map'](_0x2378f0=>_0x2378f0['value']);const _0x351b77=_0x2a1334[_0x191ec2(0x20a)](_0x191ec2(0x376));_0x45f7c5['correctAnswerIndex']=_0x351b77?parseInt(_0x351b77[_0x191ec2(0x3d7)]):0x0;break;case _0x191ec2(0x236):_0x45f7c5['questionText']=_0x34a9e1,_0x45f7c5[_0x191ec2(0x3ad)]=_0x2a1334[_0x191ec2(0x20a)](_0x191ec2(0x5ea))['value'];break;case _0x191ec2(0x958):_0x45f7c5['questionText']=_0x34a9e1;const _0x440b11=_0x2a1334[_0x191ec2(0x20a)](_0x191ec2(0x376));_0x45f7c5['correctAnswer']=_0x440b11?_0x440b11[_0x191ec2(0x3d7)]===_0x191ec2(0x21a):!![];break;case _0x191ec2(0x357):_0x45f7c5[_0x191ec2(0x36b)]=_0x34a9e1;const _0x30e25f=_0x2a1334[_0x191ec2(0x20a)](_0x191ec2(0x4c1));_0x45f7c5[_0x191ec2(0x329)]=_0x30e25f?_0x30e25f['value']:'',_0x37e9b1['push'](_0x45f7c5['correctResponse']);break;default:_0x45f7c5[_0x191ec2(0x2b6)]=_0x34a9e1;break;}return{..._0x5f139b,..._0x45f7c5};});_0x37e9b1[_0x195043(0x783)]>0x0&&_0x2c8f31['forEach'](_0xe77ad2=>{const _0x2f586a=_0x195043;_0xe77ad2[_0x2f586a(0x54a)]===_0x2f586a(0x357)&&(_0xe77ad2[_0x2f586a(0x15f)]=_0x37e9b1);});const _0x29475f=currentEditingQuizData['id'],_0x1ace62=doc(db,_0x195043(0x88d)+appId+_0x195043(0x207),_0x29475f);await updateDoc(_0x1ace62,{'topic':_0x13c2d2,'questions':_0x2c8f31}),document[_0x195043(0x632)](_0x195043(0x2e5))[_0x195043(0x635)][_0x195043(0x8c5)](_0x195043(0x99e)),showMessage(_0x195043(0x16c),()=>initiateReGradeProcess(_0x29475f));}catch(_0x433153){console[_0x195043(0x962)](_0x195043(0x27f),_0x433153),showMessage(_0x195043(0x4e0));}finally{_0x32a519['disabled']=![],_0x32a519['innerHTML']=_0x195043(0x885);}}async function initiateReGradeProcess(_0x5852f2){const _0x2fa7cb=_0x1579df;showMessage(_0x2fa7cb(0x616));try{const _0x4879f6=doc(db,_0x2fa7cb(0x88d)+appId+_0x2fa7cb(0x207),_0x5852f2),_0x7e3a29=await getDoc(_0x4879f6);if(!_0x7e3a29[_0x2fa7cb(0x3e1)]())throw new Error(_0x2fa7cb(0x12d));const _0x18c286={'id':_0x5852f2,..._0x7e3a29['data']()},_0x503977=collection(db,_0x2fa7cb(0x88d)+appId+_0x2fa7cb(0x207),_0x5852f2,'submissions'),_0x4ad565=await getDocs(_0x503977);if(_0x4ad565[_0x2fa7cb(0xf2)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x3d18e6=_0x4ad565[_0x2fa7cb(0x6b3)][_0x2fa7cb(0x931)](_0x36ddae=>reGradeSingleSubmission(_0x36ddae,_0x18c286));await Promise[_0x2fa7cb(0x529)](_0x3d18e6);if(_0x18c286[_0x2fa7cb(0x80a)]){const _0x277804=doc(db,_0x2fa7cb(0x88d)+appId+_0x2fa7cb(0x18f),_0x18c286[_0x2fa7cb(0x80a)]),_0x23c651=await getDoc(_0x277804);if(_0x23c651['exists']()&&_0x23c651[_0x2fa7cb(0x844)]()['students']){const _0x4ea919=_0x23c651[_0x2fa7cb(0x844)]()[_0x2fa7cb(0x63a)][_0x2fa7cb(0x931)](_0x23c3d2=>updateStudentProfile(_0x18c286[_0x2fa7cb(0x80a)],_0x23c3d2));await Promise[_0x2fa7cb(0x529)](_0x4ea919);}}showMessage(_0x2fa7cb(0x677)+_0x4ad565[_0x2fa7cb(0x798)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x58d8ed){console[_0x2fa7cb(0x962)](_0x2fa7cb(0x3cd),_0x58d8ed),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x58d8ed['message']);}}async function reGradeSingleSubmission(_0x317e57,_0x1a7874){const _0x56aaed=_0x1579df,_0x1f88f5=_0x317e57['data'](),_0x8a7630=_0x1f88f5[_0x56aaed(0x6ef)],_0x45de71=_0x1f88f5[_0x56aaed(0x157)]||[],_0x475ac7=[];for(const _0x4ce59d of _0x45de71){let _0x56b3d9=0x0,_0x2e30ce=[],_0x6be92a=0x0;const _0x1e2d41=[];for(const _0x207c21 of _0x4ce59d[_0x56aaed(0x6ac)]){let _0x246bff;_0x207c21['questionId']&&(_0x246bff=_0x1a7874[_0x56aaed(0x88e)][_0x56aaed(0x974)](_0x2efeb0=>_0x2efeb0['id']===_0x207c21[_0x56aaed(0x7e0)]));!_0x246bff&&_0x207c21[_0x56aaed(0x86a)]&&(_0x246bff=_0x1a7874['questions'][_0x56aaed(0x974)](_0x1142eb=>(_0x1142eb[_0x56aaed(0x36b)]||_0x1142eb[_0x56aaed(0x2b6)])===_0x207c21[_0x56aaed(0x86a)]));let _0x417ef1=![];if(_0x246bff){const _0x4efc66=_0x246bff['questionType']||_0x1a7874[_0x56aaed(0x9af)];switch(_0x4efc66){case _0x56aaed(0x34f):if(_0x246bff[_0x56aaed(0x518)]&&_0x246bff[_0x56aaed(0x48f)]<_0x246bff[_0x56aaed(0x518)][_0x56aaed(0x783)]){const _0x508be8=_0x246bff['options'][_0x246bff['correctAnswerIndex']];_0x417ef1=_0x207c21[_0x56aaed(0x29c)]===_0x508be8;}break;case'true_false':const _0x3dd6c0=_0x207c21[_0x56aaed(0x4ff)]===!![]||_0x207c21[_0x56aaed(0x4ff)]===_0x56aaed(0x21a);_0x417ef1=_0x3dd6c0===_0x246bff['correctAnswer'];break;case'matching_item':_0x417ef1=_0x207c21[_0x56aaed(0x4ff)]===_0x246bff[_0x56aaed(0x329)];break;case _0x56aaed(0x236):_0x417ef1=await gradeShortAnswer(_0x207c21[_0x56aaed(0x4ff)],_0x246bff);break;default:_0x417ef1=_0x207c21[_0x56aaed(0x304)];break;}}if(_0x417ef1){_0x56b3d9++,_0x6be92a++;if(_0x6be92a===0x3)_0x2e30ce[_0x56aaed(0x995)](BADGES[_0x56aaed(0x7af)]['id']);}else _0x6be92a=0x0;_0x1e2d41[_0x56aaed(0x995)]({..._0x207c21,'isCorrect':_0x417ef1});}let _0x339e82=_0x56b3d9*0xa;_0x56b3d9===_0x1a7874[_0x56aaed(0x88e)][_0x56aaed(0x783)]&&(_0x339e82+=0x32,_0x2e30ce[_0x56aaed(0x995)](BADGES['PERFECT_SCORE']['id'])),_0x475ac7[_0x56aaed(0x995)]({..._0x4ce59d,'score':_0x56b3d9,'points':_0x339e82,'badges':Array[_0x56aaed(0x88b)](new Set(_0x2e30ce)),'answers':_0x1e2d41});}const _0xe09ffc=_0x475ac7[_0x56aaed(0x783)]>0x0?_0x475ac7[0x0][_0x56aaed(0x948)]:0x0,_0x3713a4=Math[_0x56aaed(0x7a0)](..._0x475ac7[_0x56aaed(0x931)](_0xabb7e3=>_0xabb7e3['score'])),_0x1f916d=_0x475ac7[_0x56aaed(0x783)]>0x0?_0x475ac7[_0x475ac7[_0x56aaed(0x783)]-0x1][_0x56aaed(0x948)]:0x0,_0x4b8f0c=_0x475ac7[_0x56aaed(0x783)]>0x0?_0x475ac7[_0x475ac7[_0x56aaed(0x783)]-0x1]['points']:0x0,_0x524f9a=doc(db,_0x56aaed(0x88d)+appId+'/public/data/quizzes/'+_0x1a7874['id']+'/submissions',_0x8a7630);await updateDoc(_0x524f9a,{'attempts':_0x475ac7,'firstScore':_0xe09ffc,'bestScore':_0x3713a4,'latestScore':_0x1f916d,'points':_0x4b8f0c});}function cleanupQuizOptions(_0x2c038e){const _0xfa7aca=_0x1579df,_0x586fb7=(_0x397848,_0x51a676)=>_0x51a676===0x0?_0x397848:_0x586fb7(_0x51a676,_0x397848%_0x51a676),_0x143a63=_0xc49389=>{const _0x518de4=_0x13b1;if(typeof _0xc49389!=='string')return null;_0xc49389=_0xc49389['trim']();const _0x139f2d=_0xc49389[_0x518de4(0x1ff)](/[ /]/)['filter'](_0x483ca6=>_0x483ca6!=='');if(_0x139f2d[_0x518de4(0x783)]===0x3)return parseInt(_0x139f2d[0x0])+parseInt(_0x139f2d[0x1])/parseInt(_0x139f2d[0x2]);else{if(_0x139f2d[_0x518de4(0x783)]===0x2)return parseInt(_0x139f2d[0x0])/parseInt(_0x139f2d[0x1]);else{if(_0x139f2d['length']===0x1&&!isNaN(_0x139f2d[0x0]))return parseFloat(_0x139f2d[0x0]);}}return null;},_0x173e2e=_0xb66b52=>{const _0x181c7e=_0x13b1;if(typeof _0xb66b52!=='string')return _0xb66b52;const _0x295e86=_0xb66b52[_0x181c7e(0x627)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x295e86){const _0x2833d9=parseInt(_0x295e86[0x1]);let _0x1fe013=parseInt(_0x295e86[0x2]),_0xa96871=parseInt(_0x295e86[0x3]);const _0x5f4da1=_0x586fb7(_0x1fe013,_0xa96871);_0x1fe013/=_0x5f4da1,_0xa96871/=_0x5f4da1;if(_0xa96871===0x1)return(_0x2833d9+_0x1fe013)[_0x181c7e(0x994)]();return _0x2833d9+'\x20'+_0x1fe013+'/'+_0xa96871;}return _0xb66b52;};return _0x2c038e&&_0x2c038e[_0xfa7aca(0x88e)]&&_0x2c038e[_0xfa7aca(0x88e)][_0xfa7aca(0x2fb)](_0x24992e=>{const _0x3470ff=_0xfa7aca;if(_0x24992e['questionType']==='multiple_choice'&&_0x24992e[_0x3470ff(0x518)]){const _0x352fa0=new Map(),_0xc1453e=_0x24992e[_0x3470ff(0x518)][_0x24992e[_0x3470ff(0x48f)]];_0x24992e[_0x3470ff(0x518)]['forEach'](_0x4a96a1=>{const _0x293586=_0x3470ff,_0x207bb1=_0x173e2e(_0x4a96a1),_0x204db0=_0x143a63(_0x207bb1);_0x204db0!==null&&!_0x352fa0[_0x293586(0x6b8)](_0x204db0)&&_0x352fa0[_0x293586(0x109)](_0x204db0,_0x207bb1);}),_0x24992e[_0x3470ff(0x518)]=Array[_0x3470ff(0x88b)](_0x352fa0['values']());const _0x4b0dae=_0x24992e[_0x3470ff(0x518)]['findIndex'](_0x58618f=>_0x58618f===_0x173e2e(_0xc1453e));_0x24992e[_0x3470ff(0x48f)]=_0x4b0dae!==-0x1?_0x4b0dae:0x0;}}),_0x2c038e;}function showGameStartConfirmationModal(_0x2d5a03,_0x5a047c,_0xe0047c){const _0x17217c=_0x1579df,_0x226134=document[_0x17217c(0x632)]('confirm-game-start-modal');document[_0x17217c(0x632)](_0x17217c(0x24f))[_0x17217c(0xf3)]=_0x17217c(0x84c)+_0xe0047c,document[_0x17217c(0x632)](_0x17217c(0x509))[_0x17217c(0x3d7)]=_0x2d5a03,document[_0x17217c(0x632)]('game-start-mode')['value']=_0x5a047c,document['getElementById'](_0x17217c(0x7c9))[_0x17217c(0x37c)]=!![],_0x226134['classList'][_0x17217c(0x74c)](_0x17217c(0x99e));}async function saveGameResultsAsSubmissions(_0x331f3c){const _0x18f8ce=_0x1579df;console[_0x18f8ce(0x919)](_0x18f8ce(0x334),_0x331f3c);const _0xd9c69f=_0x331f3c[_0x18f8ce(0x59c)];let _0xe38a63=[];if(_0x331f3c[_0x18f8ce(0x5da)])_0xe38a63=Object[_0x18f8ce(0x9b6)](_0x331f3c[_0x18f8ce(0x5da)])['map'](([_0x290fc3,_0x574434])=>({'name':_0x290fc3,..._0x574434}));else{if(_0x331f3c['groups'])Object[_0x18f8ce(0x373)](_0x331f3c[_0x18f8ce(0x214)])[_0x18f8ce(0x2fb)](_0xbaa9e6=>{const _0x1a0269=_0x18f8ce;_0xbaa9e6['members'][_0x1a0269(0x2fb)](_0x38e19=>{const _0x55cbed=_0x1a0269;_0xe38a63[_0x55cbed(0x995)]({'name':_0x38e19,'score':_0xbaa9e6['score']});});});else _0x331f3c[_0x18f8ce(0x50d)]&&Object['entries'](_0x331f3c[_0x18f8ce(0x50d)])['forEach'](([_0x2930fb,_0x36e738])=>{const _0x5021ef=_0x18f8ce;_0xe38a63[_0x5021ef(0x995)]({'name':_0x2930fb,..._0x36e738});});}if(_0xe38a63[_0x18f8ce(0x783)]===0x0){console[_0x18f8ce(0x919)](_0x18f8ce(0x671));return;}const _0x3a37e8=_0x331f3c[_0x18f8ce(0x55e)]?.[_0x18f8ce(0x88e)][_0x18f8ce(0x783)]||currentQuizData[_0x18f8ce(0x88e)][_0x18f8ce(0x783)],_0x402f71=writeBatch(db);for(const _0x4b99c5 of _0xe38a63){const _0x4c50ca=_0x4b99c5[_0x18f8ce(0x948)]||0x0,_0x387e8e=doc(db,'artifacts/'+appId+_0x18f8ce(0x2c9)+_0xd9c69f+_0x18f8ce(0x367),_0x4b99c5[_0x18f8ce(0x9a5)]),_0x313870={'score':_0x4c50ca,'points':_0x4c50ca*0xa,'badges':_0x4b99c5[_0x18f8ce(0x48d)]||[],'submittedAt':new Date()[_0x18f8ce(0x883)](),'answers':(_0x4b99c5[_0x18f8ce(0x6ac)]||[])[_0x18f8ce(0x931)](_0x4e4c2c=>({'isCorrect':_0x4e4c2c[_0x18f8ce(0x304)],'answer':_0x18f8ce(0x5ca)}))},_0x4a09c5=await getDoc(_0x387e8e),_0x20acb9=_0x4a09c5[_0x18f8ce(0x3e1)]()?_0x4a09c5['data']():{},_0x2dad9b=_0x20acb9[_0x18f8ce(0x757)]||0x0,_0x49c0f0=_0x20acb9['attempts']||[],_0x371d55={'studentName':_0x4b99c5[_0x18f8ce(0x9a5)],'totalQuestions':_0x3a37e8,'attempts':arrayUnion(_0x313870),'latestScore':_0x4c50ca,'latestSubmittedAt':_0x313870['submittedAt'],'bestScore':Math[_0x18f8ce(0x7a0)](_0x2dad9b,_0x4c50ca),'firstScore':_0x49c0f0[_0x18f8ce(0x783)]===0x0?_0x4c50ca:_0x20acb9['firstScore']||0x0};_0x402f71[_0x18f8ce(0x109)](_0x387e8e,_0x371d55,{'merge':!![]});}try{await _0x402f71[_0x18f8ce(0x196)](),showMessage(_0x18f8ce(0x4c2)+_0xe38a63[_0x18f8ce(0x783)]+_0x18f8ce(0x395));const _0x5638e8=_0x331f3c['shuffledQuiz']?.[_0x18f8ce(0x80a)]||currentQuizData?.[_0x18f8ce(0x80a)]||currentProjectId;if(_0x5638e8){const _0x190c94=[...new Set(_0xe38a63['map'](_0x3bb76c=>_0x3bb76c[_0x18f8ce(0x9a5)]))];for(const _0x1d8f78 of _0x190c94){await updateStudentProfile(_0x5638e8,_0x1d8f78);}}}catch(_0x316cf5){console['error'](_0x18f8ce(0x2b5),_0x316cf5),showMessage(_0x18f8ce(0x661));}}async function saveQuiz(){const _0x35b275=_0x1579df;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x35b275(0x88e)]||!userId){showMessage(_0x35b275(0x792));return;}const _0x1983dc=document[_0x35b275(0x632)](_0x35b275(0x463));_0x1983dc['disabled']=!![],_0x1983dc['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x5d63d2=document['getElementById'](_0x35b275(0x131))[_0x35b275(0x37c)];let _0x1cd9bd=document[_0x35b275(0x632)](_0x35b275(0x20b))[_0x35b275(0x31d)][_0x35b275(0x3d4)]();_0x5d63d2&&!_0x1cd9bd[_0x35b275(0x40b)](_0x35b275(0x522))&&(_0x1cd9bd=_0x35b275(0x9b7)+_0x1cd9bd);try{const _0x50c41f={'resultsDisplay':document['getElementById'](_0x35b275(0x908))[_0x35b275(0x3d7)],'shuffle':document['getElementById']('shuffle-setting-select')[_0x35b275(0x3d7)],'timerMode':document['getElementById'](_0x35b275(0x62e))[_0x35b275(0x3d7)],'timerDuration':parseInt(document[_0x35b275(0x632)]('timer-duration-input')[_0x35b275(0x3d7)])||0xa,'passingScore':parseInt(document[_0x35b275(0x632)](_0x35b275(0x4c6))[_0x35b275(0x3d7)])||0x0,'isAdaptive':document[_0x35b275(0x632)](_0x35b275(0x107))[_0x35b275(0x37c)],'loopUntilPass':document[_0x35b275(0x632)]('loop-until-pass-checkbox')[_0x35b275(0x37c)]},_0x181a51=(currentQuizData['questions']||[])['map']((_0x3d1fac,_0x37fada)=>{const _0x36cdd6=_0x35b275,_0x2ffb49=document['getElementById']('quiz-type-select')[_0x36cdd6(0x3d7)],_0x104862={'id':'q_'+Date[_0x36cdd6(0x2da)]()+'_'+_0x37fada,'questionText':_0x3d1fac[_0x36cdd6(0x2b6)]||'','explanation':_0x3d1fac[_0x36cdd6(0x832)]||_0x36cdd6(0x630),'questionType':_0x3d1fac[_0x36cdd6(0x54a)]||_0x2ffb49,'imageCode':_0x3d1fac[_0x36cdd6(0x137)]||null};return(_0x104862[_0x36cdd6(0x54a)]===_0x36cdd6(0x34f)||_0x104862[_0x36cdd6(0x54a)]===_0x36cdd6(0x966)||_0x104862[_0x36cdd6(0x54a)]===_0x36cdd6(0x973)&&_0x3d1fac[_0x36cdd6(0x518)])&&(_0x104862[_0x36cdd6(0x518)]=_0x3d1fac[_0x36cdd6(0x518)]||[],_0x104862['correctAnswerIndex']=_0x3d1fac[_0x36cdd6(0x48f)]!==undefined?_0x3d1fac[_0x36cdd6(0x48f)]:0x0),(_0x104862[_0x36cdd6(0x54a)]===_0x36cdd6(0x236)||_0x104862['questionType']===_0x36cdd6(0x7aa)||_0x104862[_0x36cdd6(0x54a)]===_0x36cdd6(0x973)&&_0x3d1fac[_0x36cdd6(0x3ad)])&&(_0x104862[_0x36cdd6(0x3ad)]=_0x3d1fac[_0x36cdd6(0x3ad)]||''),_0x104862['questionType']===_0x36cdd6(0x958)&&(_0x104862['correctAnswer']=_0x3d1fac[_0x36cdd6(0x7d0)]===!![]),_0x104862[_0x36cdd6(0x54a)]===_0x36cdd6(0x357)&&(_0x104862['stem']=_0x3d1fac['stem']||'',_0x104862['correctResponse']=_0x3d1fac[_0x36cdd6(0x329)]||'',_0x104862[_0x36cdd6(0x15f)]=_0x3d1fac[_0x36cdd6(0x15f)]||[]),_0x104862;}),_0x4e97f8={'topic':_0x1cd9bd,'quizType':currentQuizData['quizType']||'multiple_choice','questions':_0x181a51,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x35b275(0x883)](),'status':_0x35b275(0x6c0),'settings':_0x50c41f,'quizMode':_0x5d63d2?_0x35b275(0x871):_0x35b275(0x937),'pairedQuizId':null,'lessonPlan':null};let _0x2b768e;while(!![]){_0x2b768e=Math[_0x35b275(0x1e3)](0x3e8+Math['random']()*0x2328)[_0x35b275(0x994)]();const _0x54ca84=await getDoc(doc(db,_0x35b275(0x88d)+appId+'/public/data/quizzes',_0x2b768e));if(!_0x54ca84[_0x35b275(0x3e1)]())break;}await setDoc(doc(db,_0x35b275(0x88d)+appId+_0x35b275(0x207),_0x2b768e),_0x4e97f8),currentQuizData[_0x35b275(0x8b9)]=_0x50c41f,currentQuizData['id']=_0x2b768e;const _0x491563=document[_0x35b275(0x632)](_0x35b275(0x834));_0x491563['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x2b768e+_0x35b275(0x825),document['getElementById'](_0x35b275(0x84e))[_0x35b275(0x6a9)]('click',()=>copyTextToClipboard(_0x2b768e,_0x35b275(0x3df))),document[_0x35b275(0x632)](_0x35b275(0x6bf))[_0x35b275(0x6a9)](_0x35b275(0x379),()=>handleStartLiveRace(_0x2b768e)),document[_0x35b275(0x632)](_0x35b275(0x234))[_0x35b275(0x6a9)](_0x35b275(0x379),()=>startPresentation(currentQuizData)),document[_0x35b275(0x632)](_0x35b275(0x887))['addEventListener'](_0x35b275(0x379),startAdminTest),showMessage(_0x35b275(0x2a9));}catch(_0x2d6a4b){console[_0x35b275(0x962)]('Error\x20saving\x20quiz:',_0x2d6a4b),showMessage(_0x35b275(0x513)),_0x1983dc[_0x35b275(0xd7)]=![],_0x1983dc[_0x35b275(0x581)]=_0x35b275(0x1d0);}}function promptForProjectAndSave(){const _0xfdaf0f=_0x1579df,_0x2e5277=document[_0xfdaf0f(0x632)](_0xfdaf0f(0x8bb)),_0x5bf16b=document['getElementById']('move-quiz-project-select'),_0x4fd461=_0x2e5277[_0xfdaf0f(0x20a)]('h3'),_0x3a4f10=document[_0xfdaf0f(0x632)](_0xfdaf0f(0x8dd));_0x4fd461['textContent']='เลือกโปรเจคเพื่อบันทึก',_0x3a4f10[_0xfdaf0f(0xf3)]='เลือกและบันทึก';allProjects[_0xfdaf0f(0x783)]===0x0?(_0x5bf16b['innerHTML']=_0xfdaf0f(0x1c0),_0x3a4f10['disabled']=!![]):(_0x5bf16b[_0xfdaf0f(0x581)]=allProjects[_0xfdaf0f(0x931)](_0xb4bc5e=>'<option\x20value=\x22'+_0xb4bc5e['id']+'\x22>'+_0xb4bc5e[_0xfdaf0f(0x8cf)]+_0xfdaf0f(0x987))['join'](''),_0x3a4f10[_0xfdaf0f(0xd7)]=![]);_0x2e5277[_0xfdaf0f(0x635)]['remove'](_0xfdaf0f(0x99e));const _0x4da90b=()=>{const _0x293170=_0xfdaf0f,_0x3bfd96=_0x5bf16b[_0x293170(0x3d7)];_0x3bfd96?(currentProjectId=_0x3bfd96,_0x2e5277[_0x293170(0x635)]['add']('hidden'),saveQuiz(),_0x4fd461[_0x293170(0xf3)]=_0x293170(0xe5),_0x3a4f10[_0x293170(0xf3)]='ย้าย',_0x3a4f10[_0x293170(0x333)](_0x293170(0x379),_0x4da90b),_0x3a4f10[_0x293170(0x6a9)](_0x293170(0x379),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x3a4f10['removeEventListener'](_0xfdaf0f(0x379),confirmMoveQuiz),_0x3a4f10[_0xfdaf0f(0x6a9)](_0xfdaf0f(0x379),_0x4da90b);}function copyTextToClipboard(_0x5719e5,_0x45f965){const _0x299fbf=_0x1579df,_0x20ddb8=document['createElement'](_0x299fbf(0x705));_0x20ddb8[_0x299fbf(0x3d7)]=_0x5719e5,_0x20ddb8['style'][_0x299fbf(0x71a)]=_0x299fbf(0x140),_0x20ddb8[_0x299fbf(0x86d)][_0x299fbf(0x6af)]='0',document['body']['appendChild'](_0x20ddb8),_0x20ddb8[_0x299fbf(0x41c)](),_0x20ddb8[_0x299fbf(0x911)]();try{const _0x2a9620=document[_0x299fbf(0x8af)](_0x299fbf(0x478));showMessage(_0x2a9620?_0x45f965:_0x299fbf(0x514));}catch(_0x1fd335){showMessage(_0x299fbf(0x514)),console[_0x299fbf(0x962)](_0x299fbf(0x3ac),_0x1fd335);}document[_0x299fbf(0x708)][_0x299fbf(0x530)](_0x20ddb8);}function listenForProjectQuizzes(_0x549b73){const _0x3d811f=_0x1579df,_0x1fd84c=collection(db,_0x3d811f(0x88d)+appId+_0x3d811f(0x207)),_0x40e3dd=query(_0x1fd84c,where(_0x3d811f(0x80a),'==',_0x549b73));unsubscribeQuizzesListener=onSnapshot(_0x40e3dd,async _0x21c71f=>{const _0x30b1f6=_0x3d811f;allQuizzes=_0x21c71f[_0x30b1f6(0x6b3)][_0x30b1f6(0x931)](_0x3d75c4=>({'id':_0x3d75c4['id'],..._0x3d75c4[_0x30b1f6(0x844)]()})),renderQuizzes();},_0x1806aa=>{const _0x2ab5c3=_0x3d811f;console[_0x2ab5c3(0x962)]('Error\x20fetching\x20project\x20quizzes:',_0x1806aa),document['getElementById'](_0x2ab5c3(0x2c4))['innerHTML']=_0x2ab5c3(0x153);});}async function renderQuizzes(){const _0x54c3d1=_0x1579df,_0x1fbf77=document[_0x54c3d1(0x632)](_0x54c3d1(0x2c4)),_0x2053b2=document[_0x54c3d1(0x632)]('quiz-search-input')['value'][_0x54c3d1(0x7f9)]();let _0x185a1b;currentProjectId===_0x54c3d1(0x311)?_0x185a1b=starredQuizzes:_0x185a1b=allQuizzes;let _0x1f40c8=_0x185a1b[_0x54c3d1(0x34b)](_0x2c71cd=>_0x2c71cd[_0x54c3d1(0x9b2)]['toLowerCase']()[_0x54c3d1(0x29b)](_0x2053b2));_0x1f40c8[_0x54c3d1(0x774)]((_0x3a8356,_0x2138ce)=>new Date(_0x2138ce['createdAt'])-new Date(_0x3a8356[_0x54c3d1(0x18a)]));if(_0x1f40c8[_0x54c3d1(0x783)]===0x0){_0x1fbf77['innerHTML']=_0x54c3d1(0x38d);return;}const _0x14e145={},_0x3767c6=_0x1f40c8[_0x54c3d1(0x931)](async _0x300800=>{const _0x85e0dd=_0x54c3d1,_0x4e4a1e=collection(db,'artifacts/'+appId+_0x85e0dd(0x2c9)+_0x300800['id']+_0x85e0dd(0x367)),_0x16aa9c=await getDocs(_0x4e4a1e);_0x14e145[_0x300800['id']]=_0x16aa9c[_0x85e0dd(0x798)];});await Promise['all'](_0x3767c6);let _0x255a3d='';_0x1f40c8['forEach'](_0x26efbe=>{const _0x1b3234=_0x54c3d1,_0x4f0ec2=_0x14e145[_0x26efbe['id']]||0x0,_0x493623=_0x26efbe[_0x1b3234(0x1cf)]||_0x1b3234(0x6c0),_0x1a676d=_0x26efbe[_0x1b3234(0x8b9)]?.['timerMode']||_0x1b3234(0x900);let _0x5cf003='',_0x21488e='';const _0x13b0e1=new Date();let _0x552d24=_0x493623;if(_0x493623===_0x1b3234(0x25b)){const _0x56ab63=_0x26efbe[_0x1b3234(0x4f8)]?new Date(_0x26efbe['startTime']):null,_0x3348c5=_0x26efbe[_0x1b3234(0x6b5)]?new Date(_0x26efbe[_0x1b3234(0x6b5)]):null;if(_0x3348c5&&_0x13b0e1>_0x3348c5)_0x552d24=_0x1b3234(0x29f);else _0x56ab63&&_0x13b0e1<_0x56ab63?_0x552d24=_0x1b3234(0x8e8):_0x552d24=_0x1b3234(0x6c0);}switch(_0x552d24){case _0x1b3234(0x29f):_0x5cf003='ปิดใช้งาน',_0x21488e=_0x1b3234(0x4da);break;case _0x1b3234(0x8e8):_0x5cf003=_0x1b3234(0x510),_0x21488e=_0x1b3234(0x950);break;case _0x1b3234(0x6c0):_0x5cf003=_0x1a676d!==_0x1b3234(0x900)?_0x1b3234(0x3ae):_0x1b3234(0x610),_0x21488e='text-green-700\x20bg-green-100';break;default:_0x5cf003='ตั้งเวลา\x20(เปิด)',_0x21488e='text-green-700\x20bg-green-100';break;}let _0x139065='';const _0x1f7bf1={'day':_0x1b3234(0x7f5),'month':'2-digit','year':_0x1b3234(0x5fd),'hour':_0x1b3234(0x7f5),'minute':_0x1b3234(0x7f5),'hour12':![]};if(_0x493623===_0x1b3234(0x25b)){if(_0x26efbe[_0x1b3234(0x4f8)])_0x139065+=_0x1b3234(0x5de)+new Date(_0x26efbe[_0x1b3234(0x4f8)])['toLocaleString'](_0x1b3234(0x61a),_0x1f7bf1)+_0x1b3234(0x58b);if(_0x26efbe['endTime'])_0x139065+=_0x1b3234(0x660)+new Date(_0x26efbe[_0x1b3234(0x6b5)])[_0x1b3234(0x927)](_0x1b3234(0x61a),_0x1f7bf1)+_0x1b3234(0x58b);}let _0x1b46c2='';if(_0x26efbe[_0x1b3234(0x6c5)]){const _0x2683dc=allQuizzes['find'](_0x378795=>_0x378795['id']===_0x26efbe['pairedQuizId']);if(_0x2683dc){let _0x29d737,_0x51ec41;new Date(_0x26efbe[_0x1b3234(0x18a)])<new Date(_0x2683dc[_0x1b3234(0x18a)])?(_0x29d737=_0x26efbe['id'],_0x51ec41=_0x2683dc['id']):(_0x29d737=_0x2683dc['id'],_0x51ec41=_0x26efbe['id']),_0x1b46c2+=_0x1b3234(0x1a8)+_0x51ec41+_0x1b3234(0x163)+_0x29d737+_0x1b3234(0x47c);}}else _0x26efbe['quizMode']===_0x1b3234(0x871)&&(_0x1b46c2+=_0x1b3234(0xdc)+_0x26efbe['id']+_0x1b3234(0x945));if(_0x26efbe['quizMode']===_0x1b3234(0x871)&&_0x4f0ec2>0x0)_0x1b46c2+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26efbe['id']+_0x1b3234(0x77b);else!_0x26efbe[_0x1b3234(0x6c5)]&&_0x26efbe[_0x1b3234(0x941)]!==_0x1b3234(0x871)&&_0x4f0ec2>0x0&&(_0x1b46c2+=_0x1b3234(0xdc)+_0x26efbe['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x27e752='';_0x26efbe[_0x1b3234(0x6c5)]?_0x27e752=_0x1b3234(0x57c)+_0x26efbe['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x27e752=_0x1b3234(0x57c)+_0x26efbe['id']+_0x1b3234(0x586),_0x255a3d+=_0x1b3234(0x3e5)+_0x26efbe['id']+_0x1b3234(0x4ad)+_0x26efbe['topic']+_0x1b3234(0x4e8)+_0x26efbe['questions'][_0x1b3234(0x783)]+_0x1b3234(0x31b)+new Date(_0x26efbe[_0x1b3234(0x18a)])[_0x1b3234(0x927)](_0x1b3234(0x61a))+_0x1b3234(0x17a)+_0x4f0ec2+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x139065+_0x1b3234(0x5e4)+_0x21488e+'\x22>'+_0x5cf003+_0x1b3234(0xb6)+_0x26efbe['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26efbe['id']+_0x1b3234(0x912)+(_0x26efbe['isStarred']?_0x1b3234(0x568):_0x1b3234(0x444))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b46c2+_0x1b3234(0x906)+_0x26efbe['id']+_0x1b3234(0x9a9)+_0x26efbe['id']+_0x1b3234(0x3ef)+_0x26efbe['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26efbe['id']+_0x1b3234(0x594)+_0x26efbe['id']+_0x1b3234(0x190)+_0x26efbe['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26efbe['id']+'\x22\x20data-topic=\x22'+_0x26efbe[_0x1b3234(0x9b2)]+_0x1b3234(0x4e1)+_0x26efbe['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26efbe['id']+_0x1b3234(0x410)+_0x27e752+_0x1b3234(0x866)+_0x26efbe['id']+_0x1b3234(0x1ac)+_0x26efbe['id']+_0x1b3234(0x3b9)+_0x26efbe['id']+_0x1b3234(0x5fb)+_0x26efbe['id']+_0x1b3234(0x694)+_0x26efbe['id']+_0x1b3234(0x814)+_0x26efbe['id']+_0x1b3234(0x1ec)+_0x26efbe['id']+_0x1b3234(0x384)+_0x26efbe['id']+'\x22\x20data-topic=\x22'+_0x26efbe[_0x1b3234(0x9b2)]+_0x1b3234(0x700)+_0x26efbe['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1fbf77[_0x54c3d1(0x581)]=_0x255a3d,document['querySelectorAll'](_0x54c3d1(0x5b8))[_0x54c3d1(0x2fb)](_0x134d24=>{const _0x54874e=_0x54c3d1;_0x134d24[_0x54874e(0x6a9)](_0x54874e(0x379),()=>{const _0x13ffad=_0x134d24['dataset']['quizId'];showQuizDetailView(_0x13ffad);});});}async function handleUnpairQuiz(_0x50dc28){const _0x4780cf=_0x1579df,_0x11296a=allQuizzes[_0x4780cf(0x974)](_0x886e70=>_0x886e70['id']===_0x50dc28);if(!_0x11296a||!_0x11296a[_0x4780cf(0x6c5)]){showMessage(_0x4780cf(0x796));return;}showConfirmation(_0x4780cf(0x706),async()=>{const _0x5d4eb9=_0x4780cf;try{const _0x2faf3c=doc(db,_0x5d4eb9(0x88d)+appId+_0x5d4eb9(0x207),_0x50dc28),_0x42cbce=doc(db,_0x5d4eb9(0x88d)+appId+'/public/data/quizzes',_0x11296a[_0x5d4eb9(0x6c5)]),_0x34cb5e=writeBatch(db);_0x34cb5e['update'](_0x2faf3c,{'pairedQuizId':null}),_0x34cb5e[_0x5d4eb9(0x283)](_0x42cbce,{'pairedQuizId':null}),await _0x34cb5e[_0x5d4eb9(0x196)](),showMessage(_0x5d4eb9(0x1fb));}catch(_0xbb7ffe){console[_0x5d4eb9(0x962)](_0x5d4eb9(0x3dc),_0xbb7ffe),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x3ecd7f,_0x4005db){const _0x1ef286=_0x1579df,_0x175de0=window[_0x1ef286(0x6d1)]('',_0x1ef286(0x864)),_0x4517f0=_0x1ef286(0x221)+_0x4005db[_0x1ef286(0x9b2)]+_0x1ef286(0x5a2)+_0x4005db[_0x1ef286(0x9b2)]+_0x1ef286(0x657)+_0x3ecd7f['learningGaps'][_0x1ef286(0x931)](_0x140305=>_0x1ef286(0x4d0)+_0x140305+_0x1ef286(0x9a8))[_0x1ef286(0x7b1)]('')+_0x1ef286(0x11f)+_0x3ecd7f[_0x1ef286(0x70e)]+_0x1ef286(0x104)+_0x3ecd7f[_0x1ef286(0x812)][_0x1ef286(0x931)](_0xb5ac3d=>_0x1ef286(0x1f9)+_0xb5ac3d['question']+_0x1ef286(0x1d8)+_0xb5ac3d['solution']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1ef286(0x7b1)]('')+_0x1ef286(0x3d8);_0x175de0[_0x1ef286(0x751)][_0x1ef286(0x74f)](_0x4517f0),_0x175de0[_0x1ef286(0x751)][_0x1ef286(0x70a)](),_0x175de0[_0x1ef286(0x389)]=function(){setTimeout(()=>{const _0x344fa=_0x13b1;_0x175de0[_0x344fa(0x9b1)]();},0x3e8);};}async function handleAiFixFormula(_0x2a1481){const _0x56d2dd=_0x1579df,_0x50d2be=document[_0x56d2dd(0x20a)]('.question-editor-item[data-q-index=\x22'+_0x2a1481+'\x22]');if(!_0x50d2be)return;const _0x3f9606=_0x50d2be[_0x56d2dd(0x6de)][_0x56d2dd(0x5d4)],_0x2b63f1=_0x50d2be[_0x56d2dd(0x20a)](_0x56d2dd(0x763));let _0x4b1c22={'question':_0x50d2be[_0x56d2dd(0x20a)](_0x56d2dd(0x705))[_0x56d2dd(0x3d7)]};switch(_0x3f9606){case _0x56d2dd(0x34f):_0x4b1c22[_0x56d2dd(0x518)]=Array['from'](_0x50d2be[_0x56d2dd(0x37d)](_0x56d2dd(0x6d0)))[_0x56d2dd(0x931)](_0x59931f=>_0x59931f[_0x56d2dd(0x3d7)]);break;case _0x56d2dd(0x236):_0x4b1c22[_0x56d2dd(0x3ad)]=_0x50d2be[_0x56d2dd(0x20a)](_0x56d2dd(0x5ea))['value'];break;case _0x56d2dd(0x357):_0x4b1c22['correctResponse']=_0x50d2be[_0x56d2dd(0x20a)]('.correct-response-input')[_0x56d2dd(0x3d7)];break;}_0x2b63f1['innerHTML']=_0x56d2dd(0x59f),_0x2b63f1['disabled']=!![];try{const _0x5f5d16=_0x56d2dd(0x2b7)+JSON[_0x56d2dd(0x3c5)](_0x4b1c22)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3b21d8={'type':_0x56d2dd(0xb1),'properties':{'fixedData':{'type':_0x56d2dd(0xb1),'properties':{'question':{'type':_0x56d2dd(0x1e7)},'options':{'type':_0x56d2dd(0x926),'items':{'type':_0x56d2dd(0x1e7)}},'idealAnswer':{'type':_0x56d2dd(0x1e7)},'correctResponse':{'type':'STRING'}},'required':[_0x56d2dd(0x3d1)]}},'required':[_0x56d2dd(0xc5)]},_0x285d1d=await callAnalysisApi(_0x5f5d16,_0x3b21d8);if(_0x285d1d&&_0x285d1d['fixedData']){const _0x5ee0eb=_0x285d1d['fixedData'];_0x50d2be[_0x56d2dd(0x20a)](_0x56d2dd(0x705))[_0x56d2dd(0x3d7)]=_0x5ee0eb[_0x56d2dd(0x3d1)]||_0x4b1c22[_0x56d2dd(0x3d1)];switch(_0x3f9606){case'multiple_choice':_0x5ee0eb[_0x56d2dd(0x518)]&&_0x5ee0eb[_0x56d2dd(0x518)][_0x56d2dd(0x783)]>0x0&&_0x50d2be[_0x56d2dd(0x37d)](_0x56d2dd(0x6d0))[_0x56d2dd(0x2fb)]((_0x350398,_0x21f58f)=>{const _0x9a2962=_0x56d2dd;_0x350398['value']=_0x5ee0eb[_0x9a2962(0x518)][_0x21f58f]||_0x4b1c22[_0x9a2962(0x518)][_0x21f58f];});break;case _0x56d2dd(0x236):_0x50d2be[_0x56d2dd(0x20a)](_0x56d2dd(0x5ea))[_0x56d2dd(0x3d7)]=_0x5ee0eb[_0x56d2dd(0x3ad)]||_0x4b1c22[_0x56d2dd(0x3ad)];break;case _0x56d2dd(0x357):_0x50d2be[_0x56d2dd(0x20a)](_0x56d2dd(0x4c1))[_0x56d2dd(0x3d7)]=_0x5ee0eb['correctResponse']||_0x4b1c22[_0x56d2dd(0x329)];break;}if(_0x4b1c22[_0x56d2dd(0x3d1)]!==_0x5ee0eb['question'])try{const _0x59b9b4=collection(db,_0x56d2dd(0x88d)+appId+_0x56d2dd(0x903));await addDoc(_0x59b9b4,{'broken':_0x4b1c22[_0x56d2dd(0x3d1)],'fixed':_0x5ee0eb[_0x56d2dd(0x3d1)],'createdAt':serverTimestamp()});}catch(_0x536ed6){console[_0x56d2dd(0x962)](_0x56d2dd(0x90d),_0x536ed6);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x689d69){console[_0x56d2dd(0x962)](_0x56d2dd(0x46e),_0x689d69),showMessage(_0x56d2dd(0x7ef));}finally{_0x2b63f1[_0x56d2dd(0x581)]='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x2b63f1[_0x56d2dd(0xd7)]=![];}}async function handleGenerateLessonPlan(_0x368041){const _0x4f1f02=_0x1579df;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x54cab6=doc(db,_0x4f1f02(0x88d)+appId+'/public/data/quizzes',_0x368041),_0x5d75f2=await getDoc(_0x54cab6);if(!_0x5d75f2[_0x4f1f02(0x3e1)]())throw new Error(_0x4f1f02(0x12d));const _0x4ed01a={'id':_0x368041,..._0x5d75f2[_0x4f1f02(0x844)]()},_0x160d3f=collection(db,_0x4f1f02(0x88d)+appId+_0x4f1f02(0x207),_0x368041,_0x4f1f02(0x38b)),_0xd08db=await getDocs(_0x160d3f),_0x3713b3=_0xd08db[_0x4f1f02(0x6b3)][_0x4f1f02(0x931)](_0x32acce=>_0x32acce[_0x4f1f02(0x844)]());if(_0x3713b3['length']===0x0)throw new Error(_0x4f1f02(0xdb));const _0x8cd513=calculateItemAnalysis(_0x4ed01a,_0x3713b3)['perQuestionStats'],_0x3e9d66=calculateDistractorAnalysis(_0x4ed01a,_0x3713b3),_0x120e4a=_0x13256f=>{const _0x42a354=_0x4f1f02;if(!_0x13256f)return'';return _0x13256f[_0x42a354(0x399)](/\\/g,'\x5c\x5c')[_0x42a354(0x399)](/"/g,'\x5c\x22')[_0x42a354(0x399)](/\n/g,'\x5cn');};let _0x1a339e=_0x4f1f02(0x354);_0x4ed01a['questions'][_0x4f1f02(0x2fb)]((_0x15663d,_0x323419)=>{const _0x5bb4ba=_0x4f1f02,_0x5b1de8=_0x8cd513[_0x323419]?.['p'][_0x5bb4ba(0x8b5)](0x2)||_0x5bb4ba(0x8e6),_0x413eb1=_0x8cd513[_0x323419]?.['r'][_0x5bb4ba(0x8b5)](0x2)||_0x5bb4ba(0x8e6),_0x5bec2b=_0x120e4a(_0x15663d[_0x5bb4ba(0x2b6)]||_0x15663d['stem']);_0x1a339e+=_0x5bb4ba(0x255)+(_0x323419+0x1)+_0x5bb4ba(0x85a)+_0x5b1de8+_0x5bb4ba(0x7d3)+_0x413eb1+_0x5bb4ba(0x5a7)+_0x5bec2b+'\x5cn';if(_0x15663d[_0x5bb4ba(0x54a)]==='multiple_choice'&&_0x3e9d66[_0x323419]){const _0x5c58ac=_0x3e9d66[_0x323419],_0x5e1ee6=Object['keys'](_0x5c58ac)['filter'](_0xfb40c7=>parseInt(_0xfb40c7)!==_0x15663d[_0x5bb4ba(0x48f)])[_0x5bb4ba(0x774)]((_0x324894,_0x2b6849)=>_0x5c58ac[_0x2b6849][_0x5bb4ba(0x765)]-_0x5c58ac[_0x324894]['total'])[0x0];if(_0x5e1ee6&&_0x5c58ac[_0x5e1ee6][_0x5bb4ba(0x765)]>0x0){const _0x11aaf4=_0x120e4a(_0x5c58ac[_0x5e1ee6]['text']);_0x1a339e+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x11aaf4+_0x5bb4ba(0x293);}}});const _0x14c406=_0x4f1f02(0x87b)+_0x4ed01a['topic']+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1a339e+_0x4f1f02(0x8ea),_0x33dbfb={'type':_0x4f1f02(0xb1),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x4f1f02(0x1e7)}},'teachingContent':{'type':_0x4f1f02(0x1e7)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x4f1f02(0xb1),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x4f1f02(0x1e7)}}}}},'required':['learningGaps',_0x4f1f02(0x70e),_0x4f1f02(0x812)]},_0x58aac0=await callAnalysisApi(_0x14c406,_0x33dbfb);await updateDoc(_0x54cab6,{'lessonPlan':_0x58aac0});const _0x1e880c=_0x4f1f02(0x81a)+_0x4ed01a[_0x4f1f02(0x9b2)]+_0x4f1f02(0x6b1)+_0x58aac0[_0x4f1f02(0x22a)][_0x4f1f02(0x931)](_0x4e99c4=>'<li>'+_0x4e99c4+_0x4f1f02(0x9a8))[_0x4f1f02(0x7b1)]('')+_0x4f1f02(0x539)+_0x58aac0[_0x4f1f02(0x70e)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x58aac0['practiceProblems']['map'](_0x1b461e=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x1b461e['question']+_0x4f1f02(0x501)+_0x1b461e[_0x4f1f02(0x2d7)]+'</p></div>')['join']('')+_0x4f1f02(0x48b);document[_0x4f1f02(0x632)](_0x4f1f02(0x975))[_0x4f1f02(0xf3)]=_0x4f1f02(0x95d)+_0x4ed01a[_0x4f1f02(0x9b2)],document[_0x4f1f02(0x632)](_0x4f1f02(0x750))[_0x4f1f02(0x581)]=_0x1e880c,document['getElementById']('lesson-plan-modal')[_0x4f1f02(0x635)]['remove'](_0x4f1f02(0x99e));if(window[_0x4f1f02(0x1c5)])MathJax[_0x4f1f02(0x2ab)]();messageModal[_0x4f1f02(0x635)]['add'](_0x4f1f02(0x99e));}catch(_0x43a05f){console[_0x4f1f02(0x962)]('Error\x20generating\x20lesson\x20plan:',_0x43a05f),showMessage(_0x4f1f02(0x4b1)+_0x43a05f[_0x4f1f02(0x52c)]);}}async function handleDuplicateQuiz(_0xf2b332){const _0x16355f=_0x1579df;try{const _0x3dc3fe=doc(db,_0x16355f(0x88d)+appId+'/public/data/quizzes',_0xf2b332),_0x2ba265=await getDoc(_0x3dc3fe);if(_0x2ba265[_0x16355f(0x3e1)]()){const _0x241e94=_0x2ba265['data']();let _0x526d83='',_0x408ab1=_0x16355f(0x937),_0x112ffc=null;if(_0x241e94['quizMode']===_0x16355f(0x871)){let _0x566634=_0x241e94['topic'][_0x16355f(0x399)]('(ก่อนเรียน)','')['trim']();_0x526d83=_0x16355f(0x923)+_0x566634,_0x408ab1=_0x16355f(0x44b),_0x112ffc=_0xf2b332;}else _0x526d83=_0x16355f(0x1f0)+_0x241e94[_0x16355f(0x9b2)];const _0x3a3b0c={..._0x241e94,'topic':_0x526d83,'createdAt':new Date()[_0x16355f(0x883)](),'quizMode':_0x408ab1,'pairedQuizId':_0x112ffc};let _0x530902;while(!![]){_0x530902=Math[_0x16355f(0x1e3)](0x3e8+Math[_0x16355f(0x4fa)]()*0x2328)[_0x16355f(0x994)]();const _0x41b78d=await getDoc(doc(db,'artifacts/'+appId+_0x16355f(0x207),_0x530902));if(!_0x41b78d['exists']())break;}const _0x132352=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x530902);await setDoc(_0x132352,_0x3a3b0c),_0x3a3b0c[_0x16355f(0x941)]==='post-test'&&await updateDoc(_0x3dc3fe,{'pairedQuizId':_0x530902}),showMessage(_0x16355f(0x649));}else throw new Error(_0x16355f(0x30b));}catch(_0x22055d){console[_0x16355f(0x962)](_0x16355f(0x784),_0x22055d),showMessage(_0x16355f(0x607));}}async function handleDeleteQuiz(_0x1e892f,_0x390256=!![]){const _0x1a2430=_0x1579df;try{const _0x4061ea=writeBatch(db),_0x29fc78=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x1e892f+_0x1a2430(0x367)),_0x45c314=await getDocs(_0x29fc78);_0x45c314[_0x1a2430(0x2fb)](_0x202584=>{const _0x4aeb44=_0x1a2430;_0x4061ea[_0x4aeb44(0x1e9)](doc(_0x29fc78,_0x202584['id']));});const _0x210a41=doc(db,_0x1a2430(0x88d)+appId+'/public/data/quizzes',_0x1e892f);_0x4061ea['delete'](_0x210a41),await _0x4061ea[_0x1a2430(0x196)](),_0x390256&&showMessage(_0x1a2430(0x448));}catch(_0xd7981a){console[_0x1a2430(0x962)](_0x1a2430(0x228),_0xd7981a),_0x390256&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x320d06){const _0x5ab150=_0x1579df;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x254141=doc(db,_0x5ab150(0x88d)+appId+_0x5ab150(0x207),_0x320d06),_0x227cff=await getDoc(_0x254141);if(!_0x227cff['exists']()){showMessage(_0x5ab150(0x12d));return;}const _0x167f75={'id':_0x227cff['id'],..._0x227cff[_0x5ab150(0x844)]()};currentQuizData=_0x167f75;const _0x4f6556=doc(db,'artifacts/'+appId+_0x5ab150(0x18f),_0x167f75[_0x5ab150(0x80a)]),_0x200c18=await getDoc(_0x4f6556);_0x200c18[_0x5ab150(0x3e1)]()?(currentProjectData=_0x200c18[_0x5ab150(0x844)](),currentProjectId=_0x167f75[_0x5ab150(0x80a)]):(currentProjectData={'students':[]},currentProjectId=_0x167f75[_0x5ab150(0x80a)]);document[_0x5ab150(0x632)](_0x5ab150(0x48a))['textContent']=_0x167f75[_0x5ab150(0x9b2)],document[_0x5ab150(0x632)]('results-quiz-id-display')[_0x5ab150(0xf3)]=_0x320d06;const _0xaeb516=collection(db,_0x5ab150(0x88d)+appId+_0x5ab150(0x207),_0x320d06,_0x5ab150(0x38b));unsubscribeSubmissionsListener=onSnapshot(_0xaeb516,_0x37ff85=>{const _0x318098=_0x5ab150,_0x39ac5e=_0x37ff85[_0x318098(0x6b3)][_0x318098(0x931)](_0x267b95=>({'id':_0x267b95['id'],..._0x267b95[_0x318098(0x844)]()}));currentSubmissions=_0x39ac5e;const _0x4601b3=_0x39ac5e[_0x318098(0x34b)](_0x35410c=>_0x35410c['attempts']&&_0x35410c[_0x318098(0x157)][_0x318098(0x783)]>0x0);renderBehaviorLog(_0x39ac5e),renderAnswerGrid(currentProjectData[_0x318098(0x63a)],_0x4601b3,_0x167f75),renderAnalytics(_0x167f75,_0x4601b3),renderQuizResultsTable(currentProjectData['students'],_0x39ac5e,_0x167f75),renderQuizLeaderboard(_0x4601b3,_0x167f75,_0x318098(0x5c5));}),showView(_0x5ab150(0x85f));}catch(_0x3ad059){console['error'](_0x5ab150(0x745),_0x3ad059),showMessage(_0x5ab150(0x6f2));}}function renderAnswerGrid(_0x55bf18,_0x42f3a8,_0x20e9cd){const _0x382272=_0x1579df,_0x13e8c8=document[_0x382272(0x632)](_0x382272(0x4e3));if(!_0x13e8c8)return;if(!_0x55bf18||_0x55bf18[_0x382272(0x783)]===0x0){_0x13e8c8[_0x382272(0x581)]=_0x382272(0x5f6);return;}const _0x16daf7=_0x20e9cd['questions'],_0xe996d6=_0x42f3a8[_0x382272(0x7d9)]((_0x570283,_0x44de46)=>{const _0x4e0a48=_0x382272;return _0x570283[_0x44de46[_0x4e0a48(0x6ef)]]=_0x44de46,_0x570283;},{}),_0x20d345=_0x2bd5d0=>String[_0x382272(0x4fc)](0x41+_0x2bd5d0),_0x51b61f=_0x546f1c=>{const _0x3ee8ba=_0x382272,_0x3dd1f1=_0x546f1c[_0x3ee8ba(0x54a)]||_0x20e9cd[_0x3ee8ba(0x9af)];switch(_0x3dd1f1){case _0x3ee8ba(0x34f):return _0x546f1c['options']&&_0x546f1c[_0x3ee8ba(0x518)][_0x3ee8ba(0x783)]>_0x546f1c[_0x3ee8ba(0x48f)]?_0x20d345(_0x546f1c[_0x3ee8ba(0x48f)]):'-';case _0x3ee8ba(0x958):return _0x546f1c['correctAnswer']?_0x3ee8ba(0x282):_0x3ee8ba(0x8d9);case _0x3ee8ba(0x357):return _0x546f1c['correctResponse']||'-';case _0x3ee8ba(0x236):return _0x3ee8ba(0x7e8);default:return'-';}},_0x4cad44=(_0x516c0e,_0x7d811d)=>{const _0x3a0523=_0x382272;if(_0x7d811d['answer']===null||_0x7d811d['answer']===undefined)return'-';const _0x427a7c=_0x516c0e[_0x3a0523(0x54a)]||_0x20e9cd['quizType'];switch(_0x427a7c){case'multiple_choice':const _0x59d8d7=_0x516c0e['options']['findIndex'](_0x262e83=>_0x262e83===_0x7d811d['answerText']);return _0x59d8d7!==-0x1?_0x20d345(_0x59d8d7):_0x7d811d[_0x3a0523(0x29c)]||'-';case _0x3a0523(0x958):return _0x7d811d['answer']===_0x3a0523(0x21a)||_0x7d811d[_0x3a0523(0x4ff)]===!![]?'ใช่':'ไม่ใช่';default:return _0x7d811d[_0x3a0523(0x4ff)];}};let _0x48fe3d=_0x382272(0x7f4)+_0x16daf7[_0x382272(0x931)]((_0x19b2ce,_0x41a301)=>_0x382272(0x1bc)+(_0x41a301+0x1)+_0x382272(0x933))[_0x382272(0x7b1)]('')+_0x382272(0xe3)+_0x16daf7[_0x382272(0x931)](_0x34312a=>_0x382272(0x7ee)+_0x51b61f(_0x34312a)+_0x382272(0x120))[_0x382272(0x7b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x55bf18[_0x382272(0x2fb)](_0x26e406=>{const _0x5e389c=_0x382272;_0x48fe3d+=_0x5e389c(0x8d7),_0x48fe3d+=_0x5e389c(0x105)+_0x26e406+_0x5e389c(0x120);const _0x211df4=_0xe996d6[_0x26e406];if(_0x211df4){const _0x50e46d=_0x211df4['attempts'][_0x211df4['attempts'][_0x5e389c(0x783)]-0x1];_0x16daf7[_0x5e389c(0x2fb)]((_0x5d3ae0,_0x205aad)=>{const _0x385514=_0x5e389c,_0x33f00f=_0x50e46d[_0x385514(0x6ac)][_0x385514(0x974)](_0x5ca6e4=>_0x5ca6e4[_0x385514(0x7e0)]===_0x5d3ae0['id']);if(_0x33f00f){let _0x296e0d=![];const _0x45f9e1=_0x5d3ae0[_0x385514(0x54a)]||_0x20e9cd[_0x385514(0x9af)];if(_0x33f00f[_0x385514(0x4ff)]!==null&&_0x33f00f[_0x385514(0x4ff)]!==undefined)switch(_0x45f9e1){case _0x385514(0x34f):const _0x1ab8f0=_0x5d3ae0['options'][_0x5d3ae0[_0x385514(0x48f)]];_0x296e0d=_0x33f00f[_0x385514(0x29c)]===_0x1ab8f0;break;case'true_false':const _0x1fc0fa=_0x33f00f['answer']===!![]||_0x33f00f['answer']===_0x385514(0x21a);_0x296e0d=_0x1fc0fa===_0x5d3ae0[_0x385514(0x7d0)];break;case _0x385514(0x357):_0x296e0d=_0x33f00f[_0x385514(0x4ff)]===_0x5d3ae0[_0x385514(0x329)];break;default:_0x296e0d=_0x33f00f[_0x385514(0x304)];break;}const _0x4e795d=_0x296e0d?'bg-green-100':_0x385514(0x67d);_0x48fe3d+=_0x385514(0x63c)+_0x4e795d+'\x22>'+_0x4cad44(_0x5d3ae0,_0x33f00f)+_0x385514(0x120);}else _0x48fe3d+=_0x385514(0x884);});}else _0x48fe3d+=_0x16daf7[_0x5e389c(0x931)](()=>_0x5e389c(0x22b))['join']('');_0x48fe3d+='</tr>';}),_0x48fe3d+=_0x382272(0x1a0),_0x13e8c8[_0x382272(0x581)]=_0x48fe3d;}function renderQuizResultsTable(_0x99322,_0x1c2098,_0x43c7a0){const _0x4cc23e=_0x1579df,_0x4eeacc=_0x1c2098[_0x4cc23e(0x7d9)]((_0x3184b1,_0x2c9e86)=>{const _0x29c64a=_0x4cc23e;return _0x3184b1[_0x2c9e86[_0x29c64a(0x6ef)]]=_0x2c9e86,_0x3184b1;},{}),_0x54665f=document[_0x4cc23e(0x20a)](_0x4cc23e(0x4bb));_0x54665f&&!_0x54665f['innerHTML'][_0x4cc23e(0x29b)]('จัดการ')&&(_0x54665f[_0x4cc23e(0x581)]+=_0x4cc23e(0x18d));const _0x366765=document[_0x4cc23e(0x632)]('quiz-results-table-body');if(!_0x99322||_0x99322[_0x4cc23e(0x783)]===0x0){_0x366765[_0x4cc23e(0x581)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x5d6e26=_0x43c7a0[_0x4cc23e(0x5e9)]===!![],_0x2dab64=_0x43c7a0[_0x4cc23e(0x8b9)]?.[_0x4cc23e(0x569)]??-0x1;let _0x2abca1='';_0x99322[_0x4cc23e(0x2fb)](_0x57abc6=>{const _0x4ae221=_0x4cc23e,_0x9c6cae=_0x4eeacc[_0x57abc6];let _0x3d7ce5=_0x4ae221(0x893)+(_0x5d6e26?_0x4ae221(0x442):_0x4ae221(0xf1))+'\x22>'+(_0x5d6e26?_0x4ae221(0x604):_0x4ae221(0x20c))+_0x4ae221(0x867);if(_0x9c6cae){if(_0x9c6cae['attempts']&&_0x9c6cae[_0x4ae221(0x157)][_0x4ae221(0x783)]>0x0){let _0x42b9a5=_0x5d6e26?_0x9c6cae[_0x4ae221(0x757)]===_0x9c6cae[_0x4ae221(0x86f)]:_0x2dab64!==-0x1&&_0x9c6cae[_0x4ae221(0x757)]>=_0x2dab64;const _0x567ded=_0x42b9a5?_0x4ae221(0x69f):_0x4ae221(0x904),_0x24016=_0x42b9a5?_0x4ae221(0x44e):_0x4ae221(0x6be),_0x254ec7='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x567ded+'\x22>'+_0x24016+'</span></td>',_0x36e1de=_0x4ae221(0x1d2)+(_0x9c6cae[_0x4ae221(0x157)]?.[_0x4ae221(0x783)]||0x1)+_0x4ae221(0x3cc);_0x2abca1+=_0x4ae221(0x691)+_0x57abc6+_0x4ae221(0x24c)+_0x9c6cae['bestScore']+'\x20/\x20'+_0x9c6cae[_0x4ae221(0x86f)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x254ec7+_0x4ae221(0x1e0)+_0x3d7ce5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x9c6cae[_0x4ae221(0x5b7)]+_0x4ae221(0x8f8)+_0x9c6cae[_0x4ae221(0x86f)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x9c6cae[_0x4ae221(0x4f7)]+'\x20/\x20'+_0x9c6cae[_0x4ae221(0x86f)]+_0x4ae221(0x260)+(_0x9c6cae[_0x4ae221(0x8c6)]||0x0)+_0x4ae221(0x6cc)+_0x36e1de+_0x4ae221(0x13d)+new Date(_0x9c6cae['latestSubmittedAt'])[_0x4ae221(0x927)]('th-TH')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x57abc6+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x2771d8=_0x4ae221(0x421);_0x2abca1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x57abc6+_0x4ae221(0x33f)+_0x3d7ce5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2771d8+_0x4ae221(0x13d)+new Date(_0x9c6cae[_0x4ae221(0x251)])[_0x4ae221(0x927)](_0x4ae221(0x61a))+_0x4ae221(0x57f)+_0x57abc6+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0xb07b91='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x2abca1+=_0x4ae221(0x72b)+_0x57abc6+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d7ce5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb07b91+_0x4ae221(0x4c5);}}),_0x366765[_0x4cc23e(0x581)]=_0x2abca1;}async function confirmRenameQuiz(){const _0x2aafd9=_0x1579df,_0x57a15a=document[_0x2aafd9(0x632)](_0x2aafd9(0x726))['value'][_0x2aafd9(0x3d4)]();if(!_0x57a15a){showMessage(_0x2aafd9(0x443));return;}if(!actionTargetId)return;const _0x545b51=doc(db,_0x2aafd9(0x88d)+appId+_0x2aafd9(0x207),actionTargetId);try{await updateDoc(_0x545b51,{'topic':_0x57a15a}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x2aafd9(0x635)][_0x2aafd9(0x8c5)]('hidden'),actionTargetId=null;}catch(_0x4a8790){console[_0x2aafd9(0x962)]('Error\x20renaming\x20quiz:',_0x4a8790),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x42b1c2){const _0x24ee04=_0x1579df;actionTargetId=_0x42b1c2;const _0x129781=document['getElementById'](_0x24ee04(0x47b));_0x129781[_0x24ee04(0x581)]=_0x24ee04(0x3e9),moveQuizModal[_0x24ee04(0x635)][_0x24ee04(0x74c)]('hidden');try{const _0x5e4415=collection(db,_0x24ee04(0x88d)+appId+'/public/data/projects'),_0x25c76f=await getDocs(_0x5e4415),_0x503dbf=_0x25c76f['docs'][_0x24ee04(0x931)](_0x316a41=>({'id':_0x316a41['id'],..._0x316a41[_0x24ee04(0x844)]()})),_0x484949=_0x503dbf['filter'](_0x2c863f=>_0x2c863f['id']!==currentProjectId);if(_0x484949[_0x24ee04(0x783)]===0x0){_0x129781['innerHTML']=_0x24ee04(0x456),document['getElementById'](_0x24ee04(0x8dd))[_0x24ee04(0xd7)]=!![];return;}_0x129781[_0x24ee04(0x581)]=_0x484949[_0x24ee04(0x931)](_0x2d6a3d=>'<option\x20value=\x22'+_0x2d6a3d['id']+'\x22>'+_0x2d6a3d['projectName']+_0x24ee04(0x987))[_0x24ee04(0x7b1)](''),document[_0x24ee04(0x632)](_0x24ee04(0x8dd))[_0x24ee04(0xd7)]=![];}catch(_0x304ca3){console[_0x24ee04(0x962)]('Error\x20fetching\x20projects\x20for\x20move:',_0x304ca3),showMessage(_0x24ee04(0x36d)),moveQuizModal[_0x24ee04(0x635)][_0x24ee04(0x8c5)](_0x24ee04(0x99e));}}async function confirmMoveQuiz(){const _0x40436f=_0x1579df,_0x465767=document[_0x40436f(0x632)]('move-quiz-project-select')['value'];if(!_0x465767){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x552549=doc(db,_0x40436f(0x88d)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x552549,{'projectId':_0x465767}),showMessage(_0x40436f(0x998)),moveQuizModal[_0x40436f(0x635)]['add'](_0x40436f(0x99e)),actionTargetId=null;}catch(_0x1fc840){console['error']('Error\x20moving\x20quiz:',_0x1fc840),showMessage(_0x40436f(0x4c9));}}async function handleQuizSettings(_0x10933f){const _0x5474a3=_0x1579df;actionTargetId=_0x10933f;const _0x33f351=doc(db,_0x5474a3(0x88d)+appId+_0x5474a3(0x207),_0x10933f);try{const _0x53955f=await getDoc(_0x33f351);if(_0x53955f[_0x5474a3(0x3e1)]()){const _0x132b38=_0x53955f[_0x5474a3(0x844)](),_0x2ac70c=_0x132b38[_0x5474a3(0x8b9)]||{},_0x4ce54e=_0x132b38[_0x5474a3(0x88e)][_0x5474a3(0x783)];document[_0x5474a3(0x632)](_0x5474a3(0x7bc))[_0x5474a3(0x3d7)]=_0x2ac70c[_0x5474a3(0x1d5)]||_0x5474a3(0x900),document[_0x5474a3(0x632)](_0x5474a3(0x2dd))[_0x5474a3(0x3d7)]=_0x2ac70c[_0x5474a3(0x5bf)]||_0x5474a3(0x96b),document['getElementById'](_0x5474a3(0x546))[_0x5474a3(0x3d7)]=_0x2ac70c['timerMode']||_0x5474a3(0x900),document[_0x5474a3(0x632)](_0x5474a3(0x3f0))['value']=_0x2ac70c[_0x5474a3(0x2e6)]||0xa,document[_0x5474a3(0x632)]('modal-passing-score-input')[_0x5474a3(0x3d7)]=_0x2ac70c['passingScore']||Math[_0x5474a3(0x1e3)](_0x4ce54e/0x2),document[_0x5474a3(0x632)]('modal-passing-score-input')[_0x5474a3(0x7a0)]=_0x4ce54e,document[_0x5474a3(0x632)](_0x5474a3(0x37f))['checked']=_0x2ac70c[_0x5474a3(0x37a)]||![],document['getElementById'](_0x5474a3(0x5a1))['checked']=_0x2ac70c[_0x5474a3(0x776)]||![],document[_0x5474a3(0x632)](_0x5474a3(0x546))[_0x5474a3(0x78a)](new Event(_0x5474a3(0x40e))),quizSettingsModal[_0x5474a3(0x635)]['remove'](_0x5474a3(0x99e));}else showMessage(_0x5474a3(0x12d));}catch(_0x2a04da){console[_0x5474a3(0x962)]('Error\x20fetching\x20quiz\x20settings:',_0x2a04da),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x5e7912=_0x1579df;if(!actionTargetId)return;const _0x1823b3=doc(db,_0x5e7912(0x88d)+appId+_0x5e7912(0x207),actionTargetId),_0x597084={'shuffle':document['getElementById'](_0x5e7912(0x7bc))[_0x5e7912(0x3d7)],'resultsDisplay':document[_0x5e7912(0x632)](_0x5e7912(0x2dd))[_0x5e7912(0x3d7)],'timerMode':document[_0x5e7912(0x632)]('modal-timer-mode-select')['value'],'timerDuration':parseInt(document['getElementById']('modal-timer-duration-input')['value'])||0xa,'passingScore':parseInt(document[_0x5e7912(0x632)]('modal-passing-score-input')[_0x5e7912(0x3d7)])||0x0,'passingScore':parseInt(document['getElementById'](_0x5e7912(0x203))[_0x5e7912(0x3d7)])||0x0,'isAdaptive':document['getElementById'](_0x5e7912(0x37f))[_0x5e7912(0x37c)],'loopUntilPass':document['getElementById'](_0x5e7912(0x5a1))['checked']};try{await updateDoc(_0x1823b3,{'settings':_0x597084}),showMessage(_0x5e7912(0x7fe)),quizSettingsModal[_0x5e7912(0x635)][_0x5e7912(0x8c5)](_0x5e7912(0x99e)),actionTargetId=null;}catch(_0x77232){console['error'](_0x5e7912(0x50b),_0x77232),showMessage(_0x5e7912(0x4e0));}}async function handleQuizStatus(_0x35a6a6){const _0x48462a=_0x1579df;actionTargetId=_0x35a6a6;const _0x19a9f5=doc(db,_0x48462a(0x88d)+appId+'/public/data/quizzes',_0x35a6a6);try{const _0x18d334=await getDoc(_0x19a9f5);if(_0x18d334[_0x48462a(0x3e1)]()){const _0x488110=_0x18d334[_0x48462a(0x844)](),_0x3b743d=_0x488110[_0x48462a(0x1cf)]||'active',_0xe038fe=document['getElementById'](_0x48462a(0x14e)),_0x3d7d35=document['getElementById'](_0x48462a(0x146)),_0x2b660b=document[_0x48462a(0x632)](_0x48462a(0x5bb));let _0x528644=_0x48462a(0x2eb)+(_0x3b743d===_0x48462a(0x6c0)?_0x48462a(0x37c):'')+_0x48462a(0x669)+(_0x3b743d===_0x48462a(0x29f)?_0x48462a(0x37c):'')+_0x48462a(0x2ce)+(_0x3b743d===_0x48462a(0x25b)?_0x48462a(0x37c):'')+_0x48462a(0x7b6);_0xe038fe['innerHTML']=_0x528644;const _0x4dde8b=_0x3b743d===_0x48462a(0x25b);_0x3d7d35[_0x48462a(0x635)]['toggle'](_0x48462a(0x99e),!_0x4dde8b),_0x2b660b[_0x48462a(0x635)][_0x48462a(0x535)](_0x48462a(0x99e),!_0x4dde8b),document['getElementById'](_0x48462a(0x69a))['value']=_0x488110[_0x48462a(0x4f8)]?_0x488110[_0x48462a(0x4f8)]['substring'](0x0,0x10):'',document['getElementById'](_0x48462a(0x837))[_0x48462a(0x3d7)]=_0x488110[_0x48462a(0x6b5)]?_0x488110[_0x48462a(0x6b5)]['substring'](0x0,0x10):'',_0xe038fe[_0x48462a(0x37d)]('input[name=\x22status-option\x22]')['forEach'](_0xdf3e71=>{_0xdf3e71['addEventListener']('change',_0x23cb0e=>{const _0x225a5d=_0x13b1,_0x5b7293=_0x23cb0e['target'][_0x225a5d(0x3d7)]==='schedule';_0x3d7d35[_0x225a5d(0x635)][_0x225a5d(0x535)](_0x225a5d(0x99e),!_0x5b7293),_0x2b660b[_0x225a5d(0x635)][_0x225a5d(0x535)]('hidden',!_0x5b7293);});}),quizStatusModal[_0x48462a(0x635)]['remove'](_0x48462a(0x99e));}}catch(_0x184e64){console[_0x48462a(0x962)](_0x48462a(0x3d3),_0x184e64),showMessage(_0x48462a(0x2c5));}}async function confirmQuizStatus(){const _0x3b766f=_0x1579df;if(!actionTargetId)return;const _0x1beb25=doc(db,'artifacts/'+appId+_0x3b766f(0x207),actionTargetId),_0x321ef3=document[_0x3b766f(0x20a)](_0x3b766f(0x3a2));if(!_0x321ef3){showMessage(_0x3b766f(0x112));return;}const _0xe90952=_0x321ef3['value'];let _0x3bb684={};if(_0xe90952==='active'||_0xe90952===_0x3b766f(0x29f))_0x3bb684={'status':_0xe90952,'startTime':null,'endTime':null};else{if(_0xe90952==='schedule'){const _0xf2ec7d=document[_0x3b766f(0x632)](_0x3b766f(0x69a))[_0x3b766f(0x3d7)],_0x5d5334=document[_0x3b766f(0x632)]('quiz-end-time')[_0x3b766f(0x3d7)];if(!_0xf2ec7d&&!_0x5d5334){showMessage(_0x3b766f(0x300));return;}_0x3bb684={'status':'scheduled','startTime':_0xf2ec7d?new Date(_0xf2ec7d)[_0x3b766f(0x883)]():null,'endTime':_0x5d5334?new Date(_0x5d5334)[_0x3b766f(0x883)]():null};}}try{await updateDoc(_0x1beb25,_0x3bb684),showMessage(_0x3b766f(0x58f)),quizStatusModal[_0x3b766f(0x635)]['add'](_0x3b766f(0x99e)),actionTargetId=null;}catch(_0x37f265){console['error'](_0x3b766f(0x4b9),_0x37f265),showMessage(_0x3b766f(0x24b));}}function listenForStudentProfiles(_0x393b1e){const _0x4fcc7d=_0x1579df,_0x1950d6=collection(db,_0x4fcc7d(0x88d)+appId+'/public/data/projects/'+_0x393b1e+_0x4fcc7d(0x1f5));unsubscribeStudentProfilesListener=onSnapshot(_0x1950d6,_0x7fd2a6=>{const _0x1a4c7d=_0x4fcc7d,_0x28787c=_0x7fd2a6[_0x1a4c7d(0x6b3)][_0x1a4c7d(0x931)](_0x4f5527=>_0x4f5527['data']());renderLeaderboard(_0x28787c,_0x1a4c7d(0x925));},_0x4599da=>{const _0x101c29=_0x4fcc7d;console['error']('Error\x20listening\x20for\x20student\x20profiles:',_0x4599da),document[_0x101c29(0x632)](_0x101c29(0x925))[_0x101c29(0x581)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x218072,_0x3d21f4){const _0x2fba57=_0x1579df,_0x46ce6e=document[_0x2fba57(0x632)](_0x3d21f4);if(!_0x218072||_0x218072[_0x2fba57(0x783)]===0x0){_0x46ce6e['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x218072[_0x2fba57(0x774)]((_0x17f76b,_0x71f997)=>{const _0xd7a1e2=_0x2fba57,_0x7e9ed8=(_0x71f997[_0xd7a1e2(0x4ec)]||0x0)-(_0x17f76b[_0xd7a1e2(0x4ec)]||0x0);if(_0x7e9ed8!==0x0)return _0x7e9ed8;const _0x1d828a=(_0x71f997[_0xd7a1e2(0x48c)]?.[_0xd7a1e2(0x7ad)]||0x0)-(_0x17f76b[_0xd7a1e2(0x48c)]?.[_0xd7a1e2(0x7ad)]||0x0);if(_0x1d828a!==0x0)return _0x1d828a;const _0x3ff63f=(_0x71f997[_0xd7a1e2(0x48c)]?.[_0xd7a1e2(0xf7)]||0x0)-(_0x17f76b[_0xd7a1e2(0x48c)]?.[_0xd7a1e2(0xf7)]||0x0);if(_0x3ff63f!==0x0)return _0x3ff63f;const _0x924a8e=(_0x71f997[_0xd7a1e2(0x48c)]?.[_0xd7a1e2(0x72f)]||0x0)-(_0x17f76b[_0xd7a1e2(0x48c)]?.[_0xd7a1e2(0x72f)]||0x0);if(_0x924a8e!==0x0)return _0x924a8e;const _0x1fc321=(_0x71f997[_0xd7a1e2(0x48c)]?.[_0xd7a1e2(0x663)]||0x0)-(_0x17f76b[_0xd7a1e2(0x48c)]?.[_0xd7a1e2(0x663)]||0x0);if(_0x1fc321!==0x0)return _0x1fc321;return _0x17f76b[_0xd7a1e2(0x6ef)][_0xd7a1e2(0x144)](_0x71f997[_0xd7a1e2(0x6ef)],'th');});let _0x33e78d='';_0x218072[_0x2fba57(0x2fb)]((_0x343375,_0x2addac)=>{const _0x411cca=_0x2fba57,_0xa29e1e=_0x2addac+0x1,_0x28d970=_0x343375[_0x411cca(0x48c)]||{};let _0x22ade4='';const _0xf175ed=[_0x411cca(0x7ad),_0x411cca(0x72f),_0x411cca(0xf7),_0x411cca(0x663)];_0xf175ed[_0x411cca(0x2fb)](_0x1155bd=>{const _0x4105a4=_0x411cca;if(_0x28d970[_0x1155bd]>0x0){const _0x2d3e11=Object['values'](BADGES)[_0x4105a4(0x974)](_0x304eae=>_0x304eae['id']===_0x1155bd);_0x2d3e11&&(_0x1155bd===_0x4105a4(0x7ad)?_0x22ade4+=_0x4105a4(0x8da)+_0x2d3e11[_0x4105a4(0x9a5)]+_0x4105a4(0x79e)+_0x2d3e11[_0x4105a4(0x3d5)]+_0x4105a4(0x461):_0x22ade4+=_0x4105a4(0x8da)+_0x2d3e11['name']+'\x20('+_0x28d970[_0x1155bd]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x2d3e11[_0x4105a4(0x3d5)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x28d970[_0x1155bd]+_0x4105a4(0x504));}}),_0x33e78d+=_0x411cca(0x690)+_0xa29e1e+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x343375['studentName']+_0x411cca(0x613)+(_0x343375[_0x411cca(0x4ec)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x22ade4||'-')+_0x411cca(0x74b);}),_0x46ce6e[_0x2fba57(0x581)]=_0x33e78d;}function displayLoopScreen(_0x4e2155,_0xea3d03,_0x16ef05){const _0x75ee01=_0x1579df;let _0x249ce2='';_0x16ef05!=='show_pass_fail_only'&&(_0x249ce2=_0x75ee01(0x262)+_0x4e2155+_0x75ee01(0x8f8)+_0xea3d03+'</strong></p>');const _0x37dfbe=_0x75ee01(0x6f9)+_0x249ce2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x75ee01(0x581)]=_0x37dfbe,studentResultArea['classList'][_0x75ee01(0x74c)](_0x75ee01(0x99e)),studentQuizArea[_0x75ee01(0x635)][_0x75ee01(0x8c5)]('hidden'),document[_0x75ee01(0x632)](_0x75ee01(0x111))['addEventListener'](_0x75ee01(0x379),()=>{const _0xf51b99=_0x75ee01;studentResultArea[_0xf51b99(0x635)][_0xf51b99(0x8c5)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x534887,_0x573824,_0x8c7891){const _0x13ab8d=_0x1579df,_0x4714c8=document[_0x13ab8d(0x632)](_0x8c7891),_0x129796=_0x8c7891===_0x13ab8d(0x69b),_0x4cde2b=_0x573824[_0x13ab8d(0x88e)]['length'],_0x2148d2=document['getElementById'](_0x8c7891)[_0x13ab8d(0x5ac)](_0x13ab8d(0x39d));if(_0x2148d2&&!_0x129796){const _0x249f39=_0x2148d2[_0x13ab8d(0x20a)](_0x13ab8d(0x55a));_0x249f39[_0x13ab8d(0x581)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x534887||_0x534887['length']===0x0){_0x4714c8[_0x13ab8d(0x581)]=_0x13ab8d(0x68f)+(_0x129796?0x6:0x8)+_0x13ab8d(0x703);return;}const _0x117d3c=[..._0x534887];_0x117d3c['sort']((_0x2947b6,_0x4ab8e4)=>{const _0x507fe7=_0x13ab8d;let _0x2782b6,_0x5dd89b;switch(quizLeaderboardSortBy){case'studentName':_0x2782b6=_0x2947b6['studentName']||'',_0x5dd89b=_0x4ab8e4['studentName']||'';return quizLeaderboardSortOrder==='asc'?_0x2782b6[_0x507fe7(0x144)](_0x5dd89b,'th'):_0x5dd89b[_0x507fe7(0x144)](_0x2782b6,'th');case _0x507fe7(0x8c6):_0x2782b6=_0x2947b6[_0x507fe7(0x8c6)]||0x0,_0x5dd89b=_0x4ab8e4[_0x507fe7(0x8c6)]||0x0;break;case _0x507fe7(0x157):_0x2782b6=_0x2947b6[_0x507fe7(0x157)]?.['length']||0x1,_0x5dd89b=_0x4ab8e4[_0x507fe7(0x157)]?.[_0x507fe7(0x783)]||0x1;break;case _0x507fe7(0x8fb):_0x2782b6=new Date(_0x2947b6['latestSubmittedAt']),_0x5dd89b=new Date(_0x4ab8e4[_0x507fe7(0x8fb)]);break;case _0x507fe7(0x757):default:_0x2782b6=_0x2947b6[_0x507fe7(0x757)],_0x5dd89b=_0x4ab8e4[_0x507fe7(0x757)];break;}if(_0x2782b6<_0x5dd89b)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x2782b6>_0x5dd89b)return quizLeaderboardSortOrder===_0x507fe7(0x665)?0x1:-0x1;return 0x0;});const _0x3a38b3=_0x573824[_0x13ab8d(0x5e9)]===!![],_0x479121=_0x573824['settings']?.['passingScore']??-0x1;let _0x1a6e7c='';_0x117d3c[_0x13ab8d(0x2fb)]((_0x152f7c,_0x1bb8b1)=>{const _0x1ddefe=_0x13ab8d,_0x24e32c=_0x1bb8b1+0x1;let _0x161f79=_0x1ddefe(0x302);if(_0x3a38b3||_0x479121!==-0x1){let _0x26f906=_0x3a38b3?_0x152f7c['bestScore']===_0x4cde2b:_0x152f7c[_0x1ddefe(0x757)]>=_0x479121;const _0x1ebce8=_0x26f906?_0x1ddefe(0x69f):_0x1ddefe(0x904),_0x340a2b=_0x26f906?'ผ่าน':_0x1ddefe(0x6be);_0x161f79='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x1ebce8+'\x22>'+_0x340a2b+_0x1ddefe(0x867);}const _0x3ed2af=_0x152f7c['attempts'][_0x152f7c[_0x1ddefe(0x157)][_0x1ddefe(0x783)]-0x1],_0xded337=(_0x3ed2af['badges']||[])[_0x1ddefe(0x931)](_0x36b3a3=>{const _0x2cb76c=_0x1ddefe,_0x239c97=Object[_0x2cb76c(0x373)](BADGES)[_0x2cb76c(0x974)](_0x411f02=>_0x411f02['id']===_0x36b3a3);return _0x239c97?'<span\x20title=\x22'+_0x239c97['name']+'\x22><i\x20class=\x22fas\x20'+_0x239c97[_0x2cb76c(0x3d5)]+_0x2cb76c(0x823):'';})[_0x1ddefe(0x7b1)]('');_0x1a6e7c+=_0x1ddefe(0x68d)+_0x24e32c+_0x1ddefe(0x13f)+_0x152f7c[_0x1ddefe(0x6ef)]+_0x1ddefe(0x606)+_0x152f7c[_0x1ddefe(0x757)]+'\x20/\x20'+_0x4cde2b+_0x1ddefe(0x7b0)+_0x161f79+_0x1ddefe(0x80c)+(_0x152f7c[_0x1ddefe(0x8c6)]||0x0)+_0x1ddefe(0x7b0)+(_0x129796?'':_0x1ddefe(0x91b)+(_0x152f7c['attempts']?.[_0x1ddefe(0x783)]||0x1)+_0x1ddefe(0x120))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x129796?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x152f7c['latestSubmittedAt'])[_0x1ddefe(0x927)](_0x1ddefe(0x61a))+_0x1ddefe(0x120))+_0x1ddefe(0x842)+(_0xded337||'-')+_0x1ddefe(0x2f8);}),_0x4714c8[_0x13ab8d(0x581)]=_0x1a6e7c,_0x2148d2&&!_0x129796&&_0x2148d2[_0x13ab8d(0x37d)](_0x13ab8d(0x437))[_0x13ab8d(0x2fb)](_0x3d4351=>{const _0x20176c=_0x13ab8d,_0x16437f=_0x3d4351['querySelector'](_0x20176c(0x14b));if(_0x16437f)_0x16437f[_0x20176c(0x74c)]();_0x3d4351[_0x20176c(0x6de)][_0x20176c(0x774)]===quizLeaderboardSortBy&&(_0x3d4351[_0x20176c(0x581)]+=_0x20176c(0x180)+(quizLeaderboardSortOrder===_0x20176c(0x665)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x512ce8){const _0x5617f1=_0x1579df;if(!currentQuizData||!currentQuizData['id']||!_0x512ce8){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x5617f1(0x73f)+_0x512ce8+_0x5617f1(0x55d),async()=>{const _0x5e26c0=_0x5617f1,_0x156b5d=currentQuizData['id'],_0x45859c=doc(db,_0x5e26c0(0x88d)+appId+_0x5e26c0(0x2c9)+_0x156b5d+_0x5e26c0(0x367),_0x512ce8);try{await deleteDoc(_0x45859c),showMessage('ลบผลสอบของ\x20'+_0x512ce8+'\x20สำเร็จ');}catch(_0x57d2df){console[_0x5e26c0(0x962)](_0x5e26c0(0x454),_0x57d2df),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x49f3cf=_0x1579df,_0x2fd4a0=document[_0x49f3cf(0x632)](_0x49f3cf(0x82b)),_0x3b06c4=_0x2fd4a0[_0x49f3cf(0x3d7)][_0x49f3cf(0x3d4)]();if(!_0x3b06c4){showMessage(_0x49f3cf(0x876));return;}loadQuizBtn[_0x49f3cf(0xd7)]=!![],loadQuizBtn[_0x49f3cf(0x581)]=_0x49f3cf(0x3f9);try{const _0x245dad=doc(db,_0x49f3cf(0x88d)+appId+_0x49f3cf(0x207),_0x3b06c4),_0x2326a8=await getDoc(_0x245dad);if(!_0x2326a8['exists']()){showMessage(_0x49f3cf(0x143));return;}currentQuizData={'id':_0x2326a8['id'],..._0x2326a8[_0x49f3cf(0x844)]()};const _0x498923=currentQuizData[_0x49f3cf(0x1cf)]||_0x49f3cf(0x6c0),_0x3fcbdc=new Date();if(_0x498923===_0x49f3cf(0x29f)){showMessage(_0x49f3cf(0x1bf));return;}if(_0x498923===_0x49f3cf(0x25b)){const _0x28e16e=currentQuizData[_0x49f3cf(0x4f8)]?new Date(currentQuizData[_0x49f3cf(0x4f8)]):null,_0x5928ee=currentQuizData[_0x49f3cf(0x6b5)]?new Date(currentQuizData['endTime']):null;if(_0x28e16e&&_0x3fcbdc<_0x28e16e){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x28e16e[_0x49f3cf(0x927)](_0x49f3cf(0x61a),{'hour12':![]}));return;}if(_0x5928ee&&_0x3fcbdc>_0x5928ee){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x3c835d=currentQuizData['projectId'];currentProjectId=_0x3c835d;const _0x21d9b7=doc(db,_0x49f3cf(0x88d)+appId+_0x49f3cf(0x18f),_0x3c835d),_0x5159a7=await getDoc(_0x21d9b7);if(!_0x5159a7[_0x49f3cf(0x3e1)]()){showMessage(_0x49f3cf(0x7fb));return;}const _0x4d0d88=_0x5159a7['data']();currentStudentProjectData=_0x4d0d88,displayStudentNameSelector(_0x4d0d88[_0x49f3cf(0x63a)],currentQuizData[_0x49f3cf(0x9b2)]);}catch(_0xc416b6){console[_0x49f3cf(0x962)](_0x49f3cf(0x44a),_0xc416b6),showMessage(_0x49f3cf(0x85e));}finally{loadQuizBtn[_0x49f3cf(0xd7)]=![],loadQuizBtn[_0x49f3cf(0x581)]=_0x49f3cf(0x3ce);}}async function handleJoinLiveGame(){const _0x18e60e=_0x1579df,_0x2cec57=document[_0x18e60e(0x632)](_0x18e60e(0x882)),_0x19e6fe=document[_0x18e60e(0x632)](_0x18e60e(0xb2)),_0x27ba6=document[_0x18e60e(0x632)](_0x18e60e(0x76d)),_0x25ecdb=_0x2cec57[_0x18e60e(0x3d7)][_0x18e60e(0x3d4)](),_0x57f685=_0x19e6fe[_0x18e60e(0x3d7)][_0x18e60e(0x3d4)]();if(!_0x25ecdb||!_0x57f685){showMessage(_0x18e60e(0x929));return;}_0x27ba6[_0x18e60e(0xd7)]=!![],_0x27ba6['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x3bfa21=collection(db,_0x18e60e(0x88d)+appId+_0x18e60e(0x97b)),_0x4d497d=query(_0x3bfa21,where(_0x18e60e(0x5f4),'==',_0x25ecdb),where('status','in',[_0x18e60e(0x6a8),'question'])),_0x5357d1=await getDocs(_0x4d497d);if(_0x5357d1['empty']){showMessage(_0x18e60e(0x7da));return;}const _0x186c4e=_0x5357d1[_0x18e60e(0x6b3)][0x0],_0x5a930c=_0x186c4e[_0x18e60e(0x844)]();currentLiveGameId=_0x186c4e['id'];const _0x23f2c4=_0x5a930c[_0x18e60e(0x59c)],_0x567b78=doc(db,_0x18e60e(0x88d)+appId+_0x18e60e(0x207),_0x23f2c4),_0x29bf35=await getDoc(_0x567b78);if(!_0x29bf35[_0x18e60e(0x3e1)]()){showMessage(_0x18e60e(0x4ba));return;}currentQuizData={'id':_0x29bf35['id'],..._0x29bf35[_0x18e60e(0x844)]()};if(_0x5a930c[_0x18e60e(0x5da)]&&_0x5a930c[_0x18e60e(0x5da)][_0x57f685]){const _0x113d6d=_0x5a930c[_0x18e60e(0x5da)][_0x57f685];if(_0x113d6d[_0x18e60e(0x1cf)]===_0x18e60e(0x29f)){_0x27ba6[_0x18e60e(0x581)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0xde6325={};_0xde6325[_0x18e60e(0x21f)+_0x57f685+_0x18e60e(0x65d)]=_0x18e60e(0x6c0),await updateDoc(doc(db,_0x18e60e(0x88d)+appId+_0x18e60e(0x97b),currentLiveGameId),_0xde6325),showView(_0x18e60e(0x233)),currentStudentName=_0x57f685,listenForLiveGameUpdates();return;}else{showMessage(_0x18e60e(0x331));return;}}if(_0x5a930c['status']!==_0x18e60e(0x6a8)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x27ba6['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x449f01={};_0x449f01[_0x18e60e(0x21f)+_0x57f685]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x18e60e(0x6c0)},await updateDoc(doc(db,_0x18e60e(0x88d)+appId+_0x18e60e(0x97b),currentLiveGameId),_0x449f01),currentStudentName=_0x57f685,listenForLiveGameUpdates();}catch(_0x31ef65){console[_0x18e60e(0x962)](_0x18e60e(0x9aa),_0x31ef65),showMessage(_0x18e60e(0x5af));}finally{_0x27ba6[_0x18e60e(0xd7)]=![],_0x27ba6[_0x18e60e(0x581)]=_0x18e60e(0x19e);}}function displayStudentNameSelector(_0x4ebcdd,_0x36a41f){const _0x1d2b09=_0x1579df,_0x540de5=document[_0x1d2b09(0x632)](_0x1d2b09(0xc7));document[_0x1d2b09(0x632)](_0x1d2b09(0x436))[_0x1d2b09(0xf3)]=_0x1d2b09(0x517)+_0x36a41f,!_0x4ebcdd||_0x4ebcdd[_0x1d2b09(0x783)]===0x0?(_0x540de5[_0x1d2b09(0x581)]=_0x1d2b09(0x3c4),startQuizBtn[_0x1d2b09(0xd7)]=!![]):(_0x540de5['innerHTML']=_0x1d2b09(0x80b),_0x4ebcdd['forEach'](_0x1e3566=>{const _0x25513d=_0x1d2b09,_0x42335f=document[_0x25513d(0x42f)]('option');_0x42335f['value']=_0x1e3566,_0x42335f[_0x25513d(0xf3)]=_0x1e3566,_0x540de5[_0x25513d(0x38f)](_0x42335f);}),startQuizBtn[_0x1d2b09(0xd7)]=![]),studentInitialView[_0x1d2b09(0x635)][_0x1d2b09(0x8c5)]('hidden'),studentNameSelectionView[_0x1d2b09(0x635)]['remove'](_0x1d2b09(0x99e));}function shuffleArray(_0xc19ac8){const _0xa52e23=_0x1579df;for(let _0xcd022f=_0xc19ac8[_0xa52e23(0x783)]-0x1;_0xcd022f>0x0;_0xcd022f--){const _0x4498c0=Math[_0xa52e23(0x1e3)](Math[_0xa52e23(0x4fa)]()*(_0xcd022f+0x1));[_0xc19ac8[_0xcd022f],_0xc19ac8[_0x4498c0]]=[_0xc19ac8[_0x4498c0],_0xc19ac8[_0xcd022f]];}}function getShuffledQuiz(_0x4c8117){const _0x5e2f20=_0x1579df;let _0x5d9f90=JSON[_0x5e2f20(0xf8)](JSON[_0x5e2f20(0x3c5)](_0x4c8117));const _0x1a2b54=_0x5d9f90[_0x5e2f20(0x8b9)]?.[_0x5e2f20(0x1d5)]||_0x5e2f20(0x900);if(_0x1a2b54===_0x5e2f20(0x900))return _0x5d9f90;return(_0x1a2b54===_0x5e2f20(0x2a0)||_0x1a2b54==='both')&&shuffleArray(_0x5d9f90['questions']),(_0x1a2b54===_0x5e2f20(0x12e)||_0x1a2b54===_0x5e2f20(0x5fe))&&_0x5d9f90[_0x5e2f20(0x88e)]['forEach'](_0x4b2a4e=>{const _0xdd7415=_0x5e2f20,_0x76456e=_0x4b2a4e[_0xdd7415(0x54a)]||_0x5d9f90[_0xdd7415(0x9af)];if(_0x4b2a4e[_0xdd7415(0x518)]){let _0x159fbb=_0x4b2a4e[_0xdd7415(0x518)]['map']((_0x3a7083,_0xb912f5)=>({'text':_0x3a7083,'isCorrect':_0xb912f5===_0x4b2a4e[_0xdd7415(0x48f)]}));shuffleArray(_0x159fbb),_0x4b2a4e['options']=_0x159fbb[_0xdd7415(0x931)](_0x1be9a7=>_0x1be9a7['text']),_0x4b2a4e[_0xdd7415(0x48f)]=_0x159fbb['findIndex'](_0x32a48a=>_0x32a48a[_0xdd7415(0x304)]);}_0x76456e===_0xdd7415(0x357)&&_0x4b2a4e[_0xdd7415(0x15f)]&&shuffleArray(_0x4b2a4e[_0xdd7415(0x15f)]);}),_0x5d9f90;}function displayQuizForStudent(_0x5005a9){const _0x29c518=_0x1579df;studentQuizArea['classList'][_0x29c518(0x74c)](_0x29c518(0x99e)),currentDisplayedQuiz=getShuffledQuiz(_0x5005a9);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x29c518(0x3eb),handleFullscreenChange),document[_0x29c518(0x6a9)](_0x29c518(0x755),handleVisibilityChange),enterFullscreen(),window[_0x29c518(0x6a9)](_0x29c518(0x4cc),resetDimTimer),window[_0x29c518(0x6a9)](_0x29c518(0x5f3),resetDimTimer),window[_0x29c518(0x6a9)](_0x29c518(0x3c3),resetDimTimer),window['addEventListener'](_0x29c518(0x1a4),resetDimTimer),resetDimTimer());const _0x3e3e9f=currentDisplayedQuiz[_0x29c518(0x8b9)]?.[_0x29c518(0xca)]||_0x29c518(0x900);if(_0x3e3e9f===_0x29c518(0x21b))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x29c518(0x8b9)]['timerDuration']);else _0x3e3e9f===_0x29c518(0x27b)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x480001=_0x1579df;let _0x39dfe9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x480001(0x9b2)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x480001(0x89c)?_0x480001(0x7d4):'')+_0x480001(0x458);currentDisplayedQuiz[_0x480001(0x88e)][_0x480001(0x2fb)]((_0xeb2581,_0x1fc265)=>{const _0x58952f=_0x480001,_0x55752b=_0xeb2581[_0x58952f(0x54a)]||currentDisplayedQuiz[_0x58952f(0x9af)];_0x39dfe9+=_0x58952f(0x7fd);_0x55752b===_0x58952f(0x357)?_0x39dfe9+=_0x58952f(0x121)+(_0x1fc265+0x1)+'.\x20'+_0xeb2581[_0x58952f(0x36b)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x1fc265+_0x58952f(0x5c2)+_0xeb2581[_0x58952f(0x15f)][_0x58952f(0x931)](_0x5b8be8=>_0x58952f(0x322)+_0x5b8be8+'\x22>'+_0x5b8be8+_0x58952f(0x987))[_0x58952f(0x7b1)]('')+_0x58952f(0x8f3):(_0x39dfe9+=_0x58952f(0x185)+(_0x1fc265+0x1)+'.\x20'+(_0xeb2581[_0x58952f(0x83c)]||_0xeb2581[_0x58952f(0x2b6)])+_0x58952f(0x58b),_0xeb2581[_0x58952f(0x137)]&&(_0x39dfe9+=_0x58952f(0x472)+_0xeb2581['imageCode']+_0x58952f(0x49d)));_0x39dfe9+=_0x58952f(0x28f);switch(_0x55752b){case _0x58952f(0x236):_0x39dfe9+='<textarea\x20name=\x22question'+_0x1fc265+_0x58952f(0x5e8);break;case _0x58952f(0x958):_0x39dfe9+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x1fc265+_0x58952f(0x175)+_0x1fc265+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x1fc265+_0x58952f(0x141),_0x39dfe9+=_0x58952f(0x693)+_0x1fc265+'_opt1\x22\x20name=\x22question'+_0x1fc265+_0x58952f(0x39f)+_0x1fc265+_0x58952f(0x73c);break;case _0x58952f(0x357):break;case'fill_in_the_blank':case _0x58952f(0x34f):default:_0x39dfe9+=_0xeb2581[_0x58952f(0x518)][_0x58952f(0x931)]((_0xe90e42,_0xc66edf)=>_0x58952f(0x75e)+_0x1fc265+_0x58952f(0x5d2)+_0xc66edf+_0x58952f(0x767)+_0x1fc265+_0x58952f(0x87f)+_0xc66edf+_0x58952f(0x152)+_0x1fc265+_0x58952f(0x5d2)+_0xc66edf+'\x22>'+_0xe90e42+_0x58952f(0x69e))[_0x58952f(0x7b1)]('');break;}_0x39dfe9+=_0x58952f(0x540);}),_0x39dfe9+=_0x480001(0x634),_0x39dfe9+=_0x480001(0x4ee),studentQuizArea[_0x480001(0x581)]=_0x39dfe9;if(currentMode==='admin-testing'){const _0xeafd8f=document[_0x480001(0x632)](_0x480001(0x600));if(_0xeafd8f)_0xeafd8f[_0x480001(0x6a9)](_0x480001(0x379),cancelAdminTest);}document['getElementById'](_0x480001(0x2d0))[_0x480001(0x6a9)](_0x480001(0x51c),handleSubmitQuiz);if(window[_0x480001(0x1c5)])window[_0x480001(0x1c5)][_0x480001(0x2ab)]([studentQuizArea]);}async function handleSubmitQuiz(_0x3a1768){const _0x4d7807=_0x1579df;if(_0x3a1768)_0x3a1768[_0x4d7807(0x93c)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x360d79=document[_0x4d7807(0x632)]('quiz-form');if(!_0x360d79)return;const _0x3fbb4e=_0x360d79[_0x4d7807(0x20a)]('button[type=\x22submit\x22]'),_0x1a9731=currentDisplayedQuiz['questions'][_0x4d7807(0x9a1)](_0x2def0e=>_0x2def0e[_0x4d7807(0x54a)]===_0x4d7807(0x236));_0x3fbb4e&&(_0x3fbb4e['disabled']=!![],_0x1a9731?_0x3fbb4e[_0x4d7807(0x581)]=_0x4d7807(0xc3):_0x3fbb4e[_0x4d7807(0x581)]=_0x4d7807(0x22c));const _0x5c1b30=new FormData(_0x360d79),_0x25850b=currentDisplayedQuiz['questions']['map']((_0x666053,_0x1cfe51)=>{const _0x6798c6=_0x4d7807,_0x3f60f5=_0x666053['questionType']||currentDisplayedQuiz[_0x6798c6(0x9af)],_0x3b97b5=_0x5c1b30[_0x6798c6(0x480)]('question'+_0x1cfe51);if(_0x3b97b5!==null&&_0x3b97b5!==undefined){if(_0x3f60f5===_0x6798c6(0x34f)||_0x3f60f5===_0x6798c6(0xb4))return parseInt(_0x3b97b5);return _0x3b97b5;}return null;}),_0x53208b=currentQuizData['id'],_0x26e787=doc(db,_0x4d7807(0x88d)+appId+_0x4d7807(0x2c9)+_0x53208b+_0x4d7807(0x367),currentStudentName),_0x30916e=await getDoc(_0x26e787),_0xebb1a4=_0x30916e['exists']()?_0x30916e[_0x4d7807(0x844)]():{},_0x1a13a7=_0xebb1a4[_0x4d7807(0x157)]||[];await processAndSubmitAnswers(_0x25850b,_0x1a13a7);}async function gradeShortAnswerWithAI(_0x1df028,_0x10e8ed){const _0x216698=_0x1579df;if(!_0x1df028||!_0x10e8ed)return![];try{const _0x24d123=_0x216698(0x14d)+_0x1df028+'\x22.\x20Ideal\x20Answer:\x20\x22'+_0x10e8ed+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x287ec7={'contents':[{'role':'user','parts':[{'text':_0x24d123}]}]},_0x3c5167=_0x216698(0x4f6),_0x56b3a0=_0x216698(0x377)+_0x3c5167,_0x493962=await fetch(_0x56b3a0,{'method':'POST','headers':{'Content-Type':_0x216698(0x7c0)},'body':JSON['stringify'](_0x287ec7)});if(!_0x493962['ok'])throw new Error(_0x216698(0x11e));const _0x19d5d7=await _0x493962[_0x216698(0x872)](),_0x21a619=_0x19d5d7[_0x216698(0x30a)][0x0]['content'][_0x216698(0x954)][0x0]['text'][_0x216698(0x3d4)]()[_0x216698(0x7f9)]();return _0x21a619===_0x216698(0x21a);}catch(_0x358dc7){return console[_0x216698(0x962)](_0x216698(0x7ff),_0x358dc7),![];}}async function processAndSubmitAnswers(_0x596811,_0x5ddcf6){const _0x50009d=_0x1579df;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x50009d(0x333)](_0x50009d(0x3eb),handleFullscreenChange),document[_0x50009d(0x333)](_0x50009d(0x755),handleVisibilityChange);let _0x1ff47f=0x0,_0x415033=0x0,_0x4ea580=[];const _0x262c41=[],_0x1c3d38=currentDisplayedQuiz[_0x50009d(0x88e)][_0x50009d(0x783)];let _0x21a1da=0x0;const _0x3eaf2c=currentDisplayedQuiz[_0x50009d(0x88e)];for(let _0x5e18d3=0x0;_0x5e18d3<_0x3eaf2c[_0x50009d(0x783)];_0x5e18d3++){const _0x463572=_0x3eaf2c[_0x5e18d3],_0x3f395d=_0x596811[_0x5e18d3],_0x39484f=_0x463572[_0x50009d(0x54a)]||currentDisplayedQuiz[_0x50009d(0x9af)];let _0x21ea7a=![];if(_0x3f395d!==null&&_0x3f395d!=='')switch(_0x39484f){case'matching_item':_0x21ea7a=_0x3f395d===_0x463572[_0x50009d(0x329)];break;case _0x50009d(0x958):const _0x503f4d=_0x3f395d===!![]||_0x3f395d===_0x50009d(0x21a);_0x21ea7a=_0x503f4d===_0x463572['correctAnswer'];break;case _0x50009d(0x236):_0x21ea7a=await gradeShortAnswer(_0x3f395d,_0x463572);break;case'multiple_choice':default:_0x21ea7a=Number(_0x3f395d)===_0x463572[_0x50009d(0x48f)];break;}_0x21ea7a?(_0x1ff47f++,_0x21a1da++,_0x21a1da===0x3&&(_0x4ea580['push'](BADGES[_0x50009d(0x7af)]['id']),_0x21a1da=0x0)):_0x21a1da=0x0;let _0x59bb74=null;_0x463572[_0x50009d(0x518)]&&_0x3f395d!==null&&(_0x59bb74=_0x463572[_0x50009d(0x518)][_0x3f395d]),_0x262c41[_0x50009d(0x995)]({'questionId':_0x463572['id'],'answer':_0x3f395d,'answerText':_0x59bb74,'isCorrect':_0x21ea7a,'originalQuestionText':_0x463572[_0x50009d(0x36b)]||_0x463572[_0x50009d(0x2b6)]});}_0x415033=_0x1ff47f*0xa;_0x1ff47f===_0x1c3d38&&_0x1c3d38>0x0&&!currentDisplayedQuiz['isRemedial']&&(_0x415033+=0x32,_0x4ea580[_0x50009d(0x995)](BADGES[_0x50009d(0x7b2)]['id']));const _0x10c925=currentDisplayedQuiz[_0x50009d(0x8b9)]?.[_0x50009d(0x569)]??Math[_0x50009d(0x1e3)](_0x1c3d38/0x2),_0x186e95=currentDisplayedQuiz[_0x50009d(0x8b9)]?.[_0x50009d(0xca)];if(_0x186e95===_0x50009d(0x21b)&&quizStartTime){const _0x254342=(new Date()-quizStartTime)/0x3e8,_0x218a7c=currentDisplayedQuiz[_0x50009d(0x8b9)][_0x50009d(0x2e6)]*0x3c;_0x1ff47f>=_0x10c925&&_0x254342<_0x218a7c/0x2&&(_0x415033+=0x14,_0x4ea580['push'](BADGES[_0x50009d(0x8b3)]['id']));}_0x5ddcf6['length']===0x0&&_0x1ff47f===_0x1c3d38&&_0x1c3d38>0x0&&_0x4ea580[_0x50009d(0x995)](BADGES[_0x50009d(0x5e1)]['id']);if(_0x5ddcf6[_0x50009d(0x783)]>0x0){const _0x2fa5a7=_0x5ddcf6[0x0][_0x50009d(0x948)];if(_0x2fa5a7<_0x10c925&&_0x1ff47f>=_0x10c925){const _0x4237ad=_0x5ddcf6[_0x50009d(0x9a1)](_0x41e597=>(_0x41e597[_0x50009d(0x48d)]||[])[_0x50009d(0x29b)](BADGES[_0x50009d(0x2d8)]['id']));!_0x4237ad&&_0x4ea580[_0x50009d(0x995)](BADGES[_0x50009d(0x2d8)]['id']);}}_0x5ddcf6[_0x50009d(0x783)]===0x4&&_0x4ea580[_0x50009d(0x995)](BADGES[_0x50009d(0x464)]['id']);const _0x659fbc=currentDisplayedQuiz['settings']['resultsDisplay'];if(currentMode===_0x50009d(0x89c)){handleResultDisplay(_0x659fbc,_0x1ff47f,_0x415033,_0x4ea580,_0x262c41,_0x1c3d38);return;}const _0x9d603a=currentQuizData['id'],_0x509d4d=doc(db,_0x50009d(0x88d)+appId+_0x50009d(0x2c9)+_0x9d603a+_0x50009d(0x367),currentStudentName);try{const _0x58b9ce=[..._0x5ddcf6],_0x566c68={'score':_0x1ff47f,'points':_0x415033,'badges':_0x4ea580,'submittedAt':new Date()[_0x50009d(0x883)](),'answers':_0x262c41};_0x58b9ce[_0x50009d(0x995)](_0x566c68);const _0x32ef56=_0x5ddcf6[_0x50009d(0x783)]===0x0?_0x1ff47f:_0x5ddcf6[0x0][_0x50009d(0x948)]||0x0,_0xa1bc55=Math[_0x50009d(0x7a0)](..._0x58b9ce['map'](_0x4a8672=>_0x4a8672[_0x50009d(0x948)])),_0x2477b1=_0x1ff47f,_0x45b32c=_0x566c68[_0x50009d(0x10c)];await setDoc(_0x509d4d,{'studentName':currentStudentName,'totalQuestions':_0x1c3d38,'attempts':_0x58b9ce,'firstScore':_0x32ef56,'bestScore':_0xa1bc55,'latestScore':_0x2477b1,'points':_0x415033,'latestSubmittedAt':_0x45b32c},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x50009d(0x80a)],currentStudentName),handleResultDisplay(_0x659fbc,_0x1ff47f,_0x415033,_0x4ea580,_0x262c41,_0x1c3d38);}catch(_0x2386a0){console['error'](_0x50009d(0x363),_0x2386a0),showMessage(_0x50009d(0x8a0));}}async function updateStudentProfile(_0x49f6b4,_0x47ef28){const _0x517aad=_0x1579df,_0x25a460=doc(db,_0x517aad(0x88d)+appId+_0x517aad(0x5a9)+_0x49f6b4+_0x517aad(0x1f5),_0x47ef28);try{const _0x17a972=query(collection(db,_0x517aad(0x88d)+appId+_0x517aad(0x207)),where(_0x517aad(0x80a),'==',_0x49f6b4)),_0x160e39=await getDocs(_0x17a972),_0x8f4a87=new Map(_0x160e39[_0x517aad(0x6b3)]['map'](_0x594e45=>[_0x594e45['id'],_0x594e45[_0x517aad(0x844)]()])),_0x1be95a=Array['from'](_0x8f4a87[_0x517aad(0x4cf)]());await runTransaction(db,async _0x250169=>{const _0x1a1927=_0x517aad;let _0x2fbb95=0x0;const _0x36c86f={};let _0xdac1fc=!![],_0x529bf9=0x0,_0x489f58=0x0;for(const _0x1306db of _0x1be95a){const _0x27b4f6=_0x8f4a87['get'](_0x1306db),_0x4a05aa=doc(db,'artifacts/'+appId+_0x1a1927(0x2c9)+_0x1306db+_0x1a1927(0x367),_0x47ef28),_0x181c8f=await _0x250169[_0x1a1927(0x480)](_0x4a05aa);if(_0x181c8f[_0x1a1927(0x3e1)]()){const _0x16cf00=_0x181c8f[_0x1a1927(0x844)](),_0x3a8341=_0x16cf00[_0x1a1927(0x157)]||[];if(_0x3a8341[_0x1a1927(0x783)]>0x0){const _0x11fa19=_0x3a8341[_0x1a1927(0x7d9)]((_0xb73767,_0x48f181)=>{const _0x2cfdd3=_0x1a1927;if(_0x48f181[_0x2cfdd3(0x948)]>_0xb73767[_0x2cfdd3(0x948)])return _0x48f181;if(_0x48f181[_0x2cfdd3(0x948)]===_0xb73767['score'])return(_0x48f181[_0x2cfdd3(0x8c6)]||0x0)>(_0xb73767[_0x2cfdd3(0x8c6)]||0x0)?_0x48f181:_0xb73767;return _0xb73767;},{'score':-0x1,'points':-0x1});_0x11fa19[_0x1a1927(0x948)]>-0x1&&(_0x2fbb95+=_0x11fa19['points']||0x0,(_0x11fa19[_0x1a1927(0x48d)]||[])[_0x1a1927(0x2fb)](_0x2bab1a=>{_0x36c86f[_0x2bab1a]=(_0x36c86f[_0x2bab1a]||0x0)+0x1;}));}}if(_0x27b4f6['topic']!==_0x1a1927(0x52d)){_0x489f58++;if(_0x181c8f[_0x1a1927(0x3e1)]()){_0x529bf9++;const _0x2ad82e=_0x181c8f[_0x1a1927(0x844)]();_0x2ad82e['bestScore']!==_0x2ad82e[_0x1a1927(0x86f)]&&(_0xdac1fc=![]);}else _0xdac1fc=![];}}_0x489f58>0x0&&_0x529bf9===_0x489f58&&_0xdac1fc?_0x36c86f[_0x1a1927(0x7ad)]=0x1:_0x36c86f[_0x1a1927(0x7ad)]=0x0,_0x250169[_0x1a1927(0x109)](_0x25a460,{'studentName':_0x47ef28,'totalPoints':_0x2fbb95,'unlockedBadges':Object['keys'](_0x36c86f)[_0x1a1927(0x34b)](_0x4c7719=>_0x36c86f[_0x4c7719]>0x0),'badgesCount':_0x36c86f},{'merge':!![]});});}catch(_0x17f877){console[_0x517aad(0x962)](_0x517aad(0x922),_0x17f877),showMessage(_0x517aad(0x479));}}function startAdminTest(){const _0x28b990=_0x1579df;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0xef7ba7=JSON['parse'](JSON[_0x28b990(0x3c5)](currentQuizData));currentMode=_0x28b990(0x89c),currentStudentName=_0x28b990(0x651),adminView['classList'][_0x28b990(0x8c5)](_0x28b990(0x99e)),studentView['classList'][_0x28b990(0x74c)](_0x28b990(0x99e)),studentInitialView[_0x28b990(0x635)][_0x28b990(0x8c5)](_0x28b990(0x99e)),studentNameSelectionView[_0x28b990(0x635)][_0x28b990(0x8c5)](_0x28b990(0x99e)),studentResultArea[_0x28b990(0x635)][_0x28b990(0x8c5)](_0x28b990(0x99e)),studentQuizArea[_0x28b990(0x635)][_0x28b990(0x74c)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0xef7ba7);}function handleResultDisplay(_0x48ed61,_0x39f964,_0x5379d6,_0x2bc480,_0x197afb,_0x20bf69){const _0x5a3375=_0x1579df;if(_0x48ed61===_0x5a3375(0x3bd)){displaySubmissionConfirmation();return;}const _0x24f88c=currentDisplayedQuiz[_0x5a3375(0x8b9)]?.[_0x5a3375(0x569)]??Math['floor'](_0x20bf69/0x2),_0x162467=currentDisplayedQuiz[_0x5a3375(0x8b9)]?.[_0x5a3375(0x37a)]??![],_0x42bbb8=currentDisplayedQuiz[_0x5a3375(0x8b9)]?.['loopUntilPass']===!![],_0x5c8b39=_0x39f964<_0x24f88c,_0x574daa=_0x48ed61===_0x5a3375(0x242)||_0x48ed61===_0x5a3375(0x959);if(_0x42bbb8&&_0x5c8b39&&!_0x574daa){_0x48ed61===_0x5a3375(0x96b)?displayResultsWithAnswers(_0x39f964,_0x5379d6,_0x2bc480,_0x197afb,_0x20bf69,!![]):displayLoopScreen(_0x39f964,_0x20bf69,_0x48ed61);return;}if(_0x162467&&_0x5c8b39){startAdaptiveFlow(_0x197afb,_0x39f964,_0x20bf69);return;}switch(_0x48ed61){case _0x5a3375(0x96b):displayResultsWithAnswers(_0x39f964,_0x5379d6,_0x2bc480,_0x197afb,_0x20bf69);break;case _0x5a3375(0x6f5):displayResultsScoreOnly(_0x39f964,_0x5379d6,_0x2bc480,_0x20bf69);break;case _0x5a3375(0x762):displayPassFailOnly(_0x39f964,_0x20bf69);break;case _0x5a3375(0x242):displayHalfMarkResult(_0x39f964,_0x20bf69);break;case _0x5a3375(0x959):displayPerfectScoreResult(_0x39f964,_0x20bf69);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x3e6838){const _0x13700d=_0x1579df;studentReadingArea[_0x13700d(0x581)]=_0x13700d(0x949);const _0x2cd082=_0x13700d(0x41d)+_0x3e6838+_0x13700d(0x826)+simpleMathPrompt+_0x13700d(0x8c7),_0x589e1a={'type':_0x13700d(0xb1),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x13700d(0x1e7)}},'correctAnswerIndex':{'type':_0x13700d(0x5c9)},'explanation':{'type':'STRING'}},'required':[_0x13700d(0x2b6),'options',_0x13700d(0x48f),_0x13700d(0x832)]},_0x363ff7={'type':'OBJECT','properties':{'topic':{'type':_0x13700d(0x1e7)},'questions':{'type':_0x13700d(0x926),'items':_0x589e1a}},'required':[_0x13700d(0x9b2),_0x13700d(0x88e)]};try{const _0x58ec9b=await callAnalysisApi(_0x2cd082,_0x363ff7);_0x58ec9b[_0x13700d(0x5e9)]=!![],studentReadingArea['classList'][_0x13700d(0x8c5)](_0x13700d(0x99e));const _0x31810d={...currentDisplayedQuiz[_0x13700d(0x8b9)],'isAdaptive':![],'resultsDisplay':_0x13700d(0x96b)};_0x58ec9b[_0x13700d(0x8b9)]=_0x31810d,displayQuizForStudent(_0x58ec9b);}catch(_0x15a83c){console['error'](_0x13700d(0x8c2),_0x15a83c),showMessage(_0x13700d(0x8dc)),showView(_0x13700d(0x1d7));}}function displayPassFailOnly(_0x73ac4c,_0x51eb60){const _0x2701d2=_0x1579df,_0xda3934=currentDisplayedQuiz[_0x2701d2(0x8b9)]?.[_0x2701d2(0x569)]??-0x1,_0xc1170d=currentDisplayedQuiz[_0x2701d2(0x5e9)]===!![];let _0x26c8e2='',_0x30847c=![];if(_0xc1170d||_0xda3934!==-0x1){_0x30847c=_0xc1170d?_0x73ac4c===_0x51eb60:_0x73ac4c>=_0xda3934;const _0x1ba4e2=_0x30847c?'bg-green-100\x20text-green-800':_0x2701d2(0x904),_0x3ee0fc=_0x30847c?_0x2701d2(0x44e):_0x2701d2(0x6be);_0x26c8e2=_0x2701d2(0x924)+_0x1ba4e2+'\x22>'+_0x3ee0fc+_0x2701d2(0x273);}else _0x26c8e2=_0x2701d2(0x5ed);let _0x3881d8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x26c8e2+_0x2701d2(0xda);studentResultArea[_0x2701d2(0x581)]=_0x3881d8,studentResultArea[_0x2701d2(0x635)]['remove']('hidden'),studentQuizArea[_0x2701d2(0x635)][_0x2701d2(0x8c5)](_0x2701d2(0x99e)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x30847c});}function cancelAdminTest(){const _0x5098c0=_0x1579df;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x5098c0(0x333)](_0x5098c0(0x3eb),handleFullscreenChange),document[_0x5098c0(0x333)](_0x5098c0(0x755),handleVisibilityChange),currentMode=_0x5098c0(0x935),studentView[_0x5098c0(0x635)][_0x5098c0(0x8c5)](_0x5098c0(0x99e)),adminView[_0x5098c0(0x635)][_0x5098c0(0x74c)](_0x5098c0(0x99e)),showView(_0x5098c0(0x978));}function setupResultScreenBackButton(_0x225614){const _0x31af4c=_0x1579df,_0x22898d={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x225614};if(_0x22898d[_0x31af4c(0x70d)]){const _0x541096=_0x31af4c(0x99c);studentResultArea[_0x31af4c(0x2cc)]('beforeend',_0x541096),document[_0x31af4c(0x632)]('retake-quiz-loop-btn')[_0x31af4c(0x6a9)](_0x31af4c(0x379),()=>{const _0x5f4add=_0x31af4c;studentResultArea['classList'][_0x5f4add(0x8c5)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4e2e63=_0x31af4c(0x936),_0x5c909a=currentMode===_0x31af4c(0x89c),_0x289eac=_0x5c909a?_0x31af4c(0x980):_0x31af4c(0x3ee);let _0x500a26='';_0x22898d[_0x31af4c(0x7f2)]&&(_0x500a26+=_0x31af4c(0x2b0));let _0x9b95ea=_0x22898d[_0x31af4c(0x567)];_0x9b95ea===undefined&&(_0x9b95ea=_0x22898d[_0x31af4c(0x948)]<_0x22898d[_0x31af4c(0x86f)]);_0x9b95ea&&(_0x500a26+=_0x31af4c(0x94d));_0x500a26+=_0x31af4c(0x5b0)+_0x4e2e63+_0x31af4c(0x93f)+_0x289eac+_0x31af4c(0x372);const _0x64e36c=_0x31af4c(0x361)+_0x500a26+_0x31af4c(0x49d);studentResultArea['insertAdjacentHTML']('beforeend',_0x64e36c),studentResultArea[_0x31af4c(0x20a)](_0x31af4c(0x94f))?.[_0x31af4c(0x6a9)](_0x31af4c(0x379),handleShowStudentRankings);const _0x299161=studentResultArea[_0x31af4c(0x20a)](_0x31af4c(0x502));_0x299161&&_0x299161['addEventListener'](_0x31af4c(0x379),()=>{const _0x5cffdf=_0x31af4c;studentResultArea[_0x5cffdf(0x635)][_0x5cffdf(0x8c5)](_0x5cffdf(0x99e)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x31af4c(0x632)](_0x4e2e63)[_0x31af4c(0x6a9)](_0x31af4c(0x379),()=>{const _0xc57d7d=_0x31af4c;_0x5c909a?(currentMode=_0xc57d7d(0x935),studentView['classList'][_0xc57d7d(0x8c5)](_0xc57d7d(0x99e)),adminView['classList']['remove'](_0xc57d7d(0x99e)),showView('project-detail')):(showView(_0xc57d7d(0x1d7)),document[_0xc57d7d(0x632)](_0xc57d7d(0x82b))[_0xc57d7d(0x3d7)]='');});}function displayResultsWithAnswers(_0x7e7d81,_0x41b729,_0x50cf7a,_0x41e43f,_0xb4f096,_0x18d906=![]){const _0x1ae55d=_0x1579df,_0x402562=_0xb4f096>0x0?_0x7e7d81/_0xb4f096*0x64:0x0,_0x2cc6e5=currentDisplayedQuiz['settings']?.[_0x1ae55d(0x569)]??-0x1,_0x598fce=currentDisplayedQuiz['isRemedial']===!![];let _0xb6aeee='';if(_0x598fce||_0x2cc6e5!==-0x1){let _0x26cbf3=_0x598fce?_0x7e7d81===_0xb4f096:_0x7e7d81>=_0x2cc6e5;const _0x5673ec=_0x26cbf3?_0x1ae55d(0x69f):_0x1ae55d(0x904),_0x358f08=_0x26cbf3?_0x1ae55d(0x44e):_0x1ae55d(0x6be);_0xb6aeee=_0x1ae55d(0x6e1)+_0x5673ec+'\x22>'+_0x358f08+_0x1ae55d(0x58b);}let _0xc009da=_0x1ae55d(0x8a6)+currentStudentName+_0x1ae55d(0x2d6)+_0x7e7d81+_0x1ae55d(0x668)+_0xb4f096+_0x1ae55d(0x838)+_0xb6aeee+_0x1ae55d(0x4fe)+_0x41b729+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x402562[_0x1ae55d(0x8b5)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x1ae55d(0x88e)][_0x1ae55d(0x2fb)]((_0x55c1da,_0x1490ff)=>{const _0xe396f2=_0x1ae55d,_0x15975e=_0x41e43f[_0x1490ff],_0x517267=_0x15975e[_0xe396f2(0x4ff)],_0xc24c93=_0x15975e['isCorrect'],_0x1fdae0=_0x55c1da[_0xe396f2(0x54a)]||currentDisplayedQuiz[_0xe396f2(0x9af)];_0xc009da+=_0xe396f2(0x178)+(_0xc24c93?_0xe396f2(0x4b8):_0xe396f2(0xd6))+_0xe396f2(0x254)+(_0x1490ff+0x1)+'.\x20'+(_0x55c1da['stem']||_0x55c1da[_0xe396f2(0x2b6)])+_0xe396f2(0x28b);switch(_0x1fdae0){case _0xe396f2(0x357):const _0x22dc5c=_0x517267||_0xe396f2(0x32f),_0x3bf43d=_0x55c1da[_0xe396f2(0x329)];_0xc009da+=_0xe396f2(0x681)+(!_0xc24c93?'line-through\x20text-red-700':'')+'\x22>'+_0x22dc5c+'</span></p>';!_0xc24c93&&(_0xc009da+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x3bf43d+_0xe396f2(0x58b));break;case _0xe396f2(0x236):_0xc009da+=_0xe396f2(0x719)+(_0x517267||'ไม่ได้ตอบ')+_0xe396f2(0x58b),_0xc009da+=_0xe396f2(0x482)+_0x55c1da[_0xe396f2(0x3ad)]+_0xe396f2(0x58b);break;case _0xe396f2(0x958):_0xc009da+=_0xe396f2(0x92d)+(_0x55c1da['correctAnswer']===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x517267==='true'&&!_0xc24c93?_0xe396f2(0x8a7):'')+_0xe396f2(0x28d),_0xc009da+='<p\x20class=\x22'+(_0x55c1da['correctAnswer']===![]?_0xe396f2(0x712):'')+'\x20'+(_0x517267===_0xe396f2(0x387)&&!_0xc24c93?_0xe396f2(0x8a7):'')+'\x22>ไม่ใช่</p>';break;default:_0xc009da+=_0x55c1da[_0xe396f2(0x518)][_0xe396f2(0x931)]((_0x309f89,_0x56edce)=>{const _0x22eb04=_0xe396f2;let _0x9aa45d='',_0xff1322='';if(_0x56edce===_0x55c1da[_0x22eb04(0x48f)])_0x9aa45d=_0x22eb04(0x712),_0xff1322=_0x22eb04(0x741);else _0x56edce===_0x517267&&(_0x9aa45d=_0x22eb04(0x21c),_0xff1322=_0x22eb04(0x23e));return _0x22eb04(0x3fa)+_0x9aa45d+'\x22>'+_0xff1322+_0x309f89+_0x22eb04(0x49d);})[_0xe396f2(0x7b1)]('');break;}_0xc009da+=_0xe396f2(0x4b6)+(_0x55c1da[_0xe396f2(0x832)]||_0xe396f2(0x630))+_0xe396f2(0x49d);if(!_0xc24c93){const _0x3e0cb1=_0x55c1da[_0xe396f2(0x36b)]||_0x55c1da[_0xe396f2(0x2b6)];_0xc009da+=_0xe396f2(0x7b9)+escape(_0x3e0cb1)+_0xe396f2(0x17d);}_0xc009da+='</div>';}),studentResultArea[_0x1ae55d(0x581)]=_0xc009da,renderEarnedBadges(_0x50cf7a,_0x1ae55d(0x511)),studentResultArea[_0x1ae55d(0x635)]['remove'](_0x1ae55d(0x99e)),studentQuizArea[_0x1ae55d(0x635)]['add']('hidden'),setupResultScreenBackButton({'isLooping':_0x18d906,'score':_0x7e7d81,'totalQuestions':_0xb4f096,'showRankings':!![]});if(window[_0x1ae55d(0x1c5)])window[_0x1ae55d(0x1c5)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x50aa55,_0x3ad024,_0x2ebb51,_0x1e7299){const _0xd92736=_0x1579df,_0x565681=_0x1e7299>0x0?_0x50aa55/_0x1e7299*0x64:0x0,_0x9e9241=currentDisplayedQuiz['settings']?.[_0xd92736(0x569)]??-0x1,_0x475e82=currentDisplayedQuiz['isRemedial']===!![];let _0x428643='';if(_0x475e82||_0x9e9241!==-0x1){let _0x27ba74=_0x475e82?_0x50aa55===_0x1e7299:_0x50aa55>=_0x9e9241;const _0x47b247=_0x27ba74?'bg-green-100\x20text-green-800':_0xd92736(0x904),_0x549636=_0x27ba74?_0xd92736(0x44e):'ไม่ผ่าน';_0x428643=_0xd92736(0x6e1)+_0x47b247+'\x22>'+_0x549636+_0xd92736(0x58b);}let _0x2127fd=_0xd92736(0x89e)+currentStudentName+_0xd92736(0x208)+_0x50aa55+_0xd92736(0x269)+_0x1e7299+_0xd92736(0x838)+_0x428643+_0xd92736(0x4fe)+_0x3ad024+_0xd92736(0x2dc)+_0x565681[_0xd92736(0x8b5)](0x0)+_0xd92736(0x66d);studentResultArea[_0xd92736(0x581)]=_0x2127fd,renderEarnedBadges(_0x2ebb51,_0xd92736(0x511)),studentResultArea[_0xd92736(0x635)][_0xd92736(0x74c)](_0xd92736(0x99e)),studentQuizArea['classList']['add'](_0xd92736(0x99e)),setupResultScreenBackButton({'score':_0x50aa55,'totalQuestions':_0x1e7299,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x19e7a0=_0x1579df;let _0x183db0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x19e7a0(0x240);studentResultArea[_0x19e7a0(0x581)]=_0x183db0,studentResultArea[_0x19e7a0(0x635)][_0x19e7a0(0x74c)](_0x19e7a0(0x99e)),studentQuizArea[_0x19e7a0(0x635)][_0x19e7a0(0x8c5)]('hidden'),document['getElementById'](_0x19e7a0(0x591))[_0x19e7a0(0x6a9)](_0x19e7a0(0x379),()=>{const _0x16e9c6=_0x19e7a0;showView(_0x16e9c6(0x1d7)),document[_0x16e9c6(0x632)]('quiz-id-input')['value']='';});}function renderEarnedBadges(_0xeecbc3,_0x5910e6){const _0x57a35a=_0x1579df,_0xdea3ed=document[_0x57a35a(0x632)](_0x5910e6);if(!_0xdea3ed||!_0xeecbc3||_0xeecbc3[_0x57a35a(0x783)]===0x0)return;let _0x168b43='';_0xeecbc3[_0x57a35a(0x2fb)]((_0x444b0b,_0x5c0546)=>{const _0x24f002=_0x57a35a,_0x581f52=Object[_0x24f002(0x373)](BADGES)['find'](_0x4e72a7=>_0x4e72a7['id']===_0x444b0b);_0x581f52&&(_0x168b43+=_0x24f002(0x785)+_0x5c0546*0.2+_0x24f002(0x808)+_0x581f52[_0x24f002(0x54b)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x581f52[_0x24f002(0x3d5)]+_0x24f002(0xf9)+_0x581f52[_0x24f002(0x9a5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0xdea3ed[_0x57a35a(0x581)]=_0x168b43;}function startPresentation(_0x514136){const _0x170bbd=_0x1579df;currentQuizData=getShuffledQuiz(_0x514136),currentPresentationSlide=0x0,presentationModal['style']['display']=_0x170bbd(0x87a),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x539af6=_0x1579df;document[_0x539af6(0x675)]&&document[_0x539af6(0x98a)](),presentationModal[_0x539af6(0x86d)][_0x539af6(0x371)]=_0x539af6(0x900);}function renderPresentationSlide(_0x40f263){const _0x20b738=_0x1579df,_0x2ba14a=document[_0x20b738(0x632)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x20b738(0x88e)]||!currentQuizData['questions'][_0x40f263]){_0x2ba14a[_0x20b738(0x581)]=_0x20b738(0x9ae);return;}const _0x56dfca=currentQuizData[_0x20b738(0x88e)][_0x40f263],_0x20d55b=_0x56dfca[_0x20b738(0x54a)]||currentQuizData['quizType'];_0x2ba14a[_0x20b738(0x581)]='';let _0x2c9d79='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x56dfca[_0x20b738(0x137)]?_0x20b738(0x472)+_0x56dfca[_0x20b738(0x137)]+_0x20b738(0x49d):'')+_0x20b738(0x8bd)+(_0x40f263+0x1)+'.\x20'+(_0x56dfca[_0x20b738(0x36b)]||_0x56dfca[_0x20b738(0x2b6)])+_0x20b738(0x4f3);switch(_0x20d55b){case _0x20b738(0x357):_0x2c9d79+=_0x56dfca[_0x20b738(0x15f)][_0x20b738(0x931)](_0xe538b=>_0x20b738(0x777)+_0xe538b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x20b738(0x7b1)]('');break;case _0x20b738(0x958):_0x2c9d79+=_0x20b738(0x575),_0x2c9d79+=_0x20b738(0x42b);break;case'fill_in_no_choices':case _0x20b738(0x236):_0x2c9d79+=_0x20b738(0x439);break;case _0x20b738(0xb4):case'multiple_choice':default:_0x2c9d79+=_0x56dfca[_0x20b738(0x518)]['map']((_0x3154b0,_0x12b3ab)=>_0x20b738(0x803)+_0x12b3ab+_0x20b738(0x997)+_0x3154b0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x20b738(0x7b1)]('');break;}_0x2c9d79+=_0x20b738(0x10e)+(_0x56dfca[_0x20b738(0x832)]||_0x20b738(0x630))+_0x20b738(0x4dc),_0x2ba14a[_0x20b738(0x581)]=_0x2c9d79;if(window[_0x20b738(0x1c5)])window[_0x20b738(0x1c5)]['typesetPromise']([_0x2ba14a]);let _0xb5c8f7=[];switch(_0x20d55b){case _0x20b738(0x357):_0xb5c8f7=_0x56dfca[_0x20b738(0x15f)]||[];break;case _0x20b738(0x958):_0xb5c8f7=[_0x20b738(0x282),_0x20b738(0x8d9)];break;default:_0xb5c8f7=_0x56dfca[_0x20b738(0x518)]||[];break;}const _0x426ee8=document[_0x20b738(0x632)](_0x20b738(0x942));_0x426ee8&&(_0x426ee8[_0x20b738(0x24d)]=()=>{openScratchpad(_0x56dfca,_0xb5c8f7);});document[_0x20b738(0x37d)](_0x20b738(0x400))['forEach'](_0x1b9cbe=>{const _0x2aa000=_0x20b738;_0x1b9cbe[_0x2aa000(0x6a9)](_0x2aa000(0x379),_0x357846=>revealAnswerForPresentation(_0x40f263,_0x357846['currentTarget']));});const _0x409062=document[_0x20b738(0x632)](_0x20b738(0x2ad));_0x409062&&_0x409062[_0x20b738(0x6a9)](_0x20b738(0x379),()=>checkShortAnswerForPresentation(_0x40f263)),document[_0x20b738(0x632)](_0x20b738(0x6ea))[_0x20b738(0xf3)]=_0x20b738(0x8ff)+(_0x40f263+0x1)+_0x20b738(0x8f8)+currentQuizData[_0x20b738(0x88e)]['length'],document[_0x20b738(0x632)](_0x20b738(0x674))['disabled']=_0x40f263===0x0,document['getElementById'](_0x20b738(0x7ac))['disabled']=_0x40f263===currentQuizData['questions'][_0x20b738(0x783)]-0x1;}async function checkShortAnswerForPresentation(_0x3e86eb){const _0x48b1ea=_0x1579df,_0x31f36a=currentQuizData[_0x48b1ea(0x88e)][_0x3e86eb],_0x503c6b=document[_0x48b1ea(0x632)](_0x48b1ea(0x1ca)),_0x544f97=document[_0x48b1ea(0x632)](_0x48b1ea(0x2ad)),_0x363228=document['getElementById'](_0x48b1ea(0x862)),_0xa27a44=document[_0x48b1ea(0x632)]('presentation-explanation');if(!_0x503c6b||!_0x544f97||!_0x363228||!_0xa27a44)return;const _0x3d287d=_0x503c6b[_0x48b1ea(0x3d7)][_0x48b1ea(0x3d4)]();if(_0x3d287d==='')return;_0x544f97[_0x48b1ea(0xd7)]=!![],_0x544f97[_0x48b1ea(0x581)]=_0x48b1ea(0x519),_0x503c6b[_0x48b1ea(0xd7)]=!![];const _0x290e29=await gradeShortAnswer(_0x3d287d,_0x31f36a);_0x290e29?_0x363228[_0x48b1ea(0x581)]=_0x48b1ea(0x8e5):_0x363228['innerHTML']='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x31f36a[_0x48b1ea(0x3ad)]+')',_0x363228[_0x48b1ea(0x635)][_0x48b1ea(0x74c)](_0x48b1ea(0x99e)),_0xa27a44[_0x48b1ea(0x635)][_0x48b1ea(0x74c)](_0x48b1ea(0x99e)),_0x544f97[_0x48b1ea(0x635)][_0x48b1ea(0x8c5)]('hidden');}function revealAnswerForPresentation(_0x381b9c,_0x35d47f){const _0x9c4019=_0x1579df,_0x124729=currentQuizData[_0x9c4019(0x88e)][_0x381b9c],_0x21ac66=_0x124729[_0x9c4019(0x54a)]||currentQuizData['quizType'];document['querySelectorAll']('.presentation-option')[_0x9c4019(0x2fb)](_0x2be6db=>{const _0x37b167=_0x9c4019;_0x2be6db['disabled']=!![],_0x2be6db[_0x37b167(0x635)][_0x37b167(0x74c)](_0x37b167(0x2fc));let _0x146e12=![];if(_0x21ac66==='multiple_choice'||_0x21ac66===_0x37b167(0xb4)){const _0x57c70f=parseInt(_0x2be6db[_0x37b167(0x6de)][_0x37b167(0x62f)]);_0x146e12=_0x57c70f===_0x124729[_0x37b167(0x48f)];}else{if(_0x21ac66===_0x37b167(0x958)){const _0x312019=_0x2be6db[_0x37b167(0x6de)][_0x37b167(0x4ff)]===_0x37b167(0x21a);_0x146e12=_0x312019===_0x124729[_0x37b167(0x7d0)];}else _0x21ac66==='matching_item'&&(_0x146e12=_0x2be6db[_0x37b167(0xf3)][_0x37b167(0x3d4)]()===_0x124729['correctResponse']);}_0x146e12?_0x2be6db[_0x37b167(0x635)][_0x37b167(0x8c5)]('bg-green-500','text-white',_0x37b167(0x337)):_0x2be6db['classList'][_0x37b167(0x8c5)](_0x37b167(0x308));}),_0x35d47f[_0x9c4019(0x635)][_0x9c4019(0x74c)]('opacity-50');let _0x18430a=![];if(_0x21ac66===_0x9c4019(0x34f))_0x18430a=parseInt(_0x35d47f[_0x9c4019(0x6de)][_0x9c4019(0x62f)])===_0x124729[_0x9c4019(0x48f)];else{if(_0x21ac66==='true_false')_0x18430a=_0x35d47f[_0x9c4019(0x6de)][_0x9c4019(0x4ff)]===_0x9c4019(0x21a)===_0x124729[_0x9c4019(0x7d0)];else _0x21ac66===_0x9c4019(0x357)&&(_0x18430a=_0x35d47f[_0x9c4019(0xf3)][_0x9c4019(0x3d4)]()===_0x124729[_0x9c4019(0x329)]);}!_0x18430a&&_0x35d47f[_0x9c4019(0x635)][_0x9c4019(0x8c5)]('bg-red-500','text-white',_0x9c4019(0x348)),document[_0x9c4019(0x632)](_0x9c4019(0x297))[_0x9c4019(0x635)]['remove'](_0x9c4019(0x99e));}function startWholeQuizTimer(_0xb9177f){const _0x5ebd78=_0x1579df,_0x3a8288=document[_0x5ebd78(0x632)](_0x5ebd78(0x193));if(!_0x3a8288)return;const _0x2340b4=Date[_0x5ebd78(0x2da)]()+_0xb9177f*0x3c*0x3e8;_0x3a8288[_0x5ebd78(0x581)]=_0x5ebd78(0x323);const _0x476718=document[_0x5ebd78(0x632)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x2ebd4c=_0x5ebd78,_0x19a149=_0x2340b4-Date[_0x2ebd4c(0x2da)]();if(_0x19a149<=0x0)clearInterval(quizTimerInterval),_0x476718[_0x2ebd4c(0xf3)]=_0x2ebd4c(0x682),showMessage(_0x2ebd4c(0x314)),handleSubmitQuiz(null);else{const _0x5ecf93=Math[_0x2ebd4c(0x1e3)](_0x19a149/0x3e8/0x3c%0x3c)[_0x2ebd4c(0x994)]()[_0x2ebd4c(0x5ae)](0x2,'0'),_0x37c46e=Math[_0x2ebd4c(0x1e3)](_0x19a149/0x3e8%0x3c)[_0x2ebd4c(0x994)]()[_0x2ebd4c(0x5ae)](0x2,'0');_0x476718[_0x2ebd4c(0xf3)]=_0x5ecf93+':'+_0x37c46e;}},0x3e8);}function renderPerQuestionView(){const _0x22d320=_0x1579df;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x510683=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x4ceab4=_0x510683['questionType']||currentDisplayedQuiz[_0x22d320(0x9af)];let _0x4f1847=_0x22d320(0x53c)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x22d320(0x88e)][_0x22d320(0x783)]+_0x22d320(0x7cb)+(currentMode===_0x22d320(0x89c)?_0x22d320(0x7d4):'')+_0x22d320(0x542)+currentDisplayedQuiz[_0x22d320(0x9b2)]+_0x22d320(0x30c)+(currentQuestionIndex===currentDisplayedQuiz[_0x22d320(0x88e)][_0x22d320(0x783)]-0x1?_0x22d320(0x595):_0x22d320(0x220))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';studentQuizArea[_0x22d320(0x581)]=_0x4f1847;let _0x4342ea='',_0x28ebf4='';switch(_0x4ceab4){case'matching_item':_0x4342ea=currentQuestionIndex+0x1+'.\x20'+_0x510683[_0x22d320(0x36b)],_0x28ebf4=_0x22d320(0x49f)+_0x510683[_0x22d320(0x15f)][_0x22d320(0x931)](_0x45ef73=>_0x22d320(0x322)+_0x45ef73+'\x22>'+_0x45ef73+_0x22d320(0x987))[_0x22d320(0x7b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x22d320(0x958):_0x4342ea=currentQuestionIndex+0x1+'.\x20'+_0x510683[_0x22d320(0x2b6)],_0x28ebf4=_0x22d320(0x13b);break;case _0x22d320(0x236):case _0x22d320(0x7aa):_0x4342ea=currentQuestionIndex+0x1+'.\x20'+_0x510683[_0x22d320(0x2b6)],_0x28ebf4=_0x22d320(0xed);break;case _0x22d320(0x34f):case _0x22d320(0x966):default:_0x4342ea=currentQuestionIndex+0x1+'.\x20'+_0x510683[_0x22d320(0x2b6)],_0x28ebf4=_0x510683[_0x22d320(0x518)][_0x22d320(0x931)]((_0x160fbd,_0x4b3021)=>_0x22d320(0x28a)+_0x4b3021+_0x22d320(0x22d)+_0x4b3021+_0x22d320(0x8ba)+_0x4b3021+'\x22>'+_0x160fbd+_0x22d320(0x76f))[_0x22d320(0x7b1)]('');break;}_0x510683[_0x22d320(0x137)]&&(_0x4342ea+=_0x22d320(0x472)+_0x510683[_0x22d320(0x137)]+_0x22d320(0x49d));document[_0x22d320(0x632)](_0x22d320(0xba))[_0x22d320(0x581)]=_0x4342ea,document[_0x22d320(0x632)](_0x22d320(0x508))['innerHTML']=_0x28ebf4;if(currentMode===_0x22d320(0x89c)){const _0x3b4a24=document[_0x22d320(0x632)](_0x22d320(0x600));if(_0x3b4a24)_0x3b4a24[_0x22d320(0x6a9)](_0x22d320(0x379),cancelAdminTest);}document[_0x22d320(0x632)](_0x22d320(0x8eb))[_0x22d320(0x6a9)](_0x22d320(0x379),()=>handleNextQuestionInTimedMode(![]));if(window[_0x22d320(0x1c5)])window[_0x22d320(0x1c5)][_0x22d320(0x2ab)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x247eb0=_0x1579df,_0x5aa6b8=currentDisplayedQuiz['settings'][_0x247eb0(0x2e6)],_0x355f07=document[_0x247eb0(0x632)](_0x247eb0(0x647));if(!_0x355f07)return;let _0x151cd8=_0x5aa6b8;_0x355f07[_0x247eb0(0x581)]=_0x247eb0(0x5d3)+_0x151cd8+_0x247eb0(0x7b4);const _0x3bc8f6=document['getElementById']('timer-bar'),_0x401388=document[_0x247eb0(0x632)](_0x247eb0(0x6fb));perQuestionTimerInterval=setInterval(()=>{const _0x40ca9b=_0x247eb0;_0x151cd8--;const _0x186874=_0x151cd8/_0x5aa6b8*0x64;_0x3bc8f6[_0x40ca9b(0x86d)]['width']=_0x186874+'%',_0x401388['textContent']=_0x151cd8,_0x151cd8<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x40ca9b(0x620)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x16600a=![]){const _0x55e4dd=_0x1579df;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x247437=null;if(!_0x16600a){const _0x3911ed=currentDisplayedQuiz['questions'][currentQuestionIndex],_0xd78a25=_0x3911ed[_0x55e4dd(0x54a)]||currentDisplayedQuiz[_0x55e4dd(0x9af)];if(_0xd78a25===_0x55e4dd(0x236)||_0xd78a25===_0x55e4dd(0x7aa)){const _0x30b1c2=document[_0x55e4dd(0x20a)](_0x55e4dd(0xb7));_0x247437=_0x30b1c2?_0x30b1c2[_0x55e4dd(0x3d7)]['trim']():'';}else{if(_0xd78a25==='matching_item'){const _0x19c93a=document['querySelector'](_0x55e4dd(0x62d));_0x247437=_0x19c93a?_0x19c93a[_0x55e4dd(0x3d7)]:'';}else{const _0x24f792=document['querySelector'](_0x55e4dd(0x729));if(_0x24f792){const _0x31870e=_0x24f792[_0x55e4dd(0x3d7)];_0x247437=!isNaN(parseInt(_0x31870e,0xa))&&_0x31870e['trim']()!==''?parseInt(_0x31870e,0xa):_0x31870e;}}}}studentAnswersPerQuestion['push'](_0x247437),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x55e4dd(0x783)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0xa45e0=_0x1579df,_0x55fa4e=currentDisplayedQuiz[_0xa45e0(0x88e)]['some'](_0x379170=>_0x379170[_0xa45e0(0x54a)]===_0xa45e0(0x236));_0x55fa4e?showMessage(_0xa45e0(0x93b)):showMessage(_0xa45e0(0x6f0));const _0x8bad8a=currentQuizData['id'],_0x3830e1=doc(db,_0xa45e0(0x88d)+appId+_0xa45e0(0x2c9)+_0x8bad8a+_0xa45e0(0x367),currentStudentName),_0x3c4de4=await getDoc(_0x3830e1),_0x1d165e=_0x3c4de4[_0xa45e0(0x3e1)]()?_0x3c4de4['data']():{},_0x7a93fc=_0x1d165e[_0xa45e0(0x157)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x7a93fc);}function getResultsFilename(){const _0x5a75ef=_0x1579df,_0x355391=document[_0x5a75ef(0x632)](_0x5a75ef(0x48a))['textContent']['replace'](/[^a-z0-9]/gi,'_')[_0x5a75ef(0x7f9)]();return _0x5a75ef(0x2ca)+(_0x355391||'quiz');}function exportResultsAsImage(){const _0x172450=_0x1579df,_0x20288d=document['getElementById'](_0x172450(0x173));showMessage(_0x172450(0x99b)),html2canvas(_0x20288d)[_0x172450(0x787)](_0x182c0c=>{const _0x55865d=_0x172450,_0x58666f=document[_0x55865d(0x42f)]('a');_0x58666f[_0x55865d(0x22e)]=getResultsFilename()+'.png',_0x58666f[_0x55865d(0x2f5)]=_0x182c0c[_0x55865d(0x556)]('image/png'),_0x58666f[_0x55865d(0x379)](),messageModal['classList'][_0x55865d(0x8c5)](_0x55865d(0x99e));});}function exportResultsAsPDF(){const _0x35fc49=_0x1579df,{jsPDF:_0xe85328}=window['jspdf'],_0x19b6d1=new _0xe85328();_0x19b6d1[_0x35fc49(0x749)]('helvetica',_0x35fc49(0x52b)),_0x19b6d1[_0x35fc49(0x473)]({'html':_0x35fc49(0x5a0)}),_0x19b6d1[_0x35fc49(0xaf)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x516279=_0x1579df,_0x1cf55c=_0x516279(0x4ab)+_0x516279(0x90b)+_0x516279(0x139)+_0x516279(0x2bb),_0x176f4a=_0x516279(0x32a),_0x3fae87=_0x1cf55c+document[_0x516279(0x632)](_0x516279(0x173))[_0x516279(0x581)]+_0x176f4a,_0xd3167d=_0x516279(0x828)+encodeURIComponent(_0x3fae87),_0x224415=document[_0x516279(0x42f)]('a');document[_0x516279(0x708)]['appendChild'](_0x224415),_0x224415[_0x516279(0x2f5)]=_0xd3167d,_0x224415[_0x516279(0x22e)]=getResultsFilename()+_0x516279(0x7dd),_0x224415[_0x516279(0x379)](),document[_0x516279(0x708)]['removeChild'](_0x224415);}function exportResultsAsExcel(){const _0x455d94=_0x1579df,_0x286e52=document['getElementById'](_0x455d94(0x7a7));let _0x54f4e4=[];for(let _0x5514ce=0x0;_0x5514ce<_0x286e52[_0x455d94(0x1d3)][_0x455d94(0x783)];_0x5514ce++){let _0xe03ecd=[],_0x567817=_0x286e52[_0x455d94(0x1d3)][_0x5514ce][_0x455d94(0x37d)]('td,\x20th');for(let _0x1a9579=0x0;_0x1a9579<_0x567817[_0x455d94(0x783)];_0x1a9579++){_0xe03ecd['push']('\x22'+_0x567817[_0x1a9579][_0x455d94(0x31d)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x54f4e4[_0x455d94(0x995)](_0xe03ecd['join'](','));}const _0x2d31b4=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x54f4e4[_0x455d94(0x7b1)]('\x0a')],{'type':_0x455d94(0x7e1)}),_0x2dced2=document['createElement']('a');_0x2dced2[_0x455d94(0x2f5)]=URL[_0x455d94(0x8ec)](_0x2d31b4),_0x2dced2[_0x455d94(0x22e)]=getResultsFilename()+_0x455d94(0x782),_0x2dced2[_0x455d94(0x379)]();}function exportTableAsImage(_0x4773cc,_0x400923){const _0x1e817a=_0x1579df,_0xd3c7cf=document[_0x1e817a(0x632)](_0x4773cc);if(!_0xd3c7cf){showMessage(_0x1e817a(0x6e9));return;}showMessage(_0x1e817a(0x99b)),html2canvas(_0xd3c7cf)[_0x1e817a(0x787)](_0x216a89=>{const _0x3420f5=_0x1e817a,_0x6e70bb=document['createElement']('a');_0x6e70bb['download']=_0x400923+'.png',_0x6e70bb[_0x3420f5(0x2f5)]=_0x216a89[_0x3420f5(0x556)](_0x3420f5(0x8e9)),_0x6e70bb[_0x3420f5(0x379)](),messageModal[_0x3420f5(0x635)][_0x3420f5(0x8c5)]('hidden');});}function exportTableAsPDF(_0x49e726,_0x1165d5){const _0x4217a0=_0x1579df,{jsPDF:_0x120f37}=window[_0x4217a0(0x781)],_0x12d080=new _0x120f37();_0x12d080[_0x4217a0(0x749)](_0x4217a0(0x102),_0x4217a0(0x52b)),_0x12d080[_0x4217a0(0x473)]({'html':'#'+_0x49e726}),_0x12d080[_0x4217a0(0xaf)](_0x1165d5+_0x4217a0(0x427));}function exportTableAsWord(_0x6fdb43,_0x2e173c){const _0x455df8=_0x1579df,_0x445d3c=document['getElementById'](_0x6fdb43);if(!_0x445d3c){showMessage(_0x455df8(0x6e9));return;}const _0x2be14a=_0x455df8(0x4ab)+_0x455df8(0x90b)+_0x455df8(0x139)+_0x455df8(0x2bb),_0x542675=_0x455df8(0x32a),_0x4f0f77=_0x2be14a+_0x445d3c[_0x455df8(0x581)]+_0x542675,_0x3783e8=_0x455df8(0x828)+encodeURIComponent(_0x4f0f77),_0x4efbba=document[_0x455df8(0x42f)]('a');document[_0x455df8(0x708)][_0x455df8(0x38f)](_0x4efbba),_0x4efbba[_0x455df8(0x2f5)]=_0x3783e8,_0x4efbba[_0x455df8(0x22e)]=_0x2e173c+_0x455df8(0x7dd),_0x4efbba[_0x455df8(0x379)](),document[_0x455df8(0x708)][_0x455df8(0x530)](_0x4efbba);}function exportTableAsExcel(_0x551aae,_0x4d185c){const _0x5c2e0a=_0x1579df,_0x4d722d=document['getElementById'](_0x551aae);if(!_0x4d722d){showMessage(_0x5c2e0a(0x6e9));return;}let _0x14cca3=[];for(let _0x1b3580=0x0;_0x1b3580<_0x4d722d[_0x5c2e0a(0x1d3)][_0x5c2e0a(0x783)];_0x1b3580++){let _0x4cf2a3=[],_0x3f8fc8=_0x4d722d['rows'][_0x1b3580]['querySelectorAll']('td,\x20th');for(let _0x2e7b53=0x0;_0x2e7b53<_0x3f8fc8[_0x5c2e0a(0x783)];_0x2e7b53++){_0x4cf2a3[_0x5c2e0a(0x995)]('\x22'+_0x3f8fc8[_0x2e7b53][_0x5c2e0a(0x31d)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x14cca3[_0x5c2e0a(0x995)](_0x4cf2a3['join'](','));}const _0x59600d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x14cca3['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x436a46=document['createElement']('a');_0x436a46[_0x5c2e0a(0x2f5)]=URL['createObjectURL'](_0x59600d),_0x436a46[_0x5c2e0a(0x22e)]=_0x4d185c+'.csv',_0x436a46['click']();}function renderAnalytics(_0xc1a4e5,_0x33afe4){const _0x26dfce=_0x1579df,_0x124bbc=_0x33afe4[_0x26dfce(0x34b)](_0x7ff5db=>_0x7ff5db['latestScore']!==undefined),_0x1100f9=currentProjectData[_0x26dfce(0x63a)][_0x26dfce(0x783)],_0x2811c7=_0x124bbc['length'],_0x312fdc=_0x1100f9-_0x2811c7,_0x4c105e=_0x1100f9>0x0?_0x2811c7/_0x1100f9*0x64:0x0,_0x3f6845=_0x124bbc['map'](_0x3d43a9=>_0x3d43a9[_0x26dfce(0x4f7)]),_0x36748a=_0x3f6845[_0x26dfce(0x783)]>0x0?_0x3f6845[_0x26dfce(0x7d9)]((_0x189369,_0x66639)=>_0x189369+_0x66639,0x0)/_0x3f6845[_0x26dfce(0x783)]:0x0,_0x28dd84=_0xc1a4e5[_0x26dfce(0x88e)][_0x26dfce(0x783)],_0x1d56e4=_0x28dd84>0x0?_0x36748a/_0x28dd84*0x64:0x0,_0x4241ca=calculateItemAnalysis(_0xc1a4e5,_0x124bbc),_0x94d199=calculateReliabilityKR20(_0xc1a4e5,_0x124bbc,_0x4241ca[_0x26dfce(0x802)]);let _0x225e3e='';if(_0x94d199!==null){let _0x2b8d4e='';if(_0x94d199>=0.9)_0x2b8d4e='ยอดเยี่ยม';else{if(_0x94d199>=0.8)_0x2b8d4e=_0x26dfce(0x1c6);else{if(_0x94d199>=0.7)_0x2b8d4e='ดี';else{if(_0x94d199>=0.6)_0x2b8d4e=_0x26dfce(0x4d8);else _0x2b8d4e='ควรปรับปรุง';}}}_0x225e3e=_0x26dfce(0x740)+_0x94d199['toFixed'](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x2b8d4e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x17ba07=document['getElementById'](_0x26dfce(0x85d));_0x17ba07[_0x26dfce(0x581)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x4c105e['toFixed'](0x0)+_0x26dfce(0x621)+_0x2811c7+'/'+_0x1100f9+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x36748a[_0x26dfce(0x8b5)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>('+_0x1d56e4[_0x26dfce(0x8b5)](0x0)+_0x26dfce(0x58c)+(_0x3f6845['length']>0x0?Math[_0x26dfce(0x7a0)](..._0x3f6845):_0x26dfce(0x8e6))+_0x26dfce(0x605)+(_0x3f6845[_0x26dfce(0x783)]>0x0?Math[_0x26dfce(0x219)](..._0x3f6845):'N/A')+_0x26dfce(0x48e)+_0x225e3e+_0x26dfce(0x8c7);const _0x118fb7=document[_0x26dfce(0x632)]('interesting-stats-wrapper');_0x118fb7&&_0x118fb7[_0x26dfce(0x74c)]();const _0x20395f=_0x26dfce(0x3a1);_0x17ba07[_0x26dfce(0x2cc)]('afterend',_0x20395f);const _0x2a9882=currentProjectData[_0x26dfce(0x63a)]||[];renderSubmissionChart(_0x2811c7,_0x312fdc,_0x124bbc,_0x2a9882),renderScoreDistributionChart(_0x124bbc,_0x28dd84),renderQuestionAnalytics(_0xc1a4e5,_0x124bbc,_0x2a9882),renderInterestingStats(_0xc1a4e5,_0x124bbc);}async function handleExportLessonPDF(){const _0x13cf33=_0x1579df,_0x54d7c9=document[_0x13cf33(0x632)](_0x13cf33(0x750)),_0x39cafe=document[_0x13cf33(0x632)](_0x13cf33(0x975))[_0x13cf33(0xf3)],_0x354136=window[_0x13cf33(0x6d1)]('',_0x13cf33(0x864)),_0x351bd1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x39cafe+_0x13cf33(0x492)+_0x54d7c9[_0x13cf33(0x581)]+_0x13cf33(0x701);_0x354136[_0x13cf33(0x751)][_0x13cf33(0x74f)](_0x351bd1),_0x354136[_0x13cf33(0x751)][_0x13cf33(0x70a)](),_0x354136[_0x13cf33(0x389)]=function(){setTimeout(()=>{_0x354136['print']();},0x5dc);};}function renderInterestingStats(_0x1217b9,_0x23ce54){const _0x4173b9=_0x1579df,_0x522718=document[_0x4173b9(0x632)](_0x4173b9(0x115));if(!_0x522718)return;if(_0x23ce54[_0x4173b9(0x783)]===0x0){_0x522718[_0x4173b9(0x581)]=_0x4173b9(0x375);return;}const _0x5cbf71=_0x1217b9[_0x4173b9(0x88e)][_0x4173b9(0x931)]((_0x2bbb08,_0x1b9142)=>({'index':_0x1b9142+0x1,'text':_0x2bbb08[_0x4173b9(0x2b6)]||_0x2bbb08[_0x4173b9(0x36b)],'correct':0x0}));_0x23ce54[_0x4173b9(0x2fb)](_0x192929=>{const _0x46de11=_0x4173b9,_0x36a2f9=_0x192929[_0x46de11(0x157)][_0x192929[_0x46de11(0x157)][_0x46de11(0x783)]-0x1];_0x36a2f9&&_0x36a2f9[_0x46de11(0x6ac)]&&_0x36a2f9[_0x46de11(0x6ac)][_0x46de11(0x2fb)](_0x2e8f9e=>{const _0x5c856e=_0x46de11,_0x5ea514=_0x5cbf71[_0x5c856e(0x974)](_0x3ee5b3=>_0x3ee5b3['text']===_0x2e8f9e[_0x5c856e(0x86a)]);_0x2e8f9e[_0x5c856e(0x304)]&&_0x5ea514&&_0x5ea514[_0x5c856e(0x821)]++;});});const _0x24c10f=_0x23ce54[_0x4173b9(0x783)],_0x473356=Math['max'](..._0x5cbf71[_0x4173b9(0x931)](_0x2ad9a3=>_0x2ad9a3['correct'])),_0xcd5474=Math[_0x4173b9(0x219)](..._0x5cbf71['map'](_0x14483a=>_0x14483a[_0x4173b9(0x821)])),_0xac1e92=_0x5cbf71['filter'](_0x5b124d=>_0x5b124d[_0x4173b9(0x821)]===_0x473356)[_0x4173b9(0x931)](_0x18ad00=>_0x4173b9(0x486)+_0x18ad00[_0x4173b9(0x62f)]),_0x1f2daf=_0x5cbf71[_0x4173b9(0x34b)](_0x4b6226=>_0x4b6226[_0x4173b9(0x821)]===_0xcd5474)[_0x4173b9(0x931)](_0x58f774=>'ข้อ\x20'+_0x58f774[_0x4173b9(0x62f)]),_0x37be49=_0x23ce54['sort']((_0x578ff7,_0x58e715)=>_0x58e715['latestScore']-_0x578ff7[_0x4173b9(0x4f7)])[_0x4173b9(0x34b)]((_0x41a364,_0x202caa,_0xdbd97d)=>_0x41a364[_0x4173b9(0x4f7)]===_0xdbd97d[0x0][_0x4173b9(0x4f7)]),_0x155c82=_0x23ce54[_0x4173b9(0x774)]((_0x59442d,_0x21f818)=>_0x59442d['latestScore']-_0x21f818[_0x4173b9(0x4f7)])[_0x4173b9(0x34b)]((_0x405c3a,_0x17402d,_0x122ecd)=>_0x405c3a[_0x4173b9(0x4f7)]===_0x122ecd[0x0][_0x4173b9(0x4f7)]),_0x1e82f1=_0x4173b9(0x730)+_0xac1e92[_0x4173b9(0x7b1)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x473356+_0x4173b9(0x8f8)+_0x24c10f+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x1f2daf[_0x4173b9(0x7b1)](',\x20')+_0x4173b9(0x930)+(_0x24c10f-_0xcd5474)+'\x20/\x20'+_0x24c10f+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x37be49[_0x4173b9(0x931)](_0x4c1770=>_0x4c1770['studentName'])['join'](',\x20')+_0x4173b9(0x656)+_0x37be49[0x0][_0x4173b9(0x4f7)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x155c82['map'](_0xa76e8b=>_0xa76e8b['studentName'])[_0x4173b9(0x7b1)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x155c82[0x0][_0x4173b9(0x4f7)]+_0x4173b9(0x3ec);_0x522718['innerHTML']=_0x1e82f1;}function renderSubmissionChart(_0x3bd8d4,_0x3e92b3,_0x149aaf,_0x2e5acc){const _0x5b68af=_0x1579df,_0x570c01=document[_0x5b68af(0x632)](_0x5b68af(0x4be))[_0x5b68af(0x1b9)]('2d'),_0x5db573=_0x149aaf['map'](_0x139ec5=>_0x139ec5[_0x5b68af(0x6ef)]),_0x8f5c69=_0x2e5acc['filter'](_0x3c17b1=>!_0x5db573[_0x5b68af(0x29b)](_0x3c17b1));chartInstances['submission']&&chartInstances[_0x5b68af(0x125)][_0x5b68af(0x2df)](),chartInstances['submission']=new Chart(_0x570c01,{'type':_0x5b68af(0x5d6),'data':{'labels':['ส่งแล้ว',_0x5b68af(0x1aa)],'datasets':[{'data':[_0x3bd8d4,_0x3e92b3],'backgroundColor':[_0x5b68af(0x60d),_0x5b68af(0x497)],'borderColor':[_0x5b68af(0x1c9),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x5b68af(0x229)},'tooltip':{'callbacks':{'label':function(_0x4be4ce){const _0x489c27=_0x5b68af;let _0x4eb405=_0x4be4ce[_0x489c27(0x405)]||'';return _0x4eb405&&(_0x4eb405+=':\x20'),_0x4eb405+=_0x4be4ce['raw'],_0x4eb405;},'afterLabel':function(_0xa45d19){const _0x2e1fd7=_0x5b68af;let _0x8dc0fc;return _0xa45d19[_0x2e1fd7(0x55b)]===0x0?_0x8dc0fc=_0x5db573:_0x8dc0fc=_0x8f5c69,_0x8dc0fc[_0x2e1fd7(0x783)]>0x0?_0x8dc0fc[_0x2e1fd7(0x7b1)]('\x0a'):_0x2e1fd7(0x992);}}}}}});}function renderScoreDistributionChart(_0x29c885,_0x268a76){const _0x29c548=_0x1579df,_0xb9f7b3=document[_0x29c548(0x632)](_0x29c548(0x549))[_0x29c548(0x1b9)]('2d'),_0x4ea4fe={};for(let _0x2df07b=0x0;_0x2df07b<=_0x268a76;_0x2df07b++){_0x4ea4fe[_0x2df07b]=0x0;}_0x29c885[_0x29c548(0x2fb)](_0x28be1d=>{const _0x4e7cbf=_0x29c548;_0x4ea4fe[_0x28be1d[_0x4e7cbf(0x4f7)]]!==undefined&&_0x4ea4fe[_0x28be1d[_0x4e7cbf(0x4f7)]]++;}),chartInstances[_0x29c548(0x948)]&&chartInstances['score']['destroy'](),chartInstances[_0x29c548(0x948)]=new Chart(_0xb9f7b3,{'type':_0x29c548(0x979),'data':{'labels':Object[_0x29c548(0x4cf)](_0x4ea4fe),'datasets':[{'label':_0x29c548(0x4b0),'data':Object['values'](_0x4ea4fe),'backgroundColor':_0x29c548(0x748),'borderColor':_0x29c548(0x8d0),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x2b3493){const _0x3961e9=_0x29c548,_0x146d6f=_0x2b3493['label'],_0x4d9d31=_0x29c885['filter'](_0x227ab7=>_0x227ab7['latestScore']==_0x146d6f)[_0x3961e9(0x931)](_0xb7c126=>_0xb7c126[_0x3961e9(0x6ef)]);return _0x4d9d31[_0x3961e9(0x783)]>0x0?_0x4d9d31[_0x3961e9(0x7b1)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x22b688,_0x263977,_0x5c9272){const _0x4a1e3e=_0x1579df,_0x46a0a6=document[_0x4a1e3e(0x632)]('question-analytics-container');if(_0x5c9272[_0x4a1e3e(0x783)]===0x0){_0x46a0a6[_0x4a1e3e(0x581)]=_0x4a1e3e(0x8df);return;}const _0x13e925=calculateItemAnalysis(_0x22b688,_0x263977),_0x40aef5=calculateDistractorAnalysis(_0x22b688,_0x263977);let _0xd816ae='';_0x13e925[_0x4a1e3e(0x183)]&&(_0xd816ae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x13e925[_0x4a1e3e(0x183)][_0x4a1e3e(0x9a6)]['length']+_0x4a1e3e(0x861)+_0x13e925[_0x4a1e3e(0x183)][_0x4a1e3e(0x9a6)][_0x4a1e3e(0x931)](_0x94d84f=>_0x4a1e3e(0x4d0)+_0x94d84f+_0x4a1e3e(0x9a8))['join']('')+_0x4a1e3e(0x3b8)+_0x13e925[_0x4a1e3e(0x183)][_0x4a1e3e(0x80f)]['length']+_0x4a1e3e(0x861)+_0x13e925[_0x4a1e3e(0x183)][_0x4a1e3e(0x80f)][_0x4a1e3e(0x931)](_0x5b875c=>_0x4a1e3e(0x4d0)+_0x5b875c+'</li>')[_0x4a1e3e(0x7b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x200c5f='';const _0x183996=_0x263977[_0x4a1e3e(0x931)](_0x316019=>_0x316019[_0x4a1e3e(0x6ef)]),_0x5ec144=_0x4006c3=>{const _0x149e1c=_0x4a1e3e;if(_0x4006c3>=0.8)return _0x149e1c(0x62b);if(_0x4006c3>=0.6)return _0x149e1c(0x9b4);if(_0x4006c3>=0.4)return _0x149e1c(0x64b);if(_0x4006c3>=0.2)return _0x149e1c(0x7fa);return _0x149e1c(0x503);},_0x5a6dfc=_0x3deef7=>{const _0x25166e=_0x4a1e3e;if(_0x3deef7<0x0)return _0x25166e(0x4e6);if(_0x3deef7>=0.4)return _0x25166e(0x686);if(_0x3deef7>=0.3)return _0x25166e(0x4b4);if(_0x3deef7>=0.2)return _0x25166e(0x1c4);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x2c219a=_0x588e01=>{const _0x29b9c5=_0x4a1e3e,_0x394c3f=_0x588e01[_0x29b9c5(0x8b5)](0x0);if(parseFloat(_0x394c3f)===0x64)return _0x29b9c5(0x1b6)+_0x394c3f+'%</span>';if(_0x588e01>=0x32)return _0x29b9c5(0x8f7)+_0x394c3f+_0x29b9c5(0x98e);return _0x29b9c5(0x775)+_0x394c3f+_0x29b9c5(0x98e);};_0x22b688[_0x4a1e3e(0x88e)][_0x4a1e3e(0x2fb)]((_0x4584bc,_0x570177)=>{const _0x2f74fc=_0x4a1e3e,_0x30717b=_0x13e925[_0x2f74fc(0x802)][_0x570177],_0xcac7cd=_0x40aef5[_0x570177],_0x5f1e9f=_0x4584bc['stem']||_0x4584bc[_0x2f74fc(0x2b6)]||_0x4584bc[_0x2f74fc(0x83c)];let _0x48af6c=0x0;const _0x23b63d=[],_0x1db6b6=[];_0x263977[_0x2f74fc(0x2fb)](_0x4856e9=>{const _0x171e04=_0x2f74fc,_0x2a6201=_0x4856e9['attempts'][_0x4856e9[_0x171e04(0x157)][_0x171e04(0x783)]-0x1];if(_0x2a6201&&_0x2a6201[_0x171e04(0x6ac)]){const _0x11f71c=_0x2a6201[_0x171e04(0x6ac)][_0x171e04(0x974)](_0x24a39f=>_0x24a39f[_0x171e04(0x86a)]===_0x5f1e9f)??_0x2a6201['answers'][_0x570177]??null;_0x11f71c&&(_0x11f71c['isCorrect']?(_0x48af6c++,_0x23b63d[_0x171e04(0x995)](_0x4856e9[_0x171e04(0x6ef)])):_0x1db6b6[_0x171e04(0x995)](_0x4856e9[_0x171e04(0x6ef)]));}});const _0x41aacd=_0x263977['length']>0x0?_0x48af6c/_0x263977[_0x2f74fc(0x783)]*0x64:0x0,_0x363ee6=_0x5c9272[_0x2f74fc(0x34b)](_0x10f6f9=>!_0x183996[_0x2f74fc(0x29b)](_0x10f6f9)),_0x38d5ee=_0x30717b?_0x2f74fc(0xf0)+_0x30717b['p']['toFixed'](0x2)+_0x2f74fc(0x31a)+_0x5ec144(_0x30717b['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x30717b['r'][_0x2f74fc(0x8b5)](0x2)+_0x2f74fc(0x31a)+_0x5a6dfc(_0x30717b['r'])+_0x2f74fc(0x9b0)+_0x2c219a(_0x41aacd)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x2537e0='';_0xcac7cd&&(_0x2537e0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x2f74fc(0x4cf)](_0xcac7cd)[_0x2f74fc(0x931)](_0xc95585=>{const _0x4acde9=_0x2f74fc,_0x3e125a=_0xcac7cd[_0xc95585],_0x5ce11b=parseInt(_0xc95585)===_0x4584bc['correctAnswerIndex'],_0x315199=!_0x5ce11b&&_0x3e125a[_0x4acde9(0x84b)]>_0x3e125a[_0x4acde9(0x8a2)];return _0x4acde9(0x8b6)+(_0x5ce11b?_0x4acde9(0x523):'')+_0x4acde9(0x449)+(_0x5ce11b?'✔\x20':'')+_0x3e125a[_0x4acde9(0x999)]+_0x4acde9(0x294)+_0x3e125a[_0x4acde9(0x8a2)]+_0x4acde9(0x294)+_0x3e125a[_0x4acde9(0x84b)]+'\x20'+(_0x315199?'👍':'')+_0x4acde9(0x294)+_0x3e125a[_0x4acde9(0x765)]+'</td></tr>';})[_0x2f74fc(0x7b1)]('')+_0x2f74fc(0x915));let _0xd1df79='';_0x30717b&&_0x30717b[_0x2f74fc(0x3fc)]&&(_0xd1df79=_0x2f74fc(0x79f)+_0x30717b[_0x2f74fc(0x3fc)][_0x2f74fc(0x783)]+_0x2f74fc(0x168)+_0x30717b[_0x2f74fc(0x3fc)]['map'](_0x53ac94=>'<li>'+(_0x53ac94[_0x2f74fc(0x304)]?_0x2f74fc(0x505):_0x2f74fc(0x65e))+'\x20'+_0x53ac94[_0x2f74fc(0x9a5)]+_0x2f74fc(0x9a8))[_0x2f74fc(0x7b1)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x30717b[_0x2f74fc(0x19c)][_0x2f74fc(0x783)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x30717b[_0x2f74fc(0x19c)][_0x2f74fc(0x931)](_0x4cbe51=>_0x2f74fc(0x4d0)+(_0x4cbe51[_0x2f74fc(0x304)]?_0x2f74fc(0x505):_0x2f74fc(0x65e))+'\x20'+_0x4cbe51[_0x2f74fc(0x9a5)]+_0x2f74fc(0x9a8))['join']('')+_0x2f74fc(0x92f)),_0x200c5f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x570177+0x1)+':\x20'+_0x5f1e9f+_0x2f74fc(0x460)+_0x38d5ee+_0x2f74fc(0x122)+_0x5f1e9f+_0x2f74fc(0x98c)+_0x48af6c+_0x2f74fc(0x215)+_0x263977[_0x2f74fc(0x783)]+_0x2f74fc(0x56b)+_0x41aacd['toFixed'](0x0)+_0x2f74fc(0x5ba)+_0x23b63d[_0x2f74fc(0x783)]+_0x2f74fc(0x217)+(_0x23b63d['length']>0x0?_0x23b63d['join'](',\x20'):_0x2f74fc(0x992))+_0x2f74fc(0x441)+_0x1db6b6[_0x2f74fc(0x783)]+_0x2f74fc(0x217)+(_0x1db6b6[_0x2f74fc(0x783)]>0x0?_0x1db6b6[_0x2f74fc(0x7b1)](',\x20'):_0x2f74fc(0x992))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x363ee6[_0x2f74fc(0x783)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x363ee6[_0x2f74fc(0x783)]>0x0?_0x363ee6[_0x2f74fc(0x7b1)](',\x20'):_0x2f74fc(0x992))+_0x2f74fc(0x1af)+_0x2537e0+_0x2f74fc(0x74a)+_0xd1df79+_0x2f74fc(0x7de);}),_0x46a0a6[_0x4a1e3e(0x581)]=_0xd816ae+_0x200c5f;try{window['MathJax']&&MathJax[_0x4a1e3e(0x2ab)]&&MathJax[_0x4a1e3e(0x2ab)]([_0x46a0a6]);}catch(_0x313fc8){console[_0x4a1e3e(0x962)]('MathJax\x20typeset\x20error\x20(analytics):',_0x313fc8);}}function calculateDistractorAnalysis(_0x4c2801,_0xcc8dae){const _0x4050af=_0x1579df,_0x1003b3={};if(_0xcc8dae[_0x4050af(0x783)]<0x2)return _0x1003b3;const _0x1c69d0=[..._0xcc8dae][_0x4050af(0x774)]((_0x55809c,_0x1b9e4a)=>{const _0x58465a=_0x4050af,_0x267336=_0x1b9e4a[_0x58465a(0x4f7)]-_0x55809c[_0x58465a(0x4f7)];if(_0x267336!==0x0)return _0x267336;const _0x591cc3=_0x55809c['attempts']?.[_0x58465a(0x783)]||0x1,_0x1f96a7=_0x1b9e4a[_0x58465a(0x157)]?.[_0x58465a(0x783)]||0x1,_0x938c90=_0x591cc3-_0x1f96a7;if(_0x938c90!==0x0)return _0x938c90;const _0x1cffc=new Date(_0x55809c[_0x58465a(0x8fb)]),_0x23c9bb=new Date(_0x1b9e4a[_0x58465a(0x8fb)]),_0x3b7254=_0x1cffc-_0x23c9bb;if(_0x3b7254!==0x0)return _0x3b7254;return _0x55809c[_0x58465a(0x6ef)][_0x58465a(0x144)](_0x1b9e4a[_0x58465a(0x6ef)],'th');}),_0x10c647=_0x1c69d0[_0x4050af(0x783)],_0x4b702d=Math['max'](0x1,Math[_0x4050af(0x1e3)](_0x10c647*0.33)),_0xc13ba=_0x1c69d0[_0x4050af(0xc4)](0x0,_0x4b702d),_0x4ed4fd=_0x1c69d0[_0x4050af(0xc4)](-_0x4b702d);return _0x4c2801[_0x4050af(0x88e)][_0x4050af(0x2fb)]((_0x51ffcb,_0xfd8485)=>{const _0x2dcb02=_0x4050af;if(_0x51ffcb[_0x2dcb02(0x54a)]!==_0x2dcb02(0x34f)||!_0x51ffcb[_0x2dcb02(0x518)])return;const _0x5335b6=_0x51ffcb[_0x2dcb02(0x2b6)],_0x4d96e3={};_0x51ffcb[_0x2dcb02(0x518)][_0x2dcb02(0x2fb)]((_0x5bcee5,_0x7acb46)=>{_0x4d96e3[_0x7acb46]={'text':_0x5bcee5,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x1c69d0[_0x2dcb02(0x2fb)](_0x37206f=>{const _0x195c30=_0x2dcb02,_0x58b824=_0x37206f[_0x195c30(0x157)][_0x37206f[_0x195c30(0x157)][_0x195c30(0x783)]-0x1],_0x2b0898=_0x58b824[_0x195c30(0x6ac)][_0x195c30(0x974)](_0x3ffa8c=>_0x3ffa8c[_0x195c30(0x86a)]===_0x5335b6);if(_0x2b0898&&_0x2b0898[_0x195c30(0x4ff)]!==null){const _0x4ed408=_0x51ffcb['options'][_0x195c30(0x612)](_0x1c377e=>_0x1c377e===_0x2b0898[_0x195c30(0x29c)]);_0x4ed408!==-0x1&&_0x4d96e3[_0x4ed408]&&(_0x4d96e3[_0x4ed408]['total']++,_0xc13ba[_0x195c30(0x29b)](_0x37206f)&&_0x4d96e3[_0x4ed408]['upper_group_count']++,_0x4ed4fd[_0x195c30(0x29b)](_0x37206f)&&_0x4d96e3[_0x4ed408][_0x195c30(0x84b)]++);}}),_0x1003b3[_0xfd8485]=_0x4d96e3;}),_0x1003b3;}function calculateReliabilityKR20(_0x45f705,_0x2da6ac,_0x2ad5dc){const _0x249af0=_0x1579df,_0x37fd32=_0x45f705[_0x249af0(0x88e)]['length'];if(_0x37fd32<0x2||_0x2da6ac[_0x249af0(0x783)]<0x2)return null;const _0x355c7f=_0x2da6ac[_0x249af0(0x931)](_0x3f634a=>_0x3f634a[_0x249af0(0x4f7)]),_0x521254=_0x355c7f[_0x249af0(0x7d9)]((_0x1258fd,_0x595a7d)=>_0x1258fd+_0x595a7d,0x0)/_0x355c7f[_0x249af0(0x783)],_0x3991dd=_0x355c7f['map'](_0x5a0ffc=>Math[_0x249af0(0x2bf)](_0x5a0ffc-_0x521254,0x2))[_0x249af0(0x7d9)]((_0x46e563,_0x3eba60)=>_0x46e563+_0x3eba60,0x0)/_0x355c7f[_0x249af0(0x783)];if(_0x3991dd===0x0)return null;let _0x56ba62=0x0;for(let _0x477cc0=0x0;_0x477cc0<_0x37fd32;_0x477cc0++){const _0x3512f5=_0x2ad5dc[_0x477cc0]?.['p'];if(_0x3512f5===undefined)continue;const _0x42246c=0x1-_0x3512f5;_0x56ba62+=_0x3512f5*_0x42246c;}if(_0x56ba62===0x0)return null;const _0x305433=_0x37fd32/(_0x37fd32-0x1)*(0x1-_0x56ba62/_0x3991dd);if(_0x305433>0x1)return null;return _0x305433;}async function handleAnalyzeClass(){const _0x59650d=_0x1579df;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x4e6529=collection(db,_0x59650d(0x88d)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x2d5af2=await getDocs(_0x4e6529),_0x2e78e1=_0x2d5af2[_0x59650d(0x6b3)][_0x59650d(0x931)](_0x5dee85=>_0x5dee85['data']());if(_0x2e78e1[_0x59650d(0x783)]<0x2){showMessage(_0x59650d(0x96d));return;}const _0x126f99=document[_0x59650d(0x632)](_0x59650d(0x2d1));_0x126f99['innerHTML']=_0x59650d(0x92c),document[_0x59650d(0x632)](_0x59650d(0x1fd))[_0x59650d(0xd7)]=!![];const _0xd9d846=_0x2e78e1[_0x59650d(0x931)]((_0x1076bc,_0x5886b7)=>{const _0x1e77aa=_0x59650d,_0x18cfa8=_0x1076bc['attempts'][_0x1076bc[_0x1e77aa(0x157)]['length']-0x1];if(!_0x18cfa8)return'';return _0x1e77aa(0x17f)+(_0x5886b7+0x1)+'\x20('+_0x1076bc[_0x1e77aa(0x6ef)]+_0x1e77aa(0x75a)+_0x18cfa8[_0x1e77aa(0x948)]+'/'+_0x1076bc[_0x1e77aa(0x86f)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x1e77aa(0x3c5)](_0x18cfa8[_0x1e77aa(0x6ac)])+_0x1e77aa(0x7d1);})[_0x59650d(0x7b1)](_0x59650d(0x3bb)),_0x430575=_0x59650d(0xd3)+currentQuizData[_0x59650d(0x9b2)]+_0x59650d(0x8e7)+JSON[_0x59650d(0x3c5)](currentQuizData[_0x59650d(0x88e)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd9d846+_0x59650d(0x2f9),_0x55eda1={'type':_0x59650d(0xb1),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':'STRING'}},'classWeaknesses':{'type':_0x59650d(0x926),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x59650d(0x926),'items':{'type':_0x59650d(0x1e7)}}},'required':['classStrengths',_0x59650d(0x860),'teacherSuggestions']};try{const _0x26b18c=await callAnalysisApi(_0x430575,_0x55eda1);displayClassAnalysis(_0x26b18c);}catch(_0x279464){console[_0x59650d(0x962)](_0x59650d(0x16a),_0x279464),_0x126f99[_0x59650d(0x581)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x279464['message']+_0x59650d(0x527);}finally{document[_0x59650d(0x632)](_0x59650d(0x1fd))[_0x59650d(0xd7)]=![];}}function displayClassAnalysis(_0x5e4b64){const _0x4b63ba=_0x1579df,_0x453f6b=document['getElementById']('strength-weakness-analysis-container');if(!_0x5e4b64){_0x453f6b[_0x4b63ba(0x581)]=_0x4b63ba(0x5c7);return;}_0x453f6b[_0x4b63ba(0x581)]=_0x4b63ba(0x773)+_0x5e4b64['classStrengths']['map'](_0x2c1cad=>_0x4b63ba(0x4d0)+_0x2c1cad+_0x4b63ba(0x9a8))[_0x4b63ba(0x7b1)]('')+_0x4b63ba(0x224)+_0x5e4b64[_0x4b63ba(0x860)][_0x4b63ba(0x931)](_0x359109=>_0x4b63ba(0x4d0)+_0x359109+_0x4b63ba(0x9a8))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e4b64[_0x4b63ba(0x898)]['map'](_0x5cd556=>_0x4b63ba(0x4d0)+_0x5cd556+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x99f335,_0x2229b1){const _0x366069=_0x1579df,_0x1f60db=_0x366069(0x6bb)+_0x99f335[_0x366069(0x9b2)]+_0x366069(0x391)+_0x99f335['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x99f335[_0x366069(0x88e)]['map']((_0x233d97,_0x985bef)=>_0x366069(0x15a)+(_0x985bef+0x1)+'.\x20'+_0x233d97[_0x366069(0x2b6)]+_0x366069(0x805)+(_0x233d97[_0x366069(0x137)]?_0x366069(0x274)+_0x233d97[_0x366069(0x137)]+_0x366069(0x49d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x366069(0x7b1)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x2229b1[_0x366069(0x751)][_0x366069(0x74f)](_0x1f60db),_0x2229b1[_0x366069(0x751)]['close'](),_0x2229b1[_0x366069(0x389)]=function(){setTimeout(()=>{const _0x218906=_0x13b1;_0x2229b1[_0x218906(0x9b1)]();},0x3e8);};}async function generateWorksheet(){const _0x2cd4b2=_0x1579df,_0x1525ac=document[_0x2cd4b2(0x632)](_0x2cd4b2(0x3b0))[_0x2cd4b2(0x3d7)][_0x2cd4b2(0x3d4)]();if(!_0x1525ac){showMessage(_0x2cd4b2(0x940));return;}const _0x13f7fe=document[_0x2cd4b2(0x632)]('force-math-checkbox')[_0x2cd4b2(0x37c)],_0x30c329=_0x13f7fe?'':'คณิตศาสตร์',_0x11731b=window['open']('',_0x2cd4b2(0x864));_0x11731b[_0x2cd4b2(0x751)][_0x2cd4b2(0x74f)](_0x2cd4b2(0x32e));const _0x4ded55=parseInt(document[_0x2cd4b2(0x632)](_0x2cd4b2(0x411))[_0x2cd4b2(0x3d7)]),_0x549bd8=document[_0x2cd4b2(0x632)](_0x2cd4b2(0x667))[_0x2cd4b2(0x37c)],_0x1834c2=_0x549bd8?_0x2cd4b2(0x335):'',_0x3d3caf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x30c329+_0x2cd4b2(0x407)+_0x4ded55+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x1525ac+_0x2cd4b2(0x6e0)+_0x1834c2+_0x2cd4b2(0x618)+simpleMathPrompt+_0x2cd4b2(0x61c),_0x1714ea={'type':_0x2cd4b2(0xb1),'properties':{'topic':{'type':_0x2cd4b2(0x1e7)},'questions':{'type':_0x2cd4b2(0x926),'items':{'type':_0x2cd4b2(0xb1),'properties':{'questionText':{'type':_0x2cd4b2(0x1e7)},'imageCode':{'type':_0x2cd4b2(0x1e7)}},'required':[_0x2cd4b2(0x2b6)]}}},'required':[_0x2cd4b2(0x9b2),_0x2cd4b2(0x88e)]};document[_0x2cd4b2(0x632)](_0x2cd4b2(0x813))['textContent']='',document['getElementById'](_0x2cd4b2(0x2fe))[_0x2cd4b2(0x635)]['remove'](_0x2cd4b2(0x99e)),document['getElementById'](_0x2cd4b2(0x3e0))[_0x2cd4b2(0x635)][_0x2cd4b2(0x74c)](_0x2cd4b2(0x99e)),generateWorksheetBtn[_0x2cd4b2(0xd7)]=!![];try{const _0x4a039c=await callAnalysisApi(_0x3d3caf,_0x1714ea);formatAndPrintWorksheet(_0x4a039c,_0x11731b);}catch(_0xba2040){console[_0x2cd4b2(0x962)](_0x2cd4b2(0x2ea),_0xba2040);if(_0x11731b)_0x11731b[_0x2cd4b2(0x70a)]();showMessage(_0x2cd4b2(0x4df));}finally{document['getElementById'](_0x2cd4b2(0x2fe))[_0x2cd4b2(0x635)][_0x2cd4b2(0x8c5)](_0x2cd4b2(0x99e)),document[_0x2cd4b2(0x632)](_0x2cd4b2(0x3e0))[_0x2cd4b2(0x635)]['add']('hidden'),generateWorksheetBtn[_0x2cd4b2(0xd7)]=![];}}async function callAnalysisApi(_0x345591,_0x17dc66){const _0xffb321=_0x1579df,_0x33e488={'contents':[{'role':'user','parts':[{'text':_0x345591}]}],'generationConfig':{'responseMimeType':_0xffb321(0x7c0),'responseSchema':_0x17dc66}},_0x57e0e9=_0xffb321(0x4f6),_0x7e2df2=_0xffb321(0x377)+_0x57e0e9,_0x1091be=await fetch(_0x7e2df2,{'method':_0xffb321(0x148),'headers':{'Content-Type':_0xffb321(0x7c0)},'body':JSON[_0xffb321(0x3c5)](_0x33e488)});if(!_0x1091be['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x1091be['status']);const _0x54b7ba=await _0x1091be[_0xffb321(0x872)]();if(_0x54b7ba[_0xffb321(0x30a)]?.[0x0]?.['content']?.['parts']?.[0x0])return JSON['parse'](_0x54b7ba['candidates'][0x0][_0xffb321(0x1fe)]['parts'][0x0]['text']);else{let _0x294601=_0xffb321(0x5a5);if(_0x54b7ba[_0xffb321(0x819)]?.['blockReason'])_0x294601=_0xffb321(0x779)+_0x54b7ba[_0xffb321(0x819)]['blockReason']+'.';else _0x54b7ba[_0xffb321(0x30a)]?.[0x0]?.[_0xffb321(0x212)]&&_0x54b7ba[_0xffb321(0x30a)][0x0][_0xffb321(0x212)]!==_0xffb321(0x952)&&(_0x294601='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x54b7ba['candidates'][0x0][_0xffb321(0x212)]+'.');console[_0xffb321(0x962)](_0x294601,JSON['stringify'](_0x54b7ba));throw new Error(_0x294601);}}async function handleStartSyncMode(_0xa73030,_0x2dad91=![]){const _0x3bbfa3=_0x1579df,_0x40aa78=allQuizzes[_0x3bbfa3(0x974)](_0x2f205c=>_0x2f205c['id']===_0xa73030)||allQuizzesGlobal[_0x3bbfa3(0x974)](_0x47db79=>_0x47db79['id']===_0xa73030);if(!_0x40aa78){showMessage(_0x3bbfa3(0x12d));return;}currentQuizData=getShuffledQuiz(_0x40aa78);const _0x4b92d4=Math['floor'](0x3e8+Math[_0x3bbfa3(0x4fa)]()*0x2328)['toString']();try{const _0x3ad5a8=await addDoc(collection(db,_0x3bbfa3(0x88d)+appId+_0x3bbfa3(0x8f2)),{'quizId':_0x40aa78['id'],'pin':_0x4b92d4,'status':_0x3bbfa3(0x6a8),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2dad91,'players':{}});currentLiveGameId=_0x3ad5a8['id'],showView(_0x3bbfa3(0x233)),renderSyncLobbyView(_0x4b92d4,_0x40aa78[_0x3bbfa3(0x9b2)]),listenForSyncGameUpdates();}catch(_0x633f39){console[_0x3bbfa3(0x962)]('Error\x20starting\x20sync\x20game:',_0x633f39),showMessage(_0x3bbfa3(0x80d));}}function listenForSyncGameUpdates(){const _0x261de0=_0x1579df;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x803fcf=doc(db,_0x261de0(0x88d)+appId+_0x261de0(0x8f2),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x803fcf,_0xf4328f=>{const _0x434984=_0x261de0;if(!_0xf4328f[_0x434984(0x3e1)]()){sessionStorage[_0x434984(0x3e7)](_0x434984(0x916));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว'),showView(currentMode===_0x434984(0x935)?_0x434984(0x978):_0x434984(0x1d7));return;}const _0x1bf9cc=_0xf4328f[_0x434984(0x844)]();currentMode==='admin'?updateAdminSyncView(_0x1bf9cc):updateStudentSyncView(_0x1bf9cc);});}function renderSyncLobbyView(_0x300b22,_0x22b228){const _0x285be3=_0x1579df;liveGameView[_0x285be3(0x581)]=_0x285be3(0x7e2)+_0x22b228+_0x285be3(0x2cd)+_0x300b22+_0x285be3(0x285),document[_0x285be3(0x632)](_0x285be3(0x35b))[_0x285be3(0x6a9)](_0x285be3(0x379),async()=>{const _0x36ab35=_0x285be3,_0x7fcd5a=doc(db,_0x36ab35(0x88d)+appId+_0x36ab35(0x8f2),currentLiveGameId);await updateDoc(_0x7fcd5a,{'status':_0x36ab35(0x3d1),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});});}function updateAdminSyncView(_0x31ed03){const _0x3d38c2=_0x1579df;switch(_0x31ed03[_0x3d38c2(0x1cf)]){case _0x3d38c2(0x6a8):renderSyncLobbyView(_0x31ed03[_0x3d38c2(0x891)],_0x31ed03[_0x3d38c2(0x55e)][_0x3d38c2(0x9b2)]);const _0x1def35=Object[_0x3d38c2(0x4cf)](_0x31ed03['players']||{});document[_0x3d38c2(0x632)](_0x3d38c2(0x5e5))[_0x3d38c2(0xf3)]=_0x1def35['length'],document[_0x3d38c2(0x632)]('player-list-lobby')[_0x3d38c2(0x581)]=_0x1def35[_0x3d38c2(0x931)](_0x4ae7a8=>'<span\x20class=\x22bg-black/20\x20px-2\x20py-1\x20rounded\x22>'+_0x4ae7a8+_0x3d38c2(0x5e3))[_0x3d38c2(0x7b1)](''),document[_0x3d38c2(0x632)](_0x3d38c2(0x35b))['disabled']=_0x1def35[_0x3d38c2(0x783)]===0x0;break;case'question':renderAdminSyncQuestionView(_0x31ed03);break;case'results':renderAdminSyncDashboard(_0x31ed03,!![]);break;case'podium':_0x31ed03[_0x3d38c2(0x23d)]&&saveGameResultsAsSubmissions(_0x31ed03);sessionStorage[_0x3d38c2(0x3e7)](_0x3d38c2(0x916)),showPodiumView(_0x31ed03[_0x3d38c2(0x5da)]);break;}}function renderAdminSyncQuestionView(_0x251e8e){const _0x3c9084=_0x1579df,_0x1e05a7=_0x251e8e['currentQuestionIndex'],_0x351961=_0x251e8e[_0x3c9084(0x55e)][_0x3c9084(0x88e)][_0x1e05a7],_0x328f8a=_0x251e8e[_0x3c9084(0x55e)][_0x3c9084(0x88e)][_0x3c9084(0x783)],_0x2a28b4=Object[_0x3c9084(0x373)](_0x251e8e[_0x3c9084(0x5da)]||{}),_0x1caef5=_0x2a28b4['filter'](_0x1a4710=>_0x1a4710[_0x3c9084(0x82a)])[_0x3c9084(0x783)],_0x368ec2=_0x1caef5===_0x2a28b4[_0x3c9084(0x783)]&&_0x2a28b4[_0x3c9084(0x783)]>0x0,_0x445e5b=(_0x351961[_0x3c9084(0x518)]||[])[_0x3c9084(0x931)](_0x15d86f=>_0x3c9084(0x531)+_0x15d86f+_0x3c9084(0x49d))[_0x3c9084(0x7b1)]('');liveGameView[_0x3c9084(0x581)]=_0x3c9084(0x321)+(_0x1e05a7+0x1)+_0x3c9084(0x8f8)+_0x328f8a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x1caef5+'/'+_0x2a28b4[_0x3c9084(0x783)]+'</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x351961[_0x3c9084(0x2b6)]+_0x3c9084(0x81e)+_0x445e5b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x368ec2?_0x3c9084(0xd7):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x3c9084(0x1c5)])MathJax['typesetPromise']();document['getElementById']('show-results-btn')[_0x3c9084(0x6a9)](_0x3c9084(0x379),async()=>{const _0x4f9ffd=_0x3c9084,_0x136ac1=doc(db,_0x4f9ffd(0x88d)+appId+_0x4f9ffd(0x8f2),currentLiveGameId);await updateDoc(_0x136ac1,{'status':_0x4f9ffd(0x6ab)});});const _0x2de228=document[_0x3c9084(0x632)](_0x3c9084(0x35e));_0x2de228&&(_0x2de228[_0x3c9084(0x24d)]=()=>{const _0x164e08=_0x3c9084,_0x190398=_0x351961[_0x164e08(0x518)]||[];openScratchpad(_0x351961,_0x190398);});}function renderSyncLeaderboardView(_0x2fabac,_0x2d7903){const _0x1be13f=_0x1579df,_0x54199a=Object[_0x1be13f(0x373)](_0x2fabac['players']||{});_0x54199a[_0x1be13f(0x774)]((_0x6898ac,_0x36f948)=>_0x36f948['score']-_0x6898ac[_0x1be13f(0x948)]);const _0x4fc138=_0x54199a[_0x1be13f(0xc4)](0x0,0x5);let _0x1c3226='';if(_0x2d7903){const _0x19b7df=_0x2fabac[_0x1be13f(0x2ef)]>=_0x2fabac['shuffledQuiz'][_0x1be13f(0x88e)][_0x1be13f(0x783)]-0x1;_0x1c3226=_0x1be13f(0x644)+(_0x19b7df?_0x1be13f(0x4a8):_0x1be13f(0x572))+_0x1be13f(0x18e);}else _0x1c3226=_0x1be13f(0x452);liveGameView[_0x1be13f(0x581)]=_0x1be13f(0x356)+_0x4fc138['map']((_0x4ffc8f,_0x8ccae8)=>_0x1be13f(0x583)+(_0x8ccae8+0x1)+'.\x20'+_0x4ffc8f['name']+_0x1be13f(0x7ba)+_0x4ffc8f[_0x1be13f(0x948)]+_0x1be13f(0x273))[_0x1be13f(0x7b1)]('')+_0x1be13f(0x5c1)+_0x1c3226+_0x1be13f(0xda),_0x2d7903&&document['getElementById'](_0x1be13f(0x7ed))['addEventListener']('click',async()=>{const _0x145e4f=_0x1be13f,_0x37cc2d=doc(db,'artifacts/'+appId+_0x145e4f(0x8f2),currentLiveGameId),_0x19ea93=_0x2fabac['currentQuestionIndex']+0x1;if(_0x19ea93<_0x2fabac[_0x145e4f(0x55e)][_0x145e4f(0x88e)][_0x145e4f(0x783)]){const _0x6ea11c={};Object[_0x145e4f(0x4cf)](_0x2fabac[_0x145e4f(0x5da)])[_0x145e4f(0x2fb)](_0x1ca9b3=>{const _0x574dae=_0x145e4f;_0x6ea11c[_0x574dae(0x21f)+_0x1ca9b3+_0x574dae(0x881)]=![];}),await updateDoc(_0x37cc2d,{..._0x6ea11c,'status':_0x145e4f(0x3d1),'currentQuestionIndex':_0x19ea93,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x37cc2d,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x444e02=_0x1579df,_0x98f246=prompt(_0x444e02(0x4ac));if(!_0x98f246||_0x98f246[_0x444e02(0x3d4)]()[_0x444e02(0x783)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x3121b9=collection(db,'artifacts/'+appId+_0x444e02(0x8f2)),_0xc9e0b8=query(_0x3121b9,where(_0x444e02(0x891),'==',_0x98f246[_0x444e02(0x3d4)]()),where('status','==',_0x444e02(0x6a8))),_0xa4a097=await getDocs(_0xc9e0b8);if(_0xa4a097['empty']){showMessage(_0x444e02(0x870));return;}const _0x496c43=_0xa4a097[_0x444e02(0x6b3)][0x0];currentLiveGameId=_0x496c43['id'];const _0x2d4488=_0x496c43[_0x444e02(0x844)](),_0x57e21b=doc(db,_0x444e02(0x88d)+appId+_0x444e02(0x207),_0x2d4488['quizId']),_0x276a07=await getDoc(_0x57e21b);if(!_0x276a07[_0x444e02(0x3e1)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x273b31=_0x276a07[_0x444e02(0x844)](),_0x16d53c=doc(db,_0x444e02(0x88d)+appId+_0x444e02(0x18f),_0x273b31[_0x444e02(0x80a)]),_0x4d8e96=await getDoc(_0x16d53c);if(!_0x4d8e96[_0x444e02(0x3e1)]())throw new Error(_0x444e02(0x628));currentQuizData=_0x2d4488[_0x444e02(0x55e)];const _0x565d1e=_0x4d8e96['data']();showView('student-team-join'),showTeamPlayerSelection(_0x565d1e[_0x444e02(0x63a)],_0x273b31['topic']);const _0x57685f=document[_0x444e02(0x632)](_0x444e02(0x5fc));_0x57685f[_0x444e02(0x24d)]=confirmAndJoinSyncGame;}catch(_0x2c5695){console[_0x444e02(0x962)](_0x444e02(0x576),_0x2c5695),showMessage(_0x444e02(0x4b1)+_0x2c5695[_0x444e02(0x52c)]);}}function updateStudentSyncView(_0x3cb5b5){const _0x260690=_0x1579df,_0x5a4bd7=_0x3cb5b5['players'][localTeamPlayers[0x0]];switch(_0x3cb5b5[_0x260690(0x1cf)]){case _0x260690(0x6a8):showView(_0x260690(0x233)),liveGameView[_0x260690(0x581)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x260690(0x3d1):const _0x4a7db2=localTeamPlayers[_0x260690(0x896)](_0x3abd0c=>_0x3cb5b5[_0x260690(0x5da)][_0x3abd0c]?.['answered']===!![]);_0x4a7db2?liveGameView[_0x260690(0x581)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>':renderStudentSyncQuestionView(_0x3cb5b5);break;case _0x260690(0x6ab):localPlayerTurnIndex=0x0,renderAdminSyncDashboard(_0x3cb5b5,![]);break;case _0x260690(0xd8):sessionStorage[_0x260690(0x3e7)](_0x260690(0x916)),showPodiumView(_0x3cb5b5['players']);break;}}function renderStudentSyncQuestionView(_0x3b653e){const _0x53243a=_0x1579df;while(localPlayerTurnIndex<localTeamPlayers[_0x53243a(0x783)]&&_0x3b653e[_0x53243a(0x5da)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x53243a(0x82a)]===!![]){localPlayerTurnIndex++;}const _0xa5b498=localTeamPlayers[localPlayerTurnIndex];if(!_0xa5b498)return;const _0x3069eb=_0x3b653e['currentQuestionIndex'],_0x3e113f=_0x3b653e[_0x53243a(0x55e)][_0x53243a(0x88e)][_0x53243a(0x783)],_0x367c1a=_0x3b653e[_0x53243a(0x55e)][_0x53243a(0x88e)][_0x3069eb],_0x9dee10=(_0x367c1a[_0x53243a(0x518)]||[])[_0x53243a(0x931)]((_0x5d175c,_0x594f9e)=>'<button\x20data-index=\x22'+_0x594f9e+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x5d175c+_0x53243a(0x372))[_0x53243a(0x7b1)]('');liveGameView[_0x53243a(0x581)]=_0x53243a(0x50a)+(_0x3069eb+0x1)+_0x53243a(0x8f8)+_0x3e113f+_0x53243a(0x12c)+_0xa5b498+_0x53243a(0x9ac)+_0x367c1a['questionText']+_0x53243a(0x81e)+_0x9dee10+_0x53243a(0x2ba);if(window[_0x53243a(0x1c5)])MathJax[_0x53243a(0x2ab)]();document[_0x53243a(0x37d)]('.live-answer-btn')[_0x53243a(0x2fb)](_0x2fd10e=>{const _0x24a514=_0x53243a;_0x2fd10e[_0x24a514(0x6a9)](_0x24a514(0x379),()=>{const _0x3a9069=_0x24a514,_0x5bb48c=parseInt(_0x2fd10e[_0x3a9069(0x6de)][_0x3a9069(0x62f)]);handleSyncAnswerSubmit(_0x5bb48c,_0x367c1a,_0x3b653e,_0xa5b498);});});}async function handleSyncAnswerSubmit(_0x11518b,_0x183f22,_0x2502bc,_0x1dffde){const _0x55fa9d=_0x1579df;document['querySelectorAll']('.live-answer-btn')[_0x55fa9d(0x2fb)](_0x254c0c=>_0x254c0c['disabled']=!![]);const _0x2a6b8f=_0x11518b===_0x183f22['correctAnswerIndex'],_0xd31f21=_0x2a6b8f?0x1:0x0,_0x40af7e=doc(db,_0x55fa9d(0x88d)+appId+'/public/data/syncGames',currentLiveGameId),_0x43e747={};_0x43e747[_0x55fa9d(0x21f)+_0x1dffde+_0x55fa9d(0x1d1)]=increment(_0xd31f21),_0x43e747[_0x55fa9d(0x21f)+_0x1dffde+_0x55fa9d(0x881)]=!![];const _0x5b5df6={'questionIndex':_0x2502bc['currentQuestionIndex'],'isCorrect':_0x2a6b8f};_0x43e747[_0x55fa9d(0x21f)+_0x1dffde+_0x55fa9d(0x459)]=arrayUnion(_0x5b5df6),await updateDoc(_0x40af7e,_0x43e747);}initialize();
