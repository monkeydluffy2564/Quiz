const _0x599685=_0x2110;(function(_0x2d9a2f,_0x338699){const _0x26084=_0x2110,_0x240f19=_0x2d9a2f();while(!![]){try{const _0x4d1780=-parseInt(_0x26084(0x77e))/0x1*(-parseInt(_0x26084(0xa1d))/0x2)+parseInt(_0x26084(0x9a9))/0x3*(-parseInt(_0x26084(0x870))/0x4)+-parseInt(_0x26084(0x7ca))/0x5*(-parseInt(_0x26084(0x2dc))/0x6)+parseInt(_0x26084(0x62c))/0x7+-parseInt(_0x26084(0x661))/0x8*(-parseInt(_0x26084(0xaac))/0x9)+-parseInt(_0x26084(0x757))/0xa*(-parseInt(_0x26084(0x5b0))/0xb)+-parseInt(_0x26084(0x6b6))/0xc;if(_0x4d1780===_0x338699)break;else _0x240f19['push'](_0x240f19['shift']());}catch(_0xb675ff){_0x240f19['push'](_0x240f19['shift']());}}}(_0x5887,0x66546));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x42f58b=_0x2110;if('wakeLock'in navigator)try{wakeLock=await navigator['wakeLock'][_0x42f58b(0x696)](_0x42f58b(0x6b2)),console[_0x42f58b(0x8af)](_0x42f58b(0x85c)),wakeLock['addEventListener']('release',()=>{const _0x119f58=_0x42f58b;console[_0x119f58(0x8af)](_0x119f58(0x3b7));});}catch(_0x4a7230){console['error'](_0x42f58b(0x92e)+_0x4a7230[_0x42f58b(0x472)]+',\x20'+_0x4a7230[_0x42f58b(0x1fc)]);}else console[_0x42f58b(0x6e0)](_0x42f58b(0x4a8));},releaseWakeLock=async()=>{const _0x42526e=_0x2110;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console['log'](_0x42526e(0x90a)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x54d595=_0x2110;if(dimTimer)clearTimeout(dimTimer);document[_0x54d595(0x32c)]['classList']['remove'](_0x54d595(0x8fc)),dimTimer=setTimeout(()=>{const _0x3e6bf0=_0x54d595;document['body'][_0x3e6bf0(0x7ad)][_0x3e6bf0(0x25c)]('dimmed'),console[_0x3e6bf0(0x8af)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x5e24da=_0x2110;if(dimTimer)clearTimeout(dimTimer);document[_0x5e24da(0x32c)]['classList'][_0x5e24da(0xac8)](_0x5e24da(0x8fc)),window[_0x5e24da(0x56e)](_0x5e24da(0x376),resetDimTimer),window['removeEventListener'](_0x5e24da(0xa05),resetDimTimer),window[_0x5e24da(0x56e)](_0x5e24da(0x606),resetDimTimer),window[_0x5e24da(0x56e)]('keydown',resetDimTimer),console[_0x5e24da(0x8af)](_0x5e24da(0xa57));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0;async function handleStartTeamQuiz(_0x2ee10b,_0x186400=![]){const _0x4957fe=_0x2110,_0x4134fc=allQuizzes[_0x4957fe(0x726)](_0x479339=>_0x479339['id']===_0x2ee10b)||allQuizzesGlobal[_0x4957fe(0x726)](_0x492d15=>_0x492d15['id']===_0x2ee10b);if(!_0x4134fc){showMessage(_0x4957fe(0x5d4));return;}currentQuizData=getShuffledQuiz(_0x4134fc);const _0x26ab86=Math['floor'](0x3e8+Math[_0x4957fe(0x536)]()*0x2328)[_0x4957fe(0x8b5)]();try{const _0x487342=await addDoc(collection(db,_0x4957fe(0x3d7)+appId+_0x4957fe(0x386)),{'quizId':_0x4134fc['id'],'projectId':_0x4134fc[_0x4957fe(0x7f1)],'status':_0x4957fe(0x9d0),'pin':_0x26ab86,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x186400});currentTeamQuizId=_0x487342['id'],showView(_0x4957fe(0x40c)),renderAdminTeamQuizDashboard(_0x26ab86,_0x4134fc['topic']),listenForTeamQuizUpdates();}catch(_0x5adb26){console[_0x4957fe(0x30a)](_0x4957fe(0xa2e),_0x5adb26),showMessage(_0x4957fe(0x1e9));}}function renderAdminTeamQuizDashboard(_0xcb08a5,_0x3028fc,_0x473d9e=_0x599685(0x8d7)){const _0x59784f=_0x599685,_0x4dbc28=_0x473d9e===_0x59784f(0x608)?_0x59784f(0x1ba):'Team\x20Quiz';liveGameView[_0x59784f(0x88b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x4dbc28+':\x20'+_0x3028fc+_0x59784f(0x6eb)+_0xcb08a5+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x59784f(0x6f5)](_0x59784f(0x23e))[_0x59784f(0x2a3)](_0x59784f(0x41c),async()=>{const _0x6668aa=_0x59784f;showConfirmation(_0x6668aa(0x60d),async()=>{const _0x5d5b79=_0x6668aa;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x5d5b79(0x3d7)+appId+_0x5d5b79(0x386),currentTeamQuizId)),showView(_0x5d5b79(0x53b));});});}function listenForTeamQuizUpdates(){const _0x44f616=_0x599685;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x20eb57=doc(db,_0x44f616(0x3d7)+appId+_0x44f616(0x386),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x20eb57,_0xc04d8c=>{const _0x452b6f=_0x44f616;if(!_0xc04d8c[_0x452b6f(0x478)]()){sessionStorage[_0x452b6f(0x363)](_0x452b6f(0x2b6));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode==='admin')showMessage(_0x452b6f(0x3b6));showView(currentMode===_0x452b6f(0x750)?_0x452b6f(0x53b):_0x452b6f(0x613));return;}const _0x3838bd=_0xc04d8c[_0x452b6f(0x7e5)]();if(currentMode===_0x452b6f(0x750)){if(_0x3838bd[_0x452b6f(0x828)]===_0x452b6f(0x608)&&_0x3838bd['status']!==_0x452b6f(0x71a)&&_0x3838bd['status']!==_0x452b6f(0x3e4)){const _0x4bf171=Object[_0x452b6f(0x7d0)](_0x3838bd[_0x452b6f(0x714)]||{});if(_0x4bf171['length']>0x0){const _0x4702c0=_0x4bf171[_0x452b6f(0xa7e)](_0x4cd392=>_0x4cd392[_0x452b6f(0x7f5)]===!![]);_0x4702c0&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x3838bd);}else{if(_0x3838bd[_0x452b6f(0x800)]===_0x452b6f(0x71a)||_0x3838bd[_0x452b6f(0x800)]===_0x452b6f(0x3e4)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x3838bd[_0x452b6f(0x828)]===_0x452b6f(0x608)){const _0x45dfbc=_0x3838bd[_0x452b6f(0x714)][userId];(!_0x45dfbc||!_0x45dfbc[_0x452b6f(0x7f5)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x3d5d7e){const _0x5a65e6=_0x599685;console['log'](_0x5a65e6(0x8ee));const _0x474683=doc(db,'artifacts/'+appId+_0x5a65e6(0x386),_0x3d5d7e);try{const _0x3e623d=await getDoc(_0x474683);if(_0x3e623d[_0x5a65e6(0x478)]()){const _0x3bfdee=_0x3e623d[_0x5a65e6(0x7e5)]();_0x3bfdee[_0x5a65e6(0x428)]&&await saveGameResultsAsSubmissions(_0x3bfdee);}await updateDoc(_0x474683,{'status':_0x5a65e6(0x71a)});}catch(_0x53c8e9){console['error'](_0x5a65e6(0x9e2),_0x53c8e9);}}function updateAdminTeamDashboard(_0x5a1632){const _0x8e27b9=_0x599685,_0x3b48cd=document[_0x8e27b9(0x6f5)](_0x8e27b9(0x2a0));if(!_0x3b48cd)return;const _0x596633=_0x5a1632[_0x8e27b9(0x828)]||_0x8e27b9(0x8d7),_0x28b1a9=currentQuizData[_0x8e27b9(0x4ac)]['length'];if(_0x596633==='group'){const _0x322ae2=Object[_0x8e27b9(0x7d0)](_0x5a1632[_0x8e27b9(0x714)]||{});if(_0x322ae2[_0x8e27b9(0x5b5)]===0x0){_0x3b48cd[_0x8e27b9(0x88b)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0xee1770=[..._0x322ae2][_0x8e27b9(0xab3)]((_0x8dabf7,_0x45f73d)=>_0x45f73d[_0x8e27b9(0x9df)]-_0x8dabf7[_0x8e27b9(0x9df)]),_0x452ef4=_0xee1770[_0x8e27b9(0x392)]((_0xb84ecd,_0x3d6668)=>{const _0xd3f830=_0x8e27b9,_0x4bbcba=_0xb84ecd['answers']?.[_0xd3f830(0x5b5)]||0x0;return _0xd3f830(0x7ba)+(_0x3d6668+0x1)+_0xd3f830(0x539)+_0xb84ecd[_0xd3f830(0x408)][_0xd3f830(0x70f)](',\x20')+_0xd3f830(0x3ef)+_0x4bbcba+'/'+_0x28b1a9+_0xd3f830(0xa37)+_0xb84ecd[_0xd3f830(0x9df)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x8e27b9(0x70f)](''),_0xa828b=currentQuizData[_0x8e27b9(0x4ac)][_0x8e27b9(0x392)]((_0x1cb0b1,_0x51e8cf)=>{const _0x47d1ee=_0x8e27b9;let _0x550dc8=0x0,_0x1d90d1=0x0;_0x322ae2[_0x47d1ee(0x24d)](_0x2997ae=>{const _0xd61634=_0x47d1ee,_0x3293fc=_0x2997ae['answers']?.[_0xd61634(0x726)](_0x3df41a=>_0x3df41a[_0xd61634(0x9c4)]===_0x51e8cf);if(_0x3293fc){_0x1d90d1++;if(_0x3293fc[_0xd61634(0x635)])_0x550dc8++;}});const _0x4aa4f9=_0x1d90d1>0x0&&_0x1d90d1===_0x322ae2['length'],_0x561ee6=_0x4aa4f9?_0x47d1ee(0x5e7):_0x47d1ee(0x7af),_0x3107bb=_0x4aa4f9?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return _0x47d1ee(0x4e9)+_0x561ee6+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x51e8cf+0x1)+':</span><span>'+_0x3107bb+_0x47d1ee(0x50f)+_0x550dc8+'/'+_0x322ae2[_0x47d1ee(0x5b5)]+_0x47d1ee(0x785);})['join']('');_0x3b48cd['innerHTML']=_0x8e27b9(0x1ca)+_0x452ef4+_0x8e27b9(0x857)+_0xa828b+_0x8e27b9(0x1ce);return;}const _0x515573=_0x5a1632[_0x8e27b9(0x843)]||{},_0x5d10ee=Object[_0x8e27b9(0x937)](_0x515573);if(_0x5d10ee['length']===0x0){_0x3b48cd[_0x8e27b9(0x88b)]=_0x8e27b9(0x24e);return;}const _0x34b741=_0x5d10ee[_0x8e27b9(0x392)](_0x322cf2=>({'name':_0x322cf2,'score':_0x515573[_0x322cf2][_0x8e27b9(0x9df)]||0x0}))[_0x8e27b9(0xab3)]((_0x9a6ec0,_0x15caab)=>_0x15caab[_0x8e27b9(0x9df)]-_0x9a6ec0['score']),_0x2cab8b=_0x34b741[_0x8e27b9(0x392)](_0x288c54=>{const _0x38d396=_0x8e27b9,_0x4a1f4a=_0x515573[_0x288c54[_0x38d396(0x472)]]?.[_0x38d396(0xa62)]?.[_0x38d396(0x5b5)]||0x0,_0x58fc66=Math[_0x38d396(0x86d)](_0x28b1a9/_0x5d10ee[_0x38d396(0x5b5)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x288c54[_0x38d396(0x472)]+_0x38d396(0x9da)+_0x4a1f4a+'/'+_0x58fc66+_0x38d396(0x1d1)+_0x288c54[_0x38d396(0x9df)]+_0x38d396(0xa0d);})[_0x8e27b9(0x70f)](''),_0x45caad=_0x5d10ee[_0x8e27b9(0x297)]((_0x461357,_0x319308)=>_0x461357+(_0x515573[_0x319308][_0x8e27b9(0xa62)]?.[_0x8e27b9(0x5b5)]||0x0),0x0),_0x24f4dc=currentQuizData['questions'][_0x8e27b9(0x392)]((_0x210082,_0x308091)=>{const _0x1f5765=_0x8e27b9;let _0x2e688e=null,_0x4ad8c8=null;for(const _0x298ef3 of _0x5d10ee){const _0x47ad50=_0x515573[_0x298ef3]['answers']?.[_0x1f5765(0x726)](_0x797b1e=>_0x797b1e[_0x1f5765(0x9c4)]===_0x308091);if(_0x47ad50){_0x2e688e=_0x47ad50,_0x4ad8c8=_0x298ef3;break;}}const _0x515fd5=!!_0x2e688e,_0x25cfff=_0x515fd5&&_0x2e688e[_0x1f5765(0x635)],_0x708a5c=(Math['floor'](_0x308091/_0x5d10ee[_0x1f5765(0x5b5)])+0x1)*_0x5d10ee['length'],_0x586ca8=_0x45caad>=_0x708a5c,_0x51bb13=_0x586ca8?_0x1f5765(0x2c2):_0x1f5765(0x7af),_0x26782f=_0x586ca8?_0x1f5765(0x9b4):'';let _0x4c5cc6=_0x1f5765(0x764);return _0x515fd5&&(_0x4c5cc6=_0x4ad8c8+_0x1f5765(0xa8d)+(_0x25cfff?_0x1f5765(0x9db):'ผิด')),_0x1f5765(0x4e9)+_0x51bb13+_0x1f5765(0x66e)+(_0x308091+0x1)+_0x1f5765(0x612)+_0x26782f+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x4c5cc6+_0x1f5765(0x76b);})[_0x8e27b9(0x70f)]('');_0x3b48cd['innerHTML']=_0x8e27b9(0x1fa)+_0x2cab8b+_0x8e27b9(0x9eb)+_0x24f4dc+_0x8e27b9(0x1ce);}async function handleJoinTeamQuiz(){const _0x22141c=_0x599685,_0x421cb0=prompt(_0x22141c(0x4c2));if(!_0x421cb0||_0x421cb0[_0x22141c(0x8cf)]()[_0x22141c(0x5b5)]!==0x4){showMessage(_0x22141c(0x1be));return;}try{const _0x8c8b0e=collection(db,_0x22141c(0x3d7)+appId+_0x22141c(0x386)),_0x549ca5=query(_0x8c8b0e,where(_0x22141c(0xa94),'==',_0x421cb0[_0x22141c(0x8cf)]()),where(_0x22141c(0x800),'==',_0x22141c(0x9d0))),_0x279d91=await getDocs(_0x549ca5);if(_0x279d91[_0x22141c(0xa41)]){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x1ea4af=_0x279d91[_0x22141c(0x5e9)][0x0];currentTeamQuizId=_0x1ea4af['id'];const _0x35ccc5=_0x1ea4af[_0x22141c(0x7e5)](),_0x116e39=doc(db,_0x22141c(0x3d7)+appId+_0x22141c(0x581),_0x35ccc5[_0x22141c(0x7f1)]),_0x4d1a19=doc(db,_0x22141c(0x3d7)+appId+_0x22141c(0x198),_0x35ccc5['quizId']),[_0x2b72b6,_0x4fe118]=await Promise[_0x22141c(0xa60)]([getDoc(_0x116e39),getDoc(_0x4d1a19)]);if(!_0x2b72b6['exists']()||!_0x4fe118[_0x22141c(0x478)]())throw new Error(_0x22141c(0x469));currentQuizData=getShuffledQuiz({'id':_0x4fe118['id'],..._0x4fe118[_0x22141c(0x7e5)]()});const _0x160093=_0x2b72b6[_0x22141c(0x7e5)]();showTeamPlayerSelection(_0x160093[_0x22141c(0x1a6)],currentQuizData[_0x22141c(0x699)]);}catch(_0x58e884){console['error'](_0x22141c(0xa3c),_0x58e884),showMessage(_0x22141c(0x859)+_0x58e884[_0x22141c(0x1fc)]);}}async function handleJoinGroupActivity(){const _0x5b58cd=_0x599685,_0x3cb3cd=prompt(_0x5b58cd(0x923));if(!_0x3cb3cd||_0x3cb3cd[_0x5b58cd(0x8cf)]()[_0x5b58cd(0x5b5)]!==0x4){showMessage(_0x5b58cd(0x40e));return;}const _0x14bf92=_0x3cb3cd['trim']();showMessage(_0x5b58cd(0x644));try{const _0x1bf92d=collection(db,_0x5b58cd(0x3d7)+appId+_0x5b58cd(0x386)),_0x23116a=query(_0x1bf92d,where(_0x5b58cd(0xa94),'==',_0x14bf92),where(_0x5b58cd(0x800),'==',_0x5b58cd(0x9d0))),_0x242f59=await getDocs(_0x23116a);if(!_0x242f59[_0x5b58cd(0xa41)]){console[_0x5b58cd(0x8af)](_0x5b58cd(0x37a)),await proceedWithTeamQuizJoin(_0x242f59[_0x5b58cd(0x5e9)][0x0]);return;}const _0x4168af=collection(db,'artifacts/'+appId+_0x5b58cd(0x3c7)),_0x3b48b4=query(_0x4168af,where(_0x5b58cd(0xa94),'==',_0x14bf92),where('status','==',_0x5b58cd(0x9d0))),_0x8a6aac=await getDocs(_0x3b48b4);if(!_0x8a6aac[_0x5b58cd(0xa41)]){console['log'](_0x5b58cd(0x686)),await proceedWithSyncQuizJoin(_0x8a6aac[_0x5b58cd(0x5e9)][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0xaa5d99){console[_0x5b58cd(0x30a)](_0x5b58cd(0x1a9),_0xaa5d99),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0xaa5d99[_0x5b58cd(0x1fc)]);}}async function proceedWithTeamQuizJoin(_0x2809d1){const _0x27f26e=_0x599685;currentTeamQuizId=_0x2809d1['id'];const _0x232478=_0x2809d1[_0x27f26e(0x7e5)](),_0x341945=doc(db,_0x27f26e(0x3d7)+appId+'/public/data/projects',_0x232478[_0x27f26e(0x7f1)]),_0x881c1d=doc(db,_0x27f26e(0x3d7)+appId+'/public/data/quizzes',_0x232478[_0x27f26e(0x7e4)]),[_0x56108f,_0x351c4e]=await Promise[_0x27f26e(0xa60)]([getDoc(_0x341945),getDoc(_0x881c1d)]);if(!_0x56108f[_0x27f26e(0x478)]()||!_0x351c4e[_0x27f26e(0x478)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x351c4e['id'],..._0x351c4e['data']()}),showTeamPlayerSelection(_0x56108f[_0x27f26e(0x7e5)]()[_0x27f26e(0x1a6)],currentQuizData[_0x27f26e(0x699)],_0x232478[_0x27f26e(0x828)]||'team'),messageModal[_0x27f26e(0x7ad)][_0x27f26e(0x25c)](_0x27f26e(0x180));}async function proceedWithSyncQuizJoin(_0xe95e9d){const _0x26e89f=_0x599685;currentLiveGameId=_0xe95e9d['id'];const _0x14028b=_0xe95e9d[_0x26e89f(0x7e5)](),_0x4107b9=doc(db,_0x26e89f(0x3d7)+appId+_0x26e89f(0x198),_0x14028b[_0x26e89f(0x7e4)]),_0x2f6928=await getDoc(_0x4107b9);if(!_0x2f6928[_0x26e89f(0x478)]())throw new Error(_0x26e89f(0x5d4));const _0x2ab975=_0x2f6928[_0x26e89f(0x7e5)](),_0x5a1fc8=doc(db,_0x26e89f(0x3d7)+appId+_0x26e89f(0x581),_0x2ab975[_0x26e89f(0x7f1)]),_0x44d9d3=await getDoc(_0x5a1fc8);if(!_0x44d9d3[_0x26e89f(0x478)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x14028b[_0x26e89f(0x6de)],showView(_0x26e89f(0xa39)),showTeamPlayerSelection(_0x44d9d3[_0x26e89f(0x7e5)]()[_0x26e89f(0x1a6)],_0x2ab975[_0x26e89f(0x699)],_0x26e89f(0x1f0)),document[_0x26e89f(0x6f5)](_0x26e89f(0x2c3))['onclick']=confirmAndJoinSyncGame,messageModal[_0x26e89f(0x7ad)][_0x26e89f(0x25c)](_0x26e89f(0x180));}function showTeamPlayerSelection(_0x4b2b57,_0x4f48a1,_0x3cdbeb=_0x599685(0x8d7)){const _0xa71eaa=_0x599685;studentInitialView[_0xa71eaa(0x7ad)][_0xa71eaa(0x25c)](_0xa71eaa(0x180)),studentJoinGameView[_0xa71eaa(0x7ad)][_0xa71eaa(0x25c)](_0xa71eaa(0x180)),document[_0xa71eaa(0x6f5)](_0xa71eaa(0x19f))['classList'][_0xa71eaa(0xac8)]('hidden');let _0x25a44c=_0xa71eaa(0x2e7);if(_0x3cdbeb===_0xa71eaa(0x608))_0x25a44c=_0xa71eaa(0x1ba);else _0x3cdbeb==='sync'&&(_0x25a44c=_0xa71eaa(0x51c));document[_0xa71eaa(0x6f5)](_0xa71eaa(0xa90))[_0xa71eaa(0x406)]=_0x25a44c+':\x20'+_0x4f48a1;const _0x1045ed=document['getElementById'](_0xa71eaa(0x51e));if(!_0x4b2b57||_0x4b2b57['length']===0x0){_0x1045ed[_0xa71eaa(0x88b)]=_0xa71eaa(0x305),document[_0xa71eaa(0x6f5)](_0xa71eaa(0x2c3))[_0xa71eaa(0x8c1)]=!![];return;}_0x1045ed[_0xa71eaa(0x88b)]=_0x4b2b57[_0xa71eaa(0x392)](_0x51978f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x51978f+_0xa71eaa(0x605)+_0x51978f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')['join'](''),document[_0xa71eaa(0x6f5)](_0xa71eaa(0x2c3))[_0xa71eaa(0x8c1)]=![];}async function confirmAndStartTeamQuiz(){const _0x316cb5=_0x599685,_0x4758bb=Array[_0x316cb5(0x189)](document[_0x316cb5(0x3b5)](_0x316cb5(0x42b)))[_0x316cb5(0x392)](_0x3faac6=>_0x3faac6[_0x316cb5(0x8c4)]);if(_0x4758bb['length']===0x0){showMessage(_0x316cb5(0x789));return;}localTeamPlayers=_0x4758bb,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x18295a=doc(db,'artifacts/'+appId+_0x316cb5(0x386),currentTeamQuizId);try{const _0x29fb25=await getDoc(_0x18295a);if(!_0x29fb25[_0x316cb5(0x478)]())throw new Error(_0x316cb5(0x615));const _0xac823=_0x29fb25[_0x316cb5(0x7e5)]();if(_0xac823[_0x316cb5(0x828)]==='group'){const _0x5c90b2={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x18295a,_0x5c90b2);}else{const _0x45f903=_0xac823[_0x316cb5(0x843)]||{};localTeamPlayers[_0x316cb5(0x24d)](_0x7304e0=>{!_0x45f903[_0x7304e0]&&(_0x45f903[_0x7304e0]={'score':0x0,'answers':[]});}),await updateDoc(_0x18295a,{'responses':_0x45f903});}document[_0x316cb5(0x6f5)](_0x316cb5(0x19f))[_0x316cb5(0x7ad)][_0x316cb5(0x25c)]('hidden'),renderTeamQuizQuestion();const _0x1bfbf9={'gameId':currentTeamQuizId,'mode':_0xac823['mode']||_0x316cb5(0x8d7),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x316cb5(0x5ce)]('activeGameSession',JSON[_0x316cb5(0x3eb)](_0x1bfbf9)),listenForTeamQuizUpdates();}catch(_0x406516){console[_0x316cb5(0x30a)]('Error\x20confirming\x20players:',_0x406516),showMessage(_0x316cb5(0x5d2));}}async function renderTeamQuizQuestion(){const _0x1396fb=_0x599685;if(localQuestionIndex>=currentQuizData[_0x1396fb(0x4ac)][_0x1396fb(0x5b5)]){displayTeamQuizFinalResults();return;}const _0x23f116=currentQuizData['questions'][localQuestionIndex],_0x3adcd9=localTeamPlayers[localPlayerIndex],_0x4b89f9=_0x23f116[_0x1396fb(0x5e5)]||currentQuizData[_0x1396fb(0x1a3)];let _0x335cd5=_0x23f116[_0x1396fb(0x9a4)]||_0x23f116['questionText'],_0x17c026='';switch(_0x4b89f9){case _0x1396fb(0x9bb):case'fill_in_with_choices':_0x17c026=_0x23f116['options'][_0x1396fb(0x392)]((_0x5258c4,_0x41f1a1)=>_0x1396fb(0x321)+_0x41f1a1+_0x1396fb(0x5ed)+_0x41f1a1+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x41f1a1+'\x22>'+_0x5258c4+'</label></div>')[_0x1396fb(0x70f)]('');break;case _0x1396fb(0x932):_0x17c026=_0x1396fb(0x3a2);break;case _0x1396fb(0x7ff):case'fill_in_no_choices':_0x17c026='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0x1396fb(0x228):_0x17c026=_0x1396fb(0x58e)+_0x23f116['allResponses']['map'](_0x143823=>'<option\x20value=\x22'+_0x143823+'\x22>'+_0x143823+_0x1396fb(0x4ba))[_0x1396fb(0x70f)]('')+_0x1396fb(0x643);break;default:_0x17c026=_0x1396fb(0x9f3);break;}studentQuizArea[_0x1396fb(0x88b)]=_0x1396fb(0x1a8)+(localQuestionIndex+0x1)+_0x1396fb(0x660)+currentQuizData[_0x1396fb(0x4ac)][_0x1396fb(0x5b5)]+_0x1396fb(0x28c)+_0x3adcd9+_0x1396fb(0x4a1)+(localQuestionIndex+0x1)+'.\x20'+_0x335cd5+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x23f116[_0x1396fb(0x248)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x23f116[_0x1396fb(0x248)]+'</div>':'')+_0x1396fb(0xaaa)+_0x17c026+_0x1396fb(0x904),studentQuizArea[_0x1396fb(0x7ad)]['remove'](_0x1396fb(0x180));if(window[_0x1396fb(0x4dd)])MathJax[_0x1396fb(0x908)]([studentQuizArea]);document[_0x1396fb(0x6f5)](_0x1396fb(0x65b))[_0x1396fb(0x2a3)](_0x1396fb(0x41c),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x692a18=_0x599685,_0x3edb0e=currentQuizData[_0x692a18(0x4ac)][localQuestionIndex],_0x341374=_0x3edb0e['questionType']||currentQuizData[_0x692a18(0x1a3)];let _0x131d37=null,_0x13a912=![];if(_0x341374==='short_answer'||_0x341374===_0x692a18(0x2d8)){const _0x4104bc=document[_0x692a18(0x9ae)]('textarea[name=\x22team_answer\x22]');if(!_0x4104bc||!_0x4104bc['value']['trim']()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x131d37=_0x4104bc[_0x692a18(0x8c4)][_0x692a18(0x8cf)](),_0x13a912=await gradeShortAnswer(_0x131d37,_0x3edb0e);}else{const _0x11f4f9=document[_0x692a18(0x9ae)](_0x692a18(0x658));if(!_0x11f4f9||_0x11f4f9[_0x692a18(0x8c4)]===''){showMessage(_0x692a18(0x2b9));return;}_0x131d37=_0x11f4f9[_0x692a18(0x8c4)];switch(_0x341374){case _0x692a18(0x932):_0x13a912=_0x131d37===_0x692a18(0x630)===_0x3edb0e['correctAnswer'];break;case _0x692a18(0x228):_0x13a912=_0x131d37===_0x3edb0e[_0x692a18(0xa0f)];break;default:_0x13a912=parseInt(_0x131d37)===_0x3edb0e['correctAnswerIndex'];break;}}const _0x9cc4bf={'questionIndex':localQuestionIndex,'isCorrect':_0x13a912},_0x3e120d=userId,_0x5a2a55={[_0x692a18(0x913)+_0x3e120d+_0x692a18(0x282)]:arrayUnion(_0x9cc4bf)};_0x13a912&&(_0x5a2a55['groups.'+_0x3e120d+_0x692a18(0x836)]=increment(0x1));try{await updateDoc(doc(db,_0x692a18(0x3d7)+appId+_0x692a18(0x386),currentTeamQuizId),_0x5a2a55),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x692a18(0x4ac)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x5abd8b){console[_0x692a18(0x30a)](_0x692a18(0x7bb),_0x5abd8b),showMessage(_0x692a18(0x187));}}async function handleTeamAnswerSubmit(){const _0x7b5288=_0x599685,_0x4dee08=await getDoc(doc(db,'artifacts/'+appId+_0x7b5288(0x386),currentTeamQuizId));if(!_0x4dee08['exists']())return;const _0x1c2a39=_0x4dee08[_0x7b5288(0x7e5)]();if(_0x1c2a39['mode']===_0x7b5288(0x608)){handleGroupAnswerSubmit();return;}const _0x16129b=localTeamPlayers[localPlayerIndex],_0x15c918=currentQuizData[_0x7b5288(0x4ac)][localQuestionIndex],_0x57a27b=_0x15c918['questionType']||currentQuizData['quizType'];let _0x407a6b=null,_0x5764e0=![];if(_0x57a27b===_0x7b5288(0x7ff)||_0x57a27b===_0x7b5288(0x2d8)){const _0x199de1=document[_0x7b5288(0x9ae)](_0x7b5288(0x256));if(!_0x199de1||!_0x199de1['value'][_0x7b5288(0x8cf)]()){showMessage(_0x7b5288(0x610));return;}_0x407a6b=_0x199de1[_0x7b5288(0x8c4)][_0x7b5288(0x8cf)](),_0x5764e0=await gradeShortAnswer(_0x407a6b,_0x15c918);}else{const _0x4b9e96=document[_0x7b5288(0x9ae)](_0x7b5288(0x658));if(!_0x4b9e96||_0x4b9e96[_0x7b5288(0x8c4)]===''){showMessage(_0x7b5288(0x777));return;}_0x407a6b=_0x4b9e96[_0x7b5288(0x8c4)];switch(_0x57a27b){case'true_false':_0x5764e0=_0x407a6b===_0x7b5288(0x630)===_0x15c918[_0x7b5288(0xa0b)];break;case _0x7b5288(0x228):_0x5764e0=_0x407a6b===_0x15c918['correctResponse'];break;default:_0x5764e0=parseInt(_0x407a6b)===_0x15c918[_0x7b5288(0x5db)];break;}}const _0x456ed2={'questionIndex':localQuestionIndex,'isCorrect':_0x5764e0,'answerValue':_0x407a6b},_0x44af74={[_0x7b5288(0x543)+_0x16129b+_0x7b5288(0x282)]:arrayUnion(_0x456ed2)};_0x5764e0&&(_0x44af74[_0x7b5288(0x543)+_0x16129b+_0x7b5288(0x836)]=increment(0x1));try{await updateDoc(doc(db,_0x7b5288(0x3d7)+appId+_0x7b5288(0x386),currentTeamQuizId),_0x44af74),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x2bbae5){console[_0x7b5288(0x30a)](_0x7b5288(0x38f),_0x2bbae5),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x2ff724=_0x599685;studentQuizArea['classList'][_0x2ff724(0x25c)]('hidden'),studentResultArea[_0x2ff724(0x7ad)]['remove']('hidden');const _0x259f86=doc(db,_0x2ff724(0x3d7)+appId+_0x2ff724(0x386),currentTeamQuizId),_0x211114=await getDoc(_0x259f86);if(!_0x211114[_0x2ff724(0x478)]()){studentResultArea[_0x2ff724(0x88b)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x474a88=_0x211114[_0x2ff724(0x7e5)]();let _0x18e7ca=[];const _0x3bc7ee=_0x474a88[_0x2ff724(0x828)]||_0x2ff724(0x8d7);if(_0x3bc7ee===_0x2ff724(0x608)){const _0x2ce3b2=_0x474a88[_0x2ff724(0x714)][userId];_0x2ce3b2?_0x18e7ca=[{'name':_0x2ff724(0x560)+localTeamPlayers['join'](',\x20'),'score':_0x2ce3b2[_0x2ff724(0x9df)]||0x0}]:_0x18e7ca=[{'name':_0x2ff724(0x448),'score':'N/A'}];}else _0x18e7ca=localTeamPlayers[_0x2ff724(0x392)](_0x1f63d7=>({'name':_0x1f63d7,'score':_0x474a88[_0x2ff724(0x843)][_0x1f63d7]?.[_0x2ff724(0x9df)]||0x0}))[_0x2ff724(0xab3)]((_0x4e4b37,_0x1c10d6)=>_0x1c10d6[_0x2ff724(0x9df)]-_0x4e4b37[_0x2ff724(0x9df)]);studentResultArea['innerHTML']=_0x2ff724(0x961)+_0x18e7ca[_0x2ff724(0x392)](_0x59f03b=>_0x2ff724(0x83c)+_0x59f03b[_0x2ff724(0x472)]+_0x2ff724(0x8fd)+_0x59f03b[_0x2ff724(0x9df)]+_0x2ff724(0x4ce))[_0x2ff724(0x70f)]('')+_0x2ff724(0x703),sessionStorage[_0x2ff724(0x363)](_0x2ff724(0x2b6)),currentMode===_0x2ff724(0x750)&&currentTeamQuizId&&setTimeout(()=>{const _0x12064a=_0x2ff724;deleteDoc(doc(db,'artifacts/'+appId+_0x12064a(0x386),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x599685(0x1e4),'pinnedProjects':[],'projectView':_0x599685(0x28d)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x599685(0x4e8)},{'category':'จำนวนและการดำเนินการ','name':_0x599685(0x8c3)},{'category':'จำนวนและการดำเนินการ','name':_0x599685(0x4b2)},{'category':'จำนวนและการดำเนินการ','name':_0x599685(0xa36)},{'category':_0x599685(0x98d),'name':_0x599685(0x571)},{'category':'จำนวนและการดำเนินการ','name':_0x599685(0x18c)},{'category':_0x599685(0x98d),'name':_0x599685(0x22a)},{'category':_0x599685(0x98d),'name':_0x599685(0x270)},{'category':'จำนวนและการดำเนินการ','name':_0x599685(0x4a6)},{'category':'จำนวนและการดำเนินการ','name':_0x599685(0x23c)},{'category':_0x599685(0x98d),'name':'ศูนย์'},{'category':_0x599685(0x98d),'name':'ค่าสัมบูรณ์'},{'category':_0x599685(0x98d),'name':'เส้นจำนวน'},{'category':_0x599685(0x98d),'name':_0x599685(0x481)},{'category':_0x599685(0x98d),'name':_0x599685(0x231)},{'category':_0x599685(0x98d),'name':_0x599685(0x391)},{'category':_0x599685(0x98d),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x599685(0x98d),'name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':_0x599685(0x3ff)},{'category':_0x599685(0x98d),'name':'การบวกเศษส่วน'},{'category':_0x599685(0x98d),'name':_0x599685(0x9d9)},{'category':_0x599685(0x98d),'name':_0x599685(0x983)},{'category':_0x599685(0x98d),'name':_0x599685(0x1db)},{'category':_0x599685(0x98d),'name':'จำนวนคละ'},{'category':_0x599685(0x98d),'name':_0x599685(0x6ba)},{'category':_0x599685(0x98d),'name':_0x599685(0x959)},{'category':_0x599685(0x98d),'name':'การลบทศนิยม'},{'category':_0x599685(0x98d),'name':_0x599685(0xa84)},{'category':'จำนวนและการดำเนินการ','name':_0x599685(0x902)},{'category':'จำนวนและการดำเนินการ','name':_0x599685(0x6c4)},{'category':_0x599685(0x98d),'name':'ร้อยละพื้นฐาน'},{'category':_0x599685(0x98d),'name':_0x599685(0x6d5)},{'category':'จำนวนและการดำเนินการ','name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x599685(0x98d),'name':_0x599685(0x5e3)},{'category':'จำนวนและการดำเนินการ','name':_0x599685(0x7e0)},{'category':_0x599685(0x98d),'name':'รูปสแควร์รูท\x20(surd)'},{'category':'จำนวนและการดำเนินการ','name':_0x599685(0xa6f)},{'category':_0x599685(0x3a3),'name':'หน่วยความยาวและการแปลง'},{'category':_0x599685(0x3a3),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x599685(0x3a3),'name':_0x599685(0x8b7)},{'category':_0x599685(0x3a3),'name':_0x599685(0x3d3)},{'category':'การวัด','name':_0x599685(0x78d)},{'category':'การวัด','name':'เส้นรอบรูป'},{'category':'การวัด','name':'พื้นที่สี่เหลี่ยม'},{'category':_0x599685(0x3a3),'name':_0x599685(0xab7)},{'category':_0x599685(0x3a3),'name':_0x599685(0x39d)},{'category':_0x599685(0x3a3),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':'การวัด','name':_0x599685(0x2a5)},{'category':'การวัด','name':_0x599685(0x1f2)},{'category':'การวัด','name':_0x599685(0x3a4)},{'category':_0x599685(0x3a3),'name':_0x599685(0x418)},{'category':'เรขาคณิต','name':_0x599685(0x636)},{'category':_0x599685(0x698),'name':_0x599685(0x619)},{'category':_0x599685(0x698),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x599685(0x698),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x599685(0x698),'name':_0x599685(0x849)},{'category':_0x599685(0x698),'name':_0x599685(0x824)},{'category':_0x599685(0x698),'name':_0x599685(0x8f7)},{'category':_0x599685(0x698),'name':_0x599685(0x281)},{'category':'เรขาคณิต','name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x599685(0x698),'name':_0x599685(0x30b)},{'category':'เรขาคณิต','name':_0x599685(0x882)},{'category':_0x599685(0x698),'name':_0x599685(0x26a)},{'category':_0x599685(0x698),'name':_0x599685(0x9a7)},{'category':_0x599685(0x698),'name':_0x599685(0x9b0)},{'category':_0x599685(0x698),'name':_0x599685(0x502)},{'category':_0x599685(0x86b),'name':_0x599685(0x64d)},{'category':_0x599685(0x86b),'name':_0x599685(0x511)},{'category':_0x599685(0x86b),'name':_0x599685(0x182)},{'category':_0x599685(0x86b),'name':_0x599685(0x331)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x599685(0x86b),'name':_0x599685(0x68e)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x599685(0x86b),'name':_0x599685(0x4bc)},{'category':_0x599685(0x86b),'name':_0x599685(0x351)},{'category':_0x599685(0x86b),'name':_0x599685(0x690)},{'category':_0x599685(0x86b),'name':_0x599685(0x2d9)},{'category':_0x599685(0x86b),'name':_0x599685(0x277)},{'category':_0x599685(0x86b),'name':'สมการลอการิทึม'},{'category':_0x599685(0x86b),'name':_0x599685(0x44a)},{'category':_0x599685(0x86b),'name':_0x599685(0x872)},{'category':_0x599685(0x86b),'name':_0x599685(0x68c)},{'category':_0x599685(0x86b),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x599685(0x86b),'name':_0x599685(0x3af)},{'category':_0x599685(0x86b),'name':_0x599685(0x1b2)},{'category':_0x599685(0x86b),'name':_0x599685(0x2ce)},{'category':_0x599685(0x86b),'name':_0x599685(0x303)},{'category':_0x599685(0x86b),'name':_0x599685(0x49b)},{'category':_0x599685(0x86b),'name':_0x599685(0x52d)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันพหุนาม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x599685(0x953)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x599685(0x5c9)},{'category':_0x599685(0x86b),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x599685(0x505)},{'category':_0x599685(0x86b),'name':_0x599685(0x8c0)},{'category':_0x599685(0x86b),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x599685(0x86b),'name':_0x599685(0x89d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x599685(0xa91)},{'category':_0x599685(0x86b),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x599685(0x86b),'name':_0x599685(0x28b)},{'category':_0x599685(0x86b),'name':_0x599685(0x670)},{'category':_0x599685(0x2ed),'name':_0x599685(0x318)},{'category':_0x599685(0x2ed),'name':_0x599685(0x507)},{'category':_0x599685(0x2ed),'name':_0x599685(0x1f9)},{'category':'เรขาคณิตวิเคราะห์','name':_0x599685(0xa98)},{'category':_0x599685(0x2ed),'name':_0x599685(0x8b9)},{'category':'เรขาคณิตวิเคราะห์','name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x599685(0x2ed),'name':_0x599685(0x27e)},{'category':_0x599685(0x2ed),'name':_0x599685(0x60b)},{'category':'เรขาคณิตวิเคราะห์','name':'ไฮเพอร์โบลา'},{'category':'ตรีโกณมิติ','name':_0x599685(0xab6)},{'category':_0x599685(0x419),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x599685(0x419),'name':_0x599685(0x349)},{'category':_0x599685(0x419),'name':_0x599685(0x5a8)},{'category':_0x599685(0x419),'name':_0x599685(0xa04)},{'category':'ตรีโกณมิติ','name':_0x599685(0xa7b)},{'category':_0x599685(0x419),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':'ตรีโกณมิติ','name':'การแปลงรูปอัตลักษณ์'},{'category':_0x599685(0x419),'name':_0x599685(0x6be)},{'category':_0x599685(0x419),'name':_0x599685(0x768)},{'category':_0x599685(0x419),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x599685(0x252),'name':_0x599685(0x4b3)},{'category':_0x599685(0x252),'name':_0x599685(0x709)},{'category':_0x599685(0x252),'name':'ตารางความถี่'},{'category':_0x599685(0x252),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x599685(0x252),'name':'ฮิสโตแกรม'},{'category':_0x599685(0x252),'name':_0x599685(0x7cc)},{'category':'สถิติและความน่าจะเป็น','name':'ค่าเฉลี่ย'},{'category':_0x599685(0x252),'name':_0x599685(0x573)},{'category':_0x599685(0x252),'name':_0x599685(0x471)},{'category':'สถิติและความน่าจะเป็น','name':_0x599685(0x929)},{'category':'สถิติและความน่าจะเป็น','name':_0x599685(0x5c2)},{'category':_0x599685(0x252),'name':_0x599685(0x86e)},{'category':'สถิติและความน่าจะเป็น','name':_0x599685(0x41d)},{'category':'สถิติและความน่าจะเป็น','name':_0x599685(0x8df)},{'category':_0x599685(0x252),'name':_0x599685(0x625)},{'category':_0x599685(0x252),'name':_0x599685(0x9fb)},{'category':_0x599685(0x252),'name':_0x599685(0x807)},{'category':_0x599685(0x252),'name':'แผนภาพเวนน์'},{'category':_0x599685(0x252),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x599685(0x252),'name':_0x599685(0x628)},{'category':_0x599685(0x252),'name':_0x599685(0x667)},{'category':_0x599685(0x252),'name':'การจัดหมู่\x20(Combination)'},{'category':'สถิติและความน่าจะเป็น','name':_0x599685(0x9b9)},{'category':_0x599685(0x252),'name':_0x599685(0xa02)},{'category':_0x599685(0x279),'name':_0x599685(0x993)},{'category':_0x599685(0x279),'name':_0x599685(0x4e2)},{'category':_0x599685(0x279),'name':_0x599685(0x3dd)},{'category':_0x599685(0x279),'name':_0x599685(0x5c5)},{'category':_0x599685(0x279),'name':_0x599685(0x45b)},{'category':_0x599685(0x279),'name':_0x599685(0x4b7)},{'category':_0x599685(0x279),'name':'ความชันเส้นสัมผัส'},{'category':_0x599685(0x279),'name':_0x599685(0x266)},{'category':_0x599685(0x279),'name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x599685(0x32e)},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์จำกัด'},{'category':_0x599685(0x279),'name':_0x599685(0x229)},{'category':'แคลคูลัสเบื้องต้น','name':_0x599685(0x86f)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x599685(0x207),'name':_0x599685(0x1f6)},{'category':_0x599685(0x207),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x599685(0x207),'name':_0x599685(0x4dc)},{'category':_0x599685(0x207),'name':_0x599685(0x78f)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x599685(0x9c7)},{'category':_0x599685(0x207),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x599685(0x5c3),'name':_0x599685(0x918)},{'category':_0x599685(0x5c3),'name':_0x599685(0x84c)},{'category':_0x599685(0x5c3),'name':_0x599685(0x5fc)},{'category':'คณิตการเงิน/บูรณาการ','name':'ค่าเสื่อมราคา'},{'category':_0x599685(0x5c3),'name':_0x599685(0x94c)},{'category':_0x599685(0x473),'name':_0x599685(0x8bf)},{'category':_0x599685(0x473),'name':_0x599685(0x403)},{'category':_0x599685(0x473),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x392b61=_0x599685,_0x417a01=document['getElementById'](_0x392b61(0x845));if(!_0x417a01)return;const _0xa32a5d=allMathTopics,_0x33c460=customMathTopics[_0x392b61(0x392)](_0x3efd2c=>({'id':_0x3efd2c['id'],'category':'หัวข้อที่สร้างเอง','name':_0x3efd2c[_0x392b61(0x472)]})),_0x8588c7=[..._0xa32a5d,..._0x33c460],_0x28cf0d=_0x8588c7[_0x392b61(0x297)]((_0x179b73,_0x55926a)=>{const _0x2553a6=_0x392b61;return!_0x179b73[_0x55926a[_0x2553a6(0x8c2)]]&&(_0x179b73[_0x55926a[_0x2553a6(0x8c2)]]=[]),_0x179b73[_0x55926a['category']][_0x2553a6(0x6a1)](_0x55926a),_0x179b73;},{});let _0x29190b='';const _0x10e53d=[_0x392b61(0x422),...Object['keys'](_0x28cf0d)[_0x392b61(0x7c9)](_0x552702=>_0x552702!==_0x392b61(0x422))];for(const _0x5918df of _0x10e53d){if(_0x28cf0d[_0x5918df]){const _0x5829d5=_0x5918df===_0x392b61(0x422),_0x1adbaa=_0x5829d5?_0x392b61(0x664):_0x392b61(0x5a1),_0x4b8373=_0x5829d5?'text-blue-700':_0x392b61(0xa58);_0x29190b+=_0x392b61(0x57d),_0x29190b+=_0x392b61(0x6b7)+_0x4b8373+_0x392b61(0x2cb)+_0x1adbaa+_0x392b61(0x6fd)+_0x5918df+_0x392b61(0x68b),_0x28cf0d[_0x5918df][_0x392b61(0x24d)](_0x2e0705=>{const _0x57a206=_0x392b61,_0x569c88=!!_0x2e0705['id'],_0x6bbdf7=_0x569c88?_0x57a206(0x31f)+_0x2e0705['id']+_0x57a206(0x208)+_0x2e0705['id']+_0x57a206(0x905)+_0x2e0705['id']+_0x57a206(0x250)+_0x2e0705['id']+_0x57a206(0x570):'';_0x29190b+=_0x57a206(0x39a)+(_0x2e0705['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x2e0705[_0x57a206(0x472)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x2e0705[_0x57a206(0x472)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x569c88?_0x57a206(0xa19)+_0x2e0705[_0x57a206(0x472)]+'\x22>':'')+_0x57a206(0x70a)+_0x6bbdf7+_0x57a206(0x259);}),_0x29190b+=_0x392b61(0x6ab);}}_0x417a01[_0x392b61(0x88b)]=_0x29190b||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x417a01[_0x392b61(0x56e)](_0x392b61(0x466),updateSelectedTopicsCount),_0x417a01[_0x392b61(0x2a3)](_0x392b61(0x466),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x5b5651,_0x55adfa){const _0x54dbc6=_0x599685;if(!_0x5b5651||!_0x55adfa[_0x54dbc6(0x8cf)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x51e49a=doc(db,_0x54dbc6(0x3d7)+appId+_0x54dbc6(0xa9b),_0x5b5651);await updateDoc(_0x51e49a,{'name':_0x55adfa['trim']()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0xe933b3){console[_0x54dbc6(0x30a)](_0x54dbc6(0x9bf),_0xe933b3),showMessage(_0x54dbc6(0x4a5));}}function toggleTopicEditMode(_0x48ed3c,_0x35d050){const _0x1c0336=_0x599685;if(!_0x48ed3c)return;const _0x1cbbdd=_0x48ed3c[_0x1c0336(0x9ae)](_0x1c0336(0x326)),_0xe963c9=_0x48ed3c['querySelector']('.topic-name-input'),_0x3c4c49=_0x48ed3c['querySelector']('.topic-actions-view'),_0x494408=_0x48ed3c[_0x1c0336(0x9ae)](_0x1c0336(0xa8a));_0x1cbbdd[_0x1c0336(0x7ad)]['toggle'](_0x1c0336(0x180),_0x35d050),_0xe963c9[_0x1c0336(0x7ad)][_0x1c0336(0x949)](_0x1c0336(0x180),!_0x35d050),_0x3c4c49['classList']['toggle'](_0x1c0336(0x180),_0x35d050),_0x494408[_0x1c0336(0x7ad)][_0x1c0336(0x949)](_0x1c0336(0x180),!_0x35d050),_0x35d050&&(_0xe963c9[_0x1c0336(0x201)](),_0xe963c9['select']());}async function handleStartLiveRace(_0x3e672b){const _0x132b1f=_0x599685;let _0x661c88=allQuizzes[_0x132b1f(0x726)](_0x763d5a=>_0x763d5a['id']===_0x3e672b);if(!_0x661c88){const _0x4b41c1=doc(db,_0x132b1f(0x3d7)+appId+'/public/data/quizzes',_0x3e672b),_0x345073=await getDoc(_0x4b41c1);if(!_0x345073['exists']()){showMessage(_0x132b1f(0x5d4));return;}_0x661c88={'id':_0x345073['id'],..._0x345073[_0x132b1f(0x7e5)]()};}const _0x3b4a02=getShuffledQuiz(_0x661c88);currentQuizData=_0x3b4a02;const _0x5078b0=_0x661c88[_0x132b1f(0x7f1)]||currentProjectId||null,_0x36c8ff=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x132b1f(0x8b5)]();currentLiveGamePin=_0x36c8ff;try{const _0x337b4b=await addDoc(collection(db,_0x132b1f(0x3d7)+appId+_0x132b1f(0x1c7)),{'quizId':_0x3e672b,'projectId':_0x5078b0,'status':_0x132b1f(0x9d0),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x36c8ff,'createdAt':serverTimestamp(),'shuffledQuiz':_0x3b4a02});currentLiveGameId=_0x337b4b['id'],showAdminLobbyView(_0x36c8ff,_0x661c88['topic']),listenForLiveGameUpdates();}catch(_0xdda26e){console[_0x132b1f(0x30a)](_0x132b1f(0x801),_0xdda26e),showMessage(_0x132b1f(0x3c8));}}function updateSelectedTopicsCount(){const _0x59ebde=_0x599685,_0x1073a8=document[_0x59ebde(0x6f5)](_0x59ebde(0x845)),_0x2945a3=_0x1073a8['querySelectorAll']('input[type=\x22checkbox\x22]:checked')['length'],_0x34df1c=document[_0x59ebde(0x6f5)](_0x59ebde(0x7fa));_0x2945a3>0x0?_0x34df1c[_0x59ebde(0x406)]='(เลือกแล้ว\x20'+_0x2945a3+_0x59ebde(0x3bc):_0x34df1c[_0x59ebde(0x406)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x599685(0x613),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x599685(0x1b9),quizLeaderboardSortOrder=_0x599685(0x1ee),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x599685(0x24c),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x599685(0x344),scratchpadPenColor=_0x599685(0x9a1),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x480310,_0x4b9927){const _0x29dd00=_0x599685;return Math[_0x29dd00(0x813)](Math[_0x29dd00(0x44b)](_0x480310['x']-_0x4b9927['x'],0x2)+Math[_0x29dd00(0x44b)](_0x480310['y']-_0x4b9927['y'],0x2));}function getMidpoint(_0x434ae7,_0x57d2b7){return{'x':(_0x434ae7['x']+_0x57d2b7['x'])/0x2,'y':(_0x434ae7['y']+_0x57d2b7['y'])/0x2};}function getTransformedPoint(_0x745729,_0x3fd121){return{'x':(_0x745729-scratchpadOffset['x'])/scratchpadScale,'y':(_0x3fd121-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x233e0e=_0x599685;if(!scratchpadCtx)return;const _0x8fe91a=scratchpadCtx[_0x233e0e(0x9cb)],_0x1e01d2=window[_0x233e0e(0x548)]||0x1,_0x188178=document[_0x233e0e(0x6f5)](_0x233e0e(0x9ac));_0x188178&&(_0x188178[_0x233e0e(0x317)][_0x233e0e(0x271)]=_0x233e0e(0x5bc),_0x188178['style'][_0x233e0e(0x1df)]=_0x233e0e(0x8e2)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x233e0e(0x71c)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0x233e0e(0x84f)](_0x1e01d2,0x0,0x0,_0x1e01d2,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x8fe91a[_0x233e0e(0x459)],_0x8fe91a[_0x233e0e(0x805)]),scratchpadCtx[_0x233e0e(0x9ec)](),scratchpadCtx[_0x233e0e(0x989)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x233e0e(0x24d)](_0x2196b2=>{drawStroke(_0x2196b2);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x233e0e(0x9ec)]();}function renderGroupModeQuestion(){const _0xe5779e=_0x599685;if(localQuestionIndex>=currentQuizData[_0xe5779e(0x4ac)][_0xe5779e(0x5b5)]){displayTeamQuizFinalResults();return;}const _0x4edd3c=currentQuizData[_0xe5779e(0x4ac)][localQuestionIndex],_0x1a0c52=_0x4edd3c[_0xe5779e(0x5e5)]||currentQuizData[_0xe5779e(0x1a3)];let _0x4603a6=_0x4edd3c[_0xe5779e(0x9a4)]||_0x4edd3c[_0xe5779e(0x4ed)],_0x1db86c='';switch(_0x1a0c52){case _0xe5779e(0x9bb):case'fill_in_with_choices':_0x1db86c=_0x4edd3c[_0xe5779e(0x5d1)][_0xe5779e(0x392)]((_0x426061,_0x388a8e)=>_0xe5779e(0x321)+_0x388a8e+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x388a8e+_0xe5779e(0x532)+_0x388a8e+'\x22>'+_0x426061+_0xe5779e(0x3cf))[_0xe5779e(0x70f)]('');break;case _0xe5779e(0x932):_0x1db86c=_0xe5779e(0x3a2);break;case'short_answer':case _0xe5779e(0x2d8):_0x1db86c=_0xe5779e(0x674);break;case _0xe5779e(0x228):_0x1db86c=_0xe5779e(0x58e)+_0x4edd3c['allResponses'][_0xe5779e(0x392)](_0x2108c2=>'<option\x20value=\x22'+_0x2108c2+'\x22>'+_0x2108c2+_0xe5779e(0x4ba))[_0xe5779e(0x70f)]('')+_0xe5779e(0x643);break;default:_0x1db86c=_0xe5779e(0x9f3);break;}studentQuizArea[_0xe5779e(0x88b)]=_0xe5779e(0x1a8)+(localQuestionIndex+0x1)+_0xe5779e(0x660)+currentQuizData[_0xe5779e(0x4ac)][_0xe5779e(0x5b5)]+_0xe5779e(0xab4)+localTeamPlayers['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x4603a6+_0xe5779e(0xac1)+(_0x4edd3c[_0xe5779e(0x248)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4edd3c[_0xe5779e(0x248)]+_0xe5779e(0x6ab):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x1db86c+_0xe5779e(0xa22),studentQuizArea['classList'][_0xe5779e(0xac8)](_0xe5779e(0x180));if(window[_0xe5779e(0x4dd)])MathJax[_0xe5779e(0x908)]([studentQuizArea]);document[_0xe5779e(0x6f5)]('submit-group-answer-btn')[_0xe5779e(0x2a3)](_0xe5779e(0x41c),handleGroupAnswerSubmit);}function handlePointerDown(_0x3a51f7){const _0x583260=_0x599685;_0x3a51f7[_0x583260(0x531)]();const _0x1b08d1=scratchpadCtx[_0x583260(0x9cb)],_0x954322=_0x1b08d1[_0x583260(0x822)](),_0x49f4d5=_0x3a51f7['pointerType']||(_0x3a51f7[_0x583260(0x4d7)]?_0x583260(0x76f):'mouse');if(_0x49f4d5===_0x583260(0x344)||_0x49f4d5===_0x583260(0x906)){if(_0x3a51f7['pointerType']===_0x583260(0x906)&&_0x3a51f7['button']!==0x0){_0x3a51f7[_0x583260(0x22f)]===0x1&&(isMousePanning=!![],panStart={'x':_0x3a51f7[_0x583260(0xab0)],'y':_0x3a51f7[_0x583260(0x1b6)]},_0x1b08d1['style'][_0x583260(0x9e6)]=_0x583260(0x3b3));return;}activeTool===_0x583260(0x7bc)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x1efccc=getTransformedPoint(_0x3a51f7[_0x583260(0xab0)]-_0x954322[_0x583260(0x27a)],_0x3a51f7[_0x583260(0x1b6)]-_0x954322[_0x583260(0x462)]);let _0x7d3a3f={'tool':activeTool,'points':[_0x1efccc]};if(activeTool==='highlighter')_0x7d3a3f[_0x583260(0x833)]=scratchpadHighlighterColor,_0x7d3a3f[_0x583260(0x1a2)]=scratchpadHighlighterSize;else activeTool===_0x583260(0x7bc)?(_0x7d3a3f[_0x583260(0x833)]=scratchpadPenColor,_0x7d3a3f[_0x583260(0x1a2)]=scratchpadPenSize):(_0x7d3a3f[_0x583260(0x833)]=scratchpadPenColor,_0x7d3a3f[_0x583260(0x1a2)]=scratchpadPenSize);currentStroke=_0x7d3a3f;}else _0x3a51f7['touches']&&(_0x3a51f7[_0x583260(0x4d7)]['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x3a51f7['touches'][0x0][_0x583260(0xab0)],'y':_0x3a51f7['touches'][0x0]['clientY']},{'x':_0x3a51f7[_0x583260(0x4d7)][0x1][_0x583260(0xab0)],'y':_0x3a51f7['touches'][0x1][_0x583260(0x1b6)]}),initialPinchDistance=getDistance({'x':_0x3a51f7[_0x583260(0x4d7)][0x0]['clientX'],'y':_0x3a51f7[_0x583260(0x4d7)][0x0][_0x583260(0x1b6)]},{'x':_0x3a51f7[_0x583260(0x4d7)][0x1][_0x583260(0xab0)],'y':_0x3a51f7[_0x583260(0x4d7)][0x1][_0x583260(0x1b6)]})));}function animateTrail(){const _0x59f050=_0x599685,_0x5a6426=Date[_0x59f050(0x32f)]();let _0x4d7276=![];for(let _0xd05c4e=strokes[_0x59f050(0x5b5)]-0x1;_0xd05c4e>=0x0;_0xd05c4e--){const _0x282fa7=strokes[_0xd05c4e];if(_0x282fa7[_0x59f050(0x33f)]===_0x59f050(0x7bc)&&_0x282fa7['fadeStartTime']){const _0x3603ed=_0x5a6426-_0x282fa7[_0x59f050(0x9cc)];_0x3603ed>=TRAIL_DURATION?strokes['splice'](_0xd05c4e,0x1):(_0x282fa7['opacity']=0x1-_0x3603ed/TRAIL_DURATION,_0x4d7276=!![]);}}redrawScratchpad(),_0x4d7276?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x302dd6){const _0x59cc13=_0x599685;if(!_0x302dd6||_0x302dd6[_0x59cc13(0x2ea)][_0x59cc13(0x5b5)]<0x1)return;scratchpadCtx[_0x59cc13(0x989)](),scratchpadCtx['lineJoin']=_0x59cc13(0x6b4),scratchpadCtx[_0x59cc13(0x5a5)]='round';if(_0x302dd6[_0x59cc13(0x33f)]==='trail'){const _0x3ff9dc=_0x302dd6[_0x59cc13(0x1a2)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x302dd6['opacity']??0x1,scratchpadCtx[_0x59cc13(0x42e)]=_0x59cc13(0x464),scratchpadCtx[_0x59cc13(0x421)]=_0x3ff9dc*0x3,scratchpadCtx[_0x59cc13(0x4b0)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x59cc13(0x85f)]=_0x3ff9dc*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x59cc13(0x254)](_0x302dd6[_0x59cc13(0x2ea)][0x0]['x'],_0x302dd6[_0x59cc13(0x2ea)][0x0]['y']);for(let _0x17d849=0x1;_0x17d849<_0x302dd6[_0x59cc13(0x2ea)]['length']-0x1;_0x17d849++){const _0x4760cf=getMidpoint(_0x302dd6['points'][_0x17d849],_0x302dd6['points'][_0x17d849+0x1]);scratchpadCtx[_0x59cc13(0x2fc)](_0x302dd6['points'][_0x17d849]['x'],_0x302dd6[_0x59cc13(0x2ea)][_0x17d849]['y'],_0x4760cf['x'],_0x4760cf['y']);}scratchpadCtx[_0x59cc13(0x385)](),scratchpadCtx[_0x59cc13(0x42e)]=_0x59cc13(0x2be),scratchpadCtx[_0x59cc13(0x421)]=0x0,scratchpadCtx[_0x59cc13(0x4b0)]=_0x59cc13(0x99e),scratchpadCtx[_0x59cc13(0x85f)]=_0x3ff9dc,scratchpadCtx[_0x59cc13(0x385)](),scratchpadCtx[_0x59cc13(0x388)]();}else{if(_0x302dd6[_0x59cc13(0x33f)]==='highlighter'){scratchpadCtx[_0x59cc13(0x9af)]=_0x59cc13(0x611),scratchpadCtx[_0x59cc13(0x4b0)]=_0x302dd6[_0x59cc13(0x833)],scratchpadCtx['lineWidth']=_0x302dd6[_0x59cc13(0x1a2)],scratchpadCtx[_0x59cc13(0x516)](),scratchpadCtx[_0x59cc13(0x254)](_0x302dd6[_0x59cc13(0x2ea)][0x0]['x'],_0x302dd6[_0x59cc13(0x2ea)][0x0]['y']);for(let _0x450295=0x1;_0x450295<_0x302dd6['points'][_0x59cc13(0x5b5)]-0x1;_0x450295++){const _0x360d94=getMidpoint(_0x302dd6[_0x59cc13(0x2ea)][_0x450295],_0x302dd6[_0x59cc13(0x2ea)][_0x450295+0x1]);scratchpadCtx['quadraticCurveTo'](_0x302dd6[_0x59cc13(0x2ea)][_0x450295]['x'],_0x302dd6['points'][_0x450295]['y'],_0x360d94['x'],_0x360d94['y']);}scratchpadCtx[_0x59cc13(0x385)](),scratchpadCtx['closePath']();}else{scratchpadCtx['globalCompositeOperation']=_0x302dd6[_0x59cc13(0x33f)]===_0x59cc13(0x94b)?_0x59cc13(0x81a):_0x59cc13(0xabd),scratchpadCtx[_0x59cc13(0x4b0)]=_0x302dd6[_0x59cc13(0x833)],scratchpadCtx[_0x59cc13(0x85f)]=_0x302dd6[_0x59cc13(0x1a2)],scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x302dd6[_0x59cc13(0x2ea)][0x0]['x'],_0x302dd6[_0x59cc13(0x2ea)][0x0]['y']);for(let _0x58fffe=0x1;_0x58fffe<_0x302dd6[_0x59cc13(0x2ea)][_0x59cc13(0x5b5)]-0x1;_0x58fffe++){const _0x32f5b3=getMidpoint(_0x302dd6[_0x59cc13(0x2ea)][_0x58fffe],_0x302dd6[_0x59cc13(0x2ea)][_0x58fffe+0x1]);scratchpadCtx[_0x59cc13(0x2fc)](_0x302dd6[_0x59cc13(0x2ea)][_0x58fffe]['x'],_0x302dd6[_0x59cc13(0x2ea)][_0x58fffe]['y'],_0x32f5b3['x'],_0x32f5b3['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x59cc13(0x9ec)]();}function handlePointerMove(_0x141ef6){const _0x2b57df=_0x599685;_0x141ef6[_0x2b57df(0x531)]();const _0x5f052f=scratchpadCtx[_0x2b57df(0x9cb)],_0x147f5f=_0x5f052f[_0x2b57df(0x822)]();if(_0x141ef6[_0x2b57df(0x4d7)]){if(_0x141ef6[_0x2b57df(0x4d7)]['length']===0x1&&isDrawingOnScratchpad){const _0x44e317=getTransformedPoint(_0x141ef6['touches'][0x0][_0x2b57df(0xab0)]-_0x147f5f[_0x2b57df(0x27a)],_0x141ef6['touches'][0x0][_0x2b57df(0x1b6)]-_0x147f5f[_0x2b57df(0x462)]);currentStroke[_0x2b57df(0x2ea)][_0x2b57df(0x6a1)](_0x44e317),redrawScratchpad();}else{if(_0x141ef6[_0x2b57df(0x4d7)][_0x2b57df(0x5b5)]===0x2&&isPanning){const _0x302f98=getDistance({'x':_0x141ef6[_0x2b57df(0x4d7)][0x0][_0x2b57df(0xab0)],'y':_0x141ef6[_0x2b57df(0x4d7)][0x0][_0x2b57df(0x1b6)]},{'x':_0x141ef6['touches'][0x1][_0x2b57df(0xab0)],'y':_0x141ef6[_0x2b57df(0x4d7)][0x1]['clientY']}),_0x368a56=getMidpoint({'x':_0x141ef6[_0x2b57df(0x4d7)][0x0][_0x2b57df(0xab0)],'y':_0x141ef6[_0x2b57df(0x4d7)][0x0][_0x2b57df(0x1b6)]},{'x':_0x141ef6[_0x2b57df(0x4d7)][0x1][_0x2b57df(0xab0)],'y':_0x141ef6[_0x2b57df(0x4d7)][0x1][_0x2b57df(0x1b6)]}),_0x2d90df=_0x302f98/ initialPinchDistance,_0x1b5fc3=Math['min'](Math[_0x2b57df(0x64f)](scratchpadScale*_0x2d90df,MIN_SCALE),MAX_SCALE),_0x4215c6=_0x368a56['x']-panStart['x'],_0x4a4240=_0x368a56['y']-panStart['y'];scratchpadOffset['x']=_0x368a56['x']-(_0x368a56['x']-scratchpadOffset['x'])*(_0x1b5fc3/scratchpadScale),scratchpadOffset['y']=_0x368a56['y']-(_0x368a56['y']-scratchpadOffset['y'])*(_0x1b5fc3/scratchpadScale),scratchpadOffset['x']+=_0x4215c6,scratchpadOffset['y']+=_0x4a4240,scratchpadScale=_0x1b5fc3,initialPinchDistance=_0x302f98,panStart=_0x368a56,redrawScratchpad();}}}else{if(isMousePanning){const _0x185f60=_0x141ef6['clientX']-panStart['x'],_0x32099c=_0x141ef6['clientY']-panStart['y'];scratchpadOffset['x']+=_0x185f60,scratchpadOffset['y']+=_0x32099c,panStart={'x':_0x141ef6[_0x2b57df(0xab0)],'y':_0x141ef6['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x4406cc=getTransformedPoint(_0x141ef6[_0x2b57df(0xab0)]-_0x147f5f['left'],_0x141ef6['clientY']-_0x147f5f[_0x2b57df(0x462)]);currentStroke['points'][_0x2b57df(0x6a1)](_0x4406cc),redrawScratchpad();}}}}function handlePointerUp(_0x5b0333){const _0x2e091f=_0x599685;_0x5b0333[_0x2e091f(0x531)]();const _0x125a26=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x125a26[_0x2e091f(0x317)][_0x2e091f(0x9e6)]=_0x2e091f(0x6e5)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x2e091f(0x2ea)]['length']>0x1&&(strokes[_0x2e091f(0x6a1)](currentStroke),currentStroke[_0x2e091f(0x33f)]===_0x2e091f(0x7bc)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x39f0b5=_0x2e091f,_0x5d86b0=strokes[_0x39f0b5(0x7c9)](_0xbf2b4b=>_0xbf2b4b[_0x39f0b5(0x33f)]===_0x39f0b5(0x7bc)&&!_0xbf2b4b[_0x39f0b5(0x9cc)]);if(_0x5d86b0[_0x39f0b5(0x5b5)]>0x0){const _0x1d7baf=Date[_0x39f0b5(0x32f)]();_0x5d86b0[_0x39f0b5(0x24d)](_0x56510b=>_0x56510b['fadeStartTime']=_0x1d7baf),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x49866e){const _0x4f0bf9=_0x599685;_0x49866e['preventDefault']();const _0xec35be=_0x49866e[_0x4f0bf9(0x96b)]*-0.005,_0x45fa10=Math['min'](Math[_0x4f0bf9(0x64f)](scratchpadScale+_0xec35be,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x49866e[_0x4f0bf9(0xab0)]-(_0x49866e[_0x4f0bf9(0xab0)]-scratchpadOffset['x'])*(_0x45fa10/scratchpadScale),scratchpadOffset['y']=_0x49866e['clientY']-(_0x49866e[_0x4f0bf9(0x1b6)]-scratchpadOffset['y'])*(_0x45fa10/scratchpadScale),scratchpadScale=_0x45fa10,redrawScratchpad();}function undo(){const _0x58711b=_0x599685;strokes['length']>0x0&&(redoStrokes[_0x58711b(0x6a1)](strokes[_0x58711b(0x4d5)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x20998e=_0x599685;redoStrokes[_0x20998e(0x5b5)]>0x0&&(strokes[_0x20998e(0x6a1)](redoStrokes[_0x20998e(0x4d5)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x4cd89a=_0x599685;document['getElementById'](_0x4cd89a(0x35a))[_0x4cd89a(0x8c1)]=strokes[_0x4cd89a(0x5b5)]===0x0,document[_0x4cd89a(0x6f5)](_0x4cd89a(0x6cb))[_0x4cd89a(0x8c1)]=redoStrokes[_0x4cd89a(0x5b5)]===0x0;}function openScratchpad(_0x5a1de1,_0x57d0b2){const _0x32d2c4=_0x599685,_0x4ce424=document['getElementById'](_0x32d2c4(0xa96)),_0x5b4f1d=document[_0x32d2c4(0x6f5)](_0x32d2c4(0x9dc)),_0x41cab0=document['getElementById'](_0x32d2c4(0x712)),_0x12034e=document[_0x32d2c4(0x6f5)]('scratchpad-controls');_0x5b4f1d[_0x32d2c4(0x406)]=_0x5a1de1[_0x32d2c4(0x9a4)]||_0x5a1de1['questionText'],_0x41cab0[_0x32d2c4(0x88b)]=_0x57d0b2['map']((_0x1fbf0d,_0x2a255b)=>_0x32d2c4(0x3b9)+String[_0x32d2c4(0x66d)](0x41+_0x2a255b)+'.\x20'+_0x1fbf0d+'</div>')[_0x32d2c4(0x70f)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x4ce424[_0x32d2c4(0x7ad)][_0x32d2c4(0xac8)](_0x32d2c4(0x180)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x32d2c4(0x4dd)])MathJax[_0x32d2c4(0x908)]([_0x5b4f1d,_0x41cab0]);}function initializeScratchpadCanvas(){const _0x3e4721=_0x599685,_0x969fcc=document['getElementById'](_0x3e4721(0x1b4)),_0x588f4b=document['querySelector'](_0x3e4721(0x2df));if(!_0x969fcc||!_0x588f4b)return;scratchpadCtx=_0x969fcc[_0x3e4721(0x6a6)]('2d',{'willReadFrequently':!![]});const _0x447292=window['devicePixelRatio']||0x1,_0xf85f84=_0x588f4b[_0x3e4721(0x822)]();_0x969fcc[_0x3e4721(0x459)]=_0xf85f84['width']*_0x447292,_0x969fcc[_0x3e4721(0x805)]=_0xf85f84[_0x3e4721(0x805)]*_0x447292,_0x969fcc[_0x3e4721(0x317)][_0x3e4721(0x459)]=_0xf85f84[_0x3e4721(0x459)]+'px',_0x969fcc[_0x3e4721(0x317)][_0x3e4721(0x805)]=_0xf85f84[_0x3e4721(0x805)]+'px',scratchpadCtx[_0x3e4721(0x4a9)](_0x447292,_0x447292),scratchpadCtx[_0x3e4721(0x588)]=_0x3e4721(0x6b4),scratchpadCtx[_0x3e4721(0x5a5)]='round',_0x969fcc[_0x3e4721(0x56e)](_0x3e4721(0x3ce),handlePointerDown),_0x969fcc['removeEventListener'](_0x3e4721(0x665),handlePointerMove),_0x969fcc[_0x3e4721(0x56e)](_0x3e4721(0x5af),handlePointerUp),_0x969fcc['removeEventListener'](_0x3e4721(0x21d),handlePointerUp),_0x969fcc[_0x3e4721(0x56e)]('wheel',handleWheel),_0x969fcc[_0x3e4721(0x56e)](_0x3e4721(0x606),handlePointerDown),_0x969fcc[_0x3e4721(0x56e)](_0x3e4721(0x234),handlePointerMove),_0x969fcc[_0x3e4721(0x56e)]('touchend',handlePointerUp),_0x969fcc[_0x3e4721(0x2a3)](_0x3e4721(0x3ce),handlePointerDown),_0x969fcc['addEventListener'](_0x3e4721(0x665),handlePointerMove),_0x969fcc[_0x3e4721(0x2a3)](_0x3e4721(0x5af),handlePointerUp),_0x969fcc['addEventListener'](_0x3e4721(0x21d),handlePointerUp),_0x969fcc[_0x3e4721(0x2a3)]('wheel',handleWheel,{'passive':![]}),_0x969fcc[_0x3e4721(0x2a3)](_0x3e4721(0x606),handlePointerDown,{'passive':![]}),_0x969fcc[_0x3e4721(0x2a3)]('touchmove',handlePointerMove,{'passive':![]}),_0x969fcc['addEventListener'](_0x3e4721(0x42c),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x40fe01=_0x599685,_0x4dac19=document[_0x40fe01(0x6f5)]('scratchpad-modal'),_0x34414a=document['getElementById']('scratchpad-controls');_0x34414a['innerHTML']=_0x40fe01(0x53e)+scratchpadHighlighterSize+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2c01af=document[_0x40fe01(0x6f5)]('pen-tool-btn'),_0x13d0b0=document[_0x40fe01(0x6f5)]('eraser-tool-btn'),_0x11bb96=document[_0x40fe01(0x6f5)]('trail-tool-btn'),_0x4201d5=document[_0x40fe01(0x6f5)](_0x40fe01(0x87d)),_0x12b49d=document[_0x40fe01(0x6f5)]('pen-tools-group'),_0x4a8181=document[_0x40fe01(0x6f5)](_0x40fe01(0x274)),_0x5eef76=[_0x2c01af,_0x13d0b0,_0x11bb96,_0x4201d5];document[_0x40fe01(0x6f5)](_0x40fe01(0x8c8))[_0x40fe01(0x2a3)](_0x40fe01(0x41c),()=>_0x4dac19[_0x40fe01(0x7ad)][_0x40fe01(0x25c)](_0x40fe01(0x180))),document['getElementById'](_0x40fe01(0x347))[_0x40fe01(0x2a3)](_0x40fe01(0x41c),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x40fe01(0x6f5)](_0x40fe01(0x79a))[_0x40fe01(0x2a3)](_0x40fe01(0x41c),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x40fe01(0x6f5)](_0x40fe01(0x35a))[_0x40fe01(0x2a3)]('click',undo),document[_0x40fe01(0x6f5)](_0x40fe01(0x6cb))[_0x40fe01(0x2a3)](_0x40fe01(0x41c),redo);const _0x292e15=_0x50979b=>{const _0x1bf3e3=_0x40fe01;_0x5eef76[_0x1bf3e3(0x24d)](_0x2839ec=>_0x2839ec[_0x1bf3e3(0x7ad)][_0x1bf3e3(0xac8)](_0x1bf3e3(0x825))),_0x50979b[_0x1bf3e3(0x7ad)][_0x1bf3e3(0x25c)]('active');const _0x340e21=_0x50979b===_0x4201d5;_0x12b49d['classList']['toggle'](_0x1bf3e3(0x180),_0x340e21),_0x4a8181[_0x1bf3e3(0x7ad)][_0x1bf3e3(0x949)](_0x1bf3e3(0x180),!_0x340e21);};_0x2c01af[_0x40fe01(0x2a3)](_0x40fe01(0x41c),()=>{const _0x27fd73=_0x40fe01;activeTool=_0x27fd73(0x344),_0x292e15(_0x2c01af);}),_0x13d0b0[_0x40fe01(0x2a3)](_0x40fe01(0x41c),()=>{const _0x292e27=_0x40fe01;activeTool=_0x292e27(0x94b),_0x292e15(_0x13d0b0);}),_0x11bb96[_0x40fe01(0x2a3)](_0x40fe01(0x41c),()=>{const _0x4b93f8=_0x40fe01;activeTool=_0x4b93f8(0x7bc),_0x292e15(_0x11bb96);}),_0x4201d5['addEventListener'](_0x40fe01(0x41c),()=>{const _0x2d5812=_0x40fe01;activeTool=_0x2d5812(0x867),_0x292e15(_0x4201d5);}),_0x12b49d[_0x40fe01(0x3b5)]('.pen-size-btn')['forEach'](_0x1200b0=>{const _0x57e754=_0x40fe01;_0x1200b0[_0x57e754(0x2a3)](_0x57e754(0x41c),_0xfa3f2b=>{const _0x4ab3d2=_0x57e754;scratchpadPenSize=parseInt(_0xfa3f2b['target'][_0x4ab3d2(0x4eb)]['size'],0xa),_0x12b49d[_0x4ab3d2(0x3b5)](_0x4ab3d2(0x537))[_0x4ab3d2(0x24d)](_0x25c466=>_0x25c466[_0x4ab3d2(0x7ad)][_0x4ab3d2(0xac8)](_0x4ab3d2(0x825))),_0xfa3f2b[_0x4ab3d2(0x928)][_0x4ab3d2(0x7ad)][_0x4ab3d2(0x25c)](_0x4ab3d2(0x825));});}),_0x12b49d[_0x40fe01(0x3b5)](_0x40fe01(0x957))[_0x40fe01(0x24d)](_0x3961b8=>{const _0x2e9e21=_0x40fe01;_0x3961b8[_0x2e9e21(0x2a3)]('click',_0x35b621=>{const _0x49d526=_0x2e9e21;scratchpadPenColor=_0x35b621[_0x49d526(0x928)][_0x49d526(0x4eb)][_0x49d526(0x833)],_0x12b49d[_0x49d526(0x3b5)]('.pen-color-btn')[_0x49d526(0x24d)](_0x4694f9=>_0x4694f9[_0x49d526(0x7ad)][_0x49d526(0xac8)](_0x49d526(0x825))),_0x35b621[_0x49d526(0x928)][_0x49d526(0x7ad)][_0x49d526(0x25c)]('active');});}),_0x4a8181[_0x40fe01(0x3b5)]('.highlighter-color-btn')['forEach'](_0x39d5fc=>{const _0x5aef08=_0x40fe01;_0x39d5fc[_0x5aef08(0x2a3)](_0x5aef08(0x41c),_0x404eb0=>{const _0x4f1f0a=_0x5aef08;scratchpadHighlighterColor=_0x404eb0[_0x4f1f0a(0x928)][_0x4f1f0a(0x4eb)][_0x4f1f0a(0x833)],_0x4a8181[_0x4f1f0a(0x3b5)]('.highlighter-color-btn')[_0x4f1f0a(0x24d)](_0x188798=>_0x188798[_0x4f1f0a(0x7ad)][_0x4f1f0a(0xac8)](_0x4f1f0a(0x825))),_0x404eb0['target'][_0x4f1f0a(0x7ad)][_0x4f1f0a(0x25c)](_0x4f1f0a(0x825));});});const _0x31942f=document[_0x40fe01(0x6f5)]('highlighter-size-slider'),_0x46e58f=document[_0x40fe01(0x6f5)]('highlighter-size-value');_0x31942f['addEventListener']('input',_0x4eae22=>{const _0x54637a=_0x40fe01,_0x6aa598=parseInt(_0x4eae22[_0x54637a(0x928)][_0x54637a(0x8c4)],0xa);scratchpadHighlighterSize=_0x6aa598,_0x46e58f['textContent']=_0x6aa598;}),window[_0x40fe01(0x2a3)]('resize',()=>{const _0x2813ba=_0x40fe01;!_0x4dac19[_0x2813ba(0x7ad)][_0x2813ba(0x9f7)](_0x2813ba(0x180))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x599685(0x3e9),'name':_0x599685(0x666),'description':_0x599685(0x35c),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x599685(0x827),'description':_0x599685(0x35e),'icon':_0x599685(0x72e)},'ON_FIRE':{'id':_0x599685(0x312),'name':_0x599685(0x682),'description':_0x599685(0x1da),'icon':_0x599685(0x817)},'FIRST_TRY_ACE':{'id':_0x599685(0xa95),'name':_0x599685(0x812),'description':_0x599685(0x94a),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x599685(0x7a6),'name':_0x599685(0x84b),'description':_0x599685(0x987),'icon':_0x599685(0x93b)},'SPECIALIST':{'id':_0x599685(0x81b),'name':_0x599685(0x697),'description':_0x599685(0x8ca),'icon':_0x599685(0x2d3)},'PERSEVERANCE':{'id':'perseverance','name':_0x599685(0x64c),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x599685(0x5da)}},firebaseConfig={'apiKey':_0x599685(0x512),'authDomain':_0x599685(0x91f),'projectId':_0x599685(0x463),'storageBucket':_0x599685(0x1d3),'messagingSenderId':_0x599685(0x702),'appId':_0x599685(0x5b4),'measurementId':_0x599685(0x447)},appId=typeof __app_id!==_0x599685(0x61a)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x599685(0x6f5)]('admin-view'),studentView=document[_0x599685(0x6f5)]('student-view'),projectDashboardView=document['getElementById'](_0x599685(0x301)),projectDetailView=document[_0x599685(0x6f5)]('project-detail-view'),quizResultsView=document[_0x599685(0x6f5)](_0x599685(0x846)),projectList=document[_0x599685(0x6f5)](_0x599685(0x96f)),noProjectsMsg=document[_0x599685(0x6f5)](_0x599685(0x977)),projectTitle=document[_0x599685(0x6f5)]('project-title'),projectIdDisplay=document[_0x599685(0x6f5)](_0x599685(0x946)),studentList=document[_0x599685(0x6f5)](_0x599685(0x895)),messageModal=document[_0x599685(0x6f5)](_0x599685(0x348)),modalMessage=document[_0x599685(0x6f5)]('modal-message'),createProjectModal=document['getElementById'](_0x599685(0x37e)),adminPasswordModal=document[_0x599685(0x6f5)](_0x599685(0x290)),confirmationModal=document[_0x599685(0x6f5)](_0x599685(0x2bc)),userIdDisplay=document[_0x599685(0x6f5)](_0x599685(0x479)),topicTab=document[_0x599685(0x6f5)](_0x599685(0x92f)),textTab=document[_0x599685(0x6f5)](_0x599685(0x66b)),topicInputArea=document['getElementById'](_0x599685(0x834)),textInputArea=document['getElementById']('text-input-area'),manageTab=document[_0x599685(0x6f5)](_0x599685(0xa3a)),resultsTab=document[_0x599685(0x6f5)]('results-tab'),leaderboardTab=document[_0x599685(0x6f5)](_0x599685(0x52a)),manageTabContent=document[_0x599685(0x6f5)]('manage-tab-content'),resultsTabContent=document['getElementById'](_0x599685(0x8dc)),leaderboardTabContent=document[_0x599685(0x6f5)]('leaderboard-tab-content'),projectQuizzesList=document[_0x599685(0x6f5)](_0x599685(0x621)),fileTab=document[_0x599685(0x6f5)](_0x599685(0x61d)),fileInputArea=document['getElementById']('file-input-area'),fileUploadInput=document[_0x599685(0x6f5)]('file-upload-input'),worksheetTab=document[_0x599685(0x6f5)](_0x599685(0x6d3)),worksheetInputArea=document[_0x599685(0x6f5)](_0x599685(0xa5b)),generateWorksheetBtn=document[_0x599685(0x6f5)]('generate-worksheet-btn'),studentInitialView=document['getElementById'](_0x599685(0xaae)),studentNameSelectionView=document[_0x599685(0x6f5)](_0x599685(0x20e)),studentQuizArea=document[_0x599685(0x6f5)](_0x599685(0x6f1)),studentResultArea=document[_0x599685(0x6f5)](_0x599685(0x95f)),studentReadingArea=document[_0x599685(0x6f5)](_0x599685(0x4cd)),loadQuizBtn=document['getElementById'](_0x599685(0x6a8)),startQuizBtn=document[_0x599685(0x6f5)]('start-quiz-btn'),studentJoinGameView=document[_0x599685(0x6f5)](_0x599685(0x287)),presentationModal=document[_0x599685(0x6f5)](_0x599685(0xa79)),renameQuizModal=document[_0x599685(0x6f5)]('rename-quiz-modal'),moveQuizModal=document[_0x599685(0x6f5)](_0x599685(0xa75)),quizSettingsModal=document[_0x599685(0x6f5)](_0x599685(0x55f)),quizStatusModal=document[_0x599685(0x6f5)](_0x599685(0x4e0)),liveGameView=document['getElementById'](_0x599685(0x4be));function handleAutoFixLatex(){const _0x281f18=_0x599685,_0x13ec87=document[_0x281f18(0x6f5)](_0x281f18(0x778))||document,_0x4fd123=_0x13ec87[_0x281f18(0x3b5)]([_0x281f18(0x729),'input[type=\x22text\x22]','[contenteditable=\x22true\x22]',_0x281f18(0x5bf),_0x281f18(0x6f6),_0x281f18(0x4af),'.choice-text',_0x281f18(0x5a4),_0x281f18(0x6f3)][_0x281f18(0x70f)](','));let _0x1814e6=0x0;const _0x44db3b=_0x1d5ab8=>_0x281f18(0x8c4)in _0x1d5ab8?String(_0x1d5ab8['value']):_0x1d5ab8[_0x281f18(0x183)]!==undefined?_0x1d5ab8[_0x281f18(0x183)]:_0x1d5ab8[_0x281f18(0x406)]||'',_0x4486b1=(_0x2020e4,_0x480ff7)=>{const _0x1a437b=_0x281f18;if(_0x1a437b(0x8c4)in _0x2020e4){_0x2020e4[_0x1a437b(0x8c4)]=_0x480ff7;return;}if(_0x2020e4[_0x1a437b(0x9ae)]&&_0x2020e4[_0x1a437b(0x9ae)](_0x1a437b(0x82f)))return;if(_0x2020e4[_0x1a437b(0x183)]!==undefined)_0x2020e4[_0x1a437b(0x183)]=_0x480ff7;else _0x2020e4[_0x1a437b(0x406)]=_0x480ff7;},_0x47ec53=_0x1b9f8b=>_0x1b9f8b['replace'](/\u00A0/g,'\x20')[_0x281f18(0x2a2)](/\u200B/g,'')[_0x281f18(0x2a2)](/\r\n?/g,'\x0a'),_0x30030b=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x26c60c=_0x24352c=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x24352c),_0x28c1a5=_0x4603b9=>{const _0x5e757f=_0x281f18,_0x5e1c56=(_0x4603b9[_0x5e757f(0x77b)](/\{/g)||[])['length'],_0x6be2e2=(_0x4603b9[_0x5e757f(0x77b)](/\}/g)||[])['length'];if(_0x5e1c56>_0x6be2e2)_0x4603b9=_0x4603b9+'}'['repeat'](_0x5e1c56-_0x6be2e2);return _0x4603b9;},_0x22098e=_0x1569d1=>{const _0x3b7b12=_0x281f18;let _0x961f0=_0x1569d1['trim']();const _0x46e3a8=[_0x3b7b12(0x920),_0x3b7b12(0x51f),_0x3b7b12(0x452),_0x3b7b12(0x813),'text',_0x3b7b12(0x3c1),_0x3b7b12(0x9d1),_0x3b7b12(0x57a),'leq',_0x3b7b12(0x9d4),'le','ge',_0x3b7b12(0x853),'pm',_0x3b7b12(0x329),_0x3b7b12(0x20a),'cos',_0x3b7b12(0x721),_0x3b7b12(0x8af),'ln',_0x3b7b12(0x759),_0x3b7b12(0x52c),_0x3b7b12(0xac4),_0x3b7b12(0x27a),_0x3b7b12(0x31e),_0x3b7b12(0x483),_0x3b7b12(0x653),_0x3b7b12(0x8aa),_0x3b7b12(0x2cd)];_0x961f0=_0x961f0[_0x3b7b12(0x2a2)](new RegExp(_0x3b7b12(0x9f2)+_0x46e3a8['join']('|')+')\x5cb)','g'),'\x5c'),_0x46e3a8[_0x3b7b12(0x24d)](_0x1e3a8c=>{const _0xd28e66=_0x3b7b12;_0x961f0=_0x961f0[_0xd28e66(0x2a2)](new RegExp(_0xd28e66(0x409)+_0x1e3a8c+'\x5cb','g'),(_0x225012,_0x144947)=>_0x144947+'\x5c'+_0x1e3a8c);});const _0x37be08=[[/×/g,_0x3b7b12(0x488)],[/·/g,_0x3b7b12(0x65c)],[/÷/g,_0x3b7b12(0xa33)],[/≤/g,_0x3b7b12(0x69d)],[/≥/g,'\x5cge'],[/≠/g,'\x5cneq'],[/±/g,_0x3b7b12(0x63c)],[/∑/g,_0x3b7b12(0xa1f)],[/−/g,'-']];_0x37be08[_0x3b7b12(0x24d)](([_0x23ccf1,_0x16ecf7])=>{_0x961f0=_0x961f0['replace'](_0x23ccf1,_0x16ecf7);}),_0x961f0=_0x961f0[_0x3b7b12(0x2a2)](/√\s*\(([^)]*)\)/g,_0x3b7b12(0x515)),_0x961f0=_0x961f0[_0x3b7b12(0x2a2)](/√\s*([A-Za-z0-9]+)/g,_0x3b7b12(0x515)),_0x961f0=_0x961f0[_0x3b7b12(0x2a2)](/(^|[^\\])\bimes\b/g,_0x3b7b12(0x186))[_0x3b7b12(0x2a2)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x3b7b12(0x59b))[_0x3b7b12(0x2a2)](/(^|[^\\])ext\{/g,_0x3b7b12(0x992))[_0x3b7b12(0x2a2)](/(^|[^\\])ext\(/g,_0x3b7b12(0x7d4))[_0x3b7b12(0x2a2)](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')['replace'](/\s\\frac/g,_0x3b7b12(0x964)),_0x961f0=_0x961f0['replace'](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x457049,_0x30ca59,_0x1b910a,_0x554ae9)=>_0x30ca59+_0x3b7b12(0xa92)+_0x1b910a+'}{'+_0x554ae9+'}'),_0x961f0=_0x961f0[_0x3b7b12(0x2a2)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x3b7b12(0xa9e))['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x3b7b12(0xa9e))[_0x3b7b12(0x2a2)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x3b7b12(0xa9e)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x3b7b12(0x39b)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x3b7b12(0x39b)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*o\s*C\b/g,_0x3b7b12(0x39b)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x3b7b12(0x39b)],[/(\d+)\s*°\s*C/g,_0x3b7b12(0x39b)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x3b7b12(0x62e)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x3b7b12(0x39b)]][_0x3b7b12(0x24d)](([_0x323540,_0x4d4642])=>{const _0x2b614a=_0x3b7b12;_0x961f0=_0x961f0[_0x2b614a(0x2a2)](_0x323540,_0x4d4642);}),_0x961f0=_0x961f0[_0x3b7b12(0x2a2)](/(\d+)\s*%/g,_0x3b7b12(0x5df)),_0x961f0=_0x961f0[_0x3b7b12(0x2a2)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x3b7b12(0x19d))[_0x3b7b12(0x2a2)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0x3b7b12(0x2a2)](/\{\{([^\{\}]+)\}\}/g,_0x3b7b12(0x9b6)),['sin',_0x3b7b12(0x332),_0x3b7b12(0x721),'log','ln']['forEach'](_0x3eb7ca=>{const _0xd63633=_0x3b7b12;_0x961f0=_0x961f0['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x3eb7ca+_0xd63633(0x4fb),'g'),(_0x58abdb,_0x103779)=>_0x103779+'\x5c'+_0x3eb7ca+'(');});const _0x10cb72=(_0x961f0[_0x3b7b12(0x77b)](/\\left\b/g)||[])[_0x3b7b12(0x5b5)],_0x2e7983=(_0x961f0[_0x3b7b12(0x77b)](/\\right\b/g)||[])[_0x3b7b12(0x5b5)];if(_0x10cb72!==_0x2e7983)_0x961f0=_0x961f0['replace'](/\\left\b/g,'')[_0x3b7b12(0x2a2)](/\\right\b/g,'');return _0x961f0=_0x28c1a5(_0x961f0),_0x961f0;},_0x294daf=_0x116783=>{const _0x3958dc=_0x281f18;if(/\$|\\\(|\\\[/[_0x3958dc(0x76c)](_0x116783))return _0x116783;if(!_0x30030b['test'](_0x116783))return _0x116783;const _0x52e29f=_0x116783['match'](/^\s*/)[0x0],_0x3ff12c=_0x116783[_0x3958dc(0x77b)](/\s*$/)[0x0],_0x545d82=_0x116783[_0x3958dc(0x8cf)]();return _0x52e29f+'$'+_0x22098e(_0x545d82)+'$'+_0x3ff12c;},_0x5b1d02=_0x29a883=>_0x29a883['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x4fd123[_0x281f18(0x24d)](_0x5b876e=>{const _0x3250f3=_0x281f18;if(_0x5b876e[_0x3250f3(0x9ae)]&&_0x5b876e[_0x3250f3(0x9ae)]('mjx-container'))return;const _0x2ba4fd=_0x44db3b(_0x5b876e);let _0x10afc0=_0x47ec53(_0x2ba4fd);_0x10afc0=_0x10afc0[_0x3250f3(0x2a2)](/\$\$([\s\S]*?)\$\$/g,(_0x3ab112,_0x2ad658)=>'$$'+_0x22098e(_0x2ad658)+'$$')[_0x3250f3(0x2a2)](/\$([^$]*?)\$/g,(_0x18be1f,_0x249ea3)=>'$'+_0x22098e(_0x249ea3)+'$')[_0x3250f3(0x2a2)](/\\\(([\s\S]*?)\\\)/g,(_0x58fe64,_0x1742f8)=>'\x5c('+_0x22098e(_0x1742f8)+'\x5c)')['replace'](/\\\[([\s\S]*?)\\\]/g,(_0x3a375a,_0x5af004)=>'\x5c['+_0x22098e(_0x5af004)+'\x5c]');let _0x446c0a=_0x10afc0,_0x4521b7=0x0;const _0x2ff1b5=_0x328bc0=>_0x328bc0[_0x3250f3(0x2a2)](/S([^S]{0,2000}?)S/g,(_0x509006,_0x1ef2f6)=>_0x30030b[_0x3250f3(0x76c)](_0x1ef2f6)?'$'+_0x22098e(_0x1ef2f6)+'$':_0x509006);while(_0x4521b7++<0x14){const _0x2ce3b7=_0x2ff1b5(_0x446c0a);if(_0x2ce3b7===_0x446c0a)break;_0x446c0a=_0x2ce3b7;}_0x10afc0=_0x446c0a,_0x10afc0=_0x10afc0['split']('\x0a')[_0x3250f3(0x392)](_0x12e3ff=>{const _0x34b89f=_0x3250f3;if(!(/[,\u3001，;；]/[_0x34b89f(0x76c)](_0x12e3ff)||/\s(?:และ|หรือ)\s/[_0x34b89f(0x76c)](_0x12e3ff))||!_0x30030b['test'](_0x12e3ff))return _0x12e3ff;return _0x5b1d02(_0x12e3ff)[_0x34b89f(0x392)](_0x12f68a=>{const _0x1e6f2c=_0x34b89f;if(/^\s(?:และ|หรือ)\s$/[_0x1e6f2c(0x76c)](_0x12f68a)||/^[,\u3001，;；]$/[_0x1e6f2c(0x76c)](_0x12f68a))return _0x12f68a;return _0x294daf(_0x12f68a);})['join']('');})[_0x3250f3(0x70f)]('\x0a'),_0x10afc0=_0x10afc0[_0x3250f3(0x8e5)]('\x0a')[_0x3250f3(0x392)](_0x2f0eed=>{const _0x2aa806=_0x3250f3,_0x2900e4=_0x2f0eed[_0x2aa806(0x8cf)]();if(!_0x2900e4)return _0x2f0eed;const _0x1e4a38=/\$|\\\(|\\\[/[_0x2aa806(0x76c)](_0x2900e4),_0x28c134=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x2aa806(0x76c)](_0x2900e4);if(_0x1e4a38||!_0x28c134||_0x26c60c(_0x2900e4))return _0x2f0eed;return _0x2f0eed['replace'](_0x2900e4,'$'+_0x22098e(_0x2900e4)+'$');})[_0x3250f3(0x70f)]('\x0a'),_0x10afc0=_0x10afc0[_0x3250f3(0x2a2)](/(\d+)\s*°\s*C\b/g,(_0x1f28d9,_0x86926e,_0x38c0cf,_0x3627d3)=>{const _0xf37f3f=_0x3250f3,_0x5dcb12=_0x3627d3[_0x38c0cf-0x1];if(_0x5dcb12==='$'||_0x5dcb12==='S'||_0x5dcb12==='\x5c')return _0x1f28d9;return'$'+_0x86926e+_0xf37f3f(0xa93);})[_0x3250f3(0x2a2)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x10d923,_0x200078,_0x49d582,_0x5ac7e9)=>{const _0x3b6bc6=_0x5ac7e9[_0x49d582-0x1];if(_0x3b6bc6==='$'||_0x3b6bc6==='S'||_0x3b6bc6==='\x5c')return _0x10d923;return'$'+_0x200078+'^{\x5ccirc}\x5ctext{C}$';})[_0x3250f3(0x2a2)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x4fd03c,_0x68d319,_0x5321b1,_0x4005ca)=>{const _0x15a3a1=_0x4005ca[_0x5321b1-0x1];if(_0x15a3a1==='$'||_0x15a3a1==='S'||_0x15a3a1==='\x5c')return _0x4fd03c;return'$'+_0x68d319+'^{\x5ccirc}\x5ctext{C}$';}),_0x10afc0=_0x10afc0['replace'](/\$\s*\$/g,'$$'),_0x10afc0!==_0x2ba4fd&&(_0x4486b1(_0x5b876e,_0x10afc0),_0x1814e6++);});if(_0x1814e6>0x0){showMessage(_0x281f18(0x292)+_0x1814e6+_0x281f18(0x6c6));try{if(window['MathJax']&&MathJax[_0x281f18(0x908)])MathJax[_0x281f18(0x908)]();window['katex']&&typeof renderMathInElement===_0x281f18(0x42f)&&renderMathInElement(_0x13ec87,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x3308eb){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x1013a7=_0x599685,_0x50f61e=collection(db,_0x1013a7(0x3d7)+appId+_0x1013a7(0xa9b));onSnapshot(_0x50f61e,_0x521df2=>{const _0x177081=_0x1013a7;customMathTopics=_0x521df2[_0x177081(0x5e9)][_0x177081(0x392)](_0x264f42=>({'id':_0x264f42['id'],..._0x264f42[_0x177081(0x7e5)]()})),renderTopicCheckboxes();},_0xb4c797=>{const _0x317573=_0x1013a7;console[_0x317573(0x30a)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0xb4c797);});}function handleSelectAllTopics(){const _0x242ebc=_0x599685,_0x132b48=document[_0x242ebc(0x6f5)]('math-topics-checkbox-container'),_0x1e0435=_0x132b48[_0x242ebc(0x3b5)]('input[type=\x22checkbox\x22]');_0x1e0435[_0x242ebc(0x24d)](_0xfcb247=>{const _0x38e162=_0x242ebc;_0xfcb247[_0x38e162(0x788)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x418c16=_0x599685,_0x35eb53=document[_0x418c16(0x6f5)](_0x418c16(0x845)),_0x170ce1=_0x35eb53[_0x418c16(0x3b5)]('input[type=\x22checkbox\x22]');_0x170ce1[_0x418c16(0x24d)](_0x5ed7fd=>{const _0x221807=_0x418c16;_0x5ed7fd[_0x221807(0x788)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x585f29){const _0x294a30=_0x599685;if(!_0x585f29)return;try{const _0x44fa39=doc(db,_0x294a30(0x3d7)+appId+_0x294a30(0xa9b),_0x585f29);await deleteDoc(_0x44fa39),showMessage('ลบหัวข้อสำเร็จ');}catch(_0xa14154){console[_0x294a30(0x30a)]('Error\x20deleting\x20custom\x20topic:',_0xa14154),showMessage(_0x294a30(0x20d));}}async function handleAddCustomMathTopic(){const _0x13d718=_0x599685,_0x4c5e62=document['getElementById'](_0x13d718(0x74d)),_0x118cdf=_0x4c5e62[_0x13d718(0x8c4)][_0x13d718(0x8cf)]();if(!_0x118cdf){showMessage(_0x13d718(0x79f));return;}if(!userId){showMessage(_0x13d718(0x633));return;}try{const _0x36cc4b=collection(db,_0x13d718(0x3d7)+appId+'/public/data/customMathTopics');await addDoc(_0x36cc4b,{'name':_0x118cdf,'createdAt':serverTimestamp()}),_0x4c5e62['value']='',showMessage(_0x13d718(0x5f0)+_0x118cdf+'\x22\x20สำเร็จ');}catch(_0x189da4){console[_0x13d718(0x30a)]('Error\x20adding\x20custom\x20topic:',_0x189da4),showMessage(_0x13d718(0x2c4));}}async function handleUpdateOldQuizzes(){const _0x1e4114=_0x599685;showConfirmation(_0x1e4114(0x731),async()=>{const _0x764bb5=_0x1e4114,_0xd2c4ab=document[_0x764bb5(0x6f5)](_0x764bb5(0x1c4)),_0x514bfa=document[_0x764bb5(0x6f5)](_0x764bb5(0x9dd)),_0x101e19=_0x514bfa[_0x764bb5(0x406)];_0xd2c4ab[_0x764bb5(0x7ad)][_0x764bb5(0xac8)](_0x764bb5(0x180)),_0x514bfa[_0x764bb5(0x406)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x32df6f=collection(db,_0x764bb5(0x3d7)+appId+'/public/data/quizzes'),_0x2fb170=await getDocs(_0x32df6f);if(_0x2fb170[_0x764bb5(0xa41)]){showMessage(_0x764bb5(0x899));return;}const _0x326b1f=writeBatch(db);let _0x5da723=0x0;_0x2fb170[_0x764bb5(0x24d)](_0x1206a6=>{const _0x38870b=_0x764bb5,_0x1dabc2=_0x1206a6[_0x38870b(0x7e5)](),_0x4b1e52=_0x1206a6['id'];if(_0x1dabc2[_0x38870b(0x4ac)]&&_0x1dabc2[_0x38870b(0x4ac)]['length']>0x0&&!_0x1dabc2[_0x38870b(0x4ac)][0x0]['hasOwnProperty']('id')){console['log'](_0x38870b(0x361)+_0x4b1e52+'\x20('+_0x1dabc2['topic']+')'),_0x5da723++;const _0x50dfff=_0x1dabc2['questions'][_0x38870b(0x392)]((_0x1f35c3,_0x225c4c)=>{const _0x4346ce=_0x38870b;return{..._0x1f35c3,'id':_0x1f35c3['id']||'q_'+Date[_0x4346ce(0x32f)]()+'_'+_0x4b1e52+'_'+_0x225c4c};}),_0x1af702=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4b1e52);_0x326b1f[_0x38870b(0x620)](_0x1af702,{'questions':_0x50dfff});}}),_0x5da723>0x0?(_0x514bfa['textContent']='กำลังอัปเดตแบบทดสอบ\x20'+_0x5da723+_0x764bb5(0x310),await _0x326b1f[_0x764bb5(0x724)](),showMessage(_0x764bb5(0xa5e)+_0x5da723+_0x764bb5(0x991))):showMessage(_0x764bb5(0x6fc));}catch(_0x667320){console[_0x764bb5(0x30a)]('Error\x20updating\x20old\x20quizzes:',_0x667320),showMessage(_0x764bb5(0x5f4)+_0x667320['message']);}finally{_0xd2c4ab[_0x764bb5(0x7ad)][_0x764bb5(0x25c)](_0x764bb5(0x180)),_0x514bfa['textContent']=_0x101e19;}});}async function handleBulkUpdateQuizSettings(){const _0x3c4bdb=_0x599685,_0x1caba2={'shuffle':document[_0x3c4bdb(0x6f5)](_0x3c4bdb(0x450))[_0x3c4bdb(0x8c4)],'resultsDisplay':document[_0x3c4bdb(0x6f5)](_0x3c4bdb(0x383))['value'],'loopUntilPass':document[_0x3c4bdb(0x6f5)](_0x3c4bdb(0x5eb))[_0x3c4bdb(0x788)],'isConfidenceScoringEnabled':document[_0x3c4bdb(0x6f5)](_0x3c4bdb(0x3ea))[_0x3c4bdb(0x788)],'confidenceMode':document[_0x3c4bdb(0x6f5)]('bulk-confidence-mode-select')[_0x3c4bdb(0x8c4)]};try{showMessage(_0x3c4bdb(0x221));const _0x2a4bfb=await getDocs(collection(db,_0x3c4bdb(0x3d7)+appId+'/public/data/quizzes')),_0x233c55=_0x2a4bfb[_0x3c4bdb(0x5e9)][_0x3c4bdb(0x392)](_0x2fbab9=>({'id':_0x2fbab9['id'],'data':_0x2fbab9[_0x3c4bdb(0x7e5)]()})),_0x6ccfa2=_0x233c55[_0x3c4bdb(0x5b5)];showConfirmation(_0x3c4bdb(0x8fe)+_0x6ccfa2+_0x3c4bdb(0x33b),async()=>{const _0x4a6be4=_0x3c4bdb,_0x49d85b=document[_0x4a6be4(0x6f5)](_0x4a6be4(0x7fb));_0x49d85b['disabled']=!![],_0x49d85b[_0x4a6be4(0x88b)]=_0x4a6be4(0x99f);try{const _0x5eeaa9=writeBatch(db);_0x233c55[_0x4a6be4(0x24d)](_0x3cd5f7=>{const _0x38df56=_0x4a6be4,_0x527707=doc(db,_0x38df56(0x3d7)+appId+_0x38df56(0x198),_0x3cd5f7['id']),_0x11f016={..._0x3cd5f7['data'][_0x38df56(0x549)]||{},..._0x1caba2};_0x5eeaa9['update'](_0x527707,{'settings':_0x11f016});}),await _0x5eeaa9[_0x4a6be4(0x724)](),document[_0x4a6be4(0x6f5)](_0x4a6be4(0x688))[_0x4a6be4(0x7ad)][_0x4a6be4(0x25c)](_0x4a6be4(0x180)),showMessage(_0x4a6be4(0x3b4)+_0x6ccfa2+_0x4a6be4(0xace));}catch(_0x323077){console[_0x4a6be4(0x30a)](_0x4a6be4(0x85d),_0x323077),showMessage(_0x4a6be4(0x4cf));}finally{_0x49d85b['disabled']=![],_0x49d85b['innerHTML']='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x285b4b){console[_0x3c4bdb(0x30a)](_0x3c4bdb(0x4e7),_0x285b4b),showMessage(_0x3c4bdb(0x524));}}async function handleSaveProjectName(){const _0x30ae52=_0x599685,_0x26eb27=document['getElementById'](_0x30ae52(0x72d)),_0xb5b983=document['getElementById']('save-project-name-btn'),_0x2efc9b=_0x26eb27['textContent'][_0x30ae52(0x8cf)]();if(!_0x2efc9b||!currentProjectId){showMessage(_0x30ae52(0x37f)),_0x26eb27['textContent']=currentProjectData[_0x30ae52(0x6e6)];return;}_0xb5b983[_0x30ae52(0x8c1)]=!![],_0xb5b983['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x298473=doc(db,_0x30ae52(0x3d7)+appId+_0x30ae52(0x581),currentProjectId);await updateDoc(_0x298473,{'projectName':_0x2efc9b}),currentProjectData&&(currentProjectData[_0x30ae52(0x6e6)]=_0x2efc9b),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x1afb59){console['error'](_0x30ae52(0x5c4),_0x1afb59),showMessage(_0x30ae52(0x886)),_0x26eb27[_0x30ae52(0x406)]=currentProjectData[_0x30ae52(0x6e6)];}finally{_0xb5b983[_0x30ae52(0x7ad)]['add'](_0x30ae52(0x180)),_0xb5b983[_0x30ae52(0x8c1)]=![],_0xb5b983[_0x30ae52(0x88b)]=_0x30ae52(0xa2c);}}async function initialize(){const _0x13fb6d=_0x599685;try{const _0x478271=initializeApp(firebaseConfig);db=getFirestore(_0x478271),auth=getAuth(_0x478271),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x231cb6){console[_0x13fb6d(0x30a)](_0x13fb6d(0x916),_0x231cb6),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x278b86=_0x599685,_0x4db5d4=document[_0x278b86(0x6f5)](_0x278b86(0x314));if(!_0x4db5d4)return;const _0x527d82=document['getElementById'](_0x278b86(0x974));_0x527d82['disabled']=!![],_0x527d82[_0x278b86(0x88b)]=_0x278b86(0x57c);try{const _0x551698=_0x4db5d4[_0x278b86(0x3b5)](_0x278b86(0x63a)),_0x10477f=Array['from'](_0x551698)[_0x278b86(0x392)]((_0x28394e,_0x4a3373)=>{const _0x4e44f2=_0x278b86,_0x48c343=_0x28394e[_0x4e44f2(0x4eb)][_0x4e44f2(0x9f5)],_0x55850a=_0x28394e['querySelector'](_0x4e44f2(0x729))['value'];let _0x84e76e=null,_0x5c9826='';switch(_0x48c343){case _0x4e44f2(0x9bb):const _0x5c173a=_0x28394e['querySelectorAll'](_0x4e44f2(0x3c0));_0x84e76e=Array[_0x4e44f2(0x189)](_0x5c173a)[_0x4e44f2(0x392)](_0x55c225=>_0x55c225[_0x4e44f2(0x8c4)]);const _0x2b0a3d=_0x28394e['querySelector']('input[type=\x22radio\x22]:checked');_0x2b0a3d&&(_0x5c9826=_0x84e76e[parseInt(_0x2b0a3d[_0x4e44f2(0x8c4)])]);break;case'short_answer':_0x5c9826=_0x28394e[_0x4e44f2(0x9ae)](_0x4e44f2(0x75b))['value'];break;case _0x4e44f2(0x932):const _0x32daab=_0x28394e[_0x4e44f2(0x9ae)](_0x4e44f2(0x4cc));_0x5c9826=_0x32daab?_0x32daab[_0x4e44f2(0x8c4)]:'';break;case _0x4e44f2(0x228):_0x5c9826=_0x28394e[_0x4e44f2(0x9ae)](_0x4e44f2(0x973))[_0x4e44f2(0x8c4)];break;}return{'question':_0x55850a,'options':_0x84e76e,'proposedAnswer':_0x5c9826};}),_0x1f5d85='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON['stringify'](_0x10477f)+_0x278b86(0x4c5),_0x57d65a={'type':_0x278b86(0xa25),'items':{'type':_0x278b86(0x284),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x278b86(0x604)},'justification':{'type':_0x278b86(0x89b)},'suggestedAnswer':{'type':_0x278b86(0x89b)}},'required':[_0x278b86(0x9c4),'isCorrect','justification']}},_0x3142ed=await callAnalysisApi(_0x1f5d85,{'type':_0x278b86(0x284),'properties':{'result':_0x57d65a},'required':[_0x278b86(0x7c5)]});displayVerificationResultsInEditor(_0x3142ed[_0x278b86(0x7c5)]);}catch(_0x271648){console['error']('Error\x20verifying\x20answers\x20in\x20editor:',_0x271648),showMessage(_0x278b86(0x34e));}finally{_0x527d82[_0x278b86(0x8c1)]=![],_0x527d82['innerHTML']=_0x278b86(0x90f);}}function displayVerificationResultsInEditor(_0x38cfa0){_0x38cfa0['forEach'](_0x1e3d41=>{const _0x506330=_0x2110,_0x5f3070=document['querySelector'](_0x506330(0x291)+_0x1e3d41[_0x506330(0x9c4)]+'\x22]');if(!_0x5f3070)return;const _0x42fca1=_0x5f3070[_0x506330(0x9ae)](_0x506330(0x5f8));if(_0x42fca1)_0x42fca1[_0x506330(0xac8)]();let _0x160be='';if(_0x1e3d41[_0x506330(0x635)])_0x160be=_0x506330(0x5cd);else{const _0x26678e=_0x1e3d41[_0x506330(0x65d)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x160be=_0x506330(0x4d9)+_0x26678e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x1e3d41[_0x506330(0x4e4)]+_0x506330(0x360)+(_0x1e3d41['suggestedAnswer']?_0x506330(0x404)+_0x1e3d41[_0x506330(0x65d)]+'</p>':'')+_0x506330(0x671);}_0x5f3070[_0x506330(0x647)](_0x506330(0x29d),_0x160be);if(!_0x1e3d41[_0x506330(0x635)]&&_0x1e3d41['suggestedAnswer']){const _0x5ca295=_0x5f3070['dataset'][_0x506330(0x9f5)],_0x306e97=_0x56868c=>{const _0x1cdab2=_0x506330;if(!_0x56868c)return;_0x56868c['classList'][_0x1cdab2(0x25c)](_0x1cdab2(0x3f8),_0x1cdab2(0x4f4),_0x1cdab2(0x579)),setTimeout(()=>{const _0x4a0432=_0x1cdab2;_0x56868c['classList'][_0x4a0432(0xac8)](_0x4a0432(0x3f8));},0x9c4);};if(_0x5ca295===_0x506330(0x9bb)){const _0x201344=Array['from'](_0x5f3070[_0x506330(0x3b5)](_0x506330(0x3c0))),_0x261acb=_0x201344[_0x506330(0x489)](_0x4d8adf=>_0x4d8adf['value'][_0x506330(0x8cf)]()[_0x506330(0x607)]()===_0x1e3d41[_0x506330(0x65d)][_0x506330(0x8cf)]()['toLowerCase']());if(_0x261acb!==-0x1){const _0x3724d8=_0x5f3070[_0x506330(0x9ae)](_0x506330(0x4fa)+_0x261acb+'\x22]');_0x3724d8&&(_0x3724d8[_0x506330(0x788)]=!![],_0x306e97(_0x3724d8[_0x506330(0x74c)](_0x506330(0x57a))));}}else{if(_0x5ca295===_0x506330(0x7ff)||_0x5ca295===_0x506330(0x228)){const _0x21ac83=_0x5f3070['querySelector'](_0x506330(0x884));_0x21ac83&&(_0x21ac83[_0x506330(0x8c4)]=_0x1e3d41[_0x506330(0x65d)],_0x306e97(_0x21ac83));}else{if(_0x5ca295===_0x506330(0x932)){const _0x3a7d4c=_0x1e3d41[_0x506330(0x65d)][_0x506330(0x8cf)]()['toLowerCase'](),_0x136514=_0x5f3070[_0x506330(0x9ae)](_0x506330(0x4fa)+_0x3a7d4c+'\x22]');_0x136514&&(_0x136514[_0x506330(0x788)]=!![],_0x306e97(_0x136514[_0x506330(0x74c)](_0x506330(0x57a))));}}}}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0xe65d2d=_0x599685;if(!currentQuizData||!currentQuizData[_0xe65d2d(0x4ac)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x42fea0=document[_0xe65d2d(0x6f5)](_0xe65d2d(0x4cb));_0x42fea0[_0xe65d2d(0x8c1)]=!![],_0x42fea0['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x473259=currentQuizData[_0xe65d2d(0x4ac)][_0xe65d2d(0x392)]((_0x406ad9,_0x139a27)=>{const _0x234f15=_0xe65d2d;let _0x51042a='';const _0x2e1b03=_0x406ad9[_0x234f15(0x5e5)]||currentQuizData[_0x234f15(0x1a3)];switch(_0x2e1b03){case'multiple_choice':_0x51042a=_0x406ad9[_0x234f15(0x5d1)][_0x406ad9[_0x234f15(0x5db)]];break;case _0x234f15(0x7ff):_0x51042a=_0x406ad9[_0x234f15(0xa6e)];break;case'true_false':_0x51042a=_0x406ad9[_0x234f15(0xa0b)][_0x234f15(0x8b5)]();break;case _0x234f15(0x228):_0x51042a=_0x406ad9['correctResponse'];break;}return{'question':_0x406ad9[_0x234f15(0x9a4)]||_0x406ad9[_0x234f15(0x4ed)],'options':_0x406ad9[_0x234f15(0x5d1)]||null,'proposedAnswer':_0x51042a};}),_0x2c2211=_0xe65d2d(0x985)+JSON[_0xe65d2d(0x3eb)](_0x473259)+_0xe65d2d(0x529),_0x550733={'type':_0xe65d2d(0xa25),'items':{'type':_0xe65d2d(0x284),'properties':{'questionIndex':{'type':_0xe65d2d(0x601)},'isCorrect':{'type':_0xe65d2d(0x604)},'justification':{'type':_0xe65d2d(0x89b)},'suggestedAnswer':{'type':_0xe65d2d(0x89b)}},'required':[_0xe65d2d(0x9c4),_0xe65d2d(0x635),'justification']}},_0xcd42e0=await callAnalysisApi(_0x2c2211,{'type':_0xe65d2d(0x284),'properties':{'result':_0x550733},'required':[_0xe65d2d(0x7c5)]});displayVerificationResults(_0xcd42e0[_0xe65d2d(0x7c5)]);}catch(_0x5b39c0){console[_0xe65d2d(0x30a)]('Error\x20verifying\x20answers:',_0x5b39c0),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x42fea0[_0xe65d2d(0x8c1)]=![],_0x42fea0[_0xe65d2d(0x88b)]=_0xe65d2d(0x637);}}function displayVerificationResults(_0x1d2281){const _0x43fde6=_0x599685;_0x1d2281[_0x43fde6(0x24d)](_0x387286=>{const _0x2a87d9=_0x43fde6,_0x16ff35=document['querySelector'](_0x2a87d9(0x8e9)+_0x387286[_0x2a87d9(0x9c4)]+'\x22]');if(_0x16ff35){const _0x5ef23f=_0x16ff35['querySelector'](_0x2a87d9(0x239));if(_0x5ef23f)_0x5ef23f[_0x2a87d9(0xac8)]();let _0x298382='';_0x387286['isCorrect']?_0x298382='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x298382=_0x2a87d9(0x7b7)+_0x387286[_0x2a87d9(0x4e4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x387286[_0x2a87d9(0x65d)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x387286['suggestedAnswer']+_0x2a87d9(0x68b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x16ff35['insertAdjacentHTML'](_0x2a87d9(0x29d),_0x298382);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x274108,_0x380b22){const _0x30f0e7=_0x599685,_0x36eb77=String(_0x274108)[_0x30f0e7(0x2a2)](',','.')['replace'](/[^\d.-]/g,'')['trim'](),_0x324b2f=String(_0x380b22)[_0x30f0e7(0x2a2)](',','.')[_0x30f0e7(0x2a2)](/[^\d.-]/g,'')['trim']();if(_0x36eb77===''||_0x324b2f==='')return![];const _0x413e13=parseFloat(_0x36eb77),_0x1351ee=parseFloat(_0x324b2f);if(isNaN(_0x413e13)||isNaN(_0x1351ee))return![];return Math['abs'](_0x413e13-_0x1351ee)<0.001;}function isPotentiallyNumeric(_0x9f4e32){const _0x4750f0=_0x599685;if(typeof _0x9f4e32!==_0x4750f0(0x4a2)&&typeof _0x9f4e32!==_0x4750f0(0x26e))return![];const _0x651273=String(_0x9f4e32)['replace'](',','.')[_0x4750f0(0x8cf)]();return _0x651273!==''&&!isNaN(parseFloat(_0x651273))&&isFinite(_0x651273);}async function gradeShortAnswer(_0x5d92b1,_0x2b0d9f){const _0x3c882c=_0x599685,_0x445716=_0x2b0d9f['idealAnswer'],_0x33b243=String(_0x5d92b1)[_0x3c882c(0x2a2)](/\$/g,'')['trim'](),_0xde93be=String(_0x445716)[_0x3c882c(0x2a2)](/\$/g,'')[_0x3c882c(0x8cf)]();if(_0x33b243[_0x3c882c(0x607)]()===_0xde93be[_0x3c882c(0x607)]())return!![];if(isPotentiallyNumeric(_0x33b243)&&isPotentiallyNumeric(_0xde93be)){if(compareNumericalAnswers(_0x33b243,_0xde93be))return!![];}return console[_0x3c882c(0x8af)](_0x3c882c(0x188)),await gradeShortAnswerWithAI(_0x5d92b1,_0x445716);}async function revealAnswerForAdmin(_0x4c931e,_0x196da9){const _0x535112=_0x599685,_0x4404e6=doc(db,_0x535112(0x3d7)+appId+_0x535112(0x1c7),currentLiveGameId);await updateDoc(_0x4404e6,{'questionStatus':_0x535112(0x261)});}function showTop5LeaderboardView(_0xfcb531){const _0x313f6a=_0x599685,_0x5c2ea2=Object['values'](_0xfcb531['players']||{})[_0x313f6a(0x7c9)](_0x17414d=>_0x17414d[_0x313f6a(0x800)]===_0x313f6a(0x825));_0x5c2ea2[_0x313f6a(0xab3)]((_0x3ea2c1,_0x80690d)=>_0x80690d[_0x313f6a(0x9df)]-_0x3ea2c1['score']);const _0x1b2c90=_0x5c2ea2['slice'](0x0,0x5),_0x2b358d=_0x313f6a(0x5ba)+_0x1b2c90[_0x313f6a(0x392)]((_0x1caa2d,_0x25e66b)=>_0x313f6a(0x894)+(_0x25e66b+0x1)+'.\x20'+(_0x1caa2d[_0x313f6a(0x472)]||Object[_0x313f6a(0x937)](_0xfcb531[_0x313f6a(0x255)])[_0x313f6a(0x726)](_0x3708f4=>_0xfcb531[_0x313f6a(0x255)][_0x3708f4]===_0x1caa2d))+_0x313f6a(0x5a2)+_0x1caa2d[_0x313f6a(0x9df)]+_0x313f6a(0x6e9))['join']('')+_0x313f6a(0x9a6)+(_0xfcb531[_0x313f6a(0x62a)]+0x1===currentQuizData['questions']['length']?_0x313f6a(0x66a):_0x313f6a(0x87f))+_0x313f6a(0x2f9);liveGameView[_0x313f6a(0x88b)]=_0x2b358d,document[_0x313f6a(0x6f5)](_0x313f6a(0x48d))[_0x313f6a(0x2a3)](_0x313f6a(0x41c),async()=>{const _0x52c806=_0x313f6a,_0xbb234d=doc(db,'artifacts/'+appId+_0x52c806(0x1c7),currentLiveGameId),_0x5f1f07=_0xfcb531[_0x52c806(0x62a)]+0x1;if(_0x5f1f07<currentQuizData['questions'][_0x52c806(0x5b5)]){const _0x6ef232={'currentQuestionIndex':_0x5f1f07,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x52c806(0x3a5)};Object[_0x52c806(0x937)](_0xfcb531['players'])[_0x52c806(0x24d)](_0x1660a1=>{const _0x54ae7b=_0x52c806;_0x6ef232['players.'+_0x1660a1+_0x54ae7b(0x2d7)]=![];}),await updateDoc(_0xbb234d,_0x6ef232);}else await updateDoc(_0xbb234d,{'status':_0x52c806(0x71a)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0xd1a450=>{const _0x4c2959=_0x2110;if(_0xd1a450){userId=_0xd1a450[_0x4c2959(0x1d9)],userIdDisplay[_0x4c2959(0x406)]=userId;const _0x56f303=await loadUserPreferences();_0x56f303[_0x4c2959(0x924)]&&(document[_0x4c2959(0x6f5)](_0x4c2959(0x7ee))[_0x4c2959(0x8c4)]=_0x56f303[_0x4c2959(0x924)]);globalDashboardSettings[_0x4c2959(0x322)]=_0x56f303[_0x4c2959(0x322)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x509b5e,_0x5b126b){const _0x2e3b96=_0x599685;if(!userId)return;try{const _0x9dcd86=doc(db,_0x2e3b96(0x3d7)+appId+_0x2e3b96(0x8ba)+userId+_0x2e3b96(0xa69)),_0x2e126d={};_0x2e126d[_0x509b5e]=_0x5b126b,await setDoc(_0x9dcd86,_0x2e126d,{'merge':!![]});}catch(_0x3bdecd){console[_0x2e3b96(0x30a)](_0x2e3b96(0x364),_0x3bdecd);}}async function loadUserPreferences(){const _0x1a7ede=_0x599685;if(!userId)return{};try{const _0x232349=doc(db,_0x1a7ede(0x3d7)+appId+_0x1a7ede(0x8ba)+userId+_0x1a7ede(0xa69)),_0xe8b055=await getDoc(_0x232349);if(_0xe8b055[_0x1a7ede(0x478)]())return _0xe8b055[_0x1a7ede(0x7e5)]();return{};}catch(_0x3fb4d3){return console[_0x1a7ede(0x30a)]('Error\x20loading\x20user\x20preferences:',_0x3fb4d3),{};}}function showPodiumView(_0x383470,_0x3ded35=_0x599685(0x191)){const _0x2b6eef=_0x599685,_0x4c42d8=Object[_0x2b6eef(0x4ef)](_0x383470)[_0x2b6eef(0x392)](([_0x916642,_0x202059])=>({'name':_0x916642,'score':_0x202059[_0x2b6eef(0x9df)]||0x0,'badges':_0x202059[_0x2b6eef(0x3f0)]||[],'hasPerfectScoreBonus':_0x202059['hasPerfectScoreBonus']||![]}));_0x4c42d8[_0x2b6eef(0xab3)]((_0x39c236,_0x10fff2)=>{const _0x1f4606=_0x2b6eef,_0x476b2b=_0x10fff2[_0x1f4606(0x9df)]-_0x39c236[_0x1f4606(0x9df)];if(_0x476b2b!==0x0)return _0x476b2b;return(_0x10fff2[_0x1f4606(0x3f0)]['length']||0x0)-(_0x39c236[_0x1f4606(0x3f0)][_0x1f4606(0x5b5)]||0x0);});const _0x570184=_0x6ffc20=>{const _0x3e0a39=_0x2b6eef;if(!_0x6ffc20||_0x6ffc20[_0x3e0a39(0x5b5)]===0x0)return'';const _0x4c9ca1={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x3e0a39(0x192)+_0x6ffc20[_0x3e0a39(0x392)](_0x1299fb=>_0x4c9ca1[_0x1299fb]||'')[_0x3e0a39(0x70f)]('')+_0x3e0a39(0x6ab);},_0x535a26=_0x4c42d8[_0x2b6eef(0x804)](0x3),_0x500619=_0x535a26[_0x2b6eef(0x5b5)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x535a26[_0x2b6eef(0x392)]((_0x312622,_0x3463eb)=>{const _0x21624d=_0x2b6eef,_0x54155e=_0x312622['hasPerfectScoreBonus']?_0x21624d(0x2c5):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x3463eb+0x4)+_0x21624d(0x522)+_0x312622[_0x21624d(0x472)]+_0x21624d(0x497)+_0x312622[_0x21624d(0x9df)]+_0x21624d(0x994)+_0x54155e+_0x21624d(0x179);})[_0x2b6eef(0x70f)]('')+_0x2b6eef(0x46e):'',_0x59342b=_0x2b6eef(0x6c3)+(_0x4c42d8[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x4c42d8[0x1][_0x2b6eef(0x472)]+'</p>'+_0x570184(_0x4c42d8[0x1][_0x2b6eef(0x3f0)])+_0x2b6eef(0x95a)+_0x4c42d8[0x1][_0x2b6eef(0x9df)]+'\x20คะแนน\x20'+(_0x4c42d8[0x1][_0x2b6eef(0x61f)]?_0x2b6eef(0x614):'')+_0x2b6eef(0x426):'<div\x20class=\x22flex-1\x22></div>')+_0x2b6eef(0xaa1)+(_0x4c42d8[0x0]?_0x2b6eef(0x3f1)+_0x4c42d8[0x0][_0x2b6eef(0x472)]+_0x2b6eef(0x68b)+_0x570184(_0x4c42d8[0x0]['badges'])+'<p\x20class=\x22text-2xl\x22>'+_0x4c42d8[0x0][_0x2b6eef(0x9df)]+_0x2b6eef(0x994)+(_0x4c42d8[0x0][_0x2b6eef(0x61f)]?_0x2b6eef(0x614):'')+_0x2b6eef(0x557):_0x2b6eef(0x971))+_0x2b6eef(0xaa1)+(_0x4c42d8[0x2]?_0x2b6eef(0x5b7)+_0x4c42d8[0x2]['name']+_0x2b6eef(0x68b)+_0x570184(_0x4c42d8[0x2][_0x2b6eef(0x3f0)])+'<p\x20class=\x22text-xl\x22>'+_0x4c42d8[0x2][_0x2b6eef(0x9df)]+'\x20คะแนน\x20'+(_0x4c42d8[0x2][_0x2b6eef(0x61f)]?_0x2b6eef(0x614):'')+_0x2b6eef(0x402):_0x2b6eef(0x971))+_0x2b6eef(0x3bd)+_0x500619+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x2b6eef(0x750)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x2b6eef(0x730))+_0x2b6eef(0x21e);liveGameView[_0x2b6eef(0x88b)]=_0x59342b,currentMode===_0x2b6eef(0x750)&&document[_0x2b6eef(0x6f5)](_0x2b6eef(0x31a))[_0x2b6eef(0x2a3)](_0x2b6eef(0x41c),async()=>{const _0x5086eb=_0x2b6eef;let _0x44312e;_0x3ded35===_0x5086eb(0x1f0)?_0x44312e=doc(db,_0x5086eb(0x3d7)+appId+_0x5086eb(0x3c7),currentLiveGameId):_0x44312e=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x44312e);});}function renderSyncSummaryView(_0x12a5a1,_0x41989b,_0x1370d1){const _0x5affa2=_0x599685,_0x175d6b=Object[_0x5affa2(0x7d0)](_0x12a5a1[_0x5affa2(0x255)]||{}),_0x483f76=_0x41989b[_0x5affa2(0x5e5)]||_0x12a5a1[_0x5affa2(0x6de)][_0x5affa2(0x1a3)];let _0x59338f=[];_0x483f76===_0x5affa2(0x932)?_0x59338f=['ใช่\x20/\x20ถูก',_0x5affa2(0x88e)]:_0x59338f=_0x41989b[_0x5affa2(0x5d1)]||[];const _0x524c16=new Array(_0x59338f[_0x5affa2(0x5b5)])['fill'](0x0),_0x2f3b58={};_0x59338f['forEach']((_0x25d9e9,_0x58c227)=>{_0x2f3b58[_0x58c227]=[];}),Object[_0x5affa2(0x4ef)](_0x12a5a1[_0x5affa2(0x255)]||{})[_0x5affa2(0x24d)](([_0xd50a9d,_0x110f3a])=>{const _0x315631=_0x5affa2;if(_0x110f3a[_0x315631(0x800)]!=='inactive'&&_0x110f3a[_0x315631(0x431)]!==undefined&&_0x110f3a[_0x315631(0x431)]!==null){const _0x12e999=_0x110f3a[_0x315631(0x431)];_0x2f3b58[_0x12e999]!==undefined&&(_0x2f3b58[_0x12e999][_0x315631(0x6a1)](_0xd50a9d),_0x524c16[_0x12e999]++);}});let _0x3e48ef='';_0x1370d1?_0x3e48ef=_0x5affa2(0xa23):_0x3e48ef=_0x5affa2(0x67e);const _0x59b746='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x41989b['questionText']+_0x5affa2(0x1e5)+_0x524c16[_0x5affa2(0x392)]((_0x59b1ea,_0x501817)=>{const _0x2d4c20=_0x5affa2,_0x206458=_0x2f3b58[_0x501817][_0x2d4c20(0x5b5)]>0x0?_0x2f3b58[_0x501817][_0x2d4c20(0x70f)](',\x20'):_0x2d4c20(0x631),_0xba35f3='#6366F1';return _0x2d4c20(0x903)+_0x59b1ea+_0x2d4c20(0x46b)+_0xba35f3+_0x2d4c20(0x802)+_0x501817+_0x2d4c20(0x37c)+_0x59338f[_0x501817]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x501817+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x206458+_0x2d4c20(0x219);})[_0x5affa2(0x70f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e48ef+_0x5affa2(0x43f);liveGameView['innerHTML']=_0x59b746;if(window[_0x5affa2(0x4dd)])MathJax[_0x5affa2(0x908)]();_0x1370d1&&(document['getElementById'](_0x5affa2(0x618))['addEventListener'](_0x5affa2(0x41c),async()=>{const _0x7af933=_0x5affa2,_0x2a97ec=doc(db,'artifacts/'+appId+_0x7af933(0x3c7),currentLiveGameId);await updateDoc(_0x2a97ec,{'status':_0x7af933(0x7aa)});}),document['getElementById'](_0x5affa2(0x53a))[_0x5affa2(0x46d)]=()=>{openScratchpad(_0x41989b,_0x59338f);});}async function handleShowStudentRankings(){const _0x50571a=_0x599685,_0x5d393e=document[_0x50571a(0x9ae)](_0x50571a(0x97f));_0x5d393e&&(_0x5d393e[_0x50571a(0x88b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x1728ae=document[_0x50571a(0x9ae)](_0x50571a(0xa12));_0x1728ae&&(_0x1728ae['innerHTML']=_0x50571a(0x4da));const _0x1b2e2e=document[_0x50571a(0x6f5)]('student-rankings-modal');_0x1b2e2e[_0x50571a(0x7ad)]['remove']('hidden'),document['getElementById'](_0x50571a(0x243))[_0x50571a(0x46d)]=()=>_0x1b2e2e[_0x50571a(0x7ad)][_0x50571a(0x25c)](_0x50571a(0x180));const _0x5e0b5a=document[_0x50571a(0x6f5)](_0x50571a(0x585)),_0x530426=document[_0x50571a(0x6f5)]('student-project-leaderboard-tab'),_0x3ab7ea=document[_0x50571a(0x6f5)](_0x50571a(0x880)),_0x3aa779=document[_0x50571a(0x6f5)](_0x50571a(0x41a));_0x5e0b5a[_0x50571a(0x46d)]=()=>{const _0x3e2b39=_0x50571a;_0x5e0b5a[_0x3e2b39(0x7ad)]['add'](_0x3e2b39(0x825)),_0x530426[_0x3e2b39(0x7ad)][_0x3e2b39(0xac8)](_0x3e2b39(0x825)),_0x3ab7ea[_0x3e2b39(0x7ad)][_0x3e2b39(0xac8)](_0x3e2b39(0x180)),_0x3aa779[_0x3e2b39(0x7ad)][_0x3e2b39(0x25c)](_0x3e2b39(0x180));},_0x530426[_0x50571a(0x46d)]=()=>{const _0x11e154=_0x50571a;_0x530426[_0x11e154(0x7ad)][_0x11e154(0x25c)]('active'),_0x5e0b5a['classList']['remove']('active'),_0x3aa779[_0x11e154(0x7ad)][_0x11e154(0xac8)](_0x11e154(0x180)),_0x3ab7ea[_0x11e154(0x7ad)][_0x11e154(0x25c)](_0x11e154(0x180));};try{const _0x15b604=collection(db,'artifacts/'+appId+_0x50571a(0x754)+currentQuizData['id']+_0x50571a(0x98a)),_0x5cd8fb=await getDocs(_0x15b604),_0x4db995=_0x5cd8fb[_0x50571a(0x5e9)][_0x50571a(0x392)](_0x417b66=>_0x417b66['data']());renderQuizLeaderboard(_0x4db995,currentQuizData,'student-quiz-leaderboard-table-body');const _0x474cb5=collection(db,_0x50571a(0x3d7)+appId+_0x50571a(0x330)+currentQuizData[_0x50571a(0x7f1)]+_0x50571a(0x8f6)),_0x4e30a1=await getDocs(_0x474cb5),_0x1c7232=_0x4e30a1[_0x50571a(0x5e9)][_0x50571a(0x392)](_0x2da20e=>_0x2da20e[_0x50571a(0x7e5)]());renderLeaderboard(_0x1c7232,_0x50571a(0x8b2));}catch(_0x1c6af6){console['error']('Error\x20fetching\x20student\x20rankings:',_0x1c6af6),showMessage(_0x50571a(0x746));}}async function handleSaveToBank(_0x355fb2){const _0x21c698=_0x599685,_0x2a43fe=_0x355fb2[_0x21c698(0xac9)],_0x369357=_0x2a43fe[_0x21c698(0x4eb)][_0x21c698(0x5e4)],_0x127f9e=currentQuizData['questions'][_0x369357];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x1c262f={..._0x127f9e,'originalTopic':currentQuizData[_0x21c698(0x699)],'savedAt':serverTimestamp()},_0x15842f=collection(db,'artifacts/'+appId+_0x21c698(0x8ba)+userId+_0x21c698(0x8a1));await addDoc(_0x15842f,_0x1c262f),showMessage(_0x21c698(0x387)),_0x2a43fe[_0x21c698(0x7ad)][_0x21c698(0xac8)](_0x21c698(0x2ee)),_0x2a43fe[_0x21c698(0x7ad)]['add'](_0x21c698(0x6a7)),_0x2a43fe[_0x21c698(0x8c1)]=!![];}catch(_0x3a791a){console[_0x21c698(0x30a)](_0x21c698(0x878),_0x3a791a),showMessage(_0x21c698(0x886));}}function listenForStarredQuizzes(){const _0x3317d3=_0x599685;if(!userId)return;const _0x1cf60d=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x1477c6=query(_0x1cf60d,where(_0x3317d3(0x6fa),'==',!![]));onSnapshot(_0x1477c6,_0x43db0d=>{const _0xc2bd7e=_0x3317d3;starredQuizzes=_0x43db0d[_0xc2bd7e(0x5e9)][_0xc2bd7e(0x392)](_0xcfa127=>({'id':_0xcfa127['id'],..._0xcfa127[_0xc2bd7e(0x7e5)]()})),currentProjectId===_0xc2bd7e(0x384)?renderQuizzes():renderProjects();},_0x59a571=>{const _0x19f892=_0x3317d3;console[_0x19f892(0x30a)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x59a571);});}function exportQuizAsWorksheetPDF(){const _0xa38e9f=_0x599685;if(!currentQuizData||!currentQuizData[_0xa38e9f(0x4ac)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x23d751=currentQuizData,_0x57a9c9=window[_0xa38e9f(0x972)]('',_0xa38e9f(0x634)),_0x1bd208=_0x4143cf=>String[_0xa38e9f(0x66d)](0x41+_0x4143cf),_0x2ad57f=_0xa38e9f(0x866)+_0x23d751[_0xa38e9f(0x699)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x23d751[_0xa38e9f(0x699)]+_0xa38e9f(0x9b1)+_0x23d751[_0xa38e9f(0x4ac)][_0xa38e9f(0x392)]((_0x3b924a,_0x529d21)=>{const _0x52d930=_0xa38e9f;let _0x42c371='';const _0x18edf1=_0x3b924a[_0x52d930(0x5e5)]||_0x23d751[_0x52d930(0x1a3)];switch(_0x18edf1){case'multiple_choice':case _0x52d930(0x997):_0x42c371=_0x52d930(0x922)+_0x3b924a[_0x52d930(0x5d1)][_0x52d930(0x392)]((_0x1c9723,_0x10924a)=>_0x52d930(0x379)+_0x1bd208(_0x10924a)+'.\x20'+_0x1c9723+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x52d930(0x70f)](_0x52d930(0x3c5))+_0x52d930(0x6ab);break;case _0x52d930(0x932):_0x42c371=_0x52d930(0x819);break;default:_0x42c371=_0x52d930(0x3fe);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x529d21+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x3b924a[_0x52d930(0x9a4)]||_0x3b924a[_0x52d930(0x4ed)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3b924a[_0x52d930(0x248)]?_0x52d930(0x356)+_0x3b924a['imageCode']+_0x52d930(0x6ab):'')+_0x52d930(0x685)+_0x42c371+_0x52d930(0x715);})['join']('')+_0xa38e9f(0x280);_0x57a9c9[_0xa38e9f(0x940)][_0xa38e9f(0x276)](_0x2ad57f),_0x57a9c9['document'][_0xa38e9f(0x72c)](),_0x57a9c9[_0xa38e9f(0x8d4)]=function(){setTimeout(()=>{const _0x1e6012=_0x2110;_0x57a9c9[_0x1e6012(0x193)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x5c1277=_0x599685;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x5c1277(0x5ab));return;}const _0x27a7a1=currentQuizData,_0x8c3380=window[_0x5c1277(0x972)]('',_0x5c1277(0x634)),_0x2f6c88=_0xd3a392=>String[_0x5c1277(0x66d)](0x41+_0xd3a392),_0x4851b1=_0x5c1277(0x194)+_0x27a7a1['topic']+_0x5c1277(0x457)+_0x27a7a1[_0x5c1277(0x4ac)]['map']((_0x3258ef,_0x1acae1)=>{const _0x3c9f72=_0x5c1277;let _0x459879='';const _0x29f52c=_0x3258ef[_0x3c9f72(0x5e5)]||_0x27a7a1[_0x3c9f72(0x1a3)];switch(_0x29f52c){case _0x3c9f72(0x9bb):case _0x3c9f72(0x997):_0x459879=_0x3c9f72(0x716)+_0x3258ef['options'][_0x3c9f72(0x392)]((_0x564536,_0x33edab)=>_0x3c9f72(0x927)+_0x2f6c88(_0x33edab)+'.\x20'+_0x564536+_0x3c9f72(0x565))[_0x3c9f72(0x70f)](_0x3c9f72(0x3c5))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x3c9f72(0x932):_0x459879=_0x3c9f72(0x656);break;default:_0x459879='';break;}return _0x3c9f72(0xa2b)+_0x27a7a1[_0x3c9f72(0x699)]+_0x3c9f72(0x9ed)+(_0x1acae1+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x3258ef[_0x3c9f72(0x9a4)]||_0x3258ef[_0x3c9f72(0x4ed)])+_0x3c9f72(0x362)+(_0x3258ef[_0x3c9f72(0x248)]?_0x3c9f72(0x30e)+_0x3258ef[_0x3c9f72(0x248)]+_0x3c9f72(0x6ab):'')+_0x3c9f72(0x685)+_0x459879+_0x3c9f72(0x510);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x8c3380['document']['write'](_0x4851b1),_0x8c3380[_0x5c1277(0x940)][_0x5c1277(0x72c)](),_0x8c3380['onload']=function(){setTimeout(()=>{const _0x48ea9f=_0x2110;_0x8c3380[_0x48ea9f(0x193)]();},0x5dc);};}async function handleToggleStarQuiz(_0x16315a){const _0x595f05=_0x599685,_0x2a85f8=doc(db,_0x595f05(0x3d7)+appId+'/public/data/quizzes',_0x16315a);try{const _0x5d8386=await getDoc(_0x2a85f8);if(_0x5d8386['exists']()){const _0x4b08df=_0x5d8386[_0x595f05(0x7e5)]()[_0x595f05(0x6fa)]||![];await updateDoc(_0x2a85f8,{'isStarred':!_0x4b08df});}}catch(_0x380c24){console[_0x595f05(0x30a)]('Error\x20toggling\x20star\x20status:',_0x380c24),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x55bbf5=_0x599685,_0x4c643c=document[_0x55bbf5(0x6f5)](_0x55bbf5(0x863));_0x4c643c[_0x55bbf5(0x88b)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x50e871=collection(db,_0x55bbf5(0x3d7)+appId+'/users/'+userId+_0x55bbf5(0x8a1)),_0x1dc66c=query(_0x50e871),_0x2078eb=await getDocs(_0x1dc66c);if(_0x2078eb[_0x55bbf5(0xa41)]){_0x4c643c[_0x55bbf5(0x88b)]=_0x55bbf5(0x63e);return;}let _0x3c8bb5=_0x2078eb[_0x55bbf5(0x5e9)][_0x55bbf5(0x392)](_0x34d76c=>{const _0x2c7d2b=_0x55bbf5,_0x2007b4=_0x34d76c[_0x2c7d2b(0x7e5)](),_0x575948=_0x34d76c['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x2c7d2b(0x3eb)](_0x2007b4)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x2007b4['questionText']||_0x2007b4[_0x2c7d2b(0x9a4)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x2007b4[_0x2c7d2b(0x1fb)]+_0x2c7d2b(0x78e);})['join']('');_0x4c643c[_0x55bbf5(0x88b)]=_0x55bbf5(0x533)+_0x3c8bb5+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x55bbf5(0x523))[_0x55bbf5(0x2a3)](_0x55bbf5(0x41c),createQuizFromBank);}catch(_0x393225){console['error'](_0x55bbf5(0x1cd),_0x393225),_0x4c643c['innerHTML']=_0x55bbf5(0x545);}}function showAdminLiveQuestionView(_0x2f1cd2,_0x4211f1,_0x47d49d){const _0x3fe40b=_0x599685,_0x59d71c=_0x2f1cd2[_0x3fe40b(0x5e5)]||currentQuizData[_0x3fe40b(0x1a3)];let _0x425a89='';if(_0x59d71c==='multiple_choice'||_0x59d71c===_0x3fe40b(0x932)){const _0xdd8d2a=_0x59d71c===_0x3fe40b(0x932)?[_0x3fe40b(0x9f0),_0x3fe40b(0x6ad)]:_0x2f1cd2['options'],_0x162b9d=_0x59d71c===_0x3fe40b(0x932)?_0x2f1cd2[_0x3fe40b(0xa0b)]?0x0:0x1:_0x2f1cd2[_0x3fe40b(0x5db)];_0x425a89=_0xdd8d2a['map']((_0x5c1187,_0xb05cfb)=>_0x3fe40b(0x950)+(_0xb05cfb===_0x162b9d)+_0x3fe40b(0x627)+_0x5c1187+_0x3fe40b(0x34f))[_0x3fe40b(0x70f)]('');}else{if(_0x59d71c===_0x3fe40b(0x228)){const _0x31bc14=_0x2f1cd2[_0x3fe40b(0x4ca)]||[];_0x425a89=_0x31bc14[_0x3fe40b(0x392)](_0x569869=>_0x3fe40b(0x950)+(_0x569869===_0x2f1cd2['correctResponse'])+_0x3fe40b(0x627)+_0x569869+_0x3fe40b(0x34f))['join']('');}}const _0x4793b4=_0x2f1cd2[_0x3fe40b(0x9a4)]||_0x2f1cd2[_0x3fe40b(0x4ed)],_0x16a4fa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x4211f1+0x1)+_0x3fe40b(0x660)+_0x47d49d+_0x3fe40b(0x1dc)+currentLiveGamePin+_0x3fe40b(0x816)+_0x4793b4+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x425a89+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3fe40b(0x88b)]=_0x16a4fa,window[_0x3fe40b(0x4dd)]&&MathJax['typesetPromise']&&MathJax[_0x3fe40b(0x908)]([liveGameView]),document[_0x3fe40b(0x6f5)](_0x3fe40b(0x2cf))[_0x3fe40b(0x2a3)](_0x3fe40b(0x41c),()=>revealAnswerForAdmin(_0x4211f1,_0x47d49d)),document['getElementById'](_0x3fe40b(0x249))[_0x3fe40b(0x2a3)]('click',async()=>{const _0xfe91f=_0x3fe40b;showConfirmation(_0xfe91f(0x865),async()=>{const _0x1b0f92=_0xfe91f,_0x5dada3=doc(db,_0x1b0f92(0x3d7)+appId+_0x1b0f92(0x1c7),currentLiveGameId);await updateDoc(_0x5dada3,{'status':_0x1b0f92(0x71a)});});}),document[_0x3fe40b(0x6f5)](_0x3fe40b(0x6ce))['addEventListener']('click',()=>{const _0x36f080=_0x3fe40b;document[_0x36f080(0x6f5)](_0x36f080(0xa77))[_0x36f080(0x7ad)][_0x36f080(0x949)](_0x36f080(0x180));});}function showStudentLiveQuestionView(_0x39e88e,_0x4eafb9,_0x1110c3){const _0xcf6250=_0x599685,_0x584ffe=_0x39e88e[_0xcf6250(0x5e5)]||currentQuizData[_0xcf6250(0x1a3)];let _0x56731e='';if(_0x584ffe===_0xcf6250(0x9bb)||_0x584ffe==='true_false'){const _0x176307=_0x584ffe===_0xcf6250(0x932)?[_0xcf6250(0x9f0),_0xcf6250(0x6ad)]:_0x39e88e[_0xcf6250(0x5d1)];_0x56731e=_0x176307[_0xcf6250(0x392)]((_0x2a6801,_0x520216)=>_0xcf6250(0x3d4)+_0x520216+_0xcf6250(0x54f)+_0x2a6801+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xcf6250(0x70f)]('');}else{if(_0x584ffe===_0xcf6250(0x228)){const _0x2d28de=_0x39e88e[_0xcf6250(0x4ca)]||[];_0x56731e=_0x2d28de[_0xcf6250(0x392)]((_0x49fdf1,_0x51b58f)=>_0xcf6250(0x3d4)+_0x51b58f+_0xcf6250(0x54f)+_0x49fdf1+_0xcf6250(0x2b1))['join']('');}else _0x584ffe===_0xcf6250(0x7ff)&&(_0x56731e=_0xcf6250(0x381));}const _0x4da81d=_0x39e88e[_0xcf6250(0x9a4)]||_0x39e88e[_0xcf6250(0x4ed)],_0x5c7275=_0xcf6250(0x98b)+(_0x4eafb9+0x1)+_0xcf6250(0x660)+_0x1110c3+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x4da81d+_0xcf6250(0x862)+_0x56731e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x5c7275;window['MathJax']&&MathJax[_0xcf6250(0x908)]&&MathJax[_0xcf6250(0x908)]([liveGameView]);const _0x30af31=document[_0xcf6250(0x6f5)](_0xcf6250(0x35b));_0x30af31&&_0x30af31[_0xcf6250(0x2a3)](_0xcf6250(0x41c),()=>{const _0x43ec12=_0xcf6250,_0x2d38a8=document[_0x43ec12(0x6f5)]('live-short-answer-input')['value'];handleLiveAnswer(_0x2d38a8,_0x39e88e);}),document[_0xcf6250(0x6f5)](_0xcf6250(0x4c0))[_0xcf6250(0x2a3)](_0xcf6250(0x41c),_0x1e2fd7=>{const _0x50aa63=_0xcf6250,_0x86b4bb=_0x1e2fd7[_0x50aa63(0x928)][_0x50aa63(0x74c)](_0x50aa63(0x36a));if(_0x86b4bb){const _0x25cfa1=parseInt(_0x86b4bb[_0x50aa63(0x4eb)]['index']);handleLiveAnswer(_0x25cfa1,_0x39e88e);}});}async function handleLiveAnswer(_0x282c9f,_0x5e17b2){const _0x1dbdb0=_0x599685;document[_0x1dbdb0(0x3b5)](_0x1dbdb0(0x45a))['forEach'](_0x264fd7=>_0x264fd7[_0x1dbdb0(0x8c1)]=!![]);const _0x5db37a=_0x5e17b2['questionType']||currentQuizData[_0x1dbdb0(0x1a3)];let _0x4910cc=![],_0x5334fc=_0x282c9f;if(_0x5db37a==='short_answer'){const _0xd410a8=(_0x282c9f||'')['toString']();_0x4910cc=await gradeShortAnswer(_0xd410a8,_0x5e17b2);}else{if(_0x5db37a===_0x1dbdb0(0x9bb))_0x4910cc=_0x282c9f===_0x5e17b2[_0x1dbdb0(0x5db)];else{if(_0x5db37a==='true_false'){const _0x552771=_0x5e17b2[_0x1dbdb0(0xa0b)];_0x4910cc=_0x282c9f===0x0&&_0x552771||_0x282c9f===0x1&&!_0x552771;}else{if(_0x5db37a==='matching_item'){const _0x31f0f5=_0x5e17b2['allResponses'][_0x282c9f];_0x4910cc=_0x31f0f5===_0x5e17b2[_0x1dbdb0(0xa0f)],_0x5334fc=_0x31f0f5;}}}}const _0x2852e7=doc(db,_0x1dbdb0(0x3d7)+appId+_0x1dbdb0(0x1c7),currentLiveGameId),_0x5c9ead={};_0x5c9ead[_0x1dbdb0(0x7e6)+currentStudentName+_0x1dbdb0(0x2d7)]=!![],_0x5c9ead[_0x1dbdb0(0x7e6)+currentStudentName+'.lastAnswerCorrect']=_0x4910cc,_0x5c9ead[_0x1dbdb0(0x7e6)+currentStudentName+_0x1dbdb0(0x415)]=_0x5db37a===_0x1dbdb0(0x7ff)||_0x5db37a==='matching_item'?null:_0x282c9f,_0x5c9ead[_0x1dbdb0(0x7e6)+currentStudentName+_0x1dbdb0(0x7d6)]=_0x5334fc,_0x5c9ead[_0x1dbdb0(0x7e6)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x5c9ead[_0x1dbdb0(0x7e6)+currentStudentName+'.isScored']=![],await updateDoc(_0x2852e7,_0x5c9ead),liveGameView[_0x1dbdb0(0x88b)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x4bd7f1,_0xcc45ab){const _0x5855ff=_0x599685,_0x1c226b=Object[_0x5855ff(0x7d0)](_0x4bd7f1['players']||{}),_0x5abf30=_0xcc45ab[_0x5855ff(0x5e5)]||currentQuizData[_0x5855ff(0x1a3)],_0xc92a72=_0x5abf30==='true_false'?[_0x5855ff(0x9f0),_0x5855ff(0x6ad)]:_0xcc45ab[_0x5855ff(0x5d1)]||_0xcc45ab[_0x5855ff(0x4ca)]||[],_0x4217c6={},_0x4261f9=new Array(_0xc92a72[_0x5855ff(0x5b5)])[_0x5855ff(0x8d9)](0x0);_0xc92a72[_0x5855ff(0x24d)]((_0x2fbde1,_0x19979d)=>{_0x4217c6[_0x19979d]=[];}),Object[_0x5855ff(0x4ef)](_0x4bd7f1[_0x5855ff(0x255)]||{})['forEach'](([_0x56d033,_0x10aeb8])=>{const _0x4ee46d=_0x5855ff;if(_0x10aeb8[_0x4ee46d(0x800)]==='active'&&_0x10aeb8[_0x4ee46d(0x431)]!==undefined){const _0x301576=_0x10aeb8[_0x4ee46d(0x431)];_0x4217c6[_0x301576]&&(_0x4217c6[_0x301576][_0x4ee46d(0x6a1)](_0x56d033),_0x4261f9[_0x301576]++);}});const _0x1f3835=Math[_0x5855ff(0x64f)](..._0x4261f9,0x1),_0x27b068=_0x5855ff(0x7a9)+(_0xcc45ab[_0x5855ff(0x9a4)]||_0xcc45ab[_0x5855ff(0x4ed)])+_0x5855ff(0x474)+_0x4261f9[_0x5855ff(0x392)]((_0x101e9a,_0x5407d9)=>{const _0x152b09=_0x5855ff,_0x3acd49=_0x4217c6[_0x5407d9][_0x152b09(0x5b5)]>0x0?_0x4217c6[_0x5407d9][_0x152b09(0x70f)](',\x20'):_0x152b09(0x631);let _0x2484ce=![];if(_0x5abf30===_0x152b09(0x9bb))_0x2484ce=_0x5407d9===_0xcc45ab[_0x152b09(0x5db)];else{if(_0x5abf30===_0x152b09(0x932)){const _0x37f787=_0xcc45ab[_0x152b09(0xa0b)];_0x2484ce=_0x37f787&&_0x5407d9===0x0||!_0x37f787&&_0x5407d9===0x1;}else _0x5abf30===_0x152b09(0x228)&&(_0x2484ce=_0xc92a72[_0x5407d9]===_0xcc45ab[_0x152b09(0xa0f)]);}const _0x222c4b=_0x2484ce?_0x152b09(0x302):_0x152b09(0x300);return _0x152b09(0x912)+_0x101e9a+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x222c4b+_0x152b09(0x802)+_0x5407d9+_0x152b09(0x1eb)+_0xc92a72[_0x5407d9]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x5407d9+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3acd49+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x5855ff(0x70f)]('')+_0x5855ff(0x202);liveGameView[_0x5855ff(0x88b)]=_0x27b068;if(window[_0x5855ff(0x4dd)])MathJax[_0x5855ff(0x908)]();document['getElementById'](_0x5855ff(0xa6a))[_0x5855ff(0x2a3)](_0x5855ff(0x41c),async()=>{const _0x4168f2=_0x5855ff,_0x528bd7=doc(db,_0x4168f2(0x3d7)+appId+_0x4168f2(0x1c7),currentLiveGameId);await updateDoc(_0x528bd7,{'questionStatus':_0x4168f2(0x5e0)});}),document[_0x5855ff(0x6f5)](_0x5855ff(0xa89))[_0x5855ff(0x2a3)](_0x5855ff(0x41c),()=>{openScratchpad(_0xcc45ab,_0xc92a72);});}function showPlayerSummaryView(_0x27cfda,_0x420337){const _0x53ed2b=_0x599685,_0x99a5cf=Object[_0x53ed2b(0x7d0)](_0x27cfda[_0x53ed2b(0x255)]||{}),_0x4cf4b9=_0x27cfda[_0x53ed2b(0x255)][_0x420337],_0xe62b06=_0x99a5cf[_0x53ed2b(0x7c9)](_0x1e7155=>_0x1e7155[_0x53ed2b(0x800)]===_0x53ed2b(0x825))[_0x53ed2b(0xab3)]((_0x469ef3,_0x49033c)=>_0x49033c[_0x53ed2b(0x9df)]-_0x469ef3[_0x53ed2b(0x9df)]),_0x2e70d6=_0xe62b06[_0x53ed2b(0x489)](_0x5e7902=>_0x5e7902===_0x4cf4b9)+0x1,_0x3f7b8a=_0x4cf4b9[_0x53ed2b(0x648)]?_0x53ed2b(0x3b8):_0x53ed2b(0x1ad),_0xa71e1e=_0x4cf4b9[_0x53ed2b(0x648)]?_0x53ed2b(0x7f8):_0x53ed2b(0x307),_0x5df7a7=_0x4cf4b9[_0x53ed2b(0x1d7)]||0x0,_0x27302b=_0x53ed2b(0x553),_0x2f941c=_0x53ed2b(0x1b8)+_0x27302b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0xa71e1e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x3f7b8a+_0x53ed2b(0x5ee)+_0x5df7a7+_0x53ed2b(0x858)+(_0x2e70d6>0x0?_0x2e70d6:'-')+_0x53ed2b(0x7f4);liveGameView[_0x53ed2b(0x88b)]=_0x2f941c;}function createQuizFromBank(){const _0x51b464=_0x599685,_0x97e29c=document[_0x51b464(0x3b5)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x97e29c['length']===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0x1efe74=[];_0x97e29c[_0x51b464(0x24d)](_0x27c9d7=>{const _0x5d47fa=_0x51b464;_0x1efe74[_0x5d47fa(0x6a1)](JSON[_0x5d47fa(0x7a4)](_0x27c9d7[_0x5d47fa(0x8c4)]));});const _0x565a27={'topic':_0x51b464(0x454),'questions':_0x1efe74};displayGeneratedQuiz(_0x565a27);}function showAdminLobbyView(_0x4a8f01,_0x25547e){const _0x69c17a=_0x599685;showView(_0x69c17a(0x40c));const _0x1447b3=_0x69c17a(0x7c1)+_0x25547e+_0x69c17a(0x6eb)+_0x4a8f01+_0x69c17a(0x888);liveGameView['innerHTML']=_0x1447b3,document[_0x69c17a(0x6f5)](_0x69c17a(0x818))['addEventListener']('click',async()=>{const _0x23cce1=_0x69c17a;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x23cce1(0x4ac)][_0x23cce1(0x5b5)]===0x0){showMessage(_0x23cce1(0x936));return;}try{const _0x50b444=doc(db,_0x23cce1(0x3d7)+appId+_0x23cce1(0x1c7),currentLiveGameId);await updateDoc(_0x50b444,{'status':_0x23cce1(0x749),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1e0341=currentQuizData['questions'][0x0],_0x16fdd2=currentQuizData[_0x23cce1(0x4ac)]['length'];showAdminLiveQuestionView(_0x1e0341,0x0,_0x16fdd2);}catch(_0x361a7a){console['error']('Error\x20starting\x20game:',_0x361a7a),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0x10a9d9=_0x599685;if(allQuizzesGlobal[_0x10a9d9(0x5b5)]===0x0){const _0x3c50b7=await getDocs(collection(db,_0x10a9d9(0x3d7)+appId+_0x10a9d9(0x198)));allQuizzesGlobal=_0x3c50b7['docs']['map'](_0x30616e=>({'id':_0x30616e['id'],..._0x30616e['data']()}));}renderGlobalQuizList(''),document[_0x10a9d9(0x6f5)]('global-live-game-modal')[_0x10a9d9(0x7ad)][_0x10a9d9(0xac8)](_0x10a9d9(0x180));}async function openQuizBankModal(){const _0x40a8d3=_0x599685;if(allQuizzesGlobal[_0x40a8d3(0x5b5)]===0x0){const _0x36c882=await getDocs(collection(db,'artifacts/'+appId+_0x40a8d3(0x198)));allQuizzesGlobal=_0x36c882['docs'][_0x40a8d3(0x392)](_0x5126d3=>({'id':_0x5126d3['id'],..._0x5126d3[_0x40a8d3(0x7e5)]()}));}renderQuizBankList(''),document[_0x40a8d3(0x6f5)](_0x40a8d3(0x968))[_0x40a8d3(0x7ad)][_0x40a8d3(0xac8)](_0x40a8d3(0x180));}function renderQuizBankList(_0x29e17f=''){const _0x28debf=_0x599685,_0x139046=document[_0x28debf(0x6f5)]('bank-quiz-list'),_0x2168d5=_0x29e17f[_0x28debf(0x607)]()[_0x28debf(0x8cf)](),_0x5e094b=allQuizzesGlobal[_0x28debf(0x392)](_0x321aa5=>({..._0x321aa5,'projectName':allProjects[_0x28debf(0x726)](_0xee02f8=>_0xee02f8['id']===_0x321aa5['projectId'])?.[_0x28debf(0x6e6)]||_0x28debf(0x217)}))[_0x28debf(0x7c9)](_0x4f0e4a=>(_0x4f0e4a[_0x28debf(0x699)]||'')[_0x28debf(0x607)]()[_0x28debf(0x7c6)](_0x2168d5)||(_0x4f0e4a[_0x28debf(0x6e6)]||'')['toLowerCase']()['includes'](_0x2168d5)||_0x4f0e4a['id']['toString']()[_0x28debf(0x7c6)](_0x2168d5));document[_0x28debf(0x6f5)]('quiz-bank-count')[_0x28debf(0x406)]='('+_0x5e094b[_0x28debf(0x5b5)]+_0x28debf(0x50a),_0x139046[_0x28debf(0x88b)]=_0x5e094b[_0x28debf(0x5b5)]?_0x5e094b[_0x28debf(0x392)](_0x159b85=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x159b85['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x159b85[_0x28debf(0x699)]||_0x28debf(0x501))+_0x28debf(0xa6c)+(_0x159b85['questions']?.[_0x28debf(0x5b5)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x159b85[_0x28debf(0x6e6)]+_0x28debf(0x2fa)+_0x159b85['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x159b85['id']+_0x28debf(0x3ee)+_0x159b85['id']+_0x28debf(0x6bd)+_0x159b85['id']+_0x28debf(0x62f)+_0x159b85['id']+_0x28debf(0x1f5)+_0x159b85['id']+_0x28debf(0x458)+_0x159b85['id']+_0x28debf(0x416)+_0x159b85['topic']+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x28debf(0x70f)](''):_0x28debf(0x9e5),_0x139046[_0x28debf(0x3b5)](_0x28debf(0x6a5))[_0x28debf(0x24d)](_0x5ca5ab=>{const _0x294741=_0x28debf;_0x5ca5ab[_0x294741(0x2a3)](_0x294741(0x41c),()=>{const _0x1eb999=_0x294741,_0x1c7240=_0x5ca5ab['dataset']['id'];document[_0x1eb999(0x6f5)](_0x1eb999(0x968))[_0x1eb999(0x7ad)]['add']('hidden'),showQuizDetailView(_0x1c7240);});}),_0x139046['querySelectorAll'](_0x28debf(0x81f))[_0x28debf(0x24d)](_0x15ce45=>{const _0xab43ab=_0x28debf;_0x15ce45[_0xab43ab(0x2a3)](_0xab43ab(0x41c),_0x561b67=>{const _0x37fd64=_0xab43ab;_0x561b67[_0x37fd64(0x410)]();const _0x58602a=_0x15ce45[_0x37fd64(0x4eb)]['id'],_0x12c3c7=allQuizzesGlobal[_0x37fd64(0x726)](_0x15268c=>_0x15268c['id']===_0x58602a);_0x12c3c7?(currentQuizData=_0x12c3c7,document[_0x37fd64(0x6f5)]('quiz-bank-modal')[_0x37fd64(0x7ad)][_0x37fd64(0x25c)](_0x37fd64(0x180)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x139046[_0x28debf(0x3b5)](_0x28debf(0x343))['forEach'](_0x49641c=>{const _0x559c66=_0x28debf;_0x49641c[_0x559c66(0x2a3)](_0x559c66(0x41c),_0x3a3a42=>{const _0xbb4774=_0x559c66;_0x3a3a42[_0xbb4774(0x410)]();const _0xedfda=_0x49641c[_0xbb4774(0x4eb)]['id'],_0x287ac0=allQuizzesGlobal[_0xbb4774(0x726)](_0x38a5e1=>_0x38a5e1['id']===_0xedfda);_0x287ac0?(document[_0xbb4774(0x6f5)](_0xbb4774(0x968))[_0xbb4774(0x7ad)][_0xbb4774(0x25c)](_0xbb4774(0x180)),handleGenerateParallelFromBank(_0x287ac0)):showMessage(_0xbb4774(0x5d4));});}),_0x139046[_0x28debf(0x3b5)](_0x28debf(0x763))[_0x28debf(0x24d)](_0x58e2a6=>{const _0x17f6b7=_0x28debf;_0x58e2a6[_0x17f6b7(0x2a3)](_0x17f6b7(0x41c),_0x1230ef=>{const _0x344653=_0x17f6b7;_0x1230ef[_0x344653(0x410)]();const _0x4ac354=_0x58e2a6[_0x344653(0x4eb)]['id'],_0x29f29e=allQuizzesGlobal[_0x344653(0x726)](_0x1beec2=>_0x1beec2['id']===_0x4ac354);_0x29f29e?(document[_0x344653(0x6f5)]('quiz-bank-modal')['classList'][_0x344653(0x25c)](_0x344653(0x180)),startPresentation(_0x29f29e)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x139046[_0x28debf(0x3b5)](_0x28debf(0x8f1))[_0x28debf(0x24d)](_0x576db3=>{const _0xe72d34=_0x28debf;_0x576db3['addEventListener'](_0xe72d34(0x41c),_0x56b70e=>{const _0x293a84=_0xe72d34;_0x56b70e[_0x293a84(0x410)]();const _0x605b03=_0x576db3[_0x293a84(0x4eb)]['id'];document[_0x293a84(0x6f5)](_0x293a84(0x968))[_0x293a84(0x7ad)][_0x293a84(0x25c)](_0x293a84(0x180)),handleMoveQuiz(_0x605b03);});}),_0x139046[_0x28debf(0x3b5)](_0x28debf(0x59a))['forEach'](_0x829948=>{const _0x30ee92=_0x28debf;_0x829948[_0x30ee92(0x2a3)]('click',_0x313c38=>{const _0x5b1305=_0x30ee92;_0x313c38['stopPropagation']();const _0x4a456f=_0x829948['dataset']['id'];document[_0x5b1305(0x6f5)](_0x5b1305(0x968))[_0x5b1305(0x7ad)]['add']('hidden'),handleQuizSettings(_0x4a456f);});}),_0x139046[_0x28debf(0x3b5)]('.quiz-bank-delete-btn')['forEach'](_0x5a6b04=>{const _0xd94f41=_0x28debf;_0x5a6b04[_0xd94f41(0x2a3)]('click',_0x562d26=>{const _0x5d3d3a=_0xd94f41;_0x562d26[_0x5d3d3a(0x410)]();const _0x467f37=_0x5a6b04['dataset']['id'],_0x33f1ad=_0x5a6b04[_0x5d3d3a(0x4eb)][_0x5d3d3a(0x699)];showConfirmation(_0x5d3d3a(0x467)+_0x33f1ad+_0x5d3d3a(0x848),()=>handleDeleteQuiz(_0x467f37));});});}async function handleCompareResults(_0x414d7f,_0x797bc0){const _0x2e7ba6=_0x599685,_0x2c495e=document[_0x2e7ba6(0x6f5)]('comparison-modal'),_0x1b24b3=document['getElementById'](_0x2e7ba6(0x7dc)),_0xbc6bc0=document[_0x2e7ba6(0x6f5)]('comparison-individual-content');document[_0x2e7ba6(0x6f5)]('comparison-overall-tab')[_0x2e7ba6(0x7ad)][_0x2e7ba6(0x25c)](_0x2e7ba6(0x825)),document[_0x2e7ba6(0x6f5)](_0x2e7ba6(0x2f0))['classList'][_0x2e7ba6(0xac8)](_0x2e7ba6(0x825)),_0x1b24b3[_0x2e7ba6(0x7ad)][_0x2e7ba6(0xac8)](_0x2e7ba6(0x180)),_0xbc6bc0['classList']['add'](_0x2e7ba6(0x180)),_0x1b24b3[_0x2e7ba6(0x88b)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0xbc6bc0[_0x2e7ba6(0x88b)]='',_0x2c495e[_0x2e7ba6(0x7ad)][_0x2e7ba6(0xac8)](_0x2e7ba6(0x180));try{const _0x1cc190=doc(db,_0x2e7ba6(0x3d7)+appId+_0x2e7ba6(0x198),_0x414d7f),_0x1dd3d6=await getDoc(_0x1cc190);if(!_0x1dd3d6[_0x2e7ba6(0x478)]())throw new Error(_0x2e7ba6(0x2fb));const _0x425efa=_0x1dd3d6[_0x2e7ba6(0x7e5)](),_0x3cb5fc=_0x425efa[_0x2e7ba6(0x4ac)][_0x2e7ba6(0x5b5)],_0x508402=collection(db,_0x2e7ba6(0x3d7)+appId+_0x2e7ba6(0x754)+_0x797bc0+_0x2e7ba6(0x98a)),_0x114fa0=collection(db,'artifacts/'+appId+_0x2e7ba6(0x754)+_0x414d7f+_0x2e7ba6(0x98a)),[_0x3b9851,_0x1248fe]=await Promise[_0x2e7ba6(0xa60)]([getDocs(_0x508402),getDocs(_0x114fa0)]),_0x4bbaae=_0x3b9851[_0x2e7ba6(0x5e9)]['map'](_0x43694a=>_0x43694a[_0x2e7ba6(0x7e5)]()),_0x1f63d3=_0x1248fe[_0x2e7ba6(0x5e9)][_0x2e7ba6(0x392)](_0x545d55=>_0x545d55[_0x2e7ba6(0x7e5)]()),_0x2ecee6=_0x4bbaae[_0x2e7ba6(0x392)](_0x478114=>_0x478114[_0x2e7ba6(0x77d)]),_0x4d7fbd=_0x1f63d3[_0x2e7ba6(0x392)](_0x5dac95=>_0x5dac95[_0x2e7ba6(0x77d)]),_0x384e67=calculateMeanAndStdDev(_0x2ecee6),_0x35f25d=calculateMeanAndStdDev(_0x4d7fbd),_0x12b837=_0x384e67[_0x2e7ba6(0x36f)],_0x578870=_0x35f25d[_0x2e7ba6(0x36f)],_0x354e67=_0x578870-_0x12b837;let _0x295530=_0x2e7ba6(0x1d6)+_0x12b837[_0x2e7ba6(0x54e)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x578870[_0x2e7ba6(0x54e)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x354e67>=0x0?'bg-emerald-100':_0x2e7ba6(0x283))+_0x2e7ba6(0x95d)+(_0x354e67>=0x0?_0x2e7ba6(0x2e6):_0x2e7ba6(0x6c5))+_0x2e7ba6(0x562)+(_0x354e67>=0x0?_0x2e7ba6(0x944):'text-red-900')+'\x22>'+(_0x354e67>=0x0?'+':'')+_0x354e67[_0x2e7ba6(0x54e)](0x2)+_0x2e7ba6(0x3df);_0x1b24b3[_0x2e7ba6(0x88b)]=_0x295530;const _0xffa305=document[_0x2e7ba6(0x6f5)](_0x2e7ba6(0x22b))[_0x2e7ba6(0x6a6)]('2d');if(chartInstances['comparison'])chartInstances[_0x2e7ba6(0x8e4)]['destroy']();chartInstances[_0x2e7ba6(0x8e4)]=new Chart(_0xffa305,{'type':_0x2e7ba6(0x47a),'data':{'labels':[_0x2e7ba6(0x8e8)],'datasets':[{'label':_0x2e7ba6(0x6b5),'data':[_0x12b837],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x2e7ba6(0xa9a),'data':[_0x578870],'backgroundColor':_0x2e7ba6(0x8e6)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x3cb5fc}}}});const _0x3628e9=currentProjectData[_0x2e7ba6(0x1a6)]||[],_0x27da5b=_0x3628e9[_0x2e7ba6(0x392)](_0x54fad0=>{const _0x437308=_0x2e7ba6,_0x56e5a4=_0x4bbaae[_0x437308(0x726)](_0x407e5b=>_0x407e5b[_0x437308(0x241)]===_0x54fad0),_0x21ea65=_0x1f63d3[_0x437308(0x726)](_0x3ea068=>_0x3ea068[_0x437308(0x241)]===_0x54fad0),_0x1b287b=_0x56e5a4?_0x56e5a4[_0x437308(0x77d)]:null,_0x1aaab8=_0x21ea65?_0x21ea65[_0x437308(0x77d)]:null,_0x106a22=_0x1b287b!==null&&_0x1aaab8!==null?_0x1aaab8-_0x1b287b:null,_0xfa3e0e=_0x1b287b!==null?calculateZScore(_0x1b287b,_0x384e67[_0x437308(0x36f)],_0x384e67[_0x437308(0x519)]):null,_0x7e3514=_0x1aaab8!==null?calculateZScore(_0x1aaab8,_0x35f25d[_0x437308(0x36f)],_0x35f25d['stdDev']):null,_0x5443a5=_0xfa3e0e!==null?calculateTScore(_0xfa3e0e):null,_0x2be1c9=_0x7e3514!==null?calculateTScore(_0x7e3514):null,_0x441911=_0x5443a5!==null&&_0x2be1c9!==null?_0x2be1c9-_0x5443a5:null;return{'name':_0x54fad0,'preScore':_0x1b287b,'postScore':_0x1aaab8,'gain':_0x106a22,'preTScore':_0x5443a5,'postTScore':_0x2be1c9,'tGain':_0x441911};});renderIndividualComparisonTable(_0x27da5b,_0xbc6bc0);}catch(_0x281d58){console[_0x2e7ba6(0x30a)]('Error\x20comparing\x20results:',_0x281d58),_0x1b24b3[_0x2e7ba6(0x88b)]=_0x2e7ba6(0x17a);}}function displayHalfMarkResult(_0x19fe24,_0x3d109a){const _0x434a10=_0x599685,_0x25c61d=_0x19fe24>=_0x3d109a/0x2,_0x528b9d=_0x25c61d?_0x434a10(0x7f7):'bg-red-100',_0x253b72=_0x25c61d?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x434a10(0x7b0),_0x3eac3e=_0x25c61d?_0x434a10(0xa1c):'text-red-800',_0x515ab4=_0x25c61d?_0x434a10(0x2dd):_0x434a10(0x59d),_0x431af5=_0x25c61d?_0x434a10(0x8c5):_0x434a10(0x245);let _0x1b40e7=_0x434a10(0x80b)+_0x528b9d+_0x434a10(0x1c0)+_0x253b72+_0x434a10(0x82e)+_0x3eac3e+'\x20mb-2\x22>'+_0x515ab4+_0x434a10(0x199)+_0x431af5+_0x434a10(0x8ad);studentResultArea[_0x434a10(0x88b)]=_0x1b40e7,studentResultArea[_0x434a10(0x7ad)][_0x434a10(0xac8)](_0x434a10(0x180)),studentQuizArea[_0x434a10(0x7ad)][_0x434a10(0x25c)](_0x434a10(0x180)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x25c61d});}function displayPerfectScoreResult(_0x2b532e,_0x294b31){const _0x3a71f5=_0x599685,_0x5d50ba=_0x2b532e===_0x294b31,_0x58756f=_0x5d50ba?'bg-yellow-100':'bg-blue-100',_0x822a31=_0x5d50ba?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x3a71f5(0xa86),_0x1a7353=_0x5d50ba?_0x3a71f5(0x728):'text-blue-800',_0x6dd1a0=_0x5d50ba?_0x3a71f5(0x1cb):'ยังไม่เต็มนะ',_0x3f2747=_0x5d50ba?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x3a71f5(0x429);let _0x16add3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x58756f+_0x3a71f5(0x1c0)+_0x822a31+_0x3a71f5(0x82e)+_0x1a7353+'\x20mb-2\x22>'+_0x6dd1a0+_0x3a71f5(0x199)+_0x3f2747+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3a71f5(0x88b)]=_0x16add3,studentResultArea[_0x3a71f5(0x7ad)][_0x3a71f5(0xac8)]('hidden'),studentQuizArea[_0x3a71f5(0x7ad)][_0x3a71f5(0x25c)](_0x3a71f5(0x180)),setupResultScreenBackButton({'showRankings':![],'score':_0x2b532e,'totalQuestions':_0x294b31});}function renderIndividualComparisonTable(_0x1ea743,_0x505a22){const _0x45ffc9=_0x599685;_0x1ea743[_0x45ffc9(0xab3)]((_0x15a81d,_0x1d4dd6)=>(_0x1d4dd6[_0x45ffc9(0x372)]??-Infinity)-(_0x15a81d['tGain']??-Infinity));let _0xe74373=_0x45ffc9(0x2e9);_0x1ea743['length']===0x0?_0xe74373+=_0x45ffc9(0x5fd):_0x1ea743[_0x45ffc9(0x24d)]((_0x57e841,_0x495665)=>{const _0x3c4c7c=_0x45ffc9;let _0x3e4ffd='-',_0x55ab2f='';if(_0x57e841['gain']!==null){const _0x1a490e=_0x57e841[_0x3c4c7c(0x5f3)]>0x0?_0x3c4c7c(0x6a7):_0x57e841[_0x3c4c7c(0x5f3)]<0x0?_0x3c4c7c(0x398):_0x3c4c7c(0x624),_0x39abbc=_0x57e841['gain']>0x0?'+':'';_0x3e4ffd=_0x3c4c7c(0x8bd)+_0x1a490e+'\x22>'+_0x39abbc+_0x57e841[_0x3c4c7c(0x5f3)]+_0x3c4c7c(0x565);if(_0x57e841[_0x3c4c7c(0x5f3)]>0x0)_0x55ab2f=_0x3c4c7c(0x86a);else _0x57e841[_0x3c4c7c(0x5f3)]<0x0?_0x55ab2f=_0x3c4c7c(0x3ab):_0x55ab2f='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x5ddd50='-';if(_0x57e841[_0x3c4c7c(0x372)]!==null){const _0x5de610=_0x57e841[_0x3c4c7c(0x372)]>0x0?'text-green-600':_0x57e841[_0x3c4c7c(0x372)]<0x0?_0x3c4c7c(0x398):_0x3c4c7c(0x624),_0x297457=_0x57e841[_0x3c4c7c(0x372)]>0x0?'+':'';_0x5ddd50=_0x3c4c7c(0x8bd)+_0x5de610+'\x22>'+_0x297457+_0x57e841[_0x3c4c7c(0x372)][_0x3c4c7c(0x54e)](0x2)+_0x3c4c7c(0x565);}_0xe74373+=_0x3c4c7c(0x780)+(_0x495665+0x1)+_0x3c4c7c(0x90b)+_0x57e841[_0x3c4c7c(0x472)]+_0x3c4c7c(0x748)+(_0x57e841['preScore']??'-')+_0x3c4c7c(0x901)+(_0x57e841['postScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x3e4ffd+_0x3c4c7c(0x8be)+_0x55ab2f+_0x3c4c7c(0x90d)+(_0x57e841[_0x3c4c7c(0x51b)]?.['toFixed'](0x2)??'-')+_0x3c4c7c(0x83a)+(_0x57e841['postTScore']?.[_0x3c4c7c(0x54e)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x5ddd50+_0x3c4c7c(0x8d1);}),_0xe74373+=_0x45ffc9(0x87e),_0x505a22['innerHTML']=_0xe74373;}function handleRenameQuiz(_0x397ef6,_0x39b393){const _0x3098ed=_0x599685;actionTargetId=_0x397ef6,document[_0x3098ed(0x6f5)](_0x3098ed(0x1a7))[_0x3098ed(0x8c4)]=_0x39b393,renameQuizModal[_0x3098ed(0x7ad)][_0x3098ed(0xac8)]('hidden');}function setupComparisonModalTabs(){const _0x2ace9e=_0x599685,_0x21d6e1=document['getElementById'](_0x2ace9e(0x1cf)),_0x5c94c7=document[_0x2ace9e(0x6f5)](_0x2ace9e(0x2f0)),_0xcd6d4e=document[_0x2ace9e(0x6f5)](_0x2ace9e(0x7dc)),_0x4ab130=document[_0x2ace9e(0x6f5)](_0x2ace9e(0x7fc));_0x21d6e1[_0x2ace9e(0x2a3)]('click',()=>{const _0xa8b564=_0x2ace9e;_0x21d6e1[_0xa8b564(0x7ad)][_0xa8b564(0x25c)]('active'),_0x5c94c7[_0xa8b564(0x7ad)]['remove']('active'),_0xcd6d4e['classList'][_0xa8b564(0xac8)](_0xa8b564(0x180)),_0x4ab130['classList'][_0xa8b564(0x25c)](_0xa8b564(0x180));}),_0x5c94c7['addEventListener']('click',()=>{const _0x12a57f=_0x2ace9e;_0x5c94c7[_0x12a57f(0x7ad)]['add'](_0x12a57f(0x825)),_0x21d6e1[_0x12a57f(0x7ad)]['remove'](_0x12a57f(0x825)),_0x4ab130[_0x12a57f(0x7ad)]['remove'](_0x12a57f(0x180)),_0xcd6d4e['classList']['add'](_0x12a57f(0x180));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x59e319=''){const _0x3b2474=_0x599685,_0x553ea1=document[_0x3b2474(0x6f5)]('global-quiz-list'),_0x45e93a=_0x59e319[_0x3b2474(0x607)]()[_0x3b2474(0x8cf)](),_0x4047d1=allQuizzesGlobal[_0x3b2474(0x392)](_0x50e68c=>({..._0x50e68c,'projectName':allProjects['find'](_0x4e53b5=>_0x4e53b5['id']===_0x50e68c[_0x3b2474(0x7f1)])?.[_0x3b2474(0x6e6)]||_0x50e68c[_0x3b2474(0x7f1)]}))[_0x3b2474(0x7c9)](_0x124f03=>(_0x124f03['topic']||'')[_0x3b2474(0x607)]()[_0x3b2474(0x7c6)](_0x45e93a)||(_0x124f03[_0x3b2474(0x6e6)]||'')[_0x3b2474(0x607)]()[_0x3b2474(0x7c6)](_0x45e93a));document[_0x3b2474(0x6f5)](_0x3b2474(0x25e))['textContent']='('+_0x4047d1[_0x3b2474(0x5b5)]+'\x20ชุด)',_0x553ea1['innerHTML']=_0x4047d1[_0x3b2474(0x5b5)]?_0x4047d1[_0x3b2474(0x392)](_0xdf16d5=>_0x3b2474(0x9e9)+_0xdf16d5['id']+_0x3b2474(0xa80)+(_0xdf16d5[_0x3b2474(0x699)]||_0x3b2474(0x501))+_0x3b2474(0x781)+(_0xdf16d5['questions']?.[_0x3b2474(0x5b5)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0xdf16d5[_0x3b2474(0x6e6)]+_0x3b2474(0x34d))['join'](''):_0x3b2474(0x820),selectedGlobalQuizId=null,document[_0x3b2474(0x6f5)](_0x3b2474(0x2c1))[_0x3b2474(0x8c1)]=!![],_0x553ea1[_0x3b2474(0x3b5)](_0x3b2474(0x808))[_0x3b2474(0x24d)](_0x3ab58a=>{const _0x37b247=_0x3b2474;_0x3ab58a[_0x37b247(0x2a3)](_0x37b247(0x41c),()=>{const _0x366c63=_0x37b247;selectedGlobalQuizId=_0x3ab58a[_0x366c63(0x4eb)]['id'],_0x553ea1[_0x366c63(0x3b5)](_0x366c63(0x22f))[_0x366c63(0x24d)](_0x5eb394=>_0x5eb394[_0x366c63(0x7ad)][_0x366c63(0xac8)](_0x366c63(0x368),'ring-2','ring-purple-400')),_0x3ab58a[_0x366c63(0x7ad)][_0x366c63(0x25c)](_0x366c63(0x368),_0x366c63(0x389),_0x366c63(0x5d9)),document[_0x366c63(0x6f5)](_0x366c63(0x2c1))[_0x366c63(0x8c1)]=![];});});}function listenForLiveGameUpdates(){const _0x4df4f9=_0x599685;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x109e3d=doc(db,_0x4df4f9(0x3d7)+appId+_0x4df4f9(0x1c7),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x109e3d,_0x2195a6=>{const _0xa36e17=_0x4df4f9;if(!_0x2195a6[_0xa36e17(0x478)]()){showMessage(_0xa36e17(0x18b)),showView(currentMode);return;}const _0x22bc64=_0x2195a6[_0xa36e17(0x7e5)]();_0x22bc64[_0xa36e17(0x6de)]&&(currentQuizData=_0x22bc64['shuffledQuiz']);!currentQuizData&&_0x22bc64['quizId']&&((async()=>{const _0x128495=_0xa36e17;try{const _0x36aea9=doc(db,_0x128495(0x3d7)+appId+_0x128495(0x198),_0x22bc64['quizId']),_0x123533=await getDoc(_0x36aea9);_0x123533[_0x128495(0x478)]()&&(currentQuizData={'id':_0x123533['id'],..._0x123533[_0x128495(0x7e5)]()});}catch(_0x43fc7f){console[_0x128495(0x30a)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x43fc7f);}})());switch(_0x22bc64[_0xa36e17(0x800)]){case _0xa36e17(0x9d0):if(currentMode==='admin'){const _0x2ee6b0=_0x22bc64[_0xa36e17(0x255)]?Object[_0xa36e17(0x4ef)](_0x22bc64[_0xa36e17(0x255)]):[],_0x3ca350=_0x2ee6b0[_0xa36e17(0x7c9)](([_0x1bea9f,_0x1306e8])=>_0x1306e8[_0xa36e17(0x800)]==='active'),_0x2eba31=document['getElementById'](_0xa36e17(0xa24));if(_0x2eba31)_0x2eba31[_0xa36e17(0x406)]=_0x3ca350[_0xa36e17(0x5b5)];const _0x2a0da4=document[_0xa36e17(0x6f5)](_0xa36e17(0x2f7));_0x2a0da4&&(_0x2a0da4[_0xa36e17(0x88b)]=_0x3ca350[_0xa36e17(0x392)](([_0x4131e6,_0x1cd802])=>_0xa36e17(0x542)+_0x4131e6+_0xa36e17(0x526)+_0x4131e6+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xa36e17(0x70f)](''));const _0xd1f25a=document['getElementById'](_0xa36e17(0x818));_0xd1f25a&&(_0xd1f25a[_0xa36e17(0x8c1)]=_0x3ca350[_0xa36e17(0x5b5)]===0x0);}else showView('live-game'),liveGameView[_0xa36e17(0x88b)]=_0xa36e17(0x60f)+currentStudentName+_0xa36e17(0x50c);break;case _0xa36e17(0x749):const _0x65a4cc=_0x22bc64[_0xa36e17(0x62a)];if(currentQuizData&&currentQuizData['questions'][_0x65a4cc]){const _0x349ed0=currentQuizData['questions'][_0x65a4cc],_0x4e0342=_0x22bc64[_0xa36e17(0x7e8)]||_0xa36e17(0x3a5);switch(_0x4e0342){case'summary_chart':currentMode==='admin'?showAdminSummaryView(_0x22bc64,_0x349ed0):showPlayerSummaryView(_0x22bc64,currentStudentName);break;case _0xa36e17(0x5e0):currentMode===_0xa36e17(0x750)&&showTop5LeaderboardView(_0x22bc64);break;case _0xa36e17(0x3a5):default:if(currentMode==='admin'){const _0x227876=writeBatch(db);let _0x45f4f0=![];Object[_0xa36e17(0x4ef)](_0x22bc64[_0xa36e17(0x255)])[_0xa36e17(0x24d)](([_0x49647d,_0x2a2aef])=>{const _0x5366a7=_0xa36e17;if(_0x2a2aef['status']===_0x5366a7(0x825)&&_0x2a2aef[_0x5366a7(0x639)]&&!_0x2a2aef[_0x5366a7(0x6d9)]){_0x45f4f0=!![];const _0xe9a1a7=_0x2a2aef[_0x5366a7(0x639)]['toDate']()-_0x22bc64[_0x5366a7(0x257)]['toDate']();let _0x162827=0x0;if(_0x2a2aef['lastAnswerCorrect']){const _0x4f5b61=0x3e8,_0x59cd49=0x1f4,_0x4b0a3e=0x4e20;let _0x227b3d=_0xe9a1a7/_0x4b0a3e;if(_0x227b3d>0x1)_0x227b3d=0x1;const _0x589412=Math[_0x5366a7(0x6b4)](_0x227b3d*_0x59cd49);_0x162827=_0x4f5b61-_0x589412;}const _0x1bce43=doc(db,_0x5366a7(0x3d7)+appId+'/public/data/liveGames',currentLiveGameId);_0x227876[_0x5366a7(0x620)](_0x1bce43,{['players.'+_0x49647d+_0x5366a7(0x836)]:increment(_0x162827),[_0x5366a7(0x7e6)+_0x49647d+'.pointsLastQuestion']:_0x162827,[_0x5366a7(0x7e6)+_0x49647d+_0x5366a7(0xa1b)]:!![]});}});_0x45f4f0&&_0x227876[_0xa36e17(0x724)]()[_0xa36e17(0x2af)](_0x189fd2=>console[_0xa36e17(0x30a)](_0xa36e17(0x59f),_0x189fd2));lastRenderedAdminQuestionIndex!==_0x65a4cc&&(showAdminLiveQuestionView(_0x349ed0,_0x65a4cc,currentQuizData[_0xa36e17(0x4ac)][_0xa36e17(0x5b5)]),lastRenderedAdminQuestionIndex=_0x65a4cc);const _0x19a71f=_0x22bc64['players']||{},_0x5178e6=Object[_0xa36e17(0x7d0)](_0x19a71f)[_0xa36e17(0x7c9)](_0x3e5a7a=>_0x3e5a7a[_0xa36e17(0x800)]==='active'),_0x8ee9da=_0x5178e6[_0xa36e17(0x5b5)],_0x557cd2=_0x5178e6[_0xa36e17(0x7c9)](_0x323752=>_0x323752[_0xa36e17(0x784)]===!![])[_0xa36e17(0x5b5)],_0x4a2dd4=document[_0xa36e17(0x6f5)](_0xa36e17(0x81c));if(_0x4a2dd4)_0x4a2dd4[_0xa36e17(0x406)]=_0x557cd2+'/'+_0x8ee9da;const _0x29169c=document[_0xa36e17(0x6f5)](_0xa36e17(0x70e));if(_0x29169c){let _0x52b2fc=Object[_0xa36e17(0x4ef)](_0x19a71f)['filter'](([_0x423e5b,_0x2e48cf])=>_0x2e48cf['status']===_0xa36e17(0x825))[_0xa36e17(0x392)](([_0x1911f1,_0x24d7b4])=>{const _0x210b9a=_0xa36e17,_0x53bc6c=_0x24d7b4[_0x210b9a(0x784)]===!![],_0x36f4ca=_0x53bc6c?_0x210b9a(0x7f8):'bg-gray-500',_0x162bb6=_0x53bc6c?_0x210b9a(0x222):_0x210b9a(0x74a);return _0x210b9a(0x2a1)+_0x36f4ca+_0x210b9a(0x442)+_0x162bb6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1911f1+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x1911f1+_0x210b9a(0x19a);})['join']('');_0x29169c['innerHTML']=_0x52b2fc||_0xa36e17(0xaa7);}_0x8ee9da>0x0&&_0x557cd2===_0x8ee9da&&revealAnswerForAdmin(_0x65a4cc,currentQuizData[_0xa36e17(0x4ac)][_0xa36e17(0x5b5)]);}else{const _0x6043d5=_0x22bc64[_0xa36e17(0x255)][currentStudentName];_0x6043d5&&!_0x6043d5['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x349ed0,_0x65a4cc,currentQuizData['questions']['length']);}break;}}break;case'podium':showPodiumView(_0x22bc64['players'],_0xa36e17(0x191));break;}});}async function handleKickPlayer(_0x53e488){const _0x491c13=_0x599685;if(!currentLiveGameId||!_0x53e488)return;const _0x426a6e=doc(db,_0x491c13(0x3d7)+appId+_0x491c13(0x1c7),currentLiveGameId),_0x9b2fd7={};_0x9b2fd7[_0x491c13(0x7e6)+_0x53e488+_0x491c13(0x5a3)]=_0x491c13(0x8fa);try{await updateDoc(_0x426a6e,_0x9b2fd7);}catch(_0x4a57ec){console[_0x491c13(0x30a)](_0x491c13(0x917)+_0x53e488+':',_0x4a57ec),showMessage(_0x491c13(0x4d1));}}async function authenticateUser(){const _0x304b37=_0x599685;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5b3d2d){console[_0x304b37(0x30a)](_0x304b37(0x57e),_0x5b3d2d),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x121539){const _0xbb3cdb=_0x599685;adminView['classList']['add'](_0xbb3cdb(0x180)),studentView[_0xbb3cdb(0x7ad)]['add']('hidden'),projectDashboardView[_0xbb3cdb(0x7ad)]['add'](_0xbb3cdb(0x180)),projectDetailView[_0xbb3cdb(0x7ad)]['add']('hidden'),quizResultsView[_0xbb3cdb(0x7ad)][_0xbb3cdb(0x25c)](_0xbb3cdb(0x180)),liveGameView['classList'][_0xbb3cdb(0x25c)]('hidden'),studentInitialView[_0xbb3cdb(0x7ad)][_0xbb3cdb(0x25c)](_0xbb3cdb(0x180)),studentJoinGameView[_0xbb3cdb(0x7ad)][_0xbb3cdb(0x25c)](_0xbb3cdb(0x180)),studentNameSelectionView[_0xbb3cdb(0x7ad)][_0xbb3cdb(0x25c)](_0xbb3cdb(0x180)),studentQuizArea['classList']['add'](_0xbb3cdb(0x180)),studentResultArea[_0xbb3cdb(0x7ad)][_0xbb3cdb(0x25c)]('hidden'),studentReadingArea[_0xbb3cdb(0x7ad)]['add'](_0xbb3cdb(0x180));const _0x38f917=document[_0xbb3cdb(0x6f5)](_0xbb3cdb(0x19f)),_0xce6d6c=document['getElementById'](_0xbb3cdb(0x74b));if(_0x38f917)_0x38f917[_0xbb3cdb(0x7ad)][_0xbb3cdb(0x25c)]('hidden');if(_0xce6d6c)_0xce6d6c[_0xbb3cdb(0x7ad)][_0xbb3cdb(0x25c)](_0xbb3cdb(0x180));switch(_0x121539){case _0xbb3cdb(0x74f):adminView[_0xbb3cdb(0x7ad)][_0xbb3cdb(0xac8)](_0xbb3cdb(0x180)),projectDashboardView[_0xbb3cdb(0x7ad)][_0xbb3cdb(0xac8)](_0xbb3cdb(0x180));break;case'project-detail':adminView[_0xbb3cdb(0x7ad)][_0xbb3cdb(0xac8)](_0xbb3cdb(0x180)),projectDetailView[_0xbb3cdb(0x7ad)][_0xbb3cdb(0xac8)](_0xbb3cdb(0x180));break;case _0xbb3cdb(0x826):adminView['classList'][_0xbb3cdb(0xac8)]('hidden'),quizResultsView[_0xbb3cdb(0x7ad)][_0xbb3cdb(0xac8)](_0xbb3cdb(0x180));break;case'student':studentView[_0xbb3cdb(0x7ad)]['remove'](_0xbb3cdb(0x180)),studentInitialView[_0xbb3cdb(0x7ad)]['remove'](_0xbb3cdb(0x180));break;case'live-game':liveGameView[_0xbb3cdb(0x7ad)][_0xbb3cdb(0xac8)](_0xbb3cdb(0x180));break;case'student-team-join':studentView[_0xbb3cdb(0x7ad)]['remove']('hidden');if(_0x38f917)_0x38f917[_0xbb3cdb(0x7ad)][_0xbb3cdb(0xac8)](_0xbb3cdb(0x180));break;case _0xbb3cdb(0xacb):studentView[_0xbb3cdb(0x7ad)][_0xbb3cdb(0xac8)]('hidden');if(_0xce6d6c)_0xce6d6c[_0xbb3cdb(0x7ad)]['remove'](_0xbb3cdb(0x180));break;default:studentView['classList'][_0xbb3cdb(0xac8)](_0xbb3cdb(0x180)),studentInitialView['classList'][_0xbb3cdb(0xac8)](_0xbb3cdb(0x180));break;}}function showJoinGameView(){const _0x5270bc=_0x599685;studentInitialView[_0x5270bc(0x7ad)][_0x5270bc(0x25c)](_0x5270bc(0x180)),studentJoinGameView[_0x5270bc(0x7ad)][_0x5270bc(0xac8)](_0x5270bc(0x180));}async function handleSaveVisibilitySettings(){const _0x33ade1=_0x599685;if(!currentProjectId)return;const _0x2383b9=doc(db,_0x33ade1(0x3d7)+appId+_0x33ade1(0x581),currentProjectId);try{await updateDoc(_0x2383b9,{'settings.showInStudentDashboard':document[_0x33ade1(0x6f5)](_0x33ade1(0x6db))[_0x33ade1(0x788)],'settings.isPasscodeEnabled':document['getElementById'](_0x33ade1(0x7db))[_0x33ade1(0x788)],'settings.passcode':document[_0x33ade1(0x6f5)]('project-passcode-input')[_0x33ade1(0x8c4)][_0x33ade1(0x8cf)]()}),showMessage(_0x33ade1(0xa9c));}catch(_0x2887f4){console['error'](_0x33ade1(0x914),_0x2887f4),showMessage(_0x33ade1(0x886));}}function setupEventListeners(){const _0x4301de=_0x599685,_0x6613c7=document[_0x4301de(0x6f5)](_0x4301de(0x3ea)),_0x744dff=document['getElementById'](_0x4301de(0x861));_0x6613c7[_0x4301de(0x2a3)](_0x4301de(0x466),()=>{const _0x5c40fd=_0x4301de;_0x744dff[_0x5c40fd(0x7ad)]['toggle'](_0x5c40fd(0x180),!_0x6613c7[_0x5c40fd(0x788)]);});const _0x538036=document[_0x4301de(0x6f5)]('confidence-scoring-checkbox'),_0x1235c5=document[_0x4301de(0x6f5)](_0x4301de(0x9ca));_0x538036['addEventListener'](_0x4301de(0x466),()=>{_0x1235c5['classList']['toggle']('hidden',!_0x538036['checked']);});const _0x50c6aa=document[_0x4301de(0x6f5)](_0x4301de(0x5ca)),_0x23d60c=document[_0x4301de(0x6f5)](_0x4301de(0x327));_0x50c6aa[_0x4301de(0x2a3)](_0x4301de(0x466),()=>{const _0x1f5f7b=_0x4301de;_0x23d60c[_0x1f5f7b(0x7ad)][_0x1f5f7b(0x949)](_0x1f5f7b(0x180),!_0x50c6aa[_0x1f5f7b(0x788)]);});const _0x18878e=document[_0x4301de(0x6f5)](_0x4301de(0x3fa)),_0x29a423=async _0x1ec898=>{const _0x388fba=_0x4301de,_0x2099fb=document[_0x388fba(0x6f5)](_0x388fba(0x3fa)),_0x504da9=_0x2099fb['dataset'][_0x388fba(0x449)],_0x2766cc=document[_0x388fba(0x6f5)](_0x388fba(0x28e));_0x2099fb[_0x388fba(0x7ad)][_0x388fba(0x25c)]('hidden');if(_0x504da9===_0x388fba(0x203)){const _0x38c98a=_0x2766cc['value'],_0x24cb91={'answer':_0x38c98a,'wasConfident':_0x1ec898};proceedToNextQuestion(_0x24cb91);}else{if(_0x504da9===_0x388fba(0x1f0)){const _0x5b3d6f=_0x2766cc[_0x388fba(0x4eb)][_0x388fba(0x190)],_0x5784dd=JSON[_0x388fba(0x7a4)](_0x2766cc['dataset']['question']),_0x53c703=JSON['parse'](_0x2766cc['dataset'][_0x388fba(0x43d)]),_0x3ab343=_0x2766cc[_0x388fba(0x4eb)][_0x388fba(0x1d5)];handleSyncAnswerSubmit(_0x5b3d6f,_0x5784dd,_0x53c703,_0x3ab343,_0x1ec898);}}_0x2099fb['dataset'][_0x388fba(0x449)]='';};document[_0x4301de(0x6f5)](_0x4301de(0x7ab))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>_0x29a423(!![])),document[_0x4301de(0x6f5)](_0x4301de(0x1c8))['addEventListener'](_0x4301de(0x41c),()=>_0x29a423(![])),liveGameView[_0x4301de(0x2a3)](_0x4301de(0x41c),_0x278da0=>{const _0x3f30e1=_0x4301de,_0x55d2d7=_0x278da0[_0x3f30e1(0x928)][_0x3f30e1(0x74c)](_0x3f30e1(0x8d2));if(_0x55d2d7){const _0x370ec3=_0x55d2d7[_0x3f30e1(0x4eb)][_0x3f30e1(0x1d5)];_0x370ec3&&handleKickPlayerSync(_0x370ec3);}});const _0x9e8a8e=document[_0x4301de(0x6f5)](_0x4301de(0x358)),_0x5d62be=document['getElementById'](_0x4301de(0x40b));_0x5d62be[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x458479=_0x4301de;document[_0x458479(0x6f5)](_0x458479(0xa8b))[_0x458479(0x7ad)][_0x458479(0x25c)](_0x458479(0x180));}),_0x9e8a8e['addEventListener']('click',()=>{const _0x2a0a27=_0x4301de,_0x485bdc=document[_0x2a0a27(0x6f5)]('game-start-quiz-id')[_0x2a0a27(0x8c4)],_0x2e1f56=document[_0x2a0a27(0x6f5)](_0x2a0a27(0x242))[_0x2a0a27(0x8c4)],_0x29a1f9=document[_0x2a0a27(0x6f5)]('save-game-results-checkbox')[_0x2a0a27(0x788)];document[_0x2a0a27(0x6f5)]('confirm-game-start-modal')[_0x2a0a27(0x7ad)][_0x2a0a27(0x25c)](_0x2a0a27(0x180));switch(_0x2e1f56){case _0x2a0a27(0x191):handleStartLiveRace(_0x485bdc,_0x29a1f9);break;case'team':handleStartTeamQuiz(_0x485bdc,_0x29a1f9);break;case'group':handleStartGroupMode(_0x485bdc,_0x29a1f9);break;case'sync':handleStartSyncMode(_0x485bdc,_0x29a1f9);break;}}),document[_0x4301de(0x6f5)](_0x4301de(0x590))[_0x4301de(0x2a3)](_0x4301de(0x41c),handleJoinGroupActivity),liveGameView[_0x4301de(0x2a3)](_0x4301de(0x41c),_0x142bc0=>{const _0x4a786c=_0x4301de,_0x2cbcb4=_0x142bc0[_0x4a786c(0x928)][_0x4a786c(0x74c)](_0x4a786c(0x6e3));document['querySelectorAll']('.live-summary-tooltip.visible')[_0x4a786c(0x24d)](_0x95fcee=>{const _0x34a0fe=_0x4a786c;(!_0x2cbcb4||_0x95fcee['id']!==_0x2cbcb4[_0x34a0fe(0x4eb)][_0x34a0fe(0x7a7)])&&_0x95fcee[_0x34a0fe(0x7ad)][_0x34a0fe(0xac8)](_0x34a0fe(0x62b));});if(!_0x2cbcb4)return;const _0x1c6c7d=_0x2cbcb4['dataset'][_0x4a786c(0x7a7)],_0x201374=document['getElementById'](_0x1c6c7d);_0x201374&&_0x201374['classList']['toggle']('visible');}),liveGameView[_0x4301de(0x2a3)]('click',_0x258fd7=>{const _0x52d373=_0x4301de;if(_0x258fd7[_0x52d373(0x928)][_0x52d373(0x7ad)][_0x52d373(0x9f7)](_0x52d373(0x8da))){const _0x101c04=_0x258fd7[_0x52d373(0x928)][_0x52d373(0x4eb)]['playerName'];_0x101c04&&handleKickPlayer(_0x101c04);}}),document[_0x4301de(0x6f5)]('project-title')[_0x4301de(0x2a3)](_0x4301de(0x201),()=>document[_0x4301de(0x6f5)](_0x4301de(0x8fb))[_0x4301de(0x7ad)][_0x4301de(0xac8)]('hidden')),document[_0x4301de(0x6f5)](_0x4301de(0x8fb))[_0x4301de(0x2a3)](_0x4301de(0x41c),handleSaveProjectName),document[_0x4301de(0x6f5)](_0x4301de(0x72d))[_0x4301de(0x2a3)](_0x4301de(0x411),_0x39323b=>{const _0x53c43d=_0x4301de;_0x39323b['key']===_0x53c43d(0x29a)&&(_0x39323b[_0x53c43d(0x531)](),_0x39323b[_0x53c43d(0x928)][_0x53c43d(0x733)](),handleSaveProjectName());}),document['getElementById'](_0x4301de(0x6c2))[_0x4301de(0x2a3)]('click',()=>{const _0x349c04=_0x4301de;document[_0x349c04(0x6f5)](_0x349c04(0x688))[_0x349c04(0x7ad)]['remove'](_0x349c04(0x180));}),document['getElementById'](_0x4301de(0x893))[_0x4301de(0x2a3)]('click',()=>{const _0x9c3502=_0x4301de;document[_0x9c3502(0x6f5)](_0x9c3502(0x688))['classList']['add'](_0x9c3502(0x180));}),document[_0x4301de(0x6f5)](_0x4301de(0x7fb))[_0x4301de(0x2a3)](_0x4301de(0x41c),handleBulkUpdateQuizSettings),document['getElementById'](_0x4301de(0x798))['addEventListener']('click',handleModeSwitch),document['getElementById'](_0x4301de(0x7e9))[_0x4301de(0x2a3)]('click',handleUpdateOldQuizzes),document[_0x4301de(0x6f5)](_0x4301de(0x5bd))[_0x4301de(0x2a3)](_0x4301de(0x41c),handleResetProjectOrder),document[_0x4301de(0x6f5)](_0x4301de(0x6e4))[_0x4301de(0x2a3)](_0x4301de(0x41c),handleSaveVisibilitySettings),document[_0x4301de(0x6f5)](_0x4301de(0xa2f))[_0x4301de(0x2a3)](_0x4301de(0x41c),handleAddCustomMathTopic),document['getElementById']('select-all-topics-btn')[_0x4301de(0x2a3)](_0x4301de(0x41c),handleSelectAllTopics),document[_0x4301de(0x6f5)]('deselect-all-topics-btn')['addEventListener'](_0x4301de(0x41c),handleDeselectAllTopics),document[_0x4301de(0x6f5)](_0x4301de(0x98c))['addEventListener'](_0x4301de(0x41c),()=>{const _0x457acf=_0x4301de;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x457acf(0x74f));}),document['getElementById'](_0x4301de(0x3a0))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x634334=_0x4301de;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x634334(0x53b));}),document[_0x4301de(0x6f5)]('back-to-dashboard-from-results-btn')[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x263033=_0x4301de;showView(_0x263033(0x74f));}),document[_0x4301de(0x6f5)](_0x4301de(0xa07))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x274e4f=_0x4301de;messageModal[_0x274e4f(0x7ad)][_0x274e4f(0x25c)](_0x274e4f(0x180)),typeof modalConfirmAction===_0x274e4f(0x42f)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x4301de(0x6f5)]('create-project-btn')[_0x4301de(0x2a3)]('click',()=>createProjectModal[_0x4301de(0x7ad)][_0x4301de(0xac8)](_0x4301de(0x180))),document[_0x4301de(0x6f5)](_0x4301de(0x4b8))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>createProjectModal[_0x4301de(0x7ad)][_0x4301de(0x25c)](_0x4301de(0x180))),document[_0x4301de(0x6f5)](_0x4301de(0x6bb))[_0x4301de(0x2a3)]('click',()=>adminPasswordModal[_0x4301de(0x7ad)][_0x4301de(0x25c)](_0x4301de(0x180))),document['getElementById'](_0x4301de(0x875))[_0x4301de(0x2a3)](_0x4301de(0x41c),handleAdminLogin),document['getElementById']('admin-password-input')[_0x4301de(0x2a3)](_0x4301de(0x57f),_0x4ad786=>{const _0xa09aef=_0x4301de;if(_0x4ad786['key']===_0xa09aef(0x29a))handleAdminLogin();}),document[_0x4301de(0x6f5)](_0x4301de(0xa68))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x12a8b9=_0x4301de;confirmationModal[_0x12a8b9(0x7ad)][_0x12a8b9(0x25c)](_0x12a8b9(0x180)),confirmAction=null;}),document['getElementById'](_0x4301de(0x66f))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x30797a=_0x4301de;confirmAction&&confirmAction(),confirmationModal[_0x30797a(0x7ad)][_0x30797a(0x25c)](_0x30797a(0x180)),confirmAction=null;}),document[_0x4301de(0x6f5)](_0x4301de(0x713))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>renameQuizModal[_0x4301de(0x7ad)][_0x4301de(0x25c)](_0x4301de(0x180))),document[_0x4301de(0x6f5)](_0x4301de(0x2e2))[_0x4301de(0x2a3)]('click',confirmRenameQuiz),document[_0x4301de(0x6f5)]('cancel-move-quiz-btn')[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>moveQuizModal[_0x4301de(0x7ad)][_0x4301de(0x25c)](_0x4301de(0x180))),document[_0x4301de(0x6f5)](_0x4301de(0x73a))[_0x4301de(0x2a3)](_0x4301de(0x41c),confirmMoveQuiz),document[_0x4301de(0x6f5)](_0x4301de(0x4d8))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>quizSettingsModal[_0x4301de(0x7ad)]['add'](_0x4301de(0x180))),document['getElementById'](_0x4301de(0x6c1))[_0x4301de(0x2a3)]('click',confirmQuizSettings),document[_0x4301de(0x6f5)]('cancel-quiz-status-btn')[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>quizStatusModal[_0x4301de(0x7ad)][_0x4301de(0x25c)](_0x4301de(0x180))),document[_0x4301de(0x6f5)](_0x4301de(0x3cc))[_0x4301de(0x2a3)](_0x4301de(0x41c),confirmQuizStatus);const _0x1952f1=document[_0x4301de(0x6f5)](_0x4301de(0x1d8));document['getElementById'](_0x4301de(0x838))['addEventListener']('click',()=>{const _0x5e6cb9=_0x4301de;_0x1952f1[_0x5e6cb9(0x7ad)][_0x5e6cb9(0x25c)](_0x5e6cb9(0x180));}),document[_0x4301de(0x6f5)](_0x4301de(0x81d))[_0x4301de(0x2a3)](_0x4301de(0x41c),async()=>{const _0x219447=_0x4301de,_0x15858a=allQuizzes[_0x219447(0x726)](_0x4ab79f=>_0x4ab79f['id']===actionTargetId);_0x15858a?(currentQuizData=_0x15858a,exportQuizAsWorksheetPDF()):showMessage(_0x219447(0x5d4)),_0x1952f1['classList'][_0x219447(0x25c)](_0x219447(0x180));}),document[_0x4301de(0x6f5)](_0x4301de(0x4f7))[_0x4301de(0x2a3)](_0x4301de(0x41c),async()=>{const _0x4df541=_0x4301de,_0x20e7b5=allQuizzes[_0x4df541(0x726)](_0x526923=>_0x526923['id']===actionTargetId);_0x20e7b5?(currentQuizData=_0x20e7b5,exportQuizAsTutorPDF()):showMessage(_0x4df541(0x5d4)),_0x1952f1[_0x4df541(0x7ad)][_0x4df541(0x25c)](_0x4df541(0x180));}),document[_0x4301de(0x6f5)](_0x4301de(0x508))[_0x4301de(0x2a3)]('click',openGlobalLiveModal),document[_0x4301de(0x6f5)]('cancel-global-live-btn')[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x389f43=_0x4301de;document[_0x389f43(0x6f5)](_0x389f43(0x476))[_0x389f43(0x7ad)][_0x389f43(0x25c)](_0x389f43(0x180)),selectedGlobalQuizId=null;}),document['getElementById'](_0x4301de(0x650))[_0x4301de(0x2a3)](_0x4301de(0x28f),_0x1e4e8b=>renderGlobalQuizList(_0x1e4e8b[_0x4301de(0x928)][_0x4301de(0x8c4)])),document[_0x4301de(0x6f5)](_0x4301de(0x2c1))['addEventListener'](_0x4301de(0x41c),()=>{const _0xbe0ff1=_0x4301de,_0x57615c=selectedGlobalQuizId;if(!_0x57615c)return;document['getElementById'](_0xbe0ff1(0x476))[_0xbe0ff1(0x7ad)]['add']('hidden'),handleStartLiveRace(_0x57615c);}),document[_0x4301de(0x6f5)]('project-search-input')[_0x4301de(0x2a3)](_0x4301de(0x28f),renderProjects),document[_0x4301de(0x6f5)](_0x4301de(0x7ee))[_0x4301de(0x2a3)](_0x4301de(0x466),async()=>{const _0x5e994a=_0x4301de,_0x14aa90=document[_0x5e994a(0x6f5)](_0x5e994a(0x7ee))[_0x5e994a(0x8c4)],_0x174ab9=doc(db,_0x5e994a(0x499),'dashboardConfig');try{await setDoc(_0x174ab9,{'projectSort':_0x14aa90},{'merge':!![]});}catch(_0x37ca63){console[_0x5e994a(0x30a)]('Error\x20updating\x20sort\x20preference:',_0x37ca63),showMessage(_0x5e994a(0x930));}}),document[_0x4301de(0x6f5)](_0x4301de(0x9ee))[_0x4301de(0x2a3)](_0x4301de(0x28f),renderQuizzes),document[_0x4301de(0x6f5)]('grid-view-btn')['addEventListener']('click',()=>{const _0x3aa82a=_0x4301de;globalDashboardSettings['projectView']=_0x3aa82a(0x28d),saveUserPreference(_0x3aa82a(0x322),_0x3aa82a(0x28d)),renderProjects();}),document[_0x4301de(0x6f5)]('list-view-btn')[_0x4301de(0x2a3)]('click',()=>{const _0x105041=_0x4301de;globalDashboardSettings[_0x105041(0x322)]=_0x105041(0x6ff),saveUserPreference(_0x105041(0x322),_0x105041(0x6ff)),renderProjects();}),manageTab[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>switchProjectTab(_0x4301de(0x7e2))),resultsTab[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>switchProjectTab(_0x4301de(0x7aa))),leaderboardTab['addEventListener'](_0x4301de(0x41c),()=>switchProjectTab(_0x4301de(0x5e0))),document[_0x4301de(0x6f5)](_0x4301de(0x6e8))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>switchQuizDetailTab(_0x4301de(0x89f))),document[_0x4301de(0x6f5)](_0x4301de(0x7fd))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>switchQuizDetailTab(_0x4301de(0x1c9))),document[_0x4301de(0x6f5)](_0x4301de(0x942))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>switchQuizDetailTab(_0x4301de(0x477))),document['getElementById'](_0x4301de(0x9e0))[_0x4301de(0x2a3)]('click',()=>switchQuizDetailTab(_0x4301de(0x68a))),document['getElementById']('analyze-strengths-btn')[_0x4301de(0x2a3)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x4301de(0x2a3)](_0x4301de(0x41c),generateWorksheet);const _0x5cdb1d=document[_0x4301de(0x6f5)](_0x4301de(0x78c)),_0x4f1918=document[_0x4301de(0x6f5)](_0x4301de(0x4c9)),_0x3dddc2=document[_0x4301de(0x6f5)](_0x4301de(0x4e1)),_0x2d954d=document[_0x4301de(0x6f5)](_0x4301de(0x6c8)),_0x1cb14c=document[_0x4301de(0x6f5)]('parallel-test-tab'),_0x310410=document[_0x4301de(0x6f5)](_0x4301de(0x593));topicTab[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x43ff62=_0x4301de;topicTab[_0x43ff62(0x7ad)][_0x43ff62(0x25c)](_0x43ff62(0x825)),textTab[_0x43ff62(0x7ad)][_0x43ff62(0xac8)]('active'),fileTab[_0x43ff62(0x7ad)][_0x43ff62(0xac8)](_0x43ff62(0x825)),worksheetTab['classList'][_0x43ff62(0xac8)](_0x43ff62(0x825));if(_0x5cdb1d)_0x5cdb1d[_0x43ff62(0x7ad)]['remove'](_0x43ff62(0x825));if(_0x3dddc2)_0x3dddc2[_0x43ff62(0x7ad)][_0x43ff62(0xac8)](_0x43ff62(0x825));if(_0x1cb14c)_0x1cb14c[_0x43ff62(0x7ad)]['remove'](_0x43ff62(0x825));topicInputArea[_0x43ff62(0x7ad)]['remove'](_0x43ff62(0x180)),textInputArea['classList'][_0x43ff62(0x25c)](_0x43ff62(0x180)),fileInputArea['classList'][_0x43ff62(0x25c)](_0x43ff62(0x180)),worksheetInputArea[_0x43ff62(0x7ad)][_0x43ff62(0x25c)](_0x43ff62(0x180));if(_0x4f1918)_0x4f1918[_0x43ff62(0x7ad)]['add'](_0x43ff62(0x180));if(_0x2d954d)_0x2d954d[_0x43ff62(0x7ad)][_0x43ff62(0x25c)](_0x43ff62(0x180));if(_0x310410)_0x310410[_0x43ff62(0x7ad)][_0x43ff62(0x25c)](_0x43ff62(0x180));}),textTab['addEventListener'](_0x4301de(0x41c),()=>{const _0x8a11=_0x4301de;textTab['classList']['add']('active'),topicTab[_0x8a11(0x7ad)]['remove'](_0x8a11(0x825)),fileTab[_0x8a11(0x7ad)]['remove'](_0x8a11(0x825)),worksheetTab[_0x8a11(0x7ad)]['remove']('active');if(_0x5cdb1d)_0x5cdb1d[_0x8a11(0x7ad)]['remove']('active');if(_0x3dddc2)_0x3dddc2[_0x8a11(0x7ad)]['remove'](_0x8a11(0x825));if(_0x1cb14c)_0x1cb14c[_0x8a11(0x7ad)][_0x8a11(0xac8)](_0x8a11(0x825));textInputArea[_0x8a11(0x7ad)][_0x8a11(0xac8)](_0x8a11(0x180)),topicInputArea[_0x8a11(0x7ad)][_0x8a11(0x25c)]('hidden'),fileInputArea[_0x8a11(0x7ad)][_0x8a11(0x25c)](_0x8a11(0x180)),worksheetInputArea[_0x8a11(0x7ad)][_0x8a11(0x25c)](_0x8a11(0x180));if(_0x4f1918)_0x4f1918[_0x8a11(0x7ad)][_0x8a11(0x25c)](_0x8a11(0x180));if(_0x2d954d)_0x2d954d[_0x8a11(0x7ad)][_0x8a11(0x25c)](_0x8a11(0x180));if(_0x310410)_0x310410['classList'][_0x8a11(0x25c)](_0x8a11(0x180));}),fileTab['addEventListener'](_0x4301de(0x41c),()=>{const _0x9b7563=_0x4301de;fileTab[_0x9b7563(0x7ad)][_0x9b7563(0x25c)](_0x9b7563(0x825)),topicTab['classList'][_0x9b7563(0xac8)]('active'),textTab[_0x9b7563(0x7ad)][_0x9b7563(0xac8)](_0x9b7563(0x825)),worksheetTab[_0x9b7563(0x7ad)][_0x9b7563(0xac8)](_0x9b7563(0x825));if(_0x5cdb1d)_0x5cdb1d[_0x9b7563(0x7ad)][_0x9b7563(0xac8)]('active');if(_0x3dddc2)_0x3dddc2[_0x9b7563(0x7ad)][_0x9b7563(0xac8)](_0x9b7563(0x825));if(_0x1cb14c)_0x1cb14c[_0x9b7563(0x7ad)][_0x9b7563(0xac8)](_0x9b7563(0x825));fileInputArea[_0x9b7563(0x7ad)][_0x9b7563(0xac8)](_0x9b7563(0x180)),topicInputArea[_0x9b7563(0x7ad)]['add'](_0x9b7563(0x180)),textInputArea[_0x9b7563(0x7ad)][_0x9b7563(0x25c)](_0x9b7563(0x180)),worksheetInputArea[_0x9b7563(0x7ad)][_0x9b7563(0x25c)]('hidden');if(_0x4f1918)_0x4f1918[_0x9b7563(0x7ad)][_0x9b7563(0x25c)](_0x9b7563(0x180));if(_0x2d954d)_0x2d954d[_0x9b7563(0x7ad)][_0x9b7563(0x25c)]('hidden');if(_0x310410)_0x310410['classList'][_0x9b7563(0x25c)](_0x9b7563(0x180));}),worksheetTab[_0x4301de(0x2a3)]('click',()=>{const _0x260c42=_0x4301de;worksheetTab['classList'][_0x260c42(0x25c)](_0x260c42(0x825)),topicTab[_0x260c42(0x7ad)][_0x260c42(0xac8)](_0x260c42(0x825)),textTab[_0x260c42(0x7ad)][_0x260c42(0xac8)](_0x260c42(0x825)),fileTab[_0x260c42(0x7ad)][_0x260c42(0xac8)](_0x260c42(0x825));if(_0x5cdb1d)_0x5cdb1d[_0x260c42(0x7ad)][_0x260c42(0xac8)](_0x260c42(0x825));if(_0x3dddc2)_0x3dddc2['classList']['remove'](_0x260c42(0x825));if(_0x1cb14c)_0x1cb14c['classList'][_0x260c42(0xac8)](_0x260c42(0x825));worksheetInputArea[_0x260c42(0x7ad)][_0x260c42(0xac8)](_0x260c42(0x180)),topicInputArea['classList'][_0x260c42(0x25c)]('hidden'),textInputArea['classList'][_0x260c42(0x25c)](_0x260c42(0x180)),fileInputArea['classList'][_0x260c42(0x25c)](_0x260c42(0x180));if(_0x4f1918)_0x4f1918['classList'][_0x260c42(0x25c)](_0x260c42(0x180));if(_0x2d954d)_0x2d954d['classList']['add'](_0x260c42(0x180));if(_0x310410)_0x310410[_0x260c42(0x7ad)][_0x260c42(0x25c)](_0x260c42(0x180));});const _0x21f7db=document[_0x4301de(0x6f5)]('bank-tab'),_0xcb810=document[_0x4301de(0x6f5)]('bank-input-area');_0x21f7db&&_0x21f7db[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x1d5dee=_0x4301de;topicTab[_0x1d5dee(0x7ad)][_0x1d5dee(0xac8)](_0x1d5dee(0x825)),textTab[_0x1d5dee(0x7ad)]['remove'](_0x1d5dee(0x825)),fileTab[_0x1d5dee(0x7ad)]['remove']('active'),worksheetTab[_0x1d5dee(0x7ad)][_0x1d5dee(0xac8)](_0x1d5dee(0x825));if(_0x5cdb1d)_0x5cdb1d[_0x1d5dee(0x7ad)][_0x1d5dee(0xac8)](_0x1d5dee(0x825));if(_0x3dddc2)_0x3dddc2['classList']['remove'](_0x1d5dee(0x825));if(_0x1cb14c)_0x1cb14c[_0x1d5dee(0x7ad)]['remove']('active');_0x21f7db[_0x1d5dee(0x7ad)][_0x1d5dee(0x25c)](_0x1d5dee(0x825)),topicInputArea['classList'][_0x1d5dee(0x25c)](_0x1d5dee(0x180)),textInputArea['classList'][_0x1d5dee(0x25c)](_0x1d5dee(0x180)),fileInputArea['classList'][_0x1d5dee(0x25c)](_0x1d5dee(0x180)),worksheetInputArea[_0x1d5dee(0x7ad)][_0x1d5dee(0x25c)](_0x1d5dee(0x180));if(_0x4f1918)_0x4f1918['classList'][_0x1d5dee(0x25c)](_0x1d5dee(0x180));if(_0x2d954d)_0x2d954d['classList'][_0x1d5dee(0x25c)](_0x1d5dee(0x180));if(_0x310410)_0x310410[_0x1d5dee(0x7ad)][_0x1d5dee(0x25c)](_0x1d5dee(0x180));_0xcb810['classList'][_0x1d5dee(0xac8)]('hidden'),displayQuestionBank();});_0x5cdb1d&&(_0x5cdb1d[_0x4301de(0x2a3)]('click',()=>{const _0x483d6d=_0x4301de;_0x5cdb1d['classList'][_0x483d6d(0x25c)](_0x483d6d(0x825)),topicTab[_0x483d6d(0x7ad)][_0x483d6d(0xac8)](_0x483d6d(0x825)),textTab[_0x483d6d(0x7ad)][_0x483d6d(0xac8)](_0x483d6d(0x825)),fileTab['classList'][_0x483d6d(0xac8)](_0x483d6d(0x825)),worksheetTab[_0x483d6d(0x7ad)][_0x483d6d(0xac8)](_0x483d6d(0x825));if(_0x3dddc2)_0x3dddc2[_0x483d6d(0x7ad)][_0x483d6d(0xac8)](_0x483d6d(0x825));if(_0x1cb14c)_0x1cb14c[_0x483d6d(0x7ad)][_0x483d6d(0xac8)](_0x483d6d(0x825));_0x4f1918[_0x483d6d(0x7ad)]['remove'](_0x483d6d(0x180)),topicInputArea[_0x483d6d(0x7ad)]['add']('hidden'),textInputArea[_0x483d6d(0x7ad)][_0x483d6d(0x25c)]('hidden'),fileInputArea[_0x483d6d(0x7ad)][_0x483d6d(0x25c)]('hidden'),worksheetInputArea['classList'][_0x483d6d(0x25c)](_0x483d6d(0x180));if(_0x2d954d)_0x2d954d[_0x483d6d(0x7ad)][_0x483d6d(0x25c)]('hidden');if(_0x310410)_0x310410['classList'][_0x483d6d(0x25c)]('hidden');}),document['getElementById'](_0x4301de(0x975))[_0x4301de(0x2a3)](_0x4301de(0x41c),handleGenerateFromLink));_0x3dddc2&&_0x3dddc2['addEventListener']('click',()=>{const _0x290b56=_0x4301de;_0x3dddc2[_0x290b56(0x7ad)][_0x290b56(0x25c)](_0x290b56(0x825)),topicTab['classList']['remove'](_0x290b56(0x825)),textTab['classList'][_0x290b56(0xac8)]('active'),fileTab[_0x290b56(0x7ad)]['remove'](_0x290b56(0x825)),worksheetTab['classList'][_0x290b56(0xac8)](_0x290b56(0x825));if(_0x5cdb1d)_0x5cdb1d[_0x290b56(0x7ad)][_0x290b56(0xac8)](_0x290b56(0x825));if(_0x21f7db)_0x21f7db[_0x290b56(0x7ad)][_0x290b56(0xac8)](_0x290b56(0x825));if(_0x1cb14c)_0x1cb14c[_0x290b56(0x7ad)][_0x290b56(0xac8)](_0x290b56(0x825));_0x2d954d['classList'][_0x290b56(0xac8)](_0x290b56(0x180)),topicInputArea[_0x290b56(0x7ad)][_0x290b56(0x25c)](_0x290b56(0x180)),textInputArea[_0x290b56(0x7ad)][_0x290b56(0x25c)]('hidden'),fileInputArea['classList'][_0x290b56(0x25c)](_0x290b56(0x180)),worksheetInputArea['classList'][_0x290b56(0x25c)](_0x290b56(0x180));if(_0x4f1918)_0x4f1918[_0x290b56(0x7ad)][_0x290b56(0x25c)](_0x290b56(0x180));if(_0xcb810)_0xcb810['classList'][_0x290b56(0x25c)](_0x290b56(0x180));if(_0x310410)_0x310410[_0x290b56(0x7ad)][_0x290b56(0x25c)](_0x290b56(0x180));});_0x1cb14c&&_0x1cb14c[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x648cad=_0x4301de;_0x1cb14c['classList'][_0x648cad(0x25c)](_0x648cad(0x825)),topicTab[_0x648cad(0x7ad)][_0x648cad(0xac8)]('active'),textTab['classList'][_0x648cad(0xac8)](_0x648cad(0x825)),fileTab['classList'][_0x648cad(0xac8)]('active'),worksheetTab[_0x648cad(0x7ad)][_0x648cad(0xac8)](_0x648cad(0x825));if(_0x5cdb1d)_0x5cdb1d[_0x648cad(0x7ad)][_0x648cad(0xac8)](_0x648cad(0x825));if(_0x3dddc2)_0x3dddc2[_0x648cad(0x7ad)][_0x648cad(0xac8)]('active');if(_0x21f7db)_0x21f7db[_0x648cad(0x7ad)][_0x648cad(0xac8)](_0x648cad(0x825));_0x310410[_0x648cad(0x7ad)][_0x648cad(0xac8)](_0x648cad(0x180)),topicInputArea['classList'][_0x648cad(0x25c)](_0x648cad(0x180)),textInputArea[_0x648cad(0x7ad)][_0x648cad(0x25c)](_0x648cad(0x180)),fileInputArea[_0x648cad(0x7ad)]['add'](_0x648cad(0x180)),worksheetInputArea['classList']['add']('hidden');if(_0x4f1918)_0x4f1918[_0x648cad(0x7ad)][_0x648cad(0x25c)]('hidden');if(_0x2d954d)_0x2d954d['classList'][_0x648cad(0x25c)](_0x648cad(0x180));if(_0xcb810)_0xcb810[_0x648cad(0x7ad)][_0x648cad(0x25c)](_0x648cad(0x180));});const _0x339a54=document[_0x4301de(0x6f5)](_0x4301de(0x6af)),_0x590883=document[_0x4301de(0x6f5)](_0x4301de(0x268));_0x339a54&&_0x339a54[_0x4301de(0x2a3)](_0x4301de(0x466),_0x248dfa=>{const _0x4e9665=_0x4301de;_0x248dfa[_0x4e9665(0x928)][_0x4e9665(0x883)][_0x4e9665(0x5b5)]>0x0?_0x590883[_0x4e9665(0x8c1)]=![]:_0x590883['disabled']=!![];});_0x590883&&_0x590883[_0x4301de(0x2a3)](_0x4301de(0x41c),handleGenerateFromBlueprint);const _0x38d707=document[_0x4301de(0x6f5)](_0x4301de(0x443)),_0x4dc325=document[_0x4301de(0x6f5)](_0x4301de(0x85e));_0x38d707&&_0x38d707[_0x4301de(0x2a3)](_0x4301de(0x466),_0x538ebc=>{const _0x8415bc=_0x4301de;_0x4dc325['disabled']=_0x538ebc[_0x8415bc(0x928)][_0x8415bc(0x883)][_0x8415bc(0x5b5)]===0x0;});_0x4dc325&&_0x4dc325[_0x4301de(0x2a3)]('click',handleGenerateParallelTest);loadQuizBtn[_0x4301de(0x2a3)](_0x4301de(0x41c),handleLoadQuiz),startQuizBtn[_0x4301de(0x2a3)]('click',async()=>{const _0x44f271=_0x4301de,_0x45b039=document[_0x44f271(0x6f5)](_0x44f271(0x63d));currentStudentName=_0x45b039['value'];if(!currentStudentName){showMessage(_0x44f271(0x580));return;}try{const _0x259819=currentQuizData['id'],_0x278526=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x259819+_0x44f271(0x98a),currentStudentName),_0x23787e=await getDoc(_0x278526);!_0x23787e[_0x44f271(0x478)]()?await setDoc(_0x278526,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x278526,{'startedAt':new Date()[_0x44f271(0x73f)]()});}catch(_0x4cb800){console[_0x44f271(0x30a)](_0x44f271(0x737),_0x4cb800),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x44f271(0x7ad)][_0x44f271(0x25c)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4301de(0x6f5)](_0x4301de(0x353))[_0x4301de(0x2a3)](_0x4301de(0x41c),showJoinGameView),document['getElementById'](_0x4301de(0x896))[_0x4301de(0x2a3)]('click',handleJoinLiveGame),document[_0x4301de(0x6f5)](_0x4301de(0x7b8))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>showView(_0x4301de(0x613)));const _0x237560=()=>{const _0x13ef18=_0x4301de,_0x5d2c42=document[_0x13ef18(0x6f5)](_0x13ef18(0x3e7))[_0x13ef18(0x406)]['replace'](/[^a-z0-9]/gi,'_')[_0x13ef18(0x607)]();return _0x13ef18(0x3f9)+(_0x5d2c42||_0x13ef18(0x62d));},_0x420499=document[_0x4301de(0x6f5)]('math-topic-search-input');_0x420499&&_0x420499[_0x4301de(0x2a3)]('input',_0x48c757=>{const _0x511fa6=_0x4301de,_0x3ca0bd=_0x48c757[_0x511fa6(0x928)][_0x511fa6(0x8c4)]['toLowerCase']()['trim'](),_0x2e631a=document[_0x511fa6(0x6f5)](_0x511fa6(0x845)),_0x28d2a6=_0x2e631a[_0x511fa6(0x3b5)](_0x511fa6(0x911));_0x28d2a6[_0x511fa6(0x24d)](_0x114c8a=>{const _0x57c3cd=_0x511fa6;let _0x5ceb6e=![];const _0x1c9b64=_0x114c8a[_0x57c3cd(0x3b5)](_0x57c3cd(0x4aa));_0x1c9b64['forEach'](_0x4e598a=>{const _0x1cd748=_0x57c3cd,_0x2a81a4=_0x4e598a[_0x1cd748(0x9ae)](_0x1cd748(0x326))['textContent'][_0x1cd748(0x607)]();_0x2a81a4['includes'](_0x3ca0bd)?(_0x4e598a[_0x1cd748(0x317)][_0x1cd748(0x1b7)]=_0x1cd748(0x7c3),_0x5ceb6e=!![]):_0x4e598a[_0x1cd748(0x317)]['display']=_0x1cd748(0x649);}),_0x5ceb6e?_0x114c8a[_0x57c3cd(0x317)]['display']=_0x57c3cd(0x345):_0x114c8a[_0x57c3cd(0x317)][_0x57c3cd(0x1b7)]=_0x57c3cd(0x649);});});document['getElementById'](_0x4301de(0xaaf))['addEventListener']('click',()=>exportTableAsImage(_0x4301de(0x8a8),_0x237560())),document[_0x4301de(0x6f5)](_0x4301de(0x338))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>exportTableAsPDF(_0x4301de(0xaa9),_0x237560())),document[_0x4301de(0x6f5)](_0x4301de(0x77f))[_0x4301de(0x2a3)]('click',()=>exportTableAsWord(_0x4301de(0x8a8),_0x237560())),document[_0x4301de(0x6f5)](_0x4301de(0x432))['addEventListener']('click',()=>exportTableAsExcel(_0x4301de(0xaa9),_0x237560()));const _0xf67b39=()=>{const _0x53a133=_0x4301de,_0x588a64=document[_0x53a133(0x6f5)](_0x53a133(0x3e7))[_0x53a133(0x406)]['replace'](/[^a-z0-9]/gi,'_')[_0x53a133(0x607)]();return'leaderboard_'+(_0x588a64||_0x53a133(0x62d));};document['getElementById']('export-leaderboard-image-btn')['addEventListener']('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0xf67b39())),document[_0x4301de(0x6f5)](_0x4301de(0x99d))['addEventListener'](_0x4301de(0x41c),()=>exportTableAsPDF(_0x4301de(0x2e5),_0xf67b39())),document[_0x4301de(0x6f5)](_0x4301de(0x7de))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>exportTableAsWord(_0x4301de(0xab8),_0xf67b39())),document[_0x4301de(0x6f5)](_0x4301de(0x61c))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>exportTableAsExcel('quiz-leaderboard-table',_0xf67b39())),projectQuizzesList[_0x4301de(0x2a3)](_0x4301de(0x41c),async _0x28e8c6=>{const _0x453f45=_0x4301de,_0x1841ed=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)](_0x453f45(0x95b)),_0x312008=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)](_0x453f45(0x2f5)),_0x20dbbc=_0x28e8c6['target'][_0x453f45(0x74c)](_0x453f45(0x4ea)),_0x5c965e=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)]('.generate-lesson-btn'),_0x1db703=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)]('.star-quiz-btn'),_0x5745b1=_0x28e8c6['target']['closest']('.copy-quiz-id-list-btn'),_0x588102=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)](_0x453f45(0x32a)),_0x11e041=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)](_0x453f45(0xa51)),_0x48e104=_0x28e8c6[_0x453f45(0x928)]['closest'](_0x453f45(0x275)),_0x3a1a43=_0x28e8c6['target']['closest']('.rename-quiz-btn'),_0x413d9f=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)](_0x453f45(0xa56)),_0x50e112=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)]('.move-quiz-btn'),_0x553193=_0x28e8c6[_0x453f45(0x928)]['closest'](_0x453f45(0x289)),_0x21ee5c=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)](_0x453f45(0x587)),_0x168732=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)](_0x453f45(0x350)),_0x2ad521=_0x28e8c6[_0x453f45(0x928)]['closest']('.admin-try-quiz-list-btn'),_0x53f3eb=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)]('.export-pdf-list-btn'),_0x1c1d5f=_0x28e8c6[_0x453f45(0x928)]['closest'](_0x453f45(0x2f1)),_0x2a0236=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)]('.quiz-status-btn'),_0x47da9b=_0x28e8c6['target']['closest']('.toggle-actions-btn'),_0x236b07=_0x28e8c6['target'][_0x453f45(0x74c)]('.generate-easy-version-btn'),_0x115919=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)]('.start-game-btn'),_0x37e33d=_0x28e8c6[_0x453f45(0x928)][_0x453f45(0x74c)](_0x453f45(0x73e));if(_0x115919){const _0x38deb1=_0x115919['dataset'][_0x453f45(0x7e4)],_0x113bfe=_0x115919[_0x453f45(0x4eb)]['mode'],_0x52df60=allQuizzes[_0x453f45(0x726)](_0x45c445=>_0x45c445['id']===_0x38deb1);_0x52df60&&showGameStartConfirmationModal(_0x38deb1,_0x113bfe,_0x52df60[_0x453f45(0x699)]);}else{if(_0x37e33d){const _0x50b58e=_0x37e33d[_0x453f45(0x4eb)][_0x453f45(0x7e4)];handleStartLiveRace(_0x50b58e);}else{if(_0x47da9b){const _0x34dc9f=_0x47da9b[_0x453f45(0x4eb)][_0x453f45(0x7e4)],_0x594384=document[_0x453f45(0x6f5)](_0x453f45(0x20f)+_0x34dc9f);_0x594384&&_0x594384[_0x453f45(0x7ad)][_0x453f45(0x949)](_0x453f45(0x180));}else{if(_0x312008){const _0x3859a8=_0x312008[_0x453f45(0x4eb)][_0x453f45(0x7e4)],_0x41403e=allQuizzes[_0x453f45(0x726)](_0x4a69c8=>_0x4a69c8['id']===_0x3859a8);_0x41403e&&handleGenerateParallelPostTest(_0x41403e);}else{if(_0x20dbbc)handleCompareResults(_0x20dbbc[_0x453f45(0x4eb)]['quizId'],_0x20dbbc[_0x453f45(0x4eb)][_0x453f45(0x4ee)]);else{if(_0x5c965e){const _0x4600b9=_0x5c965e['dataset'][_0x453f45(0x7e4)],_0x43fa2d=allQuizzes[_0x453f45(0x726)](_0x53d2e3=>_0x53d2e3['id']===_0x4600b9);_0x43fa2d&&_0x43fa2d[_0x453f45(0x873)]?(displayLessonPlan(_0x43fa2d['lessonPlan'],_0x43fa2d),showConfirmation(_0x453f45(0x5dd),()=>handleGenerateLessonPlan(_0x4600b9)),document[_0x453f45(0x6f5)](_0x453f45(0x2bc))[_0x453f45(0x9ae)]('h3')[_0x453f45(0x406)]=_0x453f45(0x185),document[_0x453f45(0x6f5)](_0x453f45(0x66f))[_0x453f45(0x406)]='สร้างใหม่'):handleGenerateLessonPlan(_0x4600b9);}else{if(_0x1db703)handleToggleStarQuiz(_0x1db703[_0x453f45(0x4eb)][_0x453f45(0x7e4)]);else{if(_0x5745b1)copyTextToClipboard(_0x5745b1[_0x453f45(0x4eb)][_0x453f45(0x7e4)],_0x453f45(0x981));else{if(_0x588102)handleOpenQuizEditor(_0x588102[_0x453f45(0x4eb)]['quizId']);else{if(_0x11e041)handleQuizSettings(_0x11e041['dataset'][_0x453f45(0x7e4)]);else{if(_0x48e104)handleDuplicateQuiz(_0x48e104['dataset']['quizId']);else{if(_0x3a1a43)handleRenameQuiz(_0x3a1a43[_0x453f45(0x4eb)][_0x453f45(0x7e4)],_0x3a1a43[_0x453f45(0x4eb)][_0x453f45(0x699)]);else{if(_0x413d9f){const _0x40f7de=_0x413d9f['dataset'][_0x453f45(0x7e4)],_0x5dc294=allQuizzes[_0x453f45(0x726)](_0x10d172=>_0x10d172['id']===_0x40f7de);_0x5dc294&&handleGenerateParallelFromBank(_0x5dc294);}else{if(_0x50e112)handleMoveQuiz(_0x50e112['dataset'][_0x453f45(0x7e4)]);else{if(_0x553193)handleManualQuizPairing(_0x553193[_0x453f45(0x4eb)][_0x453f45(0x7e4)]);else{if(_0x21ee5c)handleUnpairQuiz(_0x21ee5c[_0x453f45(0x4eb)][_0x453f45(0x7e4)]);else{if(_0x168732){const _0x24c28a=_0x168732[_0x453f45(0x4eb)]['quizId'],_0x31b558=allQuizzes[_0x453f45(0x726)](_0x47bfe4=>_0x47bfe4['id']===_0x24c28a);if(_0x31b558)startPresentation(_0x31b558);}else{if(_0x2ad521){const _0x705ff3=_0x2ad521[_0x453f45(0x4eb)][_0x453f45(0x7e4)],_0x39028e=allQuizzes[_0x453f45(0x726)](_0x116817=>_0x116817['id']===_0x705ff3);_0x39028e&&(currentQuizData=_0x39028e,startAdminTest());}else{if(_0x53f3eb)actionTargetId=_0x53f3eb[_0x453f45(0x4eb)][_0x453f45(0x7e4)],document[_0x453f45(0x6f5)](_0x453f45(0x1d8))[_0x453f45(0x7ad)]['remove'](_0x453f45(0x180));else{if(_0x1c1d5f)showConfirmation(_0x453f45(0x467)+_0x1c1d5f['dataset'][_0x453f45(0x699)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x1c1d5f[_0x453f45(0x4eb)][_0x453f45(0x7e4)]));else{if(_0x2a0236)handleQuizStatus(_0x2a0236[_0x453f45(0x4eb)][_0x453f45(0x7e4)]);else{if(_0x236b07)handleGenerateEasyVersionQuiz(_0x236b07[_0x453f45(0x4eb)][_0x453f45(0x7e4)]);else _0x1841ed&&showQuizDetailView(_0x1841ed[_0x453f45(0x4eb)][_0x453f45(0x7e4)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x4301de(0xaa4))[_0x4301de(0x2a3)]('click',()=>showView(_0x4301de(0x613))),document[_0x4301de(0x6f5)](_0x4301de(0x2c3))['addEventListener']('click',confirmAndStartTeamQuiz),document[_0x4301de(0x6f5)](_0x4301de(0x2e5))[_0x4301de(0x9ae)](_0x4301de(0x333))[_0x4301de(0x2a3)]('click',_0x59bdf2=>{const _0x52f965=_0x4301de,_0x2219d8=_0x59bdf2[_0x52f965(0x928)][_0x52f965(0x74c)](_0x52f965(0x220));if(!_0x2219d8||!_0x2219d8['dataset']['sort'])return;const _0x2424d8=_0x2219d8[_0x52f965(0x4eb)]['sort'];if(quizLeaderboardSortBy===_0x2424d8)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?'desc':_0x52f965(0x369);else{quizLeaderboardSortBy=_0x2424d8;const _0x1ab820=[_0x52f965(0x241)];quizLeaderboardSortOrder=_0x1ab820[_0x52f965(0x7c6)](_0x2424d8)?_0x52f965(0x369):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x52f965(0x52b));}),document[_0x4301de(0x6f5)](_0x4301de(0xa27))[_0x4301de(0x2a3)](_0x4301de(0x41c),closePresentation),document[_0x4301de(0x6f5)]('prev-question-btn')[_0x4301de(0x2a3)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x4301de(0x6f5)](_0x4301de(0x7ef))[_0x4301de(0x2a3)]('click',()=>{const _0x1e48fa=_0x4301de;currentQuizData[_0x1e48fa(0x4ac)]&&currentPresentationSlide<currentQuizData[_0x1e48fa(0x4ac)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x4301de(0x2a3)]('fullscreenchange',()=>{const _0x117d0f=_0x4301de;!document[_0x117d0f(0x37b)]&&(presentationModal[_0x117d0f(0x317)]['display']=_0x117d0f(0x649));}),document['getElementById'](_0x4301de(0x40f))[_0x4301de(0x2a3)](_0x4301de(0x41c),handleDeleteAllStudents),studentList[_0x4301de(0x2a3)](_0x4301de(0x41c),_0x4df737=>{const _0x4e80a4=_0x4301de,_0xebc2bc=_0x4df737[_0x4e80a4(0x928)][_0x4e80a4(0x74c)]('.delete-student-btn');if(_0xebc2bc){const _0x2274db=_0xebc2bc[_0x4e80a4(0x4eb)][_0x4e80a4(0x241)];handleDeleteStudent(_0x2274db);}}),document[_0x4301de(0x6f5)]('generate-from-file-btn')['addEventListener']('click',handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x4301de(0x466),_0x2cc167=>{const _0x54c1e3=_0x4301de,_0xb7c416=_0x2cc167[_0x54c1e3(0x928)][_0x54c1e3(0x883)][0x0],_0x48e521=document[_0x54c1e3(0x6f5)](_0x54c1e3(0x771));_0xb7c416?(selectedFile=_0xb7c416,_0x48e521['disabled']=![]):(selectedFile=null,_0x48e521[_0x54c1e3(0x8c1)]=!![]);}),document[_0x4301de(0x6f5)]('timer-mode-select')['addEventListener'](_0x4301de(0x466),_0x99f32a=>{const _0x2e4653=_0x4301de,_0x3d8bd2=document[_0x2e4653(0x6f5)](_0x2e4653(0x352)),_0x25765a=document[_0x2e4653(0x6f5)]('timer-duration-label'),_0x231f9e=document[_0x2e4653(0x6f5)](_0x2e4653(0x341));_0x99f32a[_0x2e4653(0x928)][_0x2e4653(0x8c4)]===_0x2e4653(0x649)?_0x3d8bd2[_0x2e4653(0x7ad)]['add'](_0x2e4653(0x180)):(_0x3d8bd2[_0x2e4653(0x7ad)][_0x2e4653(0xac8)](_0x2e4653(0x180)),_0x99f32a[_0x2e4653(0x928)][_0x2e4653(0x8c4)]===_0x2e4653(0x976)?(_0x25765a['textContent']=_0x2e4653(0x9ad),_0x231f9e[_0x2e4653(0x8c4)]='10'):(_0x25765a[_0x2e4653(0x406)]=_0x2e4653(0x851),_0x231f9e[_0x2e4653(0x8c4)]='30'));}),document['getElementById']('quiz-type-select')['addEventListener'](_0x4301de(0x466),_0x331a32=>{const _0x180052=_0x4301de,_0x2630d2=document[_0x180052(0x6f5)](_0x180052(0x236)),_0x448798=_0x331a32[_0x180052(0x928)]['value'],_0x4f218c=document['querySelector']('label[for=\x22num-questions\x22]'),_0x394a72=document['getElementById'](_0x180052(0x646)),_0x1a5013=document[_0x180052(0x6f5)](_0x180052(0xa44));_0x448798===_0x180052(0xa1e)?_0x4f218c[_0x180052(0x406)]=_0x180052(0x68f):_0x4f218c[_0x180052(0x406)]='จำนวนข้อ:',_0x448798===_0x180052(0x9bb)||_0x448798===_0x180052(0x997)||_0x448798===_0x180052(0x5d0)?_0x2630d2[_0x180052(0x7ad)][_0x180052(0xac8)](_0x180052(0x180)):_0x2630d2[_0x180052(0x7ad)]['add'](_0x180052(0x180)),_0x394a72[_0x180052(0x64f)]=_0x1a5013[_0x180052(0x8c4)];}),document[_0x4301de(0x6f5)](_0x4301de(0xa44))[_0x4301de(0x2a3)](_0x4301de(0x28f),_0x1a3f7f=>{const _0x397f48=_0x4301de;document[_0x397f48(0x6f5)](_0x397f48(0x646))['max']=_0x1a3f7f[_0x397f48(0x928)]['value'];}),document[_0x4301de(0x6f5)](_0x4301de(0x399))[_0x4301de(0x2a3)](_0x4301de(0x466),_0x1952e6=>{const _0x1934d2=_0x4301de,_0x11de6c=document[_0x1934d2(0x6f5)](_0x1934d2(0x2e4)),_0x24cf6a=document[_0x1934d2(0x6f5)]('modal-timer-duration-label'),_0x9e52d9=document[_0x1934d2(0x6f5)]('modal-timer-duration-input');_0x1952e6[_0x1934d2(0x928)][_0x1934d2(0x8c4)]===_0x1934d2(0x649)?_0x11de6c[_0x1934d2(0x7ad)]['add']('hidden'):(_0x11de6c[_0x1934d2(0x7ad)][_0x1934d2(0xac8)]('hidden'),_0x1952e6[_0x1934d2(0x928)][_0x1934d2(0x8c4)]===_0x1934d2(0x976)?_0x24cf6a['textContent']=_0x1934d2(0x9ad):_0x24cf6a[_0x1934d2(0x406)]=_0x1934d2(0x851));}),document[_0x4301de(0x6f5)](_0x4301de(0xa3b))['addEventListener'](_0x4301de(0x41c),()=>{const _0x5c60f0=_0x4301de;document[_0x5c60f0(0x6f5)](_0x5c60f0(0x314))[_0x5c60f0(0x7ad)][_0x5c60f0(0x25c)]('hidden');}),document[_0x4301de(0x6f5)]('cancel-quiz-edits-btn-footer')[_0x4301de(0x2a3)]('click',()=>{const _0x5abf87=_0x4301de;document[_0x5abf87(0x6f5)](_0x5abf87(0x314))[_0x5abf87(0x7ad)][_0x5abf87(0x25c)](_0x5abf87(0x180));}),document['getElementById'](_0x4301de(0x974))[_0x4301de(0x2a3)](_0x4301de(0x41c),handleVerifyAnswersInEditor),document[_0x4301de(0x6f5)](_0x4301de(0x603))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x568d7c=_0x4301de;document[_0x568d7c(0x6f5)](_0x568d7c(0x314))['classList'][_0x568d7c(0x25c)]('hidden'),showConfirmation(_0x568d7c(0x629),handleSaveChanges);}),document['getElementById'](_0x4301de(0x3cd))[_0x4301de(0x2a3)]('click',handleAutoFixLatex);const _0x3c7bc9=document[_0x4301de(0x6f5)]('quiz-editor-questions-container');_0x3c7bc9&&_0x3c7bc9['addEventListener'](_0x4301de(0x41c),_0x1198b6=>{const _0x143bda=_0x4301de,_0x3e7c2b=_0x1198b6['target']['closest']('.regenerate-question-editor-btn'),_0xa9ff43=_0x1198b6['target']['closest'](_0x143bda(0x5f7));if(_0x3e7c2b){const _0x3aa939=_0x3e7c2b[_0x143bda(0x74c)](_0x143bda(0x63a)),_0x4621d4=parseInt(_0x3aa939[_0x143bda(0x4eb)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x4621d4);}else{if(_0xa9ff43){const _0x116ca3=_0xa9ff43[_0x143bda(0x74c)]('.question-editor-item'),_0x3a813c=parseInt(_0x116ca3['dataset']['qIndex'],0xa);handleAiFixFormula(_0x3a813c);}}});document[_0x4301de(0x6f5)](_0x4301de(0x810))['addEventListener']('click',openQuizBankModal),document[_0x4301de(0x6f5)](_0x4301de(0x602))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x42d4ab=_0x4301de;document[_0x42d4ab(0x6f5)](_0x42d4ab(0x968))['classList']['add'](_0x42d4ab(0x180));}),document[_0x4301de(0x6f5)](_0x4301de(0x990))[_0x4301de(0x2a3)](_0x4301de(0x28f),_0x4eb400=>renderQuizBankList(_0x4eb400[_0x4301de(0x928)][_0x4301de(0x8c4)]));const _0x445caa=document[_0x4301de(0x6f5)](_0x4301de(0x845));if(_0x445caa){let _0x5d3c8e=null;_0x445caa[_0x4301de(0x2a3)](_0x4301de(0x41c),_0x38aecb=>{const _0xf3c884=_0x4301de,_0x4d300e=_0x38aecb['target'],_0x5a8fe8=_0x4d300e[_0xf3c884(0x74c)](_0xf3c884(0x79b)),_0x587913=_0x4d300e['closest'](_0xf3c884(0x1f1)),_0x1a9729=_0x4d300e[_0xf3c884(0x74c)](_0xf3c884(0x586)),_0x3ff87d=_0x4d300e[_0xf3c884(0x74c)](_0xf3c884(0x4db));if(_0x587913){_0x38aecb[_0xf3c884(0x531)]();const _0xbb7942=_0x587913[_0xf3c884(0x4eb)]['id'],_0xb78b23=_0x587913[_0xf3c884(0x74c)](_0xf3c884(0x69f))[_0xf3c884(0x9ae)](_0xf3c884(0x326))['textContent'];showConfirmation(_0xf3c884(0x6a9)+_0xb78b23+'\x22?',()=>handleDeleteCustomTopic(_0xbb7942));}else{if(_0x5a8fe8){_0x38aecb[_0xf3c884(0x531)]();_0x5d3c8e&&toggleTopicEditMode(_0x5d3c8e,![]);const _0x11a9f2=_0x5a8fe8[_0xf3c884(0x74c)](_0xf3c884(0x9ce));_0x5d3c8e=_0x11a9f2,toggleTopicEditMode(_0x11a9f2,!![]);}else{if(_0x1a9729){_0x38aecb[_0xf3c884(0x531)]();const _0x577c6c=_0x1a9729[_0xf3c884(0x4eb)]['id'],_0x427440=_0x1a9729[_0xf3c884(0x74c)](_0xf3c884(0x9ce)),_0x462ee3=_0x427440[_0xf3c884(0x9ae)](_0xf3c884(0xa82))[_0xf3c884(0x8c4)];handleUpdateCustomTopic(_0x577c6c,_0x462ee3),_0x5d3c8e=null;}else{if(_0x3ff87d){_0x38aecb[_0xf3c884(0x531)]();const _0x7dd294=_0x3ff87d['closest'](_0xf3c884(0x9ce));toggleTopicEditMode(_0x7dd294,![]),_0x5d3c8e=null;}}}}}),document['getElementById'](_0x4301de(0x701))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x5b7c8c=_0x4301de;document['getElementById']('lesson-plan-modal')['classList']['add'](_0x5b7c8c(0x180));}),document[_0x4301de(0x6f5)](_0x4301de(0x722))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x2f9e45=_0x4301de;document['getElementById']('lesson-plan-modal')[_0x2f9e45(0x7ad)][_0x2f9e45(0x25c)](_0x2f9e45(0x180));}),document['getElementById'](_0x4301de(0x966))[_0x4301de(0x2a3)](_0x4301de(0x41c),handleExportLessonPDF);}document[_0x4301de(0x6f5)]('close-comparison-modal-btn')[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x464736=_0x4301de;document[_0x464736(0x6f5)]('comparison-modal')[_0x464736(0x7ad)][_0x464736(0x25c)](_0x464736(0x180));}),document[_0x4301de(0x6f5)](_0x4301de(0x735))[_0x4301de(0x2a3)](_0x4301de(0x41c),()=>{const _0x345559=_0x4301de;document['getElementById'](_0x345559(0x63b))['classList']['add'](_0x345559(0x180));}),setupComparisonModalTabs(),document['body']['addEventListener'](_0x4301de(0x41c),function(_0x34f5f1){const _0x196b86=_0x4301de;if(_0x34f5f1['target'][_0x196b86(0x7ad)][_0x196b86(0x9f7)](_0x196b86(0x9fc))){const _0x1edb17=unescape(_0x34f5f1[_0x196b86(0x928)][_0x196b86(0x4eb)][_0x196b86(0x699)]);startSkillPractice(_0x1edb17);}}),document[_0x4301de(0x6f5)](_0x4301de(0x278))[_0x4301de(0x2a3)](_0x4301de(0x41c),_0x58210b=>{const _0x372f06=_0x4301de,_0x5407a7=_0x58210b[_0x372f06(0x928)][_0x372f06(0x74c)]('.delete-submission-btn');if(_0x5407a7){const _0x2d6b25=_0x5407a7[_0x372f06(0x4eb)][_0x372f06(0x241)];handleDeleteSubmission(_0x2d6b25);}});}async function handleStartGroupMode(_0x5bae31,_0x40e026=![]){const _0x6439ad=_0x599685,_0xd1c333=allQuizzes[_0x6439ad(0x726)](_0x457aba=>_0x457aba['id']===_0x5bae31)||allQuizzesGlobal[_0x6439ad(0x726)](_0x4e351f=>_0x4e351f['id']===_0x5bae31);if(!_0xd1c333){showMessage(_0x6439ad(0x5d4));return;}currentQuizData=getShuffledQuiz(_0xd1c333);const _0x506cec=Math[_0x6439ad(0x919)](0x3e8+Math[_0x6439ad(0x536)]()*0x2328)[_0x6439ad(0x8b5)]();try{const _0x91db5f=await addDoc(collection(db,_0x6439ad(0x3d7)+appId+_0x6439ad(0x386)),{'quizId':_0xd1c333['id'],'projectId':_0xd1c333[_0x6439ad(0x7f1)],'status':_0x6439ad(0x9d0),'pin':_0x506cec,'mode':_0x6439ad(0x608),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x40e026});currentTeamQuizId=_0x91db5f['id'],showView(_0x6439ad(0x40c)),renderAdminTeamQuizDashboard(_0x506cec,_0xd1c333[_0x6439ad(0x699)],_0x6439ad(0x608)),listenForTeamQuizUpdates();}catch(_0x2ef3d4){console[_0x6439ad(0x30a)](_0x6439ad(0x438),_0x2ef3d4),showMessage(_0x6439ad(0x3ca));}}async function showStudentProgressView(){const _0x3a6c05=_0x599685;studentInitialView['classList'][_0x3a6c05(0x25c)](_0x3a6c05(0x180)),document[_0x3a6c05(0x6f5)](_0x3a6c05(0x74b))[_0x3a6c05(0x7ad)]['remove'](_0x3a6c05(0x180));const _0xd9dd91=document['getElementById'](_0x3a6c05(0x92a)),_0xf59d1c=document[_0x3a6c05(0x6f5)](_0x3a6c05(0x2a9)),_0x5c7a83=document[_0x3a6c05(0x6f5)]('student-progress-content');_0x5c7a83[_0x3a6c05(0x88b)]=_0x3a6c05(0x3c3),_0xf59d1c[_0x3a6c05(0x88b)]=_0x3a6c05(0x2b8),_0xf59d1c[_0x3a6c05(0x8c1)]=!![],_0xd9dd91[_0x3a6c05(0x88b)]=_0x3a6c05(0x3b0);if(allProjects[_0x3a6c05(0x5b5)]===0x0){const _0x540ca3=collection(db,_0x3a6c05(0x3d7)+appId+_0x3a6c05(0x581)),_0x1293b8=await getDocs(_0x540ca3);allProjects=_0x1293b8[_0x3a6c05(0x5e9)][_0x3a6c05(0x392)](_0x3437d3=>({'id':_0x3437d3['id'],..._0x3437d3[_0x3a6c05(0x7e5)]()}));}const _0x2ed185=allProjects[_0x3a6c05(0x7c9)](_0xd5c4fc=>_0xd5c4fc[_0x3a6c05(0x549)]?.['showInStudentDashboard']!==![]);_0x2ed185[_0x3a6c05(0xab3)]((_0xe08060,_0x515d0d)=>_0xe08060[_0x3a6c05(0x6e6)][_0x3a6c05(0xa64)](_0x515d0d[_0x3a6c05(0x6e6)],'th')),_0xd9dd91['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x2ed185['map'](_0x4bd037=>_0x3a6c05(0x500)+_0x4bd037['id']+'\x22>'+_0x4bd037[_0x3a6c05(0x6e6)]+'</option>')['join'](''),_0xd9dd91[_0x3a6c05(0x33e)]=()=>{const _0x231574=_0x3a6c05,_0x46feb9=_0xf59d1c[_0x231574(0x8c4)],_0x40b4c4=_0xd9dd91[_0x231574(0x8c4)];_0xf59d1c['disabled']=!![],_0xf59d1c[_0x231574(0x88b)]=_0x231574(0x2b8),_0x5c7a83[_0x231574(0x88b)]=_0x231574(0x80c);if(!_0x40b4c4)return;const _0x3579eb=allProjects['find'](_0x5036ce=>_0x5036ce['id']===_0x40b4c4);if(!_0x3579eb||!_0x3579eb[_0x231574(0x1a6)])return;const _0xccdc44=()=>{const _0x1ed7e6=_0x231574;_0xf59d1c['innerHTML']=_0x1ed7e6(0x2b8)+_0x3579eb['students'][_0x1ed7e6(0x392)](_0x43e79a=>_0x1ed7e6(0x500)+_0x43e79a+'\x22>'+_0x43e79a+_0x1ed7e6(0x4ba))[_0x1ed7e6(0x70f)](''),_0xf59d1c[_0x1ed7e6(0x8c1)]=![];const _0x359e56=Array[_0x1ed7e6(0x189)](_0xf59d1c[_0x1ed7e6(0x5d1)])[_0x1ed7e6(0x392)](_0x36ddc3=>_0x36ddc3[_0x1ed7e6(0x8c4)]);if(_0x46feb9&&_0x359e56['includes'](_0x46feb9))_0xf59d1c['value']=_0x46feb9,_0xf59d1c[_0x1ed7e6(0x27b)](new Event('change'));else _0x3579eb[_0x1ed7e6(0x1a6)][_0x1ed7e6(0x5b5)]===0x1&&(_0xf59d1c['value']=_0x3579eb[_0x1ed7e6(0x1a6)][0x0],_0xf59d1c[_0x1ed7e6(0x27b)](new Event(_0x1ed7e6(0x466))));};if(_0x3579eb[_0x231574(0x549)]?.[_0x231574(0x9cd)]){if(sessionStorage[_0x231574(0x6ac)]('authed_project_'+_0x40b4c4)==='true'){_0xccdc44();return;}const _0xce8c77=document[_0x231574(0x6f5)](_0x231574(0x9be)),_0x193a70=document[_0x231574(0x6f5)]('confirm-passcode-btn'),_0x17d0f0=document[_0x231574(0x6f5)]('cancel-passcode-btn'),_0xa1e7bd=document[_0x231574(0x6f5)](_0x231574(0x17f)),_0x122115=document['getElementById'](_0x231574(0x21f));document['getElementById']('passcode-prompt-message')[_0x231574(0x406)]='สำหรับโปรเจค:\x20'+_0x3579eb[_0x231574(0x6e6)],_0xa1e7bd['value']='',_0x122115['classList']['add'](_0x231574(0x180)),_0xce8c77['classList'][_0x231574(0xac8)](_0x231574(0x180));const _0x2658c3=()=>{const _0x32b7d3=_0x231574,_0x379330=_0xa1e7bd[_0x32b7d3(0x8c4)][_0x32b7d3(0x8cf)]();_0x379330===_0x3579eb['settings'][_0x32b7d3(0x6d7)]?(sessionStorage['setItem'](_0x32b7d3(0x18e)+_0x40b4c4,_0x32b7d3(0x630)),_0xce8c77['classList'][_0x32b7d3(0x25c)](_0x32b7d3(0x180)),_0xccdc44(),_0x193a70[_0x32b7d3(0x56e)](_0x32b7d3(0x41c),_0x2658c3)):_0x122115[_0x32b7d3(0x7ad)][_0x32b7d3(0xac8)](_0x32b7d3(0x180));};_0x193a70['onclick']=_0x2658c3,_0x17d0f0['onclick']=()=>{const _0x4af8c8=_0x231574;_0xce8c77['classList'][_0x4af8c8(0x25c)](_0x4af8c8(0x180)),_0xd9dd91[_0x4af8c8(0x8c4)]='',_0x193a70[_0x4af8c8(0x56e)](_0x4af8c8(0x41c),_0x2658c3);};}else _0xccdc44();},_0xf59d1c['onchange']=()=>{const _0x47a781=_0x3a6c05,_0x2400a5=_0xd9dd91['value'],_0x4d2c1e=_0xf59d1c[_0x47a781(0x8c4)];_0x2400a5&&_0x4d2c1e&&renderStudentProgressDashboard(_0x2400a5,_0x4d2c1e);};}async function confirmAndJoinSyncGame(){const _0x26963c=_0x599685,_0x1e57a6=Array[_0x26963c(0x189)](document['querySelectorAll']('input[name=\x22team_player\x22]:checked'))[_0x26963c(0x392)](_0x4584a9=>_0x4584a9[_0x26963c(0x8c4)]);if(_0x1e57a6[_0x26963c(0x5b5)]===0x0){showMessage(_0x26963c(0x789));return;}localTeamPlayers=_0x1e57a6,localPlayerTurnIndex=0x0;const _0x38f47d=doc(db,'artifacts/'+appId+_0x26963c(0x3c7),currentLiveGameId);try{const _0x12dbda=await getDoc(_0x38f47d);if(!_0x12dbda[_0x26963c(0x478)]())throw new Error(_0x26963c(0x615));const _0x198666=_0x12dbda[_0x26963c(0x7e5)]()['players']||{};_0x1e57a6['forEach'](_0x55a314=>{const _0x4fa4ff=_0x26963c;!_0x198666[_0x55a314]&&(_0x198666[_0x55a314]={'name':_0x55a314,'score':0x0,'answered':![],'status':_0x4fa4ff(0x825)});}),await updateDoc(_0x38f47d,{'players':_0x198666}),document['getElementById'](_0x26963c(0x19f))[_0x26963c(0x7ad)][_0x26963c(0x25c)](_0x26963c(0x180)),currentStudentName=_0x1e57a6[0x0],listenForSyncGameUpdates();const _0x3211d8={'gameId':currentLiveGameId,'mode':_0x26963c(0x1f0),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x26963c(0x5ce)](_0x26963c(0x2b6),JSON['stringify'](_0x3211d8));}catch(_0x3adf42){console['error'](_0x26963c(0x200),_0x3adf42),showMessage(_0x26963c(0x5d2));}}async function resumeActiveGameSession(){const _0x3c562a=_0x599685,_0x3c5e11=sessionStorage[_0x3c562a(0x6ac)]('activeGameSession');if(!_0x3c5e11)return;const _0x352b6b=JSON['parse'](_0x3c5e11),{gameId:_0x54324e,mode:_0x4c9f58,players:_0x451b2b,turnIndex:_0x2df2f0}=_0x352b6b;try{let _0x36863a,_0x260423;_0x4c9f58==='sync'?_0x36863a=doc(db,_0x3c562a(0x3d7)+appId+'/public/data/syncGames',_0x54324e):_0x36863a=doc(db,_0x3c562a(0x3d7)+appId+_0x3c562a(0x386),_0x54324e);_0x260423=await getDoc(_0x36863a);if(!_0x260423[_0x3c562a(0x478)]()||_0x260423[_0x3c562a(0x7e5)]()[_0x3c562a(0x800)]===_0x3c562a(0x3e4)||_0x260423[_0x3c562a(0x7e5)]()[_0x3c562a(0x800)]===_0x3c562a(0x71a)){sessionStorage[_0x3c562a(0x363)]('activeGameSession');return;}console['log'](_0x3c562a(0x900)+_0x4c9f58+_0x3c562a(0x567)+_0x54324e+')'),localTeamPlayers=_0x451b2b,localPlayerTurnIndex=_0x2df2f0;if(_0x4c9f58===_0x3c562a(0x1f0))currentLiveGameId=_0x54324e,currentStudentName=_0x451b2b[0x0],showView(_0x3c562a(0x40c)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x54324e;const _0x13aff6=_0x260423[_0x3c562a(0x7e5)](),_0x361644=doc(db,'artifacts/'+appId+_0x3c562a(0x198),_0x13aff6['quizId']),_0xebf67b=await getDoc(_0x361644);_0xebf67b[_0x3c562a(0x478)]()&&(currentQuizData=getShuffledQuiz({'id':_0xebf67b['id'],..._0xebf67b[_0x3c562a(0x7e5)]()}),showView(_0x3c562a(0x613)),studentInitialView[_0x3c562a(0x7ad)][_0x3c562a(0x25c)]('hidden'),renderTeamQuizQuestion());}}catch(_0x257483){console[_0x3c562a(0x30a)]('Failed\x20to\x20resume\x20game\x20session:',_0x257483),sessionStorage[_0x3c562a(0x363)](_0x3c562a(0x2b6));}}async function handleKickPlayerSync(_0x50392c){const _0x205751=_0x599685;if(!currentLiveGameId||!_0x50392c)return;const _0xe6bbf8=doc(db,_0x205751(0x3d7)+appId+'/public/data/syncGames',currentLiveGameId),_0x130d9c={};_0x130d9c[_0x205751(0x7e6)+_0x50392c+'.status']='inactive';try{await updateDoc(_0xe6bbf8,_0x130d9c);}catch(_0x13819a){console[_0x205751(0x30a)](_0x205751(0x917)+_0x50392c+_0x205751(0x7ec),_0x13819a),showMessage(_0x205751(0x4d1));}}async function renderStudentProgressDashboard(_0x310216,_0x3e74fa){const _0x2fe1aa=_0x599685,_0x55a01b=document[_0x2fe1aa(0x6f5)](_0x2fe1aa(0x1c6));_0x55a01b[_0x2fe1aa(0x88b)]=_0x2fe1aa(0x436);try{const _0x212b37=collection(db,_0x2fe1aa(0x3d7)+appId+'/public/data/quizzes'),_0x2705ed=query(_0x212b37,where(_0x2fe1aa(0x7f1),'==',_0x310216)),_0x51728b=await getDocs(_0x2705ed),_0xc1fd12=_0x51728b[_0x2fe1aa(0x5e9)]['map'](_0x43833d=>({'id':_0x43833d['id'],..._0x43833d['data']()})),_0x23eedc=_0xc1fd12[_0x2fe1aa(0x392)](_0x4622c8=>getDoc(doc(db,_0x2fe1aa(0x3d7)+appId+_0x2fe1aa(0x754)+_0x4622c8['id']+_0x2fe1aa(0x98a),_0x3e74fa))),_0x799620=await Promise[_0x2fe1aa(0xa60)](_0x23eedc),_0x115df5=_0x799620['filter'](_0x1dde31=>_0x1dde31['exists']())[_0x2fe1aa(0x392)](_0x13f8e4=>({'quizId':_0x13f8e4[_0x2fe1aa(0x609)][_0x2fe1aa(0x65e)][_0x2fe1aa(0x65e)]['id'],..._0x13f8e4['data']()}));if(_0x115df5[_0x2fe1aa(0x5b5)]===0x0){_0x55a01b[_0x2fe1aa(0x88b)]=_0x2fe1aa(0x7d3);return;}let _0x2552c6='<div\x20class=\x22space-y-4\x22>';_0x115df5['forEach'](_0x51c5f0=>{const _0x1d73ca=_0x2fe1aa,_0x168225=_0xc1fd12[_0x1d73ca(0x726)](_0x203bcd=>_0x203bcd['id']===_0x51c5f0[_0x1d73ca(0x7e4)]),_0x3d3fad=_0x168225[_0x1d73ca(0x549)]?.[_0x1d73ca(0x441)]||_0x1d73ca(0x1fe),_0x5b45d8=_0x168225[_0x1d73ca(0x549)]?.[_0x1d73ca(0x823)]??0x0,_0xd2eec6=_0x51c5f0[_0x1d73ca(0x1b9)]>=_0x5b45d8;let _0x2fdc22='',_0x4eac65=_0x1d73ca(0x39f);switch(_0x3d3fad){case _0x1d73ca(0x1fe):case'show_results_only':_0x4eac65=_0xd2eec6?'bg-green-50':'bg-red-50',_0x2fdc22=_0x1d73ca(0x25d)+(_0xd2eec6?_0x1d73ca(0x5b8):'text-red-700')+'\x22>'+_0x51c5f0['bestScore']+_0x1d73ca(0x660)+_0x51c5f0[_0x1d73ca(0x39e)]+_0x1d73ca(0x2d5)+(_0xd2eec6?_0x1d73ca(0xa9f):_0x1d73ca(0x855))+'\x22>'+(_0xd2eec6?_0x1d73ca(0x6dd):_0x1d73ca(0x9c6))+_0x1d73ca(0xac1);break;case _0x1d73ca(0xaa5):_0x4eac65=_0xd2eec6?'bg-green-50':_0x1d73ca(0x935),_0x2fdc22=_0x1d73ca(0x355)+(_0xd2eec6?'bg-green-200\x20text-green-800':_0x1d73ca(0x855))+'\x22>'+(_0xd2eec6?_0x1d73ca(0x6dd):_0x1d73ca(0x9c6))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1d73ca(0x72f):_0x4eac65=_0x1d73ca(0x88f),_0x2fdc22=_0x1d73ca(0x71e);break;}_0x2552c6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x4eac65+_0x1d73ca(0x8a2)+_0x168225[_0x1d73ca(0x699)]+_0x1d73ca(0xa97)+_0x51c5f0[_0x1d73ca(0x42d)]['length']+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x51c5f0[_0x1d73ca(0x9c2)])[_0x1d73ca(0x9bd)](_0x1d73ca(0xa08))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2fdc22+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2552c6+=_0x2fe1aa(0x6ab),_0x55a01b['innerHTML']=_0x2552c6;}catch(_0x315bff){console['error']('Error\x20rendering\x20student\x20progress:',_0x315bff),_0x55a01b['innerHTML']=_0x2fe1aa(0x720);}}function setupStudentProgressListeners(){const _0x1da096=_0x599685;document['getElementById'](_0x1da096(0xab5))['addEventListener'](_0x1da096(0x41c),showStudentProgressView),document[_0x1da096(0x6f5)](_0x1da096(0x98f))[_0x1da096(0x2a3)](_0x1da096(0x41c),()=>{const _0x24b7c9=_0x1da096;document[_0x24b7c9(0x6f5)](_0x24b7c9(0x74b))['classList'][_0x24b7c9(0x25c)]('hidden'),document[_0x24b7c9(0x6f5)]('student-initial-view')[_0x24b7c9(0x7ad)]['remove'](_0x24b7c9(0x180));});}async function startSkillPractice(_0x56c0c6){const _0x1718b0=_0x599685;studentResultArea['classList'][_0x1718b0(0x25c)](_0x1718b0(0x180)),studentQuizArea[_0x1718b0(0x88b)]=_0x1718b0(0x943),studentQuizArea[_0x1718b0(0x7ad)][_0x1718b0(0xac8)](_0x1718b0(0x180));try{const _0x585bdc=await getStandardizedTopic(_0x56c0c6);console[_0x1718b0(0x8af)](_0x1718b0(0x46a)+_0x56c0c6+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x585bdc+'\x22'),studentQuizArea['querySelector']('p')[_0x1718b0(0x406)]=_0x1718b0(0x6e2)+_0x585bdc+_0x1718b0(0x7bd);const _0x308a4f=collection(db,_0x1718b0(0x3d7)+appId+_0x1718b0(0x40d)),_0x5dfaf1=query(_0x308a4f,where(_0x1718b0(0x699),'==',_0x585bdc)),_0x2f86d1=await getDocs(_0x5dfaf1);if(_0x2f86d1['docs']['length']>=0x3){console['log'](_0x1718b0(0x41b)+_0x2f86d1[_0x1718b0(0x5e9)][_0x1718b0(0x5b5)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x585bdc+_0x1718b0(0x841));let _0x19f29a=_0x2f86d1[_0x1718b0(0x5e9)][_0x1718b0(0x392)](_0x25e23d=>_0x25e23d[_0x1718b0(0x7e5)]());shuffleArray(_0x19f29a);const _0x489553={'topic':_0x585bdc,'questions':_0x19f29a[_0x1718b0(0x804)](0x0,0x3)};displaySkillPracticeDrill(_0x489553);}else{console[_0x1718b0(0x8af)](_0x1718b0(0x591)+_0x585bdc+_0x1718b0(0x662));const _0x3099b2=await generatePracticeQuestions(_0x585bdc);await saveDrillToPracticeBank(_0x3099b2,_0x585bdc),displaySkillPracticeDrill(_0x3099b2);}}catch(_0x16fef2){console['error'](_0x1718b0(0x535),_0x16fef2),showMessage(_0x1718b0(0xa9d)),studentQuizArea[_0x1718b0(0x7ad)][_0x1718b0(0x25c)](_0x1718b0(0x180)),studentResultArea[_0x1718b0(0x7ad)]['remove'](_0x1718b0(0x180));}}async function saveDrillToPracticeBank(_0x5846c9,_0x5bcb3c){const _0x2da458=_0x599685,_0x592152=collection(db,'artifacts/'+appId+_0x2da458(0x40d)),_0x174f80=writeBatch(db);_0x5846c9[_0x2da458(0x4ac)][_0x2da458(0x24d)](_0x5103be=>{const _0x45a2b6=_0x2da458,_0x55f635=doc(_0x592152);_0x174f80[_0x45a2b6(0x3dc)](_0x55f635,{'topic':_0x5bcb3c,'questionText':_0x5103be[_0x45a2b6(0x4ed)],'options':_0x5103be['options'],'correctAnswerIndex':_0x5103be['correctAnswerIndex'],'explanation':_0x5103be['explanation'],'createdAt':serverTimestamp()});});try{await _0x174f80['commit'](),console['log'](_0x2da458(0x776)+_0x5846c9['questions'][_0x2da458(0x5b5)]+_0x2da458(0x374));}catch(_0x226462){console[_0x2da458(0x30a)](_0x2da458(0x1c3),_0x226462);}}async function getStandardizedTopic(_0x29727c){const _0x498799=_0x599685,_0x157efc=_0x498799(0xac0)+_0x29727c+_0x498799(0x339),_0x10ee6e={'type':_0x498799(0x284),'properties':{'standardTopic':{'type':_0x498799(0x89b)}},'required':[_0x498799(0x19e)]};try{const _0x409132=await callAnalysisApi(_0x157efc,_0x10ee6e);return _0x409132[_0x498799(0x19e)];}catch(_0x4a0de6){return console[_0x498799(0x30a)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x4a0de6),_0x29727c;}}async function handleGenerateEasyVersionQuiz(_0x28af7d){const _0x25fe97=_0x599685,_0x386e74=document[_0x25fe97(0x6f5)](_0x25fe97(0x8dc)),_0x19ac03=document[_0x25fe97(0x6f5)](_0x25fe97(0x621));_0x19ac03[_0x25fe97(0x7ad)]['add'](_0x25fe97(0x180));const _0xebb4a3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x386e74[_0x25fe97(0x647)](_0x25fe97(0x29d),_0xebb4a3);try{const _0x3688e9=allQuizzes[_0x25fe97(0x726)](_0xd162e6=>_0xd162e6['id']===_0x28af7d);if(!_0x3688e9)throw new Error(_0x25fe97(0x9e1));const _0x24b126=_0x25fe97(0xa4b)+JSON['stringify'](_0x3688e9['questions'])+_0x25fe97(0x948),_0x3d0c4f={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x25fe97(0x89b)},'options':{'type':'ARRAY','items':{'type':_0x25fe97(0x89b)}},'correctAnswerIndex':{'type':_0x25fe97(0x601)},'idealAnswer':{'type':_0x25fe97(0x89b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x25fe97(0x89b)}},'required':[_0x25fe97(0x4ed),_0x25fe97(0x5e5),_0x25fe97(0x7c2)]},_0x5b1e06={'type':_0x25fe97(0x284),'properties':{'questions':{'type':_0x25fe97(0xa25),'items':_0x3d0c4f}},'required':[_0x25fe97(0x4ac)]},_0x179f4a=await callAnalysisApi(_0x24b126,_0x5b1e06);_0x179f4a&&_0x179f4a['questions']&&_0x179f4a['questions']['forEach'](_0x28e1c2=>{const _0x475bf8=_0x25fe97;if(_0x28e1c2['hasOwnProperty'](_0x475bf8(0x248))){const _0x54d0dc=String(_0x28e1c2[_0x475bf8(0x248)])[_0x475bf8(0x8cf)]();(_0x54d0dc===''||_0x54d0dc['toLowerCase']()==='null'||!_0x54d0dc[_0x475bf8(0x56b)]('<svg'))&&delete _0x28e1c2[_0x475bf8(0x248)];}});if(!_0x179f4a||!_0x179f4a[_0x25fe97(0x4ac)]||_0x179f4a[_0x25fe97(0x4ac)]['length']===0x0)throw new Error(_0x25fe97(0x732));const _0x4aeccd=_0x179f4a['questions'][_0x25fe97(0x392)]((_0x34d41f,_0x322cd4)=>({..._0x34d41f,'id':'q_'+Date[_0x25fe97(0x32f)]()+'_'+_0x322cd4})),_0xd77472={'projectId':_0x3688e9[_0x25fe97(0x7f1)],'quizType':_0x3688e9[_0x25fe97(0x1a3)],'settings':_0x3688e9[_0x25fe97(0x549)],'createdBy':_0x3688e9[_0x25fe97(0x540)],'status':_0x25fe97(0x825),'topic':_0x25fe97(0x445)+_0x3688e9['topic'],'questions':_0x4aeccd,'createdAt':new Date()[_0x25fe97(0x73f)](),'quizMode':'standard','pairedQuizId':null};let _0x161c17;while(!![]){_0x161c17=Math[_0x25fe97(0x919)](0x3e8+Math[_0x25fe97(0x536)]()*0x2328)[_0x25fe97(0x8b5)]();const _0x7d66a4=await getDoc(doc(db,_0x25fe97(0x3d7)+appId+_0x25fe97(0x198),_0x161c17));if(!_0x7d66a4[_0x25fe97(0x478)]())break;}await setDoc(doc(db,_0x25fe97(0x3d7)+appId+_0x25fe97(0x198),_0x161c17),_0xd77472),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x19eb7d){console[_0x25fe97(0x30a)](_0x25fe97(0x72a),_0x19eb7d),showMessage(_0x25fe97(0x859)+_0x19eb7d[_0x25fe97(0x1fc)]);}finally{const _0x35773d=document[_0x25fe97(0x6f5)](_0x25fe97(0x652));_0x35773d&&_0x35773d[_0x25fe97(0xac8)](),_0x19ac03['classList'][_0x25fe97(0xac8)](_0x25fe97(0x180));}}async function generatePracticeQuestions(_0x4fb906){const _0x5332de=_0x599685,_0xdab134=_0x5332de(0x2b3)+_0x4fb906+_0x5332de(0x210)+simpleMathPrompt+_0x5332de(0x26f),_0x329298={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5332de(0xa25),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5332de(0x601)},'explanation':{'type':_0x5332de(0x89b)}},'required':[_0x5332de(0x4ed),_0x5332de(0x5d1),_0x5332de(0x5db),_0x5332de(0x7c2)]},_0x74d0ca={'type':_0x5332de(0x284),'properties':{'topic':{'type':_0x5332de(0x89b)},'questions':{'type':_0x5332de(0xa25),'items':_0x329298}},'required':[_0x5332de(0x699),_0x5332de(0x4ac)]};return await callAnalysisApi(_0xdab134,_0x74d0ca);}function displayLessonPlan(_0x37ceb2,_0x474296){const _0x52b171=_0x599685,_0x3a1ca3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x474296[_0x52b171(0x699)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x37ceb2[_0x52b171(0x8c6)][_0x52b171(0x392)](_0x47b85e=>_0x52b171(0x71f)+_0x47b85e+'</li>')['join']('')+_0x52b171(0x5aa)+_0x37ceb2[_0x52b171(0x308)]+_0x52b171(0x645)+_0x37ceb2[_0x52b171(0x711)]['map'](_0x2ac2fb=>_0x52b171(0x52f)+_0x2ac2fb[_0x52b171(0x749)]+_0x52b171(0x390)+_0x2ac2fb[_0x52b171(0x2f3)]+_0x52b171(0x76b))[_0x52b171(0x70f)]('')+_0x52b171(0x2d2);document[_0x52b171(0x6f5)](_0x52b171(0x93d))[_0x52b171(0x406)]=_0x52b171(0x94d)+_0x474296['topic'],document[_0x52b171(0x6f5)](_0x52b171(0x751))[_0x52b171(0x88b)]=_0x3a1ca3,document[_0x52b171(0x6f5)](_0x52b171(0x36d))[_0x52b171(0x7ad)]['remove'](_0x52b171(0x180));if(window[_0x52b171(0x4dd)])MathJax[_0x52b171(0x908)]();}function displaySkillPracticeDrill(_0x1814ee){const _0x1bfa1b=_0x599685;let _0x21cca5=0x0;const _0x3ca999=_0x1814ee[_0x1bfa1b(0x4ac)],_0x118283=()=>{const _0x158029=_0x1bfa1b,_0x56933d=_0x3ca999[_0x21cca5],_0x16a014=_0x158029(0x64a)+(_0x21cca5+0x1)+_0x158029(0x660)+_0x3ca999[_0x158029(0x5b5)]+_0x158029(0x622)+_0x56933d[_0x158029(0x4ed)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56933d['options']['map']((_0x284735,_0x5de61d)=>_0x158029(0x4f8)+_0x5de61d+_0x158029(0x727)+_0x5de61d+_0x158029(0x8b1)+_0x5de61d+'\x22>'+_0x284735+_0x158029(0x9ef))[_0x158029(0x70f)]('')+_0x158029(0x36c);studentQuizArea['innerHTML']=_0x16a014;if(window[_0x158029(0x4dd)])MathJax[_0x158029(0x908)]([studentQuizArea]);document['getElementById'](_0x158029(0x1b3))[_0x158029(0x2a3)](_0x158029(0x41c),async()=>{const _0x13faca=await getHintForQuestion(_0x56933d['questionText']);showMessage(_0x13faca);}),document[_0x158029(0x6f5)]('check-answer-btn')[_0x158029(0x2a3)]('click',()=>{const _0x55c20a=_0x158029,_0x1ec29d=document[_0x55c20a(0x9ae)](_0x55c20a(0x795));if(!_0x1ec29d){showMessage(_0x55c20a(0x1bd));return;}const _0x2310d0=document[_0x55c20a(0x6f5)]('drill-feedback'),_0x28ca8b=parseInt(_0x1ec29d[_0x55c20a(0x8c4)])===_0x56933d[_0x55c20a(0x5db)];_0x28ca8b?(_0x2310d0['className']=_0x55c20a(0x4c4),_0x2310d0[_0x55c20a(0x88b)]=_0x55c20a(0x60a)+_0x56933d['explanation']):(_0x2310d0[_0x55c20a(0x45e)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x2310d0[_0x55c20a(0x88b)]=_0x55c20a(0xa87)+_0x56933d[_0x55c20a(0x7c2)]);_0x2310d0[_0x55c20a(0x7ad)]['remove'](_0x55c20a(0x180));if(window[_0x55c20a(0x4dd)])MathJax[_0x55c20a(0x908)]([_0x2310d0]);document[_0x55c20a(0x6f5)](_0x55c20a(0x7a3))[_0x55c20a(0x7ad)][_0x55c20a(0x25c)](_0x55c20a(0x180)),document[_0x55c20a(0x6f5)](_0x55c20a(0x1b3))['classList']['add'](_0x55c20a(0x180)),document['getElementById'](_0x55c20a(0x23b))[_0x55c20a(0x7ad)][_0x55c20a(0xac8)](_0x55c20a(0x180));}),document[_0x158029(0x6f5)](_0x158029(0x23b))[_0x158029(0x2a3)](_0x158029(0x41c),()=>{const _0x2d1a81=_0x158029;_0x21cca5++,_0x21cca5<_0x3ca999[_0x2d1a81(0x5b5)]?_0x118283():(studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x2d1a81(0x6f5)](_0x2d1a81(0x6df))[_0x2d1a81(0x2a3)]('click',()=>{const _0x11be21=_0x2d1a81;studentQuizArea[_0x11be21(0x7ad)][_0x11be21(0x25c)](_0x11be21(0x180)),studentResultArea[_0x11be21(0x7ad)]['remove'](_0x11be21(0x180));}));});};_0x118283();}async function getHintForQuestion(_0x366de4){const _0x5749cb=_0x599685,_0xc4b75e='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x366de4+_0x5749cb(0x4bf),_0x5cd124={'type':_0x5749cb(0x284),'properties':{'hint':{'type':_0x5749cb(0x89b)}},'required':[_0x5749cb(0x2ad)]};try{const _0x215ef3=await callAnalysisApi(_0xc4b75e,_0x5cd124);return _0x215ef3[_0x5749cb(0x2ad)];}catch(_0xf465a7){return console[_0x5749cb(0x30a)]('Failed\x20to\x20get\x20hint:',_0xf465a7),_0x5749cb(0x8b3);}}async function extractTextFromPdf(_0x318fda){const _0x1b4393=_0x599685;pdfjsLib[_0x1b4393(0x99a)][_0x1b4393(0x5cc)]=_0x1b4393(0x95c);const _0x25117e=await _0x318fda[_0x1b4393(0x461)](),_0x45ee4f=await pdfjsLib[_0x1b4393(0x5a9)](_0x25117e)[_0x1b4393(0x7b1)],_0x362f7f=_0x45ee4f['numPages'];let _0x5ca361='';for(let _0x260283=0x1;_0x260283<=_0x362f7f;_0x260283++){const _0x44ef44=await _0x45ee4f[_0x1b4393(0xaa6)](_0x260283),_0x4dea2f=await _0x44ef44[_0x1b4393(0x225)](),_0x17fd08=_0x4dea2f[_0x1b4393(0x95e)]['map'](_0x3e45c7=>_0x3e45c7[_0x1b4393(0x7c0)])[_0x1b4393(0x70f)]('\x20');_0x5ca361+=_0x17fd08+'\x0a\x0a';}return _0x5ca361;}async function handleGenerateFromBlueprint(){const _0x1226da=_0x599685,_0x2724ae=document[_0x1226da(0x6f5)](_0x1226da(0x6af)),_0x27e6cc=document[_0x1226da(0x6f5)](_0x1226da(0x504)),_0x2ae3ee=_0x2724ae[_0x1226da(0x883)][0x0],_0x489d3b=_0x27e6cc[_0x1226da(0x883)][_0x1226da(0x5b5)]>0x0?_0x27e6cc[_0x1226da(0x883)][0x0]:null;if(!_0x2ae3ee){showMessage(_0x1226da(0x69c));return;}const _0x139b53=document[_0x1226da(0x6f5)](_0x1226da(0x1c4)),_0x28e829=document[_0x1226da(0x6f5)](_0x1226da(0x9dd)),_0xa31b93=document[_0x1226da(0x6f5)](_0x1226da(0xa48)),_0x51559c=document[_0x1226da(0x6f5)](_0x1226da(0x268));_0x51559c[_0x1226da(0x8c1)]=!![],document['getElementById'](_0x1226da(0x704))['classList'][_0x1226da(0xac8)](_0x1226da(0x180)),_0xa31b93[_0x1226da(0x88b)]='',_0x139b53[_0x1226da(0x7ad)][_0x1226da(0xac8)](_0x1226da(0x180));try{_0x28e829[_0x1226da(0x406)]='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0x37e41a=await extractTextFromPdf(_0x2ae3ee);if(!_0x37e41a[_0x1226da(0x8cf)]())throw new Error(_0x1226da(0xa63));let _0x357bde='';_0x489d3b&&(_0x28e829[_0x1226da(0x406)]=_0x1226da(0x67c),_0x357bde=await extractTextFromPdf(_0x489d3b));_0x28e829['textContent']='วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...';const _0x2067be=document[_0x1226da(0x6f5)]('include-images-checkbox')[_0x1226da(0x788)],_0x591ce1=_0x2067be?_0x1226da(0x7e3):'',_0x2d8be4=_0x357bde?_0x1226da(0x687)+_0x357bde+_0x1226da(0xa73):'',_0x14de47=_0x1226da(0x986)+(_0x357bde?'2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ':'')+_0x1226da(0xa2d)+_0x37e41a+_0x1226da(0xa73)+_0x2d8be4+_0x1226da(0x96c)+_0x591ce1+_0x1226da(0x37d)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x244fb4={'type':_0x1226da(0x284),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x1226da(0x89b),'enum':['multiple_choice',_0x1226da(0x7ff)]},'options':{'type':_0x1226da(0xa25),'items':{'type':_0x1226da(0x89b)}},'correctAnswerIndex':{'type':_0x1226da(0x601)},'idealAnswer':{'type':_0x1226da(0x89b)},'explanation':{'type':_0x1226da(0x89b)},'imageCode':{'type':_0x1226da(0x89b)}},'required':[_0x1226da(0x4ed),_0x1226da(0x5e5),_0x1226da(0x7c2)]},_0x45282a={'type':_0x1226da(0x284),'properties':{'topic':{'type':_0x1226da(0x89b)},'questions':{'type':'ARRAY','items':_0x244fb4}},'required':[_0x1226da(0x699),_0x1226da(0x4ac)]};await handleApiCall(_0x14de47,'กำลังสร้างแบบทดสอบจาก\x20Blueprint...',_0x45282a);}catch(_0x95ca15){console[_0x1226da(0x30a)]('Error\x20generating\x20from\x20blueprint:',_0x95ca15),showMessage(_0x1226da(0x859)+_0x95ca15[_0x1226da(0x1fc)]),_0xa31b93[_0x1226da(0x88b)]=_0x1226da(0x5d7);}finally{_0x139b53[_0x1226da(0x7ad)]['add'](_0x1226da(0x180)),_0x51559c[_0x1226da(0x8c1)]=![];}}function proceedToNextQuestion(_0x33bd57){const _0x562cd7=_0x599685;studentAnswersPerQuestion[_0x562cd7(0x6a1)](_0x33bd57),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x562cd7(0x5b5)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x52494e,_0x52eab4){const _0x4fcc21=_0x599685,_0x20b443=Object[_0x4fcc21(0x7d0)](_0x52494e['players']||{}),_0x4570fa=_0x20b443[_0x4fcc21(0x5b5)],_0x5e07c9=[..._0x20b443][_0x4fcc21(0xab3)]((_0x574eea,_0x1e7f4f)=>_0x1e7f4f['score']-_0x574eea[_0x4fcc21(0x9df)]),_0x127164=_0x52494e[_0x4fcc21(0x62a)];let _0x37708a='';const _0x22f6b6=_0x52494e['shuffledQuiz'][_0x4fcc21(0x4ac)],_0x3318d6=_0x22f6b6[_0x127164],_0x48c673=_0x105fa4=>String[_0x4fcc21(0x66d)](0x41+_0x105fa4);let _0x5edb03='',_0x1fe265='';if(_0x3318d6){const _0x47dd3c=_0x3318d6[_0x4fcc21(0x5e5)]||_0x52494e['shuffledQuiz'][_0x4fcc21(0x1a3)];if(_0x47dd3c===_0x4fcc21(0x9bb)&&_0x3318d6['options']&&_0x3318d6[_0x4fcc21(0x5db)]!==undefined){const _0x18dd24=_0x3318d6[_0x4fcc21(0x5db)];_0x5edb03=_0x3318d6[_0x4fcc21(0x5d1)][_0x18dd24],_0x1fe265=_0x48c673(_0x18dd24)+'.';}else{if(_0x47dd3c===_0x4fcc21(0x932)){const _0x2c96b5=_0x3318d6['correctAnswer']===!![]||String(_0x3318d6[_0x4fcc21(0xa0b)])[_0x4fcc21(0x607)]()===_0x4fcc21(0x630);_0x2c96b5?(_0x5edb03='ใช่\x20/\x20ถูก',_0x1fe265='ก.'):(_0x5edb03=_0x4fcc21(0x88e),_0x1fe265='ข.');}else{if(_0x47dd3c===_0x4fcc21(0x228))_0x5edb03=_0x3318d6['correctResponse']||'-',_0x1fe265='';else _0x47dd3c==='short_answer'&&(_0x5edb03=_0x3318d6[_0x4fcc21(0xa6e)]||'-',_0x1fe265='');}}}_0x5edb03&&(_0x37708a=_0x4fcc21(0x7f9)+(_0x127164+0x1)+_0x4fcc21(0x592)+_0x1fe265+'\x20'+_0x5edb03+_0x4fcc21(0xa00));const _0x48795b=_0x5e07c9[_0x4fcc21(0x392)](_0x26e7d5=>{const _0x345f86=_0x4fcc21;let _0x317563=![];if(_0x26e7d5['answers']&&_0x127164!==-0x1){const _0x539d5c=_0x26e7d5[_0x345f86(0xa62)][_0x345f86(0x726)](_0x3a95ef=>_0x3a95ef[_0x345f86(0x9c4)]===_0x127164);_0x539d5c&&_0x539d5c['isCorrect']&&(_0x317563=!![]);}const _0xaec3f3=_0x317563?_0x345f86(0x43c):_0x345f86(0x596);return _0x345f86(0x89e)+_0xaec3f3+_0x345f86(0x6d0)+_0x26e7d5[_0x345f86(0x472)]+_0x345f86(0x2bf)+_0x26e7d5[_0x345f86(0x9df)]+_0x345f86(0xa0d);})[_0x4fcc21(0x70f)](''),_0x13d780=_0x22f6b6[_0x4fcc21(0x392)]((_0x117571,_0xeb9471)=>{const _0x16a82c=_0x4fcc21,_0x3b6ec6=_0x20b443['filter'](_0x374b54=>_0x374b54[_0x16a82c(0xa62)]&&_0x374b54[_0x16a82c(0xa62)][_0x16a82c(0x726)](_0x5acd2a=>_0x5acd2a[_0x16a82c(0x9c4)]===_0xeb9471&&_0x5acd2a[_0x16a82c(0x635)]))['length'],_0x544941=_0xeb9471===_0x127164,_0x3e9bf0=_0x544941?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x16a82c(0x925);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x3e9bf0+_0x16a82c(0x9c9)+(_0xeb9471+0x1)+_0x16a82c(0x541)+_0x3b6ec6+'\x20/\x20'+_0x4570fa+_0x16a82c(0x77c);})[_0x4fcc21(0x70f)]('');let _0x49a15e='',_0xc0264e='';if(_0x52eab4){const _0x5219cb=_0x52494e['currentQuestionIndex']>=_0x22f6b6[_0x4fcc21(0x5b5)]-0x1;_0x49a15e='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>'+(_0x5219cb?'ดูผลสรุปสุดท้าย':_0x4fcc21(0x87f))+_0x4fcc21(0x412),_0xc0264e=_0x4fcc21(0xa8f);}const _0x4735f7=_0x4fcc21(0x7a5)+_0x52494e['shuffledQuiz']['topic']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc0264e+_0x4fcc21(0x958)+_0x37708a+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x48795b||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x4fcc21(0x8f0)+_0x13d780+_0x4fcc21(0x4a4)+(_0x52eab4?_0x4fcc21(0x3d2)+_0x49a15e+_0x4fcc21(0x6ab):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4fcc21(0x88b)]=_0x4735f7;if(window[_0x4fcc21(0x4dd)]){const _0x5db7bf=document[_0x4fcc21(0x6f5)](_0x4fcc21(0x790));_0x5db7bf&&MathJax[_0x4fcc21(0x908)]([_0x5db7bf]);}if(_0x52eab4){document['getElementById'](_0x4fcc21(0x253))[_0x4fcc21(0x46d)]=async()=>{const _0x13482b=_0x4fcc21,_0x16ecd9=doc(db,_0x13482b(0x3d7)+appId+'/public/data/syncGames',currentLiveGameId),_0x538783=_0x52494e['currentQuestionIndex']+0x1;if(_0x538783<_0x22f6b6[_0x13482b(0x5b5)]){const _0x484634={};Object[_0x13482b(0x937)](_0x52494e[_0x13482b(0x255)])[_0x13482b(0x24d)](_0x5c7781=>{const _0x47aa78=_0x13482b;_0x484634[_0x47aa78(0x7e6)+_0x5c7781+'.answered']=![],_0x484634[_0x47aa78(0x7e6)+_0x5c7781+_0x47aa78(0x415)]=null;}),await updateDoc(_0x16ecd9,{..._0x484634,'status':_0x13482b(0x749),'currentQuestionIndex':_0x538783,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x16ecd9,{'status':_0x13482b(0x71a)});};const _0x4cfa2e=document[_0x4fcc21(0x6f5)]('end-sync-game-btn');_0x4cfa2e&&(_0x4cfa2e[_0x4fcc21(0x46d)]=()=>{const _0xdb0c7b=_0x4fcc21;showConfirmation(_0xdb0c7b(0x865),async()=>{const _0xb397c6=_0xdb0c7b,_0x14a394=doc(db,_0xb397c6(0x3d7)+appId+_0xb397c6(0x3c7),currentLiveGameId);await updateDoc(_0x14a394,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x20a550){const _0x26de4b=_0x599685,_0x5a71d5=document[_0x26de4b(0x6f5)](_0x26de4b(0x8dc)),_0x2ce381=document[_0x26de4b(0x6f5)](_0x26de4b(0x621));_0x2ce381['classList'][_0x26de4b(0x25c)]('hidden');const _0x6091da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x20a550[_0x26de4b(0x699)]+_0x26de4b(0x55b);_0x5a71d5[_0x26de4b(0x647)]('beforeend',_0x6091da);const _0x56b45d=document[_0x26de4b(0x6f5)](_0x26de4b(0x3e5));try{const _0x57c84a=_0x20a550[_0x26de4b(0x4ac)][_0x26de4b(0x392)]((_0x2e7663,_0x469952)=>{const _0x1ccc48=_0x26de4b;let _0x43883=_0x469952+0x1+'.\x20'+(_0x2e7663[_0x1ccc48(0x4ed)]||_0x2e7663['stem'])+'\x0a';if(_0x2e7663[_0x1ccc48(0x5d1)])_0x43883+=_0x2e7663[_0x1ccc48(0x5d1)][_0x1ccc48(0x392)]((_0x5b455e,_0x1762b1)=>_0x1ccc48(0xaa8)+(_0x1762b1===_0x2e7663[_0x1ccc48(0x5db)]?_0x1ccc48(0x31c):'')+'\x20'+_0x5b455e)['join']('\x0a');else _0x2e7663[_0x1ccc48(0xa6e)]&&(_0x43883+=_0x1ccc48(0x490)+_0x2e7663['idealAnswer']);return _0x43883;})[_0x26de4b(0x70f)]('\x0a\x0a');_0x56b45d[_0x26de4b(0x406)]=_0x26de4b(0x7cb);const _0x23d55d=_0x26de4b(0x5b1)+_0x20a550[_0x26de4b(0x699)]+_0x26de4b(0x954)+_0x57c84a+_0x26de4b(0x21c)+simpleMathPrompt+_0x26de4b(0x7ea),_0x50530c={'type':_0x26de4b(0x284),'properties':{'questionText':{'type':_0x26de4b(0x89b)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x26de4b(0x7ff),_0x26de4b(0x932),'matching_item']},'options':{'type':_0x26de4b(0xa25),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x26de4b(0x601)},'idealAnswer':{'type':_0x26de4b(0x89b)},'correctAnswer':{'type':_0x26de4b(0x604)},'stem':{'type':_0x26de4b(0x89b)},'correctResponse':{'type':_0x26de4b(0x89b)},'allResponses':{'type':_0x26de4b(0xa25),'items':{'type':_0x26de4b(0x89b)}},'explanation':{'type':_0x26de4b(0x89b)},'imageCode':{'type':_0x26de4b(0x89b)}},'required':[_0x26de4b(0x5e5),'explanation']},_0x46006b={'type':_0x26de4b(0x284),'properties':{'topic':{'type':_0x26de4b(0x89b)},'questions':{'type':_0x26de4b(0xa25),'items':_0x50530c}},'required':[_0x26de4b(0x699),_0x26de4b(0x4ac)]},_0x260298=await callAnalysisApi(_0x23d55d,_0x46006b),_0x3f58b8=_0x260298[_0x26de4b(0x4ac)][_0x26de4b(0x392)]((_0x3efe6d,_0x45d057)=>({..._0x3efe6d,'id':'q_'+Date[_0x26de4b(0x32f)]()+'_'+_0x45d057})),_0x3d9953=_0x26de4b(0x3e1)+_0x20a550[_0x26de4b(0x699)],_0x1335a5={'topic':_0x3d9953,'questions':_0x3f58b8,'quizType':_0x20a550['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x26de4b(0x73f)](),'status':_0x26de4b(0x825),'settings':_0x20a550['settings'],'quizMode':_0x26de4b(0x25f),'pairedQuizId':null,'lessonPlan':null};let _0x4ae0e7;while(!![]){_0x4ae0e7=Math['floor'](0x3e8+Math[_0x26de4b(0x536)]()*0x2328)[_0x26de4b(0x8b5)]();const _0x47a8fd=await getDoc(doc(db,_0x26de4b(0x3d7)+appId+_0x26de4b(0x198),_0x4ae0e7));if(!_0x47a8fd[_0x26de4b(0x478)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x26de4b(0x198),_0x4ae0e7),_0x1335a5),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x1afa89){console['error'](_0x26de4b(0x86c),_0x1afa89),showMessage(_0x26de4b(0x859)+_0x1afa89[_0x26de4b(0x1fc)]);}finally{const _0x424cbe=document[_0x26de4b(0x6f5)](_0x26de4b(0x652));_0x424cbe&&_0x424cbe[_0x26de4b(0xac8)](),_0x2ce381[_0x26de4b(0x7ad)][_0x26de4b(0xac8)](_0x26de4b(0x180));}}async function handleGenerateParallelPostTest(_0x387c03){const _0xd46bd4=_0x599685,_0x2bcba0=document['getElementById'](_0xd46bd4(0x8dc)),_0x1f4d3b=document['getElementById'](_0xd46bd4(0x621));_0x1f4d3b[_0xd46bd4(0x7ad)][_0xd46bd4(0x25c)]('hidden');const _0x43f98f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x2bcba0[_0xd46bd4(0x647)]('beforeend',_0x43f98f);try{const _0x194ff4=_0x387c03[_0xd46bd4(0x4ac)]['map']((_0x3c37b0,_0x41110c)=>{const _0x2d8f4a=_0xd46bd4;let _0xc637ab=_0x41110c+0x1+'.\x20'+(_0x3c37b0[_0x2d8f4a(0x4ed)]||_0x3c37b0[_0x2d8f4a(0x9a4)]);if(_0x3c37b0[_0x2d8f4a(0x5d1)])_0xc637ab+=_0x2d8f4a(0x433)+_0x3c37b0[_0x2d8f4a(0x5d1)][_0x2d8f4a(0x70f)](',\x20');return _0xc637ab;})[_0xd46bd4(0x70f)]('\x0a\x0a'),_0x4975fe=_0xd46bd4(0x654)+_0x387c03['topic']+'\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x194ff4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0xd46bd4(0x7ea),_0x25173a={'type':_0xd46bd4(0x284),'properties':{'topic':{'type':_0xd46bd4(0x89b)},'questions':{'type':_0xd46bd4(0xa25),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0xd46bd4(0x89b)},'questionType':{'type':_0xd46bd4(0x89b)},'options':{'type':_0xd46bd4(0xa25),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xd46bd4(0x601)},'idealAnswer':{'type':_0xd46bd4(0x89b)},'explanation':{'type':'STRING'}},'required':['questionText',_0xd46bd4(0x7c2)]}}},'required':['topic',_0xd46bd4(0x4ac)]},_0x2b6de5=await callAnalysisApi(_0x4975fe,_0x25173a),_0x38c187=_0x387c03[_0xd46bd4(0x699)][_0xd46bd4(0x2a2)](_0xd46bd4(0x868),'')[_0xd46bd4(0x8cf)](),_0x4e1a2d=_0xd46bd4(0x3f3)+_0x38c187,_0x42a92a={..._0x2b6de5,'topic':_0x4e1a2d,'quizType':_0x387c03[_0xd46bd4(0x1a3)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xd46bd4(0x73f)](),'status':_0xd46bd4(0x825),'settings':_0x387c03['settings'],'quizMode':_0xd46bd4(0x3d5),'pairedQuizId':_0x387c03['id']};let _0x547497;while(!![]){_0x547497=Math['floor'](0x3e8+Math[_0xd46bd4(0x536)]()*0x2328)[_0xd46bd4(0x8b5)]();const _0x465dce=await getDoc(doc(db,_0xd46bd4(0x3d7)+appId+_0xd46bd4(0x198),_0x547497));if(!_0x465dce[_0xd46bd4(0x478)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0xd46bd4(0x198),_0x547497),_0x42a92a);const _0x253ce6=doc(db,_0xd46bd4(0x3d7)+appId+'/public/data/quizzes',_0x387c03['id']);await updateDoc(_0x253ce6,{'pairedQuizId':_0x547497}),showMessage(_0xd46bd4(0x2b2));}catch(_0x23f25e){console[_0xd46bd4(0x30a)](_0xd46bd4(0x995),_0x23f25e),showMessage(_0xd46bd4(0x859)+_0x23f25e['message']);}finally{const _0x15aa7b=document[_0xd46bd4(0x6f5)]('temp-loader-results');if(_0x15aa7b)_0x15aa7b['remove']();_0x1f4d3b[_0xd46bd4(0x7ad)]['remove'](_0xd46bd4(0x180));}}async function handleGenerateParallelTest(){const _0x2467c3=_0x599685,_0x192c2e=document['getElementById'](_0x2467c3(0x443)),_0x55358a=_0x192c2e[_0x2467c3(0x883)][0x0];if(!_0x55358a){showMessage(_0x2467c3(0x78a));return;}const _0x3c40ee=document[_0x2467c3(0x6f5)](_0x2467c3(0x1c4)),_0x148e0e=document[_0x2467c3(0x6f5)](_0x2467c3(0x9dd)),_0x2f26af=document[_0x2467c3(0x6f5)](_0x2467c3(0xa48)),_0x4c563e=document['getElementById']('generate-from-parallel-test-btn');_0x4c563e['disabled']=!![],document[_0x2467c3(0x6f5)](_0x2467c3(0x704))[_0x2467c3(0x7ad)][_0x2467c3(0xac8)](_0x2467c3(0x180)),_0x2f26af[_0x2467c3(0x88b)]='',_0x3c40ee[_0x2467c3(0x7ad)][_0x2467c3(0xac8)]('hidden'),_0x148e0e[_0x2467c3(0x406)]=_0x2467c3(0x5c1);try{const _0x5ebf11=await extractTextFromPdf(_0x55358a);if(!_0x5ebf11[_0x2467c3(0x8cf)]())throw new Error(_0x2467c3(0x2e1));_0x148e0e[_0x2467c3(0x406)]=_0x2467c3(0x7cb);const _0x6bfe33=document[_0x2467c3(0x6f5)](_0x2467c3(0x293))[_0x2467c3(0x788)],_0x2c2370=_0x6bfe33?_0x2467c3(0x7e3):'',_0x1e0966=_0x2467c3(0x81e)+_0x5ebf11+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c2370+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x2467c3(0x7ea),_0x3811ee={'type':_0x2467c3(0x284),'properties':{'questionText':{'type':_0x2467c3(0x89b)},'questionType':{'type':_0x2467c3(0x89b),'enum':[_0x2467c3(0x9bb),_0x2467c3(0x7ff)]},'options':{'type':_0x2467c3(0xa25),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2467c3(0x601)},'idealAnswer':{'type':_0x2467c3(0x89b)},'explanation':{'type':_0x2467c3(0x89b)},'imageCode':{'type':_0x2467c3(0x89b)}},'required':[_0x2467c3(0x4ed),_0x2467c3(0x5e5),_0x2467c3(0x7c2)]},_0x28f74b={'type':_0x2467c3(0x284),'properties':{'topic':{'type':_0x2467c3(0x89b)},'questions':{'type':'ARRAY','items':_0x3811ee}},'required':[_0x2467c3(0x699),_0x2467c3(0x4ac)]};await handleApiCall(_0x1e0966,_0x2467c3(0x2e0),_0x28f74b);}catch(_0x188f0e){console['error'](_0x2467c3(0x3b2),_0x188f0e),showMessage('เกิดข้อผิดพลาด:\x20'+_0x188f0e[_0x2467c3(0x1fc)]),_0x2f26af[_0x2467c3(0x88b)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x3c40ee[_0x2467c3(0x7ad)][_0x2467c3(0x25c)](_0x2467c3(0x180)),_0x4c563e[_0x2467c3(0x8c1)]=![];}}async function handleRegenerateQuestionInEditor(_0x22d2cc){const _0x117b3e=_0x599685;if(currentEditingQuizData===null)return;const _0x3a5f1a=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x22d2cc+'\x22]');_0x3a5f1a&&(_0x3a5f1a[_0x117b3e(0x88b)]=_0x117b3e(0x744));const _0x1c5d42=currentEditingQuizData[_0x117b3e(0x4ac)][_0x22d2cc],_0x579ae3=currentEditingQuizData[_0x117b3e(0x699)],_0x445cc6=_0x1c5d42[_0x117b3e(0x5e5)],_0xf9cfcf={'type':_0x117b3e(0x284),'properties':{'questionText':{'type':_0x117b3e(0x89b)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x117b3e(0x601)},'explanation':{'type':_0x117b3e(0x89b)}},'required':[_0x117b3e(0x4ed),_0x117b3e(0x5d1),_0x117b3e(0x5db),_0x117b3e(0x7c2)]},_0x2cb165={'type':_0x117b3e(0x284),'properties':{'questionText':{'type':_0x117b3e(0x89b)},'idealAnswer':{'type':_0x117b3e(0x89b)},'explanation':{'type':_0x117b3e(0x89b)}},'required':[_0x117b3e(0x4ed),'idealAnswer',_0x117b3e(0x7c2)]};let _0x345bf9,_0x35e129='';_0x445cc6===_0x117b3e(0x9bb)?(_0x345bf9=_0xf9cfcf,_0x35e129=_0x117b3e(0x544)):(_0x345bf9=_0x2cb165,_0x35e129=_0x117b3e(0x598));const _0x102671=_0x117b3e(0x4df)+_0x579ae3+_0x117b3e(0x8b0)+_0x35e129+_0x117b3e(0x20c)+(_0x1c5d42['questionText']||_0x1c5d42['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0x310f15=await callAnalysisApi(_0x102671,_0x345bf9);currentEditingQuizData[_0x117b3e(0x4ac)][_0x22d2cc]={..._0x1c5d42,..._0x310f15},renderQuizEditor(currentEditingQuizData);}catch(_0x3cab7f){console[_0x117b3e(0x30a)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x3cab7f),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x22228c=_0x599685,_0x4e34f4=document['getElementById'](_0x22228c(0x798));currentMode===_0x22228c(0x613)?(adminPasswordModal[_0x22228c(0x7ad)][_0x22228c(0xac8)](_0x22228c(0x180)),document[_0x22228c(0x6f5)](_0x22228c(0x534))['focus']()):(currentMode='student',_0x4e34f4[_0x22228c(0x88b)]=_0x22228c(0x3de),_0x4e34f4[_0x22228c(0x48f)]='สลับไปโหมดผู้ควบคุม',showView('student'));}function handleAdminLogin(){const _0x3af135=_0x599685,_0xa0dfab=document[_0x3af135(0x6f5)](_0x3af135(0x534)),_0x3f7def=document[_0x3af135(0x6f5)]('password-error-msg');if(_0xa0dfab[_0x3af135(0x8c4)]===_0x3af135(0x67a)){adminPasswordModal[_0x3af135(0x7ad)]['add'](_0x3af135(0x180)),_0xa0dfab['value']='',_0x3f7def['classList'][_0x3af135(0x25c)](_0x3af135(0x180)),currentMode='admin';const _0xf73bea=document[_0x3af135(0x6f5)](_0x3af135(0x798));_0xf73bea[_0x3af135(0x88b)]=_0x3af135(0x773),_0xf73bea[_0x3af135(0x48f)]=_0x3af135(0xa34),showView('admin-dashboard');}else _0x3f7def[_0x3af135(0x7ad)][_0x3af135(0xac8)](_0x3af135(0x180)),_0xa0dfab['value']='';}function switchProjectTab(_0x3ec173){const _0x6868dd=_0x599685;[_0x6868dd(0x7e2),_0x6868dd(0x7aa),_0x6868dd(0x5e0)][_0x6868dd(0x24d)](_0x3d3f17=>{const _0x289920=_0x6868dd;document['getElementById'](_0x3d3f17+_0x289920(0x8c7))[_0x289920(0x7ad)][_0x289920(0xac8)](_0x289920(0x825)),document[_0x289920(0x6f5)](_0x3d3f17+_0x289920(0x8db))[_0x289920(0x7ad)][_0x289920(0x25c)](_0x289920(0x180));}),document[_0x6868dd(0x6f5)](_0x3ec173+_0x6868dd(0x8c7))[_0x6868dd(0x7ad)][_0x6868dd(0x25c)](_0x6868dd(0x825)),document[_0x6868dd(0x6f5)](_0x3ec173+'-tab-content')[_0x6868dd(0x7ad)][_0x6868dd(0xac8)]('hidden');}function switchQuizDetailTab(_0x14e26e){const _0x1a1fa9=_0x599685,_0x549294={'analytics':{'btn':_0x1a1fa9(0x6e8),'content':_0x1a1fa9(0x691)},'scores':{'btn':_0x1a1fa9(0x7fd),'content':_0x1a1fa9(0x278)},'leaderboard-quiz':{'btn':_0x1a1fa9(0x942),'content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x1a1fa9(0x9e0),'content':_0x1a1fa9(0x6f7)}};for(const _0x211119 in _0x549294){document['getElementById'](_0x549294[_0x211119][_0x1a1fa9(0x5dc)])[_0x1a1fa9(0x7ad)][_0x1a1fa9(0xac8)](_0x1a1fa9(0x825)),document[_0x1a1fa9(0x6f5)](_0x549294[_0x211119][_0x1a1fa9(0xac5)])[_0x1a1fa9(0x7ad)][_0x1a1fa9(0x25c)](_0x1a1fa9(0x180));}document[_0x1a1fa9(0x6f5)](_0x549294[_0x14e26e][_0x1a1fa9(0x5dc)])['classList'][_0x1a1fa9(0x25c)](_0x1a1fa9(0x825)),document['getElementById'](_0x549294[_0x14e26e][_0x1a1fa9(0xac5)])[_0x1a1fa9(0x7ad)][_0x1a1fa9(0xac8)]('hidden');}function showMessage(_0x582a6c,_0x420795=null){const _0x583942=_0x599685;modalMessage[_0x583942(0x406)]=_0x582a6c,modalConfirmAction=_0x420795,messageModal[_0x583942(0x7ad)][_0x583942(0xac8)](_0x583942(0x180));}function showConfirmation(_0x12b46e,_0x5c2b82){const _0x1ed917=_0x599685;document[_0x1ed917(0x6f5)](_0x1ed917(0x44f))[_0x1ed917(0x406)]=_0x12b46e,document[_0x1ed917(0x6f5)]('confirmation-modal')[_0x1ed917(0x9ae)]('h3')[_0x1ed917(0x406)]=_0x1ed917(0x22c),confirmAction=_0x5c2b82,confirmationModal[_0x1ed917(0x7ad)]['remove'](_0x1ed917(0x180));}function listenForProjects(){const _0x3e9d2f=_0x599685,_0x45b1fb=doc(db,_0x3e9d2f(0x499),_0x3e9d2f(0xa54));onSnapshot(_0x45b1fb,_0x244719=>{const _0x2d8fc0=_0x3e9d2f;if(_0x244719['exists']()){const _0x3dae03=_0x244719[_0x2d8fc0(0x7e5)]();globalDashboardSettings[_0x2d8fc0(0x50d)]=_0x3dae03[_0x2d8fc0(0x50d)]||_0x2d8fc0(0x1e4),globalDashboardSettings['pinnedProjects']=_0x3dae03[_0x2d8fc0(0x3bb)]||[],globalDashboardSettings[_0x2d8fc0(0x5f2)]=_0x3dae03[_0x2d8fc0(0x5f2)]||[];}allProjects[_0x2d8fc0(0x5b5)]>0x0&&renderProjects();});const _0x15531e=collection(db,'artifacts/'+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x15531e,_0x2b4ffa=>{const _0x4f7e4e=_0x3e9d2f;allProjects=_0x2b4ffa[_0x4f7e4e(0x5e9)][_0x4f7e4e(0x392)](_0x400d24=>({'id':_0x400d24['id'],..._0x400d24[_0x4f7e4e(0x7e5)]()})),renderProjects();},_0x4f5a98=>{const _0x41b13a=_0x3e9d2f;console[_0x41b13a(0x30a)](_0x41b13a(0x8c9),_0x4f5a98),showMessage(_0x41b13a(0x68d));});}function showColorPalette(_0x2753c2,_0x22b95b){const _0x402bcf=_0x599685;document['querySelectorAll'](_0x402bcf(0x1c1))[_0x402bcf(0x24d)](_0x378a97=>_0x378a97[_0x402bcf(0xac8)]());const _0x42c552=[_0x402bcf(0x99e),_0x402bcf(0x19c),_0x402bcf(0xa71),_0x402bcf(0x8d5),'#DBEAFE',_0x402bcf(0x212),_0x402bcf(0x53c),_0x402bcf(0x3ae),_0x402bcf(0x741)],_0x39734e=document[_0x402bcf(0x2bb)](_0x402bcf(0x57a));_0x39734e['className']='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x42c552[_0x402bcf(0x24d)](_0x1e1660=>{const _0x5d9290=_0x402bcf,_0x44c205=document[_0x5d9290(0x2bb)](_0x5d9290(0x57a));_0x44c205['className']='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x44c205[_0x5d9290(0x317)][_0x5d9290(0x7d9)]=_0x1e1660,_0x44c205[_0x5d9290(0x2a3)](_0x5d9290(0x41c),()=>{const _0x489d62=_0x5d9290;handleProjectColorChange(_0x22b95b,_0x1e1660),_0x39734e[_0x489d62(0xac8)]();}),_0x39734e[_0x5d9290(0x879)](_0x44c205);}),document[_0x402bcf(0x32c)]['appendChild'](_0x39734e);const _0xff7d11=_0x2753c2[_0x402bcf(0x822)]();_0x39734e['style'][_0x402bcf(0x462)]=_0xff7d11[_0x402bcf(0x7b5)]+window[_0x402bcf(0x1cc)]+'px',_0x39734e[_0x402bcf(0x317)][_0x402bcf(0x27a)]=_0xff7d11[_0x402bcf(0x27a)]+window[_0x402bcf(0x5f1)]-_0x39734e[_0x402bcf(0x4e6)]/0x2+'px';}async function handleProjectColorChange(_0x26de73,_0x34f437){const _0x9161df=_0x599685,_0x5add1b=doc(db,'artifacts/'+appId+_0x9161df(0x581),_0x26de73);try{await updateDoc(_0x5add1b,{'color':_0x34f437});}catch(_0x29e5a6){console[_0x9161df(0x30a)](_0x9161df(0x43a),_0x29e5a6),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0xb1fbb7=_0x599685,_0x17c4ee=globalDashboardSettings[_0xb1fbb7(0x50d)]||_0xb1fbb7(0x1e4),_0x373eef=new Set(globalDashboardSettings[_0xb1fbb7(0x3bb)]||[]),_0x375d9b=globalDashboardSettings[_0xb1fbb7(0x322)]||_0xb1fbb7(0x28d),_0x5e037b=document[_0xb1fbb7(0x6f5)](_0xb1fbb7(0x799)),_0x3f7e4c=document[_0xb1fbb7(0x6f5)](_0xb1fbb7(0x38e));_0x5e037b[_0xb1fbb7(0x7ad)]['toggle'](_0xb1fbb7(0x825),_0x375d9b===_0xb1fbb7(0x28d)),_0x3f7e4c[_0xb1fbb7(0x7ad)]['toggle']('active',_0x375d9b===_0xb1fbb7(0x6ff)),document['getElementById'](_0xb1fbb7(0x7ee))[_0xb1fbb7(0x8c4)]=_0x17c4ee;const _0x48e28f=document[_0xb1fbb7(0x6f5)](_0xb1fbb7(0x982))[_0xb1fbb7(0x8c4)]['toLowerCase']();let _0x1be5b3=allProjects[_0xb1fbb7(0x7c9)](_0xee8f62=>_0xee8f62[_0xb1fbb7(0x6e6)][_0xb1fbb7(0x607)]()['includes'](_0x48e28f));const _0x1a563b=_0x1be5b3[_0xb1fbb7(0x7c9)](_0x4a4a35=>_0x373eef[_0xb1fbb7(0x492)](_0x4a4a35['id'])),_0x497e27=_0x1be5b3[_0xb1fbb7(0x7c9)](_0xf07df6=>!_0x373eef[_0xb1fbb7(0x492)](_0xf07df6['id'])),_0x4ad582=(_0xb73ebb,_0x4ed188)=>{const _0x23170a=_0xb1fbb7;switch(_0x17c4ee){case'name_asc':return _0xb73ebb['projectName'][_0x23170a(0xa64)](_0x4ed188[_0x23170a(0x6e6)],'th');case _0x23170a(0x7f3):return _0x4ed188[_0x23170a(0x6e6)][_0x23170a(0xa64)](_0xb73ebb[_0x23170a(0x6e6)],'th');case _0x23170a(0x5b9):return new Date(_0xb73ebb[_0x23170a(0x1f8)])-new Date(_0x4ed188['createdAt']);default:return new Date(_0x4ed188[_0x23170a(0x1f8)])-new Date(_0xb73ebb[_0x23170a(0x1f8)]);}};_0x1a563b[_0xb1fbb7(0xab3)](_0x4ad582),_0x497e27[_0xb1fbb7(0xab3)](_0x4ad582);const _0x53d487=[..._0x1a563b,..._0x497e27],_0xf20a14=globalDashboardSettings['projectOrder']||[];_0xf20a14['length']>0x0&&_0x375d9b===_0xb1fbb7(0x28d)&&_0x53d487['sort']((_0x1130a7,_0x54bdc2)=>{const _0x584d5b=_0xb1fbb7,_0x11288a=_0xf20a14[_0x584d5b(0x7b6)](_0x1130a7['id']),_0x3e95d7=_0xf20a14[_0x584d5b(0x7b6)](_0x54bdc2['id']);if(_0x11288a===-0x1)return 0x1;if(_0x3e95d7===-0x1)return-0x1;return _0x11288a-_0x3e95d7;});const _0x56e0e2={};await Promise[_0xb1fbb7(0xa60)](_0x53d487[_0xb1fbb7(0x392)](async _0xe93f71=>{const _0x2824cc=_0xb1fbb7,_0x38e938=query(collection(db,_0x2824cc(0x3d7)+appId+_0x2824cc(0x198)),where(_0x2824cc(0x7f1),'==',_0xe93f71['id'])),_0x2a7786=await getDocs(_0x38e938);_0x56e0e2[_0xe93f71['id']]=_0x2a7786['size'];}));const _0x1a8f72=document[_0xb1fbb7(0x6f5)](_0xb1fbb7(0x96f));let _0x46639a='';if(_0x375d9b===_0xb1fbb7(0x28d)){_0x1a8f72[_0xb1fbb7(0x45e)]=_0xb1fbb7(0x6b8);if(starredQuizzes[_0xb1fbb7(0x5b5)]>0x0&&_0x48e28f===''){const _0xb8cc15=starredQuizzes[_0xb1fbb7(0x392)](_0xd2bb9f=>{const _0x578a22=_0xb1fbb7,_0x365b89=allProjects[_0x578a22(0x726)](_0x2d019f=>_0x2d019f['id']===_0xd2bb9f[_0x578a22(0x7f1)]);return{..._0xd2bb9f,'projectName':_0x365b89?_0x365b89[_0x578a22(0x6e6)]:_0x578a22(0x217)};});_0x46639a+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb8cc15[_0xb1fbb7(0x392)](_0x745a1d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x745a1d['topic']+'\x22>'+_0x745a1d['topic']+_0xb1fbb7(0x3a1)+_0x745a1d[_0xb1fbb7(0x6e6)]+'\x22>จาก:\x20'+_0x745a1d[_0xb1fbb7(0x6e6)]+_0xb1fbb7(0x616))[_0xb1fbb7(0x70f)]('')+_0xb1fbb7(0x8d6)+starredQuizzes[_0xb1fbb7(0x5b5)]+_0xb1fbb7(0x26d);}_0x53d487[_0xb1fbb7(0x24d)](_0x3a975d=>{const _0x219762=_0xb1fbb7,_0x5d0adb=_0x56e0e2[_0x3a975d['id']]??0x0,_0x3ae0cd=_0x373eef[_0x219762(0x492)](_0x3a975d['id']),_0x59ce6c=_0x3a975d['color']||_0x219762(0x99e),_0x5ac854=parseInt(_0x59ce6c[_0x219762(0x676)](0x1,0x3),0x10)*0.299+parseInt(_0x59ce6c[_0x219762(0x676)](0x3,0x5),0x10)*0.587+parseInt(_0x59ce6c['substring'](0x5,0x7),0x10)*0.114<0xba,_0x4edde1=_0x5ac854?_0x219762(0xa5f):_0x219762(0x5fa),_0x342145=_0x5ac854?_0x219762(0x803):_0x219762(0x624);_0x46639a+=_0x219762(0x2b4)+(_0x3ae0cd?_0x219762(0x6bf):_0x219762(0x8e7))+_0x219762(0x1ec)+_0x59ce6c+_0x219762(0x583)+_0x3a975d['id']+_0x219762(0xabe)+_0x3a975d['id']+_0x219762(0x34b)+(_0x5ac854?'text-gray-300\x20hover:text-white':_0x219762(0x5a7))+_0x219762(0x209)+_0x3a975d['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x5ac854?'text-gray-300\x20hover:text-white':_0x219762(0x5a7))+_0x219762(0x640)+(_0x3ae0cd?_0x5ac854?_0x219762(0x952):_0x219762(0x657):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x3a975d['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x4edde1+_0x219762(0x3be)+_0x3a975d[_0x219762(0x6e6)]+_0x219762(0x43b)+_0x342145+_0x219762(0xabc)+new Date(_0x3a975d[_0x219762(0x1f8)])[_0x219762(0x9bd)](_0x219762(0xa08))+_0x219762(0x27f)+(_0x5ac854?_0x219762(0x232):'text-gray-700')+_0x219762(0x9f1)+_0x5d0adb+_0x219762(0x796)+_0x3a975d['id']+_0x219762(0x75f)+_0x3a975d[_0x219762(0x6e6)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x5ac854?_0x219762(0x3d0):_0x219762(0x319))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x1a8f72[_0xb1fbb7(0x45e)]=_0xb1fbb7(0x7f2),starredQuizzes[_0xb1fbb7(0x5b5)]>0x0&&_0x48e28f===''&&(_0x46639a+=_0xb1fbb7(0x269)+starredQuizzes[_0xb1fbb7(0x5b5)]+_0xb1fbb7(0x84e)),_0x46639a+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x53d487['forEach'](_0x3398c3=>{const _0x5238de=_0xb1fbb7,_0x1cfb6c=_0x56e0e2[_0x3398c3['id']]??0x0,_0x58cc1a=_0x373eef[_0x5238de(0x492)](_0x3398c3['id']);_0x46639a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x3398c3[_0x5238de(0x833)]||_0x5238de(0x741))+_0x5238de(0x558)+_0x3398c3['id']+_0x5238de(0x233)+_0x3398c3[_0x5238de(0x6e6)]+_0x5238de(0x679)+_0x1cfb6c+_0x5238de(0x7dd)+new Date(_0x3398c3[_0x5238de(0x1f8)])['toLocaleString'](_0x5238de(0xa08))+_0x5238de(0x97e)+_0x3398c3['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x58cc1a?_0x5238de(0x657):'')+_0x5238de(0x58b)+_0x3398c3['id']+_0x5238de(0x75f)+_0x3398c3['projectName']+_0x5238de(0x4ae);});projectList['innerHTML']=_0x46639a,noProjectsMsg['classList'][_0xb1fbb7(0x949)](_0xb1fbb7(0x180),_0x46639a['length']>0x0);}document[_0x599685(0x6f5)](_0x599685(0x78b))[_0x599685(0x2a3)]('click',async()=>{const _0x980b58=_0x599685,_0xdc0a77=document['getElementById']('project-name-input'),_0x1ab20a=_0xdc0a77[_0x980b58(0x8c4)][_0x980b58(0x8cf)]();if(!_0x1ab20a){showMessage(_0x980b58(0x258));return;}try{const _0x14ffbc=doc(collection(db,_0x980b58(0x3d7)+appId+_0x980b58(0x581)));await setDoc(_0x14ffbc,{'projectName':_0x1ab20a,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x980b58(0x649),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x980b58(0x73f)]()}),_0xdc0a77[_0x980b58(0x8c4)]='',createProjectModal['classList']['add'](_0x980b58(0x180)),showMessage(_0x980b58(0x79d));}catch(_0x3ee21c){console[_0x980b58(0x30a)](_0x980b58(0xa8c),_0x3ee21c),showMessage(_0x980b58(0x947));}}),projectList[_0x599685(0x2a3)](_0x599685(0x41c),async _0x3ab74e=>{const _0x4cf897=_0x599685,_0x3ba24f=_0x3ab74e[_0x4cf897(0x928)][_0x4cf897(0x74c)]('.project-card-content'),_0x1d8575=_0x3ab74e[_0x4cf897(0x928)][_0x4cf897(0x74c)]('.delete-project-btn'),_0x926506=_0x3ab74e[_0x4cf897(0x928)][_0x4cf897(0x74c)](_0x4cf897(0x21b)),_0x28f14e=_0x3ab74e[_0x4cf897(0x928)][_0x4cf897(0x74c)](_0x4cf897(0x342));if(_0x926506){const _0x371230=_0x926506[_0x4cf897(0x4eb)]['id'],_0x42bd5b=doc(db,_0x4cf897(0x499),_0x4cf897(0xa54)),_0x1f7dd9=globalDashboardSettings[_0x4cf897(0x3bb)];let _0x347964;_0x1f7dd9[_0x4cf897(0x7c6)](_0x371230)?_0x347964=_0x1f7dd9[_0x4cf897(0x7c9)](_0x80cbc7=>_0x80cbc7!==_0x371230):_0x347964=[..._0x1f7dd9,_0x371230];try{await setDoc(_0x42bd5b,{'pinnedProjects':_0x347964},{'merge':!![]});}catch(_0x496024){console[_0x4cf897(0x30a)](_0x4cf897(0x3ec),_0x496024),showMessage(_0x4cf897(0x525));}}else{if(_0x28f14e){const _0x41d68f=_0x28f14e['dataset']['id'];showColorPalette(_0x28f14e,_0x41d68f);}else{if(_0x3ba24f){const _0x2e8300=_0x3ba24f[_0x4cf897(0x4eb)]['id'];_0x2e8300==='starred-project'?showStarredProjectView():(currentProjectId=_0x2e8300,await loadProjectDetails(currentProjectId),showView(_0x4cf897(0x53b)));}else{if(_0x1d8575){const _0x4e9b29=_0x1d8575[_0x4cf897(0x4eb)]['id'],_0x50c336=_0x1d8575[_0x4cf897(0x4eb)][_0x4cf897(0x472)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x50c336+_0x4cf897(0x7b4),()=>handleDeleteProject(_0x4e9b29));}}}}}),projectList['addEventListener'](_0x599685(0x600),_0x365408=>{const _0x4f92c1=_0x599685,_0x50cea8=_0x365408[_0x4f92c1(0x928)][_0x4f92c1(0x74c)]('.project-card-container');_0x50cea8&&_0x50cea8[_0x4f92c1(0x7ad)][_0x4f92c1(0x25c)](_0x4f92c1(0x951));}),projectList['addEventListener'](_0x599685(0x77a),_0x5e949b=>{const _0x122abf=_0x599685,_0x149820=_0x5e949b['target']['closest'](_0x122abf(0x495));_0x149820&&_0x149820['classList']['remove'](_0x122abf(0x951));}),projectList[_0x599685(0x2a3)](_0x599685(0xa6d),_0x18092a=>{const _0x5ba464=_0x599685;_0x18092a[_0x5ba464(0x531)]();const _0x52655a=document[_0x5ba464(0x9ae)]('.project-card-container.opacity-50');if(!_0x52655a)return;const _0x55479d=getDragAfterElement(projectList,_0x18092a[_0x5ba464(0x1b6)]);_0x55479d==null?projectList[_0x5ba464(0x879)](_0x52655a):projectList['insertBefore'](_0x52655a,_0x55479d);}),projectList[_0x599685(0x2a3)](_0x599685(0x405),_0x5943c2=>{const _0x415b9b=_0x599685;_0x5943c2['preventDefault']();const _0x3d61d7=[...projectList[_0x415b9b(0x3b5)](_0x415b9b(0x6c9))][_0x415b9b(0x392)](_0x5ef6d8=>_0x5ef6d8[_0x415b9b(0x4eb)]['id']);saveProjectOrder(_0x3d61d7);});function renderBehaviorLog(_0x1e9f1d){const _0x3cee99=_0x599685,_0x433b62=document[_0x3cee99(0x6f5)](_0x3cee99(0x215));if(!_0x433b62)return;const _0x40f91c=_0x1e9f1d[_0x3cee99(0x7c9)](_0x5c5570=>_0x5c5570[_0x3cee99(0x395)]&&_0x5c5570[_0x3cee99(0x395)]['length']>0x0);if(_0x40f91c[_0x3cee99(0x5b5)]===0x0){_0x433b62[_0x3cee99(0x88b)]=_0x3cee99(0x50b);return;}let _0x11b91d='';_0x40f91c[_0x3cee99(0x24d)](_0x273e63=>{const _0xae46d0=_0x3cee99;_0x11b91d+=_0xae46d0(0x5d8)+_0x273e63[_0xae46d0(0x241)]+_0xae46d0(0x700),_0x273e63['behaviorLog']['sort']((_0x244622,_0x87904d)=>new Date(_0x87904d[_0xae46d0(0x1ac)])-new Date(_0x244622[_0xae46d0(0x1ac)]))[_0xae46d0(0x24d)](_0x30f696=>{const _0x5408fd=_0xae46d0,_0x2693c7=new Date(_0x30f696[_0x5408fd(0x1ac)])[_0x5408fd(0xa38)](_0x5408fd(0xa08),{'dateStyle':'short','timeStyle':'medium'});_0x11b91d+=_0x5408fd(0x244)+_0x30f696[_0x5408fd(0x3f6)]+_0x5408fd(0x742)+_0x2693c7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x11b91d+=_0xae46d0(0x23d);}),_0x433b62['innerHTML']=_0x11b91d;}function getDragAfterElement(_0x1e8f61,_0x484033){const _0x43c891=_0x599685,_0x2019c3=[..._0x1e8f61[_0x43c891(0x3b5)](_0x43c891(0x456))];return _0x2019c3[_0x43c891(0x297)]((_0x596f7a,_0x4fa536)=>{const _0xa8288f=_0x43c891,_0x42eb90=_0x4fa536[_0xa8288f(0x822)](),_0x902214=_0x484033-_0x42eb90['top']-_0x42eb90[_0xa8288f(0x805)]/0x2;return _0x902214<0x0&&_0x902214>_0x596f7a[_0xa8288f(0x5ae)]?{'offset':_0x902214,'element':_0x4fa536}:_0x596f7a;},{'offset':Number['NEGATIVE_INFINITY']})[_0x43c891(0x224)];}async function saveProjectOrder(_0x2a35d3){const _0x3f8e3e=_0x599685,_0x11c344=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x11c344,{'projectOrder':_0x2a35d3},{'merge':!![]});}catch(_0x164ef0){console[_0x3f8e3e(0x30a)](_0x3f8e3e(0x7d8),_0x164ef0),showMessage(_0x3f8e3e(0x710));}}async function logBehaviorEvent(_0xa99862,_0x5b85d4={}){const _0x37af5a=_0x599685;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x37af5a(0x6e0)](_0x37af5a(0x2e3));return;}const _0x453a91=doc(db,_0x37af5a(0x3d7)+appId+_0x37af5a(0x754)+currentQuizData['id']+_0x37af5a(0x98a),currentStudentName),_0x294910={'event':_0xa99862,'timestamp':new Date()[_0x37af5a(0x73f)](),..._0x5b85d4};try{await updateDoc(_0x453a91,{'behaviorLog':arrayUnion(_0x294910)}),console[_0x37af5a(0x8af)](_0x37af5a(0x854)+currentStudentName+_0x37af5a(0x9b5));}catch(_0x105405){_0x105405[_0x37af5a(0xa4f)]===_0x37af5a(0x5d6)?console['warn'](_0x37af5a(0x530)+currentStudentName+_0x37af5a(0x9d3)):console[_0x37af5a(0x30a)](_0x37af5a(0xaa2),_0x105405);}}function calculateMeanAndStdDev(_0x36da96){const _0x513b4b=_0x599685;if(_0x36da96[_0x513b4b(0x5b5)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x7fd71b=_0x36da96[_0x513b4b(0x297)]((_0x97fd0f,_0x40f508)=>_0x97fd0f+_0x40f508,0x0)/_0x36da96[_0x513b4b(0x5b5)];if(_0x36da96['length']===0x1)return{'mean':_0x7fd71b,'stdDev':0x0};const _0x5b37b4=Math[_0x513b4b(0x813)](_0x36da96['map'](_0x586356=>Math[_0x513b4b(0x44b)](_0x586356-_0x7fd71b,0x2))[_0x513b4b(0x297)]((_0x4ec3f2,_0x38f1c8)=>_0x4ec3f2+_0x38f1c8,0x0)/(_0x36da96['length']-0x1));return{'mean':_0x7fd71b,'stdDev':_0x5b37b4};}function calculateZScore(_0x502cf0,_0x2f526f,_0x16b628){if(_0x16b628===0x0)return 0x0;return(_0x502cf0-_0x2f526f)/_0x16b628;}function calculateTScore(_0x5527c7){return 0xa*_0x5527c7+0x32;}function showStarredProjectView(){const _0x13b464=_0x599685;currentProjectId=_0x13b464(0x384),currentProjectData=null,projectTitle['textContent']='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x13b464(0x406)]='pinned-items',showView(_0x13b464(0x53b)),manageTab[_0x13b464(0x7ad)]['add']('hidden'),leaderboardTab['classList']['add'](_0x13b464(0x180)),switchProjectTab(_0x13b464(0x7aa)),renderQuizzes();}async function loadProjectDetails(_0x1953a0){const _0xb88103=_0x599685,_0x2a9665=doc(db,_0xb88103(0x3d7)+appId+_0xb88103(0x581),_0x1953a0),_0x4a4ad4=await getDoc(_0x2a9665);if(_0x4a4ad4['exists']()){manageTab[_0xb88103(0x7ad)][_0xb88103(0xac8)](_0xb88103(0x180)),leaderboardTab[_0xb88103(0x7ad)][_0xb88103(0xac8)]('hidden'),currentProjectData=_0x4a4ad4['data'](),projectTitle[_0xb88103(0x406)]=currentProjectData[_0xb88103(0x6e6)],projectIdDisplay[_0xb88103(0x406)]=_0x1953a0;const _0x3135f3=currentProjectData[_0xb88103(0x549)]||{};document[_0xb88103(0x6f5)](_0xb88103(0x90e))['value']=_0x3135f3['shuffleSetting']||_0xb88103(0x649);const _0x1c834b=document[_0xb88103(0x6f5)](_0xb88103(0x6db));_0x1c834b[_0xb88103(0x788)]=_0x3135f3['showInStudentDashboard']!==![];const _0x2a6c4f=document[_0xb88103(0x6f5)](_0xb88103(0x7db)),_0x478fad=document[_0xb88103(0x6f5)](_0xb88103(0x5f6)),_0xce990c=document[_0xb88103(0x6f5)]('project-passcode-input'),_0x339da4=_0x3135f3[_0xb88103(0x9cd)]||![];_0x2a6c4f[_0xb88103(0x788)]=_0x339da4,_0xce990c[_0xb88103(0x8c4)]=_0x3135f3[_0xb88103(0x6d7)]||'',_0x478fad[_0xb88103(0x7ad)][_0xb88103(0x949)](_0xb88103(0x180),!_0x339da4),_0x2a6c4f[_0xb88103(0x33e)]=()=>{const _0x3e13e3=_0xb88103;_0x478fad[_0x3e13e3(0x7ad)][_0x3e13e3(0x949)](_0x3e13e3(0x180),!_0x2a6c4f['checked']);},document['getElementById'](_0xb88103(0x8d8))['checked']=_0x3135f3[_0xb88103(0xa88)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x1953a0),listenForProjectQuizzes(_0x1953a0),listenForStudentProfiles(_0x1953a0);}else showMessage('ไม่พบโปรเจค'),showView(_0xb88103(0x74f));}async function handleResetProjectOrder(){const _0x111542=_0x599685,_0x14181c=doc(db,_0x111542(0x499),'dashboardConfig');try{await setDoc(_0x14181c,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x111542(0x815));}catch(_0x17edee){console[_0x111542(0x30a)]('Error\x20resetting\x20project\x20order:',_0x17edee),showMessage(_0x111542(0x417));}}async function handleTogglePinProject(_0x111c2e){const _0x273b5b=_0x599685;if(!_0x111c2e)return;const _0x39750a=doc(db,_0x273b5b(0x3d7)+appId+_0x273b5b(0x581),_0x111c2e);try{const _0xd33c51=await getDoc(_0x39750a);if(_0xd33c51[_0x273b5b(0x478)]()){const _0x1be968=_0xd33c51[_0x273b5b(0x7e5)]()['isPinned']||![];await updateDoc(_0x39750a,{'isPinned':!_0x1be968});}}catch(_0x105a27){console[_0x273b5b(0x30a)](_0x273b5b(0x48b),_0x105a27),showMessage(_0x273b5b(0x525));}}async function handleDeleteProject(_0x28da54){const _0x492ac6=_0x599685;try{const _0x4d3a77=writeBatch(db),_0x970c86=collection(db,_0x492ac6(0x3d7)+appId+_0x492ac6(0x198)),_0x487586=query(_0x970c86,where(_0x492ac6(0x7f1),'==',_0x28da54)),_0x507861=await getDocs(_0x487586);for(const _0x3d313e of _0x507861[_0x492ac6(0x5e9)]){const _0x422d10=collection(db,_0x492ac6(0x3d7)+appId+_0x492ac6(0x754)+_0x3d313e['id']+_0x492ac6(0x98a)),_0x408b36=await getDocs(_0x422d10);_0x408b36[_0x492ac6(0x24d)](_0x14eebf=>{const _0x464f94=_0x492ac6;_0x4d3a77[_0x464f94(0x582)](_0x14eebf[_0x464f94(0x609)]);}),_0x4d3a77[_0x492ac6(0x582)](_0x3d313e[_0x492ac6(0x609)]);}const _0x41e5f1=collection(db,'artifacts/'+appId+_0x492ac6(0x330)+_0x28da54+_0x492ac6(0x8f6)),_0x50ff7d=await getDocs(_0x41e5f1);_0x50ff7d[_0x492ac6(0x24d)](_0x3340fb=>{const _0x2e5aff=_0x492ac6;_0x4d3a77[_0x2e5aff(0x582)](_0x3340fb['ref']);});const _0x4f6f55=doc(db,_0x492ac6(0x3d7)+appId+'/public/data/projects',_0x28da54);_0x4d3a77[_0x492ac6(0x582)](_0x4f6f55),await _0x4d3a77[_0x492ac6(0x724)](),showMessage(_0x492ac6(0x871)),showView(_0x492ac6(0x74f));}catch(_0x2149b3){console[_0x492ac6(0x30a)](_0x492ac6(0x26c),_0x2149b3),showMessage(_0x492ac6(0x517));}}document[_0x599685(0x6f5)](_0x599685(0xa0e))[_0x599685(0x2a3)](_0x599685(0x41c),async()=>{const _0x160fdc=_0x599685;if(!currentProjectId)return;const _0xb5c36={'defaultNumQuestions':parseInt(document[_0x160fdc(0x6f5)](_0x160fdc(0xa44))[_0x160fdc(0x8c4)]),'defaultNumChoices':parseInt(document[_0x160fdc(0x6f5)]('num-choices')[_0x160fdc(0x8c4)]),'defaultPassingScore':parseInt(document[_0x160fdc(0x6f5)](_0x160fdc(0x646))[_0x160fdc(0x8c4)]),'resultsDisplay':document[_0x160fdc(0x6f5)](_0x160fdc(0x663))['value'],'shuffleSetting':document[_0x160fdc(0x6f5)](_0x160fdc(0x90e))[_0x160fdc(0x8c4)],'timerMode':document['getElementById'](_0x160fdc(0x4c3))[_0x160fdc(0x8c4)],'timerDuration':parseInt(document[_0x160fdc(0x6f5)](_0x160fdc(0x341))[_0x160fdc(0x8c4)]),'isConfidenceScoringEnabled':document['getElementById'](_0x160fdc(0x8d8))['checked'],'confidenceMode':document[_0x160fdc(0x6f5)](_0x160fdc(0x8b4))[_0x160fdc(0x8c4)]};try{const _0x49f36f=doc(db,'artifacts/'+appId+_0x160fdc(0x581),currentProjectId);await updateDoc(_0x49f36f,{'settings':_0xb5c36}),showMessage(_0x160fdc(0x738));}catch(_0x3fd926){console[_0x160fdc(0x30a)](_0x160fdc(0x3fd),_0x3fd926),showMessage(_0x160fdc(0x273));}});function listenForStudents(_0x3e3432){const _0x394f8c=_0x599685,_0x2571f8=doc(db,_0x394f8c(0x3d7)+appId+_0x394f8c(0x581),_0x3e3432);unsubscribeStudentsListener=onSnapshot(_0x2571f8,_0x579b87=>{const _0x5404bc=_0x394f8c;if(_0x579b87[_0x5404bc(0x478)]()){const _0x18b6ed=_0x579b87['data']();currentProjectData=_0x18b6ed,renderStudentList(_0x18b6ed[_0x5404bc(0x1a6)]||[]);}});}function renderStudentList(_0x138769){const _0x3ba76c=_0x599685,_0x51919d=document[_0x3ba76c(0x6f5)](_0x3ba76c(0x40f));_0x138769[_0x3ba76c(0x5b5)]===0x0?(studentList[_0x3ba76c(0x88b)]=_0x3ba76c(0x7a2),_0x51919d[_0x3ba76c(0x7ad)]['add'](_0x3ba76c(0x180))):(studentList[_0x3ba76c(0x88b)]=_0x138769['map'](_0x6dfa34=>_0x3ba76c(0x294)+_0x6dfa34+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x6dfa34+_0x3ba76c(0x296))[_0x3ba76c(0x70f)](''),_0x51919d[_0x3ba76c(0x7ad)][_0x3ba76c(0xac8)](_0x3ba76c(0x180)));}document[_0x599685(0x6f5)](_0x599685(0x3f7))[_0x599685(0x2a3)](_0x599685(0x41c),async()=>{const _0x7f69bb=_0x599685;if(!currentProjectId)return;const _0x3b2ed6=document[_0x7f69bb(0x6f5)](_0x7f69bb(0x480)),_0x159771=_0x3b2ed6[_0x7f69bb(0x8c4)][_0x7f69bb(0x8cf)]();if(!_0x159771){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x46c6b2=_0x159771[_0x7f69bb(0x8e5)]('\x0a')[_0x7f69bb(0x392)](_0x2f68d1=>_0x2f68d1[_0x7f69bb(0x8cf)]())[_0x7f69bb(0x7c9)](_0x3b4b64=>_0x3b4b64);if(_0x46c6b2['length']===0x0)return;try{const _0x27d32b=doc(db,_0x7f69bb(0x3d7)+appId+_0x7f69bb(0x581),currentProjectId),_0xe970b1=await getDoc(_0x27d32b);if(_0xe970b1[_0x7f69bb(0x478)]()){const _0x1f03d7=_0xe970b1[_0x7f69bb(0x7e5)]()['students']||[],_0x390d40=[...new Set([..._0x1f03d7,..._0x46c6b2])];await updateDoc(_0x27d32b,{'students':_0x390d40}),_0x3b2ed6[_0x7f69bb(0x8c4)]='';}}catch(_0x5d9f6e){console['error'](_0x7f69bb(0x69b),_0x5d9f6e),showMessage(_0x7f69bb(0x8ac));}});async function handleManualQuizPairing(_0x43698f){const _0x53336a=_0x599685,_0x54094c=document['getElementById'](_0x53336a(0xa75)),_0x490958=document[_0x53336a(0x6f5)](_0x53336a(0x885)),_0x2e07f6=_0x54094c['querySelector']('h3'),_0x43d8f5=document[_0x53336a(0x6f5)](_0x53336a(0x73a)),_0x9aa6b=document[_0x53336a(0x6f5)]('cancel-move-quiz-btn');_0x2e07f6[_0x53336a(0x406)]='จับคู่เพื่อเปรียบเทียบผล',_0x490958['innerHTML']=_0x53336a(0x2d6),_0x43d8f5['textContent']=_0x53336a(0xabb),_0x54094c['classList'][_0x53336a(0xac8)]('hidden');const _0xdd0986=allQuizzes['filter'](_0x138e28=>_0x138e28['id']!==_0x43698f);_0xdd0986[_0x53336a(0x5b5)]===0x0?(_0x490958[_0x53336a(0x88b)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x43d8f5[_0x53336a(0x8c1)]=!![]):(_0x490958['innerHTML']=_0x53336a(0x7f6)+_0xdd0986[_0x53336a(0x392)](_0x54fcbe=>_0x53336a(0x500)+_0x54fcbe['id']+'\x22>'+_0x54fcbe['topic']+_0x53336a(0x4ba))[_0x53336a(0x70f)](''),_0x43d8f5['disabled']=![]);const _0x555beb=async()=>{const _0x8e9060=_0x53336a,_0x3ccebb=_0x490958[_0x8e9060(0x8c4)];if(!_0x3ccebb){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x43d8f5[_0x8e9060(0x8c1)]=!![],_0x43d8f5[_0x8e9060(0x406)]=_0x8e9060(0x8f8);try{const _0x687166=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x43698f),_0xbe1de1=doc(db,_0x8e9060(0x3d7)+appId+_0x8e9060(0x198),_0x3ccebb),_0x5dce2b=writeBatch(db);_0x5dce2b['update'](_0x687166,{'pairedQuizId':_0x3ccebb}),_0x5dce2b[_0x8e9060(0x620)](_0xbe1de1,{'pairedQuizId':_0x43698f}),await _0x5dce2b[_0x8e9060(0x724)](),showMessage(_0x8e9060(0x811)),_0x54094c[_0x8e9060(0x7ad)][_0x8e9060(0x25c)](_0x8e9060(0x180));}catch(_0x32bddb){console['error'](_0x8e9060(0x35f),_0x32bddb),showMessage(_0x8e9060(0x3ba));}finally{_0x2e07f6[_0x8e9060(0x406)]=_0x8e9060(0x265),_0x43d8f5[_0x8e9060(0x406)]=_0x8e9060(0x206),_0x43d8f5[_0x8e9060(0x8c1)]=![],_0x43d8f5[_0x8e9060(0x56e)]('click',_0x555beb),_0x9aa6b[_0x8e9060(0x56e)]('click',_0x2e8932);}},_0x2e8932=()=>{const _0x10efd1=_0x53336a;_0x54094c[_0x10efd1(0x7ad)][_0x10efd1(0x25c)](_0x10efd1(0x180)),_0x2e07f6['textContent']=_0x10efd1(0x265),_0x43d8f5[_0x10efd1(0x406)]='ย้าย',_0x43d8f5[_0x10efd1(0x56e)](_0x10efd1(0x41c),_0x555beb),_0x9aa6b[_0x10efd1(0x56e)](_0x10efd1(0x41c),_0x2e8932);};_0x43d8f5[_0x53336a(0x2a3)](_0x53336a(0x41c),_0x555beb),_0x9aa6b[_0x53336a(0x2a3)](_0x53336a(0x41c),_0x2e8932);}function handleDeleteStudent(_0x424def){const _0x534006=_0x599685;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x424def+_0x534006(0x377),async()=>{const _0x365c7c=_0x534006;if(!currentProjectId||!currentProjectData)return;const _0x14e01d=currentProjectData[_0x365c7c(0x1a6)][_0x365c7c(0x7c9)](_0x46308c=>_0x46308c!==_0x424def);try{const _0x5b174e=doc(db,'artifacts/'+appId+_0x365c7c(0x581),currentProjectId),_0x4f9676=doc(db,_0x365c7c(0x3d7)+appId+'/public/data/projects/'+currentProjectId+_0x365c7c(0x8f6),_0x424def),_0xceab46=writeBatch(db);_0xceab46[_0x365c7c(0x620)](_0x5b174e,{'students':_0x14e01d}),_0xceab46[_0x365c7c(0x582)](_0x4f9676),await _0xceab46[_0x365c7c(0x724)]();}catch(_0x4626c8){console['error'](_0x365c7c(0x5de),_0x4626c8),showMessage(_0x365c7c(0x850));}});}function handleDeleteAllStudents(){const _0x5ea361=_0x599685;showConfirmation(_0x5ea361(0x889),async()=>{const _0x37628f=_0x5ea361;if(!currentProjectId)return;try{const _0xbb1168=doc(db,_0x37628f(0x3d7)+appId+_0x37628f(0x581),currentProjectId),_0x34ac53=collection(db,_0x37628f(0x3d7)+appId+_0x37628f(0x330)+currentProjectId+_0x37628f(0x8f6)),_0x2f12bb=await getDocs(_0x34ac53),_0x2e0632=writeBatch(db);_0x2e0632['update'](_0xbb1168,{'students':[]}),_0x2f12bb[_0x37628f(0x24d)](_0x395428=>_0x2e0632[_0x37628f(0x582)](_0x395428[_0x37628f(0x609)])),await _0x2e0632['commit']();}catch(_0x518a4d){console[_0x37628f(0x30a)](_0x37628f(0x2de),_0x518a4d),showMessage(_0x37628f(0x4d0));}});}async function handleGenerateFromFileClick(){const _0x8af6ba=_0x599685;if(!selectedFile){showMessage(_0x8af6ba(0x4fe));return;}const _0x51537f=document[_0x8af6ba(0x6f5)](_0x8af6ba(0x1c4)),_0x47daa3=document[_0x8af6ba(0x6f5)](_0x8af6ba(0x9dd)),_0x2f0d2b=document[_0x8af6ba(0x6f5)](_0x8af6ba(0xa48)),_0x1c114c=document[_0x8af6ba(0x6f5)]('generate-from-file-btn');_0x1c114c['disabled']=!![],document[_0x8af6ba(0x6f5)](_0x8af6ba(0x704))['classList'][_0x8af6ba(0xac8)](_0x8af6ba(0x180)),_0x2f0d2b[_0x8af6ba(0x88b)]='',_0x51537f[_0x8af6ba(0x7ad)][_0x8af6ba(0xac8)](_0x8af6ba(0x180)),_0x47daa3[_0x8af6ba(0x406)]=_0x8af6ba(0x36e);const _0x2919a5=new FileReader();_0x2919a5[_0x8af6ba(0x8a5)](selectedFile),_0x2919a5[_0x8af6ba(0x8d4)]=async()=>{const _0x143b6d=_0x8af6ba;try{const _0x1bc860=_0x2919a5['result'][_0x143b6d(0x8e5)](',')[0x1],_0x2bfba8=selectedFile['type'];await generateQuizFromFile(_0x2bfba8,_0x1bc860);}catch(_0x32c15f){console['error'](_0x143b6d(0x1b5),_0x32c15f),showMessage(_0x143b6d(0x76e)+_0x32c15f['message']),_0x51537f[_0x143b6d(0x7ad)]['add'](_0x143b6d(0x180));}finally{}},_0x2919a5[_0x8af6ba(0xa99)]=_0x3eb5ac=>{const _0x5c02f6=_0x8af6ba;console[_0x5c02f6(0x30a)](_0x5c02f6(0x63f),_0x3eb5ac),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x51537f[_0x5c02f6(0x7ad)][_0x5c02f6(0x25c)](_0x5c02f6(0x180)),_0x1c114c[_0x5c02f6(0x8c1)]=![];};}function autoFormatMath(_0x5b0f77){const _0x2e5062=_0x599685;if(typeof _0x5b0f77!=='string'||!_0x5b0f77)return _0x5b0f77;const _0x388a08=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x175884=_0x5b0f77[_0x2e5062(0x2a2)](_0x388a08,_0x170d95=>{const _0x552b68=_0x2e5062;return'$'+_0x170d95[_0x552b68(0x8cf)]()+'$';});return _0x175884;}function sanitizeQuizData(_0x3eb000){const _0x2beede=_0x599685;if(!_0x3eb000||!_0x3eb000[_0x2beede(0x4ac)])return _0x3eb000;const _0x1e9492={'imes':'\x5ctimes','div':_0x2beede(0xa33)},_0x33f5f4=_0x4bfeda=>{const _0x25f948=_0x2beede;if(typeof _0x4bfeda!=='string')return _0x4bfeda;let _0x48161f=_0x4bfeda;for(const [_0x517563,_0x1fd42d]of Object[_0x25f948(0x4ef)](_0x1e9492)){const _0x10d9e1=new RegExp('\x5cb'+_0x517563+'\x5cb','g');_0x48161f=_0x48161f[_0x25f948(0x2a2)](_0x10d9e1,_0x1fd42d);}return _0x48161f=_0x48161f[_0x25f948(0x2a2)](/\\\//g,_0x25f948(0xa33)),_0x48161f=_0x48161f[_0x25f948(0x2a2)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x25f948(0xa33))[_0x25f948(0x2a2)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x25f948(0x488))['replace'](/÷/g,'\x5cdiv')[_0x25f948(0x2a2)](/×/g,_0x25f948(0x488)),_0x48161f=_0x48161f[_0x25f948(0x2a2)](/(\d)(\\frac)/g,_0x25f948(0x396)),_0x48161f=autoFormatMath(_0x48161f),_0x48161f;};return _0x3eb000['topic']&&(_0x3eb000[_0x2beede(0x699)]=_0x33f5f4(_0x3eb000[_0x2beede(0x699)])),_0x3eb000[_0x2beede(0x4ac)][_0x2beede(0x24d)](_0x341a53=>{const _0x144c1d=_0x2beede;_0x341a53[_0x144c1d(0x4ed)]=_0x33f5f4(_0x341a53[_0x144c1d(0x4ed)]),_0x341a53[_0x144c1d(0x5d1)]&&(_0x341a53[_0x144c1d(0x5d1)]=_0x341a53[_0x144c1d(0x5d1)][_0x144c1d(0x392)](_0x33f5f4)),_0x341a53['explanation']&&(_0x341a53['explanation']=_0x33f5f4(_0x341a53[_0x144c1d(0x7c2)])),_0x341a53[_0x144c1d(0x9a4)]&&(_0x341a53[_0x144c1d(0x9a4)]=_0x33f5f4(_0x341a53['stem'])),_0x341a53[_0x144c1d(0xa0f)]&&(_0x341a53[_0x144c1d(0xa0f)]=_0x33f5f4(_0x341a53[_0x144c1d(0xa0f)])),_0x341a53[_0x144c1d(0x4ca)]&&(_0x341a53[_0x144c1d(0x4ca)]=_0x341a53[_0x144c1d(0x4ca)][_0x144c1d(0x392)](_0x33f5f4));}),_0x3eb000;}const simpleMathPrompt=_0x599685(0xa7a);async function handleGenerateFromLink(){const _0x1235d0=_0x599685,_0x1fe8e8=document[_0x1235d0(0x6f5)]('link-url-input'),_0x250d34=document[_0x1235d0(0x6f5)](_0x1235d0(0x5ec)),_0x3ed0b8=_0x1fe8e8[_0x1235d0(0x8c4)]['trim'](),_0x29e872=_0x250d34[_0x1235d0(0x8c4)][_0x1235d0(0x8cf)]();if(!_0x3ed0b8){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x1785ce=document['getElementById'](_0x1235d0(0x1c4)),_0xc87968=document[_0x1235d0(0x6f5)](_0x1235d0(0x9dd)),_0x21954e=document[_0x1235d0(0x6f5)](_0x1235d0(0xa48)),_0x177e16=document[_0x1235d0(0x6f5)](_0x1235d0(0x975));document[_0x1235d0(0x6f5)]('quiz-generation-area')[_0x1235d0(0x7ad)]['remove']('hidden'),_0x21954e[_0x1235d0(0x88b)]='',_0x1785ce[_0x1235d0(0x7ad)][_0x1235d0(0xac8)](_0x1235d0(0x180)),_0xc87968[_0x1235d0(0x406)]=_0x1235d0(0x876),_0x177e16['disabled']=!![];try{const _0x321c97=_0x1235d0(0x5c6)+encodeURIComponent(_0x3ed0b8),_0x1bff25=await fetch(_0x321c97);if(!_0x1bff25['ok'])throw new Error(_0x1235d0(0xa20)+_0x1bff25[_0x1235d0(0x800)]+')');const _0x3d8461=await _0x1bff25['text'](),_0x4c6f67=extractTextFromHtml(_0x3d8461);if(!_0x4c6f67||_0x4c6f67[_0x1235d0(0x5b5)]<0x64)throw new Error(_0x1235d0(0x51a));await generateQuiz(_0x29e872,_0x4c6f67);}catch(_0x3258a1){console[_0x1235d0(0x30a)](_0x1235d0(0x354),_0x3258a1),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3258a1[_0x1235d0(0x1fc)]),_0x21954e[_0x1235d0(0x88b)]=_0x1235d0(0xac7);}finally{_0x1785ce[_0x1235d0(0x7ad)][_0x1235d0(0x25c)](_0x1235d0(0x180)),_0x177e16[_0x1235d0(0x8c1)]=![];}}function extractTextFromHtml(_0x475def){const _0x565a0a=_0x599685,_0xc4cd24=new DOMParser()[_0x565a0a(0x323)](_0x475def,_0x565a0a(0x9ab));return _0xc4cd24['querySelectorAll'](_0x565a0a(0x41e))[_0x565a0a(0x24d)](_0x1cf5b6=>_0x1cf5b6['remove']()),_0xc4cd24[_0x565a0a(0x32c)][_0x565a0a(0x406)]||'';}document[_0x599685(0x6f5)](_0x599685(0x6b0))['addEventListener'](_0x599685(0x41c),()=>{const _0x180276=_0x599685,_0x304e97=document[_0x180276(0x6f5)](_0x180276(0x2bd))[_0x180276(0x8c4)][_0x180276(0x8cf)]();generateQuiz(_0x304e97,null);}),document[_0x599685(0x6f5)]('generate-from-text-btn')[_0x599685(0x2a3)]('click',()=>{const _0x306192=_0x599685,_0x41a970=document[_0x306192(0x6f5)](_0x306192(0xa66))[_0x306192(0x8c4)][_0x306192(0x8cf)]();if(!_0x41a970){showMessage(_0x306192(0x5fb));return;}const _0x41d2f5=document['getElementById']('topic-input')[_0x306192(0x8c4)][_0x306192(0x8cf)]();generateQuiz(_0x41d2f5,_0x41a970);});async function generateQuiz(_0x5a98e8,_0x223ee8,_0x517508=null){const _0x551f85=_0x599685,_0x53b3d7=document[_0x551f85(0x6f5)](_0x551f85(0x293))[_0x551f85(0x788)],_0x27987a=document[_0x551f85(0x6f5)](_0x551f85(0x306))[_0x551f85(0x8c4)],_0x1c12d5=document[_0x551f85(0x6f5)](_0x551f85(0xa44))[_0x551f85(0x8c4)],_0xfde0bf=document[_0x551f85(0x6f5)](_0x551f85(0x397))[_0x551f85(0x8c4)],_0x510d16=document['getElementById'](_0x551f85(0x49c))[_0x551f85(0x788)],_0x54fea0=_0x510d16?'':_0x551f85(0x22e),_0x45c399=document[_0x551f85(0x6f5)](_0x551f85(0x672)),_0x1807a7=_0x45c399[_0x551f85(0x8c4)];let _0x426e5a='';_0x1807a7!==_0x551f85(0x980)&&(_0x426e5a='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x1807a7+'\x22');const _0x5ad58e=document[_0x551f85(0x6f5)](_0x551f85(0x5b2)),_0x4114da=_0x5ad58e[_0x551f85(0x8c4)];let _0x3fc168='';_0x4114da!=='mixed'&&(_0x3fc168='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x4114da+_0x551f85(0x3d8));const _0x455afe=document['querySelectorAll']('#math-topics-checkbox-container\x20input:checked'),_0x18e7d4=Array[_0x551f85(0x189)](_0x455afe)[_0x551f85(0x392)](_0x568c22=>_0x568c22[_0x551f85(0x8c4)]);let _0x184338='';_0x18e7d4['length']>0x0&&(_0x184338=_0x551f85(0x678)+_0x18e7d4[_0x551f85(0x70f)](',\x20')+_0x551f85(0x371));let _0xb31df0='',_0xdf58e7='',_0x23c6ea,_0x1255d8=_0x551f85(0x779)+_0x5a98e8+'\x22';if(!_0x5a98e8&&_0x223ee8)_0x1255d8=_0x551f85(0x79e);else!_0x5a98e8&&!_0x223ee8&&(_0x1255d8='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x3e7450={'type':_0x551f85(0x284),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x551f85(0xa25),'items':{'type':_0x551f85(0x89b)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x551f85(0x89b)},'imageCode':{'type':'STRING'}},'required':[_0x551f85(0x4ed),_0x551f85(0x5d1),_0x551f85(0x5db),_0x551f85(0x7c2)]},_0x4b3f46={'type':_0x551f85(0x284),'properties':{'questionText':{'type':_0x551f85(0x89b)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x551f85(0x89b)},'imageCode':{'type':_0x551f85(0x89b)}},'required':[_0x551f85(0x4ed),_0x551f85(0xa6e),_0x551f85(0x7c2)]},_0x421c26={'type':'OBJECT','properties':{'questionText':{'type':_0x551f85(0x89b)},'questionType':{'type':'STRING','enum':[_0x551f85(0x9bb),'short_answer']},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x551f85(0x601)},'idealAnswer':{'type':_0x551f85(0x89b)},'explanation':{'type':_0x551f85(0x89b)},'imageCode':{'type':_0x551f85(0x89b)}},'required':[_0x551f85(0x4ed),_0x551f85(0x5e5),_0x551f85(0x7c2)]},_0x26795d={'type':_0x551f85(0x284),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x551f85(0x604)},'explanation':{'type':_0x551f85(0x89b)},'imageCode':{'type':_0x551f85(0x89b)}},'required':[_0x551f85(0x4ed),'correctAnswer','explanation']},_0x23c9b3={'type':_0x551f85(0x284),'properties':{'questionType':{'type':'STRING','enum':[_0x551f85(0x228)]},'stem':{'type':_0x551f85(0x89b)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x551f85(0xa25),'items':{'type':'STRING'}},'explanation':{'type':_0x551f85(0x89b)},'imageCode':{'type':_0x551f85(0x89b)}},'required':[_0x551f85(0x5e5),_0x551f85(0x9a4),_0x551f85(0xa0f),_0x551f85(0x4ca),_0x551f85(0x7c2)]};let _0x380ba5;if(_0x517508!==null){const _0x2cb720=currentQuizData[_0x551f85(0x4ac)][_0x517508]['questionType'],_0x5b75db=_0x53b3d7?_0x551f85(0x934):'';_0xb31df0=_0x551f85(0x3ed)+_0x1255d8+'\x20'+_0x184338+'\x20'+_0x426e5a+_0x551f85(0x1bc)+_0x5b75db+'\x20'+simpleMathPrompt;if(_0x2cb720===_0x551f85(0x9bb))_0x23c6ea=_0x3e7450;else{if(_0x2cb720===_0x551f85(0x228))_0x23c6ea={'type':_0x551f85(0x284),'properties':{'questionType':{'type':_0x551f85(0x89b),'enum':[_0x551f85(0x228)]},'stem':{'type':_0x551f85(0x89b)},'correctResponse':{'type':_0x551f85(0x89b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x551f85(0x89b)}},'required':[_0x551f85(0x5e5),'stem','correctResponse',_0x551f85(0x7c2)]};else _0x23c6ea=_0x4b3f46;}_0x380ba5=_0x23c6ea;}else{const _0x2fa6e7=_0x53b3d7?_0x551f85(0x6c0):'',_0x385655=_0x551f85(0x6f9);switch(_0x27987a){case _0x551f85(0x9bb):_0xb31df0=_0x551f85(0x334)+_0x54fea0+'\x20'+_0x1c12d5+'\x20ข้อ\x20'+_0x1255d8+'\x20'+_0x184338+'\x20'+_0x426e5a+'\x20'+_0x3fc168+_0x551f85(0x1fd)+_0xfde0bf+_0x551f85(0x93f)+_0x2fa6e7+'\x20'+simpleMathPrompt,_0x23c6ea=_0x3e7450;break;case _0x551f85(0x997):_0xb31df0=_0x551f85(0x76d)+_0x54fea0+'\x20'+_0x1c12d5+_0x551f85(0xa13)+_0x1255d8+'\x20'+_0x184338+'\x20'+_0x426e5a+'\x20'+_0x3fc168+_0x551f85(0x72b)+_0xfde0bf+_0x551f85(0x941)+_0x2fa6e7+'\x20'+simpleMathPrompt,_0x23c6ea=_0x3e7450;break;case _0x551f85(0x2d8):_0xb31df0=_0x551f85(0x76d)+_0x54fea0+'\x20'+_0x1c12d5+_0x551f85(0xa13)+_0x1255d8+'\x20'+_0x184338+'\x20'+_0x426e5a+'\x20'+_0x3fc168+_0x551f85(0x38c)+_0x2fa6e7+'\x20'+simpleMathPrompt,_0x23c6ea=_0x4b3f46;break;case _0x551f85(0x5d0):_0xb31df0=_0x551f85(0x65a)+_0x54fea0+'\x20'+_0x1c12d5+'\x20ข้อ\x20'+_0x1255d8+'\x20'+_0x184338+'\x20'+_0x426e5a+'\x20'+_0x3fc168+_0x551f85(0x373)+_0xfde0bf+_0x551f85(0x498)+_0x2fa6e7+'\x20'+simpleMathPrompt+'.',_0x23c6ea=_0x421c26;break;case _0x551f85(0x932):_0xb31df0=_0x551f85(0x4a0)+_0x54fea0+'\x20'+_0x1c12d5+_0x551f85(0xa13)+_0x1255d8+'\x20'+_0x184338+'\x20'+_0x426e5a+'\x20'+_0x3fc168+_0x551f85(0x9fd)+_0x2fa6e7+'\x20'+simpleMathPrompt,_0x23c6ea=_0x26795d;break;case _0x551f85(0xa1e):_0xb31df0=_0x551f85(0x223)+_0x54fea0+'\x20'+_0x1c12d5+_0x551f85(0x1b1)+_0x1255d8+'\x20'+_0x184338+'\x20'+_0x426e5a+'\x20'+_0x3fc168+_0x551f85(0xa49)+_0x2fa6e7+'\x20'+simpleMathPrompt,_0x23c6ea=_0x23c9b3;break;}_0x380ba5={'type':'OBJECT','properties':{'topic':{'type':_0x551f85(0x89b)},'questions':{'type':_0x551f85(0xa25),'items':_0x23c6ea}},'required':[_0x551f85(0x699),'questions']};}return _0x223ee8?(_0xb31df0=_0x551f85(0x92c)+_0x223ee8+_0x551f85(0x7b3)+_0xb31df0,_0xdf58e7=_0x551f85(0x378)):_0xdf58e7=_0x551f85(0x719),handleApiCall(_0xb31df0,_0xdf58e7,_0x380ba5,_0x517508);}async function generateQuizFromFile(_0x3a0b7a,_0x18fac2){const _0x3f1f69=_0x599685,_0x37fa08=document[_0x3f1f69(0x6f5)](_0x3f1f69(0x475))[_0x3f1f69(0x8c4)][_0x3f1f69(0x8cf)](),_0x81695c=document['getElementById'](_0x3f1f69(0x306))[_0x3f1f69(0x8c4)],_0x16b59d=document['getElementById'](_0x3f1f69(0xa44))[_0x3f1f69(0x8c4)],_0x4d8eb1=document[_0x3f1f69(0x6f5)](_0x3f1f69(0x397))['value'],_0x251e13=document[_0x3f1f69(0x6f5)]('include-images-checkbox')[_0x3f1f69(0x788)],_0x34167f=document[_0x3f1f69(0x6f5)](_0x3f1f69(0x49c))[_0x3f1f69(0x788)],_0x3f5639=_0x34167f?'':_0x3f1f69(0x22e),_0x1a0128=document[_0x3f1f69(0x6f5)](_0x3f1f69(0xaab))[_0x3f1f69(0x788)];let _0x672633='',_0xfc0c7c;const _0x5777ba=_0x251e13?_0x3f1f69(0x6c0):'';if(_0x1a0128)_0x672633=_0x3f1f69(0x514)+_0x5777ba+'\x0a\x20\x20\x20\x20'+simpleMathPrompt+'\x0a',_0xfc0c7c={'type':'OBJECT','properties':{'questionText':{'type':_0x3f1f69(0x89b)},'questionType':{'type':_0x3f1f69(0x89b),'enum':[_0x3f1f69(0x9bb),_0x3f1f69(0x7ff),_0x3f1f69(0x932),_0x3f1f69(0x228)]},'options':{'type':'ARRAY','items':{'type':_0x3f1f69(0x89b)}},'correctAnswerIndex':{'type':_0x3f1f69(0x601)},'idealAnswer':{'type':_0x3f1f69(0x89b)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':'STRING'},'correctResponse':{'type':_0x3f1f69(0x89b)},'allResponses':{'type':'ARRAY','items':{'type':_0x3f1f69(0x89b)}},'explanation':{'type':_0x3f1f69(0x89b)},'imageCode':{'type':_0x3f1f69(0x89b)}},'required':[_0x3f1f69(0x5e5),_0x3f1f69(0x7c2)]};else{let _0x52e3ed=_0x3f1f69(0x779)+_0x37fa08+'\x22';!_0x37fa08&&(_0x52e3ed=_0x3f1f69(0x2f2));switch(_0x81695c){case _0x3f1f69(0x9bb):_0x672633=_0x3f1f69(0x334)+_0x3f5639+'\x20'+_0x16b59d+_0x3f1f69(0xa13)+_0x52e3ed+_0x3f1f69(0x1fd)+_0x4d8eb1+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x5777ba+'\x20'+simpleMathPrompt,_0xfc0c7c={'type':_0x3f1f69(0x284),'properties':{'questionText':{'type':_0x3f1f69(0x89b)},'options':{'type':_0x3f1f69(0xa25),'items':{'type':_0x3f1f69(0x89b)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x3f1f69(0x89b)},'imageCode':{'type':_0x3f1f69(0x89b)}},'required':[_0x3f1f69(0x4ed),_0x3f1f69(0x5d1),_0x3f1f69(0x5db),_0x3f1f69(0x7c2)]};break;case _0x3f1f69(0x997):_0x672633='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3f5639+'\x20'+_0x16b59d+_0x3f1f69(0xa13)+_0x52e3ed+_0x3f1f69(0x72b)+_0x4d8eb1+_0x3f1f69(0x941)+_0x5777ba+'\x20'+simpleMathPrompt,_0xfc0c7c={'type':_0x3f1f69(0x284),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x3f1f69(0x89b)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x3f1f69(0x89b)},'imageCode':{'type':_0x3f1f69(0x89b)}},'required':[_0x3f1f69(0x4ed),_0x3f1f69(0x5d1),_0x3f1f69(0x5db),_0x3f1f69(0x7c2)]};break;case _0x3f1f69(0x2d8):_0x672633=_0x3f1f69(0x76d)+_0x3f5639+'\x20'+_0x16b59d+_0x3f1f69(0xa13)+_0x52e3ed+_0x3f1f69(0x38c)+_0x5777ba+'\x20'+simpleMathPrompt,_0xfc0c7c={'type':_0x3f1f69(0x284),'properties':{'questionText':{'type':_0x3f1f69(0x89b)},'idealAnswer':{'type':_0x3f1f69(0x89b)},'explanation':{'type':_0x3f1f69(0x89b)},'imageCode':{'type':'STRING'}},'required':[_0x3f1f69(0x4ed),'idealAnswer',_0x3f1f69(0x7c2)]};break;case _0x3f1f69(0x5d0):_0x672633=_0x3f1f69(0x65a)+_0x3f5639+'\x20'+_0x16b59d+_0x3f1f69(0xa13)+_0x52e3ed+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x4d8eb1+'\x20ตัวเลือก.\x20'+_0x5777ba+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0xfc0c7c={'type':'OBJECT','properties':{'questionText':{'type':_0x3f1f69(0x89b)},'questionType':{'type':_0x3f1f69(0x89b),'enum':[_0x3f1f69(0x9bb),'short_answer']},'options':{'type':'ARRAY','items':{'type':_0x3f1f69(0x89b)}},'correctAnswerIndex':{'type':_0x3f1f69(0x601)},'idealAnswer':{'type':_0x3f1f69(0x89b)},'explanation':{'type':_0x3f1f69(0x89b)},'imageCode':{'type':_0x3f1f69(0x89b)}},'required':[_0x3f1f69(0x4ed),_0x3f1f69(0x5e5),_0x3f1f69(0x7c2)]};break;case _0x3f1f69(0x932):_0x672633=_0x3f1f69(0x4a0)+_0x3f5639+'\x20'+_0x16b59d+_0x3f1f69(0xa13)+_0x52e3ed+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5777ba+'\x20'+simpleMathPrompt,_0xfc0c7c={'type':_0x3f1f69(0x284),'properties':{'questionText':{'type':_0x3f1f69(0x89b)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3f1f69(0x89b)}},'required':[_0x3f1f69(0x4ed),'correctAnswer','explanation']};break;case'matching':_0x672633='สร้างชุดคำถามจับคู่'+_0x3f5639+'\x20'+_0x16b59d+_0x3f1f69(0x1b1)+_0x52e3ed+_0x3f1f69(0x311)+_0x16b59d+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x5777ba+'\x20'+simpleMathPrompt,_0xfc0c7c={'type':_0x3f1f69(0x284),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x3f1f69(0x89b)},'correctResponse':{'type':_0x3f1f69(0x89b)},'allResponses':{'type':'ARRAY','items':{'type':_0x3f1f69(0x89b)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3f1f69(0x89b)}},'required':[_0x3f1f69(0x5e5),_0x3f1f69(0x9a4),_0x3f1f69(0xa0f),_0x3f1f69(0x4ca),'explanation']};break;}}const _0x1a1d9b={'type':_0x3f1f69(0x284),'properties':{'topic':{'type':_0x3f1f69(0x89b)},'questions':{'type':_0x3f1f69(0xa25),'items':_0xfc0c7c}},'required':[_0x3f1f69(0x699),_0x3f1f69(0x4ac)]},_0x3522ce=_0x3f1f69(0x237)+_0x672633,_0x1159cb={'contents':[{'parts':[{'text':_0x3522ce},{'inlineData':{'mimeType':_0x3a0b7a,'data':_0x18fac2}}]}],'generationConfig':{'responseMimeType':_0x3f1f69(0x938),'responseSchema':_0x1a1d9b}};return handleApiCall(_0x1159cb[_0x3f1f69(0x6ed)][0x0]['parts'],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x1a1d9b);}async function handleApiCall(_0x8254a9,_0x118d52,_0x492f59,_0x380f03=null){const _0x5a05f5=_0x599685,_0x29ae57=document[_0x5a05f5(0x6f5)](_0x5a05f5(0x704)),_0x1d780b=document['getElementById'](_0x5a05f5(0x1c4)),_0x102973=document['getElementById'](_0x5a05f5(0x9dd)),_0x340006=document[_0x5a05f5(0x6f5)](_0x5a05f5(0xa48));_0x29ae57[_0x5a05f5(0x7ad)]['remove'](_0x5a05f5(0x180));_0x380f03===null&&(_0x340006[_0x5a05f5(0x88b)]='');_0x1d780b[_0x5a05f5(0x7ad)]['remove'](_0x5a05f5(0x180)),_0x102973[_0x5a05f5(0x406)]=_0x118d52,document[_0x5a05f5(0x6f5)](_0x5a05f5(0x6b0))[_0x5a05f5(0x8c1)]=!![],document[_0x5a05f5(0x6f5)](_0x5a05f5(0x4f6))[_0x5a05f5(0x8c1)]=!![],document[_0x5a05f5(0x6f5)](_0x5a05f5(0x975))['disabled']=!![];try{const _0x2e7f14={'responseMimeType':_0x5a05f5(0x938),'responseSchema':_0x492f59},_0x143c9d=Array[_0x5a05f5(0x9ff)](_0x8254a9)?_0x8254a9:[{'text':_0x8254a9}],_0x51de36={'contents':[{'role':_0x5a05f5(0x6cf),'parts':_0x143c9d}],'generationConfig':_0x2e7f14},_0x3e35f5=_0x5a05f5(0x1b0),_0x1cd648=_0x5a05f5(0x5e6)+_0x3e35f5,_0x5e76ad=await fetch(_0x1cd648,{'method':_0x5a05f5(0xa3f),'headers':{'Content-Type':_0x5a05f5(0x938)},'body':JSON[_0x5a05f5(0x3eb)](_0x51de36)});if(!_0x5e76ad['ok'])throw new Error(_0x5a05f5(0x407)+_0x5e76ad[_0x5a05f5(0x800)]);const _0xf96725=await _0x5e76ad['json']();if(_0xf96725['candidates']?.[0x0]?.['content']?.[_0x5a05f5(0x988)]?.[0x0]){let _0x473720=_0xf96725['candidates'][0x0]['content'][_0x5a05f5(0x988)][0x0][_0x5a05f5(0x6b1)],_0x1b2c4a;try{if(_0x473720[_0x5a05f5(0x56b)](_0x5a05f5(0x18d)))_0x473720=_0x473720[_0x5a05f5(0x676)](0x7,_0x473720[_0x5a05f5(0x5b5)]-0x3)['trim']();else _0x473720[_0x5a05f5(0x56b)](_0x5a05f5(0x2a6))&&(_0x473720=_0x473720[_0x5a05f5(0x676)](0x3,_0x473720[_0x5a05f5(0x5b5)]-0x3)[_0x5a05f5(0x8cf)]());_0x1b2c4a=JSON['parse'](_0x473720);}catch(_0x48cc00){console[_0x5a05f5(0x30a)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x48cc00,_0x473720);throw new Error(_0x5a05f5(0xa50));}if(_0x380f03!==null){if(_0x1b2c4a[_0x5a05f5(0x5e5)]===_0x5a05f5(0x228)){const _0x839bca=currentQuizData[_0x5a05f5(0x4ac)][_0x5a05f5(0x392)](_0x529668=>_0x529668[_0x5a05f5(0xa0f)]);_0x1b2c4a[_0x5a05f5(0x4ca)]=_0x839bca;const _0x15fc42=currentQuizData[_0x5a05f5(0x4ac)][_0x380f03]['correctResponse'],_0x1147f1=_0x839bca['indexOf'](_0x15fc42);_0x1147f1>-0x1&&(_0x839bca[_0x1147f1]=_0x1b2c4a['correctResponse']),currentQuizData[_0x5a05f5(0x4ac)]['forEach'](_0x1e94be=>{const _0x1e3e01=_0x5a05f5;if(_0x1e94be[_0x1e3e01(0x5e5)]===_0x1e3e01(0x228))_0x1e94be[_0x1e3e01(0x4ca)]=_0x839bca;});}currentQuizData[_0x5a05f5(0x4ac)][_0x380f03]=_0x1b2c4a,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x1b2c4a;const _0x37cde7=document[_0x5a05f5(0x6f5)](_0x5a05f5(0x306))[_0x5a05f5(0x8c4)];currentQuizData[_0x5a05f5(0x1a3)]=_0x37cde7,currentQuizData[_0x5a05f5(0x4ac)]&&currentQuizData[_0x5a05f5(0x4ac)][_0x5a05f5(0x24d)](_0x189723=>{const _0x25dd20=_0x5a05f5;if(!_0x189723['questionType']){if(_0x37cde7===_0x25dd20(0x997))_0x189723[_0x25dd20(0x5e5)]=_0x25dd20(0x9bb);else _0x37cde7===_0x25dd20(0x2d8)?_0x189723['questionType']=_0x25dd20(0x7ff):_0x189723[_0x25dd20(0x5e5)]=_0x37cde7;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x5a05f5(0x30a)](_0x5a05f5(0xa47),JSON[_0x5a05f5(0x3eb)](_0xf96725));throw new Error(_0x5a05f5(0xa50));}}catch(_0x4dc0c2){console[_0x5a05f5(0x30a)](_0x5a05f5(0x7a1),_0x4dc0c2),showMessage(_0x5a05f5(0x2e8)),_0x380f03===null&&(_0x340006[_0x5a05f5(0x88b)]=_0x5a05f5(0x632));}finally{_0x1d780b[_0x5a05f5(0x7ad)][_0x5a05f5(0x25c)](_0x5a05f5(0x180)),document[_0x5a05f5(0x6f5)]('generate-from-topic-btn')['disabled']=![],document[_0x5a05f5(0x6f5)](_0x5a05f5(0x4f6))[_0x5a05f5(0x8c1)]=![],document['getElementById']('generate-from-link-btn')['disabled']=![];const _0x58bc44=document[_0x5a05f5(0x6f5)](_0x5a05f5(0x771));_0x58bc44&&(_0x58bc44['disabled']=![]);}}function exitFullscreen(){const _0x2675ea=_0x599685;if(document[_0x2675ea(0x8de)])document[_0x2675ea(0x8de)]()[_0x2675ea(0x2af)](_0x1eb298=>console[_0x2675ea(0x30a)](_0x1eb298));else{if(document[_0x2675ea(0x8f2)])document[_0x2675ea(0x8f2)]();else document[_0x2675ea(0x5f5)]&&document[_0x2675ea(0x5f5)]();}}function enterFullscreen(){const _0x59b317=_0x599685,_0x56f304=document[_0x59b317(0x65f)];if(_0x56f304[_0x59b317(0x2d0)])_0x56f304[_0x59b317(0x2d0)]()[_0x59b317(0x2af)](_0x328141=>{const _0x521941=_0x59b317;console['error'](_0x521941(0x6cd)+_0x328141[_0x521941(0x1fc)]+'\x20('+_0x328141[_0x521941(0x472)]+')');});else{if(_0x56f304[_0x59b317(0x370)])_0x56f304[_0x59b317(0x370)]();else _0x56f304['msRequestFullscreen']&&_0x56f304[_0x59b317(0x366)]();}}function handleCheatingEvent(){const _0x12d607=_0x599685;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x12d607(0x8cb),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x12d607(0x4d6)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x12d607(0x6f5)](_0x12d607(0x313))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x12d607(0x56e)](_0x12d607(0x33a),handleVisibilityChange),document[_0x12d607(0x56e)]('fullscreenchange',handleFullscreenChange)):showMessage(_0x12d607(0x1e2)+cheatAttempts+'/'+maxCheatAttempts+_0x12d607(0x555),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x2436e0=_0x599685;if(currentMode===_0x2436e0(0x2cc)||!isQuizActive)return;if(document[_0x2436e0(0x1ef)]==='hidden')handleCheatingEvent();else document['visibilityState']===_0x2436e0(0x62b)&&(console[_0x2436e0(0x8af)](_0x2436e0(0x80f)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x386117=_0x599685;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x386117(0x37b)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x491582){const _0x1ba1d1=_0x599685,_0x203a65=document['getElementById'](_0x1ba1d1(0xa48));let _0x21abeb=_0x1ba1d1(0x7c7)+_0x491582['topic']+_0x1ba1d1(0x9a5);_0x491582['questions'][_0x1ba1d1(0x24d)]((_0xe081eb,_0x2ee3b)=>{const _0x32a963=_0x1ba1d1;!_0xe081eb['id']&&(_0xe081eb['id']='q_'+Date['now']()+'_'+_0x2ee3b);const _0x360178=_0xe081eb[_0x32a963(0x5e5)]||_0x491582['quizType'];_0x21abeb+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x2ee3b+_0x32a963(0xacc)+_0x2ee3b+_0x32a963(0x6f8)+_0x2ee3b+_0x32a963(0xa26)+_0x2ee3b+_0x32a963(0x931);switch(_0x360178){case _0x32a963(0x228):_0x21abeb+=_0x32a963(0x23a)+_0x2ee3b+'\x22>'+(_0x2ee3b+0x1)+'.\x20'+_0xe081eb[_0x32a963(0x9a4)]+_0x32a963(0x68b);_0xe081eb[_0x32a963(0x248)]&&(_0x21abeb+='<div\x20id=\x22q-image-container-'+_0x2ee3b+_0x32a963(0x6ae)+_0xe081eb['imageCode']+_0x32a963(0x6ab));_0x21abeb+=_0x32a963(0x3d1)+_0x2ee3b+'\x22>'+_0xe081eb['correctResponse']+_0x32a963(0x1f4),_0x21abeb+=_0x32a963(0x47e)+_0x2ee3b+'\x22>'+_0xe081eb[_0x32a963(0x7c2)]+'</span></div>';break;case'short_answer':_0x21abeb+=_0x32a963(0x23a)+_0x2ee3b+'\x22>'+(_0x2ee3b+0x1)+'.\x20'+_0xe081eb[_0x32a963(0x4ed)]+'</p>';_0xe081eb[_0x32a963(0x248)]&&(_0x21abeb+=_0x32a963(0x814)+_0x2ee3b+_0x32a963(0x6ae)+_0xe081eb[_0x32a963(0x248)]+_0x32a963(0x6ab));_0x21abeb+=_0x32a963(0x527)+_0x2ee3b+'\x22>'+_0xe081eb['idealAnswer']+_0x32a963(0x1f4),_0x21abeb+=_0x32a963(0x47e)+_0x2ee3b+'\x22>'+_0xe081eb[_0x32a963(0x7c2)]+_0x32a963(0x1f4);break;case _0x32a963(0x932):_0x21abeb+=_0x32a963(0x23a)+_0x2ee3b+'\x22>'+(_0x2ee3b+0x1)+'.\x20'+_0xe081eb[_0x32a963(0x4ed)]+_0x32a963(0x68b);_0xe081eb['imageCode']&&(_0x21abeb+=_0x32a963(0x814)+_0x2ee3b+_0x32a963(0x6ae)+_0xe081eb['imageCode']+'</div>');_0x21abeb+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0xe081eb['correctAnswer']===!![]?'text-green-600\x20font-bold':'')+_0x32a963(0x4f5)+(_0xe081eb[_0x32a963(0xa0b)]===![]?_0x32a963(0x40a):'')+_0x32a963(0xabf),_0x21abeb+=_0x32a963(0x47e)+_0x2ee3b+'\x22>'+_0xe081eb[_0x32a963(0x7c2)]+_0x32a963(0x1f4);break;case'fill_in_the_blank':case _0x32a963(0x9bb):default:_0x21abeb+=_0x32a963(0x23a)+_0x2ee3b+'\x22>'+(_0x2ee3b+0x1)+'.\x20'+_0xe081eb['questionText']+_0x32a963(0x68b);_0xe081eb[_0x32a963(0x248)]&&(_0x21abeb+='<div\x20id=\x22q-image-container-'+_0x2ee3b+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xe081eb[_0x32a963(0x248)]+_0x32a963(0x6ab));_0x21abeb+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x2ee3b+_0x32a963(0x41f)+_0xe081eb[_0x32a963(0x5d1)][_0x32a963(0x392)]((_0x279e2d,_0x5a5ab7)=>_0x32a963(0x55a)+(_0x5a5ab7===_0xe081eb['correctAnswerIndex']?_0x32a963(0x40a):'')+'\x22>'+_0x279e2d+'</li>')[_0x32a963(0x70f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x21abeb+=_0x32a963(0x47e)+_0x2ee3b+'\x22>'+_0xe081eb['explanation']+_0x32a963(0x1f4);break;}_0x21abeb+='</div>';}),_0x21abeb+=_0x1ba1d1(0x230),_0x203a65[_0x1ba1d1(0x88b)]=_0x21abeb,document[_0x1ba1d1(0x3b5)]('.edit-question-btn')['forEach'](_0x454a3d=>_0x454a3d[_0x1ba1d1(0x2a3)]('click',handleEditQuestion)),document[_0x1ba1d1(0x3b5)](_0x1ba1d1(0x3e2))[_0x1ba1d1(0x24d)](_0x232c09=>_0x232c09['addEventListener'](_0x1ba1d1(0x41c),handleRegenerateQuestion)),document[_0x1ba1d1(0x3b5)](_0x1ba1d1(0x3e6))[_0x1ba1d1(0x24d)](_0x8aef91=>_0x8aef91[_0x1ba1d1(0x2a3)](_0x1ba1d1(0x41c),handleSaveToBank)),document['getElementById']('export-worksheet-pdf-btn')[_0x1ba1d1(0x2a3)](_0x1ba1d1(0x41c),exportQuizAsWorksheetPDF),document[_0x1ba1d1(0x6f5)](_0x1ba1d1(0x91b))['addEventListener']('click',saveQuiz),document[_0x1ba1d1(0x6f5)]('verify-answers-btn')[_0x1ba1d1(0x2a3)](_0x1ba1d1(0x41c),handleVerifyAnswers);if(window[_0x1ba1d1(0x4dd)])window[_0x1ba1d1(0x4dd)][_0x1ba1d1(0x908)]([_0x203a65]);}function handleRegenerateQuestion(_0x9915c1){const _0x3881ae=_0x599685,_0x4d8d44=_0x9915c1[_0x3881ae(0xac9)][_0x3881ae(0x4eb)][_0x3881ae(0x5e4)],_0x123dd4=currentQuizData[_0x3881ae(0x699)];showMessage(_0x3881ae(0xa40)+(parseInt(_0x4d8d44)+0x1)+_0x3881ae(0x2b5)),generateQuiz(_0x123dd4,null,parseInt(_0x4d8d44));}function getPointerPosition(_0xb3b168,_0x241f89){const _0x4821d4=_0x599685,_0x546224=_0xb3b168['getScreenCTM']();let _0x1cdf2f,_0x10b171;return _0x241f89['touches']&&_0x241f89[_0x4821d4(0x4d7)][_0x4821d4(0x5b5)]>0x0?(_0x1cdf2f=_0x241f89[_0x4821d4(0x4d7)][0x0][_0x4821d4(0xab0)],_0x10b171=_0x241f89[_0x4821d4(0x4d7)][0x0][_0x4821d4(0x1b6)]):(_0x1cdf2f=_0x241f89[_0x4821d4(0xab0)],_0x10b171=_0x241f89[_0x4821d4(0x1b6)]),{'x':(_0x1cdf2f-_0x546224['e'])/_0x546224['a'],'y':(_0x10b171-_0x546224['f'])/_0x546224['d']};}function startDrag(_0x74b3a1){const _0x5ba025=_0x599685;_0x74b3a1[_0x5ba025(0x758)]===_0x5ba025(0x606)&&_0x74b3a1[_0x5ba025(0x531)]();const _0x566b65=_0x74b3a1[_0x5ba025(0x928)][_0x5ba025(0x74c)]('.draggable-text');if(_0x566b65){draggedSvgElement=_0x566b65;const _0x25346f=draggedSvgElement[_0x5ba025(0x4b5)],_0x3d5645=getPointerPosition(_0x25346f,_0x74b3a1);svgOffset['x']=_0x3d5645['x']-parseFloat(draggedSvgElement[_0x5ba025(0x7d5)](null,'x')),svgOffset['y']=_0x3d5645['y']-parseFloat(draggedSvgElement[_0x5ba025(0x7d5)](null,'y'));}}function calculateItemAnalysis(_0x5540ab,_0x4217d5){const _0x3149af=_0x599685,_0x9e6e77={};if(_0x4217d5[_0x3149af(0x5b5)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x411ad8=[..._0x4217d5]['sort']((_0xbe67c6,_0x425b24)=>{const _0x21e8d5=_0x3149af,_0xaaad09=_0x425b24['latestScore']-_0xbe67c6[_0x21e8d5(0x77d)];if(_0xaaad09!==0x0)return _0xaaad09;const _0x386b54=_0xbe67c6[_0x21e8d5(0x42d)]?.['length']||0x1,_0x56c3b0=_0x425b24['attempts']?.['length']||0x1,_0x2302c8=_0x386b54-_0x56c3b0;if(_0x2302c8!==0x0)return _0x2302c8;const _0x74e4bc=new Date(_0xbe67c6[_0x21e8d5(0x9c2)]),_0x366d0a=new Date(_0x425b24['latestSubmittedAt']),_0x4d0715=_0x74e4bc-_0x366d0a;if(_0x4d0715!==0x0)return _0x4d0715;return _0xbe67c6[_0x21e8d5(0x241)][_0x21e8d5(0xa64)](_0x425b24[_0x21e8d5(0x241)],'th');}),_0x535a9d=_0x411ad8[_0x3149af(0x5b5)],_0x50ad40=Math['max'](0x1,Math['floor'](_0x535a9d*0.33));if(_0x50ad40===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x1588da=_0x411ad8[_0x3149af(0x804)](0x0,_0x50ad40),_0x1087f9=_0x411ad8[_0x3149af(0x804)](-_0x50ad40),_0x484eec=_0x1588da[_0x3149af(0x392)](_0x55e1de=>_0x55e1de[_0x3149af(0x241)]),_0x51c80b=_0x1087f9[_0x3149af(0x392)](_0x5852b8=>_0x5852b8[_0x3149af(0x241)]);return _0x5540ab[_0x3149af(0x4ac)][_0x3149af(0x24d)]((_0x595f77,_0x3c6fa5)=>{const _0x3566a9=_0x3149af,_0x18bed1=_0x595f77[_0x3566a9(0x9a4)]||_0x595f77[_0x3566a9(0x4ed)];let _0x4b52b0=0x0,_0x3c0674=0x0,_0x3b091f=0x0;const _0x3db318=[],_0x5d08fa=[];_0x1588da['forEach'](_0x4274d4=>{const _0x13b312=_0x3566a9,_0x3e3a30=_0x4274d4[_0x13b312(0x42d)][_0x4274d4[_0x13b312(0x42d)][_0x13b312(0x5b5)]-0x1],_0x1eef52=_0x3e3a30[_0x13b312(0xa62)][_0x13b312(0x726)](_0x3bd5bf=>_0x3bd5bf['originalQuestionText']===_0x18bed1);_0x3db318[_0x13b312(0x6a1)]({'name':_0x4274d4[_0x13b312(0x241)],'isCorrect':_0x1eef52?_0x1eef52['isCorrect']:![]}),_0x1eef52&&_0x1eef52[_0x13b312(0x635)]&&_0x3c0674++;}),_0x1087f9[_0x3566a9(0x24d)](_0x36279b=>{const _0x2e0c3b=_0x3566a9,_0x5eee96=_0x36279b[_0x2e0c3b(0x42d)][_0x36279b[_0x2e0c3b(0x42d)][_0x2e0c3b(0x5b5)]-0x1],_0x5c753e=_0x5eee96[_0x2e0c3b(0xa62)][_0x2e0c3b(0x726)](_0x25a553=>_0x25a553[_0x2e0c3b(0x5b3)]===_0x18bed1);_0x5d08fa[_0x2e0c3b(0x6a1)]({'name':_0x36279b['studentName'],'isCorrect':_0x5c753e?_0x5c753e[_0x2e0c3b(0x635)]:![]}),_0x5c753e&&_0x5c753e[_0x2e0c3b(0x635)]&&_0x3b091f++;}),_0x4217d5['forEach'](_0x47d40f=>{const _0xea4078=_0x3566a9,_0x58e395=_0x47d40f[_0xea4078(0x42d)][_0x47d40f['attempts']['length']-0x1],_0x50753a=_0x58e395[_0xea4078(0xa62)][_0xea4078(0x726)](_0x2a851a=>_0x2a851a[_0xea4078(0x5b3)]===_0x18bed1);_0x50753a&&_0x50753a['isCorrect']&&_0x4b52b0++;});const _0xf1344c=_0x535a9d>0x0?_0x4b52b0/_0x535a9d:0x0,_0x213ef0=_0x50ad40>0x0?_0x3c0674/_0x50ad40-_0x3b091f/_0x50ad40:0x0;_0x9e6e77[_0x3c6fa5]={'p':_0xf1344c,'r':_0x213ef0,'upperGroupResponders':_0x3db318,'lowerGroupResponders':_0x5d08fa};}),{'perQuestionStats':_0x9e6e77,'overallGroups':{'upperGroupNames':_0x484eec,'lowerGroupNames':_0x51c80b}};}function drag(_0x176a80){const _0x8973a8=_0x599685;if(draggedSvgElement){_0x176a80[_0x8973a8(0x531)]();const _0x5cbc1d=draggedSvgElement['ownerSVGElement'],_0x48bacf=getPointerPosition(_0x5cbc1d,_0x176a80),_0x381477=_0x5cbc1d[_0x8973a8(0x2fe)][_0x8973a8(0x393)];let _0x2ca0b8=_0x48bacf['x']-svgOffset['x'],_0x104d8e=_0x48bacf['y']-svgOffset['y'];const _0x1e44a0=draggedSvgElement['getBBox']();_0x2ca0b8=Math[_0x8973a8(0x64f)](_0x381477['x'],Math[_0x8973a8(0x71b)](_0x2ca0b8,_0x381477['x']+_0x381477[_0x8973a8(0x459)]-_0x1e44a0[_0x8973a8(0x459)])),_0x104d8e=Math['max'](_0x381477['y'],Math['min'](_0x104d8e,_0x381477['y']+_0x381477[_0x8973a8(0x805)]-_0x1e44a0['height'])),draggedSvgElement[_0x8973a8(0xa03)](null,'x',_0x2ca0b8),draggedSvgElement[_0x8973a8(0xa03)](null,'y',_0x104d8e);}}function endDrag(_0x3d610e){draggedSvgElement=null;}function handleSvgEditClick(_0x31f565){const _0x576ea3=_0x599685;if(_0x31f565[_0x576ea3(0x928)][_0x576ea3(0x7ad)][_0x576ea3(0x9f7)]('delete-svg-btn')){const _0x331dd1=_0x31f565[_0x576ea3(0x928)][_0x576ea3(0x4eb)][_0x576ea3(0x4c6)],_0x8e190a=_0x31f565[_0x576ea3(0xac9)],_0x12ea72=_0x8e190a[_0x576ea3(0x9ae)]('#'+_0x331dd1);_0x12ea72&&_0x12ea72[_0x576ea3(0xac8)](),_0x31f565[_0x576ea3(0x928)][_0x576ea3(0xac8)]();}}function handleEditQuestion(_0x31315c){const _0x4cd2ac=_0x599685,_0x29a2ee=_0x31315c[_0x4cd2ac(0xac9)],_0x52e062=_0x29a2ee[_0x4cd2ac(0x4eb)][_0x4cd2ac(0x5e4)],_0x276593=currentQuizData[_0x4cd2ac(0x4ac)][_0x52e062],_0x2b6928=document[_0x4cd2ac(0x6f5)](_0x4cd2ac(0x7d7)+_0x52e062),_0x218db4=document[_0x4cd2ac(0x6f5)](_0x4cd2ac(0x4a3)+_0x52e062),_0x57410d=document[_0x4cd2ac(0x6f5)](_0x4cd2ac(0x82c)+_0x52e062);if(_0x29a2ee['innerHTML'][_0x4cd2ac(0x7c6)](_0x4cd2ac(0x1c5))){_0x29a2ee[_0x4cd2ac(0x88b)]=_0x4cd2ac(0x47d),_0x29a2ee[_0x4cd2ac(0x48f)]='บันทึกการแก้ไข';if(_0x2b6928)_0x2b6928[_0x4cd2ac(0x8ef)]=!![];if(_0x218db4)_0x218db4['contentEditable']=!![];if(_0x57410d){const _0x221f11=_0x57410d[_0x4cd2ac(0x9ae)]('svg');if(_0x221f11){const _0x4545cc=_0x221f11['querySelectorAll'](_0x4cd2ac(0x6b1));_0x4545cc[_0x4cd2ac(0x24d)]((_0x43a2b1,_0x530387)=>{const _0x16e0c9=_0x4cd2ac,_0x440a86=_0x16e0c9(0x960)+_0x52e062+'-'+_0x530387;_0x43a2b1['id']=_0x440a86,_0x43a2b1[_0x16e0c9(0x7ad)][_0x16e0c9(0x25c)](_0x16e0c9(0x8e3)),_0x43a2b1[_0x16e0c9(0x317)]['cursor']=_0x16e0c9(0x3a7);const _0x4d73fc=document[_0x16e0c9(0x4ff)](_0x16e0c9(0x76a),_0x16e0c9(0x2db)),_0x33c028=_0x43a2b1[_0x16e0c9(0x561)]();_0x4d73fc['setAttribute']('cx',String(_0x33c028['x']+_0x33c028[_0x16e0c9(0x459)]+0x5)),_0x4d73fc['setAttribute']('cy',String(_0x33c028['y']+_0x33c028[_0x16e0c9(0x805)]/0x2-0x5)),_0x4d73fc[_0x16e0c9(0x5be)]('r','5'),_0x4d73fc[_0x16e0c9(0x5be)](_0x16e0c9(0x8d9),_0x16e0c9(0x1e6)),_0x4d73fc[_0x16e0c9(0x5be)](_0x16e0c9(0x9f6),_0x16e0c9(0x1f3)),_0x4d73fc['dataset'][_0x16e0c9(0x4c6)]=_0x440a86,_0x43a2b1[_0x16e0c9(0x286)](_0x4d73fc);}),_0x221f11[_0x4cd2ac(0x2a3)](_0x4cd2ac(0xa05),startDrag),_0x221f11[_0x4cd2ac(0x2a3)]('mousemove',drag),_0x221f11[_0x4cd2ac(0x2a3)]('mouseup',endDrag),_0x221f11[_0x4cd2ac(0x2a3)](_0x4cd2ac(0x4c1),endDrag),_0x221f11[_0x4cd2ac(0x2a3)](_0x4cd2ac(0x606),startDrag,{'passive':![]}),_0x221f11['addEventListener'](_0x4cd2ac(0x234),drag,{'passive':![]}),_0x221f11['addEventListener']('touchend',endDrag),_0x221f11['addEventListener'](_0x4cd2ac(0x668),endDrag),_0x221f11['addEventListener']('click',handleSvgEditClick);}}if(_0x2b6928)_0x2b6928[_0x4cd2ac(0x201)]();}else{_0x29a2ee[_0x4cd2ac(0x88b)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x29a2ee['title']=_0x4cd2ac(0xa46);if(_0x2b6928){_0x2b6928[_0x4cd2ac(0x8ef)]=![];const _0x465bfd=_0x276593['questionType']||currentQuizData[_0x4cd2ac(0x1a3)];_0x465bfd===_0x4cd2ac(0x228)?_0x276593[_0x4cd2ac(0x9a4)]=_0x2b6928[_0x4cd2ac(0x183)][_0x4cd2ac(0x676)](_0x2b6928[_0x4cd2ac(0x183)][_0x4cd2ac(0x7b6)]('.')+0x2)[_0x4cd2ac(0x8cf)]():_0x276593[_0x4cd2ac(0x4ed)]=_0x2b6928[_0x4cd2ac(0x183)][_0x4cd2ac(0x676)](_0x2b6928[_0x4cd2ac(0x183)][_0x4cd2ac(0x7b6)]('.')+0x2)[_0x4cd2ac(0x8cf)]();}_0x218db4&&(_0x218db4[_0x4cd2ac(0x8ef)]=![],_0x276593[_0x4cd2ac(0x7c2)]=_0x218db4[_0x4cd2ac(0x183)]);if(_0x57410d){const _0xdb5e7f=_0x57410d['querySelector'](_0x4cd2ac(0x9e4));if(_0xdb5e7f){const _0x4716ee=_0xdb5e7f[_0x4cd2ac(0xa16)](!![]);_0x4716ee['querySelectorAll'](_0x4cd2ac(0x80d))[_0x4cd2ac(0x24d)](_0x2f9920=>_0x2f9920[_0x4cd2ac(0xac8)]()),_0x4716ee['querySelectorAll'](_0x4cd2ac(0x7b9))['forEach'](_0x2a6b30=>{const _0x4d838d=_0x4cd2ac;_0x2a6b30[_0x4d838d(0x7ad)][_0x4d838d(0xac8)]('draggable-text'),_0x2a6b30['style']['cursor']=_0x4d838d(0x6e5),_0x2a6b30['removeAttribute']('id');}),_0x276593[_0x4cd2ac(0x248)]=_0x4716ee['outerHTML'],_0xdb5e7f[_0x4cd2ac(0x56e)]('mousedown',startDrag),_0xdb5e7f[_0x4cd2ac(0x56e)](_0x4cd2ac(0x376),drag),_0xdb5e7f['removeEventListener'](_0x4cd2ac(0x5b6),endDrag),_0xdb5e7f[_0x4cd2ac(0x56e)](_0x4cd2ac(0x4c1),endDrag),_0xdb5e7f[_0x4cd2ac(0x56e)](_0x4cd2ac(0x606),startDrag),_0xdb5e7f[_0x4cd2ac(0x56e)](_0x4cd2ac(0x234),drag),_0xdb5e7f['removeEventListener']('touchend',endDrag),_0xdb5e7f[_0x4cd2ac(0x56e)]('touchcancel',endDrag),_0xdb5e7f[_0x4cd2ac(0x56e)](_0x4cd2ac(0x41c),handleSvgEditClick),_0xdb5e7f[_0x4cd2ac(0x3b5)](_0x4cd2ac(0x80d))[_0x4cd2ac(0x24d)](_0x4f2c65=>_0x4f2c65['remove']()),_0xdb5e7f['querySelectorAll'](_0x4cd2ac(0x7b9))[_0x4cd2ac(0x24d)](_0x1eaf23=>{const _0x244afe=_0x4cd2ac;_0x1eaf23[_0x244afe(0x7ad)][_0x244afe(0xac8)](_0x244afe(0x8e3)),_0x1eaf23[_0x244afe(0x317)][_0x244afe(0x9e6)]=_0x244afe(0x6e5);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x3f2417){const _0x1cdef2=_0x599685,_0x49f373=document[_0x1cdef2(0x6f5)]('quiz-editor-modal'),_0x16b15e=document[_0x1cdef2(0x6f5)](_0x1cdef2(0x778));_0x16b15e[_0x1cdef2(0x88b)]=_0x1cdef2(0x436),_0x49f373[_0x1cdef2(0x7ad)][_0x1cdef2(0xac8)](_0x1cdef2(0x180));try{const _0xd91849=doc(db,_0x1cdef2(0x3d7)+appId+_0x1cdef2(0x198),_0x3f2417),_0x2c9949=await getDoc(_0xd91849);if(!_0x2c9949['exists']())throw new Error(_0x1cdef2(0x413));currentEditingQuizData={'id':_0x3f2417,..._0x2c9949[_0x1cdef2(0x7e5)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x4e2d58){console['error'](_0x1cdef2(0x61e),_0x4e2d58),showMessage(_0x1cdef2(0x669)),_0x49f373[_0x1cdef2(0x7ad)][_0x1cdef2(0x25c)](_0x1cdef2(0x180));}}function renderQuizEditor(_0x4ef716){const _0x5872f1=_0x599685;document[_0x5872f1(0x6f5)](_0x5872f1(0x8ff))[_0x5872f1(0x8c4)]=_0x4ef716[_0x5872f1(0x699)];const _0x2455cf=document['getElementById']('quiz-editor-questions-container');let _0x41466a=_0x4ef716['questions'][_0x5872f1(0x392)]((_0x4698,_0x415865)=>{const _0x21e53e=_0x5872f1;let _0x277696='';const _0x5e6907=_0x4698[_0x21e53e(0x5e5)]||_0x4ef716[_0x21e53e(0x1a3)];switch(_0x5e6907){case _0x21e53e(0x9bb):const _0xf988c4=(_0x4698['options']||[])[_0x21e53e(0x392)]((_0x16298a,_0x336368)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x415865+_0x21e53e(0x897)+_0x336368+'\x22\x20'+(_0x336368===_0x4698['correctAnswerIndex']?_0x21e53e(0x788):'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x16298a+_0x21e53e(0x538))[_0x21e53e(0x70f)]('');_0x277696=_0x21e53e(0x963)+_0xf988c4+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':_0x277696=_0x21e53e(0x528)+(_0x4698[_0x21e53e(0xa6e)]||'')+_0x21e53e(0x762);break;case _0x21e53e(0x932):_0x277696=_0x21e53e(0x877)+_0x415865+'\x22\x20value=\x22true\x22\x20'+(_0x4698['correctAnswer']===!![]?_0x21e53e(0x788):'')+_0x21e53e(0x82d)+_0x415865+_0x21e53e(0xa21)+(_0x4698[_0x21e53e(0xa0b)]===![]?_0x21e53e(0x788):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x21e53e(0x228):_0x277696='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x4698[_0x21e53e(0xa0f)]||'')+_0x21e53e(0x4c7);break;}const _0x312e61=_0x4698[_0x21e53e(0x4ed)]||_0x4698[_0x21e53e(0x9a4)]||'';return _0x21e53e(0x43e)+_0x415865+_0x21e53e(0x70d)+_0x5e6907+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x415865+0x1)+'\x20('+_0x5e6907+_0x21e53e(0x91d)+_0x312e61+_0x21e53e(0x998)+_0x277696+_0x21e53e(0x31d);})[_0x5872f1(0x70f)]('');_0x2455cf['innerHTML']=_0x41466a,_0x2455cf[_0x5872f1(0x3b5)](_0x5872f1(0x6f2))[_0x5872f1(0x24d)](_0x303093=>{const _0x32308d=_0x5872f1;_0x303093[_0x32308d(0x2a3)](_0x32308d(0x41c),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x12edc1){const _0x5dac9a=_0x599685,_0x5c3b7e=_0x12edc1[_0x5dac9a(0xac9)],_0x1bcf7a=_0x5c3b7e['closest'](_0x5dac9a(0x63a));if(!_0x1bcf7a)return;const _0x5d046a=parseInt(_0x1bcf7a[_0x5dac9a(0x4eb)]['qIndex'],0xa);if(isNaN(_0x5d046a)||!currentEditingQuizData[_0x5dac9a(0x4ac)][_0x5d046a]){showMessage(_0x5dac9a(0x792));return;}const _0x39d61f=currentEditingQuizData[_0x5dac9a(0x4ac)][_0x5d046a];_0x5c3b7e[_0x5dac9a(0x88b)]=_0x5dac9a(0xa1a),_0x5c3b7e[_0x5dac9a(0x8c1)]=!![];const _0x326b16=_0x5dac9a(0x2f4)+JSON[_0x5dac9a(0x3eb)](_0x39d61f)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x1d8d9a;const _0x8ca1a3=_0x39d61f[_0x5dac9a(0x5e5)]||currentEditingQuizData['quizType'];switch(_0x8ca1a3){case _0x5dac9a(0x7ff):_0x1d8d9a={'type':'OBJECT','properties':{'questionText':{'type':_0x5dac9a(0x89b)},'idealAnswer':{'type':_0x5dac9a(0x89b)},'explanation':{'type':_0x5dac9a(0x89b)},'imageCode':{'type':'STRING'}},'required':['questionText','idealAnswer',_0x5dac9a(0x7c2)]};break;case _0x5dac9a(0x9bb):default:_0x1d8d9a={'type':_0x5dac9a(0x284),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5dac9a(0x89b)},'imageCode':{'type':'STRING'}},'required':[_0x5dac9a(0x4ed),_0x5dac9a(0x5d1),_0x5dac9a(0x5db),_0x5dac9a(0x7c2)]};break;}try{let _0x1c4d25=await callAnalysisApi(_0x326b16,_0x1d8d9a);_0x1c4d25['options']&&Array[_0x5dac9a(0x9ff)](_0x1c4d25[_0x5dac9a(0x5d1)])&&(_0x1c4d25['options']=_0x1c4d25[_0x5dac9a(0x5d1)][_0x5dac9a(0x392)](_0x54d687=>typeof _0x54d687==='string'?_0x54d687[_0x5dac9a(0x2a2)](/S(\s*[\d_]+?\s*)S/g,_0x5dac9a(0x7b2)):_0x54d687)),_0x39d61f[_0x5dac9a(0x248)]&&_0x39d61f['imageCode']['includes']('fix\x20the\x20option')&&(_0x1c4d25[_0x5dac9a(0x248)]=''),currentEditingQuizData[_0x5dac9a(0x4ac)][_0x5d046a]={..._0x39d61f,..._0x1c4d25},renderQuizEditor(currentEditingQuizData),showMessage(_0x5dac9a(0x309));}catch(_0x5b1a25){console[_0x5dac9a(0x30a)]('AI\x20Fix\x20Error:',_0x5b1a25),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0xa572ad=_0x599685,_0x13db0b=document[_0xa572ad(0x6f5)](_0xa572ad(0x603));_0x13db0b[_0xa572ad(0x8c1)]=!![],_0x13db0b['innerHTML']=_0xa572ad(0x2c9);try{const _0x27f179=document[_0xa572ad(0x6f5)](_0xa572ad(0x8ff))[_0xa572ad(0x8c4)],_0x20920e=document[_0xa572ad(0x3b5)](_0xa572ad(0x63a));let _0x3ef066=[];const _0x114ee0=Array[_0xa572ad(0x189)](_0x20920e)[_0xa572ad(0x392)]((_0x4054a0,_0x432d1b)=>{const _0x2b9f27=_0xa572ad,_0x34d26a=_0x4054a0[_0x2b9f27(0x4eb)][_0x2b9f27(0x9f5)],_0x2ea9c9=_0x4054a0[_0x2b9f27(0x9ae)](_0x2b9f27(0x729))[_0x2b9f27(0x8c4)][_0x2b9f27(0x2a2)](/\n/g,_0x2b9f27(0x3c5));let _0x4d38ab={'questionType':_0x34d26a};const _0x280a5a=currentEditingQuizData['questions'][_0x432d1b];switch(_0x34d26a){case _0x2b9f27(0x9bb):_0x4d38ab[_0x2b9f27(0x4ed)]=_0x2ea9c9;const _0xe7c360=_0x4054a0[_0x2b9f27(0x3b5)](_0x2b9f27(0x3c0));_0x4d38ab[_0x2b9f27(0x5d1)]=Array[_0x2b9f27(0x189)](_0xe7c360)['map'](_0x19644a=>_0x19644a[_0x2b9f27(0x8c4)]);const _0x235ed8=_0x4054a0[_0x2b9f27(0x9ae)](_0x2b9f27(0x4cc));_0x4d38ab[_0x2b9f27(0x5db)]=_0x235ed8?parseInt(_0x235ed8[_0x2b9f27(0x8c4)]):0x0;break;case _0x2b9f27(0x7ff):_0x4d38ab[_0x2b9f27(0x4ed)]=_0x2ea9c9,_0x4d38ab[_0x2b9f27(0xa6e)]=_0x4054a0[_0x2b9f27(0x9ae)](_0x2b9f27(0x75b))['value'];break;case _0x2b9f27(0x932):_0x4d38ab[_0x2b9f27(0x4ed)]=_0x2ea9c9;const _0x2c5d4c=_0x4054a0[_0x2b9f27(0x9ae)]('input[type=\x22radio\x22]:checked');_0x4d38ab[_0x2b9f27(0xa0b)]=_0x2c5d4c?_0x2c5d4c[_0x2b9f27(0x8c4)]===_0x2b9f27(0x630):!![];break;case _0x2b9f27(0x228):_0x4d38ab[_0x2b9f27(0x9a4)]=_0x2ea9c9;const _0x557bbf=_0x4054a0[_0x2b9f27(0x9ae)](_0x2b9f27(0x973));_0x4d38ab[_0x2b9f27(0xa0f)]=_0x557bbf?_0x557bbf[_0x2b9f27(0x8c4)]:'',_0x3ef066[_0x2b9f27(0x6a1)](_0x4d38ab[_0x2b9f27(0xa0f)]);break;default:_0x4d38ab['questionText']=_0x2ea9c9;break;}return{..._0x280a5a,..._0x4d38ab};});_0x3ef066['length']>0x0&&_0x114ee0[_0xa572ad(0x24d)](_0x3785c4=>{const _0x41a32b=_0xa572ad;_0x3785c4[_0x41a32b(0x5e5)]===_0x41a32b(0x228)&&(_0x3785c4['allResponses']=_0x3ef066);});const _0x30c0c5=currentEditingQuizData['id'],_0x66e385=doc(db,_0xa572ad(0x3d7)+appId+_0xa572ad(0x198),_0x30c0c5);await updateDoc(_0x66e385,{'topic':_0x27f179,'questions':_0x114ee0}),document[_0xa572ad(0x6f5)]('quiz-editor-modal')[_0xa572ad(0x7ad)][_0xa572ad(0x25c)](_0xa572ad(0x180)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x30c0c5));}catch(_0x52faf0){console[_0xa572ad(0x30a)](_0xa572ad(0xa74),_0x52faf0),showMessage(_0xa572ad(0x886));}finally{_0x13db0b[_0xa572ad(0x8c1)]=![],_0x13db0b[_0xa572ad(0x88b)]=_0xa572ad(0x1d4);}}async function initiateReGradeProcess(_0x3f3fc7){const _0x23a81d=_0x599685;showMessage(_0x23a81d(0x3b1));try{const _0x291b3a=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3f3fc7),_0x54e3d1=await getDoc(_0x291b3a);if(!_0x54e3d1['exists']())throw new Error(_0x23a81d(0x5d4));const _0x1e7b0e={'id':_0x3f3fc7,..._0x54e3d1[_0x23a81d(0x7e5)]()},_0x147423=collection(db,_0x23a81d(0x3d7)+appId+'/public/data/quizzes',_0x3f3fc7,_0x23a81d(0x66c)),_0x9fc58b=await getDocs(_0x147423);if(_0x9fc58b[_0x23a81d(0xa41)]){showMessage(_0x23a81d(0x4c8));return;}const _0x1ee32c=_0x9fc58b[_0x23a81d(0x5e9)][_0x23a81d(0x392)](_0xb5749b=>reGradeSingleSubmission(_0xb5749b,_0x1e7b0e));await Promise[_0x23a81d(0xa60)](_0x1ee32c);if(_0x1e7b0e[_0x23a81d(0x7f1)]){const _0x2414a0=doc(db,_0x23a81d(0x3d7)+appId+_0x23a81d(0x581),_0x1e7b0e['projectId']),_0x288c21=await getDoc(_0x2414a0);if(_0x288c21['exists']()&&_0x288c21[_0x23a81d(0x7e5)]()[_0x23a81d(0x1a6)]){const _0x3cd882=_0x288c21[_0x23a81d(0x7e5)]()['students']['map'](_0x299b1c=>updateStudentProfile(_0x1e7b0e['projectId'],_0x299b1c));await Promise[_0x23a81d(0xa60)](_0x3cd882);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x9fc58b['size']+_0x23a81d(0x435));}catch(_0x1e85a1){console[_0x23a81d(0x30a)](_0x23a81d(0x692),_0x1e85a1),showMessage(_0x23a81d(0x88d)+_0x1e85a1[_0x23a81d(0x1fc)]);}}async function reGradeSingleSubmission(_0x3e5dbc,_0x32de5b){const _0x5f00b5=_0x599685,_0x5e2f74=_0x3e5dbc['data'](),_0x4afe8d=_0x5e2f74['studentName'],_0x599b45=_0x5e2f74[_0x5f00b5(0x42d)]||[],_0xa33216=[];for(const _0xf418c2 of _0x599b45){let _0xcd137e=0x0,_0x49ecc6=[],_0x40bd92=0x0;const _0x3e8d92=[];for(const _0x1abe57 of _0xf418c2[_0x5f00b5(0xa62)]){let _0x3105eb;_0x1abe57[_0x5f00b5(0x93c)]&&(_0x3105eb=_0x32de5b[_0x5f00b5(0x4ac)]['find'](_0x2ba41a=>_0x2ba41a['id']===_0x1abe57[_0x5f00b5(0x93c)]));!_0x3105eb&&_0x1abe57[_0x5f00b5(0x5b3)]&&(_0x3105eb=_0x32de5b['questions'][_0x5f00b5(0x726)](_0x41c868=>(_0x41c868['stem']||_0x41c868['questionText'])===_0x1abe57[_0x5f00b5(0x5b3)]));let _0x269ee1=![];if(_0x3105eb){const _0x54ccb4=_0x3105eb[_0x5f00b5(0x5e5)]||_0x32de5b['quizType'];switch(_0x54ccb4){case _0x5f00b5(0x9bb):if(_0x3105eb[_0x5f00b5(0x5d1)]&&_0x3105eb[_0x5f00b5(0x5db)]<_0x3105eb['options'][_0x5f00b5(0x5b5)]){const _0x2b5c66=_0x3105eb[_0x5f00b5(0x5d1)][_0x3105eb['correctAnswerIndex']];_0x269ee1=_0x1abe57[_0x5f00b5(0x680)]===_0x2b5c66;}break;case _0x5f00b5(0x932):const _0x1841ef=_0x1abe57[_0x5f00b5(0x970)]===!![]||_0x1abe57[_0x5f00b5(0x970)]===_0x5f00b5(0x630);_0x269ee1=_0x1841ef===_0x3105eb['correctAnswer'];break;case _0x5f00b5(0x228):_0x269ee1=_0x1abe57['answer']===_0x3105eb[_0x5f00b5(0xa0f)];break;case _0x5f00b5(0x7ff):_0x269ee1=await gradeShortAnswer(_0x1abe57[_0x5f00b5(0x970)],_0x3105eb);break;default:_0x269ee1=_0x1abe57[_0x5f00b5(0x635)];break;}}if(_0x269ee1){_0xcd137e++,_0x40bd92++;if(_0x40bd92===0x3)_0x49ecc6[_0x5f00b5(0x6a1)](BADGES['ON_FIRE']['id']);}else _0x40bd92=0x0;_0x3e8d92[_0x5f00b5(0x6a1)]({..._0x1abe57,'isCorrect':_0x269ee1});}let _0x159214=_0xcd137e*0xa;_0xcd137e===_0x32de5b[_0x5f00b5(0x4ac)][_0x5f00b5(0x5b5)]&&(_0x159214+=0x32,_0x49ecc6[_0x5f00b5(0x6a1)](BADGES['PERFECT_SCORE']['id'])),_0xa33216[_0x5f00b5(0x6a1)]({..._0xf418c2,'score':_0xcd137e,'points':_0x159214,'badges':Array[_0x5f00b5(0x189)](new Set(_0x49ecc6)),'answers':_0x3e8d92});}const _0x7fdaa8=_0xa33216['length']>0x0?_0xa33216[0x0][_0x5f00b5(0x9df)]:0x0,_0x5ad95e=Math['max'](..._0xa33216[_0x5f00b5(0x392)](_0x2ce2c0=>_0x2ce2c0['score'])),_0x3e92e1=_0xa33216[_0x5f00b5(0x5b5)]>0x0?_0xa33216[_0xa33216[_0x5f00b5(0x5b5)]-0x1][_0x5f00b5(0x9df)]:0x0,_0x2cd6a3=_0xa33216[_0x5f00b5(0x5b5)]>0x0?_0xa33216[_0xa33216[_0x5f00b5(0x5b5)]-0x1][_0x5f00b5(0x2ea)]:0x0,_0x32b477=doc(db,_0x5f00b5(0x3d7)+appId+_0x5f00b5(0x754)+_0x32de5b['id']+_0x5f00b5(0x98a),_0x4afe8d);await updateDoc(_0x32b477,{'attempts':_0xa33216,'firstScore':_0x7fdaa8,'bestScore':_0x5ad95e,'latestScore':_0x3e92e1,'points':_0x2cd6a3});}function cleanupQuizOptions(_0x171a2d){const _0x43f445=_0x599685,_0x31bd33=(_0x235928,_0x39cb60)=>_0x39cb60===0x0?_0x235928:_0x31bd33(_0x39cb60,_0x235928%_0x39cb60),_0x5a3de0=_0x384957=>{const _0x379f1a=_0x2110;if(typeof _0x384957!==_0x379f1a(0x4a2))return null;_0x384957=_0x384957[_0x379f1a(0x8cf)]();const _0x3bade4=_0x384957[_0x379f1a(0x8e5)](/[ /]/)[_0x379f1a(0x7c9)](_0x28d67c=>_0x28d67c!=='');if(_0x3bade4['length']===0x3)return parseInt(_0x3bade4[0x0])+parseInt(_0x3bade4[0x1])/parseInt(_0x3bade4[0x2]);else{if(_0x3bade4[_0x379f1a(0x5b5)]===0x2)return parseInt(_0x3bade4[0x0])/parseInt(_0x3bade4[0x1]);else{if(_0x3bade4[_0x379f1a(0x5b5)]===0x1&&!isNaN(_0x3bade4[0x0]))return parseFloat(_0x3bade4[0x0]);}}return null;},_0x428779=_0x1312cf=>{const _0x5525ed=_0x2110;if(typeof _0x1312cf!==_0x5525ed(0x4a2))return _0x1312cf;const _0xa62503=_0x1312cf[_0x5525ed(0x77b)](/(\d+)\s+(\d+)\/(\d+)/);if(_0xa62503){const _0x2c0abd=parseInt(_0xa62503[0x1]);let _0xf7937c=parseInt(_0xa62503[0x2]),_0x22b105=parseInt(_0xa62503[0x3]);const _0x3ba5d1=_0x31bd33(_0xf7937c,_0x22b105);_0xf7937c/=_0x3ba5d1,_0x22b105/=_0x3ba5d1;if(_0x22b105===0x1)return(_0x2c0abd+_0xf7937c)[_0x5525ed(0x8b5)]();return _0x2c0abd+'\x20'+_0xf7937c+'/'+_0x22b105;}return _0x1312cf;};return _0x171a2d&&_0x171a2d[_0x43f445(0x4ac)]&&_0x171a2d['questions'][_0x43f445(0x24d)](_0x317970=>{const _0x3b1b5c=_0x43f445;if(_0x317970[_0x3b1b5c(0x5e5)]===_0x3b1b5c(0x9bb)&&_0x317970[_0x3b1b5c(0x5d1)]){const _0x4fc398=new Map(),_0x23b0e1=_0x317970[_0x3b1b5c(0x5d1)][_0x317970[_0x3b1b5c(0x5db)]];_0x317970['options']['forEach'](_0x4689ab=>{const _0x128d5f=_0x3b1b5c,_0x4f7d81=_0x428779(_0x4689ab),_0x2a1436=_0x5a3de0(_0x4f7d81);_0x2a1436!==null&&!_0x4fc398[_0x128d5f(0x492)](_0x2a1436)&&_0x4fc398[_0x128d5f(0x3dc)](_0x2a1436,_0x4f7d81);}),_0x317970[_0x3b1b5c(0x5d1)]=Array[_0x3b1b5c(0x189)](_0x4fc398[_0x3b1b5c(0x7d0)]());const _0x25b627=_0x317970[_0x3b1b5c(0x5d1)][_0x3b1b5c(0x489)](_0x23f004=>_0x23f004===_0x428779(_0x23b0e1));_0x317970[_0x3b1b5c(0x5db)]=_0x25b627!==-0x1?_0x25b627:0x0;}}),_0x171a2d;}function showGameStartConfirmationModal(_0x1027c7,_0x313278,_0x2f29a2){const _0x2807a4=_0x599685,_0x11a870=document[_0x2807a4(0x6f5)]('confirm-game-start-modal');document['getElementById'](_0x2807a4(0x506))['textContent']=_0x2807a4(0x52e)+_0x2f29a2,document[_0x2807a4(0x6f5)](_0x2807a4(0x1a1))['value']=_0x1027c7,document[_0x2807a4(0x6f5)]('game-start-mode')['value']=_0x313278,document[_0x2807a4(0x6f5)](_0x2807a4(0x7c8))[_0x2807a4(0x788)]=!![],_0x11a870[_0x2807a4(0x7ad)][_0x2807a4(0xac8)](_0x2807a4(0x180));}async function saveGameResultsAsSubmissions(_0x5e5efd){const _0x57d5cf=_0x599685;console[_0x57d5cf(0x8af)]('Attempting\x20to\x20save\x20game\x20results...',_0x5e5efd);const _0x372136=_0x5e5efd['quizId'];let _0x3806f1=[];if(_0x5e5efd['players'])_0x3806f1=Object[_0x57d5cf(0x4ef)](_0x5e5efd[_0x57d5cf(0x255)])[_0x57d5cf(0x392)](([_0x2ec5da,_0x4660e7])=>({'name':_0x2ec5da,..._0x4660e7}));else{if(_0x5e5efd[_0x57d5cf(0x714)])Object['values'](_0x5e5efd[_0x57d5cf(0x714)])[_0x57d5cf(0x24d)](_0x20bb03=>{const _0x47aab8=_0x57d5cf;_0x20bb03[_0x47aab8(0x408)][_0x47aab8(0x24d)](_0x53c017=>{const _0x307332=_0x47aab8;_0x3806f1[_0x307332(0x6a1)]({'name':_0x53c017,'score':_0x20bb03['score']});});});else _0x5e5efd[_0x57d5cf(0x843)]&&Object[_0x57d5cf(0x4ef)](_0x5e5efd[_0x57d5cf(0x843)])[_0x57d5cf(0x24d)](([_0x4e63c6,_0x25ca4a])=>{_0x3806f1['push']({'name':_0x4e63c6,..._0x25ca4a});});}if(_0x3806f1[_0x57d5cf(0x5b5)]===0x0){console[_0x57d5cf(0x8af)](_0x57d5cf(0x8e1));return;}const _0x5c1028=_0x5e5efd['shuffledQuiz']?.[_0x57d5cf(0x4ac)]['length']||currentQuizData[_0x57d5cf(0x4ac)]['length'],_0x5bed87=writeBatch(db);for(const _0x3d1eba of _0x3806f1){const _0x151c80=_0x3d1eba[_0x57d5cf(0x9df)]||0x0,_0x11baae=doc(db,_0x57d5cf(0x3d7)+appId+_0x57d5cf(0x754)+_0x372136+'/submissions',_0x3d1eba[_0x57d5cf(0x472)]),_0x1a7658=(_0x3d1eba[_0x57d5cf(0xa62)]||[])[_0x57d5cf(0x7c9)](_0x31fec0=>_0x31fec0['isCorrect'])[_0x57d5cf(0x5b5)],_0x2c6eac={'score':_0x1a7658,'points':_0x151c80,'badges':_0x3d1eba[_0x57d5cf(0x3f0)]||[],'submittedAt':new Date()[_0x57d5cf(0x73f)](),'answers':(_0x3d1eba['answers']||[])[_0x57d5cf(0x392)](_0x518ea6=>({'questionId':_0x518ea6['questionId'],'answer':_0x518ea6[_0x57d5cf(0x970)],'answerText':_0x518ea6[_0x57d5cf(0x680)],'isCorrect':_0x518ea6['isCorrect'],'originalQuestionText':_0x518ea6[_0x57d5cf(0x5b3)],'wasConfident':_0x518ea6[_0x57d5cf(0x2a4)]}))},_0xf3b507=await getDoc(_0x11baae),_0x323c85=_0xf3b507[_0x57d5cf(0x478)]()?_0xf3b507[_0x57d5cf(0x7e5)]():{},_0x1f7b45=_0x323c85[_0x57d5cf(0x1b9)]||0x0,_0x3b0214=_0x323c85['attempts']||[],_0x40f99f={'studentName':_0x3d1eba['name'],'totalQuestions':_0x5c1028,'attempts':arrayUnion(_0x2c6eac),'latestScore':_0x1a7658,'points':_0x151c80,'latestSubmittedAt':_0x2c6eac[_0x57d5cf(0x639)],'bestScore':Math[_0x57d5cf(0x64f)](_0x1f7b45,_0x1a7658),'firstScore':_0x3b0214['length']===0x0?_0x1a7658:_0x323c85['firstScore']||0x0};_0x5bed87[_0x57d5cf(0x3dc)](_0x11baae,_0x40f99f,{'merge':!![]});}try{await _0x5bed87[_0x57d5cf(0x724)](),showMessage(_0x57d5cf(0xa7d)+_0x3806f1[_0x57d5cf(0x5b5)]+_0x57d5cf(0x25a));const _0x2b29d3=_0x5e5efd[_0x57d5cf(0x6de)]?.[_0x57d5cf(0x7f1)]||currentQuizData?.[_0x57d5cf(0x7f1)]||currentProjectId;if(_0x2b29d3){const _0xb082f0=[...new Set(_0x3806f1['map'](_0x2061bf=>_0x2061bf[_0x57d5cf(0x472)]))];for(const _0x1b17da of _0xb082f0){await updateStudentProfile(_0x2b29d3,_0x1b17da);}}}catch(_0x50b587){console['error'](_0x57d5cf(0x7df),_0x50b587),showMessage(_0x57d5cf(0x7e7));}}async function saveQuiz(){const _0x5d8b76=_0x599685;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0xde6d72=document[_0x5d8b76(0x6f5)](_0x5d8b76(0x91b));_0xde6d72[_0x5d8b76(0x8c1)]=!![],_0xde6d72['innerHTML']=_0x5d8b76(0x2c9);const _0x12a950=document['getElementById'](_0x5d8b76(0x365))[_0x5d8b76(0x788)];let _0x364c62=document[_0x5d8b76(0x6f5)]('editable-quiz-topic')[_0x5d8b76(0x183)]['trim']();_0x12a950&&!_0x364c62[_0x5d8b76(0x56b)](_0x5d8b76(0x868))&&(_0x364c62=_0x5d8b76(0x8e0)+_0x364c62);try{const _0x4fea1e={'resultsDisplay':document[_0x5d8b76(0x6f5)](_0x5d8b76(0x663))[_0x5d8b76(0x8c4)],'shuffle':document['getElementById'](_0x5d8b76(0x90e))[_0x5d8b76(0x8c4)],'timerMode':document['getElementById'](_0x5d8b76(0x4c3))[_0x5d8b76(0x8c4)],'timerDuration':parseInt(document['getElementById'](_0x5d8b76(0x341))['value'])||0xa,'passingScore':parseInt(document[_0x5d8b76(0x6f5)](_0x5d8b76(0x646))['value'])||0x0,'isAdaptive':document[_0x5d8b76(0x6f5)](_0x5d8b76(0x36b))[_0x5d8b76(0x788)],'loopUntilPass':document['getElementById'](_0x5d8b76(0x444))[_0x5d8b76(0x788)]},_0xd3a7fc=(currentQuizData[_0x5d8b76(0x4ac)]||[])[_0x5d8b76(0x392)]((_0x114dae,_0x10d937)=>{const _0x1f667b=_0x5d8b76,_0x2c54d0=document[_0x1f667b(0x6f5)](_0x1f667b(0x306))['value'],_0x395091={'id':'q_'+Date[_0x1f667b(0x32f)]()+'_'+_0x10d937,'questionText':_0x114dae[_0x1f667b(0x4ed)]||'','explanation':_0x114dae[_0x1f667b(0x7c2)]||_0x1f667b(0x5ad),'questionType':_0x114dae['questionType']||_0x2c54d0,'imageCode':_0x114dae[_0x1f667b(0x248)]||null};return(_0x395091['questionType']===_0x1f667b(0x9bb)||_0x395091[_0x1f667b(0x5e5)]===_0x1f667b(0x997)||_0x395091[_0x1f667b(0x5e5)]==='mixed'&&_0x114dae[_0x1f667b(0x5d1)])&&(_0x395091[_0x1f667b(0x5d1)]=_0x114dae[_0x1f667b(0x5d1)]||[],_0x395091[_0x1f667b(0x5db)]=_0x114dae[_0x1f667b(0x5db)]!==undefined?_0x114dae[_0x1f667b(0x5db)]:0x0),(_0x395091[_0x1f667b(0x5e5)]===_0x1f667b(0x7ff)||_0x395091[_0x1f667b(0x5e5)]===_0x1f667b(0x2d8)||_0x395091[_0x1f667b(0x5e5)]===_0x1f667b(0x5d0)&&_0x114dae[_0x1f667b(0xa6e)])&&(_0x395091[_0x1f667b(0xa6e)]=_0x114dae[_0x1f667b(0xa6e)]||''),_0x395091[_0x1f667b(0x5e5)]===_0x1f667b(0x932)&&(_0x395091[_0x1f667b(0xa0b)]=_0x114dae[_0x1f667b(0xa0b)]===!![]),_0x395091[_0x1f667b(0x5e5)]===_0x1f667b(0x228)&&(_0x395091[_0x1f667b(0x9a4)]=_0x114dae[_0x1f667b(0x9a4)]||'',_0x395091['correctResponse']=_0x114dae[_0x1f667b(0xa0f)]||'',_0x395091[_0x1f667b(0x4ca)]=_0x114dae[_0x1f667b(0x4ca)]||[]),_0x395091;}),_0x6da30={'topic':_0x364c62,'quizType':currentQuizData['quizType']||_0x5d8b76(0x9bb),'questions':_0xd3a7fc,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x5d8b76(0x825),'settings':_0x4fea1e,'quizMode':_0x12a950?_0x5d8b76(0x4f9):_0x5d8b76(0x25f),'pairedQuizId':null,'lessonPlan':null};let _0x429fc3;while(!![]){_0x429fc3=Math[_0x5d8b76(0x919)](0x3e8+Math[_0x5d8b76(0x536)]()*0x2328)['toString']();const _0x1b7c5f=await getDoc(doc(db,_0x5d8b76(0x3d7)+appId+_0x5d8b76(0x198),_0x429fc3));if(!_0x1b7c5f[_0x5d8b76(0x478)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x5d8b76(0x198),_0x429fc3),_0x6da30),currentQuizData[_0x5d8b76(0x549)]=_0x4fea1e,currentQuizData['id']=_0x429fc3;const _0x4addd1=document[_0x5d8b76(0x6f5)](_0x5d8b76(0x7e1));_0x4addd1['innerHTML']=_0x5d8b76(0xa7f)+_0x429fc3+_0x5d8b76(0x503),document[_0x5d8b76(0x6f5)](_0x5d8b76(0x839))[_0x5d8b76(0x2a3)]('click',()=>copyTextToClipboard(_0x429fc3,_0x5d8b76(0x981))),document[_0x5d8b76(0x6f5)](_0x5d8b76(0x2b0))[_0x5d8b76(0x2a3)](_0x5d8b76(0x41c),()=>handleStartLiveRace(_0x429fc3)),document['getElementById'](_0x5d8b76(0x394))['addEventListener'](_0x5d8b76(0x41c),()=>startPresentation(currentQuizData)),document[_0x5d8b76(0x6f5)](_0x5d8b76(0x5ea))[_0x5d8b76(0x2a3)]('click',startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0xb61f5d){console[_0x5d8b76(0x30a)](_0x5d8b76(0x821),_0xb61f5d),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0xde6d72['disabled']=![],_0xde6d72[_0x5d8b76(0x88b)]=_0x5d8b76(0x84a);}}function promptForProjectAndSave(){const _0x2417d8=_0x599685,_0x3c4626=document[_0x2417d8(0x6f5)](_0x2417d8(0xa75)),_0x1ecbb0=document['getElementById'](_0x2417d8(0x885)),_0x11ea4c=_0x3c4626[_0x2417d8(0x9ae)]('h3'),_0x27ff9=document[_0x2417d8(0x6f5)](_0x2417d8(0x73a));_0x11ea4c['textContent']=_0x2417d8(0x890),_0x27ff9['textContent']=_0x2417d8(0x34a);allProjects['length']===0x0?(_0x1ecbb0[_0x2417d8(0x88b)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x27ff9['disabled']=!![]):(_0x1ecbb0[_0x2417d8(0x88b)]=allProjects[_0x2417d8(0x392)](_0xa54143=>_0x2417d8(0x500)+_0xa54143['id']+'\x22>'+_0xa54143['projectName']+_0x2417d8(0x4ba))['join'](''),_0x27ff9['disabled']=![]);_0x3c4626[_0x2417d8(0x7ad)][_0x2417d8(0xac8)](_0x2417d8(0x180));const _0x14d50a=()=>{const _0x8ee1ed=_0x2417d8,_0x49d453=_0x1ecbb0[_0x8ee1ed(0x8c4)];_0x49d453?(currentProjectId=_0x49d453,_0x3c4626['classList'][_0x8ee1ed(0x25c)](_0x8ee1ed(0x180)),saveQuiz(),_0x11ea4c[_0x8ee1ed(0x406)]=_0x8ee1ed(0x265),_0x27ff9[_0x8ee1ed(0x406)]=_0x8ee1ed(0x206),_0x27ff9[_0x8ee1ed(0x56e)]('click',_0x14d50a),_0x27ff9[_0x8ee1ed(0x2a3)](_0x8ee1ed(0x41c),confirmMoveQuiz)):showMessage(_0x8ee1ed(0x46c));};_0x27ff9[_0x2417d8(0x56e)](_0x2417d8(0x41c),confirmMoveQuiz),_0x27ff9[_0x2417d8(0x2a3)](_0x2417d8(0x41c),_0x14d50a);}function copyTextToClipboard(_0x17ca3b,_0x2cf8af){const _0x3ea1f6=_0x599685,_0x64c86f=document[_0x3ea1f6(0x2bb)](_0x3ea1f6(0x729));_0x64c86f[_0x3ea1f6(0x8c4)]=_0x17ca3b,_0x64c86f['style']['position']='fixed',_0x64c86f[_0x3ea1f6(0x317)]['opacity']='0',document[_0x3ea1f6(0x32c)][_0x3ea1f6(0x879)](_0x64c86f),_0x64c86f[_0x3ea1f6(0x201)](),_0x64c86f[_0x3ea1f6(0x830)]();try{const _0x247758=document[_0x3ea1f6(0x5d3)](_0x3ea1f6(0x8a7));showMessage(_0x247758?_0x2cf8af:_0x3ea1f6(0x9bc));}catch(_0x299e1f){showMessage('คัดลอกไม่สำเร็จ'),console[_0x3ea1f6(0x30a)](_0x3ea1f6(0x5c7),_0x299e1f);}document[_0x3ea1f6(0x32c)][_0x3ea1f6(0x19b)](_0x64c86f);}function listenForProjectQuizzes(_0x502594){const _0x447808=_0x599685,_0x1b4e7e=collection(db,_0x447808(0x3d7)+appId+_0x447808(0x198)),_0x48f9b5=query(_0x1b4e7e,where('projectId','==',_0x502594));unsubscribeQuizzesListener=onSnapshot(_0x48f9b5,async _0x2f3a39=>{const _0x1c81fc=_0x447808;allQuizzes=_0x2f3a39[_0x1c81fc(0x5e9)][_0x1c81fc(0x392)](_0x2bab8c=>({'id':_0x2bab8c['id'],..._0x2bab8c[_0x1c81fc(0x7e5)]()})),renderQuizzes();},_0x1bf8c8=>{const _0x1f2fb8=_0x447808;console[_0x1f2fb8(0x30a)](_0x1f2fb8(0x7ce),_0x1bf8c8),document[_0x1f2fb8(0x6f5)](_0x1f2fb8(0x621))[_0x1f2fb8(0x88b)]=_0x1f2fb8(0x49a);});}async function renderQuizzes(){const _0x238283=_0x599685,_0x16afe9=document[_0x238283(0x6f5)](_0x238283(0x621)),_0x5c7b6b=document[_0x238283(0x6f5)]('quiz-search-input')[_0x238283(0x8c4)][_0x238283(0x607)]();let _0x5f3a68;currentProjectId===_0x238283(0x384)?_0x5f3a68=starredQuizzes:_0x5f3a68=allQuizzes;let _0x1a6c09=_0x5f3a68[_0x238283(0x7c9)](_0x1ff2ed=>_0x1ff2ed[_0x238283(0x699)][_0x238283(0x607)]()[_0x238283(0x7c6)](_0x5c7b6b));_0x1a6c09['sort']((_0x5d4f62,_0x497670)=>new Date(_0x497670[_0x238283(0x1f8)])-new Date(_0x5d4f62['createdAt']));if(_0x1a6c09[_0x238283(0x5b5)]===0x0){_0x16afe9[_0x238283(0x88b)]=_0x238283(0x94e);return;}const _0x48ad2e={},_0x59754d=_0x1a6c09[_0x238283(0x392)](async _0x579b35=>{const _0x10ebd3=_0x238283,_0x4c3f35=collection(db,_0x10ebd3(0x3d7)+appId+'/public/data/quizzes/'+_0x579b35['id']+_0x10ebd3(0x98a)),_0x51bb3d=await getDocs(_0x4c3f35);_0x48ad2e[_0x579b35['id']]=_0x51bb3d[_0x10ebd3(0x1a2)];});await Promise['all'](_0x59754d);let _0x492842='';_0x1a6c09['forEach'](_0x79e455=>{const _0x105058=_0x238283,_0x42ee40=_0x48ad2e[_0x79e455['id']]||0x0,_0x3674c8=_0x79e455[_0x105058(0x800)]||_0x105058(0x825),_0xc27f1c=_0x79e455[_0x105058(0x549)]?.[_0x105058(0x8ec)]||_0x105058(0x649);let _0x38b375='',_0xca9f58='';const _0x1b55a8=new Date();let _0x4c324d=_0x3674c8;if(_0x3674c8===_0x105058(0xa28)){const _0x16970b=_0x79e455[_0x105058(0x29e)]?new Date(_0x79e455[_0x105058(0x29e)]):null,_0x488dcd=_0x79e455['endTime']?new Date(_0x79e455[_0x105058(0x213)]):null;if(_0x488dcd&&_0x1b55a8>_0x488dcd)_0x4c324d=_0x105058(0x8fa);else _0x16970b&&_0x1b55a8<_0x16970b?_0x4c324d=_0x105058(0x809):_0x4c324d=_0x105058(0x825);}switch(_0x4c324d){case _0x105058(0x8fa):_0x38b375=_0x105058(0xa83),_0xca9f58=_0x105058(0x64e);break;case _0x105058(0x809):_0x38b375=_0x105058(0x3c4),_0xca9f58=_0x105058(0x569);break;case _0x105058(0x825):_0x38b375=_0xc27f1c!==_0x105058(0x649)?_0x105058(0x3a9):_0x105058(0xaca),_0xca9f58=_0x105058(0xa06);break;default:_0x38b375=_0x105058(0x6fe),_0xca9f58=_0x105058(0xa06);break;}let _0x1b80ba='';const _0x59cd6c={'day':_0x105058(0x64b),'month':_0x105058(0x64b),'year':_0x105058(0x60c),'hour':_0x105058(0x64b),'minute':_0x105058(0x64b),'hour12':![]};if(_0x3674c8===_0x105058(0xa28)){if(_0x79e455[_0x105058(0x29e)])_0x1b80ba+=_0x105058(0xa76)+new Date(_0x79e455[_0x105058(0x29e)])[_0x105058(0xa38)](_0x105058(0xa08),_0x59cd6c)+_0x105058(0x68b);if(_0x79e455['endTime'])_0x1b80ba+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x79e455['endTime'])[_0x105058(0xa38)]('th-TH',_0x59cd6c)+_0x105058(0x68b);}let _0x4cbdb8='';if(_0x79e455['pairedQuizId']){const _0x21de3b=allQuizzes[_0x105058(0x726)](_0x2e6b35=>_0x2e6b35['id']===_0x79e455[_0x105058(0x486)]);if(_0x21de3b){let _0x2c6fb3,_0x18b88a;new Date(_0x79e455[_0x105058(0x1f8)])<new Date(_0x21de3b[_0x105058(0x1f8)])?(_0x2c6fb3=_0x79e455['id'],_0x18b88a=_0x21de3b['id']):(_0x2c6fb3=_0x21de3b['id'],_0x18b88a=_0x79e455['id']),_0x4cbdb8+=_0x105058(0x1c2)+_0x18b88a+_0x105058(0x3e8)+_0x2c6fb3+_0x105058(0x718);}}else _0x79e455[_0x105058(0x6bc)]===_0x105058(0x4f9)&&(_0x4cbdb8+=_0x105058(0x44c)+_0x79e455['id']+_0x105058(0x3f4));if(_0x79e455[_0x105058(0x6bc)]===_0x105058(0x4f9)&&_0x42ee40>0x0)_0x4cbdb8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x79e455['id']+_0x105058(0x978);else!_0x79e455['pairedQuizId']&&_0x79e455[_0x105058(0x6bc)]!==_0x105058(0x4f9)&&_0x42ee40>0x0&&(_0x4cbdb8+=_0x105058(0x44c)+_0x79e455['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0xdc8022='';_0x79e455['pairedQuizId']?_0xdc8022=_0x105058(0x6e7)+_0x79e455['id']+_0x105058(0x673):_0xdc8022='<button\x20data-quiz-id=\x22'+_0x79e455['id']+_0x105058(0x996),_0x492842+=_0x105058(0x48c)+_0x79e455['id']+_0x105058(0x30f)+_0x79e455['topic']+_0x105058(0x6d6)+_0x79e455['questions']['length']+_0x105058(0x9c3)+new Date(_0x79e455[_0x105058(0x1f8)])[_0x105058(0xa38)]('th-TH')+_0x105058(0x563)+_0x42ee40+_0x105058(0x683)+_0x1b80ba+_0x105058(0x247)+_0xca9f58+'\x22>'+_0x38b375+_0x105058(0x5e1)+_0x79e455['id']+_0x105058(0x1a0)+_0x79e455['id']+_0x105058(0xa18)+(_0x79e455[_0x105058(0x6fa)]?'fas\x20fa-star\x20text-yellow-500':_0x105058(0x9ba))+_0x105058(0x8a9)+_0x4cbdb8+_0x105058(0x655)+_0x79e455['id']+_0x105058(0x485)+_0x79e455['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x79e455['id']+_0x105058(0xaba)+_0x79e455['id']+_0x105058(0x73b)+_0x79e455['id']+_0x105058(0x91c)+_0x79e455['id']+_0x105058(0x35d)+_0x79e455['id']+_0x105058(0x416)+_0x79e455['topic']+_0x105058(0x3f2)+_0x79e455['id']+_0x105058(0x29f)+_0x79e455['id']+_0x105058(0x969)+_0xdc8022+_0x105058(0x24a)+_0x79e455['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x79e455['id']+_0x105058(0xab9)+_0x79e455['id']+_0x105058(0x90c)+_0x79e455['id']+_0x105058(0x425)+_0x79e455['id']+_0x105058(0x38a)+_0x79e455['id']+_0x105058(0x8f4)+_0x79e455['id']+_0x105058(0x39c)+_0x79e455['id']+_0x105058(0x416)+_0x79e455[_0x105058(0x699)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x79e455['id']+_0x105058(0x9f8);}),_0x16afe9[_0x238283(0x88b)]=_0x492842,document[_0x238283(0x3b5)](_0x238283(0x95b))[_0x238283(0x24d)](_0x3eea81=>{const _0x4f2c56=_0x238283;_0x3eea81[_0x4f2c56(0x2a3)]('click',()=>{const _0x1d9c1a=_0x4f2c56,_0x186315=_0x3eea81[_0x1d9c1a(0x4eb)]['quizId'];showQuizDetailView(_0x186315);});});}function _0x5887(){const _0x7dfbeb=['<span\x20class=\x22sort-indicator\x20ml-2\x22>','dashboardConfig','อัปเดตสถานะสำเร็จ','.parallel-quiz-btn','หยุดระบบจับเวลาหรี่หน้าจอ','text-indigo-700','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','#ffffff','worksheet-input-area','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','table','อัปเดตแบบทดสอบเก่า\x20','text-white','all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','answers','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','localeCompare','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','text-content-input','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','cancel-delete-btn','/preferences/main','show-leaderboard-btn','modal-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','dragover','idealAnswer','สัญกรณ์วิทยาศาสตร์','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','#FEF3C7','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20quiz\x20edits:','move-quiz-modal','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','live-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','presentation-modal','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','กฎของโคไซน์','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกผลการเล่นเกมของ\x20','every','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','json','.topic-name-input','ปิดใช้งาน','การคูณทศนิยม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','isConfidenceScoringEnabled','open-scratchpad-btn','.topic-actions-edit','confirm-game-start-modal','Error\x20creating\x20project:','\x20ตอบ','หมดเวลาสำหรับข้อนี้!','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','team-quiz-topic','ลำดับเรขาคณิต\x20(GP)','\x5cfrac{','^{\x5ccirc}\x5ctext{C}$','pin','first_try_ace','scratchpad-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','เส้นตรง:\x20ขนาน/ตั้งฉาก','onerror','หลังเรียน','/public/data/customMathTopics','บันทึกการตั้งค่าการแสดงผลสำเร็จ','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x5cfrac{$1}{$2}','bg-green-200\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','cancel-team-selection-btn','show_pass_fail_only','getPage','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','\x20\x20\x20-\x20','results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','original-mode-checkbox','7023447aUffpF','text/csv;charset=utf-8;','student-initial-view','export-image-btn','clientX','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','\x0a---\x0a','sort','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','view-my-progress-btn','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','พื้นที่สามเหลี่ยม','quiz-leaderboard-table-container','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ยืนยันการจับคู่','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','source-over','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','analytics-summary-cards','binom','content','.pdf','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','remove','currentTarget','เปิดใช้งาน','student-progress','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x20ชุดสำเร็จ!','countdown-display','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-mode-select','เกิดข้อผิดพลาดในการลบผลสอบ','confidenceMode','student-passcode-input','hidden','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','innerText','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนการสอน','$1\x5ctimes','เกิดข้อผิดพลาดในการส่งคำตอบ','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','from','border-red-300\x20bg-red-50','เกมสิ้นสุดลงแล้ว','การลบ','```json','authed_project_','raw','answerValue','live-race','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','print','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','sync-submit-btn','\x20จาก\x20','/public/data/quizzes','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeChild','#FEE2E2','$1^{$2}','standardTopic','student-team-selection-view','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','game-start-quiz-id','size','quizType','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มี','students','rename-quiz-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','Error\x20joining\x20activity:','instructions','isRemedial','timestamp','ผิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','\x20คู่\x20','องค์ประกอบของฟังก์ชัน','hint-btn','scratchpad-canvas','Error\x20processing\x20file\x20for\x20AI:','clientY','display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','bestScore','Group\x20Mode','Remedial\x20quiz\x20generation\x20failed:','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','กรุณาเลือกคำตอบก่อนครับ','รหัสไม่ถูกต้อง','bg-blue-100\x20text-blue-800','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.color-palette-popup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20saving\x20questions\x20to\x20practice\x20bank:','loader','fa-pen','student-progress-content','/public/data/liveGames','confirm-not-confident','scores','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','คะแนนเต็ม!','scrollY','Error\x20displaying\x20question\x20bank:','</div></div></div>','comparison-overall-tab','.live-answer-btn,\x20#sync-submit-btn','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','modal-timer-duration-input','ai-quiz-app-aefee.firebasestorage.app','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','playerName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','pointsLastQuestion','export-pdf-modal','uid','ตอบถูก\x203\x20ข้อติดต่อกัน','การหารเศษส่วน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','confidence-input-','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','transform','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','คำเตือน\x20(','Error\x20duplicating\x20quiz:','date_desc','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','red','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','perfect_score_status','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','desc','visibilityState','sync','.delete-custom-topic-btn','มุมและการวัดมุม','delete-svg-btn','</span></div>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','ดอทโปรดักต์\x20(dot)','upper_group_count','createdAt','เส้นตรง:\x20รูปแบบสมการ','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','originalTopic','message','.\x20แต่ละข้อมี\x20','show_results_and_answers','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','Error\x20confirming\x20players\x20for\x20sync\x20game:','focus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','timed','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','ย้าย','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','sin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','เกิดข้อผิดพลาดในการลบหัวข้อ','student-name-selection-view','actions-container-','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สอบปกติ','#E0E7FF','endTime','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','behavior-log-container','\x22\x5cn','N/A','bg-amber-100\x20text-amber-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','presentation-slide-container','.pin-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointercancel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','passcode-error-msg','.sortable-header','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','สร้างชุดคำถามจับคู่','element','getTextContent','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','matching_item','ทฤษฎีบทพื้นฐานของแคลคูลัส','การคูณ','comparison-chart','ยืนยันการกระทำ','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','คณิตศาสตร์','button','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ห.ร.ม.\x20(GCD)','text-gray-100','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','touchmove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','num-choices-container','จากไฟล์ที่แนบมานี้,\x20','confident','.verification-result','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','next-drill-btn','จำนวนเต็มลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','end-team-quiz-btn','overallGroups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','studentName','game-start-mode','close-student-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','สู้ๆ\x20ลองอีกครั้งนะ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','imageCode','end-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','half_mark_status','rgba(255,\x20255,\x200,\x200.5)','forEach','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','\x22\x20name=\x22question_single\x22\x20value=\x22','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สถิติและความน่าจะเป็น','next-sync-question-btn','moveTo','players','textarea[name=\x22team_answer\x22]','questionDisplayedAt','กรุณาใส่ชื่อโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ\x20สำเร็จ!','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','global-live-game-count','standard','perQuestionStats','summary_chart','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','AI\x20grading\x20failed:','ย้ายแบบทดสอบไปโปรเจคอื่น','อัตราการเปลี่ยนแปลงทันที','modal-shuffle-select','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','Error\x20deleting\x20project:','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','number','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','การหาร','transformOrigin','totalPoints','ไม่สามารถบันทึกการตั้งค่าได้','highlighter-tools-group','.duplicate-quiz-btn','write','สมการยกกำลัง','scores-tab-content','แคลคูลัสเบื้องต้น','left','dispatchEvent','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','พาราโบลา','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','รูปหลายเหลี่ยมและมุมภายใน','.answers','bg-red-100','OBJECT','presentation-scratchpad-btn','after','student-join-game-view','Error\x20deleting\x20submission:','.pair-quiz-btn','</span></p>','ทฤษฎีทวินาม\x20(เบื้องต้น)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','grid','selected-answer-index-hidden','input','admin-password-modal','.question-editor-item[data-q-index=\x22','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reduce','isAdaptive','ยังไม่ส่ง','Enter','nickname-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','beforeend','startTime','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','team-player-status-grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','replace','addEventListener','wasConfident','ปริมาตรรูปทรงสามมิติ','```','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','presentation-ai-result','progress-student-select','ใช่\x20/\x20ถูก','setFont','total','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','catch','start-live-race-generated-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','\x20ใหม่...','activeGameSession','<tr\x20class=\x22','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','กรุณาเลือกคำตอบของกลุ่ม','</tbody></table>','createElement','confirmation-modal','topic-input','transparent','</span><span\x20class=\x22font-bold\x22>','.doc','confirm-global-live-btn','bg-green-200\x20text-green-900','confirm-team-players-btn','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','Error\x20updating\x20quiz\x20settings:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','-\x20ข้อ\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','admin-testing','deg','ฟังก์ชันผกผัน','reveal-answer-btn','requestFullscreen','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','fa-user-astronaut\x20text-blue-700','</form>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','.answeredCurrentQuestion','fill_in_no_choices','สมการราก\x20(radical)','#10B981','circle','11802uGYTUw','ทำคะแนนได้เกินครึ่ง','Error\x20deleting\x20all\x20students:','.scratchpad-content-wrapper','กำลังสร้างแบบทดสอบคู่ขนาน...','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','confirm-rename-quiz-btn','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','modal-timer-duration-container','quiz-leaderboard-table','text-emerald-800','Team\x20Quiz','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','points','quiz-start-time','cancel-test-btn','เรขาคณิตวิเคราะห์','text-purple-600','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','comparison-individual-tab','.delete-quiz-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','solution','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','.generate-post-test-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','player-list-lobby','image/png','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','ไม่พบข้อมูลข้อสอบหลังเรียน','quadraticCurveTo','lowerGroupResponders','viewBox','คัดลอกแบบทดสอบสำเร็จ','#e21b3c','project-dashboard-view','#26890c','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','quiz-type-select','bg-red-500','teachingContent','AI\x20แก้ไขคำถามสำเร็จ!','error','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','<div\x20class=\x22my-6\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x20รายการ...','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','on_fire','quiz-form','quiz-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','get','style','ระยะทางและจุดกึ่งกลาง','text-red-500\x20hover:text-red-700','close-game-final-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','[*]','</div>\x0a</div>\x0a','right','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>ไม่ใช่</p>','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','projectView','parseFromString','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','.topic-name-display','modal-confidence-mode-container','per-question-options','approx','.edit-quiz-btn','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','body','บันทึกการตั้งค่าสำเร็จ','ปริพันธ์ไม่จำกัด','now','/public/data/projects/','การแยกตัวประกอบ','cos','thead','สร้างแบบทดสอบปรนัย','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','checkbox','export-pdf-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','visibilitychange','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','textarea[name=\x22question_single\x22]','back-to-home-manual-release','onchange','tool','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','timer-duration-input','.color-palette-btn','.quiz-bank-parallel-btn','pen','block','<span\x20title=\x22','reset-view-btn','message-modal','มุมพิเศษ\x2045°-45°-90°','เลือกและบันทึก','\x22\x20class=\x22color-palette-btn\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.start-presentation-list-btn','สมการค่าสัมบูรณ์','timer-duration-container','join-live-game-btn','Error\x20generating\x20from\x20link:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','<div\x20class=\x22my-2\x22>','ส่งคำตอบ','confirm-game-start-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','undo-btn','live-submit-short-answer-btn','ตอบถูกทุกข้อในแบบทดสอบนี้','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','Error\x20pairing\x20quizzes:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeItem','Error\x20saving\x20user\x20preference:','pre-test-checkbox','msRequestFullscreen','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','bg-purple-50','asc','.live-answer-btn','adaptive-quiz-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-modal','กำลังอ่านและเตรียมไฟล์...','mean','webkitRequestFullscreen','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','tGain',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','retake-quiz-loop-btn','mousemove','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','พบ\x20Team\x20Quiz!','fullscreenElement','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-project-modal','ชื่อโปรเจคห้ามว่าง','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20Ideal\x20Answer:\x20\x22','bulk-results-display-select','starred','stroke','/public/data/teamQuizzes','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','closePath','ring-2','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','list-view-btn','Error\x20submitting\x20team\x20answer:','</p><p><strong>เฉลย:</strong>\x20','ค.ร.น.\x20(LCM)','map','baseVal','start-presentation-btn','behaviorLog','$1\x20\x5cfrac','num-choices','text-red-600','modal-timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','$1^{\x5ccirc}\x5ctext{C}','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','พื้นที่วงกลม/ส่วนของวงกลม','totalQuestions','bg-gray-50','back-to-project-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','การวัด','สเกลและแผนที่','answering','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','move','\x20mx-1\x20text-lg\x22></i></span>','เปิด\x20(จับเวลา)','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','#FCE7F3','โดเมนและเรนจ์','<option\x20value=\x22\x22>กำลังโหลด...</option>','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','Error\x20generating\x20from\x20parallel\x20test\x20file:','grabbing','อัปเดตการตั้งค่าของแบบทดสอบ\x20','querySelectorAll','กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','ถูกต้อง!','<div>','เกิดข้อผิดพลาดในการจับคู่','pinnedProjects','\x20หัวข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','input[type=\x22text\x22]','times','<p\x20class=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','รอเปิด','<br>','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','/public/data/syncGames','เกิดข้อผิดพลาดในการสร้างห้องเกม','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confirm-quiz-status-btn','auto-fix-latex-btn','pointerdown','</label></div>','text-red-300\x20hover:text-red-100','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','post-test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','set','อนุพันธ์:\x20กฎพื้นฐาน','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','(คู่ขนาน)\x20','.regenerate-question-btn','hover:bg-indigo-100','finished','temp-loader-text-results','.save-to-bank-btn','results-quiz-title','\x22\x20data-pre-test-id=\x22','perfect_score','bulk-confidence-scoring-checkbox','stringify','Error\x20updating\x20pin\x20status:','สร้างคำถามใหม่\x201\x20ข้อ\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','badges','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','(หลังเรียน)\x20','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','attemptNumber','add-student-btn','bg-green-200','results_','confidence-modal','_opt0\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20settings:','<div\x20class=\x22answer-space\x22></div>','เศษส่วน\x20(ย่อ/ขยาย)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','รูปแบบการให้เหตุผล','<p><strong>คำตอบที่แนะนำ:</strong>\x20','drop','textContent','API\x20call\x20failed\x20with\x20status:\x20','members','(^|[^\x5c\x5c])\x5cb','text-green-600\x20font-bold','cancel-game-start-btn','live-game','/public/data/practiceBank','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','delete-all-students-btn','stopPropagation','keydown','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','ไม่พบแบบทดสอบ','(คัดลอก)\x20','.lastAnswerIndex','\x22\x20data-topic=\x22','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','ค่าคลาดเคลื่อนของการวัด','ตรีโกณมิติ','student-project-leaderboard-content','พบข้อสอบ\x20','click','ส่วนเบี่ยงเบนมาตรฐาน','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','shadowBlur','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','loopUntilPass','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','Error\x20listening\x20for\x20student\x20profiles:','shouldSaveResults','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','input[name=\x22team_player\x22]:checked','touchend','attempts','shadowColor','function','ไม่ได้ตอบ','lastAnswerIndex','export-excel-btn','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x22><p\x20class=\x22font-semibold\x22>','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','<div\x20class=\x22loader\x20mx-auto\x22></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20group\x20quiz:','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','Error\x20updating\x20project\x20color:','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','gameData','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','font-bold\x20text-red-700\x20line-through','resultsDisplay','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-upload-input','loop-until-pass-checkbox','(ฉบับง่าย)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','G-V90KRM0L63','กลุ่มของคุณ','currentMode','อสมการเชิงเส้น','pow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20\x0a\x20\x20\x20\x20','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','confirmation-message','bulk-shuffle-select','border-green-300\x20bg-green-50','tfrac','<p><strong>คำตอบของคุณ:</strong>\x20','แบบทดสอบจากคลังส่วนตัว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container:not(.opacity-50)','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','width','.live-answer-btn,\x20#live-submit-short-answer-btn','อนุพันธ์:\x20ผลคูณ/ผลหาร','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>',',\x20r=','className','ไม่พบแบบทดสอบสำหรับรหัสนี้','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','arrayBuffer','top','ai-quiz-app-aefee','rgba(239,\x2068,\x2068,\x200.9)','icon','change','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','AI\x20ไม่สามารถประมวลผลข้อมูลได้','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','คำถามดิบ:\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','กรุณาเลือกโปรเจคที่ต้องการบันทึก','onclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','normal','question-analytics-container','ฐานนิยม','name','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topic-input','global-live-game-modal','leaderboard-quiz','exists','user-id-display','bar','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-save\x22></i>','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','student-name-input','ตัวประกอบและตัวประกอบเฉพาะ','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','overline','show_results_only','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','pairedQuizId','Error\x20fetching\x20projects\x20for\x20move:','\x5ctimes','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','Error\x20toggling\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','goto-next-question-btn','per-question-timer-container','title','\x20\x20\x20-\x20คำตอบ:\x20','<textarea\x20name=\x22question','has','mandatory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','.project-card-container','แบบทดสอบนี้หมดเวลาแล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x20ตัวเลือก.\x20','globalSettings','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','ฟังก์ชันเชิงเส้นและกราฟ','force-math-checkbox','shuffle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','สร้างคำถามแบบใช่/ไม่ใช่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','string','q-explanation-','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','จำนวนเต็มบวก','00:00','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','scale','.topic-row','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','questions','gamePin','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','label','strokeStyle','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','การปัดเศษและประมาณค่า','ชนิดของข้อมูลและการเก็บข้อมูล','submission','ownerSVGElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','cancel-create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</option>','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','rows','live-game-view','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','live-options-container','mouseleave','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','timer-mode-select','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','targetId','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','link-input-area','allResponses','verify-answers-btn','input[type=\x22radio\x22]:checked','student-reading-area','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pop','ตรวจพบการออกจากหน้าจอครบ\x20','touches','cancel-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','.cancel-edit-topic-btn','เมทริกซ์:\x20บวก/คูณ','MathJax','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','quiz-status-modal','blueprint-tab','ความต่อเนื่อง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','justification','\x22>ใช่</p>','offsetWidth','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','การนับ','<div\x20class=\x22p-2\x20rounded-md\x20','.compare-results-btn','dataset','.png','questionText','preTestId','entries','<tr><td\x20colspan=\x22','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','summary','transition-all','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','generate-from-text-btn','export-tutor-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','pre-test','input[type=\x22radio\x22][value=\x22','\x5cs*\x5c(','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์ก่อน','createElementNS','<option\x20value=\x22','(ไม่มีชื่อ)','ทฤษฎีบทพีทาโกรัสและการประยุกต์','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','reference-pdf-upload','ฟังก์ชันแบบชิ้นส่วน','game-start-modal-title','ความชันและเส้นตรง','open-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','projectSort','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การกระจายและการจัดหมู่','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20','\x5csqrt{$1}','beginPath','เกิดข้อผิดพลาดในการลบโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','stdDev','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','preTScore','Sync\x20Mode','analyze-strengths-btn','team-student-list','dfrac','slide-counter','.csv','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','create-from-bank-btn','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','เกิดข้อผิดพลาดในการปักหมุด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-tab','quiz-leaderboard-table-body','prod','ฟังก์ชันกำลังสองและกราฟ','เริ่มกิจกรรม:\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','ไม่พบเอกสารการส่งงานของ\x20','preventDefault','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','admin-password-input','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','random','.pen-size-btn','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','open-sync-scratchpad-btn','project-detail','#F3E8FF','confidence-choice-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','createdBy',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','responses.','แบบปรนัย\x204\x20ตัวเลือก','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','devicePixelRatio','settings','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','interesting-stats-wrapper','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','toFixed','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20text-green-800','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','dataIndex','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','showRankings','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','some','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<li\x20class=\x22','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select[name=\x22question_single\x22]','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','quiz-settings-modal','กลุ่ม:\x20','getBBox','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','startedAt','</span>','ดูผลสรุปสุดท้าย','\x20(ID:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-blue-700\x20bg-blue-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','href','removeEventListener','then','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การบวก','<h1></h1>','มัธยฐาน','confidence','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','/public/data/learnedFixes','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','duration-300','div','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','<div\x20class=\x22mb-3\x20topic-category\x22>','Authentication\x20failed:','keyup','กรุณาเลือกชื่อของคุณ','/public/data/projects','delete',';\x22\x20data-id=\x22','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','student-quiz-leaderboard-tab','.save-custom-topic-btn','.unpair-quiz-btn','lineJoin','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','join-group-activity-btn','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','parallel-test-input-area','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','%</span>','bg-black/20','Error\x20updating\x20quiz\x20status:','แบบเติมคำตอบ','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.quiz-bank-settings-btn','$1\x5cfrac','ส่งแล้ว','คะแนนยังไม่ถึงครึ่ง','PERFECT_SCORE','Error\x20committing\x20score\x20updates:','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','fas\x20fa-bookmark','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','.status','.option-text','lineCap','worksheet-topic-input','text-gray-400\x20hover:text-indigo-600','เรเดียนและการแปลงหน่วย','getDocument','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','offset','pointerup','11IMCEKc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','question-complexity-select','originalQuestionText','1:274192258111:web:4120c9118229b5644dd48a','length','mouseup','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','text-green-700','date_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','0\x200','reset-project-order-btn','setAttribute','[role=\x22textbox\x22]','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','ส่วนเบี่ยงเบนเฉลี่ย','คณิตการเงิน/บูรณาการ','Error\x20updating\x20project\x20name:','อนุพันธ์:\x20กฎลูกโซ่','https://corsproxy.io/?','Copy\x20command\x20failed','#retake-for-improvement-btn','ฟังก์ชันราก\x20(root)','modal-confidence-scoring-checkbox','</p><div>','workerSrc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','setItem','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','mixed','options','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','execCommand','ไม่พบข้อมูลแบบทดสอบ','earned-badges-container','not-found','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','ring-purple-400','fa-dumbbell\x20text-gray-700','correctAnswerIndex','btn','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','Error\x20deleting\x20student:','$1\x5c%','leaderboard','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fixedData','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','index','questionType','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','bg-green-200\x20text-green-900\x20font-bold','Leaderboard\x20update\x20transaction\x20failed:\x20','docs','admin-try-quiz-btn','bulk-loop-until-pass-checkbox','link-topic-input','\x22\x20name=\x22team_answer\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','เพิ่มหัวข้อ\x20\x22','scrollX','projectOrder','gain','เกิดข้อผิดพลาดในการอัปเดต:\x20','msExitFullscreen','passcode-input-container','.ai-fix-formula-btn','.verification-result-editor','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-800','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','เงินงวด\x20(อนุกรมเงินงวด)','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','candidates','line-through\x20text-red-700','dragstart','NUMBER','cancel-quiz-bank-btn','save-quiz-edits-btn','BOOLEAN','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','touchstart','toLowerCase','group','ref','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','วงรี','numeric','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','schedule','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','กรุณาพิมพ์คำตอบ','multiply',':</span><span>','student','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','ไม่พบข้อมูลเกม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','show-results-btn','ความสัมพันธ์ของมุม','undefined','กรุณาเลือกสถานะ','export-leaderboard-excel-btn','file-tab','Error\x20opening\x20quiz\x20editor:','hasPerfectScoreBonus','update','project-quizzes-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','Error\x20joining\x20live\x20game:','text-gray-500','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','helvetica','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความเป็นอิสระของเหตุการณ์','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','currentQuestionIndex','visible','4149320iSmIGH','quiz','$1^{\x5ccirc}','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','true','ไม่มีผู้ตอบตัวเลือกนี้','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','_blank','isCorrect','จุด\x20เส้น\x20ระนาบ','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','submittedAt','.question-editor-item','comparison-modal','\x5cpm','student-name-select','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','FileReader\x20error:','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','PERSEVERANCE','กรุณาป้อนรหัสแบบทดสอบ','</select>','กำลังค้นหากิจกรรม...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','passing-score-input','insertAdjacentHTML','lastAnswerCorrect','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','2-digit','ผู้ไม่ยอมแพ้','ตัวแปรและนิพจน์','text-red-700\x20bg-red-100','max','global-quiz-search-input','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','temp-loader-results','underline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-indigo-600','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','สร้างแบบทดสอบ','submit-team-answer-btn','\x5ccdot','suggestedAnswer','parent','documentElement','\x20/\x20','8vxQjlB','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','results-display-select','fas\x20fa-user-edit','pointermove','คะแนนเต็ม','การเรียงสับเปลี่ยน\x20(Permutation)','touchcancel','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','สรุปผลสุดท้าย','text-tab','submissions','fromCharCode','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','confirm-delete-btn','จำนวนเชิงซ้อน\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','difficulty-level-select','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','Original\x20quiz\x20not\x20found','substring','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','27411472','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','answerText','blockReason','ท็อปฟอร์ม','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบ\x20Sync\x20Game!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-quiz-settings-modal','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','behavior-log','</p>','ระบบอสมการ','เกิดข้อผิดพลาดในการโหลดโปรเจค','ระบบสมการเชิงเส้นสองตัวแปร','จำนวนคู่:','สมการเหตุผล\x20(rational)','analytics-tab-content','Re-grade\x20process\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','ไม่สามารถโหลดรายการโปรเจคได้','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','request','ผู้เชี่ยวชาญ','เรขาคณิต','topic','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','Error\x20adding\x20students:','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','\x5cle','bg-red-100\x20text-red-800','.group','td,\x20th','push','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','fill_in_the_blank','.quiz-bank-item','getContext','text-green-600','load-quiz-btn','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div>','getItem','ไม่ใช่','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','blueprint-upload-input','generate-from-topic-btn','text','screen','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','round','ก่อนเรียน','25125288GHwxEO','<p\x20class=\x22font-bold\x20text-sm\x20','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','ทศนิยม\x20(ค่าประจำหลัก)','cancel-admin-login-btn','quizMode','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','สมการตรีโกณมิติ','border-indigo-400\x20ring-2\x20ring-indigo-200','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','confirm-quiz-settings-btn','bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','text-red-800','\x20ช่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','blueprint-input-area','.project-card-container[data-id]','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','redo-btn','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','manage-players-btn','user','\x22><span>','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','worksheet-tab','.answered','ปรับเพิ่ม/ลดเป็นร้อยละ','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','passcode','doughnut','isScored','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show-in-student-dashboard-checkbox','Error\x20joining\x20sync\x20game:','ผ่าน','shuffledQuiz','back-to-results-btn','warn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','.summary-bar-item','save-visibility-settings-btn','default','projectName','<button\x20data-quiz-id=\x22','analytics-tab-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','เกิดข้อผิดพลาดในการสร้างใบงาน','contents','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','student-quiz-area','.ai-fix-question-btn','.answer-text','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','.ql-editor','behavior-log-tab-content','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','\x20mr-2\x22></i>','ตั้งเวลา\x20(เปิด)','list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','close-lesson-plan-modal-btn','274192258111','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-generation-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','sync-player-list','rgba(79,\x2070,\x20229,\x200.8)','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','การจัดกลุ่มข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-sync-game-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x22\x20data-q-type=\x22','live-player-list','join','เกิดข้อผิดพลาดในการบันทึกลำดับ','practiceProblems','scratchpad-options','cancel-rename-quiz-btn','groups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','bg-green-100\x20font-bold','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบจากหัวข้อ...','podium','min','px)\x20scale(','s;\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<li>','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','tan','close-lesson-plan-modal-footer-btn','sync-manage-players-btn','commit','classStrengths','find','\x22\x20name=\x22drill_answer\x22\x20value=\x22','text-yellow-800','textarea','Error\x20generating\x20easy\x20version\x20quiz:','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','close','project-title','fa-bolt\x20text-blue-500','manual_release','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','blur','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','close-comparison-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','Failed\x20to\x20create/update\x20submission\x20record:','บันทึกการตั้งค่าแล้ว','#view-rankings-btn','confirm-move-quiz-btn','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ลบผลสอบของ\x20','<button\x20data-value=\x22','.start-live-race-btn','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#E5E7EB',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','แบบทดสอบนี้ปิดใช้งานอยู่','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','ไม่สามารถโหลดข้อมูลอันดับได้','timerDuration','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','question','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','student-progress-view','closest','custom-math-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','admin-dashboard','admin','lesson-plan-content','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/quizzes/','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','3318420FfADZZ','type','sum','</span></td>','.ideal-answer-input','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','\x22><i\x20class=\x22fas\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x22\x20data-name=\x22','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','modal-adaptive-quiz-checkbox','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-present-btn','รอ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','พอใช้','กราฟฟังก์ชันตรีโกณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','http://www.w3.org/2000/svg','</p></div>','test','สร้างคำถามแบบเติมคำในช่องว่าง','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','touch','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','generate-from-file-btn','bg-green-400\x20text-white\x20font-bold','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','ยอดเยี่ยม','บันทึกคำถามใหม่\x20','กรุณาเลือกคำตอบ','quiz-editor-questions-container','เกี่ยวกับหัวข้อ\x20\x22','dragend','match','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','latestScore','27cUYjhT','export-word-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','Error\x20generating\x20lesson\x20plan:','answeredCurrentQuestion','\x20กลุ่ม</p></div>','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','checked','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','confirm-create-project-btn','link-tab','อุณหภูมิและการแปลง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อินเวอร์สของเมทริกซ์','main-correct-answer-display','\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','quiz-id-input','input[name=\x22drill_answer\x22]:checked','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</th>','mode-switcher-btn','grid-view-btn','scratchpad-clear-btn','.edit-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','สร้างโปรเจคสำเร็จ!','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','สรุปผลการวิเคราะห์:\x5cn','Error\x20generating\x20quiz:','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','check-answer-btn','parse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','comeback_king','tooltipTarget','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','results','confirm-confident','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','classList','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','bg-black/10','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','promise','$$$1$','\x22,\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','bottom','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','back-to-student-initial-btn','.draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','Error\x20submitting\x20group\x20answer:','trail','\x22...','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','autoTable','str','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','explanation','flex','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','result','includes','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','save-game-results-checkbox','filter','845iJyChO','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','แผนภาพกล่อง\x20(box\x20plot)','classWeaknesses','Error\x20fetching\x20project\x20quizzes:','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','values','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-question-timed-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','$1\x5ctext(','getAttributeNS','.lastAnswerValue','q-text-','Error\x20saving\x20project\x20order:','backgroundColor','toDataURL','enable-passcode-checkbox','comparison-overall-content','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','export-leaderboard-word-btn','Error\x20saving\x20game\x20results:','รากที่สองและที่สาม','generated-quiz-actions','manage','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','quizId','data','players.','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','questionStatus','update-old-quizzes-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x20from\x20sync\x20game:','both','project-sort-select','next-question-btn','badgesCount','projectId','flex\x20flex-col\x20gap-2','name_desc','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isFinished','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','bg-green-100','bg-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','selected-topics-count','confirm-bulk-quiz-settings-btn','comparison-individual-content','scores-tab-btn','lower_group_count','short_answer','status','Error\x20starting\x20live\x20race:',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','text-gray-200','slice','height','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','กฎบวกและกฎคูณ','button[data-id]','scheduled_pending','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','.delete-svg-btn','border-green-700','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','open-quiz-bank-btn','จับคู่แบบทดสอบสำเร็จ!','ผ่านฉลุย','sqrt','<div\x20id=\x22q-image-container-','รีเซ็ตลำดับโปรเจคแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','fa-fire\x20text-orange-500','start-game-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','destination-out','specialist','answer-counter','export-compact-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-try-btn','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','Error\x20saving\x20quiz:','getBoundingClientRect','passingScore','ความคล้ายของรูป','active','quiz-results','เซียนสมองไว','mode','confidence_single','\x22\x20name=\x22confidence','<div><input\x20type=\x22radio\x22\x20id=\x22q','q-image-container-','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','mjx-container','select','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','correct','color','topic-input-area','destroy','.score','</strong></p>','cancel-export-pdf-btn','copy-quiz-id-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','student-quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','teacherSuggestions','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','_opt1\x22\x20name=\x22question','_opt1\x22>ไม่ใช่</label></div>','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','responses','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','math-topics-checkbox-container','quiz-results-view','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','ความเท่ากันทุกประการของสามเหลี่ยม','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','ราชาคัมแบ็ก','ดอกเบี้ยทบต้น','isLooping','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','setTransform','เกิดข้อผิดพลาดในการลบนักเรียน','ระยะเวลา\x20(วินาที):','timer-bar','neq','อัปเดตพฤติกรรมสำหรับ\x20','bg-red-200\x20text-red-800','คะแนน','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','FIRST_TRY_ACE','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','generate-from-parallel-test-btn','lineWidth','จัดการ','bulk-confidence-mode-container','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-input-area','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','highlighter','(ก่อนเรียน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','พีชคณิตและฟังก์ชัน','Error\x20generating\x20parallel\x20test\x20from\x20bank:','ceil','ความแปรปรวน','พื้นที่ใต้กราฟ/ระหว่างกราฟ','17692AShUAf','ลบโปรเจคสำเร็จแล้ว','อสมการค่าสัมบูรณ์','lessonPlan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','confirm-admin-login-btn','กำลังดึงข้อมูลจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','Error\x20saving\x20to\x20question\x20bank:','appendChild','</body></html>','ON_FIRE','ดีมาก','highlighter-tool-btn','</tbody></table></div>','ข้อต่อไป','student-quiz-leaderboard-content','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','files','.ideal-answer-input,\x20.correct-response-input','move-quiz-project-select','เกิดข้อผิดพลาดในการบันทึก','data:application/vnd.ms-word;charset=utf-8,','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','innerHTML','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','ไม่ใช่\x20/\x20ผิด','bg-yellow-50','เลือกโปรเจคเพื่อบันทึก','createObjectURL','ไม่พบข้อมูลโปรเจค','cancel-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','student-list','confirm-join-game-btn','\x22\x20value=\x22','download','ไม่พบแบบทดสอบในระบบเลย','border-red-700','STRING','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','ลำดับเลขคณิต\x20(AP)','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','analytics','per_question','/questionBank','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','leaderboard-table-body','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','readAsDataURL','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','copy','results-table-container','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','circ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเพิ่มนักเรียนได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','log','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','student-project-leaderboard-table-body','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','confidence-mode-select','toString','modal-results-display-select','หน่วยเวลาและการคำนวณเวลา','submit','ระยะจากจุดถึงเส้นตรง','/users/','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตสถานะ','<span\x20class=\x22font-bold\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','ค่าความจริง/ตารางค่าความจริง','ฟังก์ชันยกกำลัง','disabled','category','ระบบเลขและค่าประจำหลัก','value','ยอดเยี่ยม!','learningGaps','-tab','scratchpad-close-btn','Error\x20listening\x20for\x20projects:','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','screen_exit','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','trim','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.kick-player-btn-sync','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','onload','#D1FAE5','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','team','confidence-scoring-checkbox','fill','kick-player-btn','-tab-content','results-tab-content','jspdf','exitFullscreen','การแจกแจงปกติและ\x20z-score','(ก่อนเรียน)\x20','No\x20player\x20data\x20to\x20save.','translate(','draggable-text','comparison','split','rgba(16,\x20185,\x20129,\x200.7)','border-gray-200','คะแนนเฉลี่ย','div[data-question-index=\x22','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','results-quiz-id-display','timerMode','check-presentation-answer-btn','All\x20groups\x20have\x20finished.\x20Ending\x20game.','contentEditable','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','.quiz-bank-move-btn','webkitExitFullscreen','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td></tr>','/studentProfiles','รูปสี่เหลี่ยมและสมบัติ','กำลังจับคู่...','Error\x20unpairing\x20quizzes:','inactive','save-project-name-btn','dimmed','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','editor-quiz-topic','กำลังกลับเข้าสู่เกม\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','การหารทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','mouse','quiz-end-time','typesetPromise','</td>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','shuffle-setting-select','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','upperGroupNames','.topic-category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','groups.','Error\x20saving\x20visibility\x20settings:','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Firebase\x20initialization\x20failed:','Failed\x20to\x20kick\x20player\x20','ดอกเบี้ยอย่างง่าย','floor','_opt0\x22>ใช่</label></div>','save-quiz-btn','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','ai-quiz-app-aefee.firebaseapp.com','frac','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','projectSortOrder','p-2\x20bg-black/10\x20rounded-md','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','target','พิสัย','progress-project-select','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จากเนื้อหาต่อไปนี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','topic-tab','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','true_false','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','bg-red-50','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','keys','application/json','promptFeedback','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','fa-shield-alt\x20text-gray-600','questionId','lesson-plan-title','กรุณาใส่ชื่อใหม่','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','document','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','leaderboard-quiz-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-emerald-900','<p>','project-id-display','ไม่สามารถสร้างโปรเจคได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','toggle','ทำคะแนนเต็มในการทำครั้งแรก','eraser','ร้อยละประยุกต์','แผนการสอน:\x20','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','opacity-50','text-yellow-300','ฟังก์ชันสัมพัทธ์\x20(rational)','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','.pen-color-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การบวกทศนิยม','<p\x20class=\x22text-xl\x22>','.quiz-result-card','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','items','student-result-area','editable-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x5cfrac','answer-grid-container','export-lesson-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-modal','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','deltaY','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิมพ์ตอบ','project-list','answer','<div\x20class=\x22flex-1\x22></div>','open','.correct-response-input','verify-answers-editor-btn','generate-from-link-btn','whole_quiz','no-projects-msg','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','padStart','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#student-quiz-leaderboard-content\x20thead','auto','คัดลอกรหัสแล้ว!','project-search-input','การคูณเศษส่วน','confidence-scoring-toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','parts','save','/submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','back-to-dashboard-btn','จำนวนและการดำเนินการ','presentation-explanation','back-to-student-home-btn','bank-quiz-search-input','\x20รายการสำเร็จ!','$1\x5ctext{','ลิมิต','\x20คะแนน\x20','Error\x20generating\x20parallel\x20post-test:','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','fill_in_with_choices','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','GlobalWorkerOptions','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','upperGroupResponders','export-leaderboard-pdf-btn','#FFFFFF','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x20ครั้ง)</span></td>','#000000','):\x20','Error\x20loading\x20quiz\x20for\x20student:','stem','</h3>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมมาตร\x20(แกน/จุด)','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','201vaWRPb','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','text/html','scratchpad-header','ระยะเวลา\x20(นาที):','querySelector','globalCompositeOperation','การสร้างรูปด้วยวงเวียน–สันตรง','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</li>','firstScore','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x20สำเร็จ','{$1}','MathJax\x20typeset\x20error\x20(analytics):','.sort-indicator','การแจกแจงทวินาม\x20(พื้นฐาน)','far\x20fa-star','multiple_choice','คัดลอกไม่สำเร็จ','toLocaleDateString','project-passcode-modal','Error\x20updating\x20custom\x20topic:','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','latestSubmittedAt','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','questionIndex','กำลังสร้างรูปภาพ...','ไม่ผ่าน','ดีเทอร์มิแนนต์','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','confidence-mode-container','canvas','fadeStartTime','isPasscodeEnabled','[data-topic-container-id]','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lobby','cdot','back-from-results-btn','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','geq','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','description','COMEBACK_KING','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การลบเศษส่วน','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','ถูก','scratchpad-question','loader-text','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','score','behavior-log-tab-btn','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','Failed\x20to\x20end\x20group\x20mode\x20game:','Error\x20starting\x20sync\x20game:','svg','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','cursor','QUICK_THINKER','.presentation-option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','font-bold\x20text-green-700','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','restore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','quiz-search-input','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช่','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x5c\x5c\x5c\x5c(?=(','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','AI\x20request\x20was\x20blocked.\x20Reason:\x20','qType','class','contains','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คำถามถัดไป','fullscreenchange','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','practice-topic-btn','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','isArray','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div><div\x20class=\x22space-y-2\x22>','ความคาดหมาย\x20(Expected\x20value)','setAttributeNS','กฎของไซน์','mousedown','text-green-700\x20bg-green-100','modal-close-btn','th-TH','ควรปรับปรุง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','correctAnswer','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span></div>','save-settings-btn','correctResponse','lowerGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#student-project-leaderboard-content\x20thead','\x20ข้อ\x20','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','Error\x20showing\x20quiz\x20detail\x20view:','cloneNode','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','.isScored','text-green-800','57174BFTNtf','matching','\x5csum','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x22\x20value=\x22false\x22\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','player-count','ARRAY','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','close-presentation-btn','scheduled','Error\x20saving\x20submission:','per-question-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20team\x20quiz:','add-custom-math-topic-btn','finishReason','quick_thinker','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x5cdiv','สลับไปโหมดนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ลำดับการดำเนินการ\x20(PEMDAS)','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','toLocaleString','student-team-join','manage-tab','cancel-quiz-edits-btn','Error\x20joining\x20team\x20quiz:','Error\x20during\x20class\x20analysis:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','POST','กำลังสร้างคำถามข้อ\x20','empty','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','num-questions','แบบทดสอบ:\x20','แก้ไขข้อนี้','Invalid\x20response\x20structure\x20from\x20AI:','generated-quiz-container','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','</tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','code','Invalid\x20response\x20structure\x20from\x20AI.','.quiz-settings-btn','answered'];_0x5887=function(){return _0x7dfbeb;};return _0x5887();}async function handleUnpairQuiz(_0x3ee81d){const _0x3475a8=_0x599685,_0x30a68a=allQuizzes[_0x3475a8(0x726)](_0x473b83=>_0x473b83['id']===_0x3ee81d);if(!_0x30a68a||!_0x30a68a[_0x3475a8(0x486)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x3475a8(0x760),async()=>{const _0x25fbfa=_0x3475a8;try{const _0x2f7550=doc(db,_0x25fbfa(0x3d7)+appId+'/public/data/quizzes',_0x3ee81d),_0x18d724=doc(db,_0x25fbfa(0x3d7)+appId+_0x25fbfa(0x198),_0x30a68a[_0x25fbfa(0x486)]),_0x395aa2=writeBatch(db);_0x395aa2[_0x25fbfa(0x620)](_0x2f7550,{'pairedQuizId':null}),_0x395aa2[_0x25fbfa(0x620)](_0x18d724,{'pairedQuizId':null}),await _0x395aa2[_0x25fbfa(0x724)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0xe3538e){console['error'](_0x25fbfa(0x8f9),_0xe3538e),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x5d6b34,_0x35a531){const _0x5efc4c=_0x599685,_0x429172=window[_0x5efc4c(0x972)]('',_0x5efc4c(0x634)),_0x1c35b8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x35a531['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x35a531[_0x5efc4c(0x699)]+_0x5efc4c(0x2d1)+_0x5d6b34[_0x5efc4c(0x8c6)][_0x5efc4c(0x392)](_0x3fbeec=>'<li>'+_0x3fbeec+'</li>')[_0x5efc4c(0x70f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x5d6b34[_0x5efc4c(0x308)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d6b34['practiceProblems']['map'](_0x3faf30=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x3faf30[_0x5efc4c(0x749)]+_0x5efc4c(0x70c)+_0x3faf30[_0x5efc4c(0x2f3)]+_0x5efc4c(0x400))[_0x5efc4c(0x70f)]('')+_0x5efc4c(0x756);_0x429172['document'][_0x5efc4c(0x276)](_0x1c35b8),_0x429172[_0x5efc4c(0x940)][_0x5efc4c(0x72c)](),_0x429172[_0x5efc4c(0x8d4)]=function(){setTimeout(()=>{const _0x2368bf=_0x2110;_0x429172[_0x2368bf(0x193)]();},0x3e8);};}async function handleAiFixFormula(_0x1f104d){const _0x2442a2=_0x599685,_0x19e0cf=document[_0x2442a2(0x9ae)]('.question-editor-item[data-q-index=\x22'+_0x1f104d+'\x22]');if(!_0x19e0cf)return;const _0x21d80b=_0x19e0cf[_0x2442a2(0x4eb)][_0x2442a2(0x9f5)],_0x3e0b4a=_0x19e0cf[_0x2442a2(0x9ae)](_0x2442a2(0x5f7));let _0x53cbc5={'question':_0x19e0cf[_0x2442a2(0x9ae)](_0x2442a2(0x729))[_0x2442a2(0x8c4)]};switch(_0x21d80b){case _0x2442a2(0x9bb):_0x53cbc5[_0x2442a2(0x5d1)]=Array['from'](_0x19e0cf[_0x2442a2(0x3b5)](_0x2442a2(0x3c0)))[_0x2442a2(0x392)](_0x24834a=>_0x24834a[_0x2442a2(0x8c4)]);break;case'short_answer':_0x53cbc5[_0x2442a2(0xa6e)]=_0x19e0cf[_0x2442a2(0x9ae)](_0x2442a2(0x75b))['value'];break;case _0x2442a2(0x228):_0x53cbc5[_0x2442a2(0xa0f)]=_0x19e0cf[_0x2442a2(0x9ae)](_0x2442a2(0x973))[_0x2442a2(0x8c4)];break;}_0x3e0b4a[_0x2442a2(0x88b)]=_0x2442a2(0xa1a),_0x3e0b4a['disabled']=!![];try{const _0x5b3146=_0x2442a2(0x26b)+JSON[_0x2442a2(0x3eb)](_0x53cbc5)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2a21f6={'type':_0x2442a2(0x284),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':_0x2442a2(0xa25),'items':{'type':_0x2442a2(0x89b)}},'idealAnswer':{'type':_0x2442a2(0x89b)},'correctResponse':{'type':'STRING'}},'required':[_0x2442a2(0x749)]}},'required':['fixedData']},_0x5c0fd0=await callAnalysisApi(_0x5b3146,_0x2a21f6);if(_0x5c0fd0&&_0x5c0fd0['fixedData']){const _0x1aa441=_0x5c0fd0[_0x2442a2(0x5e2)];_0x19e0cf[_0x2442a2(0x9ae)]('textarea')['value']=_0x1aa441[_0x2442a2(0x749)]||_0x53cbc5[_0x2442a2(0x749)];switch(_0x21d80b){case _0x2442a2(0x9bb):_0x1aa441['options']&&_0x1aa441[_0x2442a2(0x5d1)]['length']>0x0&&_0x19e0cf[_0x2442a2(0x3b5)]('input[type=\x22text\x22]')[_0x2442a2(0x24d)]((_0x412087,_0x24249f)=>{const _0x126076=_0x2442a2;_0x412087[_0x126076(0x8c4)]=_0x1aa441[_0x126076(0x5d1)][_0x24249f]||_0x53cbc5['options'][_0x24249f];});break;case _0x2442a2(0x7ff):_0x19e0cf[_0x2442a2(0x9ae)]('.ideal-answer-input')[_0x2442a2(0x8c4)]=_0x1aa441['idealAnswer']||_0x53cbc5[_0x2442a2(0xa6e)];break;case _0x2442a2(0x228):_0x19e0cf['querySelector'](_0x2442a2(0x973))['value']=_0x1aa441[_0x2442a2(0xa0f)]||_0x53cbc5[_0x2442a2(0xa0f)];break;}if(_0x53cbc5['question']!==_0x1aa441[_0x2442a2(0x749)])try{const _0x263fb2=collection(db,_0x2442a2(0x3d7)+appId+_0x2442a2(0x576));await addDoc(_0x263fb2,{'broken':_0x53cbc5[_0x2442a2(0x749)],'fixed':_0x1aa441[_0x2442a2(0x749)],'createdAt':serverTimestamp()});}catch(_0x51e00a){console[_0x2442a2(0x30a)](_0x2442a2(0x689),_0x51e00a);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x2442a2(0x468));}catch(_0x1dfe59){console[_0x2442a2(0x30a)]('AI\x20Formula\x20Fix\x20Error:',_0x1dfe59),showMessage(_0x2442a2(0x962));}finally{_0x3e0b4a[_0x2442a2(0x88b)]=_0x2442a2(0x262),_0x3e0b4a[_0x2442a2(0x8c1)]=![];}}async function handleGenerateLessonPlan(_0x54dd6a){const _0xc103d3=_0x599685;showMessage(_0xc103d3(0x9aa));try{const _0x558872=doc(db,_0xc103d3(0x3d7)+appId+_0xc103d3(0x198),_0x54dd6a),_0x37eef5=await getDoc(_0x558872);if(!_0x37eef5[_0xc103d3(0x478)]())throw new Error(_0xc103d3(0x5d4));const _0xce214f={'id':_0x54dd6a,..._0x37eef5[_0xc103d3(0x7e5)]()},_0x33ba40=collection(db,_0xc103d3(0x3d7)+appId+'/public/data/quizzes',_0x54dd6a,_0xc103d3(0x66c)),_0xbcb534=await getDocs(_0x33ba40),_0x478fda=_0xbcb534[_0xc103d3(0x5e9)][_0xc103d3(0x392)](_0x3ad5db=>_0x3ad5db[_0xc103d3(0x7e5)]());if(_0x478fda[_0xc103d3(0x5b5)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x408547=calculateItemAnalysis(_0xce214f,_0x478fda)[_0xc103d3(0x260)],_0x210a06=calculateDistractorAnalysis(_0xce214f,_0x478fda),_0x109a4a=_0x3acd3e=>{const _0x10b357=_0xc103d3;if(!_0x3acd3e)return'';return _0x3acd3e['replace'](/\\/g,'\x5c\x5c')[_0x10b357(0x2a2)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x53d551=_0xc103d3(0x7a0);_0xce214f[_0xc103d3(0x4ac)]['forEach']((_0x5b4d82,_0x150dfa)=>{const _0x50fe86=_0xc103d3,_0x2278ea=_0x408547[_0x150dfa]?.['p'][_0x50fe86(0x54e)](0x2)||_0x50fe86(0x217),_0x1b21fc=_0x408547[_0x150dfa]?.['r'][_0x50fe86(0x54e)](0x2)||_0x50fe86(0x217),_0x18e368=_0x109a4a(_0x5b4d82[_0x50fe86(0x4ed)]||_0x5b4d82['stem']);_0x53d551+=_0x50fe86(0x2ca)+(_0x150dfa+0x1)+'\x20(p='+_0x2278ea+_0x50fe86(0x45d)+_0x1b21fc+_0x50fe86(0x9a2)+_0x18e368+'\x5cn';if(_0x5b4d82[_0x50fe86(0x5e5)]==='multiple_choice'&&_0x210a06[_0x150dfa]){const _0x368298=_0x210a06[_0x150dfa],_0x358636=Object[_0x50fe86(0x937)](_0x368298)[_0x50fe86(0x7c9)](_0x1a4707=>parseInt(_0x1a4707)!==_0x5b4d82[_0x50fe86(0x5db)])[_0x50fe86(0xab3)]((_0x1ae0b4,_0x2483ce)=>_0x368298[_0x2483ce][_0x50fe86(0x2ac)]-_0x368298[_0x1ae0b4][_0x50fe86(0x2ac)])[0x0];if(_0x358636&&_0x368298[_0x358636][_0x50fe86(0x2ac)]>0x0){const _0xd10206=_0x109a4a(_0x368298[_0x358636]['text']);_0x53d551+=_0x50fe86(0x50e)+_0xd10206+_0x50fe86(0x216);}}});const _0x1892e2=_0xc103d3(0x54d)+_0xce214f[_0xc103d3(0x699)]+_0xc103d3(0x97c)+_0x53d551+_0xc103d3(0xa35),_0x3bd91d={'type':'OBJECT','properties':{'learningGaps':{'type':_0xc103d3(0xa25),'items':{'type':_0xc103d3(0x89b)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0xc103d3(0xa25),'items':{'type':_0xc103d3(0x284),'properties':{'question':{'type':_0xc103d3(0x89b)},'solution':{'type':_0xc103d3(0x89b)}}}}},'required':[_0xc103d3(0x8c6),'teachingContent',_0xc103d3(0x711)]},_0x270783=await callAnalysisApi(_0x1892e2,_0x3bd91d);await updateDoc(_0x558872,{'lessonPlan':_0x270783});const _0x923b9=_0xc103d3(0x195)+_0xce214f[_0xc103d3(0x699)]+_0xc103d3(0x7eb)+_0x270783[_0xc103d3(0x8c6)][_0xc103d3(0x392)](_0x497ff0=>'<li>'+_0x497ff0+_0xc103d3(0x9b2))[_0xc103d3(0x70f)]('')+_0xc103d3(0xa59)+_0x270783['teachingContent']+_0xc103d3(0xaa3)+_0x270783[_0xc103d3(0x711)][_0xc103d3(0x392)](_0x4f242c=>_0xc103d3(0x52f)+_0x4f242c[_0xc103d3(0x749)]+_0xc103d3(0x390)+_0x4f242c[_0xc103d3(0x2f3)]+_0xc103d3(0x76b))['join']('')+_0xc103d3(0x9d8);document[_0xc103d3(0x6f5)](_0xc103d3(0x93d))[_0xc103d3(0x406)]=_0xc103d3(0x94d)+_0xce214f['topic'],document[_0xc103d3(0x6f5)](_0xc103d3(0x751))['innerHTML']=_0x923b9,document[_0xc103d3(0x6f5)](_0xc103d3(0x36d))['classList'][_0xc103d3(0xac8)](_0xc103d3(0x180));if(window[_0xc103d3(0x4dd)])MathJax[_0xc103d3(0x908)]();messageModal['classList'][_0xc103d3(0x25c)](_0xc103d3(0x180));}catch(_0x3fe4df){console['error'](_0xc103d3(0x783),_0x3fe4df),showMessage(_0xc103d3(0x859)+_0x3fe4df['message']);}}async function handleDuplicateQuiz(_0x3e81cf){const _0x5404f7=_0x599685;try{const _0x3e0fdc=doc(db,_0x5404f7(0x3d7)+appId+'/public/data/quizzes',_0x3e81cf),_0x39aecb=await getDoc(_0x3e0fdc);if(_0x39aecb[_0x5404f7(0x478)]()){const _0x244bb9=_0x39aecb[_0x5404f7(0x7e5)]();let _0x2e92d6='',_0x61b81b=_0x5404f7(0x25f),_0x358e94=null;if(_0x244bb9[_0x5404f7(0x6bc)]===_0x5404f7(0x4f9)){let _0x39084b=_0x244bb9['topic']['replace'](_0x5404f7(0x868),'')[_0x5404f7(0x8cf)]();_0x2e92d6=_0x5404f7(0x3f3)+_0x39084b,_0x61b81b=_0x5404f7(0x3d5),_0x358e94=_0x3e81cf;}else _0x2e92d6=_0x5404f7(0x414)+_0x244bb9[_0x5404f7(0x699)];const _0x4775e2={..._0x244bb9,'topic':_0x2e92d6,'createdAt':new Date()['toISOString'](),'quizMode':_0x61b81b,'pairedQuizId':_0x358e94};let _0xa2c2f1;while(!![]){_0xa2c2f1=Math[_0x5404f7(0x919)](0x3e8+Math[_0x5404f7(0x536)]()*0x2328)[_0x5404f7(0x8b5)]();const _0x26654c=await getDoc(doc(db,_0x5404f7(0x3d7)+appId+'/public/data/quizzes',_0xa2c2f1));if(!_0x26654c['exists']())break;}const _0x49389f=doc(db,'artifacts/'+appId+_0x5404f7(0x198),_0xa2c2f1);await setDoc(_0x49389f,_0x4775e2),_0x4775e2[_0x5404f7(0x6bc)]===_0x5404f7(0x3d5)&&await updateDoc(_0x3e0fdc,{'pairedQuizId':_0xa2c2f1}),showMessage(_0x5404f7(0x2ff));}else throw new Error(_0x5404f7(0x675));}catch(_0x5b2486){console[_0x5404f7(0x30a)](_0x5404f7(0x1e3),_0x5b2486),showMessage(_0x5404f7(0x844));}}async function handleDeleteQuiz(_0x20b950,_0x5e77cb=!![]){const _0x1a20fc=_0x599685;try{const _0x2e22d8=writeBatch(db),_0x199ede=collection(db,_0x1a20fc(0x3d7)+appId+_0x1a20fc(0x754)+_0x20b950+_0x1a20fc(0x98a)),_0x5520ff=await getDocs(_0x199ede);_0x5520ff['forEach'](_0x52249a=>{const _0x137d5c=_0x1a20fc;_0x2e22d8[_0x137d5c(0x582)](doc(_0x199ede,_0x52249a['id']));});const _0x4db95a=doc(db,_0x1a20fc(0x3d7)+appId+_0x1a20fc(0x198),_0x20b950);_0x2e22d8[_0x1a20fc(0x582)](_0x4db95a),await _0x2e22d8[_0x1a20fc(0x724)](),_0x5e77cb&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x980e99){console[_0x1a20fc(0x30a)]('Error\x20deleting\x20quiz:',_0x980e99),_0x5e77cb&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x248d63){const _0x503f4f=_0x599685;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x503f4f(0x89f));try{const _0x521479=doc(db,_0x503f4f(0x3d7)+appId+_0x503f4f(0x198),_0x248d63),_0x1282de=await getDoc(_0x521479);if(!_0x1282de[_0x503f4f(0x478)]()){showMessage(_0x503f4f(0x5d4));return;}const _0x4329f7={'id':_0x1282de['id'],..._0x1282de[_0x503f4f(0x7e5)]()};currentQuizData=_0x4329f7;const _0x59f406=doc(db,_0x503f4f(0x3d7)+appId+_0x503f4f(0x581),_0x4329f7[_0x503f4f(0x7f1)]),_0x1202d5=await getDoc(_0x59f406);_0x1202d5[_0x503f4f(0x478)]()?(currentProjectData=_0x1202d5[_0x503f4f(0x7e5)](),currentProjectId=_0x4329f7[_0x503f4f(0x7f1)]):(currentProjectData={'students':[]},currentProjectId=_0x4329f7['projectId']);document[_0x503f4f(0x6f5)](_0x503f4f(0x3e7))['textContent']=_0x4329f7[_0x503f4f(0x699)],document[_0x503f4f(0x6f5)](_0x503f4f(0x8eb))['textContent']=_0x248d63;const _0x545295=collection(db,_0x503f4f(0x3d7)+appId+'/public/data/quizzes',_0x248d63,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x545295,_0x4d81b9=>{const _0x2d55ab=_0x503f4f,_0x317f1f=_0x4d81b9[_0x2d55ab(0x5e9)]['map'](_0x599d0b=>({'id':_0x599d0b['id'],..._0x599d0b[_0x2d55ab(0x7e5)]()}));currentSubmissions=_0x317f1f;const _0xe81fa4=_0x317f1f[_0x2d55ab(0x7c9)](_0x595896=>_0x595896[_0x2d55ab(0x42d)]&&_0x595896['attempts']['length']>0x0);renderBehaviorLog(_0x317f1f),renderAnswerGrid(currentProjectData['students'],_0xe81fa4,_0x4329f7),renderAnalytics(_0x4329f7,_0xe81fa4),renderQuizResultsTable(currentProjectData[_0x2d55ab(0x1a6)],_0x317f1f,_0x4329f7),renderQuizLeaderboard(_0xe81fa4,_0x4329f7,_0x2d55ab(0x52b));}),showView(_0x503f4f(0x826));}catch(_0x1e1899){console[_0x503f4f(0x30a)](_0x503f4f(0xa15),_0x1e1899),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x2f0fe3,_0x26d66a,_0x2f7618){const _0x172ed7=_0x599685,_0x3af94a=document[_0x172ed7(0x6f5)](_0x172ed7(0x965));if(!_0x3af94a)return;if(!_0x2f0fe3||_0x2f0fe3[_0x172ed7(0x5b5)]===0x0){_0x3af94a[_0x172ed7(0x88b)]=_0x172ed7(0x3aa);return;}const _0x96d7f0=_0x2f7618['questions'],_0x322528=_0x26d66a['reduce']((_0x2a3c40,_0x56ac4d)=>{const _0x23408c=_0x172ed7;return _0x2a3c40[_0x56ac4d[_0x23408c(0x241)]]=_0x56ac4d,_0x2a3c40;},{}),_0x41b596=_0x207996=>String[_0x172ed7(0x66d)](0x41+_0x207996),_0x51c070=_0x320b86=>{const _0x596daf=_0x172ed7,_0x22315d=_0x320b86[_0x596daf(0x5e5)]||_0x2f7618[_0x596daf(0x1a3)];switch(_0x22315d){case _0x596daf(0x9bb):return _0x320b86['options']&&_0x320b86[_0x596daf(0x5d1)]['length']>_0x320b86[_0x596daf(0x5db)]?_0x41b596(_0x320b86[_0x596daf(0x5db)]):'-';case _0x596daf(0x932):const _0x5df200=_0x320b86['correctAnswer']===!![]||String(_0x320b86['correctAnswer'])[_0x596daf(0x607)]()===_0x596daf(0x630);return _0x5df200?_0x596daf(0x9f0):'ไม่ใช่';case _0x596daf(0x228):return _0x320b86[_0x596daf(0xa0f)]||'-';case _0x596daf(0x7ff):return _0x596daf(0x96e);default:return'-';}},_0x153258=(_0x302d1d,_0x242b78)=>{const _0x10ec32=_0x172ed7;if(_0x242b78[_0x10ec32(0x970)]===null||_0x242b78[_0x10ec32(0x970)]===undefined)return'-';const _0x33f11c=_0x302d1d[_0x10ec32(0x5e5)]||_0x2f7618[_0x10ec32(0x1a3)];switch(_0x33f11c){case _0x10ec32(0x9bb):const _0x35b27d=_0x302d1d['options'][_0x10ec32(0x489)](_0x258d06=>_0x258d06===_0x242b78['answerText']);return _0x35b27d!==-0x1?_0x41b596(_0x35b27d):_0x242b78[_0x10ec32(0x680)]||'-';case'true_false':if(_0x242b78['answer']=='0'||_0x242b78[_0x10ec32(0x970)]===!![]||_0x242b78[_0x10ec32(0x970)]===_0x10ec32(0x630))return'ใช่';return _0x10ec32(0x6ad);default:return _0x242b78[_0x10ec32(0x970)];}};let _0x2fbd5b=_0x172ed7(0xa72)+_0x96d7f0['map']((_0x357cbf,_0x186b11)=>_0x172ed7(0x45c)+(_0x186b11+0x1)+_0x172ed7(0x797))[_0x172ed7(0x70f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x96d7f0[_0x172ed7(0x392)](_0x4cf52f=>_0x172ed7(0x7cf)+_0x51c070(_0x4cf52f)+_0x172ed7(0x909))[_0x172ed7(0x70f)]('')+_0x172ed7(0x79c);_0x2f0fe3[_0x172ed7(0x24d)](_0x50bf13=>{const _0x5bee96=_0x172ed7;_0x2fbd5b+='<tr>',_0x2fbd5b+=_0x5bee96(0x8f3)+_0x50bf13+_0x5bee96(0x909);const _0x576a50=_0x322528[_0x50bf13];if(_0x576a50){const _0x584f11=_0x576a50['attempts'][_0x576a50['attempts'][_0x5bee96(0x5b5)]-0x1];_0x96d7f0[_0x5bee96(0x24d)]((_0xbdc535,_0x372ba1)=>{const _0x52053e=_0x5bee96,_0x73e34b=_0x584f11[_0x52053e(0xa62)]['find'](_0x346f95=>_0x346f95[_0x52053e(0x93c)]===_0xbdc535['id']);if(_0x73e34b){let _0x551b63='';const _0x45a886=_0x73e34b[_0x52053e(0x635)]===!![],_0x5e6370=_0x73e34b[_0x52053e(0x2a4)]===!![]||_0x73e34b[_0x52053e(0x2a4)]===_0x52053e(0x238);_0x5e6370?_0x551b63=_0x45a886?_0x52053e(0x772):'bg-red-500\x20text-white\x20font-bold':_0x551b63=_0x45a886?_0x52053e(0x7f7):_0x52053e(0x283),_0x2fbd5b+=_0x52053e(0x91e)+_0x551b63+'\x22>'+_0x153258(_0xbdc535,_0x73e34b)+'</td>';}else _0x2fbd5b+=_0x52053e(0x770);});}else _0x2fbd5b+=_0x96d7f0[_0x5bee96(0x392)](()=>_0x5bee96(0x8cc))[_0x5bee96(0x70f)]('');_0x2fbd5b+=_0x5bee96(0xa4c);}),_0x2fbd5b+=_0x172ed7(0x2ba),_0x3af94a[_0x172ed7(0x88b)]=_0x2fbd5b;}function renderQuizResultsTable(_0x5d4461,_0x3e3678,_0x322bf4){const _0x4afe38=_0x599685,_0x2671f9=_0x3e3678['reduce']((_0x4f511a,_0x468d23)=>{const _0x210723=_0x2110;return _0x4f511a[_0x468d23[_0x210723(0x241)]]=_0x468d23,_0x4f511a;},{}),_0x31d9db=document['querySelector']('#results-table\x20thead\x20tr');_0x31d9db&&!_0x31d9db['innerHTML'][_0x4afe38(0x7c6)](_0x4afe38(0x860))&&(_0x31d9db[_0x4afe38(0x88b)]+=_0x4afe38(0x69a));const _0xcbb4ef=document[_0x4afe38(0x6f5)]('quiz-results-table-body');if(!_0x5d4461||_0x5d4461['length']===0x0){_0xcbb4ef[_0x4afe38(0x88b)]=_0x4afe38(0xa32);return;}const _0x10d776=_0x322bf4['isRemedial']===!![],_0x46c5d5=_0x322bf4['settings']?.[_0x4afe38(0x823)]??-0x1;let _0x2aeedb='';_0x5d4461[_0x4afe38(0x24d)](_0x2f6ddb=>{const _0x2dc65c=_0x4afe38,_0x4757bf=_0x2671f9[_0x2f6ddb];let _0x34b1d5=_0x2dc65c(0x181)+(_0x10d776?_0x2dc65c(0x218):_0x2dc65c(0x1bf))+'\x22>'+(_0x10d776?'สอบซ่อม':_0x2dc65c(0x211))+'</span></td>';if(_0x4757bf){if(_0x4757bf[_0x2dc65c(0x42d)]&&_0x4757bf['attempts']['length']>0x0){let _0x1446aa=_0x10d776?_0x4757bf[_0x2dc65c(0x1b9)]===_0x4757bf[_0x2dc65c(0x39e)]:_0x46c5d5!==-0x1&&_0x4757bf['bestScore']>=_0x46c5d5;const _0x3b3178=_0x1446aa?_0x2dc65c(0x550):_0x2dc65c(0x69e),_0x3faaf4=_0x1446aa?_0x2dc65c(0x6dd):_0x2dc65c(0x9c6),_0x2f0a08=_0x2dc65c(0x29c)+_0x3b3178+'\x22>'+_0x3faaf4+_0x2dc65c(0x75a),_0x2d5353=_0x2dc65c(0x54a)+(_0x4757bf[_0x2dc65c(0x42d)]?.[_0x2dc65c(0x5b5)]||0x1)+_0x2dc65c(0x9a0);_0x2aeedb+=_0x2dc65c(0x3f5)+_0x2f6ddb+_0x2dc65c(0x6a3)+_0x4757bf[_0x2dc65c(0x1b9)]+'\x20/\x20'+_0x4757bf[_0x2dc65c(0x39e)]+_0x2dc65c(0x3da)+_0x2f0a08+_0x2dc65c(0x56c)+_0x34b1d5+_0x2dc65c(0x578)+_0x4757bf[_0x2dc65c(0x9b3)]+_0x2dc65c(0x660)+_0x4757bf[_0x2dc65c(0x39e)]+_0x2dc65c(0x80a)+_0x4757bf[_0x2dc65c(0x77d)]+_0x2dc65c(0x660)+_0x4757bf['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x4757bf[_0x2dc65c(0x2ea)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d5353+_0x2dc65c(0x4b6)+new Date(_0x4757bf['latestSubmittedAt'])[_0x2dc65c(0xa38)]('th-TH')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x2f6ddb+_0x2dc65c(0x96d);}else{const _0x384692=_0x2dc65c(0x335);_0x2aeedb+=_0x2dc65c(0x1ae)+_0x2f6ddb+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34b1d5+_0x2dc65c(0x47c)+_0x384692+_0x2dc65c(0x4b6)+new Date(_0x4757bf[_0x2dc65c(0x564)])[_0x2dc65c(0xa38)](_0x2dc65c(0xa08))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x2f6ddb+_0x2dc65c(0x96d);}}else{const _0x57b738='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x2aeedb+=_0x2dc65c(0x659)+_0x2f6ddb+_0x2dc65c(0x8ae)+_0x34b1d5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57b738+_0x2dc65c(0xa4e);}}),_0xcbb4ef[_0x4afe38(0x88b)]=_0x2aeedb;}async function confirmRenameQuiz(){const _0x4b1e43=_0x599685,_0xf07f3=document['getElementById'](_0x4b1e43(0x1a7))[_0x4b1e43(0x8c4)][_0x4b1e43(0x8cf)]();if(!_0xf07f3){showMessage(_0x4b1e43(0x93e));return;}if(!actionTargetId)return;const _0x50d5d3=doc(db,_0x4b1e43(0x3d7)+appId+_0x4b1e43(0x198),actionTargetId);try{await updateDoc(_0x50d5d3,{'topic':_0xf07f3}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal['classList'][_0x4b1e43(0x25c)](_0x4b1e43(0x180)),actionTargetId=null;}catch(_0x68265f){console['error']('Error\x20renaming\x20quiz:',_0x68265f),showMessage(_0x4b1e43(0x921));}}async function handleMoveQuiz(_0x11a198){const _0x70fa51=_0x599685;actionTargetId=_0x11a198;const _0x1c3c4b=document[_0x70fa51(0x6f5)](_0x70fa51(0x885));_0x1c3c4b['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x70fa51(0x7ad)][_0x70fa51(0xac8)](_0x70fa51(0x180));try{const _0x40d1c9=collection(db,_0x70fa51(0x3d7)+appId+_0x70fa51(0x581)),_0x3a60b7=await getDocs(_0x40d1c9),_0x2c90ee=_0x3a60b7[_0x70fa51(0x5e9)][_0x70fa51(0x392)](_0x3c328b=>({'id':_0x3c328b['id'],..._0x3c328b[_0x70fa51(0x7e5)]()})),_0x153636=_0x2c90ee[_0x70fa51(0x7c9)](_0x20bb61=>_0x20bb61['id']!==currentProjectId);if(_0x153636[_0x70fa51(0x5b5)]===0x0){_0x1c3c4b[_0x70fa51(0x88b)]=_0x70fa51(0x58c),document['getElementById'](_0x70fa51(0x73a))[_0x70fa51(0x8c1)]=!![];return;}_0x1c3c4b[_0x70fa51(0x88b)]=_0x153636[_0x70fa51(0x392)](_0x275730=>_0x70fa51(0x500)+_0x275730['id']+'\x22>'+_0x275730[_0x70fa51(0x6e6)]+_0x70fa51(0x4ba))[_0x70fa51(0x70f)](''),document[_0x70fa51(0x6f5)](_0x70fa51(0x73a))[_0x70fa51(0x8c1)]=![];}catch(_0x72d34d){console['error'](_0x70fa51(0x487),_0x72d34d),showMessage(_0x70fa51(0x694)),moveQuizModal[_0x70fa51(0x7ad)][_0x70fa51(0x25c)](_0x70fa51(0x180));}}async function confirmMoveQuiz(){const _0x35170a=_0x599685,_0x19b0d5=document[_0x35170a(0x6f5)](_0x35170a(0x885))[_0x35170a(0x8c4)];if(!_0x19b0d5){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x3a9a5f=doc(db,_0x35170a(0x3d7)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x3a9a5f,{'projectId':_0x19b0d5}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x35170a(0x7ad)]['add'](_0x35170a(0x180)),actionTargetId=null;}catch(_0x58e5cf){console[_0x35170a(0x30a)]('Error\x20moving\x20quiz:',_0x58e5cf),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x245e70){const _0x1e879b=_0x599685;actionTargetId=_0x245e70;const _0x32cdc1=doc(db,_0x1e879b(0x3d7)+appId+_0x1e879b(0x198),_0x245e70);try{const _0x5923c6=await getDoc(_0x32cdc1);if(_0x5923c6[_0x1e879b(0x478)]()){const _0x132226=_0x5923c6[_0x1e879b(0x7e5)](),_0x4fe169=_0x132226['settings']||{},_0x3b6ce3=_0x132226[_0x1e879b(0x4ac)][_0x1e879b(0x5b5)];document['getElementById'](_0x1e879b(0x267))[_0x1e879b(0x8c4)]=_0x4fe169[_0x1e879b(0x49d)]||_0x1e879b(0x649),document['getElementById']('modal-results-display-select')['value']=_0x4fe169[_0x1e879b(0x441)]||_0x1e879b(0x1fe),document[_0x1e879b(0x6f5)](_0x1e879b(0x399))['value']=_0x4fe169[_0x1e879b(0x8ec)]||_0x1e879b(0x649),document[_0x1e879b(0x6f5)](_0x1e879b(0x1d2))['value']=_0x4fe169[_0x1e879b(0x747)]||0xa,document[_0x1e879b(0x6f5)]('modal-passing-score-input')[_0x1e879b(0x8c4)]=_0x4fe169['passingScore']||Math[_0x1e879b(0x919)](_0x3b6ce3/0x2),document['getElementById'](_0x1e879b(0x9c0))[_0x1e879b(0x64f)]=_0x3b6ce3,document['getElementById'](_0x1e879b(0x761))[_0x1e879b(0x788)]=_0x4fe169[_0x1e879b(0x298)]||![],document[_0x1e879b(0x6f5)](_0x1e879b(0xa6b))[_0x1e879b(0x788)]=_0x4fe169[_0x1e879b(0x424)]||![];const _0x51e30e=_0x4fe169[_0x1e879b(0xa88)]||![];document[_0x1e879b(0x6f5)](_0x1e879b(0x5ca))[_0x1e879b(0x788)]=_0x51e30e,document[_0x1e879b(0x6f5)](_0x1e879b(0x17c))[_0x1e879b(0x8c4)]=_0x4fe169['confidenceMode']||_0x1e879b(0x337);const _0x9bd156=document['getElementById'](_0x1e879b(0x327));_0x9bd156['classList'][_0x1e879b(0x949)](_0x1e879b(0x180),!_0x51e30e),document[_0x1e879b(0x6f5)](_0x1e879b(0x399))[_0x1e879b(0x27b)](new Event(_0x1e879b(0x466))),quizSettingsModal[_0x1e879b(0x7ad)][_0x1e879b(0xac8)](_0x1e879b(0x180));}else showMessage(_0x1e879b(0x5d4));}catch(_0x316b90){console[_0x1e879b(0x30a)]('Error\x20fetching\x20quiz\x20settings:',_0x316b90),showMessage(_0x1e879b(0x864));}}async function confirmQuizSettings(){const _0xeda061=_0x599685;if(!actionTargetId)return;const _0x1928e0=doc(db,_0xeda061(0x3d7)+appId+_0xeda061(0x198),actionTargetId),_0x361e42={'shuffle':document['getElementById'](_0xeda061(0x267))[_0xeda061(0x8c4)],'resultsDisplay':document['getElementById'](_0xeda061(0x8b6))[_0xeda061(0x8c4)],'timerMode':document['getElementById']('modal-timer-mode-select')[_0xeda061(0x8c4)],'timerDuration':parseInt(document[_0xeda061(0x6f5)](_0xeda061(0x1d2))[_0xeda061(0x8c4)])||0xa,'passingScore':parseInt(document[_0xeda061(0x6f5)](_0xeda061(0x9c0))[_0xeda061(0x8c4)])||0x0,'isAdaptive':document[_0xeda061(0x6f5)](_0xeda061(0x761))[_0xeda061(0x788)],'loopUntilPass':document[_0xeda061(0x6f5)](_0xeda061(0xa6b))[_0xeda061(0x788)],'isConfidenceScoringEnabled':document[_0xeda061(0x6f5)](_0xeda061(0x5ca))[_0xeda061(0x788)],'confidenceMode':document[_0xeda061(0x6f5)]('modal-confidence-mode-select')[_0xeda061(0x8c4)]};try{await updateDoc(_0x1928e0,{'settings':_0x361e42}),showMessage(_0xeda061(0x32d)),quizSettingsModal['classList'][_0xeda061(0x25c)](_0xeda061(0x180)),actionTargetId=null;}catch(_0x37c02d){console[_0xeda061(0x30a)](_0xeda061(0x2c8),_0x37c02d),showMessage(_0xeda061(0x886));}}async function confirmQuizStatus(){const _0xf526f8=_0x599685;if(!actionTargetId)return;const _0x25d01a=doc(db,_0xf526f8(0x3d7)+appId+_0xf526f8(0x198),actionTargetId),_0x21fd50=document[_0xf526f8(0x9ae)]('input[name=\x22status-option\x22]:checked');if(!_0x21fd50){showMessage(_0xf526f8(0x61b));return;}const _0xf35aa4=_0x21fd50[_0xf526f8(0x8c4)];let _0x1568dc={};if(_0xf35aa4===_0xf526f8(0x825)||_0xf35aa4===_0xf526f8(0x8fa))_0x1568dc={'status':_0xf35aa4,'startTime':null,'endTime':null};else{if(_0xf35aa4===_0xf526f8(0x60e)){const _0x34b204=document['getElementById'](_0xf526f8(0x2eb))['value'],_0x4f1926=document['getElementById'](_0xf526f8(0x907))[_0xf526f8(0x8c4)];if(!_0x34b204&&!_0x4f1926){showMessage(_0xf526f8(0x49f));return;}_0x1568dc={'status':_0xf526f8(0xa28),'startTime':_0x34b204?new Date(_0x34b204)[_0xf526f8(0x73f)]():null,'endTime':_0x4f1926?new Date(_0x4f1926)['toISOString']():null};}}try{await updateDoc(_0x25d01a,_0x1568dc),showMessage(_0xf526f8(0xa55)),quizStatusModal[_0xf526f8(0x7ad)][_0xf526f8(0x25c)](_0xf526f8(0x180)),actionTargetId=null;}catch(_0xa244d8){console[_0xf526f8(0x30a)](_0xf526f8(0x597),_0xa244d8),showMessage(_0xf526f8(0x8bc));}}function listenForStudentProfiles(_0x33c462){const _0x5c6a8d=_0x599685,_0x254960=collection(db,_0x5c6a8d(0x3d7)+appId+_0x5c6a8d(0x330)+_0x33c462+_0x5c6a8d(0x8f6));unsubscribeStudentProfilesListener=onSnapshot(_0x254960,_0x27c657=>{const _0x3aa82b=_0x5c6a8d,_0x5679c9=_0x27c657['docs']['map'](_0x3686da=>_0x3686da[_0x3aa82b(0x7e5)]());renderLeaderboard(_0x5679c9,_0x3aa82b(0x8a3));},_0x115d0c=>{const _0x4c3734=_0x5c6a8d;console[_0x4c3734(0x30a)](_0x4c3734(0x427),_0x115d0c),document['getElementById'](_0x4c3734(0x8a3))['innerHTML']=_0x4c3734(0x42a);});}function renderLeaderboard(_0x30af63,_0x2518cd){const _0x212f21=_0x599685,_0x1f8f03=document[_0x212f21(0x6f5)](_0x2518cd);if(!_0x30af63||_0x30af63[_0x212f21(0x5b5)]===0x0){_0x1f8f03[_0x212f21(0x88b)]=_0x212f21(0x677);return;}_0x30af63['sort']((_0x4d161e,_0x395706)=>{const _0x6b8a86=_0x212f21,_0xa277b3=(_0x395706[_0x6b8a86(0x272)]||0x0)-(_0x4d161e[_0x6b8a86(0x272)]||0x0);if(_0xa277b3!==0x0)return _0xa277b3;const _0x29b3d7=(_0x395706['badgesCount']?.[_0x6b8a86(0x81b)]||0x0)-(_0x4d161e['badgesCount']?.[_0x6b8a86(0x81b)]||0x0);if(_0x29b3d7!==0x0)return _0x29b3d7;const _0xd12771=(_0x395706[_0x6b8a86(0x7f0)]?.[_0x6b8a86(0xa95)]||0x0)-(_0x4d161e[_0x6b8a86(0x7f0)]?.['first_try_ace']||0x0);if(_0xd12771!==0x0)return _0xd12771;const _0x5f084e=(_0x395706[_0x6b8a86(0x7f0)]?.[_0x6b8a86(0x3e9)]||0x0)-(_0x4d161e[_0x6b8a86(0x7f0)]?.['perfect_score']||0x0);if(_0x5f084e!==0x0)return _0x5f084e;const _0x12c58e=(_0x395706[_0x6b8a86(0x7f0)]?.[_0x6b8a86(0xa31)]||0x0)-(_0x4d161e[_0x6b8a86(0x7f0)]?.['quick_thinker']||0x0);if(_0x12c58e!==0x0)return _0x12c58e;return _0x4d161e['studentName'][_0x6b8a86(0xa64)](_0x395706[_0x6b8a86(0x241)],'th');});let _0x6081fc='';_0x30af63[_0x212f21(0x24d)]((_0x5c9bd9,_0xeb4f24)=>{const _0x26e6c9=_0x212f21,_0x6c0493=_0xeb4f24+0x1,_0x1f269f=_0x5c9bd9[_0x26e6c9(0x7f0)]||{};let _0x537eea='';const _0x3063f5=[_0x26e6c9(0x81b),_0x26e6c9(0x3e9),_0x26e6c9(0xa95),_0x26e6c9(0xa31)];_0x3063f5['forEach'](_0x304ccd=>{const _0x45bb2f=_0x26e6c9;if(_0x1f269f[_0x304ccd]>0x0){const _0x48c244=Object[_0x45bb2f(0x7d0)](BADGES)[_0x45bb2f(0x726)](_0x365f22=>_0x365f22['id']===_0x304ccd);_0x48c244&&(_0x304ccd===_0x45bb2f(0x81b)?_0x537eea+=_0x45bb2f(0x736)+_0x48c244[_0x45bb2f(0x472)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x48c244[_0x45bb2f(0x465)]+_0x45bb2f(0x5ac):_0x537eea+=_0x45bb2f(0x736)+_0x48c244['name']+'\x20('+_0x1f269f[_0x304ccd]+_0x45bb2f(0x420)+_0x48c244[_0x45bb2f(0x465)]+_0x45bb2f(0x6ca)+_0x1f269f[_0x304ccd]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x6081fc+=_0x26e6c9(0xaa0)+_0x6c0493+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5c9bd9[_0x26e6c9(0x241)]+_0x26e6c9(0x99b)+(_0x5c9bd9[_0x26e6c9(0x272)]||0x0)+_0x26e6c9(0x1af)+(_0x537eea||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1f8f03[_0x212f21(0x88b)]=_0x6081fc;}function displayLoopScreen(_0x175bd8,_0x4bf57c,_0x4b8b9b){const _0x2d06cb=_0x599685;let _0x46d518='';_0x4b8b9b!==_0x2d06cb(0xaa5)&&(_0x46d518=_0x2d06cb(0x38b)+_0x175bd8+_0x2d06cb(0x660)+_0x4bf57c+_0x2d06cb(0x837));const _0x372ff5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46d518+_0x2d06cb(0x753);studentResultArea['innerHTML']=_0x372ff5,studentResultArea[_0x2d06cb(0x7ad)][_0x2d06cb(0xac8)](_0x2d06cb(0x180)),studentQuizArea[_0x2d06cb(0x7ad)][_0x2d06cb(0x25c)](_0x2d06cb(0x180)),document[_0x2d06cb(0x6f5)]('retake-quiz-loop-btn')[_0x2d06cb(0x2a3)]('click',()=>{const _0x4f79ff=_0x2d06cb;studentResultArea[_0x4f79ff(0x7ad)][_0x4f79ff(0x25c)](_0x4f79ff(0x180)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x10c4d2,_0x32f3ec,_0x22f12c){const _0x12ffde=_0x599685,_0xa7a767=document['getElementById'](_0x22f12c),_0x4686ab=_0x22f12c===_0x12ffde(0x83b),_0x1f2f70=_0x32f3ec[_0x12ffde(0x4ac)][_0x12ffde(0x5b5)],_0x10849d=document[_0x12ffde(0x6f5)](_0x22f12c)[_0x12ffde(0x74c)](_0x12ffde(0xa5d));if(_0x10849d&&!_0x4686ab){const _0xc7cb2c=_0x10849d[_0x12ffde(0x9ae)]('thead');_0xc7cb2c[_0x12ffde(0x88b)]=_0x12ffde(0x6fb);}if(!_0x10c4d2||_0x10c4d2['length']===0x0){_0xa7a767[_0x12ffde(0x88b)]=_0x12ffde(0x4f0)+(_0x4686ab?0x6:0x8)+_0x12ffde(0x786);return;}const _0x5bfa4d=[..._0x10c4d2];_0x5bfa4d[_0x12ffde(0xab3)]((_0x50af6d,_0x5324bf)=>{const _0x348b56=_0x12ffde;let _0x32d94e,_0x1946e0;switch(quizLeaderboardSortBy){case _0x348b56(0x241):_0x32d94e=_0x50af6d[_0x348b56(0x241)]||'',_0x1946e0=_0x5324bf['studentName']||'';return quizLeaderboardSortOrder==='asc'?_0x32d94e['localeCompare'](_0x1946e0,'th'):_0x1946e0[_0x348b56(0xa64)](_0x32d94e,'th');case _0x348b56(0x2ea):_0x32d94e=_0x50af6d['points']||0x0,_0x1946e0=_0x5324bf['points']||0x0;break;case _0x348b56(0x42d):_0x32d94e=_0x50af6d[_0x348b56(0x42d)]?.[_0x348b56(0x5b5)]||0x1,_0x1946e0=_0x5324bf['attempts']?.[_0x348b56(0x5b5)]||0x1;break;case _0x348b56(0x9c2):_0x32d94e=new Date(_0x50af6d[_0x348b56(0x9c2)]),_0x1946e0=new Date(_0x5324bf[_0x348b56(0x9c2)]);break;case _0x348b56(0x1b9):default:_0x32d94e=_0x50af6d[_0x348b56(0x1b9)],_0x1946e0=_0x5324bf[_0x348b56(0x1b9)];break;}if(_0x32d94e<_0x1946e0)return quizLeaderboardSortOrder===_0x348b56(0x369)?-0x1:0x1;if(_0x32d94e>_0x1946e0)return quizLeaderboardSortOrder===_0x348b56(0x369)?0x1:-0x1;return 0x0;});const _0x3fe1bf=_0x32f3ec[_0x12ffde(0x1ab)]===!![],_0x1ea686=_0x32f3ec[_0x12ffde(0x549)]?.[_0x12ffde(0x823)]??-0x1;let _0x55171d='';_0x5bfa4d[_0x12ffde(0x24d)]((_0x1bdfb2,_0x10656f)=>{const _0x5a859f=_0x12ffde,_0x69e9ad=_0x10656f+0x1;let _0x3bd0d8=_0x5a859f(0x5c0);if(_0x3fe1bf||_0x1ea686!==-0x1){let _0x28e120=_0x3fe1bf?_0x1bdfb2[_0x5a859f(0x1b9)]===_0x1f2f70:_0x1bdfb2['bestScore']>=_0x1ea686;const _0x518897=_0x28e120?_0x5a859f(0x550):_0x5a859f(0x69e),_0x1af84b=_0x28e120?_0x5a859f(0x6dd):_0x5a859f(0x9c6);_0x3bd0d8=_0x5a859f(0x53f)+_0x518897+'\x22>'+_0x1af84b+_0x5a859f(0x75a);}const _0x473a29=_0x1bdfb2['attempts'][_0x1bdfb2['attempts'][_0x5a859f(0x5b5)]-0x1],_0x2f9651=(_0x473a29[_0x5a859f(0x3f0)]||[])['map'](_0x556b2c=>{const _0x541f99=_0x5a859f,_0x47bd8d=Object[_0x541f99(0x7d0)](BADGES)[_0x541f99(0x726)](_0x170b9e=>_0x170b9e['id']===_0x556b2c);return _0x47bd8d?_0x541f99(0x346)+_0x47bd8d['name']+_0x541f99(0x75d)+_0x47bd8d[_0x541f99(0x465)]+_0x541f99(0x3a8):'';})[_0x5a859f(0x70f)]('');_0x55171d+=_0x5a859f(0x518)+_0x69e9ad+_0x5a859f(0x367)+_0x1bdfb2['studentName']+_0x5a859f(0x4ab)+_0x1bdfb2[_0x5a859f(0x1b9)]+'\x20/\x20'+_0x1f2f70+_0x5a859f(0x92b)+_0x3bd0d8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x1bdfb2[_0x5a859f(0x2ea)]||0x0)+_0x5a859f(0x92b)+(_0x4686ab?'':_0x5a859f(0x7be)+(_0x1bdfb2['attempts']?.[_0x5a859f(0x5b5)]||0x1)+_0x5a859f(0x909))+_0x5a859f(0xaa1)+(_0x4686ab?'':_0x5a859f(0x915)+new Date(_0x1bdfb2[_0x5a859f(0x9c2)])[_0x5a859f(0xa38)](_0x5a859f(0xa08))+_0x5a859f(0x909))+_0x5a859f(0x1e8)+(_0x2f9651||'-')+_0x5a859f(0x47b);}),_0xa7a767[_0x12ffde(0x88b)]=_0x55171d,_0x10849d&&!_0x4686ab&&_0x10849d[_0x12ffde(0x3b5)]('thead\x20.sortable-header')[_0x12ffde(0x24d)](_0x5c5ad9=>{const _0x51372e=_0x12ffde,_0x572db2=_0x5c5ad9[_0x51372e(0x9ae)](_0x51372e(0x9b8));if(_0x572db2)_0x572db2[_0x51372e(0xac8)]();_0x5c5ad9[_0x51372e(0x4eb)]['sort']===quizLeaderboardSortBy&&(_0x5c5ad9[_0x51372e(0x88b)]+=_0x51372e(0xa53)+(quizLeaderboardSortOrder===_0x51372e(0x369)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x11019b){const _0x42e0a3=_0x599685;if(!currentQuizData||!currentQuizData['id']||!_0x11019b){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x42e0a3(0x4fc)+_0x11019b+_0x42e0a3(0x7ac),async()=>{const _0x355f8e=_0x42e0a3,_0x29c9e3=currentQuizData['id'],_0x1f4720=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x29c9e3+_0x355f8e(0x98a),_0x11019b);try{await deleteDoc(_0x1f4720),showMessage(_0x355f8e(0x73c)+_0x11019b+'\x20สำเร็จ');}catch(_0x329b8d){console['error'](_0x355f8e(0x288),_0x329b8d),showMessage(_0x355f8e(0x17d));}});}async function handleLoadQuiz(){const _0xd4db72=_0x599685,_0xd31efc=document['getElementById'](_0xd4db72(0x794)),_0x3f09a7=_0xd31efc['value'][_0xd4db72(0x8cf)]();if(!_0x3f09a7){showMessage(_0xd4db72(0x642));return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0xd4db72(0x88b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x487986=doc(db,'artifacts/'+appId+_0xd4db72(0x198),_0x3f09a7),_0x416f52=await getDoc(_0x487986);if(!_0x416f52[_0xd4db72(0x478)]()){showMessage(_0xd4db72(0x45f));return;}currentQuizData={'id':_0x416f52['id'],..._0x416f52[_0xd4db72(0x7e5)]()};const _0x245d0c=currentQuizData[_0xd4db72(0x800)]||_0xd4db72(0x825),_0x40e9fd=new Date();if(_0x245d0c==='inactive'){showMessage(_0xd4db72(0x743));return;}if(_0x245d0c===_0xd4db72(0xa28)){const _0x2ed7e3=currentQuizData[_0xd4db72(0x29e)]?new Date(currentQuizData[_0xd4db72(0x29e)]):null,_0x40cf82=currentQuizData[_0xd4db72(0x213)]?new Date(currentQuizData[_0xd4db72(0x213)]):null;if(_0x2ed7e3&&_0x40e9fd<_0x2ed7e3){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x2ed7e3['toLocaleString'](_0xd4db72(0xa08),{'hour12':![]}));return;}if(_0x40cf82&&_0x40e9fd>_0x40cf82){showMessage(_0xd4db72(0x496));return;}}const _0x49d2e3=currentQuizData[_0xd4db72(0x7f1)];currentProjectId=_0x49d2e3;const _0x3fb61f=doc(db,_0xd4db72(0x3d7)+appId+_0xd4db72(0x581),_0x49d2e3),_0x1f9274=await getDoc(_0x3fb61f);if(!_0x1f9274[_0xd4db72(0x478)]()){showMessage(_0xd4db72(0x3c6));return;}const _0x160a83=_0x1f9274[_0xd4db72(0x7e5)]();currentStudentProjectData=_0x160a83,displayStudentNameSelector(_0x160a83[_0xd4db72(0x1a6)],currentQuizData[_0xd4db72(0x699)]);}catch(_0x4ba675){console[_0xd4db72(0x30a)](_0xd4db72(0x9a3),_0x4ba675),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0xd4db72(0x8c1)]=![],loadQuizBtn[_0xd4db72(0x88b)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x468b64=_0x599685,_0x3fb9d7=document['getElementById']('game-pin-input'),_0x374e11=document[_0x468b64(0x6f5)](_0x468b64(0x29b)),_0x444577=document['getElementById'](_0x468b64(0x896)),_0xbc9e22=_0x3fb9d7[_0x468b64(0x8c4)][_0x468b64(0x8cf)](),_0x4b990b=_0x374e11[_0x468b64(0x8c4)][_0x468b64(0x8cf)]();if(!_0xbc9e22||!_0x4b990b){showMessage(_0x468b64(0x6d1));return;}_0x444577[_0x468b64(0x8c1)]=!![],_0x444577[_0x468b64(0x88b)]=_0x468b64(0x227);try{const _0x1f916b=collection(db,_0x468b64(0x3d7)+appId+'/public/data/liveGames'),_0xf4aa39=query(_0x1f916b,where(_0x468b64(0x4ad),'==',_0xbc9e22),where(_0x468b64(0x800),'in',[_0x468b64(0x9d0),_0x468b64(0x749)])),_0xed6c1=await getDocs(_0xf4aa39);if(_0xed6c1[_0x468b64(0xa41)]){showMessage(_0x468b64(0xa14));return;}const _0x1b40e9=_0xed6c1['docs'][0x0],_0x58bdee=_0x1b40e9[_0x468b64(0x7e5)]();currentLiveGameId=_0x1b40e9['id'];const _0xb417b4=_0x58bdee[_0x468b64(0x7e4)],_0x4da77a=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xb417b4),_0x1097e9=await getDoc(_0x4da77a);if(!_0x1097e9[_0x468b64(0x478)]()){showMessage(_0x468b64(0x8d0));return;}currentQuizData={'id':_0x1097e9['id'],..._0x1097e9[_0x468b64(0x7e5)]()};if(_0x58bdee[_0x468b64(0x255)]&&_0x58bdee[_0x468b64(0x255)][_0x4b990b]){const _0x4a8bd1=_0x58bdee[_0x468b64(0x255)][_0x4b990b];if(_0x4a8bd1[_0x468b64(0x800)]===_0x468b64(0x8fa)){_0x444577[_0x468b64(0x88b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x7a7bb0={};_0x7a7bb0[_0x468b64(0x7e6)+_0x4b990b+_0x468b64(0x5a3)]=_0x468b64(0x825),await updateDoc(doc(db,'artifacts/'+appId+_0x468b64(0x1c7),currentLiveGameId),_0x7a7bb0),showView(_0x468b64(0x40c)),currentStudentName=_0x4b990b,listenForLiveGameUpdates();return;}else{showMessage(_0x468b64(0x4f2));return;}}if(_0x58bdee['status']!==_0x468b64(0x9d0)){showMessage(_0x468b64(0x806));return;}_0x444577[_0x468b64(0x88b)]=_0x468b64(0x47f);const _0x197ffe={};_0x197ffe[_0x468b64(0x7e6)+_0x4b990b]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x468b64(0x825)},await updateDoc(doc(db,_0x468b64(0x3d7)+appId+_0x468b64(0x1c7),currentLiveGameId),_0x197ffe),currentStudentName=_0x4b990b,listenForLiveGameUpdates();}catch(_0x376bbb){console[_0x468b64(0x30a)](_0x468b64(0x623),_0x376bbb),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x444577[_0x468b64(0x8c1)]=![],_0x444577['innerHTML']=_0x468b64(0x4bb);}}function displayStudentNameSelector(_0x2d001e,_0x4d5b29){const _0x14ab5f=_0x599685,_0x591653=document['getElementById'](_0x14ab5f(0x63d));document[_0x14ab5f(0x6f5)]('student-quiz-topic')[_0x14ab5f(0x406)]=_0x14ab5f(0xa45)+_0x4d5b29,!_0x2d001e||_0x2d001e['length']===0x0?(_0x591653['innerHTML']=_0x14ab5f(0x9de),startQuizBtn[_0x14ab5f(0x8c1)]=!![]):(_0x591653[_0x14ab5f(0x88b)]=_0x14ab5f(0x32b),_0x2d001e[_0x14ab5f(0x24d)](_0x7bed3d=>{const _0x3c378e=_0x14ab5f,_0x388987=document['createElement']('option');_0x388987['value']=_0x7bed3d,_0x388987[_0x3c378e(0x406)]=_0x7bed3d,_0x591653[_0x3c378e(0x879)](_0x388987);}),startQuizBtn['disabled']=![]),studentInitialView[_0x14ab5f(0x7ad)][_0x14ab5f(0x25c)](_0x14ab5f(0x180)),studentNameSelectionView[_0x14ab5f(0x7ad)]['remove'](_0x14ab5f(0x180));}function shuffleArray(_0x393e5e){const _0x19ff4d=_0x599685;for(let _0x50bb8c=_0x393e5e[_0x19ff4d(0x5b5)]-0x1;_0x50bb8c>0x0;_0x50bb8c--){const _0x4fd7d3=Math[_0x19ff4d(0x919)](Math[_0x19ff4d(0x536)]()*(_0x50bb8c+0x1));[_0x393e5e[_0x50bb8c],_0x393e5e[_0x4fd7d3]]=[_0x393e5e[_0x4fd7d3],_0x393e5e[_0x50bb8c]];}}function getShuffledQuiz(_0x132ab1){const _0x1bf654=_0x599685;let _0x498991=JSON[_0x1bf654(0x7a4)](JSON['stringify'](_0x132ab1));const _0x56e79c=_0x498991['settings']?.[_0x1bf654(0x49d)]||_0x1bf654(0x649);if(_0x56e79c===_0x1bf654(0x649))return _0x498991;return(_0x56e79c===_0x1bf654(0x684)||_0x56e79c===_0x1bf654(0x7ed))&&shuffleArray(_0x498991[_0x1bf654(0x4ac)]),(_0x56e79c==='choices_only'||_0x56e79c===_0x1bf654(0x7ed))&&_0x498991[_0x1bf654(0x4ac)]['forEach'](_0x53b05d=>{const _0x29a35e=_0x1bf654,_0xb9263d=_0x53b05d['questionType']||_0x498991[_0x29a35e(0x1a3)];if(_0x53b05d[_0x29a35e(0x5d1)]){let _0x3752f9=_0x53b05d[_0x29a35e(0x5d1)]['map']((_0x5775fe,_0x242131)=>({'text':_0x5775fe,'isCorrect':_0x242131===_0x53b05d[_0x29a35e(0x5db)]}));shuffleArray(_0x3752f9),_0x53b05d['options']=_0x3752f9[_0x29a35e(0x392)](_0x3f2236=>_0x3f2236[_0x29a35e(0x6b1)]),_0x53b05d[_0x29a35e(0x5db)]=_0x3752f9[_0x29a35e(0x489)](_0x3538d6=>_0x3538d6[_0x29a35e(0x635)]);}_0xb9263d===_0x29a35e(0x228)&&_0x53b05d['allResponses']&&shuffleArray(_0x53b05d['allResponses']);}),_0x498991;}function displayQuizForStudent(_0x1af430){const _0x583071=_0x599685;studentQuizArea[_0x583071(0x7ad)][_0x583071(0xac8)](_0x583071(0x180)),currentDisplayedQuiz=getShuffledQuiz(_0x1af430);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x583071(0x2a3)](_0x583071(0x9fa),handleFullscreenChange),document[_0x583071(0x2a3)](_0x583071(0x33a),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x583071(0x376),resetDimTimer),window[_0x583071(0x2a3)](_0x583071(0xa05),resetDimTimer),window[_0x583071(0x2a3)](_0x583071(0x606),resetDimTimer),window[_0x583071(0x2a3)]('keydown',resetDimTimer),resetDimTimer());const _0x3dbf87=currentDisplayedQuiz[_0x583071(0x549)]?.[_0x583071(0x8ec)]||_0x583071(0x649);if(_0x3dbf87==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x583071(0x549)]['timerDuration']);else _0x3dbf87==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x47854d=_0x599685,_0x290812=currentDisplayedQuiz[_0x47854d(0x549)]?.[_0x47854d(0xa88)]===!![],_0x2b4358=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x47854d(0x337);let _0x58ebda=_0x47854d(0x92d)+currentDisplayedQuiz[_0x47854d(0x699)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x47854d(0x2cc)?_0x47854d(0x83e):'')+_0x47854d(0x869);currentDisplayedQuiz['questions'][_0x47854d(0x24d)]((_0x1eae11,_0x457fc7)=>{const _0x493dfb=_0x47854d,_0x27ad6f=_0x1eae11[_0x493dfb(0x5e5)]||currentDisplayedQuiz[_0x493dfb(0x1a3)];_0x58ebda+=_0x493dfb(0x3d9);if(_0x27ad6f===_0x493dfb(0x228)){}else _0x58ebda+=_0x493dfb(0x945)+(_0x457fc7+0x1)+'.\x20'+(_0x1eae11[_0x493dfb(0x1aa)]||_0x1eae11[_0x493dfb(0x4ed)])+'</p>',_0x1eae11['imageCode']&&(_0x58ebda+=_0x493dfb(0x6ea)+_0x1eae11[_0x493dfb(0x248)]+_0x493dfb(0x6ab));_0x58ebda+=_0x493dfb(0xa01);switch(_0x27ad6f){case'short_answer':_0x58ebda+=_0x493dfb(0x491)+_0x457fc7+_0x493dfb(0x359);break;case'true_false':_0x58ebda+=_0x493dfb(0x82b)+_0x457fc7+_0x493dfb(0x3fb)+_0x457fc7+_0x493dfb(0x589)+_0x457fc7+_0x493dfb(0x91a),_0x58ebda+=_0x493dfb(0x82b)+_0x457fc7+_0x493dfb(0x83f)+_0x457fc7+_0x493dfb(0x745)+_0x457fc7+_0x493dfb(0x840);break;case _0x493dfb(0x228):_0x58ebda+=_0x493dfb(0x705)+_0x1eae11[_0x493dfb(0x9a4)]+_0x493dfb(0x324)+_0x457fc7+_0x493dfb(0x6b3)+_0x1eae11['allResponses']['map'](_0x5590d1=>'<option\x20value=\x22'+_0x5590d1+'\x22>'+_0x5590d1+_0x493dfb(0x4ba))[_0x493dfb(0x70f)]('')+_0x493dfb(0xa11);break;default:_0x58ebda+=_0x1eae11[_0x493dfb(0x5d1)][_0x493dfb(0x392)]((_0x3cd4fe,_0x2c558b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x457fc7+'_opt'+_0x2c558b+'\x22\x20name=\x22question'+_0x457fc7+_0x493dfb(0x897)+_0x2c558b+_0x493dfb(0x708)+_0x457fc7+'_opt'+_0x2c558b+'\x22>'+_0x3cd4fe+_0x493dfb(0x5f9))['join']('');break;}_0x58ebda+='</div>',_0x290812&&(_0x58ebda+=_0x493dfb(0x774),_0x2b4358===_0x493dfb(0x493)?_0x58ebda+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x457fc7+_0x493dfb(0x82a)+_0x457fc7+_0x493dfb(0x439)+_0x457fc7+_0x493dfb(0x8ce)+_0x457fc7+_0x493dfb(0x6da):_0x58ebda+=_0x493dfb(0x769)+_0x457fc7+'\x22\x20name=\x22confidence'+_0x457fc7+_0x493dfb(0x44e)+_0x457fc7+_0x493dfb(0x4fd),_0x58ebda+=_0x493dfb(0x6ab)),_0x58ebda+=_0x493dfb(0x6ab);}),_0x58ebda+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x58ebda+=_0x47854d(0x2d4),studentQuizArea[_0x47854d(0x88b)]=_0x58ebda;if(currentMode===_0x47854d(0x2cc)){const _0x52f34b=document[_0x47854d(0x6f5)](_0x47854d(0x2ec));if(_0x52f34b)_0x52f34b['addEventListener'](_0x47854d(0x41c),cancelAdminTest);}const _0xdc4bbc=document[_0x47854d(0x6f5)](_0x47854d(0x313));_0xdc4bbc&&(_0xdc4bbc[_0x47854d(0x2a3)](_0x47854d(0x8b8),handleSubmitQuiz),_0xdc4bbc[_0x47854d(0x2a3)](_0x47854d(0x41c),_0x107dcc=>{const _0x492ad2=_0x47854d;if(_0x107dcc[_0x492ad2(0x928)]['classList']['contains'](_0x492ad2(0x53d))){const _0x339daf=_0x107dcc[_0x492ad2(0x928)],_0x4434ae=_0x339daf[_0x492ad2(0x4eb)][_0x492ad2(0x9c4)],_0xf0351=_0x339daf['dataset'][_0x492ad2(0x8c4)];document[_0x492ad2(0x6f5)](_0x492ad2(0x1dd)+_0x4434ae)[_0x492ad2(0x8c4)]=_0xf0351;const _0x3c8c58=_0x339daf['parentElement'];_0x3c8c58[_0x492ad2(0x3b5)]('.confidence-choice-btn')[_0x492ad2(0x24d)](_0x28edb8=>_0x28edb8[_0x492ad2(0x7ad)][_0x492ad2(0xac8)]('active')),_0x339daf[_0x492ad2(0x7ad)][_0x492ad2(0x25c)](_0x492ad2(0x825));}}));if(window[_0x47854d(0x4dd)])window[_0x47854d(0x4dd)][_0x47854d(0x908)]([studentQuizArea]);}async function handleSubmitQuiz(_0x2ec7d2){const _0x1cb091=_0x599685;if(_0x2ec7d2)_0x2ec7d2[_0x1cb091(0x531)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x476e2c=document[_0x1cb091(0x6f5)]('quiz-form');if(!_0x476e2c)return;const _0xb40bb8=currentDisplayedQuiz[_0x1cb091(0x549)]?.[_0x1cb091(0xa88)]===!![],_0x3da6eb=currentDisplayedQuiz[_0x1cb091(0x549)]?.[_0x1cb091(0x17e)]||_0x1cb091(0x337);if(_0xb40bb8&&_0x3da6eb===_0x1cb091(0x493)){let _0xdecd12=!![];for(let _0x2d1807=0x0;_0x2d1807<currentDisplayedQuiz['questions'][_0x1cb091(0x5b5)];_0x2d1807++){const _0x5b385d=_0x476e2c[_0x1cb091(0x9ae)]('#confidence-input-'+_0x2d1807);if(!_0x5b385d||_0x5b385d[_0x1cb091(0x8c4)]===''){_0xdecd12=![];break;}}if(!_0xdecd12){showMessage(_0x1cb091(0x9d5));return;}}const _0x4f8314=_0x476e2c['querySelector']('button[type=\x22submit\x22]'),_0x34aa5c=currentDisplayedQuiz[_0x1cb091(0x4ac)][_0x1cb091(0x556)](_0x4bad99=>_0x4bad99[_0x1cb091(0x5e5)]==='short_answer');_0x4f8314&&(_0x4f8314[_0x1cb091(0x8c1)]=!![],_0x4f8314['innerHTML']=_0x34aa5c?_0x1cb091(0xa85):_0x1cb091(0x3db));const _0x47cda5=new FormData(_0x476e2c),_0x566d8b=currentDisplayedQuiz[_0x1cb091(0x4ac)][_0x1cb091(0x392)]((_0x431f02,_0x3dd2f4)=>{const _0x49a1d6=_0x1cb091,_0x5f2909=_0x47cda5[_0x49a1d6(0x316)](_0x49a1d6(0x749)+_0x3dd2f4);let _0x223e32;_0x3da6eb===_0x49a1d6(0x493)?_0x223e32=_0x47cda5[_0x49a1d6(0x316)](_0x49a1d6(0x574)+_0x3dd2f4):_0x223e32=_0x47cda5[_0x49a1d6(0x316)](_0x49a1d6(0x574)+_0x3dd2f4)==='on';let _0x479178=null;if(_0x5f2909!==null&&_0x5f2909!==undefined){const _0x33f2ea=_0x431f02['questionType']||currentDisplayedQuiz['quizType'];_0x33f2ea===_0x49a1d6(0x9bb)||_0x33f2ea===_0x49a1d6(0x6a4)?_0x479178=parseInt(_0x5f2909):_0x479178=_0x5f2909;}return{'answer':_0x479178,'wasConfident':_0x223e32};}),_0x3e57f2=currentQuizData['id'],_0x40aebf=doc(db,_0x1cb091(0x3d7)+appId+_0x1cb091(0x754)+_0x3e57f2+_0x1cb091(0x98a),currentStudentName),_0x3033db=await getDoc(_0x40aebf),_0x43dfd5=_0x3033db[_0x1cb091(0x478)]()?_0x3033db[_0x1cb091(0x7e5)]():{},_0x3ee8b5=_0x43dfd5['attempts']||[];await processAndSubmitAnswers(_0x566d8b,_0x3ee8b5);}async function gradeShortAnswerWithAI(_0x37d6cb,_0xfc813b){const _0x3135ef=_0x599685;if(!_0x37d6cb||!_0xfc813b)return![];try{const _0x54c06e=_0x3135ef(0x651)+_0x37d6cb+_0x3135ef(0x382)+_0xfc813b+_0x3135ef(0xa70),_0x5ea7aa={'contents':[{'role':_0x3135ef(0x6cf),'parts':[{'text':_0x54c06e}]}]},_0x4af9f3=_0x3135ef(0x1b0),_0x64a96=_0x3135ef(0x5e6)+_0x4af9f3,_0x54796b=await fetch(_0x64a96,{'method':_0x3135ef(0xa3f),'headers':{'Content-Type':_0x3135ef(0x938)},'body':JSON[_0x3135ef(0x3eb)](_0x5ea7aa)});if(!_0x54796b['ok'])throw new Error('API\x20call\x20failed');const _0x1227c7=await _0x54796b['json'](),_0x130637=_0x1227c7['candidates'][0x0]['content']['parts'][0x0][_0x3135ef(0x6b1)]['trim']()[_0x3135ef(0x607)]();return _0x130637===_0x3135ef(0x630);}catch(_0x1922b7){return console[_0x3135ef(0x30a)](_0x3135ef(0x264),_0x1922b7),![];}}async function processAndSubmitAnswers(_0x4b2d32,_0x5331ba){const _0x4a9903=_0x599685;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x4a9903(0x9fa),handleFullscreenChange),document[_0x4a9903(0x56e)](_0x4a9903(0x33a),handleVisibilityChange);let _0x197242=0x0;const _0x1f27ea=[],_0x1fa519=currentDisplayedQuiz[_0x4a9903(0x4ac)][_0x4a9903(0x5b5)];let _0x176996=0x0,_0x4e7de0=[];const _0x7f48e8=currentDisplayedQuiz[_0x4a9903(0x4ac)];for(let _0xc66cab=0x0;_0xc66cab<_0x7f48e8['length'];_0xc66cab++){const _0x2a603b=_0x7f48e8[_0xc66cab],_0x38f285=_0x4b2d32[_0xc66cab],_0x4b37d0=_0x38f285?_0x38f285[_0x4a9903(0x970)]:null,_0x58fc95=_0x38f285?_0x38f285[_0x4a9903(0x2a4)]:null;let _0x493524=![],_0x4da8ba=0x0;if(_0x4b37d0!==null&&_0x4b37d0!==''){const _0x37895e=_0x2a603b[_0x4a9903(0x5e5)]||currentDisplayedQuiz['quizType'];switch(_0x37895e){case'matching_item':_0x493524=_0x4b37d0===_0x2a603b['correctResponse'];break;case'true_false':const _0x36345f=_0x4b37d0===!![]||_0x4b37d0===_0x4a9903(0x630);_0x493524=_0x36345f===_0x2a603b[_0x4a9903(0xa0b)];break;case _0x4a9903(0x7ff):_0x493524=await gradeShortAnswer(_0x4b37d0,_0x2a603b);break;case _0x4a9903(0x9bb):default:_0x493524=Number(_0x4b37d0)===_0x2a603b[_0x4a9903(0x5db)];break;}}if(currentDisplayedQuiz[_0x4a9903(0x549)]?.[_0x4a9903(0xa88)]){const _0x363b27=_0x38f285?_0x38f285[_0x4a9903(0x2a4)]:null;if(_0x493524&&(_0x363b27===!![]||_0x363b27===_0x4a9903(0x238)))_0x4da8ba=0x2;else{if(_0x493524)_0x4da8ba=0x1;else{if(!_0x493524&&(_0x363b27===![]||_0x363b27==='not_confident'||_0x363b27===null))_0x4da8ba=0x0;else!_0x493524&&(_0x363b27===!![]||_0x363b27==='confident')&&(_0x4da8ba=-0x1);}}}else _0x4da8ba=_0x493524?0x1:0x0;_0x197242+=_0x4da8ba;if(_0x493524){_0x176996++;if(_0x176996===0x3)_0x4e7de0[_0x4a9903(0x6a1)](BADGES[_0x4a9903(0x87b)]['id']);}else _0x176996=0x0;let _0x5054a2=null;_0x2a603b[_0x4a9903(0x5d1)]&&_0x4b37d0!==null&&(_0x5054a2=_0x2a603b[_0x4a9903(0x5d1)][_0x4b37d0]),_0x1f27ea[_0x4a9903(0x6a1)]({'questionId':_0x2a603b['id'],'answer':_0x4b37d0,'answerText':_0x5054a2,'isCorrect':_0x493524,'wasConfident':_0x58fc95,'pointsAwarded':_0x4da8ba,'originalQuestionText':_0x2a603b['stem']||_0x2a603b[_0x4a9903(0x4ed)]});}const _0x37f372=_0x1f27ea[_0x4a9903(0x7c9)](_0xef54ea=>_0xef54ea[_0x4a9903(0x635)])[_0x4a9903(0x5b5)],_0x4512f1=currentDisplayedQuiz[_0x4a9903(0x549)]?.[_0x4a9903(0x823)]??Math[_0x4a9903(0x919)](_0x1fa519/0x2);_0x37f372===_0x1fa519&&_0x1fa519>0x0&&!currentDisplayedQuiz[_0x4a9903(0x1ab)]&&_0x4e7de0[_0x4a9903(0x6a1)](BADGES[_0x4a9903(0x59e)]['id']);const _0x576f73=currentDisplayedQuiz[_0x4a9903(0x549)]?.[_0x4a9903(0x8ec)];if(_0x576f73===_0x4a9903(0x976)&&quizStartTime){const _0x32ff5c=(new Date()-quizStartTime)/0x3e8,_0x4a926b=currentDisplayedQuiz[_0x4a9903(0x549)][_0x4a9903(0x747)]*0x3c;_0x37f372>=_0x4512f1&&_0x32ff5c<_0x4a926b/0x2&&_0x4e7de0[_0x4a9903(0x6a1)](BADGES[_0x4a9903(0x9e7)]['id']);}_0x5331ba[_0x4a9903(0x5b5)]===0x0&&_0x37f372===_0x1fa519&&_0x1fa519>0x0&&_0x4e7de0['push'](BADGES[_0x4a9903(0x85b)]['id']);if(_0x5331ba[_0x4a9903(0x5b5)]>0x0){const _0x563f23=_0x5331ba[0x0][_0x4a9903(0x9df)];if(_0x563f23<_0x4512f1&&_0x37f372>=_0x4512f1){const _0x46e0a7=_0x5331ba[_0x4a9903(0x556)](_0x267ace=>(_0x267ace['badges']||[])['includes'](BADGES[_0x4a9903(0x9d7)]['id']));!_0x46e0a7&&_0x4e7de0[_0x4a9903(0x6a1)](BADGES['COMEBACK_KING']['id']);}}_0x5331ba[_0x4a9903(0x5b5)]===0x4&&_0x4e7de0['push'](BADGES[_0x4a9903(0x641)]['id']);const _0x12e73a=currentDisplayedQuiz[_0x4a9903(0x549)][_0x4a9903(0x441)];if(currentMode===_0x4a9903(0x2cc)){handleResultDisplay(_0x12e73a,_0x37f372,_0x197242,_0x4e7de0,_0x1f27ea,_0x1fa519);return;}const _0x1c2af4=currentQuizData['id'],_0x291d58=doc(db,'artifacts/'+appId+_0x4a9903(0x754)+_0x1c2af4+'/submissions',currentStudentName);try{const _0x122e6d=[..._0x5331ba],_0x49114b={'score':_0x37f372,'points':_0x197242,'badges':Array[_0x4a9903(0x189)](new Set(_0x4e7de0)),'submittedAt':new Date()[_0x4a9903(0x73f)](),'answers':_0x1f27ea};_0x122e6d[_0x4a9903(0x6a1)](_0x49114b);const _0x3b3455=_0x5331ba[_0x4a9903(0x5b5)]===0x0?_0x37f372:_0x5331ba[0x0][_0x4a9903(0x9df)]||0x0,_0x3f2f8f=Math[_0x4a9903(0x64f)](..._0x122e6d[_0x4a9903(0x392)](_0x1892ef=>_0x1892ef[_0x4a9903(0x9df)]));await setDoc(_0x291d58,{'studentName':currentStudentName,'totalQuestions':_0x1fa519,'attempts':_0x122e6d,'firstScore':_0x3b3455,'bestScore':_0x3f2f8f,'latestScore':_0x37f372,'points':_0x197242,'latestSubmittedAt':_0x49114b[_0x4a9903(0x639)]},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x12e73a,_0x37f372,_0x197242,_0x4e7de0,_0x1f27ea,_0x1fa519);}catch(_0x33249c){console[_0x4a9903(0x30a)](_0x4a9903(0xa29),_0x33249c),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x48dfb4,_0x53c226){const _0x159d4f=_0x599685,_0x1d5091=doc(db,_0x159d4f(0x3d7)+appId+_0x159d4f(0x330)+_0x48dfb4+_0x159d4f(0x8f6),_0x53c226);try{const _0x44cc6f=query(collection(db,_0x159d4f(0x3d7)+appId+'/public/data/quizzes'),where(_0x159d4f(0x7f1),'==',_0x48dfb4)),_0xca3d7b=await getDocs(_0x44cc6f),_0xc468=new Map(_0xca3d7b[_0x159d4f(0x5e9)][_0x159d4f(0x392)](_0x3e875e=>[_0x3e875e['id'],_0x3e875e[_0x159d4f(0x7e5)]()])),_0x57bdaa=Array['from'](_0xc468[_0x159d4f(0x937)]());await runTransaction(db,async _0x5f11b7=>{const _0x1848c1=_0x159d4f;let _0x188b70=0x0;const _0x4d97fc={};let _0x4e03ba=!![],_0x22fdf8=0x0,_0x35b78b=0x0;for(const _0x4ff65e of _0x57bdaa){const _0x1875a7=_0xc468['get'](_0x4ff65e),_0x3b8136=doc(db,_0x1848c1(0x3d7)+appId+_0x1848c1(0x754)+_0x4ff65e+_0x1848c1(0x98a),_0x53c226),_0x3a1249=await _0x5f11b7[_0x1848c1(0x316)](_0x3b8136);if(_0x3a1249[_0x1848c1(0x478)]()){const _0x58cf40=_0x3a1249['data'](),_0x175012=_0x58cf40[_0x1848c1(0x42d)]||[];if(_0x175012[_0x1848c1(0x5b5)]>0x0){const _0x5f50b9=_0x175012[_0x1848c1(0x297)]((_0x43c1aa,_0x4f095e)=>{const _0x477cb=_0x1848c1;if(_0x4f095e[_0x477cb(0x9df)]>_0x43c1aa[_0x477cb(0x9df)])return _0x4f095e;if(_0x4f095e[_0x477cb(0x9df)]===_0x43c1aa[_0x477cb(0x9df)])return(_0x4f095e[_0x477cb(0x2ea)]||0x0)>(_0x43c1aa[_0x477cb(0x2ea)]||0x0)?_0x4f095e:_0x43c1aa;return _0x43c1aa;},{'score':-0x1,'points':-0x1});_0x5f50b9[_0x1848c1(0x9df)]>-0x1&&(_0x188b70+=_0x5f50b9[_0x1848c1(0x2ea)]||0x0,(_0x5f50b9['badges']||[])[_0x1848c1(0x24d)](_0x1688f7=>{_0x4d97fc[_0x1688f7]=(_0x4d97fc[_0x1688f7]||0x0)+0x1;}));}}if(_0x1875a7[_0x1848c1(0x699)]!=='แบบทดสอบซ่อมเสริม'){_0x35b78b++;if(_0x3a1249['exists']()){_0x22fdf8++;const _0x15b97b=_0x3a1249[_0x1848c1(0x7e5)]();_0x15b97b[_0x1848c1(0x1b9)]!==_0x15b97b[_0x1848c1(0x39e)]&&(_0x4e03ba=![]);}else _0x4e03ba=![];}}_0x35b78b>0x0&&_0x22fdf8===_0x35b78b&&_0x4e03ba?_0x4d97fc[_0x1848c1(0x81b)]=0x1:_0x4d97fc[_0x1848c1(0x81b)]=0x0,_0x5f11b7[_0x1848c1(0x3dc)](_0x1d5091,{'studentName':_0x53c226,'totalPoints':_0x188b70,'unlockedBadges':Object[_0x1848c1(0x937)](_0x4d97fc)[_0x1848c1(0x7c9)](_0x2b1e74=>_0x4d97fc[_0x2b1e74]>0x0),'badgesCount':_0x4d97fc},{'merge':!![]});});}catch(_0x260752){console[_0x159d4f(0x30a)](_0x159d4f(0x5e8),_0x260752),showMessage(_0x159d4f(0x340));}}function startAdminTest(){const _0x3b4d14=_0x599685;if(!currentQuizData){showMessage(_0x3b4d14(0x8ea));return;}let _0x1ef539=JSON[_0x3b4d14(0x7a4)](JSON[_0x3b4d14(0x3eb)](currentQuizData));currentMode=_0x3b4d14(0x2cc),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView['classList']['add']('hidden'),studentView['classList'][_0x3b4d14(0xac8)](_0x3b4d14(0x180)),studentInitialView[_0x3b4d14(0x7ad)]['add'](_0x3b4d14(0x180)),studentNameSelectionView[_0x3b4d14(0x7ad)][_0x3b4d14(0x25c)](_0x3b4d14(0x180)),studentResultArea[_0x3b4d14(0x7ad)]['add']('hidden'),studentQuizArea[_0x3b4d14(0x7ad)]['remove'](_0x3b4d14(0x180)),quizStartTime=new Date(),displayQuizForStudent(_0x1ef539);}function handleResultDisplay(_0x4880cd,_0x4e1635,_0x5b232d,_0x5b802f,_0x28d055,_0x1316d1){const _0x333ca2=_0x599685;if(_0x4880cd===_0x333ca2(0x72f)){displaySubmissionConfirmation();return;}const _0x531d09=currentDisplayedQuiz[_0x333ca2(0x549)]?.[_0x333ca2(0x823)]??Math[_0x333ca2(0x919)](_0x1316d1/0x2),_0x453830=currentDisplayedQuiz['settings']?.[_0x333ca2(0x298)]??![],_0x34497b=currentDisplayedQuiz['settings']?.[_0x333ca2(0x424)]===!![],_0x20bf80=_0x4e1635<_0x531d09,_0x1c5e9b=_0x4880cd===_0x333ca2(0x24b)||_0x4880cd===_0x333ca2(0x1ea);if(_0x34497b&&_0x20bf80&&!_0x1c5e9b){_0x4880cd===_0x333ca2(0x1fe)?displayResultsWithAnswers(_0x4e1635,_0x5b232d,_0x5b802f,_0x28d055,_0x1316d1,!![]):displayLoopScreen(_0x4e1635,_0x1316d1,_0x4880cd);return;}if(_0x453830&&_0x20bf80){startAdaptiveFlow(_0x28d055,_0x4e1635,_0x1316d1);return;}switch(_0x4880cd){case'show_results_and_answers':displayResultsWithAnswers(_0x4e1635,_0x5b232d,_0x5b802f,_0x28d055,_0x1316d1);break;case _0x333ca2(0x484):displayResultsScoreOnly(_0x4e1635,_0x5b232d,_0x5b802f,_0x1316d1);break;case'show_pass_fail_only':displayPassFailOnly(_0x4e1635,_0x1316d1);break;case'half_mark_status':displayHalfMarkResult(_0x4e1635,_0x1316d1);break;case _0x333ca2(0x1ea):displayPerfectScoreResult(_0x4e1635,_0x1316d1);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x18101c){const _0x162152=_0x599685;studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x15afac=_0x162152(0x3d6)+_0x18101c+_0x162152(0x4b1)+simpleMathPrompt+_0x162152(0x791),_0x469e49={'type':_0x162152(0x284),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x162152(0xa25),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x162152(0x601)},'explanation':{'type':_0x162152(0x89b)}},'required':[_0x162152(0x4ed),'options',_0x162152(0x5db),_0x162152(0x7c2)]},_0x351430={'type':_0x162152(0x284),'properties':{'topic':{'type':_0x162152(0x89b)},'questions':{'type':'ARRAY','items':_0x469e49}},'required':[_0x162152(0x699),_0x162152(0x4ac)]};try{const _0x34da35=await callAnalysisApi(_0x15afac,_0x351430);_0x34da35[_0x162152(0x1ab)]=!![],studentReadingArea[_0x162152(0x7ad)]['add'](_0x162152(0x180));const _0x3f37eb={...currentDisplayedQuiz[_0x162152(0x549)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x34da35[_0x162152(0x549)]=_0x3f37eb,displayQuizForStudent(_0x34da35);}catch(_0x31ae32){console[_0x162152(0x30a)](_0x162152(0x1bb),_0x31ae32),showMessage(_0x162152(0x551)),showView(_0x162152(0x613));}}function displayPassFailOnly(_0x6fd219,_0x2ac75f){const _0x15aab0=_0x599685,_0x1aaf4e=currentDisplayedQuiz[_0x15aab0(0x549)]?.[_0x15aab0(0x823)]??-0x1,_0x5d4074=currentDisplayedQuiz[_0x15aab0(0x1ab)]===!![];let _0x1b0539='',_0x2c4c2b=![];if(_0x5d4074||_0x1aaf4e!==-0x1){_0x2c4c2b=_0x5d4074?_0x6fd219===_0x2ac75f:_0x6fd219>=_0x1aaf4e;const _0x6de0e7=_0x2c4c2b?_0x15aab0(0x550):_0x15aab0(0x69e),_0x1a0036=_0x2c4c2b?'ผ่าน':_0x15aab0(0x9c6);_0x1b0539=_0x15aab0(0x295)+_0x6de0e7+'\x22>'+_0x1a0036+_0x15aab0(0x1f4);}else _0x1b0539='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x3282f3=_0x15aab0(0x9fe)+currentStudentName+_0x15aab0(0xa0c)+_0x1b0539+_0x15aab0(0x6c7);studentResultArea[_0x15aab0(0x88b)]=_0x3282f3,studentResultArea[_0x15aab0(0x7ad)][_0x15aab0(0xac8)](_0x15aab0(0x180)),studentQuizArea['classList'][_0x15aab0(0x25c)](_0x15aab0(0x180)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x2c4c2b});}function cancelAdminTest(){const _0x2500f7=_0x599685;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x2500f7(0x56e)](_0x2500f7(0x9fa),handleFullscreenChange),document[_0x2500f7(0x56e)]('visibilitychange',handleVisibilityChange),currentMode='admin',studentView['classList'][_0x2500f7(0x25c)](_0x2500f7(0x180)),adminView[_0x2500f7(0x7ad)][_0x2500f7(0xac8)](_0x2500f7(0x180)),showView(_0x2500f7(0x53b));}function setupResultScreenBackButton(_0x1adb89){const _0x392ad0=_0x599685,_0x20bb5c={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x1adb89};if(_0x20bb5c[_0x392ad0(0x84d)]){const _0x4fb8e3=_0x392ad0(0x740);studentResultArea[_0x392ad0(0x647)](_0x392ad0(0x29d),_0x4fb8e3),document[_0x392ad0(0x6f5)](_0x392ad0(0x375))[_0x392ad0(0x2a3)](_0x392ad0(0x41c),()=>{const _0x1ce77a=_0x392ad0;studentResultArea[_0x1ce77a(0x7ad)][_0x1ce77a(0x25c)](_0x1ce77a(0x180)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x3c68a2=_0x392ad0(0x9d2),_0x3d9114=currentMode===_0x392ad0(0x2cc),_0x52b122=_0x3d9114?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x392ad0(0x75e);let _0x48d845='';_0x20bb5c[_0x392ad0(0x554)]&&(_0x48d845+=_0x392ad0(0x88a));let _0x17c219=_0x20bb5c['showImproveButton'];_0x17c219===undefined&&(_0x17c219=_0x20bb5c[_0x392ad0(0x9df)]<_0x20bb5c['totalQuestions']);_0x17c219&&(_0x48d845+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x48d845+='<button\x20id=\x22'+_0x3c68a2+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x52b122+_0x392ad0(0x979);const _0xe7d608='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x48d845+_0x392ad0(0x6ab);studentResultArea[_0x392ad0(0x647)](_0x392ad0(0x29d),_0xe7d608),studentResultArea[_0x392ad0(0x9ae)](_0x392ad0(0x739))?.[_0x392ad0(0x2a3)](_0x392ad0(0x41c),handleShowStudentRankings);const _0x313b75=studentResultArea[_0x392ad0(0x9ae)](_0x392ad0(0x5c8));_0x313b75&&_0x313b75[_0x392ad0(0x2a3)](_0x392ad0(0x41c),()=>{const _0x4a72a2=_0x392ad0;studentResultArea[_0x4a72a2(0x7ad)][_0x4a72a2(0x25c)](_0x4a72a2(0x180)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x392ad0(0x6f5)](_0x3c68a2)[_0x392ad0(0x2a3)](_0x392ad0(0x41c),()=>{const _0x379fa6=_0x392ad0;_0x3d9114?(currentMode=_0x379fa6(0x750),studentView[_0x379fa6(0x7ad)]['add'](_0x379fa6(0x180)),adminView['classList'][_0x379fa6(0xac8)]('hidden'),showView('project-detail')):(showView('student'),document[_0x379fa6(0x6f5)]('quiz-id-input')[_0x379fa6(0x8c4)]='');});}function displayResultsWithAnswers(_0x367a2b,_0x387dba,_0x3dd4af,_0x3060c1,_0x29f4fc,_0x27809a=![]){const _0x2a7b24=_0x599685,_0x17c56f=_0x29f4fc>0x0?_0x367a2b/_0x29f4fc*0x64:0x0,_0x3e7263=currentDisplayedQuiz[_0x2a7b24(0x549)]?.[_0x2a7b24(0x823)]??-0x1,_0xf0b991=currentDisplayedQuiz[_0x2a7b24(0x1ab)]===!![];let _0x403c21='';if(_0xf0b991||_0x3e7263!==-0x1){let _0x38e430=_0xf0b991?_0x367a2b===_0x29f4fc:_0x367a2b>=_0x3e7263;const _0x10c0ee=_0x38e430?_0x2a7b24(0x550):_0x2a7b24(0x69e),_0x2f8c09=_0x38e430?_0x2a7b24(0x6dd):_0x2a7b24(0x9c6);_0x403c21=_0x2a7b24(0x3ac)+_0x10c0ee+'\x22>'+_0x2f8c09+_0x2a7b24(0x68b);}let _0x39aa77=_0x2a7b24(0x315)+currentStudentName+_0x2a7b24(0x246)+_0x367a2b+_0x2a7b24(0x97a)+_0x29f4fc+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x403c21+_0x2a7b24(0x693)+_0x387dba+_0x2a7b24(0x755)+_0x17c56f[_0x2a7b24(0x54e)](0x0)+_0x2a7b24(0x956);currentDisplayedQuiz[_0x2a7b24(0x4ac)][_0x2a7b24(0x24d)]((_0x3f139b,_0x1d5cca)=>{const _0x2c6f22=_0x2a7b24,_0x4de061=_0x3060c1[_0x1d5cca],_0x512b4b=_0x4de061[_0x2c6f22(0x970)],_0x5cc45e=_0x4de061[_0x2c6f22(0x635)],_0x987413=_0x3f139b[_0x2c6f22(0x5e5)]||currentDisplayedQuiz['quizType'];_0x39aa77+=_0x2c6f22(0x4f1)+(_0x5cc45e?_0x2c6f22(0x451):_0x2c6f22(0x18a))+_0x2c6f22(0x434)+(_0x1d5cca+0x1)+'.\x20'+(_0x3f139b[_0x2c6f22(0x9a4)]||_0x3f139b['questionText'])+_0x2c6f22(0x205);switch(_0x987413){case'matching_item':const _0x17e2e6=_0x512b4b||_0x2c6f22(0x430),_0x143738=_0x3f139b['correctResponse'];_0x39aa77+=_0x2c6f22(0x2a7)+(!_0x5cc45e?'line-through\x20text-red-700':'')+'\x22>'+_0x17e2e6+_0x2c6f22(0x28a);!_0x5cc45e&&(_0x39aa77+=_0x2c6f22(0x482)+_0x143738+'</p>');break;case _0x2c6f22(0x7ff):_0x39aa77+=_0x2c6f22(0x453)+(_0x512b4b||_0x2c6f22(0x430))+_0x2c6f22(0x68b),_0x39aa77+=_0x2c6f22(0x1e7)+_0x3f139b[_0x2c6f22(0xa6e)]+_0x2c6f22(0x68b);break;case'true_false':_0x39aa77+='<p\x20class=\x22'+(_0x3f139b['correctAnswer']===!![]?_0x2c6f22(0x9ea):'')+'\x20'+(_0x512b4b==='true'&&!_0x5cc45e?'line-through\x20text-red-700':'')+_0x2c6f22(0x4e5),_0x39aa77+=_0x2c6f22(0x3c2)+(_0x3f139b[_0x2c6f22(0xa0b)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x512b4b==='false'&&!_0x5cc45e?_0x2c6f22(0x5ff):'')+_0x2c6f22(0x320);break;default:_0x39aa77+=_0x3f139b[_0x2c6f22(0x5d1)][_0x2c6f22(0x392)]((_0x3059c0,_0x3dd03d)=>{const _0x34370a=_0x2c6f22;let _0x513f59='',_0x1b676f='';if(_0x3dd03d===_0x3f139b[_0x34370a(0x5db)])_0x513f59=_0x34370a(0x9ea),_0x1b676f='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x3dd03d===_0x512b4b&&(_0x513f59=_0x34370a(0x440),_0x1b676f=_0x34370a(0x93a));return'<div\x20class=\x22'+_0x513f59+'\x22>'+_0x1b676f+_0x3059c0+_0x34370a(0x6ab);})[_0x2c6f22(0x70f)]('');break;}_0x39aa77+=_0x2c6f22(0x25b)+(_0x3f139b[_0x2c6f22(0x7c2)]||_0x2c6f22(0x5ad))+_0x2c6f22(0x6ab);if(!_0x5cc45e){const _0x2bf604=_0x3f139b[_0x2c6f22(0x9a4)]||_0x3f139b[_0x2c6f22(0x4ed)];_0x39aa77+=_0x2c6f22(0x842)+escape(_0x2bf604)+_0x2c6f22(0x97b);}_0x39aa77+='</div>';}),studentResultArea[_0x2a7b24(0x88b)]=_0x39aa77,renderEarnedBadges(_0x3dd4af,_0x2a7b24(0x5d5)),studentResultArea[_0x2a7b24(0x7ad)]['remove'](_0x2a7b24(0x180)),studentQuizArea[_0x2a7b24(0x7ad)]['add'](_0x2a7b24(0x180)),setupResultScreenBackButton({'isLooping':_0x27809a,'score':_0x367a2b,'totalQuestions':_0x29f4fc,'showRankings':!![]});if(window[_0x2a7b24(0x4dd)])window[_0x2a7b24(0x4dd)][_0x2a7b24(0x908)]([studentResultArea]);}function displayResultsScoreOnly(_0x959b82,_0x3681df,_0x37ab2b,_0x3ac6c3){const _0x262095=_0x599685,_0x12bee6=_0x3ac6c3>0x0?_0x959b82/_0x3ac6c3*0x64:0x0,_0xc17c6d=currentDisplayedQuiz['settings']?.[_0x262095(0x823)]??-0x1,_0x2eeec2=currentDisplayedQuiz[_0x262095(0x1ab)]===!![];let _0x3778cd='';if(_0x2eeec2||_0xc17c6d!==-0x1){let _0x18b2a1=_0x2eeec2?_0x959b82===_0x3ac6c3:_0x959b82>=_0xc17c6d;const _0x294f6e=_0x18b2a1?_0x262095(0x550):_0x262095(0x69e),_0x13019b=_0x18b2a1?_0x262095(0x6dd):'ไม่ผ่าน';_0x3778cd=_0x262095(0x3ac)+_0x294f6e+'\x22>'+_0x13019b+_0x262095(0x68b);}let _0x24de72=_0x262095(0x9fe)+currentStudentName+_0x262095(0x67f)+_0x959b82+_0x262095(0x6cc)+_0x3ac6c3+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3778cd+_0x262095(0x693)+_0x3681df+_0x262095(0x6a2)+_0x12bee6[_0x262095(0x54e)](0x0)+_0x262095(0x6ef);studentResultArea[_0x262095(0x88b)]=_0x24de72,renderEarnedBadges(_0x37ab2b,_0x262095(0x5d5)),studentResultArea['classList']['remove']('hidden'),studentQuizArea[_0x262095(0x7ad)][_0x262095(0x25c)]('hidden'),setupResultScreenBackButton({'score':_0x959b82,'totalQuestions':_0x3ac6c3,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x29fab4=_0x599685;let _0x2209f7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x29fab4(0x617);studentResultArea[_0x29fab4(0x88b)]=_0x2209f7,studentResultArea['classList'][_0x29fab4(0xac8)](_0x29fab4(0x180)),studentQuizArea['classList'][_0x29fab4(0x25c)]('hidden'),document[_0x29fab4(0x6f5)](_0x29fab4(0x33d))[_0x29fab4(0x2a3)](_0x29fab4(0x41c),()=>{const _0x5a3845=_0x29fab4;showView('student'),document[_0x5a3845(0x6f5)](_0x5a3845(0x794))[_0x5a3845(0x8c4)]='';});}function renderEarnedBadges(_0xc9b8eb,_0x5a1eb4){const _0x52c6fd=_0x599685,_0x5c24ae=document[_0x52c6fd(0x6f5)](_0x5a1eb4);if(!_0x5c24ae||!_0xc9b8eb||_0xc9b8eb[_0x52c6fd(0x5b5)]===0x0)return;let _0x5af202='';_0xc9b8eb[_0x52c6fd(0x24d)]((_0x112498,_0x16c10d)=>{const _0x466d5e=_0x52c6fd,_0xd0cfbc=Object['values'](BADGES)['find'](_0x218ac8=>_0x218ac8['id']===_0x112498);_0xd0cfbc&&(_0x5af202+=_0x466d5e(0x20b)+_0x16c10d*0.2+_0x466d5e(0x71d)+_0xd0cfbc[_0x466d5e(0x9d6)]+_0x466d5e(0x4e3)+_0xd0cfbc[_0x466d5e(0x465)]+_0x466d5e(0x513)+_0xd0cfbc[_0x466d5e(0x472)]+_0x466d5e(0x1a4));}),_0x5c24ae[_0x52c6fd(0x88b)]=_0x5af202;}function startPresentation(_0x50b5e9){const _0x1efac9=_0x599685;currentQuizData=getShuffledQuiz(_0x50b5e9),currentPresentationSlide=0x0,presentationModal[_0x1efac9(0x317)][_0x1efac9(0x1b7)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x1aa850=_0x599685;document[_0x1aa850(0x37b)]&&document[_0x1aa850(0x8de)](),presentationModal[_0x1aa850(0x317)][_0x1aa850(0x1b7)]=_0x1aa850(0x649);}function renderPresentationSlide(_0x2a8f07){const _0x53a737=_0x599685,_0x297d88=document[_0x53a737(0x6f5)](_0x53a737(0x21a));if(!currentQuizData||!currentQuizData[_0x53a737(0x4ac)]||!currentQuizData[_0x53a737(0x4ac)][_0x2a8f07]){_0x297d88[_0x53a737(0x88b)]=_0x53a737(0x27c);return;}const _0xb7932e=currentQuizData[_0x53a737(0x4ac)][_0x2a8f07],_0x12bcaa=_0xb7932e['questionType']||currentQuizData[_0x53a737(0x1a3)];_0x297d88['innerHTML']='';let _0x3a3ea=_0x53a737(0x967)+(_0xb7932e[_0x53a737(0x248)]?_0x53a737(0x6ea)+_0xb7932e[_0x53a737(0x248)]+'</div>':'')+_0x53a737(0xa0a)+(_0x2a8f07+0x1)+'.\x20'+(_0xb7932e[_0x53a737(0x9a4)]||_0xb7932e['questionText'])+_0x53a737(0x30c);switch(_0x12bcaa){case _0x53a737(0x228):_0x3a3ea+=_0xb7932e[_0x53a737(0x4ca)][_0x53a737(0x392)](_0x9c519e=>_0x53a737(0x94f)+_0x9c519e+_0x53a737(0x4b9))['join']('');break;case'true_false':_0x3a3ea+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x3a3ea+=_0x53a737(0x8d3);break;case _0x53a737(0x2d8):case'short_answer':_0x3a3ea+=_0x53a737(0x55c);break;case'fill_in_the_blank':case _0x53a737(0x9bb):default:_0x3a3ea+=_0xb7932e[_0x53a737(0x5d1)][_0x53a737(0x392)]((_0x7be101,_0x1ba6aa)=>_0x53a737(0x263)+_0x1ba6aa+_0x53a737(0x9cf)+_0x7be101+_0x53a737(0x4b9))[_0x53a737(0x70f)]('');break;}_0x3a3ea+=_0x53a737(0x4de)+(_0xb7932e['explanation']||_0x53a737(0x5ad))+_0x53a737(0x455),_0x297d88[_0x53a737(0x88b)]=_0x3a3ea;if(window[_0x53a737(0x4dd)])window[_0x53a737(0x4dd)]['typesetPromise']([_0x297d88]);let _0x54e67e=[];switch(_0x12bcaa){case _0x53a737(0x228):_0x54e67e=_0xb7932e[_0x53a737(0x4ca)]||[];break;case _0x53a737(0x932):_0x54e67e=[_0x53a737(0x9f0),_0x53a737(0x6ad)];break;default:_0x54e67e=_0xb7932e['options']||[];break;}const _0x42a0c0=document[_0x53a737(0x6f5)](_0x53a737(0x285));_0x42a0c0&&(_0x42a0c0[_0x53a737(0x46d)]=()=>{openScratchpad(_0xb7932e,_0x54e67e);});document[_0x53a737(0x3b5)](_0x53a737(0x9e8))[_0x53a737(0x24d)](_0x3aa3d2=>{const _0x1155cc=_0x53a737;_0x3aa3d2['addEventListener'](_0x1155cc(0x41c),_0x4c5af4=>revealAnswerForPresentation(_0x2a8f07,_0x4c5af4[_0x1155cc(0xac9)]));});const _0x5eefea=document[_0x53a737(0x6f5)](_0x53a737(0x8ed));_0x5eefea&&_0x5eefea[_0x53a737(0x2a3)](_0x53a737(0x41c),()=>checkShortAnswerForPresentation(_0x2a8f07)),document['getElementById'](_0x53a737(0x520))[_0x53a737(0x406)]=_0x53a737(0xa4a)+(_0x2a8f07+0x1)+_0x53a737(0x660)+currentQuizData[_0x53a737(0x4ac)][_0x53a737(0x5b5)],document[_0x53a737(0x6f5)]('prev-question-btn')[_0x53a737(0x8c1)]=_0x2a8f07===0x0,document[_0x53a737(0x6f5)](_0x53a737(0x7ef))[_0x53a737(0x8c1)]=_0x2a8f07===currentQuizData[_0x53a737(0x4ac)][_0x53a737(0x5b5)]-0x1;}async function checkShortAnswerForPresentation(_0x14f9f3){const _0x5a0191=_0x599685,_0x1bb19d=currentQuizData[_0x5a0191(0x4ac)][_0x14f9f3],_0x34b2a1=document[_0x5a0191(0x6f5)]('presentation-short-answer-input'),_0x14821b=document[_0x5a0191(0x6f5)](_0x5a0191(0x8ed)),_0x1c2560=document[_0x5a0191(0x6f5)](_0x5a0191(0x2a8)),_0x230255=document[_0x5a0191(0x6f5)]('presentation-explanation');if(!_0x34b2a1||!_0x14821b||!_0x1c2560||!_0x230255)return;const _0x500c26=_0x34b2a1[_0x5a0191(0x8c4)][_0x5a0191(0x8cf)]();if(_0x500c26==='')return;_0x14821b['disabled']=!![],_0x14821b['innerHTML']=_0x5a0191(0x782),_0x34b2a1[_0x5a0191(0x8c1)]=!![];const _0x19f6f8=await gradeShortAnswer(_0x500c26,_0x1bb19d);_0x19f6f8?_0x1c2560[_0x5a0191(0x88b)]=_0x5a0191(0x7c4):_0x1c2560[_0x5a0191(0x88b)]=_0x5a0191(0x89c)+_0x1bb19d[_0x5a0191(0xa6e)]+')',_0x1c2560['classList'][_0x5a0191(0xac8)]('hidden'),_0x230255[_0x5a0191(0x7ad)][_0x5a0191(0xac8)](_0x5a0191(0x180)),_0x14821b[_0x5a0191(0x7ad)]['add']('hidden');}function revealAnswerForPresentation(_0x2ef5d7,_0x42c584){const _0x57d422=_0x599685,_0x4ef495=currentQuizData[_0x57d422(0x4ac)][_0x2ef5d7],_0x311723=_0x4ef495['questionType']||currentQuizData[_0x57d422(0x1a3)];document['querySelectorAll'](_0x57d422(0x9e8))[_0x57d422(0x24d)](_0x576e8e=>{const _0x1a57ea=_0x57d422;_0x576e8e['disabled']=!![],_0x576e8e[_0x1a57ea(0x7ad)][_0x1a57ea(0xac8)](_0x1a57ea(0x3e3));let _0x2aada8=![];if(_0x311723==='multiple_choice'||_0x311723===_0x1a57ea(0x6a4)){const _0x5ac114=parseInt(_0x576e8e[_0x1a57ea(0x4eb)][_0x1a57ea(0x5e4)]);_0x2aada8=_0x5ac114===_0x4ef495[_0x1a57ea(0x5db)];}else{if(_0x311723==='true_false'){const _0x2f3655=_0x576e8e[_0x1a57ea(0x4eb)][_0x1a57ea(0x970)]===_0x1a57ea(0x630);_0x2aada8=_0x2f3655===_0x4ef495[_0x1a57ea(0xa0b)];}else _0x311723===_0x1a57ea(0x228)&&(_0x2aada8=_0x576e8e[_0x1a57ea(0x406)][_0x1a57ea(0x8cf)]()===_0x4ef495[_0x1a57ea(0xa0f)]);}_0x2aada8?_0x576e8e[_0x1a57ea(0x7ad)]['add'](_0x1a57ea(0x7f8),_0x1a57ea(0xa5f),_0x1a57ea(0x80e)):_0x576e8e[_0x1a57ea(0x7ad)]['add'](_0x1a57ea(0x951));}),_0x42c584[_0x57d422(0x7ad)][_0x57d422(0xac8)](_0x57d422(0x951));let _0xdbde18=![];if(_0x311723==='multiple_choice')_0xdbde18=parseInt(_0x42c584[_0x57d422(0x4eb)][_0x57d422(0x5e4)])===_0x4ef495['correctAnswerIndex'];else{if(_0x311723==='true_false')_0xdbde18=_0x42c584['dataset']['answer']===_0x57d422(0x630)===_0x4ef495[_0x57d422(0xa0b)];else _0x311723===_0x57d422(0x228)&&(_0xdbde18=_0x42c584[_0x57d422(0x406)]['trim']()===_0x4ef495[_0x57d422(0xa0f)]);}!_0xdbde18&&_0x42c584[_0x57d422(0x7ad)]['add']('bg-red-500',_0x57d422(0xa5f),_0x57d422(0x89a)),document[_0x57d422(0x6f5)](_0x57d422(0x98e))[_0x57d422(0x7ad)][_0x57d422(0xac8)](_0x57d422(0x180));}function startWholeQuizTimer(_0xc85408){const _0x2eb45a=_0x599685,_0x4a5cd0=document[_0x2eb45a(0x6f5)]('timer-container');if(!_0x4a5cd0)return;const _0x149b87=Date['now']()+_0xc85408*0x3c*0x3e8;_0x4a5cd0['innerHTML']=_0x2eb45a(0x17b);const _0x488009=document[_0x2eb45a(0x6f5)](_0x2eb45a(0xacf));quizTimerInterval=setInterval(()=>{const _0x385cdc=_0x2eb45a,_0x4d5ef5=_0x149b87-Date[_0x385cdc(0x32f)]();if(_0x4d5ef5<=0x0)clearInterval(quizTimerInterval),_0x488009[_0x385cdc(0x406)]=_0x385cdc(0x4a7),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x3b11bf=Math[_0x385cdc(0x919)](_0x4d5ef5/0x3e8/0x3c%0x3c)[_0x385cdc(0x8b5)]()[_0x385cdc(0x97d)](0x2,'0'),_0x5bfd29=Math[_0x385cdc(0x919)](_0x4d5ef5/0x3e8%0x3c)[_0x385cdc(0x8b5)]()['padStart'](0x2,'0');_0x488009[_0x385cdc(0x406)]=_0x3b11bf+':'+_0x5bfd29;}},0x3e8);}function renderPerQuestionView(){const _0x4230db=_0x599685;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x5c46b2=currentDisplayedQuiz[_0x4230db(0x4ac)][currentQuestionIndex],_0x424b41=_0x5c46b2['questionType']||currentDisplayedQuiz[_0x4230db(0x1a3)],_0x41a442=currentDisplayedQuiz[_0x4230db(0x549)]?.[_0x4230db(0xa88)]===!![];let _0xb5b3dc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x4230db(0x197)+currentDisplayedQuiz[_0x4230db(0x4ac)][_0x4230db(0x5b5)]+_0x4230db(0x437)+(currentMode===_0x4230db(0x2cc)?_0x4230db(0x83e):'')+_0x4230db(0x240)+currentDisplayedQuiz[_0x4230db(0x699)]+_0x4230db(0xa3e);studentQuizArea[_0x4230db(0x88b)]=_0xb5b3dc;let _0x3ff4d7=_0x5c46b2[_0x4230db(0x9a4)]||_0x5c46b2['questionText'];_0x5c46b2[_0x4230db(0x248)]&&(_0x3ff4d7+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x5c46b2[_0x4230db(0x248)]+_0x4230db(0x6ab));let _0x58725b='';switch(_0x424b41){case'short_answer':case'fill_in_no_choices':_0x58725b='<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case'true_false':_0x58725b=_0x4230db(0x55e);break;case'matching_item':_0x58725b=_0x4230db(0x88c)+(_0x5c46b2['allResponses']||[])['map'](_0x3dab8d=>'<option\x20value=\x22'+_0x3dab8d+'\x22>'+_0x3dab8d+_0x4230db(0x4ba))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x5c46b2[_0x4230db(0x5d1)]&&(_0x58725b=_0x5c46b2[_0x4230db(0x5d1)]['map']((_0x140c78,_0x33e3f8)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x33e3f8+_0x4230db(0x24f)+_0x33e3f8+_0x4230db(0x67b)+_0x33e3f8+'\x22>'+_0x140c78+_0x4230db(0x3cf))[_0x4230db(0x70f)](''));break;}document['getElementById'](_0x4230db(0xa2a))[_0x4230db(0x88b)]=_0x3ff4d7,document[_0x4230db(0x6f5)](_0x4230db(0x328))['innerHTML']=_0x58725b;const _0x44e948=currentDisplayedQuiz[_0x4230db(0x549)]?.[_0x4230db(0xa88)]===!![],_0x4c1760=currentDisplayedQuiz[_0x4230db(0x549)]?.[_0x4230db(0x17e)]||_0x4230db(0x337);if(_0x44e948&&_0x4c1760===_0x4230db(0x337)){const _0x188dd6=_0x4230db(0x235);studentQuizArea[_0x4230db(0x9ae)]('.mb-6.p-4')['insertAdjacentHTML'](_0x4230db(0x29d),_0x188dd6);}studentQuizArea[_0x4230db(0x647)](_0x4230db(0x29d),_0x4230db(0x568)+(currentQuestionIndex===currentDisplayedQuiz[_0x4230db(0x4ac)][_0x4230db(0x5b5)]-0x1?_0x4230db(0x357):_0x4230db(0x9f9))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode===_0x4230db(0x2cc)&&document['getElementById'](_0x4230db(0x2ec))?.[_0x4230db(0x2a3)]('click',cancelAdminTest);document[_0x4230db(0x6f5)](_0x4230db(0x7d2))[_0x4230db(0x2a3)](_0x4230db(0x41c),()=>handleNextQuestionInTimedMode(![]));if(window[_0x4230db(0x4dd)])window[_0x4230db(0x4dd)][_0x4230db(0x908)]([studentQuizArea]);currentDisplayedQuiz[_0x4230db(0x549)]?.[_0x4230db(0x8ec)]===_0x4230db(0x8a0)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x46c52e=_0x599685,_0x22c2c0=currentDisplayedQuiz[_0x46c52e(0x549)][_0x46c52e(0x747)],_0xd25050=document[_0x46c52e(0x6f5)](_0x46c52e(0x48e));if(!_0xd25050)return;let _0x49374a=_0x22c2c0;_0xd25050[_0x46c52e(0x88b)]=_0x46c52e(0x27d)+_0x49374a+_0x46c52e(0x4d4);const _0x5d5b92=document['getElementById'](_0x46c52e(0x852)),_0x3279b0=document[_0x46c52e(0x6f5)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x56c964=_0x46c52e;_0x49374a--;const _0x5ee61e=_0x49374a/_0x22c2c0*0x64;_0x5d5b92[_0x56c964(0x317)]['width']=_0x5ee61e+'%',_0x3279b0[_0x56c964(0x406)]=_0x49374a,_0x49374a<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x56c964(0xa8e)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function _0x2110(_0xa8fed8,_0x24ea17){const _0x588735=_0x5887();return _0x2110=function(_0x2110fe,_0x5ea4c5){_0x2110fe=_0x2110fe-0x179;let _0x346fac=_0x588735[_0x2110fe];return _0x346fac;},_0x2110(_0xa8fed8,_0x24ea17);}function handleNextQuestionInTimedMode(_0x40d64c=![]){const _0x4667b3=_0x599685;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x123fca=null,_0xe9214f=![];if(!_0x40d64c){const _0x5a06cf=currentDisplayedQuiz[_0x4667b3(0x4ac)][currentQuestionIndex],_0x2572bf=_0x5a06cf[_0x4667b3(0x5e5)]||currentDisplayedQuiz[_0x4667b3(0x1a3)];if(_0x2572bf===_0x4667b3(0x7ff)||_0x2572bf===_0x4667b3(0x2d8))_0x123fca=document['querySelector'](_0x4667b3(0x33c))?.[_0x4667b3(0x8c4)][_0x4667b3(0x8cf)]()??'';else{if(_0x2572bf===_0x4667b3(0x228))_0x123fca=document[_0x4667b3(0x9ae)](_0x4667b3(0x55d))?.[_0x4667b3(0x8c4)]??'';else{const _0x3f0dc4=document['querySelector']('input[name=\x22question_single\x22]:checked');_0x3f0dc4&&(_0x123fca=_0x3f0dc4[_0x4667b3(0x8c4)]);}}if(_0x123fca===null||_0x123fca===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x256f63=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0xa0bfc6=currentDisplayedQuiz[_0x4667b3(0x549)]?.[_0x4667b3(0x17e)]||_0x4667b3(0x337);if(_0x256f63&&_0xa0bfc6===_0x4667b3(0x493)){document[_0x4667b3(0x6f5)]('confidence-modal')[_0x4667b3(0x4eb)][_0x4667b3(0x449)]='timed',document[_0x4667b3(0x6f5)](_0x4667b3(0x28e))[_0x4667b3(0x8c4)]=_0x123fca,document['getElementById'](_0x4667b3(0x3fa))[_0x4667b3(0x7ad)]['remove'](_0x4667b3(0x180));return;}const _0x8c57a6=document[_0x4667b3(0x6f5)](_0x4667b3(0x829));_0x8c57a6&&(_0xe9214f=_0x8c57a6[_0x4667b3(0x788)]);}const _0x4b5b22={'answer':_0x123fca,'wasConfident':_0xe9214f};proceedToNextQuestion(_0x4b5b22);}async function finalizePerQuestionQuiz(){const _0x2d1f87=_0x599685,_0x2c587c=currentDisplayedQuiz['questions']['some'](_0x4b6558=>_0x4b6558[_0x2d1f87(0x5e5)]==='short_answer');_0x2c587c?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x5c83d1=currentQuizData['id'],_0x643c34=doc(db,_0x2d1f87(0x3d7)+appId+_0x2d1f87(0x754)+_0x5c83d1+_0x2d1f87(0x98a),currentStudentName),_0x4af2e4=await getDoc(_0x643c34),_0x2088cb=_0x4af2e4[_0x2d1f87(0x478)]()?_0x4af2e4[_0x2d1f87(0x7e5)]():{},_0x2f91e3=_0x2088cb['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2f91e3);}function getResultsFilename(){const _0x67e4ee=_0x599685,_0x543810=document[_0x67e4ee(0x6f5)](_0x67e4ee(0x3e7))[_0x67e4ee(0x406)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x67e4ee(0x3f9)+(_0x543810||_0x67e4ee(0x62d));}function exportResultsAsImage(){const _0x183be3=_0x599685,_0x354fa8=document[_0x183be3(0x6f5)](_0x183be3(0x8a8));showMessage(_0x183be3(0x9c5)),html2canvas(_0x354fa8)[_0x183be3(0x56f)](_0xc5859=>{const _0x590a08=_0x183be3,_0x9c5da6=document[_0x590a08(0x2bb)]('a');_0x9c5da6[_0x590a08(0x898)]=getResultsFilename()+_0x590a08(0x4ec),_0x9c5da6[_0x590a08(0x56d)]=_0xc5859[_0x590a08(0x7da)]('image/png'),_0x9c5da6['click'](),messageModal['classList'][_0x590a08(0x25c)](_0x590a08(0x180));});}function exportResultsAsPDF(){const _0x28c3d5=_0x599685,{jsPDF:_0x396b48}=window[_0x28c3d5(0x8dd)],_0x5d23b2=new _0x396b48();_0x5d23b2['setFont']('helvetica','normal'),_0x5d23b2[_0x28c3d5(0x7bf)]({'html':'#results-table'}),_0x5d23b2[_0x28c3d5(0x989)](getResultsFilename()+_0x28c3d5(0xac6));}function exportResultsAsWord(){const _0x4f4773=_0x599685,_0x562d36=_0x4f4773(0xac2)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x4f4773(0x926)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x1e0b87=_0x4f4773(0x87a),_0x25af40=_0x562d36+document[_0x4f4773(0x6f5)]('results-table-container')[_0x4f4773(0x88b)]+_0x1e0b87,_0x336b00=_0x4f4773(0x887)+encodeURIComponent(_0x25af40),_0x360870=document[_0x4f4773(0x2bb)]('a');document[_0x4f4773(0x32c)]['appendChild'](_0x360870),_0x360870['href']=_0x336b00,_0x360870['download']=getResultsFilename()+_0x4f4773(0x2c0),_0x360870[_0x4f4773(0x41c)](),document[_0x4f4773(0x32c)][_0x4f4773(0x19b)](_0x360870);}function exportResultsAsExcel(){const _0xd50154=_0x599685,_0x3c667a=document[_0xd50154(0x6f5)](_0xd50154(0xaa9));let _0xb8039c=[];for(let _0x9ad192=0x0;_0x9ad192<_0x3c667a[_0xd50154(0x4bd)][_0xd50154(0x5b5)];_0x9ad192++){let _0x5e271b=[],_0x19d552=_0x3c667a[_0xd50154(0x4bd)][_0x9ad192][_0xd50154(0x3b5)](_0xd50154(0x6a0));for(let _0x1a12f0=0x0;_0x1a12f0<_0x19d552['length'];_0x1a12f0++){_0x5e271b['push']('\x22'+_0x19d552[_0x1a12f0][_0xd50154(0x183)][_0xd50154(0x2a2)](/"/g,'\x22\x22')+'\x22');}_0xb8039c[_0xd50154(0x6a1)](_0x5e271b['join'](','));}const _0xfdea81=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xb8039c[_0xd50154(0x70f)]('\x0a')],{'type':_0xd50154(0xaad)}),_0x2dc0a2=document[_0xd50154(0x2bb)]('a');_0x2dc0a2[_0xd50154(0x56d)]=URL[_0xd50154(0x891)](_0xfdea81),_0x2dc0a2['download']=getResultsFilename()+_0xd50154(0x521),_0x2dc0a2[_0xd50154(0x41c)]();}function exportTableAsImage(_0x1c3e09,_0x11d219){const _0x42b3b2=_0x599685,_0x171dfd=document[_0x42b3b2(0x6f5)](_0x1c3e09);if(!_0x171dfd){showMessage(_0x42b3b2(0x2c7));return;}showMessage(_0x42b3b2(0x9c5)),html2canvas(_0x171dfd)['then'](_0x3923fa=>{const _0x2f2a95=_0x42b3b2,_0x159d00=document['createElement']('a');_0x159d00[_0x2f2a95(0x898)]=_0x11d219+_0x2f2a95(0x4ec),_0x159d00['href']=_0x3923fa[_0x2f2a95(0x7da)](_0x2f2a95(0x2f8)),_0x159d00['click'](),messageModal[_0x2f2a95(0x7ad)][_0x2f2a95(0x25c)](_0x2f2a95(0x180));});}function exportTableAsPDF(_0x5c50e7,_0x36ebf5){const _0x20936e=_0x599685,{jsPDF:_0x5a2fee}=window['jspdf'],_0x7a5bbd=new _0x5a2fee();_0x7a5bbd[_0x20936e(0x2ab)](_0x20936e(0x626),_0x20936e(0x46f)),_0x7a5bbd['autoTable']({'html':'#'+_0x5c50e7}),_0x7a5bbd['save'](_0x36ebf5+_0x20936e(0xac6));}function exportTableAsWord(_0x45cebc,_0x10e3b3){const _0x27a014=_0x599685,_0x390377=document[_0x27a014(0x6f5)](_0x45cebc);if(!_0x390377){showMessage(_0x27a014(0x2c7));return;}const _0x343e1f=_0x27a014(0xac2)+_0x27a014(0x204)+_0x27a014(0x926)+_0x27a014(0x226),_0x5915da=_0x27a014(0x87a),_0x5e2edd=_0x343e1f+_0x390377['innerHTML']+_0x5915da,_0x281637=_0x27a014(0x887)+encodeURIComponent(_0x5e2edd),_0x5c33ba=document[_0x27a014(0x2bb)]('a');document[_0x27a014(0x32c)][_0x27a014(0x879)](_0x5c33ba),_0x5c33ba[_0x27a014(0x56d)]=_0x281637,_0x5c33ba[_0x27a014(0x898)]=_0x10e3b3+'.doc',_0x5c33ba['click'](),document['body'][_0x27a014(0x19b)](_0x5c33ba);}function exportTableAsExcel(_0x3b214e,_0x34b02d){const _0x383892=_0x599685,_0x209b2e=document['getElementById'](_0x3b214e);if(!_0x209b2e){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x1ed1a9=[];for(let _0x3f34f2=0x0;_0x3f34f2<_0x209b2e[_0x383892(0x4bd)][_0x383892(0x5b5)];_0x3f34f2++){let _0x4e1c05=[],_0x388db3=_0x209b2e['rows'][_0x3f34f2][_0x383892(0x3b5)](_0x383892(0x6a0));for(let _0x23de85=0x0;_0x23de85<_0x388db3[_0x383892(0x5b5)];_0x23de85++){_0x4e1c05[_0x383892(0x6a1)]('\x22'+_0x388db3[_0x23de85]['innerText'][_0x383892(0x2a2)](/"/g,'\x22\x22')+'\x22');}_0x1ed1a9[_0x383892(0x6a1)](_0x4e1c05[_0x383892(0x70f)](','));}const _0x578b43=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1ed1a9[_0x383892(0x70f)]('\x0a')],{'type':_0x383892(0xaad)}),_0x5ad2cb=document[_0x383892(0x2bb)]('a');_0x5ad2cb[_0x383892(0x56d)]=URL['createObjectURL'](_0x578b43),_0x5ad2cb[_0x383892(0x898)]=_0x34b02d+_0x383892(0x521),_0x5ad2cb[_0x383892(0x41c)]();}function renderAnalytics(_0x18321b,_0x1cce21){const _0x1c7a7b=_0x599685,_0x47d78f=_0x1cce21[_0x1c7a7b(0x7c9)](_0x1a1593=>_0x1a1593[_0x1c7a7b(0x77d)]!==undefined),_0x4bd2fe=currentProjectData['students'][_0x1c7a7b(0x5b5)],_0x2851ac=_0x47d78f[_0x1c7a7b(0x5b5)],_0x2d89ec=_0x4bd2fe-_0x2851ac,_0x58aebd=_0x4bd2fe>0x0?_0x2851ac/_0x4bd2fe*0x64:0x0,_0x351b9c=_0x47d78f[_0x1c7a7b(0x392)](_0x1a2f8f=>_0x1a2f8f[_0x1c7a7b(0x77d)]),_0x25e218=_0x351b9c[_0x1c7a7b(0x5b5)]>0x0?_0x351b9c[_0x1c7a7b(0x297)]((_0x5125a2,_0x5e74b1)=>_0x5125a2+_0x5e74b1,0x0)/_0x351b9c[_0x1c7a7b(0x5b5)]:0x0,_0x23a2b9=_0x18321b[_0x1c7a7b(0x4ac)]['length'],_0xed6f2a=_0x23a2b9>0x0?_0x25e218/_0x23a2b9*0x64:0x0,_0xb8236a=calculateItemAnalysis(_0x18321b,_0x47d78f),_0x2eb6e0=calculateReliabilityKR20(_0x18321b,_0x47d78f,_0xb8236a[_0x1c7a7b(0x260)]);let _0x4694bb='';if(_0x2eb6e0!==null){let _0x591500='';if(_0x2eb6e0>=0.9)_0x591500=_0x1c7a7b(0x775);else{if(_0x2eb6e0>=0.8)_0x591500=_0x1c7a7b(0x87c);else{if(_0x2eb6e0>=0.7)_0x591500='ดี';else{if(_0x2eb6e0>=0.6)_0x591500=_0x1c7a7b(0x767);else _0x591500=_0x1c7a7b(0xa09);}}}_0x4694bb=_0x1c7a7b(0xa4d)+_0x2eb6e0['toFixed'](0x2)+_0x1c7a7b(0x1e0)+_0x591500+_0x1c7a7b(0x6aa);}const _0x1921de=document[_0x1c7a7b(0x6f5)](_0x1c7a7b(0xac3));_0x1921de[_0x1c7a7b(0x88b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x58aebd[_0x1c7a7b(0x54e)](0x0)+_0x1c7a7b(0x575)+_0x2851ac+'/'+_0x4bd2fe+_0x1c7a7b(0x9c8)+_0x25e218[_0x1c7a7b(0x54e)](0x2)+_0x1c7a7b(0xa43)+_0xed6f2a[_0x1c7a7b(0x54e)](0x0)+_0x1c7a7b(0x1ff)+(_0x351b9c[_0x1c7a7b(0x5b5)]>0x0?Math['max'](..._0x351b9c):'N/A')+_0x1c7a7b(0xacd)+(_0x351b9c[_0x1c7a7b(0x5b5)]>0x0?Math['min'](..._0x351b9c):'N/A')+_0x1c7a7b(0x6f4)+_0x4694bb+'\x0a\x20\x20\x20\x20';const _0x2a734e=document[_0x1c7a7b(0x6f5)](_0x1c7a7b(0x54b));_0x2a734e&&_0x2a734e[_0x1c7a7b(0xac8)]();const _0x1215b1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x1921de[_0x1c7a7b(0x647)]('afterend',_0x1215b1);const _0x279805=currentProjectData[_0x1c7a7b(0x1a6)]||[];renderSubmissionChart(_0x2851ac,_0x2d89ec,_0x47d78f,_0x279805),renderScoreDistributionChart(_0x47d78f,_0x23a2b9),renderQuestionAnalytics(_0x18321b,_0x47d78f,_0x279805),renderInterestingStats(_0x18321b,_0x47d78f);}async function handleExportLessonPDF(){const _0x477f81=_0x599685,_0x229442=document[_0x477f81(0x6f5)]('lesson-plan-content'),_0x1011e6=document[_0x477f81(0x6f5)](_0x477f81(0x93d))['textContent'],_0x9c37e6=window[_0x477f81(0x972)]('',_0x477f81(0x634)),_0x1b83ef=_0x477f81(0x304)+_0x1011e6+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x229442[_0x477f81(0x88b)]+_0x477f81(0x933);_0x9c37e6[_0x477f81(0x940)][_0x477f81(0x276)](_0x1b83ef),_0x9c37e6['document'][_0x477f81(0x72c)](),_0x9c37e6[_0x477f81(0x8d4)]=function(){setTimeout(()=>{const _0x249796=_0x2110;_0x9c37e6[_0x249796(0x193)]();},0x5dc);};}function renderInterestingStats(_0x275127,_0x3e7f18){const _0x290b67=_0x599685,_0x45cd2d=document[_0x290b67(0x6f5)]('interesting-stats-container');if(!_0x45cd2d)return;if(_0x3e7f18[_0x290b67(0x5b5)]===0x0){_0x45cd2d[_0x290b67(0x88b)]=_0x290b67(0x547);return;}const _0x4cfa9b=_0x275127[_0x290b67(0x4ac)]['map']((_0xf4be95,_0x426aba)=>({'index':_0x426aba+0x1,'text':_0xf4be95[_0x290b67(0x4ed)]||_0xf4be95['stem'],'correct':0x0}));_0x3e7f18[_0x290b67(0x24d)](_0x540579=>{const _0xc8018e=_0x290b67,_0x30774e=_0x540579[_0xc8018e(0x42d)][_0x540579[_0xc8018e(0x42d)]['length']-0x1];_0x30774e&&_0x30774e[_0xc8018e(0xa62)]&&_0x30774e[_0xc8018e(0xa62)]['forEach'](_0x5b84bd=>{const _0x4c5b53=_0xc8018e,_0x298e8f=_0x4cfa9b['find'](_0x201275=>_0x201275[_0x4c5b53(0x6b1)]===_0x5b84bd['originalQuestionText']);_0x5b84bd['isCorrect']&&_0x298e8f&&_0x298e8f[_0x4c5b53(0x832)]++;});});const _0x4e49ce=_0x3e7f18[_0x290b67(0x5b5)],_0x252378=Math['max'](..._0x4cfa9b['map'](_0x3443ce=>_0x3443ce[_0x290b67(0x832)])),_0x5b4e2a=Math[_0x290b67(0x71b)](..._0x4cfa9b[_0x290b67(0x392)](_0x189cc2=>_0x189cc2['correct'])),_0x55c0f7=_0x4cfa9b[_0x290b67(0x7c9)](_0x374951=>_0x374951[_0x290b67(0x832)]===_0x252378)[_0x290b67(0x392)](_0x1f350c=>'ข้อ\x20'+_0x1f350c[_0x290b67(0x5e4)]),_0x982e25=_0x4cfa9b['filter'](_0x3e79eb=>_0x3e79eb['correct']===_0x5b4e2a)[_0x290b67(0x392)](_0x1e57f4=>'ข้อ\x20'+_0x1e57f4[_0x290b67(0x5e4)]),_0x33cf05=_0x3e7f18[_0x290b67(0xab3)]((_0xc3085e,_0x1b968c)=>_0x1b968c[_0x290b67(0x77d)]-_0xc3085e[_0x290b67(0x77d)])['filter']((_0x200fbe,_0x580f0f,_0x525237)=>_0x200fbe[_0x290b67(0x77d)]===_0x525237[0x0][_0x290b67(0x77d)]),_0x53b66f=_0x3e7f18[_0x290b67(0xab3)]((_0x522487,_0x26e81e)=>_0x522487[_0x290b67(0x77d)]-_0x26e81e[_0x290b67(0x77d)])['filter']((_0x176261,_0x1929c0,_0x592659)=>_0x176261[_0x290b67(0x77d)]===_0x592659[0x0][_0x290b67(0x77d)]),_0x270669=_0x290b67(0xa61)+_0x55c0f7['join'](',\x20')+_0x290b67(0x325)+_0x252378+_0x290b67(0x660)+_0x4e49ce+_0x290b67(0x58d)+_0x982e25['join'](',\x20')+_0x290b67(0x325)+(_0x4e49ce-_0x5b4e2a)+_0x290b67(0x660)+_0x4e49ce+_0x290b67(0x75c)+_0x33cf05['map'](_0x3408d0=>_0x3408d0['studentName'])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x33cf05[0x0][_0x290b67(0x77d)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x53b66f[_0x290b67(0x392)](_0x4ba673=>_0x4ba673[_0x290b67(0x241)])[_0x290b67(0x70f)](',\x20')+_0x290b67(0x765)+_0x53b66f[0x0][_0x290b67(0x77d)]+_0x290b67(0x58f);_0x45cd2d[_0x290b67(0x88b)]=_0x270669;}function renderSubmissionChart(_0xc9934a,_0x3ecd49,_0x2d7362,_0x13ee84){const _0x3b9263=_0x599685,_0xb5091a=document['getElementById']('submission-status-chart')[_0x3b9263(0x6a6)]('2d'),_0x58ceb9=_0x2d7362[_0x3b9263(0x392)](_0x16234f=>_0x16234f[_0x3b9263(0x241)]),_0x1d040e=_0x13ee84[_0x3b9263(0x7c9)](_0x4d8ce2=>!_0x58ceb9[_0x3b9263(0x7c6)](_0x4d8ce2));chartInstances[_0x3b9263(0x4b4)]&&chartInstances['submission'][_0x3b9263(0x835)](),chartInstances['submission']=new Chart(_0xb5091a,{'type':_0x3b9263(0x6d8),'data':{'labels':[_0x3b9263(0x59c),_0x3b9263(0x299)],'datasets':[{'data':[_0xc9934a,_0x3ecd49],'backgroundColor':[_0x3b9263(0x2da),'#F59E0B'],'borderColor':[_0x3b9263(0xa5a),_0x3b9263(0xa5a)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x3b9263(0x7b5)},'tooltip':{'callbacks':{'label':function(_0x3c7810){const _0x52787b=_0x3b9263;let _0x608ed3=_0x3c7810[_0x52787b(0x4af)]||'';return _0x608ed3&&(_0x608ed3+=':\x20'),_0x608ed3+=_0x3c7810[_0x52787b(0x18f)],_0x608ed3;},'afterLabel':function(_0x35c717){const _0x13455d=_0x3b9263;let _0x560386;return _0x35c717[_0x13455d(0x552)]===0x0?_0x560386=_0x58ceb9:_0x560386=_0x1d040e,_0x560386[_0x13455d(0x5b5)]>0x0?_0x560386[_0x13455d(0x70f)]('\x0a'):_0x13455d(0x1a5);}}}}}});}function renderScoreDistributionChart(_0x525835,_0x1082f1){const _0x26876e=_0x599685,_0x49a57c=document[_0x26876e(0x6f5)]('score-distribution-chart')[_0x26876e(0x6a6)]('2d'),_0x3986fc={};for(let _0x284324=0x0;_0x284324<=_0x1082f1;_0x284324++){_0x3986fc[_0x284324]=0x0;}_0x525835[_0x26876e(0x24d)](_0x242cf4=>{const _0x2a76e8=_0x26876e;_0x3986fc[_0x242cf4[_0x2a76e8(0x77d)]]!==undefined&&_0x3986fc[_0x242cf4['latestScore']]++;}),chartInstances[_0x26876e(0x9df)]&&chartInstances[_0x26876e(0x9df)][_0x26876e(0x835)](),chartInstances['score']=new Chart(_0x49a57c,{'type':_0x26876e(0x47a),'data':{'labels':Object[_0x26876e(0x937)](_0x3986fc),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x26876e(0x7d0)](_0x3986fc),'backgroundColor':_0x26876e(0x707),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x26876e(0x856)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x2b9be0){const _0x179739=_0x26876e,_0x4e78b8=_0x2b9be0[_0x179739(0x4af)],_0x5b5327=_0x525835[_0x179739(0x7c9)](_0x30113e=>_0x30113e[_0x179739(0x77d)]==_0x4e78b8)['map'](_0x51ae01=>_0x51ae01[_0x179739(0x241)]);return _0x5b5327[_0x179739(0x5b5)]>0x0?_0x5b5327[_0x179739(0x70f)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x25ed62,_0x591d32,_0x2267cc){const _0x21d81a=_0x599685,_0x452bd9=document[_0x21d81a(0x6f5)](_0x21d81a(0x470));if(_0x2267cc[_0x21d81a(0x5b5)]===0x0){_0x452bd9['innerHTML']='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0xd3d23=calculateItemAnalysis(_0x25ed62,_0x591d32),_0x505aa8=calculateDistractorAnalysis(_0x25ed62,_0x591d32);let _0x1087f5='';_0xd3d23[_0x21d81a(0x23f)]&&(_0x1087f5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0xd3d23[_0x21d81a(0x23f)][_0x21d81a(0x910)][_0x21d81a(0x5b5)]+_0x21d81a(0x34c)+_0xd3d23[_0x21d81a(0x23f)][_0x21d81a(0x910)][_0x21d81a(0x392)](_0x4f7009=>_0x21d81a(0x71f)+_0x4f7009+'</li>')[_0x21d81a(0x70f)]('')+_0x21d81a(0x67d)+_0xd3d23['overallGroups'][_0x21d81a(0xa10)][_0x21d81a(0x5b5)]+_0x21d81a(0x34c)+_0xd3d23[_0x21d81a(0x23f)][_0x21d81a(0xa10)][_0x21d81a(0x392)](_0x528ec6=>_0x21d81a(0x71f)+_0x528ec6+'</li>')[_0x21d81a(0x70f)]('')+_0x21d81a(0x3a6));let _0x89ff9='';const _0x520a41=_0x591d32[_0x21d81a(0x392)](_0x4f2c75=>_0x4f2c75[_0x21d81a(0x241)]),_0x23abeb=_0x43e937=>{const _0x21b758=_0x21d81a;if(_0x43e937>=0.8)return _0x21b758(0x214);if(_0x43e937>=0.6)return _0x21b758(0x96a);if(_0x43e937>=0.4)return _0x21b758(0x5bb);if(_0x43e937>=0.2)return _0x21b758(0xa17);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x28fa5a=_0x54044e=>{const _0x26449e=_0x21d81a;if(_0x54044e<0x0)return _0x26449e(0x695);if(_0x54044e>=0.4)return _0x26449e(0x577);if(_0x54044e>=0.3)return _0x26449e(0x401);if(_0x54044e>=0.2)return _0x26449e(0x5cf);return _0x26449e(0x8a4);},_0x360289=_0xd29c6f=>{const _0x2cbb21=_0x21d81a,_0xcf97c4=_0xd29c6f[_0x2cbb21(0x54e)](0x0);if(parseFloat(_0xcf97c4)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0xcf97c4+_0x2cbb21(0x595);if(_0xd29c6f>=0x32)return _0x2cbb21(0x1e1)+_0xcf97c4+'%</span>';return _0x2cbb21(0x599)+_0xcf97c4+_0x2cbb21(0x595);};_0x25ed62[_0x21d81a(0x4ac)][_0x21d81a(0x24d)]((_0xdb203b,_0xcf3408)=>{const _0x2947c6=_0x21d81a,_0x1ce488=_0xd3d23['perQuestionStats'][_0xcf3408],_0x58a336=_0x505aa8[_0xcf3408],_0x16aba5=_0xdb203b['stem']||_0xdb203b[_0x2947c6(0x4ed)]||_0xdb203b[_0x2947c6(0x1aa)];let _0xf96f1=0x0;const _0x47ff04=[],_0x1d7f62=[];_0x591d32['forEach'](_0x453be3=>{const _0x4b979a=_0x2947c6,_0x2e0eb1=_0x453be3[_0x4b979a(0x42d)][_0x453be3[_0x4b979a(0x42d)][_0x4b979a(0x5b5)]-0x1];if(_0x2e0eb1&&_0x2e0eb1[_0x4b979a(0xa62)]){const _0x3fe756=_0x2e0eb1[_0x4b979a(0xa62)][_0x4b979a(0x726)](_0x103851=>_0x103851[_0x4b979a(0x5b3)]===_0x16aba5)??_0x2e0eb1[_0x4b979a(0xa62)][_0xcf3408]??null;_0x3fe756&&(_0x3fe756[_0x4b979a(0x635)]?(_0xf96f1++,_0x47ff04[_0x4b979a(0x6a1)](_0x453be3['studentName'])):_0x1d7f62['push'](_0x453be3['studentName']));}});const _0x280775=_0x591d32[_0x2947c6(0x5b5)]>0x0?_0xf96f1/_0x591d32[_0x2947c6(0x5b5)]*0x64:0x0,_0x4e231a=_0x2267cc[_0x2947c6(0x7c9)](_0x3177af=>!_0x520a41[_0x2947c6(0x7c6)](_0x3177af)),_0x5e4ee6=_0x1ce488?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x1ce488['p'][_0x2947c6(0x54e)](0x2)+_0x2947c6(0x5cb)+_0x23abeb(_0x1ce488['p'])+_0x2947c6(0xa67)+_0x1ce488['r'][_0x2947c6(0x54e)](0x2)+_0x2947c6(0x5cb)+_0x28fa5a(_0x1ce488['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x360289(_0x280775)+_0x2947c6(0x6e1):'';let _0x3f2e3c='';_0x58a336&&(_0x3f2e3c=_0x2947c6(0x31b)+Object[_0x2947c6(0x937)](_0x58a336)[_0x2947c6(0x392)](_0x298fb0=>{const _0x13337e=_0x2947c6,_0x13a06c=_0x58a336[_0x298fb0],_0x221dc4=parseInt(_0x298fb0)===_0xdb203b[_0x13337e(0x5db)],_0x1a6340=!_0x221dc4&&_0x13a06c[_0x13337e(0x7fe)]>_0x13a06c[_0x13337e(0x1f7)];return _0x13337e(0x2b7)+(_0x221dc4?_0x13337e(0x717):'')+_0x13337e(0x9a8)+(_0x221dc4?'✔\x20':'')+_0x13a06c[_0x13337e(0x6b1)]+_0x13337e(0x584)+_0x13a06c[_0x13337e(0x1f7)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x13a06c['lower_group_count']+'\x20'+(_0x1a6340?'👍':'')+_0x13337e(0x584)+_0x13a06c[_0x13337e(0x2ac)]+_0x13337e(0x8f5);})[_0x2947c6(0x70f)]('')+_0x2947c6(0x336));let _0x38f28f='';_0x1ce488&&_0x1ce488['upperGroupResponders']&&(_0x38f28f=_0x2947c6(0x793)+_0x1ce488[_0x2947c6(0x99c)]['length']+_0x2947c6(0x22d)+_0x1ce488[_0x2947c6(0x99c)][_0x2947c6(0x392)](_0x38f3d2=>'<li>'+(_0x38f3d2[_0x2947c6(0x635)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x38f3d2['name']+_0x2947c6(0x9b2))[_0x2947c6(0x70f)]('')+_0x2947c6(0x766)+_0x1ce488['lowerGroupResponders'][_0x2947c6(0x5b5)]+_0x2947c6(0x22d)+_0x1ce488[_0x2947c6(0x2fd)]['map'](_0x35c8de=>_0x2947c6(0x71f)+(_0x35c8de[_0x2947c6(0x635)]?_0x2947c6(0xa5c):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x35c8de['name']+_0x2947c6(0x9b2))[_0x2947c6(0x70f)]('')+_0x2947c6(0x54c)),_0x89ff9+=_0x2947c6(0x9c1)+(_0xcf3408+0x1)+':\x20'+_0x16aba5+_0x2947c6(0x594)+_0x5e4ee6+_0x2947c6(0x380)+_0x16aba5+_0x2947c6(0x2f6)+_0xf96f1+_0x2947c6(0x197)+_0x591d32[_0x2947c6(0x5b5)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x280775['toFixed'](0x0)+_0x2947c6(0x460)+_0x47ff04['length']+_0x2947c6(0x4d2)+(_0x47ff04[_0x2947c6(0x5b5)]>0x0?_0x47ff04[_0x2947c6(0x70f)](',\x20'):'ไม่มี')+_0x2947c6(0x6d2)+_0x1d7f62[_0x2947c6(0x5b5)]+_0x2947c6(0x4d2)+(_0x1d7f62[_0x2947c6(0x5b5)]>0x0?_0x1d7f62[_0x2947c6(0x70f)](',\x20'):_0x2947c6(0x1a5))+_0x2947c6(0x787)+_0x4e231a['length']+_0x2947c6(0x4d2)+(_0x4e231a[_0x2947c6(0x5b5)]>0x0?_0x4e231a[_0x2947c6(0x70f)](',\x20'):_0x2947c6(0x1a5))+_0x2947c6(0x8ab)+_0x3f2e3c+_0x2947c6(0x2c6)+_0x38f28f+_0x2947c6(0x509);}),_0x452bd9['innerHTML']=_0x1087f5+_0x89ff9;try{window[_0x21d81a(0x4dd)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x452bd9]);}catch(_0x3be138){console[_0x21d81a(0x30a)](_0x21d81a(0x9b7),_0x3be138);}}function calculateDistractorAnalysis(_0x320966,_0x2d4386){const _0x2e13be=_0x599685,_0x22aa6a={};if(_0x2d4386[_0x2e13be(0x5b5)]<0x2)return _0x22aa6a;const _0x530558=[..._0x2d4386][_0x2e13be(0xab3)]((_0x3c9f27,_0x2f882f)=>{const _0x31f41b=_0x2e13be,_0x57a23a=_0x2f882f[_0x31f41b(0x77d)]-_0x3c9f27[_0x31f41b(0x77d)];if(_0x57a23a!==0x0)return _0x57a23a;const _0x131905=_0x3c9f27['attempts']?.[_0x31f41b(0x5b5)]||0x1,_0xb10f7b=_0x2f882f['attempts']?.[_0x31f41b(0x5b5)]||0x1,_0x5af908=_0x131905-_0xb10f7b;if(_0x5af908!==0x0)return _0x5af908;const _0x2d1522=new Date(_0x3c9f27['latestSubmittedAt']),_0x8d4be0=new Date(_0x2f882f['latestSubmittedAt']),_0x292673=_0x2d1522-_0x8d4be0;if(_0x292673!==0x0)return _0x292673;return _0x3c9f27['studentName'][_0x31f41b(0xa64)](_0x2f882f['studentName'],'th');}),_0x8c32e1=_0x530558[_0x2e13be(0x5b5)],_0x9c7767=Math[_0x2e13be(0x64f)](0x1,Math['floor'](_0x8c32e1*0.33)),_0x566764=_0x530558['slice'](0x0,_0x9c7767),_0x226472=_0x530558[_0x2e13be(0x804)](-_0x9c7767);return _0x320966[_0x2e13be(0x4ac)][_0x2e13be(0x24d)]((_0x581ecc,_0x14e675)=>{const _0x5511b0=_0x2e13be;if(_0x581ecc['questionType']!=='multiple_choice'||!_0x581ecc[_0x5511b0(0x5d1)])return;const _0x3d63f0=_0x581ecc[_0x5511b0(0x4ed)],_0x4f96a6={};_0x581ecc[_0x5511b0(0x5d1)][_0x5511b0(0x24d)]((_0x2087bf,_0x18d848)=>{_0x4f96a6[_0x18d848]={'text':_0x2087bf,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x530558[_0x5511b0(0x24d)](_0x474766=>{const _0x19a9f8=_0x5511b0,_0x185b7a=_0x474766[_0x19a9f8(0x42d)][_0x474766[_0x19a9f8(0x42d)]['length']-0x1],_0x3b5f84=_0x185b7a[_0x19a9f8(0xa62)]['find'](_0x5bf4da=>_0x5bf4da[_0x19a9f8(0x5b3)]===_0x3d63f0);if(_0x3b5f84&&_0x3b5f84[_0x19a9f8(0x970)]!==null){const _0x1aeb15=_0x581ecc[_0x19a9f8(0x5d1)]['findIndex'](_0x5316b1=>_0x5316b1===_0x3b5f84['answerText']);_0x1aeb15!==-0x1&&_0x4f96a6[_0x1aeb15]&&(_0x4f96a6[_0x1aeb15][_0x19a9f8(0x2ac)]++,_0x566764[_0x19a9f8(0x7c6)](_0x474766)&&_0x4f96a6[_0x1aeb15][_0x19a9f8(0x1f7)]++,_0x226472[_0x19a9f8(0x7c6)](_0x474766)&&_0x4f96a6[_0x1aeb15][_0x19a9f8(0x7fe)]++);}}),_0x22aa6a[_0x14e675]=_0x4f96a6;}),_0x22aa6a;}function calculateReliabilityKR20(_0x3c480e,_0x566bf4,_0x450a14){const _0x43641a=_0x599685,_0x438f09=_0x3c480e[_0x43641a(0x4ac)]['length'];if(_0x438f09<0x2||_0x566bf4[_0x43641a(0x5b5)]<0x2)return null;const _0x324fb4=_0x566bf4[_0x43641a(0x392)](_0x482cf5=>_0x482cf5[_0x43641a(0x77d)]),_0xa5d60d=_0x324fb4[_0x43641a(0x297)]((_0x3f9f21,_0x16b56a)=>_0x3f9f21+_0x16b56a,0x0)/_0x324fb4[_0x43641a(0x5b5)],_0xafa6e7=_0x324fb4[_0x43641a(0x392)](_0x3c7fdc=>Math[_0x43641a(0x44b)](_0x3c7fdc-_0xa5d60d,0x2))[_0x43641a(0x297)]((_0x19f4b8,_0x312c44)=>_0x19f4b8+_0x312c44,0x0)/_0x324fb4[_0x43641a(0x5b5)];if(_0xafa6e7===0x0)return null;let _0x25ba19=0x0;for(let _0x551d70=0x0;_0x551d70<_0x438f09;_0x551d70++){const _0x553866=_0x450a14[_0x551d70]?.['p'];if(_0x553866===undefined)continue;const _0x39ac60=0x1-_0x553866;_0x25ba19+=_0x553866*_0x39ac60;}if(_0x25ba19===0x0)return null;const _0x588f52=_0x438f09/(_0x438f09-0x1)*(0x1-_0x25ba19/_0xafa6e7);if(_0x588f52>0x1)return null;return _0x588f52;}async function handleAnalyzeClass(){const _0x91e3a6=_0x599685;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x272697=collection(db,_0x91e3a6(0x3d7)+appId+_0x91e3a6(0x754)+currentQuizData['id']+_0x91e3a6(0x98a)),_0x32180d=await getDocs(_0x272697),_0xa68b1d=_0x32180d[_0x91e3a6(0x5e9)][_0x91e3a6(0x392)](_0x3c55ad=>_0x3c55ad[_0x91e3a6(0x7e5)]());if(_0xa68b1d[_0x91e3a6(0x5b5)]<0x2){showMessage(_0x91e3a6(0x2ef));return;}const _0xfc99b8=document[_0x91e3a6(0x6f5)]('strength-weakness-analysis-container');_0xfc99b8[_0x91e3a6(0x88b)]=_0x91e3a6(0x3cb),document['getElementById'](_0x91e3a6(0x51d))[_0x91e3a6(0x8c1)]=!![];const _0xd42c8f=_0xa68b1d['map']((_0x1c8b0a,_0x445373)=>{const _0x3450f8=_0x91e3a6,_0x562f25=_0x1c8b0a[_0x3450f8(0x42d)][_0x1c8b0a[_0x3450f8(0x42d)]['length']-0x1];if(!_0x562f25)return'';return _0x3450f8(0x6b9)+(_0x445373+0x1)+'\x20('+_0x1c8b0a[_0x3450f8(0x241)]+_0x3450f8(0x5ef)+_0x562f25[_0x3450f8(0x9df)]+'/'+_0x1c8b0a[_0x3450f8(0x39e)]+_0x3450f8(0x999)+JSON[_0x3450f8(0x3eb)](_0x562f25['answers'])+_0x3450f8(0x7ea);})[_0x91e3a6(0x70f)](_0x91e3a6(0xab2)),_0x476706=_0x91e3a6(0x874)+currentQuizData[_0x91e3a6(0x699)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON[_0x91e3a6(0x3eb)](currentQuizData[_0x91e3a6(0x4ac)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd42c8f+_0x91e3a6(0x955),_0x292384={'type':_0x91e3a6(0x284),'properties':{'classStrengths':{'type':_0x91e3a6(0xa25),'items':{'type':_0x91e3a6(0x89b)}},'classWeaknesses':{'type':_0x91e3a6(0xa25),'items':{'type':_0x91e3a6(0x89b)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x91e3a6(0x89b)}}},'required':[_0x91e3a6(0x725),_0x91e3a6(0x7cd),_0x91e3a6(0x83d)]};try{const _0x4ae5fa=await callAnalysisApi(_0x476706,_0x292384);displayClassAnalysis(_0x4ae5fa);}catch(_0x1ad833){console['error'](_0x91e3a6(0xa3d),_0x1ad833),_0xfc99b8[_0x91e3a6(0x88b)]=_0x91e3a6(0x30d)+_0x1ad833[_0x91e3a6(0x1fc)]+_0x91e3a6(0x76b);}finally{document[_0x91e3a6(0x6f5)](_0x91e3a6(0x51d))[_0x91e3a6(0x8c1)]=![];}}function displayClassAnalysis(_0x391030){const _0x22e2a1=_0x599685,_0x293cd5=document[_0x22e2a1(0x6f5)]('strength-weakness-analysis-container');if(!_0x391030){_0x293cd5['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x293cd5[_0x22e2a1(0x88b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x391030['classStrengths']['map'](_0x76f066=>'<li>'+_0x76f066+_0x22e2a1(0x9b2))[_0x22e2a1(0x70f)]('')+_0x22e2a1(0x251)+_0x391030[_0x22e2a1(0x7cd)][_0x22e2a1(0x392)](_0x4245cd=>'<li>'+_0x4245cd+_0x22e2a1(0x9b2))[_0x22e2a1(0x70f)]('')+_0x22e2a1(0x56a)+_0x391030[_0x22e2a1(0x83d)][_0x22e2a1(0x392)](_0x17d082=>_0x22e2a1(0x71f)+_0x17d082+_0x22e2a1(0x9b2))[_0x22e2a1(0x70f)]('')+_0x22e2a1(0x559);}function formatAndPrintWorksheet(_0x20b535,_0x3f65ee){const _0x59740f=_0x599685,_0x35f09b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x20b535[_0x59740f(0x699)]+_0x59740f(0x752)+_0x20b535['topic']+_0x59740f(0x184)+_0x20b535[_0x59740f(0x4ac)][_0x59740f(0x392)]((_0x8a8d39,_0x370f04)=>_0x59740f(0x446)+(_0x370f04+0x1)+'.\x20'+_0x8a8d39[_0x59740f(0x4ed)]+_0x59740f(0x8bb)+(_0x8a8d39[_0x59740f(0x248)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x8a8d39[_0x59740f(0x248)]+_0x59740f(0x6ab):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x59740f(0x70f)]('')+_0x59740f(0x280);_0x3f65ee['document'][_0x59740f(0x276)](_0x35f09b),_0x3f65ee[_0x59740f(0x940)]['close'](),_0x3f65ee[_0x59740f(0x8d4)]=function(){setTimeout(()=>{const _0x68d113=_0x2110;_0x3f65ee[_0x68d113(0x193)]();},0x3e8);};}async function generateWorksheet(){const _0x2f3729=_0x599685,_0x46b569=document['getElementById'](_0x2f3729(0x5a6))[_0x2f3729(0x8c4)]['trim']();if(!_0x46b569){showMessage(_0x2f3729(0x6f0));return;}const _0x20c9f8=document[_0x2f3729(0x6f5)](_0x2f3729(0x49c))['checked'],_0x1030e0=_0x20c9f8?'':_0x2f3729(0x22e),_0x412166=window[_0x2f3729(0x972)]('',_0x2f3729(0x634));_0x412166[_0x2f3729(0x940)][_0x2f3729(0x276)](_0x2f3729(0x572));const _0x10ef52=parseInt(document[_0x2f3729(0x6f5)](_0x2f3729(0xa44))['value']),_0x549eec=document[_0x2f3729(0x6f5)](_0x2f3729(0x293))[_0x2f3729(0x788)],_0x2ff7a1=_0x549eec?_0x2f3729(0x3c9):'',_0x20c2ef=_0x2f3729(0x423)+_0x1030e0+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x10ef52+'\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22'+_0x46b569+_0x2f3729(0xa7c)+_0x2ff7a1+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x2f3729(0x44d),_0x12f9b3={'type':_0x2f3729(0x284),'properties':{'topic':{'type':_0x2f3729(0x89b)},'questions':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionText':{'type':_0x2f3729(0x89b)},'imageCode':{'type':_0x2f3729(0x89b)}},'required':[_0x2f3729(0x4ed)]}}},'required':['topic',_0x2f3729(0x4ac)]};document['getElementById'](_0x2f3729(0x9dd))[_0x2f3729(0x406)]='',document[_0x2f3729(0x6f5)](_0x2f3729(0x1c4))[_0x2f3729(0x7ad)]['remove']('hidden'),document[_0x2f3729(0x6f5)](_0x2f3729(0x704))[_0x2f3729(0x7ad)][_0x2f3729(0xac8)](_0x2f3729(0x180)),generateWorksheetBtn['disabled']=!![];try{const _0x3d997e=await callAnalysisApi(_0x20c2ef,_0x12f9b3);formatAndPrintWorksheet(_0x3d997e,_0x412166);}catch(_0x40a9ed){console[_0x2f3729(0x30a)]('Error\x20generating\x20worksheet:',_0x40a9ed);if(_0x412166)_0x412166[_0x2f3729(0x72c)]();showMessage(_0x2f3729(0x6ec));}finally{document[_0x2f3729(0x6f5)](_0x2f3729(0x1c4))[_0x2f3729(0x7ad)][_0x2f3729(0x25c)](_0x2f3729(0x180)),document[_0x2f3729(0x6f5)](_0x2f3729(0x704))[_0x2f3729(0x7ad)][_0x2f3729(0x25c)](_0x2f3729(0x180)),generateWorksheetBtn[_0x2f3729(0x8c1)]=![];}}async function callAnalysisApi(_0x5339f9,_0x2dba39){const _0x21a18a=_0x599685,_0x3fa4d3={'contents':[{'role':_0x21a18a(0x6cf),'parts':[{'text':_0x5339f9}]}],'generationConfig':{'responseMimeType':_0x21a18a(0x938),'responseSchema':_0x2dba39}},_0x1598a3='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x76e09a=_0x21a18a(0x5e6)+_0x1598a3,_0x2836d6=await fetch(_0x76e09a,{'method':'POST','headers':{'Content-Type':_0x21a18a(0x938)},'body':JSON[_0x21a18a(0x3eb)](_0x3fa4d3)});if(!_0x2836d6['ok'])throw new Error(_0x21a18a(0x407)+_0x2836d6[_0x21a18a(0x800)]);const _0x5765e0=await _0x2836d6[_0x21a18a(0xa81)]();if(_0x5765e0[_0x21a18a(0x5fe)]?.[0x0]?.[_0x21a18a(0xac5)]?.[_0x21a18a(0x988)]?.[0x0])return JSON[_0x21a18a(0x7a4)](_0x5765e0[_0x21a18a(0x5fe)][0x0][_0x21a18a(0xac5)]['parts'][0x0][_0x21a18a(0x6b1)]);else{let _0x4414a1='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x5765e0[_0x21a18a(0x939)]?.[_0x21a18a(0x681)])_0x4414a1=_0x21a18a(0x9f4)+_0x5765e0[_0x21a18a(0x939)][_0x21a18a(0x681)]+'.';else _0x5765e0['candidates']?.[0x0]?.[_0x21a18a(0xa30)]&&_0x5765e0['candidates'][0x0][_0x21a18a(0xa30)]!=='STOP'&&(_0x4414a1='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x5765e0[_0x21a18a(0x5fe)][0x0][_0x21a18a(0xa30)]+'.');console[_0x21a18a(0x30a)](_0x4414a1,JSON[_0x21a18a(0x3eb)](_0x5765e0));throw new Error(_0x4414a1);}}async function handleStartSyncMode(_0x22de67,_0x5ef7ec=![]){const _0x17db00=_0x599685,_0x36caee=allQuizzes['find'](_0xe7e72=>_0xe7e72['id']===_0x22de67)||allQuizzesGlobal[_0x17db00(0x726)](_0x47a706=>_0x47a706['id']===_0x22de67);if(!_0x36caee){showMessage(_0x17db00(0x5d4));return;}currentQuizData=getShuffledQuiz(_0x36caee);const _0x2bd7aa=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x17db00(0x8b5)]();try{const _0x180c9a=await addDoc(collection(db,'artifacts/'+appId+_0x17db00(0x3c7)),{'quizId':_0x36caee['id'],'pin':_0x2bd7aa,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5ef7ec,'players':{}});currentLiveGameId=_0x180c9a['id'],showView(_0x17db00(0x40c)),renderSyncLobbyView(_0x2bd7aa,_0x36caee[_0x17db00(0x699)]),listenForSyncGameUpdates();}catch(_0x17a491){console[_0x17db00(0x30a)](_0x17db00(0x9e3),_0x17a491),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x1a2a37){const _0x42d1a6=_0x599685;if(!_0x1a2a37||!_0x1a2a37[_0x42d1a6(0x6de)]||!_0x1a2a37['players'])return _0x1a2a37[_0x42d1a6(0x255)]||{};const _0x339e97=_0x1a2a37[_0x42d1a6(0x6de)]['questions']['length'],_0x188991=JSON[_0x42d1a6(0x7a4)](JSON[_0x42d1a6(0x3eb)](_0x1a2a37['players']));return Object[_0x42d1a6(0x7d0)](_0x188991)[_0x42d1a6(0x24d)](_0x56e412=>{const _0x5d954e=_0x42d1a6,_0x597adb=_0x56e412[_0x5d954e(0x9df)];let _0x4d6906=0x0;_0x1a2a37[_0x5d954e(0xa88)]&&_0x56e412[_0x5d954e(0xa62)]&&_0x56e412[_0x5d954e(0xa62)][_0x5d954e(0x24d)](_0x45e257=>{const _0x2085ed=_0x5d954e;if(_0x45e257[_0x2085ed(0x635)]&&_0x45e257[_0x2085ed(0x2a4)])_0x4d6906+=0x1;else!_0x45e257[_0x2085ed(0x635)]&&_0x45e257[_0x2085ed(0x2a4)]&&(_0x4d6906-=0x1);}),_0x56e412['score']=_0x597adb+_0x4d6906,_0x339e97>0x0&&_0x597adb===_0x339e97&&(_0x56e412[_0x5d954e(0x9df)]+=0x1,_0x56e412[_0x5d954e(0x61f)]=!![]);}),_0x188991;}function listenForSyncGameUpdates(){const _0xe3b9eb=_0x599685;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x47e65f=doc(db,_0xe3b9eb(0x3d7)+appId+_0xe3b9eb(0x3c7),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x47e65f,_0x46a94d=>{const _0x108cbd=_0xe3b9eb;if(!_0x46a94d[_0x108cbd(0x478)]()){sessionStorage[_0x108cbd(0x363)](_0x108cbd(0x2b6));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว'),showView(currentMode===_0x108cbd(0x750)?'project-detail':_0x108cbd(0x613));return;}const _0x4ac848=_0x46a94d[_0x108cbd(0x7e5)]();currentMode===_0x108cbd(0x750)?updateAdminSyncView(_0x4ac848):updateStudentSyncView(_0x4ac848);});}function renderSyncLobbyView(_0x779622,_0x3a02a6){const _0x481428=_0x599685;liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x3a02a6+_0x481428(0x6eb)+_0x779622+_0x481428(0x638);const _0x1da919=document[_0x481428(0x6f5)]('confidence-scoring-toggle'),_0x3c7cce=document[_0x481428(0x6f5)]('confidence-scoring-description');_0x1da919[_0x481428(0x2a3)]('change',()=>{const _0x5a430b=_0x481428;_0x3c7cce[_0x5a430b(0x317)][_0x5a430b(0x1b7)]=_0x1da919[_0x5a430b(0x788)]?'block':_0x5a430b(0x649);}),document[_0x481428(0x6f5)](_0x481428(0x70b))[_0x481428(0x2a3)](_0x481428(0x41c),async()=>{const _0x32405c=_0x481428,_0x17390d=doc(db,_0x32405c(0x3d7)+appId+'/public/data/syncGames',currentLiveGameId),_0x2c1edf=document[_0x32405c(0x6f5)](_0x32405c(0x984))[_0x32405c(0x788)];await updateDoc(_0x17390d,{'status':_0x32405c(0x749),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x2c1edf});});}function updateAdminSyncView(_0x407797){const _0x117fb1=_0x599685;switch(_0x407797['status']){case'lobby':renderSyncLobbyView(_0x407797[_0x117fb1(0xa94)],_0x407797[_0x117fb1(0x6de)][_0x117fb1(0x699)]);const _0x42495e=Object[_0x117fb1(0x4ef)](_0x407797[_0x117fb1(0x255)]||{})[_0x117fb1(0x7c9)](([_0x500086,_0x14e48a])=>_0x14e48a[_0x117fb1(0x800)]!==_0x117fb1(0x8fa));document['getElementById'](_0x117fb1(0xa24))['textContent']=_0x42495e['length'],document[_0x117fb1(0x6f5)](_0x117fb1(0x2f7))[_0x117fb1(0x88b)]=_0x42495e[_0x117fb1(0x392)](([_0x4b5879,_0x3dd793])=>_0x117fb1(0xa78)+_0x4b5879+_0x117fb1(0x4d3)+_0x4b5879+_0x117fb1(0x57b))[_0x117fb1(0x70f)]('')||_0x117fb1(0x58a),document['getElementById'](_0x117fb1(0x70b))[_0x117fb1(0x8c1)]=_0x42495e[_0x117fb1(0x5b5)]===0x0;break;case _0x117fb1(0x749):const _0x17e3ff=Object['values'](_0x407797[_0x117fb1(0x255)]||{})[_0x117fb1(0x7c9)](_0x564042=>_0x564042['status']!==_0x117fb1(0x8fa)),_0x3401da=_0x17e3ff[_0x117fb1(0x7c9)](_0x3ca634=>_0x3ca634['answered'])[_0x117fb1(0x5b5)],_0x9fcee5=_0x3401da===_0x17e3ff[_0x117fb1(0x5b5)]&&_0x17e3ff[_0x117fb1(0x5b5)]>0x0;if(_0x9fcee5&&_0x407797[_0x117fb1(0x800)]===_0x117fb1(0x749)){const _0x12f97d=doc(db,'artifacts/'+appId+_0x117fb1(0x3c7),currentLiveGameId);updateDoc(_0x12f97d,{'status':_0x117fb1(0x4f3)});}else{if(document['getElementById']('sync-player-management')===null)renderAdminSyncQuestionView(_0x407797);else{const _0x4fdb8b=document[_0x117fb1(0x6f5)](_0x117fb1(0x81c));_0x4fdb8b&&(_0x4fdb8b[_0x117fb1(0x406)]=_0x3401da+'/'+_0x17e3ff[_0x117fb1(0x5b5)]);const _0x53c8e6=document['getElementById'](_0x117fb1(0x706));_0x53c8e6&&(_0x53c8e6[_0x117fb1(0x88b)]=_0x17e3ff[_0x117fb1(0x392)](_0x4e463c=>{const _0x318de2=_0x117fb1,_0x2f3452=_0x4e463c[_0x318de2(0xa52)]?_0x318de2(0x7f8):'bg-gray-500',_0x4f0109=_0x4e463c[_0x318de2(0xa52)]?_0x318de2(0x222):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x318de2(0x74e)+_0x2f3452+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f0109+_0x318de2(0x49e)+_0x4e463c[_0x318de2(0x472)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x4e463c[_0x318de2(0x472)]+_0x318de2(0x38d);})[_0x117fb1(0x70f)](''));}}break;case'summary':const _0x5d5919=_0x407797['currentQuestionIndex'],_0x42a4b1=_0x407797[_0x117fb1(0x6de)][_0x117fb1(0x4ac)][_0x5d5919];renderSyncSummaryView(_0x407797,_0x42a4b1,!![]);break;case'results':renderAdminSyncDashboard(_0x407797,!![]);break;case _0x117fb1(0x71a):_0x407797['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x407797);sessionStorage[_0x117fb1(0x363)](_0x117fb1(0x2b6));const _0x37a6b7=calculateFinalPodiumScores(_0x407797);showPodiumView(_0x37a6b7,_0x117fb1(0x1f0));break;}}function renderAdminSyncQuestionView(_0xfee01d){const _0x496e13=_0x599685,_0x4bc447=_0xfee01d[_0x496e13(0x62a)],_0x461f17=_0xfee01d['shuffledQuiz'][_0x496e13(0x4ac)][_0x4bc447],_0x4de1a3=_0xfee01d[_0x496e13(0x6de)][_0x496e13(0x4ac)][_0x496e13(0x5b5)],_0x5a0163=Object['values'](_0xfee01d[_0x496e13(0x255)]||{})[_0x496e13(0x7c9)](_0x366958=>_0x366958[_0x496e13(0x800)]!=='inactive'),_0x4b4c1d=_0x5a0163['filter'](_0x679f0e=>_0x679f0e[_0x496e13(0xa52)])[_0x496e13(0x5b5)],_0x15ffc8=_0x4b4c1d===_0x5a0163[_0x496e13(0x5b5)]&&_0x5a0163['length']>0x0,_0x36c9d8=(_0x461f17[_0x496e13(0x5d1)]||[])[_0x496e13(0x392)](_0x439252=>_0x496e13(0x1de)+_0x439252+_0x496e13(0x6ab))[_0x496e13(0x70f)]('');liveGameView[_0x496e13(0x88b)]=_0x496e13(0x494)+(_0x4bc447+0x1)+'\x20/\x20'+_0x4de1a3+_0x496e13(0x734)+_0x4b4c1d+'/'+_0x5a0163[_0x496e13(0x5b5)]+_0x496e13(0x5a0)+_0x461f17[_0x496e13(0x4ed)]+_0x496e13(0x6ee)+_0x36c9d8+_0x496e13(0x831)+(!_0x15ffc8?'disabled':'')+_0x496e13(0x3bf);if(window[_0x496e13(0x4dd)])MathJax[_0x496e13(0x908)]();document['getElementById']('show-results-btn')[_0x496e13(0x2a3)](_0x496e13(0x41c),async()=>{const _0x23acb6=_0x496e13,_0x2a71b6=doc(db,_0x23acb6(0x3d7)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x2a71b6,{'status':'results'});}),document['getElementById'](_0x496e13(0x53a))['onclick']=()=>{const _0x1c2141=_0x496e13;openScratchpad(_0x461f17,_0x461f17[_0x1c2141(0x5d1)]||[]);},document[_0x496e13(0x6f5)](_0x496e13(0x723))[_0x496e13(0x2a3)](_0x496e13(0x41c),()=>{const _0x81e43c=_0x496e13;document['getElementById']('sync-player-management')[_0x81e43c(0x7ad)][_0x81e43c(0x949)]('hidden');});}function renderSyncLeaderboardView(_0x2b6a25,_0xf4c302){const _0x3ec4e8=_0x599685,_0x2e052d=Object[_0x3ec4e8(0x7d0)](_0x2b6a25['players']||{});_0x2e052d['sort']((_0x5030e1,_0x1c4dac)=>_0x1c4dac[_0x3ec4e8(0x9df)]-_0x5030e1[_0x3ec4e8(0x9df)]);const _0x1215db=_0x2e052d[_0x3ec4e8(0x804)](0x0,0x5);let _0x573cd9='';if(_0xf4c302){const _0xa4582e=_0x2b6a25[_0x3ec4e8(0x62a)]>=_0x2b6a25[_0x3ec4e8(0x6de)][_0x3ec4e8(0x4ac)][_0x3ec4e8(0x5b5)]-0x1;_0x573cd9=_0x3ec4e8(0x7a8)+(_0xa4582e?_0x3ec4e8(0x566):_0x3ec4e8(0x87f))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x573cd9=_0x3ec4e8(0xab1);liveGameView[_0x3ec4e8(0x88b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x1215db['map']((_0x46adc6,_0x513345)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x513345+0x1)+'.\x20'+_0x46adc6[_0x3ec4e8(0x472)]+_0x3ec4e8(0x2bf)+_0x46adc6['score']+_0x3ec4e8(0x1f4))[_0x3ec4e8(0x70f)]('')+_0x3ec4e8(0x847)+_0x573cd9+_0x3ec4e8(0x6c7),_0xf4c302&&document[_0x3ec4e8(0x6f5)](_0x3ec4e8(0x253))[_0x3ec4e8(0x2a3)](_0x3ec4e8(0x41c),async()=>{const _0x15ed26=_0x3ec4e8,_0xb6558d=doc(db,_0x15ed26(0x3d7)+appId+_0x15ed26(0x3c7),currentLiveGameId),_0x48390d=_0x2b6a25[_0x15ed26(0x62a)]+0x1;if(_0x48390d<_0x2b6a25[_0x15ed26(0x6de)]['questions'][_0x15ed26(0x5b5)]){const _0x2d8444={};Object[_0x15ed26(0x937)](_0x2b6a25['players'])['forEach'](_0x2fe387=>{const _0x4c2549=_0x15ed26;_0x2d8444[_0x4c2549(0x7e6)+_0x2fe387+_0x4c2549(0x6d4)]=![];}),await updateDoc(_0xb6558d,{..._0x2d8444,'status':_0x15ed26(0x749),'currentQuestionIndex':_0x48390d,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0xb6558d,{'status':_0x15ed26(0x71a)});});}async function handleJoinSyncGame(){const _0x358479=_0x599685,_0x51ea73=prompt(_0x358479(0x7ae));if(!_0x51ea73||_0x51ea73[_0x358479(0x8cf)]()[_0x358479(0x5b5)]!==0x2){showMessage(_0x358479(0x1be));return;}try{const _0x4656d4=collection(db,_0x358479(0x3d7)+appId+_0x358479(0x3c7)),_0xab39d6=query(_0x4656d4,where(_0x358479(0xa94),'==',_0x51ea73[_0x358479(0x8cf)]()),where(_0x358479(0x800),'==',_0x358479(0x9d0))),_0x14bc82=await getDocs(_0xab39d6);if(_0x14bc82[_0x358479(0xa41)]){showMessage(_0x358479(0x8cd));return;}const _0x216408=_0x14bc82['docs'][0x0];currentLiveGameId=_0x216408['id'];const _0xc42181=_0x216408[_0x358479(0x7e5)](),_0x5ae554=doc(db,_0x358479(0x3d7)+appId+_0x358479(0x198),_0xc42181['quizId']),_0x4f4540=await getDoc(_0x5ae554);if(!_0x4f4540['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x1820e5=_0x4f4540[_0x358479(0x7e5)](),_0x9f0bf3=doc(db,_0x358479(0x3d7)+appId+_0x358479(0x581),_0x1820e5[_0x358479(0x7f1)]),_0x2faf29=await getDoc(_0x9f0bf3);if(!_0x2faf29[_0x358479(0x478)]())throw new Error(_0x358479(0x892));currentQuizData=_0xc42181['shuffledQuiz'];const _0x224c5f=_0x2faf29[_0x358479(0x7e5)]();showView(_0x358479(0xa39)),showTeamPlayerSelection(_0x224c5f[_0x358479(0x1a6)],_0x1820e5['topic']);const _0x470259=document[_0x358479(0x6f5)](_0x358479(0x2c3));_0x470259['onclick']=confirmAndJoinSyncGame;}catch(_0xb7af36){console[_0x358479(0x30a)](_0x358479(0x6dc),_0xb7af36),showMessage(_0x358479(0x859)+_0xb7af36[_0x358479(0x1fc)]);}}function updateStudentSyncView(_0x2ed840){const _0x2d93cd=_0x599685,_0x58170c=_0x2ed840[_0x2d93cd(0x255)][localTeamPlayers[0x0]];switch(_0x2ed840[_0x2d93cd(0x800)]){case _0x2d93cd(0x9d0):showView(_0x2d93cd(0x40c)),liveGameView[_0x2d93cd(0x88b)]=_0x2d93cd(0x881);break;case _0x2d93cd(0x749):const _0x273240=localTeamPlayers['every'](_0x57d2a0=>_0x2ed840[_0x2d93cd(0x255)][_0x57d2a0]?.[_0x2d93cd(0xa52)]===!![]);_0x273240?liveGameView['innerHTML']=_0x2d93cd(0xa65):renderStudentSyncQuestionView(_0x2ed840);break;case _0x2d93cd(0x4f3):liveGameView[_0x2d93cd(0x88b)]=_0x2d93cd(0x85a);break;case _0x2d93cd(0x7aa):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x2ed840);break;case _0x2d93cd(0x71a):sessionStorage[_0x2d93cd(0x363)](_0x2d93cd(0x2b6));const _0x23bbfc=calculateFinalPodiumScores(_0x2ed840);showPodiumView(_0x23bbfc,_0x2d93cd(0x1f0));break;}}function renderStudentSyncResultsView(_0x367e90){const _0x1c8dfd=_0x599685,_0x5acc63=localTeamPlayers['map'](_0xbc78e4=>_0x367e90['players'][_0xbc78e4])[_0x1c8dfd(0x7c9)](Boolean);_0x5acc63[_0x1c8dfd(0xab3)]((_0x4d19fe,_0x34bc30)=>(_0x34bc30['score']||0x0)-(_0x4d19fe[_0x1c8dfd(0x9df)]||0x0));const _0x49b9c5=_0x367e90[_0x1c8dfd(0x62a)]>=_0x367e90[_0x1c8dfd(0x6de)][_0x1c8dfd(0x4ac)][_0x1c8dfd(0x5b5)]-0x1;let _0x4236e5='';_0x49b9c5?_0x4236e5='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x4236e5=_0x1c8dfd(0x8a6);const _0x3fdc67=_0x1c8dfd(0x2ae)+_0x5acc63[_0x1c8dfd(0x392)]((_0x287133,_0x3ea4ad)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x3ea4ad+0x1)+_0x1c8dfd(0xa42)+_0x287133[_0x1c8dfd(0x472)]+_0x1c8dfd(0x497)+_0x287133['score']+_0x1c8dfd(0x4ce))[_0x1c8dfd(0x70f)]('')+_0x1c8dfd(0x3bd)+_0x4236e5+_0x1c8dfd(0x546);liveGameView[_0x1c8dfd(0x88b)]=_0x3fdc67;}function renderStudentSyncQuestionView(_0x27ba57){const _0xff40bf=_0x599685;while(localPlayerTurnIndex<localTeamPlayers[_0xff40bf(0x5b5)]&&_0x27ba57[_0xff40bf(0x255)][localTeamPlayers[localPlayerTurnIndex]]?.[_0xff40bf(0xa52)]===!![]){localPlayerTurnIndex++;}const _0x104498=localTeamPlayers[localPlayerTurnIndex];if(!_0x104498)return;const _0x16b2a0=_0x27ba57['currentQuestionIndex'],_0x53bdf9=_0x27ba57['shuffledQuiz'][_0xff40bf(0x4ac)][_0xff40bf(0x5b5)],_0x17ac77=_0x27ba57[_0xff40bf(0x6de)][_0xff40bf(0x4ac)][_0x16b2a0],_0x242575=_0x17ac77[_0xff40bf(0x5e5)]||_0x27ba57['shuffledQuiz'][_0xff40bf(0x1a3)];let _0x37fc6d='',_0x1e5ce9=![];switch(_0x242575){case _0xff40bf(0x932):_0x37fc6d=_0xff40bf(0x3fc);break;case _0xff40bf(0x7ff):case'fill_in_no_choices':_0x1e5ce9=!![],_0x37fc6d=_0xff40bf(0x7d1);break;case _0xff40bf(0x228):_0x1e5ce9=!![],_0x37fc6d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x17ac77['allResponses']||[])[_0xff40bf(0x392)](_0x3ccc3b=>_0xff40bf(0x500)+_0x3ccc3b+'\x22>'+_0x3ccc3b+'</option>')[_0xff40bf(0x70f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'multiple_choice':default:_0x37fc6d=(_0x17ac77[_0xff40bf(0x5d1)]||[])['map']((_0x2ef5da,_0x291027)=>_0xff40bf(0x73d)+_0x291027+_0xff40bf(0x1ed)+_0x2ef5da+'</button>')[_0xff40bf(0x70f)]('');break;}liveGameView[_0xff40bf(0x88b)]=_0xff40bf(0x48a)+(_0x16b2a0+0x1)+_0xff40bf(0x660)+_0x53bdf9+_0xff40bf(0x3e0)+_0x104498+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x17ac77[_0xff40bf(0x4ed)]||_0x17ac77[_0xff40bf(0x9a4)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x37fc6d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(window[_0xff40bf(0x4dd)])MathJax[_0xff40bf(0x908)]();function _0x3fc0d9(_0x135b22,_0x8e7ff3,_0x692d85,_0x2b60c3){const _0x26343c=_0xff40bf,_0x41b1e4=_0x692d85['isConfidenceScoringEnabled']===!![];if(_0x41b1e4){document[_0x26343c(0x6f5)](_0x26343c(0x3fa))[_0x26343c(0x4eb)][_0x26343c(0x449)]=_0x26343c(0x1f0);const _0x523dec=document[_0x26343c(0x6f5)](_0x26343c(0x28e));_0x523dec['dataset']['answerValue']=_0x135b22,_0x523dec[_0x26343c(0x4eb)]['question']=JSON[_0x26343c(0x3eb)](_0x8e7ff3),_0x523dec['dataset'][_0x26343c(0x43d)]=JSON[_0x26343c(0x3eb)](_0x692d85),_0x523dec[_0x26343c(0x4eb)][_0x26343c(0x1d5)]=_0x2b60c3,document[_0x26343c(0x6f5)](_0x26343c(0x3fa))['classList'][_0x26343c(0xac8)]('hidden');}else handleSyncAnswerSubmit(_0x135b22,_0x8e7ff3,_0x692d85,_0x2b60c3,![]);}_0x1e5ce9?document[_0xff40bf(0x6f5)](_0xff40bf(0x196))['addEventListener'](_0xff40bf(0x41c),()=>{const _0x59ebd7=_0xff40bf,_0x3a254a=document[_0x59ebd7(0x6f5)]('sync-short-answer-input')||document[_0x59ebd7(0x6f5)]('sync-matching-select');if(_0x3a254a[_0x59ebd7(0x8c4)][_0x59ebd7(0x8cf)]()===''){showMessage(_0x59ebd7(0x3ad));return;}_0x3fc0d9(_0x3a254a['value'],_0x17ac77,_0x27ba57,_0x104498);}):document[_0xff40bf(0x3b5)]('.live-answer-btn')[_0xff40bf(0x24d)](_0x3cb02b=>{const _0x480ac0=_0xff40bf;_0x3cb02b[_0x480ac0(0x2a3)](_0x480ac0(0x41c),()=>{const _0x12ac47=_0x480ac0;_0x3fc0d9(_0x3cb02b[_0x12ac47(0x4eb)]['value'],_0x17ac77,_0x27ba57,_0x104498);});});}async function handleSyncAnswerSubmit(_0x50f83a,_0x4ed92c,_0x4eb5f5,_0x36578a,_0x4fc5b7){const _0x3f4df8=_0x599685;document['querySelectorAll'](_0x3f4df8(0x1d0))['forEach'](_0x4232d6=>_0x4232d6[_0x3f4df8(0x8c1)]=!![]);const _0x1f1c48=_0x4ed92c[_0x3f4df8(0x5e5)]||_0x4eb5f5[_0x3f4df8(0x6de)][_0x3f4df8(0x1a3)];let _0x4bf787=![],_0x30e594=_0x50f83a;switch(_0x1f1c48){case'true_false':const _0x3a7c1b=parseInt(_0x50f83a),_0x24ca92=_0x4ed92c[_0x3f4df8(0xa0b)]===!![]||String(_0x4ed92c[_0x3f4df8(0xa0b)])[_0x3f4df8(0x607)]()==='true';_0x4bf787=_0x3a7c1b===0x0&&_0x24ca92||_0x3a7c1b===0x1&&!_0x24ca92,_0x30e594=_0x3a7c1b===0x0?_0x3f4df8(0x2aa):_0x3f4df8(0x88e);break;case _0x3f4df8(0x7ff):case _0x3f4df8(0x2d8):_0x4bf787=await gradeShortAnswer(_0x50f83a,_0x4ed92c);break;case _0x3f4df8(0x228):_0x4bf787=_0x50f83a===_0x4ed92c[_0x3f4df8(0xa0f)];break;case'multiple_choice':default:const _0x57a459=parseInt(_0x50f83a);_0x4bf787=_0x57a459===_0x4ed92c[_0x3f4df8(0x5db)];_0x4ed92c[_0x3f4df8(0x5d1)]&&_0x4ed92c[_0x3f4df8(0x5d1)][_0x57a459]&&(_0x30e594=_0x4ed92c['options'][_0x57a459]);break;}let _0x421a9e=0x0;if(_0x4bf787&&_0x4fc5b7)_0x421a9e=0x2;else{if(_0x4bf787)_0x421a9e=0x1;else!_0x4bf787&&_0x4fc5b7&&(_0x421a9e=-0x1);}const _0xa509b=doc(db,_0x3f4df8(0x3d7)+appId+_0x3f4df8(0x3c7),currentLiveGameId),_0x2f13b6={};_0x2f13b6[_0x3f4df8(0x7e6)+_0x36578a+_0x3f4df8(0x836)]=increment(_0x421a9e),_0x2f13b6['players.'+_0x36578a+_0x3f4df8(0x6d4)]=!![];let _0x169b40=null;(_0x1f1c48==='multiple_choice'||_0x1f1c48===_0x3f4df8(0x932)||_0x1f1c48===_0x3f4df8(0x997))&&(_0x169b40=parseInt(_0x50f83a));_0x2f13b6[_0x3f4df8(0x7e6)+_0x36578a+_0x3f4df8(0x415)]=_0x169b40;const _0x20728f={'questionIndex':_0x4eb5f5['currentQuestionIndex'],'questionId':_0x4ed92c['id'],'answer':_0x50f83a,'answerText':_0x30e594,'isCorrect':_0x4bf787,'originalQuestionText':_0x4ed92c[_0x3f4df8(0x4ed)]||_0x4ed92c['stem'],'wasConfident':_0x4fc5b7};_0x2f13b6[_0x3f4df8(0x7e6)+_0x36578a+_0x3f4df8(0x282)]=arrayUnion(_0x20728f),await updateDoc(_0xa509b,_0x2f13b6);}initialize();
