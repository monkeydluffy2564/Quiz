const _0xa39756=_0x395e;(function(_0x15509a,_0x35c39c){const _0x381625=_0x395e,_0x319435=_0x15509a();while(!![]){try{const _0x5237a0=parseInt(_0x381625(0xb9a))/0x1*(parseInt(_0x381625(0xad9))/0x2)+parseInt(_0x381625(0x924))/0x3+-parseInt(_0x381625(0xa3e))/0x4+parseInt(_0x381625(0x89f))/0x5*(parseInt(_0x381625(0xc8f))/0x6)+-parseInt(_0x381625(0xd4d))/0x7*(-parseInt(_0x381625(0x77d))/0x8)+-parseInt(_0x381625(0x25e))/0x9*(parseInt(_0x381625(0x5f0))/0xa)+parseInt(_0x381625(0x8c8))/0xb;if(_0x5237a0===_0x35c39c)break;else _0x319435['push'](_0x319435['shift']());}catch(_0x4d4b82){_0x319435['push'](_0x319435['shift']());}}}(_0x4523,0x600d3));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0xa39756(0xd17),_0xa39756(0x4bb),_0xa39756(0x8d7),'เหมียวขี้เซา',_0xa39756(0x7fd),_0xa39756(0x337),'โลมาบิน',_0xa39756(0xdea),_0xa39756(0xc5e),_0xa39756(0x60d),_0xa39756(0xb86),_0xa39756(0x287),_0xa39756(0x96c),_0xa39756(0xd66),_0xa39756(0xd1b),_0xa39756(0xaee),_0xa39756(0x653),_0xa39756(0x92d),_0xa39756(0xd4b),_0xa39756(0x279),'หมีขั้วโลกใต้',_0xa39756(0x33d),_0xa39756(0x803),_0xa39756(0x933),'กุ้งเต้นแร้งกา','หมาป่าเดียวดาย',_0xa39756(0x557),_0xa39756(0xc2b),'ม้าดีดกะโหลก',_0xa39756(0xd1f),_0xa39756(0x8af),_0xa39756(0x2c4),_0xa39756(0xafb),_0xa39756(0xab4),_0xa39756(0x278),_0xa39756(0x63a),_0xa39756(0xb90),_0xa39756(0x65f),'เน็ตไอดอล',_0xa39756(0x536),_0xa39756(0x3f0),_0xa39756(0xae3),_0xa39756(0x6be),_0xa39756(0x9a7),_0xa39756(0x2eb),'ข้าวมันไก่พิเศษ','หมูกระทะจะเยียวยาทุกสิ่ง',_0xa39756(0x90a),_0xa39756(0x498),_0xa39756(0xa70),_0xa39756(0x938),_0xa39756(0x4d6),_0xa39756(0x2d9),_0xa39756(0x4a8),'ติดซีรีส์',_0xa39756(0xae5),'เน็ตช้า',_0xa39756(0x4b7),_0xa39756(0x247),_0xa39756(0x53f),_0xa39756(0x503),'ตะวันฉาย',_0xa39756(0x441),'ก้อนเมฆ','ดวงดาว',_0xa39756(0x65d),_0xa39756(0xc40),'ภูเขา',_0xa39756(0x919),_0xa39756(0xb31),'นักเดินทาง',_0xa39756(0x54c),_0xa39756(0xae6),_0xa39756(0x5a2),_0xa39756(0xcf8),_0xa39756(0x97c),'นักวิทยาศาสตร์',_0xa39756(0x674),_0xa39756(0x5c1),_0xa39756(0x9a4),_0xa39756(0x793),'ปล่อยพลัง',_0xa39756(0x995),_0xa39756(0xdec),'ดาบพิฆาตอสูร',_0xa39756(0xb6e),_0xa39756(0xb0e),_0xa39756(0x6b9),'กัปตัน',_0xa39756(0xdb8),_0xa39756(0x314),'คนโสด',_0xa39756(0xc8a),_0xa39756(0xb28),_0xa39756(0x3dc),_0xa39756(0xa7f),_0xa39756(0x7ec),'คนคุย','สถานะไม่ชัดเจน','มูเตลู'];let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0xa39756(0x49d),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0xa39756(0x49d),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x2f3884=_0xa39756;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x2f3884(0xc9f)][_0x2f3884(0xd34)](_0x2f3884(0x9f4)),console[_0x2f3884(0xcf9)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock['addEventListener'](_0x2f3884(0x8c1),()=>{const _0x480cfd=_0x2f3884;console[_0x480cfd(0xcf9)](_0x480cfd(0x523));});}catch(_0x1e643d){console[_0x2f3884(0xd73)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x1e643d[_0x2f3884(0x4ee)]+',\x20'+_0x1e643d[_0x2f3884(0x5b7)]);}else console[_0x2f3884(0xb5c)](_0x2f3884(0x596));},releaseWakeLock=async()=>{const _0x46ba10=_0xa39756;wakeLock!==null&&(await wakeLock[_0x46ba10(0x8c1)](),wakeLock=null,console[_0x46ba10(0xcf9)](_0x46ba10(0x2a2)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x45f10c=_0xa39756;if(!document[_0x45f10c(0x587)][_0x45f10c(0xa57)][_0x45f10c(0x28c)]('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x47ff88=_0x45f10c;document[_0x47ff88(0x587)][_0x47ff88(0xa57)][_0x47ff88(0x8de)](_0x47ff88(0x960)),console['log']('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}}function wakeUpScreen(_0x4faa3f){const _0x145fba=_0xa39756;_0x4faa3f&&(_0x4faa3f[_0x145fba(0x73c)](),_0x4faa3f[_0x145fba(0xc6f)]());document[_0x145fba(0x587)][_0x145fba(0xa57)][_0x145fba(0x586)](_0x145fba(0x960));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x9f0203=_0x145fba;document[_0x9f0203(0x587)]['classList'][_0x9f0203(0x8de)](_0x9f0203(0x960));},inactivityTime);}function stopDimTimer(){const _0x3310e8=_0xa39756;if(dimTimer)clearTimeout(dimTimer);document[_0x3310e8(0x587)][_0x3310e8(0xa57)][_0x3310e8(0x586)](_0x3310e8(0x960)),window[_0x3310e8(0x223)](_0x3310e8(0xc70),resetDimTimer),window[_0x3310e8(0x223)]('mousedown',resetDimTimer),window['removeEventListener'](_0x3310e8(0x7e6),resetDimTimer),window[_0x3310e8(0x223)](_0x3310e8(0xa42),resetDimTimer),console[_0x3310e8(0xcf9)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x3c8e86,_0x3a7dae=![]){const _0xfcd427=_0xa39756,_0x5d8b8=allQuizzes[_0xfcd427(0xaf7)](_0x123a6e=>_0x123a6e['id']===_0x3c8e86)||allQuizzesGlobal[_0xfcd427(0xaf7)](_0x104cb9=>_0x104cb9['id']===_0x3c8e86);if(!_0x5d8b8){showMessage(_0xfcd427(0xd04));return;}currentQuizData=getShuffledQuiz(_0x5d8b8);const _0xa00d8e=Math[_0xfcd427(0x997)](0x3e8+Math[_0xfcd427(0x35e)]()*0x2328)[_0xfcd427(0x2e7)]();try{const _0x25df56=await addDoc(collection(db,_0xfcd427(0x73f)+appId+_0xfcd427(0x8d3)),{'quizId':_0x5d8b8['id'],'projectId':_0x5d8b8['projectId'],'status':_0xfcd427(0xa07),'pin':_0xa00d8e,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3a7dae});currentTeamQuizId=_0x25df56['id'],showView(_0xfcd427(0xd10)),renderAdminTeamQuizDashboard(_0xa00d8e,_0x5d8b8['topic']),listenForTeamQuizUpdates();}catch(_0x1c4fab){console[_0xfcd427(0xd73)](_0xfcd427(0x8f4),_0x1c4fab),showMessage(_0xfcd427(0x3fb));}}function renderAdminTeamQuizDashboard(_0x2c37ec,_0x137ed4,_0x4f9861=_0xa39756(0xca0)){const _0x11541f=_0xa39756,_0x6765fb=_0x4f9861===_0x11541f(0x7d5)?_0x11541f(0x59a):_0x11541f(0x8ef);liveGameView[_0x11541f(0x878)]=_0x11541f(0x987)+_0x6765fb+':\x20'+_0x137ed4+_0x11541f(0x273)+_0x2c37ec+_0x11541f(0x7c3),document[_0x11541f(0x8fb)]('end-team-quiz-btn')[_0x11541f(0xb95)]('click',async()=>{const _0x3bc106=_0x11541f;showConfirmation(_0x3bc106(0x79b),async()=>{const _0x4f8945=_0x3bc106;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0x4f8945(0xb8b));});});}function listenForTeamQuizUpdates(){const _0x48936b=_0xa39756;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x23195e=doc(db,'artifacts/'+appId+_0x48936b(0x8d3),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x23195e,_0x86680c=>{const _0x3560a8=_0x48936b;if(!_0x86680c[_0x3560a8(0x86f)]()){sessionStorage[_0x3560a8(0x888)](_0x3560a8(0xd78));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x3560a8(0x71b));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x3560a8(0xb8b)):showView(_0x3560a8(0x79f));return;}const _0x30c41c=_0x86680c[_0x3560a8(0x3d7)]();if(currentMode===_0x3560a8(0x962)){if(_0x30c41c[_0x3560a8(0x8bf)]===_0x3560a8(0x7d5)&&_0x30c41c[_0x3560a8(0xcce)]!=='podium'&&_0x30c41c['status']!==_0x3560a8(0x46d)){const _0x4bcafd=Object[_0x3560a8(0x2fa)](_0x30c41c[_0x3560a8(0xa51)]||{});if(_0x4bcafd['length']>0x0){const _0x1abc28=_0x4bcafd[_0x3560a8(0x6b2)](_0x10a7b2=>_0x10a7b2[_0x3560a8(0xd68)]===!![]);_0x1abc28&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x30c41c);}else{if(_0x30c41c[_0x3560a8(0xcce)]===_0x3560a8(0x730)||_0x30c41c[_0x3560a8(0xcce)]===_0x3560a8(0x46d)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x30c41c[_0x3560a8(0x8bf)]===_0x3560a8(0x7d5)){const _0xec2487=_0x30c41c[_0x3560a8(0xa51)][userId];(!_0xec2487||!_0xec2487[_0x3560a8(0xd68)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x409fea){const _0x16a0f8=_0xa39756;console[_0x16a0f8(0xcf9)](_0x16a0f8(0xcee));const _0x392090=doc(db,_0x16a0f8(0x73f)+appId+'/public/data/teamQuizzes',_0x409fea);try{const _0x1c7f95=await getDoc(_0x392090);if(_0x1c7f95[_0x16a0f8(0x86f)]()){const _0x484c86=_0x1c7f95[_0x16a0f8(0x3d7)]();_0x484c86[_0x16a0f8(0x22c)]&&await saveGameResultsAsSubmissions(_0x484c86);}await updateDoc(_0x392090,{'status':'podium'});}catch(_0x32463d){console[_0x16a0f8(0xd73)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x32463d);}}function updateAdminTeamDashboard(_0x28db17){const _0x50112e=_0xa39756,_0x4cbec8=document[_0x50112e(0x8fb)](_0x50112e(0x8ba));if(!_0x4cbec8)return;const _0x4c280e=_0x28db17['mode']||'team',_0x1b05af=currentQuizData['questions'][_0x50112e(0x7c7)];if(_0x4c280e===_0x50112e(0x7d5)){const _0x3b78c9=Object[_0x50112e(0x2fa)](_0x28db17['groups']||{});if(_0x3b78c9[_0x50112e(0x7c7)]===0x0){_0x4cbec8['innerHTML']=_0x50112e(0xc1c);return;}const _0x2b6f27=[..._0x3b78c9]['sort']((_0x3983f6,_0x302cfb)=>_0x302cfb['score']-_0x3983f6[_0x50112e(0x3e4)]),_0x350548=_0x2b6f27['map']((_0x420571,_0x1ef424)=>{const _0x24ead9=_0x50112e,_0x3b4f28=_0x420571[_0x24ead9(0xad1)]?.['length']||0x0;return _0x24ead9(0xc8e)+(_0x1ef424+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x420571[_0x24ead9(0xb09)][_0x24ead9(0xb7d)](',\x20')+_0x24ead9(0x204)+_0x3b4f28+'/'+_0x1b05af+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x420571[_0x24ead9(0x3e4)]+_0x24ead9(0xdb2);})[_0x50112e(0xb7d)](''),_0x24585b=currentQuizData[_0x50112e(0x4a2)][_0x50112e(0x218)]((_0x6bef44,_0x4e3fb9)=>{const _0x4d0775=_0x50112e;let _0x139c00=0x0,_0x3c1728=0x0;_0x3b78c9[_0x4d0775(0x71e)](_0x46a1fe=>{const _0x17ab25=_0x4d0775,_0x453963=_0x46a1fe[_0x17ab25(0xad1)]?.[_0x17ab25(0xaf7)](_0x22e36c=>_0x22e36c[_0x17ab25(0x403)]===_0x4e3fb9);if(_0x453963){_0x3c1728++;if(_0x453963[_0x17ab25(0x671)])_0x139c00++;}});const _0x205cfb=_0x3c1728>0x0&&_0x3c1728===_0x3b78c9[_0x4d0775(0x7c7)],_0x504e5c=_0x205cfb?'bg-green-200\x20text-green-900\x20font-bold':_0x4d0775(0xdb7),_0xc10c93=_0x205cfb?_0x4d0775(0x78c):'';return _0x4d0775(0xc62)+_0x504e5c+_0x4d0775(0xde5)+(_0x4e3fb9+0x1)+_0x4d0775(0x8e3)+_0xc10c93+_0x4d0775(0x30b)+_0x139c00+'/'+_0x3b78c9[_0x4d0775(0x7c7)]+_0x4d0775(0x7f7);})[_0x50112e(0xb7d)]('');_0x4cbec8[_0x50112e(0x878)]=_0x50112e(0x633)+_0x350548+_0x50112e(0x41c)+_0x24585b+_0x50112e(0xb64);return;}const _0x3da780=_0x28db17[_0x50112e(0x4cc)]||{},_0x2a17b9=Object[_0x50112e(0x65c)](_0x3da780);if(_0x2a17b9[_0x50112e(0x7c7)]===0x0){_0x4cbec8[_0x50112e(0x878)]=_0x50112e(0x4f7);return;}const _0x1a2477=_0x2a17b9[_0x50112e(0x218)](_0x50eda9=>({'name':_0x50eda9,'score':_0x3da780[_0x50eda9][_0x50112e(0x3e4)]||0x0}))[_0x50112e(0xcbf)]((_0x5393f0,_0x41f77b)=>_0x41f77b[_0x50112e(0x3e4)]-_0x5393f0[_0x50112e(0x3e4)]),_0x1df731=_0x1a2477[_0x50112e(0x218)](_0x4199a0=>{const _0x1414b3=_0x50112e,_0x3398c9=_0x3da780[_0x4199a0[_0x1414b3(0x4ee)]]?.[_0x1414b3(0xad1)]?.[_0x1414b3(0x7c7)]||0x0,_0x1714a0=Math['ceil'](_0x1b05af/_0x2a17b9[_0x1414b3(0x7c7)]);return _0x1414b3(0x5af)+_0x4199a0[_0x1414b3(0x4ee)]+_0x1414b3(0xdc9)+_0x3398c9+'/'+_0x1714a0+_0x1414b3(0x696)+_0x4199a0[_0x1414b3(0x3e4)]+_0x1414b3(0xb97);})[_0x50112e(0xb7d)](''),_0x5145e2=_0x2a17b9[_0x50112e(0x8a8)]((_0x446109,_0x37acd6)=>_0x446109+(_0x3da780[_0x37acd6]['answers']?.[_0x50112e(0x7c7)]||0x0),0x0),_0x196d67=currentQuizData['questions']['map']((_0x2117a0,_0x2260c9)=>{const _0x45ddbd=_0x50112e;let _0x133e74=null,_0xb86c8c=null;for(const _0x10e72e of _0x2a17b9){const _0x5654da=_0x3da780[_0x10e72e][_0x45ddbd(0xad1)]?.[_0x45ddbd(0xaf7)](_0x3c6981=>_0x3c6981['questionIndex']===_0x2260c9);if(_0x5654da){_0x133e74=_0x5654da,_0xb86c8c=_0x10e72e;break;}}const _0x500fb0=!!_0x133e74,_0x36bd10=_0x500fb0&&_0x133e74[_0x45ddbd(0x671)],_0x241147=(Math['floor'](_0x2260c9/_0x2a17b9[_0x45ddbd(0x7c7)])+0x1)*_0x2a17b9['length'],_0x155234=_0x5145e2>=_0x241147,_0x6e3ded=_0x155234?_0x45ddbd(0xd4a):'bg-black/10',_0x448134=_0x155234?_0x45ddbd(0x78c):'';let _0xd4947e=_0x45ddbd(0x90d);return _0x500fb0&&(_0xd4947e=_0xb86c8c+'\x20ตอบ'+(_0x36bd10?_0x45ddbd(0xdc1):'ผิด')),_0x45ddbd(0xc62)+_0x6e3ded+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x2260c9+0x1)+_0x45ddbd(0x8e3)+_0x448134+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0xd4947e+_0x45ddbd(0x951);})['join']('');_0x4cbec8['innerHTML']=_0x50112e(0x55e)+_0x1df731+_0x50112e(0x734)+_0x196d67+_0x50112e(0xb64);}async function handleJoinTeamQuiz(){const _0x10584e=_0xa39756,_0x777809=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x777809||_0x777809[_0x10584e(0x6a8)]()[_0x10584e(0x7c7)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x979af=collection(db,_0x10584e(0x73f)+appId+'/public/data/teamQuizzes'),_0x47d4de=query(_0x979af,where(_0x10584e(0x307),'==',_0x777809[_0x10584e(0x6a8)]()),where(_0x10584e(0xcce),'==',_0x10584e(0xa07))),_0xb337f2=await getDocs(_0x47d4de);if(_0xb337f2[_0x10584e(0x294)]){showMessage(_0x10584e(0x55c));return;}const _0x2e7bbb=_0xb337f2['docs'][0x0];currentTeamQuizId=_0x2e7bbb['id'];const _0x3e1e3d=_0x2e7bbb[_0x10584e(0x3d7)](),_0x4aaaa6=doc(db,_0x10584e(0x73f)+appId+_0x10584e(0xb08),_0x3e1e3d[_0x10584e(0xa68)]),_0x3e37ec=doc(db,_0x10584e(0x73f)+appId+_0x10584e(0xdb4),_0x3e1e3d['quizId']),[_0x5433e5,_0x4cbe35]=await Promise[_0x10584e(0x49d)]([getDoc(_0x4aaaa6),getDoc(_0x3e37ec)]);if(!_0x5433e5[_0x10584e(0x86f)]()||!_0x4cbe35[_0x10584e(0x86f)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x4cbe35['id'],..._0x4cbe35['data']()});const _0x1b8295=_0x5433e5[_0x10584e(0x3d7)]();showTeamPlayerSelection(_0x1b8295[_0x10584e(0xcc6)],currentQuizData[_0x10584e(0xb19)]);}catch(_0x15842c){console[_0x10584e(0xd73)]('Error\x20joining\x20team\x20quiz:',_0x15842c),showMessage(_0x10584e(0xa05)+_0x15842c[_0x10584e(0x5b7)]);}}async function handleJoinGroupActivity(){const _0xbe5851=_0xa39756,_0x26f61f=prompt(_0xbe5851(0x973));if(!_0x26f61f||_0x26f61f[_0xbe5851(0x6a8)]()['length']!==0x4){showMessage(_0xbe5851(0xdd4));return;}const _0x2278e6=_0x26f61f[_0xbe5851(0x6a8)]();showMessage(_0xbe5851(0xd9b));try{const _0x8a85e9=collection(db,_0xbe5851(0x73f)+appId+_0xbe5851(0x8d3)),_0x9800f3=query(_0x8a85e9,where(_0xbe5851(0x307),'==',_0x2278e6),where(_0xbe5851(0xcce),'==',_0xbe5851(0xa07))),_0x1c775f=await getDocs(_0x9800f3);if(!_0x1c775f[_0xbe5851(0x294)]){console[_0xbe5851(0xcf9)](_0xbe5851(0x68c)),await proceedWithTeamQuizJoin(_0x1c775f[_0xbe5851(0x485)][0x0]);return;}const _0x1edd76=collection(db,_0xbe5851(0x73f)+appId+_0xbe5851(0x968)),_0x2a58bd=query(_0x1edd76,where('pin','==',_0x2278e6),where(_0xbe5851(0xcce),'==',_0xbe5851(0xa07))),_0x1fedc0=await getDocs(_0x2a58bd);if(!_0x1fedc0['empty']){console[_0xbe5851(0xcf9)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x1fedc0['docs'][0x0]);return;}showMessage(_0xbe5851(0x592));}catch(_0x370e83){console['error'](_0xbe5851(0x920),_0x370e83),showMessage(_0xbe5851(0x7d6)+_0x370e83[_0xbe5851(0x5b7)]);}}async function proceedWithTeamQuizJoin(_0x2625ab){const _0x269da1=_0xa39756;currentTeamQuizId=_0x2625ab['id'];const _0x39f928=_0x2625ab['data'](),_0x38572d=doc(db,_0x269da1(0x73f)+appId+_0x269da1(0xb08),_0x39f928[_0x269da1(0xa68)]),_0x18992a=doc(db,_0x269da1(0x73f)+appId+'/public/data/quizzes',_0x39f928[_0x269da1(0xcbc)]),[_0x3af7f5,_0x3bfdd8]=await Promise['all']([getDoc(_0x38572d),getDoc(_0x18992a)]);if(!_0x3af7f5[_0x269da1(0x86f)]()||!_0x3bfdd8[_0x269da1(0x86f)]())throw new Error(_0x269da1(0x944));currentQuizData=getShuffledQuiz({'id':_0x3bfdd8['id'],..._0x3bfdd8[_0x269da1(0x3d7)]()}),showTeamPlayerSelection(_0x3af7f5[_0x269da1(0x3d7)]()['students'],currentQuizData[_0x269da1(0xb19)],_0x39f928['mode']||'team'),messageModal['classList'][_0x269da1(0x8de)](_0x269da1(0xcb3));}async function proceedWithSyncQuizJoin(_0x5d46b7){const _0x1e3da5=_0xa39756;currentLiveGameId=_0x5d46b7['id'];const _0x57bf6a=_0x5d46b7[_0x1e3da5(0x3d7)](),_0x34b1a8=doc(db,_0x1e3da5(0x73f)+appId+_0x1e3da5(0xdb4),_0x57bf6a[_0x1e3da5(0xcbc)]),_0x262b7f=await getDoc(_0x34b1a8);if(!_0x262b7f[_0x1e3da5(0x86f)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x202a61=_0x262b7f[_0x1e3da5(0x3d7)](),_0x3080b6=doc(db,_0x1e3da5(0x73f)+appId+'/public/data/projects',_0x202a61['projectId']),_0x34dc4d=await getDoc(_0x3080b6);if(!_0x34dc4d[_0x1e3da5(0x86f)]())throw new Error(_0x1e3da5(0x3f5));currentQuizData=_0x57bf6a[_0x1e3da5(0x9d8)],showView('student-team-join'),showTeamPlayerSelection(_0x34dc4d[_0x1e3da5(0x3d7)]()[_0x1e3da5(0xcc6)],_0x202a61[_0x1e3da5(0xb19)],_0x1e3da5(0xbf5)),document['getElementById'](_0x1e3da5(0x301))[_0x1e3da5(0x699)]=confirmAndJoinSyncGame,messageModal[_0x1e3da5(0xa57)][_0x1e3da5(0x8de)](_0x1e3da5(0xcb3));}function getCleanApplicationHTML(){const _0x29548a=_0xa39756,_0x46f385=document[_0x29548a(0x8fb)](_0x29548a(0x6cf));if(!_0x46f385)return'';const _0x4f5fa1=_0x46f385['cloneNode'](!![]);return _0x4f5fa1['querySelectorAll']('.application-options\x20button')[_0x29548a(0x71e)](_0x51507a=>{const _0x3e4391=_0x29548a;_0x51507a[_0x3e4391(0xa57)]['remove'](_0x3e4391(0x436),_0x3e4391(0x7ea)),_0x51507a['disabled']=![];}),_0x4f5fa1[_0x29548a(0x878)];}function showTeamPlayerSelection(_0x25d229,_0x200cb1,_0x30d2b8=_0xa39756(0xca0)){const _0x28f34c=_0xa39756;studentInitialView['classList'][_0x28f34c(0x8de)](_0x28f34c(0xcb3)),studentJoinGameView[_0x28f34c(0xa57)][_0x28f34c(0x8de)](_0x28f34c(0xcb3)),document[_0x28f34c(0x8fb)]('student-team-selection-view')[_0x28f34c(0xa57)][_0x28f34c(0x586)](_0x28f34c(0xcb3));let _0xbe498c='Team\x20Quiz';if(_0x30d2b8===_0x28f34c(0x7d5))_0xbe498c='Group\x20Mode';else _0x30d2b8===_0x28f34c(0xbf5)&&(_0xbe498c=_0x28f34c(0xa6d));document['getElementById'](_0x28f34c(0x828))[_0x28f34c(0xa47)]=_0xbe498c+':\x20'+_0x200cb1;const _0x2f0f53=document['getElementById'](_0x28f34c(0x330));if(!_0x25d229||_0x25d229['length']===0x0){_0x2f0f53[_0x28f34c(0x878)]=_0x28f34c(0xb02),document[_0x28f34c(0x8fb)](_0x28f34c(0x301))[_0x28f34c(0xc96)]=!![];return;}_0x2f0f53[_0x28f34c(0x878)]=_0x25d229[_0x28f34c(0x218)](_0x2b7232=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22'+_0x2b7232+_0x28f34c(0x935)+_0x2b7232+_0x28f34c(0x21e))[_0x28f34c(0xb7d)](''),document[_0x28f34c(0x8fb)]('confirm-team-players-btn')[_0x28f34c(0xc96)]=![];}async function confirmAndStartTeamQuiz(){const _0x7d2b6c=_0xa39756,_0x370cdb=Array['from'](document[_0x7d2b6c(0x6aa)](_0x7d2b6c(0xc94)))[_0x7d2b6c(0x218)](_0x15354e=>_0x15354e[_0x7d2b6c(0x3d4)]);if(_0x370cdb[_0x7d2b6c(0x7c7)]===0x0){showMessage(_0x7d2b6c(0xa7d));return;}localTeamPlayers=_0x370cdb,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x1bdfcb=doc(db,_0x7d2b6c(0x73f)+appId+_0x7d2b6c(0x8d3),currentTeamQuizId);try{const _0x96761d=await getDoc(_0x1bdfcb);if(!_0x96761d[_0x7d2b6c(0x86f)]())throw new Error(_0x7d2b6c(0x389));const _0x183847=_0x96761d[_0x7d2b6c(0x3d7)]();if(_0x183847[_0x7d2b6c(0x8bf)]==='group'){const _0x11056a={[_0x7d2b6c(0x7c1)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x1bdfcb,_0x11056a);}else{const _0x327fcf=_0x183847['responses']||{};localTeamPlayers[_0x7d2b6c(0x71e)](_0x53f2f8=>{!_0x327fcf[_0x53f2f8]&&(_0x327fcf[_0x53f2f8]={'score':0x0,'answers':[]});}),await updateDoc(_0x1bdfcb,{'responses':_0x327fcf});}document[_0x7d2b6c(0x8fb)]('student-team-selection-view')['classList'][_0x7d2b6c(0x8de)]('hidden'),renderTeamQuizQuestion();const _0x511728={'gameId':currentTeamQuizId,'mode':_0x183847[_0x7d2b6c(0x8bf)]||_0x7d2b6c(0xca0),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x7d2b6c(0x268)](_0x7d2b6c(0xd78),JSON['stringify'](_0x511728)),listenForTeamQuizUpdates();}catch(_0x2322d3){console[_0x7d2b6c(0xd73)](_0x7d2b6c(0x866),_0x2322d3),showMessage(_0x7d2b6c(0x4bc));}}async function renderTeamQuizQuestion(){const _0x3fd69=_0xa39756;if(localQuestionIndex>=currentQuizData[_0x3fd69(0x4a2)]['length']){displayTeamQuizFinalResults();return;}const _0x46b6a5=currentQuizData[_0x3fd69(0x4a2)][localQuestionIndex],_0xa200d9=localTeamPlayers[localPlayerIndex],_0x112948=_0x46b6a5[_0x3fd69(0x672)]||currentQuizData[_0x3fd69(0x28e)];let _0x383166=_0x46b6a5[_0x3fd69(0x722)]||_0x46b6a5[_0x3fd69(0xcd1)],_0xf90a27='';switch(_0x112948){case _0x3fd69(0x525):case _0x3fd69(0x316):_0xf90a27=_0x46b6a5['options'][_0x3fd69(0x218)]((_0x206c19,_0x2b366d)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x2b366d+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x2b366d+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x2b366d+'\x22>'+_0x206c19+_0x3fd69(0x66d))[_0x3fd69(0xb7d)]('');break;case _0x3fd69(0xc4d):_0xf90a27=_0x3fd69(0x3e7);break;case'short_answer':case _0x3fd69(0xbac):_0xf90a27='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0x3fd69(0xbd6):_0xf90a27='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x46b6a5[_0x3fd69(0x23b)][_0x3fd69(0x218)](_0xee82a0=>_0x3fd69(0xbb2)+_0xee82a0+'\x22>'+_0xee82a0+_0x3fd69(0x3de))[_0x3fd69(0xb7d)]('')+_0x3fd69(0xa9e);break;default:_0xf90a27=_0x3fd69(0x53a);break;}studentQuizArea['innerHTML']=_0x3fd69(0x2c8)+(localQuestionIndex+0x1)+_0x3fd69(0x48d)+currentQuizData[_0x3fd69(0x4a2)][_0x3fd69(0x7c7)]+_0x3fd69(0x501)+_0xa200d9+_0x3fd69(0x6ff)+(localQuestionIndex+0x1)+'.\x20'+_0x383166+_0x3fd69(0x227)+(_0x46b6a5[_0x3fd69(0xd93)]?_0x3fd69(0x58b)+_0x46b6a5[_0x3fd69(0xd93)]+_0x3fd69(0x369):'')+_0x3fd69(0x351)+_0xf90a27+_0x3fd69(0x324),studentQuizArea[_0x3fd69(0xa57)]['remove'](_0x3fd69(0xcb3));if(window[_0x3fd69(0xb54)])MathJax[_0x3fd69(0xa3f)]([studentQuizArea]);document['getElementById'](_0x3fd69(0x6d0))[_0x3fd69(0xb95)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x5b738d=_0xa39756,_0x4e10c8=currentQuizData['questions'][localQuestionIndex],_0x274f3e=_0x4e10c8[_0x5b738d(0x672)]||currentQuizData[_0x5b738d(0x28e)];let _0x340884=null,_0x43dd93=![];if(_0x274f3e==='short_answer'||_0x274f3e==='fill_in_no_choices'){const _0x40d2c0=document[_0x5b738d(0xa01)]('textarea[name=\x22team_answer\x22]');if(!_0x40d2c0||!_0x40d2c0[_0x5b738d(0x3d4)][_0x5b738d(0x6a8)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x340884=_0x40d2c0['value']['trim'](),_0x43dd93=await gradeShortAnswer(_0x340884,_0x4e10c8);}else{const _0x2a4333=document[_0x5b738d(0xa01)](_0x5b738d(0xa0b));if(!_0x2a4333||_0x2a4333['value']===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x340884=_0x2a4333[_0x5b738d(0x3d4)];switch(_0x274f3e){case _0x5b738d(0xc4d):_0x43dd93=_0x340884===_0x5b738d(0x9b7)===_0x4e10c8['correctAnswer'];break;case _0x5b738d(0xbd6):_0x43dd93=_0x340884===_0x4e10c8[_0x5b738d(0x8e8)];break;default:_0x43dd93=parseInt(_0x340884)===_0x4e10c8['correctAnswerIndex'];break;}}const _0x1e272c={'questionIndex':localQuestionIndex,'isCorrect':_0x43dd93},_0x49654a=userId,_0x4298a4={[_0x5b738d(0x7c1)+_0x49654a+'.answers']:arrayUnion(_0x1e272c)};_0x43dd93&&(_0x4298a4[_0x5b738d(0x7c1)+_0x49654a+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x5b738d(0x73f)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x4298a4),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x5b738d(0x4a2)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x1ff1f7){console['error'](_0x5b738d(0x38f),_0x1ff1f7),showMessage(_0x5b738d(0x75d));}}async function handleTeamAnswerSubmit(){const _0x28496e=_0xa39756,_0x5f1ec7=await getDoc(doc(db,'artifacts/'+appId+_0x28496e(0x8d3),currentTeamQuizId));if(!_0x5f1ec7['exists']())return;const _0x41c1f3=_0x5f1ec7[_0x28496e(0x3d7)]();if(_0x41c1f3[_0x28496e(0x8bf)]===_0x28496e(0x7d5)){handleGroupAnswerSubmit();return;}const _0x2194f7=localTeamPlayers[localPlayerIndex],_0x3c78a4=currentQuizData[_0x28496e(0x4a2)][localQuestionIndex],_0x166cc5=_0x3c78a4[_0x28496e(0x672)]||currentQuizData[_0x28496e(0x28e)];let _0x56e7a2=null,_0x1f313e=![];if(_0x166cc5===_0x28496e(0x880)||_0x166cc5===_0x28496e(0xbac)){const _0x46e8c4=document[_0x28496e(0xa01)](_0x28496e(0x5fe));if(!_0x46e8c4||!_0x46e8c4[_0x28496e(0x3d4)][_0x28496e(0x6a8)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x56e7a2=_0x46e8c4[_0x28496e(0x3d4)][_0x28496e(0x6a8)](),_0x1f313e=await gradeShortAnswer(_0x56e7a2,_0x3c78a4);}else{const _0x382586=document['querySelector'](_0x28496e(0xa0b));if(!_0x382586||_0x382586['value']===''){showMessage(_0x28496e(0x361));return;}_0x56e7a2=_0x382586[_0x28496e(0x3d4)];switch(_0x166cc5){case _0x28496e(0xc4d):_0x1f313e=_0x56e7a2===_0x28496e(0x9b7)===_0x3c78a4[_0x28496e(0xdae)];break;case _0x28496e(0xbd6):_0x1f313e=_0x56e7a2===_0x3c78a4[_0x28496e(0x8e8)];break;default:_0x1f313e=parseInt(_0x56e7a2)===_0x3c78a4['correctAnswerIndex'];break;}}const _0x1888b5={'questionIndex':localQuestionIndex,'isCorrect':_0x1f313e,'answerValue':_0x56e7a2},_0x32f4c7={[_0x28496e(0x9a1)+_0x2194f7+_0x28496e(0x4f5)]:arrayUnion(_0x1888b5)};_0x1f313e&&(_0x32f4c7[_0x28496e(0x9a1)+_0x2194f7+_0x28496e(0x767)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x28496e(0x8d3),currentTeamQuizId),_0x32f4c7),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x28496e(0x7c7)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x2478a6){console[_0x28496e(0xd73)](_0x28496e(0x257),_0x2478a6),showMessage(_0x28496e(0x75d));}}async function displayTeamQuizFinalResults(){const _0x1b7ab2=_0xa39756;studentQuizArea[_0x1b7ab2(0xa57)][_0x1b7ab2(0x8de)](_0x1b7ab2(0xcb3)),studentResultArea[_0x1b7ab2(0xa57)][_0x1b7ab2(0x586)]('hidden');const _0x2a36b7=doc(db,'artifacts/'+appId+_0x1b7ab2(0x8d3),currentTeamQuizId),_0x2a9a8e=await getDoc(_0x2a36b7);if(!_0x2a9a8e['exists']()){studentResultArea[_0x1b7ab2(0x878)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x2db345=_0x2a9a8e[_0x1b7ab2(0x3d7)]();let _0x28d942=[];const _0x216a19=_0x2db345[_0x1b7ab2(0x8bf)]||'team';if(_0x216a19===_0x1b7ab2(0x7d5)){const _0x175047=_0x2db345['groups'][userId];_0x175047?_0x28d942=[{'name':_0x1b7ab2(0x709)+localTeamPlayers[_0x1b7ab2(0xb7d)](',\x20'),'score':_0x175047['score']||0x0}]:_0x28d942=[{'name':_0x1b7ab2(0xa0a),'score':_0x1b7ab2(0xa5b)}];}else _0x28d942=localTeamPlayers[_0x1b7ab2(0x218)](_0x37f026=>({'name':_0x37f026,'score':_0x2db345[_0x1b7ab2(0x4cc)][_0x37f026]?.[_0x1b7ab2(0x3e4)]||0x0}))[_0x1b7ab2(0xcbf)]((_0x1d1749,_0x30750f)=>_0x30750f['score']-_0x1d1749[_0x1b7ab2(0x3e4)]);studentResultArea[_0x1b7ab2(0x878)]=_0x1b7ab2(0xb03)+_0x28d942[_0x1b7ab2(0x218)](_0x5bd10d=>_0x1b7ab2(0x7cd)+_0x5bd10d[_0x1b7ab2(0x4ee)]+_0x1b7ab2(0x666)+_0x5bd10d[_0x1b7ab2(0x3e4)]+_0x1b7ab2(0x862))[_0x1b7ab2(0xb7d)]('')+_0x1b7ab2(0x6d3),sessionStorage[_0x1b7ab2(0x888)](_0x1b7ab2(0xd78)),currentMode===_0x1b7ab2(0x962)&&currentTeamQuizId&&setTimeout(()=>{const _0x2dea50=_0x1b7ab2;deleteDoc(doc(db,'artifacts/'+appId+_0x2dea50(0x8d3),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0xa39756(0xad2),'pinnedProjects':[],'projectView':_0xa39756(0x7ad)};const allMathTopics=[{'category':_0xa39756(0xd3d),'name':_0xa39756(0x74d)},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x360)},{'category':_0xa39756(0xd3d),'name':'การปัดเศษและประมาณค่า'},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x594)},{'category':_0xa39756(0xd3d),'name':'การบวก'},{'category':'จำนวนและการดำเนินการ','name':_0xa39756(0x872)},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x654)},{'category':_0xa39756(0xd3d),'name':'การหาร'},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x56d)},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x833)},{'category':_0xa39756(0xd3d),'name':_0xa39756(0xae7)},{'category':_0xa39756(0xd3d),'name':_0xa39756(0xb9e)},{'category':_0xa39756(0xd3d),'name':'เส้นจำนวน'},{'category':_0xa39756(0xd3d),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0xa39756(0xd3d),'name':_0xa39756(0xd67)},{'category':'จำนวนและการดำเนินการ','name':_0xa39756(0xd41)},{'category':_0xa39756(0xd3d),'name':'อัตราส่วนและสัดส่วน'},{'category':_0xa39756(0xd3d),'name':'อัตราและอัตราหน่วย'},{'category':_0xa39756(0xd3d),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0xa39756(0xd3d),'name':'การบวกเศษส่วน'},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x678)},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x248)},{'category':'จำนวนและการดำเนินการ','name':_0xa39756(0x46f)},{'category':_0xa39756(0xd3d),'name':'จำนวนคละ'},{'category':_0xa39756(0xd3d),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0xa39756(0xd3d),'name':_0xa39756(0xc0c)},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x757)},{'category':'จำนวนและการดำเนินการ','name':'การคูณทศนิยม'},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x4e5)},{'category':_0xa39756(0xd3d),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0xa39756(0x232)},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x601)},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x2ad)},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x55f)},{'category':_0xa39756(0xd3d),'name':'รากที่สองและที่สาม'},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x346)},{'category':_0xa39756(0xd3d),'name':_0xa39756(0x430)},{'category':_0xa39756(0x429),'name':_0xa39756(0x20b)},{'category':'การวัด','name':_0xa39756(0x999)},{'category':_0xa39756(0x429),'name':_0xa39756(0x682)},{'category':_0xa39756(0x429),'name':_0xa39756(0x9ff)},{'category':'การวัด','name':_0xa39756(0x842)},{'category':_0xa39756(0x429),'name':'เส้นรอบรูป'},{'category':'การวัด','name':_0xa39756(0x849)},{'category':_0xa39756(0x429),'name':'พื้นที่สามเหลี่ยม'},{'category':'การวัด','name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0xa39756(0x429),'name':_0xa39756(0xc0f)},{'category':'การวัด','name':_0xa39756(0x96f)},{'category':_0xa39756(0x429),'name':_0xa39756(0x5d5)},{'category':_0xa39756(0x429),'name':_0xa39756(0x5d8)},{'category':'การวัด','name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0xa39756(0x2c1),'name':_0xa39756(0xca3)},{'category':'เรขาคณิต','name':_0xa39756(0x7c9)},{'category':_0xa39756(0x2c1),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0xa39756(0x2c1),'name':_0xa39756(0x736)},{'category':'เรขาคณิต','name':_0xa39756(0xdc2)},{'category':_0xa39756(0x2c1),'name':_0xa39756(0x577)},{'category':_0xa39756(0x2c1),'name':_0xa39756(0x28d)},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0xa39756(0x2c1),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0xa39756(0x2c1),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':'เรขาคณิต','name':_0xa39756(0x48f)},{'category':_0xa39756(0x2c1),'name':_0xa39756(0x5b5)},{'category':_0xa39756(0x2c1),'name':_0xa39756(0xa8a)},{'category':_0xa39756(0x2c1),'name':_0xa39756(0x252)},{'category':'เรขาคณิต','name':_0xa39756(0x6f8)},{'category':_0xa39756(0x4cd),'name':_0xa39756(0xc18)},{'category':_0xa39756(0x4cd),'name':_0xa39756(0xaf5)},{'category':_0xa39756(0x4cd),'name':_0xa39756(0xd88)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xa39756(0x4d5)},{'category':_0xa39756(0x4cd),'name':_0xa39756(0x789)},{'category':_0xa39756(0x4cd),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0xa39756(0x4cd),'name':_0xa39756(0x6fb)},{'category':_0xa39756(0x4cd),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0xa39756(0x4cd),'name':'สมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเหตุผล\x20(rational)'},{'category':_0xa39756(0x4cd),'name':_0xa39756(0x8ec)},{'category':_0xa39756(0x4cd),'name':_0xa39756(0xc5a)},{'category':_0xa39756(0x4cd),'name':_0xa39756(0x7ed)},{'category':_0xa39756(0x4cd),'name':_0xa39756(0x447)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการค่าสัมบูรณ์'},{'category':_0xa39756(0x4cd),'name':_0xa39756(0x675)},{'category':_0xa39756(0x4cd),'name':_0xa39756(0xa78)},{'category':_0xa39756(0x4cd),'name':_0xa39756(0x966)},{'category':_0xa39756(0x4cd),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0xa39756(0x4cd),'name':_0xa39756(0x9ca)},{'category':_0xa39756(0x4cd),'name':_0xa39756(0x5be)},{'category':_0xa39756(0x4cd),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xa39756(0xdd5)},{'category':_0xa39756(0x4cd),'name':_0xa39756(0x2e0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xa39756(0x9f1)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันราก\x20(root)'},{'category':_0xa39756(0x4cd),'name':_0xa39756(0x420)},{'category':_0xa39756(0x4cd),'name':_0xa39756(0xde7)},{'category':_0xa39756(0x4cd),'name':'ฟังก์ชันยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xa39756(0xa99)},{'category':_0xa39756(0x4cd),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0xa39756(0x4cd),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xa39756(0xba3)},{'category':'พีชคณิตและฟังก์ชัน','name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0xa39756(0x4cd),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':'เรขาคณิตวิเคราะห์','name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0xa39756(0x6db),'name':_0xa39756(0xaf1)},{'category':_0xa39756(0x6db),'name':_0xa39756(0xb62)},{'category':_0xa39756(0x6db),'name':_0xa39756(0x4a1)},{'category':_0xa39756(0x6db),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0xa39756(0x6db),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0xa39756(0x6db),'name':_0xa39756(0xb50)},{'category':_0xa39756(0x6db),'name':_0xa39756(0x347)},{'category':_0xa39756(0x6db),'name':_0xa39756(0xb89)},{'category':_0xa39756(0x4a9),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0xa39756(0x4a9),'name':_0xa39756(0xb72)},{'category':_0xa39756(0x4a9),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0xa39756(0x4a9),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0xa39756(0x4a9),'name':_0xa39756(0xdc7)},{'category':'ตรีโกณมิติ','name':_0xa39756(0x419)},{'category':_0xa39756(0x4a9),'name':_0xa39756(0x2d4)},{'category':_0xa39756(0x4a9),'name':_0xa39756(0x3fd)},{'category':'ตรีโกณมิติ','name':_0xa39756(0xb80)},{'category':_0xa39756(0x4a9),'name':_0xa39756(0x96e)},{'category':_0xa39756(0x4a9),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x4ea)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0xa9d)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x2c0)},{'category':_0xa39756(0x8d8),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x2e3)},{'category':'สถิติและความน่าจะเป็น','name':_0xa39756(0x493)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x688)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0xbd7)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0xa15)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x412)},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x820)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0xafe)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0xc7c)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x597)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x80b)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x8eb)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x72b)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x9fe)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x371)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x6a7)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x527)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0x72e)},{'category':_0xa39756(0x8d8),'name':_0xa39756(0xa36)},{'category':_0xa39756(0x609),'name':_0xa39756(0xa30)},{'category':_0xa39756(0x609),'name':_0xa39756(0x411)},{'category':'แคลคูลัสเบื้องต้น','name':_0xa39756(0x859)},{'category':_0xa39756(0x609),'name':_0xa39756(0x344)},{'category':_0xa39756(0x609),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0xa39756(0x609),'name':_0xa39756(0x952)},{'category':_0xa39756(0x609),'name':_0xa39756(0x855)},{'category':'แคลคูลัสเบื้องต้น','name':_0xa39756(0xd72)},{'category':_0xa39756(0x609),'name':_0xa39756(0x59e)},{'category':_0xa39756(0x609),'name':_0xa39756(0x362)},{'category':_0xa39756(0x609),'name':'ปริพันธ์จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0xa39756(0x609),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0xa39756(0x85f),'name':_0xa39756(0x756)},{'category':_0xa39756(0x85f),'name':_0xa39756(0x50d)},{'category':_0xa39756(0x85f),'name':_0xa39756(0xaaa)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0xa39756(0xbf0)},{'category':_0xa39756(0x85f),'name':_0xa39756(0xb6d)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0xa39756(0x251)},{'category':_0xa39756(0x85f),'name':_0xa39756(0xa60)},{'category':'คณิตการเงิน/บูรณาการ','name':_0xa39756(0x9ae)},{'category':_0xa39756(0x94c),'name':_0xa39756(0xb5e)},{'category':_0xa39756(0x94c),'name':_0xa39756(0x211)},{'category':_0xa39756(0x94c),'name':_0xa39756(0xdf8)},{'category':_0xa39756(0x94c),'name':_0xa39756(0x6a6)},{'category':_0xa39756(0x73b),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'รูปแบบการให้เหตุผล'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0xa39756(0xd56)}];function renderTopicCheckboxes(){const _0x143f6e=_0xa39756,_0x4df4d5=document[_0x143f6e(0x8fb)](_0x143f6e(0xc87));if(!_0x4df4d5)return;const _0x1bb77f=allMathTopics,_0x13b36e=customMathTopics[_0x143f6e(0x218)](_0x159c14=>({'id':_0x159c14['id'],'category':_0x143f6e(0x7a1),'name':_0x159c14['name']})),_0x1932d2=[..._0x1bb77f,..._0x13b36e],_0x121e2e=_0x1932d2[_0x143f6e(0x8a8)]((_0x787138,_0x1563b1)=>{const _0x7ca1fd=_0x143f6e;return!_0x787138[_0x1563b1[_0x7ca1fd(0x5dd)]]&&(_0x787138[_0x1563b1[_0x7ca1fd(0x5dd)]]=[]),_0x787138[_0x1563b1['category']]['push'](_0x1563b1),_0x787138;},{});let _0x5455d7='';const _0x187ed5=[_0x143f6e(0x7a1),...Object[_0x143f6e(0x65c)](_0x121e2e)[_0x143f6e(0x4da)](_0x2a22b2=>_0x2a22b2!==_0x143f6e(0x7a1))];for(const _0x5ef912 of _0x187ed5){if(_0x121e2e[_0x5ef912]){const _0x314578=_0x5ef912===_0x143f6e(0x7a1),_0x2528fe=_0x314578?'fas\x20fa-user-edit':_0x143f6e(0x2bf),_0x5acdfa=_0x314578?_0x143f6e(0x4be):'text-indigo-700';_0x5455d7+=_0x143f6e(0x5ec),_0x5455d7+=_0x143f6e(0xb6a)+_0x5acdfa+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x2528fe+'\x20mr-2\x22></i>'+_0x5ef912+'</p>',_0x121e2e[_0x5ef912]['forEach'](_0x70cc4e=>{const _0x5dcd9d=_0x143f6e,_0x261a4a=!!_0x70cc4e['id'],_0x5c77b4=_0x261a4a?_0x5dcd9d(0x495)+_0x70cc4e['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x70cc4e['id']+_0x5dcd9d(0xa0c)+_0x70cc4e['id']+_0x5dcd9d(0x1fa)+_0x70cc4e['id']+_0x5dcd9d(0x33a):'';_0x5455d7+=_0x5dcd9d(0x38a)+(_0x70cc4e['id']||'')+_0x5dcd9d(0xc90)+_0x70cc4e[_0x5dcd9d(0x4ee)]+_0x5dcd9d(0x75c)+_0x70cc4e['name']+_0x5dcd9d(0x8f5)+(_0x261a4a?_0x5dcd9d(0xd79)+_0x70cc4e[_0x5dcd9d(0x4ee)]+'\x22>':'')+_0x5dcd9d(0x69d)+_0x5c77b4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x5455d7+='</div>';}}_0x4df4d5[_0x143f6e(0x878)]=_0x5455d7||_0x143f6e(0xafc),_0x4df4d5['removeEventListener']('change',updateSelectedTopicsCount),_0x4df4d5[_0x143f6e(0xb95)](_0x143f6e(0x552),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x1607c0,_0x1b0521){const _0x56ece4=_0xa39756;if(!_0x1607c0||!_0x1b0521[_0x56ece4(0x6a8)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x137b56=doc(db,'artifacts/'+appId+'/public/data/customMathTopics',_0x1607c0);await updateDoc(_0x137b56,{'name':_0x1b0521[_0x56ece4(0x6a8)]()}),showMessage(_0x56ece4(0xd5e));}catch(_0xec4954){console[_0x56ece4(0xd73)]('Error\x20updating\x20custom\x20topic:',_0xec4954),showMessage(_0x56ece4(0xd87));}}function toggleTopicEditMode(_0x590c70,_0x5568e0){const _0xdc54a4=_0xa39756;if(!_0x590c70)return;const _0x668c44=_0x590c70[_0xdc54a4(0xa01)](_0xdc54a4(0x94f)),_0x5594ca=_0x590c70['querySelector'](_0xdc54a4(0x34d)),_0x2b1ef4=_0x590c70['querySelector'](_0xdc54a4(0x424)),_0x1537fe=_0x590c70['querySelector'](_0xdc54a4(0x3a4));_0x668c44[_0xdc54a4(0xa57)][_0xdc54a4(0x636)]('hidden',_0x5568e0),_0x5594ca[_0xdc54a4(0xa57)]['toggle'](_0xdc54a4(0xcb3),!_0x5568e0),_0x2b1ef4[_0xdc54a4(0xa57)][_0xdc54a4(0x636)](_0xdc54a4(0xcb3),_0x5568e0),_0x1537fe['classList'][_0xdc54a4(0x636)](_0xdc54a4(0xcb3),!_0x5568e0),_0x5568e0&&(_0x5594ca[_0xdc54a4(0x515)](),_0x5594ca[_0xdc54a4(0x36b)]());}async function handleStartLiveRace(_0x295fa9){const _0x4b9a39=_0xa39756;let _0x39b5b5=allQuizzes['find'](_0x1f8a91=>_0x1f8a91['id']===_0x295fa9);if(!_0x39b5b5){const _0x2264c1=doc(db,_0x4b9a39(0x73f)+appId+'/public/data/quizzes',_0x295fa9),_0x1f258f=await getDoc(_0x2264c1);if(!_0x1f258f['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x39b5b5={'id':_0x1f258f['id'],..._0x1f258f['data']()};}const _0x2b14d0=getShuffledQuiz(_0x39b5b5);currentQuizData=_0x2b14d0;const _0xe22956=_0x39b5b5['projectId']||currentProjectId||null,_0x2cff1e=Math[_0x4b9a39(0x997)](0x3e8+Math[_0x4b9a39(0x35e)]()*0x2328)['toString']();currentLiveGamePin=_0x2cff1e;try{const _0x261eb4=await addDoc(collection(db,_0x4b9a39(0x73f)+appId+_0x4b9a39(0xd19)),{'quizId':_0x295fa9,'projectId':_0xe22956,'status':_0x4b9a39(0xa07),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2cff1e,'createdAt':serverTimestamp(),'shuffledQuiz':_0x2b14d0});currentLiveGameId=_0x261eb4['id'],showAdminLobbyView(_0x2cff1e,_0x39b5b5['topic']),listenForLiveGameUpdates();}catch(_0x4b9c9f){console['error'](_0x4b9a39(0x3d9),_0x4b9c9f),showMessage(_0x4b9a39(0x20c));}}function updateSelectedTopicsCount(){const _0x5af9cd=_0xa39756,_0x45054d=document[_0x5af9cd(0x8fb)](_0x5af9cd(0xc87)),_0x396b05=_0x45054d[_0x5af9cd(0x6aa)](_0x5af9cd(0xdbc))[_0x5af9cd(0x7c7)],_0x1a3166=document['getElementById'](_0x5af9cd(0xc67));_0x396b05>0x0?_0x1a3166[_0x5af9cd(0xa47)]=_0x5af9cd(0x4c2)+_0x396b05+_0x5af9cd(0xd85):_0x1a3166[_0x5af9cd(0xa47)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0xa39756(0x79f),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0xa39756(0x5e2),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0xa39756(0x780),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0xa39756(0x4f0),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x2867c8,_0x538dba){const _0x79e6ec=_0xa39756;return Math[_0x79e6ec(0xbe3)](Math['pow'](_0x2867c8['x']-_0x538dba['x'],0x2)+Math['pow'](_0x2867c8['y']-_0x538dba['y'],0x2));}function getMidpoint(_0x2a5395,_0x24b6f2){return{'x':(_0x2a5395['x']+_0x24b6f2['x'])/0x2,'y':(_0x2a5395['y']+_0x24b6f2['y'])/0x2};}function getTransformedPoint(_0x3a3e5e,_0x1c7507){return{'x':(_0x3a3e5e-scratchpadOffset['x'])/scratchpadScale,'y':(_0x1c7507-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x212286=_0xa39756;if(!scratchpadCtx)return;const _0x5d95b8=scratchpadCtx[_0x212286(0x2b9)],_0xe4a0de=window[_0x212286(0x9d2)]||0x1,_0x3303af=document[_0x212286(0x8fb)]('scratchpad-header');_0x3303af&&(_0x3303af[_0x212286(0x4b4)]['transformOrigin']=_0x212286(0x7f8),_0x3303af[_0x212286(0x4b4)][_0x212286(0x33e)]=_0x212286(0xa10)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x212286(0x813)+scratchpadScale+')'),scratchpadCtx[_0x212286(0x63c)](),scratchpadCtx[_0x212286(0x57d)](_0xe4a0de,0x0,0x0,_0xe4a0de,0x0,0x0),scratchpadCtx[_0x212286(0xd48)](0x0,0x0,_0x5d95b8[_0x212286(0xa67)],_0x5d95b8['height']),scratchpadCtx['restore'](),scratchpadCtx[_0x212286(0x63c)](),scratchpadCtx[_0x212286(0xb7b)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x212286(0x432)](scratchpadScale,scratchpadScale),strokes[_0x212286(0x71e)](_0x1a1983=>{drawStroke(_0x1a1983);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x212286(0xb67)]();}function renderGroupModeQuestion(){const _0x333d0c=_0xa39756;if(localQuestionIndex>=currentQuizData[_0x333d0c(0x4a2)]['length']){displayTeamQuizFinalResults();return;}const _0x35e9e6=currentQuizData[_0x333d0c(0x4a2)][localQuestionIndex],_0x2eb6a8=_0x35e9e6['questionType']||currentQuizData[_0x333d0c(0x28e)];let _0x1a5d95=_0x35e9e6['stem']||_0x35e9e6[_0x333d0c(0xcd1)],_0x5257a5='';switch(_0x2eb6a8){case _0x333d0c(0x525):case'fill_in_with_choices':_0x5257a5=_0x35e9e6[_0x333d0c(0x9af)]['map']((_0x434c99,_0x20833f)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x20833f+_0x333d0c(0x9b5)+_0x20833f+_0x333d0c(0x5a6)+_0x20833f+'\x22>'+_0x434c99+'</label></div>')[_0x333d0c(0xb7d)]('');break;case _0x333d0c(0xc4d):_0x5257a5=_0x333d0c(0x3e7);break;case'short_answer':case _0x333d0c(0xbac):_0x5257a5=_0x333d0c(0x291);break;case _0x333d0c(0xbd6):_0x5257a5=_0x333d0c(0x3c4)+_0x35e9e6[_0x333d0c(0x23b)][_0x333d0c(0x218)](_0x2b7640=>_0x333d0c(0xbb2)+_0x2b7640+'\x22>'+_0x2b7640+_0x333d0c(0x3de))[_0x333d0c(0xb7d)]('')+_0x333d0c(0xa9e);break;default:_0x5257a5='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea[_0x333d0c(0x878)]=_0x333d0c(0x2c8)+(localQuestionIndex+0x1)+_0x333d0c(0x48d)+currentQuizData[_0x333d0c(0x4a2)][_0x333d0c(0x7c7)]+_0x333d0c(0x836)+localTeamPlayers[_0x333d0c(0xb7d)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x1a5d95+_0x333d0c(0x227)+(_0x35e9e6['imageCode']?_0x333d0c(0x58b)+_0x35e9e6[_0x333d0c(0xd93)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x5257a5+_0x333d0c(0x679),studentQuizArea['classList'][_0x333d0c(0x586)](_0x333d0c(0xcb3));if(window[_0x333d0c(0xb54)])MathJax[_0x333d0c(0xa3f)]([studentQuizArea]);document[_0x333d0c(0x8fb)](_0x333d0c(0x848))['addEventListener'](_0x333d0c(0x305),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x1b011b,_0x1daaf5=null,_0x112d64,_0x1df573=null,_0x973985=![],_0x894cc2=null){const _0x42e886=_0xa39756,_0x14a715=document[_0x42e886(0x8fb)]('quiz-generation-area');_0x14a715&&_0x14a715[_0x42e886(0xd5f)]({'behavior':'smooth','block':_0x42e886(0x704)}),generateQuiz(_0x1b011b,_0x1daaf5,null,_0x894cc2,!![],_0x112d64,_0x1df573,_0x973985);}function handleGenerateAndShowLesson(_0x3e4d40,_0x2888b3){const _0x1746b8=_0xa39756,_0x43db3f=document[_0x1746b8(0x8fb)](_0x1746b8(0xc50)),_0x25dcbe=document[_0x1746b8(0x8fb)]('lesson-view-title'),_0x37a6d2=document[_0x1746b8(0x8fb)](_0x1746b8(0x955)),_0xb2aaca=document['getElementById'](_0x1746b8(0x7b5));[_0x1746b8(0x769),'memoryContent',_0x1746b8(0x6cf),_0x1746b8(0x249)][_0x1746b8(0x71e)](_0x285167=>{const _0x414e15=_0x1746b8,_0x3b092b=document[_0x414e15(0x8fb)](_0x285167)[_0x414e15(0x5a3)];_0x3b092b&&(_0x3b092b['style'][_0x414e15(0x8fc)]=_0x414e15(0x600));}),_0x25dcbe['textContent']='กำลังสร้างบทเรียน:\x20'+_0x3e4d40,_0xb2aaca[_0x1746b8(0xa57)]['add'](_0x1746b8(0xcb3)),_0x37a6d2[_0x1746b8(0xa57)][_0x1746b8(0x586)](_0x1746b8(0xcb3)),_0x43db3f[_0x1746b8(0xa57)][_0x1746b8(0x586)](_0x1746b8(0xcb3)),generateLesson(_0x3e4d40,_0x2888b3)['catch'](_0x30d4fe=>{const _0x3923ac=_0x1746b8;console[_0x3923ac(0xd73)](_0x3923ac(0xa8b),_0x30d4fe),showMessage(_0x3923ac(0x67d)),_0x43db3f[_0x3923ac(0xa57)][_0x3923ac(0x8de)](_0x3923ac(0xcb3));});}function handlePointerDown(_0x52a004){const _0x487c9c=_0xa39756;_0x52a004['preventDefault']();const _0x2a70a2=scratchpadCtx[_0x487c9c(0x2b9)],_0x181580=_0x2a70a2[_0x487c9c(0xd13)](),_0x5c63df=_0x52a004['pointerType']||(_0x52a004[_0x487c9c(0xd58)]?_0x487c9c(0xbf7):_0x487c9c(0x7e9));if(_0x5c63df==='pen'||_0x5c63df===_0x487c9c(0x7e9)){if(_0x52a004[_0x487c9c(0x3a3)]===_0x487c9c(0x7e9)&&_0x52a004[_0x487c9c(0x54e)]!==0x0){_0x52a004[_0x487c9c(0x54e)]===0x1&&(isMousePanning=!![],panStart={'x':_0x52a004[_0x487c9c(0xd9c)],'y':_0x52a004[_0x487c9c(0x65e)]},_0x2a70a2[_0x487c9c(0x4b4)][_0x487c9c(0xc05)]=_0x487c9c(0xaae));return;}activeTool===_0x487c9c(0xbf9)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x519f30=getTransformedPoint(_0x52a004[_0x487c9c(0xd9c)]-_0x181580[_0x487c9c(0x256)],_0x52a004[_0x487c9c(0x65e)]-_0x181580['top']);let _0x3637ef={'tool':activeTool,'points':[_0x519f30]};if(activeTool===_0x487c9c(0x901))_0x3637ef[_0x487c9c(0x583)]=scratchpadPenColor,_0x3637ef[_0x487c9c(0x73a)]=scratchpadPenSize;else{if(activeTool==='eraser')_0x3637ef[_0x487c9c(0x583)]=scratchpadPenColor,_0x3637ef[_0x487c9c(0x73a)]=scratchpadEraserSize;else{if(activeTool==='highlighter')_0x3637ef['color']=scratchpadHighlighterColor,_0x3637ef[_0x487c9c(0x73a)]=scratchpadHighlighterSize;else activeTool===_0x487c9c(0xbf9)&&(_0x3637ef['color']=scratchpadPenColor,_0x3637ef[_0x487c9c(0x73a)]=scratchpadPenSize);}}currentStroke=_0x3637ef;}else _0x52a004[_0x487c9c(0xd58)]&&(_0x52a004['touches'][_0x487c9c(0x7c7)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x52a004[_0x487c9c(0xd58)][0x0][_0x487c9c(0xd9c)],'y':_0x52a004['touches'][0x0][_0x487c9c(0x65e)]},{'x':_0x52a004[_0x487c9c(0xd58)][0x1][_0x487c9c(0xd9c)],'y':_0x52a004['touches'][0x1][_0x487c9c(0x65e)]}),initialPinchDistance=getDistance({'x':_0x52a004[_0x487c9c(0xd58)][0x0]['clientX'],'y':_0x52a004[_0x487c9c(0xd58)][0x0][_0x487c9c(0x65e)]},{'x':_0x52a004[_0x487c9c(0xd58)][0x1]['clientX'],'y':_0x52a004[_0x487c9c(0xd58)][0x1]['clientY']})));}function animateTrail(){const _0x31e446=_0xa39756,_0x1bad9d=Date['now']();let _0x3bac39=![];for(let _0x51c091=strokes[_0x31e446(0x7c7)]-0x1;_0x51c091>=0x0;_0x51c091--){const _0x2f10d3=strokes[_0x51c091];if(_0x2f10d3[_0x31e446(0x259)]===_0x31e446(0xbf9)&&_0x2f10d3[_0x31e446(0x70e)]){const _0x5135ab=_0x1bad9d-_0x2f10d3[_0x31e446(0x70e)];_0x5135ab>=TRAIL_DURATION?strokes[_0x31e446(0x949)](_0x51c091,0x1):(_0x2f10d3[_0x31e446(0x2e6)]=0x1-_0x5135ab/TRAIL_DURATION,_0x3bac39=!![]);}}redrawScratchpad(),_0x3bac39?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x269933){const _0x55f519=_0xa39756;if(!_0x269933||_0x269933[_0x55f519(0x2f6)][_0x55f519(0x7c7)]<0x1)return;scratchpadCtx[_0x55f519(0x63c)](),scratchpadCtx['lineJoin']=_0x55f519(0xb77),scratchpadCtx[_0x55f519(0x367)]=_0x55f519(0xb77);if(_0x269933[_0x55f519(0x259)]===_0x55f519(0xbf9)){const _0x58ae0b=_0x269933[_0x55f519(0x73a)]/scratchpadScale;scratchpadCtx[_0x55f519(0x48c)]=_0x269933[_0x55f519(0x2e6)]??0x1,scratchpadCtx[_0x55f519(0xab9)]=_0x55f519(0x43b),scratchpadCtx[_0x55f519(0xbff)]=_0x58ae0b*0x3,scratchpadCtx[_0x55f519(0xbaa)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x55f519(0xca8)]=_0x58ae0b*2.5,scratchpadCtx[_0x55f519(0x60c)](),scratchpadCtx[_0x55f519(0xb48)](_0x269933[_0x55f519(0x2f6)][0x0]['x'],_0x269933[_0x55f519(0x2f6)][0x0]['y']);for(let _0x397317=0x1;_0x397317<_0x269933[_0x55f519(0x2f6)]['length']-0x1;_0x397317++){const _0x4ebd34=getMidpoint(_0x269933[_0x55f519(0x2f6)][_0x397317],_0x269933[_0x55f519(0x2f6)][_0x397317+0x1]);scratchpadCtx['quadraticCurveTo'](_0x269933[_0x55f519(0x2f6)][_0x397317]['x'],_0x269933['points'][_0x397317]['y'],_0x4ebd34['x'],_0x4ebd34['y']);}scratchpadCtx[_0x55f519(0x964)](),scratchpadCtx[_0x55f519(0xab9)]='transparent',scratchpadCtx[_0x55f519(0xbff)]=0x0,scratchpadCtx['strokeStyle']='#FFFFFF',scratchpadCtx[_0x55f519(0xca8)]=_0x58ae0b,scratchpadCtx[_0x55f519(0x964)](),scratchpadCtx[_0x55f519(0x572)]();}else{if(_0x269933[_0x55f519(0x259)]===_0x55f519(0x21b)){scratchpadCtx[_0x55f519(0x567)]=_0x55f519(0x52b),scratchpadCtx[_0x55f519(0xbaa)]=_0x269933[_0x55f519(0x583)],scratchpadCtx['lineWidth']=_0x269933[_0x55f519(0x73a)],scratchpadCtx[_0x55f519(0x60c)](),scratchpadCtx[_0x55f519(0xb48)](_0x269933['points'][0x0]['x'],_0x269933['points'][0x0]['y']);for(let _0x530cdb=0x1;_0x530cdb<_0x269933[_0x55f519(0x2f6)][_0x55f519(0x7c7)]-0x1;_0x530cdb++){const _0x59ee15=getMidpoint(_0x269933['points'][_0x530cdb],_0x269933[_0x55f519(0x2f6)][_0x530cdb+0x1]);scratchpadCtx[_0x55f519(0x564)](_0x269933[_0x55f519(0x2f6)][_0x530cdb]['x'],_0x269933['points'][_0x530cdb]['y'],_0x59ee15['x'],_0x59ee15['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x55f519(0x572)]();}else{scratchpadCtx[_0x55f519(0x567)]=_0x269933[_0x55f519(0x259)]===_0x55f519(0x504)?_0x55f519(0x6f7):_0x55f519(0xd57),scratchpadCtx[_0x55f519(0xbaa)]=_0x269933['color'],scratchpadCtx[_0x55f519(0xca8)]=_0x269933[_0x55f519(0x73a)],scratchpadCtx[_0x55f519(0x60c)](),scratchpadCtx[_0x55f519(0xb48)](_0x269933['points'][0x0]['x'],_0x269933['points'][0x0]['y']);for(let _0x381cfd=0x1;_0x381cfd<_0x269933[_0x55f519(0x2f6)][_0x55f519(0x7c7)]-0x1;_0x381cfd++){const _0x3b6162=getMidpoint(_0x269933[_0x55f519(0x2f6)][_0x381cfd],_0x269933[_0x55f519(0x2f6)][_0x381cfd+0x1]);scratchpadCtx[_0x55f519(0x564)](_0x269933[_0x55f519(0x2f6)][_0x381cfd]['x'],_0x269933[_0x55f519(0x2f6)][_0x381cfd]['y'],_0x3b6162['x'],_0x3b6162['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x55f519(0xb67)]();}function handlePointerMove(_0x4ac527){const _0x136ec1=_0xa39756;_0x4ac527[_0x136ec1(0xc6f)]();const _0x3ee5aa=scratchpadCtx[_0x136ec1(0x2b9)],_0x636f11=_0x3ee5aa[_0x136ec1(0xd13)]();if(_0x4ac527[_0x136ec1(0xd58)]){if(_0x4ac527['touches'][_0x136ec1(0x7c7)]===0x1&&isDrawingOnScratchpad){const _0x2036a4=getTransformedPoint(_0x4ac527['touches'][0x0][_0x136ec1(0xd9c)]-_0x636f11[_0x136ec1(0x256)],_0x4ac527[_0x136ec1(0xd58)][0x0]['clientY']-_0x636f11[_0x136ec1(0x4b1)]);currentStroke[_0x136ec1(0x2f6)][_0x136ec1(0xbdd)](_0x2036a4),redrawScratchpad();}else{if(_0x4ac527[_0x136ec1(0xd58)]['length']===0x2&&isPanning){const _0x409255=getDistance({'x':_0x4ac527[_0x136ec1(0xd58)][0x0][_0x136ec1(0xd9c)],'y':_0x4ac527['touches'][0x0]['clientY']},{'x':_0x4ac527['touches'][0x1][_0x136ec1(0xd9c)],'y':_0x4ac527[_0x136ec1(0xd58)][0x1][_0x136ec1(0x65e)]}),_0x2de4e3=getMidpoint({'x':_0x4ac527[_0x136ec1(0xd58)][0x0][_0x136ec1(0xd9c)],'y':_0x4ac527[_0x136ec1(0xd58)][0x0]['clientY']},{'x':_0x4ac527[_0x136ec1(0xd58)][0x1]['clientX'],'y':_0x4ac527[_0x136ec1(0xd58)][0x1][_0x136ec1(0x65e)]}),_0x1697ef=_0x409255/ initialPinchDistance,_0x2f6f55=Math[_0x136ec1(0x334)](Math['max'](scratchpadScale*_0x1697ef,MIN_SCALE),MAX_SCALE),_0x39dfad=_0x2de4e3['x']-panStart['x'],_0x354ca1=_0x2de4e3['y']-panStart['y'];scratchpadOffset['x']=_0x2de4e3['x']-(_0x2de4e3['x']-scratchpadOffset['x'])*(_0x2f6f55/scratchpadScale),scratchpadOffset['y']=_0x2de4e3['y']-(_0x2de4e3['y']-scratchpadOffset['y'])*(_0x2f6f55/scratchpadScale),scratchpadOffset['x']+=_0x39dfad,scratchpadOffset['y']+=_0x354ca1,scratchpadScale=_0x2f6f55,initialPinchDistance=_0x409255,panStart=_0x2de4e3,redrawScratchpad();}}}else{if(isMousePanning){const _0x4f16d9=_0x4ac527['clientX']-panStart['x'],_0x154799=_0x4ac527['clientY']-panStart['y'];scratchpadOffset['x']+=_0x4f16d9,scratchpadOffset['y']+=_0x154799,panStart={'x':_0x4ac527['clientX'],'y':_0x4ac527[_0x136ec1(0x65e)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x33bb73=getTransformedPoint(_0x4ac527[_0x136ec1(0xd9c)]-_0x636f11[_0x136ec1(0x256)],_0x4ac527[_0x136ec1(0x65e)]-_0x636f11[_0x136ec1(0x4b1)]);currentStroke[_0x136ec1(0x2f6)][_0x136ec1(0xbdd)](_0x33bb73),redrawScratchpad();}}}}function handlePointerUp(_0x474e3a){const _0x2da62f=_0xa39756;_0x474e3a[_0x2da62f(0xc6f)]();const _0x3da58c=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x3da58c[_0x2da62f(0x4b4)][_0x2da62f(0xc05)]=_0x2da62f(0x892)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x2da62f(0x2f6)]['length']>0x1&&(strokes[_0x2da62f(0xbdd)](currentStroke),currentStroke[_0x2da62f(0x259)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x5ae60b=_0x2da62f,_0x25570d=strokes['filter'](_0x7c5588=>_0x7c5588[_0x5ae60b(0x259)]==='trail'&&!_0x7c5588[_0x5ae60b(0x70e)]);if(_0x25570d['length']>0x0){const _0x57b59d=Date[_0x5ae60b(0xcad)]();_0x25570d['forEach'](_0x349298=>_0x349298['fadeStartTime']=_0x57b59d),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x422db2){const _0x49644d=_0xa39756;_0x422db2['preventDefault']();const _0x5232ed=_0x422db2[_0x49644d(0x9e7)]*-0.005,_0x5ed2b9=Math[_0x49644d(0x334)](Math[_0x49644d(0xcd3)](scratchpadScale+_0x5232ed,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x422db2['clientX']-(_0x422db2[_0x49644d(0xd9c)]-scratchpadOffset['x'])*(_0x5ed2b9/scratchpadScale),scratchpadOffset['y']=_0x422db2['clientY']-(_0x422db2[_0x49644d(0x65e)]-scratchpadOffset['y'])*(_0x5ed2b9/scratchpadScale),scratchpadScale=_0x5ed2b9,redrawScratchpad();}function undo(){const _0x257b07=_0xa39756;strokes[_0x257b07(0x7c7)]>0x0&&(redoStrokes['push'](strokes[_0x257b07(0x805)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x26805b=_0xa39756;redoStrokes['length']>0x0&&(strokes[_0x26805b(0xbdd)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x9bbe1f=_0xa39756;document['getElementById'](_0x9bbe1f(0x7df))[_0x9bbe1f(0xc96)]=strokes['length']===0x0,document['getElementById'](_0x9bbe1f(0x945))[_0x9bbe1f(0xc96)]=redoStrokes[_0x9bbe1f(0x7c7)]===0x0;}function openScratchpad(_0x505611,_0x4b3f50){const _0x3c3500=_0xa39756,_0x25c8e5=document[_0x3c3500(0x8fb)](_0x3c3500(0xcbd)),_0x3d2cad=document[_0x3c3500(0x8fb)]('scratchpad-question'),_0xf75558=document[_0x3c3500(0x8fb)](_0x3c3500(0xab2)),_0x47fc52=document['getElementById'](_0x3c3500(0x61e));_0x3d2cad[_0x3c3500(0x878)]=_0x505611[_0x3c3500(0x722)]||_0x505611[_0x3c3500(0xcd1)],_0xf75558[_0x3c3500(0x878)]=_0x4b3f50[_0x3c3500(0x218)]((_0x240a2d,_0x48ec31)=>_0x3c3500(0x6fd)+String[_0x3c3500(0x6b1)](0x41+_0x48ec31)+'.\x20'+_0x240a2d+_0x3c3500(0x369))[_0x3c3500(0xb7d)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x25c8e5[_0x3c3500(0xa57)]['remove'](_0x3c3500(0xcb3)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x3c3500(0xb54)])MathJax[_0x3c3500(0xa3f)]([_0x3d2cad,_0xf75558]);}function openBlueprintQuizSettings(){const _0x217ea8=_0xa39756,_0xc82c43=document[_0x217ea8(0x8fb)](_0x217ea8(0x69e)),_0x3bd4f4=blueprintPageSettings||(currentProjectData?currentProjectData[_0x217ea8(0x486)]:{})||{};document[_0x217ea8(0x8fb)](_0x217ea8(0x46b))[_0x217ea8(0x3d4)]=_0x3bd4f4[_0x217ea8(0x28e)]||document['getElementById'](_0x217ea8(0x228))[_0x217ea8(0x3d4)],document[_0x217ea8(0x8fb)]('bp-modal-difficulty-level-select')[_0x217ea8(0x878)]=document[_0x217ea8(0x8fb)](_0x217ea8(0xd6a))[_0x217ea8(0x878)],document['getElementById'](_0x217ea8(0xc81))[_0x217ea8(0x3d4)]=_0x3bd4f4[_0x217ea8(0x202)]||document['getElementById'](_0x217ea8(0xd6a))[_0x217ea8(0x3d4)],document['getElementById'](_0x217ea8(0x1f7))['innerHTML']=document[_0x217ea8(0x8fb)](_0x217ea8(0x6d7))['innerHTML'],document['getElementById'](_0x217ea8(0x1f7))[_0x217ea8(0x3d4)]=_0x3bd4f4[_0x217ea8(0xccb)]||document[_0x217ea8(0x8fb)](_0x217ea8(0x6d7))[_0x217ea8(0x3d4)],document[_0x217ea8(0x8fb)]('bp-modal-num-questions')[_0x217ea8(0x3d4)]=_0x3bd4f4[_0x217ea8(0x88a)]||document[_0x217ea8(0x8fb)](_0x217ea8(0x1f0))['value'],document[_0x217ea8(0x8fb)]('bp-modal-passing-score-input')[_0x217ea8(0x3d4)]=_0x3bd4f4[_0x217ea8(0x3df)]||document['getElementById']('passing-score-input')[_0x217ea8(0x3d4)],document['getElementById'](_0x217ea8(0x56b))[_0x217ea8(0x3d4)]=_0x3bd4f4[_0x217ea8(0x83f)]||document['getElementById'](_0x217ea8(0x660))[_0x217ea8(0x3d4)],document['getElementById'](_0x217ea8(0x331))[_0x217ea8(0x3d4)]=_0x3bd4f4[_0x217ea8(0x742)]||document[_0x217ea8(0x8fb)](_0x217ea8(0xba5))[_0x217ea8(0x3d4)],document[_0x217ea8(0x8fb)](_0x217ea8(0x681))[_0x217ea8(0x588)]=_0x3bd4f4['includeImages']||document[_0x217ea8(0x8fb)](_0x217ea8(0x6ef))[_0x217ea8(0x588)],_0xc82c43[_0x217ea8(0xa57)]['remove'](_0x217ea8(0xcb3));}function handleSaveBlueprintPageSettings(){const _0x8753c6=_0xa39756;blueprintPageSettings={'quizType':document[_0x8753c6(0x8fb)](_0x8753c6(0x46b))['value'],'difficultyValue':document['getElementById']('bp-modal-difficulty-level-select')['value'],'complexityValue':document['getElementById']('bp-modal-question-complexity-select')[_0x8753c6(0x3d4)],'numQuestions':document[_0x8753c6(0x8fb)](_0x8753c6(0xb7f))[_0x8753c6(0x3d4)],'passingScore':document['getElementById']('bp-modal-passing-score-input')[_0x8753c6(0x3d4)],'numChoices':document[_0x8753c6(0x8fb)]('bp-modal-num-choices')[_0x8753c6(0x3d4)],'shuffle':document[_0x8753c6(0x8fb)](_0x8753c6(0x331))[_0x8753c6(0x3d4)],'includeImages':document[_0x8753c6(0x8fb)](_0x8753c6(0x681))[_0x8753c6(0x588)]},showMessage(_0x8753c6(0xdb3)),document[_0x8753c6(0x8fb)]('blueprint-settings-modal')[_0x8753c6(0xa57)][_0x8753c6(0x8de)](_0x8753c6(0xcb3));}function listenForParallelTestShortcuts(){const _0x5f8c10=_0xa39756,_0x563f8e=doc(db,_0x5f8c10(0x96b),_0x5f8c10(0xbb9));onSnapshot(_0x563f8e,_0x42b761=>{const _0xbcff7=_0x5f8c10;let _0x2d44b2=[],_0x3edd8b=[],_0x257c9b={};if(_0x42b761['exists']()){const _0x3dde98=_0x42b761[_0xbcff7(0x3d7)]();_0x2d44b2=_0x3dde98[_0xbcff7(0xb32)]||[],_0x3edd8b=_0x3dde98['parallelShortcutTabs']||[],_0x257c9b=_0x3dde98[_0xbcff7(0xb6f)]||{};}!_0x3edd8b[_0xbcff7(0xaf7)](_0x280247=>_0x280247['id']===_0xbcff7(0x49d))&&_0x3edd8b['unshift']({'id':_0xbcff7(0x49d),'name':_0xbcff7(0x9ee),'isDefault':!![]}),!_0x2d44b2[_0xbcff7(0xaf7)](_0x1e7c42=>_0x1e7c42['id']==='parallel-default-1')&&_0x2d44b2[_0xbcff7(0x2f9)]({'id':'parallel-default-1','name':_0xbcff7(0xb6c),'url':'','isDefault':!![]}),!_0x2d44b2[_0xbcff7(0xaf7)](_0xc52932=>_0xc52932['id']==='parallel-default-2')&&_0x2d44b2[_0xbcff7(0x2f9)]({'id':_0xbcff7(0x2fd),'name':_0xbcff7(0x4db),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x2d44b2,parallelShortcutTabs=_0x3edd8b,parallelShortcutOrder=_0x257c9b,renderParallelTestShortcuts(),!document['getElementById'](_0xbcff7(0x9e5))[_0xbcff7(0xa57)][_0xbcff7(0x28c)]('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x514b80=_0xa39756,_0x49ffe8=doc(db,'globalSettings',_0x514b80(0xbb9));try{await setDoc(_0x49ffe8,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x192e62){console[_0x514b80(0xd73)](_0x514b80(0x574),_0x192e62);}}function renderAdditionalParallelShortcutsModal(){const _0x120011=_0xa39756,_0x2e21ed=document['getElementById']('parallel-shortcut-tabs-nav'),_0x12d4ea=document[_0x120011(0x8fb)]('additional-parallel-shortcuts-list');if(!_0x2e21ed||!_0x12d4ea)return;_0x2e21ed[_0x120011(0x878)]=parallelShortcutTabs[_0x120011(0x218)](_0x43b50d=>{const _0x1d4635=_0x120011,_0x1c24c6=_0x43b50d['id']===activeParallelShortcutTabId;return _0x1d4635(0x931)+_0x43b50d['id']+_0x1d4635(0x565)+(_0x1c24c6?_0x1d4635(0x4e7):_0x1d4635(0xa3a))+_0x1d4635(0xa5c)+_0x43b50d[_0x1d4635(0x4ee)]+_0x1d4635(0x743)+_0x43b50d[_0x1d4635(0x4ee)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x43b50d[_0x1d4635(0x6f1)]?'<button\x20data-tab-id=\x22'+_0x43b50d['id']+_0x1d4635(0x492):'')+_0x1d4635(0x8dc);})[_0x120011(0xb7d)]('');const _0x533432=parallelShortcutTabs[_0x120011(0xaf7)](_0x4cd1e1=>_0x4cd1e1['id']===activeParallelShortcutTabId);let _0x3c65e0=_0x533432?.['isDefault']?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x5687b6=>(_0x533432?.['shortcutIds']||[])['includes'](_0x5687b6['id']));const _0x56ef49=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x3c65e0[_0x120011(0xcbf)]((_0x357aa6,_0x26f550)=>{const _0x514348=_0x120011,_0x5486db=_0x56ef49[_0x514348(0x83d)](_0x357aa6['id']),_0x1ce3a6=_0x56ef49[_0x514348(0x83d)](_0x26f550['id']);return(_0x5486db===-0x1?Infinity:_0x5486db)-(_0x1ce3a6===-0x1?Infinity:_0x1ce3a6);}),_0x12d4ea['innerHTML']=_0x3c65e0[_0x120011(0x218)](_0x581d00=>{const _0x458ec2=_0x120011,_0x2ce41a=_0x581d00[_0x458ec2(0xac2)]?'🔁':'🔗',_0x5f1e16=parallelShortcutTabs[_0x458ec2(0x4da)](_0x3b4219=>!_0x3b4219[_0x458ec2(0x6f1)]),_0xc0ddf=_0x533432[_0x458ec2(0x6f1)]&&_0x5f1e16[_0x458ec2(0x7c7)]>0x0?_0x458ec2(0x5f6)+_0x5f1e16['map'](_0x42b991=>_0x458ec2(0x27c)+_0x581d00['id']+'\x22\x20data-target-tab-id=\x22'+_0x42b991['id']+'\x22>'+_0x42b991[_0x458ec2(0x4ee)]+_0x458ec2(0x3f4))[_0x458ec2(0xb7d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x581d00['id']+_0x458ec2(0x3fe)+_0x2ce41a+'\x20'+_0x581d00[_0x458ec2(0x4ee)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x581d00['id']+_0x458ec2(0x703)+_0x581d00['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x581d00[_0x458ec2(0x6f1)]?_0x458ec2(0x4d1)+_0x581d00['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x458ec2(0xdc4)+(!_0x533432[_0x458ec2(0x6f1)]?_0x458ec2(0xaa2)+_0x581d00['id']+_0x458ec2(0xb53):'')+_0x458ec2(0xdc4)+_0xc0ddf+_0x458ec2(0x575);})[_0x120011(0xb7d)]('')||_0x120011(0xbba),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x5ddff4=_0xa39756;document[_0x5ddff4(0x6aa)]('.parallel-shortcut-tab-btn')[_0x5ddff4(0x71e)](_0xeec885=>{const _0x12a1b8=_0x5ddff4;_0xeec885[_0x12a1b8(0x699)]=_0x2cc760=>{const _0x28bf62=_0x12a1b8;activeParallelShortcutTabId=_0x2cc760[_0x28bf62(0xb13)]['dataset'][_0x28bf62(0x59b)],renderAdditionalParallelShortcutsModal();},_0xeec885[_0x12a1b8(0xc64)]=_0x14a246=>{const _0x4dad77=_0x12a1b8,_0x3c4d6e=_0x14a246[_0x4dad77(0xb13)][_0x4dad77(0xa01)]('.tab-name-input');_0x14a246[_0x4dad77(0xb13)][_0x4dad77(0xa01)](_0x4dad77(0x7bd))[_0x4dad77(0xa57)][_0x4dad77(0x8de)](_0x4dad77(0xcb3)),_0x3c4d6e[_0x4dad77(0xa57)]['remove'](_0x4dad77(0xcb3)),_0x3c4d6e[_0x4dad77(0x515)](),_0x3c4d6e[_0x4dad77(0x36b)]();};}),document[_0x5ddff4(0x6aa)](_0x5ddff4(0xc77))[_0x5ddff4(0x71e)](_0x1b106a=>{const _0x46d900=_0x5ddff4,_0x24d07a=()=>{const _0x1efe51=_0x395e,_0x31a6be=_0x1b106a[_0x1efe51(0x762)](_0x1efe51(0xd97))[_0x1efe51(0x87f)][_0x1efe51(0x59b)],_0x1f9823=parallelShortcutTabs[_0x1efe51(0xaf7)](_0x46ab44=>_0x46ab44['id']===_0x31a6be);_0x1f9823&&(_0x1f9823[_0x1efe51(0x4ee)]=_0x1b106a[_0x1efe51(0x3d4)][_0x1efe51(0x6a8)]()||_0x1f9823[_0x1efe51(0x4ee)],saveParallelShortcutConfig());};_0x1b106a['onblur']=_0x24d07a,_0x1b106a[_0x46d900(0x9f3)]=_0x23ac7e=>{const _0x3ed1a7=_0x46d900;if(_0x23ac7e['key']==='Enter')_0x1b106a[_0x3ed1a7(0xc11)]();};}),document[_0x5ddff4(0x6aa)]('.delete-parallel-shortcut-tab-btn')['forEach'](_0x5d54cd=>_0x5d54cd[_0x5ddff4(0x699)]=_0x3373f2=>{const _0x430ef5=_0x5ddff4,_0x1b97e4=_0x3373f2[_0x430ef5(0xb13)][_0x430ef5(0x87f)]['tabId'];showConfirmation(_0x430ef5(0x41b),()=>{const _0x549f69=_0x430ef5;parallelShortcutTabs=parallelShortcutTabs[_0x549f69(0x4da)](_0x1561be=>_0x1561be['id']!==_0x1b97e4),delete parallelShortcutOrder[_0x1b97e4];if(activeParallelShortcutTabId===_0x1b97e4)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x5ddff4(0x6aa)](_0x5ddff4(0x71d))['forEach'](_0x3179de=>_0x3179de[_0x5ddff4(0x699)]=_0x59061c=>{const _0x38c17b=_0x5ddff4;_0x59061c[_0x38c17b(0xc6f)]();const {shortcutId:_0x190cc9,targetTabId:_0x17c792}=_0x59061c[_0x38c17b(0xb13)][_0x38c17b(0x87f)],_0x2a9086=parallelShortcutTabs[_0x38c17b(0xaf7)](_0x5db763=>_0x5db763['id']===_0x17c792);_0x2a9086&&!_0x2a9086[_0x38c17b(0x603)]['includes'](_0x190cc9)&&(_0x2a9086[_0x38c17b(0x603)]['push'](_0x190cc9),saveParallelShortcutConfig());}),document[_0x5ddff4(0x6aa)]('.remove-parallel-shortcut-from-tab-btn')[_0x5ddff4(0x71e)](_0x4f0b5c=>_0x4f0b5c[_0x5ddff4(0x699)]=_0x14558e=>{const _0x2a8e3e=_0x5ddff4,_0x301cf6=_0x14558e[_0x2a8e3e(0xb13)][_0x2a8e3e(0x87f)][_0x2a8e3e(0xcff)],_0x386a49=parallelShortcutTabs['find'](_0x2dd2c6=>_0x2dd2c6['id']===activeParallelShortcutTabId);_0x386a49&&!_0x386a49[_0x2a8e3e(0x6f1)]&&(_0x386a49['shortcutIds']=_0x386a49[_0x2a8e3e(0x603)][_0x2a8e3e(0x4da)](_0x33fd75=>_0x33fd75!==_0x301cf6),saveParallelShortcutConfig());}),document[_0x5ddff4(0x6aa)](_0x5ddff4(0x1fe))[_0x5ddff4(0x71e)](_0x2348fb=>_0x2348fb[_0x5ddff4(0x699)]=_0x38d347=>{const _0x1b35b0=_0x5ddff4;_0x38d347[_0x1b35b0(0x73c)]();const _0x887be7=_0x38d347[_0x1b35b0(0xb13)][_0x1b35b0(0x42b)];document[_0x1b35b0(0x6aa)](_0x1b35b0(0x49c))[_0x1b35b0(0x71e)](_0x1c334a=>_0x1c334a[_0x1b35b0(0xa57)]['add']('hidden')),_0x887be7['classList']['remove']('hidden');});const _0x372d1c=document[_0x5ddff4(0x8fb)]('additional-parallel-shortcuts-list');let _0x5f3333=null;_0x372d1c['ondragstart']=_0x3b27ed=>{const _0x3908b7=_0x5ddff4;_0x5f3333=_0x3b27ed[_0x3908b7(0x748)][_0x3908b7(0x762)](_0x3908b7(0x70b));if(_0x5f3333)setTimeout(()=>_0x5f3333[_0x3908b7(0xa57)][_0x3908b7(0x8de)](_0x3908b7(0xc6c)),0x0);},_0x372d1c[_0x5ddff4(0x9ec)]=()=>{const _0x57a1b8=_0x5ddff4;_0x5f3333&&(_0x5f3333[_0x57a1b8(0xa57)][_0x57a1b8(0x586)](_0x57a1b8(0xc6c)),_0x5f3333=null);},_0x372d1c['ondragover']=_0x519f4a=>{const _0x2e7153=_0x5ddff4;_0x519f4a[_0x2e7153(0xc6f)]();},_0x372d1c[_0x5ddff4(0x937)]=_0x50dd32=>{const _0x2002cc=_0x5ddff4;_0x50dd32['preventDefault']();if(_0x5f3333){const _0x297509=[..._0x372d1c[_0x2002cc(0x6aa)](_0x2002cc(0x467))][_0x2002cc(0x8a8)]((_0x2d3cd4,_0x5bb6d3)=>{const _0x142ae0=_0x2002cc,_0x491745=_0x5bb6d3[_0x142ae0(0xd13)](),_0xbd5243=_0x50dd32['clientY']-_0x491745['top']-_0x491745[_0x142ae0(0xabd)]/0x2;return _0xbd5243<0x0&&_0xbd5243>_0x2d3cd4[_0x142ae0(0x990)]?{'offset':_0xbd5243,'element':_0x5bb6d3}:_0x2d3cd4;},{'offset':Number[_0x2002cc(0x9a3)]})['element'];_0x297509==null?_0x372d1c[_0x2002cc(0x7d1)](_0x5f3333):_0x372d1c[_0x2002cc(0x2dd)](_0x5f3333,_0x297509);const _0x3bf720=[..._0x372d1c[_0x2002cc(0x6aa)](_0x2002cc(0x70b))][_0x2002cc(0x218)](_0x1930c8=>_0x1930c8[_0x2002cc(0x87f)][_0x2002cc(0xcff)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x3bf720,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x14d05c=_0xa39756,_0x370e20=prompt(_0x14d05c(0x71a),_0x14d05c(0x819));_0x370e20&&_0x370e20['trim']()&&(parallelShortcutTabs['push']({'id':_0x14d05c(0x731)+Date[_0x14d05c(0xcad)](),'name':_0x370e20[_0x14d05c(0x6a8)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x1d2bbb=_0xa39756,_0x39b0c3=document['getElementById']('parallel-shortcut-container'),_0x2f4c8d=document['getElementById']('additional-parallel-shortcuts-list'),_0x5bbbdf=document[_0x1d2bbb(0x8fb)](_0x1d2bbb(0x697));if(_0x5bbbdf)_0x5bbbdf[_0x1d2bbb(0xa57)][_0x1d2bbb(0x8de)](_0x1d2bbb(0xcb3));if(!_0x39b0c3||!_0x2f4c8d)return;const _0x180010=parallelTestShortcuts['slice'](0x0,0x4),_0x50a52f=parallelTestShortcuts[_0x1d2bbb(0x210)](0x4);_0x39b0c3[_0x1d2bbb(0x878)]=_0x180010[_0x1d2bbb(0x218)](_0x25fc0f=>{const _0x2d16ed=_0x1d2bbb,_0x37a82b=_0x25fc0f['url']&&_0x25fc0f[_0x2d16ed(0xac2)][_0x2d16ed(0x6a8)]()!=='',_0x3bada4=_0x37a82b?_0x2d16ed(0xbb6):_0x2d16ed(0x2ba),_0x3ca596=_0x37a82b?'🔁':'🔗',_0x512b40=!_0x25fc0f['isDefault']?_0x2d16ed(0x4d1)+_0x25fc0f['id']+_0x2d16ed(0xc27):'';return _0x2d16ed(0xc9a)+_0x25fc0f['id']+_0x2d16ed(0xc93)+_0x3bada4+_0x2d16ed(0x92f)+_0x3ca596+'\x20'+_0x25fc0f[_0x2d16ed(0x4ee)]+_0x2d16ed(0xba7)+_0x25fc0f['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x512b40+_0x2d16ed(0xd65);})[_0x1d2bbb(0xb7d)](''),_0x50a52f[_0x1d2bbb(0x7c7)]>0x0&&(_0x39b0c3[_0x1d2bbb(0x878)]+=_0x1d2bbb(0x77f)),_0x50a52f[_0x1d2bbb(0x7c7)]>0x0?_0x2f4c8d[_0x1d2bbb(0x878)]=_0x50a52f[_0x1d2bbb(0x218)](_0x3e381d=>_0x1d2bbb(0x3e1)+(_0x3e381d[_0x1d2bbb(0xac2)]?'🔁':'🔗')+'\x20'+_0x3e381d[_0x1d2bbb(0x4ee)]+_0x1d2bbb(0x8b5)+_0x3e381d['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3e381d['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3e381d[_0x1d2bbb(0x6f1)]?_0x1d2bbb(0x4d1)+_0x3e381d['id']+_0x1d2bbb(0x9ef):'')+_0x1d2bbb(0x97f))[_0x1d2bbb(0xb7d)](''):_0x2f4c8d[_0x1d2bbb(0x878)]=_0x1d2bbb(0xb00);}function openParallelTestShortcutEditor(_0x560393=null){const _0x480b5c=_0xa39756,_0x52ebd9=document[_0x480b5c(0x8fb)]('parallel-shortcut-editor-modal'),_0x759ecb=document[_0x480b5c(0x8fb)](_0x480b5c(0xadc)),_0x44d7c8=document[_0x480b5c(0x8fb)](_0x480b5c(0x68f)),_0x11cfbc=document[_0x480b5c(0x8fb)](_0x480b5c(0x363)),_0x1cf1fd=document[_0x480b5c(0x8fb)]('parallel-shortcut-url-input');if(_0x560393){const _0x23482f=parallelTestShortcuts['find'](_0x3571a1=>_0x3571a1['id']===_0x560393);if(!_0x23482f)return;_0x759ecb['textContent']=_0x480b5c(0x5d9),_0x44d7c8['value']=_0x23482f['id'],_0x11cfbc[_0x480b5c(0x3d4)]=_0x23482f['name'],_0x1cf1fd[_0x480b5c(0x3d4)]=_0x23482f[_0x480b5c(0xac2)]||'';}else _0x759ecb['textContent']=_0x480b5c(0x1f4),_0x44d7c8[_0x480b5c(0x3d4)]='',_0x11cfbc['value']='',_0x1cf1fd['value']='';_0x52ebd9[_0x480b5c(0xa57)][_0x480b5c(0x586)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x31769a=_0xa39756,_0x5366ee=document['getElementById']('parallel-shortcut-id-input')[_0x31769a(0x3d4)],_0x114c39=document[_0x31769a(0x8fb)](_0x31769a(0x363))[_0x31769a(0x3d4)][_0x31769a(0x6a8)](),_0x345857=document[_0x31769a(0x8fb)](_0x31769a(0xc9b))['value']['trim']();if(!_0x114c39){showMessage(_0x31769a(0x689));return;}const _0x59d449={'id':_0x5366ee||_0x31769a(0x4b8)+Date[_0x31769a(0xcad)](),'name':_0x114c39,'url':_0x345857,'isDefault':_0x5366ee[_0x31769a(0x739)](_0x31769a(0x500))};let _0x593f24;_0x5366ee?_0x593f24=parallelTestShortcuts[_0x31769a(0x218)](_0x36a4c4=>_0x36a4c4['id']===_0x5366ee?_0x59d449:_0x36a4c4):_0x593f24=[...parallelTestShortcuts,_0x59d449];try{const _0x1fd813=doc(db,_0x31769a(0x96b),_0x31769a(0xbb9));await setDoc(_0x1fd813,{'shortcuts':_0x593f24},{'merge':!![]}),document[_0x31769a(0x8fb)](_0x31769a(0xdab))['classList'][_0x31769a(0x8de)](_0x31769a(0xcb3));}catch(_0x5b92d7){console[_0x31769a(0xd73)](_0x31769a(0x5de),_0x5b92d7),showMessage(_0x31769a(0xcab));}}async function handleParallelTestShortcutClick(_0x3d09b6){const _0x3b16b5=_0xa39756,_0x5ed0a6=parallelTestShortcuts['find'](_0x4ad918=>_0x4ad918['id']===_0x3d09b6);if(!_0x5ed0a6)return;if(!_0x5ed0a6[_0x3b16b5(0xac2)]||_0x5ed0a6['url'][_0x3b16b5(0x6a8)]()===''){openParallelTestShortcutEditor(_0x3d09b6);return;}const _0x37b912=document[_0x3b16b5(0x8fb)](_0x3b16b5(0x77e)),_0x1f2358=document[_0x3b16b5(0x8fb)]('loader-text');document[_0x3b16b5(0x8fb)]('quiz-generation-area')[_0x3b16b5(0xa57)][_0x3b16b5(0x586)](_0x3b16b5(0xcb3)),document['getElementById'](_0x3b16b5(0xdf7))[_0x3b16b5(0x878)]='',_0x37b912[_0x3b16b5(0xa57)][_0x3b16b5(0x586)]('hidden'),_0x1f2358['textContent']=_0x3b16b5(0xaf3);try{let _0x3c3404;_0x5ed0a6[_0x3b16b5(0xac2)]['toLowerCase']()['includes'](_0x3b16b5(0x5bc))?_0x3c3404=_0x3b16b5(0xc30):_0x3c3404=_0x3b16b5(0xbcf);const _0x46bd10=await fetchFileFromUrl(_0x5ed0a6[_0x3b16b5(0xac2)],_0x3c3404);await handleGenerateParallelTest(_0x46bd10);}catch(_0x189814){console[_0x3b16b5(0xd73)](_0x3b16b5(0x53e),_0x189814),showMessage('เกิดข้อผิดพลาด:\x20'+_0x189814[_0x3b16b5(0x5b7)]),_0x37b912[_0x3b16b5(0xa57)][_0x3b16b5(0x8de)](_0x3b16b5(0xcb3));}}function initializeScratchpadCanvas(){const _0x3170e7=_0xa39756,_0x3b9503=document[_0x3170e7(0x8fb)](_0x3170e7(0x616)),_0x2c7417=document[_0x3170e7(0xa01)](_0x3170e7(0x405));if(!_0x3b9503||!_0x2c7417)return;scratchpadCtx=_0x3b9503[_0x3170e7(0x6f5)]('2d',{'willReadFrequently':!![]});const _0x3962be=window['devicePixelRatio']||0x1,_0x47db1e=_0x2c7417[_0x3170e7(0xd13)]();_0x3b9503[_0x3170e7(0xa67)]=_0x47db1e[_0x3170e7(0xa67)]*_0x3962be,_0x3b9503[_0x3170e7(0xabd)]=_0x47db1e[_0x3170e7(0xabd)]*_0x3962be,_0x3b9503[_0x3170e7(0x4b4)][_0x3170e7(0xa67)]=_0x47db1e['width']+'px',_0x3b9503[_0x3170e7(0x4b4)][_0x3170e7(0xabd)]=_0x47db1e[_0x3170e7(0xabd)]+'px',scratchpadCtx[_0x3170e7(0x432)](_0x3962be,_0x3962be),scratchpadCtx[_0x3170e7(0xa46)]='round',scratchpadCtx['lineCap']=_0x3170e7(0xb77),_0x3b9503[_0x3170e7(0x223)](_0x3170e7(0x2f8),handlePointerDown),_0x3b9503[_0x3170e7(0x223)](_0x3170e7(0x302),handlePointerMove),_0x3b9503['removeEventListener']('pointerup',handlePointerUp),_0x3b9503[_0x3170e7(0x223)](_0x3170e7(0x263),handlePointerUp),_0x3b9503[_0x3170e7(0x223)](_0x3170e7(0x37b),handleWheel),_0x3b9503[_0x3170e7(0x223)](_0x3170e7(0x7e6),handlePointerDown),_0x3b9503['removeEventListener'](_0x3170e7(0xaa6),handlePointerMove),_0x3b9503['removeEventListener'](_0x3170e7(0x52f),handlePointerUp),_0x3b9503[_0x3170e7(0xb95)](_0x3170e7(0x2f8),handlePointerDown),_0x3b9503[_0x3170e7(0xb95)]('pointermove',handlePointerMove),_0x3b9503[_0x3170e7(0xb95)](_0x3170e7(0x566),handlePointerUp),_0x3b9503[_0x3170e7(0xb95)](_0x3170e7(0x263),handlePointerUp),_0x3b9503[_0x3170e7(0xb95)](_0x3170e7(0x37b),handleWheel,{'passive':![]}),_0x3b9503[_0x3170e7(0xb95)](_0x3170e7(0x7e6),handlePointerDown,{'passive':![]}),_0x3b9503['addEventListener'](_0x3170e7(0xaa6),handlePointerMove,{'passive':![]}),_0x3b9503[_0x3170e7(0xb95)](_0x3170e7(0x52f),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x3e1c90=_0xa39756,_0x4d41ee=document[_0x3e1c90(0x8fb)](_0x3e1c90(0xcbd)),_0x34fa10=document[_0x3e1c90(0x8fb)](_0x3e1c90(0x61e));_0x34fa10[_0x3e1c90(0x878)]=_0x3e1c90(0xbfd)+scratchpadHighlighterSize+_0x3e1c90(0x9ab);const _0x50a2df=document[_0x3e1c90(0x8fb)](_0x3e1c90(0xda0)),_0x1eb762=document['getElementById'](_0x3e1c90(0x8e7)),_0x15cd0d=document[_0x3e1c90(0x8fb)](_0x3e1c90(0xbbd)),_0x1855f2=document[_0x3e1c90(0x8fb)](_0x3e1c90(0x27b)),_0x28aa80=document[_0x3e1c90(0x8fb)](_0x3e1c90(0x352)),_0x232cb3=document['getElementById'](_0x3e1c90(0x3ed)),_0x49953e=document[_0x3e1c90(0x8fb)](_0x3e1c90(0x2ae)),_0x4199a1=[_0x50a2df,_0x1eb762,_0x15cd0d,_0x1855f2];document[_0x3e1c90(0x8fb)](_0x3e1c90(0xcd9))[_0x3e1c90(0xb95)]('click',()=>_0x4d41ee[_0x3e1c90(0xa57)][_0x3e1c90(0x8de)](_0x3e1c90(0xcb3))),document[_0x3e1c90(0x8fb)](_0x3e1c90(0x91c))[_0x3e1c90(0xb95)](_0x3e1c90(0x305),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x3e1c90(0x8fb)](_0x3e1c90(0xd32))[_0x3e1c90(0xb95)](_0x3e1c90(0x305),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x3e1c90(0x7df))['addEventListener'](_0x3e1c90(0x305),undo),document[_0x3e1c90(0x8fb)](_0x3e1c90(0x945))[_0x3e1c90(0xb95)](_0x3e1c90(0x305),redo);const _0x13e43d=_0x34865c=>{const _0x40442d=_0x3e1c90;_0x4199a1[_0x40442d(0x71e)](_0x224222=>_0x224222[_0x40442d(0xa57)][_0x40442d(0x586)](_0x40442d(0xd52))),_0x34865c[_0x40442d(0xa57)][_0x40442d(0x8de)](_0x40442d(0xd52)),_0x28aa80[_0x40442d(0xa57)][_0x40442d(0x8de)]('hidden'),_0x232cb3[_0x40442d(0xa57)][_0x40442d(0x8de)](_0x40442d(0xcb3)),_0x49953e[_0x40442d(0xa57)][_0x40442d(0x8de)](_0x40442d(0xcb3));if(activeTool===_0x40442d(0x901)||activeTool===_0x40442d(0xbf9))_0x28aa80['classList']['remove']('hidden');else{if(activeTool===_0x40442d(0x21b))_0x232cb3[_0x40442d(0xa57)][_0x40442d(0x586)](_0x40442d(0xcb3));else activeTool===_0x40442d(0x504)&&_0x49953e[_0x40442d(0xa57)][_0x40442d(0x586)](_0x40442d(0xcb3));}};_0x50a2df[_0x3e1c90(0xb95)](_0x3e1c90(0x305),()=>{const _0x40d3ac=_0x3e1c90;activeTool=_0x40d3ac(0x901),_0x13e43d(_0x50a2df);}),_0x1eb762[_0x3e1c90(0xb95)](_0x3e1c90(0x305),()=>{const _0x4935da=_0x3e1c90;activeTool=_0x4935da(0x504),_0x13e43d(_0x1eb762);}),_0x15cd0d[_0x3e1c90(0xb95)](_0x3e1c90(0x305),()=>{activeTool='trail',_0x13e43d(_0x15cd0d);}),_0x1855f2['addEventListener'](_0x3e1c90(0x305),()=>{activeTool='highlighter',_0x13e43d(_0x1855f2);}),_0x28aa80[_0x3e1c90(0x6aa)](_0x3e1c90(0xaa7))[_0x3e1c90(0x71e)](_0x3db900=>{const _0x37a3cc=_0x3e1c90;_0x3db900[_0x37a3cc(0xb95)](_0x37a3cc(0x305),_0x378a5c=>{const _0x5cbe1e=_0x37a3cc;scratchpadPenSize=parseInt(_0x378a5c[_0x5cbe1e(0x748)][_0x5cbe1e(0x87f)][_0x5cbe1e(0x73a)],0xa),_0x28aa80[_0x5cbe1e(0x6aa)]('.pen-size-btn')[_0x5cbe1e(0x71e)](_0xdc6f0c=>_0xdc6f0c[_0x5cbe1e(0xa57)][_0x5cbe1e(0x586)]('active')),_0x378a5c['target']['classList'][_0x5cbe1e(0x8de)](_0x5cbe1e(0xd52));});}),_0x49953e[_0x3e1c90(0x6aa)](_0x3e1c90(0xb0f))[_0x3e1c90(0x71e)](_0x21393e=>{const _0x5488b8=_0x3e1c90;_0x21393e[_0x5488b8(0xb95)](_0x5488b8(0x305),_0x3affe4=>{const _0x5e51fb=_0x5488b8,_0xfd058b=_0x3affe4[_0x5e51fb(0xb13)];scratchpadEraserSize=parseInt(_0xfd058b[_0x5e51fb(0x87f)][_0x5e51fb(0x73a)],0xa),_0x49953e[_0x5e51fb(0x6aa)](_0x5e51fb(0xb0f))[_0x5e51fb(0x71e)](_0x2f17d=>_0x2f17d[_0x5e51fb(0xa57)]['remove'](_0x5e51fb(0xd52))),_0xfd058b[_0x5e51fb(0xa57)]['add'](_0x5e51fb(0xd52));});}),_0x28aa80['querySelectorAll'](_0x3e1c90(0xa5a))[_0x3e1c90(0x71e)](_0x16bfae=>{const _0x5ee074=_0x3e1c90;_0x16bfae[_0x5ee074(0xb95)]('click',_0x42ae3c=>{const _0x1fdbc7=_0x5ee074;scratchpadPenColor=_0x42ae3c['target'][_0x1fdbc7(0x87f)][_0x1fdbc7(0x583)],_0x28aa80[_0x1fdbc7(0x6aa)](_0x1fdbc7(0xa5a))[_0x1fdbc7(0x71e)](_0x4a1863=>_0x4a1863[_0x1fdbc7(0xa57)][_0x1fdbc7(0x586)](_0x1fdbc7(0xd52))),_0x42ae3c[_0x1fdbc7(0x748)][_0x1fdbc7(0xa57)][_0x1fdbc7(0x8de)](_0x1fdbc7(0xd52));});}),_0x232cb3[_0x3e1c90(0x6aa)](_0x3e1c90(0x7d4))[_0x3e1c90(0x71e)](_0xa6220b=>{const _0x1d2fb5=_0x3e1c90;_0xa6220b[_0x1d2fb5(0xb95)]('click',_0x172a70=>{const _0x21da71=_0x1d2fb5;scratchpadHighlighterColor=_0x172a70[_0x21da71(0x748)][_0x21da71(0x87f)][_0x21da71(0x583)],_0x232cb3[_0x21da71(0x6aa)](_0x21da71(0x7d4))['forEach'](_0x5bec05=>_0x5bec05[_0x21da71(0xa57)]['remove'](_0x21da71(0xd52))),_0x172a70[_0x21da71(0x748)][_0x21da71(0xa57)][_0x21da71(0x8de)](_0x21da71(0xd52));});});const _0x140978=document[_0x3e1c90(0x8fb)](_0x3e1c90(0x8c5)),_0x262a5f=document[_0x3e1c90(0x8fb)]('highlighter-size-value');_0x140978[_0x3e1c90(0xb95)]('input',_0x4aea76=>{const _0x2787e0=_0x3e1c90,_0x37ddab=parseInt(_0x4aea76['target'][_0x2787e0(0x3d4)],0xa);scratchpadHighlighterSize=_0x37ddab,_0x262a5f[_0x2787e0(0xa47)]=_0x37ddab;}),window[_0x3e1c90(0xb95)](_0x3e1c90(0x95d),()=>{const _0x1e5a0a=_0x3e1c90;!_0x4d41ee[_0x1e5a0a(0xa57)][_0x1e5a0a(0x28c)](_0x1e5a0a(0xcb3))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0xa39756(0x802),'name':_0xa39756(0xc98),'description':_0xa39756(0xcc1),'icon':_0xa39756(0xb35)},'QUICK_THINKER':{'id':_0xa39756(0x6a1),'name':_0xa39756(0xaeb),'description':_0xa39756(0xce7),'icon':_0xa39756(0x30c)},'ON_FIRE':{'id':_0xa39756(0xd63),'name':'ท็อปฟอร์ม','description':_0xa39756(0x221),'icon':_0xa39756(0x423)},'FIRST_TRY_ACE':{'id':_0xa39756(0x9cb),'name':_0xa39756(0x3d1),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0xa39756(0x260)},'COMEBACK_KING':{'id':_0xa39756(0xae1),'name':'ราชาคัมแบ็ก','description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0xa39756(0x8fa)},'SPECIALIST':{'id':_0xa39756(0x657),'name':_0xa39756(0x200),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0xa39756(0x9f2)},'PERSEVERANCE':{'id':_0xa39756(0x6bd),'name':_0xa39756(0x650),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0xa39756(0x9fb)}},firebaseConfig={'apiKey':'AIzaSyCrvYxQBrQBFrT99Rkg4nVgjOwRsBBZafI','authDomain':'newappai.firebaseapp.com','projectId':_0xa39756(0xd9d),'storageBucket':_0xa39756(0x2ab),'messagingSenderId':_0xa39756(0xbbe),'appId':_0xa39756(0xb1a),'measurementId':_0xa39756(0x9a8)},appId=typeof __app_id!==_0xa39756(0x5ea)?__app_id:_0xa39756(0xba4),adminView=document[_0xa39756(0x8fb)](_0xa39756(0xccf)),studentView=document['getElementById']('student-view'),projectDashboardView=document[_0xa39756(0x8fb)](_0xa39756(0xb70)),projectDetailView=document[_0xa39756(0x8fb)](_0xa39756(0x625)),quizResultsView=document['getElementById']('quiz-results-view'),projectList=document[_0xa39756(0x8fb)](_0xa39756(0x5e9)),noProjectsMsg=document[_0xa39756(0x8fb)]('no-projects-msg'),projectTitle=document[_0xa39756(0x8fb)]('project-title'),projectIdDisplay=document[_0xa39756(0x8fb)](_0xa39756(0xd16)),studentList=document[_0xa39756(0x8fb)](_0xa39756(0x74f)),messageModal=document[_0xa39756(0x8fb)](_0xa39756(0x66e)),modalMessage=document['getElementById'](_0xa39756(0xbf6)),createProjectModal=document['getElementById'](_0xa39756(0xddc)),adminPasswordModal=document[_0xa39756(0x8fb)](_0xa39756(0xd7d)),confirmationModal=document[_0xa39756(0x8fb)](_0xa39756(0xadb)),userIdDisplay=document[_0xa39756(0x8fb)]('user-id-display'),topicTab=document[_0xa39756(0x8fb)](_0xa39756(0x725)),textTab=document['getElementById']('text-tab'),topicInputArea=document[_0xa39756(0x8fb)](_0xa39756(0x6d4)),textInputArea=document[_0xa39756(0x8fb)](_0xa39756(0xb51)),manageTab=document[_0xa39756(0x8fb)](_0xa39756(0x669)),resultsTab=document[_0xa39756(0x8fb)](_0xa39756(0x932)),leaderboardTab=document[_0xa39756(0x8fb)]('leaderboard-tab'),manageTabContent=document['getElementById'](_0xa39756(0xcba)),resultsTabContent=document[_0xa39756(0x8fb)](_0xa39756(0xc3b)),leaderboardTabContent=document[_0xa39756(0x8fb)](_0xa39756(0x613)),projectQuizzesList=document['getElementById'](_0xa39756(0xa61)),fileTab=document[_0xa39756(0x8fb)](_0xa39756(0x34f)),fileInputArea=document[_0xa39756(0x8fb)](_0xa39756(0x3ce)),fileUploadInput=document[_0xa39756(0x8fb)]('file-upload-input'),worksheetTab=document[_0xa39756(0x8fb)](_0xa39756(0x499)),worksheetInputArea=document[_0xa39756(0x8fb)]('worksheet-input-area'),generateWorksheetBtn=document[_0xa39756(0x8fb)](_0xa39756(0x89e)),studentInitialView=document[_0xa39756(0x8fb)](_0xa39756(0x9c3)),studentNameSelectionView=document[_0xa39756(0x8fb)](_0xa39756(0xac1)),studentQuizArea=document[_0xa39756(0x8fb)](_0xa39756(0x25c)),studentResultArea=document[_0xa39756(0x8fb)]('student-result-area'),studentReadingArea=document['getElementById'](_0xa39756(0xbad)),loadQuizBtn=document[_0xa39756(0x8fb)](_0xa39756(0x8e5)),startQuizBtn=document['getElementById']('start-quiz-btn'),studentJoinGameView=document[_0xa39756(0x8fb)](_0xa39756(0x7a2)),presentationModal=document[_0xa39756(0x8fb)]('presentation-modal'),renameQuizModal=document['getElementById']('rename-quiz-modal'),moveQuizModal=document[_0xa39756(0x8fb)]('move-quiz-modal'),quizSettingsModal=document[_0xa39756(0x8fb)](_0xa39756(0xdca)),quizStatusModal=document[_0xa39756(0x8fb)](_0xa39756(0x3ae)),liveGameView=document[_0xa39756(0x8fb)]('live-game-view');function handleFixLessonLatex(){const _0x552e27=_0xa39756,_0xad6848=document['getElementById'](_0x552e27(0x2c7));if(!_0xad6848){showMessage(_0x552e27(0x621));return;}const _0x2f812a=_0xad6848[_0x552e27(0x6aa)]([_0x552e27(0x26c),'.ai-content\x20li',_0x552e27(0x582),_0x552e27(0x909),_0x552e27(0x9e1)][_0x552e27(0xb7d)](','));let _0x3a34dc=0x0;const _0x1815f0=_0xac1122=>_0xac1122['textContent']||'',_0x14b977=(_0xce2df1,_0x130443)=>{const _0x5be5c4=_0x552e27;if(_0xce2df1[_0x5be5c4(0xa01)]&&_0xce2df1[_0x5be5c4(0xa01)]('mjx-container'))return;_0xce2df1[_0x5be5c4(0xa47)]=_0x130443;},_0x44a4d3=_0x185c60=>_0x185c60[_0x552e27(0x50a)](/\u00A0/g,'\x20')[_0x552e27(0x50a)](/\u200B/g,'')[_0x552e27(0x50a)](/\r\n?/g,'\x0a'),_0x2cb297=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x58b53f=_0x308811=>{const _0x4e16ee=_0x552e27;let _0x12dbda=_0x308811[_0x4e16ee(0x6a8)]();const _0x5cf5a1=[_0x4e16ee(0x474),'dfrac','tfrac',_0x4e16ee(0xbe3),_0x4e16ee(0x54d),_0x4e16ee(0xc57),_0x4e16ee(0xc6d),_0x4e16ee(0x98f),'leq',_0x4e16ee(0xc95),'le','ge','neq','pm',_0x4e16ee(0xd3b),_0x4e16ee(0x42c),'cos',_0x4e16ee(0x590),_0x4e16ee(0xcf9),'ln',_0x4e16ee(0x73e),_0x4e16ee(0x23d),_0x4e16ee(0x75a),'left',_0x4e16ee(0x4af),_0x4e16ee(0xa1f),_0x4e16ee(0x479),_0x4e16ee(0x78b),_0x4e16ee(0x629)];_0x5cf5a1[_0x4e16ee(0x71e)](_0x54915f=>{const _0x2a82af=_0x4e16ee;_0x12dbda=_0x12dbda[_0x2a82af(0x50a)](new RegExp(_0x2a82af(0xce2)+_0x54915f+'\x5cb','g'),(_0x527c90,_0xc1aed5)=>_0xc1aed5+'\x5c'+_0x54915f);});const _0x1e327d=[[/×/g,_0x4e16ee(0x336)],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,'\x5cle'],[/≥/g,'\x5cge'],[/≠/g,_0x4e16ee(0x4b0)],[/±/g,_0x4e16ee(0x521)],[/∑/g,_0x4e16ee(0x5c2)],[/−/g,'-']];return _0x1e327d[_0x4e16ee(0x71e)](([_0x3b60d8,_0x1307a3])=>{const _0x597244=_0x4e16ee;_0x12dbda=_0x12dbda[_0x597244(0x50a)](_0x3b60d8,_0x1307a3);}),_0x12dbda=_0x12dbda[_0x4e16ee(0x50a)](/√\s*([A-Za-z0-9]+)/g,_0x4e16ee(0xd33)),_0x12dbda=_0x12dbda[_0x4e16ee(0x50a)](/(\d+)\s*%/g,_0x4e16ee(0xa02)),_0x12dbda;},_0xa9e047=_0x5b59e4=>{const _0x5311e0=_0x552e27;if(/\$|\\\(|\\\[/[_0x5311e0(0x550)](_0x5b59e4))return _0x5b59e4;if(!_0x2cb297['test'](_0x5b59e4))return _0x5b59e4;const _0x48c82b=_0x5b59e4[_0x5311e0(0xdce)](/^\s*/)[0x0],_0x5d0e39=_0x5b59e4[_0x5311e0(0xdce)](/\s*$/)[0x0],_0x36b2cf=_0x5b59e4['trim']();return _0x48c82b+'$'+_0x58b53f(_0x36b2cf)+'$'+_0x5d0e39;};_0x2f812a[_0x552e27(0x71e)](_0x426994=>{const _0x715eb5=_0x552e27,_0x3948ce=_0x1815f0(_0x426994);let _0xe73cd1=_0x44a4d3(_0x3948ce);_0xe73cd1=_0xe73cd1[_0x715eb5(0x50a)](/\$([^$]*?)\$/g,(_0x4a77f9,_0x11c638)=>'$'+_0x58b53f(_0x11c638)+'$');const _0x9d08d1=_0xe73cd1[_0x715eb5(0x5da)](/(\s+)/),_0x3b7427=_0x9d08d1[_0x715eb5(0x218)](_0x2bd822=>{const _0x55bf65=_0x715eb5;if(/\s+/[_0x55bf65(0x550)](_0x2bd822))return _0x2bd822;return _0xa9e047(_0x2bd822);});_0xe73cd1=_0x3b7427[_0x715eb5(0xb7d)](''),_0xe73cd1!==_0x3948ce&&(_0x14b977(_0x426994,_0xe73cd1),_0x3a34dc++);});if(_0x3a34dc>0x0){showMessage('แก้ไขสูตรคณิตศาสตร์\x20'+_0x3a34dc+_0x552e27(0x6fc));try{window[_0x552e27(0xb54)]&&MathJax[_0x552e27(0xa3f)]&&MathJax[_0x552e27(0xa3f)]([_0xad6848]);}catch(_0x2e253d){console[_0x552e27(0xd73)](_0x552e27(0x843),_0x2e253d);}}else showMessage(_0x552e27(0x7f1));}function handleAutoFixLatex(){const _0x8c3dda=_0xa39756,_0x4a6a0e=document[_0x8c3dda(0x8fb)](_0x8c3dda(0x526))||document,_0x58b36d=_0x4a6a0e[_0x8c3dda(0x6aa)](_0x8c3dda(0x45e));let _0x544a82=0x0;const _0xf33e42=_0x31a05d=>_0x8c3dda(0x3d4)in _0x31a05d?String(_0x31a05d[_0x8c3dda(0x3d4)]):_0x31a05d[_0x8c3dda(0xc7f)]!==undefined?_0x31a05d['innerText']:_0x31a05d[_0x8c3dda(0xa47)]||'',_0x59e53a=(_0x2dcd4c,_0x2161dd)=>{const _0x522de3=_0x8c3dda;if(_0x522de3(0x3d4)in _0x2dcd4c){_0x2dcd4c['value']=_0x2161dd;return;}if(_0x2dcd4c['querySelector']&&_0x2dcd4c['querySelector'](_0x522de3(0xa80)))return;if(_0x2dcd4c[_0x522de3(0xc7f)]!==undefined)_0x2dcd4c[_0x522de3(0xc7f)]=_0x2161dd;else _0x2dcd4c[_0x522de3(0xa47)]=_0x2161dd;},_0x504804=_0x55aabe=>_0x55aabe[_0x8c3dda(0x50a)](/\u00A0/g,'\x20')[_0x8c3dda(0x50a)](/\u200B/g,'')[_0x8c3dda(0x50a)](/\r\n?/g,'\x0a'),_0x2318eb=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x1af603=_0x55efe4=>{const _0x5a8db3=_0x8c3dda;let _0x1bcc84=_0x55efe4[_0x5a8db3(0x6a8)]();_0x1bcc84=_0x1bcc84[_0x5a8db3(0x50a)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x1bcc84=_0x1bcc84[_0x5a8db3(0x50a)](/\bfrac(\d)(\d)/g,'\x5cfrac{$1}{$2}');const _0x2d11b5=['frac',_0x5a8db3(0xbe3),_0x5a8db3(0xc57),_0x5a8db3(0xc6d),_0x5a8db3(0x98f),_0x5a8db3(0x904),_0x5a8db3(0xc95),_0x5a8db3(0x95c),'pm',_0x5a8db3(0x42c),_0x5a8db3(0x818),_0x5a8db3(0x590),'log','ln'];_0x2d11b5['forEach'](_0x12e701=>{const _0x246132=_0x5a8db3;_0x1bcc84=_0x1bcc84[_0x246132(0x50a)](new RegExp(_0x246132(0xce2)+_0x12e701+'\x5cb','g'),(_0x2b4dff,_0x3eb22e)=>_0x3eb22e+'\x5c'+_0x12e701);});const _0x370d02=[[/×/g,'\x5ctimes'],[/·/g,_0x5a8db3(0xb7a)],[/÷/g,_0x5a8db3(0x970)],[/≤/g,_0x5a8db3(0x462)],[/≥/g,_0x5a8db3(0x2d0)],[/≠/g,'\x5cneq'],[/±/g,_0x5a8db3(0x521)]];return _0x370d02[_0x5a8db3(0x71e)](([_0x359f59,_0x1921ef])=>{const _0x19cf2d=_0x5a8db3;_0x1bcc84=_0x1bcc84[_0x19cf2d(0x50a)](_0x359f59,_0x1921ef);}),_0x1bcc84;},_0x4baf24=_0x5ee4fe=>{const _0x1eb350=_0x8c3dda;if(/\$|\\\(|\\\[/[_0x1eb350(0x550)](_0x5ee4fe))return _0x5ee4fe;if(!_0x2318eb['test'](_0x5ee4fe))return _0x5ee4fe;const _0x29ea48=_0x5ee4fe['match'](/^\s*/)[0x0],_0x14fee5=_0x5ee4fe[_0x1eb350(0xdce)](/\s*$/)[0x0],_0x118910=_0x5ee4fe[_0x1eb350(0x6a8)]();return _0x29ea48+'$'+_0x1af603(_0x118910)+'$'+_0x14fee5;};_0x58b36d[_0x8c3dda(0x71e)](_0x39a880=>{const _0x1355ed=_0x8c3dda,_0x13aedc=_0xf33e42(_0x39a880);let _0x1400f3=_0x504804(_0x13aedc);_0x1400f3=_0x1400f3['replace'](/\$([^$]*?)\$/g,(_0x575b76,_0x453429)=>'$'+_0x1af603(_0x453429)+'$');const _0x406781=_0x1400f3[_0x1355ed(0x5da)](/(\s+)/),_0xddd369=_0x406781['map'](_0x272854=>/\s+/[_0x1355ed(0x550)](_0x272854)?_0x272854:_0x4baf24(_0x272854));_0x1400f3=_0xddd369[_0x1355ed(0xb7d)](''),_0x1400f3!==_0x13aedc&&(_0x59e53a(_0x39a880,_0x1400f3),_0x544a82++);});if(_0x544a82>0x0){showMessage(_0x8c3dda(0xd11)+_0x544a82+_0x8c3dda(0x69b));try{if(window[_0x8c3dda(0xb54)]&&MathJax[_0x8c3dda(0xa3f)])MathJax[_0x8c3dda(0xa3f)]();}catch(_0x434470){}}else showMessage(_0x8c3dda(0x4ab));}async function listenForCustomMathTopics(){const _0x595cd9=_0xa39756,_0x35c1cc=collection(db,_0x595cd9(0x73f)+appId+_0x595cd9(0x2b1));onSnapshot(_0x35c1cc,_0x26cbee=>{const _0x32f5a6=_0x595cd9;customMathTopics=_0x26cbee[_0x32f5a6(0x485)][_0x32f5a6(0x218)](_0x462042=>({'id':_0x462042['id'],..._0x462042['data']()})),renderTopicCheckboxes();},_0x3bc43d=>{const _0x3eada0=_0x595cd9;console[_0x3eada0(0xd73)](_0x3eada0(0x4a7),_0x3bc43d);});}function handleSelectAllTopics(){const _0x15957b=_0xa39756,_0x453e26=document['getElementById']('math-topics-checkbox-container'),_0x14d828=_0x453e26[_0x15957b(0x6aa)]('input[type=\x22checkbox\x22]');_0x14d828[_0x15957b(0x71e)](_0x341603=>{const _0x47b3ab=_0x15957b;_0x341603[_0x47b3ab(0x588)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x1a0810=_0xa39756,_0x2428a3=document[_0x1a0810(0x8fb)]('math-topics-checkbox-container'),_0x3ac793=_0x2428a3[_0x1a0810(0x6aa)](_0x1a0810(0xd0a));_0x3ac793[_0x1a0810(0x71e)](_0x1fc951=>{_0x1fc951['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x748765){const _0x1618aa=_0xa39756;if(!_0x748765)return;try{const _0x5540c9=doc(db,'artifacts/'+appId+_0x1618aa(0x2b1),_0x748765);await deleteDoc(_0x5540c9),showMessage(_0x1618aa(0xb4e));}catch(_0x54fbf6){console['error'](_0x1618aa(0xcb7),_0x54fbf6),showMessage(_0x1618aa(0xb25));}}async function handleAddCustomMathTopic(){const _0x4b3482=_0xa39756,_0x467d35=document[_0x4b3482(0x8fb)](_0x4b3482(0x201)),_0x44058a=_0x467d35[_0x4b3482(0x3d4)]['trim']();if(!_0x44058a){showMessage(_0x4b3482(0xde4));return;}if(!userId){showMessage(_0x4b3482(0x6ee));return;}try{const _0x5986ed=collection(db,_0x4b3482(0x73f)+appId+_0x4b3482(0x2b1));await addDoc(_0x5986ed,{'name':_0x44058a,'createdAt':serverTimestamp()}),_0x467d35['value']='',showMessage(_0x4b3482(0x53c)+_0x44058a+'\x22\x20สำเร็จ');}catch(_0x5de3a8){console[_0x4b3482(0xd73)](_0x4b3482(0x66a),_0x5de3a8),showMessage(_0x4b3482(0x838));}}async function handleUpdateOldQuizzes(){const _0x406eec=_0xa39756;showConfirmation(_0x406eec(0xa4c),async()=>{const _0x407bd3=_0x406eec,_0x2df529=document[_0x407bd3(0x8fb)](_0x407bd3(0x77e)),_0x10782f=document[_0x407bd3(0x8fb)](_0x407bd3(0xa03)),_0x509cf0=_0x10782f[_0x407bd3(0xa47)];_0x2df529[_0x407bd3(0xa57)][_0x407bd3(0x586)](_0x407bd3(0xcb3)),_0x10782f[_0x407bd3(0xa47)]=_0x407bd3(0x822);try{const _0x599d8b=collection(db,'artifacts/'+appId+_0x407bd3(0xdb4)),_0x47e5e7=await getDocs(_0x599d8b);if(_0x47e5e7[_0x407bd3(0x294)]){showMessage(_0x407bd3(0x62a));return;}const _0x4c79d3=writeBatch(db);let _0x51184b=0x0;_0x47e5e7[_0x407bd3(0x71e)](_0x42fc59=>{const _0x1e671d=_0x407bd3,_0x3cfba2=_0x42fc59[_0x1e671d(0x3d7)](),_0x46e32f=_0x42fc59['id'];if(_0x3cfba2[_0x1e671d(0x4a2)]&&_0x3cfba2[_0x1e671d(0x4a2)][_0x1e671d(0x7c7)]>0x0&&!_0x3cfba2[_0x1e671d(0x4a2)][0x0][_0x1e671d(0xcaa)]('id')){console[_0x1e671d(0xcf9)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x46e32f+'\x20('+_0x3cfba2[_0x1e671d(0xb19)]+')'),_0x51184b++;const _0x5eb932=_0x3cfba2[_0x1e671d(0x4a2)][_0x1e671d(0x218)]((_0x403241,_0xe8e462)=>{return{..._0x403241,'id':_0x403241['id']||'q_'+Date['now']()+'_'+_0x46e32f+'_'+_0xe8e462};}),_0x2dd194=doc(db,_0x1e671d(0x73f)+appId+_0x1e671d(0xdb4),_0x46e32f);_0x4c79d3[_0x1e671d(0x40d)](_0x2dd194,{'questions':_0x5eb932});}}),_0x51184b>0x0?(_0x10782f[_0x407bd3(0xa47)]=_0x407bd3(0xbc6)+_0x51184b+'\x20รายการ...',await _0x4c79d3[_0x407bd3(0x9f9)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x51184b+_0x407bd3(0xad0))):showMessage(_0x407bd3(0xbf1));}catch(_0x62f150){console['error'](_0x407bd3(0xb44),_0x62f150),showMessage(_0x407bd3(0x2b6)+_0x62f150['message']);}finally{_0x2df529['classList']['add'](_0x407bd3(0xcb3)),_0x10782f[_0x407bd3(0xa47)]=_0x509cf0;}});}async function handleBulkUpdateQuizSettings(){const _0x33e02a=_0xa39756,_0x550110={'shuffle':document['getElementById'](_0x33e02a(0x241))[_0x33e02a(0x3d4)],'resultsDisplay':document['getElementById']('bulk-results-display-select')[_0x33e02a(0x3d4)],'loopUntilPass':document[_0x33e02a(0x8fb)](_0x33e02a(0xc0b))[_0x33e02a(0x588)],'isConfidenceScoringEnabled':document[_0x33e02a(0x8fb)](_0x33e02a(0x832))[_0x33e02a(0x588)],'confidenceMode':document[_0x33e02a(0x8fb)](_0x33e02a(0x850))[_0x33e02a(0x3d4)]};try{showMessage(_0x33e02a(0x774));const _0x5af230=await getDocs(collection(db,_0x33e02a(0x73f)+appId+_0x33e02a(0xdb4))),_0x45a766=_0x5af230[_0x33e02a(0x485)][_0x33e02a(0x218)](_0xafa1ad=>({'id':_0xafa1ad['id'],'data':_0xafa1ad[_0x33e02a(0x3d7)]()})),_0x24abec=_0x45a766[_0x33e02a(0x7c7)];showConfirmation(_0x33e02a(0x905)+_0x24abec+_0x33e02a(0xde6),async()=>{const _0x392dd8=_0x33e02a,_0xe25303=document['getElementById']('confirm-bulk-quiz-settings-btn');_0xe25303['disabled']=!![],_0xe25303[_0x392dd8(0x878)]=_0x392dd8(0x237);try{const _0x1aaf1d=writeBatch(db);_0x45a766[_0x392dd8(0x71e)](_0x66a57c=>{const _0x1d2dd3=_0x392dd8,_0x34c329=doc(db,_0x1d2dd3(0x73f)+appId+_0x1d2dd3(0xdb4),_0x66a57c['id']),_0x2d9891={..._0x66a57c['data']['settings']||{},..._0x550110};_0x1aaf1d[_0x1d2dd3(0x40d)](_0x34c329,{'settings':_0x2d9891});}),await _0x1aaf1d[_0x392dd8(0x9f9)](),document[_0x392dd8(0x8fb)](_0x392dd8(0x99b))[_0x392dd8(0xa57)][_0x392dd8(0x8de)]('hidden'),showMessage(_0x392dd8(0x52e)+_0x24abec+_0x392dd8(0x5f7));}catch(_0x3fcd1e){console[_0x392dd8(0xd73)](_0x392dd8(0x60f),_0x3fcd1e),showMessage(_0x392dd8(0x5e4));}finally{_0xe25303[_0x392dd8(0xc96)]=![],_0xe25303[_0x392dd8(0x878)]=_0x392dd8(0x94b);}});}catch(_0x310cf7){console[_0x33e02a(0xd73)](_0x33e02a(0x25b),_0x310cf7),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x2f7ab9=_0xa39756,_0x2f2e1b=document[_0x2f7ab9(0x8fb)](_0x2f7ab9(0x43f)),_0x487600=document['getElementById']('save-project-name-btn'),_0x5e5bf9=_0x2f2e1b[_0x2f7ab9(0xa47)]['trim']();if(!_0x5e5bf9||!currentProjectId){showMessage(_0x2f7ab9(0x32f)),_0x2f2e1b[_0x2f7ab9(0xa47)]=currentProjectData[_0x2f7ab9(0x437)];return;}_0x487600[_0x2f7ab9(0xc96)]=!![],_0x487600[_0x2f7ab9(0x878)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x4971a1=doc(db,_0x2f7ab9(0x73f)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x4971a1,{'projectName':_0x5e5bf9}),currentProjectData&&(currentProjectData[_0x2f7ab9(0x437)]=_0x5e5bf9),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x25e8e9){console[_0x2f7ab9(0xd73)](_0x2f7ab9(0x662),_0x25e8e9),showMessage(_0x2f7ab9(0xcab)),_0x2f2e1b[_0x2f7ab9(0xa47)]=currentProjectData[_0x2f7ab9(0x437)];}finally{_0x487600[_0x2f7ab9(0xa57)][_0x2f7ab9(0x8de)](_0x2f7ab9(0xcb3)),_0x487600['disabled']=![],_0x487600[_0x2f7ab9(0x878)]=_0x2f7ab9(0x74c);}}function handleGeneratePracticeTest(_0x1c72b0,_0x194ece){const _0x4866e9=_0xa39756,_0x3d52f5=document[_0x4866e9(0x8fb)](_0x4866e9(0xc50)),_0x4f0930=document[_0x4866e9(0x8fb)](_0x4866e9(0x5fc)),_0x15ce88=document[_0x4866e9(0x8fb)](_0x4866e9(0x955)),_0x58c6d3=document['getElementById']('lesson-sections-container');_0x4f0930['textContent']=_0x4866e9(0x8b7)+_0x1c72b0,_0x58c6d3[_0x4866e9(0xa57)]['add'](_0x4866e9(0xcb3)),_0x15ce88['classList'][_0x4866e9(0x586)](_0x4866e9(0xcb3)),_0x3d52f5[_0x4866e9(0xa57)][_0x4866e9(0x586)]('hidden'),generatePracticeTest(_0x1c72b0,_0x194ece)[_0x4866e9(0x7a3)](_0x2b6590=>{const _0x5802b7=_0x4866e9;console[_0x5802b7(0xd73)]('Failed\x20to\x20generate\x20practice\x20test:',_0x2b6590),showMessage(_0x5802b7(0xd23)),_0x3d52f5[_0x5802b7(0xa57)]['add'](_0x5802b7(0xcb3));});}async function generatePracticeTest(_0x2f5572,_0x240edd){const _0x424692=_0xa39756;['pointContent',_0x424692(0x563),_0x424692(0x6cf),_0x424692(0x249)][_0x424692(0x71e)](_0x5c2222=>{const _0x5de148=_0x424692,_0x224730=document['getElementById'](_0x5c2222)[_0x5de148(0x5a3)];_0x224730&&(_0x224730['style'][_0x5de148(0x8fc)]=_0x5de148(0x6dd));});try{const _0xa24892='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x4254cf=_0x424692(0x863)+_0x240edd+_0x424692(0x57a)+_0x2f5572+'\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x42f63c=await callGemini(_0x4254cf,!![]),_0x13f473=document[_0x424692(0x8fb)](_0x424692(0x5fc)),_0x2b618f=document[_0x424692(0x8fb)]('lesson-loader'),_0x2e7ec1=document[_0x424692(0x8fb)](_0x424692(0x7b5)),_0x47e458=document['getElementById'](_0x424692(0x6cf))['parentElement'];_0x13f473[_0x424692(0xc7f)]=_0x424692(0x435)+_0x2f5572[_0x424692(0x50a)](/•\s/g,'')+_0x424692(0xcb5)+_0x240edd+')',currentApplicationData=JSON[_0x424692(0x5ed)](_0x42f63c);const _0x1dd588=document[_0x424692(0x8fb)](_0x424692(0x6cf));_0x1dd588[_0x424692(0x878)]=currentApplicationData['map']((_0x363711,_0x149945)=>_0x424692(0x3ea)+(_0x149945+0x1)+'.\x20'+marked[_0x424692(0x821)](_0x363711[_0x424692(0x84c)])+_0x424692(0xdad)+_0x149945+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x363711[_0x424692(0x9af)][_0x424692(0x218)]((_0x346e80,_0x1ff199)=>_0x424692(0xad7)+_0x149945+',\x20'+_0x1ff199+')\x22>'+String[_0x424692(0x6b1)](0x61+_0x1ff199)+'.\x20'+marked['parseInline'](_0x346e80)+_0x424692(0x996))[_0x424692(0xb7d)]('')+_0x424692(0x97f))[_0x424692(0xb7d)](''),window[_0x424692(0xb54)]&&MathJax[_0x424692(0xa3f)]([_0x1dd588]),_0x47e458&&(_0x47e458[_0x424692(0x4b4)]['display']='block'),_0x2b618f['classList'][_0x424692(0x8de)](_0x424692(0xcb3)),_0x2e7ec1['classList'][_0x424692(0x586)]('hidden');}catch(_0x14e2b7){console['error'](_0x14e2b7);throw _0x14e2b7;}}async function callGemini(_0x1b86dc,_0x56b255=![]){const _0x1ea26a=_0xa39756,_0x22a769=_0x1ea26a(0xacb),_0x413940=_0x1ea26a(0x9b9)+_0x22a769,_0x4c299d={'contents':[{'parts':[{'text':_0x1b86dc}]}]};_0x56b255&&(_0x4c299d['generationConfig']={'responseMimeType':_0x1ea26a(0x9d9)},_0x1b86dc[_0x1ea26a(0x44e)](_0x1ea26a(0x54a))?_0x4c299d[_0x1ea26a(0x4ff)][_0x1ea26a(0xc8b)]={'type':'OBJECT','properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':'ARRAY','items':{'type':_0x1ea26a(0x444),'properties':{'sara':{'type':_0x1ea26a(0x4d7)},'mainTopics':{'type':'ARRAY','items':{'type':_0x1ea26a(0x444),'properties':{'topicName':{'type':_0x1ea26a(0x4d7)},'subTopics':{'type':_0x1ea26a(0x2d8),'items':{'type':_0x1ea26a(0x4d7)}}},'required':[_0x1ea26a(0x825),_0x1ea26a(0x446)]}}},'required':[_0x1ea26a(0x788),_0x1ea26a(0x6cb)]}}},'required':[_0x1ea26a(0x428),_0x1ea26a(0x39f)]}:_0x4c299d[_0x1ea26a(0x4ff)][_0x1ea26a(0xc8b)]={'type':_0x1ea26a(0x2d8),'items':{'type':_0x1ea26a(0x444),'properties':{'question':{'type':_0x1ea26a(0x4d7)},'options':{'type':_0x1ea26a(0x2d8),'items':{'type':_0x1ea26a(0x4d7)}},'answer':{'type':'NUMBER'}},'required':[_0x1ea26a(0x84c),_0x1ea26a(0x9af),_0x1ea26a(0x494)]}});try{const _0x9e1873=await fetch(_0x413940,{'method':_0x1ea26a(0xb56),'headers':{'Content-Type':_0x1ea26a(0x9d9)},'body':JSON[_0x1ea26a(0x8ff)](_0x4c299d)});if(!_0x9e1873['ok']){const _0x25bda4=await _0x9e1873[_0x1ea26a(0x54d)]();console[_0x1ea26a(0xd73)]('API\x20Error\x20Body:',_0x25bda4);throw new Error(_0x1ea26a(0xbdb)+_0x9e1873[_0x1ea26a(0xcce)]);}const _0x593a3c=await _0x9e1873['json']();if(_0x593a3c[_0x1ea26a(0x4a4)]&&_0x593a3c['candidates'][0x0][_0x1ea26a(0x68b)]&&_0x593a3c[_0x1ea26a(0x4a4)][0x0][_0x1ea26a(0x68b)]['parts'][0x0])return _0x593a3c[_0x1ea26a(0x4a4)][0x0][_0x1ea26a(0x68b)]['parts'][0x0]['text'];else{console['error'](_0x1ea26a(0xddb),_0x593a3c);if(_0x593a3c['candidates']&&_0x593a3c[_0x1ea26a(0x4a4)][0x0][_0x1ea26a(0x519)]===_0x1ea26a(0x31b))return JSON['stringify']({'error':_0x1ea26a(0x706)});throw new Error(_0x1ea26a(0x720));}}catch(_0x27c1c0){console[_0x1ea26a(0xd73)]('Error\x20calling\x20Gemini\x20API:',_0x27c1c0);throw _0x27c1c0;}}async function generateLesson(_0x563e67=null,_0x503475=null){const _0x3af9dd=_0xa39756,_0x53f455=_0x563e67,_0x974014=_0x503475||'ไม่ระบุ',_0x5b0b7e=document[_0x3af9dd(0x8fb)](_0x3af9dd(0x955)),_0x28b8ec=document['getElementById'](_0x3af9dd(0x4e1));_0x28b8ec['textContent']=_0x3af9dd(0xbed)+_0x53f455+_0x3af9dd(0xcec);try{let _0x400bf7=[];const _0x20840e=document['getElementById'](_0x3af9dd(0x1f2))?.[_0x3af9dd(0x3d4)][_0x3af9dd(0x6a8)]();if(_0x20840e)try{_0x28b8ec[_0x3af9dd(0xa47)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x361525=await fetchFileFromUrl(_0x20840e,_0x3af9dd(0x32d)),_0x580adc=await new Promise((_0xdbdf8e,_0x392714)=>{const _0x51e9b9=_0x3af9dd,_0x4c607d=new FileReader();_0x4c607d[_0x51e9b9(0x7e5)](_0x361525),_0x4c607d[_0x51e9b9(0x78f)]=()=>_0xdbdf8e(_0x4c607d['result'][_0x51e9b9(0x5da)](',')[0x1]),_0x4c607d['onerror']=_0x392714;});_0x400bf7[_0x3af9dd(0xbdd)]({'inlineData':{'mimeType':_0x361525[_0x3af9dd(0xbc3)],'data':_0x580adc}});}catch(_0x54dc41){console[_0x3af9dd(0xd73)]('Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.',_0x54dc41),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ');}const _0x7709b3=_0x3af9dd(0xb12)+_0x53f455+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x53f455+'\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20';_0x28b8ec['textContent']=_0x3af9dd(0xbed)+_0x53f455+_0x3af9dd(0xcec);const _0x164c6b='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x974014+_0x3af9dd(0x57a)+_0x53f455+_0x3af9dd(0xcd0)+_0x7709b3+_0x3af9dd(0x2ed),_0x20d3b7=_0x3af9dd(0x2cd)+_0x53f455+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x974014+_0x3af9dd(0x765)+_0x7709b3+_0x3af9dd(0x3f6),_0x397db1=_0x3af9dd(0x863)+_0x974014+_0x3af9dd(0x57a)+_0x53f455+_0x3af9dd(0xbc5)+_0x7709b3+_0x3af9dd(0xce0),_0x3df67d='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x53f455+'\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x974014+_0x3af9dd(0x543)+_0x7709b3+_0x3af9dd(0xc5b),_0x5c9376={'type':_0x3af9dd(0x2d8),'items':{'type':_0x3af9dd(0x444),'properties':{'question':{'type':_0x3af9dd(0x4d7)},'options':{'type':_0x3af9dd(0x2d8),'items':{'type':_0x3af9dd(0x4d7)}},'answer':{'type':_0x3af9dd(0x51e)}},'required':[_0x3af9dd(0x84c),_0x3af9dd(0x9af),'answer']}},[_0x5b0576,_0x503fa8,_0x24b710,_0x201a76]=await Promise[_0x3af9dd(0x49d)]([handleApiCall([{'text':_0x164c6b},..._0x400bf7],_0x3af9dd(0x400),null,null,![]),handleApiCall([{'text':_0x20d3b7},..._0x400bf7],_0x3af9dd(0x400),null,null,![]),handleApiCall([{'text':_0x397db1},..._0x400bf7],_0x3af9dd(0x400),_0x5c9376,null,![]),handleApiCall([{'text':_0x3df67d},..._0x400bf7],'...',null,null,![])]),_0x5f4fea=JSON[_0x3af9dd(0x8ff)](_0x24b710||[]),_0x3784ce=document[_0x3af9dd(0x8fb)](_0x3af9dd(0x5fc)),_0x1528b5=document[_0x3af9dd(0x8fb)](_0x3af9dd(0x7b5));_0x3784ce[_0x3af9dd(0xc7f)]='บทเรียนเรื่อง:\x20'+_0x53f455[_0x3af9dd(0x50a)](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x974014+')',[_0x3af9dd(0x769),_0x3af9dd(0x563),_0x3af9dd(0x249)][_0x3af9dd(0x71e)](_0x7aa1db=>{const _0x32df97=_0x3af9dd;document[_0x32df97(0x8fb)](_0x7aa1db)['innerHTML']='';}),document[_0x3af9dd(0x8fb)](_0x3af9dd(0x769))[_0x3af9dd(0x878)]=_0x5b0576?marked[_0x3af9dd(0x5ed)](_0x5b0576):_0x3af9dd(0xd1a),document[_0x3af9dd(0x8fb)](_0x3af9dd(0x563))[_0x3af9dd(0x878)]=_0x503fa8?marked['parse'](_0x503fa8):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x3af9dd(0x8fb)](_0x3af9dd(0x249))[_0x3af9dd(0x878)]=_0x201a76?marked[_0x3af9dd(0x5ed)](_0x201a76):_0x3af9dd(0xd1a),currentApplicationData=JSON[_0x3af9dd(0x5ed)](_0x5f4fea);const _0x53909c=document[_0x3af9dd(0x8fb)](_0x3af9dd(0x6cf));_0x53909c['innerHTML']=(currentApplicationData||[])[_0x3af9dd(0x218)]((_0x1c735a,_0x1d05a3)=>_0x3af9dd(0x3ea)+(_0x1d05a3+0x1)+'.\x20'+marked['parseInline'](_0x1c735a[_0x3af9dd(0x84c)]||'')+_0x3af9dd(0xdad)+_0x1d05a3+_0x3af9dd(0xde9)+(_0x1c735a[_0x3af9dd(0x9af)]||[])[_0x3af9dd(0x218)]((_0xbebf0e,_0x51eeac)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x1d05a3+',\x20'+_0x51eeac+_0x3af9dd(0x4aa)+String[_0x3af9dd(0x6b1)](0x61+_0x51eeac)+'.\x20'+marked[_0x3af9dd(0x821)](_0xbebf0e||'')+_0x3af9dd(0x996))[_0x3af9dd(0xb7d)]('')+_0x3af9dd(0x97f))[_0x3af9dd(0xb7d)]('')||_0x3af9dd(0x530),window[_0x3af9dd(0xb54)]&&MathJax[_0x3af9dd(0xa3f)]([_0x1528b5]),_0x5b0b7e[_0x3af9dd(0xa57)][_0x3af9dd(0x8de)](_0x3af9dd(0xcb3)),_0x1528b5[_0x3af9dd(0xa57)]['remove'](_0x3af9dd(0xcb3));}catch(_0x35673b){console[_0x3af9dd(0xd73)](_0x35673b);throw _0x35673b;}}function checkAnswer(_0x12b6a8,_0x392e96){const _0x5eaf11=_0xa39756,_0x49e3dd=currentApplicationData[_0x12b6a8],_0x350e48=document['getElementById']('q'+_0x12b6a8+_0x5eaf11(0x947)),_0x2b8aec=_0x350e48[_0x5eaf11(0x975)](_0x5eaf11(0x54e));for(let _0x44c6e4 of _0x2b8aec){_0x44c6e4[_0x5eaf11(0xc96)]=!![];}_0x392e96===_0x49e3dd['answer']?_0x2b8aec[_0x392e96]['classList']['add']('correct'):(_0x2b8aec[_0x392e96][_0x5eaf11(0xa57)][_0x5eaf11(0x8de)](_0x5eaf11(0x7ea)),_0x2b8aec[_0x49e3dd[_0x5eaf11(0x494)]][_0x5eaf11(0xa57)][_0x5eaf11(0x8de)](_0x5eaf11(0x436)));}window[_0xa39756(0x5e0)]=handleGenerateAndShowLesson,window[_0xa39756(0x6e0)]=checkAnswer,window[_0xa39756(0xc38)]=handleGeneratePracticeTest,window[_0xa39756(0xc99)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x339c40=_0xa39756;try{const _0x16574b=initializeApp(firebaseConfig);db=getFirestore(_0x16574b),auth=getAuth(_0x16574b),setupAuthListener(),setupEventListeners(),showView(_0x339c40(0x79f)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x3898a1){console[_0x339c40(0xd73)](_0x339c40(0x854),_0x3898a1),showMessage(_0x339c40(0x6c5));}}async function handleVerifyAnswersInEditor(){const _0x534d7a=_0xa39756,_0x5b3abb=document[_0x534d7a(0x8fb)]('quiz-editor-modal');if(!_0x5b3abb)return;const _0x2de00e=document[_0x534d7a(0x8fb)](_0x534d7a(0xd53));_0x2de00e[_0x534d7a(0xc96)]=!![],_0x2de00e['innerHTML']=_0x534d7a(0x74b);try{const _0x570e81=_0x5b3abb[_0x534d7a(0x6aa)](_0x534d7a(0x617)),_0x487ba2=Array[_0x534d7a(0x275)](_0x570e81)['map']((_0x45bfed,_0x59805c)=>{const _0x2eaa6c=_0x534d7a,_0x15fd50=_0x45bfed[_0x2eaa6c(0x87f)][_0x2eaa6c(0x903)],_0x3e6d15=_0x45bfed['querySelector'](_0x2eaa6c(0xb43))[_0x2eaa6c(0x3d4)];let _0x46bfff=null,_0x573036='';switch(_0x15fd50){case _0x2eaa6c(0x525):const _0x2ecd27=_0x45bfed[_0x2eaa6c(0x6aa)](_0x2eaa6c(0x869));_0x46bfff=Array['from'](_0x2ecd27)['map'](_0x1471c3=>_0x1471c3[_0x2eaa6c(0x3d4)]);const _0x3f71ee=_0x45bfed[_0x2eaa6c(0xa01)]('input[type=\x22radio\x22]:checked');_0x3f71ee&&(_0x573036=_0x46bfff[parseInt(_0x3f71ee[_0x2eaa6c(0x3d4)])]);break;case'short_answer':_0x46bfff=[],_0x573036=_0x45bfed['querySelector'](_0x2eaa6c(0x80f))['value'];break;case _0x2eaa6c(0xc4d):_0x46bfff=['true',_0x2eaa6c(0xb1f)];const _0x2125d2=_0x45bfed[_0x2eaa6c(0xa01)](_0x2eaa6c(0x2bb));_0x573036=_0x2125d2?_0x2125d2[_0x2eaa6c(0x3d4)]:'';break;case _0x2eaa6c(0xbd6):_0x46bfff=[],_0x573036=_0x45bfed[_0x2eaa6c(0xa01)](_0x2eaa6c(0x390))[_0x2eaa6c(0x3d4)];break;}return{'question':_0x3e6d15,'options':_0x46bfff,'proposedAnswer':_0x573036};}),_0x1ae2a1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x534d7a(0x8ff)](_0x487ba2)+_0x534d7a(0xaf2),_0x31f353={'type':_0x534d7a(0x2d8),'items':{'type':_0x534d7a(0x444),'properties':{'questionIndex':{'type':_0x534d7a(0x51e)},'isCorrect':{'type':_0x534d7a(0xd9a)},'justification':{'type':_0x534d7a(0x4d7)},'correctOptionExists':{'type':_0x534d7a(0xd9a)},'suggestedAnswer':{'type':_0x534d7a(0x4d7)},'newOptionsPayload':{'type':_0x534d7a(0x444),'properties':{'newOptions':{'type':'ARRAY','items':{'type':_0x534d7a(0x4d7)}},'newCorrectIndex':{'type':_0x534d7a(0x51e)}}}},'required':[_0x534d7a(0x403),_0x534d7a(0x671),_0x534d7a(0x350)]}},_0x2260f1=await callAnalysisApi(_0x1ae2a1,{'type':_0x534d7a(0x444),'properties':{'result':_0x31f353},'required':[_0x534d7a(0x3c3)]});displayVerificationResultsInEditor(_0x2260f1[_0x534d7a(0x3c3)]);}catch(_0x43d7d8){console[_0x534d7a(0xd73)](_0x534d7a(0x897),_0x43d7d8),showMessage(_0x534d7a(0x34e));}finally{_0x2de00e[_0x534d7a(0xc96)]=![],_0x2de00e[_0x534d7a(0x878)]=_0x534d7a(0x741);}}function displayVerificationResultsInEditor(_0x486896){const _0x29df7e=_0xa39756;_0x486896['forEach'](_0x8ca96e=>{const _0x38530e=_0x395e,_0x506b3c=document[_0x38530e(0xa01)]('.question-editor-item[data-q-index=\x22'+_0x8ca96e[_0x38530e(0x403)]+'\x22]');if(!_0x506b3c)return;const _0x10c4ce=_0x506b3c[_0x38530e(0xa01)](_0x38530e(0x90b));if(_0x10c4ce)_0x10c4ce[_0x38530e(0x586)]();let _0xc0784d='';if(_0x8ca96e[_0x38530e(0x9d7)]&&_0x8ca96e[_0x38530e(0x9d7)][_0x38530e(0x6af)]){const _0x1e959e=_0x8ca96e[_0x38530e(0x9d7)][_0x38530e(0x6af)],_0x5ea24f=_0x8ca96e['newOptionsPayload'][_0x38530e(0xb9c)],_0x5ebb61=_0x506b3c['dataset'][_0x38530e(0x903)];if(_0x5ebb61==='multiple_choice'){const _0x57c870=_0x506b3c['querySelectorAll'](_0x38530e(0x869));_0x57c870[_0x38530e(0x71e)]((_0x3f2091,_0x3ec79a)=>{const _0x4ace87=_0x38530e;_0x1e959e[_0x3ec79a]?_0x3f2091['value']=_0x1e959e[_0x3ec79a]:_0x3f2091[_0x4ace87(0x3d4)]=_0x4ace87(0x539);});const _0x2adea0=_0x506b3c[_0x38530e(0xa01)]('input[type=\x22radio\x22][value=\x22'+_0x5ea24f+'\x22]');_0x2adea0&&(_0x2adea0['checked']=!![]),_0xc0784d=_0x38530e(0x9f6),_0x506b3c[_0x38530e(0xa57)][_0x38530e(0x8de)](_0x38530e(0x834),_0x38530e(0x3e6),'duration-300'),setTimeout(()=>{const _0x5d0c1d=_0x38530e;_0x506b3c['classList'][_0x5d0c1d(0x586)](_0x5d0c1d(0x834));},0x9c4);}}else{if(!_0x8ca96e[_0x38530e(0x671)]&&_0x8ca96e[_0x38530e(0x3ac)]){const _0x3ba85e=_0x8ca96e['suggestedAnswer']?_0x38530e(0x9d1):'';_0xc0784d=_0x38530e(0x887)+_0x3ba85e+_0x38530e(0x49b)+_0x8ca96e[_0x38530e(0x350)]+_0x38530e(0x907)+(_0x8ca96e['suggestedAnswer']?_0x38530e(0x35d)+_0x8ca96e['suggestedAnswer']+_0x38530e(0xc74):'')+_0x38530e(0x318);const _0x2c88dc=_0x506b3c[_0x38530e(0x87f)][_0x38530e(0x903)],_0x406b5e=_0xc5b53b=>{const _0x5e81aa=_0x38530e;if(!_0xc5b53b)return;_0xc5b53b['classList'][_0x5e81aa(0x8de)](_0x5e81aa(0xb94),_0x5e81aa(0x3e6),'duration-300'),setTimeout(()=>{const _0x9ceeb=_0x5e81aa;_0xc5b53b[_0x9ceeb(0xa57)]['remove'](_0x9ceeb(0xb94));},0x9c4);};if(_0x2c88dc===_0x38530e(0x525)){const _0x1999f5=Array[_0x38530e(0x275)](_0x506b3c[_0x38530e(0x6aa)](_0x38530e(0x869))),_0x490028=_0x1999f5['findIndex'](_0x30fd08=>_0x30fd08[_0x38530e(0x3d4)][_0x38530e(0x6a8)]()[_0x38530e(0xb4d)]()===_0x8ca96e[_0x38530e(0x3ac)][_0x38530e(0x6a8)]()[_0x38530e(0xb4d)]());if(_0x490028!==-0x1){const _0x15da77=_0x506b3c[_0x38530e(0xa01)](_0x38530e(0xabc)+_0x490028+'\x22]');_0x15da77&&(_0x15da77[_0x38530e(0x588)]=!![],_0x406b5e(_0x15da77[_0x38530e(0x762)](_0x38530e(0x98f))));}}else{if(_0x2c88dc==='short_answer'||_0x2c88dc===_0x38530e(0xbd6)){const _0x13745b=_0x506b3c[_0x38530e(0xa01)](_0x38530e(0x2a5));_0x13745b&&(_0x13745b[_0x38530e(0x3d4)]=_0x8ca96e[_0x38530e(0x3ac)],_0x406b5e(_0x13745b));}else{if(_0x2c88dc==='true_false'){const _0x57f446=_0x8ca96e['suggestedAnswer'][_0x38530e(0x6a8)]()['toLowerCase'](),_0x556faf=_0x506b3c[_0x38530e(0xa01)](_0x38530e(0xabc)+_0x57f446+'\x22]');_0x556faf&&(_0x556faf['checked']=!![],_0x406b5e(_0x556faf[_0x38530e(0x762)](_0x38530e(0x98f))));}}}}else _0x8ca96e[_0x38530e(0x671)]&&(_0xc0784d=_0x38530e(0x61c));}_0x506b3c['insertAdjacentHTML'](_0x38530e(0x9ea),_0xc0784d);}),showMessage(_0x29df7e(0x49e));}async function handleVerifyAnswers(){const _0xe06eca=_0xa39756;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x215d07=document[_0xe06eca(0x8fb)]('verify-answers-btn');_0x215d07['disabled']=!![],_0x215d07['innerHTML']=_0xe06eca(0x74b);try{const _0x14bc17=currentQuizData[_0xe06eca(0x4a2)][_0xe06eca(0x218)]((_0x319c99,_0x4aa57b)=>{const _0x41a995=_0xe06eca;let _0x39711f='';const _0x15b41c=_0x319c99[_0x41a995(0x672)]||currentQuizData[_0x41a995(0x28e)];switch(_0x15b41c){case'multiple_choice':_0x39711f=_0x319c99['options'][_0x319c99['correctAnswerIndex']];break;case _0x41a995(0x880):_0x39711f=_0x319c99['idealAnswer'];break;case'true_false':_0x39711f=_0x319c99[_0x41a995(0xdae)][_0x41a995(0x2e7)]();break;case _0x41a995(0xbd6):_0x39711f=_0x319c99[_0x41a995(0x8e8)];break;}return{'question':_0x319c99[_0x41a995(0x722)]||_0x319c99[_0x41a995(0xcd1)],'options':_0x319c99[_0x41a995(0x9af)]||null,'proposedAnswer':_0x39711f};}),_0x4d81f0=_0xe06eca(0x67c)+JSON[_0xe06eca(0x8ff)](_0x14bc17)+_0xe06eca(0x7d7),_0x123754={'type':'ARRAY','items':{'type':_0xe06eca(0x444),'properties':{'questionIndex':{'type':_0xe06eca(0x51e)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0xe06eca(0x4d7)},'suggestedAnswer':{'type':_0xe06eca(0x4d7)}},'required':[_0xe06eca(0x403),_0xe06eca(0x671),_0xe06eca(0x350)]}},_0x183acf=await callAnalysisApi(_0x4d81f0,{'type':_0xe06eca(0x444),'properties':{'result':_0x123754},'required':[_0xe06eca(0x3c3)]});displayVerificationResults(_0x183acf[_0xe06eca(0x3c3)]);}catch(_0xabe82e){console[_0xe06eca(0xd73)]('Error\x20verifying\x20answers:',_0xabe82e),showMessage(_0xe06eca(0x34e));}finally{_0x215d07[_0xe06eca(0xc96)]=![],_0x215d07[_0xe06eca(0x878)]=_0xe06eca(0xc60);}}function displayVerificationResults(_0x580faf){const _0x37fa43=_0xa39756;_0x580faf[_0x37fa43(0x71e)](_0x496b8d=>{const _0x2de248=_0x37fa43,_0x2861b8=document['querySelector'](_0x2de248(0x44b)+_0x496b8d[_0x2de248(0x403)]+'\x22]');if(_0x2861b8){const _0x2211d6=_0x2861b8['querySelector'](_0x2de248(0xda7));if(_0x2211d6)_0x2211d6[_0x2de248(0x586)]();let _0x635c05='';_0x496b8d[_0x2de248(0x671)]?_0x635c05=_0x2de248(0xd1d):_0x635c05=_0x2de248(0xa32)+_0x496b8d[_0x2de248(0x350)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x496b8d[_0x2de248(0x3ac)]?_0x2de248(0x35d)+_0x496b8d[_0x2de248(0x3ac)]+_0x2de248(0xc74):'')+_0x2de248(0xc33),_0x2861b8[_0x2de248(0xd92)]('beforeend',_0x635c05);}}),showMessage(_0x37fa43(0x49e));}function compareNumericalAnswers(_0x1e06fc,_0x48dd71){const _0x2bb4aa=_0xa39756,_0x5d8c30=String(_0x1e06fc)[_0x2bb4aa(0x50a)](',','.')[_0x2bb4aa(0x50a)](/[^\d.-]/g,'')[_0x2bb4aa(0x6a8)](),_0x2a0136=String(_0x48dd71)[_0x2bb4aa(0x50a)](',','.')[_0x2bb4aa(0x50a)](/[^\d.-]/g,'')[_0x2bb4aa(0x6a8)]();if(_0x5d8c30===''||_0x2a0136==='')return![];const _0x2762d4=parseFloat(_0x5d8c30),_0x5d7cbb=parseFloat(_0x2a0136);if(isNaN(_0x2762d4)||isNaN(_0x5d7cbb))return![];return Math[_0x2bb4aa(0x785)](_0x2762d4-_0x5d7cbb)<0.001;}function isPotentiallyNumeric(_0x581b67){const _0x19399=_0xa39756;if(typeof _0x581b67!==_0x19399(0xb55)&&typeof _0x581b67!==_0x19399(0x51d))return![];const _0x49810f=String(_0x581b67)['replace'](',','.')[_0x19399(0x6a8)]();return _0x49810f!==''&&!isNaN(parseFloat(_0x49810f))&&isFinite(_0x49810f);}async function gradeShortAnswer(_0x2e2762,_0x1fa1b3){const _0x5ec156=_0xa39756,_0x5adc81=_0x1fa1b3[_0x5ec156(0x5c6)],_0x44b968=String(_0x2e2762)[_0x5ec156(0x50a)](/\$/g,'')[_0x5ec156(0x6a8)](),_0x48c66e=String(_0x5adc81)[_0x5ec156(0x50a)](/\$/g,'')[_0x5ec156(0x6a8)]();if(_0x44b968[_0x5ec156(0xb4d)]()===_0x48c66e['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x44b968)&&isPotentiallyNumeric(_0x48c66e)){if(compareNumericalAnswers(_0x44b968,_0x48c66e))return!![];}return console['log'](_0x5ec156(0xb26)),await gradeShortAnswerWithAI(_0x2e2762,_0x5adc81);}async function revealAnswerForAdmin(_0x55bfe2,_0x567550){const _0x5cff4e=_0xa39756,_0x3cd9d1=doc(db,'artifacts/'+appId+_0x5cff4e(0xd19),currentLiveGameId);await updateDoc(_0x3cd9d1,{'questionStatus':_0x5cff4e(0xd30)});}function showTop5LeaderboardView(_0x5bd14a){const _0x39bf96=_0xa39756,_0x5e42aa=Object[_0x39bf96(0x2fa)](_0x5bd14a['players']||{})['filter'](_0x5b8bd6=>_0x5b8bd6[_0x39bf96(0xcce)]===_0x39bf96(0xd52));_0x5e42aa['sort']((_0x2eee15,_0x2b9e46)=>_0x2b9e46['score']-_0x2eee15['score']);const _0x2dca98=_0x5e42aa[_0x39bf96(0x210)](0x0,0x5),_0x303aea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2dca98[_0x39bf96(0x218)]((_0x11ff2c,_0x688970)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x688970+0x1)+'.\x20'+(_0x11ff2c[_0x39bf96(0x4ee)]||Object[_0x39bf96(0x65c)](_0x5bd14a[_0x39bf96(0x20e)])[_0x39bf96(0xaf7)](_0x3cc05a=>_0x5bd14a['players'][_0x3cc05a]===_0x11ff2c))+_0x39bf96(0x29d)+_0x11ff2c[_0x39bf96(0x3e4)]+_0x39bf96(0x93a))['join']('')+_0x39bf96(0x8db)+(_0x5bd14a[_0x39bf96(0xa73)]+0x1===currentQuizData[_0x39bf96(0x4a2)][_0x39bf96(0x7c7)]?_0x39bf96(0x4b9):_0x39bf96(0x5e1))+_0x39bf96(0x76a);liveGameView[_0x39bf96(0x878)]=_0x303aea,document[_0x39bf96(0x8fb)](_0x39bf96(0x4ed))[_0x39bf96(0xb95)]('click',async()=>{const _0x1affcc=_0x39bf96,_0x5d06b1=doc(db,_0x1affcc(0x73f)+appId+_0x1affcc(0xd19),currentLiveGameId),_0x41c9af=_0x5bd14a['currentQuestionIndex']+0x1;if(_0x41c9af<currentQuizData['questions'][_0x1affcc(0x7c7)]){const _0x26aecf={'currentQuestionIndex':_0x41c9af,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x1affcc(0x986)};Object[_0x1affcc(0x65c)](_0x5bd14a['players'])[_0x1affcc(0x71e)](_0x57d1ce=>{const _0x120fe4=_0x1affcc;_0x26aecf[_0x120fe4(0xae0)+_0x57d1ce+_0x120fe4(0x8b1)]=![];}),await updateDoc(_0x5d06b1,_0x26aecf);}else await updateDoc(_0x5d06b1,{'status':_0x1affcc(0x730)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x168abb=>{const _0x27d8c7=_0x395e;if(_0x168abb){userId=_0x168abb[_0x27d8c7(0x517)],userIdDisplay[_0x27d8c7(0xa47)]=userId;const _0x305628=await loadUserPreferences();_0x305628['projectSortOrder']&&(document['getElementById'](_0x27d8c7(0x3b0))[_0x27d8c7(0x3d4)]=_0x305628['projectSortOrder']);globalDashboardSettings[_0x27d8c7(0xb1c)]=_0x305628[_0x27d8c7(0xb1c)]||_0x27d8c7(0x7ad);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x2825f3,_0x4553b5){const _0x4a4186=_0xa39756;if(!userId)return;try{const _0x480314=doc(db,_0x4a4186(0x73f)+appId+_0x4a4186(0xc2a)+userId+'/preferences/main'),_0x1f128c={};_0x1f128c[_0x2825f3]=_0x4553b5,await setDoc(_0x480314,_0x1f128c,{'merge':!![]});}catch(_0x71f538){console[_0x4a4186(0xd73)]('Error\x20saving\x20user\x20preference:',_0x71f538);}}async function loadUserPreferences(){const _0x2c0ea3=_0xa39756;if(!userId)return{};try{const _0x2cbc44=doc(db,_0x2c0ea3(0x73f)+appId+_0x2c0ea3(0xc2a)+userId+_0x2c0ea3(0x622)),_0x3ee082=await getDoc(_0x2cbc44);if(_0x3ee082['exists']())return _0x3ee082[_0x2c0ea3(0x3d7)]();return{};}catch(_0x356206){return console[_0x2c0ea3(0xd73)](_0x2c0ea3(0x544),_0x356206),{};}}function parseIndentedBlueprint(_0x54bd88){const _0x41f7ec=_0xa39756,_0x1ca905=_0x54bd88['split']('\x0a')[_0x41f7ec(0x4da)](_0x3fa978=>_0x3fa978[_0x41f7ec(0x6a8)]()!==''),_0x5a565d=[];let _0x497a75=null,_0x86368e=null;return _0x1ca905[_0x41f7ec(0x71e)](_0x21dd83=>{const _0x55bb76=_0x41f7ec,_0x2e5d8d=_0x21dd83[_0x55bb76(0xdce)](/^\s*/)[0x0][_0x55bb76(0x7c7)],_0x5cb2ff=_0x21dd83['trim']();if(_0x2e5d8d===0x0)_0x497a75={'sara':_0x5cb2ff,'mainTopics':[]},_0x5a565d[_0x55bb76(0xbdd)](_0x497a75),_0x86368e=null;else{if(_0x2e5d8d>0x0&&_0x2e5d8d<0x8&&_0x497a75)_0x86368e={'topicName':_0x5cb2ff,'subTopics':[]},_0x497a75[_0x55bb76(0x6cb)]['push'](_0x86368e);else _0x2e5d8d>=0x8&&_0x86368e&&_0x86368e['subTopics'][_0x55bb76(0xbdd)](_0x5cb2ff);}}),{'curriculum':_0x5a565d};}async function handleManualBlueprintSave(){const _0x1d30d3=_0xa39756,_0x20f61b=document[_0x1d30d3(0x8fb)](_0x1d30d3(0x267))[_0x1d30d3(0x3d4)][_0x1d30d3(0x6a8)](),_0x1a6198=document['getElementById'](_0x1d30d3(0x61a))[_0x1d30d3(0x3d4)]['trim'](),_0x373e72=document[_0x1d30d3(0x8fb)](_0x1d30d3(0xa6b))[_0x1d30d3(0x3d4)];if(!_0x20f61b||!_0x1a6198||!_0x373e72){showMessage(_0x1d30d3(0x88b));return;}const _0x52f19a=parseIndentedBlueprint(_0x373e72);if(!_0x52f19a[_0x1d30d3(0x39f)]||_0x52f19a[_0x1d30d3(0x39f)][_0x1d30d3(0x7c7)]===0x0){showMessage(_0x1d30d3(0x2c2));return;}const _0xb51df9={};let _0x4cc5a5=0x0;_0x52f19a[_0x1d30d3(0x39f)][_0x1d30d3(0x71e)](_0x1efff3=>{const _0x36acb5=_0x1d30d3;_0x1efff3['mainTopics'][_0x36acb5(0x71e)](_0x298e75=>{const _0x262a4d=_0x36acb5;_0x298e75[_0x262a4d(0x446)][_0x262a4d(0x71e)](_0x1f5f5e=>{const _0x5790c4=_0x262a4d,_0x1a0c41=_0x5790c4(0x20a)+Date[_0x5790c4(0xcad)]()+Math[_0x5790c4(0x35e)]()[_0x5790c4(0x2e7)](0x24)[_0x5790c4(0x4de)](0x2,0x9);_0xb51df9[_0x1a0c41]={'sara':_0x1efff3[_0x5790c4(0x788)],'mainTopic':_0x298e75[_0x5790c4(0x825)],'subTopic':_0x1f5f5e,'status':_0x5790c4(0x86e),'lessonContent':null,'order':_0x4cc5a5++};});});});try{const _0x5a2657=collection(db,_0x1d30d3(0x73f)+appId+_0x1d30d3(0xba2));await addDoc(_0x5a2657,{'projectName':_0x20f61b,'gradeLevel':_0x1a6198,'topics':_0xb51df9,'createdAt':serverTimestamp()}),showMessage(_0x1d30d3(0x3a9)+_0x20f61b+_0x1d30d3(0x81a)),document[_0x1d30d3(0x8fb)]('manual-blueprint-modal')[_0x1d30d3(0xa57)][_0x1d30d3(0x8de)]('hidden');}catch(_0x196adb){console[_0x1d30d3(0xd73)](_0x1d30d3(0xb38),_0x196adb),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}function handleClearAllLinksForTopic(_0x4fe467){const _0x2b6071=_0xa39756;showConfirmation(_0x2b6071(0xa4a),async()=>{const _0x5a2503=_0x2b6071;try{const _0x465e4b=doc(db,_0x5a2503(0x73f)+appId+_0x5a2503(0xba2),currentBlueprintProjectId);await updateDoc(_0x465e4b,{[_0x5a2503(0x4c8)+_0x4fe467+_0x5a2503(0x864)]:[]}),showMessage(_0x5a2503(0x7a5)),openTopicQuizBank(_0x4fe467),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x461e2d){console[_0x5a2503(0xd73)](_0x5a2503(0xcf5),_0x461e2d),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x2bb995,_0x4e9934=_0xa39756(0x31a)){const _0x4b11a6=_0xa39756,_0x237955=Object[_0x4b11a6(0x761)](_0x2bb995)[_0x4b11a6(0x218)](([_0x11903f,_0x55dc20])=>({'name':_0x11903f,'score':_0x55dc20[_0x4b11a6(0x3e4)]||0x0,'badges':_0x55dc20['badges']||[],'hasPerfectScoreBonus':_0x55dc20[_0x4b11a6(0xdb1)]||![]}));_0x237955[_0x4b11a6(0xcbf)]((_0x6033c0,_0x3de379)=>{const _0x767ae=_0x4b11a6,_0x11ca1a=_0x3de379[_0x767ae(0x3e4)]-_0x6033c0[_0x767ae(0x3e4)];if(_0x11ca1a!==0x0)return _0x11ca1a;return(_0x3de379[_0x767ae(0x30d)][_0x767ae(0x7c7)]||0x0)-(_0x6033c0[_0x767ae(0x30d)][_0x767ae(0x7c7)]||0x0);});const _0x3d6b43=_0x1371d2=>{const _0x2ca158=_0x4b11a6;if(!_0x1371d2||_0x1371d2[_0x2ca158(0x7c7)]===0x0)return'';const _0x52c8f6={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x2ca158(0x75e)+_0x1371d2[_0x2ca158(0x218)](_0x5e486a=>_0x52c8f6[_0x5e486a]||'')[_0x2ca158(0xb7d)]('')+_0x2ca158(0x369);},_0x424108=_0x237955[_0x4b11a6(0x210)](0x3),_0x249e36=_0x424108['length']>0x0?_0x4b11a6(0x8a2)+_0x424108[_0x4b11a6(0x218)]((_0x24de9c,_0x35c94c)=>{const _0x562583=_0x4b11a6,_0x1b5566=_0x24de9c['hasPerfectScoreBonus']?_0x562583(0x26f):'';return _0x562583(0xd91)+(_0x35c94c+0x4)+_0x562583(0xdde)+_0x24de9c[_0x562583(0x4ee)]+_0x562583(0x778)+_0x24de9c[_0x562583(0x3e4)]+'\x20คะแนน\x20'+_0x1b5566+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4b11a6(0xb7d)]('')+_0x4b11a6(0x45f):'',_0x250a96=_0x4b11a6(0x7ce)+(_0x237955[0x1]?_0x4b11a6(0x531)+_0x237955[0x1]['name']+_0x4b11a6(0xc74)+_0x3d6b43(_0x237955[0x1][_0x4b11a6(0x30d)])+_0x4b11a6(0x4c1)+_0x237955[0x1]['score']+'\x20คะแนน\x20'+(_0x237955[0x1][_0x4b11a6(0xdb1)]?_0x4b11a6(0x47b):'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x4b11a6(0x88d))+_0x4b11a6(0xaf2)+(_0x237955[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x237955[0x0][_0x4b11a6(0x4ee)]+'</p>'+_0x3d6b43(_0x237955[0x0]['badges'])+_0x4b11a6(0x817)+_0x237955[0x0]['score']+_0x4b11a6(0x4fb)+(_0x237955[0x0]['hasPerfectScoreBonus']?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x4b11a6(0xc16):'<div\x20class=\x22flex-1\x22></div>')+_0x4b11a6(0xaf2)+(_0x237955[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x237955[0x2][_0x4b11a6(0x4ee)]+_0x4b11a6(0xc74)+_0x3d6b43(_0x237955[0x2][_0x4b11a6(0x30d)])+_0x4b11a6(0x4c1)+_0x237955[0x2]['score']+'\x20คะแนน\x20'+(_0x237955[0x2][_0x4b11a6(0xdb1)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x4b11a6(0x898):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x249e36+_0x4b11a6(0x2f5)+(currentMode===_0x4b11a6(0x962)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x4b11a6(0xd62))+_0x4b11a6(0x3f8);liveGameView[_0x4b11a6(0x878)]=_0x250a96,currentMode===_0x4b11a6(0x962)&&document['getElementById']('close-game-final-btn')[_0x4b11a6(0xb95)](_0x4b11a6(0x305),async()=>{const _0x27003d=_0x4b11a6;let _0x439fbc;_0x4e9934===_0x27003d(0xbf5)?_0x439fbc=doc(db,_0x27003d(0x73f)+appId+_0x27003d(0x968),currentLiveGameId):_0x439fbc=doc(db,_0x27003d(0x73f)+appId+_0x27003d(0xd19),currentLiveGameId),await deleteDoc(_0x439fbc);});}function renderSyncSummaryView(_0x25745d,_0x494cd8,_0x94086d){const _0x3a3b16=_0xa39756,_0x52483e=_0x25745d[_0x3a3b16(0xd36)]||_0x3a3b16(0xc66),_0x217bda=_0x52483e==='anonymous'&&_0x25745d[_0x3a3b16(0x43d)]===![],_0x5cefc1=Object[_0x3a3b16(0x2fa)](_0x25745d[_0x3a3b16(0x20e)]||{}),_0x4eba5d=_0x25745d[_0x3a3b16(0x9d8)][_0x3a3b16(0x4a2)],_0x521ab3=_0x494cd8[_0x3a3b16(0x672)]||_0x25745d[_0x3a3b16(0x9d8)][_0x3a3b16(0x28e)];let _0xfe9345=[];_0x521ab3===_0x3a3b16(0xc4d)?_0xfe9345=[_0x3a3b16(0xc3a),_0x3a3b16(0x6f2)]:_0xfe9345=_0x494cd8[_0x3a3b16(0x9af)]||[];const _0x2b78ff=new Array(_0xfe9345[_0x3a3b16(0x7c7)])[_0x3a3b16(0xd47)](0x0),_0x33fac8={};_0xfe9345['forEach']((_0x479012,_0xb121b6)=>{_0x33fac8[_0xb121b6]=[];}),Object[_0x3a3b16(0x761)](_0x25745d[_0x3a3b16(0x20e)]||{})[_0x3a3b16(0x71e)](([_0x2874f5,_0x1eecca])=>{const _0x5ad02c=_0x3a3b16;if(_0x1eecca[_0x5ad02c(0xcce)]!==_0x5ad02c(0x8d0)&&_0x1eecca[_0x5ad02c(0x4bd)]!==undefined&&_0x1eecca[_0x5ad02c(0x4bd)]!==null){const _0x2a14f5=_0x1eecca[_0x5ad02c(0x4bd)];if(_0x33fac8[_0x2a14f5]!==undefined){const _0x2df060=_0x217bda?_0x25745d['playerNicknames'][_0x2874f5]||_0x5ad02c(0xab1):_0x2874f5;_0x33fac8[_0x2a14f5]['push'](_0x2df060),_0x2b78ff[_0x2a14f5]++;}}});let _0x56f30c='';const _0xe006b8=_0x25745d[_0x3a3b16(0xa73)]>=_0x4eba5d[_0x3a3b16(0x7c7)]-0x1;_0x94086d?_0x52483e===_0x3a3b16(0x4c9)?_0xe006b8?_0x56f30c=_0x3a3b16(0x963):_0x56f30c=_0x3a3b16(0x4d4):_0x56f30c=_0x3a3b16(0x546):_0x52483e===_0x3a3b16(0x4c9)?_0x56f30c=_0x3a3b16(0xc92):_0x56f30c=_0x3a3b16(0x2b5);const _0x290fc1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x494cd8[_0x3a3b16(0xcd1)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b78ff[_0x3a3b16(0x218)]((_0x23e7c9,_0x3aa705)=>{const _0x306723=_0x3a3b16,_0xf064b8=_0x33fac8[_0x3aa705][_0x306723(0x7c7)]>0x0?_0x33fac8[_0x3aa705]['join'](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x147616=_0x306723(0xb78);return _0x306723(0x929)+_0x23e7c9+_0x306723(0xd96)+_0x147616+_0x306723(0x32b)+_0x3aa705+_0x306723(0x6e7)+_0xfe9345[_0x3aa705]+_0x306723(0xc72)+_0x3aa705+_0x306723(0x208)+_0xf064b8+_0x306723(0x4bf);})[_0x3a3b16(0xb7d)]('')+_0x3a3b16(0x856)+_0x56f30c+_0x3a3b16(0xd55);liveGameView[_0x3a3b16(0x878)]=_0x290fc1;if(window['MathJax'])MathJax[_0x3a3b16(0xa3f)]();if(_0x94086d){const _0x361de9=doc(db,_0x3a3b16(0x73f)+appId+_0x3a3b16(0x968),currentLiveGameId);document[_0x3a3b16(0x8fb)](_0x3a3b16(0x6b8))?.[_0x3a3b16(0xb95)](_0x3a3b16(0x305),async()=>{await updateDoc(_0x361de9,{'status':'results'});}),document['getElementById'](_0x3a3b16(0xbea))?.[_0x3a3b16(0xb95)]('click',()=>{openScratchpad(_0x494cd8,_0xfe9345);}),document['getElementById'](_0x3a3b16(0xcbe))?.['addEventListener'](_0x3a3b16(0x305),async()=>{const _0x27fd9e=_0x3a3b16,_0xcf2ea6=_0x25745d[_0x27fd9e(0xa73)]+0x1,_0x27dca0={};Object[_0x27fd9e(0x65c)](_0x25745d[_0x27fd9e(0x20e)])['forEach'](_0x45542d=>{const _0x4c7580=_0x27fd9e;_0x27dca0['players.'+_0x45542d+_0x4c7580(0xbcc)]=![],_0x27dca0[_0x4c7580(0xae0)+_0x45542d+_0x4c7580(0x4c3)]=null;}),await updateDoc(_0x361de9,{..._0x27dca0,'status':_0x27fd9e(0x84c),'currentQuestionIndex':_0xcf2ea6,'questionDisplayedAt':serverTimestamp()});}),document[_0x3a3b16(0x8fb)](_0x3a3b16(0x8b4))?.[_0x3a3b16(0xb95)](_0x3a3b16(0x305),async()=>{const _0xd6b84e=_0x3a3b16;await updateDoc(_0x361de9,{'status':_0xd6b84e(0x744),'reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0xe2eab4){const _0x48e9b7=_0xa39756,_0x3383d1=_0xe2eab4[_0x48e9b7(0xa73)]>=_0xe2eab4['shuffledQuiz']['questions'][_0x48e9b7(0x7c7)]-0x1;let _0x1ff656='';if(_0xe2eab4['isAnonymousRevealed']===!![]){const _0x4660b5=_0xe2eab4[_0x48e9b7(0x20e)][localTeamPlayers[0x0]],_0x2e8761=_0x4660b5[_0x48e9b7(0x4ee)],_0x54c9ee=_0x4660b5[_0x48e9b7(0x3e4)];_0x1ff656=_0x48e9b7(0x64e)+_0x2e8761+_0x48e9b7(0xccc)+_0x54c9ee+_0x48e9b7(0xdbb);}else _0x1ff656='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3383d1?_0x48e9b7(0x92b):'รอผู้ควบคุมไปข้อต่อไป...')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x1b2c26=_0x48e9b7(0xada)+_0x1ff656+_0x48e9b7(0xcda);liveGameView[_0x48e9b7(0x878)]=_0x1b2c26;}async function handleShowStudentRankings(){const _0x1fc6a8=_0xa39756,_0x241b9e=document['querySelector']('#student-quiz-leaderboard-content\x20thead');_0x241b9e&&(_0x241b9e[_0x1fc6a8(0x878)]=_0x1fc6a8(0xac3));const _0x196ba0=document[_0x1fc6a8(0xa01)](_0x1fc6a8(0xd2f));_0x196ba0&&(_0x196ba0[_0x1fc6a8(0x878)]=_0x1fc6a8(0x82d));const _0xaf2c96=document[_0x1fc6a8(0x8fb)](_0x1fc6a8(0x42e));_0xaf2c96[_0x1fc6a8(0xa57)][_0x1fc6a8(0x586)]('hidden'),document[_0x1fc6a8(0x8fb)](_0x1fc6a8(0x537))[_0x1fc6a8(0x699)]=()=>_0xaf2c96[_0x1fc6a8(0xa57)][_0x1fc6a8(0x8de)](_0x1fc6a8(0xcb3));const _0x3c1e50=document[_0x1fc6a8(0x8fb)](_0x1fc6a8(0xb4b)),_0x4a7c80=document[_0x1fc6a8(0x8fb)](_0x1fc6a8(0xb4a)),_0x3befb8=document[_0x1fc6a8(0x8fb)](_0x1fc6a8(0x7c8)),_0xd2afc8=document[_0x1fc6a8(0x8fb)](_0x1fc6a8(0x377));_0x3c1e50[_0x1fc6a8(0x699)]=()=>{const _0x216e8=_0x1fc6a8;_0x3c1e50[_0x216e8(0xa57)][_0x216e8(0x8de)](_0x216e8(0xd52)),_0x4a7c80['classList'][_0x216e8(0x586)](_0x216e8(0xd52)),_0x3befb8[_0x216e8(0xa57)]['remove'](_0x216e8(0xcb3)),_0xd2afc8['classList'][_0x216e8(0x8de)](_0x216e8(0xcb3));},_0x4a7c80[_0x1fc6a8(0x699)]=()=>{const _0x41c3b4=_0x1fc6a8;_0x4a7c80[_0x41c3b4(0xa57)][_0x41c3b4(0x8de)](_0x41c3b4(0xd52)),_0x3c1e50[_0x41c3b4(0xa57)][_0x41c3b4(0x586)](_0x41c3b4(0xd52)),_0xd2afc8[_0x41c3b4(0xa57)][_0x41c3b4(0x586)]('hidden'),_0x3befb8[_0x41c3b4(0xa57)][_0x41c3b4(0x8de)](_0x41c3b4(0xcb3));};try{const _0x426ce8=collection(db,_0x1fc6a8(0x73f)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x1fc6a8(0x26d)),_0x396bec=await getDocs(_0x426ce8),_0x5ac58f=_0x396bec['docs']['map'](_0x4d2823=>_0x4d2823[_0x1fc6a8(0x3d7)]());renderQuizLeaderboard(_0x5ac58f,currentQuizData,'student-quiz-leaderboard-table-body');const _0x37bf66=collection(db,'artifacts/'+appId+'/public/data/projects/'+currentQuizData[_0x1fc6a8(0xa68)]+'/studentProfiles'),_0x54b3e3=await getDocs(_0x37bf66),_0x53dbab=_0x54b3e3['docs'][_0x1fc6a8(0x218)](_0x3a1675=>_0x3a1675['data']());renderLeaderboard(_0x53dbab,_0x1fc6a8(0x775));}catch(_0x2021a7){console[_0x1fc6a8(0xd73)](_0x1fc6a8(0x1ff),_0x2021a7),showMessage(_0x1fc6a8(0xb42));}}async function handleSaveToBank(_0xd2e248){const _0x52d7cb=_0xa39756,_0x49ce60=_0xd2e248['currentTarget'],_0x5079e0=_0x49ce60[_0x52d7cb(0x87f)][_0x52d7cb(0x589)],_0x4b5dbe=currentQuizData[_0x52d7cb(0x4a2)][_0x5079e0];if(!userId){showMessage(_0x52d7cb(0x7e0));return;}try{const _0x184b5f={..._0x4b5dbe,'originalTopic':currentQuizData[_0x52d7cb(0xb19)],'savedAt':serverTimestamp()},_0x2bdca7=collection(db,'artifacts/'+appId+_0x52d7cb(0xc2a)+userId+'/questionBank');await addDoc(_0x2bdca7,_0x184b5f),showMessage(_0x52d7cb(0x70f)),_0x49ce60[_0x52d7cb(0xa57)][_0x52d7cb(0x586)]('text-purple-600'),_0x49ce60[_0x52d7cb(0xa57)][_0x52d7cb(0x8de)](_0x52d7cb(0xced)),_0x49ce60[_0x52d7cb(0xc96)]=!![];}catch(_0x35b1db){console[_0x52d7cb(0xd73)](_0x52d7cb(0xd5c),_0x35b1db),showMessage(_0x52d7cb(0xcab));}}async function selectProjectAndGenerateBlueprintQuiz(_0x52b8b6,_0x3112cb=null,_0x35587d=null,_0x12cae7=![]){const _0x57632f=_0xa39756;cameFromBlueprint=!![];const _0x1ffdcb=document[_0x57632f(0x8fb)]('bp-reference-file-url')?.[_0x57632f(0x3d4)]['trim']();let _0x2c5de6=null;if(_0x1ffdcb){showMessage(_0x57632f(0xa1e));try{const _0x3afcd9=await fetchFileFromUrl(_0x1ffdcb,'reference_onet.pdf'),_0x70caab=await new Promise((_0x47e24b,_0x23cb67)=>{const _0x4d6bb4=_0x57632f,_0x39f2be=new FileReader();_0x39f2be['readAsDataURL'](_0x3afcd9),_0x39f2be[_0x4d6bb4(0x78f)]=()=>_0x47e24b(_0x39f2be[_0x4d6bb4(0x3c3)][_0x4d6bb4(0x5da)](',')[0x1]),_0x39f2be[_0x4d6bb4(0xb82)]=_0x23cb67;});_0x2c5de6=[{'inlineData':{'mimeType':_0x3afcd9[_0x57632f(0xbc3)],'data':_0x70caab}}],messageModal[_0x57632f(0xa57)][_0x57632f(0x8de)](_0x57632f(0xcb3));}catch(_0x58f351){console[_0x57632f(0xd73)](_0x57632f(0x4fe),_0x58f351),showMessage(_0x57632f(0x846));}}const _0x2756c6=document['getElementById'](_0x57632f(0x445)),_0x763b5d=document[_0x57632f(0x8fb)](_0x57632f(0xb2f)),_0x3de7c9=_0x2756c6['querySelector']('h3'),_0x469168=document[_0x57632f(0x8fb)]('confirm-move-quiz-btn'),_0x837a1d=document[_0x57632f(0x8fb)](_0x57632f(0xa63));_0x3de7c9[_0x57632f(0xa47)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x469168[_0x57632f(0xa47)]=_0x57632f(0x2f2),_0x469168['disabled']=!![];allProjects[_0x57632f(0x7c7)]===0x0?_0x763b5d[_0x57632f(0x878)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x763b5d[_0x57632f(0x878)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x57632f(0x218)](_0x424e04=>'<option\x20value=\x22'+_0x424e04['id']+'\x22>'+_0x424e04['projectName']+_0x57632f(0x3de))['join'](''),_0x469168[_0x57632f(0xc96)]=![]);_0x2756c6[_0x57632f(0xa57)][_0x57632f(0x586)](_0x57632f(0xcb3));const _0x204769=async()=>{const _0x44cd3d=_0x57632f,_0x5c0aca=_0x763b5d['value'];if(!_0x5c0aca){showMessage(_0x44cd3d(0x908));return;}_0x2756c6[_0x44cd3d(0xa57)]['add']('hidden'),document[_0x44cd3d(0x8fb)](_0x44cd3d(0xcf7))[_0x44cd3d(0xa57)][_0x44cd3d(0x8de)](_0x44cd3d(0xcb3)),await loadProjectDetails(_0x5c0aca),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x52b8b6,_0x3112cb,_0x5c0aca,_0x35587d,_0x12cae7,_0x2c5de6),_0x475cad();},_0x475cad=()=>{const _0x35360c=_0x57632f;_0x3de7c9[_0x35360c(0xa47)]=_0x35360c(0xa65),_0x469168[_0x35360c(0xa47)]='ย้าย',_0x469168[_0x35360c(0x223)](_0x35360c(0x305),_0x204769),_0x837a1d['removeEventListener'](_0x35360c(0x305),_0x475cad),_0x469168[_0x35360c(0xb95)](_0x35360c(0x305),confirmMoveQuiz);};_0x469168['removeEventListener']('click',confirmMoveQuiz),_0x469168[_0x57632f(0xb95)](_0x57632f(0x305),_0x204769),_0x837a1d[_0x57632f(0xb95)]('click',_0x475cad);}function listenForStarredQuizzes(){const _0x5c4887=_0xa39756;if(!userId)return;const _0x3bff1b=collection(db,_0x5c4887(0x73f)+appId+_0x5c4887(0xdb4)),_0x5206a4=query(_0x3bff1b,where(_0x5c4887(0x358),'==',!![]));onSnapshot(_0x5206a4,_0x4c488c=>{const _0x4c5aae=_0x5c4887;starredQuizzes=_0x4c488c[_0x4c5aae(0x485)][_0x4c5aae(0x218)](_0x18ed5d=>({'id':_0x18ed5d['id'],..._0x18ed5d[_0x4c5aae(0x3d7)]()})),currentProjectId===_0x4c5aae(0x922)?renderQuizzes():renderProjects();},_0x53727e=>{const _0x1c491c=_0x5c4887;console['error'](_0x1c491c(0xda3),_0x53727e);});}function listenForFileShortcuts(){const _0x1bdddb=_0xa39756,_0x3b54f0=doc(db,_0x1bdddb(0x96b),'fileShortcutsConfig');onSnapshot(_0x3b54f0,_0x6710b3=>{const _0x154110=_0x1bdddb;let _0x109028=[],_0x204c92=[],_0x225a75={};if(_0x6710b3['exists']()){const _0xdc0f30=_0x6710b3[_0x154110(0x3d7)]();_0x109028=_0xdc0f30['shortcuts']||[],_0x204c92=_0xdc0f30[_0x154110(0xb3a)]||[],_0x225a75=_0xdc0f30[_0x154110(0xd0c)]||{};}!_0x204c92[_0x154110(0xaf7)](_0x5bf67b=>_0x5bf67b['id']===_0x154110(0x49d))&&_0x204c92[_0x154110(0x2f9)]({'id':'all','name':_0x154110(0xc61),'isDefault':!![]}),!_0x109028[_0x154110(0xaf7)](_0x329068=>_0x329068['id']===_0x154110(0xa54))&&_0x109028[_0x154110(0x2f9)]({'id':_0x154110(0xa54),'name':_0x154110(0x870),'url':'','isDefault':!![]}),!_0x109028['find'](_0x5d47ed=>_0x5d47ed['id']===_0x154110(0x3b6))&&_0x109028['unshift']({'id':_0x154110(0x3b6),'name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0x109028,fileShortcutTabs=_0x204c92,fileShortcutOrder=_0x225a75,renderFileShortcuts(),!document[_0x154110(0x8fb)](_0x154110(0xdf1))[_0x154110(0xa57)][_0x154110(0x28c)](_0x154110(0xcb3))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x5ea77c=_0xa39756,_0x5cecb2=doc(db,_0x5ea77c(0x96b),'fileShortcutsConfig');try{await setDoc(_0x5cecb2,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x4bdeea){console[_0x5ea77c(0xd73)](_0x5ea77c(0x4f3),_0x4bdeea);}}function renderAdditionalFileShortcutsModal(){const _0x53368f=_0xa39756,_0x249e0a=document[_0x53368f(0x8fb)](_0x53368f(0x355)),_0x3cc3c9=document['getElementById']('additional-file-shortcuts-list');if(!_0x249e0a||!_0x3cc3c9)return;_0x249e0a[_0x53368f(0x878)]=fileShortcutTabs['map'](_0x44e2ae=>{const _0x5c5053=_0x53368f,_0x5c81fd=_0x44e2ae['id']===activeFileShortcutTabId;return _0x5c5053(0x931)+_0x44e2ae['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x5c81fd?_0x5c5053(0x4e7):_0x5c5053(0xa3a))+_0x5c5053(0xa5c)+_0x44e2ae[_0x5c5053(0x4ee)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x44e2ae[_0x5c5053(0x4ee)]+_0x5c5053(0xb9b)+(!_0x44e2ae[_0x5c5053(0x6f1)]?_0x5c5053(0x329)+_0x44e2ae['id']+_0x5c5053(0xb17):'')+_0x5c5053(0x8dc);})[_0x53368f(0xb7d)]('');const _0x28369a=fileShortcutTabs['find'](_0x3ba568=>_0x3ba568['id']===activeFileShortcutTabId);let _0xfbdaee=_0x28369a?.[_0x53368f(0x6f1)]?[...fileShortcuts]:fileShortcuts[_0x53368f(0x4da)](_0x4cac85=>(_0x28369a?.[_0x53368f(0x603)]||[])[_0x53368f(0x44e)](_0x4cac85['id']));const _0x1611d4=fileShortcutOrder[activeFileShortcutTabId]||[];_0xfbdaee[_0x53368f(0xcbf)]((_0x2b7158,_0x28cf21)=>{const _0x2fcfaf=_0x53368f,_0x1fc9c6=_0x1611d4['indexOf'](_0x2b7158['id']),_0x3580d4=_0x1611d4[_0x2fcfaf(0x83d)](_0x28cf21['id']);return(_0x1fc9c6===-0x1?Infinity:_0x1fc9c6)-(_0x3580d4===-0x1?Infinity:_0x3580d4);}),_0x3cc3c9[_0x53368f(0x878)]=_0xfbdaee['map'](_0x39088e=>{const _0x41a0e8=_0x53368f,_0x1c6c12=_0x39088e[_0x41a0e8(0xac2)]?'📄':'🔗',_0x4a0cbf=fileShortcutTabs[_0x41a0e8(0x4da)](_0xdaf090=>!_0xdaf090[_0x41a0e8(0x6f1)]),_0x1d25ca=_0x28369a[_0x41a0e8(0x6f1)]&&_0x4a0cbf[_0x41a0e8(0x7c7)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a0cbf[_0x41a0e8(0x218)](_0x7eb4b3=>_0x41a0e8(0x2db)+_0x39088e['id']+'\x22\x20data-target-tab-id=\x22'+_0x7eb4b3['id']+'\x22>'+_0x7eb4b3[_0x41a0e8(0x4ee)]+_0x41a0e8(0x3f4))['join']('')+_0x41a0e8(0xa6c):'';return'<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x39088e['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x1c6c12+'\x20'+_0x39088e['name']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x39088e['id']+_0x41a0e8(0xbbf)+_0x39088e['id']+_0x41a0e8(0x815)+(!_0x39088e[_0x41a0e8(0x6f1)]?_0x41a0e8(0x4d1)+_0x39088e['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x41a0e8(0xdc4)+(!_0x28369a['isDefault']?_0x41a0e8(0xaa2)+_0x39088e['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d25ca+_0x41a0e8(0x575);})[_0x53368f(0xb7d)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x363375=_0xa39756;document[_0x363375(0x6aa)](_0x363375(0xb40))[_0x363375(0x71e)](_0x1b6b5d=>{const _0xcc22d5=_0x363375;_0x1b6b5d['onclick']=_0x1482ef=>{const _0x54b1e7=_0x395e;activeFileShortcutTabId=_0x1482ef[_0x54b1e7(0xb13)][_0x54b1e7(0x87f)]['tabId'],renderAdditionalFileShortcutsModal();},_0x1b6b5d[_0xcc22d5(0xc64)]=_0x22825f=>{const _0x25c258=_0xcc22d5,_0x151c6d=_0x22825f[_0x25c258(0xb13)][_0x25c258(0xa01)](_0x25c258(0x38b));_0x22825f['currentTarget']['querySelector'](_0x25c258(0x7bd))[_0x25c258(0xa57)][_0x25c258(0x8de)]('hidden'),_0x151c6d['classList'][_0x25c258(0x586)](_0x25c258(0xcb3)),_0x151c6d[_0x25c258(0x515)](),_0x151c6d[_0x25c258(0x36b)]();};}),document[_0x363375(0x6aa)]('#file-shortcut-tabs-nav\x20.tab-name-input')['forEach'](_0x1227d4=>{const _0x50bdee=_0x363375,_0x3b8f6f=()=>{const _0x3a855a=_0x395e,_0x1336ed=_0x1227d4[_0x3a855a(0x762)](_0x3a855a(0xb40))['dataset'][_0x3a855a(0x59b)],_0x5d7637=fileShortcutTabs[_0x3a855a(0xaf7)](_0xf21e86=>_0xf21e86['id']===_0x1336ed);_0x5d7637&&(_0x5d7637[_0x3a855a(0x4ee)]=_0x1227d4['value'][_0x3a855a(0x6a8)]()||_0x5d7637[_0x3a855a(0x4ee)],saveFileShortcutConfig());};_0x1227d4['onblur']=_0x3b8f6f,_0x1227d4[_0x50bdee(0x9f3)]=_0x2e9e9e=>{const _0x1e2fa8=_0x50bdee;if(_0x2e9e9e[_0x1e2fa8(0x7f0)]===_0x1e2fa8(0x93e))_0x1227d4[_0x1e2fa8(0xc11)]();};}),document['querySelectorAll'](_0x363375(0xc6a))['forEach'](_0x2b3526=>_0x2b3526[_0x363375(0x699)]=_0x59ccee=>{const _0x512786=_0x363375,_0x42ab1c=_0x59ccee[_0x512786(0xb13)][_0x512786(0x87f)][_0x512786(0x59b)];showConfirmation(_0x512786(0x41b),()=>{const _0x46a926=_0x512786;fileShortcutTabs=fileShortcutTabs[_0x46a926(0x4da)](_0x261251=>_0x261251['id']!==_0x42ab1c),delete fileShortcutOrder[_0x42ab1c];if(activeFileShortcutTabId===_0x42ab1c)activeFileShortcutTabId=_0x46a926(0x49d);saveFileShortcutConfig();});}),document['querySelectorAll'](_0x363375(0x8bc))[_0x363375(0x71e)](_0x536775=>_0x536775[_0x363375(0x699)]=_0x224353=>{const _0x5f64c3=_0x363375;_0x224353[_0x5f64c3(0xc6f)]();const {shortcutId:_0x570ec5,targetTabId:_0x475bea}=_0x224353[_0x5f64c3(0xb13)][_0x5f64c3(0x87f)],_0x518e31=fileShortcutTabs['find'](_0x1e0a6b=>_0x1e0a6b['id']===_0x475bea);_0x518e31&&!_0x518e31['shortcutIds'][_0x5f64c3(0x44e)](_0x570ec5)&&(_0x518e31[_0x5f64c3(0x603)][_0x5f64c3(0xbdd)](_0x570ec5),saveFileShortcutConfig());}),document[_0x363375(0x6aa)](_0x363375(0x5aa))['forEach'](_0x44f9c1=>_0x44f9c1[_0x363375(0x699)]=_0x2224a5=>{const _0x598e33=_0x363375,_0x30c5f7=_0x2224a5[_0x598e33(0xb13)][_0x598e33(0x87f)][_0x598e33(0xcff)],_0x4d011e=fileShortcutTabs[_0x598e33(0xaf7)](_0x280fdd=>_0x280fdd['id']===activeFileShortcutTabId);_0x4d011e&&!_0x4d011e[_0x598e33(0x6f1)]&&(_0x4d011e['shortcutIds']=_0x4d011e[_0x598e33(0x603)][_0x598e33(0x4da)](_0x4ee12c=>_0x4ee12c!==_0x30c5f7),saveFileShortcutConfig());}),document[_0x363375(0x6aa)]('.move-file-shortcut-menu-btn')[_0x363375(0x71e)](_0x53a939=>_0x53a939[_0x363375(0x699)]=_0x1df45=>{const _0x3574d7=_0x363375;_0x1df45[_0x3574d7(0x73c)]();const _0x382398=_0x1df45[_0x3574d7(0xb13)]['nextElementSibling'];document[_0x3574d7(0x6aa)](_0x3574d7(0x7ae))['forEach'](_0x1ab23d=>_0x1ab23d[_0x3574d7(0xa57)]['add'](_0x3574d7(0xcb3))),_0x382398[_0x3574d7(0xa57)][_0x3574d7(0x586)](_0x3574d7(0xcb3));});const _0x357df4=document[_0x363375(0x8fb)](_0x363375(0x32c));let _0x5a5939=null;_0x357df4[_0x363375(0xd5d)]=_0x1a6615=>{const _0x297d75=_0x363375;_0x5a5939=_0x1a6615[_0x297d75(0x748)][_0x297d75(0x762)](_0x297d75(0x70b));if(_0x5a5939)setTimeout(()=>_0x5a5939[_0x297d75(0xa57)]['add'](_0x297d75(0xc6c)),0x0);},_0x357df4[_0x363375(0x9ec)]=()=>{const _0x4e629f=_0x363375;_0x5a5939&&(_0x5a5939[_0x4e629f(0xa57)][_0x4e629f(0x586)]('opacity-50'),_0x5a5939=null);},_0x357df4[_0x363375(0x274)]=_0x5dd6fd=>{const _0x399caf=_0x363375;_0x5dd6fd[_0x399caf(0xc6f)]();},_0x357df4['ondrop']=_0x83e27e=>{const _0x37ed24=_0x363375;_0x83e27e[_0x37ed24(0xc6f)]();if(_0x5a5939){const _0x4a11b7=[..._0x357df4[_0x37ed24(0x6aa)](_0x37ed24(0x467))][_0x37ed24(0x8a8)]((_0x493c40,_0x20e3e3)=>{const _0x51fa36=_0x37ed24,_0x2c4e58=_0x20e3e3[_0x51fa36(0xd13)](),_0x2e1c48=_0x83e27e[_0x51fa36(0x65e)]-_0x2c4e58['top']-_0x2c4e58[_0x51fa36(0xabd)]/0x2;return _0x2e1c48<0x0&&_0x2e1c48>_0x493c40[_0x51fa36(0x990)]?{'offset':_0x2e1c48,'element':_0x20e3e3}:_0x493c40;},{'offset':Number[_0x37ed24(0x9a3)]})['element'];_0x4a11b7==null?_0x357df4['appendChild'](_0x5a5939):_0x357df4[_0x37ed24(0x2dd)](_0x5a5939,_0x4a11b7);const _0xd24920=[..._0x357df4['querySelectorAll'](_0x37ed24(0x70b))][_0x37ed24(0x218)](_0x997c1=>_0x997c1['dataset'][_0x37ed24(0xcff)]);fileShortcutOrder[activeFileShortcutTabId]=_0xd24920,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x20306e=_0xa39756,_0x32c417=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x20306e(0x819));_0x32c417&&_0x32c417[_0x20306e(0x6a8)]()&&(fileShortcutTabs['push']({'id':_0x20306e(0x731)+Date['now'](),'name':_0x32c417[_0x20306e(0x6a8)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x460a37=_0xa39756,_0x58e114=document[_0x460a37(0x8fb)](_0x460a37(0xb0a)),_0x1098ed=document[_0x460a37(0x8fb)](_0x460a37(0x32c)),_0x4718c2=document[_0x460a37(0x8fb)](_0x460a37(0x698));if(_0x4718c2)_0x4718c2['classList'][_0x460a37(0x8de)](_0x460a37(0xcb3));if(!_0x58e114||!_0x1098ed)return;const _0xd44945=fileShortcuts[_0x460a37(0x210)](0x0,0x4),_0x25afe0=fileShortcuts[_0x460a37(0x210)](0x4);_0x58e114[_0x460a37(0x878)]=_0xd44945[_0x460a37(0x218)](_0x34f7a8=>{const _0x43482f=_0x460a37,_0x421b36=_0x34f7a8[_0x43482f(0xac2)]&&_0x34f7a8[_0x43482f(0xac2)]['trim']()!=='',_0x24c092=selectedFile&&selectedFile[_0x43482f(0xcff)]===_0x34f7a8['id'];let _0x3a688c=_0x43482f(0x2ba),_0x328074='🔗';if(_0x24c092)_0x3a688c=_0x43482f(0xd22),_0x328074=_0x43482f(0x6ce);else _0x421b36&&(_0x3a688c=_0x43482f(0x3ef),_0x328074='📄');const _0x5a39ae=!_0x34f7a8[_0x43482f(0x6f1)]?_0x43482f(0x4d1)+_0x34f7a8['id']+_0x43482f(0xdb5):'';return _0x43482f(0xc9a)+_0x34f7a8['id']+_0x43482f(0x409)+_0x3a688c+_0x43482f(0x3bb)+_0x328074+_0x43482f(0xd80)+_0x34f7a8[_0x43482f(0x4ee)]+_0x43482f(0xaab)+_0x34f7a8['id']+_0x43482f(0x542)+_0x5a39ae+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0x25afe0[_0x460a37(0x7c7)]>0x0&&(_0x58e114['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x25afe0['length']>0x0?_0x1098ed[_0x460a37(0x878)]=_0x25afe0[_0x460a37(0x218)](_0x346150=>_0x460a37(0xb65)+(_0x346150[_0x460a37(0xac2)]?'📄':'🔗')+'\x20'+_0x346150['name']+_0x460a37(0x8b5)+_0x346150['id']+_0x460a37(0x63d)+_0x346150['id']+_0x460a37(0x91f)+(!_0x346150[_0x460a37(0x6f1)]?'<button\x20data-id=\x22'+_0x346150['id']+_0x460a37(0x86d):'')+_0x460a37(0x97f))[_0x460a37(0xb7d)](''):_0x1098ed[_0x460a37(0x878)]=_0x460a37(0xb00);}function openFileShortcutEditor(_0x4ef9f9=null){const _0x1c6640=_0xa39756,_0x15e24a=document[_0x1c6640(0x8fb)](_0x1c6640(0x2f0)),_0x1e9c39=document[_0x1c6640(0x8fb)](_0x1c6640(0x465)),_0x59ecd5=document[_0x1c6640(0x8fb)](_0x1c6640(0x233)),_0x2e9fe0=document[_0x1c6640(0x8fb)](_0x1c6640(0x548)),_0x495c5f=document[_0x1c6640(0x8fb)]('file-shortcut-url-input');if(_0x4ef9f9){const _0x182e96=fileShortcuts['find'](_0x401ec9=>_0x401ec9['id']===_0x4ef9f9);if(!_0x182e96)return;_0x1e9c39['textContent']=_0x1c6640(0x4ac),_0x59ecd5[_0x1c6640(0x3d4)]=_0x182e96['id'],_0x2e9fe0[_0x1c6640(0x3d4)]=_0x182e96['name'],_0x495c5f[_0x1c6640(0x3d4)]=_0x182e96['url']||'';}else _0x1e9c39[_0x1c6640(0xa47)]=_0x1c6640(0x766),_0x59ecd5[_0x1c6640(0x3d4)]='',_0x2e9fe0[_0x1c6640(0x3d4)]='',_0x495c5f[_0x1c6640(0x3d4)]='';_0x15e24a['classList']['remove']('hidden');}async function saveFileShortcutChanges(){const _0x5789b0=_0xa39756,_0x2a667d=document[_0x5789b0(0x8fb)]('file-shortcut-id-input')['value'],_0x28d7a7=document[_0x5789b0(0x8fb)](_0x5789b0(0x548))['value'][_0x5789b0(0x6a8)](),_0x4b9b0a=document[_0x5789b0(0x8fb)](_0x5789b0(0x8cd))[_0x5789b0(0x3d4)][_0x5789b0(0x6a8)]();if(!_0x28d7a7){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x243352={'id':_0x2a667d||_0x5789b0(0x540)+Date[_0x5789b0(0xcad)](),'name':_0x28d7a7,'url':_0x4b9b0a,'isDefault':_0x2a667d['startsWith'](_0x5789b0(0xa19))};let _0x513540;_0x2a667d?_0x513540=fileShortcuts[_0x5789b0(0x218)](_0x4ed8bc=>_0x4ed8bc['id']===_0x2a667d?_0x243352:_0x4ed8bc):_0x513540=[...fileShortcuts,_0x243352];try{const _0x31917f=doc(db,'globalSettings',_0x5789b0(0x47c));await setDoc(_0x31917f,{'shortcuts':_0x513540},{'merge':!![]}),document[_0x5789b0(0x8fb)](_0x5789b0(0x2f0))[_0x5789b0(0xa57)][_0x5789b0(0x8de)](_0x5789b0(0xcb3));}catch(_0x463bbd){console[_0x5789b0(0xd73)](_0x5789b0(0xa58),_0x463bbd),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x46cf0f){const _0x37466e=_0xa39756,_0x553cec=fileShortcuts['find'](_0x1c8254=>_0x1c8254['id']===_0x46cf0f);if(!_0x553cec)return;if(!_0x553cec[_0x37466e(0xac2)]||_0x553cec[_0x37466e(0xac2)]['trim']()===''){openFileShortcutEditor(_0x46cf0f);return;}const _0x55b94b=document[_0x37466e(0xa01)](_0x37466e(0x401)+_0x46cf0f+'\x22]');if(_0x55b94b){const _0xd0070e=_0x55b94b[_0x37466e(0x878)];_0x55b94b['innerHTML']=_0x37466e(0xd3c),_0x55b94b['disabled']=!![];}document[_0x37466e(0x6aa)](_0x37466e(0xcaf))['forEach'](_0x4971da=>{const _0x5861ea=_0x37466e;if(_0x4971da[_0x5861ea(0x87f)]['id']!==_0x46cf0f)_0x4971da[_0x5861ea(0xa57)][_0x5861ea(0x8de)](_0x5861ea(0xc6c),'pointer-events-none');});try{const _0xbd3fae=new URL(_0x553cec[_0x37466e(0xac2)])[_0x37466e(0x82c)],_0x314c57=_0xbd3fae[_0x37466e(0x86a)](_0xbd3fae[_0x37466e(0x398)]('/')+0x1)||(_0x553cec['url'][_0x37466e(0x44e)](_0x37466e(0x5bc))?_0x37466e(0x80a):_0x37466e(0x440)),_0x36cc4f=await fetchFileFromUrl(_0x553cec['url'],_0x314c57);_0x36cc4f[_0x37466e(0xcff)]=_0x46cf0f,selectedFile=_0x36cc4f,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x37466e(0x8fb)](_0x37466e(0x3ce))[_0x37466e(0xd5f)]({'behavior':'smooth','block':_0x37466e(0x704)});}catch(_0x15e650){console['error'](_0x37466e(0xd6e),_0x15e650),showMessage(_0x37466e(0x994)+_0x15e650[_0x37466e(0x5b7)]),renderFileShortcuts();}finally{document[_0x37466e(0x6aa)](_0x37466e(0xcaf))['forEach'](_0x24f9d4=>{const _0x556f37=_0x37466e;_0x24f9d4[_0x556f37(0xa57)][_0x556f37(0x586)](_0x556f37(0xc6c),'pointer-events-none'),_0x24f9d4['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x35446f=_0xa39756;if(allQuizzesGlobal[_0x35446f(0x7c7)]>0x0)return;console[_0x35446f(0xcf9)](_0x35446f(0x59c)),showMessage(_0x35446f(0x7f6));try{const _0xbd1f30=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0xbd1f30['docs']['map'](_0x25a4ec=>({'id':_0x25a4ec['id'],..._0x25a4ec[_0x35446f(0x3d7)]()})),console[_0x35446f(0xcf9)]('Loaded\x20'+allQuizzesGlobal[_0x35446f(0x7c7)]+'\x20quizzes\x20into\x20global\x20cache.'),messageModal['classList'][_0x35446f(0x8de)](_0x35446f(0xcb3));}catch(_0xbeb52a){console['error'](_0x35446f(0xb3d),_0xbeb52a),messageModal['classList'][_0x35446f(0x8de)]('hidden');throw new Error(_0x35446f(0xb79));}}function exportQuizAsWorksheetPDF(){const _0x1cce68=_0xa39756;if(!currentQuizData||!currentQuizData[_0x1cce68(0x4a2)]){showMessage(_0x1cce68(0x472));return;}const _0x5236f4=currentQuizData,_0x4ef12f=window[_0x1cce68(0x253)]('',_0x1cce68(0xbb0)),_0x542f42=_0x5dd95b=>String['fromCharCode'](0x41+_0x5dd95b),_0x40b81b=_0x1cce68(0x80e)+_0x5236f4[_0x1cce68(0xb19)]+_0x1cce68(0xc4f)+_0x5236f4[_0x1cce68(0xb19)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5236f4[_0x1cce68(0x4a2)][_0x1cce68(0x218)]((_0xe5a0d9,_0x554fad)=>{const _0x1cac4f=_0x1cce68;let _0x260d17='';const _0x5bcee4=_0xe5a0d9[_0x1cac4f(0x672)]||_0x5236f4[_0x1cac4f(0x28e)];switch(_0x5bcee4){case _0x1cac4f(0x525):case _0x1cac4f(0x316):_0x260d17=_0x1cac4f(0x830)+_0xe5a0d9['options'][_0x1cac4f(0x218)]((_0x41c14e,_0x38afb6)=>_0x1cac4f(0xa69)+_0x542f42(_0x38afb6)+'.\x20'+_0x41c14e+_0x1cac4f(0x4a3))[_0x1cac4f(0xb7d)](_0x1cac4f(0x8f1))+'</div>';break;case _0x1cac4f(0xc4d):_0x260d17=_0x1cac4f(0x450);break;default:_0x260d17=_0x1cac4f(0xbb7);break;}return _0x1cac4f(0x95f)+(_0x554fad+0x1)+_0x1cac4f(0xc1b)+(_0xe5a0d9['stem']||_0xe5a0d9[_0x1cac4f(0xcd1)])+_0x1cac4f(0x6eb)+(_0xe5a0d9['imageCode']?_0x1cac4f(0x9de)+_0xe5a0d9[_0x1cac4f(0xd93)]+'</div>':'')+_0x1cac4f(0x5ac)+_0x260d17+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1cce68(0xb7d)]('')+_0x1cce68(0x607);_0x4ef12f[_0x1cce68(0xd49)][_0x1cce68(0x853)](_0x40b81b),_0x4ef12f[_0x1cce68(0xd49)][_0x1cce68(0x6b4)](),_0x4ef12f[_0x1cce68(0x78f)]=function(){setTimeout(()=>{const _0x2a0e51=_0x395e;_0x4ef12f[_0x2a0e51(0x235)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x4abda8=_0xa39756;if(!currentQuizData||!currentQuizData[_0x4abda8(0x4a2)]){showMessage(_0x4abda8(0x472));return;}const _0x5c7964=currentQuizData,_0x135f9e=window[_0x4abda8(0x253)]('',_0x4abda8(0xbb0)),_0x48c50e=_0x5d050c=>String[_0x4abda8(0x6b1)](0x41+_0x5d050c),_0x5fe654=_0x4abda8(0x5a7)+_0x5c7964['topic']+_0x4abda8(0x980)+_0x5c7964[_0x4abda8(0x4a2)]['map']((_0x3101d3,_0x295d17)=>{const _0x1e6778=_0x4abda8;let _0x5364d3='';const _0x49a678=_0x3101d3[_0x1e6778(0x672)]||_0x5c7964[_0x1e6778(0x28e)];switch(_0x49a678){case _0x1e6778(0x525):case _0x1e6778(0x316):_0x5364d3='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x3101d3['options']['map']((_0x5b4f9a,_0x59a3e3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x48c50e(_0x59a3e3)+'.\x20'+_0x5b4f9a+_0x1e6778(0xacd))[_0x1e6778(0xb7d)](_0x1e6778(0x8f1))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x1e6778(0xc4d):_0x5364d3=_0x1e6778(0x328);break;default:_0x5364d3='';break;}return _0x1e6778(0xad4)+_0x5c7964[_0x1e6778(0xb19)]+_0x1e6778(0x90e)+(_0x295d17+0x1)+_0x1e6778(0x4e2)+(_0x3101d3[_0x1e6778(0x722)]||_0x3101d3['questionText'])+_0x1e6778(0x6eb)+(_0x3101d3[_0x1e6778(0xd93)]?_0x1e6778(0xcd4)+_0x3101d3[_0x1e6778(0xd93)]+_0x1e6778(0x369):'')+_0x1e6778(0x5ac)+_0x5364d3+_0x1e6778(0x639);})['join']('')+_0x4abda8(0x6e1);_0x135f9e[_0x4abda8(0xd49)][_0x4abda8(0x853)](_0x5fe654),_0x135f9e['document'][_0x4abda8(0x6b4)](),_0x135f9e[_0x4abda8(0x78f)]=function(){setTimeout(()=>{const _0x295402=_0x395e;_0x135f9e[_0x295402(0x235)]();},0x5dc);};}async function handleToggleStarQuiz(_0x26111d){const _0xfb58eb=_0xa39756,_0x2a188f=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x26111d);try{const _0xe94da3=await getDoc(_0x2a188f);if(_0xe94da3[_0xfb58eb(0x86f)]()){const _0x2e1fe4=_0xe94da3[_0xfb58eb(0x3d7)]()[_0xfb58eb(0x358)]||![];await updateDoc(_0x2a188f,{'isStarred':!_0x2e1fe4});}}catch(_0x189e93){console[_0xfb58eb(0xd73)](_0xfb58eb(0xbec),_0x189e93),showMessage(_0xfb58eb(0x512));}}async function displayQuestionBank(){const _0x23ff46=_0xa39756,_0x1f6ec8=document[_0x23ff46(0x8fb)](_0x23ff46(0x7d3));_0x1f6ec8[_0x23ff46(0x878)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x13a00c=collection(db,_0x23ff46(0x73f)+appId+'/users/'+userId+_0x23ff46(0xbee)),_0xa488c7=query(_0x13a00c),_0x4d0d7f=await getDocs(_0xa488c7);if(_0x4d0d7f[_0x23ff46(0x294)]){_0x1f6ec8[_0x23ff46(0x878)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x3f9e84=_0x4d0d7f['docs']['map'](_0x425fe2=>{const _0x2338d7=_0x23ff46,_0x1ae324=_0x425fe2[_0x2338d7(0x3d7)](),_0x1ebdd7=_0x425fe2['id'];return _0x2338d7(0x335)+JSON[_0x2338d7(0x8ff)](_0x1ae324)+_0x2338d7(0xbc1)+(_0x1ae324[_0x2338d7(0xcd1)]||_0x1ae324[_0x2338d7(0x722)])+_0x2338d7(0x5a4)+_0x1ae324[_0x2338d7(0x635)]+_0x2338d7(0x317);})[_0x23ff46(0xb7d)]('');_0x1f6ec8[_0x23ff46(0x878)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x3f9e84+_0x23ff46(0xc25),document[_0x23ff46(0x8fb)](_0x23ff46(0xb1e))['addEventListener']('click',createQuizFromBank);}catch(_0x427d69){console[_0x23ff46(0xd73)]('Error\x20displaying\x20question\x20bank:',_0x427d69),_0x1f6ec8[_0x23ff46(0x878)]=_0x23ff46(0x7b6);}}async function handleExportLessonToPDF(){const _0x5a4fd4=_0xa39756,_0x7201a7=document[_0x5a4fd4(0x8fb)](_0x5a4fd4(0x7b5)),_0x3e2b38=document[_0x5a4fd4(0x8fb)](_0x5a4fd4(0x5fc))[_0x5a4fd4(0xa47)]||'บทเรียน';if(!_0x7201a7){showMessage(_0x5a4fd4(0x61d));return;}const _0x449f7b=window[_0x5a4fd4(0x253)]('',_0x5a4fd4(0xbb0)),_0x22d99f=_0x5a4fd4(0xd70)+_0x3e2b38+_0x5a4fd4(0xaf0)+_0x3e2b38+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7201a7['innerHTML']+_0x5a4fd4(0x607);_0x449f7b['document'][_0x5a4fd4(0x853)](_0x22d99f),_0x449f7b[_0x5a4fd4(0xd49)]['close'](),_0x449f7b[_0x5a4fd4(0x78f)]=function(){setTimeout(()=>{const _0x17c93b=_0x395e;_0x449f7b[_0x17c93b(0x235)]();},0x7d0);};}function showAdminLiveQuestionView(_0x2b4646,_0x524aab,_0x259ee5){const _0x3b8573=_0xa39756,_0x28e07e=_0x2b4646[_0x3b8573(0x672)]||currentQuizData[_0x3b8573(0x28e)];let _0x167d30='';if(_0x28e07e===_0x3b8573(0x525)||_0x28e07e===_0x3b8573(0xc4d)){const _0x1cb507=_0x28e07e===_0x3b8573(0xc4d)?[_0x3b8573(0x943),_0x3b8573(0xc52)]:_0x2b4646[_0x3b8573(0x9af)],_0x331cce=_0x28e07e===_0x3b8573(0xc4d)?_0x2b4646[_0x3b8573(0xdae)]?0x0:0x1:_0x2b4646['correctAnswerIndex'];_0x167d30=_0x1cb507[_0x3b8573(0x218)]((_0x102277,_0xb44388)=>_0x3b8573(0x72f)+(_0xb44388===_0x331cce)+_0x3b8573(0x71c)+_0x102277+_0x3b8573(0xd65))[_0x3b8573(0xb7d)]('');}else{if(_0x28e07e===_0x3b8573(0xbd6)){const _0x495de1=_0x2b4646[_0x3b8573(0x23b)]||[];_0x167d30=_0x495de1[_0x3b8573(0x218)](_0xb33419=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0xb33419===_0x2b4646[_0x3b8573(0x8e8)])+_0x3b8573(0x71c)+_0xb33419+_0x3b8573(0xd65))[_0x3b8573(0xb7d)]('');}}const _0x132af0=_0x2b4646[_0x3b8573(0x722)]||_0x2b4646[_0x3b8573(0xcd1)],_0x492afa=_0x3b8573(0x98a)+(_0x524aab+0x1)+_0x3b8573(0x48d)+_0x259ee5+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+_0x3b8573(0xc1d)+_0x132af0+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x167d30+_0x3b8573(0xc6b);liveGameView['innerHTML']=_0x492afa,window['MathJax']&&MathJax[_0x3b8573(0xa3f)]&&MathJax['typesetPromise']([liveGameView]),document[_0x3b8573(0x8fb)](_0x3b8573(0x710))['addEventListener'](_0x3b8573(0x305),()=>revealAnswerForAdmin(_0x524aab,_0x259ee5)),document['getElementById']('end-game-btn')['addEventListener'](_0x3b8573(0x305),async()=>{const _0x372fd1=_0x3b8573;showConfirmation(_0x372fd1(0xce1),async()=>{const _0x343329=_0x372fd1,_0x2832be=doc(db,_0x343329(0x73f)+appId+_0x343329(0xd19),currentLiveGameId);await updateDoc(_0x2832be,{'status':_0x343329(0x730)});});}),document[_0x3b8573(0x8fb)](_0x3b8573(0x772))['addEventListener']('click',()=>{const _0x27e695=_0x3b8573;document[_0x27e695(0x8fb)](_0x27e695(0x7f4))[_0x27e695(0xa57)][_0x27e695(0x636)](_0x27e695(0xcb3));});}function promptForProjectBeforeGenerating(_0x17e016){const _0x4c6c13=_0xa39756,_0x52480d=document[_0x4c6c13(0x8fb)](_0x4c6c13(0x445)),_0x3a4ffb=document[_0x4c6c13(0x8fb)]('move-quiz-project-select'),_0x4bfc40=_0x52480d[_0x4c6c13(0xa01)]('h3'),_0x55fb8d=document[_0x4c6c13(0x8fb)]('confirm-move-quiz-btn'),_0x1383e4=document[_0x4c6c13(0x8fb)](_0x4c6c13(0xa63));_0x4bfc40[_0x4c6c13(0xa47)]=_0x4c6c13(0x497),_0x55fb8d['textContent']=_0x4c6c13(0x2f2),_0x55fb8d[_0x4c6c13(0xc96)]=!![];allProjects[_0x4c6c13(0x7c7)]===0x0?_0x3a4ffb[_0x4c6c13(0x878)]=_0x4c6c13(0x978):(_0x3a4ffb[_0x4c6c13(0x878)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects['map'](_0x213e4c=>'<option\x20value=\x22'+_0x213e4c['id']+'\x22>'+_0x213e4c[_0x4c6c13(0x437)]+_0x4c6c13(0x3de))[_0x4c6c13(0xb7d)](''),_0x55fb8d[_0x4c6c13(0xc96)]=![]);_0x52480d[_0x4c6c13(0xa57)][_0x4c6c13(0x586)](_0x4c6c13(0xcb3));const _0x26787b=async()=>{const _0x38ad8b=_0x4c6c13,_0x2efb13=_0x3a4ffb[_0x38ad8b(0x3d4)];if(!_0x2efb13){showMessage(_0x38ad8b(0x908));return;}_0x52480d['classList']['add']('hidden'),await loadProjectDetails(_0x2efb13),showView(_0x38ad8b(0xb8b)),handleGenerateQuizFromBlueprintTopic(_0x17e016),_0x4ef6b6();},_0x4ef6b6=()=>{const _0x3413c4=_0x4c6c13;_0x4bfc40[_0x3413c4(0xa47)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x55fb8d['textContent']=_0x3413c4(0x747),_0x55fb8d['removeEventListener']('click',_0x26787b),_0x1383e4[_0x3413c4(0x223)](_0x3413c4(0x305),_0x4ef6b6),_0x55fb8d[_0x3413c4(0xb95)]('click',confirmMoveQuiz);};_0x55fb8d[_0x4c6c13(0x223)](_0x4c6c13(0x305),confirmMoveQuiz),_0x55fb8d[_0x4c6c13(0xb95)](_0x4c6c13(0x305),_0x26787b),_0x1383e4['addEventListener']('click',_0x4ef6b6);}function showStudentLiveQuestionView(_0x48f096,_0x59f5df,_0x22e50a){const _0x140206=_0xa39756,_0x5212dd=_0x48f096[_0x140206(0x672)]||currentQuizData[_0x140206(0x28e)];let _0x60a3b7='';if(_0x5212dd===_0x140206(0x525)||_0x5212dd===_0x140206(0xc4d)){const _0x43ab01=_0x5212dd==='true_false'?['ใช่',_0x140206(0xc52)]:_0x48f096['options'];_0x60a3b7=_0x43ab01[_0x140206(0x218)]((_0x5e6dff,_0x188aaa)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x188aaa+_0x140206(0x4f6)+_0x5e6dff+_0x140206(0x303))[_0x140206(0xb7d)]('');}else{if(_0x5212dd==='matching_item'){const _0x55f30f=_0x48f096[_0x140206(0x23b)]||[];_0x60a3b7=_0x55f30f['map']((_0x47722e,_0x3c4c8e)=>_0x140206(0x840)+_0x3c4c8e+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x47722e+_0x140206(0x303))[_0x140206(0xb7d)]('');}else _0x5212dd===_0x140206(0x880)&&(_0x60a3b7=_0x140206(0xad3));}const _0x145986=_0x48f096[_0x140206(0x722)]||_0x48f096[_0x140206(0xcd1)],_0xe1cae4=_0x140206(0x941)+(_0x59f5df+0x1)+_0x140206(0x48d)+_0x22e50a+_0x140206(0xb4c)+_0x145986+_0x140206(0xd2b)+_0x60a3b7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x140206(0x878)]=_0xe1cae4;window[_0x140206(0xb54)]&&MathJax[_0x140206(0xa3f)]&&MathJax[_0x140206(0xa3f)]([liveGameView]);const _0x2b66d9=document[_0x140206(0x8fb)](_0x140206(0x1fc));_0x2b66d9&&_0x2b66d9[_0x140206(0xb95)](_0x140206(0x305),()=>{const _0x14379d=_0x140206,_0x9159f9=document['getElementById'](_0x14379d(0xc2c))[_0x14379d(0x3d4)];handleLiveAnswer(_0x9159f9,_0x48f096);}),document[_0x140206(0x8fb)]('live-options-container')[_0x140206(0xb95)]('click',_0x1258c6=>{const _0x59ddb2=_0x140206,_0x2ab567=_0x1258c6[_0x59ddb2(0x748)][_0x59ddb2(0x762)](_0x59ddb2(0xd3a));if(_0x2ab567){const _0xaea691=parseInt(_0x2ab567[_0x59ddb2(0x87f)]['index']);handleLiveAnswer(_0xaea691,_0x48f096);}});}function listenForBlueprintShortcuts(){const _0x39f828=_0xa39756,_0x2f8ff9=doc(db,_0x39f828(0x96b),'dashboardConfig');onSnapshot(_0x2f8ff9,_0x16f544=>{const _0x3a6b5f=_0x39f828;let _0x2d692e=[],_0x5c602b=[],_0x3766da={};if(_0x16f544['exists']()){const _0x3f6346=_0x16f544['data']();_0x2d692e=_0x3f6346[_0x3a6b5f(0xded)]||[],_0x5c602b=_0x3f6346['shortcutTabs']||[],_0x3766da=_0x3f6346[_0x3a6b5f(0x3c2)]||{};}!_0x5c602b['find'](_0x23342b=>_0x23342b['id']===_0x3a6b5f(0x49d))&&_0x5c602b[_0x3a6b5f(0x2f9)]({'id':_0x3a6b5f(0x49d),'name':_0x3a6b5f(0xd7c),'isDefault':!![]}),!_0x2d692e[_0x3a6b5f(0xaf7)](_0x5df3a4=>_0x5df3a4['id']===_0x3a6b5f(0xad6))&&_0x2d692e['unshift']({'id':_0x3a6b5f(0xad6),'name':_0x3a6b5f(0x8e0),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x2d692e[_0x3a6b5f(0xaf7)](_0x4763d4=>_0x4763d4['id']===_0x3a6b5f(0x52d))&&_0x2d692e[_0x3a6b5f(0x2f9)]({'id':_0x3a6b5f(0x52d),'name':_0x3a6b5f(0xbde),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x2d692e,shortcutTabs=_0x5c602b,shortcutOrder=_0x3766da,renderBlueprintShortcuts(),!document[_0x3a6b5f(0x8fb)]('additional-shortcuts-modal')[_0x3a6b5f(0xa57)][_0x3a6b5f(0x28c)]('hidden')&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x2ad664=_0xa39756,_0x40f28d=document[_0x2ad664(0x8fb)](_0x2ad664(0xb60)),_0xaa3738=document[_0x2ad664(0x8fb)](_0x2ad664(0x9fc));if(!_0x40f28d||!_0xaa3738)return;_0x40f28d[_0x2ad664(0x878)]=shortcutTabs['map'](_0x5433df=>{const _0x167d6d=_0x2ad664,_0x1bfd09=_0x5433df['id']===activeShortcutTabId,_0x6966c=_0x167d6d(0x4e7),_0x5d21df='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return _0x167d6d(0x507)+_0x5433df['id']+_0x167d6d(0x2a0)+(_0x1bfd09?_0x6966c:_0x5d21df)+_0x167d6d(0x8ac)+_0x5433df['name']+_0x167d6d(0xbc4)+_0x5433df[_0x167d6d(0x4ee)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x5433df[_0x167d6d(0x6f1)]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x5433df['id']+_0x167d6d(0x72d):'')+_0x167d6d(0xd65);})[_0x2ad664(0xb7d)]('');const _0x538743=shortcutTabs[_0x2ad664(0xaf7)](_0x3b9f49=>_0x3b9f49['id']===activeShortcutTabId);let _0x2cd296=[];if(_0x538743){if(_0x538743[_0x2ad664(0x6f1)])_0x2cd296=[...blueprintShortcuts];else{const _0x594cf5=_0x538743[_0x2ad664(0x603)]||[];_0x2cd296=blueprintShortcuts[_0x2ad664(0x4da)](_0x1eb04d=>_0x594cf5['includes'](_0x1eb04d['id']));}}const _0x5a7d21=shortcutOrder[activeShortcutTabId]||[];_0x2cd296[_0x2ad664(0xcbf)]((_0xb3f3f0,_0x18c0b7)=>{const _0x225d0b=_0x2ad664,_0x2fcbe3=_0x5a7d21[_0x225d0b(0x83d)](_0xb3f3f0['id']),_0x2c7610=_0x5a7d21['indexOf'](_0x18c0b7['id']);if(_0x2fcbe3===-0x1)return 0x1;if(_0x2c7610===-0x1)return-0x1;return _0x2fcbe3-_0x2c7610;}),_0xaa3738[_0x2ad664(0x878)]=_0x2cd296['length']>0x0?_0x2cd296['map'](_0x54466f=>{const _0x259fae=_0x2ad664;let _0x5f51c6='🧩';if(_0x54466f['blueprintUrl']&&_0x54466f[_0x259fae(0x8cf)])_0x5f51c6='📗';else{if(_0x54466f[_0x259fae(0x89a)])_0x5f51c6='📘';}const _0x4d9120=shortcutTabs[_0x259fae(0x4da)](_0x58a800=>!_0x58a800[_0x259fae(0x6f1)]),_0x6b733c=_0x538743['isDefault']&&_0x4d9120[_0x259fae(0x7c7)]>0x0?_0x259fae(0x753)+_0x4d9120['map'](_0x412817=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x54466f['id']+_0x259fae(0x85e)+_0x412817['id']+'\x22>'+_0x412817['name']+_0x259fae(0x21d))[_0x259fae(0xb7d)]('')+_0x259fae(0xaad):'';return _0x259fae(0xdd0)+_0x54466f['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x5f51c6+'\x20'+_0x54466f['name']+_0x259fae(0x9d4)+_0x54466f['id']+_0x259fae(0x359)+_0x54466f['id']+_0x259fae(0x665)+(!_0x54466f[_0x259fae(0x6f1)]?'<button\x20data-id=\x22'+_0x54466f['id']+_0x259fae(0x516):'')+_0x259fae(0x36c)+(!_0x538743['isDefault']?_0x259fae(0xaa2)+_0x54466f['id']+_0x259fae(0xab7):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6b733c+_0x259fae(0x21c);})[_0x2ad664(0xb7d)](''):_0x2ad664(0xbba),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x4a8139=_0xa39756;document['querySelectorAll'](_0x4a8139(0x5c4))[_0x4a8139(0x71e)](_0x51bf3d=>{const _0x570354=_0x4a8139;_0x51bf3d['addEventListener'](_0x570354(0x305),_0x10ea65=>{const _0x1a2246=_0x570354;activeShortcutTabId=_0x10ea65[_0x1a2246(0xb13)]['dataset']['tabId'],renderAdditionalShortcutsModal();}),_0x51bf3d[_0x570354(0xb95)](_0x570354(0xda6),_0x444431=>{const _0x21cc62=_0x570354,_0x1bc482=_0x444431['currentTarget'];_0x1bc482['querySelector']('.tab-name-display')[_0x21cc62(0xa57)][_0x21cc62(0x8de)](_0x21cc62(0xcb3));const _0x482aab=_0x1bc482[_0x21cc62(0xa01)]('.tab-name-input');_0x482aab[_0x21cc62(0xa57)][_0x21cc62(0x586)](_0x21cc62(0xcb3)),_0x482aab[_0x21cc62(0x515)](),_0x482aab[_0x21cc62(0x36b)]();});}),document['querySelectorAll'](_0x4a8139(0x38b))[_0x4a8139(0x71e)](_0x508b58=>{const _0x4318b4=_0x4a8139,_0x4f9693=()=>{const _0x4a6372=_0x395e,_0x405d43=_0x508b58['closest'](_0x4a6372(0x5c4))[_0x4a6372(0x87f)][_0x4a6372(0x59b)];handleRenameShortcutTab(_0x405d43,_0x508b58[_0x4a6372(0x3d4)]);};_0x508b58[_0x4318b4(0xb95)](_0x4318b4(0xc11),_0x4f9693),_0x508b58[_0x4318b4(0xb95)](_0x4318b4(0xa42),_0x2fb474=>{const _0x515001=_0x4318b4;if(_0x2fb474['key']===_0x515001(0x93e))_0x508b58['blur']();});}),document[_0x4a8139(0x6aa)](_0x4a8139(0x66f))[_0x4a8139(0x71e)](_0x34bdab=>{const _0x41f134=_0x4a8139;_0x34bdab[_0x41f134(0xb95)]('click',_0x2b9d17=>handleDeleteShortcutTab(_0x2b9d17[_0x41f134(0xb13)]['dataset'][_0x41f134(0x59b)]));}),document[_0x4a8139(0x6aa)]('.move-shortcut-item')[_0x4a8139(0x71e)](_0x1ec6be=>{const _0x4c0098=_0x4a8139;_0x1ec6be['addEventListener'](_0x4c0098(0x305),_0x217408=>{_0x217408['preventDefault']();const {shortcutId:_0x11a7cc,targetTabId:_0x28078e}=_0x217408['currentTarget']['dataset'];handleMoveShortcutToTab(_0x11a7cc,_0x28078e);});}),document[_0x4a8139(0x6aa)](_0x4a8139(0xc84))[_0x4a8139(0x71e)](_0x31ea9b=>{const _0x20c890=_0x4a8139;_0x31ea9b[_0x20c890(0xb95)](_0x20c890(0x305),_0x1aaf07=>{const _0x1dcfe2=_0x20c890;handleRemoveShortcutFromTab(_0x1aaf07[_0x1dcfe2(0xb13)][_0x1dcfe2(0x87f)]['shortcutId'],activeShortcutTabId);});});const _0xd7e141=document[_0x4a8139(0x8fb)](_0x4a8139(0x9fc));_0xd7e141[_0x4a8139(0x6aa)]('.use-hidden-shortcut-btn')['forEach'](_0x13927c=>{const _0x49bca0=_0x4a8139;_0x13927c[_0x49bca0(0xb95)](_0x49bca0(0x305),()=>{const _0xd493b9=_0x49bca0;document['getElementById'](_0xd493b9(0x6b3))[_0xd493b9(0xa57)]['add']('hidden'),handleShortcutClick(_0x13927c[_0xd493b9(0x87f)]['id']);});});let _0x552d2e=null;_0xd7e141[_0x4a8139(0xb95)](_0x4a8139(0x90f),_0x2e86bc=>{const _0x52eb98=_0x4a8139;_0x552d2e=_0x2e86bc[_0x52eb98(0x748)][_0x52eb98(0x762)]('.shortcut-list-item'),_0x552d2e&&setTimeout(()=>_0x552d2e[_0x52eb98(0xa57)][_0x52eb98(0x8de)](_0x52eb98(0xc6c)),0x0);}),_0xd7e141[_0x4a8139(0xb95)](_0x4a8139(0x3a2),()=>{const _0x18a41b=_0x4a8139;_0x552d2e&&(_0x552d2e[_0x18a41b(0xa57)]['remove']('opacity-50'),_0x552d2e=null);}),_0xd7e141['addEventListener'](_0x4a8139(0xb59),_0x5e9e5d=>{const _0x19b761=_0x4a8139;_0x5e9e5d['preventDefault']();const _0x29bd99=[..._0xd7e141[_0x19b761(0x6aa)](_0x19b761(0x467))][_0x19b761(0x8a8)]((_0x3951fd,_0x3d0dd8)=>{const _0x15cf0a=_0x19b761,_0x5cb718=_0x3d0dd8['getBoundingClientRect'](),_0x184f73=_0x5e9e5d[_0x15cf0a(0x65e)]-_0x5cb718[_0x15cf0a(0x4b1)]-_0x5cb718[_0x15cf0a(0xabd)]/0x2;return _0x184f73<0x0&&_0x184f73>_0x3951fd['offset']?{'offset':_0x184f73,'element':_0x3d0dd8}:_0x3951fd;},{'offset':Number[_0x19b761(0x9a3)]})[_0x19b761(0x746)];_0x29bd99==null?_0xd7e141['appendChild'](_0x552d2e):_0xd7e141[_0x19b761(0x2dd)](_0x552d2e,_0x29bd99);}),_0xd7e141[_0x4a8139(0xb95)](_0x4a8139(0x39e),_0x247b13=>{const _0x1d1f99=_0x4a8139;_0x247b13[_0x1d1f99(0xc6f)]();if(_0x552d2e){const _0x5a7077=[..._0xd7e141[_0x1d1f99(0x6aa)](_0x1d1f99(0x70b))]['map'](_0x8987d2=>_0x8987d2[_0x1d1f99(0x87f)][_0x1d1f99(0xcff)]);handleShortcutOrderChange(activeShortcutTabId,_0x5a7077);}}),document[_0x4a8139(0x6aa)](_0x4a8139(0x979))[_0x4a8139(0x71e)](_0x558d6f=>{const _0x4fe551=_0x4a8139;_0x558d6f[_0x4fe551(0xb95)](_0x4fe551(0x305),_0x30a11b=>{const _0x441fc3=_0x4fe551;_0x30a11b[_0x441fc3(0x73c)]();const _0x3a3791=_0x30a11b[_0x441fc3(0xb13)][_0x441fc3(0x42b)],_0xdee515=_0x3a3791[_0x441fc3(0xa57)][_0x441fc3(0x28c)](_0x441fc3(0xcb3));document[_0x441fc3(0x6aa)]('.move-shortcut-dropdown')[_0x441fc3(0x71e)](_0x1ae24e=>_0x1ae24e['classList']['add'](_0x441fc3(0xcb3))),_0xdee515&&_0x3a3791[_0x441fc3(0xa57)][_0x441fc3(0x586)](_0x441fc3(0xcb3));});});}document[_0xa39756(0xb95)]('click',_0x41610d=>{const _0x540e70=_0xa39756;!_0x41610d[_0x540e70(0x748)][_0x540e70(0x762)](_0x540e70(0x9aa))&&document['querySelectorAll'](_0x540e70(0x3cf))[_0x540e70(0x71e)](_0x47f3de=>_0x47f3de[_0x540e70(0xa57)]['add'](_0x540e70(0xcb3)));});async function saveShortcutConfig(){const _0x1472c4=_0xa39756,_0x3346af=doc(db,_0x1472c4(0x96b),_0x1472c4(0xac0));try{await setDoc(_0x3346af,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x5383c3){console[_0x1472c4(0xd73)](_0x1472c4(0x2d7),_0x5383c3);}}async function handleAddShortcutTab(){const _0x3e0cb2=_0xa39756,_0x334ed0=prompt(_0x3e0cb2(0x71a),_0x3e0cb2(0x819));if(!_0x334ed0||_0x334ed0[_0x3e0cb2(0x6a8)]()==='')return;shortcutTabs[_0x3e0cb2(0xbdd)]({'id':'tab_'+Date[_0x3e0cb2(0xcad)](),'name':_0x334ed0['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x19caba,_0x3b9de4){const _0x5d3ab3=_0xa39756,_0x2bc73d=shortcutTabs[_0x5d3ab3(0xaf7)](_0x238de3=>_0x238de3['id']===_0x19caba);_0x2bc73d&&_0x3b9de4[_0x5d3ab3(0x6a8)]()!==''&&(_0x2bc73d['name']=_0x3b9de4[_0x5d3ab3(0x6a8)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x5aa67f){const _0x4efa50=_0xa39756,_0x3dcba3=shortcutTabs[_0x4efa50(0xaf7)](_0x501bd5=>_0x501bd5['id']===_0x5aa67f);_0x3dcba3&&!_0x3dcba3[_0x4efa50(0x6f1)]&&showConfirmation(_0x4efa50(0x453)+_0x3dcba3[_0x4efa50(0x4ee)]+'\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)',async()=>{const _0x531e36=_0x4efa50;shortcutTabs=shortcutTabs[_0x531e36(0x4da)](_0x4131da=>_0x4131da['id']!==_0x5aa67f),delete shortcutOrder[_0x5aa67f];if(activeShortcutTabId===_0x5aa67f)activeShortcutTabId=_0x531e36(0x49d);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x4da2dd,_0x97824a){const _0x399b05=_0xa39756,_0x5bb8da=shortcutTabs[_0x399b05(0xaf7)](_0x4c87be=>_0x4c87be['id']===_0x97824a);_0x5bb8da&&!_0x5bb8da['shortcutIds']['includes'](_0x4da2dd)&&(_0x5bb8da['shortcutIds'][_0x399b05(0xbdd)](_0x4da2dd),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0xb00f3f,_0x1798d4){const _0x3ef125=_0xa39756,_0x1a1e80=shortcutTabs['find'](_0x3414cf=>_0x3414cf['id']===_0x1798d4);_0x1a1e80&&!_0x1a1e80['isDefault']&&(_0x1a1e80['shortcutIds']=_0x1a1e80[_0x3ef125(0x603)][_0x3ef125(0x4da)](_0x14cc0c=>_0x14cc0c!==_0xb00f3f),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x11e3c2,_0x233d9a){shortcutOrder[_0x11e3c2]=_0x233d9a,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x3a00a2=_0xa39756,_0x1146e3=document[_0x3a00a2(0x8fb)](_0x3a00a2(0xd35)),_0x37c133=document[_0x3a00a2(0x8fb)](_0x3a00a2(0x9fc)),_0x18de3f=document[_0x3a00a2(0x8fb)](_0x3a00a2(0xbca));_0x18de3f&&_0x18de3f[_0x3a00a2(0xa57)]['add']('hidden');if(!_0x1146e3||!_0x37c133)return;const _0x36a33e=blueprintShortcuts[_0x3a00a2(0x210)](0x0,0x4),_0x1202db=blueprintShortcuts[_0x3a00a2(0x210)](0x4);_0x1146e3['innerHTML']=_0x36a33e[_0x3a00a2(0x218)](_0x2c7deb=>{const _0x539ba3=_0x3a00a2;let _0x3739de=_0x539ba3(0x2ba),_0x337ae2='🧩';if(_0x2c7deb[_0x539ba3(0x89a)]&&_0x2c7deb[_0x539ba3(0x8cf)])_0x3739de=_0x539ba3(0x68a),_0x337ae2='📗';else _0x2c7deb[_0x539ba3(0x89a)]&&(_0x3739de=_0x539ba3(0x3ef),_0x337ae2='📘');const _0x42233d=!_0x2c7deb[_0x539ba3(0x6f1)]?'<button\x20data-id=\x22'+_0x2c7deb['id']+_0x539ba3(0x4e8):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x2c7deb['id']+_0x539ba3(0x9a9)+_0x3739de+_0x539ba3(0x92f)+_0x337ae2+'\x20'+_0x2c7deb[_0x539ba3(0x4ee)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2c7deb['id']+_0x539ba3(0x399)+_0x42233d+_0x539ba3(0xd65);})[_0x3a00a2(0xb7d)](''),_0x1202db['length']>0x0&&(_0x1146e3[_0x3a00a2(0x878)]+=_0x3a00a2(0x41a)),_0x1202db['length']>0x0?_0x37c133[_0x3a00a2(0x878)]=_0x1202db['map'](_0x50d582=>{const _0xf8aec6=_0x3a00a2;let _0x100759='🧩';if(_0x50d582[_0xf8aec6(0x89a)]&&_0x50d582[_0xf8aec6(0x8cf)])_0x100759='📗';else _0x50d582[_0xf8aec6(0x89a)]&&(_0x100759='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x100759+'\x20'+_0x50d582[_0xf8aec6(0x4ee)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x50d582['id']+_0xf8aec6(0x359)+_0x50d582['id']+_0xf8aec6(0x665)+(!_0x50d582[_0xf8aec6(0x6f1)]?_0xf8aec6(0x4d1)+_0x50d582['id']+_0xf8aec6(0x516):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3a00a2(0xb7d)](''):_0x37c133[_0x3a00a2(0x878)]=_0x3a00a2(0xb00);}function getMimeTypeFromFilename(_0x4d852c){const _0x3c7edd=_0xa39756,_0x31d0fc=_0x4d852c['split']('.')[_0x3c7edd(0x805)]()[_0x3c7edd(0xb4d)]();switch(_0x31d0fc){case'pdf':return _0x3c7edd(0x46e);case _0x3c7edd(0x5fa):return'text/plain';default:return _0x3c7edd(0x46e);}}function openShortcutEditor(_0x5dfeed=null){const _0x38f59a=_0xa39756,_0x5700e4=document['getElementById']('shortcut-editor-modal'),_0x3b1573=document[_0x38f59a(0x8fb)]('shortcut-modal-title'),_0xac93b8=document[_0x38f59a(0x8fb)]('shortcut-id-input'),_0x114e2a=document[_0x38f59a(0x8fb)](_0x38f59a(0x8a0)),_0x100ef0=document[_0x38f59a(0x8fb)](_0x38f59a(0x6d8)),_0x3b24ec=document[_0x38f59a(0x8fb)](_0x38f59a(0xbd5));if(_0x5dfeed){const _0x3b6d07=blueprintShortcuts[_0x38f59a(0xaf7)](_0x2d38ea=>_0x2d38ea['id']===_0x5dfeed);if(!_0x3b6d07)return;_0x3b1573[_0x38f59a(0xa47)]=_0x38f59a(0x538),_0xac93b8[_0x38f59a(0x3d4)]=_0x3b6d07['id'],_0x114e2a[_0x38f59a(0x3d4)]=_0x3b6d07[_0x38f59a(0x4ee)],_0x100ef0['value']=_0x3b6d07[_0x38f59a(0x89a)]||'',_0x3b24ec[_0x38f59a(0x3d4)]=_0x3b6d07[_0x38f59a(0x8cf)]||'';}else _0x3b1573[_0x38f59a(0xa47)]='เพิ่มปุ่มลัดใหม่',_0xac93b8[_0x38f59a(0x3d4)]='',_0x114e2a[_0x38f59a(0x3d4)]='',_0x100ef0['value']='',_0x3b24ec[_0x38f59a(0x3d4)]='';_0x5700e4[_0x38f59a(0xa57)][_0x38f59a(0x586)](_0x38f59a(0xcb3));}async function saveShortcutChanges(){const _0xae2877=_0xa39756,_0x45a761=document[_0xae2877(0x8fb)]('shortcut-id-input')[_0xae2877(0x3d4)],_0x4672d9=document['getElementById']('shortcut-name-input')[_0xae2877(0x3d4)][_0xae2877(0x6a8)](),_0x16b4a9=document[_0xae2877(0x8fb)](_0xae2877(0x6d8))[_0xae2877(0x3d4)]['trim']();if(!_0x4672d9||!_0x16b4a9){showMessage(_0xae2877(0x1f1));return;}const _0x357fb6={'id':_0x45a761||'shortcut_'+Date[_0xae2877(0xcad)](),'name':_0x4672d9,'blueprintUrl':_0x16b4a9,'referenceUrl':document[_0xae2877(0x8fb)](_0xae2877(0xbd5))['value'][_0xae2877(0x6a8)](),'isDefault':_0x45a761[_0xae2877(0x739)](_0xae2877(0x376))};let _0xaa22db;_0x45a761?_0xaa22db=blueprintShortcuts[_0xae2877(0x218)](_0x5bdd46=>_0x5bdd46['id']===_0x45a761?_0x357fb6:_0x5bdd46):_0xaa22db=[...blueprintShortcuts,_0x357fb6];try{const _0x474a0b=doc(db,_0xae2877(0x96b),_0xae2877(0xac0));await setDoc(_0x474a0b,{'blueprintShortcuts':_0xaa22db},{'merge':!![]}),document[_0xae2877(0x8fb)](_0xae2877(0xc4e))[_0xae2877(0xa57)][_0xae2877(0x8de)](_0xae2877(0xcb3));}catch(_0x8083d7){console[_0xae2877(0xd73)]('Error\x20saving\x20shortcut:',_0x8083d7),showMessage(_0xae2877(0xcab));}}async function handleShortcutClick(_0x226381){const _0x19a246=_0xa39756,_0x1faca5=blueprintShortcuts[_0x19a246(0xaf7)](_0x5bc762=>_0x5bc762['id']===_0x226381);if(!_0x1faca5||!_0x1faca5[_0x19a246(0x89a)])return;document[_0x19a246(0x8fb)](_0x19a246(0x37f))['classList'][_0x19a246(0x8de)](_0x19a246(0xcb3)),document[_0x19a246(0x8fb)](_0x19a246(0x3b9))['disabled']=!![];const _0x47bfa2=document[_0x19a246(0x8fb)]('loader'),_0x4b0936=document['getElementById'](_0x19a246(0xa03));document[_0x19a246(0x8fb)](_0x19a246(0x956))['classList']['remove']('hidden'),document[_0x19a246(0x8fb)](_0x19a246(0xdf7))[_0x19a246(0x878)]='',_0x47bfa2[_0x19a246(0xa57)][_0x19a246(0x586)]('hidden');try{_0x4b0936['textContent']=_0x19a246(0x6da);const _0x38ff52=await fetchFileFromUrl(_0x1faca5[_0x19a246(0x89a)],_0x19a246(0x70c));let _0x298139=null;if(_0x1faca5[_0x19a246(0x8cf)]){_0x4b0936[_0x19a246(0xa47)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x48d0a7=_0x1faca5[_0x19a246(0x8cf)][_0x19a246(0xb4d)]()[_0x19a246(0xc91)](_0x19a246(0x5bc))?_0x19a246(0xdc8):'reference.pdf';_0x298139=await fetchFileFromUrl(_0x1faca5['referenceUrl'],_0x48d0a7);}await handleGenerateFromBlueprintWithFiles(_0x38ff52,_0x298139);}catch(_0x45826a){console[_0x19a246(0xd73)](_0x19a246(0xc51),_0x45826a),showMessage(_0x19a246(0xa05)+_0x45826a[_0x19a246(0x5b7)]),_0x47bfa2['classList'][_0x19a246(0x8de)]('hidden');}}function getDirectDownloadUrl(_0x35e84d){const _0x4634a9=_0xa39756,_0x5756ce=_0x35e84d[_0x4634a9(0xdce)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x5756ce&&_0x5756ce[0x1])return _0x4634a9(0x35c)+_0x5756ce[0x1];return _0x35e84d;}async function fetchFileFromUrl(_0x6e9981,_0xad0745){const _0x528aaf=_0xa39756,_0x5c007d=getDirectDownloadUrl(_0x6e9981),_0x516e1d=_0x528aaf(0x882)+encodeURIComponent(_0x5c007d),_0xcd8877=await fetch(_0x516e1d);if(!_0xcd8877['ok'])throw new Error(_0x528aaf(0xa89)+_0xcd8877[_0x528aaf(0xcce)]+')');const _0x4d8563=await _0xcd8877['blob'](),_0x5c4e17=await new Promise((_0x9c80b5,_0x293078)=>{const _0x45466c=_0x528aaf,_0x5c5d05=new FileReader();_0x5c5d05['onloadend']=()=>_0x9c80b5(new Uint8Array(_0x5c5d05[_0x45466c(0x3c3)])),_0x5c5d05['onerror']=_0x293078,_0x5c5d05[_0x45466c(0x579)](_0x4d8563['slice'](0x0,0x4));});let _0x817725='';const _0x47caf3=new TextDecoder()['decode'](_0x5c4e17);return _0x47caf3===_0x528aaf(0xd86)?(_0x817725=_0x528aaf(0x46e),console[_0x528aaf(0xcf9)](_0x528aaf(0x2e2))):(_0x817725=_0x528aaf(0x266),console['log']('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0x4d8563],_0xad0745,{'type':_0x817725});}async function handleGenerateFromBlueprintWithFiles(_0xc83707,_0x122678=null){const _0x185e0c=_0xa39756;if(!_0xc83707){showMessage('ไม่พบไฟล์\x20Test\x20Blueprint');return;}const _0x36d169=document[_0x185e0c(0x8fb)](_0x185e0c(0x77e)),_0x49244d=document[_0x185e0c(0x8fb)](_0x185e0c(0xa03));_0x36d169['classList']['remove'](_0x185e0c(0xcb3)),document[_0x185e0c(0x8fb)](_0x185e0c(0x956))[_0x185e0c(0xa57)]['remove'](_0x185e0c(0xcb3)),document[_0x185e0c(0x8fb)]('generated-quiz-container')['innerHTML']='';try{_0x49244d[_0x185e0c(0xa47)]=_0x185e0c(0x2e4);const _0x88494f=await new Promise((_0x1a8c3e,_0x41810f)=>{const _0x155f29=_0x185e0c,_0x1ab36d=new FileReader();_0x1ab36d[_0x155f29(0x7e5)](_0xc83707),_0x1ab36d['onload']=()=>_0x1a8c3e(_0x1ab36d[_0x155f29(0x3c3)][_0x155f29(0x5da)](',')[0x1]),_0x1ab36d[_0x155f29(0xb82)]=_0x41810f;}),_0x257cf2=[];if(_0x122678){_0x49244d['textContent']=_0x185e0c(0x561);const _0x4a50d3=await _0x122678[_0x185e0c(0x54d)]();_0x257cf2['push']({'text':_0x185e0c(0x918)+_0x4a50d3});}const _0x56500f=[{'text':_0x185e0c(0x400)},{'inlineData':{'mimeType':_0xc83707[_0x185e0c(0xbc3)],'data':_0x88494f}},..._0x257cf2];await handleGenerateFromBlueprint(_0x56500f);}catch(_0x15f5f1){console['error'](_0x185e0c(0xc5c),_0x15f5f1),showMessage(_0x185e0c(0xa05)+_0x15f5f1[_0x185e0c(0x5b7)]),_0x36d169['classList'][_0x185e0c(0x8de)](_0x185e0c(0xcb3));}}async function handleLiveAnswer(_0x25b96e,_0x1ff4cd){const _0x18b5c4=_0xa39756;document[_0x18b5c4(0x6aa)](_0x18b5c4(0x3c5))['forEach'](_0x4e4707=>_0x4e4707['disabled']=!![]);const _0x3ed6b2=_0x1ff4cd[_0x18b5c4(0x672)]||currentQuizData['quizType'];let _0x38b4c8=![],_0x9f92cb=_0x25b96e;if(_0x3ed6b2===_0x18b5c4(0x880)){const _0x7d7d54=(_0x25b96e||'')[_0x18b5c4(0x2e7)]();_0x38b4c8=await gradeShortAnswer(_0x7d7d54,_0x1ff4cd);}else{if(_0x3ed6b2===_0x18b5c4(0x525))_0x38b4c8=_0x25b96e===_0x1ff4cd[_0x18b5c4(0x5fd)];else{if(_0x3ed6b2==='true_false'){const _0x3448a4=_0x1ff4cd[_0x18b5c4(0xdae)];_0x38b4c8=_0x25b96e===0x0&&_0x3448a4||_0x25b96e===0x1&&!_0x3448a4;}else{if(_0x3ed6b2===_0x18b5c4(0xbd6)){const _0x44aa15=_0x1ff4cd[_0x18b5c4(0x23b)][_0x25b96e];_0x38b4c8=_0x44aa15===_0x1ff4cd['correctResponse'],_0x9f92cb=_0x44aa15;}}}}const _0x2c059d=doc(db,_0x18b5c4(0x73f)+appId+_0x18b5c4(0xd19),currentLiveGameId),_0x48ad68={};_0x48ad68['players.'+currentStudentName+_0x18b5c4(0x8b1)]=!![],_0x48ad68[_0x18b5c4(0xae0)+currentStudentName+_0x18b5c4(0x502)]=_0x38b4c8,_0x48ad68[_0x18b5c4(0xae0)+currentStudentName+_0x18b5c4(0x4c3)]=_0x3ed6b2===_0x18b5c4(0x880)||_0x3ed6b2===_0x18b5c4(0xbd6)?null:_0x25b96e,_0x48ad68[_0x18b5c4(0xae0)+currentStudentName+_0x18b5c4(0x99a)]=_0x9f92cb,_0x48ad68[_0x18b5c4(0xae0)+currentStudentName+_0x18b5c4(0xaef)]=serverTimestamp(),_0x48ad68[_0x18b5c4(0xae0)+currentStudentName+_0x18b5c4(0xb93)]=![],await updateDoc(_0x2c059d,_0x48ad68),liveGameView[_0x18b5c4(0x878)]=_0x18b5c4(0x26b);}function showAdminSummaryView(_0x15582a,_0x2d1276){const _0x3a5c1a=_0xa39756,_0x499b68=Object[_0x3a5c1a(0x2fa)](_0x15582a[_0x3a5c1a(0x20e)]||{}),_0x567e84=_0x2d1276['questionType']||currentQuizData[_0x3a5c1a(0x28e)],_0xc0e2d4=_0x567e84==='true_false'?[_0x3a5c1a(0x943),'ไม่ใช่']:_0x2d1276[_0x3a5c1a(0x9af)]||_0x2d1276[_0x3a5c1a(0x23b)]||[],_0x4cfaea={},_0x1c5e76=new Array(_0xc0e2d4[_0x3a5c1a(0x7c7)])[_0x3a5c1a(0xd47)](0x0);_0xc0e2d4[_0x3a5c1a(0x71e)]((_0x34df79,_0xb8f497)=>{_0x4cfaea[_0xb8f497]=[];}),Object[_0x3a5c1a(0x761)](_0x15582a['players']||{})[_0x3a5c1a(0x71e)](([_0x517525,_0x45307e])=>{const _0x8eb843=_0x3a5c1a;if(_0x45307e[_0x8eb843(0xcce)]===_0x8eb843(0xd52)&&_0x45307e[_0x8eb843(0x4bd)]!==undefined){const _0x3a16a0=_0x45307e['lastAnswerIndex'];_0x4cfaea[_0x3a16a0]&&(_0x4cfaea[_0x3a16a0][_0x8eb843(0xbdd)](_0x517525),_0x1c5e76[_0x3a16a0]++);}});const _0x3b68c9=Math['max'](..._0x1c5e76,0x1),_0x53048d=_0x3a5c1a(0x37c)+(_0x2d1276[_0x3a5c1a(0x722)]||_0x2d1276[_0x3a5c1a(0xcd1)])+_0x3a5c1a(0xa1c)+_0x1c5e76[_0x3a5c1a(0x218)]((_0x31ee95,_0x2cc5d4)=>{const _0x1ed5e8=_0x3a5c1a,_0x5dc2cc=_0x4cfaea[_0x2cc5d4]['length']>0x0?_0x4cfaea[_0x2cc5d4][_0x1ed5e8(0xb7d)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0xf7e32b=![];if(_0x567e84===_0x1ed5e8(0x525))_0xf7e32b=_0x2cc5d4===_0x2d1276['correctAnswerIndex'];else{if(_0x567e84==='true_false'){const _0x46cba5=_0x2d1276[_0x1ed5e8(0xdae)];_0xf7e32b=_0x46cba5&&_0x2cc5d4===0x0||!_0x46cba5&&_0x2cc5d4===0x1;}else _0x567e84===_0x1ed5e8(0xbd6)&&(_0xf7e32b=_0xc0e2d4[_0x2cc5d4]===_0x2d1276['correctResponse']);}const _0x4a0331=_0xf7e32b?_0x1ed5e8(0x729):_0x1ed5e8(0x413);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x31ee95+_0x1ed5e8(0x857)+_0x4a0331+_0x1ed5e8(0x32b)+_0x2cc5d4+_0x1ed5e8(0xdd1)+_0xc0e2d4[_0x2cc5d4]+_0x1ed5e8(0xc72)+_0x2cc5d4+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5dc2cc+_0x1ed5e8(0x4bf);})[_0x3a5c1a(0xb7d)]('')+_0x3a5c1a(0xdcc);liveGameView['innerHTML']=_0x53048d;if(window[_0x3a5c1a(0xb54)])MathJax[_0x3a5c1a(0xa3f)]();document[_0x3a5c1a(0x8fb)](_0x3a5c1a(0x6ea))[_0x3a5c1a(0xb95)](_0x3a5c1a(0x305),async()=>{const _0x14de3a=_0x3a5c1a,_0x1e4fd4=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x1e4fd4,{'questionStatus':_0x14de3a(0x569)});}),document[_0x3a5c1a(0x8fb)](_0x3a5c1a(0x7e7))[_0x3a5c1a(0xb95)](_0x3a5c1a(0x305),()=>{openScratchpad(_0x2d1276,_0xc0e2d4);});}function showPlayerSummaryView(_0x4b2652,_0x2ec1c4){const _0x3ca1ef=_0xa39756,_0x36cea7=Object[_0x3ca1ef(0x2fa)](_0x4b2652[_0x3ca1ef(0x20e)]||{}),_0x1f23d0=_0x4b2652['players'][_0x2ec1c4],_0x36c0d7=_0x36cea7[_0x3ca1ef(0x4da)](_0x55958a=>_0x55958a[_0x3ca1ef(0xcce)]===_0x3ca1ef(0xd52))[_0x3ca1ef(0xcbf)]((_0x1881c5,_0x3e777c)=>_0x3e777c[_0x3ca1ef(0x3e4)]-_0x1881c5[_0x3ca1ef(0x3e4)]),_0x1a951c=_0x36c0d7[_0x3ca1ef(0xd7e)](_0x588689=>_0x588689===_0x1f23d0)+0x1,_0x4452bd=_0x1f23d0[_0x3ca1ef(0x884)]?_0x3ca1ef(0xa9f):_0x3ca1ef(0x67b),_0x37730d=_0x1f23d0[_0x3ca1ef(0x884)]?_0x3ca1ef(0xd40):'bg-red-500',_0x578397=_0x1f23d0[_0x3ca1ef(0x524)]||0x0,_0x1d0af2=_0x3ca1ef(0xd82),_0x6776f4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x1d0af2+_0x3ca1ef(0x77c)+_0x37730d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x4452bd+_0x3ca1ef(0x50e)+_0x578397+_0x3ca1ef(0x702)+(_0x1a951c>0x0?_0x1a951c:'-')+_0x3ca1ef(0x875);liveGameView[_0x3ca1ef(0x878)]=_0x6776f4;}function createQuizFromBank(){const _0x55ea8b=_0xa39756,_0x2b52b0=document[_0x55ea8b(0x6aa)](_0x55ea8b(0x23f));if(_0x2b52b0['length']===0x0){showMessage(_0x55ea8b(0x642));return;}const _0x2ea39c=[];_0x2b52b0['forEach'](_0x54fcb5=>{const _0x3c17fc=_0x55ea8b;_0x2ea39c[_0x3c17fc(0xbdd)](JSON[_0x3c17fc(0x5ed)](_0x54fcb5[_0x3c17fc(0x3d4)]));});const _0x46811c={'topic':_0x55ea8b(0x410),'questions':_0x2ea39c};displayGeneratedQuiz(_0x46811c);}function showAdminLobbyView(_0x5375ea,_0x18e759){const _0x3f4cb9=_0xa39756;showView(_0x3f4cb9(0xd10));const _0x4e905b=_0x3f4cb9(0x910)+_0x18e759+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x5375ea+_0x3f4cb9(0xcf0);liveGameView[_0x3f4cb9(0x878)]=_0x4e905b,document[_0x3f4cb9(0x8fb)](_0x3f4cb9(0xcf1))[_0x3f4cb9(0xb95)]('click',async()=>{const _0x1be6b9=_0x3f4cb9;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x1be6b9(0x4a2)][_0x1be6b9(0x7c7)]===0x0){showMessage(_0x1be6b9(0xa40));return;}try{const _0x238c78=doc(db,_0x1be6b9(0x73f)+appId+_0x1be6b9(0xd19),currentLiveGameId);await updateDoc(_0x238c78,{'status':_0x1be6b9(0x84c),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x23dda3=currentQuizData[_0x1be6b9(0x4a2)][0x0],_0xa89603=currentQuizData[_0x1be6b9(0x4a2)][_0x1be6b9(0x7c7)];showAdminLiveQuestionView(_0x23dda3,0x0,_0xa89603);}catch(_0x482be2){console['error'](_0x1be6b9(0x36d),_0x482be2),showMessage(_0x1be6b9(0x60a));}});}async function openQuizBankModal(){const _0x4d705b=_0xa39756;if(allQuizzesGlobal[_0x4d705b(0x7c7)]===0x0){const _0x892d9=await getDocs(collection(db,_0x4d705b(0x73f)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x892d9['docs'][_0x4d705b(0x218)](_0x402614=>({'id':_0x402614['id'],..._0x402614[_0x4d705b(0x3d7)]()}));}renderQuizBankList(''),document[_0x4d705b(0x8fb)](_0x4d705b(0xb75))['classList'][_0x4d705b(0x586)](_0x4d705b(0xcb3));}function renderQuizBankList(_0xbccb87='',_0x32c99b=![]){const _0x569f5c=_0xa39756,_0x55a47e=document[_0x569f5c(0x8fb)](_0x569f5c(0x53d)),_0x3c44f2=_0xbccb87[_0x569f5c(0xb4d)]()['trim'](),_0x317422=allQuizzesGlobal[_0x569f5c(0x218)](_0x3d5bbf=>({..._0x3d5bbf,'projectName':allProjects['find'](_0x5ab5ae=>_0x5ab5ae['id']===_0x3d5bbf['projectId'])?.[_0x569f5c(0x437)]||_0x569f5c(0xa5b)}))['filter'](_0x59ddff=>(_0x59ddff[_0x569f5c(0xb19)]||'')[_0x569f5c(0xb4d)]()[_0x569f5c(0x44e)](_0x3c44f2)||(_0x59ddff[_0x569f5c(0x437)]||'')[_0x569f5c(0xb4d)]()[_0x569f5c(0x44e)](_0x3c44f2)||_0x59ddff['id'][_0x569f5c(0x2e7)]()['includes'](_0x3c44f2));document[_0x569f5c(0x8fb)]('quiz-bank-count')[_0x569f5c(0xa47)]='('+_0x317422[_0x569f5c(0x7c7)]+'\x20ชุด)',_0x55a47e['innerHTML']=_0x317422[_0x569f5c(0x7c7)]?_0x317422[_0x569f5c(0x218)](_0x5807e6=>{const _0x3e361c=_0x569f5c,_0x3eefdc=!_0x32c99b?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5807e6['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5807e6['id']+_0x3e361c(0x727)+_0x5807e6['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5807e6['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5807e6['id']+_0x3e361c(0x243)+_0x5807e6['id']+_0x3e361c(0xb06)+_0x5807e6[_0x3e361c(0xb19)]+_0x3e361c(0x60e):'';return _0x3e361c(0x39a)+_0x5807e6['id']+_0x3e361c(0x96a)+(_0x5807e6[_0x3e361c(0xb19)]||_0x3e361c(0xa97))+_0x3e361c(0x443)+(_0x5807e6['questions']?.['length']||0x0)+_0x3e361c(0x8be)+_0x5807e6[_0x3e361c(0x437)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x5807e6['id']+_0x3e361c(0x7dd)+_0x3eefdc+_0x3e361c(0xc3f);})['join'](''):_0x569f5c(0xbf4),!_0x32c99b&&(_0x55a47e[_0x569f5c(0x6aa)](_0x569f5c(0x5f2))['forEach'](_0x322bfe=>{const _0x145a94=_0x569f5c;_0x322bfe['addEventListener'](_0x145a94(0x305),()=>{const _0x1315ab=_0x145a94,_0x43af8e=_0x322bfe['dataset']['id'];document[_0x1315ab(0x8fb)](_0x1315ab(0xb75))[_0x1315ab(0xa57)]['add'](_0x1315ab(0xcb3)),showQuizDetailView(_0x43af8e);});}),_0x55a47e['querySelectorAll']('.quiz-bank-try-btn')['forEach'](_0x4c4b11=>{const _0x4f7041=_0x569f5c;_0x4c4b11[_0x4f7041(0xb95)](_0x4f7041(0x305),_0x349290=>{const _0x4fbea5=_0x4f7041;_0x349290['stopPropagation']();const _0x3a1ffe=_0x4c4b11['dataset']['id'],_0x3e80c7=allQuizzesGlobal[_0x4fbea5(0xaf7)](_0x3b4232=>_0x3b4232['id']===_0x3a1ffe);_0x3e80c7?(currentQuizData=_0x3e80c7,document[_0x4fbea5(0x8fb)](_0x4fbea5(0xb75))[_0x4fbea5(0xa57)][_0x4fbea5(0x8de)]('hidden'),startAdminTest()):showMessage(_0x4fbea5(0xd04));});}),_0x55a47e['querySelectorAll'](_0x569f5c(0xdee))[_0x569f5c(0x71e)](_0x21b5f7=>{const _0x3fd80d=_0x569f5c;_0x21b5f7[_0x3fd80d(0xb95)](_0x3fd80d(0x305),_0x1e2a4e=>{const _0x43cb62=_0x3fd80d;_0x1e2a4e[_0x43cb62(0x73c)]();const _0x21554e=_0x21b5f7[_0x43cb62(0x87f)]['id'],_0x21d2fd=allQuizzesGlobal[_0x43cb62(0xaf7)](_0x5ab214=>_0x5ab214['id']===_0x21554e);_0x21d2fd?(document[_0x43cb62(0x8fb)](_0x43cb62(0xb75))[_0x43cb62(0xa57)][_0x43cb62(0x8de)](_0x43cb62(0xcb3)),handleGenerateParallelFromBank(_0x21d2fd)):showMessage(_0x43cb62(0xd04));});}),_0x55a47e[_0x569f5c(0x6aa)](_0x569f5c(0x1ef))[_0x569f5c(0x71e)](_0x47c1d5=>{const _0x75f1a8=_0x569f5c;_0x47c1d5['addEventListener'](_0x75f1a8(0x305),_0x25241a=>{const _0x33c6f2=_0x75f1a8;_0x25241a['stopPropagation']();const _0xfbd937=_0x47c1d5['dataset']['id'],_0x1c39ed=allQuizzesGlobal[_0x33c6f2(0xaf7)](_0x56b20d=>_0x56b20d['id']===_0xfbd937);_0x1c39ed?(document[_0x33c6f2(0x8fb)]('quiz-bank-modal')[_0x33c6f2(0xa57)]['add'](_0x33c6f2(0xcb3)),startPresentation(_0x1c39ed)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x55a47e['querySelectorAll'](_0x569f5c(0x50b))[_0x569f5c(0x71e)](_0x5ba84f=>{const _0x5ea715=_0x569f5c;_0x5ba84f[_0x5ea715(0xb95)](_0x5ea715(0x305),_0x12b07f=>{const _0x46ec4c=_0x5ea715;_0x12b07f['stopPropagation']();const _0x55d2a9=_0x5ba84f[_0x46ec4c(0x87f)]['id'];document[_0x46ec4c(0x8fb)](_0x46ec4c(0xb75))[_0x46ec4c(0xa57)][_0x46ec4c(0x8de)](_0x46ec4c(0xcb3)),handleMoveQuiz(_0x55d2a9);});}),_0x55a47e[_0x569f5c(0x6aa)](_0x569f5c(0x545))['forEach'](_0x3fd293=>{const _0x3e1687=_0x569f5c;_0x3fd293[_0x3e1687(0xb95)]('click',_0x1c7ffc=>{const _0x4ddf11=_0x3e1687;_0x1c7ffc[_0x4ddf11(0x73c)]();const _0x40a1ce=_0x3fd293['dataset']['id'];document[_0x4ddf11(0x8fb)]('quiz-bank-modal')[_0x4ddf11(0xa57)][_0x4ddf11(0x8de)](_0x4ddf11(0xcb3)),handleQuizSettings(_0x40a1ce);});}),_0x55a47e[_0x569f5c(0x6aa)](_0x569f5c(0xd14))[_0x569f5c(0x71e)](_0x4b3866=>{const _0x2b8e80=_0x569f5c;_0x4b3866['addEventListener'](_0x2b8e80(0x305),_0x160ac3=>{const _0xc87325=_0x2b8e80;_0x160ac3['stopPropagation']();const _0x192559=_0x4b3866[_0xc87325(0x87f)]['id'],_0x2ba388=_0x4b3866['dataset'][_0xc87325(0xb19)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x2ba388+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x192559));});}));}async function handleCompareResults(_0x25794a,_0x5de8ff){const _0x4523a2=_0xa39756,_0x20affe=document[_0x4523a2(0x8fb)](_0x4523a2(0x7b8)),_0xad0a14=document['getElementById'](_0x4523a2(0x24f)),_0x4f7aac=document['getElementById'](_0x4523a2(0x82e));document[_0x4523a2(0x8fb)](_0x4523a2(0x56c))[_0x4523a2(0xa57)]['add'](_0x4523a2(0xd52)),document[_0x4523a2(0x8fb)](_0x4523a2(0x4b2))[_0x4523a2(0xa57)][_0x4523a2(0x586)](_0x4523a2(0xd52)),_0xad0a14[_0x4523a2(0xa57)][_0x4523a2(0x586)]('hidden'),_0x4f7aac[_0x4523a2(0xa57)][_0x4523a2(0x8de)]('hidden'),_0xad0a14[_0x4523a2(0x878)]=_0x4523a2(0xb14),_0x4f7aac['innerHTML']='',_0x20affe[_0x4523a2(0xa57)][_0x4523a2(0x586)](_0x4523a2(0xcb3));try{const _0x4b3872=doc(db,_0x4523a2(0x73f)+appId+_0x4523a2(0xdb4),_0x25794a),_0x2d4344=await getDoc(_0x4b3872);if(!_0x2d4344['exists']())throw new Error(_0x4523a2(0xd0f));const _0x16072a=_0x2d4344[_0x4523a2(0x3d7)](),_0x5f332c=_0x16072a[_0x4523a2(0x4a2)]['length'],_0x2f89e4=collection(db,_0x4523a2(0x73f)+appId+'/public/data/quizzes/'+_0x5de8ff+_0x4523a2(0x26d)),_0x47b9da=collection(db,'artifacts/'+appId+_0x4523a2(0x4e3)+_0x25794a+_0x4523a2(0x26d)),[_0x23f275,_0x20b6e8]=await Promise[_0x4523a2(0x49d)]([getDocs(_0x2f89e4),getDocs(_0x47b9da)]),_0x7aacd1=_0x23f275[_0x4523a2(0x485)][_0x4523a2(0x218)](_0x41b31a=>_0x41b31a[_0x4523a2(0x3d7)]()),_0x5a63f7=_0x20b6e8[_0x4523a2(0x485)][_0x4523a2(0x218)](_0x379cad=>_0x379cad[_0x4523a2(0x3d7)]()),_0x22d372=_0x7aacd1[_0x4523a2(0x218)](_0x1d5ce8=>_0x1d5ce8['latestScore']),_0x311f22=_0x5a63f7[_0x4523a2(0x218)](_0x97c1ff=>_0x97c1ff[_0x4523a2(0xd0e)]),_0x1e5eb8=calculateMeanAndStdDev(_0x22d372),_0x4e54ad=calculateMeanAndStdDev(_0x311f22),_0x9eeb24=_0x1e5eb8['mean'],_0x5ac469=_0x4e54ad['mean'],_0x3db3d0=_0x5ac469-_0x9eeb24;let _0x15796a=_0x4523a2(0x224)+_0x9eeb24['toFixed'](0x2)+_0x4523a2(0x231)+_0x5ac469[_0x4523a2(0xb98)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x3db3d0>=0x0?_0x4523a2(0x917):_0x4523a2(0x806))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x3db3d0>=0x0?_0x4523a2(0x948):'text-red-800')+_0x4523a2(0x685)+(_0x3db3d0>=0x0?_0x4523a2(0x680):_0x4523a2(0x52c))+'\x22>'+(_0x3db3d0>=0x0?'+':'')+_0x3db3d0[_0x4523a2(0xb98)](0x2)+_0x4523a2(0xd6f);_0xad0a14['innerHTML']=_0x15796a;const _0x2b1093=document[_0x4523a2(0x8fb)](_0x4523a2(0x39b))[_0x4523a2(0x6f5)]('2d');if(chartInstances[_0x4523a2(0x56a)])chartInstances[_0x4523a2(0x56a)][_0x4523a2(0xce9)]();chartInstances[_0x4523a2(0x56a)]=new Chart(_0x2b1093,{'type':_0x4523a2(0x658),'data':{'labels':[_0x4523a2(0x6c4)],'datasets':[{'label':_0x4523a2(0x404),'data':[_0x9eeb24],'backgroundColor':_0x4523a2(0x427)},{'label':_0x4523a2(0xa13),'data':[_0x5ac469],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x5f332c}}}});const _0x467a21=currentProjectData[_0x4523a2(0xcc6)]||[],_0x3ecda5=_0x467a21[_0x4523a2(0x218)](_0x4ea5bd=>{const _0x18df5d=_0x4523a2,_0x139b22=_0x7aacd1[_0x18df5d(0xaf7)](_0x5237f4=>_0x5237f4['studentName']===_0x4ea5bd),_0x533728=_0x5a63f7[_0x18df5d(0xaf7)](_0x3844dd=>_0x3844dd[_0x18df5d(0x1f5)]===_0x4ea5bd),_0x4ab2d7=_0x139b22?_0x139b22['latestScore']:null,_0xccc1f4=_0x533728?_0x533728[_0x18df5d(0xd0e)]:null,_0x4fa574=_0x4ab2d7!==null&&_0xccc1f4!==null?_0xccc1f4-_0x4ab2d7:null,_0x4b78cb=_0x4ab2d7!==null?calculateZScore(_0x4ab2d7,_0x1e5eb8[_0x18df5d(0x491)],_0x1e5eb8[_0x18df5d(0x406)]):null,_0x464c71=_0xccc1f4!==null?calculateZScore(_0xccc1f4,_0x4e54ad[_0x18df5d(0x491)],_0x4e54ad[_0x18df5d(0x406)]):null,_0x1bffa0=_0x4b78cb!==null?calculateTScore(_0x4b78cb):null,_0xb433e4=_0x464c71!==null?calculateTScore(_0x464c71):null,_0x4fcfdd=_0x1bffa0!==null&&_0xb433e4!==null?_0xb433e4-_0x1bffa0:null;return{'name':_0x4ea5bd,'preScore':_0x4ab2d7,'postScore':_0xccc1f4,'gain':_0x4fa574,'preTScore':_0x1bffa0,'postTScore':_0xb433e4,'tGain':_0x4fcfdd};});renderIndividualComparisonTable(_0x3ecda5,_0x4f7aac);}catch(_0x455f11){console[_0x4523a2(0xd73)](_0x4523a2(0x422),_0x455f11),_0xad0a14[_0x4523a2(0x878)]=_0x4523a2(0x46a);}}async function saveBlueprintProject(){const _0x250630=_0xa39756;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage(_0x250630(0x8b6));return;}const _0x3f0edc=prompt(_0x250630(0x295),_0x250630(0x8f2));if(!_0x3f0edc||_0x3f0edc[_0x250630(0x6a8)]()==='')return;const _0xa6c3fb={};extractedBlueprintData[_0x250630(0x39f)][_0x250630(0x71e)](_0x43acbd=>{const _0x2f5ad6=_0x250630;_0x43acbd[_0x2f5ad6(0x6cb)][_0x2f5ad6(0x71e)](_0x493a30=>{const _0xd9af79=_0x2f5ad6;_0x493a30['subTopics'][_0xd9af79(0x71e)](_0x23535d=>{const _0x3fc435=_0xd9af79,_0x323119='topic_'+Date[_0x3fc435(0xcad)]()+Math[_0x3fc435(0x35e)]()[_0x3fc435(0x2e7)](0x24)[_0x3fc435(0x4de)](0x2,0x9);_0xa6c3fb[_0x323119]={'sara':_0x43acbd[_0x3fc435(0x788)],'mainTopic':_0x493a30['topicName'],'subTopic':_0x23535d,'status':_0x3fc435(0x86e),'lessonContent':null};});});});try{const _0x5acb0c=collection(db,_0x250630(0x73f)+appId+_0x250630(0xba2));await addDoc(_0x5acb0c,{'projectName':_0x3f0edc[_0x250630(0x6a8)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0xa6c3fb,'createdAt':serverTimestamp()}),showMessage(_0x250630(0x3a9)+_0x3f0edc[_0x250630(0x6a8)]()+'\x22\x20สำเร็จ!'),document['getElementById'](_0x250630(0x381))['classList'][_0x250630(0x8de)]('hidden');}catch(_0x26b15c){console[_0x250630(0xd73)](_0x250630(0x9b1),_0x26b15c),showMessage(_0x250630(0x6c6));}}async function showBlueprintProjects(){const _0x445b6f=_0xa39756,_0x27d18d=document[_0x445b6f(0x8fb)](_0x445b6f(0x6ed)),_0xc75097=document['getElementById']('blueprint-project-list');_0xc75097['innerHTML']=_0x445b6f(0xbfa),_0x27d18d['classList'][_0x445b6f(0x586)](_0x445b6f(0xcb3));try{const _0xcdcec8=collection(db,'artifacts/'+appId+_0x445b6f(0xba2)),_0x48e934=await getDocs(_0xcdcec8);if(_0x48e934[_0x445b6f(0x294)]){_0xc75097['innerHTML']=_0x445b6f(0x466);return;}const _0x181d22=_0x48e934[_0x445b6f(0x485)][_0x445b6f(0x218)](_0x498cc9=>({'id':_0x498cc9['id'],..._0x498cc9[_0x445b6f(0x3d7)]()}));_0x181d22['sort']((_0x503931,_0x4178d7)=>_0x503931['projectName'][_0x445b6f(0xa04)](_0x4178d7['projectName'],'th')),_0xc75097['innerHTML']=_0x181d22[_0x445b6f(0x218)](_0x2c665e=>_0x445b6f(0x92e)+_0x2c665e[_0x445b6f(0x437)]+_0x445b6f(0x43e)+_0x2c665e[_0x445b6f(0x428)]+_0x445b6f(0x3ec)+Object[_0x445b6f(0x65c)](_0x2c665e[_0x445b6f(0x5ff)])['length']+_0x445b6f(0xa96)+_0x2c665e['id']+_0x445b6f(0xb16)+_0x2c665e['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x445b6f(0xb7d)]('');}catch(_0x1c3d55){console[_0x445b6f(0xd73)](_0x445b6f(0x386),_0x1c3d55),_0xc75097[_0x445b6f(0x878)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x3d32d5){const _0xd47255=_0xa39756;currentBlueprintProjectId=_0x3d32d5,document[_0xd47255(0x8fb)](_0xd47255(0x6ed))[_0xd47255(0xa57)][_0xd47255(0x8de)](_0xd47255(0xcb3)),showView(_0xd47255(0xc1a)),projectDashboardView[_0xd47255(0xa57)]['add'](_0xd47255(0xcb3));const _0x4df2a2=document[_0xd47255(0x8fb)](_0xd47255(0xcf7));_0x4df2a2[_0xd47255(0xa57)][_0xd47255(0x586)](_0xd47255(0xcb3)),document[_0xd47255(0x8fb)](_0xd47255(0x2a7))[_0xd47255(0x878)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x2fc9aa=doc(db,'artifacts/'+appId+_0xd47255(0xba2),_0x3d32d5),_0x59b6b1=await getDoc(_0x2fc9aa);if(!_0x59b6b1[_0xd47255(0x86f)]())throw new Error(_0xd47255(0x3f9));const _0x2539e0={'id':_0x59b6b1['id'],..._0x59b6b1[_0xd47255(0x3d7)]()};document['getElementById'](_0xd47255(0xca1))['textContent']=_0x2539e0[_0xd47255(0x437)],document[_0xd47255(0x8fb)](_0xd47255(0x1f2))[_0xd47255(0x3d4)]=_0x2539e0[_0xd47255(0x47d)]||'',renderBlueprintTopicManager(_0x2539e0);}catch(_0x516051){console[_0xd47255(0xd73)](_0xd47255(0x6c9),_0x516051),showMessage(_0x516051[_0xd47255(0x5b7)]),showView(_0xd47255(0xc1a));}}function renderBlueprintTopicManager(_0x2642cb){const _0x4d460c=_0xa39756,_0x1bcdd8=document['getElementById'](_0x4d460c(0x2a7)),_0x1b73b6=_0x2642cb[_0x4d460c(0x5ff)]||{};if(Object[_0x4d460c(0x65c)](_0x1b73b6)[_0x4d460c(0x7c7)]===0x0){_0x1bcdd8[_0x4d460c(0x878)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x1f25a5=Object[_0x4d460c(0x761)](_0x1b73b6)['map'](([_0x23abae,_0x5552a3])=>({'id':_0x23abae,..._0x5552a3}))[_0x4d460c(0xcbf)]((_0xbd9b29,_0x592881)=>(_0xbd9b29[_0x4d460c(0x88c)]??Infinity)-(_0x592881[_0x4d460c(0x88c)]??Infinity)),_0x5cb785={};_0x1f25a5[_0x4d460c(0x71e)](_0x3e000f=>{const _0x108760=_0x4d460c,{sara:_0x5325c2,mainTopic:_0x1f537d}=_0x3e000f;!_0x5cb785[_0x5325c2]&&(_0x5cb785[_0x5325c2]={}),!_0x5cb785[_0x5325c2][_0x1f537d]&&(_0x5cb785[_0x5325c2][_0x1f537d]=[]),_0x5cb785[_0x5325c2][_0x1f537d][_0x108760(0xbdd)](_0x3e000f);});let _0x11f4a0='';for(const _0x3c8695 in _0x5cb785){_0x11f4a0+=_0x4d460c(0x2de)+_0x3c8695+_0x4d460c(0xa8d);for(const _0x593e25 in _0x5cb785[_0x3c8695]){_0x11f4a0+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x593e25+_0x4d460c(0xadf),_0x5cb785[_0x3c8695][_0x593e25]['forEach'](_0x2b5ac4=>{const _0x5071b9=_0x4d460c,_0x6ba804=_0x2b5ac4['id'],_0x376cb2=_0x2b5ac4['linkedQuizIds']||[],_0x1411e3=_0x376cb2[_0x5071b9(0x7c7)]>0x0,_0x5b357e=_0x2b5ac4['status']===_0x5071b9(0x620);let _0x1da8ac='';_0x1411e3?_0x1da8ac=_0x5071b9(0x5c5)+_0x376cb2['length']+_0x5071b9(0xa23):_0x1da8ac=_0x5071b9(0xbbc)+(_0x5b357e?_0x5071b9(0x26e):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x5b357e?_0x5071b9(0x694):_0x5071b9(0x632))+'</span>';const _0x46e449=!_0x5b357e?_0x5071b9(0x3f2):'',_0x49e256=!_0x5b357e?'กรุณาสร้างบทเรียนก่อน':'';let _0x438315=_0x5b357e?_0x5071b9(0x4dc):_0x5071b9(0x5a5);_0x11f4a0+=_0x5071b9(0xcb1)+_0x6ba804+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x2b5ac4['subTopic']+_0x5071b9(0xa7e)+_0x1da8ac+_0x5071b9(0x396)+_0x46e449+_0x5071b9(0x7cc)+_0x49e256+_0x5071b9(0xa34)+_0x438315+_0x5071b9(0xcd5);}),_0x11f4a0+='</div></div>';}_0x11f4a0+=_0x4d460c(0x369);}_0x1bcdd8[_0x4d460c(0x878)]=_0x11f4a0;}async function handleDeepDeleteBlueprintProject(_0x4f2734){const _0x1ad3c5=_0xa39756,_0x5b0a14=doc(db,_0x1ad3c5(0x73f)+appId+_0x1ad3c5(0xba2),_0x4f2734),_0x4c6895=await getDoc(_0x5b0a14);if(!_0x4c6895['exists']()){showMessage(_0x1ad3c5(0xb58));return;}const _0x574685=_0x4c6895[_0x1ad3c5(0x3d7)]()[_0x1ad3c5(0x437)];showConfirmation(_0x1ad3c5(0xd69)+_0x574685+_0x1ad3c5(0x6f4),async()=>{const _0xa5b439=_0x1ad3c5;showMessage(_0xa5b439(0x3b4));try{const _0x526f4b=writeBatch(db),_0x134ab1=_0x4c6895[_0xa5b439(0x3d7)](),_0x34faf6=_0x134ab1[_0xa5b439(0x5ff)]||{};for(const _0x377299 in _0x34faf6){const _0xff71=doc(db,'artifacts/'+appId+_0xa5b439(0x656)+_0x4f2734+_0xa5b439(0x483),_0x377299);_0x526f4b['delete'](_0xff71);}const _0x55494d=new Set();for(const _0x41bccb in _0x34faf6){_0x34faf6[_0x41bccb][_0xa5b439(0xa43)]&&_0x34faf6[_0x41bccb][_0xa5b439(0xa43)][_0xa5b439(0x71e)](_0x1cb1b7=>_0x55494d[_0xa5b439(0x8de)](_0x1cb1b7));}for(const _0x47001c of _0x55494d){await handleDeleteQuiz(_0x47001c,![]);}_0x526f4b['delete'](_0x5b0a14),await _0x526f4b[_0xa5b439(0x9f9)](),showMessage('ลบโปรเจค\x20\x22'+_0x574685+'\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!'),showBlueprintProjects();}catch(_0x4a5344){console[_0xa5b439(0xd73)](_0xa5b439(0xa45),_0x4a5344),showMessage('เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล');}});}async function openTopicQuizBank(_0x5c251d){const _0x4ff86a=_0xa39756,_0x46bb09=document[_0x4ff86a(0x8fb)]('topic-quiz-bank-modal'),_0x50bab7=document['getElementById']('topic-bank-list'),_0x309968=document[_0x4ff86a(0x8fb)](_0x4ff86a(0xa2c));try{await ensureGlobalQuizzesLoaded();const _0xa832a2=doc(db,_0x4ff86a(0x73f)+appId+_0x4ff86a(0xba2),currentBlueprintProjectId),_0x2bb055=await getDoc(_0xa832a2);if(!_0x2bb055[_0x4ff86a(0x86f)]())return;const _0x22e7ea=_0x2bb055['data'](),_0x29f472=_0x22e7ea[_0x4ff86a(0x5ff)][_0x5c251d];document[_0x4ff86a(0x8fb)](_0x4ff86a(0x85a))[_0x4ff86a(0xa47)]=_0x29f472[_0x4ff86a(0xbd0)];const _0x1c78ac=_0x29f472[_0x4ff86a(0xa43)]||[];_0x309968[_0x4ff86a(0xa57)][_0x4ff86a(0x636)](_0x4ff86a(0xcb3),_0x1c78ac['length']===0x0),_0x309968[_0x4ff86a(0x699)]=()=>handleClearAllLinksForTopic(_0x5c251d);if(_0x1c78ac[_0x4ff86a(0x7c7)]===0x0)_0x50bab7[_0x4ff86a(0x878)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x308b82=allQuizzesGlobal[_0x4ff86a(0x4da)](_0x123336=>_0x1c78ac[_0x4ff86a(0x44e)](_0x123336['id']));_0x50bab7['innerHTML']=_0x308b82[_0x4ff86a(0x218)](_0xfcbdf3=>_0x4ff86a(0x87d)+_0xfcbdf3['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0xfcbdf3[_0x4ff86a(0xb19)]+_0x4ff86a(0xc58)+_0xfcbdf3['id']+_0x4ff86a(0x3ec)+_0xfcbdf3['questions']['length']+_0x4ff86a(0x459)+_0xfcbdf3['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xfcbdf3['id']+_0x4ff86a(0x327)+_0xfcbdf3['id']+_0x4ff86a(0xbaf)+_0xfcbdf3['id']+_0x4ff86a(0x6c1)+_0xfcbdf3['id']+_0x4ff86a(0x338)+_0xfcbdf3['id']+_0x4ff86a(0x812)+_0x5c251d+_0x4ff86a(0x6d6)+_0xfcbdf3['id']+_0x4ff86a(0x2ac))['join']('');}document[_0x4ff86a(0x8fb)]('add-from-global-bank-btn')[_0x4ff86a(0x699)]=()=>{openQuizSelectorForBlueprint(_0x5c251d);},document[_0x4ff86a(0x8fb)](_0x4ff86a(0xc31))[_0x4ff86a(0x699)]=()=>_0x46bb09[_0x4ff86a(0xa57)][_0x4ff86a(0x8de)](_0x4ff86a(0xcb3)),_0x46bb09[_0x4ff86a(0xa57)][_0x4ff86a(0x586)](_0x4ff86a(0xcb3));}catch(_0x102fc2){showMessage(_0x102fc2[_0x4ff86a(0x5b7)]);}}async function openQuizSelectorForBlueprint(_0x5cccb1){const _0x26a7c0=_0xa39756,_0x2da815=document['getElementById']('quiz-bank-modal'),_0x38b50d=document['getElementById']('topic-quiz-bank-modal');_0x38b50d[_0x26a7c0(0xa57)][_0x26a7c0(0x8de)](_0x26a7c0(0xcb3)),document[_0x26a7c0(0x8fb)]('confirm-link-quiz-btn')?.[_0x26a7c0(0x586)]();const _0x2fec6b=document['createElement']('button');_0x2fec6b['id']='confirm-link-quiz-btn',_0x2fec6b[_0x26a7c0(0x509)]=_0x26a7c0(0x67a),_0x2fec6b['textContent']=_0x26a7c0(0x379),_0x2fec6b[_0x26a7c0(0xc96)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x2da815['classList'][_0x26a7c0(0x586)](_0x26a7c0(0xcb3)),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x26a7c0(0xda5))[_0x26a7c0(0x4b4)][_0x26a7c0(0x8fc)]='none',_0x2da815[_0x26a7c0(0xa01)](_0x26a7c0(0x285))[_0x26a7c0(0x7d1)](_0x2fec6b);const _0x22838c=(_0x3ca4f4=![])=>{const _0x4623b0=_0x26a7c0;_0x2da815[_0x4623b0(0xa57)][_0x4623b0(0x8de)](_0x4623b0(0xcb3)),document[_0x4623b0(0x8fb)](_0x4623b0(0xda5))['style'][_0x4623b0(0x8fc)]='flex',_0x2fec6b[_0x4623b0(0x586)](),_0x3ca4f4&&openTopicQuizBank(_0x5cccb1);};_0x2fec6b['onclick']=async()=>{const _0x222e33=_0x26a7c0,_0x49c836=Array['from'](document[_0x222e33(0x6aa)](_0x222e33(0xa4f)))[_0x222e33(0x218)](_0x1b89bb=>_0x1b89bb[_0x222e33(0x3d4)]);if(_0x49c836[_0x222e33(0x7c7)]===0x0)return;try{const _0x47b4a6=doc(db,_0x222e33(0x73f)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x1f0e9c=(await getDoc(_0x47b4a6))[_0x222e33(0x3d7)](),_0x397386=_0x1f0e9c[_0x222e33(0x5ff)][_0x5cccb1][_0x222e33(0xa43)]||[],_0xce9758=[...new Set([..._0x397386,..._0x49c836])];await updateDoc(_0x47b4a6,{[_0x222e33(0x4c8)+_0x5cccb1+_0x222e33(0x864)]:_0xce9758}),showMessage(_0x222e33(0x6f0)+_0x49c836[_0x222e33(0x7c7)]+_0x222e33(0xcfe)),_0x22838c(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4c7bb8){console[_0x222e33(0xd73)](_0x222e33(0xd3f),_0x4c7bb8);}},document['getElementById'](_0x26a7c0(0xa66))[_0x26a7c0(0x699)]=()=>_0x22838c(!![]);}catch(_0x5acd65){showMessage(_0x5acd65[_0x26a7c0(0x5b7)]),_0x38b50d[_0x26a7c0(0xa57)][_0x26a7c0(0x586)](_0x26a7c0(0xcb3));}}function handleClearLinkedQuiz(_0x4dea0f){const _0x460e54=_0xa39756;showConfirmation(_0x460e54(0x8d9),async()=>{const _0x24e148=_0x460e54;try{const _0x29e0eb=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x29e0eb,{[_0x24e148(0x4c8)+_0x4dea0f+'.linkedQuizId']:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x285992){console[_0x24e148(0xd73)]('Error\x20clearing\x20linked\x20quiz:',_0x285992),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0xd23eaa=_0xa39756,_0x530239=prompt(_0xd23eaa(0x770));if(!_0x530239||_0x530239[_0xd23eaa(0x6a8)]()==='')return;const _0x199cf4=prompt(_0xd23eaa(0x3af),'สาระที่\x201'),_0x5a5327=prompt(_0xd23eaa(0x93d),_0xd23eaa(0x25d)),_0x4117ca=_0xd23eaa(0x20a)+Date[_0xd23eaa(0xcad)]()+Math[_0xd23eaa(0x35e)]()[_0xd23eaa(0x2e7)](0x24)[_0xd23eaa(0x4de)](0x2,0x9),_0x4a6ab4={'sara':_0x199cf4,'mainTopic':_0x5a5327,'subTopic':_0x530239['trim'](),'status':_0xd23eaa(0x86e),'lessonContent':null};try{const _0x33df38=doc(db,'artifacts/'+appId+_0xd23eaa(0xba2),currentBlueprintProjectId);await updateDoc(_0x33df38,{['topics.'+_0x4117ca]:_0x4a6ab4}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x14c9ce){console['error'](_0xd23eaa(0xdc0),_0x14c9ce),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x1e7ea2){const _0x25afd1=_0xa39756,_0x2d7baa=document[_0x25afd1(0xa01)](_0x25afd1(0xa9a)+_0x1e7ea2+'\x22]'),_0x279e54=_0x2d7baa['querySelector'](_0x25afd1(0x56e)),_0x4c6b71=_0x279e54['textContent'],_0x5087c9=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x4c6b71);if(!_0x5087c9||_0x5087c9['trim']()===''||_0x5087c9[_0x25afd1(0x6a8)]()===_0x4c6b71)return;try{const _0x8ba864=doc(db,_0x25afd1(0x73f)+appId+_0x25afd1(0xba2),currentBlueprintProjectId);await updateDoc(_0x8ba864,{['topics.'+_0x1e7ea2+_0x25afd1(0x30a)]:_0x5087c9[_0x25afd1(0x6a8)]()}),_0x279e54[_0x25afd1(0xa47)]=_0x5087c9[_0x25afd1(0x6a8)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x2cc238){console[_0x25afd1(0xd73)](_0x25afd1(0x670),_0x2cc238),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x416e52){const _0x770eed=_0xa39756;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0xafe20c=doc(db,'artifacts/'+appId+_0x770eed(0xba2),currentBlueprintProjectId);await updateDoc(_0xafe20c,{[_0x770eed(0x4c8)+_0x416e52]:deleteField()}),document[_0x770eed(0xa01)](_0x770eed(0xa9a)+_0x416e52+'\x22]')[_0x770eed(0x586)](),showMessage(_0x770eed(0xb4e));}catch(_0x4df4fc){console[_0x770eed(0xd73)](_0x770eed(0x51f),_0x4df4fc),showMessage(_0x770eed(0x261));}}async function generateAndSaveLessonForBlueprint(_0x2d6994,_0x353867,_0x4091b1){handleGenerateAndShowLesson(_0x353867,_0x4091b1);const _0x407a0a=setInterval(async()=>{const _0x4efad8=_0x395e,_0x544baf=document[_0x4efad8(0x8fb)](_0x4efad8(0xc50)),_0x47f6ba=_0x544baf[_0x4efad8(0xa57)]['contains']('hidden');if(_0x47f6ba){clearInterval(_0x407a0a);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x168d5d={'point':document[_0x4efad8(0x8fb)]('pointContent')[_0x4efad8(0x878)],'memory':document['getElementById']('memoryContent')[_0x4efad8(0x878)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x4efad8(0x8fb)]('summaryContent')['innerHTML']};try{const _0x3af92c=doc(db,_0x4efad8(0x73f)+appId+_0x4efad8(0xba2),currentBlueprintProjectId),_0x522d65=doc(db,_0x4efad8(0x73f)+appId+_0x4efad8(0x656)+currentBlueprintProjectId+_0x4efad8(0x483),_0x2d6994),_0x1f3ea0=writeBatch(db);_0x1f3ea0['set'](_0x522d65,{'content':_0x168d5d}),_0x1f3ea0[_0x4efad8(0x40d)](_0x3af92c,{[_0x4efad8(0x4c8)+_0x2d6994+_0x4efad8(0x5e3)]:_0x4efad8(0x620)}),await _0x1f3ea0[_0x4efad8(0x9f9)](),console[_0x4efad8(0xcf9)](_0x4efad8(0x77a)+_0x2d6994+_0x4efad8(0x618)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x65bcf7){console['error'](_0x4efad8(0xb11),_0x65bcf7);}}}},0x3e8);}function displayHalfMarkResult(_0x236d93,_0x241f57){const _0x1593a1=_0xa39756,_0x3faef4=_0x236d93>=_0x241f57/0x2,_0x29776c=_0x3faef4?_0x1593a1(0x877):'bg-red-100',_0x47ed42=_0x3faef4?_0x1593a1(0xa1b):_0x1593a1(0x276),_0x2d2ef6=_0x3faef4?_0x1593a1(0xd15):_0x1593a1(0x558),_0x3cc64b=_0x3faef4?_0x1593a1(0x270):_0x1593a1(0x771),_0x2fa184=_0x3faef4?_0x1593a1(0x86c):_0x1593a1(0x217);let _0x2ad2e6=_0x1593a1(0xb27)+_0x29776c+_0x1593a1(0x2be)+_0x47ed42+_0x1593a1(0x6e4)+_0x2d2ef6+_0x1593a1(0x93f)+_0x3cc64b+_0x1593a1(0x56f)+_0x2fa184+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x1593a1(0x878)]=_0x2ad2e6,studentResultArea[_0x1593a1(0xa57)][_0x1593a1(0x586)](_0x1593a1(0xcb3)),studentQuizArea[_0x1593a1(0xa57)][_0x1593a1(0x8de)](_0x1593a1(0xcb3)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3faef4});}function displayPerfectScoreResult(_0x5f45d3,_0x1ff0cf){const _0x216933=_0xa39756,_0x34aa09=_0x5f45d3===_0x1ff0cf,_0x4b1ed6=_0x34aa09?_0x216933(0x7c6):_0x216933(0x55b),_0x5de19d=_0x34aa09?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x216933(0x59f),_0x408ceb=_0x34aa09?_0x216933(0x687):_0x216933(0xa16),_0x332ae5=_0x34aa09?_0x216933(0x3e9):_0x216933(0x3c0),_0x5dcd9a=_0x34aa09?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x216933(0x433);let _0x213d0b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x4b1ed6+_0x216933(0x2be)+_0x5de19d+_0x216933(0x6e4)+_0x408ceb+'\x20mb-2\x22>'+_0x332ae5+_0x216933(0x56f)+_0x5dcd9a+_0x216933(0xb21);studentResultArea[_0x216933(0x878)]=_0x213d0b,studentResultArea[_0x216933(0xa57)]['remove'](_0x216933(0xcb3)),studentQuizArea['classList']['add'](_0x216933(0xcb3)),setupResultScreenBackButton({'showRankings':![],'score':_0x5f45d3,'totalQuestions':_0x1ff0cf});}function renderIndividualComparisonTable(_0x4664c5,_0x57a068){const _0x256b08=_0xa39756;_0x4664c5[_0x256b08(0xcbf)]((_0x41883b,_0x76843a)=>(_0x76843a[_0x256b08(0x296)]??-Infinity)-(_0x41883b[_0x256b08(0x296)]??-Infinity));let _0x238edd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x4664c5[_0x256b08(0x7c7)]===0x0?_0x238edd+=_0x256b08(0xc12):_0x4664c5[_0x256b08(0x71e)]((_0x53b66d,_0x193559)=>{const _0x132ec0=_0x256b08;let _0x284a56='-',_0x3f2fa4='';if(_0x53b66d[_0x132ec0(0x614)]!==null){const _0x18ec83=_0x53b66d[_0x132ec0(0x614)]>0x0?_0x132ec0(0xced):_0x53b66d[_0x132ec0(0x614)]<0x0?_0x132ec0(0x627):_0x132ec0(0x659),_0x32f8ca=_0x53b66d[_0x132ec0(0x614)]>0x0?'+':'';_0x284a56=_0x132ec0(0xad8)+_0x18ec83+'\x22>'+_0x32f8ca+_0x53b66d[_0x132ec0(0x614)]+_0x132ec0(0xacd);if(_0x53b66d['gain']>0x0)_0x3f2fa4=_0x132ec0(0xba1);else _0x53b66d[_0x132ec0(0x614)]<0x0?_0x3f2fa4=_0x132ec0(0xa76):_0x3f2fa4=_0x132ec0(0x21a);}let _0x4b4f06='-';if(_0x53b66d['tGain']!==null){const _0x2ca298=_0x53b66d[_0x132ec0(0x296)]>0x0?'text-green-600':_0x53b66d['tGain']<0x0?_0x132ec0(0x627):'text-gray-500',_0x262437=_0x53b66d[_0x132ec0(0x296)]>0x0?'+':'';_0x4b4f06=_0x132ec0(0xad8)+_0x2ca298+'\x22>'+_0x262437+_0x53b66d[_0x132ec0(0x296)]['toFixed'](0x2)+_0x132ec0(0xacd);}_0x238edd+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x193559+0x1)+_0x132ec0(0x475)+_0x53b66d[_0x132ec0(0x4ee)]+_0x132ec0(0x891)+(_0x53b66d[_0x132ec0(0x708)]??'-')+_0x132ec0(0xb99)+(_0x53b66d[_0x132ec0(0xbd8)]??'-')+_0x132ec0(0x891)+_0x284a56+_0x132ec0(0x902)+_0x3f2fa4+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x53b66d[_0x132ec0(0x676)]?.[_0x132ec0(0xb98)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x53b66d[_0x132ec0(0x8dd)]?.[_0x132ec0(0xb98)](0x2)??'-')+_0x132ec0(0x891)+_0x4b4f06+_0x132ec0(0xc10);}),_0x238edd+=_0x256b08(0xdef),_0x57a068[_0x256b08(0x878)]=_0x238edd;}function handleRenameQuiz(_0x148f27,_0x50fc0f){const _0x4a66a8=_0xa39756;actionTargetId=_0x148f27,document[_0x4a66a8(0x8fb)](_0x4a66a8(0xaca))[_0x4a66a8(0x3d4)]=_0x50fc0f,renameQuizModal['classList'][_0x4a66a8(0x586)](_0x4a66a8(0xcb3));}function setupComparisonModalTabs(){const _0x288e2d=_0xa39756,_0x513707=document['getElementById'](_0x288e2d(0x56c)),_0x481b89=document[_0x288e2d(0x8fb)](_0x288e2d(0x4b2)),_0x441946=document[_0x288e2d(0x8fb)](_0x288e2d(0x24f)),_0x590e5a=document['getElementById'](_0x288e2d(0x82e));_0x513707[_0x288e2d(0xb95)]('click',()=>{const _0x155901=_0x288e2d;_0x513707[_0x155901(0xa57)][_0x155901(0x8de)](_0x155901(0xd52)),_0x481b89['classList'][_0x155901(0x586)](_0x155901(0xd52)),_0x441946[_0x155901(0xa57)][_0x155901(0x586)]('hidden'),_0x590e5a[_0x155901(0xa57)][_0x155901(0x8de)](_0x155901(0xcb3));}),_0x481b89[_0x288e2d(0xb95)](_0x288e2d(0x305),()=>{const _0x5d5333=_0x288e2d;_0x481b89[_0x5d5333(0xa57)][_0x5d5333(0x8de)]('active'),_0x513707['classList'][_0x5d5333(0x586)]('active'),_0x590e5a[_0x5d5333(0xa57)][_0x5d5333(0x586)]('hidden'),_0x441946[_0x5d5333(0xa57)][_0x5d5333(0x8de)]('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0xd505e1=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xd505e1,_0x4098d5=>{const _0x17ff1b=_0x395e;if(!_0x4098d5[_0x17ff1b(0x86f)]()){showMessage(_0x17ff1b(0xb41));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x17ff1b(0x962)?showView('project-detail'):showView(_0x17ff1b(0x79f));return;}const _0x5acb39=_0x4098d5[_0x17ff1b(0x3d7)]();_0x5acb39[_0x17ff1b(0x9d8)]&&(currentQuizData=_0x5acb39[_0x17ff1b(0x9d8)]);!currentQuizData&&_0x5acb39[_0x17ff1b(0xcbc)]&&((async()=>{const _0x2a7ed1=_0x17ff1b;try{const _0x48e982=doc(db,_0x2a7ed1(0x73f)+appId+_0x2a7ed1(0xdb4),_0x5acb39[_0x2a7ed1(0xcbc)]),_0x374c2b=await getDoc(_0x48e982);_0x374c2b['exists']()&&(currentQuizData={'id':_0x374c2b['id'],..._0x374c2b['data']()});}catch(_0x5217ac){console[_0x2a7ed1(0xd73)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x5217ac);}})());switch(_0x5acb39['status']){case _0x17ff1b(0xa07):if(currentMode===_0x17ff1b(0x962)){const _0x40d9f9=_0x5acb39['players']?Object[_0x17ff1b(0x761)](_0x5acb39[_0x17ff1b(0x20e)]):[],_0x3efc10=_0x40d9f9[_0x17ff1b(0x4da)](([_0x3f2627,_0xf46cc6])=>_0xf46cc6[_0x17ff1b(0xcce)]===_0x17ff1b(0xd52)),_0x691712=document['getElementById'](_0x17ff1b(0xcf3));if(_0x691712)_0x691712['textContent']=_0x3efc10[_0x17ff1b(0x7c7)];const _0x1ca61f=document[_0x17ff1b(0x8fb)](_0x17ff1b(0xc00));_0x1ca61f&&(_0x1ca61f[_0x17ff1b(0x878)]=_0x3efc10['map'](([_0x3e6872,_0x451c58])=>_0x17ff1b(0x2cf)+_0x3e6872+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x3e6872+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x17ff1b(0xb7d)](''));const _0x4d963b=document['getElementById'](_0x17ff1b(0xcf1));_0x4d963b&&(_0x4d963b[_0x17ff1b(0xc96)]=_0x3efc10['length']===0x0);}else showView(_0x17ff1b(0xd10)),liveGameView[_0x17ff1b(0x878)]=_0x17ff1b(0xaf6)+currentStudentName+_0x17ff1b(0x304);break;case _0x17ff1b(0x84c):const _0x5ee4c8=_0x5acb39[_0x17ff1b(0xa73)];if(currentQuizData&&currentQuizData[_0x17ff1b(0x4a2)][_0x5ee4c8]){const _0x24b9c5=currentQuizData[_0x17ff1b(0x4a2)][_0x5ee4c8],_0x237251=_0x5acb39[_0x17ff1b(0x5ef)]||_0x17ff1b(0x986);switch(_0x237251){case _0x17ff1b(0xd30):currentMode==='admin'?showAdminSummaryView(_0x5acb39,_0x24b9c5):showPlayerSummaryView(_0x5acb39,currentStudentName);break;case'leaderboard':currentMode===_0x17ff1b(0x962)&&showTop5LeaderboardView(_0x5acb39);break;case _0x17ff1b(0x986):default:if(currentMode==='admin'){const _0x56ae2d=writeBatch(db);let _0x4f84e5=![];Object[_0x17ff1b(0x761)](_0x5acb39[_0x17ff1b(0x20e)])['forEach'](([_0x4f0b0c,_0x2b9f09])=>{const _0x1b01b1=_0x17ff1b;if(_0x2b9f09[_0x1b01b1(0xcce)]===_0x1b01b1(0xd52)&&_0x2b9f09[_0x1b01b1(0x532)]&&!_0x2b9f09[_0x1b01b1(0x27e)]){_0x4f84e5=!![];const _0x42ae53=_0x2b9f09[_0x1b01b1(0x532)]['toDate']()-_0x5acb39[_0x1b01b1(0x65a)][_0x1b01b1(0x684)]();let _0x4503a5=0x0;if(_0x2b9f09[_0x1b01b1(0x884)]){const _0x523ff6=0x3e8,_0x490015=0x1f4,_0x1a2c78=0x4e20;let _0x44457f=_0x42ae53/_0x1a2c78;if(_0x44457f>0x1)_0x44457f=0x1;const _0x35ca6e=Math[_0x1b01b1(0xb77)](_0x44457f*_0x490015);_0x4503a5=_0x523ff6-_0x35ca6e;}const _0xc5b5a9=doc(db,_0x1b01b1(0x73f)+appId+_0x1b01b1(0xd19),currentLiveGameId);_0x56ae2d[_0x1b01b1(0x40d)](_0xc5b5a9,{['players.'+_0x4f0b0c+_0x1b01b1(0x767)]:increment(_0x4503a5),[_0x1b01b1(0xae0)+_0x4f0b0c+_0x1b01b1(0x357)]:_0x4503a5,[_0x1b01b1(0xae0)+_0x4f0b0c+_0x1b01b1(0xb93)]:!![]});}});_0x4f84e5&&_0x56ae2d[_0x17ff1b(0x9f9)]()['catch'](_0x8fcdb2=>console['error'](_0x17ff1b(0x7ba),_0x8fcdb2));lastRenderedAdminQuestionIndex!==_0x5ee4c8&&(showAdminLiveQuestionView(_0x24b9c5,_0x5ee4c8,currentQuizData[_0x17ff1b(0x4a2)][_0x17ff1b(0x7c7)]),lastRenderedAdminQuestionIndex=_0x5ee4c8);const _0x81bcae=_0x5acb39[_0x17ff1b(0x20e)]||{},_0x2245f9=Object[_0x17ff1b(0x2fa)](_0x81bcae)[_0x17ff1b(0x4da)](_0x27114=>_0x27114[_0x17ff1b(0xcce)]===_0x17ff1b(0xd52)),_0x1c1573=_0x2245f9['length'],_0x292d53=_0x2245f9[_0x17ff1b(0x4da)](_0xd96937=>_0xd96937['answeredCurrentQuestion']===!![])['length'],_0x316f4f=document[_0x17ff1b(0x8fb)](_0x17ff1b(0x764));if(_0x316f4f)_0x316f4f[_0x17ff1b(0xa47)]=_0x292d53+'/'+_0x1c1573;const _0xdf2b66=document['getElementById']('live-player-list');if(_0xdf2b66){let _0x1d2bc5=Object['entries'](_0x81bcae)['filter'](([_0x52b08d,_0x3faba5])=>_0x3faba5['status']===_0x17ff1b(0xd52))[_0x17ff1b(0x218)](([_0x4b9624,_0x7b5a43])=>{const _0x174ec9=_0x17ff1b,_0x1fb9e1=_0x7b5a43[_0x174ec9(0x449)]===!![],_0x44bd46=_0x1fb9e1?_0x174ec9(0xd40):_0x174ec9(0x426),_0x2b6004=_0x1fb9e1?_0x174ec9(0x6ce):_0x174ec9(0x206);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x44bd46+_0x174ec9(0x5d4)+_0x2b6004+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4b9624+_0x174ec9(0xdeb)+_0x4b9624+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0xdf2b66[_0x17ff1b(0x878)]=_0x1d2bc5||_0x17ff1b(0x2da);}_0x1c1573>0x0&&_0x292d53===_0x1c1573&&revealAnswerForAdmin(_0x5ee4c8,currentQuizData[_0x17ff1b(0x4a2)][_0x17ff1b(0x7c7)]);}else{const _0x303d30=_0x5acb39[_0x17ff1b(0x20e)][currentStudentName];_0x303d30&&!_0x303d30[_0x17ff1b(0x449)]&&showStudentLiveQuestionView(_0x24b9c5,_0x5ee4c8,currentQuizData['questions'][_0x17ff1b(0x7c7)]);}break;}}break;case'podium':showPodiumView(_0x5acb39[_0x17ff1b(0x20e)],'live-race');break;}});}async function openGlobalActivityModal(){const _0x4afc55=_0xa39756;if(allQuizzesGlobal[_0x4afc55(0x7c7)]===0x0){const _0x109684=await getDocs(collection(db,'artifacts/'+appId+_0x4afc55(0xdb4)));allQuizzesGlobal=_0x109684[_0x4afc55(0x485)][_0x4afc55(0x218)](_0x21d530=>({'id':_0x21d530['id'],..._0x21d530[_0x4afc55(0x3d7)]()}));}renderGlobalActivityList(''),document[_0x4afc55(0x8fb)](_0x4afc55(0x3be))[_0x4afc55(0xa57)][_0x4afc55(0x586)](_0x4afc55(0xcb3));}function renderGlobalActivityList(_0x4c0da9=''){const _0x3ec5cc=_0xa39756,_0x27a942=document[_0x3ec5cc(0x8fb)]('global-activity-quiz-list'),_0x2cb9d3=_0x4c0da9['toLowerCase']()['trim'](),_0x3c8ee0=allQuizzesGlobal[_0x3ec5cc(0x218)](_0x3b723b=>({..._0x3b723b,'projectName':allProjects[_0x3ec5cc(0xaf7)](_0x57c04e=>_0x57c04e['id']===_0x3b723b['projectId'])?.['projectName']||_0x3ec5cc(0xa5b)}))[_0x3ec5cc(0x4da)](_0x3259b5=>(_0x3259b5[_0x3ec5cc(0xb19)]||'')[_0x3ec5cc(0xb4d)]()[_0x3ec5cc(0x44e)](_0x2cb9d3)||(_0x3259b5['projectName']||'')[_0x3ec5cc(0xb4d)]()[_0x3ec5cc(0x44e)](_0x2cb9d3));document[_0x3ec5cc(0x8fb)](_0x3ec5cc(0xbda))[_0x3ec5cc(0xa47)]='('+_0x3c8ee0[_0x3ec5cc(0x7c7)]+_0x3ec5cc(0x378),_0x27a942[_0x3ec5cc(0x878)]=_0x3c8ee0['length']?_0x3c8ee0[_0x3ec5cc(0x218)](_0x1e01bf=>_0x3ec5cc(0x8f9)+(_0x1e01bf[_0x3ec5cc(0xb19)]||_0x3ec5cc(0xa97))+_0x3ec5cc(0x700)+(_0x1e01bf[_0x3ec5cc(0x4a2)]?.[_0x3ec5cc(0x7c7)]||0x0)+_0x3ec5cc(0xc59)+_0x1e01bf['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1e01bf['id']+_0x3ec5cc(0xa7c)+_0x1e01bf['id']+_0x3ec5cc(0x4f2)+_0x1e01bf['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1e01bf['id']+_0x3ec5cc(0xd00))[_0x3ec5cc(0xb7d)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x46cb8a){const _0x235981=_0xa39756;if(!currentLiveGameId||!_0x46cb8a)return;const _0x48bd36=doc(db,_0x235981(0x73f)+appId+'/public/data/liveGames',currentLiveGameId),_0x444176={};_0x444176[_0x235981(0xae0)+_0x46cb8a+'.status']=_0x235981(0x8d0);try{await updateDoc(_0x48bd36,_0x444176);}catch(_0x92f5b0){console[_0x235981(0xd73)](_0x235981(0x5a8)+_0x46cb8a+':',_0x92f5b0),showMessage(_0x235981(0x971));}}async function authenticateUser(){const _0x3d2a00=_0xa39756;try{typeof __initial_auth_token!==_0x3d2a00(0x5ea)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5d3ec8){console[_0x3d2a00(0xd73)](_0x3d2a00(0x611),_0x5d3ec8),showMessage(_0x3d2a00(0xc46));}}function showView(_0x37a5c2){const _0x232476=_0xa39756;adminView[_0x232476(0xa57)][_0x232476(0x8de)]('hidden'),studentView[_0x232476(0xa57)]['add']('hidden'),projectDashboardView[_0x232476(0xa57)][_0x232476(0x8de)](_0x232476(0xcb3)),projectDetailView['classList'][_0x232476(0x8de)]('hidden'),quizResultsView[_0x232476(0xa57)]['add']('hidden'),liveGameView['classList'][_0x232476(0x8de)](_0x232476(0xcb3)),document[_0x232476(0x8fb)](_0x232476(0xcf7))[_0x232476(0xa57)]['add']('hidden'),studentInitialView[_0x232476(0xa57)][_0x232476(0x8de)](_0x232476(0xcb3)),studentJoinGameView[_0x232476(0xa57)][_0x232476(0x8de)](_0x232476(0xcb3)),studentNameSelectionView[_0x232476(0xa57)][_0x232476(0x8de)](_0x232476(0xcb3)),studentQuizArea[_0x232476(0xa57)]['add']('hidden'),studentResultArea['classList'][_0x232476(0x8de)](_0x232476(0xcb3)),studentReadingArea['classList'][_0x232476(0x8de)](_0x232476(0xcb3));const _0x2ad688=document[_0x232476(0x8fb)](_0x232476(0x313)),_0x442677=document['getElementById'](_0x232476(0x4e6));if(_0x2ad688)_0x2ad688[_0x232476(0xa57)][_0x232476(0x8de)]('hidden');if(_0x442677)_0x442677[_0x232476(0xa57)][_0x232476(0x8de)](_0x232476(0xcb3));switch(_0x37a5c2){case _0x232476(0xc1a):adminView['classList']['remove'](_0x232476(0xcb3)),projectDashboardView[_0x232476(0xa57)][_0x232476(0x586)](_0x232476(0xcb3));break;case _0x232476(0xb8b):adminView[_0x232476(0xa57)]['remove'](_0x232476(0xcb3)),projectDetailView['classList'][_0x232476(0x586)](_0x232476(0xcb3));break;case _0x232476(0x599):adminView[_0x232476(0xa57)][_0x232476(0x586)](_0x232476(0xcb3)),quizResultsView[_0x232476(0xa57)][_0x232476(0x586)]('hidden');break;case _0x232476(0x79f):studentView['classList']['remove'](_0x232476(0xcb3)),studentInitialView[_0x232476(0xa57)][_0x232476(0x586)](_0x232476(0xcb3));break;case _0x232476(0xd10):liveGameView[_0x232476(0xa57)]['remove'](_0x232476(0xcb3));break;case _0x232476(0x570):studentView['classList'][_0x232476(0x586)]('hidden');if(_0x2ad688)_0x2ad688[_0x232476(0xa57)]['remove'](_0x232476(0xcb3));break;case _0x232476(0x528):studentView[_0x232476(0xa57)][_0x232476(0x586)]('hidden');if(_0x442677)_0x442677[_0x232476(0xa57)][_0x232476(0x586)]('hidden');break;default:studentView[_0x232476(0xa57)][_0x232476(0x586)](_0x232476(0xcb3)),studentInitialView[_0x232476(0xa57)][_0x232476(0x586)](_0x232476(0xcb3));break;}}function showJoinGameView(){const _0x453f0d=_0xa39756;studentInitialView[_0x453f0d(0xa57)]['add'](_0x453f0d(0xcb3)),studentJoinGameView[_0x453f0d(0xa57)]['remove'](_0x453f0d(0xcb3));}async function handleSaveVisibilitySettings(){const _0x3e301b=_0xa39756;if(!currentProjectId)return;const _0x191535=doc(db,_0x3e301b(0x73f)+appId+_0x3e301b(0xb08),currentProjectId);try{await updateDoc(_0x191535,{'settings.showInStudentDashboard':document['getElementById'](_0x3e301b(0x25f))[_0x3e301b(0x588)],'settings.isPasscodeEnabled':document['getElementById'](_0x3e301b(0xacf))[_0x3e301b(0x588)],'settings.passcode':document[_0x3e301b(0x8fb)](_0x3e301b(0x936))[_0x3e301b(0x3d4)][_0x3e301b(0x6a8)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x1532ad){console['error'](_0x3e301b(0x62c),_0x1532ad),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x34972a=_0xa39756,_0x351f67=document['getElementById']('dim-overlay');_0x351f67&&(_0x351f67[_0x34972a(0xb95)](_0x34972a(0x2e5),wakeUpScreen),_0x351f67[_0x34972a(0xb95)](_0x34972a(0x7e6),wakeUpScreen));document['getElementById']('save-bp-reference-btn')[_0x34972a(0xb95)](_0x34972a(0x305),async()=>{const _0x5256b8=_0x34972a;if(!currentBlueprintProjectId)return;const _0x5a684a=document[_0x5256b8(0x8fb)](_0x5256b8(0x1f2))[_0x5256b8(0x3d4)][_0x5256b8(0x6a8)](),_0x555ea9=doc(db,_0x5256b8(0x73f)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);try{await updateDoc(_0x555ea9,{'referenceFileUrl':_0x5a684a}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0x3ef016){console['error'](_0x5256b8(0x25a),_0x3ef016),showMessage(_0x5256b8(0xcab));}}),document[_0x34972a(0x8fb)]('add-parallel-shortcut-tab-btn')['addEventListener'](_0x34972a(0x305),handleAddParallelShortcutTab),document['getElementById']('parallel-test-input-area')[_0x34972a(0xb95)](_0x34972a(0x305),_0xb71bd0=>{const _0x5406f3=_0x34972a;_0xb71bd0['target'][_0x5406f3(0x762)](_0x5406f3(0xde0))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x5406f3(0x8fb)](_0x5406f3(0x9e5))[_0x5406f3(0xa57)][_0x5406f3(0x586)](_0x5406f3(0xcb3)));}),document[_0x34972a(0x8fb)](_0x34972a(0xa93))[_0x34972a(0xb95)]('click',()=>{const _0x220753=_0x34972a;document['getElementById'](_0x220753(0x9e5))[_0x220753(0xa57)][_0x220753(0x8de)](_0x220753(0xcb3));}),document['addEventListener']('click',_0x57cf0b=>{const _0xab5c08=_0x34972a;!_0x57cf0b[_0xab5c08(0x748)][_0xab5c08(0x762)](_0xab5c08(0xb2e))&&document[_0xab5c08(0x6aa)](_0xab5c08(0x49c))['forEach'](_0x328ee1=>_0x328ee1['classList'][_0xab5c08(0x8de)](_0xab5c08(0xcb3)));}),document[_0x34972a(0x8fb)](_0x34972a(0x977))[_0x34972a(0xb95)]('click',handleAddFileShortcutTab),document[_0x34972a(0x8fb)](_0x34972a(0x3ce))[_0x34972a(0xb95)](_0x34972a(0x305),_0x4268d1=>{const _0x9ce70f=_0x34972a;_0x4268d1[_0x9ce70f(0x748)][_0x9ce70f(0x762)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId='all',renderAdditionalFileShortcutsModal(),document[_0x9ce70f(0x8fb)](_0x9ce70f(0xdf1))[_0x9ce70f(0xa57)][_0x9ce70f(0x586)](_0x9ce70f(0xcb3)));}),document[_0x34972a(0x8fb)]('close-additional-file-shortcuts-btn')[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x3349c9=_0x34972a;document['getElementById'](_0x3349c9(0xdf1))[_0x3349c9(0xa57)][_0x3349c9(0x8de)](_0x3349c9(0xcb3));}),document[_0x34972a(0xb95)](_0x34972a(0x305),_0xe89a6=>{const _0x1e3658=_0x34972a;!_0xe89a6[_0x1e3658(0x748)][_0x1e3658(0x762)](_0x1e3658(0x6df))&&document['querySelectorAll'](_0x1e3658(0x7ae))['forEach'](_0x273959=>_0x273959[_0x1e3658(0xa57)][_0x1e3658(0x8de)]('hidden'));}),document[_0x34972a(0x8fb)]('add-shortcut-tab-btn')[_0x34972a(0xb95)]('click',handleAddShortcutTab),document['getElementById'](_0x34972a(0x3e0))[_0x34972a(0xb95)](_0x34972a(0x305),_0x1441a3=>{const _0x471589=_0x34972a,_0x46046a=_0x1441a3[_0x471589(0x748)][_0x471589(0x762)](_0x471589(0x844)),_0x5b7ffb=_0x1441a3[_0x471589(0x748)][_0x471589(0x762)](_0x471589(0x76c)),_0xbf0213=_0x1441a3[_0x471589(0x748)][_0x471589(0x762)](_0x471589(0x9c1));if(_0x5b7ffb)openParallelTestShortcutEditor(_0x5b7ffb[_0x471589(0x87f)]['id']);else{if(_0xbf0213){const _0x2d6293=_0xbf0213[_0x471589(0x87f)]['id'];showConfirmation(_0x471589(0x4f8),async()=>{const _0x356723=_0x471589,_0x3091f9=parallelTestShortcuts[_0x356723(0x4da)](_0x9f497c=>_0x9f497c['id']!==_0x2d6293),_0x176a86=doc(db,_0x356723(0x96b),_0x356723(0xbb9));await setDoc(_0x176a86,{'shortcuts':_0x3091f9},{'merge':!![]});});}else _0x46046a&&handleParallelTestShortcutClick(_0x46046a[_0x471589(0x87f)]['id']);}}),document[_0x34972a(0x8fb)](_0x34972a(0xa56))[_0x34972a(0xb95)]('click',()=>openParallelTestShortcutEditor(null)),document[_0x34972a(0x8fb)](_0x34972a(0x6d5))[_0x34972a(0xb95)]('click',()=>{const _0x4944e1=_0x34972a;document[_0x4944e1(0x8fb)](_0x4944e1(0xdab))[_0x4944e1(0xa57)]['add'](_0x4944e1(0xcb3));}),document[_0x34972a(0x8fb)](_0x34972a(0x824))[_0x34972a(0xb95)](_0x34972a(0x305),saveParallelTestShortcutChanges),document[_0x34972a(0x8fb)]('parallel-test-input-area')[_0x34972a(0xb95)](_0x34972a(0x305),_0x2adb18=>{const _0x4f15a9=_0x34972a;_0x2adb18['target']['closest'](_0x4f15a9(0xde0))&&document[_0x4f15a9(0x8fb)](_0x4f15a9(0x9e5))[_0x4f15a9(0xa57)][_0x4f15a9(0x586)](_0x4f15a9(0xcb3));}),document[_0x34972a(0x8fb)]('close-additional-parallel-shortcuts-btn')['addEventListener'](_0x34972a(0x305),()=>{const _0x1f8bf0=_0x34972a;document[_0x1f8bf0(0x8fb)]('additional-parallel-shortcuts-modal')[_0x1f8bf0(0xa57)][_0x1f8bf0(0x8de)](_0x1f8bf0(0xcb3));}),document[_0x34972a(0x8fb)](_0x34972a(0xcb8))[_0x34972a(0xb95)](_0x34972a(0x305),_0x28ea77=>{const _0x5712b3=_0x34972a,_0x5a5af1=document[_0x5712b3(0x8fb)](_0x5712b3(0x9e5)),_0x29624b=_0x28ea77[_0x5712b3(0x748)]['closest'](_0x5712b3(0xc45)),_0x1d7cfe=_0x28ea77[_0x5712b3(0x748)][_0x5712b3(0x762)]('.edit-hidden-parallel-shortcut-btn'),_0x216379=_0x28ea77['target'][_0x5712b3(0x762)](_0x5712b3(0xcd7));if(_0x29624b)_0x5a5af1['classList'][_0x5712b3(0x8de)](_0x5712b3(0xcb3)),handleParallelTestShortcutClick(_0x29624b[_0x5712b3(0x87f)]['id']);else{if(_0x1d7cfe)_0x5a5af1[_0x5712b3(0xa57)][_0x5712b3(0x8de)]('hidden'),openParallelTestShortcutEditor(_0x1d7cfe['dataset']['id']);else{if(_0x216379){const _0x25ec66=_0x216379['dataset']['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0xf15630=_0x5712b3,_0x2bad21=parallelTestShortcuts[_0xf15630(0x4da)](_0x489f1a=>_0x489f1a['id']!==_0x25ec66),_0x4c58f3=doc(db,'globalSettings','parallelTestShortcutsConfig');await setDoc(_0x4c58f3,{'shortcuts':_0x2bad21},{'merge':!![]});});}}}}),document['getElementById'](_0x34972a(0xb0a))[_0x34972a(0xb95)](_0x34972a(0x305),_0x213196=>{const _0x52752b=_0x34972a,_0x28c317=_0x213196[_0x52752b(0x748)]['closest'](_0x52752b(0xcaf)),_0x3b3dc2=_0x213196['target'][_0x52752b(0x762)](_0x52752b(0x85b)),_0x5adbea=_0x213196[_0x52752b(0x748)][_0x52752b(0x762)](_0x52752b(0x8c4));if(_0x3b3dc2)openFileShortcutEditor(_0x3b3dc2[_0x52752b(0x87f)]['id']);else{if(_0x5adbea){const _0x415da5=_0x5adbea[_0x52752b(0x87f)]['id'];showConfirmation(_0x52752b(0x4f8),async()=>{const _0x820fb7=_0x52752b,_0x5a84fe=fileShortcuts['filter'](_0x337180=>_0x337180['id']!==_0x415da5),_0x2eab71=doc(db,_0x820fb7(0x96b),'fileShortcutsConfig');await setDoc(_0x2eab71,{'shortcuts':_0x5a84fe},{'merge':!![]});});}else _0x28c317&&handleFileShortcutClick(_0x28c317[_0x52752b(0x87f)]['id']);}}),document[_0x34972a(0x8fb)](_0x34972a(0xcc4))[_0x34972a(0xb95)](_0x34972a(0x305),()=>openFileShortcutEditor(null)),document['getElementById'](_0x34972a(0xcb9))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x24e1e4=_0x34972a;document[_0x24e1e4(0x8fb)](_0x24e1e4(0x2f0))['classList'][_0x24e1e4(0x8de)](_0x24e1e4(0xcb3));}),document['getElementById']('save-file-shortcut-btn')[_0x34972a(0xb95)]('click',saveFileShortcutChanges),document[_0x34972a(0x8fb)](_0x34972a(0x3ce))[_0x34972a(0xb95)](_0x34972a(0x305),_0x3e1dcb=>{const _0x770080=_0x34972a;_0x3e1dcb[_0x770080(0x748)]['closest'](_0x770080(0xc29))&&document[_0x770080(0x8fb)](_0x770080(0xdf1))[_0x770080(0xa57)][_0x770080(0x586)]('hidden');}),document[_0x34972a(0x8fb)](_0x34972a(0x67e))['addEventListener'](_0x34972a(0x305),()=>{const _0x41fe1c=_0x34972a;document['getElementById'](_0x41fe1c(0xdf1))[_0x41fe1c(0xa57)][_0x41fe1c(0x8de)]('hidden');}),document[_0x34972a(0x8fb)](_0x34972a(0x32c))['addEventListener']('click',_0x4efaf7=>{const _0x40abfd=_0x34972a,_0x4e3baf=document['getElementById'](_0x40abfd(0xdf1)),_0x80a2be=_0x4efaf7[_0x40abfd(0x748)][_0x40abfd(0x762)](_0x40abfd(0xa5e)),_0x13d366=_0x4efaf7[_0x40abfd(0x748)]['closest'](_0x40abfd(0x667)),_0x17f75f=_0x4efaf7['target'][_0x40abfd(0x762)]('.delete-hidden-file-shortcut-btn');if(_0x80a2be)_0x4e3baf['classList'][_0x40abfd(0x8de)](_0x40abfd(0xcb3)),handleFileShortcutClick(_0x80a2be[_0x40abfd(0x87f)]['id']);else{if(_0x13d366)_0x4e3baf[_0x40abfd(0xa57)]['add'](_0x40abfd(0xcb3)),openFileShortcutEditor(_0x13d366[_0x40abfd(0x87f)]['id']);else{if(_0x17f75f){const _0x18b156=_0x17f75f[_0x40abfd(0x87f)]['id'];showConfirmation(_0x40abfd(0x4f8),async()=>{const _0x252290=_0x40abfd,_0x2a4d8e=fileShortcuts[_0x252290(0x4da)](_0x3281a9=>_0x3281a9['id']!==_0x18b156),_0x13656f=doc(db,_0x252290(0x96b),_0x252290(0x47c));await setDoc(_0x13656f,{'shortcuts':_0x2a4d8e},{'merge':!![]});});}}}}),document[_0x34972a(0x8fb)]('blueprint-input-area')[_0x34972a(0xb95)](_0x34972a(0x305),_0x31ad82=>{const _0xe735ac=_0x34972a;_0x31ad82[_0xe735ac(0x748)][_0xe735ac(0x762)](_0xe735ac(0xce8))&&(activeShortcutTabId=_0xe735ac(0x49d),renderAdditionalShortcutsModal(),document[_0xe735ac(0x8fb)](_0xe735ac(0x6b3))[_0xe735ac(0xa57)][_0xe735ac(0x586)]('hidden'));}),document[_0x34972a(0x8fb)](_0x34972a(0xd1e))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0xf4c193=_0x34972a;document['getElementById'](_0xf4c193(0x6b3))['classList'][_0xf4c193(0x8de)](_0xf4c193(0xcb3));}),document[_0x34972a(0x8fb)]('additional-shortcuts-list')[_0x34972a(0xb95)](_0x34972a(0x305),_0x21a2e=>{const _0x3845f4=_0x34972a,_0x1c6a98=_0x21a2e[_0x3845f4(0x748)][_0x3845f4(0x762)](_0x3845f4(0x6fe)),_0x11050d=_0x21a2e[_0x3845f4(0x748)][_0x3845f4(0x762)]('.edit-hidden-shortcut-btn'),_0x9be4c0=_0x21a2e[_0x3845f4(0x748)]['closest'](_0x3845f4(0xa31)),_0x31752f=document[_0x3845f4(0x8fb)]('additional-shortcuts-modal');if(_0x1c6a98)_0x31752f[_0x3845f4(0xa57)][_0x3845f4(0x8de)](_0x3845f4(0xcb3)),handleShortcutClick(_0x1c6a98[_0x3845f4(0x87f)]['id']);else{if(_0x11050d)_0x31752f[_0x3845f4(0xa57)][_0x3845f4(0x8de)](_0x3845f4(0xcb3)),openShortcutEditor(_0x11050d[_0x3845f4(0x87f)]['id']);else{if(_0x9be4c0){const _0x156b51=_0x9be4c0[_0x3845f4(0x87f)]['id'],_0x28dc4f=blueprintShortcuts['find'](_0x531eb4=>_0x531eb4['id']===_0x156b51)?.[_0x3845f4(0x4ee)];showConfirmation(_0x3845f4(0xa95)+_0x28dc4f+'\x22?',async()=>{const _0x4c0b87=_0x3845f4,_0x486215=blueprintShortcuts[_0x4c0b87(0x4da)](_0x4a7be0=>_0x4a7be0['id']!==_0x156b51);try{const _0x47c867=doc(db,_0x4c0b87(0x96b),_0x4c0b87(0xac0));await setDoc(_0x47c867,{'blueprintShortcuts':_0x486215},{'merge':!![]});}catch(_0x113b40){console[_0x4c0b87(0xd73)]('Error\x20deleting\x20shortcut:',_0x113b40);}});}}}}),document[_0x34972a(0x8fb)]('blueprint-shortcut-container')[_0x34972a(0xb95)](_0x34972a(0x305),_0x58aab5=>{const _0x45abbd=_0x34972a,_0x3a7c51=_0x58aab5[_0x45abbd(0x748)][_0x45abbd(0x762)](_0x45abbd(0x212)),_0x1d5d8d=_0x58aab5[_0x45abbd(0x748)][_0x45abbd(0x762)](_0x45abbd(0x8d2)),_0x5c22a1=_0x58aab5[_0x45abbd(0x748)][_0x45abbd(0x762)](_0x45abbd(0xbbb));if(_0x1d5d8d)openShortcutEditor(_0x1d5d8d[_0x45abbd(0x87f)]['id']);else{if(_0x5c22a1){const _0x560b62=_0x5c22a1[_0x45abbd(0x87f)]['id'],_0x5563a2=blueprintShortcuts[_0x45abbd(0xaf7)](_0x587c65=>_0x587c65['id']===_0x560b62)?.['name'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x5563a2+'\x22?',async()=>{const _0x127665=_0x45abbd,_0x1a87bf=blueprintShortcuts['filter'](_0xb29560=>_0xb29560['id']!==_0x560b62);try{const _0x52c224=doc(db,'globalSettings',_0x127665(0xac0));await setDoc(_0x52c224,{'blueprintShortcuts':_0x1a87bf},{'merge':!![]});}catch(_0x36054c){console[_0x127665(0xd73)](_0x127665(0x36e),_0x36054c);}});}else _0x3a7c51&&handleShortcutClick(_0x3a7c51[_0x45abbd(0x87f)]['id']);}}),document['getElementById'](_0x34972a(0x915))[_0x34972a(0xb95)](_0x34972a(0x305),()=>openShortcutEditor(null)),document[_0x34972a(0x8fb)](_0x34972a(0x608))['addEventListener'](_0x34972a(0x305),()=>{const _0x18dfae=_0x34972a;document[_0x18dfae(0x8fb)](_0x18dfae(0xc4e))[_0x18dfae(0xa57)][_0x18dfae(0x8de)]('hidden');}),document[_0x34972a(0x8fb)](_0x34972a(0x496))[_0x34972a(0xb95)](_0x34972a(0x305),saveShortcutChanges),document[_0x34972a(0x8fb)](_0x34972a(0x3b9))[_0x34972a(0xb95)](_0x34972a(0x305),async()=>{const _0x178318=_0x34972a,_0x42d7d5=document[_0x178318(0x8fb)](_0x178318(0x68d)),_0x4a96a4=document[_0x178318(0x8fb)](_0x178318(0x9b3));_0x42d7d5['files'][_0x178318(0x7c7)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x42d7d5['files'][0x0],_0x4a96a4[_0x178318(0xa28)][0x0]||null):showMessage(_0x178318(0xc07));}),document[_0x34972a(0x8fb)](_0x34972a(0x28b))[_0x34972a(0xb95)](_0x34972a(0x305),async _0x3795f2=>{const _0x4b6c6e=_0x34972a,_0x476fee=document['getElementById'](_0x4b6c6e(0x28b)),_0x5aacd1=_0x3795f2[_0x4b6c6e(0x748)]['closest']('.bp-view-analysis-btn'),_0x12ac01=_0x3795f2[_0x4b6c6e(0x748)][_0x4b6c6e(0x762)](_0x4b6c6e(0x4df)),_0x31826c=_0x3795f2[_0x4b6c6e(0x748)][_0x4b6c6e(0x762)](_0x4b6c6e(0x8fe)),_0x8e0361=_0x3795f2[_0x4b6c6e(0x748)][_0x4b6c6e(0x762)](_0x4b6c6e(0xd26)),_0x7fdbe9=_0x3795f2['target']['closest'](_0x4b6c6e(0x9e9)),_0x1dabe9=_0x3795f2[_0x4b6c6e(0x748)]['closest'](_0x4b6c6e(0x81d));if(_0x5aacd1){cameFromBlueprint=!![];const _0xdf94c5=_0x5aacd1[_0x4b6c6e(0x87f)][_0x4b6c6e(0xcbc)];showQuizDetailView(_0xdf94c5),_0x476fee['classList']['add'](_0x4b6c6e(0xcb3));}else{if(_0x12ac01){const _0x1f6563=_0x12ac01[_0x4b6c6e(0x87f)][_0x4b6c6e(0x585)],_0x97dd5c=_0x12ac01[_0x4b6c6e(0x87f)]['quizId'],_0x5be0b9=allQuizzesGlobal[_0x4b6c6e(0xaf7)](_0x510f74=>_0x510f74['id']===_0x97dd5c),_0xf58232=_0x5be0b9?_0x5be0b9['topic']:'รายการนี้';showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0xf58232+_0x4b6c6e(0x47f),async()=>{const _0x2b5777=_0x4b6c6e;try{const _0x438b11=doc(db,_0x2b5777(0x73f)+appId+_0x2b5777(0xba2),currentBlueprintProjectId);await updateDoc(_0x438b11,{[_0x2b5777(0x4c8)+_0x1f6563+_0x2b5777(0x864)]:arrayRemove(_0x97dd5c)}),showMessage(_0x2b5777(0x310)),openTopicQuizBank(_0x1f6563),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x55755a){console['error'](_0x2b5777(0x5f9),_0x55755a),showMessage(_0x2b5777(0x7da));}});}else{if(_0x31826c){cameFromBlueprint=!![];const _0x55d779=_0x31826c[_0x4b6c6e(0x87f)][_0x4b6c6e(0xcbc)],_0x371eb4=allQuizzesGlobal[_0x4b6c6e(0xaf7)](_0x1d6f7c=>_0x1d6f7c['id']===_0x55d779);_0x371eb4&&(startPresentation(_0x371eb4),_0x476fee[_0x4b6c6e(0xa57)]['add'](_0x4b6c6e(0xcb3)));}else{if(_0x8e0361){cameFromBlueprint=!![];const _0x3053f6=_0x8e0361['dataset'][_0x4b6c6e(0xcbc)],_0x4e4bf0=allQuizzesGlobal['find'](_0x581815=>_0x581815['id']===_0x3053f6);_0x4e4bf0&&(currentQuizData=_0x4e4bf0,startAdminTest(),_0x476fee['classList'][_0x4b6c6e(0x8de)](_0x4b6c6e(0xcb3)));}else{if(_0x7fdbe9)cameFromBlueprint=!![],handleStartLiveRace(_0x7fdbe9['dataset'][_0x4b6c6e(0xcbc)]),_0x476fee[_0x4b6c6e(0xa57)]['add'](_0x4b6c6e(0xcb3));else{if(_0x1dabe9){cameFromBlueprint=!![];const _0x35d4c7=_0x1dabe9[_0x4b6c6e(0x87f)][_0x4b6c6e(0xcbc)],_0x9cfec9=_0x1dabe9[_0x4b6c6e(0x87f)][_0x4b6c6e(0x8bf)],_0x3cda5e=allQuizzesGlobal['find'](_0x47c189=>_0x47c189['id']===_0x35d4c7);_0x3cda5e&&(showGameStartConfirmationModal(_0x35d4c7,_0x9cfec9,_0x3cda5e[_0x4b6c6e(0xb19)]),_0x476fee[_0x4b6c6e(0xa57)][_0x4b6c6e(0x8de)](_0x4b6c6e(0xcb3)));}}}}}}}),document[_0x34972a(0x8fb)]('manual-create-blueprint-btn')[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x3c846a=_0x34972a;document[_0x3c846a(0x8fb)](_0x3c846a(0xb5d))[_0x3c846a(0xa57)][_0x3c846a(0x586)](_0x3c846a(0xcb3)),document[_0x3c846a(0x8fb)](_0x3c846a(0x267))[_0x3c846a(0x3d4)]='',document[_0x3c846a(0x8fb)](_0x3c846a(0x61a))[_0x3c846a(0x3d4)]='',document[_0x3c846a(0x8fb)](_0x3c846a(0xa6b))[_0x3c846a(0x3d4)]='';}),document[_0x34972a(0x8fb)](_0x34972a(0x421))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x49fbd1=_0x34972a;document[_0x49fbd1(0x8fb)](_0x49fbd1(0xb5d))[_0x49fbd1(0xa57)][_0x49fbd1(0x8de)](_0x49fbd1(0xcb3));}),document[_0x34972a(0x8fb)](_0x34972a(0x783))[_0x34972a(0xb95)](_0x34972a(0x305),handleManualBlueprintSave),document[_0x34972a(0x8fb)](_0x34972a(0xb9f))[_0x34972a(0xb95)](_0x34972a(0x305),()=>document[_0x34972a(0x8fb)](_0x34972a(0x69e))[_0x34972a(0xa57)]['add'](_0x34972a(0xcb3))),document['getElementById'](_0x34972a(0x64d))[_0x34972a(0xb95)]('click',handleSaveBlueprintPageSettings),document[_0x34972a(0x8fb)](_0x34972a(0xceb))[_0x34972a(0xb95)](_0x34972a(0x305),openBlueprintQuizSettings),document[_0x34972a(0x8fb)](_0x34972a(0x381))[_0x34972a(0xb95)](_0x34972a(0x305),saveBlueprintProject),document[_0x34972a(0x8fb)](_0x34972a(0xd98))['addEventListener']('click',showBlueprintProjects),document[_0x34972a(0x8fb)](_0x34972a(0x723))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x5deac4=_0x34972a;document[_0x5deac4(0x8fb)](_0x5deac4(0x6ed))[_0x5deac4(0xa57)]['add'](_0x5deac4(0xcb3));}),document['getElementById'](_0x34972a(0x714))[_0x34972a(0xb95)](_0x34972a(0x305),_0x25af45=>{const _0x1d5371=_0x34972a,_0x34cd20=_0x25af45['target'][_0x1d5371(0x762)](_0x1d5371(0x28a)),_0xa17143=_0x25af45[_0x1d5371(0x748)][_0x1d5371(0x762)](_0x1d5371(0xb4f));if(_0x34cd20)displayBlueprintProjectManager(_0x34cd20[_0x1d5371(0x87f)]['id']);else _0xa17143&&handleDeepDeleteBlueprintProject(_0xa17143['dataset']['id']);}),document[_0x34972a(0x8fb)](_0x34972a(0xc7d))['addEventListener']('click',()=>{const _0x318b91=_0x34972a;currentBlueprintProjectId=null,currentProjectId=null,document[_0x318b91(0x8fb)](_0x318b91(0xcf7))[_0x318b91(0xa57)]['add'](_0x318b91(0xcb3)),showView(_0x318b91(0xc1a));}),document[_0x34972a(0x8fb)](_0x34972a(0x22a))[_0x34972a(0xb95)](_0x34972a(0x305),addTopicToProject),document[_0x34972a(0x8fb)](_0x34972a(0x2a7))['addEventListener'](_0x34972a(0x305),async _0x17d205=>{const _0x317077=_0x34972a,_0x2eded2=_0x17d205[_0x317077(0x748)][_0x317077(0x762)](_0x317077(0x3d2));if(!_0x2eded2)return;const _0x7370d5=_0x2eded2[_0x317077(0x87f)][_0x317077(0x585)],_0x50076b=_0x17d205[_0x317077(0x748)][_0x317077(0x762)](_0x317077(0x1f6)),_0x2224f1=_0x17d205[_0x317077(0x748)]['closest']('.bp-create-content-quiz-btn'),_0x26aeaf=_0x17d205[_0x317077(0x748)][_0x317077(0x762)]('.bp-create-topic-quiz-btn'),_0x580575=_0x17d205[_0x317077(0x748)][_0x317077(0x762)](_0x317077(0xbfe)),_0x14d722=_0x17d205[_0x317077(0x748)]['closest'](_0x317077(0xc4b)),_0x37f99d=_0x17d205[_0x317077(0x748)][_0x317077(0x762)](_0x317077(0xa9c)),_0x18362e=_0x17d205[_0x317077(0x748)][_0x317077(0x762)]('.bp-edit-topic-btn'),_0x59fd05=_0x17d205[_0x317077(0x748)][_0x317077(0x762)]('.bp-delete-topic-btn'),_0x48e8eb=_0x24c598=>{const _0x3c293a=_0x317077,_0x257f46=_0x24c598[_0x3c293a(0xa01)]('[data-field=\x22subTopic\x22]')['textContent'][_0x3c293a(0x6a8)](),_0x44dc83=_0x24c598[_0x3c293a(0x762)](_0x3c293a(0x394))[_0x3c293a(0x2ea)],_0x5cf0fb=_0x44dc83?_0x44dc83[_0x3c293a(0xa47)][_0x3c293a(0x6a8)]():'';return _0x5cf0fb+':\x20'+_0x257f46;};if(_0x580575)openTopicQuizBank(_0x7370d5);else{if(_0x50076b){const _0x14ffa8=_0x48e8eb(_0x2eded2);selectProjectAndGenerateBlueprintQuiz(_0x14ffa8,null,_0x7370d5,!![]);}else{if(_0x2224f1){const _0x30dc03=_0x48e8eb(_0x2eded2);try{const _0x2172b5=doc(db,_0x317077(0x73f)+appId+_0x317077(0x656)+currentBlueprintProjectId+_0x317077(0x483),_0x7370d5),_0x5180a7=await getDoc(_0x2172b5);if(_0x5180a7[_0x317077(0x86f)]()){const _0x2fb09f=_0x5180a7[_0x317077(0x3d7)]()[_0x317077(0x68b)],_0x4ff062=document[_0x317077(0x80c)]('div'),_0xdef74=_0x1dc49c=>{const _0x57ff64=_0x317077;if(!_0x1dc49c)return'';return _0x4ff062[_0x57ff64(0x878)]=_0x1dc49c,_0x4ff062[_0x57ff64(0xa47)]||_0x4ff062['innerText']||'';},_0x430dbc=(_0xdef74(_0x2fb09f['point'])+'\x20'+_0xdef74(_0x2fb09f[_0x317077(0xc7e)])+'\x20'+_0xdef74(_0x2fb09f[_0x317077(0xb29)]))[_0x317077(0x6a8)]();selectProjectAndGenerateBlueprintQuiz(_0x30dc03,_0x430dbc,_0x7370d5,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x10ac16){console[_0x317077(0xd73)](_0x317077(0xa6e),_0x10ac16),showMessage('เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ');}}else{if(_0x26aeaf){const _0x1d0956=_0x48e8eb(_0x2eded2);selectProjectAndGenerateBlueprintQuiz(_0x1d0956,null,_0x7370d5,![]);}else{if(_0x14d722){const _0x350e14=doc(db,_0x317077(0x73f)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x491a51=await getDoc(_0x350e14);if(_0x491a51[_0x317077(0x86f)]()){const _0x1d59f2=_0x491a51[_0x317077(0x3d7)](),_0x5bab65=_0x1d59f2['topics'][_0x7370d5];if(_0x5bab65&&_0x5bab65[_0x317077(0xcce)]===_0x317077(0x620))try{const _0xd8aedc=doc(db,_0x317077(0x73f)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x317077(0x483),_0x7370d5),_0xffaf5e=await getDoc(_0xd8aedc);if(_0xffaf5e['exists']()){const _0xa6062b=_0xffaf5e['data']()[_0x317077(0x68b)];document[_0x317077(0x8fb)]('lesson-view-title')[_0x317077(0xa47)]=_0x317077(0xa22)+_0x48e8eb(_0x2eded2),document['getElementById'](_0x317077(0x769))[_0x317077(0x878)]=_0xa6062b[_0x317077(0xb10)],document[_0x317077(0x8fb)](_0x317077(0x563))[_0x317077(0x878)]=_0xa6062b['memory'],document[_0x317077(0x8fb)]('summaryContent')['innerHTML']=_0xa6062b[_0x317077(0xb29)];const _0x41d3d9=document['getElementById'](_0x317077(0x6cf));_0xa6062b[_0x317077(0x98b)]?(currentApplicationData=_0xa6062b['applicationData'],_0x41d3d9[_0x317077(0x878)]=currentApplicationData[_0x317077(0x218)]((_0x38f497,_0x2a6037)=>'<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>'+(_0x2a6037+0x1)+'.\x20'+marked[_0x317077(0x821)](_0x38f497[_0x317077(0x84c)])+_0x317077(0x81b)+_0x2a6037+'-options\x22>'+_0x38f497[_0x317077(0x9af)][_0x317077(0x218)]((_0x218fc7,_0x5a4ba0)=>'<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x2a6037+',\x20'+_0x5a4ba0+_0x317077(0x4aa)+String[_0x317077(0x6b1)](0x61+_0x5a4ba0)+'.\x20'+marked[_0x317077(0x821)](_0x218fc7)+_0x317077(0x455))['join']('')+_0x317077(0xb05))[_0x317077(0xb7d)]('')):(currentApplicationData=[],_0x41d3d9['innerHTML']=_0xa6062b[_0x317077(0x921)]||_0xa6062b['application']),document[_0x317077(0x8fb)]('lesson-loader')[_0x317077(0xa57)][_0x317077(0x8de)](_0x317077(0xcb3)),document[_0x317077(0x8fb)](_0x317077(0x7b5))['classList'][_0x317077(0x586)]('hidden'),document[_0x317077(0x8fb)](_0x317077(0xc50))[_0x317077(0xa57)][_0x317077(0x586)](_0x317077(0xcb3)),window[_0x317077(0xb54)]&&MathJax['typesetPromise']([document[_0x317077(0x8fb)](_0x317077(0x2c7))]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0xbde27c){console['error']('Error\x20fetching\x20lesson\x20content:',_0xbde27c),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage('ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0x37f99d){const _0x3601bd=_0x48e8eb(_0x2eded2),_0xf5373f=doc(db,_0x317077(0x73f)+appId+_0x317077(0xba2),currentBlueprintProjectId),_0x54dd41=await getDoc(_0xf5373f);if(_0x54dd41[_0x317077(0x86f)]()){const _0x16c7d6=_0x54dd41[_0x317077(0x3d7)]();generateAndSaveLessonForBlueprint(_0x7370d5,_0x3601bd,_0x16c7d6['gradeLevel']);}}else{if(_0x18362e)editTopicInProject(_0x7370d5);else _0x59fd05&&deleteTopicFromProject(_0x7370d5);}}}}}}}),document[_0x34972a(0x8fb)](_0x34972a(0x740))['addEventListener'](_0x34972a(0x305),handleFixLessonLatex),document[_0x34972a(0x8fb)](_0x34972a(0x9c2))['addEventListener']('click',handleExportLessonToPDF),document['getElementById']('close-lesson-view-btn')['addEventListener']('click',()=>{const _0xeca2d6=_0x34972a;document[_0xeca2d6(0x8fb)](_0xeca2d6(0xc50))[_0xeca2d6(0xa57)]['add']('hidden');});const _0xc6306e=document[_0x34972a(0x8fb)](_0x34972a(0x832)),_0x45de79=document[_0x34972a(0x8fb)](_0x34972a(0x3b7));_0xc6306e[_0x34972a(0xb95)](_0x34972a(0x552),()=>{const _0x32bd2b=_0x34972a;_0x45de79[_0x32bd2b(0xa57)][_0x32bd2b(0x636)]('hidden',!_0xc6306e['checked']);});const _0x1e0d00=document['getElementById'](_0x34972a(0xb87)),_0x5a9536=document[_0x34972a(0x8fb)](_0x34972a(0x896));_0x1e0d00[_0x34972a(0xb95)](_0x34972a(0x552),()=>{const _0x347c1c=_0x34972a;_0x5a9536['classList'][_0x347c1c(0x636)](_0x347c1c(0xcb3),!_0x1e0d00['checked']);});const _0x56957d=document[_0x34972a(0x8fb)]('modal-confidence-scoring-checkbox'),_0x560454=document[_0x34972a(0x8fb)](_0x34972a(0x8ae));_0x56957d[_0x34972a(0xb95)](_0x34972a(0x552),()=>{const _0x41fce4=_0x34972a;_0x560454['classList'][_0x41fce4(0x636)](_0x41fce4(0xcb3),!_0x56957d[_0x41fce4(0x588)]);});const _0x1db818=document[_0x34972a(0x8fb)](_0x34972a(0x8a6)),_0x58857f=async _0x5e1e23=>{const _0x2c9107=_0x34972a,_0x5a217f=document[_0x2c9107(0x8fb)](_0x2c9107(0x8a6)),_0x5953dc=_0x5a217f['dataset'][_0x2c9107(0x3d5)],_0x1d5b59=document[_0x2c9107(0x8fb)](_0x2c9107(0x5d0));_0x5a217f[_0x2c9107(0xa57)]['add']('hidden');if(_0x5953dc==='timed'){const _0x4106c2=_0x1d5b59[_0x2c9107(0x3d4)],_0x4630c4={'answer':_0x4106c2,'wasConfident':_0x5e1e23};proceedToNextQuestion(_0x4630c4);}else{if(_0x5953dc==='sync'){const _0xf9210a=_0x1d5b59['dataset'][_0x2c9107(0x637)],_0x5169d9=JSON[_0x2c9107(0x5ed)](_0x1d5b59['dataset']['question']),_0x2160d2=JSON[_0x2c9107(0x5ed)](_0x1d5b59[_0x2c9107(0x87f)][_0x2c9107(0xa0d)]),_0x77be66=_0x1d5b59['dataset'][_0x2c9107(0x981)];handleSyncAnswerSubmit(_0xf9210a,_0x5169d9,_0x2160d2,_0x77be66,_0x5e1e23);}}_0x5a217f['dataset'][_0x2c9107(0x3d5)]='';};document[_0x34972a(0x8fb)]('confirm-confident')['addEventListener'](_0x34972a(0x305),()=>_0x58857f(!![])),document[_0x34972a(0x8fb)]('confirm-not-confident')['addEventListener'](_0x34972a(0x305),()=>_0x58857f(![])),liveGameView[_0x34972a(0xb95)](_0x34972a(0x305),_0x2f59aa=>{const _0x149a95=_0x34972a,_0x1c5f9c=_0x2f59aa[_0x149a95(0x748)][_0x149a95(0x762)](_0x149a95(0xd76));if(_0x1c5f9c){const _0x20cae0=_0x1c5f9c[_0x149a95(0x87f)][_0x149a95(0x981)];_0x20cae0&&handleKickPlayerSync(_0x20cae0);}});const _0x45e10f=document[_0x34972a(0x8fb)](_0x34972a(0x9f5)),_0x4661ad=document[_0x34972a(0x8fb)]('cancel-game-start-btn');_0x4661ad[_0x34972a(0xb95)]('click',()=>{const _0x39db3a=_0x34972a;document[_0x39db3a(0x8fb)]('confirm-game-start-modal')[_0x39db3a(0xa57)][_0x39db3a(0x8de)](_0x39db3a(0xcb3));}),_0x45e10f[_0x34972a(0xb95)]('click',()=>{const _0x50a7de=_0x34972a,_0x360b23=document[_0x50a7de(0x8fb)]('game-start-quiz-id')[_0x50a7de(0x3d4)],_0x2e3331=document[_0x50a7de(0x8fb)](_0x50a7de(0x31d))[_0x50a7de(0x3d4)],_0x4766e3=document[_0x50a7de(0x8fb)](_0x50a7de(0x4a6))[_0x50a7de(0x588)];document[_0x50a7de(0x8fb)](_0x50a7de(0x3b3))[_0x50a7de(0xa57)]['add'](_0x50a7de(0xcb3));switch(_0x2e3331){case _0x50a7de(0x31a):handleStartLiveRace(_0x360b23,_0x4766e3);break;case _0x50a7de(0xca0):handleStartTeamQuiz(_0x360b23,_0x4766e3);break;case'group':handleStartGroupMode(_0x360b23,_0x4766e3);break;case _0x50a7de(0xbf5):const _0x5ed588=document[_0x50a7de(0xa01)]('input[name=\x22syncVariant\x22]:checked')[_0x50a7de(0x3d4)]||_0x50a7de(0xc66);handleStartSyncMode(_0x360b23,_0x4766e3,_0x5ed588);break;}}),document[_0x34972a(0x8fb)]('join-group-activity-btn')['addEventListener'](_0x34972a(0x305),handleJoinGroupActivity),liveGameView[_0x34972a(0xb95)](_0x34972a(0x305),_0x41100e=>{const _0x59609f=_0x34972a,_0x35ca80=_0x41100e[_0x59609f(0x748)]['closest'](_0x59609f(0x985));document['querySelectorAll'](_0x59609f(0x9b6))[_0x59609f(0x71e)](_0x574015=>{const _0x4cd75b=_0x59609f;(!_0x35ca80||_0x574015['id']!==_0x35ca80[_0x4cd75b(0x87f)][_0x4cd75b(0x2e9)])&&_0x574015[_0x4cd75b(0xa57)][_0x4cd75b(0x586)](_0x4cd75b(0xa72));});if(!_0x35ca80)return;const _0x3c1a9a=_0x35ca80[_0x59609f(0x87f)]['tooltipTarget'],_0x48387d=document[_0x59609f(0x8fb)](_0x3c1a9a);_0x48387d&&_0x48387d[_0x59609f(0xa57)][_0x59609f(0x636)](_0x59609f(0xa72));}),liveGameView['addEventListener'](_0x34972a(0x305),_0x500749=>{const _0x55e3b3=_0x34972a;if(_0x500749[_0x55e3b3(0x748)]['classList'][_0x55e3b3(0x28c)](_0x55e3b3(0xd8f))){const _0x3a00ab=_0x500749[_0x55e3b3(0x748)]['dataset'][_0x55e3b3(0x981)];_0x3a00ab&&handleKickPlayer(_0x3a00ab);}}),document[_0x34972a(0x8fb)]('project-title')[_0x34972a(0xb95)](_0x34972a(0x515),()=>document[_0x34972a(0x8fb)](_0x34972a(0xba8))[_0x34972a(0xa57)][_0x34972a(0x586)](_0x34972a(0xcb3))),document[_0x34972a(0x8fb)](_0x34972a(0xba8))['addEventListener']('click',handleSaveProjectName),document[_0x34972a(0x8fb)](_0x34972a(0x43f))[_0x34972a(0xb95)](_0x34972a(0xa42),_0x252864=>{const _0x1bbc7c=_0x34972a;_0x252864['key']===_0x1bbc7c(0x93e)&&(_0x252864[_0x1bbc7c(0xc6f)](),_0x252864[_0x1bbc7c(0x748)][_0x1bbc7c(0xc11)](),handleSaveProjectName());}),document[_0x34972a(0x8fb)](_0x34972a(0xda5))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x320ebf=_0x34972a;document[_0x320ebf(0x8fb)](_0x320ebf(0x99b))[_0x320ebf(0xa57)][_0x320ebf(0x586)](_0x320ebf(0xcb3));}),document[_0x34972a(0x8fb)](_0x34972a(0xc43))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x156da2=_0x34972a;document['getElementById'](_0x156da2(0x99b))[_0x156da2(0xa57)][_0x156da2(0x8de)](_0x156da2(0xcb3));}),document[_0x34972a(0x8fb)](_0x34972a(0x27f))['addEventListener']('click',handleBulkUpdateQuizSettings),document[_0x34972a(0x8fb)](_0x34972a(0x520))[_0x34972a(0xb95)](_0x34972a(0x305),handleModeSwitch),document[_0x34972a(0x8fb)](_0x34972a(0x24b))[_0x34972a(0xb95)](_0x34972a(0x305),handleUpdateOldQuizzes),document['getElementById'](_0x34972a(0xda9))[_0x34972a(0xb95)](_0x34972a(0x305),handleResetProjectOrder),document[_0x34972a(0x8fb)](_0x34972a(0x647))['addEventListener'](_0x34972a(0x305),handleSaveVisibilitySettings),document[_0x34972a(0x8fb)](_0x34972a(0xcbb))[_0x34972a(0xb95)](_0x34972a(0x305),handleAddCustomMathTopic),document['getElementById'](_0x34972a(0x95e))[_0x34972a(0xb95)]('click',handleSelectAllTopics),document[_0x34972a(0x8fb)](_0x34972a(0x286))[_0x34972a(0xb95)]('click',handleDeselectAllTopics),document['getElementById']('back-to-dashboard-btn')[_0x34972a(0xb95)](_0x34972a(0x305),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document[_0x34972a(0x8fb)](_0x34972a(0xaa5))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x10320b=_0x34972a;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x10320b(0xb8b));}}),document[_0x34972a(0x8fb)](_0x34972a(0x781))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x34cae9=_0x34972a;showView(_0x34cae9(0xc1a));}),document['getElementById'](_0x34972a(0x40c))[_0x34972a(0xb95)]('click',()=>{const _0x4943d9=_0x34972a;messageModal[_0x4943d9(0xa57)]['add'](_0x4943d9(0xcb3)),typeof modalConfirmAction===_0x4943d9(0x98d)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x34972a(0x8fb)](_0x34972a(0xa37))[_0x34972a(0xb95)](_0x34972a(0x305),()=>createProjectModal[_0x34972a(0xa57)]['remove'](_0x34972a(0xcb3))),document[_0x34972a(0x8fb)](_0x34972a(0x2f7))[_0x34972a(0xb95)](_0x34972a(0x305),()=>createProjectModal['classList'][_0x34972a(0x8de)](_0x34972a(0xcb3))),document[_0x34972a(0x8fb)](_0x34972a(0xcb6))[_0x34972a(0xb95)](_0x34972a(0x305),()=>adminPasswordModal[_0x34972a(0xa57)][_0x34972a(0x8de)](_0x34972a(0xcb3))),document['getElementById'](_0x34972a(0xca2))[_0x34972a(0xb95)](_0x34972a(0x305),handleAdminLogin),document[_0x34972a(0x8fb)](_0x34972a(0x230))[_0x34972a(0xb95)](_0x34972a(0xcdc),_0x4cb1ba=>{const _0x3291c1=_0x34972a;if(_0x4cb1ba[_0x3291c1(0x7f0)]===_0x3291c1(0x93e))handleAdminLogin();}),document[_0x34972a(0x8fb)](_0x34972a(0xdcb))[_0x34972a(0xb95)]('click',()=>{const _0x21c9da=_0x34972a;confirmationModal[_0x21c9da(0xa57)][_0x21c9da(0x8de)](_0x21c9da(0xcb3)),confirmAction=null;}),document['getElementById'](_0x34972a(0x72c))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x1607a8=_0x34972a;confirmAction&&confirmAction(),confirmationModal[_0x1607a8(0xa57)][_0x1607a8(0x8de)](_0x1607a8(0xcb3)),confirmAction=null;}),document[_0x34972a(0x8fb)](_0x34972a(0x7ff))[_0x34972a(0xb95)](_0x34972a(0x305),()=>renameQuizModal['classList']['add'](_0x34972a(0xcb3))),document['getElementById']('confirm-rename-quiz-btn')[_0x34972a(0xb95)]('click',confirmRenameQuiz),document[_0x34972a(0x8fb)]('cancel-move-quiz-btn')[_0x34972a(0xb95)](_0x34972a(0x305),()=>moveQuizModal['classList'][_0x34972a(0x8de)](_0x34972a(0xcb3))),document[_0x34972a(0x8fb)](_0x34972a(0x7b4))[_0x34972a(0xb95)](_0x34972a(0x305),confirmMoveQuiz),document[_0x34972a(0x8fb)]('cancel-quiz-settings-btn')[_0x34972a(0xb95)](_0x34972a(0x305),()=>quizSettingsModal[_0x34972a(0xa57)][_0x34972a(0x8de)]('hidden')),document['getElementById'](_0x34972a(0xb47))[_0x34972a(0xb95)](_0x34972a(0x305),confirmQuizSettings),document[_0x34972a(0x8fb)](_0x34972a(0x36f))['addEventListener']('click',()=>quizStatusModal[_0x34972a(0xa57)]['add'](_0x34972a(0xcb3))),document[_0x34972a(0x8fb)](_0x34972a(0xb1b))['addEventListener'](_0x34972a(0x305),confirmQuizStatus);const _0x2e002d=document['getElementById'](_0x34972a(0x3aa));document[_0x34972a(0x8fb)](_0x34972a(0x7ab))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x226e5d=_0x34972a;_0x2e002d[_0x226e5d(0xa57)]['add'](_0x226e5d(0xcb3));}),document[_0x34972a(0x8fb)](_0x34972a(0xd59))[_0x34972a(0xb95)](_0x34972a(0x305),async()=>{const _0x4560ad=_0x34972a,_0x5221e6=allQuizzes[_0x4560ad(0xaf7)](_0x4f0701=>_0x4f0701['id']===actionTargetId);_0x5221e6?(currentQuizData=_0x5221e6,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x2e002d[_0x4560ad(0xa57)][_0x4560ad(0x8de)](_0x4560ad(0xcb3));}),document[_0x34972a(0x8fb)](_0x34972a(0xdf2))[_0x34972a(0xb95)](_0x34972a(0x305),async()=>{const _0x740b98=_0x34972a,_0x26ecaa=allQuizzes[_0x740b98(0xaf7)](_0x410729=>_0x410729['id']===actionTargetId);_0x26ecaa?(currentQuizData=_0x26ecaa,exportQuizAsTutorPDF()):showMessage(_0x740b98(0xd04)),_0x2e002d[_0x740b98(0xa57)]['add'](_0x740b98(0xcb3));});const _0x1c3068=document[_0x34972a(0x8fb)]('open-global-live-btn');_0x1c3068[_0x34972a(0x878)]=_0x34972a(0xb83),_0x1c3068[_0x34972a(0xb95)]('click',openGlobalActivityModal),document['getElementById']('cancel-global-activity-btn')[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x22ba53=_0x34972a;document['getElementById'](_0x22ba53(0x3be))[_0x22ba53(0xa57)][_0x22ba53(0x8de)]('hidden');}),document[_0x34972a(0x8fb)](_0x34972a(0xbc2))[_0x34972a(0xb95)](_0x34972a(0xc65),_0x3019d9=>{const _0xd7bebb=_0x34972a;renderGlobalActivityList(_0x3019d9[_0xd7bebb(0x748)][_0xd7bebb(0x3d4)]);}),document[_0x34972a(0x8fb)](_0x34972a(0x469))[_0x34972a(0xb95)](_0x34972a(0x305),_0x14c035=>{const _0x17a21f=_0x34972a,_0x4199c6=_0x14c035[_0x17a21f(0x748)]['closest'](_0x17a21f(0x35a));if(!_0x4199c6)return;const _0x3b39ec=_0x4199c6[_0x17a21f(0x87f)]['id'],_0x1e9a19=_0x4199c6[_0x17a21f(0x87f)]['mode'],_0xaec4d5=allQuizzesGlobal[_0x17a21f(0xaf7)](_0x5ea8e7=>_0x5ea8e7['id']===_0x3b39ec);_0xaec4d5&&(document[_0x17a21f(0x8fb)](_0x17a21f(0x3be))[_0x17a21f(0xa57)][_0x17a21f(0x8de)](_0x17a21f(0xcb3)),_0x1e9a19==='live-race'?handleStartLiveRace(_0x3b39ec):showGameStartConfirmationModal(_0x3b39ec,_0x1e9a19,_0xaec4d5[_0x17a21f(0xb19)]));}),document[_0x34972a(0x8fb)]('project-search-input')[_0x34972a(0xb95)](_0x34972a(0xc65),renderProjects),document['getElementById'](_0x34972a(0x3b0))[_0x34972a(0xb95)](_0x34972a(0x552),async()=>{const _0x56b4a2=_0x34972a,_0x361250=document[_0x56b4a2(0x8fb)](_0x56b4a2(0x3b0))['value'],_0x4308b9=doc(db,_0x56b4a2(0x96b),_0x56b4a2(0xac0));try{await setDoc(_0x4308b9,{'projectSort':_0x361250},{'merge':!![]});}catch(_0x285611){console[_0x56b4a2(0xd73)]('Error\x20updating\x20sort\x20preference:',_0x285611),showMessage(_0x56b4a2(0x9c7));}}),document[_0x34972a(0x8fb)](_0x34972a(0x8a1))[_0x34972a(0xb95)](_0x34972a(0xc65),renderQuizzes),document['getElementById']('grid-view-btn')['addEventListener']('click',()=>{const _0x361b68=_0x34972a;globalDashboardSettings[_0x361b68(0xb1c)]='grid',saveUserPreference(_0x361b68(0xb1c),_0x361b68(0x7ad)),renderProjects();}),document[_0x34972a(0x8fb)](_0x34972a(0xbf3))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x165dca=_0x34972a;globalDashboardSettings[_0x165dca(0xb1c)]=_0x165dca(0xa6f),saveUserPreference(_0x165dca(0xb1c),_0x165dca(0xa6f)),renderProjects();}),manageTab[_0x34972a(0xb95)](_0x34972a(0x305),()=>switchProjectTab(_0x34972a(0xc3e))),resultsTab[_0x34972a(0xb95)](_0x34972a(0x305),()=>switchProjectTab(_0x34972a(0x744))),leaderboardTab['addEventListener'](_0x34972a(0x305),()=>switchProjectTab(_0x34972a(0x569))),document[_0x34972a(0x8fb)]('analytics-tab-btn')[_0x34972a(0xb95)](_0x34972a(0x305),()=>switchQuizDetailTab(_0x34972a(0x49a))),document[_0x34972a(0x8fb)](_0x34972a(0x641))['addEventListener'](_0x34972a(0x305),()=>switchQuizDetailTab(_0x34972a(0x41d))),document[_0x34972a(0x8fb)](_0x34972a(0x796))[_0x34972a(0xb95)](_0x34972a(0x305),()=>switchQuizDetailTab(_0x34972a(0xcc3))),document[_0x34972a(0x8fb)](_0x34972a(0x2fc))[_0x34972a(0xb95)](_0x34972a(0x305),()=>switchQuizDetailTab(_0x34972a(0xcb4))),document[_0x34972a(0x8fb)](_0x34972a(0x711))[_0x34972a(0xb95)](_0x34972a(0x305),handleAnalyzeClass),generateWorksheetBtn[_0x34972a(0xb95)](_0x34972a(0x305),generateWorksheet);const _0x3bef69=document[_0x34972a(0x8fb)](_0x34972a(0x39d)),_0x439adb=document[_0x34972a(0x8fb)](_0x34972a(0x851)),_0x5c911d=document[_0x34972a(0x8fb)](_0x34972a(0x8c7)),_0x6d383b=document[_0x34972a(0x8fb)](_0x34972a(0x375)),_0x3b9c8e=document[_0x34972a(0x8fb)](_0x34972a(0xd7f)),_0x4d6234=document[_0x34972a(0x8fb)](_0x34972a(0xb88));topicTab['addEventListener']('click',()=>{const _0x59e3df=_0x34972a;topicTab[_0x59e3df(0xa57)]['add']('active'),textTab['classList'][_0x59e3df(0x586)](_0x59e3df(0xd52)),fileTab[_0x59e3df(0xa57)][_0x59e3df(0x586)](_0x59e3df(0xd52)),worksheetTab[_0x59e3df(0xa57)][_0x59e3df(0x586)](_0x59e3df(0xd52));if(_0x3bef69)_0x3bef69[_0x59e3df(0xa57)][_0x59e3df(0x586)](_0x59e3df(0xd52));if(_0x5c911d)_0x5c911d[_0x59e3df(0xa57)][_0x59e3df(0x586)](_0x59e3df(0xd52));if(_0x3b9c8e)_0x3b9c8e[_0x59e3df(0xa57)][_0x59e3df(0x586)](_0x59e3df(0xd52));topicInputArea[_0x59e3df(0xa57)][_0x59e3df(0x586)](_0x59e3df(0xcb3)),textInputArea[_0x59e3df(0xa57)][_0x59e3df(0x8de)](_0x59e3df(0xcb3)),fileInputArea[_0x59e3df(0xa57)][_0x59e3df(0x8de)]('hidden'),worksheetInputArea['classList'][_0x59e3df(0x8de)](_0x59e3df(0xcb3));if(_0x439adb)_0x439adb['classList'][_0x59e3df(0x8de)](_0x59e3df(0xcb3));if(_0x6d383b)_0x6d383b[_0x59e3df(0xa57)]['add'](_0x59e3df(0xcb3));if(_0x4d6234)_0x4d6234['classList'][_0x59e3df(0x8de)](_0x59e3df(0xcb3));}),textTab[_0x34972a(0xb95)]('click',()=>{const _0x39457f=_0x34972a;textTab[_0x39457f(0xa57)][_0x39457f(0x8de)](_0x39457f(0xd52)),topicTab[_0x39457f(0xa57)][_0x39457f(0x586)](_0x39457f(0xd52)),fileTab[_0x39457f(0xa57)][_0x39457f(0x586)](_0x39457f(0xd52)),worksheetTab[_0x39457f(0xa57)][_0x39457f(0x586)](_0x39457f(0xd52));if(_0x3bef69)_0x3bef69[_0x39457f(0xa57)][_0x39457f(0x586)]('active');if(_0x5c911d)_0x5c911d['classList']['remove'](_0x39457f(0xd52));if(_0x3b9c8e)_0x3b9c8e['classList'][_0x39457f(0x586)](_0x39457f(0xd52));textInputArea['classList']['remove']('hidden'),topicInputArea[_0x39457f(0xa57)]['add']('hidden'),fileInputArea[_0x39457f(0xa57)][_0x39457f(0x8de)](_0x39457f(0xcb3)),worksheetInputArea[_0x39457f(0xa57)][_0x39457f(0x8de)](_0x39457f(0xcb3));if(_0x439adb)_0x439adb[_0x39457f(0xa57)][_0x39457f(0x8de)]('hidden');if(_0x6d383b)_0x6d383b[_0x39457f(0xa57)][_0x39457f(0x8de)](_0x39457f(0xcb3));if(_0x4d6234)_0x4d6234['classList']['add'](_0x39457f(0xcb3));}),fileTab['addEventListener'](_0x34972a(0x305),()=>{const _0x4cac51=_0x34972a;fileTab[_0x4cac51(0xa57)]['add']('active'),topicTab[_0x4cac51(0xa57)][_0x4cac51(0x586)](_0x4cac51(0xd52)),textTab['classList'][_0x4cac51(0x586)](_0x4cac51(0xd52)),worksheetTab[_0x4cac51(0xa57)][_0x4cac51(0x586)](_0x4cac51(0xd52));if(_0x3bef69)_0x3bef69['classList'][_0x4cac51(0x586)](_0x4cac51(0xd52));if(_0x5c911d)_0x5c911d['classList'][_0x4cac51(0x586)]('active');if(_0x3b9c8e)_0x3b9c8e[_0x4cac51(0xa57)]['remove']('active');fileInputArea[_0x4cac51(0xa57)][_0x4cac51(0x586)](_0x4cac51(0xcb3)),topicInputArea['classList'][_0x4cac51(0x8de)]('hidden'),textInputArea[_0x4cac51(0xa57)]['add']('hidden'),worksheetInputArea['classList']['add']('hidden');if(_0x439adb)_0x439adb[_0x4cac51(0xa57)][_0x4cac51(0x8de)](_0x4cac51(0xcb3));if(_0x6d383b)_0x6d383b[_0x4cac51(0xa57)]['add']('hidden');if(_0x4d6234)_0x4d6234['classList'][_0x4cac51(0x8de)]('hidden');}),worksheetTab[_0x34972a(0xb95)]('click',()=>{const _0x44f43c=_0x34972a;worksheetTab[_0x44f43c(0xa57)]['add']('active'),topicTab[_0x44f43c(0xa57)][_0x44f43c(0x586)]('active'),textTab[_0x44f43c(0xa57)][_0x44f43c(0x586)]('active'),fileTab['classList'][_0x44f43c(0x586)](_0x44f43c(0xd52));if(_0x3bef69)_0x3bef69[_0x44f43c(0xa57)][_0x44f43c(0x586)](_0x44f43c(0xd52));if(_0x5c911d)_0x5c911d[_0x44f43c(0xa57)][_0x44f43c(0x586)](_0x44f43c(0xd52));if(_0x3b9c8e)_0x3b9c8e[_0x44f43c(0xa57)]['remove'](_0x44f43c(0xd52));worksheetInputArea[_0x44f43c(0xa57)]['remove']('hidden'),topicInputArea['classList']['add'](_0x44f43c(0xcb3)),textInputArea[_0x44f43c(0xa57)][_0x44f43c(0x8de)](_0x44f43c(0xcb3)),fileInputArea[_0x44f43c(0xa57)][_0x44f43c(0x8de)](_0x44f43c(0xcb3));if(_0x439adb)_0x439adb[_0x44f43c(0xa57)]['add'](_0x44f43c(0xcb3));if(_0x6d383b)_0x6d383b[_0x44f43c(0xa57)]['add'](_0x44f43c(0xcb3));if(_0x4d6234)_0x4d6234[_0x44f43c(0xa57)]['add'](_0x44f43c(0xcb3));});const _0x11c4a6=document[_0x34972a(0x8fb)]('bank-tab'),_0x591ffa=document[_0x34972a(0x8fb)](_0x34972a(0x7d3));_0x11c4a6&&_0x11c4a6['addEventListener'](_0x34972a(0x305),()=>{const _0x553b7c=_0x34972a;topicTab[_0x553b7c(0xa57)][_0x553b7c(0x586)]('active'),textTab[_0x553b7c(0xa57)][_0x553b7c(0x586)](_0x553b7c(0xd52)),fileTab[_0x553b7c(0xa57)]['remove'](_0x553b7c(0xd52)),worksheetTab['classList'][_0x553b7c(0x586)](_0x553b7c(0xd52));if(_0x3bef69)_0x3bef69[_0x553b7c(0xa57)][_0x553b7c(0x586)](_0x553b7c(0xd52));if(_0x5c911d)_0x5c911d['classList'][_0x553b7c(0x586)](_0x553b7c(0xd52));if(_0x3b9c8e)_0x3b9c8e[_0x553b7c(0xa57)][_0x553b7c(0x586)]('active');_0x11c4a6[_0x553b7c(0xa57)][_0x553b7c(0x8de)](_0x553b7c(0xd52)),topicInputArea[_0x553b7c(0xa57)][_0x553b7c(0x8de)]('hidden'),textInputArea['classList'][_0x553b7c(0x8de)](_0x553b7c(0xcb3)),fileInputArea[_0x553b7c(0xa57)][_0x553b7c(0x8de)](_0x553b7c(0xcb3)),worksheetInputArea[_0x553b7c(0xa57)][_0x553b7c(0x8de)](_0x553b7c(0xcb3));if(_0x439adb)_0x439adb['classList'][_0x553b7c(0x8de)]('hidden');if(_0x6d383b)_0x6d383b[_0x553b7c(0xa57)]['add'](_0x553b7c(0xcb3));if(_0x4d6234)_0x4d6234[_0x553b7c(0xa57)]['add'](_0x553b7c(0xcb3));_0x591ffa['classList'][_0x553b7c(0x586)](_0x553b7c(0xcb3)),displayQuestionBank();});_0x3bef69&&(_0x3bef69[_0x34972a(0xb95)]('click',()=>{const _0x499cac=_0x34972a;_0x3bef69[_0x499cac(0xa57)]['add'](_0x499cac(0xd52)),topicTab[_0x499cac(0xa57)][_0x499cac(0x586)](_0x499cac(0xd52)),textTab[_0x499cac(0xa57)][_0x499cac(0x586)](_0x499cac(0xd52)),fileTab[_0x499cac(0xa57)][_0x499cac(0x586)](_0x499cac(0xd52)),worksheetTab['classList'][_0x499cac(0x586)](_0x499cac(0xd52));if(_0x5c911d)_0x5c911d[_0x499cac(0xa57)][_0x499cac(0x586)](_0x499cac(0xd52));if(_0x3b9c8e)_0x3b9c8e[_0x499cac(0xa57)][_0x499cac(0x586)]('active');_0x439adb[_0x499cac(0xa57)][_0x499cac(0x586)](_0x499cac(0xcb3)),topicInputArea[_0x499cac(0xa57)][_0x499cac(0x8de)]('hidden'),textInputArea['classList'][_0x499cac(0x8de)](_0x499cac(0xcb3)),fileInputArea['classList'][_0x499cac(0x8de)]('hidden'),worksheetInputArea[_0x499cac(0xa57)][_0x499cac(0x8de)](_0x499cac(0xcb3));if(_0x6d383b)_0x6d383b[_0x499cac(0xa57)][_0x499cac(0x8de)]('hidden');if(_0x4d6234)_0x4d6234[_0x499cac(0xa57)][_0x499cac(0x8de)](_0x499cac(0xcb3));}),document[_0x34972a(0x8fb)](_0x34972a(0x974))['addEventListener'](_0x34972a(0x305),handleGenerateFromLink));_0x5c911d&&_0x5c911d[_0x34972a(0xb95)]('click',()=>{const _0x4084dc=_0x34972a;_0x5c911d[_0x4084dc(0xa57)][_0x4084dc(0x8de)](_0x4084dc(0xd52)),topicTab['classList']['remove'](_0x4084dc(0xd52)),textTab[_0x4084dc(0xa57)][_0x4084dc(0x586)](_0x4084dc(0xd52)),fileTab[_0x4084dc(0xa57)][_0x4084dc(0x586)]('active'),worksheetTab[_0x4084dc(0xa57)][_0x4084dc(0x586)](_0x4084dc(0xd52));if(_0x3bef69)_0x3bef69[_0x4084dc(0xa57)][_0x4084dc(0x586)](_0x4084dc(0xd52));if(_0x11c4a6)_0x11c4a6[_0x4084dc(0xa57)][_0x4084dc(0x586)]('active');if(_0x3b9c8e)_0x3b9c8e['classList']['remove'](_0x4084dc(0xd52));_0x6d383b['classList'][_0x4084dc(0x586)]('hidden'),topicInputArea[_0x4084dc(0xa57)][_0x4084dc(0x8de)](_0x4084dc(0xcb3)),textInputArea[_0x4084dc(0xa57)][_0x4084dc(0x8de)]('hidden'),fileInputArea[_0x4084dc(0xa57)]['add'](_0x4084dc(0xcb3)),worksheetInputArea[_0x4084dc(0xa57)][_0x4084dc(0x8de)](_0x4084dc(0xcb3));if(_0x439adb)_0x439adb[_0x4084dc(0xa57)][_0x4084dc(0x8de)](_0x4084dc(0xcb3));if(_0x591ffa)_0x591ffa[_0x4084dc(0xa57)]['add'](_0x4084dc(0xcb3));if(_0x4d6234)_0x4d6234[_0x4084dc(0xa57)]['add'](_0x4084dc(0xcb3));});_0x3b9c8e&&_0x3b9c8e[_0x34972a(0xb95)]('click',()=>{const _0x357a69=_0x34972a;_0x3b9c8e[_0x357a69(0xa57)]['add'](_0x357a69(0xd52)),topicTab[_0x357a69(0xa57)][_0x357a69(0x586)](_0x357a69(0xd52)),textTab[_0x357a69(0xa57)][_0x357a69(0x586)]('active'),fileTab[_0x357a69(0xa57)][_0x357a69(0x586)]('active'),worksheetTab[_0x357a69(0xa57)][_0x357a69(0x586)](_0x357a69(0xd52));if(_0x3bef69)_0x3bef69['classList'][_0x357a69(0x586)](_0x357a69(0xd52));if(_0x5c911d)_0x5c911d['classList']['remove'](_0x357a69(0xd52));if(_0x11c4a6)_0x11c4a6[_0x357a69(0xa57)][_0x357a69(0x586)](_0x357a69(0xd52));_0x4d6234[_0x357a69(0xa57)]['remove'](_0x357a69(0xcb3)),topicInputArea[_0x357a69(0xa57)][_0x357a69(0x8de)](_0x357a69(0xcb3)),textInputArea['classList'][_0x357a69(0x8de)](_0x357a69(0xcb3)),fileInputArea['classList']['add'](_0x357a69(0xcb3)),worksheetInputArea[_0x357a69(0xa57)]['add'](_0x357a69(0xcb3));if(_0x439adb)_0x439adb[_0x357a69(0xa57)][_0x357a69(0x8de)](_0x357a69(0xcb3));if(_0x6d383b)_0x6d383b[_0x357a69(0xa57)][_0x357a69(0x8de)](_0x357a69(0xcb3));if(_0x591ffa)_0x591ffa['classList'][_0x357a69(0x8de)]('hidden');});const _0x39ef4e=document[_0x34972a(0x8fb)](_0x34972a(0x68d)),_0x5ce364=document[_0x34972a(0x8fb)]('generate-from-blueprint-btn');if(_0x39ef4e){const _0x543395=document[_0x34972a(0x8fb)](_0x34972a(0x68d)),_0x2fb2b6=document[_0x34972a(0x8fb)](_0x34972a(0x3b9)),_0xdd5789=document[_0x34972a(0x8fb)]('blueprint-options-container'),_0x429a6f=document['getElementById'](_0x34972a(0x6e3)),_0x5d8e74=document['getElementById'](_0x34972a(0x312)),_0x467199=document[_0x34972a(0x8fb)]('blueprint-topics-list');_0x543395&&_0x543395['addEventListener'](_0x34972a(0x552),async _0x56dfa1=>{const _0x4c3c83=_0x34972a;_0xdd5789[_0x4c3c83(0xa57)]['add'](_0x4c3c83(0xcb3)),_0x5d8e74['classList'][_0x4c3c83(0x8de)](_0x4c3c83(0xcb3)),_0x429a6f[_0x4c3c83(0x588)]=![],_0x2fb2b6[_0x4c3c83(0xc96)]=!![];const _0x40202a=_0x56dfa1[_0x4c3c83(0x748)][_0x4c3c83(0xa28)][0x0];if(_0x40202a){_0x2fb2b6[_0x4c3c83(0xc96)]=![];try{const _0x791c52=await extractTextFromPdf(_0x40202a);await analyzeBlueprintForTopics(_0x791c52);}catch(_0x7382c){showMessage(_0x4c3c83(0xb5f)),_0xdd5789[_0x4c3c83(0xa57)][_0x4c3c83(0x8de)](_0x4c3c83(0xcb3));}}}),_0x429a6f&&_0x429a6f[_0x34972a(0xb95)](_0x34972a(0x552),_0x17ebc8=>{const _0x12524e=_0x34972a,_0x18b12e=_0x17ebc8[_0x12524e(0x748)]['checked'];_0x5d8e74[_0x12524e(0xa57)][_0x12524e(0x636)](_0x12524e(0xcb3),!_0x18b12e),_0x2fb2b6[_0x12524e(0xc96)]=_0x18b12e;}),_0x467199&&(_0x467199&&_0x467199[_0x34972a(0xb95)](_0x34972a(0x305),_0x3a5008=>{const _0x1b9ad5=_0x34972a,_0x285efe=_0x3a5008[_0x1b9ad5(0x748)][_0x1b9ad5(0x762)]('.topic-selection-btn'),_0x46aac9=_0x3a5008[_0x1b9ad5(0x748)][_0x1b9ad5(0x762)](_0x1b9ad5(0x651));if(_0x285efe){const _0x558fb9=unescape(_0x285efe[_0x1b9ad5(0x87f)]['topic']);generateQuizForSingleTopic(_0x558fb9);}else{if(_0x46aac9){const _0x318590=unescape(_0x46aac9[_0x1b9ad5(0x87f)][_0x1b9ad5(0xb19)]);handleGenerateTeachingContent(_0x318590);}}}));}_0x5ce364&&_0x5ce364[_0x34972a(0xb95)]('click',handleGenerateFromBlueprint);const _0x16def2=document[_0x34972a(0x8fb)](_0x34972a(0x3bc)),_0x55faac=document[_0x34972a(0x8fb)](_0x34972a(0xc41));_0x16def2&&_0x16def2[_0x34972a(0xb95)](_0x34972a(0x552),_0x5ab270=>{const _0x1a4e2e=_0x34972a;_0x55faac[_0x1a4e2e(0xc96)]=_0x5ab270[_0x1a4e2e(0x748)]['files'][_0x1a4e2e(0x7c7)]===0x0;});_0x55faac&&_0x55faac[_0x34972a(0xb95)]('click',()=>{handleGenerateParallelTest();});loadQuizBtn[_0x34972a(0xb95)](_0x34972a(0x305),handleLoadQuiz),startQuizBtn[_0x34972a(0xb95)](_0x34972a(0x305),async()=>{const _0x35de70=_0x34972a,_0x36dd1a=document['getElementById'](_0x35de70(0x414));currentStudentName=_0x36dd1a['value'];if(!currentStudentName){showMessage(_0x35de70(0xaa3));return;}try{const _0x3ce157=currentQuizData['id'],_0x10547b=doc(db,_0x35de70(0x73f)+appId+'/public/data/quizzes/'+_0x3ce157+'/submissions',currentStudentName),_0xa8257d=await getDoc(_0x10547b);!_0xa8257d['exists']()?await setDoc(_0x10547b,{'studentName':currentStudentName,'startedAt':new Date()[_0x35de70(0x234)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x10547b,{'startedAt':new Date()[_0x35de70(0x234)]()});}catch(_0x446be3){console[_0x35de70(0xd73)](_0x35de70(0x264),_0x446be3),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0x35de70(0xa57)]['add'](_0x35de70(0xcb3)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x34972a(0x8fb)](_0x34972a(0xd0d))[_0x34972a(0xb95)](_0x34972a(0x305),showJoinGameView),document[_0x34972a(0x8fb)]('confirm-join-game-btn')[_0x34972a(0xb95)](_0x34972a(0x305),handleJoinLiveGame),document[_0x34972a(0x8fb)](_0x34972a(0xb22))[_0x34972a(0xb95)](_0x34972a(0x305),()=>showView(_0x34972a(0x79f)));const _0x403e0e=()=>{const _0x4d0a5a=_0x34972a,_0x252687=document[_0x4d0a5a(0x8fb)](_0x4d0a5a(0x5a9))['textContent'][_0x4d0a5a(0x50a)](/[^a-z0-9]/gi,'_')[_0x4d0a5a(0xb4d)]();return'results_'+(_0x252687||_0x4d0a5a(0x7ca));},_0x452821=document[_0x34972a(0x8fb)](_0x34972a(0x2b3));_0x452821&&_0x452821[_0x34972a(0xb95)](_0x34972a(0xc65),_0x5d3120=>{const _0x59e1e6=_0x34972a,_0x426f19=_0x5d3120['target']['value'][_0x59e1e6(0xb4d)]()[_0x59e1e6(0x6a8)](),_0x4e967d=document[_0x59e1e6(0x8fb)]('math-topics-checkbox-container'),_0x3cada6=_0x4e967d[_0x59e1e6(0x6aa)](_0x59e1e6(0x299));_0x3cada6[_0x59e1e6(0x71e)](_0x46426e=>{const _0x1f0ba8=_0x59e1e6;let _0x9c298=![];const _0x2c818d=_0x46426e['querySelectorAll'](_0x1f0ba8(0xc8c));_0x2c818d['forEach'](_0x42cb57=>{const _0x7adecb=_0x1f0ba8,_0x16ea12=_0x42cb57[_0x7adecb(0xa01)](_0x7adecb(0x94f))[_0x7adecb(0xa47)]['toLowerCase']();_0x16ea12[_0x7adecb(0x44e)](_0x426f19)?(_0x42cb57['style'][_0x7adecb(0x8fc)]=_0x7adecb(0x97e),_0x9c298=!![]):_0x42cb57[_0x7adecb(0x4b4)]['display']=_0x7adecb(0x6dd);}),_0x9c298?_0x46426e[_0x1f0ba8(0x4b4)][_0x1f0ba8(0x8fc)]=_0x1f0ba8(0x600):_0x46426e[_0x1f0ba8(0x4b4)]['display']=_0x1f0ba8(0x6dd);});});document[_0x34972a(0x8fb)](_0x34972a(0x27a))[_0x34972a(0xb95)](_0x34972a(0x305),()=>exportTableAsImage(_0x34972a(0x30f),_0x403e0e())),document['getElementById'](_0x34972a(0x6a9))['addEventListener']('click',()=>exportTableAsPDF(_0x34972a(0xbd1),_0x403e0e())),document['getElementById']('export-word-btn')[_0x34972a(0xb95)](_0x34972a(0x305),()=>exportTableAsWord(_0x34972a(0x30f),_0x403e0e())),document[_0x34972a(0x8fb)](_0x34972a(0xd94))['addEventListener'](_0x34972a(0x305),()=>exportTableAsExcel(_0x34972a(0xbd1),_0x403e0e()));const _0x4cd5b1=()=>{const _0x47c2ca=_0x34972a,_0x296afe=document[_0x47c2ca(0x8fb)](_0x47c2ca(0x5a9))[_0x47c2ca(0xa47)][_0x47c2ca(0x50a)](/[^a-z0-9]/gi,'_')[_0x47c2ca(0xb4d)]();return'leaderboard_'+(_0x296afe||_0x47c2ca(0x7ca));};document[_0x34972a(0x8fb)](_0x34972a(0x83e))[_0x34972a(0xb95)]('click',()=>exportTableAsImage(_0x34972a(0x8ce),_0x4cd5b1())),document[_0x34972a(0x8fb)](_0x34972a(0x5e7))[_0x34972a(0xb95)]('click',()=>exportTableAsPDF(_0x34972a(0x3d6),_0x4cd5b1())),document[_0x34972a(0x8fb)]('export-leaderboard-word-btn')[_0x34972a(0xb95)](_0x34972a(0x305),()=>exportTableAsWord(_0x34972a(0x8ce),_0x4cd5b1())),document[_0x34972a(0x8fb)](_0x34972a(0x52a))[_0x34972a(0xb95)](_0x34972a(0x305),()=>exportTableAsExcel(_0x34972a(0x3d6),_0x4cd5b1())),projectQuizzesList['addEventListener'](_0x34972a(0x305),async _0x2e0213=>{const _0x3b085e=_0x34972a,_0x4f16f0=_0x2e0213['target'][_0x3b085e(0x762)](_0x3b085e(0x408)),_0x537f18=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)](_0x3b085e(0x62d)),_0x2ad538=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)](_0x3b085e(0x604)),_0x2a7cb0=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)](_0x3b085e(0xa3b)),_0x22522e=_0x2e0213[_0x3b085e(0x748)]['closest']('.star-quiz-btn'),_0x49c882=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)](_0x3b085e(0x7d2)),_0x27ec75=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)](_0x3b085e(0x37a)),_0x34822f=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)](_0x3b085e(0xddf)),_0x43e782=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)]('.duplicate-quiz-btn'),_0x4aeb4d=_0x2e0213[_0x3b085e(0x748)]['closest'](_0x3b085e(0x7a8)),_0x55ffd5=_0x2e0213['target'][_0x3b085e(0x762)](_0x3b085e(0x78d)),_0xfc6c60=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)]('.move-quiz-btn'),_0xba7c31=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)](_0x3b085e(0x30e)),_0x5dfb63=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)](_0x3b085e(0x9dc)),_0x1e5fe1=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)](_0x3b085e(0x6de)),_0x15af2e=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)]('.admin-try-quiz-list-btn'),_0x15db4f=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)]('.export-pdf-list-btn'),_0x3a4022=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)](_0x3b085e(0x340)),_0x25696e=_0x2e0213['target'][_0x3b085e(0x762)](_0x3b085e(0xcfc)),_0x159426=_0x2e0213['target'][_0x3b085e(0x762)](_0x3b085e(0x5ee)),_0x2d1efd=_0x2e0213[_0x3b085e(0x748)]['closest'](_0x3b085e(0x6bf)),_0x56f68a=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)]('.start-game-btn'),_0x5455dc=_0x2e0213[_0x3b085e(0x748)][_0x3b085e(0x762)](_0x3b085e(0x4d3));if(_0x56f68a){const _0x4a7860=_0x56f68a['dataset']['quizId'],_0x46738c=_0x56f68a[_0x3b085e(0x87f)][_0x3b085e(0x8bf)],_0x3241a2=allQuizzes['find'](_0x7d040=>_0x7d040['id']===_0x4a7860);_0x3241a2&&showGameStartConfirmationModal(_0x4a7860,_0x46738c,_0x3241a2[_0x3b085e(0xb19)]);}else{if(_0x5455dc){const _0x843aba=_0x5455dc[_0x3b085e(0x87f)][_0x3b085e(0xcbc)];handleStartLiveRace(_0x843aba);}else{if(_0x159426){const _0x3b754c=_0x159426[_0x3b085e(0x87f)][_0x3b085e(0xcbc)],_0x182096=document['getElementById'](_0x3b085e(0xcc5)+_0x3b754c);_0x182096&&_0x182096[_0x3b085e(0xa57)][_0x3b085e(0x636)](_0x3b085e(0xcb3));}else{if(_0x537f18){const _0x402f96=_0x537f18['dataset'][_0x3b085e(0xcbc)],_0x2c8b12=allQuizzes['find'](_0xbc4731=>_0xbc4731['id']===_0x402f96);_0x2c8b12&&handleGenerateParallelPostTest(_0x2c8b12);}else{if(_0x2ad538)handleCompareResults(_0x2ad538[_0x3b085e(0x87f)][_0x3b085e(0xcbc)],_0x2ad538['dataset'][_0x3b085e(0x94d)]);else{if(_0x2a7cb0){const _0x310768=_0x2a7cb0[_0x3b085e(0x87f)]['quizId'],_0xb48050=allQuizzes['find'](_0xf7b09e=>_0xf7b09e['id']===_0x310768);_0xb48050&&_0xb48050[_0x3b085e(0x300)]?(displayLessonPlan(_0xb48050[_0x3b085e(0x300)],_0xb48050),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x310768)),document[_0x3b085e(0x8fb)](_0x3b085e(0xadb))['querySelector']('h3')['textContent']='แผนการสอน',document[_0x3b085e(0x8fb)]('confirm-delete-btn')['textContent']='สร้างใหม่'):handleGenerateLessonPlan(_0x310768);}else{if(_0x22522e)handleToggleStarQuiz(_0x22522e[_0x3b085e(0x87f)][_0x3b085e(0xcbc)]);else{if(_0x49c882)copyTextToClipboard(_0x49c882[_0x3b085e(0x87f)][_0x3b085e(0xcbc)],_0x3b085e(0x7b9));else{if(_0x27ec75)handleOpenQuizEditor(_0x27ec75['dataset'][_0x3b085e(0xcbc)]);else{if(_0x34822f)handleQuizSettings(_0x34822f[_0x3b085e(0x87f)][_0x3b085e(0xcbc)]);else{if(_0x43e782)handleDuplicateQuiz(_0x43e782[_0x3b085e(0x87f)][_0x3b085e(0xcbc)]);else{if(_0x4aeb4d)handleRenameQuiz(_0x4aeb4d[_0x3b085e(0x87f)]['quizId'],_0x4aeb4d[_0x3b085e(0x87f)][_0x3b085e(0xb19)]);else{if(_0x55ffd5){const _0x4ac2df=_0x55ffd5['dataset'][_0x3b085e(0xcbc)],_0x303927=allQuizzes[_0x3b085e(0xaf7)](_0xaed6d8=>_0xaed6d8['id']===_0x4ac2df);_0x303927&&handleGenerateParallelFromBank(_0x303927);}else{if(_0xfc6c60)handleMoveQuiz(_0xfc6c60[_0x3b085e(0x87f)][_0x3b085e(0xcbc)]);else{if(_0xba7c31)handleManualQuizPairing(_0xba7c31[_0x3b085e(0x87f)][_0x3b085e(0xcbc)]);else{if(_0x5dfb63)handleUnpairQuiz(_0x5dfb63[_0x3b085e(0x87f)][_0x3b085e(0xcbc)]);else{if(_0x1e5fe1){const _0x47e972=_0x1e5fe1[_0x3b085e(0x87f)]['quizId'],_0x5d6ffc=allQuizzes[_0x3b085e(0xaf7)](_0x59740f=>_0x59740f['id']===_0x47e972);if(_0x5d6ffc)startPresentation(_0x5d6ffc);}else{if(_0x15af2e){const _0x249efd=_0x15af2e[_0x3b085e(0x87f)][_0x3b085e(0xcbc)],_0x302c54=allQuizzes[_0x3b085e(0xaf7)](_0x4ba066=>_0x4ba066['id']===_0x249efd);_0x302c54&&(currentQuizData=_0x302c54,startAdminTest());}else{if(_0x15db4f)actionTargetId=_0x15db4f['dataset'][_0x3b085e(0xcbc)],document[_0x3b085e(0x8fb)](_0x3b085e(0x3aa))[_0x3b085e(0xa57)]['remove']('hidden');else{if(_0x3a4022)showConfirmation(_0x3b085e(0x215)+_0x3a4022[_0x3b085e(0x87f)][_0x3b085e(0xb19)]+_0x3b085e(0x998),()=>handleDeleteQuiz(_0x3a4022[_0x3b085e(0x87f)][_0x3b085e(0xcbc)]));else{if(_0x25696e)handleQuizStatus(_0x25696e['dataset'][_0x3b085e(0xcbc)]);else{if(_0x2d1efd)handleGenerateEasyVersionQuiz(_0x2d1efd['dataset'][_0x3b085e(0xcbc)]);else _0x4f16f0&&showQuizDetailView(_0x4f16f0['dataset'][_0x3b085e(0xcbc)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x34972a(0x8fb)](_0x34972a(0x55a))[_0x34972a(0xb95)](_0x34972a(0x305),()=>showView(_0x34972a(0x79f))),document[_0x34972a(0x8fb)](_0x34972a(0x301))[_0x34972a(0xb95)]('click',confirmAndStartTeamQuiz),document[_0x34972a(0x8fb)]('quiz-leaderboard-table')[_0x34972a(0xa01)](_0x34972a(0xdac))['addEventListener'](_0x34972a(0x305),_0x2d06e7=>{const _0x329c16=_0x34972a,_0x4b2889=_0x2d06e7['target']['closest'](_0x329c16(0xbdc));if(!_0x4b2889||!_0x4b2889[_0x329c16(0x87f)][_0x329c16(0xcbf)])return;const _0x1d395c=_0x4b2889[_0x329c16(0x87f)][_0x329c16(0xcbf)];if(quizLeaderboardSortBy===_0x1d395c)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x329c16(0xdcd)?_0x329c16(0x5e2):'asc';else{quizLeaderboardSortBy=_0x1d395c;const _0xe49890=[_0x329c16(0x1f5)];quizLeaderboardSortOrder=_0xe49890['includes'](_0x1d395c)?_0x329c16(0xdcd):_0x329c16(0x5e2);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x329c16(0x511));}),document[_0x34972a(0x8fb)](_0x34972a(0x2b2))[_0x34972a(0xb95)](_0x34972a(0x305),closePresentation),document[_0x34972a(0x8fb)](_0x34972a(0xbcd))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById']('next-question-btn')[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x894c0d=_0x34972a;currentQuizData[_0x894c0d(0x4a2)]&&currentPresentationSlide<currentQuizData[_0x894c0d(0x4a2)][_0x894c0d(0x7c7)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x34972a(0xb95)]('fullscreenchange',()=>{const _0x18e2ab=_0x34972a;!document['fullscreenElement']&&(presentationModal[_0x18e2ab(0x4b4)]['display']='none');}),document[_0x34972a(0x8fb)](_0x34972a(0x77b))[_0x34972a(0xb95)](_0x34972a(0x305),handleDeleteAllStudents),studentList[_0x34972a(0xb95)]('click',_0x3d5baf=>{const _0x5f49c6=_0x34972a,_0x323927=_0x3d5baf['target'][_0x5f49c6(0x762)](_0x5f49c6(0xa11));if(_0x323927){const _0x370e26=_0x323927[_0x5f49c6(0x87f)]['studentName'];handleDeleteStudent(_0x370e26);}}),document[_0x34972a(0x8fb)](_0x34972a(0x807))[_0x34972a(0xb95)](_0x34972a(0x305),handleGenerateFromFileClick),fileUploadInput[_0x34972a(0xb95)]('change',_0x2bdf46=>{const _0x34086b=_0x34972a,_0x3813e9=_0x2bdf46[_0x34086b(0x748)][_0x34086b(0xa28)][0x0],_0x73a409=document[_0x34086b(0x8fb)](_0x34086b(0x807)),_0x5d88b8=document[_0x34086b(0x8fb)](_0x34086b(0x738)),_0xa4f9b1=document[_0x34086b(0x8fb)]('separate-by-content-from-file-checkbox');_0x3813e9?(selectedFile=_0x3813e9,_0xa4f9b1[_0x34086b(0x588)]?(_0x73a409[_0x34086b(0xc96)]=!![],analyzeFileForTopics(_0x3813e9)):(_0x73a409[_0x34086b(0xc96)]=![],_0x5d88b8['classList'][_0x34086b(0x8de)]('hidden'))):(selectedFile=null,_0x73a409[_0x34086b(0xc96)]=!![],_0x5d88b8['classList'][_0x34086b(0x8de)]('hidden'));}),document[_0x34972a(0x8fb)](_0x34972a(0x31f))['addEventListener']('change',_0x46edba=>{const _0x28bc81=_0x34972a,_0x2d181f=_0x46edba['target'][_0x28bc81(0x588)],_0x5be4fb=document[_0x28bc81(0x8fb)](_0x28bc81(0x807)),_0x21fc02=document[_0x28bc81(0x8fb)]('file-topics-list-container');_0x2d181f?(_0x5be4fb[_0x28bc81(0xc96)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x21fc02[_0x28bc81(0xa57)][_0x28bc81(0x586)](_0x28bc81(0xcb3)),document[_0x28bc81(0x8fb)](_0x28bc81(0x255))['innerHTML']=_0x28bc81(0x4c4))):(_0x21fc02[_0x28bc81(0xa57)][_0x28bc81(0x8de)](_0x28bc81(0xcb3)),_0x5be4fb[_0x28bc81(0xc96)]=!selectedFile);}),document[_0x34972a(0x8fb)]('file-topics-list-container')[_0x34972a(0xb95)]('click',_0x2797de=>{const _0x163a92=_0x34972a,_0x1b86e1=_0x2797de[_0x163a92(0x748)][_0x163a92(0x762)](_0x163a92(0x323)),_0x3baa0f=_0x2797de[_0x163a92(0x748)]['closest'](_0x163a92(0x651));if(_0x1b86e1){const _0x39b63f=unescape(_0x1b86e1[_0x163a92(0x87f)][_0x163a92(0xb19)]);generateHybridQuizForTopic(_0x39b63f);}else{if(_0x3baa0f){const _0x13c997=unescape(_0x3baa0f['dataset'][_0x163a92(0xb19)]),_0x223a7a=document['getElementById'](_0x163a92(0xd6a))[_0x163a92(0x3d4)];handleGenerateAndShowLesson(_0x13c997,_0x223a7a);}}}),document[_0x34972a(0x8fb)]('timer-mode-select')[_0x34972a(0xb95)](_0x34972a(0x552),_0x58001d=>{const _0x533681=_0x34972a,_0x61a3da=document[_0x533681(0x8fb)](_0x533681(0x2e1)),_0x30b17e=document[_0x533681(0x8fb)](_0x533681(0x5cb)),_0x22239a=document[_0x533681(0x8fb)](_0x533681(0xb37));_0x58001d['target'][_0x533681(0x3d4)]===_0x533681(0x6dd)?_0x61a3da[_0x533681(0xa57)][_0x533681(0x8de)]('hidden'):(_0x61a3da[_0x533681(0xa57)]['remove'](_0x533681(0xcb3)),_0x58001d[_0x533681(0x748)][_0x533681(0x3d4)]===_0x533681(0x663)?(_0x30b17e[_0x533681(0xa47)]=_0x533681(0xb49),_0x22239a[_0x533681(0x3d4)]='10'):(_0x30b17e[_0x533681(0xa47)]='ระยะเวลา\x20(วินาที):',_0x22239a['value']='30'));}),document['getElementById'](_0x34972a(0x228))[_0x34972a(0xb95)](_0x34972a(0x552),_0x4a929a=>{const _0x586f0f=_0x34972a,_0x2d71fc=document[_0x586f0f(0x8fb)]('num-choices-container'),_0x41039a=_0x4a929a[_0x586f0f(0x748)][_0x586f0f(0x3d4)],_0xc8bab5=document[_0x586f0f(0xa01)]('label[for=\x22num-questions\x22]'),_0x45d91a=document[_0x586f0f(0x8fb)](_0x586f0f(0x57c)),_0x1080c4=document[_0x586f0f(0x8fb)](_0x586f0f(0x1f0));_0x41039a==='matching'?_0xc8bab5[_0x586f0f(0xa47)]='จำนวนคู่:':_0xc8bab5['textContent']=_0x586f0f(0xda4),_0x41039a==='multiple_choice'||_0x41039a===_0x586f0f(0x316)||_0x41039a===_0x586f0f(0xae4)?_0x2d71fc[_0x586f0f(0xa57)][_0x586f0f(0x586)](_0x586f0f(0xcb3)):_0x2d71fc[_0x586f0f(0xa57)]['add']('hidden'),_0x45d91a[_0x586f0f(0xcd3)]=_0x1080c4[_0x586f0f(0x3d4)];}),document['getElementById']('num-questions')[_0x34972a(0xb95)](_0x34972a(0xc65),_0x3f35b6=>{const _0x33b6a5=_0x34972a;document[_0x33b6a5(0x8fb)]('passing-score-input')[_0x33b6a5(0xcd3)]=_0x3f35b6['target']['value'];}),document[_0x34972a(0x8fb)]('modal-timer-mode-select')[_0x34972a(0xb95)]('change',_0x3c2505=>{const _0x3bcdd4=_0x34972a,_0x23a509=document[_0x3bcdd4(0x8fb)](_0x3bcdd4(0x9c8)),_0x318c91=document[_0x3bcdd4(0x8fb)]('modal-timer-duration-label'),_0x5c0b13=document[_0x3bcdd4(0x8fb)](_0x3bcdd4(0xd81));_0x3c2505[_0x3bcdd4(0x748)][_0x3bcdd4(0x3d4)]==='none'?_0x23a509['classList'][_0x3bcdd4(0x8de)](_0x3bcdd4(0xcb3)):(_0x23a509[_0x3bcdd4(0xa57)][_0x3bcdd4(0x586)](_0x3bcdd4(0xcb3)),_0x3c2505[_0x3bcdd4(0x748)][_0x3bcdd4(0x3d4)]==='whole_quiz'?_0x318c91[_0x3bcdd4(0xa47)]=_0x3bcdd4(0xb49):_0x318c91[_0x3bcdd4(0xa47)]=_0x3bcdd4(0xc53));}),document[_0x34972a(0x8fb)]('cancel-quiz-edits-btn')['addEventListener']('click',()=>{const _0x4fb30=_0x34972a;document['getElementById'](_0x4fb30(0x4fd))['classList'][_0x4fb30(0x8de)](_0x4fb30(0xcb3));}),document[_0x34972a(0x8fb)](_0x34972a(0x2c9))['addEventListener']('click',()=>{const _0x2cb11a=_0x34972a;document[_0x2cb11a(0x8fb)]('quiz-editor-modal')[_0x2cb11a(0xa57)][_0x2cb11a(0x8de)]('hidden');}),document['getElementById'](_0x34972a(0xd53))['addEventListener'](_0x34972a(0x305),handleVerifyAnswersInEditor),document[_0x34972a(0x8fb)]('save-quiz-edits-btn')[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x37225c=_0x34972a;document[_0x37225c(0x8fb)](_0x37225c(0x4fd))[_0x37225c(0xa57)][_0x37225c(0x8de)](_0x37225c(0xcb3)),showConfirmation(_0x37225c(0xa2b),handleSaveChanges);}),document['getElementById'](_0x34972a(0x33b))['addEventListener'](_0x34972a(0x305),handleAutoFixLatex);const _0x4a547e=document[_0x34972a(0x8fb)](_0x34972a(0x526));_0x4a547e&&_0x4a547e[_0x34972a(0xb95)](_0x34972a(0x305),_0x5a5699=>{const _0x1c791e=_0x34972a,_0x216575=_0x5a5699[_0x1c791e(0x748)][_0x1c791e(0x762)]('.regenerate-question-editor-btn');if(_0x216575){const _0x3e6f10=_0x216575['closest'](_0x1c791e(0x617)),_0x5eba32=parseInt(_0x3e6f10[_0x1c791e(0x87f)][_0x1c791e(0x6d9)],0xa);handleRegenerateQuestionInEditor(_0x5eba32);return;}const _0x245887=_0x5a5699[_0x1c791e(0x748)]['closest'](_0x1c791e(0x434));if(_0x245887){const _0x7d647e=_0x245887[_0x1c791e(0x762)](_0x1c791e(0x617)),_0x4799ce=parseInt(_0x7d647e[_0x1c791e(0x87f)][_0x1c791e(0x6d9)],0xa);handleDeleteQuestionInEditor(_0x4799ce);return;}const _0x3546cb=_0x5a5699[_0x1c791e(0x748)][_0x1c791e(0x762)](_0x1c791e(0xa25));if(_0x3546cb){handleAddQuestionInEditor();return;}});document[_0x34972a(0x8fb)](_0x34972a(0xbb8))[_0x34972a(0xb95)](_0x34972a(0x305),openQuizBankModal),document['getElementById'](_0x34972a(0xa66))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x357d44=_0x34972a;document[_0x357d44(0x8fb)](_0x357d44(0xb75))[_0x357d44(0xa57)][_0x357d44(0x8de)]('hidden');}),document[_0x34972a(0x8fb)](_0x34972a(0x7a7))[_0x34972a(0xb95)]('input',_0x39f8bb=>renderQuizBankList(_0x39f8bb['target']['value']));const _0x2b6776=document['getElementById'](_0x34972a(0xc87));if(_0x2b6776){let _0x3f3c34=null;_0x2b6776['addEventListener']('click',_0x19be68=>{const _0x32c13f=_0x34972a,_0x3015bd=_0x19be68[_0x32c13f(0x748)],_0xe07964=_0x3015bd[_0x32c13f(0x762)](_0x32c13f(0xd64)),_0x378831=_0x3015bd[_0x32c13f(0x762)]('.delete-custom-topic-btn'),_0x5c6a95=_0x3015bd[_0x32c13f(0x762)](_0x32c13f(0x6ad)),_0xf39d11=_0x3015bd[_0x32c13f(0x762)](_0x32c13f(0xd75));if(_0x378831){_0x19be68[_0x32c13f(0xc6f)]();const _0x5c83fd=_0x378831['dataset']['id'],_0xd442cd=_0x378831[_0x32c13f(0x762)](_0x32c13f(0x2a9))[_0x32c13f(0xa01)]('.topic-name-display')[_0x32c13f(0xa47)];showConfirmation(_0x32c13f(0x718)+_0xd442cd+'\x22?',()=>handleDeleteCustomTopic(_0x5c83fd));}else{if(_0xe07964){_0x19be68['preventDefault']();_0x3f3c34&&toggleTopicEditMode(_0x3f3c34,![]);const _0x3083c3=_0xe07964[_0x32c13f(0x762)](_0x32c13f(0x5ba));_0x3f3c34=_0x3083c3,toggleTopicEditMode(_0x3083c3,!![]);}else{if(_0x5c6a95){_0x19be68[_0x32c13f(0xc6f)]();const _0x32d9de=_0x5c6a95[_0x32c13f(0x87f)]['id'],_0x1ec567=_0x5c6a95['closest'](_0x32c13f(0x5ba)),_0x3dd49d=_0x1ec567[_0x32c13f(0xa01)](_0x32c13f(0x34d))[_0x32c13f(0x3d4)];handleUpdateCustomTopic(_0x32d9de,_0x3dd49d),_0x3f3c34=null;}else{if(_0xf39d11){_0x19be68[_0x32c13f(0xc6f)]();const _0x54c795=_0xf39d11[_0x32c13f(0x762)]('[data-topic-container-id]');toggleTopicEditMode(_0x54c795,![]),_0x3f3c34=null;}}}}}),document['getElementById'](_0x34972a(0x707))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x540bf5=_0x34972a;document[_0x540bf5(0x8fb)]('lesson-plan-modal')['classList']['add'](_0x540bf5(0xcb3));}),document['getElementById'](_0x34972a(0x5d1))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x3f1665=_0x34972a;document[_0x3f1665(0x8fb)](_0x3f1665(0x7c4))['classList'][_0x3f1665(0x8de)](_0x3f1665(0xcb3));}),document[_0x34972a(0x8fb)](_0x34972a(0x9f0))['addEventListener'](_0x34972a(0x305),handleExportLessonPDF);}document['getElementById']('close-comparison-modal-btn')[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x355232=_0x34972a;document[_0x355232(0x8fb)](_0x355232(0x7b8))[_0x355232(0xa57)][_0x355232(0x8de)]('hidden');}),document[_0x34972a(0x8fb)](_0x34972a(0x5db))[_0x34972a(0xb95)](_0x34972a(0x305),()=>{const _0x3775fc=_0x34972a;document[_0x3775fc(0x8fb)](_0x3775fc(0x7b8))[_0x3775fc(0xa57)][_0x3775fc(0x8de)](_0x3775fc(0xcb3));}),setupComparisonModalTabs(),document[_0x34972a(0x587)][_0x34972a(0xb95)](_0x34972a(0x305),function(_0x197e90){const _0x5b6178=_0x34972a;if(_0x197e90['target'][_0x5b6178(0xa57)][_0x5b6178(0x28c)](_0x5b6178(0x4ef))){const _0x3331a7=unescape(_0x197e90[_0x5b6178(0x748)]['dataset'][_0x5b6178(0xb19)]);startSkillPractice(_0x3331a7);}}),document['getElementById'](_0x34972a(0xc88))[_0x34972a(0xb95)](_0x34972a(0x305),_0x47290d=>{const _0x231ea3=_0x34972a,_0x442ced=_0x47290d[_0x231ea3(0x748)][_0x231ea3(0x762)]('.delete-submission-btn');if(_0x442ced){const _0x29e520=_0x442ced[_0x231ea3(0x87f)][_0x231ea3(0x1f5)];handleDeleteSubmission(_0x29e520);}});}async function handleStartGroupMode(_0x5e03fb,_0x2c6ad2=![]){const _0x52de43=_0xa39756,_0x4799a0=allQuizzes[_0x52de43(0xaf7)](_0x3e586d=>_0x3e586d['id']===_0x5e03fb)||allQuizzesGlobal[_0x52de43(0xaf7)](_0x50ecc5=>_0x50ecc5['id']===_0x5e03fb);if(!_0x4799a0){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x4799a0);const _0x5bc111=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x52de43(0x2e7)]();try{const _0x21e9c4=await addDoc(collection(db,'artifacts/'+appId+_0x52de43(0x8d3)),{'quizId':_0x4799a0['id'],'projectId':_0x4799a0[_0x52de43(0xa68)],'status':_0x52de43(0xa07),'pin':_0x5bc111,'mode':_0x52de43(0x7d5),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2c6ad2});currentTeamQuizId=_0x21e9c4['id'],showView(_0x52de43(0xd10)),renderAdminTeamQuizDashboard(_0x5bc111,_0x4799a0[_0x52de43(0xb19)],_0x52de43(0x7d5)),listenForTeamQuizUpdates();}catch(_0x1c1b60){console[_0x52de43(0xd73)]('Error\x20starting\x20group\x20quiz:',_0x1c1b60),showMessage(_0x52de43(0x61b));}}async function showStudentProgressView(){const _0x4daed8=_0xa39756;studentInitialView[_0x4daed8(0xa57)][_0x4daed8(0x8de)](_0x4daed8(0xcb3)),document['getElementById'](_0x4daed8(0x4e6))['classList'][_0x4daed8(0x586)](_0x4daed8(0xcb3));const _0x51f42b=document['getElementById']('progress-project-select'),_0x2e7881=document['getElementById']('progress-student-select'),_0x500082=document[_0x4daed8(0x8fb)](_0x4daed8(0x9bb));_0x500082[_0x4daed8(0x878)]=_0x4daed8(0x514),_0x2e7881[_0x4daed8(0x878)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x2e7881[_0x4daed8(0xc96)]=!![],_0x51f42b[_0x4daed8(0x878)]=_0x4daed8(0x5ce);if(allProjects[_0x4daed8(0x7c7)]===0x0){const _0x3f1984=collection(db,_0x4daed8(0x73f)+appId+'/public/data/projects'),_0x263d03=await getDocs(_0x3f1984);allProjects=_0x263d03[_0x4daed8(0x485)][_0x4daed8(0x218)](_0xc7e057=>({'id':_0xc7e057['id'],..._0xc7e057[_0x4daed8(0x3d7)]()}));}const _0x4f82ac=allProjects[_0x4daed8(0x4da)](_0x4a84b6=>_0x4a84b6[_0x4daed8(0x486)]?.['showInStudentDashboard']!==![]);_0x4f82ac[_0x4daed8(0xcbf)]((_0x3e48b8,_0x12c6bd)=>_0x3e48b8[_0x4daed8(0x437)][_0x4daed8(0xa04)](_0x12c6bd['projectName'],'th')),_0x51f42b[_0x4daed8(0x878)]=_0x4daed8(0xc9e)+_0x4f82ac['map'](_0x569124=>_0x4daed8(0xbb2)+_0x569124['id']+'\x22>'+_0x569124[_0x4daed8(0x437)]+_0x4daed8(0x3de))[_0x4daed8(0xb7d)](''),_0x51f42b['onchange']=()=>{const _0xf78516=_0x4daed8,_0x1b36a7=_0x2e7881[_0xf78516(0x3d4)],_0x345a23=_0x51f42b[_0xf78516(0x3d4)];_0x2e7881[_0xf78516(0xc96)]=!![],_0x2e7881[_0xf78516(0x878)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x500082[_0xf78516(0x878)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x345a23)return;const _0x5ae242=allProjects['find'](_0x2bd82b=>_0x2bd82b['id']===_0x345a23);if(!_0x5ae242||!_0x5ae242['students'])return;const _0x975c34=()=>{const _0x268560=_0xf78516;_0x2e7881[_0x268560(0x878)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x5ae242['students'][_0x268560(0x218)](_0x345ff9=>'<option\x20value=\x22'+_0x345ff9+'\x22>'+_0x345ff9+_0x268560(0x3de))[_0x268560(0xb7d)](''),_0x2e7881[_0x268560(0xc96)]=![];const _0x575e5b=Array['from'](_0x2e7881[_0x268560(0x9af)])[_0x268560(0x218)](_0x4e7cce=>_0x4e7cce[_0x268560(0x3d4)]);if(_0x1b36a7&&_0x575e5b[_0x268560(0x44e)](_0x1b36a7))_0x2e7881[_0x268560(0x3d4)]=_0x1b36a7,_0x2e7881[_0x268560(0x9a2)](new Event(_0x268560(0x552)));else _0x5ae242[_0x268560(0xcc6)][_0x268560(0x7c7)]===0x1&&(_0x2e7881[_0x268560(0x3d4)]=_0x5ae242[_0x268560(0xcc6)][0x0],_0x2e7881[_0x268560(0x9a2)](new Event('change')));};if(_0x5ae242[_0xf78516(0x486)]?.[_0xf78516(0x87b)]){if(sessionStorage['getItem'](_0xf78516(0x306)+_0x345a23)===_0xf78516(0x9b7)){_0x975c34();return;}const _0xde2e5c=document[_0xf78516(0x8fb)](_0xf78516(0xde3)),_0x2c637c=document[_0xf78516(0x8fb)]('confirm-passcode-btn'),_0x1262a8=document['getElementById'](_0xf78516(0x482)),_0x41dee4=document[_0xf78516(0x8fb)]('student-passcode-input'),_0x180023=document['getElementById'](_0xf78516(0x321));document['getElementById']('passcode-prompt-message')[_0xf78516(0xa47)]=_0xf78516(0x6f9)+_0x5ae242[_0xf78516(0x437)],_0x41dee4[_0xf78516(0x3d4)]='',_0x180023[_0xf78516(0xa57)][_0xf78516(0x8de)](_0xf78516(0xcb3)),_0xde2e5c['classList'][_0xf78516(0x586)]('hidden');const _0x5c347e=()=>{const _0x438e17=_0xf78516,_0x41eb52=_0x41dee4[_0x438e17(0x3d4)]['trim']();_0x41eb52===_0x5ae242[_0x438e17(0x486)][_0x438e17(0xc3c)]?(sessionStorage[_0x438e17(0x268)](_0x438e17(0x306)+_0x345a23,_0x438e17(0x9b7)),_0xde2e5c[_0x438e17(0xa57)][_0x438e17(0x8de)](_0x438e17(0xcb3)),_0x975c34(),_0x2c637c['removeEventListener'](_0x438e17(0x305),_0x5c347e)):_0x180023[_0x438e17(0xa57)][_0x438e17(0x586)](_0x438e17(0xcb3));};_0x2c637c[_0xf78516(0x699)]=_0x5c347e,_0x1262a8[_0xf78516(0x699)]=()=>{const _0x31bc36=_0xf78516;_0xde2e5c['classList']['add'](_0x31bc36(0xcb3)),_0x51f42b[_0x31bc36(0x3d4)]='',_0x2c637c[_0x31bc36(0x223)]('click',_0x5c347e);};}else _0x975c34();},_0x2e7881[_0x4daed8(0x91e)]=()=>{const _0x31d903=_0x51f42b['value'],_0x472f44=_0x2e7881['value'];_0x31d903&&_0x472f44&&renderStudentProgressDashboard(_0x31d903,_0x472f44);};}async function confirmAndJoinSyncGame(){const _0x55f606=_0xa39756,_0xf6dcfa=Array[_0x55f606(0x275)](document[_0x55f606(0x6aa)]('input[name=\x22team_player\x22]:checked'))['map'](_0x179f32=>_0x179f32[_0x55f606(0x3d4)]);if(_0xf6dcfa[_0x55f606(0x7c7)]===0x0){showMessage(_0x55f606(0xa7d));return;}localTeamPlayers=_0xf6dcfa,localPlayerTurnIndex=0x0;const _0x199219=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);try{const _0xa40603={};_0xf6dcfa[_0x55f606(0x71e)](_0x364b27=>{const _0x3076bf=_0x55f606;_0xa40603[_0x3076bf(0xae0)+_0x364b27]={'name':_0x364b27,'score':0x0,'answered':![],'status':_0x3076bf(0xd52)};}),await updateDoc(_0x199219,_0xa40603),document[_0x55f606(0x8fb)](_0x55f606(0x313))[_0x55f606(0xa57)][_0x55f606(0x8de)](_0x55f606(0xcb3)),currentStudentName=_0xf6dcfa[0x0],listenForSyncGameUpdates();const _0x18d645={'gameId':currentLiveGameId,'mode':_0x55f606(0xbf5),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x55f606(0x268)]('activeGameSession',JSON[_0x55f606(0x8ff)](_0x18d645)),currentMode!==_0x55f606(0x5bb)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x55f606(0xb95)](_0x55f606(0x76e),handleFullscreenChange),document[_0x55f606(0xb95)](_0x55f606(0x2a4),handleVisibilityChange),enterFullscreen(),window[_0x55f606(0xb95)](_0x55f606(0xc70),resetDimTimer),window['addEventListener'](_0x55f606(0x2e5),resetDimTimer),window[_0x55f606(0xb95)]('touchstart',resetDimTimer),window[_0x55f606(0xb95)](_0x55f606(0xa42),resetDimTimer),resetDimTimer());}catch(_0x1ebfe2){console[_0x55f606(0xd73)](_0x55f606(0x529),_0x1ebfe2),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x41ffa0=_0xa39756,_0x1f9ea4=sessionStorage['getItem'](_0x41ffa0(0xd78));if(!_0x1f9ea4)return;const _0xe0e808=JSON[_0x41ffa0(0x5ed)](_0x1f9ea4),{gameId:_0x182fa7,mode:_0x317c6e,players:_0x2b3224,turnIndex:_0x3ac3e5}=_0xe0e808;try{let _0x93c9bf,_0x59969c;_0x317c6e===_0x41ffa0(0xbf5)?_0x93c9bf=doc(db,_0x41ffa0(0x73f)+appId+'/public/data/syncGames',_0x182fa7):_0x93c9bf=doc(db,'artifacts/'+appId+_0x41ffa0(0x8d3),_0x182fa7);_0x59969c=await getDoc(_0x93c9bf);if(!_0x59969c['exists']()||_0x59969c['data']()['status']===_0x41ffa0(0x46d)||_0x59969c[_0x41ffa0(0x3d7)]()['status']===_0x41ffa0(0x730)){sessionStorage[_0x41ffa0(0x888)](_0x41ffa0(0xd78));return;}console[_0x41ffa0(0xcf9)]('กำลังกลับเข้าสู่เกม\x20'+_0x317c6e+'\x20(ID:\x20'+_0x182fa7+')'),localTeamPlayers=_0x2b3224,localPlayerTurnIndex=_0x3ac3e5;if(_0x317c6e===_0x41ffa0(0xbf5))currentLiveGameId=_0x182fa7,currentStudentName=_0x2b3224[0x0],showView(_0x41ffa0(0xd10)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x182fa7;const _0x131292=_0x59969c[_0x41ffa0(0x3d7)](),_0x4a1029=doc(db,'artifacts/'+appId+_0x41ffa0(0xdb4),_0x131292['quizId']),_0x56e885=await getDoc(_0x4a1029);_0x56e885['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x56e885['id'],..._0x56e885['data']()}),showView(_0x41ffa0(0x79f)),studentInitialView[_0x41ffa0(0xa57)][_0x41ffa0(0x8de)](_0x41ffa0(0xcb3)),renderTeamQuizQuestion());}}catch(_0x8b5ee0){console[_0x41ffa0(0xd73)](_0x41ffa0(0xc89),_0x8b5ee0),sessionStorage[_0x41ffa0(0x888)](_0x41ffa0(0xd78));}}function activateFileInputAreaWithLoadedFile(){const _0x21c1cd=_0xa39756,_0x1cb67e=document[_0x21c1cd(0x8fb)](_0x21c1cd(0x807)),_0x1bea71=document['getElementById'](_0x21c1cd(0x738)),_0x252901=document['getElementById'](_0x21c1cd(0x31f));selectedFile?_0x252901['checked']?(_0x1cb67e[_0x21c1cd(0xc96)]=!![],analyzeFileForTopics(selectedFile)):(_0x1cb67e['disabled']=![],_0x1bea71[_0x21c1cd(0xa57)][_0x21c1cd(0x8de)](_0x21c1cd(0xcb3))):(_0x1cb67e[_0x21c1cd(0xc96)]=!![],_0x1bea71[_0x21c1cd(0xa57)][_0x21c1cd(0x8de)](_0x21c1cd(0xcb3)));}async function handleKickPlayerSync(_0x2cd0e1){const _0x6cb905=_0xa39756;if(!currentLiveGameId||!_0x2cd0e1)return;const _0x2c1312=doc(db,_0x6cb905(0x73f)+appId+'/public/data/syncGames',currentLiveGameId),_0x335ca6={};_0x335ca6[_0x6cb905(0xae0)+_0x2cd0e1+_0x6cb905(0x5e3)]=_0x6cb905(0x8d0);try{await updateDoc(_0x2c1312,_0x335ca6);}catch(_0x4a02ab){console['error'](_0x6cb905(0x5a8)+_0x2cd0e1+_0x6cb905(0x750),_0x4a02ab),showMessage(_0x6cb905(0x971));}}async function renderStudentProgressDashboard(_0x406953,_0x396307){const _0x5a617e=_0xa39756,_0x29c90c=document[_0x5a617e(0x8fb)](_0x5a617e(0x9bb));_0x29c90c[_0x5a617e(0x878)]=_0x5a617e(0xb14);try{const _0x83f4f4=collection(db,_0x5a617e(0x73f)+appId+_0x5a617e(0xdb4)),_0x4f3964=query(_0x83f4f4,where('projectId','==',_0x406953)),_0x59f9bc=await getDocs(_0x4f3964),_0xa8fa66=_0x59f9bc[_0x5a617e(0x485)][_0x5a617e(0x218)](_0x3548bb=>({'id':_0x3548bb['id'],..._0x3548bb[_0x5a617e(0x3d7)]()})),_0xe247a2=_0xa8fa66[_0x5a617e(0x218)](_0x3c7deb=>getDoc(doc(db,_0x5a617e(0x73f)+appId+_0x5a617e(0x4e3)+_0x3c7deb['id']+'/submissions',_0x396307))),_0xaa0e69=await Promise[_0x5a617e(0x49d)](_0xe247a2),_0x1c12b7=_0xaa0e69[_0x5a617e(0x4da)](_0x54323b=>_0x54323b[_0x5a617e(0x86f)]())[_0x5a617e(0x218)](_0x219052=>({'quizId':_0x219052[_0x5a617e(0x29a)][_0x5a617e(0x5f8)]['parent']['id'],..._0x219052[_0x5a617e(0x3d7)]()}));if(_0x1c12b7[_0x5a617e(0x7c7)]===0x0){_0x29c90c['innerHTML']=_0x5a617e(0xaa4);return;}let _0x1170cb='<div\x20class=\x22space-y-4\x22>';_0x1c12b7[_0x5a617e(0x71e)](_0x3a6faa=>{const _0x1d649f=_0x5a617e,_0x2acd2c=_0xa8fa66[_0x1d649f(0xaf7)](_0x5eec6b=>_0x5eec6b['id']===_0x3a6faa[_0x1d649f(0xcbc)]),_0x323cbf=_0x2acd2c['settings']?.['resultsDisplay']||'show_results_and_answers',_0x55cb5b=_0x2acd2c[_0x1d649f(0x486)]?.[_0x1d649f(0x3df)]??0x0,_0x56b6e5=_0x3a6faa['bestScore']>=_0x55cb5b;let _0x4df07a='',_0x27df7b='bg-gray-50';switch(_0x323cbf){case'show_results_and_answers':case'show_results_only':_0x27df7b=_0x56b6e5?_0x1d649f(0xbe6):_0x1d649f(0x631),_0x4df07a=_0x1d649f(0xa50)+(_0x56b6e5?_0x1d649f(0x560):_0x1d649f(0xbd2))+'\x22>'+_0x3a6faa[_0x1d649f(0x845)]+_0x1d649f(0x48d)+_0x3a6faa['totalQuestions']+_0x1d649f(0x87e)+(_0x56b6e5?'bg-green-200\x20text-green-800':_0x1d649f(0x2d2))+'\x22>'+(_0x56b6e5?_0x1d649f(0x9df):_0x1d649f(0x99f))+_0x1d649f(0x227);break;case _0x1d649f(0x5c8):_0x27df7b=_0x56b6e5?_0x1d649f(0xbe6):_0x1d649f(0x631),_0x4df07a=_0x1d649f(0x78e)+(_0x56b6e5?_0x1d649f(0x26e):_0x1d649f(0x2d2))+'\x22>'+(_0x56b6e5?_0x1d649f(0x9df):_0x1d649f(0x99f))+_0x1d649f(0x227);break;case _0x1d649f(0x967):_0x27df7b=_0x1d649f(0xb73),_0x4df07a=_0x1d649f(0x226);break;}_0x1170cb+=_0x1d649f(0x5fb)+_0x27df7b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x2acd2c[_0x1d649f(0xb19)]+_0x1d649f(0x216)+_0x3a6faa[_0x1d649f(0xd6b)][_0x1d649f(0x7c7)]+_0x1d649f(0x9c6)+new Date(_0x3a6faa[_0x1d649f(0x80d)])[_0x1d649f(0x810)](_0x1d649f(0xabb))+_0x1d649f(0xbe8)+_0x4df07a+_0x1d649f(0x673);}),_0x1170cb+=_0x5a617e(0x369),_0x29c90c['innerHTML']=_0x1170cb;}catch(_0x49aeb2){console[_0x5a617e(0xd73)](_0x5a617e(0x5f1),_0x49aeb2),_0x29c90c[_0x5a617e(0x878)]=_0x5a617e(0xa88);}}function renderQuizBankListForMultiSelect(_0x39409c=''){const _0x7d266f=_0xa39756,_0x1c2602=document[_0x7d266f(0x8fb)](_0x7d266f(0x53d)),_0x6db90a=_0x39409c[_0x7d266f(0xb4d)]()[_0x7d266f(0x6a8)](),_0x5e36ac=allQuizzesGlobal[_0x7d266f(0x218)](_0x91c7bf=>({..._0x91c7bf,'projectName':allProjects[_0x7d266f(0xaf7)](_0x5b6438=>_0x5b6438['id']===_0x91c7bf['projectId'])?.[_0x7d266f(0x437)]||'N/A'}))[_0x7d266f(0x4da)](_0x362350=>(_0x362350[_0x7d266f(0xb19)]||'')[_0x7d266f(0xb4d)]()[_0x7d266f(0x44e)](_0x6db90a)||(_0x362350[_0x7d266f(0x437)]||'')['toLowerCase']()[_0x7d266f(0x44e)](_0x6db90a)||_0x362350['id']['toString']()['includes'](_0x6db90a));_0x1c2602[_0x7d266f(0x878)]=_0x5e36ac[_0x7d266f(0x7c7)]?_0x5e36ac[_0x7d266f(0x218)](_0x1ee9b5=>_0x7d266f(0xa59)+_0x1ee9b5['id']+_0x7d266f(0x2c5)+(_0x1ee9b5['topic']||'(ไม่มีชื่อ)')+_0x7d266f(0x62e)+_0x1ee9b5['projectName']+'\x20|\x20ID:\x20'+_0x1ee9b5['id']+_0x7d266f(0xdbe))[_0x7d266f(0xb7d)](''):_0x7d266f(0xbf4),_0x1c2602['onchange']=()=>{const _0x225c52=_0x7d266f,_0x4c47a5=document[_0x225c52(0xa01)]('.quiz-bank-checkbox:checked');document['getElementById']('confirm-link-quiz-btn')[_0x225c52(0xc96)]=!_0x4c47a5;};}function setupStudentProgressListeners(){const _0xe1fe1e=_0xa39756;document[_0xe1fe1e(0x8fb)](_0xe1fe1e(0xbfc))['addEventListener'](_0xe1fe1e(0x305),showStudentProgressView),document[_0xe1fe1e(0x8fb)](_0xe1fe1e(0xa8f))[_0xe1fe1e(0xb95)](_0xe1fe1e(0x305),()=>{const _0x191e4b=_0xe1fe1e;document[_0x191e4b(0x8fb)](_0x191e4b(0x4e6))[_0x191e4b(0xa57)]['add'](_0x191e4b(0xcb3)),document[_0x191e4b(0x8fb)](_0x191e4b(0x9c3))[_0x191e4b(0xa57)][_0x191e4b(0x586)](_0x191e4b(0xcb3));});}async function startSkillPractice(_0x492d67){const _0x337ca1=_0xa39756;studentResultArea[_0x337ca1(0xa57)][_0x337ca1(0x8de)](_0x337ca1(0xcb3)),studentQuizArea[_0x337ca1(0x878)]=_0x337ca1(0x9b2),studentQuizArea[_0x337ca1(0xa57)]['remove'](_0x337ca1(0xcb3));try{const _0x5a2033=await getStandardizedTopic(_0x492d67);console[_0x337ca1(0xcf9)](_0x337ca1(0xd7a)+_0x492d67+_0x337ca1(0x6f3)+_0x5a2033+'\x22'),studentQuizArea[_0x337ca1(0xa01)]('p')[_0x337ca1(0xa47)]=_0x337ca1(0x458)+_0x5a2033+'\x22...';const _0x267bbb=collection(db,_0x337ca1(0x73f)+appId+_0x337ca1(0x88e)),_0x152128=query(_0x267bbb,where(_0x337ca1(0xb19),'==',_0x5a2033)),_0x571075=await getDocs(_0x152128);if(_0x571075[_0x337ca1(0x485)][_0x337ca1(0x7c7)]>=0x3){console['log'](_0x337ca1(0x5b4)+_0x571075[_0x337ca1(0x485)][_0x337ca1(0x7c7)]+_0x337ca1(0x37d)+_0x5a2033+_0x337ca1(0xca9));let _0x107738=_0x571075['docs'][_0x337ca1(0x218)](_0x1cc985=>_0x1cc985['data']());shuffleArray(_0x107738);const _0x43f55f={'topic':_0x5a2033,'questions':_0x107738[_0x337ca1(0x210)](0x0,0x3)};displaySkillPracticeDrill(_0x43f55f);}else{console['log'](_0x337ca1(0x415)+_0x5a2033+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x312932=await generatePracticeQuestions(_0x5a2033);await saveDrillToPracticeBank(_0x312932,_0x5a2033),displaySkillPracticeDrill(_0x312932);}}catch(_0x592e24){console[_0x337ca1(0xd73)](_0x337ca1(0x510),_0x592e24),showMessage(_0x337ca1(0xa64)),studentQuizArea[_0x337ca1(0xa57)][_0x337ca1(0x8de)](_0x337ca1(0xcb3)),studentResultArea[_0x337ca1(0xa57)][_0x337ca1(0x586)](_0x337ca1(0xcb3));}}async function saveDrillToPracticeBank(_0x29cc05,_0x55c719){const _0x3bb4de=_0xa39756,_0x50e1bf=collection(db,_0x3bb4de(0x73f)+appId+'/public/data/practiceBank'),_0x2e0e6c=writeBatch(db);_0x29cc05[_0x3bb4de(0x4a2)][_0x3bb4de(0x71e)](_0xbd76bf=>{const _0xe42d7f=_0x3bb4de,_0x2889e1=doc(_0x50e1bf);_0x2e0e6c[_0xe42d7f(0x3d8)](_0x2889e1,{'topic':_0x55c719,'questionText':_0xbd76bf['questionText'],'options':_0xbd76bf[_0xe42d7f(0x9af)],'correctAnswerIndex':_0xbd76bf['correctAnswerIndex'],'explanation':_0xbd76bf[_0xe42d7f(0x55d)],'createdAt':serverTimestamp()});});try{await _0x2e0e6c[_0x3bb4de(0x9f9)](),console[_0x3bb4de(0xcf9)](_0x3bb4de(0x33f)+_0x29cc05['questions'][_0x3bb4de(0x7c7)]+_0x3bb4de(0xa41));}catch(_0x2a23a8){console[_0x3bb4de(0xd73)]('Error\x20saving\x20questions\x20to\x20practice\x20bank:',_0x2a23a8);}}async function getStandardizedTopic(_0x10cd8b){const _0x32d834=_0xa39756,_0x377d46=_0x32d834(0x271)+_0x10cd8b+_0x32d834(0x6b0),_0x2a12f0={'type':_0x32d834(0x444),'properties':{'standardTopic':{'type':_0x32d834(0x4d7)}},'required':[_0x32d834(0x26a)]};try{const _0x35ab02=await callAnalysisApi(_0x377d46,_0x2a12f0);return _0x35ab02[_0x32d834(0x26a)];}catch(_0x29742b){return console[_0x32d834(0xd73)](_0x32d834(0xdf3),_0x29742b),_0x10cd8b;}}async function handleGenerateEasyVersionQuiz(_0x3cb499){const _0x3fb604=_0xa39756,_0x3498f3=document['getElementById'](_0x3fb604(0xc3b)),_0x22212d=document['getElementById']('project-quizzes-list');_0x22212d[_0x3fb604(0xa57)][_0x3fb604(0x8de)](_0x3fb604(0xcb3));const _0xe463=_0x3fb604(0x7fa);_0x3498f3[_0x3fb604(0xd92)](_0x3fb604(0x9ea),_0xe463);try{const _0x443907=allQuizzes[_0x3fb604(0xaf7)](_0xb9569f=>_0xb9569f['id']===_0x3cb499);if(!_0x443907)throw new Error('ไม่พบข้อมูลแบบทดสอบต้นฉบับ');const _0x313174=_0x3fb604(0x3db)+JSON[_0x3fb604(0x8ff)](_0x443907[_0x3fb604(0x4a2)])+_0x3fb604(0x64a),_0x3ea8ee={'type':_0x3fb604(0x444),'properties':{'questionText':{'type':_0x3fb604(0x4d7)},'questionType':{'type':_0x3fb604(0x4d7)},'options':{'type':_0x3fb604(0x2d8),'items':{'type':_0x3fb604(0x4d7)}},'correctAnswerIndex':{'type':_0x3fb604(0x51e)},'idealAnswer':{'type':_0x3fb604(0x4d7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3fb604(0x4d7)}},'required':[_0x3fb604(0xcd1),'questionType',_0x3fb604(0x55d)]},_0x5de1a2={'type':_0x3fb604(0x444),'properties':{'questions':{'type':_0x3fb604(0x2d8),'items':_0x3ea8ee}},'required':[_0x3fb604(0x4a2)]},_0x145a62=await callAnalysisApi(_0x313174,_0x5de1a2);_0x145a62&&_0x145a62[_0x3fb604(0x4a2)]&&_0x145a62['questions'][_0x3fb604(0x71e)](_0x5cb92e=>{const _0x23e124=_0x3fb604;if(_0x5cb92e[_0x23e124(0xcaa)](_0x23e124(0xd93))){const _0x2f88be=String(_0x5cb92e[_0x23e124(0xd93)])['trim']();(_0x2f88be===''||_0x2f88be[_0x23e124(0xb4d)]()===_0x23e124(0x571)||!_0x2f88be['startsWith'](_0x23e124(0xa08)))&&delete _0x5cb92e[_0x23e124(0xd93)];}});if(!_0x145a62||!_0x145a62['questions']||_0x145a62[_0x3fb604(0x4a2)][_0x3fb604(0x7c7)]===0x0)throw new Error(_0x3fb604(0x69a));const _0x350991=_0x145a62['questions'][_0x3fb604(0x218)]((_0x5071e7,_0x11d068)=>({..._0x5071e7,'id':'q_'+Date['now']()+'_'+_0x11d068})),_0x359f2c={'projectId':_0x443907[_0x3fb604(0xa68)],'quizType':_0x443907[_0x3fb604(0x28e)],'settings':_0x443907[_0x3fb604(0x486)],'createdBy':_0x443907['createdBy'],'status':_0x3fb604(0xd52),'topic':_0x3fb604(0xd4c)+_0x443907[_0x3fb604(0xb19)],'questions':_0x350991,'createdAt':new Date()[_0x3fb604(0x234)](),'quizMode':_0x3fb604(0x326),'pairedQuizId':null};let _0x57dc65;while(!![]){_0x57dc65=Math[_0x3fb604(0x997)](0x3e8+Math[_0x3fb604(0x35e)]()*0x2328)[_0x3fb604(0x2e7)]();const _0x36629b=await getDoc(doc(db,_0x3fb604(0x73f)+appId+_0x3fb604(0xdb4),_0x57dc65));if(!_0x36629b[_0x3fb604(0x86f)]())break;}await setDoc(doc(db,_0x3fb604(0x73f)+appId+'/public/data/quizzes',_0x57dc65),_0x359f2c),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x512228){console[_0x3fb604(0xd73)](_0x3fb604(0x868),_0x512228),showMessage('เกิดข้อผิดพลาด:\x20'+_0x512228[_0x3fb604(0x5b7)]);}finally{const _0x235612=document['getElementById'](_0x3fb604(0xb8a));_0x235612&&_0x235612[_0x3fb604(0x586)](),_0x22212d['classList'][_0x3fb604(0x586)](_0x3fb604(0xcb3));}}async function generatePracticeQuestions(_0x57054c){const _0x1eb448=_0xa39756,_0x27c05b=_0x1eb448(0x5d3)+_0x57054c+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x5b6638={'type':_0x1eb448(0x444),'properties':{'questionText':{'type':_0x1eb448(0x4d7)},'options':{'type':_0x1eb448(0x2d8),'items':{'type':_0x1eb448(0x4d7)}},'correctAnswerIndex':{'type':_0x1eb448(0x51e)},'explanation':{'type':_0x1eb448(0x4d7)}},'required':[_0x1eb448(0xcd1),_0x1eb448(0x9af),_0x1eb448(0x5fd),_0x1eb448(0x55d)]},_0x3e8ba8={'type':_0x1eb448(0x444),'properties':{'topic':{'type':_0x1eb448(0x4d7)},'questions':{'type':_0x1eb448(0x2d8),'items':_0x5b6638}},'required':[_0x1eb448(0xb19),'questions']};return await callAnalysisApi(_0x27c05b,_0x3e8ba8);}function displayLessonPlan(_0x85d974,_0x5e3fab){const _0x6ffd6e=_0xa39756,_0x109406=_0x6ffd6e(0xc83)+_0x5e3fab[_0x6ffd6e(0xb19)]+_0x6ffd6e(0x2a3)+_0x85d974[_0x6ffd6e(0xa7b)][_0x6ffd6e(0x218)](_0x330eee=>_0x6ffd6e(0xa1a)+_0x330eee+_0x6ffd6e(0xd51))[_0x6ffd6e(0xb7d)]('')+_0x6ffd6e(0x7c5)+_0x85d974['teachingContent']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x85d974['practiceProblems'][_0x6ffd6e(0x218)](_0x2eaceb=>_0x6ffd6e(0xb0d)+_0x2eaceb[_0x6ffd6e(0x84c)]+_0x6ffd6e(0x562)+_0x2eaceb['solution']+_0x6ffd6e(0x951))[_0x6ffd6e(0xb7d)]('')+_0x6ffd6e(0xc26);document['getElementById'](_0x6ffd6e(0xc47))[_0x6ffd6e(0xa47)]=_0x6ffd6e(0xd1c)+_0x5e3fab['topic'],document['getElementById'](_0x6ffd6e(0x8a5))[_0x6ffd6e(0x878)]=_0x109406,document[_0x6ffd6e(0x8fb)](_0x6ffd6e(0x7c4))[_0x6ffd6e(0xa57)]['remove'](_0x6ffd6e(0xcb3));if(window[_0x6ffd6e(0xb54)])MathJax[_0x6ffd6e(0xa3f)]();}function displaySkillPracticeDrill(_0x151015){let _0x4b7e3d=0x0;const _0x3a5ed7=_0x151015['questions'],_0x30276e=()=>{const _0x48b948=_0x395e,_0x19850b=_0x3a5ed7[_0x4b7e3d],_0x4b2486=_0x48b948(0x534)+(_0x4b7e3d+0x1)+_0x48b948(0x48d)+_0x3a5ed7['length']+_0x48b948(0x827)+_0x19850b[_0x48b948(0xcd1)]+_0x48b948(0x368)+_0x19850b['options'][_0x48b948(0x218)]((_0x403863,_0x24f436)=>_0x48b948(0xbb5)+_0x24f436+_0x48b948(0x438)+_0x24f436+_0x48b948(0xa06)+_0x24f436+'\x22>'+_0x403863+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x48b948(0xb7d)]('')+_0x48b948(0x290);studentQuizArea[_0x48b948(0x878)]=_0x4b2486;if(window[_0x48b948(0xb54)])MathJax['typesetPromise']([studentQuizArea]);document[_0x48b948(0x8fb)](_0x48b948(0x895))[_0x48b948(0xb95)]('click',async()=>{const _0x30c445=_0x48b948,_0x3014ce=await getHintForQuestion(_0x19850b[_0x30c445(0xcd1)]);showMessage(_0x3014ce);}),document[_0x48b948(0x8fb)](_0x48b948(0xa5f))['addEventListener'](_0x48b948(0x305),()=>{const _0x11dd80=_0x48b948,_0x327c5b=document[_0x11dd80(0xa01)]('input[name=\x22drill_answer\x22]:checked');if(!_0x327c5b){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x3dca8a=document[_0x11dd80(0x8fb)](_0x11dd80(0x476)),_0x5b751a=parseInt(_0x327c5b[_0x11dd80(0x3d4)])===_0x19850b[_0x11dd80(0x5fd)];_0x5b751a?(_0x3dca8a[_0x11dd80(0x509)]=_0x11dd80(0x760),_0x3dca8a[_0x11dd80(0x878)]=_0x11dd80(0xc1f)+_0x19850b[_0x11dd80(0x55d)]):(_0x3dca8a[_0x11dd80(0x509)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x3dca8a['innerHTML']=_0x11dd80(0x5bd)+_0x19850b['explanation']);_0x3dca8a[_0x11dd80(0xa57)][_0x11dd80(0x586)](_0x11dd80(0xcb3));if(window['MathJax'])MathJax[_0x11dd80(0xa3f)]([_0x3dca8a]);document[_0x11dd80(0x8fb)]('check-answer-btn')[_0x11dd80(0xa57)][_0x11dd80(0x8de)](_0x11dd80(0xcb3)),document[_0x11dd80(0x8fb)]('hint-btn')[_0x11dd80(0xa57)][_0x11dd80(0x8de)](_0x11dd80(0xcb3)),document[_0x11dd80(0x8fb)](_0x11dd80(0x65b))[_0x11dd80(0xa57)][_0x11dd80(0x586)](_0x11dd80(0xcb3));}),document[_0x48b948(0x8fb)](_0x48b948(0x65b))[_0x48b948(0xb95)](_0x48b948(0x305),()=>{const _0x3a6ff0=_0x48b948;_0x4b7e3d++,_0x4b7e3d<_0x3a5ed7['length']?_0x30276e():(studentQuizArea[_0x3a6ff0(0x878)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x3a6ff0(0x8fb)]('back-to-results-btn')[_0x3a6ff0(0xb95)]('click',()=>{const _0x1bf9ef=_0x3a6ff0;studentQuizArea[_0x1bf9ef(0xa57)][_0x1bf9ef(0x8de)](_0x1bf9ef(0xcb3)),studentResultArea[_0x1bf9ef(0xa57)][_0x1bf9ef(0x586)](_0x1bf9ef(0xcb3));}));});};_0x30276e();}async function getHintForQuestion(_0xa252da){const _0x3a5c0a=_0xa39756,_0x598f23='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0xa252da+_0x3a5c0a(0x82b),_0x3ae073={'type':_0x3a5c0a(0x444),'properties':{'hint':{'type':_0x3a5c0a(0x4d7)}},'required':[_0x3a5c0a(0x6a2)]};try{const _0x3a4e9e=await callAnalysisApi(_0x598f23,_0x3ae073);return _0x3a4e9e[_0x3a5c0a(0x6a2)];}catch(_0x172ba1){return console[_0x3a5c0a(0xd73)](_0x3a5c0a(0xa18),_0x172ba1),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x5a162c){const _0x24a11b=_0xa39756;pdfjsLib[_0x24a11b(0xb23)]['workerSrc']=_0x24a11b(0x874);const _0x428ce5=await _0x5a162c['arrayBuffer'](),_0x529cc7=await pdfjsLib[_0x24a11b(0x555)](_0x428ce5)[_0x24a11b(0xabf)],_0x1accc3=_0x529cc7['numPages'];let _0x3bcfda='';for(let _0x544410=0x1;_0x544410<=_0x1accc3;_0x544410++){const _0x476d36=await _0x529cc7[_0x24a11b(0x8ca)](_0x544410),_0x184e01=await _0x476d36[_0x24a11b(0x372)](),_0x167988=_0x184e01[_0x24a11b(0xa8c)][_0x24a11b(0x218)](_0x1ac091=>_0x1ac091[_0x24a11b(0x581)])['join']('\x20');_0x3bcfda+=_0x167988+'\x0a\x0a';}return _0x3bcfda;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x19344b){const _0x4a3ef5=_0xa39756,_0x188010=document[_0x4a3ef5(0x8fb)](_0x4a3ef5(0x37f)),_0xa18eb8=document[_0x4a3ef5(0x8fb)]('blueprint-topics-list'),_0x33d417=document['getElementById'](_0x4a3ef5(0x381));_0x188010[_0x4a3ef5(0xa57)][_0x4a3ef5(0x586)](_0x4a3ef5(0xcb3)),_0xa18eb8['innerHTML']=_0x4a3ef5(0x8ea),_0x33d417[_0x4a3ef5(0xa57)]['add']('hidden');try{const _0x2b506e=_0x4a3ef5(0x282)+_0x19344b+_0x4a3ef5(0x3b2),_0x5cc81e={'type':_0x4a3ef5(0x444),'properties':{'gradeLevel':{'type':_0x4a3ef5(0x4d7)},'curriculum':{'type':_0x4a3ef5(0x2d8),'items':{'type':_0x4a3ef5(0x444),'properties':{'sara':{'type':_0x4a3ef5(0x4d7)},'mainTopics':{'type':_0x4a3ef5(0x2d8),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x4a3ef5(0x4d7)},'subTopics':{'type':'ARRAY','items':{'type':_0x4a3ef5(0x4d7)}}},'required':[_0x4a3ef5(0x825),_0x4a3ef5(0x446)]}}},'required':[_0x4a3ef5(0x788),_0x4a3ef5(0x6cb)]}}},'required':['gradeLevel','curriculum']},_0x482ce0=await callAnalysisApi(_0x2b506e,_0x5cc81e);if(_0x482ce0&&_0x482ce0[_0x4a3ef5(0x39f)])extractedBlueprintData=_0x482ce0,renderBlueprintTopics(_0x482ce0),_0x33d417[_0x4a3ef5(0xa57)][_0x4a3ef5(0x586)](_0x4a3ef5(0xcb3));else throw new Error(_0x4a3ef5(0x9bd));}catch(_0x24654e){console[_0x4a3ef5(0xd73)](_0x4a3ef5(0x280),_0x24654e),_0xa18eb8['innerHTML']=_0x4a3ef5(0x9db);}}function renderBlueprintTopics(_0x19efcd){const _0x30ca42=_0xa39756,_0x134283=document[_0x30ca42(0x8fb)]('blueprint-topics-list'),_0x5d03c9=_0x19efcd[_0x30ca42(0x428)],_0x561a60=_0x30ca42(0x4f9)+_0x5d03c9+_0x30ca42(0xdd2);let _0x48fe4d='';_0x19efcd[_0x30ca42(0x39f)]['forEach'](_0x3ee304=>{const _0x29c206=_0x30ca42;_0x48fe4d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x3ee304[_0x29c206(0x788)]+_0x29c206(0xa8d),_0x3ee304[_0x29c206(0x6cb)]['forEach'](_0x4aeae8=>{const _0xcb59e6=_0x29c206;_0x48fe4d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x4aeae8[_0xcb59e6(0x825)]+_0xcb59e6(0x655),_0x4aeae8[_0xcb59e6(0x446)][_0xcb59e6(0x71e)](_0x49214a=>{const _0x102933=_0xcb59e6;_0x48fe4d+='\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27'+_0x49214a[_0x102933(0x50a)](/'/g,'\x5c\x27')+_0x102933(0x7db)+_0x5d03c9['replace'](/'/g,'\x5c\x27')+_0x102933(0x916)+_0x49214a+_0x102933(0xc0a)+_0x49214a[_0x102933(0x50a)](/'/g,'\x5c\x27')+_0x102933(0x22e);}),_0x48fe4d+=_0xcb59e6(0xb05);}),_0x48fe4d+='</div>';}),_0x134283[_0x30ca42(0x878)]=_0x561a60+_0x48fe4d;}async function handleGenerateTeachingContent(_0x360d29){const _0x23b73a=_0xa39756,_0x727328=document[_0x23b73a(0x8fb)](_0x23b73a(0x7c4)),_0x5e230e=document[_0x23b73a(0x8fb)](_0x23b73a(0x8a5));document[_0x23b73a(0x8fb)](_0x23b73a(0xc47))['textContent']='กำลังสร้างเนื้อหา:\x20'+_0x360d29,_0x5e230e['innerHTML']=_0x23b73a(0xab6),_0x727328['classList'][_0x23b73a(0x586)](_0x23b73a(0xcb3));try{const _0x4a3804=_0x23b73a(0xd38)+_0x360d29+_0x23b73a(0xca7),_0x3af1c4={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x23b73a(0x2d8),'items':{'type':_0x23b73a(0x4d7)}},'commonMistakes':{'type':_0x23b73a(0x2d8),'items':{'type':_0x23b73a(0x4d7)}},'stepByStepExamples':{'type':_0x23b73a(0x2d8),'items':{'type':_0x23b73a(0x444),'properties':{'question':{'type':_0x23b73a(0x4d7)},'solution':{'type':_0x23b73a(0x4d7)}},'required':[_0x23b73a(0x84c),'solution']}},'teacherTips':{'type':_0x23b73a(0x2d8),'items':{'type':'STRING'}}},'required':[_0x23b73a(0x8a4),_0x23b73a(0x958),_0x23b73a(0x93b),_0x23b73a(0x4eb)]},_0x501103=await callAnalysisApi(_0x4a3804,_0x3af1c4);displayTeachingContent(_0x501103,_0x360d29);}catch(_0x13c287){console[_0x23b73a(0xd73)](_0x23b73a(0x3e3),_0x13c287),_0x5e230e[_0x23b73a(0x878)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x13c287[_0x23b73a(0x5b7)]+_0x23b73a(0xc74);}}function displayTeachingContent(_0x12c4df,_0x161b70){const _0x995eac=_0xa39756,_0x17ea7d=document[_0x995eac(0x8fb)](_0x995eac(0x8a5));document['getElementById'](_0x995eac(0xc47))[_0x995eac(0xa47)]=_0x995eac(0x6d1)+_0x161b70;const _0x450ca9=_0x995eac(0xc24)+_0x12c4df[_0x995eac(0x8a4)][_0x995eac(0x218)](_0x4c1889=>_0x995eac(0xa1a)+_0x4c1889+_0x995eac(0xd51))[_0x995eac(0xb7d)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x12c4df[_0x995eac(0x958)][_0x995eac(0x218)](_0x317839=>_0x995eac(0xa1a)+_0x317839+_0x995eac(0xd51))[_0x995eac(0xb7d)]('')+_0x995eac(0xcfd)+_0x12c4df[_0x995eac(0x93b)][_0x995eac(0x218)](_0xe08d22=>_0x995eac(0xbc7)+_0xe08d22['question']+_0x995eac(0x254)+_0xe08d22[_0x995eac(0xb34)]+_0x995eac(0xc76))[_0x995eac(0xb7d)]('')+_0x995eac(0x7a9)+_0x12c4df[_0x995eac(0x4eb)][_0x995eac(0x218)](_0x57331b=>_0x995eac(0xa1a)+_0x57331b+'</li>')['join']('')+_0x995eac(0xd54);_0x17ea7d[_0x995eac(0x878)]=_0x450ca9;if(window['MathJax'])MathJax['typesetPromise']([_0x17ea7d]);}async function generateQuizForSingleTopic(_0x42bd74){const _0x432be9=_0xa39756;console[_0x432be9(0xcf9)](_0x432be9(0x2d1)+_0x42bd74+'\x22');const _0x37d52b=document['getElementById'](_0x432be9(0x9b3)),_0x436082=_0x37d52b[_0x432be9(0xa28)][_0x432be9(0x7c7)]>0x0?_0x37d52b['files'][0x0]:null;let _0x5a681a=null;if(_0x436082)try{const _0x48419c=new FileReader();_0x48419c[_0x432be9(0x7e5)](_0x436082);const _0x5d62d0=await new Promise((_0x52263f,_0xa14e95)=>{const _0x3cad2a=_0x432be9;_0x48419c['onload']=()=>_0x52263f(_0x48419c[_0x3cad2a(0x3c3)]['split'](',')[0x1]),_0x48419c[_0x3cad2a(0xb82)]=_0x194ae7=>_0xa14e95(_0x194ae7);});_0x5a681a=[{'inlineData':{'mimeType':_0x436082[_0x432be9(0xbc3)],'data':_0x5d62d0}}];}catch(_0x3b3b5b){console[_0x432be9(0xd73)](_0x432be9(0x6a0),_0x3b3b5b),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x42bd74,null,null,_0x5a681a,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x45f25f=null){const _0x2460c9=_0xa39756,_0x551cd9=document[_0x2460c9(0x8fb)](_0x2460c9(0x77e)),_0x385a81=document[_0x2460c9(0x8fb)](_0x2460c9(0xa03));let _0x13d40b,_0x5ae603=[];if(_0x45f25f)_0x13d40b=_0x45f25f,_0x5ae603=_0x13d40b[_0x2460c9(0x210)](0x2);else{const _0x3542d5=document[_0x2460c9(0x8fb)](_0x2460c9(0x68d)),_0x311ed4=document[_0x2460c9(0x8fb)](_0x2460c9(0x9b3)),_0x38d0c0=_0x3542d5['files'][0x0];if(!_0x38d0c0){showMessage(_0x2460c9(0x418));return;}_0x385a81[_0x2460c9(0xa47)]='กำลังเตรียมไฟล์...';const _0x1f879e=await new Promise((_0x39d991,_0x4b5fdd)=>{const _0x52d866=_0x2460c9,_0x3e5145=new FileReader();_0x3e5145['readAsDataURL'](_0x38d0c0),_0x3e5145[_0x52d866(0x78f)]=()=>_0x39d991(_0x3e5145[_0x52d866(0x3c3)][_0x52d866(0x5da)](',')[0x1]),_0x3e5145[_0x52d866(0xb82)]=_0x4b5fdd;});_0x13d40b=[{'text':_0x2460c9(0x3f1)},{'inlineData':{'mimeType':_0x38d0c0[_0x2460c9(0xbc3)],'data':_0x1f879e}}];if(_0x311ed4[_0x2460c9(0xa28)][_0x2460c9(0x7c7)]>0x0){const _0x3e1126=_0x311ed4['files'][0x0];_0x385a81[_0x2460c9(0xa47)]=_0x2460c9(0xb8d);const _0x23c9b4=await new Promise((_0x1c786d,_0x5adc60)=>{const _0x14622e=_0x2460c9,_0x737bab=new FileReader();_0x737bab['readAsDataURL'](_0x3e1126),_0x737bab[_0x14622e(0x78f)]=()=>_0x1c786d(_0x737bab[_0x14622e(0x3c3)]['split'](',')[0x1]),_0x737bab[_0x14622e(0xb82)]=_0x5adc60;}),_0x34ed66={'inlineData':{'mimeType':_0x3e1126[_0x2460c9(0xbc3)],'data':_0x23c9b4}};_0x13d40b[_0x2460c9(0xbdd)](_0x34ed66),_0x5ae603['push'](_0x34ed66);}}const _0x55b1f6=_0x2460c9(0xa39),_0x427314=_0x2460c9(0xd8e);let _0x38be9d='';_0x5ae603&&_0x5ae603[_0x2460c9(0x7c7)]>0x0?_0x38be9d=_0x55b1f6:_0x38be9d=_0x427314;const _0x252135=_0x2460c9(0x886)+_0x38be9d+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x4d11e9={'type':_0x2460c9(0x444),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x2460c9(0x4d7),'enum':['multiple_choice',_0x2460c9(0x880),_0x2460c9(0xc4d),_0x2460c9(0xbd6)]},'options':{'type':_0x2460c9(0x2d8),'items':{'type':_0x2460c9(0x4d7)}},'correctAnswerIndex':{'type':_0x2460c9(0x51e)},'idealAnswer':{'type':_0x2460c9(0x4d7)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x2460c9(0x4d7)},'imageCode':{'type':_0x2460c9(0x4d7)}},'required':['questionType','explanation']},_0x4db707={'type':_0x2460c9(0x444),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2460c9(0x2d8),'items':_0x4d11e9}},'required':[_0x2460c9(0xb19),_0x2460c9(0x4a2)]};_0x13d40b[0x0]['text']=_0x252135,await handleApiCall(_0x13d40b,_0x2460c9(0x2f4),_0x4db707);}function proceedToNextQuestion(_0x3e0800){const _0x1a2ea5=_0xa39756;studentAnswersPerQuestion[_0x1a2ea5(0xbdd)](_0x3e0800),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions']['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x1b0e87,_0x59a19e,_0x513863){const _0x43c2da=_0xa39756,_0x541301=Object['values'](_0x1b0e87[_0x43c2da(0x20e)]||{}),_0x5aaa48=_0x541301[_0x43c2da(0x7c7)],_0x5f1c38=[..._0x541301][_0x43c2da(0xcbf)]((_0x56d3f6,_0x28488f)=>_0x28488f[_0x43c2da(0x3e4)]-_0x56d3f6[_0x43c2da(0x3e4)]),_0xd36630=_0x513863,_0x2c4ba7=_0x1b0e87['gameVariant']||'classic',_0x4e92ae=_0x2c4ba7===_0x43c2da(0xc4a)&&_0x1b0e87['isAnonymousRevealed']===![];let _0xcb7032='';const _0x351160=_0x1b0e87['shuffledQuiz'][_0x43c2da(0x4a2)],_0x2330b5=_0x351160[_0xd36630],_0x20b087=_0x96a826=>String[_0x43c2da(0x6b1)](0x41+_0x96a826);let _0x5b685e='',_0x2ae5a5='';if(_0x2330b5){const _0x5ea711=_0x2330b5[_0x43c2da(0x672)]||_0x1b0e87[_0x43c2da(0x9d8)][_0x43c2da(0x28e)];if(_0x5ea711===_0x43c2da(0x525)&&_0x2330b5[_0x43c2da(0x9af)]&&_0x2330b5[_0x43c2da(0x5fd)]!==undefined){const _0x1eb06f=_0x2330b5[_0x43c2da(0x5fd)];_0x5b685e=_0x2330b5[_0x43c2da(0x9af)][_0x1eb06f],_0x2ae5a5=_0x20b087(_0x1eb06f)+'.';}else{if(_0x5ea711==='true_false'){const _0x3c425f=_0x2330b5[_0x43c2da(0xdae)]===!![]||String(_0x2330b5[_0x43c2da(0xdae)])[_0x43c2da(0xb4d)]()===_0x43c2da(0x9b7);_0x3c425f?(_0x5b685e=_0x43c2da(0xc3a),_0x2ae5a5='ก.'):(_0x5b685e=_0x43c2da(0x6f2),_0x2ae5a5='ข.');}else{if(_0x5ea711==='matching_item')_0x5b685e=_0x2330b5[_0x43c2da(0x8e8)]||'-',_0x2ae5a5='';else _0x5ea711===_0x43c2da(0x880)&&(_0x5b685e=_0x2330b5[_0x43c2da(0x5c6)]||'-',_0x2ae5a5='');}}}_0x5b685e&&(_0xcb7032=_0x43c2da(0xb7c)+(_0xd36630+0x1)+_0x43c2da(0x602)+_0x2ae5a5+'\x20'+_0x5b685e+_0x43c2da(0xdc5));const _0x43dc15=_0x5f1c38[_0x43c2da(0x218)](_0x10a158=>{const _0x3fff7e=_0x43c2da;let _0xceaa48=_0x10a158['score'];if(_0x2c4ba7===_0x3fff7e(0x4c9)){const _0x7324cf=(_0x10a158[_0x3fff7e(0xad1)]||[])[_0x3fff7e(0x4da)](_0x26440e=>_0x26440e['questionIndex']<=_0xd36630);_0xceaa48=_0x7324cf[_0x3fff7e(0x4da)](_0x481542=>_0x481542['isCorrect'])[_0x3fff7e(0x7c7)];}const _0x19011b=(_0x10a158[_0x3fff7e(0xad1)]||[])[_0x3fff7e(0xaf7)](_0x2c5c78=>_0x2c5c78[_0x3fff7e(0x403)]===_0xd36630),_0x1992de=_0x19011b?_0x19011b['isCorrect']:![],_0x1f15b9=_0x19011b?_0x19011b[_0x3fff7e(0xb01)]===!![]||_0x19011b['wasConfident']==='confident':![];let _0x5ce599='';if(_0x1f15b9&&_0x1992de)_0x5ce599='bg-[#4ADE80]\x20text-green-900\x20font-bold';else{if(_0x1f15b9&&!_0x1992de)_0x5ce599=_0x3fff7e(0xb46);else!_0x1f15b9&&_0x1992de?_0x5ce599=_0x3fff7e(0xd21):_0x5ce599='bg-black/20';}const _0x1170dd=_0x4e92ae?_0x1b0e87[_0x3fff7e(0xb96)][_0x10a158[_0x3fff7e(0x4ee)]]||_0x3fff7e(0xab1):_0x10a158[_0x3fff7e(0x4ee)];return _0x3fff7e(0x7d8)+_0x5ce599+_0x3fff7e(0xd99)+_0x1170dd+'</span><span\x20class=\x22font-bold\x22>'+_0xceaa48+_0x3fff7e(0xb97);})[_0x43c2da(0xb7d)](''),_0x310b88=_0x351160[_0x43c2da(0x218)]((_0x137299,_0x4eb464)=>{const _0x175f3e=_0x43c2da;if(_0x2c4ba7===_0x175f3e(0x4c9)&&_0x4eb464>_0xd36630)return'';const _0x5edf3f=_0x541301[_0x175f3e(0x4da)](_0x390b05=>_0x390b05[_0x175f3e(0xad1)]&&_0x390b05['answers'][_0x175f3e(0xaf7)](_0x5944db=>_0x5944db[_0x175f3e(0x403)]===_0x4eb464&&_0x5944db[_0x175f3e(0x671)]))[_0x175f3e(0x7c7)],_0x2b0181=_0x4eb464===_0xd36630,_0x1ba571=_0x2b0181?_0x175f3e(0x90c):_0x175f3e(0x737);return _0x175f3e(0x865)+_0x1ba571+_0x175f3e(0x48a)+(_0x4eb464+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x5edf3f+_0x175f3e(0x48d)+_0x5aaa48+_0x175f3e(0xc6e);})['join']('');let _0x1af17='',_0x300665='';if(_0x59a19e){const _0x53e739=_0x2c4ba7===_0x43c2da(0xc66)&&_0x1b0e87['currentQuestionIndex']>=_0x351160[_0x43c2da(0x7c7)]-0x1,_0x431927=_0x2c4ba7===_0x43c2da(0x4c9)&&_0x1b0e87[_0x43c2da(0x402)]>=_0x351160[_0x43c2da(0x7c7)]-0x1,_0x41aac9=_0x2c4ba7===_0x43c2da(0xc4a)&&_0x1b0e87['currentQuestionIndex']>=_0x351160[_0x43c2da(0x7c7)]-0x1;_0x53e739||_0x431927||_0x41aac9?_0x2c4ba7==='anonymous'&&_0x1b0e87[_0x43c2da(0x43d)]===![]?_0x1af17=_0x43c2da(0x8c0):_0x1af17=_0x43c2da(0x91d):_0x1af17=_0x43c2da(0x8f8),_0x300665=_0x43c2da(0x391);}const _0xfdb2a2=_0x43c2da(0x3ff)+_0x1b0e87[_0x43c2da(0x9d8)][_0x43c2da(0xb19)]+_0x43c2da(0x7aa)+_0x300665+_0x43c2da(0x732)+_0xcb7032+_0x43c2da(0x8e6)+(_0x43dc15||_0x43c2da(0x2b8))+_0x43c2da(0xcea)+_0x310b88+_0x43c2da(0x644)+(_0x59a19e?_0x43c2da(0x7bc)+_0x1af17+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x43c2da(0x878)]=_0xfdb2a2;if(window[_0x43c2da(0xb54)]){const _0x53b563=document[_0x43c2da(0x8fb)](_0x43c2da(0xd0b));_0x53b563&&MathJax[_0x43c2da(0xa3f)]([_0x53b563]);}if(_0x59a19e){document[_0x43c2da(0x8fb)]('next-sync-question-btn')['onclick']=async()=>{const _0x522bdb=_0x43c2da,_0x1e0f43=doc(db,_0x522bdb(0x73f)+appId+_0x522bdb(0x968),currentLiveGameId),_0x166bce=_0x2c4ba7===_0x522bdb(0xc66)&&_0x1b0e87['currentQuestionIndex']>=_0x351160['length']-0x1,_0x1bfcb8=_0x2c4ba7===_0x522bdb(0x4c9)&&_0x1b0e87[_0x522bdb(0x402)]>=_0x351160[_0x522bdb(0x7c7)]-0x1,_0x4df753=_0x2c4ba7===_0x522bdb(0xc4a)&&_0x1b0e87['currentQuestionIndex']>=_0x351160[_0x522bdb(0x7c7)]-0x1;if(_0x2c4ba7===_0x522bdb(0x4c9))!_0x1bfcb8?await updateDoc(_0x1e0f43,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x1e0f43,{'status':_0x522bdb(0x730)});else{if(!_0x166bce&&!_0x4df753){const _0x3dfada=_0x1b0e87[_0x522bdb(0xa73)]+0x1,_0x225f6d={};Object[_0x522bdb(0x65c)](_0x1b0e87[_0x522bdb(0x20e)])[_0x522bdb(0x71e)](_0x32e86d=>{const _0x2f4c44=_0x522bdb;_0x225f6d['players.'+_0x32e86d+_0x2f4c44(0xbcc)]=![],_0x225f6d[_0x2f4c44(0xae0)+_0x32e86d+'.lastAnswerIndex']=null;}),await updateDoc(_0x1e0f43,{..._0x225f6d,'status':'question','currentQuestionIndex':_0x3dfada,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x1e0f43,{'status':_0x522bdb(0x730)});}},document['getElementById']('reveal-names-btn')?.[_0x43c2da(0xb95)](_0x43c2da(0x305),async()=>{const _0x4958b5=_0x43c2da,_0x236047=doc(db,_0x4958b5(0x73f)+appId+_0x4958b5(0x968),currentLiveGameId);await updateDoc(_0x236047,{'isAnonymousRevealed':!![]});});const _0x5de6b0=document['getElementById']('end-sync-game-btn');_0x5de6b0&&(_0x5de6b0[_0x43c2da(0x699)]=()=>{const _0x3b5f6c=_0x43c2da;showConfirmation(_0x3b5f6c(0xce1),async()=>{const _0x3b3684=_0x3b5f6c,_0x553125=doc(db,'artifacts/'+appId+_0x3b3684(0x968),currentLiveGameId);await updateDoc(_0x553125,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x4fe93a){const _0x688743=_0xa39756,_0x4d4f27=document['getElementById'](_0x688743(0xc3b)),_0x16219c=document[_0x688743(0x8fb)](_0x688743(0xa61));_0x16219c[_0x688743(0xa57)][_0x688743(0x8de)](_0x688743(0xcb3));const _0x35e009='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x4fe93a[_0x688743(0xb19)]+_0x688743(0x58e);_0x4d4f27['insertAdjacentHTML']('beforeend',_0x35e009);const _0x1ab352=document['getElementById'](_0x688743(0xa4e));try{const _0x2edbee=_0x4fe93a[_0x688743(0x4a2)][_0x688743(0x218)]((_0xf12ed3,_0x19763d)=>{const _0x194882=_0x688743;let _0x2c6ca9=_0x19763d+0x1+'.\x20'+(_0xf12ed3['questionText']||_0xf12ed3['stem'])+'\x0a';if(_0xf12ed3[_0x194882(0x9af)])_0x2c6ca9+=_0xf12ed3[_0x194882(0x9af)]['map']((_0x4a2271,_0x4bad01)=>_0x194882(0xbef)+(_0x4bad01===_0xf12ed3['correctAnswerIndex']?_0x194882(0x24e):'')+'\x20'+_0x4a2271)['join']('\x0a');else _0xf12ed3[_0x194882(0x5c6)]&&(_0x2c6ca9+=_0x194882(0xd03)+_0xf12ed3['idealAnswer']);return _0x2c6ca9;})[_0x688743(0xb7d)]('\x0a\x0a');_0x1ab352[_0x688743(0xa47)]=_0x688743(0xc75);const _0x28c959=_0x688743(0xbfb)+_0x4fe93a['topic']+_0x688743(0x61f)+_0x2edbee+_0x688743(0xb07)+simpleMathPrompt+_0x688743(0x889),_0x22fcaf={'type':_0x688743(0x444),'properties':{'questionText':{'type':_0x688743(0x4d7)},'questionType':{'type':'STRING','enum':['multiple_choice','short_answer','true_false','matching_item']},'options':{'type':_0x688743(0x2d8),'items':{'type':_0x688743(0x4d7)}},'correctAnswerIndex':{'type':_0x688743(0x51e)},'idealAnswer':{'type':_0x688743(0x4d7)},'correctAnswer':{'type':_0x688743(0xd9a)},'stem':{'type':_0x688743(0x4d7)},'correctResponse':{'type':_0x688743(0x4d7)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x688743(0x4d7)},'imageCode':{'type':_0x688743(0x4d7)}},'required':[_0x688743(0x672),_0x688743(0x55d)]},_0x5af052={'type':_0x688743(0x444),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x688743(0x2d8),'items':_0x22fcaf}},'required':[_0x688743(0xb19),_0x688743(0x4a2)]},_0x17b854=await callAnalysisApi(_0x28c959,_0x5af052),_0x2d62a0=_0x17b854[_0x688743(0x4a2)]['map']((_0x21ee3d,_0x350415)=>({..._0x21ee3d,'id':'q_'+Date[_0x688743(0xcad)]()+'_'+_0x350415})),_0x4f67f5=_0x688743(0x50f)+_0x4fe93a['topic'],_0x4cdc77={'topic':_0x4f67f5,'questions':_0x2d62a0,'quizType':_0x4fe93a[_0x688743(0x28e)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x688743(0x234)](),'status':_0x688743(0xd52),'settings':_0x4fe93a[_0x688743(0x486)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x407185;while(!![]){_0x407185=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x688743(0x2e7)]();const _0x56c416=await getDoc(doc(db,_0x688743(0x73f)+appId+_0x688743(0xdb4),_0x407185));if(!_0x56c416[_0x688743(0x86f)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x688743(0xdb4),_0x407185),_0x4cdc77),showMessage(_0x688743(0x847));}catch(_0x5ef785){console[_0x688743(0xd73)](_0x688743(0x7e8),_0x5ef785),showMessage(_0x688743(0xa05)+_0x5ef785[_0x688743(0x5b7)]);}finally{const _0x142ce6=document['getElementById']('temp-loader-results');_0x142ce6&&_0x142ce6[_0x688743(0x586)](),_0x16219c['classList'][_0x688743(0x586)](_0x688743(0xcb3));}}async function handleGenerateParallelPostTest(_0x3dff28){const _0x46d550=_0xa39756,_0x1592f5=document['getElementById'](_0x46d550(0xc3b)),_0xd4cad3=document['getElementById'](_0x46d550(0xa61));_0xd4cad3[_0x46d550(0xa57)][_0x46d550(0x8de)]('hidden');const _0x199dca=_0x46d550(0x34b);_0x1592f5['insertAdjacentHTML'](_0x46d550(0x9ea),_0x199dca);try{const _0x2bc7fe=_0x3dff28[_0x46d550(0x4a2)][_0x46d550(0x218)]((_0x11d9dd,_0x47762a)=>{const _0xec3b58=_0x46d550;let _0x246591=_0x47762a+0x1+'.\x20'+(_0x11d9dd['questionText']||_0x11d9dd[_0xec3b58(0x722)]);if(_0x11d9dd['options'])_0x246591+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x11d9dd[_0xec3b58(0x9af)][_0xec3b58(0xb7d)](',\x20');return _0x246591;})[_0x46d550(0xb7d)]('\x0a\x0a'),_0x31c21c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x3dff28[_0x46d550(0xb19)]+_0x46d550(0x677)+_0x2bc7fe+_0x46d550(0x809)+simpleMathPrompt+_0x46d550(0x889),_0x4c0067={'type':_0x46d550(0x444),'properties':{'topic':{'type':_0x46d550(0x4d7)},'questions':{'type':_0x46d550(0x2d8),'items':{'type':_0x46d550(0x444),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x46d550(0x4d7)},'options':{'type':_0x46d550(0x2d8),'items':{'type':_0x46d550(0x4d7)}},'correctAnswerIndex':{'type':_0x46d550(0x51e)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x46d550(0x4d7)}},'required':['questionText',_0x46d550(0x55d)]}}},'required':[_0x46d550(0xb19),'questions']},_0x27d9b8=await callAnalysisApi(_0x31c21c,_0x4c0067),_0x1bb3da=_0x3dff28['topic'][_0x46d550(0x50a)](_0x46d550(0x913),'')[_0x46d550(0x6a8)](),_0x2a63a0=_0x46d550(0x634)+_0x1bb3da,_0x899426={..._0x27d9b8,'topic':_0x2a63a0,'quizType':_0x3dff28['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x46d550(0x234)](),'status':_0x46d550(0xd52),'settings':_0x3dff28['settings'],'quizMode':_0x46d550(0x6a3),'pairedQuizId':_0x3dff28['id']};let _0x3c4db0;while(!![]){_0x3c4db0=Math[_0x46d550(0x997)](0x3e8+Math['random']()*0x2328)[_0x46d550(0x2e7)]();const _0x587237=await getDoc(doc(db,_0x46d550(0x73f)+appId+'/public/data/quizzes',_0x3c4db0));if(!_0x587237['exists']())break;}await setDoc(doc(db,_0x46d550(0x73f)+appId+_0x46d550(0xdb4),_0x3c4db0),_0x899426);const _0x569b88=doc(db,_0x46d550(0x73f)+appId+'/public/data/quizzes',_0x3dff28['id']);await updateDoc(_0x569b88,{'pairedQuizId':_0x3c4db0}),showMessage(_0x46d550(0x3b5));}catch(_0x2c16f8){console[_0x46d550(0xd73)]('Error\x20generating\x20parallel\x20post-test:',_0x2c16f8),showMessage(_0x46d550(0xa05)+_0x2c16f8['message']);}finally{const _0x585227=document[_0x46d550(0x8fb)](_0x46d550(0xb8a));if(_0x585227)_0x585227['remove']();_0xd4cad3[_0x46d550(0xa57)][_0x46d550(0x586)](_0x46d550(0xcb3));}}async function handleGenerateParallelTest(_0x6f092f=null){const _0x5b7052=_0xa39756;let _0x48532f=_0x6f092f;if(!_0x48532f){const _0x1a7f43=document[_0x5b7052(0x8fb)](_0x5b7052(0x3bc));_0x1a7f43[_0x5b7052(0xa28)][_0x5b7052(0x7c7)]>0x0&&(_0x48532f=_0x1a7f43[_0x5b7052(0xa28)][0x0]);}if(!_0x48532f){showMessage(_0x5b7052(0xda1));return;}const _0x4f32e3=document[_0x5b7052(0x8fb)](_0x5b7052(0x77e)),_0x4a5466=document['getElementById'](_0x5b7052(0xa03)),_0x5733d9=document[_0x5b7052(0x8fb)](_0x5b7052(0xdf7)),_0x5b6194=document[_0x5b7052(0x8fb)](_0x5b7052(0xc41));_0x5b6194[_0x5b7052(0xc96)]=!![],document['getElementById'](_0x5b7052(0x956))['classList']['remove'](_0x5b7052(0xcb3)),_0x5733d9[_0x5b7052(0x878)]='',_0x4f32e3['classList'][_0x5b7052(0x586)](_0x5b7052(0xcb3)),_0x4a5466[_0x5b7052(0xa47)]=_0x5b7052(0x693);const _0xdfa5fa=new FileReader();_0xdfa5fa[_0x5b7052(0x7e5)](_0x48532f),_0xdfa5fa[_0x5b7052(0x78f)]=async()=>{const _0x1bf26a=_0x5b7052;try{const _0x43f349=_0xdfa5fa[_0x1bf26a(0x3c3)]['split'](',')[0x1],_0x591964=_0x48532f[_0x1bf26a(0xbc3)];_0x4a5466['textContent']=_0x1bf26a(0x2ef);const _0x472572=document['getElementById'](_0x1bf26a(0x6ef))[_0x1bf26a(0x588)],_0x2b1e7e=_0x472572?_0x1bf26a(0xd18):'',_0x132088=_0x1bf26a(0xa0f),_0x34e7e4={'type':_0x1bf26a(0x444),'properties':{'questionText':{'type':_0x1bf26a(0x4d7)},'questionType':{'type':'STRING','enum':[_0x1bf26a(0x525),_0x1bf26a(0x880)]},'options':{'type':_0x1bf26a(0x2d8),'items':{'type':_0x1bf26a(0x4d7)}},'correctAnswerIndex':{'type':_0x1bf26a(0x51e)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1bf26a(0x4d7)}},'required':[_0x1bf26a(0xcd1),_0x1bf26a(0x672),_0x1bf26a(0x55d)]},_0x25625c={'type':_0x1bf26a(0x444),'properties':{'topic':{'type':_0x1bf26a(0x4d7)},'questions':{'type':_0x1bf26a(0x2d8),'items':_0x34e7e4}},'required':['topic','questions']},_0x245bb0=[{'text':_0x132088},{'inlineData':{'mimeType':_0x591964,'data':_0x43f349}}];await handleApiCall(_0x245bb0,_0x1bf26a(0x43c),_0x25625c);}catch(_0x32b9ae){console[_0x1bf26a(0xd73)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x32b9ae),showMessage(_0x1bf26a(0xa05)+_0x32b9ae['message']),_0x5733d9['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x4f32e3['classList'][_0x1bf26a(0x8de)](_0x1bf26a(0xcb3)),_0x5b6194[_0x1bf26a(0xc96)]=![];}},_0xdfa5fa[_0x5b7052(0xb82)]=_0x27b80f=>{const _0x56039b=_0x5b7052;console[_0x56039b(0xd73)](_0x56039b(0x9cd),_0x27b80f),showMessage(_0x56039b(0x44d)),_0x4f32e3[_0x56039b(0xa57)][_0x56039b(0x8de)](_0x56039b(0xcb3)),_0x5b6194[_0x56039b(0xc96)]=![];};}async function handleRegenerateQuestionInEditor(_0xd1e051){const _0x21c551=_0xa39756;if(currentEditingQuizData===null)return;const _0x752e7b=document[_0x21c551(0xa01)](_0x21c551(0x67f)+_0xd1e051+'\x22]');_0x752e7b&&(_0x752e7b[_0x21c551(0x878)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x478a26=currentEditingQuizData[_0x21c551(0x4a2)][_0xd1e051],_0x461778=currentEditingQuizData[_0x21c551(0xb19)],_0x240f27=_0x478a26['questionType'],_0x29436c={'type':_0x21c551(0x444),'properties':{'questionText':{'type':_0x21c551(0x4d7)},'options':{'type':_0x21c551(0x2d8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x21c551(0x51e)},'explanation':{'type':'STRING'}},'required':[_0x21c551(0xcd1),'options','correctAnswerIndex',_0x21c551(0x55d)]},_0xdc3d3b={'type':_0x21c551(0x444),'properties':{'questionText':{'type':_0x21c551(0x4d7)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':[_0x21c551(0xcd1),_0x21c551(0x5c6),'explanation']};let _0x14c547,_0x58f03e='';_0x240f27===_0x21c551(0x525)?(_0x14c547=_0x29436c,_0x58f03e=_0x21c551(0xa6a)):(_0x14c547=_0xdc3d3b,_0x58f03e=_0x21c551(0x4dd));const _0x2b3c0c='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x461778+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0x58f03e+_0x21c551(0x755)+(_0x478a26[_0x21c551(0xcd1)]||_0x478a26['stem'])+_0x21c551(0x8d1)+simpleMathPrompt;try{const _0x49a2a4=await callAnalysisApi(_0x2b3c0c,_0x14c547);currentEditingQuizData[_0x21c551(0x4a2)][_0xd1e051]={..._0x478a26,..._0x49a2a4},renderQuizEditor(currentEditingQuizData);}catch(_0x15a12c){console[_0x21c551(0xd73)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x15a12c),showMessage(_0x21c551(0xc56)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x342d96=_0xa39756,_0x1c079d=document['getElementById']('mode-switcher-btn');currentMode===_0x342d96(0x79f)?(adminPasswordModal[_0x342d96(0xa57)][_0x342d96(0x586)](_0x342d96(0xcb3)),document[_0x342d96(0x8fb)]('admin-password-input')[_0x342d96(0x515)]()):(currentMode=_0x342d96(0x79f),_0x1c079d[_0x342d96(0x878)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x1c079d['title']=_0x342d96(0x2a8),showView(_0x342d96(0x79f)));}function handleAdminLogin(){const _0x7df1b5=_0xa39756,_0x375f03=document[_0x7df1b5(0x8fb)](_0x7df1b5(0x230)),_0x1b0c1a=document['getElementById']('password-error-msg');if(_0x375f03[_0x7df1b5(0x3d4)]==='27411472'){adminPasswordModal[_0x7df1b5(0xa57)][_0x7df1b5(0x8de)](_0x7df1b5(0xcb3)),_0x375f03[_0x7df1b5(0x3d4)]='',_0x1b0c1a[_0x7df1b5(0xa57)][_0x7df1b5(0x8de)](_0x7df1b5(0xcb3)),currentMode=_0x7df1b5(0x962);const _0xf7e66a=document['getElementById'](_0x7df1b5(0x520));_0xf7e66a[_0x7df1b5(0x878)]=_0x7df1b5(0xd2c),_0xf7e66a[_0x7df1b5(0x867)]=_0x7df1b5(0x6cc),showView(_0x7df1b5(0xc1a));}else _0x1b0c1a[_0x7df1b5(0xa57)]['remove'](_0x7df1b5(0xcb3)),_0x375f03['value']='';}function switchProjectTab(_0x14a57f){const _0x3221d1=_0xa39756;[_0x3221d1(0xc3e),_0x3221d1(0x744),'leaderboard'][_0x3221d1(0x71e)](_0x2d3ac6=>{const _0x243e16=_0x3221d1;document[_0x243e16(0x8fb)](_0x2d3ac6+_0x243e16(0x879))['classList']['remove']('active'),document['getElementById'](_0x2d3ac6+'-tab-content')[_0x243e16(0xa57)][_0x243e16(0x8de)](_0x243e16(0xcb3));}),document[_0x3221d1(0x8fb)](_0x14a57f+_0x3221d1(0x879))[_0x3221d1(0xa57)]['add']('active'),document[_0x3221d1(0x8fb)](_0x14a57f+'-tab-content')['classList'][_0x3221d1(0x586)](_0x3221d1(0xcb3));}function switchQuizDetailTab(_0x4d05ae){const _0x2a9f23=_0xa39756,_0x12d393={'analytics':{'btn':'analytics-tab-btn','content':_0x2a9f23(0x8b0)},'scores':{'btn':_0x2a9f23(0x641),'content':_0x2a9f23(0xc88)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x2a9f23(0xc2d)},'behavior-log':{'btn':_0x2a9f23(0x2fc),'content':_0x2a9f23(0xb3e)}};for(const _0x77a62a in _0x12d393){document[_0x2a9f23(0x8fb)](_0x12d393[_0x77a62a]['btn'])['classList'][_0x2a9f23(0x586)]('active'),document[_0x2a9f23(0x8fb)](_0x12d393[_0x77a62a][_0x2a9f23(0x68b)])['classList'][_0x2a9f23(0x8de)](_0x2a9f23(0xcb3));}document[_0x2a9f23(0x8fb)](_0x12d393[_0x4d05ae][_0x2a9f23(0x900)])[_0x2a9f23(0xa57)][_0x2a9f23(0x8de)](_0x2a9f23(0xd52)),document[_0x2a9f23(0x8fb)](_0x12d393[_0x4d05ae][_0x2a9f23(0x68b)])['classList'][_0x2a9f23(0x586)](_0x2a9f23(0xcb3));}function showMessage(_0x52571e,_0x115e9c=null){const _0x239ebe=_0xa39756;modalMessage[_0x239ebe(0xa47)]=_0x52571e,modalConfirmAction=_0x115e9c,messageModal[_0x239ebe(0xa57)][_0x239ebe(0x586)](_0x239ebe(0xcb3));}function showConfirmation(_0x37d986,_0x54bb1f){const _0x2b2c80=_0xa39756;document[_0x2b2c80(0x8fb)]('confirmation-message')[_0x2b2c80(0xa47)]=_0x37d986,document[_0x2b2c80(0x8fb)](_0x2b2c80(0xadb))[_0x2b2c80(0xa01)]('h3')[_0x2b2c80(0xa47)]=_0x2b2c80(0x2b0),confirmAction=_0x54bb1f,confirmationModal[_0x2b2c80(0xa57)]['remove'](_0x2b2c80(0xcb3));}function listenForProjects(){const _0x51d918=_0xa39756,_0x2ac6a0=doc(db,'globalSettings',_0x51d918(0xac0));onSnapshot(_0x2ac6a0,_0x37fc60=>{const _0x2af7cc=_0x51d918;if(_0x37fc60['exists']()){const _0x738fa=_0x37fc60['data']();globalDashboardSettings[_0x2af7cc(0x64c)]=_0x738fa[_0x2af7cc(0x64c)]||_0x2af7cc(0xad2),globalDashboardSettings['pinnedProjects']=_0x738fa[_0x2af7cc(0x954)]||[],globalDashboardSettings[_0x2af7cc(0xa71)]=_0x738fa[_0x2af7cc(0xa71)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x31ff68=collection(db,_0x51d918(0x73f)+appId+_0x51d918(0xb08));unsubscribeProjectsListener=onSnapshot(_0x31ff68,_0x4dc42a=>{const _0x445364=_0x51d918;allProjects=_0x4dc42a[_0x445364(0x485)][_0x445364(0x218)](_0x1d6634=>({'id':_0x1d6634['id'],..._0x1d6634[_0x445364(0x3d7)]()})),renderProjects();},_0x17eee1=>{const _0x2b70d7=_0x51d918;console['error'](_0x2b70d7(0xc3d),_0x17eee1),showMessage(_0x2b70d7(0x2ee));});}function showColorPalette(_0x13e54f,_0x28413c){const _0x472ee5=_0xa39756;document[_0x472ee5(0x6aa)]('.color-palette-popup')[_0x472ee5(0x71e)](_0x1129bb=>_0x1129bb['remove']());const _0x5af186=['#FFFFFF',_0x472ee5(0x339),_0x472ee5(0x94a),_0x472ee5(0x220),_0x472ee5(0x8cb),_0x472ee5(0x5b0),_0x472ee5(0xb92),'#FCE7F3',_0x472ee5(0x926)],_0x169be9=document[_0x472ee5(0x80c)](_0x472ee5(0x98f));_0x169be9['className']=_0x472ee5(0x787),_0x5af186[_0x472ee5(0x71e)](_0x1a0434=>{const _0x36561c=_0x472ee5,_0x1a2d99=document[_0x36561c(0x80c)](_0x36561c(0x98f));_0x1a2d99['className']='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x1a2d99[_0x36561c(0x4b4)][_0x36561c(0x982)]=_0x1a0434,_0x1a2d99[_0x36561c(0xb95)](_0x36561c(0x305),()=>{const _0x4a839f=_0x36561c;handleProjectColorChange(_0x28413c,_0x1a0434),_0x169be9[_0x4a839f(0x586)]();}),_0x169be9[_0x36561c(0x7d1)](_0x1a2d99);}),document[_0x472ee5(0x587)]['appendChild'](_0x169be9);const _0x12a002=_0x13e54f[_0x472ee5(0xd13)]();_0x169be9[_0x472ee5(0x4b4)][_0x472ee5(0x4b1)]=_0x12a002['bottom']+window[_0x472ee5(0x384)]+'px',_0x169be9[_0x472ee5(0x4b4)][_0x472ee5(0x256)]=_0x12a002['left']+window[_0x472ee5(0xc20)]-_0x169be9['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x562c66,_0x18529b){const _0xe9989=_0xa39756,_0x1cfd51=doc(db,_0xe9989(0x73f)+appId+_0xe9989(0xb08),_0x562c66);try{await updateDoc(_0x1cfd51,{'color':_0x18529b});}catch(_0x8b5483){console[_0xe9989(0xd73)](_0xe9989(0xca6),_0x8b5483),showMessage(_0xe9989(0x382));}}async function renderProjects(){const _0x3d8562=_0xa39756,_0x185d4a=globalDashboardSettings[_0x3d8562(0x64c)]||_0x3d8562(0xad2),_0x34035f=new Set(globalDashboardSettings[_0x3d8562(0x954)]||[]),_0x4c1621=globalDashboardSettings[_0x3d8562(0xb1c)]||_0x3d8562(0x7ad),_0x2eefea=document[_0x3d8562(0x8fb)](_0x3d8562(0x9ba)),_0x2641a2=document['getElementById']('list-view-btn');_0x2eefea[_0x3d8562(0xa57)][_0x3d8562(0x636)](_0x3d8562(0xd52),_0x4c1621===_0x3d8562(0x7ad)),_0x2641a2[_0x3d8562(0xa57)][_0x3d8562(0x636)]('active',_0x4c1621===_0x3d8562(0xa6f)),document[_0x3d8562(0x8fb)](_0x3d8562(0x3b0))[_0x3d8562(0x3d4)]=_0x185d4a;const _0xb0cc08=document[_0x3d8562(0x8fb)](_0x3d8562(0x84a))[_0x3d8562(0x3d4)][_0x3d8562(0xb4d)]();let _0xb7030d=allProjects['filter'](_0x168d66=>_0x168d66[_0x3d8562(0x437)][_0x3d8562(0xb4d)]()[_0x3d8562(0x44e)](_0xb0cc08));const _0x106da8=_0xb7030d[_0x3d8562(0x4da)](_0x2f27fd=>_0x34035f[_0x3d8562(0x51a)](_0x2f27fd['id'])),_0x5e4147=_0xb7030d[_0x3d8562(0x4da)](_0x4cdbfd=>!_0x34035f[_0x3d8562(0x51a)](_0x4cdbfd['id'])),_0x578ace=(_0xa3ed85,_0x298bcc)=>{const _0x339e8f=_0x3d8562;switch(_0x185d4a){case _0x339e8f(0xda2):return _0xa3ed85[_0x339e8f(0x437)][_0x339e8f(0xa04)](_0x298bcc['projectName'],'th');case'name_desc':return _0x298bcc[_0x339e8f(0x437)][_0x339e8f(0xa04)](_0xa3ed85[_0x339e8f(0x437)],'th');case _0x339e8f(0x9c4):return new Date(_0xa3ed85[_0x339e8f(0x861)])-new Date(_0x298bcc[_0x339e8f(0x861)]);default:return new Date(_0x298bcc[_0x339e8f(0x861)])-new Date(_0xa3ed85[_0x339e8f(0x861)]);}};_0x106da8['sort'](_0x578ace),_0x5e4147[_0x3d8562(0xcbf)](_0x578ace);const _0x511748=[..._0x106da8,..._0x5e4147],_0x1cd77b=globalDashboardSettings[_0x3d8562(0xa71)]||[];_0x1cd77b[_0x3d8562(0x7c7)]>0x0&&_0x4c1621===_0x3d8562(0x7ad)&&_0x511748[_0x3d8562(0xcbf)]((_0x1f7541,_0xc5995a)=>{const _0xe00dcb=_0x3d8562,_0x4a1208=_0x1cd77b[_0xe00dcb(0x83d)](_0x1f7541['id']),_0x211a48=_0x1cd77b[_0xe00dcb(0x83d)](_0xc5995a['id']);if(_0x4a1208===-0x1)return 0x1;if(_0x211a48===-0x1)return-0x1;return _0x4a1208-_0x211a48;});const _0x2688d8={};await Promise[_0x3d8562(0x49d)](_0x511748[_0x3d8562(0x218)](async _0x2b7028=>{const _0x35ba24=_0x3d8562,_0x41d2bd=query(collection(db,_0x35ba24(0x73f)+appId+_0x35ba24(0xdb4)),where(_0x35ba24(0xa68),'==',_0x2b7028['id'])),_0x589c3a=await getDocs(_0x41d2bd);_0x2688d8[_0x2b7028['id']]=_0x589c3a[_0x35ba24(0x73a)];}));const _0x209451=document[_0x3d8562(0x8fb)](_0x3d8562(0x5e9));let _0x1f083f='';if(_0x4c1621===_0x3d8562(0x7ad)){_0x209451[_0x3d8562(0x509)]=_0x3d8562(0xb71);if(starredQuizzes['length']>0x0&&_0xb0cc08===''){const _0x1ea568=starredQuizzes[_0x3d8562(0x218)](_0x2e8d7f=>{const _0x1f0adf=_0x3d8562,_0x24632e=allProjects['find'](_0x502a9e=>_0x502a9e['id']===_0x2e8d7f[_0x1f0adf(0xa68)]);return{..._0x2e8d7f,'projectName':_0x24632e?_0x24632e[_0x1f0adf(0x437)]:_0x1f0adf(0xa5b)};});_0x1f083f+=_0x3d8562(0x4a0)+_0x1ea568[_0x3d8562(0x218)](_0x317290=>_0x3d8562(0x668)+_0x317290[_0x3d8562(0xb19)]+'\x22>'+_0x317290[_0x3d8562(0xb19)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x317290[_0x3d8562(0x437)]+'\x22>จาก:\x20'+_0x317290[_0x3d8562(0x437)]+_0x3d8562(0xc39))[_0x3d8562(0xb7d)]('')+_0x3d8562(0x7fb)+starredQuizzes['length']+_0x3d8562(0x8a3);}_0x511748[_0x3d8562(0x71e)](_0x440bac=>{const _0x2e1178=_0x3d8562,_0x77d1a8=_0x2688d8[_0x440bac['id']]??0x0,_0x164bb0=_0x34035f[_0x2e1178(0x51a)](_0x440bac['id']),_0x1337b3=_0x440bac[_0x2e1178(0x583)]||'#FFFFFF',_0x2caf42=parseInt(_0x1337b3[_0x2e1178(0x86a)](0x1,0x3),0x10)*0.299+parseInt(_0x1337b3[_0x2e1178(0x86a)](0x3,0x5),0x10)*0.587+parseInt(_0x1337b3[_0x2e1178(0x86a)](0x5,0x7),0x10)*0.114<0xba,_0x3d23c6=_0x2caf42?_0x2e1178(0x315):_0x2e1178(0x9c5),_0x36197f=_0x2caf42?_0x2e1178(0x4d8):'text-gray-500';_0x1f083f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x164bb0?_0x2e1178(0x2c6):_0x2e1178(0xcf2))+_0x2e1178(0x928)+_0x1337b3+';\x22\x20data-id=\x22'+_0x440bac['id']+_0x2e1178(0x6e8)+_0x440bac['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x2caf42?_0x2e1178(0x3ca):_0x2e1178(0x3a1))+_0x2e1178(0xbd4)+_0x440bac['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x2caf42?_0x2e1178(0x3ca):_0x2e1178(0x3a1))+_0x2e1178(0x66b)+(_0x164bb0?_0x2caf42?_0x2e1178(0xd29):_0x2e1178(0xdcf):'')+_0x2e1178(0x24c)+_0x440bac['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x3d23c6+_0x2e1178(0x9a0)+_0x440bac[_0x2e1178(0x437)]+_0x2e1178(0xa86)+_0x36197f+_0x2e1178(0x64b)+new Date(_0x440bac[_0x2e1178(0x861)])[_0x2e1178(0x810)](_0x2e1178(0xabb))+_0x2e1178(0x5cd)+(_0x2caf42?_0x2e1178(0x452):_0x2e1178(0xc82))+_0x2e1178(0x7ef)+_0x77d1a8+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x440bac['id']+_0x2e1178(0xc23)+_0x440bac[_0x2e1178(0x437)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x2caf42?_0x2e1178(0x456):_0x2e1178(0xa3c))+_0x2e1178(0x9f8);});}else _0x209451[_0x3d8562(0x509)]=_0x3d8562(0x1f3),starredQuizzes[_0x3d8562(0x7c7)]>0x0&&_0xb0cc08===''&&(_0x1f083f+=_0x3d8562(0xd8d)+starredQuizzes[_0x3d8562(0x7c7)]+_0x3d8562(0x9b8)),_0x1f083f+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x511748['forEach'](_0x31b416=>{const _0x328f3e=_0x3d8562,_0x4026b4=_0x2688d8[_0x31b416['id']]??0x0,_0x5c66fb=_0x34035f[_0x328f3e(0x51a)](_0x31b416['id']);_0x1f083f+=_0x328f3e(0xb74)+(_0x31b416['color']||_0x328f3e(0x926))+_0x328f3e(0x89d)+_0x31b416['id']+_0x328f3e(0xafa)+_0x31b416[_0x328f3e(0x437)]+_0x328f3e(0x6bb)+_0x4026b4+_0x328f3e(0xac6)+new Date(_0x31b416[_0x328f3e(0x861)])['toLocaleString'](_0x328f3e(0xabb))+_0x328f3e(0xb5b)+_0x31b416['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x5c66fb?_0x328f3e(0xdcf):'')+_0x328f3e(0x4cf)+_0x31b416['id']+'\x22\x20data-name=\x22'+_0x31b416[_0x328f3e(0x437)]+_0x328f3e(0xae9);});projectList[_0x3d8562(0x878)]=_0x1f083f,noProjectsMsg[_0x3d8562(0xa57)][_0x3d8562(0x636)](_0x3d8562(0xcb3),_0x1f083f[_0x3d8562(0x7c7)]>0x0);}document[_0xa39756(0x8fb)](_0xa39756(0x1f8))[_0xa39756(0xb95)]('click',async()=>{const _0x1303d8=_0xa39756,_0x445d8e=document[_0x1303d8(0x8fb)]('project-name-input'),_0x243c5d=_0x445d8e[_0x1303d8(0x3d4)][_0x1303d8(0x6a8)]();if(!_0x243c5d){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x27ba18=doc(collection(db,_0x1303d8(0x73f)+appId+'/public/data/projects'));await setDoc(_0x27ba18,{'projectName':_0x243c5d,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x1303d8(0x6dd),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x1303d8(0x6dd),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x1303d8(0x234)]()}),_0x445d8e['value']='',createProjectModal[_0x1303d8(0xa57)]['add'](_0x1303d8(0xcb3)),showMessage(_0x1303d8(0x3fc));}catch(_0x1b021c){console[_0x1303d8(0xd73)](_0x1303d8(0x69c),_0x1b021c),showMessage(_0x1303d8(0x46c));}}),projectList[_0xa39756(0xb95)](_0xa39756(0x305),async _0x29b40e=>{const _0x10e759=_0xa39756,_0xb58883=_0x29b40e[_0x10e759(0x748)]['closest']('.project-card-content'),_0x3b19bb=_0x29b40e[_0x10e759(0x748)][_0x10e759(0x762)](_0x10e759(0xb2a)),_0x43e5d4=_0x29b40e[_0x10e759(0x748)][_0x10e759(0x762)](_0x10e759(0x8a9)),_0x274aa4=_0x29b40e[_0x10e759(0x748)][_0x10e759(0x762)](_0x10e759(0x801));if(_0x43e5d4){const _0x30fe56=_0x43e5d4['dataset']['id'],_0x398975=doc(db,_0x10e759(0x96b),_0x10e759(0xac0)),_0x54bb9c=globalDashboardSettings[_0x10e759(0x954)];let _0x399a02;_0x54bb9c[_0x10e759(0x44e)](_0x30fe56)?_0x399a02=_0x54bb9c[_0x10e759(0x4da)](_0x165e37=>_0x165e37!==_0x30fe56):_0x399a02=[..._0x54bb9c,_0x30fe56];try{await setDoc(_0x398975,{'pinnedProjects':_0x399a02},{'merge':!![]});}catch(_0x50a0d6){console[_0x10e759(0xd73)](_0x10e759(0xcef),_0x50a0d6),showMessage(_0x10e759(0xc7a));}}else{if(_0x274aa4){const _0x2be005=_0x274aa4[_0x10e759(0x87f)]['id'];showColorPalette(_0x274aa4,_0x2be005);}else{if(_0xb58883){const _0x3290ad=_0xb58883[_0x10e759(0x87f)]['id'];_0x3290ad===_0x10e759(0x993)?showStarredProjectView():(currentProjectId=_0x3290ad,await loadProjectDetails(currentProjectId),showView(_0x10e759(0xb8b)));}else{if(_0x3b19bb){const _0x4be1be=_0x3b19bb[_0x10e759(0x87f)]['id'],_0x5827f2=_0x3b19bb['dataset'][_0x10e759(0x4ee)];showConfirmation(_0x10e759(0x229)+_0x5827f2+_0x10e759(0x998),()=>handleDeleteProject(_0x4be1be));}}}}}),projectList[_0xa39756(0xb95)]('dragstart',_0x338e16=>{const _0x5cc8b7=_0xa39756,_0x5026f7=_0x338e16[_0x5cc8b7(0x748)][_0x5cc8b7(0x762)](_0x5cc8b7(0xa83));_0x5026f7&&_0x5026f7[_0x5cc8b7(0xa57)][_0x5cc8b7(0x8de)](_0x5cc8b7(0xc6c));}),projectList['addEventListener'](_0xa39756(0x3a2),_0x183a79=>{const _0x1c1f8d=_0xa39756,_0x5b6c4d=_0x183a79[_0x1c1f8d(0x748)][_0x1c1f8d(0x762)](_0x1c1f8d(0xa83));_0x5b6c4d&&_0x5b6c4d[_0x1c1f8d(0xa57)][_0x1c1f8d(0x586)](_0x1c1f8d(0xc6c));}),projectList[_0xa39756(0xb95)]('dragover',_0x6fe1bc=>{const _0x55fb82=_0xa39756;_0x6fe1bc['preventDefault']();const _0x517bb0=document['querySelector'](_0x55fb82(0x2ca));if(!_0x517bb0)return;const _0x48d68f=getDragAfterElement(projectList,_0x6fe1bc[_0x55fb82(0x65e)]);_0x48d68f==null?projectList[_0x55fb82(0x7d1)](_0x517bb0):projectList[_0x55fb82(0x2dd)](_0x517bb0,_0x48d68f);}),projectList['addEventListener'](_0xa39756(0x39e),_0x32344e=>{const _0x1b48fc=_0xa39756;_0x32344e[_0x1b48fc(0xc6f)]();const _0x1b80b1=[...projectList['querySelectorAll'](_0x1b48fc(0x20d))][_0x1b48fc(0x218)](_0x3b99a9=>_0x3b99a9[_0x1b48fc(0x87f)]['id']);saveProjectOrder(_0x1b80b1);});function renderBehaviorLog(_0x2c78c2){const _0x23be19=_0xa39756,_0x3d4300=document[_0x23be19(0x8fb)]('behavior-log-container');if(!_0x3d4300)return;const _0x297550=_0x2c78c2[_0x23be19(0x4da)](_0x56765f=>_0x56765f[_0x23be19(0xcd8)]&&_0x56765f[_0x23be19(0xcd8)][_0x23be19(0x7c7)]>0x0);if(_0x297550['length']===0x0){_0x3d4300[_0x23be19(0x878)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x16188d='';_0x297550['forEach'](_0x1d1f25=>{const _0x41d7ab=_0x23be19;_0x16188d+=_0x41d7ab(0x2a6)+_0x1d1f25[_0x41d7ab(0x1f5)]+_0x41d7ab(0x6a5),_0x1d1f25[_0x41d7ab(0xcd8)]['sort']((_0x28eb05,_0x95a591)=>new Date(_0x95a591['timestamp'])-new Date(_0x28eb05[_0x41d7ab(0x573)]))[_0x41d7ab(0x71e)](_0x5b96e9=>{const _0xe68fff=_0x41d7ab,_0x5875c3=new Date(_0x5b96e9['timestamp'])['toLocaleString'](_0xe68fff(0xabb),{'dateStyle':_0xe68fff(0x236),'timeStyle':_0xe68fff(0x63b)});_0x16188d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x5b96e9[_0xe68fff(0x7f2)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x5875c3+_0xe68fff(0x797);}),_0x16188d+=_0x41d7ab(0x97f);}),_0x3d4300['innerHTML']=_0x16188d;}function getDragAfterElement(_0x271c32,_0x1709ab){const _0x5464f9=_0xa39756,_0x4b106a=[..._0x271c32[_0x5464f9(0x6aa)](_0x5464f9(0x84d))];return _0x4b106a['reduce']((_0x69af4f,_0xc961ef)=>{const _0x2252a8=_0x5464f9,_0x425b4f=_0xc961ef[_0x2252a8(0xd13)](),_0x30d990=_0x1709ab-_0x425b4f[_0x2252a8(0x4b1)]-_0x425b4f[_0x2252a8(0xabd)]/0x2;return _0x30d990<0x0&&_0x30d990>_0x69af4f[_0x2252a8(0x990)]?{'offset':_0x30d990,'element':_0xc961ef}:_0x69af4f;},{'offset':Number[_0x5464f9(0x9a3)]})[_0x5464f9(0x746)];}async function saveProjectOrder(_0x3f310d){const _0x558a7e=_0xa39756,_0x15fd11=doc(db,_0x558a7e(0x96b),_0x558a7e(0xac0));try{await setDoc(_0x15fd11,{'projectOrder':_0x3f310d},{'merge':!![]});}catch(_0x4ff218){console['error'](_0x558a7e(0xadd),_0x4ff218),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}function _0x4523(){const _0x412f78=['</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','#open-additional-file-shortcuts-btn','/users/','เสือซ่อนเล็บ','live-short-answer-input','leaderboard-quiz-tab-content','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','source_document.txt','close-topic-bank-btn','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','00:00','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','ผู้เล่น\x20','handleGeneratePracticeTest','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช่\x20/\x20ถูก','results-tab-content','passcode','Error\x20listening\x20for\x20projects:','manage','\x0a\x20\x20\x20\x20\x20\x20</div>','ทะเล','generate-from-parallel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','cancel-bulk-quiz-settings-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','.use-hidden-parallel-shortcut-btn','การยืนยันตัวตนล้มเหลว','lesson-plan-title','topic-input','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','anonymous','.view-bp-lesson-btn','แบบทดสอบนี้ปิดใช้งานอยู่','true_false','shortcut-editor-modal','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','lesson-view-modal','Error\x20processing\x20shortcut\x20click:','ไม่ใช่','ระยะเวลา\x20(วินาที):','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','<p\x20class=\x22','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','times','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','สมการยกกำลัง','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','Error\x20in\x20generating\x20from\x20files:','.draggable-text','เพนกวินไฟ','_new','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','ไฟล์ทั้งหมด','<div\x20class=\x22p-2\x20rounded-md\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','ondblclick','input','classic','selected-topics-count','เปิด\x20(จับเวลา)','fill_in_the_blank','.delete-file-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','opacity-50','cdot','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','preventDefault','mousemove','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','createElementNS','</p>','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#parallel-shortcut-tabs-nav\x20.tab-name-input','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','แบบทดสอบซ่อมเสริม','เกิดข้อผิดพลาดในการปักหมุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','การแจกแจงปกติและ\x20z-score','back-to-dashboard-from-bp-btn','memory','innerText','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','bp-modal-difficulty-level-select','text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','.remove-shortcut-from-tab-btn','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','check-presentation-answer-btn','math-topics-checkbox-container','scores-tab-content','Failed\x20to\x20resume\x20game\x20session:','แอบชอบ','responseSchema','.topic-row','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','42xRENWU','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','endsWith','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','input[name=\x22team_player\x22]:checked','geq','disabled','```json','คะแนนเต็ม','handleGenerateQuizFromBlueprintTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','parallel-shortcut-url-input','contentEditable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','wakeLock','team','bp-project-title','confirm-admin-login-btn','จุด\x20เส้น\x20ระนาบ','ไม่พบข้อมูลการจับคู่','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','Error\x20updating\x20project\x20color:','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lineWidth','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','hasOwnProperty','เกิดข้อผิดพลาดในการบันทึก','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','now','blockReason','.file-shortcut-btn','PERSEVERANCE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','Error\x20fetching\x20projects\x20for\x20move:','hidden','behavior-log','\x20(สำหรับ\x20','cancel-admin-login-btn','Error\x20deleting\x20custom\x20topic:','additional-parallel-shortcuts-list','cancel-file-shortcut-edit-btn','manage-tab-content','add-custom-math-topic-btn','quizId','scratchpad-modal','next-sync-question-btn','sort','interesting-stats-container','ตอบถูกทุกข้อในแบบทดสอบนี้','class','leaderboard-quiz','add-file-shortcut-btn','actions-container-','students','\x20ข้อ\x20','bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20student:','complexityValue','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','\x22\x20name=\x22confidence','status','admin-view','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','questionText','ควรปรับปรุง','max','<div\x20class=\x22my-6\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createObjectURL','.delete-hidden-parallel-shortcut-btn','behaviorLog','scratchpad-close-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','afterend','keyup','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','copy','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','(^|[^\x5c\x5c])\x5cb','data:application/vnd.ms-word;charset=utf-8,','#10B981','sync-player-management','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','#open-additional-shortcuts-btn','destroy','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','bp-quiz-settings-btn','\x22...','text-green-600','All\x20groups\x20have\x20finished.\x20Ending\x20game.','Error\x20updating\x20pin\x20status:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','start-game-btn','border-gray-200','player-count','admin-try-quiz-btn','Error\x20clearing\x20all\x20links:','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','blueprint-project-manager-view','นักดนตรี','log','กำลังวิเคราะห์หัวข้อ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-status-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','\x20แบบทดสอบลงในคลังสำเร็จ!','shortcutId','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','practiceProblems','\x20\x20\x20-\x20คำตอบ:\x20','ไม่พบข้อมูลแบบทดสอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','copy-quiz-id-btn','dataIndex','</form>','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','input[type=\x22checkbox\x22]','main-correct-answer-display','fileShortcutOrder','join-live-game-btn','latestScore','ไม่พบข้อมูลข้อสอบหลังเรียน','live-game','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','กรุณาเลือกไฟล์ก่อน','getBoundingClientRect','.quiz-bank-delete-btn','text-green-800','project-id-display','นักล่าฝัน','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','/public/data/liveGames','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','อัศวินรัตติกาล','แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-additional-shortcuts-btn','หนอนหนังสือ','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','bg-[#DCFCE7]\x20text-green-900','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','ปิดใช้งาน','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','.bp-try-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','แบบทดสอบที่ติดดาว','text-yellow-300','เกิดข้อผิดพลาดในการลบแบบทดสอบ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','#student-project-leaderboard-content\x20thead','summary_chart','border-green-700','scratchpad-clear-btn','\x5csqrt{$1}','request','blueprint-shortcut-container','gameVariant','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','.live-answer-btn','approx','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','จำนวนและการดำเนินการ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','Error\x20linking\x20quizzes:','bg-green-500','ค.ร.น.\x20(LCM)','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-red-500\x20text-white\x20font-bold','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','รีเซ็ตลำดับโปรเจคแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fill','clearRect','document','bg-green-200\x20text-green-900','โจรสลัดอวกาศ','(ฉบับง่าย)\x20','2933LvkTwt','<p><strong>คำตอบของคุณ:</strong>\x20','upper_group_count','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</li>','active','verify-answers-editor-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','source-over','touches','export-compact-pdf-btn','editable-text-','\x20to\x20blueprint\x20topic\x20','Error\x20saving\x20to\x20question\x20bank:','ondragstart','แก้ไขหัวข้อสำเร็จ','scrollIntoView','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','results_','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','on_fire','.edit-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สายลมแห่งโชคชะตา','ห.ร.ม.\x20(GCD)','isFinished','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','difficulty-level-select','attempts','fixed','input[name=\x22syncVariant\x22][value=\x22classic\x22]','Error\x20processing\x20file\x20shortcut\x20click:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','sync-short-answer-input','อัตราการเปลี่ยนแปลงทันที','error','confidence','.cancel-edit-topic-btn','.kick-player-btn-sync','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','activeGameSession','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','คำถามดิบ:\x20\x22','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','ปุ่มลัดทั้งหมด','admin-password-modal','findIndex','parallel-test-tab','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','modal-timer-duration-input','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','interesting-stats-wrapper','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x20หัวข้อ)','%PDF','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','requestFullscreen','\x20คนที่ส่ง\x20ตอบถูก\x20(','.regenerate-question-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','kick-player-btn','\x20mx-1\x20text-lg\x22></i></span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','insertAdjacentHTML','imageCode','export-excel-btn','confidence-mode-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','.parallel-shortcut-tab-btn','open-blueprint-projects-btn','\x22><span>','BOOLEAN','กำลังค้นหากิจกรรม...','clientX','newappai','quizMode','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','pen-tool-btn','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','name_asc','Error\x20listening\x20for\x20starred\x20quizzes:','จำนวนข้อ:','bulk-quiz-settings-btn','dblclick','.verification-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','reset-project-order-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','parallel-shortcut-editor-modal','thead','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','correctAnswer','visibilityState','answer-grid-container','hasPerfectScoreBonus','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','/public/data/quizzes','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','msRequestFullscreen','bg-black/10','ฮัลค์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','not-found','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22checkbox\x22]:checked','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','modal-passing-score-input','Error\x20adding\x20topic:','ถูก','ความเท่ากันทุกประการของสามเหลี่ยม','</span><span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','screen_exit','กฎของไซน์','reference.txt','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','quiz-settings-modal','cancel-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','asc','match','text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','</h3>','fixedData','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','ฟังก์ชันกำลังสองและกราฟ','\x22\x20name=\x22question','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','bg-green-100\x20font-bold','option','loopUntilPass','Unexpected\x20API\x20response\x20structure:','create-project-modal','confidence-scoring-toggle','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.quiz-settings-btn','#open-additional-parallel-shortcuts-btn','<div\x20class=\x22','ลบแบบทดสอบสำเร็จแล้ว','project-passcode-modal','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','ฟังก์ชันแบบชิ้นส่วน','pow','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สิงโตยิ้ม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ตัวแทนแห่งดวงจันทร์','blueprintShortcuts','.quiz-bank-parallel-btn','</tbody></table></div>','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','additional-file-shortcuts-modal','export-tutor-pdf-btn','Failed\x20to\x20get\x20standardized\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','select[name=\x22question_single\x22]','generated-quiz-container','ค่าเสื่อมราคา','documentElement','.quiz-bank-present-btn','num-questions','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','bp-reference-file-url','flex\x20flex-col\x20gap-2','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','studentName','.bp-create-onet-quiz-btn','bp-modal-question-complexity-select','confirm-create-project-btn','\x20รายการ\x20สำเร็จ!','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','perQuestionStats','live-submit-short-answer-btn','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','.move-parallel-shortcut-menu-btn','Error\x20fetching\x20student\x20rankings:','ผู้เชี่ยวชาญ','custom-math-topic-input','difficultyValue','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','auto','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','removeChild','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','topic_','หน่วยความยาวและการแปลง','เกิดข้อผิดพลาดในการสร้างห้องเกม','.project-card-container[data-id]','players','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','slice','เงินงวด\x20(อนุกรมเงินงวด)','.shortcut-btn','</th>','smooth','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','สู้ๆ\x20ลองอีกครั้งนะ','map','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','highlighter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','#D1FAE5','ตอบถูก\x203\x20ข้อติดต่อกัน','ที่พิมพ์ได้\x20จำนวน\x20','removeEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','Error\x20deleting\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-type-select','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','bp-add-topic-btn','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','shouldSaveResults','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','Error\x20fetching\x20project\x20quizzes:','admin-password-input','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','ร้อยละพื้นฐาน','file-shortcut-id-input','toISOString','print','short','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','allResponses','checkbox','prod','fa-pen','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','bulk-shuffle-select','start-live-race-generated-btn','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','404\x20Not\x20Found','การคูณเศษส่วน','summaryContent','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','update-old-quizzes-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','.ai-fix-question-btn','[*]','comparison-overall-content','sync-manage-players-btn','ดีเทอร์มิแนนต์','การสร้างรูปด้วยวงเวียน–สันตรง','open','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','file-topics-list','left','Error\x20submitting\x20team\x20answer:','<button\x20data-quiz-id=\x22','tool','Error\x20saving\x20reference\x20URL:','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','student-quiz-area','หัวข้อหลักใหม่','2637oqNATu','show-in-student-dashboard-checkbox','fa-rocket\x20text-purple-500','เกิดข้อผิดพลาดในการลบ','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','pointercancel','Failed\x20to\x20create/update\x20submission\x20record:','\x20ครั้ง)</span></td>','text/plain','manual-bp-project-name','setItem','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','standardTopic','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','.ai-content\x20p','/submissions','bg-green-200\x20text-green-800','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','ทำคะแนนได้เกินครึ่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','จากเนื้อหาต่อไปนี้:\x20\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','ondragover','from','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','ยูทูปเบอร์ฝึกหัด','มังกรกินจุ','export-image-btn','highlighter-tool-btn','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','isScored','confirm-bulk-quiz-settings-btn','Error\x20analyzing\x20blueprint\x20topics:','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','removeAttribute','ข้อที่\x20','.flex.justify-between.items-center','deselect-all-topics-btn','มือปราบสายรุ้ง','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Auto-linking\x20new\x20quiz\x20','.open-bp-project-btn','topic-quiz-bank-modal','contains','รูปสี่เหลี่ยมและสมบัติ','quizType','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','เกิดข้อผิดพลาดในการเข้าร่วมเกม','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','empty','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','tGain','lower_group_count','AI\x20แก้ไขคำถามสำเร็จ!','.topic-category','ref','คัดลอกแบบทดสอบสำเร็จ','fullscreenElement','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ยืนยันการจับคู่','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','เกิดข้อผิดพลาดในการลบนักเรียน','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','visibilitychange','.ideal-answer-input,\x20.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','bp-topic-list-container','สลับไปโหมดผู้ควบคุม','.group','then','newappai.firebasestorage.app','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','eraser-tools-group','add-student-btn','ยืนยันการกระทำ','/public/data/customMathTopics','close-presentation-btn','math-topic-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','เกิดข้อผิดพลาดในการอัปเดต:\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','canvas','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','input[type=\x22radio\x22]:checked','คณิตศาสตร์','Error\x20resetting\x20project\x20order:','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-bookmark','ตารางความถี่','เรขาคณิต','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','กรุณาเลือกโปรเจคปลายทาง','สายลับจับบ้านเล็ก','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','border-indigo-400\x20ring-2\x20ring-indigo-200','lesson-view-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','cancel-quiz-edits-btn-footer','.project-card-container.opacity-50','#ffffff','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','สำหรับหัวข้อ\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x5cge','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','bg-red-200\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','กรุณาป้อนหัวข้อสำหรับใบงาน','save-settings-btn','Error\x20saving\x20shortcut\x20config:','ARRAY','ออฟฟิศซินโดรม','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','insertBefore','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','file-topic-input','ฟังก์ชันพหุนาม','timer-duration-container','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','ฮิสโตแกรม','กำลังอ่านไฟล์\x20Test\x20Blueprint...','mousedown','opacity','toString','autoTable','tooltipTarget','previousElementSibling','ไอติมทอด','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','เกิดข้อผิดพลาดในการโหลดโปรเจค','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','file-shortcut-editor-modal','รหัสไม่ถูกต้อง','เลือกและเริ่มสร้าง','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','points','cancel-create-project-btn','pointerdown','unshift','values','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log-tab-btn','parallel-default-2','สร้างชุดคำถามจับคู่','Error\x20opening\x20quiz\x20editor:','lessonPlan','confirm-team-players-btn','pointermove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','click','authed_project_','pin','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อ\x20','.subTopic','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','fa-bolt\x20text-blue-500','badges','.pair-quiz-btn','results-table-container','นำแบบทดสอบออกจากคลังนี้แล้ว','viewBox','blueprint-topics-list-container','student-team-selection-view','รักแรกพบ','text-white','fill_in_with_choices','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','instructions','live-race','SAFETY','\x22\x20value=\x22','game-start-mode','บันทึกการแก้ไข','separate-by-content-from-file-checkbox','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','passcode-error-msg','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.file-topic-selection-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','standard','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<button\x20data-tab-id=\x22','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','additional-file-shortcuts-list','reference_onet.pdf','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชื่อโปรเจคห้ามว่าง','team-student-list','bp-modal-shuffle-setting-select','sync-matching-select','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x5ctimes','เต่าสายฟ้า','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','#FEE2E2','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','auto-fix-latex-btn','ownerSVGElement','แมวเก้าชีวิต','transform','บันทึกคำถามใหม่\x20','.delete-quiz-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','teacherSuggestions','showRankings','อนุพันธ์:\x20กฎลูกโซ่','#confidence-input-','รูปสแควร์รูท\x20(surd)','วงรี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','.topic-name-input','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','file-tab','justification','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','pen-tools-group','<tr>','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','file-shortcut-tabs-nav','font-bold\x20text-green-700','.pointsLastQuestion','isStarred','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.game-start-btn','sync-variant-selector','https://drive.google.com/uc?export=download&id=','<p><strong>คำตอบที่แนะนำ:</strong>\x20','random','สร้างแบบทดสอบ','ระบบเลขและค่าประจำหลัก','กรุณาเลือกคำตอบ','ปริพันธ์ไม่จำกัด','parallel-shortcut-name-input','\x20(p=','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','per-question-text','lineCap','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>','ลบโปรเจคสำเร็จแล้ว','select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20game:','Error\x20deleting\x20shortcut:','cancel-quiz-status-btn','choices_only','ความเป็นอิสระของเหตุการณ์','getTextContent','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','blueprint-input-area','default-','student-project-leaderboard-content','\x20ชุด)','เพิ่มรายการที่เลือก','.edit-quiz-btn','wheel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','setAttribute','blueprint-options-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','save-blueprint-as-project-btn','เกิดข้อผิดพลาดในการเปลี่ยนสี','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','scrollY','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','Error\x20loading\x20blueprint\x20projects:','student-quiz-topic','\x22\x20data-pre-test-id=\x22','ไม่พบข้อมูลเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','.tab-name-input','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','getScreenCTM','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20submitting\x20group\x20answer:','.correct-response-input','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','confident','raw','.space-y-1.pl-4','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','lastIndexOf','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','comparison-chart','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-tab','drop','curriculum','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-gray-400\x20hover:text-indigo-600','dragend','pointerType','.topic-actions-edit','user','quiz-id-input','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','บันทึกโปรเจค\x20\x22','export-pdf-modal','COMEBACK_KING','suggestedAnswer','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','quiz-status-modal','อยู่ในสาระการเรียนรู้ใด:','project-sort-select','ยกเลิกการจับคู่สำเร็จ','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','confirm-game-start-modal','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','file-default-2','bulk-confidence-mode-container','mouseleave','generate-from-blueprint-btn','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','parallel-test-upload-input','.edit-question-btn','global-activity-modal','สร้างคำถามแบบเติมคำในช่องว่าง','ยังไม่เต็มนะ','results-quiz-id-display','shortcutOrder','result','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','.live-answer-btn,\x20#live-submit-short-answer-btn','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','adaptive-quiz-checkbox','isArray','lowerGroupResponders','text-gray-300\x20hover:text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','selectedTopicNames','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','file-input-area','.move-shortcut-dropdown','<button\x20id=\x22','ผ่านฉลุย','[data-topic-id]','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','value','currentMode','quiz-leaderboard-table','data','set','Error\x20starting\x20live\x20race:','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','เพื่อนสนิท','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','</option>','passingScore','parallel-shortcut-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','อัปเดตพฤติกรรมสำหรับ\x20','Error\x20generating\x20teaching\x20content:','score','จัดการ','transition-all','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','คะแนนเต็ม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','presentation-short-answer-input','\x20|\x20','highlighter-tools-group','force-math-checkbox','bg-blue-500\x20hover:bg-blue-600\x20text-white','กาแฟขม','PROMPT_PLACEHOLDER','disabled\x20bg-gray-400\x20cursor-not-allowed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</a>','ไม่พบข้อมูลโปรเจค','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่พบโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','สร้างโปรเจคสำเร็จ!','การแปลงรูปอัตลักษณ์','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','...','.file-shortcut-btn[data-id=\x22','reviewQuestionIndex','questionIndex','ก่อนเรียน','.scratchpad-content-wrapper','stdDev','red','.quiz-result-card','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','Error\x20generating\x20worksheet:','</span></td>','modal-close-btn','update','quiz-results-table-body','Error\x20saving\x20submission:','แบบทดสอบจากคลังส่วนตัว','ความต่อเนื่อง','พิสัย','#e21b3c','student-name-select','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','modal-adaptive-quiz-checkbox','questionId','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','กฎของโคไซน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบแท็บนี้?','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','scores','countdown-display','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันค่าสัมบูรณ์','cancel-manual-bp-btn','Error\x20comparing\x20results:','fa-fire\x20text-orange-500','.topic-actions-view','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','bg-gray-500','rgba(59,\x20130,\x20246,\x200.7)','gradeLevel','การวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','nextElementSibling','sin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','student-rankings-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','สัญกรณ์วิทยาศาสตร์','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','scale','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','.delete-question-editor-btn','แบบทดสอบฝึกฝนเรื่อง:\x20','correct','projectName','\x22\x20name=\x22drill_answer\x22\x20value=\x22','answerText','กำลังสร้างรูปภาพ...','rgba(239,\x2068,\x2068,\x200.9)','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','isAnonymousRevealed','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','project-title','file.pdf','สายหมอก','\x22\x20value=\x22true\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','OBJECT','move-quiz-modal','subTopics','อสมการเชิงเส้น','scheduled_pending','answeredCurrentQuestion','some','div[data-question-index=\x22','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','เกิดข้อผิดพลาดในการอ่านไฟล์','includes','คัดลอกไม่สำเร็จ','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confidenceMode','text-gray-100','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','confidence-scoring-description','</button>','text-red-300\x20hover:text-red-100','<h1></h1>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22,\x20','.csv','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','after','per-question-timer-container','\x5cle','\x20in\x20all\x20blueprint\x20projects.','matching','file-shortcut-modal-title','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','.shortcut-list-item:not(.opacity-50)','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','global-activity-quiz-list','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','bp-modal-quiz-type-select','ไม่สามารถสร้างโปรเจคได้','finished','application/pdf','การหารเศษส่วน','<p>','\x22>ไม่ใช่</p>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','frac','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','drill-feedback','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','underline','showImproveButton','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','fileShortcutsConfig','referenceFileUrl','ไม่ได้ตอบ','\x22\x20ออกจากคลังนี้?','กำลังสร้างคำถามข้อ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-passcode-btn','/lessons','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','docs','settings','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','download','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','$$$1$','globalAlpha','\x20/\x20','text-red-700\x20bg-red-100','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','start-sync-game-btn','mean','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','แผนภาพกล่อง\x20(box\x20plot)','answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','save-shortcut-btn','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','ชีสเค้ก','worksheet-tab','analytics','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.move-parallel-shortcut-dropdown','all','ตรวจทานเฉลยเสร็จสิ้น!','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เส้นตรง:\x20ขนาน/ตั้งฉาก','questions','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','candidates','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','save-game-results-checkbox','Error\x20listening\x20for\x20custom\x20math\x20topics:','นอนไม่พอ','ตรีโกณมิติ',')\x22>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','แก้ไขปุ่มลัดจากไฟล์','input[name=\x22status-option\x22]:checked','จากไฟล์ที่แนบมานี้,\x20','right','\x5cneq','top','comparison-individual-tab','%</span>','style','<span\x20title=\x22','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','โหลดนาน','parallel-shortcut_','สรุปผลสุดท้าย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','บักแตงโม','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','lastAnswerIndex','text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','MathJax\x20typeset\x20error\x20(analytics):','<p\x20class=\x22text-xl\x22>','(เลือกแล้ว\x20','.lastAnswerIndex','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','setAttributeNS','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topics.','reveal_at_end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','href','responses','พีชคณิตและฟังก์ชัน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','<button\x20data-id=\x22','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','.start-live-race-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','การแยกตัวประกอบ','ปวดหลัง','STRING','text-gray-200','retake-quiz-loop-btn','filter','ต้นฉบับ\x202','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','แบบเติมคำตอบ','substr','.bp-unlink-quiz-btn','Copy\x20command\x20failed','lesson-loader-text','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','/public/data/quizzes/','delete','การหารทศนิยม','student-progress-view','border-indigo-500\x20text-indigo-600','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','ตัวเลือก\x20ก','ชนิดของข้อมูลและการเก็บข้อมูล','teacherTips','delete-svg-btn','goto-next-question-btn','name','practice-topic-btn','#000000','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20saving\x20file\x20shortcut\x20config:','json','.answers','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','\x20คะแนน\x20','timer-mode-select','quiz-editor-modal','Could\x20not\x20fetch\x20reference\x20file:','generationConfig','parallel-default-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','.lastAnswerCorrect','จันทร์เจ้า','eraser','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','td,\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','.question-editor-item:last-of-type','className','replace','.quiz-bank-move-btn','#results-table\x20thead\x20tr','ดอทโปรดักต์\x20(dot)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','(คู่ขนาน)\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','quiz-leaderboard-table-body','เกิดข้อผิดพลาดในการติดดาว','```','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','focus','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','uid','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','finishReason','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','link-url-input','number','NUMBER','Error\x20deleting\x20topic:','mode-switcher-btn','\x5cpm','code','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','pointsLastQuestion','multiple_choice','quiz-editor-questions-container','การจัดหมู่\x20(Combination)','student-progress','Error\x20confirming\x20players\x20for\x20sync\x20game:','export-leaderboard-excel-btn','multiply','text-red-900','default-2','อัปเดตการตั้งค่าของแบบทดสอบ\x20','touchend','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','submittedAt','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','font-bold\x20text-red-700\x20line-through','ดาวสภา','close-student-rankings-btn','แก้ไขปุ่มลัด','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','border-red-300\x20bg-red-50','เพิ่มหัวข้อ\x20\x22','bank-quiz-list','Error\x20processing\x20parallel\x20shortcut\x20click:','กองดอง','file-shortcut_','editable-quiz-topic','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','Error\x20loading\x20user\x20preferences:','.quiz-bank-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','file-shortcut-name-input','Error\x20toggling\x20pin\x20status:','Test\x20Blueprint','generate-from-topic-btn','ช่างภาพ','text','button','บันทึกการตั้งค่าสำเร็จ','test','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','change','isNormalTopic','สร้างแบบทดสอบปรนัย','getDocument','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กระต่ายตื่นตูม','text-red-800','bg-amber-100\x20text-amber-800','cancel-team-selection-btn','bg-blue-100','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','explanation','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','text-green-700','กำลังอ่านไฟล์อ้างอิง...','</p><p><strong>เฉลย:</strong>\x20','memoryContent','quadraticCurveTo','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','pointerup','globalCompositeOperation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','leaderboard','comparison','bp-modal-num-choices','comparison-overall-tab','จำนวนเต็มบวก','[data-field=\x22subTopic\x22]','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','student-team-join','null','closePath','timestamp','Error\x20saving\x20parallel\x20shortcut\x20config:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','ความคล้ายของรูป','/studentProfiles','readAsArrayBuffer','\x27\x20ในหัวข้อ\x20\x27','</span></p>','passing-score-input','setTransform','totalQuestions','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','สร้างคำถามใหม่\x201\x20ข้อ\x20','str','.ai-content\x20blockquote','color','firstScore','topicId','remove','body','checked','index','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div>\x0a</div>\x0a','tan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ลำดับการดำเนินการ\x20(PEMDAS)','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','quiz-results','Group\x20Mode','tabId','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','-\x20ข้อ\x20','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ศิลปิน','parentElement','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','Failed\x20to\x20kick\x20player\x20','results-quiz-title','.remove-file-shortcut-from-tab-btn','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','#E0E7FF','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','พบข้อสอบ\x20','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','</td></tr>','message','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','submissions','[data-topic-container-id]','admin-testing','.txt','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','Error\x20generating\x20from\x20link:','นักกีฬา','\x5csum','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','.shortcut-tab-btn','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','idealAnswer','webkitRequestFullscreen','show_pass_fail_only','half_mark_status','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','timer-duration-label','pairedQuizId','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<option\x20value=\x22\x22>กำลังโหลด...</option>','อัปเดตสถานะสำเร็จ','selected-answer-index-hidden','close-lesson-plan-modal-footer-btn','presentation-slide-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','AI\x20request\x20was\x20blocked.\x20Reason:\x20','สเกลและแผนที่','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','split','close-comparison-modal-footer-btn','ไม่มีคำอธิบาย','category','Error\x20saving\x20parallel\x20shortcut:','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','handleGenerateAndShowLesson','ข้อต่อไป','desc','.status','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','export-leaderboard-pdf-btn','ยังไม่มีนักเรียนส่งงาน','project-list','undefined','description','<div\x20class=\x22mb-3\x20topic-category\x22>','parse','.toggle-actions-btn','questionStatus','15790mkUneR','Error\x20rendering\x20student\x20progress:','.quiz-bank-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุดสำเร็จ!','parent','Error\x20unlinking\x20quiz:','txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','lesson-view-title','correctAnswerIndex','textarea[name=\x22team_answer\x22]','topics','block','ปรับเพิ่ม/ลดเป็นร้อยละ','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','shortcutIds','.compare-results-btn','Error\x20renaming\x20quiz:','#math-topics-checkbox-container\x20input:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','cancel-shortcut-edit-btn','แคลคูลัสเบื้องต้น','ไม่สามารถเริ่มเกมได้','Error\x20deleting\x20submission:','beginPath','จิงโจ้สโลว์ไลฟ์','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','submit','Authentication\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','leaderboard-tab-content','gain','เกิดข้อผิดพลาดในการลบผลสอบ','scratchpad-canvas','.question-editor-item','\x20สำเร็จ','#F59E0B','manual-bp-grade-level','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','scratchpad-controls','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generated','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','/preferences/main','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','_opt','project-detail-view','.sort-indicator','text-red-600','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','deg','ไม่พบแบบทดสอบในระบบเลย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20visibility\x20settings:','.generate-post-test-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-mode-select','bg-red-50','ยังไม่สร้าง','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','(หลังเรียน)\x20','originalTopic','toggle','answerValue','</strong></p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','CEOพันล้าน','medium','save','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ON_FIRE','พิมพ์ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-btn','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','API\x20Error\x20Response:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','หมดเวลาสำหรับข้อนี้!','save-visibility-settings-btn','resultsDisplay','webkitExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','projectSort','save-bp-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','ผู้ไม่ยอมแพ้','.generate-content-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','นินจาชาเขียว','การคูณ','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','/public/data/blueprintProjects/','specialist','bar','text-gray-500','questionDisplayedAt','next-drill-btn','keys','ท้องฟ้า','clientY','อินฟลูเอนเซอร์','num-choices','ไม่สามารถเพิ่มนักเรียนได้','Error\x20updating\x20project\x20name:','whole_quiz','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.edit-hidden-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','manage-tab','Error\x20adding\x20custom\x20topic:','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','results-display-select','</label></div>','message-modal','.delete-shortcut-tab-btn','Error\x20editing\x20topic:','isCorrect','questionType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นักประดิษฐ์','ระบบอสมการ','preTScore','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบเศษส่วน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','ผิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','close-additional-file-shortcuts-btn','.question-editor-item[data-q-index=\x22','text-emerald-900','bp-modal-include-images-checkbox','หน่วยเวลาและการคำนวณเวลา','student-quiz-leaderboard-table-body','toDate','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','text-yellow-800','ค่าเฉลี่ย','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','bg-green-500\x20hover:bg-green-600\x20text-white','content','พบ\x20Team\x20Quiz!','blueprint-upload-input','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','parallel-shortcut-id-input','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','bg-green-400\x20text-white\x20font-bold','questions_only','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','สร้างแล้ว','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','parallel-shortcuts-loading-msg','file-shortcuts-loading-msg','onclick','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x20จุด','Error\x20creating\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-settings-modal','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','quick_thinker','hint','post-test','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ร้อยละประยุกต์','การเรียงสับเปลี่ยน\x20(Permutation)','trim','export-pdf-btn','querySelectorAll','exitFullscreen','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','.save-custom-topic-btn','กรุณาใส่ชื่อใหม่','newOptions','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','fromCharCode','every','additional-shortcuts-modal','close','toLocaleString','start-presentation-btn','position','show-results-btn','ไอรอนแมน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','originalQuestionText','perseverance','ส้มตำปูปลาร้า','.generate-easy-version-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a---\x0a','คะแนนเฉลี่ย','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','เกิดข้อผิดพลาดในการบันทึกโปรเจค','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','Error\x20displaying\x20blueprint\x20project:','timer-container','mainTopics','สลับไปโหมดนักเรียน','bg-green-100\x20text-green-800','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','applicationContent','submit-team-answer-btn','เนื้อหาสำหรับสอน:\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topic-input-area','cancel-parallel-shortcut-edit-btn','\x22\x20data-quiz-id=\x22','question-complexity-select','shortcut-blueprint-url-input','qIndex','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','เรขาคณิตวิเคราะห์','svg','none','.start-presentation-list-btn','.group\x5c/dropdown-file','checkAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','jspdf','separate-by-content-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','Successfully\x20removed\x20','PERFECT_SCORE','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','endTime','show-leaderboard-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','http://www.w3.org/2000/svg','blueprint-projects-modal','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','include-images-checkbox','เพิ่ม\x20','isDefault','ไม่ใช่\x20/\x20ผิด','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','getContext','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','destination-out','ทฤษฎีบทพีทาโกรัสและการประยุกต์','สำหรับโปรเจค:\x20','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x20จุดเรียบร้อยแล้ว','<div>','.use-hidden-shortcut-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','center','text-green-700\x20bg-green-100','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','close-lesson-plan-modal-btn','preScore','กลุ่ม:\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','.shortcut-list-item','blueprint.pdf','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','fadeStartTime','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','reveal-answer-btn','analyze-strengths-btn','parts','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','blueprint-project-list','outerHTML','rows','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','กรุณาตั้งชื่อแท็บใหม่:','กิจกรรมสิ้นสุดลงแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-parallel-shortcut-item','forEach','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','Invalid\x20response\x20structure\x20from\x20API.','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stem','cancel-blueprint-projects-btn','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','topic-tab','s;\x22\x20title=\x22','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','timerDuration','#26890c','Error\x20updating\x20quiz\x20status:','แผนภาพเวนน์','confirm-delete-btn','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงทวินาม\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','podium','tab_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.auto-resize-textarea','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','พื้นที่สามเหลี่ยม','p-2\x20bg-black/10\x20rounded-md','file-topics-list-container','startsWith','size','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','stopPropagation','\x20ใหม่...','sum','artifacts/','fix-lesson-latex-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','shuffle','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','results','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','element','ย้าย','target','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','การนับ','คำอธิบาย...','student-list','\x20from\x20sync\x20game:','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','การลบทศนิยม','image/png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','binom','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','เกิดข้อผิดพลาดในการส่งคำตอบ','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>',',\x20r=','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','entries','closest','startedAt','answer-counter','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','เพิ่มปุ่มลัดจากไฟล์ใหม่','.score','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','pointContent','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','earned-badges-container','.edit-parallel-shortcut-btn','.presentation-option','fullscreenchange','isRemedial','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','คะแนนยังไม่ถึงครึ่ง','manage-players-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','student-project-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างใบงาน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','delete-all-students-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','12456SqCqSa','loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rgba(255,\x20255,\x200,\x200.5)','back-to-dashboard-from-results-btn','เลือกโปรเจคเพื่อบันทึก','confirm-manual-bp-btn','presentation-ai-result','abs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','sara','สมการเชิงเส้นตัวแปรเดียว','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','circ','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','.parallel-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','onload','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบนี้หมดเวลาแล้ว','พลังคลื่นเต่า','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','leaderboard-quiz-tab-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','text-content-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student','gamePin','หัวข้อที่สร้างเอง','student-join-game-view','catch','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','Error\x20pairing\x20quizzes:','bank-quiz-search-input','.rename-quiz-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-export-pdf-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','grid','.move-file-shortcut-dropdown','เกิดข้อผิดพลาดในการสร้าง:\x20','line-through\x20text-red-700','API\x20call\x20failed','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','confirm-move-quiz-btn','lesson-sections-container','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','Error\x20analyzing\x20file\x20for\x20topics:','comparison-modal','คัดลอกรหัสแล้ว!','Error\x20committing\x20score\x20updates:','<div><input\x20type=\x22radio\x22\x20id=\x22q','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','.tab-name-display','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','thead\x20.sortable-header','next-question-btn','groups.','\x20ตัวเลือก.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lesson-plan-modal','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','bg-yellow-100','length','student-quiz-leaderboard-content','ความสัมพันธ์ของมุม','quiz','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','helvetica','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','appendChild','.copy-quiz-id-list-btn','bank-input-area','.highlighter-color-btn','group','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x27,\x20\x27','icon','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','undo-btn','ไม่พบข้อมูลผู้ใช้','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','<tr><td\x20colspan=\x22','.doc','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','readAsDataURL','touchstart','open-scratchpad-btn','Error\x20generating\x20parallel\x20test\x20from\x20bank:','mouse','incorrect','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','แฟนทิพย์','สมการลอการิทึม','textarea[name=\x22question_single\x22]','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','key','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','attemptNumber','submission','live-player-management','ย้ายแบบทดสอบสำเร็จ','กำลังโหลดคลังข้อสอบทั้งหมด...','\x20กลุ่ม</p></div>','0\x200','</p><div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','_opt0\x22\x20name=\x22question','นกฮูกกลางวัน','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','cancel-rename-quiz-btn','Original\x20quiz\x20not\x20found','.color-palette-btn','perfect_score','ปลาทูคะนอง','ไม่สามารถบันทึกการตั้งค่าได้','pop','bg-red-100','generate-from-file-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file.txt','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','createElement','latestSubmittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','.ideal-answer-input','toLocaleDateString','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','px)\x20scale(','เลือกและบันทึก','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','<p\x20class=\x22text-2xl\x22>','cos','แท็บใหม่','\x22\x20สำเร็จ!','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','perfect_score_status','.bp-game-btn','text-blue-700\x20bg-blue-100','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ความแปรปรวน','parseInline','กำลังสแกนหาแบบทดสอบเก่า...','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','save-parallel-shortcut-btn','topicName','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','team-quiz-topic','AI\x20Fix\x20Error:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','pathname','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','comparison-individual-content','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-confidence-scoring-checkbox','จำนวนเต็มลบ','bg-yellow-200','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','pre-test','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','indexOf','export-leaderboard-image-btn','numChoices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','worksheet-topic-input','อุณหภูมิและการแปลง','MathJax\x20re-render\x20failed:','.parallel-shortcut-btn','bestScore','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','submit-group-answer-btn','พื้นที่สี่เหลี่ยม','project-search-input','ไม่สามารถโหลดรายการโปรเจคได้','question','.project-card-container:not(.opacity-50)','targetId','confidence-choice-btn','bulk-confidence-mode-select','link-input-area','</div><div\x20class=\x22space-y-2\x22>','write','Firebase\x20initialization\x20failed:','ความชันเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','อนุพันธ์:\x20กฎพื้นฐาน','topic-bank-subtopic-name','.edit-file-shortcut-btn','.\x20แต่ละข้อมี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x22\x20data-target-tab-id=\x22','เวกเตอร์และเมทริกซ์\x20(เสริม)','far\x20fa-star','createdAt','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','.linkedQuizIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','Error\x20confirming\x20players:','title','Error\x20generating\x20easy\x20version\x20quiz:','input[type=\x22text\x22]','substring','.live-answer-btn,\x20#sync-submit-btn','ยอดเยี่ยม!','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','not_generated','exists','ไฟล์ลัด\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','not_confident','bg-green-100','innerHTML','-tab','\x22><p\x20class=\x22font-semibold\x22>','isPasscodeEnabled','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','dataset','short_answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','https://corsproxy.io/?','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','lastAnswerCorrect','presentation-explanation','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','removeItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','numQuestions','กรุณากรอกข้อมูลให้ครบทุกช่อง','order','<div\x20class=\x22flex-1\x22></div>','/public/data/practiceBank','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','default','<span\x20class=\x22sort-indicator\x20ml-2\x22>','กรุณาเลือกโปรเจคที่ต้องการบันทึก','hint-btn','confidence-mode-container','Error\x20verifying\x20answers\x20in\x20editor:','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','modal-results-display-select','blueprintUrl','per_question','export-worksheet-pdf-btn','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','generate-worksheet-btn','109810PpsvNE','shortcut-name-input','quiz-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','keyConcepts','lesson-plan-content','confidence-modal','question-analytics-container','reduce','.pin-project-btn','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','timer-bar','modal-confidence-mode-container','ยอดนักสืบ','analytics-tab-content','.answeredCurrentQuestion','FIRST_TRY_ACE','lowerGroupNames','show-final-results-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบข้อมูลหัวข้อที่จะบันทึก','กำลังสร้างแบบทดสอบ:\x20','จับคู่แบบทดสอบสำเร็จ!','Leaderboard\x20update\x20transaction\x20failed:\x20','team-player-status-grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.move-file-shortcut-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','release','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classWeaknesses','.delete-file-shortcut-btn','highlighter-size-slider','touchcancel','blueprint-tab','4100591weyiyf','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','getPage','#DBEAFE','Error\x20starting\x20sync\x20game:','file-shortcut-url-input','quiz-leaderboard-table-container','referenceUrl','inactive','\x22.\x20','.edit-shortcut-btn','/public/data/teamQuizzes','ส่งแล้ว','/public/data/learnedFixes','สร้างคำถามแบบใช่/ไม่ใช่','เทพทรู','สถิติและความน่าจะเป็น','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','postTScore','add','\x22\x20จำนวน\x20','Blueprint\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',':</span><span>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','load-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','eraser-tool-btn','correctResponse','ตัวเลือก\x20ง','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','กฎบวกและกฎคูณ','สมการราก\x20(radical)','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','game-start-quiz-id','Team\x20Quiz','presentation-scratchpad-btn','<br>','Blueprint\x20O-NET\x20ป.6','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','Error\x20starting\x20team\x20quiz:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','fa-shield-alt\x20text-gray-600','getElementById','display','timerMode','.bp-present-btn','stringify','btn','pen','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','qType','leq','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกโปรเจคก่อน','.ai-content\x20td','ครัวซองต์','.verification-result-editor','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','รอ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','dragstart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','Error\x20in\x20handleApiCall:','$1\x20\x5cfrac','(ก่อนเรียน)','ดีมาก','add-shortcut-btn','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','bg-emerald-100','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','ป่าไม้','Error\x20saving\x20quiz\x20edits:','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','reset-view-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','onchange','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20joining\x20activity:','applicationHTML','starred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','60990AYHKnB','save-quiz-btn','#E5E7EB','สอบปกติ','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','กรุณาเลือกสถานะ','ซามูไรสายเดี่ยว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','results-tab','ไก่ฟ้าพญาลอ','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','project-passcode-input','ondrop','สายตาสั้น','confidence_single','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stepByStepExamples','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อยู่ในหัวข้อหลักใด:','Enter','\x20mb-2\x22>','Error\x20unpairing\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','ใช่','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','redo-btn','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','-options','text-emerald-800','splice','#FEF3C7','ยืนยันและอัปเดตทั้งหมด','คณิตการเงิน/บูรณาการ','preTestId','save-quiz-edits-btn','.topic-name-display','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','</p></div>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','pinnedProjects','lesson-loader','quiz-generation-area','Error\x20joining\x20live\x20game:','commonMistakes','q-text-','_opt1\x22\x20name=\x22question','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','neq','resize','select-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','dimmed','normal','admin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','stroke','student-name-input','โดเมนและเรนจ์','manual_release','/public/data/syncGames','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','globalSettings','เงาปริศนา','.mb-6.p-4','กราฟฟังก์ชันตรีโกณ','ปริมาตรรูปทรงสามมิติ','\x5cdiv','เกิดข้อผิดพลาดในการนำผู้เล่นออก','leaderboard-table-body','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','generate-from-link-btn','getElementsByTagName','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','add-file-shortcut-tab-btn','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','.move-shortcut-menu-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','นักเขียน','get','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','playerName','backgroundColor','overflowY','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','.summary-bar-item','answering','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','total','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','applicationData','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','function','แก้ไขข้อนี้','div','offset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','starred-project','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','แปลงร่าง','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','floor','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','หน่วยมวล/น้ำหนักและการแปลง','.lastAnswerValue','bulk-quiz-settings-modal','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','กำลังสร้างแบบทดสอบ\x20\x22','ไม่ผ่าน','\x20pointer-events-none\x22>','responses.','dispatchEvent','NEGATIVE_INFINITY','ครูใหญ่','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','พิซซ่าหน้าทุเรียน','G-JGJ3WNEQP3','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','.group\x5c/dropdown','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20id=\x22q-image-container-','quiz-form','ดอกเบี้ยอย่างง่าย','options','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','Error\x20saving\x20blueprint\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','reference-pdf-upload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','.live-summary-tooltip.visible','true','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','grid-view-btn','student-progress-content','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','passcode-input-container','submission-status-chart','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-parallel-shortcut-btn','export-lesson-to-pdf-btn','student-initial-view','date_asc','text-indigo-800','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','modal-timer-duration-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันผกผัน','first_try_ace','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','FileReader\x20error:','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x22\x5cn','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','devicePixelRatio','answered','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','both','newOptionsPayload','shuffledQuiz','application/json','text-green-600\x20font-bold','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','.unpair-quiz-btn',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','<div\x20class=\x22my-2\x22>','ผ่าน','ตั้งเวลา\x20(เปิด)','.ai-content\x20h3','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','startTime','Remedial\x20quiz\x20generation\x20failed:','additional-parallel-shortcuts-modal','.png','deltaY','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','.bp-live-btn','beforeend','game-start-modal-title','ondragend','label','ต้นฉบับทั้งหมด','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','export-lesson-pdf-btn','ฟังก์ชันสัมพัทธ์\x20(rational)','fa-user-astronaut\x20text-blue-700','onkeydown','screen','confirm-game-start-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','commit','score-distribution-chart','fa-dumbbell\x20text-gray-700','additional-shortcuts-list','\x20จาก\x20','ความน่าจะเป็นแบบมีเงื่อนไข','ปริมาตร/ความจุและการแปลง','generated-quiz-actions','querySelector','$1\x5c%','loader-text','localeCompare','เกิดข้อผิดพลาด:\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','lobby','<svg','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','กลุ่มของคุณ','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','gameData','slide-counter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','translate(','.delete-student-btn','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','หลังเรียน','สอบซ่อม','ฐานนิยม','text-blue-800','):\x20','Failed\x20to\x20get\x20hint:','file-default-','<li>','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','overline','Error\x20deleting\x20project:','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','บทเรียนเรื่อง:\x20','\x20ชุด)</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','#add-question-editor-btn','next-question-timed-btn','<option>กำลังโหลดโปรเจค...</option>','files','link-topic-input','isAdaptive','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','clear-all-links-btn','q-explanation-','overallGroups','strength-weakness-analysis-container','ลิมิต','.delete-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','doughnut','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','ความคาดหมาย\x20(Expected\x20value)','create-project-btn','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','.generate-lesson-btn','text-red-500\x20hover:text-red-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','1488508dEVVUS','typesetPromise','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','keydown','linkedQuizIds','ไม่พบตารางสำหรับ\x20Export','Error\x20during\x20deep\x20delete:','lineJoin','textContent','.delete-svg-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','temp-loader-text-results','.quiz-bank-checkbox:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','groups','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','file-default-1','badgesCount','add-parallel-shortcut-btn','classList','Error\x20saving\x20file\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','.pen-color-btn','N/A','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','.use-hidden-file-shortcut-btn','check-answer-btn','แก้ระบบสมการด้วยเมทริกซ์','project-quizzes-list','Error\x20saving\x20settings:','cancel-move-quiz-btn','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','ย้ายแบบทดสอบไปโปรเจคอื่น','cancel-quiz-bank-btn','width','projectId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','แบบปรนัย\x204\x20ตัวเลือก','manual-bp-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Sync\x20Mode','Error\x20preparing\x20content\x20quiz:','list','ลาเต้ไม่หวาน','projectOrder','visible','currentQuestionIndex','(คัดลอก)\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x0a\x20\x20\x20\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','schedule','fix\x20the\x20option','learningGaps','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คู่จิ้น','mjx-container','_opt1\x22>ไม่ใช่</label></div>','cloneNode','.project-card-container','sync-player-list','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','สมมาตร\x20(แกน/จุด)','Failed\x20to\x20generate\x20lesson:','items','</h4>','กำลังจับคู่...','back-to-student-home-btn','กำลังอ่านและเตรียมไฟล์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close-additional-parallel-shortcuts-btn','/public/data/projects/','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','(ไม่มีชื่อ)','</td>','ฟังก์ชันลอการิทึม','[data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','.bp-generate-lesson-btn','การจัดกลุ่มข้อมูล','</select>','ถูกต้อง!','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-shortcut-id=\x22','กรุณาเลือกชื่อของคุณ','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','back-to-project-btn','touchmove','.pen-size-btn','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การประยุกต์เวกเตอร์พื้นฐาน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ยังไม่ส่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','grabbing','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','verify-answers-btn','???','scratchpad-options','modal-timer-mode-select','ดาวTikTok','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x22.\x20Ideal\x20Answer:\x20\x22','shadowColor','\x20\x0a\x20\x20\x20\x20','th-TH','input[type=\x22radio\x22][value=\x22','height','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','promise','dashboardConfig','student-name-selection-view','url','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','mandatory','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','classStrengths','Error\x20moving\x20quiz:','input[name=\x22question_single\x22]:checked','rename-quiz-input','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','</span>','\x20(\x22','enable-passcode-checkbox','\x20รายการสำเร็จ!','answers','date_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','<span\x20class=\x22font-bold\x20','2uIfQbu','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-modal','parallel-shortcut-modal-title','Error\x20saving\x20project\x20order:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','players.','comeback_king','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ชาไข่มุก','mixed','แบตหมด','เกมเมอร์','ศูนย์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','เซียนสมองไว','\x20คู่\x20','<textarea\x20name=\x22question','จอมเวทย์ขนมหวาน','.submittedAt','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','ความชันและเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','isLooping','การกระจายและการจัดหมู่','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','find','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinned-items','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','คนดีศรีสยาม','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ส่วนเบี่ยงเบนมาตรฐาน','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','wasConfident','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show_results_and_answers','</div></div>','\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects','members','file-shortcut-container','(ก่อนเรียน)\x20','Error\x20during\x20class\x20analysis:','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','ธอร์ค้อนบิน','.eraser-size-btn','point','Error\x20saving\x20lesson\x20to\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','currentTarget','<div\x20class=\x22loader\x20mx-auto\x22></div>','bg-red-500','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','ตัวเลือก\x20ข','topic','1:516499432840:web:7b2a9a571fad2e3d68463d','confirm-quiz-status-btn','projectView','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','create-from-bank-btn','false','กำลังดึงข้อมูลจากลิงก์...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','back-to-student-initial-btn','GlobalWorkerOptions','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','เกิดข้อผิดพลาดในการลบหัวข้อ','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','อกหัก','summary','.delete-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','.group\x5c/dropdown-parallel','move-quiz-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','แม่น้ำ','shortcuts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','solution','fa-crown\x20text-yellow-500','</tbody></table>','timer-duration-input','Error\x20saving\x20manual\x20blueprint\x20project:','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','fileShortcutTabs','show_results_only','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','behavior-log-tab-content','analytics-summary-cards','.file-shortcut-tab-btn','เกมสิ้นสุดลงแล้ว','ไม่สามารถโหลดข้อมูลอันดับได้','textarea','Error\x20updating\x20old\x20quizzes:','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','bg-[#EF4444]\x20text-white\x20font-bold','confirm-quiz-settings-btn','moveTo','ระยะเวลา\x20(นาที):','student-project-leaderboard-tab','student-quiz-leaderboard-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','toLowerCase','ลบหัวข้อสำเร็จ','.delete-bp-project-btn','พาราโบลา','text-input-area','\x22\x20name=\x22question_single\x22\x20value=\x22','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','MathJax','string','POST','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','ไม่พบโปรเจคที่ต้องการลบ','dragover','\x20ตัวเลือก)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','warn','manual-blueprint-modal','ดอกเบี้ยทบต้น','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','shortcut-tabs-nav','isConfidenceScoringEnabled','เส้นตรง:\x20รูปแบบสมการ','ยอดเยี่ยม','</div></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','restore','Error\x20adding\x20students:','...\x22)?','<p\x20class=\x22font-bold\x20text-sm\x20','เกี่ยวกับหัวข้อ\x20\x22','ต้นฉบับ\x201','อินเวอร์สของเมทริกซ์','คาถาแยกเงาพันร่าง','parallelShortcutOrder','project-dashboard-view','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','มุมพิเศษ\x2030°-60°-90°','bg-yellow-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','quiz-bank-modal','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','round','#6366F1','ไม่สามารถโหลดคลังข้อสอบได้','\x5ccdot','translate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','join','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','bp-modal-num-questions','สมการตรีโกณมิติ','loop-until-pass-checkbox','onerror','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','generate-from-text-btn','ผู้พิชิตดาว','confidence-scoring-checkbox','parallel-test-input-area','ไฮเพอร์โบลา','temp-loader-results','project-detail','หมดเวลา!\x20กำลังส่งคำตอบ...','กำลังเตรียมไฟล์อ้างอิง...','upperGroupResponders','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','เศรษฐีดูไบ','upperGroupNames','#F3E8FF','.isScored','bg-green-200','addEventListener','playerNicknames','\x20คะแนน</span></div>','toFixed','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','28973cXEErs','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','newCorrectIndex','modal-confidence-scoring-checkbox','ค่าสัมบูรณ์','cancel-bp-settings-btn','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','/public/data/blueprintProjects','ผลรวมอนุกรม\x20(Σ)','ai-quiz-generator-v3','shuffle-setting-select','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','save-project-name-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strokeStyle','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','fill_in_no_choices','student-reading-area','setFont','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','_blank','Error\x20duplicating\x20quiz:','<option\x20value=\x22','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','bg-teal-500\x20hover:bg-teal-600\x20text-white','<div\x20class=\x22answer-space\x22></div>','open-quiz-bank-btn','parallelTestShortcutsConfig','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','.delete-shortcut-btn','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','trail-tool-btn','516499432840','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20lesson\x20plan:','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','global-quiz-search-input','type','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','กำลังอัปเดตแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','ผู้ควบคุม\x20(ทดสอบ)','Attempting\x20to\x20save\x20game\x20results...','shortcuts-loading-msg','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.answered','prev-question-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','source_document.pdf','subTopic','results-table','text-red-700','</body></html>','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','shortcut-reference-url-input','matching_item','มัธยฐาน','postScore','fas\x20fa-star\x20text-yellow-500','global-quiz-count','API\x20call\x20failed\x20with\x20status:\x20','.sortable-header','push','Blueprint\x202','_opt0\x22>ใช่</label></div>','modal-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','sqrt','2-digit','nickname-input','bg-green-50','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-sync-scratchpad-btn','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','Error\x20toggling\x20star\x20status:','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','/questionBank','\x20\x20\x20-\x20','เมทริกซ์:\x20บวก/คูณ','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','getAttributeNS','list-view-btn','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','sync','modal-message','touch','กำลังสร้างแบบทดสอบจากหัวข้อ...','trail','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','view-my-progress-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','.bp-open-topic-bank-btn','shadowBlur','player-list-lobby','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','<tr\x20class=\x22','scheduled','cursor','totalPoints','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','msExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','bulk-loop-until-pass-checkbox','การบวกทศนิยม','minHeight','เปิดใช้งาน','พื้นที่ผิวรูปทรงสามมิติ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blur','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','promptFeedback','shuffleSetting','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','includeImages','ตัวแปรและนิพจน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','admin-dashboard','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','scrollX','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x22\x20data-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'];_0x4523=function(){return _0x412f78;};return _0x4523();}async function logBehaviorEvent(_0x3c4823,_0x29ca89={}){const _0x451b9c=_0xa39756;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x451b9c(0xb5c)](_0x451b9c(0xa4d));return;}const _0x5829de=doc(db,_0x451b9c(0x73f)+appId+_0x451b9c(0x4e3)+currentQuizData['id']+_0x451b9c(0x26d),currentStudentName),_0x1b82a5={'event':_0x3c4823,'timestamp':new Date()['toISOString'](),..._0x29ca89};try{await updateDoc(_0x5829de,{'behaviorLog':arrayUnion(_0x1b82a5)}),console[_0x451b9c(0xcf9)](_0x451b9c(0x3e2)+currentStudentName+_0x451b9c(0x618));}catch(_0x2be233){_0x2be233[_0x451b9c(0x522)]===_0x451b9c(0xdba)?console[_0x451b9c(0xb5c)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x451b9c(0x992)):console[_0x451b9c(0xd73)](_0x451b9c(0xd2d),_0x2be233);}}function calculateMeanAndStdDev(_0x24b1d5){const _0x233919=_0xa39756;if(_0x24b1d5[_0x233919(0x7c7)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x5d22b6=_0x24b1d5[_0x233919(0x8a8)]((_0x4a2f68,_0x4bf484)=>_0x4a2f68+_0x4bf484,0x0)/_0x24b1d5['length'];if(_0x24b1d5[_0x233919(0x7c7)]===0x1)return{'mean':_0x5d22b6,'stdDev':0x0};const _0x1e026f=Math[_0x233919(0xbe3)](_0x24b1d5[_0x233919(0x218)](_0x3e988b=>Math[_0x233919(0xde8)](_0x3e988b-_0x5d22b6,0x2))[_0x233919(0x8a8)]((_0x5920e6,_0x1134f8)=>_0x5920e6+_0x1134f8,0x0)/(_0x24b1d5[_0x233919(0x7c7)]-0x1));return{'mean':_0x5d22b6,'stdDev':_0x1e026f};}function calculateZScore(_0x3dcea9,_0x5a20ee,_0x1f2c52){if(_0x1f2c52===0x0)return 0x0;return(_0x3dcea9-_0x5a20ee)/_0x1f2c52;}function calculateTScore(_0x12e561){return 0xa*_0x12e561+0x32;}function showStarredProjectView(){const _0x297c35=_0xa39756;currentProjectId=_0x297c35(0x922),currentProjectData=null,projectTitle[_0x297c35(0xa47)]=_0x297c35(0xd28),projectIdDisplay[_0x297c35(0xa47)]=_0x297c35(0xaf9),showView('project-detail'),manageTab[_0x297c35(0xa57)][_0x297c35(0x8de)](_0x297c35(0xcb3)),leaderboardTab[_0x297c35(0xa57)]['add'](_0x297c35(0xcb3)),switchProjectTab(_0x297c35(0x744)),renderQuizzes();}async function loadProjectDetails(_0x570245){const _0x10bc74=_0xa39756,_0x29ae1a=doc(db,_0x10bc74(0x73f)+appId+_0x10bc74(0xb08),_0x570245),_0x1de39c=await getDoc(_0x29ae1a);if(_0x1de39c[_0x10bc74(0x86f)]()){manageTab['classList'][_0x10bc74(0x586)](_0x10bc74(0xcb3)),leaderboardTab[_0x10bc74(0xa57)]['remove'](_0x10bc74(0xcb3)),currentProjectData=_0x1de39c['data'](),projectTitle[_0x10bc74(0xa47)]=currentProjectData[_0x10bc74(0x437)],projectIdDisplay[_0x10bc74(0xa47)]=_0x570245;const _0x23ebd2=currentProjectData['settings']||{};document['getElementById'](_0x10bc74(0xba5))[_0x10bc74(0x3d4)]=_0x23ebd2[_0x10bc74(0xc15)]||_0x10bc74(0x6dd);const _0x5257ec=document[_0x10bc74(0x8fb)](_0x10bc74(0x25f));_0x5257ec[_0x10bc74(0x588)]=_0x23ebd2['showInStudentDashboard']!==![];const _0x10baad=document['getElementById'](_0x10bc74(0xacf)),_0x361bec=document[_0x10bc74(0x8fb)](_0x10bc74(0x9be)),_0x349855=document['getElementById']('project-passcode-input'),_0x1d4bb5=_0x23ebd2[_0x10bc74(0x87b)]||![];_0x10baad[_0x10bc74(0x588)]=_0x1d4bb5,_0x349855[_0x10bc74(0x3d4)]=_0x23ebd2[_0x10bc74(0xc3c)]||'',_0x361bec['classList'][_0x10bc74(0x636)](_0x10bc74(0xcb3),!_0x1d4bb5),_0x10baad['onchange']=()=>{const _0x22131d=_0x10bc74;_0x361bec[_0x22131d(0xa57)][_0x22131d(0x636)](_0x22131d(0xcb3),!_0x10baad['checked']);},document[_0x10bc74(0x8fb)](_0x10bc74(0xb87))[_0x10bc74(0x588)]=_0x23ebd2[_0x10bc74(0xb61)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x570245),listenForProjectQuizzes(_0x570245),listenForStudentProfiles(_0x570245);}else showMessage(_0x10bc74(0x3f9)),showView(_0x10bc74(0xc1a));}async function handleResetProjectOrder(){const _0x1c1e5b=_0xa39756,_0x4d4c93=doc(db,'globalSettings',_0x1c1e5b(0xac0));try{await setDoc(_0x4d4c93,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x1c1e5b(0xd45));}catch(_0x569dd0){console[_0x1c1e5b(0xd73)](_0x1c1e5b(0x2bd),_0x569dd0),showMessage(_0x1c1e5b(0x468));}}async function handleTogglePinProject(_0x42914f){const _0x9a616e=_0xa39756;if(!_0x42914f)return;const _0x1dbb96=doc(db,_0x9a616e(0x73f)+appId+_0x9a616e(0xb08),_0x42914f);try{const _0x5643bf=await getDoc(_0x1dbb96);if(_0x5643bf[_0x9a616e(0x86f)]()){const _0x5877a1=_0x5643bf[_0x9a616e(0x3d7)]()['isPinned']||![];await updateDoc(_0x1dbb96,{'isPinned':!_0x5877a1});}}catch(_0x2a6006){console[_0x9a616e(0xd73)](_0x9a616e(0x549),_0x2a6006),showMessage(_0x9a616e(0xc7a));}}async function handleDeleteProject(_0x44bdb0){const _0x11b6b5=_0xa39756;try{const _0x5b667b=writeBatch(db),_0x2b9dcb=collection(db,_0x11b6b5(0x73f)+appId+_0x11b6b5(0xdb4)),_0x24a4d9=query(_0x2b9dcb,where(_0x11b6b5(0xa68),'==',_0x44bdb0)),_0x81bc25=await getDocs(_0x24a4d9);for(const _0x3e55dd of _0x81bc25[_0x11b6b5(0x485)]){const _0x35b1be=collection(db,'artifacts/'+appId+_0x11b6b5(0x4e3)+_0x3e55dd['id']+_0x11b6b5(0x26d)),_0x5cac4e=await getDocs(_0x35b1be);_0x5cac4e[_0x11b6b5(0x71e)](_0x110637=>{const _0x1f9408=_0x11b6b5;_0x5b667b[_0x1f9408(0x4e4)](_0x110637[_0x1f9408(0x29a)]);}),_0x5b667b['delete'](_0x3e55dd[_0x11b6b5(0x29a)]);}const _0x206034=collection(db,'artifacts/'+appId+_0x11b6b5(0xa94)+_0x44bdb0+_0x11b6b5(0x578)),_0x401ad5=await getDocs(_0x206034);_0x401ad5[_0x11b6b5(0x71e)](_0x3b52ab=>{const _0x5e8247=_0x11b6b5;_0x5b667b['delete'](_0x3b52ab[_0x5e8247(0x29a)]);});const _0x2e9f56=doc(db,'artifacts/'+appId+_0x11b6b5(0xb08),_0x44bdb0);_0x5b667b[_0x11b6b5(0x4e4)](_0x2e9f56),await _0x5b667b['commit'](),showMessage(_0x11b6b5(0x36a)),showView('admin-dashboard');}catch(_0x454d55){console['error'](_0x11b6b5(0xa20),_0x454d55),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0xa39756(0x8fb)](_0xa39756(0x2d6))[_0xa39756(0xb95)](_0xa39756(0x305),async()=>{const _0x37adde=_0xa39756;if(!currentProjectId)return;const _0x1f2803={'defaultNumQuestions':parseInt(document['getElementById'](_0x37adde(0x1f0))[_0x37adde(0x3d4)]),'defaultNumChoices':parseInt(document['getElementById'](_0x37adde(0x660))[_0x37adde(0x3d4)]),'defaultPassingScore':parseInt(document[_0x37adde(0x8fb)](_0x37adde(0x57c))['value']),'resultsDisplay':document[_0x37adde(0x8fb)](_0x37adde(0x66c))[_0x37adde(0x3d4)],'shuffleSetting':document[_0x37adde(0x8fb)](_0x37adde(0xba5))[_0x37adde(0x3d4)],'timerMode':document['getElementById'](_0x37adde(0x4fc))[_0x37adde(0x3d4)],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x37adde(0x3d4)]),'isConfidenceScoringEnabled':document[_0x37adde(0x8fb)](_0x37adde(0xb87))[_0x37adde(0x588)],'confidenceMode':document['getElementById'](_0x37adde(0xd95))[_0x37adde(0x3d4)]};try{const _0x44c9bf=doc(db,_0x37adde(0x73f)+appId+_0x37adde(0xb08),currentProjectId);await updateDoc(_0x44c9bf,{'settings':_0x1f2803}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x4355b3){console[_0x37adde(0xd73)](_0x37adde(0xa62),_0x4355b3),showMessage(_0x37adde(0x804));}});function listenForStudents(_0x4ec7da){const _0x104b04=_0xa39756,_0x48dde1=doc(db,_0x104b04(0x73f)+appId+_0x104b04(0xb08),_0x4ec7da);unsubscribeStudentsListener=onSnapshot(_0x48dde1,_0x4d4be6=>{const _0x109c5b=_0x104b04;if(_0x4d4be6[_0x109c5b(0x86f)]()){const _0xa1b1b7=_0x4d4be6['data']();currentProjectData=_0xa1b1b7,renderStudentList(_0xa1b1b7[_0x109c5b(0xcc6)]||[]);}});}function renderStudentList(_0x1b7257){const _0x21a8aa=_0xa39756,_0x45ce73=document[_0x21a8aa(0x8fb)]('delete-all-students-btn');_0x1b7257[_0x21a8aa(0x7c7)]===0x0?(studentList[_0x21a8aa(0x878)]=_0x21a8aa(0xacc),_0x45ce73[_0x21a8aa(0xa57)][_0x21a8aa(0x8de)]('hidden')):(studentList[_0x21a8aa(0x878)]=_0x1b7257[_0x21a8aa(0x218)](_0x3462d6=>_0x21a8aa(0xda8)+_0x3462d6+_0x21a8aa(0xbce)+_0x3462d6+_0x21a8aa(0x721))[_0x21a8aa(0xb7d)](''),_0x45ce73[_0x21a8aa(0xa57)][_0x21a8aa(0x586)](_0x21a8aa(0xcb3)));}document[_0xa39756(0x8fb)](_0xa39756(0x2af))['addEventListener'](_0xa39756(0x305),async()=>{const _0x35f9fd=_0xa39756;if(!currentProjectId)return;const _0x459ad2=document['getElementById'](_0x35f9fd(0x965)),_0x237441=_0x459ad2[_0x35f9fd(0x3d4)][_0x35f9fd(0x6a8)]();if(!_0x237441){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x2f7af2=_0x237441[_0x35f9fd(0x5da)]('\x0a')['map'](_0x148531=>_0x148531[_0x35f9fd(0x6a8)]())[_0x35f9fd(0x4da)](_0x391e4d=>_0x391e4d);if(_0x2f7af2['length']===0x0)return;try{const _0x4aa84c=doc(db,_0x35f9fd(0x73f)+appId+_0x35f9fd(0xb08),currentProjectId),_0x46de65=await getDoc(_0x4aa84c);if(_0x46de65['exists']()){const _0x5a69b3=_0x46de65[_0x35f9fd(0x3d7)]()[_0x35f9fd(0xcc6)]||[],_0x21d64d=[...new Set([..._0x5a69b3,..._0x2f7af2])];await updateDoc(_0x4aa84c,{'students':_0x21d64d}),_0x459ad2[_0x35f9fd(0x3d4)]='';}}catch(_0x26f6ac){console[_0x35f9fd(0xd73)](_0x35f9fd(0xb68),_0x26f6ac),showMessage(_0x35f9fd(0x661));}});async function handleManualQuizPairing(_0x3afc9e){const _0x10adf0=_0xa39756,_0x551c26=document[_0x10adf0(0x8fb)](_0x10adf0(0x445)),_0x47e655=document[_0x10adf0(0x8fb)](_0x10adf0(0xb2f)),_0x34d4fa=_0x551c26[_0x10adf0(0xa01)]('h3'),_0x368ca4=document[_0x10adf0(0x8fb)](_0x10adf0(0x7b4)),_0x471258=document[_0x10adf0(0x8fb)](_0x10adf0(0xa63));_0x34d4fa[_0x10adf0(0xa47)]='จับคู่เพื่อเปรียบเทียบผล',_0x47e655['innerHTML']='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x368ca4[_0x10adf0(0xa47)]=_0x10adf0(0x29e),_0x551c26['classList'][_0x10adf0(0x586)](_0x10adf0(0xcb3));const _0x4e3093=allQuizzes['filter'](_0x4b321e=>_0x4b321e['id']!==_0x3afc9e);_0x4e3093['length']===0x0?(_0x47e655[_0x10adf0(0x878)]=_0x10adf0(0x22d),_0x368ca4[_0x10adf0(0xc96)]=!![]):(_0x47e655[_0x10adf0(0x878)]=_0x10adf0(0x8f6)+_0x4e3093[_0x10adf0(0x218)](_0x467f59=>_0x10adf0(0xbb2)+_0x467f59['id']+'\x22>'+_0x467f59[_0x10adf0(0xb19)]+_0x10adf0(0x3de))['join'](''),_0x368ca4[_0x10adf0(0xc96)]=![]);const _0x26502b=async()=>{const _0xb4215=_0x10adf0,_0x376773=_0x47e655[_0xb4215(0x3d4)];if(!_0x376773){showMessage(_0xb4215(0x57f));return;}_0x368ca4['disabled']=!![],_0x368ca4[_0xb4215(0xa47)]=_0xb4215(0xa8e);try{const _0x19ffea=doc(db,'artifacts/'+appId+_0xb4215(0xdb4),_0x3afc9e),_0x1198d3=doc(db,_0xb4215(0x73f)+appId+_0xb4215(0xdb4),_0x376773),_0x23ffbf=writeBatch(db);_0x23ffbf['update'](_0x19ffea,{'pairedQuizId':_0x376773}),_0x23ffbf[_0xb4215(0x40d)](_0x1198d3,{'pairedQuizId':_0x3afc9e}),await _0x23ffbf['commit'](),showMessage(_0xb4215(0x8b8)),_0x551c26[_0xb4215(0xa57)][_0xb4215(0x8de)](_0xb4215(0xcb3));}catch(_0x4fbbee){console[_0xb4215(0xd73)](_0xb4215(0x7a6),_0x4fbbee),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x34d4fa[_0xb4215(0xa47)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x368ca4[_0xb4215(0xa47)]=_0xb4215(0x747),_0x368ca4[_0xb4215(0xc96)]=![],_0x368ca4[_0xb4215(0x223)]('click',_0x26502b),_0x471258[_0xb4215(0x223)]('click',_0x4a15f0);}},_0x4a15f0=()=>{const _0x2a1ff8=_0x10adf0;_0x551c26[_0x2a1ff8(0xa57)]['add']('hidden'),_0x34d4fa['textContent']=_0x2a1ff8(0xa65),_0x368ca4[_0x2a1ff8(0xa47)]=_0x2a1ff8(0x747),_0x368ca4[_0x2a1ff8(0x223)](_0x2a1ff8(0x305),_0x26502b),_0x471258[_0x2a1ff8(0x223)]('click',_0x4a15f0);};_0x368ca4[_0x10adf0(0xb95)](_0x10adf0(0x305),_0x26502b),_0x471258[_0x10adf0(0xb95)](_0x10adf0(0x305),_0x4a15f0);}function handleDeleteStudent(_0x74a63f){const _0x251abd=_0xa39756;showConfirmation(_0x251abd(0x713)+_0x74a63f+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x526c5d=_0x251abd;if(!currentProjectId||!currentProjectData)return;const _0x286873=currentProjectData[_0x526c5d(0xcc6)][_0x526c5d(0x4da)](_0x50c35d=>_0x50c35d!==_0x74a63f);try{const _0x56330c=doc(db,_0x526c5d(0x73f)+appId+_0x526c5d(0xb08),currentProjectId),_0x4b4ac8=doc(db,_0x526c5d(0x73f)+appId+_0x526c5d(0xa94)+currentProjectId+_0x526c5d(0x578),_0x74a63f),_0x2d3015=writeBatch(db);_0x2d3015[_0x526c5d(0x40d)](_0x56330c,{'students':_0x286873}),_0x2d3015[_0x526c5d(0x4e4)](_0x4b4ac8),await _0x2d3015[_0x526c5d(0x9f9)]();}catch(_0x16d0af){console[_0x526c5d(0xd73)](_0x526c5d(0xcca),_0x16d0af),showMessage(_0x526c5d(0x2a1));}});}function handleDeleteAllStudents(){const _0x2f64af=_0xa39756;showConfirmation(_0x2f64af(0x91b),async()=>{const _0x2e8ffc=_0x2f64af;if(!currentProjectId)return;try{const _0x44ade4=doc(db,_0x2e8ffc(0x73f)+appId+_0x2e8ffc(0xb08),currentProjectId),_0x167ff9=collection(db,'artifacts/'+appId+_0x2e8ffc(0xa94)+currentProjectId+_0x2e8ffc(0x578)),_0x1fc3e6=await getDocs(_0x167ff9),_0x5a087f=writeBatch(db);_0x5a087f[_0x2e8ffc(0x40d)](_0x44ade4,{'students':[]}),_0x1fc3e6[_0x2e8ffc(0x71e)](_0x6151d5=>_0x5a087f['delete'](_0x6151d5[_0x2e8ffc(0x29a)])),await _0x5a087f[_0x2e8ffc(0x9f9)]();}catch(_0x60a638){console[_0x2e8ffc(0xd73)]('Error\x20deleting\x20all\x20students:',_0x60a638),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x430dde){const _0x4a11fa=_0xa39756,_0x3dfd28=document['getElementById'](_0x4a11fa(0x738)),_0x2a9116=document[_0x4a11fa(0x8fb)](_0x4a11fa(0x255));_0x3dfd28[_0x4a11fa(0xa57)]['remove'](_0x4a11fa(0xcb3)),_0x2a9116['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x22eea1=new FileReader();_0x22eea1[_0x4a11fa(0x7e5)](_0x430dde),await new Promise((_0x4b38f8,_0x11f9dd)=>{const _0x32bd86=_0x4a11fa;_0x22eea1[_0x32bd86(0x78f)]=()=>{const _0x14a8d8=_0x32bd86;fileDataBase64=_0x22eea1[_0x14a8d8(0x3c3)][_0x14a8d8(0x5da)](',')[0x1],fileMimeType=_0x430dde['type'],_0x4b38f8();},_0x22eea1[_0x32bd86(0xb82)]=_0x3070b0=>_0x11f9dd(_0x3070b0);});if(!fileDataBase64)throw new Error(_0x4a11fa(0x5c3));const _0x25e5e6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x57f292={'type':_0x4a11fa(0x444),'properties':{'topics':{'type':_0x4a11fa(0x2d8),'items':{'type':'STRING'}}},'required':[_0x4a11fa(0x5ff)]},_0x13f1d9=[{'text':_0x25e5e6},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x4d3011=await handleApiCall(_0x13f1d9,_0x4a11fa(0xcfa),_0x57f292,null,![]);if(_0x4d3011&&_0x4d3011[_0x4a11fa(0x5ff)])extractedFileTopics=_0x4d3011['topics'],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x52b83a){console['error'](_0x4a11fa(0x7b7),_0x52b83a),_0x2a9116[_0x4a11fa(0x878)]=_0x4a11fa(0x365)+_0x52b83a[_0x4a11fa(0x5b7)]+_0x4a11fa(0xc74);}}function renderFileTopics(){const _0x173f6d=_0xa39756,_0x3ecf81=document['getElementById']('file-topics-list');if(extractedFileTopics[_0x173f6d(0x7c7)]===0x0){_0x3ecf81[_0x173f6d(0x878)]=_0x173f6d(0x487);return;}_0x3ecf81[_0x173f6d(0x878)]=extractedFileTopics[_0x173f6d(0x218)](_0x1497a8=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x1497a8+_0x173f6d(0xb8f)+escape(_0x1497a8)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x1497a8)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x173f6d(0xb7d)]('');}async function generateHybridQuizForTopic(_0x1b2b72){const _0x4ea259=_0xa39756,_0x31df50=parseInt(document[_0x4ea259(0x8fb)](_0x4ea259(0x1f0))['value'],0xa),_0x31d709=document[_0x4ea259(0x8fb)](_0x4ea259(0x228))[_0x4ea259(0x3d4)],_0x2d5eb1=document[_0x4ea259(0x8fb)](_0x4ea259(0x660))[_0x4ea259(0x3d4)],_0x39654c=document['getElementById'](_0x4ea259(0x6ef))[_0x4ea259(0x588)],_0x153637=_0x39654c?_0x4ea259(0x34c):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x5a3076='',_0x281eb9;const _0x19147e={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x4ea259(0x2d8),'items':{'type':_0x4ea259(0x4d7)}},'correctAnswerIndex':{'type':_0x4ea259(0x51e)},'explanation':{'type':_0x4ea259(0x4d7)},'imageCode':{'type':_0x4ea259(0x4d7)}},'required':[_0x4ea259(0xcd1),_0x4ea259(0x9af),_0x4ea259(0x5fd),'explanation']},_0x5142e8={'type':'OBJECT','properties':{'questionText':{'type':_0x4ea259(0x4d7)},'correctAnswer':{'type':_0x4ea259(0xd9a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4ea259(0x4d7)}},'required':[_0x4ea259(0xcd1),_0x4ea259(0xdae),_0x4ea259(0x55d)]},_0x4e8b80={'type':'OBJECT','properties':{'questionText':{'type':_0x4ea259(0x4d7)},'idealAnswer':{'type':_0x4ea259(0x4d7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4ea259(0x4d7)}},'required':[_0x4ea259(0xcd1),_0x4ea259(0x5c6),'explanation']},_0x39e988={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x4ea259(0xbd6)]},'stem':{'type':_0x4ea259(0x4d7)},'correctResponse':{'type':_0x4ea259(0x4d7)},'allResponses':{'type':_0x4ea259(0x2d8),'items':{'type':_0x4ea259(0x4d7)}},'explanation':{'type':_0x4ea259(0x4d7)},'imageCode':{'type':_0x4ea259(0x4d7)}},'required':[_0x4ea259(0x672),_0x4ea259(0x722),'correctResponse','allResponses',_0x4ea259(0x55d)]};switch(_0x31d709){case _0x4ea259(0x525):_0x5a3076=_0x4ea259(0x34a)+_0x2d5eb1+_0x4ea259(0xb5a),_0x281eb9=_0x19147e;break;case _0x4ea259(0xc4d):_0x5a3076='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x281eb9=_0x5142e8;break;case _0x4ea259(0xbac):_0x5a3076=_0x4ea259(0x32a),_0x281eb9=_0x4e8b80;break;case _0x4ea259(0x464):_0x5a3076='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x281eb9=_0x39e988;break;case _0x4ea259(0x316):_0x5a3076=_0x4ea259(0x2ec)+_0x2d5eb1+_0x4ea259(0xb5a),_0x281eb9=_0x19147e;break;default:_0x5a3076=_0x4ea259(0x34a)+_0x2d5eb1+'\x20ตัวเลือก)',_0x281eb9=_0x19147e;break;}const _0x4f46d6='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x498aa7=document['getElementById'](_0x4ea259(0x77e)),_0x389d1a=document['getElementById'](_0x4ea259(0xa03)),_0x27a7c2=document['getElementById'](_0x4ea259(0xdf7));document[_0x4ea259(0x8fb)](_0x4ea259(0x956))[_0x4ea259(0xa57)]['remove'](_0x4ea259(0xcb3)),_0x27a7c2[_0x4ea259(0x878)]='',_0x498aa7[_0x4ea259(0xa57)][_0x4ea259(0x586)](_0x4ea259(0xcb3)),_0x389d1a[_0x4ea259(0xa47)]='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x1b2b72+_0x4ea259(0x8df)+_0x31df50+'\x20ข้อ...';try{const _0x34d964=_0x4ea259(0x7b2),_0x322bd8=_0x4ea259(0x2b4)+_0x1b2b72+_0x4ea259(0x7e1)+_0x31df50+_0x4ea259(0xd20)+_0x1b2b72+_0x4ea259(0xa38)+_0x31df50+'\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20'+_0x153637+_0x4ea259(0xd60)+_0x5a3076+_0x4ea259(0x5bf)+_0x4f46d6+_0x4ea259(0x5e5)+_0x34d964+_0x4ea259(0xba9)+simpleMathPrompt+_0x4ea259(0x889),_0x4e63e1={'type':_0x4ea259(0x444),'properties':{'topic':{'type':_0x4ea259(0x4d7)},'questions':{'type':'ARRAY','items':_0x281eb9}},'required':['topic','questions']},_0x1080fb=[{'text':_0x322bd8},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x1080fb,_0x4ea259(0x99e)+_0x1b2b72+_0x4ea259(0xcec),_0x4e63e1);}catch(_0x5132fa){console[_0x4ea259(0xd73)]('Error\x20generating\x20hybrid\x20quiz:',_0x5132fa),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5132fa[_0x4ea259(0x5b7)]),_0x27a7c2[_0x4ea259(0x878)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x498aa7['classList'][_0x4ea259(0x8de)]('hidden');}}async function handleGenerateFromFileClick(){const _0x747b31=_0xa39756;if(!selectedFile){showMessage(_0x747b31(0xd12));return;}const _0x17f54f=document[_0x747b31(0x8fb)]('loader'),_0x4fc30f=document[_0x747b31(0x8fb)](_0x747b31(0xa03)),_0x4768f2=document['getElementById']('generated-quiz-container'),_0x42356f=document[_0x747b31(0x8fb)](_0x747b31(0x807));_0x42356f[_0x747b31(0xc96)]=!![],document[_0x747b31(0x8fb)](_0x747b31(0x956))[_0x747b31(0xa57)]['remove'](_0x747b31(0xcb3)),_0x4768f2[_0x747b31(0x878)]='',_0x17f54f['classList']['remove'](_0x747b31(0xcb3)),_0x4fc30f[_0x747b31(0xa47)]=_0x747b31(0xa90);try{const _0x4c5ceb=await new Promise((_0xd44408,_0x2815c9)=>{const _0x176698=_0x747b31,_0x447b5e=new FileReader();_0x447b5e['readAsDataURL'](selectedFile),_0x447b5e[_0x176698(0x78f)]=()=>_0xd44408(_0x447b5e[_0x176698(0x3c3)][_0x176698(0x5da)](',')[0x1]),_0x447b5e[_0x176698(0xb82)]=_0x5ded06=>_0x2815c9(_0x5ded06);});await generateQuizFromFile(selectedFile[_0x747b31(0xbc3)],_0x4c5ceb);}catch(_0x3b82df){console[_0x747b31(0xd73)]('Error\x20processing\x20file\x20for\x20AI:',_0x3b82df),showMessage(_0x747b31(0x934)+_0x3b82df[_0x747b31(0x5b7)]),_0x17f54f[_0x747b31(0xa57)]['add'](_0x747b31(0xcb3)),_0x42356f[_0x747b31(0xc96)]=![];}}function autoFormatMath(_0x360f54){const _0x169495=_0xa39756;if(typeof _0x360f54!==_0x169495(0xb55)||!_0x360f54)return _0x360f54;const _0x2f8dee=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x299dbf=_0x360f54[_0x169495(0x50a)](_0x2f8dee,_0x12017c=>{const _0x27e1f0=_0x169495;return'$'+_0x12017c[_0x27e1f0(0x6a8)]()+'$';});return _0x299dbf;}function sanitizeQuizData(_0x1d4043){const _0x3a01d7=_0xa39756;if(!_0x1d4043||!_0x1d4043['questions'])return _0x1d4043;const _0xad6423={'imes':_0x3a01d7(0x336),'div':'\x5cdiv'},_0xf19653=_0x37a543=>{const _0x5c3b62=_0x3a01d7;if(typeof _0x37a543!==_0x5c3b62(0xb55))return _0x37a543;let _0x262b42=_0x37a543;for(const [_0x3d3160,_0x752447]of Object['entries'](_0xad6423)){const _0x497a91=new RegExp('\x5cb'+_0x3d3160+'\x5cb','g');_0x262b42=_0x262b42[_0x5c3b62(0x50a)](_0x497a91,_0x752447);}return _0x262b42=_0x262b42[_0x5c3b62(0x50a)](/\\\//g,_0x5c3b62(0x970)),_0x262b42=_0x262b42['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x5c3b62(0x336))[_0x5c3b62(0x50a)](/÷/g,_0x5c3b62(0x970))[_0x5c3b62(0x50a)](/×/g,_0x5c3b62(0x336)),_0x262b42=_0x262b42['replace'](/(\d)(\\frac)/g,_0x5c3b62(0x912)),_0x262b42=autoFormatMath(_0x262b42),_0x262b42;};return _0x1d4043[_0x3a01d7(0xb19)]&&(_0x1d4043['topic']=_0xf19653(_0x1d4043['topic'])),_0x1d4043[_0x3a01d7(0x4a2)]['forEach'](_0x7e9a84=>{const _0x2ed48c=_0x3a01d7;_0x7e9a84['questionText']=_0xf19653(_0x7e9a84[_0x2ed48c(0xcd1)]),_0x7e9a84[_0x2ed48c(0x9af)]&&(_0x7e9a84[_0x2ed48c(0x9af)]=_0x7e9a84[_0x2ed48c(0x9af)][_0x2ed48c(0x218)](_0xf19653)),_0x7e9a84[_0x2ed48c(0x55d)]&&(_0x7e9a84['explanation']=_0xf19653(_0x7e9a84[_0x2ed48c(0x55d)])),_0x7e9a84[_0x2ed48c(0x722)]&&(_0x7e9a84[_0x2ed48c(0x722)]=_0xf19653(_0x7e9a84[_0x2ed48c(0x722)])),_0x7e9a84['correctResponse']&&(_0x7e9a84[_0x2ed48c(0x8e8)]=_0xf19653(_0x7e9a84[_0x2ed48c(0x8e8)])),_0x7e9a84['allResponses']&&(_0x7e9a84[_0x2ed48c(0x23b)]=_0x7e9a84[_0x2ed48c(0x23b)][_0x2ed48c(0x218)](_0xf19653));}),_0x1d4043;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x4fe58b=_0xa39756,_0x641c3a=document[_0x4fe58b(0x8fb)](_0x4fe58b(0x51c)),_0x3696ea=document[_0x4fe58b(0x8fb)](_0x4fe58b(0xa29)),_0x325d23=_0x641c3a[_0x4fe58b(0x3d4)][_0x4fe58b(0x6a8)](),_0x2c5934=_0x3696ea['value'][_0x4fe58b(0x6a8)]();if(!_0x325d23){showMessage(_0x4fe58b(0x816));return;}const _0x2c7f69=document[_0x4fe58b(0x8fb)](_0x4fe58b(0x77e)),_0x25f2c1=document[_0x4fe58b(0x8fb)](_0x4fe58b(0xa03)),_0x3f052d=document[_0x4fe58b(0x8fb)]('generated-quiz-container'),_0x40ad54=document['getElementById'](_0x4fe58b(0x974));document[_0x4fe58b(0x8fb)](_0x4fe58b(0x956))[_0x4fe58b(0xa57)]['remove'](_0x4fe58b(0xcb3)),_0x3f052d[_0x4fe58b(0x878)]='',_0x2c7f69[_0x4fe58b(0xa57)][_0x4fe58b(0x586)]('hidden'),_0x25f2c1[_0x4fe58b(0xa47)]=_0x4fe58b(0xb20),_0x40ad54[_0x4fe58b(0xc96)]=!![];try{const _0x4ac881=_0x4fe58b(0x882)+encodeURIComponent(_0x325d23),_0x2f10fe=await fetch(_0x4ac881);if(!_0x2f10fe['ok'])throw new Error(_0x4fe58b(0x477)+_0x2f10fe[_0x4fe58b(0xcce)]+')');const _0x2cef20=await _0x2f10fe['text'](),_0x18904f=extractTextFromHtml(_0x2cef20);if(!_0x18904f||_0x18904f[_0x4fe58b(0x7c7)]<0x64)throw new Error(_0x4fe58b(0xc1e));await generateQuiz(_0x2c5934,_0x18904f);}catch(_0x4548e2){console[_0x4fe58b(0xd73)](_0x4fe58b(0x5c0),_0x4548e2),showMessage(_0x4fe58b(0xa05)+_0x4548e2[_0x4fe58b(0x5b7)]),_0x3f052d[_0x4fe58b(0x878)]=_0x4fe58b(0x7e4);}finally{_0x2c7f69['classList'][_0x4fe58b(0x8de)](_0x4fe58b(0xcb3)),_0x40ad54[_0x4fe58b(0xc96)]=![];}}function extractTextFromHtml(_0x569b63){const _0x40c452=_0xa39756,_0x484789=new DOMParser()['parseFromString'](_0x569b63,'text/html');return _0x484789[_0x40c452(0x6aa)](_0x40c452(0xc54))['forEach'](_0x464b34=>_0x464b34[_0x40c452(0x586)]()),_0x484789[_0x40c452(0x587)]['textContent']||'';}document[_0xa39756(0x8fb)](_0xa39756(0x54b))[_0xa39756(0xb95)](_0xa39756(0x305),()=>{const _0x2976b3=_0xa39756,_0x1893cc=document[_0x2976b3(0x8fb)](_0x2976b3(0xc48))['value'][_0x2976b3(0x6a8)]();generateQuiz(_0x1893cc,null);}),document[_0xa39756(0x8fb)]('generate-from-text-btn')[_0xa39756(0xb95)](_0xa39756(0x305),()=>{const _0x32653f=_0xa39756,_0x577728=document[_0x32653f(0x8fb)](_0x32653f(0x79d))['value'][_0x32653f(0x6a8)]();if(!_0x577728){showMessage(_0x32653f(0x6fa));return;}const _0x391df9=document['getElementById'](_0x32653f(0xc48))['value'][_0x32653f(0x6a8)]();generateQuiz(_0x391df9,_0x577728);});async function generateQuiz(_0x424c02,_0x420d50,_0xea4f86=null,_0x5eeb77=null,_0x60dac4=![],_0x5d6709=null,_0x45fcbf=null,_0x33ec0c=![]){const _0x77d1f7=_0xa39756;let _0x2dfa89={};if(_0x60dac4&&blueprintPageSettings)_0x2dfa89=blueprintPageSettings;else{const _0xe7d284=document[_0x77d1f7(0x6aa)](_0x77d1f7(0x606));_0x2dfa89={'quizType':document['getElementById'](_0x77d1f7(0x228))[_0x77d1f7(0x3d4)],'numQuestions':document[_0x77d1f7(0x8fb)](_0x77d1f7(0x1f0))[_0x77d1f7(0x3d4)],'numChoices':document[_0x77d1f7(0x8fb)](_0x77d1f7(0x660))[_0x77d1f7(0x3d4)],'includeImages':document[_0x77d1f7(0x8fb)](_0x77d1f7(0x6ef))['checked'],'isNormalTopic':document[_0x77d1f7(0x8fb)]('force-math-checkbox')[_0x77d1f7(0x588)],'difficultyValue':document[_0x77d1f7(0x8fb)]('difficulty-level-select')[_0x77d1f7(0x3d4)],'complexityValue':document[_0x77d1f7(0x8fb)](_0x77d1f7(0x6d7))[_0x77d1f7(0x3d4)],'selectedTopicNames':Array['from'](_0xe7d284)[_0x77d1f7(0x218)](_0x37c394=>_0x37c394[_0x77d1f7(0x3d4)])};}const _0x4a4566=_0x2dfa89[_0x77d1f7(0x553)]?'':'คณิตศาสตร์',_0x4ab2c0=_0x2dfa89[_0x77d1f7(0x202)]!=='auto'?_0x77d1f7(0xcf6)+_0x2dfa89[_0x77d1f7(0x202)]+'\x22':'',_0x4ddb6b=_0x2dfa89['complexityValue']!==_0x77d1f7(0xae4)?_0x77d1f7(0x9e2)+_0x2dfa89[_0x77d1f7(0xccb)]+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x2c7ac9='';_0x2dfa89[_0x77d1f7(0x3cc)]&&_0x2dfa89[_0x77d1f7(0x3cc)][_0x77d1f7(0x7c7)]>0x0&&(_0x2c7ac9='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x2dfa89[_0x77d1f7(0x3cc)][_0x77d1f7(0xb7d)](',\x20')+'.');let _0x599ed7='';_0x5eeb77&&(_0x599ed7=_0x77d1f7(0x349));let _0x57db4b='',_0x4ecd1a='',_0x3d244d,_0x3b2907=_0x77d1f7(0xb6b)+_0x424c02+'\x22';if(!_0x424c02&&_0x420d50)_0x3b2907=_0x77d1f7(0x6f6);else!_0x424c02&&!_0x420d50&&(_0x3b2907='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x288afc={'type':_0x77d1f7(0x444),'properties':{'questionText':{'type':_0x77d1f7(0x4d7)},'options':{'type':_0x77d1f7(0x2d8),'items':{'type':_0x77d1f7(0x4d7)}},'correctAnswerIndex':{'type':_0x77d1f7(0x51e)},'explanation':{'type':_0x77d1f7(0x4d7)},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x77d1f7(0x5fd),_0x77d1f7(0x55d)]},_0x1e3665={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x77d1f7(0x4d7)}},'required':[_0x77d1f7(0xcd1),_0x77d1f7(0x5c6),_0x77d1f7(0x55d)]},_0x27ff65={'type':_0x77d1f7(0x444),'properties':{'questionText':{'type':_0x77d1f7(0x4d7)},'questionType':{'type':'STRING','enum':[_0x77d1f7(0x525),_0x77d1f7(0x880)]},'options':{'type':_0x77d1f7(0x2d8),'items':{'type':_0x77d1f7(0x4d7)}},'correctAnswerIndex':{'type':_0x77d1f7(0x51e)},'idealAnswer':{'type':_0x77d1f7(0x4d7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x77d1f7(0x4d7)}},'required':[_0x77d1f7(0xcd1),_0x77d1f7(0x672),_0x77d1f7(0x55d)]},_0x5ae230={'type':_0x77d1f7(0x444),'properties':{'questionText':{'type':_0x77d1f7(0x4d7)},'correctAnswer':{'type':_0x77d1f7(0xd9a)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x77d1f7(0xcd1),_0x77d1f7(0xdae),_0x77d1f7(0x55d)]},_0x4310fd={'type':_0x77d1f7(0x444),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x77d1f7(0x4d7)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x77d1f7(0x2d8),'items':{'type':_0x77d1f7(0x4d7)}},'explanation':{'type':_0x77d1f7(0x4d7)},'imageCode':{'type':_0x77d1f7(0x4d7)}},'required':['questionType',_0x77d1f7(0x722),_0x77d1f7(0x8e8),'allResponses',_0x77d1f7(0x55d)]};let _0x14ea24;if(_0xea4f86!==null){const _0x2da4e6=currentQuizData['questions'][_0xea4f86]['questionType'],_0x2dce5e=_0x2dfa89[_0x77d1f7(0xc17)]?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x57db4b=_0x77d1f7(0x580)+_0x3b2907+'\x20'+_0x2c7ac9+'\x20'+_0x4ab2c0+_0x77d1f7(0xb66)+_0x2dce5e+'\x20'+simpleMathPrompt;if(_0x2da4e6===_0x77d1f7(0x525))_0x3d244d=_0x288afc;else{if(_0x2da4e6==='matching_item')_0x3d244d={'type':_0x77d1f7(0x444),'properties':{'questionType':{'type':_0x77d1f7(0x4d7),'enum':['matching_item']},'stem':{'type':_0x77d1f7(0x4d7)},'correctResponse':{'type':_0x77d1f7(0x4d7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x77d1f7(0x4d7)}},'required':[_0x77d1f7(0x672),_0x77d1f7(0x722),_0x77d1f7(0x8e8),_0x77d1f7(0x55d)]};else _0x3d244d=_0x1e3665;}_0x14ea24=_0x3d244d;}else{const _0x44d5d9=_0x2dfa89['includeImages']?_0x77d1f7(0x719):'';switch(_0x2dfa89[_0x77d1f7(0x28e)]){case _0x77d1f7(0x525):_0x57db4b=_0x77d1f7(0x554)+_0x4a4566+'\x20'+_0x2dfa89[_0x77d1f7(0x88a)]+_0x77d1f7(0xcc7)+_0x3b2907+'\x20'+_0x2c7ac9+'\x20'+_0x4ab2c0+'\x20'+_0x4ddb6b+'\x20'+_0x599ed7+_0x77d1f7(0x85c)+_0x2dfa89[_0x77d1f7(0x83f)]+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x44d5d9+'\x20'+simpleMathPrompt,_0x3d244d=_0x288afc;break;case'fill_in_with_choices':_0x57db4b=_0x77d1f7(0x3bf)+_0x4a4566+'\x20'+_0x2dfa89[_0x77d1f7(0x88a)]+_0x77d1f7(0xcc7)+_0x3b2907+'\x20'+_0x2c7ac9+'\x20'+_0x4ab2c0+'\x20'+_0x4ddb6b+'\x20'+_0x599ed7+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x2dfa89[_0x77d1f7(0x83f)]+_0x77d1f7(0x823)+_0x44d5d9+'\x20'+simpleMathPrompt,_0x3d244d=_0x288afc;break;case _0x77d1f7(0xbac):_0x57db4b=_0x77d1f7(0x3bf)+_0x4a4566+'\x20'+_0x2dfa89[_0x77d1f7(0x88a)]+'\x20ข้อ\x20'+_0x3b2907+'\x20'+_0x2c7ac9+'\x20'+_0x4ab2c0+'\x20'+_0x4ddb6b+'\x20'+_0x599ed7+_0x77d1f7(0x97b)+_0x44d5d9+'\x20'+simpleMathPrompt,_0x3d244d=_0x1e3665;break;case'mixed':_0x57db4b=_0x77d1f7(0x35f)+_0x4a4566+'\x20'+_0x2dfa89[_0x77d1f7(0x88a)]+'\x20ข้อ\x20'+_0x3b2907+'\x20'+_0x2c7ac9+'\x20'+_0x4ab2c0+'\x20'+_0x4ddb6b+'\x20'+_0x599ed7+_0x77d1f7(0x70a)+_0x2dfa89[_0x77d1f7(0x83f)]+_0x77d1f7(0x7c2)+_0x44d5d9+'\x20'+simpleMathPrompt+'.',_0x3d244d=_0x27ff65;break;case _0x77d1f7(0xc4d):_0x57db4b=_0x77d1f7(0x8d6)+_0x4a4566+'\x20'+_0x2dfa89[_0x77d1f7(0x88a)]+'\x20ข้อ\x20'+_0x3b2907+'\x20'+_0x2c7ac9+'\x20'+_0x4ab2c0+'\x20'+_0x4ddb6b+'\x20'+_0x599ed7+_0x77d1f7(0xc63)+_0x44d5d9+'\x20'+simpleMathPrompt,_0x3d244d=_0x5ae230;break;case _0x77d1f7(0x464):_0x57db4b='สร้างชุดคำถามจับคู่'+_0x4a4566+'\x20'+_0x2dfa89[_0x77d1f7(0x88a)]+_0x77d1f7(0xaec)+_0x3b2907+'\x20'+_0x2c7ac9+'\x20'+_0x4ab2c0+'\x20'+_0x4ddb6b+'\x20'+_0x599ed7+_0x77d1f7(0x9b0)+_0x44d5d9+'\x20'+simpleMathPrompt,_0x3d244d=_0x4310fd;break;}_0x14ea24={'type':_0x77d1f7(0x444),'properties':{'topic':{'type':_0x77d1f7(0x4d7)},'questions':{'type':_0x77d1f7(0x2d8),'items':_0x3d244d}},'required':[_0x77d1f7(0xb19),'questions']};}const _0xe21ab5=_0x77d1f7(0xa39);_0x420d50?(_0x33ec0c?_0x57db4b=_0x77d1f7(0x272)+_0x420d50+_0x77d1f7(0x45a)+_0x57db4b+_0xe21ab5:_0x57db4b=_0x77d1f7(0x272)+_0x420d50+_0x77d1f7(0x45a)+_0x57db4b,_0x4ecd1a=_0x77d1f7(0xc49)):(_0x33ec0c&&(_0x57db4b+=_0xe21ab5),_0x4ecd1a=_0x77d1f7(0xbf8));let _0x4e6fd4;return _0x5eeb77?(_0x4e6fd4=[{'text':_0x57db4b},..._0x5eeb77],_0x4ecd1a='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x4e6fd4=_0x57db4b,handleApiCall(_0x4e6fd4,_0x4ecd1a,_0x14ea24,_0xea4f86,!![],_0x5d6709,_0x45fcbf);}async function generateQuizFromFile(_0x2e02d5,_0x3b7cf8){const _0x3c218a=_0xa39756,_0x5a03d0=document['getElementById'](_0x3c218a(0x2df))[_0x3c218a(0x3d4)]['trim'](),_0x5dc4c4=document[_0x3c218a(0x8fb)](_0x3c218a(0x228))['value'],_0x229690=document[_0x3c218a(0x8fb)](_0x3c218a(0x1f0))[_0x3c218a(0x3d4)],_0x553346=document['getElementById']('num-choices')[_0x3c218a(0x3d4)],_0x2c4fec=document[_0x3c218a(0x8fb)](_0x3c218a(0x6ef))[_0x3c218a(0x588)],_0x1605da=document['getElementById'](_0x3c218a(0x3ee))['checked'],_0x2cfd71=_0x1605da?'':'คณิตศาสตร์',_0x1345e3=document[_0x3c218a(0x8fb)]('original-mode-checkbox')['checked'];let _0x52dde8='',_0x463997;const _0x2847cf=_0x2c4fec?_0x3c218a(0x719):'';if(_0x1345e3)_0x52dde8=_0x3c218a(0x4f1)+_0x2847cf+'\x0a'+simpleMathPrompt+'\x0a',_0x463997={'type':_0x3c218a(0x444),'properties':{'questionText':{'type':_0x3c218a(0x4d7)},'questionType':{'type':_0x3c218a(0x4d7),'enum':[_0x3c218a(0x525),_0x3c218a(0x880),_0x3c218a(0xc4d),_0x3c218a(0xbd6)]},'options':{'type':_0x3c218a(0x2d8),'items':{'type':_0x3c218a(0x4d7)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x3c218a(0xd9a)},'stem':{'type':_0x3c218a(0x4d7)},'correctResponse':{'type':_0x3c218a(0x4d7)},'allResponses':{'type':_0x3c218a(0x2d8),'items':{'type':_0x3c218a(0x4d7)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3c218a(0x4d7)}},'required':[_0x3c218a(0x672),_0x3c218a(0x55d)]};else{let _0x370248=_0x3c218a(0xb6b)+_0x5a03d0+'\x22';!_0x5a03d0&&(_0x370248=_0x3c218a(0xbe2));switch(_0x5dc4c4){case _0x3c218a(0x525):_0x52dde8=_0x3c218a(0x554)+_0x2cfd71+'\x20'+_0x229690+_0x3c218a(0xcc7)+_0x370248+_0x3c218a(0x85c)+_0x553346+_0x3c218a(0xc85)+_0x2847cf+'\x20'+simpleMathPrompt,_0x463997={'type':_0x3c218a(0x444),'properties':{'questionText':{'type':_0x3c218a(0x4d7)},'options':{'type':_0x3c218a(0x2d8),'items':{'type':_0x3c218a(0x4d7)}},'correctAnswerIndex':{'type':_0x3c218a(0x51e)},'explanation':{'type':_0x3c218a(0x4d7)},'imageCode':{'type':_0x3c218a(0x4d7)}},'required':[_0x3c218a(0xcd1),_0x3c218a(0x9af),_0x3c218a(0x5fd),_0x3c218a(0x55d)]};break;case _0x3c218a(0x316):_0x52dde8=_0x3c218a(0x3bf)+_0x2cfd71+'\x20'+_0x229690+_0x3c218a(0xcc7)+_0x370248+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x553346+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2847cf+'\x20'+simpleMathPrompt,_0x463997={'type':_0x3c218a(0x444),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3c218a(0x2d8),'items':{'type':_0x3c218a(0x4d7)}},'correctAnswerIndex':{'type':_0x3c218a(0x51e)},'explanation':{'type':_0x3c218a(0x4d7)},'imageCode':{'type':_0x3c218a(0x4d7)}},'required':[_0x3c218a(0xcd1),_0x3c218a(0x9af),'correctAnswerIndex','explanation']};break;case'fill_in_no_choices':_0x52dde8=_0x3c218a(0x3bf)+_0x2cfd71+'\x20'+_0x229690+_0x3c218a(0xcc7)+_0x370248+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x2847cf+'\x20'+simpleMathPrompt,_0x463997={'type':_0x3c218a(0x444),'properties':{'questionText':{'type':_0x3c218a(0x4d7)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3c218a(0x4d7)}},'required':['questionText',_0x3c218a(0x5c6),_0x3c218a(0x55d)]};break;case'mixed':_0x52dde8='สร้างแบบทดสอบ'+_0x2cfd71+'\x20'+_0x229690+_0x3c218a(0xcc7)+_0x370248+_0x3c218a(0x9dd)+_0x553346+_0x3c218a(0x3d3)+_0x2847cf+'\x20'+simpleMathPrompt+_0x3c218a(0xb2c),_0x463997={'type':'OBJECT','properties':{'questionText':{'type':_0x3c218a(0x4d7)},'questionType':{'type':'STRING','enum':[_0x3c218a(0x525),_0x3c218a(0x880)]},'options':{'type':_0x3c218a(0x2d8),'items':{'type':_0x3c218a(0x4d7)}},'correctAnswerIndex':{'type':_0x3c218a(0x51e)},'idealAnswer':{'type':_0x3c218a(0x4d7)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3c218a(0x4d7)}},'required':[_0x3c218a(0xcd1),_0x3c218a(0x672),_0x3c218a(0x55d)]};break;case _0x3c218a(0xc4d):_0x52dde8='สร้างคำถามแบบใช่/ไม่ใช่'+_0x2cfd71+'\x20'+_0x229690+'\x20ข้อ\x20'+_0x370248+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2847cf+'\x20'+simpleMathPrompt,_0x463997={'type':'OBJECT','properties':{'questionText':{'type':_0x3c218a(0x4d7)},'correctAnswer':{'type':_0x3c218a(0xd9a)},'explanation':{'type':_0x3c218a(0x4d7)},'imageCode':{'type':_0x3c218a(0x4d7)}},'required':[_0x3c218a(0xcd1),_0x3c218a(0xdae),'explanation']};break;case _0x3c218a(0x464):_0x52dde8=_0x3c218a(0x2fe)+_0x2cfd71+'\x20'+_0x229690+_0x3c218a(0xaec)+_0x370248+_0x3c218a(0x5ab)+_0x229690+_0x3c218a(0x988)+_0x2847cf+'\x20'+simpleMathPrompt,_0x463997={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x3c218a(0xbd6)]},'stem':{'type':_0x3c218a(0x4d7)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x3c218a(0x4d7)}},'explanation':{'type':_0x3c218a(0x4d7)},'imageCode':{'type':_0x3c218a(0x4d7)}},'required':[_0x3c218a(0x672),'stem','correctResponse','allResponses',_0x3c218a(0x55d)]};break;}}const _0x4fe62a={'type':'OBJECT','properties':{'topic':{'type':_0x3c218a(0x4d7)},'questions':{'type':'ARRAY','items':_0x463997}},'required':[_0x3c218a(0xb19),_0x3c218a(0x4a2)]},_0xaae14a=_0x3c218a(0x4ae)+_0x52dde8,_0x2af9b7={'contents':[{'parts':[{'text':_0xaae14a},{'inlineData':{'mimeType':_0x2e02d5,'data':_0x3b7cf8}}]}],'generationConfig':{'responseMimeType':_0x3c218a(0x9d9),'responseSchema':_0x4fe62a}};return handleApiCall(_0x2af9b7['contents'][0x0][_0x3c218a(0x712)],_0x3c218a(0xb39),_0x4fe62a);}async function handleApiCall(_0x14bf26,_0x3e60dd,_0x344f42,_0x5b3071=null,_0x50de0a=!![],_0x4de995=null,_0x3b075c=null){const _0x2e6ed5=_0xa39756,_0x1ba775=document[_0x2e6ed5(0x8fb)]('quiz-generation-area'),_0x9cca35=document['getElementById']('loader'),_0x25399d=document[_0x2e6ed5(0x8fb)](_0x2e6ed5(0xa03)),_0x30b0c5=document[_0x2e6ed5(0x8fb)](_0x2e6ed5(0xdf7));_0x1ba775['classList']['remove'](_0x2e6ed5(0xcb3));_0x5b3071===null&&_0x50de0a&&(_0x30b0c5[_0x2e6ed5(0x878)]='');_0x9cca35[_0x2e6ed5(0xa57)][_0x2e6ed5(0x586)](_0x2e6ed5(0xcb3)),_0x25399d[_0x2e6ed5(0xa47)]=_0x3e60dd,document[_0x2e6ed5(0x8fb)](_0x2e6ed5(0x54b))[_0x2e6ed5(0xc96)]=!![],document['getElementById']('generate-from-text-btn')['disabled']=!![],document['getElementById'](_0x2e6ed5(0x974))[_0x2e6ed5(0xc96)]=!![];const _0x286839=document['getElementById'](_0x2e6ed5(0x807));if(_0x286839)_0x286839['disabled']=!![];const _0x9dfb4a=document[_0x2e6ed5(0x8fb)](_0x2e6ed5(0x3b9));if(_0x9dfb4a)_0x9dfb4a[_0x2e6ed5(0xc96)]=!![];const _0x582bb7=document[_0x2e6ed5(0x8fb)](_0x2e6ed5(0xc41));if(_0x582bb7)_0x582bb7[_0x2e6ed5(0xc96)]=!![];try{const _0x55c089=Array[_0x2e6ed5(0x3c8)](_0x14bf26)?_0x14bf26:[{'text':_0x14bf26}],_0x4e70e1={'contents':[{'role':'user','parts':_0x55c089}]};_0x344f42&&(_0x4e70e1[_0x2e6ed5(0x4ff)]={'responseMimeType':_0x2e6ed5(0x9d9),'responseSchema':_0x344f42});const _0x14f59e=_0x2e6ed5(0xacb),_0x143a7f=_0x2e6ed5(0x9b9)+_0x14f59e,_0x3c0bd3=await fetch(_0x143a7f,{'method':'POST','headers':{'Content-Type':_0x2e6ed5(0x9d9)},'body':JSON['stringify'](_0x4e70e1)});if(!_0x3c0bd3['ok']){const _0x2dac5c=await _0x3c0bd3[_0x2e6ed5(0x54d)]();console['error'](_0x2e6ed5(0x643),_0x2dac5c);throw new Error(_0x2e6ed5(0xbdb)+_0x3c0bd3['status']);}const _0x1c02f5=await _0x3c0bd3[_0x2e6ed5(0x4f4)]();if(!_0x1c02f5[_0x2e6ed5(0x4a4)]||_0x1c02f5['candidates'][_0x2e6ed5(0x7c7)]===0x0){let _0x53094e='AI\x20did\x20not\x20return\x20any\x20content.';return _0x1c02f5[_0x2e6ed5(0xc14)]?.[_0x2e6ed5(0xcae)]&&(_0x53094e=_0x2e6ed5(0x383)+_0x1c02f5['promptFeedback'][_0x2e6ed5(0xcae)]+'.'),console['error'](_0x53094e,JSON[_0x2e6ed5(0x8ff)](_0x1c02f5)),null;}const _0x4227bc=_0x1c02f5[_0x2e6ed5(0x4a4)][0x0][_0x2e6ed5(0x68b)][_0x2e6ed5(0x712)][0x0][_0x2e6ed5(0x54d)];if(_0x344f42){let _0x231345=_0x4227bc;if(_0x231345[_0x2e6ed5(0x739)](_0x2e6ed5(0xc97)))_0x231345=_0x231345[_0x2e6ed5(0x86a)](0x7,_0x231345[_0x2e6ed5(0x7c7)]-0x3)['trim']();else _0x231345[_0x2e6ed5(0x739)](_0x2e6ed5(0x513))&&(_0x231345=_0x231345[_0x2e6ed5(0x86a)](0x3,_0x231345[_0x2e6ed5(0x7c7)]-0x3)[_0x2e6ed5(0x6a8)]());let _0x12189c=JSON['parse'](_0x231345);if(_0x50de0a){if(_0x5b3071!==null){}else currentQuizData=_0x12189c,displayGeneratedQuiz(currentQuizData,_0x4de995,_0x3b075c);}return _0x12189c;}else return _0x4227bc;}catch(_0x4091cf){console[_0x2e6ed5(0xd73)](_0x2e6ed5(0x911),_0x4091cf),showMessage(_0x2e6ed5(0x7af)+_0x4091cf['message']);_0x50de0a&&(_0x30b0c5[_0x2e6ed5(0x878)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>');throw _0x4091cf;}finally{_0x9cca35[_0x2e6ed5(0xa57)]['add'](_0x2e6ed5(0xcb3)),document[_0x2e6ed5(0x8fb)](_0x2e6ed5(0x54b))[_0x2e6ed5(0xc96)]=![],document[_0x2e6ed5(0x8fb)](_0x2e6ed5(0xb85))[_0x2e6ed5(0xc96)]=![],document['getElementById']('generate-from-link-btn')[_0x2e6ed5(0xc96)]=![];if(_0x286839)_0x286839[_0x2e6ed5(0xc96)]=![];if(_0x9dfb4a)_0x9dfb4a['disabled']=![];if(_0x582bb7)_0x582bb7[_0x2e6ed5(0xc96)]=![];}}function exitFullscreen(){const _0x253fd1=_0xa39756;if(document['exitFullscreen'])document[_0x253fd1(0x6ab)]()[_0x253fd1(0x7a3)](_0x297699=>console[_0x253fd1(0xd73)](_0x297699));else{if(document[_0x253fd1(0x649)])document[_0x253fd1(0x649)]();else document[_0x253fd1(0xc09)]&&document[_0x253fd1(0xc09)]();}}function enterFullscreen(){const _0x351292=_0xa39756,_0x266ece=document[_0x351292(0x1ee)];if(_0x266ece[_0x351292(0xd8a)])_0x266ece[_0x351292(0xd8a)]()[_0x351292(0x7a3)](_0x43772a=>{const _0x4df940=_0x351292;console[_0x4df940(0xd73)](_0x4df940(0x779)+_0x43772a[_0x4df940(0x5b7)]+'\x20('+_0x43772a[_0x4df940(0x4ee)]+')');});else{if(_0x266ece[_0x351292(0x5c7)])_0x266ece[_0x351292(0x5c7)]();else _0x266ece[_0x351292(0xdb6)]&&_0x266ece[_0x351292(0xdb6)]();}}function handleCheatingEvent(){const _0x38ea8f=_0xa39756;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x38ea8f(0xdc6),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x38ea8f(0x3e8)),document[_0x38ea8f(0x8fb)](_0x38ea8f(0x9ad))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x38ea8f(0x2a4),handleVisibilityChange),document[_0x38ea8f(0x223)](_0x38ea8f(0x76e),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x292f33=_0xa39756;if(currentMode===_0x292f33(0x5bb)||!isQuizActive)return;if(document[_0x292f33(0xdaf)]==='hidden')handleCheatingEvent();else document[_0x292f33(0xdaf)]===_0x292f33(0xa72)&&(console[_0x292f33(0xcf9)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x57ba6d=_0xa39756;if(currentMode===_0x57ba6d(0x5bb)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x2ca00c,_0x3f6063=null,_0x1d225d=null){const _0x1ca5a5=_0xa39756,_0x1cc9f0=document['getElementById']('generated-quiz-container');let _0x115d3e=_0x1ca5a5(0x752)+_0x2ca00c['topic']+_0x1ca5a5(0xdd2);_0x2ca00c['questions']['forEach']((_0x41b064,_0x3e0f9b)=>{const _0x20771c=_0x1ca5a5;!_0x41b064['id']&&(_0x41b064['id']='q_'+Date[_0x20771c(0xcad)]()+'_'+_0x3e0f9b);const _0x51be52=_0x41b064[_0x20771c(0x672)]||_0x2ca00c[_0x20771c(0x28e)];_0x115d3e+=_0x20771c(0xa9b)+_0x3e0f9b+_0x20771c(0x593)+_0x3e0f9b+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3e0f9b+_0x20771c(0xa21);switch(_0x51be52){case _0x20771c(0xbd6):_0x115d3e+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x3e0f9b+'\x22>'+(_0x3e0f9b+0x1)+'.\x20'+_0x41b064[_0x20771c(0x722)]+_0x20771c(0xc74);_0x41b064['imageCode']&&(_0x115d3e+=_0x20771c(0x9ac)+_0x3e0f9b+_0x20771c(0xb2d)+_0x41b064[_0x20771c(0xd93)]+_0x20771c(0x369));_0x115d3e+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x3e0f9b+'\x22>'+_0x41b064['correctResponse']+'</span></div>',_0x115d3e+=_0x20771c(0xabe)+_0x3e0f9b+'\x22>'+_0x41b064[_0x20771c(0x55d)]+'</span></div>';break;case'short_answer':_0x115d3e+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x3e0f9b+'\x22>'+(_0x3e0f9b+0x1)+'.\x20'+_0x41b064[_0x20771c(0xcd1)]+_0x20771c(0xc74);_0x41b064[_0x20771c(0xd93)]&&(_0x115d3e+=_0x20771c(0x9ac)+_0x3e0f9b+_0x20771c(0xb2d)+_0x41b064['imageCode']+_0x20771c(0x369));_0x115d3e+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x3e0f9b+'\x22>'+_0x41b064[_0x20771c(0x5c6)]+'</span></div>',_0x115d3e+=_0x20771c(0xabe)+_0x3e0f9b+'\x22>'+_0x41b064[_0x20771c(0x55d)]+_0x20771c(0x8ab);break;case'true_false':_0x115d3e+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x3e0f9b+'\x22>'+(_0x3e0f9b+0x1)+'.\x20'+_0x41b064[_0x20771c(0xcd1)]+_0x20771c(0xc74);_0x41b064[_0x20771c(0xd93)]&&(_0x115d3e+=_0x20771c(0x9ac)+_0x3e0f9b+_0x20771c(0xb2d)+_0x41b064[_0x20771c(0xd93)]+_0x20771c(0x369));_0x115d3e+=_0x20771c(0x826)+(_0x41b064[_0x20771c(0xdae)]===!![]?_0x20771c(0x9da):'')+_0x20771c(0x45c)+(_0x41b064[_0x20771c(0xdae)]===![]?_0x20771c(0x9da):'')+_0x20771c(0xd42),_0x115d3e+=_0x20771c(0xabe)+_0x3e0f9b+'\x22>'+_0x41b064[_0x20771c(0x55d)]+_0x20771c(0x8ab);break;case _0x20771c(0xc69):case _0x20771c(0x525):default:_0x115d3e+=_0x20771c(0xad5)+_0x3e0f9b+'\x22>'+(_0x3e0f9b+0x1)+'.\x20'+_0x41b064[_0x20771c(0xcd1)]+'</p>';_0x41b064[_0x20771c(0xd93)]&&(_0x115d3e+=_0x20771c(0x9ac)+_0x3e0f9b+_0x20771c(0xb2d)+_0x41b064['imageCode']+_0x20771c(0x369));_0x115d3e+=_0x20771c(0x9e8)+_0x3e0f9b+_0x20771c(0xc2e)+(_0x41b064['options']||[])[_0x20771c(0x218)]((_0x2a37db,_0x2d807a)=>'<li\x20class=\x22'+(_0x2d807a===_0x41b064[_0x20771c(0x5fd)]?_0x20771c(0x9da):'')+'\x22>'+_0x2a37db+_0x20771c(0xd51))[_0x20771c(0xb7d)]('')+_0x20771c(0xb30),_0x115d3e+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x3e0f9b+'\x22>'+_0x41b064[_0x20771c(0x55d)]+_0x20771c(0x8ab);break;}_0x115d3e+=_0x20771c(0x369);}),_0x115d3e+=_0x1ca5a5(0x9a6),_0x1cc9f0[_0x1ca5a5(0x878)]=_0x115d3e,document[_0x1ca5a5(0x6aa)](_0x1ca5a5(0x3bd))['forEach'](_0x4cf163=>_0x4cf163[_0x1ca5a5(0xb95)]('click',handleEditQuestion)),document[_0x1ca5a5(0x6aa)](_0x1ca5a5(0xd8c))['forEach'](_0x127148=>_0x127148[_0x1ca5a5(0xb95)]('click',handleRegenerateQuestion)),document[_0x1ca5a5(0x8fb)](_0x1ca5a5(0x89c))[_0x1ca5a5(0xb95)]('click',exportQuizAsWorksheetPDF),document[_0x1ca5a5(0x8fb)](_0x1ca5a5(0xab0))[_0x1ca5a5(0xb95)](_0x1ca5a5(0x305),handleVerifyAnswers);const _0x379afe=document['getElementById'](_0x1ca5a5(0x925));if(_0x379afe){const _0x4e9184=_0x3f6063||currentProjectId;_0x379afe['addEventListener'](_0x1ca5a5(0x305),()=>saveQuiz(_0x4e9184,_0x1d225d));}if(window[_0x1ca5a5(0xb54)])window[_0x1ca5a5(0xb54)][_0x1ca5a5(0xa3f)]([_0x1cc9f0]);}function handleRegenerateQuestion(_0x4ff8e6){const _0x1745be=_0xa39756,_0x954527=_0x4ff8e6[_0x1745be(0xb13)]['dataset'][_0x1745be(0x589)],_0x42562=currentQuizData[_0x1745be(0xb19)];showMessage(_0x1745be(0x480)+(parseInt(_0x954527)+0x1)+_0x1745be(0x73d)),generateQuiz(_0x42562,null,parseInt(_0x954527));}function getPointerPosition(_0x5259af,_0x4c7ebe){const _0x3c65ef=_0xa39756,_0x1ee7b5=_0x5259af[_0x3c65ef(0x38d)]();let _0x36a631,_0x1a13de;return _0x4c7ebe[_0x3c65ef(0xd58)]&&_0x4c7ebe[_0x3c65ef(0xd58)][_0x3c65ef(0x7c7)]>0x0?(_0x36a631=_0x4c7ebe[_0x3c65ef(0xd58)][0x0][_0x3c65ef(0xd9c)],_0x1a13de=_0x4c7ebe['touches'][0x0][_0x3c65ef(0x65e)]):(_0x36a631=_0x4c7ebe['clientX'],_0x1a13de=_0x4c7ebe[_0x3c65ef(0x65e)]),{'x':(_0x36a631-_0x1ee7b5['e'])/_0x1ee7b5['a'],'y':(_0x1a13de-_0x1ee7b5['f'])/_0x1ee7b5['d']};}function startDrag(_0x861b0c){const _0x2fe4fe=_0xa39756;_0x861b0c[_0x2fe4fe(0xbc3)]==='touchstart'&&_0x861b0c[_0x2fe4fe(0xc6f)]();const _0x2c9ab1=_0x861b0c[_0x2fe4fe(0x748)][_0x2fe4fe(0x762)](_0x2fe4fe(0xc5d));if(_0x2c9ab1){draggedSvgElement=_0x2c9ab1;const _0x4353bf=draggedSvgElement[_0x2fe4fe(0x33c)],_0xcae749=getPointerPosition(_0x4353bf,_0x861b0c);svgOffset['x']=_0xcae749['x']-parseFloat(draggedSvgElement[_0x2fe4fe(0xbf2)](null,'x')),svgOffset['y']=_0xcae749['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0xbead08,_0x5a347b){const _0x282931=_0xa39756,_0x576495={};if(_0x5a347b['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x34d8de=[..._0x5a347b][_0x282931(0xcbf)]((_0x325163,_0x5f384b)=>{const _0x4a7b39=_0x282931,_0x5c17f1=_0x5f384b[_0x4a7b39(0xd0e)]-_0x325163[_0x4a7b39(0xd0e)];if(_0x5c17f1!==0x0)return _0x5c17f1;const _0x217959=_0x325163['attempts']?.[_0x4a7b39(0x7c7)]||0x1,_0x48f6ef=_0x5f384b[_0x4a7b39(0xd6b)]?.[_0x4a7b39(0x7c7)]||0x1,_0x867136=_0x217959-_0x48f6ef;if(_0x867136!==0x0)return _0x867136;const _0x46f4aa=new Date(_0x325163[_0x4a7b39(0x80d)]),_0x1d76c2=new Date(_0x5f384b[_0x4a7b39(0x80d)]),_0x133a64=_0x46f4aa-_0x1d76c2;if(_0x133a64!==0x0)return _0x133a64;return _0x325163['studentName'][_0x4a7b39(0xa04)](_0x5f384b[_0x4a7b39(0x1f5)],'th');}),_0x3ee45e=_0x34d8de[_0x282931(0x7c7)],_0x18203e=Math[_0x282931(0xcd3)](0x1,Math['floor'](_0x3ee45e*0.33));if(_0x18203e===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x3cfff1=_0x34d8de[_0x282931(0x210)](0x0,_0x18203e),_0x3d5543=_0x34d8de[_0x282931(0x210)](-_0x18203e),_0x3d2c7f=_0x3cfff1[_0x282931(0x218)](_0x842fb3=>_0x842fb3[_0x282931(0x1f5)]),_0x1cc7d0=_0x3d5543[_0x282931(0x218)](_0x8e2abb=>_0x8e2abb[_0x282931(0x1f5)]);return _0xbead08[_0x282931(0x4a2)][_0x282931(0x71e)]((_0x418641,_0x1d38f2)=>{const _0xe64b90=_0x282931,_0x485325=_0x418641[_0xe64b90(0x722)]||_0x418641[_0xe64b90(0xcd1)];let _0x4d3cb5=0x0,_0x30ad2d=0x0,_0x3d7051=0x0;const _0x3b892e=[],_0x2db414=[];_0x3cfff1['forEach'](_0x358c26=>{const _0x3a16ad=_0xe64b90,_0x34efc1=_0x358c26['attempts'][_0x358c26[_0x3a16ad(0xd6b)][_0x3a16ad(0x7c7)]-0x1],_0x255f81=_0x34efc1[_0x3a16ad(0xad1)][_0x3a16ad(0xaf7)](_0x32c8f6=>_0x32c8f6[_0x3a16ad(0x6bc)]===_0x485325);_0x3b892e[_0x3a16ad(0xbdd)]({'name':_0x358c26[_0x3a16ad(0x1f5)],'isCorrect':_0x255f81?_0x255f81['isCorrect']:![]}),_0x255f81&&_0x255f81[_0x3a16ad(0x671)]&&_0x30ad2d++;}),_0x3d5543[_0xe64b90(0x71e)](_0x47c06e=>{const _0x4c729c=_0xe64b90,_0x49f3d4=_0x47c06e[_0x4c729c(0xd6b)][_0x47c06e[_0x4c729c(0xd6b)][_0x4c729c(0x7c7)]-0x1],_0xd121a1=_0x49f3d4[_0x4c729c(0xad1)][_0x4c729c(0xaf7)](_0x47b667=>_0x47b667[_0x4c729c(0x6bc)]===_0x485325);_0x2db414['push']({'name':_0x47c06e[_0x4c729c(0x1f5)],'isCorrect':_0xd121a1?_0xd121a1[_0x4c729c(0x671)]:![]}),_0xd121a1&&_0xd121a1[_0x4c729c(0x671)]&&_0x3d7051++;}),_0x5a347b[_0xe64b90(0x71e)](_0x33d1d4=>{const _0x3206c0=_0xe64b90,_0x1887c2=_0x33d1d4['attempts'][_0x33d1d4[_0x3206c0(0xd6b)][_0x3206c0(0x7c7)]-0x1],_0x2bfbe1=_0x1887c2['answers']['find'](_0x4181de=>_0x4181de[_0x3206c0(0x6bc)]===_0x485325);_0x2bfbe1&&_0x2bfbe1[_0x3206c0(0x671)]&&_0x4d3cb5++;});const _0x49709d=_0x3ee45e>0x0?_0x4d3cb5/_0x3ee45e:0x0,_0x3c99f9=_0x18203e>0x0?_0x30ad2d/_0x18203e-_0x3d7051/_0x18203e:0x0;_0x576495[_0x1d38f2]={'p':_0x49709d,'r':_0x3c99f9,'upperGroupResponders':_0x3b892e,'lowerGroupResponders':_0x2db414};}),{'perQuestionStats':_0x576495,'overallGroups':{'upperGroupNames':_0x3d2c7f,'lowerGroupNames':_0x1cc7d0}};}function drag(_0x297a4d){const _0x1a76e8=_0xa39756;if(draggedSvgElement){_0x297a4d[_0x1a76e8(0xc6f)]();const _0xff37ac=draggedSvgElement[_0x1a76e8(0x33c)],_0x4c83f2=getPointerPosition(_0xff37ac,_0x297a4d),_0x5acaa9=_0xff37ac[_0x1a76e8(0x311)]['baseVal'];let _0x2a6c2a=_0x4c83f2['x']-svgOffset['x'],_0xcfa0f1=_0x4c83f2['y']-svgOffset['y'];const _0x35004c=draggedSvgElement['getBBox']();_0x2a6c2a=Math['max'](_0x5acaa9['x'],Math[_0x1a76e8(0x334)](_0x2a6c2a,_0x5acaa9['x']+_0x5acaa9[_0x1a76e8(0xa67)]-_0x35004c[_0x1a76e8(0xa67)])),_0xcfa0f1=Math[_0x1a76e8(0xcd3)](_0x5acaa9['y'],Math[_0x1a76e8(0x334)](_0xcfa0f1,_0x5acaa9['y']+_0x5acaa9[_0x1a76e8(0xabd)]-_0x35004c[_0x1a76e8(0xabd)])),draggedSvgElement[_0x1a76e8(0x4c6)](null,'x',_0x2a6c2a),draggedSvgElement['setAttributeNS'](null,'y',_0xcfa0f1);}}function endDrag(_0x366533){draggedSvgElement=null;}function handleSvgEditClick(_0x3cecc5){const _0x2b8b6f=_0xa39756;if(_0x3cecc5['target'][_0x2b8b6f(0xa57)][_0x2b8b6f(0x28c)](_0x2b8b6f(0x4ec))){const _0xb1ba18=_0x3cecc5[_0x2b8b6f(0x748)][_0x2b8b6f(0x87f)][_0x2b8b6f(0x84e)],_0x75b40c=_0x3cecc5[_0x2b8b6f(0xb13)],_0x5ca76d=_0x75b40c[_0x2b8b6f(0xa01)]('#'+_0xb1ba18);_0x5ca76d&&_0x5ca76d[_0x2b8b6f(0x586)](),_0x3cecc5[_0x2b8b6f(0x748)][_0x2b8b6f(0x586)]();}}function handleEditQuestion(_0x27c91a){const _0xf86ee1=_0xa39756,_0x395c9e=_0x27c91a[_0xf86ee1(0xb13)],_0x5b55cd=_0x395c9e[_0xf86ee1(0x87f)][_0xf86ee1(0x589)],_0x384898=currentQuizData[_0xf86ee1(0x4a2)][_0x5b55cd],_0x4572ac=document[_0xf86ee1(0x8fb)](_0xf86ee1(0x959)+_0x5b55cd),_0x5182e5=document['getElementById'](_0xf86ee1(0xa2d)+_0x5b55cd),_0x8d2a2d=document[_0xf86ee1(0x8fb)]('q-image-container-'+_0x5b55cd);if(_0x395c9e[_0xf86ee1(0x878)]['includes'](_0xf86ee1(0x23e))){_0x395c9e['innerHTML']='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x395c9e['title']=_0xf86ee1(0x31e);if(_0x4572ac)_0x4572ac[_0xf86ee1(0xc9c)]=!![];if(_0x5182e5)_0x5182e5[_0xf86ee1(0xc9c)]=!![];if(_0x8d2a2d){const _0x3a9cf1=_0x8d2a2d[_0xf86ee1(0xa01)](_0xf86ee1(0x6dc));if(_0x3a9cf1){const _0x208049=_0x3a9cf1[_0xf86ee1(0x6aa)](_0xf86ee1(0x54d));_0x208049['forEach']((_0x168837,_0x3aa8c6)=>{const _0x50f94c=_0xf86ee1,_0x29b544=_0x50f94c(0xd5a)+_0x5b55cd+'-'+_0x3aa8c6;_0x168837['id']=_0x29b544,_0x168837[_0x50f94c(0xa57)]['add']('draggable-text'),_0x168837[_0x50f94c(0x4b4)][_0x50f94c(0xc05)]='move';const _0x408f69=document[_0x50f94c(0xc73)](_0x50f94c(0x6ec),'circle'),_0x3b9c0c=_0x168837['getBBox']();_0x408f69[_0x50f94c(0x37e)]('cx',String(_0x3b9c0c['x']+_0x3b9c0c[_0x50f94c(0xa67)]+0x5)),_0x408f69[_0x50f94c(0x37e)]('cy',String(_0x3b9c0c['y']+_0x3b9c0c['height']/0x2-0x5)),_0x408f69[_0x50f94c(0x37e)]('r','5'),_0x408f69[_0x50f94c(0x37e)](_0x50f94c(0xd47),_0x50f94c(0x407)),_0x408f69['setAttribute'](_0x50f94c(0xcc2),_0x50f94c(0x4ec)),_0x408f69['dataset']['targetId']=_0x29b544,_0x168837[_0x50f94c(0x460)](_0x408f69);}),_0x3a9cf1[_0xf86ee1(0xb95)](_0xf86ee1(0x2e5),startDrag),_0x3a9cf1[_0xf86ee1(0xb95)]('mousemove',drag),_0x3a9cf1[_0xf86ee1(0xb95)]('mouseup',endDrag),_0x3a9cf1[_0xf86ee1(0xb95)](_0xf86ee1(0x3b8),endDrag),_0x3a9cf1['addEventListener'](_0xf86ee1(0x7e6),startDrag,{'passive':![]}),_0x3a9cf1[_0xf86ee1(0xb95)]('touchmove',drag,{'passive':![]}),_0x3a9cf1['addEventListener'](_0xf86ee1(0x52f),endDrag),_0x3a9cf1[_0xf86ee1(0xb95)](_0xf86ee1(0x8c6),endDrag),_0x3a9cf1[_0xf86ee1(0xb95)](_0xf86ee1(0x305),handleSvgEditClick);}}if(_0x4572ac)_0x4572ac[_0xf86ee1(0x515)]();}else{_0x395c9e[_0xf86ee1(0x878)]=_0xf86ee1(0x478),_0x395c9e[_0xf86ee1(0x867)]=_0xf86ee1(0x98e);if(_0x4572ac){_0x4572ac[_0xf86ee1(0xc9c)]=![];const _0x2af475=_0x384898['questionType']||currentQuizData[_0xf86ee1(0x28e)];_0x2af475===_0xf86ee1(0xbd6)?_0x384898['stem']=_0x4572ac[_0xf86ee1(0xc7f)][_0xf86ee1(0x86a)](_0x4572ac['innerText'][_0xf86ee1(0x83d)]('.')+0x2)[_0xf86ee1(0x6a8)]():_0x384898['questionText']=_0x4572ac[_0xf86ee1(0xc7f)][_0xf86ee1(0x86a)](_0x4572ac[_0xf86ee1(0xc7f)]['indexOf']('.')+0x2)['trim']();}_0x5182e5&&(_0x5182e5[_0xf86ee1(0xc9c)]=![],_0x384898[_0xf86ee1(0x55d)]=_0x5182e5['innerText']);if(_0x8d2a2d){const _0x498937=_0x8d2a2d[_0xf86ee1(0xa01)](_0xf86ee1(0x6dc));if(_0x498937){const _0x8a9c6d=_0x498937[_0xf86ee1(0xa82)](!![]);_0x8a9c6d[_0xf86ee1(0x6aa)](_0xf86ee1(0xa48))[_0xf86ee1(0x71e)](_0x365d1c=>_0x365d1c[_0xf86ee1(0x586)]()),_0x8a9c6d[_0xf86ee1(0x6aa)]('.draggable-text')[_0xf86ee1(0x71e)](_0x5bc0b4=>{const _0x1e7d13=_0xf86ee1;_0x5bc0b4[_0x1e7d13(0xa57)][_0x1e7d13(0x586)]('draggable-text'),_0x5bc0b4[_0x1e7d13(0x4b4)]['cursor']=_0x1e7d13(0x892),_0x5bc0b4[_0x1e7d13(0x283)]('id');}),_0x384898[_0xf86ee1(0xd93)]=_0x8a9c6d[_0xf86ee1(0x715)],_0x498937['removeEventListener']('mousedown',startDrag),_0x498937[_0xf86ee1(0x223)](_0xf86ee1(0xc70),drag),_0x498937['removeEventListener']('mouseup',endDrag),_0x498937['removeEventListener']('mouseleave',endDrag),_0x498937[_0xf86ee1(0x223)](_0xf86ee1(0x7e6),startDrag),_0x498937[_0xf86ee1(0x223)](_0xf86ee1(0xaa6),drag),_0x498937[_0xf86ee1(0x223)]('touchend',endDrag),_0x498937['removeEventListener']('touchcancel',endDrag),_0x498937[_0xf86ee1(0x223)](_0xf86ee1(0x305),handleSvgEditClick),_0x498937['querySelectorAll'](_0xf86ee1(0xa48))[_0xf86ee1(0x71e)](_0x294d8e=>_0x294d8e['remove']()),_0x498937[_0xf86ee1(0x6aa)](_0xf86ee1(0xc5d))[_0xf86ee1(0x71e)](_0xbad31f=>{const _0x539335=_0xf86ee1;_0xbad31f[_0x539335(0xa57)]['remove']('draggable-text'),_0xbad31f[_0x539335(0x4b4)]['cursor']='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x47b837){const _0x36e605=_0xa39756,_0x5788e0=document[_0x36e605(0x8fb)](_0x36e605(0x4fd)),_0x2227bd=document[_0x36e605(0x8fb)](_0x36e605(0x526));_0x2227bd[_0x36e605(0x878)]=_0x36e605(0xb14),_0x5788e0[_0x36e605(0xa57)]['remove'](_0x36e605(0xcb3));try{const _0x4895b7=doc(db,_0x36e605(0x73f)+appId+_0x36e605(0xdb4),_0x47b837),_0xa191dc=await getDoc(_0x4895b7);if(!_0xa191dc[_0x36e605(0x86f)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x47b837,..._0xa191dc[_0x36e605(0x3d7)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x202713){console[_0x36e605(0xd73)](_0x36e605(0x2ff),_0x202713),showMessage(_0x36e605(0x44c)),_0x5788e0['classList']['add'](_0x36e605(0xcb3));}}function renderQuizEditor(_0x4ee39a){const _0x202149=_0xa39756;document[_0x202149(0x8fb)]('editor-quiz-topic')['value']=_0x4ee39a['topic'];const _0x1f55f7=document['getElementById'](_0x202149(0x526));let _0x108a45=_0x4ee39a['questions'][_0x202149(0x218)]((_0x568f94,_0x5d09c9)=>{const _0xfb3f8d=_0x202149;let _0x5f027a='';const _0x16d3df=_0x568f94[_0xfb3f8d(0x672)]||_0x4ee39a['quizType'];switch(_0x16d3df){case _0xfb3f8d(0x525):const _0x2b1258=(_0x568f94[_0xfb3f8d(0x9af)]||[])['map']((_0x2610eb,_0x549160)=>_0xfb3f8d(0x568)+_0x5d09c9+_0xfb3f8d(0x31c)+_0x549160+'\x22\x20'+(_0x549160===_0x568f94[_0xfb3f8d(0x5fd)]?_0xfb3f8d(0x588):'')+_0xfb3f8d(0x7fe)+_0x2610eb+_0xfb3f8d(0x32e))[_0xfb3f8d(0xb7d)]('');_0x5f027a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x2b1258+_0xfb3f8d(0x5ae);break;case _0xfb3f8d(0x880):_0x5f027a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x568f94[_0xfb3f8d(0x5c6)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xfb3f8d(0xc4d):_0x5f027a=_0xfb3f8d(0x42d)+_0x5d09c9+_0xfb3f8d(0x442)+(_0x568f94[_0xfb3f8d(0xdae)]===!![]?_0xfb3f8d(0x588):'')+_0xfb3f8d(0x690)+_0x5d09c9+'\x22\x20value=\x22false\x22\x20'+(_0x568f94['correctAnswer']===![]?_0xfb3f8d(0x588):'')+_0xfb3f8d(0x5ad);break;case _0xfb3f8d(0xbd6):_0x5f027a=_0xfb3f8d(0x5d6)+(_0x568f94[_0xfb3f8d(0x8e8)]||'')+_0xfb3f8d(0x49f);break;}let _0x435456=_0x568f94[_0xfb3f8d(0xcd1)]||_0x568f94[_0xfb3f8d(0x722)]||'';return _0x435456=_0x435456['replace'](/<br\s*\/?>/gi,'\x0a'),_0xfb3f8d(0xbb4)+_0x5d09c9+'\x22\x20data-q-type=\x22'+_0x16d3df+_0xfb3f8d(0xaea)+(_0x5d09c9+0x1)+'\x20('+_0x16d3df+_0xfb3f8d(0x664)+_0x435456+_0xfb3f8d(0xbab)+_0x5f027a+_0xfb3f8d(0x58f);})['join']('');_0x1f55f7[_0x202149(0x878)]=_0x108a45;const _0x12ae36='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x1f55f7[_0x202149(0xd92)](_0x202149(0x9ea),_0x12ae36),_0x1f55f7[_0x202149(0x6aa)](_0x202149(0x733))[_0x202149(0x71e)](_0xeb0f09=>{const _0x51fd00=_0x202149;_0xeb0f09[_0x51fd00(0x4b4)][_0x51fd00(0x983)]=_0x51fd00(0xcb3),_0xeb0f09[_0x51fd00(0x4b4)][_0x51fd00(0xc0d)]='100px',_0xeb0f09[_0x51fd00(0x716)]=0x4;const _0x59f1b0=()=>{const _0x14e096=_0x51fd00;_0xeb0f09[_0x14e096(0x4b4)]['height']=_0x14e096(0x205),_0xeb0f09[_0x14e096(0x4b4)][_0x14e096(0xabd)]=_0xeb0f09['scrollHeight']+'px';};_0xeb0f09[_0x51fd00(0xb95)](_0x51fd00(0xc65),_0x59f1b0),_0x59f1b0();}),_0x1f55f7[_0x202149(0x6aa)](_0x202149(0x24d))[_0x202149(0x71e)](_0x5ee762=>{const _0x3badf8=_0x202149;_0x5ee762[_0x3badf8(0xb95)](_0x3badf8(0x305),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x5a63c2){const _0x19f294=_0xa39756;if(!currentEditingQuizData||!currentEditingQuizData[_0x19f294(0x4a2)][_0x5a63c2])return;const _0x6ff3f8=currentEditingQuizData[_0x19f294(0x4a2)][_0x5a63c2][_0x19f294(0xcd1)]||currentEditingQuizData[_0x19f294(0x4a2)][_0x5a63c2]['stem'];showConfirmation(_0x19f294(0x385)+(_0x5a63c2+0x1)+_0x19f294(0xace)+_0x6ff3f8[_0x19f294(0x86a)](0x0,0x14)+_0x19f294(0xb69),()=>{const _0x3ea0f7=_0x19f294;currentEditingQuizData[_0x3ea0f7(0x4a2)]['splice'](_0x5a63c2,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x3ea0f7(0x68e));});}function handleAddQuestionInEditor(){const _0x4253d5=_0xa39756;if(!currentEditingQuizData)return;const _0x39fbea={'id':'q_'+Date[_0x4253d5(0xcad)]()+_0x4253d5(0xc5f),'questionType':_0x4253d5(0x525),'questionText':'---\x20[คำถามใหม่]\x20---','options':[_0x4253d5(0x4e9),_0x4253d5(0xb18),'ตัวเลือก\x20ค',_0x4253d5(0x8e9)],'correctAnswerIndex':0x0,'explanation':_0x4253d5(0x74e)};currentEditingQuizData[_0x4253d5(0x4a2)][_0x4253d5(0xbdd)](_0x39fbea),renderQuizEditor(currentEditingQuizData);const _0x1087da=document['querySelector'](_0x4253d5(0x508));_0x1087da&&(_0x1087da[_0x4253d5(0xd5f)]({'behavior':_0x4253d5(0x214),'block':_0x4253d5(0x704)}),_0x1087da['querySelector'](_0x4253d5(0xb43))[_0x4253d5(0x515)]());}async function handleAiFixQuestion(_0x224f35){const _0x455a52=_0xa39756,_0x4f00cf=_0x224f35[_0x455a52(0xb13)],_0x1fb82f=_0x4f00cf[_0x455a52(0x762)](_0x455a52(0x617));if(!_0x1fb82f)return;const _0x427a03=parseInt(_0x1fb82f[_0x455a52(0x87f)][_0x455a52(0x6d9)],0xa);if(isNaN(_0x427a03)||!currentEditingQuizData[_0x455a52(0x4a2)][_0x427a03]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x58118d=currentEditingQuizData['questions'][_0x427a03];_0x4f00cf[_0x455a52(0x878)]=_0x455a52(0xaa0),_0x4f00cf[_0x455a52(0xc96)]=!![];const _0x1dbea0=_0x455a52(0x930)+JSON[_0x455a52(0x8ff)](_0x58118d)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x246e86;const _0x8b85d0=_0x58118d[_0x455a52(0x672)]||currentEditingQuizData['quizType'];switch(_0x8b85d0){case _0x455a52(0x880):_0x246e86={'type':_0x455a52(0x444),'properties':{'questionText':{'type':_0x455a52(0x4d7)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x455a52(0x4d7)},'imageCode':{'type':_0x455a52(0x4d7)}},'required':['questionText','idealAnswer',_0x455a52(0x55d)]};break;case _0x455a52(0x525):default:_0x246e86={'type':_0x455a52(0x444),'properties':{'questionText':{'type':_0x455a52(0x4d7)},'options':{'type':_0x455a52(0x2d8),'items':{'type':_0x455a52(0x4d7)}},'correctAnswerIndex':{'type':_0x455a52(0x51e)},'explanation':{'type':_0x455a52(0x4d7)},'imageCode':{'type':_0x455a52(0x4d7)}},'required':[_0x455a52(0xcd1),_0x455a52(0x9af),'correctAnswerIndex',_0x455a52(0x55d)]};break;}try{let _0x1caf94=await callAnalysisApi(_0x1dbea0,_0x246e86);_0x1caf94['options']&&Array[_0x455a52(0x3c8)](_0x1caf94[_0x455a52(0x9af)])&&(_0x1caf94[_0x455a52(0x9af)]=_0x1caf94[_0x455a52(0x9af)][_0x455a52(0x218)](_0x3177c5=>typeof _0x3177c5==='string'?_0x3177c5[_0x455a52(0x50a)](/S(\s*[\d_]+?\s*)S/g,_0x455a52(0x48b)):_0x3177c5)),_0x58118d['imageCode']&&_0x58118d[_0x455a52(0xd93)][_0x455a52(0x44e)](_0x455a52(0xa7a))&&(_0x1caf94['imageCode']=''),currentEditingQuizData[_0x455a52(0x4a2)][_0x427a03]={..._0x58118d,..._0x1caf94},renderQuizEditor(currentEditingQuizData),showMessage(_0x455a52(0x298));}catch(_0x39ab91){console['error'](_0x455a52(0x829),_0x39ab91),showMessage(_0x455a52(0x7de)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x271d9b=_0xa39756,_0x32a155=document[_0x271d9b(0x8fb)](_0x271d9b(0x94e));_0x32a155[_0x271d9b(0xc96)]=!![],_0x32a155[_0x271d9b(0x878)]=_0x271d9b(0x88f);try{const _0x112db0=document['getElementById']('editor-quiz-topic')['value'],_0x2beb44=document[_0x271d9b(0x6aa)](_0x271d9b(0x617));let _0x19609b=[];const _0x4929e5=Array['from'](_0x2beb44)[_0x271d9b(0x218)]((_0xe0162f,_0x40635c)=>{const _0x589c59=_0x271d9b,_0x112239=_0xe0162f[_0x589c59(0x87f)][_0x589c59(0x903)],_0x34dcde=_0xe0162f[_0x589c59(0xa01)](_0x589c59(0xb43))['value'][_0x589c59(0x50a)](/\n/g,_0x589c59(0x8f1));let _0x5ea9d3={'questionType':_0x112239};const _0x3a5268=currentEditingQuizData[_0x589c59(0x4a2)][_0x40635c];switch(_0x112239){case _0x589c59(0x525):_0x5ea9d3['questionText']=_0x34dcde;const _0x2b3674=_0xe0162f[_0x589c59(0x6aa)](_0x589c59(0x869));_0x5ea9d3[_0x589c59(0x9af)]=Array[_0x589c59(0x275)](_0x2b3674)['map'](_0x3c5ae7=>_0x3c5ae7[_0x589c59(0x3d4)]);const _0x312e68=_0xe0162f[_0x589c59(0xa01)](_0x589c59(0x2bb));_0x5ea9d3[_0x589c59(0x5fd)]=_0x312e68?parseInt(_0x312e68[_0x589c59(0x3d4)]):0x0;break;case _0x589c59(0x880):_0x5ea9d3[_0x589c59(0xcd1)]=_0x34dcde,_0x5ea9d3[_0x589c59(0x5c6)]=_0xe0162f[_0x589c59(0xa01)](_0x589c59(0x80f))[_0x589c59(0x3d4)];break;case _0x589c59(0xc4d):_0x5ea9d3['questionText']=_0x34dcde;const _0x4f390e=_0xe0162f['querySelector'](_0x589c59(0x2bb));_0x5ea9d3[_0x589c59(0xdae)]=_0x4f390e?_0x4f390e[_0x589c59(0x3d4)]===_0x589c59(0x9b7):!![];break;case _0x589c59(0xbd6):_0x5ea9d3[_0x589c59(0x722)]=_0x34dcde;const _0x40bb81=_0xe0162f['querySelector'](_0x589c59(0x390));_0x5ea9d3[_0x589c59(0x8e8)]=_0x40bb81?_0x40bb81[_0x589c59(0x3d4)]:'',_0x19609b[_0x589c59(0xbdd)](_0x5ea9d3[_0x589c59(0x8e8)]);break;default:_0x5ea9d3['questionText']=_0x34dcde;break;}return{..._0x3a5268,..._0x5ea9d3};});_0x19609b['length']>0x0&&_0x4929e5[_0x271d9b(0x71e)](_0x1803de=>{const _0x328564=_0x271d9b;_0x1803de[_0x328564(0x672)]===_0x328564(0xbd6)&&(_0x1803de[_0x328564(0x23b)]=_0x19609b);});const _0xd5eb95=currentEditingQuizData['id'],_0x3d4383=doc(db,_0x271d9b(0x73f)+appId+_0x271d9b(0xdb4),_0xd5eb95);await updateDoc(_0x3d4383,{'topic':_0x112db0,'questions':_0x4929e5}),document['getElementById'](_0x271d9b(0x4fd))[_0x271d9b(0xa57)]['add'](_0x271d9b(0xcb3)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0xd5eb95));}catch(_0x1c4a1b){console[_0x271d9b(0xd73)](_0x271d9b(0x91a),_0x1c4a1b),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x32a155[_0x271d9b(0xc96)]=![],_0x32a155['innerHTML']=_0x271d9b(0x9cc);}}async function initiateReGradeProcess(_0x23f53f){const _0xde439d=_0xa39756;showMessage(_0xde439d(0x551));try{const _0x31e83a=doc(db,_0xde439d(0x73f)+appId+_0xde439d(0xdb4),_0x23f53f),_0x56fe15=await getDoc(_0x31e83a);if(!_0x56fe15[_0xde439d(0x86f)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x5c5527={'id':_0x23f53f,..._0x56fe15[_0xde439d(0x3d7)]()},_0x198759=collection(db,'artifacts/'+appId+_0xde439d(0xdb4),_0x23f53f,_0xde439d(0x5b9)),_0x49e352=await getDocs(_0x198759);if(_0x49e352[_0xde439d(0x294)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x27cfd8=_0x49e352[_0xde439d(0x485)][_0xde439d(0x218)](_0x13f67d=>reGradeSingleSubmission(_0x13f67d,_0x5c5527));await Promise[_0xde439d(0x49d)](_0x27cfd8);if(_0x5c5527['projectId']){const _0x1e92f0=doc(db,_0xde439d(0x73f)+appId+_0xde439d(0xb08),_0x5c5527[_0xde439d(0xa68)]),_0x42f870=await getDoc(_0x1e92f0);if(_0x42f870[_0xde439d(0x86f)]()&&_0x42f870[_0xde439d(0x3d7)]()['students']){const _0x17518b=_0x42f870[_0xde439d(0x3d7)]()[_0xde439d(0xcc6)]['map'](_0x4511a2=>updateStudentProfile(_0x5c5527[_0xde439d(0xa68)],_0x4511a2));await Promise['all'](_0x17518b);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x49e352[_0xde439d(0x73a)]+_0xde439d(0x3cd));}catch(_0x2338b9){console['error']('Re-grade\x20process\x20failed:',_0x2338b9),showMessage(_0xde439d(0xdbd)+_0x2338b9['message']);}}async function reGradeSingleSubmission(_0x22f50d,_0x582fb3){const _0x9e561a=_0xa39756,_0x335329=_0x22f50d['data'](),_0x3d0d8c=_0x335329[_0x9e561a(0x1f5)],_0x51247c=_0x335329[_0x9e561a(0xd6b)]||[],_0x5571c8=[];for(const _0x52ba6e of _0x51247c){let _0x3a00ef=0x0,_0x155066=[],_0x3cfba9=0x0;const _0x2ca48c=[];for(const _0x24232c of _0x52ba6e[_0x9e561a(0xad1)]){let _0x334b3e;_0x24232c[_0x9e561a(0x417)]&&(_0x334b3e=_0x582fb3[_0x9e561a(0x4a2)][_0x9e561a(0xaf7)](_0x5378cc=>_0x5378cc['id']===_0x24232c[_0x9e561a(0x417)]));!_0x334b3e&&_0x24232c[_0x9e561a(0x6bc)]&&(_0x334b3e=_0x582fb3[_0x9e561a(0x4a2)][_0x9e561a(0xaf7)](_0x5165bc=>(_0x5165bc[_0x9e561a(0x722)]||_0x5165bc[_0x9e561a(0xcd1)])===_0x24232c[_0x9e561a(0x6bc)]));let _0x5879dd=![];if(_0x334b3e){const _0x3a24fb=_0x334b3e[_0x9e561a(0x672)]||_0x582fb3['quizType'];switch(_0x3a24fb){case _0x9e561a(0x525):if(_0x334b3e[_0x9e561a(0x9af)]&&_0x334b3e[_0x9e561a(0x5fd)]<_0x334b3e[_0x9e561a(0x9af)][_0x9e561a(0x7c7)]){const _0x1e79e9=_0x334b3e[_0x9e561a(0x9af)][_0x334b3e[_0x9e561a(0x5fd)]];_0x5879dd=_0x24232c['answerText']===_0x1e79e9;}break;case'true_false':const _0x136825=_0x24232c[_0x9e561a(0x494)]===!![]||_0x24232c[_0x9e561a(0x494)]===_0x9e561a(0x9b7);_0x5879dd=_0x136825===_0x334b3e[_0x9e561a(0xdae)];break;case _0x9e561a(0xbd6):_0x5879dd=_0x24232c[_0x9e561a(0x494)]===_0x334b3e[_0x9e561a(0x8e8)];break;case'short_answer':_0x5879dd=await gradeShortAnswer(_0x24232c[_0x9e561a(0x494)],_0x334b3e);break;default:_0x5879dd=_0x24232c['isCorrect'];break;}}if(_0x5879dd){_0x3a00ef++,_0x3cfba9++;if(_0x3cfba9===0x3)_0x155066[_0x9e561a(0xbdd)](BADGES[_0x9e561a(0x63e)]['id']);}else _0x3cfba9=0x0;_0x2ca48c[_0x9e561a(0xbdd)]({..._0x24232c,'isCorrect':_0x5879dd});}let _0x21828e=_0x3a00ef*0xa;_0x3a00ef===_0x582fb3['questions'][_0x9e561a(0x7c7)]&&(_0x21828e+=0x32,_0x155066[_0x9e561a(0xbdd)](BADGES[_0x9e561a(0x6e6)]['id'])),_0x5571c8[_0x9e561a(0xbdd)]({..._0x52ba6e,'score':_0x3a00ef,'points':_0x21828e,'badges':Array[_0x9e561a(0x275)](new Set(_0x155066)),'answers':_0x2ca48c});}const _0x4d3ee9=_0x5571c8['length']>0x0?_0x5571c8[0x0][_0x9e561a(0x3e4)]:0x0,_0x4d634c=Math[_0x9e561a(0xcd3)](..._0x5571c8[_0x9e561a(0x218)](_0x2877bf=>_0x2877bf[_0x9e561a(0x3e4)])),_0xce7bf7=_0x5571c8[_0x9e561a(0x7c7)]>0x0?_0x5571c8[_0x5571c8[_0x9e561a(0x7c7)]-0x1]['score']:0x0,_0x46e776=_0x5571c8[_0x9e561a(0x7c7)]>0x0?_0x5571c8[_0x5571c8[_0x9e561a(0x7c7)]-0x1][_0x9e561a(0x2f6)]:0x0,_0x43d5bd=doc(db,_0x9e561a(0x73f)+appId+'/public/data/quizzes/'+_0x582fb3['id']+_0x9e561a(0x26d),_0x3d0d8c);await updateDoc(_0x43d5bd,{'attempts':_0x5571c8,'firstScore':_0x4d3ee9,'bestScore':_0x4d634c,'latestScore':_0xce7bf7,'points':_0x46e776});}function cleanupQuizOptions(_0x546cd6){const _0x77accb=_0xa39756,_0x55baab=(_0x5223ac,_0x2b060a)=>_0x2b060a===0x0?_0x5223ac:_0x55baab(_0x2b060a,_0x5223ac%_0x2b060a),_0x1e8a4c=_0x59638b=>{const _0x181b5b=_0x395e;if(typeof _0x59638b!=='string')return null;_0x59638b=_0x59638b['trim']();const _0x5e7a29=_0x59638b[_0x181b5b(0x5da)](/[ /]/)[_0x181b5b(0x4da)](_0x48d3f6=>_0x48d3f6!=='');if(_0x5e7a29[_0x181b5b(0x7c7)]===0x3)return parseInt(_0x5e7a29[0x0])+parseInt(_0x5e7a29[0x1])/parseInt(_0x5e7a29[0x2]);else{if(_0x5e7a29[_0x181b5b(0x7c7)]===0x2)return parseInt(_0x5e7a29[0x0])/parseInt(_0x5e7a29[0x1]);else{if(_0x5e7a29['length']===0x1&&!isNaN(_0x5e7a29[0x0]))return parseFloat(_0x5e7a29[0x0]);}}return null;},_0x1b9972=_0x6bf6aa=>{const _0x32ebce=_0x395e;if(typeof _0x6bf6aa!==_0x32ebce(0xb55))return _0x6bf6aa;const _0x556507=_0x6bf6aa[_0x32ebce(0xdce)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x556507){const _0x4a58bc=parseInt(_0x556507[0x1]);let _0x25e4f2=parseInt(_0x556507[0x2]),_0x55924f=parseInt(_0x556507[0x3]);const _0x15dd92=_0x55baab(_0x25e4f2,_0x55924f);_0x25e4f2/=_0x15dd92,_0x55924f/=_0x15dd92;if(_0x55924f===0x1)return(_0x4a58bc+_0x25e4f2)[_0x32ebce(0x2e7)]();return _0x4a58bc+'\x20'+_0x25e4f2+'/'+_0x55924f;}return _0x6bf6aa;};return _0x546cd6&&_0x546cd6[_0x77accb(0x4a2)]&&_0x546cd6[_0x77accb(0x4a2)]['forEach'](_0x2bd0b3=>{const _0x50296b=_0x77accb;if(_0x2bd0b3[_0x50296b(0x672)]===_0x50296b(0x525)&&_0x2bd0b3[_0x50296b(0x9af)]){const _0x2053c8=new Map(),_0x347878=_0x2bd0b3['options'][_0x2bd0b3[_0x50296b(0x5fd)]];_0x2bd0b3[_0x50296b(0x9af)]['forEach'](_0x324e20=>{const _0x252ded=_0x50296b,_0x5364b4=_0x1b9972(_0x324e20),_0x4f79ba=_0x1e8a4c(_0x5364b4);_0x4f79ba!==null&&!_0x2053c8[_0x252ded(0x51a)](_0x4f79ba)&&_0x2053c8[_0x252ded(0x3d8)](_0x4f79ba,_0x5364b4);}),_0x2bd0b3[_0x50296b(0x9af)]=Array['from'](_0x2053c8['values']());const _0x32dd00=_0x2bd0b3['options']['findIndex'](_0x389565=>_0x389565===_0x1b9972(_0x347878));_0x2bd0b3[_0x50296b(0x5fd)]=_0x32dd00!==-0x1?_0x32dd00:0x0;}}),_0x546cd6;}function showGameStartConfirmationModal(_0x3e4eb9,_0x61f1ca,_0x595ec5){const _0x57a5f6=_0xa39756,_0x3216e9=document[_0x57a5f6(0x8fb)](_0x57a5f6(0x3b3));document[_0x57a5f6(0x8fb)](_0x57a5f6(0x9eb))[_0x57a5f6(0xa47)]='เริ่มกิจกรรม:\x20'+_0x595ec5,document[_0x57a5f6(0x8fb)](_0x57a5f6(0x8ee))[_0x57a5f6(0x3d4)]=_0x3e4eb9,document[_0x57a5f6(0x8fb)](_0x57a5f6(0x31d))[_0x57a5f6(0x3d4)]=_0x61f1ca,document['getElementById'](_0x57a5f6(0x4a6))[_0x57a5f6(0x588)]=!![];const _0x41fb74=document[_0x57a5f6(0x8fb)](_0x57a5f6(0x35b));_0x61f1ca===_0x57a5f6(0xbf5)?(_0x41fb74['classList'][_0x57a5f6(0x586)](_0x57a5f6(0xcb3)),document[_0x57a5f6(0xa01)](_0x57a5f6(0xd6d))[_0x57a5f6(0x588)]=!![]):_0x41fb74['classList']['add']('hidden'),_0x3216e9[_0x57a5f6(0xa57)][_0x57a5f6(0x586)](_0x57a5f6(0xcb3));}async function saveGameResultsAsSubmissions(_0x21de77){const _0x568c1e=_0xa39756;console[_0x568c1e(0xcf9)](_0x568c1e(0xbc9),_0x21de77);const _0x5696a8=_0x21de77[_0x568c1e(0xcbc)];let _0x37957d=[];if(_0x21de77['players'])_0x37957d=Object[_0x568c1e(0x761)](_0x21de77[_0x568c1e(0x20e)])[_0x568c1e(0x218)](([_0x5ab4d0,_0xc95e3c])=>({'name':_0x5ab4d0,..._0xc95e3c}));else{if(_0x21de77[_0x568c1e(0xa51)])Object[_0x568c1e(0x2fa)](_0x21de77[_0x568c1e(0xa51)])[_0x568c1e(0x71e)](_0x122efc=>{_0x122efc['members']['forEach'](_0x2ef689=>{const _0x147d97=_0x395e;_0x37957d[_0x147d97(0xbdd)]({'name':_0x2ef689,'score':_0x122efc[_0x147d97(0x3e4)],'answers':_0x122efc['answers']});});});else _0x21de77[_0x568c1e(0x4cc)]&&Object[_0x568c1e(0x761)](_0x21de77[_0x568c1e(0x4cc)])[_0x568c1e(0x71e)](([_0x341236,_0xc7571d])=>{_0x37957d['push']({'name':_0x341236,..._0xc7571d});});}if(_0x37957d[_0x568c1e(0x7c7)]===0x0){console['log']('No\x20player\x20data\x20to\x20save.');return;}const _0x23da64=_0x21de77[_0x568c1e(0x9d8)]?.['questions'][_0x568c1e(0x7c7)]||currentQuizData['questions'][_0x568c1e(0x7c7)],_0x4b443f=writeBatch(db);for(const _0x17fc8 of _0x37957d){const _0x13a697=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x5696a8+_0x568c1e(0x26d),_0x17fc8['name']),_0x279c13=(_0x17fc8[_0x568c1e(0xad1)]||[])[_0x568c1e(0x4da)](_0x405d7a=>_0x405d7a['isCorrect'])['length'];let _0x11d713=_0x279c13;_0x21de77[_0x568c1e(0xb61)]&&_0x17fc8[_0x568c1e(0xad1)]&&_0x17fc8[_0x568c1e(0xad1)][_0x568c1e(0x71e)](_0x5b2bdf=>{const _0x3375ef=_0x568c1e;if(_0x5b2bdf[_0x3375ef(0x671)]&&(_0x5b2bdf[_0x3375ef(0xb01)]===!![]||_0x5b2bdf[_0x3375ef(0xb01)]===_0x3375ef(0x392)))_0x11d713+=0x1;else!_0x5b2bdf[_0x3375ef(0x671)]&&(_0x5b2bdf['wasConfident']===!![]||_0x5b2bdf[_0x3375ef(0xb01)]==='confident')&&(_0x11d713-=0x1);});_0x23da64>0x0&&_0x279c13===_0x23da64&&(_0x11d713+=0x1);const _0xb20070={'score':_0x279c13,'points':_0x11d713,'badges':_0x17fc8[_0x568c1e(0x30d)]||[],'submittedAt':new Date()[_0x568c1e(0x234)](),'answers':(_0x17fc8['answers']||[])[_0x568c1e(0x218)](_0xbbb101=>({'questionId':_0xbbb101[_0x568c1e(0x417)],'answer':_0xbbb101[_0x568c1e(0x494)],'answerText':_0xbbb101['answerText'],'isCorrect':_0xbbb101[_0x568c1e(0x671)],'originalQuestionText':_0xbbb101[_0x568c1e(0x6bc)],'wasConfident':_0xbbb101[_0x568c1e(0xb01)]}))},_0x41cdc9=await getDoc(_0x13a697),_0x3eb4f6=_0x41cdc9['exists']()?_0x41cdc9['data']():{},_0x340c8c=_0x3eb4f6[_0x568c1e(0x845)]||0x0,_0x12ea97=_0x3eb4f6['attempts']||[],_0x5f4082={'studentName':_0x17fc8[_0x568c1e(0x4ee)],'totalQuestions':_0x23da64,'attempts':arrayUnion(_0xb20070),'latestScore':_0x279c13,'points':_0x11d713,'latestSubmittedAt':_0xb20070[_0x568c1e(0x532)],'bestScore':Math['max'](_0x340c8c,_0x279c13),'firstScore':_0x12ea97[_0x568c1e(0x7c7)]===0x0?_0x279c13:_0x3eb4f6[_0x568c1e(0x584)]||0x0};_0x4b443f['set'](_0x13a697,_0x5f4082,{'merge':!![]});}try{await _0x4b443f[_0x568c1e(0x9f9)](),showMessage('บันทึกผลการเล่นเกมของ\x20'+_0x37957d['length']+_0x568c1e(0x1f9));const _0x3a13ca=_0x21de77['shuffledQuiz']?.[_0x568c1e(0xa68)]||currentQuizData?.[_0x568c1e(0xa68)]||currentProjectId;if(_0x3a13ca){const _0x8c8ab0=[...new Set(_0x37957d[_0x568c1e(0x218)](_0x27afff=>_0x27afff[_0x568c1e(0x4ee)]))];for(const _0x211721 of _0x8c8ab0){await updateStudentProfile(_0x3a13ca,_0x211721);}}}catch(_0x3358d9){console['error']('Error\x20saving\x20game\x20results:',_0x3358d9),showMessage(_0x568c1e(0x595));}}async function saveQuiz(_0x273ae0=null,_0x36d165=null){const _0x76b746=_0xa39756,_0x209d44=_0x273ae0||currentProjectId;if(!_0x209d44){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x76b746(0x4a2)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x590f87=document[_0x76b746(0x8fb)](_0x76b746(0x925));_0x590f87['disabled']=!![],_0x590f87['innerHTML']=_0x76b746(0x88f);const _0x374759=document[_0x76b746(0x8fb)]('pre-test-checkbox')[_0x76b746(0x588)];let _0x3cee2f=document['getElementById'](_0x76b746(0x541))[_0x76b746(0xc7f)][_0x76b746(0x6a8)]();_0x374759&&!_0x3cee2f[_0x76b746(0x739)](_0x76b746(0x913))&&(_0x3cee2f=_0x76b746(0xb0b)+_0x3cee2f);try{const _0x3666c4={'resultsDisplay':document[_0x76b746(0x8fb)]('results-display-select')[_0x76b746(0x3d4)],'shuffle':document[_0x76b746(0x8fb)](_0x76b746(0xba5))[_0x76b746(0x3d4)],'timerMode':document[_0x76b746(0x8fb)]('timer-mode-select')['value'],'timerDuration':parseInt(document[_0x76b746(0x8fb)](_0x76b746(0xb37))[_0x76b746(0x3d4)])||0xa,'passingScore':parseInt(document[_0x76b746(0x8fb)](_0x76b746(0x57c))[_0x76b746(0x3d4)])||0x0,'isAdaptive':document[_0x76b746(0x8fb)](_0x76b746(0x3c7))[_0x76b746(0x588)],'loopUntilPass':document[_0x76b746(0x8fb)](_0x76b746(0xb81))[_0x76b746(0x588)]},_0x4d5f08=(currentQuizData[_0x76b746(0x4a2)]||[])['map']((_0x5b9467,_0x4a29a0)=>{const _0x1c7e51=_0x76b746,_0x569d59=document[_0x1c7e51(0x8fb)](_0x1c7e51(0x228))[_0x1c7e51(0x3d4)],_0x20d06e={'id':'q_'+Date[_0x1c7e51(0xcad)]()+'_'+_0x4a29a0,'questionText':_0x5b9467['questionText']||'','explanation':_0x5b9467[_0x1c7e51(0x55d)]||_0x1c7e51(0x5dc),'questionType':_0x5b9467['questionType']||_0x569d59,'imageCode':_0x5b9467[_0x1c7e51(0xd93)]||null};return(_0x20d06e[_0x1c7e51(0x672)]==='multiple_choice'||_0x20d06e[_0x1c7e51(0x672)]===_0x1c7e51(0x316)||_0x20d06e[_0x1c7e51(0x672)]===_0x1c7e51(0xae4)&&_0x5b9467['options'])&&(_0x20d06e[_0x1c7e51(0x9af)]=_0x5b9467[_0x1c7e51(0x9af)]||[],_0x20d06e[_0x1c7e51(0x5fd)]=_0x5b9467[_0x1c7e51(0x5fd)]!==undefined?_0x5b9467[_0x1c7e51(0x5fd)]:0x0),(_0x20d06e[_0x1c7e51(0x672)]===_0x1c7e51(0x880)||_0x20d06e[_0x1c7e51(0x672)]===_0x1c7e51(0xbac)||_0x20d06e[_0x1c7e51(0x672)]===_0x1c7e51(0xae4)&&_0x5b9467[_0x1c7e51(0x5c6)])&&(_0x20d06e['idealAnswer']=_0x5b9467[_0x1c7e51(0x5c6)]||''),_0x20d06e[_0x1c7e51(0x672)]==='true_false'&&(_0x20d06e['correctAnswer']=_0x5b9467['correctAnswer']===!![]),_0x20d06e['questionType']===_0x1c7e51(0xbd6)&&(_0x20d06e['stem']=_0x5b9467[_0x1c7e51(0x722)]||'',_0x20d06e[_0x1c7e51(0x8e8)]=_0x5b9467['correctResponse']||'',_0x20d06e['allResponses']=_0x5b9467[_0x1c7e51(0x23b)]||[]),_0x20d06e;}),_0x23f821={'topic':_0x3cee2f,'quizType':currentQuizData[_0x76b746(0x28e)]||_0x76b746(0x525),'questions':_0x4d5f08,'projectId':_0x209d44,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x3666c4,'quizMode':_0x374759?_0x76b746(0x839):_0x76b746(0x326),'pairedQuizId':null,'lessonPlan':null};let _0x4a9c70;while(!![]){_0x4a9c70=Math[_0x76b746(0x997)](0x3e8+Math[_0x76b746(0x35e)]()*0x2328)[_0x76b746(0x2e7)]();const _0x4b2598=await getDoc(doc(db,'artifacts/'+appId+_0x76b746(0xdb4),_0x4a9c70));if(!_0x4b2598['exists']())break;}await setDoc(doc(db,_0x76b746(0x73f)+appId+_0x76b746(0xdb4),_0x4a9c70),_0x23f821);if(_0x36d165&&currentBlueprintProjectId){console['log'](_0x76b746(0x289)+_0x4a9c70+_0x76b746(0xd5b)+_0x36d165);try{const _0x6975b4=doc(db,_0x76b746(0x73f)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x6975b4,{[_0x76b746(0x4c8)+_0x36d165+_0x76b746(0x864)]:arrayUnion(_0x4a9c70)});}catch(_0x55a5fb){console[_0x76b746(0xd73)]('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x55a5fb);}}currentQuizData[_0x76b746(0x486)]=_0x3666c4,currentQuizData['id']=_0x4a9c70;const _0x3f2f8e=document[_0x76b746(0x8fb)](_0x76b746(0xa00));_0x3f2f8e[_0x76b746(0x878)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x4a9c70+_0x76b746(0x6a4),document[_0x76b746(0x8fb)](_0x76b746(0xd06))[_0x76b746(0xb95)](_0x76b746(0x305),()=>copyTextToClipboard(_0x4a9c70,_0x76b746(0x7b9))),document[_0x76b746(0x8fb)](_0x76b746(0x242))[_0x76b746(0xb95)](_0x76b746(0x305),()=>handleStartLiveRace(_0x4a9c70)),document['getElementById'](_0x76b746(0x6b6))['addEventListener']('click',()=>startPresentation(currentQuizData)),document[_0x76b746(0x8fb)](_0x76b746(0xcf4))[_0x76b746(0xb95)](_0x76b746(0x305),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x195790){console[_0x76b746(0xd73)]('Error\x20saving\x20quiz:',_0x195790),showMessage(_0x76b746(0x58a));}finally{_0x590f87['disabled']=![],_0x590f87[_0x76b746(0x878)]=_0x76b746(0xca5);}}function promptForProjectAndSave(){const _0x4a1f2c=_0xa39756,_0x34632b=document['getElementById'](_0x4a1f2c(0x445)),_0x1124d6=document[_0x4a1f2c(0x8fb)]('move-quiz-project-select'),_0x3e3560=_0x34632b['querySelector']('h3'),_0x512168=document[_0x4a1f2c(0x8fb)](_0x4a1f2c(0x7b4));_0x3e3560[_0x4a1f2c(0xa47)]=_0x4a1f2c(0x782),_0x512168[_0x4a1f2c(0xa47)]=_0x4a1f2c(0x814);allProjects['length']===0x0?(_0x1124d6[_0x4a1f2c(0x878)]=_0x4a1f2c(0xbeb),_0x512168['disabled']=!![]):(_0x1124d6[_0x4a1f2c(0x878)]=allProjects['map'](_0x30f3f7=>_0x4a1f2c(0xbb2)+_0x30f3f7['id']+'\x22>'+_0x30f3f7[_0x4a1f2c(0x437)]+_0x4a1f2c(0x3de))[_0x4a1f2c(0xb7d)](''),_0x512168['disabled']=![]);_0x34632b['classList'][_0x4a1f2c(0x586)]('hidden');const _0x10874c=()=>{const _0x4c766b=_0x4a1f2c,_0x1a5617=_0x1124d6[_0x4c766b(0x3d4)];_0x1a5617?(currentProjectId=_0x1a5617,_0x34632b[_0x4c766b(0xa57)][_0x4c766b(0x8de)](_0x4c766b(0xcb3)),saveQuiz(),_0x3e3560['textContent']=_0x4c766b(0xa65),_0x512168['textContent']='ย้าย',_0x512168[_0x4c766b(0x223)](_0x4c766b(0x305),_0x10874c),_0x512168['addEventListener']('click',confirmMoveQuiz)):showMessage(_0x4c766b(0x894));};_0x512168['removeEventListener'](_0x4a1f2c(0x305),confirmMoveQuiz),_0x512168[_0x4a1f2c(0xb95)]('click',_0x10874c);}function copyTextToClipboard(_0x801826,_0x29fa1e){const _0xba3796=_0xa39756,_0x488fd4=document['createElement'](_0xba3796(0xb43));_0x488fd4[_0xba3796(0x3d4)]=_0x801826,_0x488fd4['style'][_0xba3796(0x6b7)]=_0xba3796(0xd6c),_0x488fd4[_0xba3796(0x4b4)]['opacity']='0',document[_0xba3796(0x587)]['appendChild'](_0x488fd4),_0x488fd4[_0xba3796(0x515)](),_0x488fd4[_0xba3796(0x36b)]();try{const _0x4e8935=document['execCommand'](_0xba3796(0xcdf));showMessage(_0x4e8935?_0x29fa1e:'คัดลอกไม่สำเร็จ');}catch(_0x24400e){showMessage(_0xba3796(0x44f)),console['error'](_0xba3796(0x4e0),_0x24400e);}document[_0xba3796(0x587)]['removeChild'](_0x488fd4);}function listenForProjectQuizzes(_0x57b31f){const _0xa82958=_0xa39756,_0x45c6d7=collection(db,_0xa82958(0x73f)+appId+'/public/data/quizzes'),_0x3299d1=query(_0x45c6d7,where(_0xa82958(0xa68),'==',_0x57b31f));unsubscribeQuizzesListener=onSnapshot(_0x3299d1,async _0x4ea487=>{const _0x338315=_0xa82958;allQuizzes=_0x4ea487[_0x338315(0x485)][_0x338315(0x218)](_0x57127d=>({'id':_0x57127d['id'],..._0x57127d[_0x338315(0x3d7)]()})),renderQuizzes();},_0x2aa2d1=>{const _0x5bcd8e=_0xa82958;console['error'](_0x5bcd8e(0x22f),_0x2aa2d1),document['getElementById'](_0x5bcd8e(0xa61))[_0x5bcd8e(0x878)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x5f2c2=_0xa39756,_0x22d7b7=document[_0x5f2c2(0x8fb)](_0x5f2c2(0xa61)),_0x43ae3f=document[_0x5f2c2(0x8fb)](_0x5f2c2(0x8a1))['value']['toLowerCase']();let _0x5abacc;currentProjectId===_0x5f2c2(0x922)?_0x5abacc=starredQuizzes:_0x5abacc=allQuizzes;let _0x7c23bd=_0x5abacc[_0x5f2c2(0x4da)](_0x56f2a5=>_0x56f2a5[_0x5f2c2(0xb19)]['toLowerCase']()['includes'](_0x43ae3f));_0x7c23bd[_0x5f2c2(0xcbf)]((_0x24aefd,_0x1e85c7)=>new Date(_0x1e85c7[_0x5f2c2(0x861)])-new Date(_0x24aefd[_0x5f2c2(0x861)]));if(_0x7c23bd[_0x5f2c2(0x7c7)]===0x0){_0x22d7b7['innerHTML']=_0x5f2c2(0x2f3);return;}const _0x5000ec={},_0x334ac3=_0x7c23bd[_0x5f2c2(0x218)](async _0x46041d=>{const _0x430a19=_0x5f2c2,_0x158d71=collection(db,_0x430a19(0x73f)+appId+_0x430a19(0x4e3)+_0x46041d['id']+_0x430a19(0x26d)),_0x22c926=await getDocs(_0x158d71);_0x5000ec[_0x46041d['id']]=_0x22c926['size'];});await Promise['all'](_0x334ac3);let _0x197f3e='';_0x7c23bd[_0x5f2c2(0x71e)](_0x206322=>{const _0x3cc447=_0x5f2c2,_0x286926=_0x5000ec[_0x206322['id']]||0x0,_0x4f3926=_0x206322[_0x3cc447(0xcce)]||_0x3cc447(0xd52),_0x2d0bfa=_0x206322['settings']?.['timerMode']||_0x3cc447(0x6dd);let _0x3e3722='',_0x4e20e8='';const _0x3ae23f=new Date();let _0x5a40c5=_0x4f3926;if(_0x4f3926===_0x3cc447(0xc04)){const _0x5eeda3=_0x206322['startTime']?new Date(_0x206322[_0x3cc447(0x9e3)]):null,_0xb217ec=_0x206322['endTime']?new Date(_0x206322[_0x3cc447(0x6e9)]):null;if(_0xb217ec&&_0x3ae23f>_0xb217ec)_0x5a40c5=_0x3cc447(0x8d0);else _0x5eeda3&&_0x3ae23f<_0x5eeda3?_0x5a40c5=_0x3cc447(0x448):_0x5a40c5='active';}switch(_0x5a40c5){case _0x3cc447(0x8d0):_0x3e3722=_0x3cc447(0xd24),_0x4e20e8=_0x3cc447(0x48e);break;case _0x3cc447(0x448):_0x3e3722='รอเปิด',_0x4e20e8=_0x3cc447(0x81e);break;case _0x3cc447(0xd52):_0x3e3722=_0x2d0bfa!=='none'?_0x3cc447(0xc68):_0x3cc447(0xc0e),_0x4e20e8=_0x3cc447(0x705);break;default:_0x3e3722=_0x3cc447(0x9e0),_0x4e20e8=_0x3cc447(0x705);break;}let _0x2309c1='';const _0x25a56e={'day':_0x3cc447(0xbe4),'month':_0x3cc447(0xbe4),'year':'numeric','hour':_0x3cc447(0xbe4),'minute':_0x3cc447(0xbe4),'hour12':![]};if(_0x4f3926==='scheduled'){if(_0x206322[_0x3cc447(0x9e3)])_0x2309c1+=_0x3cc447(0x9ce)+new Date(_0x206322[_0x3cc447(0x9e3)])['toLocaleString']('th-TH',_0x25a56e)+'</p>';if(_0x206322[_0x3cc447(0x6e9)])_0x2309c1+=_0x3cc447(0x22b)+new Date(_0x206322[_0x3cc447(0x6e9)])[_0x3cc447(0x6b5)](_0x3cc447(0xabb),_0x25a56e)+'</p>';}let _0x411558='';if(_0x206322[_0x3cc447(0x5cc)]){const _0x516b86=allQuizzes[_0x3cc447(0xaf7)](_0x42a63f=>_0x42a63f['id']===_0x206322['pairedQuizId']);if(_0x516b86){let _0x27e77b,_0x4341d6;new Date(_0x206322['createdAt'])<new Date(_0x516b86[_0x3cc447(0x861)])?(_0x27e77b=_0x206322['id'],_0x4341d6=_0x516b86['id']):(_0x27e77b=_0x516b86['id'],_0x4341d6=_0x206322['id']),_0x411558+=_0x3cc447(0x42a)+_0x4341d6+_0x3cc447(0x388)+_0x27e77b+_0x3cc447(0x58c);}}else _0x206322[_0x3cc447(0xd9e)]===_0x3cc447(0x839)&&(_0x411558+=_0x3cc447(0x5b3)+_0x206322['id']+_0x3cc447(0x8aa));if(_0x206322[_0x3cc447(0xd9e)]===_0x3cc447(0x839)&&_0x286926>0x0)_0x411558+=_0x3cc447(0x5b3)+_0x206322['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x206322['pairedQuizId']&&_0x206322[_0x3cc447(0xd9e)]!=='pre-test'&&_0x286926>0x0&&(_0x411558+=_0x3cc447(0x5b3)+_0x206322['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x5e1ce0='';_0x206322[_0x3cc447(0x5cc)]?_0x5e1ce0=_0x3cc447(0x258)+_0x206322['id']+_0x3cc447(0xba0):_0x5e1ce0=_0x3cc447(0x258)+_0x206322['id']+_0x3cc447(0x790),_0x197f3e+=_0x3cc447(0xdb9)+_0x206322['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x206322['topic']+_0x3cc447(0x5b1)+_0x206322[_0x3cc447(0x4a2)][_0x3cc447(0x7c7)]+_0x3cc447(0x4d2)+new Date(_0x206322[_0x3cc447(0x861)])[_0x3cc447(0x6b5)](_0x3cc447(0xabb))+_0x3cc447(0x75b)+_0x286926+_0x3cc447(0x831)+_0x2309c1+_0x3cc447(0x99d)+_0x4e20e8+'\x22>'+_0x3e3722+_0x3cc447(0x4ba)+_0x206322['id']+_0x3cc447(0x322)+_0x206322['id']+_0x3cc447(0x293)+(_0x206322[_0x3cc447(0x358)]?_0x3cc447(0xbd9):_0x3cc447(0x860))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x411558+_0x3cc447(0xd46)+_0x206322['id']+_0x3cc447(0x397)+_0x206322['id']+_0x3cc447(0x768)+_0x206322['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x206322['id']+_0x3cc447(0xafd)+_0x206322['id']+_0x3cc447(0x246)+_0x206322['id']+_0x3cc447(0xc78)+_0x206322['id']+_0x3cc447(0xb06)+_0x206322[_0x3cc447(0xb19)]+_0x3cc447(0xd50)+_0x206322['id']+_0x3cc447(0x354)+_0x206322['id']+_0x3cc447(0x74a)+_0x5e1ce0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x206322['id']+_0x3cc447(0x976)+_0x206322['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x206322['id']+_0x3cc447(0xaaf)+_0x206322['id']+_0x3cc447(0x269)+_0x206322['id']+_0x3cc447(0xc21)+_0x206322['id']+_0x3cc447(0x3a0)+_0x206322['id']+_0x3cc447(0xa92)+_0x206322['id']+_0x3cc447(0xb06)+_0x206322[_0x3cc447(0xb19)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x206322['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x22d7b7[_0x5f2c2(0x878)]=_0x197f3e,document['querySelectorAll'](_0x5f2c2(0x408))[_0x5f2c2(0x71e)](_0x366c6e=>{const _0x139744=_0x5f2c2;_0x366c6e[_0x139744(0xb95)](_0x139744(0x305),()=>{const _0x489fbb=_0x139744,_0x367bfd=_0x366c6e[_0x489fbb(0x87f)][_0x489fbb(0xcbc)];showQuizDetailView(_0x367bfd);});});}async function handleUnpairQuiz(_0x11a14c){const _0x302263=_0xa39756,_0x4888dd=allQuizzes['find'](_0x52d5a1=>_0x52d5a1['id']===_0x11a14c);if(!_0x4888dd||!_0x4888dd[_0x302263(0x5cc)]){showMessage(_0x302263(0xca4));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x2c18ac=_0x302263;try{const _0x3d1761=doc(db,_0x2c18ac(0x73f)+appId+_0x2c18ac(0xdb4),_0x11a14c),_0x1ccd74=doc(db,_0x2c18ac(0x73f)+appId+_0x2c18ac(0xdb4),_0x4888dd['pairedQuizId']),_0x54d7ed=writeBatch(db);_0x54d7ed[_0x2c18ac(0x40d)](_0x3d1761,{'pairedQuizId':null}),_0x54d7ed[_0x2c18ac(0x40d)](_0x1ccd74,{'pairedQuizId':null}),await _0x54d7ed[_0x2c18ac(0x9f9)](),showMessage(_0x2c18ac(0x3b1));}catch(_0x885830){console['error'](_0x2c18ac(0x940),_0x885830),showMessage(_0x2c18ac(0xd37));}});}function formatAndPrintLessonPlan(_0x365625,_0x277b6c){const _0x1377ce=_0xa39756,_0x1b3b92=window[_0x1377ce(0x253)]('','_blank'),_0x288820=_0x1377ce(0x64f)+_0x277b6c[_0x1377ce(0xb19)]+_0x1377ce(0xc44)+_0x277b6c['topic']+_0x1377ce(0x39c)+_0x365625['learningGaps'][_0x1377ce(0x218)](_0x3dd1db=>_0x1377ce(0xa1a)+_0x3dd1db+_0x1377ce(0xd51))['join']('')+_0x1377ce(0xc42)+_0x365625[_0x1377ce(0x395)]+_0x1377ce(0x556)+_0x365625[_0x1377ce(0xd02)]['map'](_0x5b62e9=>_0x1377ce(0x240)+_0x5b62e9['question']+_0x1377ce(0x27d)+_0x5b62e9[_0x1377ce(0xb34)]+_0x1377ce(0xd01))[_0x1377ce(0xb7d)]('')+_0x1377ce(0x786);_0x1b3b92[_0x1377ce(0xd49)][_0x1377ce(0x853)](_0x288820),_0x1b3b92[_0x1377ce(0xd49)][_0x1377ce(0x6b4)](),_0x1b3b92['onload']=function(){setTimeout(()=>{const _0x44da43=_0x395e;_0x1b3b92[_0x44da43(0x235)]();},0x3e8);};}async function handleAiFixFormula(_0x36ab1f){const _0x3a1ced=_0xa39756,_0x26a1ab=document[_0x3a1ced(0xa01)](_0x3a1ced(0x67f)+_0x36ab1f+'\x22]');if(!_0x26a1ab)return;const _0x48c279=_0x26a1ab[_0x3a1ced(0x87f)][_0x3a1ced(0x903)],_0x54a1b2=_0x26a1ab['querySelector']('.ai-fix-formula-btn');let _0x369a70={'question':_0x26a1ab[_0x3a1ced(0xa01)](_0x3a1ced(0xb43))[_0x3a1ced(0x3d4)]};switch(_0x48c279){case _0x3a1ced(0x525):_0x369a70['options']=Array[_0x3a1ced(0x275)](_0x26a1ab[_0x3a1ced(0x6aa)]('input[type=\x22text\x22]'))[_0x3a1ced(0x218)](_0x3bd3ac=>_0x3bd3ac[_0x3a1ced(0x3d4)]);break;case _0x3a1ced(0x880):_0x369a70[_0x3a1ced(0x5c6)]=_0x26a1ab['querySelector']('.ideal-answer-input')[_0x3a1ced(0x3d4)];break;case _0x3a1ced(0xbd6):_0x369a70['correctResponse']=_0x26a1ab[_0x3a1ced(0xa01)](_0x3a1ced(0x390))[_0x3a1ced(0x3d4)];break;}_0x54a1b2['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x54a1b2[_0x3a1ced(0xc96)]=!![];try{const _0x3fde3f=_0x3a1ced(0x8e1)+JSON[_0x3a1ced(0x8ff)](_0x369a70)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x9ff9f5={'type':_0x3a1ced(0x444),'properties':{'fixedData':{'type':_0x3a1ced(0x444),'properties':{'question':{'type':_0x3a1ced(0x4d7)},'options':{'type':_0x3a1ced(0x2d8),'items':{'type':_0x3a1ced(0x4d7)}},'idealAnswer':{'type':_0x3a1ced(0x4d7)},'correctResponse':{'type':_0x3a1ced(0x4d7)}},'required':['question']}},'required':[_0x3a1ced(0xdd3)]},_0x536a7f=await callAnalysisApi(_0x3fde3f,_0x9ff9f5);if(_0x536a7f&&_0x536a7f[_0x3a1ced(0xdd3)]){const _0x2c476d=_0x536a7f['fixedData'];_0x26a1ab[_0x3a1ced(0xa01)](_0x3a1ced(0xb43))['value']=_0x2c476d[_0x3a1ced(0x84c)]||_0x369a70[_0x3a1ced(0x84c)];switch(_0x48c279){case'multiple_choice':_0x2c476d[_0x3a1ced(0x9af)]&&_0x2c476d[_0x3a1ced(0x9af)][_0x3a1ced(0x7c7)]>0x0&&_0x26a1ab[_0x3a1ced(0x6aa)](_0x3a1ced(0x869))[_0x3a1ced(0x71e)]((_0x5a7eb6,_0x4fe408)=>{const _0x1973ea=_0x3a1ced;_0x5a7eb6[_0x1973ea(0x3d4)]=_0x2c476d[_0x1973ea(0x9af)][_0x4fe408]||_0x369a70[_0x1973ea(0x9af)][_0x4fe408];});break;case _0x3a1ced(0x880):_0x26a1ab[_0x3a1ced(0xa01)]('.ideal-answer-input')[_0x3a1ced(0x3d4)]=_0x2c476d[_0x3a1ced(0x5c6)]||_0x369a70[_0x3a1ced(0x5c6)];break;case'matching_item':_0x26a1ab[_0x3a1ced(0xa01)]('.correct-response-input')['value']=_0x2c476d[_0x3a1ced(0x8e8)]||_0x369a70[_0x3a1ced(0x8e8)];break;}if(_0x369a70[_0x3a1ced(0x84c)]!==_0x2c476d[_0x3a1ced(0x84c)])try{const _0x3cf71e=collection(db,_0x3a1ced(0x73f)+appId+_0x3a1ced(0x8d5));await addDoc(_0x3cf71e,{'broken':_0x369a70[_0x3a1ced(0x84c)],'fixed':_0x2c476d['question'],'createdAt':serverTimestamp()});}catch(_0x3aed85){console['error']('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x3aed85);}showMessage('AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว');}else throw new Error(_0x3a1ced(0x7cb));}catch(_0x2d4e9d){console[_0x3a1ced(0xd73)]('AI\x20Formula\x20Fix\x20Error:',_0x2d4e9d),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x54a1b2[_0x3a1ced(0x878)]=_0x3a1ced(0x969),_0x54a1b2[_0x3a1ced(0xc96)]=![];}}async function handleGenerateLessonPlan(_0x5150a7){const _0x65f2dc=_0xa39756;showMessage(_0x65f2dc(0x71f));try{const _0x509b3=doc(db,'artifacts/'+appId+_0x65f2dc(0xdb4),_0x5150a7),_0x58a9ed=await getDoc(_0x509b3);if(!_0x58a9ed[_0x65f2dc(0x86f)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0xa0d4ec={'id':_0x5150a7,..._0x58a9ed['data']()},_0x12b933=collection(db,_0x65f2dc(0x73f)+appId+_0x65f2dc(0xdb4),_0x5150a7,_0x65f2dc(0x5b9)),_0x328436=await getDocs(_0x12b933),_0x5d00e1=_0x328436[_0x65f2dc(0x485)][_0x65f2dc(0x218)](_0x3288f7=>_0x3288f7[_0x65f2dc(0x3d7)]());if(_0x5d00e1['length']===0x0)throw new Error(_0x65f2dc(0x5e8));const _0x3769f3=calculateItemAnalysis(_0xa0d4ec,_0x5d00e1)[_0x65f2dc(0x1fb)],_0xed1bd=calculateDistractorAnalysis(_0xa0d4ec,_0x5d00e1),_0x1f1ae6=_0x5694b8=>{const _0x1662a3=_0x65f2dc;if(!_0x5694b8)return'';return _0x5694b8[_0x1662a3(0x50a)](/\\/g,'\x5c\x5c')[_0x1662a3(0x50a)](/"/g,'\x5c\x22')[_0x1662a3(0x50a)](/\n/g,'\x5cn');};let _0x43aefe='สรุปผลการวิเคราะห์:\x5cn';_0xa0d4ec['questions'][_0x65f2dc(0x71e)]((_0x4ed2ac,_0x50369d)=>{const _0x1232a4=_0x65f2dc,_0x4a8ae0=_0x3769f3[_0x50369d]?.['p']['toFixed'](0x2)||_0x1232a4(0xa5b),_0xe8e52a=_0x3769f3[_0x50369d]?.['r'][_0x1232a4(0xb98)](0x2)||_0x1232a4(0xa5b),_0x318d58=_0x1f1ae6(_0x4ed2ac[_0x1232a4(0xcd1)]||_0x4ed2ac[_0x1232a4(0x722)]);_0x43aefe+=_0x1232a4(0x59d)+(_0x50369d+0x1)+_0x1232a4(0x364)+_0x4a8ae0+_0x1232a4(0x75f)+_0xe8e52a+_0x1232a4(0xa17)+_0x318d58+'\x5cn';if(_0x4ed2ac[_0x1232a4(0x672)]===_0x1232a4(0x525)&&_0xed1bd[_0x50369d]){const _0x52de58=_0xed1bd[_0x50369d],_0x4c705d=Object[_0x1232a4(0x65c)](_0x52de58)[_0x1232a4(0x4da)](_0x45b03c=>parseInt(_0x45b03c)!==_0x4ed2ac[_0x1232a4(0x5fd)])[_0x1232a4(0xcbf)]((_0x1d6f40,_0x569838)=>_0x52de58[_0x569838][_0x1232a4(0x989)]-_0x52de58[_0x1d6f40]['total'])[0x0];if(_0x4c705d&&_0x52de58[_0x4c705d][_0x1232a4(0x989)]>0x0){const _0x3710b4=_0x1f1ae6(_0x52de58[_0x4c705d][_0x1232a4(0x54d)]);_0x43aefe+=_0x1232a4(0x9f7)+_0x3710b4+_0x1232a4(0x9d0);}}});const _0x2020e6=_0x65f2dc(0x4ca)+_0xa0d4ec[_0x65f2dc(0xb19)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43aefe+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x468970={'type':_0x65f2dc(0x444),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x65f2dc(0x4d7)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'question':{'type':_0x65f2dc(0x4d7)},'solution':{'type':'STRING'}}}}},'required':[_0x65f2dc(0xa7b),_0x65f2dc(0x395),_0x65f2dc(0xd02)]},_0x23687f=await callAnalysisApi(_0x2020e6,_0x468970);await updateDoc(_0x509b3,{'lessonPlan':_0x23687f});const _0x3c0a16=_0x65f2dc(0x244)+_0xa0d4ec[_0x65f2dc(0xb19)]+_0x65f2dc(0xc80)+_0x23687f[_0x65f2dc(0xa7b)]['map'](_0x2e0c9d=>_0x65f2dc(0xa1a)+_0x2e0c9d+'</li>')[_0x65f2dc(0xb7d)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x23687f[_0x65f2dc(0x395)]+_0x65f2dc(0x81f)+_0x23687f[_0x65f2dc(0xd02)][_0x65f2dc(0x218)](_0x3ee46c=>_0x65f2dc(0xb0d)+_0x3ee46c['question']+_0x65f2dc(0x562)+_0x3ee46c[_0x65f2dc(0xb34)]+_0x65f2dc(0x951))['join']('')+_0x65f2dc(0x5a0);document[_0x65f2dc(0x8fb)]('lesson-plan-title')[_0x65f2dc(0xa47)]=_0x65f2dc(0xd1c)+_0xa0d4ec[_0x65f2dc(0xb19)],document[_0x65f2dc(0x8fb)](_0x65f2dc(0x8a5))[_0x65f2dc(0x878)]=_0x3c0a16,document['getElementById'](_0x65f2dc(0x7c4))[_0x65f2dc(0xa57)][_0x65f2dc(0x586)]('hidden');if(window[_0x65f2dc(0xb54)])MathJax['typesetPromise']();messageModal['classList'][_0x65f2dc(0x8de)](_0x65f2dc(0xcb3));}catch(_0x353c30){console[_0x65f2dc(0xd73)](_0x65f2dc(0xbc0),_0x353c30),showMessage('เกิดข้อผิดพลาด:\x20'+_0x353c30[_0x65f2dc(0x5b7)]);}}async function handleDuplicateQuiz(_0x4bd54f){const _0x353c6e=_0xa39756;try{const _0x2bbd80=doc(db,'artifacts/'+appId+_0x353c6e(0xdb4),_0x4bd54f),_0x43ad71=await getDoc(_0x2bbd80);if(_0x43ad71[_0x353c6e(0x86f)]()){const _0x8cc6fc=_0x43ad71['data']();let _0xa8f0fe='',_0x4694ee=_0x353c6e(0x326),_0x5deca8=null;if(_0x8cc6fc[_0x353c6e(0xd9e)]===_0x353c6e(0x839)){let _0x51c9ee=_0x8cc6fc[_0x353c6e(0xb19)][_0x353c6e(0x50a)](_0x353c6e(0x913),'')[_0x353c6e(0x6a8)]();_0xa8f0fe='(หลังเรียน)\x20'+_0x51c9ee,_0x4694ee=_0x353c6e(0x6a3),_0x5deca8=_0x4bd54f;}else _0xa8f0fe=_0x353c6e(0xa74)+_0x8cc6fc[_0x353c6e(0xb19)];const _0x5d2ceb={..._0x8cc6fc,'topic':_0xa8f0fe,'createdAt':new Date()['toISOString'](),'quizMode':_0x4694ee,'pairedQuizId':_0x5deca8};let _0x34ef57;while(!![]){_0x34ef57=Math[_0x353c6e(0x997)](0x3e8+Math[_0x353c6e(0x35e)]()*0x2328)['toString']();const _0x56ae2a=await getDoc(doc(db,_0x353c6e(0x73f)+appId+'/public/data/quizzes',_0x34ef57));if(!_0x56ae2a['exists']())break;}const _0x48616e=doc(db,_0x353c6e(0x73f)+appId+_0x353c6e(0xdb4),_0x34ef57);await setDoc(_0x48616e,_0x5d2ceb),_0x5d2ceb[_0x353c6e(0xd9e)]==='post-test'&&await updateDoc(_0x2bbd80,{'pairedQuizId':_0x34ef57}),showMessage(_0x353c6e(0x29b));}else throw new Error(_0x353c6e(0x800));}catch(_0x318c83){console['error'](_0x353c6e(0xbb1),_0x318c83),showMessage(_0x353c6e(0xc71));}}async function handleDeleteQuiz(_0x1466b3,_0x321f2d=!![]){const _0x1ed3f5=_0xa39756;try{const _0x26e851=writeBatch(db),_0xd3b308=collection(db,_0x1ed3f5(0x73f)+appId+_0x1ed3f5(0x4e3)+_0x1466b3+_0x1ed3f5(0x26d)),_0x4e4586=await getDocs(_0xd3b308);_0x4e4586[_0x1ed3f5(0x71e)](_0x14851f=>{const _0x2a363d=_0x1ed3f5;_0x26e851[_0x2a363d(0x4e4)](doc(_0xd3b308,_0x14851f['id']));});const _0xbc34bf=doc(db,_0x1ed3f5(0x73f)+appId+'/public/data/quizzes',_0x1466b3);_0x26e851[_0x1ed3f5(0x4e4)](_0xbc34bf),await _0x26e851[_0x1ed3f5(0x9f9)]();try{console[_0x1ed3f5(0xcf9)](_0x1ed3f5(0x2dc)+_0x1466b3+_0x1ed3f5(0x463));const _0x3e419f=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects'),_0x13da65=await getDocs(_0x3e419f),_0x2ccb02=[];_0x13da65[_0x1ed3f5(0x71e)](_0x75bde1=>{const _0x457354=_0x1ed3f5,_0x34b111=_0x75bde1[_0x457354(0x3d7)](),_0x55fcfe=_0x34b111[_0x457354(0x5ff)]||{};let _0x4c2e3d=![];for(const _0x312fda in _0x55fcfe){const _0x2daacb=_0x55fcfe[_0x312fda];if(_0x2daacb[_0x457354(0xa43)]&&_0x2daacb['linkedQuizIds']['includes'](_0x1466b3)){_0x4c2e3d=!![];const _0x20c3e7=doc(db,'artifacts/'+appId+_0x457354(0xba2),_0x75bde1['id']),_0xa80660=updateDoc(_0x20c3e7,{['topics.'+_0x312fda+_0x457354(0x864)]:arrayRemove(_0x1466b3)});_0x2ccb02[_0x457354(0xbdd)](_0xa80660);}}}),_0x2ccb02[_0x1ed3f5(0x7c7)]>0x0&&(await Promise['all'](_0x2ccb02),console[_0x1ed3f5(0xcf9)](_0x1ed3f5(0x6e5)+_0x2ccb02[_0x1ed3f5(0x7c7)]+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x1466b3+'.'));}catch(_0x42ce38){console[_0x1ed3f5(0xd73)]('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x42ce38);}_0x321f2d&&showMessage(_0x1ed3f5(0xde2));}catch(_0x384613){console[_0x1ed3f5(0xd73)](_0x1ed3f5(0x225),_0x384613),_0x321f2d&&showMessage(_0x1ed3f5(0xd2a));}}async function showQuizDetailView(_0x203687){const _0x1d9466=_0xa39756;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x54e741=doc(db,'artifacts/'+appId+_0x1d9466(0xdb4),_0x203687),_0x10e363=await getDoc(_0x54e741);if(!_0x10e363['exists']()){showMessage(_0x1d9466(0xd04));return;}const _0x2af348={'id':_0x10e363['id'],..._0x10e363[_0x1d9466(0x3d7)]()};currentQuizData=_0x2af348;const _0x4a7ebd=doc(db,_0x1d9466(0x73f)+appId+'/public/data/projects',_0x2af348[_0x1d9466(0xa68)]),_0x77b148=await getDoc(_0x4a7ebd);_0x77b148['exists']()?(currentProjectData=_0x77b148[_0x1d9466(0x3d7)](),currentProjectId=_0x2af348['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x2af348['projectId']);document['getElementById'](_0x1d9466(0x5a9))[_0x1d9466(0xa47)]=_0x2af348[_0x1d9466(0xb19)],document[_0x1d9466(0x8fb)](_0x1d9466(0x3c1))['textContent']=_0x203687;const _0x166586=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x203687,_0x1d9466(0x5b9));unsubscribeSubmissionsListener=onSnapshot(_0x166586,_0x144cad=>{const _0x43934b=_0x1d9466,_0x4161e9=_0x144cad['docs'][_0x43934b(0x218)](_0x95baa6=>({'id':_0x95baa6['id'],..._0x95baa6[_0x43934b(0x3d7)]()}));currentSubmissions=_0x4161e9;const _0x5ca5fb=_0x4161e9[_0x43934b(0x4da)](_0xf713e8=>_0xf713e8[_0x43934b(0xd6b)]&&_0xf713e8[_0x43934b(0xd6b)][_0x43934b(0x7c7)]>0x0);renderBehaviorLog(_0x4161e9),renderAnswerGrid(currentProjectData[_0x43934b(0xcc6)],_0x5ca5fb,_0x2af348),renderAnalytics(_0x2af348,_0x5ca5fb),renderQuizResultsTable(currentProjectData[_0x43934b(0xcc6)],_0x4161e9,_0x2af348),renderQuizLeaderboard(_0x5ca5fb,_0x2af348,_0x43934b(0x511));}),showView(_0x1d9466(0x599));}catch(_0x2c690b){console['error']('Error\x20showing\x20quiz\x20detail\x20view:',_0x2c690b),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0xf2bff2,_0x25fa2b,_0x247adc){const _0x659537=_0xa39756,_0x2e1b6c=document[_0x659537(0x8fb)](_0x659537(0xdb0));if(!_0x2e1b6c)return;if(!_0xf2bff2||_0xf2bff2[_0x659537(0x7c7)]===0x0){_0x2e1b6c[_0x659537(0x878)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x491b0e=_0x247adc['questions'],_0x5c7565=_0x25fa2b['reduce']((_0x33a24e,_0x482db8)=>{const _0x2edb9e=_0x659537;return _0x33a24e[_0x482db8[_0x2edb9e(0x1f5)]]=_0x482db8,_0x33a24e;},{}),_0x832a86=_0x247661=>String['fromCharCode'](0x41+_0x247661),_0x2f516b=_0x570187=>{const _0x5dee7e=_0x659537,_0x1a1223=_0x570187[_0x5dee7e(0x672)]||_0x247adc[_0x5dee7e(0x28e)];switch(_0x1a1223){case _0x5dee7e(0x525):return _0x570187['options']&&_0x570187[_0x5dee7e(0x9af)][_0x5dee7e(0x7c7)]>_0x570187[_0x5dee7e(0x5fd)]?_0x832a86(_0x570187[_0x5dee7e(0x5fd)]):'-';case _0x5dee7e(0xc4d):const _0x26b30a=_0x570187['correctAnswer']===!![]||String(_0x570187['correctAnswer'])[_0x5dee7e(0xb4d)]()==='true';return _0x26b30a?_0x5dee7e(0x943):_0x5dee7e(0xc52);case _0x5dee7e(0xbd6):return _0x570187[_0x5dee7e(0x8e8)]||'-';case _0x5dee7e(0x880):return _0x5dee7e(0x63f);default:return'-';}},_0xf60444=(_0x4d3195,_0x58dcff)=>{const _0x535e34=_0x659537;if(_0x58dcff['answer']===null||_0x58dcff[_0x535e34(0x494)]===undefined)return'-';const _0x43a621=_0x4d3195[_0x535e34(0x672)]||_0x247adc['quizType'];switch(_0x43a621){case _0x535e34(0x525):const _0x4614c5=_0x4d3195[_0x535e34(0x9af)][_0x535e34(0xd7e)](_0x159640=>_0x159640===_0x58dcff[_0x535e34(0x439)]);return _0x4614c5!==-0x1?_0x832a86(_0x4614c5):_0x58dcff[_0x535e34(0x439)]||'-';case _0x535e34(0xc4d):if(_0x58dcff[_0x535e34(0x494)]=='0'||_0x58dcff[_0x535e34(0x494)]===!![]||_0x58dcff[_0x535e34(0x494)]===_0x535e34(0x9b7))return _0x535e34(0x943);return'ไม่ใช่';default:return _0x58dcff['answer'];}};let _0x5d8c6d=_0x659537(0x923)+_0x491b0e[_0x659537(0x218)]((_0x5f4a91,_0x3fb943)=>_0x659537(0x701)+(_0x3fb943+0x1)+_0x659537(0x213))[_0x659537(0xb7d)]('')+_0x659537(0xcfb)+_0x491b0e[_0x659537(0x218)](_0x3fecb6=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x2f516b(_0x3fecb6)+'</td>')[_0x659537(0xb7d)]('')+_0x659537(0xd89);_0xf2bff2['forEach'](_0x5a0158=>{const _0x39d79a=_0x659537;_0x5d8c6d+=_0x39d79a(0x353),_0x5d8c6d+=_0x39d79a(0xc22)+_0x5a0158+_0x39d79a(0xa98);const _0x50fddc=_0x5c7565[_0x5a0158];if(_0x50fddc){const _0x52d00c=_0x50fddc[_0x39d79a(0xd6b)][_0x50fddc[_0x39d79a(0xd6b)][_0x39d79a(0x7c7)]-0x1];_0x491b0e[_0x39d79a(0x71e)]((_0x4b63c0,_0xba9bac)=>{const _0xc56773=_0x39d79a,_0x320ab5=_0x52d00c['answers'][_0xc56773(0xaf7)](_0x4d7630=>_0x4d7630[_0xc56773(0x417)]===_0x4b63c0['id']);if(_0x320ab5){let _0x3c8d67='';const _0x3a5037=_0x320ab5['isCorrect']===!![],_0x6d2bd4=_0x320ab5[_0xc56773(0xb01)]===!![]||_0x320ab5[_0xc56773(0xb01)]==='confident';_0x6d2bd4?_0x3c8d67=_0x3a5037?_0xc56773(0x691):_0xc56773(0xd43):_0x3c8d67=_0x3a5037?_0xc56773(0x877):'bg-red-100',_0x5d8c6d+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x3c8d67+'\x22>'+_0xf60444(_0x4b63c0,_0x320ab5)+'</td>';}else _0x5d8c6d+=_0xc56773(0x209);});}else _0x5d8c6d+=_0x491b0e['map'](()=>_0x39d79a(0xa49))[_0x39d79a(0xb7d)]('');_0x5d8c6d+='</tr>';}),_0x5d8c6d+=_0x659537(0xb36),_0x2e1b6c[_0x659537(0x878)]=_0x5d8c6d;}function renderQuizResultsTable(_0x42df9c,_0x591781,_0x3b1193){const _0x431ef9=_0xa39756,_0x126930=_0x591781[_0x431ef9(0x8a8)]((_0x45c07f,_0x22269f)=>{const _0x450c2f=_0x431ef9;return _0x45c07f[_0x22269f[_0x450c2f(0x1f5)]]=_0x22269f,_0x45c07f;},{}),_0x23d3f6=document[_0x431ef9(0xa01)](_0x431ef9(0x50c));_0x23d3f6&&!_0x23d3f6['innerHTML'][_0x431ef9(0x44e)](_0x431ef9(0x3e5))&&(_0x23d3f6[_0x431ef9(0x878)]+=_0x431ef9(0x99c));const _0x255793=document[_0x431ef9(0x8fb)](_0x431ef9(0x40e));if(!_0x42df9c||_0x42df9c['length']===0x0){_0x255793[_0x431ef9(0x878)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x5dbd7c=_0x3b1193['isRemedial']===!![],_0x51eacb=_0x3b1193[_0x431ef9(0x486)]?.[_0x431ef9(0x3df)]??-0x1;let _0x2e2ed7='';_0x42df9c[_0x431ef9(0x71e)](_0x49e749=>{const _0x148ef7=_0x431ef9,_0x20c33d=_0x126930[_0x49e749];let _0x4583c8='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x5dbd7c?_0x148ef7(0x559):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x5dbd7c?_0x148ef7(0xa14):_0x148ef7(0x927))+_0x148ef7(0x40b);if(_0x20c33d){if(_0x20c33d[_0x148ef7(0xd6b)]&&_0x20c33d[_0x148ef7(0xd6b)][_0x148ef7(0x7c7)]>0x0){let _0x2b5d30=_0x5dbd7c?_0x20c33d[_0x148ef7(0x845)]===_0x20c33d[_0x148ef7(0x57e)]:_0x51eacb!==-0x1&&_0x20c33d[_0x148ef7(0x845)]>=_0x51eacb;const _0x370f52=_0x2b5d30?_0x148ef7(0x6cd):'bg-red-100\x20text-red-800',_0x344409=_0x2b5d30?'ผ่าน':_0x148ef7(0x99f),_0x42b2fe='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x370f52+'\x22>'+_0x344409+_0x148ef7(0x40b),_0x5b164d=_0x148ef7(0x533)+(_0x20c33d[_0x148ef7(0xd6b)]?.['length']||0x1)+_0x148ef7(0x265);_0x2e2ed7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x49e749+_0x148ef7(0x984)+_0x20c33d[_0x148ef7(0x845)]+_0x148ef7(0x48d)+_0x20c33d[_0x148ef7(0x57e)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x42b2fe+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4583c8+_0x148ef7(0xbe1)+_0x20c33d[_0x148ef7(0x584)]+_0x148ef7(0x48d)+_0x20c33d[_0x148ef7(0x57e)]+_0x148ef7(0x9bc)+_0x20c33d['latestScore']+_0x148ef7(0x48d)+_0x20c33d[_0x148ef7(0x57e)]+_0x148ef7(0xd05)+(_0x20c33d['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5b164d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x20c33d['latestSubmittedAt'])['toLocaleString']('th-TH')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x49e749+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x1e824e=_0x148ef7(0x518);_0x2e2ed7+=_0x148ef7(0x991)+_0x49e749+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4583c8+_0x148ef7(0x640)+_0x1e824e+_0x148ef7(0x85d)+new Date(_0x20c33d[_0x148ef7(0x763)])[_0x148ef7(0x6b5)](_0x148ef7(0xabb))+_0x148ef7(0x4ce)+_0x49e749+_0x148ef7(0x890);}}else{const _0x232bcf='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x2e2ed7+=_0x148ef7(0xc13)+_0x49e749+_0x148ef7(0xaa1)+_0x4583c8+_0x148ef7(0xc35)+_0x232bcf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x255793['innerHTML']=_0x2e2ed7;}async function confirmRenameQuiz(){const _0xa235c9=_0xa39756,_0x5e945d=document[_0xa235c9(0x8fb)](_0xa235c9(0xaca))[_0xa235c9(0x3d4)][_0xa235c9(0x6a8)]();if(!_0x5e945d){showMessage(_0xa235c9(0x6ae));return;}if(!actionTargetId)return;const _0x1c34be=doc(db,'artifacts/'+appId+_0xa235c9(0xdb4),actionTargetId);try{await updateDoc(_0x1c34be,{'topic':_0x5e945d}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0xa235c9(0xa57)]['add'](_0xa235c9(0xcb3)),actionTargetId=null;}catch(_0x1d7104){console['error'](_0xa235c9(0x605),_0x1d7104),showMessage(_0xa235c9(0x431));}}async function handleMoveQuiz(_0x278bcf){const _0x527911=_0xa39756;actionTargetId=_0x278bcf;const _0x7e52ac=document[_0x527911(0x8fb)](_0x527911(0xb2f));_0x7e52ac[_0x527911(0x878)]=_0x527911(0xa27),moveQuizModal[_0x527911(0xa57)]['remove'](_0x527911(0xcb3));try{const _0x41331c=collection(db,_0x527911(0x73f)+appId+'/public/data/projects'),_0x38b0b9=await getDocs(_0x41331c),_0x5c0e8e=_0x38b0b9['docs']['map'](_0x11bc90=>({'id':_0x11bc90['id'],..._0x11bc90['data']()})),_0x2a4809=_0x5c0e8e[_0x527911(0x4da)](_0x17e5ed=>_0x17e5ed['id']!==currentProjectId);if(_0x2a4809[_0x527911(0x7c7)]===0x0){_0x7e52ac[_0x527911(0x878)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x527911(0x8fb)]('confirm-move-quiz-btn')['disabled']=!![];return;}_0x7e52ac[_0x527911(0x878)]=_0x2a4809[_0x527911(0x218)](_0x42a9ae=>_0x527911(0xbb2)+_0x42a9ae['id']+'\x22>'+_0x42a9ae[_0x527911(0x437)]+_0x527911(0x3de))['join'](''),document[_0x527911(0x8fb)](_0x527911(0x7b4))[_0x527911(0xc96)]=![];}catch(_0x3d0ec4){console[_0x527911(0xd73)](_0x527911(0xcb2),_0x3d0ec4),showMessage(_0x527911(0x84b)),moveQuizModal['classList'][_0x527911(0x8de)](_0x527911(0xcb3));}}async function confirmMoveQuiz(){const _0x53fbc2=_0xa39756,_0x3a42aa=document['getElementById']('move-quiz-project-select')[_0x53fbc2(0x3d4)];if(!_0x3a42aa){showMessage(_0x53fbc2(0x2c3));return;}if(!actionTargetId)return;const _0x29ae61=doc(db,_0x53fbc2(0x73f)+appId+_0x53fbc2(0xdb4),actionTargetId);try{await updateDoc(_0x29ae61,{'projectId':_0x3a42aa}),showMessage(_0x53fbc2(0x7f5)),moveQuizModal['classList'][_0x53fbc2(0x8de)](_0x53fbc2(0xcb3)),actionTargetId=null;}catch(_0x22dd73){console[_0x53fbc2(0xd73)](_0x53fbc2(0xac8),_0x22dd73),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x4ef7e1){const _0x4b94cf=_0xa39756;actionTargetId=_0x4ef7e1;const _0x3086a5=doc(db,_0x4b94cf(0x73f)+appId+_0x4b94cf(0xdb4),_0x4ef7e1);try{const _0x4f3e13=await getDoc(_0x3086a5);if(_0x4f3e13['exists']()){const _0x2213c2=_0x4f3e13[_0x4b94cf(0x3d7)](),_0x3de8ab=_0x2213c2[_0x4b94cf(0x486)]||{},_0x1ed115=_0x2213c2[_0x4b94cf(0x4a2)]['length'];document[_0x4b94cf(0x8fb)](_0x4b94cf(0xbe0))['value']=_0x3de8ab[_0x4b94cf(0x742)]||_0x4b94cf(0x6dd),document[_0x4b94cf(0x8fb)](_0x4b94cf(0x899))['value']=_0x3de8ab[_0x4b94cf(0x648)]||_0x4b94cf(0xb04),document['getElementById']('modal-timer-mode-select')[_0x4b94cf(0x3d4)]=_0x3de8ab['timerMode']||'none',document[_0x4b94cf(0x8fb)](_0x4b94cf(0xd81))[_0x4b94cf(0x3d4)]=_0x3de8ab[_0x4b94cf(0x728)]||0xa,document[_0x4b94cf(0x8fb)](_0x4b94cf(0xdbf))[_0x4b94cf(0x3d4)]=_0x3de8ab[_0x4b94cf(0x3df)]||Math[_0x4b94cf(0x997)](_0x1ed115/0x2),document[_0x4b94cf(0x8fb)]('modal-passing-score-input')[_0x4b94cf(0xcd3)]=_0x1ed115,document['getElementById'](_0x4b94cf(0x416))[_0x4b94cf(0x588)]=_0x3de8ab[_0x4b94cf(0xa2a)]||![],document['getElementById']('modal-loop-until-pass-checkbox')['checked']=_0x3de8ab['loopUntilPass']||![];const _0x1d7fbe=_0x3de8ab[_0x4b94cf(0xb61)]||![];document[_0x4b94cf(0x8fb)]('modal-confidence-scoring-checkbox')['checked']=_0x1d7fbe,document['getElementById'](_0x4b94cf(0x630))[_0x4b94cf(0x3d4)]=_0x3de8ab['confidenceMode']||_0x4b94cf(0x23c);const _0x3d8d05=document[_0x4b94cf(0x8fb)](_0x4b94cf(0x8ae));_0x3d8d05[_0x4b94cf(0xa57)][_0x4b94cf(0x636)](_0x4b94cf(0xcb3),!_0x1d7fbe),document['getElementById'](_0x4b94cf(0xab3))['dispatchEvent'](new Event(_0x4b94cf(0x552))),quizSettingsModal['classList']['remove'](_0x4b94cf(0xcb3));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x3dbe40){console['error']('Error\x20fetching\x20quiz\x20settings:',_0x3dbe40),showMessage(_0x4b94cf(0xc28));}}async function confirmQuizSettings(){const _0x343626=_0xa39756;if(!actionTargetId)return;const _0x5d73ba=doc(db,_0x343626(0x73f)+appId+_0x343626(0xdb4),actionTargetId),_0x235cb6={'shuffle':document['getElementById'](_0x343626(0xbe0))[_0x343626(0x3d4)],'resultsDisplay':document[_0x343626(0x8fb)](_0x343626(0x899))[_0x343626(0x3d4)],'timerMode':document[_0x343626(0x8fb)](_0x343626(0xab3))[_0x343626(0x3d4)],'timerDuration':parseInt(document[_0x343626(0x8fb)](_0x343626(0xd81))[_0x343626(0x3d4)])||0xa,'passingScore':parseInt(document[_0x343626(0x8fb)](_0x343626(0xdbf))[_0x343626(0x3d4)])||0x0,'isAdaptive':document['getElementById'](_0x343626(0x416))[_0x343626(0x588)],'loopUntilPass':document[_0x343626(0x8fb)]('modal-loop-until-pass-checkbox')[_0x343626(0x588)],'isConfidenceScoringEnabled':document['getElementById'](_0x343626(0xb9d))[_0x343626(0x588)],'confidenceMode':document[_0x343626(0x8fb)](_0x343626(0x630))['value']};try{await updateDoc(_0x5d73ba,{'settings':_0x235cb6}),showMessage(_0x343626(0x54f)),quizSettingsModal[_0x343626(0xa57)][_0x343626(0x8de)]('hidden'),actionTargetId=null;}catch(_0x259e74){console[_0x343626(0xd73)]('Error\x20updating\x20quiz\x20settings:',_0x259e74),showMessage(_0x343626(0xcab));}}async function confirmQuizStatus(){const _0x15c136=_0xa39756;if(!actionTargetId)return;const _0x421e87=doc(db,_0x15c136(0x73f)+appId+_0x15c136(0xdb4),actionTargetId),_0x4d084c=document[_0x15c136(0xa01)](_0x15c136(0x4ad));if(!_0x4d084c){showMessage(_0x15c136(0x92c));return;}const _0x532a23=_0x4d084c[_0x15c136(0x3d4)];let _0x2f33dc={};if(_0x532a23===_0x15c136(0xd52)||_0x532a23===_0x15c136(0x8d0))_0x2f33dc={'status':_0x532a23,'startTime':null,'endTime':null};else{if(_0x532a23===_0x15c136(0xa79)){const _0x12c934=document[_0x15c136(0x8fb)]('quiz-start-time')['value'],_0x19de7e=document[_0x15c136(0x8fb)]('quiz-end-time')['value'];if(!_0x12c934&&!_0x19de7e){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x2f33dc={'status':_0x15c136(0xc04),'startTime':_0x12c934?new Date(_0x12c934)[_0x15c136(0x234)]():null,'endTime':_0x19de7e?new Date(_0x19de7e)[_0x15c136(0x234)]():null};}}try{await updateDoc(_0x421e87,_0x2f33dc),showMessage(_0x15c136(0x5cf)),quizStatusModal['classList'][_0x15c136(0x8de)]('hidden'),actionTargetId=null;}catch(_0x295084){console[_0x15c136(0xd73)](_0x15c136(0x72a),_0x295084),showMessage(_0x15c136(0x489));}}function listenForStudentProfiles(_0x56ac99){const _0x48937f=_0xa39756,_0x26aac6=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x56ac99+_0x48937f(0x578));unsubscribeStudentProfilesListener=onSnapshot(_0x26aac6,_0x366020=>{const _0x2a7e24=_0x48937f,_0x3622ce=_0x366020[_0x2a7e24(0x485)][_0x2a7e24(0x218)](_0x19c040=>_0x19c040['data']());renderLeaderboard(_0x3622ce,_0x2a7e24(0x972));},_0x5e6983=>{const _0x5fc97a=_0x48937f;console['error']('Error\x20listening\x20for\x20student\x20profiles:',_0x5e6983),document[_0x5fc97a(0x8fb)](_0x5fc97a(0x972))[_0x5fc97a(0x878)]=_0x5fc97a(0x83b);});}function renderLeaderboard(_0x33c60b,_0x13b046){const _0x2d83c3=_0xa39756,_0x137e53=document['getElementById'](_0x13b046);if(!_0x33c60b||_0x33c60b[_0x2d83c3(0x7c7)]===0x0){_0x137e53[_0x2d83c3(0x878)]=_0x2d83c3(0xd9f);return;}_0x33c60b[_0x2d83c3(0xcbf)]((_0x468bae,_0x42cd21)=>{const _0x36ff3f=_0x2d83c3,_0x10937a=(_0x42cd21['totalPoints']||0x0)-(_0x468bae['totalPoints']||0x0);if(_0x10937a!==0x0)return _0x10937a;const _0x17fe01=(_0x42cd21[_0x36ff3f(0xa55)]?.[_0x36ff3f(0x657)]||0x0)-(_0x468bae[_0x36ff3f(0xa55)]?.['specialist']||0x0);if(_0x17fe01!==0x0)return _0x17fe01;const _0x640c0f=(_0x42cd21['badgesCount']?.[_0x36ff3f(0x9cb)]||0x0)-(_0x468bae[_0x36ff3f(0xa55)]?.[_0x36ff3f(0x9cb)]||0x0);if(_0x640c0f!==0x0)return _0x640c0f;const _0x5ca0a0=(_0x42cd21[_0x36ff3f(0xa55)]?.[_0x36ff3f(0x802)]||0x0)-(_0x468bae[_0x36ff3f(0xa55)]?.['perfect_score']||0x0);if(_0x5ca0a0!==0x0)return _0x5ca0a0;const _0x48ee5f=(_0x42cd21[_0x36ff3f(0xa55)]?.[_0x36ff3f(0x6a1)]||0x0)-(_0x468bae['badgesCount']?.['quick_thinker']||0x0);if(_0x48ee5f!==0x0)return _0x48ee5f;return _0x468bae[_0x36ff3f(0x1f5)][_0x36ff3f(0xa04)](_0x42cd21[_0x36ff3f(0x1f5)],'th');});let _0x41700e='';_0x33c60b['forEach']((_0x4b9249,_0x4068aa)=>{const _0x578f5b=_0x2d83c3,_0x56fe33=_0x4068aa+0x1,_0x10abb0=_0x4b9249[_0x578f5b(0xa55)]||{};let _0xedc8cf='';const _0x52c576=[_0x578f5b(0x657),_0x578f5b(0x802),_0x578f5b(0x9cb),'quick_thinker'];_0x52c576[_0x578f5b(0x71e)](_0x243714=>{const _0x3a3995=_0x578f5b;if(_0x10abb0[_0x243714]>0x0){const _0x20db81=Object[_0x3a3995(0x2fa)](BADGES)['find'](_0x4da1d2=>_0x4da1d2['id']===_0x243714);_0x20db81&&(_0x243714===_0x3a3995(0x657)?_0xedc8cf+=_0x3a3995(0xdf4)+_0x20db81[_0x3a3995(0x4ee)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x20db81['icon']+_0x3a3995(0x83a):_0xedc8cf+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x20db81['name']+'\x20('+_0x10abb0[_0x243714]+_0x3a3995(0x45d)+_0x20db81[_0x3a3995(0x7dc)]+_0x3a3995(0x245)+_0x10abb0[_0x243714]+_0x3a3995(0x8e2));}}),_0x41700e+=_0x578f5b(0x759)+_0x56fe33+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x4b9249['studentName']+_0x578f5b(0x942)+(_0x4b9249[_0x578f5b(0xc06)]||0x0)+_0x578f5b(0x835)+(_0xedc8cf||'-')+_0x578f5b(0x481);}),_0x137e53[_0x2d83c3(0x878)]=_0x41700e;}function displayLoopScreen(_0x192151,_0x3a0c4c,_0x217707){const _0x13f177=_0xa39756;let _0x5d589f='';_0x217707!==_0x13f177(0x5c8)&&(_0x5d589f=_0x13f177(0x628)+_0x192151+'\x20/\x20'+_0x3a0c4c+_0x13f177(0x638));const _0x295dea=_0x13f177(0x591)+_0x5d589f+_0x13f177(0x8f7);studentResultArea[_0x13f177(0x878)]=_0x295dea,studentResultArea['classList'][_0x13f177(0x586)](_0x13f177(0xcb3)),studentQuizArea['classList'][_0x13f177(0x8de)](_0x13f177(0xcb3)),document[_0x13f177(0x8fb)](_0x13f177(0x4d9))[_0x13f177(0xb95)](_0x13f177(0x305),()=>{const _0x4051fb=_0x13f177;studentResultArea[_0x4051fb(0xa57)][_0x4051fb(0x8de)](_0x4051fb(0xcb3)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x5cf64c,_0x468c9a,_0x8aabb4){const _0x3556f5=_0xa39756,_0x4c8b6c=document['getElementById'](_0x8aabb4),_0x4f8591=_0x8aabb4===_0x3556f5(0x683),_0x352e06=_0x468c9a[_0x3556f5(0x4a2)]['length'],_0x5d45a3=document[_0x3556f5(0x8fb)](_0x8aabb4)[_0x3556f5(0x762)]('table');if(_0x5d45a3&&!_0x4f8591){const _0x4faaaf=_0x5d45a3[_0x3556f5(0xa01)](_0x3556f5(0xdac));_0x4faaaf['innerHTML']=_0x3556f5(0x871);}if(!_0x5cf64c||_0x5cf64c[_0x3556f5(0x7c7)]===0x0){_0x4c8b6c[_0x3556f5(0x878)]=_0x3556f5(0x7e2)+(_0x4f8591?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x262859=[..._0x5cf64c];_0x262859['sort']((_0x4586a4,_0x47a254)=>{const _0x23e43b=_0x3556f5;let _0x49df9a,_0x351e47;switch(quizLeaderboardSortBy){case _0x23e43b(0x1f5):_0x49df9a=_0x4586a4[_0x23e43b(0x1f5)]||'',_0x351e47=_0x47a254[_0x23e43b(0x1f5)]||'';return quizLeaderboardSortOrder===_0x23e43b(0xdcd)?_0x49df9a[_0x23e43b(0xa04)](_0x351e47,'th'):_0x351e47[_0x23e43b(0xa04)](_0x49df9a,'th');case _0x23e43b(0x2f6):_0x49df9a=_0x4586a4[_0x23e43b(0x2f6)]||0x0,_0x351e47=_0x47a254[_0x23e43b(0x2f6)]||0x0;break;case _0x23e43b(0xd6b):_0x49df9a=_0x4586a4[_0x23e43b(0xd6b)]?.[_0x23e43b(0x7c7)]||0x1,_0x351e47=_0x47a254[_0x23e43b(0xd6b)]?.[_0x23e43b(0x7c7)]||0x1;break;case _0x23e43b(0x80d):_0x49df9a=new Date(_0x4586a4['latestSubmittedAt']),_0x351e47=new Date(_0x47a254[_0x23e43b(0x80d)]);break;case _0x23e43b(0x845):default:_0x49df9a=_0x4586a4['bestScore'],_0x351e47=_0x47a254['bestScore'];break;}if(_0x49df9a<_0x351e47)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x49df9a>_0x351e47)return quizLeaderboardSortOrder===_0x23e43b(0xdcd)?0x1:-0x1;return 0x0;});const _0x47d7f7=_0x468c9a[_0x3556f5(0x76f)]===!![],_0x4d3b6c=_0x468c9a[_0x3556f5(0x486)]?.['passingScore']??-0x1;let _0xfa5332='';_0x262859[_0x3556f5(0x71e)]((_0x25674e,_0x2be418)=>{const _0x635149=_0x3556f5,_0x357325=_0x2be418+0x1;let _0x42c511='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x47d7f7||_0x4d3b6c!==-0x1){let _0x59d40c=_0x47d7f7?_0x25674e['bestScore']===_0x352e06:_0x25674e['bestScore']>=_0x4d3b6c;const _0x49bc5f=_0x59d40c?_0x635149(0x6cd):_0x635149(0xcc8),_0x1f6965=_0x59d40c?_0x635149(0x9df):_0x635149(0x99f);_0x42c511=_0x635149(0x695)+_0x49bc5f+'\x22>'+_0x1f6965+_0x635149(0x40b);}const _0x3de1c5=_0x25674e[_0x635149(0xd6b)][_0x25674e[_0x635149(0xd6b)][_0x635149(0x7c7)]-0x1],_0x5302c3=(_0x3de1c5[_0x635149(0x30d)]||[])['map'](_0x3635cb=>{const _0x16307b=_0x635149,_0x4303b1=Object[_0x16307b(0x2fa)](BADGES)[_0x16307b(0xaf7)](_0x4fd3e3=>_0x4fd3e3['id']===_0x3635cb);return _0x4303b1?_0x16307b(0x4b5)+_0x4303b1[_0x16307b(0x4ee)]+'\x22><i\x20class=\x22fas\x20'+_0x4303b1[_0x16307b(0x7dc)]+_0x16307b(0xd90):'';})[_0x635149(0xb7d)]('');_0xfa5332+=_0x635149(0x348)+_0x357325+_0x635149(0xae2)+_0x25674e[_0x635149(0x1f5)]+_0x635149(0x42f)+_0x25674e[_0x635149(0x845)]+_0x635149(0x48d)+_0x352e06+_0x635149(0x203)+_0x42c511+_0x635149(0xb2b)+(_0x25674e[_0x635149(0x2f6)]||0x0)+_0x635149(0x203)+(_0x4f8591?'':_0x635149(0x5e6)+(_0x25674e[_0x635149(0xd6b)]?.['length']||0x1)+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4f8591?'':_0x635149(0x288)+new Date(_0x25674e['latestSubmittedAt'])['toLocaleString'](_0x635149(0xabb))+'</td>')+_0x635149(0x51b)+(_0x5302c3||'-')+_0x635149(0xbcb);}),_0x4c8b6c[_0x3556f5(0x878)]=_0xfa5332,_0x5d45a3&&!_0x4f8591&&_0x5d45a3['querySelectorAll'](_0x3556f5(0x7bf))[_0x3556f5(0x71e)](_0x111f87=>{const _0x368ca3=_0x3556f5,_0x1dc5d8=_0x111f87[_0x368ca3(0xa01)](_0x368ca3(0x626));if(_0x1dc5d8)_0x1dc5d8[_0x368ca3(0x586)]();_0x111f87[_0x368ca3(0x87f)][_0x368ca3(0xcbf)]===quizLeaderboardSortBy&&(_0x111f87[_0x368ca3(0x878)]+=_0x368ca3(0x893)+(quizLeaderboardSortOrder===_0x368ca3(0xdcd)?'▲':'▼')+_0x368ca3(0xacd));});}async function handleDeleteSubmission(_0x1b1ae8){const _0x19cab9=_0xa39756;if(!currentQuizData||!currentQuizData['id']||!_0x1b1ae8){showMessage(_0x19cab9(0x724));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x1b1ae8+_0x19cab9(0xbe7),async()=>{const _0x5ec093=_0x19cab9,_0x30b6e8=currentQuizData['id'],_0x1d633b=doc(db,'artifacts/'+appId+_0x5ec093(0x4e3)+_0x30b6e8+_0x5ec093(0x26d),_0x1b1ae8);try{await deleteDoc(_0x1d633b),showMessage('ลบผลสอบของ\x20'+_0x1b1ae8+_0x5ec093(0x618));}catch(_0x146b4a){console[_0x5ec093(0xd73)](_0x5ec093(0x60b),_0x146b4a),showMessage(_0x5ec093(0x615));}});}async function handleLoadQuiz(){const _0x3660c5=_0xa39756,_0x17d42d=document[_0x3660c5(0x8fb)](_0x3660c5(0x3a6)),_0x267042=_0x17d42d[_0x3660c5(0x3d4)][_0x3660c5(0x6a8)]();if(!_0x267042){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x3660c5(0xc96)]=!![],loadQuizBtn[_0x3660c5(0x878)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x2e1572=doc(db,_0x3660c5(0x73f)+appId+'/public/data/quizzes',_0x267042),_0x1525a6=await getDoc(_0x2e1572);if(!_0x1525a6['exists']()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x1525a6['id'],..._0x1525a6[_0x3660c5(0x3d7)]()};const _0x3a818d=currentQuizData[_0x3660c5(0xcce)]||_0x3660c5(0xd52),_0x493b2c=new Date();if(_0x3a818d===_0x3660c5(0x8d0)){showMessage(_0x3660c5(0xc4c));return;}if(_0x3a818d===_0x3660c5(0xc04)){const _0x582cac=currentQuizData[_0x3660c5(0x9e3)]?new Date(currentQuizData[_0x3660c5(0x9e3)]):null,_0x3e3076=currentQuizData['endTime']?new Date(currentQuizData[_0x3660c5(0x6e9)]):null;if(_0x582cac&&_0x493b2c<_0x582cac){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x582cac['toLocaleString'](_0x3660c5(0xabb),{'hour12':![]}));return;}if(_0x3e3076&&_0x493b2c>_0x3e3076){showMessage(_0x3660c5(0x792));return;}}const _0x363baf=currentQuizData[_0x3660c5(0xa68)];currentProjectId=_0x363baf;const _0x2f9ebf=doc(db,_0x3660c5(0x73f)+appId+_0x3660c5(0xb08),_0x363baf),_0x476834=await getDoc(_0x2f9ebf);if(!_0x476834[_0x3660c5(0x86f)]()){showMessage(_0x3660c5(0x79c));return;}const _0x56aad6=_0x476834[_0x3660c5(0x3d7)]();currentStudentProjectData=_0x56aad6,displayStudentNameSelector(_0x56aad6[_0x3660c5(0xcc6)],currentQuizData[_0x3660c5(0xb19)]);}catch(_0xc1e841){console[_0x3660c5(0xd73)]('Error\x20loading\x20quiz\x20for\x20student:',_0xc1e841),showMessage(_0x3660c5(0x333));}finally{loadQuizBtn[_0x3660c5(0xc96)]=![],loadQuizBtn[_0x3660c5(0x878)]=_0x3660c5(0x7be);}}async function handleJoinLiveGame(){const _0x4de600=_0xa39756,_0x9df18f=document[_0x4de600(0x8fb)]('game-pin-input'),_0x2369c0=document[_0x4de600(0x8fb)](_0x4de600(0xbe5)),_0x649e33=document[_0x4de600(0x8fb)]('confirm-join-game-btn'),_0xc89120=_0x9df18f[_0x4de600(0x3d4)][_0x4de600(0x6a8)](),_0x4d19b9=_0x2369c0[_0x4de600(0x3d4)][_0x4de600(0x6a8)]();if(!_0xc89120||!_0x4d19b9){showMessage(_0x4de600(0xd25));return;}_0x649e33[_0x4de600(0xc96)]=!![],_0x649e33[_0x4de600(0x878)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x52e399=collection(db,_0x4de600(0x73f)+appId+_0x4de600(0xd19)),_0x2807c1=query(_0x52e399,where(_0x4de600(0x7a0),'==',_0xc89120),where('status','in',[_0x4de600(0xa07),_0x4de600(0x84c)])),_0x511c48=await getDocs(_0x2807c1);if(_0x511c48[_0x4de600(0x294)]){showMessage(_0x4de600(0x5ca));return;}const _0xf061ec=_0x511c48['docs'][0x0],_0x135dad=_0xf061ec[_0x4de600(0x3d7)]();currentLiveGameId=_0xf061ec['id'];const _0x1cb6a8=_0x135dad[_0x4de600(0xcbc)],_0xfcb8af=doc(db,_0x4de600(0x73f)+appId+_0x4de600(0xdb4),_0x1cb6a8),_0x1bf929=await getDoc(_0xfcb8af);if(!_0x1bf929[_0x4de600(0x86f)]()){showMessage(_0x4de600(0x652));return;}currentQuizData={'id':_0x1bf929['id'],..._0x1bf929['data']()};if(_0x135dad[_0x4de600(0x20e)]&&_0x135dad['players'][_0x4d19b9]){const _0x100ff1=_0x135dad[_0x4de600(0x20e)][_0x4d19b9];if(_0x100ff1[_0x4de600(0xcce)]==='inactive'){_0x649e33[_0x4de600(0x878)]=_0x4de600(0x6c0);const _0x424096={};_0x424096['players.'+_0x4d19b9+_0x4de600(0x5e3)]=_0x4de600(0xd52),await updateDoc(doc(db,'artifacts/'+appId+_0x4de600(0xd19),currentLiveGameId),_0x424096),showView(_0x4de600(0xd10)),currentStudentName=_0x4d19b9,listenForLiveGameUpdates();return;}else{showMessage('ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น');return;}}if(_0x135dad[_0x4de600(0xcce)]!==_0x4de600(0xa07)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x649e33[_0x4de600(0x878)]=_0x4de600(0x87c);const _0x4d213c={};_0x4d213c['players.'+_0x4d19b9]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x4de600(0xd52)},await updateDoc(doc(db,'artifacts/'+appId+_0x4de600(0xd19),currentLiveGameId),_0x4d213c),currentStudentName=_0x4d19b9,listenForLiveGameUpdates();}catch(_0x474aeb){console['error'](_0x4de600(0x957),_0x474aeb),showMessage(_0x4de600(0x292));}finally{_0x649e33['disabled']=![],_0x649e33['innerHTML']=_0x4de600(0x3ad);}}function displayStudentNameSelector(_0x3f315a,_0x3976f4){const _0x4ad95a=_0xa39756,_0x30edb9=document['getElementById']('student-name-select');document[_0x4ad95a(0x8fb)](_0x4ad95a(0x387))[_0x4ad95a(0xa47)]='แบบทดสอบ:\x20'+_0x3976f4,!_0x3f315a||_0x3f315a['length']===0x0?(_0x30edb9[_0x4ad95a(0x878)]=_0x4ad95a(0x946),startQuizBtn[_0x4ad95a(0xc96)]=!![]):(_0x30edb9[_0x4ad95a(0x878)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x3f315a['forEach'](_0x52cdc0=>{const _0x20909c=_0x4ad95a,_0x4591f0=document[_0x20909c(0x80c)](_0x20909c(0xdd9));_0x4591f0[_0x20909c(0x3d4)]=_0x52cdc0,_0x4591f0[_0x20909c(0xa47)]=_0x52cdc0,_0x30edb9[_0x20909c(0x7d1)](_0x4591f0);}),startQuizBtn[_0x4ad95a(0xc96)]=![]),studentInitialView[_0x4ad95a(0xa57)][_0x4ad95a(0x8de)](_0x4ad95a(0xcb3)),studentNameSelectionView[_0x4ad95a(0xa57)][_0x4ad95a(0x586)](_0x4ad95a(0xcb3));}function shuffleArray(_0x15ca48){const _0x3adf85=_0xa39756;for(let _0x506575=_0x15ca48[_0x3adf85(0x7c7)]-0x1;_0x506575>0x0;_0x506575--){const _0x590e71=Math[_0x3adf85(0x997)](Math[_0x3adf85(0x35e)]()*(_0x506575+0x1));[_0x15ca48[_0x506575],_0x15ca48[_0x590e71]]=[_0x15ca48[_0x590e71],_0x15ca48[_0x506575]];}}function getShuffledQuiz(_0x4244d2){const _0x318b8e=_0xa39756;let _0x14dcc6=JSON[_0x318b8e(0x5ed)](JSON[_0x318b8e(0x8ff)](_0x4244d2));const _0x275ce1=_0x14dcc6[_0x318b8e(0x486)]?.[_0x318b8e(0x742)]||_0x318b8e(0x6dd);if(_0x275ce1===_0x318b8e(0x6dd))return _0x14dcc6;return(_0x275ce1===_0x318b8e(0x692)||_0x275ce1===_0x318b8e(0x9d6))&&shuffleArray(_0x14dcc6[_0x318b8e(0x4a2)]),(_0x275ce1===_0x318b8e(0x370)||_0x275ce1==='both')&&_0x14dcc6[_0x318b8e(0x4a2)][_0x318b8e(0x71e)](_0x45575d=>{const _0x5b32cd=_0x318b8e,_0x3cec2f=_0x45575d['questionType']||_0x14dcc6['quizType'];if(_0x45575d[_0x5b32cd(0x9af)]){let _0x3d15cc=_0x45575d[_0x5b32cd(0x9af)]['map']((_0x2a45d2,_0x15e71d)=>({'text':_0x2a45d2,'isCorrect':_0x15e71d===_0x45575d[_0x5b32cd(0x5fd)]}));shuffleArray(_0x3d15cc),_0x45575d[_0x5b32cd(0x9af)]=_0x3d15cc['map'](_0x3e7250=>_0x3e7250['text']),_0x45575d[_0x5b32cd(0x5fd)]=_0x3d15cc[_0x5b32cd(0xd7e)](_0x23b946=>_0x23b946[_0x5b32cd(0x671)]);}_0x3cec2f===_0x5b32cd(0xbd6)&&_0x45575d[_0x5b32cd(0x23b)]&&shuffleArray(_0x45575d[_0x5b32cd(0x23b)]);}),_0x14dcc6;}function displayQuizForStudent(_0x23377e){const _0x55d3c5=_0xa39756;studentQuizArea[_0x55d3c5(0xa57)][_0x55d3c5(0x586)](_0x55d3c5(0xcb3)),currentDisplayedQuiz=getShuffledQuiz(_0x23377e);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x55d3c5(0xb95)](_0x55d3c5(0x76e),handleFullscreenChange),document[_0x55d3c5(0xb95)](_0x55d3c5(0x2a4),handleVisibilityChange),enterFullscreen(),window['addEventListener']('mousemove',resetDimTimer),window[_0x55d3c5(0xb95)](_0x55d3c5(0x2e5),resetDimTimer),window[_0x55d3c5(0xb95)](_0x55d3c5(0x7e6),resetDimTimer),window[_0x55d3c5(0xb95)](_0x55d3c5(0xa42),resetDimTimer),resetDimTimer());const _0x4ac052=currentDisplayedQuiz[_0x55d3c5(0x486)]?.[_0x55d3c5(0x8fd)]||'none';if(_0x4ac052===_0x55d3c5(0x663))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings']['timerDuration']);else _0x4ac052===_0x55d3c5(0x89b)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x24eccc=_0xa39756,_0xcbd408=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x46f5be=currentDisplayedQuiz[_0x24eccc(0x486)]?.[_0x24eccc(0x451)]||_0x24eccc(0x23c);let _0x4d9724='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x24eccc(0xb19)]+_0x24eccc(0x62f)+(currentMode===_0x24eccc(0x5bb)?_0x24eccc(0x21f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x24eccc(0x4a2)][_0x24eccc(0x71e)]((_0x518428,_0x2be24c)=>{const _0x5143d8=_0x24eccc,_0x431579=_0x518428[_0x5143d8(0x672)]||currentDisplayedQuiz['quizType'];_0x4d9724+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x431579===_0x5143d8(0xbd6)){}else _0x4d9724+=_0x5143d8(0x470)+(_0x2be24c+0x1)+'.\x20'+(_0x518428['instructions']||_0x518428['questionText'])+_0x5143d8(0xc74),_0x518428[_0x5143d8(0xd93)]&&(_0x4d9724+=_0x5143d8(0x58b)+_0x518428[_0x5143d8(0xd93)]+_0x5143d8(0x369));_0x4d9724+=_0x5143d8(0x852);switch(_0x431579){case _0x5143d8(0x880):_0x4d9724+=_0x5143d8(0xaed)+_0x2be24c+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x5143d8(0xc4d):_0x4d9724+=_0x5143d8(0x7bb)+_0x2be24c+_0x5143d8(0x7fc)+_0x2be24c+_0x5143d8(0xdf0)+_0x2be24c+_0x5143d8(0xbdf),_0x4d9724+=_0x5143d8(0x7bb)+_0x2be24c+_0x5143d8(0x95a)+_0x2be24c+_0x5143d8(0xdf5)+_0x2be24c+_0x5143d8(0xa81);break;case _0x5143d8(0xbd6):_0x4d9724+=_0x5143d8(0x953)+_0x518428[_0x5143d8(0x722)]+_0x5143d8(0x9cf)+_0x2be24c+_0x5143d8(0x6c7)+_0x518428['allResponses']['map'](_0x57fddf=>_0x5143d8(0xbb2)+_0x57fddf+'\x22>'+_0x57fddf+_0x5143d8(0x3de))[_0x5143d8(0xb7d)]('')+_0x5143d8(0xcc9);break;default:_0x4d9724+=_0x518428[_0x5143d8(0x9af)][_0x5143d8(0x218)]((_0x126477,_0x21217d)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x2be24c+_0x5143d8(0x624)+_0x21217d+_0x5143d8(0xdd6)+_0x2be24c+_0x5143d8(0x31c)+_0x21217d+_0x5143d8(0x262)+_0x2be24c+_0x5143d8(0x624)+_0x21217d+'\x22>'+_0x126477+_0x5143d8(0xbe9))['join']('');break;}_0x4d9724+=_0x5143d8(0x369),_0xcbd408&&(_0x4d9724+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x46f5be==='mandatory'?_0x4d9724+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x2be24c+_0x5143d8(0xccd)+_0x2be24c+_0x5143d8(0x6c8)+_0x2be24c+_0x5143d8(0x798)+_0x2be24c+_0x5143d8(0x9c0):_0x4d9724+=_0x5143d8(0x2ce)+_0x2be24c+'\x22\x20name=\x22confidence'+_0x2be24c+_0x5143d8(0x4b6)+_0x2be24c+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x4d9724+=_0x5143d8(0x369)),_0x4d9724+=_0x5143d8(0x369);}),_0x4d9724+=_0x24eccc(0x38c),_0x4d9724+=_0x24eccc(0xd08),studentQuizArea[_0x24eccc(0x878)]=_0x4d9724;if(currentMode===_0x24eccc(0x5bb)){const _0x58d94f=document[_0x24eccc(0x8fb)]('cancel-test-btn');if(_0x58d94f)_0x58d94f[_0x24eccc(0xb95)](_0x24eccc(0x305),cancelAdminTest);}const _0x5ca88d=document[_0x24eccc(0x8fb)](_0x24eccc(0x9ad));_0x5ca88d&&(_0x5ca88d[_0x24eccc(0xb95)](_0x24eccc(0x610),handleSubmitQuiz),_0x5ca88d[_0x24eccc(0xb95)](_0x24eccc(0x305),_0x180ffd=>{const _0x1e688b=_0x24eccc;if(_0x180ffd[_0x1e688b(0x748)][_0x1e688b(0xa57)][_0x1e688b(0x28c)](_0x1e688b(0x84f))){const _0x8825d9=_0x180ffd[_0x1e688b(0x748)],_0x3598d=_0x8825d9[_0x1e688b(0x87f)][_0x1e688b(0x403)],_0x49219a=_0x8825d9[_0x1e688b(0x87f)]['value'];document['getElementById']('confidence-input-'+_0x3598d)[_0x1e688b(0x3d4)]=_0x49219a;const _0x5d19d8=_0x8825d9[_0x1e688b(0x5a3)];_0x5d19d8[_0x1e688b(0x6aa)]('.confidence-choice-btn')[_0x1e688b(0x71e)](_0x321960=>_0x321960[_0x1e688b(0xa57)][_0x1e688b(0x586)](_0x1e688b(0xd52))),_0x8825d9['classList'][_0x1e688b(0x8de)]('active');}}));if(window['MathJax'])window[_0x24eccc(0xb54)][_0x24eccc(0xa3f)]([studentQuizArea]);}async function handleSubmitQuiz(_0x54dbcd){const _0x36f1c3=_0xa39756;if(_0x54dbcd)_0x54dbcd[_0x36f1c3(0xc6f)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x51609e=document[_0x36f1c3(0x8fb)](_0x36f1c3(0x9ad));if(!_0x51609e)return;const _0x26e9c7=currentDisplayedQuiz[_0x36f1c3(0x486)]?.[_0x36f1c3(0xb61)]===!![],_0x532b98=currentDisplayedQuiz[_0x36f1c3(0x486)]?.[_0x36f1c3(0x451)]||_0x36f1c3(0x23c);if(_0x26e9c7&&_0x532b98===_0x36f1c3(0xac5)){let _0x57e20f=!![];for(let _0x2b97cf=0x0;_0x2b97cf<currentDisplayedQuiz[_0x36f1c3(0x4a2)][_0x36f1c3(0x7c7)];_0x2b97cf++){const _0x40bb38=_0x51609e[_0x36f1c3(0xa01)](_0x36f1c3(0x345)+_0x2b97cf);if(!_0x40bb38||_0x40bb38[_0x36f1c3(0x3d4)]===''){_0x57e20f=![];break;}}if(!_0x57e20f){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x31984e=_0x51609e['querySelector']('button[type=\x22submit\x22]'),_0x5d48df=currentDisplayedQuiz[_0x36f1c3(0x4a2)][_0x36f1c3(0x44a)](_0x382330=>_0x382330[_0x36f1c3(0x672)]===_0x36f1c3(0x880));_0x31984e&&(_0x31984e['disabled']=!![],_0x31984e['innerHTML']=_0x5d48df?_0x36f1c3(0xb1d):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x4dc62a=new FormData(_0x51609e),_0x9465e1=currentDisplayedQuiz[_0x36f1c3(0x4a2)][_0x36f1c3(0x218)]((_0x51ae0d,_0x313d98)=>{const _0x4a8969=_0x36f1c3,_0x117d69=_0x4dc62a[_0x4a8969(0x97d)](_0x4a8969(0x84c)+_0x313d98);let _0x11a28c;_0x532b98===_0x4a8969(0xac5)?_0x11a28c=_0x4dc62a[_0x4a8969(0x97d)](_0x4a8969(0xd74)+_0x313d98):_0x11a28c=_0x4dc62a['get']('confidence'+_0x313d98)==='on';let _0x5f4b78=null;if(_0x117d69!==null&&_0x117d69!==undefined){const _0xd1896f=_0x51ae0d[_0x4a8969(0x672)]||currentDisplayedQuiz['quizType'];_0xd1896f===_0x4a8969(0x525)||_0xd1896f===_0x4a8969(0xc69)?_0x5f4b78=parseInt(_0x117d69):_0x5f4b78=_0x117d69;}return{'answer':_0x5f4b78,'wasConfident':_0x11a28c};}),_0x41d765=currentQuizData['id'],_0x535461=doc(db,_0x36f1c3(0x73f)+appId+_0x36f1c3(0x4e3)+_0x41d765+'/submissions',currentStudentName),_0x37d6e2=await getDoc(_0x535461),_0x48f9fd=_0x37d6e2['exists']()?_0x37d6e2[_0x36f1c3(0x3d7)]():{},_0x37f157=_0x48f9fd[_0x36f1c3(0xd6b)]||[];await processAndSubmitAnswers(_0x9465e1,_0x37f157);}async function gradeShortAnswerWithAI(_0x2c8b5c,_0x50cf6c){const _0x5ea766=_0xa39756;if(!_0x2c8b5c||!_0x50cf6c)return![];try{const _0x22afa1=_0x5ea766(0xd39)+_0x2c8b5c+_0x5ea766(0xab8)+_0x50cf6c+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x20ebaa={'contents':[{'role':_0x5ea766(0x3a5),'parts':[{'text':_0x22afa1}]}]},_0x56c65f=_0x5ea766(0xacb),_0x1bd4e6='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x56c65f,_0x579ace=await fetch(_0x1bd4e6,{'method':_0x5ea766(0xb56),'headers':{'Content-Type':_0x5ea766(0x9d9)},'body':JSON[_0x5ea766(0x8ff)](_0x20ebaa)});if(!_0x579ace['ok'])throw new Error(_0x5ea766(0x7b1));const _0x4cdd85=await _0x579ace['json'](),_0x26f727=_0x4cdd85[_0x5ea766(0x4a4)][0x0]['content'][_0x5ea766(0x712)][0x0][_0x5ea766(0x54d)][_0x5ea766(0x6a8)]()[_0x5ea766(0xb4d)]();return _0x26f727===_0x5ea766(0x9b7);}catch(_0x26db19){return console[_0x5ea766(0xd73)]('AI\x20grading\x20failed:',_0x26db19),![];}}async function processAndSubmitAnswers(_0x422162,_0x4506b9){const _0x7fe8b6=_0xa39756;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x7fe8b6(0x223)](_0x7fe8b6(0x76e),handleFullscreenChange),document[_0x7fe8b6(0x223)](_0x7fe8b6(0x2a4),handleVisibilityChange);let _0x5d9170=0x0;const _0x479fa9=[],_0x186ee7=currentDisplayedQuiz[_0x7fe8b6(0x4a2)][_0x7fe8b6(0x7c7)];let _0x3cb914=0x0,_0xd83391=[];const _0x4f4d13=currentDisplayedQuiz[_0x7fe8b6(0x4a2)];for(let _0x3a269c=0x0;_0x3a269c<_0x4f4d13[_0x7fe8b6(0x7c7)];_0x3a269c++){const _0x1c9dbd=_0x4f4d13[_0x3a269c],_0xaeed9=_0x422162[_0x3a269c],_0x296d43=_0xaeed9?_0xaeed9[_0x7fe8b6(0x494)]:null,_0x141f30=_0xaeed9?_0xaeed9['wasConfident']:null;let _0x1299ba=![],_0xee8c0e=0x0;if(_0x296d43!==null&&_0x296d43!==''){const _0x27b5bd=_0x1c9dbd[_0x7fe8b6(0x672)]||currentDisplayedQuiz[_0x7fe8b6(0x28e)];switch(_0x27b5bd){case'matching_item':_0x1299ba=_0x296d43===_0x1c9dbd[_0x7fe8b6(0x8e8)];break;case _0x7fe8b6(0xc4d):const _0x38078b=_0x296d43===!![]||_0x296d43===_0x7fe8b6(0x9b7);_0x1299ba=_0x38078b===_0x1c9dbd[_0x7fe8b6(0xdae)];break;case _0x7fe8b6(0x880):_0x1299ba=await gradeShortAnswer(_0x296d43,_0x1c9dbd);break;case _0x7fe8b6(0x525):default:_0x1299ba=Number(_0x296d43)===_0x1c9dbd[_0x7fe8b6(0x5fd)];break;}}if(currentDisplayedQuiz[_0x7fe8b6(0x486)]?.[_0x7fe8b6(0xb61)]){const _0x3257ea=_0xaeed9?_0xaeed9[_0x7fe8b6(0xb01)]:null;if(_0x1299ba&&(_0x3257ea===!![]||_0x3257ea===_0x7fe8b6(0x392)))_0xee8c0e=0x2;else{if(_0x1299ba)_0xee8c0e=0x1;else{if(!_0x1299ba&&(_0x3257ea===![]||_0x3257ea===_0x7fe8b6(0x876)||_0x3257ea===null))_0xee8c0e=0x0;else!_0x1299ba&&(_0x3257ea===!![]||_0x3257ea==='confident')&&(_0xee8c0e=-0x1);}}}else _0xee8c0e=_0x1299ba?0x1:0x0;_0x5d9170+=_0xee8c0e;if(_0x1299ba){_0x3cb914++;if(_0x3cb914===0x3)_0xd83391['push'](BADGES[_0x7fe8b6(0x63e)]['id']);}else _0x3cb914=0x0;let _0x2ea2aa=null;_0x1c9dbd[_0x7fe8b6(0x9af)]&&_0x296d43!==null&&(_0x2ea2aa=_0x1c9dbd[_0x7fe8b6(0x9af)][_0x296d43]),_0x479fa9[_0x7fe8b6(0xbdd)]({'questionId':_0x1c9dbd['id'],'answer':_0x296d43,'answerText':_0x2ea2aa,'isCorrect':_0x1299ba,'wasConfident':_0x141f30,'pointsAwarded':_0xee8c0e,'originalQuestionText':_0x1c9dbd[_0x7fe8b6(0x722)]||_0x1c9dbd['questionText']});}const _0x1f8b51=_0x479fa9[_0x7fe8b6(0x4da)](_0xdacccc=>_0xdacccc[_0x7fe8b6(0x671)])[_0x7fe8b6(0x7c7)],_0xb733c5=currentDisplayedQuiz['settings']?.[_0x7fe8b6(0x3df)]??Math[_0x7fe8b6(0x997)](_0x186ee7/0x2);_0x1f8b51===_0x186ee7&&_0x186ee7>0x0&&!currentDisplayedQuiz[_0x7fe8b6(0x76f)]&&_0xd83391['push'](BADGES['PERFECT_SCORE']['id']);const _0x699669=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x699669===_0x7fe8b6(0x663)&&quizStartTime){const _0x3ae3c3=(new Date()-quizStartTime)/0x3e8,_0x476ebb=currentDisplayedQuiz[_0x7fe8b6(0x486)][_0x7fe8b6(0x728)]*0x3c;_0x1f8b51>=_0xb733c5&&_0x3ae3c3<_0x476ebb/0x2&&_0xd83391[_0x7fe8b6(0xbdd)](BADGES['QUICK_THINKER']['id']);}_0x4506b9['length']===0x0&&_0x1f8b51===_0x186ee7&&_0x186ee7>0x0&&_0xd83391[_0x7fe8b6(0xbdd)](BADGES[_0x7fe8b6(0x8b2)]['id']);if(_0x4506b9[_0x7fe8b6(0x7c7)]>0x0){const _0x49ffd7=_0x4506b9[0x0][_0x7fe8b6(0x3e4)];if(_0x49ffd7<_0xb733c5&&_0x1f8b51>=_0xb733c5){const _0x26b569=_0x4506b9[_0x7fe8b6(0x44a)](_0x3e86a2=>(_0x3e86a2[_0x7fe8b6(0x30d)]||[])['includes'](BADGES[_0x7fe8b6(0x3ab)]['id']));!_0x26b569&&_0xd83391[_0x7fe8b6(0xbdd)](BADGES[_0x7fe8b6(0x3ab)]['id']);}}_0x4506b9['length']===0x4&&_0xd83391[_0x7fe8b6(0xbdd)](BADGES[_0x7fe8b6(0xcb0)]['id']);const _0x389dd7=currentDisplayedQuiz[_0x7fe8b6(0x486)]['resultsDisplay'];if(currentMode===_0x7fe8b6(0x5bb)){handleResultDisplay(_0x389dd7,_0x1f8b51,_0x5d9170,_0xd83391,_0x479fa9,_0x186ee7);return;}const _0x3310ef=currentQuizData['id'],_0x310cca=doc(db,_0x7fe8b6(0x73f)+appId+_0x7fe8b6(0x4e3)+_0x3310ef+_0x7fe8b6(0x26d),currentStudentName);try{const _0x55e7d2=[..._0x4506b9],_0x3435d0={'score':_0x1f8b51,'points':_0x5d9170,'badges':Array[_0x7fe8b6(0x275)](new Set(_0xd83391)),'submittedAt':new Date()[_0x7fe8b6(0x234)](),'answers':_0x479fa9};_0x55e7d2[_0x7fe8b6(0xbdd)](_0x3435d0);const _0x7fdc55=_0x4506b9['length']===0x0?_0x1f8b51:_0x4506b9[0x0][_0x7fe8b6(0x3e4)]||0x0,_0x3bb8e0=Math[_0x7fe8b6(0xcd3)](..._0x55e7d2[_0x7fe8b6(0x218)](_0x107937=>_0x107937['score']));await setDoc(_0x310cca,{'studentName':currentStudentName,'totalQuestions':_0x186ee7,'attempts':_0x55e7d2,'firstScore':_0x7fdc55,'bestScore':_0x3bb8e0,'latestScore':_0x1f8b51,'points':_0x5d9170,'latestSubmittedAt':_0x3435d0[_0x7fe8b6(0x532)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x7fe8b6(0xa68)],currentStudentName),handleResultDisplay(_0x389dd7,_0x1f8b51,_0x5d9170,_0xd83391,_0x479fa9,_0x186ee7);}catch(_0xe52d97){console[_0x7fe8b6(0xd73)](_0x7fe8b6(0x40f),_0xe52d97),showMessage(_0x7fe8b6(0x8c9));}}async function updateStudentProfile(_0x380f15,_0x562823){const _0x52f268=_0xa39756,_0x1430bc=doc(db,_0x52f268(0x73f)+appId+_0x52f268(0xa94)+_0x380f15+_0x52f268(0x578),_0x562823);try{const _0x2af523=query(collection(db,_0x52f268(0x73f)+appId+_0x52f268(0xdb4)),where(_0x52f268(0xa68),'==',_0x380f15)),_0x21cf5f=await getDocs(_0x2af523),_0x564e4e=new Map(_0x21cf5f[_0x52f268(0x485)]['map'](_0x5e6678=>[_0x5e6678['id'],_0x5e6678[_0x52f268(0x3d7)]()])),_0x2fc383=Array[_0x52f268(0x275)](_0x564e4e[_0x52f268(0x65c)]());await runTransaction(db,async _0x6144c4=>{const _0x2869e1=_0x52f268;let _0x48d0c7=0x0;const _0x129597={};let _0x357f3c=!![],_0x2b0bf1=0x0,_0x142c67=0x0;for(const _0x54640e of _0x2fc383){const _0x3e68ba=_0x564e4e['get'](_0x54640e),_0xe8edcc=doc(db,_0x2869e1(0x73f)+appId+_0x2869e1(0x4e3)+_0x54640e+_0x2869e1(0x26d),_0x562823),_0xa8db7d=await _0x6144c4[_0x2869e1(0x97d)](_0xe8edcc);if(_0xa8db7d[_0x2869e1(0x86f)]()){const _0x334520=_0xa8db7d['data'](),_0x386045=_0x334520[_0x2869e1(0xd6b)]||[];if(_0x386045[_0x2869e1(0x7c7)]>0x0){const _0x565e25=_0x386045[_0x2869e1(0x8a8)]((_0x4889a3,_0x5357e6)=>{const _0x2fb415=_0x2869e1;if(_0x5357e6[_0x2fb415(0x3e4)]>_0x4889a3[_0x2fb415(0x3e4)])return _0x5357e6;if(_0x5357e6[_0x2fb415(0x3e4)]===_0x4889a3[_0x2fb415(0x3e4)])return(_0x5357e6[_0x2fb415(0x2f6)]||0x0)>(_0x4889a3[_0x2fb415(0x2f6)]||0x0)?_0x5357e6:_0x4889a3;return _0x4889a3;},{'score':-0x1,'points':-0x1});_0x565e25[_0x2869e1(0x3e4)]>-0x1&&(_0x48d0c7+=_0x565e25[_0x2869e1(0x2f6)]||0x0,(_0x565e25[_0x2869e1(0x30d)]||[])['forEach'](_0x3b79eb=>{_0x129597[_0x3b79eb]=(_0x129597[_0x3b79eb]||0x0)+0x1;}));}}if(_0x3e68ba[_0x2869e1(0xb19)]!==_0x2869e1(0xc79)){_0x142c67++;if(_0xa8db7d[_0x2869e1(0x86f)]()){_0x2b0bf1++;const _0x475b29=_0xa8db7d[_0x2869e1(0x3d7)]();_0x475b29[_0x2869e1(0x845)]!==_0x475b29['totalQuestions']&&(_0x357f3c=![]);}else _0x357f3c=![];}}_0x142c67>0x0&&_0x2b0bf1===_0x142c67&&_0x357f3c?_0x129597['specialist']=0x1:_0x129597[_0x2869e1(0x657)]=0x0,_0x6144c4[_0x2869e1(0x3d8)](_0x1430bc,{'studentName':_0x562823,'totalPoints':_0x48d0c7,'unlockedBadges':Object[_0x2869e1(0x65c)](_0x129597)[_0x2869e1(0x4da)](_0x3e54b0=>_0x129597[_0x3e54b0]>0x0),'badgesCount':_0x129597},{'merge':!![]});});}catch(_0x1fc2c6){console['error'](_0x52f268(0x8b9),_0x1fc2c6),showMessage(_0x52f268(0xa52));}}function startAdminTest(){const _0x5a732e=_0xa39756;if(!currentQuizData){showMessage(_0x5a732e(0x837));return;}let _0x5cddf0=JSON[_0x5a732e(0x5ed)](JSON[_0x5a732e(0x8ff)](currentQuizData));currentMode=_0x5a732e(0x5bb),currentStudentName=_0x5a732e(0xbc8),adminView[_0x5a732e(0xa57)][_0x5a732e(0x8de)](_0x5a732e(0xcb3)),studentView['classList']['remove'](_0x5a732e(0xcb3)),studentInitialView['classList'][_0x5a732e(0x8de)](_0x5a732e(0xcb3)),studentNameSelectionView[_0x5a732e(0xa57)][_0x5a732e(0x8de)](_0x5a732e(0xcb3)),studentResultArea[_0x5a732e(0xa57)]['add'](_0x5a732e(0xcb3)),studentQuizArea[_0x5a732e(0xa57)][_0x5a732e(0x586)](_0x5a732e(0xcb3)),quizStartTime=new Date(),displayQuizForStudent(_0x5cddf0);}function handleResultDisplay(_0xe2d449,_0x2e34b0,_0x566423,_0x1e7f1f,_0x5e4d96,_0x70e071){const _0x10c268=_0xa39756;if(_0xe2d449===_0x10c268(0x967)){displaySubmissionConfirmation();return;}const _0x431392=currentDisplayedQuiz[_0x10c268(0x486)]?.['passingScore']??Math[_0x10c268(0x997)](_0x70e071/0x2),_0x4d3e1d=currentDisplayedQuiz[_0x10c268(0x486)]?.[_0x10c268(0xa2a)]??![],_0x1ca8ad=currentDisplayedQuiz[_0x10c268(0x486)]?.[_0x10c268(0xdda)]===!![],_0x2ae1bc=_0x2e34b0<_0x431392,_0x20eabe=_0xe2d449===_0x10c268(0x5c9)||_0xe2d449===_0x10c268(0x81c);if(_0x1ca8ad&&_0x2ae1bc&&!_0x20eabe){_0xe2d449===_0x10c268(0xb04)?displayResultsWithAnswers(_0x2e34b0,_0x566423,_0x1e7f1f,_0x5e4d96,_0x70e071,!![]):displayLoopScreen(_0x2e34b0,_0x70e071,_0xe2d449);return;}if(_0x4d3e1d&&_0x2ae1bc){startAdaptiveFlow(_0x5e4d96,_0x2e34b0,_0x70e071);return;}switch(_0xe2d449){case _0x10c268(0xb04):displayResultsWithAnswers(_0x2e34b0,_0x566423,_0x1e7f1f,_0x5e4d96,_0x70e071);break;case _0x10c268(0xb3b):displayResultsScoreOnly(_0x2e34b0,_0x566423,_0x1e7f1f,_0x70e071);break;case'show_pass_fail_only':displayPassFailOnly(_0x2e34b0,_0x70e071);break;case _0x10c268(0x5c9):displayHalfMarkResult(_0x2e34b0,_0x70e071);break;case _0x10c268(0x81c):displayPerfectScoreResult(_0x2e34b0,_0x70e071);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x5a8126){const _0x151792=_0xa39756;studentReadingArea[_0x151792(0x878)]=_0x151792(0x612);const _0xc5996c=_0x151792(0x881)+_0x5a8126+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x151792(0xa77),_0x3dc764={'type':_0x151792(0x444),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x151792(0x2d8),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x151792(0x51e)},'explanation':{'type':_0x151792(0x4d7)}},'required':['questionText',_0x151792(0x9af),_0x151792(0x5fd),_0x151792(0x55d)]},_0x4871d4={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x151792(0x2d8),'items':_0x3dc764}},'required':[_0x151792(0xb19),'questions']};try{const _0x10f234=await callAnalysisApi(_0xc5996c,_0x4871d4);_0x10f234['isRemedial']=!![],studentReadingArea[_0x151792(0xa57)][_0x151792(0x8de)]('hidden');const _0x492d52={...currentDisplayedQuiz[_0x151792(0x486)],'isAdaptive':![],'resultsDisplay':_0x151792(0xb04)};_0x10f234[_0x151792(0x486)]=_0x492d52,displayQuizForStudent(_0x10f234);}catch(_0x8ab866){console[_0x151792(0xd73)](_0x151792(0x9e4),_0x8ab866),showMessage(_0x151792(0x795)),showView(_0x151792(0x79f));}}function displayPassFailOnly(_0x359ac4,_0x17a8d3){const _0x5c0fb4=_0xa39756,_0x2c5093=currentDisplayedQuiz[_0x5c0fb4(0x486)]?.[_0x5c0fb4(0x3df)]??-0x1,_0x1d483a=currentDisplayedQuiz['isRemedial']===!![];let _0x32d55f='',_0x26dac2=![];if(_0x1d483a||_0x2c5093!==-0x1){_0x26dac2=_0x1d483a?_0x359ac4===_0x17a8d3:_0x359ac4>=_0x2c5093;const _0x22af6f=_0x26dac2?_0x5c0fb4(0x6cd):_0x5c0fb4(0xcc8),_0x2cbbce=_0x26dac2?_0x5c0fb4(0x9df):_0x5c0fb4(0x99f);_0x32d55f=_0x5c0fb4(0x751)+_0x22af6f+'\x22>'+_0x2cbbce+_0x5c0fb4(0x8ab);}else _0x32d55f='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x54eb3a=_0x5c0fb4(0xc08)+currentStudentName+_0x5c0fb4(0x5df)+_0x32d55f+_0x5c0fb4(0xcda);studentResultArea[_0x5c0fb4(0x878)]=_0x54eb3a,studentResultArea[_0x5c0fb4(0xa57)][_0x5c0fb4(0x586)]('hidden'),studentQuizArea[_0x5c0fb4(0xa57)]['add'](_0x5c0fb4(0xcb3)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x26dac2});}function cancelAdminTest(){const _0x215b61=_0xa39756;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x215b61(0x223)](_0x215b61(0x76e),handleFullscreenChange),document[_0x215b61(0x223)](_0x215b61(0x2a4),handleVisibilityChange),currentMode=_0x215b61(0x962),studentView[_0x215b61(0xa57)][_0x215b61(0x8de)](_0x215b61(0xcb3)),adminView[_0x215b61(0xa57)][_0x215b61(0x586)]('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x215b61(0xb8b));}function setupResultScreenBackButton(_0x452349){const _0x5596ba=_0xa39756,_0xac659={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x452349};if(_0xac659[_0x5596ba(0xaf4)]){const _0x12d867='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML'](_0x5596ba(0x9ea),_0x12d867),document[_0x5596ba(0x8fb)](_0x5596ba(0x4d9))['addEventListener'](_0x5596ba(0x305),()=>{const _0x23b489=_0x5596ba;studentResultArea['classList']['add'](_0x23b489(0xcb3)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4244be='back-from-results-btn',_0x3ba2f0=currentMode===_0x5596ba(0x5bb),_0x361737=_0x3ba2f0?_0x5596ba(0xb76):_0x5596ba(0xa87);let _0x5676a5='';_0xac659[_0x5596ba(0x343)]&&(_0x5676a5+=_0x5596ba(0x906));let _0x4269bf=_0xac659[_0x5596ba(0x47a)];_0x4269bf===undefined&&(_0x4269bf=_0xac659[_0x5596ba(0x3e4)]<_0xac659[_0x5596ba(0x57e)]);_0x4269bf&&(_0x5676a5+=_0x5596ba(0x4c5));_0x5676a5+=_0x5596ba(0x3d0)+_0x4244be+_0x5596ba(0xaa8)+_0x361737+_0x5596ba(0x455);const _0xed6be8=_0x5596ba(0x3da)+_0x5676a5+_0x5596ba(0x369);studentResultArea[_0x5596ba(0xd92)](_0x5596ba(0x9ea),_0xed6be8),studentResultArea[_0x5596ba(0xa01)]('#view-rankings-btn')?.[_0x5596ba(0xb95)](_0x5596ba(0x305),handleShowStudentRankings);const _0xa123db=studentResultArea[_0x5596ba(0xa01)]('#retake-for-improvement-btn');_0xa123db&&_0xa123db[_0x5596ba(0xb95)](_0x5596ba(0x305),()=>{const _0x1b5c49=_0x5596ba;studentResultArea['classList'][_0x1b5c49(0x8de)](_0x1b5c49(0xcb3)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x5596ba(0x8fb)](_0x4244be)[_0x5596ba(0xb95)]('click',()=>{const _0x589267=_0x5596ba;_0x3ba2f0?(currentMode=_0x589267(0x962),studentView[_0x589267(0xa57)][_0x589267(0x8de)](_0x589267(0xcb3)),adminView[_0x589267(0xa57)][_0x589267(0x586)]('hidden'),showView(_0x589267(0xb8b))):(showView(_0x589267(0x79f)),document['getElementById']('quiz-id-input')[_0x589267(0x3d4)]='');});}function displayResultsWithAnswers(_0x4d195e,_0x3d5a1b,_0x42d333,_0x1a7027,_0x5e7b61,_0x130900=![]){const _0xeb6e59=_0xa39756,_0x48fbf2=_0x5e7b61>0x0?_0x4d195e/_0x5e7b61*0x64:0x0,_0x5f5473=currentDisplayedQuiz[_0xeb6e59(0x486)]?.['passingScore']??-0x1,_0x165054=currentDisplayedQuiz[_0xeb6e59(0x76f)]===!![];let _0xa92258='';if(_0x165054||_0x5f5473!==-0x1){let _0x3781e4=_0x165054?_0x4d195e===_0x5e7b61:_0x4d195e>=_0x5f5473;const _0x4657c1=_0x3781e4?_0xeb6e59(0x6cd):_0xeb6e59(0xcc8),_0x525be2=_0x3781e4?_0xeb6e59(0x9df):'ไม่ผ่าน';_0xa92258='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x4657c1+'\x22>'+_0x525be2+'</p>';}let _0x5da418='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0xeb6e59(0x7b3)+_0x4d195e+_0xeb6e59(0x576)+_0x5e7b61+_0xeb6e59(0x92a)+_0xa92258+_0xeb6e59(0x808)+_0x3d5a1b+_0xeb6e59(0xbb3)+_0x48fbf2[_0xeb6e59(0xb98)](0x0)+_0xeb6e59(0x239);currentDisplayedQuiz[_0xeb6e59(0x4a2)][_0xeb6e59(0x71e)]((_0x535d3b,_0x57df25)=>{const _0x192e96=_0xeb6e59,_0x3eaaba=_0x1a7027[_0x57df25],_0x5ecbb5=_0x3eaaba['answer'],_0xde729e=_0x3eaaba['isCorrect'],_0x203436=_0x535d3b[_0x192e96(0x672)]||currentDisplayedQuiz[_0x192e96(0x28e)];_0x5da418+=_0x192e96(0x281)+(_0xde729e?'border-green-300\x20bg-green-50':_0x192e96(0x53b))+_0x192e96(0x87a)+(_0x57df25+0x1)+'.\x20'+(_0x535d3b[_0x192e96(0x722)]||_0x535d3b[_0x192e96(0xcd1)])+_0x192e96(0xa12);switch(_0x203436){case _0x192e96(0xbd6):const _0x5105c9=_0x5ecbb5||'ไม่ได้ตอบ',_0x1b23dd=_0x535d3b[_0x192e96(0x8e8)];_0x5da418+=_0x192e96(0x686)+(!_0xde729e?_0x192e96(0x7b0):'')+'\x22>'+_0x5105c9+_0x192e96(0x57b);!_0xde729e&&(_0x5da418+=_0x192e96(0x23a)+_0x1b23dd+_0x192e96(0xc74));break;case _0x192e96(0x880):_0x5da418+=_0x192e96(0xd4e)+(_0x5ecbb5||_0x192e96(0x47e))+_0x192e96(0xc74),_0x5da418+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x535d3b[_0x192e96(0x5c6)]+_0x192e96(0xc74);break;case'true_false':_0x5da418+=_0x192e96(0xc55)+(_0x535d3b[_0x192e96(0xdae)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x5ecbb5===_0x192e96(0x9b7)&&!_0xde729e?_0x192e96(0x7b0):'')+'\x22>ใช่</p>',_0x5da418+=_0x192e96(0xc55)+(_0x535d3b['correctAnswer']===![]?_0x192e96(0x356):'')+'\x20'+(_0x5ecbb5==='false'&&!_0xde729e?_0x192e96(0x7b0):'')+_0x192e96(0x471);break;default:_0x5da418+=_0x535d3b[_0x192e96(0x9af)][_0x192e96(0x218)]((_0x270136,_0x3c8edf)=>{const _0x386088=_0x192e96;let _0x301bff='',_0x3a4649='';if(_0x3c8edf===_0x535d3b[_0x386088(0x5fd)])_0x301bff=_0x386088(0x356),_0x3a4649=_0x386088(0x374);else _0x3c8edf===_0x5ecbb5&&(_0x301bff=_0x386088(0x535),_0x3a4649='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x386088(0xde1)+_0x301bff+'\x22>'+_0x3a4649+_0x270136+'</div>';})['join']('');break;}_0x5da418+=_0x192e96(0x858)+(_0x535d3b['explanation']||_0x192e96(0x5dc))+_0x192e96(0x369);if(!_0xde729e){const _0x3728e1=_0x535d3b[_0x192e96(0x722)]||_0x535d3b[_0x192e96(0xcd1)];_0x5da418+=_0x192e96(0x277)+escape(_0x3728e1)+_0x192e96(0x425);}_0x5da418+=_0x192e96(0x369);}),studentResultArea[_0xeb6e59(0x878)]=_0x5da418,renderEarnedBadges(_0x42d333,'earned-badges-container'),studentResultArea[_0xeb6e59(0xa57)]['remove'](_0xeb6e59(0xcb3)),studentQuizArea[_0xeb6e59(0xa57)][_0xeb6e59(0x8de)](_0xeb6e59(0xcb3)),setupResultScreenBackButton({'isLooping':_0x130900,'score':_0x4d195e,'totalQuestions':_0x5e7b61,'showRankings':!![]});if(window[_0xeb6e59(0xb54)])window[_0xeb6e59(0xb54)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x8bde63,_0x528f50,_0x3839fa,_0x497dac){const _0x5d12da=_0xa39756,_0x2fd1f9=_0x497dac>0x0?_0x8bde63/_0x497dac*0x64:0x0,_0x597c58=currentDisplayedQuiz['settings']?.[_0x5d12da(0x3df)]??-0x1,_0x425a53=currentDisplayedQuiz[_0x5d12da(0x76f)]===!![];let _0x37e5a0='';if(_0x425a53||_0x597c58!==-0x1){let _0x4139a2=_0x425a53?_0x8bde63===_0x497dac:_0x8bde63>=_0x597c58;const _0x57b796=_0x4139a2?'bg-green-100\x20text-green-800':_0x5d12da(0xcc8),_0x465d6c=_0x4139a2?'ผ่าน':'ไม่ผ่าน';_0x37e5a0=_0x5d12da(0x20f)+_0x57b796+'\x22>'+_0x465d6c+_0x5d12da(0xc74);}let _0x420a79=_0x5d12da(0xc08)+currentStudentName+_0x5d12da(0x6ac)+_0x8bde63+_0x5d12da(0xc32)+_0x497dac+_0x5d12da(0x92a)+_0x37e5a0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x528f50+_0x5d12da(0x6d2)+_0x2fd1f9['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x5d12da(0x878)]=_0x420a79,renderEarnedBadges(_0x3839fa,_0x5d12da(0x76b)),studentResultArea[_0x5d12da(0xa57)][_0x5d12da(0x586)](_0x5d12da(0xcb3)),studentQuizArea['classList']['add'](_0x5d12da(0xcb3)),setupResultScreenBackButton({'score':_0x8bde63,'totalQuestions':_0x497dac,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0xe864e3=_0xa39756;let _0x287170='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x287170,studentResultArea[_0xe864e3(0xa57)][_0xe864e3(0x586)]('hidden'),studentQuizArea[_0xe864e3(0xa57)]['add'](_0xe864e3(0xcb3)),document[_0xe864e3(0x8fb)]('back-to-home-manual-release')[_0xe864e3(0xb95)]('click',()=>{const _0x360772=_0xe864e3;showView('student'),document[_0x360772(0x8fb)]('quiz-id-input')[_0x360772(0x3d4)]='';});}function renderEarnedBadges(_0x18bc3a,_0x11a857){const _0xee9e33=_0xa39756,_0x4e8007=document['getElementById'](_0x11a857);if(!_0x4e8007||!_0x18bc3a||_0x18bc3a['length']===0x0)return;let _0x355b71='';_0x18bc3a[_0xee9e33(0x71e)]((_0x3a5efc,_0x18abf7)=>{const _0x4d6dfe=_0xee9e33,_0x1a79d0=Object['values'](BADGES)[_0x4d6dfe(0xaf7)](_0x13ed20=>_0x13ed20['id']===_0x3a5efc);_0x1a79d0&&(_0x355b71+=_0x4d6dfe(0x58d)+_0x18abf7*0.2+_0x4d6dfe(0x726)+_0x1a79d0[_0x4d6dfe(0x5eb)]+_0x4d6dfe(0xb3c)+_0x1a79d0[_0x4d6dfe(0x7dc)]+_0x4d6dfe(0x2cc)+_0x1a79d0[_0x4d6dfe(0x4ee)]+_0x4d6dfe(0x791));}),_0x4e8007['innerHTML']=_0x355b71;}function startPresentation(_0x2bb7b3){const _0x307ee4=_0xa39756;currentQuizData=getShuffledQuiz(_0x2bb7b3),currentPresentationSlide=0x0,presentationModal['style']['display']=_0x307ee4(0x97e),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x1a1ee3=_0xa39756;document[_0x1a1ee3(0x29c)]&&document[_0x1a1ee3(0x6ab)](),presentationModal[_0x1a1ee3(0x4b4)][_0x1a1ee3(0x8fc)]=_0x1a1ee3(0x6dd);}function renderPresentationSlide(_0x4eb94b){const _0x456e27=_0xa39756,_0x1ed65e=document['getElementById'](_0x456e27(0x5d2));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x456e27(0x4a2)][_0x4eb94b]){_0x1ed65e[_0x456e27(0x878)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x18d9b1=currentQuizData[_0x456e27(0x4a2)][_0x4eb94b],_0x323d1f=_0x18d9b1[_0x456e27(0x672)]||currentQuizData['quizType'];_0x1ed65e[_0x456e27(0x878)]='';let _0x28bc71=_0x456e27(0xc9d)+(_0x18d9b1['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x18d9b1[_0x456e27(0xd93)]+_0x456e27(0x369):'')+_0x456e27(0x7d9)+(_0x4eb94b+0x1)+'.\x20'+(_0x18d9b1[_0x456e27(0x722)]||_0x18d9b1['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x323d1f){case'matching_item':_0x28bc71+=_0x18d9b1[_0x456e27(0x23b)][_0x456e27(0x218)](_0x5928cb=>_0x456e27(0x799)+_0x5928cb+_0x456e27(0x325))[_0x456e27(0xb7d)]('');break;case _0x456e27(0xc4d):_0x28bc71+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x28bc71+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x456e27(0xbac):case'short_answer':_0x28bc71+=_0x456e27(0xaf8);break;case _0x456e27(0xc69):case'multiple_choice':default:_0x28bc71+=_0x18d9b1[_0x456e27(0x9af)][_0x456e27(0x218)]((_0x589db8,_0x477172)=>_0x456e27(0x8bd)+_0x477172+_0x456e27(0xa75)+_0x589db8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x456e27(0xb7d)]('');break;}_0x28bc71+=_0x456e27(0xd2e)+(_0x18d9b1['explanation']||_0x456e27(0x5dc))+_0x456e27(0x673),_0x1ed65e['innerHTML']=_0x28bc71;if(window['MathJax'])window['MathJax']['typesetPromise']([_0x1ed65e]);let _0x3adeef=[];switch(_0x323d1f){case'matching_item':_0x3adeef=_0x18d9b1[_0x456e27(0x23b)]||[];break;case'true_false':_0x3adeef=['ใช่','ไม่ใช่'];break;default:_0x3adeef=_0x18d9b1[_0x456e27(0x9af)]||[];break;}const _0x5003b5=document['getElementById'](_0x456e27(0x8f0));_0x5003b5&&(_0x5003b5['onclick']=()=>{openScratchpad(_0x18d9b1,_0x3adeef);});document[_0x456e27(0x6aa)](_0x456e27(0x76d))[_0x456e27(0x71e)](_0x41fcfc=>{const _0x327f00=_0x456e27;_0x41fcfc[_0x327f00(0xb95)](_0x327f00(0x305),_0x337fc7=>revealAnswerForPresentation(_0x4eb94b,_0x337fc7['currentTarget']));});const _0x131299=document[_0x456e27(0x8fb)](_0x456e27(0xc86));_0x131299&&_0x131299[_0x456e27(0xb95)](_0x456e27(0x305),()=>checkShortAnswerForPresentation(_0x4eb94b)),document[_0x456e27(0x8fb)](_0x456e27(0xa0e))['textContent']=_0x456e27(0x284)+(_0x4eb94b+0x1)+'\x20/\x20'+currentQuizData['questions'][_0x456e27(0x7c7)],document[_0x456e27(0x8fb)]('prev-question-btn')[_0x456e27(0xc96)]=_0x4eb94b===0x0,document[_0x456e27(0x8fb)](_0x456e27(0x7c0))[_0x456e27(0xc96)]=_0x4eb94b===currentQuizData['questions'][_0x456e27(0x7c7)]-0x1;}async function checkShortAnswerForPresentation(_0x2ad998){const _0x30b84d=_0xa39756,_0x4b4b84=currentQuizData['questions'][_0x2ad998],_0x100f6d=document[_0x30b84d(0x8fb)](_0x30b84d(0x3eb)),_0x43d750=document[_0x30b84d(0x8fb)](_0x30b84d(0xc86)),_0x532e10=document[_0x30b84d(0x8fb)](_0x30b84d(0x784)),_0x342e96=document[_0x30b84d(0x8fb)](_0x30b84d(0x885));if(!_0x100f6d||!_0x43d750||!_0x532e10||!_0x342e96)return;const _0x3838f6=_0x100f6d[_0x30b84d(0x3d4)][_0x30b84d(0x6a8)]();if(_0x3838f6==='')return;_0x43d750[_0x30b84d(0xc96)]=!![],_0x43d750[_0x30b84d(0x878)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x100f6d[_0x30b84d(0xc96)]=!![];const _0x3648f5=await gradeShortAnswer(_0x3838f6,_0x4b4b84);_0x3648f5?_0x532e10['innerHTML']=_0x30b84d(0xba6):_0x532e10[_0x30b84d(0x878)]=_0x30b84d(0xa4b)+_0x4b4b84[_0x30b84d(0x5c6)]+')',_0x532e10['classList'][_0x30b84d(0x586)](_0x30b84d(0xcb3)),_0x342e96[_0x30b84d(0xa57)]['remove'](_0x30b84d(0xcb3)),_0x43d750[_0x30b84d(0xa57)][_0x30b84d(0x8de)]('hidden');}function revealAnswerForPresentation(_0x11fca1,_0x587926){const _0x4f9a4b=_0xa39756,_0x3710be=currentQuizData[_0x4f9a4b(0x4a2)][_0x11fca1],_0x1c6921=_0x3710be[_0x4f9a4b(0x672)]||currentQuizData[_0x4f9a4b(0x28e)];document['querySelectorAll'](_0x4f9a4b(0x76d))[_0x4f9a4b(0x71e)](_0x376e47=>{const _0x31c025=_0x4f9a4b;_0x376e47[_0x31c025(0xc96)]=!![],_0x376e47['classList']['remove']('hover:bg-indigo-100');let _0x3a2b19=![];if(_0x1c6921===_0x31c025(0x525)||_0x1c6921===_0x31c025(0xc69)){const _0xb88fbe=parseInt(_0x376e47[_0x31c025(0x87f)][_0x31c025(0x589)]);_0x3a2b19=_0xb88fbe===_0x3710be[_0x31c025(0x5fd)];}else{if(_0x1c6921==='true_false'){const _0x43e10e=_0x376e47[_0x31c025(0x87f)][_0x31c025(0x494)]===_0x31c025(0x9b7);_0x3a2b19=_0x43e10e===_0x3710be['correctAnswer'];}else _0x1c6921===_0x31c025(0xbd6)&&(_0x3a2b19=_0x376e47[_0x31c025(0xa47)][_0x31c025(0x6a8)]()===_0x3710be[_0x31c025(0x8e8)]);}_0x3a2b19?_0x376e47[_0x31c025(0xa57)][_0x31c025(0x8de)](_0x31c025(0xd40),'text-white',_0x31c025(0xd31)):_0x376e47[_0x31c025(0xa57)][_0x31c025(0x8de)](_0x31c025(0xc6c));}),_0x587926[_0x4f9a4b(0xa57)][_0x4f9a4b(0x586)](_0x4f9a4b(0xc6c));let _0x9dcca8=![];if(_0x1c6921===_0x4f9a4b(0x525))_0x9dcca8=parseInt(_0x587926[_0x4f9a4b(0x87f)][_0x4f9a4b(0x589)])===_0x3710be[_0x4f9a4b(0x5fd)];else{if(_0x1c6921===_0x4f9a4b(0xc4d))_0x9dcca8=_0x587926[_0x4f9a4b(0x87f)][_0x4f9a4b(0x494)]===_0x4f9a4b(0x9b7)===_0x3710be['correctAnswer'];else _0x1c6921==='matching_item'&&(_0x9dcca8=_0x587926['textContent'][_0x4f9a4b(0x6a8)]()===_0x3710be['correctResponse']);}!_0x9dcca8&&_0x587926[_0x4f9a4b(0xa57)][_0x4f9a4b(0x8de)](_0x4f9a4b(0xb15),_0x4f9a4b(0x315),'border-red-700'),document['getElementById'](_0x4f9a4b(0x885))['classList'][_0x4f9a4b(0x586)]('hidden');}function startWholeQuizTimer(_0x3c33ae){const _0x56e42c=_0xa39756,_0x135c8e=document[_0x56e42c(0x8fb)](_0x56e42c(0x6ca));if(!_0x135c8e)return;const _0x2f097a=Date['now']()+_0x3c33ae*0x3c*0x3e8;_0x135c8e['innerHTML']=_0x56e42c(0x3fa);const _0x51da77=document[_0x56e42c(0x8fb)](_0x56e42c(0x41e));quizTimerInterval=setInterval(()=>{const _0x294bac=_0x56e42c,_0x24fe1e=_0x2f097a-Date[_0x294bac(0xcad)]();if(_0x24fe1e<=0x0)clearInterval(quizTimerInterval),_0x51da77[_0x294bac(0xa47)]=_0x294bac(0xc34),showMessage(_0x294bac(0xb8c)),handleSubmitQuiz(null);else{const _0x5cbb54=Math[_0x294bac(0x997)](_0x24fe1e/0x3e8/0x3c%0x3c)[_0x294bac(0x2e7)]()['padStart'](0x2,'0'),_0x2dc6d3=Math[_0x294bac(0x997)](_0x24fe1e/0x3e8%0x3c)[_0x294bac(0x2e7)]()['padStart'](0x2,'0');_0x51da77[_0x294bac(0xa47)]=_0x5cbb54+':'+_0x2dc6d3;}},0x3e8);}function renderPerQuestionView(){const _0x27665f=_0xa39756;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x4f6c43=currentDisplayedQuiz[_0x27665f(0x4a2)][currentQuestionIndex],_0x205137=_0x4f6c43[_0x27665f(0x672)]||currentDisplayedQuiz[_0x27665f(0x28e)],_0x3853bb=currentDisplayedQuiz[_0x27665f(0x486)]?.[_0x27665f(0xb61)]===!![];let _0x3cde2f=_0x27665f(0xa35)+(currentQuestionIndex+0x1)+_0x27665f(0x9fd)+currentDisplayedQuiz[_0x27665f(0x4a2)][_0x27665f(0x7c7)]+_0x27665f(0x9c9)+(currentMode===_0x27665f(0x5bb)?_0x27665f(0x21f):'')+_0x27665f(0x598)+currentDisplayedQuiz[_0x27665f(0xb19)]+_0x27665f(0x341);studentQuizArea[_0x27665f(0x878)]=_0x3cde2f;let _0x169d53=_0x4f6c43[_0x27665f(0x722)]||_0x4f6c43[_0x27665f(0xcd1)];_0x4f6c43[_0x27665f(0xd93)]&&(_0x169d53+=_0x27665f(0x58b)+_0x4f6c43[_0x27665f(0xd93)]+_0x27665f(0x369));let _0x261fd4='';switch(_0x205137){case _0x27665f(0x880):case'fill_in_no_choices':_0x261fd4=_0x27665f(0x1fd);break;case _0x27665f(0xc4d):_0x261fd4='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case'matching_item':_0x261fd4=_0x27665f(0x794)+(_0x4f6c43[_0x27665f(0x23b)]||[])[_0x27665f(0x218)](_0x36737e=>_0x27665f(0xbb2)+_0x36737e+'\x22>'+_0x36737e+_0x27665f(0x3de))[_0x27665f(0xb7d)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x4f6c43[_0x27665f(0x9af)]&&(_0x261fd4=_0x4f6c43['options'][_0x27665f(0x218)]((_0x203deb,_0x428469)=>_0x27665f(0x7ac)+_0x428469+_0x27665f(0xb52)+_0x428469+_0x27665f(0x749)+_0x428469+'\x22>'+_0x203deb+_0x27665f(0x66d))[_0x27665f(0xb7d)](''));break;}document[_0x27665f(0x8fb)](_0x27665f(0x366))[_0x27665f(0x878)]=_0x169d53,document['getElementById']('per-question-options')[_0x27665f(0x878)]=_0x261fd4;const _0x48af67=currentDisplayedQuiz[_0x27665f(0x486)]?.[_0x27665f(0xb61)]===!![],_0x505eab=currentDisplayedQuiz[_0x27665f(0x486)]?.[_0x27665f(0x451)]||_0x27665f(0x23c);if(_0x48af67&&_0x505eab===_0x27665f(0x23c)){const _0x470d3c=_0x27665f(0x473);studentQuizArea[_0x27665f(0xa01)](_0x27665f(0x96d))[_0x27665f(0xd92)](_0x27665f(0x9ea),_0x470d3c);}studentQuizArea[_0x27665f(0xd92)](_0x27665f(0x9ea),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x27665f(0x4a2)]['length']-0x1?'ส่งคำตอบ':'คำถามถัดไป')+_0x27665f(0x8da));currentMode===_0x27665f(0x5bb)&&document['getElementById']('cancel-test-btn')?.[_0x27665f(0xb95)](_0x27665f(0x305),cancelAdminTest);document[_0x27665f(0x8fb)](_0x27665f(0xa26))[_0x27665f(0xb95)](_0x27665f(0x305),()=>handleNextQuestionInTimedMode(![]));if(window[_0x27665f(0xb54)])window[_0x27665f(0xb54)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x27665f(0x486)]?.[_0x27665f(0x8fd)]===_0x27665f(0x89b)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x1116ad=_0xa39756,_0x11d717=currentDisplayedQuiz['settings'][_0x1116ad(0x728)],_0x3d92f3=document[_0x1116ad(0x8fb)](_0x1116ad(0x461));if(!_0x3d92f3)return;let _0x3ad179=_0x11d717;_0x3d92f3['innerHTML']=_0x1116ad(0x623)+_0x3ad179+_0x1116ad(0x38e);const _0x2700bd=document['getElementById'](_0x1116ad(0x8ad)),_0x42cd05=document[_0x1116ad(0x8fb)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x431b13=_0x1116ad;_0x3ad179--;const _0x56bbc2=_0x3ad179/_0x11d717*0x64;_0x2700bd['style'][_0x431b13(0xa67)]=_0x56bbc2+'%',_0x42cd05[_0x431b13(0xa47)]=_0x3ad179,_0x3ad179<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x431b13(0x646)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x17a974=![]){const _0x4d0017=_0xa39756;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x10fca5=null,_0x162eed=![];if(!_0x17a974){const _0x40cce3=currentDisplayedQuiz[_0x4d0017(0x4a2)][currentQuestionIndex],_0x51a6eb=_0x40cce3[_0x4d0017(0x672)]||currentDisplayedQuiz[_0x4d0017(0x28e)];if(_0x51a6eb==='short_answer'||_0x51a6eb===_0x4d0017(0xbac))_0x10fca5=document[_0x4d0017(0xa01)](_0x4d0017(0x7ee))?.[_0x4d0017(0x3d4)][_0x4d0017(0x6a8)]()??'';else{if(_0x51a6eb===_0x4d0017(0xbd6))_0x10fca5=document[_0x4d0017(0xa01)](_0x4d0017(0xdf6))?.[_0x4d0017(0x3d4)]??'';else{const _0x2e3040=document[_0x4d0017(0xa01)](_0x4d0017(0xac9));_0x2e3040&&(_0x10fca5=_0x2e3040['value']);}}if(_0x10fca5===null||_0x10fca5===''){showMessage(_0x4d0017(0x24a)),startPerQuestionTimer();return;}const _0x1e4f13=currentDisplayedQuiz[_0x4d0017(0x486)]?.[_0x4d0017(0xb61)]===!![],_0x5d0799=currentDisplayedQuiz[_0x4d0017(0x486)]?.[_0x4d0017(0x451)]||_0x4d0017(0x23c);if(_0x1e4f13&&_0x5d0799===_0x4d0017(0xac5)){document['getElementById'](_0x4d0017(0x8a6))[_0x4d0017(0x87f)][_0x4d0017(0x3d5)]='timed',document[_0x4d0017(0x8fb)](_0x4d0017(0x5d0))[_0x4d0017(0x3d4)]=_0x10fca5,document[_0x4d0017(0x8fb)](_0x4d0017(0x8a6))[_0x4d0017(0xa57)][_0x4d0017(0x586)]('hidden');return;}const _0x4815dd=document['getElementById'](_0x4d0017(0x939));_0x4815dd&&(_0x162eed=_0x4815dd[_0x4d0017(0x588)]);}const _0x62f6a8={'answer':_0x10fca5,'wasConfident':_0x162eed};proceedToNextQuestion(_0x62f6a8);}function _0x395e(_0x6115f2,_0x285227){const _0x452368=_0x4523();return _0x395e=function(_0x395ed6,_0x3fc1df){_0x395ed6=_0x395ed6-0x1ee;let _0x315ff8=_0x452368[_0x395ed6];return _0x315ff8;},_0x395e(_0x6115f2,_0x285227);}async function finalizePerQuestionQuiz(){const _0x39bff8=_0xa39756,_0x48ecbf=currentDisplayedQuiz[_0x39bff8(0x4a2)][_0x39bff8(0x44a)](_0x51030d=>_0x51030d[_0x39bff8(0x672)]===_0x39bff8(0x880));_0x48ecbf?showMessage(_0x39bff8(0xb45)):showMessage(_0x39bff8(0x70d));const _0x275fd4=currentQuizData['id'],_0x4191f1=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x275fd4+_0x39bff8(0x26d),currentStudentName),_0x1a6416=await getDoc(_0x4191f1),_0x30d37b=_0x1a6416[_0x39bff8(0x86f)]()?_0x1a6416[_0x39bff8(0x3d7)]():{},_0x2d4d45=_0x30d37b['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2d4d45);}function getResultsFilename(){const _0xe2399b=_0xa39756,_0x1a7bd9=document[_0xe2399b(0x8fb)]('results-quiz-title')[_0xe2399b(0xa47)]['replace'](/[^a-z0-9]/gi,'_')[_0xe2399b(0xb4d)]();return _0xe2399b(0xd61)+(_0x1a7bd9||_0xe2399b(0x7ca));}function exportResultsAsImage(){const _0x4b409d=_0xa39756,_0xc2cb8b=document[_0x4b409d(0x8fb)]('results-table-container');showMessage(_0x4b409d(0x43a)),html2canvas(_0xc2cb8b)[_0x4b409d(0x2aa)](_0x21ef86=>{const _0x216ffc=_0x4b409d,_0x18d32d=document[_0x216ffc(0x80c)]('a');_0x18d32d[_0x216ffc(0x488)]=getResultsFilename()+_0x216ffc(0x9e6),_0x18d32d['href']=_0x21ef86['toDataURL'](_0x216ffc(0x758)),_0x18d32d['click'](),messageModal[_0x216ffc(0xa57)][_0x216ffc(0x8de)](_0x216ffc(0xcb3));});}function exportResultsAsPDF(){const _0x514d23=_0xa39756,{jsPDF:_0x29a686}=window[_0x514d23(0x6e2)],_0x1528e0=new _0x29a686();_0x1528e0[_0x514d23(0xbae)](_0x514d23(0x7cf),_0x514d23(0x961)),_0x1528e0[_0x514d23(0x2e8)]({'html':'#results-table'}),_0x1528e0[_0x514d23(0x63c)](getResultsFilename()+_0x514d23(0x5b2));}function exportResultsAsWord(){const _0x3da224=_0xa39756,_0x8222ca=_0x3da224(0x3ba)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x3da224(0xcac)+_0x3da224(0xc36),_0x179d72=_0x3da224(0xbd3),_0x2be9ac=_0x8222ca+document[_0x3da224(0x8fb)](_0x3da224(0x30f))[_0x3da224(0x878)]+_0x179d72,_0x457eb1=_0x3da224(0xce3)+encodeURIComponent(_0x2be9ac),_0x5ab07e=document[_0x3da224(0x80c)]('a');document['body'][_0x3da224(0x7d1)](_0x5ab07e),_0x5ab07e['href']=_0x457eb1,_0x5ab07e[_0x3da224(0x488)]=getResultsFilename()+'.doc',_0x5ab07e[_0x3da224(0x305)](),document[_0x3da224(0x587)][_0x3da224(0x207)](_0x5ab07e);}function exportResultsAsExcel(){const _0x4bbb2=_0xa39756,_0x4858bc=document[_0x4bbb2(0x8fb)]('results-table');let _0x5bd148=[];for(let _0x1c28b0=0x0;_0x1c28b0<_0x4858bc[_0x4bbb2(0x716)][_0x4bbb2(0x7c7)];_0x1c28b0++){let _0x4a3851=[],_0x3075f5=_0x4858bc[_0x4bbb2(0x716)][_0x1c28b0][_0x4bbb2(0x6aa)]('td,\x20th');for(let _0x5d3f49=0x0;_0x5d3f49<_0x3075f5['length'];_0x5d3f49++){_0x4a3851['push']('\x22'+_0x3075f5[_0x5d3f49][_0x4bbb2(0xc7f)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x5bd148[_0x4bbb2(0xbdd)](_0x4a3851[_0x4bbb2(0xb7d)](','));}const _0xac4e9c=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5bd148['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0xb0af09=document[_0x4bbb2(0x80c)]('a');_0xb0af09[_0x4bbb2(0x4cb)]=URL[_0x4bbb2(0xcd6)](_0xac4e9c),_0xb0af09[_0x4bbb2(0x488)]=getResultsFilename()+'.csv',_0xb0af09['click']();}function exportTableAsImage(_0x5dcb5c,_0x5712a9){const _0x260def=_0xa39756,_0x40e605=document[_0x260def(0x8fb)](_0x5dcb5c);if(!_0x40e605){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x260def(0x43a)),html2canvas(_0x40e605)['then'](_0x34bcf0=>{const _0x53e9b4=_0x260def,_0x2b355d=document[_0x53e9b4(0x80c)]('a');_0x2b355d['download']=_0x5712a9+'.png',_0x2b355d[_0x53e9b4(0x4cb)]=_0x34bcf0['toDataURL'](_0x53e9b4(0x758)),_0x2b355d[_0x53e9b4(0x305)](),messageModal[_0x53e9b4(0xa57)]['add'](_0x53e9b4(0xcb3));});}function exportTableAsPDF(_0x2aacc9,_0x4c5074){const _0x33f086=_0xa39756,{jsPDF:_0x472f7f}=window[_0x33f086(0x6e2)],_0xd484ed=new _0x472f7f();_0xd484ed[_0x33f086(0xbae)](_0x33f086(0x7cf),_0x33f086(0x961)),_0xd484ed[_0x33f086(0x2e8)]({'html':'#'+_0x2aacc9}),_0xd484ed[_0x33f086(0x63c)](_0x4c5074+_0x33f086(0x5b2));}function exportTableAsWord(_0x83ee2d,_0x16aa9c){const _0xb70fa3=_0xa39756,_0x145c2d=document[_0xb70fa3(0x8fb)](_0x83ee2d);if(!_0x145c2d){showMessage(_0xb70fa3(0xa44));return;}const _0x92cff9=_0xb70fa3(0x3ba)+_0xb70fa3(0x95b)+_0xb70fa3(0xcac)+_0xb70fa3(0xc36),_0x352a0f='</body></html>',_0xe4a12e=_0x92cff9+_0x145c2d[_0xb70fa3(0x878)]+_0x352a0f,_0x2503a0=_0xb70fa3(0xce3)+encodeURIComponent(_0xe4a12e),_0x9c155e=document[_0xb70fa3(0x80c)]('a');document[_0xb70fa3(0x587)][_0xb70fa3(0x7d1)](_0x9c155e),_0x9c155e[_0xb70fa3(0x4cb)]=_0x2503a0,_0x9c155e['download']=_0x16aa9c+_0xb70fa3(0x7e3),_0x9c155e[_0xb70fa3(0x305)](),document['body'][_0xb70fa3(0x207)](_0x9c155e);}function exportTableAsExcel(_0x51b875,_0x140d05){const _0x3482d3=_0xa39756,_0x3209bd=document[_0x3482d3(0x8fb)](_0x51b875);if(!_0x3209bd){showMessage(_0x3482d3(0xa44));return;}let _0x232f35=[];for(let _0x410ee2=0x0;_0x410ee2<_0x3209bd[_0x3482d3(0x716)][_0x3482d3(0x7c7)];_0x410ee2++){let _0x50452b=[],_0x226848=_0x3209bd['rows'][_0x410ee2]['querySelectorAll'](_0x3482d3(0x506));for(let _0x5dabb4=0x0;_0x5dabb4<_0x226848[_0x3482d3(0x7c7)];_0x5dabb4++){_0x50452b[_0x3482d3(0xbdd)]('\x22'+_0x226848[_0x5dabb4][_0x3482d3(0xc7f)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x232f35[_0x3482d3(0xbdd)](_0x50452b['join'](','));}const _0x24f5e4=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x232f35['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x2fb3b1=document[_0x3482d3(0x80c)]('a');_0x2fb3b1[_0x3482d3(0x4cb)]=URL[_0x3482d3(0xcd6)](_0x24f5e4),_0x2fb3b1[_0x3482d3(0x488)]=_0x140d05+_0x3482d3(0x45b),_0x2fb3b1['click']();}function renderAnalytics(_0x219d4b,_0x511b13){const _0x2e464b=_0xa39756,_0x1dc69c=_0x511b13[_0x2e464b(0x4da)](_0x425e23=>_0x425e23[_0x2e464b(0xd0e)]!==undefined),_0x12d6ad=currentProjectData['students']['length'],_0x4391fd=_0x1dc69c[_0x2e464b(0x7c7)],_0x2230ab=_0x12d6ad-_0x4391fd,_0x1300bc=_0x12d6ad>0x0?_0x4391fd/_0x12d6ad*0x64:0x0,_0x14d999=_0x1dc69c[_0x2e464b(0x218)](_0xb80312=>_0xb80312[_0x2e464b(0xd0e)]),_0x20d48f=_0x14d999[_0x2e464b(0x7c7)]>0x0?_0x14d999[_0x2e464b(0x8a8)]((_0x5a5fd,_0x70871b)=>_0x5a5fd+_0x70871b,0x0)/_0x14d999[_0x2e464b(0x7c7)]:0x0,_0x1ed983=_0x219d4b['questions'][_0x2e464b(0x7c7)],_0x37ab40=_0x1ed983>0x0?_0x20d48f/_0x1ed983*0x64:0x0,_0x1427ac=calculateItemAnalysis(_0x219d4b,_0x1dc69c),_0x4abb3f=calculateReliabilityKR20(_0x219d4b,_0x1dc69c,_0x1427ac[_0x2e464b(0x1fb)]);let _0x12a163='';if(_0x4abb3f!==null){let _0x1e5815='';if(_0x4abb3f>=0.9)_0x1e5815=_0x2e464b(0xb63);else{if(_0x4abb3f>=0.8)_0x1e5815=_0x2e464b(0x914);else{if(_0x4abb3f>=0.7)_0x1e5815='ดี';else{if(_0x4abb3f>=0.6)_0x1e5815='พอใช้';else _0x1e5815=_0x2e464b(0xcd2);}}}_0x12a163=_0x2e464b(0x6ba)+_0x4abb3f[_0x2e464b(0xb98)](0x2)+_0x2e464b(0xdaa)+_0x1e5815+_0x2e464b(0xa3d);}const _0x8a97e4=document[_0x2e464b(0x8fb)](_0x2e464b(0xb3f));_0x8a97e4[_0x2e464b(0x878)]=_0x2e464b(0xa91)+_0x1300bc[_0x2e464b(0xb98)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x4391fd+'/'+_0x12d6ad+_0x2e464b(0xcde)+_0x20d48f['toFixed'](0x2)+_0x2e464b(0xd44)+_0x37ab40[_0x2e464b(0xb98)](0x0)+_0x2e464b(0xa5d)+(_0x14d999[_0x2e464b(0x7c7)]>0x0?Math['max'](..._0x14d999):_0x2e464b(0xa5b))+_0x2e464b(0xc2f)+(_0x14d999[_0x2e464b(0x7c7)]>0x0?Math[_0x2e464b(0x334)](..._0x14d999):_0x2e464b(0xa5b))+_0x2e464b(0x7dd)+_0x12a163+_0x2e464b(0xa77);const _0x26bc2f=document['getElementById'](_0x2e464b(0xd83));_0x26bc2f&&_0x26bc2f['remove']();const _0x497dbd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x8a97e4[_0x2e464b(0xd92)](_0x2e464b(0xcdb),_0x497dbd);const _0x37ff3b=currentProjectData[_0x2e464b(0xcc6)]||[];renderSubmissionChart(_0x4391fd,_0x2230ab,_0x1dc69c,_0x37ff3b),renderScoreDistributionChart(_0x1dc69c,_0x1ed983),renderQuestionAnalytics(_0x219d4b,_0x1dc69c,_0x37ff3b),renderInterestingStats(_0x219d4b,_0x1dc69c);}async function handleExportLessonPDF(){const _0x3d0136=_0xa39756,_0xf040d6=document['getElementById']('lesson-plan-content'),_0x1f34be=document['getElementById']('lesson-plan-title')[_0x3d0136(0xa47)],_0x341906=window[_0x3d0136(0x253)]('',_0x3d0136(0xbb0)),_0x13959f=_0x3d0136(0xd70)+_0x1f34be+_0x3d0136(0x93c)+_0xf040d6[_0x3d0136(0x878)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x341906['document']['write'](_0x13959f),_0x341906[_0x3d0136(0xd49)][_0x3d0136(0x6b4)](),_0x341906[_0x3d0136(0x78f)]=function(){setTimeout(()=>{const _0x9403a9=_0x395e;_0x341906[_0x9403a9(0x235)]();},0x5dc);};}function renderInterestingStats(_0x18457b,_0x153f4b){const _0x59017e=_0xa39756,_0x580069=document[_0x59017e(0x8fb)](_0x59017e(0xcc0));if(!_0x580069)return;if(_0x153f4b['length']===0x0){_0x580069[_0x59017e(0x878)]=_0x59017e(0x505);return;}const _0x469d3a=_0x18457b[_0x59017e(0x4a2)][_0x59017e(0x218)]((_0x2830ea,_0x335a06)=>({'index':_0x335a06+0x1,'text':_0x2830ea[_0x59017e(0xcd1)]||_0x2830ea[_0x59017e(0x722)],'correct':0x0}));_0x153f4b[_0x59017e(0x71e)](_0x2eb4a0=>{const _0x103ed4=_0x59017e,_0x4c4738=_0x2eb4a0[_0x103ed4(0xd6b)][_0x2eb4a0[_0x103ed4(0xd6b)]['length']-0x1];_0x4c4738&&_0x4c4738['answers']&&_0x4c4738['answers'][_0x103ed4(0x71e)](_0x2e13da=>{const _0x30f2a7=_0x103ed4,_0x4faf5d=_0x469d3a[_0x30f2a7(0xaf7)](_0x26f19b=>_0x26f19b['text']===_0x2e13da[_0x30f2a7(0x6bc)]);_0x2e13da[_0x30f2a7(0x671)]&&_0x4faf5d&&_0x4faf5d['correct']++;});});const _0x4145a4=_0x153f4b[_0x59017e(0x7c7)],_0x1d1a3f=Math[_0x59017e(0xcd3)](..._0x469d3a[_0x59017e(0x218)](_0x20e4cd=>_0x20e4cd[_0x59017e(0x436)])),_0x31e830=Math[_0x59017e(0x334)](..._0x469d3a['map'](_0x4bb099=>_0x4bb099[_0x59017e(0x436)])),_0x58e558=_0x469d3a[_0x59017e(0x4da)](_0xa77874=>_0xa77874['correct']===_0x1d1a3f)[_0x59017e(0x218)](_0xe1ecbc=>'ข้อ\x20'+_0xe1ecbc['index']),_0x3f8619=_0x469d3a[_0x59017e(0x4da)](_0x1e6b4e=>_0x1e6b4e[_0x59017e(0x436)]===_0x31e830)[_0x59017e(0x218)](_0x628e09=>_0x59017e(0x309)+_0x628e09[_0x59017e(0x589)]),_0x4a3368=_0x153f4b['sort']((_0x5e6510,_0x2fa1ae)=>_0x2fa1ae[_0x59017e(0xd0e)]-_0x5e6510[_0x59017e(0xd0e)])[_0x59017e(0x4da)]((_0x1c92ab,_0x8ac86a,_0x56711c)=>_0x1c92ab[_0x59017e(0xd0e)]===_0x56711c[0x0][_0x59017e(0xd0e)]),_0x26e38b=_0x153f4b['sort']((_0x37973e,_0x46fa32)=>_0x37973e['latestScore']-_0x46fa32['latestScore'])['filter']((_0x435ce2,_0x686633,_0x5f4131)=>_0x435ce2[_0x59017e(0xd0e)]===_0x5f4131[0x0]['latestScore']),_0x51a3e7=_0x59017e(0x2d3)+_0x58e558['join'](',\x20')+_0x59017e(0xd3e)+_0x1d1a3f+'\x20/\x20'+_0x4145a4+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x3f8619['join'](',\x20')+_0x59017e(0xd3e)+(_0x4145a4-_0x31e830)+_0x59017e(0x48d)+_0x4145a4+_0x59017e(0xd27)+_0x4a3368['map'](_0x21a084=>_0x21a084[_0x59017e(0x1f5)])['join'](',\x20')+_0x59017e(0xa09)+_0x4a3368[0x0][_0x59017e(0xd0e)]+_0x59017e(0x484)+_0x26e38b['map'](_0x51e1c3=>_0x51e1c3[_0x59017e(0x1f5)])[_0x59017e(0xb7d)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x26e38b[0x0]['latestScore']+_0x59017e(0x4c7);_0x580069[_0x59017e(0x878)]=_0x51a3e7;}function renderSubmissionChart(_0x5d803a,_0x40ea55,_0x503332,_0x1dbae8){const _0x3031c5=_0xa39756,_0x1b7d5e=document[_0x3031c5(0x8fb)](_0x3031c5(0x9bf))[_0x3031c5(0x6f5)]('2d'),_0x290421=_0x503332[_0x3031c5(0x218)](_0x210f34=>_0x210f34[_0x3031c5(0x1f5)]),_0x2cbccf=_0x1dbae8[_0x3031c5(0x4da)](_0x3449c3=>!_0x290421[_0x3031c5(0x44e)](_0x3449c3));chartInstances[_0x3031c5(0x7f3)]&&chartInstances[_0x3031c5(0x7f3)][_0x3031c5(0xce9)](),chartInstances[_0x3031c5(0x7f3)]=new Chart(_0x1b7d5e,{'type':_0x3031c5(0xa33),'data':{'labels':[_0x3031c5(0x8d4),_0x3031c5(0xaac)],'datasets':[{'data':[_0x5d803a,_0x40ea55],'backgroundColor':[_0x3031c5(0xce4),_0x3031c5(0x619)],'borderColor':[_0x3031c5(0x2cb),_0x3031c5(0x2cb)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x482c76){const _0x5ece6f=_0x3031c5;let _0x30d68f=_0x482c76[_0x5ece6f(0x9ed)]||'';return _0x30d68f&&(_0x30d68f+=':\x20'),_0x30d68f+=_0x482c76[_0x5ece6f(0x393)],_0x30d68f;},'afterLabel':function(_0x326e35){const _0x489de1=_0x3031c5;let _0x4c8711;return _0x326e35[_0x489de1(0xd07)]===0x0?_0x4c8711=_0x290421:_0x4c8711=_0x2cbccf,_0x4c8711['length']>0x0?_0x4c8711[_0x489de1(0xb7d)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x3ee6f1,_0x473aa1){const _0x2ea9bf=_0xa39756,_0x1a64ee=document[_0x2ea9bf(0x8fb)](_0x2ea9bf(0x9fa))[_0x2ea9bf(0x6f5)]('2d'),_0x2ca22b={};for(let _0xd3702f=0x0;_0xd3702f<=_0x473aa1;_0xd3702f++){_0x2ca22b[_0xd3702f]=0x0;}_0x3ee6f1[_0x2ea9bf(0x71e)](_0x5c29c8=>{const _0x54862a=_0x2ea9bf;_0x2ca22b[_0x5c29c8[_0x54862a(0xd0e)]]!==undefined&&_0x2ca22b[_0x5c29c8[_0x54862a(0xd0e)]]++;}),chartInstances[_0x2ea9bf(0x3e4)]&&chartInstances[_0x2ea9bf(0x3e4)][_0x2ea9bf(0xce9)](),chartInstances[_0x2ea9bf(0x3e4)]=new Chart(_0x1a64ee,{'type':_0x2ea9bf(0x658),'data':{'labels':Object['keys'](_0x2ca22b),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x2ea9bf(0x2fa)](_0x2ca22b),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4df10d){const _0xb189d8=_0x2ea9bf,_0x20c7aa=_0x4df10d[_0xb189d8(0x9ed)],_0x2e0177=_0x3ee6f1[_0xb189d8(0x4da)](_0x23cf6e=>_0x23cf6e[_0xb189d8(0xd0e)]==_0x20c7aa)[_0xb189d8(0x218)](_0x5c2190=>_0x5c2190['studentName']);return _0x2e0177[_0xb189d8(0x7c7)]>0x0?_0x2e0177[_0xb189d8(0xb7d)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x4b8029,_0x12e086,_0xa7f502){const _0x33172d=_0xa39756,_0x19eec5=document['getElementById'](_0x33172d(0x8a7));if(_0xa7f502[_0x33172d(0x7c7)]===0x0){_0x19eec5['innerHTML']='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x249291=calculateItemAnalysis(_0x4b8029,_0x12e086),_0x4bb0f7=calculateDistractorAnalysis(_0x4b8029,_0x12e086);let _0x13b30c='';_0x249291[_0x33172d(0xa2e)]&&(_0x13b30c=_0x33172d(0x97a)+_0x249291[_0x33172d(0xa2e)][_0x33172d(0xb91)][_0x33172d(0x7c7)]+_0x33172d(0x82f)+_0x249291[_0x33172d(0xa2e)][_0x33172d(0xb91)]['map'](_0x57400b=>_0x33172d(0xa1a)+_0x57400b+'</li>')[_0x33172d(0xb7d)]('')+_0x33172d(0x735)+_0x249291[_0x33172d(0xa2e)][_0x33172d(0x8b3)][_0x33172d(0x7c7)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x249291[_0x33172d(0xa2e)][_0x33172d(0x8b3)]['map'](_0x4ccf7=>_0x33172d(0xa1a)+_0x4ccf7+'</li>')['join']('')+_0x33172d(0x776));let _0x3e97f6='';const _0x228b87=_0x12e086[_0x33172d(0x218)](_0x55e327=>_0x55e327['studentName']),_0x56f0ad=_0x5e933d=>{const _0x4fc039=_0x33172d;if(_0x5e933d>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x5e933d>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x5e933d>=0.4)return _0x4fc039(0xa53);if(_0x5e933d>=0.2)return _0x4fc039(0x28f);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x417842=_0x4c5614=>{const _0x2d537a=_0x33172d;if(_0x4c5614<0x0)return _0x2d537a(0xc01);if(_0x4c5614>=0.4)return _0x2d537a(0x9a5);if(_0x4c5614>=0.3)return _0x2d537a(0x883);if(_0x4c5614>=0.2)return _0x2d537a(0xb7e);return _0x2d537a(0x3dd);},_0x70f085=_0x1efbed=>{const _0x5c21db=_0x33172d,_0x10402b=_0x1efbed[_0x5c21db(0xb98)](0x0);if(parseFloat(_0x10402b)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x10402b+_0x5c21db(0x4b3);if(_0x1efbed>=0x32)return _0x5c21db(0x754)+_0x10402b+'%</span>';return _0x5c21db(0xaff)+_0x10402b+_0x5c21db(0x4b3);};_0x4b8029[_0x33172d(0x4a2)]['forEach']((_0x3b027f,_0x40c50a)=>{const _0x439c45=_0x33172d,_0x44fcdf=_0x249291[_0x439c45(0x1fb)][_0x40c50a],_0x599abe=_0x4bb0f7[_0x40c50a],_0x17e2c2=_0x3b027f[_0x439c45(0x722)]||_0x3b027f[_0x439c45(0xcd1)]||_0x3b027f[_0x439c45(0x319)];let _0x43774e=0x0;const _0xe9123d=[],_0x31d0cc=[];_0x12e086[_0x439c45(0x71e)](_0x5b1419=>{const _0x32daf6=_0x439c45,_0x3f7144=_0x5b1419[_0x32daf6(0xd6b)][_0x5b1419[_0x32daf6(0xd6b)][_0x32daf6(0x7c7)]-0x1];if(_0x3f7144&&_0x3f7144[_0x32daf6(0xad1)]){const _0x2bd904=_0x3f7144[_0x32daf6(0xad1)][_0x32daf6(0xaf7)](_0x1c9fa3=>_0x1c9fa3['originalQuestionText']===_0x17e2c2)??_0x3f7144[_0x32daf6(0xad1)][_0x40c50a]??null;_0x2bd904&&(_0x2bd904[_0x32daf6(0x671)]?(_0x43774e++,_0xe9123d['push'](_0x5b1419[_0x32daf6(0x1f5)])):_0x31d0cc[_0x32daf6(0xbdd)](_0x5b1419['studentName']));}});const _0x576471=_0x12e086[_0x439c45(0x7c7)]>0x0?_0x43774e/_0x12e086['length']*0x64:0x0,_0x228e94=_0xa7f502[_0x439c45(0x4da)](_0x5a2993=>!_0x228b87[_0x439c45(0x44e)](_0x5a2993)),_0x4199cf=_0x44fcdf?_0x439c45(0xae8)+_0x44fcdf['p'][_0x439c45(0xb98)](0x2)+_0x439c45(0x7f9)+_0x56f0ad(_0x44fcdf['p'])+_0x439c45(0x83c)+_0x44fcdf['r'][_0x439c45(0xb98)](0x2)+_0x439c45(0x7f9)+_0x417842(_0x44fcdf['r'])+_0x439c45(0x8c2)+_0x70f085(_0x576471)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0xcb3df9='';_0x599abe&&(_0xcb3df9=_0x439c45(0xc19)+Object[_0x439c45(0x65c)](_0x599abe)[_0x439c45(0x218)](_0x586e77=>{const _0x839d6e=_0x439c45,_0x1adb55=_0x599abe[_0x586e77],_0x598589=parseInt(_0x586e77)===_0x3b027f['correctAnswerIndex'],_0xc10447=!_0x598589&&_0x1adb55[_0x839d6e(0x297)]>_0x1adb55[_0x839d6e(0xd4f)];return _0x839d6e(0xc03)+(_0x598589?_0x839d6e(0xdd8):'')+_0x839d6e(0x3c6)+(_0x598589?'✔\x20':'')+_0x1adb55[_0x839d6e(0x54d)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x1adb55['upper_group_count']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x1adb55['lower_group_count']+'\x20'+(_0xc10447?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x1adb55['total']+_0x839d6e(0x5b6);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x4af5ac='';_0x44fcdf&&_0x44fcdf[_0x439c45(0xb8e)]&&(_0x4af5ac='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x44fcdf[_0x439c45(0xb8e)][_0x439c45(0x7c7)]+_0x439c45(0x717)+_0x44fcdf[_0x439c45(0xb8e)]['map'](_0x519dc1=>'<li>'+(_0x519dc1[_0x439c45(0x671)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x519dc1[_0x439c45(0x4ee)]+_0x439c45(0xd51))[_0x439c45(0xb7d)]('')+_0x439c45(0x773)+_0x44fcdf[_0x439c45(0x3c9)][_0x439c45(0x7c7)]+_0x439c45(0x717)+_0x44fcdf[_0x439c45(0x3c9)][_0x439c45(0x218)](_0xa4bdbf=>_0x439c45(0xa1a)+(_0xa4bdbf['isCorrect']?_0x439c45(0x29f):_0x439c45(0xac4))+'\x20'+_0xa4bdbf[_0x439c45(0x4ee)]+'</li>')[_0x439c45(0xb7d)]('')+_0x439c45(0xb84)),_0x3e97f6+=_0x439c45(0x3cb)+(_0x40c50a+0x1)+':\x20'+_0x17e2c2+_0x439c45(0xcdd)+_0x4199cf+_0x439c45(0x5f4)+_0x17e2c2+_0x439c45(0xd77)+_0x43774e+_0x439c45(0x9fd)+_0x12e086['length']+_0x439c45(0xd8b)+_0x576471[_0x439c45(0xb98)](0x0)+_0x439c45(0xc02)+_0xe9123d[_0x439c45(0x7c7)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0xe9123d[_0x439c45(0x7c7)]>0x0?_0xe9123d['join'](',\x20'):'ไม่มี')+_0x439c45(0x3a8)+_0x31d0cc[_0x439c45(0x7c7)]+_0x439c45(0x98c)+(_0x31d0cc[_0x439c45(0x7c7)]>0x0?_0x31d0cc[_0x439c45(0xb7d)](',\x20'):'ไม่มี')+_0x439c45(0x69f)+_0x228e94['length']+_0x439c45(0x98c)+(_0x228e94[_0x439c45(0x7c7)]>0x0?_0x228e94['join'](',\x20'):'ไม่มี')+_0x439c45(0x308)+_0xcb3df9+_0x439c45(0x36c)+_0x4af5ac+_0x439c45(0x62b);}),_0x19eec5['innerHTML']=_0x13b30c+_0x3e97f6;try{window['MathJax']&&MathJax[_0x33172d(0xa3f)]&&MathJax[_0x33172d(0xa3f)]([_0x19eec5]);}catch(_0x4aff97){console[_0x33172d(0xd73)](_0x33172d(0x4c0),_0x4aff97);}}function calculateDistractorAnalysis(_0x17ef31,_0x1a762f){const _0x163d6=_0xa39756,_0x5b6336={};if(_0x1a762f[_0x163d6(0x7c7)]<0x2)return _0x5b6336;const _0x520cfc=[..._0x1a762f]['sort']((_0x47efcb,_0x5c1270)=>{const _0x3e743d=_0x163d6,_0x11edc3=_0x5c1270['latestScore']-_0x47efcb['latestScore'];if(_0x11edc3!==0x0)return _0x11edc3;const _0x4ca720=_0x47efcb[_0x3e743d(0xd6b)]?.['length']||0x1,_0x19d40a=_0x5c1270[_0x3e743d(0xd6b)]?.[_0x3e743d(0x7c7)]||0x1,_0x5f11a9=_0x4ca720-_0x19d40a;if(_0x5f11a9!==0x0)return _0x5f11a9;const _0x2bf0ae=new Date(_0x47efcb[_0x3e743d(0x80d)]),_0x424b20=new Date(_0x5c1270[_0x3e743d(0x80d)]),_0x5d905c=_0x2bf0ae-_0x424b20;if(_0x5d905c!==0x0)return _0x5d905c;return _0x47efcb['studentName'][_0x3e743d(0xa04)](_0x5c1270[_0x3e743d(0x1f5)],'th');}),_0xdad972=_0x520cfc['length'],_0x361063=Math['max'](0x1,Math[_0x163d6(0x997)](_0xdad972*0.33)),_0x37b02d=_0x520cfc[_0x163d6(0x210)](0x0,_0x361063),_0x4d640e=_0x520cfc['slice'](-_0x361063);return _0x17ef31[_0x163d6(0x4a2)][_0x163d6(0x71e)]((_0x126629,_0x30927c)=>{const _0x5440bb=_0x163d6;if(_0x126629['questionType']!==_0x5440bb(0x525)||!_0x126629[_0x5440bb(0x9af)])return;const _0x3f62bc=_0x126629[_0x5440bb(0xcd1)],_0x4878c1={};_0x126629[_0x5440bb(0x9af)][_0x5440bb(0x71e)]((_0x3e9397,_0x3eb4bc)=>{_0x4878c1[_0x3eb4bc]={'text':_0x3e9397,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x520cfc[_0x5440bb(0x71e)](_0x452435=>{const _0x3726f7=_0x5440bb,_0x897709=_0x452435[_0x3726f7(0xd6b)][_0x452435['attempts'][_0x3726f7(0x7c7)]-0x1],_0x562ea9=_0x897709[_0x3726f7(0xad1)][_0x3726f7(0xaf7)](_0x30c85b=>_0x30c85b[_0x3726f7(0x6bc)]===_0x3f62bc);if(_0x562ea9&&_0x562ea9[_0x3726f7(0x494)]!==null){const _0x5878f2=_0x126629[_0x3726f7(0x9af)][_0x3726f7(0xd7e)](_0x1aad60=>_0x1aad60===_0x562ea9[_0x3726f7(0x439)]);_0x5878f2!==-0x1&&_0x4878c1[_0x5878f2]&&(_0x4878c1[_0x5878f2][_0x3726f7(0x989)]++,_0x37b02d['includes'](_0x452435)&&_0x4878c1[_0x5878f2][_0x3726f7(0xd4f)]++,_0x4d640e[_0x3726f7(0x44e)](_0x452435)&&_0x4878c1[_0x5878f2][_0x3726f7(0x297)]++);}}),_0x5b6336[_0x30927c]=_0x4878c1;}),_0x5b6336;}function calculateReliabilityKR20(_0x279910,_0xe89a45,_0x47e82c){const _0x1f0ffc=_0xa39756,_0x2e6210=_0x279910[_0x1f0ffc(0x4a2)][_0x1f0ffc(0x7c7)];if(_0x2e6210<0x2||_0xe89a45[_0x1f0ffc(0x7c7)]<0x2)return null;const _0x3bcccb=_0xe89a45[_0x1f0ffc(0x218)](_0x226b16=>_0x226b16[_0x1f0ffc(0xd0e)]),_0x18f112=_0x3bcccb[_0x1f0ffc(0x8a8)]((_0x218036,_0x1f43f0)=>_0x218036+_0x1f43f0,0x0)/_0x3bcccb['length'],_0x184e56=_0x3bcccb[_0x1f0ffc(0x218)](_0x54a22c=>Math[_0x1f0ffc(0xde8)](_0x54a22c-_0x18f112,0x2))[_0x1f0ffc(0x8a8)]((_0x2069ff,_0x296cd1)=>_0x2069ff+_0x296cd1,0x0)/_0x3bcccb[_0x1f0ffc(0x7c7)];if(_0x184e56===0x0)return null;let _0x564e73=0x0;for(let _0x2bee24=0x0;_0x2bee24<_0x2e6210;_0x2bee24++){const _0x398712=_0x47e82c[_0x2bee24]?.['p'];if(_0x398712===undefined)continue;const _0x29213a=0x1-_0x398712;_0x564e73+=_0x398712*_0x29213a;}if(_0x564e73===0x0)return null;const _0x3d7afc=_0x2e6210/(_0x2e6210-0x1)*(0x1-_0x564e73/_0x184e56);if(_0x3d7afc>0x1)return null;return _0x3d7afc;}async function handleAnalyzeClass(){const _0x4288d2=_0xa39756;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x4288d2(0xa85));return;}const _0x595ace=collection(db,'artifacts/'+appId+_0x4288d2(0x4e3)+currentQuizData['id']+'/submissions'),_0x353606=await getDocs(_0x595ace),_0x52b72d=_0x353606[_0x4288d2(0x485)][_0x4288d2(0x218)](_0x22383=>_0x22383[_0x4288d2(0x3d7)]());if(_0x52b72d[_0x4288d2(0x7c7)]<0x2){showMessage(_0x4288d2(0x2b7));return;}const _0xc9e14a=document['getElementById'](_0x4288d2(0xa2f));_0xc9e14a[_0x4288d2(0x878)]=_0x4288d2(0x8bb),document[_0x4288d2(0x8fb)](_0x4288d2(0x711))['disabled']=!![];const _0x93bfb2=_0x52b72d[_0x4288d2(0x218)]((_0x3b764d,_0x39526c)=>{const _0x42ee34=_0x4288d2,_0x4dea0c=_0x3b764d['attempts'][_0x3b764d[_0x42ee34(0xd6b)][_0x42ee34(0x7c7)]-0x1];if(!_0x4dea0c)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x39526c+0x1)+'\x20('+_0x3b764d['studentName']+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x4dea0c[_0x42ee34(0x3e4)]+'/'+_0x3b764d[_0x42ee34(0x57e)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x42ee34(0x8ff)](_0x4dea0c['answers'])+_0x42ee34(0x889);})['join'](_0x4288d2(0x6c3)),_0x588091=_0x4288d2(0x4d0)+currentQuizData[_0x4288d2(0xb19)]+_0x4288d2(0x3a7)+JSON[_0x4288d2(0x8ff)](currentQuizData[_0x4288d2(0x4a2)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x93bfb2+_0x4288d2(0x3f7),_0x4bef5e={'type':_0x4288d2(0x444),'properties':{'classStrengths':{'type':_0x4288d2(0x2d8),'items':{'type':_0x4288d2(0x4d7)}},'classWeaknesses':{'type':'ARRAY','items':{'type':'STRING'}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x4288d2(0x4d7)}}},'required':[_0x4288d2(0xac7),'classWeaknesses',_0x4288d2(0x342)]};try{const _0x47b05d=await callAnalysisApi(_0x588091,_0x4bef5e);displayClassAnalysis(_0x47b05d);}catch(_0x49aebe){console[_0x4288d2(0xd73)](_0x4288d2(0xb0c),_0x49aebe),_0xc9e14a[_0x4288d2(0x878)]=_0x4288d2(0x373)+_0x49aebe[_0x4288d2(0x5b7)]+_0x4288d2(0x951);}finally{document['getElementById'](_0x4288d2(0x711))[_0x4288d2(0xc96)]=![];}}function displayClassAnalysis(_0x5a83c1){const _0x41014d=_0xa39756,_0x3809f7=document[_0x41014d(0x8fb)](_0x41014d(0xa2f));if(!_0x5a83c1){_0x3809f7[_0x41014d(0x878)]=_0x41014d(0x645);return;}_0x3809f7[_0x41014d(0x878)]=_0x41014d(0x3f3)+_0x5a83c1[_0x41014d(0xac7)]['map'](_0x3454d3=>_0x41014d(0xa1a)+_0x3454d3+_0x41014d(0xd51))[_0x41014d(0xb7d)]('')+_0x41014d(0x9b4)+_0x5a83c1[_0x41014d(0x8c3)][_0x41014d(0x218)](_0x4a9b15=>_0x41014d(0xa1a)+_0x4a9b15+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a83c1[_0x41014d(0x342)]['map'](_0xaadb35=>_0x41014d(0xa1a)+_0xaadb35+_0x41014d(0xd51))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x526366,_0x51233f){const _0x17d649=_0xa39756,_0x5c2509='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x526366[_0x17d649(0xb19)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x526366['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x526366[_0x17d649(0x4a2)]['map']((_0xb22487,_0x2df9eb)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x2df9eb+0x1)+'.\x20'+_0xb22487['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xb22487['imageCode']?_0x17d649(0x950)+_0xb22487['imageCode']+_0x17d649(0x369):'')+_0x17d649(0x6c2))[_0x17d649(0xb7d)]('')+_0x17d649(0x607);_0x51233f[_0x17d649(0xd49)]['write'](_0x5c2509),_0x51233f[_0x17d649(0xd49)][_0x17d649(0x6b4)](),_0x51233f[_0x17d649(0x78f)]=function(){setTimeout(()=>{const _0x17058f=_0x395e;_0x51233f[_0x17058f(0x235)]();},0x3e8);};}async function generateWorksheet(){const _0x20a830=_0xa39756,_0x39a356=document[_0x20a830(0x8fb)](_0x20a830(0x841))[_0x20a830(0x3d4)][_0x20a830(0x6a8)]();if(!_0x39a356){showMessage(_0x20a830(0x2d5));return;}const _0x5f10b2=document[_0x20a830(0x8fb)]('force-math-checkbox')['checked'],_0x27fa23=_0x5f10b2?'':_0x20a830(0x2bc),_0x55e8b9=window[_0x20a830(0x253)]('',_0x20a830(0xbb0));_0x55e8b9[_0x20a830(0xd49)][_0x20a830(0x853)](_0x20a830(0x457));const _0x5412a5=parseInt(document[_0x20a830(0x8fb)](_0x20a830(0x1f0))[_0x20a830(0x3d4)]),_0x39cbdc=document[_0x20a830(0x8fb)]('include-images-checkbox')[_0x20a830(0x588)],_0x3294d9=_0x39cbdc?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x1e426e=_0x20a830(0x5f3)+_0x27fa23+_0x20a830(0x222)+_0x5412a5+_0x20a830(0xd09)+_0x39a356+_0x20a830(0x41f)+_0x3294d9+_0x20a830(0x7d0)+simpleMathPrompt+_0x20a830(0xaba),_0x4ef36f={'type':_0x20a830(0x444),'properties':{'topic':{'type':_0x20a830(0x4d7)},'questions':{'type':_0x20a830(0x2d8),'items':{'type':_0x20a830(0x444),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x20a830(0xcd1)]}}},'required':['topic',_0x20a830(0x4a2)]};document[_0x20a830(0x8fb)](_0x20a830(0xa03))['textContent']='',document[_0x20a830(0x8fb)](_0x20a830(0x77e))['classList'][_0x20a830(0x586)]('hidden'),document[_0x20a830(0x8fb)](_0x20a830(0x956))[_0x20a830(0xa57)][_0x20a830(0x586)](_0x20a830(0xcb3)),generateWorksheetBtn[_0x20a830(0xc96)]=!![];try{const _0x108387=await callAnalysisApi(_0x1e426e,_0x4ef36f);formatAndPrintWorksheet(_0x108387,_0x55e8b9);}catch(_0x10261a){console[_0x20a830(0xd73)](_0x20a830(0x40a),_0x10261a);if(_0x55e8b9)_0x55e8b9[_0x20a830(0x6b4)]();showMessage(_0x20a830(0x777));}finally{document[_0x20a830(0x8fb)](_0x20a830(0x77e))[_0x20a830(0xa57)][_0x20a830(0x8de)](_0x20a830(0xcb3)),document[_0x20a830(0x8fb)]('quiz-generation-area')[_0x20a830(0xa57)]['add'](_0x20a830(0xcb3)),generateWorksheetBtn[_0x20a830(0xc96)]=![];}}async function callAnalysisApi(_0x6be2c3,_0x44edc8){const _0x2b3608=_0xa39756,_0x570f09={'contents':[{'role':_0x2b3608(0x3a5),'parts':[{'text':_0x6be2c3}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x44edc8}},_0x2af384=_0x2b3608(0xacb),_0x165cb0=_0x2b3608(0x9b9)+_0x2af384,_0xee69bd=await fetch(_0x165cb0,{'method':_0x2b3608(0xb56),'headers':{'Content-Type':_0x2b3608(0x9d9)},'body':JSON['stringify'](_0x570f09)});if(!_0xee69bd['ok'])throw new Error(_0x2b3608(0xbdb)+_0xee69bd['status']);const _0x315fb5=await _0xee69bd[_0x2b3608(0x4f4)]();if(_0x315fb5['candidates']?.[0x0]?.[_0x2b3608(0x68b)]?.['parts']?.[0x0])return JSON[_0x2b3608(0x5ed)](_0x315fb5[_0x2b3608(0x4a4)][0x0][_0x2b3608(0x68b)]['parts'][0x0][_0x2b3608(0x54d)]);else{let _0x1c44f8='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x315fb5[_0x2b3608(0xc14)]?.[_0x2b3608(0xcae)])_0x1c44f8=_0x2b3608(0x5d7)+_0x315fb5['promptFeedback']['blockReason']+'.';else _0x315fb5[_0x2b3608(0x4a4)]?.[0x0]?.['finishReason']&&_0x315fb5[_0x2b3608(0x4a4)][0x0]['finishReason']!=='STOP'&&(_0x1c44f8=_0x2b3608(0xd7b)+_0x315fb5[_0x2b3608(0x4a4)][0x0][_0x2b3608(0x519)]+'.');console['error'](_0x1c44f8,JSON[_0x2b3608(0x8ff)](_0x315fb5));throw new Error(_0x1c44f8);}}async function handleStartSyncMode(_0x41ee93,_0x45aa70=![],_0x4d266c=_0xa39756(0xc66)){const _0x52e205=_0xa39756,_0x54ec1d=allQuizzes[_0x52e205(0xaf7)](_0x54e47b=>_0x54e47b['id']===_0x41ee93)||allQuizzesGlobal[_0x52e205(0xaf7)](_0x13b4dc=>_0x13b4dc['id']===_0x41ee93);if(!_0x54ec1d){showMessage(_0x52e205(0xd04));return;}currentQuizData=getShuffledQuiz(_0x54ec1d);const _0x2deef6=Math[_0x52e205(0x997)](0x3e8+Math[_0x52e205(0x35e)]()*0x2328)['toString'](),_0x6aa3e0=doc(db,_0x52e205(0x73f)+appId+'/public/data/projects',_0x54ec1d[_0x52e205(0xa68)]),_0x33d987=await getDoc(_0x6aa3e0);if(!_0x33d987[_0x52e205(0x86f)]()){showMessage(_0x52e205(0xb57));return;}const _0x2675c6=_0x33d987[_0x52e205(0x3d7)]()['students']||[],_0x13cf69={};if(_0x4d266c==='anonymous'){const _0x345228=[...ANONYMOUS_NAMES][_0x52e205(0xcbf)](()=>0.5-Math[_0x52e205(0x35e)]());_0x2675c6[_0x52e205(0x71e)]((_0x1fb623,_0x26c31d)=>{const _0x38b022=_0x52e205;_0x13cf69[_0x1fb623]=_0x345228[_0x26c31d]||_0x38b022(0xc37)+(_0x26c31d+0x1);});}try{const _0x4f3d8b=await addDoc(collection(db,_0x52e205(0x73f)+appId+_0x52e205(0x968)),{'quizId':_0x54ec1d['id'],'pin':_0x2deef6,'status':_0x52e205(0xa07),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x45aa70,'players':{},'gameVariant':_0x4d266c,'reviewQuestionIndex':0x0,'playerNicknames':_0x13cf69,'isAnonymousRevealed':![]});currentLiveGameId=_0x4f3d8b['id'],showView(_0x52e205(0xd10)),renderSyncLobbyView(_0x2deef6,_0x54ec1d['topic']),listenForSyncGameUpdates();}catch(_0x52219b){console['error'](_0x52e205(0x8cc),_0x52219b),showMessage(_0x52e205(0xb24));}}function calculateFinalPodiumScores(_0x445029){const _0xc8b9a8=_0xa39756;if(!_0x445029||!_0x445029['shuffledQuiz']||!_0x445029[_0xc8b9a8(0x20e)])return _0x445029[_0xc8b9a8(0x20e)]||{};const _0x55bc05=_0x445029[_0xc8b9a8(0x9d8)]['questions']['length'],_0x5517f5=JSON[_0xc8b9a8(0x5ed)](JSON[_0xc8b9a8(0x8ff)](_0x445029[_0xc8b9a8(0x20e)]));return Object['values'](_0x5517f5)[_0xc8b9a8(0x71e)](_0x54e4b3=>{const _0x59d379=_0xc8b9a8,_0x2e46b9=_0x54e4b3[_0x59d379(0x3e4)];let _0x243d4c=_0x2e46b9,_0x1cf572=0x0;_0x445029['isConfidenceScoringEnabled']&&_0x54e4b3[_0x59d379(0xad1)]&&_0x54e4b3['answers'][_0x59d379(0x71e)](_0x3eaf7a=>{const _0x386e9b=_0x59d379;if(_0x3eaf7a[_0x386e9b(0x671)]&&(_0x3eaf7a[_0x386e9b(0xb01)]===!![]||_0x3eaf7a[_0x386e9b(0xb01)]===_0x386e9b(0x392)))_0x1cf572+=0x1;else!_0x3eaf7a[_0x386e9b(0x671)]&&(_0x3eaf7a[_0x386e9b(0xb01)]===!![]||_0x3eaf7a[_0x386e9b(0xb01)]==='confident')&&(_0x1cf572-=0x1);}),_0x243d4c+=_0x1cf572,_0x55bc05>0x0&&_0x2e46b9===_0x55bc05&&(_0x243d4c+=0x1,_0x54e4b3[_0x59d379(0xdb1)]=!![]),_0x54e4b3[_0x59d379(0x3e4)]=_0x243d4c;}),_0x5517f5;}function listenForSyncGameUpdates(){const _0x4abda0=_0xa39756;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x234ff6=doc(db,'artifacts/'+appId+_0x4abda0(0x968),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x234ff6,_0x3d8510=>{const _0x2a4b54=_0x4abda0;if(!_0x3d8510[_0x2a4b54(0x86f)]()){sessionStorage['removeItem'](_0x2a4b54(0xd78));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x2a4b54(0x71b));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2a4b54(0x962)?showView(_0x2a4b54(0xb8b)):showView(_0x2a4b54(0x79f));return;}const _0x58eadd=_0x3d8510[_0x2a4b54(0x3d7)]();currentMode===_0x2a4b54(0x962)?updateAdminSyncView(_0x58eadd):updateStudentSyncView(_0x58eadd);});}function renderSyncLobbyView(_0x51385c,_0x3b68c1){const _0x3dc277=_0xa39756;liveGameView[_0x3dc277(0x878)]=_0x3dc277(0xd84)+_0x3b68c1+_0x3dc277(0x273)+_0x51385c+_0x3dc277(0x811);const _0x2c0d4f=document[_0x3dc277(0x8fb)](_0x3dc277(0xddd)),_0x21dd28=document['getElementById'](_0x3dc277(0x454));_0x2c0d4f[_0x3dc277(0xb95)]('change',()=>{const _0x4625f5=_0x3dc277;_0x21dd28[_0x4625f5(0x4b4)][_0x4625f5(0x8fc)]=_0x2c0d4f[_0x4625f5(0x588)]?'block':_0x4625f5(0x6dd);}),document[_0x3dc277(0x8fb)]('start-sync-game-btn')['addEventListener'](_0x3dc277(0x305),async()=>{const _0x2620ec=_0x3dc277,_0x2d1a71=doc(db,_0x2620ec(0x73f)+appId+_0x2620ec(0x968),currentLiveGameId),_0x2d0518=document[_0x2620ec(0x8fb)](_0x2620ec(0xddd))['checked'];await updateDoc(_0x2d1a71,{'status':_0x2620ec(0x84c),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x2d0518});});}function updateAdminSyncView(_0x13ed21){const _0x4aaddf=_0xa39756;switch(_0x13ed21[_0x4aaddf(0xcce)]){case _0x4aaddf(0xa07):renderSyncLobbyView(_0x13ed21[_0x4aaddf(0x307)],_0x13ed21[_0x4aaddf(0x9d8)][_0x4aaddf(0xb19)]);const _0x53b988=Object[_0x4aaddf(0x761)](_0x13ed21['players']||{})[_0x4aaddf(0x4da)](([_0xc630ec,_0x385a79])=>_0x385a79[_0x4aaddf(0xcce)]!==_0x4aaddf(0x8d0));document[_0x4aaddf(0x8fb)]('player-count')[_0x4aaddf(0xa47)]=_0x53b988[_0x4aaddf(0x7c7)],document[_0x4aaddf(0x8fb)]('player-list-lobby')['innerHTML']=_0x53b988[_0x4aaddf(0x218)](([_0x4851e1,_0x1a133c])=>_0x4aaddf(0xade)+_0x4851e1+_0x4aaddf(0xa24)+_0x4851e1+_0x4aaddf(0xce6))[_0x4aaddf(0xb7d)]('')||_0x4aaddf(0x219),document[_0x4aaddf(0x8fb)](_0x4aaddf(0x490))[_0x4aaddf(0xc96)]=_0x53b988['length']===0x0;break;case'question':const _0x2593fc=Object[_0x4aaddf(0x2fa)](_0x13ed21[_0x4aaddf(0x20e)]||{})[_0x4aaddf(0x4da)](_0x447838=>_0x447838[_0x4aaddf(0xcce)]!=='inactive'),_0x34a7a0=_0x2593fc['filter'](_0x548d82=>_0x548d82[_0x4aaddf(0x9d3)])['length'],_0x5c2de2=_0x34a7a0===_0x2593fc['length']&&_0x2593fc['length']>0x0;if(_0x5c2de2&&_0x13ed21[_0x4aaddf(0xcce)]===_0x4aaddf(0x84c)){const _0x36a49b=doc(db,_0x4aaddf(0x73f)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x36a49b,{'status':'summary'});}else{if(document['getElementById'](_0x4aaddf(0xce5))===null)renderAdminSyncQuestionView(_0x13ed21);else{const _0x191233=document[_0x4aaddf(0x8fb)](_0x4aaddf(0x764));_0x191233&&(_0x191233[_0x4aaddf(0xa47)]=_0x34a7a0+'/'+_0x2593fc[_0x4aaddf(0x7c7)]);const _0x2b7910=document[_0x4aaddf(0x8fb)](_0x4aaddf(0xa84));_0x2b7910&&(_0x2b7910[_0x4aaddf(0x878)]=_0x2593fc[_0x4aaddf(0x218)](_0x33ed88=>{const _0x74f991=_0x4aaddf,_0x122554=_0x33ed88[_0x74f991(0x9d3)]?_0x74f991(0xd40):_0x74f991(0x426),_0x28d484=_0x33ed88[_0x74f991(0x9d3)]?_0x74f991(0x6ce):_0x74f991(0x206);return _0x74f991(0xc7b)+_0x122554+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28d484+_0x74f991(0xc8d)+_0x33ed88['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x33ed88['name']+_0x74f991(0x8e4);})[_0x4aaddf(0xb7d)](''));}}break;case _0x4aaddf(0xb29):const _0x1e7934=_0x13ed21[_0x4aaddf(0xa73)],_0x232639=_0x13ed21[_0x4aaddf(0x9d8)][_0x4aaddf(0x4a2)][_0x1e7934];renderSyncSummaryView(_0x13ed21,_0x232639,!![]);break;case _0x4aaddf(0x744):const _0x4f2220=_0x13ed21[_0x4aaddf(0xd36)]||'classic';_0x4f2220==='reveal_at_end'?renderAdminSyncDashboard(_0x13ed21,!![],_0x13ed21[_0x4aaddf(0x402)]):renderAdminSyncDashboard(_0x13ed21,!![],_0x13ed21[_0x4aaddf(0xa73)]);break;case _0x4aaddf(0x730):_0x13ed21[_0x4aaddf(0x22c)]&&saveGameResultsAsSubmissions(_0x13ed21);sessionStorage['removeItem'](_0x4aaddf(0xd78));const _0x481282=calculateFinalPodiumScores(_0x13ed21);showPodiumView(_0x481282,_0x4aaddf(0xbf5));break;}}function renderAdminSyncQuestionView(_0x339eff){const _0xef1d1d=_0xa39756,_0x25ecb4=_0x339eff['currentQuestionIndex'],_0x3b79a1=_0x339eff[_0xef1d1d(0x9d8)]['questions'][_0x25ecb4],_0x5e1fe0=_0x339eff[_0xef1d1d(0x9d8)][_0xef1d1d(0x4a2)][_0xef1d1d(0x7c7)],_0x63f157=Object[_0xef1d1d(0x2fa)](_0x339eff[_0xef1d1d(0x20e)]||{})[_0xef1d1d(0x4da)](_0x561105=>_0x561105[_0xef1d1d(0xcce)]!==_0xef1d1d(0x8d0)),_0xb6bc9e=_0x63f157[_0xef1d1d(0x4da)](_0xc21794=>_0xc21794[_0xef1d1d(0x9d3)])[_0xef1d1d(0x7c7)],_0x55147f=_0xb6bc9e===_0x63f157[_0xef1d1d(0x7c7)]&&_0x63f157[_0xef1d1d(0x7c7)]>0x0,_0x58afe9=(_0x3b79a1[_0xef1d1d(0x9af)]||[])[_0xef1d1d(0x218)](_0xb37c9e=>_0xef1d1d(0x4fa)+_0xb37c9e+_0xef1d1d(0x369))[_0xef1d1d(0xb7d)]('');liveGameView['innerHTML']=_0xef1d1d(0x380)+(_0x25ecb4+0x1)+_0xef1d1d(0x48d)+_0x5e1fe0+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0xb6bc9e+'/'+_0x63f157[_0xef1d1d(0x7c7)]+_0xef1d1d(0x238)+_0x3b79a1[_0xef1d1d(0xcd1)]+_0xef1d1d(0x82a)+_0x58afe9+_0xef1d1d(0xdd7)+(!_0x55147f?_0xef1d1d(0xc96):'')+_0xef1d1d(0xaa9);if(window['MathJax'])MathJax[_0xef1d1d(0xa3f)]();document[_0xef1d1d(0x8fb)]('show-results-btn')[_0xef1d1d(0xb95)](_0xef1d1d(0x305),async()=>{const _0x1ca858=_0xef1d1d,_0x1e178a=doc(db,_0x1ca858(0x73f)+appId+_0x1ca858(0x968),currentLiveGameId);await updateDoc(_0x1e178a,{'status':_0x1ca858(0x744)});}),document[_0xef1d1d(0x8fb)](_0xef1d1d(0xbea))[_0xef1d1d(0x699)]=()=>{const _0x4590e1=_0xef1d1d;openScratchpad(_0x3b79a1,_0x3b79a1[_0x4590e1(0x9af)]||[]);},document[_0xef1d1d(0x8fb)](_0xef1d1d(0x250))[_0xef1d1d(0xb95)](_0xef1d1d(0x305),()=>{const _0x144a64=_0xef1d1d;document[_0x144a64(0x8fb)](_0x144a64(0xce5))[_0x144a64(0xa57)][_0x144a64(0x636)](_0x144a64(0xcb3));});}function renderSyncLeaderboardView(_0x47acca,_0x32cdbb){const _0xc732e1=_0xa39756,_0x2ba397=Object[_0xc732e1(0x2fa)](_0x47acca[_0xc732e1(0x20e)]||{});_0x2ba397['sort']((_0xea9130,_0x468b0a)=>_0x468b0a[_0xc732e1(0x3e4)]-_0xea9130[_0xc732e1(0x3e4)]);const _0x5487fa=_0x2ba397['slice'](0x0,0x5);let _0x37ebc1='';if(_0x32cdbb){const _0x4d6db1=_0x47acca['currentQuestionIndex']>=_0x47acca[_0xc732e1(0x9d8)]['questions'][_0xc732e1(0x7c7)]-0x1;_0x37ebc1=_0xc732e1(0x320)+(_0x4d6db1?'ดูผลสรุปสุดท้าย':_0xc732e1(0x5e1))+_0xc732e1(0x7a4);}else _0x37ebc1=_0xc732e1(0x79a);liveGameView[_0xc732e1(0x878)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x5487fa['map']((_0x20bd85,_0x494803)=>_0xc732e1(0x8ed)+(_0x494803+0x1)+'.\x20'+_0x20bd85['name']+_0xc732e1(0xdc3)+_0x20bd85[_0xc732e1(0x3e4)]+'</span></div>')['join']('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37ebc1+_0xc732e1(0xcda),_0x32cdbb&&document[_0xc732e1(0x8fb)](_0xc732e1(0xcbe))[_0xc732e1(0xb95)]('click',async()=>{const _0x98712c=_0xc732e1,_0x4cc304=doc(db,'artifacts/'+appId+_0x98712c(0x968),currentLiveGameId),_0x42f381=_0x47acca[_0x98712c(0xa73)]+0x1;if(_0x42f381<_0x47acca['shuffledQuiz'][_0x98712c(0x4a2)][_0x98712c(0x7c7)]){const _0x56da33={};Object['keys'](_0x47acca[_0x98712c(0x20e)])[_0x98712c(0x71e)](_0x3dfb68=>{const _0x5bbd96=_0x98712c;_0x56da33[_0x5bbd96(0xae0)+_0x3dfb68+_0x5bbd96(0xbcc)]=![];}),await updateDoc(_0x4cc304,{..._0x56da33,'status':'question','currentQuestionIndex':_0x42f381,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4cc304,{'status':_0x98712c(0x730)});});}async function handleJoinSyncGame(){const _0x180cc3=_0xa39756,_0x6fcd4e=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x6fcd4e||_0x6fcd4e['trim']()[_0x180cc3(0x7c7)]!==0x2){showMessage(_0x180cc3(0x2f1));return;}try{const _0x2abf8a=collection(db,_0x180cc3(0x73f)+appId+_0x180cc3(0x968)),_0x25227b=query(_0x2abf8a,where(_0x180cc3(0x307),'==',_0x6fcd4e[_0x180cc3(0x6a8)]()),where('status','==',_0x180cc3(0xa07))),_0x4dd0fa=await getDocs(_0x25227b);if(_0x4dd0fa['empty']){showMessage(_0x180cc3(0x5f5));return;}const _0x476869=_0x4dd0fa['docs'][0x0];currentLiveGameId=_0x476869['id'];const _0x17e738=_0x476869[_0x180cc3(0x3d7)](),_0x39b17f=doc(db,_0x180cc3(0x73f)+appId+_0x180cc3(0xdb4),_0x17e738['quizId']),_0x2a26c9=await getDoc(_0x39b17f);if(!_0x2a26c9['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x155b18=_0x2a26c9[_0x180cc3(0x3d7)](),_0x218705=doc(db,_0x180cc3(0x73f)+appId+_0x180cc3(0xb08),_0x155b18['projectId']),_0x228a8b=await getDoc(_0x218705);if(!_0x228a8b[_0x180cc3(0x86f)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x17e738['shuffledQuiz'];const _0x1b7417=_0x228a8b[_0x180cc3(0x3d7)]();showView(_0x180cc3(0x570)),showTeamPlayerSelection(_0x1b7417['students'],_0x155b18['topic']);const _0x28101e=document[_0x180cc3(0x8fb)](_0x180cc3(0x301));_0x28101e['onclick']=confirmAndJoinSyncGame;}catch(_0x158f19){console[_0x180cc3(0xd73)]('Error\x20joining\x20sync\x20game:',_0x158f19),showMessage('เกิดข้อผิดพลาด:\x20'+_0x158f19[_0x180cc3(0x5b7)]);}}function updateStudentSyncView(_0x570ba7){const _0x3aa089=_0xa39756,_0x162f4a=_0x570ba7['players'][localTeamPlayers[0x0]];switch(_0x570ba7[_0x3aa089(0xcce)]){case'lobby':showView(_0x3aa089(0xd10)),liveGameView[_0x3aa089(0x878)]=_0x3aa089(0x9d5);break;case _0x3aa089(0x84c):localPlayerTurnIndex=0x0;const _0x3bc80a=localTeamPlayers['every'](_0x2cee4e=>_0x570ba7['players'][_0x2cee4e]?.['answered']===!![]);_0x3bc80a?liveGameView[_0x3aa089(0x878)]=_0x3aa089(0x78a):renderStudentSyncQuestionView(_0x570ba7);break;case _0x3aa089(0xb29):liveGameView['innerHTML']=_0x3aa089(0x2fb);break;case _0x3aa089(0x744):localPlayerTurnIndex=0x0;const _0x270682=_0x570ba7[_0x3aa089(0xd36)]||'classic';if(_0x270682===_0x3aa089(0x4c9))renderAdminSyncDashboard(_0x570ba7,![],_0x570ba7['reviewQuestionIndex']);else _0x270682===_0x3aa089(0xc4a)?renderAnonymousStudentResultsView(_0x570ba7):renderStudentSyncResultsView(_0x570ba7);break;case _0x3aa089(0x730):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x3aa089(0x223)](_0x3aa089(0x76e),handleFullscreenChange),document[_0x3aa089(0x223)]('visibilitychange',handleVisibilityChange),sessionStorage[_0x3aa089(0x888)](_0x3aa089(0xd78));const _0x26d0d0=calculateFinalPodiumScores(_0x570ba7);showPodiumView(_0x26d0d0,_0x3aa089(0xbf5));break;}}function renderStudentSyncResultsView(_0x5b5eb8){const _0x1955ea=_0xa39756,_0x3133b6=localTeamPlayers[_0x1955ea(0x218)](_0x2561a9=>_0x5b5eb8[_0x1955ea(0x20e)][_0x2561a9])[_0x1955ea(0x4da)](Boolean);_0x3133b6[_0x1955ea(0xcbf)]((_0x4df84a,_0x3f30b6)=>(_0x3f30b6[_0x1955ea(0x3e4)]||0x0)-(_0x4df84a[_0x1955ea(0x3e4)]||0x0));const _0x35d2b0=_0x5b5eb8[_0x1955ea(0xd36)]||'classic',_0x1288f6=_0x5b5eb8['shuffledQuiz'][_0x1955ea(0x4a2)];let _0x297413='';if(_0x35d2b0===_0x1955ea(0x4c9)){const _0x4ec3c6=_0x5b5eb8[_0x1955ea(0x402)]>=_0x1288f6[_0x1955ea(0x7c7)]-0x1;_0x4ec3c6?_0x297413=_0x1955ea(0x4a5):_0x297413='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>';}else{const _0x4e1f48=_0x5b5eb8[_0x1955ea(0xa73)]>=_0x1288f6[_0x1955ea(0x7c7)]-0x1;_0x4e1f48?_0x297413=_0x1955ea(0x4a5):_0x297413=_0x1955ea(0xc92);}const _0x16d4ec=_0x1955ea(0x5a1)+_0x3133b6[_0x1955ea(0x218)]((_0x425939,_0x39b40e)=>_0x1955ea(0xab5)+(_0x39b40e+0x1)+_0x1955ea(0x547)+_0x425939['name']+_0x1955ea(0x778)+_0x425939[_0x1955ea(0x3e4)]+_0x1955ea(0x862))[_0x1955ea(0xb7d)]('')+_0x1955ea(0x732)+_0x297413+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x1955ea(0x878)]=_0x16d4ec;}function renderStudentSyncQuestionView(_0x3f87cd){const _0x5c00b8=_0xa39756,_0x16132b=localTeamPlayers[_0x5c00b8(0xaf7)](_0x50d7c3=>_0x3f87cd['players'][_0x50d7c3]&&_0x3f87cd[_0x5c00b8(0x20e)][_0x50d7c3]['answered']===![]);if(!_0x16132b){console[_0x5c00b8(0xcf9)](_0x5c00b8(0x745));return;}const _0x50c83c=_0x3f87cd[_0x5c00b8(0xa73)],_0x1e57e1=_0x3f87cd[_0x5c00b8(0x9d8)][_0x5c00b8(0x4a2)][_0x5c00b8(0x7c7)],_0x425694=_0x3f87cd[_0x5c00b8(0x9d8)][_0x5c00b8(0x4a2)][_0x50c83c],_0x59fe8e=_0x425694[_0x5c00b8(0x672)]||_0x3f87cd['shuffledQuiz'][_0x5c00b8(0x28e)];let _0x4175c4='',_0xdf9342=![];switch(_0x59fe8e){case _0x5c00b8(0xc4d):_0x4175c4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x5c00b8(0x880):case'fill_in_no_choices':_0xdf9342=!![],_0x4175c4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x5c00b8(0xbd6):_0xdf9342=!![],_0x4175c4=_0x5c00b8(0x873)+(_0x425694['allResponses']||[])['map'](_0x33a20a=>'<option\x20value=\x22'+_0x33a20a+'\x22>'+_0x33a20a+'</option>')['join']('')+_0x5c00b8(0x79e);break;case _0x5c00b8(0x525):default:_0x4175c4=(_0x425694[_0x5c00b8(0x9af)]||[])[_0x5c00b8(0x218)]((_0x3865c2,_0x6c0db9)=>'<button\x20data-value=\x22'+_0x6c0db9+_0x5c00b8(0x7eb)+_0x3865c2+_0x5c00b8(0x455))[_0x5c00b8(0xb7d)]('');break;}liveGameView[_0x5c00b8(0x878)]=_0x5c00b8(0xb33)+(_0x50c83c+0x1)+_0x5c00b8(0x48d)+_0x1e57e1+_0x5c00b8(0x5b8)+_0x16132b+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x425694['questionText']||_0x425694[_0x5c00b8(0x722)])+_0x5c00b8(0xa1d)+_0x4175c4+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(window[_0x5c00b8(0xb54)])MathJax[_0x5c00b8(0xa3f)]();function _0x9c5ace(_0x300a72,_0x2ebe51,_0xb2eb74,_0x1ae165){const _0x3cbf89=_0x5c00b8,_0x309ed3=_0xb2eb74[_0x3cbf89(0xb61)]===!![];if(_0x309ed3){document[_0x3cbf89(0x8fb)](_0x3cbf89(0x8a6))[_0x3cbf89(0x87f)][_0x3cbf89(0x3d5)]=_0x3cbf89(0xbf5);const _0x261c9e=document[_0x3cbf89(0x8fb)]('selected-answer-index-hidden');_0x261c9e[_0x3cbf89(0x87f)][_0x3cbf89(0x637)]=_0x300a72,_0x261c9e['dataset'][_0x3cbf89(0x84c)]=JSON[_0x3cbf89(0x8ff)](_0x2ebe51),_0x261c9e[_0x3cbf89(0x87f)][_0x3cbf89(0xa0d)]=JSON[_0x3cbf89(0x8ff)](_0xb2eb74),_0x261c9e[_0x3cbf89(0x87f)][_0x3cbf89(0x981)]=_0x1ae165,document['getElementById'](_0x3cbf89(0x8a6))['classList']['remove'](_0x3cbf89(0xcb3));}else handleSyncAnswerSubmit(_0x300a72,_0x2ebe51,_0xb2eb74,_0x1ae165,![]);}_0xdf9342?document['getElementById']('sync-submit-btn')[_0x5c00b8(0xb95)]('click',()=>{const _0xa8d5e6=_0x5c00b8,_0x66c9c3=document[_0xa8d5e6(0x8fb)](_0xa8d5e6(0xd71))||document[_0xa8d5e6(0x8fb)](_0xa8d5e6(0x332));if(_0x66c9c3[_0xa8d5e6(0x3d4)][_0xa8d5e6(0x6a8)]()===''){showMessage(_0xa8d5e6(0x8f3));return;}_0x9c5ace(_0x66c9c3[_0xa8d5e6(0x3d4)],_0x425694,_0x3f87cd,_0x16132b);}):document[_0x5c00b8(0x6aa)](_0x5c00b8(0xd3a))[_0x5c00b8(0x71e)](_0x567c87=>{const _0x31f6c5=_0x5c00b8;_0x567c87[_0x31f6c5(0xb95)](_0x31f6c5(0x305),()=>{const _0x41b6fb=_0x31f6c5;_0x9c5ace(_0x567c87[_0x41b6fb(0x87f)]['value'],_0x425694,_0x3f87cd,_0x16132b);});});}async function handleSyncAnswerSubmit(_0x8d0ef5,_0x573c27,_0x12c9cb,_0x24c866,_0x5e44a0){const _0x3d6a81=_0xa39756;document[_0x3d6a81(0x6aa)](_0x3d6a81(0x86b))[_0x3d6a81(0x71e)](_0x21774d=>_0x21774d[_0x3d6a81(0xc96)]=!![]);const _0x570afc=_0x573c27[_0x3d6a81(0x672)]||_0x12c9cb[_0x3d6a81(0x9d8)][_0x3d6a81(0x28e)];let _0x745a56=![],_0x3ca66e=_0x8d0ef5;switch(_0x570afc){case _0x3d6a81(0xc4d):const _0x543594=parseInt(_0x8d0ef5),_0x8b008f=_0x573c27['correctAnswer']===!![]||String(_0x573c27[_0x3d6a81(0xdae)])[_0x3d6a81(0xb4d)]()===_0x3d6a81(0x9b7);_0x745a56=_0x543594===0x0&&_0x8b008f||_0x543594===0x1&&!_0x8b008f,_0x3ca66e=_0x543594===0x0?'ใช่\x20/\x20ถูก':'ไม่ใช่\x20/\x20ผิด';break;case _0x3d6a81(0x880):case _0x3d6a81(0xbac):_0x745a56=await gradeShortAnswer(_0x8d0ef5,_0x573c27);break;case _0x3d6a81(0xbd6):_0x745a56=_0x8d0ef5===_0x573c27[_0x3d6a81(0x8e8)];break;case _0x3d6a81(0x525):default:const _0x2f5097=parseInt(_0x8d0ef5);_0x745a56=_0x2f5097===_0x573c27[_0x3d6a81(0x5fd)];_0x573c27[_0x3d6a81(0x9af)]&&_0x573c27[_0x3d6a81(0x9af)][_0x2f5097]&&(_0x3ca66e=_0x573c27[_0x3d6a81(0x9af)][_0x2f5097]);break;}const _0x30c769=_0x745a56?0x1:0x0,_0x4ae479=doc(db,_0x3d6a81(0x73f)+appId+_0x3d6a81(0x968),currentLiveGameId),_0xc1f26={};_0xc1f26[_0x3d6a81(0xae0)+_0x24c866+'.score']=increment(_0x30c769),_0xc1f26[_0x3d6a81(0xae0)+_0x24c866+_0x3d6a81(0xbcc)]=!![];let _0x1960cd=null;(_0x570afc===_0x3d6a81(0x525)||_0x570afc===_0x3d6a81(0xc4d)||_0x570afc===_0x3d6a81(0x316))&&(_0x1960cd=parseInt(_0x8d0ef5));_0xc1f26[_0x3d6a81(0xae0)+_0x24c866+'.lastAnswerIndex']=_0x1960cd;const _0x34b828={'questionIndex':_0x12c9cb[_0x3d6a81(0xa73)],'questionId':_0x573c27['id'],'answer':_0x8d0ef5,'answerText':_0x3ca66e,'isCorrect':_0x745a56,'originalQuestionText':_0x573c27[_0x3d6a81(0xcd1)]||_0x573c27[_0x3d6a81(0x722)],'wasConfident':_0x5e44a0};_0xc1f26[_0x3d6a81(0xae0)+_0x24c866+_0x3d6a81(0x4f5)]=arrayUnion(_0x34b828),await updateDoc(_0x4ae479,_0xc1f26);}initialize();
