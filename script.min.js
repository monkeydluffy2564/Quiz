const _0x1dbc7e=_0x320f;(function(_0x1d146b,_0x5ee92b){const _0x1a6fad=_0x320f,_0x4e762b=_0x1d146b();while(!![]){try{const _0x529c3d=parseInt(_0x1a6fad(0x691))/0x1*(-parseInt(_0x1a6fad(0x70e))/0x2)+-parseInt(_0x1a6fad(0x6fe))/0x3+-parseInt(_0x1a6fad(0x4e5))/0x4*(-parseInt(_0x1a6fad(0x274))/0x5)+-parseInt(_0x1a6fad(0x7cd))/0x6*(parseInt(_0x1a6fad(0xe70))/0x7)+parseInt(_0x1a6fad(0xe96))/0x8*(-parseInt(_0x1a6fad(0x970))/0x9)+-parseInt(_0x1a6fad(0x343))/0xa+parseInt(_0x1a6fad(0xa14))/0xb;if(_0x529c3d===_0x5ee92b)break;else _0x4e762b['push'](_0x4e762b['shift']());}catch(_0x7d1f07){_0x4e762b['push'](_0x4e762b['shift']());}}}(_0x49d1,0x30b6f));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x1dbc7e(0x28d),_0x1dbc7e(0x8e5),_0x1dbc7e(0xd5d),_0x1dbc7e(0x40b),_0x1dbc7e(0xa39),_0x1dbc7e(0x5b5),_0x1dbc7e(0xa78),'สิงโตยิ้ม',_0x1dbc7e(0xe69),'จิงโจ้สโลว์ไลฟ์',_0x1dbc7e(0x74a),'มือปราบสายรุ้ง',_0x1dbc7e(0xdb6),'สายลมแห่งโชคชะตา','อัศวินรัตติกาล',_0x1dbc7e(0xeac),_0x1dbc7e(0xd04),_0x1dbc7e(0x20c),_0x1dbc7e(0x7ea),'มังกรกินจุ',_0x1dbc7e(0xa1e),_0x1dbc7e(0xa1c),_0x1dbc7e(0x6f3),_0x1dbc7e(0xd80),_0x1dbc7e(0x228),_0x1dbc7e(0x3fd),_0x1dbc7e(0x1ff),_0x1dbc7e(0x8f6),_0x1dbc7e(0xba9),'หนอนหนังสือ','ยอดนักสืบ',_0x1dbc7e(0xbf6),'คนดีศรีสยาม','ดาวTikTok','ยูทูปเบอร์ฝึกหัด',_0x1dbc7e(0xdf4),_0x1dbc7e(0x693),'อินฟลูเอนเซอร์',_0x1dbc7e(0x358),'ดาวสภา',_0x1dbc7e(0xde0),_0x1dbc7e(0xa00),_0x1dbc7e(0xe42),'พิซซ่าหน้าทุเรียน',_0x1dbc7e(0x229),_0x1dbc7e(0x4ba),'หมูกระทะจะเยียวยาทุกสิ่ง',_0x1dbc7e(0xd58),_0x1dbc7e(0xb9e),_0x1dbc7e(0xa56),_0x1dbc7e(0x998),_0x1dbc7e(0x6bb),_0x1dbc7e(0x52a),_0x1dbc7e(0x7dd),_0x1dbc7e(0xb86),'แบตหมด',_0x1dbc7e(0x67d),'โหลดนาน','404\x20Not\x20Found','กองดอง',_0x1dbc7e(0x2ec),_0x1dbc7e(0xe9a),_0x1dbc7e(0x8be),'ก้อนเมฆ',_0x1dbc7e(0x62a),'ท้องฟ้า','ทะเล',_0x1dbc7e(0x2e6),'ป่าไม้',_0x1dbc7e(0x99e),'นักเดินทาง',_0x1dbc7e(0xaba),'เกมเมอร์','ศิลปิน','นักดนตรี',_0x1dbc7e(0x6d8),_0x1dbc7e(0xa0f),_0x1dbc7e(0x2ba),_0x1dbc7e(0x515),'ครูใหญ่','พลังคลื่นเต่า',_0x1dbc7e(0xdcf),_0x1dbc7e(0x810),_0x1dbc7e(0x8ee),_0x1dbc7e(0xdbc),_0x1dbc7e(0xa4e),_0x1dbc7e(0x329),'ไอรอนแมน',_0x1dbc7e(0x6be),_0x1dbc7e(0xa24),_0x1dbc7e(0x2b9),_0x1dbc7e(0x268),_0x1dbc7e(0x5ef),_0x1dbc7e(0x836),_0x1dbc7e(0x5e9),_0x1dbc7e(0xba7),_0x1dbc7e(0x38a),_0x1dbc7e(0x394),_0x1dbc7e(0x294),'มูเตลู'];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x1dbc7e(0x829),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x1dbc7e(0x829),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x1dbc7e(0x829),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x22f050=_0x1dbc7e;if(_0x22f050(0x293)in navigator)try{wakeLock=await navigator['wakeLock'][_0x22f050(0x6ad)](_0x22f050(0xe0c)),console[_0x22f050(0x545)](_0x22f050(0xe06)),wakeLock[_0x22f050(0x939)](_0x22f050(0xc7a),()=>{const _0x42a638=_0x22f050;console[_0x42a638(0x545)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x5ca280){console[_0x22f050(0x300)](_0x22f050(0x5e3)+_0x5ca280[_0x22f050(0x39f)]+',\x20'+_0x5ca280[_0x22f050(0x83d)]);}else console['warn'](_0x22f050(0x29b));},releaseWakeLock=async()=>{const _0x521c53=_0x1dbc7e;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x521c53(0x545)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0xfea3eb=_0x1dbc7e;if(!document[_0xfea3eb(0xb46)]['classList'][_0xfea3eb(0x381)](_0xfea3eb(0x4d7))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x4ea904=_0xfea3eb;document[_0x4ea904(0xb46)]['classList'][_0x4ea904(0xc24)]('dimmed'),console[_0x4ea904(0x545)](_0x4ea904(0xdbb));},inactivityTime);}}function wakeUpScreen(_0x514d3f){const _0x5a99ff=_0x1dbc7e;_0x514d3f&&(_0x514d3f[_0x5a99ff(0xa2c)](),_0x514d3f[_0x5a99ff(0x726)]());document[_0x5a99ff(0xb46)][_0x5a99ff(0x820)][_0x5a99ff(0xda2)](_0x5a99ff(0x4d7));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x43788f=_0x5a99ff;document['body'][_0x43788f(0x820)][_0x43788f(0xc24)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x6c8b5e=_0x1dbc7e;if(dimTimer)clearTimeout(dimTimer);document[_0x6c8b5e(0xb46)][_0x6c8b5e(0x820)][_0x6c8b5e(0xda2)](_0x6c8b5e(0x4d7)),window[_0x6c8b5e(0xed4)]('mousemove',resetDimTimer),window['removeEventListener'](_0x6c8b5e(0x8a9),resetDimTimer),window[_0x6c8b5e(0xed4)]('touchstart',resetDimTimer),window[_0x6c8b5e(0xed4)](_0x6c8b5e(0x9e5),resetDimTimer),console['log']('หยุดระบบจับเวลาหรี่หน้าจอ');}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x314896,_0x5f4710=![]){const _0x5170ac=_0x1dbc7e,_0x5b9ec1=allQuizzes['find'](_0x49081d=>_0x49081d['id']===_0x314896)||allQuizzesGlobal['find'](_0x56c71c=>_0x56c71c['id']===_0x314896);if(!_0x5b9ec1){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x5b9ec1);const _0x2e16c9=Math[_0x5170ac(0x982)](0x3e8+Math[_0x5170ac(0x92b)]()*0x2328)[_0x5170ac(0x992)]();try{const _0x4b8841=await addDoc(collection(db,_0x5170ac(0xd90)+appId+'/public/data/teamQuizzes'),{'quizId':_0x5b9ec1['id'],'projectId':_0x5b9ec1[_0x5170ac(0x6ea)],'status':_0x5170ac(0xcc9),'pin':_0x2e16c9,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5f4710});currentTeamQuizId=_0x4b8841['id'],showView(_0x5170ac(0xc2b)),renderAdminTeamQuizDashboard(_0x2e16c9,_0x5b9ec1['topic']),listenForTeamQuizUpdates();}catch(_0x25cb42){console[_0x5170ac(0x300)](_0x5170ac(0xbdd),_0x25cb42),showMessage(_0x5170ac(0x4ae));}}function renderAdminTeamQuizDashboard(_0x131a82,_0x38de21,_0x3a8633='team'){const _0x54500b=_0x1dbc7e,_0x31a317=_0x3a8633===_0x54500b(0x654)?_0x54500b(0xd4d):_0x54500b(0x37b);liveGameView[_0x54500b(0x5dd)]=_0x54500b(0x62e)+_0x31a317+':\x20'+_0x38de21+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x131a82+_0x54500b(0x757),document['getElementById'](_0x54500b(0x265))[_0x54500b(0x939)](_0x54500b(0xa25),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0x50a5d6=_0x320f;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x50a5d6(0xd90)+appId+_0x50a5d6(0xdc5),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x44dfff=_0x1dbc7e;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x68b21b=doc(db,_0x44dfff(0xd90)+appId+_0x44dfff(0xdc5),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x68b21b,_0x463ae6=>{const _0x30f457=_0x44dfff;if(!_0x463ae6['exists']()){sessionStorage['removeItem'](_0x30f457(0xec8));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x30f457(0x877));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x30f457(0xbfc)):showView(_0x30f457(0x7fe));return;}const _0x402291=_0x463ae6[_0x30f457(0x690)]();if(currentMode==='admin'){if(_0x402291[_0x30f457(0xda3)]===_0x30f457(0x654)&&_0x402291[_0x30f457(0x600)]!==_0x30f457(0xebc)&&_0x402291[_0x30f457(0x600)]!=='finished'){const _0x47c7a=Object['values'](_0x402291[_0x30f457(0x231)]||{});if(_0x47c7a[_0x30f457(0xc8f)]>0x0){const _0x1474b6=_0x47c7a[_0x30f457(0xea2)](_0x3c7387=>_0x3c7387[_0x30f457(0xbac)]===!![]);_0x1474b6&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x402291);}else{if(_0x402291[_0x30f457(0x600)]==='podium'||_0x402291[_0x30f457(0x600)]==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x402291[_0x30f457(0xda3)]===_0x30f457(0x654)){const _0x902e5=_0x402291[_0x30f457(0x231)][userId];(!_0x902e5||!_0x902e5[_0x30f457(0xbac)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x217973){const _0x28a7b0=_0x1dbc7e;console[_0x28a7b0(0x545)](_0x28a7b0(0x3a4));const _0x5db46f=doc(db,'artifacts/'+appId+_0x28a7b0(0xdc5),_0x217973);try{const _0x4fc2e7=await getDoc(_0x5db46f);if(_0x4fc2e7['exists']()){const _0x2f5979=_0x4fc2e7['data']();_0x2f5979['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x2f5979);}await updateDoc(_0x5db46f,{'status':'podium'});}catch(_0x287f41){console[_0x28a7b0(0x300)](_0x28a7b0(0x8d4),_0x287f41);}}function updateAdminTeamDashboard(_0x51d0c7){const _0x157c87=_0x1dbc7e,_0x5ea664=document['getElementById'](_0x157c87(0x9fc));if(!_0x5ea664)return;const _0x4e1301=_0x51d0c7[_0x157c87(0xda3)]||'team',_0x514621=currentQuizData[_0x157c87(0x882)][_0x157c87(0xc8f)];if(_0x4e1301===_0x157c87(0x654)){const _0x283c98=Object[_0x157c87(0x368)](_0x51d0c7[_0x157c87(0x231)]||{});if(_0x283c98[_0x157c87(0xc8f)]===0x0){_0x5ea664[_0x157c87(0x5dd)]=_0x157c87(0xbd9);return;}const _0x397e46=[..._0x283c98][_0x157c87(0x24d)]((_0x3839af,_0x131c40)=>_0x131c40[_0x157c87(0x7ee)]-_0x3839af[_0x157c87(0x7ee)]),_0x44a611=_0x397e46[_0x157c87(0xab8)]((_0x18c2ff,_0x4febb9)=>{const _0x2cc1ad=_0x157c87,_0x454eb3=_0x18c2ff[_0x2cc1ad(0x9e0)]?.[_0x2cc1ad(0xc8f)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x4febb9+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x18c2ff['members'][_0x2cc1ad(0xbc8)](',\x20')+_0x2cc1ad(0x8cd)+_0x454eb3+'/'+_0x514621+_0x2cc1ad(0xd7f)+_0x18c2ff[_0x2cc1ad(0x7ee)]+_0x2cc1ad(0xe39);})[_0x157c87(0xbc8)](''),_0x521b2f=currentQuizData['questions']['map']((_0x283922,_0x13d6ce)=>{const _0x548fe3=_0x157c87;let _0x5de4b6=0x0,_0x23cc39=0x0;_0x283c98[_0x548fe3(0xb04)](_0x2dc725=>{const _0x2fdf06=_0x548fe3,_0x45bb32=_0x2dc725['answers']?.['find'](_0x1f9040=>_0x1f9040[_0x2fdf06(0x78a)]===_0x13d6ce);if(_0x45bb32){_0x23cc39++;if(_0x45bb32['isCorrect'])_0x5de4b6++;}});const _0x31cfc7=_0x23cc39>0x0&&_0x23cc39===_0x283c98['length'],_0x3d7a0c=_0x31cfc7?_0x548fe3(0x9f5):_0x548fe3(0x694),_0x4988ce=_0x31cfc7?_0x548fe3(0x371):'';return _0x548fe3(0xa3f)+_0x3d7a0c+_0x548fe3(0x87b)+(_0x13d6ce+0x1)+_0x548fe3(0x2ad)+_0x4988ce+'</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20'+_0x5de4b6+'/'+_0x283c98['length']+_0x548fe3(0xc9a);})['join']('');_0x5ea664[_0x157c87(0x5dd)]=_0x157c87(0x99b)+_0x44a611+_0x157c87(0xab0)+_0x521b2f+_0x157c87(0x2a9);return;}const _0x30b94f=_0x51d0c7[_0x157c87(0xc2d)]||{},_0x262370=Object[_0x157c87(0x6e2)](_0x30b94f);if(_0x262370[_0x157c87(0xc8f)]===0x0){_0x5ea664[_0x157c87(0x5dd)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0xd29d92=_0x262370[_0x157c87(0xab8)](_0x239d98=>({'name':_0x239d98,'score':_0x30b94f[_0x239d98][_0x157c87(0x7ee)]||0x0}))[_0x157c87(0x24d)]((_0x3136d9,_0x30b90d)=>_0x30b90d['score']-_0x3136d9[_0x157c87(0x7ee)]),_0x368cd9=_0xd29d92[_0x157c87(0xab8)](_0x40cb34=>{const _0x158e4f=_0x157c87,_0x2e60b6=_0x30b94f[_0x40cb34[_0x158e4f(0x39f)]]?.[_0x158e4f(0x9e0)]?.['length']||0x0,_0x1dad3f=Math[_0x158e4f(0x5c2)](_0x514621/_0x262370[_0x158e4f(0xc8f)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x40cb34[_0x158e4f(0x39f)]+_0x158e4f(0xcb1)+_0x2e60b6+'/'+_0x1dad3f+_0x158e4f(0xe6a)+_0x40cb34['score']+_0x158e4f(0x6cc);})[_0x157c87(0xbc8)](''),_0x293826=_0x262370[_0x157c87(0xc03)]((_0x1b3910,_0x44f841)=>_0x1b3910+(_0x30b94f[_0x44f841][_0x157c87(0x9e0)]?.[_0x157c87(0xc8f)]||0x0),0x0),_0x29ef4b=currentQuizData[_0x157c87(0x882)][_0x157c87(0xab8)]((_0x1eaec3,_0xdd80e)=>{const _0x5c21e5=_0x157c87;let _0x2599c5=null,_0x36ed10=null;for(const _0x379d3d of _0x262370){const _0x31ae67=_0x30b94f[_0x379d3d]['answers']?.[_0x5c21e5(0x36c)](_0x13c721=>_0x13c721[_0x5c21e5(0x78a)]===_0xdd80e);if(_0x31ae67){_0x2599c5=_0x31ae67,_0x36ed10=_0x379d3d;break;}}const _0x20fe89=!!_0x2599c5,_0x51be8e=_0x20fe89&&_0x2599c5[_0x5c21e5(0xa97)],_0xf3daf1=(Math[_0x5c21e5(0x982)](_0xdd80e/_0x262370[_0x5c21e5(0xc8f)])+0x1)*_0x262370[_0x5c21e5(0xc8f)],_0x4420df=_0x293826>=_0xf3daf1,_0x20f874=_0x4420df?_0x5c21e5(0x74f):_0x5c21e5(0x694),_0x2225dd=_0x4420df?_0x5c21e5(0x371):'';let _0x2082ee=_0x5c21e5(0xc02);return _0x20fe89&&(_0x2082ee=_0x36ed10+'\x20ตอบ'+(_0x51be8e?_0x5c21e5(0x84e):_0x5c21e5(0xbcd))),_0x5c21e5(0xa3f)+_0x20f874+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0xdd80e+0x1)+':</span><span>'+_0x2225dd+_0x5c21e5(0x291)+_0x2082ee+_0x5c21e5(0x4e0);})[_0x157c87(0xbc8)]('');_0x5ea664['innerHTML']='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x368cd9+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x29ef4b+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x2a9833=_0x1dbc7e,_0x4b41bc=prompt(_0x2a9833(0x66c));if(!_0x4b41bc||_0x4b41bc[_0x2a9833(0xbe3)]()[_0x2a9833(0xc8f)]!==0x4){showMessage(_0x2a9833(0x5cf));return;}try{const _0x35cce4=collection(db,_0x2a9833(0xd90)+appId+_0x2a9833(0xdc5)),_0x15ce1d=query(_0x35cce4,where('pin','==',_0x4b41bc['trim']()),where('status','==','lobby')),_0x468fb2=await getDocs(_0x15ce1d);if(_0x468fb2[_0x2a9833(0x553)]){showMessage(_0x2a9833(0xa75));return;}const _0x506324=_0x468fb2[_0x2a9833(0xd16)][0x0];currentTeamQuizId=_0x506324['id'];const _0x31c540=_0x506324[_0x2a9833(0x690)](),_0x3f0557=doc(db,_0x2a9833(0xd90)+appId+_0x2a9833(0xb97),_0x31c540[_0x2a9833(0x6ea)]),_0x17bae1=doc(db,_0x2a9833(0xd90)+appId+_0x2a9833(0x806),_0x31c540[_0x2a9833(0x7ff)]),[_0x4201f7,_0xe97bb2]=await Promise[_0x2a9833(0x829)]([getDoc(_0x3f0557),getDoc(_0x17bae1)]);if(!_0x4201f7[_0x2a9833(0x5c5)]()||!_0xe97bb2[_0x2a9833(0x5c5)]())throw new Error(_0x2a9833(0x57c));currentQuizData=getShuffledQuiz({'id':_0xe97bb2['id'],..._0xe97bb2[_0x2a9833(0x690)]()});const _0x1b6a97=_0x4201f7[_0x2a9833(0x690)]();showTeamPlayerSelection(_0x1b6a97[_0x2a9833(0xda0)],currentQuizData['topic']);}catch(_0x548380){console[_0x2a9833(0x300)]('Error\x20joining\x20team\x20quiz:',_0x548380),showMessage(_0x2a9833(0xcac)+_0x548380[_0x2a9833(0x83d)]);}}async function handleJoinGroupActivity(){const _0x4a9709=_0x1dbc7e,_0x28a140=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x28a140||_0x28a140[_0x4a9709(0xbe3)]()[_0x4a9709(0xc8f)]!==0x4){showMessage(_0x4a9709(0xc3e));return;}const _0x3bcb85=_0x28a140[_0x4a9709(0xbe3)]();showMessage(_0x4a9709(0x442));try{const _0x554842=collection(db,_0x4a9709(0xd90)+appId+_0x4a9709(0xdc5)),_0xdce8f=query(_0x554842,where(_0x4a9709(0xa29),'==',_0x3bcb85),where(_0x4a9709(0x600),'==','lobby')),_0x525efc=await getDocs(_0xdce8f);if(!_0x525efc[_0x4a9709(0x553)]){console[_0x4a9709(0x545)](_0x4a9709(0xd17)),await proceedWithTeamQuizJoin(_0x525efc[_0x4a9709(0xd16)][0x0]);return;}const _0xe2801e=collection(db,_0x4a9709(0xd90)+appId+_0x4a9709(0x3c6)),_0x48435b=query(_0xe2801e,where(_0x4a9709(0xa29),'==',_0x3bcb85),where(_0x4a9709(0x600),'in',['lobby','question',_0x4a9709(0xdf0),_0x4a9709(0xe87)])),_0x4ff230=await getDocs(_0x48435b);if(!_0x4ff230[_0x4a9709(0x553)]){console[_0x4a9709(0x545)](_0x4a9709(0xa18)),await proceedWithSyncQuizJoin(_0x4ff230[_0x4a9709(0xd16)][0x0]);return;}showMessage(_0x4a9709(0xed2));}catch(_0x3b9a11){console[_0x4a9709(0x300)](_0x4a9709(0x527),_0x3b9a11),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x3b9a11[_0x4a9709(0x83d)]);}}async function proceedWithTeamQuizJoin(_0x8de11b){const _0x1714f2=_0x1dbc7e;currentTeamQuizId=_0x8de11b['id'];const _0x48b0de=_0x8de11b[_0x1714f2(0x690)](),_0x58d52f=doc(db,_0x1714f2(0xd90)+appId+'/public/data/projects',_0x48b0de['projectId']),_0x16080f=doc(db,_0x1714f2(0xd90)+appId+_0x1714f2(0x806),_0x48b0de[_0x1714f2(0x7ff)]),[_0x514e66,_0xf0ae6c]=await Promise[_0x1714f2(0x829)]([getDoc(_0x58d52f),getDoc(_0x16080f)]);if(!_0x514e66[_0x1714f2(0x5c5)]()||!_0xf0ae6c['exists']())throw new Error(_0x1714f2(0x57c));currentQuizData=getShuffledQuiz({'id':_0xf0ae6c['id'],..._0xf0ae6c[_0x1714f2(0x690)]()}),showTeamPlayerSelection(_0x514e66[_0x1714f2(0x690)]()[_0x1714f2(0xda0)],currentQuizData[_0x1714f2(0x2d2)],_0x48b0de[_0x1714f2(0xda3)]||_0x1714f2(0xa3c)),messageModal[_0x1714f2(0x820)][_0x1714f2(0xc24)](_0x1714f2(0x330));}async function proceedWithSyncQuizJoin(_0x363d60){const _0x5d600c=_0x1dbc7e;currentLiveGameId=_0x363d60['id'];const _0x74b9e=_0x363d60['data'](),_0x5848eb=doc(db,_0x5d600c(0xd90)+appId+_0x5d600c(0x806),_0x74b9e[_0x5d600c(0x7ff)]),_0x363242=await getDoc(_0x5848eb);if(!_0x363242['exists']())throw new Error(_0x5d600c(0xbd4));const _0x5909b2=_0x363242['data'](),_0x191461=doc(db,'artifacts/'+appId+_0x5d600c(0xb97),_0x5909b2[_0x5d600c(0x6ea)]),_0x4ab3de=await getDoc(_0x191461);if(!_0x4ab3de['exists']())throw new Error(_0x5d600c(0x493));currentQuizData=_0x74b9e[_0x5d600c(0x2b5)],showView('student-team-join'),showTeamPlayerSelection(_0x4ab3de[_0x5d600c(0x690)]()[_0x5d600c(0xda0)],_0x5909b2[_0x5d600c(0x2d2)],'sync');const _0x5632d0=document['getElementById'](_0x5d600c(0x365)),_0xabf2fd=_0x5632d0['cloneNode'](!![]);_0x5632d0['parentNode'][_0x5d600c(0xde3)](_0xabf2fd,_0x5632d0),_0xabf2fd[_0x5d600c(0x590)]=confirmAndJoinSyncGame,messageModal['classList'][_0x5d600c(0xc24)](_0x5d600c(0x330));}function getCleanApplicationHTML(){const _0x11167d=_0x1dbc7e,_0x362203=document['getElementById'](_0x11167d(0xd0a));if(!_0x362203)return'';const _0x837d60=_0x362203[_0x11167d(0xaf2)](!![]);return _0x837d60['querySelectorAll'](_0x11167d(0x3ac))[_0x11167d(0xb04)](_0x50e3f2=>{const _0x167f8=_0x11167d;_0x50e3f2['classList']['remove'](_0x167f8(0xe0b),_0x167f8(0x72c)),_0x50e3f2[_0x167f8(0xce0)]=![];}),_0x837d60['innerHTML'];}function showTeamPlayerSelection(_0x17c2c4,_0x30f36c,_0x5b33be=_0x1dbc7e(0xa3c)){const _0x4e7978=_0x1dbc7e;studentInitialView[_0x4e7978(0x820)][_0x4e7978(0xc24)](_0x4e7978(0x330)),studentJoinGameView[_0x4e7978(0x820)]['add']('hidden'),document[_0x4e7978(0x722)]('student-team-selection-view')[_0x4e7978(0x820)]['remove'](_0x4e7978(0x330));let _0x11710f=_0x4e7978(0x37b);if(_0x5b33be==='group')_0x11710f=_0x4e7978(0xd4d);else _0x5b33be===_0x4e7978(0x441)&&(_0x11710f='Sync\x20Mode');document[_0x4e7978(0x722)](_0x4e7978(0x2bb))[_0x4e7978(0x2eb)]=_0x11710f+':\x20'+_0x30f36c;const _0x451a86=document[_0x4e7978(0x722)](_0x4e7978(0xa1b));if(!_0x17c2c4||_0x17c2c4[_0x4e7978(0xc8f)]===0x0){_0x451a86['innerHTML']='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0x4e7978(0x722)](_0x4e7978(0x365))[_0x4e7978(0xce0)]=!![];return;}_0x451a86[_0x4e7978(0x5dd)]=_0x17c2c4[_0x4e7978(0xab8)](_0x4d275f=>_0x4e7978(0x3cd)+_0x4d275f+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x4d275f+_0x4e7978(0xeb9))[_0x4e7978(0xbc8)](''),document['getElementById']('confirm-team-players-btn')[_0x4e7978(0xce0)]=![];}async function confirmAndStartTeamQuiz(){const _0xce9124=_0x1dbc7e,_0x3bbe33=Array['from'](document['querySelectorAll'](_0xce9124(0xc7f)))[_0xce9124(0xab8)](_0x289326=>_0x289326[_0xce9124(0xa46)]);if(_0x3bbe33[_0xce9124(0xc8f)]===0x0){showMessage(_0xce9124(0x207));return;}localTeamPlayers=_0x3bbe33,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x26bc1e=doc(db,_0xce9124(0xd90)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x6cfff0=await getDoc(_0x26bc1e);if(!_0x6cfff0[_0xce9124(0x5c5)]())throw new Error(_0xce9124(0xf07));const _0x33c8e8=_0x6cfff0[_0xce9124(0x690)]();if(_0x33c8e8[_0xce9124(0xda3)]==='group'){const _0x3babe2={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x26bc1e,_0x3babe2);}else{const _0x57ce84=_0x33c8e8[_0xce9124(0xc2d)]||{};localTeamPlayers[_0xce9124(0xb04)](_0x1a7cd5=>{!_0x57ce84[_0x1a7cd5]&&(_0x57ce84[_0x1a7cd5]={'score':0x0,'answers':[]});}),await updateDoc(_0x26bc1e,{'responses':_0x57ce84});}document[_0xce9124(0x722)](_0xce9124(0xee4))[_0xce9124(0x820)][_0xce9124(0xc24)](_0xce9124(0x330)),renderTeamQuizQuestion();const _0xcd3ea3={'gameId':currentTeamQuizId,'mode':_0x33c8e8[_0xce9124(0xda3)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0xce9124(0xcdd)](_0xce9124(0xec8),JSON[_0xce9124(0xa70)](_0xcd3ea3)),listenForTeamQuizUpdates();}catch(_0x1e99b4){console['error'](_0xce9124(0x915),_0x1e99b4),showMessage(_0xce9124(0xb8c));}}async function renderTeamQuizQuestion(){const _0x32d97e=_0x1dbc7e;if(localQuestionIndex>=currentQuizData[_0x32d97e(0x882)][_0x32d97e(0xc8f)]){displayTeamQuizFinalResults();return;}const _0x2f25d3=currentQuizData[_0x32d97e(0x882)][localQuestionIndex],_0x2283cf=localTeamPlayers[localPlayerIndex],_0x462d0e=_0x2f25d3['questionType']||currentQuizData['quizType'];let _0x34f173=_0x2f25d3['stem']||_0x2f25d3['questionText'],_0x396ed7='';switch(_0x462d0e){case _0x32d97e(0x6e6):case _0x32d97e(0x732):_0x396ed7=_0x2f25d3[_0x32d97e(0x9d3)]['map']((_0x4d82a6,_0x4a9ff1)=>_0x32d97e(0x538)+_0x4a9ff1+_0x32d97e(0xdc3)+_0x4a9ff1+_0x32d97e(0xc17)+_0x4a9ff1+'\x22>'+_0x4d82a6+'</label></div>')['join']('');break;case _0x32d97e(0x3f7):_0x396ed7=_0x32d97e(0xd07);break;case _0x32d97e(0x432):case _0x32d97e(0xec9):_0x396ed7=_0x32d97e(0xe8d);break;case'matching_item':_0x396ed7=_0x32d97e(0xecc)+_0x2f25d3[_0x32d97e(0xb68)][_0x32d97e(0xab8)](_0x49b781=>_0x32d97e(0x9de)+_0x49b781+'\x22>'+_0x49b781+_0x32d97e(0xa4f))[_0x32d97e(0xbc8)]('')+_0x32d97e(0xaa2);break;default:_0x396ed7=_0x32d97e(0x79e);break;}studentQuizArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x32d97e(0x4df)+currentQuizData[_0x32d97e(0x882)][_0x32d97e(0xc8f)]+_0x32d97e(0x6f9)+_0x2283cf+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x34f173+_0x32d97e(0xee6)+(_0x2f25d3[_0x32d97e(0x79d)]?_0x32d97e(0x73e)+_0x2f25d3[_0x32d97e(0x79d)]+_0x32d97e(0x607):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x396ed7+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x32d97e(0x820)][_0x32d97e(0xda2)](_0x32d97e(0x330));if(window['MathJax'])MathJax[_0x32d97e(0x303)]([studentQuizArea]);document[_0x32d97e(0x722)]('submit-team-answer-btn')[_0x32d97e(0x939)](_0x32d97e(0xa25),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x29bc2b=_0x1dbc7e,_0x3abd69=currentQuizData[_0x29bc2b(0x882)][localQuestionIndex],_0x4908b2=_0x3abd69[_0x29bc2b(0xbd0)]||currentQuizData[_0x29bc2b(0x4f4)];let _0x338a52=null,_0x5109a9=![];if(_0x4908b2===_0x29bc2b(0x432)||_0x4908b2===_0x29bc2b(0xec9)){const _0x521d31=document[_0x29bc2b(0x390)]('textarea[name=\x22team_answer\x22]');if(!_0x521d31||!_0x521d31[_0x29bc2b(0xa46)]['trim']()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x338a52=_0x521d31[_0x29bc2b(0xa46)]['trim'](),_0x5109a9=await gradeShortAnswer(_0x338a52,_0x3abd69);}else{const _0x3c5de9=document[_0x29bc2b(0x390)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x3c5de9||_0x3c5de9['value']===''){showMessage(_0x29bc2b(0xce9));return;}_0x338a52=_0x3c5de9[_0x29bc2b(0xa46)];switch(_0x4908b2){case _0x29bc2b(0x3f7):_0x5109a9=_0x338a52==='true'===_0x3abd69['correctAnswer'];break;case _0x29bc2b(0xd24):_0x5109a9=_0x338a52===_0x3abd69[_0x29bc2b(0xb40)];break;default:_0x5109a9=parseInt(_0x338a52)===_0x3abd69['correctAnswerIndex'];break;}}const _0x1cf170={'questionIndex':localQuestionIndex,'isCorrect':_0x5109a9},_0x2824f0=userId,_0x6f49b8={[_0x29bc2b(0xb55)+_0x2824f0+'.answers']:arrayUnion(_0x1cf170)};_0x5109a9&&(_0x6f49b8[_0x29bc2b(0xb55)+_0x2824f0+'.score']=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x29bc2b(0xdc5),currentTeamQuizId),_0x6f49b8),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x29bc2b(0x882)][_0x29bc2b(0xc8f)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x58474d){console[_0x29bc2b(0x300)]('Error\x20submitting\x20group\x20answer:',_0x58474d),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x2f733a=_0x1dbc7e,_0x28364a=await getDoc(doc(db,_0x2f733a(0xd90)+appId+_0x2f733a(0xdc5),currentTeamQuizId));if(!_0x28364a[_0x2f733a(0x5c5)]())return;const _0x277c2a=_0x28364a[_0x2f733a(0x690)]();if(_0x277c2a[_0x2f733a(0xda3)]==='group'){handleGroupAnswerSubmit();return;}const _0x4d6a78=localTeamPlayers[localPlayerIndex],_0x530141=currentQuizData[_0x2f733a(0x882)][localQuestionIndex],_0x3ce18a=_0x530141['questionType']||currentQuizData[_0x2f733a(0x4f4)];let _0x288f4e=null,_0x588ffd=![];if(_0x3ce18a===_0x2f733a(0x432)||_0x3ce18a===_0x2f733a(0xec9)){const _0x1cc96e=document['querySelector'](_0x2f733a(0xa61));if(!_0x1cc96e||!_0x1cc96e[_0x2f733a(0xa46)]['trim']()){showMessage(_0x2f733a(0x3ad));return;}_0x288f4e=_0x1cc96e[_0x2f733a(0xa46)][_0x2f733a(0xbe3)](),_0x588ffd=await gradeShortAnswer(_0x288f4e,_0x530141);}else{const _0x4fdf97=document[_0x2f733a(0x390)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x4fdf97||_0x4fdf97[_0x2f733a(0xa46)]===''){showMessage(_0x2f733a(0x255));return;}_0x288f4e=_0x4fdf97[_0x2f733a(0xa46)];switch(_0x3ce18a){case'true_false':_0x588ffd=_0x288f4e===_0x2f733a(0x761)===_0x530141[_0x2f733a(0x72b)];break;case'matching_item':_0x588ffd=_0x288f4e===_0x530141[_0x2f733a(0xb40)];break;default:_0x588ffd=parseInt(_0x288f4e)===_0x530141[_0x2f733a(0x7e1)];break;}}const _0x4a0265={'questionIndex':localQuestionIndex,'isCorrect':_0x588ffd,'answerValue':_0x288f4e},_0x390c7a={['responses.'+_0x4d6a78+_0x2f733a(0xd4e)]:arrayUnion(_0x4a0265)};_0x588ffd&&(_0x390c7a[_0x2f733a(0x964)+_0x4d6a78+_0x2f733a(0x4bc)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x2f733a(0xdc5),currentTeamQuizId),_0x390c7a),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x4a85d1){console[_0x2f733a(0x300)](_0x2f733a(0xacd),_0x4a85d1),showMessage(_0x2f733a(0xedc));}}async function displayTeamQuizFinalResults(){const _0x2eff25=_0x1dbc7e;studentQuizArea[_0x2eff25(0x820)][_0x2eff25(0xc24)](_0x2eff25(0x330)),studentResultArea[_0x2eff25(0x820)][_0x2eff25(0xda2)]('hidden');const _0x45019d=doc(db,_0x2eff25(0xd90)+appId+_0x2eff25(0xdc5),currentTeamQuizId),_0x197325=await getDoc(_0x45019d);if(!_0x197325['exists']()){studentResultArea['innerHTML']=_0x2eff25(0xd37);return;}const _0x3e86fd=_0x197325[_0x2eff25(0x690)]();let _0x23f2d7=[];const _0x595fc6=_0x3e86fd[_0x2eff25(0xda3)]||_0x2eff25(0xa3c);if(_0x595fc6===_0x2eff25(0x654)){const _0x334070=_0x3e86fd[_0x2eff25(0x231)][userId];_0x334070?_0x23f2d7=[{'name':_0x2eff25(0x6f7)+localTeamPlayers[_0x2eff25(0xbc8)](',\x20'),'score':_0x334070[_0x2eff25(0x7ee)]||0x0}]:_0x23f2d7=[{'name':_0x2eff25(0xc4f),'score':'N/A'}];}else _0x23f2d7=localTeamPlayers[_0x2eff25(0xab8)](_0x5beec0=>({'name':_0x5beec0,'score':_0x3e86fd[_0x2eff25(0xc2d)][_0x5beec0]?.[_0x2eff25(0x7ee)]||0x0}))['sort']((_0x2860be,_0x53227c)=>_0x53227c[_0x2eff25(0x7ee)]-_0x2860be[_0x2eff25(0x7ee)]);studentResultArea['innerHTML']=_0x2eff25(0xc81)+_0x23f2d7['map'](_0x31addb=>_0x2eff25(0x480)+_0x31addb[_0x2eff25(0x39f)]+_0x2eff25(0xe2b)+_0x31addb[_0x2eff25(0x7ee)]+_0x2eff25(0xd4f))[_0x2eff25(0xbc8)]('')+_0x2eff25(0xa5c),sessionStorage['removeItem'](_0x2eff25(0xec8)),currentMode===_0x2eff25(0x2f1)&&currentTeamQuizId&&setTimeout(()=>{deleteDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x1dbc7e(0xb02),'pinnedProjects':[],'projectView':_0x1dbc7e(0x518)};const allMathTopics=[{'category':_0x1dbc7e(0xd1b),'name':'การนับ'},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0xae1)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0x5bf)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0xb36)},{'category':'จำนวนและการดำเนินการ','name':_0x1dbc7e(0xae9)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0x560)},{'category':_0x1dbc7e(0xd1b),'name':'การคูณ'},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0xc39)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0x344)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0xdd6)},{'category':_0x1dbc7e(0xd1b),'name':'ศูนย์'},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0xc21)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0xcc4)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0x519)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0xb3c)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0xd74)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0x954)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0x955)},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0x91d)},{'category':_0x1dbc7e(0xd1b),'name':'การลบเศษส่วน'},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0x5f4)},{'category':_0x1dbc7e(0xd1b),'name':'การหารเศษส่วน'},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0x363)},{'category':'จำนวนและการดำเนินการ','name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':'จำนวนและการดำเนินการ','name':_0x1dbc7e(0x304)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0x7af)},{'category':'จำนวนและการดำเนินการ','name':_0x1dbc7e(0x5b3)},{'category':_0x1dbc7e(0xd1b),'name':'การหารทศนิยม'},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0x67f)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0xc00)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0xee5)},{'category':_0x1dbc7e(0xd1b),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':'จำนวนและการดำเนินการ','name':_0x1dbc7e(0xa09)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0x387)},{'category':'จำนวนและการดำเนินการ','name':_0x1dbc7e(0x995)},{'category':_0x1dbc7e(0xd1b),'name':_0x1dbc7e(0x411)},{'category':_0x1dbc7e(0xa15),'name':'หน่วยความยาวและการแปลง'},{'category':_0x1dbc7e(0xa15),'name':_0x1dbc7e(0x681)},{'category':'การวัด','name':_0x1dbc7e(0xd76)},{'category':'การวัด','name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x1dbc7e(0xa15),'name':'อุณหภูมิและการแปลง'},{'category':_0x1dbc7e(0xa15),'name':'เส้นรอบรูป'},{'category':_0x1dbc7e(0xa15),'name':_0x1dbc7e(0x7b6)},{'category':'การวัด','name':_0x1dbc7e(0x71d)},{'category':_0x1dbc7e(0xa15),'name':_0x1dbc7e(0x679)},{'category':_0x1dbc7e(0xa15),'name':_0x1dbc7e(0xe13)},{'category':_0x1dbc7e(0xa15),'name':_0x1dbc7e(0xdcd)},{'category':_0x1dbc7e(0xa15),'name':_0x1dbc7e(0xb49)},{'category':_0x1dbc7e(0xa15),'name':_0x1dbc7e(0xd78)},{'category':'การวัด','name':_0x1dbc7e(0xe65)},{'category':_0x1dbc7e(0xa34),'name':_0x1dbc7e(0xe14)},{'category':_0x1dbc7e(0xa34),'name':_0x1dbc7e(0x678)},{'category':_0x1dbc7e(0xa34),'name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x1dbc7e(0xa34),'name':_0x1dbc7e(0x71d)},{'category':_0x1dbc7e(0xa34),'name':_0x1dbc7e(0x916)},{'category':_0x1dbc7e(0xa34),'name':_0x1dbc7e(0xe95)},{'category':'เรขาคณิต','name':_0x1dbc7e(0xd19)},{'category':_0x1dbc7e(0xa34),'name':_0x1dbc7e(0xc93)},{'category':_0x1dbc7e(0xa34),'name':_0x1dbc7e(0xe88)},{'category':_0x1dbc7e(0xa34),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x1dbc7e(0xa34),'name':_0x1dbc7e(0xbb5)},{'category':_0x1dbc7e(0xa34),'name':_0x1dbc7e(0x8dd)},{'category':'เรขาคณิต','name':_0x1dbc7e(0x7cf)},{'category':_0x1dbc7e(0xa34),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x1dbc7e(0xa34),'name':_0x1dbc7e(0x4dc)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1dbc7e(0xc22)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0x74d)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0x3cc)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1dbc7e(0x5c9)},{'category':_0x1dbc7e(0x621),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0xc48)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1dbc7e(0x597)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0xb6f)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0x261)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0xc76)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0x79a)},{'category':_0x1dbc7e(0x621),'name':'สมการยกกำลัง'},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0xda5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1dbc7e(0x608)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0x3f2)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0xab2)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0x568)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0x7d4)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0x5ba)},{'category':_0x1dbc7e(0x621),'name':'ฟังก์ชันผกผัน'},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0x75c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1dbc7e(0x7e5)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1dbc7e(0xeb0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1dbc7e(0xe4d)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0x8dc)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0x4da)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0x56c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1dbc7e(0x2cf)},{'category':_0x1dbc7e(0x621),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0xcb4)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0xee3)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0xb59)},{'category':_0x1dbc7e(0x621),'name':_0x1dbc7e(0x30f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x1dbc7e(0x35a)},{'category':'เรขาคณิตวิเคราะห์','name':_0x1dbc7e(0x745)},{'category':_0x1dbc7e(0xb45),'name':_0x1dbc7e(0x8b7)},{'category':_0x1dbc7e(0xb45),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x1dbc7e(0xb45),'name':_0x1dbc7e(0xf03)},{'category':_0x1dbc7e(0xb45),'name':_0x1dbc7e(0xddd)},{'category':_0x1dbc7e(0xb45),'name':_0x1dbc7e(0x4cd)},{'category':_0x1dbc7e(0xb45),'name':'วงรี'},{'category':_0x1dbc7e(0xb45),'name':'ไฮเพอร์โบลา'},{'category':_0x1dbc7e(0xd65),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x1dbc7e(0xd65),'name':_0x1dbc7e(0x623)},{'category':_0x1dbc7e(0xd65),'name':_0x1dbc7e(0x55d)},{'category':_0x1dbc7e(0xd65),'name':_0x1dbc7e(0xb52)},{'category':_0x1dbc7e(0xd65),'name':_0x1dbc7e(0x878)},{'category':_0x1dbc7e(0xd65),'name':_0x1dbc7e(0x307)},{'category':_0x1dbc7e(0xd65),'name':_0x1dbc7e(0x48d)},{'category':'ตรีโกณมิติ','name':'การแปลงรูปอัตลักษณ์'},{'category':'ตรีโกณมิติ','name':'สมการตรีโกณมิติ'},{'category':_0x1dbc7e(0xd65),'name':_0x1dbc7e(0x8b5)},{'category':_0x1dbc7e(0xd65),'name':_0x1dbc7e(0x4ce)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0x8c8)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0x25c)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0xaf6)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0xd01)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0xead)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0xd09)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0x5fa)},{'category':'สถิติและความน่าจะเป็น','name':_0x1dbc7e(0x6df)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0xda4)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0x455)},{'category':'สถิติและความน่าจะเป็น','name':_0x1dbc7e(0x4ab)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0x267)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0x345)},{'category':_0x1dbc7e(0x9a7),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0x43d)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0xbe9)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0x354)},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0x973)},{'category':'สถิติและความน่าจะเป็น','name':_0x1dbc7e(0x536)},{'category':_0x1dbc7e(0x9a7),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0x775)},{'category':_0x1dbc7e(0x9a7),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x1dbc7e(0x9a7),'name':_0x1dbc7e(0x896)},{'category':_0x1dbc7e(0xdb5),'name':_0x1dbc7e(0x417)},{'category':_0x1dbc7e(0xdb5),'name':_0x1dbc7e(0x5b4)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1dbc7e(0xac7)},{'category':_0x1dbc7e(0xdb5),'name':_0x1dbc7e(0x5c1)},{'category':_0x1dbc7e(0xdb5),'name':_0x1dbc7e(0x790)},{'category':_0x1dbc7e(0xdb5),'name':_0x1dbc7e(0x369)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1dbc7e(0xa98)},{'category':_0x1dbc7e(0xdb5),'name':_0x1dbc7e(0x8af)},{'category':_0x1dbc7e(0xdb5),'name':_0x1dbc7e(0x95b)},{'category':_0x1dbc7e(0xdb5),'name':_0x1dbc7e(0x9ea)},{'category':'แคลคูลัสเบื้องต้น','name':_0x1dbc7e(0x92c)},{'category':_0x1dbc7e(0xdb5),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x1dbc7e(0xdb5),'name':_0x1dbc7e(0x2fd)},{'category':_0x1dbc7e(0x9e9),'name':_0x1dbc7e(0x8e0)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x1dbc7e(0xc7d)},{'category':_0x1dbc7e(0x9e9),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x1dbc7e(0x9e9),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x1dbc7e(0x9e9),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x1dbc7e(0x9e9),'name':_0x1dbc7e(0xea8)},{'category':_0x1dbc7e(0x9e9),'name':_0x1dbc7e(0xa0c)},{'category':_0x1dbc7e(0x576),'name':_0x1dbc7e(0x40e)},{'category':_0x1dbc7e(0x576),'name':'ดอกเบี้ยทบต้น'},{'category':_0x1dbc7e(0x576),'name':_0x1dbc7e(0x7e3)},{'category':_0x1dbc7e(0x576),'name':'ค่าเสื่อมราคา'},{'category':_0x1dbc7e(0x576),'name':_0x1dbc7e(0xaf9)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x1dbc7e(0xe9e)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'รูปแบบการให้เหตุผล'},{'category':_0x1dbc7e(0x379),'name':_0x1dbc7e(0x8f2)}];function renderTopicCheckboxes(){const _0x24c5e5=_0x1dbc7e,_0x8e05a0=document[_0x24c5e5(0x722)](_0x24c5e5(0x280));if(!_0x8e05a0)return;const _0x22ab60=allMathTopics,_0x3a8811=customMathTopics[_0x24c5e5(0xab8)](_0x42d289=>({'id':_0x42d289['id'],'category':_0x24c5e5(0x5b1),'name':_0x42d289[_0x24c5e5(0x39f)]})),_0x48664f=[..._0x22ab60,..._0x3a8811],_0x4b60fe=_0x48664f['reduce']((_0x45ae62,_0x320278)=>{const _0x289c86=_0x24c5e5;return!_0x45ae62[_0x320278[_0x289c86(0xc95)]]&&(_0x45ae62[_0x320278[_0x289c86(0xc95)]]=[]),_0x45ae62[_0x320278[_0x289c86(0xc95)]][_0x289c86(0xca1)](_0x320278),_0x45ae62;},{});let _0x3dde2d='';const _0x277f06=[_0x24c5e5(0x5b1),...Object[_0x24c5e5(0x6e2)](_0x4b60fe)[_0x24c5e5(0x6b9)](_0x358e15=>_0x358e15!==_0x24c5e5(0x5b1))];for(const _0xa4029b of _0x277f06){if(_0x4b60fe[_0xa4029b]){const _0x44f28f=_0xa4029b===_0x24c5e5(0x5b1),_0x48745f=_0x44f28f?_0x24c5e5(0x397):_0x24c5e5(0x5ac),_0x51cfc1=_0x44f28f?_0x24c5e5(0xa8f):_0x24c5e5(0x2cc);_0x3dde2d+=_0x24c5e5(0x3a3),_0x3dde2d+=_0x24c5e5(0xddc)+_0x51cfc1+_0x24c5e5(0xa0e)+_0x48745f+'\x20mr-2\x22></i>'+_0xa4029b+_0x24c5e5(0x283),_0x4b60fe[_0xa4029b]['forEach'](_0x55d02f=>{const _0x2d3edc=_0x24c5e5,_0x102c9e=!!_0x55d02f['id'],_0x459dcc=_0x102c9e?_0x2d3edc(0x9ed)+_0x55d02f['id']+_0x2d3edc(0x6af)+_0x55d02f['id']+_0x2d3edc(0x570)+_0x55d02f['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x55d02f['id']+_0x2d3edc(0xba5):'';_0x3dde2d+=_0x2d3edc(0xc71)+(_0x55d02f['id']||'')+_0x2d3edc(0x65b)+_0x55d02f[_0x2d3edc(0x39f)]+_0x2d3edc(0xae5)+_0x55d02f[_0x2d3edc(0x39f)]+_0x2d3edc(0x51b)+(_0x102c9e?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x55d02f[_0x2d3edc(0x39f)]+'\x22>':'')+_0x2d3edc(0x6eb)+_0x459dcc+_0x2d3edc(0xadf);}),_0x3dde2d+='</div>';}}_0x8e05a0[_0x24c5e5(0x5dd)]=_0x3dde2d||_0x24c5e5(0xdad),_0x8e05a0[_0x24c5e5(0xed4)](_0x24c5e5(0xe0f),updateSelectedTopicsCount),_0x8e05a0[_0x24c5e5(0x939)](_0x24c5e5(0xe0f),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x423185,_0x45e227){const _0x4dfa0a=_0x1dbc7e;if(!_0x423185||!_0x45e227[_0x4dfa0a(0xbe3)]()){showMessage(_0x4dfa0a(0xb4a));return;}try{const _0x3f889b=doc(db,'artifacts/'+appId+_0x4dfa0a(0x523),_0x423185);await updateDoc(_0x3f889b,{'name':_0x45e227[_0x4dfa0a(0xbe3)]()}),showMessage(_0x4dfa0a(0xa43));}catch(_0x5e2a2e){console[_0x4dfa0a(0x300)](_0x4dfa0a(0xc4b),_0x5e2a2e),showMessage(_0x4dfa0a(0x6d3));}}function toggleTopicEditMode(_0x2a551e,_0x3fa040){const _0x162c54=_0x1dbc7e;if(!_0x2a551e)return;const _0x25d046=_0x2a551e[_0x162c54(0x390)](_0x162c54(0x292)),_0xe26628=_0x2a551e[_0x162c54(0x390)]('.topic-name-input'),_0x28c80f=_0x2a551e[_0x162c54(0x390)](_0x162c54(0x36e)),_0x49c855=_0x2a551e['querySelector'](_0x162c54(0xc7e));_0x25d046[_0x162c54(0x820)][_0x162c54(0x9b0)](_0x162c54(0x330),_0x3fa040),_0xe26628[_0x162c54(0x820)][_0x162c54(0x9b0)](_0x162c54(0x330),!_0x3fa040),_0x28c80f[_0x162c54(0x820)][_0x162c54(0x9b0)](_0x162c54(0x330),_0x3fa040),_0x49c855[_0x162c54(0x820)][_0x162c54(0x9b0)]('hidden',!_0x3fa040),_0x3fa040&&(_0xe26628[_0x162c54(0x9dd)](),_0xe26628[_0x162c54(0x40d)]());}async function handleStartLiveRace(_0x499f11){const _0x539afd=_0x1dbc7e;let _0x22b24b=allQuizzes[_0x539afd(0x36c)](_0x9cb738=>_0x9cb738['id']===_0x499f11);if(!_0x22b24b){const _0x4adc7c=doc(db,_0x539afd(0xd90)+appId+_0x539afd(0x806),_0x499f11),_0x2441a9=await getDoc(_0x4adc7c);if(!_0x2441a9[_0x539afd(0x5c5)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x22b24b={'id':_0x2441a9['id'],..._0x2441a9[_0x539afd(0x690)]()};}const _0x3486d8=getShuffledQuiz(_0x22b24b);currentQuizData=_0x3486d8;const _0x4ef64c=_0x22b24b[_0x539afd(0x6ea)]||currentProjectId||null,_0x158ac7=Math[_0x539afd(0x982)](0x3e8+Math['random']()*0x2328)[_0x539afd(0x992)]();currentLiveGamePin=_0x158ac7;try{const _0x10ac07=await addDoc(collection(db,'artifacts/'+appId+_0x539afd(0xb80)),{'quizId':_0x499f11,'projectId':_0x4ef64c,'status':_0x539afd(0xcc9),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x158ac7,'createdAt':serverTimestamp(),'shuffledQuiz':_0x3486d8});currentLiveGameId=_0x10ac07['id'],showAdminLobbyView(_0x158ac7,_0x22b24b[_0x539afd(0x2d2)]),listenForLiveGameUpdates();}catch(_0x44e1f5){console['error'](_0x539afd(0x430),_0x44e1f5),showMessage(_0x539afd(0xb53));}}function updateSelectedTopicsCount(){const _0x58e3df=_0x1dbc7e,_0x305562=document[_0x58e3df(0x722)]('math-topics-checkbox-container'),_0x6a3f1c=_0x305562[_0x58e3df(0x2ff)](_0x58e3df(0x5a1))[_0x58e3df(0xc8f)],_0x103488=document['getElementById']('selected-topics-count');_0x6a3f1c>0x0?_0x103488[_0x58e3df(0x2eb)]=_0x58e3df(0x9ab)+_0x6a3f1c+'\x20หัวข้อ)':_0x103488[_0x58e3df(0x2eb)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x1dbc7e(0x7fe),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x1dbc7e(0xb17),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x1dbc7e(0xd03),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x1dbc7e(0x2fb),scratchpadPenColor=_0x1dbc7e(0x983),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x4a9eb4,_0x70181c){const _0x2ee1af=_0x1dbc7e;return Math[_0x2ee1af(0x874)](Math[_0x2ee1af(0x29a)](_0x4a9eb4['x']-_0x70181c['x'],0x2)+Math['pow'](_0x4a9eb4['y']-_0x70181c['y'],0x2));}function getMidpoint(_0x59246b,_0x4bc602){return{'x':(_0x59246b['x']+_0x4bc602['x'])/0x2,'y':(_0x59246b['y']+_0x4bc602['y'])/0x2};}function getTransformedPoint(_0x140072,_0x2b40ac){return{'x':(_0x140072-scratchpadOffset['x'])/scratchpadScale,'y':(_0x2b40ac-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x353378=_0x1dbc7e;if(!scratchpadCtx)return;const _0x5872d2=scratchpadCtx[_0x353378(0xbe5)],_0x56b017=window['devicePixelRatio']||0x1,_0x49d8df=document[_0x353378(0x722)](_0x353378(0xca4));_0x49d8df&&(_0x49d8df[_0x353378(0xa20)]['transformOrigin']=_0x353378(0xd92),_0x49d8df[_0x353378(0xa20)][_0x353378(0xc7c)]=_0x353378(0x841)+scratchpadOffset['x']+_0x353378(0xe28)+scratchpadOffset['y']+_0x353378(0xe92)+scratchpadScale+')'),scratchpadCtx[_0x353378(0x513)](),scratchpadCtx[_0x353378(0xa5a)](_0x56b017,0x0,0x0,_0x56b017,0x0,0x0),scratchpadCtx[_0x353378(0x653)](0x0,0x0,_0x5872d2[_0x353378(0xc6a)],_0x5872d2['height']),scratchpadCtx[_0x353378(0x1ee)](),scratchpadCtx[_0x353378(0x513)](),scratchpadCtx[_0x353378(0xa27)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x353378(0x3b8)](scratchpadScale,scratchpadScale),strokes[_0x353378(0xb04)](_0x1a750b=>{drawStroke(_0x1a750b);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function renderGroupModeQuestion(){const _0x5acafe=_0x1dbc7e;if(localQuestionIndex>=currentQuizData['questions'][_0x5acafe(0xc8f)]){displayTeamQuizFinalResults();return;}const _0x44ff2f=currentQuizData[_0x5acafe(0x882)][localQuestionIndex],_0x586f85=_0x44ff2f[_0x5acafe(0xbd0)]||currentQuizData[_0x5acafe(0x4f4)];let _0x44e621=_0x44ff2f[_0x5acafe(0x869)]||_0x44ff2f[_0x5acafe(0xe68)],_0x26eb54='';switch(_0x586f85){case _0x5acafe(0x6e6):case'fill_in_with_choices':_0x26eb54=_0x44ff2f[_0x5acafe(0x9d3)][_0x5acafe(0xab8)]((_0x1b2b5f,_0x4a64af)=>_0x5acafe(0x538)+_0x4a64af+_0x5acafe(0xdc3)+_0x4a64af+_0x5acafe(0xc17)+_0x4a64af+'\x22>'+_0x1b2b5f+_0x5acafe(0xee9))['join']('');break;case _0x5acafe(0x3f7):_0x26eb54=_0x5acafe(0xd07);break;case'short_answer':case _0x5acafe(0xec9):_0x26eb54=_0x5acafe(0x935);break;case _0x5acafe(0xd24):_0x26eb54=_0x5acafe(0xecc)+_0x44ff2f['allResponses'][_0x5acafe(0xab8)](_0x31060c=>'<option\x20value=\x22'+_0x31060c+'\x22>'+_0x31060c+_0x5acafe(0xa4f))[_0x5acafe(0xbc8)]('')+_0x5acafe(0xaa2);break;default:_0x26eb54=_0x5acafe(0x79e);break;}studentQuizArea[_0x5acafe(0x5dd)]=_0x5acafe(0x8a2)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x5acafe(0x882)][_0x5acafe(0xc8f)]+_0x5acafe(0x887)+localTeamPlayers[_0x5acafe(0xbc8)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x44e621+_0x5acafe(0xee6)+(_0x44ff2f['imageCode']?_0x5acafe(0x73e)+_0x44ff2f[_0x5acafe(0x79d)]+'</div>':'')+_0x5acafe(0x71f)+_0x26eb54+_0x5acafe(0x505),studentQuizArea[_0x5acafe(0x820)][_0x5acafe(0xda2)]('hidden');if(window['MathJax'])MathJax[_0x5acafe(0x303)]([studentQuizArea]);document['getElementById']('submit-group-answer-btn')[_0x5acafe(0x939)](_0x5acafe(0xa25),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x11ad80,_0x10472e=null,_0x6ef59c,_0x474066=null,_0x29d15e=![],_0x135474=null){const _0xa2d182=_0x1dbc7e,_0x2eb248=document[_0xa2d182(0x722)](_0xa2d182(0x59e));_0x2eb248&&_0x2eb248[_0xa2d182(0x831)]({'behavior':_0xa2d182(0x803),'block':_0xa2d182(0x533)}),generateQuiz(_0x11ad80,_0x10472e,null,_0x135474,!![],_0x6ef59c,_0x474066,_0x29d15e);}function handleGenerateAndShowLesson(_0x22a55c,_0x1dedcc){const _0x551e4a=_0x1dbc7e,_0x2364de=document[_0x551e4a(0x722)](_0x551e4a(0x85f)),_0x4f6518=document['getElementById'](_0x551e4a(0xe02)),_0x395546=document[_0x551e4a(0x722)](_0x551e4a(0x7a7)),_0x42e2c4=document[_0x551e4a(0x722)](_0x551e4a(0x3b2));['pointContent',_0x551e4a(0xcf3),_0x551e4a(0xd0a),'summaryContent'][_0x551e4a(0xb04)](_0x39639c=>{const _0x2f20fb=_0x551e4a,_0x27f00d=document['getElementById'](_0x39639c)[_0x2f20fb(0x2d1)];_0x27f00d&&(_0x27f00d[_0x2f20fb(0xa20)][_0x2f20fb(0xd1c)]='block');}),_0x4f6518[_0x551e4a(0x2eb)]='กำลังสร้างบทเรียน:\x20'+_0x22a55c,_0x42e2c4[_0x551e4a(0x820)][_0x551e4a(0xc24)]('hidden'),_0x395546[_0x551e4a(0x820)]['remove'](_0x551e4a(0x330)),_0x2364de[_0x551e4a(0x820)][_0x551e4a(0xda2)](_0x551e4a(0x330)),generateLesson(_0x22a55c,_0x1dedcc)[_0x551e4a(0xb2a)](_0x4c074d=>{const _0x1f2388=_0x551e4a;console['error'](_0x1f2388(0x46a),_0x4c074d),showMessage(_0x1f2388(0xc36)),_0x2364de[_0x1f2388(0x820)][_0x1f2388(0xc24)](_0x1f2388(0x330));});}function handlePointerDown(_0x2a22c2){const _0x2ff030=_0x1dbc7e;_0x2a22c2[_0x2ff030(0x726)]();const _0x1154b4=scratchpadCtx[_0x2ff030(0xbe5)],_0x2e1f22=_0x1154b4[_0x2ff030(0xef7)](),_0x2eb2e5=_0x2a22c2[_0x2ff030(0x2f5)]||(_0x2a22c2[_0x2ff030(0x8f1)]?_0x2ff030(0xc51):_0x2ff030(0xef4));if(_0x2eb2e5===_0x2ff030(0x2fb)||_0x2eb2e5===_0x2ff030(0xef4)){if(_0x2a22c2[_0x2ff030(0x2f5)]===_0x2ff030(0xef4)&&_0x2a22c2[_0x2ff030(0xd82)]!==0x0){_0x2a22c2[_0x2ff030(0xd82)]===0x1&&(isMousePanning=!![],panStart={'x':_0x2a22c2['clientX'],'y':_0x2a22c2[_0x2ff030(0x825)]},_0x1154b4[_0x2ff030(0xa20)][_0x2ff030(0x961)]='grabbing');return;}activeTool===_0x2ff030(0xdbd)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x542f37=getTransformedPoint(_0x2a22c2[_0x2ff030(0x352)]-_0x2e1f22[_0x2ff030(0xeed)],_0x2a22c2['clientY']-_0x2e1f22[_0x2ff030(0xca7)]);let _0x2ffa56={'tool':activeTool,'points':[_0x542f37]};if(activeTool==='pen')_0x2ffa56[_0x2ff030(0x9ce)]=scratchpadPenColor,_0x2ffa56[_0x2ff030(0xf04)]=scratchpadPenSize;else{if(activeTool===_0x2ff030(0xd22))_0x2ffa56['color']=scratchpadPenColor,_0x2ffa56[_0x2ff030(0xf04)]=scratchpadEraserSize;else{if(activeTool===_0x2ff030(0x28c))_0x2ffa56[_0x2ff030(0x9ce)]=scratchpadHighlighterColor,_0x2ffa56[_0x2ff030(0xf04)]=scratchpadHighlighterSize;else activeTool===_0x2ff030(0xdbd)&&(_0x2ffa56[_0x2ff030(0x9ce)]=scratchpadPenColor,_0x2ffa56['size']=scratchpadPenSize);}}currentStroke=_0x2ffa56;}else _0x2a22c2[_0x2ff030(0x8f1)]&&(_0x2a22c2['touches'][_0x2ff030(0xc8f)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x2a22c2[_0x2ff030(0x8f1)][0x0][_0x2ff030(0x352)],'y':_0x2a22c2['touches'][0x0]['clientY']},{'x':_0x2a22c2[_0x2ff030(0x8f1)][0x1][_0x2ff030(0x352)],'y':_0x2a22c2[_0x2ff030(0x8f1)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x2a22c2[_0x2ff030(0x8f1)][0x0][_0x2ff030(0x352)],'y':_0x2a22c2[_0x2ff030(0x8f1)][0x0]['clientY']},{'x':_0x2a22c2[_0x2ff030(0x8f1)][0x1][_0x2ff030(0x352)],'y':_0x2a22c2[_0x2ff030(0x8f1)][0x1][_0x2ff030(0x825)]})));}function animateTrail(){const _0x35541a=_0x1dbc7e,_0x2e6dc8=Date[_0x35541a(0x3e0)]();let _0x592f34=![];for(let _0xa84485=strokes[_0x35541a(0xc8f)]-0x1;_0xa84485>=0x0;_0xa84485--){const _0x178247=strokes[_0xa84485];if(_0x178247['tool']==='trail'&&_0x178247[_0x35541a(0x6cf)]){const _0xc70627=_0x2e6dc8-_0x178247[_0x35541a(0x6cf)];_0xc70627>=TRAIL_DURATION?strokes[_0x35541a(0xf02)](_0xa84485,0x1):(_0x178247[_0x35541a(0xd3e)]=0x1-_0xc70627/TRAIL_DURATION,_0x592f34=!![]);}}redrawScratchpad(),_0x592f34?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x202189){const _0x1b5974=_0x1dbc7e;if(!_0x202189||_0x202189['points'][_0x1b5974(0xc8f)]<0x1)return;scratchpadCtx[_0x1b5974(0x513)](),scratchpadCtx[_0x1b5974(0x2fa)]=_0x1b5974(0x509),scratchpadCtx['lineCap']=_0x1b5974(0x509);if(_0x202189[_0x1b5974(0xc4e)]==='trail'){const _0x53d9a7=_0x202189[_0x1b5974(0xf04)]/scratchpadScale;scratchpadCtx[_0x1b5974(0xafe)]=_0x202189['opacity']??0x1,scratchpadCtx[_0x1b5974(0xb30)]=_0x1b5974(0xa72),scratchpadCtx[_0x1b5974(0x8bd)]=_0x53d9a7*0x3,scratchpadCtx['strokeStyle']='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x1b5974(0xdc4)]=_0x53d9a7*2.5,scratchpadCtx[_0x1b5974(0xb1d)](),scratchpadCtx[_0x1b5974(0x42b)](_0x202189[_0x1b5974(0xba8)][0x0]['x'],_0x202189[_0x1b5974(0xba8)][0x0]['y']);for(let _0x23e924=0x1;_0x23e924<_0x202189[_0x1b5974(0xba8)][_0x1b5974(0xc8f)]-0x1;_0x23e924++){const _0x4cce6a=getMidpoint(_0x202189[_0x1b5974(0xba8)][_0x23e924],_0x202189[_0x1b5974(0xba8)][_0x23e924+0x1]);scratchpadCtx[_0x1b5974(0x3f0)](_0x202189[_0x1b5974(0xba8)][_0x23e924]['x'],_0x202189['points'][_0x23e924]['y'],_0x4cce6a['x'],_0x4cce6a['y']);}scratchpadCtx[_0x1b5974(0xe50)](),scratchpadCtx[_0x1b5974(0xb30)]='transparent',scratchpadCtx[_0x1b5974(0x8bd)]=0x0,scratchpadCtx['strokeStyle']=_0x1b5974(0x3c0),scratchpadCtx['lineWidth']=_0x53d9a7,scratchpadCtx[_0x1b5974(0xe50)](),scratchpadCtx['closePath']();}else{if(_0x202189['tool']==='highlighter'){scratchpadCtx[_0x1b5974(0x4a2)]=_0x1b5974(0x5f9),scratchpadCtx[_0x1b5974(0x96a)]=_0x202189[_0x1b5974(0x9ce)],scratchpadCtx[_0x1b5974(0xdc4)]=_0x202189[_0x1b5974(0xf04)],scratchpadCtx[_0x1b5974(0xb1d)](),scratchpadCtx['moveTo'](_0x202189[_0x1b5974(0xba8)][0x0]['x'],_0x202189['points'][0x0]['y']);for(let _0x4a57dc=0x1;_0x4a57dc<_0x202189[_0x1b5974(0xba8)][_0x1b5974(0xc8f)]-0x1;_0x4a57dc++){const _0x3ef783=getMidpoint(_0x202189[_0x1b5974(0xba8)][_0x4a57dc],_0x202189[_0x1b5974(0xba8)][_0x4a57dc+0x1]);scratchpadCtx[_0x1b5974(0x3f0)](_0x202189[_0x1b5974(0xba8)][_0x4a57dc]['x'],_0x202189['points'][_0x4a57dc]['y'],_0x3ef783['x'],_0x3ef783['y']);}scratchpadCtx[_0x1b5974(0xe50)](),scratchpadCtx[_0x1b5974(0x311)]();}else{scratchpadCtx[_0x1b5974(0x4a2)]=_0x202189[_0x1b5974(0xc4e)]===_0x1b5974(0xd22)?'destination-out':'source-over',scratchpadCtx[_0x1b5974(0x96a)]=_0x202189['color'],scratchpadCtx['lineWidth']=_0x202189['size'],scratchpadCtx[_0x1b5974(0xb1d)](),scratchpadCtx[_0x1b5974(0x42b)](_0x202189['points'][0x0]['x'],_0x202189[_0x1b5974(0xba8)][0x0]['y']);for(let _0x1844bf=0x1;_0x1844bf<_0x202189[_0x1b5974(0xba8)][_0x1b5974(0xc8f)]-0x1;_0x1844bf++){const _0x352dd5=getMidpoint(_0x202189[_0x1b5974(0xba8)][_0x1844bf],_0x202189['points'][_0x1844bf+0x1]);scratchpadCtx['quadraticCurveTo'](_0x202189['points'][_0x1844bf]['x'],_0x202189[_0x1b5974(0xba8)][_0x1844bf]['y'],_0x352dd5['x'],_0x352dd5['y']);}scratchpadCtx[_0x1b5974(0xe50)](),scratchpadCtx[_0x1b5974(0x311)]();}}scratchpadCtx[_0x1b5974(0x1ee)]();}function handlePointerMove(_0x3891a3){const _0x356089=_0x1dbc7e;_0x3891a3[_0x356089(0x726)]();const _0x159c03=scratchpadCtx['canvas'],_0xb156b7=_0x159c03[_0x356089(0xef7)]();if(_0x3891a3['touches']){if(_0x3891a3[_0x356089(0x8f1)]['length']===0x1&&isDrawingOnScratchpad){const _0x3dff8e=getTransformedPoint(_0x3891a3[_0x356089(0x8f1)][0x0][_0x356089(0x352)]-_0xb156b7[_0x356089(0xeed)],_0x3891a3[_0x356089(0x8f1)][0x0][_0x356089(0x825)]-_0xb156b7[_0x356089(0xca7)]);currentStroke['points'][_0x356089(0xca1)](_0x3dff8e),redrawScratchpad();}else{if(_0x3891a3[_0x356089(0x8f1)][_0x356089(0xc8f)]===0x2&&isPanning){const _0x5b56aa=getDistance({'x':_0x3891a3[_0x356089(0x8f1)][0x0][_0x356089(0x352)],'y':_0x3891a3[_0x356089(0x8f1)][0x0][_0x356089(0x825)]},{'x':_0x3891a3[_0x356089(0x8f1)][0x1][_0x356089(0x352)],'y':_0x3891a3[_0x356089(0x8f1)][0x1][_0x356089(0x825)]}),_0x290834=getMidpoint({'x':_0x3891a3[_0x356089(0x8f1)][0x0]['clientX'],'y':_0x3891a3[_0x356089(0x8f1)][0x0][_0x356089(0x825)]},{'x':_0x3891a3['touches'][0x1][_0x356089(0x352)],'y':_0x3891a3[_0x356089(0x8f1)][0x1]['clientY']}),_0x20d5c5=_0x5b56aa/ initialPinchDistance,_0x3fc90a=Math[_0x356089(0x35c)](Math['max'](scratchpadScale*_0x20d5c5,MIN_SCALE),MAX_SCALE),_0x50be81=_0x290834['x']-panStart['x'],_0x4ff2e2=_0x290834['y']-panStart['y'];scratchpadOffset['x']=_0x290834['x']-(_0x290834['x']-scratchpadOffset['x'])*(_0x3fc90a/scratchpadScale),scratchpadOffset['y']=_0x290834['y']-(_0x290834['y']-scratchpadOffset['y'])*(_0x3fc90a/scratchpadScale),scratchpadOffset['x']+=_0x50be81,scratchpadOffset['y']+=_0x4ff2e2,scratchpadScale=_0x3fc90a,initialPinchDistance=_0x5b56aa,panStart=_0x290834,redrawScratchpad();}}}else{if(isMousePanning){const _0x5aa5a4=_0x3891a3['clientX']-panStart['x'],_0x234b51=_0x3891a3[_0x356089(0x825)]-panStart['y'];scratchpadOffset['x']+=_0x5aa5a4,scratchpadOffset['y']+=_0x234b51,panStart={'x':_0x3891a3[_0x356089(0x352)],'y':_0x3891a3['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x3258af=getTransformedPoint(_0x3891a3[_0x356089(0x352)]-_0xb156b7['left'],_0x3891a3[_0x356089(0x825)]-_0xb156b7[_0x356089(0xca7)]);currentStroke['points']['push'](_0x3258af),redrawScratchpad();}}}}function handlePointerUp(_0x9277f4){const _0x16ebf1=_0x1dbc7e;_0x9277f4['preventDefault']();const _0x4e04fa=scratchpadCtx[_0x16ebf1(0xbe5)];isMousePanning&&(isMousePanning=![],_0x4e04fa[_0x16ebf1(0xa20)][_0x16ebf1(0x961)]=_0x16ebf1(0x6a2)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x16ebf1(0xba8)][_0x16ebf1(0xc8f)]>0x1&&(strokes[_0x16ebf1(0xca1)](currentStroke),currentStroke[_0x16ebf1(0xc4e)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x490975=_0x16ebf1,_0x1bdec5=strokes[_0x490975(0x6b9)](_0x360ba3=>_0x360ba3[_0x490975(0xc4e)]===_0x490975(0xdbd)&&!_0x360ba3[_0x490975(0x6cf)]);if(_0x1bdec5[_0x490975(0xc8f)]>0x0){const _0x31880b=Date[_0x490975(0x3e0)]();_0x1bdec5[_0x490975(0xb04)](_0x4670b5=>_0x4670b5[_0x490975(0x6cf)]=_0x31880b),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x57c7ad){const _0x2d1e94=_0x1dbc7e;_0x57c7ad['preventDefault']();const _0x3509d9=_0x57c7ad[_0x2d1e94(0x904)]*-0.005,_0x30e4dc=Math['min'](Math[_0x2d1e94(0x3d5)](scratchpadScale+_0x3509d9,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x57c7ad['clientX']-(_0x57c7ad[_0x2d1e94(0x352)]-scratchpadOffset['x'])*(_0x30e4dc/scratchpadScale),scratchpadOffset['y']=_0x57c7ad['clientY']-(_0x57c7ad[_0x2d1e94(0x825)]-scratchpadOffset['y'])*(_0x30e4dc/scratchpadScale),scratchpadScale=_0x30e4dc,redrawScratchpad();}function undo(){const _0xaa71d2=_0x1dbc7e;strokes[_0xaa71d2(0xc8f)]>0x0&&(redoStrokes[_0xaa71d2(0xca1)](strokes[_0xaa71d2(0x4bb)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x390d1c=_0x1dbc7e;redoStrokes['length']>0x0&&(strokes[_0x390d1c(0xca1)](redoStrokes[_0x390d1c(0x4bb)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x5d0a50=_0x1dbc7e;document['getElementById'](_0x5d0a50(0x696))[_0x5d0a50(0xce0)]=strokes[_0x5d0a50(0xc8f)]===0x0,document['getElementById']('redo-btn')[_0x5d0a50(0xce0)]=redoStrokes[_0x5d0a50(0xc8f)]===0x0;}function openScratchpad(_0x4f7b93,_0x1e2621){const _0x1a13c6=_0x1dbc7e,_0x1d7399=document[_0x1a13c6(0x722)](_0x1a13c6(0x252)),_0x4a5d38=document[_0x1a13c6(0x722)]('scratchpad-question'),_0x38c73f=document[_0x1a13c6(0x722)](_0x1a13c6(0xefb)),_0x2ee33f=document[_0x1a13c6(0x722)](_0x1a13c6(0xcf1));_0x4a5d38[_0x1a13c6(0x5dd)]=_0x4f7b93[_0x1a13c6(0x869)]||_0x4f7b93[_0x1a13c6(0xe68)],_0x38c73f[_0x1a13c6(0x5dd)]=_0x1e2621[_0x1a13c6(0xab8)]((_0x116635,_0x332137)=>_0x1a13c6(0x8b4)+String[_0x1a13c6(0x78e)](0x41+_0x332137)+'.\x20'+_0x116635+'</div>')[_0x1a13c6(0xbc8)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x1d7399[_0x1a13c6(0x820)][_0x1a13c6(0xda2)](_0x1a13c6(0x330)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x1a13c6(0xa8c)])MathJax[_0x1a13c6(0x303)]([_0x4a5d38,_0x38c73f]);}function openBlueprintQuizSettings(){const _0x34b95a=_0x1dbc7e,_0x2c0d56=document[_0x34b95a(0x722)]('blueprint-settings-modal'),_0x3733fa=blueprintPageSettings||(currentProjectData?currentProjectData[_0x34b95a(0xa0a)]:{})||{};document['getElementById'](_0x34b95a(0x389))[_0x34b95a(0xa46)]=_0x3733fa[_0x34b95a(0x4f4)]||document[_0x34b95a(0x722)](_0x34b95a(0x77b))[_0x34b95a(0xa46)],document[_0x34b95a(0x722)](_0x34b95a(0x41a))['innerHTML']=document['getElementById'](_0x34b95a(0xbbc))['innerHTML'],document[_0x34b95a(0x722)](_0x34b95a(0x41a))[_0x34b95a(0xa46)]=_0x3733fa[_0x34b95a(0xac8)]||document[_0x34b95a(0x722)](_0x34b95a(0xbbc))[_0x34b95a(0xa46)],document[_0x34b95a(0x722)]('bp-modal-question-complexity-select')[_0x34b95a(0x5dd)]=document[_0x34b95a(0x722)](_0x34b95a(0xbcc))[_0x34b95a(0x5dd)],document[_0x34b95a(0x722)](_0x34b95a(0x492))[_0x34b95a(0xa46)]=_0x3733fa[_0x34b95a(0x225)]||document['getElementById'](_0x34b95a(0xbcc))[_0x34b95a(0xa46)],document[_0x34b95a(0x722)](_0x34b95a(0xe52))['value']=_0x3733fa[_0x34b95a(0x497)]||document['getElementById'](_0x34b95a(0xb22))[_0x34b95a(0xa46)],document[_0x34b95a(0x722)](_0x34b95a(0x612))['value']=_0x3733fa[_0x34b95a(0x3e8)]||document['getElementById'](_0x34b95a(0xbd7))[_0x34b95a(0xa46)],document[_0x34b95a(0x722)]('bp-modal-num-choices')[_0x34b95a(0xa46)]=_0x3733fa[_0x34b95a(0xda9)]||document['getElementById']('num-choices')[_0x34b95a(0xa46)],document[_0x34b95a(0x722)](_0x34b95a(0x67e))['value']=_0x3733fa['shuffle']||document[_0x34b95a(0x722)](_0x34b95a(0x750))[_0x34b95a(0xa46)],document[_0x34b95a(0x722)]('bp-modal-include-images-checkbox')['checked']=_0x3733fa['includeImages']||document[_0x34b95a(0x722)](_0x34b95a(0xcfe))[_0x34b95a(0x9cd)],_0x2c0d56[_0x34b95a(0x820)][_0x34b95a(0xda2)](_0x34b95a(0x330));}function handleSaveBlueprintPageSettings(){const _0x223998=_0x1dbc7e;blueprintPageSettings={'quizType':document[_0x223998(0x722)](_0x223998(0x389))[_0x223998(0xa46)],'difficultyValue':document[_0x223998(0x722)](_0x223998(0x41a))[_0x223998(0xa46)],'complexityValue':document[_0x223998(0x722)](_0x223998(0x492))[_0x223998(0xa46)],'numQuestions':document[_0x223998(0x722)](_0x223998(0xe52))[_0x223998(0xa46)],'passingScore':document['getElementById'](_0x223998(0x612))[_0x223998(0xa46)],'numChoices':document[_0x223998(0x722)](_0x223998(0x9c5))[_0x223998(0xa46)],'shuffle':document[_0x223998(0x722)](_0x223998(0x67e))['value'],'includeImages':document[_0x223998(0x722)](_0x223998(0x68a))['checked']},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document['getElementById'](_0x223998(0x77e))[_0x223998(0x820)][_0x223998(0xc24)](_0x223998(0x330));}function listenForParallelTestShortcuts(){const _0x3519e9=_0x1dbc7e,_0x5f0e26=doc(db,_0x3519e9(0x6f8),_0x3519e9(0xd47));onSnapshot(_0x5f0e26,_0x4f3f12=>{const _0x5c533e=_0x3519e9;let _0x4d1520=[],_0x58794f=[],_0x54ff98={};if(_0x4f3f12['exists']()){const _0x3bc993=_0x4f3f12[_0x5c533e(0x690)]();_0x4d1520=_0x3bc993[_0x5c533e(0xeab)]||[],_0x58794f=_0x3bc993[_0x5c533e(0x796)]||[],_0x54ff98=_0x3bc993[_0x5c533e(0xc14)]||{};}!_0x58794f[_0x5c533e(0x36c)](_0x24d393=>_0x24d393['id']==='all')&&_0x58794f[_0x5c533e(0xbca)]({'id':'all','name':_0x5c533e(0x5df),'isDefault':!![]}),!_0x4d1520[_0x5c533e(0x36c)](_0x3bbd6c=>_0x3bbd6c['id']===_0x5c533e(0xa83))&&_0x4d1520[_0x5c533e(0xbca)]({'id':_0x5c533e(0xa83),'name':_0x5c533e(0x7ec),'url':'','isDefault':!![]}),!_0x4d1520[_0x5c533e(0x36c)](_0xe25fac=>_0xe25fac['id']===_0x5c533e(0x55a))&&_0x4d1520[_0x5c533e(0xbca)]({'id':_0x5c533e(0x55a),'name':_0x5c533e(0x466),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x4d1520,parallelShortcutTabs=_0x58794f,parallelShortcutOrder=_0x54ff98,renderParallelTestShortcuts(),!document[_0x5c533e(0x722)]('additional-parallel-shortcuts-modal')[_0x5c533e(0x820)][_0x5c533e(0x381)]('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x4f81aa=_0x1dbc7e,_0x5702b0=doc(db,_0x4f81aa(0x6f8),_0x4f81aa(0xd47));try{await setDoc(_0x5702b0,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x1737e5){console[_0x4f81aa(0x300)](_0x4f81aa(0x435),_0x1737e5);}}function renderAdditionalParallelShortcutsModal(){const _0x24291f=_0x1dbc7e,_0x1ebf82=document[_0x24291f(0x722)](_0x24291f(0xc37)),_0x5040b6=document[_0x24291f(0x722)](_0x24291f(0xbb8));if(!_0x1ebf82||!_0x5040b6)return;_0x1ebf82[_0x24291f(0x5dd)]=parallelShortcutTabs[_0x24291f(0xab8)](_0x2f1efe=>{const _0x416b60=_0x24291f,_0x266966=_0x2f1efe['id']===activeParallelShortcutTabId;return _0x416b60(0x336)+_0x2f1efe['id']+_0x416b60(0xcf5)+(_0x266966?_0x416b60(0xc33):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x416b60(0x317)+_0x2f1efe[_0x416b60(0x39f)]+_0x416b60(0x8c6)+_0x2f1efe[_0x416b60(0x39f)]+_0x416b60(0x93e)+(!_0x2f1efe[_0x416b60(0x7ae)]?_0x416b60(0x69a)+_0x2f1efe['id']+_0x416b60(0x8d0):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');const _0x1c241e=parallelShortcutTabs[_0x24291f(0x36c)](_0x8afc00=>_0x8afc00['id']===activeParallelShortcutTabId);let _0x2c6d78=_0x1c241e?.[_0x24291f(0x7ae)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x24291f(0x6b9)](_0x11ae80=>(_0x1c241e?.[_0x24291f(0x615)]||[])[_0x24291f(0x549)](_0x11ae80['id']));const _0xa2df15=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x2c6d78[_0x24291f(0x24d)]((_0x469509,_0xe3827)=>{const _0x38d462=_0x24291f,_0x3e4b20=_0xa2df15[_0x38d462(0x5cd)](_0x469509['id']),_0x23e794=_0xa2df15[_0x38d462(0x5cd)](_0xe3827['id']);return(_0x3e4b20===-0x1?Infinity:_0x3e4b20)-(_0x23e794===-0x1?Infinity:_0x23e794);}),_0x5040b6['innerHTML']=_0x2c6d78[_0x24291f(0xab8)](_0x2a6a91=>{const _0x125d01=_0x24291f,_0x31eb16=_0x2a6a91[_0x125d01(0xa69)]?'🔁':'🔗',_0x29a3ff=parallelShortcutTabs[_0x125d01(0x6b9)](_0x31d1d9=>!_0x31d1d9[_0x125d01(0x7ae)]),_0xa1dd75=_0x1c241e[_0x125d01(0x7ae)]&&_0x29a3ff[_0x125d01(0xc8f)]>0x0?_0x125d01(0x861)+_0x29a3ff['map'](_0x1bcd05=>_0x125d01(0x98b)+_0x2a6a91['id']+_0x125d01(0x26c)+_0x1bcd05['id']+'\x22>'+_0x1bcd05[_0x125d01(0x39f)]+_0x125d01(0x6f0))[_0x125d01(0xbc8)]('')+_0x125d01(0x789):'';return _0x125d01(0x2b0)+_0x2a6a91['id']+_0x125d01(0xe44)+_0x31eb16+'\x20'+_0x2a6a91[_0x125d01(0x39f)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2a6a91['id']+_0x125d01(0x8c2)+_0x2a6a91['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2a6a91['isDefault']?_0x125d01(0x5d5)+_0x2a6a91['id']+_0x125d01(0x70b):'')+_0x125d01(0xd29)+(!_0x1c241e[_0x125d01(0x7ae)]?_0x125d01(0x429)+_0x2a6a91['id']+_0x125d01(0x22b):'')+_0x125d01(0xd29)+_0xa1dd75+_0x125d01(0x7c2);})['join']('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x3d69d7=_0x1dbc7e;document[_0x3d69d7(0x2ff)]('.parallel-shortcut-tab-btn')[_0x3d69d7(0xb04)](_0x32c311=>{const _0x2962ec=_0x3d69d7;_0x32c311[_0x2962ec(0x590)]=_0xc838cd=>{const _0x41bb5f=_0x2962ec;activeParallelShortcutTabId=_0xc838cd[_0x41bb5f(0x37a)][_0x41bb5f(0xa7e)][_0x41bb5f(0x602)],renderAdditionalParallelShortcutsModal();},_0x32c311['ondblclick']=_0x2fc74f=>{const _0x2bf24f=_0x2962ec,_0x5718f0=_0x2fc74f[_0x2bf24f(0x37a)][_0x2bf24f(0x390)](_0x2bf24f(0xacf));_0x2fc74f['currentTarget']['querySelector'](_0x2bf24f(0x28b))[_0x2bf24f(0x820)][_0x2bf24f(0xc24)](_0x2bf24f(0x330)),_0x5718f0[_0x2bf24f(0x820)][_0x2bf24f(0xda2)](_0x2bf24f(0x330)),_0x5718f0['focus'](),_0x5718f0[_0x2bf24f(0x40d)]();};}),document[_0x3d69d7(0x2ff)](_0x3d69d7(0x7a1))[_0x3d69d7(0xb04)](_0x14ff1c=>{const _0x359fe7=_0x3d69d7,_0x20ff11=()=>{const _0x486279=_0x320f,_0x4ed5f9=_0x14ff1c[_0x486279(0xecd)]('.parallel-shortcut-tab-btn')['dataset'][_0x486279(0x602)],_0xa4c969=parallelShortcutTabs[_0x486279(0x36c)](_0x5865cc=>_0x5865cc['id']===_0x4ed5f9);_0xa4c969&&(_0xa4c969[_0x486279(0x39f)]=_0x14ff1c[_0x486279(0xa46)][_0x486279(0xbe3)]()||_0xa4c969[_0x486279(0x39f)],saveParallelShortcutConfig());};_0x14ff1c[_0x359fe7(0x6c1)]=_0x20ff11,_0x14ff1c[_0x359fe7(0xc9e)]=_0x4ecf61=>{const _0x10eaf9=_0x359fe7;if(_0x4ecf61[_0x10eaf9(0x8e4)]===_0x10eaf9(0x383))_0x14ff1c[_0x10eaf9(0xc85)]();};}),document[_0x3d69d7(0x2ff)]('.delete-parallel-shortcut-tab-btn')[_0x3d69d7(0xb04)](_0x15a305=>_0x15a305[_0x3d69d7(0x590)]=_0x1f51d6=>{const _0x86a0c4=_0x3d69d7,_0x3ac629=_0x1f51d6['currentTarget'][_0x86a0c4(0xa7e)][_0x86a0c4(0x602)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x2dc950=_0x86a0c4;parallelShortcutTabs=parallelShortcutTabs[_0x2dc950(0x6b9)](_0x36dad5=>_0x36dad5['id']!==_0x3ac629),delete parallelShortcutOrder[_0x3ac629];if(activeParallelShortcutTabId===_0x3ac629)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x3d69d7(0x2ff)](_0x3d69d7(0x7ab))[_0x3d69d7(0xb04)](_0x384701=>_0x384701[_0x3d69d7(0x590)]=_0x3e30c1=>{const _0x56529e=_0x3d69d7;_0x3e30c1['preventDefault']();const {shortcutId:_0x5bcd2a,targetTabId:_0x193ced}=_0x3e30c1[_0x56529e(0x37a)][_0x56529e(0xa7e)],_0x5b92ef=parallelShortcutTabs[_0x56529e(0x36c)](_0x12ef78=>_0x12ef78['id']===_0x193ced);_0x5b92ef&&!_0x5b92ef[_0x56529e(0x615)]['includes'](_0x5bcd2a)&&(_0x5b92ef[_0x56529e(0x615)][_0x56529e(0xca1)](_0x5bcd2a),saveParallelShortcutConfig());}),document[_0x3d69d7(0x2ff)](_0x3d69d7(0xdfa))['forEach'](_0xde4ddf=>_0xde4ddf['onclick']=_0x4e82ae=>{const _0x2a6dcb=_0x3d69d7,_0x3a85b2=_0x4e82ae['currentTarget'][_0x2a6dcb(0xa7e)][_0x2a6dcb(0x582)],_0x9e6685=parallelShortcutTabs['find'](_0xe5cab=>_0xe5cab['id']===activeParallelShortcutTabId);_0x9e6685&&!_0x9e6685[_0x2a6dcb(0x7ae)]&&(_0x9e6685['shortcutIds']=_0x9e6685[_0x2a6dcb(0x615)]['filter'](_0x256a0d=>_0x256a0d!==_0x3a85b2),saveParallelShortcutConfig());}),document[_0x3d69d7(0x2ff)](_0x3d69d7(0x9ee))[_0x3d69d7(0xb04)](_0x20fea5=>_0x20fea5[_0x3d69d7(0x590)]=_0xb3d886=>{const _0x2387d3=_0x3d69d7;_0xb3d886['stopPropagation']();const _0x49c693=_0xb3d886[_0x2387d3(0x37a)][_0x2387d3(0x4ff)];document['querySelectorAll'](_0x2387d3(0xb43))[_0x2387d3(0xb04)](_0x4b542e=>_0x4b542e['classList'][_0x2387d3(0xc24)](_0x2387d3(0x330))),_0x49c693[_0x2387d3(0x820)]['remove'](_0x2387d3(0x330));});const _0x506e38=document[_0x3d69d7(0x722)]('additional-parallel-shortcuts-list');let _0x4022c0=null;_0x506e38[_0x3d69d7(0x44e)]=_0x1bb5d5=>{const _0x34f5dc=_0x3d69d7;_0x4022c0=_0x1bb5d5['target'][_0x34f5dc(0xecd)]('.shortcut-list-item');if(_0x4022c0)setTimeout(()=>_0x4022c0[_0x34f5dc(0x820)]['add']('opacity-50'),0x0);},_0x506e38[_0x3d69d7(0xac5)]=()=>{const _0x473c89=_0x3d69d7;_0x4022c0&&(_0x4022c0[_0x473c89(0x820)][_0x473c89(0xda2)](_0x473c89(0xa9a)),_0x4022c0=null);},_0x506e38[_0x3d69d7(0xaa3)]=_0x5930da=>{const _0x12b14c=_0x3d69d7;_0x5930da[_0x12b14c(0x726)]();},_0x506e38['ondrop']=_0x554b90=>{const _0x214267=_0x3d69d7;_0x554b90['preventDefault']();if(_0x4022c0){const _0x3a14c9=[..._0x506e38[_0x214267(0x2ff)]('.shortcut-list-item:not(.opacity-50)')]['reduce']((_0x18f4f0,_0x35098e)=>{const _0x46740c=_0x214267,_0x4662e5=_0x35098e[_0x46740c(0xef7)](),_0xacf582=_0x554b90[_0x46740c(0x825)]-_0x4662e5[_0x46740c(0xca7)]-_0x4662e5[_0x46740c(0x8f8)]/0x2;return _0xacf582<0x0&&_0xacf582>_0x18f4f0['offset']?{'offset':_0xacf582,'element':_0x35098e}:_0x18f4f0;},{'offset':Number[_0x214267(0x8cf)]})['element'];_0x3a14c9==null?_0x506e38[_0x214267(0x502)](_0x4022c0):_0x506e38[_0x214267(0xe75)](_0x4022c0,_0x3a14c9);const _0x534a35=[..._0x506e38[_0x214267(0x2ff)](_0x214267(0x53c))]['map'](_0x28ba2a=>_0x28ba2a[_0x214267(0xa7e)][_0x214267(0x582)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x534a35,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x3036f3=_0x1dbc7e,_0x56e3bd=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');_0x56e3bd&&_0x56e3bd[_0x3036f3(0xbe3)]()&&(parallelShortcutTabs[_0x3036f3(0xca1)]({'id':'tab_'+Date['now'](),'name':_0x56e3bd['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x40786e=_0x1dbc7e,_0x786022=document[_0x40786e(0x722)](_0x40786e(0x28a)),_0x4ceea5=document[_0x40786e(0x722)](_0x40786e(0xbb8)),_0x21cc48=document[_0x40786e(0x722)]('parallel-shortcuts-loading-msg');if(_0x21cc48)_0x21cc48['classList'][_0x40786e(0xc24)]('hidden');if(!_0x786022||!_0x4ceea5)return;const _0x14e0bc=parallelTestShortcuts['slice'](0x0,0x4),_0x5e6a6d=parallelTestShortcuts['slice'](0x4);_0x786022[_0x40786e(0x5dd)]=_0x14e0bc[_0x40786e(0xab8)](_0x44291f=>{const _0x5e44e2=_0x40786e,_0x5d6ed4=_0x44291f['url']&&_0x44291f[_0x5e44e2(0xa69)][_0x5e44e2(0xbe3)]()!=='',_0x446c8d=_0x5d6ed4?_0x5e44e2(0x510):_0x5e44e2(0x508),_0x54980c=_0x5d6ed4?'🔁':'🔗',_0x17755d=!_0x44291f[_0x5e44e2(0x7ae)]?_0x5e44e2(0x5d5)+_0x44291f['id']+_0x5e44e2(0x3c1):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x44291f['id']+_0x5e44e2(0x7a6)+_0x446c8d+_0x5e44e2(0xe4c)+_0x54980c+'\x20'+_0x44291f[_0x5e44e2(0x39f)]+_0x5e44e2(0xe0d)+_0x44291f['id']+_0x5e44e2(0x571)+_0x17755d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''),_0x5e6a6d[_0x40786e(0xc8f)]>0x0&&(_0x786022['innerHTML']+=_0x40786e(0xb44)),_0x5e6a6d['length']>0x0?_0x4ceea5[_0x40786e(0x5dd)]=_0x5e6a6d[_0x40786e(0xab8)](_0xe8cac=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0xe8cac[_0x40786e(0xa69)]?'🔁':'🔗')+'\x20'+_0xe8cac[_0x40786e(0x39f)]+_0x40786e(0x826)+_0xe8cac['id']+_0x40786e(0x746)+_0xe8cac['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0xe8cac[_0x40786e(0x7ae)]?'<button\x20data-id=\x22'+_0xe8cac['id']+_0x40786e(0x70b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''):_0x4ceea5[_0x40786e(0x5dd)]=_0x40786e(0x9c9);}function openParallelTestShortcutEditor(_0x1390ee=null){const _0x16b5b8=_0x1dbc7e,_0x44eee5=document['getElementById'](_0x16b5b8(0x42a)),_0x15096d=document[_0x16b5b8(0x722)]('parallel-shortcut-modal-title'),_0x14e878=document[_0x16b5b8(0x722)](_0x16b5b8(0x95e)),_0xc404cb=document[_0x16b5b8(0x722)](_0x16b5b8(0xcd3)),_0x180bb2=document[_0x16b5b8(0x722)](_0x16b5b8(0xc69));if(_0x1390ee){const _0x5748be=parallelTestShortcuts[_0x16b5b8(0x36c)](_0x239f0c=>_0x239f0c['id']===_0x1390ee);if(!_0x5748be)return;_0x15096d[_0x16b5b8(0x2eb)]=_0x16b5b8(0x9bc),_0x14e878[_0x16b5b8(0xa46)]=_0x5748be['id'],_0xc404cb[_0x16b5b8(0xa46)]=_0x5748be[_0x16b5b8(0x39f)],_0x180bb2[_0x16b5b8(0xa46)]=_0x5748be['url']||'';}else _0x15096d[_0x16b5b8(0x2eb)]=_0x16b5b8(0xdd1),_0x14e878[_0x16b5b8(0xa46)]='',_0xc404cb[_0x16b5b8(0xa46)]='',_0x180bb2[_0x16b5b8(0xa46)]='';_0x44eee5['classList'][_0x16b5b8(0xda2)](_0x16b5b8(0x330));}async function saveParallelTestShortcutChanges(){const _0x28025a=_0x1dbc7e,_0x24cf15=document[_0x28025a(0x722)](_0x28025a(0x95e))['value'],_0x184726=document[_0x28025a(0x722)](_0x28025a(0xcd3))[_0x28025a(0xa46)][_0x28025a(0xbe3)](),_0x3c874b=document[_0x28025a(0x722)]('parallel-shortcut-url-input')[_0x28025a(0xa46)][_0x28025a(0xbe3)]();if(!_0x184726){showMessage(_0x28025a(0x32b));return;}const _0x55fe5e={'id':_0x24cf15||_0x28025a(0x2ee)+Date[_0x28025a(0x3e0)](),'name':_0x184726,'url':_0x3c874b,'isDefault':_0x24cf15['startsWith'](_0x28025a(0x6ac))};let _0xc2c309;_0x24cf15?_0xc2c309=parallelTestShortcuts[_0x28025a(0xab8)](_0x2b6700=>_0x2b6700['id']===_0x24cf15?_0x55fe5e:_0x2b6700):_0xc2c309=[...parallelTestShortcuts,_0x55fe5e];try{const _0x5c2ec3=doc(db,_0x28025a(0x6f8),_0x28025a(0xd47));await setDoc(_0x5c2ec3,{'shortcuts':_0xc2c309},{'merge':!![]}),document[_0x28025a(0x722)](_0x28025a(0x42a))['classList'][_0x28025a(0xc24)]('hidden');}catch(_0x15d222){console[_0x28025a(0x300)](_0x28025a(0x447),_0x15d222),showMessage(_0x28025a(0xdf6));}}async function handleParallelTestShortcutClick(_0x576e76){const _0x2e5dbf=_0x1dbc7e,_0x35ad27=parallelTestShortcuts[_0x2e5dbf(0x36c)](_0x4017c3=>_0x4017c3['id']===_0x576e76);if(!_0x35ad27)return;if(!_0x35ad27[_0x2e5dbf(0xa69)]||_0x35ad27[_0x2e5dbf(0xa69)]['trim']()===''){openParallelTestShortcutEditor(_0x576e76);return;}const _0x43bd12=document[_0x2e5dbf(0x722)](_0x2e5dbf(0xeda)),_0x7f7b07=document[_0x2e5dbf(0x722)](_0x2e5dbf(0x7bb));document[_0x2e5dbf(0x722)](_0x2e5dbf(0x59e))[_0x2e5dbf(0x820)][_0x2e5dbf(0xda2)](_0x2e5dbf(0x330)),document[_0x2e5dbf(0x722)](_0x2e5dbf(0x780))[_0x2e5dbf(0x5dd)]='',_0x43bd12[_0x2e5dbf(0x820)]['remove'](_0x2e5dbf(0x330)),_0x7f7b07[_0x2e5dbf(0x2eb)]='กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...';try{let _0x554533;_0x35ad27[_0x2e5dbf(0xa69)][_0x2e5dbf(0x2f6)]()['includes'](_0x2e5dbf(0x4e2))?_0x554533=_0x2e5dbf(0x2cd):_0x554533=_0x2e5dbf(0x683);const _0xc694e5=await fetchFileFromUrl(_0x35ad27[_0x2e5dbf(0xa69)],_0x554533);await handleGenerateParallelTest(_0xc694e5);}catch(_0x28845b){console['error'](_0x2e5dbf(0x87d),_0x28845b),showMessage(_0x2e5dbf(0xcac)+_0x28845b[_0x2e5dbf(0x83d)]),_0x43bd12[_0x2e5dbf(0x820)][_0x2e5dbf(0xc24)](_0x2e5dbf(0x330));}}function initializeScratchpadCanvas(){const _0x40999c=_0x1dbc7e,_0x340a57=document[_0x40999c(0x722)](_0x40999c(0x63f)),_0x213f0f=document[_0x40999c(0x390)](_0x40999c(0xd40));if(!_0x340a57||!_0x213f0f)return;scratchpadCtx=_0x340a57[_0x40999c(0xb33)]('2d',{'willReadFrequently':!![]});const _0x529173=window['devicePixelRatio']||0x1,_0x4a533a=_0x213f0f[_0x40999c(0xef7)]();_0x340a57['width']=_0x4a533a[_0x40999c(0xc6a)]*_0x529173,_0x340a57['height']=_0x4a533a[_0x40999c(0x8f8)]*_0x529173,_0x340a57[_0x40999c(0xa20)][_0x40999c(0xc6a)]=_0x4a533a[_0x40999c(0xc6a)]+'px',_0x340a57[_0x40999c(0xa20)][_0x40999c(0x8f8)]=_0x4a533a['height']+'px',scratchpadCtx[_0x40999c(0x3b8)](_0x529173,_0x529173),scratchpadCtx[_0x40999c(0x2fa)]='round',scratchpadCtx[_0x40999c(0xd34)]='round',_0x340a57['removeEventListener'](_0x40999c(0xc56),handlePointerDown),_0x340a57['removeEventListener']('pointermove',handlePointerMove),_0x340a57[_0x40999c(0xed4)](_0x40999c(0x7d2),handlePointerUp),_0x340a57[_0x40999c(0xed4)](_0x40999c(0xce8),handlePointerUp),_0x340a57[_0x40999c(0xed4)](_0x40999c(0x6d7),handleWheel),_0x340a57[_0x40999c(0xed4)](_0x40999c(0x753),handlePointerDown),_0x340a57[_0x40999c(0xed4)]('touchmove',handlePointerMove),_0x340a57[_0x40999c(0xed4)](_0x40999c(0x81b),handlePointerUp),_0x340a57[_0x40999c(0x939)](_0x40999c(0xc56),handlePointerDown),_0x340a57[_0x40999c(0x939)](_0x40999c(0x724),handlePointerMove),_0x340a57[_0x40999c(0x939)](_0x40999c(0x7d2),handlePointerUp),_0x340a57[_0x40999c(0x939)](_0x40999c(0xce8),handlePointerUp),_0x340a57[_0x40999c(0x939)](_0x40999c(0x6d7),handleWheel,{'passive':![]}),_0x340a57[_0x40999c(0x939)]('touchstart',handlePointerDown,{'passive':![]}),_0x340a57['addEventListener'](_0x40999c(0xdb9),handlePointerMove,{'passive':![]}),_0x340a57[_0x40999c(0x939)](_0x40999c(0x81b),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x3e025a=_0x1dbc7e,_0x2719a5=document['getElementById'](_0x3e025a(0x252)),_0x114d7e=document[_0x3e025a(0x722)](_0x3e025a(0xcf1));_0x114d7e[_0x3e025a(0x5dd)]=_0x3e025a(0x94e)+scratchpadHighlighterSize+_0x3e025a(0x521);const _0x5c370a=document['getElementById'](_0x3e025a(0xc9c)),_0x30e0a5=document[_0x3e025a(0x722)](_0x3e025a(0x3da)),_0x4d9475=document[_0x3e025a(0x722)](_0x3e025a(0xe3f)),_0x202a2c=document['getElementById'](_0x3e025a(0x9e4)),_0x5c71ee=document[_0x3e025a(0x722)](_0x3e025a(0x616)),_0xa155c7=document[_0x3e025a(0x722)](_0x3e025a(0x6ab)),_0xaf15b6=document[_0x3e025a(0x722)]('eraser-tools-group'),_0x2ad8cf=[_0x5c370a,_0x30e0a5,_0x4d9475,_0x202a2c];document[_0x3e025a(0x722)](_0x3e025a(0x23d))[_0x3e025a(0x939)](_0x3e025a(0xa25),()=>_0x2719a5['classList'][_0x3e025a(0xc24)](_0x3e025a(0x330))),document[_0x3e025a(0x722)](_0x3e025a(0xb62))[_0x3e025a(0x939)](_0x3e025a(0xa25),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x3e025a(0x722)](_0x3e025a(0x9b4))[_0x3e025a(0x939)](_0x3e025a(0xa25),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x3e025a(0x696))['addEventListener'](_0x3e025a(0xa25),undo),document[_0x3e025a(0x722)](_0x3e025a(0x506))['addEventListener']('click',redo);const _0x4829c8=_0x239fa1=>{const _0x270e27=_0x3e025a;_0x2ad8cf[_0x270e27(0xb04)](_0x6724a4=>_0x6724a4[_0x270e27(0x820)]['remove']('active')),_0x239fa1[_0x270e27(0x820)][_0x270e27(0xc24)](_0x270e27(0x44f)),_0x5c71ee[_0x270e27(0x820)]['add']('hidden'),_0xa155c7['classList'][_0x270e27(0xc24)]('hidden'),_0xaf15b6[_0x270e27(0x820)][_0x270e27(0xc24)](_0x270e27(0x330));if(activeTool==='pen'||activeTool===_0x270e27(0xdbd))_0x5c71ee[_0x270e27(0x820)][_0x270e27(0xda2)](_0x270e27(0x330));else{if(activeTool===_0x270e27(0x28c))_0xa155c7[_0x270e27(0x820)][_0x270e27(0xda2)](_0x270e27(0x330));else activeTool===_0x270e27(0xd22)&&_0xaf15b6[_0x270e27(0x820)][_0x270e27(0xda2)]('hidden');}};_0x5c370a[_0x3e025a(0x939)](_0x3e025a(0xa25),()=>{const _0x55f3de=_0x3e025a;activeTool=_0x55f3de(0x2fb),_0x4829c8(_0x5c370a);}),_0x30e0a5[_0x3e025a(0x939)](_0x3e025a(0xa25),()=>{activeTool='eraser',_0x4829c8(_0x30e0a5);}),_0x4d9475[_0x3e025a(0x939)](_0x3e025a(0xa25),()=>{const _0xa50d0c=_0x3e025a;activeTool=_0xa50d0c(0xdbd),_0x4829c8(_0x4d9475);}),_0x202a2c[_0x3e025a(0x939)](_0x3e025a(0xa25),()=>{const _0x964c2a=_0x3e025a;activeTool=_0x964c2a(0x28c),_0x4829c8(_0x202a2c);}),_0x5c71ee[_0x3e025a(0x2ff)](_0x3e025a(0xb8e))['forEach'](_0x523c0c=>{const _0x151365=_0x3e025a;_0x523c0c[_0x151365(0x939)](_0x151365(0xa25),_0x5678ff=>{const _0x47de9e=_0x151365;scratchpadPenSize=parseInt(_0x5678ff[_0x47de9e(0xa4c)][_0x47de9e(0xa7e)]['size'],0xa),_0x5c71ee[_0x47de9e(0x2ff)]('.pen-size-btn')[_0x47de9e(0xb04)](_0x58ddf9=>_0x58ddf9['classList']['remove'](_0x47de9e(0x44f))),_0x5678ff[_0x47de9e(0xa4c)]['classList'][_0x47de9e(0xc24)]('active');});}),_0xaf15b6[_0x3e025a(0x2ff)](_0x3e025a(0x49d))[_0x3e025a(0xb04)](_0x78a683=>{const _0x3a30d1=_0x3e025a;_0x78a683[_0x3a30d1(0x939)]('click',_0x4e285b=>{const _0x91d89d=_0x3a30d1,_0x3740ea=_0x4e285b[_0x91d89d(0x37a)];scratchpadEraserSize=parseInt(_0x3740ea[_0x91d89d(0xa7e)][_0x91d89d(0xf04)],0xa),_0xaf15b6[_0x91d89d(0x2ff)](_0x91d89d(0x49d))['forEach'](_0x514c25=>_0x514c25[_0x91d89d(0x820)]['remove'](_0x91d89d(0x44f))),_0x3740ea[_0x91d89d(0x820)][_0x91d89d(0xc24)](_0x91d89d(0x44f));});}),_0x5c71ee[_0x3e025a(0x2ff)](_0x3e025a(0x956))[_0x3e025a(0xb04)](_0x1949ce=>{const _0x8da424=_0x3e025a;_0x1949ce[_0x8da424(0x939)](_0x8da424(0xa25),_0x347e25=>{const _0x223bb2=_0x8da424;scratchpadPenColor=_0x347e25[_0x223bb2(0xa4c)]['dataset'][_0x223bb2(0x9ce)],_0x5c71ee['querySelectorAll']('.pen-color-btn')[_0x223bb2(0xb04)](_0x497640=>_0x497640[_0x223bb2(0x820)][_0x223bb2(0xda2)](_0x223bb2(0x44f))),_0x347e25['target'][_0x223bb2(0x820)][_0x223bb2(0xc24)](_0x223bb2(0x44f));});}),_0xa155c7[_0x3e025a(0x2ff)](_0x3e025a(0x786))[_0x3e025a(0xb04)](_0x4d8add=>{const _0x5d563d=_0x3e025a;_0x4d8add['addEventListener'](_0x5d563d(0xa25),_0x1d4190=>{const _0x1d1e4e=_0x5d563d;scratchpadHighlighterColor=_0x1d4190[_0x1d1e4e(0xa4c)][_0x1d1e4e(0xa7e)][_0x1d1e4e(0x9ce)],_0xa155c7[_0x1d1e4e(0x2ff)](_0x1d1e4e(0x786))['forEach'](_0x33cb46=>_0x33cb46[_0x1d1e4e(0x820)][_0x1d1e4e(0xda2)]('active')),_0x1d4190[_0x1d1e4e(0xa4c)][_0x1d1e4e(0x820)][_0x1d1e4e(0xc24)](_0x1d1e4e(0x44f));});});const _0x4c2192=document[_0x3e025a(0x722)](_0x3e025a(0xcc2)),_0x2e2b09=document['getElementById']('highlighter-size-value');_0x4c2192[_0x3e025a(0x939)]('input',_0x587bee=>{const _0x1dd8b1=_0x3e025a,_0x1d670e=parseInt(_0x587bee['target']['value'],0xa);scratchpadHighlighterSize=_0x1d670e,_0x2e2b09[_0x1dd8b1(0x2eb)]=_0x1d670e;}),window[_0x3e025a(0x939)](_0x3e025a(0x386),()=>{const _0x40ebe6=_0x3e025a;!_0x2719a5['classList']['contains'](_0x40ebe6(0x330))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x1dbc7e(0x36d),'name':_0x1dbc7e(0xee7),'description':_0x1dbc7e(0xc06),'icon':_0x1dbc7e(0x4f1)},'QUICK_THINKER':{'id':_0x1dbc7e(0xc2e),'name':'เซียนสมองไว','description':_0x1dbc7e(0xe2a),'icon':_0x1dbc7e(0xdb0)},'ON_FIRE':{'id':_0x1dbc7e(0x64d),'name':'ท็อปฟอร์ม','description':_0x1dbc7e(0x9ae),'icon':_0x1dbc7e(0x9bd)},'FIRST_TRY_ACE':{'id':_0x1dbc7e(0xd26),'name':'ผ่านฉลุย','description':_0x1dbc7e(0x824),'icon':_0x1dbc7e(0x27a)},'COMEBACK_KING':{'id':_0x1dbc7e(0x210),'name':'ราชาคัมแบ็ก','description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x1dbc7e(0x6e4)},'SPECIALIST':{'id':_0x1dbc7e(0x95a),'name':'ผู้เชี่ยวชาญ','description':_0x1dbc7e(0xb32),'icon':_0x1dbc7e(0x7f3)},'PERSEVERANCE':{'id':'perseverance','name':_0x1dbc7e(0xa89),'description':_0x1dbc7e(0xd77),'icon':_0x1dbc7e(0x5aa)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x1dbc7e(0x74e),'projectId':_0x1dbc7e(0x8d2),'storageBucket':_0x1dbc7e(0xcde),'messagingSenderId':'274192258111','appId':_0x1dbc7e(0xbc2),'measurementId':_0x1dbc7e(0x1f6)},appId=typeof __app_id!==_0x1dbc7e(0x4fb)?__app_id:_0x1dbc7e(0x64a),adminView=document[_0x1dbc7e(0x722)](_0x1dbc7e(0xc4d)),studentView=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x68f)),projectDashboardView=document[_0x1dbc7e(0x722)](_0x1dbc7e(0xbb9)),projectDetailView=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x1f7)),quizResultsView=document[_0x1dbc7e(0x722)]('quiz-results-view'),projectList=document[_0x1dbc7e(0x722)]('project-list'),noProjectsMsg=document['getElementById'](_0x1dbc7e(0x5f0)),projectTitle=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x90a)),projectIdDisplay=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x482)),studentList=document[_0x1dbc7e(0x722)](_0x1dbc7e(0xd10)),messageModal=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x47e)),modalMessage=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x495)),createProjectModal=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x759)),adminPasswordModal=document[_0x1dbc7e(0x722)]('admin-password-modal'),confirmationModal=document[_0x1dbc7e(0x722)](_0x1dbc7e(0xa4d)),userIdDisplay=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x812)),topicTab=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x3be)),textTab=document[_0x1dbc7e(0x722)](_0x1dbc7e(0xcbf)),topicInputArea=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x6d4)),textInputArea=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x62c)),manageTab=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x7d0)),resultsTab=document[_0x1dbc7e(0x722)](_0x1dbc7e(0xba0)),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x837)),resultsTabContent=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x9cb)),leaderboardTabContent=document['getElementById'](_0x1dbc7e(0xafb)),projectQuizzesList=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x58a)),fileTab=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x5c6)),fileInputArea=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x227)),fileUploadInput=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x378)),worksheetTab=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x4a5)),worksheetInputArea=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x9fe)),generateWorksheetBtn=document[_0x1dbc7e(0x722)](_0x1dbc7e(0xa9f)),studentInitialView=document['getElementById']('student-initial-view'),studentNameSelectionView=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x716)),studentQuizArea=document['getElementById'](_0x1dbc7e(0x2df)),studentResultArea=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x69e)),studentReadingArea=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x777)),loadQuizBtn=document[_0x1dbc7e(0x722)]('load-quiz-btn'),startQuizBtn=document[_0x1dbc7e(0x722)]('start-quiz-btn'),studentJoinGameView=document[_0x1dbc7e(0x722)](_0x1dbc7e(0xbe1)),presentationModal=document[_0x1dbc7e(0x722)]('presentation-modal'),renameQuizModal=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x6b4)),moveQuizModal=document['getElementById'](_0x1dbc7e(0x627)),quizSettingsModal=document[_0x1dbc7e(0x722)](_0x1dbc7e(0xc8c)),quizStatusModal=document[_0x1dbc7e(0x722)]('quiz-status-modal'),liveGameView=document[_0x1dbc7e(0x722)](_0x1dbc7e(0x823));function handleFixLessonLatex(){const _0x4cb546=_0x1dbc7e,_0x1b6dd6=document[_0x4cb546(0x722)](_0x4cb546(0x7bd));if(!_0x1b6dd6){showMessage(_0x4cb546(0x8f3));return;}const _0x218397=_0x1b6dd6[_0x4cb546(0x2ff)]([_0x4cb546(0x92a),_0x4cb546(0xf06),_0x4cb546(0x67c),_0x4cb546(0xd87),_0x4cb546(0xad9)][_0x4cb546(0xbc8)](','));let _0x4aa0d9=0x0;const _0x4def3d=_0x3d4183=>_0x3d4183['textContent']||'',_0x47b2c8=(_0x145bec,_0x166261)=>{const _0x29b98a=_0x4cb546;if(_0x145bec[_0x29b98a(0x390)]&&_0x145bec[_0x29b98a(0x390)]('mjx-container'))return;_0x145bec['textContent']=_0x166261;},_0x398644=_0x1104ee=>_0x1104ee['replace'](/\u00A0/g,'\x20')[_0x4cb546(0x84f)](/\u200B/g,'')[_0x4cb546(0x84f)](/\r\n?/g,'\x0a'),_0x5215e4=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x29cfa4=_0xf46c44=>{const _0x44e1c3=_0x4cb546;let _0x2fbf59=_0xf46c44['trim']();const _0x148976=[_0x44e1c3(0xc9f),_0x44e1c3(0x762),_0x44e1c3(0xbed),'sqrt',_0x44e1c3(0x27d),_0x44e1c3(0x8ca),_0x44e1c3(0xcfb),_0x44e1c3(0x6ca),_0x44e1c3(0xb85),_0x44e1c3(0x6e9),'le','ge',_0x44e1c3(0xa1d),'pm',_0x44e1c3(0xe5c),_0x44e1c3(0xc0c),_0x44e1c3(0x28f),_0x44e1c3(0xb73),_0x44e1c3(0x545),'ln',_0x44e1c3(0x87f),'prod',_0x44e1c3(0xd4a),_0x44e1c3(0xeed),'right',_0x44e1c3(0x900),_0x44e1c3(0x94f),_0x44e1c3(0x82e),_0x44e1c3(0x454)];_0x148976[_0x44e1c3(0xb04)](_0x3ff947=>{const _0x519505=_0x44e1c3;_0x2fbf59=_0x2fbf59[_0x519505(0x84f)](new RegExp(_0x519505(0x217)+_0x3ff947+'\x5cb','g'),(_0x4cd046,_0x5c1f2e)=>_0x5c1f2e+'\x5c'+_0x3ff947);});const _0xb00575=[[/×/g,'\x5ctimes'],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,_0x44e1c3(0xb0a)],[/≥/g,_0x44e1c3(0x350)],[/≠/g,_0x44e1c3(0xeeb)],[/±/g,_0x44e1c3(0x33c)],[/∑/g,_0x44e1c3(0x5da)],[/−/g,'-']];return _0xb00575[_0x44e1c3(0xb04)](([_0x558364,_0x4ad2e5])=>{const _0x2264b7=_0x44e1c3;_0x2fbf59=_0x2fbf59[_0x2264b7(0x84f)](_0x558364,_0x4ad2e5);}),_0x2fbf59=_0x2fbf59[_0x44e1c3(0x84f)](/√\s*([A-Za-z0-9]+)/g,_0x44e1c3(0xeb4)),_0x2fbf59=_0x2fbf59[_0x44e1c3(0x84f)](/(\d+)\s*%/g,_0x44e1c3(0x4bd)),_0x2fbf59;},_0x56bb10=_0x5bdc96=>{const _0x4db6fc=_0x4cb546;if(/\$|\\\(|\\\[/['test'](_0x5bdc96))return _0x5bdc96;if(!_0x5215e4[_0x4db6fc(0x60a)](_0x5bdc96))return _0x5bdc96;const _0x5617fc=_0x5bdc96['match'](/^\s*/)[0x0],_0x522a79=_0x5bdc96['match'](/\s*$/)[0x0],_0xc82599=_0x5bdc96[_0x4db6fc(0xbe3)]();return _0x5617fc+'$'+_0x29cfa4(_0xc82599)+'$'+_0x522a79;};_0x218397[_0x4cb546(0xb04)](_0x5c5984=>{const _0x5c8299=_0x4cb546,_0x146173=_0x4def3d(_0x5c5984);let _0x56672f=_0x398644(_0x146173);_0x56672f=_0x56672f[_0x5c8299(0x84f)](/\$([^$]*?)\$/g,(_0x25982e,_0x441d4e)=>'$'+_0x29cfa4(_0x441d4e)+'$');const _0x71f511=_0x56672f['split'](/(\s+)/),_0xa752fa=_0x71f511[_0x5c8299(0xab8)](_0x2078d1=>{const _0x39773a=_0x5c8299;if(/\s+/[_0x39773a(0x60a)](_0x2078d1))return _0x2078d1;return _0x56bb10(_0x2078d1);});_0x56672f=_0xa752fa['join'](''),_0x56672f!==_0x146173&&(_0x47b2c8(_0x5c5984,_0x56672f),_0x4aa0d9++);});if(_0x4aa0d9>0x0){showMessage(_0x4cb546(0x5f1)+_0x4aa0d9+_0x4cb546(0xe89));try{window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x4cb546(0x303)]([_0x1b6dd6]);}catch(_0x3a5300){console[_0x4cb546(0x300)]('MathJax\x20re-render\x20failed:',_0x3a5300);}}else showMessage(_0x4cb546(0x5ae));}function handleAutoFixLatex(){const _0x4d7905=_0x1dbc7e,_0x461c6b=document['getElementById'](_0x4d7905(0x3ed))||document,_0x34d6bd=_0x461c6b['querySelectorAll'](_0x4d7905(0xc5f));let _0x1284e5=0x0;const _0x419e54=_0x5a3bea=>_0x4d7905(0xa46)in _0x5a3bea?String(_0x5a3bea['value']):_0x5a3bea[_0x4d7905(0xd43)]!==undefined?_0x5a3bea[_0x4d7905(0xd43)]:_0x5a3bea[_0x4d7905(0x2eb)]||'',_0x6af653=(_0x2f718f,_0x49087b)=>{const _0x8003e9=_0x4d7905;if('value'in _0x2f718f){_0x2f718f['value']=_0x49087b;return;}if(_0x2f718f['querySelector']&&_0x2f718f['querySelector'](_0x8003e9(0xe5e)))return;if(_0x2f718f[_0x8003e9(0xd43)]!==undefined)_0x2f718f[_0x8003e9(0xd43)]=_0x49087b;else _0x2f718f['textContent']=_0x49087b;},_0xe4b05b=_0x45431a=>_0x45431a[_0x4d7905(0x84f)](/\u00A0/g,'\x20')[_0x4d7905(0x84f)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x5ec008=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x112811=_0x204c64=>{const _0x53a0ff=_0x4d7905;let _0x43fbcf=_0x204c64[_0x53a0ff(0xbe3)]();_0x43fbcf=_0x43fbcf[_0x53a0ff(0x84f)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x53a0ff(0x1f1)),_0x43fbcf=_0x43fbcf['replace'](/\bfrac(\d)(\d)/g,_0x53a0ff(0x1f1));const _0xf1db74=['frac',_0x53a0ff(0x874),_0x53a0ff(0x8ca),_0x53a0ff(0xcfb),_0x53a0ff(0x6ca),_0x53a0ff(0xb85),_0x53a0ff(0x6e9),'neq','pm',_0x53a0ff(0xc0c),_0x53a0ff(0x28f),_0x53a0ff(0xb73),_0x53a0ff(0x545),'ln'];_0xf1db74[_0x53a0ff(0xb04)](_0x450866=>{const _0x392974=_0x53a0ff;_0x43fbcf=_0x43fbcf[_0x392974(0x84f)](new RegExp(_0x392974(0x217)+_0x450866+'\x5cb','g'),(_0x157f60,_0x15f61e)=>_0x15f61e+'\x5c'+_0x450866);});const _0x2d21a1=[[/×/g,_0x53a0ff(0x5ec)],[/·/g,_0x53a0ff(0xaeb)],[/÷/g,_0x53a0ff(0x532)],[/≤/g,_0x53a0ff(0xb0a)],[/≥/g,_0x53a0ff(0x350)],[/≠/g,'\x5cneq'],[/±/g,_0x53a0ff(0x33c)]];return _0x2d21a1[_0x53a0ff(0xb04)](([_0x425df7,_0x4d0d25])=>{const _0x34bdc4=_0x53a0ff;_0x43fbcf=_0x43fbcf[_0x34bdc4(0x84f)](_0x425df7,_0x4d0d25);}),_0x43fbcf;},_0x39fa03=_0x46bf32=>{const _0x4c5c0e=_0x4d7905;if(/\$|\\\(|\\\[/[_0x4c5c0e(0x60a)](_0x46bf32))return _0x46bf32;if(!_0x5ec008[_0x4c5c0e(0x60a)](_0x46bf32))return _0x46bf32;const _0x373384=_0x46bf32[_0x4c5c0e(0x437)](/^\s*/)[0x0],_0x5ee6f4=_0x46bf32[_0x4c5c0e(0x437)](/\s*$/)[0x0],_0x1ca3c1=_0x46bf32[_0x4c5c0e(0xbe3)]();return _0x373384+'$'+_0x112811(_0x1ca3c1)+'$'+_0x5ee6f4;};_0x34d6bd[_0x4d7905(0xb04)](_0x41532f=>{const _0x1ec41a=_0x4d7905,_0x4a5fef=_0x419e54(_0x41532f);let _0x2c44d6=_0xe4b05b(_0x4a5fef);_0x2c44d6=_0x2c44d6[_0x1ec41a(0x84f)](/\$([^$]*?)\$/g,(_0x507d9d,_0xad80cc)=>'$'+_0x112811(_0xad80cc)+'$');const _0x59dc9d=_0x2c44d6['split'](/(\s+)/),_0x137fa9=_0x59dc9d['map'](_0x5884e1=>/\s+/[_0x1ec41a(0x60a)](_0x5884e1)?_0x5884e1:_0x39fa03(_0x5884e1));_0x2c44d6=_0x137fa9['join'](''),_0x2c44d6!==_0x4a5fef&&(_0x6af653(_0x41532f,_0x2c44d6),_0x1284e5++);});if(_0x1284e5>0x0){showMessage(_0x4d7905(0xb23)+_0x1284e5+'\x20จุด');try{if(window[_0x4d7905(0xa8c)]&&MathJax[_0x4d7905(0x303)])MathJax[_0x4d7905(0x303)]();}catch(_0x46a3fe){}}else showMessage(_0x4d7905(0xdc6));}async function listenForCustomMathTopics(){const _0x9e43e8=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');onSnapshot(_0x9e43e8,_0x1475b6=>{const _0x5b1cc7=_0x320f;customMathTopics=_0x1475b6[_0x5b1cc7(0xd16)][_0x5b1cc7(0xab8)](_0x41bb42=>({'id':_0x41bb42['id'],..._0x41bb42[_0x5b1cc7(0x690)]()})),renderTopicCheckboxes();},_0x1038eb=>{const _0x2432fd=_0x320f;console[_0x2432fd(0x300)](_0x2432fd(0xcd4),_0x1038eb);});}function handleSelectAllTopics(){const _0x25cc6a=_0x1dbc7e,_0x2271c5=document[_0x25cc6a(0x722)](_0x25cc6a(0x280)),_0x38d609=_0x2271c5[_0x25cc6a(0x2ff)](_0x25cc6a(0x555));_0x38d609['forEach'](_0x330dd1=>{const _0x206249=_0x25cc6a;_0x330dd1[_0x206249(0x9cd)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x13740a=_0x1dbc7e,_0x2ff8eb=document['getElementById']('math-topics-checkbox-container'),_0x5773d9=_0x2ff8eb[_0x13740a(0x2ff)](_0x13740a(0x555));_0x5773d9[_0x13740a(0xb04)](_0x8e9fda=>{const _0x481392=_0x13740a;_0x8e9fda[_0x481392(0x9cd)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x49454a){const _0x308e13=_0x1dbc7e;if(!_0x49454a)return;try{const _0x1e99d5=doc(db,_0x308e13(0xd90)+appId+'/public/data/customMathTopics',_0x49454a);await deleteDoc(_0x1e99d5),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x4cfe39){console[_0x308e13(0x300)](_0x308e13(0x43a),_0x4cfe39),showMessage(_0x308e13(0xbba));}}async function handleAddCustomMathTopic(){const _0x1478c1=_0x1dbc7e,_0x558381=document['getElementById'](_0x1478c1(0xc0b)),_0x282bb2=_0x558381[_0x1478c1(0xa46)][_0x1478c1(0xbe3)]();if(!_0x282bb2){showMessage(_0x1478c1(0x652));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x16723e=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');await addDoc(_0x16723e,{'name':_0x282bb2,'createdAt':serverTimestamp()}),_0x558381['value']='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x282bb2+_0x1478c1(0x7fa));}catch(_0x3ed8ed){console[_0x1478c1(0x300)](_0x1478c1(0xaaa),_0x3ed8ed),showMessage(_0x1478c1(0x299));}}async function handleUpdateOldQuizzes(){const _0x1ab59e=_0x1dbc7e;showConfirmation(_0x1ab59e(0x4b9),async()=>{const _0x447cd5=_0x1ab59e,_0x3fa0a8=document[_0x447cd5(0x722)](_0x447cd5(0xeda)),_0x4e4d93=document[_0x447cd5(0x722)](_0x447cd5(0x7bb)),_0x3b5c56=_0x4e4d93[_0x447cd5(0x2eb)];_0x3fa0a8[_0x447cd5(0x820)][_0x447cd5(0xda2)](_0x447cd5(0x330)),_0x4e4d93[_0x447cd5(0x2eb)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0xcfc249=collection(db,_0x447cd5(0xd90)+appId+_0x447cd5(0x806)),_0x17c8ac=await getDocs(_0xcfc249);if(_0x17c8ac[_0x447cd5(0x553)]){showMessage(_0x447cd5(0xedb));return;}const _0x4ce9f0=writeBatch(db);let _0x56c389=0x0;_0x17c8ac[_0x447cd5(0xb04)](_0x5bf5fa=>{const _0x2672df=_0x447cd5,_0x4a8224=_0x5bf5fa['data'](),_0xaec9fb=_0x5bf5fa['id'];if(_0x4a8224[_0x2672df(0x882)]&&_0x4a8224[_0x2672df(0x882)][_0x2672df(0xc8f)]>0x0&&!_0x4a8224[_0x2672df(0x882)][0x0][_0x2672df(0xd44)]('id')){console[_0x2672df(0x545)]('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0xaec9fb+'\x20('+_0x4a8224['topic']+')'),_0x56c389++;const _0x32f703=_0x4a8224[_0x2672df(0x882)][_0x2672df(0xab8)]((_0xfd0c62,_0x4f46ac)=>{return{..._0xfd0c62,'id':_0xfd0c62['id']||'q_'+Date['now']()+'_'+_0xaec9fb+'_'+_0x4f46ac};}),_0x536351=doc(db,_0x2672df(0xd90)+appId+'/public/data/quizzes',_0xaec9fb);_0x4ce9f0['update'](_0x536351,{'questions':_0x32f703});}}),_0x56c389>0x0?(_0x4e4d93[_0x447cd5(0x2eb)]=_0x447cd5(0x75e)+_0x56c389+_0x447cd5(0x88f),await _0x4ce9f0['commit'](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x56c389+_0x447cd5(0xe76))):showMessage(_0x447cd5(0x474));}catch(_0x994bc3){console[_0x447cd5(0x300)](_0x447cd5(0x51e),_0x994bc3),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x994bc3['message']);}finally{_0x3fa0a8[_0x447cd5(0x820)][_0x447cd5(0xc24)](_0x447cd5(0x330)),_0x4e4d93[_0x447cd5(0x2eb)]=_0x3b5c56;}});}async function handleBulkUpdateQuizSettings(){const _0x5b4478=_0x1dbc7e,_0x5d50fb={'shuffle':document[_0x5b4478(0x722)](_0x5b4478(0xe24))[_0x5b4478(0xa46)],'resultsDisplay':document[_0x5b4478(0x722)](_0x5b4478(0x48f))[_0x5b4478(0xa46)],'loopUntilPass':document['getElementById']('bulk-loop-until-pass-checkbox')['checked'],'isConfidenceScoringEnabled':document[_0x5b4478(0x722)]('bulk-confidence-scoring-checkbox')[_0x5b4478(0x9cd)],'confidenceMode':document[_0x5b4478(0x722)]('bulk-confidence-mode-select')[_0x5b4478(0xa46)]};try{showMessage(_0x5b4478(0x8b1));const _0x4bfe73=await getDocs(collection(db,_0x5b4478(0xd90)+appId+_0x5b4478(0x806))),_0x3e73dd=_0x4bfe73[_0x5b4478(0xd16)][_0x5b4478(0xab8)](_0x21b3a6=>({'id':_0x21b3a6['id'],'data':_0x21b3a6[_0x5b4478(0x690)]()})),_0x1d911c=_0x3e73dd[_0x5b4478(0xc8f)];showConfirmation(_0x5b4478(0xc88)+_0x1d911c+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x34bdf9=_0x5b4478,_0xbc4ea5=document[_0x34bdf9(0x722)](_0x34bdf9(0x2af));_0xbc4ea5['disabled']=!![],_0xbc4ea5[_0x34bdf9(0x5dd)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x5ead2b=writeBatch(db);_0x3e73dd[_0x34bdf9(0xb04)](_0x397c0f=>{const _0xf81b3f=_0x34bdf9,_0x136a49=doc(db,_0xf81b3f(0xd90)+appId+_0xf81b3f(0x806),_0x397c0f['id']),_0x43556a={..._0x397c0f[_0xf81b3f(0x690)][_0xf81b3f(0xa0a)]||{},..._0x5d50fb};_0x5ead2b[_0xf81b3f(0x81a)](_0x136a49,{'settings':_0x43556a});}),await _0x5ead2b['commit'](),document[_0x34bdf9(0x722)](_0x34bdf9(0x281))[_0x34bdf9(0x820)][_0x34bdf9(0xc24)]('hidden'),showMessage(_0x34bdf9(0x7ce)+_0x1d911c+_0x34bdf9(0x3fc));}catch(_0x23ee4e){console[_0x34bdf9(0x300)](_0x34bdf9(0xc01),_0x23ee4e),showMessage(_0x34bdf9(0xe3b));}finally{_0xbc4ea5[_0x34bdf9(0xce0)]=![],_0xbc4ea5[_0x34bdf9(0x5dd)]=_0x34bdf9(0xc89);}});}catch(_0xd04922){console[_0x5b4478(0x300)](_0x5b4478(0xcbd),_0xd04922),showMessage(_0x5b4478(0x31f));}}async function handleSaveProjectName(){const _0x427336=_0x1dbc7e,_0x5deff5=document[_0x427336(0x722)](_0x427336(0x90a)),_0x3ef027=document[_0x427336(0x722)]('save-project-name-btn'),_0xf693d9=_0x5deff5['textContent'][_0x427336(0xbe3)]();if(!_0xf693d9||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x5deff5[_0x427336(0x2eb)]=currentProjectData[_0x427336(0x897)];return;}_0x3ef027[_0x427336(0xce0)]=!![],_0x3ef027[_0x427336(0x5dd)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x130c01=doc(db,_0x427336(0xd90)+appId+_0x427336(0xb97),currentProjectId);await updateDoc(_0x130c01,{'projectName':_0xf693d9}),currentProjectData&&(currentProjectData['projectName']=_0xf693d9),showMessage(_0x427336(0xe9b));}catch(_0x451dad){console[_0x427336(0x300)](_0x427336(0x6fb),_0x451dad),showMessage(_0x427336(0xdf6)),_0x5deff5[_0x427336(0x2eb)]=currentProjectData['projectName'];}finally{_0x3ef027[_0x427336(0x820)][_0x427336(0xc24)]('hidden'),_0x3ef027[_0x427336(0xce0)]=![],_0x3ef027[_0x427336(0x5dd)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x196bd6,_0x3089c3){const _0x596c45=_0x1dbc7e,_0x23ce5d=document[_0x596c45(0x722)](_0x596c45(0x85f)),_0x2569ff=document[_0x596c45(0x722)](_0x596c45(0xe02)),_0x1c2306=document[_0x596c45(0x722)](_0x596c45(0x7a7)),_0x43b98e=document[_0x596c45(0x722)](_0x596c45(0x3b2));_0x2569ff['textContent']=_0x596c45(0xd60)+_0x196bd6,_0x43b98e[_0x596c45(0x820)]['add'](_0x596c45(0x330)),_0x1c2306[_0x596c45(0x820)][_0x596c45(0xda2)]('hidden'),_0x23ce5d['classList'][_0x596c45(0xda2)](_0x596c45(0x330)),generatePracticeTest(_0x196bd6,_0x3089c3)[_0x596c45(0xb2a)](_0x5f572f=>{const _0x3c2533=_0x596c45;console[_0x3c2533(0x300)](_0x3c2533(0xe61),_0x5f572f),showMessage(_0x3c2533(0x673)),_0x23ce5d['classList']['add'](_0x3c2533(0x330));});}async function generatePracticeTest(_0x283902,_0x481cbf){const _0x38832c=_0x1dbc7e;[_0x38832c(0x628),'memoryContent',_0x38832c(0xd0a),_0x38832c(0x79f)][_0x38832c(0xb04)](_0x29c7ac=>{const _0x30fd22=_0x38832c,_0x2ebdc9=document[_0x30fd22(0x722)](_0x29c7ac)[_0x30fd22(0x2d1)];_0x2ebdc9&&(_0x2ebdc9[_0x30fd22(0xa20)]['display']='none');});try{const _0xc3bf7f=_0x38832c(0x60d),_0x4a9d2=_0x38832c(0x4bf)+_0x481cbf+_0x38832c(0xb7c)+_0x283902+_0x38832c(0x27e),_0x2db6b7=await callGemini(_0x4a9d2,!![]),_0x5123f0=document[_0x38832c(0x722)](_0x38832c(0xe02)),_0x2babab=document[_0x38832c(0x722)](_0x38832c(0x7a7)),_0x462e89=document['getElementById'](_0x38832c(0x3b2)),_0x39a33c=document[_0x38832c(0x722)]('applicationContent')[_0x38832c(0x2d1)];_0x5123f0[_0x38832c(0xd43)]=_0x38832c(0xb5e)+_0x283902[_0x38832c(0x84f)](/•\s/g,'')+_0x38832c(0x53d)+_0x481cbf+')',currentApplicationData=JSON['parse'](_0x2db6b7);const _0x2e8078=document['getElementById']('applicationContent');_0x2e8078['innerHTML']=currentApplicationData['map']((_0x361771,_0x3b44e1)=>_0x38832c(0x4a6)+(_0x3b44e1+0x1)+'.\x20'+marked['parseInline'](_0x361771[_0x38832c(0x22f)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x3b44e1+_0x38832c(0xc96)+_0x361771['options'][_0x38832c(0xab8)]((_0x26559e,_0x3b3505)=>_0x38832c(0x52d)+_0x3b44e1+',\x20'+_0x3b3505+')\x22>'+String['fromCharCode'](0x61+_0x3b3505)+'.\x20'+marked[_0x38832c(0xa48)](_0x26559e)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x38832c(0xbc8)]('')+_0x38832c(0x8fd))['join'](''),window[_0x38832c(0xa8c)]&&MathJax[_0x38832c(0x303)]([_0x2e8078]),_0x39a33c&&(_0x39a33c[_0x38832c(0xa20)][_0x38832c(0xd1c)]=_0x38832c(0xaa9)),_0x2babab[_0x38832c(0x820)][_0x38832c(0xc24)](_0x38832c(0x330)),_0x462e89[_0x38832c(0x820)][_0x38832c(0xda2)](_0x38832c(0x330));}catch(_0x59dbc6){console[_0x38832c(0x300)](_0x59dbc6);throw _0x59dbc6;}}async function callGemini(_0x4f605b,_0x22f82d=![]){const _0x19140f=_0x1dbc7e,_0x3da89d=_0x19140f(0xd94),_0x278fb0='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x3da89d,_0xfde1b={'contents':[{'parts':[{'text':_0x4f605b}]}]};_0x22f82d&&(_0xfde1b[_0x19140f(0x89f)]={'responseMimeType':_0x19140f(0xbae)},_0x4f605b[_0x19140f(0x549)](_0x19140f(0x5ee))?_0xfde1b[_0x19140f(0x89f)][_0x19140f(0x800)]={'type':_0x19140f(0x552),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x19140f(0x9ba),'items':{'type':_0x19140f(0x552),'properties':{'sara':{'type':_0x19140f(0xcdc)},'mainTopics':{'type':_0x19140f(0x9ba),'items':{'type':_0x19140f(0x552),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x19140f(0x9ba),'items':{'type':'STRING'}}},'required':[_0x19140f(0xdde),'subTopics']}}},'required':[_0x19140f(0x5d1),_0x19140f(0x685)]}}},'required':[_0x19140f(0x340),_0x19140f(0xbaa)]}:_0xfde1b['generationConfig'][_0x19140f(0x800)]={'type':'ARRAY','items':{'type':_0x19140f(0x552),'properties':{'question':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x19140f(0xcdc)}},'answer':{'type':_0x19140f(0xdf9)}},'required':[_0x19140f(0x22f),'options',_0x19140f(0xac3)]}});try{const _0x754bed=await fetch(_0x278fb0,{'method':_0x19140f(0x80f),'headers':{'Content-Type':_0x19140f(0xbae)},'body':JSON['stringify'](_0xfde1b)});if(!_0x754bed['ok']){const _0x5962c2=await _0x754bed[_0x19140f(0x27d)]();console[_0x19140f(0x300)](_0x19140f(0x99a),_0x5962c2);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x754bed[_0x19140f(0x600)]);}const _0x16dbff=await _0x754bed['json']();if(_0x16dbff[_0x19140f(0xd2a)]&&_0x16dbff[_0x19140f(0xd2a)][0x0]['content']&&_0x16dbff['candidates'][0x0][_0x19140f(0x94b)]['parts'][0x0])return _0x16dbff[_0x19140f(0xd2a)][0x0][_0x19140f(0x94b)][_0x19140f(0x662)][0x0][_0x19140f(0x27d)];else{console[_0x19140f(0x300)](_0x19140f(0x2a2),_0x16dbff);if(_0x16dbff[_0x19140f(0xd2a)]&&_0x16dbff[_0x19140f(0xd2a)][0x0][_0x19140f(0x2f8)]==='SAFETY')return JSON[_0x19140f(0xa70)]({'error':_0x19140f(0x59f)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x57bc5d){console[_0x19140f(0x300)]('Error\x20calling\x20Gemini\x20API:',_0x57bc5d);throw _0x57bc5d;}}async function generateLesson(_0x503b64=null,_0x5d54dd=null){const _0x267f67=_0x1dbc7e,_0x18029c=_0x503b64,_0x573d24=_0x5d54dd||_0x267f67(0xeb3),_0x3330d2=document[_0x267f67(0x722)](_0x267f67(0x7a7)),_0x32e644=document[_0x267f67(0x722)](_0x267f67(0x558));_0x32e644['textContent']='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x18029c+'\x22...';try{let _0x53d380=[];const _0x28a561=document['getElementById']('bp-reference-file-url')?.[_0x267f67(0xa46)]['trim']();if(_0x28a561)try{_0x32e644[_0x267f67(0x2eb)]=_0x267f67(0x9a0);const _0x189308=await fetchFileFromUrl(_0x28a561,_0x267f67(0x5a3)),_0x5d4f8c=await new Promise((_0x12cea1,_0x4f8ad9)=>{const _0x3fd97c=_0x267f67,_0x3ef0ea=new FileReader();_0x3ef0ea['readAsDataURL'](_0x189308),_0x3ef0ea[_0x3fd97c(0x263)]=()=>_0x12cea1(_0x3ef0ea[_0x3fd97c(0xd6a)][_0x3fd97c(0x91b)](',')[0x1]),_0x3ef0ea['onerror']=_0x4f8ad9;});_0x53d380[_0x267f67(0xca1)]({'inlineData':{'mimeType':_0x189308[_0x267f67(0x530)],'data':_0x5d4f8c}});}catch(_0x5c10e3){console['error']('Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.',_0x5c10e3),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ');}const _0x55bb6d=_0x267f67(0xbbb)+_0x18029c+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x18029c+_0x267f67(0x6f4);_0x32e644[_0x267f67(0x2eb)]=_0x267f67(0x2ab)+_0x18029c+_0x267f67(0x472);const _0x3eab21=_0x267f67(0x39a)+_0x573d24+_0x267f67(0xb7c)+_0x18029c+_0x267f67(0xed5)+_0x55bb6d+_0x267f67(0xc92),_0x4fe4d4='สำหรับหัวข้อ\x20\x27'+_0x18029c+_0x267f67(0x4cf)+_0x573d24+_0x267f67(0x960)+_0x55bb6d+'.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX',_0x271010=_0x267f67(0x4bf)+_0x573d24+'\x27\x20ในหัวข้อ\x20\x27'+_0x18029c+_0x267f67(0x768)+_0x55bb6d+'.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x49a3ae=_0x267f67(0xd59)+_0x18029c+_0x267f67(0xa11)+_0x573d24+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x55bb6d+_0x267f67(0x39c),_0x4b7aae={'type':_0x267f67(0x9ba),'items':{'type':_0x267f67(0x552),'properties':{'question':{'type':_0x267f67(0xcdc)},'options':{'type':_0x267f67(0x9ba),'items':{'type':_0x267f67(0xcdc)}},'answer':{'type':_0x267f67(0xdf9)}},'required':['question',_0x267f67(0x9d3),'answer']}},[_0x5693ad,_0x5c4d7b,_0x5b91f0,_0x10c419]=await Promise[_0x267f67(0x829)]([handleApiCall([{'text':_0x3eab21},..._0x53d380],_0x267f67(0x9a6),null,null,![]),handleApiCall([{'text':_0x4fe4d4},..._0x53d380],_0x267f67(0x9a6),null,null,![]),handleApiCall([{'text':_0x271010},..._0x53d380],_0x267f67(0x9a6),_0x4b7aae,null,![]),handleApiCall([{'text':_0x49a3ae},..._0x53d380],_0x267f67(0x9a6),null,null,![])]),_0x232d1a=JSON[_0x267f67(0xa70)](_0x5b91f0||[]),_0x66b9cd=document['getElementById'](_0x267f67(0xe02)),_0x56f32f=document[_0x267f67(0x722)](_0x267f67(0x3b2));_0x66b9cd[_0x267f67(0xd43)]=_0x267f67(0x8eb)+_0x18029c['replace'](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x573d24+')',[_0x267f67(0x628),_0x267f67(0xcf3),_0x267f67(0x79f)][_0x267f67(0xb04)](_0x5898aa=>{const _0x47d94e=_0x267f67;document[_0x47d94e(0x722)](_0x5898aa)['innerHTML']='';}),document[_0x267f67(0x722)]('pointContent')[_0x267f67(0x5dd)]=_0x5693ad?marked[_0x267f67(0x684)](_0x5693ad):_0x267f67(0x38f),document[_0x267f67(0x722)]('memoryContent')[_0x267f67(0x5dd)]=_0x5c4d7b?marked[_0x267f67(0x684)](_0x5c4d7b):_0x267f67(0x38f),document[_0x267f67(0x722)](_0x267f67(0x79f))[_0x267f67(0x5dd)]=_0x10c419?marked['parse'](_0x10c419):_0x267f67(0x38f),currentApplicationData=JSON['parse'](_0x232d1a);const _0x24de97=document[_0x267f67(0x722)]('applicationContent');_0x24de97[_0x267f67(0x5dd)]=(currentApplicationData||[])['map']((_0x4b28b8,_0x559e26)=>_0x267f67(0x4a6)+(_0x559e26+0x1)+'.\x20'+marked['parseInline'](_0x4b28b8[_0x267f67(0x22f)]||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x559e26+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4b28b8[_0x267f67(0x9d3)]||[])['map']((_0x4d2171,_0x44ae54)=>_0x267f67(0x52d)+_0x559e26+',\x20'+_0x44ae54+_0x267f67(0xad0)+String['fromCharCode'](0x61+_0x44ae54)+'.\x20'+marked[_0x267f67(0xa48)](_0x4d2171||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x267f67(0xbc8)]('')+_0x267f67(0x8fd))[_0x267f67(0xbc8)]('')||_0x267f67(0xb88),window['MathJax']&&MathJax[_0x267f67(0x303)]([_0x56f32f]),_0x3330d2['classList'][_0x267f67(0xc24)]('hidden'),_0x56f32f[_0x267f67(0x820)][_0x267f67(0xda2)]('hidden');}catch(_0x3d83f1){console[_0x267f67(0x300)](_0x3d83f1);throw _0x3d83f1;}}function checkAnswer(_0x5a3067,_0x1c6d40){const _0x42c306=_0x1dbc7e,_0x3291d8=currentApplicationData[_0x5a3067],_0x364a5e=document['getElementById']('q'+_0x5a3067+_0x42c306(0x200)),_0x459f50=_0x364a5e[_0x42c306(0x34e)](_0x42c306(0xd82));for(let _0xbf8748 of _0x459f50){_0xbf8748['disabled']=!![];}_0x1c6d40===_0x3291d8['answer']?_0x459f50[_0x1c6d40][_0x42c306(0x820)]['add'](_0x42c306(0xe0b)):(_0x459f50[_0x1c6d40][_0x42c306(0x820)][_0x42c306(0xc24)](_0x42c306(0x72c)),_0x459f50[_0x3291d8[_0x42c306(0xac3)]]['classList']['add'](_0x42c306(0xe0b)));}window[_0x1dbc7e(0x25b)]=handleGenerateAndShowLesson,window[_0x1dbc7e(0xb63)]=checkAnswer,window[_0x1dbc7e(0xb2c)]=handleGeneratePracticeTest,window[_0x1dbc7e(0x591)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x4e7192=_0x1dbc7e;try{const _0x596ae7=initializeApp(firebaseConfig);db=getFirestore(_0x596ae7),auth=getAuth(_0x596ae7),setupAuthListener(),setupEventListeners(),showView(_0x4e7192(0x7fe)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x230ea1){console[_0x4e7192(0x300)](_0x4e7192(0xb14),_0x230ea1),showMessage(_0x4e7192(0xed0));}}async function handleVerifyAnswersInEditor(){const _0x653ddb=_0x1dbc7e,_0x53ef30=document[_0x653ddb(0x722)](_0x653ddb(0x3d6));if(!_0x53ef30)return;const _0x2e08f1=document[_0x653ddb(0x722)]('verify-answers-editor-btn');_0x2e08f1[_0x653ddb(0xce0)]=!![],_0x2e08f1['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x31198a=_0x53ef30[_0x653ddb(0x2ff)]('.question-editor-item'),_0x392979=Array[_0x653ddb(0xb64)](_0x31198a)[_0x653ddb(0xab8)]((_0x39db8f,_0x133a41)=>{const _0x1688b9=_0x653ddb,_0x2cba70=_0x39db8f['dataset'][_0x1688b9(0x408)],_0x431346=_0x39db8f[_0x1688b9(0x390)](_0x1688b9(0xc16))[_0x1688b9(0xa46)];let _0x2b54ea=null,_0xe851d3='';switch(_0x2cba70){case'multiple_choice':const _0x451975=_0x39db8f['querySelectorAll']('input[type=\x22text\x22]');_0x2b54ea=Array[_0x1688b9(0xb64)](_0x451975)[_0x1688b9(0xab8)](_0x551f9f=>_0x551f9f[_0x1688b9(0xa46)]);const _0x4f5530=_0x39db8f[_0x1688b9(0x390)](_0x1688b9(0x431));_0x4f5530&&(_0xe851d3=_0x2b54ea[parseInt(_0x4f5530[_0x1688b9(0xa46)])]);break;case'short_answer':_0x2b54ea=[],_0xe851d3=_0x39db8f[_0x1688b9(0x390)](_0x1688b9(0xdab))[_0x1688b9(0xa46)];break;case'true_false':_0x2b54ea=[_0x1688b9(0x761),'false'];const _0x57b8a5=_0x39db8f['querySelector'](_0x1688b9(0x431));_0xe851d3=_0x57b8a5?_0x57b8a5[_0x1688b9(0xa46)]:'';break;case _0x1688b9(0xd24):_0x2b54ea=[],_0xe851d3=_0x39db8f[_0x1688b9(0x390)](_0x1688b9(0xa22))[_0x1688b9(0xa46)];break;}return{'question':_0x431346,'options':_0x2b54ea,'proposedAnswer':_0xe851d3};}),_0x33aff8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x653ddb(0xa70)](_0x392979)+_0x653ddb(0x250),_0x29dc54={'type':_0x653ddb(0x9ba),'items':{'type':_0x653ddb(0x552),'properties':{'questionIndex':{'type':_0x653ddb(0xdf9)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':'STRING'},'correctOptionExists':{'type':_0x653ddb(0xc28)},'suggestedAnswer':{'type':_0x653ddb(0xcdc)},'newOptionsPayload':{'type':'OBJECT','properties':{'newOptions':{'type':_0x653ddb(0x9ba),'items':{'type':_0x653ddb(0xcdc)}},'newCorrectIndex':{'type':_0x653ddb(0xdf9)}}}},'required':[_0x653ddb(0x78a),_0x653ddb(0xa97),'justification']}},_0x56aef1=await callAnalysisApi(_0x33aff8,{'type':_0x653ddb(0x552),'properties':{'result':_0x29dc54},'required':[_0x653ddb(0xd6a)]});displayVerificationResultsInEditor(_0x56aef1['result']);}catch(_0x55e6d9){console[_0x653ddb(0x300)](_0x653ddb(0x51c),_0x55e6d9),showMessage(_0x653ddb(0x957));}finally{_0x2e08f1[_0x653ddb(0xce0)]=![],_0x2e08f1[_0x653ddb(0x5dd)]=_0x653ddb(0xbd3);}}function displayVerificationResultsInEditor(_0x569a56){const _0x37670d=_0x1dbc7e;_0x569a56[_0x37670d(0xb04)](_0x1531b=>{const _0x10585a=_0x37670d,_0x31a139=document[_0x10585a(0x390)](_0x10585a(0x66e)+_0x1531b[_0x10585a(0x78a)]+'\x22]');if(!_0x31a139)return;const _0x2939ac=_0x31a139[_0x10585a(0x390)](_0x10585a(0x40a));if(_0x2939ac)_0x2939ac['remove']();let _0x4735ff='';if(_0x1531b[_0x10585a(0x668)]&&_0x1531b[_0x10585a(0x668)]['newOptions']){const _0x5c500c=_0x1531b[_0x10585a(0x668)][_0x10585a(0x868)],_0x30fc53=_0x1531b[_0x10585a(0x668)][_0x10585a(0x30d)],_0x38fe8f=_0x31a139[_0x10585a(0xa7e)]['qType'];if(_0x38fe8f==='multiple_choice'){const _0x25f954=_0x31a139['querySelectorAll'](_0x10585a(0x428));_0x25f954[_0x10585a(0xb04)]((_0x2e4b2f,_0x4338a6)=>{const _0x2dc6fa=_0x10585a;_0x5c500c[_0x4338a6]?_0x2e4b2f[_0x2dc6fa(0xa46)]=_0x5c500c[_0x4338a6]:_0x2e4b2f[_0x2dc6fa(0xa46)]='---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---';});const _0x40e726=_0x31a139['querySelector'](_0x10585a(0x55e)+_0x30fc53+'\x22]');_0x40e726&&(_0x40e726[_0x10585a(0x9cd)]=!![]),_0x4735ff=_0x10585a(0xa9d),_0x31a139[_0x10585a(0x820)][_0x10585a(0xc24)](_0x10585a(0xa88),_0x10585a(0x20e),'duration-300'),setTimeout(()=>{const _0x167e42=_0x10585a;_0x31a139[_0x167e42(0x820)][_0x167e42(0xda2)]('bg-yellow-200');},0x9c4);}}else{if(!_0x1531b[_0x10585a(0xa97)]&&_0x1531b[_0x10585a(0x718)]){const _0x228b9f=_0x1531b['suggestedAnswer']?_0x10585a(0x6e5):'';_0x4735ff=_0x10585a(0xa77)+_0x228b9f+_0x10585a(0x8c4)+_0x1531b['justification']+_0x10585a(0x404)+(_0x1531b[_0x10585a(0x718)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x1531b[_0x10585a(0x718)]+_0x10585a(0x283):'')+_0x10585a(0x646);const _0x4ca8c0=_0x31a139[_0x10585a(0xa7e)]['qType'],_0x534061=_0x565bb5=>{const _0x26d77f=_0x10585a;if(!_0x565bb5)return;_0x565bb5[_0x26d77f(0x820)]['add'](_0x26d77f(0x6b3),'transition-all',_0x26d77f(0x440)),setTimeout(()=>{const _0x5a4fe0=_0x26d77f;_0x565bb5[_0x5a4fe0(0x820)]['remove']('bg-green-200');},0x9c4);};if(_0x4ca8c0===_0x10585a(0x6e6)){const _0x9feae1=Array[_0x10585a(0xb64)](_0x31a139[_0x10585a(0x2ff)](_0x10585a(0x428))),_0xf0f6e7=_0x9feae1[_0x10585a(0x242)](_0x548ba7=>_0x548ba7[_0x10585a(0xa46)][_0x10585a(0xbe3)]()[_0x10585a(0x2f6)]()===_0x1531b[_0x10585a(0x718)][_0x10585a(0xbe3)]()[_0x10585a(0x2f6)]());if(_0xf0f6e7!==-0x1){const _0x4c363e=_0x31a139[_0x10585a(0x390)]('input[type=\x22radio\x22][value=\x22'+_0xf0f6e7+'\x22]');_0x4c363e&&(_0x4c363e[_0x10585a(0x9cd)]=!![],_0x534061(_0x4c363e[_0x10585a(0xecd)](_0x10585a(0x6ca))));}}else{if(_0x4ca8c0===_0x10585a(0x432)||_0x4ca8c0===_0x10585a(0xd24)){const _0x3b0709=_0x31a139['querySelector'](_0x10585a(0x669));_0x3b0709&&(_0x3b0709[_0x10585a(0xa46)]=_0x1531b[_0x10585a(0x718)],_0x534061(_0x3b0709));}else{if(_0x4ca8c0===_0x10585a(0x3f7)){const _0x54223d=_0x1531b['suggestedAnswer']['trim']()[_0x10585a(0x2f6)](),_0x3830a4=_0x31a139[_0x10585a(0x390)](_0x10585a(0x55e)+_0x54223d+'\x22]');_0x3830a4&&(_0x3830a4['checked']=!![],_0x534061(_0x3830a4['closest'](_0x10585a(0x6ca))));}}}}else _0x1531b['isCorrect']&&(_0x4735ff='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x31a139[_0x10585a(0x6a0)](_0x10585a(0x5a6),_0x4735ff);}),showMessage(_0x37670d(0x27f));}async function handleVerifyAnswers(){const _0x32087=_0x1dbc7e;if(!currentQuizData||!currentQuizData[_0x32087(0x882)]){showMessage(_0x32087(0xeb8));return;}const _0x77986c=document[_0x32087(0x722)](_0x32087(0x4ef));_0x77986c['disabled']=!![],_0x77986c['innerHTML']=_0x32087(0xb4e);try{const _0x3c6885=currentQuizData[_0x32087(0x882)]['map']((_0x1fa248,_0x23121b)=>{const _0x2082d1=_0x32087;let _0x48eb3e='';const _0x2affa3=_0x1fa248[_0x2082d1(0xbd0)]||currentQuizData[_0x2082d1(0x4f4)];switch(_0x2affa3){case _0x2082d1(0x6e6):_0x48eb3e=_0x1fa248[_0x2082d1(0x9d3)][_0x1fa248[_0x2082d1(0x7e1)]];break;case _0x2082d1(0x432):_0x48eb3e=_0x1fa248[_0x2082d1(0x5ca)];break;case _0x2082d1(0x3f7):_0x48eb3e=_0x1fa248['correctAnswer'][_0x2082d1(0x992)]();break;case _0x2082d1(0xd24):_0x48eb3e=_0x1fa248[_0x2082d1(0xb40)];break;}return{'question':_0x1fa248['stem']||_0x1fa248[_0x2082d1(0xe68)],'options':_0x1fa248[_0x2082d1(0x9d3)]||null,'proposedAnswer':_0x48eb3e};}),_0x29da8f=_0x32087(0xac9)+JSON[_0x32087(0xa70)](_0x3c6885)+_0x32087(0xcaa),_0x5ea9b8={'type':_0x32087(0x9ba),'items':{'type':_0x32087(0x552),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x32087(0xcdc)},'suggestedAnswer':{'type':_0x32087(0xcdc)}},'required':[_0x32087(0x78a),_0x32087(0xa97),'justification']}},_0x1025a5=await callAnalysisApi(_0x29da8f,{'type':_0x32087(0x552),'properties':{'result':_0x5ea9b8},'required':[_0x32087(0xd6a)]});displayVerificationResults(_0x1025a5[_0x32087(0xd6a)]);}catch(_0x218153){console[_0x32087(0x300)](_0x32087(0xb41),_0x218153),showMessage(_0x32087(0x957));}finally{_0x77986c['disabled']=![],_0x77986c['innerHTML']=_0x32087(0x4ea);}}function displayVerificationResults(_0x492ad6){const _0x142393=_0x1dbc7e;_0x492ad6[_0x142393(0xb04)](_0x4354c3=>{const _0x54cd6f=_0x142393,_0x3e91a0=document[_0x54cd6f(0x390)](_0x54cd6f(0x9d6)+_0x4354c3[_0x54cd6f(0x78a)]+'\x22]');if(_0x3e91a0){const _0x21946d=_0x3e91a0['querySelector'](_0x54cd6f(0x959));if(_0x21946d)_0x21946d[_0x54cd6f(0xda2)]();let _0x19b699='';_0x4354c3['isCorrect']?_0x19b699=_0x54cd6f(0x9c8):_0x19b699=_0x54cd6f(0xac4)+_0x4354c3[_0x54cd6f(0xc44)]+_0x54cd6f(0x54c)+(_0x4354c3[_0x54cd6f(0x718)]?_0x54cd6f(0xc1d)+_0x4354c3[_0x54cd6f(0x718)]+'</p>':'')+_0x54cd6f(0x388),_0x3e91a0[_0x54cd6f(0x6a0)](_0x54cd6f(0x5a6),_0x19b699);}}),showMessage(_0x142393(0x27f));}function compareNumericalAnswers(_0x56a921,_0x380ba1){const _0x1d9e95=_0x1dbc7e,_0xe73bb7=String(_0x56a921)[_0x1d9e95(0x84f)](',','.')[_0x1d9e95(0x84f)](/[^\d.-]/g,'')['trim'](),_0x4bee04=String(_0x380ba1)[_0x1d9e95(0x84f)](',','.')[_0x1d9e95(0x84f)](/[^\d.-]/g,'')[_0x1d9e95(0xbe3)]();if(_0xe73bb7===''||_0x4bee04==='')return![];const _0x4bac84=parseFloat(_0xe73bb7),_0x38db1d=parseFloat(_0x4bee04);if(isNaN(_0x4bac84)||isNaN(_0x38db1d))return![];return Math[_0x1d9e95(0x80a)](_0x4bac84-_0x38db1d)<0.001;}function isPotentiallyNumeric(_0x3dcb83){const _0x390fd3=_0x1dbc7e;if(typeof _0x3dcb83!==_0x390fd3(0x5b0)&&typeof _0x3dcb83!==_0x390fd3(0x69d))return![];const _0x2c10f7=String(_0x3dcb83)['replace'](',','.')[_0x390fd3(0xbe3)]();return _0x2c10f7!==''&&!isNaN(parseFloat(_0x2c10f7))&&isFinite(_0x2c10f7);}async function gradeShortAnswer(_0x45d685,_0xa4435e){const _0x4dcda=_0x1dbc7e,_0x108f4f=_0xa4435e[_0x4dcda(0x5ca)],_0x145a0d=String(_0x45d685)['replace'](/\$/g,'')[_0x4dcda(0xbe3)](),_0x1777f4=String(_0x108f4f)[_0x4dcda(0x84f)](/\$/g,'')[_0x4dcda(0xbe3)]();if(_0x145a0d[_0x4dcda(0x2f6)]()===_0x1777f4[_0x4dcda(0x2f6)]())return!![];if(isPotentiallyNumeric(_0x145a0d)&&isPotentiallyNumeric(_0x1777f4)){if(compareNumericalAnswers(_0x145a0d,_0x1777f4))return!![];}return console['log']('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x45d685,_0x108f4f);}async function revealAnswerForAdmin(_0x44fab,_0x13cb72){const _0x3a563c=_0x1dbc7e,_0x20b263=doc(db,_0x3a563c(0xd90)+appId+_0x3a563c(0xb80),currentLiveGameId);await updateDoc(_0x20b263,{'questionStatus':_0x3a563c(0x326)});}function showTop5LeaderboardView(_0x143e79){const _0x5c7759=_0x1dbc7e,_0x4ce58f=Object[_0x5c7759(0x368)](_0x143e79[_0x5c7759(0x8d6)]||{})[_0x5c7759(0x6b9)](_0xe33d8a=>_0xe33d8a[_0x5c7759(0x600)]===_0x5c7759(0x44f));_0x4ce58f[_0x5c7759(0x24d)]((_0x243b43,_0x5dc0a2)=>_0x5dc0a2[_0x5c7759(0x7ee)]-_0x243b43[_0x5c7759(0x7ee)]);const _0x30198e=_0x4ce58f[_0x5c7759(0x45e)](0x0,0x5),_0xe02221='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x30198e[_0x5c7759(0xab8)]((_0x3df160,_0x12fccc)=>_0x5c7759(0x54e)+(_0x12fccc+0x1)+'.\x20'+(_0x3df160[_0x5c7759(0x39f)]||Object[_0x5c7759(0x6e2)](_0x143e79['players'])[_0x5c7759(0x36c)](_0x2dbe6c=>_0x143e79[_0x5c7759(0x8d6)][_0x2dbe6c]===_0x3df160))+_0x5c7759(0xd18)+_0x3df160[_0x5c7759(0x7ee)]+_0x5c7759(0xce4))[_0x5c7759(0xbc8)]('')+_0x5c7759(0xb5c)+(_0x143e79[_0x5c7759(0x8fe)]+0x1===currentQuizData[_0x5c7759(0x882)][_0x5c7759(0xc8f)]?_0x5c7759(0x9b6):'ข้อต่อไป')+_0x5c7759(0x698);liveGameView[_0x5c7759(0x5dd)]=_0xe02221,document[_0x5c7759(0x722)](_0x5c7759(0xcbc))[_0x5c7759(0x939)](_0x5c7759(0xa25),async()=>{const _0x321657=_0x5c7759,_0x2f5f69=doc(db,_0x321657(0xd90)+appId+_0x321657(0xb80),currentLiveGameId),_0xe0e114=_0x143e79[_0x321657(0x8fe)]+0x1;if(_0xe0e114<currentQuizData[_0x321657(0x882)]['length']){const _0x4e014e={'currentQuestionIndex':_0xe0e114,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object['keys'](_0x143e79['players'])[_0x321657(0xb04)](_0x196028=>{_0x4e014e['players.'+_0x196028+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x2f5f69,_0x4e014e);}else await updateDoc(_0x2f5f69,{'status':_0x321657(0xebc)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x1144cd=>{const _0x3b056b=_0x320f;if(_0x1144cd){userId=_0x1144cd[_0x3b056b(0x44c)],userIdDisplay[_0x3b056b(0x2eb)]=userId;const _0x518753=await loadUserPreferences();_0x518753[_0x3b056b(0x816)]&&(document['getElementById'](_0x3b056b(0x69b))[_0x3b056b(0xa46)]=_0x518753[_0x3b056b(0x816)]);globalDashboardSettings['projectView']=_0x518753[_0x3b056b(0x8bf)]||_0x3b056b(0x518);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x25addd,_0x38d113){const _0x588a54=_0x1dbc7e;if(!userId)return;try{const _0x193862=doc(db,'artifacts/'+appId+_0x588a54(0x984)+userId+_0x588a54(0x5af)),_0x14d745={};_0x14d745[_0x25addd]=_0x38d113,await setDoc(_0x193862,_0x14d745,{'merge':!![]});}catch(_0x38807e){console[_0x588a54(0x300)](_0x588a54(0x4af),_0x38807e);}}async function loadUserPreferences(){const _0x18fe3a=_0x1dbc7e;if(!userId)return{};try{const _0x16a453=doc(db,_0x18fe3a(0xd90)+appId+'/users/'+userId+_0x18fe3a(0x5af)),_0x547dd8=await getDoc(_0x16a453);if(_0x547dd8[_0x18fe3a(0x5c5)]())return _0x547dd8[_0x18fe3a(0x690)]();return{};}catch(_0xba22f4){return console['error'](_0x18fe3a(0xd3d),_0xba22f4),{};}}function parseIndentedBlueprint(_0x555b05){const _0x514650=_0x1dbc7e,_0x53ebfa=_0x555b05[_0x514650(0x91b)]('\x0a')[_0x514650(0x6b9)](_0x4a6d63=>_0x4a6d63[_0x514650(0xbe3)]()!==''),_0x536c9d=[];let _0xa7242b=null,_0x21c9db=null;return _0x53ebfa[_0x514650(0xb04)](_0xbb5a17=>{const _0x5a1b21=_0x514650,_0x1f4a03=_0xbb5a17[_0x5a1b21(0x437)](/^\s*/)[0x0][_0x5a1b21(0xc8f)],_0x1de44b=_0xbb5a17['trim']();if(_0x1f4a03===0x0)_0xa7242b={'sara':_0x1de44b,'mainTopics':[]},_0x536c9d['push'](_0xa7242b),_0x21c9db=null;else{if(_0x1f4a03>0x0&&_0x1f4a03<0x8&&_0xa7242b)_0x21c9db={'topicName':_0x1de44b,'subTopics':[]},_0xa7242b[_0x5a1b21(0x685)][_0x5a1b21(0xca1)](_0x21c9db);else _0x1f4a03>=0x8&&_0x21c9db&&_0x21c9db[_0x5a1b21(0xdc1)][_0x5a1b21(0xca1)](_0x1de44b);}}),{'curriculum':_0x536c9d};}async function handleManualBlueprintSave(){const _0x559dd2=_0x1dbc7e,_0x331bea=document[_0x559dd2(0x722)]('manual-bp-project-name')[_0x559dd2(0xa46)]['trim'](),_0x47bee5=document[_0x559dd2(0x722)](_0x559dd2(0x648))[_0x559dd2(0xa46)][_0x559dd2(0xbe3)](),_0x5d27b0=document[_0x559dd2(0x722)](_0x559dd2(0xc25))[_0x559dd2(0xa46)];if(!_0x331bea||!_0x47bee5||!_0x5d27b0){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0xece6ad=parseIndentedBlueprint(_0x5d27b0);if(!_0xece6ad['curriculum']||_0xece6ad[_0x559dd2(0xbaa)][_0x559dd2(0xc8f)]===0x0){showMessage(_0x559dd2(0x24f));return;}const _0x5808e7={};let _0x199e77=0x0;_0xece6ad[_0x559dd2(0xbaa)][_0x559dd2(0xb04)](_0x4c232b=>{const _0x5f5066=_0x559dd2;_0x4c232b[_0x5f5066(0x685)]['forEach'](_0x2e183a=>{const _0x5e3c3b=_0x5f5066;_0x2e183a['subTopics'][_0x5e3c3b(0xb04)](_0x2298db=>{const _0x9e56ba=_0x5e3c3b,_0x316d91=_0x9e56ba(0xd68)+Date['now']()+Math['random']()['toString'](0x24)[_0x9e56ba(0x219)](0x2,0x9);_0x5808e7[_0x316d91]={'sara':_0x4c232b[_0x9e56ba(0x5d1)],'mainTopic':_0x2e183a[_0x9e56ba(0xdde)],'subTopic':_0x2298db,'status':_0x9e56ba(0x1ec),'lessonContent':null,'order':_0x199e77++};});});});try{const _0x29c02c=collection(db,_0x559dd2(0xd90)+appId+'/public/data/blueprintProjects');await addDoc(_0x29c02c,{'projectName':_0x331bea,'gradeLevel':_0x47bee5,'topics':_0x5808e7,'createdAt':serverTimestamp()}),showMessage(_0x559dd2(0x264)+_0x331bea+_0x559dd2(0xef8)),document[_0x559dd2(0x722)](_0x559dd2(0xdfc))[_0x559dd2(0x820)][_0x559dd2(0xc24)](_0x559dd2(0x330));}catch(_0x193ab8){console[_0x559dd2(0x300)](_0x559dd2(0x99d),_0x193ab8),showMessage(_0x559dd2(0x706));}}function handleClearAllLinksForTopic(_0x21a284){const _0x549eb8=_0x1dbc7e;showConfirmation(_0x549eb8(0xbf9),async()=>{const _0x1e673f=_0x549eb8;try{const _0xdd980a=doc(db,_0x1e673f(0xd90)+appId+_0x1e673f(0x5b8),currentBlueprintProjectId);await updateDoc(_0xdd980a,{[_0x1e673f(0xa38)+_0x21a284+_0x1e673f(0xbc4)]:[]}),showMessage(_0x1e673f(0xd32)),openTopicQuizBank(_0x21a284),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x27f41c){console['error'](_0x1e673f(0xc49),_0x27f41c),showMessage(_0x1e673f(0x43f));}});}function showPodiumView(_0x2c5768,_0xa909e8=_0x1dbc7e(0x351),_0x58792b=null){const _0x1b993a=_0x1dbc7e,_0x50e0a2=_0x58792b?.[_0x1b993a(0x910)]===!![],_0x5c9a51=Object[_0x1b993a(0xabb)](_0x2c5768)[_0x1b993a(0xab8)](([_0x42d3a2,_0x326360])=>({'name':_0x42d3a2,'realScore':_0x326360[_0x1b993a(0xe5f)]||_0x326360['score']||0x0,'totalPoints':_0x326360[_0x1b993a(0xe54)]||0x0,'badges':_0x326360['badges']||[],'hasPerfectScoreBonus':_0x326360['hasPerfectScoreBonus']||![]})),_0x26745a=Math[_0x1b993a(0x3d5)](..._0x5c9a51['map'](_0x644c5f=>_0x644c5f['totalPoints']),-Infinity),_0x340bc6=Math['max'](..._0x5c9a51['map'](_0x352179=>_0x352179[_0x1b993a(0xe5f)]),-Infinity);_0x5c9a51[_0x1b993a(0x24d)]((_0x4c4c62,_0x5375aa)=>{const _0x2269ce=_0x1b993a;if(_0x50e0a2){const _0x146d38=_0x5375aa[_0x2269ce(0xe54)]-_0x4c4c62['totalPoints'];if(_0x146d38!==0x0)return _0x146d38;const _0x30014a=_0x5375aa[_0x2269ce(0xe5f)]-_0x4c4c62['realScore'];if(_0x30014a!==0x0)return _0x30014a;return _0x4c4c62[_0x2269ce(0x39f)][_0x2269ce(0x81f)](_0x5375aa['name'],'th');}else{const _0x294b66=_0x5375aa[_0x2269ce(0xe54)]-_0x4c4c62['totalPoints'];if(_0x294b66!==0x0)return _0x294b66;return _0x5375aa['realScore']-_0x4c4c62[_0x2269ce(0xe5f)];}});const _0xc8f606=_0x18bdb0=>{const _0x370eab=_0x1b993a;if(!_0x18bdb0||_0x18bdb0[_0x370eab(0xc8f)]===0x0)return'';const _0x549b14={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x370eab(0xd4b)+_0x18bdb0[_0x370eab(0xab8)](_0x4ef8e4=>_0x549b14[_0x4ef8e4]||'')[_0x370eab(0xbc8)]('')+_0x370eab(0x607);},_0xdb743b=_0x18b27d=>{const _0x1d2f0a=_0x1b993a;let _0x27a48f='';if(_0x50e0a2){if(_0x18b27d[_0x1d2f0a(0xe54)]===_0x26745a&&_0x26745a>0x0)_0x27a48f+=_0x1d2f0a(0x8e2);if(_0x18b27d[_0x1d2f0a(0xe5f)]===_0x340bc6&&_0x340bc6>0x0)_0x27a48f+=_0x1d2f0a(0x494);}else{if(_0x18b27d['hasPerfectScoreBonus'])_0x27a48f=_0x1d2f0a(0x1fd);}if(_0x50e0a2){const _0x3e20d0=_0x18b27d[_0x1d2f0a(0xe54)]>=0x0?'(+'+_0x18b27d[_0x1d2f0a(0xe54)]+')':'('+_0x18b27d[_0x1d2f0a(0xe54)]+')';return _0x1d2f0a(0x328)+_0x18b27d[_0x1d2f0a(0xe5f)]+'\x20คะแนน\x20'+_0x3e20d0+'\x20'+_0x27a48f+_0x1d2f0a(0x283);}else return _0x1d2f0a(0x328)+_0x18b27d['totalPoints']+_0x1d2f0a(0x639)+_0x27a48f+_0x1d2f0a(0x283);},_0x16c5b3=_0x5c9a51['slice'](0x3),_0x1f8a15=_0x16c5b3[_0x1b993a(0xc8f)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16c5b3[_0x1b993a(0xab8)]((_0x3a5ab1,_0x374944)=>{const _0x41b8b6=_0x1b993a;return _0x41b8b6(0x452)+(_0x374944+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3a5ab1['name']+_0x41b8b6(0x8e1)+_0xdb743b(_0x3a5ab1)+_0x41b8b6(0xdcc);})[_0x1b993a(0xbc8)]('')+_0x1b993a(0xd45):'',_0x14d579=_0x1b993a(0xe99)+(_0x5c9a51[0x1]?_0x1b993a(0xd1d)+_0x5c9a51[0x1][_0x1b993a(0x39f)]+_0x1b993a(0x283)+_0xc8f606(_0x5c9a51[0x1][_0x1b993a(0xce3)])+_0xdb743b(_0x5c9a51[0x1])+_0x1b993a(0x95c):_0x1b993a(0x246))+_0x1b993a(0x250)+(_0x5c9a51[0x0]?_0x1b993a(0x4dd)+_0x5c9a51[0x0][_0x1b993a(0x39f)]+_0x1b993a(0x283)+_0xc8f606(_0x5c9a51[0x0][_0x1b993a(0xce3)])+_0xdb743b(_0x5c9a51[0x0])+_0x1b993a(0xcb6):'<div\x20class=\x22flex-1\x22></div>')+_0x1b993a(0x250)+(_0x5c9a51[0x2]?_0x1b993a(0xd21)+_0x5c9a51[0x2][_0x1b993a(0x39f)]+_0x1b993a(0x283)+_0xc8f606(_0x5c9a51[0x2][_0x1b993a(0xce3)])+_0xdb743b(_0x5c9a51[0x2])+_0x1b993a(0xcda):_0x1b993a(0x246))+_0x1b993a(0x222)+_0x1f8a15+_0x1b993a(0x1f0)+(currentMode===_0x1b993a(0x2f1)?_0x1b993a(0x7c8):_0x1b993a(0xb0c))+_0x1b993a(0x5b6);liveGameView[_0x1b993a(0x5dd)]=_0x14d579,currentMode===_0x1b993a(0x2f1)?document['getElementById'](_0x1b993a(0x8a4))['addEventListener'](_0x1b993a(0xa25),async()=>{const _0x34e214=_0x1b993a;let _0x46f9c2;_0xa909e8===_0x34e214(0x441)?_0x46f9c2=doc(db,_0x34e214(0xd90)+appId+_0x34e214(0x3c6),currentLiveGameId):_0x46f9c2=doc(db,_0x34e214(0xd90)+appId+_0x34e214(0xb80),currentLiveGameId),await deleteDoc(_0x46f9c2);}):document['getElementById']('student-back-to-home-btn')?.[_0x1b993a(0x939)](_0x1b993a(0xa25),()=>{const _0x15757c=_0x1b993a;showView(_0x15757c(0x7fe));});}function renderSyncSummaryView(_0xbb1e08,_0x341585,_0x2de4c9){const _0x24a576=_0x1dbc7e,_0x4f7ed0=_0xbb1e08[_0x24a576(0xa37)]||'classic',_0xa6808f=_0x4f7ed0===_0x24a576(0x699)&&_0xbb1e08['isAnonymousRevealed']===![],_0x512142=_0xbb1e08[_0x24a576(0x2b5)][_0x24a576(0x882)],_0x5a90fb=_0x341585[_0x24a576(0xbd0)]||_0xbb1e08[_0x24a576(0x2b5)]['quizType'];let _0x263046=[];_0x5a90fb===_0x24a576(0x3f7)?_0x263046=[_0x24a576(0x870),_0x24a576(0x4d6)]:_0x263046=_0x341585[_0x24a576(0x9d3)]||[];const _0x59a0e1=new Array(_0x263046[_0x24a576(0xc8f)])[_0x24a576(0x46b)](0x0),_0x585e3f={};_0x263046[_0x24a576(0xb04)]((_0xab881f,_0x57446e)=>{_0x585e3f[_0x57446e]=[];}),Object['entries'](_0xbb1e08[_0x24a576(0x8d6)]||{})['forEach'](([_0x324b7b,_0x539a6d])=>{const _0x5c6398=_0x24a576;if(_0x539a6d[_0x5c6398(0x600)]!==_0x5c6398(0x7f6)&&_0x539a6d['lastAnswerIndex']!==undefined&&_0x539a6d[_0x5c6398(0xbe8)]!==null){const _0x151353=_0x539a6d['lastAnswerIndex'];if(_0x585e3f[_0x151353]!==undefined){const _0x4c175e=_0xa6808f?_0xbb1e08['playerNicknames'][_0x324b7b]||_0x5c6398(0x6f2):_0x324b7b;_0x585e3f[_0x151353][_0x5c6398(0xca1)](_0x4c175e),_0x59a0e1[_0x151353]++;}}});let _0x2bf321='';const _0x59a88f=_0xbb1e08[_0x24a576(0x8fe)]>=_0x512142[_0x24a576(0xc8f)]-0x1;_0x2de4c9?_0x4f7ed0===_0x24a576(0xb67)?_0x59a88f?_0x2bf321=_0x24a576(0xf00):_0x2bf321='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>':_0x2bf321=_0x24a576(0x83e):_0x4f7ed0===_0x24a576(0xb67)?_0x2bf321=_0x24a576(0x2bf):_0x2bf321=_0x24a576(0x2c9);const _0x1abd00=_0x2de4c9?_0x24a576(0x4ee)+_0xbb1e08[_0x24a576(0xa29)]+'</strong></div>':'',_0x5158fb=_0x24a576(0xe7e)+_0x1abd00+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0x341585['questionText']+_0x24a576(0x5a9)+_0x59a0e1[_0x24a576(0xab8)]((_0x59a75c,_0x5dd3c5)=>{const _0x1c9e93=_0x24a576,_0x48301a=_0x585e3f[_0x5dd3c5][_0x1c9e93(0xc8f)]>0x0?_0x585e3f[_0x5dd3c5][_0x1c9e93(0xbc8)](',\x20'):_0x1c9e93(0xeee),_0x2d33a7='#6366F1';return _0x1c9e93(0xb4b)+_0x59a75c+_0x1c9e93(0x324)+_0x2d33a7+';\x22\x20data-tooltip-target=\x22tooltip-'+_0x5dd3c5+_0x1c9e93(0xde6)+_0x263046[_0x5dd3c5]+_0x1c9e93(0x3ca)+_0x5dd3c5+_0x1c9e93(0xdea)+_0x48301a+_0x1c9e93(0x808);})[_0x24a576(0xbc8)]('')+_0x24a576(0xea3)+_0x2bf321+_0x24a576(0x9cc);liveGameView[_0x24a576(0x5dd)]=_0x5158fb;if(window[_0x24a576(0xa8c)])MathJax[_0x24a576(0x303)]();if(_0x2de4c9){const _0x18e241=doc(db,_0x24a576(0xd90)+appId+_0x24a576(0x3c6),currentLiveGameId);document['getElementById'](_0x24a576(0x862))?.[_0x24a576(0x939)](_0x24a576(0xa25),async()=>{const _0xc4cec2=_0x24a576,_0x588956=Object[_0xc4cec2(0x368)](_0xbb1e08['players']||{})[_0xc4cec2(0xab8)](_0xaf8f4d=>({'name':_0xaf8f4d[_0xc4cec2(0x39f)],'score':_0xaf8f4d[_0xc4cec2(0x7ee)]||0x0,'totalPoints':_0xaf8f4d[_0xc4cec2(0xe54)]||0x0,'pointsLastRound':_0xaf8f4d[_0xc4cec2(0xceb)]||0x0,'answers':_0xaf8f4d['answers']||[]}));await updateDoc(_0x18e241,{'status':'results','publicLeaderboard':_0x588956});}),document[_0x24a576(0x722)](_0x24a576(0xc07))?.[_0x24a576(0x939)](_0x24a576(0xa25),()=>{openScratchpad(_0x341585,_0x263046);}),document['getElementById']('next-sync-question-btn')?.[_0x24a576(0x939)](_0x24a576(0xa25),async()=>{const _0x3c8548=_0x24a576,_0x37a718=_0xbb1e08['currentQuestionIndex']+0x1;await updateDoc(_0x18e241,{'status':_0x3c8548(0x22f),'currentQuestionIndex':_0x37a718,'questionDisplayedAt':serverTimestamp()});}),document[_0x24a576(0x722)]('show-final-results-btn')?.[_0x24a576(0x939)](_0x24a576(0xa25),async()=>{const _0x11c8cc=_0x24a576,_0x2f4b59=Object[_0x11c8cc(0x368)](_0xbb1e08[_0x11c8cc(0x8d6)]||{})['map'](_0x68de8f=>({'name':_0x68de8f[_0x11c8cc(0x39f)],'score':_0x68de8f[_0x11c8cc(0x7ee)]||0x0,'totalPoints':_0x68de8f[_0x11c8cc(0xe54)]||0x0,'pointsLastRound':_0x68de8f[_0x11c8cc(0xceb)]||0x0,'answers':_0x68de8f['answers']||[]}));await updateDoc(_0x18e241,{'status':_0x11c8cc(0xe87),'reviewQuestionIndex':0x0,'publicLeaderboard':_0x2f4b59});});}}function renderAnonymousStudentResultsView(_0x2f806b){const _0x511b86=_0x1dbc7e,_0x38c070=_0x2f806b[_0x511b86(0x8fe)]>=_0x2f806b['shuffledQuiz'][_0x511b86(0x882)][_0x511b86(0xc8f)]-0x1;let _0x3be12d='';if(_0x2f806b[_0x511b86(0x920)]===!![]){const _0x1709c7=_0x2f806b[_0x511b86(0x8d6)][localTeamPlayers[0x0]],_0x411dd9=_0x1709c7[_0x511b86(0x39f)],_0x18c8db=_0x1709c7[_0x511b86(0x7ee)];_0x3be12d=_0x511b86(0xb1e)+_0x411dd9+_0x511b86(0x73f)+_0x18c8db+_0x511b86(0xea9);}else _0x3be12d=_0x511b86(0xd95)+(_0x38c070?_0x511b86(0xd9c):_0x511b86(0x858))+_0x511b86(0xa58);const _0x16ecbc=_0x511b86(0x46e)+_0x3be12d+_0x511b86(0x3ab);liveGameView[_0x511b86(0x5dd)]=_0x16ecbc;}async function handleShowStudentRankings(){const _0x19d05c=_0x1dbc7e,_0x46b2e7=document[_0x19d05c(0x390)](_0x19d05c(0xb47));_0x46b2e7&&(_0x46b2e7[_0x19d05c(0x5dd)]=_0x19d05c(0xe64));const _0x2ee80e=document['querySelector'](_0x19d05c(0xccc));_0x2ee80e&&(_0x2ee80e[_0x19d05c(0x5dd)]=_0x19d05c(0x3d8));const _0x53461e=document[_0x19d05c(0x722)](_0x19d05c(0x315));_0x53461e[_0x19d05c(0x820)][_0x19d05c(0xda2)](_0x19d05c(0x330)),document[_0x19d05c(0x722)](_0x19d05c(0x68c))[_0x19d05c(0x590)]=()=>_0x53461e[_0x19d05c(0x820)][_0x19d05c(0xc24)](_0x19d05c(0x330));const _0x2ce301=document[_0x19d05c(0x722)]('student-quiz-leaderboard-tab'),_0x3e1a46=document[_0x19d05c(0x722)]('student-project-leaderboard-tab'),_0x506027=document[_0x19d05c(0x722)]('student-quiz-leaderboard-content'),_0x4b87b3=document['getElementById']('student-project-leaderboard-content');_0x2ce301[_0x19d05c(0x590)]=()=>{const _0x177308=_0x19d05c;_0x2ce301[_0x177308(0x820)][_0x177308(0xc24)]('active'),_0x3e1a46[_0x177308(0x820)][_0x177308(0xda2)]('active'),_0x506027[_0x177308(0x820)][_0x177308(0xda2)](_0x177308(0x330)),_0x4b87b3[_0x177308(0x820)][_0x177308(0xc24)](_0x177308(0x330));},_0x3e1a46[_0x19d05c(0x590)]=()=>{const _0x396147=_0x19d05c;_0x3e1a46[_0x396147(0x820)]['add'](_0x396147(0x44f)),_0x2ce301[_0x396147(0x820)][_0x396147(0xda2)](_0x396147(0x44f)),_0x4b87b3[_0x396147(0x820)]['remove']('hidden'),_0x506027[_0x396147(0x820)]['add']('hidden');};try{const _0x448357=collection(db,'artifacts/'+appId+_0x19d05c(0xdb8)+currentQuizData['id']+'/submissions'),_0x3a4e83=await getDocs(_0x448357),_0x14c917=_0x3a4e83['docs'][_0x19d05c(0xab8)](_0x5a03b0=>_0x5a03b0[_0x19d05c(0x690)]());renderQuizLeaderboard(_0x14c917,currentQuizData,_0x19d05c(0xd55));const _0x18e58a=collection(db,_0x19d05c(0xd90)+appId+_0x19d05c(0x880)+currentQuizData[_0x19d05c(0x6ea)]+_0x19d05c(0xa02)),_0x349327=await getDocs(_0x18e58a),_0x5b9ae2=_0x349327['docs'][_0x19d05c(0xab8)](_0x2075b9=>_0x2075b9[_0x19d05c(0x690)]());renderLeaderboard(_0x5b9ae2,_0x19d05c(0x308));}catch(_0x56cd1c){console[_0x19d05c(0x300)](_0x19d05c(0xe1a),_0x56cd1c),showMessage(_0x19d05c(0xce5));}}async function handleSaveToBank(_0x3d5b65){const _0x336ff7=_0x1dbc7e,_0x2af822=_0x3d5b65[_0x336ff7(0x37a)],_0x50539e=_0x2af822['dataset']['index'],_0x589bb9=currentQuizData[_0x336ff7(0x882)][_0x50539e];if(!userId){showMessage(_0x336ff7(0x569));return;}try{const _0x292793={..._0x589bb9,'originalTopic':currentQuizData[_0x336ff7(0x2d2)],'savedAt':serverTimestamp()},_0x2a7905=collection(db,'artifacts/'+appId+'/users/'+userId+_0x336ff7(0x9da));await addDoc(_0x2a7905,_0x292793),showMessage(_0x336ff7(0xc0e)),_0x2af822[_0x336ff7(0x820)][_0x336ff7(0xda2)]('text-purple-600'),_0x2af822[_0x336ff7(0x820)][_0x336ff7(0xc24)](_0x336ff7(0xb00)),_0x2af822[_0x336ff7(0xce0)]=!![];}catch(_0xf06b83){console[_0x336ff7(0x300)]('Error\x20saving\x20to\x20question\x20bank:',_0xf06b83),showMessage(_0x336ff7(0xdf6));}}async function selectProjectAndGenerateBlueprintQuiz(_0x2d4a62,_0x59a5b6=null,_0x44b22a=null,_0xfa7678=![]){const _0x44a419=_0x1dbc7e;cameFromBlueprint=!![];const _0x304cda=document[_0x44a419(0x722)]('bp-reference-file-url')?.[_0x44a419(0xa46)][_0x44a419(0xbe3)]();let _0xcef3dc=null;if(_0x304cda){showMessage(_0x44a419(0x9a0));try{const _0x4ac469=await fetchFileFromUrl(_0x304cda,_0x44a419(0x5a3)),_0x44718e=await new Promise((_0x1f631f,_0x5e8f1e)=>{const _0x2d2ca7=_0x44a419,_0x196b8b=new FileReader();_0x196b8b[_0x2d2ca7(0x479)](_0x4ac469),_0x196b8b['onload']=()=>_0x1f631f(_0x196b8b['result'][_0x2d2ca7(0x91b)](',')[0x1]),_0x196b8b[_0x2d2ca7(0x8bc)]=_0x5e8f1e;});_0xcef3dc=[{'inlineData':{'mimeType':_0x4ac469['type'],'data':_0x44718e}}],messageModal[_0x44a419(0x820)]['add'](_0x44a419(0x330));}catch(_0x5a5116){console[_0x44a419(0x300)](_0x44a419(0x29f),_0x5a5116),showMessage(_0x44a419(0xef6));}}const _0xb82817=document['getElementById']('move-quiz-modal'),_0x6cc4eb=document[_0x44a419(0x722)](_0x44a419(0x63c)),_0x4f6f25=_0xb82817[_0x44a419(0x390)]('h3'),_0x462b0b=document['getElementById'](_0x44a419(0xa76)),_0x1ec83b=document[_0x44a419(0x722)](_0x44a419(0x751));_0x4f6f25[_0x44a419(0x2eb)]=_0x44a419(0xd02),_0x462b0b[_0x44a419(0x2eb)]=_0x44a419(0xaa0),_0x462b0b['disabled']=!![];allProjects['length']===0x0?_0x6cc4eb[_0x44a419(0x5dd)]=_0x44a419(0x27c):(_0x6cc4eb[_0x44a419(0x5dd)]=_0x44a419(0xb34)+allProjects['map'](_0x2f153b=>_0x44a419(0x9de)+_0x2f153b['id']+'\x22>'+_0x2f153b[_0x44a419(0x897)]+_0x44a419(0xa4f))[_0x44a419(0xbc8)](''),_0x462b0b[_0x44a419(0xce0)]=![]);_0xb82817['classList'][_0x44a419(0xda2)](_0x44a419(0x330));const _0x3f55be=async()=>{const _0x296063=_0x44a419,_0x1969ba=_0x6cc4eb[_0x296063(0xa46)];if(!_0x1969ba){showMessage(_0x296063(0xe40));return;}_0xb82817['classList'][_0x296063(0xc24)](_0x296063(0x330)),document[_0x296063(0x722)](_0x296063(0x31e))['classList'][_0x296063(0xc24)](_0x296063(0x330)),await loadProjectDetails(_0x1969ba),showView(_0x296063(0xbfc)),handleGenerateQuizFromBlueprintTopic(_0x2d4a62,_0x59a5b6,_0x1969ba,_0x44b22a,_0xfa7678,_0xcef3dc),_0x1bca6d();},_0x1bca6d=()=>{const _0x6b6dd6=_0x44a419;_0x4f6f25[_0x6b6dd6(0x2eb)]=_0x6b6dd6(0x60e),_0x462b0b['textContent']='ย้าย',_0x462b0b[_0x6b6dd6(0xed4)](_0x6b6dd6(0xa25),_0x3f55be),_0x1ec83b[_0x6b6dd6(0xed4)](_0x6b6dd6(0xa25),_0x1bca6d),_0x462b0b[_0x6b6dd6(0x939)](_0x6b6dd6(0xa25),confirmMoveQuiz);};_0x462b0b[_0x44a419(0xed4)](_0x44a419(0xa25),confirmMoveQuiz),_0x462b0b[_0x44a419(0x939)]('click',_0x3f55be),_0x1ec83b[_0x44a419(0x939)](_0x44a419(0xa25),_0x1bca6d);}function listenForStarredQuizzes(){const _0x310210=_0x1dbc7e;if(!userId)return;const _0x19ba69=collection(db,'artifacts/'+appId+_0x310210(0x806)),_0x137686=query(_0x19ba69,where(_0x310210(0x8d9),'==',!![]));onSnapshot(_0x137686,_0x2a3b9d=>{const _0x237ad0=_0x310210;starredQuizzes=_0x2a3b9d['docs']['map'](_0x5c5ee3=>({'id':_0x5c5ee3['id'],..._0x5c5ee3[_0x237ad0(0x690)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x4c8283=>{const _0x4b5b5c=_0x310210;console[_0x4b5b5c(0x300)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x4c8283);});}function listenForFileShortcuts(){const _0x8e4e3c=_0x1dbc7e,_0x21d440=doc(db,_0x8e4e3c(0x6f8),'fileShortcutsConfig');onSnapshot(_0x21d440,_0x1cd506=>{const _0x57810d=_0x8e4e3c;let _0x45d255=[],_0x208637=[],_0x4131c8={};if(_0x1cd506[_0x57810d(0x5c5)]()){const _0x4e12a8=_0x1cd506[_0x57810d(0x690)]();_0x45d255=_0x4e12a8[_0x57810d(0xeab)]||[],_0x208637=_0x4e12a8[_0x57810d(0x444)]||[],_0x4131c8=_0x4e12a8['fileShortcutOrder']||{};}!_0x208637[_0x57810d(0x36c)](_0x3f934a=>_0x3f934a['id']===_0x57810d(0x829))&&_0x208637[_0x57810d(0xbca)]({'id':'all','name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x45d255[_0x57810d(0x36c)](_0x1e248d=>_0x1e248d['id']===_0x57810d(0xbdf))&&_0x45d255['unshift']({'id':'file-default-1','name':_0x57810d(0xcec),'url':'','isDefault':!![]}),!_0x45d255[_0x57810d(0x36c)](_0x1afae6=>_0x1afae6['id']===_0x57810d(0x5ab))&&_0x45d255['unshift']({'id':'file-default-2','name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0x45d255,fileShortcutTabs=_0x208637,fileShortcutOrder=_0x4131c8,renderFileShortcuts(),!document[_0x57810d(0x722)](_0x57810d(0x604))[_0x57810d(0x820)][_0x57810d(0x381)](_0x57810d(0x330))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x4ed249=_0x1dbc7e,_0xab365b=doc(db,'globalSettings',_0x4ed249(0xd6d));try{await setDoc(_0xab365b,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x4cf014){console['error'](_0x4ed249(0x51a),_0x4cf014);}}function renderAdditionalFileShortcutsModal(){const _0x4105ff=_0x1dbc7e,_0x3b24bf=document[_0x4105ff(0x722)](_0x4105ff(0xcfa)),_0x403ed8=document['getElementById'](_0x4105ff(0x96c));if(!_0x3b24bf||!_0x403ed8)return;_0x3b24bf[_0x4105ff(0x5dd)]=fileShortcutTabs[_0x4105ff(0xab8)](_0x2391a4=>{const _0x2aea57=_0x4105ff,_0xb9fe92=_0x2391a4['id']===activeFileShortcutTabId;return _0x2aea57(0x336)+_0x2391a4['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0xb9fe92?'border-indigo-500\x20text-indigo-600':_0x2aea57(0x21b))+_0x2aea57(0x317)+_0x2391a4[_0x2aea57(0x39f)]+_0x2aea57(0x8c6)+_0x2391a4[_0x2aea57(0x39f)]+_0x2aea57(0x93e)+(!_0x2391a4[_0x2aea57(0x7ae)]?_0x2aea57(0x69a)+_0x2391a4['id']+_0x2aea57(0x4d5):'')+_0x2aea57(0x6e3);})[_0x4105ff(0xbc8)]('');const _0x2e531d=fileShortcutTabs[_0x4105ff(0x36c)](_0x248383=>_0x248383['id']===activeFileShortcutTabId);let _0x1c6ab3=_0x2e531d?.[_0x4105ff(0x7ae)]?[...fileShortcuts]:fileShortcuts[_0x4105ff(0x6b9)](_0x32811d=>(_0x2e531d?.[_0x4105ff(0x615)]||[])['includes'](_0x32811d['id']));const _0x1faddd=fileShortcutOrder[activeFileShortcutTabId]||[];_0x1c6ab3['sort']((_0x3e4025,_0x1c9aca)=>{const _0x1d46ba=_0x4105ff,_0x17a752=_0x1faddd[_0x1d46ba(0x5cd)](_0x3e4025['id']),_0x2df187=_0x1faddd[_0x1d46ba(0x5cd)](_0x1c9aca['id']);return(_0x17a752===-0x1?Infinity:_0x17a752)-(_0x2df187===-0x1?Infinity:_0x2df187);}),_0x403ed8[_0x4105ff(0x5dd)]=_0x1c6ab3['map'](_0x165f4a=>{const _0x3df68c=_0x4105ff,_0xcb7ae3=_0x165f4a[_0x3df68c(0xa69)]?'📄':'🔗',_0x9a3640=fileShortcutTabs[_0x3df68c(0x6b9)](_0x2d0a5f=>!_0x2d0a5f[_0x3df68c(0x7ae)]),_0x33e68d=_0x2e531d[_0x3df68c(0x7ae)]&&_0x9a3640[_0x3df68c(0xc8f)]>0x0?_0x3df68c(0x966)+_0x9a3640[_0x3df68c(0xab8)](_0x6b55ce=>_0x3df68c(0xbf2)+_0x165f4a['id']+_0x3df68c(0x26c)+_0x6b55ce['id']+'\x22>'+_0x6b55ce[_0x3df68c(0x39f)]+_0x3df68c(0x6f0))[_0x3df68c(0xbc8)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x3df68c(0x2b0)+_0x165f4a['id']+_0x3df68c(0x7e2)+_0xcb7ae3+'\x20'+_0x165f4a['name']+_0x3df68c(0x692)+_0x165f4a['id']+_0x3df68c(0x98d)+_0x165f4a['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x165f4a[_0x3df68c(0x7ae)]?_0x3df68c(0x5d5)+_0x165f4a['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x3df68c(0xd29)+(!_0x2e531d[_0x3df68c(0x7ae)]?'<button\x20data-shortcut-id=\x22'+_0x165f4a['id']+_0x3df68c(0x40c):'')+_0x3df68c(0xd29)+_0x33e68d+_0x3df68c(0x7c2);})['join']('')||_0x4105ff(0xd66),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x76c780=_0x1dbc7e;document[_0x76c780(0x2ff)](_0x76c780(0x205))[_0x76c780(0xb04)](_0x48545e=>{const _0x2abeeb=_0x76c780;_0x48545e[_0x2abeeb(0x590)]=_0xaea437=>{const _0x174991=_0x2abeeb;activeFileShortcutTabId=_0xaea437[_0x174991(0x37a)][_0x174991(0xa7e)][_0x174991(0x602)],renderAdditionalFileShortcutsModal();},_0x48545e[_0x2abeeb(0x791)]=_0x4b906f=>{const _0x4a1554=_0x2abeeb,_0x4f0d1f=_0x4b906f[_0x4a1554(0x37a)]['querySelector'](_0x4a1554(0xacf));_0x4b906f[_0x4a1554(0x37a)][_0x4a1554(0x390)](_0x4a1554(0x28b))[_0x4a1554(0x820)][_0x4a1554(0xc24)](_0x4a1554(0x330)),_0x4f0d1f[_0x4a1554(0x820)][_0x4a1554(0xda2)]('hidden'),_0x4f0d1f[_0x4a1554(0x9dd)](),_0x4f0d1f[_0x4a1554(0x40d)]();};}),document[_0x76c780(0x2ff)](_0x76c780(0xd67))[_0x76c780(0xb04)](_0xef3bb6=>{const _0x8acd3=_0x76c780,_0x242f07=()=>{const _0x54b6cf=_0x320f,_0x82a1f5=_0xef3bb6[_0x54b6cf(0xecd)]('.file-shortcut-tab-btn')[_0x54b6cf(0xa7e)][_0x54b6cf(0x602)],_0x5c378d=fileShortcutTabs['find'](_0x21d954=>_0x21d954['id']===_0x82a1f5);_0x5c378d&&(_0x5c378d[_0x54b6cf(0x39f)]=_0xef3bb6[_0x54b6cf(0xa46)][_0x54b6cf(0xbe3)]()||_0x5c378d[_0x54b6cf(0x39f)],saveFileShortcutConfig());};_0xef3bb6[_0x8acd3(0x6c1)]=_0x242f07,_0xef3bb6[_0x8acd3(0xc9e)]=_0x282ee5=>{const _0x269e1e=_0x8acd3;if(_0x282ee5[_0x269e1e(0x8e4)]===_0x269e1e(0x383))_0xef3bb6[_0x269e1e(0xc85)]();};}),document[_0x76c780(0x2ff)](_0x76c780(0x767))[_0x76c780(0xb04)](_0xbc2d6=>_0xbc2d6[_0x76c780(0x590)]=_0x522007=>{const _0x5b49a2=_0x76c780,_0x454970=_0x522007['currentTarget']['dataset'][_0x5b49a2(0x602)];showConfirmation(_0x5b49a2(0x319),()=>{const _0x32a478=_0x5b49a2;fileShortcutTabs=fileShortcutTabs[_0x32a478(0x6b9)](_0x3ac7d3=>_0x3ac7d3['id']!==_0x454970),delete fileShortcutOrder[_0x454970];if(activeFileShortcutTabId===_0x454970)activeFileShortcutTabId='all';saveFileShortcutConfig();});}),document[_0x76c780(0x2ff)](_0x76c780(0xae4))['forEach'](_0x94c4f1=>_0x94c4f1[_0x76c780(0x590)]=_0x183eec=>{const _0x5abff2=_0x76c780;_0x183eec[_0x5abff2(0x726)]();const {shortcutId:_0x3c4504,targetTabId:_0x520420}=_0x183eec[_0x5abff2(0x37a)][_0x5abff2(0xa7e)],_0x7e85=fileShortcutTabs[_0x5abff2(0x36c)](_0x112fd4=>_0x112fd4['id']===_0x520420);_0x7e85&&!_0x7e85[_0x5abff2(0x615)]['includes'](_0x3c4504)&&(_0x7e85[_0x5abff2(0x615)][_0x5abff2(0xca1)](_0x3c4504),saveFileShortcutConfig());}),document[_0x76c780(0x2ff)](_0x76c780(0xe4b))[_0x76c780(0xb04)](_0x52110c=>_0x52110c[_0x76c780(0x590)]=_0x6642aa=>{const _0x43baaa=_0x76c780,_0x114f4d=_0x6642aa['currentTarget']['dataset'][_0x43baaa(0x582)],_0x44eea3=fileShortcutTabs[_0x43baaa(0x36c)](_0x118cce=>_0x118cce['id']===activeFileShortcutTabId);_0x44eea3&&!_0x44eea3['isDefault']&&(_0x44eea3['shortcutIds']=_0x44eea3[_0x43baaa(0x615)]['filter'](_0x547ad1=>_0x547ad1!==_0x114f4d),saveFileShortcutConfig());}),document[_0x76c780(0x2ff)](_0x76c780(0x535))[_0x76c780(0xb04)](_0xc64cc8=>_0xc64cc8[_0x76c780(0x590)]=_0x23240f=>{const _0x3edb24=_0x76c780;_0x23240f['stopPropagation']();const _0x3555cb=_0x23240f['currentTarget'][_0x3edb24(0x4ff)];document[_0x3edb24(0x2ff)](_0x3edb24(0x769))['forEach'](_0x3f7871=>_0x3f7871[_0x3edb24(0x820)]['add'](_0x3edb24(0x330))),_0x3555cb[_0x3edb24(0x820)][_0x3edb24(0xda2)](_0x3edb24(0x330));});const _0x4430e8=document['getElementById'](_0x76c780(0x96c));let _0x4097a9=null;_0x4430e8['ondragstart']=_0x2884b7=>{const _0x41d1ad=_0x76c780;_0x4097a9=_0x2884b7[_0x41d1ad(0xa4c)][_0x41d1ad(0xecd)](_0x41d1ad(0x53c));if(_0x4097a9)setTimeout(()=>_0x4097a9[_0x41d1ad(0x820)][_0x41d1ad(0xc24)]('opacity-50'),0x0);},_0x4430e8[_0x76c780(0xac5)]=()=>{const _0x5e6b15=_0x76c780;_0x4097a9&&(_0x4097a9[_0x5e6b15(0x820)][_0x5e6b15(0xda2)](_0x5e6b15(0xa9a)),_0x4097a9=null);},_0x4430e8[_0x76c780(0xaa3)]=_0x2908b1=>{const _0x5bc433=_0x76c780;_0x2908b1[_0x5bc433(0x726)]();},_0x4430e8['ondrop']=_0x33e3a0=>{const _0x4039b5=_0x76c780;_0x33e3a0[_0x4039b5(0x726)]();if(_0x4097a9){const _0x49fa28=[..._0x4430e8[_0x4039b5(0x2ff)](_0x4039b5(0x670))]['reduce']((_0x1dea07,_0x46f8f7)=>{const _0x4e0067=_0x4039b5,_0x57afeb=_0x46f8f7['getBoundingClientRect'](),_0xdb86eb=_0x33e3a0[_0x4e0067(0x825)]-_0x57afeb[_0x4e0067(0xca7)]-_0x57afeb[_0x4e0067(0x8f8)]/0x2;return _0xdb86eb<0x0&&_0xdb86eb>_0x1dea07[_0x4e0067(0xeae)]?{'offset':_0xdb86eb,'element':_0x46f8f7}:_0x1dea07;},{'offset':Number[_0x4039b5(0x8cf)]})[_0x4039b5(0x349)];_0x49fa28==null?_0x4430e8[_0x4039b5(0x502)](_0x4097a9):_0x4430e8[_0x4039b5(0xe75)](_0x4097a9,_0x49fa28);const _0x5f83ca=[..._0x4430e8['querySelectorAll']('.shortcut-list-item')]['map'](_0xfe151=>_0xfe151[_0x4039b5(0xa7e)][_0x4039b5(0x582)]);fileShortcutOrder[activeFileShortcutTabId]=_0x5f83ca,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x113dd9=_0x1dbc7e,_0x4febb0=prompt(_0x113dd9(0x8c0),_0x113dd9(0xdaa));_0x4febb0&&_0x4febb0[_0x113dd9(0xbe3)]()&&(fileShortcutTabs[_0x113dd9(0xca1)]({'id':_0x113dd9(0x631)+Date[_0x113dd9(0x3e0)](),'name':_0x4febb0['trim'](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x67c26e=_0x1dbc7e,_0x44b034=document[_0x67c26e(0x722)](_0x67c26e(0x52e)),_0x5c324e=document[_0x67c26e(0x722)](_0x67c26e(0x96c)),_0x12870e=document[_0x67c26e(0x722)]('file-shortcuts-loading-msg');if(_0x12870e)_0x12870e[_0x67c26e(0x820)]['add']('hidden');if(!_0x44b034||!_0x5c324e)return;const _0x2bd233=fileShortcuts[_0x67c26e(0x45e)](0x0,0x4),_0x387a79=fileShortcuts['slice'](0x4);_0x44b034[_0x67c26e(0x5dd)]=_0x2bd233[_0x67c26e(0xab8)](_0x1e3fc7=>{const _0x1fe1d8=_0x67c26e,_0x18e21f=_0x1e3fc7[_0x1fe1d8(0xa69)]&&_0x1e3fc7[_0x1fe1d8(0xa69)][_0x1fe1d8(0xbe3)]()!=='',_0xf15b94=selectedFile&&selectedFile[_0x1fe1d8(0x582)]===_0x1e3fc7['id'];let _0x4f9a91=_0x1fe1d8(0x508),_0x3cfc09='🔗';if(_0xf15b94)_0x4f9a91=_0x1fe1d8(0xa74),_0x3cfc09='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0x18e21f&&(_0x4f9a91=_0x1fe1d8(0x251),_0x3cfc09='📄');const _0x225ccd=!_0x1e3fc7[_0x1fe1d8(0x7ae)]?_0x1fe1d8(0x5d5)+_0x1e3fc7['id']+_0x1fe1d8(0xccb):'';return _0x1fe1d8(0x2a8)+_0x1e3fc7['id']+_0x1fe1d8(0xe9c)+_0x4f9a91+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x3cfc09+_0x1fe1d8(0xb09)+_0x1e3fc7[_0x1fe1d8(0x39f)]+_0x1fe1d8(0x38c)+_0x1e3fc7['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x225ccd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x67c26e(0xbc8)](''),_0x387a79[_0x67c26e(0xc8f)]>0x0&&(_0x44b034[_0x67c26e(0x5dd)]+=_0x67c26e(0xdcb)),_0x387a79[_0x67c26e(0xc8f)]>0x0?_0x5c324e[_0x67c26e(0x5dd)]=_0x387a79[_0x67c26e(0xab8)](_0x8bca4d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+(_0x8bca4d[_0x67c26e(0xa69)]?'📄':'🔗')+'\x20'+_0x8bca4d[_0x67c26e(0x39f)]+_0x67c26e(0x826)+_0x8bca4d['id']+_0x67c26e(0xa7b)+_0x8bca4d['id']+_0x67c26e(0xb90)+(!_0x8bca4d['isDefault']?_0x67c26e(0x5d5)+_0x8bca4d['id']+_0x67c26e(0x475):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x67c26e(0xbc8)](''):_0x5c324e[_0x67c26e(0x5dd)]=_0x67c26e(0x9c9);}function openFileShortcutEditor(_0x5645e3=null){const _0x34ccb6=_0x1dbc7e,_0x54b895=document[_0x34ccb6(0x722)](_0x34ccb6(0x999)),_0x214542=document[_0x34ccb6(0x722)](_0x34ccb6(0xee1)),_0xc2af8f=document[_0x34ccb6(0x722)](_0x34ccb6(0xd7d)),_0x1b2d73=document[_0x34ccb6(0x722)](_0x34ccb6(0x81d)),_0x554424=document[_0x34ccb6(0x722)](_0x34ccb6(0x875));if(_0x5645e3){const _0x1f5072=fileShortcuts['find'](_0x1daaa4=>_0x1daaa4['id']===_0x5645e3);if(!_0x1f5072)return;_0x214542['textContent']=_0x34ccb6(0x7b3),_0xc2af8f[_0x34ccb6(0xa46)]=_0x1f5072['id'],_0x1b2d73[_0x34ccb6(0xa46)]=_0x1f5072[_0x34ccb6(0x39f)],_0x554424[_0x34ccb6(0xa46)]=_0x1f5072[_0x34ccb6(0xa69)]||'';}else _0x214542[_0x34ccb6(0x2eb)]='เพิ่มปุ่มลัดจากไฟล์ใหม่',_0xc2af8f[_0x34ccb6(0xa46)]='',_0x1b2d73[_0x34ccb6(0xa46)]='',_0x554424[_0x34ccb6(0xa46)]='';_0x54b895[_0x34ccb6(0x820)][_0x34ccb6(0xda2)](_0x34ccb6(0x330));}async function saveFileShortcutChanges(){const _0x59a6ff=_0x1dbc7e,_0x2b407d=document['getElementById'](_0x59a6ff(0xd7d))['value'],_0x39dc63=document[_0x59a6ff(0x722)]('file-shortcut-name-input')[_0x59a6ff(0xa46)][_0x59a6ff(0xbe3)](),_0x2fc793=document[_0x59a6ff(0x722)](_0x59a6ff(0x875))['value']['trim']();if(!_0x39dc63){showMessage(_0x59a6ff(0x32b));return;}const _0x26a157={'id':_0x2b407d||'file-shortcut_'+Date[_0x59a6ff(0x3e0)](),'name':_0x39dc63,'url':_0x2fc793,'isDefault':_0x2b407d[_0x59a6ff(0x883)](_0x59a6ff(0x5e7))};let _0x2caef5;_0x2b407d?_0x2caef5=fileShortcuts[_0x59a6ff(0xab8)](_0x22d990=>_0x22d990['id']===_0x2b407d?_0x26a157:_0x22d990):_0x2caef5=[...fileShortcuts,_0x26a157];try{const _0x5be6f9=doc(db,_0x59a6ff(0x6f8),_0x59a6ff(0xd6d));await setDoc(_0x5be6f9,{'shortcuts':_0x2caef5},{'merge':!![]}),document[_0x59a6ff(0x722)]('file-shortcut-editor-modal')[_0x59a6ff(0x820)]['add'](_0x59a6ff(0x330));}catch(_0x39e12e){console[_0x59a6ff(0x300)](_0x59a6ff(0x93b),_0x39e12e),showMessage(_0x59a6ff(0xdf6));}}async function handleFileShortcutClick(_0x43f109){const _0x3d730b=_0x1dbc7e,_0x5c9a07=fileShortcuts['find'](_0x251dbd=>_0x251dbd['id']===_0x43f109);if(!_0x5c9a07)return;if(!_0x5c9a07[_0x3d730b(0xa69)]||_0x5c9a07['url'][_0x3d730b(0xbe3)]()===''){openFileShortcutEditor(_0x43f109);return;}const _0xdde1f8=document[_0x3d730b(0x390)](_0x3d730b(0xd7c)+_0x43f109+'\x22]');if(_0xdde1f8){const _0x342907=_0xdde1f8[_0x3d730b(0x5dd)];_0xdde1f8[_0x3d730b(0x5dd)]='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0xdde1f8['disabled']=!![];}document[_0x3d730b(0x2ff)](_0x3d730b(0x9f9))['forEach'](_0x14db2c=>{const _0x54e757=_0x3d730b;if(_0x14db2c[_0x54e757(0xa7e)]['id']!==_0x43f109)_0x14db2c[_0x54e757(0x820)]['add'](_0x54e757(0xa9a),'pointer-events-none');});try{const _0x940f1c=new URL(_0x5c9a07[_0x3d730b(0xa69)])[_0x3d730b(0x54d)],_0x24579a=_0x940f1c[_0x3d730b(0x975)](_0x940f1c[_0x3d730b(0xa86)]('/')+0x1)||(_0x5c9a07[_0x3d730b(0xa69)][_0x3d730b(0x549)](_0x3d730b(0x4e2))?'file.txt':_0x3d730b(0xecb)),_0x6e7930=await fetchFileFromUrl(_0x5c9a07['url'],_0x24579a);_0x6e7930[_0x3d730b(0x582)]=_0x43f109,selectedFile=_0x6e7930,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x3d730b(0x722)]('file-input-area')[_0x3d730b(0x831)]({'behavior':_0x3d730b(0x803),'block':_0x3d730b(0x533)});}catch(_0x5d686d){console[_0x3d730b(0x300)](_0x3d730b(0xc1a),_0x5d686d),showMessage(_0x3d730b(0x6ae)+_0x5d686d[_0x3d730b(0x83d)]),renderFileShortcuts();}finally{document[_0x3d730b(0x2ff)](_0x3d730b(0x9f9))['forEach'](_0x4ad19=>{const _0x2c3e22=_0x3d730b;_0x4ad19[_0x2c3e22(0x820)]['remove']('opacity-50','pointer-events-none'),_0x4ad19['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x4aa276=_0x1dbc7e;if(allQuizzesGlobal[_0x4aa276(0xc8f)]>0x0)return;console[_0x4aa276(0x545)](_0x4aa276(0x544)),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x31d5e1=await getDocs(collection(db,_0x4aa276(0xd90)+appId+_0x4aa276(0x806)));allQuizzesGlobal=_0x31d5e1[_0x4aa276(0xd16)][_0x4aa276(0xab8)](_0x2c7475=>({'id':_0x2c7475['id'],..._0x2c7475[_0x4aa276(0x690)]()})),console[_0x4aa276(0x545)](_0x4aa276(0x6e8)+allQuizzesGlobal[_0x4aa276(0xc8f)]+_0x4aa276(0x7b7)),messageModal[_0x4aa276(0x820)][_0x4aa276(0xc24)](_0x4aa276(0x330));}catch(_0x1a1d0d){console[_0x4aa276(0x300)](_0x4aa276(0x6d9),_0x1a1d0d),messageModal[_0x4aa276(0x820)][_0x4aa276(0xc24)](_0x4aa276(0x330));throw new Error(_0x4aa276(0x7e4));}}function exportQuizAsWorksheetPDF(){const _0x5cfcd3=_0x1dbc7e;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x5cfcd3(0x99f));return;}const _0x8bb0c6=currentQuizData,_0x572b3a=window[_0x5cfcd3(0xcd2)]('',_0x5cfcd3(0x708)),_0x579ce1=_0x76fe7e=>String['fromCharCode'](0x41+_0x76fe7e),_0x23a466='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x8bb0c6[_0x5cfcd3(0x2d2)]+_0x5cfcd3(0xa3d)+_0x8bb0c6[_0x5cfcd3(0x2d2)]+_0x5cfcd3(0x6bd)+_0x8bb0c6[_0x5cfcd3(0x882)]['map']((_0x21b302,_0x2cd4cc)=>{const _0x189570=_0x5cfcd3;let _0x5cf972='';const _0x171c0c=_0x21b302['questionType']||_0x8bb0c6[_0x189570(0x4f4)];switch(_0x171c0c){case _0x189570(0x6e6):case'fill_in_with_choices':_0x5cf972='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x21b302[_0x189570(0x9d3)]['map']((_0x5ddccf,_0x382f64)=>_0x189570(0xe91)+_0x579ce1(_0x382f64)+'.\x20'+_0x5ddccf+_0x189570(0x89a))[_0x189570(0xbc8)](_0x189570(0x754))+'</div>';break;case _0x189570(0x3f7):_0x5cf972=_0x189570(0x423);break;default:_0x5cf972=_0x189570(0xce6);break;}return _0x189570(0xb5d)+(_0x2cd4cc+0x1)+_0x189570(0xa82)+(_0x21b302[_0x189570(0x869)]||_0x21b302[_0x189570(0xe68)])+_0x189570(0x3d4)+(_0x21b302['imageCode']?'<div\x20class=\x22my-2\x22>'+_0x21b302[_0x189570(0x79d)]+_0x189570(0x607):'')+_0x189570(0xc15)+_0x5cf972+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x5cfcd3(0xbc8)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x572b3a[_0x5cfcd3(0x3bf)][_0x5cfcd3(0xaa6)](_0x23a466),_0x572b3a[_0x5cfcd3(0x3bf)][_0x5cfcd3(0x893)](),_0x572b3a[_0x5cfcd3(0x263)]=function(){setTimeout(()=>{_0x572b3a['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x5c4b8a=_0x1dbc7e;if(!currentQuizData||!currentQuizData[_0x5c4b8a(0x882)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x1996d3=currentQuizData,_0x4bd09b=window['open']('',_0x5c4b8a(0x708)),_0x5ab3db=_0x3d3966=>String[_0x5c4b8a(0x78e)](0x41+_0x3d3966),_0x280340=_0x5c4b8a(0xda6)+_0x1996d3[_0x5c4b8a(0x2d2)]+_0x5c4b8a(0x2f7)+_0x1996d3[_0x5c4b8a(0x882)][_0x5c4b8a(0xab8)]((_0x231da1,_0x168f19)=>{const _0x1a2ccf=_0x5c4b8a;let _0x1ef317='';const _0x454ca4=_0x231da1['questionType']||_0x1996d3[_0x1a2ccf(0x4f4)];switch(_0x454ca4){case _0x1a2ccf(0x6e6):case _0x1a2ccf(0x732):_0x1ef317=_0x1a2ccf(0xaac)+_0x231da1['options'][_0x1a2ccf(0xab8)]((_0x542a07,_0x2959b3)=>_0x1a2ccf(0x289)+_0x5ab3db(_0x2959b3)+'.\x20'+_0x542a07+'</span>')[_0x1a2ccf(0xbc8)](_0x1a2ccf(0x754))+_0x1a2ccf(0x646);break;case _0x1a2ccf(0x3f7):_0x1ef317='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x1ef317='';break;}return _0x1a2ccf(0x3bc)+_0x1996d3[_0x1a2ccf(0x2d2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x168f19+0x1)+_0x1a2ccf(0xca2)+(_0x231da1['stem']||_0x231da1[_0x1a2ccf(0xe68)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x231da1[_0x1a2ccf(0x79d)]?'<div\x20class=\x22my-6\x22>'+_0x231da1['imageCode']+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ef317+_0x1a2ccf(0xcd8);})['join']('')+_0x5c4b8a(0xd39);_0x4bd09b[_0x5c4b8a(0x3bf)]['write'](_0x280340),_0x4bd09b[_0x5c4b8a(0x3bf)][_0x5c4b8a(0x893)](),_0x4bd09b[_0x5c4b8a(0x263)]=function(){setTimeout(()=>{const _0x4f3aba=_0x320f;_0x4bd09b[_0x4f3aba(0x453)]();},0x5dc);};}async function handleToggleStarQuiz(_0x596430){const _0x59219c=_0x1dbc7e,_0x30e58b=doc(db,'artifacts/'+appId+_0x59219c(0x806),_0x596430);try{const _0x4f60c9=await getDoc(_0x30e58b);if(_0x4f60c9['exists']()){const _0x46da19=_0x4f60c9[_0x59219c(0x690)]()[_0x59219c(0x8d9)]||![];await updateDoc(_0x30e58b,{'isStarred':!_0x46da19});}}catch(_0xed39c3){console['error']('Error\x20toggling\x20star\x20status:',_0xed39c3),showMessage(_0x59219c(0xe7a));}}async function displayQuestionBank(){const _0x6ad725=_0x1dbc7e,_0x4e48c4=document['getElementById'](_0x6ad725(0x9db));_0x4e48c4[_0x6ad725(0x5dd)]=_0x6ad725(0xa28);try{const _0x5793cb=collection(db,_0x6ad725(0xd90)+appId+_0x6ad725(0x984)+userId+_0x6ad725(0x9da)),_0x33d203=query(_0x5793cb),_0x569dfa=await getDocs(_0x33d203);if(_0x569dfa[_0x6ad725(0x553)]){_0x4e48c4[_0x6ad725(0x5dd)]=_0x6ad725(0x587);return;}let _0x293f8b=_0x569dfa[_0x6ad725(0xd16)][_0x6ad725(0xab8)](_0x38f71f=>{const _0x513f73=_0x6ad725,_0x3c13f6=_0x38f71f[_0x513f73(0x690)](),_0x4cd0b7=_0x38f71f['id'];return _0x513f73(0x6b1)+JSON[_0x513f73(0xa70)](_0x3c13f6)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x3c13f6[_0x513f73(0xe68)]||_0x3c13f6[_0x513f73(0x869)])+_0x513f73(0x7d7)+_0x3c13f6[_0x513f73(0xc91)]+_0x513f73(0x5e0);})[_0x6ad725(0xbc8)]('');_0x4e48c4['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x293f8b+_0x6ad725(0x457),document['getElementById'](_0x6ad725(0xa5d))[_0x6ad725(0x939)](_0x6ad725(0xa25),createQuizFromBank);}catch(_0x407db8){console[_0x6ad725(0x300)]('Error\x20displaying\x20question\x20bank:',_0x407db8),_0x4e48c4[_0x6ad725(0x5dd)]=_0x6ad725(0x337);}}async function handleExportLessonToPDF(){const _0x3bdaac=_0x1dbc7e,_0x240ac4=document[_0x3bdaac(0x722)](_0x3bdaac(0x3b2)),_0x404f68=document[_0x3bdaac(0x722)]('lesson-view-title')[_0x3bdaac(0x2eb)]||'บทเรียน';if(!_0x240ac4){showMessage(_0x3bdaac(0x4ac));return;}const _0x3099bf=window[_0x3bdaac(0xcd2)]('',_0x3bdaac(0x708)),_0x50a6e7=_0x3bdaac(0xaea)+_0x404f68+_0x3bdaac(0xe60)+_0x404f68+_0x3bdaac(0x9a1)+_0x240ac4[_0x3bdaac(0x5dd)]+_0x3bdaac(0x305);_0x3099bf[_0x3bdaac(0x3bf)]['write'](_0x50a6e7),_0x3099bf[_0x3bdaac(0x3bf)][_0x3bdaac(0x893)](),_0x3099bf[_0x3bdaac(0x263)]=function(){setTimeout(()=>{const _0xc42b5a=_0x320f;_0x3099bf[_0xc42b5a(0x453)]();},0x7d0);};}function showAdminLiveQuestionView(_0x529f06,_0x181204,_0x43353b){const _0x30422c=_0x1dbc7e,_0x3fbacc=_0x529f06['questionType']||currentQuizData[_0x30422c(0x4f4)];let _0xa25664='';if(_0x3fbacc===_0x30422c(0x6e6)||_0x3fbacc==='true_false'){const _0xc72575=_0x3fbacc===_0x30422c(0x3f7)?[_0x30422c(0xed8),_0x30422c(0xa8b)]:_0x529f06[_0x30422c(0x9d3)],_0x5ae582=_0x3fbacc==='true_false'?_0x529f06[_0x30422c(0x72b)]?0x0:0x1:_0x529f06[_0x30422c(0x7e1)];_0xa25664=_0xc72575[_0x30422c(0xab8)]((_0x48e744,_0xe47a34)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0xe47a34===_0x5ae582)+_0x30422c(0x5e2)+_0x48e744+_0x30422c(0x37c))['join']('');}else{if(_0x3fbacc===_0x30422c(0xd24)){const _0x16fa00=_0x529f06[_0x30422c(0xb68)]||[];_0xa25664=_0x16fa00['map'](_0x1e1ded=>_0x30422c(0xcf0)+(_0x1e1ded===_0x529f06[_0x30422c(0xb40)])+_0x30422c(0x5e2)+_0x1e1ded+_0x30422c(0x37c))[_0x30422c(0xbc8)]('');}}const _0x5d84a3=_0x529f06[_0x30422c(0x869)]||_0x529f06[_0x30422c(0xe68)],_0x30d17b=_0x30422c(0x4a7)+(_0x181204+0x1)+_0x30422c(0x4df)+_0x43353b+_0x30422c(0xcb2)+currentLiveGamePin+_0x30422c(0x921)+_0x5d84a3+_0x30422c(0x87a)+_0xa25664+_0x30422c(0x4b8);liveGameView[_0x30422c(0x5dd)]=_0x30d17b,window[_0x30422c(0xa8c)]&&MathJax[_0x30422c(0x303)]&&MathJax['typesetPromise']([liveGameView]),document['getElementById'](_0x30422c(0xbef))[_0x30422c(0x939)]('click',()=>revealAnswerForAdmin(_0x181204,_0x43353b)),document[_0x30422c(0x722)](_0x30422c(0x771))['addEventListener'](_0x30422c(0xa25),async()=>{const _0x111f20=_0x30422c;showConfirmation(_0x111f20(0x9df),async()=>{const _0xda5f52=_0x111f20,_0x20872f=doc(db,_0xda5f52(0xd90)+appId+_0xda5f52(0xb80),currentLiveGameId);await updateDoc(_0x20872f,{'status':'podium'});});}),document[_0x30422c(0x722)](_0x30422c(0xd1a))[_0x30422c(0x939)](_0x30422c(0xa25),()=>{const _0x54539d=_0x30422c;document[_0x54539d(0x722)](_0x54539d(0xbe2))[_0x54539d(0x820)][_0x54539d(0x9b0)](_0x54539d(0x330));});}function promptForProjectBeforeGenerating(_0x4ba5a8){const _0x192ccf=_0x1dbc7e,_0x13bc9f=document[_0x192ccf(0x722)](_0x192ccf(0x627)),_0x508bd5=document[_0x192ccf(0x722)](_0x192ccf(0x63c)),_0x550963=_0x13bc9f['querySelector']('h3'),_0x467f56=document[_0x192ccf(0x722)](_0x192ccf(0xa76)),_0x57484b=document['getElementById'](_0x192ccf(0x751));_0x550963[_0x192ccf(0x2eb)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x467f56[_0x192ccf(0x2eb)]=_0x192ccf(0xaa0),_0x467f56['disabled']=!![];allProjects[_0x192ccf(0xc8f)]===0x0?_0x508bd5[_0x192ccf(0x5dd)]=_0x192ccf(0x27c):(_0x508bd5[_0x192ccf(0x5dd)]=_0x192ccf(0xb34)+allProjects['map'](_0x1367c1=>_0x192ccf(0x9de)+_0x1367c1['id']+'\x22>'+_0x1367c1['projectName']+_0x192ccf(0xa4f))[_0x192ccf(0xbc8)](''),_0x467f56['disabled']=![]);_0x13bc9f[_0x192ccf(0x820)][_0x192ccf(0xda2)](_0x192ccf(0x330));const _0x41d41d=async()=>{const _0x29927d=_0x192ccf,_0xdc2c7d=_0x508bd5['value'];if(!_0xdc2c7d){showMessage(_0x29927d(0xe40));return;}_0x13bc9f[_0x29927d(0x820)]['add'](_0x29927d(0x330)),await loadProjectDetails(_0xdc2c7d),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x4ba5a8),_0x242d6f();},_0x242d6f=()=>{const _0x4e20d1=_0x192ccf;_0x550963[_0x4e20d1(0x2eb)]=_0x4e20d1(0x60e),_0x467f56[_0x4e20d1(0x2eb)]=_0x4e20d1(0xd20),_0x467f56['removeEventListener']('click',_0x41d41d),_0x57484b['removeEventListener'](_0x4e20d1(0xa25),_0x242d6f),_0x467f56['addEventListener'](_0x4e20d1(0xa25),confirmMoveQuiz);};_0x467f56['removeEventListener']('click',confirmMoveQuiz),_0x467f56['addEventListener']('click',_0x41d41d),_0x57484b[_0x192ccf(0x939)](_0x192ccf(0xa25),_0x242d6f);}function showStudentLiveQuestionView(_0x94dacb,_0x53d223,_0x4b74d0){const _0x3acbc4=_0x1dbc7e,_0x401533=_0x94dacb[_0x3acbc4(0xbd0)]||currentQuizData[_0x3acbc4(0x4f4)];let _0xa0bbb9='';if(_0x401533===_0x3acbc4(0x6e6)||_0x401533===_0x3acbc4(0x3f7)){const _0x3bd4a3=_0x401533==='true_false'?[_0x3acbc4(0xed8),_0x3acbc4(0xa8b)]:_0x94dacb[_0x3acbc4(0x9d3)];_0xa0bbb9=_0x3bd4a3[_0x3acbc4(0xab8)]((_0x4c7a53,_0x2e5762)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2e5762+_0x3acbc4(0x335)+_0x4c7a53+_0x3acbc4(0xc4a))[_0x3acbc4(0xbc8)]('');}else{if(_0x401533===_0x3acbc4(0xd24)){const _0x342969=_0x94dacb[_0x3acbc4(0xb68)]||[];_0xa0bbb9=_0x342969[_0x3acbc4(0xab8)]((_0x51e52b,_0x1f2c95)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1f2c95+_0x3acbc4(0x335)+_0x51e52b+_0x3acbc4(0xc4a))[_0x3acbc4(0xbc8)]('');}else _0x401533==='short_answer'&&(_0xa0bbb9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x426dcb=_0x94dacb['stem']||_0x94dacb['questionText'],_0x865d69='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x53d223+0x1)+_0x3acbc4(0x4df)+_0x4b74d0+_0x3acbc4(0x53f)+_0x426dcb+_0x3acbc4(0xe01)+_0xa0bbb9+_0x3acbc4(0x29c);liveGameView[_0x3acbc4(0x5dd)]=_0x865d69;window[_0x3acbc4(0xa8c)]&&MathJax[_0x3acbc4(0x303)]&&MathJax[_0x3acbc4(0x303)]([liveGameView]);const _0x2e0689=document[_0x3acbc4(0x722)]('live-submit-short-answer-btn');_0x2e0689&&_0x2e0689['addEventListener'](_0x3acbc4(0xa25),()=>{const _0x575c07=_0x3acbc4,_0x3cf76f=document[_0x575c07(0x722)](_0x575c07(0x760))[_0x575c07(0xa46)];handleLiveAnswer(_0x3cf76f,_0x94dacb);}),document[_0x3acbc4(0x722)]('live-options-container')['addEventListener']('click',_0x499f14=>{const _0x31e0a9=_0x3acbc4,_0x1abb96=_0x499f14['target'][_0x31e0a9(0xecd)](_0x31e0a9(0x3e9));if(_0x1abb96){const _0x2ce96b=parseInt(_0x1abb96[_0x31e0a9(0xa7e)][_0x31e0a9(0x61a)]);handleLiveAnswer(_0x2ce96b,_0x94dacb);}});}function listenForBlueprintShortcuts(){const _0x4c60ae=_0x1dbc7e,_0x3ce2b0=doc(db,_0x4c60ae(0x6f8),_0x4c60ae(0xd9e));onSnapshot(_0x3ce2b0,_0xd7218b=>{const _0x48a632=_0x4c60ae;let _0x39fa36=[],_0x579568=[],_0x41357d={};if(_0xd7218b[_0x48a632(0x5c5)]()){const _0x4e7ac8=_0xd7218b[_0x48a632(0x690)]();_0x39fa36=_0x4e7ac8[_0x48a632(0xe0a)]||[],_0x579568=_0x4e7ac8[_0x48a632(0x953)]||[],_0x41357d=_0x4e7ac8[_0x48a632(0x224)]||{};}!_0x579568[_0x48a632(0x36c)](_0x240231=>_0x240231['id']===_0x48a632(0x829))&&_0x579568[_0x48a632(0xbca)]({'id':_0x48a632(0x829),'name':_0x48a632(0xa5f),'isDefault':!![]}),!_0x39fa36[_0x48a632(0x36c)](_0x220bfb=>_0x220bfb['id']===_0x48a632(0x9b8))&&_0x39fa36['unshift']({'id':_0x48a632(0x9b8),'name':_0x48a632(0xd9f),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x39fa36['find'](_0x5b89be=>_0x5b89be['id']==='default-2')&&_0x39fa36[_0x48a632(0xbca)]({'id':_0x48a632(0x64f),'name':_0x48a632(0x85c),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x39fa36,shortcutTabs=_0x579568,shortcutOrder=_0x41357d,renderBlueprintShortcuts(),!document[_0x48a632(0x722)]('additional-shortcuts-modal')[_0x48a632(0x820)][_0x48a632(0x381)](_0x48a632(0x330))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x295ca2=_0x1dbc7e,_0x227f71=document['getElementById'](_0x295ca2(0xd2d)),_0xc7c9c8=document[_0x295ca2(0x722)]('additional-shortcuts-list');if(!_0x227f71||!_0xc7c9c8)return;_0x227f71[_0x295ca2(0x5dd)]=shortcutTabs[_0x295ca2(0xab8)](_0x8786c8=>{const _0x57a35f=_0x295ca2,_0x5b4035=_0x8786c8['id']===activeShortcutTabId,_0x634c23=_0x57a35f(0xc33),_0x55a968=_0x57a35f(0x21b);return _0x57a35f(0xb56)+_0x8786c8['id']+_0x57a35f(0xd73)+(_0x5b4035?_0x634c23:_0x55a968)+_0x57a35f(0x4aa)+_0x8786c8[_0x57a35f(0x39f)]+_0x57a35f(0x7cb)+_0x8786c8[_0x57a35f(0x39f)]+_0x57a35f(0x962)+(!_0x8786c8[_0x57a35f(0x7ae)]?_0x57a35f(0xc2f)+_0x8786c8['id']+_0x57a35f(0x32d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x295ca2(0xbc8)]('');const _0x5c26eb=shortcutTabs['find'](_0x2aecbd=>_0x2aecbd['id']===activeShortcutTabId);let _0x42c91d=[];if(_0x5c26eb){if(_0x5c26eb[_0x295ca2(0x7ae)])_0x42c91d=[...blueprintShortcuts];else{const _0x1b365f=_0x5c26eb['shortcutIds']||[];_0x42c91d=blueprintShortcuts[_0x295ca2(0x6b9)](_0x3f8ccd=>_0x1b365f[_0x295ca2(0x549)](_0x3f8ccd['id']));}}const _0x226cdb=shortcutOrder[activeShortcutTabId]||[];_0x42c91d[_0x295ca2(0x24d)]((_0x36e30a,_0x12bc4f)=>{const _0x12aa24=_0x295ca2,_0x1527c2=_0x226cdb[_0x12aa24(0x5cd)](_0x36e30a['id']),_0x24daaa=_0x226cdb[_0x12aa24(0x5cd)](_0x12bc4f['id']);if(_0x1527c2===-0x1)return 0x1;if(_0x24daaa===-0x1)return-0x1;return _0x1527c2-_0x24daaa;}),_0xc7c9c8[_0x295ca2(0x5dd)]=_0x42c91d[_0x295ca2(0xc8f)]>0x0?_0x42c91d['map'](_0x3e7338=>{const _0x425f67=_0x295ca2;let _0x3e8414='🧩';if(_0x3e7338[_0x425f67(0xe5b)]&&_0x3e7338[_0x425f67(0x2a0)])_0x3e8414='📗';else{if(_0x3e7338[_0x425f67(0xe5b)])_0x3e8414='📘';}const _0x4cb886=shortcutTabs[_0x425f67(0x6b9)](_0x57339a=>!_0x57339a['isDefault']),_0x2af337=_0x5c26eb[_0x425f67(0x7ae)]&&_0x4cb886[_0x425f67(0xc8f)]>0x0?_0x425f67(0x663)+_0x4cb886[_0x425f67(0xab8)](_0x27313d=>_0x425f67(0x4a3)+_0x3e7338['id']+_0x425f67(0x26c)+_0x27313d['id']+'\x22>'+_0x27313d[_0x425f67(0x39f)]+_0x425f67(0x632))[_0x425f67(0xbc8)]('')+_0x425f67(0x8ec):'';return _0x425f67(0x680)+_0x3e7338['id']+_0x425f67(0x486)+_0x3e8414+'\x20'+_0x3e7338['name']+_0x425f67(0x7e0)+_0x3e7338['id']+_0x425f67(0xe17)+_0x3e7338['id']+_0x425f67(0x50e)+(!_0x3e7338[_0x425f67(0x7ae)]?_0x425f67(0x5d5)+_0x3e7338['id']+_0x425f67(0xd15):'')+_0x425f67(0x448)+(!_0x5c26eb['isDefault']?_0x425f67(0x429)+_0x3e7338['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x425f67(0x448)+_0x2af337+_0x425f67(0x766);})['join'](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x154875=_0x1dbc7e;document[_0x154875(0x2ff)](_0x154875(0xe9f))[_0x154875(0xb04)](_0x56bb59=>{const _0x105ba4=_0x154875;_0x56bb59['addEventListener'](_0x105ba4(0xa25),_0x4ea268=>{const _0x5a1e86=_0x105ba4;activeShortcutTabId=_0x4ea268[_0x5a1e86(0x37a)]['dataset']['tabId'],renderAdditionalShortcutsModal();}),_0x56bb59[_0x105ba4(0x939)](_0x105ba4(0x8c3),_0xd016e1=>{const _0x25e010=_0x105ba4,_0x138af8=_0xd016e1[_0x25e010(0x37a)];_0x138af8['querySelector'](_0x25e010(0x28b))['classList'][_0x25e010(0xc24)]('hidden');const _0x5ba3c1=_0x138af8['querySelector'](_0x25e010(0xacf));_0x5ba3c1['classList'][_0x25e010(0xda2)](_0x25e010(0x330)),_0x5ba3c1[_0x25e010(0x9dd)](),_0x5ba3c1[_0x25e010(0x40d)]();});}),document['querySelectorAll'](_0x154875(0xacf))[_0x154875(0xb04)](_0x588179=>{const _0x564db0=_0x154875,_0x388d16=()=>{const _0x5a88ae=_0x320f,_0xc66b21=_0x588179['closest'](_0x5a88ae(0xe9f))[_0x5a88ae(0xa7e)][_0x5a88ae(0x602)];handleRenameShortcutTab(_0xc66b21,_0x588179[_0x5a88ae(0xa46)]);};_0x588179['addEventListener'](_0x564db0(0xc85),_0x388d16),_0x588179[_0x564db0(0x939)](_0x564db0(0x9e5),_0x34a0b5=>{const _0x501027=_0x564db0;if(_0x34a0b5[_0x501027(0x8e4)]==='Enter')_0x588179['blur']();});}),document[_0x154875(0x2ff)](_0x154875(0xb54))[_0x154875(0xb04)](_0x3c2c09=>{const _0x4d2cca=_0x154875;_0x3c2c09[_0x4d2cca(0x939)](_0x4d2cca(0xa25),_0x3e6cf8=>handleDeleteShortcutTab(_0x3e6cf8[_0x4d2cca(0x37a)][_0x4d2cca(0xa7e)][_0x4d2cca(0x602)]));}),document[_0x154875(0x2ff)]('.move-shortcut-item')[_0x154875(0xb04)](_0x313c91=>{const _0x1a3d3d=_0x154875;_0x313c91[_0x1a3d3d(0x939)](_0x1a3d3d(0xa25),_0x1f21a7=>{const _0x159fca=_0x1a3d3d;_0x1f21a7[_0x159fca(0x726)]();const {shortcutId:_0x10ce3e,targetTabId:_0x412763}=_0x1f21a7[_0x159fca(0x37a)][_0x159fca(0xa7e)];handleMoveShortcutToTab(_0x10ce3e,_0x412763);});}),document[_0x154875(0x2ff)](_0x154875(0x4d0))[_0x154875(0xb04)](_0x1505b0=>{const _0x3439f4=_0x154875;_0x1505b0[_0x3439f4(0x939)](_0x3439f4(0xa25),_0x199e3b=>{const _0x5a5685=_0x3439f4;handleRemoveShortcutFromTab(_0x199e3b['currentTarget'][_0x5a5685(0xa7e)][_0x5a5685(0x582)],activeShortcutTabId);});});const _0x2c4d0a=document[_0x154875(0x722)]('additional-shortcuts-list');_0x2c4d0a[_0x154875(0x2ff)]('.use-hidden-shortcut-btn')[_0x154875(0xb04)](_0x95c311=>{const _0x46ef63=_0x154875;_0x95c311[_0x46ef63(0x939)](_0x46ef63(0xa25),()=>{const _0x5d8a9f=_0x46ef63;document[_0x5d8a9f(0x722)]('additional-shortcuts-modal')[_0x5d8a9f(0x820)][_0x5d8a9f(0xc24)](_0x5d8a9f(0x330)),handleShortcutClick(_0x95c311[_0x5d8a9f(0xa7e)]['id']);});});let _0x13cc2d=null;_0x2c4d0a[_0x154875(0x939)](_0x154875(0x905),_0x522dbd=>{const _0x266268=_0x154875;_0x13cc2d=_0x522dbd['target'][_0x266268(0xecd)](_0x266268(0x53c)),_0x13cc2d&&setTimeout(()=>_0x13cc2d[_0x266268(0x820)]['add'](_0x266268(0xa9a)),0x0);}),_0x2c4d0a[_0x154875(0x939)](_0x154875(0x5fc),()=>{const _0x44de37=_0x154875;_0x13cc2d&&(_0x13cc2d['classList']['remove'](_0x44de37(0xa9a)),_0x13cc2d=null);}),_0x2c4d0a[_0x154875(0x939)](_0x154875(0xb03),_0x1dc68f=>{const _0x36dea5=_0x154875;_0x1dc68f['preventDefault']();const _0x348f29=[..._0x2c4d0a[_0x36dea5(0x2ff)](_0x36dea5(0x670))]['reduce']((_0x4da991,_0x206dc5)=>{const _0x21ca7a=_0x36dea5,_0x5b878c=_0x206dc5['getBoundingClientRect'](),_0x3c54c9=_0x1dc68f[_0x21ca7a(0x825)]-_0x5b878c[_0x21ca7a(0xca7)]-_0x5b878c['height']/0x2;return _0x3c54c9<0x0&&_0x3c54c9>_0x4da991[_0x21ca7a(0xeae)]?{'offset':_0x3c54c9,'element':_0x206dc5}:_0x4da991;},{'offset':Number[_0x36dea5(0x8cf)]})[_0x36dea5(0x349)];_0x348f29==null?_0x2c4d0a[_0x36dea5(0x502)](_0x13cc2d):_0x2c4d0a['insertBefore'](_0x13cc2d,_0x348f29);}),_0x2c4d0a[_0x154875(0x939)](_0x154875(0xb06),_0xc856d8=>{const _0x4fd6f6=_0x154875;_0xc856d8[_0x4fd6f6(0x726)]();if(_0x13cc2d){const _0x2f432f=[..._0x2c4d0a[_0x4fd6f6(0x2ff)](_0x4fd6f6(0x53c))]['map'](_0x2c3eb=>_0x2c3eb[_0x4fd6f6(0xa7e)][_0x4fd6f6(0x582)]);handleShortcutOrderChange(activeShortcutTabId,_0x2f432f);}}),document[_0x154875(0x2ff)](_0x154875(0xe3d))[_0x154875(0xb04)](_0x19a5cf=>{const _0x86356c=_0x154875;_0x19a5cf['addEventListener'](_0x86356c(0xa25),_0x571045=>{const _0x3c6cce=_0x86356c;_0x571045[_0x3c6cce(0xa2c)]();const _0x2ed308=_0x571045[_0x3c6cce(0x37a)][_0x3c6cce(0x4ff)],_0x1a4af7=_0x2ed308[_0x3c6cce(0x820)][_0x3c6cce(0x381)](_0x3c6cce(0x330));document[_0x3c6cce(0x2ff)](_0x3c6cce(0x594))[_0x3c6cce(0xb04)](_0x3f1a72=>_0x3f1a72['classList'][_0x3c6cce(0xc24)](_0x3c6cce(0x330))),_0x1a4af7&&_0x2ed308[_0x3c6cce(0x820)][_0x3c6cce(0xda2)]('hidden');});});}document[_0x1dbc7e(0x939)]('click',_0x205e9e=>{const _0x3fdb47=_0x1dbc7e;!_0x205e9e[_0x3fdb47(0xa4c)][_0x3fdb47(0xecd)](_0x3fdb47(0x5e4))&&document[_0x3fdb47(0x2ff)](_0x3fdb47(0x594))[_0x3fdb47(0xb04)](_0x25dcec=>_0x25dcec[_0x3fdb47(0x820)][_0x3fdb47(0xc24)](_0x3fdb47(0x330)));});async function saveShortcutConfig(){const _0x568f8b=_0x1dbc7e,_0x43d650=doc(db,'globalSettings',_0x568f8b(0xd9e));try{await setDoc(_0x43d650,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x233217){console[_0x568f8b(0x300)]('Error\x20saving\x20shortcut\x20config:',_0x233217);}}async function handleAddShortcutTab(){const _0x284fab=_0x1dbc7e,_0x5a5bbf=prompt(_0x284fab(0x8c0),_0x284fab(0xdaa));if(!_0x5a5bbf||_0x5a5bbf[_0x284fab(0xbe3)]()==='')return;shortcutTabs[_0x284fab(0xca1)]({'id':_0x284fab(0x631)+Date[_0x284fab(0x3e0)](),'name':_0x5a5bbf[_0x284fab(0xbe3)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x476138,_0x5c0a64){const _0x527302=_0x1dbc7e,_0x5d6310=shortcutTabs['find'](_0x47b8ac=>_0x47b8ac['id']===_0x476138);_0x5d6310&&_0x5c0a64[_0x527302(0xbe3)]()!==''&&(_0x5d6310[_0x527302(0x39f)]=_0x5c0a64[_0x527302(0xbe3)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x3fc9e2){const _0x1ce074=_0x1dbc7e,_0x1f9a0c=shortcutTabs['find'](_0x547f8d=>_0x547f8d['id']===_0x3fc9e2);_0x1f9a0c&&!_0x1f9a0c[_0x1ce074(0x7ae)]&&showConfirmation(_0x1ce074(0x917)+_0x1f9a0c[_0x1ce074(0x39f)]+_0x1ce074(0x860),async()=>{const _0x4ca650=_0x1ce074;shortcutTabs=shortcutTabs[_0x4ca650(0x6b9)](_0x439cca=>_0x439cca['id']!==_0x3fc9e2),delete shortcutOrder[_0x3fc9e2];if(activeShortcutTabId===_0x3fc9e2)activeShortcutTabId=_0x4ca650(0x829);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x2cad00,_0x1362bb){const _0x2cfce1=_0x1dbc7e,_0x3732ce=shortcutTabs[_0x2cfce1(0x36c)](_0x2a6d86=>_0x2a6d86['id']===_0x1362bb);_0x3732ce&&!_0x3732ce[_0x2cfce1(0x615)]['includes'](_0x2cad00)&&(_0x3732ce['shortcutIds'][_0x2cfce1(0xca1)](_0x2cad00),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x33b207,_0x399914){const _0x5aaa2d=_0x1dbc7e,_0x3d78a5=shortcutTabs[_0x5aaa2d(0x36c)](_0x47460=>_0x47460['id']===_0x399914);_0x3d78a5&&!_0x3d78a5[_0x5aaa2d(0x7ae)]&&(_0x3d78a5[_0x5aaa2d(0x615)]=_0x3d78a5[_0x5aaa2d(0x615)][_0x5aaa2d(0x6b9)](_0x3fe2a5=>_0x3fe2a5!==_0x33b207),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x17b070,_0x3da431){shortcutOrder[_0x17b070]=_0x3da431,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x336a26=_0x1dbc7e,_0x5b48f3=document[_0x336a26(0x722)]('blueprint-shortcut-container'),_0x397d17=document[_0x336a26(0x722)]('additional-shortcuts-list'),_0x2ef2f9=document[_0x336a26(0x722)](_0x336a26(0xb31));_0x2ef2f9&&_0x2ef2f9[_0x336a26(0x820)][_0x336a26(0xc24)](_0x336a26(0x330));if(!_0x5b48f3||!_0x397d17)return;const _0x11f161=blueprintShortcuts[_0x336a26(0x45e)](0x0,0x4),_0x722d9a=blueprintShortcuts['slice'](0x4);_0x5b48f3[_0x336a26(0x5dd)]=_0x11f161[_0x336a26(0xab8)](_0xb3abcc=>{const _0x24d13e=_0x336a26;let _0x35820a='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x4070cd='🧩';if(_0xb3abcc[_0x24d13e(0xe5b)]&&_0xb3abcc[_0x24d13e(0x2a0)])_0x35820a=_0x24d13e(0x3ff),_0x4070cd='📗';else _0xb3abcc['blueprintUrl']&&(_0x35820a=_0x24d13e(0x251),_0x4070cd='📘');const _0x5885eb=!_0xb3abcc[_0x24d13e(0x7ae)]?'<button\x20data-id=\x22'+_0xb3abcc['id']+_0x24d13e(0xb01):'';return _0x24d13e(0x2a8)+_0xb3abcc['id']+_0x24d13e(0xa87)+_0x35820a+_0x24d13e(0xe4c)+_0x4070cd+'\x20'+_0xb3abcc['name']+_0x24d13e(0xe0d)+_0xb3abcc['id']+_0x24d13e(0x855)+_0x5885eb+_0x24d13e(0x37c);})[_0x336a26(0xbc8)](''),_0x722d9a[_0x336a26(0xc8f)]>0x0&&(_0x5b48f3[_0x336a26(0x5dd)]+=_0x336a26(0x4d1)),_0x722d9a[_0x336a26(0xc8f)]>0x0?_0x397d17['innerHTML']=_0x722d9a['map'](_0x1db239=>{const _0x587bce=_0x336a26;let _0x532790='🧩';if(_0x1db239[_0x587bce(0xe5b)]&&_0x1db239[_0x587bce(0x2a0)])_0x532790='📗';else _0x1db239[_0x587bce(0xe5b)]&&(_0x532790='📘');return _0x587bce(0x6a9)+_0x532790+'\x20'+_0x1db239[_0x587bce(0x39f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1db239['id']+_0x587bce(0xe17)+_0x1db239['id']+_0x587bce(0x50e)+(!_0x1db239['isDefault']?_0x587bce(0x5d5)+_0x1db239['id']+_0x587bce(0xd15):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join'](''):_0x397d17['innerHTML']=_0x336a26(0x9c9);}function getMimeTypeFromFilename(_0x3c976f){const _0x6b10c=_0x1dbc7e,_0x1c30b7=_0x3c976f[_0x6b10c(0x91b)]('.')[_0x6b10c(0x4bb)]()[_0x6b10c(0x2f6)]();switch(_0x1c30b7){case _0x6b10c(0x752):return _0x6b10c(0x932);case'txt':return _0x6b10c(0x7fc);default:return'application/pdf';}}function openShortcutEditor(_0x12bbb7=null){const _0x284447=_0x1dbc7e,_0x131edf=document[_0x284447(0x722)]('shortcut-editor-modal'),_0x342aee=document[_0x284447(0x722)](_0x284447(0xc99)),_0x4683cc=document[_0x284447(0x722)]('shortcut-id-input'),_0x31e0a2=document['getElementById'](_0x284447(0x395)),_0x546a08=document[_0x284447(0x722)](_0x284447(0xab3)),_0x407cb6=document['getElementById']('shortcut-reference-url-input');if(_0x12bbb7){const _0x387ab2=blueprintShortcuts[_0x284447(0x36c)](_0x3141c2=>_0x3141c2['id']===_0x12bbb7);if(!_0x387ab2)return;_0x342aee[_0x284447(0x2eb)]=_0x284447(0xa35),_0x4683cc['value']=_0x387ab2['id'],_0x31e0a2[_0x284447(0xa46)]=_0x387ab2['name'],_0x546a08[_0x284447(0xa46)]=_0x387ab2[_0x284447(0xe5b)]||'',_0x407cb6[_0x284447(0xa46)]=_0x387ab2['referenceUrl']||'';}else _0x342aee[_0x284447(0x2eb)]=_0x284447(0x5ed),_0x4683cc[_0x284447(0xa46)]='',_0x31e0a2[_0x284447(0xa46)]='',_0x546a08[_0x284447(0xa46)]='',_0x407cb6[_0x284447(0xa46)]='';_0x131edf[_0x284447(0x820)][_0x284447(0xda2)](_0x284447(0x330));}async function saveShortcutChanges(){const _0x4dd29a=_0x1dbc7e,_0x2a6b8b=document[_0x4dd29a(0x722)]('shortcut-id-input')[_0x4dd29a(0xa46)],_0x4c8023=document[_0x4dd29a(0x722)]('shortcut-name-input')[_0x4dd29a(0xa46)][_0x4dd29a(0xbe3)](),_0x48af46=document['getElementById'](_0x4dd29a(0xab3))[_0x4dd29a(0xa46)]['trim']();if(!_0x4c8023||!_0x48af46){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27');return;}const _0x7e6f20={'id':_0x2a6b8b||_0x4dd29a(0x9b5)+Date[_0x4dd29a(0x3e0)](),'name':_0x4c8023,'blueprintUrl':_0x48af46,'referenceUrl':document[_0x4dd29a(0x722)](_0x4dd29a(0xaed))['value'][_0x4dd29a(0xbe3)](),'isDefault':_0x2a6b8b[_0x4dd29a(0x883)](_0x4dd29a(0x43c))};let _0x167271;_0x2a6b8b?_0x167271=blueprintShortcuts[_0x4dd29a(0xab8)](_0xf92c40=>_0xf92c40['id']===_0x2a6b8b?_0x7e6f20:_0xf92c40):_0x167271=[...blueprintShortcuts,_0x7e6f20];try{const _0x2424cf=doc(db,'globalSettings',_0x4dd29a(0xd9e));await setDoc(_0x2424cf,{'blueprintShortcuts':_0x167271},{'merge':!![]}),document[_0x4dd29a(0x722)](_0x4dd29a(0x66f))[_0x4dd29a(0x820)][_0x4dd29a(0xc24)](_0x4dd29a(0x330));}catch(_0x8212a5){console['error'](_0x4dd29a(0x88e),_0x8212a5),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0x53d810){const _0x124569=_0x1dbc7e,_0x93a9bf=blueprintShortcuts[_0x124569(0x36c)](_0xf3d230=>_0xf3d230['id']===_0x53d810);if(!_0x93a9bf||!_0x93a9bf[_0x124569(0xe5b)])return;document[_0x124569(0x722)]('blueprint-options-container')[_0x124569(0x820)][_0x124569(0xc24)]('hidden'),document['getElementById'](_0x124569(0xeb1))[_0x124569(0xce0)]=!![];const _0x4bd998=document[_0x124569(0x722)](_0x124569(0xeda)),_0x3965c1=document[_0x124569(0x722)](_0x124569(0x7bb));document[_0x124569(0x722)](_0x124569(0x59e))[_0x124569(0x820)][_0x124569(0xda2)](_0x124569(0x330)),document[_0x124569(0x722)](_0x124569(0x780))['innerHTML']='',_0x4bd998['classList'][_0x124569(0xda2)](_0x124569(0x330));try{_0x3965c1[_0x124569(0x2eb)]=_0x124569(0x840);const _0x2c4c6b=await fetchFileFromUrl(_0x93a9bf[_0x124569(0xe5b)],'blueprint.pdf');let _0x549bd9=null;if(_0x93a9bf[_0x124569(0x2a0)]){_0x3965c1[_0x124569(0x2eb)]=_0x124569(0xe26);const _0x188586=_0x93a9bf['referenceUrl'][_0x124569(0x2f6)]()[_0x124569(0xd7b)](_0x124569(0x4e2))?'reference.txt':_0x124569(0x46d);_0x549bd9=await fetchFileFromUrl(_0x93a9bf[_0x124569(0x2a0)],_0x188586);}await handleGenerateFromBlueprintWithFiles(_0x2c4c6b,_0x549bd9);}catch(_0x287ed9){console[_0x124569(0x300)](_0x124569(0x3ba),_0x287ed9),showMessage(_0x124569(0xcac)+_0x287ed9['message']),_0x4bd998[_0x124569(0x820)][_0x124569(0xc24)](_0x124569(0x330));}}function getDirectDownloadUrl(_0x31eb1d){const _0x3bd34a=_0x31eb1d['match'](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x3bd34a&&_0x3bd34a[0x1])return'https://drive.google.com/uc?export=download&id='+_0x3bd34a[0x1];return _0x31eb1d;}async function fetchFileFromUrl(_0x1c057c,_0x4f5dce){const _0x114471=_0x1dbc7e,_0x25d61a=getDirectDownloadUrl(_0x1c057c),_0x392280=_0x114471(0x282)+encodeURIComponent(_0x25d61a),_0x9e6db7=await fetch(_0x392280);if(!_0x9e6db7['ok'])throw new Error(_0x114471(0x218)+_0x9e6db7[_0x114471(0x600)]+')');const _0x189458=await _0x9e6db7[_0x114471(0x7c9)](),_0x2acf17=await new Promise((_0x4e74f9,_0xc3d9df)=>{const _0x37fad7=_0x114471,_0x4018bf=new FileReader();_0x4018bf['onloadend']=()=>_0x4e74f9(new Uint8Array(_0x4018bf[_0x37fad7(0xd6a)])),_0x4018bf[_0x37fad7(0x8bc)]=_0xc3d9df,_0x4018bf[_0x37fad7(0x504)](_0x189458[_0x37fad7(0x45e)](0x0,0x4));});let _0x4a0bba='';const _0x1116bd=new TextDecoder()[_0x114471(0x782)](_0x2acf17);return _0x1116bd==='%PDF'?(_0x4a0bba=_0x114471(0x932),console[_0x114471(0x545)](_0x114471(0xdec))):(_0x4a0bba=_0x114471(0x7fc),console['log'](_0x114471(0x598))),new File([_0x189458],_0x4f5dce,{'type':_0x4a0bba});}async function handleGenerateFromBlueprintWithFiles(_0x58ad96,_0x3e144c=null){const _0x41b44f=_0x1dbc7e;if(!_0x58ad96){showMessage(_0x41b44f(0xbab));return;}const _0x5893e2=document[_0x41b44f(0x722)]('loader'),_0x30dc93=document['getElementById'](_0x41b44f(0x7bb));_0x5893e2[_0x41b44f(0x820)][_0x41b44f(0xda2)]('hidden'),document[_0x41b44f(0x722)](_0x41b44f(0x59e))[_0x41b44f(0x820)][_0x41b44f(0xda2)](_0x41b44f(0x330)),document['getElementById']('generated-quiz-container')['innerHTML']='';try{_0x30dc93['textContent']=_0x41b44f(0xe7b);const _0x859403=await new Promise((_0x39c5a1,_0x55cd5e)=>{const _0xcfdfa7=_0x41b44f,_0x275f8a=new FileReader();_0x275f8a[_0xcfdfa7(0x479)](_0x58ad96),_0x275f8a[_0xcfdfa7(0x263)]=()=>_0x39c5a1(_0x275f8a[_0xcfdfa7(0xd6a)][_0xcfdfa7(0x91b)](',')[0x1]),_0x275f8a[_0xcfdfa7(0x8bc)]=_0x55cd5e;}),_0x1789ea=[];if(_0x3e144c){_0x30dc93[_0x41b44f(0x2eb)]=_0x41b44f(0xe56);const _0x257ec3=await _0x3e144c[_0x41b44f(0x27d)]();_0x1789ea['push']({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'+_0x257ec3});}const _0x37484c=[{'text':_0x41b44f(0x9a6)},{'inlineData':{'mimeType':_0x58ad96['type'],'data':_0x859403}},..._0x1789ea];await handleGenerateFromBlueprint(_0x37484c);}catch(_0x49266d){console[_0x41b44f(0x300)](_0x41b44f(0xde4),_0x49266d),showMessage(_0x41b44f(0xcac)+_0x49266d[_0x41b44f(0x83d)]),_0x5893e2[_0x41b44f(0x820)][_0x41b44f(0xc24)]('hidden');}}async function handleLiveAnswer(_0x77176f,_0x36f7d4){const _0xeb5dd5=_0x1dbc7e;document['querySelectorAll']('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0xeb5dd5(0xb04)](_0x542204=>_0x542204[_0xeb5dd5(0xce0)]=!![]);const _0x59c8bd=_0x36f7d4[_0xeb5dd5(0xbd0)]||currentQuizData['quizType'];let _0x44f3c0=![],_0x482e21=_0x77176f;if(_0x59c8bd===_0xeb5dd5(0x432)){const _0x16a619=(_0x77176f||'')[_0xeb5dd5(0x992)]();_0x44f3c0=await gradeShortAnswer(_0x16a619,_0x36f7d4);}else{if(_0x59c8bd==='multiple_choice')_0x44f3c0=_0x77176f===_0x36f7d4[_0xeb5dd5(0x7e1)];else{if(_0x59c8bd===_0xeb5dd5(0x3f7)){const _0x2c0c59=_0x36f7d4['correctAnswer'];_0x44f3c0=_0x77176f===0x0&&_0x2c0c59||_0x77176f===0x1&&!_0x2c0c59;}else{if(_0x59c8bd===_0xeb5dd5(0xd24)){const _0x21c811=_0x36f7d4[_0xeb5dd5(0xb68)][_0x77176f];_0x44f3c0=_0x21c811===_0x36f7d4['correctResponse'],_0x482e21=_0x21c811;}}}}const _0x5b344a=doc(db,_0xeb5dd5(0xd90)+appId+_0xeb5dd5(0xb80),currentLiveGameId),_0x93f94c={};_0x93f94c[_0xeb5dd5(0x8f4)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x93f94c[_0xeb5dd5(0x8f4)+currentStudentName+_0xeb5dd5(0x4ad)]=_0x44f3c0,_0x93f94c[_0xeb5dd5(0x8f4)+currentStudentName+'.lastAnswerIndex']=_0x59c8bd===_0xeb5dd5(0x432)||_0x59c8bd===_0xeb5dd5(0xd24)?null:_0x77176f,_0x93f94c[_0xeb5dd5(0x8f4)+currentStudentName+_0xeb5dd5(0x2b6)]=_0x482e21,_0x93f94c['players.'+currentStudentName+'.submittedAt']=serverTimestamp(),_0x93f94c[_0xeb5dd5(0x8f4)+currentStudentName+_0xeb5dd5(0x331)]=![],await updateDoc(_0x5b344a,_0x93f94c),liveGameView['innerHTML']=_0xeb5dd5(0x7ca);}function _0x49d1(){const _0x5179dc=['NUMBER','.remove-parallel-shortcut-from-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','manual-blueprint-modal','q-image-container-','md:col-span-1','.topic-row','border-green-700','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-view-title','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','.status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','[data-topic-id]','blueprintShortcuts','correct','screen','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','change','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','พื้นที่ผิวรูปทรงสามมิติ','จุด\x20เส้น\x20ระนาบ','.bp-unlink-quiz-btn','modal-confidence-scoring-checkbox','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-gray-500','\x22\x20ออกจากคลังนี้?','Error\x20fetching\x20student\x20rankings:','blueprint-upload-input','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','export-leaderboard-image-btn','delete','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','additional-parallel-shortcuts-modal','cancel-quiz-edits-btn-footer','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','bulk-shuffle-select','padStart','กำลังดึงไฟล์อ้างอิงจากลิงก์...','itemId','px,\x20','copy','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','Error\x20joining\x20sync\x20game:','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','Error\x20linking\x20quizzes:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','getItem','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','minHeight','leaderboard-quiz','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','text-red-300\x20hover:text-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','visible','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','text-green-800','.move-shortcut-menu-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trail-tool-btn','กรุณาเลือกโปรเจคก่อน','.edit-hidden-parallel-shortcut-btn','ส้มตำปูปลาร้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','open-scratchpad-btn','กรุณาเลือกชื่อของคุณ','admin-dashboard','has','.remove-file-shortcut-from-tab-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','ฟังก์ชันสัมพัทธ์\x20(rational)','thead','isRemedial','stroke','%</span>','bp-modal-num-questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','totalPoints','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20','กำลังอ่านไฟล์อ้างอิง...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','timed','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','ยังไม่สร้าง','blueprintUrl','approx','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mjx-container','realScore','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','Failed\x20to\x20generate\x20practice\x20test:','.delete-file-shortcut-btn','คัดลอกแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ค่าคลาดเคลื่อนของการวัด','_opt1\x22\x20name=\x22question','\x20(p=','questionText','เพนกวินไฟ','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','\x22><span\x20style=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','</div></div>','temp-loader-results','กรุณาป้อนหัวข้อสำหรับใบงาน','7oZyFFY','ข้อต่อไป','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','cancel-export-pdf-btn','.shortcut-btn','insertBefore','\x20รายการสำเร็จ!','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการติดดาว','กำลังอ่านไฟล์\x20Test\x20Blueprint...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','starred-project','leaderboard_','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','แบบปรนัย\x204\x20ตัวเลือก','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','\x20ตัวเลือก)','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','num-choices','results','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x20จุดเรียบร้อยแล้ว','ownerSVGElement','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','</div>\x0a</div>\x0a','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','px)\x20scale(','link-topic-input','text-gray-100','ความคล้ายของรูป','24GdxJCu','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตะวันฉาย','เปลี่ยนชื่อโปรเจคสำเร็จ','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','ค่าความจริง/ตารางค่าความจริง','.shortcut-tab-btn','cancel-bp-settings-btn','สลับไปโหมดนักเรียน','every','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','กำลังสร้างแบบทดสอบจากหัวข้อ...','then','<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','</tbody></table></div>','ดีเทอร์มิแนนต์','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกรหัสแล้ว!','shortcuts','จอมเวทย์ขนมหวาน','ฮิสโตแกรม','offset','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','ฟังก์ชันพหุนาม','generate-from-blueprint-btn','#DBEAFE','ไม่ระบุ','\x5csqrt{$1}','.bp-create-content-quiz-btn','secondChance','<li\x20class=\x22','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','.project-card-content','instructions','podium','.subTopic','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-passcode-btn','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','modal-timer-mode-select','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','lesson-plan-title','p-2\x20bg-black/10\x20rounded-md','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','activeGameSession','fill_in_no_choices','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','file.pdf','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','closest','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','editable-quiz-topic','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','removeEventListener','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','สอบปกติ','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','ใช่','bg-red-50','loader','ไม่พบแบบทดสอบในระบบเลย','เกิดข้อผิดพลาดในการส่งคำตอบ','solution','bg-green-100\x20font-bold','blueprint-input-area','.view-bp-lesson-btn','file-shortcut-modal-title','student-quiz-topic','ลำดับเรขาคณิต\x20(GP)','student-team-selection-view','ปรับเพิ่ม/ลดเป็นร้อยละ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนเต็ม','\x0a\x20\x20\x20\x20','</label></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x5cneq','fixedData','left','ไม่มีผู้ตอบตัวเลือกนี้','start-sync-game-btn','autoTable','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','mouse','\x20สำเร็จ','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','getBoundingClientRect','\x22\x20สำเร็จ!','</tr>','checkbox','scratchpad-options','reset-project-order-btn','flex\x20flex-col\x20gap-2','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x22\x20name=\x22question','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)</button>','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','splice','ระยะจากจุดถึงเส้นตรง','size','additional-shortcuts-list','.ai-content\x20li','ไม่พบข้อมูลเกม','Error\x20generating\x20parallel\x20test\x20from\x20bank:','not_generated','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','restore','พบข้อสอบ\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac{$1}{$2}','</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','promptFeedback','export-lesson-pdf-btn','getAttributeNS','G-V90KRM0L63','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22text-gray-400\x20ml-1\x22\x20title=\x22คะแนนจริงเป็น\x200\x22>😥</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Buy\x20Item\x20failed:\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','\x20คน):\x0a\x0a','กระต่ายตื่นตูม','-options','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','confidence-mode-select','teachingContent','#E0E7FF','.file-shortcut-tab-btn','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','cancel-confidence-btn','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','admin-try-quiz-btn','standardTopic','ซามูไรสายเดี่ยว','(พยายามอยู่)','transition-all','scrollY','comeback_king','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การยืนยันตัวตนล้มเหลว','Error\x20pairing\x20quizzes:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keyConcepts','interesting-stats-wrapper','(^|[^\x5c\x5c])\x5cb','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','substr','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','blueprint-topics-list-container','scores-tab-btn','.pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','lower_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่าน','shortcutOrder','complexityValue','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-input-area','กุ้งเต้นแร้งกา','ไอติมทอด','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','student-progress-view','<span\x20class=\x22font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','question','save-quiz-btn','groups','analytics-tab-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','.parallel-shortcut-btn','close-comparison-modal-btn','สร้างแบบทดสอบ','text-yellow-300','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','webkitRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','scratchpad-close-btn','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','<span\x20title=\x22ใช้:\x20โอกาสครั้งที่สอง\x22>🔁</span>','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x20(Points\x20สูงสุด)\x22>👑</span>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','findIndex','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','<div\x20class=\x22flex-1\x22></div>','modal-adaptive-quiz-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','cancel-game-start-btn','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','auto-fix-latex-btn','sort','</span>','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-500\x20hover:bg-blue-600\x20text-white','scratchpad-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','กรุณาเลือกคำตอบ','</tbody></table>','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','handleGenerateAndShowLesson','การจัดกลุ่มข้อมูล','FIRST_TRY_ACE','bg-green-100\x20text-green-800','</td></tr>','เกิดข้อผิดพลาดในการใช้ตัวช่วย','สมการค่าสัมบูรณ์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','onload','บันทึกโปรเจค\x20\x22','end-team-quiz-btn','ย้ายแบบทดสอบสำเร็จ','ความแปรปรวน','คนโสด','results_','.quiz-bank-try-btn','bg-gray-500','\x22\x20data-target-tab-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','blueprint-project-list','mode-switcher-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','ใช้ไอเทม\x20','ไม่ได้ตอบ','45305BtwJXL','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','word-break:\x20break-all;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','Error\x20fetching\x20lesson\x20content:','fa-rocket\x20text-purple-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','text','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','ตรวจทานเฉลยเสร็จสิ้น!','math-topics-checkbox-container','bulk-quiz-settings-modal','https://corsproxy.io/?','</p>','start-game-btn','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','reference-pdf-upload','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','parallel-shortcut-container','.tab-name-display','highlighter','นักล่าฝัน','previousElementSibling','cos','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','.topic-name-display','wakeLock','สถานะไม่ชัดเจน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','prev-question-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','pow','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','create-project-btn','Could\x20not\x20fetch\x20reference\x20file:','referenceUrl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Unexpected\x20API\x20response\x20structure:','\x22><p\x20class=\x22font-semibold\x22>','27411472','👻\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้เลือกใช้ไอเทมนี้ใส่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','พิมพ์ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','</div></div></div>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','\x20|\x20ID:\x20',':</span><span>','Error\x20deleting\x20shortcut:','confirm-bulk-quiz-settings-btn','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!',';\x22\x20data-id=\x22','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','competition','shuffledQuiz','.lastAnswerValue','publicLeaderboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','รักแรกพบ','นักประดิษฐ์','team-quiz-topic','\x20|\x20','สร้างแบบทดสอบปรนัย','blockReason','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','getBBox','some','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','Error\x20saving\x20game\x20results:','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','text-green-700\x20bg-green-100','comparison-modal','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','.color-palette-btn','width\x2060s\x20linear','text-indigo-700','source_document.txt','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ฟังก์ชันยกกำลัง','show_results_only','parentElement','topic','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x20ชิ้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','สุดยอด!\x20ตอบถูกทุกข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','quiz-form','generated-quiz-actions','topicId','wasConfident','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','Error\x20generating\x20worksheet:','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','student-quiz-area','ดูผลสรุปสุดท้าย','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','player-list-lobby','cancel-create-project-btn',')</span></div>','ภูเขา','⏳\x20ซื้อเวลา','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','confidenceMode','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','textContent','จันทร์เจ้า','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','parallel-shortcut_','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22question','admin','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','bank-quiz-list','pointerType','toLowerCase','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finishReason','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','lineJoin','pen','.sort-indicator','พื้นที่ใต้กราฟ/ระหว่างกราฟ','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','querySelectorAll','error','lessonPlan','จับคู่เพื่อเปรียบเทียบผล','typesetPromise','การบวกทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','กฎของโคไซน์','student-project-leaderboard-table-body','_new','\x22\x20value=\x22true\x22\x20','enable-passcode-checkbox','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','newCorrectIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','closePath','.buy-item-btn','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','student-rankings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','add-shortcut-tab-btn','คุณแน่ใจว่าต้องการลบแท็บนี้?','text/csv;charset=utf-8;','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','questions_only','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','blueprint-project-manager-view','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','file-topics-list','เลือกโปรเจคเพื่อบันทึก','(กำลังไล่ตาม)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','commonMistakes','summary_chart','\x20to\x20blueprint\x20topic\x20','<p\x20class=\x22text-xl\x22>','ธอร์ค้อนบิน','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','pre-test-checkbox','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','hidden','.isScored','quiz-id-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','matching','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','far\x20fa-star','.bp-try-btn','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x5cpm','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','API\x20call\x20failed','.delete-svg-btn','gradeLevel','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','1511680dCCniy','จำนวนเต็มบวก','ส่วนเบี่ยงเบนมาตรฐาน','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','.group\x5c/dropdown-file','ไม่สามารถเริ่มเกมได้','element','move','input[name=\x22syncVariant\x22]','#ffffff','export-leaderboard-excel-btn','getElementsByTagName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cge','live-race','clientX','/submissions','กฎบวกและกฎคูณ','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','fas\x20fa-star\x20text-yellow-500','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','เน็ตไอดอล','กรุณาป้อนรหัสแบบทดสอบ','จำนวนเชิงซ้อน\x20(เสริม)','เปลี่ยนชื่อแบบทดสอบสำเร็จ','min','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','student-name-select','\x20<span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20ml-auto\x22>คุณ</span></div>','bp-quiz-settings-btn','_opt1\x22>ไม่ใช่</label></div>','</span><span\x20class=\x22font-bold\x22>','จำนวนคละ','flex','confirm-team-players-btn','มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)','presentation-ai-result','values','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','find','perfect_score','.topic-actions-view','whole_quiz','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','mixed','border-red-700','text-black','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','file-upload-input','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','currentTarget','Team\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','transition','เกิดข้อผิดพลาดในการใช้ไอเทม','API\x20Error\x20Response:','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','contains','\x20สำเร็จ!','Enter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-game-start-modal','resize','รากที่สองและที่สาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-quiz-type-select','แฟนทิพย์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-input','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','querySelector','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','คนคุย','shortcut-name-input','comparison-overall-tab','fas\x20fa-user-edit','<span\x20title=\x22ใช้:\x20ตัด\x201\x20ตัวเลือก\x22>✂️</span>','bg-gray-400','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','.delete-hidden-shortcut-btn','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนติดลบ\x22>⚠️</span>','</p><div>','name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','All\x20groups\x20have\x20finished.\x20Ending\x20game.','คำอธิบาย...','%)\x0a','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบ:\x20','แก้ไขข้อนี้','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.application-options\x20button','กรุณาพิมพ์คำตอบ','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-answer-btn','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button></div>','lesson-sections-container','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','helvetica','results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-quiz-bank-btn','scale','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20processing\x20shortcut\x20click:','บันทึกผลการเล่นเกมของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','topic-tab','document','#FFFFFF','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','timeBonusThisQuestion','numeric','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/syncGames','cancel-quiz-bank-btn','totalQuestions','timer-bar','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','getTime','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','📊\x20สถิติ:\x20ยังไม่มีใครตอบข้อนี้เลยครับ!','Error\x20listening\x20for\x20projects:','wasForced','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','max','quiz-editor-modal','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ยกเลิกการใช้ไอเทม','eraser-tool-btn','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','lesson-plan-content','Successfully\x20removed\x20','</button>','interesting-stats-container','now','lowerGroupNames','retake-quiz-loop-btn','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','insurance','visibilityState','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','passingScore','.live-answer-btn','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','quiz-editor-questions-container','line-height:\x201.3;\x20min-width:\x200;','#26890c','quadraticCurveTo','border-gray-200','อสมการค่าสัมบูรณ์','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','gain','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','.edit-parallel-shortcut-btn','true_false','ตัวเลือก\x20ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x20ชุดสำเร็จ!','หมาป่าเดียวดาย','toISOString','bg-green-500\x20hover:bg-green-600\x20text-white','\x22.\x20Ideal\x20Answer:\x20\x22','\x22\x20data-q-type=\x22','className','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-green-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🔁\x20โอกาสครั้งที่สองทำงานอยู่!</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','nickname-input','.totalPoints','qType','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','.verification-result-editor','เหมียวขี้เซา','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','select','ดอกเบี้ยอย่างง่าย','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20submission:','สัญกรณ์วิทยาศาสตร์','project-search-input','#F59E0B','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','.ai-fix-question-btn','#add-question-editor-btn','ลิมิต','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','analyze-strengths-btn','bp-modal-difficulty-level-select','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','บันทึกการแก้ไข','\x20pointer-events-none\x22>','latestScore','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','documentElement','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)\x20','not-found','input[type=\x22text\x22]','<button\x20data-shortcut-id=\x22','parallel-shortcut-editor-modal','moveTo','bg-indigo-600\x20hover:bg-indigo-700','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-start-quiz-id','.quiz-bank-delete-btn','Error\x20starting\x20live\x20race:','input[type=\x22radio\x22]:checked','short_answer','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','none','Error\x20saving\x20parallel\x20shortcut\x20config:','option','match','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','Error\x20deleting\x20custom\x20topic:','📊\x20สถิติการตอบ\x20(จากผู้เล่น\x20','default-','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','duration-300','sync','กำลังค้นหากิจกรรม...','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','fileShortcutTabs','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','show_results_and_answers','Error\x20saving\x20parallel\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20renaming\x20quiz:','.auto-resize-textarea','PROMPT_PLACEHOLDER','uid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','ondragstart','active','use-powerup-wagerMultiplier','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','print','deg','พิสัย','.delete-student-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dispatchEvent','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','progress-project-select','Error\x20updating\x20quiz\x20settings:','slice','.toggle-actions-btn','ไม่สามารถเพิ่มนักเรียนได้','<span\x20class=\x22sort-indicator\x20ml-2\x22>','shuffle','.delete-question-editor-btn','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','submittedAt','ต้นฉบับ\x202','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','fixed','Failed\x20to\x20generate\x20lesson:','fill','text-indigo-600','reference.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','add-parallel-shortcut-btn','original-mode-checkbox','\x22...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-file-shortcut-tab-btn','readAsDataURL','confidence-scoring-toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x22\x20x','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','message-modal','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','Error\x20clearing\x20linked\x20quiz:','project-id-display','confidence','price','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','scheduled','bg-red-700\x20text-white\x20font-bold','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','bulk-results-display-select','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','ซื้อ\x20\x22','bp-modal-question-complexity-select','ไม่พบข้อมูลโปรเจค','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20','modal-message','bg-blue-100','numQuestions','Error\x20showing\x20quiz\x20detail\x20view:','getDocument','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','open-market-btn','.eraser-size-btn','.quiz-bank-move-btn','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','isConfidenceScoringEnabled','\x0a---\x0a','globalCompositeOperation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','worksheet-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','confirm-quiz-settings-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','ส่วนเบี่ยงเบนเฉลี่ย','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','.lastAnswerCorrect','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','Error\x20saving\x20user\x20preference:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','separate-by-content-from-file-checkbox','#D1FAE5','save-bp-settings-btn','การเข้าตลาดมืดครั้งต่อไปในข้อนี้\x20จะเสียค่าธรรมเนียม\x201\x20Point\x20คุณต้องการเข้าหรือไม่?','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','ON_FIRE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','ข้าวมันไก่พิเศษ','pop','.score','$1\x5c%','bp-topic-list-container','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','total','.draggable-text','perfect_score_status','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','questionDisplayedAt','set','button[type=\x22submit\x22]','mousemove','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20💰\x20โหมดเดิมพันทำงานอยู่!\x20(ถ้าผิดเตรียมกระโดดตบ\x2010\x20ครั้ง!)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span></div>','\x22\x20name=\x22question_single\x22\x20value=\x22','พาราโบลา','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','.remove-shortcut-from-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่ม\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','ไม่ใช่\x20/\x20ผิด','dimmed','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','ฟังก์ชันค่าสัมบูรณ์','[data-topic-id=\x22','ทฤษฎีบทพีทาโกรัสและการประยุกต์','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','setAttributeNS','\x20/\x20','</p></div>','leaderboard-quiz-tab-content','.txt','upperGroupResponders','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','112kCoaJF','applicationData','presentation-explanation','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','.color-palette-popup','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','not_confident','comparison-individual-content','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','verify-answers-btn','\x22\x20data-topic=\x22','fa-crown\x20text-yellow-500','circle','onSecondChance','quizType','join-live-game-btn','เปิดใช้งาน','text-yellow-700','open-global-live-btn','applicationHTML','.project-card-container.opacity-50','undefined','.question-editor-item:last-of-type','\x22\x20data-pre-test-id=\x22','post-test','nextElementSibling','แก้ไขชื่อหัวข้อย่อย:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','appendChild','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','readAsArrayBuffer','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','redo-btn','anon-settings-container','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','round','use-powerup-secondChance','line-through\x20text-red-700','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อ\x20','bg-teal-500\x20hover:bg-teal-600\x20text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','save','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','นักกีฬา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','grid','ตัวประกอบและตัวประกอบเฉพาะ','Error\x20saving\x20file\x20shortcut\x20config:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20verifying\x20answers\x20in\x20editor:','Error\x20deleting\x20quiz:','Error\x20updating\x20old\x20quizzes:','originalQuestionText','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','wager-slider','/public/data/customMathTopics','-\x20ข้อ\x20','resultsDisplay','application','Error\x20joining\x20activity:','text-yellow-800','Leaderboard\x20update\x20transaction\x20failed:\x20','ออฟฟิศซินโดรม','confirmation-message','---\x20[คำถามใหม่]\x20---','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','file-shortcut-container','.regenerate-question-editor-btn','type','parent','\x5cdiv','center','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-file-shortcut-menu-btn','ความน่าจะเป็นแบบมีเงื่อนไข','\x22\x20value=\x22false\x22\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-admin-login-btn','.shortcut-list-item','\x20(สำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','API\x20call\x20failed\x20with\x20status:\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','latestSubmittedAt','ไม่พบข้อมูลข้อสอบหลังเรียน','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','log','date_asc','คำถามถัดไป','manual_release','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pathname','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','leaderboard-quiz-tab-btn',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','.delete-hidden-file-shortcut-btn','OBJECT','empty','json','input[type=\x22checkbox\x22]','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','.start-game-btn','lesson-loader-text','wager-modal','parallel-default-2','เกิดข้อผิดพลาดในการบันทึกลำดับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','มุมพิเศษ\x2045°-45°-90°','input[type=\x22radio\x22][value=\x22','bp-project-title','การลบ','tooltipTarget','รอเปิด','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Re-grade\x20process\x20failed:','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','close-comparison-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','ไม่พบข้อมูลผู้ใช้','modal-timer-duration-input','Error\x20adding\x20topic:','ฟังก์ชันแบบชิ้นส่วน','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','.answered','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','displayName','</span>\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','export-pdf-btn','คณิตการเงิน/บูรณาการ','mean','back-from-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ไม่พบข้อมูลหัวข้อที่จะบันทึก','Error\x20loading\x20blueprint\x20projects:','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','student-team-join','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','shortcutId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x22\x5cn','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','studentName','project-quizzes-list','🛡️','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','overallGroups','arrayBuffer','[data-field=\x22subTopic\x22]','onclick','handleGenerateQuizFromBlueprintTopic','bg-black/20','projectSort','.move-shortcut-dropdown','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','sync-timer-duration-input','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','createdBy','bg-red-100','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','quiz-generation-area','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','text-white','input[type=\x22checkbox\x22]:checked','2-digit','reference_onet.pdf','_opt','AI\x20Formula\x20Fix\x20Error:','beforeend','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','/public/data/practiceBank','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-dumbbell\x20text-gray-700','file-default-2','fas\x20fa-bookmark','global-quiz-count','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','/preferences/main','string','หัวข้อที่สร้างเอง','bg-emerald-100','การคูณทศนิยม','ความต่อเนื่อง','เต่าสายฟ้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่ผ่าน','/public/data/blueprintProjects','sync-timer-countdown','องค์ประกอบของฟังก์ชัน','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','bank-tab','/lessons','close-market-btn','การปัดเศษและประมาณค่า','timer-duration-label','อนุพันธ์:\x20กฎลูกโซ่','ceil','postTScore','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','exists','file-tab','gameData','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','การแยกตัวประกอบ','idealAnswer','classWeaknesses','generate-from-file-btn','indexOf','สร้างคำถามใหม่\x201\x20ข้อ\x20','รหัสไม่ถูกต้อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','sara','finished','ตรวจคะแนนใหม่\x20','fullscreenElement','<button\x20data-id=\x22','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5csum','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','copy-quiz-id-btn','ต้นฉบับทั้งหมด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','.group\x5c/dropdown','ยกเลิกการเชื่อมโยงสำเร็จ','fa-pen','file-default-','กรุณาวาง\x20URL\x20ของบทความก่อน','เพื่อนสนิท','rgba(79,\x2070,\x20229,\x200.8)','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','\x5ctimes','เพิ่มปุ่มลัดใหม่','Test\x20Blueprint','แอบชอบ','no-projects-msg','แก้ไขสูตรคณิตศาสตร์\x20','practiceProblems','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','การคูณเศษส่วน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','Error\x20generating\x20lesson\x20plan:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','rows','multiply','ค่าเฉลี่ย','Error\x20fetching\x20quiz\x20settings:','dragend','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','bg-red-100\x20text-red-800','modal-close-btn','status','input[name=\x22syncVariant\x22]:checked','tabId','quiz-search-input','additional-file-shortcuts-modal','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','</div>','อสมการเชิงเส้น','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','test','\x20คน\x20(','.edit-question-btn','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','ย้ายแบบทดสอบไปโปรเจคอื่น','border-green-300\x20bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','topic-bank-list','bp-modal-passing-score-input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','shortcutIds','pen-tools-group','\x20in\x20all\x20blueprint\x20projects.','webkitExitFullscreen','...\x22)?','index','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','หมดเวลาสำหรับข้อนี้!','.live-summary-tooltip.visible','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','confident','พีชคณิตและฟังก์ชัน','Auto-linking\x20new\x20quiz\x20','มุมพิเศษ\x2030°-60°-90°','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','list-view-btn','move-quiz-modal','pointContent','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดวงดาว','.bp-create-onet-quiz-btn','text-input-area','export-tutor-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','บังคับมั่นใจ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','tab_','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-view-analysis-btn','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','worksheet-topic-input','\x20คู่\x20','generate-from-topic-btn','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x20คะแนน\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-project-select','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','startTime','scratchpad-canvas','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','topic-input','baseVal','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','parallel-test-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20editing\x20topic:','manual-bp-grade-level','\x0a\x20\x20\x20\x20\x20\x20</div>','ai-quiz-generator-v3','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','on_fire','disabled\x20bg-gray-400\x20cursor-not-allowed','default-2','\x22\x20name=\x22confidence','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','clearRect','group','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contents','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','modal-confidence-mode-container','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','close-lesson-plan-modal-footer-btn','parts','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','FileReader\x20error:','point','afterend','newOptionsPayload','.ideal-answer-input,\x20.correct-response-input','</body></html>','-tab','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','.question-editor-item[data-q-index=\x22','shortcut-editor-modal','.shortcut-list-item:not(.opacity-50)','.start-presentation-list-btn','selectedTopicNames','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','\x22>ไม่ใช่</p>','.quiz-bank-checkbox:checked','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อยู่ในสาระการเรียนรู้ใด:','ความสัมพันธ์ของมุม','พื้นที่วงกลม/ส่วนของวงกลม','powerups.','createObjectURL','.ai-content\x20blockquote','เน็ตช้า','bp-modal-shuffle-setting-select','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','source_document.pdf','parse','mainTopics','<div\x20style=\x22','submissions','AI\x20request\x20was\x20blocked.\x20Reason:\x20','ลบโปรเจคสำเร็จแล้ว','bp-modal-include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','close-student-rankings-btn','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','student-view','data','386870IbaqKn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เศรษฐีดูไบ','bg-black/10','Failed\x20to\x20apply\x20jinx:','undo-btn','dim-overlay','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','anonymous','<button\x20data-tab-id=\x22','project-sort-select','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','number','student-result-area','generate-from-text-btn','insertAdjacentHTML','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default','save-settings-btn','ตั้งเวลา\x20(เปิด)','<p><strong>คำตอบของคุณ:</strong>\x20','isScored','</span></td>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','passcode-error-msg','highlighter-tools-group','parallel-default-','request','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','authed_project_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','sync-player-list','bg-green-200','rename-quiz-modal','isForcedConfident','text-red-500\x20hover:text-red-700','Error\x20during\x20class\x20analysis:','AI\x20Fix\x20Error:','filter','Failed\x20to\x20apply\x20forceConfident:','ปวดหลัง','.compare-results-btn','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กัปตัน','กำลังวิเคราะห์หัวข้อ...','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','onblur','Refunded\x20','shuffleSetting','.group\x5c/dropdown-parallel','hasPerfectScoreBonus','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','.move-quiz-btn','sync-timer-duration-container','use-powerup-buyTime','div','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)\x20เพื่อเข้าตลาดมืดอีกครั้ง','\x20คะแนน</span></div>','image/png','dataIndex','fadeStartTime','<tr\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','topic-input-area','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','wheel','นักเขียน','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','ดีมาก','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','explanation','playerName','มัธยฐาน','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fa-shield-alt\x20text-gray-600','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','multiple_choice','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','Loaded\x20','geq','projectId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาสร้างบทเรียนก่อน','cancel-global-activity-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','</a>','\x20ชุด)</span>','???','ปลาทูคะนอง','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard','isAdaptive','กลุ่ม:\x20','globalSettings','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20project\x20name:','strategyScan','stepByStepExamples','697737iIZElW','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','fix-lesson-latex-btn','\x22\x20จำนวน\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','):\x20','playerIndex','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกโปรเจค','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','_blank','separate-by-content-checkbox','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','2LpSXrK','Error\x20updating\x20quiz\x20status:','classic','results-display-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.bp-live-btn','student-name-selection-view','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','suggestedAnswer','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Original\x20quiz\x20not\x20found','\x20link(s)\x20for\x20quiz\x20ID:\x20','พื้นที่สามเหลี่ยม','createdAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-center\x20gap-3\x20w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-market-btn\x22\x20class=\x22bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20shadow-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-store\x22></i>\x20ตลาดมืด\x20(มี\x20','oninput','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointermove','fill_in_the_blank','preventDefault','back-to-home-manual-release','\x20mb-2\x22>','.csv','firstScore','correctAnswer','incorrect','reveal-names-btn','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','outerHTML','fill_in_with_choices','Powerup\x20use\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-topics-list','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','cancel-file-shortcut-edit-btn','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','actions-container-','timerDuration','Error\x20unlinking\x20quiz:','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','quiz-bank-modal','00:00','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','ระยะทางและจุดกึ่งกลาง','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-presentation-btn','bg-[#EF4444]\x20text-white\x20font-bold','ผู้พิชิตดาว','\x20แล้ว!','timestamp','การกระจายและการจัดหมู่','ai-quiz-app-aefee.firebaseapp.com','bg-green-200\x20text-green-900','shuffle-setting-select','cancel-move-quiz-btn','pdf','touchstart','<br>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600\x20font-bold','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','admin-password-input','create-project-modal','attemptNumber','toLocaleDateString','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','game-start-mode','กำลังอัปเดตแบบทดสอบ\x20','cancel-manual-bp-btn','live-short-answer-input','true','dfrac','(หลังเรียน)\x20','attempts','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.delete-file-shortcut-tab-btn','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','.move-file-shortcut-dropdown','เกิดข้อผิดพลาดในการนำผู้เล่นออก','confidence-modal','PERFECT_SCORE','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','input[name=\x22drill_answer\x22]:checked','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','end-game-btn','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','.edit-file-shortcut-btn','setAttribute','การจัดหมู่\x20(Combination)','parseFromString','student-reading-area','table','isJinxed','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','quiz-type-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20style=\x22','blueprint-settings-modal','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','generated-quiz-container','สร้างแล้ว','decode','commit','Error\x20updating\x20project\x20color:','start-live-race-generated-btn','.highlighter-color-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','บันทึกการตั้งค่าแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','questionIndex','quiz-leaderboard-table','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','fromCharCode',')\x22><span\x20style=\x22','อนุพันธ์:\x20ผลคูณ/ผลหาร','ondblclick','สร้างโปรเจคสำเร็จ!','Error\x20generating\x20from\x20parallel\x20test\x20file:','next-question-btn','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-blue-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🛡️\x20ประกันภัยทำงานอยู่!\x20(ตอบผิดไม่เสียคะแนน)</div>','parallelShortcutTabs','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','wager-all-in-btn','สมการราก\x20(radical)','save-bp-reference-btn','🌗\x2050:50','imageCode','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','summaryContent','includeImages','#parallel-shortcut-tabs-nav\x20.tab-name-input','learningGaps','generated','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','bg-green-500','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','lesson-loader','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','.topic-name-input','Error\x20saving\x20blueprint\x20project:','.move-parallel-shortcut-item','.flex.justify-between.items-center','setFont','isDefault','การลบทศนิยม','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','timerMode','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','แก้ไขปุ่มลัดจากไฟล์','confirm-confident','<li>','พื้นที่สี่เหลี่ยม','\x20quizzes\x20into\x20global\x20cache.','results-table-container','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','topics','loader-text','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','lesson-view-content','market-timer-bar','removeItem','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','show-leaderboard-btn','/public/data/syncGames/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','จัดการ','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','blob','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','fiftyFifty','575268OjdLiL','อัปเดตการตั้งค่าของแบบทดสอบ\x20','สมมาตร\x20(แกน/จุด)','manage-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','pointerup','.delete-shortcut-btn','โดเมนและเรนจ์','onchange','get','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','Error\x20in\x20handleApiCall:','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','MathJax\x20typeset\x20error\x20(analytics):','Error\x20updating\x20sort\x20preference:','นอนไม่พอ','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-delete-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','correctAnswerIndex','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','เงินงวด\x20(อนุกรมเงินงวด)','ไม่สามารถโหลดคลังข้อสอบได้','ฟังก์ชันเชิงเส้นและกราฟ','อัปเดตพฤติกรรมสำหรับ\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','presentation-scratchpad-btn','.linkedQuizId','โจรสลัดอวกาศ','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','ต้นฉบับ\x201','question-analytics-container','score','เกิดข้อผิดพลาดในการซื้อ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22pin-project-btn\x20','fa-user-astronaut\x20text-blue-700','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','bg-red-500','inactive','ไม่พบเอกสารการส่งงานของ\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','answeredCurrentQuestion','\x22\x20สำเร็จ','เกิดข้อผิดพลาด','text/plain','.quiz-result-card','student','quizId','responseSchema','Error\x20creating\x20project:','.bp-game-btn','smooth','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20','/public/data/quizzes','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ยังไม่เต็มนะ','abs','.bp-create-topic-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','POST','แปลงร่าง','save-visibility-settings-btn','user-id-display','show_pass_fail_only','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','confidence-scoring-checkbox','projectSortOrder','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','files','update','touchend','use-powerup-insurance','file-shortcut-name-input','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','localeCompare','classList','hint-btn','font-bold\x20text-red-700\x20line-through','live-game-view','ทำคะแนนเต็มในการทำครั้งแรก','clientY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','all','</td>','getScreenCTM','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<div\x20class=\x22space-y-4\x22>','circ','project-passcode-modal','Error\x20starting\x20sync\x20game:','scrollIntoView','Error\x20loading\x20quiz\x20for\x20student:','toDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','confirm-manual-bp-btn','อกหัก','manage-tab-content','analytics-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ลบแบบทดสอบสำเร็จแล้ว','Error\x20saving\x20quiz:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','translate(','.topic-selection-btn','scores','เกิดข้อผิดพลาดในการดึงข้อมูลสถิติ','close-additional-parallel-shortcuts-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','คะแนน','text-indigo-800','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','bg-yellow-300\x20text-yellow-900\x20font-bold\x20border-2\x20border-yellow-500','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','freeMarketEntryUsed_q','เกิดข้อผิดพลาดในการสร้าง:\x20','ถูก','replace','Error\x20saving\x20settings:','.delete-custom-topic-btn','.delete-hidden-parallel-shortcut-btn','passcode','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มี','รอผู้ควบคุมไปข้อต่อไป...','earned-badges-container','เกิดข้อผิดพลาดในการเปลี่ยนสี','download','Blueprint\x202','\x22>ใช่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lesson-view-modal','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show-results-btn','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','ไม่พบข้อมูลการจับคู่','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','newOptions','stem','rgba(79,\x2070,\x20229,\x201)','global-activity-modal','Error\x20displaying\x20blueprint\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','<div\x20class=\x22flex\x20items-center\x20gap-2\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ใช่\x20/\x20ถูก','modal-timer-duration-label','visibilitychange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','sqrt','file-shortcut-url-input','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','กิจกรรมสิ้นสุดลงแล้ว','กฎของไซน์','selected-answer-index-hidden-wager','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','additional-shortcuts-modal','Error\x20processing\x20parallel\x20shortcut\x20click:','ยกเลิกการจับคู่สำเร็จ','sum','/public/data/projects/','stdDev','questions','startsWith','subTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','save-quiz-edits-btn','$$$1$','sync-short-answer-input','.cancel-edit-topic-btn','.pin-project-btn','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','Error\x20saving\x20shortcut:','\x20รายการ...','analytics','preTScore','next-sync-question-btn','close','.generate-content-btn','rgba(16,\x20185,\x20129,\x200.7)','ความคาดหมาย\x20(Expected\x20value)','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','.unpair-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','submit','generationConfig','href','destroy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','pairedQuizId','close-game-final-btn','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','เกิดข้อผิดพลาดในการลบ','export-word-btn','toFixed','mousedown','cancel-wager-btn','half_mark_status','live-player-list','toLocaleString','per_question','อัตราการเปลี่ยนแปลงทันที','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','code','\x22\x20class=\x22delete-project-btn\x20','<div>','กราฟฟังก์ชันตรีโกณ','endTime','ความชันและเส้นตรง','\x20จาก\x20','.edit-hidden-shortcut-btn','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','onerror','shadowBlur','สายหมอก','projectView','กรุณาตั้งชื่อแท็บใหม่:','scrollHeight','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','dblclick','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ชนิดของข้อมูลและการเก็บข้อมูล','getTextContent','times','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','จำนวนข้อ:','NEGATIVE_INFINITY','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','<tr>','ai-quiz-app-aefee','player-count','Failed\x20to\x20end\x20group\x20mode\x20game:','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','players','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','isStarred','export-pdf-modal','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','ฟังก์ชันราก\x20(root)','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','Attempting\x20to\x20save\x20game\x20results...','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','รายการนี้','key','บักแตงโม','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','```json','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','จำนวนนักเรียน','บทเรียนเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','ตัวแทนแห่งดวงจันทร์','close-lesson-plan-modal-btn','label','touches','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','players.','</h4>','เสือซ่อนเล็บ','สำหรับโปรเจค:\x20','height','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','shouldSaveResults','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','classStrengths','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','currentQuestionIndex','msExitFullscreen','overline','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','sync-timer-bar','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','deltaY','dragstart','Error\x20saving\x20visibility\x20settings:','check-presentation-answer-btn','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','Error\x20saving\x20questions\x20to\x20practice\x20bank:','project-title','ระยะเวลา\x20(นาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22bg-yellow-400\x20text-yellow-900\x20py-2\x20px-4\x20rounded-lg\x20font-bold\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1\x20transition-all\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>💰\x20คูณเดิมพัน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-red-600\x20text-white\x20text-xs\x20px-2\x20py-0.5\x20rounded\x20animate-pulse\x22>ผิด=โดดตบ\x2010\x20ครั้ง!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','isArray','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','isBlackMarketEnabled','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionStatus','use-powerup-fiftyFifty','cancel-bulk-quiz-settings-btn','Error\x20confirming\x20players:','ความเท่ากันทุกประการของสามเหลี่ยม','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','เกิดข้อผิดพลาดในการลบผลสอบ','split','cancel-quiz-settings-btn','การบวกเศษส่วน','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','isAnonymousRevealed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','Error\x20deleting\x20topic:','add-file-shortcut-btn','warn','wager-amount-display','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-content\x20p','random','ปริพันธ์จำกัด','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลผู้เล่น','\x22\x20data-name=\x22','back-to-project-btn','<i\x20class=\x22fas\x20fa-save\x22></i>','application/pdf','showImproveButton','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','.project-card-container:not(.opacity-50)','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pdf','addEventListener','\x22>(','Error\x20saving\x20file\x20shortcut:','ยอดเยี่ยม!','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keyup','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','\x20mx-1\x20text-lg\x22></i></span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','per-question-text','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','เกิดข้อผิดพลาดในการสร้างใบงาน','isNormalTopic','text-gray-400\x20hover:text-indigo-600','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','content','confirm-link-quiz-btn','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-red-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>😈\x20คุณโดนคำสาป!\x20(หากตอบผิด\x20บทลงโทษ\x20x2)</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','underline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','แบบทดสอบนี้หมดเวลาแล้ว','shortcutTabs','อัตราส่วนและสัดส่วน','อัตราและอัตราหน่วย','.pen-color-btn','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','.verification-result','specialist','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','confirm-not-confident','parallel-shortcut-id-input','bg-blue-100\x20text-blue-800','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','cursor','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-tab','responses.','student-progress','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-create-project-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','save-file-shortcut-btn','strokeStyle','สร้างชุดคำถามจับคู่','additional-file-shortcuts-list','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','standard','ถูกต้อง!','186021WzfoIh','red','quiz-start-time','แผนภาพเวนน์','results-quiz-title','substring','answering','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','ใช้\x20\x22คำสาป\x22\x20กับ\x20','.use-hidden-file-shortcut-btn','</li>','<span>','Error\x20generating\x20from\x20link:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','showInStudentDashboard','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','(ก่อนเรียน)','floor','#000000','/users/','generate-from-parallel-test-btn','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','</p><p><strong>เฉลย:</strong>\x20','hover:bg-indigo-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','isPasscodeEnabled','toString','บันทึกคำถามใหม่\x20','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','รูปสแควร์รูท\x20(surd)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','delete-svg-btn','สายตาสั้น','file-shortcut-editor-modal','API\x20Error\x20Body:','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','powerupUsed','Error\x20saving\x20manual\x20blueprint\x20project:','แม่น้ำ','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-count','exitFullscreen','overflowY','enable-black-market-checkbox','...','สถิติและความน่าจะเป็น','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','parallel-test-input-area','(เลือกแล้ว\x20','.live-answer-btn,\x20#sync-submit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','ตอบถูก\x203\x20ข้อติดต่อกัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toggle','confirm-game-start-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','workerSrc','scratchpad-clear-btn','shortcut_','สรุปผลสุดท้าย','สาป','default-1','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ARRAY',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','fa-fire\x20text-orange-500','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','<div\x20class=\x22','raw','analytics-summary-cards','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bp-modal-num-choices','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','(ฉบับง่าย)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','results-tab-content','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','checked','color','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','admin-testing','(ไม่มีชื่อ)','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','options','add-shortcut-btn','presentation-slide-container','div[data-question-index=\x22','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/questionBank','bank-input-area','ลบโปรเจค\x20\x22','focus','<option\x20value=\x22','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','answers','blueprint-projects-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','highlighter-tool-btn','keydown','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เวกเตอร์และเมทริกซ์\x20(เสริม)','ปริพันธ์ไม่จำกัด','lastAnswerCorrect','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.move-parallel-shortcut-menu-btn','practice-topic-btn','[data-topic-container-id]','behavior-log-tab-content','msRequestFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','bg-green-200\x20text-green-900\x20font-bold','\x20ชุด)','.rename-quiz-btn','.confidence-choice-btn','.file-shortcut-btn','ลบผลสอบของ\x20','topic-quiz-bank-modal','team-player-status-grid','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','worksheet-input-area','cancel-test-btn','ชาไข่มุก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','/studentProfiles','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','confidence_single','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x20รายการ\x20สำเร็จ!','Invalid\x20response\x20structure\x20from\x20AI.','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','settings','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','แก้ระบบสมการด้วยเมทริกซ์','removeAttribute','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','นักวิทยาศาสตร์','บันทึกแบบทดสอบสำเร็จแล้ว!','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','9617619rXdrQU','การวัด','added','กำลังสร้างคำถามข้อ\x20','พบ\x20Sync\x20Game!','คำถามดิบ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','team-student-list','แมวเก้าชีวิต','neq','หมีขั้วโลกใต้','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','style','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','.correct-response-input','เลือกผู้เล่นที่จะ\x20\x22','ฮัลค์','click','จับคู่แบบทดสอบสำเร็จ!','translate','<div\x20class=\x22loader\x20mx-auto\x22></div>','pin','<span\x20title=\x22ซื้อเวลา\x22>⏳</span>','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','stopPropagation','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','📡\x20สแกน:\x20ไม่พบผู้เล่นอื่นในห้องครับ','after','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','str','showAnswerInAnonymous','เรขาคณิต','แก้ไขปุ่มลัด','market-current-points','gameVariant','topics.','นกฮูกกลางวัน','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','team','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','isLooping','<div\x20class=\x22p-2\x20rounded-md\x20','per-question-timer-container','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','#confidence-input-','แก้ไขหัวข้อสำเร็จ','.bp-open-topic-bank-btn','\x20to\x20','value','.\x20แต่ละข้อมี\x20','parseInline','.presentation-option','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','target','confirmation-modal','คาถาแยกเงาพันร่าง','</option>','loopUntilPass','manual-bp-project-name','เกิดข้อผิดพลาดในการโหลดโปรเจค','score-distribution-chart','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-600\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>⏳\x20คุณมีเวลาโบนัสในข้อนี้!</div>','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','ลาเต้ไม่หวาน','items','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100','setTransform','behavior-log-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','create-from-bank-btn','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','ปุ่มลัดทั้งหมด','Error\x20deleting\x20submission:','textarea[name=\x22team_answer\x22]','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','rename-quiz-input','schedule','add-from-global-bank-btn','url','answerValue','bp-reference-file-url','quiz-leaderboard-table-container','starred','.file-topic-selection-btn','teacherTips','stringify','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','rgba(239,\x2068,\x2068,\x200.9)','ผู้ควบคุม\x20(ทดสอบ)','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','confirm-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','โลมาบิน','removeChild','currentMode','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22',')</button>','กำลังสร้างรูปภาพ...','dataset','.bp-generate-lesson-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','text-blue-700\x20bg-blue-100','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','parallel-default-1','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','(คู่ขนาน)\x20','lastIndexOf','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','bg-yellow-200','ผู้ไม่ยอมแพ้','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','ไม่ใช่','MathJax','join-group-activity-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','text-blue-700','GlobalWorkerOptions','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','รีเซ็ตลำดับโปรเจคแล้ว','th-TH','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','quiz-leaderboard-table-body','จากเนื้อหาต่อไปนี้:\x20\x22','isCorrect','ความชันเส้นสัมผัส','editable-text-','opacity-50','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','save-game-results-checkbox','generate-worksheet-btn','เลือกและเริ่มสร้าง','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','</select>','ondragover','student-progress-content','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','write',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','block','Error\x20adding\x20custom\x20topic:','project-passcode-input','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','generate-from-link-btn','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','icon','ระบบอสมการ','shortcut-blueprint-url-input','fullscreenchange','qIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','lesson-plan-modal','map','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','ช่างภาพ','entries','Error\x20committing\x20score\x20updates:','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','bg-yellow-50','ไม่มีคำอธิบาย','answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','mandatory','answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','ondragend','asc','อนุพันธ์:\x20กฎพื้นฐาน','difficultyValue','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-passcode-input','กรุณาใส่ชื่อโปรเจค','Error\x20submitting\x20team\x20answer:','verify-answers-editor-btn','.tab-name-input',')\x22>','.quiz-settings-btn','Error\x20comparing\x20results:','bg-green-50','#retake-for-improvement-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','\x22\x20value=\x22','<span\x20title=\x22ใช้:\x2050:50\x22>🌗</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','.ai-content\x20h3','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','font-bold\x20text-green-700','name_desc','tGain','function','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','ระบบเลขและค่าประจำหลัก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','Error\x20preparing\x20content\x20quiz:','.move-file-shortcut-item','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','quizMode','hiddenOptions_q','การบวก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x5ccdot','Error\x20updating\x20pin\x20status:','shortcut-reference-url-input','quiz-results','market-item-list','back-to-results-btn','confidence-mode-container','cloneNode','promise','blueprint-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตารางความถี่','buyTime','Blueprint\x20O-NET\x20ป.6','ร้อยละประยุกต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','leaderboard-tab-content','เกิดข้อผิดพลาดในการแก้ไข','#E5E7EB','globalAlpha','<h1></h1>','text-green-600','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','date_desc','dragover','forEach','parallel-test-upload-input','drop','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','.doc','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','\x5cle','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','กรุณาใส่ชื่อนักเรียน','#FCE7F3','.pointsLastRound','selected-answer-index-hidden','black-market-modal','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>✂️\x20คุณได้ใช้\x20\x22ตัด\x201\x20ตัวเลือก\x22\x20ไปแล้ว</div>','Firebase\x20initialization\x20failed:','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','quiz-results-table-body','bestScore','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','.regenerate-question-btn','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','<p\x20class=\x22','beginPath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','Market\x20entry\x20payment\x20failed:','blueprint-options-container','back-to-dashboard-from-bp-btn','num-questions','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','td,\x20th','.quiz-status-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','position','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','catch','answer-grid-container','handleGeneratePracticeTest','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','\x22\x20ให้เป็นคำถามประเภท\x20\x22','text-gray-300','shadowColor','shortcuts-loading-msg','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','getContext','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','ลำดับการดำเนินการ\x20(PEMDAS)','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','game-start-modal-title','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','ห.ร.ม.\x20(GCD)','export-image-btn','คะแนนเต็ม!','poll','correctResponse','Error\x20verifying\x20answers:','<span\x20title=\x22ใช้:\x20คูณเดิมพัน\x22>💰</span>','.move-parallel-shortcut-dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิตวิเคราะห์','body','#student-quiz-leaderboard-content\x20thead','user','มุมและการวัดมุม','ชื่อหัวข้อห้ามว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20(ใส่ตัวเลข):\x0a','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','ยอดเยี่ยม','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>','เรเดียนและการแปลงหน่วย','เกิดข้อผิดพลาดในการสร้างห้องเกม','.delete-shortcut-tab-btn','groups.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผลรวมอนุกรม\x20(Σ)','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','bg-gray-100\x20opacity-70','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','แบบทดสอบฝึกฝนเรื่อง:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ref','temp-loader-text-results','reset-view-btn','checkAnswer','from','กำลังสร้างแบบทดสอบ\x20\x22','QUICK_THINKER','reveal_at_end','allResponses','pinnedProjects','contentEditable','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','use-powerup-','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','class','#open-additional-file-shortcuts-btn','tan','modal-passing-score-input','createElement','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','wasJinxed','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x27\x20ในหัวข้อ\x20\x27','text-gray-700','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','border-indigo-400\x20ring-2\x20ring-indigo-200','/public/data/liveGames','requestFullscreen','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','update-old-quizzes-btn','desc','leq','ติดซีรีส์','Error\x20analyzing\x20file\x20for\x20topics:','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','สอบซ่อม','transition-transform','Error\x20resetting\x20project\x20order:','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','/players','.pen-size-btn','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','bulk-confidence-mode-container','.bp-delete-topic-btn','Failed\x20to\x20kick\x20player\x20','scale-125','📡\x20สแกนเสร็จสิ้น:\x20ไม่พบภัยคุกคาม','/public/data/projects','referenceFileUrl','.mb-6.p-4','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','_opt0\x22>ใช่</label></div>','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','bg-gray-50','ชีสเค้ก','.ai-fix-formula-btn','results-tab','.quiz-bank-present-btn','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-200\x20text-red-800','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','btn','คู่จิ้น','points','ม้าดีดกะโหลก','curriculum','ไม่พบไฟล์\x20Test\x20Blueprint','isFinished','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','application/json','/public/data/blueprintProjects/','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','Error\x20generating\x20teaching\x20content:','100px','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22,\x20','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','#open-additional-shortcuts-btn','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','additional-parallel-shortcuts-list','project-dashboard-view','เกิดข้อผิดพลาดในการลบหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','difficulty-level-select','<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20(','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','\x20แบบทดสอบลงในคลังสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','1:274192258111:web:4120c9118229b5644dd48a','memory','.linkedQuizIds','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','draggable-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','join','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','unshift','export-lesson-to-pdf-btn','question-complexity-select','ผิด','.group','ไม่พบตารางสำหรับ\x20Export','questionType','สร้างคำถามแบบเติมคำในช่องว่าง','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','ไม่พบข้อมูลแบบทดสอบ','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','powerupUsed_q','passing-score-input','export-compact-pdf-btn','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','<span\x20title=\x22ใช้:\x20ส่องสถิติ\x22>📊</span>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','Error\x20starting\x20team\x20quiz:','bar','file-default-1','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','student-join-game-view','live-player-management','trim','close-additional-file-shortcuts-btn','canvas','ที่พิมพ์ได้\x20จำนวน\x20','list','lastAnswerIndex','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','หัวข้อหลักใหม่','upperGroupNames','realName','tfrac','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','reveal-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','text-green-700','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','Error\x20regenerating\x20question\x20in\x20editor:','offsetWidth','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','สายลับจับบ้านเล็ก','sync-player-management','answerText','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','add-custom-math-topic-btn','reviewQuestionIndex','project-detail','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Failed\x20to\x20create/update\x20submission\x20record:','Error\x20rendering\x20student\x20progress:','ร้อยละพื้นฐาน','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','รอ...','reduce','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','กำลังสร้างเนื้อหา:\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','open-sync-scratchpad-btn','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','custom-math-topic-input','sin','save-parallel-shortcut-btn','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','back-to-student-initial-btn','toDate','.quiz-bank-parallel-btn','file-topics-list-container','text-red-900','parallelShortcutOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','global-quiz-search-input','per-question-options','Error\x20processing\x20file\x20shortcut\x20click:','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','<p><strong>คำตอบที่แนะนำ:</strong>\x20','<span\x20title=\x22ใช้ไอเทม\x22>','name_asc','bank-quiz-search-input','ค่าสัมบูรณ์','ตัวแปรและนิพจน์','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','add','manual-bp-content','linkedQuizIds','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','BOOLEAN','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','submission-status-chart','live-game','scheduled_pending','responses','quick_thinker','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','confirm-passcode-btn','\x27,\x20\x27','scoresCalculated','border-indigo-500\x20text-indigo-600','text-red-600','\x20ข้อ\x20','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','parallel-shortcut-tabs-nav','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','การหาร','main-correct-answer-display','view-my-progress-btn','ผู้เล่น\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','หลังเรียน','.bp-edit-topic-btn','upper_group_count','save-project-name-btn','projectOrder','justification','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','preScore','เกิดข้อผิดพลาดในการจับคู่','ระบบสมการเชิงเส้นสองตัวแปร','Error\x20clearing\x20all\x20links:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20custom\x20topic:','ไม่สามารถโหลดรายการโปรเจคได้','admin-view','tool','กลุ่มของคุณ','Error\x20saving\x20lesson\x20to\x20project:','touch','กรุณาเลือกคำตอบก่อนครับ','<option>กำลังโหลดโปรเจค...</option>','กำลังเตรียมไฟล์อ้างอิง...','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','pointerdown','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','AI\x20ไม่สามารถประมวลผลข้อมูลได้','confirm-delete-btn','border-red-300\x20bg-red-50','per-q-countdown','<span\x20class=\x22block\x20text-sm\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','ไม่สามารถบันทึกการตั้งค่าได้','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','manage','quiz','targetId','เกมสิ้นสุดลงแล้ว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','bg-yellow-300\x20text-yellow-900\x20font-bold','leaderboard-table-body','COMEBACK_KING','parallel-shortcut-url-input','width','✂️\x20ตัด\x201\x20ตัวเลือก','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','Error\x20listening\x20for\x20student\x20profiles:','ก่อนเรียน','sync-submit-btn','Error\x20joining\x20live\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','.pair-quiz-btn','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','both','กำลังกลับเข้าสู่เกม\x20','สมการเหตุผล\x20(rational)','close-topic-bank-btn','\x20(Player)\x20(ID:\x20','.quiz-bank-item','release','มี\x20Points\x20ไม่เพียงพอ','transform','ดอทโปรดักต์\x20(dot)','.topic-actions-edit','input[name=\x22team_player\x22]:checked','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สู้ๆ\x20ลองอีกครั้งนะ','.space-y-1.pl-4','touchcancel','blur','delete-all-students-btn','ยืนยันการกระทำ','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','ยืนยันและอัปเดตทั้งหมด','input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','quiz-settings-modal','พอใช้','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','length','[*]','originalTopic','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','รูปหลายเหลี่ยมและมุมภายใน','เกิดข้อผิดพลาดในการอ่านไฟล์','category','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','short','shortcut-modal-title','\x20กลุ่ม</p></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','pen-tool-btn','lowerGroupResponders','onkeydown','frac','show-in-student-dashboard-checkbox','push','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','postScore','scratchpad-header','powerups','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','top','.png','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22','เกิดข้อผิดพลาด:\x20','\x20(มี:\x20','Error\x20moving\x20quiz:','.kick-player-btn-sync','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','ระยะเวลา\x20(วินาที):','ลำดับเลขคณิต\x20(AP)','jinx','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','label[for=\x22num-questions\x22]','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','<div\x20id=\x22q-image-container-','num-choices-container','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','goto-next-question-btn','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-tab','ยังไม่มีนักเรียนส่งงาน','editor-quiz-topic','highlighter-size-slider','กำลังดึงข้อมูลจากลิงก์...','เส้นจำนวน','playerNicknames','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','.delete-submission-btn','medium','lobby','#view-rankings-btn','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','#student-project-leaderboard-content\x20thead','bg-green-200\x20text-green-800','<span\x20title=\x22ใช้:\x20ประกันภัย\x22>🛡️</span>','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','open','parallel-shortcut-name-input','Error\x20listening\x20for\x20custom\x20math\x20topics:','teacherSuggestions','<div><input\x20type=\x22radio\x22\x20id=\x22q','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','STRING','setItem','ai-quiz-app-aefee.firebasestorage.app','order','disabled','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','badges','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถโหลดข้อมูลอันดับได้','<div\x20class=\x22answer-space\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointercancel','กรุณาเลือกคำตอบของกลุ่ม','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','pointsLastRound','ไฟล์ลัด\x201','pollUsedThisTurn',',\x20r=','modified','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','scratchpad-controls','sync-variant-selector','memoryContent','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','badgesCount','countdown-display','สร้างคำถามแบบใช่/ไม่ใช่','cutOne','file-shortcut-tabs-nav','cdot','Error\x20submitting\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','include-images-checkbox','\x22>จาก:\x20','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','กราฟแท่ง\x20กราฟเส้น','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','rgba(255,\x20255,\x200,\x200.5)','นินจาชาเขียว','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','anon-show-answer-toggle','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','N/A','แผนภาพกล่อง\x20(box\x20plot)','applicationContent','screen_exit','text-emerald-900','thead\x20.sortable-header','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-running\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>ตอบผิดในโหมดเดิมพัน!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>🏃\x20กระโดดตบ\x2010\x20ครั้ง!\x20🏃</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','#F3E8FF','grid-view-btn','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','docs','พบ\x20Team\x20Quiz!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','รูปสี่เหลี่ยมและสมบัติ','manage-players-btn','จำนวนและการดำเนินการ','display','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','comparison-overall-content','bg-yellow-500\x20text-black\x20font-bold','ย้าย','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','eraser','comparison','matching_item','wagerMultiplier','first_try_ace','คะแนนยังไม่ถึงครึ่ง','title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','candidates','.game-start-btn','force-math-checkbox','shortcut-tabs-nav','open-blueprint-projects-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','\x22\x20class=\x22color-palette-btn\x20','lineCap','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','student-name-input','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','textarea[name=\x22question_single\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','bg-white','Error\x20saving\x20quiz\x20edits:','บันทึกการตั้งค่าสำเร็จ','Error\x20loading\x20user\x20preferences:','opacity','save-blueprint-as-project-btn','.scratchpad-content-wrapper','doc','.project-card-container','innerText','hasOwnProperty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','-tab-content','parallelTestShortcutsConfig','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','binom','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','Auto-cleanup\x20failed:','Group\x20Mode','.answers','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20get\x20hint:','http://www.w3.org/2000/svg','กรุณาเลือกไฟล์ก่อน','student-quiz-leaderboard-table-body','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','ครัวซองต์','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','pre-test','\x22\x20title=\x22','เทพทรู','จำนวนคู่:','<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','กำลังสร้างแบบทดสอบ:\x20','เกิดข้อผิดพลาดในการลบนักเรียน','description','questionId','.export-pdf-list-btn','ตรีโกณมิติ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','#file-shortcut-tabs-nav\x20.tab-name-input','topic_','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','result','เกิดข้อผิดพลาดในการปักหมุด','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','fileShortcutsConfig','scores-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','drill-feedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','ค.ร.น.\x20(LCM)','ตัวเลือก\x20ค','หน่วยเวลาและการคำนวณเวลา','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','สเกลและแผนที่','perQuestionStats','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','endsWith','.file-shortcut-btn[data-id=\x22','file-shortcut-id-input','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','ไก่ฟ้าพญาลอ','normal','button','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','คณิตศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','.ai-content\x20td','mouseleave','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','\x22\x20data-quiz-id=\x22','confidence-choice-btn','modal-confidence-mode-select','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','next-drill-btn','artifacts/','submission','0\x200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','ควรปรับปรุง','ตรวจพบการออกจากหน้าจอครบ\x20','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x20\x20\x20-\x20','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dashboardConfig','Blueprint\x201','students','modal-results-display-select','remove','mode','ฐานนิยม','สมการลอการิทึม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','Error\x20calculating\x20final\x20scores:','(คุณ)','numChoices','แท็บใหม่','.ideal-answer-input','choices_only','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','#e21b3c','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','fa-bolt\x20text-blue-500','q-explanation-','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-topic-input','Error\x20fetching\x20project\x20quizzes:','แคลคูลัสเบื้องต้น','เงาปริศนา','behaviorLog','/public/data/quizzes/','touchmove','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','ดาบพิฆาตอสูร','trail','PERSEVERANCE','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนพิเศษติดลบ\x20(มั่นใจแต่ตอบผิด)\x22>⚠️</span>','subTopics','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','lineWidth','/public/data/teamQuizzes','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','กำลังอ่านและเตรียมไฟล์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริมาตรรูปทรงสามมิติ','กำลังจับคู่...','ปล่อยพลัง','ไม่พบโปรเจคที่ต้องการลบ','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','bg-[#4ADE80]\x20text-green-900\x20font-bold','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','timer-mode-select','จำนวนเต็มลบ','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','.topic-category','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','Error\x20deleting\x20project:','<p\x20class=\x22font-bold\x20text-sm\x20','วงกลม:\x20สมการและสมบัติ','topicName','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','กาแฟขม','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','replaceChild','Error\x20in\x20generating\x20from\x20files:','forceConfident','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','.delete-parallel-shortcut-btn','cancel-blueprint-projects-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','getPage','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','modal-shuffle-select','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','summary','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','.star-quiz-btn','CEOพันล้าน','game-pin-input','เกิดข้อผิดพลาดในการบันทึก','#10B981','-options\x22>'];_0x49d1=function(){return _0x5179dc;};return _0x49d1();}function showAdminSummaryView(_0x3cae52,_0x57bf30){const _0x59694d=_0x1dbc7e,_0x8c7c57=Object[_0x59694d(0x368)](_0x3cae52['players']||{}),_0x385d0e=_0x57bf30[_0x59694d(0xbd0)]||currentQuizData[_0x59694d(0x4f4)],_0x43c2ac=_0x385d0e===_0x59694d(0x3f7)?['ใช่',_0x59694d(0xa8b)]:_0x57bf30[_0x59694d(0x9d3)]||_0x57bf30[_0x59694d(0xb68)]||[],_0x34eed5={},_0x1893a6=new Array(_0x43c2ac[_0x59694d(0xc8f)])[_0x59694d(0x46b)](0x0);_0x43c2ac[_0x59694d(0xb04)]((_0x3b6150,_0x12763f)=>{_0x34eed5[_0x12763f]=[];}),Object['entries'](_0x3cae52[_0x59694d(0x8d6)]||{})[_0x59694d(0xb04)](([_0x254ca0,_0x45f51e])=>{const _0x2dfa32=_0x59694d;if(_0x45f51e[_0x2dfa32(0x600)]==='active'&&_0x45f51e['lastAnswerIndex']!==undefined){const _0x5c2e29=_0x45f51e[_0x2dfa32(0xbe8)];_0x34eed5[_0x5c2e29]&&(_0x34eed5[_0x5c2e29]['push'](_0x254ca0),_0x1893a6[_0x5c2e29]++);}});const _0x204ea4=Math[_0x59694d(0x3d5)](..._0x1893a6,0x1),_0x4e1219=_0x59694d(0x47b)+(_0x57bf30['stem']||_0x57bf30['questionText'])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1893a6[_0x59694d(0xab8)]((_0x1a0814,_0x13145f)=>{const _0x19fa7e=_0x59694d,_0x516d92=_0x34eed5[_0x13145f][_0x19fa7e(0xc8f)]>0x0?_0x34eed5[_0x13145f][_0x19fa7e(0xbc8)](',\x20'):_0x19fa7e(0xeee);let _0x489fd4=![];if(_0x385d0e==='multiple_choice')_0x489fd4=_0x13145f===_0x57bf30[_0x19fa7e(0x7e1)];else{if(_0x385d0e==='true_false'){const _0x259940=_0x57bf30[_0x19fa7e(0x72b)];_0x489fd4=_0x259940&&_0x13145f===0x0||!_0x259940&&_0x13145f===0x1;}else _0x385d0e==='matching_item'&&(_0x489fd4=_0x43c2ac[_0x13145f]===_0x57bf30['correctResponse']);}const _0x1fce2d=_0x489fd4?_0x19fa7e(0x3ef):_0x19fa7e(0xdae);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x1a0814+_0x19fa7e(0x409)+_0x1fce2d+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x13145f+_0x19fa7e(0x70c)+_0x43c2ac[_0x13145f]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x13145f+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x516d92+_0x19fa7e(0x808);})['join']('')+_0x59694d(0xe79);liveGameView[_0x59694d(0x5dd)]=_0x4e1219;if(window[_0x59694d(0xa8c)])MathJax[_0x59694d(0x303)]();document['getElementById'](_0x59694d(0x7c4))[_0x59694d(0x939)](_0x59694d(0xa25),async()=>{const _0xf94c30=_0x59694d,_0x4be996=doc(db,_0xf94c30(0xd90)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4be996,{'questionStatus':'leaderboard'});}),document[_0x59694d(0x722)](_0x59694d(0xe47))[_0x59694d(0x939)]('click',()=>{openScratchpad(_0x57bf30,_0x43c2ac);});}function showPlayerSummaryView(_0x44fdfd,_0x534931){const _0x30297e=_0x1dbc7e,_0x35c0bf=Object['values'](_0x44fdfd[_0x30297e(0x8d6)]||{}),_0x2e1a93=_0x44fdfd[_0x30297e(0x8d6)][_0x534931],_0x467b30=_0x35c0bf['filter'](_0x4cb332=>_0x4cb332[_0x30297e(0x600)]===_0x30297e(0x44f))[_0x30297e(0x24d)]((_0x3d8cf7,_0x1d35c3)=>_0x1d35c3[_0x30297e(0x7ee)]-_0x3d8cf7['score']),_0x457aa5=_0x467b30[_0x30297e(0x242)](_0x318358=>_0x318358===_0x2e1a93)+0x1,_0x226879=_0x2e1a93[_0x30297e(0x9eb)]?_0x30297e(0x96f):_0x30297e(0xbcd),_0x4195c8=_0x2e1a93['lastAnswerCorrect']?'bg-green-500':_0x30297e(0x7f5),_0x5b9621=_0x2e1a93['pointsLastQuestion']||0x0,_0x4a3814=_0x30297e(0x901),_0x1428f9=_0x30297e(0xab6)+_0x4a3814+_0x30297e(0xa21)+_0x4195c8+_0x30297e(0xbf5)+_0x226879+_0x30297e(0xd5a)+_0x5b9621+_0x30297e(0xdba)+(_0x457aa5>0x0?_0x457aa5:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x30297e(0x5dd)]=_0x1428f9;}function createQuizFromBank(){const _0x5b49d5=_0x1dbc7e,_0x1f6125=document[_0x5b49d5(0x2ff)](_0x5b49d5(0xcea));if(_0x1f6125[_0x5b49d5(0xc8f)]===0x0){showMessage(_0x5b49d5(0xa4b));return;}const _0x409ca8=[];_0x1f6125[_0x5b49d5(0xb04)](_0x4aa7d6=>{const _0x114cbe=_0x5b49d5;_0x409ca8[_0x114cbe(0xca1)](JSON['parse'](_0x4aa7d6[_0x114cbe(0xa46)]));});const _0x288e95={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x409ca8};displayGeneratedQuiz(_0x288e95);}function showAdminLobbyView(_0x371e48,_0xb1ae48){const _0x93d8de=_0x1dbc7e;showView(_0x93d8de(0xc2b));const _0x34ea0b=_0x93d8de(0x488)+_0xb1ae48+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x371e48+_0x93d8de(0xeea);liveGameView['innerHTML']=_0x34ea0b,document[_0x93d8de(0x722)](_0x93d8de(0x284))['addEventListener'](_0x93d8de(0xa25),async()=>{const _0x3dfdc7=_0x93d8de;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x3dfdc7(0x882)][_0x3dfdc7(0xc8f)]===0x0){showMessage(_0x3dfdc7(0x77f));return;}try{const _0x1cd6b8=doc(db,'artifacts/'+appId+_0x3dfdc7(0xb80),currentLiveGameId);await updateDoc(_0x1cd6b8,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x5d6dce=currentQuizData[_0x3dfdc7(0x882)][0x0],_0x3cbe09=currentQuizData[_0x3dfdc7(0x882)][_0x3dfdc7(0xc8f)];showAdminLiveQuestionView(_0x5d6dce,0x0,_0x3cbe09);}catch(_0x33bb51){console[_0x3dfdc7(0x300)]('Error\x20starting\x20game:',_0x33bb51),showMessage(_0x3dfdc7(0x348));}});}async function openQuizBankModal(){const _0x364b2f=_0x1dbc7e;if(allQuizzesGlobal[_0x364b2f(0xc8f)]===0x0){const _0x1755a3=await getDocs(collection(db,_0x364b2f(0xd90)+appId+_0x364b2f(0x806)));allQuizzesGlobal=_0x1755a3[_0x364b2f(0xd16)][_0x364b2f(0xab8)](_0x386745=>({'id':_0x386745['id'],..._0x386745[_0x364b2f(0x690)]()}));}renderQuizBankList(''),document[_0x364b2f(0x722)](_0x364b2f(0x740))[_0x364b2f(0x820)]['remove'](_0x364b2f(0x330));}function renderQuizBankList(_0xdee379='',_0x2032d0=![]){const _0x47789a=_0x1dbc7e,_0x107a83=document[_0x47789a(0x722)](_0x47789a(0x2f4)),_0x4d3562=_0xdee379[_0x47789a(0x2f6)]()['trim'](),_0x148165=allQuizzesGlobal[_0x47789a(0xab8)](_0x4444e7=>({..._0x4444e7,'projectName':allProjects[_0x47789a(0x36c)](_0x10d1d3=>_0x10d1d3['id']===_0x4444e7[_0x47789a(0x6ea)])?.['projectName']||'N/A'}))[_0x47789a(0x6b9)](_0x57a5e7=>(_0x57a5e7[_0x47789a(0x2d2)]||'')[_0x47789a(0x2f6)]()[_0x47789a(0x549)](_0x4d3562)||(_0x57a5e7[_0x47789a(0x897)]||'')[_0x47789a(0x2f6)]()['includes'](_0x4d3562)||_0x57a5e7['id'][_0x47789a(0x992)]()[_0x47789a(0x549)](_0x4d3562));document[_0x47789a(0x722)](_0x47789a(0x9a2))[_0x47789a(0x2eb)]='('+_0x148165[_0x47789a(0xc8f)]+_0x47789a(0x9f6),_0x107a83[_0x47789a(0x5dd)]=_0x148165[_0x47789a(0xc8f)]?_0x148165[_0x47789a(0xab8)](_0x4a8e7f=>{const _0xd1c839=_0x47789a,_0x15a61f=!_0x2032d0?_0xd1c839(0xe38)+_0x4a8e7f['id']+_0xd1c839(0x36a)+_0x4a8e7f['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4a8e7f['id']+_0xd1c839(0x2f9)+_0x4a8e7f['id']+_0xd1c839(0xef3)+_0x4a8e7f['id']+_0xd1c839(0xbfd)+_0x4a8e7f['id']+_0xd1c839(0x4f0)+_0x4a8e7f['topic']+_0xd1c839(0x994):'';return _0xd1c839(0x45a)+_0x4a8e7f['id']+_0xd1c839(0x923)+(_0x4a8e7f[_0xd1c839(0x2d2)]||_0xd1c839(0x9d1))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x4a8e7f[_0xd1c839(0x882)]?.[_0xd1c839(0xc8f)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x4a8e7f['projectName']+_0xd1c839(0x886)+_0x4a8e7f['id']+_0xd1c839(0x712)+_0x15a61f+_0xd1c839(0x649);})['join'](''):_0x47789a(0x257),!_0x2032d0&&(_0x107a83[_0x47789a(0x2ff)](_0x47789a(0xc79))[_0x47789a(0xb04)](_0x229ab5=>{const _0x54aae1=_0x47789a;_0x229ab5[_0x54aae1(0x939)]('click',()=>{const _0x413f86=_0x54aae1,_0x56e436=_0x229ab5[_0x413f86(0xa7e)]['id'];document[_0x413f86(0x722)]('quiz-bank-modal')[_0x413f86(0x820)]['add'](_0x413f86(0x330)),showQuizDetailView(_0x56e436);});}),_0x107a83[_0x47789a(0x2ff)](_0x47789a(0x26a))['forEach'](_0x2aa62e=>{const _0x5ac1fb=_0x47789a;_0x2aa62e[_0x5ac1fb(0x939)]('click',_0x399f02=>{const _0x3544e9=_0x5ac1fb;_0x399f02[_0x3544e9(0xa2c)]();const _0x3de144=_0x2aa62e[_0x3544e9(0xa7e)]['id'],_0x5294b7=allQuizzesGlobal[_0x3544e9(0x36c)](_0x53923f=>_0x53923f['id']===_0x3de144);_0x5294b7?(currentQuizData=_0x5294b7,document['getElementById'](_0x3544e9(0x740))[_0x3544e9(0x820)]['add'](_0x3544e9(0x330)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x107a83['querySelectorAll'](_0x47789a(0xc11))[_0x47789a(0xb04)](_0xa3a01a=>{const _0x39c3df=_0x47789a;_0xa3a01a[_0x39c3df(0x939)]('click',_0x196f45=>{const _0x193b68=_0x39c3df;_0x196f45[_0x193b68(0xa2c)]();const _0x2e8074=_0xa3a01a[_0x193b68(0xa7e)]['id'],_0x7ca93b=allQuizzesGlobal['find'](_0x26c45c=>_0x26c45c['id']===_0x2e8074);_0x7ca93b?(document['getElementById'](_0x193b68(0x740))['classList'][_0x193b68(0xc24)](_0x193b68(0x330)),handleGenerateParallelFromBank(_0x7ca93b)):showMessage(_0x193b68(0xbd4));});}),_0x107a83[_0x47789a(0x2ff)](_0x47789a(0xba1))['forEach'](_0x20f76c=>{const _0x5330f8=_0x47789a;_0x20f76c[_0x5330f8(0x939)](_0x5330f8(0xa25),_0x509994=>{const _0x3beff9=_0x5330f8;_0x509994[_0x3beff9(0xa2c)]();const _0x51ab9=_0x20f76c[_0x3beff9(0xa7e)]['id'],_0x3f5d28=allQuizzesGlobal[_0x3beff9(0x36c)](_0x344d62=>_0x344d62['id']===_0x51ab9);_0x3f5d28?(document[_0x3beff9(0x722)](_0x3beff9(0x740))[_0x3beff9(0x820)][_0x3beff9(0xc24)](_0x3beff9(0x330)),startPresentation(_0x3f5d28)):showMessage(_0x3beff9(0xbd4));});}),_0x107a83[_0x47789a(0x2ff)](_0x47789a(0x49e))[_0x47789a(0xb04)](_0x61fcfd=>{_0x61fcfd['addEventListener']('click',_0x250893=>{const _0x19bede=_0x320f;_0x250893[_0x19bede(0xa2c)]();const _0xe66f59=_0x61fcfd[_0x19bede(0xa7e)]['id'];document[_0x19bede(0x722)](_0x19bede(0x740))[_0x19bede(0x820)][_0x19bede(0xc24)](_0x19bede(0x330)),handleMoveQuiz(_0xe66f59);});}),_0x107a83[_0x47789a(0x2ff)]('.quiz-bank-settings-btn')[_0x47789a(0xb04)](_0x55192e=>{const _0x51e86b=_0x47789a;_0x55192e[_0x51e86b(0x939)](_0x51e86b(0xa25),_0x371f0c=>{const _0x33f3c1=_0x51e86b;_0x371f0c['stopPropagation']();const _0x581958=_0x55192e[_0x33f3c1(0xa7e)]['id'];document[_0x33f3c1(0x722)](_0x33f3c1(0x740))[_0x33f3c1(0x820)][_0x33f3c1(0xc24)](_0x33f3c1(0x330)),handleQuizSettings(_0x581958);});}),_0x107a83[_0x47789a(0x2ff)](_0x47789a(0x42f))[_0x47789a(0xb04)](_0x58894b=>{const _0x55ef0f=_0x47789a;_0x58894b[_0x55ef0f(0x939)]('click',_0x5cf8c0=>{const _0x31125b=_0x55ef0f;_0x5cf8c0[_0x31125b(0xa2c)]();const _0xb522d4=_0x58894b[_0x31125b(0xa7e)]['id'],_0x48109b=_0x58894b[_0x31125b(0xa7e)][_0x31125b(0x2d2)];showConfirmation(_0x31125b(0x503)+_0x48109b+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0xb522d4));});}));}async function handleCompareResults(_0x1090fd,_0x119e81){const _0x5c0a54=_0x1dbc7e,_0x3d5d46=document[_0x5c0a54(0x722)](_0x5c0a54(0x2c8)),_0x4c5852=document['getElementById'](_0x5c0a54(0xd1e)),_0x3824a2=document[_0x5c0a54(0x722)](_0x5c0a54(0x4ed));document[_0x5c0a54(0x722)](_0x5c0a54(0x396))[_0x5c0a54(0x820)][_0x5c0a54(0xc24)](_0x5c0a54(0x44f)),document['getElementById'](_0x5c0a54(0x963))[_0x5c0a54(0x820)]['remove']('active'),_0x4c5852[_0x5c0a54(0x820)][_0x5c0a54(0xda2)](_0x5c0a54(0x330)),_0x3824a2[_0x5c0a54(0x820)][_0x5c0a54(0xc24)](_0x5c0a54(0x330)),_0x4c5852['innerHTML']=_0x5c0a54(0xa28),_0x3824a2[_0x5c0a54(0x5dd)]='',_0x3d5d46[_0x5c0a54(0x820)][_0x5c0a54(0xda2)](_0x5c0a54(0x330));try{const _0x5ea54b=doc(db,_0x5c0a54(0xd90)+appId+_0x5c0a54(0x806),_0x1090fd),_0xa9727e=await getDoc(_0x5ea54b);if(!_0xa9727e[_0x5c0a54(0x5c5)]())throw new Error(_0x5c0a54(0x543));const _0x266cbf=_0xa9727e['data'](),_0x22cf87=_0x266cbf[_0x5c0a54(0x882)][_0x5c0a54(0xc8f)],_0x2fb1ee=collection(db,_0x5c0a54(0xd90)+appId+_0x5c0a54(0xdb8)+_0x119e81+_0x5c0a54(0x353)),_0x4c2faa=collection(db,_0x5c0a54(0xd90)+appId+_0x5c0a54(0xdb8)+_0x1090fd+_0x5c0a54(0x353)),[_0x4ea70b,_0x3c56d4]=await Promise['all']([getDocs(_0x2fb1ee),getDocs(_0x4c2faa)]),_0x59a91c=_0x4ea70b[_0x5c0a54(0xd16)][_0x5c0a54(0xab8)](_0x21d16c=>_0x21d16c[_0x5c0a54(0x690)]()),_0x33b291=_0x3c56d4['docs'][_0x5c0a54(0xab8)](_0x4efbdb=>_0x4efbdb[_0x5c0a54(0x690)]()),_0x2c0065=_0x59a91c['map'](_0xc24911=>_0xc24911['latestScore']),_0x2d7feb=_0x33b291[_0x5c0a54(0xab8)](_0x5800d3=>_0x5800d3[_0x5c0a54(0x41e)]),_0x23a663=calculateMeanAndStdDev(_0x2c0065),_0x30423e=calculateMeanAndStdDev(_0x2d7feb),_0x11f320=_0x23a663[_0x5c0a54(0x577)],_0x3c8cf7=_0x30423e[_0x5c0a54(0x577)],_0xd0f2fa=_0x3c8cf7-_0x11f320;let _0x20abf3=_0x5c0a54(0x6ef)+_0x11f320[_0x5c0a54(0x8a8)](0x2)+_0x5c0a54(0x4d8)+_0x3c8cf7['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0xd0f2fa>=0x0?_0x5c0a54(0x5b2):_0x5c0a54(0x59c))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0xd0f2fa>=0x0?'text-emerald-800':'text-red-800')+_0x5c0a54(0x640)+(_0xd0f2fa>=0x0?_0x5c0a54(0xd0c):_0x5c0a54(0xc13))+'\x22>'+(_0xd0f2fa>=0x0?'+':'')+_0xd0f2fa[_0x5c0a54(0x8a8)](0x2)+_0x5c0a54(0x5c4);_0x4c5852[_0x5c0a54(0x5dd)]=_0x20abf3;const _0x4eae3f=document[_0x5c0a54(0x722)]('comparison-chart')[_0x5c0a54(0xb33)]('2d');if(chartInstances[_0x5c0a54(0xd23)])chartInstances['comparison'][_0x5c0a54(0x8a1)]();chartInstances[_0x5c0a54(0xd23)]=new Chart(_0x4eae3f,{'type':_0x5c0a54(0xbde),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x5c0a54(0xc6e),'data':[_0x11f320],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x5c0a54(0xc3f),'data':[_0x3c8cf7],'backgroundColor':_0x5c0a54(0x895)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x22cf87}}}});const _0x28dedf=currentProjectData[_0x5c0a54(0xda0)]||[],_0x284bfa=_0x28dedf[_0x5c0a54(0xab8)](_0x545026=>{const _0x4f8621=_0x5c0a54,_0x34a2c5=_0x59a91c[_0x4f8621(0x36c)](_0x3449c4=>_0x3449c4[_0x4f8621(0x589)]===_0x545026),_0xb6083a=_0x33b291['find'](_0x218b24=>_0x218b24['studentName']===_0x545026),_0x1ed44a=_0x34a2c5?_0x34a2c5[_0x4f8621(0x41e)]:null,_0x3095bc=_0xb6083a?_0xb6083a[_0x4f8621(0x41e)]:null,_0x360af4=_0x1ed44a!==null&&_0x3095bc!==null?_0x3095bc-_0x1ed44a:null,_0x2eb3d8=_0x1ed44a!==null?calculateZScore(_0x1ed44a,_0x23a663['mean'],_0x23a663[_0x4f8621(0x881)]):null,_0x1e3c75=_0x3095bc!==null?calculateZScore(_0x3095bc,_0x30423e['mean'],_0x30423e[_0x4f8621(0x881)]):null,_0x41724e=_0x2eb3d8!==null?calculateTScore(_0x2eb3d8):null,_0x2e2831=_0x1e3c75!==null?calculateTScore(_0x1e3c75):null,_0x3de000=_0x41724e!==null&&_0x2e2831!==null?_0x2e2831-_0x41724e:null;return{'name':_0x545026,'preScore':_0x1ed44a,'postScore':_0x3095bc,'gain':_0x360af4,'preTScore':_0x41724e,'postTScore':_0x2e2831,'tGain':_0x3de000};});renderIndividualComparisonTable(_0x284bfa,_0x3824a2);}catch(_0x52f7a1){console[_0x5c0a54(0x300)](_0x5c0a54(0xad2),_0x52f7a1),_0x4c5852['innerHTML']=_0x5c0a54(0x8df);}}async function saveBlueprintProject(){const _0x3f2262=_0x1dbc7e;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage(_0x3f2262(0x57a));return;}const _0xe3e1fb=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:',_0x3f2262(0xaf8));if(!_0xe3e1fb||_0xe3e1fb['trim']()==='')return;const _0x2f583b={};extractedBlueprintData[_0x3f2262(0xbaa)]['forEach'](_0x5c0e19=>{const _0x18e745=_0x3f2262;_0x5c0e19[_0x18e745(0x685)][_0x18e745(0xb04)](_0x5a1c47=>{const _0xd463d8=_0x18e745;_0x5a1c47[_0xd463d8(0xdc1)][_0xd463d8(0xb04)](_0xb1ce03=>{const _0x540112=_0xd463d8,_0x548671=_0x540112(0xd68)+Date[_0x540112(0x3e0)]()+Math['random']()[_0x540112(0x992)](0x24)[_0x540112(0x219)](0x2,0x9);_0x2f583b[_0x548671]={'sara':_0x5c0e19[_0x540112(0x5d1)],'mainTopic':_0x5a1c47[_0x540112(0xdde)],'subTopic':_0xb1ce03,'status':_0x540112(0x1ec),'lessonContent':null};});});});try{const _0x24644e=collection(db,_0x3f2262(0xd90)+appId+_0x3f2262(0x5b8));await addDoc(_0x24644e,{'projectName':_0xe3e1fb['trim'](),'gradeLevel':extractedBlueprintData[_0x3f2262(0x340)],'topics':_0x2f583b,'createdAt':serverTimestamp()}),showMessage(_0x3f2262(0x264)+_0xe3e1fb[_0x3f2262(0xbe3)]()+'\x22\x20สำเร็จ!'),document[_0x3f2262(0x722)]('save-blueprint-as-project-btn')[_0x3f2262(0x820)][_0x3f2262(0xc24)](_0x3f2262(0x330));}catch(_0x1d3b9e){console['error'](_0x3f2262(0x7aa),_0x1d3b9e),showMessage(_0x3f2262(0x706));}}async function showBlueprintProjects(){const _0x48604b=_0x1dbc7e,_0x256beb=document['getElementById'](_0x48604b(0x9e1)),_0x355917=document[_0x48604b(0x722)](_0x48604b(0x26e));_0x355917['innerHTML']=_0x48604b(0xb6d),_0x256beb[_0x48604b(0x820)][_0x48604b(0xda2)](_0x48604b(0x330));try{const _0x17376f=collection(db,_0x48604b(0xd90)+appId+_0x48604b(0x5b8)),_0x1f866e=await getDocs(_0x17376f);if(_0x1f866e[_0x48604b(0x553)]){_0x355917[_0x48604b(0x5dd)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x10779f=_0x1f866e[_0x48604b(0xd16)][_0x48604b(0xab8)](_0x5ac760=>({'id':_0x5ac760['id'],..._0x5ac760[_0x48604b(0x690)]()}));_0x10779f[_0x48604b(0x24d)]((_0x285239,_0x4d59d6)=>_0x285239['projectName'][_0x48604b(0x81f)](_0x4d59d6[_0x48604b(0x897)],'th')),_0x355917['innerHTML']=_0x10779f[_0x48604b(0xab8)](_0x5f1110=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+_0x5f1110['projectName']+_0x48604b(0x306)+_0x5f1110[_0x48604b(0x340)]+'\x20|\x20'+Object[_0x48604b(0x6e2)](_0x5f1110[_0x48604b(0x7ba)])[_0x48604b(0xc8f)]+_0x48604b(0x940)+_0x5f1110['id']+_0x48604b(0xb50)+_0x5f1110['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x48604b(0xbc8)]('');}catch(_0x3f3bc7){console[_0x48604b(0x300)](_0x48604b(0x57b),_0x3f3bc7),_0x355917[_0x48604b(0x5dd)]=_0x48604b(0xed7);}}async function displayBlueprintProjectManager(_0xaba679){const _0x1f47ae=_0x1dbc7e;currentBlueprintProjectId=_0xaba679,document[_0x1f47ae(0x722)](_0x1f47ae(0x9e1))[_0x1f47ae(0x820)]['add']('hidden'),showView('admin-dashboard'),projectDashboardView[_0x1f47ae(0x820)][_0x1f47ae(0xc24)](_0x1f47ae(0x330));const _0xb9be9a=document['getElementById'](_0x1f47ae(0x31e));_0xb9be9a[_0x1f47ae(0x820)][_0x1f47ae(0xda2)](_0x1f47ae(0x330)),document[_0x1f47ae(0x722)](_0x1f47ae(0x4be))[_0x1f47ae(0x5dd)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x4ab8b7=doc(db,_0x1f47ae(0xd90)+appId+_0x1f47ae(0x5b8),_0xaba679),_0x348127=await getDoc(_0x4ab8b7);if(!_0x348127[_0x1f47ae(0x5c5)]())throw new Error('ไม่พบโปรเจค');const _0x4efbdf={'id':_0x348127['id'],..._0x348127['data']()};document[_0x1f47ae(0x722)](_0x1f47ae(0x55f))['textContent']=_0x4efbdf[_0x1f47ae(0x897)],document[_0x1f47ae(0x722)](_0x1f47ae(0xa6b))[_0x1f47ae(0xa46)]=_0x4efbdf[_0x1f47ae(0xb98)]||'',renderBlueprintTopicManager(_0x4efbdf);}catch(_0x5474a5){console['error'](_0x1f47ae(0x86c),_0x5474a5),showMessage(_0x5474a5[_0x1f47ae(0x83d)]),showView(_0x1f47ae(0xe49));}}function renderBlueprintTopicManager(_0x1c18c3){const _0x7fbcb0=_0x1dbc7e,_0x393cd1=document[_0x7fbcb0(0x722)](_0x7fbcb0(0x4be)),_0x5859b9=_0x1c18c3['topics']||{};if(Object[_0x7fbcb0(0x6e2)](_0x5859b9)[_0x7fbcb0(0xc8f)]===0x0){_0x393cd1[_0x7fbcb0(0x5dd)]=_0x7fbcb0(0x342);return;}const _0x19372a=Object['entries'](_0x5859b9)['map'](([_0x1f7a2c,_0x5afe3e])=>({'id':_0x1f7a2c,..._0x5afe3e}))[_0x7fbcb0(0x24d)]((_0x3523f2,_0x569d99)=>(_0x3523f2[_0x7fbcb0(0xcdf)]??Infinity)-(_0x569d99[_0x7fbcb0(0xcdf)]??Infinity)),_0x4489a9={};_0x19372a[_0x7fbcb0(0xb04)](_0x2db795=>{const _0x1c0bf7=_0x7fbcb0,{sara:_0x55255e,mainTopic:_0x35ad5e}=_0x2db795;!_0x4489a9[_0x55255e]&&(_0x4489a9[_0x55255e]={}),!_0x4489a9[_0x55255e][_0x35ad5e]&&(_0x4489a9[_0x55255e][_0x35ad5e]=[]),_0x4489a9[_0x55255e][_0x35ad5e][_0x1c0bf7(0xca1)](_0x2db795);});let _0x69fc2f='';for(const _0x646fee in _0x4489a9){_0x69fc2f+=_0x7fbcb0(0x94a)+_0x646fee+'</h4>';for(const _0x45412c in _0x4489a9[_0x646fee]){_0x69fc2f+=_0x7fbcb0(0x9d2)+_0x45412c+_0x7fbcb0(0xcf4),_0x4489a9[_0x646fee][_0x45412c][_0x7fbcb0(0xb04)](_0x5ee611=>{const _0x1b8e7f=_0x7fbcb0,_0x1d0a37=_0x5ee611['id'],_0x24b1f9=_0x5ee611[_0x1b8e7f(0xc26)]||[],_0x909109=_0x24b1f9['length']>0x0,_0x4a7ec7=_0x5ee611[_0x1b8e7f(0x600)]===_0x1b8e7f(0x7a3);let _0x21d660='';_0x909109?_0x21d660=_0x1b8e7f(0xb6c)+_0x24b1f9[_0x1b8e7f(0xc8f)]+_0x1b8e7f(0x6f1):_0x21d660=_0x1b8e7f(0x3a1)+(_0x4a7ec7?_0x1b8e7f(0xccd):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x4a7ec7?_0x1b8e7f(0x781):_0x1b8e7f(0xe5a))+_0x1b8e7f(0x24e);const _0x59be55=!_0x4a7ec7?_0x1b8e7f(0x64e):'',_0x5102d0=!_0x4a7ec7?_0x1b8e7f(0x6ec):'';let _0x1d61a4=_0x4a7ec7?'<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>':'<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>';_0x69fc2f+=_0x1b8e7f(0x4d3)+_0x1d0a37+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x5ee611['subTopic']+_0x1b8e7f(0x253)+_0x21d660+_0x1b8e7f(0x9ca)+_0x59be55+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x5102d0+_0x1b8e7f(0x563)+_0x1d61a4+_0x1b8e7f(0x6fa);}),_0x69fc2f+=_0x7fbcb0(0xe6d);}_0x69fc2f+=_0x7fbcb0(0x607);}_0x393cd1[_0x7fbcb0(0x5dd)]=_0x69fc2f;}async function handleDeepDeleteBlueprintProject(_0x1bcc4f){const _0x351f5c=_0x1dbc7e,_0x2a0a17=doc(db,_0x351f5c(0xd90)+appId+_0x351f5c(0x5b8),_0x1bcc4f),_0x1a8293=await getDoc(_0x2a0a17);if(!_0x1a8293[_0x351f5c(0x5c5)]()){showMessage(_0x351f5c(0xdd0));return;}const _0x1f7ed6=_0x1a8293['data']()[_0x351f5c(0x897)];showConfirmation(_0x351f5c(0x8f9)+_0x1f7ed6+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x35744a=_0x351f5c;showMessage('กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...');try{const _0x59de06=writeBatch(db),_0x4759c5=_0x1a8293['data'](),_0x103b71=_0x4759c5[_0x35744a(0x7ba)]||{};for(const _0x13e3fd in _0x103b71){const _0x5741c7=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+_0x1bcc4f+'/lessons',_0x13e3fd);_0x59de06[_0x35744a(0xe1f)](_0x5741c7);}const _0x152839=new Set();for(const _0x39174c in _0x103b71){_0x103b71[_0x39174c][_0x35744a(0xc26)]&&_0x103b71[_0x39174c][_0x35744a(0xc26)][_0x35744a(0xb04)](_0x5036c8=>_0x152839[_0x35744a(0xc24)](_0x5036c8));}for(const _0x46ed14 of _0x152839){await handleDeleteQuiz(_0x46ed14,![]);}_0x59de06[_0x35744a(0xe1f)](_0x2a0a17),await _0x59de06[_0x35744a(0x783)](),showMessage(_0x35744a(0x9dc)+_0x1f7ed6+_0x35744a(0x275)),showBlueprintProjects();}catch(_0x36e438){console[_0x35744a(0x300)]('Error\x20during\x20deep\x20delete:',_0x36e438),showMessage(_0x35744a(0xa31));}});}async function openTopicQuizBank(_0x324ede){const _0x411a9a=_0x1dbc7e,_0x419ca9=document[_0x411a9a(0x722)](_0x411a9a(0x9fb)),_0x5530ec=document[_0x411a9a(0x722)](_0x411a9a(0x611)),_0x544f2d=document[_0x411a9a(0x722)]('clear-all-links-btn');try{await ensureGlobalQuizzesLoaded();const _0x34eb12=doc(db,_0x411a9a(0xd90)+appId+_0x411a9a(0x5b8),currentBlueprintProjectId),_0x2a152a=await getDoc(_0x34eb12);if(!_0x2a152a[_0x411a9a(0x5c5)]())return;const _0x2f5b1a=_0x2a152a[_0x411a9a(0x690)](),_0x104c46=_0x2f5b1a[_0x411a9a(0x7ba)][_0x324ede];document[_0x411a9a(0x722)]('topic-bank-subtopic-name')[_0x411a9a(0x2eb)]=_0x104c46[_0x411a9a(0x884)];const _0x56b25d=_0x104c46[_0x411a9a(0xc26)]||[];_0x544f2d[_0x411a9a(0x820)][_0x411a9a(0x9b0)](_0x411a9a(0x330),_0x56b25d[_0x411a9a(0xc8f)]===0x0),_0x544f2d[_0x411a9a(0x590)]=()=>handleClearAllLinksForTopic(_0x324ede);if(_0x56b25d[_0x411a9a(0xc8f)]===0x0)_0x5530ec[_0x411a9a(0x5dd)]=_0x411a9a(0x946);else{const _0x627c52=allQuizzesGlobal[_0x411a9a(0x6b9)](_0x516041=>_0x56b25d[_0x411a9a(0x549)](_0x516041['id']));_0x5530ec[_0x411a9a(0x5dd)]=_0x627c52[_0x411a9a(0xab8)](_0x223071=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0x223071['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0x223071[_0x411a9a(0x2d2)]+_0x411a9a(0x5c8)+_0x223071['id']+_0x411a9a(0x2bc)+_0x223071[_0x411a9a(0x882)][_0x411a9a(0xc8f)]+_0x411a9a(0x595)+_0x223071['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x223071['id']+_0x411a9a(0x211)+_0x223071['id']+_0x411a9a(0x206)+_0x223071['id']+_0x411a9a(0x375)+_0x223071['id']+_0x411a9a(0x9e8)+_0x223071['id']+_0x411a9a(0x69c)+_0x324ede+_0x411a9a(0xd8a)+_0x223071['id']+_0x411a9a(0x3a7))[_0x411a9a(0xbc8)]('');}document[_0x411a9a(0x722)](_0x411a9a(0xa68))['onclick']=()=>{openQuizSelectorForBlueprint(_0x324ede);},document[_0x411a9a(0x722)](_0x411a9a(0xc77))[_0x411a9a(0x590)]=()=>_0x419ca9[_0x411a9a(0x820)][_0x411a9a(0xc24)](_0x411a9a(0x330)),_0x419ca9[_0x411a9a(0x820)][_0x411a9a(0xda2)]('hidden');}catch(_0x3917cf){showMessage(_0x3917cf[_0x411a9a(0x83d)]);}}async function openQuizSelectorForBlueprint(_0x3c1e8d){const _0x2408bf=_0x1dbc7e,_0x110146=document[_0x2408bf(0x722)](_0x2408bf(0x740)),_0x18c2c5=document[_0x2408bf(0x722)](_0x2408bf(0x9fb));_0x18c2c5[_0x2408bf(0x820)][_0x2408bf(0xc24)]('hidden'),document[_0x2408bf(0x722)](_0x2408bf(0x94c))?.[_0x2408bf(0xda2)]();const _0x576625=document[_0x2408bf(0xb75)]('button');_0x576625['id']=_0x2408bf(0x94c),_0x576625[_0x2408bf(0x402)]=_0x2408bf(0x2f2),_0x576625[_0x2408bf(0x2eb)]='เพิ่มรายการที่เลือก',_0x576625[_0x2408bf(0xce0)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x110146[_0x2408bf(0x820)][_0x2408bf(0xda2)]('hidden'),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x2408bf(0xaad))[_0x2408bf(0xa20)][_0x2408bf(0xd1c)]='none',_0x110146[_0x2408bf(0x390)](_0x2408bf(0x7ac))['appendChild'](_0x576625);const _0x183d44=(_0x151c0c=![])=>{const _0xdef10c=_0x2408bf;_0x110146[_0xdef10c(0x820)][_0xdef10c(0xc24)]('hidden'),document['getElementById']('bulk-quiz-settings-btn')[_0xdef10c(0xa20)][_0xdef10c(0xd1c)]=_0xdef10c(0x364),_0x576625[_0xdef10c(0xda2)](),_0x151c0c&&openTopicQuizBank(_0x3c1e8d);};_0x576625[_0x2408bf(0x590)]=async()=>{const _0x15463d=_0x2408bf,_0xf8531f=Array[_0x15463d(0xb64)](document[_0x15463d(0x2ff)](_0x15463d(0x675)))[_0x15463d(0xab8)](_0x54d51e=>_0x54d51e[_0x15463d(0xa46)]);if(_0xf8531f['length']===0x0)return;try{const _0x21c31a=doc(db,_0x15463d(0xd90)+appId+_0x15463d(0x5b8),currentBlueprintProjectId),_0x5d2591=(await getDoc(_0x21c31a))['data'](),_0x4a0105=_0x5d2591[_0x15463d(0x7ba)][_0x3c1e8d][_0x15463d(0xc26)]||[],_0x5e8679=[...new Set([..._0x4a0105,..._0xf8531f])];await updateDoc(_0x21c31a,{[_0x15463d(0xa38)+_0x3c1e8d+_0x15463d(0xbc4)]:_0x5e8679}),showMessage(_0x15463d(0x4d2)+_0xf8531f[_0x15463d(0xc8f)]+_0x15463d(0xbbf)),_0x183d44(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2d4376){console[_0x15463d(0x300)](_0x15463d(0xe30),_0x2d4376);}},document[_0x2408bf(0x722)](_0x2408bf(0x3c7))['onclick']=()=>_0x183d44(!![]);}catch(_0x52207b){showMessage(_0x52207b[_0x2408bf(0x83d)]),_0x18c2c5[_0x2408bf(0x820)][_0x2408bf(0xda2)]('hidden');}}function handleClearLinkedQuiz(_0x205b8c){const _0x204fcc=_0x1dbc7e;showConfirmation(_0x204fcc(0x439),async()=>{const _0x20bb40=_0x204fcc;try{const _0xad12a7=doc(db,_0x20bb40(0xd90)+appId+_0x20bb40(0x5b8),currentBlueprintProjectId);await updateDoc(_0xad12a7,{[_0x20bb40(0xa38)+_0x205b8c+_0x20bb40(0x7e9)]:deleteField()}),showMessage(_0x20bb40(0x5e5)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x198b8d){console[_0x20bb40(0x300)](_0x20bb40(0x481),_0x198b8d),showMessage(_0x20bb40(0x7fb));}});}async function addTopicToProject(){const _0x39467f=_0x1dbc7e,_0x5278b1=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0x5278b1||_0x5278b1[_0x39467f(0xbe3)]()==='')return;const _0x22baae=prompt(_0x39467f(0x677),'สาระที่\x201'),_0x7600f6=prompt('อยู่ในหัวข้อหลักใด:',_0x39467f(0xbea)),_0x1f3180=_0x39467f(0xd68)+Date[_0x39467f(0x3e0)]()+Math[_0x39467f(0x92b)]()[_0x39467f(0x992)](0x24)[_0x39467f(0x219)](0x2,0x9),_0x4c6b22={'sara':_0x22baae,'mainTopic':_0x7600f6,'subTopic':_0x5278b1[_0x39467f(0xbe3)](),'status':_0x39467f(0x1ec),'lessonContent':null};try{const _0x4c95d2=doc(db,_0x39467f(0xd90)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x4c95d2,{[_0x39467f(0xa38)+_0x1f3180]:_0x4c6b22}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x38b5fb){console[_0x39467f(0x300)](_0x39467f(0x56b),_0x38b5fb),showMessage(_0x39467f(0xa5e));}}async function editTopicInProject(_0x387431){const _0x5b3c3e=_0x1dbc7e,_0x10b39b=document['querySelector'](_0x5b3c3e(0x4db)+_0x387431+'\x22]'),_0xa1b657=_0x10b39b[_0x5b3c3e(0x390)](_0x5b3c3e(0x58f)),_0x36220b=_0xa1b657[_0x5b3c3e(0x2eb)],_0x217492=prompt(_0x5b3c3e(0x500),_0x36220b);if(!_0x217492||_0x217492[_0x5b3c3e(0xbe3)]()===''||_0x217492[_0x5b3c3e(0xbe3)]()===_0x36220b)return;try{const _0x1c4717=doc(db,_0x5b3c3e(0xd90)+appId+_0x5b3c3e(0x5b8),currentBlueprintProjectId);await updateDoc(_0x1c4717,{['topics.'+_0x387431+_0x5b3c3e(0xebd)]:_0x217492[_0x5b3c3e(0xbe3)]()}),_0xa1b657[_0x5b3c3e(0x2eb)]=_0x217492[_0x5b3c3e(0xbe3)](),showMessage(_0x5b3c3e(0xa43));}catch(_0x1ee355){console['error'](_0x5b3c3e(0x647),_0x1ee355),showMessage(_0x5b3c3e(0xafc));}}async function deleteTopicFromProject(_0x46ede4){const _0x20f96e=_0x1dbc7e;if(!confirm(_0x20f96e(0xb82)))return;try{const _0x3022e1=doc(db,_0x20f96e(0xd90)+appId+_0x20f96e(0x5b8),currentBlueprintProjectId);await updateDoc(_0x3022e1,{[_0x20f96e(0xa38)+_0x46ede4]:deleteField()}),document[_0x20f96e(0x390)](_0x20f96e(0x4db)+_0x46ede4+'\x22]')['remove'](),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x30e63d){console[_0x20f96e(0x300)](_0x20f96e(0x924),_0x30e63d),showMessage(_0x20f96e(0x8a6));}}async function generateAndSaveLessonForBlueprint(_0x42286c,_0x4f2025,_0xce9816){handleGenerateAndShowLesson(_0x4f2025,_0xce9816);const _0x46d647=setInterval(async()=>{const _0x2a0602=_0x320f,_0x2c4025=document[_0x2a0602(0x722)](_0x2a0602(0x85f)),_0x540eaa=_0x2c4025[_0x2a0602(0x820)]['contains']('hidden');if(_0x540eaa){clearInterval(_0x46d647);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x1a7421={'point':document[_0x2a0602(0x722)](_0x2a0602(0x628))[_0x2a0602(0x5dd)],'memory':document[_0x2a0602(0x722)](_0x2a0602(0xcf3))[_0x2a0602(0x5dd)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById']('summaryContent')[_0x2a0602(0x5dd)]};try{const _0x27980c=doc(db,_0x2a0602(0xd90)+appId+_0x2a0602(0x5b8),currentBlueprintProjectId),_0x220f7f=doc(db,_0x2a0602(0xd90)+appId+_0x2a0602(0xbaf)+currentBlueprintProjectId+_0x2a0602(0x5bd),_0x42286c),_0x22d41d=writeBatch(db);_0x22d41d[_0x2a0602(0x4c6)](_0x220f7f,{'content':_0x1a7421}),_0x22d41d['update'](_0x27980c,{['topics.'+_0x42286c+_0x2a0602(0xe04)]:_0x2a0602(0x7a3)}),await _0x22d41d[_0x2a0602(0x783)](),console['log']('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x42286c+_0x2a0602(0xef5)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x12c3f4){console[_0x2a0602(0x300)](_0x2a0602(0xc50),_0x12c3f4);}}}},0x3e8);}function displayHalfMarkResult(_0x583f01,_0x4eca1f){const _0x36138e=_0x1dbc7e,_0x442650=_0x583f01>=_0x4eca1f/0x2,_0x1dd34=_0x442650?_0x36138e(0xa59):_0x36138e(0x59c),_0x4c0412=_0x442650?_0x36138e(0xb79):_0x36138e(0xe81),_0xaa41a5=_0x442650?_0x36138e(0xe3c):'text-red-800',_0xc6f8e0=_0x442650?'ทำคะแนนได้เกินครึ่ง':_0x36138e(0xd27),_0x11a9d1=_0x442650?_0x36138e(0x93c):_0x36138e(0xc82);let _0x494423=_0x36138e(0x8ed)+_0x1dd34+_0x36138e(0x2b3)+_0x4c0412+_0x36138e(0x44d)+_0xaa41a5+_0x36138e(0x728)+_0xc6f8e0+_0x36138e(0x580)+_0x11a9d1+_0x36138e(0x58c);studentResultArea[_0x36138e(0x5dd)]=_0x494423,studentResultArea[_0x36138e(0x820)]['remove'](_0x36138e(0x330)),studentQuizArea[_0x36138e(0x820)][_0x36138e(0xc24)](_0x36138e(0x330)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x442650});}function displayPerfectScoreResult(_0x4072c8,_0x24b945){const _0xf62491=_0x1dbc7e,_0x28b2fd=_0x4072c8===_0x24b945,_0x7c4ab2=_0x28b2fd?'bg-yellow-100':_0xf62491(0x496),_0x5c7002=_0x28b2fd?_0xf62491(0x421):_0xf62491(0xa65),_0x27307a=_0x28b2fd?_0xf62491(0x528):'text-blue-800',_0x15fb4=_0x28b2fd?_0xf62491(0xb3e):_0xf62491(0x809),_0x3b950c=_0x28b2fd?_0xf62491(0x2d6):_0xf62491(0xb6b);let _0x49908a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x7c4ab2+_0xf62491(0x2b3)+_0x5c7002+_0xf62491(0x44d)+_0x27307a+_0xf62491(0x728)+_0x15fb4+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x3b950c+_0xf62491(0x58c);studentResultArea[_0xf62491(0x5dd)]=_0x49908a,studentResultArea[_0xf62491(0x820)][_0xf62491(0xda2)](_0xf62491(0x330)),studentQuizArea[_0xf62491(0x820)][_0xf62491(0xc24)](_0xf62491(0x330)),setupResultScreenBackButton({'showRankings':![],'score':_0x4072c8,'totalQuestions':_0x24b945});}function renderIndividualComparisonTable(_0x155752,_0x1f3d6f){const _0x1a2ce3=_0x1dbc7e;_0x155752['sort']((_0x26f82f,_0x15845e)=>(_0x15845e[_0x1a2ce3(0xadd)]??-Infinity)-(_0x26f82f['tGain']??-Infinity));let _0x40fb37=_0x1a2ce3(0x473);_0x155752[_0x1a2ce3(0xc8f)]===0x0?_0x40fb37+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x155752[_0x1a2ce3(0xb04)]((_0x52246f,_0x591164)=>{const _0x468f1d=_0x1a2ce3;let _0x27286e='-',_0x212a7e='';if(_0x52246f[_0x468f1d(0x3f4)]!==null){const _0x471263=_0x52246f[_0x468f1d(0x3f4)]>0x0?_0x468f1d(0xb00):_0x52246f['gain']<0x0?_0x468f1d(0xc34):_0x468f1d(0xe18),_0x187cf0=_0x52246f[_0x468f1d(0x3f4)]>0x0?'+':'';_0x27286e=_0x468f1d(0x22d)+_0x471263+'\x22>'+_0x187cf0+_0x52246f[_0x468f1d(0x3f4)]+_0x468f1d(0x24e);if(_0x52246f[_0x468f1d(0x3f4)]>0x0)_0x212a7e=_0x468f1d(0xb7b);else _0x52246f[_0x468f1d(0x3f4)]<0x0?_0x212a7e=_0x468f1d(0x828):_0x212a7e=_0x468f1d(0xf01);}let _0x5aed65='-';if(_0x52246f[_0x468f1d(0xadd)]!==null){const _0x39ae36=_0x52246f['tGain']>0x0?_0x468f1d(0xb00):_0x52246f[_0x468f1d(0xadd)]<0x0?_0x468f1d(0xc34):_0x468f1d(0xe18),_0x404fda=_0x52246f[_0x468f1d(0xadd)]>0x0?'+':'';_0x5aed65='<span\x20class=\x22font-bold\x20'+_0x39ae36+'\x22>'+_0x404fda+_0x52246f[_0x468f1d(0xadd)][_0x468f1d(0x8a8)](0x2)+_0x468f1d(0x24e);}_0x40fb37+=_0x468f1d(0xd86)+(_0x591164+0x1)+_0x468f1d(0xa0b)+_0x52246f[_0x468f1d(0x39f)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x52246f[_0x468f1d(0xc46)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x52246f[_0x468f1d(0xca3)]??'-')+_0x468f1d(0xd2f)+_0x27286e+_0x468f1d(0x624)+_0x212a7e+_0x468f1d(0x4eb)+(_0x52246f[_0x468f1d(0x891)]?.[_0x468f1d(0x8a8)](0x2)??'-')+_0x468f1d(0x1ed)+(_0x52246f[_0x468f1d(0x5c3)]?.[_0x468f1d(0x8a8)](0x2)??'-')+_0x468f1d(0xd2f)+_0x5aed65+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x40fb37+=_0x1a2ce3(0xea7),_0x1f3d6f[_0x1a2ce3(0x5dd)]=_0x40fb37;}function handleRenameQuiz(_0x8497e3,_0x525737){const _0x232645=_0x1dbc7e;actionTargetId=_0x8497e3,document['getElementById'](_0x232645(0xa66))[_0x232645(0xa46)]=_0x525737,renameQuizModal[_0x232645(0x820)][_0x232645(0xda2)]('hidden');}function setupComparisonModalTabs(){const _0x5647ea=_0x1dbc7e,_0x20f23e=document[_0x5647ea(0x722)]('comparison-overall-tab'),_0x218e3a=document['getElementById'](_0x5647ea(0x963)),_0x3b2f32=document[_0x5647ea(0x722)](_0x5647ea(0xd1e)),_0x2b93fe=document[_0x5647ea(0x722)](_0x5647ea(0x4ed));_0x20f23e['addEventListener']('click',()=>{const _0x4017cc=_0x5647ea;_0x20f23e[_0x4017cc(0x820)][_0x4017cc(0xc24)]('active'),_0x218e3a['classList'][_0x4017cc(0xda2)](_0x4017cc(0x44f)),_0x3b2f32[_0x4017cc(0x820)][_0x4017cc(0xda2)](_0x4017cc(0x330)),_0x2b93fe['classList'][_0x4017cc(0xc24)](_0x4017cc(0x330));}),_0x218e3a['addEventListener'](_0x5647ea(0xa25),()=>{const _0x1d0060=_0x5647ea;_0x218e3a[_0x1d0060(0x820)][_0x1d0060(0xc24)](_0x1d0060(0x44f)),_0x20f23e[_0x1d0060(0x820)][_0x1d0060(0xda2)](_0x1d0060(0x44f)),_0x2b93fe[_0x1d0060(0x820)][_0x1d0060(0xda2)]('hidden'),_0x3b2f32[_0x1d0060(0x820)]['add']('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x320c8f=_0x1dbc7e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x24dbe5=doc(db,_0x320c8f(0xd90)+appId+_0x320c8f(0xb80),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x24dbe5,_0xcb02ae=>{const _0x4267c0=_0x320c8f;if(!_0xcb02ae['exists']()){showMessage(_0x4267c0(0xc63));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4267c0(0x2f1)?showView(_0x4267c0(0xbfc)):showView('student');return;}const _0x2e5f99=_0xcb02ae[_0x4267c0(0x690)]();_0x2e5f99[_0x4267c0(0x2b5)]&&(currentQuizData=_0x2e5f99[_0x4267c0(0x2b5)]);!currentQuizData&&_0x2e5f99[_0x4267c0(0x7ff)]&&((async()=>{const _0x184c4d=_0x4267c0;try{const _0xc2c857=doc(db,_0x184c4d(0xd90)+appId+_0x184c4d(0x806),_0x2e5f99[_0x184c4d(0x7ff)]),_0x4c6bda=await getDoc(_0xc2c857);_0x4c6bda[_0x184c4d(0x5c5)]()&&(currentQuizData={'id':_0x4c6bda['id'],..._0x4c6bda['data']()});}catch(_0x1634ef){console[_0x184c4d(0x300)](_0x184c4d(0x3db),_0x1634ef);}})());switch(_0x2e5f99[_0x4267c0(0x600)]){case _0x4267c0(0xcc9):if(currentMode===_0x4267c0(0x2f1)){const _0x34a0f9=_0x2e5f99[_0x4267c0(0x8d6)]?Object[_0x4267c0(0xabb)](_0x2e5f99[_0x4267c0(0x8d6)]):[],_0x4d69b8=_0x34a0f9['filter'](([_0x2c0859,_0x21724c])=>_0x21724c[_0x4267c0(0x600)]===_0x4267c0(0x44f)),_0x131917=document[_0x4267c0(0x722)](_0x4267c0(0x8d3));if(_0x131917)_0x131917[_0x4267c0(0x2eb)]=_0x4d69b8['length'];const _0x15d349=document[_0x4267c0(0x722)]('player-list-lobby');_0x15d349&&(_0x15d349['innerHTML']=_0x4d69b8[_0x4267c0(0xab8)](([_0x40d6ba,_0x4413ee])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x40d6ba+_0x4267c0(0xada)+_0x40d6ba+_0x4267c0(0x625))[_0x4267c0(0xbc8)](''));const _0x72d4d4=document[_0x4267c0(0x722)]('start-game-btn');_0x72d4d4&&(_0x72d4d4['disabled']=_0x4d69b8[_0x4267c0(0xc8f)]===0x0);}else showView('live-game'),liveGameView[_0x4267c0(0x5dd)]=_0x4267c0(0x433)+currentStudentName+_0x4267c0(0xe45);break;case'question':const _0x3c5330=_0x2e5f99[_0x4267c0(0x8fe)];if(currentQuizData&&currentQuizData[_0x4267c0(0x882)][_0x3c5330]){const _0x567719=currentQuizData[_0x4267c0(0x882)][_0x3c5330],_0xd2c3ac=_0x2e5f99[_0x4267c0(0x912)]||_0x4267c0(0x976);switch(_0xd2c3ac){case _0x4267c0(0x326):currentMode===_0x4267c0(0x2f1)?showAdminSummaryView(_0x2e5f99,_0x567719):showPlayerSummaryView(_0x2e5f99,currentStudentName);break;case _0x4267c0(0x6f5):currentMode==='admin'&&showTop5LeaderboardView(_0x2e5f99);break;case _0x4267c0(0x976):default:if(currentMode==='admin'){const _0x2d93db=writeBatch(db);let _0x1489f9=![];Object[_0x4267c0(0xabb)](_0x2e5f99[_0x4267c0(0x8d6)])[_0x4267c0(0xb04)](([_0x2d0e77,_0x590fd1])=>{const _0x3a9282=_0x4267c0;if(_0x590fd1[_0x3a9282(0x600)]===_0x3a9282(0x44f)&&_0x590fd1['submittedAt']&&!_0x590fd1[_0x3a9282(0x6a6)]){_0x1489f9=!![];const _0x3f2b61=_0x590fd1[_0x3a9282(0x465)][_0x3a9282(0xc10)]()-_0x2e5f99[_0x3a9282(0x4c5)][_0x3a9282(0xc10)]();let _0x3d681d=0x0;if(_0x590fd1['lastAnswerCorrect']){const _0x1fb562=0x3e8,_0x3621f4=0x1f4,_0x29c1bd=0x4e20;let _0x1b38bf=_0x3f2b61/_0x29c1bd;if(_0x1b38bf>0x1)_0x1b38bf=0x1;const _0x254786=Math[_0x3a9282(0x509)](_0x1b38bf*_0x3621f4);_0x3d681d=_0x1fb562-_0x254786;}const _0x4ad5bc=doc(db,_0x3a9282(0xd90)+appId+_0x3a9282(0xb80),currentLiveGameId);_0x2d93db[_0x3a9282(0x81a)](_0x4ad5bc,{[_0x3a9282(0x8f4)+_0x2d0e77+_0x3a9282(0x4bc)]:increment(_0x3d681d),[_0x3a9282(0x8f4)+_0x2d0e77+_0x3a9282(0x21e)]:_0x3d681d,[_0x3a9282(0x8f4)+_0x2d0e77+_0x3a9282(0x331)]:!![]});}});_0x1489f9&&_0x2d93db['commit']()[_0x4267c0(0xb2a)](_0x3cdc83=>console[_0x4267c0(0x300)](_0x4267c0(0xabc),_0x3cdc83));lastRenderedAdminQuestionIndex!==_0x3c5330&&(showAdminLiveQuestionView(_0x567719,_0x3c5330,currentQuizData[_0x4267c0(0x882)][_0x4267c0(0xc8f)]),lastRenderedAdminQuestionIndex=_0x3c5330);const _0x36c67d=_0x2e5f99[_0x4267c0(0x8d6)]||{},_0x1c5bf4=Object[_0x4267c0(0x368)](_0x36c67d)['filter'](_0x273ad0=>_0x273ad0[_0x4267c0(0x600)]==='active'),_0xd0c692=_0x1c5bf4['length'],_0x23eef7=_0x1c5bf4[_0x4267c0(0x6b9)](_0x2f6ecc=>_0x2f6ecc[_0x4267c0(0x7f9)]===!![])[_0x4267c0(0xc8f)],_0x3aab58=document[_0x4267c0(0x722)]('answer-counter');if(_0x3aab58)_0x3aab58[_0x4267c0(0x2eb)]=_0x23eef7+'/'+_0xd0c692;const _0x1a691e=document[_0x4267c0(0x722)](_0x4267c0(0x8ac));if(_0x1a691e){let _0x30bded=Object[_0x4267c0(0xabb)](_0x36c67d)[_0x4267c0(0x6b9)](([_0x3e197c,_0xe1d56])=>_0xe1d56[_0x4267c0(0x600)]===_0x4267c0(0x44f))['map'](([_0x284e70,_0x3bab16])=>{const _0x489c23=_0x4267c0,_0x7174ed=_0x3bab16[_0x489c23(0x7f9)]===!![],_0x42f4ce=_0x7174ed?'bg-green-500':_0x489c23(0x26b),_0x1b0553=_0x7174ed?_0x489c23(0xe12):_0x489c23(0x643);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x42f4ce+_0x489c23(0xaca)+_0x1b0553+_0x489c23(0x501)+_0x284e70+_0x489c23(0x8e9)+_0x284e70+_0x489c23(0x81e);})['join']('');_0x1a691e[_0x4267c0(0x5dd)]=_0x30bded||_0x4267c0(0x730);}_0xd0c692>0x0&&_0x23eef7===_0xd0c692&&revealAnswerForAdmin(_0x3c5330,currentQuizData[_0x4267c0(0x882)][_0x4267c0(0xc8f)]);}else{const _0x465d0e=_0x2e5f99[_0x4267c0(0x8d6)][currentStudentName];_0x465d0e&&!_0x465d0e[_0x4267c0(0x7f9)]&&showStudentLiveQuestionView(_0x567719,_0x3c5330,currentQuizData[_0x4267c0(0x882)][_0x4267c0(0xc8f)]);}break;}}break;case _0x4267c0(0xebc):showPodiumView(_0x2e5f99['players'],_0x4267c0(0x351));break;}});}async function openGlobalActivityModal(){const _0x5bbdcb=_0x1dbc7e;if(allQuizzesGlobal[_0x5bbdcb(0xc8f)]===0x0){const _0x198ed9=await getDocs(collection(db,_0x5bbdcb(0xd90)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x198ed9[_0x5bbdcb(0xd16)]['map'](_0xab37b1=>({'id':_0xab37b1['id'],..._0xab37b1[_0x5bbdcb(0x690)]()}));}renderGlobalActivityList(''),document['getElementById']('global-activity-modal')['classList'][_0x5bbdcb(0xda2)](_0x5bbdcb(0x330));}function renderGlobalActivityList(_0x21034d=''){const _0x226d7b=_0x1dbc7e,_0x4f7208=document[_0x226d7b(0x722)]('global-activity-quiz-list'),_0x550610=_0x21034d[_0x226d7b(0x2f6)]()['trim'](),_0x4a0e84=allQuizzesGlobal[_0x226d7b(0xab8)](_0x43c688=>({..._0x43c688,'projectName':allProjects[_0x226d7b(0x36c)](_0x5d87c3=>_0x5d87c3['id']===_0x43c688['projectId'])?.[_0x226d7b(0x897)]||'N/A'}))[_0x226d7b(0x6b9)](_0x1364c9=>(_0x1364c9['topic']||'')[_0x226d7b(0x2f6)]()[_0x226d7b(0x549)](_0x550610)||(_0x1364c9[_0x226d7b(0x897)]||'')[_0x226d7b(0x2f6)]()['includes'](_0x550610));document[_0x226d7b(0x722)](_0x226d7b(0x5ad))[_0x226d7b(0x2eb)]='('+_0x4a0e84['length']+'\x20ชุด)',_0x4f7208[_0x226d7b(0x5dd)]=_0x4a0e84[_0x226d7b(0xc8f)]?_0x4a0e84['map'](_0x48c9a1=>_0x226d7b(0x80c)+(_0x48c9a1[_0x226d7b(0x2d2)]||_0x226d7b(0x9d1))+_0x226d7b(0xb7a)+(_0x48c9a1[_0x226d7b(0x882)]?.[_0x226d7b(0xc8f)]||0x0)+_0x226d7b(0x438)+_0x48c9a1['projectName']+_0x226d7b(0xb29)+_0x48c9a1['id']+_0x226d7b(0x467)+_0x48c9a1['id']+_0x226d7b(0x707)+_0x48c9a1['id']+_0x226d7b(0x487)+_0x48c9a1['id']+_0x226d7b(0xe8f))[_0x226d7b(0xbc8)](''):_0x226d7b(0x257);}async function handleKickPlayer(_0x161422){const _0x281b58=_0x1dbc7e;if(!currentLiveGameId||!_0x161422)return;const _0x4dfc41=doc(db,_0x281b58(0xd90)+appId+_0x281b58(0xb80),currentLiveGameId),_0x153757={};_0x153757[_0x281b58(0x8f4)+_0x161422+_0x281b58(0xe04)]='inactive';try{await updateDoc(_0x4dfc41,_0x153757);}catch(_0x4ea330){console[_0x281b58(0x300)](_0x281b58(0xb94)+_0x161422+':',_0x4ea330),showMessage(_0x281b58(0x76a));}}async function authenticateUser(){const _0x388d15=_0x1dbc7e;try{typeof __initial_auth_token!==_0x388d15(0x4fb)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x206b54){console[_0x388d15(0x300)]('Authentication\x20failed:',_0x206b54),showMessage(_0x388d15(0x212));}}function showView(_0x546f75){const _0x379822=_0x1dbc7e;adminView[_0x379822(0x820)][_0x379822(0xc24)](_0x379822(0x330)),studentView[_0x379822(0x820)]['add'](_0x379822(0x330)),projectDashboardView[_0x379822(0x820)][_0x379822(0xc24)](_0x379822(0x330)),projectDetailView[_0x379822(0x820)][_0x379822(0xc24)](_0x379822(0x330)),quizResultsView[_0x379822(0x820)][_0x379822(0xc24)]('hidden'),liveGameView['classList'][_0x379822(0xc24)](_0x379822(0x330)),document['getElementById'](_0x379822(0x31e))['classList'][_0x379822(0xc24)]('hidden'),studentInitialView[_0x379822(0x820)]['add'](_0x379822(0x330)),studentJoinGameView['classList'][_0x379822(0xc24)]('hidden'),studentNameSelectionView[_0x379822(0x820)][_0x379822(0xc24)]('hidden'),studentQuizArea[_0x379822(0x820)][_0x379822(0xc24)](_0x379822(0x330)),studentResultArea[_0x379822(0x820)][_0x379822(0xc24)](_0x379822(0x330)),studentReadingArea['classList']['add']('hidden');const _0xdb7657=document[_0x379822(0x722)](_0x379822(0xee4)),_0x209330=document[_0x379822(0x722)](_0x379822(0x22c));if(_0xdb7657)_0xdb7657[_0x379822(0x820)]['add'](_0x379822(0x330));if(_0x209330)_0x209330[_0x379822(0x820)][_0x379822(0xc24)](_0x379822(0x330));switch(_0x546f75){case _0x379822(0xe49):adminView[_0x379822(0x820)][_0x379822(0xda2)](_0x379822(0x330)),projectDashboardView['classList'][_0x379822(0xda2)](_0x379822(0x330));break;case _0x379822(0xbfc):adminView['classList']['remove'](_0x379822(0x330)),projectDetailView[_0x379822(0x820)][_0x379822(0xda2)]('hidden');break;case _0x379822(0xaee):adminView[_0x379822(0x820)][_0x379822(0xda2)](_0x379822(0x330)),quizResultsView[_0x379822(0x820)][_0x379822(0xda2)](_0x379822(0x330));break;case _0x379822(0x7fe):studentView[_0x379822(0x820)][_0x379822(0xda2)]('hidden'),studentInitialView[_0x379822(0x820)][_0x379822(0xda2)](_0x379822(0x330));break;case'live-game':liveGameView[_0x379822(0x820)]['remove'](_0x379822(0x330));break;case'student-team-join':studentView[_0x379822(0x820)]['remove'](_0x379822(0x330));if(_0xdb7657)_0xdb7657[_0x379822(0x820)][_0x379822(0xda2)](_0x379822(0x330));break;case _0x379822(0x965):studentView[_0x379822(0x820)]['remove'](_0x379822(0x330));if(_0x209330)_0x209330[_0x379822(0x820)]['remove'](_0x379822(0x330));break;default:studentView[_0x379822(0x820)][_0x379822(0xda2)](_0x379822(0x330)),studentInitialView[_0x379822(0x820)][_0x379822(0xda2)](_0x379822(0x330));break;}}function showJoinGameView(){const _0x2f2faf=_0x1dbc7e;studentInitialView['classList']['add'](_0x2f2faf(0x330)),studentJoinGameView[_0x2f2faf(0x820)][_0x2f2faf(0xda2)](_0x2f2faf(0x330));}async function handleSaveVisibilitySettings(){const _0x3dcb1a=_0x1dbc7e;if(!currentProjectId)return;const _0x4840a9=doc(db,'artifacts/'+appId+_0x3dcb1a(0xb97),currentProjectId);try{await updateDoc(_0x4840a9,{'settings.showInStudentDashboard':document[_0x3dcb1a(0x722)](_0x3dcb1a(0xca0))['checked'],'settings.isPasscodeEnabled':document[_0x3dcb1a(0x722)](_0x3dcb1a(0x30b))['checked'],'settings.passcode':document[_0x3dcb1a(0x722)]('project-passcode-input')[_0x3dcb1a(0xa46)]['trim']()}),showMessage(_0x3dcb1a(0xba2));}catch(_0x1c198a){console[_0x3dcb1a(0x300)](_0x3dcb1a(0x906),_0x1c198a),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x105f10=_0x1dbc7e,_0x391b29=document[_0x105f10(0x722)](_0x105f10(0x799));_0x391b29&&_0x391b29['addEventListener'](_0x105f10(0xa25),()=>{const _0x100e70=_0x105f10,_0x192407=document['getElementById'](_0x100e70(0x522)),_0xbdf921=document[_0x100e70(0x722)](_0x100e70(0x927));_0x192407&&(_0x192407[_0x100e70(0xa46)]=_0x192407['max'],_0xbdf921&&(_0xbdf921['textContent']=_0x192407['value'],_0xbdf921[_0x100e70(0x820)][_0x100e70(0xda2)]('scale-125'),void _0xbdf921['offsetWidth'],_0xbdf921[_0x100e70(0x820)][_0x100e70(0xc24)]('transform',_0x100e70(0xb8a),'scale-125',_0x100e70(0xc34)),setTimeout(()=>_0xbdf921['classList'][_0x100e70(0xda2)](_0x100e70(0xb95),_0x100e70(0xc34)),0xc8)));});document[_0x105f10(0x722)](_0x105f10(0x8aa))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x2a83d2=_0x105f10;document[_0x2a83d2(0x722)](_0x2a83d2(0x559))['classList']['add'](_0x2a83d2(0x330));}),document['getElementById']('confirm-wager-btn')[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x2e4d43=_0x105f10,_0x254bd3=document[_0x2e4d43(0x722)](_0x2e4d43(0x559)),_0x87755f=document[_0x2e4d43(0x722)](_0x2e4d43(0x879)),_0x12e0cb=document[_0x2e4d43(0x722)]('wager-slider')[_0x2e4d43(0xa46)],_0x19b185=_0x87755f[_0x2e4d43(0xa7e)][_0x2e4d43(0xa6a)],_0x4fe414=JSON[_0x2e4d43(0x684)](_0x87755f[_0x2e4d43(0xa7e)][_0x2e4d43(0x22f)]),_0x361d46=JSON[_0x2e4d43(0x684)](_0x87755f[_0x2e4d43(0xa7e)]['gameData']),_0x32468e=_0x87755f[_0x2e4d43(0xa7e)][_0x2e4d43(0x6de)];_0x254bd3['classList'][_0x2e4d43(0xc24)](_0x2e4d43(0x330)),handleSyncAnswerSubmit(_0x19b185,_0x4fe414,_0x361d46,_0x32468e,![],_0x12e0cb);}),document[_0x105f10(0x2ff)](_0x105f10(0x34b))['forEach'](_0x5610b4=>{const _0x279f1e=_0x105f10;_0x5610b4[_0x279f1e(0x939)](_0x279f1e(0xe0f),_0x6c4985=>{const _0x32726f=_0x279f1e,_0x1a5084=document['getElementById'](_0x32726f(0x507));_0x6c4985[_0x32726f(0xa4c)]['value']===_0x32726f(0x699)?_0x1a5084[_0x32726f(0x820)]['remove'](_0x32726f(0x330)):_0x1a5084[_0x32726f(0x820)][_0x32726f(0xc24)](_0x32726f(0x330));});}),document[_0x105f10(0x722)]('sync-timer-enable-checkbox')[_0x105f10(0x939)](_0x105f10(0xe0f),_0xb32c9a=>{const _0x2425a1=_0x105f10;document[_0x2425a1(0x722)](_0x2425a1(0x6c8))[_0x2425a1(0x820)][_0x2425a1(0x9b0)](_0x2425a1(0x330),!_0xb32c9a[_0x2425a1(0xa4c)][_0x2425a1(0x9cd)]);});const _0x2d976d=document[_0x105f10(0x722)](_0x105f10(0x208)),_0xd5a29d=document['getElementById']('confidence-modal');_0x2d976d&&_0xd5a29d&&_0x2d976d[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x1462b8=_0x105f10;_0xd5a29d[_0x1462b8(0x820)]['add'](_0x1462b8(0x330)),_0xd5a29d[_0x1462b8(0xa7e)]['currentMode']='';});const _0x2b264b=document['getElementById'](_0x105f10(0x697));_0x2b264b&&(_0x2b264b[_0x105f10(0x939)](_0x105f10(0x8a9),wakeUpScreen),_0x2b264b['addEventListener'](_0x105f10(0x753),wakeUpScreen));document['getElementById'](_0x105f10(0x79b))[_0x105f10(0x939)](_0x105f10(0xa25),async()=>{const _0x443f58=_0x105f10;if(!currentBlueprintProjectId)return;const _0x2bfd11=document[_0x443f58(0x722)](_0x443f58(0xa6b))[_0x443f58(0xa46)][_0x443f58(0xbe3)](),_0x36a61a=doc(db,'artifacts/'+appId+_0x443f58(0x5b8),currentBlueprintProjectId);try{await updateDoc(_0x36a61a,{'referenceFileUrl':_0x2bfd11}),showMessage(_0x443f58(0x9be));}catch(_0x56ee70){console[_0x443f58(0x300)]('Error\x20saving\x20reference\x20URL:',_0x56ee70),showMessage(_0x443f58(0xdf6));}}),document[_0x105f10(0x722)]('add-parallel-shortcut-tab-btn')['addEventListener'](_0x105f10(0xa25),handleAddParallelShortcutTab),document[_0x105f10(0x722)](_0x105f10(0x9aa))[_0x105f10(0x939)](_0x105f10(0xa25),_0xd77adf=>{const _0x33cc02=_0x105f10;_0xd77adf['target']['closest']('#open-additional-parallel-shortcuts-btn')&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x33cc02(0x722)]('additional-parallel-shortcuts-modal')[_0x33cc02(0x820)][_0x33cc02(0xda2)]('hidden'));}),document[_0x105f10(0x722)](_0x105f10(0x845))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x5a4d8f=_0x105f10;document[_0x5a4d8f(0x722)](_0x5a4d8f(0xe21))[_0x5a4d8f(0x820)]['add'](_0x5a4d8f(0x330));}),document[_0x105f10(0x939)](_0x105f10(0xa25),_0x1b7e7b=>{const _0x376cd2=_0x105f10;!_0x1b7e7b[_0x376cd2(0xa4c)][_0x376cd2(0xecd)](_0x376cd2(0x6c4))&&document[_0x376cd2(0x2ff)]('.move-parallel-shortcut-dropdown')[_0x376cd2(0xb04)](_0x355446=>_0x355446[_0x376cd2(0x820)][_0x376cd2(0xc24)]('hidden'));}),document['getElementById'](_0x105f10(0x478))[_0x105f10(0x939)](_0x105f10(0xa25),handleAddFileShortcutTab),document[_0x105f10(0x722)](_0x105f10(0x227))['addEventListener'](_0x105f10(0xa25),_0x88c794=>{const _0x43f39c=_0x105f10;_0x88c794[_0x43f39c(0xa4c)]['closest'](_0x43f39c(0xb72))&&(activeFileShortcutTabId=_0x43f39c(0x829),renderAdditionalFileShortcutsModal(),document[_0x43f39c(0x722)](_0x43f39c(0x604))[_0x43f39c(0x820)][_0x43f39c(0xda2)](_0x43f39c(0x330)));}),document[_0x105f10(0x722)]('close-additional-file-shortcuts-btn')[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x46fe80=_0x105f10;document[_0x46fe80(0x722)](_0x46fe80(0x604))[_0x46fe80(0x820)][_0x46fe80(0xc24)](_0x46fe80(0x330));}),document[_0x105f10(0x939)](_0x105f10(0xa25),_0x3d5625=>{const _0x3f85f8=_0x105f10;!_0x3d5625[_0x3f85f8(0xa4c)][_0x3f85f8(0xecd)](_0x3f85f8(0x347))&&document['querySelectorAll'](_0x3f85f8(0x769))[_0x3f85f8(0xb04)](_0x5b3c86=>_0x5b3c86[_0x3f85f8(0x820)][_0x3f85f8(0xc24)](_0x3f85f8(0x330)));}),document[_0x105f10(0x722)](_0x105f10(0x318))['addEventListener'](_0x105f10(0xa25),handleAddShortcutTab),document[_0x105f10(0x722)]('parallel-shortcut-container')[_0x105f10(0x939)](_0x105f10(0xa25),_0x31bb23=>{const _0x3db4d7=_0x105f10,_0x5a2e4b=_0x31bb23['target']['closest'](_0x3db4d7(0x236)),_0x36f368=_0x31bb23[_0x3db4d7(0xa4c)][_0x3db4d7(0xecd)](_0x3db4d7(0x3f6)),_0x3ad154=_0x31bb23[_0x3db4d7(0xa4c)][_0x3db4d7(0xecd)](_0x3db4d7(0xde7));if(_0x36f368)openParallelTestShortcutEditor(_0x36f368['dataset']['id']);else{if(_0x3ad154){const _0x15e4e1=_0x3ad154[_0x3db4d7(0xa7e)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x24641c=_0x3db4d7,_0x192fbc=parallelTestShortcuts[_0x24641c(0x6b9)](_0x1992c3=>_0x1992c3['id']!==_0x15e4e1),_0x4059f2=doc(db,_0x24641c(0x6f8),_0x24641c(0xd47));await setDoc(_0x4059f2,{'shortcuts':_0x192fbc},{'merge':!![]});});}else _0x5a2e4b&&handleParallelTestShortcutClick(_0x5a2e4b[_0x3db4d7(0xa7e)]['id']);}}),document[_0x105f10(0x722)](_0x105f10(0x470))['addEventListener'](_0x105f10(0xa25),()=>openParallelTestShortcutEditor(null)),document[_0x105f10(0x722)]('cancel-parallel-shortcut-edit-btn')[_0x105f10(0x939)]('click',()=>{const _0x67688c=_0x105f10;document[_0x67688c(0x722)](_0x67688c(0x42a))['classList']['add'](_0x67688c(0x330));}),document[_0x105f10(0x722)](_0x105f10(0xc0d))[_0x105f10(0x939)](_0x105f10(0xa25),saveParallelTestShortcutChanges),document[_0x105f10(0x722)](_0x105f10(0x9aa))[_0x105f10(0x939)]('click',_0x1c63ab=>{const _0x146305=_0x105f10;_0x1c63ab[_0x146305(0xa4c)][_0x146305(0xecd)]('#open-additional-parallel-shortcuts-btn')&&document['getElementById']('additional-parallel-shortcuts-modal')[_0x146305(0x820)]['remove']('hidden');}),document[_0x105f10(0x722)](_0x105f10(0x845))[_0x105f10(0x939)]('click',()=>{const _0x2b2545=_0x105f10;document[_0x2b2545(0x722)](_0x2b2545(0xe21))[_0x2b2545(0x820)][_0x2b2545(0xc24)](_0x2b2545(0x330));}),document[_0x105f10(0x722)](_0x105f10(0xbb8))['addEventListener']('click',_0x23f7ce=>{const _0xeaf71f=_0x105f10,_0xe2a14c=document['getElementById']('additional-parallel-shortcuts-modal'),_0x4f895b=_0x23f7ce['target'][_0xeaf71f(0xecd)]('.use-hidden-parallel-shortcut-btn'),_0x44c60c=_0x23f7ce[_0xeaf71f(0xa4c)][_0xeaf71f(0xecd)](_0xeaf71f(0xe41)),_0x4731b6=_0x23f7ce[_0xeaf71f(0xa4c)][_0xeaf71f(0xecd)](_0xeaf71f(0x852));if(_0x4f895b)_0xe2a14c[_0xeaf71f(0x820)]['add'](_0xeaf71f(0x330)),handleParallelTestShortcutClick(_0x4f895b[_0xeaf71f(0xa7e)]['id']);else{if(_0x44c60c)_0xe2a14c[_0xeaf71f(0x820)][_0xeaf71f(0xc24)]('hidden'),openParallelTestShortcutEditor(_0x44c60c[_0xeaf71f(0xa7e)]['id']);else{if(_0x4731b6){const _0x1684b0=_0x4731b6['dataset']['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x7fa104=_0xeaf71f,_0x2a0f07=parallelTestShortcuts[_0x7fa104(0x6b9)](_0x10b1aa=>_0x10b1aa['id']!==_0x1684b0),_0x1250dc=doc(db,_0x7fa104(0x6f8),_0x7fa104(0xd47));await setDoc(_0x1250dc,{'shortcuts':_0x2a0f07},{'merge':!![]});});}}}}),document['getElementById'](_0x105f10(0x52e))[_0x105f10(0x939)](_0x105f10(0xa25),_0x11c747=>{const _0x2a5ad8=_0x105f10,_0x3ecc2e=_0x11c747[_0x2a5ad8(0xa4c)][_0x2a5ad8(0xecd)](_0x2a5ad8(0x9f9)),_0x5d4b7f=_0x11c747['target'][_0x2a5ad8(0xecd)](_0x2a5ad8(0x773)),_0x711123=_0x11c747['target']['closest'](_0x2a5ad8(0xe62));if(_0x5d4b7f)openFileShortcutEditor(_0x5d4b7f[_0x2a5ad8(0xa7e)]['id']);else{if(_0x711123){const _0x107812=_0x711123[_0x2a5ad8(0xa7e)]['id'];showConfirmation(_0x2a5ad8(0xb8f),async()=>{const _0x2404a4=_0x2a5ad8,_0x495b2b=fileShortcuts[_0x2404a4(0x6b9)](_0x4d5d04=>_0x4d5d04['id']!==_0x107812),_0x483869=doc(db,_0x2404a4(0x6f8),_0x2404a4(0xd6d));await setDoc(_0x483869,{'shortcuts':_0x495b2b},{'merge':!![]});});}else _0x3ecc2e&&handleFileShortcutClick(_0x3ecc2e[_0x2a5ad8(0xa7e)]['id']);}}),document[_0x105f10(0x722)](_0x105f10(0x925))['addEventListener'](_0x105f10(0xa25),()=>openFileShortcutEditor(null)),document[_0x105f10(0x722)](_0x105f10(0x738))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x4a0636=_0x105f10;document[_0x4a0636(0x722)](_0x4a0636(0x999))[_0x4a0636(0x820)][_0x4a0636(0xc24)](_0x4a0636(0x330));}),document[_0x105f10(0x722)](_0x105f10(0x969))[_0x105f10(0x939)]('click',saveFileShortcutChanges),document['getElementById'](_0x105f10(0x227))['addEventListener']('click',_0x1b2de9=>{const _0x1ba656=_0x105f10;_0x1b2de9[_0x1ba656(0xa4c)]['closest'](_0x1ba656(0xb72))&&document[_0x1ba656(0x722)]('additional-file-shortcuts-modal')[_0x1ba656(0x820)][_0x1ba656(0xda2)](_0x1ba656(0x330));}),document[_0x105f10(0x722)](_0x105f10(0xbe4))[_0x105f10(0x939)]('click',()=>{const _0x3f78ac=_0x105f10;document[_0x3f78ac(0x722)](_0x3f78ac(0x604))[_0x3f78ac(0x820)][_0x3f78ac(0xc24)]('hidden');}),document['getElementById'](_0x105f10(0x96c))[_0x105f10(0x939)](_0x105f10(0xa25),_0x30639b=>{const _0x3e3404=_0x105f10,_0x10710b=document['getElementById'](_0x3e3404(0x604)),_0x452eac=_0x30639b[_0x3e3404(0xa4c)][_0x3e3404(0xecd)](_0x3e3404(0x979)),_0x26b626=_0x30639b[_0x3e3404(0xa4c)][_0x3e3404(0xecd)]('.edit-hidden-file-shortcut-btn'),_0x5b548f=_0x30639b[_0x3e3404(0xa4c)][_0x3e3404(0xecd)](_0x3e3404(0x551));if(_0x452eac)_0x10710b[_0x3e3404(0x820)][_0x3e3404(0xc24)]('hidden'),handleFileShortcutClick(_0x452eac['dataset']['id']);else{if(_0x26b626)_0x10710b[_0x3e3404(0x820)][_0x3e3404(0xc24)](_0x3e3404(0x330)),openFileShortcutEditor(_0x26b626['dataset']['id']);else{if(_0x5b548f){const _0x127952=_0x5b548f['dataset']['id'];showConfirmation(_0x3e3404(0xb8f),async()=>{const _0x209c49=_0x3e3404,_0x1f6956=fileShortcuts['filter'](_0x461e3c=>_0x461e3c['id']!==_0x127952),_0x599850=doc(db,_0x209c49(0x6f8),_0x209c49(0xd6d));await setDoc(_0x599850,{'shortcuts':_0x1f6956},{'merge':!![]});});}}}}),document['getElementById'](_0x105f10(0xedf))[_0x105f10(0x939)](_0x105f10(0xa25),_0x10cfdd=>{const _0x876ad0=_0x105f10;_0x10cfdd[_0x876ad0(0xa4c)][_0x876ad0(0xecd)](_0x876ad0(0xbb6))&&(activeShortcutTabId=_0x876ad0(0x829),renderAdditionalShortcutsModal(),document[_0x876ad0(0x722)]('additional-shortcuts-modal')[_0x876ad0(0x820)][_0x876ad0(0xda2)](_0x876ad0(0x330)));}),document[_0x105f10(0x722)]('close-additional-shortcuts-btn')[_0x105f10(0x939)]('click',()=>{const _0x512884=_0x105f10;document[_0x512884(0x722)](_0x512884(0x87c))['classList'][_0x512884(0xc24)](_0x512884(0x330));}),document[_0x105f10(0x722)](_0x105f10(0xf05))[_0x105f10(0x939)](_0x105f10(0xa25),_0x4a41a1=>{const _0x350f81=_0x105f10,_0x330036=_0x4a41a1['target']['closest']('.use-hidden-shortcut-btn'),_0x29977e=_0x4a41a1[_0x350f81(0xa4c)][_0x350f81(0xecd)](_0x350f81(0x8b9)),_0x4cf7a8=_0x4a41a1['target'][_0x350f81(0xecd)](_0x350f81(0x39b)),_0x3b6446=document[_0x350f81(0x722)](_0x350f81(0x87c));if(_0x330036)_0x3b6446[_0x350f81(0x820)][_0x350f81(0xc24)]('hidden'),handleShortcutClick(_0x330036['dataset']['id']);else{if(_0x29977e)_0x3b6446[_0x350f81(0x820)][_0x350f81(0xc24)](_0x350f81(0x330)),openShortcutEditor(_0x29977e['dataset']['id']);else{if(_0x4cf7a8){const _0x3a2b68=_0x4cf7a8[_0x350f81(0xa7e)]['id'],_0x438a53=blueprintShortcuts['find'](_0x2a3cc6=>_0x2a3cc6['id']===_0x3a2b68)?.['name'];showConfirmation(_0x350f81(0x3b3)+_0x438a53+'\x22?',async()=>{const _0x1721d6=_0x350f81,_0x3d3ec1=blueprintShortcuts[_0x1721d6(0x6b9)](_0x836b11=>_0x836b11['id']!==_0x3a2b68);try{const _0x4aba7d=doc(db,_0x1721d6(0x6f8),_0x1721d6(0xd9e));await setDoc(_0x4aba7d,{'blueprintShortcuts':_0x3d3ec1},{'merge':!![]});}catch(_0xe0a4e6){console[_0x1721d6(0x300)](_0x1721d6(0x2ae),_0xe0a4e6);}});}}}}),document[_0x105f10(0x722)]('blueprint-shortcut-container')[_0x105f10(0x939)](_0x105f10(0xa25),_0x4aa02d=>{const _0x1f212f=_0x105f10,_0x21ce28=_0x4aa02d[_0x1f212f(0xa4c)][_0x1f212f(0xecd)](_0x1f212f(0xe74)),_0x4c58da=_0x4aa02d[_0x1f212f(0xa4c)]['closest']('.edit-shortcut-btn'),_0x1ba9ff=_0x4aa02d['target']['closest'](_0x1f212f(0x7d3));if(_0x4c58da)openShortcutEditor(_0x4c58da['dataset']['id']);else{if(_0x1ba9ff){const _0x341c7a=_0x1ba9ff[_0x1f212f(0xa7e)]['id'],_0x4e279c=blueprintShortcuts[_0x1f212f(0x36c)](_0x185273=>_0x185273['id']===_0x341c7a)?.[_0x1f212f(0x39f)];showConfirmation(_0x1f212f(0x3b3)+_0x4e279c+'\x22?',async()=>{const _0x4d6118=_0x1f212f,_0x24d6df=blueprintShortcuts[_0x4d6118(0x6b9)](_0x58f786=>_0x58f786['id']!==_0x341c7a);try{const _0x3cfd4d=doc(db,_0x4d6118(0x6f8),'dashboardConfig');await setDoc(_0x3cfd4d,{'blueprintShortcuts':_0x24d6df},{'merge':!![]});}catch(_0x1158b3){console[_0x4d6118(0x300)](_0x4d6118(0x2ae),_0x1158b3);}});}else _0x21ce28&&handleShortcutClick(_0x21ce28['dataset']['id']);}}),document[_0x105f10(0x722)](_0x105f10(0x9d4))['addEventListener']('click',()=>openShortcutEditor(null)),document[_0x105f10(0x722)]('cancel-shortcut-edit-btn')[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x14023c=_0x105f10;document[_0x14023c(0x722)](_0x14023c(0x66f))['classList'][_0x14023c(0xc24)](_0x14023c(0x330));}),document['getElementById']('save-shortcut-btn')[_0x105f10(0x939)]('click',saveShortcutChanges),document[_0x105f10(0x722)](_0x105f10(0xeb1))['addEventListener']('click',async()=>{const _0x12a899=_0x105f10,_0x36e2f7=document[_0x12a899(0x722)](_0x12a899(0xe1b)),_0x6a2a31=document[_0x12a899(0x722)](_0x12a899(0x286));_0x36e2f7[_0x12a899(0x819)][_0x12a899(0xc8f)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x36e2f7[_0x12a899(0x819)][0x0],_0x6a2a31['files'][0x0]||null):showMessage(_0x12a899(0x908));}),document[_0x105f10(0x722)](_0x105f10(0x9fb))[_0x105f10(0x939)](_0x105f10(0xa25),async _0xf64d9a=>{const _0x5dcab9=_0x105f10,_0x4d83fd=document[_0x5dcab9(0x722)]('topic-quiz-bank-modal'),_0x25b432=_0xf64d9a[_0x5dcab9(0xa4c)][_0x5dcab9(0xecd)](_0x5dcab9(0x633)),_0x305392=_0xf64d9a[_0x5dcab9(0xa4c)][_0x5dcab9(0xecd)](_0x5dcab9(0xe15)),_0x5a6562=_0xf64d9a['target'][_0x5dcab9(0xecd)]('.bp-present-btn'),_0x56e715=_0xf64d9a[_0x5dcab9(0xa4c)][_0x5dcab9(0xecd)](_0x5dcab9(0x339)),_0x3708cc=_0xf64d9a['target'][_0x5dcab9(0xecd)](_0x5dcab9(0x715)),_0xa1fd88=_0xf64d9a[_0x5dcab9(0xa4c)][_0x5dcab9(0xecd)](_0x5dcab9(0x802));if(_0x25b432){cameFromBlueprint=!![];const _0x173850=_0x25b432[_0x5dcab9(0xa7e)][_0x5dcab9(0x7ff)];showQuizDetailView(_0x173850),_0x4d83fd[_0x5dcab9(0x820)]['add']('hidden');}else{if(_0x305392){const _0x4bfb41=_0x305392[_0x5dcab9(0xa7e)][_0x5dcab9(0x2da)],_0x381ced=_0x305392[_0x5dcab9(0xa7e)][_0x5dcab9(0x7ff)],_0x17dddb=allQuizzesGlobal[_0x5dcab9(0x36c)](_0x22b69c=>_0x22b69c['id']===_0x381ced),_0xa3e213=_0x17dddb?_0x17dddb['topic']:_0x5dcab9(0x8e3);showConfirmation(_0x5dcab9(0x6ff)+_0xa3e213+_0x5dcab9(0xe19),async()=>{const _0x4a77ec=_0x5dcab9;try{const _0x3ebdb5=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x3ebdb5,{[_0x4a77ec(0xa38)+_0x4bfb41+_0x4a77ec(0xbc4)]:arrayRemove(_0x381ced)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x4bfb41),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2bf8c7){console[_0x4a77ec(0x300)](_0x4a77ec(0x73c),_0x2bf8c7),showMessage(_0x4a77ec(0xc08));}});}else{if(_0x5a6562){cameFromBlueprint=!![];const _0x3169de=_0x5a6562[_0x5dcab9(0xa7e)][_0x5dcab9(0x7ff)],_0x31fba0=allQuizzesGlobal['find'](_0x47e7c2=>_0x47e7c2['id']===_0x3169de);_0x31fba0&&(startPresentation(_0x31fba0),_0x4d83fd[_0x5dcab9(0x820)][_0x5dcab9(0xc24)](_0x5dcab9(0x330)));}else{if(_0x56e715){cameFromBlueprint=!![];const _0x253767=_0x56e715[_0x5dcab9(0xa7e)][_0x5dcab9(0x7ff)],_0x2837b9=allQuizzesGlobal[_0x5dcab9(0x36c)](_0x20d3b5=>_0x20d3b5['id']===_0x253767);_0x2837b9&&(currentQuizData=_0x2837b9,startAdminTest(),_0x4d83fd[_0x5dcab9(0x820)]['add'](_0x5dcab9(0x330)));}else{if(_0x3708cc)cameFromBlueprint=!![],handleStartLiveRace(_0x3708cc[_0x5dcab9(0xa7e)][_0x5dcab9(0x7ff)]),_0x4d83fd['classList'][_0x5dcab9(0xc24)](_0x5dcab9(0x330));else{if(_0xa1fd88){cameFromBlueprint=!![];const _0x47f4a5=_0xa1fd88[_0x5dcab9(0xa7e)][_0x5dcab9(0x7ff)],_0x11c4fb=_0xa1fd88['dataset'][_0x5dcab9(0xda3)],_0xe6b0e8=allQuizzesGlobal[_0x5dcab9(0x36c)](_0x1387f9=>_0x1387f9['id']===_0x47f4a5);_0xe6b0e8&&(showGameStartConfirmationModal(_0x47f4a5,_0x11c4fb,_0xe6b0e8[_0x5dcab9(0x2d2)]),_0x4d83fd[_0x5dcab9(0x820)][_0x5dcab9(0xc24)](_0x5dcab9(0x330)));}}}}}}}),document[_0x105f10(0x722)]('manual-create-blueprint-btn')[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x5025a9=_0x105f10;document[_0x5025a9(0x722)](_0x5025a9(0xdfc))[_0x5025a9(0x820)][_0x5025a9(0xda2)]('hidden'),document['getElementById'](_0x5025a9(0xa51))['value']='',document[_0x5025a9(0x722)](_0x5025a9(0x648))[_0x5025a9(0xa46)]='',document[_0x5025a9(0x722)](_0x5025a9(0xc25))[_0x5025a9(0xa46)]='';}),document[_0x105f10(0x722)](_0x105f10(0x75f))['addEventListener'](_0x105f10(0xa25),()=>{const _0x290afe=_0x105f10;document[_0x290afe(0x722)](_0x290afe(0xdfc))[_0x290afe(0x820)]['add']('hidden');}),document[_0x105f10(0x722)](_0x105f10(0x835))['addEventListener'](_0x105f10(0xa25),handleManualBlueprintSave),document[_0x105f10(0x722)](_0x105f10(0xea0))[_0x105f10(0x939)](_0x105f10(0xa25),()=>document['getElementById'](_0x105f10(0x77e))[_0x105f10(0x820)]['add'](_0x105f10(0x330))),document[_0x105f10(0x722)](_0x105f10(0x4b3))[_0x105f10(0x939)]('click',handleSaveBlueprintPageSettings),document[_0x105f10(0x722)](_0x105f10(0x360))[_0x105f10(0x939)](_0x105f10(0xa25),openBlueprintQuizSettings),document[_0x105f10(0x722)]('save-blueprint-as-project-btn')[_0x105f10(0x939)](_0x105f10(0xa25),saveBlueprintProject),document[_0x105f10(0x722)](_0x105f10(0xd2e))['addEventListener']('click',showBlueprintProjects),document['getElementById'](_0x105f10(0xde8))[_0x105f10(0x939)]('click',()=>{const _0xdbb509=_0x105f10;document['getElementById']('blueprint-projects-modal')[_0xdbb509(0x820)][_0xdbb509(0xc24)](_0xdbb509(0x330));}),document[_0x105f10(0x722)](_0x105f10(0x26e))[_0x105f10(0x939)](_0x105f10(0xa25),_0x448d38=>{const _0x30df61=_0x105f10,_0x29d914=_0x448d38['target'][_0x30df61(0xecd)]('.open-bp-project-btn'),_0x11bb80=_0x448d38['target']['closest']('.delete-bp-project-btn');if(_0x29d914)displayBlueprintProjectManager(_0x29d914[_0x30df61(0xa7e)]['id']);else _0x11bb80&&handleDeepDeleteBlueprintProject(_0x11bb80[_0x30df61(0xa7e)]['id']);}),document[_0x105f10(0x722)](_0x105f10(0xb21))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x38b1ba=_0x105f10;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0x38b1ba(0x31e))[_0x38b1ba(0x820)][_0x38b1ba(0xc24)]('hidden'),showView(_0x38b1ba(0xe49));}),document[_0x105f10(0x722)]('bp-add-topic-btn')[_0x105f10(0x939)](_0x105f10(0xa25),addTopicToProject),document[_0x105f10(0x722)](_0x105f10(0x4be))['addEventListener'](_0x105f10(0xa25),async _0x33187e=>{const _0x1444ba=_0x105f10,_0x1b0c89=_0x33187e['target'][_0x1444ba(0xecd)](_0x1444ba(0xe09));if(!_0x1b0c89)return;const _0x25ff15=_0x1b0c89['dataset'][_0x1444ba(0x2da)],_0x93f256=_0x33187e[_0x1444ba(0xa4c)][_0x1444ba(0xecd)](_0x1444ba(0x62b)),_0x9bc631=_0x33187e[_0x1444ba(0xa4c)][_0x1444ba(0xecd)](_0x1444ba(0xeb5)),_0x10529c=_0x33187e[_0x1444ba(0xa4c)][_0x1444ba(0xecd)](_0x1444ba(0x80b)),_0x4976b4=_0x33187e[_0x1444ba(0xa4c)]['closest'](_0x1444ba(0xa44)),_0x55e65b=_0x33187e[_0x1444ba(0xa4c)]['closest'](_0x1444ba(0xee0)),_0x182f14=_0x33187e[_0x1444ba(0xa4c)]['closest'](_0x1444ba(0xa7f)),_0x582c66=_0x33187e[_0x1444ba(0xa4c)][_0x1444ba(0xecd)](_0x1444ba(0xc40)),_0x36045a=_0x33187e[_0x1444ba(0xa4c)][_0x1444ba(0xecd)](_0x1444ba(0xb93)),_0x41a23c=_0x24182c=>{const _0x4ca2b1=_0x1444ba,_0x31ceb3=_0x24182c[_0x4ca2b1(0x390)](_0x4ca2b1(0x58f))[_0x4ca2b1(0x2eb)][_0x4ca2b1(0xbe3)](),_0x5a37be=_0x24182c['closest'](_0x4ca2b1(0xc83))[_0x4ca2b1(0x28e)],_0x3c158b=_0x5a37be?_0x5a37be['textContent']['trim']():'';return _0x3c158b+':\x20'+_0x31ceb3;};if(_0x4976b4)openTopicQuizBank(_0x25ff15);else{if(_0x93f256){const _0x81c861=_0x41a23c(_0x1b0c89);selectProjectAndGenerateBlueprintQuiz(_0x81c861,null,_0x25ff15,!![]);}else{if(_0x9bc631){const _0x5b86ea=_0x41a23c(_0x1b0c89);try{const _0x26f438=doc(db,_0x1444ba(0xd90)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+'/lessons',_0x25ff15),_0xb23372=await getDoc(_0x26f438);if(_0xb23372[_0x1444ba(0x5c5)]()){const _0x1bc5f0=_0xb23372[_0x1444ba(0x690)]()['content'],_0x4f4211=document[_0x1444ba(0xb75)]('div'),_0x89fc4d=_0x2b9d6e=>{const _0x3ce282=_0x1444ba;if(!_0x2b9d6e)return'';return _0x4f4211[_0x3ce282(0x5dd)]=_0x2b9d6e,_0x4f4211['textContent']||_0x4f4211[_0x3ce282(0xd43)]||'';},_0x198da5=(_0x89fc4d(_0x1bc5f0[_0x1444ba(0x666)])+'\x20'+_0x89fc4d(_0x1bc5f0[_0x1444ba(0xbc3)])+'\x20'+_0x89fc4d(_0x1bc5f0[_0x1444ba(0xdf0)]))[_0x1444ba(0xbe3)]();selectProjectAndGenerateBlueprintQuiz(_0x5b86ea,_0x198da5,_0x25ff15,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x201dc1){console[_0x1444ba(0x300)](_0x1444ba(0xae3),_0x201dc1),showMessage('เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ');}}else{if(_0x10529c){const _0x415cef=_0x41a23c(_0x1b0c89);selectProjectAndGenerateBlueprintQuiz(_0x415cef,null,_0x25ff15,![]);}else{if(_0x55e65b){const _0x5b68d4=doc(db,_0x1444ba(0xd90)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x1faf1a=await getDoc(_0x5b68d4);if(_0x1faf1a[_0x1444ba(0x5c5)]()){const _0xbf4986=_0x1faf1a[_0x1444ba(0x690)](),_0x211a90=_0xbf4986[_0x1444ba(0x7ba)][_0x25ff15];if(_0x211a90&&_0x211a90[_0x1444ba(0x600)]==='generated')try{const _0xb9a2b5=doc(db,_0x1444ba(0xd90)+appId+_0x1444ba(0xbaf)+currentBlueprintProjectId+'/lessons',_0x25ff15),_0x389efa=await getDoc(_0xb9a2b5);if(_0x389efa['exists']()){const _0x1bce3a=_0x389efa[_0x1444ba(0x690)]()[_0x1444ba(0x94b)];document['getElementById'](_0x1444ba(0xe02))[_0x1444ba(0x2eb)]='บทเรียนเรื่อง:\x20'+_0x41a23c(_0x1b0c89),document[_0x1444ba(0x722)](_0x1444ba(0x628))['innerHTML']=_0x1bce3a[_0x1444ba(0x666)],document['getElementById'](_0x1444ba(0xcf3))[_0x1444ba(0x5dd)]=_0x1bce3a[_0x1444ba(0xbc3)],document[_0x1444ba(0x722)](_0x1444ba(0x79f))[_0x1444ba(0x5dd)]=_0x1bce3a[_0x1444ba(0xdf0)];const _0x5ac5be=document['getElementById'](_0x1444ba(0xd0a));_0x1bce3a[_0x1444ba(0x4e6)]?(currentApplicationData=_0x1bce3a[_0x1444ba(0x4e6)],_0x5ac5be[_0x1444ba(0x5dd)]=currentApplicationData['map']((_0x31ae42,_0x54b334)=>_0x1444ba(0x3e6)+(_0x54b334+0x1)+'.\x20'+marked[_0x1444ba(0xa48)](_0x31ae42[_0x1444ba(0x22f)])+_0x1444ba(0x392)+_0x54b334+_0x1444ba(0xdf8)+_0x31ae42[_0x1444ba(0x9d3)][_0x1444ba(0xab8)]((_0x2e2e57,_0xa58e57)=>_0x1444ba(0x91e)+_0x54b334+',\x20'+_0xa58e57+_0x1444ba(0xad0)+String['fromCharCode'](0x61+_0xa58e57)+'.\x20'+marked[_0x1444ba(0xa48)](_0x2e2e57)+_0x1444ba(0x3de))['join']('')+_0x1444ba(0xe6d))[_0x1444ba(0xbc8)]('')):(currentApplicationData=[],_0x5ac5be[_0x1444ba(0x5dd)]=_0x1bce3a[_0x1444ba(0x4f9)]||_0x1bce3a[_0x1444ba(0x526)]),document[_0x1444ba(0x722)](_0x1444ba(0x7a7))[_0x1444ba(0x820)][_0x1444ba(0xc24)](_0x1444ba(0x330)),document['getElementById']('lesson-sections-container')[_0x1444ba(0x820)]['remove'](_0x1444ba(0x330)),document['getElementById'](_0x1444ba(0x85f))[_0x1444ba(0x820)][_0x1444ba(0xda2)](_0x1444ba(0x330)),window[_0x1444ba(0xa8c)]&&MathJax[_0x1444ba(0x303)]([document[_0x1444ba(0x722)](_0x1444ba(0x7bd))]);}else showMessage(_0x1444ba(0xb0b));}catch(_0x39c262){console[_0x1444ba(0x300)](_0x1444ba(0x279),_0x39c262),showMessage(_0x1444ba(0x418));}else showMessage('ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0x182f14){const _0x7383b0=_0x41a23c(_0x1b0c89),_0x2eb256=doc(db,_0x1444ba(0xd90)+appId+_0x1444ba(0x5b8),currentBlueprintProjectId),_0x4e882c=await getDoc(_0x2eb256);if(_0x4e882c[_0x1444ba(0x5c5)]()){const _0x456415=_0x4e882c[_0x1444ba(0x690)]();generateAndSaveLessonForBlueprint(_0x25ff15,_0x7383b0,_0x456415[_0x1444ba(0x340)]);}}else{if(_0x582c66)editTopicInProject(_0x25ff15);else _0x36045a&&deleteTopicFromProject(_0x25ff15);}}}}}}}),document[_0x105f10(0x722)](_0x105f10(0x700))[_0x105f10(0x939)](_0x105f10(0xa25),handleFixLessonLatex),document[_0x105f10(0x722)](_0x105f10(0xbcb))[_0x105f10(0x939)]('click',handleExportLessonToPDF),document[_0x105f10(0x722)]('close-lesson-view-btn')[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x15b68c=_0x105f10;document['getElementById'](_0x15b68c(0x85f))[_0x15b68c(0x820)][_0x15b68c(0xc24)]('hidden');});const _0x4e81df=document['getElementById']('bulk-confidence-scoring-checkbox'),_0x4e706b=document['getElementById'](_0x105f10(0xb92));_0x4e81df[_0x105f10(0x939)]('change',()=>{const _0x1409a4=_0x105f10;_0x4e706b[_0x1409a4(0x820)][_0x1409a4(0x9b0)](_0x1409a4(0x330),!_0x4e81df[_0x1409a4(0x9cd)]);});const _0x12b68b=document[_0x105f10(0x722)](_0x105f10(0x815)),_0x58a37c=document[_0x105f10(0x722)](_0x105f10(0xaf1));_0x12b68b[_0x105f10(0x939)]('change',()=>{const _0x25682d=_0x105f10;_0x58a37c[_0x25682d(0x820)][_0x25682d(0x9b0)](_0x25682d(0x330),!_0x12b68b[_0x25682d(0x9cd)]);});const _0x554b31=document[_0x105f10(0x722)](_0x105f10(0xe16)),_0x1cf26a=document['getElementById']('modal-confidence-mode-container');_0x554b31[_0x105f10(0x939)](_0x105f10(0xe0f),()=>{const _0x4ce8fc=_0x105f10;_0x1cf26a[_0x4ce8fc(0x820)][_0x4ce8fc(0x9b0)]('hidden',!_0x554b31[_0x4ce8fc(0x9cd)]);});const _0x1f2662=document[_0x105f10(0x722)](_0x105f10(0x76b)),_0x59a467=async _0x11c65f=>{const _0x4352c1=_0x105f10,_0xf7cc21=document[_0x4352c1(0x722)]('confidence-modal'),_0x1d7d87=_0xf7cc21[_0x4352c1(0xa7e)][_0x4352c1(0xa7a)],_0x907da6=document['getElementById'](_0x4352c1(0xb11));_0xf7cc21[_0x4352c1(0x820)][_0x4352c1(0xc24)]('hidden');if(_0x1d7d87==='timed'){const _0x5a2dd9=_0x907da6[_0x4352c1(0xa46)],_0x4edaf1={'answer':_0x5a2dd9,'wasConfident':_0x11c65f};proceedToNextQuestion(_0x4edaf1);}else{if(_0x1d7d87===_0x4352c1(0x441)){const _0x274bea=_0x907da6[_0x4352c1(0xa7e)]['answerValue'],_0x40d1a2=JSON['parse'](_0x907da6[_0x4352c1(0xa7e)][_0x4352c1(0x22f)]),_0x3fcdcd=JSON['parse'](_0x907da6[_0x4352c1(0xa7e)][_0x4352c1(0x5c7)]),_0x188216=_0x907da6[_0x4352c1(0xa7e)][_0x4352c1(0x6de)];handleSyncAnswerSubmit(_0x274bea,_0x40d1a2,_0x3fcdcd,_0x188216,_0x11c65f);}}_0xf7cc21[_0x4352c1(0xa7e)][_0x4352c1(0xa7a)]='';};document[_0x105f10(0x722)](_0x105f10(0x7b4))[_0x105f10(0x939)](_0x105f10(0xa25),()=>_0x59a467(!![])),document[_0x105f10(0x722)](_0x105f10(0x95d))[_0x105f10(0x939)](_0x105f10(0xa25),()=>_0x59a467(![])),liveGameView[_0x105f10(0x939)](_0x105f10(0xa25),_0x517d42=>{const _0xdfb89e=_0x105f10,_0x5bb633=_0x517d42[_0xdfb89e(0xa4c)][_0xdfb89e(0xecd)](_0xdfb89e(0xcaf));if(_0x5bb633){const _0x2c5978=_0x5bb633['dataset']['playerName'];_0x2c5978&&handleKickPlayerSync(_0x2c5978);}});const _0x37a110=document[_0x105f10(0x722)](_0x105f10(0x9b1)),_0x1ee721=document['getElementById'](_0x105f10(0x24a));_0x1ee721[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x2d8b69=_0x105f10;document[_0x2d8b69(0x722)](_0x2d8b69(0x385))[_0x2d8b69(0x820)][_0x2d8b69(0xc24)](_0x2d8b69(0x330));}),_0x37a110[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x5fa0ad=_0x105f10,_0x426030=document[_0x5fa0ad(0x722)](_0x5fa0ad(0x42e))[_0x5fa0ad(0xa46)],_0x3eb759=document[_0x5fa0ad(0x722)](_0x5fa0ad(0x75d))['value'],_0x552b7e=document[_0x5fa0ad(0x722)](_0x5fa0ad(0xa9e))[_0x5fa0ad(0x9cd)];document['getElementById'](_0x5fa0ad(0x385))[_0x5fa0ad(0x820)][_0x5fa0ad(0xc24)](_0x5fa0ad(0x330));switch(_0x3eb759){case _0x5fa0ad(0x351):handleStartLiveRace(_0x426030,_0x552b7e);break;case _0x5fa0ad(0xa3c):handleStartTeamQuiz(_0x426030,_0x552b7e);break;case _0x5fa0ad(0x654):handleStartGroupMode(_0x426030,_0x552b7e);break;case'sync':const _0x45840a=document[_0x5fa0ad(0x390)](_0x5fa0ad(0x601))[_0x5fa0ad(0xa46)]||'classic';handleStartSyncMode(_0x426030,_0x552b7e,_0x45840a);break;}}),document[_0x105f10(0x722)](_0x105f10(0xa8d))[_0x105f10(0x939)](_0x105f10(0xa25),handleJoinGroupActivity),liveGameView[_0x105f10(0x939)](_0x105f10(0xa25),_0x11e965=>{const _0x5a935d=_0x105f10,_0xde0232=_0x11e965[_0x5a935d(0xa4c)][_0x5a935d(0xecd)]('.summary-bar-item');document[_0x5a935d(0x2ff)](_0x5a935d(0x61d))['forEach'](_0x32d192=>{const _0x3d25a3=_0x5a935d;(!_0xde0232||_0x32d192['id']!==_0xde0232[_0x3d25a3(0xa7e)][_0x3d25a3(0x561)])&&_0x32d192[_0x3d25a3(0x820)]['remove'](_0x3d25a3(0xe3a));});if(!_0xde0232)return;const _0x2cbe94=_0xde0232['dataset'][_0x5a935d(0x561)],_0x3220e8=document[_0x5a935d(0x722)](_0x2cbe94);_0x3220e8&&_0x3220e8[_0x5a935d(0x820)][_0x5a935d(0x9b0)](_0x5a935d(0xe3a));}),liveGameView[_0x105f10(0x939)](_0x105f10(0xa25),_0x1655b9=>{const _0x4c27ad=_0x105f10;if(_0x1655b9[_0x4c27ad(0xa4c)][_0x4c27ad(0x820)][_0x4c27ad(0x381)]('kick-player-btn')){const _0xe24bf7=_0x1655b9[_0x4c27ad(0xa4c)][_0x4c27ad(0xa7e)][_0x4c27ad(0x6de)];_0xe24bf7&&handleKickPlayer(_0xe24bf7);}}),document['getElementById'](_0x105f10(0x90a))[_0x105f10(0x939)](_0x105f10(0x9dd),()=>document['getElementById'](_0x105f10(0xc42))[_0x105f10(0x820)][_0x105f10(0xda2)](_0x105f10(0x330))),document[_0x105f10(0x722)]('save-project-name-btn')[_0x105f10(0x939)](_0x105f10(0xa25),handleSaveProjectName),document[_0x105f10(0x722)]('project-title')['addEventListener'](_0x105f10(0x9e5),_0x48b62a=>{const _0x194af9=_0x105f10;_0x48b62a[_0x194af9(0x8e4)]===_0x194af9(0x383)&&(_0x48b62a[_0x194af9(0x726)](),_0x48b62a['target']['blur'](),handleSaveProjectName());}),document[_0x105f10(0x722)]('bulk-quiz-settings-btn')[_0x105f10(0x939)]('click',()=>{const _0x4fa6d8=_0x105f10;document[_0x4fa6d8(0x722)]('bulk-quiz-settings-modal')[_0x4fa6d8(0x820)]['remove'](_0x4fa6d8(0x330));}),document[_0x105f10(0x722)](_0x105f10(0x914))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x383e65=_0x105f10;document['getElementById']('bulk-quiz-settings-modal')[_0x383e65(0x820)]['add'](_0x383e65(0x330));}),document['getElementById']('confirm-bulk-quiz-settings-btn')[_0x105f10(0x939)](_0x105f10(0xa25),handleBulkUpdateQuizSettings),document[_0x105f10(0x722)]('mode-switcher-btn')[_0x105f10(0x939)]('click',handleModeSwitch),document[_0x105f10(0x722)](_0x105f10(0xb83))[_0x105f10(0x939)](_0x105f10(0xa25),handleUpdateOldQuizzes),document[_0x105f10(0x722)](_0x105f10(0xefc))[_0x105f10(0x939)](_0x105f10(0xa25),handleResetProjectOrder),document[_0x105f10(0x722)](_0x105f10(0x811))[_0x105f10(0x939)]('click',handleSaveVisibilitySettings),document[_0x105f10(0x722)](_0x105f10(0xbfa))['addEventListener'](_0x105f10(0xa25),handleAddCustomMathTopic),document[_0x105f10(0x722)]('select-all-topics-btn')[_0x105f10(0x939)](_0x105f10(0xa25),handleSelectAllTopics),document[_0x105f10(0x722)]('deselect-all-topics-btn')['addEventListener']('click',handleDeselectAllTopics),document[_0x105f10(0x722)]('back-to-dashboard-btn')[_0x105f10(0x939)]('click',()=>{const _0x22c8d4=_0x105f10;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x22c8d4(0xe49));}}),document['getElementById'](_0x105f10(0x930))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x181a9d=_0x105f10;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x181a9d(0xbfc));}}),document[_0x105f10(0x722)]('back-to-dashboard-from-results-btn')['addEventListener']('click',()=>{const _0x34ac84=_0x105f10;showView(_0x34ac84(0xe49));}),document[_0x105f10(0x722)](_0x105f10(0x5ff))[_0x105f10(0x939)]('click',()=>{const _0x38baba=_0x105f10;messageModal[_0x38baba(0x820)][_0x38baba(0xc24)]('hidden'),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x105f10(0x722)](_0x105f10(0x29e))['addEventListener'](_0x105f10(0xa25),()=>createProjectModal[_0x105f10(0x820)][_0x105f10(0xda2)](_0x105f10(0x330))),document[_0x105f10(0x722)](_0x105f10(0x2e4))[_0x105f10(0x939)]('click',()=>createProjectModal[_0x105f10(0x820)][_0x105f10(0xc24)]('hidden')),document[_0x105f10(0x722)](_0x105f10(0x53b))[_0x105f10(0x939)](_0x105f10(0xa25),()=>adminPasswordModal[_0x105f10(0x820)]['add'](_0x105f10(0x330))),document[_0x105f10(0x722)]('confirm-admin-login-btn')[_0x105f10(0x939)]('click',handleAdminLogin),document[_0x105f10(0x722)](_0x105f10(0x758))[_0x105f10(0x939)](_0x105f10(0x93f),_0x236440=>{const _0x31e627=_0x105f10;if(_0x236440[_0x31e627(0x8e4)]===_0x31e627(0x383))handleAdminLogin();}),document['getElementById'](_0x105f10(0x7df))['addEventListener'](_0x105f10(0xa25),()=>{const _0x5db4c3=_0x105f10;confirmationModal[_0x5db4c3(0x820)][_0x5db4c3(0xc24)](_0x5db4c3(0x330)),typeof cancelAction===_0x5db4c3(0xade)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x105f10(0x722)](_0x105f10(0xc59))['addEventListener'](_0x105f10(0xa25),()=>{const _0x915560=_0x105f10;confirmAction&&confirmAction(),confirmationModal[_0x915560(0x820)][_0x915560(0xc24)](_0x915560(0x330)),confirmAction=null,cancelAction=null;}),document[_0x105f10(0x722)]('cancel-rename-quiz-btn')[_0x105f10(0x939)]('click',()=>renameQuizModal['classList'][_0x105f10(0xc24)](_0x105f10(0x330))),document[_0x105f10(0x722)]('confirm-rename-quiz-btn')[_0x105f10(0x939)]('click',confirmRenameQuiz),document[_0x105f10(0x722)]('cancel-move-quiz-btn')[_0x105f10(0x939)](_0x105f10(0xa25),()=>moveQuizModal[_0x105f10(0x820)][_0x105f10(0xc24)](_0x105f10(0x330))),document[_0x105f10(0x722)](_0x105f10(0xa76))[_0x105f10(0x939)](_0x105f10(0xa25),confirmMoveQuiz),document[_0x105f10(0x722)](_0x105f10(0x91c))[_0x105f10(0x939)](_0x105f10(0xa25),()=>quizSettingsModal[_0x105f10(0x820)][_0x105f10(0xc24)]('hidden')),document[_0x105f10(0x722)](_0x105f10(0x4a8))[_0x105f10(0x939)](_0x105f10(0xa25),confirmQuizSettings),document[_0x105f10(0x722)]('cancel-quiz-status-btn')[_0x105f10(0x939)]('click',()=>quizStatusModal[_0x105f10(0x820)][_0x105f10(0xc24)](_0x105f10(0x330))),document[_0x105f10(0x722)]('confirm-quiz-status-btn')[_0x105f10(0x939)](_0x105f10(0xa25),confirmQuizStatus);const _0x139d45=document['getElementById'](_0x105f10(0x8da));document[_0x105f10(0x722)](_0x105f10(0xe73))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x2c4fa9=_0x105f10;_0x139d45['classList'][_0x2c4fa9(0xc24)](_0x2c4fa9(0x330));}),document[_0x105f10(0x722)](_0x105f10(0xbd8))[_0x105f10(0x939)](_0x105f10(0xa25),async()=>{const _0x23fc69=_0x105f10,_0x737e63=allQuizzes[_0x23fc69(0x36c)](_0x3c1956=>_0x3c1956['id']===actionTargetId);_0x737e63?(currentQuizData=_0x737e63,exportQuizAsWorksheetPDF()):showMessage(_0x23fc69(0xbd4)),_0x139d45[_0x23fc69(0x820)][_0x23fc69(0xc24)](_0x23fc69(0x330));}),document[_0x105f10(0x722)](_0x105f10(0x62d))[_0x105f10(0x939)]('click',async()=>{const _0x1a3e35=_0x105f10,_0x363d2c=allQuizzes[_0x1a3e35(0x36c)](_0x28ace2=>_0x28ace2['id']===actionTargetId);_0x363d2c?(currentQuizData=_0x363d2c,exportQuizAsTutorPDF()):showMessage(_0x1a3e35(0xbd4)),_0x139d45[_0x1a3e35(0x820)][_0x1a3e35(0xc24)](_0x1a3e35(0x330));});const _0xf19c20=document[_0x105f10(0x722)](_0x105f10(0x4f8));_0xf19c20[_0x105f10(0x5dd)]=_0x105f10(0x33a),_0xf19c20[_0x105f10(0x939)]('click',openGlobalActivityModal),document[_0x105f10(0x722)](_0x105f10(0x6ed))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0xa325d7=_0x105f10;document[_0xa325d7(0x722)](_0xa325d7(0x86b))[_0xa325d7(0x820)][_0xa325d7(0xc24)](_0xa325d7(0x330));}),document[_0x105f10(0x722)](_0x105f10(0xc18))[_0x105f10(0x939)](_0x105f10(0xc8a),_0x18852c=>{const _0x435641=_0x105f10;renderGlobalActivityList(_0x18852c[_0x435641(0xa4c)]['value']);}),document['getElementById']('global-activity-quiz-list')[_0x105f10(0x939)](_0x105f10(0xa25),_0x68e759=>{const _0x4990cf=_0x105f10,_0x8dfe6b=_0x68e759[_0x4990cf(0xa4c)][_0x4990cf(0xecd)](_0x4990cf(0xd2b));if(!_0x8dfe6b)return;const _0x5a5af0=_0x8dfe6b[_0x4990cf(0xa7e)]['id'],_0x28e96b=_0x8dfe6b['dataset'][_0x4990cf(0xda3)],_0xb0f6da=allQuizzesGlobal['find'](_0x395e74=>_0x395e74['id']===_0x5a5af0);_0xb0f6da&&(document[_0x4990cf(0x722)](_0x4990cf(0x86b))[_0x4990cf(0x820)][_0x4990cf(0xc24)]('hidden'),_0x28e96b===_0x4990cf(0x351)?handleStartLiveRace(_0x5a5af0):showGameStartConfirmationModal(_0x5a5af0,_0x28e96b,_0xb0f6da[_0x4990cf(0x2d2)]));}),document[_0x105f10(0x722)](_0x105f10(0x412))[_0x105f10(0x939)](_0x105f10(0xc8a),renderProjects),document[_0x105f10(0x722)]('project-sort-select')[_0x105f10(0x939)](_0x105f10(0xe0f),async()=>{const _0xef80e2=_0x105f10,_0xd95152=document[_0xef80e2(0x722)]('project-sort-select')['value'],_0x5a315c=doc(db,_0xef80e2(0x6f8),_0xef80e2(0xd9e));try{await setDoc(_0x5a315c,{'projectSort':_0xd95152},{'merge':!![]});}catch(_0x1f3422){console[_0xef80e2(0x300)](_0xef80e2(0x7dc),_0x1f3422),showMessage(_0xef80e2(0x90e));}}),document['getElementById']('quiz-search-input')[_0x105f10(0x939)](_0x105f10(0xc8a),renderQuizzes),document[_0x105f10(0x722)](_0x105f10(0xd14))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x1c1f01=_0x105f10;globalDashboardSettings['projectView']=_0x1c1f01(0x518),saveUserPreference('projectView',_0x1c1f01(0x518)),renderProjects();}),document[_0x105f10(0x722)](_0x105f10(0x626))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x328265=_0x105f10;globalDashboardSettings[_0x328265(0x8bf)]=_0x328265(0xbe7),saveUserPreference(_0x328265(0x8bf),_0x328265(0xbe7)),renderProjects();}),manageTab[_0x105f10(0x939)](_0x105f10(0xa25),()=>switchProjectTab(_0x105f10(0xc60))),resultsTab[_0x105f10(0x939)]('click',()=>switchProjectTab(_0x105f10(0xe87))),leaderboardTab[_0x105f10(0x939)](_0x105f10(0xa25),()=>switchProjectTab(_0x105f10(0x6f5))),document['getElementById'](_0x105f10(0x232))[_0x105f10(0x939)]('click',()=>switchQuizDetailTab(_0x105f10(0x890))),document['getElementById'](_0x105f10(0x21d))[_0x105f10(0x939)](_0x105f10(0xa25),()=>switchQuizDetailTab(_0x105f10(0x843))),document[_0x105f10(0x722)](_0x105f10(0x54f))[_0x105f10(0x939)](_0x105f10(0xa25),()=>switchQuizDetailTab(_0x105f10(0xe35))),document[_0x105f10(0x722)](_0x105f10(0xa5b))['addEventListener'](_0x105f10(0xa25),()=>switchQuizDetailTab('behavior-log')),document[_0x105f10(0x722)](_0x105f10(0x419))['addEventListener'](_0x105f10(0xa25),handleAnalyzeClass),generateWorksheetBtn[_0x105f10(0x939)](_0x105f10(0xa25),generateWorksheet);const _0x35762f=document['getElementById']('link-tab'),_0x336e80=document[_0x105f10(0x722)]('link-input-area'),_0x3fcb26=document[_0x105f10(0x722)](_0x105f10(0xaf4)),_0x532300=document['getElementById']('blueprint-input-area'),_0x4eb3ec=document[_0x105f10(0x722)](_0x105f10(0x645)),_0x4081f1=document[_0x105f10(0x722)](_0x105f10(0x9aa));topicTab[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x41fc76=_0x105f10;topicTab['classList']['add'](_0x41fc76(0x44f)),textTab[_0x41fc76(0x820)][_0x41fc76(0xda2)](_0x41fc76(0x44f)),fileTab[_0x41fc76(0x820)][_0x41fc76(0xda2)](_0x41fc76(0x44f)),worksheetTab['classList'][_0x41fc76(0xda2)]('active');if(_0x35762f)_0x35762f[_0x41fc76(0x820)][_0x41fc76(0xda2)](_0x41fc76(0x44f));if(_0x3fcb26)_0x3fcb26[_0x41fc76(0x820)][_0x41fc76(0xda2)](_0x41fc76(0x44f));if(_0x4eb3ec)_0x4eb3ec['classList'][_0x41fc76(0xda2)]('active');topicInputArea[_0x41fc76(0x820)][_0x41fc76(0xda2)](_0x41fc76(0x330)),textInputArea[_0x41fc76(0x820)][_0x41fc76(0xc24)]('hidden'),fileInputArea['classList'][_0x41fc76(0xc24)](_0x41fc76(0x330)),worksheetInputArea[_0x41fc76(0x820)][_0x41fc76(0xc24)](_0x41fc76(0x330));if(_0x336e80)_0x336e80[_0x41fc76(0x820)][_0x41fc76(0xc24)](_0x41fc76(0x330));if(_0x532300)_0x532300[_0x41fc76(0x820)][_0x41fc76(0xc24)](_0x41fc76(0x330));if(_0x4081f1)_0x4081f1[_0x41fc76(0x820)][_0x41fc76(0xc24)](_0x41fc76(0x330));}),textTab[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x5f252d=_0x105f10;textTab[_0x5f252d(0x820)][_0x5f252d(0xc24)](_0x5f252d(0x44f)),topicTab[_0x5f252d(0x820)][_0x5f252d(0xda2)](_0x5f252d(0x44f)),fileTab[_0x5f252d(0x820)][_0x5f252d(0xda2)](_0x5f252d(0x44f)),worksheetTab[_0x5f252d(0x820)][_0x5f252d(0xda2)](_0x5f252d(0x44f));if(_0x35762f)_0x35762f[_0x5f252d(0x820)]['remove'](_0x5f252d(0x44f));if(_0x3fcb26)_0x3fcb26[_0x5f252d(0x820)][_0x5f252d(0xda2)]('active');if(_0x4eb3ec)_0x4eb3ec[_0x5f252d(0x820)][_0x5f252d(0xda2)](_0x5f252d(0x44f));textInputArea['classList'][_0x5f252d(0xda2)](_0x5f252d(0x330)),topicInputArea[_0x5f252d(0x820)][_0x5f252d(0xc24)](_0x5f252d(0x330)),fileInputArea[_0x5f252d(0x820)]['add']('hidden'),worksheetInputArea[_0x5f252d(0x820)][_0x5f252d(0xc24)](_0x5f252d(0x330));if(_0x336e80)_0x336e80[_0x5f252d(0x820)][_0x5f252d(0xc24)](_0x5f252d(0x330));if(_0x532300)_0x532300[_0x5f252d(0x820)][_0x5f252d(0xc24)](_0x5f252d(0x330));if(_0x4081f1)_0x4081f1[_0x5f252d(0x820)]['add'](_0x5f252d(0x330));}),fileTab['addEventListener'](_0x105f10(0xa25),()=>{const _0x1131a9=_0x105f10;fileTab[_0x1131a9(0x820)][_0x1131a9(0xc24)](_0x1131a9(0x44f)),topicTab[_0x1131a9(0x820)][_0x1131a9(0xda2)]('active'),textTab[_0x1131a9(0x820)][_0x1131a9(0xda2)](_0x1131a9(0x44f)),worksheetTab[_0x1131a9(0x820)][_0x1131a9(0xda2)]('active');if(_0x35762f)_0x35762f[_0x1131a9(0x820)][_0x1131a9(0xda2)](_0x1131a9(0x44f));if(_0x3fcb26)_0x3fcb26[_0x1131a9(0x820)][_0x1131a9(0xda2)]('active');if(_0x4eb3ec)_0x4eb3ec[_0x1131a9(0x820)][_0x1131a9(0xda2)]('active');fileInputArea[_0x1131a9(0x820)][_0x1131a9(0xda2)](_0x1131a9(0x330)),topicInputArea[_0x1131a9(0x820)][_0x1131a9(0xc24)](_0x1131a9(0x330)),textInputArea[_0x1131a9(0x820)]['add'](_0x1131a9(0x330)),worksheetInputArea[_0x1131a9(0x820)]['add']('hidden');if(_0x336e80)_0x336e80[_0x1131a9(0x820)]['add'](_0x1131a9(0x330));if(_0x532300)_0x532300['classList'][_0x1131a9(0xc24)](_0x1131a9(0x330));if(_0x4081f1)_0x4081f1[_0x1131a9(0x820)][_0x1131a9(0xc24)](_0x1131a9(0x330));}),worksheetTab[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x352ab6=_0x105f10;worksheetTab[_0x352ab6(0x820)][_0x352ab6(0xc24)](_0x352ab6(0x44f)),topicTab[_0x352ab6(0x820)][_0x352ab6(0xda2)](_0x352ab6(0x44f)),textTab[_0x352ab6(0x820)][_0x352ab6(0xda2)](_0x352ab6(0x44f)),fileTab['classList'][_0x352ab6(0xda2)](_0x352ab6(0x44f));if(_0x35762f)_0x35762f[_0x352ab6(0x820)][_0x352ab6(0xda2)](_0x352ab6(0x44f));if(_0x3fcb26)_0x3fcb26[_0x352ab6(0x820)][_0x352ab6(0xda2)](_0x352ab6(0x44f));if(_0x4eb3ec)_0x4eb3ec[_0x352ab6(0x820)][_0x352ab6(0xda2)](_0x352ab6(0x44f));worksheetInputArea[_0x352ab6(0x820)][_0x352ab6(0xda2)](_0x352ab6(0x330)),topicInputArea['classList']['add'](_0x352ab6(0x330)),textInputArea['classList']['add'](_0x352ab6(0x330)),fileInputArea[_0x352ab6(0x820)][_0x352ab6(0xc24)]('hidden');if(_0x336e80)_0x336e80[_0x352ab6(0x820)][_0x352ab6(0xc24)](_0x352ab6(0x330));if(_0x532300)_0x532300['classList'][_0x352ab6(0xc24)](_0x352ab6(0x330));if(_0x4081f1)_0x4081f1[_0x352ab6(0x820)][_0x352ab6(0xc24)]('hidden');});const _0x4c3a83=document['getElementById'](_0x105f10(0x5bc)),_0x151d24=document['getElementById'](_0x105f10(0x9db));_0x4c3a83&&_0x4c3a83[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x2fe929=_0x105f10;topicTab[_0x2fe929(0x820)][_0x2fe929(0xda2)]('active'),textTab['classList']['remove']('active'),fileTab[_0x2fe929(0x820)][_0x2fe929(0xda2)](_0x2fe929(0x44f)),worksheetTab[_0x2fe929(0x820)][_0x2fe929(0xda2)](_0x2fe929(0x44f));if(_0x35762f)_0x35762f[_0x2fe929(0x820)]['remove']('active');if(_0x3fcb26)_0x3fcb26[_0x2fe929(0x820)][_0x2fe929(0xda2)](_0x2fe929(0x44f));if(_0x4eb3ec)_0x4eb3ec[_0x2fe929(0x820)]['remove'](_0x2fe929(0x44f));_0x4c3a83['classList'][_0x2fe929(0xc24)]('active'),topicInputArea[_0x2fe929(0x820)]['add'](_0x2fe929(0x330)),textInputArea[_0x2fe929(0x820)]['add'](_0x2fe929(0x330)),fileInputArea['classList'][_0x2fe929(0xc24)]('hidden'),worksheetInputArea['classList'][_0x2fe929(0xc24)](_0x2fe929(0x330));if(_0x336e80)_0x336e80[_0x2fe929(0x820)]['add'](_0x2fe929(0x330));if(_0x532300)_0x532300['classList'][_0x2fe929(0xc24)](_0x2fe929(0x330));if(_0x4081f1)_0x4081f1[_0x2fe929(0x820)][_0x2fe929(0xc24)](_0x2fe929(0x330));_0x151d24[_0x2fe929(0x820)]['remove'](_0x2fe929(0x330)),displayQuestionBank();});_0x35762f&&(_0x35762f[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x3336a6=_0x105f10;_0x35762f[_0x3336a6(0x820)]['add']('active'),topicTab[_0x3336a6(0x820)]['remove'](_0x3336a6(0x44f)),textTab[_0x3336a6(0x820)][_0x3336a6(0xda2)]('active'),fileTab[_0x3336a6(0x820)][_0x3336a6(0xda2)]('active'),worksheetTab[_0x3336a6(0x820)][_0x3336a6(0xda2)]('active');if(_0x3fcb26)_0x3fcb26['classList'][_0x3336a6(0xda2)]('active');if(_0x4eb3ec)_0x4eb3ec[_0x3336a6(0x820)][_0x3336a6(0xda2)](_0x3336a6(0x44f));_0x336e80['classList'][_0x3336a6(0xda2)](_0x3336a6(0x330)),topicInputArea[_0x3336a6(0x820)][_0x3336a6(0xc24)](_0x3336a6(0x330)),textInputArea[_0x3336a6(0x820)][_0x3336a6(0xc24)](_0x3336a6(0x330)),fileInputArea[_0x3336a6(0x820)][_0x3336a6(0xc24)](_0x3336a6(0x330)),worksheetInputArea[_0x3336a6(0x820)][_0x3336a6(0xc24)]('hidden');if(_0x532300)_0x532300[_0x3336a6(0x820)][_0x3336a6(0xc24)](_0x3336a6(0x330));if(_0x4081f1)_0x4081f1[_0x3336a6(0x820)][_0x3336a6(0xc24)]('hidden');}),document[_0x105f10(0x722)](_0x105f10(0xaaf))[_0x105f10(0x939)](_0x105f10(0xa25),handleGenerateFromLink));_0x3fcb26&&_0x3fcb26[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x5f581c=_0x105f10;_0x3fcb26[_0x5f581c(0x820)][_0x5f581c(0xc24)](_0x5f581c(0x44f)),topicTab[_0x5f581c(0x820)][_0x5f581c(0xda2)](_0x5f581c(0x44f)),textTab[_0x5f581c(0x820)]['remove'](_0x5f581c(0x44f)),fileTab['classList'][_0x5f581c(0xda2)](_0x5f581c(0x44f)),worksheetTab[_0x5f581c(0x820)][_0x5f581c(0xda2)]('active');if(_0x35762f)_0x35762f[_0x5f581c(0x820)][_0x5f581c(0xda2)](_0x5f581c(0x44f));if(_0x4c3a83)_0x4c3a83['classList'][_0x5f581c(0xda2)]('active');if(_0x4eb3ec)_0x4eb3ec[_0x5f581c(0x820)][_0x5f581c(0xda2)](_0x5f581c(0x44f));_0x532300['classList'][_0x5f581c(0xda2)]('hidden'),topicInputArea[_0x5f581c(0x820)][_0x5f581c(0xc24)](_0x5f581c(0x330)),textInputArea['classList'][_0x5f581c(0xc24)](_0x5f581c(0x330)),fileInputArea[_0x5f581c(0x820)][_0x5f581c(0xc24)]('hidden'),worksheetInputArea[_0x5f581c(0x820)][_0x5f581c(0xc24)]('hidden');if(_0x336e80)_0x336e80[_0x5f581c(0x820)][_0x5f581c(0xc24)](_0x5f581c(0x330));if(_0x151d24)_0x151d24[_0x5f581c(0x820)][_0x5f581c(0xc24)](_0x5f581c(0x330));if(_0x4081f1)_0x4081f1['classList'][_0x5f581c(0xc24)]('hidden');});_0x4eb3ec&&_0x4eb3ec['addEventListener']('click',()=>{const _0x10b7f8=_0x105f10;_0x4eb3ec[_0x10b7f8(0x820)][_0x10b7f8(0xc24)](_0x10b7f8(0x44f)),topicTab[_0x10b7f8(0x820)]['remove'](_0x10b7f8(0x44f)),textTab[_0x10b7f8(0x820)][_0x10b7f8(0xda2)](_0x10b7f8(0x44f)),fileTab['classList']['remove'](_0x10b7f8(0x44f)),worksheetTab[_0x10b7f8(0x820)][_0x10b7f8(0xda2)](_0x10b7f8(0x44f));if(_0x35762f)_0x35762f['classList'][_0x10b7f8(0xda2)](_0x10b7f8(0x44f));if(_0x3fcb26)_0x3fcb26[_0x10b7f8(0x820)][_0x10b7f8(0xda2)](_0x10b7f8(0x44f));if(_0x4c3a83)_0x4c3a83[_0x10b7f8(0x820)][_0x10b7f8(0xda2)](_0x10b7f8(0x44f));_0x4081f1['classList'][_0x10b7f8(0xda2)](_0x10b7f8(0x330)),topicInputArea[_0x10b7f8(0x820)][_0x10b7f8(0xc24)](_0x10b7f8(0x330)),textInputArea[_0x10b7f8(0x820)][_0x10b7f8(0xc24)](_0x10b7f8(0x330)),fileInputArea['classList'][_0x10b7f8(0xc24)](_0x10b7f8(0x330)),worksheetInputArea[_0x10b7f8(0x820)][_0x10b7f8(0xc24)](_0x10b7f8(0x330));if(_0x336e80)_0x336e80[_0x10b7f8(0x820)][_0x10b7f8(0xc24)](_0x10b7f8(0x330));if(_0x532300)_0x532300[_0x10b7f8(0x820)][_0x10b7f8(0xc24)](_0x10b7f8(0x330));if(_0x151d24)_0x151d24[_0x10b7f8(0x820)][_0x10b7f8(0xc24)](_0x10b7f8(0x330));});const _0x4a99db=document[_0x105f10(0x722)]('blueprint-upload-input'),_0x5d7c0c=document[_0x105f10(0x722)](_0x105f10(0xeb1));if(_0x4a99db){const _0x29b15d=document[_0x105f10(0x722)](_0x105f10(0xe1b)),_0x193e95=document[_0x105f10(0x722)](_0x105f10(0xeb1)),_0x191fff=document[_0x105f10(0x722)](_0x105f10(0xb20)),_0x5b2e19=document[_0x105f10(0x722)](_0x105f10(0x709)),_0x1c4329=document[_0x105f10(0x722)](_0x105f10(0x21c)),_0x5ea5f1=document[_0x105f10(0x722)](_0x105f10(0x736));_0x29b15d&&_0x29b15d[_0x105f10(0x939)](_0x105f10(0xe0f),async _0x2c1d9f=>{const _0x8e8902=_0x105f10;_0x191fff[_0x8e8902(0x820)][_0x8e8902(0xc24)]('hidden'),_0x1c4329[_0x8e8902(0x820)][_0x8e8902(0xc24)](_0x8e8902(0x330)),_0x5b2e19['checked']=![],_0x193e95[_0x8e8902(0xce0)]=!![];const _0x427a44=_0x2c1d9f[_0x8e8902(0xa4c)][_0x8e8902(0x819)][0x0];if(_0x427a44){_0x193e95['disabled']=![];try{const _0x127d4a=await extractTextFromPdf(_0x427a44);await analyzeBlueprintForTopics(_0x127d4a);}catch(_0x486bb2){showMessage(_0x8e8902(0x6e1)),_0x191fff[_0x8e8902(0x820)]['add'](_0x8e8902(0x330));}}}),_0x5b2e19&&_0x5b2e19['addEventListener'](_0x105f10(0xe0f),_0x1b655b=>{const _0x23164c=_0x105f10,_0x260146=_0x1b655b[_0x23164c(0xa4c)][_0x23164c(0x9cd)];_0x1c4329[_0x23164c(0x820)][_0x23164c(0x9b0)](_0x23164c(0x330),!_0x260146),_0x193e95[_0x23164c(0xce0)]=_0x260146;}),_0x5ea5f1&&(_0x5ea5f1&&_0x5ea5f1[_0x105f10(0x939)](_0x105f10(0xa25),_0x406ace=>{const _0x19475b=_0x105f10,_0x146283=_0x406ace[_0x19475b(0xa4c)][_0x19475b(0xecd)](_0x19475b(0x842)),_0x483e10=_0x406ace[_0x19475b(0xa4c)][_0x19475b(0xecd)](_0x19475b(0x894));if(_0x146283){const _0x56913a=unescape(_0x146283[_0x19475b(0xa7e)][_0x19475b(0x2d2)]);generateQuizForSingleTopic(_0x56913a);}else{if(_0x483e10){const _0x4938ae=unescape(_0x483e10['dataset']['topic']);handleGenerateTeachingContent(_0x4938ae);}}}));}_0x5d7c0c&&_0x5d7c0c['addEventListener'](_0x105f10(0xa25),handleGenerateFromBlueprint);const _0x5c001e=document[_0x105f10(0x722)](_0x105f10(0xb05)),_0x1ef47a=document['getElementById'](_0x105f10(0x985));_0x5c001e&&_0x5c001e[_0x105f10(0x939)]('change',_0x4e0e58=>{const _0x45730d=_0x105f10;_0x1ef47a[_0x45730d(0xce0)]=_0x4e0e58[_0x45730d(0xa4c)][_0x45730d(0x819)][_0x45730d(0xc8f)]===0x0;});_0x1ef47a&&_0x1ef47a[_0x105f10(0x939)](_0x105f10(0xa25),()=>{handleGenerateParallelTest();});loadQuizBtn['addEventListener']('click',handleLoadQuiz),startQuizBtn[_0x105f10(0x939)](_0x105f10(0xa25),async()=>{const _0x633ee=_0x105f10,_0xe91a57=document[_0x633ee(0x722)]('student-name-select');currentStudentName=_0xe91a57[_0x633ee(0xa46)];if(!currentStudentName){showMessage(_0x633ee(0xe48));return;}try{const _0xabd270=currentQuizData['id'],_0x2beb8d=doc(db,_0x633ee(0xd90)+appId+_0x633ee(0xdb8)+_0xabd270+_0x633ee(0x353),currentStudentName),_0x4a7045=await getDoc(_0x2beb8d);!_0x4a7045[_0x633ee(0x5c5)]()?await setDoc(_0x2beb8d,{'studentName':currentStudentName,'startedAt':new Date()[_0x633ee(0x3fe)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x2beb8d,{'startedAt':new Date()['toISOString']()});}catch(_0x5dfc0b){console['error'](_0x633ee(0xbfe),_0x5dfc0b),showMessage(_0x633ee(0x2dc));return;}studentNameSelectionView['classList'][_0x633ee(0xc24)](_0x633ee(0x330)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x105f10(0x722)](_0x105f10(0x4f5))[_0x105f10(0x939)](_0x105f10(0xa25),showJoinGameView),document[_0x105f10(0x722)](_0x105f10(0x2c3))[_0x105f10(0x939)](_0x105f10(0xa25),handleJoinLiveGame),document['getElementById'](_0x105f10(0xc0f))[_0x105f10(0x939)](_0x105f10(0xa25),()=>showView('student'));const _0x36450d=()=>{const _0x1d7051=_0x105f10,_0x5b429e=document[_0x1d7051(0x722)](_0x1d7051(0x974))[_0x1d7051(0x2eb)]['replace'](/[^a-z0-9]/gi,'_')[_0x1d7051(0x2f6)]();return _0x1d7051(0x269)+(_0x5b429e||_0x1d7051(0xc61));},_0x4a4b46=document[_0x105f10(0x722)]('math-topic-search-input');_0x4a4b46&&_0x4a4b46['addEventListener'](_0x105f10(0xc8a),_0x5009ba=>{const _0x2d3a2a=_0x105f10,_0x23bc04=_0x5009ba[_0x2d3a2a(0xa4c)][_0x2d3a2a(0xa46)]['toLowerCase']()[_0x2d3a2a(0xbe3)](),_0x1bf093=document['getElementById'](_0x2d3a2a(0x280)),_0x21e05e=_0x1bf093[_0x2d3a2a(0x2ff)](_0x2d3a2a(0xdd9));_0x21e05e['forEach'](_0xf15a58=>{const _0x2958c4=_0x2d3a2a;let _0x508393=![];const _0x3e0ef7=_0xf15a58[_0x2958c4(0x2ff)](_0x2958c4(0xdff));_0x3e0ef7[_0x2958c4(0xb04)](_0x745017=>{const _0x55d087=_0x2958c4,_0x499759=_0x745017['querySelector']('.topic-name-display')[_0x55d087(0x2eb)][_0x55d087(0x2f6)]();_0x499759[_0x55d087(0x549)](_0x23bc04)?(_0x745017['style']['display']=_0x55d087(0x364),_0x508393=!![]):_0x745017[_0x55d087(0xa20)][_0x55d087(0xd1c)]=_0x55d087(0x434);}),_0x508393?_0xf15a58[_0x2958c4(0xa20)][_0x2958c4(0xd1c)]=_0x2958c4(0xaa9):_0xf15a58[_0x2958c4(0xa20)][_0x2958c4(0xd1c)]=_0x2958c4(0x434);});});document[_0x105f10(0x722)](_0x105f10(0xb3d))[_0x105f10(0x939)]('click',()=>exportTableAsImage(_0x105f10(0x7b8),_0x36450d())),document[_0x105f10(0x722)](_0x105f10(0x575))[_0x105f10(0x939)](_0x105f10(0xa25),()=>exportTableAsPDF(_0x105f10(0x3b5),_0x36450d())),document[_0x105f10(0x722)](_0x105f10(0x8a7))['addEventListener'](_0x105f10(0xa25),()=>exportTableAsWord(_0x105f10(0x7b8),_0x36450d())),document[_0x105f10(0x722)]('export-excel-btn')[_0x105f10(0x939)](_0x105f10(0xa25),()=>exportTableAsExcel('results-table',_0x36450d()));const _0x8167d0=()=>{const _0x107545=_0x105f10,_0x22caa0=document['getElementById']('results-quiz-title')[_0x107545(0x2eb)]['replace'](/[^a-z0-9]/gi,'_')[_0x107545(0x2f6)]();return _0x107545(0xe80)+(_0x22caa0||_0x107545(0xc61));};document[_0x105f10(0x722)](_0x105f10(0xe1e))[_0x105f10(0x939)]('click',()=>exportTableAsImage(_0x105f10(0xa6c),_0x8167d0())),document[_0x105f10(0x722)]('export-leaderboard-pdf-btn')[_0x105f10(0x939)](_0x105f10(0xa25),()=>exportTableAsPDF('quiz-leaderboard-table',_0x8167d0())),document[_0x105f10(0x722)]('export-leaderboard-word-btn')[_0x105f10(0x939)](_0x105f10(0xa25),()=>exportTableAsWord(_0x105f10(0xa6c),_0x8167d0())),document['getElementById'](_0x105f10(0x34d))[_0x105f10(0x939)](_0x105f10(0xa25),()=>exportTableAsExcel(_0x105f10(0x78b),_0x8167d0())),projectQuizzesList[_0x105f10(0x939)](_0x105f10(0xa25),async _0xbaf697=>{const _0x4e5f06=_0x105f10,_0x5db7ba=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)]('.quiz-result-card'),_0x2929b6=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)]('.generate-post-test-btn'),_0x53d1ec=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)](_0x4e5f06(0x6bc)),_0x4cc098=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)]('.generate-lesson-btn'),_0xf499d3=_0xbaf697['target'][_0x4e5f06(0xecd)](_0x4e5f06(0xdf3)),_0x24224f=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)]('.copy-quiz-id-list-btn'),_0xc1b524=_0xbaf697['target'][_0x4e5f06(0xecd)]('.edit-quiz-btn'),_0x3c027d=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)](_0x4e5f06(0xad1)),_0x2ea280=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)]('.duplicate-quiz-btn'),_0x4d0c20=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)](_0x4e5f06(0x9f7)),_0x3431ca=_0xbaf697[_0x4e5f06(0xa4c)]['closest']('.parallel-quiz-btn'),_0x12878b=_0xbaf697[_0x4e5f06(0xa4c)]['closest'](_0x4e5f06(0x6c7)),_0x554925=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)](_0x4e5f06(0xc72)),_0x32701d=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)](_0x4e5f06(0x899)),_0x373a1c=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)](_0x4e5f06(0x671)),_0x1650b6=_0xbaf697['target'][_0x4e5f06(0xecd)]('.admin-try-quiz-list-btn'),_0x28fdf4=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)](_0x4e5f06(0xd64)),_0x4e2368=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)]('.delete-quiz-btn'),_0x265872=_0xbaf697['target'][_0x4e5f06(0xecd)](_0x4e5f06(0xb25)),_0x20af87=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)](_0x4e5f06(0x45f)),_0x47165b=_0xbaf697[_0x4e5f06(0xa4c)][_0x4e5f06(0xecd)]('.generate-easy-version-btn'),_0x5629ce=_0xbaf697[_0x4e5f06(0xa4c)]['closest'](_0x4e5f06(0x557)),_0x500c9b=_0xbaf697['target']['closest']('.start-live-race-btn');if(_0x5629ce){const _0x79a87a=_0x5629ce[_0x4e5f06(0xa7e)][_0x4e5f06(0x7ff)],_0x8ac461=_0x5629ce[_0x4e5f06(0xa7e)][_0x4e5f06(0xda3)],_0x5605e0=allQuizzes[_0x4e5f06(0x36c)](_0x316aa2=>_0x316aa2['id']===_0x79a87a);_0x5605e0&&showGameStartConfirmationModal(_0x79a87a,_0x8ac461,_0x5605e0[_0x4e5f06(0x2d2)]);}else{if(_0x500c9b){const _0x244efc=_0x500c9b[_0x4e5f06(0xa7e)]['quizId'];handleStartLiveRace(_0x244efc);}else{if(_0x20af87){const _0x21bb14=_0x20af87[_0x4e5f06(0xa7e)]['quizId'],_0x26482c=document[_0x4e5f06(0x722)](_0x4e5f06(0x73a)+_0x21bb14);_0x26482c&&_0x26482c[_0x4e5f06(0x820)][_0x4e5f06(0x9b0)]('hidden');}else{if(_0x2929b6){const _0xf9ba58=_0x2929b6[_0x4e5f06(0xa7e)][_0x4e5f06(0x7ff)],_0x1f301a=allQuizzes[_0x4e5f06(0x36c)](_0xcd909d=>_0xcd909d['id']===_0xf9ba58);_0x1f301a&&handleGenerateParallelPostTest(_0x1f301a);}else{if(_0x53d1ec)handleCompareResults(_0x53d1ec[_0x4e5f06(0xa7e)][_0x4e5f06(0x7ff)],_0x53d1ec[_0x4e5f06(0xa7e)]['preTestId']);else{if(_0x4cc098){const _0x5cfce0=_0x4cc098[_0x4e5f06(0xa7e)][_0x4e5f06(0x7ff)],_0x358d4d=allQuizzes[_0x4e5f06(0x36c)](_0x4af25c=>_0x4af25c['id']===_0x5cfce0);_0x358d4d&&_0x358d4d['lessonPlan']?(displayLessonPlan(_0x358d4d[_0x4e5f06(0x301)],_0x358d4d),showConfirmation(_0x4e5f06(0x285),()=>handleGenerateLessonPlan(_0x5cfce0)),document[_0x4e5f06(0x722)](_0x4e5f06(0xa4d))[_0x4e5f06(0x390)]('h3')[_0x4e5f06(0x2eb)]='แผนการสอน',document[_0x4e5f06(0x722)](_0x4e5f06(0xc59))[_0x4e5f06(0x2eb)]='สร้างใหม่'):handleGenerateLessonPlan(_0x5cfce0);}else{if(_0xf499d3)handleToggleStarQuiz(_0xf499d3['dataset'][_0x4e5f06(0x7ff)]);else{if(_0x24224f)copyTextToClipboard(_0x24224f[_0x4e5f06(0xa7e)][_0x4e5f06(0x7ff)],_0x4e5f06(0xeaa));else{if(_0xc1b524)handleOpenQuizEditor(_0xc1b524[_0x4e5f06(0xa7e)][_0x4e5f06(0x7ff)]);else{if(_0x3c027d)handleQuizSettings(_0x3c027d[_0x4e5f06(0xa7e)][_0x4e5f06(0x7ff)]);else{if(_0x2ea280)handleDuplicateQuiz(_0x2ea280['dataset']['quizId']);else{if(_0x4d0c20)handleRenameQuiz(_0x4d0c20[_0x4e5f06(0xa7e)][_0x4e5f06(0x7ff)],_0x4d0c20[_0x4e5f06(0xa7e)]['topic']);else{if(_0x3431ca){const _0x49647e=_0x3431ca[_0x4e5f06(0xa7e)]['quizId'],_0x1abc43=allQuizzes['find'](_0x2c7230=>_0x2c7230['id']===_0x49647e);_0x1abc43&&handleGenerateParallelFromBank(_0x1abc43);}else{if(_0x12878b)handleMoveQuiz(_0x12878b[_0x4e5f06(0xa7e)][_0x4e5f06(0x7ff)]);else{if(_0x554925)handleManualQuizPairing(_0x554925[_0x4e5f06(0xa7e)]['quizId']);else{if(_0x32701d)handleUnpairQuiz(_0x32701d[_0x4e5f06(0xa7e)]['quizId']);else{if(_0x373a1c){const _0x2d59a5=_0x373a1c['dataset']['quizId'],_0x1f27ea=allQuizzes['find'](_0x5bd0a7=>_0x5bd0a7['id']===_0x2d59a5);if(_0x1f27ea)startPresentation(_0x1f27ea);}else{if(_0x1650b6){const _0x4382e8=_0x1650b6[_0x4e5f06(0xa7e)]['quizId'],_0x432321=allQuizzes[_0x4e5f06(0x36c)](_0x14a738=>_0x14a738['id']===_0x4382e8);_0x432321&&(currentQuizData=_0x432321,startAdminTest());}else{if(_0x28fdf4)actionTargetId=_0x28fdf4[_0x4e5f06(0xa7e)]['quizId'],document[_0x4e5f06(0x722)]('export-pdf-modal')['classList'][_0x4e5f06(0xda2)](_0x4e5f06(0x330));else{if(_0x4e2368)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x4e2368[_0x4e5f06(0xa7e)]['topic']+_0x4e5f06(0xd6c),()=>handleDeleteQuiz(_0x4e2368[_0x4e5f06(0xa7e)][_0x4e5f06(0x7ff)]));else{if(_0x265872)handleQuizStatus(_0x265872[_0x4e5f06(0xa7e)][_0x4e5f06(0x7ff)]);else{if(_0x47165b)handleGenerateEasyVersionQuiz(_0x47165b[_0x4e5f06(0xa7e)]['quizId']);else _0x5db7ba&&showQuizDetailView(_0x5db7ba[_0x4e5f06(0xa7e)][_0x4e5f06(0x7ff)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x105f10(0x722)]('cancel-team-selection-btn')['addEventListener'](_0x105f10(0xa25),()=>showView(_0x105f10(0x7fe))),document[_0x105f10(0x722)](_0x105f10(0x365))[_0x105f10(0x939)]('click',confirmAndStartTeamQuiz),document['getElementById'](_0x105f10(0x78b))[_0x105f10(0x390)](_0x105f10(0xe4e))['addEventListener'](_0x105f10(0xa25),_0x5142d5=>{const _0x1967a9=_0x105f10,_0x1df38e=_0x5142d5[_0x1967a9(0xa4c)][_0x1967a9(0xecd)]('.sortable-header');if(!_0x1df38e||!_0x1df38e[_0x1967a9(0xa7e)][_0x1967a9(0x24d)])return;const _0x4c81ea=_0x1df38e[_0x1967a9(0xa7e)][_0x1967a9(0x24d)];if(quizLeaderboardSortBy===_0x4c81ea)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x1967a9(0xb84):_0x1967a9(0xac6);else{quizLeaderboardSortBy=_0x4c81ea;const _0x10fa11=[_0x1967a9(0x589)];quizLeaderboardSortOrder=_0x10fa11[_0x1967a9(0x549)](_0x4c81ea)?_0x1967a9(0xac6):_0x1967a9(0xb84);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x1967a9(0xa95));}),document[_0x105f10(0x722)](_0x105f10(0x748))[_0x105f10(0x939)](_0x105f10(0xa25),closePresentation),document[_0x105f10(0x722)](_0x105f10(0x297))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x105f10(0x722)](_0x105f10(0x794))['addEventListener'](_0x105f10(0xa25),()=>{const _0x461ff4=_0x105f10;currentQuizData[_0x461ff4(0x882)]&&currentPresentationSlide<currentQuizData[_0x461ff4(0x882)][_0x461ff4(0xc8f)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x105f10(0x939)](_0x105f10(0xab4),()=>{const _0x35f143=_0x105f10;!document[_0x35f143(0x5d4)]&&(presentationModal[_0x35f143(0xa20)]['display']='none');}),document['getElementById'](_0x105f10(0xc86))[_0x105f10(0x939)](_0x105f10(0xa25),handleDeleteAllStudents),studentList[_0x105f10(0x939)](_0x105f10(0xa25),_0x35186e=>{const _0x1f47af=_0x105f10,_0x5ca8af=_0x35186e[_0x1f47af(0xa4c)][_0x1f47af(0xecd)](_0x1f47af(0x456));if(_0x5ca8af){const _0x222228=_0x5ca8af['dataset'][_0x1f47af(0x589)];handleDeleteStudent(_0x222228);}}),document['getElementById'](_0x105f10(0x5cc))[_0x105f10(0x939)](_0x105f10(0xa25),handleGenerateFromFileClick),fileUploadInput[_0x105f10(0x939)]('change',_0x3b2f5f=>{const _0x3a5d48=_0x105f10,_0x25d1a2=_0x3b2f5f[_0x3a5d48(0xa4c)][_0x3a5d48(0x819)][0x0],_0x2a3ba7=document[_0x3a5d48(0x722)](_0x3a5d48(0x5cc)),_0x22460b=document['getElementById'](_0x3a5d48(0xc12)),_0x36a413=document[_0x3a5d48(0x722)](_0x3a5d48(0x4b1));_0x25d1a2?(selectedFile=_0x25d1a2,_0x36a413['checked']?(_0x2a3ba7[_0x3a5d48(0xce0)]=!![],analyzeFileForTopics(_0x25d1a2)):(_0x2a3ba7[_0x3a5d48(0xce0)]=![],_0x22460b[_0x3a5d48(0x820)][_0x3a5d48(0xc24)](_0x3a5d48(0x330)))):(selectedFile=null,_0x2a3ba7[_0x3a5d48(0xce0)]=!![],_0x22460b['classList'][_0x3a5d48(0xc24)](_0x3a5d48(0x330)));}),document['getElementById'](_0x105f10(0x4b1))[_0x105f10(0x939)](_0x105f10(0xe0f),_0x365ea2=>{const _0x56cefa=_0x105f10,_0xcfac16=_0x365ea2['target'][_0x56cefa(0x9cd)],_0x16db8a=document[_0x56cefa(0x722)](_0x56cefa(0x5cc)),_0x6cf3e9=document[_0x56cefa(0x722)]('file-topics-list-container');_0xcfac16?(_0x16db8a[_0x56cefa(0xce0)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x6cf3e9[_0x56cefa(0x820)][_0x56cefa(0xda2)](_0x56cefa(0x330)),document[_0x56cefa(0x722)]('file-topics-list')[_0x56cefa(0x5dd)]=_0x56cefa(0x84b))):(_0x6cf3e9[_0x56cefa(0x820)]['add'](_0x56cefa(0x330)),_0x16db8a[_0x56cefa(0xce0)]=!selectedFile);}),document[_0x105f10(0x722)](_0x105f10(0xc12))['addEventListener'](_0x105f10(0xa25),_0x425718=>{const _0x4a55ce=_0x105f10,_0xc107bd=_0x425718[_0x4a55ce(0xa4c)][_0x4a55ce(0xecd)](_0x4a55ce(0xa6e)),_0x3827c6=_0x425718['target'][_0x4a55ce(0xecd)](_0x4a55ce(0x894));if(_0xc107bd){const _0x43af7b=unescape(_0xc107bd['dataset'][_0x4a55ce(0x2d2)]);generateHybridQuizForTopic(_0x43af7b);}else{if(_0x3827c6){const _0x376b5d=unescape(_0x3827c6[_0x4a55ce(0xa7e)]['topic']),_0x5b357d=document['getElementById'](_0x4a55ce(0xbbc))[_0x4a55ce(0xa46)];handleGenerateAndShowLesson(_0x376b5d,_0x5b357d);}}}),document['getElementById'](_0x105f10(0xdd5))[_0x105f10(0x939)](_0x105f10(0xe0f),_0x25197b=>{const _0x3b6969=_0x105f10,_0x735d59=document[_0x3b6969(0x722)](_0x3b6969(0xe90)),_0x4089b7=document[_0x3b6969(0x722)](_0x3b6969(0x5c0)),_0x334184=document['getElementById'](_0x3b6969(0x38e));_0x25197b[_0x3b6969(0xa4c)][_0x3b6969(0xa46)]==='none'?_0x735d59[_0x3b6969(0x820)][_0x3b6969(0xc24)](_0x3b6969(0x330)):(_0x735d59['classList'][_0x3b6969(0xda2)](_0x3b6969(0x330)),_0x25197b[_0x3b6969(0xa4c)][_0x3b6969(0xa46)]===_0x3b6969(0x36f)?(_0x4089b7['textContent']=_0x3b6969(0x90b),_0x334184['value']='10'):(_0x4089b7['textContent']=_0x3b6969(0xcb3),_0x334184[_0x3b6969(0xa46)]='30'));}),document[_0x105f10(0x722)](_0x105f10(0x77b))[_0x105f10(0x939)](_0x105f10(0xe0f),_0x50851b=>{const _0x49f692=_0x105f10,_0x1bd33b=document[_0x49f692(0x722)](_0x49f692(0xcba)),_0x101032=_0x50851b[_0x49f692(0xa4c)][_0x49f692(0xa46)],_0x44b96e=document['querySelector'](_0x49f692(0xcb7)),_0x25c896=document[_0x49f692(0x722)]('passing-score-input'),_0x3367e3=document[_0x49f692(0x722)]('num-questions');_0x101032===_0x49f692(0x334)?_0x44b96e[_0x49f692(0x2eb)]=_0x49f692(0xd5e):_0x44b96e[_0x49f692(0x2eb)]=_0x49f692(0x8ce),_0x101032===_0x49f692(0x6e6)||_0x101032===_0x49f692(0x732)||_0x101032===_0x49f692(0x372)?_0x1bd33b[_0x49f692(0x820)][_0x49f692(0xda2)]('hidden'):_0x1bd33b['classList']['add']('hidden'),_0x25c896['max']=_0x3367e3['value'];}),document[_0x105f10(0x722)](_0x105f10(0xb22))['addEventListener'](_0x105f10(0xc8a),_0x48a71c=>{const _0x402c42=_0x105f10;document['getElementById'](_0x402c42(0xbd7))[_0x402c42(0x3d5)]=_0x48a71c[_0x402c42(0xa4c)][_0x402c42(0xa46)];}),document[_0x105f10(0x722)](_0x105f10(0xec2))[_0x105f10(0x939)](_0x105f10(0xe0f),_0x4dc5e7=>{const _0x491d4b=_0x105f10,_0x2056ab=document['getElementById']('modal-timer-duration-container'),_0x583f47=document[_0x491d4b(0x722)](_0x491d4b(0x871)),_0x10a9d3=document[_0x491d4b(0x722)](_0x491d4b(0x56a));_0x4dc5e7[_0x491d4b(0xa4c)][_0x491d4b(0xa46)]===_0x491d4b(0x434)?_0x2056ab[_0x491d4b(0x820)]['add'](_0x491d4b(0x330)):(_0x2056ab[_0x491d4b(0x820)][_0x491d4b(0xda2)]('hidden'),_0x4dc5e7['target']['value']===_0x491d4b(0x36f)?_0x583f47[_0x491d4b(0x2eb)]=_0x491d4b(0x90b):_0x583f47['textContent']=_0x491d4b(0xcb3));}),document[_0x105f10(0x722)]('cancel-quiz-edits-btn')['addEventListener'](_0x105f10(0xa25),()=>{const _0x276c08=_0x105f10;document['getElementById'](_0x276c08(0x3d6))['classList'][_0x276c08(0xc24)](_0x276c08(0x330));}),document['getElementById'](_0x105f10(0xe22))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x476914=_0x105f10;document['getElementById'](_0x476914(0x3d6))[_0x476914(0x820)]['add'](_0x476914(0x330));}),document[_0x105f10(0x722)](_0x105f10(0xace))[_0x105f10(0x939)](_0x105f10(0xa25),handleVerifyAnswersInEditor),document[_0x105f10(0x722)](_0x105f10(0x888))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0xf0be8e=_0x105f10;document[_0xf0be8e(0x722)]('quiz-editor-modal')[_0xf0be8e(0x820)][_0xf0be8e(0xc24)]('hidden'),showConfirmation(_0xf0be8e(0x98f),handleSaveChanges);}),document[_0x105f10(0x722)](_0x105f10(0x24c))[_0x105f10(0x939)](_0x105f10(0xa25),handleAutoFixLatex);const _0x410f84=document['getElementById']('quiz-editor-questions-container');_0x410f84&&_0x410f84[_0x105f10(0x939)](_0x105f10(0xa25),_0x57375d=>{const _0x542749=_0x105f10,_0x159ead=_0x57375d[_0x542749(0xa4c)][_0x542749(0xecd)](_0x542749(0x52f));if(_0x159ead){const _0x49dd28=_0x159ead['closest'](_0x542749(0xdc8)),_0x5cf61b=parseInt(_0x49dd28[_0x542749(0xa7e)][_0x542749(0xab5)],0xa);handleRegenerateQuestionInEditor(_0x5cf61b);return;}const _0x5d74e1=_0x57375d['target'][_0x542749(0xecd)](_0x542749(0x463));if(_0x5d74e1){const _0x2b45ee=_0x5d74e1['closest'](_0x542749(0xdc8)),_0x29e0f0=parseInt(_0x2b45ee[_0x542749(0xa7e)][_0x542749(0xab5)],0xa);handleDeleteQuestionInEditor(_0x29e0f0);return;}const _0x48a6de=_0x57375d[_0x542749(0xa4c)][_0x542749(0xecd)](_0x542749(0x416));if(_0x48a6de){handleAddQuestionInEditor();return;}});document['getElementById'](_0x105f10(0x3b7))[_0x105f10(0x939)]('click',openQuizBankModal),document[_0x105f10(0x722)](_0x105f10(0x3c7))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x1e9d8f=_0x105f10;document[_0x1e9d8f(0x722)](_0x1e9d8f(0x740))[_0x1e9d8f(0x820)][_0x1e9d8f(0xc24)]('hidden');}),document['getElementById'](_0x105f10(0xc20))['addEventListener'](_0x105f10(0xc8a),_0x29efe0=>renderQuizBankList(_0x29efe0['target'][_0x105f10(0xa46)]));const _0x144a8e=document[_0x105f10(0x722)](_0x105f10(0x280));if(_0x144a8e){let _0x413c86=null;_0x144a8e[_0x105f10(0x939)](_0x105f10(0xa25),_0x5d51dd=>{const _0x4d1383=_0x105f10,_0x4639c2=_0x5d51dd[_0x4d1383(0xa4c)],_0x2e0507=_0x4639c2[_0x4d1383(0xecd)]('.edit-custom-topic-btn'),_0x30fc42=_0x4639c2[_0x4d1383(0xecd)](_0x4d1383(0x851)),_0x1b615c=_0x4639c2[_0x4d1383(0xecd)]('.save-custom-topic-btn'),_0xfcfdfe=_0x4639c2[_0x4d1383(0xecd)](_0x4d1383(0x88b));if(_0x30fc42){_0x5d51dd[_0x4d1383(0x726)]();const _0x564248=_0x30fc42[_0x4d1383(0xa7e)]['id'],_0x46bad6=_0x30fc42[_0x4d1383(0xecd)](_0x4d1383(0xbce))[_0x4d1383(0x390)](_0x4d1383(0x292))[_0x4d1383(0x2eb)];showConfirmation(_0x4d1383(0xdf2)+_0x46bad6+'\x22?',()=>handleDeleteCustomTopic(_0x564248));}else{if(_0x2e0507){_0x5d51dd[_0x4d1383(0x726)]();_0x413c86&&toggleTopicEditMode(_0x413c86,![]);const _0x442d72=_0x2e0507[_0x4d1383(0xecd)](_0x4d1383(0x9f0));_0x413c86=_0x442d72,toggleTopicEditMode(_0x442d72,!![]);}else{if(_0x1b615c){_0x5d51dd[_0x4d1383(0x726)]();const _0x463560=_0x1b615c[_0x4d1383(0xa7e)]['id'],_0x74bca4=_0x1b615c[_0x4d1383(0xecd)](_0x4d1383(0x9f0)),_0x53788a=_0x74bca4[_0x4d1383(0x390)](_0x4d1383(0x7a9))[_0x4d1383(0xa46)];handleUpdateCustomTopic(_0x463560,_0x53788a),_0x413c86=null;}else{if(_0xfcfdfe){_0x5d51dd[_0x4d1383(0x726)]();const _0x2e73f7=_0xfcfdfe[_0x4d1383(0xecd)]('[data-topic-container-id]');toggleTopicEditMode(_0x2e73f7,![]),_0x413c86=null;}}}}}),document[_0x105f10(0x722)](_0x105f10(0x8ef))[_0x105f10(0x939)](_0x105f10(0xa25),()=>{const _0x1569f5=_0x105f10;document[_0x1569f5(0x722)]('lesson-plan-modal')['classList'][_0x1569f5(0xc24)](_0x1569f5(0x330));}),document[_0x105f10(0x722)](_0x105f10(0x661))[_0x105f10(0x939)]('click',()=>{const _0x40fb00=_0x105f10;document[_0x40fb00(0x722)](_0x40fb00(0xab7))[_0x40fb00(0x820)][_0x40fb00(0xc24)](_0x40fb00(0x330));}),document['getElementById'](_0x105f10(0x1f4))[_0x105f10(0x939)]('click',handleExportLessonPDF);}document['getElementById'](_0x105f10(0x237))['addEventListener'](_0x105f10(0xa25),()=>{const _0x3fd1f4=_0x105f10;document[_0x3fd1f4(0x722)](_0x3fd1f4(0x2c8))[_0x3fd1f4(0x820)]['add'](_0x3fd1f4(0x330));}),document[_0x105f10(0x722)](_0x105f10(0x566))['addEventListener'](_0x105f10(0xa25),()=>{const _0x3db378=_0x105f10;document[_0x3db378(0x722)]('comparison-modal')[_0x3db378(0x820)][_0x3db378(0xc24)](_0x3db378(0x330));}),setupComparisonModalTabs(),document['body'][_0x105f10(0x939)](_0x105f10(0xa25),function(_0x1ffe24){const _0x4a735b=_0x105f10;if(_0x1ffe24['target'][_0x4a735b(0x820)][_0x4a735b(0x381)](_0x4a735b(0x9ef))){const _0x25b65e=unescape(_0x1ffe24[_0x4a735b(0xa4c)][_0x4a735b(0xa7e)][_0x4a735b(0x2d2)]);startSkillPractice(_0x25b65e);}}),document[_0x105f10(0x722)](_0x105f10(0xd6e))['addEventListener'](_0x105f10(0xa25),_0x1e98b5=>{const _0x4a9be1=_0x105f10,_0x35e034=_0x1e98b5[_0x4a9be1(0xa4c)]['closest'](_0x4a9be1(0xcc7));if(_0x35e034){const _0x59d883=_0x35e034[_0x4a9be1(0xa7e)][_0x4a9be1(0x589)];handleDeleteSubmission(_0x59d883);}});}async function handleStartGroupMode(_0x395408,_0x2c2075=![]){const _0x497a5e=_0x1dbc7e,_0x51f19c=allQuizzes[_0x497a5e(0x36c)](_0x2026d6=>_0x2026d6['id']===_0x395408)||allQuizzesGlobal[_0x497a5e(0x36c)](_0x250eaf=>_0x250eaf['id']===_0x395408);if(!_0x51f19c){showMessage(_0x497a5e(0xbd4));return;}currentQuizData=getShuffledQuiz(_0x51f19c);const _0x109d73=Math[_0x497a5e(0x982)](0x3e8+Math['random']()*0x2328)[_0x497a5e(0x992)]();try{const _0x582784=await addDoc(collection(db,_0x497a5e(0xd90)+appId+_0x497a5e(0xdc5)),{'quizId':_0x51f19c['id'],'projectId':_0x51f19c[_0x497a5e(0x6ea)],'status':_0x497a5e(0xcc9),'pin':_0x109d73,'mode':_0x497a5e(0x654),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2c2075});currentTeamQuizId=_0x582784['id'],showView(_0x497a5e(0xc2b)),renderAdminTeamQuizDashboard(_0x109d73,_0x51f19c[_0x497a5e(0x2d2)],_0x497a5e(0x654)),listenForTeamQuizUpdates();}catch(_0x5b0f76){console[_0x497a5e(0x300)]('Error\x20starting\x20group\x20quiz:',_0x5b0f76),showMessage(_0x497a5e(0x588));}}async function showStudentProgressView(){const _0x4c385e=_0x1dbc7e;studentInitialView[_0x4c385e(0x820)][_0x4c385e(0xc24)]('hidden'),document[_0x4c385e(0x722)](_0x4c385e(0x22c))[_0x4c385e(0x820)]['remove'](_0x4c385e(0x330));const _0x33f24f=document[_0x4c385e(0x722)](_0x4c385e(0x45c)),_0x3299c8=document['getElementById']('progress-student-select'),_0xabb95d=document['getElementById'](_0x4c385e(0xaa4));_0xabb95d['innerHTML']=_0x4c385e(0x7c3),_0x3299c8['innerHTML']=_0x4c385e(0xbb7),_0x3299c8[_0x4c385e(0xce0)]=!![],_0x33f24f[_0x4c385e(0x5dd)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x4c385e(0xc8f)]===0x0){const _0x21952c=collection(db,_0x4c385e(0xd90)+appId+'/public/data/projects'),_0x341f6b=await getDocs(_0x21952c);allProjects=_0x341f6b[_0x4c385e(0xd16)][_0x4c385e(0xab8)](_0x283b45=>({'id':_0x283b45['id'],..._0x283b45[_0x4c385e(0x690)]()}));}const _0x28d79d=allProjects['filter'](_0x83d628=>_0x83d628['settings']?.[_0x4c385e(0x97e)]!==![]);_0x28d79d['sort']((_0x508bac,_0xb6659d)=>_0x508bac[_0x4c385e(0x897)][_0x4c385e(0x81f)](_0xb6659d[_0x4c385e(0x897)],'th')),_0x33f24f[_0x4c385e(0x5dd)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x28d79d[_0x4c385e(0xab8)](_0x3382a9=>_0x4c385e(0x9de)+_0x3382a9['id']+'\x22>'+_0x3382a9[_0x4c385e(0x897)]+_0x4c385e(0xa4f))[_0x4c385e(0xbc8)](''),_0x33f24f['onchange']=()=>{const _0x461d0c=_0x4c385e,_0x54d6d0=_0x3299c8[_0x461d0c(0xa46)],_0x144ad8=_0x33f24f['value'];_0x3299c8[_0x461d0c(0xce0)]=!![],_0x3299c8[_0x461d0c(0x5dd)]=_0x461d0c(0xbb7),_0xabb95d['innerHTML']=_0x461d0c(0xa1f);if(!_0x144ad8)return;const _0x15611d=allProjects[_0x461d0c(0x36c)](_0x20db98=>_0x20db98['id']===_0x144ad8);if(!_0x15611d||!_0x15611d[_0x461d0c(0xda0)])return;const _0x5ab299=()=>{const _0x45b57f=_0x461d0c;_0x3299c8[_0x45b57f(0x5dd)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x15611d[_0x45b57f(0xda0)][_0x45b57f(0xab8)](_0x310fe0=>_0x45b57f(0x9de)+_0x310fe0+'\x22>'+_0x310fe0+_0x45b57f(0xa4f))[_0x45b57f(0xbc8)](''),_0x3299c8[_0x45b57f(0xce0)]=![];const _0x5e6219=Array[_0x45b57f(0xb64)](_0x3299c8[_0x45b57f(0x9d3)])[_0x45b57f(0xab8)](_0xc83b70=>_0xc83b70['value']);if(_0x54d6d0&&_0x5e6219[_0x45b57f(0x549)](_0x54d6d0))_0x3299c8[_0x45b57f(0xa46)]=_0x54d6d0,_0x3299c8[_0x45b57f(0x458)](new Event(_0x45b57f(0xe0f)));else _0x15611d[_0x45b57f(0xda0)][_0x45b57f(0xc8f)]===0x1&&(_0x3299c8[_0x45b57f(0xa46)]=_0x15611d['students'][0x0],_0x3299c8['dispatchEvent'](new Event(_0x45b57f(0xe0f))));};if(_0x15611d[_0x461d0c(0xa0a)]?.[_0x461d0c(0x991)]){if(sessionStorage[_0x461d0c(0xe32)](_0x461d0c(0x6b0)+_0x144ad8)===_0x461d0c(0x761)){_0x5ab299();return;}const _0x3e17b6=document[_0x461d0c(0x722)](_0x461d0c(0x82f)),_0x52a2fa=document[_0x461d0c(0x722)](_0x461d0c(0xc30)),_0x5f1e6e=document['getElementById'](_0x461d0c(0xebf)),_0x4c3073=document[_0x461d0c(0x722)](_0x461d0c(0xacb)),_0x1a489e=document[_0x461d0c(0x722)](_0x461d0c(0x6aa));document[_0x461d0c(0x722)]('passcode-prompt-message')[_0x461d0c(0x2eb)]=_0x461d0c(0x8f7)+_0x15611d[_0x461d0c(0x897)],_0x4c3073[_0x461d0c(0xa46)]='',_0x1a489e[_0x461d0c(0x820)][_0x461d0c(0xc24)]('hidden'),_0x3e17b6['classList']['remove'](_0x461d0c(0x330));const _0x11d60f=()=>{const _0x435eda=_0x461d0c,_0x3b0779=_0x4c3073['value'][_0x435eda(0xbe3)]();_0x3b0779===_0x15611d[_0x435eda(0xa0a)][_0x435eda(0x853)]?(sessionStorage[_0x435eda(0xcdd)](_0x435eda(0x6b0)+_0x144ad8,_0x435eda(0x761)),_0x3e17b6[_0x435eda(0x820)][_0x435eda(0xc24)](_0x435eda(0x330)),_0x5ab299(),_0x52a2fa[_0x435eda(0xed4)]('click',_0x11d60f)):_0x1a489e[_0x435eda(0x820)]['remove']('hidden');};_0x52a2fa[_0x461d0c(0x590)]=_0x11d60f,_0x5f1e6e['onclick']=()=>{const _0xde5db=_0x461d0c;_0x3e17b6[_0xde5db(0x820)][_0xde5db(0xc24)](_0xde5db(0x330)),_0x33f24f[_0xde5db(0xa46)]='',_0x52a2fa[_0xde5db(0xed4)](_0xde5db(0xa25),_0x11d60f);};}else _0x5ab299();},_0x3299c8[_0x4c385e(0x7d5)]=()=>{const _0x262f25=_0x4c385e,_0x9dcf9c=_0x33f24f[_0x262f25(0xa46)],_0x3dafdf=_0x3299c8[_0x262f25(0xa46)];_0x9dcf9c&&_0x3dafdf&&renderStudentProgressDashboard(_0x9dcf9c,_0x3dafdf);};}async function confirmAndJoinSyncGame(){const _0x3524ba=_0x1dbc7e;lastSeenQuestionIndex=-0x1,sessionStorage['removeItem'](_0x3524ba(0xced)),sessionStorage[_0x3524ba(0x7bf)](_0x3524ba(0x4f3)),Object[_0x3524ba(0x6e2)](sessionStorage)[_0x3524ba(0xb04)](_0x473433=>{const _0x11d924=_0x3524ba;(_0x473433[_0x11d924(0x883)](_0x11d924(0x84c))||_0x473433['startsWith']('powerupUsed_q')||_0x473433[_0x11d924(0x883)](_0x11d924(0xae8)))&&sessionStorage[_0x11d924(0x7bf)](_0x473433);});const _0x3d9a88=Array[_0x3524ba(0xb64)](document[_0x3524ba(0x2ff)](_0x3524ba(0xc7f)))[_0x3524ba(0xab8)](_0x227499=>_0x227499[_0x3524ba(0xa46)]);if(_0x3d9a88[_0x3524ba(0xc8f)]===0x0){showMessage(_0x3524ba(0x207));return;}localTeamPlayers=_0x3d9a88,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x13a540=writeBatch(db),_0xae7926=serverTimestamp();_0x3d9a88[_0x3524ba(0xb04)](_0x4cef27=>{const _0x352638=_0x3524ba,_0x59c738=doc(db,'artifacts/'+appId+_0x352638(0x7c5)+currentLiveGameId+'/players',_0x4cef27),_0x2325e8={'name':_0x4cef27,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0},'answered':![],'status':_0x352638(0x44f),'answers':[],'joinedAt':_0xae7926,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x13a540[_0x352638(0x4c6)](_0x59c738,_0x2325e8,{'merge':!![]});}),await _0x13a540['commit'](),showView(_0x3524ba(0xc2b)),document[_0x3524ba(0x722)](_0x3524ba(0xee4))[_0x3524ba(0x820)][_0x3524ba(0xc24)](_0x3524ba(0x330)),currentStudentName=_0x3d9a88[0x0],listenForSyncGameUpdates();const _0x155be2={'gameId':currentLiveGameId,'mode':_0x3524ba(0x441),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x3524ba(0xec8),JSON[_0x3524ba(0xa70)](_0x155be2)),currentMode!==_0x3524ba(0x9d0)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x3524ba(0x939)](_0x3524ba(0xab4),handleFullscreenChange),document['addEventListener'](_0x3524ba(0x872),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x3524ba(0x4c8),resetDimTimer),window[_0x3524ba(0x939)](_0x3524ba(0x8a9),resetDimTimer),window[_0x3524ba(0x939)](_0x3524ba(0x753),resetDimTimer),window['addEventListener'](_0x3524ba(0x9e5),resetDimTimer),resetDimTimer());}catch(_0x494117){console[_0x3524ba(0x300)](_0x3524ba(0xe2e),_0x494117),showMessage(_0x3524ba(0x9d7)+_0x494117[_0x3524ba(0x83d)]);}}async function resumeActiveGameSession(){const _0x30e765=_0x1dbc7e,_0x3a0f7c=sessionStorage['getItem']('activeGameSession');if(!_0x3a0f7c)return;const _0x5becbd=JSON[_0x30e765(0x684)](_0x3a0f7c),{gameId:_0x1d55cd,mode:_0x11f0c3,role:_0x80bf2a,players:_0x369a7a,turnIndex:_0x4c4b5a}=_0x5becbd;try{if(_0x80bf2a==='admin'&&_0x11f0c3===_0x30e765(0x441)){const _0x24dadf=doc(db,_0x30e765(0xd90)+appId+_0x30e765(0x3c6),_0x1d55cd),_0x23e882=await getDoc(_0x24dadf);if(!_0x23e882[_0x30e765(0x5c5)]()||_0x23e882[_0x30e765(0x690)]()[_0x30e765(0x600)]==='podium'||_0x23e882[_0x30e765(0x690)]()[_0x30e765(0x600)]===_0x30e765(0x5d2)){sessionStorage[_0x30e765(0x7bf)](_0x30e765(0xec8));return;}console[_0x30e765(0x545)](_0x30e765(0xde2)+_0x1d55cd+')'),currentMode='admin',currentLiveGameId=_0x1d55cd,currentQuizData=_0x23e882[_0x30e765(0x690)]()[_0x30e765(0x2b5)],showView(_0x30e765(0xc2b)),listenForSyncGameUpdates();}else{if(_0x11f0c3===_0x30e765(0x441)&&_0x369a7a){const _0xbd55b6=doc(db,_0x30e765(0xd90)+appId+_0x30e765(0x3c6),_0x1d55cd),_0x3ede40=await getDoc(_0xbd55b6);if(!_0x3ede40[_0x30e765(0x5c5)]()||_0x3ede40[_0x30e765(0x690)]()['status']===_0x30e765(0xebc)||_0x3ede40[_0x30e765(0x690)]()[_0x30e765(0x600)]===_0x30e765(0x5d2)){sessionStorage[_0x30e765(0x7bf)](_0x30e765(0xec8));return;}console[_0x30e765(0x545)](_0x30e765(0xec0)+_0x1d55cd+')'),currentLiveGameId=_0x1d55cd,currentStudentName=_0x369a7a[0x0],localTeamPlayers=_0x369a7a,showView(_0x30e765(0xc2b)),listenForSyncGameUpdates();}else{if((_0x11f0c3==='team'||_0x11f0c3===_0x30e765(0x654))&&_0x369a7a){const _0x3caada=doc(db,_0x30e765(0xd90)+appId+_0x30e765(0xdc5),_0x1d55cd),_0xff15fc=await getDoc(_0x3caada);if(!_0xff15fc[_0x30e765(0x5c5)]()||_0xff15fc['data']()[_0x30e765(0x600)]==='podium'||_0xff15fc[_0x30e765(0x690)]()[_0x30e765(0x600)]==='finished'){sessionStorage[_0x30e765(0x7bf)](_0x30e765(0xec8));return;}console[_0x30e765(0x545)](_0x30e765(0xc75)+_0x11f0c3+_0x30e765(0xc78)+_0x1d55cd+')'),currentTeamQuizId=_0x1d55cd,localTeamPlayers=_0x369a7a,localQuestionIndex=_0x5becbd[_0x30e765(0x78a)]||0x0,localPlayerIndex=_0x5becbd[_0x30e765(0x704)]||0x0;const _0xac7420=_0xff15fc[_0x30e765(0x690)](),_0x17a404=doc(db,_0x30e765(0xd90)+appId+_0x30e765(0x806),_0xac7420[_0x30e765(0x7ff)]),_0x2defb1=await getDoc(_0x17a404);_0x2defb1['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x2defb1['id'],..._0x2defb1[_0x30e765(0x690)]()}),showView('student'),studentInitialView[_0x30e765(0x820)][_0x30e765(0xc24)](_0x30e765(0x330)),_0x11f0c3==='group'?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x3b3f7a){console[_0x30e765(0x300)]('Failed\x20to\x20resume\x20game\x20session:',_0x3b3f7a),sessionStorage[_0x30e765(0x7bf)]('activeGameSession');}}async function handleUsePowerup(_0x3d7fce,_0x21b53b,_0x430d61,_0x747c42,_0x18e139){const _0x4b17ee=_0x1dbc7e,_0x3d4989=_0x747c42[_0x4b17ee(0x8fe)],_0x3594fa=_0x4b17ee(0xbd6)+_0x3d4989+'_p'+_0x3d7fce,_0x5ca0d2=sessionStorage[_0x4b17ee(0xe32)](_0x3594fa);if(_0x5ca0d2&&_0x21b53b!==_0x4b17ee(0xaf7)&&_0x21b53b!==_0x4b17ee(0x6fc)){showMessage(_0x4b17ee(0xce1));const _0x295aaf=document[_0x4b17ee(0x722)](_0x4b17ee(0xb6e)+_0x21b53b);if(_0x295aaf)_0x295aaf[_0x4b17ee(0xce0)]=![];return;}if(_0x21b53b==='wagerMultiplier'){sessionStorage[_0x4b17ee(0xcdd)](_0x3594fa,_0x21b53b),renderStudentSyncQuestionView(_0x747c42);return;}const _0x9966c=doc(db,_0x4b17ee(0xd90)+appId+_0x4b17ee(0x7c5)+currentLiveGameId+_0x4b17ee(0xb8d),_0x3d7fce);try{await runTransaction(db,async _0x22e6ec=>{const _0xe23762=_0x4b17ee,_0x3c877a=await _0x22e6ec[_0xe23762(0x7d6)](_0x9966c);if(!_0x3c877a[_0xe23762(0x5c5)]())throw _0xe23762(0x92e);const _0x13a550=_0x3c877a[_0xe23762(0x690)](),_0x5718b1=_0x13a550[_0xe23762(0xca5)]||{},_0x59d4ad=_0x5718b1[_0x21b53b]||0x0;if(_0x59d4ad<=0x0)throw _0xe23762(0x31b);const _0x1df0bc={};_0x1df0bc['powerups.'+_0x21b53b]=increment(-0x1);if(_0x21b53b==='buyTime'){const _0x530a84=(_0x747c42[_0xe23762(0x73b)]||0xf0)*0x3e8,_0x1e49f1=_0x530a84*0.25;_0x1df0bc[_0xe23762(0x3c3)]=increment(_0x1e49f1);}_0x22e6ec['update'](_0x9966c,_0x1df0bc);}),_0x21b53b===_0x4b17ee(0xb3f)&&sessionStorage[_0x4b17ee(0xcdd)](_0x4b17ee(0xced),'true'),_0x21b53b!=='buyTime'&&_0x21b53b!==_0x4b17ee(0x6fc)&&sessionStorage[_0x4b17ee(0xcdd)](_0x3594fa,_0x21b53b),applyPowerupEffect(_0x3d7fce,_0x21b53b,_0x430d61,_0x747c42,_0x18e139),(_0x21b53b==='cutOne'||_0x21b53b==='fiftyFifty'||_0x21b53b===_0x4b17ee(0x3e4))&&renderStudentSyncQuestionView(_0x747c42);}catch(_0x3c0c55){console[_0x4b17ee(0x300)](_0x4b17ee(0x733),_0x3c0c55),showMessage(typeof _0x3c0c55==='string'?_0x3c0c55:_0x4b17ee(0x260));const _0x35ffa4=document['getElementById'](_0x4b17ee(0xb6e)+_0x21b53b);if(_0x35ffa4)_0x35ffa4['disabled']=![];}}async function getCachedOtherPlayers(_0x371a1e,_0x16d7f4){const _0xb7d9e3=_0x1dbc7e,_0x1834ee=_0x371a1e[_0xb7d9e3(0x8fe)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x1834ee)return console['log']('ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)'),cachedOtherPlayersForQuestion;console[_0xb7d9e3(0x545)](_0xb7d9e3(0xb7e));const _0x3df02d=collection(db,_0xb7d9e3(0xd90)+appId+_0xb7d9e3(0x7c5)+currentLiveGameId+_0xb7d9e3(0xb8d)),_0x5c7690=query(_0x3df02d,where(_0xb7d9e3(0x600),'==',_0xb7d9e3(0x44f))),_0xdbba8f=await getDocs(_0x5c7690),_0x5824fa=[];return _0xdbba8f[_0xb7d9e3(0xb04)](_0x4a1a1c=>{const _0x442665=_0xb7d9e3,_0x310220=_0x4a1a1c['data']();_0x5824fa[_0x442665(0xca1)](_0x310220);}),cachedOtherPlayersForQuestion=_0x5824fa,cachedQuestionIndexForPlayers=_0x1834ee,_0x5824fa;}async function applyPowerupEffect(_0x5e0d7c,_0x198b6f,_0x546425,_0x5207b4,_0x53526f){const _0x400710=_0x1dbc7e,_0x5d434b=_0x546425,_0x4981bd=_0x5207b4[_0x400710(0x8fe)],_0x5324a8=_0x400710(0xbd6)+_0x4981bd+'_p'+_0x5e0d7c,_0xa0f997=collection(db,_0x400710(0xd90)+appId+_0x400710(0x7c5)+currentLiveGameId+'/players'),_0x13167d=await getDocs(query(_0xa0f997,where(_0x400710(0x600),'==',_0x400710(0x44f)))),_0x5e9769=doc(db,_0x400710(0xd90)+appId+'/public/data/syncGames',currentLiveGameId),_0x187dd3=await getDoc(_0x5e9769),_0x23f12d=_0x187dd3[_0x400710(0x5c5)]()?_0x187dd3[_0x400710(0x690)]():{},_0x4d9f0e=_0x23f12d[_0x400710(0x8d6)]||{},_0x500cdf=[];_0x13167d[_0x400710(0xb04)](_0x45e5c7=>{const _0x1fc090=_0x400710,_0x7034bc=_0x45e5c7[_0x1fc090(0x690)](),_0x4681df=_0x4d9f0e[_0x7034bc[_0x1fc090(0x39f)]]||{};_0x500cdf[_0x1fc090(0xca1)]({..._0x7034bc,'pointsLastRound':_0x4681df[_0x1fc090(0xceb)]!==undefined?_0x4681df[_0x1fc090(0xceb)]:_0x7034bc[_0x1fc090(0xceb)]||0x0,'score':_0x7034bc['score']||0x0});});const _0x1125be=_0x500cdf[_0x400710(0x36c)](_0x4e8818=>_0x4e8818[_0x400710(0x39f)]===_0x5e0d7c)||_0x53526f,_0x1f97c2=_0x442d68=>{const _0x1d0d8b=_0x400710,_0x99b377=_0x5207b4[_0x1d0d8b(0xa37)]===_0x1d0d8b(0x699),_0x1e0aa2=_0x5207b4[_0x1d0d8b(0x910)]===!![],_0x4355d6=_0x442d68[_0x1d0d8b(0x39f)];if(!_0x99b377)return _0x4355d6;const _0xdec1a1=_0x5207b4[_0x1d0d8b(0xcc5)][_0x4355d6]||_0x1d0d8b(0x6f2);let _0x197319=![];if(_0x1e0aa2){const _0x3e33fd=_0x1125be[_0x1d0d8b(0x7ee)]||0x0,_0x4e4a75=_0x442d68[_0x1d0d8b(0x7ee)]||0x0,_0x37c061=_0x1125be['pointsLastRound']||0x0,_0x407644=_0x442d68[_0x1d0d8b(0xceb)]||0x0;_0x197319=_0x3e33fd>_0x4e4a75||_0x3e33fd===_0x4e4a75&&_0x37c061>_0x407644;}else{const _0x9811d2=_0x1125be['pointsLastRound']||0x0,_0x53fb26=_0x442d68[_0x1d0d8b(0xceb)]||0x0;_0x197319=_0x9811d2>_0x53fb26;}return _0x197319?_0x4355d6+'\x20('+_0xdec1a1+')':_0xdec1a1;};switch(_0x198b6f){case _0x400710(0xb3f):try{let _0x2320cc=0x0;const _0x1c763a={};(_0x546425[_0x400710(0x9d3)]||[])[_0x400710(0xb04)]((_0x4060d7,_0x461145)=>{_0x1c763a[_0x461145]=0x0;}),_0x500cdf[_0x400710(0xb04)](_0x53e68f=>{const _0x4a9648=_0x400710,_0x2abf34=(_0x53e68f[_0x4a9648(0x9e0)]||[])[_0x4a9648(0x36c)](_0x2c355e=>_0x2c355e[_0x4a9648(0x78a)]===_0x4981bd);if(_0x2abf34&&_0x2abf34[_0x4a9648(0xac3)]!==null){const _0x540e8a=parseInt(_0x2abf34[_0x4a9648(0xac3)]);!isNaN(_0x540e8a)&&_0x1c763a[_0x540e8a]!==undefined&&(_0x1c763a[_0x540e8a]++,_0x2320cc++);}});if(_0x2320cc===0x0){showMessage(_0x400710(0x3cf));return;}let _0x15e005=_0x400710(0x43b)+_0x2320cc+_0x400710(0x1fe);Object[_0x400710(0xabb)](_0x1c763a)[_0x400710(0xb04)](([_0x1607ec,_0x2ad7f2])=>{const _0x5b305c=_0x400710,_0xdc52b7=_0x2320cc>0x0?(_0x2ad7f2/_0x2320cc*0x64)['toFixed'](0x0):0x0,_0xc64325='ตัวเลือก\x20'+(parseInt(_0x1607ec)+0x1);_0x15e005+=_0xc64325+':\x20'+_0x2ad7f2+_0x5b305c(0x60b)+_0xdc52b7+_0x5b305c(0x3a6);}),showMessage(_0x15e005);}catch(_0x3d0efa){console[_0x400710(0x300)](_0x3d0efa),showMessage(_0x400710(0x844));}break;case _0x400710(0x6fc):try{const _0x11119d=_0x500cdf[_0x400710(0x6b9)](_0x54eacb=>_0x54eacb['name']!==_0x5e0d7c);if(_0x11119d[_0x400710(0xc8f)]===0x0){showMessage(_0x400710(0xa2e)),handleRefundPowerup(_0x5e0d7c,_0x400710(0x6fc));break;}let _0x5e632e=[];_0x11119d[_0x400710(0xb04)](_0x3f996c=>{const _0x5833ee=_0x400710,_0x39c566=_0x3f996c['powerups']||{};if((_0x39c566[_0x5833ee(0xb3f)]||0x0)>0x0||(_0x39c566['wagerMultiplier']||0x0)>0x0){const _0x41460=_0x1f97c2(_0x3f996c);let _0x3e866e=[];if(_0x39c566[_0x5833ee(0xb3f)]>0x0)_0x3e866e[_0x5833ee(0xca1)]('📊');if(_0x39c566[_0x5833ee(0xd25)]>0x0)_0x3e866e['push']('💰');_0x5e632e['push']('-\x20'+_0x41460+_0x5833ee(0xcad)+_0x3e866e[_0x5833ee(0xbc8)](',\x20')+')');}}),showMessage(_0x5e632e[_0x400710(0xc8f)]>0x0?'📡\x20ตรวจพบผู้เล่นที่เป็นภัยคุกคาม:\x0a\x0a'+_0x5e632e['join']('\x0a'):_0x400710(0xb96));}catch(_0x44f482){console[_0x400710(0x300)](_0x44f482),handleRefundPowerup(_0x5e0d7c,_0x400710(0x6fc));}break;case _0x400710(0xde5):case _0x400710(0xcb5):const _0x407a46=_0x198b6f===_0x400710(0xde5),_0x4cdafd=_0x500cdf[_0x400710(0x6b9)](_0x3c2f79=>{const _0x5a2697=_0x400710,_0x2ca116=(_0x3c2f79['answers']||[])[_0x5a2697(0x2c1)](_0x10994a=>_0x10994a[_0x5a2697(0x78a)]===_0x4981bd);return _0x3c2f79[_0x5a2697(0x39f)]!==_0x5e0d7c&&!_0x2ca116&&_0x3c2f79[_0x5a2697(0x600)]===_0x5a2697(0x44f);});if(_0x4cdafd[_0x400710(0xc8f)]===0x0){showMessage(_0x400710(0x2a5)),sessionStorage['removeItem'](_0x5324a8),handleRefundPowerup(_0x5e0d7c,_0x198b6f);break;}const _0x3bd36d=_0x4cdafd[_0x400710(0xab8)]((_0x163c7f,_0x3bf021)=>({'index':_0x3bf021+0x1,'realName':_0x163c7f[_0x400710(0x39f)],'displayName':_0x1f97c2(_0x163c7f)})),_0x1925d1=_0x3bd36d[_0x400710(0xab8)](_0x5baff0=>_0x5baff0['index']+':\x20'+_0x5baff0[_0x400710(0x572)])['join']('\x0a'),_0x71a5a0=prompt(_0x400710(0xa23)+(_0x407a46?_0x400710(0x62f):_0x400710(0x9b7))+_0x400710(0xb4d)+_0x1925d1),_0xa6ed0=parseInt(_0x71a5a0)-0x1;if(_0xa6ed0>=0x0&&_0xa6ed0<_0x3bd36d[_0x400710(0xc8f)]){const _0x5df599=_0x3bd36d[_0xa6ed0];if(_0x407a46)handleForceConfident(_0x5df599[_0x400710(0xbec)],_0x5df599[_0x400710(0x572)]);else handleApplyJinx(_0x5df599[_0x400710(0xbec)],_0x5df599[_0x400710(0x572)]);}else showMessage(_0x400710(0x3d9)),sessionStorage[_0x400710(0x7bf)](_0x5324a8),handleRefundPowerup(_0x5e0d7c,_0x198b6f);break;case _0x400710(0x3e4):showMessage('🛡️\x20ประกันภัยเริ่มทำงาน!\x20หากข้อนี้ตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200');break;case _0x400710(0xd25):showMessage(_0x400710(0x59a));break;case'secondChance':showMessage(_0x400710(0xb2d));break;case _0x400710(0xaf7):const _0x2dd87e=(_0x5207b4[_0x400710(0x73b)]||0xf0)*0.25;showMessage(_0x400710(0x57e)+_0x2dd87e+'\x20วินาที');break;case _0x400710(0xcf9):case'fiftyFifty':const _0x4aeb4e=document[_0x400710(0x2ff)](_0x400710(0x3e9));if(_0x4aeb4e[_0x400710(0xc8f)]===0x0){showMessage(_0x400710(0x8db));return;}const _0x1b91e1=_0x400710(0xae8)+_0x4981bd+'_p'+_0x5e0d7c,_0x7d00a5=JSON['parse'](sessionStorage[_0x400710(0xe32)](_0x1b91e1)||'[]');let _0x104156;_0x5d434b[_0x400710(0xbd0)]==='true_false'?_0x104156=String(_0x5d434b[_0x400710(0x72b)])[_0x400710(0x2f6)]()===_0x400710(0x761)?0x0:0x1:_0x104156=_0x5d434b[_0x400710(0x7e1)];const _0x4a870f=Array[_0x400710(0xb64)](_0x4aeb4e)[_0x400710(0x6b9)](_0x544aba=>parseInt(_0x544aba[_0x400710(0xa7e)]['value'])!==_0x104156&&!_0x7d00a5[_0x400710(0x549)](_0x544aba[_0x400710(0xa7e)][_0x400710(0xa46)]));if(_0x4a870f[_0x400710(0xc8f)]===0x0){showMessage(_0x400710(0x2ed));return;}shuffleArray(_0x4a870f);let _0x1e47c6=[..._0x7d00a5];const _0x4af226=_0x198b6f===_0x400710(0xcf9)?0x1:0x2;for(let _0x185433=0x0;_0x185433<_0x4af226;_0x185433++){_0x4a870f[_0x185433]&&(_0x4a870f[_0x185433][_0x400710(0x820)][_0x400710(0xc24)](_0x400710(0x330)),_0x1e47c6[_0x400710(0xca1)](_0x4a870f[_0x185433]['dataset'][_0x400710(0xa46)]));}sessionStorage['setItem'](_0x1b91e1,JSON[_0x400710(0xa70)](_0x1e47c6)),showMessage(_0x198b6f===_0x400710(0xcf9)?_0x400710(0x24b):_0x400710(0x2b1));break;default:showMessage(_0x400710(0x272)+_0x198b6f+_0x400710(0x74b));}}async function handleForceConfident(_0x1ca654,_0x577829){const _0x3d5a28=_0x1dbc7e;if(!currentLiveGameId||!_0x1ca654)return;const _0x3b0b1e=doc(db,_0x3d5a28(0xd90)+appId+_0x3d5a28(0x7c5)+currentLiveGameId+_0x3d5a28(0xb8d),_0x1ca654);try{await updateDoc(_0x3b0b1e,{'isForcedConfident':!![]}),showMessage(_0x3d5a28(0xeaf)+_0x577829+_0x3d5a28(0x382));}catch(_0x3144b4){console[_0x3d5a28(0x300)](_0x3d5a28(0x6ba),_0x3144b4),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}async function handleRefundPowerup(_0x259468,_0x3fe06e){const _0xa67825=_0x1dbc7e,_0x1b84d2=doc(db,'artifacts/'+appId+_0xa67825(0x7c5)+currentLiveGameId+_0xa67825(0xb8d),_0x259468);try{const _0x16c106={};_0x16c106[_0xa67825(0x67a)+_0x3fe06e]=increment(0x1),await updateDoc(_0x1b84d2,_0x16c106),console['log'](_0xa67825(0x6c2)+_0x3fe06e+_0xa67825(0xa45)+_0x259468);}catch(_0xfc0086){console['error']('Failed\x20to\x20refund\x20powerup:',_0xfc0086);}}async function handleApplyJinx(_0x2a41a3,_0x282494){const _0xfdc82=_0x1dbc7e;if(!currentLiveGameId||!_0x2a41a3)return;const _0x1f8d85=doc(db,_0xfdc82(0xd90)+appId+_0xfdc82(0x7c5)+currentLiveGameId+_0xfdc82(0xb8d),_0x2a41a3);try{await updateDoc(_0x1f8d85,{'isJinxed':!![]}),showMessage(_0xfdc82(0x978)+_0x282494+_0xfdc82(0x382));}catch(_0x24f67d){console[_0xfdc82(0x300)](_0xfdc82(0x695),_0x24f67d),showMessage(_0xfdc82(0x37e));}}function activateFileInputAreaWithLoadedFile(){const _0x26fd2a=_0x1dbc7e,_0x165f63=document['getElementById'](_0x26fd2a(0x5cc)),_0x35fb04=document['getElementById'](_0x26fd2a(0xc12)),_0x25d478=document[_0x26fd2a(0x722)]('separate-by-content-from-file-checkbox');selectedFile?_0x25d478['checked']?(_0x165f63[_0x26fd2a(0xce0)]=!![],analyzeFileForTopics(selectedFile)):(_0x165f63[_0x26fd2a(0xce0)]=![],_0x35fb04[_0x26fd2a(0x820)][_0x26fd2a(0xc24)](_0x26fd2a(0x330))):(_0x165f63[_0x26fd2a(0xce0)]=!![],_0x35fb04['classList']['add']('hidden'));}async function handleKickPlayerSync(_0x362a7b){const _0x31dfa7=_0x1dbc7e;if(!currentLiveGameId||!_0x362a7b)return;const _0x1a1b6d=doc(db,'artifacts/'+appId+_0x31dfa7(0x7c5)+currentLiveGameId+_0x31dfa7(0xb8d),_0x362a7b);try{await updateDoc(_0x1a1b6d,{'status':_0x31dfa7(0x7f6)});}catch(_0x413857){console[_0x31dfa7(0x300)]('Failed\x20to\x20kick\x20player\x20'+_0x362a7b+':',_0x413857),showMessage(_0x31dfa7(0x76a));}}async function renderStudentProgressDashboard(_0x5bab9c,_0x503a66){const _0x5320f9=_0x1dbc7e,_0x2141ef=document['getElementById'](_0x5320f9(0xaa4));_0x2141ef[_0x5320f9(0x5dd)]=_0x5320f9(0xa28);try{const _0x55cf82=collection(db,_0x5320f9(0xd90)+appId+_0x5320f9(0x806)),_0x3bb47b=query(_0x55cf82,where(_0x5320f9(0x6ea),'==',_0x5bab9c)),_0x51cb34=await getDocs(_0x3bb47b),_0x30340a=_0x51cb34[_0x5320f9(0xd16)][_0x5320f9(0xab8)](_0x120eae=>({'id':_0x120eae['id'],..._0x120eae[_0x5320f9(0x690)]()})),_0x531b56=_0x30340a['map'](_0x453782=>getDoc(doc(db,_0x5320f9(0xd90)+appId+_0x5320f9(0xdb8)+_0x453782['id']+_0x5320f9(0x353),_0x503a66))),_0x478de6=await Promise[_0x5320f9(0x829)](_0x531b56),_0x4039f4=_0x478de6['filter'](_0x432133=>_0x432133['exists']())[_0x5320f9(0xab8)](_0x337cb0=>({'quizId':_0x337cb0[_0x5320f9(0xb60)][_0x5320f9(0x531)][_0x5320f9(0x531)]['id'],..._0x337cb0['data']()}));if(_0x4039f4[_0x5320f9(0xc8f)]===0x0){_0x2141ef['innerHTML']=_0x5320f9(0x737);return;}let _0x2ea305=_0x5320f9(0x82d);_0x4039f4[_0x5320f9(0xb04)](_0x2b7dfc=>{const _0x2b9ceb=_0x5320f9,_0x3258a2=_0x30340a[_0x2b9ceb(0x36c)](_0x9c7f6a=>_0x9c7f6a['id']===_0x2b7dfc[_0x2b9ceb(0x7ff)]),_0x2390a7=_0x3258a2[_0x2b9ceb(0xa0a)]?.[_0x2b9ceb(0x525)]||'show_results_and_answers',_0x4ccb8c=_0x3258a2[_0x2b9ceb(0xa0a)]?.[_0x2b9ceb(0x3e8)]??0x0,_0x28571b=_0x2b7dfc[_0x2b9ceb(0xb17)]>=_0x4ccb8c;let _0xe39c27='',_0x1d6ade=_0x2b9ceb(0xb9d);switch(_0x2390a7){case _0x2b9ceb(0x446):case _0x2b9ceb(0x2d0):_0x1d6ade=_0x28571b?_0x2b9ceb(0xad3):_0x2b9ceb(0xed9),_0xe39c27='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x28571b?_0x2b9ceb(0xbf1):'text-red-700')+'\x22>'+_0x2b7dfc[_0x2b9ceb(0xb17)]+_0x2b9ceb(0x4df)+_0x2b7dfc[_0x2b9ceb(0x3c8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x28571b?_0x2b9ceb(0xccd):_0x2b9ceb(0xba4))+'\x22>'+(_0x28571b?_0x2b9ceb(0x223):_0x2b9ceb(0x5b7))+_0x2b9ceb(0xee6);break;case _0x2b9ceb(0x813):_0x1d6ade=_0x28571b?_0x2b9ceb(0xad3):_0x2b9ceb(0xed9),_0xe39c27=_0x2b9ceb(0xe2c)+(_0x28571b?_0x2b9ceb(0xccd):_0x2b9ceb(0xba4))+'\x22>'+(_0x28571b?_0x2b9ceb(0x223):'ไม่ผ่าน')+_0x2b9ceb(0xee6);break;case'manual_release':_0x1d6ade=_0x2b9ceb(0xabe),_0xe39c27='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x2ea305+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x1d6ade+_0x2b9ceb(0xc9b)+_0x3258a2[_0x2b9ceb(0x2d2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x2b7dfc[_0x2b9ceb(0x764)]['length']+_0x2b9ceb(0xed3)+new Date(_0x2b7dfc[_0x2b9ceb(0x542)])['toLocaleDateString']('th-TH')+_0x2b9ceb(0xe10)+_0xe39c27+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2ea305+=_0x5320f9(0x607),_0x2141ef[_0x5320f9(0x5dd)]=_0x2ea305;}catch(_0x36693b){console[_0x5320f9(0x300)](_0x5320f9(0xbff),_0x36693b),_0x2141ef['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x168df2=''){const _0x42bebd=_0x1dbc7e,_0x2f3dda=document['getElementById'](_0x42bebd(0x2f4)),_0x3c11f8=_0x168df2[_0x42bebd(0x2f6)]()['trim'](),_0x202472=allQuizzesGlobal['map'](_0x38e7cf=>({..._0x38e7cf,'projectName':allProjects[_0x42bebd(0x36c)](_0x55d456=>_0x55d456['id']===_0x38e7cf[_0x42bebd(0x6ea)])?.[_0x42bebd(0x897)]||_0x42bebd(0xd08)}))[_0x42bebd(0x6b9)](_0x42ba6c=>(_0x42ba6c[_0x42bebd(0x2d2)]||'')['toLowerCase']()[_0x42bebd(0x549)](_0x3c11f8)||(_0x42ba6c['projectName']||'')[_0x42bebd(0x2f6)]()[_0x42bebd(0x549)](_0x3c11f8)||_0x42ba6c['id'][_0x42bebd(0x992)]()[_0x42bebd(0x549)](_0x3c11f8));_0x2f3dda[_0x42bebd(0x5dd)]=_0x202472[_0x42bebd(0xc8f)]?_0x202472[_0x42bebd(0xab8)](_0x35771d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x35771d['id']+_0x42bebd(0xbb0)+(_0x35771d[_0x42bebd(0x2d2)]||_0x42bebd(0x9d1))+_0x42bebd(0x8d8)+_0x35771d[_0x42bebd(0x897)]+_0x42bebd(0x2ac)+_0x35771d['id']+_0x42bebd(0xe6c))[_0x42bebd(0xbc8)](''):_0x42bebd(0x257),_0x2f3dda[_0x42bebd(0x7d5)]=()=>{const _0x1dff6b=_0x42bebd,_0x258a57=document[_0x1dff6b(0x390)]('.quiz-bank-checkbox:checked');document[_0x1dff6b(0x722)](_0x1dff6b(0x94c))[_0x1dff6b(0xce0)]=!_0x258a57;};}function setupStudentProgressListeners(){const _0x20852b=_0x1dbc7e;document[_0x20852b(0x722)](_0x20852b(0xc3b))[_0x20852b(0x939)](_0x20852b(0xa25),showStudentProgressView),document[_0x20852b(0x722)]('back-to-student-home-btn')['addEventListener'](_0x20852b(0xa25),()=>{const _0x4c75e8=_0x20852b;document[_0x4c75e8(0x722)]('student-progress-view')[_0x4c75e8(0x820)][_0x4c75e8(0xc24)](_0x4c75e8(0x330)),document[_0x4c75e8(0x722)]('student-initial-view')[_0x4c75e8(0x820)][_0x4c75e8(0xda2)](_0x4c75e8(0x330));});}async function startSkillPractice(_0xfbe067){const _0x5c0bb1=_0x1dbc7e;studentResultArea[_0x5c0bb1(0x820)][_0x5c0bb1(0xc24)]('hidden'),studentQuizArea['innerHTML']=_0x5c0bb1(0x32f),studentQuizArea[_0x5c0bb1(0x820)][_0x5c0bb1(0xda2)]('hidden');try{const _0x2451bf=await getStandardizedTopic(_0xfbe067);console[_0x5c0bb1(0x545)](_0x5c0bb1(0xa19)+_0xfbe067+_0x5c0bb1(0x817)+_0x2451bf+'\x22'),studentQuizArea[_0x5c0bb1(0x390)]('p')[_0x5c0bb1(0x2eb)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x2451bf+_0x5c0bb1(0x472);const _0x4b8ed1=collection(db,_0x5c0bb1(0xd90)+appId+_0x5c0bb1(0x5a8)),_0x80582d=query(_0x4b8ed1,where(_0x5c0bb1(0x2d2),'==',_0x2451bf)),_0x1bc40a=await getDocs(_0x80582d);if(_0x1bc40a[_0x5c0bb1(0xd16)][_0x5c0bb1(0xc8f)]>=0x3){console['log'](_0x5c0bb1(0x1ef)+_0x1bc40a[_0x5c0bb1(0xd16)][_0x5c0bb1(0xc8f)]+_0x5c0bb1(0x6e0)+_0x2451bf+_0x5c0bb1(0x4c9));let _0xe070a2=_0x1bc40a[_0x5c0bb1(0xd16)][_0x5c0bb1(0xab8)](_0x41c3d8=>_0x41c3d8[_0x5c0bb1(0x690)]());shuffleArray(_0xe070a2);const _0x3bf8dd={'topic':_0x2451bf,'questions':_0xe070a2['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x3bf8dd);}else{console[_0x5c0bb1(0x545)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x2451bf+_0x5c0bb1(0x7f8));const _0x25c440=await generatePracticeQuestions(_0x2451bf);await saveDrillToPracticeBank(_0x25c440,_0x2451bf),displaySkillPracticeDrill(_0x25c440);}}catch(_0xf5889e){console[_0x5c0bb1(0x300)](_0x5c0bb1(0x6dc),_0xf5889e),showMessage(_0x5c0bb1(0xa62)),studentQuizArea[_0x5c0bb1(0x820)]['add'](_0x5c0bb1(0x330)),studentResultArea[_0x5c0bb1(0x820)][_0x5c0bb1(0xda2)](_0x5c0bb1(0x330));}}async function saveDrillToPracticeBank(_0x3e94da,_0x5d7442){const _0x6a1eb1=_0x1dbc7e,_0x358962=collection(db,_0x6a1eb1(0xd90)+appId+_0x6a1eb1(0x5a8)),_0x367702=writeBatch(db);_0x3e94da[_0x6a1eb1(0x882)]['forEach'](_0x500d33=>{const _0x365af5=doc(_0x358962);_0x367702['set'](_0x365af5,{'topic':_0x5d7442,'questionText':_0x500d33['questionText'],'options':_0x500d33['options'],'correctAnswerIndex':_0x500d33['correctAnswerIndex'],'explanation':_0x500d33['explanation'],'createdAt':serverTimestamp()});});try{await _0x367702[_0x6a1eb1(0x783)](),console[_0x6a1eb1(0x545)](_0x6a1eb1(0x993)+_0x3e94da[_0x6a1eb1(0x882)][_0x6a1eb1(0xc8f)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x32fbfa){console['error'](_0x6a1eb1(0x909),_0x32fbfa);}}async function getStandardizedTopic(_0xe37ccb){const _0x3b7af3=_0x1dbc7e,_0x2ed1cf=_0x3b7af3(0x48e)+_0xe37ccb+_0x3b7af3(0xe8c),_0x53ed23={'type':'OBJECT','properties':{'standardTopic':{'type':_0x3b7af3(0xcdc)}},'required':[_0x3b7af3(0x20b)]};try{const _0x2eb012=await callAnalysisApi(_0x2ed1cf,_0x53ed23);return _0x2eb012[_0x3b7af3(0x20b)];}catch(_0x553731){return console[_0x3b7af3(0x300)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x553731),_0xe37ccb;}}async function handleGenerateEasyVersionQuiz(_0x3d635c){const _0x5595b2=_0x1dbc7e,_0x1e33f5=document[_0x5595b2(0x722)](_0x5595b2(0x9cb)),_0x283a86=document[_0x5595b2(0x722)]('project-quizzes-list');_0x283a86[_0x5595b2(0x820)]['add'](_0x5595b2(0x330));const _0x4393ce=_0x5595b2(0xcbe);_0x1e33f5[_0x5595b2(0x6a0)](_0x5595b2(0x5a6),_0x4393ce);try{const _0x327d6a=allQuizzes[_0x5595b2(0x36c)](_0x3b3179=>_0x3b3179['id']===_0x3d635c);if(!_0x327d6a)throw new Error(_0x5595b2(0xb07));const _0x324d68=_0x5595b2(0x7c6)+JSON['stringify'](_0x327d6a[_0x5595b2(0x882)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x456ef0={'type':_0x5595b2(0x552),'properties':{'questionText':{'type':_0x5595b2(0xcdc)},'questionType':{'type':_0x5595b2(0xcdc)},'options':{'type':_0x5595b2(0x9ba),'items':{'type':_0x5595b2(0xcdc)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x5595b2(0xcdc)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x5595b2(0xbd0),'explanation']},_0x12b854={'type':'OBJECT','properties':{'questions':{'type':'ARRAY','items':_0x456ef0}},'required':[_0x5595b2(0x882)]},_0x391d0d=await callAnalysisApi(_0x324d68,_0x12b854);_0x391d0d&&_0x391d0d[_0x5595b2(0x882)]&&_0x391d0d[_0x5595b2(0x882)][_0x5595b2(0xb04)](_0x3fa9c8=>{const _0x5c0893=_0x5595b2;if(_0x3fa9c8[_0x5c0893(0xd44)](_0x5c0893(0x79d))){const _0x5c2711=String(_0x3fa9c8[_0x5c0893(0x79d)])[_0x5c0893(0xbe3)]();(_0x5c2711===''||_0x5c2711[_0x5c0893(0x2f6)]()==='null'||!_0x5c2711['startsWith']('<svg'))&&delete _0x3fa9c8[_0x5c0893(0x79d)];}});if(!_0x391d0d||!_0x391d0d[_0x5595b2(0x882)]||_0x391d0d[_0x5595b2(0x882)][_0x5595b2(0xc8f)]===0x0)throw new Error(_0x5595b2(0xd9a));const _0x4fb71d=_0x391d0d[_0x5595b2(0x882)][_0x5595b2(0xab8)]((_0x23d1cd,_0x26c799)=>({..._0x23d1cd,'id':'q_'+Date['now']()+'_'+_0x26c799})),_0x50bcd8={'projectId':_0x327d6a['projectId'],'quizType':_0x327d6a[_0x5595b2(0x4f4)],'settings':_0x327d6a[_0x5595b2(0xa0a)],'createdBy':_0x327d6a[_0x5595b2(0x59b)],'status':_0x5595b2(0x44f),'topic':_0x5595b2(0x9c7)+_0x327d6a[_0x5595b2(0x2d2)],'questions':_0x4fb71d,'createdAt':new Date()[_0x5595b2(0x3fe)](),'quizMode':_0x5595b2(0x96e),'pairedQuizId':null};let _0xea8af3;while(!![]){_0xea8af3=Math[_0x5595b2(0x982)](0x3e8+Math['random']()*0x2328)[_0x5595b2(0x992)]();const _0x97b08=await getDoc(doc(db,'artifacts/'+appId+_0x5595b2(0x806),_0xea8af3));if(!_0x97b08[_0x5595b2(0x5c5)]())break;}await setDoc(doc(db,_0x5595b2(0xd90)+appId+_0x5595b2(0x806),_0xea8af3),_0x50bcd8),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x22ac35){console['error']('Error\x20generating\x20easy\x20version\x20quiz:',_0x22ac35),showMessage('เกิดข้อผิดพลาด:\x20'+_0x22ac35[_0x5595b2(0x83d)]);}finally{const _0x48b8bd=document['getElementById'](_0x5595b2(0xe6e));_0x48b8bd&&_0x48b8bd[_0x5595b2(0xda2)](),_0x283a86[_0x5595b2(0x820)][_0x5595b2(0xda2)]('hidden');}}async function generatePracticeQuestions(_0x50f486){const _0x51a3d1=_0x1dbc7e,_0xa9d01f=_0x51a3d1(0x314)+_0x50f486+_0x51a3d1(0xd83)+simpleMathPrompt+_0x51a3d1(0x772),_0x358ac0={'type':'OBJECT','properties':{'questionText':{'type':_0x51a3d1(0xcdc)},'options':{'type':'ARRAY','items':{'type':_0x51a3d1(0xcdc)}},'correctAnswerIndex':{'type':_0x51a3d1(0xdf9)},'explanation':{'type':_0x51a3d1(0xcdc)}},'required':[_0x51a3d1(0xe68),_0x51a3d1(0x9d3),_0x51a3d1(0x7e1),_0x51a3d1(0x6dd)]},_0xe98f4c={'type':'OBJECT','properties':{'topic':{'type':_0x51a3d1(0xcdc)},'questions':{'type':'ARRAY','items':_0x358ac0}},'required':[_0x51a3d1(0x2d2),_0x51a3d1(0x882)]};return await callAnalysisApi(_0xa9d01f,_0xe98f4c);}function displayLessonPlan(_0x46e076,_0x5da05d){const _0x10c056=_0x1dbc7e,_0x2ed0c6=_0x10c056(0x656)+_0x5da05d['topic']+_0x10c056(0xa2d)+_0x46e076[_0x10c056(0x7a2)][_0x10c056(0xab8)](_0x916f28=>_0x10c056(0x7b5)+_0x916f28+_0x10c056(0x97a))[_0x10c056(0xbc8)]('')+_0x10c056(0xcc6)+_0x46e076[_0x10c056(0x203)]+_0x10c056(0x393)+_0x46e076['practiceProblems'][_0x10c056(0xab8)](_0xb50fc8=>_0x10c056(0x3d7)+_0xb50fc8['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0xb50fc8[_0x10c056(0xedd)]+_0x10c056(0x4e0))['join']('')+_0x10c056(0x243);document[_0x10c056(0x722)](_0x10c056(0xec4))[_0x10c056(0x2eb)]='แผนการสอน:\x20'+_0x5da05d[_0x10c056(0x2d2)],document[_0x10c056(0x722)](_0x10c056(0x3dc))['innerHTML']=_0x2ed0c6,document[_0x10c056(0x722)](_0x10c056(0xab7))[_0x10c056(0x820)][_0x10c056(0xda2)]('hidden');if(window[_0x10c056(0xa8c)])MathJax[_0x10c056(0x303)]();}function displaySkillPracticeDrill(_0x25d4e3){const _0x2f2f7b=_0x1dbc7e;let _0x47e346=0x0;const _0x3254e3=_0x25d4e3[_0x2f2f7b(0x882)],_0x22da8b=()=>{const _0x4437b2=_0x2f2f7b,_0x1f9400=_0x3254e3[_0x47e346],_0x5b0d5d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x47e346+0x1)+_0x4437b2(0x4df)+_0x3254e3[_0x4437b2(0xc8f)]+_0x4437b2(0xae2)+_0x1f9400[_0x4437b2(0xe68)]+_0x4437b2(0x214)+_0x1f9400['options'][_0x4437b2(0xab8)]((_0x4c36c9,_0x4e1661)=>_0x4437b2(0x744)+_0x4e1661+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x4e1661+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x4e1661+'\x22>'+_0x4c36c9+_0x4437b2(0x739))[_0x4437b2(0xbc8)]('')+_0x4437b2(0x714);studentQuizArea[_0x4437b2(0x5dd)]=_0x5b0d5d;if(window[_0x4437b2(0xa8c)])MathJax[_0x4437b2(0x303)]([studentQuizArea]);document[_0x4437b2(0x722)]('hint-btn')[_0x4437b2(0x939)](_0x4437b2(0xa25),async()=>{const _0x37d882=_0x4437b2,_0x40eb1a=await getHintForQuestion(_0x1f9400[_0x37d882(0xe68)]);showMessage(_0x40eb1a);}),document[_0x4437b2(0x722)](_0x4437b2(0x3af))[_0x4437b2(0x939)](_0x4437b2(0xa25),()=>{const _0x427d0b=_0x4437b2,_0x219132=document['querySelector'](_0x427d0b(0x76f));if(!_0x219132){showMessage(_0x427d0b(0xc52));return;}const _0x25bcf4=document[_0x427d0b(0x722)](_0x427d0b(0xd70)),_0x26a1ba=parseInt(_0x219132[_0x427d0b(0xa46)])===_0x1f9400[_0x427d0b(0x7e1)];_0x26a1ba?(_0x25bcf4[_0x427d0b(0x402)]=_0x427d0b(0x3ea),_0x25bcf4[_0x427d0b(0x5dd)]=_0x427d0b(0xb0d)+_0x1f9400[_0x427d0b(0x6dd)]):(_0x25bcf4[_0x427d0b(0x402)]=_0x427d0b(0x9e3),_0x25bcf4[_0x427d0b(0x5dd)]=_0x427d0b(0xb27)+_0x1f9400[_0x427d0b(0x6dd)]);_0x25bcf4[_0x427d0b(0x820)][_0x427d0b(0xda2)](_0x427d0b(0x330));if(window[_0x427d0b(0xa8c)])MathJax[_0x427d0b(0x303)]([_0x25bcf4]);document[_0x427d0b(0x722)]('check-answer-btn')[_0x427d0b(0x820)]['add']('hidden'),document[_0x427d0b(0x722)](_0x427d0b(0x821))[_0x427d0b(0x820)][_0x427d0b(0xc24)]('hidden'),document['getElementById']('next-drill-btn')[_0x427d0b(0x820)][_0x427d0b(0xda2)](_0x427d0b(0x330));}),document[_0x4437b2(0x722)](_0x4437b2(0xd8f))[_0x4437b2(0x939)](_0x4437b2(0xa25),()=>{const _0x51719f=_0x4437b2;_0x47e346++,_0x47e346<_0x3254e3[_0x51719f(0xc8f)]?_0x22da8b():(studentQuizArea[_0x51719f(0x5dd)]=_0x51719f(0xcd0),document[_0x51719f(0x722)](_0x51719f(0xaf0))[_0x51719f(0x939)]('click',()=>{const _0x2583a0=_0x51719f;studentQuizArea['classList'][_0x2583a0(0xc24)](_0x2583a0(0x330)),studentResultArea[_0x2583a0(0x820)][_0x2583a0(0xda2)](_0x2583a0(0x330));}));});};_0x22da8b();}async function getHintForQuestion(_0x419a1d){const _0x1081b9=_0x1dbc7e,_0x1e962f=_0x1081b9(0xddf)+_0x419a1d+_0x1081b9(0x7da),_0x10e5e1={'type':_0x1081b9(0x552),'properties':{'hint':{'type':_0x1081b9(0xcdc)}},'required':[_0x1081b9(0x6d5)]};try{const _0x39180d=await callAnalysisApi(_0x1e962f,_0x10e5e1);return _0x39180d[_0x1081b9(0x6d5)];}catch(_0x142aa6){return console[_0x1081b9(0x300)](_0x1081b9(0xd52),_0x142aa6),_0x1081b9(0xef1);}}async function extractTextFromPdf(_0x4270cf){const _0x3790de=_0x1dbc7e;pdfjsLib[_0x3790de(0xa90)][_0x3790de(0x9b3)]=_0x3790de(0x655);const _0x5cec20=await _0x4270cf[_0x3790de(0x58e)](),_0x1ef0ea=await pdfjsLib[_0x3790de(0x499)](_0x5cec20)[_0x3790de(0xaf3)],_0x4b4e01=_0x1ef0ea['numPages'];let _0x2aea3e='';for(let _0x1feb77=0x1;_0x1feb77<=_0x4b4e01;_0x1feb77++){const _0x5e738d=await _0x1ef0ea[_0x3790de(0xdeb)](_0x1feb77),_0x1b9024=await _0x5e738d[_0x3790de(0x8c9)](),_0x3a7918=_0x1b9024[_0x3790de(0xa57)]['map'](_0x536240=>_0x536240[_0x3790de(0xa32)])[_0x3790de(0xbc8)]('\x20');_0x2aea3e+=_0x3a7918+'\x0a\x0a';}return _0x2aea3e;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x2d0651){const _0x19e7b2=_0x1dbc7e,_0x232848=document['getElementById'](_0x19e7b2(0xb20)),_0x105c9a=document[_0x19e7b2(0x722)](_0x19e7b2(0x736)),_0x335929=document['getElementById'](_0x19e7b2(0xd3f));_0x232848['classList'][_0x19e7b2(0xda2)](_0x19e7b2(0x330)),_0x105c9a[_0x19e7b2(0x5dd)]=_0x19e7b2(0x922),_0x335929[_0x19e7b2(0x820)][_0x19e7b2(0xc24)](_0x19e7b2(0x330));try{const _0x3d290d=_0x19e7b2(0xa03)+_0x2d0651+_0x19e7b2(0xdd7),_0x3596dc={'type':_0x19e7b2(0x552),'properties':{'gradeLevel':{'type':_0x19e7b2(0xcdc)},'curriculum':{'type':_0x19e7b2(0x9ba),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x19e7b2(0xcdc)},'mainTopics':{'type':_0x19e7b2(0x9ba),'items':{'type':_0x19e7b2(0x552),'properties':{'topicName':{'type':_0x19e7b2(0xcdc)},'subTopics':{'type':_0x19e7b2(0x9ba),'items':{'type':'STRING'}}},'required':[_0x19e7b2(0xdde),_0x19e7b2(0xdc1)]}}},'required':[_0x19e7b2(0x5d1),_0x19e7b2(0x685)]}}},'required':['gradeLevel',_0x19e7b2(0xbaa)]},_0x399a5f=await callAnalysisApi(_0x3d290d,_0x3596dc);if(_0x399a5f&&_0x399a5f['curriculum'])extractedBlueprintData=_0x399a5f,renderBlueprintTopics(_0x399a5f),_0x335929[_0x19e7b2(0x820)][_0x19e7b2(0xda2)](_0x19e7b2(0x330));else throw new Error(_0x19e7b2(0x56d));}catch(_0x2b5a18){console[_0x19e7b2(0x300)]('Error\x20analyzing\x20blueprint\x20topics:',_0x2b5a18),_0x105c9a['innerHTML']=_0x19e7b2(0x313);}}function renderBlueprintTopics(_0x4b13d5){const _0x268fb2=_0x1dbc7e,_0x50824c=document[_0x268fb2(0x722)](_0x268fb2(0x736)),_0x23d487=_0x4b13d5[_0x268fb2(0x340)],_0x379093=_0x268fb2(0x443)+_0x23d487+'</h3>';let _0x52b52a='';_0x4b13d5[_0x268fb2(0xbaa)][_0x268fb2(0xb04)](_0x40395d=>{const _0x548d5e=_0x268fb2;_0x52b52a+=_0x548d5e(0x97d)+_0x40395d['sara']+_0x548d5e(0x8f5),_0x40395d['mainTopics'][_0x548d5e(0xb04)](_0x61a954=>{const _0x2429a2=_0x548d5e;_0x52b52a+=_0x2429a2(0xa01)+_0x61a954[_0x2429a2(0xdde)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x61a954[_0x2429a2(0xdc1)][_0x2429a2(0xb04)](_0x448b6f=>{const _0x4653ff=_0x2429a2;_0x52b52a+=_0x4653ff(0xb18)+_0x448b6f[_0x4653ff(0x84f)](/'/g,'\x5c\x27')+_0x4653ff(0xc31)+_0x23d487[_0x4653ff(0x84f)](/'/g,'\x5c\x27')+_0x4653ff(0x2c2)+_0x448b6f+_0x4653ff(0xbf0)+_0x448b6f[_0x4653ff(0x84f)](/'/g,'\x5c\x27')+_0x4653ff(0x770);}),_0x52b52a+='</div></div>';}),_0x52b52a+=_0x548d5e(0x607);}),_0x50824c[_0x268fb2(0x5dd)]=_0x379093+_0x52b52a;}async function handleGenerateTeachingContent(_0x5bc24c){const _0x4241f6=_0x1dbc7e,_0x3d59ec=document['getElementById'](_0x4241f6(0xab7)),_0x4e43d5=document[_0x4241f6(0x722)](_0x4241f6(0x3dc));document['getElementById'](_0x4241f6(0xec4))[_0x4241f6(0x2eb)]=_0x4241f6(0xc05)+_0x5bc24c,_0x4e43d5['innerHTML']=_0x4241f6(0x6ee),_0x3d59ec['classList'][_0x4241f6(0xda2)]('hidden');try{const _0x46ce05=_0x4241f6(0x950)+_0x5bc24c+_0x4241f6(0xb26),_0x123240={'type':_0x4241f6(0x552),'properties':{'keyConcepts':{'type':_0x4241f6(0x9ba),'items':{'type':_0x4241f6(0xcdc)}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x4241f6(0xcdc)}},'stepByStepExamples':{'type':_0x4241f6(0x9ba),'items':{'type':_0x4241f6(0x552),'properties':{'question':{'type':_0x4241f6(0xcdc)},'solution':{'type':_0x4241f6(0xcdc)}},'required':['question',_0x4241f6(0xedd)]}},'teacherTips':{'type':_0x4241f6(0x9ba),'items':{'type':_0x4241f6(0xcdc)}}},'required':[_0x4241f6(0x215),'commonMistakes',_0x4241f6(0x6fd),_0x4241f6(0xa6f)]},_0x5b47e7=await callAnalysisApi(_0x46ce05,_0x123240);displayTeachingContent(_0x5b47e7,_0x5bc24c);}catch(_0x51847c){console[_0x4241f6(0x300)](_0x4241f6(0xbb1),_0x51847c),_0x4e43d5[_0x4241f6(0x5dd)]=_0x4241f6(0xaa1)+_0x51847c[_0x4241f6(0x83d)]+_0x4241f6(0x283);}}function displayTeachingContent(_0x1cced7,_0x3a2ed5){const _0x1b6ea7=_0x1dbc7e,_0x3d9bd7=document[_0x1b6ea7(0x722)](_0x1b6ea7(0x3dc));document[_0x1b6ea7(0x722)](_0x1b6ea7(0xec4))[_0x1b6ea7(0x2eb)]='เนื้อหาสำหรับสอน:\x20'+_0x3a2ed5;const _0x5d2400='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x1cced7[_0x1b6ea7(0x215)]['map'](_0x48b70f=>'<li>'+_0x48b70f+_0x1b6ea7(0x97a))[_0x1b6ea7(0xbc8)]('')+_0x1b6ea7(0xca9)+_0x1cced7[_0x1b6ea7(0x325)][_0x1b6ea7(0xab8)](_0x38e40a=>_0x1b6ea7(0x7b5)+_0x38e40a+'</li>')[_0x1b6ea7(0xbc8)]('')+_0x1b6ea7(0x660)+_0x1cced7[_0x1b6ea7(0x6fd)][_0x1b6ea7(0xab8)](_0x3ad998=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x3ad998[_0x1b6ea7(0x22f)]+_0x1b6ea7(0x4a9)+_0x3ad998[_0x1b6ea7(0xedd)]+_0x1b6ea7(0x270))[_0x1b6ea7(0xbc8)]('')+_0x1b6ea7(0x512)+_0x1cced7[_0x1b6ea7(0xa6f)][_0x1b6ea7(0xab8)](_0x2ffc95=>_0x1b6ea7(0x7b5)+_0x2ffc95+_0x1b6ea7(0x97a))['join']('')+_0x1b6ea7(0x226);_0x3d9bd7[_0x1b6ea7(0x5dd)]=_0x5d2400;if(window['MathJax'])MathJax[_0x1b6ea7(0x303)]([_0x3d9bd7]);}async function generateQuizForSingleTopic(_0x471059){const _0x379d7e=_0x1dbc7e;console[_0x379d7e(0x545)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x471059+'\x22');const _0x5a726d=document[_0x379d7e(0x722)](_0x379d7e(0x286)),_0x3f628a=_0x5a726d['files']['length']>0x0?_0x5a726d[_0x379d7e(0x819)][0x0]:null;let _0x55781a=null;if(_0x3f628a)try{const _0x421529=new FileReader();_0x421529[_0x379d7e(0x479)](_0x3f628a);const _0x3adaba=await new Promise((_0x4c2ba2,_0x1614ab)=>{const _0x53e07e=_0x379d7e;_0x421529[_0x53e07e(0x263)]=()=>_0x4c2ba2(_0x421529['result'][_0x53e07e(0x91b)](',')[0x1]),_0x421529['onerror']=_0x4d24fc=>_0x1614ab(_0x4d24fc);});_0x55781a=[{'inlineData':{'mimeType':_0x3f628a[_0x379d7e(0x530)],'data':_0x3adaba}}];}catch(_0x2abefc){console['error'](_0x379d7e(0x244),_0x2abefc),showMessage(_0x379d7e(0xd0f));return;}generateQuiz(_0x471059,null,null,_0x55781a,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x2a73f2=null){const _0x5d276c=_0x1dbc7e,_0x27f5a6=document['getElementById']('loader'),_0x479711=document[_0x5d276c(0x722)](_0x5d276c(0x7bb));let _0x439ae5,_0x219552=[];if(_0x2a73f2)_0x439ae5=_0x2a73f2,_0x219552=_0x439ae5[_0x5d276c(0x45e)](0x2);else{const _0x5eed43=document['getElementById'](_0x5d276c(0xe1b)),_0x66e4d7=document['getElementById'](_0x5d276c(0x286)),_0x21e53f=_0x5eed43[_0x5d276c(0x819)][0x0];if(!_0x21e53f){showMessage(_0x5d276c(0x89c));return;}_0x479711['textContent']='กำลังเตรียมไฟล์...';const _0x179914=await new Promise((_0x2b0859,_0x5623be)=>{const _0x38dfad=_0x5d276c,_0x362225=new FileReader();_0x362225[_0x38dfad(0x479)](_0x21e53f),_0x362225[_0x38dfad(0x263)]=()=>_0x2b0859(_0x362225[_0x38dfad(0xd6a)]['split'](',')[0x1]),_0x362225[_0x38dfad(0x8bc)]=_0x5623be;});_0x439ae5=[{'text':_0x5d276c(0x44b)},{'inlineData':{'mimeType':_0x21e53f[_0x5d276c(0x530)],'data':_0x179914}}];if(_0x66e4d7[_0x5d276c(0x819)]['length']>0x0){const _0xa86551=_0x66e4d7[_0x5d276c(0x819)][0x0];_0x479711[_0x5d276c(0x2eb)]=_0x5d276c(0xc54);const _0x458f01=await new Promise((_0x5dfeaf,_0x47ca52)=>{const _0x480a3d=_0x5d276c,_0x552943=new FileReader();_0x552943[_0x480a3d(0x479)](_0xa86551),_0x552943['onload']=()=>_0x5dfeaf(_0x552943[_0x480a3d(0xd6a)][_0x480a3d(0x91b)](',')[0x1]),_0x552943[_0x480a3d(0x8bc)]=_0x47ca52;}),_0x46b2b1={'inlineData':{'mimeType':_0xa86551[_0x5d276c(0x530)],'data':_0x458f01}};_0x439ae5[_0x5d276c(0xca1)](_0x46b2b1),_0x219552[_0x5d276c(0xca1)](_0x46b2b1);}}const _0x198313='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x36cc93=_0x5d276c(0x234);let _0x3eff30='';_0x219552&&_0x219552[_0x5d276c(0xc8f)]>0x0?_0x3eff30=_0x198313:_0x3eff30=_0x36cc93;const _0x51c0ad='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a'+_0x3eff30+_0x5d276c(0x23e),_0x1df898={'type':_0x5d276c(0x552),'properties':{'questionText':{'type':_0x5d276c(0xcdc)},'questionType':{'type':'STRING','enum':[_0x5d276c(0x6e6),_0x5d276c(0x432),_0x5d276c(0x3f7),_0x5d276c(0xd24)]},'options':{'type':_0x5d276c(0x9ba),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5d276c(0xdf9)},'idealAnswer':{'type':_0x5d276c(0xcdc)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x5d276c(0xcdc)},'imageCode':{'type':_0x5d276c(0xcdc)}},'required':[_0x5d276c(0xbd0),'explanation']},_0x468e51={'type':_0x5d276c(0x552),'properties':{'topic':{'type':_0x5d276c(0xcdc)},'questions':{'type':_0x5d276c(0x9ba),'items':_0x1df898}},'required':['topic',_0x5d276c(0x882)]};_0x439ae5[0x0][_0x5d276c(0x27d)]=_0x51c0ad,await handleApiCall(_0x439ae5,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x468e51);}function proceedToNextQuestion(_0xddc4e2){const _0x290582=_0x1dbc7e;studentAnswersPerQuestion['push'](_0xddc4e2),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x290582(0x882)][_0x290582(0xc8f)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function renderAdminSyncDashboard(_0x4af98d,_0x41d3ae,_0x514b29){const _0xc1986f=_0x1dbc7e,_0x542d50=Object['values'](_0x4af98d[_0xc1986f(0x8d6)]||{}),_0x45a625=_0x542d50[_0xc1986f(0xc8f)],_0x1775ed=_0x514b29,_0x4511d7=_0x4af98d[_0xc1986f(0xa37)]||_0xc1986f(0x710),_0x73a4ed=_0x4511d7===_0xc1986f(0x699),_0x40b9d6=_0x4af98d[_0xc1986f(0x920)]===!![],_0x4bb73c=_0x4511d7===_0xc1986f(0x2b4),_0x466ae2=_0x4af98d['shuffledQuiz'][_0xc1986f(0x882)],_0x5d9ab4=_0x466ae2[_0x1775ed],_0x278072=_0x3c1341=>String['fromCharCode'](0x41+_0x3c1341),_0x3ac015=_0x542d50[_0xc1986f(0xab8)](_0x1101cf=>{const _0x46974e=_0xc1986f,_0xe46bc2=_0x1101cf['score']||0x0,_0x3e61d4=_0x1101cf['totalPoints']||0x0,_0x12c350=(_0x1101cf[_0x46974e(0x9e0)]||[])[_0x46974e(0x6b9)](_0x513a78=>{const _0x11fa1d=_0x46974e;if(_0x4511d7===_0x11fa1d(0xb67))return _0x513a78['questionIndex']<=_0x1775ed;return!![];});return{..._0x1101cf,'realScore':_0xe46bc2,'totalPoints':_0x3e61d4,'answers':_0x12c350};}),_0xcd7893=Math[_0xc1986f(0x3d5)](..._0x3ac015[_0xc1986f(0xab8)](_0x28d840=>_0x28d840['totalPoints'])),_0xc3b4d=Math[_0xc1986f(0x3d5)](..._0x3ac015[_0xc1986f(0xab8)](_0x41c509=>_0x41c509[_0xc1986f(0xe5f)])),_0x31b03c=[..._0x3ac015][_0xc1986f(0x24d)]((_0x5b5514,_0x2f4c88)=>{const _0x5c5569=_0xc1986f,_0x5da650=_0x2f4c88['totalPoints']-_0x5b5514[_0x5c5569(0xe54)];if(_0x5da650!==0x0)return _0x5da650;const _0x2b543e=_0x2f4c88[_0x5c5569(0xe5f)]-_0x5b5514[_0x5c5569(0xe5f)];if(_0x2b543e!==0x0)return _0x2b543e;return(_0x5b5514[_0x5c5569(0x39f)]||'')['localeCompare'](_0x2f4c88['name']||'','th');});let _0x285359='';const _0x30aefc=!_0x4bb73c&&!(_0x73a4ed&&_0x4af98d['showAnswerInAnonymous']===![]);if(_0x5d9ab4&&_0x30aefc){let _0x5c28ae='',_0x5dc4a6='';const _0x2f0700=_0x5d9ab4[_0xc1986f(0xbd0)]||_0x4af98d[_0xc1986f(0x2b5)][_0xc1986f(0x4f4)];if(_0x2f0700===_0xc1986f(0x6e6)&&_0x5d9ab4['options']){const _0x4718a2=_0x5d9ab4['correctAnswerIndex'];_0x5c28ae=_0x5d9ab4['options'][_0x4718a2],_0x5dc4a6=_0x278072(_0x4718a2)+'.';}else{if(_0x2f0700===_0xc1986f(0x3f7)){const _0x58c259=String(_0x5d9ab4[_0xc1986f(0x72b)])[_0xc1986f(0x2f6)]()===_0xc1986f(0x761);_0x5c28ae=_0x58c259?'ใช่\x20/\x20ถูก':_0xc1986f(0x4d6),_0x5dc4a6=_0x58c259?'ก.':'ข.';}else{if(_0x2f0700===_0xc1986f(0xd24))_0x5c28ae=_0x5d9ab4[_0xc1986f(0xb40)]||'-';else _0x2f0700==='short_answer'&&(_0x5c28ae=_0x5d9ab4[_0xc1986f(0x5ca)]||'-');}}_0x5c28ae&&(_0x285359=_0xc1986f(0x50d)+(_0x1775ed+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x5dc4a6+'\x20'+_0x5c28ae+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x4d5842=_0x31b03c['map']((_0x47e7c8,_0xc477a2)=>{const _0x322025=_0xc1986f,_0x1bda63=_0x47e7c8[_0x322025(0xe5f)],_0x1f2213=_0x47e7c8[_0x322025(0xe54)],_0x1328d0=(_0x47e7c8[_0x322025(0x9e0)]||[])[_0x322025(0x36c)](_0x113cb7=>_0x113cb7[_0x322025(0x78a)]===_0x514b29);let _0x1337ca='';if(_0x1328d0){if(_0x1328d0[_0x322025(0x3d1)])_0x1337ca+=_0x322025(0xb57);if(_0x1328d0[_0x322025(0xb78)])_0x1337ca+='<span\x20title=\x22โดนคำสาป\x22>😈</span>';const _0x45653f=_0x1328d0[_0x322025(0x99c)];if(_0x45653f){const _0x55c0a8={'poll':'📊','cutOne':'✂️','insurance':_0x322025(0x58b),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳'};if(_0x55c0a8[_0x45653f])_0x1337ca+=_0x322025(0xc1e)+_0x55c0a8[_0x45653f]+'</span>';}if(_0x1328d0['usedBuyTime']&&!_0x45653f)_0x1337ca+=_0x322025(0xa2a);}let _0x3286f4='';_0x1f2213===_0xcd7893&&_0xcd7893>0x0&&(_0x3286f4+=_0x322025(0x240));_0x1bda63===_0xc3b4d&&_0xc3b4d>0x0&&(_0x3286f4+='<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x20(คะแนนดิบสูงสุด)\x22>🎓</span>');_0x1f2213<0x0&&(_0x3286f4+=_0x322025(0x39d));let _0x2058ec=_0x322025(0x592),_0x4edfaf=![];if(!_0x4bb73c){const _0x1e3ff1=(_0x47e7c8['answers']||[])[_0x322025(0x36c)](_0x4ea822=>_0x4ea822[_0x322025(0x78a)]===_0x1775ed);if(_0x1e3ff1){const _0x2ab57b=_0x1e3ff1[_0x322025(0xa97)],_0x227308=_0x1e3ff1[_0x322025(0x2db)]===!![]||_0x1e3ff1[_0x322025(0x2db)]==='confident',_0x5e63de=_0x1e3ff1[_0x322025(0x99c)];if(_0x5e63de==='wagerMultiplier')_0x2ab57b?(_0x2058ec=_0x322025(0xc66),_0x4edfaf=!![]):_0x2058ec='bg-red-700\x20text-white\x20font-bold';else{if(_0x227308)_0x2058ec=_0x2ab57b?_0x322025(0xdd2):_0x322025(0x749);else _0x2ab57b&&(_0x2058ec='bg-[#DCFCE7]\x20text-green-900');}}}let _0x1bd854='';const _0x1f192f=_0x47e7c8['name'],_0x54a772=_0x4af98d[_0x322025(0xcc5)][_0x47e7c8['name']]||_0x322025(0x6f2),_0x16022d='line-height:\x201.3;\x20min-width:\x200;',_0x338e7c=_0x322025(0x277),_0xc0aa5b=_0x4edfaf?_0x322025(0x528):_0x322025(0xb2f);let _0x113af2='';const _0x5cf684=_0x1f2213>=0x0?'(+'+_0x1f2213+')':'('+_0x1f2213+')',_0x28ddb4=_0x322025(0x271)+_0x47e7c8[_0x322025(0xe5f)]+_0x322025(0x639)+_0x5cf684+_0x322025(0x24e);if(_0x41d3ae){if(_0x73a4ed&&!_0x40b9d6)_0x1bd854=_0x322025(0x686)+_0x16022d+_0x322025(0xd5c)+_0x54a772+_0x322025(0xe6b)+_0x338e7c+'\x22>'+_0x54a772+'</span>\x20'+_0x1337ca+'\x20'+_0x3286f4+_0x322025(0x607);else _0x73a4ed&&_0x40b9d6?_0x1bd854='<div\x20style=\x22'+_0x16022d+_0x322025(0xd5c)+_0x1f192f+_0x322025(0xe6b)+_0x338e7c+'\x22>'+_0x1f192f+_0x322025(0x573)+_0x1337ca+'\x20'+_0x3286f4+_0x322025(0xc5c)+_0xc0aa5b+_0x322025(0x77d)+_0x338e7c+_0x322025(0x93a)+_0x54a772+_0x322025(0x2e5):_0x1bd854=_0x322025(0x686)+_0x16022d+_0x322025(0xd5c)+_0x1f192f+_0x322025(0xe6b)+_0x338e7c+'\x22>'+_0x1f192f+_0x322025(0x573)+_0x1337ca+'\x20'+_0x3286f4+'</div>';_0x113af2=_0x28ddb4;}return _0x322025(0x21f)+_0x2058ec+_0x322025(0x80d)+(_0xc477a2+0x1)+_0x322025(0x911)+_0x1bd854+_0x322025(0xadf)+_0x113af2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0xc1986f(0xbc8)](''),_0x3616b1=_0x466ae2[_0xc1986f(0xab8)]((_0x33c5a4,_0x560acc)=>{const _0x171622=_0xc1986f;if(_0x4511d7===_0x171622(0xb67)&&_0x560acc>_0x1775ed||_0x4bb73c)return'';const _0xdb5520=_0x3ac015[_0x171622(0x6b9)](_0x218511=>_0x218511[_0x171622(0x9e0)]&&_0x218511[_0x171622(0x9e0)]['find'](_0x53f866=>_0x53f866['questionIndex']===_0x560acc&&_0x53f866[_0x171622(0xa97)]))[_0x171622(0xc8f)],_0x33959a=_0x560acc===_0x1775ed,_0x1c1f39=_0x33959a?_0x171622(0x376):_0x171622(0xec5);return _0x171622(0x43e)+_0x1c1f39+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x560acc+0x1)+_0x171622(0xaa7)+_0xdb5520+_0x171622(0x4df)+_0x45a625+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0xc1986f(0xbc8)]('');let _0x19b6b6='',_0x965660='';if(_0x41d3ae){const _0x12dd32=_0x4511d7===_0xc1986f(0x710)&&_0x4af98d[_0xc1986f(0x8fe)]>=_0x466ae2[_0xc1986f(0xc8f)]-0x1,_0x55e098=_0x4511d7===_0xc1986f(0xb67)&&_0x4af98d[_0xc1986f(0xbfb)]>=_0x466ae2['length']-0x1,_0x1fb808=_0x4511d7===_0xc1986f(0x699)&&_0x4af98d[_0xc1986f(0x8fe)]>=_0x466ae2[_0xc1986f(0xc8f)]-0x1,_0x4ef224=_0x4511d7===_0xc1986f(0x2b4)&&_0x4af98d['currentQuestionIndex']>=_0x466ae2[_0xc1986f(0xc8f)]-0x1;_0x12dd32||_0x55e098||_0x1fb808||_0x4ef224?_0x73a4ed&&!_0x40b9d6?_0x19b6b6=_0xc1986f(0x3b1):_0x19b6b6=_0xc1986f(0xe72):_0x19b6b6=_0xc1986f(0xa8e),_0x965660='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x4a6e2f=_0x4bb73c||_0x73a4ed&&!_0x4af98d[_0xc1986f(0xa33)]?'':_0xc1986f(0x5a7)+_0x3616b1+_0xc1986f(0xe6d),_0x4aadf5=_0x4bb73c||_0x73a4ed&&!_0x4af98d[_0xc1986f(0xa33)]?'md:col-span-3':_0xc1986f(0xdfe),_0x441cec=_0xc1986f(0xad8)+_0x4af98d[_0xc1986f(0x2b5)][_0xc1986f(0x2d2)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>'+_0x4af98d[_0xc1986f(0xa29)]+_0xc1986f(0xb58)+_0x965660+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x285359+_0xc1986f(0x38b)+_0x4aadf5+'\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x4d5842||_0xc1986f(0x3b0))+_0xc1986f(0x53a)+_0x4a6e2f+_0xc1986f(0xce7)+(_0x41d3ae?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x19b6b6+'</div>':'')+_0xc1986f(0x3ab);liveGameView[_0xc1986f(0x5dd)]=_0x441cec;if(window[_0xc1986f(0xa8c)]){const _0x1d7f49=document[_0xc1986f(0x722)](_0xc1986f(0xc3a));_0x1d7f49&&MathJax[_0xc1986f(0x303)]([_0x1d7f49]);}if(_0x41d3ae){document[_0xc1986f(0x722)](_0xc1986f(0x892))['onclick']=async()=>{const _0x42e5da=_0xc1986f,_0x8ab5bf=doc(db,_0x42e5da(0xd90)+appId+'/public/data/syncGames',currentLiveGameId),_0x8638cd=_0x4af98d[_0x42e5da(0x8fe)]+0x1,_0x5f5217=_0x4af98d[_0x42e5da(0x2b5)][_0x42e5da(0x882)][_0x42e5da(0xc8f)];_0x8638cd<_0x5f5217?await updateDoc(_0x8ab5bf,{'status':_0x42e5da(0x22f),'currentQuestionIndex':_0x8638cd,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x8ab5bf,{'status':_0x42e5da(0xebc)});},document[_0xc1986f(0x722)](_0xc1986f(0x72d))?.[_0xc1986f(0x939)](_0xc1986f(0xa25),async()=>{await updateDoc(doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x9dc2e3=document['getElementById']('end-sync-game-btn');_0x9dc2e3&&(_0x9dc2e3['onclick']=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x24bbeb=_0x320f;await updateDoc(doc(db,_0x24bbeb(0xd90)+appId+'/public/data/syncGames',currentLiveGameId),{'status':_0x24bbeb(0xebc)});});});}}async function handleGenerateParallelFromBank(_0x55295b){const _0x48db51=_0x1dbc7e,_0x186088=document[_0x48db51(0x722)](_0x48db51(0x9cb)),_0x4c79d0=document['getElementById'](_0x48db51(0x58a));_0x4c79d0[_0x48db51(0x820)][_0x48db51(0xc24)](_0x48db51(0x330));const _0x33ee88=_0x48db51(0x989)+_0x55295b['topic']+_0x48db51(0x61e);_0x186088[_0x48db51(0x6a0)](_0x48db51(0x5a6),_0x33ee88);const _0x55791b=document[_0x48db51(0x722)](_0x48db51(0xb61));try{const _0x470be8=_0x55295b[_0x48db51(0x882)]['map']((_0x32af1a,_0x164c48)=>{const _0xb6b3ac=_0x48db51;let _0x45ecae=_0x164c48+0x1+'.\x20'+(_0x32af1a[_0xb6b3ac(0xe68)]||_0x32af1a['stem'])+'\x0a';if(_0x32af1a[_0xb6b3ac(0x9d3)])_0x45ecae+=_0x32af1a[_0xb6b3ac(0x9d3)]['map']((_0x512926,_0x508f1a)=>_0xb6b3ac(0xd9b)+(_0x508f1a===_0x32af1a[_0xb6b3ac(0x7e1)]?_0xb6b3ac(0xc90):'')+'\x20'+_0x512926)[_0xb6b3ac(0xbc8)]('\x0a');else _0x32af1a[_0xb6b3ac(0x5ca)]&&(_0x45ecae+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x32af1a[_0xb6b3ac(0x5ca)]);return _0x45ecae;})[_0x48db51(0xbc8)]('\x0a\x0a');_0x55791b['textContent']=_0x48db51(0xe23);const _0x44405c=_0x48db51(0xd6f)+_0x55295b[_0x48db51(0x2d2)]+_0x48db51(0x937)+_0x470be8+_0x48db51(0x3a0)+simpleMathPrompt+_0x48db51(0x735),_0x2fa745={'type':_0x48db51(0x552),'properties':{'questionText':{'type':_0x48db51(0xcdc)},'questionType':{'type':_0x48db51(0xcdc),'enum':[_0x48db51(0x6e6),_0x48db51(0x432),_0x48db51(0x3f7),_0x48db51(0xd24)]},'options':{'type':_0x48db51(0x9ba),'items':{'type':_0x48db51(0xcdc)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x48db51(0xcdc)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x48db51(0xcdc)},'correctResponse':{'type':_0x48db51(0xcdc)},'allResponses':{'type':_0x48db51(0x9ba),'items':{'type':_0x48db51(0xcdc)}},'explanation':{'type':_0x48db51(0xcdc)},'imageCode':{'type':_0x48db51(0xcdc)}},'required':[_0x48db51(0xbd0),_0x48db51(0x6dd)]},_0x4a84d1={'type':_0x48db51(0x552),'properties':{'topic':{'type':_0x48db51(0xcdc)},'questions':{'type':_0x48db51(0x9ba),'items':_0x2fa745}},'required':['topic',_0x48db51(0x882)]},_0x1f60c8=await callAnalysisApi(_0x44405c,_0x4a84d1),_0x4cc417=_0x1f60c8[_0x48db51(0x882)]['map']((_0x4e4799,_0x573506)=>({..._0x4e4799,'id':'q_'+Date[_0x48db51(0x3e0)]()+'_'+_0x573506})),_0x307871=_0x48db51(0xa85)+_0x55295b['topic'],_0x41666d={'topic':_0x307871,'questions':_0x4cc417,'quizType':_0x55295b[_0x48db51(0x4f4)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x48db51(0x3fe)](),'status':_0x48db51(0x44f),'settings':_0x55295b[_0x48db51(0xa0a)],'quizMode':_0x48db51(0x96e),'pairedQuizId':null,'lessonPlan':null};let _0x320f23;while(!![]){_0x320f23=Math[_0x48db51(0x982)](0x3e8+Math[_0x48db51(0x92b)]()*0x2328)[_0x48db51(0x992)]();const _0x234351=await getDoc(doc(db,_0x48db51(0xd90)+appId+_0x48db51(0x806),_0x320f23));if(!_0x234351[_0x48db51(0x5c5)]())break;}await setDoc(doc(db,_0x48db51(0xd90)+appId+_0x48db51(0x806),_0x320f23),_0x41666d),showMessage(_0x48db51(0xdee));}catch(_0x1bfda6){console[_0x48db51(0x300)](_0x48db51(0xf08),_0x1bfda6),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1bfda6['message']);}finally{const _0x27aab2=document[_0x48db51(0x722)](_0x48db51(0xe6e));_0x27aab2&&_0x27aab2[_0x48db51(0xda2)](),_0x4c79d0[_0x48db51(0x820)][_0x48db51(0xda2)](_0x48db51(0x330));}}async function handleGenerateParallelPostTest(_0x91adb7){const _0x580fbc=_0x1dbc7e,_0x46c19d=document[_0x580fbc(0x722)]('results-tab-content'),_0x5ebe0e=document[_0x580fbc(0x722)](_0x580fbc(0x58a));_0x5ebe0e[_0x580fbc(0x820)][_0x580fbc(0xc24)](_0x580fbc(0x330));const _0x3faed9=_0x580fbc(0x85e);_0x46c19d[_0x580fbc(0x6a0)]('beforeend',_0x3faed9);try{const _0xb240a4=_0x91adb7[_0x580fbc(0x882)][_0x580fbc(0xab8)]((_0x4649bc,_0x15ea67)=>{const _0x966aea=_0x580fbc;let _0x3c00b7=_0x15ea67+0x1+'.\x20'+(_0x4649bc[_0x966aea(0xe68)]||_0x4649bc[_0x966aea(0x869)]);if(_0x4649bc[_0x966aea(0x9d3)])_0x3c00b7+=_0x966aea(0x7eb)+_0x4649bc[_0x966aea(0x9d3)][_0x966aea(0xbc8)](',\x20');return _0x3c00b7;})[_0x580fbc(0xbc8)]('\x0a\x0a'),_0x18448e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x91adb7[_0x580fbc(0x2d2)]+_0x580fbc(0x3aa)+_0xb240a4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x580fbc(0x735),_0x31b18b={'type':'OBJECT','properties':{'topic':{'type':_0x580fbc(0xcdc)},'questions':{'type':_0x580fbc(0x9ba),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x580fbc(0xcdc)},'questionType':{'type':_0x580fbc(0xcdc)},'options':{'type':_0x580fbc(0x9ba),'items':{'type':_0x580fbc(0xcdc)}},'correctAnswerIndex':{'type':_0x580fbc(0xdf9)},'idealAnswer':{'type':_0x580fbc(0xcdc)},'explanation':{'type':'STRING'}},'required':[_0x580fbc(0xe68),_0x580fbc(0x6dd)]}}},'required':[_0x580fbc(0x2d2),_0x580fbc(0x882)]},_0x16ca78=await callAnalysisApi(_0x18448e,_0x31b18b),_0x52c27b=_0x91adb7[_0x580fbc(0x2d2)][_0x580fbc(0x84f)](_0x580fbc(0x981),'')[_0x580fbc(0xbe3)](),_0x5a5e79=_0x580fbc(0x763)+_0x52c27b,_0x3cb059={..._0x16ca78,'topic':_0x5a5e79,'quizType':_0x91adb7['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x580fbc(0x3fe)](),'status':'active','settings':_0x91adb7[_0x580fbc(0xa0a)],'quizMode':'post-test','pairedQuizId':_0x91adb7['id']};let _0x3bfdd2;while(!![]){_0x3bfdd2=Math[_0x580fbc(0x982)](0x3e8+Math[_0x580fbc(0x92b)]()*0x2328)[_0x580fbc(0x992)]();const _0x56a742=await getDoc(doc(db,_0x580fbc(0xd90)+appId+'/public/data/quizzes',_0x3bfdd2));if(!_0x56a742['exists']())break;}await setDoc(doc(db,_0x580fbc(0xd90)+appId+'/public/data/quizzes',_0x3bfdd2),_0x3cb059);const _0x4e9328=doc(db,_0x580fbc(0xd90)+appId+_0x580fbc(0x806),_0x91adb7['id']);await updateDoc(_0x4e9328,{'pairedQuizId':_0x3bfdd2}),showMessage(_0x580fbc(0x245));}catch(_0x106816){console[_0x580fbc(0x300)]('Error\x20generating\x20parallel\x20post-test:',_0x106816),showMessage(_0x580fbc(0xcac)+_0x106816[_0x580fbc(0x83d)]);}finally{const _0x57a9cb=document['getElementById']('temp-loader-results');if(_0x57a9cb)_0x57a9cb[_0x580fbc(0xda2)]();_0x5ebe0e['classList'][_0x580fbc(0xda2)](_0x580fbc(0x330));}}async function handleGenerateParallelTest(_0x283f4d=null){const _0xb2dd57=_0x1dbc7e;let _0x36b147=_0x283f4d;if(!_0x36b147){const _0x560bde=document[_0xb2dd57(0x722)](_0xb2dd57(0xb05));_0x560bde['files'][_0xb2dd57(0xc8f)]>0x0&&(_0x36b147=_0x560bde['files'][0x0]);}if(!_0x36b147){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x4ef580=document[_0xb2dd57(0x722)](_0xb2dd57(0xeda)),_0x24aac8=document[_0xb2dd57(0x722)](_0xb2dd57(0x7bb)),_0x5c9d11=document['getElementById'](_0xb2dd57(0x780)),_0x549d7d=document[_0xb2dd57(0x722)](_0xb2dd57(0x985));_0x549d7d[_0xb2dd57(0xce0)]=!![],document[_0xb2dd57(0x722)]('quiz-generation-area')[_0xb2dd57(0x820)][_0xb2dd57(0xda2)](_0xb2dd57(0x330)),_0x5c9d11[_0xb2dd57(0x5dd)]='',_0x4ef580[_0xb2dd57(0x820)][_0xb2dd57(0xda2)](_0xb2dd57(0x330)),_0x24aac8[_0xb2dd57(0x2eb)]=_0xb2dd57(0x4e8);const _0xcd8d2e=new FileReader();_0xcd8d2e['readAsDataURL'](_0x36b147),_0xcd8d2e[_0xb2dd57(0x263)]=async()=>{const _0x34f3bd=_0xb2dd57;try{const _0x439bb7=_0xcd8d2e[_0x34f3bd(0xd6a)][_0x34f3bd(0x91b)](',')[0x1],_0x32092f=_0x36b147[_0x34f3bd(0x530)];_0x24aac8[_0x34f3bd(0x2eb)]=_0x34f3bd(0x57d);const _0x1a99be=document[_0x34f3bd(0x722)](_0x34f3bd(0xcfe))[_0x34f3bd(0x9cd)],_0x5e2a40=_0x1a99be?_0x34f3bd(0x23a):'',_0x36baa6=_0x34f3bd(0xac1),_0x5dd538={'type':_0x34f3bd(0x552),'properties':{'questionText':{'type':_0x34f3bd(0xcdc)},'questionType':{'type':_0x34f3bd(0xcdc),'enum':['multiple_choice',_0x34f3bd(0x432)]},'options':{'type':'ARRAY','items':{'type':_0x34f3bd(0xcdc)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x34f3bd(0xcdc)},'imageCode':{'type':'STRING'}},'required':[_0x34f3bd(0xe68),_0x34f3bd(0xbd0),'explanation']},_0x39ad08={'type':_0x34f3bd(0x552),'properties':{'topic':{'type':_0x34f3bd(0xcdc)},'questions':{'type':'ARRAY','items':_0x5dd538}},'required':[_0x34f3bd(0x2d2),_0x34f3bd(0x882)]},_0x27ef8e=[{'text':_0x36baa6},{'inlineData':{'mimeType':_0x32092f,'data':_0x439bb7}}];await handleApiCall(_0x27ef8e,_0x34f3bd(0x717),_0x39ad08);}catch(_0x512d56){console[_0x34f3bd(0x300)](_0x34f3bd(0x793),_0x512d56),showMessage(_0x34f3bd(0xcac)+_0x512d56[_0x34f3bd(0x83d)]),_0x5c9d11[_0x34f3bd(0x5dd)]=_0x34f3bd(0xe31);}finally{_0x4ef580[_0x34f3bd(0x820)]['add'](_0x34f3bd(0x330)),_0x549d7d[_0x34f3bd(0xce0)]=![];}},_0xcd8d2e[_0xb2dd57(0x8bc)]=_0x1bb4b4=>{const _0x34837f=_0xb2dd57;console['error'](_0x34837f(0x665),_0x1bb4b4),showMessage(_0x34837f(0xc94)),_0x4ef580[_0x34837f(0x820)][_0x34837f(0xc24)]('hidden'),_0x549d7d[_0x34837f(0xce0)]=![];};}async function handleRegenerateQuestionInEditor(_0x4bffc0){const _0x57d334=_0x1dbc7e;if(currentEditingQuizData===null)return;const _0x2fee99=document[_0x57d334(0x390)](_0x57d334(0x66e)+_0x4bffc0+'\x22]');_0x2fee99&&(_0x2fee99[_0x57d334(0x5dd)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x1af3d0=currentEditingQuizData[_0x57d334(0x882)][_0x4bffc0],_0x5642b3=currentEditingQuizData[_0x57d334(0x2d2)],_0x1cc80a=_0x1af3d0['questionType'],_0x589731={'type':'OBJECT','properties':{'questionText':{'type':_0x57d334(0xcdc)},'options':{'type':_0x57d334(0x9ba),'items':{'type':_0x57d334(0xcdc)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x57d334(0xcdc)}},'required':['questionText',_0x57d334(0x9d3),_0x57d334(0x7e1),'explanation']},_0x19ce39={'type':_0x57d334(0x552),'properties':{'questionText':{'type':_0x57d334(0xcdc)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x57d334(0xcdc)}},'required':[_0x57d334(0xe68),_0x57d334(0x5ca),_0x57d334(0x6dd)]};let _0x55a6a5,_0x1671f9='';_0x1cc80a===_0x57d334(0x6e6)?(_0x55a6a5=_0x589731,_0x1671f9=_0x57d334(0xe82)):(_0x55a6a5=_0x19ce39,_0x1671f9='แบบเติมคำตอบ');const _0x1c8b17='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x5642b3+_0x57d334(0xb2e)+_0x1671f9+_0x57d334(0x9ec)+(_0x1af3d0[_0x57d334(0xe68)]||_0x1af3d0[_0x57d334(0x869)])+'\x22.\x20'+simpleMathPrompt;try{const _0x5eb257=await callAnalysisApi(_0x1c8b17,_0x55a6a5);currentEditingQuizData[_0x57d334(0x882)][_0x4bffc0]={..._0x1af3d0,..._0x5eb257},renderQuizEditor(currentEditingQuizData);}catch(_0x2de766){console['error'](_0x57d334(0xbf3),_0x2de766),showMessage(_0x57d334(0x5eb)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x2607d5=_0x1dbc7e,_0x80c80e=document[_0x2607d5(0x722)](_0x2607d5(0x26f));currentMode==='student'?(adminPasswordModal[_0x2607d5(0x820)]['remove'](_0x2607d5(0x330)),document[_0x2607d5(0x722)](_0x2607d5(0x758))[_0x2607d5(0x9dd)]()):(currentMode='student',_0x80c80e['innerHTML']=_0x2607d5(0xabd),_0x80c80e[_0x2607d5(0xd28)]='สลับไปโหมดผู้ควบคุม',showView('student'));}function handleAdminLogin(){const _0x32af3a=_0x1dbc7e,_0x45eacb=document[_0x32af3a(0x722)](_0x32af3a(0x758)),_0x39bb90=document['getElementById']('password-error-msg');if(_0x45eacb[_0x32af3a(0xa46)]===_0x32af3a(0x2a4)){adminPasswordModal[_0x32af3a(0x820)][_0x32af3a(0xc24)](_0x32af3a(0x330)),_0x45eacb[_0x32af3a(0xa46)]='',_0x39bb90['classList'][_0x32af3a(0xc24)](_0x32af3a(0x330)),currentMode='admin';const _0x3b2bb1=document[_0x32af3a(0x722)](_0x32af3a(0x26f));_0x3b2bb1['innerHTML']=_0x32af3a(0x490),_0x3b2bb1[_0x32af3a(0xd28)]=_0x32af3a(0xea1),showView(_0x32af3a(0xe49));}else _0x39bb90[_0x32af3a(0x820)][_0x32af3a(0xda2)](_0x32af3a(0x330)),_0x45eacb[_0x32af3a(0xa46)]='';}function switchProjectTab(_0x3c07a5){const _0x514950=_0x1dbc7e;['manage',_0x514950(0xe87),'leaderboard'][_0x514950(0xb04)](_0x55de2d=>{const _0xce7ba8=_0x514950;document[_0xce7ba8(0x722)](_0x55de2d+_0xce7ba8(0x66b))[_0xce7ba8(0x820)]['remove']('active'),document[_0xce7ba8(0x722)](_0x55de2d+_0xce7ba8(0xd46))[_0xce7ba8(0x820)]['add'](_0xce7ba8(0x330));}),document[_0x514950(0x722)](_0x3c07a5+_0x514950(0x66b))[_0x514950(0x820)]['add'](_0x514950(0x44f)),document[_0x514950(0x722)](_0x3c07a5+_0x514950(0xd46))['classList'][_0x514950(0xda2)](_0x514950(0x330));}function switchQuizDetailTab(_0x1b99ec){const _0x5a74f6=_0x1dbc7e,_0x13dae5={'analytics':{'btn':_0x5a74f6(0x232),'content':_0x5a74f6(0x838)},'scores':{'btn':_0x5a74f6(0x21d),'content':_0x5a74f6(0xd6e)},'leaderboard-quiz':{'btn':_0x5a74f6(0x54f),'content':_0x5a74f6(0x4e1)},'behavior-log':{'btn':_0x5a74f6(0xa5b),'content':_0x5a74f6(0x9f1)}};for(const _0x6835c3 in _0x13dae5){document[_0x5a74f6(0x722)](_0x13dae5[_0x6835c3]['btn'])[_0x5a74f6(0x820)]['remove'](_0x5a74f6(0x44f)),document[_0x5a74f6(0x722)](_0x13dae5[_0x6835c3][_0x5a74f6(0x94b)])[_0x5a74f6(0x820)][_0x5a74f6(0xc24)]('hidden');}document[_0x5a74f6(0x722)](_0x13dae5[_0x1b99ec][_0x5a74f6(0xba6)])[_0x5a74f6(0x820)][_0x5a74f6(0xc24)](_0x5a74f6(0x44f)),document[_0x5a74f6(0x722)](_0x13dae5[_0x1b99ec][_0x5a74f6(0x94b)])[_0x5a74f6(0x820)][_0x5a74f6(0xda2)](_0x5a74f6(0x330));}function showMessage(_0xd378c7,_0x3da6a1=null){const _0x2c460d=_0x1dbc7e;modalMessage[_0x2c460d(0x5dd)]=_0xd378c7['replace'](/\n/g,_0x2c460d(0x754)),modalConfirmAction=_0x3da6a1,messageModal[_0x2c460d(0x820)]['remove']('hidden');}function showConfirmation(_0x5b1594,_0x4ac3e9,_0x4e907c=null){const _0x37b4c0=_0x1dbc7e;document[_0x37b4c0(0x722)](_0x37b4c0(0x52b))[_0x37b4c0(0x2eb)]=_0x5b1594,document['getElementById'](_0x37b4c0(0xa4d))['querySelector']('h3')[_0x37b4c0(0x2eb)]=_0x37b4c0(0xc87),confirmAction=_0x4ac3e9,cancelAction=_0x4e907c,confirmationModal[_0x37b4c0(0x820)]['remove']('hidden');}function listenForProjects(){const _0x356eb0=_0x1dbc7e,_0x33fd58=doc(db,_0x356eb0(0x6f8),_0x356eb0(0xd9e));onSnapshot(_0x33fd58,_0x4e15dd=>{const _0x31bb42=_0x356eb0;if(_0x4e15dd[_0x31bb42(0x5c5)]()){const _0x20e1db=_0x4e15dd[_0x31bb42(0x690)]();globalDashboardSettings[_0x31bb42(0x593)]=_0x20e1db[_0x31bb42(0x593)]||_0x31bb42(0xb02),globalDashboardSettings[_0x31bb42(0xb69)]=_0x20e1db[_0x31bb42(0xb69)]||[],globalDashboardSettings['projectOrder']=_0x20e1db[_0x31bb42(0xc43)]||[];}allProjects[_0x31bb42(0xc8f)]>0x0&&renderProjects();});const _0x15604b=collection(db,_0x356eb0(0xd90)+appId+_0x356eb0(0xb97));unsubscribeProjectsListener=onSnapshot(_0x15604b,_0x5a2702=>{const _0x601c30=_0x356eb0;allProjects=_0x5a2702[_0x601c30(0xd16)][_0x601c30(0xab8)](_0x1e457b=>({'id':_0x1e457b['id'],..._0x1e457b[_0x601c30(0x690)]()})),renderProjects();},_0x1b723b=>{const _0x2e64cb=_0x356eb0;console[_0x2e64cb(0x300)](_0x2e64cb(0x3d0),_0x1b723b),showMessage(_0x2e64cb(0xa52));});}function showColorPalette(_0x522bcf,_0x35f7c4){const _0x10b910=_0x1dbc7e;document[_0x10b910(0x2ff)](_0x10b910(0x4e9))[_0x10b910(0xb04)](_0x1c85e1=>_0x1c85e1['remove']());const _0x204ba5=[_0x10b910(0x3c0),'#FEE2E2','#FEF3C7',_0x10b910(0x4b2),_0x10b910(0xeb2),_0x10b910(0x204),_0x10b910(0xd13),_0x10b910(0xb0f),'#E5E7EB'],_0x1753d8=document[_0x10b910(0xb75)]('div');_0x1753d8['className']=_0x10b910(0xbdb),_0x204ba5['forEach'](_0xa26aef=>{const _0x370136=_0x10b910,_0x264396=document[_0x370136(0xb75)](_0x370136(0x6ca));_0x264396[_0x370136(0x402)]=_0x370136(0x49a),_0x264396[_0x370136(0xa20)]['backgroundColor']=_0xa26aef,_0x264396[_0x370136(0x939)](_0x370136(0xa25),()=>{handleProjectColorChange(_0x35f7c4,_0xa26aef),_0x1753d8['remove']();}),_0x1753d8[_0x370136(0x502)](_0x264396);}),document[_0x10b910(0xb46)][_0x10b910(0x502)](_0x1753d8);const _0xb4200d=_0x522bcf[_0x10b910(0xef7)]();_0x1753d8[_0x10b910(0xa20)][_0x10b910(0xca7)]=_0xb4200d['bottom']+window[_0x10b910(0x20f)]+'px',_0x1753d8[_0x10b910(0xa20)][_0x10b910(0xeed)]=_0xb4200d[_0x10b910(0xeed)]+window['scrollX']-_0x1753d8[_0x10b910(0xbf4)]/0x2+'px';}async function handleProjectColorChange(_0x2ce2b4,_0xf5172f){const _0x1cb1af=_0x1dbc7e,_0x2f2e2e=doc(db,_0x1cb1af(0xd90)+appId+'/public/data/projects',_0x2ce2b4);try{await updateDoc(_0x2f2e2e,{'color':_0xf5172f});}catch(_0x244e4c){console[_0x1cb1af(0x300)](_0x1cb1af(0x784),_0x244e4c),showMessage(_0x1cb1af(0x85a));}}async function renderProjects(){const _0x447388=_0x1dbc7e,_0x81aa8c=globalDashboardSettings[_0x447388(0x593)]||'date_desc',_0x1e06d6=new Set(globalDashboardSettings[_0x447388(0xb69)]||[]),_0x284230=globalDashboardSettings[_0x447388(0x8bf)]||_0x447388(0x518),_0x6a1477=document[_0x447388(0x722)](_0x447388(0xd14)),_0x1f8e44=document[_0x447388(0x722)]('list-view-btn');_0x6a1477[_0x447388(0x820)][_0x447388(0x9b0)](_0x447388(0x44f),_0x284230===_0x447388(0x518)),_0x1f8e44[_0x447388(0x820)][_0x447388(0x9b0)](_0x447388(0x44f),_0x284230===_0x447388(0xbe7)),document['getElementById'](_0x447388(0x69b))['value']=_0x81aa8c;const _0x10cb5a=document[_0x447388(0x722)](_0x447388(0x412))['value'][_0x447388(0x2f6)]();let _0x3cbd02=allProjects['filter'](_0x1ab5a0=>_0x1ab5a0[_0x447388(0x897)]['toLowerCase']()['includes'](_0x10cb5a));const _0x4077dc=_0x3cbd02['filter'](_0x398e9c=>_0x1e06d6['has'](_0x398e9c['id'])),_0x2381ec=_0x3cbd02[_0x447388(0x6b9)](_0x128dd7=>!_0x1e06d6[_0x447388(0xe4a)](_0x128dd7['id'])),_0x22d66c=(_0x12c11f,_0x2ae459)=>{const _0x504c2=_0x447388;switch(_0x81aa8c){case _0x504c2(0xc1f):return _0x12c11f['projectName']['localeCompare'](_0x2ae459[_0x504c2(0x897)],'th');case _0x504c2(0xadc):return _0x2ae459[_0x504c2(0x897)]['localeCompare'](_0x12c11f['projectName'],'th');case _0x504c2(0x546):return new Date(_0x12c11f[_0x504c2(0x71e)])-new Date(_0x2ae459[_0x504c2(0x71e)]);default:return new Date(_0x2ae459[_0x504c2(0x71e)])-new Date(_0x12c11f[_0x504c2(0x71e)]);}};_0x4077dc[_0x447388(0x24d)](_0x22d66c),_0x2381ec['sort'](_0x22d66c);const _0x5968e6=[..._0x4077dc,..._0x2381ec],_0x29beda=globalDashboardSettings[_0x447388(0xc43)]||[];_0x29beda[_0x447388(0xc8f)]>0x0&&_0x284230===_0x447388(0x518)&&_0x5968e6[_0x447388(0x24d)]((_0x3c0c75,_0x5170d7)=>{const _0x4cc7f7=_0x29beda['indexOf'](_0x3c0c75['id']),_0x5c5795=_0x29beda['indexOf'](_0x5170d7['id']);if(_0x4cc7f7===-0x1)return 0x1;if(_0x5c5795===-0x1)return-0x1;return _0x4cc7f7-_0x5c5795;});const _0x3944db={};await Promise[_0x447388(0x829)](_0x5968e6[_0x447388(0xab8)](async _0x4e684a=>{const _0x4b7e44=_0x447388,_0x3ef21f=query(collection(db,_0x4b7e44(0xd90)+appId+_0x4b7e44(0x806)),where(_0x4b7e44(0x6ea),'==',_0x4e684a['id'])),_0x4f928d=await getDocs(_0x3ef21f);_0x3944db[_0x4e684a['id']]=_0x4f928d['size'];}));const _0x1731bf=document['getElementById']('project-list');let _0x236b9c='';if(_0x284230===_0x447388(0x518)){_0x1731bf['className']=_0x447388(0x48c);if(starredQuizzes[_0x447388(0xc8f)]>0x0&&_0x10cb5a===''){const _0x1aed4b=starredQuizzes[_0x447388(0xab8)](_0x3f7f51=>{const _0x324f79=_0x447388,_0x301573=allProjects['find'](_0x16ac08=>_0x16ac08['id']===_0x3f7f51[_0x324f79(0x6ea)]);return{..._0x3f7f51,'projectName':_0x301573?_0x301573[_0x324f79(0x897)]:_0x324f79(0xd08)};});_0x236b9c+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1aed4b[_0x447388(0xab8)](_0x7dd7fd=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x7dd7fd[_0x447388(0x2d2)]+'\x22>'+_0x7dd7fd['topic']+_0x447388(0xe33)+_0x7dd7fd[_0x447388(0x897)]+_0x447388(0xcff)+_0x7dd7fd['projectName']+_0x447388(0x7f0))[_0x447388(0xbc8)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x447388(0xc8f)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x5968e6[_0x447388(0xb04)](_0x483592=>{const _0x598aab=_0x447388,_0x2e4b59=_0x3944db[_0x483592['id']]??0x0,_0xa18332=_0x1e06d6[_0x598aab(0xe4a)](_0x483592['id']),_0x4d82ac=_0x483592['color']||'#FFFFFF',_0x2170b8=parseInt(_0x4d82ac[_0x598aab(0x975)](0x1,0x3),0x10)*0.299+parseInt(_0x4d82ac[_0x598aab(0x975)](0x3,0x5),0x10)*0.587+parseInt(_0x4d82ac[_0x598aab(0x975)](0x5,0x7),0x10)*0.114<0xba,_0x45cd92=_0x2170b8?_0x598aab(0x5a0):_0x598aab(0x848),_0x61f72f=_0x2170b8?'text-gray-200':_0x598aab(0xe18);_0x236b9c+=_0x598aab(0xad5)+(_0xa18332?_0x598aab(0xb7f):_0x598aab(0x3f1))+_0x598aab(0x7e7)+_0x4d82ac+_0x598aab(0x2b2)+_0x483592['id']+_0x598aab(0xbd5)+_0x483592['id']+_0x598aab(0xd33)+(_0x2170b8?'text-gray-300\x20hover:text-white':_0x598aab(0x949))+_0x598aab(0x8b0)+_0x483592['id']+_0x598aab(0x7f2)+(_0x2170b8?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0xa18332?_0x2170b8?_0x598aab(0x239):_0x598aab(0x46c):'')+_0x598aab(0xd97)+_0x483592['id']+_0x598aab(0xbdc)+_0x45cd92+_0x598aab(0x41d)+_0x483592[_0x598aab(0x897)]+_0x598aab(0xd8d)+_0x61f72f+_0x598aab(0x25a)+new Date(_0x483592['createdAt'])[_0x598aab(0x75b)](_0x598aab(0xa93))+_0x598aab(0x233)+(_0x2170b8?_0x598aab(0xe94):_0x598aab(0xb7d))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x2e4b59+_0x598aab(0x9c4)+_0x483592['id']+_0x598aab(0x92f)+_0x483592[_0x598aab(0x897)]+_0x598aab(0x8b3)+(_0x2170b8?_0x598aab(0xe37):_0x598aab(0x6b6))+_0x598aab(0x2ea);});}else _0x1731bf[_0x447388(0x402)]=_0x447388(0xefd),starredQuizzes[_0x447388(0xc8f)]>0x0&&_0x10cb5a===''&&(_0x236b9c+=_0x447388(0xde9)+starredQuizzes[_0x447388(0xc8f)]+_0x447388(0x30c)),_0x236b9c+=_0x447388(0x2e1),_0x5968e6[_0x447388(0xb04)](_0x51c20d=>{const _0x4028e8=_0x447388,_0x462fef=_0x3944db[_0x51c20d['id']]??0x0,_0x2b5296=_0x1e06d6[_0x4028e8(0xe4a)](_0x51c20d['id']);_0x236b9c+=_0x4028e8(0x68b)+(_0x51c20d[_0x4028e8(0x9ce)]||_0x4028e8(0xafd))+_0x4028e8(0x4c3)+_0x51c20d['id']+_0x4028e8(0x903)+_0x51c20d[_0x4028e8(0x897)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x462fef+_0x4028e8(0x32a)+new Date(_0x51c20d['createdAt'])[_0x4028e8(0x8ad)]('th-TH')+_0x4028e8(0x4b5)+_0x51c20d['id']+_0x4028e8(0x944)+(_0x2b5296?_0x4028e8(0x46c):'')+_0x4028e8(0x71a)+_0x51c20d['id']+'\x22\x20data-name=\x22'+_0x51c20d[_0x4028e8(0x897)]+_0x4028e8(0x2ef);});projectList['innerHTML']=_0x236b9c,noProjectsMsg[_0x447388(0x820)][_0x447388(0x9b0)](_0x447388(0x330),_0x236b9c[_0x447388(0xc8f)]>0x0);}document[_0x1dbc7e(0x722)](_0x1dbc7e(0x967))[_0x1dbc7e(0x939)]('click',async()=>{const _0x4ba453=_0x1dbc7e,_0x546a9b=document[_0x4ba453(0x722)]('project-name-input'),_0x41ffa9=_0x546a9b[_0x4ba453(0xa46)][_0x4ba453(0xbe3)]();if(!_0x41ffa9){showMessage(_0x4ba453(0xacc));return;}try{const _0x314fc3=doc(collection(db,_0x4ba453(0xd90)+appId+_0x4ba453(0xb97)));await setDoc(_0x314fc3,{'projectName':_0x41ffa9,'students':[],'settings':{'resultsDisplay':_0x4ba453(0x446),'shuffleSetting':_0x4ba453(0x434),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x4ba453(0x434),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x4ba453(0x3fe)]()}),_0x546a9b['value']='',createProjectModal[_0x4ba453(0x820)][_0x4ba453(0xc24)](_0x4ba453(0x330)),showMessage(_0x4ba453(0x792));}catch(_0x16b4c2){console['error'](_0x4ba453(0x801),_0x16b4c2),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x1dbc7e(0x939)](_0x1dbc7e(0xa25),async _0x19c551=>{const _0x172cf0=_0x1dbc7e,_0x2eaf24=_0x19c551['target'][_0x172cf0(0xecd)](_0x172cf0(0xeba)),_0x3ed763=_0x19c551[_0x172cf0(0xa4c)]['closest']('.delete-project-btn'),_0x4f22d7=_0x19c551[_0x172cf0(0xa4c)][_0x172cf0(0xecd)](_0x172cf0(0x88c)),_0x360b78=_0x19c551[_0x172cf0(0xa4c)][_0x172cf0(0xecd)](_0x172cf0(0x2ca));if(_0x4f22d7){const _0x4d853d=_0x4f22d7[_0x172cf0(0xa7e)]['id'],_0x1cf1cf=doc(db,'globalSettings','dashboardConfig'),_0x46c5e5=globalDashboardSettings['pinnedProjects'];let _0x304c68;_0x46c5e5[_0x172cf0(0x549)](_0x4d853d)?_0x304c68=_0x46c5e5['filter'](_0x46288f=>_0x46288f!==_0x4d853d):_0x304c68=[..._0x46c5e5,_0x4d853d];try{await setDoc(_0x1cf1cf,{'pinnedProjects':_0x304c68},{'merge':!![]});}catch(_0x40c21e){console['error'](_0x172cf0(0xaec),_0x40c21e),showMessage(_0x172cf0(0xd6b));}}else{if(_0x360b78){const _0x5a3208=_0x360b78[_0x172cf0(0xa7e)]['id'];showColorPalette(_0x360b78,_0x5a3208);}else{if(_0x2eaf24){const _0x2463e0=_0x2eaf24[_0x172cf0(0xa7e)]['id'];_0x2463e0===_0x172cf0(0xe7f)?showStarredProjectView():(currentProjectId=_0x2463e0,await loadProjectDetails(currentProjectId),showView(_0x172cf0(0xbfc)));}else{if(_0x3ed763){const _0x42a1b0=_0x3ed763[_0x172cf0(0xa7e)]['id'],_0x1c9970=_0x3ed763[_0x172cf0(0xa7e)]['name'];showConfirmation(_0x172cf0(0xa64)+_0x1c9970+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x42a1b0));}}}}}),projectList['addEventListener']('dragstart',_0x5a45f9=>{const _0x37b5f5=_0x1dbc7e,_0x208ab7=_0x5a45f9[_0x37b5f5(0xa4c)]['closest'](_0x37b5f5(0xd42));_0x208ab7&&_0x208ab7[_0x37b5f5(0x820)][_0x37b5f5(0xc24)]('opacity-50');}),projectList[_0x1dbc7e(0x939)](_0x1dbc7e(0x5fc),_0x214942=>{const _0x90da69=_0x1dbc7e,_0x1e28c2=_0x214942['target'][_0x90da69(0xecd)](_0x90da69(0xd42));_0x1e28c2&&_0x1e28c2[_0x90da69(0x820)][_0x90da69(0xda2)](_0x90da69(0xa9a));}),projectList[_0x1dbc7e(0x939)](_0x1dbc7e(0xb03),_0x12876a=>{const _0x47cc9a=_0x1dbc7e;_0x12876a[_0x47cc9a(0x726)]();const _0x48bdb9=document['querySelector'](_0x47cc9a(0x4fa));if(!_0x48bdb9)return;const _0x534652=getDragAfterElement(projectList,_0x12876a[_0x47cc9a(0x825)]);_0x534652==null?projectList[_0x47cc9a(0x502)](_0x48bdb9):projectList['insertBefore'](_0x48bdb9,_0x534652);}),projectList[_0x1dbc7e(0x939)]('drop',_0x1e3228=>{const _0x49d56e=_0x1dbc7e;_0x1e3228[_0x49d56e(0x726)]();const _0x488c43=[...projectList['querySelectorAll']('.project-card-container[data-id]')][_0x49d56e(0xab8)](_0x4197ce=>_0x4197ce[_0x49d56e(0xa7e)]['id']);saveProjectOrder(_0x488c43);});function renderBehaviorLog(_0x54ea9f){const _0x483b93=_0x1dbc7e,_0x36c3c4=document['getElementById']('behavior-log-container');if(!_0x36c3c4)return;const _0x268e66=_0x54ea9f[_0x483b93(0x6b9)](_0x59179d=>_0x59179d['behaviorLog']&&_0x59179d['behaviorLog']['length']>0x0);if(_0x268e66['length']===0x0){_0x36c3c4[_0x483b93(0x5dd)]=_0x483b93(0x804);return;}let _0x280c9d='';_0x268e66[_0x483b93(0xb04)](_0x40a0e6=>{const _0x419270=_0x483b93;_0x280c9d+=_0x419270(0x977)+_0x40a0e6[_0x419270(0x589)]+_0x419270(0xb4c),_0x40a0e6[_0x419270(0xdb7)][_0x419270(0x24d)]((_0x2c3df6,_0x3be484)=>new Date(_0x3be484[_0x419270(0x74c)])-new Date(_0x2c3df6[_0x419270(0x74c)]))[_0x419270(0xb04)](_0x5752c9=>{const _0x2e11bf=_0x419270,_0x32e174=new Date(_0x5752c9[_0x2e11bf(0x74c)])[_0x2e11bf(0x8ad)](_0x2e11bf(0xa93),{'dateStyle':_0x2e11bf(0xc98),'timeStyle':_0x2e11bf(0xcc8)});_0x280c9d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x5752c9[_0x2e11bf(0x75a)]+_0x2e11bf(0x550)+_0x32e174+_0x2e11bf(0xe7c);}),_0x280c9d+=_0x419270(0x8fd);}),_0x36c3c4[_0x483b93(0x5dd)]=_0x280c9d;}function getDragAfterElement(_0x4cf89a,_0x4a7315){const _0x1007f=_0x1dbc7e,_0x141355=[..._0x4cf89a[_0x1007f(0x2ff)](_0x1007f(0x936))];return _0x141355[_0x1007f(0xc03)]((_0x559626,_0x335df2)=>{const _0x48834c=_0x1007f,_0x1edbb3=_0x335df2['getBoundingClientRect'](),_0xa68be5=_0x4a7315-_0x1edbb3['top']-_0x1edbb3[_0x48834c(0x8f8)]/0x2;return _0xa68be5<0x0&&_0xa68be5>_0x559626['offset']?{'offset':_0xa68be5,'element':_0x335df2}:_0x559626;},{'offset':Number[_0x1007f(0x8cf)]})[_0x1007f(0x349)];}async function saveProjectOrder(_0x4a7bdd){const _0x14f9e7=_0x1dbc7e,_0x4feb3c=doc(db,'globalSettings',_0x14f9e7(0xd9e));try{await setDoc(_0x4feb3c,{'projectOrder':_0x4a7bdd},{'merge':!![]});}catch(_0x493bdd){console[_0x14f9e7(0x300)]('Error\x20saving\x20project\x20order:',_0x493bdd),showMessage(_0x14f9e7(0x55b));}}async function logBehaviorEvent(_0x1c3fd1,_0x2824bc={}){const _0x1d65b0=_0x1dbc7e;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x1d65b0(0x926)](_0x1d65b0(0x56f));return;}const _0x3e6e32=doc(db,_0x1d65b0(0xd90)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x1d65b0(0x353),currentStudentName),_0x20b2d5={'event':_0x1c3fd1,'timestamp':new Date()[_0x1d65b0(0x3fe)](),..._0x2824bc};try{await updateDoc(_0x3e6e32,{'behaviorLog':arrayUnion(_0x20b2d5)}),console[_0x1d65b0(0x545)](_0x1d65b0(0x7e6)+currentStudentName+_0x1d65b0(0xef5));}catch(_0x22fb37){_0x22fb37[_0x1d65b0(0x8b2)]===_0x1d65b0(0x427)?console[_0x1d65b0(0x926)](_0x1d65b0(0x7f7)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console['error'](_0x1d65b0(0xc1c),_0x22fb37);}}function getScoreTier(_0x59337d,_0x5c94f9){const _0x3fae90=_0x1dbc7e;if(_0x5c94f9===0x0){if(_0x59337d===0x0)return{'text':'(รอคะแนน)','icon':'⏳'};return{'text':_0x3fae90(0x20d),'icon':'😥'};}const _0x163e24=_0x59337d/(_0x5c94f9===0x0?0x1:_0x5c94f9);if(_0x163e24===0x1)return{'text':'(นำโด่ง)','icon':'👑'};if(_0x163e24>=0.7)return{'text':'(ตามมาติดๆ)','icon':'🔥'};if(_0x163e24>=0.4)return{'text':_0x3fae90(0x323),'icon':'🏃'};return{'text':_0x3fae90(0x20d),'icon':'😥'};}function calculateMeanAndStdDev(_0x16a5be){const _0x1b67ae=_0x1dbc7e;if(_0x16a5be[_0x1b67ae(0xc8f)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x1f826b=_0x16a5be[_0x1b67ae(0xc03)]((_0x2b37a0,_0xb4e2c9)=>_0x2b37a0+_0xb4e2c9,0x0)/_0x16a5be['length'];if(_0x16a5be[_0x1b67ae(0xc8f)]===0x1)return{'mean':_0x1f826b,'stdDev':0x0};const _0x196704=Math['sqrt'](_0x16a5be[_0x1b67ae(0xab8)](_0x25f586=>Math[_0x1b67ae(0x29a)](_0x25f586-_0x1f826b,0x2))[_0x1b67ae(0xc03)]((_0x3fd360,_0x45e1d2)=>_0x3fd360+_0x45e1d2,0x0)/(_0x16a5be[_0x1b67ae(0xc8f)]-0x1));return{'mean':_0x1f826b,'stdDev':_0x196704};}function calculateZScore(_0x140bc8,_0xb396df,_0x11a70d){if(_0x11a70d===0x0)return 0x0;return(_0x140bc8-_0xb396df)/_0x11a70d;}function calculateTScore(_0x5945ae){return 0xa*_0x5945ae+0x32;}function showStarredProjectView(){const _0x2a1677=_0x1dbc7e;currentProjectId=_0x2a1677(0xa6d),currentProjectData=null,projectTitle[_0x2a1677(0x2eb)]='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x2a1677(0x2eb)]='pinned-items',showView(_0x2a1677(0xbfc)),manageTab['classList'][_0x2a1677(0xc24)]('hidden'),leaderboardTab[_0x2a1677(0x820)][_0x2a1677(0xc24)](_0x2a1677(0x330)),switchProjectTab(_0x2a1677(0xe87)),renderQuizzes();}async function loadProjectDetails(_0x40a927){const _0x2a2140=_0x1dbc7e,_0x1589a6=doc(db,_0x2a2140(0xd90)+appId+_0x2a2140(0xb97),_0x40a927),_0x180d25=await getDoc(_0x1589a6);if(_0x180d25[_0x2a2140(0x5c5)]()){manageTab[_0x2a2140(0x820)][_0x2a2140(0xda2)](_0x2a2140(0x330)),leaderboardTab[_0x2a2140(0x820)][_0x2a2140(0xda2)]('hidden'),currentProjectData=_0x180d25[_0x2a2140(0x690)](),projectTitle[_0x2a2140(0x2eb)]=currentProjectData[_0x2a2140(0x897)],projectIdDisplay['textContent']=_0x40a927;const _0x17f8be=currentProjectData[_0x2a2140(0xa0a)]||{};document[_0x2a2140(0x722)](_0x2a2140(0x750))[_0x2a2140(0xa46)]=_0x17f8be[_0x2a2140(0x6c3)]||_0x2a2140(0x434);const _0x3a5937=document[_0x2a2140(0x722)]('show-in-student-dashboard-checkbox');_0x3a5937[_0x2a2140(0x9cd)]=_0x17f8be[_0x2a2140(0x97e)]!==![];const _0x185503=document[_0x2a2140(0x722)]('enable-passcode-checkbox'),_0x3ec8e2=document[_0x2a2140(0x722)]('passcode-input-container'),_0x293e10=document[_0x2a2140(0x722)](_0x2a2140(0xaab)),_0x339054=_0x17f8be[_0x2a2140(0x991)]||![];_0x185503[_0x2a2140(0x9cd)]=_0x339054,_0x293e10['value']=_0x17f8be[_0x2a2140(0x853)]||'',_0x3ec8e2[_0x2a2140(0x820)]['toggle'](_0x2a2140(0x330),!_0x339054),_0x185503['onchange']=()=>{const _0xe38813=_0x2a2140;_0x3ec8e2['classList'][_0xe38813(0x9b0)](_0xe38813(0x330),!_0x185503['checked']);},document['getElementById'](_0x2a2140(0x815))[_0x2a2140(0x9cd)]=_0x17f8be[_0x2a2140(0x4a0)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x40a927),listenForProjectQuizzes(_0x40a927),listenForStudentProfiles(_0x40a927);}else showMessage('ไม่พบโปรเจค'),showView(_0x2a2140(0xe49));}async function handleResetProjectOrder(){const _0x21558d=_0x1dbc7e,_0x26a7be=doc(db,_0x21558d(0x6f8),_0x21558d(0xd9e));try{await setDoc(_0x26a7be,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x21558d(0xa92));}catch(_0x44f054){console['error'](_0x21558d(0xb8b),_0x44f054),showMessage(_0x21558d(0x29d));}}async function handleTogglePinProject(_0x325fde){const _0x3cf9ee=_0x1dbc7e;if(!_0x325fde)return;const _0x3e178c=doc(db,'artifacts/'+appId+'/public/data/projects',_0x325fde);try{const _0x3dfbdb=await getDoc(_0x3e178c);if(_0x3dfbdb[_0x3cf9ee(0x5c5)]()){const _0x523aa7=_0x3dfbdb[_0x3cf9ee(0x690)]()['isPinned']||![];await updateDoc(_0x3e178c,{'isPinned':!_0x523aa7});}}catch(_0x546a4e){console[_0x3cf9ee(0x300)]('Error\x20toggling\x20pin\x20status:',_0x546a4e),showMessage(_0x3cf9ee(0xd6b));}}async function handleDeleteProject(_0x55ad2){const _0x9e1497=_0x1dbc7e;try{const _0x35f761=writeBatch(db),_0x412d71=collection(db,_0x9e1497(0xd90)+appId+'/public/data/quizzes'),_0x81f709=query(_0x412d71,where(_0x9e1497(0x6ea),'==',_0x55ad2)),_0x511250=await getDocs(_0x81f709);for(const _0x58000c of _0x511250[_0x9e1497(0xd16)]){const _0x475e1e=collection(db,_0x9e1497(0xd90)+appId+_0x9e1497(0xdb8)+_0x58000c['id']+_0x9e1497(0x353)),_0x5c59e6=await getDocs(_0x475e1e);_0x5c59e6[_0x9e1497(0xb04)](_0x1f67de=>{const _0x54c976=_0x9e1497;_0x35f761['delete'](_0x1f67de[_0x54c976(0xb60)]);}),_0x35f761[_0x9e1497(0xe1f)](_0x58000c[_0x9e1497(0xb60)]);}const _0x3a73f7=collection(db,_0x9e1497(0xd90)+appId+_0x9e1497(0x880)+_0x55ad2+'/studentProfiles'),_0x5b10b6=await getDocs(_0x3a73f7);_0x5b10b6['forEach'](_0x1e7b7b=>{const _0x5db9e2=_0x9e1497;_0x35f761[_0x5db9e2(0xe1f)](_0x1e7b7b[_0x5db9e2(0xb60)]);});const _0x3dc25a=doc(db,_0x9e1497(0xd90)+appId+_0x9e1497(0xb97),_0x55ad2);_0x35f761[_0x9e1497(0xe1f)](_0x3dc25a),await _0x35f761['commit'](),showMessage(_0x9e1497(0x689)),showView(_0x9e1497(0xe49));}catch(_0x317706){console[_0x9e1497(0x300)](_0x9e1497(0xddb),_0x317706),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document['getElementById'](_0x1dbc7e(0x6a3))[_0x1dbc7e(0x939)](_0x1dbc7e(0xa25),async()=>{const _0x2e1b93=_0x1dbc7e;if(!currentProjectId)return;const _0x30cf0d={'defaultNumQuestions':parseInt(document[_0x2e1b93(0x722)](_0x2e1b93(0xb22))['value']),'defaultNumChoices':parseInt(document['getElementById'](_0x2e1b93(0xe86))[_0x2e1b93(0xa46)]),'defaultPassingScore':parseInt(document[_0x2e1b93(0x722)](_0x2e1b93(0xbd7))['value']),'resultsDisplay':document[_0x2e1b93(0x722)](_0x2e1b93(0x711))[_0x2e1b93(0xa46)],'shuffleSetting':document[_0x2e1b93(0x722)]('shuffle-setting-select')['value'],'timerMode':document[_0x2e1b93(0x722)]('timer-mode-select')[_0x2e1b93(0xa46)],'timerDuration':parseInt(document[_0x2e1b93(0x722)](_0x2e1b93(0x38e))[_0x2e1b93(0xa46)]),'isConfidenceScoringEnabled':document[_0x2e1b93(0x722)]('confidence-scoring-checkbox')[_0x2e1b93(0x9cd)],'confidenceMode':document[_0x2e1b93(0x722)](_0x2e1b93(0x202))[_0x2e1b93(0xa46)]};try{const _0x540b3a=doc(db,_0x2e1b93(0xd90)+appId+_0x2e1b93(0xb97),currentProjectId);await updateDoc(_0x540b3a,{'settings':_0x30cf0d}),showMessage(_0x2e1b93(0x788));}catch(_0x1f0dcb){console['error'](_0x2e1b93(0x850),_0x1f0dcb),showMessage(_0x2e1b93(0xc5e));}});function listenForStudents(_0xb4c67d){const _0x43f3d7=_0x1dbc7e,_0x2a8b21=doc(db,_0x43f3d7(0xd90)+appId+_0x43f3d7(0xb97),_0xb4c67d);unsubscribeStudentsListener=onSnapshot(_0x2a8b21,_0x3483c9=>{const _0x26affd=_0x43f3d7;if(_0x3483c9['exists']()){const _0x41f741=_0x3483c9[_0x26affd(0x690)]();currentProjectData=_0x41f741,renderStudentList(_0x41f741[_0x26affd(0xda0)]||[]);}});}function renderStudentList(_0x5096a4){const _0x34b633=_0x1dbc7e,_0xc84508=document[_0x34b633(0x722)](_0x34b633(0xc86));_0x5096a4[_0x34b633(0xc8f)]===0x0?(studentList[_0x34b633(0x5dd)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0xc84508[_0x34b633(0x820)][_0x34b633(0xc24)]('hidden')):(studentList[_0x34b633(0x5dd)]=_0x5096a4[_0x34b633(0xab8)](_0x4a441d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4a441d+_0x34b633(0xb1b)+_0x4a441d+_0x34b633(0xb37))['join'](''),_0xc84508['classList'][_0x34b633(0xda2)](_0x34b633(0x330)));}document['getElementById']('add-student-btn')[_0x1dbc7e(0x939)](_0x1dbc7e(0xa25),async()=>{const _0x37e1a9=_0x1dbc7e;if(!currentProjectId)return;const _0x5d3b45=document['getElementById'](_0x37e1a9(0xd36)),_0x54862c=_0x5d3b45['value'][_0x37e1a9(0xbe3)]();if(!_0x54862c){showMessage(_0x37e1a9(0xb0e));return;}const _0xa8efe7=_0x54862c[_0x37e1a9(0x91b)]('\x0a')['map'](_0x47639b=>_0x47639b['trim']())['filter'](_0x17a4e1=>_0x17a4e1);if(_0xa8efe7[_0x37e1a9(0xc8f)]===0x0)return;try{const _0x422749=doc(db,'artifacts/'+appId+_0x37e1a9(0xb97),currentProjectId),_0x4c27bd=await getDoc(_0x422749);if(_0x4c27bd[_0x37e1a9(0x5c5)]()){const _0x409d24=_0x4c27bd['data']()[_0x37e1a9(0xda0)]||[],_0x3357eb=[...new Set([..._0x409d24,..._0xa8efe7])];await updateDoc(_0x422749,{'students':_0x3357eb}),_0x5d3b45['value']='';}}catch(_0x3f358d){console['error']('Error\x20adding\x20students:',_0x3f358d),showMessage(_0x37e1a9(0x460));}});async function handleManualQuizPairing(_0x379a6a){const _0x377e9d=_0x1dbc7e,_0x22dd0c=document[_0x377e9d(0x722)](_0x377e9d(0x627)),_0x3d7a2e=document[_0x377e9d(0x722)](_0x377e9d(0x63c)),_0x3e5880=_0x22dd0c['querySelector']('h3'),_0x3ec00a=document[_0x377e9d(0x722)](_0x377e9d(0xa76)),_0x2b022f=document[_0x377e9d(0x722)]('cancel-move-quiz-btn');_0x3e5880[_0x377e9d(0x2eb)]=_0x377e9d(0x302),_0x3d7a2e['innerHTML']=_0x377e9d(0xd8e),_0x3ec00a['textContent']='ยืนยันการจับคู่',_0x22dd0c[_0x377e9d(0x820)]['remove'](_0x377e9d(0x330));const _0x554f1d=allQuizzes[_0x377e9d(0x6b9)](_0x1d3453=>_0x1d3453['id']!==_0x379a6a);_0x554f1d[_0x377e9d(0xc8f)]===0x0?(_0x3d7a2e['innerHTML']=_0x377e9d(0x990),_0x3ec00a[_0x377e9d(0xce0)]=!![]):(_0x3d7a2e['innerHTML']=_0x377e9d(0x254)+_0x554f1d[_0x377e9d(0xab8)](_0x48057e=>_0x377e9d(0x9de)+_0x48057e['id']+'\x22>'+_0x48057e[_0x377e9d(0x2d2)]+_0x377e9d(0xa4f))[_0x377e9d(0xbc8)](''),_0x3ec00a[_0x377e9d(0xce0)]=![]);const _0x341ca8=async()=>{const _0x4db65c=_0x377e9d,_0x4b24e1=_0x3d7a2e['value'];if(!_0x4b24e1){showMessage(_0x4db65c(0x414));return;}_0x3ec00a[_0x4db65c(0xce0)]=!![],_0x3ec00a[_0x4db65c(0x2eb)]=_0x4db65c(0xdce);try{const _0x2278ae=doc(db,_0x4db65c(0xd90)+appId+_0x4db65c(0x806),_0x379a6a),_0x3c5ac6=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4b24e1),_0x35df75=writeBatch(db);_0x35df75[_0x4db65c(0x81a)](_0x2278ae,{'pairedQuizId':_0x4b24e1}),_0x35df75[_0x4db65c(0x81a)](_0x3c5ac6,{'pairedQuizId':_0x379a6a}),await _0x35df75['commit'](),showMessage(_0x4db65c(0xa26)),_0x22dd0c[_0x4db65c(0x820)][_0x4db65c(0xc24)](_0x4db65c(0x330));}catch(_0x3afbd3){console[_0x4db65c(0x300)](_0x4db65c(0x213),_0x3afbd3),showMessage(_0x4db65c(0xc47));}finally{_0x3e5880[_0x4db65c(0x2eb)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x3ec00a[_0x4db65c(0x2eb)]=_0x4db65c(0xd20),_0x3ec00a[_0x4db65c(0xce0)]=![],_0x3ec00a[_0x4db65c(0xed4)]('click',_0x341ca8),_0x2b022f[_0x4db65c(0xed4)](_0x4db65c(0xa25),_0x4d9c30);}},_0x4d9c30=()=>{const _0x3159af=_0x377e9d;_0x22dd0c[_0x3159af(0x820)]['add']('hidden'),_0x3e5880['textContent']=_0x3159af(0x60e),_0x3ec00a[_0x3159af(0x2eb)]=_0x3159af(0xd20),_0x3ec00a[_0x3159af(0xed4)](_0x3159af(0xa25),_0x341ca8),_0x2b022f[_0x3159af(0xed4)](_0x3159af(0xa25),_0x4d9c30);};_0x3ec00a['addEventListener']('click',_0x341ca8),_0x2b022f[_0x377e9d(0x939)]('click',_0x4d9c30);}function handleDeleteStudent(_0xc9abf0){const _0x155d3a=_0x1dbc7e;showConfirmation(_0x155d3a(0x3f5)+_0xc9abf0+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x14dfd0=_0x155d3a;if(!currentProjectId||!currentProjectData)return;const _0x493e56=currentProjectData[_0x14dfd0(0xda0)][_0x14dfd0(0x6b9)](_0x29015d=>_0x29015d!==_0xc9abf0);try{const _0x30576d=doc(db,_0x14dfd0(0xd90)+appId+'/public/data/projects',currentProjectId),_0x20a92c=doc(db,_0x14dfd0(0xd90)+appId+'/public/data/projects/'+currentProjectId+_0x14dfd0(0xa02),_0xc9abf0),_0x134063=writeBatch(db);_0x134063[_0x14dfd0(0x81a)](_0x30576d,{'students':_0x493e56}),_0x134063[_0x14dfd0(0xe1f)](_0x20a92c),await _0x134063[_0x14dfd0(0x783)]();}catch(_0x427e60){console[_0x14dfd0(0x300)]('Error\x20deleting\x20student:',_0x427e60),showMessage(_0x14dfd0(0xd61));}});}function handleDeleteAllStudents(){const _0x9c9883=_0x1dbc7e;showConfirmation(_0x9c9883(0x98a),async()=>{const _0x57c595=_0x9c9883;if(!currentProjectId)return;try{const _0x16e9c2=doc(db,_0x57c595(0xd90)+appId+_0x57c595(0xb97),currentProjectId),_0xcf1bc6=collection(db,_0x57c595(0xd90)+appId+_0x57c595(0x880)+currentProjectId+_0x57c595(0xa02)),_0x4a42ac=await getDocs(_0xcf1bc6),_0x5eb746=writeBatch(db);_0x5eb746[_0x57c595(0x81a)](_0x16e9c2,{'students':[]}),_0x4a42ac['forEach'](_0x4a8a6d=>_0x5eb746['delete'](_0x4a8a6d[_0x57c595(0xb60)])),await _0x5eb746[_0x57c595(0x783)]();}catch(_0x223adf){console['error']('Error\x20deleting\x20all\x20students:',_0x223adf),showMessage(_0x57c595(0x380));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0xa7daef){const _0xf2dd74=_0x1dbc7e,_0x2ab953=document[_0xf2dd74(0x722)](_0xf2dd74(0xc12)),_0x1be2fd=document[_0xf2dd74(0x722)](_0xf2dd74(0x321));_0x2ab953['classList']['remove'](_0xf2dd74(0x330)),_0x1be2fd[_0xf2dd74(0x5dd)]='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x35027b=new FileReader();_0x35027b[_0xf2dd74(0x479)](_0xa7daef),await new Promise((_0x7e5f44,_0x3f9774)=>{const _0x38a94f=_0xf2dd74;_0x35027b['onload']=()=>{const _0x128ac6=_0x320f;fileDataBase64=_0x35027b[_0x128ac6(0xd6a)][_0x128ac6(0x91b)](',')[0x1],fileMimeType=_0xa7daef[_0x128ac6(0x530)],_0x7e5f44();},_0x35027b[_0x38a94f(0x8bc)]=_0x49787b=>_0x3f9774(_0x49787b);});if(!fileDataBase64)throw new Error(_0xf2dd74(0x50c));const _0x53f3f9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1c063f={'type':_0xf2dd74(0x552),'properties':{'topics':{'type':'ARRAY','items':{'type':'STRING'}}},'required':['topics']},_0x45e435=[{'text':_0x53f3f9},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x3f7d67=await handleApiCall(_0x45e435,_0xf2dd74(0x6bf),_0x1c063f,null,![]);if(_0x3f7d67&&_0x3f7d67[_0xf2dd74(0x7ba)])extractedFileTopics=_0x3f7d67[_0xf2dd74(0x7ba)],renderFileTopics();else throw new Error(_0xf2dd74(0xd84));}catch(_0x6161b1){console[_0xf2dd74(0x300)](_0xf2dd74(0xb87),_0x6161b1),_0x1be2fd['innerHTML']=_0xf2dd74(0xc8e)+_0x6161b1[_0xf2dd74(0x83d)]+_0xf2dd74(0x283);}}function renderFileTopics(){const _0x125f60=_0x1dbc7e,_0x4ab59f=document[_0x125f60(0x722)](_0x125f60(0x321));if(extractedFileTopics['length']===0x0){_0x4ab59f[_0x125f60(0x5dd)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>';return;}_0x4ab59f[_0x125f60(0x5dd)]=extractedFileTopics[_0x125f60(0xab8)](_0x59b785=>_0x125f60(0x898)+_0x59b785+_0x125f60(0x968)+escape(_0x59b785)+_0x125f60(0x46f)+escape(_0x59b785)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x125f60(0xbc8)]('');}function _0x320f(_0x101ce8,_0x1408e7){const _0x49d165=_0x49d1();return _0x320f=function(_0x320f28,_0x40d42f){_0x320f28=_0x320f28-0x1ec;let _0x1643b5=_0x49d165[_0x320f28];return _0x1643b5;},_0x320f(_0x101ce8,_0x1408e7);}async function generateHybridQuizForTopic(_0x25a5e3){const _0x2ba851=_0x1dbc7e,_0x38593a=parseInt(document[_0x2ba851(0x722)]('num-questions')['value'],0xa),_0x1dd366=document[_0x2ba851(0x722)](_0x2ba851(0x77b))[_0x2ba851(0xa46)],_0x50686b=document[_0x2ba851(0x722)](_0x2ba851(0xe86))[_0x2ba851(0xa46)],_0x223499=document[_0x2ba851(0x722)](_0x2ba851(0xcfe))[_0x2ba851(0x9cd)],_0x4e448f=_0x223499?_0x2ba851(0x556):_0x2ba851(0x7b2);let _0x221fa8='',_0x2b5761;const _0xfdbd79={'type':_0x2ba851(0x552),'properties':{'questionText':{'type':_0x2ba851(0xcdc)},'options':{'type':'ARRAY','items':{'type':_0x2ba851(0xcdc)}},'correctAnswerIndex':{'type':_0x2ba851(0xdf9)},'explanation':{'type':_0x2ba851(0xcdc)},'imageCode':{'type':_0x2ba851(0xcdc)}},'required':['questionText',_0x2ba851(0x9d3),'correctAnswerIndex',_0x2ba851(0x6dd)]},_0x58410a={'type':_0x2ba851(0x552),'properties':{'questionText':{'type':_0x2ba851(0xcdc)},'correctAnswer':{'type':_0x2ba851(0xc28)},'explanation':{'type':_0x2ba851(0xcdc)},'imageCode':{'type':'STRING'}},'required':[_0x2ba851(0xe68),_0x2ba851(0x72b),_0x2ba851(0x6dd)]},_0x6ecfea={'type':'OBJECT','properties':{'questionText':{'type':_0x2ba851(0xcdc)},'idealAnswer':{'type':_0x2ba851(0xcdc)},'explanation':{'type':_0x2ba851(0xcdc)},'imageCode':{'type':_0x2ba851(0xcdc)}},'required':['questionText',_0x2ba851(0x5ca),'explanation']},_0x2f8bc6={'type':_0x2ba851(0x552),'properties':{'questionType':{'type':'STRING','enum':[_0x2ba851(0xd24)]},'stem':{'type':_0x2ba851(0xcdc)},'correctResponse':{'type':_0x2ba851(0xcdc)},'allResponses':{'type':_0x2ba851(0x9ba),'items':{'type':_0x2ba851(0xcdc)}},'explanation':{'type':_0x2ba851(0xcdc)},'imageCode':{'type':_0x2ba851(0xcdc)}},'required':[_0x2ba851(0xbd0),_0x2ba851(0x869),_0x2ba851(0xb40),_0x2ba851(0xb68),_0x2ba851(0x6dd)]};switch(_0x1dd366){case _0x2ba851(0x6e6):_0x221fa8='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x50686b+_0x2ba851(0xe84),_0x2b5761=_0xfdbd79;break;case'true_false':_0x221fa8=_0x2ba851(0x49b),_0x2b5761=_0x58410a;break;case _0x2ba851(0xec9):_0x221fa8=_0x2ba851(0xa8a),_0x2b5761=_0x6ecfea;break;case _0x2ba851(0x334):_0x221fa8=_0x2ba851(0xae0),_0x2b5761=_0x2f8bc6;break;case'fill_in_with_choices':_0x221fa8=_0x2ba851(0x65f)+_0x50686b+'\x20ตัวเลือก)',_0x2b5761=_0xfdbd79;break;default:_0x221fa8=_0x2ba851(0x209)+_0x50686b+_0x2ba851(0xe84),_0x2b5761=_0xfdbd79;break;}const _0x28256f=_0x2ba851(0xbee),_0x68eda7=document[_0x2ba851(0x722)]('loader'),_0x24985a=document[_0x2ba851(0x722)](_0x2ba851(0x7bb)),_0x498637=document[_0x2ba851(0x722)](_0x2ba851(0x780));document[_0x2ba851(0x722)]('quiz-generation-area')[_0x2ba851(0x820)][_0x2ba851(0xda2)](_0x2ba851(0x330)),_0x498637['innerHTML']='',_0x68eda7[_0x2ba851(0x820)][_0x2ba851(0xda2)](_0x2ba851(0x330)),_0x24985a[_0x2ba851(0x2eb)]=_0x2ba851(0x3f3)+_0x25a5e3+_0x2ba851(0x701)+_0x38593a+'\x20ข้อ...';try{const _0x12a2e8='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x2fb4b3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x25a5e3+_0x2ba851(0xe2f)+_0x38593a+_0x2ba851(0xd69)+_0x25a5e3+_0x2ba851(0x3e3)+_0x38593a+'\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20'+_0x4e448f+_0x2ba851(0xef2)+_0x221fa8+_0x2ba851(0xe07)+_0x28256f+_0x2ba851(0xccf)+_0x12a2e8+_0x2ba851(0x9e7)+simpleMathPrompt+_0x2ba851(0x735),_0x2762e3={'type':_0x2ba851(0x552),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2ba851(0x9ba),'items':_0x2b5761}},'required':[_0x2ba851(0x2d2),_0x2ba851(0x882)]},_0x133d00=[{'text':_0x2fb4b3},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x133d00,_0x2ba851(0xb65)+_0x25a5e3+'\x22...',_0x2762e3);}catch(_0x3a1d65){console[_0x2ba851(0x300)]('Error\x20generating\x20hybrid\x20quiz:',_0x3a1d65),showMessage(_0x2ba851(0xcac)+_0x3a1d65['message']),_0x498637[_0x2ba851(0x5dd)]=_0x2ba851(0xbc5);}finally{_0x68eda7[_0x2ba851(0x820)]['add'](_0x2ba851(0x330));}}async function handleGenerateFromFileClick(){const _0x319521=_0x1dbc7e;if(!selectedFile){showMessage(_0x319521(0xd54));return;}const _0xbde5e4=document[_0x319521(0x722)](_0x319521(0xeda)),_0x33f235=document[_0x319521(0x722)](_0x319521(0x7bb)),_0x132649=document[_0x319521(0x722)](_0x319521(0x780)),_0xb8925f=document['getElementById']('generate-from-file-btn');_0xb8925f[_0x319521(0xce0)]=!![],document['getElementById'](_0x319521(0x59e))[_0x319521(0x820)][_0x319521(0xda2)](_0x319521(0x330)),_0x132649['innerHTML']='',_0xbde5e4[_0x319521(0x820)][_0x319521(0xda2)](_0x319521(0x330)),_0x33f235[_0x319521(0x2eb)]=_0x319521(0xdca);try{const _0x219648=await new Promise((_0x58b472,_0x181508)=>{const _0x8cf035=_0x319521,_0x3aed7c=new FileReader();_0x3aed7c[_0x8cf035(0x479)](selectedFile),_0x3aed7c[_0x8cf035(0x263)]=()=>_0x58b472(_0x3aed7c[_0x8cf035(0xd6a)][_0x8cf035(0x91b)](',')[0x1]),_0x3aed7c['onerror']=_0x116158=>_0x181508(_0x116158);});await generateQuizFromFile(selectedFile[_0x319521(0x530)],_0x219648);}catch(_0x419365){console[_0x319521(0x300)]('Error\x20processing\x20file\x20for\x20AI:',_0x419365),showMessage('เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20'+_0x419365[_0x319521(0x83d)]),_0xbde5e4[_0x319521(0x820)][_0x319521(0xc24)](_0x319521(0x330)),_0xb8925f[_0x319521(0xce0)]=![];}}function autoFormatMath(_0x247c4e){const _0x1ff80a=_0x1dbc7e;if(typeof _0x247c4e!==_0x1ff80a(0x5b0)||!_0x247c4e)return _0x247c4e;const _0xb7b4a3=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x597358=_0x247c4e[_0x1ff80a(0x84f)](_0xb7b4a3,_0x46d86f=>{return'$'+_0x46d86f['trim']()+'$';});return _0x597358;}function sanitizeQuizData(_0x267016){const _0x369388=_0x1dbc7e;if(!_0x267016||!_0x267016[_0x369388(0x882)])return _0x267016;const _0x544c29={'imes':_0x369388(0x5ec),'div':_0x369388(0x532)},_0x1bfa04=_0x24c6db=>{const _0x4e13b4=_0x369388;if(typeof _0x24c6db!=='string')return _0x24c6db;let _0x25e622=_0x24c6db;for(const [_0x5368ad,_0x1e7202]of Object[_0x4e13b4(0xabb)](_0x544c29)){const _0x488331=new RegExp('\x5cb'+_0x5368ad+'\x5cb','g');_0x25e622=_0x25e622[_0x4e13b4(0x84f)](_0x488331,_0x1e7202);}return _0x25e622=_0x25e622['replace'](/\\\//g,_0x4e13b4(0x532)),_0x25e622=_0x25e622[_0x4e13b4(0x84f)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x4e13b4(0x532))[_0x4e13b4(0x84f)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x4e13b4(0x84f)](/÷/g,_0x4e13b4(0x532))[_0x4e13b4(0x84f)](/×/g,_0x4e13b4(0x5ec)),_0x25e622=_0x25e622[_0x4e13b4(0x84f)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x25e622=autoFormatMath(_0x25e622),_0x25e622;};return _0x267016[_0x369388(0x2d2)]&&(_0x267016[_0x369388(0x2d2)]=_0x1bfa04(_0x267016['topic'])),_0x267016['questions']['forEach'](_0x296a16=>{const _0x2ee2ba=_0x369388;_0x296a16[_0x2ee2ba(0xe68)]=_0x1bfa04(_0x296a16[_0x2ee2ba(0xe68)]),_0x296a16[_0x2ee2ba(0x9d3)]&&(_0x296a16['options']=_0x296a16[_0x2ee2ba(0x9d3)][_0x2ee2ba(0xab8)](_0x1bfa04)),_0x296a16['explanation']&&(_0x296a16['explanation']=_0x1bfa04(_0x296a16[_0x2ee2ba(0x6dd)])),_0x296a16['stem']&&(_0x296a16[_0x2ee2ba(0x869)]=_0x1bfa04(_0x296a16[_0x2ee2ba(0x869)])),_0x296a16[_0x2ee2ba(0xb40)]&&(_0x296a16[_0x2ee2ba(0xb40)]=_0x1bfa04(_0x296a16['correctResponse'])),_0x296a16['allResponses']&&(_0x296a16['allResponses']=_0x296a16[_0x2ee2ba(0xb68)][_0x2ee2ba(0xab8)](_0x1bfa04));}),_0x267016;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x21c1d8=_0x1dbc7e,_0x5e27f3=document[_0x21c1d8(0x722)]('link-url-input'),_0x146f83=document[_0x21c1d8(0x722)](_0x21c1d8(0xe93)),_0x154b09=_0x5e27f3[_0x21c1d8(0xa46)]['trim'](),_0x157329=_0x146f83[_0x21c1d8(0xa46)][_0x21c1d8(0xbe3)]();if(!_0x154b09){showMessage(_0x21c1d8(0x5e8));return;}const _0x4804d7=document[_0x21c1d8(0x722)](_0x21c1d8(0xeda)),_0x2fb036=document[_0x21c1d8(0x722)](_0x21c1d8(0x7bb)),_0x5857ab=document[_0x21c1d8(0x722)](_0x21c1d8(0x780)),_0x5054e2=document[_0x21c1d8(0x722)]('generate-from-link-btn');document['getElementById'](_0x21c1d8(0x59e))[_0x21c1d8(0x820)][_0x21c1d8(0xda2)]('hidden'),_0x5857ab['innerHTML']='',_0x4804d7[_0x21c1d8(0x820)][_0x21c1d8(0xda2)](_0x21c1d8(0x330)),_0x2fb036[_0x21c1d8(0x2eb)]=_0x21c1d8(0xcc3),_0x5054e2[_0x21c1d8(0xce0)]=!![];try{const _0x3de9c5='https://corsproxy.io/?'+encodeURIComponent(_0x154b09),_0x4ea89b=await fetch(_0x3de9c5);if(!_0x4ea89b['ok'])throw new Error(_0x21c1d8(0xb3a)+_0x4ea89b[_0x21c1d8(0x600)]+')');const _0x334997=await _0x4ea89b[_0x21c1d8(0x27d)](),_0x15d795=extractTextFromHtml(_0x334997);if(!_0x15d795||_0x15d795[_0x21c1d8(0xc8f)]<0x64)throw new Error(_0x21c1d8(0x49f));await generateQuiz(_0x157329,_0x15d795);}catch(_0x582fb0){console[_0x21c1d8(0x300)](_0x21c1d8(0x97c),_0x582fb0),showMessage(_0x21c1d8(0xcac)+_0x582fb0[_0x21c1d8(0x83d)]),_0x5857ab['innerHTML']=_0x21c1d8(0x6e7);}finally{_0x4804d7[_0x21c1d8(0x820)][_0x21c1d8(0xc24)]('hidden'),_0x5054e2[_0x21c1d8(0xce0)]=![];}}function extractTextFromHtml(_0xbba97b){const _0x3128a4=_0x1dbc7e,_0x51e944=new DOMParser()[_0x3128a4(0x776)](_0xbba97b,'text/html');return _0x51e944[_0x3128a4(0x2ff)](_0x3128a4(0x47f))[_0x3128a4(0xb04)](_0x443d9c=>_0x443d9c[_0x3128a4(0xda2)]()),_0x51e944[_0x3128a4(0xb46)]['textContent']||'';}document[_0x1dbc7e(0x722)]('generate-from-topic-btn')['addEventListener'](_0x1dbc7e(0xa25),()=>{const _0x2f3208=_0x1dbc7e,_0x583022=document['getElementById'](_0x2f3208(0x641))[_0x2f3208(0xa46)][_0x2f3208(0xbe3)]();generateQuiz(_0x583022,null);}),document[_0x1dbc7e(0x722)](_0x1dbc7e(0x69f))['addEventListener'](_0x1dbc7e(0xa25),()=>{const _0x15b2c0=_0x1dbc7e,_0x57f03b=document[_0x15b2c0(0x722)]('text-content-input')[_0x15b2c0(0xa46)][_0x15b2c0(0xbe3)]();if(!_0x57f03b){showMessage(_0x15b2c0(0xdef));return;}const _0x1405be=document[_0x15b2c0(0x722)](_0x15b2c0(0x641))[_0x15b2c0(0xa46)][_0x15b2c0(0xbe3)]();generateQuiz(_0x1405be,_0x57f03b);});async function generateQuiz(_0x5025ce,_0x4844d0,_0x1964e5=null,_0x250728=null,_0x444730=![],_0x58fe53=null,_0x5a3afc=null,_0x3a6ea0=![]){const _0x458c7f=_0x1dbc7e;let _0x36d084={};if(_0x444730&&blueprintPageSettings)_0x36d084=blueprintPageSettings;else{const _0xeff592=document[_0x458c7f(0x2ff)]('#math-topics-checkbox-container\x20input:checked');_0x36d084={'quizType':document[_0x458c7f(0x722)](_0x458c7f(0x77b))['value'],'numQuestions':document[_0x458c7f(0x722)](_0x458c7f(0xb22))[_0x458c7f(0xa46)],'numChoices':document[_0x458c7f(0x722)](_0x458c7f(0xe86))[_0x458c7f(0xa46)],'includeImages':document[_0x458c7f(0x722)]('include-images-checkbox')[_0x458c7f(0x9cd)],'isNormalTopic':document[_0x458c7f(0x722)]('force-math-checkbox')[_0x458c7f(0x9cd)],'difficultyValue':document['getElementById'](_0x458c7f(0xbbc))[_0x458c7f(0xa46)],'complexityValue':document[_0x458c7f(0x722)](_0x458c7f(0xbcc))[_0x458c7f(0xa46)],'selectedTopicNames':Array[_0x458c7f(0xb64)](_0xeff592)[_0x458c7f(0xab8)](_0x4ba209=>_0x4ba209[_0x458c7f(0xa46)])};}const _0x19db71=_0x36d084[_0x458c7f(0x948)]?'':'คณิตศาสตร์',_0x229afe=_0x36d084['difficultyValue']!=='auto'?_0x458c7f(0x235)+_0x36d084[_0x458c7f(0xac8)]+'\x22':'',_0x5492a6=_0x36d084['complexityValue']!==_0x458c7f(0x372)?_0x458c7f(0xe59)+_0x36d084['complexityValue']+_0x458c7f(0xd05):'';let _0x5bfa9b='';_0x36d084[_0x458c7f(0x672)]&&_0x36d084[_0x458c7f(0x672)][_0x458c7f(0xc8f)]>0x0&&(_0x5bfa9b=_0x458c7f(0x7f4)+_0x36d084['selectedTopicNames'][_0x458c7f(0xbc8)](',\x20')+'.');let _0x31e39e='';_0x250728&&(_0x31e39e=_0x458c7f(0x839));let _0x44a8e6='',_0x29de3a='',_0x27ecae,_0x3ca00d=_0x458c7f(0xd96)+_0x5025ce+'\x22';if(!_0x5025ce&&_0x4844d0)_0x3ca00d=_0x458c7f(0xdda);else!_0x5025ce&&!_0x4844d0&&(_0x3ca00d=_0x458c7f(0xde1));const _0x3909ce={'type':_0x458c7f(0x552),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x458c7f(0x9ba),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x458c7f(0xcdc)}},'required':[_0x458c7f(0xe68),_0x458c7f(0x9d3),_0x458c7f(0x7e1),_0x458c7f(0x6dd)]},_0x2c3c6d={'type':'OBJECT','properties':{'questionText':{'type':_0x458c7f(0xcdc)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x458c7f(0xcdc)}},'required':['questionText',_0x458c7f(0x5ca),_0x458c7f(0x6dd)]},_0x4bd92e={'type':_0x458c7f(0x552),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x458c7f(0xcdc),'enum':[_0x458c7f(0x6e6),_0x458c7f(0x432)]},'options':{'type':'ARRAY','items':{'type':_0x458c7f(0xcdc)}},'correctAnswerIndex':{'type':_0x458c7f(0xdf9)},'idealAnswer':{'type':_0x458c7f(0xcdc)},'explanation':{'type':_0x458c7f(0xcdc)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x458c7f(0xbd0),_0x458c7f(0x6dd)]},_0xe72fca={'type':_0x458c7f(0x552),'properties':{'questionText':{'type':_0x458c7f(0xcdc)},'correctAnswer':{'type':_0x458c7f(0xc28)},'explanation':{'type':_0x458c7f(0xcdc)},'imageCode':{'type':_0x458c7f(0xcdc)}},'required':['questionText',_0x458c7f(0x72b),_0x458c7f(0x6dd)]},_0x4c6ddf={'type':_0x458c7f(0x552),'properties':{'questionType':{'type':_0x458c7f(0xcdc),'enum':['matching_item']},'stem':{'type':_0x458c7f(0xcdc)},'correctResponse':{'type':_0x458c7f(0xcdc)},'allResponses':{'type':_0x458c7f(0x9ba),'items':{'type':_0x458c7f(0xcdc)}},'explanation':{'type':_0x458c7f(0xcdc)},'imageCode':{'type':'STRING'}},'required':[_0x458c7f(0xbd0),_0x458c7f(0x869),_0x458c7f(0xb40),'allResponses',_0x458c7f(0x6dd)]};let _0x5e0cd;if(_0x1964e5!==null){const _0x495a0e=currentQuizData[_0x458c7f(0x882)][_0x1964e5][_0x458c7f(0xbd0)],_0x302891=_0x36d084[_0x458c7f(0x7a0)]?_0x458c7f(0x68d):'';_0x44a8e6=_0x458c7f(0x5ce)+_0x3ca00d+'\x20'+_0x5bfa9b+'\x20'+_0x229afe+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x302891+'\x20'+simpleMathPrompt;if(_0x495a0e==='multiple_choice')_0x27ecae=_0x3909ce;else{if(_0x495a0e===_0x458c7f(0xd24))_0x27ecae={'type':_0x458c7f(0x552),'properties':{'questionType':{'type':_0x458c7f(0xcdc),'enum':[_0x458c7f(0xd24)]},'stem':{'type':_0x458c7f(0xcdc)},'correctResponse':{'type':_0x458c7f(0xcdc)},'explanation':{'type':_0x458c7f(0xcdc)},'imageCode':{'type':_0x458c7f(0xcdc)}},'required':[_0x458c7f(0xbd0),_0x458c7f(0x869),'correctResponse',_0x458c7f(0x6dd)]};else _0x27ecae=_0x2c3c6d;}_0x5e0cd=_0x27ecae;}else{const _0x5ce450=_0x36d084['includeImages']?_0x458c7f(0x5f3):'';switch(_0x36d084[_0x458c7f(0x4f4)]){case _0x458c7f(0x6e6):_0x44a8e6=_0x458c7f(0x2bd)+_0x19db71+'\x20'+_0x36d084[_0x458c7f(0x497)]+'\x20ข้อ\x20'+_0x3ca00d+'\x20'+_0x5bfa9b+'\x20'+_0x229afe+'\x20'+_0x5492a6+'\x20'+_0x31e39e+_0x458c7f(0xa47)+_0x36d084['numChoices']+_0x458c7f(0x7b0)+_0x5ce450+'\x20'+simpleMathPrompt,_0x27ecae=_0x3909ce;break;case _0x458c7f(0x732):_0x44a8e6=_0x458c7f(0xbd1)+_0x19db71+'\x20'+_0x36d084[_0x458c7f(0x497)]+_0x458c7f(0xc35)+_0x3ca00d+'\x20'+_0x5bfa9b+'\x20'+_0x229afe+'\x20'+_0x5492a6+'\x20'+_0x31e39e+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x36d084[_0x458c7f(0xda9)]+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x5ce450+'\x20'+simpleMathPrompt,_0x27ecae=_0x3909ce;break;case _0x458c7f(0xec9):_0x44a8e6=_0x458c7f(0xbd1)+_0x19db71+'\x20'+_0x36d084[_0x458c7f(0x497)]+_0x458c7f(0xc35)+_0x3ca00d+'\x20'+_0x5bfa9b+'\x20'+_0x229afe+'\x20'+_0x5492a6+'\x20'+_0x31e39e+_0x458c7f(0xec3)+_0x5ce450+'\x20'+simpleMathPrompt,_0x27ecae=_0x2c3c6d;break;case _0x458c7f(0x372):_0x44a8e6=_0x458c7f(0x238)+_0x19db71+'\x20'+_0x36d084[_0x458c7f(0x497)]+_0x458c7f(0xc35)+_0x3ca00d+'\x20'+_0x5bfa9b+'\x20'+_0x229afe+'\x20'+_0x5492a6+'\x20'+_0x31e39e+_0x458c7f(0x90f)+_0x36d084[_0x458c7f(0xda9)]+'\x20ตัวเลือก.\x20'+_0x5ce450+'\x20'+simpleMathPrompt+'.',_0x27ecae=_0x4bd92e;break;case _0x458c7f(0x3f7):_0x44a8e6=_0x458c7f(0xcf8)+_0x19db71+'\x20'+_0x36d084[_0x458c7f(0x497)]+'\x20ข้อ\x20'+_0x3ca00d+'\x20'+_0x5bfa9b+'\x20'+_0x229afe+'\x20'+_0x5492a6+'\x20'+_0x31e39e+_0x458c7f(0x70d)+_0x5ce450+'\x20'+simpleMathPrompt,_0x27ecae=_0xe72fca;break;case _0x458c7f(0x334):_0x44a8e6=_0x458c7f(0x96b)+_0x19db71+'\x20'+_0x36d084[_0x458c7f(0x497)]+_0x458c7f(0x636)+_0x3ca00d+'\x20'+_0x5bfa9b+'\x20'+_0x229afe+'\x20'+_0x5492a6+'\x20'+_0x31e39e+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x5ce450+'\x20'+simpleMathPrompt,_0x27ecae=_0x4c6ddf;break;}_0x5e0cd={'type':'OBJECT','properties':{'topic':{'type':_0x458c7f(0xcdc)},'questions':{'type':_0x458c7f(0x9ba),'items':_0x27ecae}},'required':[_0x458c7f(0x2d2),_0x458c7f(0x882)]};}const _0x3a41d2=_0x458c7f(0xe1c);_0x4844d0?(_0x3a6ea0?_0x44a8e6='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x4844d0+_0x458c7f(0xbb4)+_0x44a8e6+_0x3a41d2:_0x44a8e6=_0x458c7f(0xa96)+_0x4844d0+_0x458c7f(0xbb4)+_0x44a8e6,_0x29de3a='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x3a6ea0&&(_0x44a8e6+=_0x3a41d2),_0x29de3a=_0x458c7f(0xea4));let _0x5996eb;return _0x250728?(_0x5996eb=[{'text':_0x44a8e6},..._0x250728],_0x29de3a=_0x458c7f(0x713)):_0x5996eb=_0x44a8e6,handleApiCall(_0x5996eb,_0x29de3a,_0x5e0cd,_0x1964e5,!![],_0x58fe53,_0x5a3afc);}async function generateQuizFromFile(_0x4210df,_0x2fb9ad){const _0x2114e1=_0x1dbc7e,_0x132d90=document[_0x2114e1(0x722)](_0x2114e1(0xdb3))[_0x2114e1(0xa46)][_0x2114e1(0xbe3)](),_0x1fa61e=document[_0x2114e1(0x722)](_0x2114e1(0x77b))[_0x2114e1(0xa46)],_0x2bddd3=document[_0x2114e1(0x722)]('num-questions')[_0x2114e1(0xa46)],_0xb09e0e=document[_0x2114e1(0x722)]('num-choices')['value'],_0x2ccee7=document['getElementById'](_0x2114e1(0xcfe))['checked'],_0x29aeb1=document[_0x2114e1(0x722)]('force-math-checkbox')[_0x2114e1(0x9cd)],_0x48c4d8=_0x29aeb1?'':_0x2114e1(0xd85),_0xb4c901=document[_0x2114e1(0x722)](_0x2114e1(0x471))[_0x2114e1(0x9cd)];let _0x1a0996='',_0x4a372c;const _0x23a630=_0x2ccee7?_0x2114e1(0x5f3):'';if(_0xb4c901)_0x1a0996=_0x2114e1(0x61f)+_0x23a630+'\x0a'+simpleMathPrompt+'\x0a',_0x4a372c={'type':'OBJECT','properties':{'questionText':{'type':_0x2114e1(0xcdc)},'questionType':{'type':_0x2114e1(0xcdc),'enum':[_0x2114e1(0x6e6),_0x2114e1(0x432),_0x2114e1(0x3f7),_0x2114e1(0xd24)]},'options':{'type':_0x2114e1(0x9ba),'items':{'type':_0x2114e1(0xcdc)}},'correctAnswerIndex':{'type':_0x2114e1(0xdf9)},'idealAnswer':{'type':_0x2114e1(0xcdc)},'correctAnswer':{'type':_0x2114e1(0xc28)},'stem':{'type':_0x2114e1(0xcdc)},'correctResponse':{'type':_0x2114e1(0xcdc)},'allResponses':{'type':_0x2114e1(0x9ba),'items':{'type':_0x2114e1(0xcdc)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2114e1(0xcdc)}},'required':['questionType',_0x2114e1(0x6dd)]};else{let _0x3bc781='เกี่ยวกับหัวข้อ\x20\x22'+_0x132d90+'\x22';!_0x132d90&&(_0x3bc781='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0x1fa61e){case _0x2114e1(0x6e6):_0x1a0996=_0x2114e1(0x2bd)+_0x48c4d8+'\x20'+_0x2bddd3+_0x2114e1(0xc35)+_0x3bc781+_0x2114e1(0xa47)+_0xb09e0e+_0x2114e1(0x7b0)+_0x23a630+'\x20'+simpleMathPrompt,_0x4a372c={'type':'OBJECT','properties':{'questionText':{'type':_0x2114e1(0xcdc)},'options':{'type':_0x2114e1(0x9ba),'items':{'type':_0x2114e1(0xcdc)}},'correctAnswerIndex':{'type':_0x2114e1(0xdf9)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2114e1(0xe68),_0x2114e1(0x9d3),_0x2114e1(0x7e1),_0x2114e1(0x6dd)]};break;case _0x2114e1(0x732):_0x1a0996=_0x2114e1(0xbd1)+_0x48c4d8+'\x20'+_0x2bddd3+_0x2114e1(0xc35)+_0x3bc781+_0x2114e1(0x33d)+_0xb09e0e+_0x2114e1(0x8a5)+_0x23a630+'\x20'+simpleMathPrompt,_0x4a372c={'type':_0x2114e1(0x552),'properties':{'questionText':{'type':_0x2114e1(0xcdc)},'options':{'type':_0x2114e1(0x9ba),'items':{'type':_0x2114e1(0xcdc)}},'correctAnswerIndex':{'type':_0x2114e1(0xdf9)},'explanation':{'type':_0x2114e1(0xcdc)},'imageCode':{'type':_0x2114e1(0xcdc)}},'required':['questionText','options',_0x2114e1(0x7e1),_0x2114e1(0x6dd)]};break;case _0x2114e1(0xec9):_0x1a0996=_0x2114e1(0xbd1)+_0x48c4d8+'\x20'+_0x2bddd3+_0x2114e1(0xc35)+_0x3bc781+_0x2114e1(0x2e8)+_0x23a630+'\x20'+simpleMathPrompt,_0x4a372c={'type':_0x2114e1(0x552),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2114e1(0xcdc)},'imageCode':{'type':_0x2114e1(0xcdc)}},'required':[_0x2114e1(0xe68),_0x2114e1(0x5ca),_0x2114e1(0x6dd)]};break;case _0x2114e1(0x372):_0x1a0996=_0x2114e1(0x238)+_0x48c4d8+'\x20'+_0x2bddd3+_0x2114e1(0xc35)+_0x3bc781+_0x2114e1(0x9bb)+_0xb09e0e+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x23a630+'\x20'+simpleMathPrompt+_0x2114e1(0x8bb),_0x4a372c={'type':_0x2114e1(0x552),'properties':{'questionText':{'type':_0x2114e1(0xcdc)},'questionType':{'type':'STRING','enum':[_0x2114e1(0x6e6),_0x2114e1(0x432)]},'options':{'type':_0x2114e1(0x9ba),'items':{'type':_0x2114e1(0xcdc)}},'correctAnswerIndex':{'type':_0x2114e1(0xdf9)},'idealAnswer':{'type':_0x2114e1(0xcdc)},'explanation':{'type':_0x2114e1(0xcdc)},'imageCode':{'type':_0x2114e1(0xcdc)}},'required':[_0x2114e1(0xe68),_0x2114e1(0xbd0),_0x2114e1(0x6dd)]};break;case _0x2114e1(0x3f7):_0x1a0996=_0x2114e1(0xcf8)+_0x48c4d8+'\x20'+_0x2bddd3+_0x2114e1(0xc35)+_0x3bc781+_0x2114e1(0x919)+_0x23a630+'\x20'+simpleMathPrompt,_0x4a372c={'type':_0x2114e1(0x552),'properties':{'questionText':{'type':_0x2114e1(0xcdc)},'correctAnswer':{'type':_0x2114e1(0xc28)},'explanation':{'type':_0x2114e1(0xcdc)},'imageCode':{'type':_0x2114e1(0xcdc)}},'required':['questionText',_0x2114e1(0x72b),_0x2114e1(0x6dd)]};break;case _0x2114e1(0x334):_0x1a0996=_0x2114e1(0x96b)+_0x48c4d8+'\x20'+_0x2bddd3+_0x2114e1(0x636)+_0x3bc781+_0x2114e1(0x541)+_0x2bddd3+_0x2114e1(0x377)+_0x23a630+'\x20'+simpleMathPrompt,_0x4a372c={'type':_0x2114e1(0x552),'properties':{'questionType':{'type':'STRING','enum':[_0x2114e1(0xd24)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2114e1(0xcdc)},'allResponses':{'type':_0x2114e1(0x9ba),'items':{'type':_0x2114e1(0xcdc)}},'explanation':{'type':_0x2114e1(0xcdc)},'imageCode':{'type':_0x2114e1(0xcdc)}},'required':[_0x2114e1(0xbd0),_0x2114e1(0x869),'correctResponse',_0x2114e1(0xb68),_0x2114e1(0x6dd)]};break;}}const _0x50c38f={'type':'OBJECT','properties':{'topic':{'type':_0x2114e1(0xcdc)},'questions':{'type':'ARRAY','items':_0x4a372c}},'required':['topic',_0x2114e1(0x882)]},_0x4b446b='จากไฟล์ที่แนบมานี้,\x20'+_0x1a0996,_0x40d233={'contents':[{'parts':[{'text':_0x4b446b},{'inlineData':{'mimeType':_0x4210df,'data':_0x2fb9ad}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x50c38f}};return handleApiCall(_0x40d233[_0x2114e1(0x65a)][0x0][_0x2114e1(0x662)],_0x2114e1(0x258),_0x50c38f);}async function handleApiCall(_0x5887eb,_0x1e19e2,_0x4a48a5,_0x83e430=null,_0x306dc3=!![],_0x11798a=null,_0x40257f=null){const _0x4774f2=_0x1dbc7e,_0xbb421=document['getElementById'](_0x4774f2(0x59e)),_0x460392=document[_0x4774f2(0x722)]('loader'),_0x4f0c01=document[_0x4774f2(0x722)](_0x4774f2(0x7bb)),_0xd7cd75=document[_0x4774f2(0x722)](_0x4774f2(0x780));_0xbb421['classList']['remove'](_0x4774f2(0x330));_0x83e430===null&&_0x306dc3&&(_0xd7cd75[_0x4774f2(0x5dd)]='');_0x460392[_0x4774f2(0x820)]['remove'](_0x4774f2(0x330)),_0x4f0c01['textContent']=_0x1e19e2,document[_0x4774f2(0x722)](_0x4774f2(0x637))[_0x4774f2(0xce0)]=!![],document[_0x4774f2(0x722)](_0x4774f2(0x69f))[_0x4774f2(0xce0)]=!![],document['getElementById'](_0x4774f2(0xaaf))[_0x4774f2(0xce0)]=!![];const _0x37f939=document[_0x4774f2(0x722)](_0x4774f2(0x5cc));if(_0x37f939)_0x37f939['disabled']=!![];const _0x127791=document['getElementById']('generate-from-blueprint-btn');if(_0x127791)_0x127791[_0x4774f2(0xce0)]=!![];const _0x1ec66d=document[_0x4774f2(0x722)](_0x4774f2(0x985));if(_0x1ec66d)_0x1ec66d[_0x4774f2(0xce0)]=!![];try{const _0x5e5d2f=Array[_0x4774f2(0x90d)](_0x5887eb)?_0x5887eb:[{'text':_0x5887eb}],_0x327237={'contents':[{'role':_0x4774f2(0xb48),'parts':_0x5e5d2f}]};_0x4a48a5&&(_0x327237[_0x4774f2(0x89f)]={'responseMimeType':_0x4774f2(0xbae),'responseSchema':_0x4a48a5});const _0x28f349='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0xea7e3b=_0x4774f2(0x8cb)+_0x28f349,_0x4d59cf=await fetch(_0xea7e3b,{'method':_0x4774f2(0x80f),'headers':{'Content-Type':_0x4774f2(0xbae)},'body':JSON[_0x4774f2(0xa70)](_0x327237)});if(!_0x4d59cf['ok']){const _0x4fe25c=await _0x4d59cf[_0x4774f2(0x27d)]();console[_0x4774f2(0x300)](_0x4774f2(0x37f),_0x4fe25c);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x4d59cf['status']);}const _0x3d1aeb=await _0x4d59cf[_0x4774f2(0x554)]();if(!_0x3d1aeb['candidates']||_0x3d1aeb[_0x4774f2(0xd2a)][_0x4774f2(0xc8f)]===0x0){let _0x5938f0='AI\x20did\x20not\x20return\x20any\x20content.';return _0x3d1aeb['promptFeedback']?.[_0x4774f2(0x2be)]&&(_0x5938f0='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x3d1aeb[_0x4774f2(0x1f3)][_0x4774f2(0x2be)]+'.'),console[_0x4774f2(0x300)](_0x5938f0,JSON[_0x4774f2(0xa70)](_0x3d1aeb)),null;}const _0x330f2b=_0x3d1aeb[_0x4774f2(0xd2a)][0x0][_0x4774f2(0x94b)][_0x4774f2(0x662)][0x0][_0x4774f2(0x27d)];if(_0x4a48a5){let _0x3544b0=_0x330f2b;if(_0x3544b0[_0x4774f2(0x883)](_0x4774f2(0x8e7)))_0x3544b0=_0x3544b0['substring'](0x7,_0x3544b0[_0x4774f2(0xc8f)]-0x3)[_0x4774f2(0xbe3)]();else _0x3544b0[_0x4774f2(0x883)]('```')&&(_0x3544b0=_0x3544b0[_0x4774f2(0x975)](0x3,_0x3544b0[_0x4774f2(0xc8f)]-0x3)[_0x4774f2(0xbe3)]());let _0x264912=JSON[_0x4774f2(0x684)](_0x3544b0);if(_0x306dc3){if(_0x83e430!==null){}else currentQuizData=_0x264912,displayGeneratedQuiz(currentQuizData,_0x11798a,_0x40257f);}return _0x264912;}else return _0x330f2b;}catch(_0x33a948){console['error'](_0x4774f2(0x7d9),_0x33a948),showMessage(_0x4774f2(0x84d)+_0x33a948[_0x4774f2(0x83d)]);_0x306dc3&&(_0xd7cd75['innerHTML']=_0x4774f2(0xcd9));throw _0x33a948;}finally{_0x460392[_0x4774f2(0x820)]['add'](_0x4774f2(0x330)),document[_0x4774f2(0x722)]('generate-from-topic-btn')[_0x4774f2(0xce0)]=![],document[_0x4774f2(0x722)](_0x4774f2(0x69f))['disabled']=![],document[_0x4774f2(0x722)](_0x4774f2(0xaaf))['disabled']=![];if(_0x37f939)_0x37f939[_0x4774f2(0xce0)]=![];if(_0x127791)_0x127791[_0x4774f2(0xce0)]=![];if(_0x1ec66d)_0x1ec66d[_0x4774f2(0xce0)]=![];}}function exitFullscreen(){const _0xf059da=_0x1dbc7e;if(document[_0xf059da(0x9a3)])document['exitFullscreen']()[_0xf059da(0xb2a)](_0x3db932=>console['error'](_0x3db932));else{if(document['webkitExitFullscreen'])document[_0xf059da(0x618)]();else document[_0xf059da(0x8ff)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x520d36=_0x1dbc7e,_0x1e0272=document[_0x520d36(0x424)];if(_0x1e0272[_0x520d36(0xb81)])_0x1e0272[_0x520d36(0xb81)]()[_0x520d36(0xb2a)](_0x26e85d=>{const _0x277e17=_0x520d36;console[_0x277e17(0x300)]('Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20'+_0x26e85d[_0x277e17(0x83d)]+'\x20('+_0x26e85d[_0x277e17(0x39f)]+')');});else{if(_0x1e0272['webkitRequestFullscreen'])_0x1e0272[_0x520d36(0x23b)]();else _0x1e0272[_0x520d36(0x9f2)]&&_0x1e0272['msRequestFullscreen']();}}function handleCheatingEvent(){const _0x46e771=_0x1dbc7e;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x46e771(0xd0b),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x46e771(0xd99)+maxCheatAttempts+_0x46e771(0xb15)),document['getElementById'](_0x46e771(0x2d8))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener']('visibilitychange',handleVisibilityChange),document[_0x46e771(0xed4)](_0x46e771(0xab4),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x46e771(0x9a9),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x5e5e3a=_0x1dbc7e;if(currentMode===_0x5e5e3a(0x9d0)||!isQuizActive)return;if(document[_0x5e5e3a(0x3e5)]===_0x5e5e3a(0x330))handleCheatingEvent();else document[_0x5e5e3a(0x3e5)]===_0x5e5e3a(0xe3a)&&(console[_0x5e5e3a(0x545)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x4c9ffa=_0x1dbc7e;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x4c9ffa(0x5d4)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x233d6f,_0x2110a7=null,_0x12ed04=null){const _0x582285=_0x1dbc7e,_0x52edb3=document[_0x582285(0x722)]('generated-quiz-container');let _0x1d73aa='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x233d6f[_0x582285(0x2d2)]+'</h3>';_0x233d6f[_0x582285(0x882)][_0x582285(0xb04)]((_0x39ab2f,_0xe2bc1d)=>{const _0x1ec273=_0x582285;!_0x39ab2f['id']&&(_0x39ab2f['id']='q_'+Date[_0x1ec273(0x3e0)]()+'_'+_0xe2bc1d);const _0x467255=_0x39ab2f[_0x1ec273(0xbd0)]||_0x233d6f[_0x1ec273(0x4f4)];_0x1d73aa+=_0x1ec273(0x86d)+_0xe2bc1d+_0x1ec273(0x262)+_0xe2bc1d+_0x1ec273(0x464)+_0xe2bc1d+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x467255){case _0x1ec273(0xd24):_0x1d73aa+=_0x1ec273(0xec7)+_0xe2bc1d+'\x22>'+(_0xe2bc1d+0x1)+'.\x20'+_0x39ab2f[_0x1ec273(0x869)]+_0x1ec273(0x283);_0x39ab2f['imageCode']&&(_0x1d73aa+=_0x1ec273(0xcb9)+_0xe2bc1d+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x39ab2f[_0x1ec273(0x79d)]+_0x1ec273(0x607));_0x1d73aa+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0xe2bc1d+'\x22>'+_0x39ab2f['correctResponse']+_0x1ec273(0x4cb),_0x1d73aa+=_0x1ec273(0xa94)+_0xe2bc1d+'\x22>'+_0x39ab2f[_0x1ec273(0x6dd)]+_0x1ec273(0x4cb);break;case _0x1ec273(0x432):_0x1d73aa+=_0x1ec273(0xec7)+_0xe2bc1d+'\x22>'+(_0xe2bc1d+0x1)+'.\x20'+_0x39ab2f[_0x1ec273(0xe68)]+_0x1ec273(0x283);_0x39ab2f['imageCode']&&(_0x1d73aa+='<div\x20id=\x22q-image-container-'+_0xe2bc1d+_0x1ec273(0x422)+_0x39ab2f['imageCode']+'</div>');_0x1d73aa+=_0x1ec273(0xbe0)+_0xe2bc1d+'\x22>'+_0x39ab2f['idealAnswer']+_0x1ec273(0x4cb),_0x1d73aa+=_0x1ec273(0xa94)+_0xe2bc1d+'\x22>'+_0x39ab2f['explanation']+_0x1ec273(0x4cb);break;case _0x1ec273(0x3f7):_0x1d73aa+=_0x1ec273(0xec7)+_0xe2bc1d+'\x22>'+(_0xe2bc1d+0x1)+'.\x20'+_0x39ab2f['questionText']+_0x1ec273(0x283);_0x39ab2f[_0x1ec273(0x79d)]&&(_0x1d73aa+=_0x1ec273(0xcb9)+_0xe2bc1d+_0x1ec273(0x422)+_0x39ab2f['imageCode']+_0x1ec273(0x607));_0x1d73aa+=_0x1ec273(0x370)+(_0x39ab2f['correctAnswer']===!![]?_0x1ec273(0x756):'')+_0x1ec273(0x5d8)+(_0x39ab2f[_0x1ec273(0x72b)]===![]?'text-green-600\x20font-bold':'')+_0x1ec273(0x9e6),_0x1d73aa+=_0x1ec273(0xa94)+_0xe2bc1d+'\x22>'+_0x39ab2f[_0x1ec273(0x6dd)]+_0x1ec273(0x4cb);break;case _0x1ec273(0x725):case'multiple_choice':default:_0x1d73aa+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0xe2bc1d+'\x22>'+(_0xe2bc1d+0x1)+'.\x20'+_0x39ab2f[_0x1ec273(0xe68)]+_0x1ec273(0x283);_0x39ab2f['imageCode']&&(_0x1d73aa+=_0x1ec273(0xcb9)+_0xe2bc1d+_0x1ec273(0x422)+_0x39ab2f[_0x1ec273(0x79d)]+_0x1ec273(0x607));_0x1d73aa+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0xe2bc1d+_0x1ec273(0x599)+(_0x39ab2f[_0x1ec273(0x9d3)]||[])[_0x1ec273(0xab8)]((_0x461efc,_0x42eaf9)=>_0x1ec273(0xeb7)+(_0x42eaf9===_0x39ab2f['correctAnswerIndex']?'text-green-600\x20font-bold':'')+'\x22>'+_0x461efc+_0x1ec273(0x97a))[_0x1ec273(0xbc8)]('')+_0x1ec273(0x7d1),_0x1d73aa+=_0x1ec273(0xa94)+_0xe2bc1d+'\x22>'+_0x39ab2f[_0x1ec273(0x6dd)]+_0x1ec273(0x4cb);break;}_0x1d73aa+=_0x1ec273(0x607);}),_0x1d73aa+=_0x582285(0xc45),_0x52edb3['innerHTML']=_0x1d73aa,document['querySelectorAll'](_0x582285(0x60c))[_0x582285(0xb04)](_0x429061=>_0x429061[_0x582285(0x939)](_0x582285(0xa25),handleEditQuestion)),document[_0x582285(0x2ff)](_0x582285(0xb19))[_0x582285(0xb04)](_0x3211b9=>_0x3211b9[_0x582285(0x939)](_0x582285(0xa25),handleRegenerateQuestion)),document[_0x582285(0x722)]('export-worksheet-pdf-btn')[_0x582285(0x939)](_0x582285(0xa25),exportQuizAsWorksheetPDF),document[_0x582285(0x722)](_0x582285(0x4ef))[_0x582285(0x939)]('click',handleVerifyAnswers);const _0x1ab7e6=document['getElementById'](_0x582285(0x230));if(_0x1ab7e6){const _0x2ce98c=_0x2110a7||currentProjectId;_0x1ab7e6[_0x582285(0x939)](_0x582285(0xa25),()=>saveQuiz(_0x2ce98c,_0x12ed04));}if(window[_0x582285(0xa8c)])window[_0x582285(0xa8c)][_0x582285(0x303)]([_0x52edb3]);}function handleRegenerateQuestion(_0x3b4c6f){const _0xae9be9=_0x1dbc7e,_0x24536b=_0x3b4c6f[_0xae9be9(0x37a)][_0xae9be9(0xa7e)][_0xae9be9(0x61a)],_0x357fd1=currentQuizData['topic'];showMessage(_0xae9be9(0xa17)+(parseInt(_0x24536b)+0x1)+'\x20ใหม่...'),generateQuiz(_0x357fd1,null,parseInt(_0x24536b));}function getPointerPosition(_0x5e7fdd,_0x5b5d37){const _0x524662=_0x1dbc7e,_0x2669ed=_0x5e7fdd[_0x524662(0x82b)]();let _0x27e6a2,_0x411a02;return _0x5b5d37[_0x524662(0x8f1)]&&_0x5b5d37[_0x524662(0x8f1)]['length']>0x0?(_0x27e6a2=_0x5b5d37[_0x524662(0x8f1)][0x0][_0x524662(0x352)],_0x411a02=_0x5b5d37[_0x524662(0x8f1)][0x0]['clientY']):(_0x27e6a2=_0x5b5d37[_0x524662(0x352)],_0x411a02=_0x5b5d37[_0x524662(0x825)]),{'x':(_0x27e6a2-_0x2669ed['e'])/_0x2669ed['a'],'y':(_0x411a02-_0x2669ed['f'])/_0x2669ed['d']};}function startDrag(_0x28fa7d){const _0x2077a1=_0x1dbc7e;_0x28fa7d[_0x2077a1(0x530)]===_0x2077a1(0x753)&&_0x28fa7d['preventDefault']();const _0x17c758=_0x28fa7d[_0x2077a1(0xa4c)][_0x2077a1(0xecd)]('.draggable-text');if(_0x17c758){draggedSvgElement=_0x17c758;const _0x1bdb56=draggedSvgElement[_0x2077a1(0xe8a)],_0x4ddbad=getPointerPosition(_0x1bdb56,_0x28fa7d);svgOffset['x']=_0x4ddbad['x']-parseFloat(draggedSvgElement[_0x2077a1(0x1f5)](null,'x')),svgOffset['y']=_0x4ddbad['y']-parseFloat(draggedSvgElement[_0x2077a1(0x1f5)](null,'y'));}}function calculateItemAnalysis(_0x3fb92a,_0x2117f2){const _0x1fb8e1=_0x1dbc7e,_0x3d0c46={};if(_0x2117f2[_0x1fb8e1(0xc8f)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x409f5c=[..._0x2117f2][_0x1fb8e1(0x24d)]((_0x401113,_0x27287c)=>{const _0x283984=_0x1fb8e1,_0x2120fa=_0x27287c[_0x283984(0x41e)]-_0x401113[_0x283984(0x41e)];if(_0x2120fa!==0x0)return _0x2120fa;const _0x340408=_0x401113[_0x283984(0x764)]?.['length']||0x1,_0x385476=_0x27287c[_0x283984(0x764)]?.['length']||0x1,_0x235ecb=_0x340408-_0x385476;if(_0x235ecb!==0x0)return _0x235ecb;const _0x21243f=new Date(_0x401113[_0x283984(0x542)]),_0x518cb3=new Date(_0x27287c[_0x283984(0x542)]),_0xebf8ee=_0x21243f-_0x518cb3;if(_0xebf8ee!==0x0)return _0xebf8ee;return _0x401113[_0x283984(0x589)][_0x283984(0x81f)](_0x27287c[_0x283984(0x589)],'th');}),_0x2fcab2=_0x409f5c[_0x1fb8e1(0xc8f)],_0x16dfc5=Math[_0x1fb8e1(0x3d5)](0x1,Math['floor'](_0x2fcab2*0.33));if(_0x16dfc5===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x585baa=_0x409f5c[_0x1fb8e1(0x45e)](0x0,_0x16dfc5),_0x14e20d=_0x409f5c[_0x1fb8e1(0x45e)](-_0x16dfc5),_0x4541a2=_0x585baa['map'](_0x40c5c9=>_0x40c5c9[_0x1fb8e1(0x589)]),_0x1acab6=_0x14e20d[_0x1fb8e1(0xab8)](_0x1366df=>_0x1366df[_0x1fb8e1(0x589)]);return _0x3fb92a['questions'][_0x1fb8e1(0xb04)]((_0x110fe6,_0x3d273b)=>{const _0x2cde60=_0x1fb8e1,_0x36fa0b=_0x110fe6[_0x2cde60(0x869)]||_0x110fe6[_0x2cde60(0xe68)];let _0x4f156d=0x0,_0x51ac86=0x0,_0x287392=0x0;const _0x4fc748=[],_0x24d1c8=[];_0x585baa[_0x2cde60(0xb04)](_0x553b6b=>{const _0x2e9336=_0x2cde60,_0x19e1ed=_0x553b6b['attempts'][_0x553b6b[_0x2e9336(0x764)]['length']-0x1],_0x573891=_0x19e1ed[_0x2e9336(0x9e0)]['find'](_0xe438d9=>_0xe438d9[_0x2e9336(0x51f)]===_0x36fa0b);_0x4fc748[_0x2e9336(0xca1)]({'name':_0x553b6b[_0x2e9336(0x589)],'isCorrect':_0x573891?_0x573891[_0x2e9336(0xa97)]:![]}),_0x573891&&_0x573891['isCorrect']&&_0x51ac86++;}),_0x14e20d['forEach'](_0xf511ce=>{const _0x565cfc=_0x2cde60,_0x374d7c=_0xf511ce['attempts'][_0xf511ce[_0x565cfc(0x764)][_0x565cfc(0xc8f)]-0x1],_0x1b88a4=_0x374d7c[_0x565cfc(0x9e0)][_0x565cfc(0x36c)](_0x46225f=>_0x46225f[_0x565cfc(0x51f)]===_0x36fa0b);_0x24d1c8['push']({'name':_0xf511ce[_0x565cfc(0x589)],'isCorrect':_0x1b88a4?_0x1b88a4[_0x565cfc(0xa97)]:![]}),_0x1b88a4&&_0x1b88a4[_0x565cfc(0xa97)]&&_0x287392++;}),_0x2117f2[_0x2cde60(0xb04)](_0x334411=>{const _0x5afeac=_0x2cde60,_0x569ae2=_0x334411[_0x5afeac(0x764)][_0x334411['attempts'][_0x5afeac(0xc8f)]-0x1],_0x4e943f=_0x569ae2[_0x5afeac(0x9e0)][_0x5afeac(0x36c)](_0x63c160=>_0x63c160[_0x5afeac(0x51f)]===_0x36fa0b);_0x4e943f&&_0x4e943f[_0x5afeac(0xa97)]&&_0x4f156d++;});const _0x3348c9=_0x2fcab2>0x0?_0x4f156d/_0x2fcab2:0x0,_0x4b2e21=_0x16dfc5>0x0?_0x51ac86/_0x16dfc5-_0x287392/_0x16dfc5:0x0;_0x3d0c46[_0x3d273b]={'p':_0x3348c9,'r':_0x4b2e21,'upperGroupResponders':_0x4fc748,'lowerGroupResponders':_0x24d1c8};}),{'perQuestionStats':_0x3d0c46,'overallGroups':{'upperGroupNames':_0x4541a2,'lowerGroupNames':_0x1acab6}};}function drag(_0x20db58){const _0x2bc2d9=_0x1dbc7e;if(draggedSvgElement){_0x20db58[_0x2bc2d9(0x726)]();const _0x5ae9b7=draggedSvgElement[_0x2bc2d9(0xe8a)],_0x5c5b80=getPointerPosition(_0x5ae9b7,_0x20db58),_0x48bf26=_0x5ae9b7['viewBox'][_0x2bc2d9(0x642)];let _0x957707=_0x5c5b80['x']-svgOffset['x'],_0x2da208=_0x5c5b80['y']-svgOffset['y'];const _0x5b6ac5=draggedSvgElement['getBBox']();_0x957707=Math[_0x2bc2d9(0x3d5)](_0x48bf26['x'],Math[_0x2bc2d9(0x35c)](_0x957707,_0x48bf26['x']+_0x48bf26[_0x2bc2d9(0xc6a)]-_0x5b6ac5[_0x2bc2d9(0xc6a)])),_0x2da208=Math[_0x2bc2d9(0x3d5)](_0x48bf26['y'],Math[_0x2bc2d9(0x35c)](_0x2da208,_0x48bf26['y']+_0x48bf26[_0x2bc2d9(0x8f8)]-_0x5b6ac5[_0x2bc2d9(0x8f8)])),draggedSvgElement[_0x2bc2d9(0x4de)](null,'x',_0x957707),draggedSvgElement[_0x2bc2d9(0x4de)](null,'y',_0x2da208);}}function endDrag(_0x2af0eb){draggedSvgElement=null;}function handleSvgEditClick(_0x5f06c6){const _0x595308=_0x1dbc7e;if(_0x5f06c6[_0x595308(0xa4c)][_0x595308(0x820)][_0x595308(0x381)](_0x595308(0x997))){const _0x331725=_0x5f06c6['target'][_0x595308(0xa7e)][_0x595308(0xc62)],_0x24b989=_0x5f06c6['currentTarget'],_0x495c27=_0x24b989[_0x595308(0x390)]('#'+_0x331725);_0x495c27&&_0x495c27['remove'](),_0x5f06c6['target'][_0x595308(0xda2)]();}}function handleEditQuestion(_0xc9f9){const _0x152d45=_0x1dbc7e,_0x13fc28=_0xc9f9[_0x152d45(0x37a)],_0x3a8f52=_0x13fc28[_0x152d45(0xa7e)][_0x152d45(0x61a)],_0x3f8ad3=currentQuizData[_0x152d45(0x882)][_0x3a8f52],_0x5c2f82=document[_0x152d45(0x722)](_0x152d45(0x743)+_0x3a8f52),_0x2445e5=document[_0x152d45(0x722)](_0x152d45(0xdb1)+_0x3a8f52),_0x4f0b2d=document[_0x152d45(0x722)](_0x152d45(0xdfd)+_0x3a8f52);if(_0x13fc28[_0x152d45(0x5dd)]['includes'](_0x152d45(0x5e6))){_0x13fc28[_0x152d45(0x5dd)]=_0x152d45(0x931),_0x13fc28[_0x152d45(0xd28)]=_0x152d45(0x41c);if(_0x5c2f82)_0x5c2f82[_0x152d45(0xb6a)]=!![];if(_0x2445e5)_0x2445e5[_0x152d45(0xb6a)]=!![];if(_0x4f0b2d){const _0xaf284f=_0x4f0b2d[_0x152d45(0x390)](_0x152d45(0xe78));if(_0xaf284f){const _0x27e00c=_0xaf284f[_0x152d45(0x2ff)](_0x152d45(0x27d));_0x27e00c[_0x152d45(0xb04)]((_0x48262d,_0x2a42ed)=>{const _0x36b729=_0x152d45,_0x423406=_0x36b729(0xa99)+_0x3a8f52+'-'+_0x2a42ed;_0x48262d['id']=_0x423406,_0x48262d['classList']['add'](_0x36b729(0xbc6)),_0x48262d['style'][_0x36b729(0x961)]=_0x36b729(0x34a);const _0xb876d1=document['createElementNS'](_0x36b729(0xd53),_0x36b729(0x4f2)),_0x1b5bec=_0x48262d[_0x36b729(0x2c0)]();_0xb876d1[_0x36b729(0x774)]('cx',String(_0x1b5bec['x']+_0x1b5bec['width']+0x5)),_0xb876d1[_0x36b729(0x774)]('cy',String(_0x1b5bec['y']+_0x1b5bec[_0x36b729(0x8f8)]/0x2-0x5)),_0xb876d1[_0x36b729(0x774)]('r','5'),_0xb876d1[_0x36b729(0x774)]('fill',_0x36b729(0x971)),_0xb876d1[_0x36b729(0x774)](_0x36b729(0xb71),_0x36b729(0x997)),_0xb876d1[_0x36b729(0xa7e)][_0x36b729(0xc62)]=_0x423406,_0x48262d[_0x36b729(0xa2f)](_0xb876d1);}),_0xaf284f[_0x152d45(0x939)]('mousedown',startDrag),_0xaf284f[_0x152d45(0x939)](_0x152d45(0x4c8),drag),_0xaf284f[_0x152d45(0x939)]('mouseup',endDrag),_0xaf284f[_0x152d45(0x939)](_0x152d45(0xd88),endDrag),_0xaf284f['addEventListener'](_0x152d45(0x753),startDrag,{'passive':![]}),_0xaf284f[_0x152d45(0x939)](_0x152d45(0xdb9),drag,{'passive':![]}),_0xaf284f[_0x152d45(0x939)](_0x152d45(0x81b),endDrag),_0xaf284f['addEventListener'](_0x152d45(0xc84),endDrag),_0xaf284f['addEventListener'](_0x152d45(0xa25),handleSvgEditClick);}}if(_0x5c2f82)_0x5c2f82[_0x152d45(0x9dd)]();}else{_0x13fc28[_0x152d45(0x5dd)]=_0x152d45(0x63a),_0x13fc28['title']=_0x152d45(0x3a9);if(_0x5c2f82){_0x5c2f82[_0x152d45(0xb6a)]=![];const _0x277ad5=_0x3f8ad3[_0x152d45(0xbd0)]||currentQuizData[_0x152d45(0x4f4)];_0x277ad5==='matching_item'?_0x3f8ad3[_0x152d45(0x869)]=_0x5c2f82[_0x152d45(0xd43)][_0x152d45(0x975)](_0x5c2f82[_0x152d45(0xd43)][_0x152d45(0x5cd)]('.')+0x2)['trim']():_0x3f8ad3['questionText']=_0x5c2f82['innerText']['substring'](_0x5c2f82['innerText'][_0x152d45(0x5cd)]('.')+0x2)[_0x152d45(0xbe3)]();}_0x2445e5&&(_0x2445e5[_0x152d45(0xb6a)]=![],_0x3f8ad3[_0x152d45(0x6dd)]=_0x2445e5['innerText']);if(_0x4f0b2d){const _0x33ae06=_0x4f0b2d[_0x152d45(0x390)](_0x152d45(0xe78));if(_0x33ae06){const _0x4758c6=_0x33ae06[_0x152d45(0xaf2)](!![]);_0x4758c6[_0x152d45(0x2ff)](_0x152d45(0x33f))[_0x152d45(0xb04)](_0x39d37b=>_0x39d37b[_0x152d45(0xda2)]()),_0x4758c6[_0x152d45(0x2ff)](_0x152d45(0x4c1))[_0x152d45(0xb04)](_0xd8c7c1=>{const _0x1c779f=_0x152d45;_0xd8c7c1['classList'][_0x1c779f(0xda2)](_0x1c779f(0xbc6)),_0xd8c7c1[_0x1c779f(0xa20)][_0x1c779f(0x961)]=_0x1c779f(0x6a2),_0xd8c7c1[_0x1c779f(0xa0d)]('id');}),_0x3f8ad3[_0x152d45(0x79d)]=_0x4758c6[_0x152d45(0x731)],_0x33ae06['removeEventListener'](_0x152d45(0x8a9),startDrag),_0x33ae06[_0x152d45(0xed4)](_0x152d45(0x4c8),drag),_0x33ae06[_0x152d45(0xed4)]('mouseup',endDrag),_0x33ae06[_0x152d45(0xed4)](_0x152d45(0xd88),endDrag),_0x33ae06[_0x152d45(0xed4)]('touchstart',startDrag),_0x33ae06[_0x152d45(0xed4)](_0x152d45(0xdb9),drag),_0x33ae06['removeEventListener'](_0x152d45(0x81b),endDrag),_0x33ae06['removeEventListener'](_0x152d45(0xc84),endDrag),_0x33ae06[_0x152d45(0xed4)](_0x152d45(0xa25),handleSvgEditClick),_0x33ae06[_0x152d45(0x2ff)]('.delete-svg-btn')[_0x152d45(0xb04)](_0x15eb8b=>_0x15eb8b['remove']()),_0x33ae06['querySelectorAll'](_0x152d45(0x4c1))['forEach'](_0xbf6c41=>{const _0x55116c=_0x152d45;_0xbf6c41[_0x55116c(0x820)][_0x55116c(0xda2)](_0x55116c(0xbc6)),_0xbf6c41[_0x55116c(0xa20)][_0x55116c(0x961)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x20379d){const _0x391aad=_0x1dbc7e,_0x13d73f=document[_0x391aad(0x722)](_0x391aad(0x3d6)),_0x4b8ec1=document[_0x391aad(0x722)](_0x391aad(0x3ed));_0x4b8ec1['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x13d73f[_0x391aad(0x820)][_0x391aad(0xda2)](_0x391aad(0x330));try{const _0x3f05c1=doc(db,_0x391aad(0xd90)+appId+_0x391aad(0x806),_0x20379d),_0x23474b=await getDoc(_0x3f05c1);if(!_0x23474b[_0x391aad(0x5c5)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x20379d,..._0x23474b['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x4b5189){console[_0x391aad(0x300)]('Error\x20opening\x20quiz\x20editor:',_0x4b5189),showMessage(_0x391aad(0xc65)),_0x13d73f[_0x391aad(0x820)][_0x391aad(0xc24)](_0x391aad(0x330));}}function renderQuizEditor(_0x3ccefd){const _0x4dfefe=_0x1dbc7e;document[_0x4dfefe(0x722)](_0x4dfefe(0xcc1))[_0x4dfefe(0xa46)]=_0x3ccefd[_0x4dfefe(0x2d2)];const _0x245333=document['getElementById'](_0x4dfefe(0x3ed));let _0x1e0483=_0x3ccefd['questions']['map']((_0x33658e,_0x54829a)=>{const _0x332d0b=_0x4dfefe;let _0x567752='';const _0x3cf8b5=_0x33658e['questionType']||_0x3ccefd['quizType'];switch(_0x3cf8b5){case _0x332d0b(0x6e6):const _0x491682=(_0x33658e[_0x332d0b(0x9d3)]||[])[_0x332d0b(0xab8)]((_0x4cbd4c,_0x42ac6b)=>_0x332d0b(0x45b)+_0x54829a+_0x332d0b(0xad6)+_0x42ac6b+'\x22\x20'+(_0x42ac6b===_0x33658e[_0x332d0b(0x7e1)]?_0x332d0b(0x9cd):'')+_0x332d0b(0x849)+_0x4cbd4c+_0x332d0b(0xdd3))['join']('');_0x567752=_0x332d0b(0x89b)+_0x491682+_0x332d0b(0x534);break;case _0x332d0b(0x432):_0x567752=_0x332d0b(0x644)+(_0x33658e[_0x332d0b(0x5ca)]||'')+_0x332d0b(0x420);break;case _0x332d0b(0x3f7):_0x567752=_0x332d0b(0x885)+_0x54829a+_0x332d0b(0x30a)+(_0x33658e['correctAnswer']===!![]?_0x332d0b(0x9cd):'')+_0x332d0b(0x634)+_0x54829a+_0x332d0b(0x537)+(_0x33658e[_0x332d0b(0x72b)]===![]?'checked':'')+_0x332d0b(0xe5d);break;case _0x332d0b(0xd24):_0x567752='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x33658e[_0x332d0b(0xb40)]||'')+_0x332d0b(0x290);break;}let _0x3b203f=_0x33658e['questionText']||_0x33658e[_0x332d0b(0x869)]||'';return _0x3b203f=_0x3b203f[_0x332d0b(0x84f)](/<br\s*\/?>/gi,'\x0a'),_0x332d0b(0x605)+_0x54829a+_0x332d0b(0x401)+_0x3cf8b5+_0x332d0b(0x609)+(_0x54829a+0x1)+'\x20('+_0x3cf8b5+_0x332d0b(0xe36)+_0x3b203f+_0x332d0b(0xdaf)+_0x567752+_0x332d0b(0xe8e);})['join']('');_0x245333[_0x4dfefe(0x5dd)]=_0x1e0483;const _0x335cf0=_0x4dfefe(0x734);_0x245333['insertAdjacentHTML'](_0x4dfefe(0x5a6),_0x335cf0),_0x245333[_0x4dfefe(0x2ff)](_0x4dfefe(0x44a))[_0x4dfefe(0xb04)](_0x53ef71=>{const _0x6f3337=_0x4dfefe;_0x53ef71[_0x6f3337(0xa20)][_0x6f3337(0x9a4)]=_0x6f3337(0x330),_0x53ef71['style'][_0x6f3337(0xe34)]=_0x6f3337(0xbb2),_0x53ef71[_0x6f3337(0x5f8)]=0x4;const _0x2d55c3=()=>{const _0x4daf3f=_0x6f3337;_0x53ef71[_0x4daf3f(0xa20)]['height']='auto',_0x53ef71['style'][_0x4daf3f(0x8f8)]=_0x53ef71[_0x4daf3f(0x8c1)]+'px';};_0x53ef71[_0x6f3337(0x939)](_0x6f3337(0xc8a),_0x2d55c3),_0x2d55c3();}),_0x245333['querySelectorAll'](_0x4dfefe(0x415))[_0x4dfefe(0xb04)](_0x104cd2=>{const _0x42eb90=_0x4dfefe;_0x104cd2[_0x42eb90(0x939)](_0x42eb90(0xa25),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x20a36e){const _0x478411=_0x1dbc7e;if(!currentEditingQuizData||!currentEditingQuizData[_0x478411(0x882)][_0x20a36e])return;const _0x516fb9=currentEditingQuizData[_0x478411(0x882)][_0x20a36e]['questionText']||currentEditingQuizData[_0x478411(0x882)][_0x20a36e][_0x478411(0x869)];showConfirmation(_0x478411(0x3fa)+(_0x20a36e+0x1)+'\x20(\x22'+_0x516fb9[_0x478411(0x975)](0x0,0x14)+_0x478411(0x619),()=>{const _0x46d251=_0x478411;currentEditingQuizData[_0x46d251(0x882)]['splice'](_0x20a36e,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x46d251(0x64b));});}function handleAddQuestionInEditor(){const _0x561088=_0x1dbc7e;if(!currentEditingQuizData)return;const _0x473e17={'id':'q_'+Date[_0x561088(0x3e0)]()+_0x561088(0x309),'questionType':'multiple_choice','questionText':_0x561088(0x52c),'options':['ตัวเลือก\x20ก','ตัวเลือก\x20ข',_0x561088(0xd75),_0x561088(0x3f8)],'correctAnswerIndex':0x0,'explanation':_0x561088(0x3a5)};currentEditingQuizData[_0x561088(0x882)]['push'](_0x473e17),renderQuizEditor(currentEditingQuizData);const _0x175d60=document['querySelector'](_0x561088(0x4fc));_0x175d60&&(_0x175d60[_0x561088(0x831)]({'behavior':_0x561088(0x803),'block':_0x561088(0x533)}),_0x175d60['querySelector'](_0x561088(0xc16))[_0x561088(0x9dd)]());}async function handleAiFixQuestion(_0x24361f){const _0x4ef362=_0x1dbc7e,_0x222df2=_0x24361f['currentTarget'],_0xcd494a=_0x222df2['closest'](_0x4ef362(0xdc8));if(!_0xcd494a)return;const _0x3cff87=parseInt(_0xcd494a[_0x4ef362(0xa7e)][_0x4ef362(0xab5)],0xa);if(isNaN(_0x3cff87)||!currentEditingQuizData[_0x4ef362(0x882)][_0x3cff87]){showMessage(_0x4ef362(0x77a));return;}const _0x5470d8=currentEditingQuizData[_0x4ef362(0x882)][_0x3cff87];_0x222df2[_0x4ef362(0x5dd)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x222df2[_0x4ef362(0xce0)]=!![];const _0x443c0f=_0x4ef362(0x9f3)+JSON[_0x4ef362(0xa70)](_0x5470d8)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x315c56;const _0xacee7d=_0x5470d8[_0x4ef362(0xbd0)]||currentEditingQuizData[_0x4ef362(0x4f4)];switch(_0xacee7d){case _0x4ef362(0x432):_0x315c56={'type':'OBJECT','properties':{'questionText':{'type':_0x4ef362(0xcdc)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x4ef362(0xcdc)},'imageCode':{'type':_0x4ef362(0xcdc)}},'required':['questionText',_0x4ef362(0x5ca),_0x4ef362(0x6dd)]};break;case _0x4ef362(0x6e6):default:_0x315c56={'type':_0x4ef362(0x552),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4ef362(0xcdc)}},'required':['questionText','options',_0x4ef362(0x7e1),_0x4ef362(0x6dd)]};break;}try{let _0x4c56f4=await callAnalysisApi(_0x443c0f,_0x315c56);_0x4c56f4['options']&&Array['isArray'](_0x4c56f4[_0x4ef362(0x9d3)])&&(_0x4c56f4[_0x4ef362(0x9d3)]=_0x4c56f4[_0x4ef362(0x9d3)][_0x4ef362(0xab8)](_0x3d8fb8=>typeof _0x3d8fb8===_0x4ef362(0x5b0)?_0x3d8fb8['replace'](/S(\s*[\d_]+?\s*)S/g,_0x4ef362(0x889)):_0x3d8fb8)),_0x5470d8[_0x4ef362(0x79d)]&&_0x5470d8[_0x4ef362(0x79d)]['includes']('fix\x20the\x20option')&&(_0x4c56f4[_0x4ef362(0x79d)]=''),currentEditingQuizData[_0x4ef362(0x882)][_0x3cff87]={..._0x5470d8,..._0x4c56f4},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0xf34ce6){console[_0x4ef362(0x300)](_0x4ef362(0x6b8),_0xf34ce6),showMessage(_0x4ef362(0xb1a)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x4e0cf3=_0x1dbc7e,_0xa93b73=document[_0x4e0cf3(0x722)](_0x4e0cf3(0x888));_0xa93b73['disabled']=!![],_0xa93b73[_0x4e0cf3(0x5dd)]=_0x4e0cf3(0x4d9);try{const _0x539760=document['getElementById'](_0x4e0cf3(0xcc1))[_0x4e0cf3(0xa46)],_0x178829=document[_0x4e0cf3(0x2ff)]('.question-editor-item');let _0x3450a6=[];const _0x235d5d=Array[_0x4e0cf3(0xb64)](_0x178829)[_0x4e0cf3(0xab8)]((_0x1c5441,_0x4cdfef)=>{const _0x29ee95=_0x4e0cf3,_0x34794d=_0x1c5441['dataset']['qType'],_0x312856=_0x1c5441[_0x29ee95(0x390)](_0x29ee95(0xc16))[_0x29ee95(0xa46)]['replace'](/\n/g,_0x29ee95(0x754));let _0xa321d8={'questionType':_0x34794d};const _0x58d45e=currentEditingQuizData[_0x29ee95(0x882)][_0x4cdfef];switch(_0x34794d){case'multiple_choice':_0xa321d8[_0x29ee95(0xe68)]=_0x312856;const _0x18c161=_0x1c5441[_0x29ee95(0x2ff)](_0x29ee95(0x428));_0xa321d8[_0x29ee95(0x9d3)]=Array[_0x29ee95(0xb64)](_0x18c161)[_0x29ee95(0xab8)](_0x4243be=>_0x4243be[_0x29ee95(0xa46)]);const _0x9f5664=_0x1c5441['querySelector'](_0x29ee95(0x431));_0xa321d8[_0x29ee95(0x7e1)]=_0x9f5664?parseInt(_0x9f5664[_0x29ee95(0xa46)]):0x0;break;case _0x29ee95(0x432):_0xa321d8[_0x29ee95(0xe68)]=_0x312856,_0xa321d8[_0x29ee95(0x5ca)]=_0x1c5441['querySelector']('.ideal-answer-input')[_0x29ee95(0xa46)];break;case _0x29ee95(0x3f7):_0xa321d8['questionText']=_0x312856;const _0x787885=_0x1c5441[_0x29ee95(0x390)]('input[type=\x22radio\x22]:checked');_0xa321d8[_0x29ee95(0x72b)]=_0x787885?_0x787885[_0x29ee95(0xa46)]===_0x29ee95(0x761):!![];break;case _0x29ee95(0xd24):_0xa321d8[_0x29ee95(0x869)]=_0x312856;const _0x553da8=_0x1c5441['querySelector']('.correct-response-input');_0xa321d8[_0x29ee95(0xb40)]=_0x553da8?_0x553da8[_0x29ee95(0xa46)]:'',_0x3450a6[_0x29ee95(0xca1)](_0xa321d8['correctResponse']);break;default:_0xa321d8[_0x29ee95(0xe68)]=_0x312856;break;}return{..._0x58d45e,..._0xa321d8};});_0x3450a6[_0x4e0cf3(0xc8f)]>0x0&&_0x235d5d['forEach'](_0x164c31=>{const _0x4e1c7a=_0x4e0cf3;_0x164c31[_0x4e1c7a(0xbd0)]===_0x4e1c7a(0xd24)&&(_0x164c31[_0x4e1c7a(0xb68)]=_0x3450a6);});const _0x41cd72=currentEditingQuizData['id'],_0x5712e4=doc(db,_0x4e0cf3(0xd90)+appId+_0x4e0cf3(0x806),_0x41cd72);await updateDoc(_0x5712e4,{'topic':_0x539760,'questions':_0x235d5d}),document[_0x4e0cf3(0x722)](_0x4e0cf3(0x3d6))[_0x4e0cf3(0x820)]['add'](_0x4e0cf3(0x330)),showMessage(_0x4e0cf3(0x89d),()=>initiateReGradeProcess(_0x41cd72));}catch(_0x524432){console[_0x4e0cf3(0x300)](_0x4e0cf3(0xd3b),_0x524432),showMessage(_0x4e0cf3(0xdf6));}finally{_0xa93b73[_0x4e0cf3(0xce0)]=![],_0xa93b73['innerHTML']=_0x4e0cf3(0x6c0);}}async function initiateReGradeProcess(_0x2796b5){const _0x4211fa=_0x1dbc7e;showMessage(_0x4211fa(0xc04));try{const _0x7c0a2c=doc(db,_0x4211fa(0xd90)+appId+_0x4211fa(0x806),_0x2796b5),_0x3e5128=await getDoc(_0x7c0a2c);if(!_0x3e5128['exists']())throw new Error(_0x4211fa(0xbd4));const _0x447979={'id':_0x2796b5,..._0x3e5128[_0x4211fa(0x690)]()},_0x3c7c44=collection(db,_0x4211fa(0xd90)+appId+_0x4211fa(0x806),_0x2796b5,'submissions'),_0x53e2e8=await getDocs(_0x3c7c44);if(_0x53e2e8[_0x4211fa(0x553)]){showMessage(_0x4211fa(0x2c6));return;}const _0x48f358=_0x53e2e8[_0x4211fa(0xd16)][_0x4211fa(0xab8)](_0x43429d=>reGradeSingleSubmission(_0x43429d,_0x447979));await Promise['all'](_0x48f358);if(_0x447979['projectId']){const _0x51150b=doc(db,_0x4211fa(0xd90)+appId+_0x4211fa(0xb97),_0x447979[_0x4211fa(0x6ea)]),_0x3c4f24=await getDoc(_0x51150b);if(_0x3c4f24[_0x4211fa(0x5c5)]()&&_0x3c4f24[_0x4211fa(0x690)]()['students']){const _0x29548b=_0x3c4f24[_0x4211fa(0x690)]()[_0x4211fa(0xda0)][_0x4211fa(0xab8)](_0x5a8d30=>updateStudentProfile(_0x447979['projectId'],_0x5a8d30));await Promise['all'](_0x29548b);}}showMessage(_0x4211fa(0x5d3)+_0x53e2e8[_0x4211fa(0xf04)]+_0x4211fa(0x5d7));}catch(_0x9d8df4){console[_0x4211fa(0x300)](_0x4211fa(0x564),_0x9d8df4),showMessage(_0x4211fa(0x9c6)+_0x9d8df4[_0x4211fa(0x83d)]);}}async function reGradeSingleSubmission(_0x489e54,_0x489de9){const _0x3a3fe6=_0x1dbc7e,_0x27c764=_0x489e54[_0x3a3fe6(0x690)](),_0x2f7e5a=_0x27c764['studentName'],_0x370f60=_0x27c764[_0x3a3fe6(0x764)]||[],_0x2e29c7=[];for(const _0x5dd2a4 of _0x370f60){let _0x3a2ef8=0x0,_0x10aa1a=[],_0x2fcef6=0x0;const _0x1c6794=[];for(const _0x5c6b38 of _0x5dd2a4[_0x3a3fe6(0x9e0)]){let _0x3521d9;_0x5c6b38[_0x3a3fe6(0xd63)]&&(_0x3521d9=_0x489de9[_0x3a3fe6(0x882)][_0x3a3fe6(0x36c)](_0x39edef=>_0x39edef['id']===_0x5c6b38[_0x3a3fe6(0xd63)]));!_0x3521d9&&_0x5c6b38[_0x3a3fe6(0x51f)]&&(_0x3521d9=_0x489de9[_0x3a3fe6(0x882)]['find'](_0x46e28a=>(_0x46e28a[_0x3a3fe6(0x869)]||_0x46e28a[_0x3a3fe6(0xe68)])===_0x5c6b38[_0x3a3fe6(0x51f)]));let _0x3681ce=![];if(_0x3521d9){const _0x2aa0bb=_0x3521d9[_0x3a3fe6(0xbd0)]||_0x489de9['quizType'];switch(_0x2aa0bb){case _0x3a3fe6(0x6e6):if(_0x3521d9[_0x3a3fe6(0x9d3)]&&_0x3521d9[_0x3a3fe6(0x7e1)]<_0x3521d9[_0x3a3fe6(0x9d3)][_0x3a3fe6(0xc8f)]){const _0x3e133a=_0x3521d9[_0x3a3fe6(0x9d3)][_0x3521d9[_0x3a3fe6(0x7e1)]];_0x3681ce=_0x5c6b38[_0x3a3fe6(0xbf8)]===_0x3e133a;}break;case _0x3a3fe6(0x3f7):const _0x31b4a7=_0x5c6b38[_0x3a3fe6(0xac3)]===!![]||_0x5c6b38['answer']===_0x3a3fe6(0x761);_0x3681ce=_0x31b4a7===_0x3521d9[_0x3a3fe6(0x72b)];break;case'matching_item':_0x3681ce=_0x5c6b38[_0x3a3fe6(0xac3)]===_0x3521d9[_0x3a3fe6(0xb40)];break;case'short_answer':_0x3681ce=await gradeShortAnswer(_0x5c6b38['answer'],_0x3521d9);break;default:_0x3681ce=_0x5c6b38[_0x3a3fe6(0xa97)];break;}}if(_0x3681ce){_0x3a2ef8++,_0x2fcef6++;if(_0x2fcef6===0x3)_0x10aa1a[_0x3a3fe6(0xca1)](BADGES['ON_FIRE']['id']);}else _0x2fcef6=0x0;_0x1c6794[_0x3a3fe6(0xca1)]({..._0x5c6b38,'isCorrect':_0x3681ce});}let _0xf1002=_0x3a2ef8*0xa;_0x3a2ef8===_0x489de9[_0x3a3fe6(0x882)]['length']&&(_0xf1002+=0x32,_0x10aa1a[_0x3a3fe6(0xca1)](BADGES[_0x3a3fe6(0x76c)]['id'])),_0x2e29c7[_0x3a3fe6(0xca1)]({..._0x5dd2a4,'score':_0x3a2ef8,'points':_0xf1002,'badges':Array[_0x3a3fe6(0xb64)](new Set(_0x10aa1a)),'answers':_0x1c6794});}const _0x6ac201=_0x2e29c7[_0x3a3fe6(0xc8f)]>0x0?_0x2e29c7[0x0][_0x3a3fe6(0x7ee)]:0x0,_0x51ebe8=Math[_0x3a3fe6(0x3d5)](..._0x2e29c7[_0x3a3fe6(0xab8)](_0x271f41=>_0x271f41[_0x3a3fe6(0x7ee)])),_0x7bc26=_0x2e29c7[_0x3a3fe6(0xc8f)]>0x0?_0x2e29c7[_0x2e29c7[_0x3a3fe6(0xc8f)]-0x1]['score']:0x0,_0x380e3d=_0x2e29c7[_0x3a3fe6(0xc8f)]>0x0?_0x2e29c7[_0x2e29c7[_0x3a3fe6(0xc8f)]-0x1][_0x3a3fe6(0xba8)]:0x0,_0x24d315=doc(db,_0x3a3fe6(0xd90)+appId+'/public/data/quizzes/'+_0x489de9['id']+_0x3a3fe6(0x353),_0x2f7e5a);await updateDoc(_0x24d315,{'attempts':_0x2e29c7,'firstScore':_0x6ac201,'bestScore':_0x51ebe8,'latestScore':_0x7bc26,'points':_0x380e3d});}function cleanupQuizOptions(_0x521782){const _0x44fcc2=_0x1dbc7e,_0x1c8199=(_0x49896b,_0x319051)=>_0x319051===0x0?_0x49896b:_0x1c8199(_0x319051,_0x49896b%_0x319051),_0x5e9481=_0x5520f9=>{const _0x4f1b8a=_0x320f;if(typeof _0x5520f9!=='string')return null;_0x5520f9=_0x5520f9[_0x4f1b8a(0xbe3)]();const _0x2634f4=_0x5520f9[_0x4f1b8a(0x91b)](/[ /]/)[_0x4f1b8a(0x6b9)](_0x3dcff3=>_0x3dcff3!=='');if(_0x2634f4['length']===0x3)return parseInt(_0x2634f4[0x0])+parseInt(_0x2634f4[0x1])/parseInt(_0x2634f4[0x2]);else{if(_0x2634f4['length']===0x2)return parseInt(_0x2634f4[0x0])/parseInt(_0x2634f4[0x1]);else{if(_0x2634f4[_0x4f1b8a(0xc8f)]===0x1&&!isNaN(_0x2634f4[0x0]))return parseFloat(_0x2634f4[0x0]);}}return null;},_0x5b85a6=_0x5a77fb=>{const _0x394ab0=_0x320f;if(typeof _0x5a77fb!==_0x394ab0(0x5b0))return _0x5a77fb;const _0x5742d6=_0x5a77fb[_0x394ab0(0x437)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x5742d6){const _0x4dda7f=parseInt(_0x5742d6[0x1]);let _0x135c6b=parseInt(_0x5742d6[0x2]),_0x5bdd3e=parseInt(_0x5742d6[0x3]);const _0x43fc7a=_0x1c8199(_0x135c6b,_0x5bdd3e);_0x135c6b/=_0x43fc7a,_0x5bdd3e/=_0x43fc7a;if(_0x5bdd3e===0x1)return(_0x4dda7f+_0x135c6b)[_0x394ab0(0x992)]();return _0x4dda7f+'\x20'+_0x135c6b+'/'+_0x5bdd3e;}return _0x5a77fb;};return _0x521782&&_0x521782[_0x44fcc2(0x882)]&&_0x521782[_0x44fcc2(0x882)][_0x44fcc2(0xb04)](_0x2cc316=>{const _0x8f9bd=_0x44fcc2;if(_0x2cc316['questionType']===_0x8f9bd(0x6e6)&&_0x2cc316[_0x8f9bd(0x9d3)]){const _0x5b2adf=new Map(),_0x3821cd=_0x2cc316['options'][_0x2cc316[_0x8f9bd(0x7e1)]];_0x2cc316['options'][_0x8f9bd(0xb04)](_0x40e647=>{const _0x4de69a=_0x8f9bd,_0x55d289=_0x5b85a6(_0x40e647),_0x404ca7=_0x5e9481(_0x55d289);_0x404ca7!==null&&!_0x5b2adf['has'](_0x404ca7)&&_0x5b2adf[_0x4de69a(0x4c6)](_0x404ca7,_0x55d289);}),_0x2cc316[_0x8f9bd(0x9d3)]=Array[_0x8f9bd(0xb64)](_0x5b2adf['values']());const _0x48e92d=_0x2cc316[_0x8f9bd(0x9d3)][_0x8f9bd(0x242)](_0x3fbe7d=>_0x3fbe7d===_0x5b85a6(_0x3821cd));_0x2cc316['correctAnswerIndex']=_0x48e92d!==-0x1?_0x48e92d:0x0;}}),_0x521782;}function showGameStartConfirmationModal(_0x3ca04c,_0x4fe0f5,_0x26c777){const _0x55927a=_0x1dbc7e,_0x43749e=document[_0x55927a(0x722)](_0x55927a(0x385));document[_0x55927a(0x722)](_0x55927a(0xb39))[_0x55927a(0x2eb)]='เริ่มกิจกรรม:\x20'+_0x26c777,document[_0x55927a(0x722)](_0x55927a(0x42e))[_0x55927a(0xa46)]=_0x3ca04c,document[_0x55927a(0x722)](_0x55927a(0x75d))[_0x55927a(0xa46)]=_0x4fe0f5,document['getElementById'](_0x55927a(0xa9e))[_0x55927a(0x9cd)]=!![];const _0x23d720=document[_0x55927a(0x722)](_0x55927a(0xcf2)),_0x2a324d=document[_0x55927a(0x722)]('sync-timer-enable-checkbox'),_0x579fcd=document['getElementById'](_0x55927a(0x6c8)),_0x4e6ac0=document['getElementById']('black-market-settings-container');_0x4fe0f5===_0x55927a(0x441)?(_0x23d720[_0x55927a(0x820)][_0x55927a(0xda2)]('hidden'),document[_0x55927a(0x390)]('input[name=\x22syncVariant\x22][value=\x22classic\x22]')[_0x55927a(0x9cd)]=!![],_0x2a324d[_0x55927a(0x9cd)]=!![],_0x579fcd['classList'][_0x55927a(0xda2)](_0x55927a(0x330)),document[_0x55927a(0x722)](_0x55927a(0x596))[_0x55927a(0xa46)]='240',_0x4e6ac0['classList'][_0x55927a(0xda2)]('hidden'),document['getElementById'](_0x55927a(0x9a5))[_0x55927a(0x9cd)]=!![]):(_0x23d720[_0x55927a(0x820)][_0x55927a(0xc24)]('hidden'),_0x2a324d['checked']=![],_0x579fcd[_0x55927a(0x820)]['add'](_0x55927a(0x330)),_0x4e6ac0[_0x55927a(0x820)][_0x55927a(0xc24)](_0x55927a(0x330))),_0x43749e[_0x55927a(0x820)][_0x55927a(0xda2)]('hidden');}async function saveGameResultsAsSubmissions(_0x474fa4){const _0x324dfc=_0x1dbc7e;console[_0x324dfc(0x545)](_0x324dfc(0x8de),_0x474fa4);const _0x1b6bc0=_0x474fa4[_0x324dfc(0x7ff)];let _0xea1829=[];if(_0x474fa4[_0x324dfc(0x8d6)])_0xea1829=Object['entries'](_0x474fa4[_0x324dfc(0x8d6)])[_0x324dfc(0xab8)](([_0xfdbae,_0x5375ae])=>({'name':_0xfdbae,..._0x5375ae}));else{if(_0x474fa4['groups'])Object['values'](_0x474fa4[_0x324dfc(0x231)])[_0x324dfc(0xb04)](_0x52bb48=>{const _0x3b3c54=_0x324dfc;_0x52bb48['members'][_0x3b3c54(0xb04)](_0x2b46e2=>{const _0x42099b=_0x3b3c54;_0xea1829['push']({'name':_0x2b46e2,'score':_0x52bb48[_0x42099b(0x7ee)],'answers':_0x52bb48[_0x42099b(0x9e0)]});});});else _0x474fa4[_0x324dfc(0xc2d)]&&Object[_0x324dfc(0xabb)](_0x474fa4['responses'])[_0x324dfc(0xb04)](([_0x47ee0e,_0x54b16b])=>{const _0x34695e=_0x324dfc;_0xea1829[_0x34695e(0xca1)]({'name':_0x47ee0e,..._0x54b16b});});}if(_0xea1829[_0x324dfc(0xc8f)]===0x0)return;const _0x2af8bd=_0x474fa4[_0x324dfc(0x2b5)]?.[_0x324dfc(0x882)][_0x324dfc(0xc8f)]||currentQuizData[_0x324dfc(0x882)][_0x324dfc(0xc8f)],_0x147a9d=writeBatch(db);for(const _0x530d24 of _0xea1829){const _0x987481=doc(db,_0x324dfc(0xd90)+appId+'/public/data/quizzes/'+_0x1b6bc0+'/submissions',_0x530d24[_0x324dfc(0x39f)]),_0x2e369c=(_0x530d24['answers']||[])['filter'](_0x1de3fc=>_0x1de3fc[_0x324dfc(0xa97)])[_0x324dfc(0xc8f)];let _0x2dba3b=_0x530d24[_0x324dfc(0xe54)]!==undefined?_0x530d24[_0x324dfc(0xe54)]:_0x2e369c;const _0x1fc6ba={'score':_0x2e369c,'points':_0x2dba3b,'badges':_0x530d24['badges']||[],'submittedAt':new Date()[_0x324dfc(0x3fe)](),'answers':(_0x530d24[_0x324dfc(0x9e0)]||[])[_0x324dfc(0xab8)](_0x256065=>({'questionId':_0x256065[_0x324dfc(0xd63)],'answer':_0x256065[_0x324dfc(0xac3)],'answerText':_0x256065[_0x324dfc(0xbf8)],'isCorrect':_0x256065[_0x324dfc(0xa97)],'originalQuestionText':_0x256065[_0x324dfc(0x51f)],'wasConfident':_0x256065['wasConfident'],'powerupUsed':_0x256065['powerupUsed']||null}))},_0x2b5590=await getDoc(_0x987481),_0x73b0a3=_0x2b5590[_0x324dfc(0x5c5)]()?_0x2b5590[_0x324dfc(0x690)]():{},_0x3abab9=_0x73b0a3[_0x324dfc(0xb17)]||0x0,_0x4b7f43=_0x73b0a3['attempts']||[],_0x4f2327=_0x4b7f43[_0x324dfc(0xc03)]((_0x4a0ac2,_0x115f0f)=>Math[_0x324dfc(0x3d5)](_0x4a0ac2,_0x115f0f[_0x324dfc(0xba8)]||0x0),0x0),_0x49bac7={'studentName':_0x530d24[_0x324dfc(0x39f)],'totalQuestions':_0x2af8bd,'attempts':arrayUnion(_0x1fc6ba),'latestScore':_0x2e369c,'points':_0x2dba3b,'latestSubmittedAt':_0x1fc6ba[_0x324dfc(0x465)],'bestScore':Math[_0x324dfc(0x3d5)](_0x3abab9,_0x2e369c),'firstScore':_0x4b7f43[_0x324dfc(0xc8f)]===0x0?_0x2e369c:_0x73b0a3['firstScore']||0x0};_0x147a9d[_0x324dfc(0x4c6)](_0x987481,_0x49bac7,{'merge':!![]});}try{await _0x147a9d[_0x324dfc(0x783)](),showMessage(_0x324dfc(0x3bb)+_0xea1829['length']+_0x324dfc(0xa06));const _0x455a34=_0x474fa4[_0x324dfc(0x2b5)]?.[_0x324dfc(0x6ea)]||currentQuizData?.[_0x324dfc(0x6ea)]||currentProjectId;if(_0x455a34){const _0x4d95fc=[...new Set(_0xea1829[_0x324dfc(0xab8)](_0x1c5596=>_0x1c5596[_0x324dfc(0x39f)]))];for(const _0x59f5d1 of _0x4d95fc){await updateStudentProfile(_0x455a34,_0x59f5d1);}}}catch(_0x29e30f){console['error'](_0x324dfc(0x2c5),_0x29e30f),showMessage(_0x324dfc(0x5bb));}}async function saveQuiz(_0x199b0f=null,_0x3db98f=null){const _0x2d0e86=_0x1dbc7e,_0xf2594a=_0x199b0f||currentProjectId;if(!_0xf2594a){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x2d0e86(0x882)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x98f526=document[_0x2d0e86(0x722)](_0x2d0e86(0x230));_0x98f526[_0x2d0e86(0xce0)]=!![],_0x98f526['innerHTML']=_0x2d0e86(0x4d9);const _0x5db020=document[_0x2d0e86(0x722)](_0x2d0e86(0x32c))['checked'];let _0x3fed00=document[_0x2d0e86(0x722)](_0x2d0e86(0xed1))[_0x2d0e86(0xd43)]['trim']();_0x5db020&&!_0x3fed00['startsWith'](_0x2d0e86(0x981))&&(_0x3fed00=_0x2d0e86(0x426)+_0x3fed00);try{const _0x3eec2a={'resultsDisplay':document[_0x2d0e86(0x722)]('results-display-select')[_0x2d0e86(0xa46)],'shuffle':document[_0x2d0e86(0x722)](_0x2d0e86(0x750))[_0x2d0e86(0xa46)],'timerMode':document[_0x2d0e86(0x722)](_0x2d0e86(0xdd5))[_0x2d0e86(0xa46)],'timerDuration':parseInt(document[_0x2d0e86(0x722)](_0x2d0e86(0x38e))[_0x2d0e86(0xa46)])||0xa,'passingScore':parseInt(document[_0x2d0e86(0x722)](_0x2d0e86(0xbd7))[_0x2d0e86(0xa46)])||0x0,'isAdaptive':document['getElementById']('adaptive-quiz-checkbox')[_0x2d0e86(0x9cd)],'loopUntilPass':document[_0x2d0e86(0x722)]('loop-until-pass-checkbox')[_0x2d0e86(0x9cd)]},_0x5b1d73=(currentQuizData[_0x2d0e86(0x882)]||[])[_0x2d0e86(0xab8)]((_0x14e02d,_0x3c7198)=>{const _0x29189f=_0x2d0e86,_0x545a80=document[_0x29189f(0x722)](_0x29189f(0x77b))['value'],_0x1399c4={'id':'q_'+Date[_0x29189f(0x3e0)]()+'_'+_0x3c7198,'questionText':_0x14e02d[_0x29189f(0xe68)]||'','explanation':_0x14e02d[_0x29189f(0x6dd)]||'ไม่มีคำอธิบาย','questionType':_0x14e02d[_0x29189f(0xbd0)]||_0x545a80,'imageCode':_0x14e02d[_0x29189f(0x79d)]||null};return(_0x1399c4['questionType']===_0x29189f(0x6e6)||_0x1399c4[_0x29189f(0xbd0)]===_0x29189f(0x732)||_0x1399c4[_0x29189f(0xbd0)]===_0x29189f(0x372)&&_0x14e02d[_0x29189f(0x9d3)])&&(_0x1399c4[_0x29189f(0x9d3)]=_0x14e02d[_0x29189f(0x9d3)]||[],_0x1399c4[_0x29189f(0x7e1)]=_0x14e02d['correctAnswerIndex']!==undefined?_0x14e02d[_0x29189f(0x7e1)]:0x0),(_0x1399c4[_0x29189f(0xbd0)]===_0x29189f(0x432)||_0x1399c4[_0x29189f(0xbd0)]===_0x29189f(0xec9)||_0x1399c4[_0x29189f(0xbd0)]===_0x29189f(0x372)&&_0x14e02d[_0x29189f(0x5ca)])&&(_0x1399c4[_0x29189f(0x5ca)]=_0x14e02d[_0x29189f(0x5ca)]||''),_0x1399c4[_0x29189f(0xbd0)]===_0x29189f(0x3f7)&&(_0x1399c4['correctAnswer']=_0x14e02d['correctAnswer']===!![]),_0x1399c4[_0x29189f(0xbd0)]===_0x29189f(0xd24)&&(_0x1399c4[_0x29189f(0x869)]=_0x14e02d[_0x29189f(0x869)]||'',_0x1399c4['correctResponse']=_0x14e02d[_0x29189f(0xb40)]||'',_0x1399c4['allResponses']=_0x14e02d[_0x29189f(0xb68)]||[]),_0x1399c4;}),_0x4a3d47={'topic':_0x3fed00,'quizType':currentQuizData[_0x2d0e86(0x4f4)]||'multiple_choice','questions':_0x5b1d73,'projectId':_0xf2594a,'createdBy':userId,'createdAt':new Date()[_0x2d0e86(0x3fe)](),'status':'active','settings':_0x3eec2a,'quizMode':_0x5db020?_0x2d0e86(0xd5b):_0x2d0e86(0x96e),'pairedQuizId':null,'lessonPlan':null};let _0x17007d;while(!![]){_0x17007d=Math[_0x2d0e86(0x982)](0x3e8+Math[_0x2d0e86(0x92b)]()*0x2328)[_0x2d0e86(0x992)]();const _0x4169fc=await getDoc(doc(db,_0x2d0e86(0xd90)+appId+_0x2d0e86(0x806),_0x17007d));if(!_0x4169fc[_0x2d0e86(0x5c5)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x17007d),_0x4a3d47);if(_0x3db98f&&currentBlueprintProjectId){console[_0x2d0e86(0x545)](_0x2d0e86(0x622)+_0x17007d+_0x2d0e86(0x327)+_0x3db98f);try{const _0xb340da=doc(db,_0x2d0e86(0xd90)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0xb340da,{[_0x2d0e86(0xa38)+_0x3db98f+_0x2d0e86(0xbc4)]:arrayUnion(_0x17007d)});}catch(_0x1f1b71){console['error']('Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:',_0x1f1b71);}}currentQuizData[_0x2d0e86(0xa0a)]=_0x3eec2a,currentQuizData['id']=_0x17007d;const _0x36e2e1=document[_0x2d0e86(0x722)](_0x2d0e86(0x2d9));_0x36e2e1['innerHTML']=_0x2d0e86(0xbc1)+_0x17007d+_0x2d0e86(0x3d3),document[_0x2d0e86(0x722)](_0x2d0e86(0x5de))['addEventListener']('click',()=>copyTextToClipboard(_0x17007d,'คัดลอกรหัสแล้ว!')),document[_0x2d0e86(0x722)](_0x2d0e86(0x785))[_0x2d0e86(0x939)](_0x2d0e86(0xa25),()=>handleStartLiveRace(_0x17007d)),document[_0x2d0e86(0x722)]('start-presentation-btn')[_0x2d0e86(0x939)](_0x2d0e86(0xa25),()=>startPresentation(currentQuizData)),document[_0x2d0e86(0x722)](_0x2d0e86(0x20a))[_0x2d0e86(0x939)](_0x2d0e86(0xa25),startAdminTest),showMessage(_0x2d0e86(0xa10));}catch(_0x307f19){console[_0x2d0e86(0x300)](_0x2d0e86(0x83b),_0x307f19),showMessage(_0x2d0e86(0x6c6));}finally{_0x98f526[_0x2d0e86(0xce0)]=![],_0x98f526[_0x2d0e86(0x5dd)]=_0x2d0e86(0x614);}}function promptForProjectAndSave(){const _0x3dc647=_0x1dbc7e,_0x1123f3=document[_0x3dc647(0x722)](_0x3dc647(0x627)),_0x506f58=document[_0x3dc647(0x722)](_0x3dc647(0x63c)),_0x2efecf=_0x1123f3[_0x3dc647(0x390)]('h3'),_0xbe6b41=document[_0x3dc647(0x722)](_0x3dc647(0xa76));_0x2efecf[_0x3dc647(0x2eb)]=_0x3dc647(0x322),_0xbe6b41['textContent']='เลือกและบันทึก';allProjects['length']===0x0?(_0x506f58[_0x3dc647(0x5dd)]=_0x3dc647(0x355),_0xbe6b41['disabled']=!![]):(_0x506f58[_0x3dc647(0x5dd)]=allProjects['map'](_0x1efd66=>_0x3dc647(0x9de)+_0x1efd66['id']+'\x22>'+_0x1efd66[_0x3dc647(0x897)]+'</option>')['join'](''),_0xbe6b41[_0x3dc647(0xce0)]=![]);_0x1123f3['classList']['remove'](_0x3dc647(0x330));const _0xd794da=()=>{const _0x563823=_0x3dc647,_0x4b5611=_0x506f58['value'];_0x4b5611?(currentProjectId=_0x4b5611,_0x1123f3[_0x563823(0x820)]['add'](_0x563823(0x330)),saveQuiz(),_0x2efecf[_0x563823(0x2eb)]=_0x563823(0x60e),_0xbe6b41[_0x563823(0x2eb)]='ย้าย',_0xbe6b41['removeEventListener'](_0x563823(0xa25),_0xd794da),_0xbe6b41[_0x563823(0x939)](_0x563823(0xa25),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0xbe6b41[_0x3dc647(0xed4)](_0x3dc647(0xa25),confirmMoveQuiz),_0xbe6b41[_0x3dc647(0x939)](_0x3dc647(0xa25),_0xd794da);}function copyTextToClipboard(_0x4b3b1d,_0x529638){const _0x5daafa=_0x1dbc7e,_0x46ef73=document[_0x5daafa(0xb75)](_0x5daafa(0xc16));_0x46ef73[_0x5daafa(0xa46)]=_0x4b3b1d,_0x46ef73[_0x5daafa(0xa20)][_0x5daafa(0xb28)]=_0x5daafa(0x469),_0x46ef73[_0x5daafa(0xa20)]['opacity']='0',document[_0x5daafa(0xb46)][_0x5daafa(0x502)](_0x46ef73),_0x46ef73[_0x5daafa(0x9dd)](),_0x46ef73[_0x5daafa(0x40d)]();try{const _0x47d45a=document['execCommand'](_0x5daafa(0xe29));showMessage(_0x47d45a?_0x529638:_0x5daafa(0x807));}catch(_0x49bb18){showMessage('คัดลอกไม่สำเร็จ'),console[_0x5daafa(0x300)]('Copy\x20command\x20failed',_0x49bb18);}document[_0x5daafa(0xb46)][_0x5daafa(0xa79)](_0x46ef73);}function listenForProjectQuizzes(_0x4f722e){const _0xb06fd0=_0x1dbc7e,_0x18d956=collection(db,'artifacts/'+appId+_0xb06fd0(0x806)),_0x59e034=query(_0x18d956,where(_0xb06fd0(0x6ea),'==',_0x4f722e));unsubscribeQuizzesListener=onSnapshot(_0x59e034,async _0x8e9ff2=>{const _0x2332ac=_0xb06fd0;allQuizzes=_0x8e9ff2[_0x2332ac(0xd16)][_0x2332ac(0xab8)](_0x22ce5a=>({'id':_0x22ce5a['id'],..._0x22ce5a[_0x2332ac(0x690)]()})),renderQuizzes();},_0x38a2de=>{const _0x1c3a07=_0xb06fd0;console['error'](_0x1c3a07(0xdb4),_0x38a2de),document[_0x1c3a07(0x722)](_0x1c3a07(0x58a))[_0x1c3a07(0x5dd)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x47f691=_0x1dbc7e,_0x47dba4=document[_0x47f691(0x722)](_0x47f691(0x58a)),_0x28bcec=document[_0x47f691(0x722)](_0x47f691(0x603))['value'][_0x47f691(0x2f6)]();let _0x6d0bf4;currentProjectId===_0x47f691(0xa6d)?_0x6d0bf4=starredQuizzes:_0x6d0bf4=allQuizzes;let _0x5316b8=_0x6d0bf4[_0x47f691(0x6b9)](_0x5b4c59=>_0x5b4c59[_0x47f691(0x2d2)][_0x47f691(0x2f6)]()[_0x47f691(0x549)](_0x28bcec));_0x5316b8[_0x47f691(0x24d)]((_0xd4a818,_0x503320)=>new Date(_0x503320['createdAt'])-new Date(_0xd4a818['createdAt']));if(_0x5316b8['length']===0x0){_0x47dba4[_0x47f691(0x5dd)]=_0x47f691(0x98e);return;}const _0x504f6e={},_0x5dc5b8=_0x5316b8[_0x47f691(0xab8)](async _0x56f74b=>{const _0x1d4d69=_0x47f691,_0x323f32=collection(db,_0x1d4d69(0xd90)+appId+'/public/data/quizzes/'+_0x56f74b['id']+_0x1d4d69(0x353)),_0x3e5de4=await getDocs(_0x323f32);_0x504f6e[_0x56f74b['id']]=_0x3e5de4[_0x1d4d69(0xf04)];});await Promise[_0x47f691(0x829)](_0x5dc5b8);let _0xc1849='';_0x5316b8[_0x47f691(0xb04)](_0x3ffeea=>{const _0x55df20=_0x47f691,_0x304ec8=_0x504f6e[_0x3ffeea['id']]||0x0,_0x463e00=_0x3ffeea[_0x55df20(0x600)]||_0x55df20(0x44f),_0x2a5c9d=_0x3ffeea['settings']?.['timerMode']||_0x55df20(0x434);let _0x17404e='',_0x2de801='';const _0x3adbe5=new Date();let _0x32c597=_0x463e00;if(_0x463e00==='scheduled'){const _0x4e73a1=_0x3ffeea[_0x55df20(0x63e)]?new Date(_0x3ffeea['startTime']):null,_0x5ee300=_0x3ffeea[_0x55df20(0x8b6)]?new Date(_0x3ffeea['endTime']):null;if(_0x5ee300&&_0x3adbe5>_0x5ee300)_0x32c597='inactive';else _0x4e73a1&&_0x3adbe5<_0x4e73a1?_0x32c597=_0x55df20(0xc2c):_0x32c597='active';}switch(_0x32c597){case _0x55df20(0x7f6):_0x17404e='ปิดใช้งาน',_0x2de801='text-red-700\x20bg-red-100';break;case _0x55df20(0xc2c):_0x17404e=_0x55df20(0x562),_0x2de801=_0x55df20(0xa81);break;case _0x55df20(0x44f):_0x17404e=_0x2a5c9d!==_0x55df20(0x434)?'เปิด\x20(จับเวลา)':_0x55df20(0x4f6),_0x2de801=_0x55df20(0x2c7);break;default:_0x17404e=_0x55df20(0x6a4),_0x2de801=_0x55df20(0x2c7);break;}let _0x41607a='';const _0x525cd3={'day':_0x55df20(0x5a2),'month':_0x55df20(0x5a2),'year':_0x55df20(0x3c4),'hour':'2-digit','minute':_0x55df20(0x5a2),'hour12':![]};if(_0x463e00==='scheduled'){if(_0x3ffeea['startTime'])_0x41607a+=_0x55df20(0xab9)+new Date(_0x3ffeea[_0x55df20(0x63e)])[_0x55df20(0x8ad)](_0x55df20(0xa93),_0x525cd3)+_0x55df20(0x283);if(_0x3ffeea['endTime'])_0x41607a+=_0x55df20(0xdd8)+new Date(_0x3ffeea[_0x55df20(0x8b6)])[_0x55df20(0x8ad)]('th-TH',_0x525cd3)+_0x55df20(0x283);}let _0x2c8b65='';if(_0x3ffeea[_0x55df20(0x8a3)]){const _0x55cd06=allQuizzes[_0x55df20(0x36c)](_0x4cd0f9=>_0x4cd0f9['id']===_0x3ffeea[_0x55df20(0x8a3)]);if(_0x55cd06){let _0x124c34,_0x1f3978;new Date(_0x3ffeea[_0x55df20(0x71e)])<new Date(_0x55cd06[_0x55df20(0x71e)])?(_0x124c34=_0x3ffeea['id'],_0x1f3978=_0x55cd06['id']):(_0x124c34=_0x55cd06['id'],_0x1f3978=_0x3ffeea['id']),_0x2c8b65+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1f3978+_0x55df20(0x4fd)+_0x124c34+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x3ffeea[_0x55df20(0xae7)]==='pre-test'&&(_0x2c8b65+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ffeea['id']+_0x55df20(0x747));if(_0x3ffeea[_0x55df20(0xae7)]==='pre-test'&&_0x304ec8>0x0)_0x2c8b65+=_0x55df20(0xd71)+_0x3ffeea['id']+_0x55df20(0xba3);else!_0x3ffeea[_0x55df20(0x8a3)]&&_0x3ffeea[_0x55df20(0xae7)]!==_0x55df20(0xd5b)&&_0x304ec8>0x0&&(_0x2c8b65+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ffeea['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x1f1336='';_0x3ffeea[_0x55df20(0x8a3)]?_0x1f1336='<button\x20data-quiz-id=\x22'+_0x3ffeea['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x1f1336='<button\x20data-quiz-id=\x22'+_0x3ffeea['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0xc1849+=_0x55df20(0x27b)+_0x3ffeea['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x3ffeea[_0x55df20(0x2d2)]+_0x55df20(0x476)+_0x3ffeea[_0x55df20(0x882)][_0x55df20(0xc8f)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x3ffeea[_0x55df20(0x71e)])[_0x55df20(0x8ad)]('th-TH')+_0x55df20(0x333)+_0x304ec8+_0x55df20(0xd7a)+_0x41607a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x2de801+'\x22>'+_0x17404e+_0x55df20(0x613)+_0x3ffeea['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ffeea['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x3ffeea[_0x55df20(0x8d9)]?_0x55df20(0x356):_0x55df20(0x338))+_0x55df20(0xc3d)+_0x2c8b65+_0x55df20(0xcfd)+_0x3ffeea['id']+_0x55df20(0xc29)+_0x3ffeea['id']+_0x55df20(0x2ce)+_0x3ffeea['id']+_0x55df20(0x7b9)+_0x3ffeea['id']+_0x55df20(0xa63)+_0x3ffeea['id']+_0x55df20(0x8c7)+_0x3ffeea['id']+_0x55df20(0x3d2)+_0x3ffeea['id']+_0x55df20(0x4f0)+_0x3ffeea[_0x55df20(0x2d2)]+_0x55df20(0xd48)+_0x3ffeea['id']+_0x55df20(0xa2b)+_0x3ffeea['id']+_0x55df20(0xdc2)+_0x1f1336+_0x55df20(0x9b2)+_0x3ffeea['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ffeea['id']+_0x55df20(0x76e)+_0x3ffeea['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ffeea['id']+_0x55df20(0xdf1)+_0x3ffeea['id']+_0x55df20(0xc09)+_0x3ffeea['id']+_0x55df20(0x520)+_0x3ffeea['id']+_0x55df20(0x93d)+_0x3ffeea['id']+'\x22\x20data-topic=\x22'+_0x3ffeea[_0x55df20(0x2d2)]+_0x55df20(0xe97)+_0x3ffeea['id']+_0x55df20(0x7de);}),_0x47dba4[_0x47f691(0x5dd)]=_0xc1849,document[_0x47f691(0x2ff)](_0x47f691(0x7fd))[_0x47f691(0xb04)](_0x33ec3c=>{const _0x80f7a3=_0x47f691;_0x33ec3c[_0x80f7a3(0x939)](_0x80f7a3(0xa25),()=>{const _0xad861d=_0x80f7a3,_0x52db2b=_0x33ec3c[_0xad861d(0xa7e)][_0xad861d(0x7ff)];showQuizDetailView(_0x52db2b);});});}async function handleUnpairQuiz(_0x338361){const _0x315e1a=_0x1dbc7e,_0x283c01=allQuizzes[_0x315e1a(0x36c)](_0x49a063=>_0x49a063['id']===_0x338361);if(!_0x283c01||!_0x283c01[_0x315e1a(0x8a3)]){showMessage(_0x315e1a(0x865));return;}showConfirmation(_0x315e1a(0xce2),async()=>{const _0x3b2702=_0x315e1a;try{const _0x5aecaa=doc(db,_0x3b2702(0xd90)+appId+'/public/data/quizzes',_0x338361),_0x227635=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x283c01['pairedQuizId']),_0x520f99=writeBatch(db);_0x520f99['update'](_0x5aecaa,{'pairedQuizId':null}),_0x520f99[_0x3b2702(0x81a)](_0x227635,{'pairedQuizId':null}),await _0x520f99[_0x3b2702(0x783)](),showMessage(_0x3b2702(0x87e));}catch(_0x467f12){console[_0x3b2702(0x300)]('Error\x20unpairing\x20quizzes:',_0x467f12),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x44818d,_0x23f529){const _0xc8a47b=_0x1dbc7e,_0x5595ba=window['open']('',_0xc8a47b(0x708)),_0x106270=_0xc8a47b(0x5e1)+_0x23f529[_0xc8a47b(0x2d2)]+_0xc8a47b(0x9a8)+_0x23f529[_0xc8a47b(0x2d2)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44818d[_0xc8a47b(0x7a2)][_0xc8a47b(0xab8)](_0x161f20=>_0xc8a47b(0x7b5)+_0x161f20+_0xc8a47b(0x97a))['join']('')+_0xc8a47b(0x68e)+_0x44818d['teachingContent']+_0xc8a47b(0x248)+_0x44818d[_0xc8a47b(0x5f2)][_0xc8a47b(0xab8)](_0x4cfd28=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x4cfd28[_0xc8a47b(0x22f)]+_0xc8a47b(0x585)+_0x4cfd28['solution']+_0xc8a47b(0xdc7))['join']('')+_0xc8a47b(0x22e);_0x5595ba[_0xc8a47b(0x3bf)][_0xc8a47b(0xaa6)](_0x106270),_0x5595ba[_0xc8a47b(0x3bf)]['close'](),_0x5595ba[_0xc8a47b(0x263)]=function(){setTimeout(()=>{const _0x3b3a90=_0x320f;_0x5595ba[_0x3b3a90(0x453)]();},0x3e8);};}async function handleAiFixFormula(_0x419a7a){const _0x599ab8=_0x1dbc7e,_0x4ce734=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x419a7a+'\x22]');if(!_0x4ce734)return;const _0x448d99=_0x4ce734[_0x599ab8(0xa7e)][_0x599ab8(0x408)],_0x1d0155=_0x4ce734[_0x599ab8(0x390)](_0x599ab8(0xb9f));let _0x305109={'question':_0x4ce734[_0x599ab8(0x390)](_0x599ab8(0xc16))[_0x599ab8(0xa46)]};switch(_0x448d99){case _0x599ab8(0x6e6):_0x305109[_0x599ab8(0x9d3)]=Array['from'](_0x4ce734[_0x599ab8(0x2ff)](_0x599ab8(0x428)))[_0x599ab8(0xab8)](_0x355dc8=>_0x355dc8[_0x599ab8(0xa46)]);break;case _0x599ab8(0x432):_0x305109[_0x599ab8(0x5ca)]=_0x4ce734[_0x599ab8(0x390)](_0x599ab8(0xdab))['value'];break;case _0x599ab8(0xd24):_0x305109['correctResponse']=_0x4ce734[_0x599ab8(0x390)]('.correct-response-input')['value'];break;}_0x1d0155[_0x599ab8(0x5dd)]=_0x599ab8(0xefe),_0x1d0155['disabled']=!![];try{const _0x517918='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON['stringify'](_0x305109)+_0x599ab8(0x298),_0xbb1661={'type':_0x599ab8(0x552),'properties':{'fixedData':{'type':_0x599ab8(0x552),'properties':{'question':{'type':'STRING'},'options':{'type':_0x599ab8(0x9ba),'items':{'type':_0x599ab8(0xcdc)}},'idealAnswer':{'type':_0x599ab8(0xcdc)},'correctResponse':{'type':_0x599ab8(0xcdc)}},'required':['question']}},'required':[_0x599ab8(0xeec)]},_0x55a1fa=await callAnalysisApi(_0x517918,_0xbb1661);if(_0x55a1fa&&_0x55a1fa[_0x599ab8(0xeec)]){const _0x16f85a=_0x55a1fa[_0x599ab8(0xeec)];_0x4ce734[_0x599ab8(0x390)]('textarea')[_0x599ab8(0xa46)]=_0x16f85a[_0x599ab8(0x22f)]||_0x305109[_0x599ab8(0x22f)];switch(_0x448d99){case _0x599ab8(0x6e6):_0x16f85a['options']&&_0x16f85a[_0x599ab8(0x9d3)]['length']>0x0&&_0x4ce734[_0x599ab8(0x2ff)](_0x599ab8(0x428))[_0x599ab8(0xb04)]((_0x35e72f,_0xb10c3b)=>{const _0x29fcc0=_0x599ab8;_0x35e72f[_0x29fcc0(0xa46)]=_0x16f85a[_0x29fcc0(0x9d3)][_0xb10c3b]||_0x305109[_0x29fcc0(0x9d3)][_0xb10c3b];});break;case _0x599ab8(0x432):_0x4ce734['querySelector'](_0x599ab8(0xdab))[_0x599ab8(0xa46)]=_0x16f85a[_0x599ab8(0x5ca)]||_0x305109[_0x599ab8(0x5ca)];break;case _0x599ab8(0xd24):_0x4ce734[_0x599ab8(0x390)](_0x599ab8(0xa22))[_0x599ab8(0xa46)]=_0x16f85a[_0x599ab8(0xb40)]||_0x305109[_0x599ab8(0xb40)];break;}if(_0x305109[_0x599ab8(0x22f)]!==_0x16f85a['question'])try{const _0x1ee7a3=collection(db,_0x599ab8(0xd90)+appId+'/public/data/learnedFixes');await addDoc(_0x1ee7a3,{'broken':_0x305109[_0x599ab8(0x22f)],'fixed':_0x16f85a[_0x599ab8(0x22f)],'createdAt':serverTimestamp()});}catch(_0x498ef3){console[_0x599ab8(0x300)](_0x599ab8(0x4e4),_0x498ef3);}showMessage(_0x599ab8(0xb76));}else throw new Error(_0x599ab8(0xc58));}catch(_0x138b39){console[_0x599ab8(0x300)](_0x599ab8(0x5a5),_0x138b39),showMessage(_0x599ab8(0xd00));}finally{_0x1d0155[_0x599ab8(0x5dd)]=_0x599ab8(0x459),_0x1d0155[_0x599ab8(0xce0)]=![];}}async function handleGenerateLessonPlan(_0xc798af){const _0x2acb4b=_0x1dbc7e;showMessage(_0x2acb4b(0x941));try{const _0x731906=doc(db,_0x2acb4b(0xd90)+appId+_0x2acb4b(0x806),_0xc798af),_0x3f16da=await getDoc(_0x731906);if(!_0x3f16da[_0x2acb4b(0x5c5)]())throw new Error(_0x2acb4b(0xbd4));const _0xf6ea23={'id':_0xc798af,..._0x3f16da[_0x2acb4b(0x690)]()},_0x5660f5=collection(db,_0x2acb4b(0xd90)+appId+_0x2acb4b(0x806),_0xc798af,_0x2acb4b(0x687)),_0x4eaf20=await getDocs(_0x5660f5),_0x38fadb=_0x4eaf20[_0x2acb4b(0xd16)][_0x2acb4b(0xab8)](_0x3e2ccc=>_0x3e2ccc[_0x2acb4b(0x690)]());if(_0x38fadb[_0x2acb4b(0xc8f)]===0x0)throw new Error(_0x2acb4b(0xcc0));const _0x35a0b7=calculateItemAnalysis(_0xf6ea23,_0x38fadb)[_0x2acb4b(0xd79)],_0x385fc1=calculateDistractorAnalysis(_0xf6ea23,_0x38fadb),_0x66bc24=_0x43eafd=>{const _0x13c749=_0x2acb4b;if(!_0x43eafd)return'';return _0x43eafd[_0x13c749(0x84f)](/\\/g,'\x5c\x5c')[_0x13c749(0x84f)](/"/g,'\x5c\x22')[_0x13c749(0x84f)](/\n/g,'\x5cn');};let _0x2d7892='สรุปผลการวิเคราะห์:\x5cn';_0xf6ea23[_0x2acb4b(0x882)]['forEach']((_0xb257d7,_0x5d46b7)=>{const _0xaac96=_0x2acb4b,_0x54cb76=_0x35a0b7[_0x5d46b7]?.['p'][_0xaac96(0x8a8)](0x2)||_0xaac96(0xd08),_0x4f5870=_0x35a0b7[_0x5d46b7]?.['r'][_0xaac96(0x8a8)](0x2)||_0xaac96(0xd08),_0x34aecf=_0x66bc24(_0xb257d7[_0xaac96(0xe68)]||_0xb257d7[_0xaac96(0x869)]);_0x2d7892+=_0xaac96(0x524)+(_0x5d46b7+0x1)+_0xaac96(0xe67)+_0x54cb76+_0xaac96(0xcee)+_0x4f5870+_0xaac96(0x703)+_0x34aecf+'\x5cn';if(_0xb257d7[_0xaac96(0xbd0)]===_0xaac96(0x6e6)&&_0x385fc1[_0x5d46b7]){const _0x26b82a=_0x385fc1[_0x5d46b7],_0x4e2b1d=Object[_0xaac96(0x6e2)](_0x26b82a)[_0xaac96(0x6b9)](_0xe710bf=>parseInt(_0xe710bf)!==_0xb257d7[_0xaac96(0x7e1)])[_0xaac96(0x24d)]((_0xcdf793,_0x2a2225)=>_0x26b82a[_0x2a2225][_0xaac96(0x4c0)]-_0x26b82a[_0xcdf793][_0xaac96(0x4c0)])[0x0];if(_0x4e2b1d&&_0x26b82a[_0x4e2b1d][_0xaac96(0x4c0)]>0x0){const _0x554f1c=_0x66bc24(_0x26b82a[_0x4e2b1d][_0xaac96(0x27d)]);_0x2d7892+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x554f1c+_0xaac96(0x586);}}});const _0x30d1b2=_0x2acb4b(0x8fb)+_0xf6ea23[_0x2acb4b(0x2d2)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d7892+_0x2acb4b(0xe43),_0x544645={'type':_0x2acb4b(0x552),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':'STRING'}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x2acb4b(0x9ba),'items':{'type':_0x2acb4b(0x552),'properties':{'question':{'type':_0x2acb4b(0xcdc)},'solution':{'type':_0x2acb4b(0xcdc)}}}}},'required':[_0x2acb4b(0x7a2),_0x2acb4b(0x203),'practiceProblems']},_0x3b16ee=await callAnalysisApi(_0x30d1b2,_0x544645);await updateDoc(_0x731906,{'lessonPlan':_0x3b16ee});const _0x3970a7=_0x2acb4b(0x278)+_0xf6ea23['topic']+_0x2acb4b(0x928)+_0x3b16ee[_0x2acb4b(0x7a2)][_0x2acb4b(0xab8)](_0x56138d=>_0x2acb4b(0x7b5)+_0x56138d+_0x2acb4b(0x97a))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x3b16ee[_0x2acb4b(0x203)]+_0x2acb4b(0x59d)+_0x3b16ee[_0x2acb4b(0x5f2)][_0x2acb4b(0xab8)](_0x455852=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x455852[_0x2acb4b(0x22f)]+_0x2acb4b(0x987)+_0x455852[_0x2acb4b(0xedd)]+_0x2acb4b(0x4e0))[_0x2acb4b(0xbc8)]('')+_0x2acb4b(0x41f);document['getElementById']('lesson-plan-title')[_0x2acb4b(0x2eb)]='แผนการสอน:\x20'+_0xf6ea23[_0x2acb4b(0x2d2)],document[_0x2acb4b(0x722)](_0x2acb4b(0x3dc))['innerHTML']=_0x3970a7,document[_0x2acb4b(0x722)](_0x2acb4b(0xab7))[_0x2acb4b(0x820)][_0x2acb4b(0xda2)](_0x2acb4b(0x330));if(window['MathJax'])MathJax[_0x2acb4b(0x303)]();messageModal[_0x2acb4b(0x820)][_0x2acb4b(0xc24)]('hidden');}catch(_0x350304){console[_0x2acb4b(0x300)](_0x2acb4b(0x5f6),_0x350304),showMessage(_0x2acb4b(0xcac)+_0x350304[_0x2acb4b(0x83d)]);}}async function handleDuplicateQuiz(_0x44891b){const _0x568fd1=_0x1dbc7e;try{const _0x3ca756=doc(db,_0x568fd1(0xd90)+appId+_0x568fd1(0x806),_0x44891b),_0x5268e8=await getDoc(_0x3ca756);if(_0x5268e8[_0x568fd1(0x5c5)]()){const _0x321968=_0x5268e8[_0x568fd1(0x690)]();let _0x40da60='',_0x1084e8='standard',_0x40aea7=null;if(_0x321968['quizMode']===_0x568fd1(0xd5b)){let _0x330f41=_0x321968['topic'][_0x568fd1(0x84f)]('(ก่อนเรียน)','')[_0x568fd1(0xbe3)]();_0x40da60=_0x568fd1(0x763)+_0x330f41,_0x1084e8=_0x568fd1(0x4fe),_0x40aea7=_0x44891b;}else _0x40da60='(คัดลอก)\x20'+_0x321968[_0x568fd1(0x2d2)];const _0x3b4437={..._0x321968,'topic':_0x40da60,'createdAt':new Date()[_0x568fd1(0x3fe)](),'quizMode':_0x1084e8,'pairedQuizId':_0x40aea7};let _0x272e4e;while(!![]){_0x272e4e=Math[_0x568fd1(0x982)](0x3e8+Math[_0x568fd1(0x92b)]()*0x2328)[_0x568fd1(0x992)]();const _0x307b5e=await getDoc(doc(db,'artifacts/'+appId+_0x568fd1(0x806),_0x272e4e));if(!_0x307b5e['exists']())break;}const _0x19acbe=doc(db,_0x568fd1(0xd90)+appId+_0x568fd1(0x806),_0x272e4e);await setDoc(_0x19acbe,_0x3b4437),_0x3b4437[_0x568fd1(0xae7)]==='post-test'&&await updateDoc(_0x3ca756,{'pairedQuizId':_0x272e4e}),showMessage(_0x568fd1(0xe63));}else throw new Error(_0x568fd1(0x71b));}catch(_0x5d46b8){console[_0x568fd1(0x300)]('Error\x20duplicating\x20quiz:',_0x5d46b8),showMessage(_0x568fd1(0x88d));}}async function handleDeleteQuiz(_0x10b1c0,_0x435b1f=!![]){const _0x95a30e=_0x1dbc7e;try{const _0x1d2ba3=writeBatch(db),_0x4234a8=collection(db,_0x95a30e(0xd90)+appId+_0x95a30e(0xdb8)+_0x10b1c0+_0x95a30e(0x353)),_0xd8732e=await getDocs(_0x4234a8);_0xd8732e['forEach'](_0x4fbdf3=>{_0x1d2ba3['delete'](doc(_0x4234a8,_0x4fbdf3['id']));});const _0x15c5b5=doc(db,_0x95a30e(0xd90)+appId+_0x95a30e(0x806),_0x10b1c0);_0x1d2ba3[_0x95a30e(0xe1f)](_0x15c5b5),await _0x1d2ba3[_0x95a30e(0x783)]();try{console[_0x95a30e(0x545)](_0x95a30e(0x866)+_0x10b1c0+_0x95a30e(0x617));const _0x1fdd4b=collection(db,_0x95a30e(0xd90)+appId+_0x95a30e(0x5b8)),_0x13b393=await getDocs(_0x1fdd4b),_0xe2d2ab=[];_0x13b393[_0x95a30e(0xb04)](_0x1c3b8f=>{const _0x5f2e26=_0x95a30e,_0x153774=_0x1c3b8f[_0x5f2e26(0x690)](),_0x262af1=_0x153774['topics']||{};let _0x692ee5=![];for(const _0x293736 in _0x262af1){const _0x2fce6e=_0x262af1[_0x293736];if(_0x2fce6e[_0x5f2e26(0xc26)]&&_0x2fce6e[_0x5f2e26(0xc26)]['includes'](_0x10b1c0)){_0x692ee5=!![];const _0x183d19=doc(db,_0x5f2e26(0xd90)+appId+'/public/data/blueprintProjects',_0x1c3b8f['id']),_0x21e09f=updateDoc(_0x183d19,{['topics.'+_0x293736+_0x5f2e26(0xbc4)]:arrayRemove(_0x10b1c0)});_0xe2d2ab[_0x5f2e26(0xca1)](_0x21e09f);}}}),_0xe2d2ab[_0x95a30e(0xc8f)]>0x0&&(await Promise[_0x95a30e(0x829)](_0xe2d2ab),console[_0x95a30e(0x545)](_0x95a30e(0x3dd)+_0xe2d2ab[_0x95a30e(0xc8f)]+_0x95a30e(0x71c)+_0x10b1c0+'.'));}catch(_0x1342cc){console['error']('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x1342cc);}_0x435b1f&&showMessage(_0x95a30e(0x83a));}catch(_0x10d044){console['error'](_0x95a30e(0x51d),_0x10d044),_0x435b1f&&showMessage(_0x95a30e(0x638));}}async function showQuizDetailView(_0x49db4c){const _0x2265eb=_0x1dbc7e;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x2265eb(0x890));try{const _0x455ec1=doc(db,_0x2265eb(0xd90)+appId+_0x2265eb(0x806),_0x49db4c),_0x1190f6=await getDoc(_0x455ec1);if(!_0x1190f6[_0x2265eb(0x5c5)]()){showMessage(_0x2265eb(0xbd4));return;}const _0x1ecfb0={'id':_0x1190f6['id'],..._0x1190f6['data']()};currentQuizData=_0x1ecfb0;const _0x5aef23=doc(db,_0x2265eb(0xd90)+appId+'/public/data/projects',_0x1ecfb0[_0x2265eb(0x6ea)]),_0x5122c6=await getDoc(_0x5aef23);_0x5122c6[_0x2265eb(0x5c5)]()?(currentProjectData=_0x5122c6['data'](),currentProjectId=_0x1ecfb0[_0x2265eb(0x6ea)]):(currentProjectData={'students':[]},currentProjectId=_0x1ecfb0[_0x2265eb(0x6ea)]);document[_0x2265eb(0x722)]('results-quiz-title')['textContent']=_0x1ecfb0[_0x2265eb(0x2d2)],document[_0x2265eb(0x722)]('results-quiz-id-display')['textContent']=_0x49db4c;const _0x483f75=collection(db,_0x2265eb(0xd90)+appId+'/public/data/quizzes',_0x49db4c,_0x2265eb(0x687));unsubscribeSubmissionsListener=onSnapshot(_0x483f75,_0x9c1f1d=>{const _0x4fe65e=_0x2265eb,_0x172435=_0x9c1f1d['docs'][_0x4fe65e(0xab8)](_0x11d66a=>({'id':_0x11d66a['id'],..._0x11d66a[_0x4fe65e(0x690)]()}));currentSubmissions=_0x172435;const _0x95e986=_0x172435[_0x4fe65e(0x6b9)](_0x604c91=>_0x604c91['attempts']&&_0x604c91['attempts'][_0x4fe65e(0xc8f)]>0x0);renderBehaviorLog(_0x172435),renderAnswerGrid(currentProjectData[_0x4fe65e(0xda0)],_0x95e986,_0x1ecfb0),renderAnalytics(_0x1ecfb0,_0x95e986),renderQuizResultsTable(currentProjectData[_0x4fe65e(0xda0)],_0x172435,_0x1ecfb0),renderQuizLeaderboard(_0x95e986,_0x1ecfb0,_0x4fe65e(0xa95));}),showView('quiz-results');}catch(_0x207fa6){console['error'](_0x2265eb(0x498),_0x207fa6),showMessage(_0x2265eb(0x8e8));}}function renderAnswerGrid(_0x356114,_0x636234,_0x876241){const _0x3ed64f=_0x1dbc7e,_0x2c845e=document[_0x3ed64f(0x722)](_0x3ed64f(0xb2b));if(!_0x2c845e)return;if(!_0x356114||_0x356114[_0x3ed64f(0xc8f)]===0x0){_0x2c845e[_0x3ed64f(0x5dd)]=_0x3ed64f(0xa80);return;}const _0x83ac38=_0x876241[_0x3ed64f(0x882)],_0xad9cfa=_0x636234['reduce']((_0x703313,_0x4f41ce)=>{const _0x5c6ef4=_0x3ed64f;return _0x703313[_0x4f41ce[_0x5c6ef4(0x589)]]=_0x4f41ce,_0x703313;},{}),_0x5061e4=_0x2a4fc7=>String[_0x3ed64f(0x78e)](0x41+_0x2a4fc7),_0x14374d=_0x42e4e2=>{const _0x52bd99=_0x3ed64f,_0x5a35a0=_0x42e4e2['questionType']||_0x876241[_0x52bd99(0x4f4)];switch(_0x5a35a0){case'multiple_choice':return _0x42e4e2[_0x52bd99(0x9d3)]&&_0x42e4e2[_0x52bd99(0x9d3)]['length']>_0x42e4e2['correctAnswerIndex']?_0x5061e4(_0x42e4e2[_0x52bd99(0x7e1)]):'-';case _0x52bd99(0x3f7):const _0x2b34c0=_0x42e4e2[_0x52bd99(0x72b)]===!![]||String(_0x42e4e2['correctAnswer'])['toLowerCase']()===_0x52bd99(0x761);return _0x2b34c0?_0x52bd99(0xed8):_0x52bd99(0xa8b);case _0x52bd99(0xd24):return _0x42e4e2[_0x52bd99(0xb40)]||'-';case _0x52bd99(0x432):return _0x52bd99(0x2a7);default:return'-';}},_0x206b64=(_0x14879e,_0x400fe1)=>{const _0x59524f=_0x3ed64f;if(_0x400fe1['answer']===null||_0x400fe1[_0x59524f(0xac3)]===undefined)return'-';const _0x31ada4=_0x14879e['questionType']||_0x876241['quizType'];switch(_0x31ada4){case _0x59524f(0x6e6):const _0xd81e09=_0x14879e[_0x59524f(0x9d3)][_0x59524f(0x242)](_0x33e532=>_0x33e532===_0x400fe1[_0x59524f(0xbf8)]);return _0xd81e09!==-0x1?_0x5061e4(_0xd81e09):_0x400fe1[_0x59524f(0xbf8)]||'-';case _0x59524f(0x3f7):if(_0x400fe1[_0x59524f(0xac3)]=='0'||_0x400fe1[_0x59524f(0xac3)]===!![]||_0x400fe1[_0x59524f(0xac3)]===_0x59524f(0x761))return _0x59524f(0xed8);return _0x59524f(0xa8b);default:return _0x400fe1[_0x59524f(0xac3)];}};let _0x3eecab=_0x3ed64f(0xa1a)+_0x83ac38[_0x3ed64f(0xab8)]((_0x34fe82,_0x40bb22)=>_0x3ed64f(0x8d5)+(_0x40bb22+0x1)+'</th>')[_0x3ed64f(0xbc8)]('')+_0x3ed64f(0x54a)+_0x83ac38[_0x3ed64f(0xab8)](_0xe52355=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x14374d(_0xe52355)+'</td>')['join']('')+_0x3ed64f(0xd93);_0x356114[_0x3ed64f(0xb04)](_0x47970e=>{const _0x257585=_0x3ed64f;_0x3eecab+=_0x257585(0x8d1),_0x3eecab+=_0x257585(0xd57)+_0x47970e+_0x257585(0x82a);const _0x57b399=_0xad9cfa[_0x47970e];if(_0x57b399){const _0x5e95ba=_0x57b399['attempts'][_0x57b399[_0x257585(0x764)][_0x257585(0xc8f)]-0x1];_0x83ac38[_0x257585(0xb04)]((_0x397bb5,_0x41ed21)=>{const _0x4f9266=_0x257585,_0x5d3774=_0x5e95ba[_0x4f9266(0x9e0)]['find'](_0x1ab68b=>_0x1ab68b[_0x4f9266(0xd63)]===_0x397bb5['id']);if(_0x5d3774){let _0x1e74d9='';const _0x32edc4=_0x5d3774['isCorrect']===!![],_0x2d29a8=_0x5d3774['wasConfident']===!![]||_0x5d3774['wasConfident']===_0x4f9266(0x620),_0x1b8857=_0x5d3774[_0x4f9266(0x99c)];if(_0x1b8857===_0x4f9266(0xd25))_0x32edc4?_0x1e74d9=_0x4f9266(0x84a):_0x1e74d9=_0x4f9266(0x48b);else _0x2d29a8?_0x1e74d9=_0x32edc4?'bg-green-400\x20text-white\x20font-bold':'bg-red-500\x20text-white\x20font-bold':_0x1e74d9=_0x32edc4?_0x4f9266(0x25e):_0x4f9266(0x5fe);_0x3eecab+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x1e74d9+'\x22>'+_0x206b64(_0x397bb5,_0x5d3774)+_0x4f9266(0x82a);}else _0x3eecab+=_0x4f9266(0x2d3);});}else _0x3eecab+=_0x83ac38[_0x257585(0xab8)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x257585(0xbc8)]('');_0x3eecab+=_0x257585(0xef9);}),_0x3eecab+=_0x3ed64f(0x256),_0x2c845e[_0x3ed64f(0x5dd)]=_0x3eecab;}function renderQuizResultsTable(_0x124c9,_0x3d204a,_0xeecc90){const _0x20adb9=_0x1dbc7e,_0x4daa77=_0x3d204a['reduce']((_0x3be24a,_0x5c94d9)=>{const _0x4d54ca=_0x320f;return _0x3be24a[_0x5c94d9[_0x4d54ca(0x589)]]=_0x5c94d9,_0x3be24a;},{}),_0x4ca6a7=document[_0x20adb9(0x390)]('#results-table\x20thead\x20tr');_0x4ca6a7&&!_0x4ca6a7[_0x20adb9(0x5dd)][_0x20adb9(0x549)](_0x20adb9(0x7c7))&&(_0x4ca6a7[_0x20adb9(0x5dd)]+=_0x20adb9(0xbad));const _0x5999b6=document[_0x20adb9(0x722)](_0x20adb9(0xb16));if(!_0x124c9||_0x124c9['length']===0x0){_0x5999b6[_0x20adb9(0x5dd)]=_0x20adb9(0x66d);return;}const _0x274172=_0xeecc90[_0x20adb9(0xe4f)]===!![],_0x3e0f67=_0xeecc90['settings']?.['passingScore']??-0x1;let _0x56d15c='';_0x124c9['forEach'](_0x443afe=>{const _0x2c3e3b=_0x20adb9,_0x183a2e=_0x4daa77[_0x443afe];let _0x1c0089=_0x2c3e3b(0xa30)+(_0x274172?'bg-amber-100\x20text-amber-800':_0x2c3e3b(0x95f))+'\x22>'+(_0x274172?_0x2c3e3b(0xb89):_0x2c3e3b(0xed6))+_0x2c3e3b(0x6a7);if(_0x183a2e){if(_0x183a2e[_0x2c3e3b(0x764)]&&_0x183a2e[_0x2c3e3b(0x764)]['length']>0x0){let _0x3674cc=_0x274172?_0x183a2e[_0x2c3e3b(0xb17)]===_0x183a2e['totalQuestions']:_0x3e0f67!==-0x1&&_0x183a2e[_0x2c3e3b(0xb17)]>=_0x3e0f67;const _0x210f34=_0x3674cc?_0x2c3e3b(0x25e):_0x2c3e3b(0x5fe),_0x4e755a=_0x3674cc?_0x2c3e3b(0x223):'ไม่ผ่าน',_0x5a4c8c='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x210f34+'\x22>'+_0x4e755a+_0x2c3e3b(0x6a7),_0x6dd028=_0x2c3e3b(0x65c)+(_0x183a2e['attempts']?.[_0x2c3e3b(0xc8f)]||0x1)+'\x20ครั้ง)</span></td>';_0x56d15c+=_0x2c3e3b(0x6d6)+_0x443afe+_0x2c3e3b(0x2f3)+_0x183a2e['bestScore']+'\x20/\x20'+_0x183a2e['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a4c8c+_0x2c3e3b(0x63b)+_0x1c0089+_0x2c3e3b(0xdfb)+_0x183a2e[_0x2c3e3b(0x72a)]+_0x2c3e3b(0x4df)+_0x183a2e[_0x2c3e3b(0x3c8)]+_0x2c3e3b(0x514)+_0x183a2e[_0x2c3e3b(0x41e)]+'\x20/\x20'+_0x183a2e['totalQuestions']+_0x2c3e3b(0x295)+(_0x183a2e[_0x2c3e3b(0xba8)]||0x0)+_0x2c3e3b(0x659)+_0x6dd028+_0x2c3e3b(0x2a1)+new Date(_0x183a2e[_0x2c3e3b(0x542)])[_0x2c3e3b(0x8ad)](_0x2c3e3b(0xa93))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x443afe+_0x2c3e3b(0x5db);}else{const _0x164e96=_0x2c3e3b(0xe46);_0x56d15c+=_0x2c3e3b(0xaae)+_0x443afe+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c0089+_0x2c3e3b(0x30e)+_0x164e96+_0x2c3e3b(0x2a1)+new Date(_0x183a2e['startedAt'])[_0x2c3e3b(0x8ad)](_0x2c3e3b(0xa93))+_0x2c3e3b(0xc57)+_0x443afe+_0x2c3e3b(0x5db);}}else{const _0x5c0238=_0x2c3e3b(0x581);_0x56d15c+=_0x2c3e3b(0x2b8)+_0x443afe+_0x2c3e3b(0x676)+_0x1c0089+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c0238+_0x2c3e3b(0xecf);}}),_0x5999b6['innerHTML']=_0x56d15c;}async function confirmRenameQuiz(){const _0x4e7cf9=_0x1dbc7e,_0x4ec615=document['getElementById'](_0x4e7cf9(0xa66))['value'][_0x4e7cf9(0xbe3)]();if(!_0x4ec615){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x5cddfa=doc(db,_0x4e7cf9(0xd90)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x5cddfa,{'topic':_0x4ec615}),showMessage(_0x4e7cf9(0x35b)),renameQuizModal['classList']['add'](_0x4e7cf9(0x330)),actionTargetId=null;}catch(_0x306fe5){console[_0x4e7cf9(0x300)](_0x4e7cf9(0x449),_0x306fe5),showMessage(_0x4e7cf9(0xd31));}}async function handleMoveQuiz(_0x581ae5){const _0x6bdfaa=_0x1dbc7e;actionTargetId=_0x581ae5;const _0x34c29f=document[_0x6bdfaa(0x722)](_0x6bdfaa(0x63c));_0x34c29f[_0x6bdfaa(0x5dd)]=_0x6bdfaa(0xc53),moveQuizModal['classList'][_0x6bdfaa(0xda2)]('hidden');try{const _0x424605=collection(db,_0x6bdfaa(0xd90)+appId+_0x6bdfaa(0xb97)),_0x34bbed=await getDocs(_0x424605),_0x1b6b30=_0x34bbed[_0x6bdfaa(0xd16)][_0x6bdfaa(0xab8)](_0x2d8d34=>({'id':_0x2d8d34['id'],..._0x2d8d34[_0x6bdfaa(0x690)]()})),_0x57d39=_0x1b6b30[_0x6bdfaa(0x6b9)](_0x1bbb7f=>_0x1bbb7f['id']!==currentProjectId);if(_0x57d39[_0x6bdfaa(0xc8f)]===0x0){_0x34c29f['innerHTML']=_0x6bdfaa(0xc0a),document[_0x6bdfaa(0x722)](_0x6bdfaa(0xa76))[_0x6bdfaa(0xce0)]=!![];return;}_0x34c29f[_0x6bdfaa(0x5dd)]=_0x57d39[_0x6bdfaa(0xab8)](_0x50a328=>_0x6bdfaa(0x9de)+_0x50a328['id']+'\x22>'+_0x50a328[_0x6bdfaa(0x897)]+'</option>')[_0x6bdfaa(0xbc8)](''),document[_0x6bdfaa(0x722)](_0x6bdfaa(0xa76))[_0x6bdfaa(0xce0)]=![];}catch(_0x42fa21){console[_0x6bdfaa(0x300)]('Error\x20fetching\x20projects\x20for\x20move:',_0x42fa21),showMessage(_0x6bdfaa(0xc4c)),moveQuizModal[_0x6bdfaa(0x820)][_0x6bdfaa(0xc24)](_0x6bdfaa(0x330));}}async function confirmMoveQuiz(){const _0x52109e=_0x1dbc7e,_0x14b933=document[_0x52109e(0x722)]('move-quiz-project-select')[_0x52109e(0xa46)];if(!_0x14b933){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x457c0e=doc(db,_0x52109e(0xd90)+appId+_0x52109e(0x806),actionTargetId);try{await updateDoc(_0x457c0e,{'projectId':_0x14b933}),showMessage(_0x52109e(0x266)),moveQuizModal[_0x52109e(0x820)][_0x52109e(0xc24)](_0x52109e(0x330)),actionTargetId=null;}catch(_0x320c48){console[_0x52109e(0x300)](_0x52109e(0xcae),_0x320c48),showMessage(_0x52109e(0x827));}}async function handleQuizSettings(_0x375ead){const _0x1d3717=_0x1dbc7e;actionTargetId=_0x375ead;const _0x4cfe32=doc(db,'artifacts/'+appId+_0x1d3717(0x806),_0x375ead);try{const _0x28f4aa=await getDoc(_0x4cfe32);if(_0x28f4aa['exists']()){const _0x13d56b=_0x28f4aa[_0x1d3717(0x690)](),_0x19c791=_0x13d56b[_0x1d3717(0xa0a)]||{},_0x46fdf6=_0x13d56b[_0x1d3717(0x882)][_0x1d3717(0xc8f)];document[_0x1d3717(0x722)](_0x1d3717(0xded))[_0x1d3717(0xa46)]=_0x19c791[_0x1d3717(0x462)]||_0x1d3717(0x434),document['getElementById'](_0x1d3717(0xda1))['value']=_0x19c791[_0x1d3717(0x525)]||_0x1d3717(0x446),document['getElementById']('modal-timer-mode-select')[_0x1d3717(0xa46)]=_0x19c791['timerMode']||_0x1d3717(0x434),document['getElementById'](_0x1d3717(0x56a))[_0x1d3717(0xa46)]=_0x19c791['timerDuration']||0xa,document[_0x1d3717(0x722)](_0x1d3717(0xb74))[_0x1d3717(0xa46)]=_0x19c791[_0x1d3717(0x3e8)]||Math[_0x1d3717(0x982)](_0x46fdf6/0x2),document['getElementById']('modal-passing-score-input')[_0x1d3717(0x3d5)]=_0x46fdf6,document[_0x1d3717(0x722)](_0x1d3717(0x247))[_0x1d3717(0x9cd)]=_0x19c791[_0x1d3717(0x6f6)]||![],document[_0x1d3717(0x722)]('modal-loop-until-pass-checkbox')[_0x1d3717(0x9cd)]=_0x19c791[_0x1d3717(0xa50)]||![];const _0x361e9f=_0x19c791[_0x1d3717(0x4a0)]||![];document[_0x1d3717(0x722)](_0x1d3717(0xe16))[_0x1d3717(0x9cd)]=_0x361e9f,document[_0x1d3717(0x722)](_0x1d3717(0xd8c))[_0x1d3717(0xa46)]=_0x19c791[_0x1d3717(0x2e9)]||_0x1d3717(0xefa);const _0x38c287=document[_0x1d3717(0x722)](_0x1d3717(0x65e));_0x38c287[_0x1d3717(0x820)][_0x1d3717(0x9b0)]('hidden',!_0x361e9f),document['getElementById'](_0x1d3717(0xec2))[_0x1d3717(0x458)](new Event('change')),quizSettingsModal[_0x1d3717(0x820)][_0x1d3717(0xda2)](_0x1d3717(0x330));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x5d063b){console[_0x1d3717(0x300)](_0x1d3717(0x5fb),_0x5d063b),showMessage(_0x1d3717(0xdbf));}}async function confirmQuizSettings(){const _0x27ad13=_0x1dbc7e;if(!actionTargetId)return;const _0x1fbaa1=doc(db,_0x27ad13(0xd90)+appId+_0x27ad13(0x806),actionTargetId),_0x249e92={'shuffle':document[_0x27ad13(0x722)](_0x27ad13(0xded))[_0x27ad13(0xa46)],'resultsDisplay':document['getElementById'](_0x27ad13(0xda1))[_0x27ad13(0xa46)],'timerMode':document[_0x27ad13(0x722)](_0x27ad13(0xec2))[_0x27ad13(0xa46)],'timerDuration':parseInt(document['getElementById'](_0x27ad13(0x56a))[_0x27ad13(0xa46)])||0xa,'passingScore':parseInt(document[_0x27ad13(0x722)]('modal-passing-score-input')[_0x27ad13(0xa46)])||0x0,'isAdaptive':document[_0x27ad13(0x722)]('modal-adaptive-quiz-checkbox')[_0x27ad13(0x9cd)],'loopUntilPass':document[_0x27ad13(0x722)]('modal-loop-until-pass-checkbox')['checked'],'isConfidenceScoringEnabled':document[_0x27ad13(0x722)](_0x27ad13(0xe16))[_0x27ad13(0x9cd)],'confidenceMode':document[_0x27ad13(0x722)](_0x27ad13(0xd8c))[_0x27ad13(0xa46)]};try{await updateDoc(_0x1fbaa1,{'settings':_0x249e92}),showMessage(_0x27ad13(0xd3c)),quizSettingsModal[_0x27ad13(0x820)]['add'](_0x27ad13(0x330)),actionTargetId=null;}catch(_0x4c8eb8){console['error'](_0x27ad13(0x45d),_0x4c8eb8),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x240911=_0x1dbc7e;if(!actionTargetId)return;const _0x14f82f=doc(db,_0x240911(0xd90)+appId+_0x240911(0x806),actionTargetId),_0x55b4f5=document['querySelector']('input[name=\x22status-option\x22]:checked');if(!_0x55b4f5){showMessage('กรุณาเลือกสถานะ');return;}const _0x36fa75=_0x55b4f5['value'];let _0x5a9fd3={};if(_0x36fa75===_0x240911(0x44f)||_0x36fa75===_0x240911(0x7f6))_0x5a9fd3={'status':_0x36fa75,'startTime':null,'endTime':null};else{if(_0x36fa75===_0x240911(0xa67)){const _0x498856=document[_0x240911(0x722)](_0x240911(0x972))[_0x240911(0xa46)],_0x11217b=document['getElementById']('quiz-end-time')[_0x240911(0xa46)];if(!_0x498856&&!_0x11217b){showMessage(_0x240911(0xa55));return;}_0x5a9fd3={'status':_0x240911(0x48a),'startTime':_0x498856?new Date(_0x498856)[_0x240911(0x3fe)]():null,'endTime':_0x11217b?new Date(_0x11217b)['toISOString']():null};}}try{await updateDoc(_0x14f82f,_0x5a9fd3),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x240911(0x820)][_0x240911(0xc24)]('hidden'),actionTargetId=null;}catch(_0x39b1a4){console[_0x240911(0x300)](_0x240911(0x70f),_0x39b1a4),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x1cf5d6){const _0x394205=_0x1dbc7e,_0x15ec7b=collection(db,_0x394205(0xd90)+appId+_0x394205(0x880)+_0x1cf5d6+_0x394205(0xa02));unsubscribeStudentProfilesListener=onSnapshot(_0x15ec7b,_0x432c64=>{const _0x43a038=_0x394205,_0x6815fa=_0x432c64[_0x43a038(0xd16)]['map'](_0x2a4a91=>_0x2a4a91['data']());renderLeaderboard(_0x6815fa,'leaderboard-table-body');},_0x52ff6b=>{const _0x17323d=_0x394205;console['error'](_0x17323d(0xc6d),_0x52ff6b),document[_0x17323d(0x722)](_0x17323d(0xc67))[_0x17323d(0x5dd)]=_0x17323d(0x346);});}function renderLeaderboard(_0x128719,_0x977655){const _0x1e1fb5=_0x1dbc7e,_0x3c0126=document[_0x1e1fb5(0x722)](_0x977655);if(!_0x128719||_0x128719[_0x1e1fb5(0xc8f)]===0x0){_0x3c0126[_0x1e1fb5(0x5dd)]=_0x1e1fb5(0x814);return;}_0x128719[_0x1e1fb5(0x24d)]((_0x3dbd34,_0x5355c0)=>{const _0xabf0ff=_0x1e1fb5,_0x57400e=(_0x5355c0[_0xabf0ff(0xe54)]||0x0)-(_0x3dbd34[_0xabf0ff(0xe54)]||0x0);if(_0x57400e!==0x0)return _0x57400e;const _0x1818cf=(_0x5355c0[_0xabf0ff(0xcf6)]?.['specialist']||0x0)-(_0x3dbd34['badgesCount']?.[_0xabf0ff(0x95a)]||0x0);if(_0x1818cf!==0x0)return _0x1818cf;const _0x20e56f=(_0x5355c0[_0xabf0ff(0xcf6)]?.[_0xabf0ff(0xd26)]||0x0)-(_0x3dbd34[_0xabf0ff(0xcf6)]?.[_0xabf0ff(0xd26)]||0x0);if(_0x20e56f!==0x0)return _0x20e56f;const _0x47b698=(_0x5355c0[_0xabf0ff(0xcf6)]?.['perfect_score']||0x0)-(_0x3dbd34['badgesCount']?.[_0xabf0ff(0x36d)]||0x0);if(_0x47b698!==0x0)return _0x47b698;const _0x15df9c=(_0x5355c0['badgesCount']?.[_0xabf0ff(0xc2e)]||0x0)-(_0x3dbd34['badgesCount']?.[_0xabf0ff(0xc2e)]||0x0);if(_0x15df9c!==0x0)return _0x15df9c;return _0x3dbd34[_0xabf0ff(0x589)]['localeCompare'](_0x5355c0[_0xabf0ff(0x589)],'th');});let _0x17c209='';_0x128719['forEach']((_0x4372b8,_0x303755)=>{const _0x28e3b7=_0x1e1fb5,_0x1513ae=_0x303755+0x1,_0x6e530b=_0x4372b8[_0x28e3b7(0xcf6)]||{};let _0x2cd4b0='';const _0x159842=['specialist',_0x28e3b7(0x36d),_0x28e3b7(0xd26),_0x28e3b7(0xc2e)];_0x159842[_0x28e3b7(0xb04)](_0x2acb71=>{const _0x119f1c=_0x28e3b7;if(_0x6e530b[_0x2acb71]>0x0){const _0x2683de=Object[_0x119f1c(0x368)](BADGES)[_0x119f1c(0x36c)](_0x254bd0=>_0x254bd0['id']===_0x2acb71);_0x2683de&&(_0x2acb71==='specialist'?_0x2cd4b0+=_0x119f1c(0x1f8)+_0x2683de[_0x119f1c(0x39f)]+_0x119f1c(0xe08)+_0x2683de[_0x119f1c(0xab1)]+_0x119f1c(0x64c):_0x2cd4b0+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x2683de[_0x119f1c(0x39f)]+'\x20('+_0x6e530b[_0x2acb71]+_0x119f1c(0xeca)+_0x2683de['icon']+_0x119f1c(0x249)+_0x6e530b[_0x2acb71]+_0x119f1c(0x42d));}}),_0x17c209+=_0x28e3b7(0x4c4)+_0x1513ae+_0x28e3b7(0x83c)+_0x4372b8[_0x28e3b7(0x589)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x4372b8['totalPoints']||0x0)+_0x28e3b7(0x83c)+(_0x2cd4b0||'-')+_0x28e3b7(0xb5f);}),_0x3c0126[_0x1e1fb5(0x5dd)]=_0x17c209;}function displayLoopScreen(_0x4be18c,_0x2207c3,_0x1120cb){const _0x28c989=_0x1dbc7e;let _0x164868='';_0x1120cb!=='show_pass_fail_only'&&(_0x164868='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x4be18c+_0x28c989(0x4df)+_0x2207c3+'</strong></p>');const _0x575fb8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x164868+_0x28c989(0x91f);studentResultArea[_0x28c989(0x5dd)]=_0x575fb8,studentResultArea['classList']['remove']('hidden'),studentQuizArea['classList'][_0x28c989(0xc24)](_0x28c989(0x330)),document[_0x28c989(0x722)](_0x28c989(0x3e2))['addEventListener'](_0x28c989(0xa25),()=>{const _0x537ffd=_0x28c989;studentResultArea[_0x537ffd(0x820)]['add'](_0x537ffd(0x330)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x22bec7,_0x224cd6,_0x4fa79b){const _0x13b5c0=_0x1dbc7e,_0x2d6e5f=document[_0x13b5c0(0x722)](_0x4fa79b),_0x2a8710=_0x4fa79b===_0x13b5c0(0xd55),_0x229f68=_0x224cd6['questions']['length'],_0x323db9=document[_0x13b5c0(0x722)](_0x4fa79b)[_0x13b5c0(0xecd)](_0x13b5c0(0x778));if(_0x323db9&&!_0x2a8710){const _0x193fd3=_0x323db9['querySelector'](_0x13b5c0(0xe4e));_0x193fd3[_0x13b5c0(0x5dd)]=_0x13b5c0(0x3e7);}if(!_0x22bec7||_0x22bec7[_0x13b5c0(0xc8f)]===0x0){_0x2d6e5f[_0x13b5c0(0x5dd)]='<tr><td\x20colspan=\x22'+(_0x2a8710?0x6:0x8)+_0x13b5c0(0xd72);return;}const _0x5c0691=[..._0x22bec7];_0x5c0691['sort']((_0x3a2f2f,_0x2759ed)=>{const _0x186016=_0x13b5c0;let _0x4d802f,_0x1d11dd;switch(quizLeaderboardSortBy){case'studentName':_0x4d802f=_0x3a2f2f[_0x186016(0x589)]||'',_0x1d11dd=_0x2759ed[_0x186016(0x589)]||'';return quizLeaderboardSortOrder===_0x186016(0xac6)?_0x4d802f[_0x186016(0x81f)](_0x1d11dd,'th'):_0x1d11dd[_0x186016(0x81f)](_0x4d802f,'th');case _0x186016(0xba8):_0x4d802f=_0x3a2f2f[_0x186016(0xba8)]||0x0,_0x1d11dd=_0x2759ed[_0x186016(0xba8)]||0x0;break;case _0x186016(0x764):_0x4d802f=_0x3a2f2f[_0x186016(0x764)]?.[_0x186016(0xc8f)]||0x1,_0x1d11dd=_0x2759ed[_0x186016(0x764)]?.[_0x186016(0xc8f)]||0x1;break;case'latestSubmittedAt':_0x4d802f=new Date(_0x3a2f2f['latestSubmittedAt']),_0x1d11dd=new Date(_0x2759ed['latestSubmittedAt']);break;case _0x186016(0xb17):default:_0x4d802f=_0x3a2f2f[_0x186016(0xb17)],_0x1d11dd=_0x2759ed[_0x186016(0xb17)];break;}if(_0x4d802f<_0x1d11dd)return quizLeaderboardSortOrder===_0x186016(0xac6)?-0x1:0x1;if(_0x4d802f>_0x1d11dd)return quizLeaderboardSortOrder===_0x186016(0xac6)?0x1:-0x1;return 0x0;});const _0x5d0aa9=_0x224cd6[_0x13b5c0(0xe4f)]===!![],_0x55842f=_0x224cd6['settings']?.[_0x13b5c0(0x3e8)]??-0x1;let _0x40176b='';_0x5c0691[_0x13b5c0(0xb04)]((_0x4ef5d6,_0x2a9593)=>{const _0x431101=_0x13b5c0,_0x447f38=_0x2a9593+0x1;let _0x3ba95c=_0x431101(0x951);if(_0x5d0aa9||_0x55842f!==-0x1){let _0x46d5d4=_0x5d0aa9?_0x4ef5d6['bestScore']===_0x229f68:_0x4ef5d6[_0x431101(0xb17)]>=_0x55842f;const _0x35e086=_0x46d5d4?'bg-green-100\x20text-green-800':_0x431101(0x5fe),_0x3e8ec8=_0x46d5d4?_0x431101(0x223):_0x431101(0x5b7);_0x3ba95c='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x35e086+'\x22>'+_0x3e8ec8+_0x431101(0x6a7);}const _0x34f4de=_0x4ef5d6[_0x431101(0x764)][_0x4ef5d6['attempts']['length']-0x1],_0x5ab55c=(_0x34f4de[_0x431101(0xce3)]||[])[_0x431101(0xab8)](_0x1a1cdf=>{const _0x115d87=_0x431101,_0x594453=Object[_0x115d87(0x368)](BADGES)['find'](_0x594f58=>_0x594f58['id']===_0x1a1cdf);return _0x594453?'<span\x20title=\x22'+_0x594453[_0x115d87(0x39f)]+'\x22><i\x20class=\x22fas\x20'+_0x594453[_0x115d87(0xab1)]+_0x115d87(0x942):'';})['join']('');_0x40176b+=_0x431101(0x834)+_0x447f38+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x4ef5d6[_0x431101(0x589)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x4ef5d6[_0x431101(0xb17)]+_0x431101(0x4df)+_0x229f68+_0x431101(0xe3e)+_0x3ba95c+_0x431101(0x23c)+(_0x4ef5d6['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2a8710?'':_0x431101(0xa84)+(_0x4ef5d6[_0x431101(0x764)]?.[_0x431101(0xc8f)]||0x1)+_0x431101(0x82a))+_0x431101(0x250)+(_0x2a8710?'':_0x431101(0x72f)+new Date(_0x4ef5d6[_0x431101(0x542)])[_0x431101(0x8ad)](_0x431101(0xa93))+_0x431101(0x82a))+_0x431101(0x511)+(_0x5ab55c||'-')+_0x431101(0xc64);}),_0x2d6e5f[_0x13b5c0(0x5dd)]=_0x40176b,_0x323db9&&!_0x2a8710&&_0x323db9[_0x13b5c0(0x2ff)](_0x13b5c0(0xd0d))[_0x13b5c0(0xb04)](_0xa0f8d0=>{const _0x569a21=_0x13b5c0,_0x484ceb=_0xa0f8d0[_0x569a21(0x390)](_0x569a21(0x2fc));if(_0x484ceb)_0x484ceb[_0x569a21(0xda2)]();_0xa0f8d0[_0x569a21(0xa7e)]['sort']===quizLeaderboardSortBy&&(_0xa0f8d0[_0x569a21(0x5dd)]+=_0x569a21(0x461)+(quizLeaderboardSortOrder===_0x569a21(0xac6)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x4a5db0){const _0x3d6319=_0x1dbc7e;if(!currentQuizData||!currentQuizData['id']||!_0x4a5db0){showMessage(_0x3d6319(0xa13));return;}showConfirmation(_0x3d6319(0x7c0)+_0x4a5db0+_0x3d6319(0x664),async()=>{const _0x7237ec=_0x3d6319,_0x4cc9b2=currentQuizData['id'],_0x41b24b=doc(db,_0x7237ec(0xd90)+appId+_0x7237ec(0xdb8)+_0x4cc9b2+_0x7237ec(0x353),_0x4a5db0);try{await deleteDoc(_0x41b24b),showMessage(_0x7237ec(0x9fa)+_0x4a5db0+_0x7237ec(0xef5));}catch(_0x154806){console['error'](_0x7237ec(0xa60),_0x154806),showMessage(_0x7237ec(0x91a));}});}async function handleLoadQuiz(){const _0x1bf7fa=_0x1dbc7e,_0x25cc8e=document[_0x1bf7fa(0x722)](_0x1bf7fa(0x332)),_0x3e8b10=_0x25cc8e[_0x1bf7fa(0xa46)][_0x1bf7fa(0xbe3)]();if(!_0x3e8b10){showMessage(_0x1bf7fa(0x359));return;}loadQuizBtn[_0x1bf7fa(0xce0)]=!![],loadQuizBtn[_0x1bf7fa(0x5dd)]=_0x1bf7fa(0x9d8);try{const _0x539eba=doc(db,'artifacts/'+appId+_0x1bf7fa(0x806),_0x3e8b10),_0x3ba149=await getDoc(_0x539eba);if(!_0x3ba149[_0x1bf7fa(0x5c5)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x3ba149['id'],..._0x3ba149['data']()};const _0xb7774b=currentQuizData[_0x1bf7fa(0x600)]||'active',_0x156d3f=new Date();if(_0xb7774b==='inactive'){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0xb7774b==='scheduled'){const _0x4d08fc=currentQuizData[_0x1bf7fa(0x63e)]?new Date(currentQuizData[_0x1bf7fa(0x63e)]):null,_0x538787=currentQuizData[_0x1bf7fa(0x8b6)]?new Date(currentQuizData['endTime']):null;if(_0x4d08fc&&_0x156d3f<_0x4d08fc){showMessage(_0x1bf7fa(0x78d)+_0x4d08fc[_0x1bf7fa(0x8ad)](_0x1bf7fa(0xa93),{'hour12':![]}));return;}if(_0x538787&&_0x156d3f>_0x538787){showMessage(_0x1bf7fa(0x952));return;}}const _0x18a061=currentQuizData[_0x1bf7fa(0x6ea)];currentProjectId=_0x18a061;const _0x273fac=doc(db,_0x1bf7fa(0xd90)+appId+_0x1bf7fa(0xb97),_0x18a061),_0x40c24b=await getDoc(_0x273fac);if(!_0x40c24b['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x28dbd3=_0x40c24b['data']();currentStudentProjectData=_0x28dbd3,displayStudentNameSelector(_0x28dbd3[_0x1bf7fa(0xda0)],currentQuizData[_0x1bf7fa(0x2d2)]);}catch(_0x5b96a7){console['error'](_0x1bf7fa(0x832),_0x5b96a7),showMessage(_0x1bf7fa(0xa3a));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x1bf7fa(0x5dd)]=_0x1bf7fa(0x98c);}}async function handleJoinLiveGame(){const _0x49fed8=_0x1dbc7e,_0x5f038d=document[_0x49fed8(0x722)](_0x49fed8(0xdf5)),_0xc85710=document[_0x49fed8(0x722)](_0x49fed8(0x406)),_0x18b98d=document['getElementById'](_0x49fed8(0x2c3)),_0x6685a2=_0x5f038d[_0x49fed8(0xa46)]['trim'](),_0x4c04d7=_0xc85710[_0x49fed8(0xa46)][_0x49fed8(0xbe3)]();if(!_0x6685a2||!_0x4c04d7){showMessage(_0x49fed8(0x4d4));return;}_0x18b98d[_0x49fed8(0xce0)]=!![],_0x18b98d['innerHTML']=_0x49fed8(0xe8b);try{const _0x295230=collection(db,_0x49fed8(0xd90)+appId+'/public/data/liveGames'),_0x326207=query(_0x295230,where('gamePin','==',_0x6685a2),where(_0x49fed8(0x600),'in',[_0x49fed8(0xcc9),_0x49fed8(0x22f)])),_0x26ee65=await getDocs(_0x326207);if(_0x26ee65[_0x49fed8(0x553)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x418d18=_0x26ee65['docs'][0x0],_0x28ee77=_0x418d18['data']();currentLiveGameId=_0x418d18['id'];const _0x41b160=_0x28ee77['quizId'],_0x3c135b=doc(db,_0x49fed8(0xd90)+appId+_0x49fed8(0x806),_0x41b160),_0x5da828=await getDoc(_0x3c135b);if(!_0x5da828[_0x49fed8(0x5c5)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x5da828['id'],..._0x5da828[_0x49fed8(0x690)]()};if(_0x28ee77[_0x49fed8(0x8d6)]&&_0x28ee77['players'][_0x4c04d7]){const _0x1faf06=_0x28ee77[_0x49fed8(0x8d6)][_0x4c04d7];if(_0x1faf06[_0x49fed8(0x600)]===_0x49fed8(0x7f6)){_0x18b98d['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x1cc6c5={};_0x1cc6c5[_0x49fed8(0x8f4)+_0x4c04d7+_0x49fed8(0xe04)]=_0x49fed8(0x44f),await updateDoc(doc(db,'artifacts/'+appId+_0x49fed8(0xb80),currentLiveGameId),_0x1cc6c5),showView(_0x49fed8(0xc2b)),currentStudentName=_0x4c04d7,listenForLiveGameUpdates();return;}else{showMessage(_0x49fed8(0xc80));return;}}if(_0x28ee77[_0x49fed8(0x600)]!==_0x49fed8(0xcc9)){showMessage(_0x49fed8(0xaa5));return;}_0x18b98d[_0x49fed8(0x5dd)]=_0x49fed8(0x9c3);const _0x1c9d29={};_0x1c9d29[_0x49fed8(0x8f4)+_0x4c04d7]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x49fed8(0xd90)+appId+_0x49fed8(0xb80),currentLiveGameId),_0x1c9d29),currentStudentName=_0x4c04d7,listenForLiveGameUpdates();}catch(_0x4d048a){console[_0x49fed8(0x300)](_0x49fed8(0xc70),_0x4d048a),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x18b98d[_0x49fed8(0xce0)]=![],_0x18b98d[_0x49fed8(0x5dd)]=_0x49fed8(0x73d);}}function displayStudentNameSelector(_0x3e05df,_0x32fa6c){const _0x44607b=_0x1dbc7e,_0x2abd6b=document[_0x44607b(0x722)](_0x44607b(0x35e));document[_0x44607b(0x722)](_0x44607b(0xee2))[_0x44607b(0x2eb)]=_0x44607b(0x3a8)+_0x32fa6c,!_0x3e05df||_0x3e05df[_0x44607b(0xc8f)]===0x0?(_0x2abd6b[_0x44607b(0x5dd)]=_0x44607b(0x35d),startQuizBtn[_0x44607b(0xce0)]=!![]):(_0x2abd6b[_0x44607b(0x5dd)]=_0x44607b(0x468),_0x3e05df[_0x44607b(0xb04)](_0x23b5d9=>{const _0x3d072d=_0x44607b,_0x728d35=document['createElement'](_0x3d072d(0x436));_0x728d35[_0x3d072d(0xa46)]=_0x23b5d9,_0x728d35[_0x3d072d(0x2eb)]=_0x23b5d9,_0x2abd6b[_0x3d072d(0x502)](_0x728d35);}),startQuizBtn['disabled']=![]),studentInitialView[_0x44607b(0x820)][_0x44607b(0xc24)](_0x44607b(0x330)),studentNameSelectionView['classList'][_0x44607b(0xda2)](_0x44607b(0x330));}function shuffleArray(_0x20568e){const _0x3e9aca=_0x1dbc7e;for(let _0x353fbd=_0x20568e['length']-0x1;_0x353fbd>0x0;_0x353fbd--){const _0x142782=Math['floor'](Math[_0x3e9aca(0x92b)]()*(_0x353fbd+0x1));[_0x20568e[_0x353fbd],_0x20568e[_0x142782]]=[_0x20568e[_0x142782],_0x20568e[_0x353fbd]];}}function getShuffledQuiz(_0x5c2f4f){const _0x15e366=_0x1dbc7e;let _0x29a34f=JSON[_0x15e366(0x684)](JSON[_0x15e366(0xa70)](_0x5c2f4f));const _0x336f85=_0x29a34f[_0x15e366(0xa0a)]?.[_0x15e366(0x462)]||_0x15e366(0x434);if(_0x336f85===_0x15e366(0x434))return _0x29a34f;return(_0x336f85===_0x15e366(0x31c)||_0x336f85==='both')&&shuffleArray(_0x29a34f['questions']),(_0x336f85===_0x15e366(0xdac)||_0x336f85===_0x15e366(0xc74))&&_0x29a34f[_0x15e366(0x882)][_0x15e366(0xb04)](_0x459216=>{const _0x1f4297=_0x15e366,_0x42a62b=_0x459216[_0x1f4297(0xbd0)]||_0x29a34f['quizType'];if(_0x459216[_0x1f4297(0x9d3)]){let _0x3916aa=_0x459216[_0x1f4297(0x9d3)]['map']((_0x244019,_0x183bc3)=>({'text':_0x244019,'isCorrect':_0x183bc3===_0x459216['correctAnswerIndex']}));shuffleArray(_0x3916aa),_0x459216['options']=_0x3916aa['map'](_0x262ad2=>_0x262ad2['text']),_0x459216['correctAnswerIndex']=_0x3916aa[_0x1f4297(0x242)](_0x3fbe41=>_0x3fbe41[_0x1f4297(0xa97)]);}_0x42a62b===_0x1f4297(0xd24)&&_0x459216[_0x1f4297(0xb68)]&&shuffleArray(_0x459216[_0x1f4297(0xb68)]);}),_0x29a34f;}function displayQuizForStudent(_0x189a5c){const _0x2dfd74=_0x1dbc7e;studentQuizArea[_0x2dfd74(0x820)][_0x2dfd74(0xda2)](_0x2dfd74(0x330)),currentDisplayedQuiz=getShuffledQuiz(_0x189a5c);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2dfd74(0x939)](_0x2dfd74(0xab4),handleFullscreenChange),document['addEventListener'](_0x2dfd74(0x872),handleVisibilityChange),enterFullscreen(),window[_0x2dfd74(0x939)](_0x2dfd74(0x4c8),resetDimTimer),window[_0x2dfd74(0x939)]('mousedown',resetDimTimer),window[_0x2dfd74(0x939)](_0x2dfd74(0x753),resetDimTimer),window[_0x2dfd74(0x939)](_0x2dfd74(0x9e5),resetDimTimer),resetDimTimer());const _0x4efbd2=currentDisplayedQuiz[_0x2dfd74(0xa0a)]?.['timerMode']||_0x2dfd74(0x434);if(_0x4efbd2===_0x2dfd74(0x36f))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2dfd74(0xa0a)][_0x2dfd74(0x73b)]);else _0x4efbd2===_0x2dfd74(0x8ae)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x2eb0c0=_0x1dbc7e,_0x28b170=currentDisplayedQuiz['settings']?.[_0x2eb0c0(0x4a0)]===!![],_0x5773e8=currentDisplayedQuiz[_0x2eb0c0(0xa0a)]?.[_0x2eb0c0(0x2e9)]||_0x2eb0c0(0xefa);let _0x41836f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x2eb0c0(0x2d2)]+_0x2eb0c0(0xbb3)+(currentMode===_0x2eb0c0(0x9d0)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x2eb0c0(0x610);currentDisplayedQuiz[_0x2eb0c0(0x882)][_0x2eb0c0(0xb04)]((_0x9f784c,_0x471fa6)=>{const _0x42121f=_0x2eb0c0,_0x18ab58=_0x9f784c[_0x42121f(0xbd0)]||currentDisplayedQuiz[_0x42121f(0x4f4)];_0x41836f+=_0x42121f(0x38d);if(_0x18ab58===_0x42121f(0xd24)){}else _0x41836f+='<p>'+(_0x471fa6+0x1)+'.\x20'+(_0x9f784c[_0x42121f(0xebb)]||_0x9f784c['questionText'])+'</p>',_0x9f784c[_0x42121f(0x79d)]&&(_0x41836f+=_0x42121f(0x73e)+_0x9f784c['imageCode']+_0x42121f(0x607));_0x41836f+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x18ab58){case _0x42121f(0x432):_0x41836f+=_0x42121f(0x2f0)+_0x471fa6+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x42121f(0x3f7):_0x41836f+=_0x42121f(0xcd6)+_0x471fa6+'_opt0\x22\x20name=\x22question'+_0x471fa6+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x471fa6+_0x42121f(0xb9b),_0x41836f+=_0x42121f(0xcd6)+_0x471fa6+_0x42121f(0xe66)+_0x471fa6+_0x42121f(0x7bc)+_0x471fa6+_0x42121f(0x361);break;case _0x42121f(0xd24):_0x41836f+=_0x42121f(0x53e)+_0x9f784c[_0x42121f(0x869)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x471fa6+_0x42121f(0xca6)+_0x9f784c['allResponses']['map'](_0x1f9d40=>'<option\x20value=\x22'+_0x1f9d40+'\x22>'+_0x1f9d40+_0x42121f(0xa4f))[_0x42121f(0xbc8)]('')+_0x42121f(0xe7d);break;default:_0x41836f+=_0x9f784c['options']['map']((_0x5bed9f,_0x313218)=>_0x42121f(0xe53)+_0x471fa6+_0x42121f(0x5a4)+_0x313218+_0x42121f(0xeff)+_0x471fa6+'\x22\x20value=\x22'+_0x313218+_0x42121f(0x310)+_0x471fa6+_0x42121f(0x5a4)+_0x313218+'\x22>'+_0x5bed9f+_0x42121f(0x92d))[_0x42121f(0xbc8)]('');break;}_0x41836f+='</div>',_0x28b170&&(_0x41836f+=_0x42121f(0x276),_0x5773e8===_0x42121f(0xac2)?_0x41836f+=_0x42121f(0x2d5)+_0x471fa6+'\x22\x20name=\x22confidence'+_0x471fa6+_0x42121f(0x32e)+_0x471fa6+_0x42121f(0x97f)+_0x471fa6+_0x42121f(0x856):_0x41836f+=_0x42121f(0x584)+_0x471fa6+_0x42121f(0x650)+_0x471fa6+_0x42121f(0x8c5)+_0x471fa6+_0x42121f(0x629),_0x41836f+='</div>'),_0x41836f+=_0x42121f(0x607);}),_0x41836f+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x41836f+='</form>',studentQuizArea[_0x2eb0c0(0x5dd)]=_0x41836f;if(currentMode===_0x2eb0c0(0x9d0)){const _0x130d94=document[_0x2eb0c0(0x722)](_0x2eb0c0(0x9ff));if(_0x130d94)_0x130d94[_0x2eb0c0(0x939)]('click',cancelAdminTest);}const _0x357ef1=document[_0x2eb0c0(0x722)](_0x2eb0c0(0x2d8));_0x357ef1&&(_0x357ef1[_0x2eb0c0(0x939)](_0x2eb0c0(0x89e),handleSubmitQuiz),_0x357ef1['addEventListener'](_0x2eb0c0(0xa25),_0xb45508=>{const _0x2f0809=_0x2eb0c0;if(_0xb45508[_0x2f0809(0xa4c)][_0x2f0809(0x820)][_0x2f0809(0x381)](_0x2f0809(0xd8b))){const _0x1f5cfc=_0xb45508['target'],_0x288f9a=_0x1f5cfc[_0x2f0809(0xa7e)][_0x2f0809(0x78a)],_0x3486b0=_0x1f5cfc[_0x2f0809(0xa7e)][_0x2f0809(0xa46)];document[_0x2f0809(0x722)]('confidence-input-'+_0x288f9a)[_0x2f0809(0xa46)]=_0x3486b0;const _0x3c0582=_0x1f5cfc[_0x2f0809(0x2d1)];_0x3c0582[_0x2f0809(0x2ff)](_0x2f0809(0x9f8))[_0x2f0809(0xb04)](_0xdb4b15=>_0xdb4b15[_0x2f0809(0x820)][_0x2f0809(0xda2)](_0x2f0809(0x44f))),_0x1f5cfc[_0x2f0809(0x820)][_0x2f0809(0xc24)](_0x2f0809(0x44f));}}));if(window[_0x2eb0c0(0xa8c)])window['MathJax'][_0x2eb0c0(0x303)]([studentQuizArea]);}async function handleSubmitQuiz(_0x1e31ac){const _0x2231de=_0x1dbc7e;if(_0x1e31ac)_0x1e31ac[_0x2231de(0x726)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x1a7056=document[_0x2231de(0x722)](_0x2231de(0x2d8));if(!_0x1a7056)return;const _0x4cc73a=currentDisplayedQuiz[_0x2231de(0xa0a)]?.['isConfidenceScoringEnabled']===!![],_0x5cb3fd=currentDisplayedQuiz[_0x2231de(0xa0a)]?.[_0x2231de(0x2e9)]||_0x2231de(0xefa);if(_0x4cc73a&&_0x5cb3fd===_0x2231de(0xac2)){let _0x5ab109=!![];for(let _0x656727=0x0;_0x656727<currentDisplayedQuiz[_0x2231de(0x882)][_0x2231de(0xc8f)];_0x656727++){const _0x5ec77c=_0x1a7056[_0x2231de(0x390)](_0x2231de(0xa42)+_0x656727);if(!_0x5ec77c||_0x5ec77c[_0x2231de(0xa46)]===''){_0x5ab109=![];break;}}if(!_0x5ab109){showMessage(_0x2231de(0x565));return;}}const _0x53e902=_0x1a7056[_0x2231de(0x390)](_0x2231de(0x4c7)),_0x19ba6d=currentDisplayedQuiz[_0x2231de(0x882)]['some'](_0x12efac=>_0x12efac[_0x2231de(0xbd0)]==='short_answer');_0x53e902&&(_0x53e902['disabled']=!![],_0x53e902[_0x2231de(0x5dd)]=_0x19ba6d?_0x2231de(0x958):_0x2231de(0x63d));const _0x51b51=new FormData(_0x1a7056),_0x812356=currentDisplayedQuiz[_0x2231de(0x882)][_0x2231de(0xab8)]((_0xd8d3bf,_0xff518f)=>{const _0x3a6ce8=_0x2231de,_0x537cc8=_0x51b51[_0x3a6ce8(0x7d6)](_0x3a6ce8(0x22f)+_0xff518f);let _0xcd0610;_0x5cb3fd===_0x3a6ce8(0xac2)?_0xcd0610=_0x51b51['get'](_0x3a6ce8(0x483)+_0xff518f):_0xcd0610=_0x51b51[_0x3a6ce8(0x7d6)]('confidence'+_0xff518f)==='on';let _0x58ba15=null;if(_0x537cc8!==null&&_0x537cc8!==undefined){const _0x504e32=_0xd8d3bf[_0x3a6ce8(0xbd0)]||currentDisplayedQuiz['quizType'];_0x504e32==='multiple_choice'||_0x504e32==='fill_in_the_blank'?_0x58ba15=parseInt(_0x537cc8):_0x58ba15=_0x537cc8;}return{'answer':_0x58ba15,'wasConfident':_0xcd0610};}),_0x3a388b=currentQuizData['id'],_0x2ba013=doc(db,_0x2231de(0xd90)+appId+'/public/data/quizzes/'+_0x3a388b+_0x2231de(0x353),currentStudentName),_0x4af32b=await getDoc(_0x2ba013),_0x345330=_0x4af32b[_0x2231de(0x5c5)]()?_0x4af32b[_0x2231de(0x690)]():{},_0x17a003=_0x345330[_0x2231de(0x764)]||[];await processAndSubmitAnswers(_0x812356,_0x17a003);}async function gradeShortAnswerWithAI(_0x7e980f,_0x277504){const _0x51e47c=_0x1dbc7e;if(!_0x7e980f||!_0x277504)return![];try{const _0x5769c4=_0x51e47c(0xc27)+_0x7e980f+_0x51e47c(0x400)+_0x277504+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x1f09fe={'contents':[{'role':_0x51e47c(0xb48),'parts':[{'text':_0x5769c4}]}]},_0x347816='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0xbb23bd='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x347816,_0x4629ee=await fetch(_0xbb23bd,{'method':_0x51e47c(0x80f),'headers':{'Content-Type':_0x51e47c(0xbae)},'body':JSON[_0x51e47c(0xa70)](_0x1f09fe)});if(!_0x4629ee['ok'])throw new Error(_0x51e47c(0x33e));const _0x13baac=await _0x4629ee['json'](),_0x354cef=_0x13baac[_0x51e47c(0xd2a)][0x0]['content'][_0x51e47c(0x662)][0x0][_0x51e47c(0x27d)][_0x51e47c(0xbe3)]()[_0x51e47c(0x2f6)]();return _0x354cef===_0x51e47c(0x761);}catch(_0x8c4c14){return console[_0x51e47c(0x300)]('AI\x20grading\x20failed:',_0x8c4c14),![];}}async function processAndSubmitAnswers(_0x150d2b,_0x24473a){const _0x2a3722=_0x1dbc7e;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x2a3722(0xed4)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x2a3722(0x872),handleVisibilityChange);let _0x1e5129=0x0;const _0x251871=[],_0x17d5a2=currentDisplayedQuiz['questions'][_0x2a3722(0xc8f)];let _0xeaab8e=0x0,_0x554028=[];const _0x394146=currentDisplayedQuiz[_0x2a3722(0x882)];for(let _0x13d784=0x0;_0x13d784<_0x394146[_0x2a3722(0xc8f)];_0x13d784++){const _0x34f979=_0x394146[_0x13d784],_0x59357d=_0x150d2b[_0x13d784],_0x3af568=_0x59357d?_0x59357d[_0x2a3722(0xac3)]:null,_0x535fe5=_0x59357d?_0x59357d[_0x2a3722(0x2db)]:null;let _0x2ee998=![],_0x26ad12=0x0;if(_0x3af568!==null&&_0x3af568!==''){const _0x955b22=_0x34f979[_0x2a3722(0xbd0)]||currentDisplayedQuiz[_0x2a3722(0x4f4)];switch(_0x955b22){case _0x2a3722(0xd24):_0x2ee998=_0x3af568===_0x34f979[_0x2a3722(0xb40)];break;case _0x2a3722(0x3f7):const _0x25e68f=_0x3af568===!![]||_0x3af568===_0x2a3722(0x761);_0x2ee998=_0x25e68f===_0x34f979[_0x2a3722(0x72b)];break;case _0x2a3722(0x432):_0x2ee998=await gradeShortAnswer(_0x3af568,_0x34f979);break;case _0x2a3722(0x6e6):default:_0x2ee998=Number(_0x3af568)===_0x34f979['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x2a3722(0xa0a)]?.[_0x2a3722(0x4a0)]){const _0x5e8184=_0x59357d?_0x59357d[_0x2a3722(0x2db)]:null;if(_0x2ee998&&(_0x5e8184===!![]||_0x5e8184===_0x2a3722(0x620)))_0x26ad12=0x2;else{if(_0x2ee998)_0x26ad12=0x1;else{if(!_0x2ee998&&(_0x5e8184===![]||_0x5e8184===_0x2a3722(0x4ec)||_0x5e8184===null))_0x26ad12=0x0;else!_0x2ee998&&(_0x5e8184===!![]||_0x5e8184===_0x2a3722(0x620))&&(_0x26ad12=-0x1);}}}else _0x26ad12=_0x2ee998?0x1:0x0;_0x1e5129+=_0x26ad12;if(_0x2ee998){_0xeaab8e++;if(_0xeaab8e===0x3)_0x554028['push'](BADGES[_0x2a3722(0x4b7)]['id']);}else _0xeaab8e=0x0;let _0x4dfcd6=null;_0x34f979[_0x2a3722(0x9d3)]&&_0x3af568!==null&&(_0x4dfcd6=_0x34f979['options'][_0x3af568]),_0x251871[_0x2a3722(0xca1)]({'questionId':_0x34f979['id'],'answer':_0x3af568,'answerText':_0x4dfcd6,'isCorrect':_0x2ee998,'wasConfident':_0x535fe5,'pointsAwarded':_0x26ad12,'originalQuestionText':_0x34f979['stem']||_0x34f979[_0x2a3722(0xe68)]});}const _0x4bc132=_0x251871[_0x2a3722(0x6b9)](_0x2e1978=>_0x2e1978[_0x2a3722(0xa97)])[_0x2a3722(0xc8f)],_0x353a2a=currentDisplayedQuiz[_0x2a3722(0xa0a)]?.[_0x2a3722(0x3e8)]??Math[_0x2a3722(0x982)](_0x17d5a2/0x2);_0x4bc132===_0x17d5a2&&_0x17d5a2>0x0&&!currentDisplayedQuiz[_0x2a3722(0xe4f)]&&_0x554028['push'](BADGES[_0x2a3722(0x76c)]['id']);const _0x24aa23=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x24aa23===_0x2a3722(0x36f)&&quizStartTime){const _0x32d6c7=(new Date()-quizStartTime)/0x3e8,_0x1186f7=currentDisplayedQuiz['settings'][_0x2a3722(0x73b)]*0x3c;_0x4bc132>=_0x353a2a&&_0x32d6c7<_0x1186f7/0x2&&_0x554028[_0x2a3722(0xca1)](BADGES[_0x2a3722(0xb66)]['id']);}_0x24473a[_0x2a3722(0xc8f)]===0x0&&_0x4bc132===_0x17d5a2&&_0x17d5a2>0x0&&_0x554028['push'](BADGES[_0x2a3722(0x25d)]['id']);if(_0x24473a['length']>0x0){const _0x4182ac=_0x24473a[0x0][_0x2a3722(0x7ee)];if(_0x4182ac<_0x353a2a&&_0x4bc132>=_0x353a2a){const _0x3f8b4c=_0x24473a['some'](_0xc9b37f=>(_0xc9b37f['badges']||[])[_0x2a3722(0x549)](BADGES[_0x2a3722(0xc68)]['id']));!_0x3f8b4c&&_0x554028[_0x2a3722(0xca1)](BADGES['COMEBACK_KING']['id']);}}_0x24473a[_0x2a3722(0xc8f)]===0x4&&_0x554028[_0x2a3722(0xca1)](BADGES[_0x2a3722(0xdbe)]['id']);const _0x480f7e=currentDisplayedQuiz[_0x2a3722(0xa0a)][_0x2a3722(0x525)];if(currentMode===_0x2a3722(0x9d0)){handleResultDisplay(_0x480f7e,_0x4bc132,_0x1e5129,_0x554028,_0x251871,_0x17d5a2);return;}const _0x513968=currentQuizData['id'],_0x2dad91=doc(db,_0x2a3722(0xd90)+appId+_0x2a3722(0xdb8)+_0x513968+_0x2a3722(0x353),currentStudentName);try{const _0x49f234=[..._0x24473a],_0x1b5eaa={'score':_0x4bc132,'points':_0x1e5129,'badges':Array[_0x2a3722(0xb64)](new Set(_0x554028)),'submittedAt':new Date()[_0x2a3722(0x3fe)](),'answers':_0x251871};_0x49f234['push'](_0x1b5eaa);const _0x295670=_0x24473a['length']===0x0?_0x4bc132:_0x24473a[0x0][_0x2a3722(0x7ee)]||0x0,_0x3da70c=Math[_0x2a3722(0x3d5)](..._0x49f234[_0x2a3722(0xab8)](_0x40bdeb=>_0x40bdeb[_0x2a3722(0x7ee)]));await setDoc(_0x2dad91,{'studentName':currentStudentName,'totalQuestions':_0x17d5a2,'attempts':_0x49f234,'firstScore':_0x295670,'bestScore':_0x3da70c,'latestScore':_0x4bc132,'points':_0x1e5129,'latestSubmittedAt':_0x1b5eaa[_0x2a3722(0x465)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x2a3722(0x6ea)],currentStudentName),handleResultDisplay(_0x480f7e,_0x4bc132,_0x1e5129,_0x554028,_0x251871,_0x17d5a2);}catch(_0xedf02d){console[_0x2a3722(0x300)](_0x2a3722(0x410),_0xedf02d),showMessage(_0x2a3722(0xe77));}}async function updateStudentProfile(_0x4653d7,_0xb4e5){const _0x12a6e6=_0x1dbc7e,_0x19caf9=doc(db,_0x12a6e6(0xd90)+appId+_0x12a6e6(0x880)+_0x4653d7+'/studentProfiles',_0xb4e5);try{const _0x47ed2b=query(collection(db,_0x12a6e6(0xd90)+appId+_0x12a6e6(0x806)),where(_0x12a6e6(0x6ea),'==',_0x4653d7)),_0x1c700b=await getDocs(_0x47ed2b),_0x4dacb9=new Map(_0x1c700b[_0x12a6e6(0xd16)][_0x12a6e6(0xab8)](_0x3ac991=>[_0x3ac991['id'],_0x3ac991[_0x12a6e6(0x690)]()])),_0x233597=Array[_0x12a6e6(0xb64)](_0x4dacb9[_0x12a6e6(0x6e2)]());await runTransaction(db,async _0x111dd4=>{const _0x4aebd4=_0x12a6e6;let _0x5b12bb=0x0;const _0x3931fd={};let _0x18bae4=!![],_0x4127ca=0x0,_0x2a247d=0x0;for(const _0xebe8ad of _0x233597){const _0x71c2d6=_0x4dacb9[_0x4aebd4(0x7d6)](_0xebe8ad),_0x1c621f=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0xebe8ad+_0x4aebd4(0x353),_0xb4e5),_0x424e47=await _0x111dd4[_0x4aebd4(0x7d6)](_0x1c621f);if(_0x424e47[_0x4aebd4(0x5c5)]()){const _0x490ec8=_0x424e47[_0x4aebd4(0x690)](),_0x351dc3=_0x490ec8[_0x4aebd4(0x764)]||[];if(_0x351dc3[_0x4aebd4(0xc8f)]>0x0){const _0x344e90=_0x351dc3[_0x4aebd4(0xc03)]((_0x2754f3,_0x2c9286)=>{const _0x53dd54=_0x4aebd4;if(_0x2c9286['score']>_0x2754f3[_0x53dd54(0x7ee)])return _0x2c9286;if(_0x2c9286[_0x53dd54(0x7ee)]===_0x2754f3[_0x53dd54(0x7ee)])return(_0x2c9286[_0x53dd54(0xba8)]||0x0)>(_0x2754f3[_0x53dd54(0xba8)]||0x0)?_0x2c9286:_0x2754f3;return _0x2754f3;},{'score':-0x1,'points':-0x1});_0x344e90[_0x4aebd4(0x7ee)]>-0x1&&(_0x5b12bb+=_0x344e90[_0x4aebd4(0xba8)]||0x0,(_0x344e90[_0x4aebd4(0xce3)]||[])[_0x4aebd4(0xb04)](_0x1c0e27=>{_0x3931fd[_0x1c0e27]=(_0x3931fd[_0x1c0e27]||0x0)+0x1;}));}}if(_0x71c2d6['topic']!=='แบบทดสอบซ่อมเสริม'){_0x2a247d++;if(_0x424e47[_0x4aebd4(0x5c5)]()){_0x4127ca++;const _0x52407d=_0x424e47['data']();_0x52407d['bestScore']!==_0x52407d[_0x4aebd4(0x3c8)]&&(_0x18bae4=![]);}else _0x18bae4=![];}}_0x2a247d>0x0&&_0x4127ca===_0x2a247d&&_0x18bae4?_0x3931fd[_0x4aebd4(0x95a)]=0x1:_0x3931fd[_0x4aebd4(0x95a)]=0x0,_0x111dd4[_0x4aebd4(0x4c6)](_0x19caf9,{'studentName':_0xb4e5,'totalPoints':_0x5b12bb,'unlockedBadges':Object[_0x4aebd4(0x6e2)](_0x3931fd)[_0x4aebd4(0x6b9)](_0x2db0b3=>_0x3931fd[_0x2db0b3]>0x0),'badgesCount':_0x3931fd},{'merge':!![]});});}catch(_0x1a191c){console[_0x12a6e6(0x300)](_0x12a6e6(0x529),_0x1a191c),showMessage(_0x12a6e6(0xe11));}}function startAdminTest(){const _0x92d25f=_0x1dbc7e;if(!currentQuizData){showMessage(_0x92d25f(0xb5a));return;}let _0x1ad532=JSON['parse'](JSON[_0x92d25f(0xa70)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x92d25f(0xa73),adminView['classList'][_0x92d25f(0xc24)](_0x92d25f(0x330)),studentView[_0x92d25f(0x820)][_0x92d25f(0xda2)](_0x92d25f(0x330)),studentInitialView[_0x92d25f(0x820)][_0x92d25f(0xc24)](_0x92d25f(0x330)),studentNameSelectionView[_0x92d25f(0x820)][_0x92d25f(0xc24)]('hidden'),studentResultArea[_0x92d25f(0x820)]['add'](_0x92d25f(0x330)),studentQuizArea[_0x92d25f(0x820)][_0x92d25f(0xda2)](_0x92d25f(0x330)),quizStartTime=new Date(),displayQuizForStudent(_0x1ad532);}function handleResultDisplay(_0x3ec9c6,_0x290256,_0x444cf7,_0x263ac2,_0x408cb7,_0x258a73){const _0xcd5c3a=_0x1dbc7e;if(_0x3ec9c6===_0xcd5c3a(0x548)){displaySubmissionConfirmation();return;}const _0x49cea6=currentDisplayedQuiz['settings']?.[_0xcd5c3a(0x3e8)]??Math[_0xcd5c3a(0x982)](_0x258a73/0x2),_0x24b476=currentDisplayedQuiz[_0xcd5c3a(0xa0a)]?.[_0xcd5c3a(0x6f6)]??![],_0x2f1808=currentDisplayedQuiz['settings']?.[_0xcd5c3a(0xa50)]===!![],_0x180e95=_0x290256<_0x49cea6,_0x59222=_0x3ec9c6===_0xcd5c3a(0x8ab)||_0x3ec9c6==='perfect_score_status';if(_0x2f1808&&_0x180e95&&!_0x59222){_0x3ec9c6===_0xcd5c3a(0x446)?displayResultsWithAnswers(_0x290256,_0x444cf7,_0x263ac2,_0x408cb7,_0x258a73,!![]):displayLoopScreen(_0x290256,_0x258a73,_0x3ec9c6);return;}if(_0x24b476&&_0x180e95){startAdaptiveFlow(_0x408cb7,_0x290256,_0x258a73);return;}switch(_0x3ec9c6){case'show_results_and_answers':displayResultsWithAnswers(_0x290256,_0x444cf7,_0x263ac2,_0x408cb7,_0x258a73);break;case _0xcd5c3a(0x2d0):displayResultsScoreOnly(_0x290256,_0x444cf7,_0x263ac2,_0x258a73);break;case _0xcd5c3a(0x813):displayPassFailOnly(_0x290256,_0x258a73);break;case _0xcd5c3a(0x8ab):displayHalfMarkResult(_0x290256,_0x258a73);break;case _0xcd5c3a(0x4c2):displayPerfectScoreResult(_0x290256,_0x258a73);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x51701f){const _0xd138c9=_0x1dbc7e;studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2a9abe=_0xd138c9(0xc97)+_0x51701f+_0xd138c9(0x2e2)+simpleMathPrompt+_0xd138c9(0xee8),_0x5a176a={'type':'OBJECT','properties':{'questionText':{'type':_0xd138c9(0xcdc)},'options':{'type':'ARRAY','items':{'type':_0xd138c9(0xcdc)}},'correctAnswerIndex':{'type':_0xd138c9(0xdf9)},'explanation':{'type':'STRING'}},'required':[_0xd138c9(0xe68),_0xd138c9(0x9d3),_0xd138c9(0x7e1),_0xd138c9(0x6dd)]},_0x2e8b8e={'type':_0xd138c9(0x552),'properties':{'topic':{'type':_0xd138c9(0xcdc)},'questions':{'type':'ARRAY','items':_0x5a176a}},'required':[_0xd138c9(0x2d2),'questions']};try{const _0x48f6fa=await callAnalysisApi(_0x2a9abe,_0x2e8b8e);_0x48f6fa[_0xd138c9(0xe4f)]=!![],studentReadingArea[_0xd138c9(0x820)][_0xd138c9(0xc24)]('hidden');const _0x32e7c5={...currentDisplayedQuiz[_0xd138c9(0xa0a)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x48f6fa[_0xd138c9(0xa0a)]=_0x32e7c5,displayQuizForStudent(_0x48f6fa);}catch(_0x2a553a){console[_0xd138c9(0x300)]('Remedial\x20quiz\x20generation\x20failed:',_0x2a553a),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0xd138c9(0x7fe));}}function displayPassFailOnly(_0x2541a1,_0x38195a){const _0x235c2b=_0x1dbc7e,_0x16fdd6=currentDisplayedQuiz[_0x235c2b(0xa0a)]?.[_0x235c2b(0x3e8)]??-0x1,_0xe0876e=currentDisplayedQuiz[_0x235c2b(0xe4f)]===!![];let _0x1892e2='',_0x548628=![];if(_0xe0876e||_0x16fdd6!==-0x1){_0x548628=_0xe0876e?_0x2541a1===_0x38195a:_0x2541a1>=_0x16fdd6;const _0x5c12bd=_0x548628?'bg-green-100\x20text-green-800':_0x235c2b(0x5fe),_0x2114f9=_0x548628?_0x235c2b(0x223):_0x235c2b(0x5b7);_0x1892e2=_0x235c2b(0x287)+_0x5c12bd+'\x22>'+_0x2114f9+'</span></div>';}else _0x1892e2=_0x235c2b(0x797);let _0x2f15af='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x235c2b(0x425)+_0x1892e2+_0x235c2b(0x3ab);studentResultArea[_0x235c2b(0x5dd)]=_0x2f15af,studentResultArea[_0x235c2b(0x820)][_0x235c2b(0xda2)]('hidden'),studentQuizArea[_0x235c2b(0x820)][_0x235c2b(0xc24)](_0x235c2b(0x330)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x548628});}function cancelAdminTest(){const _0x3728ab=_0x1dbc7e;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x3728ab(0xed4)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x3728ab(0x872),handleVisibilityChange),currentMode=_0x3728ab(0x2f1),studentView[_0x3728ab(0x820)][_0x3728ab(0xc24)](_0x3728ab(0x330)),adminView['classList'][_0x3728ab(0xda2)](_0x3728ab(0x330)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x2c28f0){const _0x503fc1=_0x1dbc7e,_0x3018eb={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x2c28f0};if(_0x3018eb[_0x503fc1(0xa3e)]){const _0x15f8cb=_0x503fc1(0x54b);studentResultArea[_0x503fc1(0x6a0)]('beforeend',_0x15f8cb),document[_0x503fc1(0x722)]('retake-quiz-loop-btn')[_0x503fc1(0x939)](_0x503fc1(0xa25),()=>{const _0x153c6b=_0x503fc1;studentResultArea['classList'][_0x153c6b(0xc24)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x12d6a4=_0x503fc1(0x578),_0x405b60=currentMode===_0x503fc1(0x9d0),_0x50ea20=_0x405b60?_0x503fc1(0xd49):_0x503fc1(0x742);let _0x4e152b='';_0x3018eb['showRankings']&&(_0x4e152b+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x30f46d=_0x3018eb[_0x503fc1(0x933)];_0x30f46d===undefined&&(_0x30f46d=_0x3018eb['score']<_0x3018eb[_0x503fc1(0x3c8)]);_0x30f46d&&(_0x4e152b+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x4e152b+=_0x503fc1(0xcab)+_0x12d6a4+_0x503fc1(0xcb8)+_0x50ea20+_0x503fc1(0x3de);const _0x9875c7=_0x503fc1(0x3ec)+_0x4e152b+_0x503fc1(0x607);studentResultArea[_0x503fc1(0x6a0)]('beforeend',_0x9875c7),studentResultArea['querySelector'](_0x503fc1(0xcca))?.[_0x503fc1(0x939)](_0x503fc1(0xa25),handleShowStudentRankings);const _0x44b9ce=studentResultArea[_0x503fc1(0x390)](_0x503fc1(0xad4));_0x44b9ce&&_0x44b9ce['addEventListener'](_0x503fc1(0xa25),()=>{const _0x142dba=_0x503fc1;studentResultArea[_0x142dba(0x820)][_0x142dba(0xc24)](_0x142dba(0x330)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x503fc1(0x722)](_0x12d6a4)[_0x503fc1(0x939)](_0x503fc1(0xa25),()=>{const _0x2e4aa6=_0x503fc1;_0x405b60?(currentMode=_0x2e4aa6(0x2f1),studentView['classList'][_0x2e4aa6(0xc24)](_0x2e4aa6(0x330)),adminView[_0x2e4aa6(0x820)][_0x2e4aa6(0xda2)]('hidden'),showView(_0x2e4aa6(0xbfc))):(showView('student'),document[_0x2e4aa6(0x722)]('quiz-id-input')['value']='');});}function displayResultsWithAnswers(_0x31ab4b,_0x1b3c0d,_0x144888,_0x19fef9,_0x3387e8,_0x4c5529=![]){const _0x570422=_0x1dbc7e,_0x510a5e=_0x3387e8>0x0?_0x31ab4b/_0x3387e8*0x64:0x0,_0x341b9b=currentDisplayedQuiz[_0x570422(0xa0a)]?.[_0x570422(0x3e8)]??-0x1,_0x501467=currentDisplayedQuiz[_0x570422(0xe4f)]===!![];let _0x4fc956='';if(_0x501467||_0x341b9b!==-0x1){let _0x177f60=_0x501467?_0x31ab4b===_0x3387e8:_0x31ab4b>=_0x341b9b;const _0x39f3e8=_0x177f60?_0x570422(0x25e):_0x570422(0x5fe),_0x41c035=_0x177f60?_0x570422(0x223):_0x570422(0x5b7);_0x4fc956='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x39f3e8+'\x22>'+_0x41c035+'</p>';}let _0x3bc5c2=_0x570422(0x579)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x31ab4b+_0x570422(0x357)+_0x3387e8+_0x570422(0x539)+_0x4fc956+_0x570422(0xec6)+_0x1b3c0d+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x510a5e[_0x570422(0x8a8)](0x0)+_0x570422(0x3a2);currentDisplayedQuiz[_0x570422(0x882)][_0x570422(0xb04)]((_0x283b0d,_0x5a0df6)=>{const _0x282636=_0x570422,_0x53664a=_0x19fef9[_0x5a0df6],_0x19bd37=_0x53664a[_0x282636(0xac3)],_0x5d3f80=_0x53664a['isCorrect'],_0x15bbff=_0x283b0d[_0x282636(0xbd0)]||currentDisplayedQuiz[_0x282636(0x4f4)];_0x3bc5c2+=_0x282636(0xbbe)+(_0x5d3f80?_0x282636(0x60f):_0x282636(0xc5a))+_0x282636(0x2a3)+(_0x5a0df6+0x1)+'.\x20'+(_0x283b0d[_0x282636(0x869)]||_0x283b0d[_0x282636(0xe68)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x15bbff){case _0x282636(0xd24):const _0x53ffd5=_0x19bd37||_0x282636(0x273),_0x6e79f4=_0x283b0d[_0x282636(0xb40)];_0x3bc5c2+=_0x282636(0x2de)+(!_0x5d3f80?'line-through\x20text-red-700':'')+'\x22>'+_0x53ffd5+'</span></p>';!_0x5d3f80&&(_0x3bc5c2+=_0x282636(0xb9a)+_0x6e79f4+_0x282636(0x283));break;case _0x282636(0x432):_0x3bc5c2+=_0x282636(0x6a5)+(_0x19bd37||_0x282636(0x273))+_0x282636(0x283),_0x3bc5c2+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x283b0d[_0x282636(0x5ca)]+_0x282636(0x283);break;case _0x282636(0x3f7):_0x3bc5c2+=_0x282636(0xb1c)+(_0x283b0d[_0x282636(0x72b)]===!![]?_0x282636(0xadb):'')+'\x20'+(_0x19bd37===_0x282636(0x761)&&!_0x5d3f80?_0x282636(0x50b):'')+_0x282636(0x85d),_0x3bc5c2+=_0x282636(0xb1c)+(_0x283b0d[_0x282636(0x72b)]===![]?_0x282636(0xadb):'')+'\x20'+(_0x19bd37==='false'&&!_0x5d3f80?_0x282636(0x50b):'')+_0x282636(0x674);break;default:_0x3bc5c2+=_0x283b0d['options']['map']((_0x5b331a,_0x25d7a0)=>{const _0x1c8fa0=_0x282636;let _0x12bb32='',_0x2ae85f='';if(_0x25d7a0===_0x283b0d[_0x1c8fa0(0x7e1)])_0x12bb32=_0x1c8fa0(0xadb),_0x2ae85f=_0x1c8fa0(0xc6c);else _0x25d7a0===_0x19bd37&&(_0x12bb32=_0x1c8fa0(0x822),_0x2ae85f=_0x1c8fa0(0x72e));return _0x1c8fa0(0x9bf)+_0x12bb32+'\x22>'+_0x2ae85f+_0x5b331a+_0x1c8fa0(0x607);})[_0x282636(0xbc8)]('');break;}_0x3bc5c2+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x283b0d['explanation']||'ไม่มีคำอธิบาย')+'</div>';if(!_0x5d3f80){const _0x513f9e=_0x283b0d['stem']||_0x283b0d['questionText'];_0x3bc5c2+=_0x282636(0x719)+escape(_0x513f9e)+_0x282636(0xa9c);}_0x3bc5c2+='</div>';}),studentResultArea[_0x570422(0x5dd)]=_0x3bc5c2,renderEarnedBadges(_0x144888,_0x570422(0x859)),studentResultArea[_0x570422(0x820)][_0x570422(0xda2)](_0x570422(0x330)),studentQuizArea[_0x570422(0x820)]['add'](_0x570422(0x330)),setupResultScreenBackButton({'isLooping':_0x4c5529,'score':_0x31ab4b,'totalQuestions':_0x3387e8,'showRankings':!![]});if(window['MathJax'])window['MathJax'][_0x570422(0x303)]([studentResultArea]);}function displayResultsScoreOnly(_0x2b619c,_0x454f1c,_0x4bb47c,_0x314262){const _0x352dcc=_0x1dbc7e,_0x240407=_0x314262>0x0?_0x2b619c/_0x314262*0x64:0x0,_0x5548e9=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x4a2266=currentDisplayedQuiz[_0x352dcc(0xe4f)]===!![];let _0x3a8618='';if(_0x4a2266||_0x5548e9!==-0x1){let _0x4081d3=_0x4a2266?_0x2b619c===_0x314262:_0x2b619c>=_0x5548e9;const _0x7fcbbc=_0x4081d3?_0x352dcc(0x25e):_0x352dcc(0x5fe),_0x3cd446=_0x4081d3?_0x352dcc(0x223):'ไม่ผ่าน';_0x3a8618=_0x352dcc(0x6a8)+_0x7fcbbc+'\x22>'+_0x3cd446+_0x352dcc(0x283);}let _0x5ad8eb=_0x352dcc(0x3f9)+currentStudentName+_0x352dcc(0xd12)+_0x2b619c+_0x352dcc(0xb70)+_0x314262+_0x352dcc(0x539)+_0x3a8618+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x454f1c+_0x352dcc(0x918)+_0x240407[_0x352dcc(0x8a8)](0x0)+_0x352dcc(0x658);studentResultArea[_0x352dcc(0x5dd)]=_0x5ad8eb,renderEarnedBadges(_0x4bb47c,'earned-badges-container'),studentResultArea[_0x352dcc(0x820)][_0x352dcc(0xda2)](_0x352dcc(0x330)),studentQuizArea[_0x352dcc(0x820)][_0x352dcc(0xc24)](_0x352dcc(0x330)),setupResultScreenBackButton({'score':_0x2b619c,'totalQuestions':_0x314262,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x40b99d=_0x1dbc7e;let _0x520deb=_0x40b99d(0xb35)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x40b99d(0x5dd)]=_0x520deb,studentResultArea[_0x40b99d(0x820)]['remove'](_0x40b99d(0x330)),studentQuizArea[_0x40b99d(0x820)]['add']('hidden'),document[_0x40b99d(0x722)](_0x40b99d(0x727))[_0x40b99d(0x939)](_0x40b99d(0xa25),()=>{const _0x389885=_0x40b99d;showView(_0x389885(0x7fe)),document[_0x389885(0x722)](_0x389885(0x332))['value']='';});}function renderEarnedBadges(_0x4c9aa8,_0x576988){const _0x409866=_0x1dbc7e,_0x1694d1=document[_0x409866(0x722)](_0x576988);if(!_0x1694d1||!_0x4c9aa8||_0x4c9aa8[_0x409866(0xc8f)]===0x0)return;let _0x50f973='';_0x4c9aa8[_0x409866(0xb04)]((_0x1f5707,_0xfc6a9f)=>{const _0x3745e2=_0x409866,_0x7f0ceb=Object[_0x3745e2(0x368)](BADGES)[_0x3745e2(0x36c)](_0x6b3e85=>_0x6b3e85['id']===_0x1f5707);_0x7f0ceb&&(_0x50f973+=_0x3745e2(0x288)+_0xfc6a9f*0.2+'s;\x22\x20title=\x22'+_0x7f0ceb[_0x3745e2(0xd62)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x7f0ceb[_0x3745e2(0xab1)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x7f0ceb[_0x3745e2(0x39f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x1694d1['innerHTML']=_0x50f973;}function startPresentation(_0x2ff603){const _0x4ca659=_0x1dbc7e;currentQuizData=getShuffledQuiz(_0x2ff603),currentPresentationSlide=0x0,presentationModal['style'][_0x4ca659(0xd1c)]=_0x4ca659(0x364),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x207451=_0x1dbc7e;document[_0x207451(0x5d4)]&&document[_0x207451(0x9a3)](),presentationModal[_0x207451(0xa20)][_0x207451(0xd1c)]=_0x207451(0x434);}function renderPresentationSlide(_0xd08816){const _0x2632e5=_0x1dbc7e,_0x30ebcc=document['getElementById'](_0x2632e5(0x9d5));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0xd08816]){_0x30ebcc[_0x2632e5(0x5dd)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x4679e9=currentQuizData[_0x2632e5(0x882)][_0xd08816],_0x3b6e20=_0x4679e9['questionType']||currentQuizData['quizType'];_0x30ebcc[_0x2632e5(0x5dd)]='';let _0x1c3725=_0x2632e5(0x77c)+(_0x4679e9[_0x2632e5(0x79d)]?_0x2632e5(0x73e)+_0x4679e9['imageCode']+_0x2632e5(0x607):'')+_0x2632e5(0x798)+(_0xd08816+0x1)+'.\x20'+(_0x4679e9[_0x2632e5(0x869)]||_0x4679e9['questionText'])+_0x2632e5(0x9b9);switch(_0x3b6e20){case _0x2632e5(0xd24):_0x1c3725+=_0x4679e9[_0x2632e5(0xb68)][_0x2632e5(0xab8)](_0x55f909=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55f909+_0x2632e5(0xbc0))['join']('');break;case'true_false':_0x1c3725+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x1c3725+=_0x2632e5(0x876);break;case'fill_in_no_choices':case _0x2632e5(0x432):_0x1c3725+=_0x2632e5(0x723);break;case _0x2632e5(0x725):case _0x2632e5(0x6e6):default:_0x1c3725+=_0x4679e9[_0x2632e5(0x9d3)][_0x2632e5(0xab8)]((_0x32b4bf,_0x2d57f6)=>_0x2632e5(0x2a6)+_0x2d57f6+_0x2632e5(0x451)+_0x32b4bf+_0x2632e5(0xbc0))[_0x2632e5(0xbc8)]('');break;}_0x1c3725+=_0x2632e5(0xe57)+(_0x4679e9[_0x2632e5(0x6dd)]||_0x2632e5(0xabf))+_0x2632e5(0x485),_0x30ebcc['innerHTML']=_0x1c3725;if(window['MathJax'])window[_0x2632e5(0xa8c)]['typesetPromise']([_0x30ebcc]);let _0x197806=[];switch(_0x3b6e20){case _0x2632e5(0xd24):_0x197806=_0x4679e9['allResponses']||[];break;case'true_false':_0x197806=['ใช่',_0x2632e5(0xa8b)];break;default:_0x197806=_0x4679e9[_0x2632e5(0x9d3)]||[];break;}const _0x5cefc7=document[_0x2632e5(0x722)](_0x2632e5(0x7e8));_0x5cefc7&&(_0x5cefc7[_0x2632e5(0x590)]=()=>{openScratchpad(_0x4679e9,_0x197806);});document[_0x2632e5(0x2ff)](_0x2632e5(0xa49))[_0x2632e5(0xb04)](_0x1f1f33=>{const _0x273b8e=_0x2632e5;_0x1f1f33[_0x273b8e(0x939)]('click',_0x1078a5=>revealAnswerForPresentation(_0xd08816,_0x1078a5['currentTarget']));});const _0x1332ad=document[_0x2632e5(0x722)](_0x2632e5(0x907));_0x1332ad&&_0x1332ad[_0x2632e5(0x939)](_0x2632e5(0xa25),()=>checkShortAnswerForPresentation(_0xd08816)),document['getElementById']('slide-counter')[_0x2632e5(0x2eb)]=_0x2632e5(0x7c1)+(_0xd08816+0x1)+_0x2632e5(0x4df)+currentQuizData[_0x2632e5(0x882)][_0x2632e5(0xc8f)],document[_0x2632e5(0x722)](_0x2632e5(0x297))['disabled']=_0xd08816===0x0,document[_0x2632e5(0x722)](_0x2632e5(0x794))['disabled']=_0xd08816===currentQuizData['questions'][_0x2632e5(0xc8f)]-0x1;}async function checkShortAnswerForPresentation(_0x3a25af){const _0xe2793=_0x1dbc7e,_0x2ca4c5=currentQuizData['questions'][_0x3a25af],_0x5a07e6=document[_0xe2793(0x722)]('presentation-short-answer-input'),_0x21763e=document[_0xe2793(0x722)](_0xe2793(0x907)),_0x59eb0f=document[_0xe2793(0x722)](_0xe2793(0x367)),_0xced4f5=document[_0xe2793(0x722)](_0xe2793(0x4e7));if(!_0x5a07e6||!_0x21763e||!_0x59eb0f||!_0xced4f5)return;const _0x4e93f8=_0x5a07e6[_0xe2793(0xa46)][_0xe2793(0xbe3)]();if(_0x4e93f8==='')return;_0x21763e['disabled']=!![],_0x21763e[_0xe2793(0x5dd)]=_0xe2793(0x657),_0x5a07e6[_0xe2793(0xce0)]=!![];const _0x52aff6=await gradeShortAnswer(_0x4e93f8,_0x2ca4c5);_0x52aff6?_0x59eb0f[_0xe2793(0x5dd)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x59eb0f['innerHTML']=_0xe2793(0xa08)+_0x2ca4c5[_0xe2793(0x5ca)]+')',_0x59eb0f[_0xe2793(0x820)][_0xe2793(0xda2)]('hidden'),_0xced4f5[_0xe2793(0x820)][_0xe2793(0xda2)](_0xe2793(0x330)),_0x21763e['classList'][_0xe2793(0xc24)](_0xe2793(0x330));}function revealAnswerForPresentation(_0x561854,_0x1f3afc){const _0x1c937f=_0x1dbc7e,_0x30b42c=currentQuizData[_0x1c937f(0x882)][_0x561854],_0x3aacb0=_0x30b42c['questionType']||currentQuizData[_0x1c937f(0x4f4)];document[_0x1c937f(0x2ff)](_0x1c937f(0xa49))[_0x1c937f(0xb04)](_0x5187ff=>{const _0x2d4ae6=_0x1c937f;_0x5187ff[_0x2d4ae6(0xce0)]=!![],_0x5187ff[_0x2d4ae6(0x820)][_0x2d4ae6(0xda2)](_0x2d4ae6(0x988));let _0x5adaee=![];if(_0x3aacb0===_0x2d4ae6(0x6e6)||_0x3aacb0===_0x2d4ae6(0x725)){const _0x494186=parseInt(_0x5187ff[_0x2d4ae6(0xa7e)][_0x2d4ae6(0x61a)]);_0x5adaee=_0x494186===_0x30b42c[_0x2d4ae6(0x7e1)];}else{if(_0x3aacb0==='true_false'){const _0x242834=_0x5187ff[_0x2d4ae6(0xa7e)][_0x2d4ae6(0xac3)]===_0x2d4ae6(0x761);_0x5adaee=_0x242834===_0x30b42c[_0x2d4ae6(0x72b)];}else _0x3aacb0===_0x2d4ae6(0xd24)&&(_0x5adaee=_0x5187ff[_0x2d4ae6(0x2eb)][_0x2d4ae6(0xbe3)]()===_0x30b42c[_0x2d4ae6(0xb40)]);}_0x5adaee?_0x5187ff[_0x2d4ae6(0x820)]['add'](_0x2d4ae6(0x7a5),_0x2d4ae6(0x5a0),_0x2d4ae6(0xe00)):_0x5187ff[_0x2d4ae6(0x820)][_0x2d4ae6(0xc24)](_0x2d4ae6(0xa9a));}),_0x1f3afc[_0x1c937f(0x820)][_0x1c937f(0xda2)](_0x1c937f(0xa9a));let _0x55367f=![];if(_0x3aacb0==='multiple_choice')_0x55367f=parseInt(_0x1f3afc['dataset']['index'])===_0x30b42c[_0x1c937f(0x7e1)];else{if(_0x3aacb0===_0x1c937f(0x3f7))_0x55367f=_0x1f3afc[_0x1c937f(0xa7e)]['answer']==='true'===_0x30b42c[_0x1c937f(0x72b)];else _0x3aacb0===_0x1c937f(0xd24)&&(_0x55367f=_0x1f3afc[_0x1c937f(0x2eb)]['trim']()===_0x30b42c[_0x1c937f(0xb40)]);}!_0x55367f&&_0x1f3afc[_0x1c937f(0x820)][_0x1c937f(0xc24)](_0x1c937f(0x7f5),_0x1c937f(0x5a0),_0x1c937f(0x373)),document['getElementById']('presentation-explanation')[_0x1c937f(0x820)][_0x1c937f(0xda2)](_0x1c937f(0x330));}function startWholeQuizTimer(_0xa9b0e4){const _0x4a4094=_0x1dbc7e,_0x3fd79c=document[_0x4a4094(0x722)]('timer-container');if(!_0x3fd79c)return;const _0x9f2461=Date[_0x4a4094(0x3e0)]()+_0xa9b0e4*0x3c*0x3e8;_0x3fd79c[_0x4a4094(0x5dd)]=_0x4a4094(0x34f);const _0x42f1b6=document[_0x4a4094(0x722)](_0x4a4094(0xcf7));quizTimerInterval=setInterval(()=>{const _0x5a4015=_0x4a4094,_0x29f82b=_0x9f2461-Date[_0x5a4015(0x3e0)]();if(_0x29f82b<=0x0)clearInterval(quizTimerInterval),_0x42f1b6[_0x5a4015(0x2eb)]=_0x5a4015(0x741),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0xaeaf73=Math[_0x5a4015(0x982)](_0x29f82b/0x3e8/0x3c%0x3c)['toString']()[_0x5a4015(0xe25)](0x2,'0'),_0x5d511f=Math[_0x5a4015(0x982)](_0x29f82b/0x3e8%0x3c)[_0x5a4015(0x992)]()[_0x5a4015(0xe25)](0x2,'0');_0x42f1b6['textContent']=_0xaeaf73+':'+_0x5d511f;}},0x3e8);}function renderPerQuestionView(){const _0x5d2ea4=_0x1dbc7e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x3fd777=currentDisplayedQuiz[_0x5d2ea4(0x882)][currentQuestionIndex],_0x2e21c4=_0x3fd777[_0x5d2ea4(0xbd0)]||currentDisplayedQuiz[_0x5d2ea4(0x4f4)],_0x45023e=currentDisplayedQuiz[_0x5d2ea4(0xa0a)]?.[_0x5d2ea4(0x4a0)]===!![];let _0x3ea9b8=_0x5d2ea4(0x567)+(currentQuestionIndex+0x1)+_0x5d2ea4(0x8b8)+currentDisplayedQuiz[_0x5d2ea4(0x882)][_0x5d2ea4(0xc8f)]+_0x5d2ea4(0x3eb)+(currentMode==='admin-testing'?_0x5d2ea4(0x5d6):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x5d2ea4(0x7f1);studentQuizArea['innerHTML']=_0x3ea9b8;let _0x265bc6=_0x3fd777['stem']||_0x3fd777[_0x5d2ea4(0xe68)];_0x3fd777[_0x5d2ea4(0x79d)]&&(_0x265bc6+=_0x5d2ea4(0x73e)+_0x3fd777[_0x5d2ea4(0x79d)]+_0x5d2ea4(0x607));let _0x470ded='';switch(_0x2e21c4){case'short_answer':case _0x5d2ea4(0xec9):_0x470ded=_0x5d2ea4(0x8ba);break;case _0x5d2ea4(0x3f7):_0x470ded=_0x5d2ea4(0x9fd);break;case _0x5d2ea4(0xd24):_0x470ded=_0x5d2ea4(0x3c5)+(_0x3fd777['allResponses']||[])[_0x5d2ea4(0xab8)](_0x54aa16=>_0x5d2ea4(0x9de)+_0x54aa16+'\x22>'+_0x54aa16+'</option>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x3fd777[_0x5d2ea4(0x9d3)]&&(_0x470ded=_0x3fd777[_0x5d2ea4(0x9d3)][_0x5d2ea4(0xab8)]((_0x3603e6,_0x416fca)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x416fca+_0x5d2ea4(0x4cc)+_0x416fca+_0x5d2ea4(0x201)+_0x416fca+'\x22>'+_0x3603e6+_0x5d2ea4(0xee9))[_0x5d2ea4(0xbc8)](''));break;}document[_0x5d2ea4(0x722)](_0x5d2ea4(0x945))['innerHTML']=_0x265bc6,document[_0x5d2ea4(0x722)](_0x5d2ea4(0xc19))[_0x5d2ea4(0x5dd)]=_0x470ded;const _0x245fe5=currentDisplayedQuiz['settings']?.[_0x5d2ea4(0x4a0)]===!![],_0x3dc25c=currentDisplayedQuiz[_0x5d2ea4(0xa0a)]?.[_0x5d2ea4(0x2e9)]||_0x5d2ea4(0xefa);if(_0x245fe5&&_0x3dc25c===_0x5d2ea4(0xefa)){const _0xb1ebc4=_0x5d2ea4(0xbc7);studentQuizArea['querySelector'](_0x5d2ea4(0xb99))[_0x5d2ea4(0x6a0)](_0x5d2ea4(0x5a6),_0xb1ebc4);}studentQuizArea[_0x5d2ea4(0x6a0)](_0x5d2ea4(0x5a6),_0x5d2ea4(0xa12)+(currentQuestionIndex===currentDisplayedQuiz[_0x5d2ea4(0x882)]['length']-0x1?'ส่งคำตอบ':_0x5d2ea4(0x547))+_0x5d2ea4(0x9ad));currentMode===_0x5d2ea4(0x9d0)&&document[_0x5d2ea4(0x722)](_0x5d2ea4(0x9ff))?.[_0x5d2ea4(0x939)]('click',cancelAdminTest);document['getElementById']('next-question-timed-btn')['addEventListener'](_0x5d2ea4(0xa25),()=>handleNextQuestionInTimedMode(![]));if(window[_0x5d2ea4(0xa8c)])window['MathJax']['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x5d2ea4(0xa0a)]?.['timerMode']==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x22b381=_0x1dbc7e,_0x3e36fc=currentDisplayedQuiz['settings'][_0x22b381(0x73b)],_0x479ae5=document[_0x22b381(0x722)](_0x22b381(0xa40));if(!_0x479ae5)return;let _0xa736fb=_0x3e36fc;_0x479ae5[_0x22b381(0x5dd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0xa736fb+_0x22b381(0xa4a);const _0x141c31=document[_0x22b381(0x722)](_0x22b381(0x3c9)),_0x563f30=document['getElementById'](_0x22b381(0xc5b));perQuestionTimerInterval=setInterval(()=>{const _0x8f215c=_0x22b381;_0xa736fb--;const _0xe867cf=_0xa736fb/_0x3e36fc*0x64;_0x141c31[_0x8f215c(0xa20)][_0x8f215c(0xc6a)]=_0xe867cf+'%',_0x563f30['textContent']=_0xa736fb,_0xa736fb<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x8f215c(0x61c)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x378eda=![]){const _0x136fe2=_0x1dbc7e;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x535922=null,_0x303e2c=![];if(!_0x378eda){const _0x3509ac=currentDisplayedQuiz[_0x136fe2(0x882)][currentQuestionIndex],_0x613e33=_0x3509ac[_0x136fe2(0xbd0)]||currentDisplayedQuiz[_0x136fe2(0x4f4)];if(_0x613e33===_0x136fe2(0x432)||_0x613e33==='fill_in_no_choices')_0x535922=document[_0x136fe2(0x390)](_0x136fe2(0xd38))?.['value'][_0x136fe2(0xbe3)]()??'';else{if(_0x613e33===_0x136fe2(0xd24))_0x535922=document[_0x136fe2(0x390)]('select[name=\x22question_single\x22]')?.['value']??'';else{const _0x4c8c96=document['querySelector']('input[name=\x22question_single\x22]:checked');_0x4c8c96&&(_0x535922=_0x4c8c96[_0x136fe2(0xa46)]);}}if(_0x535922===null||_0x535922===''){showMessage(_0x136fe2(0xe03)),startPerQuestionTimer();return;}const _0x38207c=currentDisplayedQuiz[_0x136fe2(0xa0a)]?.[_0x136fe2(0x4a0)]===!![],_0x2766a9=currentDisplayedQuiz[_0x136fe2(0xa0a)]?.['confidenceMode']||_0x136fe2(0xefa);if(_0x38207c&&_0x2766a9==='mandatory'){document[_0x136fe2(0x722)](_0x136fe2(0x76b))[_0x136fe2(0xa7e)][_0x136fe2(0xa7a)]=_0x136fe2(0xe58),document['getElementById'](_0x136fe2(0xb11))['value']=_0x535922,document['getElementById'](_0x136fe2(0x76b))[_0x136fe2(0x820)][_0x136fe2(0xda2)](_0x136fe2(0x330));return;}const _0x3ec7e7=document[_0x136fe2(0x722)](_0x136fe2(0xa04));_0x3ec7e7&&(_0x303e2c=_0x3ec7e7[_0x136fe2(0x9cd)]);}const _0x5b331d={'answer':_0x535922,'wasConfident':_0x303e2c};proceedToNextQuestion(_0x5b331d);}async function finalizePerQuestionQuiz(){const _0x4dd7ea=_0x1dbc7e,_0x1b63f0=currentDisplayedQuiz[_0x4dd7ea(0x882)][_0x4dd7ea(0x2c1)](_0x52dcca=>_0x52dcca[_0x4dd7ea(0xbd0)]===_0x4dd7ea(0x432));_0x1b63f0?showMessage(_0x4dd7ea(0xe2d)):showMessage(_0x4dd7ea(0x83f));const _0x15df33=currentQuizData['id'],_0x249140=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x15df33+_0x4dd7ea(0x353),currentStudentName),_0x53e09e=await getDoc(_0x249140),_0x26cc14=_0x53e09e[_0x4dd7ea(0x5c5)]()?_0x53e09e[_0x4dd7ea(0x690)]():{},_0x2dc2ea=_0x26cc14[_0x4dd7ea(0x764)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2dc2ea);}function getResultsFilename(){const _0x177fae=_0x1dbc7e,_0x4ea98a=document['getElementById'](_0x177fae(0x974))['textContent'][_0x177fae(0x84f)](/[^a-z0-9]/gi,'_')[_0x177fae(0x2f6)]();return _0x177fae(0x269)+(_0x4ea98a||_0x177fae(0xc61));}function exportResultsAsImage(){const _0x1ffa5c=_0x1dbc7e,_0x39fdbc=document[_0x1ffa5c(0x722)](_0x1ffa5c(0x7b8));showMessage(_0x1ffa5c(0xa7d)),html2canvas(_0x39fdbc)[_0x1ffa5c(0xea5)](_0x225f30=>{const _0x247f31=_0x1ffa5c,_0x54455c=document[_0x247f31(0xb75)]('a');_0x54455c[_0x247f31(0x85b)]=getResultsFilename()+_0x247f31(0xca8),_0x54455c[_0x247f31(0x8a0)]=_0x225f30[_0x247f31(0x833)](_0x247f31(0x6cd)),_0x54455c[_0x247f31(0xa25)](),messageModal[_0x247f31(0x820)][_0x247f31(0xc24)](_0x247f31(0x330));});}function exportResultsAsPDF(){const _0x368d13=_0x1dbc7e,{jsPDF:_0x147f8a}=window['jspdf'],_0x5625db=new _0x147f8a();_0x5625db[_0x368d13(0x7ad)](_0x368d13(0x3b4),_0x368d13(0xd81)),_0x5625db[_0x368d13(0xef0)]({'html':'#results-table'}),_0x5625db[_0x368d13(0x513)](getResultsFilename()+_0x368d13(0x938));}function exportResultsAsWord(){const _0x3aae44=_0x1dbc7e,_0x2a64ee=_0x3aae44(0xd50)+_0x3aae44(0x574)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x1f3c49=_0x3aae44(0x66a),_0x2ad179=_0x2a64ee+document['getElementById']('results-table-container')['innerHTML']+_0x1f3c49,_0x4987b7='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x2ad179),_0xd93a4f=document[_0x3aae44(0xb75)]('a');document[_0x3aae44(0xb46)]['appendChild'](_0xd93a4f),_0xd93a4f[_0x3aae44(0x8a0)]=_0x4987b7,_0xd93a4f['download']=getResultsFilename()+_0x3aae44(0xb08),_0xd93a4f[_0x3aae44(0xa25)](),document[_0x3aae44(0xb46)][_0x3aae44(0xa79)](_0xd93a4f);}function exportResultsAsExcel(){const _0x5de76c=_0x1dbc7e,_0x3fe9e7=document[_0x5de76c(0x722)](_0x5de76c(0x3b5));let _0x18179d=[];for(let _0xaa12e=0x0;_0xaa12e<_0x3fe9e7['rows'][_0x5de76c(0xc8f)];_0xaa12e++){let _0x468b94=[],_0x223973=_0x3fe9e7[_0x5de76c(0x5f8)][_0xaa12e][_0x5de76c(0x2ff)](_0x5de76c(0xb24));for(let _0x276aca=0x0;_0x276aca<_0x223973[_0x5de76c(0xc8f)];_0x276aca++){_0x468b94[_0x5de76c(0xca1)]('\x22'+_0x223973[_0x276aca]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x18179d[_0x5de76c(0xca1)](_0x468b94['join'](','));}const _0x408c1f=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x18179d['join']('\x0a')],{'type':_0x5de76c(0x31a)}),_0x59f53e=document['createElement']('a');_0x59f53e[_0x5de76c(0x8a0)]=URL['createObjectURL'](_0x408c1f),_0x59f53e[_0x5de76c(0x85b)]=getResultsFilename()+_0x5de76c(0x729),_0x59f53e[_0x5de76c(0xa25)]();}function exportTableAsImage(_0x55184a,_0x1442d1){const _0x399422=_0x1dbc7e,_0x696df2=document['getElementById'](_0x55184a);if(!_0x696df2){showMessage(_0x399422(0xbcf));return;}showMessage(_0x399422(0xa7d)),html2canvas(_0x696df2)[_0x399422(0xea5)](_0x14ded3=>{const _0x4afa6a=_0x399422,_0x484f26=document[_0x4afa6a(0xb75)]('a');_0x484f26[_0x4afa6a(0x85b)]=_0x1442d1+_0x4afa6a(0xca8),_0x484f26[_0x4afa6a(0x8a0)]=_0x14ded3[_0x4afa6a(0x833)](_0x4afa6a(0x6cd)),_0x484f26[_0x4afa6a(0xa25)](),messageModal['classList'][_0x4afa6a(0xc24)](_0x4afa6a(0x330));});}function exportTableAsPDF(_0x5b78d0,_0x50347c){const _0x18d8a9=_0x1dbc7e,{jsPDF:_0x334ced}=window['jspdf'],_0x4e9360=new _0x334ced();_0x4e9360['setFont'](_0x18d8a9(0x3b4),_0x18d8a9(0xd81)),_0x4e9360[_0x18d8a9(0xef0)]({'html':'#'+_0x5b78d0}),_0x4e9360[_0x18d8a9(0x513)](_0x50347c+_0x18d8a9(0x938));}function exportTableAsWord(_0x346be4,_0x59706f){const _0x3e51ec=_0x1dbc7e,_0xa6aca0=document['getElementById'](_0x346be4);if(!_0xa6aca0){showMessage(_0x3e51ec(0xbcf));return;}const _0x4298d8=_0x3e51ec(0xd50)+_0x3e51ec(0x574)+_0x3e51ec(0xe85)+_0x3e51ec(0x2fe),_0x4b105b='</body></html>',_0x43f35e=_0x4298d8+_0xa6aca0[_0x3e51ec(0x5dd)]+_0x4b105b,_0x6d46ab='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x43f35e),_0xcdf296=document[_0x3e51ec(0xb75)]('a');document[_0x3e51ec(0xb46)]['appendChild'](_0xcdf296),_0xcdf296[_0x3e51ec(0x8a0)]=_0x6d46ab,_0xcdf296[_0x3e51ec(0x85b)]=_0x59706f+'.doc',_0xcdf296[_0x3e51ec(0xa25)](),document[_0x3e51ec(0xb46)][_0x3e51ec(0xa79)](_0xcdf296);}function exportTableAsExcel(_0x201f5c,_0x30cf4e){const _0x5c626a=_0x1dbc7e,_0xb6b12=document[_0x5c626a(0x722)](_0x201f5c);if(!_0xb6b12){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x457806=[];for(let _0x696d72=0x0;_0x696d72<_0xb6b12[_0x5c626a(0x5f8)][_0x5c626a(0xc8f)];_0x696d72++){let _0x5fce43=[],_0x3be6d8=_0xb6b12['rows'][_0x696d72]['querySelectorAll'](_0x5c626a(0xb24));for(let _0x116af0=0x0;_0x116af0<_0x3be6d8[_0x5c626a(0xc8f)];_0x116af0++){_0x5fce43[_0x5c626a(0xca1)]('\x22'+_0x3be6d8[_0x116af0]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x457806['push'](_0x5fce43[_0x5c626a(0xbc8)](','));}const _0x560d91=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x457806[_0x5c626a(0xbc8)]('\x0a')],{'type':_0x5c626a(0x31a)}),_0x3a37c7=document[_0x5c626a(0xb75)]('a');_0x3a37c7['href']=URL[_0x5c626a(0x67b)](_0x560d91),_0x3a37c7[_0x5c626a(0x85b)]=_0x30cf4e+_0x5c626a(0x729),_0x3a37c7[_0x5c626a(0xa25)]();}function renderAnalytics(_0x487a54,_0xa18992){const _0x568aa9=_0x1dbc7e,_0x346503=_0xa18992[_0x568aa9(0x6b9)](_0x50c0fd=>_0x50c0fd[_0x568aa9(0x41e)]!==undefined),_0x440651=currentProjectData['students']['length'],_0x172fa4=_0x346503[_0x568aa9(0xc8f)],_0x502623=_0x440651-_0x172fa4,_0x29157b=_0x440651>0x0?_0x172fa4/_0x440651*0x64:0x0,_0x5ea59d=_0x346503[_0x568aa9(0xab8)](_0x415db2=>_0x415db2['latestScore']),_0x2cdc92=_0x5ea59d[_0x568aa9(0xc8f)]>0x0?_0x5ea59d['reduce']((_0x2ec778,_0x5cc626)=>_0x2ec778+_0x5cc626,0x0)/_0x5ea59d[_0x568aa9(0xc8f)]:0x0,_0x174d7c=_0x487a54[_0x568aa9(0x882)][_0x568aa9(0xc8f)],_0x5e6ea8=_0x174d7c>0x0?_0x2cdc92/_0x174d7c*0x64:0x0,_0x3fbc4c=calculateItemAnalysis(_0x487a54,_0x346503),_0x42c3ea=calculateReliabilityKR20(_0x487a54,_0x346503,_0x3fbc4c[_0x568aa9(0xd79)]);let _0x556817='';if(_0x42c3ea!==null){let _0xdad05e='';if(_0x42c3ea>=0.9)_0xdad05e=_0x568aa9(0xb4f);else{if(_0x42c3ea>=0.8)_0xdad05e=_0x568aa9(0x6da);else{if(_0x42c3ea>=0.7)_0xdad05e='ดี';else{if(_0x42c3ea>=0.6)_0xdad05e=_0x568aa9(0xc8d);else _0xdad05e=_0x568aa9(0xd98);}}}_0x556817=_0x568aa9(0x943)+_0x42c3ea['toFixed'](0x2)+_0x568aa9(0x5f5)+_0xdad05e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x3e68ff=document['getElementById'](_0x568aa9(0x9c1));_0x3e68ff[_0x568aa9(0x5dd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x29157b[_0x568aa9(0x8a8)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x172fa4+'/'+_0x440651+_0x568aa9(0xa9b)+_0x2cdc92[_0x568aa9(0x8a8)](0x2)+_0x568aa9(0xe0e)+_0x5e6ea8[_0x568aa9(0x8a8)](0x0)+_0x568aa9(0xa05)+(_0x5ea59d[_0x568aa9(0xc8f)]>0x0?Math[_0x568aa9(0x3d5)](..._0x5ea59d):_0x568aa9(0xd08))+_0x568aa9(0x55c)+(_0x5ea59d[_0x568aa9(0xc8f)]>0x0?Math[_0x568aa9(0x35c)](..._0x5ea59d):'N/A')+_0x568aa9(0x712)+_0x556817+_0x568aa9(0xee8);const _0x4abf9d=document[_0x568aa9(0x722)](_0x568aa9(0x216));_0x4abf9d&&_0x4abf9d[_0x568aa9(0xda2)]();const _0x1e5442=_0x568aa9(0x9cf);_0x3e68ff[_0x568aa9(0x6a0)](_0x568aa9(0x667),_0x1e5442);const _0x43c103=currentProjectData[_0x568aa9(0xda0)]||[];renderSubmissionChart(_0x172fa4,_0x502623,_0x346503,_0x43c103),renderScoreDistributionChart(_0x346503,_0x174d7c),renderQuestionAnalytics(_0x487a54,_0x346503,_0x43c103),renderInterestingStats(_0x487a54,_0x346503);}async function handleExportLessonPDF(){const _0x28b26a=_0x1dbc7e,_0x36314d=document[_0x28b26a(0x722)](_0x28b26a(0x3dc)),_0x148c29=document[_0x28b26a(0x722)](_0x28b26a(0xec4))[_0x28b26a(0x2eb)],_0x526ecd=window[_0x28b26a(0xcd2)]('','_blank'),_0x37773e=_0x28b26a(0xaea)+_0x148c29+_0x28b26a(0x6a1)+_0x36314d[_0x28b26a(0x5dd)]+_0x28b26a(0xd7e);_0x526ecd[_0x28b26a(0x3bf)]['write'](_0x37773e),_0x526ecd['document']['close'](),_0x526ecd[_0x28b26a(0x263)]=function(){setTimeout(()=>{const _0x1b0e20=_0x320f;_0x526ecd[_0x1b0e20(0x453)]();},0x5dc);};}function renderInterestingStats(_0x2a10b7,_0x2fbb30){const _0x32efee=_0x1dbc7e,_0x2c0d12=document[_0x32efee(0x722)](_0x32efee(0x3df));if(!_0x2c0d12)return;if(_0x2fbb30[_0x32efee(0xc8f)]===0x0){_0x2c0d12['innerHTML']=_0x32efee(0x391);return;}const _0x22ef91=_0x2a10b7[_0x32efee(0x882)]['map']((_0x2f9e66,_0x1e3df6)=>({'index':_0x1e3df6+0x1,'text':_0x2f9e66['questionText']||_0x2f9e66['stem'],'correct':0x0}));_0x2fbb30[_0x32efee(0xb04)](_0x59093d=>{const _0x4fbfd2=_0x32efee,_0x1ccad7=_0x59093d[_0x4fbfd2(0x764)][_0x59093d[_0x4fbfd2(0x764)][_0x4fbfd2(0xc8f)]-0x1];_0x1ccad7&&_0x1ccad7[_0x4fbfd2(0x9e0)]&&_0x1ccad7['answers']['forEach'](_0x2aa491=>{const _0x57ce4e=_0x4fbfd2,_0x27516b=_0x22ef91['find'](_0x2acf30=>_0x2acf30[_0x57ce4e(0x27d)]===_0x2aa491[_0x57ce4e(0x51f)]);_0x2aa491[_0x57ce4e(0xa97)]&&_0x27516b&&_0x27516b[_0x57ce4e(0xe0b)]++;});});const _0x5c9d3a=_0x2fbb30[_0x32efee(0xc8f)],_0x21fa06=Math[_0x32efee(0x3d5)](..._0x22ef91[_0x32efee(0xab8)](_0x2e08a3=>_0x2e08a3['correct'])),_0x27554a=Math['min'](..._0x22ef91[_0x32efee(0xab8)](_0x265c89=>_0x265c89['correct'])),_0x2efd96=_0x22ef91[_0x32efee(0x6b9)](_0x3b8659=>_0x3b8659[_0x32efee(0xe0b)]===_0x21fa06)[_0x32efee(0xab8)](_0x4feb6c=>'ข้อ\x20'+_0x4feb6c[_0x32efee(0x61a)]),_0x39e272=_0x22ef91[_0x32efee(0x6b9)](_0x9d0cf2=>_0x9d0cf2[_0x32efee(0xe0b)]===_0x27554a)['map'](_0x9e4a8c=>_0x32efee(0x50f)+_0x9e4a8c['index']),_0x3610d3=_0x2fbb30[_0x32efee(0x24d)]((_0x5a4c0a,_0x22ae82)=>_0x22ae82[_0x32efee(0x41e)]-_0x5a4c0a[_0x32efee(0x41e)])[_0x32efee(0x6b9)]((_0x551e06,_0x1b72c5,_0x2f4655)=>_0x551e06[_0x32efee(0x41e)]===_0x2f4655[0x0][_0x32efee(0x41e)]),_0x5ce2bb=_0x2fbb30[_0x32efee(0x24d)]((_0x196dc3,_0x18d3ee)=>_0x196dc3[_0x32efee(0x41e)]-_0x18d3ee[_0x32efee(0x41e)])['filter']((_0x9cf713,_0x52a142,_0x4b6852)=>_0x9cf713[_0x32efee(0x41e)]===_0x4b6852[0x0]['latestScore']),_0x22d46f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x2efd96[_0x32efee(0xbc8)](',\x20')+_0x32efee(0x26d)+_0x21fa06+_0x32efee(0x4df)+_0x5c9d3a+_0x32efee(0xc5d)+_0x39e272[_0x32efee(0xbc8)](',\x20')+_0x32efee(0x26d)+(_0x5c9d3a-_0x27554a)+_0x32efee(0x4df)+_0x5c9d3a+_0x32efee(0x864)+_0x3610d3['map'](_0x273129=>_0x273129[_0x32efee(0x589)])[_0x32efee(0xbc8)](',\x20')+_0x32efee(0x341)+_0x3610d3[0x0][_0x32efee(0x41e)]+_0x32efee(0x2aa)+_0x5ce2bb['map'](_0x4d2652=>_0x4d2652[_0x32efee(0x589)])['join'](',\x20')+_0x32efee(0x341)+_0x5ce2bb[0x0]['latestScore']+_0x32efee(0xd30);_0x2c0d12[_0x32efee(0x5dd)]=_0x22d46f;}function renderSubmissionChart(_0x55a507,_0x3e8f62,_0x1d7aa8,_0x3721c2){const _0x29b0a9=_0x1dbc7e,_0x922b02=document[_0x29b0a9(0x722)](_0x29b0a9(0xc2a))['getContext']('2d'),_0x965711=_0x1d7aa8[_0x29b0a9(0xab8)](_0x5c96d9=>_0x5c96d9[_0x29b0a9(0x589)]),_0x45fba2=_0x3721c2['filter'](_0x2aad3e=>!_0x965711[_0x29b0a9(0x549)](_0x2aad3e));chartInstances[_0x29b0a9(0xd91)]&&chartInstances[_0x29b0a9(0xd91)][_0x29b0a9(0x8a1)](),chartInstances[_0x29b0a9(0xd91)]=new Chart(_0x922b02,{'type':'doughnut','data':{'labels':['ส่งแล้ว','ยังไม่ส่ง'],'datasets':[{'data':[_0x55a507,_0x3e8f62],'backgroundColor':[_0x29b0a9(0xdf7),_0x29b0a9(0x413)],'borderColor':[_0x29b0a9(0x34c),_0x29b0a9(0x34c)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x582ba5){const _0xa7797f=_0x29b0a9;let _0x7a50dc=_0x582ba5[_0xa7797f(0x8f0)]||'';return _0x7a50dc&&(_0x7a50dc+=':\x20'),_0x7a50dc+=_0x582ba5[_0xa7797f(0x9c0)],_0x7a50dc;},'afterLabel':function(_0x50d55e){const _0x4c079d=_0x29b0a9;let _0x419e11;return _0x50d55e[_0x4c079d(0x6ce)]===0x0?_0x419e11=_0x965711:_0x419e11=_0x45fba2,_0x419e11[_0x4c079d(0xc8f)]>0x0?_0x419e11[_0x4c079d(0xbc8)]('\x0a'):_0x4c079d(0x857);}}}}}});}function renderScoreDistributionChart(_0x18ba01,_0x15e53b){const _0x3d8e3b=_0x1dbc7e,_0x45ba4b=document[_0x3d8e3b(0x722)](_0x3d8e3b(0xa53))['getContext']('2d'),_0x7cc862={};for(let _0xab9962=0x0;_0xab9962<=_0x15e53b;_0xab9962++){_0x7cc862[_0xab9962]=0x0;}_0x18ba01['forEach'](_0x1eda6a=>{const _0x25f9a8=_0x3d8e3b;_0x7cc862[_0x1eda6a[_0x25f9a8(0x41e)]]!==undefined&&_0x7cc862[_0x1eda6a[_0x25f9a8(0x41e)]]++;}),chartInstances[_0x3d8e3b(0x7ee)]&&chartInstances[_0x3d8e3b(0x7ee)][_0x3d8e3b(0x8a1)](),chartInstances[_0x3d8e3b(0x7ee)]=new Chart(_0x45ba4b,{'type':'bar','data':{'labels':Object[_0x3d8e3b(0x6e2)](_0x7cc862),'datasets':[{'label':_0x3d8e3b(0x8ea),'data':Object[_0x3d8e3b(0x368)](_0x7cc862),'backgroundColor':_0x3d8e3b(0x5ea),'borderColor':_0x3d8e3b(0x86a),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x3d8e3b(0x847)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x55a9a4){const _0xbdf71b=_0x3d8e3b,_0x14007a=_0x55a9a4[_0xbdf71b(0x8f0)],_0x2ef7ed=_0x18ba01[_0xbdf71b(0x6b9)](_0x56768d=>_0x56768d['latestScore']==_0x14007a)[_0xbdf71b(0xab8)](_0x396225=>_0x396225['studentName']);return _0x2ef7ed['length']>0x0?_0x2ef7ed[_0xbdf71b(0xbc8)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x366030,_0x5c3e8d,_0x50f038){const _0x27b311=_0x1dbc7e,_0x1a0be1=document[_0x27b311(0x722)](_0x27b311(0x7ed));if(_0x50f038[_0x27b311(0xc8f)]===0x0){_0x1a0be1[_0x27b311(0x5dd)]=_0x27b311(0x80e);return;}const _0x35f7e9=calculateItemAnalysis(_0x366030,_0x5c3e8d),_0x5aac88=calculateDistractorAnalysis(_0x366030,_0x5c3e8d);let _0x283882='';_0x35f7e9[_0x27b311(0x58d)]&&(_0x283882='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x35f7e9[_0x27b311(0x58d)][_0x27b311(0xbeb)][_0x27b311(0xc8f)]+_0x27b311(0x3b9)+_0x35f7e9[_0x27b311(0x58d)][_0x27b311(0xbeb)][_0x27b311(0xab8)](_0x11ea69=>_0x27b311(0x7b5)+_0x11ea69+'</li>')[_0x27b311(0xbc8)]('')+_0x27b311(0x5f7)+_0x35f7e9[_0x27b311(0x58d)]['lowerGroupNames'][_0x27b311(0xc8f)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x35f7e9['overallGroups'][_0x27b311(0x3e1)][_0x27b311(0xab8)](_0x4d41dc=>_0x27b311(0x7b5)+_0x4d41dc+_0x27b311(0x97a))[_0x27b311(0xbc8)]('')+_0x27b311(0xcb0));let _0x7328a='';const _0x4cd1ac=_0x5c3e8d['map'](_0x36264f=>_0x36264f[_0x27b311(0x589)]),_0x33d4ac=_0x1e0eb5=>{const _0x341429=_0x27b311;if(_0x1e0eb5>=0.8)return _0x341429(0xdc9);if(_0x1e0eb5>=0.6)return _0x341429(0xa3b);if(_0x1e0eb5>=0.4)return _0x341429(0x846);if(_0x1e0eb5>=0.2)return _0x341429(0xd56);return _0x341429(0xcd7);},_0x59980f=_0x49ed6e=>{const _0x394c69=_0x27b311;if(_0x49ed6e<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x49ed6e>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x49ed6e>=0.3)return _0x394c69(0x7a8);if(_0x49ed6e>=0.2)return _0x394c69(0x33b);return _0x394c69(0x489);},_0x5d65c9=_0x433878=>{const _0xce8fe8=_0x27b311,_0x3707ef=_0x433878[_0xce8fe8(0x8a8)](0x0);if(parseFloat(_0x3707ef)===0x64)return _0xce8fe8(0x82c)+_0x3707ef+_0xce8fe8(0xe51);if(_0x433878>=0x32)return _0xce8fe8(0xa71)+_0x3707ef+_0xce8fe8(0xe51);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x3707ef+_0xce8fe8(0xe51);};_0x366030[_0x27b311(0x882)][_0x27b311(0xb04)]((_0x5d19d5,_0xe4598c)=>{const _0xbd598e=_0x27b311,_0x1541a8=_0x35f7e9[_0xbd598e(0xd79)][_0xe4598c],_0xbada87=_0x5aac88[_0xe4598c],_0x5b3566=_0x5d19d5[_0xbd598e(0x869)]||_0x5d19d5[_0xbd598e(0xe68)]||_0x5d19d5[_0xbd598e(0xebb)];let _0x1a1a22=0x0;const _0x558988=[],_0x446ab9=[];_0x5c3e8d[_0xbd598e(0xb04)](_0x1b1cb4=>{const _0x1acc87=_0xbd598e,_0xda2406=_0x1b1cb4[_0x1acc87(0x764)][_0x1b1cb4[_0x1acc87(0x764)][_0x1acc87(0xc8f)]-0x1];if(_0xda2406&&_0xda2406[_0x1acc87(0x9e0)]){const _0x1cea58=_0xda2406[_0x1acc87(0x9e0)][_0x1acc87(0x36c)](_0x3b870b=>_0x3b870b[_0x1acc87(0x51f)]===_0x5b3566)??_0xda2406[_0x1acc87(0x9e0)][_0xe4598c]??null;_0x1cea58&&(_0x1cea58[_0x1acc87(0xa97)]?(_0x1a1a22++,_0x558988[_0x1acc87(0xca1)](_0x1b1cb4[_0x1acc87(0x589)])):_0x446ab9[_0x1acc87(0xca1)](_0x1b1cb4[_0x1acc87(0x589)]));}});const _0x5065fb=_0x5c3e8d[_0xbd598e(0xc8f)]>0x0?_0x1a1a22/_0x5c3e8d[_0xbd598e(0xc8f)]*0x64:0x0,_0xfd2426=_0x50f038[_0xbd598e(0x6b9)](_0x3ae933=>!_0x4cd1ac['includes'](_0x3ae933)),_0x1249f2=_0x1541a8?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x1541a8['p'][_0xbd598e(0x8a8)](0x2)+_0xbd598e(0x39e)+_0x33d4ac(_0x1541a8['p'])+_0xbd598e(0xbd2)+_0x1541a8['r'][_0xbd598e(0x8a8)](0x2)+_0xbd598e(0x39e)+_0x59980f(_0x1541a8['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d65c9(_0x5065fb)+_0xbd598e(0x630):'';let _0x1cad18='';_0xbada87&&(_0x1cad18='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0xbd598e(0x6e2)](_0xbada87)[_0xbd598e(0xab8)](_0x1cbc53=>{const _0x2cd579=_0xbd598e,_0x10dba1=_0xbada87[_0x1cbc53],_0x12fe64=parseInt(_0x1cbc53)===_0x5d19d5[_0x2cd579(0x7e1)],_0x5623ca=!_0x12fe64&&_0x10dba1[_0x2cd579(0x221)]>_0x10dba1['upper_group_count'];return _0x2cd579(0x6d0)+(_0x12fe64?_0x2cd579(0xede):'')+_0x2cd579(0x41b)+(_0x12fe64?'✔\x20':'')+_0x10dba1['text']+_0x2cd579(0xc1b)+_0x10dba1[_0x2cd579(0xc41)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x10dba1[_0x2cd579(0x221)]+'\x20'+(_0x5623ca?'👍':'')+_0x2cd579(0xc1b)+_0x10dba1['total']+_0x2cd579(0x25f);})[_0xbd598e(0xbc8)]('')+_0xbd598e(0x2c4));let _0x33f9d9='';_0x1541a8&&_0x1541a8['upperGroupResponders']&&(_0x33f9d9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x1541a8[_0xbd598e(0x4e3)]['length']+_0xbd598e(0xcdb)+_0x1541a8[_0xbd598e(0x4e3)]['map'](_0x508a35=>'<li>'+(_0x508a35['isCorrect']?_0xbd598e(0x3bd):_0xbd598e(0x4a4))+'\x20'+_0x508a35[_0xbd598e(0x39f)]+'</li>')['join']('')+_0xbd598e(0x651)+_0x1541a8[_0xbd598e(0xc9d)][_0xbd598e(0xc8f)]+_0xbd598e(0xcdb)+_0x1541a8[_0xbd598e(0xc9d)][_0xbd598e(0xab8)](_0x2a788f=>_0xbd598e(0x7b5)+(_0x2a788f[_0xbd598e(0xa97)]?_0xbd598e(0x3bd):_0xbd598e(0x4a4))+'\x20'+_0x2a788f[_0xbd598e(0x39f)]+_0xbd598e(0x97a))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x7328a+=_0xbd598e(0xae6)+(_0xe4598c+0x1)+':\x20'+_0x5b3566+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x1249f2+_0xbd598e(0x21a)+_0x5b3566+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x1a1a22+_0xbd598e(0x8b8)+_0x5c3e8d[_0xbd598e(0xc8f)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x5065fb[_0xbd598e(0x8a8)](0x0)+_0xbd598e(0x36b)+_0x558988['length']+_0xbd598e(0xd35)+(_0x558988[_0xbd598e(0xc8f)]>0x0?_0x558988['join'](',\x20'):_0xbd598e(0x857))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x446ab9['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x446ab9[_0xbd598e(0xc8f)]>0x0?_0x446ab9[_0xbd598e(0xbc8)](',\x20'):_0xbd598e(0x857))+_0xbd598e(0x7d8)+_0xfd2426['length']+_0xbd598e(0xd35)+(_0xfd2426[_0xbd598e(0xc8f)]>0x0?_0xfd2426[_0xbd598e(0xbc8)](',\x20'):_0xbd598e(0x857))+_0xbd598e(0xe98)+_0x1cad18+_0xbd598e(0x448)+_0x33f9d9+_0xbd598e(0x384);}),_0x1a0be1[_0x27b311(0x5dd)]=_0x283882+_0x7328a;try{window['MathJax']&&MathJax[_0x27b311(0x303)]&&MathJax[_0x27b311(0x303)]([_0x1a0be1]);}catch(_0x482ced){console['error'](_0x27b311(0x7db),_0x482ced);}}function calculateDistractorAnalysis(_0x107c6e,_0x375554){const _0x2270b9=_0x1dbc7e,_0xb78aba={};if(_0x375554[_0x2270b9(0xc8f)]<0x2)return _0xb78aba;const _0x295977=[..._0x375554][_0x2270b9(0x24d)]((_0x1a4132,_0x56f2d7)=>{const _0x5597b2=_0x2270b9,_0x2757cd=_0x56f2d7[_0x5597b2(0x41e)]-_0x1a4132[_0x5597b2(0x41e)];if(_0x2757cd!==0x0)return _0x2757cd;const _0x3702c9=_0x1a4132[_0x5597b2(0x764)]?.['length']||0x1,_0x21da46=_0x56f2d7[_0x5597b2(0x764)]?.[_0x5597b2(0xc8f)]||0x1,_0x1131f6=_0x3702c9-_0x21da46;if(_0x1131f6!==0x0)return _0x1131f6;const _0x129c95=new Date(_0x1a4132['latestSubmittedAt']),_0x5a6e3c=new Date(_0x56f2d7[_0x5597b2(0x542)]),_0x4813c6=_0x129c95-_0x5a6e3c;if(_0x4813c6!==0x0)return _0x4813c6;return _0x1a4132['studentName']['localeCompare'](_0x56f2d7[_0x5597b2(0x589)],'th');}),_0x32d22d=_0x295977[_0x2270b9(0xc8f)],_0x2c6123=Math[_0x2270b9(0x3d5)](0x1,Math[_0x2270b9(0x982)](_0x32d22d*0.33)),_0xc8e3aa=_0x295977[_0x2270b9(0x45e)](0x0,_0x2c6123),_0x186fde=_0x295977[_0x2270b9(0x45e)](-_0x2c6123);return _0x107c6e[_0x2270b9(0x882)][_0x2270b9(0xb04)]((_0x1ebe35,_0x137728)=>{const _0x38eda9=_0x2270b9;if(_0x1ebe35[_0x38eda9(0xbd0)]!==_0x38eda9(0x6e6)||!_0x1ebe35['options'])return;const _0x5f0a1c=_0x1ebe35[_0x38eda9(0xe68)],_0xa3e9dd={};_0x1ebe35['options'][_0x38eda9(0xb04)]((_0x201ed3,_0x7ada56)=>{_0xa3e9dd[_0x7ada56]={'text':_0x201ed3,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x295977['forEach'](_0x13bf78=>{const _0x5c755c=_0x38eda9,_0x5664f1=_0x13bf78[_0x5c755c(0x764)][_0x13bf78[_0x5c755c(0x764)]['length']-0x1],_0x4c509c=_0x5664f1[_0x5c755c(0x9e0)][_0x5c755c(0x36c)](_0x342edd=>_0x342edd[_0x5c755c(0x51f)]===_0x5f0a1c);if(_0x4c509c&&_0x4c509c[_0x5c755c(0xac3)]!==null){const _0x4d929a=_0x1ebe35['options'][_0x5c755c(0x242)](_0x5a526c=>_0x5a526c===_0x4c509c[_0x5c755c(0xbf8)]);_0x4d929a!==-0x1&&_0xa3e9dd[_0x4d929a]&&(_0xa3e9dd[_0x4d929a][_0x5c755c(0x4c0)]++,_0xc8e3aa[_0x5c755c(0x549)](_0x13bf78)&&_0xa3e9dd[_0x4d929a][_0x5c755c(0xc41)]++,_0x186fde[_0x5c755c(0x549)](_0x13bf78)&&_0xa3e9dd[_0x4d929a][_0x5c755c(0x221)]++);}}),_0xb78aba[_0x137728]=_0xa3e9dd;}),_0xb78aba;}function calculateReliabilityKR20(_0x371d2e,_0x184ded,_0x5ca0bd){const _0x3039f4=_0x1dbc7e,_0x474b8f=_0x371d2e[_0x3039f4(0x882)]['length'];if(_0x474b8f<0x2||_0x184ded[_0x3039f4(0xc8f)]<0x2)return null;const _0x5612c3=_0x184ded[_0x3039f4(0xab8)](_0x38b51=>_0x38b51[_0x3039f4(0x41e)]),_0x2a0342=_0x5612c3[_0x3039f4(0xc03)]((_0x176779,_0x1ee475)=>_0x176779+_0x1ee475,0x0)/_0x5612c3[_0x3039f4(0xc8f)],_0x41b2ea=_0x5612c3[_0x3039f4(0xab8)](_0x16efff=>Math[_0x3039f4(0x29a)](_0x16efff-_0x2a0342,0x2))[_0x3039f4(0xc03)]((_0x1864d0,_0xd72628)=>_0x1864d0+_0xd72628,0x0)/_0x5612c3['length'];if(_0x41b2ea===0x0)return null;let _0x11bd90=0x0;for(let _0x3bcdde=0x0;_0x3bcdde<_0x474b8f;_0x3bcdde++){const _0x3d1b96=_0x5ca0bd[_0x3bcdde]?.['p'];if(_0x3d1b96===undefined)continue;const _0x5ad975=0x1-_0x3d1b96;_0x11bd90+=_0x3d1b96*_0x5ad975;}if(_0x11bd90===0x0)return null;const _0x57ca44=_0x474b8f/(_0x474b8f-0x1)*(0x1-_0x11bd90/_0x41b2ea);if(_0x57ca44>0x1)return null;return _0x57ca44;}async function handleAnalyzeClass(){const _0x298011=_0x1dbc7e;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x298011(0xcbb));return;}const _0x3c7f21=collection(db,_0x298011(0xd90)+appId+_0x298011(0xdb8)+currentQuizData['id']+'/submissions'),_0x52c0d8=await getDocs(_0x3c7f21),_0x40d35e=_0x52c0d8['docs'][_0x298011(0xab8)](_0x54610a=>_0x54610a[_0x298011(0x690)]());if(_0x40d35e[_0x298011(0xc8f)]<0x2){showMessage(_0x298011(0x7a4));return;}const _0xdacb7b=document[_0x298011(0x722)]('strength-weakness-analysis-container');_0xdacb7b[_0x298011(0x5dd)]=_0x298011(0xdd4),document[_0x298011(0x722)](_0x298011(0x419))[_0x298011(0xce0)]=!![];const _0x1681ba=_0x40d35e[_0x298011(0xab8)]((_0xec44de,_0x2af50b)=>{const _0x147541=_0x298011,_0x4e4e7a=_0xec44de[_0x147541(0x764)][_0xec44de['attempts'][_0x147541(0xc8f)]-0x1];if(!_0x4e4e7a)return'';return _0x147541(0x9e2)+(_0x2af50b+0x1)+'\x20('+_0xec44de[_0x147541(0x589)]+_0x147541(0x818)+_0x4e4e7a['score']+'/'+_0xec44de[_0x147541(0x3c8)]+_0x147541(0x873)+JSON[_0x147541(0xa70)](_0x4e4e7a[_0x147541(0x9e0)])+_0x147541(0x735);})['join'](_0x298011(0x4a1)),_0xefc7a7=_0x298011(0x5d0)+currentQuizData[_0x298011(0x2d2)]+_0x298011(0x867)+JSON['stringify'](currentQuizData[_0x298011(0x882)])+_0x298011(0x6db)+_0x1681ba+_0x298011(0x682),_0x5660ef={'type':_0x298011(0x552),'properties':{'classStrengths':{'type':_0x298011(0x9ba),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x298011(0x9ba),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x298011(0x9ba),'items':{'type':_0x298011(0xcdc)}}},'required':['classStrengths',_0x298011(0x5cb),_0x298011(0xcd5)]};try{const _0x3b1708=await callAnalysisApi(_0xefc7a7,_0x5660ef);displayClassAnalysis(_0x3b1708);}catch(_0x10e5a9){console[_0x298011(0x300)](_0x298011(0x6b7),_0x10e5a9),_0xdacb7b[_0x298011(0x5dd)]=_0x298011(0x8d7)+_0x10e5a9[_0x298011(0x83d)]+_0x298011(0x4e0);}finally{document[_0x298011(0x722)](_0x298011(0x419))[_0x298011(0xce0)]=![];}}function displayClassAnalysis(_0x4a6fd0){const _0x228493=_0x1dbc7e,_0x242cb5=document[_0x228493(0x722)]('strength-weakness-analysis-container');if(!_0x4a6fd0){_0x242cb5[_0x228493(0x5dd)]=_0x228493(0x8cc);return;}_0x242cb5[_0x228493(0x5dd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a6fd0[_0x228493(0x8fc)][_0x228493(0xab8)](_0x41b7f3=>'<li>'+_0x41b7f3+_0x228493(0x97a))['join']('')+_0x228493(0x3b6)+_0x4a6fd0[_0x228493(0x5cb)]['map'](_0x3a5834=>_0x228493(0x7b5)+_0x3a5834+'</li>')[_0x228493(0xbc8)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a6fd0[_0x228493(0xcd5)][_0x228493(0xab8)](_0x1ad6dc=>_0x228493(0x7b5)+_0x1ad6dc+_0x228493(0x97a))[_0x228493(0xbc8)]('')+_0x228493(0x996);}function formatAndPrintWorksheet(_0x23a0a3,_0x175c78){const _0x1e195b=_0x1dbc7e,_0x28382b=_0x1e195b(0x516)+_0x23a0a3['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x23a0a3[_0x1e195b(0x2d2)]+_0x1e195b(0xebe)+_0x23a0a3[_0x1e195b(0x882)][_0x1e195b(0xab8)]((_0xba0997,_0x23ec95)=>_0x1e195b(0x4b0)+(_0x23ec95+0x1)+'.\x20'+_0xba0997[_0x1e195b(0xe68)]+_0x1e195b(0x765)+(_0xba0997['imageCode']?_0x1e195b(0x5fd)+_0xba0997[_0x1e195b(0x79d)]+_0x1e195b(0x607):'')+_0x1e195b(0xd9d))[_0x1e195b(0xbc8)]('')+_0x1e195b(0x305);_0x175c78[_0x1e195b(0x3bf)]['write'](_0x28382b),_0x175c78['document']['close'](),_0x175c78[_0x1e195b(0x263)]=function(){setTimeout(()=>{_0x175c78['print']();},0x3e8);};}async function generateWorksheet(){const _0x5d1fe2=_0x1dbc7e,_0x18e2df=document['getElementById'](_0x5d1fe2(0x635))['value'][_0x5d1fe2(0xbe3)]();if(!_0x18e2df){showMessage(_0x5d1fe2(0xe6f));return;}const _0x2caae6=document[_0x5d1fe2(0x722)](_0x5d1fe2(0xd2c))[_0x5d1fe2(0x9cd)],_0x4e7438=_0x2caae6?'':'คณิตศาสตร์',_0x373db9=window[_0x5d1fe2(0xcd2)]('',_0x5d1fe2(0x708));_0x373db9[_0x5d1fe2(0x3bf)]['write'](_0x5d1fe2(0xaff));const _0xa5572f=parseInt(document[_0x5d1fe2(0x722)](_0x5d1fe2(0xb22))[_0x5d1fe2(0xa46)]),_0xfd1795=document[_0x5d1fe2(0x722)]('include-images-checkbox')[_0x5d1fe2(0x9cd)],_0x48d984=_0xfd1795?_0x5d1fe2(0xd0e):'',_0x125caf=_0x5d1fe2(0xe05)+_0x4e7438+_0x5d1fe2(0xbe6)+_0xa5572f+_0x5d1fe2(0x4b6)+_0x18e2df+_0x5d1fe2(0x863)+_0x48d984+_0x5d1fe2(0x755)+simpleMathPrompt+_0x5d1fe2(0x6d2),_0x4581e1={'type':'OBJECT','properties':{'topic':{'type':_0x5d1fe2(0xcdc)},'questions':{'type':_0x5d1fe2(0x9ba),'items':{'type':_0x5d1fe2(0x552),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x5d1fe2(0xcdc)}},'required':[_0x5d1fe2(0xe68)]}}},'required':['topic',_0x5d1fe2(0x882)]};document['getElementById'](_0x5d1fe2(0x7bb))[_0x5d1fe2(0x2eb)]='',document[_0x5d1fe2(0x722)](_0x5d1fe2(0xeda))['classList']['remove'](_0x5d1fe2(0x330)),document[_0x5d1fe2(0x722)](_0x5d1fe2(0x59e))[_0x5d1fe2(0x820)][_0x5d1fe2(0xda2)](_0x5d1fe2(0x330)),generateWorksheetBtn['disabled']=!![];try{const _0x3f6b70=await callAnalysisApi(_0x125caf,_0x4581e1);formatAndPrintWorksheet(_0x3f6b70,_0x373db9);}catch(_0xcf19c5){console[_0x5d1fe2(0x300)](_0x5d1fe2(0x2dd),_0xcf19c5);if(_0x373db9)_0x373db9[_0x5d1fe2(0x893)]();showMessage(_0x5d1fe2(0x947));}finally{document['getElementById'](_0x5d1fe2(0xeda))['classList']['add'](_0x5d1fe2(0x330)),document[_0x5d1fe2(0x722)](_0x5d1fe2(0x59e))['classList'][_0x5d1fe2(0xc24)](_0x5d1fe2(0x330)),generateWorksheetBtn[_0x5d1fe2(0xce0)]=![];}}async function callAnalysisApi(_0xa6ce6d,_0x3ed4de){const _0x1830d8=_0x1dbc7e,_0xe0ac57={'contents':[{'role':_0x1830d8(0xb48),'parts':[{'text':_0xa6ce6d}]}],'generationConfig':{'responseMimeType':_0x1830d8(0xbae),'responseSchema':_0x3ed4de}},_0x4225a8='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x429993=_0x1830d8(0x8cb)+_0x4225a8,_0x2cbd6a=await fetch(_0x429993,{'method':_0x1830d8(0x80f),'headers':{'Content-Type':_0x1830d8(0xbae)},'body':JSON['stringify'](_0xe0ac57)});if(!_0x2cbd6a['ok'])throw new Error(_0x1830d8(0x540)+_0x2cbd6a['status']);const _0x5cb905=await _0x2cbd6a[_0x1830d8(0x554)]();if(_0x5cb905[_0x1830d8(0xd2a)]?.[0x0]?.[_0x1830d8(0x94b)]?.['parts']?.[0x0])return JSON['parse'](_0x5cb905[_0x1830d8(0xd2a)][0x0]['content'][_0x1830d8(0x662)][0x0][_0x1830d8(0x27d)]);else{let _0x314b25=_0x1830d8(0xa07);if(_0x5cb905[_0x1830d8(0x1f3)]?.[_0x1830d8(0x2be)])_0x314b25=_0x1830d8(0x688)+_0x5cb905[_0x1830d8(0x1f3)][_0x1830d8(0x2be)]+'.';else _0x5cb905[_0x1830d8(0xd2a)]?.[0x0]?.[_0x1830d8(0x2f8)]&&_0x5cb905['candidates'][0x0][_0x1830d8(0x2f8)]!=='STOP'&&(_0x314b25=_0x1830d8(0xa41)+_0x5cb905[_0x1830d8(0xd2a)][0x0]['finishReason']+'.');console[_0x1830d8(0x300)](_0x314b25,JSON[_0x1830d8(0xa70)](_0x5cb905));throw new Error(_0x314b25);}}async function handleStartSyncMode(_0x4eeb36,_0x328d36=![],_0x521947='classic'){const _0x5397a3=_0x1dbc7e,_0x534b1d=allQuizzes[_0x5397a3(0x36c)](_0x342388=>_0x342388['id']===_0x4eeb36)||allQuizzesGlobal['find'](_0x162dec=>_0x162dec['id']===_0x4eeb36);if(!_0x534b1d){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x534b1d);const _0x490866=Math[_0x5397a3(0x982)](0x3e8+Math[_0x5397a3(0x92b)]()*0x2328)[_0x5397a3(0x992)](),_0x43fbd9=doc(db,'artifacts/'+appId+'/public/data/projects',_0x534b1d[_0x5397a3(0x6ea)]),_0x17583d=await getDoc(_0x43fbd9);if(!_0x17583d[_0x5397a3(0x5c5)]()){showMessage(_0x5397a3(0xec1));return;}const _0x3efef5=_0x17583d['data']()[_0x5397a3(0xda0)]||[],_0x3b8160={};if(_0x521947===_0x5397a3(0x699)){const _0x4af6bd=[...ANONYMOUS_NAMES][_0x5397a3(0x24d)](()=>0.5-Math[_0x5397a3(0x92b)]());_0x3efef5['forEach']((_0x1c6ec0,_0x4b81b1)=>{const _0x5df79b=_0x5397a3;_0x3b8160[_0x1c6ec0]=_0x4af6bd[_0x4b81b1]||_0x5df79b(0xc3c)+(_0x4b81b1+0x1);});}const _0x4f6249=document[_0x5397a3(0x722)]('sync-timer-enable-checkbox')[_0x5397a3(0x9cd)],_0x3981f0=parseInt(document[_0x5397a3(0x722)]('sync-timer-duration-input')[_0x5397a3(0xa46)],0xa);let _0xa08db5={'timerMode':_0x5397a3(0x434),'timerDuration':0x0};_0x4f6249&&(_0xa08db5[_0x5397a3(0x7b1)]=_0x5397a3(0x8ae),_0xa08db5['timerDuration']=_0x3981f0||0xf0);const _0x3d0982=document[_0x5397a3(0x722)](_0x5397a3(0xd06))[_0x5397a3(0x9cd)],_0x435279=document[_0x5397a3(0x722)]('enable-black-market-checkbox')['checked'];try{const _0x511b40=await addDoc(collection(db,_0x5397a3(0xd90)+appId+_0x5397a3(0x3c6)),{'quizId':_0x534b1d['id'],'pin':_0x490866,'status':_0x5397a3(0xcc9),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x328d36,'players':{},'gameVariant':_0x521947,'reviewQuestionIndex':0x0,'playerNicknames':_0x3b8160,'isAnonymousRevealed':![],..._0xa08db5,'showAnswerInAnonymous':_0x3d0982,'isBlackMarketEnabled':_0x435279});currentLiveGameId=_0x511b40['id'],showView(_0x5397a3(0xc2b)),renderSyncLobbyView(_0x490866,_0x534b1d['topic']),listenForSyncGameUpdates();const _0xc42715={'gameId':currentLiveGameId,'mode':_0x5397a3(0x441),'role':_0x5397a3(0x2f1)};sessionStorage[_0x5397a3(0xcdd)](_0x5397a3(0xec8),JSON['stringify'](_0xc42715));}catch(_0x303331){console[_0x5397a3(0x300)](_0x5397a3(0x830),_0x303331),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x73bae0){const _0x3a3df6=_0x1dbc7e;if(!_0x73bae0||!_0x73bae0[_0x3a3df6(0x2b5)]||!_0x73bae0['players'])return _0x73bae0[_0x3a3df6(0x8d6)]||{};const _0x1d00e7=_0x73bae0[_0x3a3df6(0x2b5)][_0x3a3df6(0x882)][_0x3a3df6(0xc8f)],_0xd1a9ae=JSON[_0x3a3df6(0x684)](JSON[_0x3a3df6(0xa70)](_0x73bae0[_0x3a3df6(0x8d6)]));return Object[_0x3a3df6(0x368)](_0xd1a9ae)[_0x3a3df6(0xb04)](_0x3e4c5d=>{const _0x33ec04=_0x3a3df6,_0x25bdf6=_0x3e4c5d[_0x33ec04(0x7ee)]||0x0,_0x367c05=_0x3e4c5d[_0x33ec04(0xe54)]||0x0;_0x1d00e7>0x0&&_0x25bdf6===_0x1d00e7?_0x3e4c5d[_0x33ec04(0x6c5)]=!![]:_0x3e4c5d[_0x33ec04(0x6c5)]=![],_0x3e4c5d[_0x33ec04(0xe5f)]=_0x25bdf6,_0x3e4c5d[_0x33ec04(0xe54)]=_0x367c05;}),_0xd1a9ae;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x5dae91=_0x1dbc7e;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0xe3eaa4=doc(db,_0x5dae91(0xd90)+appId+_0x5dae91(0x3c6),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xe3eaa4,_0x4af8ce=>{const _0x497310=_0x5dae91;if(!_0x4af8ce['exists']()){sessionStorage[_0x497310(0x7bf)]('activeGameSession'),showMessage(_0x497310(0x877));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x497310(0x2f1)?showView(_0x497310(0xbfc)):showView('student');return;}cachedGameData=_0x4af8ce['data'](),cachedGameData[_0x497310(0x2b5)]&&(currentQuizData=cachedGameData[_0x497310(0x2b5)]),syncDataAndRender();});const _0x98f777=collection(db,'artifacts/'+appId+_0x5dae91(0x7c5)+currentLiveGameId+_0x5dae91(0xb8d));if(currentMode===_0x5dae91(0x2f1))unsubscribePlayersCollectionListener=onSnapshot(_0x98f777,_0x496bc1=>{const _0x525d4e=_0x5dae91;_0x496bc1['docChanges']()[_0x525d4e(0xb04)](_0xa159bb=>{const _0x4379f6=_0x525d4e;if(_0xa159bb[_0x4379f6(0x530)]===_0x4379f6(0xa16)||_0xa159bb['type']===_0x4379f6(0xcef))cachedPlayerData[_0xa159bb[_0x4379f6(0xd41)]['id']]=_0xa159bb['doc']['data']();else _0xa159bb[_0x4379f6(0x530)]==='removed'&&delete cachedPlayerData[_0xa159bb[_0x4379f6(0xd41)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers['length']>0x0){const _0x1eaf0b=query(_0x98f777,where(_0x5dae91(0x39f),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x1eaf0b,_0x1dcaed=>{const _0x1a122d=_0x5dae91;_0x1dcaed['docChanges']()[_0x1a122d(0xb04)](_0x45b339=>{const _0x127bcc=_0x1a122d;(_0x45b339[_0x127bcc(0x530)]===_0x127bcc(0xa16)||_0x45b339[_0x127bcc(0x530)]===_0x127bcc(0xcef))&&(cachedPlayerData[_0x45b339[_0x127bcc(0xd41)]['id']]=_0x45b339[_0x127bcc(0xd41)][_0x127bcc(0x690)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x38d043=_0x1dbc7e;if(!cachedGameData)return;const _0x5bbb0d={},_0x3f2347=cachedGameData[_0x38d043(0x8fe)];Object['keys'](cachedPlayerData)[_0x38d043(0xb04)](_0x11e62b=>{const _0x2171fb=_0x38d043,_0x57cda9=cachedPlayerData[_0x11e62b],_0x195f2a=_0x57cda9['answers']&&_0x57cda9[_0x2171fb(0x9e0)][_0x2171fb(0x2c1)](_0x23b719=>_0x23b719['questionIndex']===_0x3f2347);_0x5bbb0d[_0x11e62b]={..._0x57cda9,'answered':_0x195f2a};});const _0x3f9b02={...cachedGameData,'players':_0x5bbb0d};currentMode===_0x38d043(0x2f1)?updateAdminSyncView(_0x3f9b02):updateStudentSyncView(_0x3f9b02);}function renderSyncLobbyView(_0x49b151,_0x49a7cb){const _0x4497d7=_0x1dbc7e;liveGameView[_0x4497d7(0x5dd)]=_0x4497d7(0xc8b)+_0x49a7cb+_0x4497d7(0xcd1)+_0x49b151+_0x4497d7(0x1f9);const _0x43c268=document[_0x4497d7(0x722)](_0x4497d7(0x47a)),_0x127bfe=document[_0x4497d7(0x722)]('confidence-scoring-description');_0x43c268['addEventListener'](_0x4497d7(0xe0f),()=>{const _0x120bfa=_0x4497d7;_0x127bfe[_0x120bfa(0xa20)][_0x120bfa(0xd1c)]=_0x43c268[_0x120bfa(0x9cd)]?_0x120bfa(0xaa9):_0x120bfa(0x434);}),document[_0x4497d7(0x722)]('start-sync-game-btn')['addEventListener'](_0x4497d7(0xa25),async()=>{const _0x910fc7=_0x4497d7,_0x5ca66a=doc(db,_0x910fc7(0xd90)+appId+_0x910fc7(0x3c6),currentLiveGameId),_0x3175d6=document['getElementById'](_0x910fc7(0x47a))[_0x910fc7(0x9cd)];await updateDoc(_0x5ca66a,{'status':_0x910fc7(0x22f),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x3175d6});});}function updateAdminSyncView(_0x4d3514){const _0x5d4e4e=_0x1dbc7e;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x4d3514[_0x5d4e4e(0x600)]){case _0x5d4e4e(0xcc9):renderSyncLobbyView(_0x4d3514[_0x5d4e4e(0xa29)],_0x4d3514[_0x5d4e4e(0x2b5)]['topic']);const _0x3ada02=Object[_0x5d4e4e(0xabb)](_0x4d3514['players']||{})[_0x5d4e4e(0x6b9)](([_0x5b06a1,_0x3ecca3])=>_0x3ecca3[_0x5d4e4e(0x600)]!==_0x5d4e4e(0x7f6));document[_0x5d4e4e(0x722)]('player-count')[_0x5d4e4e(0x2eb)]=_0x3ada02[_0x5d4e4e(0xc8f)],document[_0x5d4e4e(0x722)](_0x5d4e4e(0x2e3))[_0x5d4e4e(0x5dd)]=_0x3ada02['map'](([_0x41cec2,_0x5d0987])=>_0x5d4e4e(0x320)+_0x41cec2+_0x5d4e4e(0x702)+_0x41cec2+_0x5d4e4e(0x705))[_0x5d4e4e(0xbc8)]('')||_0x5d4e4e(0x76d),document[_0x5d4e4e(0x722)](_0x5d4e4e(0xeef))[_0x5d4e4e(0xce0)]=_0x3ada02[_0x5d4e4e(0xc8f)]===0x0;break;case _0x5d4e4e(0x22f):const _0x438a37=Object[_0x5d4e4e(0x368)](_0x4d3514[_0x5d4e4e(0x8d6)]||{})[_0x5d4e4e(0x6b9)](_0x3304af=>_0x3304af[_0x5d4e4e(0x600)]!==_0x5d4e4e(0x7f6)),_0x3425bf=_0x438a37['filter'](_0x3b8266=>_0x3b8266[_0x5d4e4e(0xac0)])[_0x5d4e4e(0xc8f)],_0x2f7e9c=_0x3425bf===_0x438a37[_0x5d4e4e(0xc8f)]&&_0x438a37[_0x5d4e4e(0xc8f)]>0x0;if(_0x2f7e9c&&_0x4d3514[_0x5d4e4e(0x600)]===_0x5d4e4e(0x22f)){const _0x3a1d1=doc(db,_0x5d4e4e(0xd90)+appId+_0x5d4e4e(0x3c6),currentLiveGameId);updateDoc(_0x3a1d1,{'status':_0x5d4e4e(0xdf0)});return;}if(document[_0x5d4e4e(0x722)](_0x5d4e4e(0xbf7))===null)renderAdminSyncQuestionView(_0x4d3514);else{const _0x1a1312=document[_0x5d4e4e(0x722)]('answer-counter');_0x1a1312&&(_0x1a1312[_0x5d4e4e(0x2eb)]=_0x3425bf+'/'+_0x438a37['length']);const _0x2a3f4a=document['getElementById'](_0x5d4e4e(0x6b2));_0x2a3f4a&&(_0x2a3f4a[_0x5d4e4e(0x5dd)]=_0x438a37['map'](_0x3d68c3=>{const _0x123737=_0x5d4e4e,_0x377bad=_0x3d68c3[_0x123737(0xac0)]?_0x123737(0x7a5):_0x123737(0x26b),_0x394330=_0x3d68c3[_0x123737(0xac0)]?_0x123737(0xe12):_0x123737(0x643);return _0x123737(0x96d)+_0x377bad+'\x22>'+_0x394330+_0x123737(0x97b)+_0x3d68c3['name']+'</span><button\x20data-player-name=\x22'+_0x3d68c3['name']+_0x123737(0xa91);})[_0x5d4e4e(0xbc8)](''));}const _0x4d8374=_0x4d3514[_0x5d4e4e(0x7b1)]===_0x5d4e4e(0x8ae)&&_0x4d3514[_0x5d4e4e(0x4c5)];if(_0x4d8374){const _0x5be9ca=_0x4d3514[_0x5d4e4e(0x4c5)][_0x5d4e4e(0xc10)]()[_0x5d4e4e(0x3cb)](),_0xa2e578=_0x4d3514[_0x5d4e4e(0x73b)]*0x3e8,_0xc9ce91=_0x5be9ca+_0xa2e578,_0x2c048c=document[_0x5d4e4e(0x722)]('sync-timer-bar'),_0x5e730a=document[_0x5d4e4e(0x722)](_0x5d4e4e(0x5b9));syncQuestionTimerInterval=setInterval(()=>{const _0x70fae6=_0x5d4e4e,_0x349158=Date[_0x70fae6(0x3e0)](),_0x3b7867=_0x438a37[_0x70fae6(0xc8f)]>0x0&&_0x438a37[_0x70fae6(0xea2)](_0x287f46=>{const _0x1cbc33=_0x70fae6;if(_0x287f46[_0x1cbc33(0xac0)])return!![];const _0x14cc84=_0x287f46[_0x1cbc33(0x3c3)]||0x0;return _0x349158>=_0x5be9ca+_0xa2e578+_0x14cc84;});if(_0x3b7867){clearInterval(syncQuestionTimerInterval);const _0x5bec48=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x5bec48,{'status':'summary'});return;}const _0x1da3ec=_0xc9ce91-_0x349158;if(_0x1da3ec<=0x0){if(_0x2c048c)_0x2c048c['style'][_0x70fae6(0xc6a)]='0%';if(_0x5e730a)_0x5e730a[_0x70fae6(0x2eb)]='0\x20(รอโบนัส)';}else{if(_0x2c048c&&_0x5e730a){const _0x36aca3=_0x1da3ec/_0xa2e578*0x64;_0x2c048c[_0x70fae6(0xa20)][_0x70fae6(0xc6a)]=_0x36aca3+'%',_0x5e730a[_0x70fae6(0x2eb)]=Math[_0x70fae6(0x5c2)](_0x1da3ec/0x3e8);}}},0x1f4);}break;case _0x5d4e4e(0xdf0):const _0x42c488=_0x4d3514['currentQuestionIndex'],_0x277f6c=_0x4d3514['shuffledQuiz'][_0x5d4e4e(0x882)][_0x42c488];renderSyncSummaryView(_0x4d3514,_0x277f6c,!![]);break;case _0x5d4e4e(0xe87):const _0x58c54e=_0x4d3514[_0x5d4e4e(0xa37)]||_0x5d4e4e(0x710);_0x58c54e===_0x5d4e4e(0xb67)?renderAdminSyncDashboard(_0x4d3514,!![],_0x4d3514[_0x5d4e4e(0xbfb)]):(_0x4d3514[_0x5d4e4e(0x600)]===_0x5d4e4e(0xe87)&&!_0x4d3514[_0x5d4e4e(0xc32)]&&((async()=>{const _0x3e9403=_0x5d4e4e;try{const _0x51f49a=doc(db,_0x3e9403(0xd90)+appId+_0x3e9403(0x3c6),currentLiveGameId);await updateDoc(_0x51f49a,{'scoresCalculated':!![]});const _0x35095d=cachedPlayerData||{},_0x17063e=_0x4d3514[_0x3e9403(0x2b5)][_0x3e9403(0x882)]['length'],_0x3ba925={};Object[_0x3e9403(0x368)](_0x35095d)[_0x3e9403(0xb04)](_0x55b5b9=>{const _0x4080ae=_0x3e9403;if(_0x55b5b9['status']!==_0x4080ae(0x7f6)){const _0x1cf5ef=_0x55b5b9['name'],_0xab56f0=(_0x55b5b9[_0x4080ae(0x9e0)]||[])[_0x4080ae(0x36c)](_0xfa466f=>_0xfa466f['questionIndex']===_0x4d3514[_0x4080ae(0x8fe)]),_0x5a1f29=_0x55b5b9['score']||0x0,_0x103d22=_0x55b5b9[_0x4080ae(0xe54)]||0x0;let _0x26bd13=_0x103d22;_0x17063e>0x0&&_0x5a1f29===_0x17063e&&(_0x26bd13+=0x1),_0x3ba925['players.'+_0x1cf5ef+'.score']=_0x5a1f29,_0x3ba925[_0x4080ae(0x8f4)+_0x1cf5ef+_0x4080ae(0x407)]=_0x26bd13,_0x3ba925[_0x4080ae(0x8f4)+_0x1cf5ef+_0x4080ae(0xb10)]=_0x26bd13;}}),await updateDoc(_0x51f49a,{..._0x3ba925});}catch(_0x3da922){console[_0x3e9403(0x300)](_0x3e9403(0xda7),_0x3da922);}})()),renderAdminSyncDashboard(_0x4d3514,!![],_0x4d3514[_0x5d4e4e(0x8fe)]));break;case'podium':_0x4d3514[_0x5d4e4e(0x8fa)]&&saveGameResultsAsSubmissions(_0x4d3514);sessionStorage[_0x5d4e4e(0x7bf)](_0x5d4e4e(0xec8));const _0x2bef42=calculateFinalPodiumScores(_0x4d3514);showPodiumView(_0x2bef42,_0x5d4e4e(0x441),_0x4d3514);break;}}function renderAdminSyncQuestionView(_0x25db9a){const _0x17c6db=_0x1dbc7e,_0x3a8099=_0x25db9a[_0x17c6db(0x8fe)],_0x50f38d=_0x25db9a[_0x17c6db(0x2b5)]['questions'][_0x3a8099],_0x13eed0=_0x25db9a['shuffledQuiz'][_0x17c6db(0x882)][_0x17c6db(0xc8f)],_0x52be17=Object[_0x17c6db(0x368)](_0x25db9a[_0x17c6db(0x8d6)]||{})['filter'](_0x223f12=>_0x223f12[_0x17c6db(0x600)]!==_0x17c6db(0x7f6)),_0x2b04d4=_0x52be17[_0x17c6db(0x6b9)](_0x142996=>_0x142996[_0x17c6db(0xac0)])[_0x17c6db(0xc8f)],_0x17c8f4=_0x2b04d4===_0x52be17['length']&&_0x52be17[_0x17c6db(0xc8f)]>0x0,_0x3698b2=(_0x50f38d[_0x17c6db(0x9d3)]||[])['map'](_0x5273a1=>_0x17c6db(0xb9c)+_0x5273a1+'</div>')[_0x17c6db(0xbc8)]('');let _0x2201a5='';_0x25db9a[_0x17c6db(0x7b1)]===_0x17c6db(0x8ae)&&(_0x2201a5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x25db9a[_0x17c6db(0x73b)]+_0x17c6db(0x1f2));liveGameView['innerHTML']=_0x17c6db(0x3c2)+(_0x3a8099+0x1)+_0x17c6db(0x4df)+_0x13eed0+_0x17c6db(0xcb2)+_0x25db9a[_0x17c6db(0xa29)]+_0x17c6db(0xafa)+_0x2b04d4+'/'+_0x52be17[_0x17c6db(0xc8f)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2201a5+_0x17c6db(0xece)+_0x50f38d[_0x17c6db(0xe68)]+_0x17c6db(0xe20)+_0x3698b2+_0x17c6db(0xe9d)+(!_0x17c8f4?'disabled':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x17c6db(0xa8c)])MathJax['typesetPromise']();const _0x122e8d=doc(db,_0x17c6db(0xd90)+appId+'/public/data/syncGames',currentLiveGameId);document['getElementById'](_0x17c6db(0x862))[_0x17c6db(0x939)](_0x17c6db(0xa25),async()=>{const _0x34a53d=_0x17c6db;await updateDoc(_0x122e8d,{'status':_0x34a53d(0xdf0)});}),document[_0x17c6db(0x722)](_0x17c6db(0xc07))[_0x17c6db(0x590)]=()=>{const _0x305a70=_0x17c6db;openScratchpad(_0x50f38d,_0x50f38d[_0x305a70(0x9d3)]||[]);},document[_0x17c6db(0x722)]('sync-manage-players-btn')['addEventListener'](_0x17c6db(0xa25),()=>{const _0x2be27d=_0x17c6db;document['getElementById']('sync-player-management')['classList'][_0x2be27d(0x9b0)](_0x2be27d(0x330));});const _0x544f80=document[_0x17c6db(0x722)]('end-sync-game-btn');_0x544f80&&(_0x544f80[_0x17c6db(0x590)]=()=>{const _0x28e391=_0x17c6db;showConfirmation(_0x28e391(0x9df),async()=>{const _0x5b5d58=_0x28e391;await updateDoc(_0x122e8d,{'status':_0x5b5d58(0xebc)});});});}function renderSyncLeaderboardView(_0x3ed1ce,_0x2d3512){const _0x41fc02=_0x1dbc7e,_0x3f4b6c=Object[_0x41fc02(0x368)](_0x3ed1ce[_0x41fc02(0x8d6)]||{});_0x3f4b6c['sort']((_0x395385,_0x3ab9f2)=>_0x3ab9f2[_0x41fc02(0x7ee)]-_0x395385[_0x41fc02(0x7ee)]);const _0x5804e5=_0x3f4b6c[_0x41fc02(0x45e)](0x0,0x5);let _0x5d1e97='';if(_0x2d3512){const _0x316e3c=_0x3ed1ce[_0x41fc02(0x8fe)]>=_0x3ed1ce['shuffledQuiz'][_0x41fc02(0x882)]['length']-0x1;_0x5d1e97='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x316e3c?_0x41fc02(0x2e0):_0x41fc02(0xe71))+_0x41fc02(0x787);}else _0x5d1e97='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x41fc02(0x5dd)]=_0x41fc02(0x3ce)+_0x5804e5['map']((_0x26fdd9,_0x54306c)=>_0x41fc02(0x980)+(_0x54306c+0x1)+'.\x20'+_0x26fdd9[_0x41fc02(0x39f)]+_0x41fc02(0x362)+_0x26fdd9['score']+'</span></div>')[_0x41fc02(0xbc8)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d1e97+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x2d3512&&document[_0x41fc02(0x722)](_0x41fc02(0x892))['addEventListener']('click',async()=>{const _0xe2bcbd=_0x41fc02,_0x49ec42=doc(db,'artifacts/'+appId+_0xe2bcbd(0x3c6),currentLiveGameId),_0x453d93=_0x3ed1ce[_0xe2bcbd(0x8fe)]+0x1;if(_0x453d93<_0x3ed1ce[_0xe2bcbd(0x2b5)][_0xe2bcbd(0x882)]['length']){const _0x1c1d52={};Object[_0xe2bcbd(0x6e2)](_0x3ed1ce['players'])[_0xe2bcbd(0xb04)](_0x5b46ab=>{const _0x45446c=_0xe2bcbd;_0x1c1d52[_0x45446c(0x8f4)+_0x5b46ab+_0x45446c(0x56e)]=![];}),await updateDoc(_0x49ec42,{'status':_0xe2bcbd(0x22f),'currentQuestionIndex':_0x453d93,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x49ec42,{'status':_0xe2bcbd(0xebc)});});}async function handleJoinSyncGame(){const _0x1f4c11=_0x1dbc7e,_0x2fc601=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x2fc601||_0x2fc601[_0x1f4c11(0xbe3)]()[_0x1f4c11(0xc8f)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x5c5bbe=collection(db,_0x1f4c11(0xd90)+appId+_0x1f4c11(0x3c6)),_0x2c7413=query(_0x5c5bbe,where(_0x1f4c11(0xa29),'==',_0x2fc601[_0x1f4c11(0xbe3)]()),where(_0x1f4c11(0x600),'==','lobby')),_0x223f81=await getDocs(_0x2c7413);if(_0x223f81['empty']){showMessage(_0x1f4c11(0x61b));return;}const _0x308fec=_0x223f81[_0x1f4c11(0xd16)][0x0];currentLiveGameId=_0x308fec['id'];const _0x1be42f=_0x308fec[_0x1f4c11(0x690)](),_0x560192=doc(db,_0x1f4c11(0xd90)+appId+_0x1f4c11(0x806),_0x1be42f[_0x1f4c11(0x7ff)]),_0x1044d4=await getDoc(_0x560192);if(!_0x1044d4[_0x1f4c11(0x5c5)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x114903=_0x1044d4[_0x1f4c11(0x690)](),_0x1a8360=doc(db,_0x1f4c11(0xd90)+appId+'/public/data/projects',_0x114903['projectId']),_0x351f7a=await getDoc(_0x1a8360);if(!_0x351f7a['exists']())throw new Error(_0x1f4c11(0x493));currentQuizData=_0x1be42f[_0x1f4c11(0x2b5)];const _0x5e6c75=_0x351f7a[_0x1f4c11(0x690)]();showView(_0x1f4c11(0x57f)),showTeamPlayerSelection(_0x5e6c75[_0x1f4c11(0xda0)],_0x114903[_0x1f4c11(0x2d2)]);const _0x4d10a0=document[_0x1f4c11(0x722)](_0x1f4c11(0x365));_0x4d10a0[_0x1f4c11(0x590)]=confirmAndJoinSyncGame;}catch(_0xe6cfdb){console[_0x1f4c11(0x300)](_0x1f4c11(0xe2e),_0xe6cfdb),showMessage(_0x1f4c11(0xcac)+_0xe6cfdb['message']);}}function updateStudentSyncView(_0x2bb515){const _0x12d966=_0x1dbc7e,_0x16a555=localTeamPlayers[0x0],_0x3dcf59=_0x2bb515[_0x12d966(0x8d6)][_0x16a555]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x2bb515[_0x12d966(0x600)]){case'lobby':showView(_0x12d966(0xc2b)),liveGameView[_0x12d966(0x5dd)]=_0x12d966(0x8e6);break;case'question':if(_0x2bb515[_0x12d966(0x8fe)]!==lastSeenQuestionIndex){console[_0x12d966(0x545)]('New\x20question\x20detected.\x20Cleaning\x20up.'),sessionStorage[_0x12d966(0x7bf)]('powerupUsedThisTurn'),sessionStorage[_0x12d966(0x7bf)](_0x12d966(0x4f3)),sessionStorage[_0x12d966(0x7bf)](_0x12d966(0xced));const _0x45e3de=_0x12d966(0x84c)+lastSeenQuestionIndex,_0x36720d=_0x12d966(0xbd6)+lastSeenQuestionIndex,_0x201ecb=_0x12d966(0xae8)+lastSeenQuestionIndex;Object['keys'](sessionStorage)['forEach'](_0x35b419=>{const _0x4c2738=_0x12d966;(_0x35b419[_0x4c2738(0x883)](_0x45e3de)||_0x35b419[_0x4c2738(0x883)](_0x36720d)||_0x35b419[_0x4c2738(0x883)](_0x201ecb))&&sessionStorage['removeItem'](_0x35b419);});if(_0x3dcf59[_0x12d966(0x779)]||_0x3dcf59[_0x12d966(0x6b5)]||(_0x3dcf59[_0x12d966(0x3c3)]||0x0)>0x0){const _0x19bc3d=doc(db,_0x12d966(0xd90)+appId+_0x12d966(0x7c5)+currentLiveGameId+_0x12d966(0xb8d),_0x16a555);updateDoc(_0x19bc3d,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x12d966(0xb2a)](_0x3b7e70=>console[_0x12d966(0x300)](_0x12d966(0xd4c),_0x3b7e70));}lastSeenQuestionIndex=_0x2bb515[_0x12d966(0x8fe)];}localPlayerTurnIndex=0x0;const _0x294ba0=localTeamPlayers[_0x12d966(0xea2)](_0x120107=>_0x2bb515[_0x12d966(0x8d6)][_0x120107]?.[_0x12d966(0xac0)]===!![]);if(_0x294ba0)liveGameView[_0x12d966(0x5dd)]=_0x12d966(0x986);else{renderStudentSyncQuestionView(_0x2bb515);if(_0x2bb515['timerMode']==='per_question'){if(!_0x2bb515[_0x12d966(0x4c5)]){console[_0x12d966(0x545)]('Waiting\x20for\x20server\x20timestamp\x20for\x20timer...');return;}const _0x10f182=_0x2bb515[_0x12d966(0x4c5)][_0x12d966(0xc10)]()[_0x12d966(0x3cb)](),_0x117d6a=_0x2bb515[_0x12d966(0x73b)]*0x3e8,_0x4a5d70=localTeamPlayers['map'](_0x2012dd=>_0x2bb515[_0x12d966(0x8d6)][_0x2012dd]?.[_0x12d966(0x3c3)]||0x0),_0x32edd4=Math[_0x12d966(0x3d5)](..._0x4a5d70,0x0),_0x1f6742=_0x10f182+_0x117d6a+_0x32edd4;syncQuestionTimerInterval=setInterval(()=>{const _0xa6b1cc=_0x12d966,_0x2d9853=_0x1f6742-Date[_0xa6b1cc(0x3e0)](),_0x42c5e6=document[_0xa6b1cc(0x722)](_0xa6b1cc(0x902)),_0x5ea180=document['getElementById'](_0xa6b1cc(0x5b9));if(_0x2d9853<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x42c5e6)_0x42c5e6[_0xa6b1cc(0xa20)][_0xa6b1cc(0xc6a)]='0%';if(_0x5ea180)_0x5ea180[_0xa6b1cc(0x2eb)]='0';liveGameView[_0xa6b1cc(0x5dd)]=_0xa6b1cc(0x477);}else{if(_0x42c5e6&&_0x5ea180){const _0x574c67=_0x117d6a+_0x32edd4,_0x4e0852=_0x574c67>0x0?_0x2d9853/_0x574c67*0x64:0x0;_0x42c5e6['style'][_0xa6b1cc(0xc6a)]=_0x4e0852+'%',_0x5ea180['textContent']=Math[_0xa6b1cc(0x5c2)](_0x2d9853/0x3e8);}}},0x1f4);}}break;case _0x12d966(0xdf0):liveGameView[_0x12d966(0x5dd)]=_0x12d966(0xd51);break;case _0x12d966(0xe87):localPlayerTurnIndex=0x0;const _0x4e7e6d=_0x2bb515[_0x12d966(0xa37)]||_0x12d966(0x710);if(_0x4e7e6d===_0x12d966(0x699))renderStudentAnonymousResultsView(_0x2bb515,_0x2bb515['currentQuestionIndex']);else _0x4e7e6d===_0x12d966(0x2b4)?renderStudentCompetitionResultsView(_0x2bb515,_0x2bb515[_0x12d966(0x8fe)]):renderStudentSyncResultsView(_0x2bb515);break;case _0x12d966(0xebc):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x12d966(0xed4)](_0x12d966(0xab4),handleFullscreenChange),document[_0x12d966(0xed4)](_0x12d966(0x872),handleVisibilityChange),sessionStorage[_0x12d966(0x7bf)](_0x12d966(0xec8));const _0x57fab5=calculateFinalPodiumScores(_0x2bb515);showPodiumView(_0x57fab5,_0x12d966(0x441),_0x2bb515);break;}}function renderStudentSyncResultsView(_0x670f4){const _0x26111b=_0x1dbc7e;let _0x1ac3c2=[];_0x670f4[_0x26111b(0x2b7)]?_0x1ac3c2=_0x670f4[_0x26111b(0x2b7)]:_0x1ac3c2=Object[_0x26111b(0x368)](_0x670f4[_0x26111b(0x8d6)]||{});const _0xe4b31a=_0x1ac3c2;_0xe4b31a[_0x26111b(0x24d)]((_0x558332,_0x4ea903)=>(_0x4ea903[_0x26111b(0x7ee)]||0x0)-(_0x558332['score']||0x0));const _0x39bfbd=_0x670f4['gameVariant']||_0x26111b(0x710),_0x44aff1=_0x670f4['shuffledQuiz'][_0x26111b(0x882)];let _0x200dfe='';if(_0x39bfbd===_0x26111b(0xb67)){const _0x15dd7d=_0x670f4[_0x26111b(0xbfb)]>=_0x44aff1[_0x26111b(0xc8f)]-0x1;_0x15dd7d?_0x200dfe=_0x26111b(0x3fb):_0x200dfe=_0x26111b(0xd89);}else{const _0x4cfb77=_0x670f4['currentQuestionIndex']>=_0x44aff1[_0x26111b(0xc8f)]-0x1;_0x4cfb77?_0x200dfe=_0x26111b(0x3fb):_0x200dfe=_0x26111b(0x2bf);}const _0x3a05f6=_0x39bfbd==='reveal_at_end'?_0x670f4['reviewQuestionIndex']:_0x670f4[_0x26111b(0x8fe)],_0x24ce3d=_0x26111b(0x5dc)+_0xe4b31a['map']((_0x40cdab,_0x8a8c5f)=>{const _0x4e7261=_0x26111b,_0x27a444=localTeamPlayers[_0x4e7261(0x549)](_0x40cdab[_0x4e7261(0x39f)]),_0x3162d8=_0x27a444?_0x4e7261(0xd1f):_0x4e7261(0x592);let _0x18b24c='';if(_0x27a444){const _0x36a7a2=(_0x40cdab[_0x4e7261(0x9e0)]||[])['find'](_0xd07529=>_0xd07529['questionIndex']===_0x3a05f6);_0x36a7a2&&_0x36a7a2['powerupUsed']===_0x4e7261(0xd25)&&!_0x36a7a2[_0x4e7261(0xa97)]&&(_0x18b24c=_0x4e7261(0xd11));}return _0x4e7261(0xb91)+_0x3162d8+_0x4e7261(0x805)+(_0x27a444?_0x4e7261(0x374):_0x4e7261(0xb2f))+'\x20w-8\x20inline-block\x22>'+(_0x8a8c5f+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x40cdab[_0x4e7261(0x39f)]+'\x20'+(_0x27a444?_0x4e7261(0xda8):'')+_0x4e7261(0xe55)+(_0x27a444?_0x4e7261(0x374):'text-white')+'\x22>'+_0x40cdab[_0x4e7261(0x7ee)]+_0x4e7261(0x3ae)+_0x18b24c+_0x4e7261(0x9d9);})[_0x26111b(0xbc8)]('')+_0x26111b(0x222)+_0x200dfe+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x26111b(0x5dd)]=_0x24ce3d;}function renderStudentAnonymousResultsView(_0x42a7a5,_0x3fdd02){const _0x5334e4=_0x1dbc7e;let _0xe8603=[];_0x42a7a5['publicLeaderboard']?_0xe8603=_0x42a7a5[_0x5334e4(0x2b7)]:_0xe8603=Object[_0x5334e4(0x368)](_0x42a7a5[_0x5334e4(0x8d6)]||{});const _0xf9fbe=_0x3fdd02,_0x49cef9=_0x42a7a5['gameVariant']||_0x5334e4(0x710),_0x231ebd=_0x42a7a5[_0x5334e4(0x920)]===!![],_0x1f7dc2=_0x42a7a5[_0x5334e4(0x2b5)][_0x5334e4(0x882)],_0x3685c4=_0xe8603['map'](_0x1499de=>{const _0x1773ad=_0x5334e4,_0x3f9fb2=_0x1499de[_0x1773ad(0x7ee)]||0x0,_0x2900d4=_0x1499de['totalPoints']||0x0,_0xf67f50=(_0x1499de['answers']||[])[_0x1773ad(0x6b9)](_0x13a9de=>_0x49cef9==='reveal_at_end'?_0x13a9de[_0x1773ad(0x78a)]<=_0xf9fbe:!![]);return{..._0x1499de,'realScore':_0x3f9fb2,'totalPoints':_0x2900d4,'answers':_0xf67f50};}),_0x689b03=_0x42a7a5[_0x5334e4(0x910)]===!![],_0x432a3c=[..._0x3685c4][_0x5334e4(0x24d)]((_0x70e9b0,_0x2bc8ea)=>{const _0x4f8e9d=_0x5334e4;if(_0x689b03){const _0x2302a1=_0x2bc8ea[_0x4f8e9d(0xe5f)]-_0x70e9b0['realScore'];if(_0x2302a1!==0x0)return _0x2302a1;const _0x5e8ecf=_0x2bc8ea[_0x4f8e9d(0xe54)]-_0x70e9b0[_0x4f8e9d(0xe54)];if(_0x5e8ecf!==0x0)return _0x5e8ecf;return(_0x70e9b0[_0x4f8e9d(0x39f)]||'')[_0x4f8e9d(0x81f)](_0x2bc8ea[_0x4f8e9d(0x39f)]||'','th');}else{const _0x429d89=_0x2bc8ea[_0x4f8e9d(0xe54)]-_0x70e9b0[_0x4f8e9d(0xe54)];if(_0x429d89!==0x0)return _0x429d89;const _0x442daa=_0x2bc8ea[_0x4f8e9d(0xe5f)]-_0x70e9b0[_0x4f8e9d(0xe5f)];if(_0x442daa!==0x0)return _0x442daa;return(_0x70e9b0[_0x4f8e9d(0x39f)]||'')[_0x4f8e9d(0x81f)](_0x2bc8ea[_0x4f8e9d(0x39f)]||'','th');}});let _0x2c2edb=null;const _0xed1a1a=_0x3685c4[_0x5334e4(0x6b9)](_0x49c096=>localTeamPlayers['includes'](_0x49c096['name']));_0x2c2edb=_0xed1a1a['length']>0x0?_0xed1a1a[_0x5334e4(0x24d)]((_0x13e459,_0x4f3781)=>_0x4f3781[_0x5334e4(0xe54)]-_0x13e459[_0x5334e4(0xe54)])[0x0]:null;if(!_0x2c2edb){liveGameView[_0x5334e4(0x5dd)]=_0x5334e4(0x934);return;}const _0x563df0=_0x689b03?_0x2c2edb[_0x5334e4(0xe5f)]:_0x2c2edb['totalPoints'],_0x263946=_0x689b03?_0x2c2edb['totalPoints']:_0x2c2edb[_0x5334e4(0xe5f)],_0x5725f0=_0x432a3c[0x0],_0x5dd7ad=_0x689b03?_0x5725f0[_0x5334e4(0xe5f)]:_0x5725f0[_0x5334e4(0xe54)],_0x3c4b28=_0x689b03?_0x5725f0[_0x5334e4(0xe54)]:_0x5725f0[_0x5334e4(0xe5f)],_0x3d2252=_0x563df0===_0x5dd7ad&&_0x263946===_0x3c4b28&&(_0x432a3c[0x0]['realScore']>0x0||_0x432a3c[0x0][_0x5334e4(0xe54)]>0x0),_0x511e7a=_0x3fdd02+0x1,_0x36b080=_0x3685c4[_0x5334e4(0x6b9)](_0x4a6295=>_0x4a6295['realScore']===_0x511e7a&&(_0x4a6295[_0x5334e4(0x9e0)]||[])['length']===_0x511e7a&&_0x511e7a>0x0),_0x2ea3c1=_0x36b080[_0x5334e4(0xc8f)]>0x0?Math['max'](..._0x36b080[_0x5334e4(0xab8)](_0x3d844e=>_0x3d844e[_0x5334e4(0xe54)])):-Infinity,_0x350298=_0x432a3c[_0x5334e4(0xab8)]((_0x3adf2a,_0x320b4a)=>{const _0x180353=_0x5334e4,_0x4b8083=_0x3adf2a['realScore'],_0xd8dba5=_0x3adf2a[_0x180353(0xe54)],_0x64c418=(_0x3adf2a[_0x180353(0x9e0)]||[])[_0x180353(0x36c)](_0x136199=>_0x136199[_0x180353(0x78a)]===_0x3fdd02);let _0x39c2fa='';if(_0x64c418){if(_0x64c418[_0x180353(0x3d1)])_0x39c2fa+='<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>';if(_0x64c418[_0x180353(0xb78)])_0x39c2fa+=_0x180353(0x70a);if(_0x64c418['usedBuyTime'])_0x39c2fa+=_0x180353(0xaa8);const _0x5d3fae=_0x64c418[_0x180353(0x99c)];if(_0x5d3fae)switch(_0x5d3fae){case'poll':_0x39c2fa+=_0x180353(0xbda);break;case _0x180353(0xcf9):_0x39c2fa+=_0x180353(0x398);break;case _0x180353(0x3e4):_0x39c2fa+=_0x180353(0xcce);break;case'fiftyFifty':_0x39c2fa+=_0x180353(0xad7);break;case _0x180353(0xd25):_0x39c2fa+=_0x180353(0xb42);break;case _0x180353(0xeb6):_0x39c2fa+=_0x180353(0x23f);break;}}let _0x4dae28='';const _0x525120=_0x3adf2a[_0x180353(0x9e0)][_0x180353(0xc8f)],_0x2ab46e=_0x3adf2a[_0x180353(0xe5f)]===_0x511e7a&&_0x525120===_0x511e7a&&_0x511e7a>0x0;if(_0x689b03){const _0x40fcd5=_0x2ab46e&&_0x3adf2a[_0x180353(0xe54)]===_0x2ea3c1;if(_0x40fcd5)_0x4dae28=_0x180353(0x9c2);else _0x2ab46e&&(_0x4dae28=_0x180353(0xb51));}else{if(_0x525120===_0x511e7a&&_0x511e7a>0x0){let _0x1488f3=_0x511e7a;_0x42a7a5[_0x180353(0x4a0)]&&(_0x1488f3=_0x511e7a*0x2);const _0x120b2f=_0x3adf2a['totalPoints']===_0x1488f3;if(_0x120b2f)_0x4dae28='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22สุดยอด!\x20(คะแนนเต็ม\x20+\x20มั่นใจทุกข้อ)\x22>👑</span>';else _0x2ab46e&&(_0x4dae28=_0x180353(0xb51));}}if(_0x4dae28===''){if(_0xd8dba5<0x0)_0x4dae28=_0x180353(0xdc0);else _0x4b8083===0x0&&_0x525120>0x0&&(_0x4dae28=_0x180353(0x1fa));}let _0x192af4='bg-black/20',_0x2dfa5b=![];const _0x16e626=(_0x3adf2a[_0x180353(0x9e0)]||[])['find'](_0x242e28=>_0x242e28[_0x180353(0x78a)]===_0xf9fbe);if(_0x16e626){const _0x450368=_0x16e626[_0x180353(0xa97)],_0x4b2d83=_0x16e626['wasConfident']===!![]||_0x16e626[_0x180353(0x2db)]==='confident',_0x525421=_0x16e626[_0x180353(0x99c)];if(_0x525421===_0x180353(0xd25))_0x450368?(_0x192af4='bg-yellow-300\x20text-yellow-900\x20font-bold',_0x2dfa5b=!![]):_0x192af4=_0x180353(0x48b);else{if(_0x4b2d83)_0x192af4=_0x450368?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x180353(0x749);else _0x450368&&(_0x192af4='bg-[#DCFCE7]\x20text-green-900');}}let _0x499a3b='';const _0x3885eb=_0x3adf2a[_0x180353(0x39f)],_0x56654f=_0x42a7a5['playerNicknames'][_0x3adf2a[_0x180353(0x39f)]]||_0x180353(0x6f2),_0x1d09b8=_0x180353(0x3ee),_0x38fc9c='word-break:\x20break-all;',_0x18752e=localTeamPlayers[_0x180353(0x549)](_0x3885eb),_0x596575=_0x689b03?_0x3adf2a[_0x180353(0xe5f)]:_0x3adf2a[_0x180353(0xe54)],_0x231537=_0x689b03?_0x3adf2a[_0x180353(0xe54)]:_0x3adf2a[_0x180353(0xe5f)],_0x5cabc3=_0x2dfa5b?_0x180353(0x4f7):'text-gray-300';if(_0x231ebd)_0x499a3b=_0x180353(0x686)+_0x1d09b8+'\x22\x20title=\x22'+_0x3885eb+'\x20('+_0x56654f+')\x22><span\x20style=\x22'+_0x38fc9c+'\x22>'+_0x3885eb+_0x180353(0x573)+_0x39c2fa+'\x20'+_0x4dae28+'<span\x20class=\x22block\x20text-sm\x20'+_0x5cabc3+_0x180353(0x77d)+_0x38fc9c+_0x180353(0x93a)+_0x56654f+_0x180353(0x2e5);else{if(_0x18752e)_0x3d2252?_0x499a3b=_0x180353(0x686)+_0x1d09b8+_0x180353(0xd5c)+_0x3885eb+'\x20('+_0x56654f+_0x180353(0x78f)+_0x38fc9c+'\x22>'+_0x3885eb+_0x180353(0x573)+_0x39c2fa+'\x20'+_0x4dae28+_0x180353(0xc5c)+_0x5cabc3+_0x180353(0x77d)+_0x38fc9c+'\x22>('+_0x56654f+')</span></div>':_0x499a3b=_0x180353(0x686)+_0x1d09b8+_0x180353(0xd5c)+_0x56654f+_0x180353(0xe6b)+_0x38fc9c+'\x22>'+_0x56654f+_0x180353(0x573)+_0x39c2fa+'\x20'+_0x4dae28+_0x180353(0x607),_0x499a3b=_0x180353(0x86e)+_0x499a3b+_0x180353(0x35f);else{const _0x2983de=_0x563df0>_0x596575||_0x563df0===_0x596575&&_0x263946>_0x231537;_0x2983de?_0x499a3b=_0x180353(0x686)+_0x1d09b8+'\x22\x20title=\x22'+_0x3885eb+'\x20('+_0x56654f+_0x180353(0x78f)+_0x38fc9c+'\x22>'+_0x3885eb+_0x180353(0x573)+_0x39c2fa+'\x20'+_0x4dae28+_0x180353(0xc5c)+_0x5cabc3+_0x180353(0x77d)+_0x38fc9c+'\x22>('+_0x56654f+_0x180353(0x2e5):_0x499a3b='<div\x20style=\x22'+_0x1d09b8+_0x180353(0xd5c)+_0x56654f+_0x180353(0xe6b)+_0x38fc9c+'\x22>'+_0x56654f+_0x180353(0x573)+_0x39c2fa+'\x20'+_0x4dae28+_0x180353(0x607);}}const _0x1c52e4=_0xd8dba5>=0x0?'(+'+_0xd8dba5+')':'('+_0xd8dba5+')',_0x2f9fa1='<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>'+_0x3adf2a[_0x180353(0xe5f)]+_0x180353(0x639)+_0x1c52e4+_0x180353(0x24e);return _0x180353(0x517)+_0x192af4+_0x180353(0xc38)+(_0x320b4a+0x1)+_0x180353(0x65d)+_0x499a3b+_0x180353(0xdb2)+_0x2f9fa1+_0x180353(0x1fb);})[_0x5334e4(0xbc8)]('');let _0x3302b7='';const _0x40243c=_0x49cef9===_0x5334e4(0xb67)?_0x42a7a5[_0x5334e4(0xbfb)]>=_0x1f7dc2[_0x5334e4(0xc8f)]-0x1:_0x42a7a5['currentQuestionIndex']>=_0x1f7dc2[_0x5334e4(0xc8f)]-0x1;_0x40243c?_0x3302b7=_0x5334e4(0x3fb):_0x3302b7='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0x4ff6a5=_0x5334e4(0x6d1)+_0x350298+_0x5334e4(0xce7)+_0x3302b7+_0x5334e4(0x3ab);liveGameView[_0x5334e4(0x5dd)]=_0x4ff6a5;}function renderStudentCompetitionResultsView(_0x25c56d,_0x40308c){const _0x429042=_0x1dbc7e,_0x51b9cc=Object[_0x429042(0x368)](_0x25c56d['players']||{}),_0x3ec222=_0x40308c,_0x49c68f=_0x25c56d['gameVariant']||'classic',_0x14b830=_0x25c56d[_0x429042(0x2b5)][_0x429042(0x882)],_0x40fc92=_0x51b9cc[_0x429042(0xab8)](_0x103af0=>{const _0x48da19=_0x429042,_0x352e82=_0x103af0['score']||0x0,_0x1e2ecc=_0x103af0[_0x48da19(0xe54)]||0x0,_0x463a11=(_0x103af0['answers']||[])['filter'](_0x30fd9d=>_0x49c68f===_0x48da19(0xb67)?_0x30fd9d[_0x48da19(0x78a)]<=_0x3ec222:!![]);return{..._0x103af0,'realScore':_0x352e82,'totalPoints':_0x1e2ecc,'answers':_0x463a11};}),_0x489593=_0x25c56d[_0x429042(0x910)]===!![],_0x58e321=[..._0x40fc92]['sort']((_0x3494ed,_0x3b5fe)=>{const _0x2a83e9=_0x429042;if(_0x489593){const _0x28d12c=_0x3b5fe['realScore']-_0x3494ed[_0x2a83e9(0xe5f)];if(_0x28d12c!==0x0)return _0x28d12c;const _0x370fa2=_0x3b5fe['totalPoints']-_0x3494ed['totalPoints'];if(_0x370fa2!==0x0)return _0x370fa2;return(_0x3494ed[_0x2a83e9(0x39f)]||'')[_0x2a83e9(0x81f)](_0x3b5fe[_0x2a83e9(0x39f)]||'','th');}else{const _0x1b0ee6=_0x3b5fe[_0x2a83e9(0xe54)]-_0x3494ed[_0x2a83e9(0xe54)];if(_0x1b0ee6!==0x0)return _0x1b0ee6;const _0x3c7a93=_0x3b5fe[_0x2a83e9(0xe5f)]-_0x3494ed[_0x2a83e9(0xe5f)];if(_0x3c7a93!==0x0)return _0x3c7a93;return(_0x3494ed[_0x2a83e9(0x39f)]||'')[_0x2a83e9(0x81f)](_0x3b5fe[_0x2a83e9(0x39f)]||'','th');}}),_0x3500e3=_0x58e321[_0x429042(0xab8)]((_0x5a3eda,_0x4f5359)=>{const _0x484322=_0x429042,_0x111262='';let _0x23d864=_0x484322(0x592);const _0x479a69=_0x5a3eda[_0x484322(0x39f)],_0x17fc9e='line-height:\x201.3;\x20min-width:\x200;',_0x3dc83c=_0x484322(0x277),_0x3ca8d9=_0x484322(0x686)+_0x17fc9e+'\x22\x20title=\x22'+_0x479a69+_0x484322(0xe6b)+_0x3dc83c+'\x22>'+_0x479a69+_0x484322(0x24e)+_0x111262+'</div>',_0x2ee9ef='';return _0x484322(0x517)+_0x23d864+_0x484322(0xc38)+(_0x4f5359+0x1)+_0x484322(0x65d)+_0x3ca8d9+_0x484322(0xdb2)+_0x2ee9ef+_0x484322(0x1fb);})['join']('');let _0x4cc7be='';const _0x1e56df=_0x49c68f===_0x429042(0xb67)?_0x25c56d['reviewQuestionIndex']>=_0x14b830[_0x429042(0xc8f)]-0x1:_0x25c56d[_0x429042(0x8fe)]>=_0x14b830['length']-0x1;_0x1e56df?_0x4cc7be='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x4cc7be=_0x429042(0x2bf);const _0x1457fd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3500e3+_0x429042(0xce7)+_0x4cc7be+_0x429042(0x3ab);liveGameView[_0x429042(0x5dd)]=_0x1457fd;}function renderStudentSyncQuestionView(_0x30227b){const _0x29651a=_0x1dbc7e,_0x4c6a54=localTeamPlayers[_0x29651a(0x36c)](_0x49b430=>_0x30227b['players'][_0x49b430]&&_0x30227b[_0x29651a(0x8d6)][_0x49b430][_0x29651a(0xac0)]===![]);if(!_0x4c6a54){console['log']('No\x20unanswered\x20players\x20found.\x20Waiting...');return;}const _0x229a7f=_0x30227b[_0x29651a(0x8d6)][_0x4c6a54],_0x4b5397=_0x229a7f[_0x29651a(0xe54)]||0x0,_0x357764=_0x229a7f[_0x29651a(0xca5)]||{},_0x231bf7=_0x30227b[_0x29651a(0x8fe)],_0x26bb30=_0x30227b[_0x29651a(0x2b5)][_0x29651a(0x882)][_0x29651a(0xc8f)],_0x4687e4=_0x30227b[_0x29651a(0x2b5)]['questions'][_0x231bf7],_0x59d6fd=_0x4687e4[_0x29651a(0xbd0)]||_0x30227b['shuffledQuiz'][_0x29651a(0x4f4)];let _0x4e3a88='',_0x9d643c=![];const _0x1cbf9a=_0x29651a(0xae8)+_0x231bf7+'_p'+_0x4c6a54,_0x241855=JSON[_0x29651a(0x684)](sessionStorage[_0x29651a(0xe32)](_0x1cbf9a)||'[]')[_0x29651a(0xab8)](String),_0x5b17ff=_0x29651a(0xbd6)+_0x231bf7+'_p'+_0x4c6a54,_0x3cf7a7=sessionStorage[_0x29651a(0xe32)](_0x5b17ff);switch(_0x59d6fd){case _0x29651a(0x3f7):const _0x5c9135=_0x241855['includes']('0')?'':_0x29651a(0xea6),_0x4309f2=_0x241855[_0x29651a(0x549)]('1')?'':_0x29651a(0xd5f);_0x4e3a88=_0x5c9135+_0x4309f2;break;case _0x29651a(0x432):case _0x29651a(0xec9):_0x9d643c=!![],_0x4e3a88='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0x9d643c=!![],_0x4e3a88='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4687e4[_0x29651a(0xb68)]||[])[_0x29651a(0xab8)](_0x4970c7=>_0x29651a(0x9de)+_0x4970c7+'\x22>'+_0x4970c7+_0x29651a(0xa4f))[_0x29651a(0xbc8)]('')+_0x29651a(0xaf5);break;case'multiple_choice':default:_0x4e3a88=(_0x4687e4[_0x29651a(0x9d3)]||[])[_0x29651a(0xab8)]((_0x10c4b1,_0x4105eb)=>{const _0x450664=_0x29651a;if(_0x241855[_0x450664(0x549)](_0x4105eb[_0x450664(0x992)]()))return'';return'<button\x20data-value=\x22'+_0x4105eb+_0x450664(0xb38)+_0x10c4b1+_0x450664(0x3de);})[_0x29651a(0xbc8)]('');break;}let _0x4d379c='';_0x30227b[_0x29651a(0x7b1)]===_0x29651a(0x8ae)&&(_0x4d379c=_0x29651a(0x220)+_0x30227b['timerDuration']+_0x29651a(0x47d));let _0x3e8e8d='';if(_0x30227b[_0x29651a(0x910)]===!![]){const _0x2408bd=[_0x357764['buyTime']>0x0?_0x29651a(0x31d)+_0x357764[_0x29651a(0xaf7)]+')</button>':'',_0x357764['cutOne']>0x0?_0x29651a(0x78c)+_0x357764[_0x29651a(0xcf9)]+_0x29651a(0xa7c):'',_0x357764[_0x29651a(0x3e4)]>0x0?_0x29651a(0xbbd)+_0x357764['insurance']+_0x29651a(0xa7c):'',_0x357764['fiftyFifty']>0x0?_0x29651a(0xc73)+_0x357764[_0x29651a(0x7cc)]+_0x29651a(0xa7c):'',_0x357764[_0x29651a(0xeb6)]>0x0?_0x29651a(0x445)+_0x357764[_0x29651a(0xeb6)]+')</button>':'']['filter'](Boolean)[_0x29651a(0xbc8)]('\x20'),_0x5dfe99=!_0x3cf7a7?_0x29651a(0x90c):'';_0x3e8e8d=_0x29651a(0x720)+_0x4b5397+'\x20Points)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5dfe99+_0x29651a(0x9af)+(_0x2408bd||'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}let _0x171812='';_0x229a7f[_0x29651a(0x779)]===!![]&&(_0x171812+=_0x29651a(0x94d));_0x229a7f[_0x29651a(0x6b5)]===!![]&&(_0x171812+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>👻\x20คุณถูกบังคับให้\x20\x22มั่นใจ\x22\x20ในข้อนี้!</div>');if(_0x3cf7a7)switch(_0x3cf7a7){case _0x29651a(0xd25):_0x171812+=_0x29651a(0x4ca);break;case _0x29651a(0x3e4):_0x171812+=_0x29651a(0x795);break;case _0x29651a(0xeb6):_0x171812+=_0x29651a(0x403);break;case _0x29651a(0xcf9):_0x171812+=_0x29651a(0xb13);break;case'fiftyFifty':_0x171812+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>🌗\x20คุณได้ใช้\x20\x2250:50\x22\x20ไปแล้ว</div>';break;}(_0x229a7f['timeBonusThisQuestion']||0x0)>0x0&&(_0x171812+=_0x29651a(0xa54));liveGameView[_0x29651a(0x5dd)]=_0x29651a(0x316)+(_0x231bf7+0x1)+_0x29651a(0x4df)+_0x26bb30+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x4c6a54+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d379c+_0x29651a(0x1f0)+_0x3e8e8d+_0x29651a(0x5d9)+_0x171812+_0x29651a(0x2d7)+(_0x4687e4[_0x29651a(0xe68)]||_0x4687e4[_0x29651a(0x869)])+_0x29651a(0xe20)+_0x4e3a88+_0x29651a(0x86f);if(window['MathJax'])MathJax[_0x29651a(0x303)]();function _0x52172d(_0x4db7a6,_0x37aa31,_0x208e0d,_0x53cc9f){const _0x4e7067=_0x29651a,_0xf160a7=_0x208e0d[_0x4e7067(0x4a0)]===!![],_0x1f772b=_0x208e0d['currentQuestionIndex'],_0x474942=_0x4e7067(0xbd6)+_0x1f772b+'_p'+_0x53cc9f,_0xab9648=sessionStorage[_0x4e7067(0xe32)](_0x474942),_0x121af4=_0xab9648===_0x4e7067(0xd25),_0x429c13=_0x208e0d[_0x4e7067(0x8d6)][_0x53cc9f];if(_0x121af4){const _0x13944e=document[_0x4e7067(0x722)]('wager-modal'),_0x4d93ef=document['getElementById'](_0x4e7067(0x522)),_0x2da921=document[_0x4e7067(0x722)](_0x4e7067(0x927)),_0x386247=document[_0x4e7067(0x722)]('wager-max-points'),_0xef1480=_0x429c13[_0x4e7067(0xe54)]||0x0;_0x4d93ef[_0x4e7067(0x3d5)]=_0xef1480,_0x4d93ef[_0x4e7067(0xa46)]=0x0,_0x2da921[_0x4e7067(0x2eb)]=0x0,_0x386247[_0x4e7067(0x2eb)]=_0xef1480,_0x4d93ef[_0x4e7067(0x721)]=()=>{const _0x4bc3e2=_0x4e7067;_0x2da921[_0x4bc3e2(0x2eb)]=_0x4d93ef['value'];};const _0x2f3c70=document[_0x4e7067(0x722)](_0x4e7067(0x879));_0x2f3c70[_0x4e7067(0xa7e)][_0x4e7067(0xa6a)]=_0x4db7a6,_0x2f3c70[_0x4e7067(0xa7e)]['question']=JSON[_0x4e7067(0xa70)](_0x37aa31),_0x2f3c70[_0x4e7067(0xa7e)][_0x4e7067(0x5c7)]=JSON[_0x4e7067(0xa70)](_0x208e0d),_0x2f3c70['dataset'][_0x4e7067(0x6de)]=_0x53cc9f,_0x13944e[_0x4e7067(0x820)][_0x4e7067(0xda2)](_0x4e7067(0x330));}else{if(_0xf160a7){document[_0x4e7067(0x722)](_0x4e7067(0x76b))[_0x4e7067(0xa7e)][_0x4e7067(0xa7a)]='sync';const _0x13460a=document['getElementById'](_0x4e7067(0xb11));_0x13460a['dataset'][_0x4e7067(0xa6a)]=_0x4db7a6,_0x13460a[_0x4e7067(0xa7e)]['question']=JSON[_0x4e7067(0xa70)](_0x37aa31),_0x13460a[_0x4e7067(0xa7e)][_0x4e7067(0x5c7)]=JSON[_0x4e7067(0xa70)](_0x208e0d),_0x13460a[_0x4e7067(0xa7e)][_0x4e7067(0x6de)]=_0x53cc9f,document[_0x4e7067(0x722)](_0x4e7067(0x76b))[_0x4e7067(0x820)]['remove'](_0x4e7067(0x330));}else handleSyncAnswerSubmit(_0x4db7a6,_0x37aa31,_0x208e0d,_0x53cc9f,![],0x0);}}_0x9d643c?document['getElementById'](_0x29651a(0xc6f))[_0x29651a(0x939)](_0x29651a(0xa25),()=>{const _0x1b7ee6=_0x29651a,_0x2e349a=document[_0x1b7ee6(0x722)](_0x1b7ee6(0x88a))||document[_0x1b7ee6(0x722)]('sync-matching-select');if(_0x2e349a['value'][_0x1b7ee6(0xbe3)]()===''){showMessage(_0x1b7ee6(0xbc9));return;}_0x52172d(_0x2e349a[_0x1b7ee6(0xa46)],_0x4687e4,_0x30227b,_0x4c6a54);}):document[_0x29651a(0x2ff)](_0x29651a(0x3e9))['forEach'](_0x590d0c=>{const _0x4b35f2=_0x29651a;_0x590d0c[_0x4b35f2(0x939)](_0x4b35f2(0xa25),()=>{const _0x196512=_0x4b35f2;_0x52172d(_0x590d0c[_0x196512(0xa7e)][_0x196512(0xa46)],_0x4687e4,_0x30227b,_0x4c6a54);});});if(_0x30227b['isBlackMarketEnabled']===!![]){const _0x110712=document[_0x29651a(0x722)](_0x29651a(0x49c));_0x110712&&_0x110712['addEventListener'](_0x29651a(0xa25),()=>{const _0x1fdcc1=_0x29651a,_0x2d5294=_0x30227b[_0x1fdcc1(0x8fe)],_0x37d5b5=_0x4c6a54,_0x23f341=_0x1fdcc1(0x84c)+_0x2d5294+'_p'+_0x37d5b5,_0x58f93e=sessionStorage[_0x1fdcc1(0xe32)](_0x23f341)===_0x1fdcc1(0x761);if(!_0x58f93e)openBlackMarket(_0x30227b,_0x229a7f),sessionStorage[_0x1fdcc1(0xcdd)](_0x23f341,'true');else{if(_0x229a7f[_0x1fdcc1(0xe54)]<0x1){showMessage(_0x1fdcc1(0x6cb));return;}showConfirmation(_0x1fdcc1(0x4b4),()=>{handlePayForMarketEntry(_0x4c6a54,_0x30227b,_0x229a7f);});}}),document[_0x29651a(0x722)](_0x29651a(0x6c9))?.['addEventListener'](_0x29651a(0xa25),_0x4d4404=>{const _0x556038=_0x29651a;_0x4d4404[_0x556038(0xa4c)][_0x556038(0xce0)]=!![],handleUsePowerup(_0x4c6a54,_0x556038(0xaf7),_0x4687e4,_0x30227b,_0x229a7f);}),document[_0x29651a(0x722)]('use-powerup-cutOne')?.[_0x29651a(0x939)](_0x29651a(0xa25),_0x18d5ba=>{const _0x44e0d7=_0x29651a;_0x18d5ba[_0x44e0d7(0xa4c)]['disabled']=!![],handleUsePowerup(_0x4c6a54,'cutOne',_0x4687e4,_0x30227b,_0x229a7f);}),document[_0x29651a(0x722)](_0x29651a(0x81c))?.[_0x29651a(0x939)](_0x29651a(0xa25),_0x21b69d=>{const _0x58b1d9=_0x29651a;_0x21b69d[_0x58b1d9(0xa4c)][_0x58b1d9(0xce0)]=!![],handleUsePowerup(_0x4c6a54,'insurance',_0x4687e4,_0x30227b,_0x229a7f);}),document[_0x29651a(0x722)](_0x29651a(0x450))?.[_0x29651a(0x939)](_0x29651a(0xa25),_0x339572=>{const _0x46ec4e=_0x29651a;_0x339572[_0x46ec4e(0xa4c)][_0x46ec4e(0xce0)]=!![],handleUsePowerup(_0x4c6a54,_0x46ec4e(0xd25),_0x4687e4,_0x30227b,_0x229a7f);}),document[_0x29651a(0x722)](_0x29651a(0x913))?.[_0x29651a(0x939)](_0x29651a(0xa25),_0x5319b6=>{const _0xfd4fec=_0x29651a;_0x5319b6[_0xfd4fec(0xa4c)][_0xfd4fec(0xce0)]=!![],handleUsePowerup(_0x4c6a54,_0xfd4fec(0x7cc),_0x4687e4,_0x30227b,_0x229a7f);}),document['getElementById'](_0x29651a(0x50a))?.[_0x29651a(0x939)](_0x29651a(0xa25),_0x77ab9e=>{const _0x461f42=_0x29651a;_0x77ab9e[_0x461f42(0xa4c)][_0x461f42(0xce0)]=!![],handleUsePowerup(_0x4c6a54,_0x461f42(0xeb6),_0x4687e4,_0x30227b,_0x229a7f);});}}async function handleSyncAnswerSubmit(_0x330844,_0x3bfe70,_0x44bb04,_0x2244cf,_0x3c233f,_0x3865bf=0x0){const _0x32ab26=_0x1dbc7e;document['querySelectorAll'](_0x32ab26(0x9ac))[_0x32ab26(0xb04)](_0x4f97d3=>_0x4f97d3[_0x32ab26(0xce0)]=!![]);const _0x7ec0ab=_0x44bb04[_0x32ab26(0x8fe)],_0x231862=_0x32ab26(0xbd6)+_0x7ec0ab+'_p'+_0x2244cf,_0xa82437=sessionStorage[_0x32ab26(0xe32)](_0x231862),_0x159ac2=_0x44bb04[_0x32ab26(0x8d6)][_0x2244cf]||{},_0x4314d6=_0x159ac2[_0x32ab26(0x6b5)]===!![],_0x395f6f=sessionStorage[_0x32ab26(0xe32)](_0x32ab26(0x4f3))===_0x32ab26(0x761),_0x1fa750=_0x3bfe70[_0x32ab26(0xbd0)]||_0x44bb04[_0x32ab26(0x2b5)][_0x32ab26(0x4f4)];let _0x2b104a=![],_0x5d55dd=_0x330844;switch(_0x1fa750){case _0x32ab26(0x3f7):const _0x3ec3d7=parseInt(_0x330844),_0x3b8c7c=_0x3bfe70[_0x32ab26(0x72b)]===!![]||String(_0x3bfe70[_0x32ab26(0x72b)])['toLowerCase']()===_0x32ab26(0x761);_0x2b104a=_0x3ec3d7===0x0&&_0x3b8c7c||_0x3ec3d7===0x1&&!_0x3b8c7c,_0x5d55dd=_0x3ec3d7===0x0?_0x32ab26(0x870):'ไม่ใช่\x20/\x20ผิด';break;case _0x32ab26(0x432):case _0x32ab26(0xec9):_0x2b104a=await gradeShortAnswer(_0x330844,_0x3bfe70);break;case _0x32ab26(0xd24):_0x2b104a=_0x330844===_0x3bfe70[_0x32ab26(0xb40)];break;case _0x32ab26(0x6e6):default:const _0xe86370=parseInt(_0x330844);_0x2b104a=_0xe86370===_0x3bfe70[_0x32ab26(0x7e1)];_0x3bfe70['options']&&_0x3bfe70[_0x32ab26(0x9d3)][_0xe86370]&&(_0x5d55dd=_0x3bfe70[_0x32ab26(0x9d3)][_0xe86370]);break;}if(!_0x2b104a&&_0xa82437===_0x32ab26(0xeb6)&&!_0x395f6f){sessionStorage[_0x32ab26(0x7bf)](_0x231862),sessionStorage[_0x32ab26(0xcdd)](_0x32ab26(0x4f3),_0x32ab26(0x761)),showMessage(_0x32ab26(0xb77)),document['querySelectorAll'](_0x32ab26(0x9ac))[_0x32ab26(0xb04)](_0x228d95=>{const _0x3e9fb0=_0x32ab26;if(!_0x228d95[_0x3e9fb0(0x820)][_0x3e9fb0(0x381)]('hidden'))_0x228d95['disabled']=![];});return;}let _0x14cafe=0x0;const _0x31061b=_0xa82437===_0x32ab26(0xd25),_0x3927ad=_0xa82437===_0x32ab26(0x3e4),_0x39f859=sessionStorage['getItem'](_0x32ab26(0xced))===_0x32ab26(0x761),_0x49bcb1=_0x159ac2[_0x32ab26(0x779)]===!![];if(_0x31061b){const _0xd4ace=parseInt(_0x3865bf,0xa)||0x0;_0x14cafe=_0x2b104a?_0xd4ace*0x2:-_0xd4ace;}else{if(_0x39f859&&!_0x2b104a)_0x14cafe=_0x3c233f===!![]||_0x3c233f===_0x32ab26(0x620)||_0x4314d6?-0x4:-0x2;else{if(_0x4314d6)_0x14cafe=_0x2b104a?0x2:-0x1;else{if(_0x44bb04[_0x32ab26(0x4a0)]){if(_0x2b104a&&(_0x3c233f===!![]||_0x3c233f===_0x32ab26(0x620)))_0x14cafe=0x2;else{if(_0x2b104a)_0x14cafe=0x1;else{if(!_0x2b104a&&(_0x3c233f===![]||_0x3c233f==='not_confident'||_0x3c233f===null))_0x14cafe=0x0;else{if(!_0x2b104a&&(_0x3c233f===!![]||_0x3c233f===_0x32ab26(0x620)))_0x14cafe=-0x1;}}}}else _0x14cafe=_0x2b104a?0x1:0x0;}}}if(_0x49bcb1&&!_0x2b104a&&_0x14cafe<0x0)_0x14cafe*=0x2;if(!_0x2b104a&&_0x3927ad)_0x14cafe=0x0;const _0x41bec9=(_0x159ac2[_0x32ab26(0x3c3)]||0x0)>0x0,_0x3a618d={'questionIndex':_0x44bb04['currentQuestionIndex'],'questionId':_0x3bfe70['id'],'answer':_0x330844,'answerText':_0x5d55dd,'isCorrect':_0x2b104a,'originalQuestionText':_0x3bfe70['questionText']||_0x3bfe70[_0x32ab26(0x869)],'wasConfident':_0x4314d6?_0x32ab26(0x620):_0x3c233f||![],'pointsAwarded':_0x14cafe,'powerupUsed':_0xa82437||null,'wasJinxed':_0x49bcb1||![],'wasForced':_0x4314d6||![],'usedPoll':_0x39f859||![],'usedBuyTime':_0x41bec9},_0x4a2eef=doc(db,'artifacts/'+appId+_0x32ab26(0x7c5)+currentLiveGameId+_0x32ab26(0xb8d),_0x2244cf),_0x16c9a7=_0x159ac2[_0x32ab26(0x9e0)]||[],_0x666263=_0x16c9a7[_0x32ab26(0x6b9)](_0x296f6a=>_0x296f6a[_0x32ab26(0x78a)]!==_0x44bb04['currentQuestionIndex']),_0x121ae4=[..._0x666263,_0x3a618d],_0x4280fa=_0x121ae4[_0x32ab26(0x6b9)](_0x500d2c=>_0x500d2c[_0x32ab26(0xa97)])[_0x32ab26(0xc8f)],_0x2f7eed={'answers':_0x121ae4,'score':_0x4280fa,'totalPoints':increment(_0x14cafe),'answered':!![],'lastAnswerIndex':_0x1fa750===_0x32ab26(0x6e6)||_0x1fa750===_0x32ab26(0x3f7)||_0x1fa750==='fill_in_with_choices'?parseInt(_0x330844):null,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};if(_0x395f6f)sessionStorage['removeItem'](_0x32ab26(0x4f3));try{await updateDoc(_0x4a2eef,_0x2f7eed);}catch(_0x478447){console[_0x32ab26(0x300)](_0x32ab26(0xcfc),_0x478447),showMessage('ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่'),document['querySelectorAll'](_0x32ab26(0x9ac))[_0x32ab26(0xb04)](_0x4faee3=>_0x4faee3[_0x32ab26(0xce0)]=![]);}}const allMarketItems=[{'id':_0x1dbc7e(0xaf7),'name':_0x1dbc7e(0x2e7),'price':0x1,'desc':'เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)'},{'id':_0x1dbc7e(0xcf9),'name':_0x1dbc7e(0xc6b),'price':0x2,'desc':_0x1dbc7e(0x854)},{'id':_0x1dbc7e(0x7cc),'name':_0x1dbc7e(0x79c),'price':0x5,'desc':_0x1dbc7e(0x259)},{'id':_0x1dbc7e(0xeb6),'name':'🔁\x20โอกาสครั้งที่สอง','price':0x7,'desc':'ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง'}];function openBlackMarket(_0x9087fb,_0xc0806f){const _0x4bd64d=_0x1dbc7e;let _0x375595=null;const _0x46ce22=document[_0x4bd64d(0x722)](_0x4bd64d(0xb12)),_0xad02ce=document['getElementById'](_0x4bd64d(0xaef)),_0x39338a=document[_0x4bd64d(0x722)](_0x4bd64d(0xa36)),_0x1a69fa=document[_0x4bd64d(0x722)](_0x4bd64d(0x7be)),_0x26eb76=_0xc0806f[_0x4bd64d(0xe54)]||0x0;_0x39338a['textContent']=_0x26eb76;const _0x3c7496=allMarketItems;_0xad02ce[_0x4bd64d(0x5dd)]=_0x3c7496[_0x4bd64d(0xab8)](_0x30c966=>{const _0xc8bf08=_0x4bd64d,_0x32ebcb=_0x26eb76>=_0x30c966[_0xc8bf08(0x484)];if(_0x30c966['id']==='buyTime'){const _0x51e0f1=_0x32ebcb?Math[_0xc8bf08(0x982)](_0x26eb76/_0x30c966['price']):0x0,_0x35a9a1=_0x26eb76>=_0x30c966['price'];return _0xc8bf08(0x583)+(!_0x35a9a1?_0xc8bf08(0xb5b):_0xc8bf08(0xd3a))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x30c966['name']+_0xc8bf08(0x306)+_0x30c966[_0xc8bf08(0xb84)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22'+_0x51e0f1+'\x22\x20'+(!_0x35a9a1?'disabled':'')+_0xc8bf08(0x296)+(_0x35a9a1?_0xc8bf08(0x42c):_0xc8bf08(0x399))+_0xc8bf08(0xc23)+_0x30c966['id']+_0xc8bf08(0xc55)+_0x30c966[_0xc8bf08(0x484)]+_0xc8bf08(0x929)+(!_0x35a9a1?_0xc8bf08(0xce0):'')+_0xc8bf08(0x22a)+_0x30c966['price']+'P/อัน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x12d9c5=!_0x32ebcb?_0xc8bf08(0xce0):'',_0x225ba7=_0x32ebcb?_0xc8bf08(0x42c):_0xc8bf08(0x399);return _0xc8bf08(0x583)+(!_0x32ebcb?_0xc8bf08(0xb5b):'bg-white')+_0xc8bf08(0x405)+_0x30c966[_0xc8bf08(0x39f)]+_0xc8bf08(0x306)+_0x30c966[_0xc8bf08(0xb84)]+_0xc8bf08(0xe1d)+_0x225ba7+_0xc8bf08(0x241)+_0x30c966['id']+_0xc8bf08(0xb3b)+_0x30c966[_0xc8bf08(0x484)]+_0xc8bf08(0x40f)+_0x12d9c5+_0xc8bf08(0x606)+_0x30c966[_0xc8bf08(0x484)]+'P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}})[_0x4bd64d(0xbc8)](''),_0x46ce22[_0x4bd64d(0x820)][_0x4bd64d(0xda2)](_0x4bd64d(0x330)),_0x1a69fa[_0x4bd64d(0xa20)][_0x4bd64d(0x37d)]='none',_0x1a69fa[_0x4bd64d(0xa20)][_0x4bd64d(0xc6a)]='100%',setTimeout(()=>{const _0x30290b=_0x4bd64d;_0x1a69fa[_0x30290b(0xa20)][_0x30290b(0x37d)]=_0x30290b(0x2cb),_0x1a69fa[_0x30290b(0xa20)][_0x30290b(0xc6a)]='0%';},0x32),_0x375595=setTimeout(()=>{const _0x1e5986=_0x4bd64d;_0x46ce22[_0x1e5986(0x820)][_0x1e5986(0xc24)](_0x1e5986(0x330));},0xea60),document[_0x4bd64d(0x722)](_0x4bd64d(0x5be))[_0x4bd64d(0x590)]=()=>{const _0x2ccb2d=_0x4bd64d;clearTimeout(_0x375595),_0x46ce22[_0x2ccb2d(0x820)][_0x2ccb2d(0xc24)](_0x2ccb2d(0x330));},_0xad02ce[_0x4bd64d(0x2ff)](_0x4bd64d(0x312))[_0x4bd64d(0xb04)](_0x35ada7=>{const _0x1b7822=_0x4bd64d;_0x35ada7[_0x1b7822(0x590)]=_0x564ff4=>{const _0x32e0ab=_0x1b7822,_0x5d9fd1=_0x564ff4[_0x32e0ab(0xa4c)][_0x32e0ab(0xa7e)][_0x32e0ab(0xe27)],_0x51dfdd=parseInt(_0x564ff4[_0x32e0ab(0xa4c)][_0x32e0ab(0xa7e)][_0x32e0ab(0x484)],0xa);clearTimeout(_0x375595),_0x46ce22[_0x32e0ab(0x820)]['add'](_0x32e0ab(0x330)),handleBuyItem(_0xc0806f[_0x32e0ab(0x39f)],_0x5d9fd1,_0x51dfdd,0x1);};}),_0xad02ce[_0x4bd64d(0x2ff)]('.buy-time-confirm-btn')[_0x4bd64d(0xb04)](_0x5e86dc=>{const _0x1f16c2=_0x4bd64d;_0x5e86dc[_0x1f16c2(0x590)]=_0x3336c6=>{const _0x1bec4b=_0x1f16c2,_0x271aa7=_0x3336c6[_0x1bec4b(0xa4c)][_0x1bec4b(0xa7e)][_0x1bec4b(0xe27)],_0x176ace=parseInt(_0x3336c6[_0x1bec4b(0xa4c)][_0x1bec4b(0xa7e)]['price'],0xa),_0x833070=document[_0x1bec4b(0x722)]('buy-time-quantity-input'),_0x2e81ae=parseInt(_0x833070[_0x1bec4b(0xa46)],0xa),_0x13f696=parseInt(_0x833070[_0x1bec4b(0x3d5)],0xa);if(!_0x2e81ae||_0x2e81ae<0x1){showMessage(_0x1bec4b(0xe83));return;}if(_0x2e81ae>_0x13f696){showMessage(_0x1bec4b(0x9f4)+_0x13f696+_0x1bec4b(0x2d4));return;}clearTimeout(_0x375595),_0x46ce22[_0x1bec4b(0x820)][_0x1bec4b(0xc24)]('hidden'),handleBuyItem(_0xc0806f[_0x1bec4b(0x39f)],_0x271aa7,_0x176ace,_0x2e81ae);};});}async function handleBuyItem(_0x1a0d2a,_0x3403f2,_0x342083,_0x2e935d=0x1){const _0x11ba99=_0x1dbc7e,_0x28a686=doc(db,_0x11ba99(0xd90)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x11ba99(0xb8d),_0x1a0d2a);try{await runTransaction(db,async _0x4b163f=>{const _0x1391eb=_0x11ba99,_0xd15f78=await _0x4b163f[_0x1391eb(0x7d6)](_0x28a686);if(!_0xd15f78['exists']())throw _0x1391eb(0x92e);const _0x3e193c=_0xd15f78[_0x1391eb(0x690)]()[_0x1391eb(0xe54)]||0x0,_0x73d851=_0x342083*_0x2e935d;if(_0x3e193c<_0x73d851)throw _0x1391eb(0xc7b);const _0x3b7aba={};_0x3b7aba['totalPoints']=increment(-_0x73d851),_0x3b7aba['powerups.'+_0x3403f2]=increment(_0x2e935d),_0x4b163f[_0x1391eb(0x81a)](_0x28a686,_0x3b7aba);}),showMessage(_0x11ba99(0x491)+_0x3403f2+_0x11ba99(0x47c)+_0x2e935d+_0x11ba99(0x382));}catch(_0x2e5a47){console[_0x11ba99(0x300)](_0x11ba99(0x1fc),_0x2e5a47),showMessage(typeof _0x2e5a47==='string'?_0x2e5a47:_0x11ba99(0x7ef));}}async function handlePayForMarketEntry(_0x52b267,_0x2d8285,_0x3d1164){const _0x5c20ec=_0x1dbc7e,_0x3387ff=doc(db,_0x5c20ec(0xd90)+appId+_0x5c20ec(0x7c5)+currentLiveGameId+_0x5c20ec(0xb8d),_0x52b267);try{await runTransaction(db,async _0x290380=>{const _0x312d7f=_0x5c20ec,_0x27463e=await _0x290380[_0x312d7f(0x7d6)](_0x3387ff);if(!_0x27463e[_0x312d7f(0x5c5)]())throw _0x312d7f(0x92e);const _0x4a4c33=_0x27463e[_0x312d7f(0x690)]()[_0x312d7f(0xe54)]||0x0;if(_0x4a4c33<0x1)throw _0x312d7f(0x366);const _0x1bdd5d={};_0x1bdd5d[_0x312d7f(0xe54)]=increment(-0x1),_0x290380[_0x312d7f(0x81a)](_0x3387ff,_0x1bdd5d);});const _0x918925={..._0x3d1164,'totalPoints':(_0x3d1164[_0x5c20ec(0xe54)]||0x0)-0x1};openBlackMarket(_0x2d8285,_0x918925);}catch(_0x55cb4b){console[_0x5c20ec(0x300)](_0x5c20ec(0xb1f),_0x55cb4b),showMessage(typeof _0x55cb4b===_0x5c20ec(0x5b0)?_0x55cb4b:'เกิดข้อผิดพลาดในการเข้าตลาดมืด');}}initialize();
