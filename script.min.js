const _0x483b09=_0x3cdb;(function(_0x4e1002,_0x15f7d6){const _0x5203ba=_0x3cdb,_0x540211=_0x4e1002();while(!![]){try{const _0x58f219=parseInt(_0x5203ba(0x709))/0x1+-parseInt(_0x5203ba(0x788))/0x2*(-parseInt(_0x5203ba(0x56b))/0x3)+parseInt(_0x5203ba(0x2e1))/0x4+-parseInt(_0x5203ba(0x4c8))/0x5+parseInt(_0x5203ba(0x582))/0x6*(-parseInt(_0x5203ba(0x7bb))/0x7)+-parseInt(_0x5203ba(0x677))/0x8+parseInt(_0x5203ba(0x478))/0x9*(parseInt(_0x5203ba(0x35d))/0xa);if(_0x58f219===_0x15f7d6)break;else _0x540211['push'](_0x540211['shift']());}catch(_0x2c9ee0){_0x540211['push'](_0x540211['shift']());}}}(_0x1771,0xe027d));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let modalConfirmAction=null,cheatAttempts=0x0;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x483b09(0x505)};const allMathTopics=[{'category':_0x483b09(0x43b),'name':_0x483b09(0x632)},{'category':'จำนวนและการดำเนินการ','name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x483b09(0x43b),'name':_0x483b09(0x2ea)},{'category':_0x483b09(0x43b),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x483b09(0x43b),'name':_0x483b09(0x22a)},{'category':_0x483b09(0x43b),'name':_0x483b09(0x31e)},{'category':'จำนวนและการดำเนินการ','name':_0x483b09(0x7ab)},{'category':_0x483b09(0x43b),'name':_0x483b09(0x4c0)},{'category':_0x483b09(0x43b),'name':_0x483b09(0x634)},{'category':'จำนวนและการดำเนินการ','name':_0x483b09(0x3e2)},{'category':_0x483b09(0x43b),'name':_0x483b09(0x33e)},{'category':_0x483b09(0x43b),'name':_0x483b09(0x553)},{'category':'จำนวนและการดำเนินการ','name':'เส้นจำนวน'},{'category':_0x483b09(0x43b),'name':_0x483b09(0x6b7)},{'category':_0x483b09(0x43b),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x483b09(0x43b),'name':_0x483b09(0x36e)},{'category':_0x483b09(0x43b),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x483b09(0x43b),'name':_0x483b09(0x8de)},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x483b09(0x43b),'name':_0x483b09(0x46d)},{'category':_0x483b09(0x43b),'name':_0x483b09(0x73c)},{'category':_0x483b09(0x43b),'name':_0x483b09(0x1cf)},{'category':_0x483b09(0x43b),'name':_0x483b09(0x6be)},{'category':_0x483b09(0x43b),'name':'จำนวนคละ'},{'category':_0x483b09(0x43b),'name':_0x483b09(0x86e)},{'category':'จำนวนและการดำเนินการ','name':_0x483b09(0x7a3)},{'category':'จำนวนและการดำเนินการ','name':_0x483b09(0x745)},{'category':_0x483b09(0x43b),'name':_0x483b09(0x7c0)},{'category':_0x483b09(0x43b),'name':'การหารทศนิยม'},{'category':_0x483b09(0x43b),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x483b09(0x4d9)},{'category':_0x483b09(0x43b),'name':_0x483b09(0x7ec)},{'category':_0x483b09(0x43b),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x483b09(0x43b),'name':_0x483b09(0x7a8)},{'category':_0x483b09(0x43b),'name':'รากที่สองและที่สาม'},{'category':_0x483b09(0x43b),'name':_0x483b09(0x45a)},{'category':_0x483b09(0x43b),'name':_0x483b09(0x79d)},{'category':_0x483b09(0x938),'name':_0x483b09(0x438)},{'category':'การวัด','name':_0x483b09(0x35a)},{'category':_0x483b09(0x938),'name':_0x483b09(0x8c6)},{'category':_0x483b09(0x938),'name':_0x483b09(0x742)},{'category':'การวัด','name':_0x483b09(0x80a)},{'category':'การวัด','name':_0x483b09(0x3bb)},{'category':_0x483b09(0x938),'name':_0x483b09(0x496)},{'category':_0x483b09(0x938),'name':_0x483b09(0x20d)},{'category':_0x483b09(0x938),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x483b09(0x938),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0x483b09(0x938),'name':_0x483b09(0x625)},{'category':_0x483b09(0x938),'name':_0x483b09(0x3ef)},{'category':_0x483b09(0x938),'name':_0x483b09(0x3ed)},{'category':_0x483b09(0x938),'name':_0x483b09(0x7ed)},{'category':_0x483b09(0x7ad),'name':_0x483b09(0x843)},{'category':'เรขาคณิต','name':_0x483b09(0x920)},{'category':'เรขาคณิต','name':'สามเหลี่ยม\x20(ชนิด/สมบัติ)'},{'category':_0x483b09(0x7ad),'name':_0x483b09(0x20d)},{'category':'เรขาคณิต','name':_0x483b09(0x921)},{'category':_0x483b09(0x7ad),'name':_0x483b09(0x85c)},{'category':_0x483b09(0x7ad),'name':_0x483b09(0x26f)},{'category':'เรขาคณิต','name':_0x483b09(0x57f)},{'category':'เรขาคณิต','name':_0x483b09(0x83b)},{'category':_0x483b09(0x7ad),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x483b09(0x7ad),'name':_0x483b09(0x423)},{'category':'เรขาคณิต','name':_0x483b09(0x440)},{'category':'เรขาคณิต','name':_0x483b09(0x270)},{'category':_0x483b09(0x7ad),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':'เรขาคณิต','name':_0x483b09(0x392)},{'category':_0x483b09(0x80b),'name':'ตัวแปรและนิพจน์'},{'category':_0x483b09(0x80b),'name':'การกระจายและการจัดหมู่'},{'category':_0x483b09(0x80b),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x483b09(0x80b),'name':_0x483b09(0x3f1)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x4e3)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x4a5)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x209)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x483b09(0x41a)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x2a8)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x77f)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x87f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x483b09(0x79c)},{'category':_0x483b09(0x80b),'name':'สมการลอการิทึม'},{'category':_0x483b09(0x80b),'name':'อสมการเชิงเส้น'},{'category':_0x483b09(0x80b),'name':_0x483b09(0x2db)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x399)},{'category':_0x483b09(0x80b),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x483b09(0x80b),'name':'โดเมนและเรนจ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x483b09(0x70e)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x5cf)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x7d9)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x327)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x483b09(0x80b),'name':'ฟังก์ชันพหุนาม'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x483b09(0x4d7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x483b09(0x3ca)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x7a6)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x5ec)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x20b)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x869)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x795)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x483b09(0x236)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x266)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x319)},{'category':_0x483b09(0x80b),'name':_0x483b09(0x7b8)},{'category':'เรขาคณิตวิเคราะห์','name':'ระยะทางและจุดกึ่งกลาง'},{'category':'เรขาคณิตวิเคราะห์','name':_0x483b09(0x89c)},{'category':_0x483b09(0x29a),'name':_0x483b09(0x276)},{'category':_0x483b09(0x29a),'name':_0x483b09(0x1ce)},{'category':_0x483b09(0x29a),'name':_0x483b09(0x441)},{'category':'เรขาคณิตวิเคราะห์','name':_0x483b09(0x303)},{'category':'เรขาคณิตวิเคราะห์','name':_0x483b09(0x2ff)},{'category':_0x483b09(0x29a),'name':_0x483b09(0x6e8)},{'category':_0x483b09(0x29a),'name':'ไฮเพอร์โบลา'},{'category':_0x483b09(0x345),'name':_0x483b09(0x932)},{'category':_0x483b09(0x345),'name':_0x483b09(0x8c5)},{'category':_0x483b09(0x345),'name':_0x483b09(0x841)},{'category':_0x483b09(0x345),'name':_0x483b09(0x8a2)},{'category':_0x483b09(0x345),'name':_0x483b09(0x3fd)},{'category':_0x483b09(0x345),'name':_0x483b09(0x842)},{'category':'ตรีโกณมิติ','name':_0x483b09(0x80e)},{'category':_0x483b09(0x345),'name':'การแปลงรูปอัตลักษณ์'},{'category':_0x483b09(0x345),'name':_0x483b09(0x827)},{'category':_0x483b09(0x345),'name':_0x483b09(0x3da)},{'category':_0x483b09(0x345),'name':_0x483b09(0x241)},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x5d1)},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x271)},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x88e)},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x1f3)},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x8af)},{'category':'สถิติและความน่าจะเป็น','name':_0x483b09(0x7bd)},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x52e)},{'category':'สถิติและความน่าจะเป็น','name':_0x483b09(0x517)},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x26c)},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x6e7)},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x2bc)},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x1e9)},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x476)},{'category':'สถิติและความน่าจะเป็น','name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x87a)},{'category':'สถิติและความน่าจะเป็น','name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x483b09(0x4d1),'name':'กฎบวกและกฎคูณ'},{'category':'สถิติและความน่าจะเป็น','name':_0x483b09(0x8a4)},{'category':'สถิติและความน่าจะเป็น','name':_0x483b09(0x372)},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x6c2)},{'category':_0x483b09(0x4d1),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':'สถิติและความน่าจะเป็น','name':_0x483b09(0x915)},{'category':_0x483b09(0x4d1),'name':_0x483b09(0x8a1)},{'category':'สถิติและความน่าจะเป็น','name':_0x483b09(0x5ad)},{'category':_0x483b09(0x717),'name':'ลิมิต'},{'category':_0x483b09(0x717),'name':'ความต่อเนื่อง'},{'category':_0x483b09(0x717),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x483b09(0x717),'name':_0x483b09(0x57a)},{'category':_0x483b09(0x717),'name':_0x483b09(0x27f)},{'category':_0x483b09(0x717),'name':_0x483b09(0x548)},{'category':_0x483b09(0x717),'name':_0x483b09(0x59d)},{'category':_0x483b09(0x717),'name':_0x483b09(0x3e7)},{'category':'แคลคูลัสเบื้องต้น','name':_0x483b09(0x680)},{'category':'แคลคูลัสเบื้องต้น','name':_0x483b09(0x4ae)},{'category':'แคลคูลัสเบื้องต้น','name':_0x483b09(0x7a0)},{'category':'แคลคูลัสเบื้องต้น','name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x483b09(0x717),'name':_0x483b09(0x8eb)},{'category':_0x483b09(0x852),'name':_0x483b09(0x6ce)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x483b09(0x729)},{'category':_0x483b09(0x852),'name':_0x483b09(0x81f)},{'category':_0x483b09(0x852),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x483b09(0x306)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดีเทอร์มิแนนต์'},{'category':_0x483b09(0x852),'name':_0x483b09(0x5e3)},{'category':_0x483b09(0x4a2),'name':_0x483b09(0x6d8)},{'category':_0x483b09(0x4a2),'name':_0x483b09(0x820)},{'category':'คณิตการเงิน/บูรณาการ','name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x483b09(0x61d)},{'category':_0x483b09(0x4a2),'name':_0x483b09(0x779)},{'category':_0x483b09(0x2fd),'name':_0x483b09(0x6ac)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'รูปแบบการให้เหตุผล'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x135e26=_0x483b09,_0x276a0d=document[_0x135e26(0x437)](_0x135e26(0x606));if(!_0x276a0d)return;const _0x348d4c=allMathTopics,_0x194144=customMathTopics[_0x135e26(0x530)](_0x278914=>({'id':_0x278914['id'],'category':_0x135e26(0x682),'name':_0x278914['name']})),_0x2c1512=[..._0x348d4c,..._0x194144],_0x2319ed=_0x2c1512[_0x135e26(0x4fe)]((_0x35b454,_0x10f642)=>{const _0xa182e9=_0x135e26;return!_0x35b454[_0x10f642[_0xa182e9(0x4b0)]]&&(_0x35b454[_0x10f642['category']]=[]),_0x35b454[_0x10f642[_0xa182e9(0x4b0)]][_0xa182e9(0x554)](_0x10f642),_0x35b454;},{});let _0x2e4cea='';const _0x2b9452=['หัวข้อที่สร้างเอง',...Object[_0x135e26(0x571)](_0x2319ed)[_0x135e26(0x72a)](_0x5cf3ec=>_0x5cf3ec!==_0x135e26(0x682))];for(const _0x17a152 of _0x2b9452){if(_0x2319ed[_0x17a152]){const _0x4dc4b0=_0x17a152===_0x135e26(0x682),_0x23c1fd=_0x4dc4b0?_0x135e26(0x7d1):_0x135e26(0x581),_0x36eb22=_0x4dc4b0?_0x135e26(0x934):_0x135e26(0x4d8);_0x2e4cea+=_0x135e26(0x600),_0x2e4cea+=_0x135e26(0x379)+_0x36eb22+_0x135e26(0x92b)+_0x23c1fd+_0x135e26(0x585)+_0x17a152+_0x135e26(0x590),_0x2319ed[_0x17a152][_0x135e26(0x4ec)](_0x11fcb8=>{const _0x29f32b=_0x135e26,_0x16b8d7=!!_0x11fcb8['id'],_0x1e3aa1=_0x16b8d7?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x11fcb8['id']+_0x29f32b(0x71f)+_0x11fcb8['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x11fcb8['id']+_0x29f32b(0x775)+_0x11fcb8['id']+_0x29f32b(0x1d8):'';_0x2e4cea+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x11fcb8['id']||'')+_0x29f32b(0x47e)+_0x11fcb8[_0x29f32b(0x884)]+_0x29f32b(0x813)+_0x11fcb8[_0x29f32b(0x884)]+_0x29f32b(0x5a5)+(_0x16b8d7?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x11fcb8[_0x29f32b(0x884)]+'\x22>':'')+_0x29f32b(0x81a)+_0x1e3aa1+_0x29f32b(0x516);}),_0x2e4cea+='</div>';}}_0x276a0d[_0x135e26(0x676)]=_0x2e4cea||_0x135e26(0x7b1),_0x276a0d[_0x135e26(0x3fe)]('change',updateSelectedTopicsCount),_0x276a0d[_0x135e26(0x6b1)](_0x135e26(0x2ab),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0xee4454,_0x4c6a88){const _0xa336f9=_0x483b09;if(!_0xee4454||!_0x4c6a88[_0xa336f9(0x8ad)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x4cca32=doc(db,_0xa336f9(0x868)+appId+_0xa336f9(0x807),_0xee4454);await updateDoc(_0x4cca32,{'name':_0x4c6a88[_0xa336f9(0x8ad)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x511a83){console[_0xa336f9(0x8cc)](_0xa336f9(0x452),_0x511a83),showMessage(_0xa336f9(0x3a0));}}function toggleTopicEditMode(_0x57028e,_0x221826){const _0x4e9e65=_0x483b09;if(!_0x57028e)return;const _0x246f5e=_0x57028e[_0x4e9e65(0x865)](_0x4e9e65(0x2b6)),_0x5a8995=_0x57028e[_0x4e9e65(0x865)](_0x4e9e65(0x817)),_0xe62a43=_0x57028e['querySelector'](_0x4e9e65(0x419)),_0x208bc8=_0x57028e[_0x4e9e65(0x865)](_0x4e9e65(0x251));_0x246f5e[_0x4e9e65(0x49a)]['toggle'](_0x4e9e65(0x534),_0x221826),_0x5a8995[_0x4e9e65(0x49a)][_0x4e9e65(0x238)](_0x4e9e65(0x534),!_0x221826),_0xe62a43[_0x4e9e65(0x49a)][_0x4e9e65(0x238)](_0x4e9e65(0x534),_0x221826),_0x208bc8[_0x4e9e65(0x49a)]['toggle'](_0x4e9e65(0x534),!_0x221826),_0x221826&&(_0x5a8995[_0x4e9e65(0x703)](),_0x5a8995['select']());}function updateSelectedTopicsCount(){const _0x4b9eec=_0x483b09,_0x2a76bd=document['getElementById'](_0x4b9eec(0x606)),_0x448d99=_0x2a76bd[_0x4b9eec(0x442)](_0x4b9eec(0x928))['length'],_0x5a62c6=document[_0x4b9eec(0x437)]('selected-topics-count');_0x448d99>0x0?_0x5a62c6[_0x4b9eec(0x2dd)]='(เลือกแล้ว\x20'+_0x448d99+_0x4b9eec(0x899):_0x5a62c6['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x483b09(0x4df),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x483b09(0x49d),quizLeaderboardSortOrder=_0x483b09(0x248),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x483b09(0x56d),'name':_0x483b09(0x388),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x483b09(0x6a3)},'QUICK_THINKER':{'id':_0x483b09(0x7e1),'name':_0x483b09(0x389),'description':_0x483b09(0x318),'icon':_0x483b09(0x5c5)},'ON_FIRE':{'id':_0x483b09(0x665),'name':_0x483b09(0x63f),'description':_0x483b09(0x339),'icon':_0x483b09(0x6d6)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':'ผ่านฉลุย','description':_0x483b09(0x824),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x483b09(0x359),'name':_0x483b09(0x65f),'description':_0x483b09(0x3d6),'icon':_0x483b09(0x593)},'SPECIALIST':{'id':'specialist','name':_0x483b09(0x3ac),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x483b09(0x453)},'PERSEVERANCE':{'id':_0x483b09(0x259),'name':_0x483b09(0x465),'description':_0x483b09(0x5d5),'icon':_0x483b09(0x39d)}},firebaseConfig={'apiKey':_0x483b09(0x845),'authDomain':_0x483b09(0x926),'projectId':_0x483b09(0x773),'storageBucket':_0x483b09(0x3f2),'messagingSenderId':_0x483b09(0x596),'appId':_0x483b09(0x3c5),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x483b09(0x408)?__app_id:_0x483b09(0x7cb),adminView=document['getElementById'](_0x483b09(0x268)),studentView=document['getElementById'](_0x483b09(0x66f)),projectDashboardView=document[_0x483b09(0x437)](_0x483b09(0x35b)),projectDetailView=document[_0x483b09(0x437)](_0x483b09(0x2d2)),quizResultsView=document['getElementById'](_0x483b09(0x765)),projectList=document[_0x483b09(0x437)](_0x483b09(0x7d0)),noProjectsMsg=document[_0x483b09(0x437)](_0x483b09(0x2a7)),projectTitle=document['getElementById']('project-title'),projectIdDisplay=document[_0x483b09(0x437)](_0x483b09(0x5eb)),studentList=document['getElementById'](_0x483b09(0x58e)),messageModal=document[_0x483b09(0x437)](_0x483b09(0x523)),modalMessage=document[_0x483b09(0x437)]('modal-message'),createProjectModal=document[_0x483b09(0x437)](_0x483b09(0x439)),adminPasswordModal=document[_0x483b09(0x437)]('admin-password-modal'),confirmationModal=document[_0x483b09(0x437)](_0x483b09(0x21e)),userIdDisplay=document['getElementById'](_0x483b09(0x551)),topicTab=document[_0x483b09(0x437)](_0x483b09(0x56f)),textTab=document[_0x483b09(0x437)](_0x483b09(0x81e)),topicInputArea=document[_0x483b09(0x437)](_0x483b09(0x3c6)),textInputArea=document[_0x483b09(0x437)](_0x483b09(0x708)),manageTab=document['getElementById'](_0x483b09(0x6cd)),resultsTab=document[_0x483b09(0x437)](_0x483b09(0x39f)),leaderboardTab=document['getElementById'](_0x483b09(0x1ed)),manageTabContent=document['getElementById'](_0x483b09(0x863)),resultsTabContent=document[_0x483b09(0x437)](_0x483b09(0x53b)),leaderboardTabContent=document[_0x483b09(0x437)](_0x483b09(0x878)),projectQuizzesList=document['getElementById'](_0x483b09(0x3d0)),fileTab=document[_0x483b09(0x437)](_0x483b09(0x361)),fileInputArea=document['getElementById']('file-input-area'),fileUploadInput=document[_0x483b09(0x437)]('file-upload-input'),worksheetTab=document[_0x483b09(0x437)](_0x483b09(0x1e6)),worksheetInputArea=document[_0x483b09(0x437)](_0x483b09(0x43d)),generateWorksheetBtn=document['getElementById'](_0x483b09(0x38e)),studentInitialView=document[_0x483b09(0x437)](_0x483b09(0x5c3)),studentNameSelectionView=document[_0x483b09(0x437)](_0x483b09(0x7e7)),studentQuizArea=document[_0x483b09(0x437)](_0x483b09(0x3b5)),studentResultArea=document[_0x483b09(0x437)]('student-result-area'),studentReadingArea=document['getElementById']('student-reading-area'),loadQuizBtn=document['getElementById']('load-quiz-btn'),startQuizBtn=document[_0x483b09(0x437)]('start-quiz-btn'),studentJoinGameView=document[_0x483b09(0x437)]('student-join-game-view'),presentationModal=document[_0x483b09(0x437)]('presentation-modal'),renameQuizModal=document['getElementById'](_0x483b09(0x84d)),moveQuizModal=document[_0x483b09(0x437)](_0x483b09(0x808)),quizSettingsModal=document[_0x483b09(0x437)]('quiz-settings-modal'),quizStatusModal=document[_0x483b09(0x437)](_0x483b09(0x785)),liveGameView=document[_0x483b09(0x437)](_0x483b09(0x2f6));function handleAutoFixLatex(){const _0x532f85=_0x483b09,_0x50520d=document['getElementById'](_0x532f85(0x564))||document,_0x1c5956=_0x50520d[_0x532f85(0x442)]([_0x532f85(0x69e),_0x532f85(0x656),'[contenteditable=\x22true\x22]','[role=\x22textbox\x22]',_0x532f85(0x5bc),_0x532f85(0x29c),'.choice-text',_0x532f85(0x55b),_0x532f85(0x8fe)][_0x532f85(0x939)](','));let _0x154a18=0x0;const _0x3a7bdc=_0x4e52d6=>'value'in _0x4e52d6?String(_0x4e52d6[_0x532f85(0x8b5)]):_0x4e52d6[_0x532f85(0x846)]!==undefined?_0x4e52d6[_0x532f85(0x846)]:_0x4e52d6[_0x532f85(0x2dd)]||'',_0x55498c=(_0x537c4b,_0x4cf43b)=>{const _0x103ca8=_0x532f85;if(_0x103ca8(0x8b5)in _0x537c4b){_0x537c4b[_0x103ca8(0x8b5)]=_0x4cf43b;return;}if(_0x537c4b[_0x103ca8(0x865)]&&_0x537c4b['querySelector'](_0x103ca8(0x29d)))return;if(_0x537c4b['innerText']!==undefined)_0x537c4b['innerText']=_0x4cf43b;else _0x537c4b[_0x103ca8(0x2dd)]=_0x4cf43b;},_0x4f9618=_0x531880=>_0x531880['replace'](/\u00A0/g,'\x20')[_0x532f85(0x78d)](/\u200B/g,'')[_0x532f85(0x78d)](/\r\n?/g,'\x0a'),_0x2259f5=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x2ba2a8=_0x233f2e=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x532f85(0x4b8)](_0x233f2e),_0x56c11f=_0x5af491=>{const _0x1c6ebe=_0x532f85,_0x4decc2=(_0x5af491[_0x1c6ebe(0x8ff)](/\{/g)||[])[_0x1c6ebe(0x1d7)],_0x27a181=(_0x5af491['match'](/\}/g)||[])['length'];if(_0x4decc2>_0x27a181)_0x5af491=_0x5af491+'}'[_0x1c6ebe(0x903)](_0x4decc2-_0x27a181);return _0x5af491;},_0x565098=_0x11dc50=>{const _0x20b219=_0x532f85;let _0x4a0820=_0x11dc50[_0x20b219(0x8ad)]();const _0x37a00e=[_0x20b219(0x41c),_0x20b219(0x412),_0x20b219(0x32a),_0x20b219(0x7e2),_0x20b219(0x68b),_0x20b219(0x666),_0x20b219(0x22e),_0x20b219(0x786),_0x20b219(0x7df),_0x20b219(0x2d7),'le','ge',_0x20b219(0x2c6),'pm',_0x20b219(0x3a7),_0x20b219(0x6a9),_0x20b219(0x75a),_0x20b219(0x646),_0x20b219(0x2e3),'ln',_0x20b219(0x891),_0x20b219(0x244),_0x20b219(0x7e0),_0x20b219(0x302),_0x20b219(0x556),'overline',_0x20b219(0x6c3),'circ',_0x20b219(0x463)];_0x4a0820=_0x4a0820[_0x20b219(0x78d)](new RegExp(_0x20b219(0x8ec)+_0x37a00e[_0x20b219(0x939)]('|')+')\x5cb)','g'),'\x5c'),_0x37a00e['forEach'](_0x1b2133=>{const _0x161ac2=_0x20b219;_0x4a0820=_0x4a0820['replace'](new RegExp(_0x161ac2(0x4c1)+_0x1b2133+'\x5cb','g'),(_0x554abf,_0x5c2c7d)=>_0x5c2c7d+'\x5c'+_0x1b2133);});const _0x23f376=[[/×/g,_0x20b219(0x749)],[/·/g,'\x5ccdot'],[/÷/g,_0x20b219(0x52a)],[/≤/g,'\x5cle'],[/≥/g,_0x20b219(0x82b)],[/≠/g,'\x5cneq'],[/±/g,_0x20b219(0x47b)],[/∑/g,_0x20b219(0x46b)],[/−/g,'-']];_0x23f376['forEach'](([_0x292c53,_0x538ca5])=>{const _0x24fce3=_0x20b219;_0x4a0820=_0x4a0820[_0x24fce3(0x78d)](_0x292c53,_0x538ca5);}),_0x4a0820=_0x4a0820[_0x20b219(0x78d)](/√\s*\(([^)]*)\)/g,_0x20b219(0x8d3)),_0x4a0820=_0x4a0820[_0x20b219(0x78d)](/√\s*([A-Za-z0-9]+)/g,_0x20b219(0x8d3)),_0x4a0820=_0x4a0820[_0x20b219(0x78d)](/(^|[^\\])\bimes\b/g,_0x20b219(0x5fe))[_0x20b219(0x78d)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x20b219(0x226))['replace'](/(^|[^\\])ext\{/g,_0x20b219(0x6f3))[_0x20b219(0x78d)](/(^|[^\\])ext\(/g,'$1\x5ctext(')[_0x20b219(0x78d)](/\\text\(([^)]*)\)/g,_0x20b219(0x8b1))[_0x20b219(0x78d)](/\s\\frac/g,_0x20b219(0x50a)),_0x4a0820=_0x4a0820[_0x20b219(0x78d)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x434689,_0x3d5b26,_0x22068a,_0x3e3cfa)=>_0x3d5b26+_0x20b219(0x854)+_0x22068a+'}{'+_0x3e3cfa+'}'),_0x4a0820=_0x4a0820[_0x20b219(0x78d)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x20b219(0x7f6))[_0x20b219(0x78d)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x20b219(0x7f6))[_0x20b219(0x78d)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x20b219(0x7f6)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x20b219(0x464)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x20b219(0x464)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x20b219(0x464)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x20b219(0x464)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,_0x20b219(0x464)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x20b219(0x464)]][_0x20b219(0x4ec)](([_0x3729dd,_0xc1639])=>{_0x4a0820=_0x4a0820['replace'](_0x3729dd,_0xc1639);}),_0x4a0820=_0x4a0820[_0x20b219(0x78d)](/(\d+)\s*%/g,'$1\x5c%'),_0x4a0820=_0x4a0820[_0x20b219(0x78d)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x20b219(0x221))[_0x20b219(0x78d)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x20b219(0x658))['replace'](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x20b219(0x6a9),_0x20b219(0x75a),_0x20b219(0x646),_0x20b219(0x2e3),'ln'][_0x20b219(0x4ec)](_0x15853f=>{const _0x3af292=_0x20b219;_0x4a0820=_0x4a0820[_0x3af292(0x78d)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x15853f+'\x5cs*\x5c(','g'),(_0x1081a9,_0x45edfd)=>_0x45edfd+'\x5c'+_0x15853f+'(');});const _0x1c377d=(_0x4a0820['match'](/\\left\b/g)||[])[_0x20b219(0x1d7)],_0xcc90d2=(_0x4a0820['match'](/\\right\b/g)||[])[_0x20b219(0x1d7)];if(_0x1c377d!==_0xcc90d2)_0x4a0820=_0x4a0820['replace'](/\\left\b/g,'')[_0x20b219(0x78d)](/\\right\b/g,'');return _0x4a0820=_0x56c11f(_0x4a0820),_0x4a0820;},_0x56ffe9=_0x496d0e=>{const _0x3dd273=_0x532f85;if(/\$|\\\(|\\\[/[_0x3dd273(0x4b8)](_0x496d0e))return _0x496d0e;if(!_0x2259f5[_0x3dd273(0x4b8)](_0x496d0e))return _0x496d0e;const _0x56c607=_0x496d0e[_0x3dd273(0x8ff)](/^\s*/)[0x0],_0x4d0034=_0x496d0e[_0x3dd273(0x8ff)](/\s*$/)[0x0],_0x2c720a=_0x496d0e['trim']();return _0x56c607+'$'+_0x565098(_0x2c720a)+'$'+_0x4d0034;},_0x941a85=_0x1dcd49=>_0x1dcd49['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x1c5956['forEach'](_0x459cbc=>{const _0x520fa4=_0x532f85;if(_0x459cbc['querySelector']&&_0x459cbc[_0x520fa4(0x865)](_0x520fa4(0x29d)))return;const _0x4244fd=_0x3a7bdc(_0x459cbc);let _0x2d4d76=_0x4f9618(_0x4244fd);_0x2d4d76=_0x2d4d76[_0x520fa4(0x78d)](/\$\$([\s\S]*?)\$\$/g,(_0x574482,_0x596167)=>'$$'+_0x565098(_0x596167)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x2c2dcc,_0x3483bb)=>'$'+_0x565098(_0x3483bb)+'$')[_0x520fa4(0x78d)](/\\\(([\s\S]*?)\\\)/g,(_0x385f05,_0x1e133f)=>'\x5c('+_0x565098(_0x1e133f)+'\x5c)')[_0x520fa4(0x78d)](/\\\[([\s\S]*?)\\\]/g,(_0x439f3d,_0x1716a4)=>'\x5c['+_0x565098(_0x1716a4)+'\x5c]');let _0x49fdde=_0x2d4d76,_0x3b08d5=0x0;const _0x8a9d56=_0x2738b9=>_0x2738b9[_0x520fa4(0x78d)](/S([^S]{0,2000}?)S/g,(_0x35adf4,_0x144d61)=>_0x2259f5[_0x520fa4(0x4b8)](_0x144d61)?'$'+_0x565098(_0x144d61)+'$':_0x35adf4);while(_0x3b08d5++<0x14){const _0x355c1a=_0x8a9d56(_0x49fdde);if(_0x355c1a===_0x49fdde)break;_0x49fdde=_0x355c1a;}_0x2d4d76=_0x49fdde,_0x2d4d76=_0x2d4d76[_0x520fa4(0x514)]('\x0a')[_0x520fa4(0x530)](_0xbe51c4=>{const _0xf2c4b0=_0x520fa4;if(!(/[,\u3001，;；]/[_0xf2c4b0(0x4b8)](_0xbe51c4)||/\s(?:และ|หรือ)\s/['test'](_0xbe51c4))||!_0x2259f5['test'](_0xbe51c4))return _0xbe51c4;return _0x941a85(_0xbe51c4)[_0xf2c4b0(0x530)](_0x1acd02=>{const _0x29e241=_0xf2c4b0;if(/^\s(?:และ|หรือ)\s$/['test'](_0x1acd02)||/^[,\u3001，;；]$/[_0x29e241(0x4b8)](_0x1acd02))return _0x1acd02;return _0x56ffe9(_0x1acd02);})[_0xf2c4b0(0x939)]('');})[_0x520fa4(0x939)]('\x0a'),_0x2d4d76=_0x2d4d76[_0x520fa4(0x514)]('\x0a')['map'](_0xc76936=>{const _0x45a66a=_0x520fa4,_0x1f5bdd=_0xc76936[_0x45a66a(0x8ad)]();if(!_0x1f5bdd)return _0xc76936;const _0x3fe49d=/\$|\\\(|\\\[/['test'](_0x1f5bdd),_0x3ff39a=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x1f5bdd);if(_0x3fe49d||!_0x3ff39a||_0x2ba2a8(_0x1f5bdd))return _0xc76936;return _0xc76936['replace'](_0x1f5bdd,'$'+_0x565098(_0x1f5bdd)+'$');})['join']('\x0a'),_0x2d4d76=_0x2d4d76[_0x520fa4(0x78d)](/(\d+)\s*°\s*C\b/g,(_0xf013ee,_0x44358f,_0x2f13ff,_0x44baf8)=>{const _0x47f323=_0x520fa4,_0x10637f=_0x44baf8[_0x2f13ff-0x1];if(_0x10637f==='$'||_0x10637f==='S'||_0x10637f==='\x5c')return _0xf013ee;return'$'+_0x44358f+_0x47f323(0x8a9);})[_0x520fa4(0x78d)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x3302fc,_0x421cdc,_0x5d0941,_0x1662d8)=>{const _0x5ab2e7=_0x520fa4,_0x37ab1c=_0x1662d8[_0x5d0941-0x1];if(_0x37ab1c==='$'||_0x37ab1c==='S'||_0x37ab1c==='\x5c')return _0x3302fc;return'$'+_0x421cdc+_0x5ab2e7(0x8a9);})[_0x520fa4(0x78d)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x1c3dc2,_0x5201a3,_0x574c80,_0x541019)=>{const _0x20bd3f=_0x541019[_0x574c80-0x1];if(_0x20bd3f==='$'||_0x20bd3f==='S'||_0x20bd3f==='\x5c')return _0x1c3dc2;return'$'+_0x5201a3+'^{\x5ccirc}\x5ctext{C}$';}),_0x2d4d76=_0x2d4d76[_0x520fa4(0x78d)](/\$\s*\$/g,'$$'),_0x2d4d76!==_0x4244fd&&(_0x55498c(_0x459cbc,_0x2d4d76),_0x154a18++);});if(_0x154a18>0x0){showMessage(_0x532f85(0x518)+_0x154a18+_0x532f85(0x886));try{if(window['MathJax']&&MathJax['typesetPromise'])MathJax[_0x532f85(0x376)]();window[_0x532f85(0x347)]&&typeof renderMathInElement==='function'&&renderMathInElement(_0x50520d,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x569067){}}else showMessage(_0x532f85(0x8b3));}async function listenForCustomMathTopics(){const _0x594392=_0x483b09,_0x456b3d=collection(db,_0x594392(0x868)+appId+'/public/data/customMathTopics');onSnapshot(_0x456b3d,_0x429499=>{const _0x2146b5=_0x594392;customMathTopics=_0x429499[_0x2146b5(0x714)][_0x2146b5(0x530)](_0x22ebb6=>({'id':_0x22ebb6['id'],..._0x22ebb6[_0x2146b5(0x6cb)]()})),renderTopicCheckboxes();},_0x52b868=>{const _0x421483=_0x594392;console[_0x421483(0x8cc)](_0x421483(0x5cc),_0x52b868);});}function handleSelectAllTopics(){const _0x1658de=_0x483b09,_0x274dcf=document[_0x1658de(0x437)]('math-topics-checkbox-container'),_0x303789=_0x274dcf['querySelectorAll']('input[type=\x22checkbox\x22]');_0x303789[_0x1658de(0x4ec)](_0x4283a5=>{const _0x18cbb9=_0x1658de;_0x4283a5[_0x18cbb9(0x6b5)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2c36e8=_0x483b09,_0x4f0afb=document[_0x2c36e8(0x437)](_0x2c36e8(0x606)),_0x176a3f=_0x4f0afb[_0x2c36e8(0x442)]('input[type=\x22checkbox\x22]');_0x176a3f[_0x2c36e8(0x4ec)](_0x50b615=>{const _0x18bd23=_0x2c36e8;_0x50b615[_0x18bd23(0x6b5)]=![];}),updateSelectedTopicsCount();}function _0x1771(){const _0x55ba35=['<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','temp-loader-text-results','Error\x20saving\x20quiz:','มุมพิเศษ\x2045°-45°-90°','กฎของโคไซน์','จุด\x20เส้น\x20ระนาบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','innerText','application/json','Error\x20deleting\x20student:','จากเนื้อหาต่อไปนี้:\x20\x22','toDataURL','questions_only','.quiz-bank-try-btn','rename-quiz-modal','scrollX','points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','MathJax\x20typeset\x20error\x20(analytics):','เวกเตอร์และเมทริกซ์\x20(เสริม)','width','\x5cfrac{','แบบทดสอบจากคลังส่วนตัว','parts','(ก่อนเรียน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20id=\x22q-image-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ความคล้ายของรูป','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','postScore','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','both','manage-tab-content','comparison-individual-content','querySelector','parseFromString','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','ฟังก์ชันลอการิทึม','explanation','กรุณาใส่ชื่อนักเรียน','quizMode','export-pdf-modal','ทศนิยม\x20(ค่าประจำหลัก)','option','thead\x20.sortable-header','\x22\x20value=\x22true\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','fullscreenElement','MathJax','setAttribute','ย้าย','leaderboard-tab-content','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','ไม่มีคำอธิบาย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-bar','สมการราก\x20(radical)','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','เกิดข้อผิดพลาดในการติดดาว','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','gamePin','name','timestamp','\x20ช่อง','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','พิมพ์ตอบ','กรุณาป้อนรหัสแบบทดสอบ','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.ideal-answer-input','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ตารางความถี่','lessonPlan','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','sum','#ffffff','getContext','finishReason','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโปรเจค:\x20','Failed\x20to\x20get\x20standardized\x20topic:','Error\x20updating\x20quiz\x20settings:','\x20หัวข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','back-to-dashboard-btn','ความชันและเส้นตรง','admin-action-buttons','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','upperGroupResponders','button','การแจกแจงทวินาม\x20(พื้นฐาน)','เรเดียนและการแปลงหน่วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','แผนภาพเวนน์','cursor','คำเตือน\x20(','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','PERFECT_SCORE','^{\x5ccirc}\x5ctext{C}$','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','/public/data/quizzes/',';\x22\x20data-id=\x22','trim','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','ฮิสโตแกรม','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x5ctext{$1}','<br>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','isPinned','value','.move-quiz-btn','createObjectURL','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','leaderboard_','<span\x20class=\x22font-bold\x20','text/html','from','revealed','onload','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','practiceProblems','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','podium','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','มุมพิเศษ\x2030°-60°-90°','หน่วยเวลาและการคำนวณเวลา','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','dataset','reveal-answer-btn','answering','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','error','text-content-input','document','\x20ชุด)','\x22><p\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','bg-green-50','\x5csqrt{$1}','rename-quiz-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','removeChild','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','เกมสิ้นสุดลงแล้ว','player-list-lobby','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','border-green-300\x20bg-green-50','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','อัตราและอัตราหน่วย','student-project-leaderboard-content','solution','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','helvetica','บันทึกการตั้งค่าแล้ว','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','height','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','open-quiz-bank-btn','global-live-game-modal','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x5c\x5c\x5c\x5c(?=(','then','Enter','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','admin-password-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.admin-try-quiz-list-btn','showInStudentDashboard','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','perQuestionStats','key','Error\x20duplicating\x20quiz:','appendChild','สร้างคำถามแบบเติมคำในช่องว่าง','substring','entries','):\x20กรุณาอย่าออกจากโหมดเต็มหน้าจอระหว่างทำแบบทดสอบ','.answer-text','match','Error\x20updating\x20quiz\x20status:','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','editable-text-','repeat','per-question-options','function','min','opacity-50','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','สอบซ่อม','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-sort-select','analytics-summary-cards','afterend','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','comparison','อัปเดตสถานะสำเร็จ','s;\x22\x20title=\x22','<i\x20class=\x22fas\x20fa-save\x22></i>','student-quiz-leaderboard-tab','การจัดหมู่\x20(Combination)','setItem','ลบโปรเจคสำเร็จแล้ว','_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','fas\x20fa-star\x20text-yellow-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ยอดเยี่ยม','uid','Error\x20generating\x20parallel\x20test\x20from\x20bank:','bg-red-100','ความสัมพันธ์ของมุม','ความเท่ากันทุกประการของสามเหลี่ยม','N/A','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','</h3>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','ai-quiz-app-aefee.firebaseapp.com','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','input[type=\x22checkbox\x22]:checked','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bar','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','NUMBER','link-url-input','student-project-leaderboard-tab','date_desc','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','attempts','text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การวัด','join','ไม่พบข้อมูลการจับคู่','</p><div>','บันทึกการตั้งค่าสำเร็จ','คณิตศาสตร์','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','กำลังสร้างรูปภาพ...','Error\x20listening\x20for\x20student\x20profiles:','timerMode','input[name=\x22drill_answer\x22]:checked','เส้นตรง:\x20ขนาน/ตั้งฉาก','การคูณเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','สร้างโปรเจคสำเร็จ!','teacherSuggestions','เกิดข้อผิดพลาดในการเข้าร่วมเกม','length','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log','overallGroups','#E0E7FF','\x20สำเร็จ','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','submissions','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','เกิดข้อผิดพลาดในการโหลดโปรเจค','<div\x20class=\x22loader\x20mx-auto\x22></div>','quiz-editor-modal','global-quiz-list','manual_release','ก่อนเรียน','worksheet-tab','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','webkitRequestFullscreen','ความแปรปรวน','scores-tab-content','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generated-quiz-container','leaderboard-tab','(คัดลอก)\x20','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','style','ไม่ใช่','กราฟแท่ง\x20กราฟเส้น','บันทึกการตั้งค่าการแสดงผลสำเร็จ','blueprint-tab','/studentProfiles','</td>','show_results_and_answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader','text-green-700','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','modal-shuffle-select','jspdf','show_results_only','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','total','sort','baseVal','pow','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','modal-results-display-select','ฟังก์ชันยกกำลัง','shuffle','พื้นที่สามเหลี่ยม','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','global-live-game-count','toDate','Invalid\x20response\x20structure\x20from\x20AI.','title','ไม่ได้ตอบ','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','<p><strong>คำตอบของคุณ:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-file-btn','เกิดข้อผิดพลาดในการลบหัวข้อ','default','classStrengths','actions-container-','\x22\x20data-q-type=\x22','confirmation-modal','\x20ตัวเลือก.\x20','/preferences/main','$1^{$2}','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mx-1\x20text-lg\x22></i></span>','-\x20ข้อ\x20','/submissions','$1\x5cfrac','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','รีเซ็ตลำดับโปรเจคแล้ว','การบวก','ข้อ\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cdot','กำลังสร้างแบบทดสอบจากหัวข้อ...','Error\x20saving\x20project\x20order:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','quiz-leaderboard-table-body','bank-input-area','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','getAttributeNS','ลำดับเรขาคณิต\x20(GP)','bg-amber-100\x20text-amber-800','toggle','reset-project-order-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','Error\x20listening\x20for\x20projects:','/public/data/projects','hint-btn','Error\x20comparing\x20results:','live-game','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','Error\x20generating\x20worksheet:','cancel-delete-btn','prod','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','Error\x20rendering\x20student\x20progress:','findIndex','desc','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','some','.color-palette-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','scores-tab-btn','presentation-ai-result','matching','max','.topic-actions-edit','ปิดใช้งาน','หลังเรียน','floor','</form>','[*]','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','perseverance','save-quiz-edits-btn','arrayBuffer','password-error-msg','ไม่พบข้อมูลผู้ใช้','active','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','color','Error\x20opening\x20quiz\x20editor:','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','text-emerald-900','circle','ผลรวมอนุกรม\x20(Σ)','totalQuestions','admin-view','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','ฐานนิยม','แบบทดสอบ:\x20','#FEE2E2','รูปสี่เหลี่ยมและสมบัติ','สมมาตร\x20(แกน/จุด)','การจัดกลุ่มข้อมูล','.duplicate-quiz-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','หมดเวลา!\x20กำลังส่งคำตอบ...','Error\x20loading\x20quiz\x20for\x20student:','เส้นตรง:\x20รูปแบบสมการ','font-bold','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','has','bg-green-500','getBoundingClientRect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offset','อนุพันธ์:\x20ผลคูณ/ผลหาร','```json','ไม่พบแบบทดสอบสำหรับรหัสนี้','เพิ่มหัวข้อ\x20\x22','standardTopic','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ไม่สามารถสร้างโปรเจคได้','เกิดข้อผิดพลาดในการบันทึก','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','asc','mean','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','\x20คู่\x20','.project-card-container','AI\x20grading\x20failed:','สร้างชุดคำถามจับคู่','confirm-quiz-status-btn','quiz-results','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','<tr><td\x20colspan=\x22','readAsDataURL','</p></div>','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','.delete-project-btn','generate-from-topic-btn','เรขาคณิตวิเคราะห์','true_false','label','mjx-container','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','fromCharCode','global-quiz-search-input','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','blueprint-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','timer-container','no-projects-msg','สมการค่าสัมบูรณ์','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','list','change','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','comparison-individual-tab','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','quiz-leaderboard-table-container','ระยะเวลา\x20(นาที):','shuffleSetting','.project-card-container.opacity-50','text-indigo-600','question','input[name=\x22status-option\x22]:checked','.topic-name-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_no_choices','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','ส่วนเบี่ยงเบนเฉลี่ย','settings','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','start-live-race-generated-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','<li>','เกิดข้อผิดพลาดในการสร้างใบงาน','insertAdjacentHTML','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','confirm-delete-btn','neq','พอใช้','options','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','mousedown','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','exited_fullscreen','empty','pointsLastQuestion','<h1></h1>','ไม่สามารถเริ่มเกมได้','กำลังสร้างคำถามข้อ\x20','project-detail-view','แบบปรนัย\x204\x20ตัวเลือก','ยังไม่ส่ง','.sort-indicator','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','geq','ไม่มี','globalSettings','results-quiz-id-display','อสมการค่าสัมบูรณ์','download','textContent','</tbody></table></div>','.score','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','5965696aGeXBd','adaptive-quiz-checkbox','log','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','whole_quiz','.quiz-settings-btn','Error\x20adding\x20custom\x20topic:','add-custom-math-topic-btn','admin-testing','การปัดเศษและประมาณค่า','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','export-compact-pdf-btn','drop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','confirm-passcode-btn','live-game-view','blockReason','.delete-custom-topic-btn','FIRST_TRY_ACE','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','indexOf','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','เกิดข้อผิดพลาดในการลบแบบทดสอบ','พาราโบลา','next-question-timed-btn','hover:bg-indigo-100','left','วงกลม:\x20สมการและสมบัติ','endTime','เกิดข้อผิดพลาดในการอ่านไฟล์','อินเวอร์สของเมทริกซ์','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','dispatchEvent','num-questions','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','rgba(79,\x2070,\x20229,\x201)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','insertBefore','.live-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบเติมคำตอบ','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','opacity','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dashboardConfig','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','ทฤษฎีทวินาม\x20(เบื้องต้น)','คัดลอกรหัสแล้ว!','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การลบ','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','analytics-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','STOP','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','localeCompare','ใช่','ฟังก์ชันเชิงเส้นและกราฟ','slice','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','tfrac','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','closest','.quiz-bank-item','border-green-500','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','close-presentation-btn','getItem','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','pinnedProjects','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','ตอบถูก\x203\x20ข้อติดต่อกัน','Error\x20processing\x20file\x20for\x20AI:','Error\x20fetching\x20student\x20rankings:','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดผู้ควบคุม','ศูนย์','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','move','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรีโกณมิติ','type','katex','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','#FFFFFF','AI\x20request\x20was\x20blocked.\x20Reason:\x20','จำนวนข้อ:','bg-red-100\x20text-red-800','timer-duration-label','clientX','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','dragstart','.question-editor-item','bg-gray-50','questionText','ตั้งเวลา\x20(เปิด)','remove','players','text-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','comeback_king','หน่วยมวล/น้ำหนักและการแปลง','project-dashboard-view','imageCode','22415310nLtLxx','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','string','reference-pdf-upload','file-tab','ARRAY','cancel-quiz-edits-btn-footer','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','quiz-bank-count','/questionBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','toLowerCase','back-to-student-home-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','API\x20call\x20failed','เลือกโปรเจคเพื่อบันทึก','ค.ร.น.\x20(LCM)','STRING','get','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','ความน่าจะเป็นแบบมีเงื่อนไข','<div\x20class=\x22space-y-4\x22>','modal-passing-score-input','true','typesetPromise','red','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','<p\x20class=\x22font-bold\x20text-sm\x20','Error\x20renaming\x20quiz:','Error\x20deleting\x20quiz:','Error\x20deleting\x20project:',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','isRemedial','firstScore','ลบผลสอบของ\x20','quiz-search-input','รอเปิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','raw','icon','คะแนนเต็ม','เซียนสมองไว','leaderboard-quiz-tab-content','bg-white/30','toString','isAdaptive','generate-worksheet-btn','ลบหัวข้อสำเร็จ','.parallel-quiz-btn','ผ่าน','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','toLocaleDateString','ยกเลิกการจับคู่สำเร็จ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','ระบบอสมการ','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22question_single\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-dumbbell\x20text-gray-700','\x22\x20class=\x22pin-project-btn\x20','results-tab','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x20pointer-events-none\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','.start-presentation-list-btn','approx','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','starred','ผู้เชี่ยวชาญ','comparison-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','OBJECT','quiz-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stopPropagation','results-quiz-title','lower_group_count','student-quiz-area','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','currentQuestionIndex','postTScore','progress-project-select','add','เส้นรอบรูป','results-table','requestFullscreen','พบข้อสอบ\x20','text-gray-300\x20hover:text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','แบบทดสอบที่ติดดาว','.draggable-text','1:274192258111:web:4120c9118229b5644dd48a','topic-input-area','autoTable','items','confirm-admin-login-btn','ฟังก์ชันราก\x20(root)','2-digit','</tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizId','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','project-quizzes-list','Authentication\x20failed:','submission','Error\x20saving\x20user\x20preference:','#F3E8FF','</tbody></table>','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กราฟฟังก์ชันตรีโกณ','close-comparison-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','$1\x20\x5cfrac','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','viewBox','cloneNode','จำนวนเต็มลบ','include-images-checkbox','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','.question-editor-item[data-q-index=\x22','อัตราการเปลี่ยนแปลงทันที','write','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','<li\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สเกลและแผนที่','candidates','มุมและการวัดมุม','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','การแยกตัวประกอบ','ai-quiz-app-aefee.appspot.com','td,\x20th','bank-tab','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','num-choices','ring-purple-400','qIndex','class','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','prev-question-btn','กฎของไซน์','removeEventListener','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','กรุณาเลือกโปรเจคที่ต้องการบันทึก','link-tab','.regenerate-question-btn','timer-mode-select','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x22\x20name=\x22question_single\x22\x20value=\x22','undefined','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','จัดการ','live-short-answer-input','promise','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','.badges','mousemove','dfrac','find','Error\x20updating\x20project\x20color:','Error\x20starting\x20game:','cancel-test-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','button[data-id]','.topic-actions-view','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','frac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','กรุณาเลือกชื่อของคุณ','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-indigo-800','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','catch','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','bottom','แผนการสอน','values','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','project-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','close','close-comparison-modal-btn','question-analytics-container','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','Error\x20displaying\x20question\x20bank:','answers','.png','auto','getElementById','หน่วยความยาวและการแปลง','create-project-modal','score','จำนวนและการดำเนินการ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-input-area','removeAttribute','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','ระยะจากจุดถึงเส้นตรง','querySelectorAll','player-count','quiz-end-time','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','results','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','.delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','multiple_choice','num-choices-container','Error\x20updating\x20custom\x20topic:','fa-user-astronaut\x20text-blue-700','promptFeedback','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','-tab-content','getPage','.pin-project-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','รูปสแควร์รูท\x20(surd)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','ใช่,\x20ตรวจใหม่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เปิด\x20(จับเวลา)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-200\x20text-red-800','Error\x20saving\x20settings:','deg','$1^{\x5ccirc}\x5ctext{C}','ผู้ไม่ยอมแพ้','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','setFont','.\x20แต่ละข้อมี\x20','\x5csum','analyze-strengths-btn','การบวกเศษส่วน','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.answeredCurrentQuestion','):\x20','Invalid\x20response\x20structure\x20from\x20AI:','student-project-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','temp-loader-results','ส่วนเบี่ยงเบนมาตรฐาน','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','9TBZbdJ','matching_item','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x5cpm','#view-rankings-btn','จับคู่เพื่อเปรียบเทียบผล','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','Error\x20deleting\x20all\x20students:','API\x20call\x20failed\x20with\x20status:\x20','attemptNumber','.csv','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','projectOrder','BOOLEAN','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','cancel-export-pdf-btn','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','quiz-start-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','คำตอบผิด','เปลี่ยนชื่อแบบทดสอบสำเร็จ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','setAttributeNS','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สี่เหลี่ยม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','ring-2','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','classList','\x22><i\x20class=\x22fas\x20','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','คณิตการเงิน/บูรณาการ','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระบบสมการเชิงเส้นสองตัวแปร','QUICK_THINKER','.delete-student-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','back-from-results-btn','กำลังอ่านและเตรียมไฟล์...','จับคู่แบบทดสอบสำเร็จ!','_blank','ปริพันธ์ไม่จำกัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','border-red-300\x20bg-red-50','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','Error\x20saving\x20questions\x20to\x20practice\x20bank:','test','back-to-dashboard-from-results-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ที่พิมพ์ได้\x20จำนวน\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','projectSort','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','#FEF3C7','การหาร','(^|[^\x5c\x5c])\x5cb','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','preScore','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','confirm-global-live-btn','4141725qJVAFX','bg-red-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','parse','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','student-name-input','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','toISOString','กรุณาใส่ชื่อโปรเจค','สถิติและความน่าจะเป็น','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','#10B981','เกิดข้อผิดพลาดในการอัปเดตสถานะ','correctResponse','leaderboard-table-body','ฟังก์ชันสัมพัทธ์\x20(rational)','text-indigo-700','ร้อยละพื้นฐาน','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','commit','lastAnswerCorrect','FileReader\x20error:','target','student','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','#DBEAFE','presentation-explanation','สมการเชิงเส้นตัวแปรเดียว','\x0a\x20\x20\x20\x20','pinned-items','.copy-quiz-id-list-btn','/public/data/quizzes','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','00:00','questionStatus','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','forEach','Error\x20generating\x20from\x20parallel\x20test\x20file:','all','modal-close-btn','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','display','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','next-live-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-quiz-btn','results-table-container','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','confirmation-message','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','exitFullscreen','(คู่ขนาน)\x20','สร้างคำถามแบบใช่/ไม่ใช่','แผนการสอน:\x20','reduce','\x20(p=','projectView','allResponses','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20deleting\x20submission:','grid','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toFixed','stem','\x5cfrac','generated-quiz-actions','ดีมาก','.star-quiz-btn','\x22>จาก:\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','เกิดข้อผิดพลาดในการโหลดสถานะ','leaderboard-quiz-tab-btn','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','split','ระยะเวลา\x20(วินาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มัธยฐาน','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','behavior-log-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientY','bg-red-50','</span></td>','สร้างแบบทดสอบ','scrollY','gain','\x22\x20name=\x22question','message-modal','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','.toggle-actions-btn','check-answer-btn','draggable-text','confirm-create-project-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','\x5cdiv','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','ยืนยันการจับคู่','answerText','ค่าเฉลี่ย','projectId','map','correctAnswerIndex','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','cancel-quiz-status-btn','hidden','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','rgba(59,\x20130,\x20246,\x200.7)','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a---\x0a','lesson-plan-content','results-tab-content','ข้อต่อไป','bg-emerald-100','presentation-short-answer-input','\x20คะแนน','editable-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-detail','getTextContent','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x20ครั้ง)</span></td>','first_try_ace','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','timer-duration-container','back-to-project-btn','contents','.pdf','</span>','export-leaderboard-word-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user-id-display','cancel-admin-login-btn','ค่าสัมบูรณ์','push','startTime','right','link-input-area','modal-timer-duration-label','shuffle-setting-select','</span></div>','.option-text','question-complexity-select','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนคู่:','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','select','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','quiz-editor-questions-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','currentTarget','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้ควบคุม\x20(ทดสอบ)','39IHGVjm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','perfect_score','%</span>','topic-tab','round','keys','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','#E5E7EB','false','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกคำตอบก่อนครับ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','mixed','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','อนุพันธ์:\x20กฎลูกโซ่','สร้างคำถามใหม่\x201\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.regenerate-question-editor-btn','รูปหลายเหลี่ยมและมุมภายใน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','fas\x20fa-bookmark','6VhHMgc','\x22\x20data-pre-test-id=\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mr-2\x22></i>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20to\x20question\x20bank:','players.','show-in-student-dashboard-checkbox','getBBox','quiz-bank-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','teachingContent','student-list','now','</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','fa-shield-alt\x20text-gray-600','table','confirm-rename-quiz-btn','274192258111','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','เกิดข้อผิดพลาดในการสร้างห้องเกม','confirm-move-quiz-btn','update','save-quiz-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','ความชันเส้นสัมผัส','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','#student-quiz-leaderboard-content\x20thead','คำตอบถูกต้อง!\x20+','timer-duration-input','_opt0\x22>ใช่</label></div>','Error\x20showing\x20quiz\x20detail\x20view:','save-settings-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lobby','delete-svg-btn','เกิดข้อผิดพลาดในการปักหมุด','href','POST','interesting-stats-container','correctAnswer','ความคาดหมาย\x20(Expected\x20value)','back-to-student-initial-btn','specialist','name_asc','ดูสรุปผล','preventDefault','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard','Original\x20quiz\x20not\x20found','\x22\x20data-topic=\x22','loopUntilPass','close-game-final-btn','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','student-quiz-leaderboard-table-body','.ql-editor','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','inactive','studentName','createElement','\x22.\x20','student-initial-view','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','fa-bolt\x20text-blue-500','.topic-category','latestSubmittedAt','กำลังดึงข้อมูลจากลิงก์...','export-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','loop-until-pass-checkbox','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','ฟังก์ชันผกผัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','ชนิดของข้อมูลและการเก็บข้อมูล','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','border-red-700','http://www.w3.org/2000/svg','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','date_asc','quizType','text-gray-400\x20hover:text-indigo-600','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','ตรวจคะแนนใหม่\x20','/public/data/projects/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','blueprint-upload-input','timerDuration','แก้ระบบสมการด้วยเมทริกซ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','border-4','project-id-display','ฟังก์ชันแบบชิ้นส่วน','learningGaps','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','Failed\x20to\x20parse\x20JSON\x20from\x20AI','Error\x20starting\x20live\x20race:','สร้างแบบทดสอบปรนัย','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode-error-msg','ไม่พบข้อมูลแบบทดสอบ','enable-passcode-checkbox','parallel-test-input-area','กรุณาวาง\x20URL\x20ของบทความก่อน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','classWeaknesses','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','text-red-800','text-emerald-800','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5ctimes','click','<div\x20class=\x22mb-3\x20topic-category\x22>','className','\x22>ใช่</p>','loader-text','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','สร้างใหม่','math-topics-checkbox-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','<div><input\x20type=\x22radio\x22\x20id=\x22q','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','resultsDisplay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','quiz-id-input','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','targetId','toLocaleString','close-lesson-plan-modal-footer-btn','results-display-select','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','.presentation-option','บันทึกคำถามใหม่\x20','ค่าเสื่อมราคา','touchmove','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','answeredCurrentQuestion','top','badges','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','topic','ปริมาตรรูปทรงสามมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-green-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','cancel-rename-quiz-btn','parallel-test-tab','Re-grade\x20process\x20failed:','student-progress-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','#per-question-options\x20textarea','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','การนับ','#student-project-leaderboard-content\x20thead','จำนวนเต็มบวก','Error\x20unpairing\x20quizzes:','#F59E0B','msRequestFullscreen','schedule','close-student-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','image/png','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','ท็อปฟอร์ม','onclick','Error\x20saving\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','set','project-passcode-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tan','status','size','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','เกิดข้อผิดพลาดในการบันทึกลำดับ','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','description','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','message','comparison-overall-content','list-view-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','ควรปรับปรุง','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22text\x22]','stringify','$1_{$2}','add-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','content','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','/public/data/practiceBank','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','ราชาคัมแบ็ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','กรุณาเลือกไฟล์ก่อน','random','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','on_fire','times','label[for=\x22num-questions\x22]','lowerGroupNames','short_answer','grid-view-btn','generate-from-link-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','student-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionType','จำนวนนักเรียน','passing-score-input','Failed\x20to\x20get\x20hint:','tGain','innerHTML','14028832KLjpeu','answer-counter','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','<div\x20class=\x22','answer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Firebase\x20initialization\x20failed:','practice-topic-btn','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','generate-from-text-btn','หัวข้อที่สร้างเอง','admin-dashboard','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','mouseup','isPasscodeEnabled','.correct-response-input','cancel-quiz-bank-btn','behavior-log-tab-content','คัดลอกไม่สำเร็จ','text','beforeend','.project-card-content','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','.export-pdf-list-btn','.rename-quiz-btn','ส่งแล้ว','normal','files','drill-feedback','auto-fix-latex-btn','student-name-select','.compare-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','isCorrect','text-red-900','fullscreenchange','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','<div\x20class=\x22flex-1\x22></div>','textarea','ตรวจพบการออกจากโหมดเต็มหน้าจอครบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','startsWith','text-green-600\x20font-bold','fa-crown\x20text-yellow-500','generate-from-blueprint-btn','th-TH','confirm-join-game-btn','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','index','sin','</label>\x0a\x20\x20\x20\x20</div>\x0a','fa-pen','ค่าความจริง/ตารางค่าความจริง','execCommand','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x20คนที่ส่ง\x20ตอบถูก\x20(','</th>','addEventListener','answer-grid-container','flex','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','checked','ไม่ผ่าน','ตัวประกอบและตัวประกอบเฉพาะ','badgesCount','isStarred','onchange','modal-loop-until-pass-checkbox','ไม่พบโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การหารเศษส่วน','cancel-move-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','quiz-type-select','ความเป็นอิสระของเหตุการณ์','underline','<button\x20data-quiz-id=\x22','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-word-btn','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คำถามถัดไป','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','data','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','manage-tab','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','modal-timer-duration-container','input','short','student-quiz-topic','input[type=\x22radio\x22]:checked','ยังไม่มีนักเรียนส่งงาน','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','fa-fire\x20text-orange-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ดอกเบี้ยอย่างง่าย','.quiz-result-card','post-test','</li>','per_question','text-blue-700\x20bg-blue-100','[data-topic-container-id]','\x22\x20สำเร็จ','Error\x20deleting\x20custom\x20topic:','ลบแบบทดสอบสำเร็จแล้ว','เปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','เกิดข้อผิดพลาดในการลบโปรเจค','getScreenCTM','mode-switcher-btn','พิสัย','วงรี','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','choices_only','standard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','lesson-plan-title','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','lowerGroupResponders','score-distribution-chart','$1\x5ctext{','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','next-drill-btn','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','quiz-schedule-end-container','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','Error\x20updating\x20sort\x20preference:','ย้ายแบบทดสอบไปโปรเจคอื่น','font-bold\x20text-green-700','text/csv;charset=utf-8;','\x20ใหม่...','open','dragend','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','focus','(ไม่มีชื่อ)','#FCE7F3','bank-quiz-list','interesting-stats-wrapper','text-input-area','1074170IcIRyE','#results-table\x20thead\x20tr','svg','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','องค์ประกอบของฟังก์ชัน','numPages','_opt0\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scores','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','docs','copy','.project-card-container:not(.opacity-50)','แคลคูลัสเบื้องต้น','save-visibility-settings-btn','.quiz-status-btn','deselect-all-topics-btn','students','.edit-question-btn','Error\x20generating\x20quiz:','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','upper_group_count','</option>','-tab','passingScore','idealAnswer','show_pass_fail_only','กรุณาเลือกสถานะ','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','none','ดอทโปรดักต์\x20(dot)','filter','.generate-lesson-btn','</div><div\x20class=\x22space-y-2\x22>','กรุณาเลือกโปรเจคปลายทาง','analytics','quiz-generation-area','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','game-pin-input','quiz-leaderboard-table','Error\x20generating\x20lesson\x20plan:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','earned-badges-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22...','passcode-input-container','totalPoints','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','การลบเศษส่วน','</div>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','save','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','student-progress-view','ปริมาตร/ความจุและการแปลง','passcode','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','การลบทศนิยม','user','text-green-600','far\x20fa-star','\x5ctimes','editor-quiz-topic','medium','บันทึกแบบทดสอบสำเร็จแล้ว!','parent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage','#math-topics-checkbox-container\x20input:checked','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','outerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x22.\x20Ideal\x20Answer:\x20\x22','text-green-700\x20bg-green-100','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','quiz','link-topic-input','cos','behaviorLog','\x22\x20value=\x22false\x22\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-excel-btn','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','projectSortOrder','destroy','text-white','Error\x20fetching\x20quiz\x20settings:','.save-custom-topic-btn','quiz-results-view','disabled','createdAt','close-lesson-plan-modal-btn','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','starred-project','quiz-schedule-start-container','stdDev','text-red-700\x20bg-red-100','pre-test-checkbox','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','next-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ai-quiz-app-aefee','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-green-900','Error\x20updating\x20pin\x20status:','admin','ร้อยละประยุกต์','keyup','\x22\x20ให้เป็นคำถามประเภท\x20\x22','scheduled_pending','move-quiz-project-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเหตุผล\x20(rational)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rows','text-red-700','preTestId','เกี่ยวกับหัวข้อ\x20\x22','quiz-status-modal','div','เกิดข้อผิดพลาด:\x20','11534fGcTym','pairedQuizId','ไม่สามารถเพิ่มนักเรียนได้','fill_in_the_blank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','replace','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','copy-quiz-id-btn','บันทึกการแก้ไข','touchstart','questionDisplayedAt','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','ลำดับเลขคณิต\x20(AP)','join-live-game-btn','bg-purple-50','strength-weakness-analysis-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupNames','สมการยกกำลัง','สัญกรณ์วิทยาศาสตร์','.delete-submission-btn','createElementNS','ปริพันธ์จำกัด','แบบทดสอบนี้ปิดใช้งานอยู่','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','การบวกทศนิยม','force-math-checkbox','presentation-slide-container','ฟังก์ชันค่าสัมบูรณ์','</p><p><strong>เฉลย:</strong>\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','แก้ไขข้อนี้','latestScore','การคูณ','fill','เรขาคณิต','(หลังเรียน)\x20','print','ref','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','/users/','PERSEVERANCE','bg-green-100','delete-all-students-btn','เลือกและบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเชิงซ้อน\x20(เสริม)','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','json','9674042RWhzsr','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','แผนภาพกล่อง\x20(box\x20plot)','\x20/\x20','\x22,\x20','การคูณทศนิยม','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','.start-live-race-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22','Error\x20saving\x20visibility\x20settings:','getDocument','</td></tr>','/public/data/liveGames','ai-quiz-generator-v3','<i\x20class=\x22fas\x20fa-pen\x22></i>','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','project-list','fas\x20fa-user-edit','per-question-text','dataIndex','projectName','results_','.live-answer-btn,\x20#live-submit-short-answer-btn','export-pdf-btn','difficulty-level-select','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','bg-yellow-50','modal-timer-duration-input','\x22\x20data-name=\x22','<tr>','bg-blue-100\x20text-blue-800','leq','binom','quick_thinker','sqrt','instructions','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','\x20จาก\x20','student-name-selection-view','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','lesson-plan-modal','pre-test','ปรับเพิ่ม/ลดเป็นร้อยละ','ค่าคลาดเคลื่อนของการวัด','originalQuestionText','ownerSVGElement','<option\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','questions','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20text-green-800','\x5cfrac{$1}{$2}','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','modal-adaptive-quiz-checkbox','ไม่พบตารางสำหรับ\x20Export','contentEditable','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','กรุณาป้อนหัวข้อสำหรับใบงาน','export-image-btn','touchcancel','สอบปกติ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','delete','#D1FAE5','<span\x20title=\x22','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includes','/public/data/customMathTopics','move-quiz-modal','name_desc','อุณหภูมิและการแปลง','พีชคณิตและฟังก์ชัน','bg-green-200\x20text-green-800','\x20\x20\x20-\x20คำตอบ:\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','scheduled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','ไม่พบข้อมูลข้อสอบหลังเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','project-passcode-input','.topic-name-input','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','bg-green-100\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-tab','การประยุกต์เวกเตอร์พื้นฐาน','ดอกเบี้ยทบต้น','\x22\x20class=\x22delete-project-btn\x20','export-leaderboard-pdf-btn','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','ทำคะแนนเต็มในการทำครั้งแรก','thead','data:application/vnd.ms-word;charset=utf-8,','สมการตรีโกณมิติ','.generate-post-test-btn','modal-timer-mode-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x5cge','line-through\x20text-red-700','text-red-600','.color-palette-popup','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','exists','touches','correct','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','Error\x20fetching\x20quiz\x20status:','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','วงกลม:\x20คอร์ดและเส้นสัมผัส','.correctStreak'];_0x1771=function(){return _0x55ba35;};return _0x1771();}async function handleDeleteCustomTopic(_0x247779){const _0x53e821=_0x483b09;if(!_0x247779)return;try{const _0x241bfd=doc(db,'artifacts/'+appId+_0x53e821(0x807),_0x247779);await deleteDoc(_0x241bfd),showMessage(_0x53e821(0x38f));}catch(_0x175848){console[_0x53e821(0x8cc)](_0x53e821(0x6e0),_0x175848),showMessage(_0x53e821(0x219));}}async function handleAddCustomMathTopic(){const _0x5d313d=_0x483b09,_0x1a8744=document[_0x5d313d(0x437)]('custom-math-topic-input'),_0x3a87cd=_0x1a8744[_0x5d313d(0x8b5)][_0x5d313d(0x8ad)]();if(!_0x3a87cd){showMessage(_0x5d313d(0x4b2));return;}if(!userId){showMessage(_0x5d313d(0x2a9));return;}try{const _0x48e74d=collection(db,_0x5d313d(0x868)+appId+_0x5d313d(0x807));await addDoc(_0x48e74d,{'name':_0x3a87cd,'createdAt':serverTimestamp()}),_0x1a8744[_0x5d313d(0x8b5)]='',showMessage(_0x5d313d(0x282)+_0x3a87cd+_0x5d313d(0x6df));}catch(_0x446fd1){console['error'](_0x5d313d(0x2e7),_0x446fd1),showMessage(_0x5d313d(0x873));}}async function initialize(){const _0x2f1b43=_0x483b09;try{const _0x410668=initializeApp(firebaseConfig);db=getFirestore(_0x410668),auth=getAuth(_0x410668),setupAuthListener(),setupEventListeners(),showView(_0x2f1b43(0x4df)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x125b0d){console[_0x2f1b43(0x8cc)](_0x2f1b43(0x67d),_0x125b0d),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}function compareNumericalAnswers(_0x227cfc,_0x208114){const _0x2cfbc8=_0x483b09,_0x19197e=String(_0x227cfc)[_0x2cfbc8(0x78d)](',','.')[_0x2cfbc8(0x78d)](/[^\d.-]/g,'')[_0x2cfbc8(0x8ad)](),_0x550d68=String(_0x208114)['replace'](',','.')['replace'](/[^\d.-]/g,'')[_0x2cfbc8(0x8ad)]();if(_0x19197e===''||_0x550d68==='')return![];const _0x154e9b=parseFloat(_0x19197e),_0x13bbf9=parseFloat(_0x550d68);if(isNaN(_0x154e9b)||isNaN(_0x13bbf9))return![];return Math['abs'](_0x154e9b-_0x13bbf9)<0.001;}async function gradeShortAnswer(_0x82dfc2,_0x2ac1ea){const _0x19d4a5=_0x483b09,_0x2616b9=_0x2ac1ea[_0x19d4a5(0x724)];if(String(_0x82dfc2)['trim']()[_0x19d4a5(0x369)]()===String(_0x2616b9)['trim']()[_0x19d4a5(0x369)]())return!![];if(compareNumericalAnswers(_0x82dfc2,_0x2616b9))return!![];return console[_0x19d4a5(0x2e3)](_0x19d4a5(0x623)),await gradeShortAnswerWithAI(_0x82dfc2,_0x2616b9);}async function revealAnswerForAdmin(_0x35636b,_0x51f9f5){const _0x59b666=_0x483b09;if(document[_0x59b666(0x437)](_0x59b666(0x4f3)))return;const _0xf21e0=doc(db,_0x59b666(0x868)+appId+_0x59b666(0x7ca),currentLiveGameId);await updateDoc(_0xf21e0,{'questionStatus':_0x59b666(0x8bd)});const _0xdca978=liveGameView[_0x59b666(0x865)]('[data-is-correct=\x22true\x22]');_0xdca978&&(_0xdca978[_0x59b666(0x49a)]['remove']('bg-white/30'),_0xdca978[_0x59b666(0x49a)]['add'](_0x59b666(0x627),_0x59b666(0x776),_0x59b666(0x277),_0x59b666(0x5ea),_0x59b666(0x330)),_0xdca978['innerHTML']=_0x59b666(0x5ba)+_0xdca978['innerHTML']);const _0x4fb467=document[_0x59b666(0x437)](_0x59b666(0x89d));_0x4fb467&&(_0x4fb467['innerHTML']=_0x59b666(0x27d)+(_0x35636b+0x1===_0x51f9f5?'ดูสรุปผล':_0x59b666(0x53c))+_0x59b666(0x575),document[_0x59b666(0x437)]('next-live-question-btn')[_0x59b666(0x6b1)](_0x59b666(0x5ff),async()=>{const _0x176aee=_0x59b666,_0x2f5981=doc(db,_0x176aee(0x868)+appId+'/public/data/liveGames',currentLiveGameId),_0x1c07f6=await getDoc(_0x2f5981);if(!_0x1c07f6['exists']())return;const _0x5c302b=_0x1c07f6[_0x176aee(0x6cb)](),_0x39210a={};if(_0x5c302b[_0x176aee(0x356)])for(const _0x98f646 in _0x5c302b['players']){_0x39210a[_0x176aee(0x588)+_0x98f646+_0x176aee(0x46f)]=![];}const _0x21a3e8=_0x35636b+0x1;_0x21a3e8<_0x51f9f5?(_0x39210a['currentQuestionIndex']=_0x21a3e8,_0x39210a[_0x176aee(0x793)]=serverTimestamp(),_0x39210a[_0x176aee(0x4ea)]=_0x176aee(0x8ca),await updateDoc(_0x2f5981,_0x39210a)):await updateDoc(_0x2f5981,{'status':_0x176aee(0x8c2)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x1abb7c=>{const _0x63d187=_0x3cdb;if(_0x1abb7c){userId=_0x1abb7c[_0x63d187(0x91d)],userIdDisplay['textContent']=userId;const _0x414669=await loadUserPreferences();_0x414669['projectSortOrder']&&(document['getElementById'](_0x63d187(0x90b))[_0x63d187(0x8b5)]=_0x414669[_0x63d187(0x760)]);globalDashboardSettings['projectView']=_0x414669[_0x63d187(0x500)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x18efd3,_0x339efd){const _0x5a640d=_0x483b09;if(!userId)return;try{const _0x3d6180=doc(db,_0x5a640d(0x868)+appId+'/users/'+userId+_0x5a640d(0x220)),_0x2e14f9={};_0x2e14f9[_0x18efd3]=_0x339efd,await setDoc(_0x3d6180,_0x2e14f9,{'merge':!![]});}catch(_0x58c234){console['error'](_0x5a640d(0x3d3),_0x58c234);}}async function loadUserPreferences(){const _0x4cebc2=_0x483b09;if(!userId)return{};try{const _0x585587=doc(db,_0x4cebc2(0x868)+appId+_0x4cebc2(0x7b2)+userId+_0x4cebc2(0x220)),_0x8b8627=await getDoc(_0x585587);if(_0x8b8627[_0x4cebc2(0x830)]())return _0x8b8627['data']();return{};}catch(_0x4f5e89){return console[_0x4cebc2(0x8cc)]('Error\x20loading\x20user\x20preferences:',_0x4f5e89),{};}}function showPodiumView(_0x18c4f2){const _0x40959d=_0x483b09,_0x466914=Object[_0x40959d(0x8fc)](_0x18c4f2)[_0x40959d(0x530)](([_0x211fa6,_0x371597])=>({'name':_0x211fa6,'score':_0x371597['score']||0x0,'badges':_0x371597[_0x40959d(0x622)]||[]}));_0x466914[_0x40959d(0x205)]((_0x453ad7,_0x1c05d7)=>{const _0xa48bb7=_0x40959d,_0x5978e2=_0x1c05d7[_0xa48bb7(0x43a)]-_0x453ad7[_0xa48bb7(0x43a)];if(_0x5978e2!==0x0)return _0x5978e2;return(_0x1c05d7[_0xa48bb7(0x622)]['length']||0x0)-(_0x453ad7[_0xa48bb7(0x622)][_0xa48bb7(0x1d7)]||0x0);});const _0x156c2a=_0x410d46=>{const _0x2a1f18=_0x40959d;if(!_0x410d46||_0x410d46['length']===0x0)return'';const _0x383cd8={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x2a1f18(0x1e7)+_0x410d46[_0x2a1f18(0x530)](_0x49bfb0=>_0x383cd8[_0x49bfb0]||'')[_0x2a1f18(0x939)]('')+_0x2a1f18(0x73d);},_0x330f2c=_0x466914[_0x40959d(0x328)](0x3),_0x5411f5=_0x330f2c[_0x40959d(0x1d7)]>0x0?_0x40959d(0x811)+_0x330f2c[_0x40959d(0x530)]((_0x33e868,_0x24d635)=>_0x40959d(0x3ea)+(_0x24d635+0x4)+_0x40959d(0x8f0)+_0x33e868[_0x40959d(0x884)]+_0x40959d(0x28a)+_0x33e868[_0x40959d(0x43a)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x40959d(0x939)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x3e7c79=_0x40959d(0x311)+(_0x466914[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x466914[0x1][_0x40959d(0x884)]+_0x40959d(0x67c)+_0x156c2a(_0x466914[0x1][_0x40959d(0x622)])+_0x40959d(0x5d6)+_0x466914[0x1][_0x40959d(0x43a)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x40959d(0x69d))+_0x40959d(0x70d)+(_0x466914[0x0]?_0x40959d(0x231)+_0x466914[0x0][_0x40959d(0x884)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x156c2a(_0x466914[0x0][_0x40959d(0x622)])+_0x40959d(0x7e5)+_0x466914[0x0]['score']+_0x40959d(0x538):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x466914[0x2]?_0x40959d(0x44f)+_0x466914[0x2][_0x40959d(0x884)]+_0x40959d(0x67c)+_0x156c2a(_0x466914[0x2][_0x40959d(0x622)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0x466914[0x2]['score']+_0x40959d(0x5fd):'<div\x20class=\x22flex-1\x22></div>')+_0x40959d(0x39c)+_0x5411f5+_0x40959d(0x2f2)+(currentMode===_0x40959d(0x778)?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x40959d(0x30d);liveGameView[_0x40959d(0x676)]=_0x3e7c79,currentMode===_0x40959d(0x778)&&document[_0x40959d(0x437)](_0x40959d(0x5b9))[_0x40959d(0x6b1)]('click',async()=>{const _0x265c76=_0x40959d,_0x7aa870=doc(db,_0x265c76(0x868)+appId+_0x265c76(0x7ca),currentLiveGameId);await deleteDoc(_0x7aa870),showView(_0x265c76(0x683));});}async function handleStartLiveRace(_0x165019){const _0x1a3bb3=_0x483b09;let _0x27ba15=allQuizzes['find'](_0x2e55ce=>_0x2e55ce['id']===_0x165019);if(!_0x27ba15){const _0x41948e=doc(db,_0x1a3bb3(0x868)+appId+'/public/data/quizzes',_0x165019),_0x5b35ef=await getDoc(_0x41948e);if(!_0x5b35ef[_0x1a3bb3(0x830)]()){showMessage(_0x1a3bb3(0x5f4));return;}_0x27ba15={'id':_0x5b35ef['id'],..._0x5b35ef[_0x1a3bb3(0x6cb)]()};}currentQuizData=getShuffledQuiz(_0x27ba15);const _0x59381b=_0x27ba15[_0x1a3bb3(0x52f)]||currentProjectId||null,_0x2d23f9=Math[_0x1a3bb3(0x254)](0x3e8+Math[_0x1a3bb3(0x663)]()*0x2328)['toString']();currentLiveGamePin=_0x2d23f9;try{const _0x4181da=await addDoc(collection(db,_0x1a3bb3(0x868)+appId+_0x1a3bb3(0x7ca)),{'quizId':_0x165019,'projectId':_0x59381b,'status':_0x1a3bb3(0x5a6),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2d23f9,'createdAt':serverTimestamp()});currentLiveGameId=_0x4181da['id'],showAdminLobbyView(_0x2d23f9,_0x27ba15[_0x1a3bb3(0x624)]),listenForLiveGameUpdates();}catch(_0x1fd695){console['error'](_0x1a3bb3(0x5f0),_0x1fd695),showMessage(_0x1a3bb3(0x598));}}async function handleShowStudentRankings(){const _0x10c551=_0x483b09,_0x2a579d=document[_0x10c551(0x865)](_0x10c551(0x59f));_0x2a579d&&(_0x2a579d[_0x10c551(0x676)]=_0x10c551(0x56c));const _0x243e3f=document[_0x10c551(0x865)](_0x10c551(0x633));_0x243e3f&&(_0x243e3f[_0x10c551(0x676)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x4241c0=document[_0x10c551(0x437)]('student-rankings-modal');_0x4241c0[_0x10c551(0x49a)][_0x10c551(0x355)](_0x10c551(0x534)),document[_0x10c551(0x437)](_0x10c551(0x639))[_0x10c551(0x640)]=()=>_0x4241c0[_0x10c551(0x49a)][_0x10c551(0x3ba)](_0x10c551(0x534));const _0x7be7b6=document[_0x10c551(0x437)](_0x10c551(0x914)),_0x56a675=document[_0x10c551(0x437)](_0x10c551(0x92f)),_0x28a9fe=document[_0x10c551(0x437)]('student-quiz-leaderboard-content'),_0x3c8d05=document[_0x10c551(0x437)](_0x10c551(0x8df));_0x7be7b6[_0x10c551(0x640)]=()=>{const _0xbcea95=_0x10c551;_0x7be7b6[_0xbcea95(0x49a)]['add'](_0xbcea95(0x25e)),_0x56a675[_0xbcea95(0x49a)][_0xbcea95(0x355)](_0xbcea95(0x25e)),_0x28a9fe[_0xbcea95(0x49a)][_0xbcea95(0x355)](_0xbcea95(0x534)),_0x3c8d05[_0xbcea95(0x49a)][_0xbcea95(0x3ba)](_0xbcea95(0x534));},_0x56a675[_0x10c551(0x640)]=()=>{const _0x898ef5=_0x10c551;_0x56a675[_0x898ef5(0x49a)][_0x898ef5(0x3ba)](_0x898ef5(0x25e)),_0x7be7b6[_0x898ef5(0x49a)]['remove'](_0x898ef5(0x25e)),_0x3c8d05[_0x898ef5(0x49a)][_0x898ef5(0x355)](_0x898ef5(0x534)),_0x28a9fe[_0x898ef5(0x49a)]['add']('hidden');};try{const _0x45249f=collection(db,_0x10c551(0x868)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x10c551(0x225)),_0x511b2f=await getDocs(_0x45249f),_0x57d3ac=_0x511b2f[_0x10c551(0x714)][_0x10c551(0x530)](_0x523420=>_0x523420[_0x10c551(0x6cb)]());renderQuizLeaderboard(_0x57d3ac,currentQuizData,_0x10c551(0x5bb));const _0x457302=collection(db,_0x10c551(0x868)+appId+'/public/data/projects/'+currentQuizData[_0x10c551(0x52f)]+'/studentProfiles'),_0xfc236a=await getDocs(_0x457302),_0x2614c9=_0xfc236a[_0x10c551(0x714)][_0x10c551(0x530)](_0x5bee65=>_0x5bee65['data']());renderLeaderboard(_0x2614c9,_0x10c551(0x472));}catch(_0x3e40a2){console[_0x10c551(0x8cc)](_0x10c551(0x33b),_0x3e40a2),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x5ba7db){const _0x3f767e=_0x483b09,_0x5a051e=_0x5ba7db[_0x3f767e(0x566)],_0x5910fb=_0x5a051e[_0x3f767e(0x8c8)][_0x3f767e(0x6a8)],_0x464b61=currentQuizData[_0x3f767e(0x7f3)][_0x5910fb];if(!userId){showMessage(_0x3f767e(0x25d));return;}try{const _0x5cf55e={..._0x464b61,'originalTopic':currentQuizData[_0x3f767e(0x624)],'savedAt':serverTimestamp()},_0x428dae=collection(db,_0x3f767e(0x868)+appId+'/users/'+userId+_0x3f767e(0x366));await addDoc(_0x428dae,_0x5cf55e),showMessage(_0x3f767e(0x70c)),_0x5a051e['classList'][_0x3f767e(0x355)]('text-purple-600'),_0x5a051e['classList']['add'](_0x3f767e(0x747)),_0x5a051e[_0x3f767e(0x766)]=!![];}catch(_0x1061ec){console[_0x3f767e(0x8cc)](_0x3f767e(0x587),_0x1061ec),showMessage(_0x3f767e(0x286));}}function listenForStarredQuizzes(){const _0x301483=_0x483b09;if(!userId)return;const _0x399a34=collection(db,_0x301483(0x868)+appId+_0x301483(0x4e7)),_0x5af4f4=query(_0x399a34,where(_0x301483(0x6b9),'==',!![]));onSnapshot(_0x5af4f4,_0x2e228d=>{const _0x55e30b=_0x301483;starredQuizzes=_0x2e228d[_0x55e30b(0x714)]['map'](_0x7e0c26=>({'id':_0x7e0c26['id'],..._0x7e0c26[_0x55e30b(0x6cb)]()})),currentProjectId===_0x55e30b(0x3ab)?renderQuizzes():renderProjects();},_0x3547d2=>{const _0x3a6edc=_0x301483;console[_0x3a6edc(0x8cc)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x3547d2);});}function exportQuizAsWorksheetPDF(){const _0x504c37=_0x483b09;if(!currentQuizData||!currentQuizData[_0x504c37(0x7f3)]){showMessage(_0x504c37(0x1ef));return;}const _0x1fcea6=currentQuizData,_0xd5245e=window['open']('','_blank'),_0x57a6ca=_0x25f529=>String[_0x504c37(0x2a0)](0x41+_0x25f529),_0x5ca7a7=_0x504c37(0x8ae)+_0x1fcea6['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x1fcea6[_0x504c37(0x624)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1fcea6[_0x504c37(0x7f3)][_0x504c37(0x530)]((_0x5341e3,_0x2d1a97)=>{const _0x58b7a2=_0x504c37;let _0x5711af='';const _0x12e4f5=_0x5341e3[_0x58b7a2(0x671)]||_0x1fcea6[_0x58b7a2(0x5da)];switch(_0x12e4f5){case _0x58b7a2(0x450):case _0x58b7a2(0x29f):_0x5711af=_0x58b7a2(0x1f0)+_0x5341e3['options'][_0x58b7a2(0x530)]((_0x9ccddb,_0xca891b)=>_0x58b7a2(0x8e6)+_0x57a6ca(_0xca891b)+'.\x20'+_0x9ccddb+_0x58b7a2(0x550))[_0x58b7a2(0x939)](_0x58b7a2(0x8b2))+_0x58b7a2(0x73d);break;case _0x58b7a2(0x29b):_0x5711af=_0x58b7a2(0x7f7);break;default:_0x5711af='<div\x20class=\x22answer-space\x22></div>';break;}return _0x58b7a2(0x87b)+(_0x2d1a97+0x1)+_0x58b7a2(0x6f7)+(_0x5341e3['stem']||_0x5341e3[_0x58b7a2(0x353)])+_0x58b7a2(0x495)+(_0x5341e3[_0x58b7a2(0x35c)]?'<div\x20class=\x22my-2\x22>'+_0x5341e3[_0x58b7a2(0x35c)]+_0x58b7a2(0x73d):'')+_0x58b7a2(0x4f4)+_0x5711af+_0x58b7a2(0x936);})[_0x504c37(0x939)]('')+_0x504c37(0x395);_0xd5245e[_0x504c37(0x8ce)]['write'](_0x5ca7a7),_0xd5245e[_0x504c37(0x8ce)][_0x504c37(0x42c)](),_0xd5245e[_0x504c37(0x8be)]=function(){setTimeout(()=>{const _0x435cec=_0x3cdb;_0xd5245e[_0x435cec(0x7af)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x509d83=_0x483b09;if(!currentQuizData||!currentQuizData[_0x509d83(0x7f3)]){showMessage(_0x509d83(0x1ef));return;}const _0x491909=currentQuizData,_0x4c7aba=window[_0x509d83(0x6ff)]('',_0x509d83(0x4ad)),_0x4b3d94=_0x5d3ada=>String[_0x509d83(0x2a0)](0x41+_0x5d3ada),_0x1e7ece=_0x509d83(0x44c)+_0x491909[_0x509d83(0x624)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x491909['questions'][_0x509d83(0x530)]((_0x431cdf,_0x361781)=>{const _0x2db5de=_0x509d83;let _0x141f1d='';const _0x55b766=_0x431cdf[_0x2db5de(0x671)]||_0x491909[_0x2db5de(0x5da)];switch(_0x55b766){case _0x2db5de(0x450):case _0x2db5de(0x29f):_0x141f1d=_0x2db5de(0x614)+_0x431cdf[_0x2db5de(0x2c8)][_0x2db5de(0x530)]((_0x1b3733,_0x55dd95)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4b3d94(_0x55dd95)+'.\x20'+_0x1b3733+_0x2db5de(0x54e))[_0x2db5de(0x939)]('<br>')+_0x2db5de(0x3ec);break;case _0x2db5de(0x29b):_0x141f1d=_0x2db5de(0x2d6);break;default:_0x141f1d='';break;}return _0x2db5de(0x63b)+_0x491909[_0x2db5de(0x624)]+_0x2db5de(0x69c)+(_0x361781+0x1)+_0x2db5de(0x5b3)+(_0x431cdf[_0x2db5de(0x509)]||_0x431cdf[_0x2db5de(0x353)])+_0x2db5de(0x495)+(_0x431cdf[_0x2db5de(0x35c)]?'<div\x20class=\x22my-6\x22>'+_0x431cdf[_0x2db5de(0x35c)]+_0x2db5de(0x73d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x141f1d+_0x2db5de(0x321);})[_0x509d83(0x939)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4c7aba[_0x509d83(0x8ce)][_0x509d83(0x3e8)](_0x1e7ece),_0x4c7aba[_0x509d83(0x8ce)][_0x509d83(0x42c)](),_0x4c7aba[_0x509d83(0x8be)]=function(){setTimeout(()=>{const _0x1a1206=_0x3cdb;_0x4c7aba[_0x1a1206(0x7af)]();},0x5dc);};}async function handleToggleStarQuiz(_0x5887a8){const _0x3a13ef=_0x483b09,_0x2ae996=doc(db,'artifacts/'+appId+_0x3a13ef(0x4e7),_0x5887a8);try{const _0x3b242f=await getDoc(_0x2ae996);if(_0x3b242f['exists']()){const _0x3b7c77=_0x3b242f[_0x3a13ef(0x6cb)]()[_0x3a13ef(0x6b9)]||![];await updateDoc(_0x2ae996,{'isStarred':!_0x3b7c77});}}catch(_0x2adaa3){console['error']('Error\x20toggling\x20star\x20status:',_0x2adaa3),showMessage(_0x3a13ef(0x881));}}async function displayQuestionBank(){const _0x3be597=_0x483b09,_0x2dc723=document[_0x3be597(0x437)]('bank-input-area');_0x2dc723[_0x3be597(0x676)]=_0x3be597(0x1e1);try{const _0x3bbc5a=collection(db,_0x3be597(0x868)+appId+'/users/'+userId+_0x3be597(0x366)),_0xde5f8f=query(_0x3bbc5a),_0x1afa70=await getDocs(_0xde5f8f);if(_0x1afa70['empty']){_0x2dc723[_0x3be597(0x676)]=_0x3be597(0x834);return;}let _0x114af3=_0x1afa70[_0x3be597(0x714)][_0x3be597(0x530)](_0xfef1e4=>{const _0x313e9a=_0x3be597,_0x3e3806=_0xfef1e4[_0x313e9a(0x6cb)](),_0x34135e=_0xfef1e4['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON['stringify'](_0x3e3806)+_0x313e9a(0x341)+(_0x3e3806['questionText']||_0x3e3806[_0x313e9a(0x509)])+_0x313e9a(0x927)+_0x3e3806['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3be597(0x939)]('');_0x2dc723['innerHTML']=_0x3be597(0x4a0)+_0x114af3+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x3be597(0x437)]('create-from-bank-btn')[_0x3be597(0x6b1)](_0x3be597(0x5ff),createQuizFromBank);}catch(_0x54a53f){console[_0x3be597(0x8cc)](_0x3be597(0x433),_0x54a53f),_0x2dc723['innerHTML']=_0x3be597(0x26b);}}function showAdminLiveQuestionView(_0x66b504,_0x570e6a,_0x3d220c){const _0x1a1169=_0x483b09,_0x8ca784=_0x66b504[_0x1a1169(0x671)]||currentQuizData[_0x1a1169(0x5da)];let _0x5366d6='';if(_0x8ca784===_0x1a1169(0x450)||_0x8ca784===_0x1a1169(0x29b)){const _0x305f12=_0x8ca784===_0x1a1169(0x29b)?['ใช่',_0x1a1169(0x1f2)]:_0x66b504['options'],_0x2c3cee=_0x8ca784==='true_false'?_0x66b504[_0x1a1169(0x5ac)]?0x0:0x1:_0x66b504[_0x1a1169(0x531)];_0x5366d6=_0x305f12[_0x1a1169(0x530)]((_0x32a18b,_0x17cb57)=>_0x1a1169(0x23b)+(_0x17cb57===_0x2c3cee)+_0x1a1169(0x474)+_0x32a18b+_0x1a1169(0x5e4))[_0x1a1169(0x939)]('');}else{if(_0x8ca784===_0x1a1169(0x479)){const _0x88ca0=_0x66b504['allResponses']||[];_0x5366d6=_0x88ca0[_0x1a1169(0x530)](_0x275e8a=>_0x1a1169(0x23b)+(_0x275e8a===_0x66b504['correctResponse'])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x275e8a+_0x1a1169(0x5e4))[_0x1a1169(0x939)]('');}}const _0x53e792=_0x66b504[_0x1a1169(0x509)]||_0x66b504[_0x1a1169(0x353)],_0x1aa1d9=_0x1a1169(0x5e0)+(_0x570e6a+0x1)+_0x1a1169(0x7be)+_0x3d220c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x53e792+_0x1a1169(0x7ce)+_0x5366d6+_0x1a1169(0x799);liveGameView[_0x1a1169(0x676)]=_0x1aa1d9;window[_0x1a1169(0x875)]&&MathJax[_0x1a1169(0x376)]&&MathJax[_0x1a1169(0x376)]([liveGameView]);const _0x321d4a=document[_0x1a1169(0x437)](_0x1a1169(0x89d));document[_0x1a1169(0x437)](_0x1a1169(0x8c9))[_0x1a1169(0x6b1)](_0x1a1169(0x5ff),async()=>{const _0xd3068d=_0x1a1169,_0x19a157=doc(db,'artifacts/'+appId+_0xd3068d(0x7ca),currentLiveGameId);await updateDoc(_0x19a157,{'questionStatus':'revealed'});const _0x402682=liveGameView[_0xd3068d(0x865)]('[data-is-correct=\x22true\x22]');_0x402682&&(_0x402682[_0xd3068d(0x49a)][_0xd3068d(0x355)](_0xd3068d(0x38b)),_0x402682['classList'][_0xd3068d(0x3ba)](_0xd3068d(0x627),_0xd3068d(0x776),_0xd3068d(0x277),'border-4','border-green-500'),_0x402682[_0xd3068d(0x676)]=_0xd3068d(0x5ba)+_0x402682[_0xd3068d(0x676)]),_0x321d4a['innerHTML']=_0xd3068d(0x27d)+(_0x570e6a+0x1===_0x3d220c?_0xd3068d(0x5b1):_0xd3068d(0x53c))+_0xd3068d(0x575),document['getElementById']('next-live-question-btn')[_0xd3068d(0x6b1)](_0xd3068d(0x5ff),async()=>{const _0x1cda3f=_0xd3068d,_0x5d960b=doc(db,_0x1cda3f(0x868)+appId+_0x1cda3f(0x7ca),currentLiveGameId),_0x25e445=await getDoc(_0x5d960b);if(!_0x25e445['exists']())return;const _0x1fd9e8=_0x25e445['data'](),_0x4e12f1={};if(_0x1fd9e8[_0x1cda3f(0x356)])for(const _0x2d3fd6 in _0x1fd9e8[_0x1cda3f(0x356)]){_0x4e12f1[_0x1cda3f(0x588)+_0x2d3fd6+'.answeredCurrentQuestion']=![];}const _0x30b0c8=_0x570e6a+0x1;_0x30b0c8<_0x3d220c?(_0x4e12f1[_0x1cda3f(0x3b7)]=_0x30b0c8,_0x4e12f1['questionDisplayedAt']=serverTimestamp(),_0x4e12f1[_0x1cda3f(0x4ea)]='answering',await updateDoc(_0x5d960b,_0x4e12f1)):await updateDoc(_0x5d960b,{'status':_0x1cda3f(0x8c2)});});}),document[_0x1a1169(0x437)]('end-game-btn')['addEventListener']('click',async()=>{const _0x42c855=_0x1a1169,_0x5a1709=doc(db,'artifacts/'+appId+_0x42c855(0x7ca),currentLiveGameId);await deleteDoc(_0x5a1709),showView(_0x42c855(0x683));});}function showStudentLiveQuestionView(_0x492bc2,_0x2a39fa,_0x3e64f4){const _0x1815f6=_0x483b09,_0x5efdb3=_0x492bc2[_0x1815f6(0x671)]||currentQuizData['quizType'];let _0x4cb6b9='';if(_0x5efdb3==='multiple_choice'||_0x5efdb3==='true_false'){const _0x4ffc37=_0x5efdb3==='true_false'?[_0x1815f6(0x326),_0x1815f6(0x1f2)]:_0x492bc2['options'];_0x4cb6b9=_0x4ffc37[_0x1815f6(0x530)]((_0x4bd268,_0x56fb7a)=>_0x1815f6(0x80f)+_0x56fb7a+_0x1815f6(0x208)+_0x4bd268+_0x1815f6(0x6bd))[_0x1815f6(0x939)]('');}else{if(_0x5efdb3===_0x1815f6(0x479)){const _0x49e240=_0x492bc2[_0x1815f6(0x501)]||[];_0x4cb6b9=_0x49e240[_0x1815f6(0x530)]((_0x1b4053,_0x5f10a2)=>_0x1815f6(0x80f)+_0x5f10a2+_0x1815f6(0x208)+_0x1b4053+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1815f6(0x939)]('');}else _0x5efdb3==='short_answer'&&(_0x4cb6b9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x1540ef=_0x492bc2[_0x1815f6(0x509)]||_0x492bc2[_0x1815f6(0x353)],_0x4b91e8=_0x1815f6(0x406)+(_0x2a39fa+0x1)+_0x1815f6(0x7be)+_0x3e64f4+_0x1815f6(0x591)+_0x1540ef+_0x1815f6(0x4da)+_0x4cb6b9+_0x1815f6(0x626);liveGameView[_0x1815f6(0x676)]=_0x4b91e8;window['MathJax']&&MathJax['typesetPromise']&&MathJax[_0x1815f6(0x376)]([liveGameView]);const _0x10cf7a=document[_0x1815f6(0x437)]('live-submit-short-answer-btn');_0x10cf7a&&_0x10cf7a['addEventListener']('click',()=>{const _0x6b8037=_0x1815f6,_0x281f74=document[_0x6b8037(0x437)](_0x6b8037(0x40c))[_0x6b8037(0x8b5)];handleLiveAnswer(_0x281f74,_0x492bc2);}),document[_0x1815f6(0x437)]('live-options-container')[_0x1815f6(0x6b1)]('click',_0x81dd45=>{const _0x1ef270=_0x1815f6,_0x4c327b=_0x81dd45['target']['closest'](_0x1ef270(0x310));if(_0x4c327b){const _0xa1f9c2=parseInt(_0x4c327b['dataset']['index']);handleLiveAnswer(_0xa1f9c2,_0x492bc2);}});}async function handleLiveAnswer(_0x285905,_0x176521){const _0x431dd=_0x483b09;document[_0x431dd(0x442)](_0x431dd(0x7d6))[_0x431dd(0x4ec)](_0x41a6f9=>_0x41a6f9[_0x431dd(0x766)]=!![]);const _0x349f6c=_0x176521[_0x431dd(0x671)]||currentQuizData[_0x431dd(0x5da)];let _0x4b39f9=![];if(_0x349f6c===_0x431dd(0x669)){const _0x2639e3=(_0x285905||'')['toString']();_0x4b39f9=await gradeShortAnswer(_0x2639e3,_0x176521);}else{if(_0x349f6c===_0x431dd(0x450))_0x4b39f9=_0x285905===_0x176521[_0x431dd(0x531)];else{if(_0x349f6c===_0x431dd(0x29b)){const _0x4e6887=_0x176521[_0x431dd(0x5ac)];_0x4b39f9=_0x285905===0x0&&_0x4e6887||_0x285905===0x1&&!_0x4e6887;}else{if(_0x349f6c===_0x431dd(0x479)){const _0x9dfdd3=_0x176521[_0x431dd(0x501)][_0x285905];_0x4b39f9=_0x9dfdd3===_0x176521[_0x431dd(0x4d5)];}}}}const _0x511592=doc(db,_0x431dd(0x868)+appId+'/public/data/liveGames',currentLiveGameId),_0x2870b7=await getDoc(_0x511592);if(!_0x2870b7[_0x431dd(0x830)]())return;const _0x1aeca5=_0x2870b7['data'](),_0x5d10fd=_0x1aeca5['players'][currentStudentName];let _0x3df6e4=_0x5d10fd['badges']||[],_0x4aed0d=_0x5d10fd['correctStreak']||0x0;const _0x42e80d={};let _0x348e20=0x0;if(_0x1aeca5[_0x431dd(0x793)]){const _0x1d14b=_0x1aeca5['questionDisplayedAt'][_0x431dd(0x210)](),_0x4b574e=new Date()-_0x1d14b;if(_0x4b39f9){const _0x2ae50e=0x3e8,_0x5e9a00=0x1f4,_0x4d22e7=0x4e20;let _0x26bfa4=_0x4b574e/_0x4d22e7;if(_0x26bfa4>0x1)_0x26bfa4=0x1;const _0x4d8f88=Math[_0x431dd(0x570)](_0x26bfa4*_0x5e9a00);_0x348e20=_0x2ae50e-_0x4d8f88,_0x4b574e<=0x1388&&!_0x3df6e4[_0x431dd(0x806)](_0x431dd(0x7e1))&&_0x3df6e4['push'](_0x431dd(0x7e1));}}_0x4b39f9?(_0x4aed0d++,_0x4aed0d===0x3&&!_0x3df6e4[_0x431dd(0x806)]('on_fire')&&(_0x3df6e4[_0x431dd(0x554)](_0x431dd(0x665)),_0x4aed0d=0x0)):_0x4aed0d=0x0,_0x4b39f9&&(_0x42e80d[_0x431dd(0x588)+currentStudentName+_0x431dd(0x2df)]=increment(_0x348e20)),_0x42e80d[_0x431dd(0x588)+currentStudentName+_0x431dd(0x410)]=_0x3df6e4,_0x42e80d['players.'+currentStudentName+_0x431dd(0x83c)]=_0x4aed0d,_0x42e80d[_0x431dd(0x588)+currentStudentName+_0x431dd(0x46f)]=!![],_0x42e80d[_0x431dd(0x588)+currentStudentName+'.lastAnswerCorrect']=_0x4b39f9,_0x42e80d[_0x431dd(0x588)+currentStudentName+'.pointsLastQuestion']=_0x348e20,await updateDoc(_0x511592,_0x42e80d),liveGameView['innerHTML']=_0x431dd(0x3fb);}function createQuizFromBank(){const _0x43922b=_0x483b09,_0x2830c6=document['querySelectorAll']('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x2830c6[_0x43922b(0x1d7)]===0x0){showMessage(_0x43922b(0x47a));return;}const _0x527313=[];_0x2830c6[_0x43922b(0x4ec)](_0x420515=>{const _0x30084b=_0x43922b;_0x527313[_0x30084b(0x554)](JSON[_0x30084b(0x4cb)](_0x420515[_0x30084b(0x8b5)]));});const _0x3b09ec={'topic':_0x43922b(0x855),'questions':_0x527313};displayGeneratedQuiz(_0x3b09ec);}function showAdminLobbyView(_0x195e59,_0x58def9){const _0x2461ab=_0x483b09;showView('live-game');const _0x491008=_0x2461ab(0x2bb)+_0x58def9+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x195e59+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x2461ab(0x676)]=_0x491008,document[_0x2461ab(0x437)]('start-game-btn')[_0x2461ab(0x6b1)](_0x2461ab(0x5ff),async()=>{const _0x75c261=_0x2461ab;if(!currentQuizData||!currentQuizData[_0x75c261(0x7f3)]||currentQuizData[_0x75c261(0x7f3)][_0x75c261(0x1d7)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x30d3f0=doc(db,_0x75c261(0x868)+appId+_0x75c261(0x7ca),currentLiveGameId);await updateDoc(_0x30d3f0,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x22f27c=currentQuizData[_0x75c261(0x7f3)][0x0],_0x3582bb=currentQuizData['questions'][_0x75c261(0x1d7)];showAdminLiveQuestionView(_0x22f27c,0x0,_0x3582bb);}catch(_0x27276c){console[_0x75c261(0x8cc)](_0x75c261(0x415),_0x27276c),showMessage(_0x75c261(0x2d0));}});}async function openGlobalLiveModal(){const _0x37d2e1=_0x483b09;if(allQuizzesGlobal[_0x37d2e1(0x1d7)]===0x0){const _0x542f22=await getDocs(collection(db,_0x37d2e1(0x868)+appId+_0x37d2e1(0x4e7)));allQuizzesGlobal=_0x542f22[_0x37d2e1(0x714)][_0x37d2e1(0x530)](_0x13150c=>({'id':_0x13150c['id'],..._0x13150c['data']()}));}renderGlobalQuizList(''),document['getElementById'](_0x37d2e1(0x8ea))[_0x37d2e1(0x49a)][_0x37d2e1(0x355)](_0x37d2e1(0x534));}async function openQuizBankModal(){const _0x5d83b9=_0x483b09;if(allQuizzesGlobal['length']===0x0){const _0x4fa246=await getDocs(collection(db,_0x5d83b9(0x868)+appId+_0x5d83b9(0x4e7)));allQuizzesGlobal=_0x4fa246[_0x5d83b9(0x714)][_0x5d83b9(0x530)](_0x44e147=>({'id':_0x44e147['id'],..._0x44e147['data']()}));}renderQuizBankList(''),document[_0x5d83b9(0x437)](_0x5d83b9(0x58b))['classList'][_0x5d83b9(0x355)]('hidden');}function renderQuizBankList(_0x50e0dc=''){const _0x1d6e74=_0x483b09,_0x48d5e6=document[_0x1d6e74(0x437)](_0x1d6e74(0x706)),_0x2b3c71=_0x50e0dc[_0x1d6e74(0x369)]()[_0x1d6e74(0x8ad)](),_0x234632=allQuizzesGlobal['map'](_0x3e2992=>({..._0x3e2992,'projectName':allProjects[_0x1d6e74(0x413)](_0x3ea93c=>_0x3ea93c['id']===_0x3e2992[_0x1d6e74(0x52f)])?.[_0x1d6e74(0x7d4)]||_0x1d6e74(0x922)}))['filter'](_0x57c160=>(_0x57c160[_0x1d6e74(0x624)]||'')[_0x1d6e74(0x369)]()[_0x1d6e74(0x806)](_0x2b3c71)||(_0x57c160['projectName']||'')[_0x1d6e74(0x369)]()[_0x1d6e74(0x806)](_0x2b3c71)||_0x57c160['id'][_0x1d6e74(0x38c)]()['includes'](_0x2b3c71));document[_0x1d6e74(0x437)](_0x1d6e74(0x365))[_0x1d6e74(0x2dd)]='('+_0x234632[_0x1d6e74(0x1d7)]+_0x1d6e74(0x8cf),_0x48d5e6[_0x1d6e74(0x676)]=_0x234632[_0x1d6e74(0x1d7)]?_0x234632[_0x1d6e74(0x530)](_0x23e601=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x23e601['id']+_0x1d6e74(0x68e)+(_0x23e601[_0x1d6e74(0x624)]||_0x1d6e74(0x704))+_0x1d6e74(0x5e8)+(_0x23e601[_0x1d6e74(0x7f3)]?.[_0x1d6e74(0x1d7)]||0x0)+_0x1d6e74(0x263)+_0x23e601[_0x1d6e74(0x7d4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x23e601['id']+_0x1d6e74(0x2b7)+_0x23e601['id']+_0x1d6e74(0x1dd)+_0x23e601['id']+_0x1d6e74(0x41f)+_0x23e601['id']+_0x1d6e74(0x937))[_0x1d6e74(0x939)](''):_0x1d6e74(0x1c8),_0x48d5e6['querySelectorAll'](_0x1d6e74(0x32f))[_0x1d6e74(0x4ec)](_0x15a021=>{const _0x3dea5c=_0x1d6e74;_0x15a021[_0x3dea5c(0x6b1)](_0x3dea5c(0x5ff),()=>{const _0x2d8e79=_0x3dea5c,_0x409d25=_0x15a021['dataset']['id'];document[_0x2d8e79(0x437)](_0x2d8e79(0x58b))[_0x2d8e79(0x49a)]['add'](_0x2d8e79(0x534)),showQuizDetailView(_0x409d25);});}),_0x48d5e6['querySelectorAll'](_0x1d6e74(0x84c))[_0x1d6e74(0x4ec)](_0x5794c1=>{const _0x37c0c5=_0x1d6e74;_0x5794c1[_0x37c0c5(0x6b1)](_0x37c0c5(0x5ff),_0x53281a=>{const _0x240b4a=_0x37c0c5;_0x53281a[_0x240b4a(0x3b2)]();const _0x433aed=_0x5794c1[_0x240b4a(0x8c8)]['id'],_0x558caa=allQuizzesGlobal[_0x240b4a(0x413)](_0xd1abff=>_0xd1abff['id']===_0x433aed);_0x558caa?(currentQuizData=_0x558caa,document['getElementById'](_0x240b4a(0x58b))[_0x240b4a(0x49a)][_0x240b4a(0x3ba)](_0x240b4a(0x534)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x48d5e6[_0x1d6e74(0x442)]('.quiz-bank-parallel-btn')[_0x1d6e74(0x4ec)](_0x2e9c3e=>{const _0x491c5a=_0x1d6e74;_0x2e9c3e['addEventListener'](_0x491c5a(0x5ff),_0x46259f=>{const _0x20f95a=_0x491c5a;_0x46259f[_0x20f95a(0x3b2)]();const _0x4f8ed5=_0x2e9c3e[_0x20f95a(0x8c8)]['id'],_0x160737=allQuizzesGlobal[_0x20f95a(0x413)](_0x209095=>_0x209095['id']===_0x4f8ed5);_0x160737?(document[_0x20f95a(0x437)](_0x20f95a(0x58b))[_0x20f95a(0x49a)][_0x20f95a(0x3ba)](_0x20f95a(0x534)),handleGenerateParallelFromBank(_0x160737)):showMessage(_0x20f95a(0x5f4));});}),_0x48d5e6[_0x1d6e74(0x442)]('.quiz-bank-present-btn')[_0x1d6e74(0x4ec)](_0x14ba7a=>{const _0x2d96d5=_0x1d6e74;_0x14ba7a[_0x2d96d5(0x6b1)](_0x2d96d5(0x5ff),_0x208b83=>{const _0x39d28c=_0x2d96d5;_0x208b83[_0x39d28c(0x3b2)]();const _0x1d9f93=_0x14ba7a[_0x39d28c(0x8c8)]['id'],_0x40bafe=allQuizzesGlobal[_0x39d28c(0x413)](_0x1695eb=>_0x1695eb['id']===_0x1d9f93);_0x40bafe?(document[_0x39d28c(0x437)]('quiz-bank-modal')['classList'][_0x39d28c(0x3ba)](_0x39d28c(0x534)),startPresentation(_0x40bafe)):showMessage(_0x39d28c(0x5f4));});});}async function handleCompareResults(_0x74b7b3,_0x2c72d9){const _0x3ef4f9=_0x483b09,_0x515e1e=document[_0x3ef4f9(0x437)](_0x3ef4f9(0x3ad)),_0x2b92d2=document[_0x3ef4f9(0x437)]('comparison-overall-content'),_0x59351c=document[_0x3ef4f9(0x437)](_0x3ef4f9(0x864));document['getElementById']('comparison-overall-tab')[_0x3ef4f9(0x49a)][_0x3ef4f9(0x3ba)]('active'),document[_0x3ef4f9(0x437)](_0x3ef4f9(0x2ad))[_0x3ef4f9(0x49a)][_0x3ef4f9(0x355)](_0x3ef4f9(0x25e)),_0x2b92d2[_0x3ef4f9(0x49a)][_0x3ef4f9(0x355)]('hidden'),_0x59351c[_0x3ef4f9(0x49a)][_0x3ef4f9(0x3ba)](_0x3ef4f9(0x534)),_0x2b92d2['innerHTML']=_0x3ef4f9(0x1e1),_0x59351c['innerHTML']='',_0x515e1e[_0x3ef4f9(0x49a)][_0x3ef4f9(0x355)](_0x3ef4f9(0x534));try{const _0xb86374=doc(db,_0x3ef4f9(0x868)+appId+_0x3ef4f9(0x4e7),_0x74b7b3),_0x3b14d7=await getDoc(_0xb86374);if(!_0x3b14d7[_0x3ef4f9(0x830)]())throw new Error(_0x3ef4f9(0x814));const _0x22149c=_0x3b14d7[_0x3ef4f9(0x6cb)](),_0x325211=_0x22149c[_0x3ef4f9(0x7f3)][_0x3ef4f9(0x1d7)],_0x50b672=collection(db,_0x3ef4f9(0x868)+appId+_0x3ef4f9(0x8ab)+_0x2c72d9+'/submissions'),_0x1a4447=collection(db,_0x3ef4f9(0x868)+appId+_0x3ef4f9(0x8ab)+_0x74b7b3+_0x3ef4f9(0x225)),[_0x52bbb0,_0x43f747]=await Promise[_0x3ef4f9(0x4ee)]([getDocs(_0x50b672),getDocs(_0x1a4447)]),_0xd95648=_0x52bbb0[_0x3ef4f9(0x714)]['map'](_0x36fe3b=>_0x36fe3b[_0x3ef4f9(0x6cb)]()),_0x2c939d=_0x43f747[_0x3ef4f9(0x714)]['map'](_0x4df2cd=>_0x4df2cd['data']()),_0x352b1b=_0xd95648['map'](_0x285b92=>_0x285b92[_0x3ef4f9(0x7aa)]),_0x128370=_0x2c939d[_0x3ef4f9(0x530)](_0x5e6223=>_0x5e6223[_0x3ef4f9(0x7aa)]),_0x2d29fc=calculateMeanAndStdDev(_0x352b1b),_0x26798b=calculateMeanAndStdDev(_0x128370),_0x10669b=_0x2d29fc[_0x3ef4f9(0x289)],_0x16df1a=_0x26798b[_0x3ef4f9(0x289)],_0x309c42=_0x16df1a-_0x10669b;let _0xa23229=_0x3ef4f9(0x6ee)+_0x10669b[_0x3ef4f9(0x508)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x16df1a[_0x3ef4f9(0x508)](0x2)+_0x3ef4f9(0x8c1)+(_0x309c42>=0x0?_0x3ef4f9(0x53d):_0x3ef4f9(0x91f))+_0x3ef4f9(0x48a)+(_0x309c42>=0x0?_0x3ef4f9(0x5fc):_0x3ef4f9(0x5fb))+_0x3ef4f9(0x48c)+(_0x309c42>=0x0?_0x3ef4f9(0x264):_0x3ef4f9(0x69a))+'\x22>'+(_0x309c42>=0x0?'+':'')+_0x309c42[_0x3ef4f9(0x508)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x2b92d2['innerHTML']=_0xa23229;const _0x2c25af=document[_0x3ef4f9(0x437)]('comparison-chart')[_0x3ef4f9(0x893)]('2d');if(chartInstances[_0x3ef4f9(0x910)])chartInstances[_0x3ef4f9(0x910)]['destroy']();chartInstances[_0x3ef4f9(0x910)]=new Chart(_0x2c25af,{'type':_0x3ef4f9(0x92a),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x3ef4f9(0x1e5),'data':[_0x10669b],'backgroundColor':_0x3ef4f9(0x537)},{'label':_0x3ef4f9(0x253),'data':[_0x16df1a],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x325211}}}});const _0x327309=currentProjectData[_0x3ef4f9(0x71b)]||[],_0x1073d5=_0x327309['map'](_0x50889d=>{const _0x5acfc4=_0x3ef4f9,_0x3dd4e7=_0xd95648[_0x5acfc4(0x413)](_0x309e32=>_0x309e32[_0x5acfc4(0x5c0)]===_0x50889d),_0x11adc5=_0x2c939d[_0x5acfc4(0x413)](_0xfd0738=>_0xfd0738[_0x5acfc4(0x5c0)]===_0x50889d),_0x5340d3=_0x3dd4e7?_0x3dd4e7['latestScore']:null,_0x57756a=_0x11adc5?_0x11adc5[_0x5acfc4(0x7aa)]:null,_0x15f80a=_0x5340d3!==null&&_0x57756a!==null?_0x57756a-_0x5340d3:null,_0x28c665=_0x5340d3!==null?calculateZScore(_0x5340d3,_0x2d29fc['mean'],_0x2d29fc[_0x5acfc4(0x76c)]):null,_0x3b9a97=_0x57756a!==null?calculateZScore(_0x57756a,_0x26798b[_0x5acfc4(0x289)],_0x26798b['stdDev']):null,_0x2c30da=_0x28c665!==null?calculateTScore(_0x28c665):null,_0x1ba113=_0x3b9a97!==null?calculateTScore(_0x3b9a97):null,_0x59fb2c=_0x2c30da!==null&&_0x1ba113!==null?_0x1ba113-_0x2c30da:null;return{'name':_0x50889d,'preScore':_0x5340d3,'postScore':_0x57756a,'gain':_0x15f80a,'preTScore':_0x2c30da,'postTScore':_0x1ba113,'tGain':_0x59fb2c};});renderIndividualComparisonTable(_0x1073d5,_0x59351c);}catch(_0x3cc31b){console[_0x3ef4f9(0x8cc)](_0x3ef4f9(0x23f),_0x3cc31b),_0x2b92d2[_0x3ef4f9(0x676)]=_0x3ef4f9(0x1df);}}function renderIndividualComparisonTable(_0x28b0ad,_0x50ed8a){const _0x33ebc0=_0x483b09;_0x28b0ad[_0x33ebc0(0x205)]((_0x4aafab,_0x3fbd9e)=>(_0x3fbd9e[_0x33ebc0(0x675)]??-Infinity)-(_0x4aafab[_0x33ebc0(0x675)]??-Infinity));let _0x54aed7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x28b0ad[_0x33ebc0(0x1d7)]===0x0?_0x54aed7+=_0x33ebc0(0x7b9):_0x28b0ad['forEach']((_0x5e5a8c,_0x5cc4a7)=>{const _0x55b53e=_0x33ebc0;let _0xb11f65='-',_0x552d96='';if(_0x5e5a8c[_0x55b53e(0x521)]!==null){const _0x508e3d=_0x5e5a8c[_0x55b53e(0x521)]>0x0?_0x55b53e(0x747):_0x5e5a8c['gain']<0x0?'text-red-600':_0x55b53e(0x357),_0x637a51=_0x5e5a8c['gain']>0x0?'+':'';_0xb11f65='<span\x20class=\x22font-bold\x20'+_0x508e3d+'\x22>'+_0x637a51+_0x5e5a8c['gain']+_0x55b53e(0x54e);if(_0x5e5a8c[_0x55b53e(0x521)]>0x0)_0x552d96=_0x55b53e(0x923);else _0x5e5a8c['gain']<0x0?_0x552d96=_0x55b53e(0x371):_0x552d96=_0x55b53e(0x8cb);}let _0x359fcb='-';if(_0x5e5a8c[_0x55b53e(0x675)]!==null){const _0x4f012c=_0x5e5a8c['tGain']>0x0?_0x55b53e(0x747):_0x5e5a8c[_0x55b53e(0x675)]<0x0?_0x55b53e(0x82d):_0x55b53e(0x357),_0x4d46ae=_0x5e5a8c[_0x55b53e(0x675)]>0x0?'+':'';_0x359fcb=_0x55b53e(0x8ba)+_0x4f012c+'\x22>'+_0x4d46ae+_0x5e5a8c[_0x55b53e(0x675)][_0x55b53e(0x508)](0x2)+_0x55b53e(0x54e);}_0x54aed7+=_0x55b53e(0x58c)+(_0x5cc4a7+0x1)+_0x55b53e(0x287)+_0x5e5a8c[_0x55b53e(0x884)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x5e5a8c[_0x55b53e(0x4c3)]??'-')+_0x55b53e(0x931)+(_0x5e5a8c[_0x55b53e(0x85f)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0xb11f65+_0x55b53e(0x4f2)+_0x552d96+_0x55b53e(0x730)+(_0x5e5a8c['preTScore']?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x5e5a8c[_0x55b53e(0x3b8)]?.['toFixed'](0x2)??'-')+_0x55b53e(0x459)+_0x359fcb+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x54aed7+=_0x33ebc0(0x2de),_0x50ed8a[_0x33ebc0(0x676)]=_0x54aed7;}function handleRenameQuiz(_0x3ccbd7,_0x2728df){const _0x4eac86=_0x483b09;actionTargetId=_0x3ccbd7,document[_0x4eac86(0x437)](_0x4eac86(0x8d4))['value']=_0x2728df,renameQuizModal[_0x4eac86(0x49a)][_0x4eac86(0x355)](_0x4eac86(0x534));}function setupComparisonModalTabs(){const _0x252d60=_0x483b09,_0x4e2fbd=document[_0x252d60(0x437)]('comparison-overall-tab'),_0x5379db=document[_0x252d60(0x437)](_0x252d60(0x2ad)),_0x4d2b56=document[_0x252d60(0x437)](_0x252d60(0x650)),_0x1ce194=document[_0x252d60(0x437)](_0x252d60(0x864));_0x4e2fbd[_0x252d60(0x6b1)](_0x252d60(0x5ff),()=>{const _0x44b001=_0x252d60;_0x4e2fbd[_0x44b001(0x49a)]['add'](_0x44b001(0x25e)),_0x5379db[_0x44b001(0x49a)]['remove'](_0x44b001(0x25e)),_0x4d2b56['classList'][_0x44b001(0x355)](_0x44b001(0x534)),_0x1ce194['classList'][_0x44b001(0x3ba)](_0x44b001(0x534));}),_0x5379db[_0x252d60(0x6b1)]('click',()=>{const _0x44143a=_0x252d60;_0x5379db['classList'][_0x44143a(0x3ba)](_0x44143a(0x25e)),_0x4e2fbd[_0x44143a(0x49a)][_0x44143a(0x355)](_0x44143a(0x25e)),_0x1ce194[_0x44143a(0x49a)][_0x44143a(0x355)](_0x44143a(0x534)),_0x4d2b56[_0x44143a(0x49a)][_0x44143a(0x3ba)](_0x44143a(0x534));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x3d707f=''){const _0x5bfefd=_0x483b09,_0x5e2736=document[_0x5bfefd(0x437)](_0x5bfefd(0x1e3)),_0x3b117c=_0x3d707f['toLowerCase']()[_0x5bfefd(0x8ad)](),_0x4344ac=allQuizzesGlobal[_0x5bfefd(0x530)](_0x1ae67b=>({..._0x1ae67b,'projectName':allProjects[_0x5bfefd(0x413)](_0x17cbf5=>_0x17cbf5['id']===_0x1ae67b['projectId'])?.['projectName']||_0x1ae67b[_0x5bfefd(0x52f)]}))[_0x5bfefd(0x72a)](_0x5cb440=>(_0x5cb440[_0x5bfefd(0x624)]||'')[_0x5bfefd(0x369)]()[_0x5bfefd(0x806)](_0x3b117c)||(_0x5cb440[_0x5bfefd(0x7d4)]||'')[_0x5bfefd(0x369)]()[_0x5bfefd(0x806)](_0x3b117c));document[_0x5bfefd(0x437)](_0x5bfefd(0x20f))[_0x5bfefd(0x2dd)]='('+_0x4344ac[_0x5bfefd(0x1d7)]+_0x5bfefd(0x8cf),_0x5e2736['innerHTML']=_0x4344ac[_0x5bfefd(0x1d7)]?_0x4344ac[_0x5bfefd(0x530)](_0x316d3d=>_0x5bfefd(0x60e)+_0x316d3d['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x316d3d[_0x5bfefd(0x624)]||_0x5bfefd(0x704))+_0x5bfefd(0x284)+(_0x316d3d[_0x5bfefd(0x7f3)]?.[_0x5bfefd(0x1d7)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x316d3d[_0x5bfefd(0x7d4)]+_0x5bfefd(0x604))[_0x5bfefd(0x939)](''):_0x5bfefd(0x477),selectedGlobalQuizId=null,document['getElementById'](_0x5bfefd(0x4c7))[_0x5bfefd(0x766)]=!![],_0x5e2736['querySelectorAll'](_0x5bfefd(0x418))[_0x5bfefd(0x4ec)](_0x216fcd=>{_0x216fcd['addEventListener']('click',()=>{const _0x47f707=_0x3cdb;selectedGlobalQuizId=_0x216fcd[_0x47f707(0x8c8)]['id'],_0x5e2736[_0x47f707(0x442)](_0x47f707(0x8a0))[_0x47f707(0x4ec)](_0x445e14=>_0x445e14[_0x47f707(0x49a)][_0x47f707(0x355)](_0x47f707(0x797),'ring-2',_0x47f707(0x3f7))),_0x216fcd[_0x47f707(0x49a)][_0x47f707(0x3ba)](_0x47f707(0x797),_0x47f707(0x498),'ring-purple-400'),document[_0x47f707(0x437)](_0x47f707(0x4c7))[_0x47f707(0x766)]=![];});});}function listenForLiveGameUpdates(){const _0x257868=_0x483b09;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x1aadd7=doc(db,_0x257868(0x868)+appId+_0x257868(0x7ca),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1aadd7,_0x3443ab=>{const _0x50a739=_0x257868;if(!_0x3443ab['exists']()){showMessage(_0x50a739(0x8d9)),showView(currentMode);return;}const _0x23a594=_0x3443ab[_0x50a739(0x6cb)]();!currentQuizData&&_0x23a594['quizId']&&((async()=>{const _0x24e007=_0x50a739;try{const _0x5c69e6=doc(db,_0x24e007(0x868)+appId+_0x24e007(0x4e7),_0x23a594['quizId']),_0xc20c0e=await getDoc(_0x5c69e6);_0xc20c0e[_0x24e007(0x830)]()&&(currentQuizData={'id':_0xc20c0e['id'],..._0xc20c0e[_0x24e007(0x6cb)]()});}catch(_0x4c577b){console['error'](_0x24e007(0x7e4),_0x4c577b);}})());switch(_0x23a594[_0x50a739(0x647)]){case _0x50a739(0x5a6):if(currentMode==='admin'){const _0x26a4fe=_0x23a594['players']?Object[_0x50a739(0x571)](_0x23a594[_0x50a739(0x356)]):[];document[_0x50a739(0x437)](_0x50a739(0x443))[_0x50a739(0x2dd)]=_0x26a4fe[_0x50a739(0x1d7)],document[_0x50a739(0x437)](_0x50a739(0x8da))[_0x50a739(0x676)]=_0x26a4fe['map'](_0x52cfbb=>_0x50a739(0x31c)+_0x52cfbb+'</span>')['join']('');const _0x5afa0a=document['getElementById']('start-game-btn');_0x5afa0a&&(_0x5afa0a[_0x50a739(0x766)]=_0x26a4fe[_0x50a739(0x1d7)]===0x0);}else showView(_0x50a739(0x240)),liveGameView[_0x50a739(0x676)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x50a739(0x1d2);break;case _0x50a739(0x2b4):const _0x43eb08=_0x23a594[_0x50a739(0x3b7)];if(currentQuizData&&currentQuizData['questions'][_0x43eb08]){const _0x1dbe28=currentQuizData['questions'][_0x43eb08],_0x5865fe=currentQuizData['questions'][_0x50a739(0x1d7)];if(currentMode==='admin'){lastRenderedAdminQuestionIndex!==_0x43eb08&&(showAdminLiveQuestionView(_0x1dbe28,_0x43eb08,_0x5865fe),lastRenderedAdminQuestionIndex=_0x43eb08);const _0x2e7ff2=document['getElementById'](_0x50a739(0x678));if(_0x2e7ff2&&_0x23a594[_0x50a739(0x356)]){const _0x4b2cf2=Object['keys'](_0x23a594['players'])[_0x50a739(0x1d7)],_0x35b720=Object['values'](_0x23a594[_0x50a739(0x356)])[_0x50a739(0x72a)](_0x3be2bb=>_0x3be2bb[_0x50a739(0x620)]===!![])['length'];_0x2e7ff2['textContent']=_0x35b720+'/'+_0x4b2cf2,_0x4b2cf2>0x0&&_0x35b720===_0x4b2cf2&&_0x23a594[_0x50a739(0x4ea)]!==_0x50a739(0x8bd)&&revealAnswerForAdmin(_0x43eb08,_0x5865fe);}}else{const _0x1e3c8a=_0x23a594[_0x50a739(0x356)][currentStudentName];if(_0x23a594[_0x50a739(0x4ea)]===_0x50a739(0x8bd)){if(_0x1e3c8a[_0x50a739(0x620)]){const _0x2ff99e=_0x1e3c8a[_0x50a739(0x4dc)],_0x563cbf=_0x1e3c8a[_0x50a739(0x2ce)]||0x0,_0x27342a=_0x2ff99e?_0x50a739(0x5a0)+_0x563cbf+_0x50a739(0x53f):_0x50a739(0x491);liveGameView[_0x50a739(0x676)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>'+_0x27342a+_0x50a739(0x608);}else liveGameView[_0x50a739(0x676)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>';}else!_0x1e3c8a[_0x50a739(0x620)]&&showStudentLiveQuestionView(_0x1dbe28,_0x43eb08,_0x5865fe);}}break;case _0x50a739(0x8c2):showPodiumView(_0x23a594[_0x50a739(0x356)]);break;}});}async function authenticateUser(){const _0x566a21=_0x483b09;try{typeof __initial_auth_token!==_0x566a21(0x408)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x21bcc8){console[_0x566a21(0x8cc)](_0x566a21(0x3d1),_0x21bcc8),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x165a12){const _0x4bf339=_0x483b09,_0x5be5dc=[_0x4bf339(0x268),_0x4bf339(0x66f),_0x4bf339(0x35b),_0x4bf339(0x2d2),_0x4bf339(0x765),_0x4bf339(0x2f6),'student-progress-view'];_0x5be5dc[_0x4bf339(0x4ec)](_0x4a2052=>document[_0x4bf339(0x437)](_0x4a2052)?.['classList'][_0x4bf339(0x3ba)](_0x4bf339(0x534)));if(_0x165a12===_0x4bf339(0x683))adminView[_0x4bf339(0x49a)][_0x4bf339(0x355)](_0x4bf339(0x534)),projectDashboardView[_0x4bf339(0x49a)]['remove'](_0x4bf339(0x534));else{if(_0x165a12===_0x4bf339(0x4df))studentView[_0x4bf339(0x49a)][_0x4bf339(0x355)](_0x4bf339(0x534)),studentInitialView['classList']['remove']('hidden'),studentNameSelectionView['classList'][_0x4bf339(0x3ba)](_0x4bf339(0x534)),studentQuizArea[_0x4bf339(0x49a)][_0x4bf339(0x3ba)](_0x4bf339(0x534)),studentResultArea[_0x4bf339(0x49a)][_0x4bf339(0x3ba)](_0x4bf339(0x534)),studentReadingArea[_0x4bf339(0x49a)][_0x4bf339(0x3ba)](_0x4bf339(0x534)),studentJoinGameView['classList'][_0x4bf339(0x3ba)]('hidden');else{if(_0x165a12===_0x4bf339(0x542))adminView['classList'][_0x4bf339(0x355)]('hidden'),projectDetailView['classList'][_0x4bf339(0x355)](_0x4bf339(0x534));else{if(_0x165a12===_0x4bf339(0x291))adminView[_0x4bf339(0x49a)][_0x4bf339(0x355)](_0x4bf339(0x534)),quizResultsView[_0x4bf339(0x49a)][_0x4bf339(0x355)](_0x4bf339(0x534));else _0x165a12==='live-game'&&liveGameView[_0x4bf339(0x49a)][_0x4bf339(0x355)](_0x4bf339(0x534));}}}}function showJoinGameView(){const _0x4dcbd5=_0x483b09;studentInitialView['classList'][_0x4dcbd5(0x3ba)]('hidden'),studentJoinGameView[_0x4dcbd5(0x49a)][_0x4dcbd5(0x355)]('hidden');}async function handleSaveVisibilitySettings(){const _0x1bebea=_0x483b09;if(!currentProjectId)return;const _0x37f696=doc(db,_0x1bebea(0x868)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x37f696,{'settings.showInStudentDashboard':document[_0x1bebea(0x437)](_0x1bebea(0x589))[_0x1bebea(0x6b5)],'settings.isPasscodeEnabled':document[_0x1bebea(0x437)](_0x1bebea(0x5f5))[_0x1bebea(0x6b5)],'settings.passcode':document[_0x1bebea(0x437)](_0x1bebea(0x816))['value']['trim']()}),showMessage(_0x1bebea(0x1f4));}catch(_0x4139d5){console[_0x1bebea(0x8cc)](_0x1bebea(0x7c7),_0x4139d5),showMessage(_0x1bebea(0x286));}}function setupEventListeners(){const _0x423fea=_0x483b09;document[_0x423fea(0x437)]('mode-switcher-btn')[_0x423fea(0x6b1)](_0x423fea(0x5ff),handleModeSwitch),document['getElementById'](_0x423fea(0x239))[_0x423fea(0x6b1)](_0x423fea(0x5ff),handleResetProjectOrder),document[_0x423fea(0x437)](_0x423fea(0x718))[_0x423fea(0x6b1)](_0x423fea(0x5ff),handleSaveVisibilitySettings),document[_0x423fea(0x437)](_0x423fea(0x2e8))[_0x423fea(0x6b1)]('click',handleAddCustomMathTopic),document[_0x423fea(0x437)]('select-all-topics-btn')['addEventListener'](_0x423fea(0x5ff),handleSelectAllTopics),document[_0x423fea(0x437)](_0x423fea(0x71a))[_0x423fea(0x6b1)](_0x423fea(0x5ff),handleDeselectAllTopics),document[_0x423fea(0x437)](_0x423fea(0x89b))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x342660=_0x423fea;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x342660(0x683));}),document[_0x423fea(0x437)](_0x423fea(0x54b))['addEventListener'](_0x423fea(0x5ff),()=>{const _0x5c7551=_0x423fea;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x5c7551(0x542));}),document['getElementById'](_0x423fea(0x4b9))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x2af034=_0x423fea;showView(_0x2af034(0x683));}),document['getElementById'](_0x423fea(0x4ef))[_0x423fea(0x6b1)]('click',()=>{const _0x3a181f=_0x423fea;messageModal[_0x3a181f(0x49a)][_0x3a181f(0x3ba)](_0x3a181f(0x534)),typeof modalConfirmAction===_0x3a181f(0x905)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x423fea(0x437)]('create-project-btn')[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>createProjectModal[_0x423fea(0x49a)][_0x423fea(0x355)](_0x423fea(0x534))),document[_0x423fea(0x437)]('cancel-create-project-btn')['addEventListener'](_0x423fea(0x5ff),()=>createProjectModal['classList'][_0x423fea(0x3ba)](_0x423fea(0x534))),document[_0x423fea(0x437)](_0x423fea(0x552))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>adminPasswordModal[_0x423fea(0x49a)][_0x423fea(0x3ba)](_0x423fea(0x534))),document['getElementById'](_0x423fea(0x3c9))[_0x423fea(0x6b1)](_0x423fea(0x5ff),handleAdminLogin),document['getElementById'](_0x423fea(0x8f1))[_0x423fea(0x6b1)](_0x423fea(0x77a),_0x14b11e=>{const _0x127ac9=_0x423fea;if(_0x14b11e[_0x127ac9(0x8f7)]===_0x127ac9(0x8ee))handleAdminLogin();}),document['getElementById'](_0x423fea(0x243))['addEventListener'](_0x423fea(0x5ff),()=>{const _0x54bd3b=_0x423fea;confirmationModal['classList'][_0x54bd3b(0x3ba)](_0x54bd3b(0x534)),confirmAction=null;}),document['getElementById']('confirm-delete-btn')['addEventListener']('click',()=>{const _0x2199e5=_0x423fea;confirmAction&&confirmAction(),confirmationModal[_0x2199e5(0x49a)]['add'](_0x2199e5(0x534)),confirmAction=null;}),document[_0x423fea(0x437)](_0x423fea(0x62a))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>renameQuizModal[_0x423fea(0x49a)]['add'](_0x423fea(0x534))),document[_0x423fea(0x437)](_0x423fea(0x595))['addEventListener'](_0x423fea(0x5ff),confirmRenameQuiz),document['getElementById'](_0x423fea(0x6bf))['addEventListener'](_0x423fea(0x5ff),()=>moveQuizModal[_0x423fea(0x49a)][_0x423fea(0x3ba)]('hidden')),document[_0x423fea(0x437)](_0x423fea(0x599))[_0x423fea(0x6b1)](_0x423fea(0x5ff),confirmMoveQuiz),document[_0x423fea(0x437)]('cancel-quiz-settings-btn')[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>quizSettingsModal[_0x423fea(0x49a)][_0x423fea(0x3ba)](_0x423fea(0x534))),document[_0x423fea(0x437)]('confirm-quiz-settings-btn')['addEventListener'](_0x423fea(0x5ff),confirmQuizSettings),document[_0x423fea(0x437)](_0x423fea(0x533))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>quizStatusModal['classList'][_0x423fea(0x3ba)]('hidden')),document[_0x423fea(0x437)](_0x423fea(0x290))['addEventListener']('click',confirmQuizStatus);const _0x1f9584=document[_0x423fea(0x437)](_0x423fea(0x86d));document['getElementById'](_0x423fea(0x48b))['addEventListener']('click',()=>{const _0x175925=_0x423fea;_0x1f9584[_0x175925(0x49a)][_0x175925(0x3ba)](_0x175925(0x534));}),document[_0x423fea(0x437)](_0x423fea(0x2ee))['addEventListener'](_0x423fea(0x5ff),async()=>{const _0x26943c=_0x423fea,_0xb166b7=allQuizzes['find'](_0x574875=>_0x574875['id']===actionTargetId);_0xb166b7?(currentQuizData=_0xb166b7,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x1f9584[_0x26943c(0x49a)]['add'](_0x26943c(0x534));}),document[_0x423fea(0x437)]('export-tutor-pdf-btn')['addEventListener'](_0x423fea(0x5ff),async()=>{const _0x4483c6=_0x423fea,_0x4ea784=allQuizzes[_0x4483c6(0x413)](_0xc97c7b=>_0xc97c7b['id']===actionTargetId);_0x4ea784?(currentQuizData=_0x4ea784,exportQuizAsTutorPDF()):showMessage(_0x4483c6(0x5f4)),_0x1f9584[_0x4483c6(0x49a)][_0x4483c6(0x3ba)]('hidden');}),document[_0x423fea(0x437)]('open-global-live-btn')[_0x423fea(0x6b1)](_0x423fea(0x5ff),openGlobalLiveModal),document['getElementById']('cancel-global-live-btn')[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x3ab9f8=_0x423fea;document[_0x3ab9f8(0x437)](_0x3ab9f8(0x8ea))['classList']['add'](_0x3ab9f8(0x534)),selectedGlobalQuizId=null;}),document[_0x423fea(0x437)](_0x423fea(0x2a1))['addEventListener'](_0x423fea(0x6d0),_0x26065a=>renderGlobalQuizList(_0x26065a[_0x423fea(0x4de)][_0x423fea(0x8b5)])),document[_0x423fea(0x437)](_0x423fea(0x4c7))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x2b23bc=_0x423fea,_0x6f64c0=selectedGlobalQuizId;if(!_0x6f64c0)return;document[_0x2b23bc(0x437)]('global-live-game-modal')[_0x2b23bc(0x49a)][_0x2b23bc(0x3ba)](_0x2b23bc(0x534)),handleStartLiveRace(_0x6f64c0);}),document['getElementById'](_0x423fea(0x429))[_0x423fea(0x6b1)]('input',renderProjects),document[_0x423fea(0x437)]('project-sort-select')[_0x423fea(0x6b1)](_0x423fea(0x2ab),async()=>{const _0x26aaef=_0x423fea,_0x3bf133=document[_0x26aaef(0x437)](_0x26aaef(0x90b))[_0x26aaef(0x8b5)],_0x343cd5=doc(db,_0x26aaef(0x2d9),_0x26aaef(0x317));try{await setDoc(_0x343cd5,{'projectSort':_0x3bf133},{'merge':!![]});}catch(_0x1c4abc){console[_0x26aaef(0x8cc)](_0x26aaef(0x6fa),_0x1c4abc),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x423fea(0x437)](_0x423fea(0x382))[_0x423fea(0x6b1)]('input',renderQuizzes),document[_0x423fea(0x437)](_0x423fea(0x66a))[_0x423fea(0x6b1)]('click',()=>{const _0x1fc9a2=_0x423fea;globalDashboardSettings[_0x1fc9a2(0x500)]='grid',saveUserPreference(_0x1fc9a2(0x500),_0x1fc9a2(0x505)),renderProjects();}),document[_0x423fea(0x437)](_0x423fea(0x651))[_0x423fea(0x6b1)]('click',()=>{const _0x2a062a=_0x423fea;globalDashboardSettings['projectView']='list',saveUserPreference(_0x2a062a(0x500),'list'),renderProjects();}),manageTab['addEventListener'](_0x423fea(0x5ff),()=>switchProjectTab(_0x423fea(0x74f))),resultsTab[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>switchProjectTab(_0x423fea(0x446))),leaderboardTab['addEventListener']('click',()=>switchProjectTab(_0x423fea(0x5b5))),document[_0x423fea(0x437)](_0x423fea(0x320))[_0x423fea(0x6b1)]('click',()=>switchQuizDetailTab(_0x423fea(0x72e))),document[_0x423fea(0x437)](_0x423fea(0x24d))['addEventListener'](_0x423fea(0x5ff),()=>switchQuizDetailTab(_0x423fea(0x712))),document[_0x423fea(0x437)](_0x423fea(0x511))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x423fea(0x437)]('behavior-log-tab-btn')[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>switchQuizDetailTab(_0x423fea(0x1d9))),document['getElementById'](_0x423fea(0x46c))[_0x423fea(0x6b1)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x423fea(0x6b1)](_0x423fea(0x5ff),generateWorksheet);const _0xef229d=document[_0x423fea(0x437)](_0x423fea(0x401)),_0x253260=document[_0x423fea(0x437)](_0x423fea(0x557)),_0x58d957=document[_0x423fea(0x437)](_0x423fea(0x1f5)),_0x49db42=document[_0x423fea(0x437)](_0x423fea(0x2a3)),_0x5c349a=document[_0x423fea(0x437)](_0x423fea(0x62b)),_0x263e71=document['getElementById'](_0x423fea(0x5f6));topicTab[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x245878=_0x423fea;topicTab['classList'][_0x245878(0x3ba)](_0x245878(0x25e)),textTab[_0x245878(0x49a)]['remove'](_0x245878(0x25e)),fileTab[_0x245878(0x49a)]['remove'](_0x245878(0x25e)),worksheetTab[_0x245878(0x49a)][_0x245878(0x355)](_0x245878(0x25e));if(_0xef229d)_0xef229d['classList']['remove'](_0x245878(0x25e));if(_0x58d957)_0x58d957[_0x245878(0x49a)][_0x245878(0x355)](_0x245878(0x25e));if(_0x5c349a)_0x5c349a[_0x245878(0x49a)][_0x245878(0x355)](_0x245878(0x25e));topicInputArea[_0x245878(0x49a)][_0x245878(0x355)](_0x245878(0x534)),textInputArea[_0x245878(0x49a)][_0x245878(0x3ba)](_0x245878(0x534)),fileInputArea[_0x245878(0x49a)]['add'](_0x245878(0x534)),worksheetInputArea['classList'][_0x245878(0x3ba)](_0x245878(0x534));if(_0x253260)_0x253260['classList'][_0x245878(0x3ba)]('hidden');if(_0x49db42)_0x49db42['classList']['add'](_0x245878(0x534));if(_0x263e71)_0x263e71[_0x245878(0x49a)][_0x245878(0x3ba)](_0x245878(0x534));}),textTab[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x12df15=_0x423fea;textTab[_0x12df15(0x49a)][_0x12df15(0x3ba)]('active'),topicTab[_0x12df15(0x49a)][_0x12df15(0x355)]('active'),fileTab[_0x12df15(0x49a)][_0x12df15(0x355)](_0x12df15(0x25e)),worksheetTab['classList']['remove']('active');if(_0xef229d)_0xef229d['classList'][_0x12df15(0x355)](_0x12df15(0x25e));if(_0x58d957)_0x58d957[_0x12df15(0x49a)][_0x12df15(0x355)](_0x12df15(0x25e));if(_0x5c349a)_0x5c349a[_0x12df15(0x49a)][_0x12df15(0x355)](_0x12df15(0x25e));textInputArea[_0x12df15(0x49a)][_0x12df15(0x355)](_0x12df15(0x534)),topicInputArea[_0x12df15(0x49a)][_0x12df15(0x3ba)](_0x12df15(0x534)),fileInputArea[_0x12df15(0x49a)][_0x12df15(0x3ba)](_0x12df15(0x534)),worksheetInputArea[_0x12df15(0x49a)]['add']('hidden');if(_0x253260)_0x253260['classList'][_0x12df15(0x3ba)](_0x12df15(0x534));if(_0x49db42)_0x49db42[_0x12df15(0x49a)][_0x12df15(0x3ba)](_0x12df15(0x534));if(_0x263e71)_0x263e71[_0x12df15(0x49a)]['add'](_0x12df15(0x534));}),fileTab[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x3fdb4b=_0x423fea;fileTab['classList'][_0x3fdb4b(0x3ba)](_0x3fdb4b(0x25e)),topicTab[_0x3fdb4b(0x49a)]['remove'](_0x3fdb4b(0x25e)),textTab[_0x3fdb4b(0x49a)]['remove'](_0x3fdb4b(0x25e)),worksheetTab[_0x3fdb4b(0x49a)][_0x3fdb4b(0x355)](_0x3fdb4b(0x25e));if(_0xef229d)_0xef229d[_0x3fdb4b(0x49a)]['remove']('active');if(_0x58d957)_0x58d957[_0x3fdb4b(0x49a)][_0x3fdb4b(0x355)](_0x3fdb4b(0x25e));if(_0x5c349a)_0x5c349a[_0x3fdb4b(0x49a)][_0x3fdb4b(0x355)]('active');fileInputArea[_0x3fdb4b(0x49a)][_0x3fdb4b(0x355)](_0x3fdb4b(0x534)),topicInputArea[_0x3fdb4b(0x49a)][_0x3fdb4b(0x3ba)](_0x3fdb4b(0x534)),textInputArea[_0x3fdb4b(0x49a)][_0x3fdb4b(0x3ba)](_0x3fdb4b(0x534)),worksheetInputArea['classList'][_0x3fdb4b(0x3ba)](_0x3fdb4b(0x534));if(_0x253260)_0x253260['classList'][_0x3fdb4b(0x3ba)](_0x3fdb4b(0x534));if(_0x49db42)_0x49db42[_0x3fdb4b(0x49a)][_0x3fdb4b(0x3ba)](_0x3fdb4b(0x534));if(_0x263e71)_0x263e71['classList']['add'](_0x3fdb4b(0x534));}),worksheetTab['addEventListener'](_0x423fea(0x5ff),()=>{const _0x3ed11d=_0x423fea;worksheetTab[_0x3ed11d(0x49a)][_0x3ed11d(0x3ba)](_0x3ed11d(0x25e)),topicTab[_0x3ed11d(0x49a)][_0x3ed11d(0x355)](_0x3ed11d(0x25e)),textTab[_0x3ed11d(0x49a)][_0x3ed11d(0x355)]('active'),fileTab['classList'][_0x3ed11d(0x355)](_0x3ed11d(0x25e));if(_0xef229d)_0xef229d[_0x3ed11d(0x49a)][_0x3ed11d(0x355)]('active');if(_0x58d957)_0x58d957[_0x3ed11d(0x49a)][_0x3ed11d(0x355)](_0x3ed11d(0x25e));if(_0x5c349a)_0x5c349a[_0x3ed11d(0x49a)][_0x3ed11d(0x355)](_0x3ed11d(0x25e));worksheetInputArea['classList'][_0x3ed11d(0x355)](_0x3ed11d(0x534)),topicInputArea['classList'][_0x3ed11d(0x3ba)](_0x3ed11d(0x534)),textInputArea[_0x3ed11d(0x49a)][_0x3ed11d(0x3ba)](_0x3ed11d(0x534)),fileInputArea[_0x3ed11d(0x49a)][_0x3ed11d(0x3ba)](_0x3ed11d(0x534));if(_0x253260)_0x253260[_0x3ed11d(0x49a)][_0x3ed11d(0x3ba)]('hidden');if(_0x49db42)_0x49db42[_0x3ed11d(0x49a)][_0x3ed11d(0x3ba)](_0x3ed11d(0x534));if(_0x263e71)_0x263e71[_0x3ed11d(0x49a)][_0x3ed11d(0x3ba)](_0x3ed11d(0x534));});const _0x402061=document[_0x423fea(0x437)](_0x423fea(0x3f4)),_0x1dcf06=document[_0x423fea(0x437)](_0x423fea(0x233));_0x402061&&_0x402061[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x3c6a2c=_0x423fea;topicTab[_0x3c6a2c(0x49a)][_0x3c6a2c(0x355)](_0x3c6a2c(0x25e)),textTab[_0x3c6a2c(0x49a)][_0x3c6a2c(0x355)](_0x3c6a2c(0x25e)),fileTab[_0x3c6a2c(0x49a)][_0x3c6a2c(0x355)](_0x3c6a2c(0x25e)),worksheetTab[_0x3c6a2c(0x49a)]['remove'](_0x3c6a2c(0x25e));if(_0xef229d)_0xef229d[_0x3c6a2c(0x49a)][_0x3c6a2c(0x355)](_0x3c6a2c(0x25e));if(_0x58d957)_0x58d957[_0x3c6a2c(0x49a)]['remove'](_0x3c6a2c(0x25e));if(_0x5c349a)_0x5c349a[_0x3c6a2c(0x49a)]['remove'](_0x3c6a2c(0x25e));_0x402061[_0x3c6a2c(0x49a)]['add']('active'),topicInputArea[_0x3c6a2c(0x49a)][_0x3c6a2c(0x3ba)](_0x3c6a2c(0x534)),textInputArea['classList']['add']('hidden'),fileInputArea[_0x3c6a2c(0x49a)][_0x3c6a2c(0x3ba)]('hidden'),worksheetInputArea[_0x3c6a2c(0x49a)][_0x3c6a2c(0x3ba)](_0x3c6a2c(0x534));if(_0x253260)_0x253260[_0x3c6a2c(0x49a)]['add'](_0x3c6a2c(0x534));if(_0x49db42)_0x49db42[_0x3c6a2c(0x49a)][_0x3c6a2c(0x3ba)](_0x3c6a2c(0x534));if(_0x263e71)_0x263e71['classList'][_0x3c6a2c(0x3ba)](_0x3c6a2c(0x534));_0x1dcf06[_0x3c6a2c(0x49a)][_0x3c6a2c(0x355)]('hidden'),displayQuestionBank();});_0xef229d&&(_0xef229d[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x311ac8=_0x423fea;_0xef229d[_0x311ac8(0x49a)]['add'](_0x311ac8(0x25e)),topicTab[_0x311ac8(0x49a)][_0x311ac8(0x355)](_0x311ac8(0x25e)),textTab[_0x311ac8(0x49a)]['remove']('active'),fileTab[_0x311ac8(0x49a)][_0x311ac8(0x355)](_0x311ac8(0x25e)),worksheetTab[_0x311ac8(0x49a)][_0x311ac8(0x355)](_0x311ac8(0x25e));if(_0x58d957)_0x58d957[_0x311ac8(0x49a)]['remove'](_0x311ac8(0x25e));if(_0x5c349a)_0x5c349a[_0x311ac8(0x49a)]['remove']('active');_0x253260[_0x311ac8(0x49a)][_0x311ac8(0x355)](_0x311ac8(0x534)),topicInputArea[_0x311ac8(0x49a)][_0x311ac8(0x3ba)](_0x311ac8(0x534)),textInputArea[_0x311ac8(0x49a)]['add'](_0x311ac8(0x534)),fileInputArea[_0x311ac8(0x49a)]['add'](_0x311ac8(0x534)),worksheetInputArea[_0x311ac8(0x49a)][_0x311ac8(0x3ba)]('hidden');if(_0x49db42)_0x49db42[_0x311ac8(0x49a)][_0x311ac8(0x3ba)](_0x311ac8(0x534));if(_0x263e71)_0x263e71[_0x311ac8(0x49a)][_0x311ac8(0x3ba)]('hidden');}),document[_0x423fea(0x437)]('generate-from-link-btn')[_0x423fea(0x6b1)](_0x423fea(0x5ff),handleGenerateFromLink));_0x58d957&&_0x58d957[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x3dbbdb=_0x423fea;_0x58d957[_0x3dbbdb(0x49a)][_0x3dbbdb(0x3ba)](_0x3dbbdb(0x25e)),topicTab['classList'][_0x3dbbdb(0x355)]('active'),textTab[_0x3dbbdb(0x49a)][_0x3dbbdb(0x355)](_0x3dbbdb(0x25e)),fileTab[_0x3dbbdb(0x49a)][_0x3dbbdb(0x355)](_0x3dbbdb(0x25e)),worksheetTab[_0x3dbbdb(0x49a)][_0x3dbbdb(0x355)](_0x3dbbdb(0x25e));if(_0xef229d)_0xef229d[_0x3dbbdb(0x49a)][_0x3dbbdb(0x355)](_0x3dbbdb(0x25e));if(_0x402061)_0x402061[_0x3dbbdb(0x49a)]['remove'](_0x3dbbdb(0x25e));if(_0x5c349a)_0x5c349a['classList'][_0x3dbbdb(0x355)](_0x3dbbdb(0x25e));_0x49db42[_0x3dbbdb(0x49a)][_0x3dbbdb(0x355)](_0x3dbbdb(0x534)),topicInputArea[_0x3dbbdb(0x49a)]['add'](_0x3dbbdb(0x534)),textInputArea[_0x3dbbdb(0x49a)][_0x3dbbdb(0x3ba)](_0x3dbbdb(0x534)),fileInputArea[_0x3dbbdb(0x49a)][_0x3dbbdb(0x3ba)](_0x3dbbdb(0x534)),worksheetInputArea[_0x3dbbdb(0x49a)]['add']('hidden');if(_0x253260)_0x253260[_0x3dbbdb(0x49a)][_0x3dbbdb(0x3ba)](_0x3dbbdb(0x534));if(_0x1dcf06)_0x1dcf06[_0x3dbbdb(0x49a)]['add'](_0x3dbbdb(0x534));if(_0x263e71)_0x263e71[_0x3dbbdb(0x49a)]['add'](_0x3dbbdb(0x534));});_0x5c349a&&_0x5c349a[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x210260=_0x423fea;_0x5c349a[_0x210260(0x49a)]['add']('active'),topicTab['classList'][_0x210260(0x355)](_0x210260(0x25e)),textTab[_0x210260(0x49a)][_0x210260(0x355)](_0x210260(0x25e)),fileTab[_0x210260(0x49a)][_0x210260(0x355)](_0x210260(0x25e)),worksheetTab['classList'][_0x210260(0x355)]('active');if(_0xef229d)_0xef229d[_0x210260(0x49a)][_0x210260(0x355)](_0x210260(0x25e));if(_0x58d957)_0x58d957[_0x210260(0x49a)][_0x210260(0x355)](_0x210260(0x25e));if(_0x402061)_0x402061[_0x210260(0x49a)][_0x210260(0x355)]('active');_0x263e71[_0x210260(0x49a)][_0x210260(0x355)](_0x210260(0x534)),topicInputArea[_0x210260(0x49a)]['add'](_0x210260(0x534)),textInputArea[_0x210260(0x49a)][_0x210260(0x3ba)](_0x210260(0x534)),fileInputArea[_0x210260(0x49a)][_0x210260(0x3ba)]('hidden'),worksheetInputArea[_0x210260(0x49a)][_0x210260(0x3ba)](_0x210260(0x534));if(_0x253260)_0x253260[_0x210260(0x49a)][_0x210260(0x3ba)](_0x210260(0x534));if(_0x49db42)_0x49db42[_0x210260(0x49a)]['add'](_0x210260(0x534));if(_0x1dcf06)_0x1dcf06[_0x210260(0x49a)]['add']('hidden');});const _0x34f850=document[_0x423fea(0x437)](_0x423fea(0x5e1)),_0x20e685=document[_0x423fea(0x437)](_0x423fea(0x6a4));_0x34f850&&_0x34f850['addEventListener']('change',_0x811d70=>{const _0x39ffb7=_0x423fea;_0x811d70[_0x39ffb7(0x4de)][_0x39ffb7(0x693)][_0x39ffb7(0x1d7)]>0x0?_0x20e685[_0x39ffb7(0x766)]=![]:_0x20e685['disabled']=!![];});_0x20e685&&_0x20e685['addEventListener'](_0x423fea(0x5ff),handleGenerateFromBlueprint);const _0x49f163=document[_0x423fea(0x437)]('parallel-test-upload-input'),_0x3b10d2=document[_0x423fea(0x437)]('generate-from-parallel-test-btn');_0x49f163&&_0x49f163[_0x423fea(0x6b1)](_0x423fea(0x2ab),_0x4f7d74=>{const _0x4e2955=_0x423fea;_0x3b10d2[_0x4e2955(0x766)]=_0x4f7d74[_0x4e2955(0x4de)][_0x4e2955(0x693)][_0x4e2955(0x1d7)]===0x0;});_0x3b10d2&&_0x3b10d2[_0x423fea(0x6b1)](_0x423fea(0x5ff),handleGenerateParallelTest);loadQuizBtn[_0x423fea(0x6b1)]('click',handleLoadQuiz),startQuizBtn[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x5c18e1=_0x423fea,_0x2aabae=document[_0x5c18e1(0x437)]('student-name-select');currentStudentName=_0x2aabae[_0x5c18e1(0x8b5)];if(!currentStudentName){showMessage(_0x5c18e1(0x41e));return;}studentNameSelectionView[_0x5c18e1(0x49a)][_0x5c18e1(0x3ba)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x423fea(0x437)](_0x423fea(0x796))[_0x423fea(0x6b1)](_0x423fea(0x5ff),showJoinGameView),document[_0x423fea(0x437)](_0x423fea(0x6a6))[_0x423fea(0x6b1)](_0x423fea(0x5ff),handleJoinLiveGame),document[_0x423fea(0x437)](_0x423fea(0x5ae))[_0x423fea(0x6b1)]('click',()=>showView(_0x423fea(0x4df)));const _0x1d31dc=()=>{const _0x22cd87=_0x423fea,_0x135423=document[_0x22cd87(0x437)](_0x22cd87(0x3b3))['textContent'][_0x22cd87(0x78d)](/[^a-z0-9]/gi,'_')[_0x22cd87(0x369)]();return _0x22cd87(0x7d5)+(_0x135423||_0x22cd87(0x758));},_0x4dd8d7=document[_0x423fea(0x437)]('math-topic-search-input');_0x4dd8d7&&_0x4dd8d7[_0x423fea(0x6b1)]('input',_0x13b8f2=>{const _0xf4bdf3=_0x423fea,_0x5a7797=_0x13b8f2[_0xf4bdf3(0x4de)][_0xf4bdf3(0x8b5)][_0xf4bdf3(0x369)]()[_0xf4bdf3(0x8ad)](),_0x8b18cd=document[_0xf4bdf3(0x437)](_0xf4bdf3(0x606)),_0x4d7d9d=_0x8b18cd['querySelectorAll'](_0xf4bdf3(0x5c6));_0x4d7d9d[_0xf4bdf3(0x4ec)](_0x144fac=>{const _0x12bd7c=_0xf4bdf3;let _0x374417=![];const _0x19a527=_0x144fac['querySelectorAll']('.topic-row');_0x19a527['forEach'](_0x4985e8=>{const _0x36969e=_0x3cdb,_0x4b0d89=_0x4985e8['querySelector']('.topic-name-display')[_0x36969e(0x2dd)]['toLowerCase']();_0x4b0d89[_0x36969e(0x806)](_0x5a7797)?(_0x4985e8[_0x36969e(0x1f1)]['display']=_0x36969e(0x6b3),_0x374417=!![]):_0x4985e8[_0x36969e(0x1f1)][_0x36969e(0x4f1)]=_0x36969e(0x728);}),_0x374417?_0x144fac[_0x12bd7c(0x1f1)]['display']='block':_0x144fac[_0x12bd7c(0x1f1)][_0x12bd7c(0x4f1)]=_0x12bd7c(0x728);});});document[_0x423fea(0x437)](_0x423fea(0x7fe))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>exportTableAsImage(_0x423fea(0x4f6),_0x1d31dc())),document[_0x423fea(0x437)](_0x423fea(0x7d7))['addEventListener'](_0x423fea(0x5ff),()=>exportTableAsPDF(_0x423fea(0x3bc),_0x1d31dc())),document[_0x423fea(0x437)](_0x423fea(0x6c7))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>exportTableAsWord(_0x423fea(0x4f6),_0x1d31dc())),document[_0x423fea(0x437)](_0x423fea(0x5c9))[_0x423fea(0x6b1)]('click',()=>exportTableAsExcel(_0x423fea(0x3bc),_0x1d31dc()));const _0x97cc6c=()=>{const _0x53c6ae=_0x423fea,_0xc25b55=document[_0x53c6ae(0x437)](_0x53c6ae(0x3b3))[_0x53c6ae(0x2dd)][_0x53c6ae(0x78d)](/[^a-z0-9]/gi,'_')[_0x53c6ae(0x369)]();return _0x53c6ae(0x8b9)+(_0xc25b55||'quiz');};document[_0x423fea(0x437)]('export-leaderboard-image-btn')[_0x423fea(0x6b1)]('click',()=>exportTableAsImage(_0x423fea(0x2af),_0x97cc6c())),document['getElementById'](_0x423fea(0x822))['addEventListener'](_0x423fea(0x5ff),()=>exportTableAsPDF(_0x423fea(0x732),_0x97cc6c())),document['getElementById'](_0x423fea(0x54f))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>exportTableAsWord(_0x423fea(0x2af),_0x97cc6c())),document[_0x423fea(0x437)](_0x423fea(0x75e))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>exportTableAsExcel(_0x423fea(0x732),_0x97cc6c())),projectQuizzesList[_0x423fea(0x6b1)](_0x423fea(0x5ff),async _0x3f8812=>{const _0x5d5be8=_0x423fea,_0x1df656=_0x3f8812[_0x5d5be8(0x4de)]['closest'](_0x5d5be8(0x6d9)),_0x2798c6=_0x3f8812[_0x5d5be8(0x4de)][_0x5d5be8(0x32e)](_0x5d5be8(0x828)),_0x45789d=_0x3f8812[_0x5d5be8(0x4de)]['closest'](_0x5d5be8(0x697)),_0x29dd53=_0x3f8812[_0x5d5be8(0x4de)][_0x5d5be8(0x32e)](_0x5d5be8(0x72b)),_0x543dcd=_0x3f8812[_0x5d5be8(0x4de)]['closest'](_0x5d5be8(0x50d)),_0x4e5b9d=_0x3f8812[_0x5d5be8(0x4de)][_0x5d5be8(0x32e)](_0x5d5be8(0x4e6)),_0x301829=_0x3f8812[_0x5d5be8(0x4de)][_0x5d5be8(0x32e)](_0x5d5be8(0x4f5)),_0x4cce3b=_0x3f8812[_0x5d5be8(0x4de)][_0x5d5be8(0x32e)](_0x5d5be8(0x2e6)),_0x867cd1=_0x3f8812[_0x5d5be8(0x4de)][_0x5d5be8(0x32e)](_0x5d5be8(0x272)),_0x2f9b0e=_0x3f8812[_0x5d5be8(0x4de)][_0x5d5be8(0x32e)](_0x5d5be8(0x690)),_0x5db881=_0x3f8812['target'][_0x5d5be8(0x32e)](_0x5d5be8(0x390)),_0xbd188a=_0x3f8812[_0x5d5be8(0x4de)]['closest'](_0x5d5be8(0x8b6)),_0x520af5=_0x3f8812[_0x5d5be8(0x4de)][_0x5d5be8(0x32e)]('.pair-quiz-btn'),_0xb1ddd9=_0x3f8812['target'][_0x5d5be8(0x32e)]('.unpair-quiz-btn'),_0x526cbf=_0x3f8812[_0x5d5be8(0x4de)][_0x5d5be8(0x32e)](_0x5d5be8(0x3a6)),_0x56d20b=_0x3f8812['target'][_0x5d5be8(0x32e)](_0x5d5be8(0x8f3)),_0x33186d=_0x3f8812[_0x5d5be8(0x4de)][_0x5d5be8(0x32e)](_0x5d5be8(0x7c2)),_0x6ddccf=_0x3f8812['target'][_0x5d5be8(0x32e)](_0x5d5be8(0x68f)),_0xa95b27=_0x3f8812[_0x5d5be8(0x4de)][_0x5d5be8(0x32e)]('.delete-quiz-btn'),_0xf62750=_0x3f8812['target'][_0x5d5be8(0x32e)](_0x5d5be8(0x719)),_0x7f719=_0x3f8812['target'][_0x5d5be8(0x32e)](_0x5d5be8(0x525));if(_0x7f719){const _0xd86acd=_0x7f719[_0x5d5be8(0x8c8)][_0x5d5be8(0x3ce)],_0xa8950c=document['getElementById'](_0x5d5be8(0x21c)+_0xd86acd);_0xa8950c&&_0xa8950c['classList'][_0x5d5be8(0x238)]('hidden');}else{if(_0x2798c6){const _0x5e979c=_0x2798c6[_0x5d5be8(0x8c8)][_0x5d5be8(0x3ce)],_0x1cafd9=allQuizzes['find'](_0x101cab=>_0x101cab['id']===_0x5e979c);_0x1cafd9&&handleGenerateParallelPostTest(_0x1cafd9);}else{if(_0x45789d)handleCompareResults(_0x45789d[_0x5d5be8(0x8c8)][_0x5d5be8(0x3ce)],_0x45789d[_0x5d5be8(0x8c8)][_0x5d5be8(0x783)]);else{if(_0x29dd53){const _0x5289f9=_0x29dd53['dataset'][_0x5d5be8(0x3ce)],_0x15b668=allQuizzes[_0x5d5be8(0x413)](_0x33bbab=>_0x33bbab['id']===_0x5289f9);_0x15b668&&_0x15b668['lessonPlan']?(displayLessonPlan(_0x15b668[_0x5d5be8(0x88f)],_0x15b668),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0x5289f9)),document['getElementById'](_0x5d5be8(0x21e))[_0x5d5be8(0x865)]('h3')[_0x5d5be8(0x2dd)]=_0x5d5be8(0x425),document[_0x5d5be8(0x437)](_0x5d5be8(0x2c5))[_0x5d5be8(0x2dd)]=_0x5d5be8(0x605)):handleGenerateLessonPlan(_0x5289f9);}else{if(_0x543dcd)handleToggleStarQuiz(_0x543dcd[_0x5d5be8(0x8c8)][_0x5d5be8(0x3ce)]);else{if(_0x4e5b9d)copyTextToClipboard(_0x4e5b9d[_0x5d5be8(0x8c8)][_0x5d5be8(0x3ce)],_0x5d5be8(0x31a));else{if(_0x301829)handleOpenQuizEditor(_0x301829['dataset'][_0x5d5be8(0x3ce)]);else{if(_0x4cce3b)handleQuizSettings(_0x4cce3b[_0x5d5be8(0x8c8)]['quizId']);else{if(_0x867cd1)handleDuplicateQuiz(_0x867cd1[_0x5d5be8(0x8c8)][_0x5d5be8(0x3ce)]);else{if(_0x2f9b0e)handleRenameQuiz(_0x2f9b0e[_0x5d5be8(0x8c8)][_0x5d5be8(0x3ce)],_0x2f9b0e['dataset']['topic']);else{if(_0x5db881){const _0x15d259=_0x5db881[_0x5d5be8(0x8c8)]['quizId'],_0x2cc594=allQuizzes[_0x5d5be8(0x413)](_0x1ec64a=>_0x1ec64a['id']===_0x15d259);_0x2cc594&&handleGenerateParallelFromBank(_0x2cc594);}else{if(_0xbd188a)handleMoveQuiz(_0xbd188a[_0x5d5be8(0x8c8)][_0x5d5be8(0x3ce)]);else{if(_0x520af5)handleManualQuizPairing(_0x520af5[_0x5d5be8(0x8c8)][_0x5d5be8(0x3ce)]);else{if(_0xb1ddd9)handleUnpairQuiz(_0xb1ddd9['dataset']['quizId']);else{if(_0x526cbf){const _0x3e1a78=_0x526cbf[_0x5d5be8(0x8c8)][_0x5d5be8(0x3ce)],_0x38cc4f=allQuizzes[_0x5d5be8(0x413)](_0x4b0681=>_0x4b0681['id']===_0x3e1a78);if(_0x38cc4f)startPresentation(_0x38cc4f);}else{if(_0x56d20b){const _0x9bf3b=_0x56d20b[_0x5d5be8(0x8c8)][_0x5d5be8(0x3ce)],_0x2a8a86=allQuizzes[_0x5d5be8(0x413)](_0x338eda=>_0x338eda['id']===_0x9bf3b);_0x2a8a86&&(currentQuizData=_0x2a8a86,startAdminTest());}else{if(_0x33186d)handleStartLiveRace(_0x33186d[_0x5d5be8(0x8c8)]['quizId']);else{if(_0x6ddccf)actionTargetId=_0x6ddccf['dataset'][_0x5d5be8(0x3ce)],document[_0x5d5be8(0x437)](_0x5d5be8(0x86d))[_0x5d5be8(0x49a)][_0x5d5be8(0x355)](_0x5d5be8(0x534));else{if(_0xa95b27)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0xa95b27[_0x5d5be8(0x8c8)]['topic']+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0xa95b27[_0x5d5be8(0x8c8)]['quizId']));else{if(_0xf62750)handleQuizStatus(_0xf62750[_0x5d5be8(0x8c8)][_0x5d5be8(0x3ce)]);else _0x1df656&&showQuizDetailView(_0x1df656[_0x5d5be8(0x8c8)][_0x5d5be8(0x3ce)]);}}}}}}}}}}}}}}}}}}}}),document[_0x423fea(0x437)](_0x423fea(0x732))[_0x423fea(0x865)](_0x423fea(0x825))[_0x423fea(0x6b1)](_0x423fea(0x5ff),_0x1e7c35=>{const _0x4bf7ad=_0x423fea,_0x34aac0=_0x1e7c35[_0x4bf7ad(0x4de)]['closest']('.sortable-header');if(!_0x34aac0||!_0x34aac0[_0x4bf7ad(0x8c8)]['sort'])return;const _0x2c6875=_0x34aac0[_0x4bf7ad(0x8c8)][_0x4bf7ad(0x205)];if(quizLeaderboardSortBy===_0x2c6875)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x4bf7ad(0x288)?_0x4bf7ad(0x248):_0x4bf7ad(0x288);else{quizLeaderboardSortBy=_0x2c6875;const _0x5e1b75=['studentName'];quizLeaderboardSortOrder=_0x5e1b75[_0x4bf7ad(0x806)](_0x2c6875)?'asc':_0x4bf7ad(0x248);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x4bf7ad(0x232));}),document[_0x423fea(0x437)](_0x423fea(0x333))[_0x423fea(0x6b1)]('click',closePresentation),document[_0x423fea(0x437)](_0x423fea(0x3fc))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x423fea(0x437)](_0x423fea(0x770))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x31bc5c=_0x423fea;currentQuizData[_0x31bc5c(0x7f3)]&&currentPresentationSlide<currentQuizData[_0x31bc5c(0x7f3)][_0x31bc5c(0x1d7)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x423fea(0x69b),()=>{const _0x3e39c1=_0x423fea;!document[_0x3e39c1(0x874)]&&(presentationModal[_0x3e39c1(0x1f1)][_0x3e39c1(0x4f1)]=_0x3e39c1(0x728));}),document[_0x423fea(0x437)](_0x423fea(0x7b5))[_0x423fea(0x6b1)]('click',handleDeleteAllStudents),studentList[_0x423fea(0x6b1)](_0x423fea(0x5ff),_0x25a156=>{const _0x3a2e09=_0x423fea,_0x1366d9=_0x25a156[_0x3a2e09(0x4de)][_0x3a2e09(0x32e)](_0x3a2e09(0x4a7));if(_0x1366d9){const _0x2a0ba8=_0x1366d9[_0x3a2e09(0x8c8)][_0x3a2e09(0x5c0)];handleDeleteStudent(_0x2a0ba8);}}),document[_0x423fea(0x437)](_0x423fea(0x218))['addEventListener']('click',handleGenerateFromFileClick),fileUploadInput[_0x423fea(0x6b1)]('change',_0x4d0947=>{const _0x1a289c=_0x423fea,_0x4f490d=_0x4d0947[_0x1a289c(0x4de)][_0x1a289c(0x693)][0x0],_0x5b94c9=document['getElementById'](_0x1a289c(0x218));_0x4f490d?(selectedFile=_0x4f490d,_0x5b94c9['disabled']=![]):(selectedFile=null,_0x5b94c9[_0x1a289c(0x766)]=!![]);}),document[_0x423fea(0x437)](_0x423fea(0x403))[_0x423fea(0x6b1)](_0x423fea(0x2ab),_0x3a21ae=>{const _0x2d5fb7=_0x423fea,_0xf1d033=document[_0x2d5fb7(0x437)](_0x2d5fb7(0x54a)),_0x3907ed=document[_0x2d5fb7(0x437)](_0x2d5fb7(0x34d)),_0x48fdc2=document['getElementById']('timer-duration-input');_0x3a21ae[_0x2d5fb7(0x4de)]['value']===_0x2d5fb7(0x728)?_0xf1d033[_0x2d5fb7(0x49a)]['add'](_0x2d5fb7(0x534)):(_0xf1d033[_0x2d5fb7(0x49a)]['remove'](_0x2d5fb7(0x534)),_0x3a21ae[_0x2d5fb7(0x4de)][_0x2d5fb7(0x8b5)]===_0x2d5fb7(0x2e5)?(_0x3907ed[_0x2d5fb7(0x2dd)]='ระยะเวลา\x20(นาที):',_0x48fdc2[_0x2d5fb7(0x8b5)]='10'):(_0x3907ed[_0x2d5fb7(0x2dd)]=_0x2d5fb7(0x515),_0x48fdc2[_0x2d5fb7(0x8b5)]='30'));}),document[_0x423fea(0x437)](_0x423fea(0x6c1))[_0x423fea(0x6b1)](_0x423fea(0x2ab),_0x63c3bc=>{const _0x1064b0=_0x423fea,_0x21b71d=document[_0x1064b0(0x437)](_0x1064b0(0x451)),_0x23f927=_0x63c3bc[_0x1064b0(0x4de)][_0x1064b0(0x8b5)],_0x52ad3f=document[_0x1064b0(0x865)](_0x1064b0(0x667)),_0x50d28d=document[_0x1064b0(0x437)]('passing-score-input'),_0x4e8be5=document[_0x1064b0(0x437)](_0x1064b0(0x309));_0x23f927===_0x1064b0(0x24f)?_0x52ad3f[_0x1064b0(0x2dd)]=_0x1064b0(0x55e):_0x52ad3f[_0x1064b0(0x2dd)]=_0x1064b0(0x34b),_0x23f927===_0x1064b0(0x450)||_0x23f927==='fill_in_with_choices'||_0x23f927===_0x1064b0(0x578)?_0x21b71d[_0x1064b0(0x49a)][_0x1064b0(0x355)](_0x1064b0(0x534)):_0x21b71d[_0x1064b0(0x49a)][_0x1064b0(0x3ba)](_0x1064b0(0x534)),_0x50d28d[_0x1064b0(0x250)]=_0x4e8be5[_0x1064b0(0x8b5)];}),document['getElementById'](_0x423fea(0x309))[_0x423fea(0x6b1)](_0x423fea(0x6d0),_0x279cce=>{const _0x5753ea=_0x423fea;document['getElementById'](_0x5753ea(0x673))[_0x5753ea(0x250)]=_0x279cce['target'][_0x5753ea(0x8b5)];}),document[_0x423fea(0x437)](_0x423fea(0x829))['addEventListener'](_0x423fea(0x2ab),_0x57a0f2=>{const _0x16d8e5=_0x423fea,_0xe59097=document[_0x16d8e5(0x437)](_0x16d8e5(0x6cf)),_0x3fb39b=document[_0x16d8e5(0x437)](_0x16d8e5(0x558)),_0x1284f9=document['getElementById'](_0x16d8e5(0x7db));_0x57a0f2[_0x16d8e5(0x4de)]['value']===_0x16d8e5(0x728)?_0xe59097[_0x16d8e5(0x49a)]['add']('hidden'):(_0xe59097[_0x16d8e5(0x49a)][_0x16d8e5(0x355)](_0x16d8e5(0x534)),_0x57a0f2['target']['value']==='whole_quiz'?_0x3fb39b['textContent']=_0x16d8e5(0x2b0):_0x3fb39b[_0x16d8e5(0x2dd)]=_0x16d8e5(0x515));}),document[_0x423fea(0x437)]('cancel-quiz-edits-btn')[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x4e4b59=_0x423fea;document['getElementById'](_0x4e4b59(0x1e2))[_0x4e4b59(0x49a)][_0x4e4b59(0x3ba)](_0x4e4b59(0x534));}),document[_0x423fea(0x437)](_0x423fea(0x363))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x2b6a2b=_0x423fea;document[_0x2b6a2b(0x437)](_0x2b6a2b(0x1e2))[_0x2b6a2b(0x49a)][_0x2b6a2b(0x3ba)](_0x2b6a2b(0x534));}),document[_0x423fea(0x437)](_0x423fea(0x25a))['addEventListener']('click',()=>{const _0x37b22e=_0x423fea;document[_0x37b22e(0x437)]('quiz-editor-modal')[_0x37b22e(0x49a)][_0x37b22e(0x3ba)]('hidden'),showConfirmation(_0x37b22e(0x486),handleSaveChanges);}),document[_0x423fea(0x437)](_0x423fea(0x695))[_0x423fea(0x6b1)](_0x423fea(0x5ff),handleAutoFixLatex);const _0x48200d=document[_0x423fea(0x437)](_0x423fea(0x564));_0x48200d&&_0x48200d[_0x423fea(0x6b1)]('click',_0x4fdbce=>{const _0x12c471=_0x423fea,_0xfe9956=_0x4fdbce[_0x12c471(0x4de)]['closest'](_0x12c471(0x57e));if(_0xfe9956){const _0x76946=_0xfe9956[_0x12c471(0x32e)](_0x12c471(0x351)),_0xb2019d=parseInt(_0x76946['dataset'][_0x12c471(0x3f8)],0xa);handleRegenerateQuestionInEditor(_0xb2019d);}});document[_0x423fea(0x437)](_0x423fea(0x8e9))[_0x423fea(0x6b1)]('click',openQuizBankModal),document[_0x423fea(0x437)](_0x423fea(0x688))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x568624=_0x423fea;document[_0x568624(0x437)](_0x568624(0x58b))['classList'][_0x568624(0x3ba)](_0x568624(0x534));}),document['getElementById']('bank-quiz-search-input')[_0x423fea(0x6b1)]('input',_0x2e511a=>renderQuizBankList(_0x2e511a[_0x423fea(0x4de)][_0x423fea(0x8b5)]));const _0x39619c=document['getElementById'](_0x423fea(0x606));if(_0x39619c){let _0x117593=null;_0x39619c['addEventListener'](_0x423fea(0x5ff),_0x57c443=>{const _0x1a4c79=_0x423fea,_0x49f1f6=_0x57c443[_0x1a4c79(0x4de)],_0xd1508a=_0x49f1f6['closest']('.edit-custom-topic-btn'),_0xd7da35=_0x49f1f6[_0x1a4c79(0x32e)](_0x1a4c79(0x2f8)),_0x77c057=_0x49f1f6[_0x1a4c79(0x32e)](_0x1a4c79(0x764)),_0x1d94ae=_0x49f1f6[_0x1a4c79(0x32e)]('.cancel-edit-topic-btn');if(_0xd7da35){_0x57c443[_0x1a4c79(0x5b2)]();const _0x122e4b=_0xd7da35[_0x1a4c79(0x8c8)]['id'],_0x57f075=_0xd7da35[_0x1a4c79(0x32e)]('.group')['querySelector'](_0x1a4c79(0x2b6))['textContent'];showConfirmation(_0x1a4c79(0x3d8)+_0x57f075+'\x22?',()=>handleDeleteCustomTopic(_0x122e4b));}else{if(_0xd1508a){_0x57c443[_0x1a4c79(0x5b2)]();_0x117593&&toggleTopicEditMode(_0x117593,![]);const _0x351876=_0xd1508a[_0x1a4c79(0x32e)](_0x1a4c79(0x6de));_0x117593=_0x351876,toggleTopicEditMode(_0x351876,!![]);}else{if(_0x77c057){_0x57c443['preventDefault']();const _0x53a12b=_0x77c057['dataset']['id'],_0xdd9952=_0x77c057['closest'](_0x1a4c79(0x6de)),_0x5cbe8f=_0xdd9952[_0x1a4c79(0x865)](_0x1a4c79(0x817))['value'];handleUpdateCustomTopic(_0x53a12b,_0x5cbe8f),_0x117593=null;}else{if(_0x1d94ae){_0x57c443[_0x1a4c79(0x5b2)]();const _0x500d48=_0x1d94ae[_0x1a4c79(0x32e)](_0x1a4c79(0x6de));toggleTopicEditMode(_0x500d48,![]),_0x117593=null;}}}}}),document[_0x423fea(0x437)](_0x423fea(0x768))['addEventListener'](_0x423fea(0x5ff),()=>{const _0x3dbe36=_0x423fea;document[_0x3dbe36(0x437)](_0x3dbe36(0x7ea))[_0x3dbe36(0x49a)][_0x3dbe36(0x3ba)](_0x3dbe36(0x534));}),document[_0x423fea(0x437)](_0x423fea(0x617))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x324e0f=_0x423fea;document[_0x324e0f(0x437)](_0x324e0f(0x7ea))['classList'][_0x324e0f(0x3ba)](_0x324e0f(0x534));}),document[_0x423fea(0x437)]('export-lesson-pdf-btn')[_0x423fea(0x6b1)](_0x423fea(0x5ff),handleExportLessonPDF);}document['getElementById'](_0x423fea(0x42d))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x2d3d64=_0x423fea;document['getElementById'](_0x2d3d64(0x3ad))[_0x2d3d64(0x49a)][_0x2d3d64(0x3ba)](_0x2d3d64(0x534));}),document['getElementById'](_0x423fea(0x3db))[_0x423fea(0x6b1)](_0x423fea(0x5ff),()=>{const _0x450b75=_0x423fea;document[_0x450b75(0x437)](_0x450b75(0x3ad))[_0x450b75(0x49a)]['add'](_0x450b75(0x534));}),setupComparisonModalTabs(),document['body'][_0x423fea(0x6b1)](_0x423fea(0x5ff),function(_0x3d2fc8){const _0x36dcef=_0x423fea;if(_0x3d2fc8[_0x36dcef(0x4de)][_0x36dcef(0x49a)]['contains'](_0x36dcef(0x67e))){const _0x4e9e30=unescape(_0x3d2fc8[_0x36dcef(0x4de)]['dataset'][_0x36dcef(0x624)]);startSkillPractice(_0x4e9e30);}}),document[_0x423fea(0x437)]('scores-tab-content')['addEventListener'](_0x423fea(0x5ff),_0x737c61=>{const _0x2c4bf9=_0x423fea,_0x5a4f12=_0x737c61[_0x2c4bf9(0x4de)][_0x2c4bf9(0x32e)](_0x2c4bf9(0x79e));if(_0x5a4f12){const _0x314c49=_0x5a4f12[_0x2c4bf9(0x8c8)][_0x2c4bf9(0x5c0)];handleDeleteSubmission(_0x314c49);}});}async function showStudentProgressView(){const _0x22db9c=_0x483b09;studentInitialView[_0x22db9c(0x49a)][_0x22db9c(0x3ba)]('hidden'),document[_0x22db9c(0x437)](_0x22db9c(0x741))[_0x22db9c(0x49a)][_0x22db9c(0x355)](_0x22db9c(0x534));const _0x3afbb8=document['getElementById'](_0x22db9c(0x3b9)),_0x388c91=document['getElementById']('progress-student-select'),_0x1345bb=document[_0x22db9c(0x437)]('student-progress-content');_0x1345bb[_0x22db9c(0x676)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x388c91[_0x22db9c(0x676)]=_0x22db9c(0x579),_0x388c91['disabled']=!![],_0x3afbb8[_0x22db9c(0x676)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects['length']===0x0){const _0x48ab21=collection(db,_0x22db9c(0x868)+appId+_0x22db9c(0x23d)),_0x57e01e=await getDocs(_0x48ab21);allProjects=_0x57e01e[_0x22db9c(0x714)][_0x22db9c(0x530)](_0x286daf=>({'id':_0x286daf['id'],..._0x286daf[_0x22db9c(0x6cb)]()}));}const _0x566942=allProjects[_0x22db9c(0x72a)](_0x5b285f=>_0x5b285f[_0x22db9c(0x2bd)]?.[_0x22db9c(0x8f4)]!==![]);_0x566942['sort']((_0x580d18,_0xbc57a0)=>_0x580d18[_0x22db9c(0x7d4)]['localeCompare'](_0xbc57a0['projectName'],'th')),_0x3afbb8[_0x22db9c(0x676)]=_0x22db9c(0x60f)+_0x566942[_0x22db9c(0x530)](_0x502960=>'<option\x20value=\x22'+_0x502960['id']+'\x22>'+_0x502960[_0x22db9c(0x7d4)]+'</option>')[_0x22db9c(0x939)](''),_0x3afbb8[_0x22db9c(0x6ba)]=()=>{const _0x42de2a=_0x22db9c,_0x484b10=_0x388c91['value'],_0x2a8db1=_0x3afbb8[_0x42de2a(0x8b5)];_0x388c91['disabled']=!![],_0x388c91[_0x42de2a(0x676)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x1345bb[_0x42de2a(0x676)]=_0x42de2a(0x549);if(!_0x2a8db1)return;const _0x4db327=allProjects[_0x42de2a(0x413)](_0x5980e6=>_0x5980e6['id']===_0x2a8db1);if(!_0x4db327||!_0x4db327['students'])return;const _0x2bc7b0=()=>{const _0x48f39b=_0x42de2a;_0x388c91[_0x48f39b(0x676)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x4db327['students']['map'](_0x589cff=>_0x48f39b(0x7f0)+_0x589cff+'\x22>'+_0x589cff+_0x48f39b(0x721))[_0x48f39b(0x939)](''),_0x388c91[_0x48f39b(0x766)]=![];const _0xd5210=Array[_0x48f39b(0x8bc)](_0x388c91[_0x48f39b(0x2c8)])['map'](_0x54d00f=>_0x54d00f[_0x48f39b(0x8b5)]);if(_0x484b10&&_0xd5210[_0x48f39b(0x806)](_0x484b10))_0x388c91[_0x48f39b(0x8b5)]=_0x484b10,_0x388c91[_0x48f39b(0x308)](new Event(_0x48f39b(0x2ab)));else _0x4db327['students'][_0x48f39b(0x1d7)]===0x1&&(_0x388c91[_0x48f39b(0x8b5)]=_0x4db327['students'][0x0],_0x388c91[_0x48f39b(0x308)](new Event('change')));};if(_0x4db327[_0x42de2a(0x2bd)]?.[_0x42de2a(0x686)]){if(sessionStorage[_0x42de2a(0x334)]('authed_project_'+_0x2a8db1)===_0x42de2a(0x375)){_0x2bc7b0();return;}const _0x43cfb2=document[_0x42de2a(0x437)](_0x42de2a(0x644)),_0x2c3be0=document[_0x42de2a(0x437)](_0x42de2a(0x2f5)),_0x32a241=document[_0x42de2a(0x437)]('cancel-passcode-btn'),_0x32b911=document[_0x42de2a(0x437)]('student-passcode-input'),_0x22d2c1=document[_0x42de2a(0x437)](_0x42de2a(0x5f3));document['getElementById']('passcode-prompt-message')[_0x42de2a(0x2dd)]=_0x42de2a(0x896)+_0x4db327['projectName'],_0x32b911[_0x42de2a(0x8b5)]='',_0x22d2c1[_0x42de2a(0x49a)][_0x42de2a(0x3ba)](_0x42de2a(0x534)),_0x43cfb2[_0x42de2a(0x49a)][_0x42de2a(0x355)](_0x42de2a(0x534));const _0x24798b=()=>{const _0x36d872=_0x42de2a,_0x27c665=_0x32b911[_0x36d872(0x8b5)][_0x36d872(0x8ad)]();_0x27c665===_0x4db327[_0x36d872(0x2bd)][_0x36d872(0x743)]?(sessionStorage[_0x36d872(0x916)]('authed_project_'+_0x2a8db1,_0x36d872(0x375)),_0x43cfb2[_0x36d872(0x49a)][_0x36d872(0x3ba)](_0x36d872(0x534)),_0x2bc7b0(),_0x2c3be0['removeEventListener']('click',_0x24798b)):_0x22d2c1['classList'][_0x36d872(0x355)](_0x36d872(0x534));};_0x2c3be0['onclick']=_0x24798b,_0x32a241[_0x42de2a(0x640)]=()=>{const _0x169428=_0x42de2a;_0x43cfb2[_0x169428(0x49a)][_0x169428(0x3ba)]('hidden'),_0x3afbb8[_0x169428(0x8b5)]='',_0x2c3be0[_0x169428(0x3fe)]('click',_0x24798b);};}else _0x2bc7b0();},_0x388c91[_0x22db9c(0x6ba)]=()=>{const _0x504095=_0x22db9c,_0x1c4d8a=_0x3afbb8['value'],_0x5f4fe3=_0x388c91[_0x504095(0x8b5)];_0x1c4d8a&&_0x5f4fe3&&renderStudentProgressDashboard(_0x1c4d8a,_0x5f4fe3);};}async function renderStudentProgressDashboard(_0x2554cf,_0x33fcb3){const _0x1a0cd9=_0x483b09,_0x309fb3=document[_0x1a0cd9(0x437)](_0x1a0cd9(0x62d));_0x309fb3['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x54e245=collection(db,_0x1a0cd9(0x868)+appId+_0x1a0cd9(0x4e7)),_0x229202=query(_0x54e245,where(_0x1a0cd9(0x52f),'==',_0x2554cf)),_0xe19af1=await getDocs(_0x229202),_0x3bf5f0=_0xe19af1['docs'][_0x1a0cd9(0x530)](_0x3e4d84=>({'id':_0x3e4d84['id'],..._0x3e4d84[_0x1a0cd9(0x6cb)]()})),_0x3a6433=_0x3bf5f0[_0x1a0cd9(0x530)](_0x478bc9=>getDoc(doc(db,_0x1a0cd9(0x868)+appId+_0x1a0cd9(0x8ab)+_0x478bc9['id']+_0x1a0cd9(0x225),_0x33fcb3))),_0x4d9668=await Promise[_0x1a0cd9(0x4ee)](_0x3a6433),_0xf6ac3d=_0x4d9668['filter'](_0x3278e1=>_0x3278e1[_0x1a0cd9(0x830)]())[_0x1a0cd9(0x530)](_0x2179e4=>({'quizId':_0x2179e4['ref'][_0x1a0cd9(0x74d)][_0x1a0cd9(0x74d)]['id'],..._0x2179e4['data']()}));if(_0xf6ac3d[_0x1a0cd9(0x1d7)]===0x0){_0x309fb3[_0x1a0cd9(0x676)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x1a7dd0=_0x1a0cd9(0x373);_0xf6ac3d[_0x1a0cd9(0x4ec)](_0x5956d7=>{const _0x703de=_0x1a0cd9,_0x169363=_0x3bf5f0[_0x703de(0x413)](_0x214029=>_0x214029['id']===_0x5956d7[_0x703de(0x3ce)]),_0x4489a9=_0x169363[_0x703de(0x2bd)]?.[_0x703de(0x60d)]||_0x703de(0x1f8),_0x3ca3c1=_0x169363[_0x703de(0x2bd)]?.[_0x703de(0x723)]??0x0,_0x2e2ef2=_0x5956d7[_0x703de(0x49d)]>=_0x3ca3c1;let _0xa024f5='',_0x492ab5=_0x703de(0x352);switch(_0x4489a9){case _0x703de(0x1f8):case'show_results_only':_0x492ab5=_0x2e2ef2?_0x703de(0x8d2):_0x703de(0x51d),_0xa024f5=_0x703de(0x40a)+(_0x2e2ef2?_0x703de(0x1fb):_0x703de(0x782))+'\x22>'+_0x5956d7[_0x703de(0x49d)]+_0x703de(0x7be)+_0x5956d7[_0x703de(0x267)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x2e2ef2?'bg-green-200\x20text-green-800':_0x703de(0x461))+'\x22>'+(_0x2e2ef2?_0x703de(0x391):_0x703de(0x6b6))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x703de(0x725):_0x492ab5=_0x2e2ef2?_0x703de(0x8d2):_0x703de(0x51d),_0xa024f5=_0x703de(0x73b)+(_0x2e2ef2?_0x703de(0x80c):_0x703de(0x461))+'\x22>'+(_0x2e2ef2?_0x703de(0x391):'ไม่ผ่าน')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x703de(0x1e4):_0x492ab5=_0x703de(0x7da),_0xa024f5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}_0x1a7dd0+=_0x703de(0x565)+_0x492ab5+_0x703de(0x43f)+_0x169363[_0x703de(0x624)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x5956d7[_0x703de(0x933)][_0x703de(0x1d7)]+_0x703de(0x8c4)+new Date(_0x5956d7['latestSubmittedAt'])[_0x703de(0x396)]('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa024f5+_0x703de(0x507);}),_0x1a7dd0+=_0x1a0cd9(0x73d),_0x309fb3[_0x1a0cd9(0x676)]=_0x1a7dd0;}catch(_0x57b9a4){console[_0x1a0cd9(0x8cc)](_0x1a0cd9(0x246),_0x57b9a4),_0x309fb3[_0x1a0cd9(0x676)]=_0x1a0cd9(0x322);}}function setupStudentProgressListeners(){const _0x19156a=_0x483b09;document[_0x19156a(0x437)]('view-my-progress-btn')[_0x19156a(0x6b1)]('click',showStudentProgressView),document['getElementById'](_0x19156a(0x36a))[_0x19156a(0x6b1)](_0x19156a(0x5ff),()=>{const _0x1d3b2a=_0x19156a;document['getElementById'](_0x1d3b2a(0x741))[_0x1d3b2a(0x49a)][_0x1d3b2a(0x3ba)](_0x1d3b2a(0x534)),document['getElementById']('student-initial-view')[_0x1d3b2a(0x49a)]['remove'](_0x1d3b2a(0x534));});}async function startSkillPractice(_0x1a1aca){const _0x2cbeb6=_0x483b09;studentResultArea[_0x2cbeb6(0x49a)][_0x2cbeb6(0x3ba)](_0x2cbeb6(0x534)),studentQuizArea[_0x2cbeb6(0x676)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea['classList'][_0x2cbeb6(0x355)](_0x2cbeb6(0x534));try{const _0x24e14a=await getStandardizedTopic(_0x1a1aca);console['log']('คำถามดิบ:\x20\x22'+_0x1a1aca+_0x2cbeb6(0x4d2)+_0x24e14a+'\x22'),studentQuizArea['querySelector']('p')[_0x2cbeb6(0x2dd)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x24e14a+_0x2cbeb6(0x737);const _0x1bfba1=collection(db,_0x2cbeb6(0x868)+appId+_0x2cbeb6(0x65d)),_0xe30ac6=query(_0x1bfba1,where(_0x2cbeb6(0x624),'==',_0x24e14a)),_0x26bbfd=await getDocs(_0xe30ac6);if(_0x26bbfd[_0x2cbeb6(0x714)][_0x2cbeb6(0x1d7)]>=0x3){console[_0x2cbeb6(0x2e3)](_0x2cbeb6(0x3be)+_0x26bbfd[_0x2cbeb6(0x714)]['length']+_0x2cbeb6(0x8f5)+_0x24e14a+_0x2cbeb6(0x90e));let _0x482a1b=_0x26bbfd[_0x2cbeb6(0x714)][_0x2cbeb6(0x530)](_0x2b0f7b=>_0x2b0f7b[_0x2cbeb6(0x6cb)]());shuffleArray(_0x482a1b);const _0xdf013={'topic':_0x24e14a,'questions':_0x482a1b['slice'](0x0,0x3)};displaySkillPracticeDrill(_0xdf013);}else{console[_0x2cbeb6(0x2e3)](_0x2cbeb6(0x34f)+_0x24e14a+_0x2cbeb6(0x812));const _0x1de9ca=await generatePracticeQuestions(_0x24e14a);await saveDrillToPracticeBank(_0x1de9ca,_0x24e14a),displaySkillPracticeDrill(_0x1de9ca);}}catch(_0x13a5a7){console[_0x2cbeb6(0x8cc)](_0x2cbeb6(0x5e6),_0x13a5a7),showMessage(_0x2cbeb6(0x32c)),studentQuizArea[_0x2cbeb6(0x49a)][_0x2cbeb6(0x3ba)](_0x2cbeb6(0x534)),studentResultArea[_0x2cbeb6(0x49a)][_0x2cbeb6(0x355)](_0x2cbeb6(0x534));}}async function saveDrillToPracticeBank(_0x5c88b2,_0x25dc05){const _0x55b959=_0x483b09,_0x509da8=collection(db,'artifacts/'+appId+_0x55b959(0x65d)),_0x570624=writeBatch(db);_0x5c88b2[_0x55b959(0x7f3)][_0x55b959(0x4ec)](_0x56f1f7=>{const _0xe4f49=_0x55b959,_0x50ac53=doc(_0x509da8);_0x570624[_0xe4f49(0x643)](_0x50ac53,{'topic':_0x25dc05,'questionText':_0x56f1f7[_0xe4f49(0x353)],'options':_0x56f1f7[_0xe4f49(0x2c8)],'correctAnswerIndex':_0x56f1f7[_0xe4f49(0x531)],'explanation':_0x56f1f7[_0xe4f49(0x86a)],'createdAt':serverTimestamp()});});try{await _0x570624[_0x55b959(0x4db)](),console['log'](_0x55b959(0x61c)+_0x5c88b2[_0x55b959(0x7f3)]['length']+_0x55b959(0x60b));}catch(_0x2de7b3){console[_0x55b959(0x8cc)](_0x55b959(0x4b7),_0x2de7b3);}}async function getStandardizedTopic(_0x5398ed){const _0x39f2d1=_0x483b09,_0x5eb61a=_0x39f2d1(0x560)+_0x5398ed+_0x39f2d1(0x348),_0x16d3ad={'type':_0x39f2d1(0x3af),'properties':{'standardTopic':{'type':_0x39f2d1(0x36f)}},'required':[_0x39f2d1(0x283)]};try{const _0x979624=await callAnalysisApi(_0x5eb61a,_0x16d3ad);return _0x979624[_0x39f2d1(0x283)];}catch(_0x16a5f5){return console[_0x39f2d1(0x8cc)](_0x39f2d1(0x897),_0x16a5f5),_0x5398ed;}}async function generatePracticeQuestions(_0x46e672){const _0x2c1c6f=_0x483b09,_0x41425d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x46e672+_0x2c1c6f(0x75f)+simpleMathPrompt+_0x2c1c6f(0x502),_0x4670d0={'type':_0x2c1c6f(0x3af),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2c1c6f(0x362),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2c1c6f(0x92d)},'explanation':{'type':_0x2c1c6f(0x36f)}},'required':[_0x2c1c6f(0x353),'options','correctAnswerIndex',_0x2c1c6f(0x86a)]},_0x2200d4={'type':_0x2c1c6f(0x3af),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2c1c6f(0x362),'items':_0x4670d0}},'required':[_0x2c1c6f(0x624),_0x2c1c6f(0x7f3)]};return await callAnalysisApi(_0x41425d,_0x2200d4);}function displayLessonPlan(_0x4e4bc3,_0x17324d){const _0x5af392=_0x483b09,_0x27a3d0=_0x5af392(0x6e3)+_0x17324d['topic']+_0x5af392(0x260)+_0x4e4bc3[_0x5af392(0x5ed)]['map'](_0x3dd3ce=>'<li>'+_0x3dd3ce+'</li>')[_0x5af392(0x939)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x4e4bc3['teachingContent']+_0x5af392(0x536)+_0x4e4bc3['practiceProblems'][_0x5af392(0x530)](_0x410228=>_0x5af392(0x215)+_0x410228[_0x5af392(0x2b4)]+_0x5af392(0x7a7)+_0x410228['solution']+'</p></div>')[_0x5af392(0x939)]('')+_0x5af392(0x26a);document[_0x5af392(0x437)]('lesson-plan-title')[_0x5af392(0x2dd)]=_0x5af392(0x4fd)+_0x17324d[_0x5af392(0x624)],document[_0x5af392(0x437)](_0x5af392(0x53a))['innerHTML']=_0x27a3d0,document[_0x5af392(0x437)]('lesson-plan-modal')[_0x5af392(0x49a)][_0x5af392(0x355)](_0x5af392(0x534));if(window[_0x5af392(0x875)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x23996f){const _0x512453=_0x483b09;let _0x23c9f1=0x0;const _0x264ad3=_0x23996f[_0x512453(0x7f3)],_0x2be74a=()=>{const _0x49bd83=_0x512453,_0x42f604=_0x264ad3[_0x23c9f1],_0x36b2f4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x23c9f1+0x1)+_0x49bd83(0x7be)+_0x264ad3['length']+_0x49bd83(0x649)+_0x42f604[_0x49bd83(0x353)]+_0x49bd83(0x43c)+_0x42f604[_0x49bd83(0x2c8)]['map']((_0x1f5bf4,_0x149e58)=>_0x49bd83(0x2a4)+_0x149e58+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x149e58+_0x49bd83(0x4b6)+_0x149e58+'\x22>'+_0x1f5bf4+_0x49bd83(0x1eb))[_0x49bd83(0x939)]('')+_0x49bd83(0x3dd);studentQuizArea[_0x49bd83(0x676)]=_0x36b2f4;if(window[_0x49bd83(0x875)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x49bd83(0x23e))[_0x49bd83(0x6b1)](_0x49bd83(0x5ff),async()=>{const _0x56760b=_0x49bd83,_0x1b6d6c=await getHintForQuestion(_0x42f604[_0x56760b(0x353)]);showMessage(_0x1b6d6c);}),document['getElementById']('check-answer-btn')[_0x49bd83(0x6b1)]('click',()=>{const _0x3f5d03=_0x49bd83,_0x48fe59=document[_0x3f5d03(0x865)](_0x3f5d03(0x1cd));if(!_0x48fe59){showMessage(_0x3f5d03(0x576));return;}const _0x508fa2=document[_0x3f5d03(0x437)](_0x3f5d03(0x694)),_0x2eec03=parseInt(_0x48fe59[_0x3f5d03(0x8b5)])===_0x42f604[_0x3f5d03(0x531)];_0x2eec03?(_0x508fa2[_0x3f5d03(0x601)]=_0x3f5d03(0x4e0),_0x508fa2[_0x3f5d03(0x676)]=_0x3f5d03(0x4c2)+_0x42f604[_0x3f5d03(0x86a)]):(_0x508fa2[_0x3f5d03(0x601)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x508fa2['innerHTML']=_0x3f5d03(0x481)+_0x42f604[_0x3f5d03(0x86a)]);_0x508fa2[_0x3f5d03(0x49a)][_0x3f5d03(0x355)]('hidden');if(window[_0x3f5d03(0x875)])MathJax[_0x3f5d03(0x376)]([_0x508fa2]);document['getElementById'](_0x3f5d03(0x526))[_0x3f5d03(0x49a)][_0x3f5d03(0x3ba)]('hidden'),document[_0x3f5d03(0x437)](_0x3f5d03(0x23e))[_0x3f5d03(0x49a)][_0x3f5d03(0x3ba)](_0x3f5d03(0x534)),document[_0x3f5d03(0x437)](_0x3f5d03(0x6f6))[_0x3f5d03(0x49a)][_0x3f5d03(0x355)](_0x3f5d03(0x534));}),document[_0x49bd83(0x437)](_0x49bd83(0x6f6))['addEventListener'](_0x49bd83(0x5ff),()=>{const _0x23c1c0=_0x49bd83;_0x23c9f1++,_0x23c9f1<_0x264ad3[_0x23c1c0(0x1d7)]?_0x2be74a():(studentQuizArea[_0x23c1c0(0x676)]=_0x23c1c0(0x872),document[_0x23c1c0(0x437)]('back-to-results-btn')['addEventListener'](_0x23c1c0(0x5ff),()=>{const _0x31b1d0=_0x23c1c0;studentQuizArea[_0x31b1d0(0x49a)][_0x31b1d0(0x3ba)](_0x31b1d0(0x534)),studentResultArea[_0x31b1d0(0x49a)][_0x31b1d0(0x355)](_0x31b1d0(0x534));}));});};_0x2be74a();}async function getHintForQuestion(_0x2629ff){const _0x2318dc=_0x483b09,_0x308fcb='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x2629ff+_0x2318dc(0x860),_0x386072={'type':'OBJECT','properties':{'hint':{'type':'STRING'}},'required':[_0x2318dc(0x654)]};try{const _0x52fa8a=await callAnalysisApi(_0x308fcb,_0x386072);return _0x52fa8a[_0x2318dc(0x654)];}catch(_0x3ca485){return console[_0x2318dc(0x8cc)](_0x2318dc(0x674),_0x3ca485),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x13f93a){const _0x184d5c=_0x483b09;pdfjsLib[_0x184d5c(0x315)]['workerSrc']=_0x184d5c(0x7cd);const _0x14e8a7=await _0x13f93a[_0x184d5c(0x25b)](),_0x334bcb=await pdfjsLib[_0x184d5c(0x7c8)](_0x14e8a7)[_0x184d5c(0x40d)],_0x3d447e=_0x334bcb[_0x184d5c(0x70f)];let _0x363c5a='';for(let _0x49409e=0x1;_0x49409e<=_0x3d447e;_0x49409e++){const _0x45ab2e=await _0x334bcb[_0x184d5c(0x457)](_0x49409e),_0x57e831=await _0x45ab2e[_0x184d5c(0x543)](),_0x54d50c=_0x57e831[_0x184d5c(0x3c8)][_0x184d5c(0x530)](_0x24c494=>_0x24c494['str'])[_0x184d5c(0x939)]('\x20');_0x363c5a+=_0x54d50c+'\x0a\x0a';}return _0x363c5a;}async function handleGenerateFromBlueprint(){const _0x344945=_0x483b09,_0x14d64f=document['getElementById'](_0x344945(0x5e1)),_0x2c69d7=document[_0x344945(0x437)](_0x344945(0x360)),_0x12292f=_0x14d64f[_0x344945(0x693)][0x0],_0x272b0a=_0x2c69d7[_0x344945(0x693)][_0x344945(0x1d7)]>0x0?_0x2c69d7['files'][0x0]:null;if(!_0x12292f){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x5e4fae=document[_0x344945(0x437)]('loader'),_0xd39cb8=document[_0x344945(0x437)](_0x344945(0x603)),_0x359916=document[_0x344945(0x437)](_0x344945(0x1ec)),_0x16f7b0=document[_0x344945(0x437)](_0x344945(0x6a4));_0x16f7b0[_0x344945(0x766)]=!![],document[_0x344945(0x437)](_0x344945(0x72f))[_0x344945(0x49a)][_0x344945(0x355)]('hidden'),_0x359916['innerHTML']='',_0x5e4fae['classList'][_0x344945(0x355)](_0x344945(0x534));try{_0xd39cb8[_0x344945(0x2dd)]=_0x344945(0x567);const _0x39e99d=await extractTextFromPdf(_0x12292f);if(!_0x39e99d[_0x344945(0x8ad)]())throw new Error(_0x344945(0x4a3));let _0x333413='';_0x272b0a&&(_0xd39cb8[_0x344945(0x2dd)]=_0x344945(0x8e4),_0x333413=await extractTextFromPdf(_0x272b0a));_0xd39cb8['textContent']=_0x344945(0x535);const _0x39a64e=document['getElementById'](_0x344945(0x3e3))[_0x344945(0x6b5)],_0x4b60b0=_0x39a64e?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x480851=_0x333413?_0x344945(0x344)+_0x333413+_0x344945(0x3cd):'',_0x4a0298=_0x344945(0x513)+(_0x333413?_0x344945(0x769):'')+_0x344945(0x1f9)+_0x39e99d+_0x344945(0x3cd)+_0x480851+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b60b0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x344945(0x81c),_0x2aad1c={'type':_0x344945(0x3af),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x344945(0x36f),'enum':[_0x344945(0x450),'short_answer']},'options':{'type':_0x344945(0x362),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x344945(0x92d)},'idealAnswer':{'type':_0x344945(0x36f)},'explanation':{'type':_0x344945(0x36f)},'imageCode':{'type':'STRING'}},'required':[_0x344945(0x353),_0x344945(0x671),'explanation']},_0x3548a7={'type':_0x344945(0x3af),'properties':{'topic':{'type':_0x344945(0x36f)},'questions':{'type':'ARRAY','items':_0x2aad1c}},'required':[_0x344945(0x624),_0x344945(0x7f3)]};await handleApiCall(_0x4a0298,_0x344945(0x524),_0x3548a7);}catch(_0x109b31){console['error']('Error\x20generating\x20from\x20blueprint:',_0x109b31),showMessage(_0x344945(0x787)+_0x109b31[_0x344945(0x64f)]),_0x359916['innerHTML']=_0x344945(0x3f5);}finally{_0x5e4fae[_0x344945(0x49a)][_0x344945(0x3ba)]('hidden'),_0x16f7b0['disabled']=![];}}async function handleGenerateParallelFromBank(_0x5300c2){const _0x2ccc8e=_0x483b09,_0x3df680=document['getElementById'](_0x2ccc8e(0x53b)),_0x2f9295=document['getElementById'](_0x2ccc8e(0x3d0));_0x2f9295[_0x2ccc8e(0x49a)][_0x2ccc8e(0x3ba)](_0x2ccc8e(0x534));const _0x594332=_0x2ccc8e(0x3a8)+_0x5300c2[_0x2ccc8e(0x624)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3df680[_0x2ccc8e(0x2c3)]('beforeend',_0x594332);const _0x409ff2=document[_0x2ccc8e(0x437)](_0x2ccc8e(0x83f));try{const _0xcbfb45=_0x5300c2[_0x2ccc8e(0x7f3)][_0x2ccc8e(0x530)]((_0x36163d,_0x55eada)=>{const _0x2da162=_0x2ccc8e;let _0x3909d3=_0x55eada+0x1+'.\x20'+(_0x36163d['questionText']||_0x36163d[_0x2da162(0x509)])+'\x0a';if(_0x36163d[_0x2da162(0x2c8)])_0x3909d3+=_0x36163d['options'][_0x2da162(0x530)]((_0x3b44c2,_0x39ef2e)=>'\x20\x20\x20-\x20'+(_0x39ef2e===_0x36163d['correctAnswerIndex']?_0x2da162(0x256):'')+'\x20'+_0x3b44c2)[_0x2da162(0x939)]('\x0a');else _0x36163d['idealAnswer']&&(_0x3909d3+=_0x2da162(0x80d)+_0x36163d['idealAnswer']);return _0x3909d3;})[_0x2ccc8e(0x939)]('\x0a\x0a');_0x409ff2[_0x2ccc8e(0x2dd)]=_0x2ccc8e(0x3aa);const _0x54e934=_0x2ccc8e(0x44d)+_0x5300c2['topic']+_0x2ccc8e(0x895)+_0xcbfb45+_0x2ccc8e(0x85a)+simpleMathPrompt+_0x2ccc8e(0x81c),_0x396068={'type':_0x2ccc8e(0x3af),'properties':{'questionText':{'type':_0x2ccc8e(0x36f)},'questionType':{'type':_0x2ccc8e(0x36f),'enum':[_0x2ccc8e(0x450),'short_answer',_0x2ccc8e(0x29b),'matching_item']},'options':{'type':_0x2ccc8e(0x362),'items':{'type':_0x2ccc8e(0x36f)}},'correctAnswerIndex':{'type':_0x2ccc8e(0x92d)},'idealAnswer':{'type':_0x2ccc8e(0x36f)},'correctAnswer':{'type':_0x2ccc8e(0x488)},'stem':{'type':_0x2ccc8e(0x36f)},'correctResponse':{'type':_0x2ccc8e(0x36f)},'allResponses':{'type':_0x2ccc8e(0x362),'items':{'type':'STRING'}},'explanation':{'type':_0x2ccc8e(0x36f)},'imageCode':{'type':_0x2ccc8e(0x36f)}},'required':['questionType',_0x2ccc8e(0x86a)]},_0x118011={'type':_0x2ccc8e(0x3af),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2ccc8e(0x362),'items':_0x396068}},'required':[_0x2ccc8e(0x624),_0x2ccc8e(0x7f3)]},_0x320f75=await callAnalysisApi(_0x54e934,_0x118011),_0x243485=_0x2ccc8e(0x4fb)+_0x5300c2['topic'],_0x36e2eb={'topic':_0x243485,'questions':_0x320f75[_0x2ccc8e(0x7f3)],'quizType':_0x5300c2['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2ccc8e(0x4cf)](),'status':'active','settings':_0x5300c2['settings'],'quizMode':_0x2ccc8e(0x6ed),'pairedQuizId':null,'lessonPlan':null};let _0x3c6568;while(!![]){_0x3c6568=Math[_0x2ccc8e(0x254)](0x3e8+Math[_0x2ccc8e(0x663)]()*0x2328)[_0x2ccc8e(0x38c)]();const _0x3d2b7e=await getDoc(doc(db,_0x2ccc8e(0x868)+appId+_0x2ccc8e(0x4e7),_0x3c6568));if(!_0x3d2b7e[_0x2ccc8e(0x830)]())break;}await setDoc(doc(db,_0x2ccc8e(0x868)+appId+'/public/data/quizzes',_0x3c6568),_0x36e2eb),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x238dce){console[_0x2ccc8e(0x8cc)](_0x2ccc8e(0x91e),_0x238dce),showMessage(_0x2ccc8e(0x787)+_0x238dce[_0x2ccc8e(0x64f)]);}finally{const _0x91a252=document[_0x2ccc8e(0x437)](_0x2ccc8e(0x475));_0x91a252&&_0x91a252[_0x2ccc8e(0x355)](),_0x2f9295[_0x2ccc8e(0x49a)][_0x2ccc8e(0x355)](_0x2ccc8e(0x534));}}async function handleGenerateParallelPostTest(_0x3580c4){const _0x40f6b4=_0x483b09,_0x479e09=document['getElementById'](_0x40f6b4(0x53b)),_0x3380aa=document['getElementById']('project-quizzes-list');_0x3380aa[_0x40f6b4(0x49a)][_0x40f6b4(0x3ba)]('hidden');const _0x3704b6=_0x40f6b4(0x7f1);_0x479e09['insertAdjacentHTML'](_0x40f6b4(0x68c),_0x3704b6);try{const _0x5dd924=_0x3580c4[_0x40f6b4(0x7f3)][_0x40f6b4(0x530)]((_0x43fa83,_0x3e474c)=>{const _0xa9c638=_0x40f6b4;let _0x1b63aa=_0x3e474c+0x1+'.\x20'+(_0x43fa83[_0xa9c638(0x353)]||_0x43fa83[_0xa9c638(0x509)]);if(_0x43fa83[_0xa9c638(0x2c8)])_0x1b63aa+=_0xa9c638(0x378)+_0x43fa83[_0xa9c638(0x2c8)][_0xa9c638(0x939)](',\x20');return _0x1b63aa;})['join']('\x0a\x0a'),_0x1a0b6c=_0x40f6b4(0x8a3)+_0x3580c4['topic']+_0x40f6b4(0x222)+_0x5dd924+_0x40f6b4(0x51b)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1765ef={'type':_0x40f6b4(0x3af),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x40f6b4(0x362),'items':{'type':_0x40f6b4(0x3af),'properties':{'questionText':{'type':_0x40f6b4(0x36f)},'questionType':{'type':_0x40f6b4(0x36f)},'options':{'type':_0x40f6b4(0x362),'items':{'type':_0x40f6b4(0x36f)}},'correctAnswerIndex':{'type':_0x40f6b4(0x92d)},'idealAnswer':{'type':_0x40f6b4(0x36f)},'explanation':{'type':_0x40f6b4(0x36f)}},'required':['questionText',_0x40f6b4(0x86a)]}}},'required':[_0x40f6b4(0x624),_0x40f6b4(0x7f3)]},_0x154ce2=await callAnalysisApi(_0x1a0b6c,_0x1765ef),_0x4da44b=_0x3580c4['topic'][_0x40f6b4(0x78d)](_0x40f6b4(0x857),'')['trim'](),_0x3bc2df=_0x40f6b4(0x7ae)+_0x4da44b,_0x3308cf={..._0x154ce2,'topic':_0x3bc2df,'quizType':_0x3580c4[_0x40f6b4(0x5da)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x40f6b4(0x25e),'settings':_0x3580c4['settings'],'quizMode':'post-test','pairedQuizId':_0x3580c4['id']};let _0x49cdf9;while(!![]){_0x49cdf9=Math[_0x40f6b4(0x254)](0x3e8+Math[_0x40f6b4(0x663)]()*0x2328)[_0x40f6b4(0x38c)]();const _0x444fd7=await getDoc(doc(db,_0x40f6b4(0x868)+appId+'/public/data/quizzes',_0x49cdf9));if(!_0x444fd7['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x40f6b4(0x4e7),_0x49cdf9),_0x3308cf);const _0xba3714=doc(db,_0x40f6b4(0x868)+appId+'/public/data/quizzes',_0x3580c4['id']);await updateDoc(_0xba3714,{'pairedQuizId':_0x49cdf9}),showMessage(_0x40f6b4(0x421));}catch(_0x305de7){console[_0x40f6b4(0x8cc)]('Error\x20generating\x20parallel\x20post-test:',_0x305de7),showMessage('เกิดข้อผิดพลาด:\x20'+_0x305de7[_0x40f6b4(0x64f)]);}finally{const _0x235957=document[_0x40f6b4(0x437)](_0x40f6b4(0x475));if(_0x235957)_0x235957[_0x40f6b4(0x355)]();_0x3380aa['classList'][_0x40f6b4(0x355)](_0x40f6b4(0x534));}}async function handleGenerateParallelTest(){const _0x7f5fa8=_0x483b09,_0x47490c=document['getElementById']('parallel-test-upload-input'),_0x139adc=_0x47490c[_0x7f5fa8(0x693)][0x0];if(!_0x139adc){showMessage(_0x7f5fa8(0x71e));return;}const _0x55dd06=document[_0x7f5fa8(0x437)](_0x7f5fa8(0x1fa)),_0x3014f3=document[_0x7f5fa8(0x437)]('loader-text'),_0x3dc36c=document[_0x7f5fa8(0x437)]('generated-quiz-container'),_0x2d9a6a=document[_0x7f5fa8(0x437)]('generate-from-parallel-test-btn');_0x2d9a6a[_0x7f5fa8(0x766)]=!![],document['getElementById'](_0x7f5fa8(0x72f))[_0x7f5fa8(0x49a)][_0x7f5fa8(0x355)](_0x7f5fa8(0x534)),_0x3dc36c[_0x7f5fa8(0x676)]='',_0x55dd06['classList'][_0x7f5fa8(0x355)]('hidden'),_0x3014f3[_0x7f5fa8(0x2dd)]=_0x7f5fa8(0x4e8);try{const _0xa9f954=await extractTextFromPdf(_0x139adc);if(!_0xa9f954[_0x7f5fa8(0x8ad)]())throw new Error(_0x7f5fa8(0x2a2));_0x3014f3[_0x7f5fa8(0x2dd)]=_0x7f5fa8(0x3aa);const _0x483ac0=document[_0x7f5fa8(0x437)](_0x7f5fa8(0x3e3))[_0x7f5fa8(0x6b5)],_0x499f02=_0x483ac0?_0x7f5fa8(0x664):'',_0xdabc05=_0x7f5fa8(0x3b1)+_0xa9f954+_0x7f5fa8(0x645)+_0x499f02+_0x7f5fa8(0x405)+simpleMathPrompt+_0x7f5fa8(0x81c),_0x1bfdb8={'type':_0x7f5fa8(0x3af),'properties':{'questionText':{'type':_0x7f5fa8(0x36f)},'questionType':{'type':_0x7f5fa8(0x36f),'enum':[_0x7f5fa8(0x450),'short_answer']},'options':{'type':_0x7f5fa8(0x362),'items':{'type':_0x7f5fa8(0x36f)}},'correctAnswerIndex':{'type':_0x7f5fa8(0x92d)},'idealAnswer':{'type':_0x7f5fa8(0x36f)},'explanation':{'type':_0x7f5fa8(0x36f)},'imageCode':{'type':_0x7f5fa8(0x36f)}},'required':['questionText',_0x7f5fa8(0x671),'explanation']},_0x23e82f={'type':_0x7f5fa8(0x3af),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x7f5fa8(0x362),'items':_0x1bfdb8}},'required':[_0x7f5fa8(0x624),_0x7f5fa8(0x7f3)]};await handleApiCall(_0xdabc05,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x23e82f);}catch(_0x2d21b1){console['error'](_0x7f5fa8(0x4ed),_0x2d21b1),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2d21b1['message']),_0x3dc36c[_0x7f5fa8(0x676)]=_0x7f5fa8(0x59e);}finally{_0x55dd06[_0x7f5fa8(0x49a)]['add'](_0x7f5fa8(0x534)),_0x2d9a6a[_0x7f5fa8(0x766)]=![];}}async function handleRegenerateQuestionInEditor(_0x318f61){const _0x45ef6d=_0x483b09;if(currentEditingQuizData===null)return;const _0x5583c7=document['querySelector'](_0x45ef6d(0x3e6)+_0x318f61+'\x22]');_0x5583c7&&(_0x5583c7['innerHTML']='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x4cf4c4=currentEditingQuizData[_0x45ef6d(0x7f3)][_0x318f61],_0x502469=currentEditingQuizData[_0x45ef6d(0x624)],_0x134ae3=_0x4cf4c4[_0x45ef6d(0x671)],_0x31e6f9={'type':_0x45ef6d(0x3af),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x45ef6d(0x36f)}},'correctAnswerIndex':{'type':_0x45ef6d(0x92d)},'explanation':{'type':_0x45ef6d(0x36f)}},'required':[_0x45ef6d(0x353),_0x45ef6d(0x2c8),_0x45ef6d(0x531),_0x45ef6d(0x86a)]},_0xe55a39={'type':_0x45ef6d(0x3af),'properties':{'questionText':{'type':_0x45ef6d(0x36f)},'idealAnswer':{'type':_0x45ef6d(0x36f)},'explanation':{'type':_0x45ef6d(0x36f)}},'required':['questionText','idealAnswer',_0x45ef6d(0x86a)]};let _0x2a4435,_0xd8f550='';_0x134ae3===_0x45ef6d(0x450)?(_0x2a4435=_0x31e6f9,_0xd8f550=_0x45ef6d(0x2d3)):(_0x2a4435=_0xe55a39,_0xd8f550=_0x45ef6d(0x312));const _0x1ba724='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x502469+_0x45ef6d(0x77b)+_0xd8f550+_0x45ef6d(0x455)+(_0x4cf4c4['questionText']||_0x4cf4c4[_0x45ef6d(0x509)])+_0x45ef6d(0x5c2)+simpleMathPrompt;try{const _0x24cb21=await callAnalysisApi(_0x1ba724,_0x2a4435);currentEditingQuizData[_0x45ef6d(0x7f3)][_0x318f61]={..._0x4cf4c4,..._0x24cb21},renderQuizEditor(currentEditingQuizData);}catch(_0x350d25){console[_0x45ef6d(0x8cc)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x350d25),showMessage(_0x45ef6d(0x4f9)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x150fe7=_0x483b09,_0x57fd63=document[_0x150fe7(0x437)](_0x150fe7(0x6e6));currentMode===_0x150fe7(0x4df)?(adminPasswordModal[_0x150fe7(0x49a)][_0x150fe7(0x355)]('hidden'),document[_0x150fe7(0x437)]('admin-password-input')[_0x150fe7(0x703)]()):(currentMode=_0x150fe7(0x4df),_0x57fd63['innerHTML']='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x57fd63[_0x150fe7(0x212)]=_0x150fe7(0x33d),showView(_0x150fe7(0x4df)));}function handleAdminLogin(){const _0x1d446f=_0x483b09,_0x11577c=document[_0x1d446f(0x437)]('admin-password-input'),_0x308fac=document[_0x1d446f(0x437)](_0x1d446f(0x25c));if(_0x11577c['value']==='27411472'){adminPasswordModal['classList'][_0x1d446f(0x3ba)](_0x1d446f(0x534)),_0x11577c[_0x1d446f(0x8b5)]='',_0x308fac['classList']['add'](_0x1d446f(0x534)),currentMode=_0x1d446f(0x778);const _0x53b0cf=document[_0x1d446f(0x437)](_0x1d446f(0x6e6));_0x53b0cf[_0x1d446f(0x676)]=_0x1d446f(0x22c),_0x53b0cf[_0x1d446f(0x212)]='สลับไปโหมดนักเรียน',showView('admin-dashboard');}else _0x308fac['classList'][_0x1d446f(0x355)](_0x1d446f(0x534)),_0x11577c[_0x1d446f(0x8b5)]='';}function switchProjectTab(_0x1fa6dc){const _0xb5af25=_0x483b09;[_0xb5af25(0x74f),'results','leaderboard']['forEach'](_0x2261f1=>{const _0x3fbffd=_0xb5af25;document['getElementById'](_0x2261f1+'-tab')[_0x3fbffd(0x49a)]['remove']('active'),document[_0x3fbffd(0x437)](_0x2261f1+_0x3fbffd(0x456))[_0x3fbffd(0x49a)][_0x3fbffd(0x3ba)]('hidden');}),document[_0xb5af25(0x437)](_0x1fa6dc+_0xb5af25(0x722))[_0xb5af25(0x49a)][_0xb5af25(0x3ba)](_0xb5af25(0x25e)),document[_0xb5af25(0x437)](_0x1fa6dc+'-tab-content')[_0xb5af25(0x49a)][_0xb5af25(0x355)](_0xb5af25(0x534));}function switchQuizDetailTab(_0xdf4614){const _0x55bc6b=_0x483b09,_0x451af5={'analytics':{'btn':_0x55bc6b(0x320),'content':'analytics-tab-content'},'scores':{'btn':_0x55bc6b(0x24d),'content':_0x55bc6b(0x1ea)},'leaderboard-quiz':{'btn':_0x55bc6b(0x511),'content':_0x55bc6b(0x38a)},'behavior-log':{'btn':_0x55bc6b(0x51a),'content':_0x55bc6b(0x689)}};for(const _0x1c925a in _0x451af5){document[_0x55bc6b(0x437)](_0x451af5[_0x1c925a]['btn'])[_0x55bc6b(0x49a)][_0x55bc6b(0x355)](_0x55bc6b(0x25e)),document[_0x55bc6b(0x437)](_0x451af5[_0x1c925a][_0x55bc6b(0x65b)])[_0x55bc6b(0x49a)][_0x55bc6b(0x3ba)]('hidden');}document[_0x55bc6b(0x437)](_0x451af5[_0xdf4614]['btn'])['classList']['add']('active'),document[_0x55bc6b(0x437)](_0x451af5[_0xdf4614][_0x55bc6b(0x65b)])[_0x55bc6b(0x49a)][_0x55bc6b(0x355)](_0x55bc6b(0x534));}function showMessage(_0x3b91ed,_0x5d99a1=null){const _0x3b7bd6=_0x483b09;modalMessage[_0x3b7bd6(0x2dd)]=_0x3b91ed,modalConfirmAction=_0x5d99a1,messageModal[_0x3b7bd6(0x49a)][_0x3b7bd6(0x355)](_0x3b7bd6(0x534));}function showConfirmation(_0x572a54,_0x3e505a){const _0x45bdc4=_0x483b09;document['getElementById'](_0x45bdc4(0x4f8))[_0x45bdc4(0x2dd)]=_0x572a54,document[_0x45bdc4(0x437)](_0x45bdc4(0x21e))['querySelector']('h3')['textContent']='ยืนยันการกระทำ',confirmAction=_0x3e505a,confirmationModal[_0x45bdc4(0x49a)][_0x45bdc4(0x355)](_0x45bdc4(0x534));}function listenForProjects(){const _0x52df76=_0x483b09,_0x196f80=doc(db,_0x52df76(0x2d9),_0x52df76(0x317));onSnapshot(_0x196f80,_0x257ea2=>{const _0x18a77f=_0x52df76;if(_0x257ea2[_0x18a77f(0x830)]()){const _0x302117=_0x257ea2[_0x18a77f(0x6cb)]();globalDashboardSettings['projectSort']=_0x302117[_0x18a77f(0x4bd)]||'date_desc',globalDashboardSettings[_0x18a77f(0x337)]=_0x302117['pinnedProjects']||[],globalDashboardSettings[_0x18a77f(0x487)]=_0x302117['projectOrder']||[];}allProjects[_0x18a77f(0x1d7)]>0x0&&renderProjects();});const _0x210217=collection(db,_0x52df76(0x868)+appId+_0x52df76(0x23d));unsubscribeProjectsListener=onSnapshot(_0x210217,_0x410c22=>{const _0x335bd1=_0x52df76;allProjects=_0x410c22[_0x335bd1(0x714)][_0x335bd1(0x530)](_0xdbf95c=>({'id':_0xdbf95c['id'],..._0xdbf95c[_0x335bd1(0x6cb)]()})),renderProjects();},_0x359ca9=>{const _0x23beea=_0x52df76;console[_0x23beea(0x8cc)](_0x23beea(0x23c),_0x359ca9),showMessage(_0x23beea(0x1e0));});}function showColorPalette(_0x293ed5,_0x2042ec){const _0x45946b=_0x483b09;document[_0x45946b(0x442)](_0x45946b(0x82e))[_0x45946b(0x4ec)](_0x1d41a0=>_0x1d41a0[_0x45946b(0x355)]());const _0x247bcd=['#FFFFFF',_0x45946b(0x26e),_0x45946b(0x4bf),_0x45946b(0x803),_0x45946b(0x4e1),_0x45946b(0x1db),_0x45946b(0x3d4),_0x45946b(0x705),'#E5E7EB'],_0x59179b=document[_0x45946b(0x5c1)](_0x45946b(0x786));_0x59179b[_0x45946b(0x601)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x247bcd[_0x45946b(0x4ec)](_0x57bf0c=>{const _0x517f65=_0x45946b,_0x49b67c=document[_0x517f65(0x5c1)](_0x517f65(0x786));_0x49b67c['className']=_0x517f65(0x90f),_0x49b67c[_0x517f65(0x1f1)]['backgroundColor']=_0x57bf0c,_0x49b67c['addEventListener'](_0x517f65(0x5ff),()=>{const _0x37b1ae=_0x517f65;handleProjectColorChange(_0x2042ec,_0x57bf0c),_0x59179b[_0x37b1ae(0x355)]();}),_0x59179b['appendChild'](_0x49b67c);}),document[_0x45946b(0x404)][_0x45946b(0x8f9)](_0x59179b);const _0x33d646=_0x293ed5[_0x45946b(0x27c)]();_0x59179b[_0x45946b(0x1f1)]['top']=_0x33d646[_0x45946b(0x424)]+window[_0x45946b(0x520)]+'px',_0x59179b['style'][_0x45946b(0x302)]=_0x33d646['left']+window[_0x45946b(0x84e)]-_0x59179b['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x227f80,_0x6afd22){const _0x1a852c=_0x483b09,_0x179d95=doc(db,_0x1a852c(0x868)+appId+_0x1a852c(0x23d),_0x227f80);try{await updateDoc(_0x179d95,{'color':_0x6afd22});}catch(_0x60e6ba){console[_0x1a852c(0x8cc)](_0x1a852c(0x414),_0x60e6ba),showMessage(_0x1a852c(0x48f));}}async function renderProjects(){const _0x41949a=_0x483b09,_0x66d955=globalDashboardSettings['projectSort']||_0x41949a(0x930),_0x364a20=new Set(globalDashboardSettings[_0x41949a(0x337)]||[]),_0x637ca8=globalDashboardSettings[_0x41949a(0x500)]||_0x41949a(0x505),_0x862b3e=document[_0x41949a(0x437)]('grid-view-btn'),_0x3809b8=document[_0x41949a(0x437)](_0x41949a(0x651));_0x862b3e[_0x41949a(0x49a)][_0x41949a(0x238)](_0x41949a(0x25e),_0x637ca8===_0x41949a(0x505)),_0x3809b8[_0x41949a(0x49a)][_0x41949a(0x238)](_0x41949a(0x25e),_0x637ca8===_0x41949a(0x2aa)),document[_0x41949a(0x437)](_0x41949a(0x90b))[_0x41949a(0x8b5)]=_0x66d955;const _0x4d1f80=document[_0x41949a(0x437)](_0x41949a(0x429))['value']['toLowerCase']();let _0x35c637=allProjects['filter'](_0x5a91ac=>_0x5a91ac[_0x41949a(0x7d4)][_0x41949a(0x369)]()[_0x41949a(0x806)](_0x4d1f80));const _0xd8c117=_0x35c637['filter'](_0x1fe9e8=>_0x364a20[_0x41949a(0x27a)](_0x1fe9e8['id'])),_0x3c1782=_0x35c637[_0x41949a(0x72a)](_0x54b5c4=>!_0x364a20[_0x41949a(0x27a)](_0x54b5c4['id'])),_0x5ce048=(_0x508352,_0x7a514)=>{const _0x530e19=_0x41949a;switch(_0x66d955){case _0x530e19(0x5b0):return _0x508352[_0x530e19(0x7d4)][_0x530e19(0x325)](_0x7a514[_0x530e19(0x7d4)],'th');case _0x530e19(0x809):return _0x7a514[_0x530e19(0x7d4)][_0x530e19(0x325)](_0x508352[_0x530e19(0x7d4)],'th');case _0x530e19(0x5d9):return new Date(_0x508352[_0x530e19(0x767)])-new Date(_0x7a514[_0x530e19(0x767)]);default:return new Date(_0x7a514['createdAt'])-new Date(_0x508352[_0x530e19(0x767)]);}};_0xd8c117[_0x41949a(0x205)](_0x5ce048),_0x3c1782[_0x41949a(0x205)](_0x5ce048);const _0x21da0c=[..._0xd8c117,..._0x3c1782],_0x265180=globalDashboardSettings[_0x41949a(0x487)]||[];_0x265180[_0x41949a(0x1d7)]>0x0&&_0x637ca8===_0x41949a(0x505)&&_0x21da0c[_0x41949a(0x205)]((_0x58d336,_0x34b445)=>{const _0x2e6ab9=_0x41949a,_0x643b4e=_0x265180['indexOf'](_0x58d336['id']),_0x572b28=_0x265180[_0x2e6ab9(0x2fc)](_0x34b445['id']);if(_0x643b4e===-0x1)return 0x1;if(_0x572b28===-0x1)return-0x1;return _0x643b4e-_0x572b28;});const _0x10845a={};await Promise[_0x41949a(0x4ee)](_0x21da0c['map'](async _0x571b56=>{const _0xea9c3d=_0x41949a,_0x5d2408=query(collection(db,_0xea9c3d(0x868)+appId+'/public/data/quizzes'),where('projectId','==',_0x571b56['id'])),_0x837a10=await getDocs(_0x5d2408);_0x10845a[_0x571b56['id']]=_0x837a10[_0xea9c3d(0x648)];}));const _0x2f1ea8=document['getElementById']('project-list');let _0x5c1891='';if(_0x637ca8===_0x41949a(0x505)){_0x2f1ea8[_0x41949a(0x601)]=_0x41949a(0x5ce);if(starredQuizzes[_0x41949a(0x1d7)]>0x0&&_0x4d1f80===''){const _0x3be98d=starredQuizzes[_0x41949a(0x530)](_0x361961=>{const _0x3716b5=_0x41949a,_0x3e42dc=allProjects[_0x3716b5(0x413)](_0x1bdaa1=>_0x1bdaa1['id']===_0x361961['projectId']);return{..._0x361961,'projectName':_0x3e42dc?_0x3e42dc[_0x3716b5(0x7d4)]:_0x3716b5(0x922)};});_0x5c1891+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3be98d[_0x41949a(0x530)](_0x123fb5=>_0x41949a(0x7fc)+_0x123fb5[_0x41949a(0x624)]+'\x22>'+_0x123fb5[_0x41949a(0x624)]+_0x41949a(0x2e4)+_0x123fb5['projectName']+_0x41949a(0x50e)+_0x123fb5[_0x41949a(0x7d4)]+_0x41949a(0x85e))['join']('')+_0x41949a(0x78f)+starredQuizzes[_0x41949a(0x1d7)]+_0x41949a(0x727);}_0x21da0c[_0x41949a(0x4ec)](_0x21918e=>{const _0x4d4e7a=_0x41949a,_0x3c4028=_0x10845a[_0x21918e['id']]??0x0,_0x2955a1=_0x364a20[_0x4d4e7a(0x27a)](_0x21918e['id']),_0x1d1a46=_0x21918e[_0x4d4e7a(0x261)]||_0x4d4e7a(0x349),_0x19e47a=parseInt(_0x1d1a46[_0x4d4e7a(0x8fb)](0x1,0x3),0x10)*0.299+parseInt(_0x1d1a46[_0x4d4e7a(0x8fb)](0x3,0x5),0x10)*0.587+parseInt(_0x1d1a46[_0x4d4e7a(0x8fb)](0x5,0x7),0x10)*0.114<0xba,_0x5d7435=_0x19e47a?_0x4d4e7a(0x762):_0x4d4e7a(0x420),_0x2fe1b9=_0x19e47a?'text-gray-200':'text-gray-500';_0x5c1891+=_0x4d4e7a(0x935)+(_0x2955a1?_0x4d4e7a(0x279):'border-gray-200')+_0x4d4e7a(0x83a)+_0x1d1a46+_0x4d4e7a(0x8ac)+_0x21918e['id']+_0x4d4e7a(0x836)+_0x21918e['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x19e47a?_0x4d4e7a(0x3bf):'text-gray-400\x20hover:text-indigo-600')+_0x4d4e7a(0x49c)+_0x21918e['id']+_0x4d4e7a(0x39e)+(_0x19e47a?_0x4d4e7a(0x3bf):_0x4d4e7a(0x5db))+_0x4d4e7a(0x519)+(_0x2955a1?_0x19e47a?'text-yellow-300':_0x4d4e7a(0x2b3):'')+_0x4d4e7a(0x398)+_0x21918e['id']+_0x4d4e7a(0x292)+_0x5d7435+_0x4d4e7a(0x3a3)+_0x21918e['projectName']+_0x4d4e7a(0x228)+_0x2fe1b9+_0x4d4e7a(0x3cf)+new Date(_0x21918e['createdAt'])[_0x4d4e7a(0x396)](_0x4d4e7a(0x6a5))+_0x4d4e7a(0x91b)+(_0x19e47a?'text-gray-100':'text-gray-700')+_0x4d4e7a(0x489)+_0x3c4028+_0x4d4e7a(0x1fd)+_0x21918e['id']+_0x4d4e7a(0x7dc)+_0x21918e['projectName']+_0x4d4e7a(0x821)+(_0x19e47a?'text-red-300\x20hover:text-red-100':'text-red-500\x20hover:text-red-700')+_0x4d4e7a(0x6c8);});}else _0x2f1ea8[_0x41949a(0x601)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x41949a(0x1d7)]>0x0&&_0x4d1f80===''&&(_0x5c1891+=_0x41949a(0x64e)+starredQuizzes[_0x41949a(0x1d7)]+_0x41949a(0x702)),_0x5c1891+=_0x41949a(0x88d),_0x21da0c[_0x41949a(0x4ec)](_0x13238a=>{const _0x68e369=_0x41949a,_0x491a28=_0x10845a[_0x13238a['id']]??0x0,_0x5c52bd=_0x364a20[_0x68e369(0x27a)](_0x13238a['id']);_0x5c1891+=_0x68e369(0x568)+(_0x13238a['color']||_0x68e369(0x573))+_0x68e369(0x818)+_0x13238a['id']+_0x68e369(0x6c0)+_0x13238a[_0x68e369(0x7d4)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x491a28+_0x68e369(0x774)+new Date(_0x13238a['createdAt'])[_0x68e369(0x616)]('th-TH')+_0x68e369(0x36b)+_0x13238a['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x5c52bd?_0x68e369(0x2b3):'')+_0x68e369(0x20e)+_0x13238a['id']+_0x68e369(0x7dc)+_0x13238a[_0x68e369(0x7d4)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList['innerHTML']=_0x5c1891,noProjectsMsg['classList']['toggle'](_0x41949a(0x534),_0x5c1891[_0x41949a(0x1d7)]>0x0);}document[_0x483b09(0x437)](_0x483b09(0x528))['addEventListener']('click',async()=>{const _0x1bc643=_0x483b09,_0x31125b=document['getElementById']('project-name-input'),_0x3e8da1=_0x31125b[_0x1bc643(0x8b5)][_0x1bc643(0x8ad)]();if(!_0x3e8da1){showMessage(_0x1bc643(0x4d0));return;}try{const _0x2e3320=doc(collection(db,_0x1bc643(0x868)+appId+_0x1bc643(0x23d)));await setDoc(_0x2e3320,{'projectName':_0x3e8da1,'students':[],'settings':{'resultsDisplay':_0x1bc643(0x1f8),'shuffleSetting':_0x1bc643(0x728),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x1bc643(0x728),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x1bc643(0x4cf)]()}),_0x31125b[_0x1bc643(0x8b5)]='',createProjectModal[_0x1bc643(0x49a)]['add']('hidden'),showMessage(_0x1bc643(0x1d4));}catch(_0x4d5a75){console[_0x1bc643(0x8cc)]('Error\x20creating\x20project:',_0x4d5a75),showMessage(_0x1bc643(0x285));}}),projectList[_0x483b09(0x6b1)](_0x483b09(0x5ff),async _0x40f10a=>{const _0x205f4c=_0x483b09,_0x33f7c7=_0x40f10a[_0x205f4c(0x4de)][_0x205f4c(0x32e)](_0x205f4c(0x68d)),_0x18003d=_0x40f10a[_0x205f4c(0x4de)][_0x205f4c(0x32e)](_0x205f4c(0x298)),_0x4360cb=_0x40f10a[_0x205f4c(0x4de)][_0x205f4c(0x32e)](_0x205f4c(0x458)),_0x2bfb05=_0x40f10a['target'][_0x205f4c(0x32e)](_0x205f4c(0x24b));if(_0x4360cb){const _0x1c5914=_0x4360cb[_0x205f4c(0x8c8)]['id'],_0x35d3f9=doc(db,'globalSettings','dashboardConfig'),_0x1ba254=globalDashboardSettings[_0x205f4c(0x337)];let _0x370dc3;_0x1ba254[_0x205f4c(0x806)](_0x1c5914)?_0x370dc3=_0x1ba254[_0x205f4c(0x72a)](_0x335ba2=>_0x335ba2!==_0x1c5914):_0x370dc3=[..._0x1ba254,_0x1c5914];try{await setDoc(_0x35d3f9,{'pinnedProjects':_0x370dc3},{'merge':!![]});}catch(_0x121279){console[_0x205f4c(0x8cc)](_0x205f4c(0x777),_0x121279),showMessage(_0x205f4c(0x5a8));}}else{if(_0x2bfb05){const _0x25164f=_0x2bfb05[_0x205f4c(0x8c8)]['id'];showColorPalette(_0x2bfb05,_0x25164f);}else{if(_0x33f7c7){const _0x5d23c0=_0x33f7c7[_0x205f4c(0x8c8)]['id'];_0x5d23c0===_0x205f4c(0x76a)?showStarredProjectView():(currentProjectId=_0x5d23c0,await loadProjectDetails(currentProjectId),showView(_0x205f4c(0x542)));}else{if(_0x18003d){const _0x1d0b81=_0x18003d[_0x205f4c(0x8c8)]['id'],_0x4cf474=_0x18003d['dataset'][_0x205f4c(0x884)];showConfirmation(_0x205f4c(0x794)+_0x4cf474+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x1d0b81));}}}}}),projectList[_0x483b09(0x6b1)](_0x483b09(0x350),_0x568812=>{const _0x3cfb5c=_0x483b09,_0x51f806=_0x568812[_0x3cfb5c(0x4de)][_0x3cfb5c(0x32e)]('.project-card-container');_0x51f806&&_0x51f806[_0x3cfb5c(0x49a)]['add'](_0x3cfb5c(0x907));}),projectList[_0x483b09(0x6b1)](_0x483b09(0x700),_0x8d8130=>{const _0x1073ec=_0x483b09,_0x2563ee=_0x8d8130['target'][_0x1073ec(0x32e)](_0x1073ec(0x28d));_0x2563ee&&_0x2563ee[_0x1073ec(0x49a)][_0x1073ec(0x355)](_0x1073ec(0x907));}),projectList[_0x483b09(0x6b1)]('dragover',_0x29d3ab=>{const _0x432a33=_0x483b09;_0x29d3ab[_0x432a33(0x5b2)]();const _0x4c996e=document['querySelector'](_0x432a33(0x2b2));if(!_0x4c996e)return;const _0x277b1e=getDragAfterElement(projectList,_0x29d3ab[_0x432a33(0x51c)]);_0x277b1e==null?projectList['appendChild'](_0x4c996e):projectList[_0x432a33(0x30f)](_0x4c996e,_0x277b1e);}),projectList[_0x483b09(0x6b1)](_0x483b09(0x2ef),_0x531550=>{const _0x5c337d=_0x483b09;_0x531550['preventDefault']();const _0x12aa50=[...projectList[_0x5c337d(0x442)]('.project-card-container[data-id]')][_0x5c337d(0x530)](_0x368d20=>_0x368d20[_0x5c337d(0x8c8)]['id']);saveProjectOrder(_0x12aa50);});function renderBehaviorLog(_0x441122){const _0xa43075=_0x483b09,_0x533614=document[_0xa43075(0x437)]('behavior-log-container');if(!_0x533614)return;const _0x1ba966=_0x441122[_0xa43075(0x72a)](_0xa2924a=>_0xa2924a[_0xa43075(0x75b)]&&_0xa2924a[_0xa43075(0x75b)]['length']>0x0);if(_0x1ba966[_0xa43075(0x1d7)]===0x0){_0x533614[_0xa43075(0x676)]=_0xa43075(0x273);return;}let _0x4a751a='';_0x1ba966[_0xa43075(0x4ec)](_0x3dfc9e=>{const _0x46bd62=_0xa43075;_0x4a751a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x3dfc9e[_0x46bd62(0x5c0)]+_0x46bd62(0x85b),_0x3dfc9e[_0x46bd62(0x75b)][_0x46bd62(0x205)]((_0x24105e,_0x5136be)=>new Date(_0x5136be[_0x46bd62(0x885)])-new Date(_0x24105e[_0x46bd62(0x885)]))[_0x46bd62(0x4ec)](_0xeb7224=>{const _0x20d7d8=_0x46bd62,_0x5cb7f6=new Date(_0xeb7224['timestamp'])[_0x20d7d8(0x616)](_0x20d7d8(0x6a5),{'dateStyle':_0x20d7d8(0x6d1),'timeStyle':_0x20d7d8(0x74b)});_0x4a751a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0xeb7224[_0x20d7d8(0x484)]+_0x20d7d8(0x81b)+_0x5cb7f6+_0x20d7d8(0x713);}),_0x4a751a+=_0x46bd62(0x858);}),_0x533614[_0xa43075(0x676)]=_0x4a751a;}function getDragAfterElement(_0xc26921,_0x4954ea){const _0x2fcb21=_0x483b09,_0x273d9b=[..._0xc26921['querySelectorAll'](_0x2fcb21(0x716))];return _0x273d9b['reduce']((_0x1ea062,_0x19930e)=>{const _0x74224a=_0x2fcb21,_0x3b419c=_0x19930e['getBoundingClientRect'](),_0xa21184=_0x4954ea-_0x3b419c[_0x74224a(0x621)]-_0x3b419c[_0x74224a(0x8e7)]/0x2;return _0xa21184<0x0&&_0xa21184>_0x1ea062[_0x74224a(0x27e)]?{'offset':_0xa21184,'element':_0x19930e}:_0x1ea062;},{'offset':Number['NEGATIVE_INFINITY']})['element'];}async function saveProjectOrder(_0x4b193a){const _0x5f247e=_0x483b09,_0x2435cf=doc(db,'globalSettings',_0x5f247e(0x317));try{await setDoc(_0x2435cf,{'projectOrder':_0x4b193a},{'merge':!![]});}catch(_0x5d9303){console[_0x5f247e(0x8cc)](_0x5f247e(0x230),_0x5d9303),showMessage(_0x5f247e(0x64b));}}async function logBehaviorEvent(_0xf4bde2,_0x3f26e6={}){const _0x425599=_0x483b09;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x425599(0x6ae));return;}const _0x1993bf=doc(db,_0x425599(0x868)+appId+_0x425599(0x8ab)+currentQuizData['id']+_0x425599(0x225),currentStudentName),_0x1e6a5d={'event':_0xf4bde2,'timestamp':new Date()['toISOString'](),..._0x3f26e6};try{await setDoc(_0x1993bf,{'behaviorLog':arrayUnion(_0x1e6a5d)},{'merge':!![]}),console[_0x425599(0x2e3)]('บันทึกพฤติกรรมสำหรับ\x20'+currentStudentName+'\x20สำเร็จ:\x20'+_0xf4bde2);}catch(_0x40554c){console[_0x425599(0x8cc)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x40554c);}}function calculateMeanAndStdDev(_0x56ccaf){const _0x2ac00a=_0x483b09;if(_0x56ccaf['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x13b4ad=_0x56ccaf['reduce']((_0x2060d1,_0x256246)=>_0x2060d1+_0x256246,0x0)/_0x56ccaf[_0x2ac00a(0x1d7)];if(_0x56ccaf['length']===0x1)return{'mean':_0x13b4ad,'stdDev':0x0};const _0x34f74f=Math[_0x2ac00a(0x7e2)](_0x56ccaf[_0x2ac00a(0x530)](_0x97143b=>Math['pow'](_0x97143b-_0x13b4ad,0x2))[_0x2ac00a(0x4fe)]((_0x353ddc,_0x16c128)=>_0x353ddc+_0x16c128,0x0)/(_0x56ccaf[_0x2ac00a(0x1d7)]-0x1));return{'mean':_0x13b4ad,'stdDev':_0x34f74f};}function calculateZScore(_0x1f6a53,_0x220e43,_0x28b147){if(_0x28b147===0x0)return 0x0;return(_0x1f6a53-_0x220e43)/_0x28b147;}function calculateTScore(_0x5a82ab){return 0xa*_0x5a82ab+0x32;}function showStarredProjectView(){const _0x39af63=_0x483b09;currentProjectId=_0x39af63(0x3ab),currentProjectData=null,projectTitle['textContent']=_0x39af63(0x3c3),projectIdDisplay['textContent']=_0x39af63(0x4e5),showView(_0x39af63(0x542)),manageTab['classList'][_0x39af63(0x3ba)](_0x39af63(0x534)),leaderboardTab[_0x39af63(0x49a)][_0x39af63(0x3ba)](_0x39af63(0x534)),switchProjectTab(_0x39af63(0x446)),renderQuizzes();}async function loadProjectDetails(_0x288195){const _0x1fe8df=_0x483b09,_0x5ed796=doc(db,'artifacts/'+appId+_0x1fe8df(0x23d),_0x288195),_0x3957eb=await getDoc(_0x5ed796);if(_0x3957eb['exists']()){manageTab[_0x1fe8df(0x49a)]['remove']('hidden'),leaderboardTab[_0x1fe8df(0x49a)][_0x1fe8df(0x355)](_0x1fe8df(0x534)),currentProjectData=_0x3957eb[_0x1fe8df(0x6cb)](),projectTitle[_0x1fe8df(0x2dd)]=currentProjectData['projectName'],projectIdDisplay[_0x1fe8df(0x2dd)]=_0x288195;const _0x16dcc7=currentProjectData['settings']||{};document[_0x1fe8df(0x437)](_0x1fe8df(0x559))[_0x1fe8df(0x8b5)]=_0x16dcc7[_0x1fe8df(0x2b1)]||'none';const _0x5e7d79=document[_0x1fe8df(0x437)]('show-in-student-dashboard-checkbox');_0x5e7d79[_0x1fe8df(0x6b5)]=_0x16dcc7['showInStudentDashboard']!==![];const _0x434c0a=document[_0x1fe8df(0x437)](_0x1fe8df(0x5f5)),_0x18849c=document['getElementById'](_0x1fe8df(0x738)),_0x121e9b=document[_0x1fe8df(0x437)]('project-passcode-input'),_0x422802=_0x16dcc7[_0x1fe8df(0x686)]||![];_0x434c0a[_0x1fe8df(0x6b5)]=_0x422802,_0x121e9b[_0x1fe8df(0x8b5)]=_0x16dcc7[_0x1fe8df(0x743)]||'',_0x18849c['classList'][_0x1fe8df(0x238)](_0x1fe8df(0x534),!_0x422802),_0x434c0a['onchange']=()=>{const _0x168a7b=_0x1fe8df;_0x18849c['classList'][_0x168a7b(0x238)](_0x168a7b(0x534),!_0x434c0a[_0x168a7b(0x6b5)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x288195),listenForProjectQuizzes(_0x288195),listenForStudentProfiles(_0x288195);}else showMessage(_0x1fe8df(0x6bc)),showView(_0x1fe8df(0x683));}async function handleResetProjectOrder(){const _0x3330b7=_0x483b09,_0x806e3d=doc(db,_0x3330b7(0x2d9),_0x3330b7(0x317));try{await setDoc(_0x806e3d,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x3330b7(0x229));}catch(_0xc09691){console[_0x3330b7(0x8cc)]('Error\x20resetting\x20project\x20order:',_0xc09691),showMessage(_0x3330b7(0x449));}}async function handleTogglePinProject(_0x5b2f2b){const _0x18a884=_0x483b09;if(!_0x5b2f2b)return;const _0x2be536=doc(db,_0x18a884(0x868)+appId+_0x18a884(0x23d),_0x5b2f2b);try{const _0xab6a9d=await getDoc(_0x2be536);if(_0xab6a9d['exists']()){const _0x57438f=_0xab6a9d[_0x18a884(0x6cb)]()[_0x18a884(0x8b4)]||![];await updateDoc(_0x2be536,{'isPinned':!_0x57438f});}}catch(_0x167368){console[_0x18a884(0x8cc)]('Error\x20toggling\x20pin\x20status:',_0x167368),showMessage(_0x18a884(0x5a8));}}async function handleDeleteProject(_0x50106c){const _0x3999e8=_0x483b09;try{const _0x4c8af7=writeBatch(db),_0x24975b=collection(db,_0x3999e8(0x868)+appId+'/public/data/quizzes'),_0x5a40e6=query(_0x24975b,where(_0x3999e8(0x52f),'==',_0x50106c)),_0x7f71f1=await getDocs(_0x5a40e6);for(const _0x36cf1b of _0x7f71f1[_0x3999e8(0x714)]){const _0x594a38=collection(db,_0x3999e8(0x868)+appId+_0x3999e8(0x8ab)+_0x36cf1b['id']+_0x3999e8(0x225)),_0x4d4b89=await getDocs(_0x594a38);_0x4d4b89[_0x3999e8(0x4ec)](_0x2322f7=>{const _0x212117=_0x3999e8;_0x4c8af7[_0x212117(0x802)](_0x2322f7['ref']);}),_0x4c8af7[_0x3999e8(0x802)](_0x36cf1b['ref']);}const _0x4bbc3e=collection(db,_0x3999e8(0x868)+appId+'/public/data/projects/'+_0x50106c+_0x3999e8(0x1f6)),_0xb982ac=await getDocs(_0x4bbc3e);_0xb982ac[_0x3999e8(0x4ec)](_0x394b98=>{const _0x43d1bc=_0x3999e8;_0x4c8af7[_0x43d1bc(0x802)](_0x394b98[_0x43d1bc(0x7b0)]);});const _0x218fdb=doc(db,_0x3999e8(0x868)+appId+_0x3999e8(0x23d),_0x50106c);_0x4c8af7[_0x3999e8(0x802)](_0x218fdb),await _0x4c8af7[_0x3999e8(0x4db)](),showMessage(_0x3999e8(0x917)),showView('admin-dashboard');}catch(_0x38c88d){console[_0x3999e8(0x8cc)](_0x3999e8(0x37c),_0x38c88d),showMessage(_0x3999e8(0x6e4));}}document[_0x483b09(0x437)](_0x483b09(0x5a4))['addEventListener'](_0x483b09(0x5ff),async()=>{const _0x8cbd86=_0x483b09;if(!currentProjectId)return;const _0x1256bc={'defaultNumQuestions':parseInt(document['getElementById'](_0x8cbd86(0x309))[_0x8cbd86(0x8b5)]),'defaultNumChoices':parseInt(document[_0x8cbd86(0x437)](_0x8cbd86(0x3f6))['value']),'defaultPassingScore':parseInt(document[_0x8cbd86(0x437)](_0x8cbd86(0x673))[_0x8cbd86(0x8b5)]),'resultsDisplay':document[_0x8cbd86(0x437)]('results-display-select')[_0x8cbd86(0x8b5)],'shuffleSetting':document[_0x8cbd86(0x437)](_0x8cbd86(0x559))['value'],'timerMode':document[_0x8cbd86(0x437)](_0x8cbd86(0x403))[_0x8cbd86(0x8b5)],'timerDuration':parseInt(document[_0x8cbd86(0x437)]('timer-duration-input')[_0x8cbd86(0x8b5)])};try{const _0x98d842=doc(db,_0x8cbd86(0x868)+appId+_0x8cbd86(0x23d),currentProjectId);await updateDoc(_0x98d842,{'settings':_0x1256bc}),showMessage(_0x8cbd86(0x8e3));}catch(_0x51757f){console[_0x8cbd86(0x8cc)](_0x8cbd86(0x462),_0x51757f),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x41cf18){const _0x23a9cc=_0x483b09,_0x21f55e=doc(db,_0x23a9cc(0x868)+appId+'/public/data/projects',_0x41cf18);unsubscribeStudentsListener=onSnapshot(_0x21f55e,_0x53728f=>{const _0x944854=_0x23a9cc;if(_0x53728f[_0x944854(0x830)]()){const _0xea58d1=_0x53728f[_0x944854(0x6cb)]();currentProjectData=_0xea58d1,renderStudentList(_0xea58d1[_0x944854(0x71b)]||[]);}});}function renderStudentList(_0x1f1d5f){const _0x5b871c=_0x483b09,_0x256044=document['getElementById']('delete-all-students-btn');_0x1f1d5f[_0x5b871c(0x1d7)]===0x0?(studentList[_0x5b871c(0x676)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x256044['classList'][_0x5b871c(0x3ba)](_0x5b871c(0x534))):(studentList['innerHTML']=_0x1f1d5f[_0x5b871c(0x530)](_0x4a6014=>_0x5b871c(0x5e9)+_0x4a6014+_0x5b871c(0x6cc)+_0x4a6014+_0x5b871c(0x55d))[_0x5b871c(0x939)](''),_0x256044['classList'][_0x5b871c(0x355)](_0x5b871c(0x534)));}document[_0x483b09(0x437)](_0x483b09(0x659))[_0x483b09(0x6b1)]('click',async()=>{const _0x30daac=_0x483b09;if(!currentProjectId)return;const _0x1b33fe=document[_0x30daac(0x437)](_0x30daac(0x4cd)),_0x407ebb=_0x1b33fe[_0x30daac(0x8b5)][_0x30daac(0x8ad)]();if(!_0x407ebb){showMessage(_0x30daac(0x86b));return;}const _0xcfb5e9=_0x407ebb[_0x30daac(0x514)]('\x0a')[_0x30daac(0x530)](_0x104969=>_0x104969[_0x30daac(0x8ad)]())[_0x30daac(0x72a)](_0x1d7f00=>_0x1d7f00);if(_0xcfb5e9[_0x30daac(0x1d7)]===0x0)return;try{const _0xaeb65b=doc(db,'artifacts/'+appId+_0x30daac(0x23d),currentProjectId),_0x28b506=await getDoc(_0xaeb65b);if(_0x28b506[_0x30daac(0x830)]()){const _0x257d30=_0x28b506[_0x30daac(0x6cb)]()[_0x30daac(0x71b)]||[],_0x1f5805=[...new Set([..._0x257d30,..._0xcfb5e9])];await updateDoc(_0xaeb65b,{'students':_0x1f5805}),_0x1b33fe['value']='';}}catch(_0x11129b){console[_0x30daac(0x8cc)]('Error\x20adding\x20students:',_0x11129b),showMessage(_0x30daac(0x78a));}});async function handleManualQuizPairing(_0xafc1be){const _0x3c70b3=_0x483b09,_0x502288=document['getElementById'](_0x3c70b3(0x808)),_0x3f479d=document['getElementById'](_0x3c70b3(0x77d)),_0x3a1a65=_0x502288['querySelector']('h3'),_0x1e4c67=document['getElementById']('confirm-move-quiz-btn'),_0x203224=document[_0x3c70b3(0x437)](_0x3c70b3(0x6bf));_0x3a1a65[_0x3c70b3(0x2dd)]=_0x3c70b3(0x47d),_0x3f479d[_0x3c70b3(0x676)]=_0x3c70b3(0x32b),_0x1e4c67['textContent']=_0x3c70b3(0x52c),_0x502288[_0x3c70b3(0x49a)]['remove'](_0x3c70b3(0x534));const _0xf4e15b=allQuizzes[_0x3c70b3(0x72a)](_0x5a1088=>_0x5a1088['id']!==_0xafc1be);_0xf4e15b['length']===0x0?(_0x3f479d['innerHTML']='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x1e4c67['disabled']=!![]):(_0x3f479d['innerHTML']=_0x3c70b3(0x4c5)+_0xf4e15b[_0x3c70b3(0x530)](_0x221f4c=>_0x3c70b3(0x7f0)+_0x221f4c['id']+'\x22>'+_0x221f4c[_0x3c70b3(0x624)]+_0x3c70b3(0x721))[_0x3c70b3(0x939)](''),_0x1e4c67['disabled']=![]);const _0x2dd21d=async()=>{const _0x3ef68d=_0x3c70b3,_0x1fbf64=_0x3f479d[_0x3ef68d(0x8b5)];if(!_0x1fbf64){showMessage(_0x3ef68d(0x42b));return;}_0x1e4c67['disabled']=!![],_0x1e4c67[_0x3ef68d(0x2dd)]='กำลังจับคู่...';try{const _0x597bca=doc(db,_0x3ef68d(0x868)+appId+_0x3ef68d(0x4e7),_0xafc1be),_0x307016=doc(db,'artifacts/'+appId+_0x3ef68d(0x4e7),_0x1fbf64),_0x23a62f=writeBatch(db);_0x23a62f['update'](_0x597bca,{'pairedQuizId':_0x1fbf64}),_0x23a62f['update'](_0x307016,{'pairedQuizId':_0xafc1be}),await _0x23a62f[_0x3ef68d(0x4db)](),showMessage(_0x3ef68d(0x4ac)),_0x502288[_0x3ef68d(0x49a)][_0x3ef68d(0x3ba)](_0x3ef68d(0x534));}catch(_0x5791ff){console['error']('Error\x20pairing\x20quizzes:',_0x5791ff),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x3a1a65[_0x3ef68d(0x2dd)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x1e4c67['textContent']=_0x3ef68d(0x877),_0x1e4c67[_0x3ef68d(0x766)]=![],_0x1e4c67[_0x3ef68d(0x3fe)](_0x3ef68d(0x5ff),_0x2dd21d),_0x203224[_0x3ef68d(0x3fe)](_0x3ef68d(0x5ff),_0x5d788c);}},_0x5d788c=()=>{const _0x4842b3=_0x3c70b3;_0x502288[_0x4842b3(0x49a)]['add'](_0x4842b3(0x534)),_0x3a1a65['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x1e4c67['textContent']='ย้าย',_0x1e4c67[_0x4842b3(0x3fe)](_0x4842b3(0x5ff),_0x2dd21d),_0x203224[_0x4842b3(0x3fe)](_0x4842b3(0x5ff),_0x5d788c);};_0x1e4c67[_0x3c70b3(0x6b1)](_0x3c70b3(0x5ff),_0x2dd21d),_0x203224['addEventListener'](_0x3c70b3(0x5ff),_0x5d788c);}function handleDeleteStudent(_0x478d81){const _0x49ca2f=_0x483b09;showConfirmation(_0x49ca2f(0x6f9)+_0x478d81+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x12735e=_0x49ca2f;if(!currentProjectId||!currentProjectData)return;const _0x4d2871=currentProjectData[_0x12735e(0x71b)][_0x12735e(0x72a)](_0x3ca957=>_0x3ca957!==_0x478d81);try{const _0x1f6faa=doc(db,'artifacts/'+appId+_0x12735e(0x23d),currentProjectId),_0x392eda=doc(db,_0x12735e(0x868)+appId+_0x12735e(0x5df)+currentProjectId+_0x12735e(0x1f6),_0x478d81),_0x15e3be=writeBatch(db);_0x15e3be[_0x12735e(0x59a)](_0x1f6faa,{'students':_0x4d2871}),_0x15e3be[_0x12735e(0x802)](_0x392eda),await _0x15e3be[_0x12735e(0x4db)]();}catch(_0x33f467){console['error'](_0x12735e(0x848),_0x33f467),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x2851c5=_0x3cdb;if(!currentProjectId)return;try{const _0x375cf9=doc(db,_0x2851c5(0x868)+appId+_0x2851c5(0x23d),currentProjectId),_0x255575=collection(db,_0x2851c5(0x868)+appId+'/public/data/projects/'+currentProjectId+_0x2851c5(0x1f6)),_0x1be35e=await getDocs(_0x255575),_0x2fa15b=writeBatch(db);_0x2fa15b[_0x2851c5(0x59a)](_0x375cf9,{'students':[]}),_0x1be35e['forEach'](_0x5b99aa=>_0x2fa15b['delete'](_0x5b99aa[_0x2851c5(0x7b0)])),await _0x2fa15b['commit']();}catch(_0x417043){console['error'](_0x2851c5(0x482),_0x417043),showMessage(_0x2851c5(0x4f7));}});}async function handleGenerateFromFileClick(){const _0x457bca=_0x483b09;if(!selectedFile){showMessage(_0x457bca(0x662));return;}const _0x56e1f1=document[_0x457bca(0x437)](_0x457bca(0x1fa)),_0x84f405=document[_0x457bca(0x437)](_0x457bca(0x603)),_0x4efc75=document[_0x457bca(0x437)]('generated-quiz-container'),_0x3bea3c=document[_0x457bca(0x437)](_0x457bca(0x218));_0x3bea3c[_0x457bca(0x766)]=!![],document[_0x457bca(0x437)](_0x457bca(0x72f))[_0x457bca(0x49a)][_0x457bca(0x355)](_0x457bca(0x534)),_0x4efc75[_0x457bca(0x676)]='',_0x56e1f1[_0x457bca(0x49a)]['remove'](_0x457bca(0x534)),_0x84f405[_0x457bca(0x2dd)]=_0x457bca(0x4ab);const _0x3e5eb8=new FileReader();_0x3e5eb8[_0x457bca(0x294)](selectedFile),_0x3e5eb8['onload']=async()=>{const _0x271a77=_0x457bca;try{const _0x24b42a=_0x3e5eb8['result'][_0x271a77(0x514)](',')[0x1],_0x236d1f=selectedFile[_0x271a77(0x346)];await generateQuizFromFile(_0x236d1f,_0x24b42a);}catch(_0x17b95b){console[_0x271a77(0x8cc)](_0x271a77(0x33a),_0x17b95b),showMessage(_0x271a77(0x8d1)+_0x17b95b[_0x271a77(0x64f)]),_0x56e1f1['classList']['add']('hidden');}finally{}},_0x3e5eb8['onerror']=_0x1f6001=>{const _0x4e34c2=_0x457bca;console['error'](_0x4e34c2(0x4dd),_0x1f6001),showMessage(_0x4e34c2(0x305)),_0x56e1f1[_0x4e34c2(0x49a)]['add'](_0x4e34c2(0x534)),_0x3bea3c[_0x4e34c2(0x766)]=![];};}function autoFormatMath(_0x25d9a1){const _0x3de8e3=_0x483b09;if(typeof _0x25d9a1!==_0x3de8e3(0x35f)||!_0x25d9a1)return _0x25d9a1;const _0x519658=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x4a0719=_0x25d9a1['replace'](_0x519658,_0x4effe3=>{const _0x27e794=_0x3de8e3;return'$'+_0x4effe3[_0x27e794(0x8ad)]()+'$';});return _0x4a0719;}function sanitizeQuizData(_0x2a84ab){const _0xb545f1=_0x483b09;if(!_0x2a84ab||!_0x2a84ab[_0xb545f1(0x7f3)])return _0x2a84ab;const _0x716182={'imes':_0xb545f1(0x749),'div':_0xb545f1(0x52a)},_0x3f2e7e=_0xbca5f2=>{const _0xf917c7=_0xb545f1;if(typeof _0xbca5f2!==_0xf917c7(0x35f))return _0xbca5f2;let _0xdced1e=_0xbca5f2;for(const [_0xa95319,_0x51a0fa]of Object[_0xf917c7(0x8fc)](_0x716182)){const _0x30be5a=new RegExp('\x5cb'+_0xa95319+'\x5cb','g');_0xdced1e=_0xdced1e[_0xf917c7(0x78d)](_0x30be5a,_0x51a0fa);}return _0xdced1e=_0xdced1e[_0xf917c7(0x78d)](/\\\//g,_0xf917c7(0x52a)),_0xdced1e=_0xdced1e['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0xf917c7(0x52a))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0xf917c7(0x749))[_0xf917c7(0x78d)](/÷/g,_0xf917c7(0x52a))['replace'](/×/g,_0xf917c7(0x749)),_0xdced1e=_0xdced1e['replace'](/(\d)(\\frac)/g,_0xf917c7(0x3de)),_0xdced1e=autoFormatMath(_0xdced1e),_0xdced1e;};return _0x2a84ab['topic']&&(_0x2a84ab['topic']=_0x3f2e7e(_0x2a84ab[_0xb545f1(0x624)])),_0x2a84ab['questions'][_0xb545f1(0x4ec)](_0x286051=>{const _0x3afe4f=_0xb545f1;_0x286051['questionText']=_0x3f2e7e(_0x286051['questionText']),_0x286051[_0x3afe4f(0x2c8)]&&(_0x286051[_0x3afe4f(0x2c8)]=_0x286051['options'][_0x3afe4f(0x530)](_0x3f2e7e)),_0x286051[_0x3afe4f(0x86a)]&&(_0x286051[_0x3afe4f(0x86a)]=_0x3f2e7e(_0x286051[_0x3afe4f(0x86a)])),_0x286051[_0x3afe4f(0x509)]&&(_0x286051[_0x3afe4f(0x509)]=_0x3f2e7e(_0x286051[_0x3afe4f(0x509)])),_0x286051[_0x3afe4f(0x4d5)]&&(_0x286051['correctResponse']=_0x3f2e7e(_0x286051[_0x3afe4f(0x4d5)])),_0x286051['allResponses']&&(_0x286051[_0x3afe4f(0x501)]=_0x286051[_0x3afe4f(0x501)][_0x3afe4f(0x530)](_0x3f2e7e));}),_0x2a84ab;}const simpleMathPrompt=_0x483b09(0x78e);async function handleGenerateFromLink(){const _0x1b7359=_0x483b09,_0xac919=document[_0x1b7359(0x437)](_0x1b7359(0x92e)),_0x38f8f3=document[_0x1b7359(0x437)](_0x1b7359(0x759)),_0x4b3348=_0xac919[_0x1b7359(0x8b5)][_0x1b7359(0x8ad)](),_0xdf55e6=_0x38f8f3[_0x1b7359(0x8b5)]['trim']();if(!_0x4b3348){showMessage(_0x1b7359(0x5f7));return;}const _0x260680=document[_0x1b7359(0x437)]('loader'),_0x2f451c=document[_0x1b7359(0x437)](_0x1b7359(0x603)),_0x495a4b=document[_0x1b7359(0x437)]('generated-quiz-container'),_0x369646=document[_0x1b7359(0x437)]('generate-from-link-btn');document[_0x1b7359(0x437)]('quiz-generation-area')[_0x1b7359(0x49a)]['remove']('hidden'),_0x495a4b['innerHTML']='',_0x260680[_0x1b7359(0x49a)][_0x1b7359(0x355)](_0x1b7359(0x534)),_0x2f451c[_0x1b7359(0x2dd)]=_0x1b7359(0x5c8),_0x369646[_0x1b7359(0x766)]=!![];try{const _0x2d2485='https://corsproxy.io/?'+encodeURIComponent(_0x4b3348),_0x3097e1=await fetch(_0x2d2485);if(!_0x3097e1['ok'])throw new Error(_0x1b7359(0x2be)+_0x3097e1[_0x1b7359(0x647)]+')');const _0xae8690=await _0x3097e1[_0x1b7359(0x68b)](),_0x58c95c=extractTextFromHtml(_0xae8690);if(!_0x58c95c||_0x58c95c[_0x1b7359(0x1d7)]<0x64)throw new Error(_0x1b7359(0x8db));await generateQuiz(_0xdf55e6,_0x58c95c);}catch(_0x1ffa14){console['error']('Error\x20generating\x20from\x20link:',_0x1ffa14),showMessage(_0x1b7359(0x787)+_0x1ffa14[_0x1b7359(0x64f)]),_0x495a4b[_0x1b7359(0x676)]=_0x1b7359(0x31b);}finally{_0x260680[_0x1b7359(0x49a)][_0x1b7359(0x3ba)](_0x1b7359(0x534)),_0x369646[_0x1b7359(0x766)]=![];}}function extractTextFromHtml(_0x4a27c3){const _0x2a7d65=_0x483b09,_0x54decf=new DOMParser()[_0x2a7d65(0x866)](_0x4a27c3,_0x2a7d65(0x8bb));return _0x54decf[_0x2a7d65(0x442)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')['forEach'](_0x2bb5f8=>_0x2bb5f8[_0x2a7d65(0x355)]()),_0x54decf[_0x2a7d65(0x404)]['textContent']||'';}document[_0x483b09(0x437)]('generate-from-topic-btn')[_0x483b09(0x6b1)](_0x483b09(0x5ff),()=>{const _0x47ee72=_0x483b09,_0x29abeb=document[_0x47ee72(0x437)]('topic-input')[_0x47ee72(0x8b5)]['trim']();generateQuiz(_0x29abeb,null);}),document['getElementById'](_0x483b09(0x681))[_0x483b09(0x6b1)](_0x483b09(0x5ff),()=>{const _0x24e8a9=_0x483b09,_0x43efbd=document[_0x24e8a9(0x437)](_0x24e8a9(0x8cd))[_0x24e8a9(0x8b5)][_0x24e8a9(0x8ad)]();if(!_0x43efbd){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x11d476=document[_0x24e8a9(0x437)](_0x24e8a9(0x6ea))[_0x24e8a9(0x8b5)][_0x24e8a9(0x8ad)]();generateQuiz(_0x11d476,_0x43efbd);});async function generateQuiz(_0x256c64,_0x5f2d40,_0x15f7c0=null){const _0x265dae=_0x483b09,_0x2ba2fe=document[_0x265dae(0x437)]('include-images-checkbox')[_0x265dae(0x6b5)],_0x4a30d7=document[_0x265dae(0x437)](_0x265dae(0x6c1))[_0x265dae(0x8b5)],_0x3a52ed=document[_0x265dae(0x437)](_0x265dae(0x309))['value'],_0x2bc169=document['getElementById'](_0x265dae(0x3f6))[_0x265dae(0x8b5)],_0x516bdf=document[_0x265dae(0x437)](_0x265dae(0x7a4))[_0x265dae(0x6b5)],_0x593064=_0x516bdf?'':_0x265dae(0x1c7),_0x3c62da=document[_0x265dae(0x437)](_0x265dae(0x7d8)),_0x23a31c=_0x3c62da[_0x265dae(0x8b5)];let _0x522fee='';_0x23a31c!==_0x265dae(0x436)&&(_0x522fee=_0x265dae(0x3a5)+_0x23a31c+'\x22');const _0x6bce=document[_0x265dae(0x437)](_0x265dae(0x55c)),_0xede119=_0x6bce['value'];let _0x3d0dc6='';_0xede119!==_0x265dae(0x578)&&(_0x3d0dc6=_0x265dae(0x2fb)+_0xede119+_0x265dae(0x823));const _0x297645=document['querySelectorAll'](_0x265dae(0x750)),_0x319a4a=Array[_0x265dae(0x8bc)](_0x297645)[_0x265dae(0x530)](_0x56b2b9=>_0x56b2b9[_0x265dae(0x8b5)]);let _0xd91297='';_0x319a4a[_0x265dae(0x1d7)]>0x0&&(_0xd91297=_0x265dae(0x3a9)+_0x319a4a[_0x265dae(0x939)](',\x20')+_0x265dae(0x7cf));let _0x33b86a='',_0x313c76='',_0x4db282,_0x2ae83f='เกี่ยวกับหัวข้อ\x20\x22'+_0x256c64+'\x22';if(!_0x256c64&&_0x5f2d40)_0x2ae83f=_0x265dae(0x2f4);else!_0x256c64&&!_0x5f2d40&&(_0x2ae83f='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x204f92={'type':_0x265dae(0x3af),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x265dae(0x362),'items':{'type':_0x265dae(0x36f)}},'correctAnswerIndex':{'type':_0x265dae(0x92d)},'explanation':{'type':_0x265dae(0x36f)},'imageCode':{'type':_0x265dae(0x36f)}},'required':[_0x265dae(0x353),'options',_0x265dae(0x531),_0x265dae(0x86a)]},_0x3292a7={'type':_0x265dae(0x3af),'properties':{'questionText':{'type':_0x265dae(0x36f)},'idealAnswer':{'type':_0x265dae(0x36f)},'explanation':{'type':_0x265dae(0x36f)},'imageCode':{'type':_0x265dae(0x36f)}},'required':[_0x265dae(0x353),_0x265dae(0x724),_0x265dae(0x86a)]},_0x2f2e7a={'type':'OBJECT','properties':{'questionText':{'type':_0x265dae(0x36f)},'questionType':{'type':_0x265dae(0x36f),'enum':['multiple_choice',_0x265dae(0x669)]},'options':{'type':_0x265dae(0x362),'items':{'type':_0x265dae(0x36f)}},'correctAnswerIndex':{'type':_0x265dae(0x92d)},'idealAnswer':{'type':_0x265dae(0x36f)},'explanation':{'type':_0x265dae(0x36f)},'imageCode':{'type':_0x265dae(0x36f)}},'required':[_0x265dae(0x353),'questionType',_0x265dae(0x86a)]},_0xd15192={'type':_0x265dae(0x3af),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x265dae(0x488)},'explanation':{'type':_0x265dae(0x36f)},'imageCode':{'type':_0x265dae(0x36f)}},'required':['questionText','correctAnswer',_0x265dae(0x86a)]},_0xa160ef={'type':_0x265dae(0x3af),'properties':{'questionType':{'type':'STRING','enum':[_0x265dae(0x479)]},'stem':{'type':_0x265dae(0x36f)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x265dae(0x362),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x265dae(0x36f)}},'required':[_0x265dae(0x671),'stem',_0x265dae(0x4d5),_0x265dae(0x501),'explanation']};let _0x320649;if(_0x15f7c0!==null){const _0x47e6b0=currentQuizData['questions'][_0x15f7c0][_0x265dae(0x671)],_0x4da57e=_0x2ba2fe?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x33b86a=_0x265dae(0x57b)+_0x2ae83f+'\x20'+_0xd91297+'\x20'+_0x522fee+_0x265dae(0x7c1)+_0x4da57e+'\x20'+simpleMathPrompt;if(_0x47e6b0===_0x265dae(0x450))_0x4db282=_0x204f92;else{if(_0x47e6b0===_0x265dae(0x479))_0x4db282={'type':_0x265dae(0x3af),'properties':{'questionType':{'type':'STRING','enum':[_0x265dae(0x479)]},'stem':{'type':_0x265dae(0x36f)},'correctResponse':{'type':_0x265dae(0x36f)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x265dae(0x671),_0x265dae(0x509),'correctResponse',_0x265dae(0x86a)]};else _0x4db282=_0x3292a7;}_0x320649=_0x4db282;}else{const _0x366ae7=_0x2ba2fe?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'',_0x2e2397=_0x265dae(0x5bd);switch(_0x4a30d7){case _0x265dae(0x450):_0x33b86a=_0x265dae(0x5f1)+_0x593064+'\x20'+_0x3a52ed+_0x265dae(0x55f)+_0x2ae83f+'\x20'+_0xd91297+'\x20'+_0x522fee+'\x20'+_0x3d0dc6+_0x265dae(0x46a)+_0x2bc169+_0x265dae(0x409)+_0x366ae7+'\x20'+simpleMathPrompt,_0x4db282=_0x204f92;break;case _0x265dae(0x29f):_0x33b86a=_0x265dae(0x8fa)+_0x593064+'\x20'+_0x3a52ed+_0x265dae(0x55f)+_0x2ae83f+'\x20'+_0xd91297+'\x20'+_0x522fee+'\x20'+_0x3d0dc6+_0x265dae(0x3c2)+_0x2bc169+_0x265dae(0x7a2)+_0x366ae7+'\x20'+simpleMathPrompt,_0x4db282=_0x204f92;break;case _0x265dae(0x2b9):_0x33b86a=_0x265dae(0x8fa)+_0x593064+'\x20'+_0x3a52ed+_0x265dae(0x55f)+_0x2ae83f+'\x20'+_0xd91297+'\x20'+_0x522fee+'\x20'+_0x3d0dc6+_0x265dae(0x480)+_0x366ae7+'\x20'+simpleMathPrompt,_0x4db282=_0x3292a7;break;case _0x265dae(0x578):_0x33b86a=_0x265dae(0x51f)+_0x593064+'\x20'+_0x3a52ed+_0x265dae(0x55f)+_0x2ae83f+'\x20'+_0xd91297+'\x20'+_0x522fee+'\x20'+_0x3d0dc6+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x2bc169+_0x265dae(0x21f)+_0x366ae7+'\x20'+simpleMathPrompt+'.',_0x4db282=_0x2f2e7a;break;case _0x265dae(0x29b):_0x33b86a='สร้างคำถามแบบใช่/ไม่ใช่'+_0x593064+'\x20'+_0x3a52ed+_0x265dae(0x55f)+_0x2ae83f+'\x20'+_0xd91297+'\x20'+_0x522fee+'\x20'+_0x3d0dc6+_0x265dae(0x3c1)+_0x366ae7+'\x20'+simpleMathPrompt,_0x4db282=_0xd15192;break;case _0x265dae(0x24f):_0x33b86a=_0x265dae(0x28f)+_0x593064+'\x20'+_0x3a52ed+_0x265dae(0x28c)+_0x2ae83f+'\x20'+_0xd91297+'\x20'+_0x522fee+'\x20'+_0x3d0dc6+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x366ae7+'\x20'+simpleMathPrompt,_0x4db282=_0xa160ef;break;}_0x320649={'type':_0x265dae(0x3af),'properties':{'topic':{'type':_0x265dae(0x36f)},'questions':{'type':_0x265dae(0x362),'items':_0x4db282}},'required':[_0x265dae(0x624),_0x265dae(0x7f3)]};}return _0x5f2d40?(_0x33b86a=_0x265dae(0x849)+_0x5f2d40+_0x265dae(0x7bf)+_0x33b86a,_0x313c76=_0x265dae(0x1d3)):_0x313c76=_0x265dae(0x22f),handleApiCall(_0x33b86a,_0x313c76,_0x320649,_0x15f7c0);}async function generateQuizFromFile(_0x2c8810,_0x1d2c4c){const _0x5146da=_0x483b09,_0x9a01eb=document['getElementById']('file-topic-input')[_0x5146da(0x8b5)][_0x5146da(0x8ad)](),_0xe594c3=document[_0x5146da(0x437)](_0x5146da(0x6c1))['value'],_0x249ebd=document[_0x5146da(0x437)](_0x5146da(0x309))['value'],_0xfe9519=document[_0x5146da(0x437)](_0x5146da(0x3f6))['value'],_0xea4000=document['getElementById'](_0x5146da(0x3e3))[_0x5146da(0x6b5)],_0x38eed6=document[_0x5146da(0x437)]('force-math-checkbox')[_0x5146da(0x6b5)],_0x26032e=_0x38eed6?'':'คณิตศาสตร์';let _0x5bee75='',_0x29b80d,_0xce1c5f=_0x5146da(0x784)+_0x9a01eb+'\x22';!_0x9a01eb&&(_0xce1c5f=_0x5146da(0x62f));const _0x290b89=_0xea4000?_0x5146da(0x880):'';switch(_0xe594c3){case _0x5146da(0x450):_0x5bee75='สร้างแบบทดสอบปรนัย'+_0x26032e+'\x20'+_0x249ebd+_0x5146da(0x55f)+_0xce1c5f+_0x5146da(0x46a)+_0xfe9519+_0x5146da(0x409)+_0x290b89+'\x20'+simpleMathPrompt,_0x29b80d={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5146da(0x362),'items':{'type':_0x5146da(0x36f)}},'correctAnswerIndex':{'type':_0x5146da(0x92d)},'explanation':{'type':_0x5146da(0x36f)},'imageCode':{'type':_0x5146da(0x36f)}},'required':[_0x5146da(0x353),_0x5146da(0x2c8),_0x5146da(0x531),_0x5146da(0x86a)]};break;case _0x5146da(0x29f):_0x5bee75='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x26032e+'\x20'+_0x249ebd+_0x5146da(0x55f)+_0xce1c5f+_0x5146da(0x3c2)+_0xfe9519+_0x5146da(0x7a2)+_0x290b89+'\x20'+simpleMathPrompt,_0x29b80d={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x5146da(0x36f)}},'correctAnswerIndex':{'type':_0x5146da(0x92d)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5146da(0x36f)}},'required':[_0x5146da(0x353),_0x5146da(0x2c8),_0x5146da(0x531),_0x5146da(0x86a)]};break;case _0x5146da(0x2b9):_0x5bee75='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x26032e+'\x20'+_0x249ebd+_0x5146da(0x55f)+_0xce1c5f+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x290b89+'\x20'+simpleMathPrompt,_0x29b80d={'type':_0x5146da(0x3af),'properties':{'questionText':{'type':_0x5146da(0x36f)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5146da(0x36f)},'imageCode':{'type':_0x5146da(0x36f)}},'required':[_0x5146da(0x353),_0x5146da(0x724),_0x5146da(0x86a)]};break;case'mixed':_0x5bee75=_0x5146da(0x51f)+_0x26032e+'\x20'+_0x249ebd+_0x5146da(0x55f)+_0xce1c5f+_0x5146da(0x37d)+_0xfe9519+'\x20ตัวเลือก.\x20'+_0x290b89+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x29b80d={'type':_0x5146da(0x3af),'properties':{'questionText':{'type':_0x5146da(0x36f)},'questionType':{'type':_0x5146da(0x36f),'enum':[_0x5146da(0x450),_0x5146da(0x669)]},'options':{'type':_0x5146da(0x362),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5146da(0x92d)},'idealAnswer':{'type':_0x5146da(0x36f)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5146da(0x36f)}},'required':[_0x5146da(0x353),'questionType',_0x5146da(0x86a)]};break;case _0x5146da(0x29b):_0x5bee75=_0x5146da(0x4fc)+_0x26032e+'\x20'+_0x249ebd+_0x5146da(0x55f)+_0xce1c5f+_0x5146da(0x214)+_0x290b89+'\x20'+simpleMathPrompt,_0x29b80d={'type':_0x5146da(0x3af),'properties':{'questionText':{'type':_0x5146da(0x36f)},'correctAnswer':{'type':_0x5146da(0x488)},'explanation':{'type':_0x5146da(0x36f)},'imageCode':{'type':_0x5146da(0x36f)}},'required':[_0x5146da(0x353),_0x5146da(0x5ac),_0x5146da(0x86a)]};break;case _0x5146da(0x24f):_0x5bee75=_0x5146da(0x28f)+_0x26032e+'\x20'+_0x249ebd+_0x5146da(0x28c)+_0xce1c5f+_0x5146da(0x448)+_0x249ebd+_0x5146da(0x42f)+_0x290b89+'\x20'+simpleMathPrompt,_0x29b80d={'type':_0x5146da(0x3af),'properties':{'questionType':{'type':_0x5146da(0x36f),'enum':[_0x5146da(0x479)]},'stem':{'type':_0x5146da(0x36f)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5146da(0x362),'items':{'type':_0x5146da(0x36f)}},'explanation':{'type':_0x5146da(0x36f)},'imageCode':{'type':'STRING'}},'required':[_0x5146da(0x671),_0x5146da(0x509),_0x5146da(0x4d5),'allResponses',_0x5146da(0x86a)]};break;}const _0x35f831={'type':_0x5146da(0x3af),'properties':{'topic':{'type':_0x5146da(0x36f)},'questions':{'type':'ARRAY','items':_0x29b80d}},'required':[_0x5146da(0x624),_0x5146da(0x7f3)]},_0x56d206='จากไฟล์ที่แนบมานี้,\x20'+_0x5bee75,_0x2c5b36={'contents':[{'parts':[{'text':_0x56d206},{'inlineData':{'mimeType':_0x2c8810,'data':_0x1d2c4c}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x35f831}};return handleApiCall(_0x2c5b36[_0x5146da(0x54c)][0x0][_0x5146da(0x856)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x35f831);}async function handleApiCall(_0x1d39d3,_0x102289,_0x263b50,_0x3d25e1=null){const _0xa3598d=_0x483b09,_0x24b490=document[_0xa3598d(0x437)](_0xa3598d(0x72f)),_0x2ae2e6=document[_0xa3598d(0x437)]('loader'),_0x372a42=document['getElementById'](_0xa3598d(0x603)),_0x133af9=document['getElementById']('generated-quiz-container');_0x24b490[_0xa3598d(0x49a)][_0xa3598d(0x355)](_0xa3598d(0x534));_0x3d25e1===null&&(_0x133af9[_0xa3598d(0x676)]='');_0x2ae2e6[_0xa3598d(0x49a)][_0xa3598d(0x355)](_0xa3598d(0x534)),_0x372a42[_0xa3598d(0x2dd)]=_0x102289,document[_0xa3598d(0x437)](_0xa3598d(0x299))[_0xa3598d(0x766)]=!![],document['getElementById'](_0xa3598d(0x681))[_0xa3598d(0x766)]=!![],document['getElementById'](_0xa3598d(0x66b))[_0xa3598d(0x766)]=!![];try{const _0x380dfd={'responseMimeType':_0xa3598d(0x847),'responseSchema':_0x263b50},_0x280a5a=Array['isArray'](_0x1d39d3)?_0x1d39d3:[{'text':_0x1d39d3}],_0x16d980={'contents':[{'role':_0xa3598d(0x746),'parts':_0x280a5a}],'generationConfig':_0x380dfd},_0x32455b=_0xa3598d(0x3e5),_0x23f28d=_0xa3598d(0x336)+_0x32455b,_0x1ac827=await fetch(_0x23f28d,{'method':_0xa3598d(0x5aa),'headers':{'Content-Type':'application/json'},'body':JSON[_0xa3598d(0x657)](_0x16d980)});if(!_0x1ac827['ok'])throw new Error(_0xa3598d(0x483)+_0x1ac827[_0xa3598d(0x647)]);const _0x397570=await _0x1ac827[_0xa3598d(0x7ba)]();if(_0x397570[_0xa3598d(0x3ee)]?.[0x0]?.[_0xa3598d(0x65b)]?.[_0xa3598d(0x856)]?.[0x0]){let _0x9e068c=_0x397570[_0xa3598d(0x3ee)][0x0][_0xa3598d(0x65b)][_0xa3598d(0x856)][0x0][_0xa3598d(0x68b)],_0x22de89;try{if(_0x9e068c[_0xa3598d(0x6a1)](_0xa3598d(0x280)))_0x9e068c=_0x9e068c[_0xa3598d(0x8fb)](0x7,_0x9e068c[_0xa3598d(0x1d7)]-0x3)[_0xa3598d(0x8ad)]();else _0x9e068c[_0xa3598d(0x6a1)]('```')&&(_0x9e068c=_0x9e068c[_0xa3598d(0x8fb)](0x3,_0x9e068c['length']-0x3)['trim']());_0x22de89=JSON[_0xa3598d(0x4cb)](_0x9e068c);}catch(_0x3145fd){console[_0xa3598d(0x8cc)](_0xa3598d(0x5ef),_0x3145fd,_0x9e068c);throw new Error(_0xa3598d(0x211));}if(_0x3d25e1!==null){if(_0x22de89['questionType']===_0xa3598d(0x479)){const _0x39d845=currentQuizData[_0xa3598d(0x7f3)][_0xa3598d(0x530)](_0x40208a=>_0x40208a['correctResponse']);_0x22de89[_0xa3598d(0x501)]=_0x39d845;const _0x3ee382=currentQuizData[_0xa3598d(0x7f3)][_0x3d25e1][_0xa3598d(0x4d5)],_0x167557=_0x39d845[_0xa3598d(0x2fc)](_0x3ee382);_0x167557>-0x1&&(_0x39d845[_0x167557]=_0x22de89[_0xa3598d(0x4d5)]),currentQuizData[_0xa3598d(0x7f3)]['forEach'](_0x5e2c56=>{const _0x106df4=_0xa3598d;if(_0x5e2c56[_0x106df4(0x671)]==='matching_item')_0x5e2c56['allResponses']=_0x39d845;});}currentQuizData[_0xa3598d(0x7f3)][_0x3d25e1]=_0x22de89,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x22de89;const _0x4ec2a0=document[_0xa3598d(0x437)](_0xa3598d(0x6c1))[_0xa3598d(0x8b5)];currentQuizData[_0xa3598d(0x5da)]=_0x4ec2a0,currentQuizData[_0xa3598d(0x7f3)]&&currentQuizData[_0xa3598d(0x7f3)][_0xa3598d(0x4ec)](_0x2f531c=>{const _0x448c34=_0xa3598d;if(!_0x2f531c['questionType']){if(_0x4ec2a0===_0x448c34(0x29f))_0x2f531c[_0x448c34(0x671)]=_0x448c34(0x450);else _0x4ec2a0==='fill_in_no_choices'?_0x2f531c[_0x448c34(0x671)]='short_answer':_0x2f531c[_0x448c34(0x671)]=_0x4ec2a0;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0xa3598d(0x8cc)](_0xa3598d(0x471),JSON['stringify'](_0x397570));throw new Error(_0xa3598d(0x211));}}catch(_0x31e50e){console[_0xa3598d(0x8cc)](_0xa3598d(0x71d),_0x31e50e),showMessage(_0xa3598d(0x4eb)),_0x3d25e1===null&&(_0x133af9[_0xa3598d(0x676)]=_0xa3598d(0x44b));}finally{_0x2ae2e6['classList'][_0xa3598d(0x3ba)](_0xa3598d(0x534)),document[_0xa3598d(0x437)](_0xa3598d(0x299))[_0xa3598d(0x766)]=![],document[_0xa3598d(0x437)]('generate-from-text-btn')['disabled']=![],document[_0xa3598d(0x437)]('generate-from-link-btn')[_0xa3598d(0x766)]=![];const _0x302f69=document[_0xa3598d(0x437)]('generate-from-file-btn');_0x302f69&&(_0x302f69[_0xa3598d(0x766)]=![]);}}function enterFullscreen(){const _0x38f839=_0x483b09,_0x2d5a21=document['documentElement'];if(_0x2d5a21[_0x38f839(0x3bd)])_0x2d5a21[_0x38f839(0x3bd)]()[_0x38f839(0x422)](_0x1ecba1=>{const _0x4cd531=_0x38f839;console['error'](_0x4cd531(0x592)+_0x1ecba1[_0x4cd531(0x64f)]+'\x20('+_0x1ecba1[_0x4cd531(0x884)]+')');});else{if(_0x2d5a21['webkitRequestFullscreen'])_0x2d5a21[_0x38f839(0x1e8)]();else _0x2d5a21[_0x38f839(0x637)]&&_0x2d5a21[_0x38f839(0x637)]();}}function handleFullscreenChange(){const _0x8e2f4=_0x483b09;!document[_0x8e2f4(0x874)]&&isQuizActive&&(cheatAttempts++,logBehaviorEvent(_0x8e2f4(0x2cc),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x8e2f4(0x69f)+maxCheatAttempts+_0x8e2f4(0x8aa)),document['getElementById'](_0x8e2f4(0x3b0))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x8e2f4(0x3fe)](_0x8e2f4(0x69b),handleFullscreenChange)):showMessage(_0x8e2f4(0x8a6)+cheatAttempts+'/'+maxCheatAttempts+_0x8e2f4(0x8fd),enterFullscreen));}function displayGeneratedQuiz(_0x2d344e){const _0x1229d4=_0x483b09,_0x5e9a99=document[_0x1229d4(0x437)](_0x1229d4(0x1ec));let _0x45461c=_0x1229d4(0x611)+_0x2d344e[_0x1229d4(0x624)]+_0x1229d4(0x924);_0x2d344e['questions'][_0x1229d4(0x4ec)]((_0x1bcf5b,_0x339785)=>{const _0x475a5d=_0x1229d4,_0x226cf0=_0x1bcf5b['questionType']||_0x2d344e[_0x475a5d(0x5da)];_0x45461c+=_0x475a5d(0x473)+_0x339785+_0x475a5d(0x684)+_0x339785+_0x475a5d(0x8b8)+_0x339785+_0x475a5d(0x7f4);switch(_0x226cf0){case _0x475a5d(0x479):_0x45461c+=_0x475a5d(0x2c9)+_0x339785+'\x22>'+(_0x339785+0x1)+'.\x20'+_0x1bcf5b[_0x475a5d(0x509)]+_0x475a5d(0x590);_0x1bcf5b[_0x475a5d(0x35c)]&&(_0x45461c+='<div\x20id=\x22q-image-container-'+_0x339785+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1bcf5b[_0x475a5d(0x35c)]+_0x475a5d(0x73d));_0x45461c+=_0x475a5d(0x432)+_0x339785+'\x22>'+_0x1bcf5b['correctResponse']+_0x475a5d(0x55a),_0x45461c+=_0x475a5d(0x4ce)+_0x339785+'\x22>'+_0x1bcf5b['explanation']+_0x475a5d(0x55a);break;case _0x475a5d(0x669):_0x45461c+=_0x475a5d(0x2c9)+_0x339785+'\x22>'+(_0x339785+0x1)+'.\x20'+_0x1bcf5b[_0x475a5d(0x353)]+_0x475a5d(0x590);_0x1bcf5b['imageCode']&&(_0x45461c+='<div\x20id=\x22q-image-container-'+_0x339785+_0x475a5d(0x33f)+_0x1bcf5b[_0x475a5d(0x35c)]+_0x475a5d(0x73d));_0x45461c+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x339785+'\x22>'+_0x1bcf5b[_0x475a5d(0x724)]+_0x475a5d(0x55a),_0x45461c+=_0x475a5d(0x4ce)+_0x339785+'\x22>'+_0x1bcf5b[_0x475a5d(0x86a)]+_0x475a5d(0x55a);break;case _0x475a5d(0x29b):_0x45461c+=_0x475a5d(0x2c9)+_0x339785+'\x22>'+(_0x339785+0x1)+'.\x20'+_0x1bcf5b[_0x475a5d(0x353)]+_0x475a5d(0x590);_0x1bcf5b['imageCode']&&(_0x45461c+=_0x475a5d(0x859)+_0x339785+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1bcf5b[_0x475a5d(0x35c)]+_0x475a5d(0x73d));_0x45461c+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x1bcf5b['correctAnswer']===!![]?_0x475a5d(0x6a2):'')+_0x475a5d(0x3ff)+(_0x1bcf5b['correctAnswer']===![]?_0x475a5d(0x6a2):'')+_0x475a5d(0x40e),_0x45461c+=_0x475a5d(0x4ce)+_0x339785+'\x22>'+_0x1bcf5b[_0x475a5d(0x86a)]+_0x475a5d(0x55a);break;case _0x475a5d(0x78b):case _0x475a5d(0x450):default:_0x45461c+=_0x475a5d(0x2c9)+_0x339785+'\x22>'+(_0x339785+0x1)+'.\x20'+_0x1bcf5b['questionText']+_0x475a5d(0x590);_0x1bcf5b['imageCode']&&(_0x45461c+=_0x475a5d(0x859)+_0x339785+_0x475a5d(0x33f)+_0x1bcf5b['imageCode']+_0x475a5d(0x73d));_0x45461c+=_0x475a5d(0x40f)+_0x339785+_0x475a5d(0x466)+_0x1bcf5b[_0x475a5d(0x2c8)][_0x475a5d(0x530)]((_0x6ba179,_0x3b41c0)=>_0x475a5d(0x3eb)+(_0x3b41c0===_0x1bcf5b[_0x475a5d(0x531)]?_0x475a5d(0x6a2):'')+'\x22>'+_0x6ba179+_0x475a5d(0x6db))[_0x475a5d(0x939)]('')+_0x475a5d(0x338),_0x45461c+=_0x475a5d(0x4ce)+_0x339785+'\x22>'+_0x1bcf5b[_0x475a5d(0x86a)]+'</span></div>';break;}_0x45461c+=_0x475a5d(0x73d);}),_0x45461c+=_0x1229d4(0x31d),_0x5e9a99[_0x1229d4(0x676)]=_0x45461c,document[_0x1229d4(0x442)](_0x1229d4(0x71c))[_0x1229d4(0x4ec)](_0x37e9b9=>_0x37e9b9['addEventListener']('click',handleEditQuestion)),document[_0x1229d4(0x442)](_0x1229d4(0x402))[_0x1229d4(0x4ec)](_0x1ed315=>_0x1ed315['addEventListener']('click',handleRegenerateQuestion)),document[_0x1229d4(0x442)]('.save-to-bank-btn')[_0x1229d4(0x4ec)](_0x343887=>_0x343887[_0x1229d4(0x6b1)](_0x1229d4(0x5ff),handleSaveToBank)),document[_0x1229d4(0x437)]('export-worksheet-pdf-btn')[_0x1229d4(0x6b1)]('click',exportQuizAsWorksheetPDF),document[_0x1229d4(0x437)](_0x1229d4(0x59b))['addEventListener']('click',saveQuiz);if(window[_0x1229d4(0x875)])window['MathJax'][_0x1229d4(0x376)]([_0x5e9a99]);}function handleRegenerateQuestion(_0x1621cf){const _0x145e29=_0x483b09,_0x39d0d2=_0x1621cf[_0x145e29(0x566)][_0x145e29(0x8c8)][_0x145e29(0x6a8)],_0x1d2a08=currentQuizData['topic'];showMessage(_0x145e29(0x2d1)+(parseInt(_0x39d0d2)+0x1)+_0x145e29(0x6fe)),generateQuiz(_0x1d2a08,null,parseInt(_0x39d0d2));}function getPointerPosition(_0x14e522,_0x44c338){const _0x918fb7=_0x483b09,_0x2fd656=_0x14e522[_0x918fb7(0x6e5)]();let _0x203b5b,_0x389c67;return _0x44c338[_0x918fb7(0x831)]&&_0x44c338[_0x918fb7(0x831)][_0x918fb7(0x1d7)]>0x0?(_0x203b5b=_0x44c338['touches'][0x0]['clientX'],_0x389c67=_0x44c338[_0x918fb7(0x831)][0x0][_0x918fb7(0x51c)]):(_0x203b5b=_0x44c338[_0x918fb7(0x34e)],_0x389c67=_0x44c338[_0x918fb7(0x51c)]),{'x':(_0x203b5b-_0x2fd656['e'])/_0x2fd656['a'],'y':(_0x389c67-_0x2fd656['f'])/_0x2fd656['d']};}function startDrag(_0x136b8f){const _0x56b90e=_0x483b09;_0x136b8f['type']===_0x56b90e(0x792)&&_0x136b8f['preventDefault']();const _0x467bf0=_0x136b8f[_0x56b90e(0x4de)]['closest'](_0x56b90e(0x3c4));if(_0x467bf0){draggedSvgElement=_0x467bf0;const _0x516675=draggedSvgElement[_0x56b90e(0x7ef)],_0x11d21e=getPointerPosition(_0x516675,_0x136b8f);svgOffset['x']=_0x11d21e['x']-parseFloat(draggedSvgElement[_0x56b90e(0x235)](null,'x')),svgOffset['y']=_0x11d21e['y']-parseFloat(draggedSvgElement[_0x56b90e(0x235)](null,'y'));}}function calculateItemAnalysis(_0x4e780e,_0x3b2e5e){const _0x125ec7=_0x483b09,_0x292a66={};if(_0x3b2e5e['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0xf5d5e8=[..._0x3b2e5e][_0x125ec7(0x205)]((_0x4e2bfe,_0x26a12d)=>{const _0x524573=_0x125ec7,_0x3e787d=_0x26a12d[_0x524573(0x7aa)]-_0x4e2bfe[_0x524573(0x7aa)];if(_0x3e787d!==0x0)return _0x3e787d;const _0x49d451=_0x4e2bfe['attempts']?.['length']||0x1,_0xc0ffc0=_0x26a12d[_0x524573(0x933)]?.[_0x524573(0x1d7)]||0x1,_0x28f4ef=_0x49d451-_0xc0ffc0;if(_0x28f4ef!==0x0)return _0x28f4ef;const _0x4bc6be=new Date(_0x4e2bfe[_0x524573(0x5c7)]),_0x97224d=new Date(_0x26a12d[_0x524573(0x5c7)]),_0x4d6af2=_0x4bc6be-_0x97224d;if(_0x4d6af2!==0x0)return _0x4d6af2;return _0x4e2bfe[_0x524573(0x5c0)][_0x524573(0x325)](_0x26a12d[_0x524573(0x5c0)],'th');}),_0x50fa81=_0xf5d5e8[_0x125ec7(0x1d7)],_0x6d91ac=Math[_0x125ec7(0x250)](0x1,Math['floor'](_0x50fa81*0.33));if(_0x6d91ac===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x26a151=_0xf5d5e8[_0x125ec7(0x328)](0x0,_0x6d91ac),_0x20384c=_0xf5d5e8[_0x125ec7(0x328)](-_0x6d91ac),_0x2f6ba0=_0x26a151[_0x125ec7(0x530)](_0x140adb=>_0x140adb[_0x125ec7(0x5c0)]),_0x14b6ec=_0x20384c[_0x125ec7(0x530)](_0x5e200b=>_0x5e200b[_0x125ec7(0x5c0)]);return _0x4e780e['questions'][_0x125ec7(0x4ec)]((_0x419272,_0xa67fe3)=>{const _0x4fa00a=_0x125ec7,_0x1ab920=_0x419272[_0x4fa00a(0x509)]||_0x419272[_0x4fa00a(0x353)];let _0x5cda48=0x0,_0xdcb78c=0x0,_0x2405a7=0x0;const _0x3c844a=[],_0x179d7a=[];_0x26a151[_0x4fa00a(0x4ec)](_0x5b09e9=>{const _0x2bada2=_0x4fa00a,_0x5231ea=_0x5b09e9[_0x2bada2(0x933)][_0x5b09e9[_0x2bada2(0x933)][_0x2bada2(0x1d7)]-0x1],_0x420797=_0x5231ea[_0x2bada2(0x434)][_0x2bada2(0x413)](_0x2d96bd=>_0x2d96bd[_0x2bada2(0x7ee)]===_0x1ab920);_0x3c844a[_0x2bada2(0x554)]({'name':_0x5b09e9[_0x2bada2(0x5c0)],'isCorrect':_0x420797?_0x420797['isCorrect']:![]}),_0x420797&&_0x420797[_0x2bada2(0x699)]&&_0xdcb78c++;}),_0x20384c[_0x4fa00a(0x4ec)](_0x195b63=>{const _0x51289e=_0x4fa00a,_0x1c3fc2=_0x195b63[_0x51289e(0x933)][_0x195b63['attempts'][_0x51289e(0x1d7)]-0x1],_0x1f3fb9=_0x1c3fc2[_0x51289e(0x434)][_0x51289e(0x413)](_0x5b1b88=>_0x5b1b88[_0x51289e(0x7ee)]===_0x1ab920);_0x179d7a[_0x51289e(0x554)]({'name':_0x195b63[_0x51289e(0x5c0)],'isCorrect':_0x1f3fb9?_0x1f3fb9[_0x51289e(0x699)]:![]}),_0x1f3fb9&&_0x1f3fb9[_0x51289e(0x699)]&&_0x2405a7++;}),_0x3b2e5e[_0x4fa00a(0x4ec)](_0x1cd533=>{const _0xb127c9=_0x4fa00a,_0x3870be=_0x1cd533[_0xb127c9(0x933)][_0x1cd533[_0xb127c9(0x933)][_0xb127c9(0x1d7)]-0x1],_0x19c266=_0x3870be[_0xb127c9(0x434)][_0xb127c9(0x413)](_0x14068e=>_0x14068e[_0xb127c9(0x7ee)]===_0x1ab920);_0x19c266&&_0x19c266[_0xb127c9(0x699)]&&_0x5cda48++;});const _0x44746c=_0x50fa81>0x0?_0x5cda48/_0x50fa81:0x0,_0x58c021=_0x6d91ac>0x0?_0xdcb78c/_0x6d91ac-_0x2405a7/_0x6d91ac:0x0;_0x292a66[_0xa67fe3]={'p':_0x44746c,'r':_0x58c021,'upperGroupResponders':_0x3c844a,'lowerGroupResponders':_0x179d7a};}),{'perQuestionStats':_0x292a66,'overallGroups':{'upperGroupNames':_0x2f6ba0,'lowerGroupNames':_0x14b6ec}};}function drag(_0x3b860c){const _0x4d832b=_0x483b09;if(draggedSvgElement){_0x3b860c[_0x4d832b(0x5b2)]();const _0x22e904=draggedSvgElement[_0x4d832b(0x7ef)],_0x405801=getPointerPosition(_0x22e904,_0x3b860c),_0x1c7bae=_0x22e904[_0x4d832b(0x3e0)][_0x4d832b(0x206)];let _0x559481=_0x405801['x']-svgOffset['x'],_0x345c3d=_0x405801['y']-svgOffset['y'];const _0xebdadf=draggedSvgElement[_0x4d832b(0x58a)]();_0x559481=Math['max'](_0x1c7bae['x'],Math[_0x4d832b(0x906)](_0x559481,_0x1c7bae['x']+_0x1c7bae[_0x4d832b(0x853)]-_0xebdadf[_0x4d832b(0x853)])),_0x345c3d=Math[_0x4d832b(0x250)](_0x1c7bae['y'],Math[_0x4d832b(0x906)](_0x345c3d,_0x1c7bae['y']+_0x1c7bae[_0x4d832b(0x8e7)]-_0xebdadf[_0x4d832b(0x8e7)])),draggedSvgElement[_0x4d832b(0x494)](null,'x',_0x559481),draggedSvgElement[_0x4d832b(0x494)](null,'y',_0x345c3d);}}function endDrag(_0x157a9c){draggedSvgElement=null;}function handleSvgEditClick(_0x5ebbbe){const _0x5507c2=_0x483b09;if(_0x5ebbbe[_0x5507c2(0x4de)][_0x5507c2(0x49a)][_0x5507c2(0x430)](_0x5507c2(0x5a7))){const _0x11e3aa=_0x5ebbbe[_0x5507c2(0x4de)]['dataset'][_0x5507c2(0x615)],_0x17f271=_0x5ebbbe[_0x5507c2(0x566)],_0x27869e=_0x17f271[_0x5507c2(0x865)]('#'+_0x11e3aa);_0x27869e&&_0x27869e[_0x5507c2(0x355)](),_0x5ebbbe['target'][_0x5507c2(0x355)]();}}function handleEditQuestion(_0xe70fbc){const _0x3e4c78=_0x483b09,_0x2a6567=_0xe70fbc['currentTarget'],_0x29a4f7=_0x2a6567[_0x3e4c78(0x8c8)][_0x3e4c78(0x6a8)],_0xf985fd=currentQuizData[_0x3e4c78(0x7f3)][_0x29a4f7],_0x1b1bca=document[_0x3e4c78(0x437)]('q-text-'+_0x29a4f7),_0x105488=document[_0x3e4c78(0x437)]('q-explanation-'+_0x29a4f7),_0x4cf59f=document['getElementById']('q-image-container-'+_0x29a4f7);if(_0x2a6567[_0x3e4c78(0x676)][_0x3e4c78(0x806)](_0x3e4c78(0x6ab))){_0x2a6567[_0x3e4c78(0x676)]=_0x3e4c78(0x913),_0x2a6567[_0x3e4c78(0x212)]=_0x3e4c78(0x791);if(_0x1b1bca)_0x1b1bca[_0x3e4c78(0x7fa)]=!![];if(_0x105488)_0x105488['contentEditable']=!![];if(_0x4cf59f){const _0x47d4b0=_0x4cf59f[_0x3e4c78(0x865)](_0x3e4c78(0x70b));if(_0x47d4b0){const _0x2eeb7c=_0x47d4b0[_0x3e4c78(0x442)](_0x3e4c78(0x68b));_0x2eeb7c[_0x3e4c78(0x4ec)]((_0x942074,_0x54576a)=>{const _0x5be508=_0x3e4c78,_0x1a51cc=_0x5be508(0x902)+_0x29a4f7+'-'+_0x54576a;_0x942074['id']=_0x1a51cc,_0x942074['classList']['add'](_0x5be508(0x527)),_0x942074[_0x5be508(0x1f1)][_0x5be508(0x8a5)]=_0x5be508(0x343);const _0x3cbe50=document[_0x5be508(0x79f)](_0x5be508(0x5d4),_0x5be508(0x265)),_0x8f6d1b=_0x942074[_0x5be508(0x58a)]();_0x3cbe50[_0x5be508(0x876)]('cx',String(_0x8f6d1b['x']+_0x8f6d1b[_0x5be508(0x853)]+0x5)),_0x3cbe50[_0x5be508(0x876)]('cy',String(_0x8f6d1b['y']+_0x8f6d1b[_0x5be508(0x8e7)]/0x2-0x5)),_0x3cbe50['setAttribute']('r','5'),_0x3cbe50[_0x5be508(0x876)](_0x5be508(0x7ac),_0x5be508(0x377)),_0x3cbe50[_0x5be508(0x876)](_0x5be508(0x3f9),_0x5be508(0x5a7)),_0x3cbe50['dataset'][_0x5be508(0x615)]=_0x1a51cc,_0x942074['after'](_0x3cbe50);}),_0x47d4b0['addEventListener'](_0x3e4c78(0x2ca),startDrag),_0x47d4b0[_0x3e4c78(0x6b1)](_0x3e4c78(0x411),drag),_0x47d4b0[_0x3e4c78(0x6b1)]('mouseup',endDrag),_0x47d4b0['addEventListener']('mouseleave',endDrag),_0x47d4b0[_0x3e4c78(0x6b1)]('touchstart',startDrag,{'passive':![]}),_0x47d4b0[_0x3e4c78(0x6b1)]('touchmove',drag,{'passive':![]}),_0x47d4b0[_0x3e4c78(0x6b1)]('touchend',endDrag),_0x47d4b0['addEventListener'](_0x3e4c78(0x7ff),endDrag),_0x47d4b0[_0x3e4c78(0x6b1)](_0x3e4c78(0x5ff),handleSvgEditClick);}}if(_0x1b1bca)_0x1b1bca[_0x3e4c78(0x703)]();}else{_0x2a6567[_0x3e4c78(0x676)]=_0x3e4c78(0x7cc),_0x2a6567['title']=_0x3e4c78(0x7a9);if(_0x1b1bca){_0x1b1bca[_0x3e4c78(0x7fa)]=![];const _0x1eef99=_0xf985fd[_0x3e4c78(0x671)]||currentQuizData['quizType'];_0x1eef99==='matching_item'?_0xf985fd[_0x3e4c78(0x509)]=_0x1b1bca[_0x3e4c78(0x846)][_0x3e4c78(0x8fb)](_0x1b1bca['innerText'][_0x3e4c78(0x2fc)]('.')+0x2)[_0x3e4c78(0x8ad)]():_0xf985fd[_0x3e4c78(0x353)]=_0x1b1bca['innerText'][_0x3e4c78(0x8fb)](_0x1b1bca['innerText'][_0x3e4c78(0x2fc)]('.')+0x2)['trim']();}_0x105488&&(_0x105488[_0x3e4c78(0x7fa)]=![],_0xf985fd[_0x3e4c78(0x86a)]=_0x105488[_0x3e4c78(0x846)]);if(_0x4cf59f){const _0x553e6d=_0x4cf59f[_0x3e4c78(0x865)](_0x3e4c78(0x70b));if(_0x553e6d){const _0x4e48c0=_0x553e6d[_0x3e4c78(0x3e1)](!![]);_0x4e48c0[_0x3e4c78(0x442)](_0x3e4c78(0x44e))[_0x3e4c78(0x4ec)](_0x433a23=>_0x433a23[_0x3e4c78(0x355)]()),_0x4e48c0[_0x3e4c78(0x442)]('.draggable-text')[_0x3e4c78(0x4ec)](_0xf4590=>{const _0x58f4f9=_0x3e4c78;_0xf4590[_0x58f4f9(0x49a)][_0x58f4f9(0x355)](_0x58f4f9(0x527)),_0xf4590[_0x58f4f9(0x1f1)][_0x58f4f9(0x8a5)]=_0x58f4f9(0x21a),_0xf4590[_0x58f4f9(0x43e)]('id');}),_0xf985fd['imageCode']=_0x4e48c0[_0x3e4c78(0x752)],_0x553e6d[_0x3e4c78(0x3fe)]('mousedown',startDrag),_0x553e6d[_0x3e4c78(0x3fe)](_0x3e4c78(0x411),drag),_0x553e6d['removeEventListener'](_0x3e4c78(0x685),endDrag),_0x553e6d[_0x3e4c78(0x3fe)]('mouseleave',endDrag),_0x553e6d[_0x3e4c78(0x3fe)](_0x3e4c78(0x792),startDrag),_0x553e6d[_0x3e4c78(0x3fe)](_0x3e4c78(0x61e),drag),_0x553e6d[_0x3e4c78(0x3fe)]('touchend',endDrag),_0x553e6d['removeEventListener'](_0x3e4c78(0x7ff),endDrag),_0x553e6d[_0x3e4c78(0x3fe)](_0x3e4c78(0x5ff),handleSvgEditClick),_0x553e6d[_0x3e4c78(0x442)](_0x3e4c78(0x44e))[_0x3e4c78(0x4ec)](_0x75a6b8=>_0x75a6b8['remove']()),_0x553e6d[_0x3e4c78(0x442)](_0x3e4c78(0x3c4))[_0x3e4c78(0x4ec)](_0x1c5bee=>{const _0x3af9a5=_0x3e4c78;_0x1c5bee[_0x3af9a5(0x49a)][_0x3af9a5(0x355)](_0x3af9a5(0x527)),_0x1c5bee[_0x3af9a5(0x1f1)][_0x3af9a5(0x8a5)]=_0x3af9a5(0x21a);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x35e9d0){const _0x3b5beb=_0x483b09,_0x4819d0=document['getElementById'](_0x3b5beb(0x1e2)),_0x766618=document['getElementById'](_0x3b5beb(0x564));_0x766618[_0x3b5beb(0x676)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x4819d0['classList'][_0x3b5beb(0x355)](_0x3b5beb(0x534));try{const _0x3686de=doc(db,_0x3b5beb(0x868)+appId+_0x3b5beb(0x4e7),_0x35e9d0),_0x2f5be9=await getDoc(_0x3686de);if(!_0x2f5be9[_0x3b5beb(0x830)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x35e9d0,..._0x2f5be9[_0x3b5beb(0x6cb)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x411aa9){console[_0x3b5beb(0x8cc)](_0x3b5beb(0x262),_0x411aa9),showMessage(_0x3b5beb(0x572)),_0x4819d0[_0x3b5beb(0x49a)]['add'](_0x3b5beb(0x534));}}function renderQuizEditor(_0xb8356){const _0x468ac7=_0x483b09;document['getElementById'](_0x468ac7(0x74a))['value']=_0xb8356[_0x468ac7(0x624)];const _0x2da623=document[_0x468ac7(0x437)](_0x468ac7(0x564));let _0x329091=_0xb8356[_0x468ac7(0x7f3)][_0x468ac7(0x530)]((_0x324092,_0x5d2e87)=>{const _0x2ad7ef=_0x468ac7;let _0x242ffd='';const _0x57d1d7=_0x324092[_0x2ad7ef(0x671)]||_0xb8356[_0x2ad7ef(0x5da)];switch(_0x57d1d7){case _0x2ad7ef(0x450):const _0x469ce0=(_0x324092['options']||[])[_0x2ad7ef(0x530)]((_0x15686b,_0x10214e)=>_0x2ad7ef(0x698)+_0x5d2e87+'\x22\x20value=\x22'+_0x10214e+'\x22\x20'+(_0x10214e===_0x324092[_0x2ad7ef(0x531)]?_0x2ad7ef(0x6b5):'')+_0x2ad7ef(0x8d8)+_0x15686b+_0x2ad7ef(0x44a))[_0x2ad7ef(0x939)]('');_0x242ffd=_0x2ad7ef(0x6a0)+_0x469ce0+_0x2ad7ef(0x8d5);break;case _0x2ad7ef(0x669):_0x242ffd=_0x2ad7ef(0x57c)+(_0x324092[_0x2ad7ef(0x724)]||'')+_0x2ad7ef(0x33c);break;case'true_false':_0x242ffd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x5d2e87+_0x2ad7ef(0x871)+(_0x324092[_0x2ad7ef(0x5ac)]===!![]?_0x2ad7ef(0x6b5):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x5d2e87+_0x2ad7ef(0x75c)+(_0x324092['correctAnswer']===![]?'checked':'')+_0x2ad7ef(0x612);break;case _0x2ad7ef(0x479):_0x242ffd=_0x2ad7ef(0x3c0)+(_0x324092[_0x2ad7ef(0x4d5)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0xf9a9cf=_0x324092[_0x2ad7ef(0x353)]||_0x324092[_0x2ad7ef(0x509)]||'';return _0x2ad7ef(0x28b)+_0x5d2e87+_0x2ad7ef(0x21d)+_0x57d1d7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x5d2e87+0x1)+'\x20('+_0x57d1d7+_0x2ad7ef(0x35e)+_0xf9a9cf+'</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x242ffd+'</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x468ac7(0x939)]('');_0x2da623[_0x468ac7(0x676)]=_0x329091;}async function handleSaveChanges(){const _0x2ddcb3=_0x483b09,_0x3ddf0f=document[_0x2ddcb3(0x437)](_0x2ddcb3(0x25a));_0x3ddf0f['disabled']=!![],_0x3ddf0f['innerHTML']=_0x2ddcb3(0x3a4);try{const _0x26d4b9=document['getElementById'](_0x2ddcb3(0x74a))[_0x2ddcb3(0x8b5)],_0x327e78=document[_0x2ddcb3(0x442)](_0x2ddcb3(0x351));let _0xeb8d7d=[];const _0x569a0e=Array['from'](_0x327e78)[_0x2ddcb3(0x530)]((_0x45f3c6,_0x19ded9)=>{const _0x276ef9=_0x2ddcb3,_0x344efc=_0x45f3c6[_0x276ef9(0x8c8)]['qType'],_0x4cbfa9=_0x45f3c6[_0x276ef9(0x865)](_0x276ef9(0x69e))[_0x276ef9(0x8b5)];let _0x8f0c8e={'questionType':_0x344efc};const _0x2f5ca4=currentEditingQuizData[_0x276ef9(0x7f3)][_0x19ded9];switch(_0x344efc){case _0x276ef9(0x450):_0x8f0c8e[_0x276ef9(0x353)]=_0x4cbfa9;const _0x10c84b=_0x45f3c6['querySelectorAll']('input[type=\x22text\x22]');_0x8f0c8e[_0x276ef9(0x2c8)]=Array[_0x276ef9(0x8bc)](_0x10c84b)[_0x276ef9(0x530)](_0x2c47a7=>_0x2c47a7[_0x276ef9(0x8b5)]);const _0x46e1dd=_0x45f3c6['querySelector'](_0x276ef9(0x6d3));_0x8f0c8e[_0x276ef9(0x531)]=_0x46e1dd?parseInt(_0x46e1dd['value']):0x0;break;case'short_answer':_0x8f0c8e['questionText']=_0x4cbfa9,_0x8f0c8e[_0x276ef9(0x724)]=_0x45f3c6[_0x276ef9(0x865)](_0x276ef9(0x88c))[_0x276ef9(0x8b5)];break;case _0x276ef9(0x29b):_0x8f0c8e['questionText']=_0x4cbfa9;const _0x346bb2=_0x45f3c6[_0x276ef9(0x865)](_0x276ef9(0x6d3));_0x8f0c8e['correctAnswer']=_0x346bb2?_0x346bb2[_0x276ef9(0x8b5)]===_0x276ef9(0x375):!![];break;case _0x276ef9(0x479):_0x8f0c8e[_0x276ef9(0x509)]=_0x4cbfa9;const _0x2f9b80=_0x45f3c6[_0x276ef9(0x865)](_0x276ef9(0x687));_0x8f0c8e['correctResponse']=_0x2f9b80?_0x2f9b80[_0x276ef9(0x8b5)]:'',_0xeb8d7d[_0x276ef9(0x554)](_0x8f0c8e[_0x276ef9(0x4d5)]);break;default:_0x8f0c8e[_0x276ef9(0x353)]=_0x4cbfa9;break;}return{..._0x2f5ca4,..._0x8f0c8e};});_0xeb8d7d[_0x2ddcb3(0x1d7)]>0x0&&_0x569a0e[_0x2ddcb3(0x4ec)](_0x5d616c=>{const _0x22a290=_0x2ddcb3;_0x5d616c[_0x22a290(0x671)]==='matching_item'&&(_0x5d616c['allResponses']=_0xeb8d7d);});const _0x4bf681=currentEditingQuizData['id'],_0x29f1f3=doc(db,_0x2ddcb3(0x868)+appId+_0x2ddcb3(0x4e7),_0x4bf681);await updateDoc(_0x29f1f3,{'topic':_0x26d4b9,'questions':_0x569a0e}),showMessage('บันทึกการแก้ไขสำเร็จ'),document[_0x2ddcb3(0x437)](_0x2ddcb3(0x1e2))['classList']['add']('hidden'),showConfirmation('คุณต้องการตรวจคะแนนของนักเรียนที่ส่งมาแล้วทั้งหมดด้วยเฉลยชุดใหม่นี้หรือไม่?\x20(อาจใช้เวลาสักครู่)',()=>initiateReGradeProcess(_0x4bf681)),document['getElementById'](_0x2ddcb3(0x21e))['querySelector']('h3')[_0x2ddcb3(0x2dd)]='ตรวจคะแนนใหม่',document['getElementById'](_0x2ddcb3(0x2c5))['textContent']=_0x2ddcb3(0x45c);}catch(_0x471fd3){console[_0x2ddcb3(0x8cc)]('Error\x20saving\x20quiz\x20edits:',_0x471fd3),showMessage(_0x2ddcb3(0x286));}finally{_0x3ddf0f['disabled']=![],_0x3ddf0f[_0x2ddcb3(0x676)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x48acac){const _0x489ca4=_0x483b09;showMessage(_0x489ca4(0x64c));try{const _0x3337d9=doc(db,'artifacts/'+appId+_0x489ca4(0x4e7),_0x48acac),_0x239544=await getDoc(_0x3337d9);if(!_0x239544[_0x489ca4(0x830)]())throw new Error(_0x489ca4(0x5f4));const _0x477110={'id':_0x48acac,..._0x239544['data']()},_0x106a0c=collection(db,_0x489ca4(0x868)+appId+_0x489ca4(0x4e7),_0x48acac,'submissions'),_0x295e1b=await getDocs(_0x106a0c);if(_0x295e1b['empty']){showMessage(_0x489ca4(0x296));return;}const _0x58089d=_0x295e1b[_0x489ca4(0x714)][_0x489ca4(0x530)](_0x42f9ab=>reGradeSingleSubmission(_0x42f9ab,_0x477110));await Promise[_0x489ca4(0x4ee)](_0x58089d);if(_0x477110[_0x489ca4(0x52f)]){const _0x39c7d8=doc(db,_0x489ca4(0x868)+appId+_0x489ca4(0x23d),_0x477110['projectId']),_0x13d646=await getDoc(_0x39c7d8);if(_0x13d646[_0x489ca4(0x830)]()&&_0x13d646[_0x489ca4(0x6cb)]()['students']){const _0xf5cc86=_0x13d646['data']()[_0x489ca4(0x71b)][_0x489ca4(0x530)](_0x52fcee=>updateStudentProfile(_0x477110['projectId'],_0x52fcee));await Promise[_0x489ca4(0x4ee)](_0xf5cc86);}}showMessage(_0x489ca4(0x5de)+_0x295e1b[_0x489ca4(0x648)]+_0x489ca4(0x335));}catch(_0x39cc7a){console[_0x489ca4(0x8cc)](_0x489ca4(0x62c),_0x39cc7a),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x39cc7a[_0x489ca4(0x64f)]);}}async function reGradeSingleSubmission(_0x495a88,_0x407ce8){const _0x155203=_0x483b09,_0x3897a4=_0x495a88[_0x155203(0x6cb)](),_0x1938ca=_0x3897a4[_0x155203(0x5c0)],_0x2083e9=_0x3897a4['attempts']||[],_0x4f3d77=[];for(const _0x221a2e of _0x2083e9){let _0xa61b53=0x0,_0x3eb7e4=[],_0x49b761=0x0;const _0x84c817=[];for(const _0x49d782 of _0x221a2e[_0x155203(0x434)]){const _0x21a380=_0x407ce8[_0x155203(0x7f3)][_0x155203(0x413)](_0xc972bf=>(_0xc972bf[_0x155203(0x353)]||_0xc972bf[_0x155203(0x509)])===_0x49d782[_0x155203(0x7ee)]);let _0x36cfc3=![];if(_0x21a380){const _0xf1e9fa=_0x21a380[_0x155203(0x671)]||_0x407ce8[_0x155203(0x5da)];switch(_0xf1e9fa){case'multiple_choice':if(_0x21a380[_0x155203(0x2c8)]&&_0x21a380[_0x155203(0x531)]<_0x21a380[_0x155203(0x2c8)][_0x155203(0x1d7)]){const _0x260eb4=_0x21a380['options'][_0x21a380[_0x155203(0x531)]];_0x36cfc3=_0x49d782[_0x155203(0x52d)]===_0x260eb4;}break;case'true_false':const _0x2abb03=_0x49d782[_0x155203(0x67b)]===!![]||_0x49d782[_0x155203(0x67b)]===_0x155203(0x375);_0x36cfc3=_0x2abb03===_0x21a380[_0x155203(0x5ac)];break;case _0x155203(0x479):_0x36cfc3=_0x49d782[_0x155203(0x67b)]===_0x21a380[_0x155203(0x4d5)];break;case _0x155203(0x669):_0x36cfc3=await gradeShortAnswer(_0x49d782[_0x155203(0x67b)],_0x21a380);break;default:_0x36cfc3=_0x49d782['isCorrect'];break;}}if(_0x36cfc3){_0xa61b53++,_0x49b761++;if(_0x49b761===0x3)_0x3eb7e4['push'](BADGES['ON_FIRE']['id']);}else _0x49b761=0x0;_0x84c817[_0x155203(0x554)]({..._0x49d782,'isCorrect':_0x36cfc3});}let _0xe05083=_0xa61b53*0xa;_0xa61b53===_0x407ce8[_0x155203(0x7f3)]['length']&&(_0xe05083+=0x32,_0x3eb7e4[_0x155203(0x554)](BADGES[_0x155203(0x8a8)]['id'])),_0x4f3d77['push']({..._0x221a2e,'score':_0xa61b53,'points':_0xe05083,'badges':Array['from'](new Set(_0x3eb7e4)),'answers':_0x84c817});}const _0x51c53d=_0x4f3d77[_0x155203(0x1d7)]>0x0?_0x4f3d77[0x0]['score']:0x0,_0x371565=Math['max'](..._0x4f3d77[_0x155203(0x530)](_0x188738=>_0x188738[_0x155203(0x43a)])),_0x5800fc=_0x4f3d77[_0x155203(0x1d7)]>0x0?_0x4f3d77[_0x4f3d77[_0x155203(0x1d7)]-0x1][_0x155203(0x43a)]:0x0,_0x24bff0=_0x4f3d77[_0x155203(0x1d7)]>0x0?_0x4f3d77[_0x4f3d77[_0x155203(0x1d7)]-0x1]['points']:0x0,_0x1a2982=doc(db,_0x155203(0x868)+appId+'/public/data/quizzes/'+_0x407ce8['id']+_0x155203(0x225),_0x1938ca);await updateDoc(_0x1a2982,{'attempts':_0x4f3d77,'firstScore':_0x51c53d,'bestScore':_0x371565,'latestScore':_0x5800fc,'points':_0x24bff0});}function cleanupQuizOptions(_0x1fc9dd){const _0x155a20=_0x483b09,_0x57f55d=(_0x2877bc,_0x1b2d12)=>_0x1b2d12===0x0?_0x2877bc:_0x57f55d(_0x1b2d12,_0x2877bc%_0x1b2d12),_0x33ecf4=_0x1539c4=>{const _0x578102=_0x3cdb;if(typeof _0x1539c4!==_0x578102(0x35f))return null;_0x1539c4=_0x1539c4[_0x578102(0x8ad)]();const _0xec0648=_0x1539c4[_0x578102(0x514)](/[ /]/)['filter'](_0x9383b2=>_0x9383b2!=='');if(_0xec0648[_0x578102(0x1d7)]===0x3)return parseInt(_0xec0648[0x0])+parseInt(_0xec0648[0x1])/parseInt(_0xec0648[0x2]);else{if(_0xec0648['length']===0x2)return parseInt(_0xec0648[0x0])/parseInt(_0xec0648[0x1]);else{if(_0xec0648[_0x578102(0x1d7)]===0x1&&!isNaN(_0xec0648[0x0]))return parseFloat(_0xec0648[0x0]);}}return null;},_0x45cb17=_0x57d4f8=>{const _0xd7d458=_0x3cdb;if(typeof _0x57d4f8!==_0xd7d458(0x35f))return _0x57d4f8;const _0x27b113=_0x57d4f8['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x27b113){const _0x152a59=parseInt(_0x27b113[0x1]);let _0x37968d=parseInt(_0x27b113[0x2]),_0x3ef453=parseInt(_0x27b113[0x3]);const _0x5ed73a=_0x57f55d(_0x37968d,_0x3ef453);_0x37968d/=_0x5ed73a,_0x3ef453/=_0x5ed73a;if(_0x3ef453===0x1)return(_0x152a59+_0x37968d)[_0xd7d458(0x38c)]();return _0x152a59+'\x20'+_0x37968d+'/'+_0x3ef453;}return _0x57d4f8;};return _0x1fc9dd&&_0x1fc9dd[_0x155a20(0x7f3)]&&_0x1fc9dd[_0x155a20(0x7f3)][_0x155a20(0x4ec)](_0x21535d=>{const _0x80dd37=_0x155a20;if(_0x21535d[_0x80dd37(0x671)]===_0x80dd37(0x450)&&_0x21535d[_0x80dd37(0x2c8)]){const _0x14a66e=new Map(),_0x18c8f5=_0x21535d[_0x80dd37(0x2c8)][_0x21535d[_0x80dd37(0x531)]];_0x21535d['options'][_0x80dd37(0x4ec)](_0x4c0065=>{const _0x396a31=_0x80dd37,_0x449e97=_0x45cb17(_0x4c0065),_0x521a26=_0x33ecf4(_0x449e97);_0x521a26!==null&&!_0x14a66e[_0x396a31(0x27a)](_0x521a26)&&_0x14a66e[_0x396a31(0x643)](_0x521a26,_0x449e97);}),_0x21535d[_0x80dd37(0x2c8)]=Array[_0x80dd37(0x8bc)](_0x14a66e[_0x80dd37(0x426)]());const _0x27c21c=_0x21535d['options'][_0x80dd37(0x247)](_0x5e15b3=>_0x5e15b3===_0x45cb17(_0x18c8f5));_0x21535d[_0x80dd37(0x531)]=_0x27c21c!==-0x1?_0x27c21c:0x0;}}),_0x1fc9dd;}async function saveQuiz(){const _0xbc8447=_0x483b09;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0xbc8447(0x7f3)]||!userId){showMessage(_0xbc8447(0x8a7));return;}const _0x844d98=document['getElementById']('save-quiz-btn');_0x844d98['disabled']=!![],_0x844d98[_0xbc8447(0x676)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0xa6f094=document[_0xbc8447(0x437)](_0xbc8447(0x76e))[_0xbc8447(0x6b5)];let _0x10afe1=document['getElementById'](_0xbc8447(0x540))['innerText']['trim']();_0xa6f094&&!_0x10afe1[_0xbc8447(0x6a1)]('(ก่อนเรียน)')&&(_0x10afe1='(ก่อนเรียน)\x20'+_0x10afe1);try{const _0x1eb9b0={'resultsDisplay':document[_0xbc8447(0x437)](_0xbc8447(0x618))[_0xbc8447(0x8b5)],'shuffle':document[_0xbc8447(0x437)](_0xbc8447(0x559))[_0xbc8447(0x8b5)],'timerMode':document[_0xbc8447(0x437)](_0xbc8447(0x403))[_0xbc8447(0x8b5)],'timerDuration':parseInt(document['getElementById'](_0xbc8447(0x5a1))['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0xbc8447(0x673))[_0xbc8447(0x8b5)])||0x0,'isAdaptive':document[_0xbc8447(0x437)](_0xbc8447(0x2e2))[_0xbc8447(0x6b5)],'loopUntilPass':document[_0xbc8447(0x437)](_0xbc8447(0x5cd))[_0xbc8447(0x6b5)]},_0x5ce0fc=(currentQuizData[_0xbc8447(0x7f3)]||[])['map'](_0x1e62bb=>{const _0x3ddd3a=_0xbc8447,_0x171b1f=document[_0x3ddd3a(0x437)](_0x3ddd3a(0x6c1))[_0x3ddd3a(0x8b5)],_0x28e046={'questionText':_0x1e62bb[_0x3ddd3a(0x353)]||'','explanation':_0x1e62bb[_0x3ddd3a(0x86a)]||_0x3ddd3a(0x87c),'questionType':_0x1e62bb[_0x3ddd3a(0x671)]||_0x171b1f,'imageCode':_0x1e62bb[_0x3ddd3a(0x35c)]||null};return(_0x28e046[_0x3ddd3a(0x671)]===_0x3ddd3a(0x450)||_0x28e046[_0x3ddd3a(0x671)]===_0x3ddd3a(0x29f)||_0x28e046[_0x3ddd3a(0x671)]===_0x3ddd3a(0x578)&&_0x1e62bb[_0x3ddd3a(0x2c8)])&&(_0x28e046['options']=_0x1e62bb[_0x3ddd3a(0x2c8)]||[],_0x28e046[_0x3ddd3a(0x531)]=_0x1e62bb[_0x3ddd3a(0x531)]!==undefined?_0x1e62bb['correctAnswerIndex']:0x0),(_0x28e046[_0x3ddd3a(0x671)]==='short_answer'||_0x28e046[_0x3ddd3a(0x671)]==='fill_in_no_choices'||_0x28e046[_0x3ddd3a(0x671)]===_0x3ddd3a(0x578)&&_0x1e62bb[_0x3ddd3a(0x724)])&&(_0x28e046[_0x3ddd3a(0x724)]=_0x1e62bb[_0x3ddd3a(0x724)]||''),_0x28e046['questionType']==='true_false'&&(_0x28e046[_0x3ddd3a(0x5ac)]=_0x1e62bb[_0x3ddd3a(0x5ac)]===!![]),_0x28e046[_0x3ddd3a(0x671)]===_0x3ddd3a(0x479)&&(_0x28e046['stem']=_0x1e62bb[_0x3ddd3a(0x509)]||'',_0x28e046[_0x3ddd3a(0x4d5)]=_0x1e62bb['correctResponse']||'',_0x28e046['allResponses']=_0x1e62bb[_0x3ddd3a(0x501)]||[]),_0x28e046;}),_0xa0190f={'topic':_0x10afe1,'quizType':currentQuizData['quizType']||'multiple_choice','questions':_0x5ce0fc,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xbc8447(0x4cf)](),'status':_0xbc8447(0x25e),'settings':_0x1eb9b0,'quizMode':_0xa6f094?_0xbc8447(0x7eb):'standard','pairedQuizId':null,'lessonPlan':null};let _0x6ce424;while(!![]){_0x6ce424=Math[_0xbc8447(0x254)](0x3e8+Math[_0xbc8447(0x663)]()*0x2328)['toString']();const _0x37a6c1=await getDoc(doc(db,_0xbc8447(0x868)+appId+_0xbc8447(0x4e7),_0x6ce424));if(!_0x37a6c1['exists']())break;}await setDoc(doc(db,_0xbc8447(0x868)+appId+_0xbc8447(0x4e7),_0x6ce424),_0xa0190f),currentQuizData[_0xbc8447(0x2bd)]=_0x1eb9b0,currentQuizData['id']=_0x6ce424;const _0x88989d=document[_0xbc8447(0x437)](_0xbc8447(0x50b));_0x88989d[_0xbc8447(0x676)]=_0xbc8447(0x63a)+_0x6ce424+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0xbc8447(0x437)](_0xbc8447(0x790))[_0xbc8447(0x6b1)](_0xbc8447(0x5ff),()=>copyTextToClipboard(_0x6ce424,_0xbc8447(0x31a))),document[_0xbc8447(0x437)](_0xbc8447(0x2bf))[_0xbc8447(0x6b1)](_0xbc8447(0x5ff),()=>handleStartLiveRace(_0x6ce424)),document[_0xbc8447(0x437)]('start-presentation-btn')[_0xbc8447(0x6b1)](_0xbc8447(0x5ff),()=>startPresentation(currentQuizData)),document[_0xbc8447(0x437)]('admin-try-quiz-btn')[_0xbc8447(0x6b1)](_0xbc8447(0x5ff),startAdminTest),showMessage(_0xbc8447(0x74c));}catch(_0x1f986c){console['error'](_0xbc8447(0x840),_0x1f986c),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x844d98['disabled']=![],_0x844d98[_0xbc8447(0x676)]=_0xbc8447(0x4f0);}}function promptForProjectAndSave(){const _0x4ef106=_0x483b09,_0x116c29=document['getElementById']('move-quiz-modal'),_0x39afa0=document[_0x4ef106(0x437)](_0x4ef106(0x77d)),_0x15a273=_0x116c29['querySelector']('h3'),_0x2e853d=document[_0x4ef106(0x437)]('confirm-move-quiz-btn');_0x15a273['textContent']=_0x4ef106(0x36d),_0x2e853d[_0x4ef106(0x2dd)]=_0x4ef106(0x7b6);allProjects[_0x4ef106(0x1d7)]===0x0?(_0x39afa0[_0x4ef106(0x676)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x2e853d[_0x4ef106(0x766)]=!![]):(_0x39afa0['innerHTML']=allProjects[_0x4ef106(0x530)](_0x174d46=>_0x4ef106(0x7f0)+_0x174d46['id']+'\x22>'+_0x174d46[_0x4ef106(0x7d4)]+_0x4ef106(0x721))[_0x4ef106(0x939)](''),_0x2e853d['disabled']=![]);_0x116c29[_0x4ef106(0x49a)][_0x4ef106(0x355)](_0x4ef106(0x534));const _0x3309df=()=>{const _0x5702d2=_0x4ef106,_0x9595e0=_0x39afa0[_0x5702d2(0x8b5)];_0x9595e0?(currentProjectId=_0x9595e0,_0x116c29[_0x5702d2(0x49a)][_0x5702d2(0x3ba)](_0x5702d2(0x534)),saveQuiz(),_0x15a273[_0x5702d2(0x2dd)]=_0x5702d2(0x6fb),_0x2e853d['textContent']=_0x5702d2(0x877),_0x2e853d[_0x5702d2(0x3fe)](_0x5702d2(0x5ff),_0x3309df),_0x2e853d['addEventListener']('click',confirmMoveQuiz)):showMessage(_0x5702d2(0x400));};_0x2e853d[_0x4ef106(0x3fe)](_0x4ef106(0x5ff),confirmMoveQuiz),_0x2e853d[_0x4ef106(0x6b1)](_0x4ef106(0x5ff),_0x3309df);}function copyTextToClipboard(_0x67d3c1,_0x4b31ae){const _0x57b6f7=_0x483b09,_0x245686=document[_0x57b6f7(0x5c1)](_0x57b6f7(0x69e));_0x245686[_0x57b6f7(0x8b5)]=_0x67d3c1,_0x245686[_0x57b6f7(0x1f1)]['position']=_0x57b6f7(0x394),_0x245686[_0x57b6f7(0x1f1)][_0x57b6f7(0x314)]='0',document[_0x57b6f7(0x404)][_0x57b6f7(0x8f9)](_0x245686),_0x245686[_0x57b6f7(0x703)](),_0x245686[_0x57b6f7(0x562)]();try{const _0x2d6283=document[_0x57b6f7(0x6ad)](_0x57b6f7(0x715));showMessage(_0x2d6283?_0x4b31ae:'คัดลอกไม่สำเร็จ');}catch(_0x5e49e9){showMessage(_0x57b6f7(0x68a)),console['error']('Copy\x20command\x20failed',_0x5e49e9);}document[_0x57b6f7(0x404)][_0x57b6f7(0x8d7)](_0x245686);}function listenForProjectQuizzes(_0x45f3a5){const _0x4c418a=_0x483b09,_0x281417=collection(db,_0x4c418a(0x868)+appId+_0x4c418a(0x4e7)),_0xc50e67=query(_0x281417,where(_0x4c418a(0x52f),'==',_0x45f3a5));unsubscribeQuizzesListener=onSnapshot(_0xc50e67,async _0x4cc2e2=>{const _0x5de176=_0x4c418a;allQuizzes=_0x4cc2e2[_0x5de176(0x714)][_0x5de176(0x530)](_0x50adc8=>({'id':_0x50adc8['id'],..._0x50adc8[_0x5de176(0x6cb)]()})),renderQuizzes();},_0x576327=>{const _0x30688f=_0x4c418a;console[_0x30688f(0x8cc)]('Error\x20fetching\x20project\x20quizzes:',_0x576327),document[_0x30688f(0x437)](_0x30688f(0x3d0))[_0x30688f(0x676)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x5d7905=_0x483b09,_0x29102b=document[_0x5d7905(0x437)](_0x5d7905(0x3d0)),_0x1fd2d4=document[_0x5d7905(0x437)]('quiz-search-input')['value'][_0x5d7905(0x369)]();let _0x3435f7;currentProjectId===_0x5d7905(0x3ab)?_0x3435f7=starredQuizzes:_0x3435f7=allQuizzes;let _0x1558ef=_0x3435f7[_0x5d7905(0x72a)](_0x49e06a=>_0x49e06a[_0x5d7905(0x624)][_0x5d7905(0x369)]()[_0x5d7905(0x806)](_0x1fd2d4));_0x1558ef[_0x5d7905(0x205)]((_0x1cf30b,_0x3e21c2)=>new Date(_0x3e21c2[_0x5d7905(0x767)])-new Date(_0x1cf30b['createdAt']));if(_0x1558ef[_0x5d7905(0x1d7)]===0x0){_0x29102b[_0x5d7905(0x676)]=_0x5d7905(0x65e);return;}const _0x560c36={},_0x59300d=_0x1558ef[_0x5d7905(0x530)](async _0x4f4adf=>{const _0x350aca=_0x5d7905,_0x5d9777=collection(db,_0x350aca(0x868)+appId+_0x350aca(0x8ab)+_0x4f4adf['id']+_0x350aca(0x225)),_0x388b90=await getDocs(_0x5d9777);_0x560c36[_0x4f4adf['id']]=_0x388b90[_0x350aca(0x648)];});await Promise[_0x5d7905(0x4ee)](_0x59300d);let _0xf5a6b8='';_0x1558ef['forEach'](_0x3028a2=>{const _0x14a105=_0x5d7905,_0x32e05e=_0x560c36[_0x3028a2['id']]||0x0,_0x5eee5e=_0x3028a2[_0x14a105(0x647)]||'active',_0xe241f2=_0x3028a2['settings']?.['timerMode']||_0x14a105(0x728);let _0x2957bc='',_0x1649b8='';const _0x3602cb=new Date();let _0x5a83e0=_0x5eee5e;if(_0x5eee5e===_0x14a105(0x810)){const _0x4e26ec=_0x3028a2[_0x14a105(0x555)]?new Date(_0x3028a2[_0x14a105(0x555)]):null,_0x4a1a08=_0x3028a2['endTime']?new Date(_0x3028a2[_0x14a105(0x304)]):null;if(_0x4a1a08&&_0x3602cb>_0x4a1a08)_0x5a83e0=_0x14a105(0x5bf);else _0x4e26ec&&_0x3602cb<_0x4e26ec?_0x5a83e0=_0x14a105(0x77c):_0x5a83e0=_0x14a105(0x25e);}switch(_0x5a83e0){case _0x14a105(0x5bf):_0x2957bc=_0x14a105(0x252),_0x1649b8=_0x14a105(0x76d);break;case _0x14a105(0x77c):_0x2957bc=_0x14a105(0x383),_0x1649b8=_0x14a105(0x6dd);break;case'active':_0x2957bc=_0xe241f2!==_0x14a105(0x728)?_0x14a105(0x45f):_0x14a105(0x6e2),_0x1649b8=_0x14a105(0x755);break;default:_0x2957bc=_0x14a105(0x354),_0x1649b8='text-green-700\x20bg-green-100';break;}let _0x6b25f3='';const _0xe6ed69={'day':_0x14a105(0x3cb),'month':'2-digit','year':'numeric','hour':_0x14a105(0x3cb),'minute':_0x14a105(0x3cb),'hour12':![]};if(_0x5eee5e===_0x14a105(0x810)){if(_0x3028a2[_0x14a105(0x555)])_0x6b25f3+=_0x14a105(0x838)+new Date(_0x3028a2['startTime'])['toLocaleString'](_0x14a105(0x6a5),_0xe6ed69)+'</p>';if(_0x3028a2[_0x14a105(0x304)])_0x6b25f3+=_0x14a105(0x88a)+new Date(_0x3028a2[_0x14a105(0x304)])['toLocaleString'](_0x14a105(0x6a5),_0xe6ed69)+_0x14a105(0x590);}let _0x5a5c15='';if(_0x3028a2['pairedQuizId']){const _0x4ae7d7=allQuizzes[_0x14a105(0x413)](_0x24ffe0=>_0x24ffe0['id']===_0x3028a2[_0x14a105(0x789)]);if(_0x4ae7d7){let _0x404d43,_0x505e7f;new Date(_0x3028a2[_0x14a105(0x767)])<new Date(_0x4ae7d7[_0x14a105(0x767)])?(_0x404d43=_0x3028a2['id'],_0x505e7f=_0x4ae7d7['id']):(_0x404d43=_0x4ae7d7['id'],_0x505e7f=_0x3028a2['id']),_0x5a5c15+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x505e7f+_0x14a105(0x583)+_0x404d43+_0x14a105(0x2b8);}}else _0x3028a2['quizMode']===_0x14a105(0x7eb)&&(_0x5a5c15+=_0x14a105(0x736)+_0x3028a2['id']+_0x14a105(0x805));if(_0x3028a2[_0x14a105(0x86c)]==='pre-test'&&_0x32e05e>0x0)_0x5a5c15+=_0x14a105(0x736)+_0x3028a2['id']+_0x14a105(0x46e);else!_0x3028a2[_0x14a105(0x789)]&&_0x3028a2['quizMode']!==_0x14a105(0x7eb)&&_0x32e05e>0x0&&(_0x5a5c15+=_0x14a105(0x736)+_0x3028a2['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0xdfd48='';_0x3028a2['pairedQuizId']?_0xdfd48=_0x14a105(0x6c4)+_0x3028a2['id']+_0x14a105(0x201):_0xdfd48=_0x14a105(0x6c4)+_0x3028a2['id']+_0x14a105(0x269),_0xf5a6b8+=_0x14a105(0x384)+_0x3028a2['id']+_0x14a105(0x2ba)+_0x3028a2['topic']+_0x14a105(0x563)+_0x3028a2[_0x14a105(0x7f3)]['length']+_0x14a105(0x1fc)+new Date(_0x3028a2[_0x14a105(0x767)])['toLocaleString'](_0x14a105(0x6a5))+_0x14a105(0x63e)+_0x32e05e+_0x14a105(0x586)+_0x6b25f3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+_0x1649b8+'\x22>'+_0x2957bc+_0x14a105(0x417)+_0x3028a2['id']+_0x14a105(0x2fa)+_0x3028a2['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x3028a2['isStarred']?_0x14a105(0x91a):_0x14a105(0x748))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a5c15+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3028a2['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x3028a2['id']+_0x14a105(0x57d)+_0x3028a2['id']+_0x14a105(0x6a7)+_0x3028a2['id']+_0x14a105(0x5d8)+_0x3028a2['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3028a2['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3028a2['id']+_0x14a105(0x5b7)+_0x3028a2[_0x14a105(0x624)]+_0x14a105(0x2ac)+_0x3028a2['id']+_0x14a105(0x227)+_0x3028a2['id']+_0x14a105(0x5cb)+_0xdfd48+_0x14a105(0x258)+_0x3028a2['id']+_0x14a105(0x88b)+_0x3028a2['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3028a2['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3028a2['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3028a2['id']+_0x14a105(0x5b7)+_0x3028a2[_0x14a105(0x624)]+_0x14a105(0x7c5);}),_0x29102b[_0x5d7905(0x676)]=_0xf5a6b8,document['querySelectorAll'](_0x5d7905(0x6d9))['forEach'](_0x2335f8=>{const _0x3f3a81=_0x5d7905;_0x2335f8['addEventListener'](_0x3f3a81(0x5ff),()=>{const _0x3d2728=_0x3f3a81,_0x7d58ea=_0x2335f8[_0x3d2728(0x8c8)]['quizId'];showQuizDetailView(_0x7d58ea);});});}async function handleUnpairQuiz(_0x3af982){const _0x4241f3=_0x483b09,_0x2d6ef3=allQuizzes[_0x4241f3(0x413)](_0x3ea20b=>_0x3ea20b['id']===_0x3af982);if(!_0x2d6ef3||!_0x2d6ef3[_0x4241f3(0x789)]){showMessage(_0x4241f3(0x93a));return;}showConfirmation(_0x4241f3(0x7bc),async()=>{const _0x2e0fe6=_0x4241f3;try{const _0x16e416=doc(db,_0x2e0fe6(0x868)+appId+_0x2e0fe6(0x4e7),_0x3af982),_0x3bdeca=doc(db,_0x2e0fe6(0x868)+appId+'/public/data/quizzes',_0x2d6ef3['pairedQuizId']),_0x476536=writeBatch(db);_0x476536[_0x2e0fe6(0x59a)](_0x16e416,{'pairedQuizId':null}),_0x476536['update'](_0x3bdeca,{'pairedQuizId':null}),await _0x476536[_0x2e0fe6(0x4db)](),showMessage(_0x2e0fe6(0x397));}catch(_0x3c0d6e){console[_0x2e0fe6(0x8cc)](_0x2e0fe6(0x635),_0x3c0d6e),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x22180e,_0x505746){const _0x438a0b=_0x483b09,_0x5d0d83=window[_0x438a0b(0x6ff)]('',_0x438a0b(0x4ad)),_0x4e18a2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x505746[_0x438a0b(0x624)]+_0x438a0b(0x4be)+_0x505746['topic']+_0x438a0b(0x584)+_0x22180e[_0x438a0b(0x5ed)][_0x438a0b(0x530)](_0x35bb83=>_0x438a0b(0x2c1)+_0x35bb83+'</li>')[_0x438a0b(0x939)]('')+_0x438a0b(0x3d7)+_0x22180e[_0x438a0b(0x58d)]+_0x438a0b(0x833)+_0x22180e[_0x438a0b(0x8c0)][_0x438a0b(0x530)](_0x1da7f4=>_0x438a0b(0x631)+_0x1da7f4[_0x438a0b(0x2b4)]+_0x438a0b(0x5f8)+_0x1da7f4[_0x438a0b(0x8e0)]+_0x438a0b(0x544))[_0x438a0b(0x939)]('')+_0x438a0b(0x49e);_0x5d0d83[_0x438a0b(0x8ce)][_0x438a0b(0x3e8)](_0x4e18a2),_0x5d0d83[_0x438a0b(0x8ce)][_0x438a0b(0x42c)](),_0x5d0d83[_0x438a0b(0x8be)]=function(){setTimeout(()=>{const _0x89955d=_0x3cdb;_0x5d0d83[_0x89955d(0x7af)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x161b89){const _0x247d1c=_0x483b09;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x5509f1=doc(db,'artifacts/'+appId+_0x247d1c(0x4e7),_0x161b89),_0x2e57e2=await getDoc(_0x5509f1);if(!_0x2e57e2[_0x247d1c(0x830)]())throw new Error(_0x247d1c(0x5f4));const _0x4e06ff={'id':_0x161b89,..._0x2e57e2['data']()},_0x545173=collection(db,_0x247d1c(0x868)+appId+_0x247d1c(0x4e7),_0x161b89,'submissions'),_0x38cd0d=await getDocs(_0x545173),_0xf87bc5=_0x38cd0d[_0x247d1c(0x714)][_0x247d1c(0x530)](_0x3ffcb6=>_0x3ffcb6[_0x247d1c(0x6cb)]());if(_0xf87bc5[_0x247d1c(0x1d7)]===0x0)throw new Error(_0x247d1c(0x6d4));const _0x393132=calculateItemAnalysis(_0x4e06ff,_0xf87bc5)[_0x247d1c(0x8f6)],_0x536f1f=calculateDistractorAnalysis(_0x4e06ff,_0xf87bc5),_0x1ddf26=_0x6e1fc0=>{const _0x71493b=_0x247d1c;if(!_0x6e1fc0)return'';return _0x6e1fc0[_0x71493b(0x78d)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x71493b(0x78d)](/\n/g,'\x5cn');};let _0x31d361='สรุปผลการวิเคราะห์:\x5cn';_0x4e06ff[_0x247d1c(0x7f3)][_0x247d1c(0x4ec)]((_0x30abe9,_0x55a62d)=>{const _0x446677=_0x247d1c,_0x4237e4=_0x393132[_0x55a62d]?.['p'][_0x446677(0x508)](0x2)||'N/A',_0x1490ca=_0x393132[_0x55a62d]?.['r'][_0x446677(0x508)](0x2)||'N/A',_0x13ba0d=_0x1ddf26(_0x30abe9[_0x446677(0x353)]||_0x30abe9[_0x446677(0x509)]);_0x31d361+=_0x446677(0x224)+(_0x55a62d+0x1)+_0x446677(0x4ff)+_0x4237e4+',\x20r='+_0x1490ca+_0x446677(0x470)+_0x13ba0d+'\x5cn';if(_0x30abe9[_0x446677(0x671)]===_0x446677(0x450)&&_0x536f1f[_0x55a62d]){const _0x49816c=_0x536f1f[_0x55a62d],_0x48c7be=Object[_0x446677(0x571)](_0x49816c)[_0x446677(0x72a)](_0x6b1c27=>parseInt(_0x6b1c27)!==_0x30abe9[_0x446677(0x531)])['sort']((_0x2340c2,_0x5ccc60)=>_0x49816c[_0x5ccc60][_0x446677(0x204)]-_0x49816c[_0x2340c2][_0x446677(0x204)])[0x0];if(_0x48c7be&&_0x49816c[_0x48c7be]['total']>0x0){const _0x54685e=_0x1ddf26(_0x49816c[_0x48c7be]['text']);_0x31d361+=_0x446677(0x329)+_0x54685e+'\x22\x5cn';}}});const _0x281671=_0x247d1c(0x49f)+_0x4e06ff[_0x247d1c(0x624)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31d361+_0x247d1c(0x66d),_0x3e5c11={'type':_0x247d1c(0x3af),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x247d1c(0x36f)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x247d1c(0x362),'items':{'type':_0x247d1c(0x3af),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x247d1c(0x36f)}}}}},'required':['learningGaps',_0x247d1c(0x58d),_0x247d1c(0x8c0)]},_0x51369d=await callAnalysisApi(_0x281671,_0x3e5c11);await updateDoc(_0x5509f1,{'lessonPlan':_0x51369d});const _0x1b9e1f=_0x247d1c(0x772)+_0x4e06ff[_0x247d1c(0x624)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x51369d[_0x247d1c(0x5ed)]['map'](_0x4725f5=>_0x247d1c(0x2c1)+_0x4725f5+_0x247d1c(0x6db))[_0x247d1c(0x939)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x51369d['teachingContent']+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x51369d[_0x247d1c(0x8c0)][_0x247d1c(0x530)](_0xafd8ea=>_0x247d1c(0x215)+_0xafd8ea[_0x247d1c(0x2b4)]+_0x247d1c(0x7a7)+_0xafd8ea[_0x247d1c(0x8e0)]+_0x247d1c(0x295))['join']('')+_0x247d1c(0x41b);document[_0x247d1c(0x437)](_0x247d1c(0x6ef))['textContent']=_0x247d1c(0x4fd)+_0x4e06ff['topic'],document[_0x247d1c(0x437)](_0x247d1c(0x53a))['innerHTML']=_0x1b9e1f,document[_0x247d1c(0x437)](_0x247d1c(0x7ea))['classList']['remove'](_0x247d1c(0x534));if(window[_0x247d1c(0x875)])MathJax['typesetPromise']();messageModal[_0x247d1c(0x49a)]['add'](_0x247d1c(0x534));}catch(_0x3c9fb3){console[_0x247d1c(0x8cc)](_0x247d1c(0x733),_0x3c9fb3),showMessage(_0x247d1c(0x787)+_0x3c9fb3[_0x247d1c(0x64f)]);}}async function handleDuplicateQuiz(_0x2b6f3b){const _0x50f21c=_0x483b09;try{const _0x2807bb=doc(db,_0x50f21c(0x868)+appId+_0x50f21c(0x4e7),_0x2b6f3b),_0x574946=await getDoc(_0x2807bb);if(_0x574946[_0x50f21c(0x830)]()){const _0x41cf79=_0x574946['data']();let _0x1300e7='',_0x2a6284='standard',_0x2174e9=null;if(_0x41cf79[_0x50f21c(0x86c)]===_0x50f21c(0x7eb)){let _0x3824ea=_0x41cf79[_0x50f21c(0x624)][_0x50f21c(0x78d)](_0x50f21c(0x857),'')[_0x50f21c(0x8ad)]();_0x1300e7=_0x50f21c(0x7ae)+_0x3824ea,_0x2a6284=_0x50f21c(0x6da),_0x2174e9=_0x2b6f3b;}else _0x1300e7=_0x50f21c(0x1ee)+_0x41cf79['topic'];const _0x44a709={..._0x41cf79,'topic':_0x1300e7,'createdAt':new Date()['toISOString'](),'quizMode':_0x2a6284,'pairedQuizId':_0x2174e9};let _0x425b92;while(!![]){_0x425b92=Math['floor'](0x3e8+Math[_0x50f21c(0x663)]()*0x2328)[_0x50f21c(0x38c)]();const _0x4cfe70=await getDoc(doc(db,_0x50f21c(0x868)+appId+_0x50f21c(0x4e7),_0x425b92));if(!_0x4cfe70[_0x50f21c(0x830)]())break;}const _0x14611f=doc(db,'artifacts/'+appId+_0x50f21c(0x4e7),_0x425b92);await setDoc(_0x14611f,_0x44a709),_0x44a709[_0x50f21c(0x86c)]==='post-test'&&await updateDoc(_0x2807bb,{'pairedQuizId':_0x425b92}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x50f21c(0x5b6));}catch(_0x31f72e){console[_0x50f21c(0x8cc)](_0x50f21c(0x8f8),_0x31f72e),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x3babea,_0x12ccdf=!![]){const _0x3b8abb=_0x483b09;try{const _0x1acb00=writeBatch(db),_0x643284=collection(db,'artifacts/'+appId+_0x3b8abb(0x8ab)+_0x3babea+_0x3b8abb(0x225)),_0x336421=await getDocs(_0x643284);_0x336421[_0x3b8abb(0x4ec)](_0x596b29=>{const _0x4bb689=_0x3b8abb;_0x1acb00[_0x4bb689(0x802)](doc(_0x643284,_0x596b29['id']));});const _0x44a8b3=doc(db,'artifacts/'+appId+_0x3b8abb(0x4e7),_0x3babea);_0x1acb00[_0x3b8abb(0x802)](_0x44a8b3),await _0x1acb00[_0x3b8abb(0x4db)](),_0x12ccdf&&showMessage(_0x3b8abb(0x6e1));}catch(_0x22a277){console[_0x3b8abb(0x8cc)](_0x3b8abb(0x37b),_0x22a277),_0x12ccdf&&showMessage(_0x3b8abb(0x2fe));}}async function showQuizDetailView(_0x46f492){const _0xd8cb58=_0x483b09;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0xd8cb58(0x72e));try{const _0x1fa707=doc(db,'artifacts/'+appId+_0xd8cb58(0x4e7),_0x46f492),_0x5e87ed=await getDoc(_0x1fa707);if(!_0x5e87ed['exists']()){showMessage(_0xd8cb58(0x5f4));return;}const _0x32cd5a={'id':_0x5e87ed['id'],..._0x5e87ed[_0xd8cb58(0x6cb)]()};currentQuizData=_0x32cd5a;const _0x3b9f96=doc(db,_0xd8cb58(0x868)+appId+'/public/data/projects',_0x32cd5a[_0xd8cb58(0x52f)]),_0xcd47b2=await getDoc(_0x3b9f96);_0xcd47b2['exists']()?(currentProjectData=_0xcd47b2['data'](),currentProjectId=_0x32cd5a[_0xd8cb58(0x52f)]):(currentProjectData={'students':[]},currentProjectId=_0x32cd5a[_0xd8cb58(0x52f)]);document[_0xd8cb58(0x437)]('results-quiz-title')[_0xd8cb58(0x2dd)]=_0x32cd5a[_0xd8cb58(0x624)],document[_0xd8cb58(0x437)](_0xd8cb58(0x2da))[_0xd8cb58(0x2dd)]=_0x46f492;const _0x5153ef=collection(db,'artifacts/'+appId+_0xd8cb58(0x4e7),_0x46f492,_0xd8cb58(0x1de));unsubscribeSubmissionsListener=onSnapshot(_0x5153ef,_0x2651e5=>{const _0x1495ac=_0xd8cb58,_0x5d973c=_0x2651e5[_0x1495ac(0x714)][_0x1495ac(0x530)](_0x349efe=>({'id':_0x349efe['id'],..._0x349efe[_0x1495ac(0x6cb)]()}));currentSubmissions=_0x5d973c,renderBehaviorLog(_0x5d973c),renderAnswerGrid(currentProjectData['students'],_0x5d973c,_0x32cd5a),renderAnalytics(_0x32cd5a,_0x5d973c),renderQuizResultsTable(currentProjectData[_0x1495ac(0x71b)],_0x5d973c,_0x32cd5a),renderQuizLeaderboard(_0x5d973c,_0x32cd5a,_0x1495ac(0x232));}),showView(_0xd8cb58(0x291));}catch(_0xa7181c){console[_0xd8cb58(0x8cc)](_0xd8cb58(0x5a3),_0xa7181c),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x5a2310,_0x5b0f4f,_0x2da40e){const _0xf83650=_0x483b09,_0x1b8955=document[_0xf83650(0x437)](_0xf83650(0x6b2));if(!_0x1b8955)return;if(!_0x5a2310||_0x5a2310[_0xf83650(0x1d7)]===0x0){_0x1b8955['innerHTML']=_0xf83650(0x756);return;}const _0x440da0=_0x2da40e['questions'],_0x58643d=_0x5b0f4f[_0xf83650(0x4fe)]((_0x289cd0,_0x485dd4)=>{const _0x3d827f=_0xf83650;return _0x289cd0[_0x485dd4[_0x3d827f(0x5c0)]]=_0x485dd4,_0x289cd0;},{}),_0x13e848=_0x5a874b=>String[_0xf83650(0x2a0)](0x41+_0x5a874b),_0x2a9047=_0x2cf522=>{const _0x1b8cae=_0xf83650,_0x64736b=_0x2cf522[_0x1b8cae(0x671)]||_0x2da40e['quizType'];switch(_0x64736b){case _0x1b8cae(0x450):return _0x2cf522[_0x1b8cae(0x2c8)]&&_0x2cf522[_0x1b8cae(0x2c8)][_0x1b8cae(0x1d7)]>_0x2cf522[_0x1b8cae(0x531)]?_0x13e848(_0x2cf522[_0x1b8cae(0x531)]):'-';case _0x1b8cae(0x29b):return _0x2cf522[_0x1b8cae(0x5ac)]?_0x1b8cae(0x326):_0x1b8cae(0x1f2);case _0x1b8cae(0x479):return _0x2cf522[_0x1b8cae(0x4d5)]||'-';case _0x1b8cae(0x669):return _0x1b8cae(0x888);default:return'-';}},_0x2714a1=(_0x48cc30,_0x5551db)=>{const _0x1315ef=_0xf83650;if(_0x5551db[_0x1315ef(0x67b)]===null||_0x5551db[_0x1315ef(0x67b)]===undefined)return'-';const _0x55346c=_0x48cc30[_0x1315ef(0x671)]||_0x2da40e[_0x1315ef(0x5da)];switch(_0x55346c){case'multiple_choice':const _0x1d4425=_0x48cc30[_0x1315ef(0x2c8)][_0x1315ef(0x247)](_0x518538=>_0x518538===_0x5551db[_0x1315ef(0x52d)]);return _0x1d4425!==-0x1?_0x13e848(_0x1d4425):_0x5551db['answerText']||'-';case _0x1315ef(0x29b):return _0x5551db[_0x1315ef(0x67b)]===_0x1315ef(0x375)||_0x5551db['answer']===!![]?'ใช่':_0x1315ef(0x1f2);default:return _0x5551db[_0x1315ef(0x67b)];}};let _0x20cd2f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x440da0['map']((_0x3ad7f0,_0x3218df)=>_0xf83650(0x8d6)+(_0x3218df+0x1)+_0xf83650(0x6b0))[_0xf83650(0x939)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x440da0[_0xf83650(0x530)](_0x173c0e=>_0xf83650(0x83d)+_0x2a9047(_0x173c0e)+_0xf83650(0x1f7))[_0xf83650(0x939)]('')+_0xf83650(0x5ca);_0x5a2310['forEach'](_0x449c69=>{const _0x45586f=_0xf83650;_0x20cd2f+=_0x45586f(0x7dd),_0x20cd2f+=_0x45586f(0x8ef)+_0x449c69+_0x45586f(0x1f7);const _0x523ea0=_0x58643d[_0x449c69];if(_0x523ea0){const _0x16f399=_0x523ea0['attempts'][_0x523ea0[_0x45586f(0x933)][_0x45586f(0x1d7)]-0x1];_0x440da0[_0x45586f(0x4ec)]((_0x231da8,_0x537d9f)=>{const _0x11d17e=_0x45586f,_0x26f052=_0x16f399[_0x11d17e(0x434)]['find'](_0x471943=>_0x471943[_0x11d17e(0x7ee)]===(_0x231da8[_0x11d17e(0x509)]||_0x231da8[_0x11d17e(0x353)]));if(_0x26f052){let _0x143c9d=![];const _0x4e1960=_0x231da8['questionType']||_0x2da40e[_0x11d17e(0x5da)];if(_0x26f052['answer']!==null&&_0x26f052[_0x11d17e(0x67b)]!==undefined)switch(_0x4e1960){case _0x11d17e(0x450):const _0x20d584=_0x231da8[_0x11d17e(0x2c8)][_0x231da8[_0x11d17e(0x531)]];_0x143c9d=_0x26f052['answerText']===_0x20d584;break;case'true_false':const _0x5bdaa7=_0x26f052['answer']===!![]||_0x26f052[_0x11d17e(0x67b)]===_0x11d17e(0x375);_0x143c9d=_0x5bdaa7===_0x231da8[_0x11d17e(0x5ac)];break;case _0x11d17e(0x479):_0x143c9d=_0x26f052[_0x11d17e(0x67b)]===_0x231da8[_0x11d17e(0x4d5)];break;default:_0x143c9d=_0x26f052[_0x11d17e(0x699)];break;}const _0x1ff3c2=_0x143c9d?_0x11d17e(0x7b4):_0x11d17e(0x91f);_0x20cd2f+=_0x11d17e(0x4c4)+_0x1ff3c2+'\x22>'+_0x2714a1(_0x231da8,_0x26f052)+_0x11d17e(0x1f7);}else _0x20cd2f+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x20cd2f+=_0x440da0[_0x45586f(0x530)](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x45586f(0x939)]('');_0x20cd2f+=_0x45586f(0x3cc);}),_0x20cd2f+=_0xf83650(0x3d5),_0x1b8955[_0xf83650(0x676)]=_0x20cd2f;}function renderQuizResultsTable(_0x167a00,_0x424147,_0x2e4a78){const _0x39e74d=_0x483b09,_0x7150be=_0x424147[_0x39e74d(0x4fe)]((_0x1bb5a4,_0x618b22)=>{const _0x56f679=_0x39e74d;return _0x1bb5a4[_0x618b22[_0x56f679(0x5c0)]]=_0x618b22,_0x1bb5a4;},{}),_0x474df5=document[_0x39e74d(0x865)](_0x39e74d(0x70a));_0x474df5&&!_0x474df5['innerHTML'][_0x39e74d(0x806)](_0x39e74d(0x40b))&&(_0x474df5['innerHTML']+=_0x39e74d(0x499));const _0x39fdbe=document['getElementById']('quiz-results-table-body');if(!_0x167a00||_0x167a00['length']===0x0){_0x39fdbe['innerHTML']=_0x39e74d(0x61a);return;}const _0x4bdfd8=_0x2e4a78[_0x39e74d(0x37f)]===!![],_0x230573=_0x2e4a78[_0x39e74d(0x2bd)]?.[_0x39e74d(0x723)]??-0x1;let _0x3f52b4='';_0x167a00[_0x39e74d(0x4ec)](_0x805c29=>{const _0x54ef33=_0x39e74d,_0x32992e=_0x7150be[_0x805c29];let _0x138bbe=_0x54ef33(0x629),_0x2802bd='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x4bdfd8?_0x54ef33(0x237):_0x54ef33(0x7de))+'\x22>'+(_0x4bdfd8?_0x54ef33(0x909):_0x54ef33(0x800))+_0x54ef33(0x51e);if(_0x32992e){let _0xad48a7=_0x4bdfd8?_0x32992e['bestScore']===_0x32992e['totalQuestions']:_0x230573!==-0x1&&_0x32992e['bestScore']>=_0x230573;if(_0x4bdfd8||_0x230573!==-0x1){const _0x312e21=_0xad48a7?_0x54ef33(0x7f5):_0x54ef33(0x34c),_0x5e561e=_0xad48a7?'ผ่าน':'ไม่ผ่าน';_0x138bbe='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x312e21+'\x22>'+_0x5e561e+_0x54ef33(0x51e);}const _0x219b0e=_0x54ef33(0x561)+(_0x32992e['attempts']?.[_0x54ef33(0x1d7)]||0x1)+_0x54ef33(0x546);_0x3f52b4+=_0x54ef33(0x6d7)+_0x805c29+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x32992e[_0x54ef33(0x49d)]+_0x54ef33(0x7be)+_0x32992e[_0x54ef33(0x267)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x138bbe+_0x54ef33(0x771)+_0x2802bd+_0x54ef33(0x753)+_0x32992e[_0x54ef33(0x380)]+_0x54ef33(0x7be)+_0x32992e[_0x54ef33(0x267)]+_0x54ef33(0x5be)+_0x32992e[_0x54ef33(0x7aa)]+_0x54ef33(0x7be)+_0x32992e[_0x54ef33(0x267)]+_0x54ef33(0x313)+(_0x32992e['points']||0x0)+_0x54ef33(0x506)+_0x219b0e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x32992e[_0x54ef33(0x5c7)])['toLocaleString'](_0x54ef33(0x6a5))+_0x54ef33(0x577)+_0x805c29+_0x54ef33(0x39a);}else{const _0x1ee6dc=_0x54ef33(0x428);_0x3f52b4+=_0x54ef33(0x6d7)+_0x805c29+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2802bd+_0x54ef33(0x2f1)+_0x1ee6dc+_0x54ef33(0x74e);}}),_0x39fdbe[_0x39e74d(0x676)]=_0x3f52b4;}function _0x3cdb(_0x54d90c,_0x40a655){const _0x1771e4=_0x1771();return _0x3cdb=function(_0x3cdbbb,_0x184fe5){_0x3cdbbb=_0x3cdbbb-0x1c5;let _0xc0cc81=_0x1771e4[_0x3cdbbb];return _0xc0cc81;},_0x3cdb(_0x54d90c,_0x40a655);}async function confirmRenameQuiz(){const _0x39a395=_0x483b09,_0x2e5336=document[_0x39a395(0x437)](_0x39a395(0x8d4))[_0x39a395(0x8b5)][_0x39a395(0x8ad)]();if(!_0x2e5336){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x8a583c=doc(db,_0x39a395(0x868)+appId+_0x39a395(0x4e7),actionTargetId);try{await updateDoc(_0x8a583c,{'topic':_0x2e5336}),showMessage(_0x39a395(0x492)),renameQuizModal[_0x39a395(0x49a)]['add'](_0x39a395(0x534)),actionTargetId=null;}catch(_0x34c028){console[_0x39a395(0x8cc)](_0x39a395(0x37a),_0x34c028),showMessage(_0x39a395(0x7c4));}}async function handleMoveQuiz(_0x2f5630){const _0x5d49dc=_0x483b09;actionTargetId=_0x2f5630;const _0x1335df=document[_0x5d49dc(0x437)](_0x5d49dc(0x77d));_0x1335df[_0x5d49dc(0x676)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal['classList'][_0x5d49dc(0x355)](_0x5d49dc(0x534));try{const _0x4f2481=collection(db,_0x5d49dc(0x868)+appId+_0x5d49dc(0x23d)),_0x37541e=await getDocs(_0x4f2481),_0x40ffb9=_0x37541e['docs'][_0x5d49dc(0x530)](_0x2c2548=>({'id':_0x2c2548['id'],..._0x2c2548[_0x5d49dc(0x6cb)]()})),_0x34ddc5=_0x40ffb9[_0x5d49dc(0x72a)](_0x2b733e=>_0x2b733e['id']!==currentProjectId);if(_0x34ddc5[_0x5d49dc(0x1d7)]===0x0){_0x1335df['innerHTML']='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document['getElementById'](_0x5d49dc(0x599))[_0x5d49dc(0x766)]=!![];return;}_0x1335df[_0x5d49dc(0x676)]=_0x34ddc5[_0x5d49dc(0x530)](_0x35c18c=>_0x5d49dc(0x7f0)+_0x35c18c['id']+'\x22>'+_0x35c18c[_0x5d49dc(0x7d4)]+_0x5d49dc(0x721))[_0x5d49dc(0x939)](''),document[_0x5d49dc(0x437)](_0x5d49dc(0x599))[_0x5d49dc(0x766)]=![];}catch(_0x163dc2){console[_0x5d49dc(0x8cc)]('Error\x20fetching\x20projects\x20for\x20move:',_0x163dc2),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x5d49dc(0x49a)][_0x5d49dc(0x3ba)](_0x5d49dc(0x534));}}async function confirmMoveQuiz(){const _0x2d1626=_0x483b09,_0x4758d5=document['getElementById'](_0x2d1626(0x77d))[_0x2d1626(0x8b5)];if(!_0x4758d5){showMessage(_0x2d1626(0x72d));return;}if(!actionTargetId)return;const _0xccf21b=doc(db,_0x2d1626(0x868)+appId+_0x2d1626(0x4e7),actionTargetId);try{await updateDoc(_0xccf21b,{'projectId':_0x4758d5}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x2d1626(0x49a)][_0x2d1626(0x3ba)](_0x2d1626(0x534)),actionTargetId=null;}catch(_0x7f6fa8){console[_0x2d1626(0x8cc)]('Error\x20moving\x20quiz:',_0x7f6fa8),showMessage(_0x2d1626(0x545));}}async function handleQuizSettings(_0x217178){const _0x497be2=_0x483b09;actionTargetId=_0x217178;const _0x48cb8f=doc(db,_0x497be2(0x868)+appId+_0x497be2(0x4e7),_0x217178);try{const _0x2ae472=await getDoc(_0x48cb8f);if(_0x2ae472[_0x497be2(0x830)]()){const _0x27cb7c=_0x2ae472[_0x497be2(0x6cb)](),_0x3c8fe8=_0x27cb7c[_0x497be2(0x2bd)]||{},_0x1522ee=_0x27cb7c[_0x497be2(0x7f3)][_0x497be2(0x1d7)];document['getElementById'](_0x497be2(0x1fe))[_0x497be2(0x8b5)]=_0x3c8fe8['shuffle']||_0x497be2(0x728),document[_0x497be2(0x437)](_0x497be2(0x20a))[_0x497be2(0x8b5)]=_0x3c8fe8[_0x497be2(0x60d)]||'show_results_and_answers',document[_0x497be2(0x437)]('modal-timer-mode-select')[_0x497be2(0x8b5)]=_0x3c8fe8['timerMode']||_0x497be2(0x728),document[_0x497be2(0x437)](_0x497be2(0x7db))[_0x497be2(0x8b5)]=_0x3c8fe8[_0x497be2(0x5e2)]||0xa,document['getElementById'](_0x497be2(0x374))[_0x497be2(0x8b5)]=_0x3c8fe8[_0x497be2(0x723)]||Math[_0x497be2(0x254)](_0x1522ee/0x2),document[_0x497be2(0x437)](_0x497be2(0x374))[_0x497be2(0x250)]=_0x1522ee,document[_0x497be2(0x437)](_0x497be2(0x7f8))['checked']=_0x3c8fe8[_0x497be2(0x38d)]||![],document['getElementById'](_0x497be2(0x6bb))[_0x497be2(0x6b5)]=_0x3c8fe8[_0x497be2(0x5b8)]||![],document[_0x497be2(0x437)](_0x497be2(0x829))[_0x497be2(0x308)](new Event(_0x497be2(0x2ab))),quizSettingsModal[_0x497be2(0x49a)][_0x497be2(0x355)](_0x497be2(0x534));}else showMessage(_0x497be2(0x5f4));}catch(_0x1e7684){console['error'](_0x497be2(0x763),_0x1e7684),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x16414c=_0x483b09;if(!actionTargetId)return;const _0x33ee03=doc(db,_0x16414c(0x868)+appId+_0x16414c(0x4e7),actionTargetId),_0x1c5b0f={'shuffle':document[_0x16414c(0x437)](_0x16414c(0x1fe))[_0x16414c(0x8b5)],'resultsDisplay':document[_0x16414c(0x437)](_0x16414c(0x20a))['value'],'timerMode':document[_0x16414c(0x437)](_0x16414c(0x829))[_0x16414c(0x8b5)],'timerDuration':parseInt(document[_0x16414c(0x437)]('modal-timer-duration-input')[_0x16414c(0x8b5)])||0xa,'passingScore':parseInt(document['getElementById'](_0x16414c(0x374))['value'])||0x0,'passingScore':parseInt(document[_0x16414c(0x437)](_0x16414c(0x374))[_0x16414c(0x8b5)])||0x0,'isAdaptive':document[_0x16414c(0x437)](_0x16414c(0x7f8))[_0x16414c(0x6b5)],'loopUntilPass':document['getElementById'](_0x16414c(0x6bb))['checked']};try{await updateDoc(_0x33ee03,{'settings':_0x1c5b0f}),showMessage(_0x16414c(0x1c6)),quizSettingsModal[_0x16414c(0x49a)][_0x16414c(0x3ba)](_0x16414c(0x534)),actionTargetId=null;}catch(_0x43a194){console[_0x16414c(0x8cc)](_0x16414c(0x898),_0x43a194),showMessage(_0x16414c(0x286));}}async function handleQuizStatus(_0x4c2840){const _0x918470=_0x483b09;actionTargetId=_0x4c2840;const _0x28d333=doc(db,'artifacts/'+appId+_0x918470(0x4e7),_0x4c2840);try{const _0xb3719f=await getDoc(_0x28d333);if(_0xb3719f[_0x918470(0x830)]()){const _0x2a0848=_0xb3719f[_0x918470(0x6cb)](),_0x21d0f6=_0x2a0848[_0x918470(0x647)]||'active',_0x37d7ea=document[_0x918470(0x437)]('quiz-status-options'),_0x4b72c4=document['getElementById'](_0x918470(0x76b)),_0x3c0e0d=document[_0x918470(0x437)](_0x918470(0x6f8));let _0x442b9c=_0x918470(0x45b)+(_0x21d0f6===_0x918470(0x25e)?_0x918470(0x6b5):'')+_0x918470(0x3e4)+(_0x21d0f6===_0x918470(0x5bf)?'checked':'')+_0x918470(0x882)+(_0x21d0f6===_0x918470(0x810)?_0x918470(0x6b5):'')+_0x918470(0x5dc);_0x37d7ea[_0x918470(0x676)]=_0x442b9c;const _0xce74f4=_0x21d0f6===_0x918470(0x810);_0x4b72c4[_0x918470(0x49a)][_0x918470(0x238)](_0x918470(0x534),!_0xce74f4),_0x3c0e0d[_0x918470(0x49a)]['toggle'](_0x918470(0x534),!_0xce74f4),document[_0x918470(0x437)](_0x918470(0x48d))[_0x918470(0x8b5)]=_0x2a0848[_0x918470(0x555)]?_0x2a0848[_0x918470(0x555)][_0x918470(0x8fb)](0x0,0x10):'',document[_0x918470(0x437)](_0x918470(0x444))[_0x918470(0x8b5)]=_0x2a0848['endTime']?_0x2a0848[_0x918470(0x304)][_0x918470(0x8fb)](0x0,0x10):'',_0x37d7ea['querySelectorAll']('input[name=\x22status-option\x22]')[_0x918470(0x4ec)](_0x112558=>{const _0x5b0530=_0x918470;_0x112558[_0x5b0530(0x6b1)](_0x5b0530(0x2ab),_0x5245b0=>{const _0x2bce01=_0x5b0530,_0x2a95bd=_0x5245b0[_0x2bce01(0x4de)][_0x2bce01(0x8b5)]===_0x2bce01(0x638);_0x4b72c4[_0x2bce01(0x49a)][_0x2bce01(0x238)]('hidden',!_0x2a95bd),_0x3c0e0d[_0x2bce01(0x49a)][_0x2bce01(0x238)](_0x2bce01(0x534),!_0x2a95bd);});}),quizStatusModal[_0x918470(0x49a)]['remove'](_0x918470(0x534));}}catch(_0x47fc1c){console[_0x918470(0x8cc)](_0x918470(0x839),_0x47fc1c),showMessage(_0x918470(0x510));}}async function confirmQuizStatus(){const _0x282fc1=_0x483b09;if(!actionTargetId)return;const _0x2ff68e=doc(db,_0x282fc1(0x868)+appId+_0x282fc1(0x4e7),actionTargetId),_0x38825f=document[_0x282fc1(0x865)](_0x282fc1(0x2b5));if(!_0x38825f){showMessage(_0x282fc1(0x726));return;}const _0x1e6203=_0x38825f[_0x282fc1(0x8b5)];let _0x5cbbda={};if(_0x1e6203===_0x282fc1(0x25e)||_0x1e6203===_0x282fc1(0x5bf))_0x5cbbda={'status':_0x1e6203,'startTime':null,'endTime':null};else{if(_0x1e6203==='schedule'){const _0x37452d=document[_0x282fc1(0x437)](_0x282fc1(0x48d))['value'],_0x36fae7=document[_0x282fc1(0x437)](_0x282fc1(0x444))['value'];if(!_0x37452d&&!_0x36fae7){showMessage(_0x282fc1(0x2eb));return;}_0x5cbbda={'status':'scheduled','startTime':_0x37452d?new Date(_0x37452d)[_0x282fc1(0x4cf)]():null,'endTime':_0x36fae7?new Date(_0x36fae7)[_0x282fc1(0x4cf)]():null};}}try{await updateDoc(_0x2ff68e,_0x5cbbda),showMessage(_0x282fc1(0x911)),quizStatusModal[_0x282fc1(0x49a)][_0x282fc1(0x3ba)](_0x282fc1(0x534)),actionTargetId=null;}catch(_0x31b92a){console[_0x282fc1(0x8cc)](_0x282fc1(0x900),_0x31b92a),showMessage(_0x282fc1(0x4d4));}}function listenForStudentProfiles(_0x3a4c64){const _0x21b420=_0x483b09,_0xafe3e0=collection(db,_0x21b420(0x868)+appId+'/public/data/projects/'+_0x3a4c64+_0x21b420(0x1f6));unsubscribeStudentProfilesListener=onSnapshot(_0xafe3e0,_0x3819e3=>{const _0x525348=_0x21b420,_0x54ba91=_0x3819e3[_0x525348(0x714)][_0x525348(0x530)](_0x51f902=>_0x51f902[_0x525348(0x6cb)]());renderLeaderboard(_0x54ba91,'leaderboard-table-body');},_0x21fd2b=>{const _0x3093fb=_0x21b420;console[_0x3093fb(0x8cc)](_0x3093fb(0x1cb),_0x21fd2b),document[_0x3093fb(0x437)](_0x3093fb(0x4d6))['innerHTML']=_0x3093fb(0x468);});}function renderLeaderboard(_0x4bf4ce,_0x5b1ccb){const _0x39c0cc=_0x483b09,_0x19a495=document[_0x39c0cc(0x437)](_0x5b1ccb);if(!_0x4bf4ce||_0x4bf4ce['length']===0x0){_0x19a495[_0x39c0cc(0x676)]=_0x39c0cc(0x60a);return;}_0x4bf4ce[_0x39c0cc(0x205)]((_0x907f1e,_0x3f5c33)=>{const _0x581e71=_0x39c0cc,_0x494d20=(_0x3f5c33[_0x581e71(0x739)]||0x0)-(_0x907f1e[_0x581e71(0x739)]||0x0);if(_0x494d20!==0x0)return _0x494d20;const _0x4db96b=(_0x3f5c33[_0x581e71(0x6b8)]?.[_0x581e71(0x5af)]||0x0)-(_0x907f1e[_0x581e71(0x6b8)]?.['specialist']||0x0);if(_0x4db96b!==0x0)return _0x4db96b;const _0x434fd2=(_0x3f5c33['badgesCount']?.['first_try_ace']||0x0)-(_0x907f1e[_0x581e71(0x6b8)]?.[_0x581e71(0x547)]||0x0);if(_0x434fd2!==0x0)return _0x434fd2;const _0x24f09c=(_0x3f5c33[_0x581e71(0x6b8)]?.[_0x581e71(0x56d)]||0x0)-(_0x907f1e[_0x581e71(0x6b8)]?.[_0x581e71(0x56d)]||0x0);if(_0x24f09c!==0x0)return _0x24f09c;const _0x4dd4e7=(_0x3f5c33[_0x581e71(0x6b8)]?.[_0x581e71(0x7e1)]||0x0)-(_0x907f1e['badgesCount']?.[_0x581e71(0x7e1)]||0x0);if(_0x4dd4e7!==0x0)return _0x4dd4e7;return _0x907f1e[_0x581e71(0x5c0)]['localeCompare'](_0x3f5c33[_0x581e71(0x5c0)],'th');});let _0x2454ba='';_0x4bf4ce['forEach']((_0x56466a,_0x115c2e)=>{const _0x214e0f=_0x39c0cc,_0x22dad5=_0x115c2e+0x1,_0x4a84d6=_0x56466a[_0x214e0f(0x6b8)]||{};let _0x464846='';const _0x262bbe=[_0x214e0f(0x5af),_0x214e0f(0x56d),_0x214e0f(0x547),_0x214e0f(0x7e1)];_0x262bbe[_0x214e0f(0x4ec)](_0x4b5c6a=>{const _0x1366a2=_0x214e0f;if(_0x4a84d6[_0x4b5c6a]>0x0){const _0x45e302=Object[_0x1366a2(0x426)](BADGES)[_0x1366a2(0x413)](_0x111b88=>_0x111b88['id']===_0x4b5c6a);_0x45e302&&(_0x4b5c6a===_0x1366a2(0x5af)?_0x464846+=_0x1366a2(0x613)+_0x45e302[_0x1366a2(0x884)]+_0x1366a2(0x2ed)+_0x45e302[_0x1366a2(0x387)]+_0x1366a2(0x81d):_0x464846+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x45e302[_0x1366a2(0x884)]+'\x20('+_0x4a84d6[_0x4b5c6a]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x45e302[_0x1366a2(0x387)]+_0x1366a2(0x740)+_0x4a84d6[_0x4b5c6a]+_0x1366a2(0x73a));}}),_0x2454ba+=_0x214e0f(0x3ae)+_0x22dad5+_0x214e0f(0x8c3)+_0x56466a[_0x214e0f(0x5c0)]+_0x214e0f(0x45d)+(_0x56466a[_0x214e0f(0x739)]||0x0)+_0x214e0f(0x8c3)+(_0x464846||'-')+_0x214e0f(0x87d);}),_0x19a495[_0x39c0cc(0x676)]=_0x2454ba;}function displayLoopScreen(_0x33591f,_0xdd27fa,_0x1aeaae){const _0x484f14=_0x483b09;let _0x29cd2d='';_0x1aeaae!=='show_pass_fail_only'&&(_0x29cd2d=_0x484f14(0x4c6)+_0x33591f+_0x484f14(0x7be)+_0xdd27fa+'</strong></p>');const _0xb9c04f=_0x484f14(0x60c)+_0x29cd2d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x484f14(0x676)]=_0xb9c04f,studentResultArea[_0x484f14(0x49a)][_0x484f14(0x355)](_0x484f14(0x534)),studentQuizArea[_0x484f14(0x49a)][_0x484f14(0x3ba)](_0x484f14(0x534)),document[_0x484f14(0x437)]('retake-quiz-loop-btn')['addEventListener'](_0x484f14(0x5ff),()=>{const _0x3b460a=_0x484f14;studentResultArea[_0x3b460a(0x49a)][_0x3b460a(0x3ba)](_0x3b460a(0x534)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x51d138,_0x3bba22,_0x46c231){const _0x1ac353=_0x483b09,_0x384431=document[_0x1ac353(0x437)](_0x46c231),_0x43cd25=_0x46c231===_0x1ac353(0x5bb),_0x25eb73=_0x3bba22[_0x1ac353(0x7f3)]['length'],_0x44c8fa=document[_0x1ac353(0x437)](_0x46c231)[_0x1ac353(0x32e)](_0x1ac353(0x594));if(_0x44c8fa&&!_0x43cd25){const _0x41f9f0=_0x44c8fa['querySelector']('thead');_0x41f9f0['innerHTML']=_0x1ac353(0x4b5);}if(!_0x51d138||_0x51d138[_0x1ac353(0x1d7)]===0x0){_0x384431[_0x1ac353(0x676)]=_0x1ac353(0x293)+(_0x43cd25?0x6:0x8)+_0x1ac353(0x65c);return;}const _0x426308=[..._0x51d138];_0x426308[_0x1ac353(0x205)]((_0x59f66e,_0x2be325)=>{const _0x10d2c5=_0x1ac353;let _0x2a7a2e,_0x1d606f;switch(quizLeaderboardSortBy){case _0x10d2c5(0x5c0):_0x2a7a2e=_0x59f66e[_0x10d2c5(0x5c0)]||'',_0x1d606f=_0x2be325[_0x10d2c5(0x5c0)]||'';return quizLeaderboardSortOrder==='asc'?_0x2a7a2e[_0x10d2c5(0x325)](_0x1d606f,'th'):_0x1d606f[_0x10d2c5(0x325)](_0x2a7a2e,'th');case _0x10d2c5(0x84f):_0x2a7a2e=_0x59f66e[_0x10d2c5(0x84f)]||0x0,_0x1d606f=_0x2be325[_0x10d2c5(0x84f)]||0x0;break;case _0x10d2c5(0x933):_0x2a7a2e=_0x59f66e[_0x10d2c5(0x933)]?.[_0x10d2c5(0x1d7)]||0x1,_0x1d606f=_0x2be325[_0x10d2c5(0x933)]?.[_0x10d2c5(0x1d7)]||0x1;break;case _0x10d2c5(0x5c7):_0x2a7a2e=new Date(_0x59f66e[_0x10d2c5(0x5c7)]),_0x1d606f=new Date(_0x2be325[_0x10d2c5(0x5c7)]);break;case _0x10d2c5(0x49d):default:_0x2a7a2e=_0x59f66e[_0x10d2c5(0x49d)],_0x1d606f=_0x2be325[_0x10d2c5(0x49d)];break;}if(_0x2a7a2e<_0x1d606f)return quizLeaderboardSortOrder===_0x10d2c5(0x288)?-0x1:0x1;if(_0x2a7a2e>_0x1d606f)return quizLeaderboardSortOrder===_0x10d2c5(0x288)?0x1:-0x1;return 0x0;});const _0x36f7f5=_0x3bba22[_0x1ac353(0x37f)]===!![],_0x432464=_0x3bba22[_0x1ac353(0x2bd)]?.[_0x1ac353(0x723)]??-0x1;let _0x850d69='';_0x426308['forEach']((_0xcf3739,_0x176b2d)=>{const _0xa23e7f=_0x1ac353,_0x46ee60=_0x176b2d+0x1;let _0x1f77fe=_0xa23e7f(0x47f);if(_0x36f7f5||_0x432464!==-0x1){let _0x3c622f=_0x36f7f5?_0xcf3739[_0xa23e7f(0x49d)]===_0x25eb73:_0xcf3739['bestScore']>=_0x432464;const _0x4cb69f=_0x3c622f?_0xa23e7f(0x7f5):_0xa23e7f(0x34c),_0x34018e=_0x3c622f?_0xa23e7f(0x391):_0xa23e7f(0x6b6);_0x1f77fe=_0xa23e7f(0x2e0)+_0x4cb69f+'\x22>'+_0x34018e+_0xa23e7f(0x51e);}const _0x479a7f=_0xcf3739[_0xa23e7f(0x933)][_0xcf3739['attempts'][_0xa23e7f(0x1d7)]-0x1],_0x1f78eb=(_0x479a7f[_0xa23e7f(0x622)]||[])[_0xa23e7f(0x530)](_0x3135fb=>{const _0x4b2b85=_0xa23e7f,_0x5b45b8=Object[_0x4b2b85(0x426)](BADGES)[_0x4b2b85(0x413)](_0x38ee3e=>_0x38ee3e['id']===_0x3135fb);return _0x5b45b8?_0x4b2b85(0x804)+_0x5b45b8[_0x4b2b85(0x884)]+_0x4b2b85(0x49b)+_0x5b45b8[_0x4b2b85(0x387)]+_0x4b2b85(0x223):'';})['join']('');_0x850d69+=_0xa23e7f(0x3dc)+_0x46ee60+_0xa23e7f(0x661)+_0xcf3739[_0xa23e7f(0x5c0)]+_0xa23e7f(0x30a)+_0xcf3739[_0xa23e7f(0x49d)]+_0xa23e7f(0x7be)+_0x25eb73+_0xa23e7f(0x929)+_0x1f77fe+_0xa23e7f(0x92c)+(_0xcf3739['points']||0x0)+_0xa23e7f(0x929)+(_0x43cd25?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0xcf3739[_0xa23e7f(0x933)]?.[_0xa23e7f(0x1d7)]||0x1)+_0xa23e7f(0x1f7))+_0xa23e7f(0x367)+(_0x43cd25?'':_0xa23e7f(0x307)+new Date(_0xcf3739[_0xa23e7f(0x5c7)])[_0xa23e7f(0x616)](_0xa23e7f(0x6a5))+_0xa23e7f(0x1f7))+_0xa23e7f(0x628)+(_0x1f78eb||'-')+_0xa23e7f(0x4ba);}),_0x384431[_0x1ac353(0x676)]=_0x850d69,_0x44c8fa&&!_0x43cd25&&_0x44c8fa[_0x1ac353(0x442)](_0x1ac353(0x870))[_0x1ac353(0x4ec)](_0x421078=>{const _0x1ea65a=_0x1ac353,_0x12de5c=_0x421078[_0x1ea65a(0x865)](_0x1ea65a(0x2d5));if(_0x12de5c)_0x12de5c[_0x1ea65a(0x355)]();_0x421078[_0x1ea65a(0x8c8)][_0x1ea65a(0x205)]===quizLeaderboardSortBy&&(_0x421078[_0x1ea65a(0x676)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x1ea65a(0x288)?'▲':'▼')+_0x1ea65a(0x54e));});}async function handleDeleteSubmission(_0xa4c416){const _0x537aa2=_0x483b09;if(!currentQuizData||!currentQuizData['id']||!_0xa4c416){showMessage(_0x537aa2(0x757));return;}showConfirmation(_0x537aa2(0x8e5)+_0xa4c416+_0x537aa2(0x385),async()=>{const _0x20fc68=_0x537aa2,_0x50de6b=currentQuizData['id'],_0x3f7a6a=doc(db,_0x20fc68(0x868)+appId+_0x20fc68(0x8ab)+_0x50de6b+_0x20fc68(0x225),_0xa4c416);try{await deleteDoc(_0x3f7a6a),showMessage(_0x20fc68(0x381)+_0xa4c416+_0x20fc68(0x1dc));}catch(_0x1a669d){console[_0x20fc68(0x8cc)](_0x20fc68(0x504),_0x1a669d),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x1116ec=_0x483b09,_0x5b22ad=document[_0x1116ec(0x437)](_0x1116ec(0x610)),_0x5ff602=_0x5b22ad['value'][_0x1116ec(0x8ad)]();if(!_0x5ff602){showMessage(_0x1116ec(0x889));return;}loadQuizBtn['disabled']=!![],loadQuizBtn['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x2a0611=doc(db,_0x1116ec(0x868)+appId+_0x1116ec(0x4e7),_0x5ff602),_0x4c8043=await getDoc(_0x2a0611);if(!_0x4c8043[_0x1116ec(0x830)]()){showMessage(_0x1116ec(0x281));return;}currentQuizData={'id':_0x4c8043['id'],..._0x4c8043['data']()};const _0x2349c4=currentQuizData[_0x1116ec(0x647)]||'active',_0x11209b=new Date();if(_0x2349c4===_0x1116ec(0x5bf)){showMessage(_0x1116ec(0x7a1));return;}if(_0x2349c4===_0x1116ec(0x810)){const _0x3e8154=currentQuizData[_0x1116ec(0x555)]?new Date(currentQuizData['startTime']):null,_0x59bd56=currentQuizData[_0x1116ec(0x304)]?new Date(currentQuizData['endTime']):null;if(_0x3e8154&&_0x11209b<_0x3e8154){showMessage(_0x1116ec(0x4cc)+_0x3e8154[_0x1116ec(0x616)](_0x1116ec(0x6a5),{'hour12':![]}));return;}if(_0x59bd56&&_0x11209b>_0x59bd56){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x554db6=currentQuizData['projectId'];currentProjectId=_0x554db6;const _0x1072e5=doc(db,'artifacts/'+appId+_0x1116ec(0x23d),_0x554db6),_0x2bf883=await getDoc(_0x1072e5);if(!_0x2bf883['exists']()){showMessage(_0x1116ec(0x8bf));return;}const _0x1983f7=_0x2bf883[_0x1116ec(0x6cb)]();currentStudentProjectData=_0x1983f7,displayStudentNameSelector(_0x1983f7['students'],currentQuizData[_0x1116ec(0x624)]);}catch(_0xe6ee40){console[_0x1116ec(0x8cc)](_0x1116ec(0x275),_0xe6ee40),showMessage(_0x1116ec(0x6f5));}finally{loadQuizBtn[_0x1116ec(0x766)]=![],loadQuizBtn[_0x1116ec(0x676)]=_0x1116ec(0x6f0);}}async function handleJoinLiveGame(){const _0x21c08d=_0x483b09,_0x56f950=document[_0x21c08d(0x437)](_0x21c08d(0x731)),_0x1e5a91=document[_0x21c08d(0x437)]('nickname-input'),_0x3862fb=document[_0x21c08d(0x437)]('confirm-join-game-btn'),_0x1f6a35=_0x56f950[_0x21c08d(0x8b5)][_0x21c08d(0x8ad)](),_0x4f7576=_0x1e5a91[_0x21c08d(0x8b5)][_0x21c08d(0x8ad)]();if(!_0x1f6a35||!_0x4f7576){showMessage(_0x21c08d(0x32d));return;}_0x3862fb['disabled']=!![],_0x3862fb[_0x21c08d(0x676)]=_0x21c08d(0x497);try{const _0x2bde21=collection(db,_0x21c08d(0x868)+appId+_0x21c08d(0x7ca)),_0x5f0591=query(_0x2bde21,where(_0x21c08d(0x883),'==',_0x1f6a35),where('status','==',_0x21c08d(0x5a6))),_0x5ed904=await getDocs(_0x5f0591);if(_0x5ed904[_0x21c08d(0x2cd)]){showMessage(_0x21c08d(0x5ee));return;}const _0x44fc31=_0x5ed904['docs'][0x0],_0x4985d4=_0x44fc31[_0x21c08d(0x6cb)]();currentLiveGameId=_0x44fc31['id'];const _0x2d4914=_0x4985d4['quizId'],_0x508153=doc(db,'artifacts/'+appId+_0x21c08d(0x4e7),_0x2d4914),_0x8eddc0=await getDoc(_0x508153);if(!_0x8eddc0[_0x21c08d(0x830)]()){showMessage(_0x21c08d(0x6d5));return;}currentQuizData={'id':_0x8eddc0['id'],..._0x8eddc0[_0x21c08d(0x6cb)]()};if(_0x4985d4[_0x21c08d(0x356)]&&_0x4985d4[_0x21c08d(0x356)][_0x4f7576]){showMessage(_0x21c08d(0x447));return;}const _0x116417={};_0x116417['players.'+_0x4f7576]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x21c08d(0x868)+appId+'/public/data/liveGames',currentLiveGameId),_0x116417),currentStudentName=_0x4f7576,listenForLiveGameUpdates();}catch(_0x2b818e){console['error']('Error\x20joining\x20live\x20game:',_0x2b818e),showMessage(_0x21c08d(0x1d6));}finally{_0x3862fb[_0x21c08d(0x766)]=![],_0x3862fb[_0x21c08d(0x676)]=_0x21c08d(0x8b0);}}function displayStudentNameSelector(_0x296e35,_0x1a3c5a){const _0x582058=_0x483b09,_0x38c336=document[_0x582058(0x437)](_0x582058(0x696));document[_0x582058(0x437)](_0x582058(0x6d2))['textContent']=_0x582058(0x26d)+_0x1a3c5a,!_0x296e35||_0x296e35[_0x582058(0x1d7)]===0x0?(_0x38c336[_0x582058(0x676)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x582058(0x766)]=!![]):(_0x38c336[_0x582058(0x676)]=_0x582058(0x7e9),_0x296e35['forEach'](_0x36a642=>{const _0x4968f7=_0x582058,_0x1af8c8=document[_0x4968f7(0x5c1)](_0x4968f7(0x86f));_0x1af8c8[_0x4968f7(0x8b5)]=_0x36a642,_0x1af8c8[_0x4968f7(0x2dd)]=_0x36a642,_0x38c336[_0x4968f7(0x8f9)](_0x1af8c8);}),startQuizBtn['disabled']=![]),studentInitialView[_0x582058(0x49a)][_0x582058(0x3ba)](_0x582058(0x534)),studentNameSelectionView[_0x582058(0x49a)][_0x582058(0x355)](_0x582058(0x534));}function shuffleArray(_0x4fd67e){const _0x462653=_0x483b09;for(let _0x46b38c=_0x4fd67e[_0x462653(0x1d7)]-0x1;_0x46b38c>0x0;_0x46b38c--){const _0xa76425=Math[_0x462653(0x254)](Math['random']()*(_0x46b38c+0x1));[_0x4fd67e[_0x46b38c],_0x4fd67e[_0xa76425]]=[_0x4fd67e[_0xa76425],_0x4fd67e[_0x46b38c]];}}function getShuffledQuiz(_0x56d010){const _0x27cf68=_0x483b09;let _0x596d11=JSON[_0x27cf68(0x4cb)](JSON['stringify'](_0x56d010));const _0x2d7cb9=_0x596d11[_0x27cf68(0x2bd)]?.[_0x27cf68(0x20c)]||_0x27cf68(0x728);if(_0x2d7cb9===_0x27cf68(0x728))return _0x596d11;return(_0x2d7cb9===_0x27cf68(0x84b)||_0x2d7cb9===_0x27cf68(0x862))&&shuffleArray(_0x596d11[_0x27cf68(0x7f3)]),(_0x2d7cb9===_0x27cf68(0x6ec)||_0x2d7cb9==='both')&&_0x596d11[_0x27cf68(0x7f3)][_0x27cf68(0x4ec)](_0x30986e=>{const _0x2f6351=_0x27cf68,_0x120ffc=_0x30986e['questionType']||_0x596d11['quizType'];if(_0x30986e[_0x2f6351(0x2c8)]){let _0x33d28a=_0x30986e['options'][_0x2f6351(0x530)]((_0x584699,_0x18764c)=>({'text':_0x584699,'isCorrect':_0x18764c===_0x30986e[_0x2f6351(0x531)]}));shuffleArray(_0x33d28a),_0x30986e[_0x2f6351(0x2c8)]=_0x33d28a[_0x2f6351(0x530)](_0x169721=>_0x169721[_0x2f6351(0x68b)]),_0x30986e[_0x2f6351(0x531)]=_0x33d28a[_0x2f6351(0x247)](_0x5f1c98=>_0x5f1c98[_0x2f6351(0x699)]);}_0x120ffc===_0x2f6351(0x479)&&_0x30986e[_0x2f6351(0x501)]&&shuffleArray(_0x30986e['allResponses']);}),_0x596d11;}function displayQuizForStudent(_0x8deed1){const _0x16b6ab=_0x483b09;studentQuizArea[_0x16b6ab(0x49a)][_0x16b6ab(0x355)](_0x16b6ab(0x534)),currentDisplayedQuiz=getShuffledQuiz(_0x8deed1),isQuizActive=!![],cheatAttempts=0x0,document[_0x16b6ab(0x6b1)](_0x16b6ab(0x69b),handleFullscreenChange),enterFullscreen();const _0x166348=currentDisplayedQuiz[_0x16b6ab(0x2bd)]?.['timerMode']||'none';if(_0x166348===_0x16b6ab(0x2e5))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x16b6ab(0x5e2)]);else _0x166348===_0x16b6ab(0x6dc)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0xd70e38=_0x483b09;let _0x4bdae2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0xd70e38(0x624)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0xd70e38(0x332):'')+_0xd70e38(0x202);currentDisplayedQuiz['questions'][_0xd70e38(0x4ec)]((_0x464307,_0x1816ba)=>{const _0x293d99=_0xd70e38,_0x3c7573=_0x464307[_0x293d99(0x671)]||currentDisplayedQuiz['quizType'];_0x4bdae2+=_0x293d99(0x2f0);_0x3c7573===_0x293d99(0x479)?_0x4bdae2+=_0x293d99(0x6ca)+(_0x1816ba+0x1)+'.\x20'+_0x464307[_0x293d99(0x509)]+_0x293d99(0x835)+_0x1816ba+_0x293d99(0x29e)+_0x464307[_0x293d99(0x501)]['map'](_0x37e2fb=>_0x293d99(0x7f0)+_0x37e2fb+'\x22>'+_0x37e2fb+_0x293d99(0x721))['join']('')+_0x293d99(0x89e):(_0x4bdae2+='<p>'+(_0x1816ba+0x1)+'.\x20'+(_0x464307[_0x293d99(0x7e3)]||_0x464307[_0x293d99(0x353)])+'</p>',_0x464307[_0x293d99(0x35c)]&&(_0x4bdae2+=_0x293d99(0x64a)+_0x464307[_0x293d99(0x35c)]+'</div>'));_0x4bdae2+=_0x293d99(0x72c);switch(_0x3c7573){case'short_answer':_0x4bdae2+='<textarea\x20name=\x22question'+_0x1816ba+_0x293d99(0x3a2);break;case'true_false':_0x4bdae2+=_0x293d99(0x609)+_0x1816ba+_0x293d99(0x710)+_0x1816ba+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x1816ba+_0x293d99(0x5a2),_0x4bdae2+=_0x293d99(0x609)+_0x1816ba+'_opt1\x22\x20name=\x22question'+_0x1816ba+_0x293d99(0x2a5)+_0x1816ba+'_opt1\x22>ไม่ใช่</label></div>';break;case _0x293d99(0x479):break;case _0x293d99(0x78b):case _0x293d99(0x450):default:_0x4bdae2+=_0x464307['options'][_0x293d99(0x530)]((_0x45e4b5,_0x2fc4b6)=>_0x293d99(0x85d)+_0x1816ba+'_opt'+_0x2fc4b6+_0x293d99(0x522)+_0x1816ba+'\x22\x20value=\x22'+_0x2fc4b6+_0x293d99(0x3b6)+_0x1816ba+_0x293d99(0x918)+_0x2fc4b6+'\x22>'+_0x45e4b5+_0x293d99(0x6aa))['join']('');break;}_0x4bdae2+=_0x293d99(0x655);}),_0x4bdae2+=_0xd70e38(0x890),_0x4bdae2+=_0xd70e38(0x255),studentQuizArea[_0xd70e38(0x676)]=_0x4bdae2;if(currentMode===_0xd70e38(0x2e9)){const _0xd67e60=document[_0xd70e38(0x437)](_0xd70e38(0x416));if(_0xd67e60)_0xd67e60[_0xd70e38(0x6b1)](_0xd70e38(0x5ff),cancelAdminTest);}document[_0xd70e38(0x437)]('quiz-form')[_0xd70e38(0x6b1)]('submit',handleSubmitQuiz);if(window[_0xd70e38(0x875)])window[_0xd70e38(0x875)][_0xd70e38(0x376)]([studentQuizArea]);}async function handleSubmitQuiz(_0x3f1f68){const _0x3c19bc=_0x483b09;if(_0x3f1f68)_0x3f1f68['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x333ee9=document[_0x3c19bc(0x437)](_0x3c19bc(0x3b0));if(!_0x333ee9)return;const _0x222d12=_0x333ee9[_0x3c19bc(0x865)]('button[type=\x22submit\x22]'),_0x2da389=currentDisplayedQuiz['questions'][_0x3c19bc(0x24a)](_0xd50a03=>_0xd50a03[_0x3c19bc(0x671)]===_0x3c19bc(0x669));_0x222d12&&(_0x222d12[_0x3c19bc(0x766)]=!![],_0x2da389?_0x222d12[_0x3c19bc(0x676)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x222d12[_0x3c19bc(0x676)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x57629a=new FormData(_0x333ee9),_0x45ec60=currentDisplayedQuiz[_0x3c19bc(0x7f3)][_0x3c19bc(0x530)]((_0x5562e8,_0x11c26d)=>{const _0x3ae548=_0x3c19bc,_0x34e1a1=_0x5562e8[_0x3ae548(0x671)]||currentDisplayedQuiz[_0x3ae548(0x5da)],_0x3e2fe0=_0x57629a[_0x3ae548(0x370)]('question'+_0x11c26d);if(_0x3e2fe0!==null&&_0x3e2fe0!==undefined){if(_0x34e1a1==='multiple_choice'||_0x34e1a1===_0x3ae548(0x78b))return parseInt(_0x3e2fe0);return _0x3e2fe0;}return null;}),_0x526cc2=currentQuizData['id'],_0x52804d=doc(db,'artifacts/'+appId+_0x3c19bc(0x8ab)+_0x526cc2+_0x3c19bc(0x225),currentStudentName),_0x5da7ce=await getDoc(_0x52804d),_0x321a81=_0x5da7ce[_0x3c19bc(0x830)]()?_0x5da7ce[_0x3c19bc(0x6cb)]():{},_0x244ef2=_0x321a81[_0x3c19bc(0x933)]||[];await processAndSubmitAnswers(_0x45ec60,_0x244ef2);}async function gradeShortAnswerWithAI(_0x564755,_0x5f0bf){const _0x300ec6=_0x483b09;if(!_0x564755||!_0x5f0bf)return![];try{const _0x144bec='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x564755+_0x300ec6(0x754)+_0x5f0bf+_0x300ec6(0x5d2),_0x37b943={'contents':[{'role':_0x300ec6(0x746),'parts':[{'text':_0x144bec}]}]},_0x15c3a9=_0x300ec6(0x3e5),_0x5bb413='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x15c3a9,_0x5747c1=await fetch(_0x5bb413,{'method':_0x300ec6(0x5aa),'headers':{'Content-Type':'application/json'},'body':JSON[_0x300ec6(0x657)](_0x37b943)});if(!_0x5747c1['ok'])throw new Error(_0x300ec6(0x36c));const _0x4cea6b=await _0x5747c1[_0x300ec6(0x7ba)](),_0x7113e2=_0x4cea6b[_0x300ec6(0x3ee)][0x0]['content'][_0x300ec6(0x856)][0x0][_0x300ec6(0x68b)]['trim']()[_0x300ec6(0x369)]();return _0x7113e2===_0x300ec6(0x375);}catch(_0x3cdd11){return console[_0x300ec6(0x8cc)](_0x300ec6(0x28e),_0x3cdd11),![];}}async function processAndSubmitAnswers(_0x50cd4c,_0x4c2bfc){const _0x11c603=_0x483b09;isQuizActive=![],document['removeEventListener'](_0x11c603(0x69b),handleFullscreenChange);let _0x16a123=0x0,_0x20d46d=0x0,_0x1dfa20=[];const _0x3391ef=[],_0x3dc1fb=currentDisplayedQuiz[_0x11c603(0x7f3)][_0x11c603(0x1d7)];let _0x31e53a=0x0;const _0x3e8a20=currentDisplayedQuiz[_0x11c603(0x7f3)];for(let _0x260215=0x0;_0x260215<_0x3e8a20[_0x11c603(0x1d7)];_0x260215++){const _0x22928=_0x3e8a20[_0x260215],_0x4103a8=_0x50cd4c[_0x260215],_0x24318d=_0x22928[_0x11c603(0x671)]||currentDisplayedQuiz[_0x11c603(0x5da)];let _0x38a1ad=![];if(_0x4103a8!==null&&_0x4103a8!=='')switch(_0x24318d){case'matching_item':_0x38a1ad=_0x4103a8===_0x22928['correctResponse'];break;case _0x11c603(0x29b):const _0x5ebd26=_0x4103a8===!![]||_0x4103a8===_0x11c603(0x375);_0x38a1ad=_0x5ebd26===_0x22928[_0x11c603(0x5ac)];break;case'fill_in_the_blank':case'multiple_choice':default:_0x38a1ad=Number(_0x4103a8)===_0x22928[_0x11c603(0x531)];break;case'short_answer':_0x38a1ad=await gradeShortAnswer(_0x4103a8,_0x22928);break;}_0x38a1ad?(_0x16a123++,_0x31e53a++,_0x31e53a===0x3&&(_0x1dfa20[_0x11c603(0x554)](BADGES['ON_FIRE']['id']),_0x31e53a=0x0)):_0x31e53a=0x0;let _0x50f68c=null;_0x22928['options']&&_0x4103a8!==null&&(_0x50f68c=_0x22928[_0x11c603(0x2c8)][_0x4103a8]),_0x3391ef[_0x11c603(0x554)]({'answer':_0x4103a8,'answerText':_0x50f68c,'isCorrect':_0x38a1ad,'originalQuestionText':_0x22928[_0x11c603(0x509)]||_0x22928['questionText']});}_0x20d46d=_0x16a123*0xa;_0x16a123===_0x3dc1fb&&_0x3dc1fb>0x0&&!currentDisplayedQuiz[_0x11c603(0x37f)]&&(_0x20d46d+=0x32,_0x1dfa20[_0x11c603(0x554)](BADGES[_0x11c603(0x8a8)]['id']));const _0x30613d=currentDisplayedQuiz['settings']?.[_0x11c603(0x723)]??Math[_0x11c603(0x254)](_0x3dc1fb/0x2),_0x537cfe=currentDisplayedQuiz[_0x11c603(0x2bd)]?.[_0x11c603(0x1cc)];if(_0x537cfe===_0x11c603(0x2e5)&&quizStartTime){const _0x442cf0=(new Date()-quizStartTime)/0x3e8,_0x23927c=currentDisplayedQuiz[_0x11c603(0x2bd)][_0x11c603(0x5e2)]*0x3c;_0x16a123>=_0x30613d&&_0x442cf0<_0x23927c/0x2&&(_0x20d46d+=0x14,_0x1dfa20[_0x11c603(0x554)](BADGES[_0x11c603(0x4a6)]['id']));}_0x4c2bfc['length']===0x0&&_0x16a123===_0x3dc1fb&&_0x3dc1fb>0x0&&_0x1dfa20['push'](BADGES[_0x11c603(0x2f9)]['id']);if(_0x4c2bfc[_0x11c603(0x1d7)]>0x0){const _0x2cdad7=_0x4c2bfc[0x0][_0x11c603(0x43a)];if(_0x2cdad7<_0x30613d&&_0x16a123>=_0x30613d){const _0x5c01c3=_0x4c2bfc[_0x11c603(0x24a)](_0x3d841a=>(_0x3d841a[_0x11c603(0x622)]||[])[_0x11c603(0x806)](BADGES['COMEBACK_KING']['id']));!_0x5c01c3&&_0x1dfa20[_0x11c603(0x554)](BADGES['COMEBACK_KING']['id']);}}_0x4c2bfc[_0x11c603(0x1d7)]===0x4&&_0x1dfa20[_0x11c603(0x554)](BADGES[_0x11c603(0x7b3)]['id']);const _0x4086b0=currentDisplayedQuiz['settings']['resultsDisplay'];if(currentMode===_0x11c603(0x2e9)){handleResultDisplay(_0x4086b0,_0x16a123,_0x20d46d,_0x1dfa20,_0x3391ef,_0x3dc1fb);return;}const _0x1aeac6=currentQuizData['id'],_0x36cbf0=doc(db,_0x11c603(0x868)+appId+_0x11c603(0x8ab)+_0x1aeac6+_0x11c603(0x225),currentStudentName);try{const _0x506c84=[..._0x4c2bfc],_0x41c13b={'score':_0x16a123,'points':_0x20d46d,'badges':_0x1dfa20,'submittedAt':new Date()[_0x11c603(0x4cf)](),'answers':_0x3391ef};_0x506c84['push'](_0x41c13b);const _0x2a9c2f=_0x506c84[0x0][_0x11c603(0x43a)],_0xa19be0=Math['max'](..._0x506c84['map'](_0xac44f9=>_0xac44f9[_0x11c603(0x43a)])),_0x556fe4=_0x16a123,_0x4bdb4c=_0x41c13b['submittedAt'];await setDoc(_0x36cbf0,{'studentName':currentStudentName,'totalQuestions':_0x3dc1fb,'attempts':_0x506c84,'firstScore':_0x2a9c2f,'bestScore':_0xa19be0,'latestScore':_0x556fe4,'points':_0x20d46d,'latestSubmittedAt':_0x4bdb4c},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x4086b0,_0x16a123,_0x20d46d,_0x1dfa20,_0x3391ef,_0x3dc1fb);}catch(_0x5e4aed){console[_0x11c603(0x8cc)](_0x11c603(0x641),_0x5e4aed),showMessage(_0x11c603(0x61f));}}async function updateStudentProfile(_0x26c570,_0x3f9d35){const _0x272333=_0x483b09,_0x5ddcd1=doc(db,_0x272333(0x868)+appId+_0x272333(0x5df)+_0x26c570+_0x272333(0x1f6),_0x3f9d35);try{const _0x3adbda=query(collection(db,'artifacts/'+appId+_0x272333(0x4e7)),where(_0x272333(0x52f),'==',_0x26c570)),_0x4baa03=await getDocs(_0x3adbda),_0x24b050=new Map(_0x4baa03[_0x272333(0x714)]['map'](_0x51c1b8=>[_0x51c1b8['id'],_0x51c1b8[_0x272333(0x6cb)]()])),_0xb59140=Array[_0x272333(0x8bc)](_0x24b050[_0x272333(0x571)]());await runTransaction(db,async _0x3dbf75=>{const _0x382392=_0x272333;let _0x438776=0x0;const _0x763a9c={};let _0x37d0bb=!![],_0x432d0e=0x0,_0x1da76a=0x0;for(const _0x49cf8c of _0xb59140){const _0x31b8fe=_0x24b050[_0x382392(0x370)](_0x49cf8c),_0x29aa88=doc(db,_0x382392(0x868)+appId+'/public/data/quizzes/'+_0x49cf8c+_0x382392(0x225),_0x3f9d35),_0x250312=await _0x3dbf75[_0x382392(0x370)](_0x29aa88);if(_0x250312['exists']()){const _0x4e9e75=_0x250312[_0x382392(0x6cb)](),_0x410178=_0x4e9e75[_0x382392(0x933)]||[];if(_0x410178[_0x382392(0x1d7)]>0x0){const _0x2f6e84=_0x410178[_0x382392(0x4fe)]((_0x2b2c2c,_0x2f07be)=>{const _0x50d35b=_0x382392;if(_0x2f07be['score']>_0x2b2c2c['score'])return _0x2f07be;if(_0x2f07be[_0x50d35b(0x43a)]===_0x2b2c2c[_0x50d35b(0x43a)])return(_0x2f07be[_0x50d35b(0x84f)]||0x0)>(_0x2b2c2c[_0x50d35b(0x84f)]||0x0)?_0x2f07be:_0x2b2c2c;return _0x2b2c2c;},{'score':-0x1,'points':-0x1});_0x2f6e84[_0x382392(0x43a)]>-0x1&&(_0x438776+=_0x2f6e84[_0x382392(0x84f)]||0x0,(_0x2f6e84[_0x382392(0x622)]||[])[_0x382392(0x4ec)](_0x1f15c0=>{_0x763a9c[_0x1f15c0]=(_0x763a9c[_0x1f15c0]||0x0)+0x1;}));}}if(_0x31b8fe[_0x382392(0x624)]!=='แบบทดสอบซ่อมเสริม'){_0x1da76a++;if(_0x250312[_0x382392(0x830)]()){_0x432d0e++;const _0x1bf6d8=_0x250312[_0x382392(0x6cb)]();_0x1bf6d8['bestScore']!==_0x1bf6d8[_0x382392(0x267)]&&(_0x37d0bb=![]);}else _0x37d0bb=![];}}_0x1da76a>0x0&&_0x432d0e===_0x1da76a&&_0x37d0bb?_0x763a9c[_0x382392(0x5af)]=0x1:_0x763a9c['specialist']=0x0,_0x3dbf75['set'](_0x5ddcd1,{'studentName':_0x3f9d35,'totalPoints':_0x438776,'unlockedBadges':Object[_0x382392(0x571)](_0x763a9c)[_0x382392(0x72a)](_0x35a991=>_0x763a9c[_0x35a991]>0x0),'badgesCount':_0x763a9c},{'merge':!![]});});}catch(_0x814c00){console['error']('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x814c00),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x45c954=_0x483b09;if(!currentQuizData){showMessage(_0x45c954(0x744));return;}let _0x5c7fc3=JSON[_0x45c954(0x4cb)](JSON[_0x45c954(0x657)](currentQuizData));currentMode=_0x45c954(0x2e9),currentStudentName=_0x45c954(0x56a),adminView['classList'][_0x45c954(0x3ba)]('hidden'),studentView[_0x45c954(0x49a)]['remove'](_0x45c954(0x534)),studentInitialView['classList']['add']('hidden'),studentNameSelectionView['classList'][_0x45c954(0x3ba)](_0x45c954(0x534)),studentResultArea[_0x45c954(0x49a)][_0x45c954(0x3ba)](_0x45c954(0x534)),studentQuizArea[_0x45c954(0x49a)][_0x45c954(0x355)](_0x45c954(0x534)),quizStartTime=new Date(),displayQuizForStudent(_0x5c7fc3);}function handleResultDisplay(_0x333bcc,_0x556e3f,_0x37e692,_0x4b4a4c,_0xa656f4,_0x5ac88d){const _0x33e7a7=_0x483b09;if(_0x333bcc===_0x33e7a7(0x1e4)){displaySubmissionConfirmation();return;}const _0x4f2b9e=currentDisplayedQuiz[_0x33e7a7(0x2bd)]?.[_0x33e7a7(0x723)]??Math[_0x33e7a7(0x254)](_0x5ac88d/0x2),_0x163699=currentDisplayedQuiz[_0x33e7a7(0x2bd)]?.[_0x33e7a7(0x38d)]??![],_0x17e1e3=currentDisplayedQuiz['settings']?.[_0x33e7a7(0x5b8)]===!![],_0x68dfc1=_0x556e3f<_0x4f2b9e;if(_0x17e1e3&&_0x68dfc1){_0x333bcc===_0x33e7a7(0x1f8)?displayResultsWithAnswers(_0x556e3f,_0x37e692,_0x4b4a4c,_0xa656f4,_0x5ac88d,!![]):displayLoopScreen(_0x556e3f,_0x5ac88d,_0x333bcc);return;}if(_0x163699&&_0x68dfc1){startAdaptiveFlow(_0xa656f4,_0x556e3f,_0x5ac88d);return;}switch(_0x333bcc){case _0x33e7a7(0x1f8):displayResultsWithAnswers(_0x556e3f,_0x37e692,_0x4b4a4c,_0xa656f4,_0x5ac88d);break;case _0x33e7a7(0x200):displayResultsScoreOnly(_0x556e3f,_0x37e692,_0x4b4a4c,_0x5ac88d);break;case'show_pass_fail_only':displayPassFailOnly(_0x556e3f,_0x5ac88d);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x3a7442){const _0x56a27a=_0x483b09;studentReadingArea[_0x56a27a(0x676)]=_0x56a27a(0x503);const _0xec3ad5=_0x56a27a(0x3a1)+_0x3a7442+_0x56a27a(0x652)+simpleMathPrompt+_0x56a27a(0x4e4),_0x1dc888={'type':_0x56a27a(0x3af),'properties':{'questionText':{'type':_0x56a27a(0x36f)},'options':{'type':_0x56a27a(0x362),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x56a27a(0x92d)},'explanation':{'type':_0x56a27a(0x36f)}},'required':[_0x56a27a(0x353),_0x56a27a(0x2c8),_0x56a27a(0x531),'explanation']},_0x5e39a8={'type':_0x56a27a(0x3af),'properties':{'topic':{'type':_0x56a27a(0x36f)},'questions':{'type':_0x56a27a(0x362),'items':_0x1dc888}},'required':[_0x56a27a(0x624),'questions']};try{const _0x891d5d=await callAnalysisApi(_0xec3ad5,_0x5e39a8);_0x891d5d[_0x56a27a(0x37f)]=!![],studentReadingArea[_0x56a27a(0x49a)][_0x56a27a(0x3ba)](_0x56a27a(0x534));const _0x58be6e={...currentDisplayedQuiz[_0x56a27a(0x2bd)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x891d5d[_0x56a27a(0x2bd)]=_0x58be6e,displayQuizForStudent(_0x891d5d);}catch(_0xe7ecab){console[_0x56a27a(0x8cc)]('Remedial\x20quiz\x20generation\x20failed:',_0xe7ecab),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x56a27a(0x4df));}}function displayPassFailOnly(_0x47ecbb,_0x5e50ed){const _0x48f0be=_0x483b09,_0x3419f4=currentDisplayedQuiz[_0x48f0be(0x2bd)]?.[_0x48f0be(0x723)]??-0x1,_0x6422c8=currentDisplayedQuiz['isRemedial']===!![];let _0x1fe0ed='';if(_0x6422c8||_0x3419f4!==-0x1){let _0x445d3a;_0x6422c8?_0x445d3a=_0x47ecbb===_0x5e50ed:_0x445d3a=_0x47ecbb>=_0x3419f4;const _0x2620fb=_0x445d3a?_0x48f0be(0x7f5):_0x48f0be(0x34c),_0x5e22e0=_0x445d3a?_0x48f0be(0x391):'ไม่ผ่าน';_0x1fe0ed=_0x48f0be(0x30e)+_0x2620fb+'\x22>'+_0x5e22e0+_0x48f0be(0x55a);}else _0x1fe0ed='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x84d33e=_0x48f0be(0x24c)+currentStudentName+_0x48f0be(0x780)+_0x1fe0ed+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x84d33e,studentResultArea['classList'][_0x48f0be(0x355)](_0x48f0be(0x534)),studentQuizArea[_0x48f0be(0x49a)]['add'](_0x48f0be(0x534));const _0x3d5403=_0x48f0be(0x4aa),_0x537bb9=currentMode==='admin-testing',_0x4710f6=_0x537bb9?_0x48f0be(0x83e):_0x48f0be(0x467),_0x1bbf24=_0x48f0be(0x4ca)+_0x3d5403+'\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4710f6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML'](_0x48f0be(0x68c),_0x1bbf24),document[_0x48f0be(0x437)](_0x3d5403)[_0x48f0be(0x6b1)](_0x48f0be(0x5ff),()=>{const _0x960099=_0x48f0be;_0x537bb9?(currentMode='admin',studentView[_0x960099(0x49a)][_0x960099(0x3ba)](_0x960099(0x534)),adminView['classList'][_0x960099(0x355)](_0x960099(0x534)),showView('project-detail')):(showView(_0x960099(0x4df)),document[_0x960099(0x437)](_0x960099(0x610))[_0x960099(0x8b5)]='');});}function cancelAdminTest(){const _0x4294e4=_0x483b09;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode='admin',studentView[_0x4294e4(0x49a)][_0x4294e4(0x3ba)](_0x4294e4(0x534)),adminView[_0x4294e4(0x49a)][_0x4294e4(0x355)](_0x4294e4(0x534)),showView(_0x4294e4(0x542));}function setupResultScreenBackButton(_0x1d4d64=![]){const _0x296d29=_0x483b09;if(_0x1d4d64){const _0x40e0b5=_0x296d29(0x48e);studentResultArea[_0x296d29(0x2c3)](_0x296d29(0x68c),_0x40e0b5),document[_0x296d29(0x437)]('retake-quiz-loop-btn')['addEventListener'](_0x296d29(0x5ff),()=>{const _0x2a936a=_0x296d29;studentResultArea[_0x2a936a(0x49a)][_0x2a936a(0x3ba)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x551bbf=_0x296d29(0x4aa),_0x9dcc1=currentMode===_0x296d29(0x2e9),_0xae2bbb=_0x9dcc1?_0x296d29(0x83e):_0x296d29(0x467),_0x3a024c=_0x296d29(0x203)+_0x551bbf+_0x296d29(0x512)+_0xae2bbb+_0x296d29(0x45e);studentResultArea['insertAdjacentHTML']('beforeend',_0x3a024c),studentResultArea[_0x296d29(0x865)](_0x296d29(0x47c))[_0x296d29(0x6b1)](_0x296d29(0x5ff),handleShowStudentRankings),document[_0x296d29(0x437)](_0x551bbf)[_0x296d29(0x6b1)](_0x296d29(0x5ff),()=>{const _0x39c60d=_0x296d29;_0x9dcc1?(currentMode=_0x39c60d(0x778),studentView[_0x39c60d(0x49a)][_0x39c60d(0x3ba)](_0x39c60d(0x534)),adminView[_0x39c60d(0x49a)][_0x39c60d(0x355)](_0x39c60d(0x534)),showView(_0x39c60d(0x542))):(showView(_0x39c60d(0x4df)),document[_0x39c60d(0x437)]('quiz-id-input')['value']='');});}function displayResultsWithAnswers(_0x3d0b5c,_0x26ce4c,_0x3e3f3f,_0x4d0082,_0x34c47a,_0x2ecc1a=![]){const _0x372364=_0x483b09,_0x20e393=_0x34c47a>0x0?_0x3d0b5c/_0x34c47a*0x64:0x0,_0x2105a2=currentDisplayedQuiz['settings']?.[_0x372364(0x723)]??-0x1,_0x1b5f82=currentDisplayedQuiz[_0x372364(0x37f)]===!![];let _0x47b290='';if(_0x1b5f82||_0x2105a2!==-0x1){let _0x210ef6=_0x1b5f82?_0x3d0b5c===_0x34c47a:_0x3d0b5c>=_0x2105a2;const _0x319ed1=_0x210ef6?_0x372364(0x7f5):_0x372364(0x34c),_0x341539=_0x210ef6?_0x372364(0x391):_0x372364(0x6b6);_0x47b290=_0x372364(0x364)+_0x319ed1+'\x22>'+_0x341539+_0x372364(0x590);}let _0x26798c=_0x372364(0x844)+currentStudentName+_0x372364(0x887)+_0x3d0b5c+_0x372364(0x7e8)+_0x34c47a+_0x372364(0x4a4)+_0x47b290+_0x372364(0x4af)+_0x26ce4c+_0x372364(0x342)+_0x20e393[_0x372364(0x508)](0x0)+_0x372364(0x6c5);currentDisplayedQuiz[_0x372364(0x7f3)]['forEach']((_0x56994e,_0x36c569)=>{const _0x48f25d=_0x372364,_0x4f364f=_0x4d0082[_0x36c569],_0x4320b1=_0x4f364f[_0x48f25d(0x67b)],_0x3e06c0=_0x4f364f['isCorrect'],_0x586311=_0x56994e['questionType']||currentDisplayedQuiz[_0x48f25d(0x5da)];_0x26798c+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x3e06c0?_0x48f25d(0x8dc):_0x48f25d(0x4b3))+_0x48f25d(0x8d0)+(_0x36c569+0x1)+'.\x20'+(_0x56994e[_0x48f25d(0x509)]||_0x56994e[_0x48f25d(0x353)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x586311){case _0x48f25d(0x479):const _0x312eeb=_0x4320b1||_0x48f25d(0x213),_0x156718=_0x56994e[_0x48f25d(0x4d5)];_0x26798c+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x3e06c0?_0x48f25d(0x82c):'')+'\x22>'+_0x312eeb+'</span></p>';!_0x3e06c0&&(_0x26798c+=_0x48f25d(0x8dd)+_0x156718+_0x48f25d(0x590));break;case _0x48f25d(0x669):_0x26798c+=_0x48f25d(0x216)+(_0x4320b1||_0x48f25d(0x213))+_0x48f25d(0x590),_0x26798c+=_0x48f25d(0x3fa)+_0x56994e['idealAnswer']+_0x48f25d(0x590);break;case'true_false':_0x26798c+='<p\x20class=\x22'+(_0x56994e['correctAnswer']===!![]?_0x48f25d(0x6fc):'')+'\x20'+(_0x4320b1==='true'&&!_0x3e06c0?_0x48f25d(0x82c):'')+_0x48f25d(0x602),_0x26798c+=_0x48f25d(0x7c6)+(_0x56994e[_0x48f25d(0x5ac)]===![]?_0x48f25d(0x6fc):'')+'\x20'+(_0x4320b1===_0x48f25d(0x574)&&!_0x3e06c0?_0x48f25d(0x82c):'')+'\x22>ไม่ใช่</p>';break;default:_0x26798c+=_0x56994e[_0x48f25d(0x2c8)][_0x48f25d(0x530)]((_0x11cf58,_0x4815a4)=>{const _0x37c4b2=_0x48f25d;let _0x30df5c='',_0x4e447a='';if(_0x4815a4===_0x56994e[_0x37c4b2(0x531)])_0x30df5c=_0x37c4b2(0x6fc),_0x4e447a=_0x37c4b2(0x7fb);else _0x4815a4===_0x4320b1&&(_0x30df5c='font-bold\x20text-red-700\x20line-through',_0x4e447a='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x37c4b2(0x67a)+_0x30df5c+'\x22>'+_0x4e447a+_0x11cf58+_0x37c4b2(0x73d);})['join']('');break;}_0x26798c+=_0x48f25d(0x278)+(_0x56994e[_0x48f25d(0x86a)]||_0x48f25d(0x87c))+'</div>';if(!_0x3e06c0){const _0xca3063=_0x56994e['stem']||_0x56994e[_0x48f25d(0x353)];_0x26798c+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0xca3063)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x26798c+=_0x48f25d(0x73d);}),studentResultArea[_0x372364(0x676)]=_0x26798c,renderEarnedBadges(_0x3e3f3f,'earned-badges-container'),studentResultArea[_0x372364(0x49a)][_0x372364(0x355)](_0x372364(0x534)),studentQuizArea[_0x372364(0x49a)][_0x372364(0x3ba)](_0x372364(0x534)),setupResultScreenBackButton(_0x2ecc1a);if(window[_0x372364(0x875)])window['MathJax'][_0x372364(0x376)]([studentResultArea]);}function displayResultsScoreOnly(_0x5d0e1e,_0x502080,_0x31eade,_0x4d2d56){const _0x4be590=_0x483b09,_0x3ec895=_0x4d2d56>0x0?_0x5d0e1e/_0x4d2d56*0x64:0x0,_0x13064c=currentDisplayedQuiz[_0x4be590(0x2bd)]?.['passingScore']??-0x1,_0x4c2b44=currentDisplayedQuiz[_0x4be590(0x37f)]===!![];let _0x22a69e='';if(_0x4c2b44||_0x13064c!==-0x1){let _0x1ca5e3;_0x4c2b44?_0x1ca5e3=_0x5d0e1e===_0x4d2d56:_0x1ca5e3=_0x5d0e1e>=_0x13064c;const _0x19893b=_0x1ca5e3?_0x4be590(0x7f5):_0x4be590(0x34c),_0x51560e=_0x1ca5e3?_0x4be590(0x391):_0x4be590(0x6b6);_0x22a69e=_0x4be590(0x364)+_0x19893b+'\x22>'+_0x51560e+_0x4be590(0x590);}let _0x2e8fe2=_0x4be590(0x7f2)+currentStudentName+_0x4be590(0x73e)+_0x5d0e1e+_0x4be590(0x393)+_0x4d2d56+_0x4be590(0x4a4)+_0x22a69e+_0x4be590(0x4af)+_0x502080+_0x4be590(0x257)+_0x3ec895['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x4be590(0x676)]=_0x2e8fe2,renderEarnedBadges(_0x31eade,_0x4be590(0x735)),studentResultArea[_0x4be590(0x49a)][_0x4be590(0x355)](_0x4be590(0x534)),studentQuizArea['classList'][_0x4be590(0x3ba)](_0x4be590(0x534)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x1ff4c8=_0x483b09;let _0x2d325c=_0x1ff4c8(0x1d0)+currentStudentName+_0x1ff4c8(0x90a);studentResultArea[_0x1ff4c8(0x676)]=_0x2d325c,studentResultArea[_0x1ff4c8(0x49a)][_0x1ff4c8(0x355)](_0x1ff4c8(0x534)),studentQuizArea['classList']['add']('hidden'),document[_0x1ff4c8(0x437)]('back-to-home-manual-release')['addEventListener'](_0x1ff4c8(0x5ff),()=>{const _0x449eda=_0x1ff4c8;showView('student'),document[_0x449eda(0x437)]('quiz-id-input')[_0x449eda(0x8b5)]='';});}function renderEarnedBadges(_0x4cde7d,_0xfbcd19){const _0x33ce23=_0x483b09,_0x1fd8dc=document[_0x33ce23(0x437)](_0xfbcd19);if(!_0x1fd8dc||!_0x4cde7d||_0x4cde7d[_0x33ce23(0x1d7)]===0x0)return;let _0x22ece3='';_0x4cde7d['forEach']((_0x53abdf,_0xee25df)=>{const _0x1f5213=_0x33ce23,_0x2cf88f=Object[_0x1f5213(0x426)](BADGES)['find'](_0x48193a=>_0x48193a['id']===_0x53abdf);_0x2cf88f&&(_0x22ece3+=_0x1f5213(0x42a)+_0xee25df*0.2+_0x1f5213(0x912)+_0x2cf88f[_0x1f5213(0x64d)]+_0x1f5213(0x66c)+_0x2cf88f['icon']+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x2cf88f['name']+_0x1f5213(0x62e));}),_0x1fd8dc['innerHTML']=_0x22ece3;}function startPresentation(_0x54f8d5){const _0x544209=_0x483b09;currentQuizData=getShuffledQuiz(_0x54f8d5),currentPresentationSlide=0x0,presentationModal[_0x544209(0x1f1)]['display']=_0x544209(0x6b3),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x5c2323=_0x483b09;document['fullscreenElement']&&document[_0x5c2323(0x4fa)](),presentationModal[_0x5c2323(0x1f1)][_0x5c2323(0x4f1)]=_0x5c2323(0x728);}function renderPresentationSlide(_0x27aeec){const _0x2a6011=_0x483b09,_0x159772=document[_0x2a6011(0x437)](_0x2a6011(0x7a5));if(!currentQuizData||!currentQuizData[_0x2a6011(0x7f3)]||!currentQuizData['questions'][_0x27aeec]){_0x159772['innerHTML']='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x342452=currentQuizData[_0x2a6011(0x7f3)][_0x27aeec],_0xd42595=_0x342452['questionType']||currentQuizData['quizType'];_0x159772[_0x2a6011(0x676)]='';let _0x14a4bc=_0x2a6011(0x670)+(_0x342452['imageCode']?_0x2a6011(0x64a)+_0x342452['imageCode']+'</div>':'')+_0x2a6011(0x815)+(_0x27aeec+0x1)+'.\x20'+(_0x342452[_0x2a6011(0x509)]||_0x342452[_0x2a6011(0x353)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0xd42595){case _0x2a6011(0x479):_0x14a4bc+=_0x342452[_0x2a6011(0x501)][_0x2a6011(0x530)](_0x5531c6=>_0x2a6011(0x79a)+_0x5531c6+_0x2a6011(0x541))['join']('');break;case _0x2a6011(0x29b):_0x14a4bc+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x14a4bc+=_0x2a6011(0x3f0);break;case _0x2a6011(0x2b9):case _0x2a6011(0x669):_0x14a4bc+=_0x2a6011(0x22d);break;case'fill_in_the_blank':case'multiple_choice':default:_0x14a4bc+=_0x342452['options']['map']((_0x177d5c,_0x2d5fc8)=>_0x2a6011(0x5d7)+_0x2d5fc8+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x177d5c+_0x2a6011(0x541))[_0x2a6011(0x939)]('');break;}_0x14a4bc+=_0x2a6011(0x30c)+(_0x342452['explanation']||_0x2a6011(0x87c))+_0x2a6011(0x507),_0x159772[_0x2a6011(0x676)]=_0x14a4bc;if(window['MathJax'])window[_0x2a6011(0x875)][_0x2a6011(0x376)]([_0x159772]);document['querySelectorAll'](_0x2a6011(0x61b))[_0x2a6011(0x4ec)](_0x107cfe=>{const _0xd759=_0x2a6011;_0x107cfe[_0xd759(0x6b1)](_0xd759(0x5ff),_0x565707=>revealAnswerForPresentation(_0x27aeec,_0x565707[_0xd759(0x566)]));});const _0x39aa8f=document[_0x2a6011(0x437)]('check-presentation-answer-btn');_0x39aa8f&&_0x39aa8f[_0x2a6011(0x6b1)](_0x2a6011(0x5ff),()=>checkShortAnswerForPresentation(_0x27aeec)),document[_0x2a6011(0x437)]('slide-counter')[_0x2a6011(0x2dd)]='ข้อที่\x20'+(_0x27aeec+0x1)+_0x2a6011(0x7be)+currentQuizData[_0x2a6011(0x7f3)][_0x2a6011(0x1d7)],document[_0x2a6011(0x437)](_0x2a6011(0x3fc))[_0x2a6011(0x766)]=_0x27aeec===0x0,document[_0x2a6011(0x437)](_0x2a6011(0x770))[_0x2a6011(0x766)]=_0x27aeec===currentQuizData[_0x2a6011(0x7f3)][_0x2a6011(0x1d7)]-0x1;}async function checkShortAnswerForPresentation(_0x3f2d9c){const _0x5b98de=_0x483b09,_0x20ac19=currentQuizData[_0x5b98de(0x7f3)][_0x3f2d9c],_0x214b2c=document[_0x5b98de(0x437)](_0x5b98de(0x53e)),_0x34d507=document[_0x5b98de(0x437)]('check-presentation-answer-btn'),_0x189c6e=document[_0x5b98de(0x437)](_0x5b98de(0x24e)),_0x142ba9=document[_0x5b98de(0x437)](_0x5b98de(0x4e2));if(!_0x214b2c||!_0x34d507||!_0x189c6e||!_0x142ba9)return;const _0x12d1ad=_0x214b2c[_0x5b98de(0x8b5)][_0x5b98de(0x8ad)]();if(_0x12d1ad==='')return;_0x34d507[_0x5b98de(0x766)]=!![],_0x34d507[_0x5b98de(0x676)]=_0x5b98de(0x427),_0x214b2c['disabled']=!![];const _0x3c5611=await gradeShortAnswer(_0x12d1ad,_0x20ac19);_0x3c5611?_0x189c6e[_0x5b98de(0x676)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x189c6e[_0x5b98de(0x676)]=_0x5b98de(0x2ae)+_0x20ac19[_0x5b98de(0x724)]+')',_0x189c6e[_0x5b98de(0x49a)][_0x5b98de(0x355)](_0x5b98de(0x534)),_0x142ba9['classList'][_0x5b98de(0x355)](_0x5b98de(0x534)),_0x34d507[_0x5b98de(0x49a)][_0x5b98de(0x3ba)](_0x5b98de(0x534));}function revealAnswerForPresentation(_0x33007c,_0x2290dd){const _0x57ade2=_0x483b09,_0x14182f=currentQuizData[_0x57ade2(0x7f3)][_0x33007c],_0x9e9929=_0x14182f['questionType']||currentQuizData['quizType'];document[_0x57ade2(0x442)](_0x57ade2(0x61b))['forEach'](_0x5a2ac2=>{const _0x402bc7=_0x57ade2;_0x5a2ac2[_0x402bc7(0x766)]=!![],_0x5a2ac2[_0x402bc7(0x49a)][_0x402bc7(0x355)](_0x402bc7(0x301));let _0x22ffc7=![];if(_0x9e9929==='multiple_choice'||_0x9e9929===_0x402bc7(0x78b)){const _0x39a550=parseInt(_0x5a2ac2[_0x402bc7(0x8c8)][_0x402bc7(0x6a8)]);_0x22ffc7=_0x39a550===_0x14182f[_0x402bc7(0x531)];}else{if(_0x9e9929===_0x402bc7(0x29b)){const _0x1f3ad6=_0x5a2ac2['dataset'][_0x402bc7(0x67b)]===_0x402bc7(0x375);_0x22ffc7=_0x1f3ad6===_0x14182f[_0x402bc7(0x5ac)];}else _0x9e9929===_0x402bc7(0x479)&&(_0x22ffc7=_0x5a2ac2[_0x402bc7(0x2dd)][_0x402bc7(0x8ad)]()===_0x14182f[_0x402bc7(0x4d5)]);}_0x22ffc7?_0x5a2ac2[_0x402bc7(0x49a)][_0x402bc7(0x3ba)](_0x402bc7(0x27b),'text-white','border-green-700'):_0x5a2ac2[_0x402bc7(0x49a)][_0x402bc7(0x3ba)](_0x402bc7(0x907));}),_0x2290dd[_0x57ade2(0x49a)][_0x57ade2(0x355)](_0x57ade2(0x907));let _0x269517=![];if(_0x9e9929===_0x57ade2(0x450))_0x269517=parseInt(_0x2290dd[_0x57ade2(0x8c8)][_0x57ade2(0x6a8)])===_0x14182f[_0x57ade2(0x531)];else{if(_0x9e9929===_0x57ade2(0x29b))_0x269517=_0x2290dd['dataset'][_0x57ade2(0x67b)]===_0x57ade2(0x375)===_0x14182f[_0x57ade2(0x5ac)];else _0x9e9929===_0x57ade2(0x479)&&(_0x269517=_0x2290dd[_0x57ade2(0x2dd)][_0x57ade2(0x8ad)]()===_0x14182f[_0x57ade2(0x4d5)]);}!_0x269517&&_0x2290dd[_0x57ade2(0x49a)][_0x57ade2(0x3ba)](_0x57ade2(0x4c9),'text-white',_0x57ade2(0x5d3)),document[_0x57ade2(0x437)](_0x57ade2(0x4e2))[_0x57ade2(0x49a)]['remove'](_0x57ade2(0x534));}function startWholeQuizTimer(_0x3f9ff3){const _0x368010=_0x483b09,_0x41de00=document[_0x368010(0x437)](_0x368010(0x2a6));if(!_0x41de00)return;const _0x2703f6=Date[_0x368010(0x58f)]()+_0x3f9ff3*0x3c*0x3e8;_0x41de00[_0x368010(0x676)]=_0x368010(0x6c6);const _0x3bb96a=document['getElementById']('countdown-display');quizTimerInterval=setInterval(()=>{const _0x275a15=_0x368010,_0x1fe211=_0x2703f6-Date[_0x275a15(0x58f)]();if(_0x1fe211<=0x0)clearInterval(quizTimerInterval),_0x3bb96a[_0x275a15(0x2dd)]=_0x275a15(0x4e9),showMessage(_0x275a15(0x274)),handleSubmitQuiz(null);else{const _0x502d49=Math[_0x275a15(0x254)](_0x1fe211/0x3e8/0x3c%0x3c)[_0x275a15(0x38c)]()['padStart'](0x2,'0'),_0x3caee8=Math['floor'](_0x1fe211/0x3e8%0x3c)[_0x275a15(0x38c)]()['padStart'](0x2,'0');_0x3bb96a['textContent']=_0x502d49+':'+_0x3caee8;}},0x3e8);}function renderPerQuestionView(){const _0x306b78=_0x483b09;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x11e4b7=currentDisplayedQuiz[_0x306b78(0x7f3)][currentQuestionIndex],_0x14fc7f=_0x11e4b7[_0x306b78(0x671)]||currentDisplayedQuiz[_0x306b78(0x5da)];let _0x1812fd=_0x306b78(0x642)+(currentQuestionIndex+0x1)+_0x306b78(0x7e6)+currentDisplayedQuiz['questions'][_0x306b78(0x1d7)]+_0x306b78(0x77e)+(currentMode===_0x306b78(0x2e9)?_0x306b78(0x332):'')+_0x306b78(0x837)+currentDisplayedQuiz[_0x306b78(0x624)]+_0x306b78(0x619)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x306b78(0x1d7)]-0x1?'ส่งคำตอบ':_0x306b78(0x6c9))+_0x306b78(0x78c);studentQuizArea[_0x306b78(0x676)]=_0x1812fd;let _0x13d8ba='',_0x457fa8='';switch(_0x14fc7f){case _0x306b78(0x479):_0x13d8ba=currentQuestionIndex+0x1+'.\x20'+_0x11e4b7[_0x306b78(0x509)],_0x457fa8=_0x306b78(0x7b7)+_0x11e4b7['allResponses'][_0x306b78(0x530)](_0x3a960e=>_0x306b78(0x7f0)+_0x3a960e+'\x22>'+_0x3a960e+'</option>')[_0x306b78(0x939)]('')+_0x306b78(0x460);break;case _0x306b78(0x29b):_0x13d8ba=currentQuestionIndex+0x1+'.\x20'+_0x11e4b7['questionText'],_0x457fa8=_0x306b78(0x217);break;case _0x306b78(0x669):case _0x306b78(0x2b9):_0x13d8ba=currentQuestionIndex+0x1+'.\x20'+_0x11e4b7['questionText'],_0x457fa8=_0x306b78(0x701);break;case _0x306b78(0x450):case'fill_in_with_choices':default:_0x13d8ba=currentQuestionIndex+0x1+'.\x20'+_0x11e4b7['questionText'],_0x457fa8=_0x11e4b7[_0x306b78(0x2c8)]['map']((_0x373f86,_0x500bb4)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt'+_0x500bb4+_0x306b78(0x407)+_0x500bb4+_0x306b78(0x4b4)+_0x500bb4+'\x22>'+_0x373f86+_0x306b78(0x3d9))[_0x306b78(0x939)]('');break;}_0x11e4b7[_0x306b78(0x35c)]&&(_0x13d8ba+=_0x306b78(0x64a)+_0x11e4b7[_0x306b78(0x35c)]+_0x306b78(0x73d));document['getElementById'](_0x306b78(0x7d2))[_0x306b78(0x676)]=_0x13d8ba,document[_0x306b78(0x437)](_0x306b78(0x904))[_0x306b78(0x676)]=_0x457fa8;if(currentMode===_0x306b78(0x2e9)){const _0x3334c0=document[_0x306b78(0x437)]('cancel-test-btn');if(_0x3334c0)_0x3334c0['addEventListener'](_0x306b78(0x5ff),cancelAdminTest);}document[_0x306b78(0x437)](_0x306b78(0x300))[_0x306b78(0x6b1)](_0x306b78(0x5ff),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x306b78(0x875)][_0x306b78(0x376)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0xef1754=_0x483b09,_0x59a74f=currentDisplayedQuiz[_0xef1754(0x2bd)][_0xef1754(0x5e2)],_0x5c3e94=document[_0xef1754(0x437)]('per-question-timer-container');if(!_0x5c3e94)return;let _0x55f0e7=_0x59a74f;_0x5c3e94[_0xef1754(0x676)]=_0xef1754(0x65a)+_0x55f0e7+_0xef1754(0x5f2);const _0xb89b00=document['getElementById'](_0xef1754(0x87e)),_0x210245=document[_0xef1754(0x437)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x49fcdc=_0xef1754;_0x55f0e7--;const _0x3c302e=_0x55f0e7/_0x59a74f*0x64;_0xb89b00['style'][_0x49fcdc(0x853)]=_0x3c302e+'%',_0x210245[_0x49fcdc(0x2dd)]=_0x55f0e7,_0x55f0e7<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x6c525d=![]){const _0x524faf=_0x483b09;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x3c9ccc=null;if(!_0x6c525d){const _0x2d8efa=currentDisplayedQuiz[_0x524faf(0x7f3)][currentQuestionIndex],_0x13e4d5=_0x2d8efa[_0x524faf(0x671)]||currentDisplayedQuiz['quizType'];if(_0x13e4d5===_0x524faf(0x669)||_0x13e4d5===_0x524faf(0x2b9)){const _0x59cbcf=document[_0x524faf(0x865)](_0x524faf(0x630));_0x3c9ccc=_0x59cbcf?_0x59cbcf[_0x524faf(0x8b5)][_0x524faf(0x8ad)]():'';}else{if(_0x13e4d5===_0x524faf(0x479)){const _0x22e02a=document[_0x524faf(0x865)]('#per-question-options\x20select');_0x3c9ccc=_0x22e02a?_0x22e02a['value']:'';}else{const _0x59138f=document[_0x524faf(0x865)](_0x524faf(0x39b));if(_0x59138f){const _0x3e3cce=_0x59138f[_0x524faf(0x8b5)];_0x3c9ccc=!isNaN(parseInt(_0x3e3cce,0xa))&&_0x3e3cce[_0x524faf(0x8ad)]()!==''?parseInt(_0x3e3cce,0xa):_0x3e3cce;}}}}studentAnswersPerQuestion[_0x524faf(0x554)](_0x3c9ccc),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x524faf(0x1d7)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x74bf44=_0x483b09,_0x4139fb=currentDisplayedQuiz['questions'][_0x74bf44(0x24a)](_0x59ce4a=>_0x59ce4a[_0x74bf44(0x671)]===_0x74bf44(0x669));_0x4139fb?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x74bf44(0x331));const _0x2382c8=currentQuizData['id'],_0x16b52c=doc(db,'artifacts/'+appId+_0x74bf44(0x8ab)+_0x2382c8+_0x74bf44(0x225),currentStudentName),_0x446313=await getDoc(_0x16b52c),_0x205060=_0x446313[_0x74bf44(0x830)]()?_0x446313[_0x74bf44(0x6cb)]():{},_0x3e6c7d=_0x205060['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x3e6c7d);}function getResultsFilename(){const _0x570bc0=_0x483b09,_0x1a9876=document[_0x570bc0(0x437)]('results-quiz-title')[_0x570bc0(0x2dd)]['replace'](/[^a-z0-9]/gi,'_')[_0x570bc0(0x369)]();return _0x570bc0(0x7d5)+(_0x1a9876||_0x570bc0(0x758));}function exportResultsAsImage(){const _0x36893e=_0x483b09,_0x37d39f=document[_0x36893e(0x437)]('results-table-container');showMessage(_0x36893e(0x1ca)),html2canvas(_0x37d39f)[_0x36893e(0x8ed)](_0x29bff6=>{const _0x2d20c8=_0x36893e,_0x247cf6=document[_0x2d20c8(0x5c1)]('a');_0x247cf6[_0x2d20c8(0x2dc)]=getResultsFilename()+_0x2d20c8(0x435),_0x247cf6[_0x2d20c8(0x5a9)]=_0x29bff6[_0x2d20c8(0x84a)](_0x2d20c8(0x63d)),_0x247cf6[_0x2d20c8(0x5ff)](),messageModal[_0x2d20c8(0x49a)]['add'](_0x2d20c8(0x534));});}function exportResultsAsPDF(){const _0x340640=_0x483b09,{jsPDF:_0x3655b0}=window[_0x340640(0x1ff)],_0x104458=new _0x3655b0();_0x104458['setFont']('helvetica',_0x340640(0x692)),_0x104458[_0x340640(0x3c7)]({'html':'#results-table'}),_0x104458[_0x340640(0x73f)](getResultsFilename()+_0x340640(0x54d));}function exportResultsAsWord(){const _0x218dec=_0x483b09,_0x2e0751=_0x218dec(0x8c7)+_0x218dec(0x4a9)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x2aeb5e='</body></html>',_0x10458b=_0x2e0751+document[_0x218dec(0x437)](_0x218dec(0x4f6))['innerHTML']+_0x2aeb5e,_0xc3a869=_0x218dec(0x826)+encodeURIComponent(_0x10458b),_0x4fc47f=document[_0x218dec(0x5c1)]('a');document[_0x218dec(0x404)][_0x218dec(0x8f9)](_0x4fc47f),_0x4fc47f[_0x218dec(0x5a9)]=_0xc3a869,_0x4fc47f[_0x218dec(0x2dc)]=getResultsFilename()+'.doc',_0x4fc47f[_0x218dec(0x5ff)](),document[_0x218dec(0x404)]['removeChild'](_0x4fc47f);}function exportResultsAsExcel(){const _0x5ae574=_0x483b09,_0x28103b=document[_0x5ae574(0x437)](_0x5ae574(0x3bc));let _0x195c35=[];for(let _0x4d195f=0x0;_0x4d195f<_0x28103b[_0x5ae574(0x781)][_0x5ae574(0x1d7)];_0x4d195f++){let _0xa65cc7=[],_0x30e71a=_0x28103b[_0x5ae574(0x781)][_0x4d195f][_0x5ae574(0x442)]('td,\x20th');for(let _0x4d0b56=0x0;_0x4d0b56<_0x30e71a[_0x5ae574(0x1d7)];_0x4d0b56++){_0xa65cc7[_0x5ae574(0x554)]('\x22'+_0x30e71a[_0x4d0b56][_0x5ae574(0x846)][_0x5ae574(0x78d)](/"/g,'\x22\x22')+'\x22');}_0x195c35[_0x5ae574(0x554)](_0xa65cc7['join'](','));}const _0x5f3d55=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x195c35['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x2d514b=document[_0x5ae574(0x5c1)]('a');_0x2d514b[_0x5ae574(0x5a9)]=URL[_0x5ae574(0x8b7)](_0x5f3d55),_0x2d514b[_0x5ae574(0x2dc)]=getResultsFilename()+_0x5ae574(0x485),_0x2d514b['click']();}function exportTableAsImage(_0x22c2b1,_0x285ab2){const _0x455592=_0x483b09,_0xd2de46=document[_0x455592(0x437)](_0x22c2b1);if(!_0xd2de46){showMessage(_0x455592(0x7f9));return;}showMessage(_0x455592(0x1ca)),html2canvas(_0xd2de46)[_0x455592(0x8ed)](_0x4e8ffe=>{const _0x5e4b10=_0x455592,_0x207976=document['createElement']('a');_0x207976[_0x5e4b10(0x2dc)]=_0x285ab2+_0x5e4b10(0x435),_0x207976[_0x5e4b10(0x5a9)]=_0x4e8ffe[_0x5e4b10(0x84a)](_0x5e4b10(0x63d)),_0x207976[_0x5e4b10(0x5ff)](),messageModal[_0x5e4b10(0x49a)][_0x5e4b10(0x3ba)](_0x5e4b10(0x534));});}function exportTableAsPDF(_0x1bd2f3,_0x43f885){const _0x28303c=_0x483b09,{jsPDF:_0x14331c}=window[_0x28303c(0x1ff)],_0x42a73a=new _0x14331c();_0x42a73a[_0x28303c(0x469)](_0x28303c(0x8e2),_0x28303c(0x692)),_0x42a73a['autoTable']({'html':'#'+_0x1bd2f3}),_0x42a73a['save'](_0x43f885+_0x28303c(0x54d));}function exportTableAsWord(_0x48c53d,_0x1f83c9){const _0x20bdb2=_0x483b09,_0x19b14f=document['getElementById'](_0x48c53d);if(!_0x19b14f){showMessage(_0x20bdb2(0x7f9));return;}const _0x5b85f0=_0x20bdb2(0x8c7)+_0x20bdb2(0x4a9)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x20bdb2(0x4a1),_0x31a653='</body></html>',_0x498b6e=_0x5b85f0+_0x19b14f[_0x20bdb2(0x676)]+_0x31a653,_0x520442=_0x20bdb2(0x826)+encodeURIComponent(_0x498b6e),_0x2b2be1=document['createElement']('a');document[_0x20bdb2(0x404)][_0x20bdb2(0x8f9)](_0x2b2be1),_0x2b2be1[_0x20bdb2(0x5a9)]=_0x520442,_0x2b2be1[_0x20bdb2(0x2dc)]=_0x1f83c9+'.doc',_0x2b2be1['click'](),document['body'][_0x20bdb2(0x8d7)](_0x2b2be1);}function exportTableAsExcel(_0x362e36,_0x5673e5){const _0x1409ff=_0x483b09,_0x8039bb=document[_0x1409ff(0x437)](_0x362e36);if(!_0x8039bb){showMessage(_0x1409ff(0x7f9));return;}let _0x22b1ed=[];for(let _0x113821=0x0;_0x113821<_0x8039bb[_0x1409ff(0x781)]['length'];_0x113821++){let _0x1d15a3=[],_0x4b1d73=_0x8039bb[_0x1409ff(0x781)][_0x113821][_0x1409ff(0x442)](_0x1409ff(0x3f3));for(let _0xdd077=0x0;_0xdd077<_0x4b1d73[_0x1409ff(0x1d7)];_0xdd077++){_0x1d15a3[_0x1409ff(0x554)]('\x22'+_0x4b1d73[_0xdd077][_0x1409ff(0x846)][_0x1409ff(0x78d)](/"/g,'\x22\x22')+'\x22');}_0x22b1ed['push'](_0x1d15a3[_0x1409ff(0x939)](','));}const _0x22d263=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x22b1ed[_0x1409ff(0x939)]('\x0a')],{'type':_0x1409ff(0x6fd)}),_0x25054d=document[_0x1409ff(0x5c1)]('a');_0x25054d[_0x1409ff(0x5a9)]=URL['createObjectURL'](_0x22d263),_0x25054d['download']=_0x5673e5+'.csv',_0x25054d[_0x1409ff(0x5ff)]();}function renderAnalytics(_0x46c9a5,_0x13efce){const _0x2c6ae1=_0x483b09,_0x332eff=currentProjectData['students']['length'],_0x2b077a=_0x13efce[_0x2c6ae1(0x1d7)],_0x537c85=_0x332eff-_0x2b077a,_0x50ebc3=_0x332eff>0x0?_0x2b077a/_0x332eff*0x64:0x0,_0x279c92=_0x13efce[_0x2c6ae1(0x530)](_0x370cc4=>_0x370cc4[_0x2c6ae1(0x7aa)]),_0x35497=_0x279c92[_0x2c6ae1(0x1d7)]>0x0?_0x279c92[_0x2c6ae1(0x4fe)]((_0x3dc7b4,_0x61271e)=>_0x3dc7b4+_0x61271e,0x0)/_0x279c92['length']:0x0,_0x48555c=_0x46c9a5['questions']['length'],_0x2b49dd=_0x48555c>0x0?_0x35497/_0x48555c*0x64:0x0,_0x57c006=calculateItemAnalysis(_0x46c9a5,_0x13efce),_0x3b0b8c=calculateReliabilityKR20(_0x46c9a5,_0x13efce,_0x57c006[_0x2c6ae1(0x8f6)]);let _0x4686a1='';if(_0x3b0b8c!==null){let _0xfa441e='';if(_0x3b0b8c>=0.9)_0xfa441e=_0x2c6ae1(0x91c);else{if(_0x3b0b8c>=0.8)_0xfa441e=_0x2c6ae1(0x50c);else{if(_0x3b0b8c>=0.7)_0xfa441e='ดี';else{if(_0x3b0b8c>=0.6)_0xfa441e=_0x2c6ae1(0x2c7);else _0xfa441e=_0x2c6ae1(0x653);}}}_0x4686a1=_0x2c6ae1(0x7c3)+_0x3b0b8c[_0x2c6ae1(0x508)](0x2)+_0x2c6ae1(0x529)+_0xfa441e+_0x2c6ae1(0x23a);}const _0x1d1500=document['getElementById'](_0x2c6ae1(0x90c));_0x1d1500['innerHTML']=_0x2c6ae1(0x89a)+_0x50ebc3['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x2b077a+'/'+_0x332eff+_0x2c6ae1(0x8e8)+_0x35497[_0x2c6ae1(0x508)](0x2)+_0x2c6ae1(0x82a)+_0x2b49dd[_0x2c6ae1(0x508)](0x0)+_0x2c6ae1(0x751)+(_0x279c92[_0x2c6ae1(0x1d7)]>0x0?Math[_0x2c6ae1(0x250)](..._0x279c92):'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x279c92['length']>0x0?Math['min'](..._0x279c92):_0x2c6ae1(0x922))+_0x2c6ae1(0x8f2)+_0x4686a1+'\x0a\x20\x20\x20\x20';const _0x583612=document[_0x2c6ae1(0x437)](_0x2c6ae1(0x707));_0x583612&&_0x583612[_0x2c6ae1(0x355)]();const _0x383985=_0x2c6ae1(0x607);_0x1d1500[_0x2c6ae1(0x2c3)](_0x2c6ae1(0x90d),_0x383985);const _0x420897=currentProjectData[_0x2c6ae1(0x71b)]||[];renderSubmissionChart(_0x2b077a,_0x537c85,_0x13efce,_0x420897),renderScoreDistributionChart(_0x13efce,_0x48555c),renderQuestionAnalytics(_0x46c9a5,_0x13efce,_0x420897),renderInterestingStats(_0x46c9a5,_0x13efce);}async function handleExportLessonPDF(){const _0xb1cc5a=_0x483b09,_0x1d303e=document[_0xb1cc5a(0x437)]('lesson-plan-content'),_0x59f6a9=document[_0xb1cc5a(0x437)](_0xb1cc5a(0x6ef))[_0xb1cc5a(0x2dd)],_0x2513ee=window['open']('',_0xb1cc5a(0x4ad)),_0xce4749=_0xb1cc5a(0x358)+_0x59f6a9+_0xb1cc5a(0x6e9)+_0x1d303e[_0xb1cc5a(0x676)]+_0xb1cc5a(0x234);_0x2513ee[_0xb1cc5a(0x8ce)][_0xb1cc5a(0x3e8)](_0xce4749),_0x2513ee['document'][_0xb1cc5a(0x42c)](),_0x2513ee[_0xb1cc5a(0x8be)]=function(){setTimeout(()=>{const _0x28b327=_0x3cdb;_0x2513ee[_0x28b327(0x7af)]();},0x5dc);};}function renderInterestingStats(_0x49f149,_0x471464){const _0x190af0=_0x483b09,_0x6fd058=document[_0x190af0(0x437)](_0x190af0(0x5ab));if(!_0x6fd058)return;if(_0x471464[_0x190af0(0x1d7)]===0x0){_0x6fd058[_0x190af0(0x676)]=_0x190af0(0x5dd);return;}const _0x5c24ab=_0x49f149[_0x190af0(0x7f3)][_0x190af0(0x530)]((_0x507c4b,_0x3e8a41)=>({'index':_0x3e8a41+0x1,'text':_0x507c4b['questionText']||_0x507c4b[_0x190af0(0x509)],'correct':0x0}));_0x471464[_0x190af0(0x4ec)](_0x11d94f=>{const _0x52cf21=_0x190af0,_0x585947=_0x11d94f[_0x52cf21(0x933)][_0x11d94f['attempts']['length']-0x1];_0x585947&&_0x585947[_0x52cf21(0x434)]&&_0x585947[_0x52cf21(0x434)][_0x52cf21(0x4ec)](_0x35f35a=>{const _0x511d63=_0x52cf21,_0x5259eb=_0x5c24ab[_0x511d63(0x413)](_0x38400e=>_0x38400e[_0x511d63(0x68b)]===_0x35f35a[_0x511d63(0x7ee)]);_0x35f35a[_0x511d63(0x699)]&&_0x5259eb&&_0x5259eb[_0x511d63(0x832)]++;});});const _0x339ce4=_0x471464[_0x190af0(0x1d7)],_0x583260=Math[_0x190af0(0x250)](..._0x5c24ab[_0x190af0(0x530)](_0x4eca9e=>_0x4eca9e[_0x190af0(0x832)])),_0x50228e=Math[_0x190af0(0x906)](..._0x5c24ab[_0x190af0(0x530)](_0x351bb9=>_0x351bb9[_0x190af0(0x832)])),_0x521ccc=_0x5c24ab[_0x190af0(0x72a)](_0x16c83b=>_0x16c83b[_0x190af0(0x832)]===_0x583260)[_0x190af0(0x530)](_0x51f767=>_0x190af0(0x22b)+_0x51f767[_0x190af0(0x6a8)]),_0x1bd3da=_0x5c24ab[_0x190af0(0x72a)](_0x2765c3=>_0x2765c3[_0x190af0(0x832)]===_0x50228e)[_0x190af0(0x530)](_0x4f9266=>_0x190af0(0x22b)+_0x4f9266[_0x190af0(0x6a8)]),_0x463706=_0x471464[_0x190af0(0x205)]((_0x353252,_0x295844)=>_0x295844['latestScore']-_0x353252[_0x190af0(0x7aa)])[_0x190af0(0x72a)]((_0x2cc656,_0x2e229f,_0x191c79)=>_0x2cc656[_0x190af0(0x7aa)]===_0x191c79[0x0]['latestScore']),_0x2e1154=_0x471464[_0x190af0(0x205)]((_0x4d6565,_0x1e186b)=>_0x4d6565[_0x190af0(0x7aa)]-_0x1e186b[_0x190af0(0x7aa)])[_0x190af0(0x72a)]((_0x4bc696,_0xfc53fa,_0x3661fd)=>_0x4bc696[_0x190af0(0x7aa)]===_0x3661fd[0x0][_0x190af0(0x7aa)]),_0x523721=_0x190af0(0x5e7)+_0x521ccc[_0x190af0(0x939)](',\x20')+_0x190af0(0x580)+_0x583260+'\x20/\x20'+_0x339ce4+_0x190af0(0x679)+_0x1bd3da[_0x190af0(0x939)](',\x20')+_0x190af0(0x580)+(_0x339ce4-_0x50228e)+_0x190af0(0x7be)+_0x339ce4+_0x190af0(0x297)+_0x463706[_0x190af0(0x530)](_0x275eb9=>_0x275eb9[_0x190af0(0x5c0)])[_0x190af0(0x939)](',\x20')+_0x190af0(0x734)+_0x463706[0x0][_0x190af0(0x7aa)]+_0x190af0(0x4bc)+_0x2e1154[_0x190af0(0x530)](_0x206ecd=>_0x206ecd[_0x190af0(0x5c0)])[_0x190af0(0x939)](',\x20')+_0x190af0(0x734)+_0x2e1154[0x0][_0x190af0(0x7aa)]+_0x190af0(0x4a8);_0x6fd058[_0x190af0(0x676)]=_0x523721;}function renderSubmissionChart(_0xe91500,_0x3258eb,_0x57e0ea,_0x2342bf){const _0xea3e83=_0x483b09,_0x38c766=document[_0xea3e83(0x437)]('submission-status-chart')['getContext']('2d'),_0xb9e378=_0x57e0ea['map'](_0x5392f6=>_0x5392f6[_0xea3e83(0x5c0)]),_0x4b7db2=_0x2342bf[_0xea3e83(0x72a)](_0xaa75c6=>!_0xb9e378[_0xea3e83(0x806)](_0xaa75c6));chartInstances[_0xea3e83(0x3d2)]&&chartInstances['submission'][_0xea3e83(0x761)](),chartInstances[_0xea3e83(0x3d2)]=new Chart(_0x38c766,{'type':'doughnut','data':{'labels':[_0xea3e83(0x691),_0xea3e83(0x2d4)],'datasets':[{'data':[_0xe91500,_0x3258eb],'backgroundColor':[_0xea3e83(0x4d3),_0xea3e83(0x636)],'borderColor':[_0xea3e83(0x892),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x33723e){const _0x4c4287=_0xea3e83;let _0xbc2407=_0x33723e[_0x4c4287(0x29c)]||'';return _0xbc2407&&(_0xbc2407+=':\x20'),_0xbc2407+=_0x33723e[_0x4c4287(0x386)],_0xbc2407;},'afterLabel':function(_0x362100){const _0x23237b=_0xea3e83;let _0x370227;return _0x362100[_0x23237b(0x7d3)]===0x0?_0x370227=_0xb9e378:_0x370227=_0x4b7db2,_0x370227['length']>0x0?_0x370227['join']('\x0a'):_0x23237b(0x2d8);}}}}}});}function renderScoreDistributionChart(_0x395637,_0x2d0739){const _0x21c907=_0x483b09,_0x27e45a=document[_0x21c907(0x437)](_0x21c907(0x6f2))[_0x21c907(0x893)]('2d'),_0x2d0265={};for(let _0x114fa0=0x0;_0x114fa0<=_0x2d0739;_0x114fa0++){_0x2d0265[_0x114fa0]=0x0;}_0x395637['forEach'](_0x36c67e=>{const _0x538e2b=_0x21c907;_0x2d0265[_0x36c67e[_0x538e2b(0x7aa)]]!==undefined&&_0x2d0265[_0x36c67e[_0x538e2b(0x7aa)]]++;}),chartInstances['score']&&chartInstances['score'][_0x21c907(0x761)](),chartInstances[_0x21c907(0x43a)]=new Chart(_0x27e45a,{'type':'bar','data':{'labels':Object[_0x21c907(0x571)](_0x2d0265),'datasets':[{'label':_0x21c907(0x672),'data':Object[_0x21c907(0x426)](_0x2d0265),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x21c907(0x30b),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x1ba939){const _0x4ead08=_0x21c907,_0x3e09da=_0x1ba939[_0x4ead08(0x29c)],_0x304d6b=_0x395637[_0x4ead08(0x72a)](_0x36afba=>_0x36afba[_0x4ead08(0x7aa)]==_0x3e09da)[_0x4ead08(0x530)](_0x4adef8=>_0x4adef8['studentName']);return _0x304d6b[_0x4ead08(0x1d7)]>0x0?_0x304d6b[_0x4ead08(0x939)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x38ef51,_0x33e0eb,_0x43ceb4){const _0x54f915=_0x483b09,_0x21397b=document['getElementById'](_0x54f915(0x42e));if(_0x43ceb4['length']===0x0){_0x21397b[_0x54f915(0x676)]=_0x54f915(0x5fa);return;}const _0x331006=calculateItemAnalysis(_0x38ef51,_0x33e0eb),_0x58dd17=calculateDistractorAnalysis(_0x38ef51,_0x33e0eb);let _0x14d050='';_0x331006[_0x54f915(0x1da)]&&(_0x14d050='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x331006[_0x54f915(0x1da)][_0x54f915(0x79b)][_0x54f915(0x1d7)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x331006[_0x54f915(0x1da)][_0x54f915(0x79b)][_0x54f915(0x530)](_0x82fa8c=>_0x54f915(0x2c1)+_0x82fa8c+_0x54f915(0x6db))[_0x54f915(0x939)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x331006[_0x54f915(0x1da)][_0x54f915(0x668)][_0x54f915(0x1d7)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x331006[_0x54f915(0x1da)][_0x54f915(0x668)]['map'](_0x2c8bbb=>'<li>'+_0x2c8bbb+_0x54f915(0x6db))[_0x54f915(0x939)]('')+_0x54f915(0x340));let _0x3d46ee='';const _0x19006e=_0x33e0eb[_0x54f915(0x530)](_0x143522=>_0x143522[_0x54f915(0x5c0)]),_0x46dc0c=_0x24b997=>{const _0x41531c=_0x54f915;if(_0x24b997>=0.8)return _0x41531c(0x2ec);if(_0x24b997>=0.6)return _0x41531c(0x67f);if(_0x24b997>=0.4)return _0x41531c(0x901);if(_0x24b997>=0.2)return _0x41531c(0x3df);return _0x41531c(0x76f);},_0x342153=_0x27451c=>{const _0x21c590=_0x54f915;if(_0x27451c<0x0)return _0x21c590(0x879);if(_0x27451c>=0.4)return _0x21c590(0x6b4);if(_0x27451c>=0.3)return _0x21c590(0x31f);if(_0x27451c>=0.2)return _0x21c590(0x8e1);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0xea399d=_0x3a7c85=>{const _0xee20c4=_0x54f915,_0x4d1ef7=_0x3a7c85[_0xee20c4(0x508)](0x0);if(parseFloat(_0x4d1ef7)===0x64)return _0xee20c4(0x1d1)+_0x4d1ef7+_0xee20c4(0x56e);if(_0x3a7c85>=0x32)return _0xee20c4(0x66e)+_0x4d1ef7+_0xee20c4(0x56e);return _0xee20c4(0x368)+_0x4d1ef7+_0xee20c4(0x56e);};_0x38ef51[_0x54f915(0x7f3)][_0x54f915(0x4ec)]((_0x8b967a,_0x3130ef)=>{const _0x482d3c=_0x54f915,_0x336442=_0x331006['perQuestionStats'][_0x3130ef],_0xd8391a=_0x58dd17[_0x3130ef],_0x2e2a85=_0x8b967a[_0x482d3c(0x509)]||_0x8b967a[_0x482d3c(0x353)]||_0x8b967a[_0x482d3c(0x7e3)];let _0x432ce2=0x0;const _0xffe2d7=[],_0x11c985=[];_0x33e0eb[_0x482d3c(0x4ec)](_0x44de98=>{const _0x3514d9=_0x482d3c,_0x454127=_0x44de98[_0x3514d9(0x933)][_0x44de98[_0x3514d9(0x933)][_0x3514d9(0x1d7)]-0x1];if(_0x454127&&_0x454127[_0x3514d9(0x434)]){const _0x41653f=_0x454127[_0x3514d9(0x434)][_0x3514d9(0x413)](_0x234b24=>_0x234b24['originalQuestionText']===_0x2e2a85)??_0x454127[_0x3514d9(0x434)][_0x3130ef]??null;_0x41653f&&(_0x41653f[_0x3514d9(0x699)]?(_0x432ce2++,_0xffe2d7[_0x3514d9(0x554)](_0x44de98[_0x3514d9(0x5c0)])):_0x11c985['push'](_0x44de98[_0x3514d9(0x5c0)]));}});const _0x1e9bd6=_0x33e0eb['length']>0x0?_0x432ce2/_0x33e0eb[_0x482d3c(0x1d7)]*0x64:0x0,_0x2c06bd=_0x43ceb4[_0x482d3c(0x72a)](_0x38a976=>!_0x19006e[_0x482d3c(0x806)](_0x38a976)),_0xda44e7=_0x336442?_0x482d3c(0x5d0)+_0x336442['p'][_0x482d3c(0x508)](0x2)+'</p><div>'+_0x46dc0c(_0x336442['p'])+_0x482d3c(0x82f)+_0x336442['r']['toFixed'](0x2)+_0x482d3c(0x1c5)+_0x342153(_0x336442['r'])+_0x482d3c(0x25f)+_0xea399d(_0x1e9bd6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x59b995='';_0xd8391a&&(_0x59b995=_0x482d3c(0x919)+Object[_0x482d3c(0x571)](_0xd8391a)[_0x482d3c(0x530)](_0x2a3df5=>{const _0x18f480=_0x482d3c,_0x372831=_0xd8391a[_0x2a3df5],_0x46927f=parseInt(_0x2a3df5)===_0x8b967a[_0x18f480(0x531)],_0x3e6563=!_0x46927f&&_0x372831[_0x18f480(0x3b4)]>_0x372831[_0x18f480(0x720)];return'<tr\x20class=\x22'+(_0x46927f?_0x18f480(0x819):'')+_0x18f480(0x908)+(_0x46927f?'✔\x20':'')+_0x372831[_0x18f480(0x68b)]+_0x18f480(0x490)+_0x372831[_0x18f480(0x720)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x372831[_0x18f480(0x3b4)]+'\x20'+(_0x3e6563?'👍':'')+_0x18f480(0x490)+_0x372831[_0x18f480(0x204)]+_0x18f480(0x7c9);})[_0x482d3c(0x939)]('')+_0x482d3c(0x4b1));let _0x1a6a07='';_0x336442&&_0x336442[_0x482d3c(0x89f)]&&(_0x1a6a07=_0x482d3c(0x63c)+_0x336442['upperGroupResponders'][_0x482d3c(0x1d7)]+_0x482d3c(0x597)+_0x336442[_0x482d3c(0x89f)][_0x482d3c(0x530)](_0x25872b=>_0x482d3c(0x2c1)+(_0x25872b[_0x482d3c(0x699)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x482d3c(0x245))+'\x20'+_0x25872b[_0x482d3c(0x884)]+'</li>')[_0x482d3c(0x939)]('')+_0x482d3c(0x37e)+_0x336442['lowerGroupResponders'][_0x482d3c(0x1d7)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x336442[_0x482d3c(0x6f1)][_0x482d3c(0x530)](_0x383e5f=>_0x482d3c(0x2c1)+(_0x383e5f[_0x482d3c(0x699)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x482d3c(0x245))+'\x20'+_0x383e5f[_0x482d3c(0x884)]+'</li>')[_0x482d3c(0x939)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x3d46ee+=_0x482d3c(0x861)+(_0x3130ef+0x1)+':\x20'+_0x2e2a85+_0x482d3c(0x801)+_0xda44e7+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x2e2a85+_0x482d3c(0x3e9)+_0x432ce2+_0x482d3c(0x7e6)+_0x33e0eb['length']+_0x482d3c(0x6af)+_0x1e9bd6['toFixed'](0x0)+_0x482d3c(0x5c4)+_0xffe2d7[_0x482d3c(0x1d7)]+_0x482d3c(0x50f)+(_0xffe2d7[_0x482d3c(0x1d7)]>0x0?_0xffe2d7['join'](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x11c985[_0x482d3c(0x1d7)]+_0x482d3c(0x50f)+(_0x11c985[_0x482d3c(0x1d7)]>0x0?_0x11c985['join'](',\x20'):_0x482d3c(0x2d8))+_0x482d3c(0x493)+_0x2c06bd[_0x482d3c(0x1d7)]+_0x482d3c(0x50f)+(_0x2c06bd[_0x482d3c(0x1d7)]>0x0?_0x2c06bd[_0x482d3c(0x939)](',\x20'):_0x482d3c(0x2d8))+_0x482d3c(0x75d)+_0x59b995+_0x482d3c(0x771)+_0x1a6a07+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x21397b[_0x54f915(0x676)]=_0x14d050+_0x3d46ee;try{window[_0x54f915(0x875)]&&MathJax[_0x54f915(0x376)]&&MathJax[_0x54f915(0x376)]([_0x21397b]);}catch(_0x57c2d3){console['error'](_0x54f915(0x851),_0x57c2d3);}}function calculateDistractorAnalysis(_0x2bdbfd,_0x5209b9){const _0x2725b1=_0x483b09,_0x389ea7={};if(_0x5209b9[_0x2725b1(0x1d7)]<0x2)return _0x389ea7;const _0x5a0f0c=[..._0x5209b9][_0x2725b1(0x205)]((_0x1a5421,_0x3937a8)=>{const _0x45c47f=_0x2725b1,_0x47ae6c=_0x3937a8[_0x45c47f(0x7aa)]-_0x1a5421['latestScore'];if(_0x47ae6c!==0x0)return _0x47ae6c;const _0x584854=_0x1a5421[_0x45c47f(0x933)]?.[_0x45c47f(0x1d7)]||0x1,_0x4d4f1f=_0x3937a8[_0x45c47f(0x933)]?.[_0x45c47f(0x1d7)]||0x1,_0x136f82=_0x584854-_0x4d4f1f;if(_0x136f82!==0x0)return _0x136f82;const _0x32a49c=new Date(_0x1a5421[_0x45c47f(0x5c7)]),_0x1ebeab=new Date(_0x3937a8[_0x45c47f(0x5c7)]),_0x131292=_0x32a49c-_0x1ebeab;if(_0x131292!==0x0)return _0x131292;return _0x1a5421[_0x45c47f(0x5c0)][_0x45c47f(0x325)](_0x3937a8[_0x45c47f(0x5c0)],'th');}),_0x2adc8b=_0x5a0f0c[_0x2725b1(0x1d7)],_0x5266d5=Math['max'](0x1,Math['floor'](_0x2adc8b*0.33)),_0x17ebf2=_0x5a0f0c[_0x2725b1(0x328)](0x0,_0x5266d5),_0x4cd027=_0x5a0f0c[_0x2725b1(0x328)](-_0x5266d5);return _0x2bdbfd[_0x2725b1(0x7f3)][_0x2725b1(0x4ec)]((_0x5c424c,_0x400028)=>{const _0x1dd9f=_0x2725b1;if(_0x5c424c[_0x1dd9f(0x671)]!==_0x1dd9f(0x450)||!_0x5c424c[_0x1dd9f(0x2c8)])return;const _0x17b748=_0x5c424c['questionText'],_0x120f13={};_0x5c424c[_0x1dd9f(0x2c8)][_0x1dd9f(0x4ec)]((_0x3b8f87,_0x2a165c)=>{_0x120f13[_0x2a165c]={'text':_0x3b8f87,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x5a0f0c[_0x1dd9f(0x4ec)](_0x98d950=>{const _0x31dc93=_0x1dd9f,_0x441772=_0x98d950[_0x31dc93(0x933)][_0x98d950[_0x31dc93(0x933)]['length']-0x1],_0x489cb9=_0x441772[_0x31dc93(0x434)][_0x31dc93(0x413)](_0x301d86=>_0x301d86[_0x31dc93(0x7ee)]===_0x17b748);if(_0x489cb9&&_0x489cb9[_0x31dc93(0x67b)]!==null){const _0x31426f=_0x5c424c['options'][_0x31dc93(0x247)](_0x154624=>_0x154624===_0x489cb9[_0x31dc93(0x52d)]);_0x31426f!==-0x1&&_0x120f13[_0x31426f]&&(_0x120f13[_0x31426f][_0x31dc93(0x204)]++,_0x17ebf2[_0x31dc93(0x806)](_0x98d950)&&_0x120f13[_0x31426f][_0x31dc93(0x720)]++,_0x4cd027[_0x31dc93(0x806)](_0x98d950)&&_0x120f13[_0x31426f][_0x31dc93(0x3b4)]++);}}),_0x389ea7[_0x400028]=_0x120f13;}),_0x389ea7;}function calculateReliabilityKR20(_0x28e660,_0x818fa5,_0x121b64){const _0x1008b5=_0x483b09,_0x1db2f1=_0x28e660['questions'][_0x1008b5(0x1d7)];if(_0x1db2f1<0x2||_0x818fa5[_0x1008b5(0x1d7)]<0x2)return null;const _0x422b5d=_0x818fa5['map'](_0x2e4de1=>_0x2e4de1['latestScore']),_0x5ddb3e=_0x422b5d[_0x1008b5(0x4fe)]((_0x1dc438,_0x580572)=>_0x1dc438+_0x580572,0x0)/_0x422b5d[_0x1008b5(0x1d7)],_0x4a743f=_0x422b5d[_0x1008b5(0x530)](_0x56ea69=>Math[_0x1008b5(0x207)](_0x56ea69-_0x5ddb3e,0x2))['reduce']((_0x495e84,_0x514427)=>_0x495e84+_0x514427,0x0)/_0x422b5d['length'];if(_0x4a743f===0x0)return null;let _0x4a8d19=0x0;for(let _0xc3855e=0x0;_0xc3855e<_0x1db2f1;_0xc3855e++){const _0x20c86a=_0x121b64[_0xc3855e]?.['p'];if(_0x20c86a===undefined)continue;const _0x2162ae=0x1-_0x20c86a;_0x4a8d19+=_0x20c86a*_0x2162ae;}if(_0x4a8d19===0x0)return null;const _0x167807=_0x1db2f1/(_0x1db2f1-0x1)*(0x1-_0x4a8d19/_0x4a743f);if(_0x167807>0x1)return null;return _0x167807;}async function handleAnalyzeClass(){const _0x4883d0=_0x483b09;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x4883d0(0x52b));return;}const _0x21dd8c=collection(db,_0x4883d0(0x868)+appId+_0x4883d0(0x8ab)+currentQuizData['id']+_0x4883d0(0x225)),_0x53f145=await getDocs(_0x21dd8c),_0x24e5d5=_0x53f145['docs'][_0x4883d0(0x530)](_0x5bcd5f=>_0x5bcd5f['data']());if(_0x24e5d5[_0x4883d0(0x1d7)]<0x2){showMessage(_0x4883d0(0x532));return;}const _0x528a07=document[_0x4883d0(0x437)](_0x4883d0(0x798));_0x528a07[_0x4883d0(0x676)]=_0x4883d0(0x431),document['getElementById'](_0x4883d0(0x46c))[_0x4883d0(0x766)]=!![];const _0x5d3ca8=_0x24e5d5[_0x4883d0(0x530)]((_0x1570be,_0x191f69)=>{const _0x55e41c=_0x4883d0,_0xc7ecca=_0x1570be[_0x55e41c(0x933)][_0x1570be[_0x55e41c(0x933)]['length']-0x1];if(!_0xc7ecca)return'';return _0x55e41c(0x850)+(_0x191f69+0x1)+'\x20('+_0x1570be[_0x55e41c(0x5c0)]+_0x55e41c(0x324)+_0xc7ecca['score']+'/'+_0x1570be[_0x55e41c(0x267)]+_0x55e41c(0x6eb)+JSON['stringify'](_0xc7ecca[_0x55e41c(0x434)])+_0x55e41c(0x81c);})[_0x4883d0(0x939)](_0x4883d0(0x539)),_0x4158f9=_0x4883d0(0x41d)+currentQuizData[_0x4883d0(0x624)]+_0x4883d0(0x2cb)+JSON[_0x4883d0(0x657)](currentQuizData[_0x4883d0(0x7f3)])+_0x4883d0(0x445)+_0x5d3ca8+_0x4883d0(0x2c0),_0x4e6a52={'type':_0x4883d0(0x3af),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':'STRING'}},'classWeaknesses':{'type':_0x4883d0(0x362),'items':{'type':_0x4883d0(0x36f)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x4883d0(0x36f)}}},'required':[_0x4883d0(0x21b),'classWeaknesses','teacherSuggestions']};try{const _0x312328=await callAnalysisApi(_0x4158f9,_0x4e6a52);displayClassAnalysis(_0x312328);}catch(_0x32665a){console[_0x4883d0(0x8cc)]('Error\x20during\x20class\x20analysis:',_0x32665a),_0x528a07[_0x4883d0(0x676)]=_0x4883d0(0x6f4)+_0x32665a[_0x4883d0(0x64f)]+_0x4883d0(0x295);}finally{document[_0x4883d0(0x437)](_0x4883d0(0x46c))[_0x4883d0(0x766)]=![];}}function displayClassAnalysis(_0x555a7d){const _0x280b3b=_0x483b09,_0x3a8e35=document[_0x280b3b(0x437)](_0x280b3b(0x798));if(!_0x555a7d){_0x3a8e35['innerHTML']=_0x280b3b(0x59c);return;}_0x3a8e35[_0x280b3b(0x676)]=_0x280b3b(0x660)+_0x555a7d[_0x280b3b(0x21b)][_0x280b3b(0x530)](_0x45cc72=>'<li>'+_0x45cc72+_0x280b3b(0x6db))['join']('')+_0x280b3b(0x569)+_0x555a7d[_0x280b3b(0x5f9)][_0x280b3b(0x530)](_0x5ab54c=>'<li>'+_0x5ab54c+_0x280b3b(0x6db))[_0x280b3b(0x939)]('')+_0x280b3b(0x316)+_0x555a7d[_0x280b3b(0x1d5)][_0x280b3b(0x530)](_0x10ee16=>_0x280b3b(0x2c1)+_0x10ee16+'</li>')[_0x280b3b(0x939)]('')+_0x280b3b(0x711);}function formatAndPrintWorksheet(_0x449b23,_0x51e3eb){const _0x471c7d=_0x483b09,_0x36d2bd=_0x471c7d(0x5e5)+_0x449b23[_0x471c7d(0x624)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x449b23['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x449b23[_0x471c7d(0x7f3)]['map']((_0x5e6357,_0x2a3173)=>_0x471c7d(0x925)+(_0x2a3173+0x1)+'.\x20'+_0x5e6357['questionText']+_0x471c7d(0x2f3)+(_0x5e6357[_0x471c7d(0x35c)]?_0x471c7d(0x249)+_0x5e6357[_0x471c7d(0x35c)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x471c7d(0x939)]('')+_0x471c7d(0x395);_0x51e3eb['document'][_0x471c7d(0x3e8)](_0x36d2bd),_0x51e3eb[_0x471c7d(0x8ce)][_0x471c7d(0x42c)](),_0x51e3eb[_0x471c7d(0x8be)]=function(){setTimeout(()=>{const _0x1f4705=_0x3cdb;_0x51e3eb[_0x1f4705(0x7af)]();},0x3e8);};}async function generateWorksheet(){const _0xa24f1b=_0x483b09,_0x4e14c4=document[_0xa24f1b(0x437)]('worksheet-topic-input')[_0xa24f1b(0x8b5)][_0xa24f1b(0x8ad)]();if(!_0x4e14c4){showMessage(_0xa24f1b(0x7fd));return;}const _0x2b4308=document[_0xa24f1b(0x437)]('force-math-checkbox')[_0xa24f1b(0x6b5)],_0x33cac1=_0x2b4308?'':_0xa24f1b(0x1c7),_0x49b426=window['open']('',_0xa24f1b(0x4ad));_0x49b426[_0xa24f1b(0x8ce)][_0xa24f1b(0x3e8)](_0xa24f1b(0x2cf));const _0x4eb847=parseInt(document[_0xa24f1b(0x437)](_0xa24f1b(0x309))[_0xa24f1b(0x8b5)]),_0x3c5d6d=document['getElementById'](_0xa24f1b(0x3e3))[_0xa24f1b(0x6b5)],_0x162444=_0x3c5d6d?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x22a450='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x33cac1+_0xa24f1b(0x4bb)+_0x4eb847+_0xa24f1b(0x1c9)+_0x4e14c4+_0xa24f1b(0x867)+_0x162444+_0xa24f1b(0x5b4)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x18e7b1={'type':_0xa24f1b(0x3af),'properties':{'topic':{'type':_0xa24f1b(0x36f)},'questions':{'type':_0xa24f1b(0x362),'items':{'type':_0xa24f1b(0x3af),'properties':{'questionText':{'type':_0xa24f1b(0x36f)},'imageCode':{'type':_0xa24f1b(0x36f)}},'required':[_0xa24f1b(0x353)]}}},'required':[_0xa24f1b(0x624),_0xa24f1b(0x7f3)]};document[_0xa24f1b(0x437)](_0xa24f1b(0x603))[_0xa24f1b(0x2dd)]='',document[_0xa24f1b(0x437)](_0xa24f1b(0x1fa))[_0xa24f1b(0x49a)][_0xa24f1b(0x355)](_0xa24f1b(0x534)),document[_0xa24f1b(0x437)](_0xa24f1b(0x72f))[_0xa24f1b(0x49a)]['remove'](_0xa24f1b(0x534)),generateWorksheetBtn[_0xa24f1b(0x766)]=!![];try{const _0x481040=await callAnalysisApi(_0x22a450,_0x18e7b1);formatAndPrintWorksheet(_0x481040,_0x49b426);}catch(_0xb7162c){console[_0xa24f1b(0x8cc)](_0xa24f1b(0x242),_0xb7162c);if(_0x49b426)_0x49b426[_0xa24f1b(0x42c)]();showMessage(_0xa24f1b(0x2c2));}finally{document[_0xa24f1b(0x437)](_0xa24f1b(0x1fa))[_0xa24f1b(0x49a)][_0xa24f1b(0x3ba)]('hidden'),document['getElementById'](_0xa24f1b(0x72f))[_0xa24f1b(0x49a)][_0xa24f1b(0x3ba)](_0xa24f1b(0x534)),generateWorksheetBtn[_0xa24f1b(0x766)]=![];}}async function callAnalysisApi(_0x1f936d,_0x57050f){const _0x3541a0=_0x483b09,_0x4303cf={'contents':[{'role':_0x3541a0(0x746),'parts':[{'text':_0x1f936d}]}],'generationConfig':{'responseMimeType':_0x3541a0(0x847),'responseSchema':_0x57050f}},_0x5f34f1=_0x3541a0(0x3e5),_0x1f6433=_0x3541a0(0x336)+_0x5f34f1,_0x3ec9f9=await fetch(_0x1f6433,{'method':_0x3541a0(0x5aa),'headers':{'Content-Type':_0x3541a0(0x847)},'body':JSON[_0x3541a0(0x657)](_0x4303cf)});if(!_0x3ec9f9['ok'])throw new Error(_0x3541a0(0x483)+_0x3ec9f9['status']);const _0x5dc471=await _0x3ec9f9[_0x3541a0(0x7ba)]();if(_0x5dc471['candidates']?.[0x0]?.[_0x3541a0(0x65b)]?.[_0x3541a0(0x856)]?.[0x0])return JSON['parse'](_0x5dc471[_0x3541a0(0x3ee)][0x0][_0x3541a0(0x65b)]['parts'][0x0][_0x3541a0(0x68b)]);else{let _0xb10789=_0x3541a0(0x211);if(_0x5dc471[_0x3541a0(0x454)]?.[_0x3541a0(0x2f7)])_0xb10789=_0x3541a0(0x34a)+_0x5dc471[_0x3541a0(0x454)][_0x3541a0(0x2f7)]+'.';else _0x5dc471[_0x3541a0(0x3ee)]?.[0x0]?.[_0x3541a0(0x894)]&&_0x5dc471[_0x3541a0(0x3ee)][0x0][_0x3541a0(0x894)]!==_0x3541a0(0x323)&&(_0xb10789=_0x3541a0(0x2c4)+_0x5dc471[_0x3541a0(0x3ee)][0x0][_0x3541a0(0x894)]+'.');console[_0x3541a0(0x8cc)](_0xb10789,JSON[_0x3541a0(0x657)](_0x5dc471));throw new Error(_0xb10789);}}initialize();
