const _0xd665bf=_0x1faf;(function(_0x3a9d12,_0x161c3f){const _0x58c55a=_0x1faf,_0x255c5a=_0x3a9d12();while(!![]){try{const _0x10b06e=parseInt(_0x58c55a(0x61d))/0x1*(-parseInt(_0x58c55a(0x7ba))/0x2)+parseInt(_0x58c55a(0x848))/0x3+parseInt(_0x58c55a(0x5f9))/0x4*(parseInt(_0x58c55a(0x6fb))/0x5)+parseInt(_0x58c55a(0x69d))/0x6+-parseInt(_0x58c55a(0x18e))/0x7*(-parseInt(_0x58c55a(0x3c3))/0x8)+parseInt(_0x58c55a(0xae))/0x9*(-parseInt(_0x58c55a(0x1a6))/0xa)+parseInt(_0x58c55a(0x3de))/0xb;if(_0x10b06e===_0x161c3f)break;else _0x255c5a['push'](_0x255c5a['shift']());}catch(_0x5661a8){_0x255c5a['push'](_0x255c5a['shift']());}}}(_0x5e10,0x60277));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x572f67=_0x1faf;if(_0x572f67(0xa7)in navigator)try{wakeLock=await navigator[_0x572f67(0xa7)]['request'](_0x572f67(0x6f1)),console['log']('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x572f67(0x125)](_0x572f67(0x270),()=>{const _0x141a75=_0x572f67;console[_0x141a75(0x35f)](_0x141a75(0x59d));});}catch(_0x5a2fb7){console[_0x572f67(0x3ef)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x5a2fb7[_0x572f67(0x2cf)]+',\x20'+_0x5a2fb7[_0x572f67(0x4e5)]);}else console[_0x572f67(0x24e)](_0x572f67(0x2e7));},releaseWakeLock=async()=>{wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console['log']('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x627659=_0x1faf;if(dimTimer)clearTimeout(dimTimer);document[_0x627659(0x2ae)][_0x627659(0x1e4)][_0x627659(0x52c)]('dimmed'),dimTimer=setTimeout(()=>{const _0x2ca904=_0x627659;document[_0x2ca904(0x2ae)][_0x2ca904(0x1e4)]['add'](_0x2ca904(0x424)),console[_0x2ca904(0x35f)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0x125dac=_0x1faf;if(dimTimer)clearTimeout(dimTimer);document[_0x125dac(0x2ae)][_0x125dac(0x1e4)]['remove'](_0x125dac(0x424)),window[_0x125dac(0x70d)](_0x125dac(0x5af),resetDimTimer),window[_0x125dac(0x70d)](_0x125dac(0x30e),resetDimTimer),window[_0x125dac(0x70d)](_0x125dac(0x78b),resetDimTimer),window[_0x125dac(0x70d)](_0x125dac(0x1a7),resetDimTimer),console[_0x125dac(0x35f)](_0x125dac(0x5e2));}let modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0xd665bf(0x4db)};const allMathTopics=[{'category':_0xd665bf(0x92),'name':_0xd665bf(0x6e4)},{'category':_0xd665bf(0x92),'name':_0xd665bf(0x2a7)},{'category':'จำนวนและการดำเนินการ','name':_0xd665bf(0x1a3)},{'category':_0xd665bf(0x92),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0xd665bf(0x92),'name':'การบวก'},{'category':'จำนวนและการดำเนินการ','name':_0xd665bf(0x83a)},{'category':_0xd665bf(0x92),'name':_0xd665bf(0x75e)},{'category':_0xd665bf(0x92),'name':'การหาร'},{'category':_0xd665bf(0x92),'name':_0xd665bf(0x553)},{'category':_0xd665bf(0x92),'name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':_0xd665bf(0x2d2)},{'category':_0xd665bf(0x92),'name':_0xd665bf(0x68e)},{'category':_0xd665bf(0x92),'name':'เส้นจำนวน'},{'category':'จำนวนและการดำเนินการ','name':_0xd665bf(0x172)},{'category':_0xd665bf(0x92),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0xd665bf(0x92),'name':_0xd665bf(0x41d)},{'category':'จำนวนและการดำเนินการ','name':_0xd665bf(0x60e)},{'category':_0xd665bf(0x92),'name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':'จำนวนและการดำเนินการ','name':_0xd665bf(0x74a)},{'category':_0xd665bf(0x92),'name':'การลบเศษส่วน'},{'category':_0xd665bf(0x92),'name':_0xd665bf(0x605)},{'category':_0xd665bf(0x92),'name':_0xd665bf(0x5b2)},{'category':'จำนวนและการดำเนินการ','name':_0xd665bf(0x3df)},{'category':_0xd665bf(0x92),'name':_0xd665bf(0x185)},{'category':_0xd665bf(0x92),'name':_0xd665bf(0x5e5)},{'category':_0xd665bf(0x92),'name':_0xd665bf(0x263)},{'category':_0xd665bf(0x92),'name':_0xd665bf(0x313)},{'category':'จำนวนและการดำเนินการ','name':_0xd665bf(0xc6)},{'category':_0xd665bf(0x92),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0xd665bf(0x380)},{'category':_0xd665bf(0x92),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0xd665bf(0x92),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':'จำนวนและการดำเนินการ','name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':'จำนวนและการดำเนินการ','name':_0xd665bf(0x3ee)},{'category':_0xd665bf(0x92),'name':'รูปสแควร์รูท\x20(surd)'},{'category':'จำนวนและการดำเนินการ','name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0xd665bf(0x3c0),'name':_0xd665bf(0x845)},{'category':_0xd665bf(0x3c0),'name':_0xd665bf(0x46c)},{'category':_0xd665bf(0x3c0),'name':_0xd665bf(0x41a)},{'category':'การวัด','name':_0xd665bf(0x7cd)},{'category':_0xd665bf(0x3c0),'name':_0xd665bf(0x51f)},{'category':'การวัด','name':'เส้นรอบรูป'},{'category':'การวัด','name':_0xd665bf(0xf7)},{'category':_0xd665bf(0x3c0),'name':_0xd665bf(0x687)},{'category':_0xd665bf(0x3c0),'name':_0xd665bf(0x1b4)},{'category':_0xd665bf(0x3c0),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':_0xd665bf(0x3c0),'name':_0xd665bf(0x6af)},{'category':_0xd665bf(0x3c0),'name':_0xd665bf(0x72b)},{'category':_0xd665bf(0x3c0),'name':_0xd665bf(0x4c0)},{'category':'การวัด','name':_0xd665bf(0x4b0)},{'category':_0xd665bf(0x193),'name':_0xd665bf(0x7c6)},{'category':_0xd665bf(0x193),'name':_0xd665bf(0xa4)},{'category':_0xd665bf(0x193),'name':_0xd665bf(0x57f)},{'category':'เรขาคณิต','name':_0xd665bf(0x687)},{'category':_0xd665bf(0x193),'name':_0xd665bf(0x155)},{'category':_0xd665bf(0x193),'name':_0xd665bf(0x150)},{'category':_0xd665bf(0x193),'name':_0xd665bf(0x12f)},{'category':_0xd665bf(0x193),'name':_0xd665bf(0x733)},{'category':_0xd665bf(0x193),'name':_0xd665bf(0xcf)},{'category':_0xd665bf(0x193),'name':_0xd665bf(0x3ae)},{'category':'เรขาคณิต','name':_0xd665bf(0x287)},{'category':_0xd665bf(0x193),'name':_0xd665bf(0x1e9)},{'category':_0xd665bf(0x193),'name':_0xd665bf(0x35b)},{'category':'เรขาคณิต','name':_0xd665bf(0x330)},{'category':'เรขาคณิต','name':_0xd665bf(0x148)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x7d0)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x7c5)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x83)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xd665bf(0x5e4)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x6d1)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x735)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xd665bf(0x378)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x217)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x1cf)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x621)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xd665bf(0x85d)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการยกกำลัง'},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x285)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการเชิงเส้น'},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x1b6)},{'category':_0xd665bf(0xfc),'name':'ระบบอสมการ'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x4d5)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x7c)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x132)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x62e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xd665bf(0x385)},{'category':_0xd665bf(0xfc),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x751)},{'category':_0xd665bf(0xfc),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xd665bf(0x453)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x6bd)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0xd665bf(0x390)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x165)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0x52d)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0xc8)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xd665bf(0x23f)},{'category':_0xd665bf(0xfc),'name':_0xd665bf(0xbe)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xd665bf(0x6c8)},{'category':_0xd665bf(0x7e),'name':'ระยะทางและจุดกึ่งกลาง'},{'category':'เรขาคณิตวิเคราะห์','name':_0xd665bf(0x1a1)},{'category':_0xd665bf(0x7e),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':'เรขาคณิตวิเคราะห์','name':_0xd665bf(0x736)},{'category':'เรขาคณิตวิเคราะห์','name':_0xd665bf(0x1b1)},{'category':_0xd665bf(0x7e),'name':_0xd665bf(0x52f)},{'category':'เรขาคณิตวิเคราะห์','name':_0xd665bf(0x379)},{'category':'เรขาคณิตวิเคราะห์','name':_0xd665bf(0x16f)},{'category':'เรขาคณิตวิเคราะห์','name':_0xd665bf(0x492)},{'category':_0xd665bf(0x7a7),'name':_0xd665bf(0x7dd)},{'category':_0xd665bf(0x7a7),'name':_0xd665bf(0x3e9)},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0xd665bf(0x7a7),'name':_0xd665bf(0x3b4)},{'category':'ตรีโกณมิติ','name':_0xd665bf(0x5dd)},{'category':_0xd665bf(0x7a7),'name':_0xd665bf(0x1a4)},{'category':_0xd665bf(0x7a7),'name':_0xd665bf(0x3ac)},{'category':_0xd665bf(0x7a7),'name':_0xd665bf(0x7d1)},{'category':_0xd665bf(0x7a7),'name':_0xd665bf(0xe1)},{'category':_0xd665bf(0x7a7),'name':_0xd665bf(0x818)},{'category':_0xd665bf(0x7a7),'name':_0xd665bf(0x169)},{'category':_0xd665bf(0x39b),'name':_0xd665bf(0x1bc)},{'category':_0xd665bf(0x39b),'name':_0xd665bf(0x3ab)},{'category':_0xd665bf(0x39b),'name':_0xd665bf(0x4ea)},{'category':_0xd665bf(0x39b),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0xd665bf(0x39b),'name':_0xd665bf(0x719)},{'category':_0xd665bf(0x39b),'name':_0xd665bf(0xc2)},{'category':_0xd665bf(0x39b),'name':_0xd665bf(0x6ed)},{'category':'สถิติและความน่าจะเป็น','name':_0xd665bf(0x50b)},{'category':_0xd665bf(0x39b),'name':_0xd665bf(0x614)},{'category':_0xd665bf(0x39b),'name':_0xd665bf(0x7d5)},{'category':'สถิติและความน่าจะเป็น','name':_0xd665bf(0x10c)},{'category':_0xd665bf(0x39b),'name':'ความแปรปรวน'},{'category':'สถิติและความน่าจะเป็น','name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0xd665bf(0x39b),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0xd665bf(0x39b),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0xd665bf(0x39b),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':_0xd665bf(0x2a9)},{'category':'สถิติและความน่าจะเป็น','name':_0xd665bf(0x1ec)},{'category':_0xd665bf(0x39b),'name':_0xd665bf(0x72e)},{'category':_0xd665bf(0x39b),'name':_0xd665bf(0xe3)},{'category':_0xd665bf(0x39b),'name':_0xd665bf(0x421)},{'category':_0xd665bf(0x39b),'name':'การจัดหมู่\x20(Combination)'},{'category':_0xd665bf(0x39b),'name':_0xd665bf(0x711)},{'category':_0xd665bf(0x39b),'name':_0xd665bf(0x1d8)},{'category':'แคลคูลัสเบื้องต้น','name':'ลิมิต'},{'category':_0xd665bf(0x284),'name':_0xd665bf(0x757)},{'category':'แคลคูลัสเบื้องต้น','name':_0xd665bf(0x1fd)},{'category':_0xd665bf(0x284),'name':_0xd665bf(0x37a)},{'category':'แคลคูลัสเบื้องต้น','name':_0xd665bf(0x38d)},{'category':_0xd665bf(0x284),'name':_0xd665bf(0x374)},{'category':_0xd665bf(0x284),'name':_0xd665bf(0x56d)},{'category':_0xd665bf(0x284),'name':_0xd665bf(0x5db)},{'category':_0xd665bf(0x284),'name':_0xd665bf(0x65b)},{'category':_0xd665bf(0x284),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0xd665bf(0x284),'name':_0xd665bf(0x4a7)},{'category':_0xd665bf(0x284),'name':_0xd665bf(0x6b6)},{'category':_0xd665bf(0x284),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0xd665bf(0x728),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0xd665bf(0x728),'name':_0xd665bf(0x303)},{'category':_0xd665bf(0x728),'name':_0xd665bf(0x2fb)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0xd665bf(0x5bb)},{'category':_0xd665bf(0x728),'name':_0xd665bf(0x755)},{'category':_0xd665bf(0x728),'name':_0xd665bf(0x68a)},{'category':_0xd665bf(0x728),'name':_0xd665bf(0x341)},{'category':_0xd665bf(0x479),'name':_0xd665bf(0x729)},{'category':_0xd665bf(0x479),'name':'ดอกเบี้ยทบต้น'},{'category':_0xd665bf(0x479),'name':_0xd665bf(0x147)},{'category':_0xd665bf(0x479),'name':'ค่าเสื่อมราคา'},{'category':_0xd665bf(0x479),'name':_0xd665bf(0x3c9)},{'category':_0xd665bf(0x7c1),'name':_0xd665bf(0x57e)},{'category':_0xd665bf(0x7c1),'name':_0xd665bf(0x307)},{'category':_0xd665bf(0x7c1),'name':_0xd665bf(0x39f)}];function renderTopicCheckboxes(){const _0x9de5f7=_0xd665bf,_0x2cc84f=document[_0x9de5f7(0x36a)](_0x9de5f7(0x4ff));if(!_0x2cc84f)return;const _0x32ddb2=allMathTopics,_0x44c947=customMathTopics[_0x9de5f7(0x6f9)](_0x4690fd=>({'id':_0x4690fd['id'],'category':'หัวข้อที่สร้างเอง','name':_0x4690fd['name']})),_0x41ae2e=[..._0x32ddb2,..._0x44c947],_0x184ef9=_0x41ae2e[_0x9de5f7(0x707)]((_0x2f89ba,_0x58a0c1)=>{const _0x5bcb12=_0x9de5f7;return!_0x2f89ba[_0x58a0c1[_0x5bcb12(0x697)]]&&(_0x2f89ba[_0x58a0c1[_0x5bcb12(0x697)]]=[]),_0x2f89ba[_0x58a0c1['category']][_0x5bcb12(0x27c)](_0x58a0c1),_0x2f89ba;},{});let _0x1a5491='';const _0x37cdd7=[_0x9de5f7(0x12c),...Object[_0x9de5f7(0x7bb)](_0x184ef9)['filter'](_0x36f5eb=>_0x36f5eb!==_0x9de5f7(0x12c))];for(const _0x4a7baf of _0x37cdd7){if(_0x184ef9[_0x4a7baf]){const _0x304369=_0x4a7baf===_0x9de5f7(0x12c),_0x29332c=_0x304369?_0x9de5f7(0x2bb):_0x9de5f7(0x35e),_0x1f1ad3=_0x304369?_0x9de5f7(0x3f4):_0x9de5f7(0xee);_0x1a5491+=_0x9de5f7(0x83f),_0x1a5491+=_0x9de5f7(0x4f8)+_0x1f1ad3+_0x9de5f7(0x4f9)+_0x29332c+_0x9de5f7(0x361)+_0x4a7baf+_0x9de5f7(0x294),_0x184ef9[_0x4a7baf][_0x9de5f7(0x4be)](_0x51cf4e=>{const _0x2a2a1d=_0x9de5f7,_0x5cb0a7=!!_0x51cf4e['id'],_0x1d6647=_0x5cb0a7?_0x2a2a1d(0x576)+_0x51cf4e['id']+_0x2a2a1d(0x2d3)+_0x51cf4e['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x51cf4e['id']+_0x2a2a1d(0x671)+_0x51cf4e['id']+_0x2a2a1d(0x1a8):'';_0x1a5491+=_0x2a2a1d(0x4bc)+(_0x51cf4e['id']||'')+_0x2a2a1d(0x80f)+_0x51cf4e['name']+_0x2a2a1d(0x3b2)+_0x51cf4e['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5cb0a7?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x51cf4e[_0x2a2a1d(0x2cf)]+'\x22>':'')+_0x2a2a1d(0x2be)+_0x1d6647+_0x2a2a1d(0x408);}),_0x1a5491+=_0x9de5f7(0x4d2);}}_0x2cc84f['innerHTML']=_0x1a5491||_0x9de5f7(0x161),_0x2cc84f[_0x9de5f7(0x70d)](_0x9de5f7(0x793),updateSelectedTopicsCount),_0x2cc84f[_0x9de5f7(0x125)](_0x9de5f7(0x793),updateSelectedTopicsCount);}function _0x1faf(_0x193ea8,_0x20cb3b){const _0x5e1086=_0x5e10();return _0x1faf=function(_0x1faf1c,_0x30a249){_0x1faf1c=_0x1faf1c-0x75;let _0x4052d5=_0x5e1086[_0x1faf1c];return _0x4052d5;},_0x1faf(_0x193ea8,_0x20cb3b);}async function handleUpdateCustomTopic(_0x3d76fd,_0x5d0c96){const _0x31d2d0=_0xd665bf;if(!_0x3d76fd||!_0x5d0c96['trim']()){showMessage(_0x31d2d0(0x742));return;}try{const _0x3289b3=doc(db,'artifacts/'+appId+_0x31d2d0(0x353),_0x3d76fd);await updateDoc(_0x3289b3,{'name':_0x5d0c96[_0x31d2d0(0x6fe)]()}),showMessage(_0x31d2d0(0x801));}catch(_0x3fd247){console[_0x31d2d0(0x3ef)](_0x31d2d0(0x173),_0x3fd247),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x475fad,_0x317b44){const _0x5bb0bd=_0xd665bf;if(!_0x475fad)return;const _0x535a5b=_0x475fad[_0x5bb0bd(0x29b)](_0x5bb0bd(0x7bd)),_0xd31d44=_0x475fad[_0x5bb0bd(0x29b)](_0x5bb0bd(0x4ab)),_0x27c3cc=_0x475fad['querySelector'](_0x5bb0bd(0x437)),_0x31ec29=_0x475fad[_0x5bb0bd(0x29b)]('.topic-actions-edit');_0x535a5b[_0x5bb0bd(0x1e4)][_0x5bb0bd(0x7fa)](_0x5bb0bd(0x544),_0x317b44),_0xd31d44[_0x5bb0bd(0x1e4)][_0x5bb0bd(0x7fa)](_0x5bb0bd(0x544),!_0x317b44),_0x27c3cc[_0x5bb0bd(0x1e4)]['toggle'](_0x5bb0bd(0x544),_0x317b44),_0x31ec29[_0x5bb0bd(0x1e4)]['toggle'](_0x5bb0bd(0x544),!_0x317b44),_0x317b44&&(_0xd31d44['focus'](),_0xd31d44[_0x5bb0bd(0x6d0)]());}function updateSelectedTopicsCount(){const _0x61a815=_0xd665bf,_0x9a30c9=document['getElementById'](_0x61a815(0x4ff)),_0x635a19=_0x9a30c9['querySelectorAll'](_0x61a815(0x701))[_0x61a815(0x30f)],_0x46c426=document[_0x61a815(0x36a)](_0x61a815(0x9b));_0x635a19>0x0?_0x46c426[_0x61a815(0x41b)]=_0x61a815(0x694)+_0x635a19+_0x61a815(0x7f0):_0x46c426[_0x61a815(0x41b)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0xd665bf(0x7e8),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0xd665bf(0x4a3),quizLeaderboardSortOrder=_0xd665bf(0x5d4),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0xd665bf(0x617),'description':_0xd665bf(0x2db),'icon':_0xd665bf(0x45d)},'QUICK_THINKER':{'id':'quick_thinker','name':_0xd665bf(0x1fa),'description':_0xd665bf(0xa9),'icon':_0xd665bf(0x495)},'ON_FIRE':{'id':_0xd665bf(0x709),'name':_0xd665bf(0x5ae),'description':_0xd665bf(0xaa),'icon':_0xd665bf(0x688)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0xd665bf(0x1bb),'description':_0xd665bf(0x363),'icon':_0xd665bf(0x3ba)},'COMEBACK_KING':{'id':_0xd665bf(0x48d),'name':'ราชาคัมแบ็ก','description':_0xd665bf(0x772),'icon':_0xd665bf(0x10a)},'SPECIALIST':{'id':_0xd665bf(0x8f),'name':_0xd665bf(0x395),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0xd665bf(0x291)},'PERSEVERANCE':{'id':_0xd665bf(0xc5),'name':_0xd665bf(0x660),'description':_0xd665bf(0xaf),'icon':_0xd665bf(0x4c8)}},firebaseConfig={'apiKey':_0xd665bf(0x51d),'authDomain':_0xd665bf(0xfb),'projectId':_0xd665bf(0x19a),'storageBucket':_0xd665bf(0x219),'messagingSenderId':_0xd665bf(0x4ca),'appId':_0xd665bf(0x7e5),'measurementId':_0xd665bf(0x2d9)},appId=typeof __app_id!==_0xd665bf(0x3b5)?__app_id:'ai-quiz-generator-v3',adminView=document[_0xd665bf(0x36a)]('admin-view'),studentView=document['getElementById'](_0xd665bf(0x267)),projectDashboardView=document['getElementById'](_0xd665bf(0x43d)),projectDetailView=document['getElementById']('project-detail-view'),quizResultsView=document[_0xd665bf(0x36a)]('quiz-results-view'),projectList=document[_0xd665bf(0x36a)](_0xd665bf(0x7a8)),noProjectsMsg=document[_0xd665bf(0x36a)](_0xd665bf(0x649)),projectTitle=document['getElementById'](_0xd665bf(0x548)),projectIdDisplay=document[_0xd665bf(0x36a)](_0xd665bf(0x81a)),studentList=document[_0xd665bf(0x36a)](_0xd665bf(0x207)),messageModal=document['getElementById'](_0xd665bf(0x81f)),modalMessage=document[_0xd665bf(0x36a)](_0xd665bf(0xa0)),createProjectModal=document[_0xd665bf(0x36a)]('create-project-modal'),adminPasswordModal=document[_0xd665bf(0x36a)](_0xd665bf(0x127)),confirmationModal=document['getElementById']('confirmation-modal'),userIdDisplay=document['getElementById'](_0xd665bf(0x420)),topicTab=document[_0xd665bf(0x36a)]('topic-tab'),textTab=document[_0xd665bf(0x36a)](_0xd665bf(0x2df)),topicInputArea=document[_0xd665bf(0x36a)](_0xd665bf(0x76b)),textInputArea=document[_0xd665bf(0x36a)](_0xd665bf(0x7c3)),manageTab=document[_0xd665bf(0x36a)](_0xd665bf(0x5de)),resultsTab=document[_0xd665bf(0x36a)]('results-tab'),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document[_0xd665bf(0x36a)](_0xd665bf(0x854)),resultsTabContent=document['getElementById']('results-tab-content'),leaderboardTabContent=document['getElementById']('leaderboard-tab-content'),projectQuizzesList=document[_0xd665bf(0x36a)](_0xd665bf(0x744)),fileTab=document['getElementById']('file-tab'),fileInputArea=document[_0xd665bf(0x36a)](_0xd665bf(0x60a)),fileUploadInput=document[_0xd665bf(0x36a)](_0xd665bf(0x6b5)),worksheetTab=document[_0xd665bf(0x36a)]('worksheet-tab'),worksheetInputArea=document[_0xd665bf(0x36a)](_0xd665bf(0x77d)),generateWorksheetBtn=document[_0xd665bf(0x36a)](_0xd665bf(0x245)),studentInitialView=document[_0xd665bf(0x36a)](_0xd665bf(0x8b)),studentNameSelectionView=document[_0xd665bf(0x36a)](_0xd665bf(0x10f)),studentQuizArea=document[_0xd665bf(0x36a)](_0xd665bf(0x1b2)),studentResultArea=document[_0xd665bf(0x36a)](_0xd665bf(0x5b4)),studentReadingArea=document[_0xd665bf(0x36a)](_0xd665bf(0x40a)),loadQuizBtn=document[_0xd665bf(0x36a)](_0xd665bf(0xd7)),startQuizBtn=document[_0xd665bf(0x36a)](_0xd665bf(0x541)),studentJoinGameView=document[_0xd665bf(0x36a)](_0xd665bf(0x52e)),presentationModal=document[_0xd665bf(0x36a)](_0xd665bf(0x7df)),renameQuizModal=document[_0xd665bf(0x36a)]('rename-quiz-modal'),moveQuizModal=document[_0xd665bf(0x36a)](_0xd665bf(0x78d)),quizSettingsModal=document[_0xd665bf(0x36a)]('quiz-settings-modal'),quizStatusModal=document[_0xd665bf(0x36a)]('quiz-status-modal'),liveGameView=document[_0xd665bf(0x36a)]('live-game-view');function handleAutoFixLatex(){const _0x145999=_0xd665bf,_0x3b8909=document['getElementById'](_0x145999(0x5d2))||document,_0x4f440d=_0x3b8909[_0x145999(0x24f)]([_0x145999(0x5ea),_0x145999(0x3d5),_0x145999(0x835),_0x145999(0x38b),'.ql-editor','label',_0x145999(0x80a),_0x145999(0x69f),_0x145999(0x8d)][_0x145999(0x2da)](','));let _0x458a3a=0x0;const _0x222495=_0x567fa1=>'value'in _0x567fa1?String(_0x567fa1[_0x145999(0x4fc)]):_0x567fa1[_0x145999(0x140)]!==undefined?_0x567fa1[_0x145999(0x140)]:_0x567fa1[_0x145999(0x41b)]||'',_0x355580=(_0xcb7c25,_0x201751)=>{const _0x2d9b74=_0x145999;if(_0x2d9b74(0x4fc)in _0xcb7c25){_0xcb7c25[_0x2d9b74(0x4fc)]=_0x201751;return;}if(_0xcb7c25[_0x2d9b74(0x29b)]&&_0xcb7c25[_0x2d9b74(0x29b)](_0x2d9b74(0x121)))return;if(_0xcb7c25['innerText']!==undefined)_0xcb7c25[_0x2d9b74(0x140)]=_0x201751;else _0xcb7c25[_0x2d9b74(0x41b)]=_0x201751;},_0x4342bf=_0x19b92f=>_0x19b92f[_0x145999(0x619)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x145999(0x619)](/\r\n?/g,'\x0a'),_0x5abdf9=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x44d874=_0x3f301c=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x145999(0x4a8)](_0x3f301c),_0xc8dcaf=_0x176a24=>{const _0x30f830=_0x145999,_0x5828f7=(_0x176a24['match'](/\{/g)||[])[_0x30f830(0x30f)],_0x44717a=(_0x176a24[_0x30f830(0x5fc)](/\}/g)||[])[_0x30f830(0x30f)];if(_0x5828f7>_0x44717a)_0x176a24=_0x176a24+'}'[_0x30f830(0x3c4)](_0x5828f7-_0x44717a);return _0x176a24;},_0x1fd7f6=_0x44ed5f=>{const _0x2a6dcb=_0x145999;let _0x290896=_0x44ed5f['trim']();const _0x2f05ee=['frac',_0x2a6dcb(0x243),'tfrac',_0x2a6dcb(0x466),_0x2a6dcb(0x163),_0x2a6dcb(0x1cb),_0x2a6dcb(0x463),_0x2a6dcb(0x7e2),_0x2a6dcb(0x210),_0x2a6dcb(0x822),'le','ge','neq','pm',_0x2a6dcb(0x831),_0x2a6dcb(0x14b),_0x2a6dcb(0x638),_0x2a6dcb(0x525),_0x2a6dcb(0x35f),'ln',_0x2a6dcb(0x4f5),_0x2a6dcb(0x55b),_0x2a6dcb(0x49a),_0x2a6dcb(0x290),'right',_0x2a6dcb(0x74e),_0x2a6dcb(0x4a4),_0x2a6dcb(0x745),_0x2a6dcb(0xf3)];_0x290896=_0x290896['replace'](new RegExp(_0x2a6dcb(0x4bd)+_0x2f05ee['join']('|')+_0x2a6dcb(0x530),'g'),'\x5c'),_0x2f05ee['forEach'](_0x1bb609=>{const _0x4760b9=_0x2a6dcb;_0x290896=_0x290896[_0x4760b9(0x619)](new RegExp(_0x4760b9(0x54f)+_0x1bb609+'\x5cb','g'),(_0x5a97d0,_0x54311c)=>_0x54311c+'\x5c'+_0x1bb609);});const _0x2f757c=[[/×/g,_0x2a6dcb(0x823)],[/·/g,_0x2a6dcb(0x814)],[/÷/g,_0x2a6dcb(0x176)],[/≤/g,_0x2a6dcb(0x21e)],[/≥/g,_0x2a6dcb(0x655)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm'],[/∑/g,'\x5csum'],[/−/g,'-']];_0x2f757c[_0x2a6dcb(0x4be)](([_0x4fad1f,_0x499679])=>{const _0x1d2b6e=_0x2a6dcb;_0x290896=_0x290896[_0x1d2b6e(0x619)](_0x4fad1f,_0x499679);}),_0x290896=_0x290896[_0x2a6dcb(0x619)](/√\s*\(([^)]*)\)/g,_0x2a6dcb(0x566)),_0x290896=_0x290896['replace'](/√\s*([A-Za-z0-9]+)/g,_0x2a6dcb(0x566)),_0x290896=_0x290896[_0x2a6dcb(0x619)](/(^|[^\\])\bimes\b/g,_0x2a6dcb(0x87))[_0x2a6dcb(0x619)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x2a6dcb(0x7ae))[_0x2a6dcb(0x619)](/(^|[^\\])ext\{/g,'$1\x5ctext{')[_0x2a6dcb(0x619)](/(^|[^\\])ext\(/g,_0x2a6dcb(0x66b))['replace'](/\\text\(([^)]*)\)/g,'\x5ctext{$1}')[_0x2a6dcb(0x619)](/\s\\frac/g,_0x2a6dcb(0x627)),_0x290896=_0x290896[_0x2a6dcb(0x619)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x2d5100,_0x407060,_0x3b4118,_0x29e84c)=>_0x407060+_0x2a6dcb(0x142)+_0x3b4118+'}{'+_0x29e84c+'}'),_0x290896=_0x290896[_0x2a6dcb(0x619)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x2a6dcb(0x716))[_0x2a6dcb(0x619)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x2a6dcb(0x716))[_0x2a6dcb(0x619)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x2a6dcb(0x716)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x2a6dcb(0xdc)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x2a6dcb(0xdc)],[/(\d+)\s*\^\s*o\s*C\b/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x2a6dcb(0xdc)],[/(\d+)\s*°\s*C/g,_0x2a6dcb(0xdc)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x2a6dcb(0x3f7)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x2a6dcb(0xdc)]][_0x2a6dcb(0x4be)](([_0x5298f8,_0x2f7a3e])=>{_0x290896=_0x290896['replace'](_0x5298f8,_0x2f7a3e);}),_0x290896=_0x290896[_0x2a6dcb(0x619)](/(\d+)\s*%/g,_0x2a6dcb(0x9e)),_0x290896=_0x290896[_0x2a6dcb(0x619)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')[_0x2a6dcb(0x619)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')['replace'](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x2a6dcb(0x14b),_0x2a6dcb(0x638),_0x2a6dcb(0x525),'log','ln'][_0x2a6dcb(0x4be)](_0x4ac917=>{const _0x27aaa0=_0x2a6dcb;_0x290896=_0x290896['replace'](new RegExp(_0x27aaa0(0x54f)+_0x4ac917+_0x27aaa0(0xdb),'g'),(_0x26e4ff,_0x2f2312)=>_0x2f2312+'\x5c'+_0x4ac917+'(');});const _0x1d7b77=(_0x290896[_0x2a6dcb(0x5fc)](/\\left\b/g)||[])[_0x2a6dcb(0x30f)],_0x25a12f=(_0x290896[_0x2a6dcb(0x5fc)](/\\right\b/g)||[])[_0x2a6dcb(0x30f)];if(_0x1d7b77!==_0x25a12f)_0x290896=_0x290896['replace'](/\\left\b/g,'')[_0x2a6dcb(0x619)](/\\right\b/g,'');return _0x290896=_0xc8dcaf(_0x290896),_0x290896;},_0x53bb82=_0xb19084=>{const _0x2eed9f=_0x145999;if(/\$|\\\(|\\\[/[_0x2eed9f(0x4a8)](_0xb19084))return _0xb19084;if(!_0x5abdf9['test'](_0xb19084))return _0xb19084;const _0x3755f0=_0xb19084[_0x2eed9f(0x5fc)](/^\s*/)[0x0],_0x5289cc=_0xb19084[_0x2eed9f(0x5fc)](/\s*$/)[0x0],_0x5edc68=_0xb19084[_0x2eed9f(0x6fe)]();return _0x3755f0+'$'+_0x1fd7f6(_0x5edc68)+'$'+_0x5289cc;},_0x29bd0f=_0x4123b4=>_0x4123b4[_0x145999(0x838)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x4f440d[_0x145999(0x4be)](_0x5832be=>{const _0x1bd2ba=_0x145999;if(_0x5832be['querySelector']&&_0x5832be[_0x1bd2ba(0x29b)](_0x1bd2ba(0x121)))return;const _0x37629b=_0x222495(_0x5832be);let _0x7c7a19=_0x4342bf(_0x37629b);_0x7c7a19=_0x7c7a19[_0x1bd2ba(0x619)](/\$\$([\s\S]*?)\$\$/g,(_0x262800,_0x3fb610)=>'$$'+_0x1fd7f6(_0x3fb610)+'$$')[_0x1bd2ba(0x619)](/\$([^$]*?)\$/g,(_0x479eb9,_0x2db149)=>'$'+_0x1fd7f6(_0x2db149)+'$')[_0x1bd2ba(0x619)](/\\\(([\s\S]*?)\\\)/g,(_0x57c9e1,_0x6b2927)=>'\x5c('+_0x1fd7f6(_0x6b2927)+'\x5c)')[_0x1bd2ba(0x619)](/\\\[([\s\S]*?)\\\]/g,(_0x221595,_0x14f20b)=>'\x5c['+_0x1fd7f6(_0x14f20b)+'\x5c]');let _0x255513=_0x7c7a19,_0x42c074=0x0;const _0x3f5d72=_0x49743d=>_0x49743d[_0x1bd2ba(0x619)](/S([^S]{0,2000}?)S/g,(_0x180d51,_0x4dd392)=>_0x5abdf9[_0x1bd2ba(0x4a8)](_0x4dd392)?'$'+_0x1fd7f6(_0x4dd392)+'$':_0x180d51);while(_0x42c074++<0x14){const _0x3c90c3=_0x3f5d72(_0x255513);if(_0x3c90c3===_0x255513)break;_0x255513=_0x3c90c3;}_0x7c7a19=_0x255513,_0x7c7a19=_0x7c7a19[_0x1bd2ba(0x838)]('\x0a')[_0x1bd2ba(0x6f9)](_0xe85619=>{const _0x777fca=_0x1bd2ba;if(!(/[,\u3001，;；]/[_0x777fca(0x4a8)](_0xe85619)||/\s(?:และ|หรือ)\s/[_0x777fca(0x4a8)](_0xe85619))||!_0x5abdf9['test'](_0xe85619))return _0xe85619;return _0x29bd0f(_0xe85619)[_0x777fca(0x6f9)](_0x39beb5=>{const _0x4f16a1=_0x777fca;if(/^\s(?:และ|หรือ)\s$/['test'](_0x39beb5)||/^[,\u3001，;；]$/[_0x4f16a1(0x4a8)](_0x39beb5))return _0x39beb5;return _0x53bb82(_0x39beb5);})[_0x777fca(0x2da)]('');})[_0x1bd2ba(0x2da)]('\x0a'),_0x7c7a19=_0x7c7a19[_0x1bd2ba(0x838)]('\x0a')[_0x1bd2ba(0x6f9)](_0x275589=>{const _0x48be3c=_0x1bd2ba,_0x5792e0=_0x275589[_0x48be3c(0x6fe)]();if(!_0x5792e0)return _0x275589;const _0x168a16=/\$|\\\(|\\\[/[_0x48be3c(0x4a8)](_0x5792e0),_0x41d492=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/['test'](_0x5792e0);if(_0x168a16||!_0x41d492||_0x44d874(_0x5792e0))return _0x275589;return _0x275589[_0x48be3c(0x619)](_0x5792e0,'$'+_0x1fd7f6(_0x5792e0)+'$');})['join']('\x0a'),_0x7c7a19=_0x7c7a19[_0x1bd2ba(0x619)](/(\d+)\s*°\s*C\b/g,(_0x35c698,_0x2a62ea,_0x121a79,_0x38f049)=>{const _0x3daf98=_0x1bd2ba,_0x50b6f9=_0x38f049[_0x121a79-0x1];if(_0x50b6f9==='$'||_0x50b6f9==='S'||_0x50b6f9==='\x5c')return _0x35c698;return'$'+_0x2a62ea+_0x3daf98(0x830);})[_0x1bd2ba(0x619)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x39f345,_0x38352c,_0x3f6726,_0x2213b6)=>{const _0x38a943=_0x1bd2ba,_0x3c207d=_0x2213b6[_0x3f6726-0x1];if(_0x3c207d==='$'||_0x3c207d==='S'||_0x3c207d==='\x5c')return _0x39f345;return'$'+_0x38352c+_0x38a943(0x830);})[_0x1bd2ba(0x619)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0xd1064,_0x4b6fa7,_0x3abd9a,_0x237cb9)=>{const _0x5400d3=_0x1bd2ba,_0x16769e=_0x237cb9[_0x3abd9a-0x1];if(_0x16769e==='$'||_0x16769e==='S'||_0x16769e==='\x5c')return _0xd1064;return'$'+_0x4b6fa7+_0x5400d3(0x830);}),_0x7c7a19=_0x7c7a19[_0x1bd2ba(0x619)](/\$\s*\$/g,'$$'),_0x7c7a19!==_0x37629b&&(_0x355580(_0x5832be,_0x7c7a19),_0x458a3a++);});if(_0x458a3a>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x458a3a+_0x145999(0x357));try{if(window[_0x145999(0x6ea)]&&MathJax[_0x145999(0x17a)])MathJax[_0x145999(0x17a)]();window[_0x145999(0x4ee)]&&typeof renderMathInElement===_0x145999(0x529)&&renderMathInElement(_0x3b8909,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x54b919){}}else showMessage(_0x145999(0x789));}async function listenForCustomMathTopics(){const _0x409c70=_0xd665bf,_0x4756b3=collection(db,'artifacts/'+appId+_0x409c70(0x353));onSnapshot(_0x4756b3,_0x5f3946=>{const _0xee517b=_0x409c70;customMathTopics=_0x5f3946[_0xee517b(0x66a)]['map'](_0x57eedc=>({'id':_0x57eedc['id'],..._0x57eedc[_0xee517b(0x6a1)]()})),renderTopicCheckboxes();},_0x18c0f7=>{const _0x58aef7=_0x409c70;console[_0x58aef7(0x3ef)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x18c0f7);});}function handleSelectAllTopics(){const _0x275b13=_0xd665bf,_0x5173eb=document[_0x275b13(0x36a)](_0x275b13(0x4ff)),_0x4a72cc=_0x5173eb[_0x275b13(0x24f)](_0x275b13(0x60b));_0x4a72cc[_0x275b13(0x4be)](_0x3a5fc8=>{const _0x142311=_0x275b13;_0x3a5fc8[_0x142311(0x6d2)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x11a032=_0xd665bf,_0x4a9463=document['getElementById'](_0x11a032(0x4ff)),_0x5892c7=_0x4a9463[_0x11a032(0x24f)](_0x11a032(0x60b));_0x5892c7[_0x11a032(0x4be)](_0x309fc7=>{const _0xcb7d37=_0x11a032;_0x309fc7[_0xcb7d37(0x6d2)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x291d29){const _0x2736c0=_0xd665bf;if(!_0x291d29)return;try{const _0x275ddc=doc(db,'artifacts/'+appId+_0x2736c0(0x353),_0x291d29);await deleteDoc(_0x275ddc),showMessage(_0x2736c0(0x35d));}catch(_0x132657){console[_0x2736c0(0x3ef)](_0x2736c0(0x6d5),_0x132657),showMessage(_0x2736c0(0x2fc));}}async function handleAddCustomMathTopic(){const _0x2d2899=_0xd665bf,_0x2316cd=document[_0x2d2899(0x36a)](_0x2d2899(0x5bd)),_0x56d65c=_0x2316cd[_0x2d2899(0x4fc)][_0x2d2899(0x6fe)]();if(!_0x56d65c){showMessage(_0x2d2899(0x864));return;}if(!userId){showMessage(_0x2d2899(0x79a));return;}try{const _0x2bd86e=collection(db,_0x2d2899(0x3bf)+appId+'/public/data/customMathTopics');await addDoc(_0x2bd86e,{'name':_0x56d65c,'createdAt':serverTimestamp()}),_0x2316cd[_0x2d2899(0x4fc)]='',showMessage(_0x2d2899(0x2a0)+_0x56d65c+_0x2d2899(0x81b));}catch(_0x25ad65){console[_0x2d2899(0x3ef)]('Error\x20adding\x20custom\x20topic:',_0x25ad65),showMessage(_0x2d2899(0x412));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x14baec=_0x1faf,_0x1774ca=document[_0x14baec(0x36a)](_0x14baec(0x83c)),_0x4d5c00=document[_0x14baec(0x36a)]('loader-text'),_0xa99d36=_0x4d5c00[_0x14baec(0x41b)];_0x1774ca[_0x14baec(0x1e4)][_0x14baec(0x52c)](_0x14baec(0x544)),_0x4d5c00[_0x14baec(0x41b)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x32e326=collection(db,_0x14baec(0x3bf)+appId+_0x14baec(0x778)),_0x2bf72f=await getDocs(_0x32e326);if(_0x2bf72f[_0x14baec(0x5fb)]){showMessage(_0x14baec(0x667));return;}const _0x16f57d=writeBatch(db);let _0x5f1834=0x0;_0x2bf72f['forEach'](_0x14387e=>{const _0x4f0273=_0x14baec,_0x228e92=_0x14387e['data'](),_0x4fcd3c=_0x14387e['id'];if(_0x228e92[_0x4f0273(0xd2)]&&_0x228e92['questions'][_0x4f0273(0x30f)]>0x0&&!_0x228e92['questions'][0x0][_0x4f0273(0x819)]('id')){console[_0x4f0273(0x35f)](_0x4f0273(0x31a)+_0x4fcd3c+'\x20('+_0x228e92[_0x4f0273(0x4bb)]+')'),_0x5f1834++;const _0x4fa39c=_0x228e92[_0x4f0273(0xd2)][_0x4f0273(0x6f9)]((_0x43c0e0,_0x569e97)=>{const _0x421da6=_0x4f0273;return{..._0x43c0e0,'id':_0x43c0e0['id']||'q_'+Date[_0x421da6(0x468)]()+'_'+_0x4fcd3c+'_'+_0x569e97};}),_0x2a5569=doc(db,_0x4f0273(0x3bf)+appId+_0x4f0273(0x778),_0x4fcd3c);_0x16f57d[_0x4f0273(0x517)](_0x2a5569,{'questions':_0x4fa39c});}}),_0x5f1834>0x0?(_0x4d5c00['textContent']=_0x14baec(0x5e0)+_0x5f1834+_0x14baec(0x43b),await _0x16f57d[_0x14baec(0x3b0)](),showMessage(_0x14baec(0x430)+_0x5f1834+_0x14baec(0x377))):showMessage(_0x14baec(0x1ad));}catch(_0x5309fb){console[_0x14baec(0x3ef)](_0x14baec(0x5f8),_0x5309fb),showMessage(_0x14baec(0x1fe)+_0x5309fb['message']);}finally{_0x1774ca[_0x14baec(0x1e4)]['add'](_0x14baec(0x544)),_0x4d5c00['textContent']=_0xa99d36;}});}async function initialize(){const _0x1f7ef4=_0xd665bf;try{const _0x437ceb=initializeApp(firebaseConfig);db=getFirestore(_0x437ceb),auth=getAuth(_0x437ceb),setupAuthListener(),setupEventListeners(),showView(_0x1f7ef4(0x7e8)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x21870c){console[_0x1f7ef4(0x3ef)](_0x1f7ef4(0x680),_0x21870c),showMessage(_0x1f7ef4(0x489));}}async function handleVerifyAnswersInEditor(){const _0x219b8c=_0xd665bf,_0x233c00=document[_0x219b8c(0x36a)](_0x219b8c(0x6e6));if(!_0x233c00)return;const _0x36fd68=document[_0x219b8c(0x36a)](_0x219b8c(0xf2));_0x36fd68[_0x219b8c(0x526)]=!![],_0x36fd68[_0x219b8c(0xed)]=_0x219b8c(0x252);try{const _0x2ea955=_0x233c00['querySelectorAll'](_0x219b8c(0xcd)),_0x472388=Array[_0x219b8c(0x3da)](_0x2ea955)[_0x219b8c(0x6f9)]((_0x8db6fa,_0x289f6f)=>{const _0x1694d6=_0x219b8c,_0xe3fa47=_0x8db6fa[_0x1694d6(0x53c)][_0x1694d6(0x533)],_0x2c4b4c=_0x8db6fa['querySelector'](_0x1694d6(0x5ea))[_0x1694d6(0x4fc)];let _0x4d4bee=null,_0x458ade='';switch(_0xe3fa47){case _0x1694d6(0x4ba):const _0x41f674=_0x8db6fa[_0x1694d6(0x24f)]('input[type=\x22text\x22]');_0x4d4bee=Array[_0x1694d6(0x3da)](_0x41f674)['map'](_0x4c187b=>_0x4c187b[_0x1694d6(0x4fc)]);const _0x1e8eeb=_0x8db6fa[_0x1694d6(0x29b)]('input[type=\x22radio\x22]:checked');_0x1e8eeb&&(_0x458ade=_0x4d4bee[parseInt(_0x1e8eeb['value'])]);break;case _0x1694d6(0x223):_0x458ade=_0x8db6fa[_0x1694d6(0x29b)](_0x1694d6(0x33b))[_0x1694d6(0x4fc)];break;case _0x1694d6(0x63c):const _0x250913=_0x8db6fa[_0x1694d6(0x29b)](_0x1694d6(0x78c));_0x458ade=_0x250913?_0x250913[_0x1694d6(0x4fc)]:'';break;case _0x1694d6(0x83b):_0x458ade=_0x8db6fa[_0x1694d6(0x29b)](_0x1694d6(0x6a8))[_0x1694d6(0x4fc)];break;}return{'question':_0x2c4b4c,'options':_0x4d4bee,'proposedAnswer':_0x458ade};}),_0x12e045='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x219b8c(0x5b7)](_0x472388)+_0x219b8c(0x99),_0x2dbd6c={'type':'ARRAY','items':{'type':_0x219b8c(0x5b3),'properties':{'questionIndex':{'type':_0x219b8c(0x586)},'isCorrect':{'type':_0x219b8c(0x460)},'justification':{'type':_0x219b8c(0x427)},'suggestedAnswer':{'type':_0x219b8c(0x427)}},'required':[_0x219b8c(0x202),_0x219b8c(0x558),_0x219b8c(0x829)]}},_0x36be2d=await callAnalysisApi(_0x12e045,{'type':'OBJECT','properties':{'result':_0x2dbd6c},'required':[_0x219b8c(0x53e)]});displayVerificationResultsInEditor(_0x36be2d['result']);}catch(_0x5a0e07){console[_0x219b8c(0x3ef)](_0x219b8c(0x827),_0x5a0e07),showMessage(_0x219b8c(0xdf));}finally{_0x36fd68[_0x219b8c(0x526)]=![],_0x36fd68[_0x219b8c(0xed)]=_0x219b8c(0x5a1);}}function displayVerificationResultsInEditor(_0x53cff7){const _0x39e442=_0xd665bf;_0x53cff7['forEach'](_0x3aa325=>{const _0x15beb6=_0x1faf,_0x55a5a4=document[_0x15beb6(0x29b)](_0x15beb6(0x1b8)+_0x3aa325['questionIndex']+'\x22]');if(_0x55a5a4){const _0x23b57c=_0x55a5a4[_0x15beb6(0x29b)](_0x15beb6(0x356));if(_0x23b57c)_0x23b57c['remove']();let _0x29aa96='';_0x3aa325[_0x15beb6(0x558)]?_0x29aa96=_0x15beb6(0x4b3):_0x29aa96=_0x15beb6(0x684)+_0x3aa325['justification']+_0x15beb6(0x53f)+(_0x3aa325[_0x15beb6(0x4c7)]?_0x15beb6(0x13d)+_0x3aa325[_0x15beb6(0x4c7)]+_0x15beb6(0x294):'')+_0x15beb6(0x70b),_0x55a5a4['insertAdjacentHTML'](_0x15beb6(0x2ef),_0x29aa96);}}),showMessage(_0x39e442(0x73b));}async function handleVerifyAnswers(){const _0x337b4c=_0xd665bf;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x337b4c(0x19f));return;}const _0x113b0d=document['getElementById'](_0x337b4c(0x48f));_0x113b0d[_0x337b4c(0x526)]=!![],_0x113b0d['innerHTML']=_0x337b4c(0x252);try{const _0x4ee7c2=currentQuizData[_0x337b4c(0xd2)][_0x337b4c(0x6f9)]((_0x5538f1,_0x1b1f99)=>{const _0x50507e=_0x337b4c;let _0x44d333='';const _0x285dfa=_0x5538f1[_0x50507e(0x2ca)]||currentQuizData['quizType'];switch(_0x285dfa){case _0x50507e(0x4ba):_0x44d333=_0x5538f1[_0x50507e(0x63d)][_0x5538f1['correctAnswerIndex']];break;case _0x50507e(0x223):_0x44d333=_0x5538f1[_0x50507e(0x5a5)];break;case'true_false':_0x44d333=_0x5538f1['correctAnswer'][_0x50507e(0x6de)]();break;case _0x50507e(0x83b):_0x44d333=_0x5538f1[_0x50507e(0x200)];break;}return{'question':_0x5538f1['stem']||_0x5538f1[_0x50507e(0x551)],'options':_0x5538f1[_0x50507e(0x63d)]||null,'proposedAnswer':_0x44d333};}),_0x57ca95=_0x337b4c(0x57c)+JSON[_0x337b4c(0x5b7)](_0x4ee7c2)+_0x337b4c(0x713),_0x198c69={'type':'ARRAY','items':{'type':_0x337b4c(0x5b3),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x337b4c(0x460)},'justification':{'type':_0x337b4c(0x427)},'suggestedAnswer':{'type':_0x337b4c(0x427)}},'required':[_0x337b4c(0x202),_0x337b4c(0x558),'justification']}},_0xad24ec=await callAnalysisApi(_0x57ca95,{'type':_0x337b4c(0x5b3),'properties':{'result':_0x198c69},'required':[_0x337b4c(0x53e)]});displayVerificationResults(_0xad24ec[_0x337b4c(0x53e)]);}catch(_0x38470d){console['error'](_0x337b4c(0x432),_0x38470d),showMessage(_0x337b4c(0xdf));}finally{_0x113b0d[_0x337b4c(0x526)]=![],_0x113b0d[_0x337b4c(0xed)]=_0x337b4c(0x7aa);}}function displayVerificationResults(_0x450a71){const _0x4dab3c=_0xd665bf;_0x450a71[_0x4dab3c(0x4be)](_0x451490=>{const _0x4a8827=_0x4dab3c,_0x49bd35=document[_0x4a8827(0x29b)](_0x4a8827(0x472)+_0x451490[_0x4a8827(0x202)]+'\x22]');if(_0x49bd35){const _0x49d970=_0x49bd35['querySelector'](_0x4a8827(0x327));if(_0x49d970)_0x49d970[_0x4a8827(0x52c)]();let _0x502de4='';_0x451490['isCorrect']?_0x502de4=_0x4a8827(0x3c2):_0x502de4=_0x4a8827(0x71f)+_0x451490[_0x4a8827(0x829)]+_0x4a8827(0x53f)+(_0x451490[_0x4a8827(0x4c7)]?_0x4a8827(0x13d)+_0x451490[_0x4a8827(0x4c7)]+'</p>':'')+_0x4a8827(0x93),_0x49bd35[_0x4a8827(0x2a6)]('beforeend',_0x502de4);}}),showMessage(_0x4dab3c(0x73b));}function compareNumericalAnswers(_0x57db16,_0x3530c2){const _0x413851=_0xd665bf,_0x5a2574=String(_0x57db16)[_0x413851(0x619)](',','.')[_0x413851(0x619)](/[^\d.-]/g,'')['trim'](),_0x29d4ff=String(_0x3530c2)[_0x413851(0x619)](',','.')[_0x413851(0x619)](/[^\d.-]/g,'')[_0x413851(0x6fe)]();if(_0x5a2574===''||_0x29d4ff==='')return![];const _0x3f6d78=parseFloat(_0x5a2574),_0x2f8227=parseFloat(_0x29d4ff);if(isNaN(_0x3f6d78)||isNaN(_0x2f8227))return![];return Math[_0x413851(0x31d)](_0x3f6d78-_0x2f8227)<0.001;}async function gradeShortAnswer(_0xcfce78,_0x213fde){const _0x1db96b=_0xd665bf,_0x413cfc=_0x213fde[_0x1db96b(0x5a5)];if(String(_0xcfce78)[_0x1db96b(0x6fe)]()[_0x1db96b(0x423)]()===String(_0x413cfc)[_0x1db96b(0x6fe)]()[_0x1db96b(0x423)]())return!![];if(compareNumericalAnswers(_0xcfce78,_0x413cfc))return!![];return console['log'](_0x1db96b(0x2f2)),await gradeShortAnswerWithAI(_0xcfce78,_0x413cfc);}async function revealAnswerForAdmin(_0x21246b,_0x1feb0d){const _0x3254e9=_0xd665bf;if(document[_0x3254e9(0x36a)]('next-live-question-btn'))return;const _0x2b4250=doc(db,_0x3254e9(0x3bf)+appId+_0x3254e9(0x726),currentLiveGameId);await updateDoc(_0x2b4250,{'questionStatus':_0x3254e9(0x21b)});const _0x50a46f=liveGameView['querySelector'](_0x3254e9(0x33d));_0x50a46f&&(_0x50a46f['classList']['remove']('bg-white/30'),_0x50a46f[_0x3254e9(0x1e4)][_0x3254e9(0xff)](_0x3254e9(0x3aa),'text-green-900',_0x3254e9(0x7a9),_0x3254e9(0x76e),_0x3254e9(0x556)),_0x50a46f[_0x3254e9(0xed)]='<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>'+_0x50a46f[_0x3254e9(0xed)]);const _0x4df301=document[_0x3254e9(0x36a)](_0x3254e9(0x272));_0x4df301&&(_0x4df301[_0x3254e9(0xed)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x21246b+0x1===_0x1feb0d?_0x3254e9(0x72d):_0x3254e9(0x3e7))+_0x3254e9(0x328),document[_0x3254e9(0x36a)](_0x3254e9(0xca))[_0x3254e9(0x125)](_0x3254e9(0x6ff),async()=>{const _0x260cee=_0x3254e9,_0x57a4b0=doc(db,_0x260cee(0x3bf)+appId+_0x260cee(0x726),currentLiveGameId),_0x1328f0=await getDoc(_0x57a4b0);if(!_0x1328f0[_0x260cee(0x1c9)]())return;const _0x1202b4=_0x1328f0[_0x260cee(0x6a1)](),_0x3e09d5={};if(_0x1202b4[_0x260cee(0x2f3)])for(const _0x4a3395 in _0x1202b4['players']){_0x3e09d5['players.'+_0x4a3395+_0x260cee(0x4aa)]=![];}const _0x8ecc1a=_0x21246b+0x1;_0x8ecc1a<_0x1feb0d?(_0x3e09d5[_0x260cee(0x435)]=_0x8ecc1a,_0x3e09d5['questionDisplayedAt']=serverTimestamp(),_0x3e09d5[_0x260cee(0x780)]='answering',await updateDoc(_0x57a4b0,_0x3e09d5)):await updateDoc(_0x57a4b0,{'status':_0x260cee(0x4c3)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x42283d=>{const _0x5e6597=_0x1faf;if(_0x42283d){userId=_0x42283d[_0x5e6597(0x2fe)],userIdDisplay[_0x5e6597(0x41b)]=userId;const _0x1b75d8=await loadUserPreferences();_0x1b75d8[_0x5e6597(0x1e6)]&&(document['getElementById'](_0x5e6597(0x580))[_0x5e6597(0x4fc)]=_0x1b75d8['projectSortOrder']);globalDashboardSettings[_0x5e6597(0x191)]=_0x1b75d8['projectView']||_0x5e6597(0x4db);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x49cd47,_0xd1f54a){const _0x5c3368=_0xd665bf;if(!userId)return;try{const _0x2ee264=doc(db,'artifacts/'+appId+_0x5c3368(0x4e8)+userId+_0x5c3368(0x3a4)),_0x162e07={};_0x162e07[_0x49cd47]=_0xd1f54a,await setDoc(_0x2ee264,_0x162e07,{'merge':!![]});}catch(_0x31b083){console[_0x5c3368(0x3ef)](_0x5c3368(0x76f),_0x31b083);}}async function loadUserPreferences(){const _0x176b38=_0xd665bf;if(!userId)return{};try{const _0x1bd198=doc(db,_0x176b38(0x3bf)+appId+_0x176b38(0x4e8)+userId+'/preferences/main'),_0x3ea86e=await getDoc(_0x1bd198);if(_0x3ea86e['exists']())return _0x3ea86e[_0x176b38(0x6a1)]();return{};}catch(_0x213eda){return console[_0x176b38(0x3ef)](_0x176b38(0x7d2),_0x213eda),{};}}function showPodiumView(_0x1eddf2){const _0x3b7084=_0xd665bf,_0xa8b6fc=Object[_0x3b7084(0x271)](_0x1eddf2)[_0x3b7084(0x6f9)](([_0x318d4d,_0x1f2680])=>({'name':_0x318d4d,'score':_0x1f2680[_0x3b7084(0x673)]||0x0,'badges':_0x1f2680[_0x3b7084(0x70e)]||[]}));_0xa8b6fc[_0x3b7084(0x4c5)]((_0x4e55a1,_0x501768)=>{const _0x405c15=_0x3b7084,_0x24cf92=_0x501768[_0x405c15(0x673)]-_0x4e55a1['score'];if(_0x24cf92!==0x0)return _0x24cf92;return(_0x501768['badges']['length']||0x0)-(_0x4e55a1[_0x405c15(0x70e)][_0x405c15(0x30f)]||0x0);});const _0x549448=_0x62972d=>{const _0x13c918=_0x3b7084;if(!_0x62972d||_0x62972d[_0x13c918(0x30f)]===0x0)return'';const _0x43751e={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x13c918(0x536)+_0x62972d[_0x13c918(0x6f9)](_0x320a5b=>_0x43751e[_0x320a5b]||'')[_0x13c918(0x2da)]('')+_0x13c918(0x4d2);},_0x4fdc13=_0xa8b6fc[_0x3b7084(0x26b)](0x3),_0x16f65a=_0x4fdc13['length']>0x0?_0x3b7084(0x685)+_0x4fdc13[_0x3b7084(0x6f9)]((_0x258284,_0x3298aa)=>_0x3b7084(0x1be)+(_0x3298aa+0x4)+_0x3b7084(0x13c)+_0x258284[_0x3b7084(0x2cf)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x258284[_0x3b7084(0x673)]+_0x3b7084(0x6db))[_0x3b7084(0x2da)]('')+_0x3b7084(0x141):'',_0x15c78e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xa8b6fc[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0xa8b6fc[0x1][_0x3b7084(0x2cf)]+_0x3b7084(0x58b)+_0x549448(_0xa8b6fc[0x1][_0x3b7084(0x70e)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>'+_0xa8b6fc[0x1][_0x3b7084(0x673)]+_0x3b7084(0x812):_0x3b7084(0x738))+_0x3b7084(0x42a)+(_0xa8b6fc[0x0]?_0x3b7084(0x7d7)+_0xa8b6fc[0x0][_0x3b7084(0x2cf)]+_0x3b7084(0x58b)+_0x549448(_0xa8b6fc[0x0][_0x3b7084(0x70e)])+_0x3b7084(0x124)+_0xa8b6fc[0x0][_0x3b7084(0x673)]+_0x3b7084(0x354):_0x3b7084(0x738))+_0x3b7084(0x42a)+(_0xa8b6fc[0x2]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0xa8b6fc[0x2][_0x3b7084(0x2cf)]+_0x3b7084(0x58b)+_0x549448(_0xa8b6fc[0x2][_0x3b7084(0x70e)])+_0x3b7084(0x50d)+_0xa8b6fc[0x2][_0x3b7084(0x673)]+_0x3b7084(0x455):_0x3b7084(0x738))+_0x3b7084(0x198)+_0x16f65a+'\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x3b7084(0x754)?_0x3b7084(0x2ff):_0x3b7084(0x273))+_0x3b7084(0x62b);liveGameView[_0x3b7084(0xed)]=_0x15c78e,currentMode==='admin'&&document[_0x3b7084(0x36a)](_0x3b7084(0x1f9))[_0x3b7084(0x125)](_0x3b7084(0x6ff),async()=>{const _0x241894=_0x3b7084,_0xeff2fe=doc(db,_0x241894(0x3bf)+appId+_0x241894(0x726),currentLiveGameId);await deleteDoc(_0xeff2fe),showView(_0x241894(0x2b1));});}async function handleStartLiveRace(_0x23124a){const _0x16b338=_0xd665bf;let _0x3e97f7=allQuizzes[_0x16b338(0x5ec)](_0x2056ba=>_0x2056ba['id']===_0x23124a);if(!_0x3e97f7){const _0x537c5c=doc(db,_0x16b338(0x3bf)+appId+_0x16b338(0x778),_0x23124a),_0x85699e=await getDoc(_0x537c5c);if(!_0x85699e[_0x16b338(0x1c9)]()){showMessage(_0x16b338(0x3c6));return;}_0x3e97f7={'id':_0x85699e['id'],..._0x85699e[_0x16b338(0x6a1)]()};}currentQuizData=getShuffledQuiz(_0x3e97f7);const _0x277ebb=_0x3e97f7[_0x16b338(0x2fd)]||currentProjectId||null,_0xd9bb50=Math[_0x16b338(0x44e)](0x3e8+Math[_0x16b338(0x162)]()*0x2328)[_0x16b338(0x6de)]();currentLiveGamePin=_0xd9bb50;try{const _0x5f1e25=await addDoc(collection(db,_0x16b338(0x3bf)+appId+_0x16b338(0x726)),{'quizId':_0x23124a,'projectId':_0x277ebb,'status':_0x16b338(0x31e),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0xd9bb50,'createdAt':serverTimestamp()});currentLiveGameId=_0x5f1e25['id'],showAdminLobbyView(_0xd9bb50,_0x3e97f7[_0x16b338(0x4bb)]),listenForLiveGameUpdates();}catch(_0x5d4935){console[_0x16b338(0x3ef)]('Error\x20starting\x20live\x20race:',_0x5d4935),showMessage(_0x16b338(0x6ae));}}async function handleShowStudentRankings(){const _0x11229a=_0xd665bf,_0x3b4a2c=document[_0x11229a(0x29b)](_0x11229a(0x659));_0x3b4a2c&&(_0x3b4a2c[_0x11229a(0xed)]=_0x11229a(0x2ad));const _0x44881f=document[_0x11229a(0x29b)]('#student-project-leaderboard-content\x20thead');_0x44881f&&(_0x44881f[_0x11229a(0xed)]=_0x11229a(0x2e9));const _0x1a2f03=document[_0x11229a(0x36a)](_0x11229a(0x15e));_0x1a2f03[_0x11229a(0x1e4)][_0x11229a(0x52c)]('hidden'),document[_0x11229a(0x36a)]('close-student-rankings-btn')['onclick']=()=>_0x1a2f03['classList'][_0x11229a(0xff)](_0x11229a(0x544));const _0x2ca334=document[_0x11229a(0x36a)](_0x11229a(0x668)),_0x1df24c=document['getElementById']('student-project-leaderboard-tab'),_0x1d4498=document[_0x11229a(0x36a)](_0x11229a(0x30a)),_0x39a852=document['getElementById'](_0x11229a(0xa6));_0x2ca334[_0x11229a(0x7c2)]=()=>{const _0x2f06cd=_0x11229a;_0x2ca334[_0x2f06cd(0x1e4)][_0x2f06cd(0xff)](_0x2f06cd(0x21d)),_0x1df24c[_0x2f06cd(0x1e4)][_0x2f06cd(0x52c)](_0x2f06cd(0x21d)),_0x1d4498[_0x2f06cd(0x1e4)][_0x2f06cd(0x52c)](_0x2f06cd(0x544)),_0x39a852[_0x2f06cd(0x1e4)][_0x2f06cd(0xff)](_0x2f06cd(0x544));},_0x1df24c[_0x11229a(0x7c2)]=()=>{const _0x3f32fe=_0x11229a;_0x1df24c[_0x3f32fe(0x1e4)][_0x3f32fe(0xff)](_0x3f32fe(0x21d)),_0x2ca334[_0x3f32fe(0x1e4)]['remove']('active'),_0x39a852[_0x3f32fe(0x1e4)][_0x3f32fe(0x52c)](_0x3f32fe(0x544)),_0x1d4498[_0x3f32fe(0x1e4)]['add'](_0x3f32fe(0x544));};try{const _0x1d8aae=collection(db,'artifacts/'+appId+_0x11229a(0x187)+currentQuizData['id']+'/submissions'),_0x5b9bad=await getDocs(_0x1d8aae),_0x4ea69a=_0x5b9bad['docs'][_0x11229a(0x6f9)](_0x444d83=>_0x444d83[_0x11229a(0x6a1)]());renderQuizLeaderboard(_0x4ea69a,currentQuizData,_0x11229a(0x5c8));const _0x2ff165=collection(db,_0x11229a(0x3bf)+appId+_0x11229a(0x6f8)+currentQuizData[_0x11229a(0x2fd)]+'/studentProfiles'),_0x2d4a9f=await getDocs(_0x2ff165),_0x42e6a0=_0x2d4a9f[_0x11229a(0x66a)][_0x11229a(0x6f9)](_0x17e12b=>_0x17e12b[_0x11229a(0x6a1)]());renderLeaderboard(_0x42e6a0,_0x11229a(0x797));}catch(_0x21bc9b){console[_0x11229a(0x3ef)](_0x11229a(0x50e),_0x21bc9b),showMessage(_0x11229a(0x522));}}async function handleSaveToBank(_0x83e49e){const _0x54abb5=_0xd665bf,_0x553fd3=_0x83e49e[_0x54abb5(0x1b9)],_0x20318c=_0x553fd3[_0x54abb5(0x53c)][_0x54abb5(0x85)],_0x3a2b4a=currentQuizData[_0x54abb5(0xd2)][_0x20318c];if(!userId){showMessage(_0x54abb5(0xdd));return;}try{const _0x7b6571={..._0x3a2b4a,'originalTopic':currentQuizData[_0x54abb5(0x4bb)],'savedAt':serverTimestamp()},_0x141481=collection(db,_0x54abb5(0x3bf)+appId+_0x54abb5(0x4e8)+userId+_0x54abb5(0x82c));await addDoc(_0x141481,_0x7b6571),showMessage(_0x54abb5(0x1c7)),_0x553fd3[_0x54abb5(0x1e4)]['remove'](_0x54abb5(0x370)),_0x553fd3['classList'][_0x54abb5(0xff)](_0x54abb5(0x4e7)),_0x553fd3['disabled']=!![];}catch(_0xf3a8f6){console[_0x54abb5(0x3ef)](_0x54abb5(0xcc),_0xf3a8f6),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x45e535=_0xd665bf;if(!userId)return;const _0x454953=collection(db,_0x45e535(0x3bf)+appId+'/public/data/quizzes'),_0x4b2e0a=query(_0x454953,where(_0x45e535(0x7c4),'==',!![]));onSnapshot(_0x4b2e0a,_0x5158c6=>{const _0x4d919b=_0x45e535;starredQuizzes=_0x5158c6[_0x4d919b(0x66a)][_0x4d919b(0x6f9)](_0x359327=>({'id':_0x359327['id'],..._0x359327[_0x4d919b(0x6a1)]()})),currentProjectId===_0x4d919b(0x410)?renderQuizzes():renderProjects();},_0x4d8c60=>{const _0x8a03b0=_0x45e535;console[_0x8a03b0(0x3ef)](_0x8a03b0(0x15c),_0x4d8c60);});}function exportQuizAsWorksheetPDF(){const _0x218c8=_0xd665bf;if(!currentQuizData||!currentQuizData[_0x218c8(0xd2)]){showMessage(_0x218c8(0x497));return;}const _0x3739d2=currentQuizData,_0x5d013a=window[_0x218c8(0x362)]('','_blank'),_0x2ca12e=_0x12e78f=>String[_0x218c8(0x59b)](0x41+_0x12e78f),_0x30e1f1=_0x218c8(0x39d)+_0x3739d2[_0x218c8(0x4bb)]+_0x218c8(0xe4)+_0x3739d2[_0x218c8(0x4bb)]+_0x218c8(0x602)+_0x3739d2[_0x218c8(0xd2)][_0x218c8(0x6f9)]((_0xb51fda,_0x2fb603)=>{const _0x4d42fe=_0x218c8;let _0x4d963f='';const _0x3c492b=_0xb51fda[_0x4d42fe(0x2ca)]||_0x3739d2['quizType'];switch(_0x3c492b){case _0x4d42fe(0x4ba):case _0x4d42fe(0x1c1):_0x4d963f=_0x4d42fe(0x7a0)+_0xb51fda[_0x4d42fe(0x63d)][_0x4d42fe(0x6f9)]((_0x22d66f,_0x1a4b8a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2ca12e(_0x1a4b8a)+'.\x20'+_0x22d66f+_0x4d42fe(0x276))[_0x4d42fe(0x2da)]('<br>')+_0x4d42fe(0x4d2);break;case _0x4d42fe(0x63c):_0x4d963f=_0x4d42fe(0x815);break;default:_0x4d963f=_0x4d42fe(0x6ef);break;}return _0x4d42fe(0x4d9)+(_0x2fb603+0x1)+_0x4d42fe(0x37c)+(_0xb51fda['stem']||_0xb51fda[_0x4d42fe(0x551)])+_0x4d42fe(0x3dd)+(_0xb51fda[_0x4d42fe(0x404)]?'<div\x20class=\x22my-2\x22>'+_0xb51fda[_0x4d42fe(0x404)]+'</div>':'')+_0x4d42fe(0x774)+_0x4d963f+_0x4d42fe(0x1c3);})[_0x218c8(0x2da)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5d013a[_0x218c8(0x6c0)][_0x218c8(0x7b)](_0x30e1f1),_0x5d013a['document']['close'](),_0x5d013a[_0x218c8(0x442)]=function(){setTimeout(()=>{const _0x2846db=_0x1faf;_0x5d013a[_0x2846db(0x111)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x13a037=_0xd665bf;if(!currentQuizData||!currentQuizData[_0x13a037(0xd2)]){showMessage(_0x13a037(0x497));return;}const _0x4aaf96=currentQuizData,_0x5ed1f4=window[_0x13a037(0x362)]('',_0x13a037(0x5f4)),_0x3658f2=_0x4ef313=>String[_0x13a037(0x59b)](0x41+_0x4ef313),_0x2eea18=_0x13a037(0x693)+_0x4aaf96[_0x13a037(0x4bb)]+_0x13a037(0x5cf)+_0x4aaf96[_0x13a037(0xd2)][_0x13a037(0x6f9)]((_0x59dfca,_0x2a4035)=>{const _0x30af2b=_0x13a037;let _0x4461e9='';const _0x1caec7=_0x59dfca[_0x30af2b(0x2ca)]||_0x4aaf96[_0x30af2b(0x1f6)];switch(_0x1caec7){case _0x30af2b(0x4ba):case _0x30af2b(0x1c1):_0x4461e9='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x59dfca[_0x30af2b(0x63d)][_0x30af2b(0x6f9)]((_0x517474,_0x4a2b07)=>_0x30af2b(0x316)+_0x3658f2(_0x4a2b07)+'.\x20'+_0x517474+_0x30af2b(0x650))[_0x30af2b(0x2da)](_0x30af2b(0x20c))+_0x30af2b(0x3ff);break;case _0x30af2b(0x63c):_0x4461e9=_0x30af2b(0x623);break;default:_0x4461e9='';break;}return _0x30af2b(0xa3)+_0x4aaf96['topic']+_0x30af2b(0x58c)+(_0x2a4035+0x1)+_0x30af2b(0x510)+(_0x59dfca[_0x30af2b(0x36f)]||_0x59dfca['questionText'])+_0x30af2b(0x3dd)+(_0x59dfca[_0x30af2b(0x404)]?'<div\x20class=\x22my-6\x22>'+_0x59dfca[_0x30af2b(0x404)]+'</div>':'')+_0x30af2b(0x774)+_0x4461e9+_0x30af2b(0x350);})[_0x13a037(0x2da)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5ed1f4['document'][_0x13a037(0x7b)](_0x2eea18),_0x5ed1f4[_0x13a037(0x6c0)][_0x13a037(0x7f1)](),_0x5ed1f4['onload']=function(){setTimeout(()=>{_0x5ed1f4['print']();},0x5dc);};}async function handleToggleStarQuiz(_0xcff958){const _0x590ca6=_0xd665bf,_0x2c806e=doc(db,_0x590ca6(0x3bf)+appId+_0x590ca6(0x778),_0xcff958);try{const _0x3626b4=await getDoc(_0x2c806e);if(_0x3626b4['exists']()){const _0x1dac14=_0x3626b4[_0x590ca6(0x6a1)]()[_0x590ca6(0x7c4)]||![];await updateDoc(_0x2c806e,{'isStarred':!_0x1dac14});}}catch(_0x19ed44){console[_0x590ca6(0x3ef)]('Error\x20toggling\x20star\x20status:',_0x19ed44),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x5ba232=_0xd665bf,_0x43f8b1=document[_0x5ba232(0x36a)](_0x5ba232(0x425));_0x43f8b1[_0x5ba232(0xed)]=_0x5ba232(0xd6);try{const _0x425a1c=collection(db,_0x5ba232(0x3bf)+appId+_0x5ba232(0x4e8)+userId+_0x5ba232(0x82c)),_0x183aa1=query(_0x425a1c),_0x11fef7=await getDocs(_0x183aa1);if(_0x11fef7[_0x5ba232(0x5fb)]){_0x43f8b1['innerHTML']=_0x5ba232(0x2ac);return;}let _0x53c382=_0x11fef7[_0x5ba232(0x66a)][_0x5ba232(0x6f9)](_0x1d95f3=>{const _0x11bd37=_0x5ba232,_0x36dccf=_0x1d95f3['data'](),_0x89e03d=_0x1d95f3['id'];return _0x11bd37(0x7ad)+JSON[_0x11bd37(0x5b7)](_0x36dccf)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x36dccf['questionText']||_0x36dccf[_0x11bd37(0x36f)])+_0x11bd37(0x78f)+_0x36dccf[_0x11bd37(0xe5)]+_0x11bd37(0x391);})[_0x5ba232(0x2da)]('');_0x43f8b1[_0x5ba232(0xed)]=_0x5ba232(0x6cd)+_0x53c382+_0x5ba232(0x805),document['getElementById'](_0x5ba232(0x6a7))['addEventListener'](_0x5ba232(0x6ff),createQuizFromBank);}catch(_0x2a6c48){console[_0x5ba232(0x3ef)](_0x5ba232(0x706),_0x2a6c48),_0x43f8b1[_0x5ba232(0xed)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x50127d,_0x2d8cb3,_0x17bd05){const _0x5a8190=_0xd665bf,_0x10b16d=_0x50127d['questionType']||currentQuizData[_0x5a8190(0x1f6)];let _0x5ae51c='';if(_0x10b16d===_0x5a8190(0x4ba)||_0x10b16d===_0x5a8190(0x63c)){const _0x2d03ff=_0x10b16d===_0x5a8190(0x63c)?[_0x5a8190(0x443),_0x5a8190(0x84a)]:_0x50127d[_0x5a8190(0x63d)],_0x55b159=_0x10b16d==='true_false'?_0x50127d['correctAnswer']?0x0:0x1:_0x50127d['correctAnswerIndex'];_0x5ae51c=_0x2d03ff[_0x5a8190(0x6f9)]((_0x5d3b6e,_0x2c02d1)=>_0x5a8190(0x690)+(_0x2c02d1===_0x55b159)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d3b6e+_0x5a8190(0x358))['join']('');}else{if(_0x10b16d==='matching_item'){const _0x262616=_0x50127d[_0x5a8190(0x647)]||[];_0x5ae51c=_0x262616[_0x5a8190(0x6f9)](_0x4f4f88=>_0x5a8190(0x690)+(_0x4f4f88===_0x50127d[_0x5a8190(0x200)])+_0x5a8190(0x7be)+_0x4f4f88+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5a8190(0x2da)]('');}}const _0x333ca0=_0x50127d[_0x5a8190(0x36f)]||_0x50127d[_0x5a8190(0x551)],_0x7f059c=_0x5a8190(0x63f)+(_0x2d8cb3+0x1)+_0x5a8190(0x54b)+_0x17bd05+_0x5a8190(0x6f5)+_0x333ca0+_0x5a8190(0x6f2)+_0x5ae51c+_0x5a8190(0x581);liveGameView[_0x5a8190(0xed)]=_0x7f059c;window['MathJax']&&MathJax[_0x5a8190(0x17a)]&&MathJax['typesetPromise']([liveGameView]);const _0x5aa2bf=document[_0x5a8190(0x36a)](_0x5a8190(0x272));document[_0x5a8190(0x36a)](_0x5a8190(0x604))['addEventListener']('click',async()=>{const _0x3f5043=_0x5a8190,_0x4ee910=doc(db,'artifacts/'+appId+_0x3f5043(0x726),currentLiveGameId);await updateDoc(_0x4ee910,{'questionStatus':'revealed'});const _0x52a1f6=liveGameView['querySelector']('[data-is-correct=\x22true\x22]');_0x52a1f6&&(_0x52a1f6[_0x3f5043(0x1e4)][_0x3f5043(0x52c)](_0x3f5043(0x675)),_0x52a1f6[_0x3f5043(0x1e4)][_0x3f5043(0xff)]('bg-green-300',_0x3f5043(0xb9),_0x3f5043(0x7a9),'border-4',_0x3f5043(0x556)),_0x52a1f6[_0x3f5043(0xed)]=_0x3f5043(0x81c)+_0x52a1f6[_0x3f5043(0xed)]),_0x5aa2bf['innerHTML']=_0x3f5043(0x494)+(_0x2d8cb3+0x1===_0x17bd05?_0x3f5043(0x72d):'ข้อต่อไป')+_0x3f5043(0x328),document[_0x3f5043(0x36a)](_0x3f5043(0xca))[_0x3f5043(0x125)]('click',async()=>{const _0x5a8294=_0x3f5043,_0x18fec9=doc(db,_0x5a8294(0x3bf)+appId+_0x5a8294(0x726),currentLiveGameId),_0x1dfbac=await getDoc(_0x18fec9);if(!_0x1dfbac[_0x5a8294(0x1c9)]())return;const _0x1d6fd7=_0x1dfbac['data'](),_0x587d1c={};if(_0x1d6fd7['players'])for(const _0xea3f3b in _0x1d6fd7[_0x5a8294(0x2f3)]){_0x587d1c['players.'+_0xea3f3b+_0x5a8294(0x4aa)]=![];}const _0x5e9a58=_0x2d8cb3+0x1;_0x5e9a58<_0x17bd05?(_0x587d1c[_0x5a8294(0x435)]=_0x5e9a58,_0x587d1c['questionDisplayedAt']=serverTimestamp(),_0x587d1c[_0x5a8294(0x780)]=_0x5a8294(0x135),await updateDoc(_0x18fec9,_0x587d1c)):await updateDoc(_0x18fec9,{'status':'podium'});});}),document[_0x5a8190(0x36a)](_0x5a8190(0x12e))[_0x5a8190(0x125)](_0x5a8190(0x6ff),async()=>{const _0x26c262=_0x5a8190,_0x27bf6c=doc(db,_0x26c262(0x3bf)+appId+_0x26c262(0x726),currentLiveGameId);await deleteDoc(_0x27bf6c),showView(_0x26c262(0x2b1));});}function showStudentLiveQuestionView(_0x4d73a9,_0x56892c,_0x444e30){const _0x4c5f9a=_0xd665bf,_0x16f4cf=_0x4d73a9['questionType']||currentQuizData[_0x4c5f9a(0x1f6)];let _0x4cca00='';if(_0x16f4cf===_0x4c5f9a(0x4ba)||_0x16f4cf===_0x4c5f9a(0x63c)){const _0x10d696=_0x16f4cf===_0x4c5f9a(0x63c)?[_0x4c5f9a(0x443),'ไม่ใช่']:_0x4d73a9[_0x4c5f9a(0x63d)];_0x4cca00=_0x10d696[_0x4c5f9a(0x6f9)]((_0x411638,_0x2215e1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2215e1+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x411638+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4c5f9a(0x2da)]('');}else{if(_0x16f4cf===_0x4c5f9a(0x83b)){const _0x554d50=_0x4d73a9[_0x4c5f9a(0x647)]||[];_0x4cca00=_0x554d50[_0x4c5f9a(0x6f9)]((_0x51a709,_0x3a79f4)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3a79f4+_0x4c5f9a(0x71b)+_0x51a709+_0x4c5f9a(0x64a))[_0x4c5f9a(0x2da)]('');}else _0x16f4cf==='short_answer'&&(_0x4cca00=_0x4c5f9a(0x467));}const _0x3563d0=_0x4d73a9[_0x4c5f9a(0x36f)]||_0x4d73a9['questionText'],_0x331f1d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x56892c+0x1)+'\x20/\x20'+_0x444e30+_0x4c5f9a(0x3a3)+_0x3563d0+_0x4c5f9a(0xd4)+_0x4cca00+_0x4c5f9a(0x790);liveGameView[_0x4c5f9a(0xed)]=_0x331f1d;window[_0x4c5f9a(0x6ea)]&&MathJax[_0x4c5f9a(0x17a)]&&MathJax[_0x4c5f9a(0x17a)]([liveGameView]);const _0x5b962e=document[_0x4c5f9a(0x36a)](_0x4c5f9a(0x203));_0x5b962e&&_0x5b962e[_0x4c5f9a(0x125)](_0x4c5f9a(0x6ff),()=>{const _0x3c1ff3=_0x4c5f9a,_0x545a50=document['getElementById'](_0x3c1ff3(0x64b))['value'];handleLiveAnswer(_0x545a50,_0x4d73a9);}),document[_0x4c5f9a(0x36a)](_0x4c5f9a(0x440))['addEventListener'](_0x4c5f9a(0x6ff),_0x27595e=>{const _0x3ecf9e=_0x4c5f9a,_0x18482f=_0x27595e[_0x3ecf9e(0x817)][_0x3ecf9e(0x3b7)](_0x3ecf9e(0x36e));if(_0x18482f){const _0x537642=parseInt(_0x18482f[_0x3ecf9e(0x53c)][_0x3ecf9e(0x85)]);handleLiveAnswer(_0x537642,_0x4d73a9);}});}async function handleLiveAnswer(_0x3fc31d,_0x4b3f2e){const _0x972d66=_0xd665bf;document[_0x972d66(0x24f)](_0x972d66(0x4f3))[_0x972d66(0x4be)](_0x2278f2=>_0x2278f2[_0x972d66(0x526)]=!![]);const _0x5656f6=_0x4b3f2e[_0x972d66(0x2ca)]||currentQuizData['quizType'];let _0x2ad66b=![];if(_0x5656f6===_0x972d66(0x223)){const _0x3c9488=(_0x3fc31d||'')[_0x972d66(0x6de)]();_0x2ad66b=await gradeShortAnswer(_0x3c9488,_0x4b3f2e);}else{if(_0x5656f6===_0x972d66(0x4ba))_0x2ad66b=_0x3fc31d===_0x4b3f2e['correctAnswerIndex'];else{if(_0x5656f6===_0x972d66(0x63c)){const _0x2491c0=_0x4b3f2e[_0x972d66(0x6be)];_0x2ad66b=_0x3fc31d===0x0&&_0x2491c0||_0x3fc31d===0x1&&!_0x2491c0;}else{if(_0x5656f6===_0x972d66(0x83b)){const _0x3b97e0=_0x4b3f2e['allResponses'][_0x3fc31d];_0x2ad66b=_0x3b97e0===_0x4b3f2e[_0x972d66(0x200)];}}}}const _0x39b506=doc(db,_0x972d66(0x3bf)+appId+_0x972d66(0x726),currentLiveGameId),_0x2b1184=await getDoc(_0x39b506);if(!_0x2b1184[_0x972d66(0x1c9)]())return;const _0x1740b6=_0x2b1184['data'](),_0x16a092=_0x1740b6[_0x972d66(0x2f3)][currentStudentName];let _0x3d21ba=_0x16a092[_0x972d66(0x70e)]||[],_0x33a1df=_0x16a092[_0x972d66(0x71a)]||0x0;const _0x51f993={};let _0x5bbbe0=0x0;if(_0x1740b6[_0x972d66(0x7e9)]){const _0x7a5800=_0x1740b6['questionDisplayedAt'][_0x972d66(0x7ca)](),_0x5ce0d4=new Date()-_0x7a5800;if(_0x2ad66b){const _0x3f50f3=0x3e8,_0x4b6e15=0x1f4,_0xf21ff9=0x4e20;let _0x540700=_0x5ce0d4/_0xf21ff9;if(_0x540700>0x1)_0x540700=0x1;const _0x99c167=Math['round'](_0x540700*_0x4b6e15);_0x5bbbe0=_0x3f50f3-_0x99c167,_0x5ce0d4<=0x1388&&!_0x3d21ba[_0x972d66(0x13e)](_0x972d66(0x858))&&_0x3d21ba[_0x972d66(0x27c)](_0x972d66(0x858));}}_0x2ad66b?(_0x33a1df++,_0x33a1df===0x3&&!_0x3d21ba[_0x972d66(0x13e)](_0x972d66(0x709))&&(_0x3d21ba[_0x972d66(0x27c)](_0x972d66(0x709)),_0x33a1df=0x0)):_0x33a1df=0x0,_0x2ad66b&&(_0x51f993[_0x972d66(0x625)+currentStudentName+_0x972d66(0x7b9)]=increment(_0x5bbbe0)),_0x51f993['players.'+currentStudentName+'.badges']=_0x3d21ba,_0x51f993[_0x972d66(0x625)+currentStudentName+_0x972d66(0x384)]=_0x33a1df,_0x51f993['players.'+currentStudentName+'.answeredCurrentQuestion']=!![],_0x51f993[_0x972d66(0x625)+currentStudentName+'.lastAnswerCorrect']=_0x2ad66b,_0x51f993[_0x972d66(0x625)+currentStudentName+_0x972d66(0x2c9)]=_0x5bbbe0,await updateDoc(_0x39b506,_0x51f993),liveGameView[_0x972d66(0xed)]=_0x972d66(0x90);}function createQuizFromBank(){const _0x29e05e=_0xd665bf,_0x10ddb7=document[_0x29e05e(0x24f)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x10ddb7[_0x29e05e(0x30f)]===0x0){showMessage(_0x29e05e(0x333));return;}const _0x57bd20=[];_0x10ddb7['forEach'](_0xed90b6=>{const _0x20aa9c=_0x29e05e;_0x57bd20['push'](JSON[_0x20aa9c(0x2d0)](_0xed90b6['value']));});const _0x2f6cfc={'topic':_0x29e05e(0x20f),'questions':_0x57bd20};displayGeneratedQuiz(_0x2f6cfc);}function showAdminLobbyView(_0x2feb6d,_0x47bc53){const _0xce8fee=_0xd665bf;showView('live-game');const _0x445fde='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x47bc53+_0xce8fee(0x399)+_0x2feb6d+_0xce8fee(0x74d);liveGameView[_0xce8fee(0xed)]=_0x445fde,document['getElementById'](_0xce8fee(0x800))[_0xce8fee(0x125)]('click',async()=>{const _0x3d70bf=_0xce8fee;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x3d70bf(0xd2)][_0x3d70bf(0x30f)]===0x0){showMessage(_0x3d70bf(0x26e));return;}try{const _0x378478=doc(db,_0x3d70bf(0x3bf)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x378478,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x437290=currentQuizData['questions'][0x0],_0x32f4db=currentQuizData['questions'][_0x3d70bf(0x30f)];showAdminLiveQuestionView(_0x437290,0x0,_0x32f4db);}catch(_0x392037){console[_0x3d70bf(0x3ef)](_0x3d70bf(0x38c),_0x392037),showMessage(_0x3d70bf(0x511));}});}async function openGlobalLiveModal(){const _0xa3b527=_0xd665bf;if(allQuizzesGlobal[_0xa3b527(0x30f)]===0x0){const _0xea89a0=await getDocs(collection(db,_0xa3b527(0x3bf)+appId+_0xa3b527(0x778)));allQuizzesGlobal=_0xea89a0[_0xa3b527(0x66a)][_0xa3b527(0x6f9)](_0x495532=>({'id':_0x495532['id'],..._0x495532[_0xa3b527(0x6a1)]()}));}renderGlobalQuizList(''),document[_0xa3b527(0x36a)](_0xa3b527(0x5c9))[_0xa3b527(0x1e4)][_0xa3b527(0x52c)](_0xa3b527(0x544));}async function openQuizBankModal(){const _0x1df445=_0xd665bf;if(allQuizzesGlobal[_0x1df445(0x30f)]===0x0){const _0x2e7af3=await getDocs(collection(db,_0x1df445(0x3bf)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x2e7af3[_0x1df445(0x66a)][_0x1df445(0x6f9)](_0x21e9cb=>({'id':_0x21e9cb['id'],..._0x21e9cb[_0x1df445(0x6a1)]()}));}renderQuizBankList(''),document[_0x1df445(0x36a)](_0x1df445(0x114))[_0x1df445(0x1e4)][_0x1df445(0x52c)]('hidden');}function renderQuizBankList(_0x437c6a=''){const _0x23e805=_0xd665bf,_0xc71507=document[_0x23e805(0x36a)](_0x23e805(0x2dd)),_0x1baea5=_0x437c6a[_0x23e805(0x423)]()[_0x23e805(0x6fe)](),_0x20136d=allQuizzesGlobal[_0x23e805(0x6f9)](_0x40954a=>({..._0x40954a,'projectName':allProjects['find'](_0x3f7385=>_0x3f7385['id']===_0x40954a[_0x23e805(0x2fd)])?.[_0x23e805(0x9c)]||'N/A'}))['filter'](_0x29272e=>(_0x29272e[_0x23e805(0x4bb)]||'')['toLowerCase']()['includes'](_0x1baea5)||(_0x29272e[_0x23e805(0x9c)]||'')[_0x23e805(0x423)]()[_0x23e805(0x13e)](_0x1baea5)||_0x29272e['id'][_0x23e805(0x6de)]()[_0x23e805(0x13e)](_0x1baea5));document[_0x23e805(0x36a)]('quiz-bank-count')[_0x23e805(0x41b)]='('+_0x20136d['length']+_0x23e805(0x2e2),_0xc71507[_0x23e805(0xed)]=_0x20136d[_0x23e805(0x30f)]?_0x20136d[_0x23e805(0x6f9)](_0x99cfdf=>_0x23e805(0x15d)+_0x99cfdf['id']+_0x23e805(0x634)+(_0x99cfdf[_0x23e805(0x4bb)]||_0x23e805(0x4af))+_0x23e805(0xc4)+(_0x99cfdf[_0x23e805(0xd2)]?.['length']||0x0)+_0x23e805(0x1ce)+_0x99cfdf[_0x23e805(0x9c)]+_0x23e805(0x2f8)+_0x99cfdf['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x99cfdf['id']+_0x23e805(0xf8)+_0x99cfdf['id']+_0x23e805(0xd9)+_0x99cfdf['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')['join'](''):_0x23e805(0x545),_0xc71507[_0x23e805(0x24f)](_0x23e805(0x465))[_0x23e805(0x4be)](_0xca9885=>{const _0x110eaf=_0x23e805;_0xca9885['addEventListener'](_0x110eaf(0x6ff),()=>{const _0xb971d4=_0x110eaf,_0x2997cc=_0xca9885[_0xb971d4(0x53c)]['id'];document['getElementById'](_0xb971d4(0x114))['classList'][_0xb971d4(0xff)](_0xb971d4(0x544)),showQuizDetailView(_0x2997cc);});}),_0xc71507['querySelectorAll'](_0x23e805(0x6a3))[_0x23e805(0x4be)](_0xef60d7=>{const _0x175702=_0x23e805;_0xef60d7['addEventListener'](_0x175702(0x6ff),_0x330a9e=>{const _0x36781b=_0x175702;_0x330a9e[_0x36781b(0x138)]();const _0x314128=_0xef60d7[_0x36781b(0x53c)]['id'],_0xeb6d5d=allQuizzesGlobal[_0x36781b(0x5ec)](_0x5ae608=>_0x5ae608['id']===_0x314128);_0xeb6d5d?(currentQuizData=_0xeb6d5d,document[_0x36781b(0x36a)](_0x36781b(0x114))['classList'][_0x36781b(0xff)](_0x36781b(0x544)),startAdminTest()):showMessage(_0x36781b(0x3c6));});}),_0xc71507[_0x23e805(0x24f)]('.quiz-bank-parallel-btn')[_0x23e805(0x4be)](_0xbf5db8=>{const _0x36f777=_0x23e805;_0xbf5db8[_0x36f777(0x125)](_0x36f777(0x6ff),_0x2b0658=>{const _0x2856e6=_0x36f777;_0x2b0658[_0x2856e6(0x138)]();const _0x2348f8=_0xbf5db8[_0x2856e6(0x53c)]['id'],_0x2b9151=allQuizzesGlobal[_0x2856e6(0x5ec)](_0x2fd9a7=>_0x2fd9a7['id']===_0x2348f8);_0x2b9151?(document['getElementById'](_0x2856e6(0x114))['classList'][_0x2856e6(0xff)](_0x2856e6(0x544)),handleGenerateParallelFromBank(_0x2b9151)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0xc71507[_0x23e805(0x24f)](_0x23e805(0x5fd))['forEach'](_0x59aae4=>{const _0x6d73f2=_0x23e805;_0x59aae4['addEventListener'](_0x6d73f2(0x6ff),_0x4e7fc2=>{const _0x3d44fd=_0x6d73f2;_0x4e7fc2[_0x3d44fd(0x138)]();const _0x382d3e=_0x59aae4['dataset']['id'],_0x44a347=allQuizzesGlobal[_0x3d44fd(0x5ec)](_0xe09ea4=>_0xe09ea4['id']===_0x382d3e);_0x44a347?(document[_0x3d44fd(0x36a)]('quiz-bank-modal')[_0x3d44fd(0x1e4)][_0x3d44fd(0xff)](_0x3d44fd(0x544)),startPresentation(_0x44a347)):showMessage(_0x3d44fd(0x3c6));});});}async function handleCompareResults(_0x1f6dea,_0x1c2562){const _0x283ae8=_0xd665bf,_0x5dd57d=document[_0x283ae8(0x36a)](_0x283ae8(0x521)),_0x3823e2=document[_0x283ae8(0x36a)](_0x283ae8(0x346)),_0xa8135c=document[_0x283ae8(0x36a)](_0x283ae8(0xab));document['getElementById'](_0x283ae8(0x500))[_0x283ae8(0x1e4)][_0x283ae8(0xff)](_0x283ae8(0x21d)),document[_0x283ae8(0x36a)](_0x283ae8(0x79c))[_0x283ae8(0x1e4)]['remove'](_0x283ae8(0x21d)),_0x3823e2[_0x283ae8(0x1e4)]['remove']('hidden'),_0xa8135c[_0x283ae8(0x1e4)][_0x283ae8(0xff)]('hidden'),_0x3823e2['innerHTML']=_0x283ae8(0xd6),_0xa8135c[_0x283ae8(0xed)]='',_0x5dd57d[_0x283ae8(0x1e4)][_0x283ae8(0x52c)](_0x283ae8(0x544));try{const _0x1aa122=doc(db,'artifacts/'+appId+_0x283ae8(0x778),_0x1f6dea),_0x44d442=await getDoc(_0x1aa122);if(!_0x44d442['exists']())throw new Error(_0x283ae8(0x498));const _0x58576e=_0x44d442[_0x283ae8(0x6a1)](),_0x29d165=_0x58576e[_0x283ae8(0xd2)][_0x283ae8(0x30f)],_0x4071d7=collection(db,_0x283ae8(0x3bf)+appId+'/public/data/quizzes/'+_0x1c2562+'/submissions'),_0x3201f1=collection(db,_0x283ae8(0x3bf)+appId+_0x283ae8(0x187)+_0x1f6dea+'/submissions'),[_0x5b1b7a,_0x256fb5]=await Promise[_0x283ae8(0x6ba)]([getDocs(_0x4071d7),getDocs(_0x3201f1)]),_0x2683ee=_0x5b1b7a[_0x283ae8(0x66a)]['map'](_0x3cd2f2=>_0x3cd2f2['data']()),_0x515b69=_0x256fb5[_0x283ae8(0x66a)]['map'](_0x1552dd=>_0x1552dd[_0x283ae8(0x6a1)]()),_0x58828d=_0x2683ee[_0x283ae8(0x6f9)](_0x557741=>_0x557741['latestScore']),_0x2f4f74=_0x515b69[_0x283ae8(0x6f9)](_0x487f56=>_0x487f56[_0x283ae8(0x4bf)]),_0x4e0282=calculateMeanAndStdDev(_0x58828d),_0xa70131=calculateMeanAndStdDev(_0x2f4f74),_0x16f338=_0x4e0282[_0x283ae8(0x3e8)],_0x5f5136=_0xa70131['mean'],_0x1dd5e2=_0x5f5136-_0x16f338;let _0x15bf10=_0x283ae8(0x46b)+_0x16f338[_0x283ae8(0x540)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x5f5136[_0x283ae8(0x540)](0x2)+_0x283ae8(0x2c2)+(_0x1dd5e2>=0x0?_0x283ae8(0x4d3):'bg-red-100')+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x1dd5e2>=0x0?'text-emerald-800':_0x283ae8(0x154))+_0x283ae8(0x46d)+(_0x1dd5e2>=0x0?_0x283ae8(0x6b4):_0x283ae8(0x30b))+'\x22>'+(_0x1dd5e2>=0x0?'+':'')+_0x1dd5e2['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x3823e2[_0x283ae8(0xed)]=_0x15bf10;const _0x33550f=document[_0x283ae8(0x36a)](_0x283ae8(0x792))[_0x283ae8(0x179)]('2d');if(chartInstances['comparison'])chartInstances[_0x283ae8(0x62a)][_0x283ae8(0xb0)]();chartInstances['comparison']=new Chart(_0x33550f,{'type':_0x283ae8(0x73f),'data':{'labels':[_0x283ae8(0x7f)],'datasets':[{'label':_0x283ae8(0x2af),'data':[_0x16f338],'backgroundColor':_0x283ae8(0x446)},{'label':'หลังเรียน','data':[_0x5f5136],'backgroundColor':_0x283ae8(0x1bf)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x29d165}}}});const _0x4daec9=currentProjectData[_0x283ae8(0x4cb)]||[],_0x28f7c7=_0x4daec9[_0x283ae8(0x6f9)](_0x60dfb6=>{const _0x454ce4=_0x283ae8,_0x51f6c5=_0x2683ee[_0x454ce4(0x5ec)](_0x1b5749=>_0x1b5749[_0x454ce4(0x724)]===_0x60dfb6),_0x3397b6=_0x515b69[_0x454ce4(0x5ec)](_0x42391b=>_0x42391b[_0x454ce4(0x724)]===_0x60dfb6),_0x11beb3=_0x51f6c5?_0x51f6c5['latestScore']:null,_0x4c71de=_0x3397b6?_0x3397b6[_0x454ce4(0x4bf)]:null,_0x437db8=_0x11beb3!==null&&_0x4c71de!==null?_0x4c71de-_0x11beb3:null,_0x308953=_0x11beb3!==null?calculateZScore(_0x11beb3,_0x4e0282['mean'],_0x4e0282['stdDev']):null,_0x5727aa=_0x4c71de!==null?calculateZScore(_0x4c71de,_0xa70131[_0x454ce4(0x3e8)],_0xa70131[_0x454ce4(0x48e)]):null,_0x3bbbb4=_0x308953!==null?calculateTScore(_0x308953):null,_0x2f693e=_0x5727aa!==null?calculateTScore(_0x5727aa):null,_0x3831b1=_0x3bbbb4!==null&&_0x2f693e!==null?_0x2f693e-_0x3bbbb4:null;return{'name':_0x60dfb6,'preScore':_0x11beb3,'postScore':_0x4c71de,'gain':_0x437db8,'preTScore':_0x3bbbb4,'postTScore':_0x2f693e,'tGain':_0x3831b1};});renderIndividualComparisonTable(_0x28f7c7,_0xa8135c);}catch(_0x451443){console[_0x283ae8(0x3ef)](_0x283ae8(0x7a4),_0x451443),_0x3823e2['innerHTML']=_0x283ae8(0x578);}}function displayHalfMarkResult(_0x17ed4c,_0x3c6dc5){const _0x4bfd11=_0xd665bf,_0x363178=_0x17ed4c>=_0x3c6dc5/0x2,_0x547220=_0x363178?_0x4bfd11(0x575):_0x4bfd11(0x69c),_0xaeedb6=_0x363178?_0x4bfd11(0x7a3):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x3f688f=_0x363178?_0x4bfd11(0x718):_0x4bfd11(0x154),_0x5197e4=_0x363178?_0x4bfd11(0x85e):_0x4bfd11(0x6ec),_0x5c02ac=_0x363178?_0x4bfd11(0x74f):_0x4bfd11(0x67f);let _0x49ae4a=_0x4bfd11(0x2f6)+_0x547220+_0x4bfd11(0x91)+_0xaeedb6+_0x4bfd11(0x5e3)+_0x3f688f+_0x4bfd11(0x70c)+_0x5197e4+_0x4bfd11(0x79)+_0x5c02ac+_0x4bfd11(0x600);studentResultArea['innerHTML']=_0x49ae4a,studentResultArea[_0x4bfd11(0x1e4)][_0x4bfd11(0x52c)](_0x4bfd11(0x544)),studentQuizArea[_0x4bfd11(0x1e4)]['add'](_0x4bfd11(0x544)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x363178});}function displayPerfectScoreResult(_0x3df121,_0x23ad2d){const _0x383c0f=_0xd665bf,_0x4360f7=_0x3df121===_0x23ad2d,_0x3af47d=_0x4360f7?_0x383c0f(0x6c7):'bg-blue-100',_0x5305de=_0x4360f7?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x383c0f(0x6e0),_0x22f3a1=_0x4360f7?_0x383c0f(0x451):_0x383c0f(0x4a9),_0x3f0cc1=_0x4360f7?_0x383c0f(0x1d7):'ยังไม่เต็มนะ',_0x569933=_0x4360f7?_0x383c0f(0x75):_0x383c0f(0x84e);let _0x3fcf6b=_0x383c0f(0x2f6)+_0x3af47d+_0x383c0f(0x91)+_0x5305de+_0x383c0f(0x5e3)+_0x22f3a1+_0x383c0f(0x70c)+_0x3f0cc1+_0x383c0f(0x79)+_0x569933+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x383c0f(0xed)]=_0x3fcf6b,studentResultArea['classList'][_0x383c0f(0x52c)](_0x383c0f(0x544)),studentQuizArea[_0x383c0f(0x1e4)][_0x383c0f(0xff)](_0x383c0f(0x544)),setupResultScreenBackButton({'showRankings':![],'score':_0x3df121,'totalQuestions':_0x23ad2d});}function renderIndividualComparisonTable(_0x3023fa,_0x2e09bc){const _0x387640=_0xd665bf;_0x3023fa[_0x387640(0x4c5)]((_0x28a81d,_0x437e25)=>(_0x437e25[_0x387640(0x636)]??-Infinity)-(_0x28a81d[_0x387640(0x636)]??-Infinity));let _0x670d0d=_0x387640(0x65a);_0x3023fa[_0x387640(0x30f)]===0x0?_0x670d0d+=_0x387640(0x32e):_0x3023fa[_0x387640(0x4be)]((_0x228638,_0x3ea13b)=>{const _0x53dbd4=_0x387640;let _0x18e92a='-',_0x226925='';if(_0x228638[_0x53dbd4(0x227)]!==null){const _0x380c9b=_0x228638[_0x53dbd4(0x227)]>0x0?_0x53dbd4(0x4e7):_0x228638[_0x53dbd4(0x227)]<0x0?_0x53dbd4(0x22d):_0x53dbd4(0x204),_0x3acce1=_0x228638['gain']>0x0?'+':'';_0x18e92a=_0x53dbd4(0x2d8)+_0x380c9b+'\x22>'+_0x3acce1+_0x228638[_0x53dbd4(0x227)]+_0x53dbd4(0x650);if(_0x228638[_0x53dbd4(0x227)]>0x0)_0x226925=_0x53dbd4(0x4c6);else _0x228638[_0x53dbd4(0x227)]<0x0?_0x226925=_0x53dbd4(0x9a):_0x226925=_0x53dbd4(0x107);}let _0x43a2d3='-';if(_0x228638[_0x53dbd4(0x636)]!==null){const _0x54f945=_0x228638['tGain']>0x0?_0x53dbd4(0x4e7):_0x228638['tGain']<0x0?'text-red-600':_0x53dbd4(0x204),_0x1f7e8e=_0x228638[_0x53dbd4(0x636)]>0x0?'+':'';_0x43a2d3=_0x53dbd4(0x2d8)+_0x54f945+'\x22>'+_0x1f7e8e+_0x228638[_0x53dbd4(0x636)]['toFixed'](0x2)+_0x53dbd4(0x650);}_0x670d0d+=_0x53dbd4(0x629)+(_0x3ea13b+0x1)+_0x53dbd4(0x3d3)+_0x228638[_0x53dbd4(0x2cf)]+_0x53dbd4(0x4c4)+(_0x228638[_0x53dbd4(0x164)]??'-')+_0x53dbd4(0x6f7)+(_0x228638[_0x53dbd4(0x4d6)]??'-')+_0x53dbd4(0x4c4)+_0x18e92a+_0x53dbd4(0x708)+_0x226925+_0x53dbd4(0x766)+(_0x228638[_0x53dbd4(0x2a4)]?.['toFixed'](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x228638[_0x53dbd4(0x28e)]?.[_0x53dbd4(0x540)](0x2)??'-')+_0x53dbd4(0x4c4)+_0x43a2d3+_0x53dbd4(0x81);}),_0x670d0d+='</tbody></table></div>',_0x2e09bc[_0x387640(0xed)]=_0x670d0d;}function handleRenameQuiz(_0x2cbfbc,_0x3d6f29){const _0x45eb2f=_0xd665bf;actionTargetId=_0x2cbfbc,document['getElementById'](_0x45eb2f(0x302))[_0x45eb2f(0x4fc)]=_0x3d6f29,renameQuizModal[_0x45eb2f(0x1e4)][_0x45eb2f(0x52c)](_0x45eb2f(0x544));}function setupComparisonModalTabs(){const _0xbf2c13=_0xd665bf,_0x4dd85c=document[_0xbf2c13(0x36a)](_0xbf2c13(0x500)),_0x2b10d3=document[_0xbf2c13(0x36a)](_0xbf2c13(0x79c)),_0x5af914=document['getElementById'](_0xbf2c13(0x346)),_0x9fbf77=document[_0xbf2c13(0x36a)](_0xbf2c13(0xab));_0x4dd85c['addEventListener']('click',()=>{const _0x2b8d8d=_0xbf2c13;_0x4dd85c[_0x2b8d8d(0x1e4)][_0x2b8d8d(0xff)](_0x2b8d8d(0x21d)),_0x2b10d3[_0x2b8d8d(0x1e4)][_0x2b8d8d(0x52c)]('active'),_0x5af914[_0x2b8d8d(0x1e4)][_0x2b8d8d(0x52c)](_0x2b8d8d(0x544)),_0x9fbf77['classList'][_0x2b8d8d(0xff)]('hidden');}),_0x2b10d3[_0xbf2c13(0x125)](_0xbf2c13(0x6ff),()=>{const _0x1f4667=_0xbf2c13;_0x2b10d3['classList'][_0x1f4667(0xff)]('active'),_0x4dd85c['classList'][_0x1f4667(0x52c)](_0x1f4667(0x21d)),_0x9fbf77[_0x1f4667(0x1e4)][_0x1f4667(0x52c)](_0x1f4667(0x544)),_0x5af914['classList'][_0x1f4667(0xff)](_0x1f4667(0x544));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x659ba8=''){const _0x4f7a54=_0xd665bf,_0x124764=document[_0x4f7a54(0x36a)](_0x4f7a54(0x25f)),_0x123a91=_0x659ba8[_0x4f7a54(0x423)]()[_0x4f7a54(0x6fe)](),_0x53d2d1=allQuizzesGlobal[_0x4f7a54(0x6f9)](_0x29660d=>({..._0x29660d,'projectName':allProjects[_0x4f7a54(0x5ec)](_0x120a0f=>_0x120a0f['id']===_0x29660d[_0x4f7a54(0x2fd)])?.[_0x4f7a54(0x9c)]||_0x29660d[_0x4f7a54(0x2fd)]}))[_0x4f7a54(0x77f)](_0x512cb5=>(_0x512cb5[_0x4f7a54(0x4bb)]||'')[_0x4f7a54(0x423)]()[_0x4f7a54(0x13e)](_0x123a91)||(_0x512cb5[_0x4f7a54(0x9c)]||'')['toLowerCase']()[_0x4f7a54(0x13e)](_0x123a91));document[_0x4f7a54(0x36a)](_0x4f7a54(0x461))[_0x4f7a54(0x41b)]='('+_0x53d2d1[_0x4f7a54(0x30f)]+_0x4f7a54(0x2e2),_0x124764[_0x4f7a54(0xed)]=_0x53d2d1[_0x4f7a54(0x30f)]?_0x53d2d1[_0x4f7a54(0x6f9)](_0x37d7fe=>_0x4f7a54(0x242)+_0x37d7fe['id']+_0x4f7a54(0x257)+(_0x37d7fe[_0x4f7a54(0x4bb)]||_0x4f7a54(0x4af))+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x37d7fe['questions']?.[_0x4f7a54(0x30f)]||0x0)+_0x4f7a54(0x4d7)+_0x37d7fe[_0x4f7a54(0x9c)]+_0x4f7a54(0x68f))[_0x4f7a54(0x2da)](''):_0x4f7a54(0x2b3),selectedGlobalQuizId=null,document[_0x4f7a54(0x36a)]('confirm-global-live-btn')[_0x4f7a54(0x526)]=!![],_0x124764['querySelectorAll']('button[data-id]')[_0x4f7a54(0x4be)](_0x34068f=>{const _0x5dd03a=_0x4f7a54;_0x34068f[_0x5dd03a(0x125)](_0x5dd03a(0x6ff),()=>{const _0x33a691=_0x5dd03a;selectedGlobalQuizId=_0x34068f[_0x33a691(0x53c)]['id'],_0x124764[_0x33a691(0x24f)](_0x33a691(0x6a5))[_0x33a691(0x4be)](_0x5e4228=>_0x5e4228['classList']['remove'](_0x33a691(0xfe),_0x33a691(0x409),_0x33a691(0x117))),_0x34068f[_0x33a691(0x1e4)][_0x33a691(0xff)](_0x33a691(0xfe),_0x33a691(0x409),'ring-purple-400'),document[_0x33a691(0x36a)](_0x33a691(0x308))[_0x33a691(0x526)]=![];});});}function listenForLiveGameUpdates(){const _0x161ebd=_0xd665bf;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x296095=doc(db,_0x161ebd(0x3bf)+appId+_0x161ebd(0x726),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x296095,_0x304dd5=>{const _0x5052ca=_0x161ebd;if(!_0x304dd5['exists']()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x455cd2=_0x304dd5[_0x5052ca(0x6a1)]();!currentQuizData&&_0x455cd2[_0x5052ca(0x3a0)]&&((async()=>{const _0x1971fc=_0x5052ca;try{const _0x14e3ee=doc(db,'artifacts/'+appId+_0x1971fc(0x778),_0x455cd2[_0x1971fc(0x3a0)]),_0x5c5348=await getDoc(_0x14e3ee);_0x5c5348['exists']()&&(currentQuizData={'id':_0x5c5348['id'],..._0x5c5348[_0x1971fc(0x6a1)]()});}catch(_0x5a3102){console[_0x1971fc(0x3ef)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x5a3102);}})());switch(_0x455cd2[_0x5052ca(0x644)]){case _0x5052ca(0x31e):if(currentMode===_0x5052ca(0x754)){const _0x56843a=_0x455cd2[_0x5052ca(0x2f3)]?Object[_0x5052ca(0x7bb)](_0x455cd2[_0x5052ca(0x2f3)]):[];document[_0x5052ca(0x36a)](_0x5052ca(0x7f3))[_0x5052ca(0x41b)]=_0x56843a[_0x5052ca(0x30f)],document[_0x5052ca(0x36a)](_0x5052ca(0x3e4))[_0x5052ca(0xed)]=_0x56843a['map'](_0x191c58=>_0x5052ca(0x535)+_0x191c58+_0x5052ca(0x650))[_0x5052ca(0x2da)]('');const _0x4d8d98=document[_0x5052ca(0x36a)](_0x5052ca(0x800));_0x4d8d98&&(_0x4d8d98[_0x5052ca(0x526)]=_0x56843a[_0x5052ca(0x30f)]===0x0);}else showView(_0x5052ca(0x7d)),liveGameView[_0x5052ca(0xed)]=_0x5052ca(0x106)+currentStudentName+_0x5052ca(0x4b9);break;case _0x5052ca(0x178):const _0x43e736=_0x455cd2[_0x5052ca(0x435)];if(currentQuizData&&currentQuizData[_0x5052ca(0xd2)][_0x43e736]){const _0x579a95=currentQuizData['questions'][_0x43e736],_0x4dc4a2=currentQuizData[_0x5052ca(0xd2)][_0x5052ca(0x30f)];if(currentMode===_0x5052ca(0x754)){lastRenderedAdminQuestionIndex!==_0x43e736&&(showAdminLiveQuestionView(_0x579a95,_0x43e736,_0x4dc4a2),lastRenderedAdminQuestionIndex=_0x43e736);const _0x39d58c=document[_0x5052ca(0x36a)](_0x5052ca(0x41e));if(_0x39d58c&&_0x455cd2[_0x5052ca(0x2f3)]){const _0x3621db=Object[_0x5052ca(0x7bb)](_0x455cd2[_0x5052ca(0x2f3)])[_0x5052ca(0x30f)],_0x5406ca=Object[_0x5052ca(0x3d2)](_0x455cd2[_0x5052ca(0x2f3)])[_0x5052ca(0x77f)](_0x5834f0=>_0x5834f0[_0x5052ca(0x842)]===!![])[_0x5052ca(0x30f)];_0x39d58c[_0x5052ca(0x41b)]=_0x5406ca+'/'+_0x3621db,_0x3621db>0x0&&_0x5406ca===_0x3621db&&_0x455cd2[_0x5052ca(0x780)]!=='revealed'&&revealAnswerForAdmin(_0x43e736,_0x4dc4a2);}}else{const _0x1b0231=_0x455cd2[_0x5052ca(0x2f3)][currentStudentName];if(_0x455cd2['questionStatus']==='revealed'){if(_0x1b0231['answeredCurrentQuestion']){const _0xbd8e63=_0x1b0231[_0x5052ca(0x5ef)],_0x4d9a73=_0x1b0231[_0x5052ca(0x6c5)]||0x0,_0x5617f1=_0xbd8e63?_0x5052ca(0x250)+_0x4d9a73+_0x5052ca(0x626):'คำตอบผิด';liveGameView[_0x5052ca(0xed)]=_0x5052ca(0x280)+_0x5617f1+_0x5052ca(0x11f);}else liveGameView[_0x5052ca(0xed)]=_0x5052ca(0x46a);}else!_0x1b0231[_0x5052ca(0x842)]&&showStudentLiveQuestionView(_0x579a95,_0x43e736,_0x4dc4a2);}}break;case _0x5052ca(0x4c3):showPodiumView(_0x455cd2[_0x5052ca(0x2f3)]);break;}});}async function authenticateUser(){const _0x118602=_0xd665bf;try{typeof __initial_auth_token!==_0x118602(0x3b5)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x5c3cea){console['error']('Authentication\x20failed:',_0x5c3cea),showMessage('การยืนยันตัวตนล้มเหลว');}}function _0x5e10(){const _0x1b0144=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','comparison-chart','change','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-project-leaderboard-table-body','ตรวจพบการออกจากหน้าจอครบ\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-tab','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElement','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','per-q-countdown','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','Error\x20comparing\x20results:','สร้างโปรเจคสำเร็จ!','red','ตรีโกณมิติ','project-list','font-bold','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','baseVal','backgroundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','$1\x5cfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','timer-duration-container','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','bg-green-50','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22question','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option\x20value=\x22','upper_group_count','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.score','1139174gtwPYm','keys','per-question-text','.topic-name-display','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','close-lesson-plan-modal-footer-btn','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','onclick','text-input-area','isStarred','การกระจายและการจัดหมู่','จุด\x20เส้น\x20ระนาบ','timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','toDate','check-presentation-answer-btn','include-images-checkbox','ปริมาตร/ความจุและการแปลง','text-green-600\x20font-bold','correctAnswerIndex','ตัวแปรและนิพจน์','การแปลงรูปอัตลักษณ์','Error\x20loading\x20user\x20preferences:','_opt','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','พิสัย','fill_in_no_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','label','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','classWeaknesses','presentation-modal','analytics-tab-content','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','div','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-pin-input','1:274192258111:web:4120c9118229b5644dd48a','half_mark_status','flex','student','questionDisplayedAt','.toggle-actions-btn','.copy-quiz-id-list-btn','close-lesson-plan-modal-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','authed_project_','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x20หัวข้อ)','close','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','player-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getBoundingClientRect','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-quiz-status-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','answer-grid-container','Error\x20regenerating\x20question\x20in\x20editor:','<li\x20class=\x22','toLocaleString','start-game-btn','แก้ไขหัวข้อสำเร็จ','bg-red-100\x20text-red-800','leaderboard','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','name_desc','fullscreenchange','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','show_results_and_answers','.choice-text','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','progress-project-select','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20toggling\x20pin\x20status:','\x5ccdot','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','join-live-game-btn','target','กราฟฟังก์ชันตรีโกณ','hasOwnProperty','project-id-display','\x22\x20สำเร็จ','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20visibility\x20settings:','message-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','force-math-checkbox','geq','\x5ctimes','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','Error\x20during\x20class\x20analysis:','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','Error\x20verifying\x20answers\x20in\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','justification','ควรปรับปรุง','เกิดข้อผิดพลาดในการลบโปรเจค','/questionBank','Leaderboard\x20update\x20transaction\x20failed:\x20','input[name=\x22drill_answer\x22]:checked','.cancel-edit-topic-btn','^{\x5ccirc}\x5ctext{C}$','approx','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','short','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[contenteditable=\x22true\x22]','text-red-700','ลบโปรเจคสำเร็จแล้ว','split','ไม่ผ่าน','การลบ','matching_item','loader','update-old-quizzes-btn','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','<div\x20class=\x22mb-3\x20topic-category\x22>','move','numeric','answeredCurrentQuestion','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','หน่วยความยาวและการแปลง',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','focus','127968jmNbnM','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','ไม่ใช่','normal','create-project-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','upperGroupResponders','quiz-leaderboard-table','\x22\x20value=\x22true\x22\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','manage-tab-content','parts','</p><div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','quick_thinker','lesson-plan-content','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pinnedProjects','.quiz-settings-btn','สมการราก\x20(radical)','ทำคะแนนได้เกินครึ่ง','\x20ตัวเลือก.\x20','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getItem','fa-pen','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','สุดยอด!\x20ตอบถูกทุกข้อ','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleDateString','/studentProfiles','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','json','write','องค์ประกอบของฟังก์ชัน','live-game','เรขาคณิตวิเคราะห์','คะแนนเฉลี่ย','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','index','perQuestionStats','$1\x5ctimes','setAttribute','rgba(79,\x2070,\x20229,\x200.8)','กรุณาใส่ชื่อใหม่','student-initial-view','auto-fix-latex-btn','.answer-text','.delete-student-btn','specialist','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนและการดำเนินการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.duplicate-quiz-btn','drill-feedback','_opt1\x22>ไม่ใช่</label></div>','grid-view-btn','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','selected-topics-count','projectName','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','$1\x5c%','svg','modal-message','Error\x20processing\x20file\x20for\x20AI:','Error\x20resetting\x20project\x20order:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','ความสัมพันธ์ของมุม','pre-test','student-project-leaderboard-content','wakeLock','standardTopic','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','ตอบถูก\x203\x20ข้อติดต่อกัน','comparison-individual-content','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','substring','30249umBQQX','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','destroy','คัดลอกรหัสแล้ว!','raw','สำหรับโปรเจค:\x20','modal-shuffle-select','พิมพ์ตอบ','back-to-home-manual-release','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','quiz-id-input','text-green-900','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','แก้ไขข้อนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','input','แผนภาพกล่อง\x20(box\x20plot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','perseverance','การหารทศนิยม','2-digit','ลำดับเรขาคณิต\x20(GP)','save-quiz-btn','next-live-question-btn','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','Error\x20saving\x20to\x20question\x20bank:','.question-editor-item','height','วงกลม:\x20คอร์ดและเส้นสัมผัส','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','timerDuration','questions','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-image-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','load-quiz-btn','ยังไม่มีนักเรียนส่งงาน','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x5cs*\x5c(','$1^{\x5ccirc}\x5ctext{C}','ไม่พบข้อมูลผู้ใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการตรีโกณมิติ','สอบปกติ','ความเป็นอิสระของเหตุการณ์','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','originalTopic','dispatchEvent','firstScore','isAdaptive','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','contents','.color-palette-btn','innerHTML','text-indigo-700','bg-red-50','modal-timer-duration-container','Error\x20saving\x20quiz:','verify-answers-editor-btn','deg','projectOrder','ย้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สี่เหลี่ยม','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','passingScore','\x22\x20data-q-type=\x22','ai-quiz-app-aefee.firebaseapp.com','พีชคณิตและฟังก์ชัน','show_results_only','bg-purple-50','add','แผนการสอน:\x20','setItem','top','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','export-leaderboard-image-btn','</tr>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','(หลังเรียน)\x20','fa-shield-alt\x20text-gray-600','.doc','ส่วนเบี่ยงเบนเฉลี่ย','.edit-question-btn','color','student-name-selection-view','cancel-delete-btn','print','promptFeedback','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-bank-modal','text-white','questionId','ring-purple-400','fullscreenElement','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','สร้างคำถามแบบใช่/ไม่ใช่','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','difficulty-level-select','.regenerate-question-editor-btn','.\x20แต่ละข้อมี\x20','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','mjx-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่สามารถสร้างโปรเจคได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','addEventListener','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-password-modal','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','link-url-input','student-progress-content','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','หัวข้อที่สร้างเอง','back-to-dashboard-btn','end-game-btn','รูปสี่เหลี่ยมและสมบัติ','\x22\x20data-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ฟังก์ชันผกผัน','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','removeChild','answering','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>','stopPropagation','line-through\x20text-red-700','#view-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','includes','admin-try-quiz-btn','innerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac{','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','เกิดข้อผิดพลาดในการสร้างใบงาน','msExitFullscreen','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','เงินงวด\x20(อนุกรมเงินงวด)','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x20ครั้ง)</span></td>','/public/data/projects','sin','บันทึกพฤติกรรมสำหรับ\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','ความคล้ายของรูป','รอเปิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-red-800','ความเท่ากันทุกประการของสามเหลี่ยม','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','confirm-admin-login-btn','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','Error\x20adding\x20students:','touchend','</tbody></table>','Error\x20listening\x20for\x20starred\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','student-rankings-modal','then','clientY','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','random','text','preScore','ฟังก์ชันลอการิทึม','แบบทดสอบ:\x20','className','<div\x20id=\x22q-image-container-','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','qIndex','onerror','<i\x20class=\x22fas\x20fa-save\x22></i>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','name_asc','วงรี','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','ตัวประกอบและตัวประกอบเฉพาะ','Error\x20updating\x20custom\x20topic:','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','\x5cdiv','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','question','getContext','typesetPromise','quiz','font-bold\x20text-green-700','.delete-custom-topic-btn','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-display-select','show-in-student-dashboard-checkbox','.admin-try-quiz-list-btn','<option>กำลังโหลดโปรเจค...</option>','ทศนิยม\x20(ค่าประจำหลัก)','\x20mx-1\x20text-lg\x22></i></span>','/public/data/quizzes/','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','copy','Error\x20unpairing\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','9079GloMQv','list','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','projectView','questions_only','เรขาคณิต','Error\x20saving\x20questions\x20to\x20practice\x20bank:','quiz-search-input','keyup','num-choices-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','ai-quiz-app-aefee','visible','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','ไม่สามารถเพิ่มนักเรียนได้','บันทึกการตั้งค่าสำเร็จ','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','ความชันและเส้นตรง','showRankings','การปัดเศษและประมาณค่า','กฎของโคไซน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','2330JDMmAV','keydown','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-content-input','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-excel-btn','modal-adaptive-quiz-checkbox','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20','ระยะเวลา\x20(วินาที):','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะจากจุดถึงเส้นตรง','student-quiz-area','quiz-generation-area','พื้นที่วงกลม/ส่วนของวงกลม','application/json','อสมการค่าสัมบูรณ์','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item[data-q-index=\x22','currentTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ผ่านฉลุย','ชนิดของข้อมูลและการเก็บข้อมูล','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','rgba(16,\x20185,\x20129,\x200.7)','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','fill_in_with_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/practiceBank','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','readAsDataURL','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','exists','q-image-container-','times','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','สมการค่าสัมบูรณ์','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20-\x20','\x22><p\x20class=\x22font-semibold\x22>','bg-amber-100\x20text-amber-800','back-from-results-btn','text-gray-300\x20hover:text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนเต็ม!','ความคาดหมาย\x20(Expected\x20value)','badgesCount','scores-tab-btn','per-question-options','confirm-join-game-btn','hint-btn','reset-project-order-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','classList','jspdf','projectSortOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','lower_group_count','\x20สำเร็จ:\x20','แผนภาพเวนน์','เกิดข้อผิดพลาดในการเข้าร่วมเกม','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','date_asc','quiz-results','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','export-worksheet-pdf-btn','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','candidates','27411472','quizType','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','text/html','close-game-final-btn','เซียนสมองไว','delete-svg-btn','fas\x20fa-star\x20text-yellow-500','อนุพันธ์:\x20กฎพื้นฐาน','เกิดข้อผิดพลาดในการอัปเดต:\x20','\x22><i\x20class=\x22fas\x20','correctResponse','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','questionIndex','live-submit-short-answer-btn','text-gray-500','btn','.delete-svg-btn','student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','</span></div>','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','<br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','practice-topic-btn','แบบทดสอบจากคลังส่วนตัว','leq','analytics-summary-cards','answer','settings','%</span>','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','\x20ข้อ\x20','ai-quiz-app-aefee.appspot.com','analytics-tab-btn','revealed','element','active','\x5cle','loopUntilPass','solution','both','พบข้อสอบ\x20','short_answer','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','confirmation-modal','\x20จาก\x20','gain','per-question-timer-container','back-to-student-home-btn','Error\x20deleting\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-quiz-bank-btn','text-red-600','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','</label>\x0a\x20\x20\x20\x20</div>\x0a','results_','results','Error\x20generating\x20from\x20link:','confirm-rename-quiz-btn','createdAt','timer-bar','icon','QUICK_THINKER','check-answer-btn','findIndex','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','countdown-display','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','mouseup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','ผลรวมอนุกรม\x20(Σ)','Error\x20generating\x20quiz:','back-to-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','dfrac','matching','generate-worksheet-btn','attempts','ไม่มีคำอธิบาย','leaderboard_','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','passcode','#10B981','deselect-all-topics-btn',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','warn','querySelectorAll','คำตอบถูกต้อง!\x20+','get','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','key','ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','date_desc','.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','indexOf','cancel-quiz-bank-btn','confirm-create-project-btn','global-quiz-list','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','border-red-700','PERFECT_SCORE','การลบทศนิยม','ยังไม่ส่ง','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','.rename-quiz-btn','student-view','fill_in_the_blank','perfect_score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','slice','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','หมดเวลาสำหรับข้อนี้!','release','entries','admin-action-buttons','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','export-word-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-project-btn','<button\x20id=\x22','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','select-all-topics-btn','globalSettings','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','<p\x20class=\x22','\x20\x0a\x20\x20\x20\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','AI\x20request\x20was\x20blocked.\x20Reason:\x20','จากไฟล์ที่แนบมานี้,\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','แคลคูลัสเบื้องต้น','สมการลอการิทึม','num-choices','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','showImproveButton','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-quiz-settings-btn','touchmove','presentation-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','postTScore','block','left','fa-user-astronaut\x20text-blue-700','dashboardConfig','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','</p>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','workerSrc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','catch','doughnut','querySelector','student-passcode-input','สร้างใหม่','password-error-msg','q-explanation-','เพิ่มหัวข้อ\x20\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.generate-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','preTScore','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insertAdjacentHTML','ระบบเลขและค่าประจำหลัก','prev-question-btn','กฎบวกและกฎคูณ','Error\x20moving\x20quiz:','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','body','ก่อนเรียน','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','admin-dashboard','#E5E7EB','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','opacity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการโหลดสถานะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','สร้างแบบทดสอบปรนัย','fas\x20fa-user-edit','confirm-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','project-detail-view','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','mode-switcher-btn','endTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','#FFFFFF','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','.pointsLastQuestion','questionType','loader-text','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','slide-counter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','name','parse','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','ศูนย์','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','live-game-view','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','Error\x20saving\x20project\x20order:','project-detail','<span\x20class=\x22font-bold\x20','G-V90KRM0L63','join','ตอบถูกทุกข้อในแบบทดสอบนี้','#retake-for-improvement-btn','bank-quiz-list','startTime','text-tab','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','.edit-quiz-btn','\x20ชุด)','admin-testing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','link-input-area','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','cancel-passcode-btn','project-passcode-modal','hint','</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','beforeend','ส่งคำตอบ','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','players','เกิดข้อผิดพลาดในการบันทึก','export-tutor-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','global-quiz-search-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','arrayBuffer','การประยุกต์เวกเตอร์พื้นฐาน','เกิดข้อผิดพลาดในการลบหัวข้อ','projectId','uid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ref','rename-quiz-input','ดอทโปรดักต์\x20(dot)','ผู้ควบคุม\x20(ทดสอบ)','<li>','teacherSuggestions','รูปแบบการให้เหตุผล','confirm-global-live-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','student-quiz-leaderboard-content','text-red-900','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คณิตศาสตร์','mousedown','length','smooth','\x22\x20data-pre-test-id=\x22','isLooping','การคูณทศนิยม','touches','project-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','student-progress-view','analyze-strengths-btn','.start-live-race-btn','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','totalQuestions','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','abs','lobby','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','lowerGroupNames','presentation-explanation','Error\x20fetching\x20quiz\x20settings:','เลือกโปรเจคเพื่อบันทึก','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','cancel-test-btn','onchange','.verification-result','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20updating\x20project\x20color:','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','FIRST_TRY_ACE','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','การสร้างรูปด้วยวงเวียน–สันตรง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','per_question','submission-status-chart','.ideal-answer-input','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','[data-is-correct=\x22true\x22]','lesson-plan-modal','some','ownerSVGElement','แก้ระบบสมการด้วยเมทริกซ์','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','comparison-overall-content','POST','startsWith','passcode-prompt-message','Error\x20updating\x20sort\x20preference:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','timer-mode-select','Error\x20saving\x20settings:','image/png','Enter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','/public/data/customMathTopics','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','.verification-result-editor','\x20ช่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','):\x20','สมมาตร\x20(แกน/จุด)','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','ลบหัวข้อสำเร็จ','fas\x20fa-bookmark','log','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','\x20mr-2\x22></i>','open','ทำคะแนนเต็มในการทำครั้งแรก','bg-green-200\x20text-green-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','num-questions','getElementById','timerMode','worksheet-topic-input','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','.live-answer-btn','stem','text-purple-600','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','editable-quiz-topic','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','กรุณาเลือกไฟล์ก่อน','text-red-500\x20hover:text-red-700','\x20รายการสำเร็จ!','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','พาราโบลา','อนุพันธ์:\x20กฎลูกโซ่','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','behavior-log-tab-content','bank-quiz-search-input','<button\x20data-quiz-id=\x22','ร้อยละพื้นฐาน','leaderboard-table-body','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','.start-presentation-list-btn','.correctStreak','ฟังก์ชันเชิงเส้นและกราฟ','ไม่ได้ตอบ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x20คู่\x20','text-gray-700','[role=\x22textbox\x22]','Error\x20starting\x20game:','อนุพันธ์:\x20ผลคูณ/ผลหาร','generate-from-file-btn','results-quiz-id-display','ฟังก์ชันยกกำลัง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','perfect_score_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','ผู้เชี่ยวชาญ','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','คำถามดิบ:\x20\x22','เปลี่ยนชื่อแบบทดสอบสำเร็จ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','สถิติและความน่าจะเป็น','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','Error\x20loading\x20quiz\x20for\x20student:','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','quizId','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','createObjectURL','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','/preferences/main','<tr>','_opt1\x22\x20name=\x22question','ย้ายแบบทดสอบสำเร็จ','content','</li>','bg-green-300','การจัดกลุ่มข้อมูล','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','border-green-700','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','ไม่สามารถโหลดรายการโปรเจคได้','commit','ตรวจคะแนนใหม่\x20','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรเดียนและการแปลงหน่วย','undefined','จากเนื้อหาต่อไปนี้:\x20\x22','closest','leaderboard-quiz-tab-btn','.regenerate-question-btn','fa-rocket\x20text-purple-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','#DBEAFE','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','ไม่พบแบบทดสอบ','artifacts/','การวัด','math-topic-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','616KUZgcp','repeat','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ไม่พบข้อมูลแบบทดสอบ','.edit-custom-topic-btn','export-pdf-modal','ร้อยละประยุกต์','กรุณาเลือกชื่อของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','behaviorLog','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-search-input','values','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','earned-badges-container','input[type=\x22text\x22]','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x22.\x20Ideal\x20Answer:\x20\x22','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','from','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','สรุปผลการวิเคราะห์:\x5cn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','13677312ioiLpu','จำนวนคละ','Error\x20generating\x20from\x20blueprint:','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','player-list-lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ข้อต่อไป','mean','มุมพิเศษ\x2030°-60°-90°','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','.unpair-quiz-btn','dragstart','รากที่สองและที่สาม','error','webkitRequestFullscreen','explanation','confirmation-message','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','text-blue-700','เกิดข้อผิดพลาดในการโหลดโปรเจค','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','$1^{\x5ccirc}','getBBox','กำลังสร้างแบบทดสอบจากหัวข้อ...','จำนวนนักเรียน','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','presentation-slide-container','flex\x20flex-col\x20gap-2','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','teachingContent','timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','imageCode','.topic-category','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ring-2','student-reading-area','ยืนยันการกระทำ','\x22\x20data-topic=\x22','.parallel-quiz-btn','.project-card-content','เกิดข้อผิดพลาด:\x20','starred','แบบทดสอบซ่อมเสริม','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','thead\x20.sortable-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนดสำคัญ:\x20สำหรับแต่ละข้อที่สร้าง\x20จะต้องมีข้อมูลต่อไปนี้ให้ครบถ้วนเสมอ:\x20questionText\x20(สำหรับโจทย์),\x20questionType,\x20options\x20(กรณีปรนัย),\x20correctAnswerIndex\x20(กรณีปรนัย),\x20idealAnswer\x20(กรณีเติมคำ),\x20และ\x20explanation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','confirm-delete-btn','topic-input','หน่วยเวลาและการคำนวณเวลา','textContent','Error\x20listening\x20for\x20student\x20profiles:','ค.ร.น.\x20(LCM)','answer-counter','after','user-id-display','การเรียงสับเปลี่ยน\x20(Permutation)','.csv','toLowerCase','dimmed','bank-input-area','createElementNS','STRING','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','Invalid\x20response\x20structure\x20from\x20AI.','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','contains','user','actions-container-','ON_FIRE','อัปเดตแบบทดสอบเก่า\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','Error\x20verifying\x20answers:','cancel-rename-quiz-btn','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','currentQuestionIndex','total','.topic-actions-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แบบทดสอบนี้หมดเวลาแล้ว','\x20รายการ...','</form>','project-dashboard-view','passing-score-input','.quiz-result-card','live-options-container','getAttributeNS','onload','ใช่','bg-blue-100\x20text-blue-800','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','rgba(59,\x20130,\x20246,\x200.7)','thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22space-y-4\x22>','save-settings-btn','none','modal-loop-until-pass-checkbox','far\x20fa-star','floor','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','text-yellow-800','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','ฟังก์ชันราก\x20(root)','shuffle-setting-select','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','```json','border-green-300\x20bg-green-50','setFont','generate-from-link-btn','กำลังอ่านและเตรียมไฟล์...','#F59E0B','answers','fa-crown\x20text-yellow-500','Original\x20quiz\x20not\x20found','blueprint-upload-input','BOOLEAN','global-live-game-count','href','cdot','Remedial\x20quiz\x20generation\x20failed:','.quiz-bank-item','sqrt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','now','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','หน่วยมวล/น้ำหนักและการแปลง','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','-tab','div[data-question-index=\x22','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','close-comparison-modal-footer-btn','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','submissions','จับคู่แบบทดสอบสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','คณิตการเงิน/บูรณาการ','instructions','.pin-project-btn','visibilityState','correct','points','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','#F3E8FF','project-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','scores','first_try_ace','cloneNode','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isPinned','answerText','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','\x22>จาก:\x20','export-compact-pdf-btn','false','comeback_king','stdDev','verify-answers-btn','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','ไฮเพอร์โบลา','start-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-bolt\x20text-blue-500','.delete-project-btn','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','ไม่พบข้อมูลข้อสอบหลังเรียน','type','binom','q-text-','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','#ffffff','insertBefore','กำลังวิเคราะห์ข้อสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','items','bestScore','underline','ยอดเยี่ยม','.project-card-container.opacity-50','ปริพันธ์จำกัด','test','text-blue-800','.answeredCurrentQuestion','.topic-name-input','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','กรุณาเลือกคำตอบก่อนครับ','(ไม่มีชื่อ)','ค่าคลาดเคลื่อนของการวัด','asc','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สร้างคำถามแบบเติมคำในช่องว่าง','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>',';\x22\x20data-id=\x22','\x20ใหม่...','timer-duration-input','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','multiple_choice','topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','\x5c\x5c\x5c\x5c(?=(','forEach','latestScore','สเกลและแผนที่','Error\x20deleting\x20project:','export-leaderboard-word-btn','podium','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','sort','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','suggestedAnswer','fa-dumbbell\x20text-gray-700','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','274192258111','students','data:application/vnd.ms-word;charset=utf-8,','save-visibility-settings-btn','getDocument','.color-palette-popup','quiz-leaderboard-table-body','targetId','</div>','bg-emerald-100','string','โดเมนและเรนจ์','postScore','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','Error\x20duplicating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','cancel-admin-login-btn','grid','manual_release','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','padStart','pow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','classStrengths','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','close-comparison-modal-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','message','(ก่อนเรียน)','text-green-600','/users/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตารางความถี่','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','results-table-container','student-quiz-topic','katex','.topic-row','draggable-text','Error\x20generating\x20parallel\x20post-test:','view-my-progress-btn','.live-answer-btn,\x20#live-submit-short-answer-btn','opacity-50','sum','\x22\x5cn','#D1FAE5','<p\x20class=\x22font-bold\x20text-sm\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','parallel-test-upload-input','เกิดข้อผิดพลาดในการลบนักเรียน','value','[data-topic-container-id]','<span\x20title=\x22','math-topics-checkbox-container','comparison-overall-tab','mixed','Error\x20generating\x20parallel\x20test\x20from\x20bank:','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','export-excel-btn','totalPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','สอบซ่อม','scrollY','ไม่พบตารางสำหรับ\x20Export','มัธยฐาน','\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','Error\x20fetching\x20student\x20rankings:','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','ไม่สามารถเริ่มเกมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','blueprint-input-area','overallGroups','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22.\x20','update','Invalid\x20response\x20structure\x20from\x20AI:','/submissions','standard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','modal-passing-score-input','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','(ก่อนเรียน)\x20','อุณหภูมิและการแปลง','timestamp','comparison-modal','ไม่สามารถโหลดข้อมูลอันดับได้','parent','text-green-700','tan','disabled','blueprint-tab','exitFullscreen','function','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','```','remove','ลำดับเลขคณิต\x20(AP)','student-join-game-view','วงกลม:\x20สมการและสมบัติ',')\x5cb)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bottom','qType','analytics','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','add-student-btn','ที่พิมพ์ได้\x20จำนวน\x20','attemptNumber','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','dataset','#math-topics-checkbox-container\x20input:checked','result','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toFixed','start-quiz-btn','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','hidden','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','</strong></p>','editor-quiz-topic','project-title','\x22,\x20','originalQuestionText','\x20/\x20','parseFromString','learningGaps','เลือกและบันทึก','(^|[^\x5c\x5c])\x5cb','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','questionText','font-bold\x20text-red-700\x20line-through','จำนวนเต็มบวก','submittedAt','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','border-green-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','isCorrect','outerHTML','rows','prod','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','finishReason','.sort-indicator','bg-green-100\x20text-green-800','open-global-live-btn','question-complexity-select','ปิดใช้งาน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x5csqrt{$1}','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','projectSort','จับคู่เพื่อเปรียบเทียบผล','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','ความชันเส้นสัมผัส','strength-weakness-analysis-container','min','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x22\x20name=\x22question_single\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a---\x0a','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','pairedQuizId','quiz-schedule-start-container','Re-grade\x20process\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ค่าความจริง/ตารางค่าความจริง','สามเหลี่ยม\x20(ชนิด/สมบัติ)','project-sort-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการปักหมุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</body></html>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','NUMBER','visibilitychange','has','#results-table\x20thead\x20tr','00:00','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','str','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','list-view-btn','add-custom-math-topic-btn','export-lesson-pdf-btn','STOP','.delete-quiz-btn','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20',',\x20r=','คะแนน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','(คัดลอก)\x20','-\x20ข้อ\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','preTestId','files','retake-quiz-loop-btn','idealAnswer','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20call\x20failed\x20with\x20status:\x20','สร้างชุดคำถามจับคู่','next-drill-btn','.project-card-container[data-id]','กรุณาเลือกโปรเจคปลายทาง','ท็อปฟอร์ม','mousemove','max','fixed','การหารเศษส่วน','OBJECT','student-result-area','สร้างแบบทดสอบ','bg-red-200\x20text-red-800','stringify','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','fill','เมทริกซ์:\x20บวก/คูณ','quiz-leaderboard-table-container','custom-math-topic-input','<tr><td\x20colspan=\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','th-TH','บันทึกการแก้ไข','helvetica','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','reference-pdf-upload','appendChild','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','submission','student-quiz-leaderboard-table-body','global-live-game-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','display','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','interesting-stats-container','quiz-editor-questions-container','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','desc','Error\x20deleting\x20all\x20students:','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','สร้างคำถามใหม่\x201\x20ข้อ\x20','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','save-quiz-edits-btn','text-red-700\x20bg-red-100','อัตราการเปลี่ยนแปลงทันที','msRequestFullscreen','กฎของไซน์','manage-tab','modal-results-display-select','กำลังอัปเดตแบบทดสอบ\x20','scrollX','หยุดระบบจับเวลาหรี่หน้าจอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','การแยกตัวประกอบ','การบวกทศนิยม','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','resultsDisplay','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea','cancel-global-live-btn','find','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','lastAnswerCorrect','ARRAY','shuffleSetting','cursor','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','_blank','ไม่มี','cancel-quiz-status-btn','question-analytics-container','Error\x20updating\x20old\x20quizzes:','1122124wZQRfb','</p><p><strong>เฉลย:</strong>\x20','empty','match','.quiz-bank-present-btn','.pdf','afterend','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20fetching\x20project\x20quizzes:','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','reveal-answer-btn','การคูณเศษส่วน','presentation-ai-result','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','.draggable-text','student-name-input','file-input-area','input[type=\x22checkbox\x22]','style','requestFullscreen','อัตราส่วนและสัดส่วน','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','width','ฐานนิยม','Error\x20updating\x20quiz\x20status:','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','คะแนนเต็ม','schedule','replace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','link-topic-input','latestSubmittedAt','1xJQTcZ','isRemedial','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','modal-close-btn','สมการเหตุผล\x20(rational)','\x22\x20value=\x22','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','option','players.','\x20คะแนน','\x5cfrac','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','comparison','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.group','confirm-quiz-settings-btn','ผ่าน','isArray','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','student-name-select','tGain','quiz-schedule-end-container','cos','text-gray-200','whole_quiz','scores-tab-content','true_false','options','<div\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','บันทึกคำถามใหม่\x20','.project-card-container:not(.opacity-50)','nickname-input','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','status','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','allResponses','submit','no-projects-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-short-answer-input','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','-tab-content','.generate-post-test-btn','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>','NEGATIVE_INFINITY','.save-custom-topic-btn','setAttributeNS','isPasscodeEnabled','\x5cge','quiz-type-select','modal-timer-duration-input','show_pass_fail_only','#student-quiz-leaderboard-content\x20thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','parallel-test-input-area','results-quiz-title','cancel-quiz-edits-btn-footer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้ไม่ยอมแพ้','scheduled_pending','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','Error\x20saving\x20quiz\x20edits:','คำถามถัดไป','rgba(79,\x2070,\x20229,\x201)','loop-until-pass-checkbox','ไม่พบแบบทดสอบในระบบเลย','student-quiz-leaderboard-tab','post-test','docs','$1\x5ctext(','export-leaderboard-pdf-btn','editable-text-','class','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','promise','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','score','<tr\x20class=\x22','bg-white/30','http://www.w3.org/2000/svg','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.presentation-option','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','delete','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังจับคู่...','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','สู้ๆ\x20ลองอีกครั้งนะ','Firebase\x20initialization\x20failed:','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','Error\x20fetching\x20quiz\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','fa-fire\x20text-orange-500','กรุณาใส่ชื่อโปรเจค','ดีเทอร์มิแนนต์','Error\x20deleting\x20quiz:','คัดลอกแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','ค่าสัมบูรณ์','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','ลบแบบทดสอบสำเร็จแล้ว','leaderboard-quiz-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','(เลือกแล้ว\x20','cancel-move-quiz-btn','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preventDefault','confirm-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','bg-red-100','480594pKiTok','modal-timer-mode-select','.option-text','dragover','data','start-live-race-generated-btn','.quiz-bank-try-btn','showInStudentDashboard','button',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','create-from-bank-btn','.correct-response-input','lesson-plan-title','results-table','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','กรุณาป้อนรหัสแบบทดสอบ','เกิดข้อผิดพลาดในการสร้างห้องเกม','ปริมาตรรูปทรงสามมิติ','quiz-results-view','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','cancel-create-project-btn','text-yellow-300','text-emerald-900','file-upload-input','ทฤษฎีบทพื้นฐานของแคลคูลัส','<option\x20value=\x22\x22>กำลังโหลด...</option>','position','</th>','all','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','ฟังก์ชันค่าสัมบูรณ์','correctAnswer','download','document','แบบทดสอบที่ติดดาว','quizMode','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','pointsLastQuestion','leaderboard-quiz','bg-yellow-100','จำนวนเชิงซ้อน\x20(เสริม)','#E0E7FF','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','เกิดข้อผิดพลาดในการบันทึกลำดับ','text/csv;charset=utf-8;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','</td></tr>','select','สมการเชิงเส้นตัวแปรเดียว','checked','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','enable-passcode-checkbox','Error\x20deleting\x20custom\x20topic:','save','viewBox','title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','[*]','toString','localeCompare','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','กรุณาเลือกสถานะ','contentEditable','</span></p>','การนับ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','quiz-editor-modal','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','blockReason','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','MathJax','</td>','คะแนนยังไม่ถึงครึ่ง','ค่าเฉลี่ย','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','<div\x20class=\x22answer-space\x22></div>','quiz-start-time','screen','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','delete-all-students-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','/public/data/projects/','map','N/A','5bkqCpS','description','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','trim','click','กำลังดึงข้อมูลจากลิงก์...','input[type=\x22checkbox\x22]:checked','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','Error\x20displaying\x20question\x20bank:','reduce','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','on_fire','\x22\x20class=\x22pin-project-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20mb-2\x22>','removeEventListener','badges','bg-green-100\x20font-bold','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','การแจกแจงทวินาม\x20(พื้นฐาน)','text-green-700\x20bg-green-100','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','API\x20call\x20failed','\x5cfrac{$1}{$2}','สลับไปโหมดนักเรียน','text-green-800','ฮิสโตแกรม','correctStreak','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','circle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','admin-password-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','s;\x22\x20title=\x22','#results-table','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','scheduled','studentName','กรุณาใส่ชื่อนักเรียน','/public/data/liveGames','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','ดอกเบี้ยอย่างง่าย','score-distribution-chart','มุมและการวัดมุม','ส่งแล้ว','ดูสรุปผล','ความน่าจะเป็นแบบมีเงื่อนไข','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','generate-from-text-btn','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ตั้งเวลา\x20(เปิด)','รูปหลายเหลี่ยมและมุมภายใน','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','ระบบสมการเชิงเส้นสองตัวแปร','เส้นตรง:\x20ขนาน/ตั้งฉาก','Error\x20fetching\x20projects\x20for\x20move:','<div\x20class=\x22flex-1\x22></div>','default','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','ตรวจทานเฉลยเสร็จสิ้น!','เปิด\x20(จับเวลา)','generated-quiz-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','bar','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ชื่อหัวข้อห้ามว่าง','ยกเลิกการจับคู่สำเร็จ','project-quizzes-list','circ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.export-pdf-list-btn','COMEBACK_KING','link-tab','การบวกเศษส่วน','bank-tab','ไม่พบแบบทดสอบสำหรับรหัสนี้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','overline','ยอดเยี่ยม!','</p></div>','ฟังก์ชันพหุนาม','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','practiceProblems','admin','อินเวอร์สของเมทริกซ์','move-quiz-project-select','ความต่อเนื่อง','\x20(p=','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','Failed\x20to\x20get\x20standardized\x20topic:','autoTable','คัดลอกไม่สำเร็จ','clientX','การคูณ','inactive','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','ระยะเวลา\x20(นาที):','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','ไม่พบข้อมูลการจับคู่','getPage','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','text-blue-700\x20bg-blue-100','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','true','shuffle','topic-input-area','อัปเดตสถานะสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','border-4','Error\x20saving\x20user\x20preference:','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','generate-from-topic-btn','/public/data/quizzes','quiz-form','\x22\x20ให้เป็นคำถามประเภท\x20\x22','กำลังสร้างรูปภาพ...','lessonPlan','worksheet-input-area','file-topic-input','filter','questionStatus','Error\x20updating\x20pin\x20status:','gamePin','จัดการ','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','Error\x20saving\x20submission:','cancel-quiz-edits-btn','พอใช้','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','size','touchstart','input[type=\x22radio\x22]:checked','move-quiz-modal','Error\x20generating\x20lesson\x20plan:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'];_0x5e10=function(){return _0x1b0144;};return _0x5e10();}function showView(_0x1a7969){const _0x4490c7=_0xd665bf,_0x19f7a4=['admin-view',_0x4490c7(0x267),_0x4490c7(0x43d),_0x4490c7(0x2c1),_0x4490c7(0x6b0),_0x4490c7(0x2d4),_0x4490c7(0x317)];_0x19f7a4['forEach'](_0x4b10af=>document[_0x4490c7(0x36a)](_0x4b10af)?.[_0x4490c7(0x1e4)]['add']('hidden'));if(_0x1a7969===_0x4490c7(0x2b1))adminView[_0x4490c7(0x1e4)]['remove'](_0x4490c7(0x544)),projectDashboardView[_0x4490c7(0x1e4)][_0x4490c7(0x52c)](_0x4490c7(0x544));else{if(_0x1a7969===_0x4490c7(0x7e8))studentView[_0x4490c7(0x1e4)][_0x4490c7(0x52c)](_0x4490c7(0x544)),studentInitialView['classList'][_0x4490c7(0x52c)](_0x4490c7(0x544)),studentNameSelectionView[_0x4490c7(0x1e4)][_0x4490c7(0xff)](_0x4490c7(0x544)),studentQuizArea[_0x4490c7(0x1e4)]['add'](_0x4490c7(0x544)),studentResultArea[_0x4490c7(0x1e4)]['add'](_0x4490c7(0x544)),studentReadingArea[_0x4490c7(0x1e4)][_0x4490c7(0xff)](_0x4490c7(0x544)),studentJoinGameView[_0x4490c7(0x1e4)][_0x4490c7(0xff)](_0x4490c7(0x544));else{if(_0x1a7969===_0x4490c7(0x2d7))adminView['classList'][_0x4490c7(0x52c)](_0x4490c7(0x544)),projectDetailView[_0x4490c7(0x1e4)][_0x4490c7(0x52c)]('hidden');else{if(_0x1a7969===_0x4490c7(0x1f0))adminView['classList'][_0x4490c7(0x52c)](_0x4490c7(0x544)),quizResultsView['classList'][_0x4490c7(0x52c)](_0x4490c7(0x544));else _0x1a7969===_0x4490c7(0x7d)&&liveGameView[_0x4490c7(0x1e4)][_0x4490c7(0x52c)](_0x4490c7(0x544));}}}}function showJoinGameView(){const _0x5f5a11=_0xd665bf;studentInitialView[_0x5f5a11(0x1e4)]['add'](_0x5f5a11(0x544)),studentJoinGameView[_0x5f5a11(0x1e4)]['remove'](_0x5f5a11(0x544));}async function handleSaveVisibilitySettings(){const _0x4d2053=_0xd665bf;if(!currentProjectId)return;const _0x5ac000=doc(db,_0x4d2053(0x3bf)+appId+_0x4d2053(0x14a),currentProjectId);try{await updateDoc(_0x5ac000,{'settings.showInStudentDashboard':document['getElementById'](_0x4d2053(0x182))[_0x4d2053(0x6d2)],'settings.isPasscodeEnabled':document[_0x4d2053(0x36a)](_0x4d2053(0x6d4))['checked'],'settings.passcode':document[_0x4d2053(0x36a)](_0x4d2053(0x481))[_0x4d2053(0x4fc)][_0x4d2053(0x6fe)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x398832){console['error'](_0x4d2053(0x81e),_0x398832),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x779a54=_0xd665bf;document['getElementById'](_0x779a54(0x2c3))[_0x779a54(0x125)]('click',handleModeSwitch),document[_0x779a54(0x36a)](_0x779a54(0x83d))[_0x779a54(0x125)]('click',handleUpdateOldQuizzes),document[_0x779a54(0x36a)](_0x779a54(0x1de))[_0x779a54(0x125)](_0x779a54(0x6ff),handleResetProjectOrder),document[_0x779a54(0x36a)](_0x779a54(0x4cd))[_0x779a54(0x125)](_0x779a54(0x6ff),handleSaveVisibilitySettings),document[_0x779a54(0x36a)](_0x779a54(0x591))['addEventListener'](_0x779a54(0x6ff),handleAddCustomMathTopic),document['getElementById'](_0x779a54(0x27a))[_0x779a54(0x125)](_0x779a54(0x6ff),handleSelectAllTopics),document['getElementById'](_0x779a54(0x24c))[_0x779a54(0x125)](_0x779a54(0x6ff),handleDeselectAllTopics),document['getElementById'](_0x779a54(0x12d))[_0x779a54(0x125)]('click',()=>{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}),document['getElementById'](_0x779a54(0x277))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}),document['getElementById']('back-to-dashboard-from-results-btn')['addEventListener'](_0x779a54(0x6ff),()=>{const _0x5b6202=_0x779a54;showView(_0x5b6202(0x2b1));}),document[_0x779a54(0x36a)](_0x779a54(0x620))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x596090=_0x779a54;messageModal[_0x596090(0x1e4)]['add']('hidden'),typeof modalConfirmAction===_0x596090(0x529)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x779a54(0x36a)](_0x779a54(0x84c))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>createProjectModal['classList']['remove'](_0x779a54(0x544))),document['getElementById'](_0x779a54(0x6b2))['addEventListener'](_0x779a54(0x6ff),()=>createProjectModal[_0x779a54(0x1e4)][_0x779a54(0xff)]('hidden')),document[_0x779a54(0x36a)](_0x779a54(0x4da))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>adminPasswordModal[_0x779a54(0x1e4)][_0x779a54(0xff)](_0x779a54(0x544))),document[_0x779a54(0x36a)](_0x779a54(0x157))[_0x779a54(0x125)]('click',handleAdminLogin),document[_0x779a54(0x36a)]('admin-password-input')['addEventListener'](_0x779a54(0x196),_0xfff52a=>{const _0x3ff498=_0x779a54;if(_0xfff52a[_0x3ff498(0x253)]===_0x3ff498(0x34f))handleAdminLogin();}),document[_0x779a54(0x36a)](_0x779a54(0x110))[_0x779a54(0x125)]('click',()=>{const _0xab34d=_0x779a54;confirmationModal[_0xab34d(0x1e4)]['add'](_0xab34d(0x544)),confirmAction=null;}),document[_0x779a54(0x36a)](_0x779a54(0x418))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x20f113=_0x779a54;confirmAction&&confirmAction(),confirmationModal[_0x20f113(0x1e4)][_0x20f113(0xff)](_0x20f113(0x544)),confirmAction=null;}),document['getElementById'](_0x779a54(0x433))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>renameQuizModal['classList'][_0x779a54(0xff)]('hidden')),document['getElementById'](_0x779a54(0x233))[_0x779a54(0x125)](_0x779a54(0x6ff),confirmRenameQuiz),document['getElementById'](_0x779a54(0x695))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>moveQuizModal['classList'][_0x779a54(0xff)]('hidden')),document[_0x779a54(0x36a)](_0x779a54(0x2bc))[_0x779a54(0x125)](_0x779a54(0x6ff),confirmMoveQuiz),document[_0x779a54(0x36a)](_0x779a54(0x28a))['addEventListener']('click',()=>quizSettingsModal[_0x779a54(0x1e4)][_0x779a54(0xff)](_0x779a54(0x544))),document[_0x779a54(0x36a)](_0x779a54(0x631))[_0x779a54(0x125)](_0x779a54(0x6ff),confirmQuizSettings),document['getElementById'](_0x779a54(0x5f6))['addEventListener'](_0x779a54(0x6ff),()=>quizStatusModal[_0x779a54(0x1e4)][_0x779a54(0xff)](_0x779a54(0x544))),document['getElementById'](_0x779a54(0x7f8))[_0x779a54(0x125)](_0x779a54(0x6ff),confirmQuizStatus);const _0xcfa6a8=document[_0x779a54(0x36a)](_0x779a54(0x3c8));document[_0x779a54(0x36a)]('cancel-export-pdf-btn')[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x5557fb=_0x779a54;_0xcfa6a8[_0x5557fb(0x1e4)][_0x5557fb(0xff)](_0x5557fb(0x544));}),document[_0x779a54(0x36a)](_0x779a54(0x48b))['addEventListener'](_0x779a54(0x6ff),async()=>{const _0x233b56=_0x779a54,_0x2b4be9=allQuizzes[_0x233b56(0x5ec)](_0x31de80=>_0x31de80['id']===actionTargetId);_0x2b4be9?(currentQuizData=_0x2b4be9,exportQuizAsWorksheetPDF()):showMessage(_0x233b56(0x3c6)),_0xcfa6a8[_0x233b56(0x1e4)][_0x233b56(0xff)]('hidden');}),document[_0x779a54(0x36a)](_0x779a54(0x2f5))[_0x779a54(0x125)]('click',async()=>{const _0x3f53df=_0x779a54,_0x49a49a=allQuizzes[_0x3f53df(0x5ec)](_0xa63467=>_0xa63467['id']===actionTargetId);_0x49a49a?(currentQuizData=_0x49a49a,exportQuizAsTutorPDF()):showMessage(_0x3f53df(0x3c6)),_0xcfa6a8[_0x3f53df(0x1e4)][_0x3f53df(0xff)](_0x3f53df(0x544));}),document['getElementById'](_0x779a54(0x562))[_0x779a54(0x125)](_0x779a54(0x6ff),openGlobalLiveModal),document['getElementById'](_0x779a54(0x5eb))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x27f3bf=_0x779a54;document[_0x27f3bf(0x36a)](_0x27f3bf(0x5c9))[_0x27f3bf(0x1e4)]['add'](_0x27f3bf(0x544)),selectedGlobalQuizId=null;}),document[_0x779a54(0x36a)](_0x779a54(0x2f7))['addEventListener'](_0x779a54(0xc1),_0x202af5=>renderGlobalQuizList(_0x202af5['target'][_0x779a54(0x4fc)])),document[_0x779a54(0x36a)](_0x779a54(0x308))['addEventListener'](_0x779a54(0x6ff),()=>{const _0x56561d=_0x779a54,_0x3f825e=selectedGlobalQuizId;if(!_0x3f825e)return;document[_0x56561d(0x36a)](_0x56561d(0x5c9))[_0x56561d(0x1e4)][_0x56561d(0xff)]('hidden'),handleStartLiveRace(_0x3f825e);}),document[_0x779a54(0x36a)](_0x779a54(0x3d1))[_0x779a54(0x125)]('input',renderProjects),document[_0x779a54(0x36a)]('project-sort-select')[_0x779a54(0x125)](_0x779a54(0x793),async()=>{const _0x37294d=_0x779a54,_0x531d32=document['getElementById'](_0x37294d(0x580))[_0x37294d(0x4fc)],_0x44de66=doc(db,_0x37294d(0x27b),'dashboardConfig');try{await setDoc(_0x44de66,{'projectSort':_0x531d32},{'merge':!![]});}catch(_0xb76ed6){console['error'](_0x37294d(0x34a),_0xb76ed6),showMessage(_0x37294d(0x3f3));}}),document[_0x779a54(0x36a)]('quiz-search-input')[_0x779a54(0x125)](_0x779a54(0xc1),renderQuizzes),document[_0x779a54(0x36a)](_0x779a54(0x97))['addEventListener'](_0x779a54(0x6ff),()=>{const _0x3c6ed8=_0x779a54;globalDashboardSettings[_0x3c6ed8(0x191)]=_0x3c6ed8(0x4db),saveUserPreference(_0x3c6ed8(0x191),_0x3c6ed8(0x4db)),renderProjects();}),document[_0x779a54(0x36a)](_0x779a54(0x590))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x5ee1cf=_0x779a54;globalDashboardSettings[_0x5ee1cf(0x191)]='list',saveUserPreference(_0x5ee1cf(0x191),_0x5ee1cf(0x18f)),renderProjects();}),manageTab[_0x779a54(0x125)]('click',()=>switchProjectTab(_0x779a54(0x5a7))),resultsTab['addEventListener'](_0x779a54(0x6ff),()=>switchProjectTab(_0x779a54(0x231))),leaderboardTab[_0x779a54(0x125)](_0x779a54(0x6ff),()=>switchProjectTab(_0x779a54(0x803))),document[_0x779a54(0x36a)](_0x779a54(0x21a))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>switchQuizDetailTab(_0x779a54(0x534))),document[_0x779a54(0x36a)](_0x779a54(0x1da))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>switchQuizDetailTab(_0x779a54(0x483))),document[_0x779a54(0x36a)](_0x779a54(0x3b8))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>switchQuizDetailTab(_0x779a54(0x6c6))),document[_0x779a54(0x36a)]('behavior-log-tab-btn')[_0x779a54(0x125)](_0x779a54(0x6ff),()=>switchQuizDetailTab(_0x779a54(0x775))),document['getElementById'](_0x779a54(0x318))[_0x779a54(0x125)](_0x779a54(0x6ff),handleAnalyzeClass),generateWorksheetBtn[_0x779a54(0x125)]('click',generateWorksheet);const _0xc410e9=document[_0x779a54(0x36a)](_0x779a54(0x749)),_0x1f4da1=document[_0x779a54(0x36a)](_0x779a54(0x2e6)),_0x6bb18d=document['getElementById'](_0x779a54(0x527)),_0x2af5e5=document[_0x779a54(0x36a)](_0x779a54(0x513)),_0x3c19cb=document['getElementById']('parallel-test-tab'),_0x48950e=document['getElementById'](_0x779a54(0x65c));topicTab[_0x779a54(0x125)]('click',()=>{const _0x42a9ee=_0x779a54;topicTab[_0x42a9ee(0x1e4)][_0x42a9ee(0xff)]('active'),textTab[_0x42a9ee(0x1e4)]['remove'](_0x42a9ee(0x21d)),fileTab[_0x42a9ee(0x1e4)][_0x42a9ee(0x52c)](_0x42a9ee(0x21d)),worksheetTab[_0x42a9ee(0x1e4)][_0x42a9ee(0x52c)](_0x42a9ee(0x21d));if(_0xc410e9)_0xc410e9['classList'][_0x42a9ee(0x52c)]('active');if(_0x6bb18d)_0x6bb18d[_0x42a9ee(0x1e4)]['remove'](_0x42a9ee(0x21d));if(_0x3c19cb)_0x3c19cb['classList'][_0x42a9ee(0x52c)](_0x42a9ee(0x21d));topicInputArea[_0x42a9ee(0x1e4)][_0x42a9ee(0x52c)]('hidden'),textInputArea[_0x42a9ee(0x1e4)][_0x42a9ee(0xff)](_0x42a9ee(0x544)),fileInputArea[_0x42a9ee(0x1e4)]['add'](_0x42a9ee(0x544)),worksheetInputArea[_0x42a9ee(0x1e4)][_0x42a9ee(0xff)](_0x42a9ee(0x544));if(_0x1f4da1)_0x1f4da1[_0x42a9ee(0x1e4)]['add'](_0x42a9ee(0x544));if(_0x2af5e5)_0x2af5e5[_0x42a9ee(0x1e4)][_0x42a9ee(0xff)]('hidden');if(_0x48950e)_0x48950e[_0x42a9ee(0x1e4)][_0x42a9ee(0xff)](_0x42a9ee(0x544));}),textTab[_0x779a54(0x125)]('click',()=>{const _0x566b12=_0x779a54;textTab[_0x566b12(0x1e4)]['add']('active'),topicTab[_0x566b12(0x1e4)][_0x566b12(0x52c)](_0x566b12(0x21d)),fileTab[_0x566b12(0x1e4)]['remove'](_0x566b12(0x21d)),worksheetTab[_0x566b12(0x1e4)][_0x566b12(0x52c)]('active');if(_0xc410e9)_0xc410e9['classList'][_0x566b12(0x52c)](_0x566b12(0x21d));if(_0x6bb18d)_0x6bb18d[_0x566b12(0x1e4)][_0x566b12(0x52c)]('active');if(_0x3c19cb)_0x3c19cb[_0x566b12(0x1e4)][_0x566b12(0x52c)]('active');textInputArea[_0x566b12(0x1e4)][_0x566b12(0x52c)](_0x566b12(0x544)),topicInputArea[_0x566b12(0x1e4)][_0x566b12(0xff)]('hidden'),fileInputArea['classList']['add'](_0x566b12(0x544)),worksheetInputArea[_0x566b12(0x1e4)]['add']('hidden');if(_0x1f4da1)_0x1f4da1[_0x566b12(0x1e4)][_0x566b12(0xff)](_0x566b12(0x544));if(_0x2af5e5)_0x2af5e5['classList'][_0x566b12(0xff)](_0x566b12(0x544));if(_0x48950e)_0x48950e[_0x566b12(0x1e4)]['add']('hidden');}),fileTab[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x16eb7b=_0x779a54;fileTab[_0x16eb7b(0x1e4)][_0x16eb7b(0xff)](_0x16eb7b(0x21d)),topicTab[_0x16eb7b(0x1e4)][_0x16eb7b(0x52c)](_0x16eb7b(0x21d)),textTab[_0x16eb7b(0x1e4)][_0x16eb7b(0x52c)](_0x16eb7b(0x21d)),worksheetTab[_0x16eb7b(0x1e4)][_0x16eb7b(0x52c)]('active');if(_0xc410e9)_0xc410e9['classList']['remove']('active');if(_0x6bb18d)_0x6bb18d[_0x16eb7b(0x1e4)][_0x16eb7b(0x52c)](_0x16eb7b(0x21d));if(_0x3c19cb)_0x3c19cb[_0x16eb7b(0x1e4)]['remove'](_0x16eb7b(0x21d));fileInputArea[_0x16eb7b(0x1e4)][_0x16eb7b(0x52c)](_0x16eb7b(0x544)),topicInputArea[_0x16eb7b(0x1e4)][_0x16eb7b(0xff)]('hidden'),textInputArea[_0x16eb7b(0x1e4)]['add'](_0x16eb7b(0x544)),worksheetInputArea[_0x16eb7b(0x1e4)][_0x16eb7b(0xff)](_0x16eb7b(0x544));if(_0x1f4da1)_0x1f4da1[_0x16eb7b(0x1e4)][_0x16eb7b(0xff)](_0x16eb7b(0x544));if(_0x2af5e5)_0x2af5e5['classList'][_0x16eb7b(0xff)]('hidden');if(_0x48950e)_0x48950e[_0x16eb7b(0x1e4)]['add']('hidden');}),worksheetTab[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x3230de=_0x779a54;worksheetTab[_0x3230de(0x1e4)]['add'](_0x3230de(0x21d)),topicTab[_0x3230de(0x1e4)]['remove'](_0x3230de(0x21d)),textTab['classList'][_0x3230de(0x52c)](_0x3230de(0x21d)),fileTab['classList']['remove'](_0x3230de(0x21d));if(_0xc410e9)_0xc410e9[_0x3230de(0x1e4)]['remove'](_0x3230de(0x21d));if(_0x6bb18d)_0x6bb18d[_0x3230de(0x1e4)]['remove']('active');if(_0x3c19cb)_0x3c19cb[_0x3230de(0x1e4)]['remove'](_0x3230de(0x21d));worksheetInputArea[_0x3230de(0x1e4)][_0x3230de(0x52c)]('hidden'),topicInputArea['classList'][_0x3230de(0xff)]('hidden'),textInputArea['classList']['add'](_0x3230de(0x544)),fileInputArea[_0x3230de(0x1e4)][_0x3230de(0xff)](_0x3230de(0x544));if(_0x1f4da1)_0x1f4da1[_0x3230de(0x1e4)][_0x3230de(0xff)]('hidden');if(_0x2af5e5)_0x2af5e5[_0x3230de(0x1e4)]['add'](_0x3230de(0x544));if(_0x48950e)_0x48950e[_0x3230de(0x1e4)][_0x3230de(0xff)](_0x3230de(0x544));});const _0x2076ed=document[_0x779a54(0x36a)](_0x779a54(0x74b)),_0x42c003=document[_0x779a54(0x36a)]('bank-input-area');_0x2076ed&&_0x2076ed[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x19e8fe=_0x779a54;topicTab['classList'][_0x19e8fe(0x52c)](_0x19e8fe(0x21d)),textTab[_0x19e8fe(0x1e4)][_0x19e8fe(0x52c)](_0x19e8fe(0x21d)),fileTab['classList'][_0x19e8fe(0x52c)](_0x19e8fe(0x21d)),worksheetTab[_0x19e8fe(0x1e4)]['remove'](_0x19e8fe(0x21d));if(_0xc410e9)_0xc410e9[_0x19e8fe(0x1e4)]['remove'](_0x19e8fe(0x21d));if(_0x6bb18d)_0x6bb18d['classList'][_0x19e8fe(0x52c)](_0x19e8fe(0x21d));if(_0x3c19cb)_0x3c19cb['classList'][_0x19e8fe(0x52c)](_0x19e8fe(0x21d));_0x2076ed['classList'][_0x19e8fe(0xff)](_0x19e8fe(0x21d)),topicInputArea[_0x19e8fe(0x1e4)][_0x19e8fe(0xff)]('hidden'),textInputArea[_0x19e8fe(0x1e4)][_0x19e8fe(0xff)](_0x19e8fe(0x544)),fileInputArea[_0x19e8fe(0x1e4)][_0x19e8fe(0xff)](_0x19e8fe(0x544)),worksheetInputArea['classList'][_0x19e8fe(0xff)](_0x19e8fe(0x544));if(_0x1f4da1)_0x1f4da1[_0x19e8fe(0x1e4)][_0x19e8fe(0xff)](_0x19e8fe(0x544));if(_0x2af5e5)_0x2af5e5[_0x19e8fe(0x1e4)][_0x19e8fe(0xff)](_0x19e8fe(0x544));if(_0x48950e)_0x48950e[_0x19e8fe(0x1e4)]['add'](_0x19e8fe(0x544));_0x42c003['classList'][_0x19e8fe(0x52c)](_0x19e8fe(0x544)),displayQuestionBank();});_0xc410e9&&(_0xc410e9[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x14d167=_0x779a54;_0xc410e9['classList']['add'](_0x14d167(0x21d)),topicTab['classList']['remove']('active'),textTab[_0x14d167(0x1e4)][_0x14d167(0x52c)](_0x14d167(0x21d)),fileTab[_0x14d167(0x1e4)]['remove'](_0x14d167(0x21d)),worksheetTab[_0x14d167(0x1e4)][_0x14d167(0x52c)](_0x14d167(0x21d));if(_0x6bb18d)_0x6bb18d[_0x14d167(0x1e4)]['remove'](_0x14d167(0x21d));if(_0x3c19cb)_0x3c19cb['classList']['remove'](_0x14d167(0x21d));_0x1f4da1[_0x14d167(0x1e4)][_0x14d167(0x52c)](_0x14d167(0x544)),topicInputArea[_0x14d167(0x1e4)][_0x14d167(0xff)]('hidden'),textInputArea[_0x14d167(0x1e4)][_0x14d167(0xff)](_0x14d167(0x544)),fileInputArea[_0x14d167(0x1e4)][_0x14d167(0xff)](_0x14d167(0x544)),worksheetInputArea[_0x14d167(0x1e4)]['add'](_0x14d167(0x544));if(_0x2af5e5)_0x2af5e5[_0x14d167(0x1e4)][_0x14d167(0xff)](_0x14d167(0x544));if(_0x48950e)_0x48950e[_0x14d167(0x1e4)][_0x14d167(0xff)](_0x14d167(0x544));}),document[_0x779a54(0x36a)](_0x779a54(0x459))[_0x779a54(0x125)]('click',handleGenerateFromLink));_0x6bb18d&&_0x6bb18d[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x2e459f=_0x779a54;_0x6bb18d[_0x2e459f(0x1e4)][_0x2e459f(0xff)]('active'),topicTab[_0x2e459f(0x1e4)]['remove'](_0x2e459f(0x21d)),textTab['classList'][_0x2e459f(0x52c)](_0x2e459f(0x21d)),fileTab[_0x2e459f(0x1e4)][_0x2e459f(0x52c)]('active'),worksheetTab[_0x2e459f(0x1e4)][_0x2e459f(0x52c)](_0x2e459f(0x21d));if(_0xc410e9)_0xc410e9[_0x2e459f(0x1e4)]['remove'](_0x2e459f(0x21d));if(_0x2076ed)_0x2076ed[_0x2e459f(0x1e4)]['remove'](_0x2e459f(0x21d));if(_0x3c19cb)_0x3c19cb['classList'][_0x2e459f(0x52c)]('active');_0x2af5e5[_0x2e459f(0x1e4)][_0x2e459f(0x52c)](_0x2e459f(0x544)),topicInputArea[_0x2e459f(0x1e4)]['add'](_0x2e459f(0x544)),textInputArea[_0x2e459f(0x1e4)][_0x2e459f(0xff)](_0x2e459f(0x544)),fileInputArea[_0x2e459f(0x1e4)][_0x2e459f(0xff)](_0x2e459f(0x544)),worksheetInputArea[_0x2e459f(0x1e4)][_0x2e459f(0xff)](_0x2e459f(0x544));if(_0x1f4da1)_0x1f4da1[_0x2e459f(0x1e4)]['add']('hidden');if(_0x42c003)_0x42c003[_0x2e459f(0x1e4)]['add']('hidden');if(_0x48950e)_0x48950e[_0x2e459f(0x1e4)]['add'](_0x2e459f(0x544));});_0x3c19cb&&_0x3c19cb[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x4da9cf=_0x779a54;_0x3c19cb[_0x4da9cf(0x1e4)]['add'](_0x4da9cf(0x21d)),topicTab[_0x4da9cf(0x1e4)]['remove'](_0x4da9cf(0x21d)),textTab[_0x4da9cf(0x1e4)][_0x4da9cf(0x52c)]('active'),fileTab['classList']['remove'](_0x4da9cf(0x21d)),worksheetTab[_0x4da9cf(0x1e4)]['remove'](_0x4da9cf(0x21d));if(_0xc410e9)_0xc410e9[_0x4da9cf(0x1e4)]['remove'](_0x4da9cf(0x21d));if(_0x6bb18d)_0x6bb18d[_0x4da9cf(0x1e4)][_0x4da9cf(0x52c)](_0x4da9cf(0x21d));if(_0x2076ed)_0x2076ed[_0x4da9cf(0x1e4)][_0x4da9cf(0x52c)](_0x4da9cf(0x21d));_0x48950e[_0x4da9cf(0x1e4)]['remove'](_0x4da9cf(0x544)),topicInputArea['classList'][_0x4da9cf(0xff)](_0x4da9cf(0x544)),textInputArea['classList'][_0x4da9cf(0xff)](_0x4da9cf(0x544)),fileInputArea[_0x4da9cf(0x1e4)][_0x4da9cf(0xff)](_0x4da9cf(0x544)),worksheetInputArea[_0x4da9cf(0x1e4)]['add'](_0x4da9cf(0x544));if(_0x1f4da1)_0x1f4da1[_0x4da9cf(0x1e4)][_0x4da9cf(0xff)](_0x4da9cf(0x544));if(_0x2af5e5)_0x2af5e5[_0x4da9cf(0x1e4)][_0x4da9cf(0xff)](_0x4da9cf(0x544));if(_0x42c003)_0x42c003[_0x4da9cf(0x1e4)][_0x4da9cf(0xff)](_0x4da9cf(0x544));});const _0x4cb336=document[_0x779a54(0x36a)]('blueprint-upload-input'),_0x9df8ee=document[_0x779a54(0x36a)](_0x779a54(0x5b8));_0x4cb336&&_0x4cb336[_0x779a54(0x125)](_0x779a54(0x793),_0x39b09a=>{const _0xe6ad6e=_0x779a54;_0x39b09a[_0xe6ad6e(0x817)][_0xe6ad6e(0x5a3)]['length']>0x0?_0x9df8ee[_0xe6ad6e(0x526)]=![]:_0x9df8ee[_0xe6ad6e(0x526)]=!![];});_0x9df8ee&&_0x9df8ee['addEventListener']('click',handleGenerateFromBlueprint);const _0x7a0d00=document['getElementById']('parallel-test-upload-input'),_0x3039b6=document[_0x779a54(0x36a)]('generate-from-parallel-test-btn');_0x7a0d00&&_0x7a0d00[_0x779a54(0x125)]('change',_0x2fbf4b=>{_0x3039b6['disabled']=_0x2fbf4b['target']['files']['length']===0x0;});_0x3039b6&&_0x3039b6[_0x779a54(0x125)](_0x779a54(0x6ff),handleGenerateParallelTest);loadQuizBtn[_0x779a54(0x125)]('click',handleLoadQuiz),startQuizBtn[_0x779a54(0x125)]('click',()=>{const _0x181fcf=_0x779a54,_0x48b0a8=document[_0x181fcf(0x36a)](_0x181fcf(0x635));currentStudentName=_0x48b0a8['value'];if(!currentStudentName){showMessage(_0x181fcf(0x3ca));return;}studentNameSelectionView['classList']['add'](_0x181fcf(0x544)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x779a54(0x36a)](_0x779a54(0x816))[_0x779a54(0x125)](_0x779a54(0x6ff),showJoinGameView),document[_0x779a54(0x36a)]('confirm-join-game-btn')[_0x779a54(0x125)](_0x779a54(0x6ff),handleJoinLiveGame),document[_0x779a54(0x36a)]('back-to-student-initial-btn')[_0x779a54(0x125)](_0x779a54(0x6ff),()=>showView(_0x779a54(0x7e8)));const _0x1359ff=()=>{const _0x12a8ff=_0x779a54,_0x56fb47=document['getElementById'](_0x12a8ff(0x65d))[_0x12a8ff(0x41b)][_0x12a8ff(0x619)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x12a8ff(0x230)+(_0x56fb47||_0x12a8ff(0x17b));},_0x4f595a=document['getElementById'](_0x779a54(0x3c1));_0x4f595a&&_0x4f595a['addEventListener'](_0x779a54(0xc1),_0x43ee68=>{const _0x4974c3=_0x779a54,_0xa2b9dd=_0x43ee68[_0x4974c3(0x817)][_0x4974c3(0x4fc)]['toLowerCase']()['trim'](),_0x5113e4=document[_0x4974c3(0x36a)](_0x4974c3(0x4ff)),_0x401383=_0x5113e4['querySelectorAll'](_0x4974c3(0x405));_0x401383['forEach'](_0x352672=>{const _0x7c01d1=_0x4974c3;let _0x527c47=![];const _0xcc11b3=_0x352672[_0x7c01d1(0x24f)](_0x7c01d1(0x4ef));_0xcc11b3[_0x7c01d1(0x4be)](_0x282576=>{const _0xf9307=_0x7c01d1,_0x39bb1c=_0x282576['querySelector']('.topic-name-display')['textContent']['toLowerCase']();_0x39bb1c[_0xf9307(0x13e)](_0xa2b9dd)?(_0x282576['style'][_0xf9307(0x5cd)]='flex',_0x527c47=!![]):_0x282576[_0xf9307(0x60c)][_0xf9307(0x5cd)]=_0xf9307(0x44b);}),_0x527c47?_0x352672['style'][_0x7c01d1(0x5cd)]=_0x7c01d1(0x28f):_0x352672[_0x7c01d1(0x60c)][_0x7c01d1(0x5cd)]='none';});});document[_0x779a54(0x36a)](_0x779a54(0xd5))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>exportTableAsImage(_0x779a54(0x4ec),_0x1359ff())),document[_0x779a54(0x36a)]('export-pdf-btn')[_0x779a54(0x125)]('click',()=>exportTableAsPDF(_0x779a54(0x6aa),_0x1359ff())),document['getElementById'](_0x779a54(0x275))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>exportTableAsWord(_0x779a54(0x4ec),_0x1359ff())),document['getElementById'](_0x779a54(0x504))['addEventListener'](_0x779a54(0x6ff),()=>exportTableAsExcel(_0x779a54(0x6aa),_0x1359ff()));const _0x2540d7=()=>{const _0x1afd73=_0x779a54,_0x5dc725=document['getElementById'](_0x1afd73(0x65d))[_0x1afd73(0x41b)]['replace'](/[^a-z0-9]/gi,'_')[_0x1afd73(0x423)]();return _0x1afd73(0x248)+(_0x5dc725||_0x1afd73(0x17b));};document[_0x779a54(0x36a)](_0x779a54(0x104))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>exportTableAsImage(_0x779a54(0x5bc),_0x2540d7())),document[_0x779a54(0x36a)](_0x779a54(0x66c))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>exportTableAsPDF(_0x779a54(0x851),_0x2540d7())),document[_0x779a54(0x36a)](_0x779a54(0x4c2))[_0x779a54(0x125)]('click',()=>exportTableAsWord(_0x779a54(0x5bc),_0x2540d7())),document[_0x779a54(0x36a)](_0x779a54(0x1ab))[_0x779a54(0x125)]('click',()=>exportTableAsExcel('quiz-leaderboard-table',_0x2540d7())),projectQuizzesList[_0x779a54(0x125)](_0x779a54(0x6ff),async _0x6c8a1d=>{const _0x25eafe=_0x779a54,_0x51e2aa=_0x6c8a1d[_0x25eafe(0x817)][_0x25eafe(0x3b7)](_0x25eafe(0x43f)),_0x37cdee=_0x6c8a1d['target'][_0x25eafe(0x3b7)](_0x25eafe(0x64e)),_0x3747a0=_0x6c8a1d[_0x25eafe(0x817)][_0x25eafe(0x3b7)]('.compare-results-btn'),_0x5b1a5d=_0x6c8a1d[_0x25eafe(0x817)][_0x25eafe(0x3b7)](_0x25eafe(0x2a2)),_0x13aca8=_0x6c8a1d[_0x25eafe(0x817)][_0x25eafe(0x3b7)]('.star-quiz-btn'),_0x255a18=_0x6c8a1d[_0x25eafe(0x817)][_0x25eafe(0x3b7)](_0x25eafe(0x7eb)),_0x405b82=_0x6c8a1d[_0x25eafe(0x817)][_0x25eafe(0x3b7)](_0x25eafe(0x2e1)),_0x4ee0be=_0x6c8a1d['target'][_0x25eafe(0x3b7)](_0x25eafe(0x85c)),_0x31590a=_0x6c8a1d[_0x25eafe(0x817)]['closest'](_0x25eafe(0x94)),_0x1e7065=_0x6c8a1d[_0x25eafe(0x817)]['closest'](_0x25eafe(0x266)),_0x681b9e=_0x6c8a1d[_0x25eafe(0x817)][_0x25eafe(0x3b7)](_0x25eafe(0x40d)),_0x4b351c=_0x6c8a1d['target']['closest']('.move-quiz-btn'),_0x2d31cd=_0x6c8a1d[_0x25eafe(0x817)][_0x25eafe(0x3b7)]('.pair-quiz-btn'),_0x2c9062=_0x6c8a1d[_0x25eafe(0x817)]['closest'](_0x25eafe(0x3ec)),_0x1613c3=_0x6c8a1d['target']['closest'](_0x25eafe(0x383)),_0x48cacf=_0x6c8a1d[_0x25eafe(0x817)][_0x25eafe(0x3b7)](_0x25eafe(0x183)),_0x248c9e=_0x6c8a1d[_0x25eafe(0x817)][_0x25eafe(0x3b7)](_0x25eafe(0x319)),_0x37078a=_0x6c8a1d['target'][_0x25eafe(0x3b7)](_0x25eafe(0x747)),_0x2b96db=_0x6c8a1d[_0x25eafe(0x817)][_0x25eafe(0x3b7)](_0x25eafe(0x594)),_0x1eb128=_0x6c8a1d['target'][_0x25eafe(0x3b7)]('.quiz-status-btn'),_0x17e79c=_0x6c8a1d[_0x25eafe(0x817)][_0x25eafe(0x3b7)](_0x25eafe(0x7ea));if(_0x17e79c){const _0x2a0aaa=_0x17e79c[_0x25eafe(0x53c)][_0x25eafe(0x3a0)],_0x315864=document[_0x25eafe(0x36a)](_0x25eafe(0x42e)+_0x2a0aaa);_0x315864&&_0x315864[_0x25eafe(0x1e4)][_0x25eafe(0x7fa)](_0x25eafe(0x544));}else{if(_0x37cdee){const _0x392f89=_0x37cdee['dataset'][_0x25eafe(0x3a0)],_0x35d98e=allQuizzes['find'](_0x56d408=>_0x56d408['id']===_0x392f89);_0x35d98e&&handleGenerateParallelPostTest(_0x35d98e);}else{if(_0x3747a0)handleCompareResults(_0x3747a0['dataset']['quizId'],_0x3747a0['dataset'][_0x25eafe(0x5a2)]);else{if(_0x5b1a5d){const _0xdc916=_0x5b1a5d[_0x25eafe(0x53c)][_0x25eafe(0x3a0)],_0x35de85=allQuizzes[_0x25eafe(0x5ec)](_0x4ebd23=>_0x4ebd23['id']===_0xdc916);_0x35de85&&_0x35de85[_0x25eafe(0x77c)]?(displayLessonPlan(_0x35de85[_0x25eafe(0x77c)],_0x35de85),showConfirmation('แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22',()=>handleGenerateLessonPlan(_0xdc916)),document[_0x25eafe(0x36a)](_0x25eafe(0x225))[_0x25eafe(0x29b)]('h3')[_0x25eafe(0x41b)]='แผนการสอน',document[_0x25eafe(0x36a)](_0x25eafe(0x418))[_0x25eafe(0x41b)]=_0x25eafe(0x29d)):handleGenerateLessonPlan(_0xdc916);}else{if(_0x13aca8)handleToggleStarQuiz(_0x13aca8[_0x25eafe(0x53c)][_0x25eafe(0x3a0)]);else{if(_0x255a18)copyTextToClipboard(_0x255a18[_0x25eafe(0x53c)][_0x25eafe(0x3a0)],_0x25eafe(0xb1));else{if(_0x405b82)handleOpenQuizEditor(_0x405b82[_0x25eafe(0x53c)][_0x25eafe(0x3a0)]);else{if(_0x4ee0be)handleQuizSettings(_0x4ee0be[_0x25eafe(0x53c)][_0x25eafe(0x3a0)]);else{if(_0x31590a)handleDuplicateQuiz(_0x31590a[_0x25eafe(0x53c)][_0x25eafe(0x3a0)]);else{if(_0x1e7065)handleRenameQuiz(_0x1e7065[_0x25eafe(0x53c)][_0x25eafe(0x3a0)],_0x1e7065['dataset']['topic']);else{if(_0x681b9e){const _0x3e2ed1=_0x681b9e[_0x25eafe(0x53c)][_0x25eafe(0x3a0)],_0x5cfed1=allQuizzes[_0x25eafe(0x5ec)](_0x237973=>_0x237973['id']===_0x3e2ed1);_0x5cfed1&&handleGenerateParallelFromBank(_0x5cfed1);}else{if(_0x4b351c)handleMoveQuiz(_0x4b351c[_0x25eafe(0x53c)][_0x25eafe(0x3a0)]);else{if(_0x2d31cd)handleManualQuizPairing(_0x2d31cd[_0x25eafe(0x53c)][_0x25eafe(0x3a0)]);else{if(_0x2c9062)handleUnpairQuiz(_0x2c9062[_0x25eafe(0x53c)][_0x25eafe(0x3a0)]);else{if(_0x1613c3){const _0x2b493e=_0x1613c3['dataset'][_0x25eafe(0x3a0)],_0x16987a=allQuizzes[_0x25eafe(0x5ec)](_0x2520c7=>_0x2520c7['id']===_0x2b493e);if(_0x16987a)startPresentation(_0x16987a);}else{if(_0x48cacf){const _0x47b03e=_0x48cacf[_0x25eafe(0x53c)][_0x25eafe(0x3a0)],_0x530b2e=allQuizzes[_0x25eafe(0x5ec)](_0x9a5a64=>_0x9a5a64['id']===_0x47b03e);_0x530b2e&&(currentQuizData=_0x530b2e,startAdminTest());}else{if(_0x248c9e)handleStartLiveRace(_0x248c9e[_0x25eafe(0x53c)][_0x25eafe(0x3a0)]);else{if(_0x37078a)actionTargetId=_0x37078a[_0x25eafe(0x53c)][_0x25eafe(0x3a0)],document[_0x25eafe(0x36a)](_0x25eafe(0x3c8))[_0x25eafe(0x1e4)][_0x25eafe(0x52c)]('hidden');else{if(_0x2b96db)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x2b96db[_0x25eafe(0x53c)][_0x25eafe(0x4bb)]+_0x25eafe(0x371),()=>handleDeleteQuiz(_0x2b96db[_0x25eafe(0x53c)]['quizId']));else{if(_0x1eb128)handleQuizStatus(_0x1eb128[_0x25eafe(0x53c)][_0x25eafe(0x3a0)]);else _0x51e2aa&&showQuizDetailView(_0x51e2aa[_0x25eafe(0x53c)]['quizId']);}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x779a54(0x851))[_0x779a54(0x29b)](_0x779a54(0x447))[_0x779a54(0x125)](_0x779a54(0x6ff),_0x2befed=>{const _0x15255a=_0x779a54,_0x3bacc2=_0x2befed[_0x15255a(0x817)][_0x15255a(0x3b7)]('.sortable-header');if(!_0x3bacc2||!_0x3bacc2[_0x15255a(0x53c)][_0x15255a(0x4c5)])return;const _0x275d42=_0x3bacc2[_0x15255a(0x53c)][_0x15255a(0x4c5)];if(quizLeaderboardSortBy===_0x275d42)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x15255a(0x5d4):_0x15255a(0x4b1);else{quizLeaderboardSortBy=_0x275d42;const _0x1ebc19=['studentName'];quizLeaderboardSortOrder=_0x1ebc19[_0x15255a(0x13e)](_0x275d42)?'asc':_0x15255a(0x5d4);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x15255a(0x4d0));}),document[_0x779a54(0x36a)]('close-presentation-btn')[_0x779a54(0x125)](_0x779a54(0x6ff),closePresentation),document[_0x779a54(0x36a)](_0x779a54(0x2a8))[_0x779a54(0x125)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById']('next-question-btn')['addEventListener'](_0x779a54(0x6ff),()=>{const _0x361e05=_0x779a54;currentQuizData[_0x361e05(0xd2)]&&currentPresentationSlide<currentQuizData['questions']['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x779a54(0x807),()=>{const _0x454aa0=_0x779a54;!document['fullscreenElement']&&(presentationModal['style'][_0x454aa0(0x5cd)]=_0x454aa0(0x44b));}),document[_0x779a54(0x36a)](_0x779a54(0x6f4))[_0x779a54(0x125)](_0x779a54(0x6ff),handleDeleteAllStudents),studentList[_0x779a54(0x125)](_0x779a54(0x6ff),_0x2a74c5=>{const _0x5d2690=_0x779a54,_0x36be0b=_0x2a74c5[_0x5d2690(0x817)][_0x5d2690(0x3b7)](_0x5d2690(0x8e));if(_0x36be0b){const _0x149fbd=_0x36be0b[_0x5d2690(0x53c)]['studentName'];handleDeleteStudent(_0x149fbd);}}),document[_0x779a54(0x36a)](_0x779a54(0x38e))[_0x779a54(0x125)](_0x779a54(0x6ff),handleGenerateFromFileClick),fileUploadInput[_0x779a54(0x125)]('change',_0x322cdb=>{const _0x1d4ce1=_0x779a54,_0x52a9ee=_0x322cdb[_0x1d4ce1(0x817)][_0x1d4ce1(0x5a3)][0x0],_0x97be07=document['getElementById'](_0x1d4ce1(0x38e));_0x52a9ee?(selectedFile=_0x52a9ee,_0x97be07[_0x1d4ce1(0x526)]=![]):(selectedFile=null,_0x97be07[_0x1d4ce1(0x526)]=!![]);}),document[_0x779a54(0x36a)](_0x779a54(0x34c))[_0x779a54(0x125)](_0x779a54(0x793),_0x11bdba=>{const _0x535f19=_0x779a54,_0x58bc5b=document[_0x535f19(0x36a)](_0x535f19(0x7b0)),_0x14f67f=document[_0x535f19(0x36a)](_0x535f19(0x402)),_0x1d2bbe=document[_0x535f19(0x36a)](_0x535f19(0x4b8));_0x11bdba['target'][_0x535f19(0x4fc)]===_0x535f19(0x44b)?_0x58bc5b[_0x535f19(0x1e4)]['add']('hidden'):(_0x58bc5b[_0x535f19(0x1e4)]['remove'](_0x535f19(0x544)),_0x11bdba['target'][_0x535f19(0x4fc)]===_0x535f19(0x63a)?(_0x14f67f[_0x535f19(0x41b)]=_0x535f19(0x762),_0x1d2bbe['value']='10'):(_0x14f67f[_0x535f19(0x41b)]=_0x535f19(0x1af),_0x1d2bbe[_0x535f19(0x4fc)]='30'));}),document['getElementById']('quiz-type-select')['addEventListener'](_0x779a54(0x793),_0x51adb9=>{const _0x3f3a05=_0x779a54,_0x846162=document[_0x3f3a05(0x36a)](_0x3f3a05(0x197)),_0x3f1c08=_0x51adb9['target'][_0x3f3a05(0x4fc)],_0x4cbe8f=document[_0x3f3a05(0x29b)]('label[for=\x22num-questions\x22]'),_0x1c5935=document[_0x3f3a05(0x36a)](_0x3f3a05(0x43e)),_0x408267=document[_0x3f3a05(0x36a)](_0x3f3a05(0x369));_0x3f1c08==='matching'?_0x4cbe8f['textContent']='จำนวนคู่:':_0x4cbe8f[_0x3f3a05(0x41b)]='จำนวนข้อ:',_0x3f1c08===_0x3f3a05(0x4ba)||_0x3f1c08===_0x3f3a05(0x1c1)||_0x3f1c08===_0x3f3a05(0x501)?_0x846162['classList'][_0x3f3a05(0x52c)](_0x3f3a05(0x544)):_0x846162[_0x3f3a05(0x1e4)][_0x3f3a05(0xff)](_0x3f3a05(0x544)),_0x1c5935[_0x3f3a05(0x5b0)]=_0x408267[_0x3f3a05(0x4fc)];}),document['getElementById'](_0x779a54(0x369))[_0x779a54(0x125)](_0x779a54(0xc1),_0x2979d8=>{const _0x54ce03=_0x779a54;document[_0x54ce03(0x36a)](_0x54ce03(0x43e))[_0x54ce03(0x5b0)]=_0x2979d8[_0x54ce03(0x817)]['value'];}),document['getElementById'](_0x779a54(0x69e))[_0x779a54(0x125)](_0x779a54(0x793),_0x4b2b46=>{const _0x5491bb=_0x779a54,_0x237b2b=document[_0x5491bb(0x36a)](_0x5491bb(0xf0)),_0x4ea40b=document['getElementById']('modal-timer-duration-label'),_0xb4f75=document[_0x5491bb(0x36a)](_0x5491bb(0x657));_0x4b2b46[_0x5491bb(0x817)][_0x5491bb(0x4fc)]===_0x5491bb(0x44b)?_0x237b2b[_0x5491bb(0x1e4)][_0x5491bb(0xff)](_0x5491bb(0x544)):(_0x237b2b[_0x5491bb(0x1e4)][_0x5491bb(0x52c)]('hidden'),_0x4b2b46[_0x5491bb(0x817)][_0x5491bb(0x4fc)]==='whole_quiz'?_0x4ea40b[_0x5491bb(0x41b)]='ระยะเวลา\x20(นาที):':_0x4ea40b[_0x5491bb(0x41b)]=_0x5491bb(0x1af));}),document[_0x779a54(0x36a)](_0x779a54(0x787))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x1e1922=_0x779a54;document[_0x1e1922(0x36a)](_0x1e1922(0x6e6))['classList'][_0x1e1922(0xff)]('hidden');}),document[_0x779a54(0x36a)](_0x779a54(0x65e))['addEventListener'](_0x779a54(0x6ff),()=>{const _0x40847e=_0x779a54;document['getElementById'](_0x40847e(0x6e6))[_0x40847e(0x1e4)][_0x40847e(0xff)](_0x40847e(0x544));}),document[_0x779a54(0x36a)]('verify-answers-editor-btn')[_0x779a54(0x125)]('click',handleVerifyAnswersInEditor),document[_0x779a54(0x36a)]('save-quiz-edits-btn')[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x280f5d=_0x779a54;document[_0x280f5d(0x36a)](_0x280f5d(0x6e6))[_0x280f5d(0x1e4)][_0x280f5d(0xff)](_0x280f5d(0x544)),showConfirmation(_0x280f5d(0x475),handleSaveChanges);}),document['getElementById'](_0x779a54(0x8c))[_0x779a54(0x125)](_0x779a54(0x6ff),handleAutoFixLatex);const _0x61b9ee=document[_0x779a54(0x36a)]('quiz-editor-questions-container');_0x61b9ee&&_0x61b9ee[_0x779a54(0x125)](_0x779a54(0x6ff),_0x2c8279=>{const _0x3dadfe=_0x779a54,_0x24f4ff=_0x2c8279['target'][_0x3dadfe(0x3b7)](_0x3dadfe(0x11d));if(_0x24f4ff){const _0x2cd3f5=_0x24f4ff['closest']('.question-editor-item'),_0x19a6ed=parseInt(_0x2cd3f5[_0x3dadfe(0x53c)][_0x3dadfe(0x16a)],0xa);handleRegenerateQuestionInEditor(_0x19a6ed);}});document[_0x779a54(0x36a)](_0x779a54(0x22c))['addEventListener'](_0x779a54(0x6ff),openQuizBankModal),document[_0x779a54(0x36a)](_0x779a54(0x25d))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x2e69b4=_0x779a54;document['getElementById'](_0x2e69b4(0x114))['classList'][_0x2e69b4(0xff)](_0x2e69b4(0x544));}),document[_0x779a54(0x36a)](_0x779a54(0x37e))['addEventListener'](_0x779a54(0xc1),_0x4b3524=>renderQuizBankList(_0x4b3524[_0x779a54(0x817)][_0x779a54(0x4fc)]));const _0x1232d7=document[_0x779a54(0x36a)]('math-topics-checkbox-container');if(_0x1232d7){let _0x436805=null;_0x1232d7[_0x779a54(0x125)](_0x779a54(0x6ff),_0x199f9b=>{const _0x3c62b1=_0x779a54,_0x2c2405=_0x199f9b[_0x3c62b1(0x817)],_0x38e23b=_0x2c2405[_0x3c62b1(0x3b7)](_0x3c62b1(0x3c7)),_0x5726da=_0x2c2405[_0x3c62b1(0x3b7)](_0x3c62b1(0x17d)),_0xd2ce2b=_0x2c2405['closest'](_0x3c62b1(0x652)),_0xf2da51=_0x2c2405['closest'](_0x3c62b1(0x82f));if(_0x5726da){_0x199f9b[_0x3c62b1(0x699)]();const _0x3d2ab9=_0x5726da['dataset']['id'],_0x23e7f9=_0x5726da[_0x3c62b1(0x3b7)](_0x3c62b1(0x630))[_0x3c62b1(0x29b)]('.topic-name-display')[_0x3c62b1(0x41b)];showConfirmation(_0x3c62b1(0x360)+_0x23e7f9+'\x22?',()=>handleDeleteCustomTopic(_0x3d2ab9));}else{if(_0x38e23b){_0x199f9b['preventDefault']();_0x436805&&toggleTopicEditMode(_0x436805,![]);const _0x2e2d18=_0x38e23b[_0x3c62b1(0x3b7)](_0x3c62b1(0x4fd));_0x436805=_0x2e2d18,toggleTopicEditMode(_0x2e2d18,!![]);}else{if(_0xd2ce2b){_0x199f9b['preventDefault']();const _0x5b7908=_0xd2ce2b[_0x3c62b1(0x53c)]['id'],_0x18d346=_0xd2ce2b[_0x3c62b1(0x3b7)]('[data-topic-container-id]'),_0x4ea35f=_0x18d346[_0x3c62b1(0x29b)](_0x3c62b1(0x4ab))['value'];handleUpdateCustomTopic(_0x5b7908,_0x4ea35f),_0x436805=null;}else{if(_0xf2da51){_0x199f9b['preventDefault']();const _0x439a16=_0xf2da51['closest'](_0x3c62b1(0x4fd));toggleTopicEditMode(_0x439a16,![]),_0x436805=null;}}}}}),document[_0x779a54(0x36a)](_0x779a54(0x7ec))['addEventListener'](_0x779a54(0x6ff),()=>{const _0x40cc2a=_0x779a54;document[_0x40cc2a(0x36a)](_0x40cc2a(0x33e))[_0x40cc2a(0x1e4)][_0x40cc2a(0xff)](_0x40cc2a(0x544));}),document[_0x779a54(0x36a)](_0x779a54(0x7c0))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x45ec1c=_0x779a54;document['getElementById'](_0x45ec1c(0x33e))[_0x45ec1c(0x1e4)]['add'](_0x45ec1c(0x544));}),document[_0x779a54(0x36a)](_0x779a54(0x592))['addEventListener'](_0x779a54(0x6ff),handleExportLessonPDF);}document[_0x779a54(0x36a)](_0x779a54(0x4e3))[_0x779a54(0x125)]('click',()=>{const _0x584b8d=_0x779a54;document[_0x584b8d(0x36a)]('comparison-modal')['classList'][_0x584b8d(0xff)]('hidden');}),document[_0x779a54(0x36a)](_0x779a54(0x474))[_0x779a54(0x125)](_0x779a54(0x6ff),()=>{const _0x5bdb3e=_0x779a54;document[_0x5bdb3e(0x36a)](_0x5bdb3e(0x521))[_0x5bdb3e(0x1e4)][_0x5bdb3e(0xff)]('hidden');}),setupComparisonModalTabs(),document['body'][_0x779a54(0x125)](_0x779a54(0x6ff),function(_0x1bbe42){const _0x560974=_0x779a54;if(_0x1bbe42['target']['classList'][_0x560974(0x42c)](_0x560974(0x20e))){const _0x590ae1=unescape(_0x1bbe42[_0x560974(0x817)]['dataset'][_0x560974(0x4bb)]);startSkillPractice(_0x590ae1);}}),document[_0x779a54(0x36a)](_0x779a54(0x63b))[_0x779a54(0x125)](_0x779a54(0x6ff),_0x461c5e=>{const _0x247bd2=_0x779a54,_0x13ee5f=_0x461c5e['target'][_0x247bd2(0x3b7)]('.delete-submission-btn');if(_0x13ee5f){const _0x11b848=_0x13ee5f[_0x247bd2(0x53c)]['studentName'];handleDeleteSubmission(_0x11b848);}});}async function showStudentProgressView(){const _0x4f267f=_0xd665bf;studentInitialView[_0x4f267f(0x1e4)][_0x4f267f(0xff)](_0x4f267f(0x544)),document[_0x4f267f(0x36a)](_0x4f267f(0x317))['classList'][_0x4f267f(0x52c)](_0x4f267f(0x544));const _0xf3b65d=document[_0x4f267f(0x36a)](_0x4f267f(0x811)),_0x510f26=document['getElementById']('progress-student-select'),_0x10aa28=document[_0x4f267f(0x36a)]('student-progress-content');_0x10aa28[_0x4f267f(0xed)]=_0x4f267f(0x324),_0x510f26[_0x4f267f(0xed)]=_0x4f267f(0x2e0),_0x510f26['disabled']=!![],_0xf3b65d[_0x4f267f(0xed)]=_0x4f267f(0x6b7);if(allProjects[_0x4f267f(0x30f)]===0x0){const _0x559d54=collection(db,_0x4f267f(0x3bf)+appId+'/public/data/projects'),_0x1858ec=await getDocs(_0x559d54);allProjects=_0x1858ec[_0x4f267f(0x66a)]['map'](_0x29fdf0=>({'id':_0x29fdf0['id'],..._0x29fdf0[_0x4f267f(0x6a1)]()}));}const _0x485b1b=allProjects['filter'](_0x40942d=>_0x40942d['settings']?.[_0x4f267f(0x6a4)]!==![]);_0x485b1b['sort']((_0x2a4a1e,_0x593792)=>_0x2a4a1e[_0x4f267f(0x9c)][_0x4f267f(0x6df)](_0x593792[_0x4f267f(0x9c)],'th')),_0xf3b65d['innerHTML']=_0x4f267f(0x156)+_0x485b1b[_0x4f267f(0x6f9)](_0xf21686=>_0x4f267f(0x7b6)+_0xf21686['id']+'\x22>'+_0xf21686[_0x4f267f(0x9c)]+_0x4f267f(0x2ed))[_0x4f267f(0x2da)](''),_0xf3b65d[_0x4f267f(0x326)]=()=>{const _0x1a4a4f=_0x4f267f,_0x211dc3=_0x510f26[_0x1a4a4f(0x4fc)],_0x43dd86=_0xf3b65d[_0x1a4a4f(0x4fc)];_0x510f26['disabled']=!![],_0x510f26[_0x1a4a4f(0xed)]=_0x1a4a4f(0x2e0),_0x10aa28[_0x1a4a4f(0xed)]=_0x1a4a4f(0x849);if(!_0x43dd86)return;const _0x115f2c=allProjects['find'](_0x305998=>_0x305998['id']===_0x43dd86);if(!_0x115f2c||!_0x115f2c[_0x1a4a4f(0x4cb)])return;const _0x297f06=()=>{const _0x31bb8b=_0x1a4a4f;_0x510f26['innerHTML']=_0x31bb8b(0x2e0)+_0x115f2c['students'][_0x31bb8b(0x6f9)](_0x175fed=>_0x31bb8b(0x7b6)+_0x175fed+'\x22>'+_0x175fed+_0x31bb8b(0x2ed))[_0x31bb8b(0x2da)](''),_0x510f26[_0x31bb8b(0x526)]=![];const _0x226f18=Array[_0x31bb8b(0x3da)](_0x510f26['options'])[_0x31bb8b(0x6f9)](_0x146f9b=>_0x146f9b['value']);if(_0x211dc3&&_0x226f18[_0x31bb8b(0x13e)](_0x211dc3))_0x510f26['value']=_0x211dc3,_0x510f26['dispatchEvent'](new Event(_0x31bb8b(0x793)));else _0x115f2c['students'][_0x31bb8b(0x30f)]===0x1&&(_0x510f26[_0x31bb8b(0x4fc)]=_0x115f2c[_0x31bb8b(0x4cb)][0x0],_0x510f26[_0x31bb8b(0xe6)](new Event(_0x31bb8b(0x793))));};if(_0x115f2c[_0x1a4a4f(0x213)]?.['isPasscodeEnabled']){if(sessionStorage[_0x1a4a4f(0x862)](_0x1a4a4f(0x7ee)+_0x43dd86)==='true'){_0x297f06();return;}const _0x4f43c1=document[_0x1a4a4f(0x36a)](_0x1a4a4f(0x2eb)),_0x3cc3ff=document[_0x1a4a4f(0x36a)](_0x1a4a4f(0x69a)),_0xccbcd7=document[_0x1a4a4f(0x36a)](_0x1a4a4f(0x2ea)),_0x5904b1=document[_0x1a4a4f(0x36a)](_0x1a4a4f(0x29c)),_0x359b88=document[_0x1a4a4f(0x36a)]('passcode-error-msg');document[_0x1a4a4f(0x36a)](_0x1a4a4f(0x349))['textContent']=_0x1a4a4f(0xb3)+_0x115f2c[_0x1a4a4f(0x9c)],_0x5904b1[_0x1a4a4f(0x4fc)]='',_0x359b88[_0x1a4a4f(0x1e4)]['add']('hidden'),_0x4f43c1['classList']['remove'](_0x1a4a4f(0x544));const _0x46435e=()=>{const _0x25fc84=_0x1a4a4f,_0x5a9676=_0x5904b1[_0x25fc84(0x4fc)][_0x25fc84(0x6fe)]();_0x5a9676===_0x115f2c[_0x25fc84(0x213)][_0x25fc84(0x24a)]?(sessionStorage[_0x25fc84(0x101)](_0x25fc84(0x7ee)+_0x43dd86,_0x25fc84(0x769)),_0x4f43c1[_0x25fc84(0x1e4)][_0x25fc84(0xff)](_0x25fc84(0x544)),_0x297f06(),_0x3cc3ff[_0x25fc84(0x70d)](_0x25fc84(0x6ff),_0x46435e)):_0x359b88['classList']['remove'](_0x25fc84(0x544));};_0x3cc3ff[_0x1a4a4f(0x7c2)]=_0x46435e,_0xccbcd7[_0x1a4a4f(0x7c2)]=()=>{const _0x30a7c5=_0x1a4a4f;_0x4f43c1[_0x30a7c5(0x1e4)][_0x30a7c5(0xff)](_0x30a7c5(0x544)),_0xf3b65d['value']='',_0x3cc3ff[_0x30a7c5(0x70d)](_0x30a7c5(0x6ff),_0x46435e);};}else _0x297f06();},_0x510f26['onchange']=()=>{const _0xee4d6f=_0x4f267f,_0x4f19dd=_0xf3b65d[_0xee4d6f(0x4fc)],_0x2b2e6a=_0x510f26[_0xee4d6f(0x4fc)];_0x4f19dd&&_0x2b2e6a&&renderStudentProgressDashboard(_0x4f19dd,_0x2b2e6a);};}async function renderStudentProgressDashboard(_0x5823dd,_0x21bffa){const _0x442afd=_0xd665bf,_0x3beeb5=document[_0x442afd(0x36a)](_0x442afd(0x12a));_0x3beeb5[_0x442afd(0xed)]=_0x442afd(0xd6);try{const _0xa4b9f1=collection(db,_0x442afd(0x3bf)+appId+'/public/data/quizzes'),_0x1b5c1a=query(_0xa4b9f1,where('projectId','==',_0x5823dd)),_0x52b9ec=await getDocs(_0x1b5c1a),_0x4579a3=_0x52b9ec[_0x442afd(0x66a)][_0x442afd(0x6f9)](_0x3e41c8=>({'id':_0x3e41c8['id'],..._0x3e41c8[_0x442afd(0x6a1)]()})),_0x4011a0=_0x4579a3[_0x442afd(0x6f9)](_0x44ed2b=>getDoc(doc(db,_0x442afd(0x3bf)+appId+_0x442afd(0x187)+_0x44ed2b['id']+_0x442afd(0x519),_0x21bffa))),_0x1c35c5=await Promise[_0x442afd(0x6ba)](_0x4011a0),_0x4861ce=_0x1c35c5[_0x442afd(0x77f)](_0x498f07=>_0x498f07[_0x442afd(0x1c9)]())[_0x442afd(0x6f9)](_0x185314=>({'quizId':_0x185314[_0x442afd(0x301)][_0x442afd(0x523)]['parent']['id'],..._0x185314['data']()}));if(_0x4861ce[_0x442afd(0x30f)]===0x0){_0x3beeb5[_0x442afd(0xed)]=_0x442afd(0x216);return;}let _0x564502=_0x442afd(0x449);_0x4861ce['forEach'](_0x495d4f=>{const _0x167d9b=_0x442afd,_0x2acef0=_0x4579a3[_0x167d9b(0x5ec)](_0x23c65f=>_0x23c65f['id']===_0x495d4f[_0x167d9b(0x3a0)]),_0x42117a=_0x2acef0[_0x167d9b(0x213)]?.[_0x167d9b(0x5e7)]||_0x167d9b(0x809),_0xd6d6ad=_0x2acef0[_0x167d9b(0x213)]?.['passingScore']??0x0,_0x562291=_0x495d4f[_0x167d9b(0x4a3)]>=_0xd6d6ad;let _0x94ba8c='',_0x3b2119='bg-gray-50';switch(_0x42117a){case _0x167d9b(0x809):case _0x167d9b(0xfd):_0x3b2119=_0x562291?_0x167d9b(0x7b2):_0x167d9b(0xef),_0x94ba8c=_0x167d9b(0x61a)+(_0x562291?_0x167d9b(0x524):_0x167d9b(0x836))+'\x22>'+_0x495d4f[_0x167d9b(0x4a3)]+_0x167d9b(0x54b)+_0x495d4f[_0x167d9b(0x31b)]+_0x167d9b(0x612)+(_0x562291?_0x167d9b(0x364):_0x167d9b(0x5b6))+'\x22>'+(_0x562291?_0x167d9b(0x632):_0x167d9b(0x839))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x167d9b(0x658):_0x3b2119=_0x562291?_0x167d9b(0x7b2):_0x167d9b(0xef),_0x94ba8c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x562291?_0x167d9b(0x364):_0x167d9b(0x5b6))+'\x22>'+(_0x562291?_0x167d9b(0x632):_0x167d9b(0x839))+_0x167d9b(0x59a);break;case _0x167d9b(0x4dc):_0x3b2119='bg-yellow-50',_0x94ba8c=_0x167d9b(0x834);break;}_0x564502+=_0x167d9b(0xbc)+_0x3b2119+_0x167d9b(0x2f9)+_0x2acef0[_0x167d9b(0x4bb)]+_0x167d9b(0x394)+_0x495d4f['attempts'][_0x167d9b(0x30f)]+_0x167d9b(0x11b)+new Date(_0x495d4f['latestSubmittedAt'])[_0x167d9b(0x77)](_0x167d9b(0x5c0))+_0x167d9b(0x572)+_0x94ba8c+_0x167d9b(0x141);}),_0x564502+='</div>',_0x3beeb5[_0x442afd(0xed)]=_0x564502;}catch(_0x3dee48){console['error']('Error\x20rendering\x20student\x20progress:',_0x3dee48),_0x3beeb5[_0x442afd(0xed)]=_0x442afd(0x434);}}function setupStudentProgressListeners(){const _0x4a09af=_0xd665bf;document[_0x4a09af(0x36a)](_0x4a09af(0x4f2))[_0x4a09af(0x125)](_0x4a09af(0x6ff),showStudentProgressView),document['getElementById'](_0x4a09af(0x229))['addEventListener'](_0x4a09af(0x6ff),()=>{const _0xa71aeb=_0x4a09af;document[_0xa71aeb(0x36a)](_0xa71aeb(0x317))[_0xa71aeb(0x1e4)][_0xa71aeb(0xff)](_0xa71aeb(0x544)),document[_0xa71aeb(0x36a)](_0xa71aeb(0x8b))[_0xa71aeb(0x1e4)][_0xa71aeb(0x52c)](_0xa71aeb(0x544));});}async function startSkillPractice(_0x37d1fa){const _0x28ea22=_0xd665bf;studentResultArea[_0x28ea22(0x1e4)]['add'](_0x28ea22(0x544)),studentQuizArea[_0x28ea22(0xed)]=_0x28ea22(0x122),studentQuizArea[_0x28ea22(0x1e4)][_0x28ea22(0x52c)](_0x28ea22(0x544));try{const _0x8f1ce0=await getStandardizedTopic(_0x37d1fa);console[_0x28ea22(0x35f)](_0x28ea22(0x397)+_0x37d1fa+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x8f1ce0+'\x22'),studentQuizArea[_0x28ea22(0x29b)]('p')[_0x28ea22(0x41b)]=_0x28ea22(0x9d)+_0x8f1ce0+'\x22...';const _0x55b2bd=collection(db,_0x28ea22(0x3bf)+appId+_0x28ea22(0x1c4)),_0x174faa=query(_0x55b2bd,where('topic','==',_0x8f1ce0)),_0x2bd34d=await getDocs(_0x174faa);if(_0x2bd34d[_0x28ea22(0x66a)][_0x28ea22(0x30f)]>=0x3){console[_0x28ea22(0x35f)](_0x28ea22(0x222)+_0x2bd34d['docs'][_0x28ea22(0x30f)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x8f1ce0+_0x28ea22(0x274));let _0x3071d1=_0x2bd34d[_0x28ea22(0x66a)]['map'](_0xcea226=>_0xcea226['data']());shuffleArray(_0x3071d1);const _0x50e4eb={'topic':_0x8f1ce0,'questions':_0x3071d1['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x50e4eb);}else{console['log'](_0x28ea22(0x3fe)+_0x8f1ce0+_0x28ea22(0x826));const _0xedfacb=await generatePracticeQuestions(_0x8f1ce0);await saveDrillToPracticeBank(_0xedfacb,_0x8f1ce0),displaySkillPracticeDrill(_0xedfacb);}}catch(_0x5be570){console[_0x28ea22(0x3ef)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x5be570),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x28ea22(0x1e4)][_0x28ea22(0xff)]('hidden'),studentResultArea[_0x28ea22(0x1e4)]['remove']('hidden');}}async function saveDrillToPracticeBank(_0x4f8760,_0x1ce6cd){const _0x1a5cce=_0xd665bf,_0x5ed024=collection(db,_0x1a5cce(0x3bf)+appId+_0x1a5cce(0x1c4)),_0x37c5bb=writeBatch(db);_0x4f8760['questions'][_0x1a5cce(0x4be)](_0x3ee5ee=>{const _0x5244cb=_0x1a5cce,_0x3a6890=doc(_0x5ed024);_0x37c5bb[_0x5244cb(0x98)](_0x3a6890,{'topic':_0x1ce6cd,'questionText':_0x3ee5ee[_0x5244cb(0x551)],'options':_0x3ee5ee['options'],'correctAnswerIndex':_0x3ee5ee[_0x5244cb(0x7cf)],'explanation':_0x3ee5ee[_0x5244cb(0x3f1)],'createdAt':serverTimestamp()});});try{await _0x37c5bb['commit'](),console[_0x1a5cce(0x35f)](_0x1a5cce(0x640)+_0x4f8760['questions'][_0x1a5cce(0x30f)]+_0x1a5cce(0x2ab));}catch(_0xd7effd){console[_0x1a5cce(0x3ef)](_0x1a5cce(0x194),_0xd7effd);}}async function getStandardizedTopic(_0x32d061){const _0x43d1f1=_0xd665bf,_0xed68ae=_0x43d1f1(0x7bf)+_0x32d061+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x3752f2={'type':_0x43d1f1(0x5b3),'properties':{'standardTopic':{'type':_0x43d1f1(0x427)}},'required':[_0x43d1f1(0xa8)]};try{const _0x8b189f=await callAnalysisApi(_0xed68ae,_0x3752f2);return _0x8b189f['standardTopic'];}catch(_0x4a85da){return console[_0x43d1f1(0x3ef)](_0x43d1f1(0x75a),_0x4a85da),_0x32d061;}}async function generatePracticeQuestions(_0x1c1da8){const _0x1441ae=_0xd665bf,_0x49243f=_0x1441ae(0x3bb)+_0x1c1da8+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0xec7b1e={'type':_0x1441ae(0x5b3),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1441ae(0x5f0),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1441ae(0x586)},'explanation':{'type':_0x1441ae(0x427)}},'required':[_0x1441ae(0x551),_0x1441ae(0x63d),'correctAnswerIndex',_0x1441ae(0x3f1)]},_0x4dc666={'type':_0x1441ae(0x5b3),'properties':{'topic':{'type':_0x1441ae(0x427)},'questions':{'type':_0x1441ae(0x5f0),'items':_0xec7b1e}},'required':[_0x1441ae(0x4bb),_0x1441ae(0xd2)]};return await callAnalysisApi(_0x49243f,_0x4dc666);}function displayLessonPlan(_0x4bbd82,_0x4175f8){const _0x46a6da=_0xd665bf,_0x411f4c=_0x46a6da(0x5ca)+_0x4175f8['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x4bbd82[_0x46a6da(0x54d)][_0x46a6da(0x6f9)](_0x4a77f9=>_0x46a6da(0x305)+_0x4a77f9+_0x46a6da(0x3a9))[_0x46a6da(0x2da)]('')+_0x46a6da(0x23c)+_0x4bbd82[_0x46a6da(0x401)]+_0x46a6da(0x2c8)+_0x4bbd82['practiceProblems']['map'](_0x46e76f=>_0x46a6da(0x761)+_0x46e76f[_0x46a6da(0x178)]+_0x46a6da(0x5fa)+_0x46e76f[_0x46a6da(0x220)]+_0x46a6da(0x750))['join']('')+_0x46a6da(0x335);document[_0x46a6da(0x36a)](_0x46a6da(0x6a9))[_0x46a6da(0x41b)]=_0x46a6da(0x100)+_0x4175f8[_0x46a6da(0x4bb)],document['getElementById'](_0x46a6da(0x859))[_0x46a6da(0xed)]=_0x411f4c,document[_0x46a6da(0x36a)]('lesson-plan-modal')[_0x46a6da(0x1e4)][_0x46a6da(0x52c)]('hidden');if(window[_0x46a6da(0x6ea)])MathJax[_0x46a6da(0x17a)]();}function displaySkillPracticeDrill(_0x2797f4){const _0x4f0151=_0xd665bf;let _0x286798=0x0;const _0x4e2e28=_0x2797f4[_0x4f0151(0xd2)],_0x4ca258=()=>{const _0x533d94=_0x4f0151,_0x3fc339=_0x4e2e28[_0x286798],_0x63db52=_0x533d94(0x2ee)+(_0x286798+0x1)+'\x20/\x20'+_0x4e2e28[_0x533d94(0x30f)]+_0x533d94(0x5e8)+_0x3fc339[_0x533d94(0x551)]+_0x533d94(0x65f)+_0x3fc339[_0x533d94(0x63d)][_0x533d94(0x6f9)]((_0x4498b3,_0x4dc797)=>_0x533d94(0x2b6)+_0x4dc797+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x4dc797+_0x533d94(0x3f6)+_0x4dc797+'\x22>'+_0x4498b3+_0x533d94(0xe0))[_0x533d94(0x2da)]('')+_0x533d94(0x76d);studentQuizArea[_0x533d94(0xed)]=_0x63db52;if(window['MathJax'])MathJax[_0x533d94(0x17a)]([studentQuizArea]);document['getElementById'](_0x533d94(0x1dd))[_0x533d94(0x125)](_0x533d94(0x6ff),async()=>{const _0x4e8bca=await getHintForQuestion(_0x3fc339['questionText']);showMessage(_0x4e8bca);}),document[_0x533d94(0x36a)]('check-answer-btn')[_0x533d94(0x125)]('click',()=>{const _0x14e753=_0x533d94,_0x55b47f=document['querySelector'](_0x14e753(0x82e));if(!_0x55b47f){showMessage(_0x14e753(0x4ae));return;}const _0xb2ec01=document['getElementById'](_0x14e753(0x95)),_0x156c1f=parseInt(_0x55b47f[_0x14e753(0x4fc)])===_0x3fc339['correctAnswerIndex'];_0x156c1f?(_0xb2ec01[_0x14e753(0x167)]=_0x14e753(0x791),_0xb2ec01[_0x14e753(0xed)]=_0x14e753(0x72f)+_0x3fc339[_0x14e753(0x3f1)]):(_0xb2ec01[_0x14e753(0x167)]=_0x14e753(0x770),_0xb2ec01[_0x14e753(0xed)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x3fc339[_0x14e753(0x3f1)]);_0xb2ec01[_0x14e753(0x1e4)][_0x14e753(0x52c)](_0x14e753(0x544));if(window[_0x14e753(0x6ea)])MathJax[_0x14e753(0x17a)]([_0xb2ec01]);document['getElementById'](_0x14e753(0x238))[_0x14e753(0x1e4)]['add'](_0x14e753(0x544)),document[_0x14e753(0x36a)]('hint-btn')[_0x14e753(0x1e4)]['add']('hidden'),document[_0x14e753(0x36a)](_0x14e753(0x5ab))['classList'][_0x14e753(0x52c)](_0x14e753(0x544));}),document['getElementById']('next-drill-btn')[_0x533d94(0x125)](_0x533d94(0x6ff),()=>{const _0x4eb2e7=_0x533d94;_0x286798++,_0x286798<_0x4e2e28['length']?_0x4ca258():(studentQuizArea[_0x4eb2e7(0xed)]=_0x4eb2e7(0x1c2),document['getElementById'](_0x4eb2e7(0x241))[_0x4eb2e7(0x125)](_0x4eb2e7(0x6ff),()=>{const _0x542235=_0x4eb2e7;studentQuizArea[_0x542235(0x1e4)]['add'](_0x542235(0x544)),studentResultArea[_0x542235(0x1e4)][_0x542235(0x52c)](_0x542235(0x544));}));});};_0x4ca258();}async function getHintForQuestion(_0x4871da){const _0x37001d=_0xd665bf,_0x52db9b=_0x37001d(0x1ee)+_0x4871da+_0x37001d(0x26d),_0x342724={'type':_0x37001d(0x5b3),'properties':{'hint':{'type':'STRING'}},'required':[_0x37001d(0x2ec)]};try{const _0x369942=await callAnalysisApi(_0x52db9b,_0x342724);return _0x369942['hint'];}catch(_0x35ab0d){return console[_0x37001d(0x3ef)]('Failed\x20to\x20get\x20hint:',_0x35ab0d),_0x37001d(0x491);}}async function extractTextFromPdf(_0x55bc7e){const _0x5ccd71=_0xd665bf;pdfjsLib['GlobalWorkerOptions'][_0x5ccd71(0x296)]=_0x5ccd71(0x844);const _0x2f440d=await _0x55bc7e[_0x5ccd71(0x2fa)](),_0x2f4605=await pdfjsLib[_0x5ccd71(0x4ce)](_0x2f440d)[_0x5ccd71(0x670)],_0x37a469=_0x2f4605['numPages'];let _0x24d260='';for(let _0x5634a4=0x1;_0x5634a4<=_0x37a469;_0x5634a4++){const _0x224498=await _0x2f4605[_0x5ccd71(0x765)](_0x5634a4),_0x5968c5=await _0x224498['getTextContent'](),_0x535fea=_0x5968c5[_0x5ccd71(0x4a2)][_0x5ccd71(0x6f9)](_0x2b17e0=>_0x2b17e0[_0x5ccd71(0x58d)])[_0x5ccd71(0x2da)]('\x20');_0x24d260+=_0x535fea+'\x0a\x0a';}return _0x24d260;}async function handleGenerateFromBlueprint(){const _0x37939c=_0xd665bf,_0x556f69=document[_0x37939c(0x36a)](_0x37939c(0x45f)),_0x4d7d48=document[_0x37939c(0x36a)](_0x37939c(0x5c4)),_0x31a42f=_0x556f69['files'][0x0],_0x300802=_0x4d7d48['files'][_0x37939c(0x30f)]>0x0?_0x4d7d48[_0x37939c(0x5a3)][0x0]:null;if(!_0x31a42f){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x2bdaa9=document['getElementById']('loader'),_0x4fdc86=document['getElementById'](_0x37939c(0x2cb)),_0x33c7c3=document[_0x37939c(0x36a)](_0x37939c(0x73d)),_0x556bb4=document['getElementById'](_0x37939c(0x5b8));_0x556bb4[_0x37939c(0x526)]=!![],document['getElementById'](_0x37939c(0x1b3))[_0x37939c(0x1e4)]['remove'](_0x37939c(0x544)),_0x33c7c3['innerHTML']='',_0x2bdaa9[_0x37939c(0x1e4)][_0x37939c(0x52c)](_0x37939c(0x544));try{_0x4fdc86[_0x37939c(0x41b)]=_0x37939c(0x1c0);const _0x17184e=await extractTextFromPdf(_0x31a42f);if(!_0x17184e[_0x37939c(0x6fe)]())throw new Error(_0x37939c(0x256));let _0xbb258a='';_0x300802&&(_0x4fdc86[_0x37939c(0x41b)]=_0x37939c(0x679),_0xbb258a=await extractTextFromPdf(_0x300802));_0x4fdc86[_0x37939c(0x41b)]=_0x37939c(0x785);const _0x460487=document[_0x37939c(0x36a)]('include-images-checkbox')[_0x37939c(0x6d2)],_0x316309=_0x460487?_0x37939c(0x5d0):'',_0x59671f=_0xbb258a?_0x37939c(0x3e2)+_0xbb258a+_0x37939c(0x26a):'',_0xdabd13=_0x37939c(0x300)+(_0xbb258a?_0x37939c(0x824):'')+_0x37939c(0xf6)+_0x17184e+_0x37939c(0x26a)+_0x59671f+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x316309+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x21a65f={'type':_0x37939c(0x5b3),'properties':{'questionText':{'type':_0x37939c(0x427)},'questionType':{'type':_0x37939c(0x427),'enum':[_0x37939c(0x4ba),_0x37939c(0x223)]},'options':{'type':_0x37939c(0x5f0),'items':{'type':_0x37939c(0x427)}},'correctAnswerIndex':{'type':_0x37939c(0x586)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x37939c(0x427)},'imageCode':{'type':_0x37939c(0x427)}},'required':[_0x37939c(0x551),_0x37939c(0x2ca),_0x37939c(0x3f1)]},_0x52572b={'type':'OBJECT','properties':{'topic':{'type':_0x37939c(0x427)},'questions':{'type':_0x37939c(0x5f0),'items':_0x21a65f}},'required':[_0x37939c(0x4bb),'questions']};await handleApiCall(_0xdabd13,_0x37939c(0x215),_0x52572b);}catch(_0x34a8f7){console['error'](_0x37939c(0x3e0),_0x34a8f7),showMessage(_0x37939c(0x40f)+_0x34a8f7[_0x37939c(0x4e5)]),_0x33c7c3[_0x37939c(0xed)]=_0x37939c(0x84d);}finally{_0x2bdaa9[_0x37939c(0x1e4)][_0x37939c(0xff)](_0x37939c(0x544)),_0x556bb4['disabled']=![];}}async function handleGenerateParallelFromBank(_0x1e0b39){const _0x5c02a7=_0xd665bf;switchProjectTab(_0x5c02a7(0x5a7));const _0xc9894b=document['getElementById'](_0x5c02a7(0x83c)),_0x2a0446=document['getElementById'](_0x5c02a7(0x2cb)),_0x5587c6=document['getElementById'](_0x5c02a7(0x73d));document[_0x5c02a7(0x36a)]('quiz-generation-area')[_0x5c02a7(0x1e4)][_0x5c02a7(0x52c)](_0x5c02a7(0x544)),_0x5587c6['innerHTML']='',_0xc9894b[_0x5c02a7(0x1e4)][_0x5c02a7(0x52c)]('hidden'),_0x2a0446['textContent']=_0x5c02a7(0x4a0)+_0x1e0b39[_0x5c02a7(0x4bb)]+'\x22\x20เพื่อสร้างชุดคู่ขนาน...';try{const _0x41c029=_0x1e0b39['questions']['map']((_0x441e99,_0x475f46)=>{const _0x46d428=_0x5c02a7;let _0x53eeb9=_0x475f46+0x1+'.\x20'+(_0x441e99[_0x46d428(0x551)]||_0x441e99[_0x46d428(0x36f)])+'\x0a';if(_0x441e99[_0x46d428(0x63d)])_0x53eeb9+=_0x441e99[_0x46d428(0x63d)][_0x46d428(0x6f9)]((_0x1af82d,_0x9ace92)=>_0x46d428(0x1d1)+(_0x9ace92===_0x441e99['correctAnswerIndex']?_0x46d428(0x6dd):'')+'\x20'+_0x1af82d)['join']('\x0a');else _0x441e99[_0x46d428(0x5a5)]&&(_0x53eeb9+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x441e99[_0x46d428(0x5a5)]);return _0x53eeb9;})['join']('\x0a\x0a');_0x2a0446[_0x5c02a7(0x41b)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x477924=_0x5c02a7(0x557)+_0x1e0b39[_0x5c02a7(0x4bb)]+_0x5c02a7(0x768)+_0x41c029+_0x5c02a7(0x416)+simpleMathPrompt+_0x5c02a7(0x79b),_0x503fb6={'type':_0x5c02a7(0x5b3),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5c02a7(0x427),'enum':[_0x5c02a7(0x4ba),_0x5c02a7(0x223),_0x5c02a7(0x63c),_0x5c02a7(0x83b)]},'options':{'type':_0x5c02a7(0x5f0),'items':{'type':_0x5c02a7(0x427)}},'correctAnswerIndex':{'type':_0x5c02a7(0x586)},'idealAnswer':{'type':_0x5c02a7(0x427)},'correctAnswer':{'type':_0x5c02a7(0x460)},'stem':{'type':_0x5c02a7(0x427)},'correctResponse':{'type':_0x5c02a7(0x427)},'allResponses':{'type':_0x5c02a7(0x5f0),'items':{'type':_0x5c02a7(0x427)}},'explanation':{'type':_0x5c02a7(0x427)},'imageCode':{'type':_0x5c02a7(0x427)}},'required':['questionText',_0x5c02a7(0x2ca),_0x5c02a7(0x63d),_0x5c02a7(0x7cf),'explanation']},_0x1fd44f={'type':_0x5c02a7(0x5b3),'properties':{'topic':{'type':_0x5c02a7(0x427)},'questions':{'type':_0x5c02a7(0x5f0),'items':_0x503fb6}},'required':['topic',_0x5c02a7(0xd2)]},_0x115226=await callAnalysisApi(_0x477924,_0x1fd44f);_0x115226[_0x5c02a7(0x4bb)]='(คู่ขนาน)\x20'+_0x1e0b39[_0x5c02a7(0x4bb)],_0x115226[_0x5c02a7(0x1f6)]=_0x1e0b39[_0x5c02a7(0x1f6)],currentQuizData=_0x115226,displayGeneratedQuiz(_0x115226),document[_0x5c02a7(0x36a)](_0x5c02a7(0x854))['scrollIntoView']({'behavior':_0x5c02a7(0x310)});}catch(_0x408485){console[_0x5c02a7(0x3ef)](_0x5c02a7(0x502),_0x408485),showMessage('เกิดข้อผิดพลาด:\x20'+_0x408485['message']),_0x5587c6['innerHTML']=_0x5c02a7(0x682);}finally{_0xc9894b[_0x5c02a7(0x1e4)][_0x5c02a7(0xff)](_0x5c02a7(0x544));}}async function handleGenerateParallelPostTest(_0x1e1b27){const _0x71767e=_0xd665bf,_0x2a76f=document[_0x71767e(0x36a)]('results-tab-content'),_0x121181=document[_0x71767e(0x36a)]('project-quizzes-list');_0x121181[_0x71767e(0x1e4)][_0x71767e(0xff)](_0x71767e(0x544));const _0x4fe55d=_0x71767e(0x289);_0x2a76f[_0x71767e(0x2a6)](_0x71767e(0x2ef),_0x4fe55d);try{const _0x2389bf=_0x1e1b27[_0x71767e(0xd2)][_0x71767e(0x6f9)]((_0x1c9d25,_0x4d9df0)=>{const _0x3bd6bc=_0x71767e;let _0x5b56dc=_0x4d9df0+0x1+'.\x20'+(_0x1c9d25[_0x3bd6bc(0x551)]||_0x1c9d25['stem']);if(_0x1c9d25[_0x3bd6bc(0x63d)])_0x5b56dc+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x1c9d25[_0x3bd6bc(0x63d)][_0x3bd6bc(0x2da)](',\x20');return _0x5b56dc;})['join']('\x0a\x0a'),_0x49efde=_0x71767e(0x120)+_0x1e1b27['topic']+_0x71767e(0x76)+_0x2389bf+_0x71767e(0x3b3)+simpleMathPrompt+_0x71767e(0x79b),_0x4f349b={'type':_0x71767e(0x5b3),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x71767e(0x5f0),'items':{'type':_0x71767e(0x5b3),'properties':{'questionText':{'type':_0x71767e(0x427)},'questionType':{'type':_0x71767e(0x427)},'options':{'type':_0x71767e(0x5f0),'items':{'type':_0x71767e(0x427)}},'correctAnswerIndex':{'type':_0x71767e(0x586)},'idealAnswer':{'type':_0x71767e(0x427)},'explanation':{'type':'STRING'}},'required':[_0x71767e(0x551),'explanation']}}},'required':['topic',_0x71767e(0xd2)]},_0x1e79c3=await callAnalysisApi(_0x49efde,_0x4f349b),_0x22994b=_0x1e1b27[_0x71767e(0x4bb)][_0x71767e(0x619)](_0x71767e(0x4e6),'')[_0x71767e(0x6fe)](),_0x2bf574=_0x71767e(0x109)+_0x22994b,_0x24fe49={..._0x1e79c3,'topic':_0x2bf574,'quizType':_0x1e1b27[_0x71767e(0x1f6)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x71767e(0x407)](),'status':_0x71767e(0x21d),'settings':_0x1e1b27[_0x71767e(0x213)],'quizMode':'post-test','pairedQuizId':_0x1e1b27['id']};let _0x20da9e;while(!![]){_0x20da9e=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x71767e(0x6de)]();const _0x5c8503=await getDoc(doc(db,_0x71767e(0x3bf)+appId+_0x71767e(0x778),_0x20da9e));if(!_0x5c8503[_0x71767e(0x1c9)]())break;}await setDoc(doc(db,_0x71767e(0x3bf)+appId+'/public/data/quizzes',_0x20da9e),_0x24fe49);const _0x534eae=doc(db,_0x71767e(0x3bf)+appId+_0x71767e(0x778),_0x1e1b27['id']);await updateDoc(_0x534eae,{'pairedQuizId':_0x20da9e}),showMessage(_0x71767e(0x337));}catch(_0x2ed9b3){console[_0x71767e(0x3ef)](_0x71767e(0x4f1),_0x2ed9b3),showMessage(_0x71767e(0x40f)+_0x2ed9b3[_0x71767e(0x4e5)]);}finally{const _0x6332a=document[_0x71767e(0x36a)]('temp-loader-results');if(_0x6332a)_0x6332a[_0x71767e(0x52c)]();_0x121181['classList'][_0x71767e(0x52c)](_0x71767e(0x544));}}async function handleGenerateParallelTest(){const _0x51f2dc=_0xd665bf,_0x51e1f6=document[_0x51f2dc(0x36a)](_0x51f2dc(0x4fa)),_0x584495=_0x51e1f6[_0x51f2dc(0x5a3)][0x0];if(!_0x584495){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x335d68=document[_0x51f2dc(0x36a)](_0x51f2dc(0x83c)),_0x1a9c9a=document[_0x51f2dc(0x36a)](_0x51f2dc(0x2cb)),_0x38103f=document[_0x51f2dc(0x36a)](_0x51f2dc(0x73d)),_0x485baf=document[_0x51f2dc(0x36a)]('generate-from-parallel-test-btn');_0x485baf['disabled']=!![],document[_0x51f2dc(0x36a)]('quiz-generation-area')[_0x51f2dc(0x1e4)]['remove'](_0x51f2dc(0x544)),_0x38103f['innerHTML']='',_0x335d68[_0x51f2dc(0x1e4)][_0x51f2dc(0x52c)](_0x51f2dc(0x544)),_0x1a9c9a[_0x51f2dc(0x41b)]=_0x51f2dc(0x67e);try{const _0x373cea=await extractTextFromPdf(_0x584495);if(!_0x373cea[_0x51f2dc(0x6fe)]())throw new Error('ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย');_0x1a9c9a['textContent']=_0x51f2dc(0x6d3);const _0x2c19b4=document[_0x51f2dc(0x36a)](_0x51f2dc(0x7cc))[_0x51f2dc(0x6d2)],_0x12163d=_0x2c19b4?_0x51f2dc(0x5d0):'',_0x197344=_0x51f2dc(0x403)+_0x373cea+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12163d+_0x51f2dc(0x1e0)+simpleMathPrompt+_0x51f2dc(0x79b),_0x492106={'type':_0x51f2dc(0x5b3),'properties':{'questionText':{'type':_0x51f2dc(0x427)},'questionType':{'type':_0x51f2dc(0x427),'enum':['multiple_choice','short_answer']},'options':{'type':_0x51f2dc(0x5f0),'items':{'type':_0x51f2dc(0x427)}},'correctAnswerIndex':{'type':_0x51f2dc(0x586)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x51f2dc(0x427)},'imageCode':{'type':_0x51f2dc(0x427)}},'required':[_0x51f2dc(0x551),'questionType',_0x51f2dc(0x3f1)]},_0x15a9c1={'type':_0x51f2dc(0x5b3),'properties':{'topic':{'type':_0x51f2dc(0x427)},'questions':{'type':'ARRAY','items':_0x492106}},'required':[_0x51f2dc(0x4bb),_0x51f2dc(0xd2)]};await handleApiCall(_0x197344,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x15a9c1);}catch(_0x47a7e1){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x47a7e1),showMessage(_0x51f2dc(0x40f)+_0x47a7e1[_0x51f2dc(0x4e5)]),_0x38103f[_0x51f2dc(0xed)]=_0x51f2dc(0x682);}finally{_0x335d68[_0x51f2dc(0x1e4)]['add'](_0x51f2dc(0x544)),_0x485baf[_0x51f2dc(0x526)]=![];}}async function handleRegenerateQuestionInEditor(_0x455e9d){const _0x2c9792=_0xd665bf;if(currentEditingQuizData===null)return;const _0xe5f095=document[_0x2c9792(0x29b)](_0x2c9792(0x1b8)+_0x455e9d+'\x22]');_0xe5f095&&(_0xe5f095[_0x2c9792(0xed)]=_0x2c9792(0x58f));const _0x874f67=currentEditingQuizData[_0x2c9792(0xd2)][_0x455e9d],_0x53cfe4=currentEditingQuizData['topic'],_0x4b661a=_0x874f67[_0x2c9792(0x2ca)],_0x4b582c={'type':'OBJECT','properties':{'questionText':{'type':_0x2c9792(0x427)},'options':{'type':_0x2c9792(0x5f0),'items':{'type':_0x2c9792(0x427)}},'correctAnswerIndex':{'type':_0x2c9792(0x586)},'explanation':{'type':_0x2c9792(0x427)}},'required':[_0x2c9792(0x551),_0x2c9792(0x63d),_0x2c9792(0x7cf),_0x2c9792(0x3f1)]},_0x575142={'type':'OBJECT','properties':{'questionText':{'type':_0x2c9792(0x427)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2c9792(0x427)}},'required':[_0x2c9792(0x551),_0x2c9792(0x5a5),_0x2c9792(0x3f1)]};let _0x4f9b10,_0x26790a='';_0x4b661a===_0x2c9792(0x4ba)?(_0x4f9b10=_0x4b582c,_0x26790a='แบบปรนัย\x204\x20ตัวเลือก'):(_0x4f9b10=_0x575142,_0x26790a='แบบเติมคำตอบ');const _0x44fb81=_0x2c9792(0x5f3)+_0x53cfe4+_0x2c9792(0x77a)+_0x26790a+_0x2c9792(0x550)+(_0x874f67[_0x2c9792(0x551)]||_0x874f67[_0x2c9792(0x36f)])+_0x2c9792(0x516)+simpleMathPrompt;try{const _0x57af43=await callAnalysisApi(_0x44fb81,_0x4f9b10);currentEditingQuizData[_0x2c9792(0xd2)][_0x455e9d]={..._0x874f67,..._0x57af43},renderQuizEditor(currentEditingQuizData);}catch(_0x2c7bdc){console['error'](_0x2c9792(0x7fd),_0x2c7bdc),showMessage(_0x2c9792(0x338)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x5eb749=_0xd665bf,_0x1b4756=document['getElementById'](_0x5eb749(0x2c3));currentMode===_0x5eb749(0x7e8)?(adminPasswordModal['classList'][_0x5eb749(0x52c)](_0x5eb749(0x544)),document[_0x5eb749(0x36a)](_0x5eb749(0x71e))[_0x5eb749(0x847)]()):(currentMode=_0x5eb749(0x7e8),_0x1b4756[_0x5eb749(0xed)]=_0x5eb749(0x59c),_0x1b4756[_0x5eb749(0x6d8)]='สลับไปโหมดผู้ควบคุม',showView(_0x5eb749(0x7e8)));}function handleAdminLogin(){const _0x3ecc17=_0xd665bf,_0x4c17ec=document[_0x3ecc17(0x36a)](_0x3ecc17(0x71e)),_0x32b334=document['getElementById'](_0x3ecc17(0x29e));if(_0x4c17ec['value']===_0x3ecc17(0x1f5)){adminPasswordModal[_0x3ecc17(0x1e4)][_0x3ecc17(0xff)](_0x3ecc17(0x544)),_0x4c17ec[_0x3ecc17(0x4fc)]='',_0x32b334[_0x3ecc17(0x1e4)][_0x3ecc17(0xff)](_0x3ecc17(0x544)),currentMode=_0x3ecc17(0x754);const _0x10f472=document[_0x3ecc17(0x36a)](_0x3ecc17(0x2c3));_0x10f472['innerHTML']=_0x3ecc17(0x4dd),_0x10f472[_0x3ecc17(0x6d8)]=_0x3ecc17(0x717),showView(_0x3ecc17(0x2b1));}else _0x32b334[_0x3ecc17(0x1e4)]['remove'](_0x3ecc17(0x544)),_0x4c17ec[_0x3ecc17(0x4fc)]='';}function switchProjectTab(_0x2599d3){const _0x1435cd=_0xd665bf;['manage','results',_0x1435cd(0x803)][_0x1435cd(0x4be)](_0x2a9ce2=>{const _0x413863=_0x1435cd;document[_0x413863(0x36a)](_0x2a9ce2+_0x413863(0x471))[_0x413863(0x1e4)][_0x413863(0x52c)]('active'),document[_0x413863(0x36a)](_0x2a9ce2+_0x413863(0x64d))[_0x413863(0x1e4)]['add']('hidden');}),document[_0x1435cd(0x36a)](_0x2599d3+_0x1435cd(0x471))[_0x1435cd(0x1e4)][_0x1435cd(0xff)]('active'),document[_0x1435cd(0x36a)](_0x2599d3+_0x1435cd(0x64d))[_0x1435cd(0x1e4)][_0x1435cd(0x52c)](_0x1435cd(0x544));}function switchQuizDetailTab(_0x2522e7){const _0x572389=_0xd665bf,_0x4961d7={'analytics':{'btn':_0x572389(0x21a),'content':_0x572389(0x7e0)},'scores':{'btn':_0x572389(0x1da),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x572389(0x3b8),'content':_0x572389(0x692)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x572389(0x37d)}};for(const _0x2c4598 in _0x4961d7){document[_0x572389(0x36a)](_0x4961d7[_0x2c4598][_0x572389(0x205)])['classList']['remove'](_0x572389(0x21d)),document['getElementById'](_0x4961d7[_0x2c4598]['content'])[_0x572389(0x1e4)]['add']('hidden');}document[_0x572389(0x36a)](_0x4961d7[_0x2522e7][_0x572389(0x205)])[_0x572389(0x1e4)][_0x572389(0xff)](_0x572389(0x21d)),document[_0x572389(0x36a)](_0x4961d7[_0x2522e7]['content'])[_0x572389(0x1e4)][_0x572389(0x52c)]('hidden');}function showMessage(_0x113c06,_0x307e01=null){const _0x1e4220=_0xd665bf;modalMessage[_0x1e4220(0x41b)]=_0x113c06,modalConfirmAction=_0x307e01,messageModal[_0x1e4220(0x1e4)][_0x1e4220(0x52c)]('hidden');}function showConfirmation(_0x3611aa,_0x58f728){const _0x316f62=_0xd665bf;document[_0x316f62(0x36a)](_0x316f62(0x3f2))[_0x316f62(0x41b)]=_0x3611aa,document[_0x316f62(0x36a)]('confirmation-modal')['querySelector']('h3')[_0x316f62(0x41b)]=_0x316f62(0x40b),confirmAction=_0x58f728,confirmationModal['classList'][_0x316f62(0x52c)]('hidden');}function listenForProjects(){const _0x2448bc=_0xd665bf,_0x37c57d=doc(db,_0x2448bc(0x27b),'dashboardConfig');onSnapshot(_0x37c57d,_0x23cc2d=>{const _0x1c2d1b=_0x2448bc;if(_0x23cc2d[_0x1c2d1b(0x1c9)]()){const _0x3d614d=_0x23cc2d[_0x1c2d1b(0x6a1)]();globalDashboardSettings[_0x1c2d1b(0x569)]=_0x3d614d[_0x1c2d1b(0x569)]||_0x1c2d1b(0x258),globalDashboardSettings['pinnedProjects']=_0x3d614d[_0x1c2d1b(0x85b)]||[],globalDashboardSettings[_0x1c2d1b(0xf4)]=_0x3d614d[_0x1c2d1b(0xf4)]||[];}allProjects[_0x1c2d1b(0x30f)]>0x0&&renderProjects();});const _0x6bd563=collection(db,_0x2448bc(0x3bf)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x6bd563,_0x10c05d=>{const _0x488cea=_0x2448bc;allProjects=_0x10c05d[_0x488cea(0x66a)][_0x488cea(0x6f9)](_0x5ea8dc=>({'id':_0x5ea8dc['id'],..._0x5ea8dc[_0x488cea(0x6a1)]()})),renderProjects();},_0x398a9d=>{const _0x52bca9=_0x2448bc;console['error']('Error\x20listening\x20for\x20projects:',_0x398a9d),showMessage(_0x52bca9(0x3f5));});}function showColorPalette(_0x26abcf,_0x147f36){const _0x2847b9=_0xd665bf;document['querySelectorAll'](_0x2847b9(0x4cf))[_0x2847b9(0x4be)](_0x3e4c67=>_0x3e4c67['remove']());const _0x21eff9=['#FFFFFF','#FEE2E2','#FEF3C7',_0x2847b9(0x4f7),_0x2847b9(0x3bc),_0x2847b9(0x6c9),_0x2847b9(0x480),'#FCE7F3',_0x2847b9(0x2b2)],_0x469592=document['createElement'](_0x2847b9(0x7e2));_0x469592[_0x2847b9(0x167)]='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x21eff9['forEach'](_0x35f10d=>{const _0x2458ad=_0x2847b9,_0x5a945b=document[_0x2458ad(0x79f)]('div');_0x5a945b[_0x2458ad(0x167)]=_0x2458ad(0x73a),_0x5a945b[_0x2458ad(0x60c)][_0x2458ad(0x7ac)]=_0x35f10d,_0x5a945b[_0x2458ad(0x125)](_0x2458ad(0x6ff),()=>{handleProjectColorChange(_0x147f36,_0x35f10d),_0x469592['remove']();}),_0x469592[_0x2458ad(0x5c5)](_0x5a945b);}),document[_0x2847b9(0x2ae)][_0x2847b9(0x5c5)](_0x469592);const _0x11fc56=_0x26abcf[_0x2847b9(0x7f6)]();_0x469592[_0x2847b9(0x60c)][_0x2847b9(0x102)]=_0x11fc56[_0x2847b9(0x532)]+window[_0x2847b9(0x509)]+'px',_0x469592[_0x2847b9(0x60c)][_0x2847b9(0x290)]=_0x11fc56['left']+window[_0x2847b9(0x5e1)]-_0x469592['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x86acde,_0xe4d026){const _0x41ddc1=_0xd665bf,_0x45c2d8=doc(db,'artifacts/'+appId+_0x41ddc1(0x14a),_0x86acde);try{await updateDoc(_0x45c2d8,{'color':_0xe4d026});}catch(_0x4d1c6a){console['error'](_0x41ddc1(0x32b),_0x4d1c6a),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x158857=_0xd665bf,_0xe0c96=globalDashboardSettings[_0x158857(0x569)]||'date_desc',_0x30d1e6=new Set(globalDashboardSettings[_0x158857(0x85b)]||[]),_0x15a281=globalDashboardSettings[_0x158857(0x191)]||_0x158857(0x4db),_0x457689=document[_0x158857(0x36a)](_0x158857(0x97)),_0x1ae91e=document['getElementById'](_0x158857(0x590));_0x457689[_0x158857(0x1e4)]['toggle']('active',_0x15a281===_0x158857(0x4db)),_0x1ae91e[_0x158857(0x1e4)][_0x158857(0x7fa)](_0x158857(0x21d),_0x15a281===_0x158857(0x18f)),document[_0x158857(0x36a)](_0x158857(0x580))[_0x158857(0x4fc)]=_0xe0c96;const _0x148b00=document['getElementById']('project-search-input')[_0x158857(0x4fc)]['toLowerCase']();let _0x121d85=allProjects[_0x158857(0x77f)](_0x58046e=>_0x58046e[_0x158857(0x9c)][_0x158857(0x423)]()['includes'](_0x148b00));const _0x2e7088=_0x121d85[_0x158857(0x77f)](_0x34d1d0=>_0x30d1e6[_0x158857(0x588)](_0x34d1d0['id'])),_0x56650b=_0x121d85[_0x158857(0x77f)](_0xd29610=>!_0x30d1e6[_0x158857(0x588)](_0xd29610['id'])),_0x4eee8c=(_0x2944f6,_0x428644)=>{const _0x5386f6=_0x158857;switch(_0xe0c96){case _0x5386f6(0x16e):return _0x2944f6[_0x5386f6(0x9c)]['localeCompare'](_0x428644['projectName'],'th');case _0x5386f6(0x806):return _0x428644[_0x5386f6(0x9c)][_0x5386f6(0x6df)](_0x2944f6[_0x5386f6(0x9c)],'th');case _0x5386f6(0x1ef):return new Date(_0x2944f6['createdAt'])-new Date(_0x428644[_0x5386f6(0x234)]);default:return new Date(_0x428644[_0x5386f6(0x234)])-new Date(_0x2944f6['createdAt']);}};_0x2e7088[_0x158857(0x4c5)](_0x4eee8c),_0x56650b['sort'](_0x4eee8c);const _0x5bbb25=[..._0x2e7088,..._0x56650b],_0x35f986=globalDashboardSettings[_0x158857(0xf4)]||[];_0x35f986[_0x158857(0x30f)]>0x0&&_0x15a281===_0x158857(0x4db)&&_0x5bbb25[_0x158857(0x4c5)]((_0x586e66,_0x4cf9b9)=>{const _0xedcc67=_0x158857,_0x29f324=_0x35f986['indexOf'](_0x586e66['id']),_0x51f029=_0x35f986[_0xedcc67(0x25c)](_0x4cf9b9['id']);if(_0x29f324===-0x1)return 0x1;if(_0x51f029===-0x1)return-0x1;return _0x29f324-_0x51f029;});const _0x399ef3={};await Promise[_0x158857(0x6ba)](_0x5bbb25[_0x158857(0x6f9)](async _0x87387=>{const _0xd1c367=_0x158857,_0x237fce=query(collection(db,_0xd1c367(0x3bf)+appId+'/public/data/quizzes'),where(_0xd1c367(0x2fd),'==',_0x87387['id'])),_0x4ac425=await getDocs(_0x237fce);_0x399ef3[_0x87387['id']]=_0x4ac425['size'];}));const _0x4e6c30=document['getElementById'](_0x158857(0x7a8));let _0x277c15='';if(_0x15a281===_0x158857(0x4db)){_0x4e6c30[_0x158857(0x167)]=_0x158857(0xd0);if(starredQuizzes['length']>0x0&&_0x148b00===''){const _0x381516=starredQuizzes[_0x158857(0x6f9)](_0x5713d0=>{const _0x2cf3f1=_0x158857,_0x1374b5=allProjects[_0x2cf3f1(0x5ec)](_0x5c7226=>_0x5c7226['id']===_0x5713d0[_0x2cf3f1(0x2fd)]);return{..._0x5713d0,'projectName':_0x1374b5?_0x1374b5[_0x2cf3f1(0x9c)]:_0x2cf3f1(0x6fa)};});_0x277c15+=_0x158857(0x295)+_0x381516[_0x158857(0x6f9)](_0x56c35a=>_0x158857(0x6d9)+_0x56c35a['topic']+'\x22>'+_0x56c35a[_0x158857(0x4bb)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x56c35a[_0x158857(0x9c)]+_0x158857(0x48a)+_0x56c35a[_0x158857(0x9c)]+_0x158857(0x7e3))[_0x158857(0x2da)]('')+_0x158857(0x255)+starredQuizzes[_0x158857(0x30f)]+_0x158857(0x345);}_0x5bbb25[_0x158857(0x4be)](_0x5c7134=>{const _0x3ac796=_0x158857,_0x3da45f=_0x399ef3[_0x5c7134['id']]??0x0,_0x14142=_0x30d1e6['has'](_0x5c7134['id']),_0x2ce502=_0x5c7134['color']||_0x3ac796(0x2c7),_0xf4e24b=parseInt(_0x2ce502['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x2ce502[_0x3ac796(0xad)](0x3,0x5),0x10)*0.587+parseInt(_0x2ce502[_0x3ac796(0xad)](0x5,0x7),0x10)*0.114<0xba,_0x1cd691=_0xf4e24b?_0x3ac796(0x115):'text-indigo-800',_0x514ed5=_0xf4e24b?_0x3ac796(0x639):_0x3ac796(0x204);_0x277c15+=_0x3ac796(0x3cd)+(_0x14142?'border-indigo-400\x20ring-2\x20ring-indigo-200':'border-gray-200')+_0x3ac796(0x760)+_0x2ce502+_0x3ac796(0x4b6)+_0x5c7134['id']+_0x3ac796(0x343)+_0x5c7134['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0xf4e24b?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x3ac796(0x59e)+_0x5c7134['id']+_0x3ac796(0x70a)+(_0xf4e24b?_0x3ac796(0x1d5):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x14142?_0xf4e24b?_0x3ac796(0x6b3):_0x3ac796(0x795):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x5c7134['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x1cd691+'\x20pointer-events-none\x22>'+_0x5c7134[_0x3ac796(0x9c)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x514ed5+_0x3ac796(0x352)+new Date(_0x5c7134['createdAt'])['toLocaleDateString'](_0x3ac796(0x5c0))+_0x3ac796(0x415)+(_0xf4e24b?'text-gray-100':_0x3ac796(0x38a))+_0x3ac796(0x4ad)+_0x3da45f+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5c7134['id']+_0x3ac796(0x130)+_0x5c7134['projectName']+'\x22\x20class=\x22delete-project-btn\x20'+(_0xf4e24b?'text-red-300\x20hover:text-red-100':_0x3ac796(0x376))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x4e6c30[_0x158857(0x167)]=_0x158857(0x3fd),starredQuizzes['length']>0x0&&_0x148b00===''&&(_0x277c15+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x158857(0x30f)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x277c15+=_0x158857(0x595),_0x5bbb25[_0x158857(0x4be)](_0x3dd7cc=>{const _0x1c9434=_0x158857,_0x38f2db=_0x399ef3[_0x3dd7cc['id']]??0x0,_0x51ef99=_0x30d1e6[_0x1c9434(0x588)](_0x3dd7cc['id']);_0x277c15+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x3dd7cc[_0x1c9434(0x10e)]||_0x1c9434(0x2b2))+_0x1c9434(0x406)+_0x3dd7cc['id']+_0x1c9434(0x22e)+_0x3dd7cc[_0x1c9434(0x9c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x38f2db+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x3dd7cc[_0x1c9434(0x234)])[_0x1c9434(0x7ff)](_0x1c9434(0x5c0))+_0x1c9434(0x56b)+_0x3dd7cc['id']+_0x1c9434(0x677)+(_0x51ef99?_0x1c9434(0x795):'')+_0x1c9434(0x555)+_0x3dd7cc['id']+_0x1c9434(0x130)+_0x3dd7cc[_0x1c9434(0x9c)]+_0x1c9434(0x7f7);});projectList[_0x158857(0xed)]=_0x277c15,noProjectsMsg['classList']['toggle'](_0x158857(0x544),_0x277c15[_0x158857(0x30f)]>0x0);}document[_0xd665bf(0x36a)](_0xd665bf(0x25e))[_0xd665bf(0x125)](_0xd665bf(0x6ff),async()=>{const _0x387cb4=_0xd665bf,_0x2305d1=document['getElementById'](_0x387cb4(0x315)),_0x4f565f=_0x2305d1[_0x387cb4(0x4fc)][_0x387cb4(0x6fe)]();if(!_0x4f565f){showMessage(_0x387cb4(0x689));return;}try{const _0x2b1e93=doc(collection(db,_0x387cb4(0x3bf)+appId+_0x387cb4(0x14a)));await setDoc(_0x2b1e93,{'projectName':_0x4f565f,'students':[],'settings':{'resultsDisplay':_0x387cb4(0x809),'shuffleSetting':_0x387cb4(0x44b),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x387cb4(0x407)]()}),_0x2305d1[_0x387cb4(0x4fc)]='',createProjectModal['classList'][_0x387cb4(0xff)](_0x387cb4(0x544)),showMessage(_0x387cb4(0x7a5));}catch(_0x334f59){console[_0x387cb4(0x3ef)]('Error\x20creating\x20project:',_0x334f59),showMessage(_0x387cb4(0x123));}}),projectList['addEventListener'](_0xd665bf(0x6ff),async _0x5d0558=>{const _0x511d4e=_0xd665bf,_0x46ead8=_0x5d0558['target'][_0x511d4e(0x3b7)](_0x511d4e(0x40e)),_0x337969=_0x5d0558[_0x511d4e(0x817)]['closest'](_0x511d4e(0x496)),_0x233677=_0x5d0558['target'][_0x511d4e(0x3b7)](_0x511d4e(0x47b)),_0x2da919=_0x5d0558['target'][_0x511d4e(0x3b7)](_0x511d4e(0xec));if(_0x233677){const _0x379a3e=_0x233677['dataset']['id'],_0x14a72d=doc(db,_0x511d4e(0x27b),_0x511d4e(0x292)),_0x1faa65=globalDashboardSettings[_0x511d4e(0x85b)];let _0x948ffe;_0x1faa65['includes'](_0x379a3e)?_0x948ffe=_0x1faa65['filter'](_0x5dec54=>_0x5dec54!==_0x379a3e):_0x948ffe=[..._0x1faa65,_0x379a3e];try{await setDoc(_0x14a72d,{'pinnedProjects':_0x948ffe},{'merge':!![]});}catch(_0x3e69d1){console[_0x511d4e(0x3ef)](_0x511d4e(0x781),_0x3e69d1),showMessage(_0x511d4e(0x582));}}else{if(_0x2da919){const _0x387401=_0x2da919['dataset']['id'];showColorPalette(_0x2da919,_0x387401);}else{if(_0x46ead8){const _0x3a55fc=_0x46ead8[_0x511d4e(0x53c)]['id'];_0x3a55fc==='starred-project'?showStarredProjectView():(currentProjectId=_0x3a55fc,await loadProjectDetails(currentProjectId),showView(_0x511d4e(0x2d7)));}else{if(_0x337969){const _0x316d39=_0x337969['dataset']['id'],_0x4d0d2e=_0x337969[_0x511d4e(0x53c)][_0x511d4e(0x2cf)];showConfirmation(_0x511d4e(0x33c)+_0x4d0d2e+_0x511d4e(0x371),()=>handleDeleteProject(_0x316d39));}}}}}),projectList[_0xd665bf(0x125)](_0xd665bf(0x3ed),_0x584139=>{const _0x4cb3f9=_0xd665bf,_0x5469b8=_0x584139[_0x4cb3f9(0x817)]['closest']('.project-card-container');_0x5469b8&&_0x5469b8[_0x4cb3f9(0x1e4)][_0x4cb3f9(0xff)](_0x4cb3f9(0x4f4));}),projectList[_0xd665bf(0x125)]('dragend',_0x23af44=>{const _0x45413e=_0xd665bf,_0x5a9a83=_0x23af44[_0x45413e(0x817)]['closest']('.project-card-container');_0x5a9a83&&_0x5a9a83['classList'][_0x45413e(0x52c)]('opacity-50');}),projectList[_0xd665bf(0x125)](_0xd665bf(0x6a0),_0x3cb6d7=>{const _0x1c2beb=_0xd665bf;_0x3cb6d7[_0x1c2beb(0x699)]();const _0x2da298=document[_0x1c2beb(0x29b)](_0x1c2beb(0x4a6));if(!_0x2da298)return;const _0x3cd8cf=getDragAfterElement(projectList,_0x3cb6d7[_0x1c2beb(0x160)]);_0x3cd8cf==null?projectList[_0x1c2beb(0x5c5)](_0x2da298):projectList[_0x1c2beb(0x49f)](_0x2da298,_0x3cd8cf);}),projectList[_0xd665bf(0x125)]('drop',_0x51e3a6=>{const _0x38e46f=_0xd665bf;_0x51e3a6[_0x38e46f(0x699)]();const _0x520a64=[...projectList['querySelectorAll'](_0x38e46f(0x5ac))]['map'](_0x7748ce=>_0x7748ce[_0x38e46f(0x53c)]['id']);saveProjectOrder(_0x520a64);});function renderBehaviorLog(_0x43a1d0){const _0x5bbd0e=_0xd665bf,_0x5c4bf0=document[_0x5bbd0e(0x36a)]('behavior-log-container');if(!_0x5c4bf0)return;const _0x15ccb2=_0x43a1d0[_0x5bbd0e(0x77f)](_0x364812=>_0x364812['behaviorLog']&&_0x364812[_0x5bbd0e(0x3cf)][_0x5bbd0e(0x30f)]>0x0);if(_0x15ccb2[_0x5bbd0e(0x30f)]===0x0){_0x5c4bf0[_0x5bbd0e(0xed)]=_0x5bbd0e(0x174);return;}let _0x10fe9b='';_0x15ccb2['forEach'](_0xccf07d=>{const _0x2c8822=_0x5bbd0e;_0x10fe9b+=_0x2c8822(0x68d)+_0xccf07d[_0x2c8822(0x724)]+_0x2c8822(0x7ed),_0xccf07d[_0x2c8822(0x3cf)][_0x2c8822(0x4c5)]((_0x5cb0f3,_0x40b68e)=>new Date(_0x40b68e[_0x2c8822(0x520)])-new Date(_0x5cb0f3[_0x2c8822(0x520)]))[_0x2c8822(0x4be)](_0x45a2ff=>{const _0x45d798=_0x2c8822,_0x2b2f20=new Date(_0x45a2ff[_0x45d798(0x520)])['toLocaleString'](_0x45d798(0x5c0),{'dateStyle':_0x45d798(0x833),'timeStyle':'medium'});_0x10fe9b+=_0x45d798(0x20d)+_0x45a2ff[_0x45d798(0x539)]+_0x45d798(0x24d)+_0x2b2f20+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x10fe9b+=_0x2c8822(0x2c5);}),_0x5c4bf0[_0x5bbd0e(0xed)]=_0x10fe9b;}function getDragAfterElement(_0x436393,_0x3d2bf4){const _0x22a0ab=_0xd665bf,_0x16141d=[..._0x436393[_0x22a0ab(0x24f)](_0x22a0ab(0x641))];return _0x16141d[_0x22a0ab(0x707)]((_0x22e491,_0x438eb6)=>{const _0x4fe18b=_0x22a0ab,_0xbf3a6a=_0x438eb6[_0x4fe18b(0x7f6)](),_0x54c283=_0x3d2bf4-_0xbf3a6a[_0x4fe18b(0x102)]-_0xbf3a6a['height']/0x2;return _0x54c283<0x0&&_0x54c283>_0x22e491['offset']?{'offset':_0x54c283,'element':_0x438eb6}:_0x22e491;},{'offset':Number[_0x22a0ab(0x651)]})[_0x22a0ab(0x21c)];}async function saveProjectOrder(_0xdc0507){const _0x58239b=_0xd665bf,_0x12c76f=doc(db,_0x58239b(0x27b),_0x58239b(0x292));try{await setDoc(_0x12c76f,{'projectOrder':_0xdc0507},{'merge':!![]});}catch(_0x15e84e){console[_0x58239b(0x3ef)](_0x58239b(0x2d6),_0x15e84e),showMessage(_0x58239b(0x6cb));}}async function logBehaviorEvent(_0x284221,_0x39ce21={}){const _0x3cab69=_0xd665bf;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x3cab69(0x24e)](_0x3cab69(0x574));return;}const _0x16c830=doc(db,_0x3cab69(0x3bf)+appId+_0x3cab69(0x187)+currentQuizData['id']+_0x3cab69(0x519),currentStudentName),_0x305d51={'event':_0x284221,'timestamp':new Date()[_0x3cab69(0x407)](),..._0x39ce21};try{await setDoc(_0x16c830,{'studentName':currentStudentName,'behaviorLog':arrayUnion(_0x305d51)},{'merge':!![]}),console[_0x3cab69(0x35f)](_0x3cab69(0x14c)+currentStudentName+_0x3cab69(0x1eb)+_0x284221);}catch(_0x38ca5f){console[_0x3cab69(0x3ef)](_0x3cab69(0x14d),_0x38ca5f);}}function calculateMeanAndStdDev(_0x11cfee){const _0x593246=_0xd665bf;if(_0x11cfee[_0x593246(0x30f)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x36dca5=_0x11cfee[_0x593246(0x707)]((_0x2b8953,_0x4e687a)=>_0x2b8953+_0x4e687a,0x0)/_0x11cfee['length'];if(_0x11cfee[_0x593246(0x30f)]===0x1)return{'mean':_0x36dca5,'stdDev':0x0};const _0x17c457=Math[_0x593246(0x466)](_0x11cfee[_0x593246(0x6f9)](_0x238f89=>Math['pow'](_0x238f89-_0x36dca5,0x2))[_0x593246(0x707)]((_0x2806c2,_0x4cbecf)=>_0x2806c2+_0x4cbecf,0x0)/(_0x11cfee[_0x593246(0x30f)]-0x1));return{'mean':_0x36dca5,'stdDev':_0x17c457};}function calculateZScore(_0x3fb073,_0x33a9b9,_0x3d1bd3){if(_0x3d1bd3===0x0)return 0x0;return(_0x3fb073-_0x33a9b9)/_0x3d1bd3;}function calculateTScore(_0x5f436b){return 0xa*_0x5f436b+0x32;}function showStarredProjectView(){const _0x2da77e=_0xd665bf;currentProjectId=_0x2da77e(0x410),currentProjectData=null,projectTitle[_0x2da77e(0x41b)]=_0x2da77e(0x6c1),projectIdDisplay[_0x2da77e(0x41b)]='pinned-items',showView(_0x2da77e(0x2d7)),manageTab['classList'][_0x2da77e(0xff)](_0x2da77e(0x544)),leaderboardTab[_0x2da77e(0x1e4)][_0x2da77e(0xff)]('hidden'),switchProjectTab(_0x2da77e(0x231)),renderQuizzes();}async function loadProjectDetails(_0x132166){const _0x5bafcd=_0xd665bf,_0x15a785=doc(db,_0x5bafcd(0x3bf)+appId+_0x5bafcd(0x14a),_0x132166),_0x54a19a=await getDoc(_0x15a785);if(_0x54a19a[_0x5bafcd(0x1c9)]()){manageTab[_0x5bafcd(0x1e4)]['remove'](_0x5bafcd(0x544)),leaderboardTab[_0x5bafcd(0x1e4)]['remove'](_0x5bafcd(0x544)),currentProjectData=_0x54a19a[_0x5bafcd(0x6a1)](),projectTitle[_0x5bafcd(0x41b)]=currentProjectData[_0x5bafcd(0x9c)],projectIdDisplay[_0x5bafcd(0x41b)]=_0x132166;const _0x3f5231=currentProjectData[_0x5bafcd(0x213)]||{};document[_0x5bafcd(0x36a)](_0x5bafcd(0x454))[_0x5bafcd(0x4fc)]=_0x3f5231[_0x5bafcd(0x5f1)]||'none';const _0x59aa98=document[_0x5bafcd(0x36a)]('show-in-student-dashboard-checkbox');_0x59aa98[_0x5bafcd(0x6d2)]=_0x3f5231['showInStudentDashboard']!==![];const _0x4bb5b0=document[_0x5bafcd(0x36a)]('enable-passcode-checkbox'),_0x5d75bf=document[_0x5bafcd(0x36a)]('passcode-input-container'),_0x5b27f9=document[_0x5bafcd(0x36a)]('project-passcode-input'),_0x25e6dc=_0x3f5231[_0x5bafcd(0x654)]||![];_0x4bb5b0['checked']=_0x25e6dc,_0x5b27f9[_0x5bafcd(0x4fc)]=_0x3f5231[_0x5bafcd(0x24a)]||'',_0x5d75bf[_0x5bafcd(0x1e4)][_0x5bafcd(0x7fa)](_0x5bafcd(0x544),!_0x25e6dc),_0x4bb5b0[_0x5bafcd(0x326)]=()=>{const _0x473acd=_0x5bafcd;_0x5d75bf[_0x473acd(0x1e4)][_0x473acd(0x7fa)]('hidden',!_0x4bb5b0[_0x473acd(0x6d2)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x132166),listenForProjectQuizzes(_0x132166),listenForStudentProfiles(_0x132166);}else showMessage('ไม่พบโปรเจค'),showView('admin-dashboard');}async function handleResetProjectOrder(){const _0x41bed0=_0xd665bf,_0x53dbfc=doc(db,'globalSettings',_0x41bed0(0x292));try{await setDoc(_0x53dbfc,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x44cb76){console['error'](_0x41bed0(0xa2),_0x44cb76),showMessage(_0x41bed0(0x2d1));}}async function handleTogglePinProject(_0x1c98c5){const _0x41b578=_0xd665bf;if(!_0x1c98c5)return;const _0x3a6033=doc(db,_0x41b578(0x3bf)+appId+_0x41b578(0x14a),_0x1c98c5);try{const _0xa9a8c0=await getDoc(_0x3a6033);if(_0xa9a8c0['exists']()){const _0x100e33=_0xa9a8c0[_0x41b578(0x6a1)]()[_0x41b578(0x487)]||![];await updateDoc(_0x3a6033,{'isPinned':!_0x100e33});}}catch(_0x18df60){console[_0x41b578(0x3ef)](_0x41b578(0x813),_0x18df60),showMessage(_0x41b578(0x582));}}async function handleDeleteProject(_0x41f7d6){const _0x1648d1=_0xd665bf;try{const _0x50b293=writeBatch(db),_0x4dce12=collection(db,'artifacts/'+appId+_0x1648d1(0x778)),_0x36fb7a=query(_0x4dce12,where(_0x1648d1(0x2fd),'==',_0x41f7d6)),_0x5d2ac0=await getDocs(_0x36fb7a);for(const _0x39ca10 of _0x5d2ac0[_0x1648d1(0x66a)]){const _0x131f39=collection(db,'artifacts/'+appId+_0x1648d1(0x187)+_0x39ca10['id']+_0x1648d1(0x519)),_0x125ec3=await getDocs(_0x131f39);_0x125ec3['forEach'](_0x212a79=>{_0x50b293['delete'](_0x212a79['ref']);}),_0x50b293[_0x1648d1(0x67b)](_0x39ca10[_0x1648d1(0x301)]);}const _0x241f1a=collection(db,_0x1648d1(0x3bf)+appId+'/public/data/projects/'+_0x41f7d6+'/studentProfiles'),_0x15b772=await getDocs(_0x241f1a);_0x15b772[_0x1648d1(0x4be)](_0x5d4de1=>{const _0xbf8d3e=_0x1648d1;_0x50b293['delete'](_0x5d4de1[_0xbf8d3e(0x301)]);});const _0x5f4b54=doc(db,_0x1648d1(0x3bf)+appId+_0x1648d1(0x14a),_0x41f7d6);_0x50b293['delete'](_0x5f4b54),await _0x50b293['commit'](),showMessage(_0x1648d1(0x837)),showView(_0x1648d1(0x2b1));}catch(_0x2aafd1){console[_0x1648d1(0x3ef)](_0x1648d1(0x4c1),_0x2aafd1),showMessage(_0x1648d1(0x82b));}}document[_0xd665bf(0x36a)](_0xd665bf(0x44a))[_0xd665bf(0x125)](_0xd665bf(0x6ff),async()=>{const _0x1d4007=_0xd665bf;if(!currentProjectId)return;const _0x1b1737={'defaultNumQuestions':parseInt(document[_0x1d4007(0x36a)]('num-questions')[_0x1d4007(0x4fc)]),'defaultNumChoices':parseInt(document[_0x1d4007(0x36a)]('num-choices')[_0x1d4007(0x4fc)]),'defaultPassingScore':parseInt(document['getElementById'](_0x1d4007(0x43e))[_0x1d4007(0x4fc)]),'resultsDisplay':document[_0x1d4007(0x36a)](_0x1d4007(0x181))['value'],'shuffleSetting':document[_0x1d4007(0x36a)](_0x1d4007(0x454))[_0x1d4007(0x4fc)],'timerMode':document['getElementById'](_0x1d4007(0x34c))[_0x1d4007(0x4fc)],'timerDuration':parseInt(document['getElementById'](_0x1d4007(0x4b8))[_0x1d4007(0x4fc)])};try{const _0x23d2b0=doc(db,_0x1d4007(0x3bf)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x23d2b0,{'settings':_0x1b1737}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x4eade0){console[_0x1d4007(0x3ef)](_0x1d4007(0x34d),_0x4eade0),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x3f7e8c){const _0xa51baa=_0xd665bf,_0xaec7c0=doc(db,_0xa51baa(0x3bf)+appId+_0xa51baa(0x14a),_0x3f7e8c);unsubscribeStudentsListener=onSnapshot(_0xaec7c0,_0x2d080e=>{const _0x3de21f=_0xa51baa;if(_0x2d080e[_0x3de21f(0x1c9)]()){const _0x45a5a4=_0x2d080e[_0x3de21f(0x6a1)]();currentProjectData=_0x45a5a4,renderStudentList(_0x45a5a4[_0x3de21f(0x4cb)]||[]);}});}function renderStudentList(_0xe22808){const _0x563fe4=_0xd665bf,_0x26c1a2=document[_0x563fe4(0x36a)](_0x563fe4(0x6f4));_0xe22808[_0x563fe4(0x30f)]===0x0?(studentList[_0x563fe4(0xed)]=_0x563fe4(0x5e6),_0x26c1a2[_0x563fe4(0x1e4)]['add'](_0x563fe4(0x544))):(studentList['innerHTML']=_0xe22808[_0x563fe4(0x6f9)](_0x3d727c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3d727c+_0x563fe4(0xd3)+_0x3d727c+_0x563fe4(0x7b3))[_0x563fe4(0x2da)](''),_0x26c1a2['classList'][_0x563fe4(0x52c)]('hidden'));}document[_0xd665bf(0x36a)](_0xd665bf(0x537))[_0xd665bf(0x125)](_0xd665bf(0x6ff),async()=>{const _0x325978=_0xd665bf;if(!currentProjectId)return;const _0x255b26=document[_0x325978(0x36a)](_0x325978(0x609)),_0x5401c4=_0x255b26['value'][_0x325978(0x6fe)]();if(!_0x5401c4){showMessage(_0x325978(0x725));return;}const _0x1b0552=_0x5401c4[_0x325978(0x838)]('\x0a')[_0x325978(0x6f9)](_0x15ff67=>_0x15ff67['trim']())[_0x325978(0x77f)](_0x57d256=>_0x57d256);if(_0x1b0552['length']===0x0)return;try{const _0x1c1ad0=doc(db,_0x325978(0x3bf)+appId+_0x325978(0x14a),currentProjectId),_0x1cdc8a=await getDoc(_0x1c1ad0);if(_0x1cdc8a[_0x325978(0x1c9)]()){const _0x3c9a46=_0x1cdc8a['data']()['students']||[],_0x4bc9c1=[...new Set([..._0x3c9a46,..._0x1b0552])];await updateDoc(_0x1c1ad0,{'students':_0x4bc9c1}),_0x255b26[_0x325978(0x4fc)]='';}}catch(_0x78e521){console['error'](_0x325978(0x159),_0x78e521),showMessage(_0x325978(0x19d));}});async function handleManualQuizPairing(_0x284691){const _0x2367ac=_0xd665bf,_0x4ca866=document[_0x2367ac(0x36a)](_0x2367ac(0x78d)),_0x5a1b18=document[_0x2367ac(0x36a)](_0x2367ac(0x756)),_0x11db28=_0x4ca866[_0x2367ac(0x29b)]('h3'),_0x59b8d3=document[_0x2367ac(0x36a)](_0x2367ac(0x2bc)),_0x2b1ddc=document[_0x2367ac(0x36a)]('cancel-move-quiz-btn');_0x11db28[_0x2367ac(0x41b)]=_0x2367ac(0x56a),_0x5a1b18[_0x2367ac(0xed)]=_0x2367ac(0x2b4),_0x59b8d3[_0x2367ac(0x41b)]='ยืนยันการจับคู่',_0x4ca866[_0x2367ac(0x1e4)]['remove']('hidden');const _0x488791=allQuizzes['filter'](_0x192f4a=>_0x192f4a['id']!==_0x284691);_0x488791[_0x2367ac(0x30f)]===0x0?(_0x5a1b18[_0x2367ac(0xed)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x59b8d3[_0x2367ac(0x526)]=!![]):(_0x5a1b18[_0x2367ac(0xed)]=_0x2367ac(0x4c9)+_0x488791[_0x2367ac(0x6f9)](_0x3f473c=>_0x2367ac(0x7b6)+_0x3f473c['id']+'\x22>'+_0x3f473c[_0x2367ac(0x4bb)]+_0x2367ac(0x2ed))[_0x2367ac(0x2da)](''),_0x59b8d3[_0x2367ac(0x526)]=![]);const _0x56279d=async()=>{const _0x2ee6bd=_0x2367ac,_0x426df6=_0x5a1b18[_0x2ee6bd(0x4fc)];if(!_0x426df6){showMessage(_0x2ee6bd(0x616));return;}_0x59b8d3[_0x2ee6bd(0x526)]=!![],_0x59b8d3['textContent']=_0x2ee6bd(0x67d);try{const _0x5e84a2=doc(db,'artifacts/'+appId+_0x2ee6bd(0x778),_0x284691),_0x409ea2=doc(db,_0x2ee6bd(0x3bf)+appId+_0x2ee6bd(0x778),_0x426df6),_0x7ffc7c=writeBatch(db);_0x7ffc7c['update'](_0x5e84a2,{'pairedQuizId':_0x426df6}),_0x7ffc7c['update'](_0x409ea2,{'pairedQuizId':_0x284691}),await _0x7ffc7c[_0x2ee6bd(0x3b0)](),showMessage(_0x2ee6bd(0x477)),_0x4ca866[_0x2ee6bd(0x1e4)][_0x2ee6bd(0xff)]('hidden');}catch(_0x50af6e){console[_0x2ee6bd(0x3ef)]('Error\x20pairing\x20quizzes:',_0x50af6e),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x11db28[_0x2ee6bd(0x41b)]=_0x2ee6bd(0x431),_0x59b8d3[_0x2ee6bd(0x41b)]='ย้าย',_0x59b8d3[_0x2ee6bd(0x526)]=![],_0x59b8d3[_0x2ee6bd(0x70d)]('click',_0x56279d),_0x2b1ddc[_0x2ee6bd(0x70d)]('click',_0xe6cdca);}},_0xe6cdca=()=>{const _0xe9cac6=_0x2367ac;_0x4ca866[_0xe9cac6(0x1e4)][_0xe9cac6(0xff)](_0xe9cac6(0x544)),_0x11db28[_0xe9cac6(0x41b)]=_0xe9cac6(0x431),_0x59b8d3[_0xe9cac6(0x41b)]=_0xe9cac6(0xf5),_0x59b8d3[_0xe9cac6(0x70d)](_0xe9cac6(0x6ff),_0x56279d),_0x2b1ddc[_0xe9cac6(0x70d)](_0xe9cac6(0x6ff),_0xe6cdca);};_0x59b8d3['addEventListener']('click',_0x56279d),_0x2b1ddc[_0x2367ac(0x125)](_0x2367ac(0x6ff),_0xe6cdca);}function handleDeleteStudent(_0x59bc3a){const _0x215ca0=_0xd665bf;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x59bc3a+_0x215ca0(0x3eb),async()=>{const _0x1fa9b9=_0x215ca0;if(!currentProjectId||!currentProjectData)return;const _0x1b7ef2=currentProjectData[_0x1fa9b9(0x4cb)][_0x1fa9b9(0x77f)](_0x568ea2=>_0x568ea2!==_0x59bc3a);try{const _0x3ff796=doc(db,_0x1fa9b9(0x3bf)+appId+_0x1fa9b9(0x14a),currentProjectId),_0x1eb659=doc(db,_0x1fa9b9(0x3bf)+appId+_0x1fa9b9(0x6f8)+currentProjectId+_0x1fa9b9(0x78),_0x59bc3a),_0x80635d=writeBatch(db);_0x80635d['update'](_0x3ff796,{'students':_0x1b7ef2}),_0x80635d[_0x1fa9b9(0x67b)](_0x1eb659),await _0x80635d[_0x1fa9b9(0x3b0)]();}catch(_0x4dd311){console[_0x1fa9b9(0x3ef)]('Error\x20deleting\x20student:',_0x4dd311),showMessage(_0x1fa9b9(0x4fb));}});}function handleDeleteAllStudents(){const _0x32efe5=_0xd665bf;showConfirmation(_0x32efe5(0x1c5),async()=>{const _0x1c7456=_0x32efe5;if(!currentProjectId)return;try{const _0x2954af=doc(db,'artifacts/'+appId+_0x1c7456(0x14a),currentProjectId),_0x2e4aa2=collection(db,'artifacts/'+appId+_0x1c7456(0x6f8)+currentProjectId+'/studentProfiles'),_0x1bd939=await getDocs(_0x2e4aa2),_0x57ac80=writeBatch(db);_0x57ac80[_0x1c7456(0x517)](_0x2954af,{'students':[]}),_0x1bd939['forEach'](_0x4ed5b2=>_0x57ac80['delete'](_0x4ed5b2[_0x1c7456(0x301)])),await _0x57ac80[_0x1c7456(0x3b0)]();}catch(_0x1ff884){console['error'](_0x1c7456(0x5d5),_0x1ff884),showMessage(_0x1c7456(0x83e));}});}async function handleGenerateFromFileClick(){const _0x352a10=_0xd665bf;if(!selectedFile){showMessage(_0x352a10(0x375));return;}const _0x5dffe5=document[_0x352a10(0x36a)](_0x352a10(0x83c)),_0x3635d4=document['getElementById'](_0x352a10(0x2cb)),_0x12f459=document[_0x352a10(0x36a)](_0x352a10(0x73d)),_0x509221=document[_0x352a10(0x36a)](_0x352a10(0x38e));_0x509221[_0x352a10(0x526)]=!![],document[_0x352a10(0x36a)](_0x352a10(0x1b3))[_0x352a10(0x1e4)][_0x352a10(0x52c)](_0x352a10(0x544)),_0x12f459[_0x352a10(0xed)]='',_0x5dffe5['classList']['remove']('hidden'),_0x3635d4['textContent']=_0x352a10(0x45a);const _0x47ff0f=new FileReader();_0x47ff0f[_0x352a10(0x1c6)](selectedFile),_0x47ff0f[_0x352a10(0x442)]=async()=>{const _0x386bf3=_0x352a10;try{const _0x44abe8=_0x47ff0f['result'][_0x386bf3(0x838)](',')[0x1],_0x1152ce=selectedFile[_0x386bf3(0x499)];await generateQuizFromFile(_0x1152ce,_0x44abe8);}catch(_0x1e34dc){console[_0x386bf3(0x3ef)](_0x386bf3(0xa1),_0x1e34dc),showMessage(_0x386bf3(0x1e8)+_0x1e34dc[_0x386bf3(0x4e5)]),_0x5dffe5['classList'][_0x386bf3(0xff)]('hidden');}finally{}},_0x47ff0f[_0x352a10(0x16b)]=_0x37d878=>{const _0x2339a1=_0x352a10;console[_0x2339a1(0x3ef)]('FileReader\x20error:',_0x37d878),showMessage(_0x2339a1(0x82)),_0x5dffe5[_0x2339a1(0x1e4)][_0x2339a1(0xff)](_0x2339a1(0x544)),_0x509221[_0x2339a1(0x526)]=![];};}function autoFormatMath(_0x11fcd1){const _0x20b447=_0xd665bf;if(typeof _0x11fcd1!==_0x20b447(0x4d4)||!_0x11fcd1)return _0x11fcd1;const _0x474722=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x38aaeb=_0x11fcd1[_0x20b447(0x619)](_0x474722,_0x41799f=>{const _0x50c06f=_0x20b447;return'$'+_0x41799f[_0x50c06f(0x6fe)]()+'$';});return _0x38aaeb;}function sanitizeQuizData(_0x2fe3c9){const _0x4dabb5=_0xd665bf;if(!_0x2fe3c9||!_0x2fe3c9[_0x4dabb5(0xd2)])return _0x2fe3c9;const _0x30dad6={'imes':_0x4dabb5(0x823),'div':_0x4dabb5(0x176)},_0x3e752f=_0x4e5970=>{const _0x1a7aca=_0x4dabb5;if(typeof _0x4e5970!==_0x1a7aca(0x4d4))return _0x4e5970;let _0x4141a8=_0x4e5970;for(const [_0x6a2e00,_0x8e41ee]of Object[_0x1a7aca(0x271)](_0x30dad6)){const _0x19ae47=new RegExp('\x5cb'+_0x6a2e00+'\x5cb','g');_0x4141a8=_0x4141a8['replace'](_0x19ae47,_0x8e41ee);}return _0x4141a8=_0x4141a8[_0x1a7aca(0x619)](/\\\//g,_0x1a7aca(0x176)),_0x4141a8=_0x4141a8[_0x1a7aca(0x619)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x1a7aca(0x176))[_0x1a7aca(0x619)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x1a7aca(0x823))[_0x1a7aca(0x619)](/÷/g,_0x1a7aca(0x176))[_0x1a7aca(0x619)](/×/g,_0x1a7aca(0x823)),_0x4141a8=_0x4141a8[_0x1a7aca(0x619)](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x4141a8=autoFormatMath(_0x4141a8),_0x4141a8;};return _0x2fe3c9[_0x4dabb5(0x4bb)]&&(_0x2fe3c9['topic']=_0x3e752f(_0x2fe3c9[_0x4dabb5(0x4bb)])),_0x2fe3c9[_0x4dabb5(0xd2)][_0x4dabb5(0x4be)](_0x5d0ea5=>{const _0x5ea509=_0x4dabb5;_0x5d0ea5['questionText']=_0x3e752f(_0x5d0ea5[_0x5ea509(0x551)]),_0x5d0ea5[_0x5ea509(0x63d)]&&(_0x5d0ea5[_0x5ea509(0x63d)]=_0x5d0ea5['options'][_0x5ea509(0x6f9)](_0x3e752f)),_0x5d0ea5['explanation']&&(_0x5d0ea5[_0x5ea509(0x3f1)]=_0x3e752f(_0x5d0ea5['explanation'])),_0x5d0ea5[_0x5ea509(0x36f)]&&(_0x5d0ea5[_0x5ea509(0x36f)]=_0x3e752f(_0x5d0ea5['stem'])),_0x5d0ea5[_0x5ea509(0x200)]&&(_0x5d0ea5[_0x5ea509(0x200)]=_0x3e752f(_0x5d0ea5[_0x5ea509(0x200)])),_0x5d0ea5['allResponses']&&(_0x5d0ea5[_0x5ea509(0x647)]=_0x5d0ea5[_0x5ea509(0x647)][_0x5ea509(0x6f9)](_0x3e752f));}),_0x2fe3c9;}const simpleMathPrompt=_0xd665bf(0x3e6);async function handleGenerateFromLink(){const _0x5e2ea6=_0xd665bf,_0x2b4954=document[_0x5e2ea6(0x36a)](_0x5e2ea6(0x129)),_0x1f6094=document[_0x5e2ea6(0x36a)](_0x5e2ea6(0x61b)),_0x75bfdc=_0x2b4954[_0x5e2ea6(0x4fc)][_0x5e2ea6(0x6fe)](),_0x35dec4=_0x1f6094['value'][_0x5e2ea6(0x6fe)]();if(!_0x75bfdc){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x174dca=document[_0x5e2ea6(0x36a)]('loader'),_0x189cd4=document[_0x5e2ea6(0x36a)](_0x5e2ea6(0x2cb)),_0x5c9390=document[_0x5e2ea6(0x36a)](_0x5e2ea6(0x73d)),_0x4214f3=document[_0x5e2ea6(0x36a)](_0x5e2ea6(0x459));document['getElementById']('quiz-generation-area')[_0x5e2ea6(0x1e4)][_0x5e2ea6(0x52c)](_0x5e2ea6(0x544)),_0x5c9390[_0x5e2ea6(0xed)]='',_0x174dca['classList'][_0x5e2ea6(0x52c)]('hidden'),_0x189cd4['textContent']=_0x5e2ea6(0x700),_0x4214f3[_0x5e2ea6(0x526)]=!![];try{const _0x678dde='https://corsproxy.io/?'+encodeURIComponent(_0x75bfdc),_0x38e16c=await fetch(_0x678dde);if(!_0x38e16c['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x38e16c[_0x5e2ea6(0x644)]+')');const _0x4c1ca4=await _0x38e16c[_0x5e2ea6(0x163)](),_0x460793=extractTextFromHtml(_0x4c1ca4);if(!_0x460793||_0x460793[_0x5e2ea6(0x30f)]<0x64)throw new Error(_0x5e2ea6(0x260));await generateQuiz(_0x35dec4,_0x460793);}catch(_0x47742b){console[_0x5e2ea6(0x3ef)](_0x5e2ea6(0x232),_0x47742b),showMessage(_0x5e2ea6(0x40f)+_0x47742b[_0x5e2ea6(0x4e5)]),_0x5c9390[_0x5e2ea6(0xed)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x174dca[_0x5e2ea6(0x1e4)]['add'](_0x5e2ea6(0x544)),_0x4214f3['disabled']=![];}}function extractTextFromHtml(_0x5b9727){const _0x6ff79b=_0xd665bf,_0x13b7f6=new DOMParser()[_0x6ff79b(0x54c)](_0x5b9727,_0x6ff79b(0x1f8));return _0x13b7f6[_0x6ff79b(0x24f)](_0x6ff79b(0x799))[_0x6ff79b(0x4be)](_0x241270=>_0x241270[_0x6ff79b(0x52c)]()),_0x13b7f6[_0x6ff79b(0x2ae)][_0x6ff79b(0x41b)]||'';}document['getElementById']('generate-from-topic-btn')['addEventListener'](_0xd665bf(0x6ff),()=>{const _0x1fc202=_0xd665bf,_0x34fcb5=document['getElementById'](_0x1fc202(0x419))[_0x1fc202(0x4fc)]['trim']();generateQuiz(_0x34fcb5,null);}),document['getElementById'](_0xd665bf(0x730))['addEventListener'](_0xd665bf(0x6ff),()=>{const _0x26b3c1=_0xd665bf,_0x49d83f=document[_0x26b3c1(0x36a)](_0x26b3c1(0x1a9))[_0x26b3c1(0x4fc)][_0x26b3c1(0x6fe)]();if(!_0x49d83f){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x5df473=document[_0x26b3c1(0x36a)]('topic-input')[_0x26b3c1(0x4fc)][_0x26b3c1(0x6fe)]();generateQuiz(_0x5df473,_0x49d83f);});async function generateQuiz(_0x2718d7,_0x3ff83d,_0x2cb06d=null){const _0x1042bc=_0xd665bf,_0x18dbb6=document[_0x1042bc(0x36a)](_0x1042bc(0x7cc))[_0x1042bc(0x6d2)],_0x5a8dec=document[_0x1042bc(0x36a)]('quiz-type-select')['value'],_0x1b31b9=document['getElementById']('num-questions')[_0x1042bc(0x4fc)],_0xb489f6=document[_0x1042bc(0x36a)](_0x1042bc(0x286))['value'],_0x40c0cd=document[_0x1042bc(0x36a)]('force-math-checkbox')[_0x1042bc(0x6d2)],_0x5885eb=_0x40c0cd?'':'คณิตศาสตร์',_0x213c31=document[_0x1042bc(0x36a)](_0x1042bc(0x11c)),_0x53ba2d=_0x213c31[_0x1042bc(0x4fc)];let _0x64585='';_0x53ba2d!=='auto'&&(_0x64585='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x53ba2d+'\x22');const _0x395e79=document[_0x1042bc(0x36a)](_0x1042bc(0x563)),_0x45f38e=_0x395e79[_0x1042bc(0x4fc)];let _0x4cc8d7='';_0x45f38e!=='mixed'&&(_0x4cc8d7='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x45f38e+_0x1042bc(0x80));const _0x446b42=document[_0x1042bc(0x24f)](_0x1042bc(0x53d)),_0x4dce1f=Array[_0x1042bc(0x3da)](_0x446b42)['map'](_0x108731=>_0x108731[_0x1042bc(0x4fc)]);let _0x4f0d24='';_0x4dce1f[_0x1042bc(0x30f)]>0x0&&(_0x4f0d24=_0x1042bc(0x794)+_0x4dce1f[_0x1042bc(0x2da)](',\x20')+_0x1042bc(0x6f3));let _0x4c622d='',_0x3791df='',_0x167f50,_0xb81625='เกี่ยวกับหัวข้อ\x20\x22'+_0x2718d7+'\x22';if(!_0x2718d7&&_0x3ff83d)_0xb81625=_0x1042bc(0x681);else!_0x2718d7&&!_0x3ff83d&&(_0xb81625=_0x1042bc(0x696));const _0x328709={'type':_0x1042bc(0x5b3),'properties':{'questionText':{'type':_0x1042bc(0x427)},'options':{'type':_0x1042bc(0x5f0),'items':{'type':_0x1042bc(0x427)}},'correctAnswerIndex':{'type':_0x1042bc(0x586)},'explanation':{'type':_0x1042bc(0x427)},'imageCode':{'type':'STRING'}},'required':[_0x1042bc(0x551),_0x1042bc(0x63d),_0x1042bc(0x7cf),_0x1042bc(0x3f1)]},_0x1150fc={'type':_0x1042bc(0x5b3),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x1042bc(0x427)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1042bc(0x427)}},'required':[_0x1042bc(0x551),_0x1042bc(0x5a5),_0x1042bc(0x3f1)]},_0x2a8e95={'type':'OBJECT','properties':{'questionText':{'type':_0x1042bc(0x427)},'questionType':{'type':_0x1042bc(0x427),'enum':['multiple_choice',_0x1042bc(0x223)]},'options':{'type':_0x1042bc(0x5f0),'items':{'type':_0x1042bc(0x427)}},'correctAnswerIndex':{'type':_0x1042bc(0x586)},'idealAnswer':{'type':_0x1042bc(0x427)},'explanation':{'type':_0x1042bc(0x427)},'imageCode':{'type':_0x1042bc(0x427)}},'required':[_0x1042bc(0x551),_0x1042bc(0x2ca),_0x1042bc(0x3f1)]},_0x47df77={'type':_0x1042bc(0x5b3),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x1042bc(0x460)},'explanation':{'type':_0x1042bc(0x427)},'imageCode':{'type':_0x1042bc(0x427)}},'required':['questionText',_0x1042bc(0x6be),_0x1042bc(0x3f1)]},_0x24fb32={'type':_0x1042bc(0x5b3),'properties':{'questionType':{'type':_0x1042bc(0x427),'enum':[_0x1042bc(0x83b)]},'stem':{'type':_0x1042bc(0x427)},'correctResponse':{'type':_0x1042bc(0x427)},'allResponses':{'type':_0x1042bc(0x5f0),'items':{'type':_0x1042bc(0x427)}},'explanation':{'type':_0x1042bc(0x427)},'imageCode':{'type':_0x1042bc(0x427)}},'required':[_0x1042bc(0x2ca),_0x1042bc(0x36f),'correctResponse',_0x1042bc(0x647),_0x1042bc(0x3f1)]};let _0x56d8d9;if(_0x2cb06d!==null){const _0x5f4ea3=currentQuizData[_0x1042bc(0xd2)][_0x2cb06d][_0x1042bc(0x2ca)],_0x4750b5=_0x18dbb6?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x4c622d=_0x1042bc(0x5d7)+_0xb81625+'\x20'+_0x4f0d24+'\x20'+_0x64585+_0x1042bc(0x293)+_0x4750b5+'\x20'+simpleMathPrompt;if(_0x5f4ea3===_0x1042bc(0x4ba))_0x167f50=_0x328709;else{if(_0x5f4ea3==='matching_item')_0x167f50={'type':_0x1042bc(0x5b3),'properties':{'questionType':{'type':'STRING','enum':[_0x1042bc(0x83b)]},'stem':{'type':_0x1042bc(0x427)},'correctResponse':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1042bc(0x427)}},'required':['questionType',_0x1042bc(0x36f),_0x1042bc(0x200),_0x1042bc(0x3f1)]};else _0x167f50=_0x1150fc;}_0x56d8d9=_0x167f50;}else{const _0x271772=_0x18dbb6?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'',_0x580a22='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0x5a8dec){case _0x1042bc(0x4ba):_0x4c622d=_0x1042bc(0x2ba)+_0x5885eb+'\x20'+_0x1b31b9+_0x1042bc(0x218)+_0xb81625+'\x20'+_0x4f0d24+'\x20'+_0x64585+'\x20'+_0x4cc8d7+_0x1042bc(0x11e)+_0xb489f6+_0x1042bc(0x734)+_0x271772+'\x20'+simpleMathPrompt,_0x167f50=_0x328709;break;case'fill_in_with_choices':_0x4c622d=_0x1042bc(0x4b4)+_0x5885eb+'\x20'+_0x1b31b9+_0x1042bc(0x218)+_0xb81625+'\x20'+_0x4f0d24+'\x20'+_0x64585+'\x20'+_0x4cc8d7+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0xb489f6+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x271772+'\x20'+simpleMathPrompt,_0x167f50=_0x328709;break;case _0x1042bc(0x7d6):_0x4c622d=_0x1042bc(0x4b4)+_0x5885eb+'\x20'+_0x1b31b9+_0x1042bc(0x218)+_0xb81625+'\x20'+_0x4f0d24+'\x20'+_0x64585+'\x20'+_0x4cc8d7+_0x1042bc(0x35c)+_0x271772+'\x20'+simpleMathPrompt,_0x167f50=_0x1150fc;break;case _0x1042bc(0x501):_0x4c622d=_0x1042bc(0x5b5)+_0x5885eb+'\x20'+_0x1b31b9+_0x1042bc(0x218)+_0xb81625+'\x20'+_0x4f0d24+'\x20'+_0x64585+'\x20'+_0x4cc8d7+_0x1042bc(0x6a6)+_0xb489f6+_0x1042bc(0x85f)+_0x271772+'\x20'+simpleMathPrompt+'.',_0x167f50=_0x2a8e95;break;case _0x1042bc(0x63c):_0x4c622d=_0x1042bc(0x11a)+_0x5885eb+'\x20'+_0x1b31b9+_0x1042bc(0x218)+_0xb81625+'\x20'+_0x4f0d24+'\x20'+_0x64585+'\x20'+_0x4cc8d7+_0x1042bc(0x714)+_0x271772+'\x20'+simpleMathPrompt,_0x167f50=_0x47df77;break;case _0x1042bc(0x244):_0x4c622d=_0x1042bc(0x5aa)+_0x5885eb+'\x20'+_0x1b31b9+_0x1042bc(0x389)+_0xb81625+'\x20'+_0x4f0d24+'\x20'+_0x64585+'\x20'+_0x4cc8d7+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x271772+'\x20'+simpleMathPrompt,_0x167f50=_0x24fb32;break;}_0x56d8d9={'type':_0x1042bc(0x5b3),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1042bc(0x5f0),'items':_0x167f50}},'required':['topic',_0x1042bc(0xd2)]};}return _0x3ff83d?(_0x4c622d=_0x1042bc(0x3b6)+_0x3ff83d+_0x1042bc(0x549)+_0x4c622d,_0x3791df=_0x1042bc(0x7e1)):_0x3791df=_0x1042bc(0x3f9),handleApiCall(_0x4c622d,_0x3791df,_0x56d8d9,_0x2cb06d);}async function generateQuizFromFile(_0x18fa3f,_0x234818){const _0xaba6a6=_0xd665bf,_0x53f566=document[_0xaba6a6(0x36a)](_0xaba6a6(0x77e))[_0xaba6a6(0x4fc)][_0xaba6a6(0x6fe)](),_0x13a45e=document[_0xaba6a6(0x36a)]('quiz-type-select')['value'],_0x202cd3=document[_0xaba6a6(0x36a)](_0xaba6a6(0x369))[_0xaba6a6(0x4fc)],_0x1fc948=document[_0xaba6a6(0x36a)](_0xaba6a6(0x286))['value'],_0x4c7e0e=document[_0xaba6a6(0x36a)](_0xaba6a6(0x7cc))[_0xaba6a6(0x6d2)],_0x3db1e0=document[_0xaba6a6(0x36a)](_0xaba6a6(0x821))[_0xaba6a6(0x6d2)],_0x128900=_0x3db1e0?'':_0xaba6a6(0x30d);let _0x203e2c='',_0x57d453,_0x1271dd='เกี่ยวกับหัวข้อ\x20\x22'+_0x53f566+'\x22';!_0x53f566&&(_0x1271dd=_0xaba6a6(0x224));const _0xc1b4a4=_0x4c7e0e?_0xaba6a6(0x50f):'';switch(_0x13a45e){case _0xaba6a6(0x4ba):_0x203e2c='สร้างแบบทดสอบปรนัย'+_0x128900+'\x20'+_0x202cd3+'\x20ข้อ\x20'+_0x1271dd+'.\x20แต่ละข้อมี\x20'+_0x1fc948+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0xc1b4a4+'\x20'+simpleMathPrompt,_0x57d453={'type':_0xaba6a6(0x5b3),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0xaba6a6(0x5f0),'items':{'type':_0xaba6a6(0x427)}},'correctAnswerIndex':{'type':_0xaba6a6(0x586)},'explanation':{'type':_0xaba6a6(0x427)},'imageCode':{'type':_0xaba6a6(0x427)}},'required':[_0xaba6a6(0x551),'options','correctAnswerIndex',_0xaba6a6(0x3f1)]};break;case _0xaba6a6(0x1c1):_0x203e2c='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x128900+'\x20'+_0x202cd3+_0xaba6a6(0x218)+_0x1271dd+_0xaba6a6(0x19c)+_0x1fc948+_0xaba6a6(0x2c6)+_0xc1b4a4+'\x20'+simpleMathPrompt,_0x57d453={'type':_0xaba6a6(0x5b3),'properties':{'questionText':{'type':_0xaba6a6(0x427)},'options':{'type':_0xaba6a6(0x5f0),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0xaba6a6(0x427)},'imageCode':{'type':_0xaba6a6(0x427)}},'required':[_0xaba6a6(0x551),'options',_0xaba6a6(0x7cf),_0xaba6a6(0x3f1)]};break;case _0xaba6a6(0x7d6):_0x203e2c='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x128900+'\x20'+_0x202cd3+_0xaba6a6(0x218)+_0x1271dd+_0xaba6a6(0x35c)+_0xc1b4a4+'\x20'+simpleMathPrompt,_0x57d453={'type':'OBJECT','properties':{'questionText':{'type':_0xaba6a6(0x427)},'idealAnswer':{'type':_0xaba6a6(0x427)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xaba6a6(0x427)}},'required':[_0xaba6a6(0x551),_0xaba6a6(0x5a5),_0xaba6a6(0x3f1)]};break;case _0xaba6a6(0x501):_0x203e2c=_0xaba6a6(0x5b5)+_0x128900+'\x20'+_0x202cd3+_0xaba6a6(0x218)+_0x1271dd+_0xaba6a6(0x846)+_0x1fc948+_0xaba6a6(0x85f)+_0xc1b4a4+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x57d453={'type':_0xaba6a6(0x5b3),'properties':{'questionText':{'type':_0xaba6a6(0x427)},'questionType':{'type':_0xaba6a6(0x427),'enum':[_0xaba6a6(0x4ba),_0xaba6a6(0x223)]},'options':{'type':_0xaba6a6(0x5f0),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xaba6a6(0x586)},'idealAnswer':{'type':_0xaba6a6(0x427)},'explanation':{'type':_0xaba6a6(0x427)},'imageCode':{'type':_0xaba6a6(0x427)}},'required':[_0xaba6a6(0x551),_0xaba6a6(0x2ca),_0xaba6a6(0x3f1)]};break;case _0xaba6a6(0x63c):_0x203e2c=_0xaba6a6(0x11a)+_0x128900+'\x20'+_0x202cd3+'\x20ข้อ\x20'+_0x1271dd+_0xaba6a6(0x1c8)+_0xc1b4a4+'\x20'+simpleMathPrompt,_0x57d453={'type':'OBJECT','properties':{'questionText':{'type':_0xaba6a6(0x427)},'correctAnswer':{'type':_0xaba6a6(0x460)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xaba6a6(0x427)}},'required':[_0xaba6a6(0x551),_0xaba6a6(0x6be),'explanation']};break;case _0xaba6a6(0x244):_0x203e2c=_0xaba6a6(0x5aa)+_0x128900+'\x20'+_0x202cd3+'\x20คู่\x20'+_0x1271dd+_0xaba6a6(0x2bf)+_0x202cd3+_0xaba6a6(0x359)+_0xc1b4a4+'\x20'+simpleMathPrompt,_0x57d453={'type':'OBJECT','properties':{'questionType':{'type':_0xaba6a6(0x427),'enum':[_0xaba6a6(0x83b)]},'stem':{'type':_0xaba6a6(0x427)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0xaba6a6(0x427)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0xaba6a6(0x427)}},'required':[_0xaba6a6(0x2ca),_0xaba6a6(0x36f),_0xaba6a6(0x200),'allResponses','explanation']};break;}const _0x1e1047={'type':_0xaba6a6(0x5b3),'properties':{'topic':{'type':_0xaba6a6(0x427)},'questions':{'type':_0xaba6a6(0x5f0),'items':_0x57d453}},'required':[_0xaba6a6(0x4bb),_0xaba6a6(0xd2)]},_0x10290d=_0xaba6a6(0x282)+_0x203e2c,_0x380192={'contents':[{'parts':[{'text':_0x10290d},{'inlineData':{'mimeType':_0x18fa3f,'data':_0x234818}}]}],'generationConfig':{'responseMimeType':_0xaba6a6(0x1b5),'responseSchema':_0x1e1047}};return handleApiCall(_0x380192[_0xaba6a6(0xeb)][0x0]['parts'],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x1e1047);}async function handleApiCall(_0x4c24af,_0x53cdcb,_0x1cb7b0,_0x7bc819=null){const _0xdcf632=_0xd665bf,_0x58495c=document[_0xdcf632(0x36a)](_0xdcf632(0x1b3)),_0x99fc8e=document[_0xdcf632(0x36a)](_0xdcf632(0x83c)),_0x10c133=document[_0xdcf632(0x36a)]('loader-text'),_0x5cccb6=document[_0xdcf632(0x36a)](_0xdcf632(0x73d));_0x58495c['classList'][_0xdcf632(0x52c)](_0xdcf632(0x544));_0x7bc819===null&&(_0x5cccb6['innerHTML']='');_0x99fc8e[_0xdcf632(0x1e4)][_0xdcf632(0x52c)](_0xdcf632(0x544)),_0x10c133[_0xdcf632(0x41b)]=_0x53cdcb,document[_0xdcf632(0x36a)](_0xdcf632(0x777))['disabled']=!![],document['getElementById'](_0xdcf632(0x730))[_0xdcf632(0x526)]=!![],document[_0xdcf632(0x36a)]('generate-from-link-btn')['disabled']=!![];try{const _0x53ab3b={'responseMimeType':'application/json','responseSchema':_0x1cb7b0},_0xe2deda=Array[_0xdcf632(0x633)](_0x4c24af)?_0x4c24af:[{'text':_0x4c24af}],_0x29543f={'contents':[{'role':_0xdcf632(0x42d),'parts':_0xe2deda}],'generationConfig':_0x53ab3b},_0x297b33=_0xdcf632(0x32c),_0x5148a3=_0xdcf632(0xbd)+_0x297b33,_0x7b489e=await fetch(_0x5148a3,{'method':_0xdcf632(0x347),'headers':{'Content-Type':_0xdcf632(0x1b5)},'body':JSON[_0xdcf632(0x5b7)](_0x29543f)});if(!_0x7b489e['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x7b489e[_0xdcf632(0x644)]);const _0x3887f4=await _0x7b489e[_0xdcf632(0x7a)]();if(_0x3887f4[_0xdcf632(0x1f4)]?.[0x0]?.[_0xdcf632(0x3a8)]?.[_0xdcf632(0x855)]?.[0x0]){let _0x5e2c04=_0x3887f4[_0xdcf632(0x1f4)][0x0]['content'][_0xdcf632(0x855)][0x0][_0xdcf632(0x163)],_0x1a5aea;try{if(_0x5e2c04['startsWith'](_0xdcf632(0x456)))_0x5e2c04=_0x5e2c04[_0xdcf632(0xad)](0x7,_0x5e2c04[_0xdcf632(0x30f)]-0x3)[_0xdcf632(0x6fe)]();else _0x5e2c04[_0xdcf632(0x348)](_0xdcf632(0x52b))&&(_0x5e2c04=_0x5e2c04['substring'](0x3,_0x5e2c04[_0xdcf632(0x30f)]-0x3)[_0xdcf632(0x6fe)]());_0x1a5aea=JSON[_0xdcf632(0x2d0)](_0x5e2c04);}catch(_0x314c7c){console[_0xdcf632(0x3ef)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x314c7c,_0x5e2c04);throw new Error(_0xdcf632(0x429));}if(_0x7bc819!==null){if(_0x1a5aea['questionType']===_0xdcf632(0x83b)){const _0x26952c=currentQuizData[_0xdcf632(0xd2)]['map'](_0x5a7988=>_0x5a7988[_0xdcf632(0x200)]);_0x1a5aea[_0xdcf632(0x647)]=_0x26952c;const _0x6a4623=currentQuizData[_0xdcf632(0xd2)][_0x7bc819][_0xdcf632(0x200)],_0x430e61=_0x26952c[_0xdcf632(0x25c)](_0x6a4623);_0x430e61>-0x1&&(_0x26952c[_0x430e61]=_0x1a5aea[_0xdcf632(0x200)]),currentQuizData[_0xdcf632(0xd2)][_0xdcf632(0x4be)](_0xed2cea=>{const _0x41b8b2=_0xdcf632;if(_0xed2cea[_0x41b8b2(0x2ca)]===_0x41b8b2(0x83b))_0xed2cea[_0x41b8b2(0x647)]=_0x26952c;});}currentQuizData[_0xdcf632(0xd2)][_0x7bc819]=_0x1a5aea,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x1a5aea;const _0x276fea=document[_0xdcf632(0x36a)]('quiz-type-select')[_0xdcf632(0x4fc)];currentQuizData[_0xdcf632(0x1f6)]=_0x276fea,currentQuizData['questions']&&currentQuizData[_0xdcf632(0xd2)][_0xdcf632(0x4be)](_0x166210=>{const _0x35be66=_0xdcf632;if(!_0x166210[_0x35be66(0x2ca)]){if(_0x276fea===_0x35be66(0x1c1))_0x166210['questionType']=_0x35be66(0x4ba);else _0x276fea===_0x35be66(0x7d6)?_0x166210[_0x35be66(0x2ca)]=_0x35be66(0x223):_0x166210[_0x35be66(0x2ca)]=_0x276fea;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error'](_0xdcf632(0x518),JSON[_0xdcf632(0x5b7)](_0x3887f4));throw new Error(_0xdcf632(0x429));}}catch(_0x35bd63){console[_0xdcf632(0x3ef)](_0xdcf632(0x240),_0x35bd63),showMessage(_0xdcf632(0x853)),_0x7bc819===null&&(_0x5cccb6[_0xdcf632(0xed)]=_0xdcf632(0x7da));}finally{_0x99fc8e[_0xdcf632(0x1e4)][_0xdcf632(0xff)](_0xdcf632(0x544)),document[_0xdcf632(0x36a)](_0xdcf632(0x777))[_0xdcf632(0x526)]=![],document['getElementById'](_0xdcf632(0x730))[_0xdcf632(0x526)]=![],document[_0xdcf632(0x36a)](_0xdcf632(0x459))[_0xdcf632(0x526)]=![];const _0x333f7b=document[_0xdcf632(0x36a)](_0xdcf632(0x38e));_0x333f7b&&(_0x333f7b[_0xdcf632(0x526)]=![]);}}function exitFullscreen(){const _0x26d234=_0xd665bf;if(document[_0x26d234(0x528)])document[_0x26d234(0x528)]()[_0x26d234(0x299)](_0x3d8fa9=>console[_0x26d234(0x3ef)](_0x3d8fa9));else{if(document['webkitExitFullscreen'])document['webkitExitFullscreen']();else document['msExitFullscreen']&&document[_0x26d234(0x145)]();}}function enterFullscreen(){const _0x1cac58=_0xd665bf,_0x5482c2=document['documentElement'];if(_0x5482c2[_0x1cac58(0x60d)])_0x5482c2[_0x1cac58(0x60d)]()[_0x1cac58(0x299)](_0xf67d09=>{const _0x488520=_0x1cac58;console[_0x488520(0x3ef)](_0x488520(0x473)+_0xf67d09[_0x488520(0x4e5)]+'\x20('+_0xf67d09[_0x488520(0x2cf)]+')');});else{if(_0x5482c2[_0x1cac58(0x3f0)])_0x5482c2[_0x1cac58(0x3f0)]();else _0x5482c2[_0x1cac58(0x5dc)]&&_0x5482c2[_0x1cac58(0x5dc)]();}}function handleCheatingEvent(){const _0x16ff18=_0xd665bf;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x16ff18(0x798)+maxCheatAttempts+_0x16ff18(0x722)),document[_0x16ff18(0x36a)](_0x16ff18(0x779))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x16ff18(0x70d)](_0x16ff18(0x587),handleVisibilityChange),document[_0x16ff18(0x70d)]('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x3ab9de=_0xd665bf;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x3ab9de(0x47c)]===_0x3ab9de(0x544))handleCheatingEvent();else document[_0x3ab9de(0x47c)]===_0x3ab9de(0x19b)&&(console['log'](_0x3ab9de(0x428)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x5aa212=_0xd665bf;if(currentMode===_0x5aa212(0x2e3)||!isQuizActive)return;!document[_0x5aa212(0x118)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x354a31){const _0x320a43=_0xd665bf,_0x963580=document[_0x320a43(0x36a)]('generated-quiz-container');let _0x4aa6f0='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x354a31['topic']+'</h3>';_0x354a31['questions']['forEach']((_0x3edd55,_0x1ff53d)=>{const _0xf31314=_0x320a43;!_0x3edd55['id']&&(_0x3edd55['id']='q_'+Date[_0xf31314(0x468)]()+'_'+_0x1ff53d);const _0x33e957=_0x3edd55[_0xf31314(0x2ca)]||_0x354a31['quizType'];_0x4aa6f0+=_0xf31314(0x152)+_0x1ff53d+_0xf31314(0x309)+_0x1ff53d+_0xf31314(0x490)+_0x1ff53d+_0xf31314(0x329)+_0x1ff53d+_0xf31314(0x1d0);switch(_0x33e957){case _0xf31314(0x83b):_0x4aa6f0+=_0xf31314(0x47f)+_0x1ff53d+'\x22>'+(_0x1ff53d+0x1)+'.\x20'+_0x3edd55['stem']+_0xf31314(0x294);_0x3edd55['imageCode']&&(_0x4aa6f0+=_0xf31314(0x168)+_0x1ff53d+_0xf31314(0x5d8)+_0x3edd55[_0xf31314(0x404)]+'</div>');_0x4aa6f0+=_0xf31314(0x1e3)+_0x1ff53d+'\x22>'+_0x3edd55[_0xf31314(0x200)]+_0xf31314(0x20a),_0x4aa6f0+=_0xf31314(0x64c)+_0x1ff53d+'\x22>'+_0x3edd55[_0xf31314(0x3f1)]+_0xf31314(0x20a);break;case _0xf31314(0x223):_0x4aa6f0+=_0xf31314(0x47f)+_0x1ff53d+'\x22>'+(_0x1ff53d+0x1)+'.\x20'+_0x3edd55[_0xf31314(0x551)]+_0xf31314(0x294);_0x3edd55[_0xf31314(0x404)]&&(_0x4aa6f0+=_0xf31314(0x168)+_0x1ff53d+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3edd55[_0xf31314(0x404)]+'</div>');_0x4aa6f0+=_0xf31314(0x6e7)+_0x1ff53d+'\x22>'+_0x3edd55[_0xf31314(0x5a5)]+'</span></div>',_0x4aa6f0+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x1ff53d+'\x22>'+_0x3edd55[_0xf31314(0x3f1)]+_0xf31314(0x20a);break;case _0xf31314(0x63c):_0x4aa6f0+=_0xf31314(0x47f)+_0x1ff53d+'\x22>'+(_0x1ff53d+0x1)+'.\x20'+_0x3edd55['questionText']+_0xf31314(0x294);_0x3edd55[_0xf31314(0x404)]&&(_0x4aa6f0+=_0xf31314(0x168)+_0x1ff53d+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3edd55[_0xf31314(0x404)]+'</div>');_0x4aa6f0+=_0xf31314(0x2cc)+(_0x3edd55[_0xf31314(0x6be)]===!![]?'text-green-600\x20font-bold':'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x3edd55[_0xf31314(0x6be)]===![]?_0xf31314(0x7ce):'')+_0xf31314(0x2f1),_0x4aa6f0+=_0xf31314(0x64c)+_0x1ff53d+'\x22>'+_0x3edd55[_0xf31314(0x3f1)]+'</span></div>';break;case _0xf31314(0x268):case _0xf31314(0x4ba):default:_0x4aa6f0+=_0xf31314(0x47f)+_0x1ff53d+'\x22>'+(_0x1ff53d+0x1)+'.\x20'+_0x3edd55[_0xf31314(0x551)]+_0xf31314(0x294);_0x3edd55[_0xf31314(0x404)]&&(_0x4aa6f0+=_0xf31314(0x168)+_0x1ff53d+_0xf31314(0x5d8)+_0x3edd55['imageCode']+_0xf31314(0x4d2));_0x4aa6f0+=_0xf31314(0x3e1)+_0x1ff53d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3edd55[_0xf31314(0x63d)][_0xf31314(0x6f9)]((_0x2ac229,_0xa4c04f)=>_0xf31314(0x7fe)+(_0xa4c04f===_0x3edd55['correctAnswerIndex']?_0xf31314(0x7ce):'')+'\x22>'+_0x2ac229+_0xf31314(0x3a9))[_0xf31314(0x2da)]('')+_0xf31314(0x2a3),_0x4aa6f0+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x1ff53d+'\x22>'+_0x3edd55[_0xf31314(0x3f1)]+_0xf31314(0x20a);break;}_0x4aa6f0+='</div>';}),_0x4aa6f0+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x963580[_0x320a43(0xed)]=_0x4aa6f0,document[_0x320a43(0x24f)](_0x320a43(0x10d))[_0x320a43(0x4be)](_0x1f5ab6=>_0x1f5ab6['addEventListener'](_0x320a43(0x6ff),handleEditQuestion)),document[_0x320a43(0x24f)](_0x320a43(0x3b9))[_0x320a43(0x4be)](_0x32475c=>_0x32475c[_0x320a43(0x125)]('click',handleRegenerateQuestion)),document[_0x320a43(0x24f)]('.save-to-bank-btn')['forEach'](_0x86a29c=>_0x86a29c[_0x320a43(0x125)]('click',handleSaveToBank)),document[_0x320a43(0x36a)](_0x320a43(0x1f2))[_0x320a43(0x125)]('click',exportQuizAsWorksheetPDF),document[_0x320a43(0x36a)](_0x320a43(0xc9))['addEventListener']('click',saveQuiz),document[_0x320a43(0x36a)](_0x320a43(0x48f))[_0x320a43(0x125)](_0x320a43(0x6ff),handleVerifyAnswers);if(window[_0x320a43(0x6ea)])window[_0x320a43(0x6ea)][_0x320a43(0x17a)]([_0x963580]);}function handleRegenerateQuestion(_0x9f8858){const _0x13d876=_0xd665bf,_0x220a8e=_0x9f8858['currentTarget'][_0x13d876(0x53c)][_0x13d876(0x85)],_0x5af7ae=currentQuizData[_0x13d876(0x4bb)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x220a8e)+0x1)+_0x13d876(0x4b7)),generateQuiz(_0x5af7ae,null,parseInt(_0x220a8e));}function getPointerPosition(_0x233939,_0x308887){const _0x79939e=_0xd665bf,_0x42d461=_0x233939['getScreenCTM']();let _0xb32cc4,_0x45ec11;return _0x308887['touches']&&_0x308887[_0x79939e(0x314)][_0x79939e(0x30f)]>0x0?(_0xb32cc4=_0x308887['touches'][0x0][_0x79939e(0x75d)],_0x45ec11=_0x308887[_0x79939e(0x314)][0x0][_0x79939e(0x160)]):(_0xb32cc4=_0x308887[_0x79939e(0x75d)],_0x45ec11=_0x308887[_0x79939e(0x160)]),{'x':(_0xb32cc4-_0x42d461['e'])/_0x42d461['a'],'y':(_0x45ec11-_0x42d461['f'])/_0x42d461['d']};}function startDrag(_0x3dc198){const _0x3fc028=_0xd665bf;_0x3dc198[_0x3fc028(0x499)]==='touchstart'&&_0x3dc198['preventDefault']();const _0x20718b=_0x3dc198['target'][_0x3fc028(0x3b7)]('.draggable-text');if(_0x20718b){draggedSvgElement=_0x20718b;const _0x5ece12=draggedSvgElement['ownerSVGElement'],_0x308835=getPointerPosition(_0x5ece12,_0x3dc198);svgOffset['x']=_0x308835['x']-parseFloat(draggedSvgElement[_0x3fc028(0x441)](null,'x')),svgOffset['y']=_0x308835['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x28abec,_0x41d620){const _0x4d197f=_0xd665bf,_0x5f0ace={};if(_0x41d620[_0x4d197f(0x30f)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x449334=[..._0x41d620][_0x4d197f(0x4c5)]((_0x14d147,_0x1a6c18)=>{const _0x39645e=_0x4d197f,_0x13bae9=_0x1a6c18[_0x39645e(0x4bf)]-_0x14d147[_0x39645e(0x4bf)];if(_0x13bae9!==0x0)return _0x13bae9;const _0x508ed0=_0x14d147[_0x39645e(0x246)]?.[_0x39645e(0x30f)]||0x1,_0x40e3db=_0x1a6c18[_0x39645e(0x246)]?.[_0x39645e(0x30f)]||0x1,_0x2f6d2f=_0x508ed0-_0x40e3db;if(_0x2f6d2f!==0x0)return _0x2f6d2f;const _0x16ad8f=new Date(_0x14d147['latestSubmittedAt']),_0x3c084e=new Date(_0x1a6c18['latestSubmittedAt']),_0x1325ae=_0x16ad8f-_0x3c084e;if(_0x1325ae!==0x0)return _0x1325ae;return _0x14d147[_0x39645e(0x724)]['localeCompare'](_0x1a6c18[_0x39645e(0x724)],'th');}),_0x5986b2=_0x449334[_0x4d197f(0x30f)],_0x10cf44=Math['max'](0x1,Math[_0x4d197f(0x44e)](_0x5986b2*0.33));if(_0x10cf44===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x596e4e=_0x449334[_0x4d197f(0x26b)](0x0,_0x10cf44),_0x42778a=_0x449334[_0x4d197f(0x26b)](-_0x10cf44),_0x5344cd=_0x596e4e['map'](_0x555251=>_0x555251[_0x4d197f(0x724)]),_0x437915=_0x42778a['map'](_0xef5bd=>_0xef5bd[_0x4d197f(0x724)]);return _0x28abec[_0x4d197f(0xd2)][_0x4d197f(0x4be)]((_0x592c11,_0xe6bd90)=>{const _0x5da8be=_0x4d197f,_0x3b8aa9=_0x592c11[_0x5da8be(0x36f)]||_0x592c11['questionText'];let _0x2219f3=0x0,_0x295fc9=0x0,_0x3acd01=0x0;const _0x29dfff=[],_0x43ceb1=[];_0x596e4e[_0x5da8be(0x4be)](_0x4464ce=>{const _0x275f4b=_0x5da8be,_0x311407=_0x4464ce[_0x275f4b(0x246)][_0x4464ce[_0x275f4b(0x246)][_0x275f4b(0x30f)]-0x1],_0x5590fb=_0x311407[_0x275f4b(0x45c)][_0x275f4b(0x5ec)](_0x2ddfde=>_0x2ddfde['originalQuestionText']===_0x3b8aa9);_0x29dfff[_0x275f4b(0x27c)]({'name':_0x4464ce[_0x275f4b(0x724)],'isCorrect':_0x5590fb?_0x5590fb[_0x275f4b(0x558)]:![]}),_0x5590fb&&_0x5590fb[_0x275f4b(0x558)]&&_0x295fc9++;}),_0x42778a[_0x5da8be(0x4be)](_0x3e6749=>{const _0x73e772=_0x5da8be,_0x454d67=_0x3e6749[_0x73e772(0x246)][_0x3e6749[_0x73e772(0x246)][_0x73e772(0x30f)]-0x1],_0x2e196f=_0x454d67[_0x73e772(0x45c)][_0x73e772(0x5ec)](_0x1c063a=>_0x1c063a[_0x73e772(0x54a)]===_0x3b8aa9);_0x43ceb1[_0x73e772(0x27c)]({'name':_0x3e6749[_0x73e772(0x724)],'isCorrect':_0x2e196f?_0x2e196f['isCorrect']:![]}),_0x2e196f&&_0x2e196f[_0x73e772(0x558)]&&_0x3acd01++;}),_0x41d620[_0x5da8be(0x4be)](_0x4154cc=>{const _0x21c086=_0x5da8be,_0x327b62=_0x4154cc['attempts'][_0x4154cc[_0x21c086(0x246)]['length']-0x1],_0x4503af=_0x327b62[_0x21c086(0x45c)][_0x21c086(0x5ec)](_0x7060cd=>_0x7060cd[_0x21c086(0x54a)]===_0x3b8aa9);_0x4503af&&_0x4503af['isCorrect']&&_0x2219f3++;});const _0x10c87a=_0x5986b2>0x0?_0x2219f3/_0x5986b2:0x0,_0x11dfd1=_0x10cf44>0x0?_0x295fc9/_0x10cf44-_0x3acd01/_0x10cf44:0x0;_0x5f0ace[_0xe6bd90]={'p':_0x10c87a,'r':_0x11dfd1,'upperGroupResponders':_0x29dfff,'lowerGroupResponders':_0x43ceb1};}),{'perQuestionStats':_0x5f0ace,'overallGroups':{'upperGroupNames':_0x5344cd,'lowerGroupNames':_0x437915}};}function drag(_0x2fa33c){const _0x5524e4=_0xd665bf;if(draggedSvgElement){_0x2fa33c['preventDefault']();const _0x38a606=draggedSvgElement[_0x5524e4(0x340)],_0x224ffa=getPointerPosition(_0x38a606,_0x2fa33c),_0x405194=_0x38a606[_0x5524e4(0x6d7)][_0x5524e4(0x7ab)];let _0xa1c3c0=_0x224ffa['x']-svgOffset['x'],_0x14c6cb=_0x224ffa['y']-svgOffset['y'];const _0x195c02=draggedSvgElement[_0x5524e4(0x3f8)]();_0xa1c3c0=Math['max'](_0x405194['x'],Math[_0x5524e4(0x56f)](_0xa1c3c0,_0x405194['x']+_0x405194[_0x5524e4(0x613)]-_0x195c02['width'])),_0x14c6cb=Math[_0x5524e4(0x5b0)](_0x405194['y'],Math['min'](_0x14c6cb,_0x405194['y']+_0x405194[_0x5524e4(0xce)]-_0x195c02[_0x5524e4(0xce)])),draggedSvgElement[_0x5524e4(0x653)](null,'x',_0xa1c3c0),draggedSvgElement[_0x5524e4(0x653)](null,'y',_0x14c6cb);}}function endDrag(_0x335fb4){draggedSvgElement=null;}function handleSvgEditClick(_0x2d9386){const _0x22b75f=_0xd665bf;if(_0x2d9386[_0x22b75f(0x817)][_0x22b75f(0x1e4)]['contains'](_0x22b75f(0x1fb))){const _0x1a019a=_0x2d9386[_0x22b75f(0x817)][_0x22b75f(0x53c)]['targetId'],_0x356b32=_0x2d9386[_0x22b75f(0x1b9)],_0x43d99d=_0x356b32[_0x22b75f(0x29b)]('#'+_0x1a019a);_0x43d99d&&_0x43d99d['remove'](),_0x2d9386['target'][_0x22b75f(0x52c)]();}}function handleEditQuestion(_0x41abd6){const _0x5a143f=_0xd665bf,_0x43a731=_0x41abd6[_0x5a143f(0x1b9)],_0xca2de3=_0x43a731[_0x5a143f(0x53c)]['index'],_0x43dc3e=currentQuizData['questions'][_0xca2de3],_0x47631f=document[_0x5a143f(0x36a)](_0x5a143f(0x49b)+_0xca2de3),_0x3856c6=document[_0x5a143f(0x36a)](_0x5a143f(0x29f)+_0xca2de3),_0x58896d=document[_0x5a143f(0x36a)](_0x5a143f(0x1ca)+_0xca2de3);if(_0x43a731[_0x5a143f(0xed)]['includes'](_0x5a143f(0x863))){_0x43a731[_0x5a143f(0xed)]=_0x5a143f(0x16c),_0x43a731[_0x5a143f(0x6d8)]=_0x5a143f(0x5c1);if(_0x47631f)_0x47631f[_0x5a143f(0x6e2)]=!![];if(_0x3856c6)_0x3856c6[_0x5a143f(0x6e2)]=!![];if(_0x58896d){const _0x415e1b=_0x58896d[_0x5a143f(0x29b)](_0x5a143f(0x9f));if(_0x415e1b){const _0xd8d211=_0x415e1b['querySelectorAll']('text');_0xd8d211[_0x5a143f(0x4be)]((_0x4fcdbf,_0x5cf352)=>{const _0xdbe820=_0x5a143f,_0x489001=_0xdbe820(0x66d)+_0xca2de3+'-'+_0x5cf352;_0x4fcdbf['id']=_0x489001,_0x4fcdbf[_0xdbe820(0x1e4)][_0xdbe820(0xff)](_0xdbe820(0x4f0)),_0x4fcdbf[_0xdbe820(0x60c)][_0xdbe820(0x5f2)]=_0xdbe820(0x840);const _0x56cdbb=document[_0xdbe820(0x426)](_0xdbe820(0x676),_0xdbe820(0x71c)),_0x429e33=_0x4fcdbf['getBBox']();_0x56cdbb[_0xdbe820(0x88)]('cx',String(_0x429e33['x']+_0x429e33[_0xdbe820(0x613)]+0x5)),_0x56cdbb[_0xdbe820(0x88)]('cy',String(_0x429e33['y']+_0x429e33[_0xdbe820(0xce)]/0x2-0x5)),_0x56cdbb['setAttribute']('r','5'),_0x56cdbb[_0xdbe820(0x88)](_0xdbe820(0x5ba),_0xdbe820(0x7a6)),_0x56cdbb[_0xdbe820(0x88)](_0xdbe820(0x66e),_0xdbe820(0x1fb)),_0x56cdbb[_0xdbe820(0x53c)][_0xdbe820(0x4d1)]=_0x489001,_0x4fcdbf[_0xdbe820(0x41f)](_0x56cdbb);}),_0x415e1b[_0x5a143f(0x125)](_0x5a143f(0x30e),startDrag),_0x415e1b[_0x5a143f(0x125)]('mousemove',drag),_0x415e1b['addEventListener'](_0x5a143f(0x23d),endDrag),_0x415e1b[_0x5a143f(0x125)](_0x5a143f(0x773),endDrag),_0x415e1b[_0x5a143f(0x125)](_0x5a143f(0x78b),startDrag,{'passive':![]}),_0x415e1b[_0x5a143f(0x125)](_0x5a143f(0x28b),drag,{'passive':![]}),_0x415e1b[_0x5a143f(0x125)](_0x5a143f(0x15a),endDrag),_0x415e1b[_0x5a143f(0x125)]('touchcancel',endDrag),_0x415e1b[_0x5a143f(0x125)](_0x5a143f(0x6ff),handleSvgEditClick);}}if(_0x47631f)_0x47631f['focus']();}else{_0x43a731[_0x5a143f(0xed)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x43a731[_0x5a143f(0x6d8)]=_0x5a143f(0xbb);if(_0x47631f){_0x47631f['contentEditable']=![];const _0x4ba69e=_0x43dc3e[_0x5a143f(0x2ca)]||currentQuizData[_0x5a143f(0x1f6)];_0x4ba69e===_0x5a143f(0x83b)?_0x43dc3e[_0x5a143f(0x36f)]=_0x47631f[_0x5a143f(0x140)][_0x5a143f(0xad)](_0x47631f[_0x5a143f(0x140)][_0x5a143f(0x25c)]('.')+0x2)[_0x5a143f(0x6fe)]():_0x43dc3e[_0x5a143f(0x551)]=_0x47631f[_0x5a143f(0x140)]['substring'](_0x47631f['innerText']['indexOf']('.')+0x2)['trim']();}_0x3856c6&&(_0x3856c6[_0x5a143f(0x6e2)]=![],_0x43dc3e[_0x5a143f(0x3f1)]=_0x3856c6[_0x5a143f(0x140)]);if(_0x58896d){const _0x13b9d5=_0x58896d[_0x5a143f(0x29b)]('svg');if(_0x13b9d5){const _0x1ef2f2=_0x13b9d5[_0x5a143f(0x485)](!![]);_0x1ef2f2[_0x5a143f(0x24f)](_0x5a143f(0x206))[_0x5a143f(0x4be)](_0x734e42=>_0x734e42['remove']()),_0x1ef2f2[_0x5a143f(0x24f)](_0x5a143f(0x608))[_0x5a143f(0x4be)](_0x5844b8=>{const _0x43929b=_0x5a143f;_0x5844b8['classList'][_0x43929b(0x52c)](_0x43929b(0x4f0)),_0x5844b8[_0x43929b(0x60c)][_0x43929b(0x5f2)]=_0x43929b(0x739),_0x5844b8['removeAttribute']('id');}),_0x43dc3e[_0x5a143f(0x404)]=_0x1ef2f2[_0x5a143f(0x559)],_0x13b9d5[_0x5a143f(0x70d)](_0x5a143f(0x30e),startDrag),_0x13b9d5[_0x5a143f(0x70d)]('mousemove',drag),_0x13b9d5[_0x5a143f(0x70d)](_0x5a143f(0x23d),endDrag),_0x13b9d5['removeEventListener'](_0x5a143f(0x773),endDrag),_0x13b9d5[_0x5a143f(0x70d)]('touchstart',startDrag),_0x13b9d5[_0x5a143f(0x70d)]('touchmove',drag),_0x13b9d5['removeEventListener'](_0x5a143f(0x15a),endDrag),_0x13b9d5['removeEventListener']('touchcancel',endDrag),_0x13b9d5['removeEventListener'](_0x5a143f(0x6ff),handleSvgEditClick),_0x13b9d5[_0x5a143f(0x24f)]('.delete-svg-btn')[_0x5a143f(0x4be)](_0x25ba7d=>_0x25ba7d[_0x5a143f(0x52c)]()),_0x13b9d5[_0x5a143f(0x24f)]('.draggable-text')[_0x5a143f(0x4be)](_0x16006c=>{const _0x2211fb=_0x5a143f;_0x16006c['classList']['remove'](_0x2211fb(0x4f0)),_0x16006c[_0x2211fb(0x60c)][_0x2211fb(0x5f2)]=_0x2211fb(0x739);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x4bd9fc){const _0x4314de=_0xd665bf,_0x58e985=document[_0x4314de(0x36a)](_0x4314de(0x6e6)),_0x492415=document[_0x4314de(0x36a)](_0x4314de(0x5d2));_0x492415[_0x4314de(0xed)]=_0x4314de(0xd6),_0x58e985[_0x4314de(0x1e4)][_0x4314de(0x52c)](_0x4314de(0x544));try{const _0xafd932=doc(db,_0x4314de(0x3bf)+appId+'/public/data/quizzes',_0x4bd9fc),_0x44360c=await getDoc(_0xafd932);if(!_0x44360c[_0x4314de(0x1c9)]())throw new Error(_0x4314de(0x3be));currentEditingQuizData={'id':_0x4bd9fc,..._0x44360c['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x466213){console['error']('Error\x20opening\x20quiz\x20editor:',_0x466213),showMessage(_0x4314de(0x344)),_0x58e985['classList'][_0x4314de(0xff)](_0x4314de(0x544));}}function renderQuizEditor(_0x361640){const _0x3a4663=_0xd665bf;document[_0x3a4663(0x36a)]('editor-quiz-topic')[_0x3a4663(0x4fc)]=_0x361640['topic'];const _0x4234e9=document[_0x3a4663(0x36a)](_0x3a4663(0x5d2));let _0x5bceba=_0x361640[_0x3a4663(0xd2)]['map']((_0x26948c,_0x48f9fc)=>{const _0x472545=_0x3a4663;let _0x184eb6='';const _0x1a1c37=_0x26948c[_0x472545(0x2ca)]||_0x361640[_0x472545(0x1f6)];switch(_0x1a1c37){case _0x472545(0x4ba):const _0x5d4a48=(_0x26948c[_0x472545(0x63d)]||[])[_0x472545(0x6f9)]((_0x284dbb,_0x1346e5)=>_0x472545(0x5b9)+_0x48f9fc+_0x472545(0x622)+_0x1346e5+'\x22\x20'+(_0x1346e5===_0x26948c[_0x472545(0x7cf)]?_0x472545(0x6d2):'')+_0x472545(0x645)+_0x284dbb+_0x472545(0x5ed))[_0x472545(0x2da)]('');_0x184eb6=_0x472545(0x7fb)+_0x5d4a48+_0x472545(0x1cc);break;case _0x472545(0x223):_0x184eb6=_0x472545(0x34b)+(_0x26948c[_0x472545(0x5a5)]||'')+_0x472545(0x170);break;case _0x472545(0x63c):_0x184eb6=_0x472545(0x332)+_0x48f9fc+_0x472545(0x852)+(_0x26948c[_0x472545(0x6be)]===!![]?_0x472545(0x6d2):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x48f9fc+'\x22\x20value=\x22false\x22\x20'+(_0x26948c[_0x472545(0x6be)]===![]?_0x472545(0x6d2):'')+_0x472545(0x7dc);break;case _0x472545(0x83b):_0x184eb6=_0x472545(0x857)+(_0x26948c[_0x472545(0x200)]||'')+_0x472545(0x46f);break;}const _0x5d9812=_0x26948c[_0x472545(0x551)]||_0x26948c[_0x472545(0x36f)]||'';return _0x472545(0x808)+_0x48f9fc+_0x472545(0xfa)+_0x1a1c37+_0x472545(0x189)+(_0x48f9fc+0x1)+'\x20('+_0x1a1c37+_0x472545(0x62c)+_0x5d9812+_0x472545(0x1f3)+_0x184eb6+_0x472545(0x1b7);})[_0x3a4663(0x2da)]('');_0x4234e9['innerHTML']=_0x5bceba;}async function handleSaveChanges(){const _0x2cbdd9=_0xd665bf,_0x223044=document[_0x2cbdd9(0x36a)](_0x2cbdd9(0x5d9));_0x223044[_0x2cbdd9(0x526)]=!![],_0x223044['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x3165f1=document[_0x2cbdd9(0x36a)](_0x2cbdd9(0x547))[_0x2cbdd9(0x4fc)],_0x8e8b0c=document[_0x2cbdd9(0x24f)](_0x2cbdd9(0xcd));let _0x49867c=[];const _0x23038d=Array[_0x2cbdd9(0x3da)](_0x8e8b0c)[_0x2cbdd9(0x6f9)]((_0x33e9ee,_0x29ab4b)=>{const _0x4e46e4=_0x2cbdd9,_0x6264f=_0x33e9ee[_0x4e46e4(0x53c)][_0x4e46e4(0x533)],_0x1be056=_0x33e9ee[_0x4e46e4(0x29b)](_0x4e46e4(0x5ea))[_0x4e46e4(0x4fc)];let _0x1f0e17={'questionType':_0x6264f};const _0x442f00=currentEditingQuizData['questions'][_0x29ab4b];switch(_0x6264f){case'multiple_choice':_0x1f0e17[_0x4e46e4(0x551)]=_0x1be056;const _0x378962=_0x33e9ee['querySelectorAll']('input[type=\x22text\x22]');_0x1f0e17[_0x4e46e4(0x63d)]=Array[_0x4e46e4(0x3da)](_0x378962)['map'](_0xa6da5b=>_0xa6da5b[_0x4e46e4(0x4fc)]);const _0x5a9fc9=_0x33e9ee[_0x4e46e4(0x29b)](_0x4e46e4(0x78c));_0x1f0e17[_0x4e46e4(0x7cf)]=_0x5a9fc9?parseInt(_0x5a9fc9[_0x4e46e4(0x4fc)]):0x0;break;case _0x4e46e4(0x223):_0x1f0e17[_0x4e46e4(0x551)]=_0x1be056,_0x1f0e17['idealAnswer']=_0x33e9ee[_0x4e46e4(0x29b)](_0x4e46e4(0x33b))['value'];break;case _0x4e46e4(0x63c):_0x1f0e17[_0x4e46e4(0x551)]=_0x1be056;const _0x5714da=_0x33e9ee['querySelector'](_0x4e46e4(0x78c));_0x1f0e17[_0x4e46e4(0x6be)]=_0x5714da?_0x5714da[_0x4e46e4(0x4fc)]==='true':!![];break;case'matching_item':_0x1f0e17['stem']=_0x1be056;const _0x5ea61f=_0x33e9ee[_0x4e46e4(0x29b)]('.correct-response-input');_0x1f0e17[_0x4e46e4(0x200)]=_0x5ea61f?_0x5ea61f[_0x4e46e4(0x4fc)]:'',_0x49867c[_0x4e46e4(0x27c)](_0x1f0e17[_0x4e46e4(0x200)]);break;default:_0x1f0e17['questionText']=_0x1be056;break;}return{..._0x442f00,..._0x1f0e17};});_0x49867c[_0x2cbdd9(0x30f)]>0x0&&_0x23038d[_0x2cbdd9(0x4be)](_0x3c8123=>{const _0x1f66a5=_0x2cbdd9;_0x3c8123[_0x1f66a5(0x2ca)]===_0x1f66a5(0x83b)&&(_0x3c8123[_0x1f66a5(0x647)]=_0x49867c);});const _0x56fb6f=currentEditingQuizData['id'],_0x27fa15=doc(db,_0x2cbdd9(0x3bf)+appId+_0x2cbdd9(0x778),_0x56fb6f);await updateDoc(_0x27fa15,{'topic':_0x3165f1,'questions':_0x23038d}),document['getElementById'](_0x2cbdd9(0x6e6))[_0x2cbdd9(0x1e4)]['add'](_0x2cbdd9(0x544)),showMessage(_0x2cbdd9(0x5ce),()=>initiateReGradeProcess(_0x56fb6f));}catch(_0x244ee7){console['error'](_0x2cbdd9(0x663),_0x244ee7),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x223044[_0x2cbdd9(0x526)]=![],_0x223044['innerHTML']='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x26c29f){const _0x38c68e=_0xd665bf;showMessage(_0x38c68e(0x3d6));try{const _0x2a0b4a=doc(db,'artifacts/'+appId+_0x38c68e(0x778),_0x26c29f),_0x4146fa=await getDoc(_0x2a0b4a);if(!_0x4146fa[_0x38c68e(0x1c9)]())throw new Error(_0x38c68e(0x3c6));const _0xb129ac={'id':_0x26c29f,..._0x4146fa['data']()},_0xa7241c=collection(db,'artifacts/'+appId+_0x38c68e(0x778),_0x26c29f,_0x38c68e(0x476)),_0x5a8602=await getDocs(_0xa7241c);if(_0x5a8602[_0x38c68e(0x5fb)]){showMessage(_0x38c68e(0x171));return;}const _0x3a08dc=_0x5a8602[_0x38c68e(0x66a)][_0x38c68e(0x6f9)](_0x40101e=>reGradeSingleSubmission(_0x40101e,_0xb129ac));await Promise[_0x38c68e(0x6ba)](_0x3a08dc);if(_0xb129ac[_0x38c68e(0x2fd)]){const _0x214a94=doc(db,_0x38c68e(0x3bf)+appId+_0x38c68e(0x14a),_0xb129ac[_0x38c68e(0x2fd)]),_0x121b45=await getDoc(_0x214a94);if(_0x121b45[_0x38c68e(0x1c9)]()&&_0x121b45['data']()['students']){const _0x2511b0=_0x121b45[_0x38c68e(0x6a1)]()[_0x38c68e(0x4cb)]['map'](_0xddaa84=>updateStudentProfile(_0xb129ac[_0x38c68e(0x2fd)],_0xddaa84));await Promise['all'](_0x2511b0);}}showMessage(_0x38c68e(0x3b1)+_0x5a8602[_0x38c68e(0x78a)]+_0x38c68e(0x80e));}catch(_0x37c2f0){console[_0x38c68e(0x3ef)](_0x38c68e(0x57b),_0x37c2f0),showMessage(_0x38c68e(0x6c4)+_0x37c2f0['message']);}}async function reGradeSingleSubmission(_0x116f28,_0x561e66){const _0x44875e=_0xd665bf,_0x2d63bf=_0x116f28[_0x44875e(0x6a1)](),_0x578dab=_0x2d63bf[_0x44875e(0x724)],_0x12c2e1=_0x2d63bf[_0x44875e(0x246)]||[],_0x3b40a=[];for(const _0x53b8c9 of _0x12c2e1){let _0xa26804=0x0,_0x1f9844=[],_0x4f50b9=0x0;const _0x46eb7d=[];for(const _0x123df6 of _0x53b8c9['answers']){let _0xd8c086;_0x123df6[_0x44875e(0x116)]&&(_0xd8c086=_0x561e66[_0x44875e(0xd2)]['find'](_0x166ade=>_0x166ade['id']===_0x123df6[_0x44875e(0x116)]));!_0xd8c086&&_0x123df6['originalQuestionText']&&(_0xd8c086=_0x561e66[_0x44875e(0xd2)][_0x44875e(0x5ec)](_0xc48c3d=>(_0xc48c3d[_0x44875e(0x36f)]||_0xc48c3d[_0x44875e(0x551)])===_0x123df6[_0x44875e(0x54a)]));let _0x154cfc=![];if(_0xd8c086){const _0x358149=_0xd8c086[_0x44875e(0x2ca)]||_0x561e66[_0x44875e(0x1f6)];switch(_0x358149){case'multiple_choice':if(_0xd8c086[_0x44875e(0x63d)]&&_0xd8c086[_0x44875e(0x7cf)]<_0xd8c086[_0x44875e(0x63d)][_0x44875e(0x30f)]){const _0x4118eb=_0xd8c086[_0x44875e(0x63d)][_0xd8c086[_0x44875e(0x7cf)]];_0x154cfc=_0x123df6[_0x44875e(0x488)]===_0x4118eb;}break;case _0x44875e(0x63c):const _0x15c2af=_0x123df6['answer']===!![]||_0x123df6[_0x44875e(0x212)]==='true';_0x154cfc=_0x15c2af===_0xd8c086[_0x44875e(0x6be)];break;case _0x44875e(0x83b):_0x154cfc=_0x123df6[_0x44875e(0x212)]===_0xd8c086['correctResponse'];break;case _0x44875e(0x223):_0x154cfc=await gradeShortAnswer(_0x123df6[_0x44875e(0x212)],_0xd8c086);break;default:_0x154cfc=_0x123df6['isCorrect'];break;}}if(_0x154cfc){_0xa26804++,_0x4f50b9++;if(_0x4f50b9===0x3)_0x1f9844[_0x44875e(0x27c)](BADGES[_0x44875e(0x42f)]['id']);}else _0x4f50b9=0x0;_0x46eb7d[_0x44875e(0x27c)]({..._0x123df6,'isCorrect':_0x154cfc});}let _0x2b035e=_0xa26804*0xa;_0xa26804===_0x561e66[_0x44875e(0xd2)][_0x44875e(0x30f)]&&(_0x2b035e+=0x32,_0x1f9844['push'](BADGES[_0x44875e(0x262)]['id'])),_0x3b40a[_0x44875e(0x27c)]({..._0x53b8c9,'score':_0xa26804,'points':_0x2b035e,'badges':Array[_0x44875e(0x3da)](new Set(_0x1f9844)),'answers':_0x46eb7d});}const _0xb83b0e=_0x3b40a[_0x44875e(0x30f)]>0x0?_0x3b40a[0x0][_0x44875e(0x673)]:0x0,_0x2d7b7d=Math['max'](..._0x3b40a[_0x44875e(0x6f9)](_0x40b6ac=>_0x40b6ac[_0x44875e(0x673)])),_0x3c21ec=_0x3b40a['length']>0x0?_0x3b40a[_0x3b40a[_0x44875e(0x30f)]-0x1]['score']:0x0,_0x51f9bb=_0x3b40a[_0x44875e(0x30f)]>0x0?_0x3b40a[_0x3b40a['length']-0x1]['points']:0x0,_0x109191=doc(db,_0x44875e(0x3bf)+appId+_0x44875e(0x187)+_0x561e66['id']+_0x44875e(0x519),_0x578dab);await updateDoc(_0x109191,{'attempts':_0x3b40a,'firstScore':_0xb83b0e,'bestScore':_0x2d7b7d,'latestScore':_0x3c21ec,'points':_0x51f9bb});}function cleanupQuizOptions(_0x6240ec){const _0x43442a=_0xd665bf,_0x2f05da=(_0x188ded,_0xe35e30)=>_0xe35e30===0x0?_0x188ded:_0x2f05da(_0xe35e30,_0x188ded%_0xe35e30),_0x1a6d5f=_0x1070f9=>{const _0x2befe9=_0x1faf;if(typeof _0x1070f9!==_0x2befe9(0x4d4))return null;_0x1070f9=_0x1070f9[_0x2befe9(0x6fe)]();const _0x4e4ca2=_0x1070f9[_0x2befe9(0x838)](/[ /]/)[_0x2befe9(0x77f)](_0x10270d=>_0x10270d!=='');if(_0x4e4ca2[_0x2befe9(0x30f)]===0x3)return parseInt(_0x4e4ca2[0x0])+parseInt(_0x4e4ca2[0x1])/parseInt(_0x4e4ca2[0x2]);else{if(_0x4e4ca2['length']===0x2)return parseInt(_0x4e4ca2[0x0])/parseInt(_0x4e4ca2[0x1]);else{if(_0x4e4ca2['length']===0x1&&!isNaN(_0x4e4ca2[0x0]))return parseFloat(_0x4e4ca2[0x0]);}}return null;},_0x588c07=_0x33fb55=>{const _0x2a1437=_0x1faf;if(typeof _0x33fb55!==_0x2a1437(0x4d4))return _0x33fb55;const _0x1b1752=_0x33fb55[_0x2a1437(0x5fc)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x1b1752){const _0x87bb85=parseInt(_0x1b1752[0x1]);let _0x25c10c=parseInt(_0x1b1752[0x2]),_0x7a53a1=parseInt(_0x1b1752[0x3]);const _0x543f91=_0x2f05da(_0x25c10c,_0x7a53a1);_0x25c10c/=_0x543f91,_0x7a53a1/=_0x543f91;if(_0x7a53a1===0x1)return(_0x87bb85+_0x25c10c)[_0x2a1437(0x6de)]();return _0x87bb85+'\x20'+_0x25c10c+'/'+_0x7a53a1;}return _0x33fb55;};return _0x6240ec&&_0x6240ec[_0x43442a(0xd2)]&&_0x6240ec['questions'][_0x43442a(0x4be)](_0x479cc7=>{const _0x1b318a=_0x43442a;if(_0x479cc7[_0x1b318a(0x2ca)]===_0x1b318a(0x4ba)&&_0x479cc7[_0x1b318a(0x63d)]){const _0x440cf2=new Map(),_0x5648e6=_0x479cc7[_0x1b318a(0x63d)][_0x479cc7['correctAnswerIndex']];_0x479cc7[_0x1b318a(0x63d)]['forEach'](_0x2abd64=>{const _0x1b793b=_0x1b318a,_0x524e72=_0x588c07(_0x2abd64),_0x2cb8a1=_0x1a6d5f(_0x524e72);_0x2cb8a1!==null&&!_0x440cf2[_0x1b793b(0x588)](_0x2cb8a1)&&_0x440cf2[_0x1b793b(0x98)](_0x2cb8a1,_0x524e72);}),_0x479cc7[_0x1b318a(0x63d)]=Array['from'](_0x440cf2[_0x1b318a(0x3d2)]());const _0x5c7589=_0x479cc7[_0x1b318a(0x63d)]['findIndex'](_0x187a7b=>_0x187a7b===_0x588c07(_0x5648e6));_0x479cc7[_0x1b318a(0x7cf)]=_0x5c7589!==-0x1?_0x5c7589:0x0;}}),_0x6240ec;}async function saveQuiz(){const _0x56234a=_0xd665bf;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x56234a(0xd2)]||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0xab15e=document[_0x56234a(0x36a)](_0x56234a(0xc9));_0xab15e[_0x56234a(0x526)]=!![],_0xab15e[_0x56234a(0xed)]=_0x56234a(0x1a0);const _0x37d4ae=document[_0x56234a(0x36a)]('pre-test-checkbox')[_0x56234a(0x6d2)];let _0x40ad5b=document['getElementById'](_0x56234a(0x373))[_0x56234a(0x140)][_0x56234a(0x6fe)]();_0x37d4ae&&!_0x40ad5b[_0x56234a(0x348)]('(ก่อนเรียน)')&&(_0x40ad5b=_0x56234a(0x51e)+_0x40ad5b);try{const _0x2a5656={'resultsDisplay':document[_0x56234a(0x36a)]('results-display-select')['value'],'shuffle':document[_0x56234a(0x36a)](_0x56234a(0x454))[_0x56234a(0x4fc)],'timerMode':document[_0x56234a(0x36a)](_0x56234a(0x34c))['value'],'timerDuration':parseInt(document[_0x56234a(0x36a)](_0x56234a(0x4b8))[_0x56234a(0x4fc)])||0xa,'passingScore':parseInt(document[_0x56234a(0x36a)](_0x56234a(0x43e))[_0x56234a(0x4fc)])||0x0,'isAdaptive':document[_0x56234a(0x36a)]('adaptive-quiz-checkbox')['checked'],'loopUntilPass':document[_0x56234a(0x36a)](_0x56234a(0x666))[_0x56234a(0x6d2)]},_0x4efbf3=(currentQuizData['questions']||[])[_0x56234a(0x6f9)]((_0x4b5252,_0x2113c6)=>{const _0x4fb6ca=_0x56234a,_0x332755=document[_0x4fb6ca(0x36a)](_0x4fb6ca(0x656))['value'],_0x3308d9={'id':'q_'+Date[_0x4fb6ca(0x468)]()+'_'+_0x2113c6,'questionText':_0x4b5252['questionText']||'','explanation':_0x4b5252[_0x4fb6ca(0x3f1)]||'ไม่มีคำอธิบาย','questionType':_0x4b5252[_0x4fb6ca(0x2ca)]||_0x332755,'imageCode':_0x4b5252[_0x4fb6ca(0x404)]||null};return(_0x3308d9[_0x4fb6ca(0x2ca)]===_0x4fb6ca(0x4ba)||_0x3308d9[_0x4fb6ca(0x2ca)]==='fill_in_with_choices'||_0x3308d9[_0x4fb6ca(0x2ca)]===_0x4fb6ca(0x501)&&_0x4b5252['options'])&&(_0x3308d9[_0x4fb6ca(0x63d)]=_0x4b5252[_0x4fb6ca(0x63d)]||[],_0x3308d9[_0x4fb6ca(0x7cf)]=_0x4b5252[_0x4fb6ca(0x7cf)]!==undefined?_0x4b5252[_0x4fb6ca(0x7cf)]:0x0),(_0x3308d9[_0x4fb6ca(0x2ca)]==='short_answer'||_0x3308d9[_0x4fb6ca(0x2ca)]===_0x4fb6ca(0x7d6)||_0x3308d9[_0x4fb6ca(0x2ca)]===_0x4fb6ca(0x501)&&_0x4b5252[_0x4fb6ca(0x5a5)])&&(_0x3308d9[_0x4fb6ca(0x5a5)]=_0x4b5252['idealAnswer']||''),_0x3308d9[_0x4fb6ca(0x2ca)]===_0x4fb6ca(0x63c)&&(_0x3308d9[_0x4fb6ca(0x6be)]=_0x4b5252['correctAnswer']===!![]),_0x3308d9[_0x4fb6ca(0x2ca)]===_0x4fb6ca(0x83b)&&(_0x3308d9['stem']=_0x4b5252[_0x4fb6ca(0x36f)]||'',_0x3308d9[_0x4fb6ca(0x200)]=_0x4b5252[_0x4fb6ca(0x200)]||'',_0x3308d9[_0x4fb6ca(0x647)]=_0x4b5252[_0x4fb6ca(0x647)]||[]),_0x3308d9;}),_0x2ae49b={'topic':_0x40ad5b,'quizType':currentQuizData[_0x56234a(0x1f6)]||'multiple_choice','questions':_0x4efbf3,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x56234a(0x407)](),'status':_0x56234a(0x21d),'settings':_0x2a5656,'quizMode':_0x37d4ae?_0x56234a(0xa5):_0x56234a(0x51a),'pairedQuizId':null,'lessonPlan':null};let _0x317839;while(!![]){_0x317839=Math[_0x56234a(0x44e)](0x3e8+Math[_0x56234a(0x162)]()*0x2328)[_0x56234a(0x6de)]();const _0x366b31=await getDoc(doc(db,_0x56234a(0x3bf)+appId+_0x56234a(0x778),_0x317839));if(!_0x366b31[_0x56234a(0x1c9)]())break;}await setDoc(doc(db,_0x56234a(0x3bf)+appId+_0x56234a(0x778),_0x317839),_0x2ae49b),currentQuizData[_0x56234a(0x213)]=_0x2a5656,currentQuizData['id']=_0x317839;const _0x48ac61=document['getElementById']('generated-quiz-actions');_0x48ac61[_0x56234a(0xed)]=_0x56234a(0x506)+_0x317839+_0x56234a(0x2b7),document['getElementById']('copy-quiz-id-btn')[_0x56234a(0x125)]('click',()=>copyTextToClipboard(_0x317839,_0x56234a(0xb1))),document[_0x56234a(0x36a)](_0x56234a(0x6a2))[_0x56234a(0x125)](_0x56234a(0x6ff),()=>handleStartLiveRace(_0x317839)),document[_0x56234a(0x36a)](_0x56234a(0x493))[_0x56234a(0x125)](_0x56234a(0x6ff),()=>startPresentation(currentQuizData)),document[_0x56234a(0x36a)](_0x56234a(0x13f))[_0x56234a(0x125)]('click',startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x21680b){console[_0x56234a(0x3ef)](_0x56234a(0xf1),_0x21680b),showMessage(_0x56234a(0x804)),_0xab15e[_0x56234a(0x526)]=![],_0xab15e[_0x56234a(0xed)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x4e4219=_0xd665bf,_0x416ec0=document[_0x4e4219(0x36a)](_0x4e4219(0x78d)),_0x47382c=document['getElementById'](_0x4e4219(0x756)),_0xe2cf93=_0x416ec0['querySelector']('h3'),_0x4dc852=document[_0x4e4219(0x36a)](_0x4e4219(0x2bc));_0xe2cf93[_0x4e4219(0x41b)]=_0x4e4219(0x323),_0x4dc852[_0x4e4219(0x41b)]=_0x4e4219(0x54e);allProjects[_0x4e4219(0x30f)]===0x0?(_0x47382c[_0x4e4219(0xed)]=_0x4e4219(0x710),_0x4dc852['disabled']=!![]):(_0x47382c[_0x4e4219(0xed)]=allProjects['map'](_0x486636=>'<option\x20value=\x22'+_0x486636['id']+'\x22>'+_0x486636[_0x4e4219(0x9c)]+_0x4e4219(0x2ed))[_0x4e4219(0x2da)](''),_0x4dc852['disabled']=![]);_0x416ec0['classList'][_0x4e4219(0x52c)]('hidden');const _0x1bf75c=()=>{const _0x592e30=_0x4e4219,_0x236e34=_0x47382c['value'];_0x236e34?(currentProjectId=_0x236e34,_0x416ec0[_0x592e30(0x1e4)]['add'](_0x592e30(0x544)),saveQuiz(),_0xe2cf93[_0x592e30(0x41b)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x4dc852[_0x592e30(0x41b)]=_0x592e30(0xf5),_0x4dc852[_0x592e30(0x70d)]('click',_0x1bf75c),_0x4dc852[_0x592e30(0x125)]('click',confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x4dc852[_0x4e4219(0x70d)](_0x4e4219(0x6ff),confirmMoveQuiz),_0x4dc852['addEventListener'](_0x4e4219(0x6ff),_0x1bf75c);}function copyTextToClipboard(_0x490b35,_0xe24b07){const _0x44111f=_0xd665bf,_0x203812=document['createElement'](_0x44111f(0x5ea));_0x203812[_0x44111f(0x4fc)]=_0x490b35,_0x203812[_0x44111f(0x60c)][_0x44111f(0x6b8)]=_0x44111f(0x5b1),_0x203812[_0x44111f(0x60c)][_0x44111f(0x2b5)]='0',document[_0x44111f(0x2ae)][_0x44111f(0x5c5)](_0x203812),_0x203812[_0x44111f(0x847)](),_0x203812[_0x44111f(0x6d0)]();try{const _0x3f1b64=document['execCommand'](_0x44111f(0x18b));showMessage(_0x3f1b64?_0xe24b07:_0x44111f(0x75c));}catch(_0x3e2304){showMessage(_0x44111f(0x75c)),console[_0x44111f(0x3ef)]('Copy\x20command\x20failed',_0x3e2304);}document[_0x44111f(0x2ae)][_0x44111f(0x134)](_0x203812);}function listenForProjectQuizzes(_0x3cfc42){const _0x356b45=_0xd665bf,_0x3b0742=collection(db,'artifacts/'+appId+_0x356b45(0x778)),_0x42af86=query(_0x3b0742,where(_0x356b45(0x2fd),'==',_0x3cfc42));unsubscribeQuizzesListener=onSnapshot(_0x42af86,async _0x1fe7a8=>{const _0x45c678=_0x356b45;allQuizzes=_0x1fe7a8['docs'][_0x45c678(0x6f9)](_0x38b511=>({'id':_0x38b511['id'],..._0x38b511[_0x45c678(0x6a1)]()})),renderQuizzes();},_0x43d380=>{const _0x393fa7=_0x356b45;console[_0x393fa7(0x3ef)](_0x393fa7(0x601),_0x43d380),document['getElementById'](_0x393fa7(0x744))[_0x393fa7(0xed)]=_0x393fa7(0x703);});}async function renderQuizzes(){const _0x1bf79b=_0xd665bf,_0x233abd=document[_0x1bf79b(0x36a)](_0x1bf79b(0x744)),_0x5a6fe5=document[_0x1bf79b(0x36a)](_0x1bf79b(0x195))['value'][_0x1bf79b(0x423)]();let _0x2a9dd5;currentProjectId==='starred'?_0x2a9dd5=starredQuizzes:_0x2a9dd5=allQuizzes;let _0x10bd21=_0x2a9dd5[_0x1bf79b(0x77f)](_0x157f57=>_0x157f57[_0x1bf79b(0x4bb)][_0x1bf79b(0x423)]()['includes'](_0x5a6fe5));_0x10bd21[_0x1bf79b(0x4c5)]((_0x1b67e3,_0x16ea1f)=>new Date(_0x16ea1f[_0x1bf79b(0x234)])-new Date(_0x1b67e3[_0x1bf79b(0x234)]));if(_0x10bd21[_0x1bf79b(0x30f)]===0x0){_0x233abd[_0x1bf79b(0xed)]=_0x1bf79b(0x503);return;}const _0x31e89a={},_0x51e375=_0x10bd21[_0x1bf79b(0x6f9)](async _0x19236e=>{const _0x493551=_0x1bf79b,_0x2fa405=collection(db,'artifacts/'+appId+_0x493551(0x187)+_0x19236e['id']+'/submissions'),_0x26ca64=await getDocs(_0x2fa405);_0x31e89a[_0x19236e['id']]=_0x26ca64[_0x493551(0x78a)];});await Promise[_0x1bf79b(0x6ba)](_0x51e375);let _0x361a8c='';_0x10bd21[_0x1bf79b(0x4be)](_0x55e458=>{const _0x19c950=_0x1bf79b,_0x34da37=_0x31e89a[_0x55e458['id']]||0x0,_0x10db7c=_0x55e458[_0x19c950(0x644)]||_0x19c950(0x21d),_0x396c8d=_0x55e458[_0x19c950(0x213)]?.[_0x19c950(0x36b)]||_0x19c950(0x44b);let _0x37e071='',_0x1b499a='';const _0x122446=new Date();let _0x3c7e0e=_0x10db7c;if(_0x10db7c==='scheduled'){const _0xb7a3d=_0x55e458[_0x19c950(0x2de)]?new Date(_0x55e458[_0x19c950(0x2de)]):null,_0x40ff4d=_0x55e458[_0x19c950(0x2c4)]?new Date(_0x55e458[_0x19c950(0x2c4)]):null;if(_0x40ff4d&&_0x122446>_0x40ff4d)_0x3c7e0e=_0x19c950(0x75f);else _0xb7a3d&&_0x122446<_0xb7a3d?_0x3c7e0e=_0x19c950(0x661):_0x3c7e0e=_0x19c950(0x21d);}switch(_0x3c7e0e){case _0x19c950(0x75f):_0x37e071=_0x19c950(0x564),_0x1b499a=_0x19c950(0x5da);break;case _0x19c950(0x661):_0x37e071=_0x19c950(0x151),_0x1b499a=_0x19c950(0x767);break;case _0x19c950(0x21d):_0x37e071=_0x396c8d!==_0x19c950(0x44b)?_0x19c950(0x73c):'เปิดใช้งาน',_0x1b499a=_0x19c950(0x712);break;default:_0x37e071=_0x19c950(0x732),_0x1b499a=_0x19c950(0x712);break;}let _0x51d655='';const _0x297e0a={'day':_0x19c950(0xc7),'month':_0x19c950(0xc7),'year':_0x19c950(0x841),'hour':_0x19c950(0xc7),'minute':_0x19c950(0xc7),'hour12':![]};if(_0x10db7c==='scheduled'){if(_0x55e458[_0x19c950(0x2de)])_0x51d655+=_0x19c950(0x3bd)+new Date(_0x55e458[_0x19c950(0x2de)])[_0x19c950(0x7ff)]('th-TH',_0x297e0a)+_0x19c950(0x294);if(_0x55e458[_0x19c950(0x2c4)])_0x51d655+=_0x19c950(0x143)+new Date(_0x55e458['endTime'])[_0x19c950(0x7ff)](_0x19c950(0x5c0),_0x297e0a)+'</p>';}let _0x5f857f='';if(_0x55e458[_0x19c950(0x579)]){const _0x232ed1=allQuizzes['find'](_0x508f53=>_0x508f53['id']===_0x55e458[_0x19c950(0x579)]);if(_0x232ed1){let _0x523130,_0x2cd331;new Date(_0x55e458[_0x19c950(0x234)])<new Date(_0x232ed1[_0x19c950(0x234)])?(_0x523130=_0x55e458['id'],_0x2cd331=_0x232ed1['id']):(_0x523130=_0x232ed1['id'],_0x2cd331=_0x55e458['id']),_0x5f857f+=_0x19c950(0x583)+_0x2cd331+_0x19c950(0x311)+_0x523130+_0x19c950(0x542);}}else _0x55e458['quizMode']===_0x19c950(0xa5)&&(_0x5f857f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x55e458['id']+_0x19c950(0x1aa));if(_0x55e458[_0x19c950(0x6c2)]===_0x19c950(0xa5)&&_0x34da37>0x0)_0x5f857f+=_0x19c950(0xc3)+_0x55e458['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x55e458['pairedQuizId']&&_0x55e458[_0x19c950(0x6c2)]!=='pre-test'&&_0x34da37>0x0&&(_0x5f857f+=_0x19c950(0xc3)+_0x55e458['id']+_0x19c950(0x180));let _0x2d16d2='';_0x55e458[_0x19c950(0x579)]?_0x2d16d2=_0x19c950(0x37f)+_0x55e458['id']+_0x19c950(0x201):_0x2d16d2=_0x19c950(0x37f)+_0x55e458['id']+_0x19c950(0x60f),_0x361a8c+=_0x19c950(0x355)+_0x55e458['id']+_0x19c950(0x331)+_0x55e458[_0x19c950(0x4bb)]+_0x19c950(0x119)+_0x55e458[_0x19c950(0xd2)][_0x19c950(0x30f)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x55e458[_0x19c950(0x234)])[_0x19c950(0x7ff)](_0x19c950(0x5c0))+_0x19c950(0x3e3)+_0x34da37+_0x19c950(0x7f5)+_0x51d655+_0x19c950(0x131)+_0x1b499a+'\x22>'+_0x37e071+_0x19c950(0x746)+_0x55e458['id']+_0x19c950(0x351)+_0x55e458['id']+_0x19c950(0x158)+(_0x55e458['isStarred']?_0x19c950(0x1fc):_0x19c950(0x44d))+_0x19c950(0x752)+_0x5f857f+_0x19c950(0x796)+_0x55e458['id']+_0x19c950(0x5c6)+_0x55e458['id']+_0x19c950(0x7d8)+_0x55e458['id']+_0x19c950(0x57d)+_0x55e458['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x55e458['id']+_0x19c950(0x7b8)+_0x55e458['id']+_0x19c950(0x30c)+_0x55e458['id']+_0x19c950(0x40c)+_0x55e458[_0x19c950(0x4bb)]+_0x19c950(0x46e)+_0x55e458['id']+_0x19c950(0x2e8)+_0x55e458['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d16d2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x55e458['id']+_0x19c950(0x643)+_0x55e458['id']+_0x19c950(0x44f)+_0x55e458['id']+_0x19c950(0x31c)+_0x55e458['id']+_0x19c950(0x515)+_0x55e458['id']+_0x19c950(0x40c)+_0x55e458[_0x19c950(0x4bb)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x233abd[_0x1bf79b(0xed)]=_0x361a8c,document[_0x1bf79b(0x24f)](_0x1bf79b(0x43f))[_0x1bf79b(0x4be)](_0x597f99=>{const _0x2ee6f6=_0x1bf79b;_0x597f99['addEventListener'](_0x2ee6f6(0x6ff),()=>{const _0x5c4660=_0x2ee6f6,_0xbeaf9=_0x597f99[_0x5c4660(0x53c)][_0x5c4660(0x3a0)];showQuizDetailView(_0xbeaf9);});});}async function handleUnpairQuiz(_0x5c2013){const _0x472d8a=_0xd665bf,_0x573eb7=allQuizzes[_0x472d8a(0x5ec)](_0x56bbfd=>_0x56bbfd['id']===_0x5c2013);if(!_0x573eb7||!_0x573eb7[_0x472d8a(0x579)]){showMessage(_0x472d8a(0x764));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x104f39=_0x472d8a;try{const _0x5783a8=doc(db,_0x104f39(0x3bf)+appId+'/public/data/quizzes',_0x5c2013),_0x480ae2=doc(db,_0x104f39(0x3bf)+appId+_0x104f39(0x778),_0x573eb7[_0x104f39(0x579)]),_0x1c2baf=writeBatch(db);_0x1c2baf[_0x104f39(0x517)](_0x5783a8,{'pairedQuizId':null}),_0x1c2baf[_0x104f39(0x517)](_0x480ae2,{'pairedQuizId':null}),await _0x1c2baf[_0x104f39(0x3b0)](),showMessage(_0x104f39(0x743));}catch(_0x37c944){console[_0x104f39(0x3ef)](_0x104f39(0x18c),_0x37c944),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x43b454,_0x4c4b03){const _0x3e555f=_0xd665bf,_0x3bbc3d=window['open']('',_0x3e555f(0x5f4)),_0xa1cb03=_0x3e555f(0x450)+_0x4c4b03[_0x3e555f(0x4bb)]+_0x3e555f(0x396)+_0x4c4b03[_0x3e555f(0x4bb)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43b454['learningGaps'][_0x3e555f(0x6f9)](_0x3bac28=>_0x3e555f(0x305)+_0x3bac28+_0x3e555f(0x3a9))['join']('')+_0x3e555f(0x18a)+_0x43b454[_0x3e555f(0x401)]+_0x3e555f(0x67c)+_0x43b454[_0x3e555f(0x753)][_0x3e555f(0x6f9)](_0xa1cf5a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0xa1cf5a['question']+_0x3e555f(0x832)+_0xa1cf5a['solution']+_0x3e555f(0x365))[_0x3e555f(0x2da)]('')+_0x3e555f(0x39a);_0x3bbc3d[_0x3e555f(0x6c0)][_0x3e555f(0x7b)](_0xa1cb03),_0x3bbc3d[_0x3e555f(0x6c0)][_0x3e555f(0x7f1)](),_0x3bbc3d[_0x3e555f(0x442)]=function(){setTimeout(()=>{_0x3bbc3d['print']();},0x3e8);};}async function handleGenerateLessonPlan(_0x4b165e){const _0xe24e58=_0xd665bf;showMessage(_0xe24e58(0x6bc));try{const _0x10fd47=doc(db,_0xe24e58(0x3bf)+appId+_0xe24e58(0x778),_0x4b165e),_0x30d83a=await getDoc(_0x10fd47);if(!_0x30d83a[_0xe24e58(0x1c9)]())throw new Error(_0xe24e58(0x3c6));const _0x3899a6={'id':_0x4b165e,..._0x30d83a['data']()},_0x1b3f0f=collection(db,_0xe24e58(0x3bf)+appId+_0xe24e58(0x778),_0x4b165e,_0xe24e58(0x476)),_0x55340c=await getDocs(_0x1b3f0f),_0x2752c0=_0x55340c[_0xe24e58(0x66a)][_0xe24e58(0x6f9)](_0x3a772b=>_0x3a772b[_0xe24e58(0x6a1)]());if(_0x2752c0[_0xe24e58(0x30f)]===0x0)throw new Error(_0xe24e58(0xd8));const _0x491c66=calculateItemAnalysis(_0x3899a6,_0x2752c0)[_0xe24e58(0x86)],_0x1ae69d=calculateDistractorAnalysis(_0x3899a6,_0x2752c0),_0x4070fc=_0x49a029=>{const _0x336843=_0xe24e58;if(!_0x49a029)return'';return _0x49a029['replace'](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x336843(0x619)](/\n/g,'\x5cn');};let _0x2f07c7=_0xe24e58(0x3dc);_0x3899a6[_0xe24e58(0xd2)]['forEach']((_0x3810cc,_0x28dbdf)=>{const _0x44a644=_0xe24e58,_0x5654d6=_0x491c66[_0x28dbdf]?.['p'][_0x44a644(0x540)](0x2)||_0x44a644(0x6fa),_0x59c9a4=_0x491c66[_0x28dbdf]?.['r'][_0x44a644(0x540)](0x2)||'N/A',_0x5130cb=_0x4070fc(_0x3810cc[_0x44a644(0x551)]||_0x3810cc[_0x44a644(0x36f)]);_0x2f07c7+=_0x44a644(0x5a0)+(_0x28dbdf+0x1)+_0x44a644(0x758)+_0x5654d6+_0x44a644(0x597)+_0x59c9a4+_0x44a644(0x35a)+_0x5130cb+'\x5cn';if(_0x3810cc[_0x44a644(0x2ca)]===_0x44a644(0x4ba)&&_0x1ae69d[_0x28dbdf]){const _0x23c386=_0x1ae69d[_0x28dbdf],_0x47a97c=Object[_0x44a644(0x7bb)](_0x23c386)[_0x44a644(0x77f)](_0x545388=>parseInt(_0x545388)!==_0x3810cc[_0x44a644(0x7cf)])['sort']((_0x3a824b,_0x70f913)=>_0x23c386[_0x70f913][_0x44a644(0x436)]-_0x23c386[_0x3a824b][_0x44a644(0x436)])[0x0];if(_0x47a97c&&_0x23c386[_0x47a97c][_0x44a644(0x436)]>0x0){const _0x1152c9=_0x4070fc(_0x23c386[_0x47a97c][_0x44a644(0x163)]);_0x2f07c7+=_0x44a644(0xda)+_0x1152c9+_0x44a644(0x4f6);}}});const _0x350b2d=_0xe24e58(0x543)+_0x3899a6[_0xe24e58(0x4bb)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f07c7+_0xe24e58(0x7af),_0x53a9c4={'type':_0xe24e58(0x5b3),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':'STRING'}},'teachingContent':{'type':_0xe24e58(0x427)},'practiceProblems':{'type':'ARRAY','items':{'type':_0xe24e58(0x5b3),'properties':{'question':{'type':_0xe24e58(0x427)},'solution':{'type':_0xe24e58(0x427)}}}}},'required':['learningGaps',_0xe24e58(0x401),_0xe24e58(0x753)]},_0x44600e=await callAnalysisApi(_0x350b2d,_0x53a9c4);await updateDoc(_0x10fd47,{'lessonPlan':_0x44600e});const _0x183084=_0xe24e58(0x417)+_0x3899a6[_0xe24e58(0x4bb)]+_0xe24e58(0x53b)+_0x44600e[_0xe24e58(0x54d)]['map'](_0x352498=>_0xe24e58(0x305)+_0x352498+_0xe24e58(0x3a9))['join']('')+_0xe24e58(0x607)+_0x44600e[_0xe24e58(0x401)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x44600e['practiceProblems'][_0xe24e58(0x6f9)](_0x5031bd=>_0xe24e58(0x761)+_0x5031bd['question']+_0xe24e58(0x5fa)+_0x5031bd[_0xe24e58(0x220)]+_0xe24e58(0x750))[_0xe24e58(0x2da)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0xe24e58(0x36a)](_0xe24e58(0x6a9))['textContent']='แผนการสอน:\x20'+_0x3899a6[_0xe24e58(0x4bb)],document[_0xe24e58(0x36a)]('lesson-plan-content')[_0xe24e58(0xed)]=_0x183084,document['getElementById'](_0xe24e58(0x33e))[_0xe24e58(0x1e4)][_0xe24e58(0x52c)]('hidden');if(window[_0xe24e58(0x6ea)])MathJax[_0xe24e58(0x17a)]();messageModal[_0xe24e58(0x1e4)][_0xe24e58(0xff)](_0xe24e58(0x544));}catch(_0x2c29ed){console[_0xe24e58(0x3ef)](_0xe24e58(0x78e),_0x2c29ed),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2c29ed[_0xe24e58(0x4e5)]);}}async function handleDuplicateQuiz(_0x53f311){const _0x2e6194=_0xd665bf;try{const _0x1a0045=doc(db,'artifacts/'+appId+_0x2e6194(0x778),_0x53f311),_0x46fc75=await getDoc(_0x1a0045);if(_0x46fc75[_0x2e6194(0x1c9)]()){const _0x31088e=_0x46fc75['data']();let _0x1a9ea6='',_0x34c22a='standard',_0x486a81=null;if(_0x31088e[_0x2e6194(0x6c2)]===_0x2e6194(0xa5)){let _0x60c63b=_0x31088e['topic'][_0x2e6194(0x619)]('(ก่อนเรียน)','')[_0x2e6194(0x6fe)]();_0x1a9ea6=_0x2e6194(0x109)+_0x60c63b,_0x34c22a=_0x2e6194(0x669),_0x486a81=_0x53f311;}else _0x1a9ea6=_0x2e6194(0x59f)+_0x31088e[_0x2e6194(0x4bb)];const _0x15ffc9={..._0x31088e,'topic':_0x1a9ea6,'createdAt':new Date()[_0x2e6194(0x407)](),'quizMode':_0x34c22a,'pairedQuizId':_0x486a81};let _0x47e7a0;while(!![]){_0x47e7a0=Math[_0x2e6194(0x44e)](0x3e8+Math['random']()*0x2328)[_0x2e6194(0x6de)]();const _0x20509b=await getDoc(doc(db,_0x2e6194(0x3bf)+appId+_0x2e6194(0x778),_0x47e7a0));if(!_0x20509b['exists']())break;}const _0x560182=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x47e7a0);await setDoc(_0x560182,_0x15ffc9),_0x15ffc9[_0x2e6194(0x6c2)]==='post-test'&&await updateDoc(_0x1a0045,{'pairedQuizId':_0x47e7a0}),showMessage(_0x2e6194(0x68c));}else throw new Error(_0x2e6194(0x45e));}catch(_0x4bd1d0){console[_0x2e6194(0x3ef)](_0x2e6194(0x4d8),_0x4bd1d0),showMessage(_0x2e6194(0x6fd));}}async function handleDeleteQuiz(_0x5d64aa,_0x554827=!![]){const _0xf65f03=_0xd665bf;try{const _0x52e9e5=writeBatch(db),_0x5ba5a9=collection(db,_0xf65f03(0x3bf)+appId+'/public/data/quizzes/'+_0x5d64aa+_0xf65f03(0x519)),_0x107b50=await getDocs(_0x5ba5a9);_0x107b50[_0xf65f03(0x4be)](_0x2c25cd=>{const _0x367f5e=_0xf65f03;_0x52e9e5[_0x367f5e(0x67b)](doc(_0x5ba5a9,_0x2c25cd['id']));});const _0x54c54b=doc(db,_0xf65f03(0x3bf)+appId+_0xf65f03(0x778),_0x5d64aa);_0x52e9e5['delete'](_0x54c54b),await _0x52e9e5['commit'](),_0x554827&&showMessage(_0xf65f03(0x691));}catch(_0x411ada){console[_0xf65f03(0x3ef)](_0xf65f03(0x68b),_0x411ada),_0x554827&&showMessage(_0xf65f03(0x3ea));}}async function showQuizDetailView(_0x268849){const _0x372235=_0xd665bf;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x502638=doc(db,_0x372235(0x3bf)+appId+'/public/data/quizzes',_0x268849),_0x15393c=await getDoc(_0x502638);if(!_0x15393c[_0x372235(0x1c9)]()){showMessage(_0x372235(0x3c6));return;}const _0x4673ff={'id':_0x15393c['id'],..._0x15393c[_0x372235(0x6a1)]()};currentQuizData=_0x4673ff;const _0x4e21ee=doc(db,_0x372235(0x3bf)+appId+_0x372235(0x14a),_0x4673ff[_0x372235(0x2fd)]),_0x55b350=await getDoc(_0x4e21ee);_0x55b350[_0x372235(0x1c9)]()?(currentProjectData=_0x55b350[_0x372235(0x6a1)](),currentProjectId=_0x4673ff[_0x372235(0x2fd)]):(currentProjectData={'students':[]},currentProjectId=_0x4673ff[_0x372235(0x2fd)]);document['getElementById'](_0x372235(0x65d))['textContent']=_0x4673ff['topic'],document[_0x372235(0x36a)](_0x372235(0x38f))[_0x372235(0x41b)]=_0x268849;const _0x126172=collection(db,_0x372235(0x3bf)+appId+_0x372235(0x778),_0x268849,_0x372235(0x476));unsubscribeSubmissionsListener=onSnapshot(_0x126172,_0x522800=>{const _0x198534=_0x372235,_0x2643d4=_0x522800['docs'][_0x198534(0x6f9)](_0x1430ff=>({'id':_0x1430ff['id'],..._0x1430ff[_0x198534(0x6a1)]()}));currentSubmissions=_0x2643d4,renderBehaviorLog(_0x2643d4),renderAnswerGrid(currentProjectData[_0x198534(0x4cb)],_0x2643d4,_0x4673ff),renderAnalytics(_0x4673ff,_0x2643d4),renderQuizResultsTable(currentProjectData[_0x198534(0x4cb)],_0x2643d4,_0x4673ff),renderQuizLeaderboard(_0x2643d4,_0x4673ff,_0x198534(0x4d0));}),showView(_0x372235(0x1f0));}catch(_0x25e032){console[_0x372235(0x3ef)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x25e032),showMessage(_0x372235(0x3d8));}}function renderAnswerGrid(_0x503302,_0x4aa4db,_0x3538f1){const _0x303be3=_0xd665bf,_0x320889=document[_0x303be3(0x36a)](_0x303be3(0x7fc));if(!_0x320889)return;if(!_0x503302||_0x503302['length']===0x0){_0x320889[_0x303be3(0xed)]=_0x303be3(0x387);return;}const _0x31f4ab=_0x3538f1[_0x303be3(0xd2)],_0x404f64=_0x4aa4db[_0x303be3(0x707)]((_0x3d1f38,_0x5abbbc)=>{const _0xa0267d=_0x303be3;return _0x3d1f38[_0x5abbbc[_0xa0267d(0x724)]]=_0x5abbbc,_0x3d1f38;},{}),_0x3eb8be=_0x1d3e85=>String[_0x303be3(0x59b)](0x41+_0x1d3e85),_0x48d4d1=_0x5bee31=>{const _0x538f2c=_0x303be3,_0x150695=_0x5bee31[_0x538f2c(0x2ca)]||_0x3538f1[_0x538f2c(0x1f6)];switch(_0x150695){case _0x538f2c(0x4ba):return _0x5bee31[_0x538f2c(0x63d)]&&_0x5bee31['options']['length']>_0x5bee31['correctAnswerIndex']?_0x3eb8be(_0x5bee31[_0x538f2c(0x7cf)]):'-';case _0x538f2c(0x63c):return _0x5bee31[_0x538f2c(0x6be)]?_0x538f2c(0x443):_0x538f2c(0x84a);case'matching_item':return _0x5bee31['correctResponse']||'-';case'short_answer':return _0x538f2c(0xb5);default:return'-';}},_0x7c6527=(_0x382ca8,_0x5cb160)=>{const _0x5b9ea1=_0x303be3;if(_0x5cb160['answer']===null||_0x5cb160['answer']===undefined)return'-';const _0x42f3c3=_0x382ca8[_0x5b9ea1(0x2ca)]||_0x3538f1[_0x5b9ea1(0x1f6)];switch(_0x42f3c3){case _0x5b9ea1(0x4ba):const _0x5731ed=_0x382ca8[_0x5b9ea1(0x63d)][_0x5b9ea1(0x239)](_0x597b34=>_0x597b34===_0x5cb160[_0x5b9ea1(0x488)]);return _0x5731ed!==-0x1?_0x3eb8be(_0x5731ed):_0x5cb160[_0x5b9ea1(0x488)]||'-';case _0x5b9ea1(0x63c):return _0x5cb160[_0x5b9ea1(0x212)]==='true'||_0x5cb160[_0x5b9ea1(0x212)]===!![]?_0x5b9ea1(0x443):_0x5b9ea1(0x84a);default:return _0x5cb160[_0x5b9ea1(0x212)];}};let _0x3058c4=_0x303be3(0x113)+_0x31f4ab[_0x303be3(0x6f9)]((_0x2c7fdb,_0x9658bb)=>_0x303be3(0x66f)+(_0x9658bb+0x1)+_0x303be3(0x6b9))[_0x303be3(0x2da)]('')+_0x303be3(0x3cc)+_0x31f4ab[_0x303be3(0x6f9)](_0x2560d5=>_0x303be3(0x2d5)+_0x48d4d1(_0x2560d5)+_0x303be3(0x6eb))[_0x303be3(0x2da)]('')+_0x303be3(0x18d);_0x503302[_0x303be3(0x4be)](_0x17f09d=>{const _0x5d3cc2=_0x303be3;_0x3058c4+=_0x5d3cc2(0x3a5),_0x3058c4+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x17f09d+_0x5d3cc2(0x6eb);const _0x56cd7b=_0x404f64[_0x17f09d];if(_0x56cd7b){const _0x2727cb=_0x56cd7b[_0x5d3cc2(0x246)][_0x56cd7b['attempts'][_0x5d3cc2(0x30f)]-0x1];_0x31f4ab[_0x5d3cc2(0x4be)]((_0x38dda7,_0x49bf6a)=>{const _0x57116f=_0x5d3cc2,_0x3f43fb=_0x2727cb[_0x57116f(0x45c)][_0x57116f(0x5ec)](_0x1fc945=>_0x1fc945['originalQuestionText']===(_0x38dda7[_0x57116f(0x36f)]||_0x38dda7[_0x57116f(0x551)]));if(_0x3f43fb){let _0x1eb980=![];const _0x18aefc=_0x38dda7[_0x57116f(0x2ca)]||_0x3538f1[_0x57116f(0x1f6)];if(_0x3f43fb[_0x57116f(0x212)]!==null&&_0x3f43fb[_0x57116f(0x212)]!==undefined)switch(_0x18aefc){case _0x57116f(0x4ba):const _0x4e580b=_0x38dda7[_0x57116f(0x63d)][_0x38dda7[_0x57116f(0x7cf)]];_0x1eb980=_0x3f43fb[_0x57116f(0x488)]===_0x4e580b;break;case _0x57116f(0x63c):const _0x5f44ce=_0x3f43fb[_0x57116f(0x212)]===!![]||_0x3f43fb['answer']===_0x57116f(0x769);_0x1eb980=_0x5f44ce===_0x38dda7[_0x57116f(0x6be)];break;case _0x57116f(0x83b):_0x1eb980=_0x3f43fb[_0x57116f(0x212)]===_0x38dda7['correctResponse'];break;default:_0x1eb980=_0x3f43fb['isCorrect'];break;}const _0x4760c5=_0x1eb980?'bg-green-100':_0x57116f(0x69c);_0x3058c4+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x4760c5+'\x22>'+_0x7c6527(_0x38dda7,_0x3f43fb)+_0x57116f(0x6eb);}else _0x3058c4+=_0x57116f(0x5cb);});}else _0x3058c4+=_0x31f4ab[_0x5d3cc2(0x6f9)](()=>_0x5d3cc2(0x16d))['join']('');_0x3058c4+=_0x5d3cc2(0x105);}),_0x3058c4+=_0x303be3(0x15b),_0x320889[_0x303be3(0xed)]=_0x3058c4;}function renderQuizResultsTable(_0x53741b,_0x75d33b,_0x493148){const _0x41dae1=_0xd665bf,_0xd49f29=_0x75d33b[_0x41dae1(0x707)]((_0x13bca9,_0x41a2e7)=>{const _0x2f96c6=_0x41dae1;return _0x13bca9[_0x41a2e7[_0x2f96c6(0x724)]]=_0x41a2e7,_0x13bca9;},{}),_0x2fafae=document[_0x41dae1(0x29b)](_0x41dae1(0x589));_0x2fafae&&!_0x2fafae[_0x41dae1(0xed)][_0x41dae1(0x13e)](_0x41dae1(0x783))&&(_0x2fafae[_0x41dae1(0xed)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x44c6f1=document[_0x41dae1(0x36a)]('quiz-results-table-body');if(!_0x53741b||_0x53741b[_0x41dae1(0x30f)]===0x0){_0x44c6f1[_0x41dae1(0xed)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x540ae8=_0x493148[_0x41dae1(0x61e)]===!![],_0x475e1f=_0x493148['settings']?.['passingScore']??-0x1;let _0x38b03e='';_0x53741b[_0x41dae1(0x4be)](_0x498938=>{const _0x117409=_0x41dae1,_0x188cc0=_0xd49f29[_0x498938];let _0x263d5f=_0x117409(0x469),_0xd320c8=_0x117409(0x32f)+(_0x540ae8?_0x117409(0x1d3):_0x117409(0x444))+'\x22>'+(_0x540ae8?_0x117409(0x508):_0x117409(0xe2))+_0x117409(0x137);if(_0x188cc0){let _0x6d908e=_0x540ae8?_0x188cc0[_0x117409(0x4a3)]===_0x188cc0[_0x117409(0x31b)]:_0x475e1f!==-0x1&&_0x188cc0['bestScore']>=_0x475e1f;if(_0x540ae8||_0x475e1f!==-0x1){const _0x1826d7=_0x6d908e?_0x117409(0x561):_0x117409(0x802),_0x329289=_0x6d908e?_0x117409(0x632):_0x117409(0x839);_0x263d5f=_0x117409(0x3d9)+_0x1826d7+'\x22>'+_0x329289+'</span></td>';}const _0x18c66e=_0x117409(0x662)+(_0x188cc0[_0x117409(0x246)]?.[_0x117409(0x30f)]||0x1)+_0x117409(0x149);_0x38b03e+=_0x117409(0x599)+_0x498938+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x188cc0[_0x117409(0x4a3)]+'\x20/\x20'+_0x188cc0[_0x117409(0x31b)]+_0x117409(0x4e4)+_0x263d5f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd320c8+_0x117409(0x62d)+_0x188cc0[_0x117409(0xe7)]+_0x117409(0x54b)+_0x188cc0[_0x117409(0x31b)]+_0x117409(0x20b)+_0x188cc0['latestScore']+_0x117409(0x54b)+_0x188cc0[_0x117409(0x31b)]+'</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x188cc0[_0x117409(0x47e)]||0x0)+_0x117409(0x4e4)+_0x18c66e+_0x117409(0x482)+new Date(_0x188cc0[_0x117409(0x61c)])['toLocaleString'](_0x117409(0x5c0))+_0x117409(0x3c5)+_0x498938+_0x117409(0x2a5);}else{const _0x1e6b19=_0x117409(0x336);_0x38b03e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x498938+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd320c8+_0x117409(0xde)+_0x1e6b19+_0x117409(0x4e9);}}),_0x44c6f1['innerHTML']=_0x38b03e;}async function confirmRenameQuiz(){const _0xe1444b=_0xd665bf,_0x26e808=document['getElementById']('rename-quiz-input')[_0xe1444b(0x4fc)][_0xe1444b(0x6fe)]();if(!_0x26e808){showMessage(_0xe1444b(0x8a));return;}if(!actionTargetId)return;const _0x2065de=doc(db,'artifacts/'+appId+_0xe1444b(0x778),actionTargetId);try{await updateDoc(_0x2065de,{'topic':_0x26e808}),showMessage(_0xe1444b(0x398)),renameQuizModal[_0xe1444b(0x1e4)][_0xe1444b(0xff)](_0xe1444b(0x544)),actionTargetId=null;}catch(_0x10dbd5){console[_0xe1444b(0x3ef)]('Error\x20renaming\x20quiz:',_0x10dbd5),showMessage(_0xe1444b(0x5d6));}}async function handleMoveQuiz(_0x5330f3){const _0x4be9a1=_0xd665bf;actionTargetId=_0x5330f3;const _0x270658=document['getElementById'](_0x4be9a1(0x756));_0x270658[_0x4be9a1(0xed)]=_0x4be9a1(0x184),moveQuizModal[_0x4be9a1(0x1e4)]['remove'](_0x4be9a1(0x544));try{const _0x293616=collection(db,_0x4be9a1(0x3bf)+appId+_0x4be9a1(0x14a)),_0x52e5fd=await getDocs(_0x293616),_0x2d52aa=_0x52e5fd['docs'][_0x4be9a1(0x6f9)](_0xcf366f=>({'id':_0xcf366f['id'],..._0xcf366f['data']()})),_0x5a47a8=_0x2d52aa[_0x4be9a1(0x77f)](_0xe3ba12=>_0xe3ba12['id']!==currentProjectId);if(_0x5a47a8[_0x4be9a1(0x30f)]===0x0){_0x270658[_0x4be9a1(0xed)]=_0x4be9a1(0x445),document[_0x4be9a1(0x36a)](_0x4be9a1(0x2bc))[_0x4be9a1(0x526)]=!![];return;}_0x270658[_0x4be9a1(0xed)]=_0x5a47a8[_0x4be9a1(0x6f9)](_0xd5aec9=>_0x4be9a1(0x7b6)+_0xd5aec9['id']+'\x22>'+_0xd5aec9[_0x4be9a1(0x9c)]+'</option>')[_0x4be9a1(0x2da)](''),document[_0x4be9a1(0x36a)](_0x4be9a1(0x2bc))['disabled']=![];}catch(_0x2e635a){console[_0x4be9a1(0x3ef)](_0x4be9a1(0x737),_0x2e635a),showMessage(_0x4be9a1(0x3af)),moveQuizModal[_0x4be9a1(0x1e4)][_0x4be9a1(0xff)]('hidden');}}async function confirmMoveQuiz(){const _0x41b234=_0xd665bf,_0x168ee1=document[_0x41b234(0x36a)]('move-quiz-project-select')['value'];if(!_0x168ee1){showMessage(_0x41b234(0x5ad));return;}if(!actionTargetId)return;const _0x38965c=doc(db,'artifacts/'+appId+_0x41b234(0x778),actionTargetId);try{await updateDoc(_0x38965c,{'projectId':_0x168ee1}),showMessage(_0x41b234(0x3a7)),moveQuizModal[_0x41b234(0x1e4)]['add'](_0x41b234(0x544)),actionTargetId=null;}catch(_0x1f79dd){console[_0x41b234(0x3ef)](_0x41b234(0x2aa),_0x1f79dd),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x8dda96){const _0x5f1e4f=_0xd665bf;actionTargetId=_0x8dda96;const _0x3f40ca=doc(db,'artifacts/'+appId+_0x5f1e4f(0x778),_0x8dda96);try{const _0x113866=await getDoc(_0x3f40ca);if(_0x113866[_0x5f1e4f(0x1c9)]()){const _0x5790cd=_0x113866[_0x5f1e4f(0x6a1)](),_0x1eb76d=_0x5790cd['settings']||{},_0x26270f=_0x5790cd[_0x5f1e4f(0xd2)][_0x5f1e4f(0x30f)];document[_0x5f1e4f(0x36a)](_0x5f1e4f(0xb4))['value']=_0x1eb76d[_0x5f1e4f(0x76a)]||_0x5f1e4f(0x44b),document[_0x5f1e4f(0x36a)](_0x5f1e4f(0x5df))['value']=_0x1eb76d[_0x5f1e4f(0x5e7)]||_0x5f1e4f(0x809),document[_0x5f1e4f(0x36a)](_0x5f1e4f(0x69e))[_0x5f1e4f(0x4fc)]=_0x1eb76d['timerMode']||_0x5f1e4f(0x44b),document['getElementById']('modal-timer-duration-input')[_0x5f1e4f(0x4fc)]=_0x1eb76d[_0x5f1e4f(0xd1)]||0xa,document[_0x5f1e4f(0x36a)](_0x5f1e4f(0x51c))[_0x5f1e4f(0x4fc)]=_0x1eb76d['passingScore']||Math[_0x5f1e4f(0x44e)](_0x26270f/0x2),document[_0x5f1e4f(0x36a)]('modal-passing-score-input')[_0x5f1e4f(0x5b0)]=_0x26270f,document[_0x5f1e4f(0x36a)](_0x5f1e4f(0x1ac))[_0x5f1e4f(0x6d2)]=_0x1eb76d[_0x5f1e4f(0xe8)]||![],document[_0x5f1e4f(0x36a)](_0x5f1e4f(0x44c))['checked']=_0x1eb76d[_0x5f1e4f(0x21f)]||![],document[_0x5f1e4f(0x36a)](_0x5f1e4f(0x69e))['dispatchEvent'](new Event('change')),quizSettingsModal[_0x5f1e4f(0x1e4)][_0x5f1e4f(0x52c)](_0x5f1e4f(0x544));}else showMessage(_0x5f1e4f(0x3c6));}catch(_0x8ba7f2){console[_0x5f1e4f(0x3ef)](_0x5f1e4f(0x322),_0x8ba7f2),showMessage(_0x5f1e4f(0x6da));}}async function confirmQuizSettings(){const _0x3db4af=_0xd665bf;if(!actionTargetId)return;const _0x1f2439=doc(db,_0x3db4af(0x3bf)+appId+_0x3db4af(0x778),actionTargetId),_0x3da029={'shuffle':document['getElementById'](_0x3db4af(0xb4))['value'],'resultsDisplay':document['getElementById']('modal-results-display-select')[_0x3db4af(0x4fc)],'timerMode':document[_0x3db4af(0x36a)]('modal-timer-mode-select')[_0x3db4af(0x4fc)],'timerDuration':parseInt(document[_0x3db4af(0x36a)](_0x3db4af(0x657))['value'])||0xa,'passingScore':parseInt(document[_0x3db4af(0x36a)](_0x3db4af(0x51c))[_0x3db4af(0x4fc)])||0x0,'passingScore':parseInt(document['getElementById'](_0x3db4af(0x51c))[_0x3db4af(0x4fc)])||0x0,'isAdaptive':document[_0x3db4af(0x36a)](_0x3db4af(0x1ac))[_0x3db4af(0x6d2)],'loopUntilPass':document[_0x3db4af(0x36a)](_0x3db4af(0x44c))[_0x3db4af(0x6d2)]};try{await updateDoc(_0x1f2439,{'settings':_0x3da029}),showMessage(_0x3db4af(0x19e)),quizSettingsModal['classList'][_0x3db4af(0xff)]('hidden'),actionTargetId=null;}catch(_0x56ae6f){console['error']('Error\x20updating\x20quiz\x20settings:',_0x56ae6f),showMessage(_0x3db4af(0x2f4));}}async function handleQuizStatus(_0x41b0d7){const _0x5576b6=_0xd665bf;actionTargetId=_0x41b0d7;const _0x3aaf7c=doc(db,_0x5576b6(0x3bf)+appId+_0x5576b6(0x778),_0x41b0d7);try{const _0x3f8e40=await getDoc(_0x3aaf7c);if(_0x3f8e40[_0x5576b6(0x1c9)]()){const _0x139400=_0x3f8e40[_0x5576b6(0x6a1)](),_0x53c960=_0x139400[_0x5576b6(0x644)]||'active',_0x59945d=document[_0x5576b6(0x36a)]('quiz-status-options'),_0x3a6434=document[_0x5576b6(0x36a)](_0x5576b6(0x57a)),_0x2c945b=document[_0x5576b6(0x36a)](_0x5576b6(0x637));let _0x2af03d=_0x5576b6(0x51b)+(_0x53c960===_0x5576b6(0x21d)?_0x5576b6(0x6d2):'')+_0x5576b6(0x740)+(_0x53c960===_0x5576b6(0x75f)?_0x5576b6(0x6d2):'')+_0x5576b6(0x1ae)+(_0x53c960==='scheduled'?_0x5576b6(0x6d2):'')+_0x5576b6(0x85a);_0x59945d[_0x5576b6(0xed)]=_0x2af03d;const _0x1ad101=_0x53c960===_0x5576b6(0x723);_0x3a6434[_0x5576b6(0x1e4)][_0x5576b6(0x7fa)](_0x5576b6(0x544),!_0x1ad101),_0x2c945b['classList']['toggle']('hidden',!_0x1ad101),document[_0x5576b6(0x36a)](_0x5576b6(0x6f0))[_0x5576b6(0x4fc)]=_0x139400[_0x5576b6(0x2de)]?_0x139400['startTime'][_0x5576b6(0xad)](0x0,0x10):'',document[_0x5576b6(0x36a)]('quiz-end-time')['value']=_0x139400[_0x5576b6(0x2c4)]?_0x139400['endTime'][_0x5576b6(0xad)](0x0,0x10):'',_0x59945d['querySelectorAll']('input[name=\x22status-option\x22]')[_0x5576b6(0x4be)](_0x49efd5=>{const _0xbbb2b8=_0x5576b6;_0x49efd5[_0xbbb2b8(0x125)](_0xbbb2b8(0x793),_0x5b2920=>{const _0xbe2bfa=_0xbbb2b8,_0x55d014=_0x5b2920[_0xbe2bfa(0x817)][_0xbe2bfa(0x4fc)]===_0xbe2bfa(0x618);_0x3a6434[_0xbe2bfa(0x1e4)][_0xbe2bfa(0x7fa)]('hidden',!_0x55d014),_0x2c945b[_0xbe2bfa(0x1e4)]['toggle'](_0xbe2bfa(0x544),!_0x55d014);});}),quizStatusModal[_0x5576b6(0x1e4)][_0x5576b6(0x52c)]('hidden');}}catch(_0xb3e781){console[_0x5576b6(0x3ef)](_0x5576b6(0x683),_0xb3e781),showMessage(_0x5576b6(0x2b8));}}async function confirmQuizStatus(){const _0x505ee8=_0xd665bf;if(!actionTargetId)return;const _0x17dd3e=doc(db,_0x505ee8(0x3bf)+appId+'/public/data/quizzes',actionTargetId),_0x274653=document['querySelector']('input[name=\x22status-option\x22]:checked');if(!_0x274653){showMessage(_0x505ee8(0x6e1));return;}const _0x10471e=_0x274653[_0x505ee8(0x4fc)];let _0x3f8fc3={};if(_0x10471e===_0x505ee8(0x21d)||_0x10471e===_0x505ee8(0x75f))_0x3f8fc3={'status':_0x10471e,'startTime':null,'endTime':null};else{if(_0x10471e===_0x505ee8(0x618)){const _0x5439a1=document['getElementById'](_0x505ee8(0x6f0))[_0x505ee8(0x4fc)],_0x55cb15=document[_0x505ee8(0x36a)]('quiz-end-time')[_0x505ee8(0x4fc)];if(!_0x5439a1&&!_0x55cb15){showMessage(_0x505ee8(0x860));return;}_0x3f8fc3={'status':'scheduled','startTime':_0x5439a1?new Date(_0x5439a1)[_0x505ee8(0x407)]():null,'endTime':_0x55cb15?new Date(_0x55cb15)[_0x505ee8(0x407)]():null};}}try{await updateDoc(_0x17dd3e,_0x3f8fc3),showMessage(_0x505ee8(0x76c)),quizStatusModal[_0x505ee8(0x1e4)][_0x505ee8(0xff)](_0x505ee8(0x544)),actionTargetId=null;}catch(_0x3d4f3b){console['error'](_0x505ee8(0x615),_0x3d4f3b),showMessage(_0x505ee8(0x400));}}function listenForStudentProfiles(_0x18f09b){const _0x24d0c6=_0xd665bf,_0x1312ec=collection(db,_0x24d0c6(0x3bf)+appId+_0x24d0c6(0x6f8)+_0x18f09b+_0x24d0c6(0x78));unsubscribeStudentProfilesListener=onSnapshot(_0x1312ec,_0x2ff9f5=>{const _0x5b9ba4=_0x24d0c6,_0x3ad8a1=_0x2ff9f5[_0x5b9ba4(0x66a)][_0x5b9ba4(0x6f9)](_0x3b2a73=>_0x3b2a73['data']());renderLeaderboard(_0x3ad8a1,_0x5b9ba4(0x381));},_0x9b30cc=>{const _0x4d7911=_0x24d0c6;console['error'](_0x4d7911(0x41c),_0x9b30cc),document[_0x4d7911(0x36a)](_0x4d7911(0x381))[_0x4d7911(0xed)]=_0x4d7911(0x610);});}function renderLeaderboard(_0x11b102,_0x192547){const _0xc3ea4b=_0xd665bf,_0x398256=document[_0xc3ea4b(0x36a)](_0x192547);if(!_0x11b102||_0x11b102['length']===0x0){_0x398256[_0xc3ea4b(0xed)]=_0xc3ea4b(0x5cc);return;}_0x11b102['sort']((_0x5687fb,_0x50ec97)=>{const _0x5a0152=_0xc3ea4b,_0x49c312=(_0x50ec97[_0x5a0152(0x505)]||0x0)-(_0x5687fb[_0x5a0152(0x505)]||0x0);if(_0x49c312!==0x0)return _0x49c312;const _0x25a21c=(_0x50ec97[_0x5a0152(0x1d9)]?.[_0x5a0152(0x8f)]||0x0)-(_0x5687fb['badgesCount']?.[_0x5a0152(0x8f)]||0x0);if(_0x25a21c!==0x0)return _0x25a21c;const _0x3dfa7c=(_0x50ec97[_0x5a0152(0x1d9)]?.[_0x5a0152(0x484)]||0x0)-(_0x5687fb[_0x5a0152(0x1d9)]?.[_0x5a0152(0x484)]||0x0);if(_0x3dfa7c!==0x0)return _0x3dfa7c;const _0x179b11=(_0x50ec97[_0x5a0152(0x1d9)]?.[_0x5a0152(0x269)]||0x0)-(_0x5687fb[_0x5a0152(0x1d9)]?.[_0x5a0152(0x269)]||0x0);if(_0x179b11!==0x0)return _0x179b11;const _0x4c54e3=(_0x50ec97[_0x5a0152(0x1d9)]?.['quick_thinker']||0x0)-(_0x5687fb[_0x5a0152(0x1d9)]?.[_0x5a0152(0x858)]||0x0);if(_0x4c54e3!==0x0)return _0x4c54e3;return _0x5687fb['studentName'][_0x5a0152(0x6df)](_0x50ec97['studentName'],'th');});let _0xe781f1='';_0x11b102[_0xc3ea4b(0x4be)]((_0x2342d0,_0x57b843)=>{const _0x3c548a=_0xc3ea4b,_0x54b888=_0x57b843+0x1,_0x5a255c=_0x2342d0[_0x3c548a(0x1d9)]||{};let _0x33e477='';const _0x25218e=[_0x3c548a(0x8f),_0x3c548a(0x269),_0x3c548a(0x484),_0x3c548a(0x858)];_0x25218e['forEach'](_0x450d1d=>{const _0x3c0dae=_0x3c548a;if(_0x5a255c[_0x450d1d]>0x0){const _0x238f7f=Object[_0x3c0dae(0x3d2)](BADGES)[_0x3c0dae(0x5ec)](_0x263c49=>_0x263c49['id']===_0x450d1d);_0x238f7f&&(_0x450d1d===_0x3c0dae(0x8f)?_0x33e477+=_0x3c0dae(0x67a)+_0x238f7f[_0x3c0dae(0x2cf)]+_0x3c0dae(0x58e)+_0x238f7f['icon']+_0x3c0dae(0x573):_0x33e477+=_0x3c0dae(0x67a)+_0x238f7f[_0x3c0dae(0x2cf)]+'\x20('+_0x5a255c[_0x450d1d]+_0x3c0dae(0x188)+_0x238f7f[_0x3c0dae(0x236)]+_0x3c0dae(0x1bd)+_0x5a255c[_0x450d1d]+_0x3c0dae(0x5a8));}}),_0xe781f1+=_0x3c548a(0x2b9)+_0x54b888+_0x3c548a(0x6e5)+_0x2342d0[_0x3c548a(0x724)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x2342d0['totalPoints']||0x0)+_0x3c548a(0x6e5)+(_0x33e477||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x398256[_0xc3ea4b(0xed)]=_0xe781f1;}function displayLoopScreen(_0x5dd92f,_0x20be79,_0x5861e3){const _0x49ac52=_0xd665bf;let _0xa26e13='';_0x5861e3!==_0x49ac52(0x658)&&(_0xa26e13='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x5dd92f+_0x49ac52(0x54b)+_0x20be79+_0x49ac52(0x546));const _0x3997c8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa26e13+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x49ac52(0xed)]=_0x3997c8,studentResultArea[_0x49ac52(0x1e4)][_0x49ac52(0x52c)](_0x49ac52(0x544)),studentQuizArea['classList']['add']('hidden'),document['getElementById'](_0x49ac52(0x5a4))['addEventListener'](_0x49ac52(0x6ff),()=>{const _0x3bcc02=_0x49ac52;studentResultArea['classList'][_0x3bcc02(0xff)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x200a57,_0x1bb4ee,_0x33b24b){const _0x48b86e=_0xd665bf,_0x4977c4=document['getElementById'](_0x33b24b),_0xba4d54=_0x33b24b===_0x48b86e(0x5c8),_0x42343a=_0x1bb4ee[_0x48b86e(0xd2)][_0x48b86e(0x30f)],_0x3a45b1=document[_0x48b86e(0x36a)](_0x33b24b)[_0x48b86e(0x3b7)]('table');if(_0x3a45b1&&!_0xba4d54){const _0x1e7fc6=_0x3a45b1[_0x48b86e(0x29b)](_0x48b86e(0x447));_0x1e7fc6[_0x48b86e(0xed)]=_0x48b86e(0x81d);}if(!_0x200a57||_0x200a57[_0x48b86e(0x30f)]===0x0){_0x4977c4[_0x48b86e(0xed)]=_0x48b86e(0x5be)+(_0xba4d54?0x6:0x8)+_0x48b86e(0x4b5);return;}const _0x27faab=[..._0x200a57];_0x27faab[_0x48b86e(0x4c5)]((_0x1b887e,_0x3f9d5e)=>{const _0x3c21e6=_0x48b86e;let _0x5d5287,_0x5b06d2;switch(quizLeaderboardSortBy){case'studentName':_0x5d5287=_0x1b887e[_0x3c21e6(0x724)]||'',_0x5b06d2=_0x3f9d5e[_0x3c21e6(0x724)]||'';return quizLeaderboardSortOrder===_0x3c21e6(0x4b1)?_0x5d5287[_0x3c21e6(0x6df)](_0x5b06d2,'th'):_0x5b06d2['localeCompare'](_0x5d5287,'th');case'points':_0x5d5287=_0x1b887e[_0x3c21e6(0x47e)]||0x0,_0x5b06d2=_0x3f9d5e['points']||0x0;break;case _0x3c21e6(0x246):_0x5d5287=_0x1b887e[_0x3c21e6(0x246)]?.['length']||0x1,_0x5b06d2=_0x3f9d5e[_0x3c21e6(0x246)]?.[_0x3c21e6(0x30f)]||0x1;break;case _0x3c21e6(0x61c):_0x5d5287=new Date(_0x1b887e[_0x3c21e6(0x61c)]),_0x5b06d2=new Date(_0x3f9d5e[_0x3c21e6(0x61c)]);break;case _0x3c21e6(0x4a3):default:_0x5d5287=_0x1b887e['bestScore'],_0x5b06d2=_0x3f9d5e['bestScore'];break;}if(_0x5d5287<_0x5b06d2)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x5d5287>_0x5b06d2)return quizLeaderboardSortOrder===_0x3c21e6(0x4b1)?0x1:-0x1;return 0x0;});const _0x4b8a54=_0x1bb4ee['isRemedial']===!![],_0x3f37c5=_0x1bb4ee[_0x48b86e(0x213)]?.[_0x48b86e(0xf9)]??-0x1;let _0x37ecdc='';_0x27faab[_0x48b86e(0x4be)]((_0x5ed23b,_0x296e51)=>{const _0x46f518=_0x48b86e,_0x5ecc6e=_0x296e51+0x1;let _0x2e1ff3=_0x46f518(0x23a);if(_0x4b8a54||_0x3f37c5!==-0x1){let _0x536e86=_0x4b8a54?_0x5ed23b[_0x46f518(0x4a3)]===_0x42343a:_0x5ed23b[_0x46f518(0x4a3)]>=_0x3f37c5;const _0x226c4d=_0x536e86?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x3b212c=_0x536e86?_0x46f518(0x632):_0x46f518(0x839);_0x2e1ff3=_0x46f518(0x1f1)+_0x226c4d+'\x22>'+_0x3b212c+'</span></td>';}const _0x4f84de=_0x5ed23b[_0x46f518(0x246)][_0x5ed23b[_0x46f518(0x246)]['length']-0x1],_0x4f8714=(_0x4f84de[_0x46f518(0x70e)]||[])['map'](_0xc57067=>{const _0x1948d9=_0x46f518,_0x171e03=Object[_0x1948d9(0x3d2)](BADGES)[_0x1948d9(0x5ec)](_0xf182c3=>_0xf182c3['id']===_0xc57067);return _0x171e03?_0x1948d9(0x4fe)+_0x171e03[_0x1948d9(0x2cf)]+_0x1948d9(0x1ff)+_0x171e03[_0x1948d9(0x236)]+_0x1948d9(0x186):'';})[_0x46f518(0x2da)]('');_0x37ecdc+=_0x46f518(0x25a)+_0x5ecc6e+_0x46f518(0x177)+_0x5ed23b[_0x46f518(0x724)]+_0x46f518(0x53a)+_0x5ed23b[_0x46f518(0x4a3)]+_0x46f518(0x54b)+_0x42343a+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e1ff3+_0x46f518(0x568)+(_0x5ed23b[_0x46f518(0x47e)]||0x0)+_0x46f518(0x126)+(_0xba4d54?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x5ed23b['attempts']?.[_0x46f518(0x30f)]||0x1)+_0x46f518(0x6eb))+_0x46f518(0x14e)+(_0xba4d54?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x5ed23b[_0x46f518(0x61c)])[_0x46f518(0x7ff)](_0x46f518(0x5c0))+'</td>')+_0x46f518(0x2e4)+(_0x4f8714||'-')+_0x46f518(0x4e2);}),_0x4977c4['innerHTML']=_0x37ecdc,_0x3a45b1&&!_0xba4d54&&_0x3a45b1[_0x48b86e(0x24f)](_0x48b86e(0x413))[_0x48b86e(0x4be)](_0x5abd40=>{const _0x5d0bcb=_0x48b86e,_0x250a0d=_0x5abd40[_0x5d0bcb(0x29b)](_0x5d0bcb(0x560));if(_0x250a0d)_0x250a0d[_0x5d0bcb(0x52c)]();_0x5abd40[_0x5d0bcb(0x53c)]['sort']===quizLeaderboardSortBy&&(_0x5abd40[_0x5d0bcb(0xed)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x5d0bcb(0x4b1)?'▲':'▼')+_0x5d0bcb(0x650));});}async function handleDeleteSubmission(_0x1dc70a){const _0x2079f1=_0xd665bf;if(!currentQuizData||!currentQuizData['id']||!_0x1dc70a){showMessage(_0x2079f1(0x3fb));return;}showConfirmation(_0x2079f1(0x628)+_0x1dc70a+_0x2079f1(0x6e9),async()=>{const _0x11be12=_0x2079f1,_0x2a5759=currentQuizData['id'],_0x58a314=doc(db,_0x11be12(0x3bf)+appId+'/public/data/quizzes/'+_0x2a5759+_0x11be12(0x519),_0x1dc70a);try{await deleteDoc(_0x58a314),showMessage('ลบผลสอบของ\x20'+_0x1dc70a+'\x20สำเร็จ');}catch(_0x197c3e){console['error'](_0x11be12(0x22a),_0x197c3e),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x4e3828=_0xd665bf,_0x2461c9=document[_0x4e3828(0x36a)](_0x4e3828(0xb8)),_0x1f0d24=_0x2461c9['value']['trim']();if(!_0x1f0d24){showMessage(_0x4e3828(0x6ad));return;}loadQuizBtn[_0x4e3828(0x526)]=!![],loadQuizBtn[_0x4e3828(0xed)]=_0x4e3828(0x37b);try{const _0x180022=doc(db,_0x4e3828(0x3bf)+appId+'/public/data/quizzes',_0x1f0d24),_0xaacb0f=await getDoc(_0x180022);if(!_0xaacb0f[_0x4e3828(0x1c9)]()){showMessage(_0x4e3828(0x74c));return;}currentQuizData={'id':_0xaacb0f['id'],..._0xaacb0f['data']()};const _0x24a976=currentQuizData[_0x4e3828(0x644)]||_0x4e3828(0x21d),_0x17ef6b=new Date();if(_0x24a976===_0x4e3828(0x75f)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x24a976===_0x4e3828(0x723)){const _0x4f7a6c=currentQuizData[_0x4e3828(0x2de)]?new Date(currentQuizData[_0x4e3828(0x2de)]):null,_0x3ac7a0=currentQuizData[_0x4e3828(0x2c4)]?new Date(currentQuizData[_0x4e3828(0x2c4)]):null;if(_0x4f7a6c&&_0x17ef6b<_0x4f7a6c){showMessage(_0x4e3828(0xe9)+_0x4f7a6c[_0x4e3828(0x7ff)](_0x4e3828(0x5c0),{'hour12':![]}));return;}if(_0x3ac7a0&&_0x17ef6b>_0x3ac7a0){showMessage(_0x4e3828(0x43a));return;}}const _0x12ff0d=currentQuizData[_0x4e3828(0x2fd)];currentProjectId=_0x12ff0d;const _0x31ea77=doc(db,_0x4e3828(0x3bf)+appId+_0x4e3828(0x14a),_0x12ff0d),_0x5f501a=await getDoc(_0x31ea77);if(!_0x5f501a['exists']()){showMessage(_0x4e3828(0x6ab));return;}const _0x245a63=_0x5f501a[_0x4e3828(0x6a1)]();currentStudentProjectData=_0x245a63,displayStudentNameSelector(_0x245a63[_0x4e3828(0x4cb)],currentQuizData[_0x4e3828(0x4bb)]);}catch(_0x58f895){console[_0x4e3828(0x3ef)](_0x4e3828(0x39e),_0x58f895),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x4e3828(0x526)]=![],loadQuizBtn[_0x4e3828(0xed)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x5b2a7a=_0xd665bf,_0x58ff8b=document[_0x5b2a7a(0x36a)](_0x5b2a7a(0x7e4)),_0x554176=document['getElementById'](_0x5b2a7a(0x642)),_0x56f831=document[_0x5b2a7a(0x36a)](_0x5b2a7a(0x1dc)),_0x5d8e88=_0x58ff8b[_0x5b2a7a(0x4fc)][_0x5b2a7a(0x6fe)](),_0x214ed6=_0x554176[_0x5b2a7a(0x4fc)]['trim']();if(!_0x5d8e88||!_0x214ed6){showMessage(_0x5b2a7a(0xc0));return;}_0x56f831[_0x5b2a7a(0x526)]=!![],_0x56f831['innerHTML']=_0x5b2a7a(0x603);try{const _0x2d9d03=collection(db,'artifacts/'+appId+_0x5b2a7a(0x726)),_0x46b959=query(_0x2d9d03,where(_0x5b2a7a(0x782),'==',_0x5d8e88),where('status','==',_0x5b2a7a(0x31e))),_0x24a620=await getDocs(_0x46b959);if(_0x24a620[_0x5b2a7a(0x5fb)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง');return;}const _0x136c59=_0x24a620[_0x5b2a7a(0x66a)][0x0],_0x26226a=_0x136c59[_0x5b2a7a(0x6a1)]();currentLiveGameId=_0x136c59['id'];const _0x1c8b40=_0x26226a[_0x5b2a7a(0x3a0)],_0x204ef0=doc(db,_0x5b2a7a(0x3bf)+appId+_0x5b2a7a(0x778),_0x1c8b40),_0x255062=await getDoc(_0x204ef0);if(!_0x255062['exists']()){showMessage(_0x5b2a7a(0x585));return;}currentQuizData={'id':_0x255062['id'],..._0x255062[_0x5b2a7a(0x6a1)]()};if(_0x26226a[_0x5b2a7a(0x2f3)]&&_0x26226a[_0x5b2a7a(0x2f3)][_0x214ed6]){showMessage(_0x5b2a7a(0x146));return;}const _0x25cec8={};_0x25cec8['players.'+_0x214ed6]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x5b2a7a(0x3bf)+appId+_0x5b2a7a(0x726),currentLiveGameId),_0x25cec8),currentStudentName=_0x214ed6,listenForLiveGameUpdates();}catch(_0x210387){console[_0x5b2a7a(0x3ef)]('Error\x20joining\x20live\x20game:',_0x210387),showMessage(_0x5b2a7a(0x1ed));}finally{_0x56f831[_0x5b2a7a(0x526)]=![],_0x56f831['innerHTML']=_0x5b2a7a(0x2e5);}}function displayStudentNameSelector(_0x13439c,_0x50f7a4){const _0x44ce15=_0xd665bf,_0x3bc160=document['getElementById'](_0x44ce15(0x635));document['getElementById'](_0x44ce15(0x4ed))[_0x44ce15(0x41b)]=_0x44ce15(0x166)+_0x50f7a4,!_0x13439c||_0x13439c['length']===0x0?(_0x3bc160['innerHTML']=_0x44ce15(0x567),startQuizBtn[_0x44ce15(0x526)]=!![]):(_0x3bc160['innerHTML']=_0x44ce15(0x133),_0x13439c[_0x44ce15(0x4be)](_0x31598c=>{const _0x130352=_0x44ce15,_0x16ffde=document['createElement'](_0x130352(0x624));_0x16ffde['value']=_0x31598c,_0x16ffde['textContent']=_0x31598c,_0x3bc160[_0x130352(0x5c5)](_0x16ffde);}),startQuizBtn['disabled']=![]),studentInitialView[_0x44ce15(0x1e4)]['add'](_0x44ce15(0x544)),studentNameSelectionView[_0x44ce15(0x1e4)][_0x44ce15(0x52c)]('hidden');}function shuffleArray(_0x16f124){const _0x387a01=_0xd665bf;for(let _0x5effeb=_0x16f124[_0x387a01(0x30f)]-0x1;_0x5effeb>0x0;_0x5effeb--){const _0x163635=Math[_0x387a01(0x44e)](Math[_0x387a01(0x162)]()*(_0x5effeb+0x1));[_0x16f124[_0x5effeb],_0x16f124[_0x163635]]=[_0x16f124[_0x163635],_0x16f124[_0x5effeb]];}}function getShuffledQuiz(_0x50fb6e){const _0x322514=_0xd665bf;let _0x308242=JSON['parse'](JSON[_0x322514(0x5b7)](_0x50fb6e));const _0x206358=_0x308242['settings']?.[_0x322514(0x76a)]||_0x322514(0x44b);if(_0x206358===_0x322514(0x44b))return _0x308242;return(_0x206358===_0x322514(0x192)||_0x206358===_0x322514(0x221))&&shuffleArray(_0x308242[_0x322514(0xd2)]),(_0x206358==='choices_only'||_0x206358===_0x322514(0x221))&&_0x308242['questions'][_0x322514(0x4be)](_0x3e41db=>{const _0x381298=_0x322514,_0x48ca1a=_0x3e41db[_0x381298(0x2ca)]||_0x308242[_0x381298(0x1f6)];if(_0x3e41db[_0x381298(0x63d)]){let _0x5ac055=_0x3e41db['options'][_0x381298(0x6f9)]((_0x1ed6d5,_0x13b7d5)=>({'text':_0x1ed6d5,'isCorrect':_0x13b7d5===_0x3e41db[_0x381298(0x7cf)]}));shuffleArray(_0x5ac055),_0x3e41db[_0x381298(0x63d)]=_0x5ac055[_0x381298(0x6f9)](_0x20ba3a=>_0x20ba3a[_0x381298(0x163)]),_0x3e41db[_0x381298(0x7cf)]=_0x5ac055[_0x381298(0x239)](_0x44bbb8=>_0x44bbb8[_0x381298(0x558)]);}_0x48ca1a==='matching_item'&&_0x3e41db[_0x381298(0x647)]&&shuffleArray(_0x3e41db[_0x381298(0x647)]);}),_0x308242;}function displayQuizForStudent(_0x3f24ab){const _0x5af9e4=_0xd665bf;studentQuizArea[_0x5af9e4(0x1e4)][_0x5af9e4(0x52c)](_0x5af9e4(0x544)),currentDisplayedQuiz=getShuffledQuiz(_0x3f24ab);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x5af9e4(0x125)](_0x5af9e4(0x807),handleFullscreenChange),document[_0x5af9e4(0x125)](_0x5af9e4(0x587),handleVisibilityChange),enterFullscreen(),window[_0x5af9e4(0x125)](_0x5af9e4(0x5af),resetDimTimer),window[_0x5af9e4(0x125)](_0x5af9e4(0x30e),resetDimTimer),window[_0x5af9e4(0x125)](_0x5af9e4(0x78b),resetDimTimer),window['addEventListener']('keydown',resetDimTimer),resetDimTimer());const _0x2b1a9d=currentDisplayedQuiz[_0x5af9e4(0x213)]?.[_0x5af9e4(0x36b)]||_0x5af9e4(0x44b);if(_0x2b1a9d==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x5af9e4(0x213)]['timerDuration']);else _0x2b1a9d===_0x5af9e4(0x339)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x10a44d=_0xd665bf;let _0x278008='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x10a44d(0x4bb)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x10a44d(0x2e3)?_0x10a44d(0x372):'')+_0x10a44d(0x828);currentDisplayedQuiz[_0x10a44d(0xd2)][_0x10a44d(0x4be)]((_0x4236b1,_0x371d45)=>{const _0x138548=_0x10a44d,_0x51a9dc=_0x4236b1['questionType']||currentDisplayedQuiz[_0x138548(0x1f6)];_0x278008+=_0x138548(0x2bd);_0x51a9dc==='matching_item'?_0x278008+=_0x138548(0x5bf)+(_0x371d45+0x1)+'.\x20'+_0x4236b1[_0x138548(0x36f)]+_0x138548(0x565)+_0x371d45+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4236b1[_0x138548(0x647)][_0x138548(0x6f9)](_0x446227=>_0x138548(0x7b6)+_0x446227+'\x22>'+_0x446227+'</option>')[_0x138548(0x2da)]('')+_0x138548(0x14f):(_0x278008+='<p>'+(_0x371d45+0x1)+'.\x20'+(_0x4236b1[_0x138548(0x47a)]||_0x4236b1[_0x138548(0x551)])+'</p>',_0x4236b1['imageCode']&&(_0x278008+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4236b1[_0x138548(0x404)]+_0x138548(0x4d2)));_0x278008+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x51a9dc){case _0x138548(0x223):_0x278008+=_0x138548(0x7b4)+_0x371d45+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case'true_false':_0x278008+=_0x138548(0x17f)+_0x371d45+'_opt0\x22\x20name=\x22question'+_0x371d45+_0x138548(0xba)+_0x371d45+'_opt0\x22>ใช่</label></div>',_0x278008+=_0x138548(0x17f)+_0x371d45+_0x138548(0x3a6)+_0x371d45+_0x138548(0x80b)+_0x371d45+_0x138548(0x96);break;case _0x138548(0x83b):break;case _0x138548(0x268):case _0x138548(0x4ba):default:_0x278008+=_0x4236b1['options'][_0x138548(0x6f9)]((_0x3703f5,_0x6f4bea)=>_0x138548(0x342)+_0x371d45+_0x138548(0x7d3)+_0x6f4bea+_0x138548(0x50c)+_0x371d45+_0x138548(0x622)+_0x6f4bea+_0x138548(0x4ac)+_0x371d45+'_opt'+_0x6f4bea+'\x22>'+_0x3703f5+_0x138548(0x22f))[_0x138548(0x2da)]('');break;}_0x278008+=_0x138548(0x448);}),_0x278008+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x278008+=_0x10a44d(0x43c),studentQuizArea['innerHTML']=_0x278008;if(currentMode===_0x10a44d(0x2e3)){const _0x485ca9=document[_0x10a44d(0x36a)]('cancel-test-btn');if(_0x485ca9)_0x485ca9[_0x10a44d(0x125)]('click',cancelAdminTest);}document[_0x10a44d(0x36a)](_0x10a44d(0x779))[_0x10a44d(0x125)](_0x10a44d(0x648),handleSubmitQuiz);if(window['MathJax'])window[_0x10a44d(0x6ea)][_0x10a44d(0x17a)]([studentQuizArea]);}async function handleSubmitQuiz(_0x506b78){const _0x4341bb=_0xd665bf;if(_0x506b78)_0x506b78['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4b3d71=document[_0x4341bb(0x36a)](_0x4341bb(0x779));if(!_0x4b3d71)return;const _0x50c6f1=_0x4b3d71[_0x4341bb(0x29b)]('button[type=\x22submit\x22]'),_0x915827=currentDisplayedQuiz[_0x4341bb(0xd2)]['some'](_0x557a12=>_0x557a12['questionType']==='short_answer');_0x50c6f1&&(_0x50c6f1[_0x4341bb(0x526)]=!![],_0x915827?_0x50c6f1['innerHTML']=_0x4341bb(0x31f):_0x50c6f1[_0x4341bb(0xed)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x31fa83=new FormData(_0x4b3d71),_0x4b0db7=currentDisplayedQuiz[_0x4341bb(0xd2)][_0x4341bb(0x6f9)]((_0x1d0ff2,_0x5da909)=>{const _0x3e6d3a=_0x4341bb,_0x574780=_0x1d0ff2[_0x3e6d3a(0x2ca)]||currentDisplayedQuiz[_0x3e6d3a(0x1f6)],_0x4efe84=_0x31fa83[_0x3e6d3a(0x251)](_0x3e6d3a(0x178)+_0x5da909);if(_0x4efe84!==null&&_0x4efe84!==undefined){if(_0x574780==='multiple_choice'||_0x574780===_0x3e6d3a(0x268))return parseInt(_0x4efe84);return _0x4efe84;}return null;}),_0x10b51b=currentQuizData['id'],_0x10e0c8=doc(db,_0x4341bb(0x3bf)+appId+_0x4341bb(0x187)+_0x10b51b+_0x4341bb(0x519),currentStudentName),_0x3db5a2=await getDoc(_0x10e0c8),_0x3d1b0d=_0x3db5a2['exists']()?_0x3db5a2[_0x4341bb(0x6a1)]():{},_0x215923=_0x3d1b0d[_0x4341bb(0x246)]||[];await processAndSubmitAnswers(_0x4b0db7,_0x215923);}async function gradeShortAnswerWithAI(_0x3a4b63,_0x3fc35c){const _0x47d6bc=_0xd665bf;if(!_0x3a4b63||!_0x3fc35c)return![];try{const _0x156966='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x3a4b63+_0x47d6bc(0x3d7)+_0x3fc35c+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x5c63f7={'contents':[{'role':'user','parts':[{'text':_0x156966}]}]},_0x35b611=_0x47d6bc(0x32c),_0x13e2c5=_0x47d6bc(0xbd)+_0x35b611,_0x3c2e06=await fetch(_0x13e2c5,{'method':_0x47d6bc(0x347),'headers':{'Content-Type':'application/json'},'body':JSON[_0x47d6bc(0x5b7)](_0x5c63f7)});if(!_0x3c2e06['ok'])throw new Error(_0x47d6bc(0x715));const _0xa1cbd5=await _0x3c2e06[_0x47d6bc(0x7a)](),_0x4add7a=_0xa1cbd5[_0x47d6bc(0x1f4)][0x0]['content']['parts'][0x0][_0x47d6bc(0x163)][_0x47d6bc(0x6fe)]()['toLowerCase']();return _0x4add7a===_0x47d6bc(0x769);}catch(_0x3014b6){return console[_0x47d6bc(0x3ef)]('AI\x20grading\x20failed:',_0x3014b6),![];}}async function processAndSubmitAnswers(_0x1a3297,_0x14319b){const _0x31a186=_0xd665bf;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x31a186(0x70d)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x31a186(0x587),handleVisibilityChange);let _0x96b512=0x0,_0x3fa316=0x0,_0x2bc5c6=[];const _0x18830e=[],_0x1b4b88=currentDisplayedQuiz['questions'][_0x31a186(0x30f)];let _0x2de8ed=0x0;const _0x4ecb2b=currentDisplayedQuiz[_0x31a186(0xd2)];for(let _0x66b9=0x0;_0x66b9<_0x4ecb2b[_0x31a186(0x30f)];_0x66b9++){const _0x5d3bc3=_0x4ecb2b[_0x66b9],_0x186020=_0x1a3297[_0x66b9],_0x8383d5=_0x5d3bc3[_0x31a186(0x2ca)]||currentDisplayedQuiz[_0x31a186(0x1f6)];let _0x1b56e4=![];if(_0x186020!==null&&_0x186020!=='')switch(_0x8383d5){case _0x31a186(0x83b):_0x1b56e4=_0x186020===_0x5d3bc3[_0x31a186(0x200)];break;case _0x31a186(0x63c):const _0x2b76f6=_0x186020===!![]||_0x186020===_0x31a186(0x769);_0x1b56e4=_0x2b76f6===_0x5d3bc3[_0x31a186(0x6be)];break;case _0x31a186(0x268):case _0x31a186(0x4ba):default:_0x1b56e4=Number(_0x186020)===_0x5d3bc3[_0x31a186(0x7cf)];break;case'short_answer':_0x1b56e4=await gradeShortAnswer(_0x186020,_0x5d3bc3);break;}_0x1b56e4?(_0x96b512++,_0x2de8ed++,_0x2de8ed===0x3&&(_0x2bc5c6[_0x31a186(0x27c)](BADGES[_0x31a186(0x42f)]['id']),_0x2de8ed=0x0)):_0x2de8ed=0x0;let _0x3a0b26=null;_0x5d3bc3[_0x31a186(0x63d)]&&_0x186020!==null&&(_0x3a0b26=_0x5d3bc3[_0x31a186(0x63d)][_0x186020]),_0x18830e[_0x31a186(0x27c)]({'questionId':_0x5d3bc3['id'],'answer':_0x186020,'answerText':_0x3a0b26,'isCorrect':_0x1b56e4,'originalQuestionText':_0x5d3bc3[_0x31a186(0x36f)]||_0x5d3bc3['questionText']});}_0x3fa316=_0x96b512*0xa;_0x96b512===_0x1b4b88&&_0x1b4b88>0x0&&!currentDisplayedQuiz[_0x31a186(0x61e)]&&(_0x3fa316+=0x32,_0x2bc5c6[_0x31a186(0x27c)](BADGES[_0x31a186(0x262)]['id']));const _0x2b976b=currentDisplayedQuiz[_0x31a186(0x213)]?.[_0x31a186(0xf9)]??Math[_0x31a186(0x44e)](_0x1b4b88/0x2),_0x1b1701=currentDisplayedQuiz[_0x31a186(0x213)]?.['timerMode'];if(_0x1b1701===_0x31a186(0x63a)&&quizStartTime){const _0x4e87a9=(new Date()-quizStartTime)/0x3e8,_0x3ad4e8=currentDisplayedQuiz[_0x31a186(0x213)][_0x31a186(0xd1)]*0x3c;_0x96b512>=_0x2b976b&&_0x4e87a9<_0x3ad4e8/0x2&&(_0x3fa316+=0x14,_0x2bc5c6[_0x31a186(0x27c)](BADGES[_0x31a186(0x237)]['id']));}_0x14319b[_0x31a186(0x30f)]===0x0&&_0x96b512===_0x1b4b88&&_0x1b4b88>0x0&&_0x2bc5c6[_0x31a186(0x27c)](BADGES[_0x31a186(0x32d)]['id']);if(_0x14319b[_0x31a186(0x30f)]>0x0){const _0x516427=_0x14319b[0x0]['score'];if(_0x516427<_0x2b976b&&_0x96b512>=_0x2b976b){const _0x2d3b4a=_0x14319b[_0x31a186(0x33f)](_0x3b68d6=>(_0x3b68d6[_0x31a186(0x70e)]||[])[_0x31a186(0x13e)](BADGES['COMEBACK_KING']['id']));!_0x2d3b4a&&_0x2bc5c6[_0x31a186(0x27c)](BADGES[_0x31a186(0x748)]['id']);}}_0x14319b[_0x31a186(0x30f)]===0x4&&_0x2bc5c6[_0x31a186(0x27c)](BADGES['PERSEVERANCE']['id']);const _0x186df8=currentDisplayedQuiz[_0x31a186(0x213)][_0x31a186(0x5e7)];if(currentMode===_0x31a186(0x2e3)){handleResultDisplay(_0x186df8,_0x96b512,_0x3fa316,_0x2bc5c6,_0x18830e,_0x1b4b88);return;}const _0x5c3da5=currentQuizData['id'],_0x450ecf=doc(db,_0x31a186(0x3bf)+appId+_0x31a186(0x187)+_0x5c3da5+_0x31a186(0x519),currentStudentName);try{const _0x919688=[..._0x14319b],_0x1b64ba={'score':_0x96b512,'points':_0x3fa316,'badges':_0x2bc5c6,'submittedAt':new Date()[_0x31a186(0x407)](),'answers':_0x18830e};_0x919688['push'](_0x1b64ba);const _0x1e6f61=_0x919688[0x0]['score'],_0x2e9667=Math[_0x31a186(0x5b0)](..._0x919688['map'](_0x28917f=>_0x28917f[_0x31a186(0x673)])),_0x41fe44=_0x96b512,_0x2417aa=_0x1b64ba[_0x31a186(0x554)];await setDoc(_0x450ecf,{'studentName':currentStudentName,'totalQuestions':_0x1b4b88,'attempts':_0x919688,'firstScore':_0x1e6f61,'bestScore':_0x2e9667,'latestScore':_0x41fe44,'points':_0x3fa316,'latestSubmittedAt':_0x2417aa},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x31a186(0x2fd)],currentStudentName),handleResultDisplay(_0x186df8,_0x96b512,_0x3fa316,_0x2bc5c6,_0x18830e,_0x1b4b88);}catch(_0x49b5d8){console[_0x31a186(0x3ef)](_0x31a186(0x786),_0x49b5d8),showMessage(_0x31a186(0x61f));}}async function updateStudentProfile(_0xd9f1fe,_0x3178a8){const _0x5e2f1a=_0xd665bf,_0x59eb4f=doc(db,_0x5e2f1a(0x3bf)+appId+'/public/data/projects/'+_0xd9f1fe+'/studentProfiles',_0x3178a8);try{const _0x894875=query(collection(db,'artifacts/'+appId+_0x5e2f1a(0x778)),where('projectId','==',_0xd9f1fe)),_0x3ffba7=await getDocs(_0x894875),_0xefd51f=new Map(_0x3ffba7[_0x5e2f1a(0x66a)][_0x5e2f1a(0x6f9)](_0x49b07a=>[_0x49b07a['id'],_0x49b07a[_0x5e2f1a(0x6a1)]()])),_0x48e56a=Array[_0x5e2f1a(0x3da)](_0xefd51f[_0x5e2f1a(0x7bb)]());await runTransaction(db,async _0x168de0=>{const _0x14f1d1=_0x5e2f1a;let _0x3f7788=0x0;const _0x5cea40={};let _0x44d0d7=!![],_0x1a87ab=0x0,_0x3e7ec6=0x0;for(const _0x1cea02 of _0x48e56a){const _0x2321f5=_0xefd51f[_0x14f1d1(0x251)](_0x1cea02),_0x2aff0c=doc(db,_0x14f1d1(0x3bf)+appId+_0x14f1d1(0x187)+_0x1cea02+_0x14f1d1(0x519),_0x3178a8),_0x2edf8e=await _0x168de0[_0x14f1d1(0x251)](_0x2aff0c);if(_0x2edf8e['exists']()){const _0x8138d4=_0x2edf8e[_0x14f1d1(0x6a1)](),_0x3da477=_0x8138d4[_0x14f1d1(0x246)]||[];if(_0x3da477[_0x14f1d1(0x30f)]>0x0){const _0x1449c6=_0x3da477[_0x14f1d1(0x707)]((_0x25c703,_0x3d1708)=>{const _0x52ec4a=_0x14f1d1;if(_0x3d1708[_0x52ec4a(0x673)]>_0x25c703[_0x52ec4a(0x673)])return _0x3d1708;if(_0x3d1708[_0x52ec4a(0x673)]===_0x25c703[_0x52ec4a(0x673)])return(_0x3d1708[_0x52ec4a(0x47e)]||0x0)>(_0x25c703[_0x52ec4a(0x47e)]||0x0)?_0x3d1708:_0x25c703;return _0x25c703;},{'score':-0x1,'points':-0x1});_0x1449c6[_0x14f1d1(0x673)]>-0x1&&(_0x3f7788+=_0x1449c6['points']||0x0,(_0x1449c6[_0x14f1d1(0x70e)]||[])[_0x14f1d1(0x4be)](_0x1c2b65=>{_0x5cea40[_0x1c2b65]=(_0x5cea40[_0x1c2b65]||0x0)+0x1;}));}}if(_0x2321f5[_0x14f1d1(0x4bb)]!==_0x14f1d1(0x411)){_0x3e7ec6++;if(_0x2edf8e[_0x14f1d1(0x1c9)]()){_0x1a87ab++;const _0x27cddc=_0x2edf8e[_0x14f1d1(0x6a1)]();_0x27cddc[_0x14f1d1(0x4a3)]!==_0x27cddc['totalQuestions']&&(_0x44d0d7=![]);}else _0x44d0d7=![];}}_0x3e7ec6>0x0&&_0x1a87ab===_0x3e7ec6&&_0x44d0d7?_0x5cea40[_0x14f1d1(0x8f)]=0x1:_0x5cea40[_0x14f1d1(0x8f)]=0x0,_0x168de0[_0x14f1d1(0x98)](_0x59eb4f,{'studentName':_0x3178a8,'totalPoints':_0x3f7788,'unlockedBadges':Object[_0x14f1d1(0x7bb)](_0x5cea40)[_0x14f1d1(0x77f)](_0x37dd19=>_0x5cea40[_0x37dd19]>0x0),'badgesCount':_0x5cea40},{'merge':!![]});});}catch(_0x55386a){console[_0x5e2f1a(0x3ef)](_0x5e2f1a(0x82d),_0x55386a),showMessage(_0x5e2f1a(0x6ac));}}function startAdminTest(){const _0x749b54=_0xd665bf;if(!currentQuizData){showMessage(_0x749b54(0x3db));return;}let _0x1e81a7=JSON['parse'](JSON['stringify'](currentQuizData));currentMode=_0x749b54(0x2e3),currentStudentName=_0x749b54(0x304),adminView[_0x749b54(0x1e4)][_0x749b54(0xff)](_0x749b54(0x544)),studentView['classList'][_0x749b54(0x52c)](_0x749b54(0x544)),studentInitialView['classList']['add'](_0x749b54(0x544)),studentNameSelectionView[_0x749b54(0x1e4)][_0x749b54(0xff)](_0x749b54(0x544)),studentResultArea['classList']['add'](_0x749b54(0x544)),studentQuizArea[_0x749b54(0x1e4)][_0x749b54(0x52c)](_0x749b54(0x544)),quizStartTime=new Date(),displayQuizForStudent(_0x1e81a7);}function handleResultDisplay(_0x4393c7,_0x16982c,_0x4c8f7f,_0x31e6f0,_0x183bf8,_0x3de391){const _0x2a3e45=_0xd665bf;if(_0x4393c7===_0x2a3e45(0x4dc)){displaySubmissionConfirmation();return;}const _0x29d3fe=currentDisplayedQuiz['settings']?.['passingScore']??Math[_0x2a3e45(0x44e)](_0x3de391/0x2),_0x4261f8=currentDisplayedQuiz[_0x2a3e45(0x213)]?.[_0x2a3e45(0xe8)]??![],_0x45d520=currentDisplayedQuiz[_0x2a3e45(0x213)]?.[_0x2a3e45(0x21f)]===!![],_0x1f736e=_0x16982c<_0x29d3fe,_0xb5f493=_0x4393c7===_0x2a3e45(0x7e6)||_0x4393c7===_0x2a3e45(0x392);if(_0x45d520&&_0x1f736e&&!_0xb5f493){_0x4393c7===_0x2a3e45(0x809)?displayResultsWithAnswers(_0x16982c,_0x4c8f7f,_0x31e6f0,_0x183bf8,_0x3de391,!![]):displayLoopScreen(_0x16982c,_0x3de391,_0x4393c7);return;}if(_0x4261f8&&_0x1f736e){startAdaptiveFlow(_0x183bf8,_0x16982c,_0x3de391);return;}switch(_0x4393c7){case _0x2a3e45(0x809):displayResultsWithAnswers(_0x16982c,_0x4c8f7f,_0x31e6f0,_0x183bf8,_0x3de391);break;case _0x2a3e45(0xfd):displayResultsScoreOnly(_0x16982c,_0x4c8f7f,_0x31e6f0,_0x3de391);break;case _0x2a3e45(0x658):displayPassFailOnly(_0x16982c,_0x3de391);break;case _0x2a3e45(0x7e6):displayHalfMarkResult(_0x16982c,_0x3de391);break;case _0x2a3e45(0x392):displayPerfectScoreResult(_0x16982c,_0x3de391);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x37075a){const _0x4bf393=_0xd665bf;studentReadingArea[_0x4bf393(0xed)]=_0x4bf393(0x439);const _0x11a9c1=_0x4bf393(0x3cb)+_0x37075a+_0x4bf393(0x763)+simpleMathPrompt+_0x4bf393(0x686),_0x599e25={'type':_0x4bf393(0x5b3),'properties':{'questionText':{'type':_0x4bf393(0x427)},'options':{'type':_0x4bf393(0x5f0),'items':{'type':_0x4bf393(0x427)}},'correctAnswerIndex':{'type':_0x4bf393(0x586)},'explanation':{'type':_0x4bf393(0x427)}},'required':['questionText',_0x4bf393(0x63d),'correctAnswerIndex',_0x4bf393(0x3f1)]},_0x3dba52={'type':'OBJECT','properties':{'topic':{'type':_0x4bf393(0x427)},'questions':{'type':_0x4bf393(0x5f0),'items':_0x599e25}},'required':[_0x4bf393(0x4bb),'questions']};try{const _0x141e6a=await callAnalysisApi(_0x11a9c1,_0x3dba52);_0x141e6a[_0x4bf393(0x61e)]=!![],studentReadingArea['classList'][_0x4bf393(0xff)](_0x4bf393(0x544));const _0x42048d={...currentDisplayedQuiz[_0x4bf393(0x213)],'isAdaptive':![],'resultsDisplay':_0x4bf393(0x809)};_0x141e6a[_0x4bf393(0x213)]=_0x42048d,displayQuizForStudent(_0x141e6a);}catch(_0x3efe6b){console['error'](_0x4bf393(0x464),_0x3efe6b),showMessage(_0x4bf393(0x7ef)),showView(_0x4bf393(0x7e8));}}function displayPassFailOnly(_0xa9b0ff,_0x509e8f){const _0x11a00e=_0xd665bf,_0x40a773=currentDisplayedQuiz['settings']?.[_0x11a00e(0xf9)]??-0x1,_0x4bbc1b=currentDisplayedQuiz[_0x11a00e(0x61e)]===!![];let _0x37eb8f='',_0x24eecb=![];if(_0x4bbc1b||_0x40a773!==-0x1){_0x24eecb=_0x4bbc1b?_0xa9b0ff===_0x509e8f:_0xa9b0ff>=_0x40a773;const _0x2dfbee=_0x24eecb?_0x11a00e(0x561):'bg-red-100\x20text-red-800',_0x523c82=_0x24eecb?_0x11a00e(0x632):_0x11a00e(0x839);_0x37eb8f=_0x11a00e(0x705)+_0x2dfbee+'\x22>'+_0x523c82+'</span></div>';}else _0x37eb8f=_0x11a00e(0x55e);let _0x41aec7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x11a00e(0x486)+_0x37eb8f+_0x11a00e(0x810);studentResultArea[_0x11a00e(0xed)]=_0x41aec7,studentResultArea['classList'][_0x11a00e(0x52c)](_0x11a00e(0x544)),studentQuizArea['classList'][_0x11a00e(0xff)](_0x11a00e(0x544)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x24eecb});}function cancelAdminTest(){const _0x23234b=_0xd665bf;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x23234b(0x807),handleFullscreenChange),document[_0x23234b(0x70d)]('visibilitychange',handleVisibilityChange),currentMode=_0x23234b(0x754),studentView[_0x23234b(0x1e4)][_0x23234b(0xff)](_0x23234b(0x544)),adminView[_0x23234b(0x1e4)][_0x23234b(0x52c)](_0x23234b(0x544)),showView('project-detail');}function setupResultScreenBackButton(_0x1a61b1){const _0x1a51e2=_0xd665bf,_0x256456={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x1a61b1};if(_0x256456[_0x1a51e2(0x312)]){const _0x565f70=_0x1a51e2(0x136);studentResultArea[_0x1a51e2(0x2a6)]('beforeend',_0x565f70),document[_0x1a51e2(0x36a)]('retake-quiz-loop-btn')[_0x1a51e2(0x125)](_0x1a51e2(0x6ff),()=>{const _0x10190a=_0x1a51e2;studentResultArea['classList'][_0x10190a(0xff)](_0x10190a(0x544)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x2390c7=_0x1a51e2(0x1d4),_0x48e030=currentMode===_0x1a51e2(0x2e3),_0x5908f5=_0x48e030?_0x1a51e2(0x702):_0x1a51e2(0x452);let _0x56a00a='';_0x256456[_0x1a51e2(0x1a2)]&&(_0x56a00a+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x43bea7=_0x256456[_0x1a51e2(0x288)];_0x43bea7===undefined&&(_0x43bea7=_0x256456['score']<_0x256456[_0x1a51e2(0x31b)]);_0x43bea7&&(_0x56a00a+=_0x1a51e2(0x1f7));_0x56a00a+=_0x1a51e2(0x278)+_0x2390c7+_0x1a51e2(0xea)+_0x5908f5+'</button>';const _0x239669='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x56a00a+_0x1a51e2(0x4d2);studentResultArea['insertAdjacentHTML'](_0x1a51e2(0x2ef),_0x239669),studentResultArea[_0x1a51e2(0x29b)](_0x1a51e2(0x13a))?.[_0x1a51e2(0x125)]('click',handleShowStudentRankings);const _0x152269=studentResultArea[_0x1a51e2(0x29b)](_0x1a51e2(0x2dc));_0x152269&&_0x152269[_0x1a51e2(0x125)]('click',()=>{const _0xb5e5aa=_0x1a51e2;studentResultArea[_0xb5e5aa(0x1e4)][_0xb5e5aa(0xff)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1a51e2(0x36a)](_0x2390c7)[_0x1a51e2(0x125)](_0x1a51e2(0x6ff),()=>{const _0x2fac22=_0x1a51e2;_0x48e030?(currentMode=_0x2fac22(0x754),studentView[_0x2fac22(0x1e4)][_0x2fac22(0xff)]('hidden'),adminView[_0x2fac22(0x1e4)]['remove'](_0x2fac22(0x544)),showView('project-detail')):(showView('student'),document[_0x2fac22(0x36a)]('quiz-id-input')[_0x2fac22(0x4fc)]='');});}function displayResultsWithAnswers(_0x2e6496,_0x344b79,_0x285b4c,_0xf9273,_0x2aaa6e,_0x3f0e29=![]){const _0x253997=_0xd665bf,_0x14c7c2=_0x2aaa6e>0x0?_0x2e6496/_0x2aaa6e*0x64:0x0,_0x1471fd=currentDisplayedQuiz[_0x253997(0x213)]?.[_0x253997(0xf9)]??-0x1,_0x5d587f=currentDisplayedQuiz[_0x253997(0x61e)]===!![];let _0x81f920='';if(_0x5d587f||_0x1471fd!==-0x1){let _0x2af914=_0x5d587f?_0x2e6496===_0x2aaa6e:_0x2e6496>=_0x1471fd;const _0x37425a=_0x2af914?_0x253997(0x561):_0x253997(0x802),_0x3b4b63=_0x2af914?_0x253997(0x632):_0x253997(0x839);_0x81f920='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x37425a+'\x22>'+_0x3b4b63+_0x253997(0x294);}let _0x2ec8e0=_0x253997(0x71d)+currentStudentName+_0x253997(0x175)+_0x2e6496+_0x253997(0x7c9)+_0x2aaa6e+_0x253997(0x1df)+_0x81f920+_0x253997(0xbf)+_0x344b79+_0x253997(0x42b)+_0x14c7c2['toFixed'](0x0)+_0x253997(0x6ce);currentDisplayedQuiz[_0x253997(0xd2)]['forEach']((_0x1fa96b,_0x4f1b61)=>{const _0x53ed24=_0x253997,_0x555077=_0xf9273[_0x4f1b61],_0x19d149=_0x555077[_0x53ed24(0x212)],_0xa37fe4=_0x555077[_0x53ed24(0x558)],_0xa14cb0=_0x1fa96b[_0x53ed24(0x2ca)]||currentDisplayedQuiz['quizType'];_0x2ec8e0+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0xa37fe4?_0x53ed24(0x457):'border-red-300\x20bg-red-50')+_0x53ed24(0x1d2)+(_0x4f1b61+0x1)+'.\x20'+(_0x1fa96b[_0x53ed24(0x36f)]||_0x1fa96b[_0x53ed24(0x551)])+_0x53ed24(0x39c);switch(_0xa14cb0){case'matching_item':const _0x27bbd2=_0x19d149||_0x53ed24(0x386),_0x2b7741=_0x1fa96b['correctResponse'];_0x2ec8e0+=_0x53ed24(0x3ce)+(!_0xa37fe4?_0x53ed24(0x139):'')+'\x22>'+_0x27bbd2+_0x53ed24(0x6e3);!_0xa37fe4&&(_0x2ec8e0+=_0x53ed24(0x298)+_0x2b7741+'</p>');break;case _0x53ed24(0x223):_0x2ec8e0+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x19d149||_0x53ed24(0x386))+_0x53ed24(0x294),_0x2ec8e0+=_0x53ed24(0x843)+_0x1fa96b['idealAnswer']+_0x53ed24(0x294);break;case _0x53ed24(0x63c):_0x2ec8e0+=_0x53ed24(0x27e)+(_0x1fa96b[_0x53ed24(0x6be)]===!![]?_0x53ed24(0x17c):'')+'\x20'+(_0x19d149===_0x53ed24(0x769)&&!_0xa37fe4?'line-through\x20text-red-700':'')+'\x22>ใช่</p>',_0x2ec8e0+=_0x53ed24(0x27e)+(_0x1fa96b[_0x53ed24(0x6be)]===![]?_0x53ed24(0x17c):'')+'\x20'+(_0x19d149===_0x53ed24(0x48c)&&!_0xa37fe4?_0x53ed24(0x139):'')+'\x22>ไม่ใช่</p>';break;default:_0x2ec8e0+=_0x1fa96b['options'][_0x53ed24(0x6f9)]((_0xb91f10,_0x2ca564)=>{const _0x46a21a=_0x53ed24;let _0x4cd203='',_0x19f96f='';if(_0x2ca564===_0x1fa96b[_0x46a21a(0x7cf)])_0x4cd203='font-bold\x20text-green-700',_0x19f96f=_0x46a21a(0x784);else _0x2ca564===_0x19d149&&(_0x4cd203=_0x46a21a(0x552),_0x19f96f='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x46a21a(0x63e)+_0x4cd203+'\x22>'+_0x19f96f+_0xb91f10+_0x46a21a(0x4d2);})[_0x53ed24(0x2da)]('');break;}_0x2ec8e0+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x1fa96b[_0x53ed24(0x3f1)]||'ไม่มีคำอธิบาย')+_0x53ed24(0x4d2);if(!_0xa37fe4){const _0x246a22=_0x1fa96b['stem']||_0x1fa96b[_0x53ed24(0x551)];_0x2ec8e0+=_0x53ed24(0xcb)+escape(_0x246a22)+_0x53ed24(0x382);}_0x2ec8e0+=_0x53ed24(0x4d2);}),studentResultArea['innerHTML']=_0x2ec8e0,renderEarnedBadges(_0x285b4c,_0x253997(0x3d4)),studentResultArea[_0x253997(0x1e4)]['remove'](_0x253997(0x544)),studentQuizArea[_0x253997(0x1e4)]['add']('hidden'),setupResultScreenBackButton({'isLooping':_0x3f0e29,'score':_0x2e6496,'totalQuestions':_0x2aaa6e,'showRankings':!![]});if(window[_0x253997(0x6ea)])window[_0x253997(0x6ea)][_0x253997(0x17a)]([studentResultArea]);}function displayResultsScoreOnly(_0x25c6fc,_0x3012ba,_0x25289f,_0x53e822){const _0x312b7d=_0xd665bf,_0x190e5f=_0x53e822>0x0?_0x25c6fc/_0x53e822*0x64:0x0,_0x3d3057=currentDisplayedQuiz[_0x312b7d(0x213)]?.[_0x312b7d(0xf9)]??-0x1,_0x40fe8a=currentDisplayedQuiz[_0x312b7d(0x61e)]===!![];let _0x48f84c='';if(_0x40fe8a||_0x3d3057!==-0x1){let _0x5c12a9=_0x40fe8a?_0x25c6fc===_0x53e822:_0x25c6fc>=_0x3d3057;const _0x3d3c5=_0x5c12a9?_0x312b7d(0x561):'bg-red-100\x20text-red-800',_0x4cb10e=_0x5c12a9?_0x312b7d(0x632):_0x312b7d(0x839);_0x48f84c=_0x312b7d(0x2b0)+_0x3d3c5+'\x22>'+_0x4cb10e+_0x312b7d(0x294);}let _0x47bb1e=_0x312b7d(0x27d)+currentStudentName+_0x312b7d(0x84)+_0x25c6fc+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x53e822+_0x312b7d(0x1df)+_0x48f84c+_0x312b7d(0xbf)+_0x3012ba+_0x312b7d(0x388)+_0x190e5f[_0x312b7d(0x540)](0x0)+_0x312b7d(0x7b5);studentResultArea[_0x312b7d(0xed)]=_0x47bb1e,renderEarnedBadges(_0x25289f,_0x312b7d(0x3d4)),studentResultArea['classList'][_0x312b7d(0x52c)](_0x312b7d(0x544)),studentQuizArea[_0x312b7d(0x1e4)][_0x312b7d(0xff)](_0x312b7d(0x544)),setupResultScreenBackButton({'score':_0x25c6fc,'totalQuestions':_0x53e822,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x3ea923=_0xd665bf;let _0x1d08fd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x3ea923(0x5c3);studentResultArea[_0x3ea923(0xed)]=_0x1d08fd,studentResultArea[_0x3ea923(0x1e4)][_0x3ea923(0x52c)](_0x3ea923(0x544)),studentQuizArea[_0x3ea923(0x1e4)][_0x3ea923(0xff)](_0x3ea923(0x544)),document[_0x3ea923(0x36a)](_0x3ea923(0xb6))[_0x3ea923(0x125)](_0x3ea923(0x6ff),()=>{const _0x161d9d=_0x3ea923;showView(_0x161d9d(0x7e8)),document['getElementById'](_0x161d9d(0xb8))[_0x161d9d(0x4fc)]='';});}function renderEarnedBadges(_0x1bb0bc,_0x57fa28){const _0x739f79=_0xd665bf,_0x7dff43=document[_0x739f79(0x36a)](_0x57fa28);if(!_0x7dff43||!_0x1bb0bc||_0x1bb0bc[_0x739f79(0x30f)]===0x0)return;let _0x4b28bd='';_0x1bb0bc[_0x739f79(0x4be)]((_0x4a93cc,_0x5009b3)=>{const _0x3a0b7a=_0x739f79,_0xc2fb56=Object[_0x3a0b7a(0x3d2)](BADGES)[_0x3a0b7a(0x5ec)](_0x5ed902=>_0x5ed902['id']===_0x4a93cc);_0xc2fb56&&(_0x4b28bd+=_0x3a0b7a(0x69b)+_0x5009b3*0.2+_0x3a0b7a(0x720)+_0xc2fb56[_0x3a0b7a(0x6fc)]+_0x3a0b7a(0x80d)+_0xc2fb56[_0x3a0b7a(0x236)]+_0x3a0b7a(0x6f6)+_0xc2fb56[_0x3a0b7a(0x2cf)]+_0x3a0b7a(0x531));}),_0x7dff43[_0x739f79(0xed)]=_0x4b28bd;}function startPresentation(_0x1484c6){const _0x1e4acf=_0xd665bf;currentQuizData=getShuffledQuiz(_0x1484c6),currentPresentationSlide=0x0,presentationModal[_0x1e4acf(0x60c)][_0x1e4acf(0x5cd)]=_0x1e4acf(0x7e7),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x20d04f=_0xd665bf;document['fullscreenElement']&&document[_0x20d04f(0x528)](),presentationModal['style']['display']=_0x20d04f(0x44b);}function renderPresentationSlide(_0x15d95c){const _0x98ffe=_0xd665bf,_0x14da89=document[_0x98ffe(0x36a)](_0x98ffe(0x3fc));if(!currentQuizData||!currentQuizData[_0x98ffe(0xd2)]||!currentQuizData[_0x98ffe(0xd2)][_0x15d95c]){_0x14da89[_0x98ffe(0xed)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x5bee1b=currentQuizData[_0x98ffe(0xd2)][_0x15d95c],_0x3924c5=_0x5bee1b[_0x98ffe(0x2ca)]||currentQuizData[_0x98ffe(0x1f6)];_0x14da89[_0x98ffe(0xed)]='';let _0x5b9bc6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5bee1b[_0x98ffe(0x404)]?_0x98ffe(0x265)+_0x5bee1b[_0x98ffe(0x404)]+_0x98ffe(0x4d2):'')+_0x98ffe(0x7c8)+(_0x15d95c+0x1)+'.\x20'+(_0x5bee1b[_0x98ffe(0x36f)]||_0x5bee1b[_0x98ffe(0x551)])+_0x98ffe(0x438);switch(_0x3924c5){case'matching_item':_0x5b9bc6+=_0x5bee1b[_0x98ffe(0x647)][_0x98ffe(0x6f9)](_0x525dcd=>_0x98ffe(0x414)+_0x525dcd+_0x98ffe(0x820))[_0x98ffe(0x2da)]('');break;case'true_false':_0x5b9bc6+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x5b9bc6+=_0x98ffe(0x4b2);break;case _0x98ffe(0x7d6):case _0x98ffe(0x223):_0x5b9bc6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x98ffe(0x268):case _0x98ffe(0x4ba):default:_0x5b9bc6+=_0x5bee1b['options'][_0x98ffe(0x6f9)]((_0x3d5ee2,_0x24192b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x24192b+_0x98ffe(0x5a6)+_0x3d5ee2+_0x98ffe(0x820))[_0x98ffe(0x2da)]('');break;}_0x5b9bc6+=_0x98ffe(0x28d)+(_0x5bee1b[_0x98ffe(0x3f1)]||_0x98ffe(0x247))+_0x98ffe(0x141),_0x14da89[_0x98ffe(0xed)]=_0x5b9bc6;if(window[_0x98ffe(0x6ea)])window[_0x98ffe(0x6ea)]['typesetPromise']([_0x14da89]);document[_0x98ffe(0x24f)](_0x98ffe(0x678))[_0x98ffe(0x4be)](_0x432b65=>{const _0xc25ac2=_0x98ffe;_0x432b65[_0xc25ac2(0x125)](_0xc25ac2(0x6ff),_0x51a944=>revealAnswerForPresentation(_0x15d95c,_0x51a944['currentTarget']));});const _0x1a6017=document[_0x98ffe(0x36a)](_0x98ffe(0x7cb));_0x1a6017&&_0x1a6017['addEventListener'](_0x98ffe(0x6ff),()=>checkShortAnswerForPresentation(_0x15d95c)),document[_0x98ffe(0x36a)](_0x98ffe(0x2cd))[_0x98ffe(0x41b)]=_0x98ffe(0x254)+(_0x15d95c+0x1)+_0x98ffe(0x54b)+currentQuizData[_0x98ffe(0xd2)][_0x98ffe(0x30f)],document[_0x98ffe(0x36a)](_0x98ffe(0x2a8))['disabled']=_0x15d95c===0x0,document['getElementById']('next-question-btn')['disabled']=_0x15d95c===currentQuizData['questions'][_0x98ffe(0x30f)]-0x1;}async function checkShortAnswerForPresentation(_0x3585a9){const _0x4720f5=_0xd665bf,_0x3d856c=currentQuizData[_0x4720f5(0xd2)][_0x3585a9],_0x30db57=document[_0x4720f5(0x36a)](_0x4720f5(0x28c)),_0x19b86e=document[_0x4720f5(0x36a)](_0x4720f5(0x7cb)),_0x1aa8c3=document[_0x4720f5(0x36a)](_0x4720f5(0x606)),_0xd56ddc=document[_0x4720f5(0x36a)](_0x4720f5(0x321));if(!_0x30db57||!_0x19b86e||!_0x1aa8c3||!_0xd56ddc)return;const _0x5c5540=_0x30db57[_0x4720f5(0x4fc)][_0x4720f5(0x6fe)]();if(_0x5c5540==='')return;_0x19b86e[_0x4720f5(0x526)]=!![],_0x19b86e['innerHTML']=_0x4720f5(0x7f2),_0x30db57[_0x4720f5(0x526)]=!![];const _0x556f12=await gradeShortAnswer(_0x5c5540,_0x3d856c);_0x556f12?_0x1aa8c3['innerHTML']=_0x4720f5(0x731):_0x1aa8c3[_0x4720f5(0xed)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x3d856c[_0x4720f5(0x5a5)]+')',_0x1aa8c3[_0x4720f5(0x1e4)][_0x4720f5(0x52c)](_0x4720f5(0x544)),_0xd56ddc['classList'][_0x4720f5(0x52c)](_0x4720f5(0x544)),_0x19b86e[_0x4720f5(0x1e4)]['add']('hidden');}function revealAnswerForPresentation(_0x35b2ee,_0x5d9c08){const _0x3ff3c8=_0xd665bf,_0x1b027a=currentQuizData['questions'][_0x35b2ee],_0x3a0af2=_0x1b027a[_0x3ff3c8(0x2ca)]||currentQuizData[_0x3ff3c8(0x1f6)];document[_0x3ff3c8(0x24f)](_0x3ff3c8(0x678))[_0x3ff3c8(0x4be)](_0x48c46d=>{const _0x10efbe=_0x3ff3c8;_0x48c46d[_0x10efbe(0x526)]=!![],_0x48c46d[_0x10efbe(0x1e4)][_0x10efbe(0x52c)]('hover:bg-indigo-100');let _0x25694d=![];if(_0x3a0af2==='multiple_choice'||_0x3a0af2===_0x10efbe(0x268)){const _0xea6516=parseInt(_0x48c46d[_0x10efbe(0x53c)]['index']);_0x25694d=_0xea6516===_0x1b027a['correctAnswerIndex'];}else{if(_0x3a0af2===_0x10efbe(0x63c)){const _0x438e64=_0x48c46d[_0x10efbe(0x53c)]['answer']===_0x10efbe(0x769);_0x25694d=_0x438e64===_0x1b027a[_0x10efbe(0x6be)];}else _0x3a0af2===_0x10efbe(0x83b)&&(_0x25694d=_0x48c46d[_0x10efbe(0x41b)][_0x10efbe(0x6fe)]()===_0x1b027a[_0x10efbe(0x200)]);}_0x25694d?_0x48c46d[_0x10efbe(0x1e4)][_0x10efbe(0xff)]('bg-green-500',_0x10efbe(0x115),_0x10efbe(0x3ad)):_0x48c46d[_0x10efbe(0x1e4)]['add'](_0x10efbe(0x4f4));}),_0x5d9c08['classList'][_0x3ff3c8(0x52c)](_0x3ff3c8(0x4f4));let _0x49769d=![];if(_0x3a0af2===_0x3ff3c8(0x4ba))_0x49769d=parseInt(_0x5d9c08[_0x3ff3c8(0x53c)][_0x3ff3c8(0x85)])===_0x1b027a['correctAnswerIndex'];else{if(_0x3a0af2==='true_false')_0x49769d=_0x5d9c08[_0x3ff3c8(0x53c)][_0x3ff3c8(0x212)]===_0x3ff3c8(0x769)===_0x1b027a[_0x3ff3c8(0x6be)];else _0x3a0af2===_0x3ff3c8(0x83b)&&(_0x49769d=_0x5d9c08[_0x3ff3c8(0x41b)]['trim']()===_0x1b027a[_0x3ff3c8(0x200)]);}!_0x49769d&&_0x5d9c08[_0x3ff3c8(0x1e4)]['add']('bg-red-500','text-white',_0x3ff3c8(0x261)),document['getElementById']('presentation-explanation')[_0x3ff3c8(0x1e4)]['remove'](_0x3ff3c8(0x544));}function startWholeQuizTimer(_0x3593a7){const _0x140780=_0xd665bf,_0x53ebf9=document[_0x140780(0x36a)](_0x140780(0x7c7));if(!_0x53ebf9)return;const _0x515b58=Date[_0x140780(0x468)]()+_0x3593a7*0x3c*0x3e8;_0x53ebf9[_0x140780(0xed)]=_0x140780(0x698);const _0x42f2d2=document[_0x140780(0x36a)](_0x140780(0x23b));quizTimerInterval=setInterval(()=>{const _0x24528d=_0x140780,_0x45fc1b=_0x515b58-Date[_0x24528d(0x468)]();if(_0x45fc1b<=0x0)clearInterval(quizTimerInterval),_0x42f2d2[_0x24528d(0x41b)]=_0x24528d(0x58a),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x85cca=Math[_0x24528d(0x44e)](_0x45fc1b/0x3e8/0x3c%0x3c)[_0x24528d(0x6de)]()[_0x24528d(0x4de)](0x2,'0'),_0xb6cfe2=Math[_0x24528d(0x44e)](_0x45fc1b/0x3e8%0x3c)[_0x24528d(0x6de)]()[_0x24528d(0x4de)](0x2,'0');_0x42f2d2[_0x24528d(0x41b)]=_0x85cca+':'+_0xb6cfe2;}},0x3e8);}function renderPerQuestionView(){const _0x3eb9c0=_0xd665bf;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x2061a5=currentDisplayedQuiz[_0x3eb9c0(0xd2)][currentQuestionIndex],_0x4f360e=_0x2061a5[_0x3eb9c0(0x2ca)]||currentDisplayedQuiz[_0x3eb9c0(0x1f6)];let _0x1020e3=_0x3eb9c0(0x25b)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz['questions'][_0x3eb9c0(0x30f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x3eb9c0(0x2e3)?_0x3eb9c0(0x372):'')+_0x3eb9c0(0x4a1)+currentDisplayedQuiz[_0x3eb9c0(0x4bb)]+_0x3eb9c0(0x79e)+(currentQuestionIndex===currentDisplayedQuiz[_0x3eb9c0(0xd2)][_0x3eb9c0(0x30f)]-0x1?_0x3eb9c0(0x2f0):_0x3eb9c0(0x664))+_0x3eb9c0(0x52a);studentQuizArea[_0x3eb9c0(0xed)]=_0x1020e3;let _0x90a65e='',_0x53a92a='';switch(_0x4f360e){case _0x3eb9c0(0x83b):_0x90a65e=currentQuestionIndex+0x1+'.\x20'+_0x2061a5[_0x3eb9c0(0x36f)],_0x53a92a=_0x3eb9c0(0x22b)+_0x2061a5['allResponses'][_0x3eb9c0(0x6f9)](_0x157130=>_0x3eb9c0(0x7b6)+_0x157130+'\x22>'+_0x157130+_0x3eb9c0(0x2ed))[_0x3eb9c0(0x2da)]('')+_0x3eb9c0(0x4e0);break;case _0x3eb9c0(0x63c):_0x90a65e=currentQuestionIndex+0x1+'.\x20'+_0x2061a5[_0x3eb9c0(0x551)],_0x53a92a=_0x3eb9c0(0x861);break;case _0x3eb9c0(0x223):case _0x3eb9c0(0x7d6):_0x90a65e=currentQuestionIndex+0x1+'.\x20'+_0x2061a5[_0x3eb9c0(0x551)],_0x53a92a=_0x3eb9c0(0x6ee);break;case'multiple_choice':case'fill_in_with_choices':default:_0x90a65e=currentQuestionIndex+0x1+'.\x20'+_0x2061a5['questionText'],_0x53a92a=_0x2061a5[_0x3eb9c0(0x63d)]['map']((_0x7d22a2,_0xd32ee9)=>_0x3eb9c0(0x1a5)+_0xd32ee9+_0x3eb9c0(0x571)+_0xd32ee9+_0x3eb9c0(0x56c)+_0xd32ee9+'\x22>'+_0x7d22a2+_0x3eb9c0(0x1e1))['join']('');break;}_0x2061a5[_0x3eb9c0(0x404)]&&(_0x90a65e+=_0x3eb9c0(0x265)+_0x2061a5['imageCode']+_0x3eb9c0(0x4d2));document[_0x3eb9c0(0x36a)](_0x3eb9c0(0x7bc))['innerHTML']=_0x90a65e,document[_0x3eb9c0(0x36a)](_0x3eb9c0(0x1db))[_0x3eb9c0(0xed)]=_0x53a92a;if(currentMode===_0x3eb9c0(0x2e3)){const _0x4c9873=document[_0x3eb9c0(0x36a)](_0x3eb9c0(0x325));if(_0x4c9873)_0x4c9873['addEventListener'](_0x3eb9c0(0x6ff),cancelAdminTest);}document['getElementById']('next-question-timed-btn')[_0x3eb9c0(0x125)](_0x3eb9c0(0x6ff),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x3eb9c0(0x6ea)][_0x3eb9c0(0x17a)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x6230c8=_0xd665bf,_0x5d70c3=currentDisplayedQuiz[_0x6230c8(0x213)][_0x6230c8(0xd1)],_0x57f7a8=document[_0x6230c8(0x36a)](_0x6230c8(0x228));if(!_0x57f7a8)return;let _0x444dc8=_0x5d70c3;_0x57f7a8[_0x6230c8(0xed)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x444dc8+_0x6230c8(0x49c);const _0x52971f=document[_0x6230c8(0x36a)](_0x6230c8(0x235)),_0x3dae40=document[_0x6230c8(0x36a)](_0x6230c8(0x7a1));perQuestionTimerInterval=setInterval(()=>{const _0x47be54=_0x6230c8;_0x444dc8--;const _0x1565c6=_0x444dc8/_0x5d70c3*0x64;_0x52971f[_0x47be54(0x60c)]['width']=_0x1565c6+'%',_0x3dae40['textContent']=_0x444dc8,_0x444dc8<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x47be54(0x26f)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x5744e9=![]){const _0x1ae320=_0xd665bf;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x3a0ae1=null;if(!_0x5744e9){const _0x3e3371=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x285017=_0x3e3371[_0x1ae320(0x2ca)]||currentDisplayedQuiz[_0x1ae320(0x1f6)];if(_0x285017==='short_answer'||_0x285017===_0x1ae320(0x7d6)){const _0x14ac66=document[_0x1ae320(0x29b)]('#per-question-options\x20textarea');_0x3a0ae1=_0x14ac66?_0x14ac66[_0x1ae320(0x4fc)][_0x1ae320(0x6fe)]():'';}else{if(_0x285017===_0x1ae320(0x83b)){const _0x394190=document[_0x1ae320(0x29b)]('#per-question-options\x20select');_0x3a0ae1=_0x394190?_0x394190[_0x1ae320(0x4fc)]:'';}else{const _0x38b58c=document['querySelector']('input[name=\x22question_single\x22]:checked');if(_0x38b58c){const _0xd188ac=_0x38b58c[_0x1ae320(0x4fc)];_0x3a0ae1=!isNaN(parseInt(_0xd188ac,0xa))&&_0xd188ac['trim']()!==''?parseInt(_0xd188ac,0xa):_0xd188ac;}}}}studentAnswersPerQuestion[_0x1ae320(0x27c)](_0x3a0ae1),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions']['length']?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x11938e=_0xd665bf,_0x40aa6c=currentDisplayedQuiz[_0x11938e(0xd2)][_0x11938e(0x33f)](_0x2d40f0=>_0x2d40f0[_0x11938e(0x2ca)]==='short_answer');_0x40aa6c?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x3d9dc6=currentQuizData['id'],_0x2c876a=doc(db,_0x11938e(0x3bf)+appId+_0x11938e(0x187)+_0x3d9dc6+'/submissions',currentStudentName),_0x3fda63=await getDoc(_0x2c876a),_0xf66f4a=_0x3fda63[_0x11938e(0x1c9)]()?_0x3fda63['data']():{},_0x45914d=_0xf66f4a[_0x11938e(0x246)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x45914d);}function getResultsFilename(){const _0x225a51=_0xd665bf,_0x54c4eb=document[_0x225a51(0x36a)](_0x225a51(0x65d))['textContent'][_0x225a51(0x619)](/[^a-z0-9]/gi,'_')[_0x225a51(0x423)]();return _0x225a51(0x230)+(_0x54c4eb||'quiz');}function exportResultsAsImage(){const _0x194eeb=_0xd665bf,_0x446b1c=document[_0x194eeb(0x36a)](_0x194eeb(0x4ec));showMessage(_0x194eeb(0x77b)),html2canvas(_0x446b1c)[_0x194eeb(0x15f)](_0x2e4941=>{const _0x2ec02a=_0x194eeb,_0x3560b7=document['createElement']('a');_0x3560b7[_0x2ec02a(0x6bf)]=getResultsFilename()+'.png',_0x3560b7[_0x2ec02a(0x462)]=_0x2e4941['toDataURL'](_0x2ec02a(0x34e)),_0x3560b7[_0x2ec02a(0x6ff)](),messageModal[_0x2ec02a(0x1e4)][_0x2ec02a(0xff)](_0x2ec02a(0x544));});}function exportResultsAsPDF(){const _0x39a496=_0xd665bf,{jsPDF:_0xec171d}=window[_0x39a496(0x1e5)],_0x2a1cbe=new _0xec171d();_0x2a1cbe[_0x39a496(0x458)](_0x39a496(0x5c2),_0x39a496(0x84b)),_0x2a1cbe['autoTable']({'html':_0x39a496(0x721)}),_0x2a1cbe[_0x39a496(0x6d6)](getResultsFilename()+_0x39a496(0x5fe));}function exportResultsAsWord(){const _0x33e3ea=_0xd665bf,_0x243be4=_0x33e3ea(0x4eb)+_0x33e3ea(0x84f)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x33e3ea(0x6bb),_0x47670d=_0x33e3ea(0x584),_0x237837=_0x243be4+document['getElementById'](_0x33e3ea(0x4ec))[_0x33e3ea(0xed)]+_0x47670d,_0x5f0ea9=_0x33e3ea(0x4cc)+encodeURIComponent(_0x237837),_0x1000bb=document[_0x33e3ea(0x79f)]('a');document['body'][_0x33e3ea(0x5c5)](_0x1000bb),_0x1000bb[_0x33e3ea(0x462)]=_0x5f0ea9,_0x1000bb[_0x33e3ea(0x6bf)]=getResultsFilename()+_0x33e3ea(0x10b),_0x1000bb[_0x33e3ea(0x6ff)](),document['body'][_0x33e3ea(0x134)](_0x1000bb);}function exportResultsAsExcel(){const _0x24496c=_0xd665bf,_0x45095a=document[_0x24496c(0x36a)]('results-table');let _0x387701=[];for(let _0x2bfd70=0x0;_0x2bfd70<_0x45095a[_0x24496c(0x55a)]['length'];_0x2bfd70++){let _0x2c75ba=[],_0x5da17c=_0x45095a['rows'][_0x2bfd70]['querySelectorAll']('td,\x20th');for(let _0x150e37=0x0;_0x150e37<_0x5da17c['length'];_0x150e37++){_0x2c75ba[_0x24496c(0x27c)]('\x22'+_0x5da17c[_0x150e37]['innerText'][_0x24496c(0x619)](/"/g,'\x22\x22')+'\x22');}_0x387701['push'](_0x2c75ba['join'](','));}const _0x528ee3=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x387701[_0x24496c(0x2da)]('\x0a')],{'type':_0x24496c(0x6cc)}),_0x53d690=document[_0x24496c(0x79f)]('a');_0x53d690[_0x24496c(0x462)]=URL[_0x24496c(0x3a2)](_0x528ee3),_0x53d690['download']=getResultsFilename()+_0x24496c(0x422),_0x53d690['click']();}function exportTableAsImage(_0x2a81c2,_0x45942c){const _0x3a0ff5=_0xd665bf,_0x47514b=document[_0x3a0ff5(0x36a)](_0x2a81c2);if(!_0x47514b){showMessage(_0x3a0ff5(0x50a));return;}showMessage(_0x3a0ff5(0x77b)),html2canvas(_0x47514b)[_0x3a0ff5(0x15f)](_0x5c9b64=>{const _0x138544=_0x3a0ff5,_0x5de220=document['createElement']('a');_0x5de220[_0x138544(0x6bf)]=_0x45942c+_0x138544(0x259),_0x5de220[_0x138544(0x462)]=_0x5c9b64['toDataURL'](_0x138544(0x34e)),_0x5de220[_0x138544(0x6ff)](),messageModal['classList'][_0x138544(0xff)](_0x138544(0x544));});}function exportTableAsPDF(_0x2d6cce,_0x372a55){const _0x4f4b17=_0xd665bf,{jsPDF:_0x568dba}=window[_0x4f4b17(0x1e5)],_0x4e96f4=new _0x568dba();_0x4e96f4[_0x4f4b17(0x458)](_0x4f4b17(0x5c2),_0x4f4b17(0x84b)),_0x4e96f4[_0x4f4b17(0x75b)]({'html':'#'+_0x2d6cce}),_0x4e96f4[_0x4f4b17(0x6d6)](_0x372a55+_0x4f4b17(0x5fe));}function exportTableAsWord(_0x13a428,_0x132679){const _0x17c328=_0xd665bf,_0x43192b=document['getElementById'](_0x13a428);if(!_0x43192b){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x43aa96=_0x17c328(0x4eb)+_0x17c328(0x84f)+_0x17c328(0x6dc)+_0x17c328(0x6bb),_0x271872=_0x17c328(0x584),_0x217681=_0x43aa96+_0x43192b[_0x17c328(0xed)]+_0x271872,_0x197525=_0x17c328(0x4cc)+encodeURIComponent(_0x217681),_0x29d9e0=document['createElement']('a');document[_0x17c328(0x2ae)][_0x17c328(0x5c5)](_0x29d9e0),_0x29d9e0[_0x17c328(0x462)]=_0x197525,_0x29d9e0['download']=_0x132679+'.doc',_0x29d9e0[_0x17c328(0x6ff)](),document['body'][_0x17c328(0x134)](_0x29d9e0);}function exportTableAsExcel(_0x5b2ca3,_0x23fe9d){const _0x54c244=_0xd665bf,_0x45cf66=document[_0x54c244(0x36a)](_0x5b2ca3);if(!_0x45cf66){showMessage(_0x54c244(0x50a));return;}let _0x2d7e66=[];for(let _0x33706c=0x0;_0x33706c<_0x45cf66[_0x54c244(0x55a)]['length'];_0x33706c++){let _0x3089e2=[],_0xc798cb=_0x45cf66['rows'][_0x33706c][_0x54c244(0x24f)]('td,\x20th');for(let _0x68e9f9=0x0;_0x68e9f9<_0xc798cb['length'];_0x68e9f9++){_0x3089e2[_0x54c244(0x27c)]('\x22'+_0xc798cb[_0x68e9f9]['innerText'][_0x54c244(0x619)](/"/g,'\x22\x22')+'\x22');}_0x2d7e66[_0x54c244(0x27c)](_0x3089e2[_0x54c244(0x2da)](','));}const _0x5ef87c=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x2d7e66['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x914252=document[_0x54c244(0x79f)]('a');_0x914252[_0x54c244(0x462)]=URL[_0x54c244(0x3a2)](_0x5ef87c),_0x914252[_0x54c244(0x6bf)]=_0x23fe9d+_0x54c244(0x422),_0x914252[_0x54c244(0x6ff)]();}function renderAnalytics(_0x6dca42,_0x3e57d8){const _0x62bef9=_0xd665bf,_0x1f652f=currentProjectData[_0x62bef9(0x4cb)][_0x62bef9(0x30f)],_0x2bb825=_0x3e57d8[_0x62bef9(0x30f)],_0x197c20=_0x1f652f-_0x2bb825,_0x234483=_0x1f652f>0x0?_0x2bb825/_0x1f652f*0x64:0x0,_0x3107ea=_0x3e57d8[_0x62bef9(0x6f9)](_0x586b87=>_0x586b87[_0x62bef9(0x4bf)]),_0x2139dc=_0x3107ea['length']>0x0?_0x3107ea[_0x62bef9(0x707)]((_0x913ed7,_0x893e58)=>_0x913ed7+_0x893e58,0x0)/_0x3107ea[_0x62bef9(0x30f)]:0x0,_0x35476d=_0x6dca42[_0x62bef9(0xd2)][_0x62bef9(0x30f)],_0x36baa6=_0x35476d>0x0?_0x2139dc/_0x35476d*0x64:0x0,_0x383a13=calculateItemAnalysis(_0x6dca42,_0x3e57d8),_0x3d8128=calculateReliabilityKR20(_0x6dca42,_0x3e57d8,_0x383a13[_0x62bef9(0x86)]);let _0x33d0f6='';if(_0x3d8128!==null){let _0x1ec8f4='';if(_0x3d8128>=0.9)_0x1ec8f4=_0x62bef9(0x4a5);else{if(_0x3d8128>=0.8)_0x1ec8f4='ดีมาก';else{if(_0x3d8128>=0.7)_0x1ec8f4='ดี';else{if(_0x3d8128>=0.6)_0x1ec8f4=_0x62bef9(0x788);else _0x1ec8f4=_0x62bef9(0x82a);}}}_0x33d0f6=_0x62bef9(0x1e7)+_0x3d8128[_0x62bef9(0x540)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x1ec8f4+_0x62bef9(0x727);}const _0xbd9ac0=document[_0x62bef9(0x36a)](_0x62bef9(0x211));_0xbd9ac0[_0x62bef9(0xed)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x234483[_0x62bef9(0x540)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x2bb825+'/'+_0x1f652f+_0x62bef9(0x7d9)+_0x2139dc[_0x62bef9(0x540)](0x2)+_0x62bef9(0x2ce)+_0x36baa6[_0x62bef9(0x540)](0x0)+_0x62bef9(0x7d4)+(_0x3107ea[_0x62bef9(0x30f)]>0x0?Math[_0x62bef9(0x5b0)](..._0x3107ea):_0x62bef9(0x6fa))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x3107ea[_0x62bef9(0x30f)]>0x0?Math[_0x62bef9(0x56f)](..._0x3107ea):_0x62bef9(0x6fa))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33d0f6+_0x62bef9(0x686);const _0xc9d2d6=document[_0x62bef9(0x36a)]('interesting-stats-wrapper');_0xc9d2d6&&_0xc9d2d6['remove']();const _0x4742eb=_0x62bef9(0x153);_0xbd9ac0[_0x62bef9(0x2a6)](_0x62bef9(0x5ff),_0x4742eb);const _0x411dab=currentProjectData[_0x62bef9(0x4cb)]||[];renderSubmissionChart(_0x2bb825,_0x197c20,_0x3e57d8,_0x411dab),renderScoreDistributionChart(_0x3e57d8,_0x35476d),renderQuestionAnalytics(_0x6dca42,_0x3e57d8,_0x411dab),renderInterestingStats(_0x6dca42,_0x3e57d8);}async function handleExportLessonPDF(){const _0x32909e=_0xd665bf,_0x5aada3=document[_0x32909e(0x36a)]('lesson-plan-content'),_0x2d3356=document['getElementById'](_0x32909e(0x6a9))['textContent'],_0x554511=window[_0x32909e(0x362)]('','_blank'),_0x46fde7=_0x32909e(0x393)+_0x2d3356+_0x32909e(0x5e9)+_0x5aada3['innerHTML']+_0x32909e(0x32a);_0x554511[_0x32909e(0x6c0)][_0x32909e(0x7b)](_0x46fde7),_0x554511[_0x32909e(0x6c0)][_0x32909e(0x7f1)](),_0x554511[_0x32909e(0x442)]=function(){setTimeout(()=>{_0x554511['print']();},0x5dc);};}function renderInterestingStats(_0x4f9b75,_0x47df8f){const _0x396b63=_0xd665bf,_0x15ce31=document[_0x396b63(0x36a)](_0x396b63(0x5d1));if(!_0x15ce31)return;if(_0x47df8f['length']===0x0){_0x15ce31['innerHTML']=_0x396b63(0x611);return;}const _0x3cc315=_0x4f9b75[_0x396b63(0xd2)][_0x396b63(0x6f9)]((_0x25589d,_0x32493a)=>({'index':_0x32493a+0x1,'text':_0x25589d[_0x396b63(0x551)]||_0x25589d['stem'],'correct':0x0}));_0x47df8f[_0x396b63(0x4be)](_0x465c88=>{const _0xbcb5d=_0x396b63,_0x13b23e=_0x465c88[_0xbcb5d(0x246)][_0x465c88[_0xbcb5d(0x246)][_0xbcb5d(0x30f)]-0x1];_0x13b23e&&_0x13b23e[_0xbcb5d(0x45c)]&&_0x13b23e[_0xbcb5d(0x45c)][_0xbcb5d(0x4be)](_0x937462=>{const _0x11d8a5=_0xbcb5d,_0x481a40=_0x3cc315[_0x11d8a5(0x5ec)](_0x296353=>_0x296353[_0x11d8a5(0x163)]===_0x937462[_0x11d8a5(0x54a)]);_0x937462['isCorrect']&&_0x481a40&&_0x481a40[_0x11d8a5(0x47d)]++;});});const _0x21cd58=_0x47df8f[_0x396b63(0x30f)],_0x3fef4c=Math[_0x396b63(0x5b0)](..._0x3cc315[_0x396b63(0x6f9)](_0x24866b=>_0x24866b[_0x396b63(0x47d)])),_0x5499bb=Math[_0x396b63(0x56f)](..._0x3cc315[_0x396b63(0x6f9)](_0x5aefc6=>_0x5aefc6[_0x396b63(0x47d)])),_0x5e19d7=_0x3cc315[_0x396b63(0x77f)](_0x58c4b0=>_0x58c4b0[_0x396b63(0x47d)]===_0x3fef4c)[_0x396b63(0x6f9)](_0x5918bd=>'ข้อ\x20'+_0x5918bd[_0x396b63(0x85)]),_0x26503d=_0x3cc315[_0x396b63(0x77f)](_0x2a5ba9=>_0x2a5ba9[_0x396b63(0x47d)]===_0x5499bb)[_0x396b63(0x6f9)](_0x4dccb0=>'ข้อ\x20'+_0x4dccb0[_0x396b63(0x85)]),_0x28be50=_0x47df8f[_0x396b63(0x4c5)]((_0x21b7f7,_0x3c60f5)=>_0x3c60f5[_0x396b63(0x4bf)]-_0x21b7f7[_0x396b63(0x4bf)])[_0x396b63(0x77f)]((_0x166ba9,_0x283713,_0x1585c2)=>_0x166ba9['latestScore']===_0x1585c2[0x0][_0x396b63(0x4bf)]),_0x267fdf=_0x47df8f[_0x396b63(0x4c5)]((_0x3928d0,_0x4f54f8)=>_0x3928d0[_0x396b63(0x4bf)]-_0x4f54f8[_0x396b63(0x4bf)])['filter']((_0x4a3c97,_0x23c01b,_0xad1164)=>_0x4a3c97[_0x396b63(0x4bf)]===_0xad1164[0x0][_0x396b63(0x4bf)]),_0x4ec2f6=_0x396b63(0x208)+_0x5e19d7[_0x396b63(0x2da)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x3fef4c+_0x396b63(0x54b)+_0x21cd58+_0x396b63(0x190)+_0x26503d[_0x396b63(0x2da)](',\x20')+_0x396b63(0x776)+(_0x21cd58-_0x5499bb)+_0x396b63(0x54b)+_0x21cd58+_0x396b63(0xac)+_0x28be50[_0x396b63(0x6f9)](_0x45dc8a=>_0x45dc8a[_0x396b63(0x724)])[_0x396b63(0x2da)](',\x20')+_0x396b63(0x103)+_0x28be50[0x0][_0x396b63(0x4bf)]+_0x396b63(0x5ee)+_0x267fdf[_0x396b63(0x6f9)](_0x12d686=>_0x12d686['studentName'])[_0x396b63(0x2da)](',\x20')+_0x396b63(0x103)+_0x267fdf[0x0][_0x396b63(0x4bf)]+_0x396b63(0x3d0);_0x15ce31[_0x396b63(0xed)]=_0x4ec2f6;}function renderSubmissionChart(_0xf89a3e,_0x31dc37,_0x312666,_0x2dc338){const _0x15b9f8=_0xd665bf,_0x48c883=document['getElementById'](_0x15b9f8(0x33a))[_0x15b9f8(0x179)]('2d'),_0x4c1f5c=_0x312666[_0x15b9f8(0x6f9)](_0x5370e6=>_0x5370e6[_0x15b9f8(0x724)]),_0x2bcbe4=_0x2dc338['filter'](_0x263236=>!_0x4c1f5c[_0x15b9f8(0x13e)](_0x263236));chartInstances[_0x15b9f8(0x5c7)]&&chartInstances[_0x15b9f8(0x5c7)][_0x15b9f8(0xb0)](),chartInstances[_0x15b9f8(0x5c7)]=new Chart(_0x48c883,{'type':_0x15b9f8(0x29a),'data':{'labels':[_0x15b9f8(0x72c),_0x15b9f8(0x264)],'datasets':[{'data':[_0xf89a3e,_0x31dc37],'backgroundColor':[_0x15b9f8(0x24b),_0x15b9f8(0x45b)],'borderColor':[_0x15b9f8(0x49e),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x15b9f8(0x532)},'tooltip':{'callbacks':{'label':function(_0x25a70e){const _0x147c58=_0x15b9f8;let _0xdde1f=_0x25a70e[_0x147c58(0x7db)]||'';return _0xdde1f&&(_0xdde1f+=':\x20'),_0xdde1f+=_0x25a70e[_0x147c58(0xb2)],_0xdde1f;},'afterLabel':function(_0x1096cf){const _0x2d4bab=_0x15b9f8;let _0x3bf57a;return _0x1096cf['dataIndex']===0x0?_0x3bf57a=_0x4c1f5c:_0x3bf57a=_0x2bcbe4,_0x3bf57a[_0x2d4bab(0x30f)]>0x0?_0x3bf57a[_0x2d4bab(0x2da)]('\x0a'):_0x2d4bab(0x5f5);}}}}}});}function renderScoreDistributionChart(_0x4f84f6,_0x53f118){const _0x5e06fd=_0xd665bf,_0x26464e=document[_0x5e06fd(0x36a)](_0x5e06fd(0x72a))['getContext']('2d'),_0x266bb7={};for(let _0x4edddf=0x0;_0x4edddf<=_0x53f118;_0x4edddf++){_0x266bb7[_0x4edddf]=0x0;}_0x4f84f6[_0x5e06fd(0x4be)](_0x3fc107=>{const _0x35edfe=_0x5e06fd;_0x266bb7[_0x3fc107[_0x35edfe(0x4bf)]]!==undefined&&_0x266bb7[_0x3fc107[_0x35edfe(0x4bf)]]++;}),chartInstances[_0x5e06fd(0x673)]&&chartInstances[_0x5e06fd(0x673)][_0x5e06fd(0xb0)](),chartInstances[_0x5e06fd(0x673)]=new Chart(_0x26464e,{'type':'bar','data':{'labels':Object['keys'](_0x266bb7),'datasets':[{'label':_0x5e06fd(0x3fa),'data':Object[_0x5e06fd(0x3d2)](_0x266bb7),'backgroundColor':_0x5e06fd(0x89),'borderColor':_0x5e06fd(0x665),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x5e06fd(0x598)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x1552d9){const _0x182a29=_0x5e06fd,_0x5a0ebe=_0x1552d9[_0x182a29(0x7db)],_0x1188dd=_0x4f84f6[_0x182a29(0x77f)](_0x17b353=>_0x17b353['latestScore']==_0x5a0ebe)['map'](_0x476a75=>_0x476a75[_0x182a29(0x724)]);return _0x1188dd['length']>0x0?_0x1188dd[_0x182a29(0x2da)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x304835,_0x2acefb,_0x24ca5d){const _0x532c6c=_0xd665bf,_0x1a4a7f=document[_0x532c6c(0x36a)](_0x532c6c(0x5f7));if(_0x24ca5d[_0x532c6c(0x30f)]===0x0){_0x1a4a7f['innerHTML']=_0x532c6c(0x771);return;}const _0x117857=calculateItemAnalysis(_0x304835,_0x2acefb),_0x1aa0fd=calculateDistractorAnalysis(_0x304835,_0x2acefb);let _0x2f01c8='';_0x117857[_0x532c6c(0x514)]&&(_0x2f01c8=_0x532c6c(0x108)+_0x117857['overallGroups']['upperGroupNames'][_0x532c6c(0x30f)]+_0x532c6c(0x2a1)+_0x117857[_0x532c6c(0x514)]['upperGroupNames'][_0x532c6c(0x6f9)](_0x2d94d6=>_0x532c6c(0x305)+_0x2d94d6+_0x532c6c(0x3a9))[_0x532c6c(0x2da)]('')+_0x532c6c(0x13b)+_0x117857[_0x532c6c(0x514)][_0x532c6c(0x320)][_0x532c6c(0x30f)]+_0x532c6c(0x2a1)+_0x117857[_0x532c6c(0x514)][_0x532c6c(0x320)][_0x532c6c(0x6f9)](_0x142621=>'<li>'+_0x142621+'</li>')[_0x532c6c(0x2da)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x4cd765='';const _0x5c4101=_0x2acefb[_0x532c6c(0x6f9)](_0x11bbe0=>_0x11bbe0[_0x532c6c(0x724)]),_0x555526=_0x1d3bec=>{const _0x445d55=_0x532c6c;if(_0x1d3bec>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x1d3bec>=0.6)return _0x445d55(0x17e);if(_0x1d3bec>=0.4)return _0x445d55(0x36d);if(_0x1d3bec>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x445d55(0x570);},_0x4d3bff=_0x2140e5=>{const _0x45534b=_0x532c6c;if(_0x2140e5<0x0)return _0x45534b(0x279);if(_0x2140e5>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x2140e5>=0.3)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>';if(_0x2140e5>=0.2)return _0x45534b(0x7b1);return _0x45534b(0x199);},_0x3d461c=_0x3a55af=>{const _0x22ef99=_0x532c6c,_0x3c4ae6=_0x3a55af[_0x22ef99(0x540)](0x0);if(parseFloat(_0x3c4ae6)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x3c4ae6+_0x22ef99(0x214);if(_0x3a55af>=0x32)return _0x22ef99(0x62f)+_0x3c4ae6+_0x22ef99(0x214);return _0x22ef99(0x759)+_0x3c4ae6+_0x22ef99(0x214);};_0x304835[_0x532c6c(0xd2)][_0x532c6c(0x4be)]((_0xbd8f75,_0xd2232f)=>{const _0x3f67fe=_0x532c6c,_0xe134f2=_0x117857[_0x3f67fe(0x86)][_0xd2232f],_0x4cad54=_0x1aa0fd[_0xd2232f],_0x5c7613=_0xbd8f75[_0x3f67fe(0x36f)]||_0xbd8f75[_0x3f67fe(0x551)]||_0xbd8f75[_0x3f67fe(0x47a)];let _0x4e8c69=0x0;const _0x203af2=[],_0x416459=[];_0x2acefb[_0x3f67fe(0x4be)](_0x52f2c2=>{const _0x5ddedf=_0x3f67fe,_0x4d0650=_0x52f2c2[_0x5ddedf(0x246)][_0x52f2c2[_0x5ddedf(0x246)][_0x5ddedf(0x30f)]-0x1];if(_0x4d0650&&_0x4d0650['answers']){const _0x4f2f90=_0x4d0650[_0x5ddedf(0x45c)]['find'](_0x533262=>_0x533262[_0x5ddedf(0x54a)]===_0x5c7613)??_0x4d0650[_0x5ddedf(0x45c)][_0xd2232f]??null;_0x4f2f90&&(_0x4f2f90[_0x5ddedf(0x558)]?(_0x4e8c69++,_0x203af2[_0x5ddedf(0x27c)](_0x52f2c2[_0x5ddedf(0x724)])):_0x416459['push'](_0x52f2c2['studentName']));}});const _0x42a7c3=_0x2acefb[_0x3f67fe(0x30f)]>0x0?_0x4e8c69/_0x2acefb[_0x3f67fe(0x30f)]*0x64:0x0,_0x1f38de=_0x24ca5d[_0x3f67fe(0x77f)](_0x321469=>!_0x5c4101[_0x3f67fe(0x13e)](_0x321469)),_0x40db3c=_0xe134f2?_0x3f67fe(0x23e)+_0xe134f2['p'][_0x3f67fe(0x540)](0x2)+_0x3f67fe(0x856)+_0x555526(_0xe134f2['p'])+_0x3f67fe(0xb7)+_0xe134f2['r'][_0x3f67fe(0x540)](0x2)+'</p><div>'+_0x4d3bff(_0xe134f2['r'])+_0x3f67fe(0x366)+_0x3d461c(_0x42a7c3)+_0x3f67fe(0x470):'';let _0x1e0895='';_0x4cad54&&(_0x1e0895=_0x3f67fe(0x672)+Object[_0x3f67fe(0x7bb)](_0x4cad54)[_0x3f67fe(0x6f9)](_0x1fb0ad=>{const _0x6bb1c8=_0x3f67fe,_0xd48c4b=_0x4cad54[_0x1fb0ad],_0x3435df=parseInt(_0x1fb0ad)===_0xbd8f75['correctAnswerIndex'],_0x46004b=!_0x3435df&&_0xd48c4b[_0x6bb1c8(0x1ea)]>_0xd48c4b[_0x6bb1c8(0x7b7)];return _0x6bb1c8(0x674)+(_0x3435df?_0x6bb1c8(0x70f):'')+_0x6bb1c8(0x79d)+(_0x3435df?'✔\x20':'')+_0xd48c4b[_0x6bb1c8(0x163)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0xd48c4b['upper_group_count']+_0x6bb1c8(0x646)+_0xd48c4b[_0x6bb1c8(0x1ea)]+'\x20'+(_0x46004b?'👍':'')+_0x6bb1c8(0x646)+_0xd48c4b[_0x6bb1c8(0x436)]+_0x6bb1c8(0x6cf);})[_0x3f67fe(0x2da)]('')+_0x3f67fe(0x3e5));let _0x59c0be='';_0xe134f2&&_0xe134f2[_0x3f67fe(0x850)]&&(_0x59c0be=_0x3f67fe(0x297)+_0xe134f2[_0x3f67fe(0x850)][_0x3f67fe(0x30f)]+_0x3f67fe(0x3a1)+_0xe134f2[_0x3f67fe(0x850)][_0x3f67fe(0x6f9)](_0x1474cc=>_0x3f67fe(0x305)+(_0x1474cc['isCorrect']?_0x3f67fe(0x6c3):_0x3f67fe(0x6b1))+'\x20'+_0x1474cc['name']+_0x3f67fe(0x3a9))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0xe134f2['lowerGroupResponders'][_0x3f67fe(0x30f)]+_0x3f67fe(0x3a1)+_0xe134f2['lowerGroupResponders'][_0x3f67fe(0x6f9)](_0x42d9f9=>_0x3f67fe(0x305)+(_0x42d9f9[_0x3f67fe(0x558)]?_0x3f67fe(0x6c3):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x42d9f9[_0x3f67fe(0x2cf)]+_0x3f67fe(0x3a9))[_0x3f67fe(0x2da)]('')+_0x3f67fe(0x55d)),_0x4cd765+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0xd2232f+0x1)+':\x20'+_0x5c7613+_0x3f67fe(0x73e)+_0x40db3c+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x5c7613+_0x3f67fe(0x6ca)+_0x4e8c69+_0x3f67fe(0x226)+_0x2acefb[_0x3f67fe(0x30f)]+_0x3f67fe(0x283)+_0x42a7c3['toFixed'](0x0)+_0x3f67fe(0x7a2)+_0x203af2[_0x3f67fe(0x30f)]+_0x3f67fe(0x1cd)+(_0x203af2['length']>0x0?_0x203af2[_0x3f67fe(0x2da)](',\x20'):_0x3f67fe(0x5f5))+_0x3f67fe(0x704)+_0x416459[_0x3f67fe(0x30f)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x416459[_0x3f67fe(0x30f)]>0x0?_0x416459[_0x3f67fe(0x2da)](',\x20'):_0x3f67fe(0x5f5))+_0x3f67fe(0x7f9)+_0x1f38de[_0x3f67fe(0x30f)]+_0x3f67fe(0x1cd)+(_0x1f38de[_0x3f67fe(0x30f)]>0x0?_0x1f38de[_0x3f67fe(0x2da)](',\x20'):_0x3f67fe(0x5f5))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e0895+_0x3f67fe(0x334)+_0x59c0be+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1a4a7f[_0x532c6c(0xed)]=_0x2f01c8+_0x4cd765;try{window[_0x532c6c(0x6ea)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x1a4a7f]);}catch(_0x3e93bd){console[_0x532c6c(0x3ef)]('MathJax\x20typeset\x20error\x20(analytics):',_0x3e93bd);}}function calculateDistractorAnalysis(_0x363156,_0x33512c){const _0x5dc5f0=_0xd665bf,_0x3a10db={};if(_0x33512c[_0x5dc5f0(0x30f)]<0x2)return _0x3a10db;const _0x3c71a3=[..._0x33512c][_0x5dc5f0(0x4c5)]((_0xf9bd05,_0x1c80f4)=>{const _0x3703fb=_0x5dc5f0,_0x4423b8=_0x1c80f4['latestScore']-_0xf9bd05[_0x3703fb(0x4bf)];if(_0x4423b8!==0x0)return _0x4423b8;const _0x16b2d2=_0xf9bd05[_0x3703fb(0x246)]?.['length']||0x1,_0x4c79ea=_0x1c80f4[_0x3703fb(0x246)]?.[_0x3703fb(0x30f)]||0x1,_0x32a22b=_0x16b2d2-_0x4c79ea;if(_0x32a22b!==0x0)return _0x32a22b;const _0xcb9a82=new Date(_0xf9bd05[_0x3703fb(0x61c)]),_0x8eb352=new Date(_0x1c80f4['latestSubmittedAt']),_0x2143ed=_0xcb9a82-_0x8eb352;if(_0x2143ed!==0x0)return _0x2143ed;return _0xf9bd05[_0x3703fb(0x724)]['localeCompare'](_0x1c80f4[_0x3703fb(0x724)],'th');}),_0x4256ab=_0x3c71a3[_0x5dc5f0(0x30f)],_0x385f5c=Math[_0x5dc5f0(0x5b0)](0x1,Math[_0x5dc5f0(0x44e)](_0x4256ab*0.33)),_0x5593ef=_0x3c71a3[_0x5dc5f0(0x26b)](0x0,_0x385f5c),_0x546937=_0x3c71a3[_0x5dc5f0(0x26b)](-_0x385f5c);return _0x363156['questions']['forEach']((_0x5e997d,_0x52f358)=>{const _0x2abeed=_0x5dc5f0;if(_0x5e997d[_0x2abeed(0x2ca)]!==_0x2abeed(0x4ba)||!_0x5e997d[_0x2abeed(0x63d)])return;const _0x35b061=_0x5e997d[_0x2abeed(0x551)],_0x1c59e5={};_0x5e997d[_0x2abeed(0x63d)]['forEach']((_0x574a90,_0x2d804c)=>{_0x1c59e5[_0x2d804c]={'text':_0x574a90,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3c71a3[_0x2abeed(0x4be)](_0x138b78=>{const _0x5412b4=_0x2abeed,_0x59d8aa=_0x138b78[_0x5412b4(0x246)][_0x138b78[_0x5412b4(0x246)][_0x5412b4(0x30f)]-0x1],_0x57c6c0=_0x59d8aa[_0x5412b4(0x45c)][_0x5412b4(0x5ec)](_0xee8209=>_0xee8209[_0x5412b4(0x54a)]===_0x35b061);if(_0x57c6c0&&_0x57c6c0[_0x5412b4(0x212)]!==null){const _0x8fd345=_0x5e997d[_0x5412b4(0x63d)][_0x5412b4(0x239)](_0x30d52c=>_0x30d52c===_0x57c6c0[_0x5412b4(0x488)]);_0x8fd345!==-0x1&&_0x1c59e5[_0x8fd345]&&(_0x1c59e5[_0x8fd345]['total']++,_0x5593ef['includes'](_0x138b78)&&_0x1c59e5[_0x8fd345][_0x5412b4(0x7b7)]++,_0x546937[_0x5412b4(0x13e)](_0x138b78)&&_0x1c59e5[_0x8fd345][_0x5412b4(0x1ea)]++);}}),_0x3a10db[_0x52f358]=_0x1c59e5;}),_0x3a10db;}function calculateReliabilityKR20(_0xd717c8,_0x300eef,_0x550247){const _0x575965=_0xd665bf,_0x1ef5d8=_0xd717c8['questions']['length'];if(_0x1ef5d8<0x2||_0x300eef[_0x575965(0x30f)]<0x2)return null;const _0x1c8451=_0x300eef[_0x575965(0x6f9)](_0x6ea7df=>_0x6ea7df[_0x575965(0x4bf)]),_0x556184=_0x1c8451[_0x575965(0x707)]((_0x5d1c97,_0x2c4861)=>_0x5d1c97+_0x2c4861,0x0)/_0x1c8451[_0x575965(0x30f)],_0x9042a7=_0x1c8451[_0x575965(0x6f9)](_0x16bd1b=>Math[_0x575965(0x4df)](_0x16bd1b-_0x556184,0x2))[_0x575965(0x707)]((_0x4d6a96,_0x3df2d9)=>_0x4d6a96+_0x3df2d9,0x0)/_0x1c8451[_0x575965(0x30f)];if(_0x9042a7===0x0)return null;let _0x1d7fe3=0x0;for(let _0xf03e3e=0x0;_0xf03e3e<_0x1ef5d8;_0xf03e3e++){const _0x894205=_0x550247[_0xf03e3e]?.['p'];if(_0x894205===undefined)continue;const _0x5dece9=0x1-_0x894205;_0x1d7fe3+=_0x894205*_0x5dece9;}if(_0x1d7fe3===0x0)return null;const _0x25e0d6=_0x1ef5d8/(_0x1ef5d8-0x1)*(0x1-_0x1d7fe3/_0x9042a7);if(_0x25e0d6>0x1)return null;return _0x25e0d6;}async function handleAnalyzeClass(){const _0xcbecf8=_0xd665bf;if(!currentQuizData||!currentQuizData['id']){showMessage(_0xcbecf8(0x12b));return;}const _0x1f9aa8=collection(db,_0xcbecf8(0x3bf)+appId+_0xcbecf8(0x187)+currentQuizData['id']+_0xcbecf8(0x519)),_0x3c3314=await getDocs(_0x1f9aa8),_0x56375a=_0x3c3314['docs']['map'](_0x4e4b3b=>_0x4e4b3b[_0xcbecf8(0x6a1)]());if(_0x56375a['length']<0x2){showMessage(_0xcbecf8(0x49d));return;}const _0x510479=document['getElementById']('strength-weakness-analysis-container');_0x510479[_0xcbecf8(0xed)]=_0xcbecf8(0x1ba),document[_0xcbecf8(0x36a)]('analyze-strengths-btn')[_0xcbecf8(0x526)]=!![];const _0x5559ff=_0x56375a[_0xcbecf8(0x6f9)]((_0x40e0ad,_0x3cc012)=>{const _0xddbeef=_0xcbecf8,_0x51f205=_0x40e0ad[_0xddbeef(0x246)][_0x40e0ad[_0xddbeef(0x246)][_0xddbeef(0x30f)]-0x1];if(!_0x51f205)return'';return _0xddbeef(0x478)+(_0x3cc012+0x1)+'\x20('+_0x40e0ad[_0xddbeef(0x724)]+_0xddbeef(0x209)+_0x51f205[_0xddbeef(0x673)]+'/'+_0x40e0ad['totalQuestions']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0xddbeef(0x5b7)](_0x51f205[_0xddbeef(0x45c)])+_0xddbeef(0x79b);})[_0xcbecf8(0x2da)](_0xcbecf8(0x577)),_0x5dcf36=_0xcbecf8(0x512)+currentQuizData['topic']+_0xcbecf8(0x128)+JSON[_0xcbecf8(0x5b7)](currentQuizData[_0xcbecf8(0xd2)])+_0xcbecf8(0x596)+_0x5559ff+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0xf810dd={'type':_0xcbecf8(0x5b3),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0xcbecf8(0x427)}},'classWeaknesses':{'type':_0xcbecf8(0x5f0),'items':{'type':_0xcbecf8(0x427)}},'teacherSuggestions':{'type':_0xcbecf8(0x5f0),'items':{'type':_0xcbecf8(0x427)}}},'required':['classStrengths',_0xcbecf8(0x7de),_0xcbecf8(0x306)]};try{const _0x5e3f2a=await callAnalysisApi(_0x5dcf36,_0xf810dd);displayClassAnalysis(_0x5e3f2a);}catch(_0x585f98){console[_0xcbecf8(0x3ef)](_0xcbecf8(0x825),_0x585f98),_0x510479[_0xcbecf8(0xed)]=_0xcbecf8(0x26c)+_0x585f98[_0xcbecf8(0x4e5)]+_0xcbecf8(0x750);}finally{document[_0xcbecf8(0x36a)](_0xcbecf8(0x318))[_0xcbecf8(0x526)]=![];}}function displayClassAnalysis(_0x13b8b3){const _0x51f98c=_0xd665bf,_0x5dd9af=document[_0x51f98c(0x36a)](_0x51f98c(0x56e));if(!_0x13b8b3){_0x5dd9af[_0x51f98c(0xed)]=_0x51f98c(0x249);return;}_0x5dd9af[_0x51f98c(0xed)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13b8b3[_0x51f98c(0x4e1)][_0x51f98c(0x6f9)](_0x56d868=>_0x51f98c(0x305)+_0x56d868+_0x51f98c(0x3a9))[_0x51f98c(0x2da)]('')+_0x51f98c(0x1d6)+_0x13b8b3[_0x51f98c(0x7de)]['map'](_0x51f343=>_0x51f98c(0x305)+_0x51f343+_0x51f98c(0x3a9))[_0x51f98c(0x2da)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13b8b3[_0x51f98c(0x306)][_0x51f98c(0x6f9)](_0x2ccdfe=>'<li>'+_0x2ccdfe+'</li>')[_0x51f98c(0x2da)]('')+_0x51f98c(0x741);}function formatAndPrintWorksheet(_0x357cc3,_0x51ae8d){const _0xb23816=_0xd665bf,_0x1bf5ad='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x357cc3[_0xb23816(0x4bb)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x357cc3[_0xb23816(0x4bb)]+_0xb23816(0x64f)+_0x357cc3[_0xb23816(0xd2)]['map']((_0x7add5d,_0x4f056b)=>_0xb23816(0x80c)+(_0x4f056b+0x1)+'.\x20'+_0x7add5d[_0xb23816(0x551)]+_0xb23816(0x1b0)+(_0x7add5d['imageCode']?_0xb23816(0x507)+_0x7add5d[_0xb23816(0x404)]+_0xb23816(0x4d2):'')+_0xb23816(0x7f4))[_0xb23816(0x2da)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x51ae8d[_0xb23816(0x6c0)]['write'](_0x1bf5ad),_0x51ae8d[_0xb23816(0x6c0)][_0xb23816(0x7f1)](),_0x51ae8d[_0xb23816(0x442)]=function(){setTimeout(()=>{const _0x41084b=_0x1faf;_0x51ae8d[_0x41084b(0x111)]();},0x3e8);};}async function generateWorksheet(){const _0xf6ae23=_0xd665bf,_0x590b8f=document[_0xf6ae23(0x36a)](_0xf6ae23(0x36c))[_0xf6ae23(0x4fc)]['trim']();if(!_0x590b8f){showMessage(_0xf6ae23(0x367));return;}const _0x518854=document[_0xf6ae23(0x36a)]('force-math-checkbox')[_0xf6ae23(0x6d2)],_0x27d38e=_0x518854?'':'คณิตศาสตร์',_0x176356=window['open']('',_0xf6ae23(0x5f4));_0x176356[_0xf6ae23(0x6c0)][_0xf6ae23(0x7b)]('<h1></h1>');const _0x5e38a8=parseInt(document[_0xf6ae23(0x36a)](_0xf6ae23(0x369))[_0xf6ae23(0x4fc)]),_0xa9a4ea=document['getElementById'](_0xf6ae23(0x7cc))[_0xf6ae23(0x6d2)],_0x1d5bad=_0xa9a4ea?_0xf6ae23(0x1e2):'',_0x442de1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x27d38e+_0xf6ae23(0x538)+_0x5e38a8+_0xf6ae23(0x368)+_0x590b8f+_0xf6ae23(0x5d3)+_0x1d5bad+_0xf6ae23(0x55c)+simpleMathPrompt+_0xf6ae23(0x27f),_0x177b9e={'type':_0xf6ae23(0x5b3),'properties':{'topic':{'type':_0xf6ae23(0x427)},'questions':{'type':_0xf6ae23(0x5f0),'items':{'type':_0xf6ae23(0x5b3),'properties':{'questionText':{'type':_0xf6ae23(0x427)},'imageCode':{'type':_0xf6ae23(0x427)}},'required':[_0xf6ae23(0x551)]}}},'required':['topic',_0xf6ae23(0xd2)]};document[_0xf6ae23(0x36a)](_0xf6ae23(0x2cb))[_0xf6ae23(0x41b)]='',document[_0xf6ae23(0x36a)]('loader')[_0xf6ae23(0x1e4)][_0xf6ae23(0x52c)](_0xf6ae23(0x544)),document[_0xf6ae23(0x36a)]('quiz-generation-area')[_0xf6ae23(0x1e4)][_0xf6ae23(0x52c)](_0xf6ae23(0x544)),generateWorksheetBtn['disabled']=!![];try{const _0x501385=await callAnalysisApi(_0x442de1,_0x177b9e);formatAndPrintWorksheet(_0x501385,_0x176356);}catch(_0x4aa2d8){console['error']('Error\x20generating\x20worksheet:',_0x4aa2d8);if(_0x176356)_0x176356[_0xf6ae23(0x7f1)]();showMessage(_0xf6ae23(0x144));}finally{document[_0xf6ae23(0x36a)](_0xf6ae23(0x83c))[_0xf6ae23(0x1e4)][_0xf6ae23(0xff)](_0xf6ae23(0x544)),document[_0xf6ae23(0x36a)](_0xf6ae23(0x1b3))[_0xf6ae23(0x1e4)][_0xf6ae23(0xff)](_0xf6ae23(0x544)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x3bb779,_0x59b4a1){const _0x3a2b85=_0xd665bf,_0x1db242={'contents':[{'role':'user','parts':[{'text':_0x3bb779}]}],'generationConfig':{'responseMimeType':_0x3a2b85(0x1b5),'responseSchema':_0x59b4a1}},_0x4493e1=_0x3a2b85(0x32c),_0x4d8261=_0x3a2b85(0xbd)+_0x4493e1,_0x307899=await fetch(_0x4d8261,{'method':_0x3a2b85(0x347),'headers':{'Content-Type':'application/json'},'body':JSON[_0x3a2b85(0x5b7)](_0x1db242)});if(!_0x307899['ok'])throw new Error(_0x3a2b85(0x5a9)+_0x307899[_0x3a2b85(0x644)]);const _0x30ca1d=await _0x307899[_0x3a2b85(0x7a)]();if(_0x30ca1d[_0x3a2b85(0x1f4)]?.[0x0]?.[_0x3a2b85(0x3a8)]?.[_0x3a2b85(0x855)]?.[0x0])return JSON['parse'](_0x30ca1d[_0x3a2b85(0x1f4)][0x0][_0x3a2b85(0x3a8)][_0x3a2b85(0x855)][0x0][_0x3a2b85(0x163)]);else{let _0x20c0c8=_0x3a2b85(0x429);if(_0x30ca1d[_0x3a2b85(0x112)]?.[_0x3a2b85(0x6e8)])_0x20c0c8=_0x3a2b85(0x281)+_0x30ca1d[_0x3a2b85(0x112)]['blockReason']+'.';else _0x30ca1d[_0x3a2b85(0x1f4)]?.[0x0]?.[_0x3a2b85(0x55f)]&&_0x30ca1d[_0x3a2b85(0x1f4)][0x0][_0x3a2b85(0x55f)]!==_0x3a2b85(0x593)&&(_0x20c0c8=_0x3a2b85(0x2c0)+_0x30ca1d['candidates'][0x0][_0x3a2b85(0x55f)]+'.');console[_0x3a2b85(0x3ef)](_0x20c0c8,JSON['stringify'](_0x30ca1d));throw new Error(_0x20c0c8);}}initialize();
