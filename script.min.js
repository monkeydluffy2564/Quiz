const _0x4b15a0=_0x33c9;(function(_0xebf739,_0x5e33a9){const _0x2c2c92=_0x33c9,_0x183734=_0xebf739();while(!![]){try{const _0x1aa3dc=-parseInt(_0x2c2c92(0x7bd))/0x1+-parseInt(_0x2c2c92(0xa51))/0x2+-parseInt(_0x2c2c92(0x5db))/0x3*(-parseInt(_0x2c2c92(0x913))/0x4)+-parseInt(_0x2c2c92(0xc7d))/0x5*(parseInt(_0x2c2c92(0x77c))/0x6)+parseInt(_0x2c2c92(0x252))/0x7+parseInt(_0x2c2c92(0x890))/0x8+parseInt(_0x2c2c92(0xd29))/0x9;if(_0x1aa3dc===_0x5e33a9)break;else _0x183734['push'](_0x183734['shift']());}catch(_0x43e8d1){_0x183734['push'](_0x183734['shift']());}}}(_0x4bd2,0x58692));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=['นักล่าฝัน',_0x4b15a0(0xdf9),'เทพทรู',_0x4b15a0(0xd2f),'นกฮูกกลางวัน',_0x4b15a0(0xc52),_0x4b15a0(0xcb8),_0x4b15a0(0x1d1),_0x4b15a0(0x3e7),_0x4b15a0(0xa19),_0x4b15a0(0x5cf),_0x4b15a0(0x80a),'เงาปริศนา',_0x4b15a0(0x2df),_0x4b15a0(0x384),_0x4b15a0(0x430),'นินจาชาเขียว',_0x4b15a0(0x81f),'โจรสลัดอวกาศ',_0x4b15a0(0x937),_0x4b15a0(0x2b1),_0x4b15a0(0xa16),'ปลาทูคะนอง',_0x4b15a0(0xcbc),_0x4b15a0(0x602),_0x4b15a0(0x2dd),_0x4b15a0(0xaea),_0x4b15a0(0x6f9),_0x4b15a0(0x7d5),_0x4b15a0(0x456),_0x4b15a0(0x6d4),'สายลับจับบ้านเล็ก',_0x4b15a0(0x9e3),_0x4b15a0(0x5cc),_0x4b15a0(0x67c),_0x4b15a0(0xb83),_0x4b15a0(0x865),'อินฟลูเอนเซอร์',_0x4b15a0(0x239),_0x4b15a0(0xac9),_0x4b15a0(0x8d9),'ชาไข่มุก',_0x4b15a0(0x214),_0x4b15a0(0x1c2),_0x4b15a0(0x974),_0x4b15a0(0x9d7),_0x4b15a0(0x21a),_0x4b15a0(0x3ff),_0x4b15a0(0xa24),_0x4b15a0(0x5b8),'สายตาสั้น',_0x4b15a0(0x1fd),'ออฟฟิศซินโดรม',_0x4b15a0(0x633),_0x4b15a0(0x4b3),_0x4b15a0(0xb21),_0x4b15a0(0x305),_0x4b15a0(0x702),'404\x20Not\x20Found',_0x4b15a0(0xbb8),_0x4b15a0(0x219),_0x4b15a0(0xc32),_0x4b15a0(0x49c),_0x4b15a0(0xeb5),'ดวงดาว',_0x4b15a0(0x74a),'ทะเล',_0x4b15a0(0x70b),_0x4b15a0(0x4e4),_0x4b15a0(0x76a),_0x4b15a0(0x8db),_0x4b15a0(0x7dd),_0x4b15a0(0xcc5),_0x4b15a0(0x8e0),_0x4b15a0(0xb09),'นักเขียน',_0x4b15a0(0x52c),_0x4b15a0(0x4a9),_0x4b15a0(0xda1),_0x4b15a0(0x665),_0x4b15a0(0x82f),_0x4b15a0(0x824),_0x4b15a0(0xbed),_0x4b15a0(0x52e),_0x4b15a0(0x93c),'คาถาแยกเงาพันร่าง',_0x4b15a0(0xa8d),_0x4b15a0(0xda6),_0x4b15a0(0xc91),_0x4b15a0(0x94c),_0x4b15a0(0x55a),_0x4b15a0(0x9de),_0x4b15a0(0x371),_0x4b15a0(0xb25),_0x4b15a0(0xcef),'คู่จิ้น',_0x4b15a0(0x2b3),_0x4b15a0(0x7af),'สถานะไม่ชัดเจน','มูเตลู'];let lastSeenQuestionIndex=-0x1,clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x4b15a0(0x2d8),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId='all',parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x4b15a0(0x2d8),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x4963c2=_0x4b15a0;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x4963c2(0xe6b)]['request']('screen'),console[_0x4963c2(0xe84)](_0x4963c2(0x1ee)),wakeLock[_0x4963c2(0x95a)](_0x4963c2(0x25f),()=>{const _0x1f312=_0x4963c2;console[_0x1f312(0xe84)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x42a71a){console[_0x4963c2(0x7cd)](_0x4963c2(0x676)+_0x42a71a[_0x4963c2(0x757)]+',\x20'+_0x42a71a[_0x4963c2(0x81b)]);}else console[_0x4963c2(0xc65)](_0x4963c2(0xdc4));},releaseWakeLock=async()=>{const _0x43ee22=_0x4b15a0;wakeLock!==null&&(await wakeLock[_0x43ee22(0x25f)](),wakeLock=null,console[_0x43ee22(0xe84)](_0x43ee22(0x403)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x395e18=_0x4b15a0;if(!document['body'][_0x395e18(0xbd3)][_0x395e18(0x959)](_0x395e18(0x2ce))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x470bb9=_0x395e18;document['body'][_0x470bb9(0xbd3)][_0x470bb9(0x72b)](_0x470bb9(0x2ce)),console[_0x470bb9(0xe84)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}}function wakeUpScreen(_0x36a566){const _0x551bbc=_0x4b15a0;_0x36a566&&(_0x36a566['stopPropagation'](),_0x36a566[_0x551bbc(0xb5c)]());document[_0x551bbc(0xecd)][_0x551bbc(0xbd3)][_0x551bbc(0x5f4)](_0x551bbc(0x2ce));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x2625b9=_0x551bbc;document['body']['classList'][_0x2625b9(0x72b)](_0x2625b9(0x2ce));},inactivityTime);}function stopDimTimer(){const _0x5ac762=_0x4b15a0;if(dimTimer)clearTimeout(dimTimer);document[_0x5ac762(0xecd)][_0x5ac762(0xbd3)]['remove'](_0x5ac762(0x2ce)),window[_0x5ac762(0x28b)](_0x5ac762(0x73a),resetDimTimer),window['removeEventListener'](_0x5ac762(0xdc5),resetDimTimer),window['removeEventListener'](_0x5ac762(0x9da),resetDimTimer),window[_0x5ac762(0x28b)](_0x5ac762(0xdea),resetDimTimer),console[_0x5ac762(0xe84)](_0x5ac762(0x674));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x4700e6,_0x10152f=![]){const _0x1fa081=_0x4b15a0,_0x9312dc=allQuizzes[_0x1fa081(0x59d)](_0xad847d=>_0xad847d['id']===_0x4700e6)||allQuizzesGlobal[_0x1fa081(0x59d)](_0x324f74=>_0x324f74['id']===_0x4700e6);if(!_0x9312dc){showMessage(_0x1fa081(0xad3));return;}currentQuizData=getShuffledQuiz(_0x9312dc);const _0x1ef06e=Math[_0x1fa081(0x426)](0x3e8+Math[_0x1fa081(0x7c9)]()*0x2328)['toString']();try{const _0x47c1b7=await addDoc(collection(db,_0x1fa081(0xc4a)+appId+_0x1fa081(0xebe)),{'quizId':_0x9312dc['id'],'projectId':_0x9312dc[_0x1fa081(0xa0f)],'status':_0x1fa081(0xa70),'pin':_0x1ef06e,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x10152f});currentTeamQuizId=_0x47c1b7['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x1ef06e,_0x9312dc[_0x1fa081(0x257)]),listenForTeamQuizUpdates();}catch(_0x70cdf5){console[_0x1fa081(0x7cd)](_0x1fa081(0x4f7),_0x70cdf5),showMessage(_0x1fa081(0x407));}}function renderAdminTeamQuizDashboard(_0x53b6b4,_0x171060,_0x4108fe=_0x4b15a0(0x975)){const _0x5aec40=_0x4b15a0,_0x3b2dc5=_0x4108fe===_0x5aec40(0xe59)?_0x5aec40(0x836):_0x5aec40(0x366);liveGameView['innerHTML']=_0x5aec40(0x557)+_0x3b2dc5+':\x20'+_0x171060+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x53b6b4+_0x5aec40(0xb97),document[_0x5aec40(0xb9f)](_0x5aec40(0x25e))['addEventListener'](_0x5aec40(0xd6c),async()=>{const _0xbbca2f=_0x5aec40;showConfirmation(_0xbbca2f(0xcd0),async()=>{const _0x1f889d=_0xbbca2f;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x1f889d(0xc4a)+appId+_0x1f889d(0xebe),currentTeamQuizId)),showView(_0x1f889d(0x2c6));});});}function listenForTeamQuizUpdates(){const _0x2bd161=_0x4b15a0;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x54643e=doc(db,_0x2bd161(0xc4a)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x54643e,_0x49361f=>{const _0x420f33=_0x2bd161;if(!_0x49361f[_0x420f33(0x37f)]()){sessionStorage[_0x420f33(0x2fd)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView('project-detail'):showView(_0x420f33(0x441));return;}const _0x97f06c=_0x49361f[_0x420f33(0x7f7)]();if(currentMode==='admin'){if(_0x97f06c['mode']==='group'&&_0x97f06c[_0x420f33(0x58b)]!=='podium'&&_0x97f06c[_0x420f33(0x58b)]!==_0x420f33(0x457)){const _0x3b854d=Object['values'](_0x97f06c[_0x420f33(0xbeb)]||{});if(_0x3b854d[_0x420f33(0x8da)]>0x0){const _0x3c12cb=_0x3b854d[_0x420f33(0x500)](_0x29b11c=>_0x29b11c[_0x420f33(0x335)]===!![]);_0x3c12cb&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x97f06c);}else{if(_0x97f06c[_0x420f33(0x58b)]==='podium'||_0x97f06c[_0x420f33(0x58b)]==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x97f06c[_0x420f33(0x884)]===_0x420f33(0xe59)){const _0x378111=_0x97f06c[_0x420f33(0xbeb)][userId];(!_0x378111||!_0x378111[_0x420f33(0x335)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x121b44){const _0xc63293=_0x4b15a0;console[_0xc63293(0xe84)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x1489ca=doc(db,_0xc63293(0xc4a)+appId+_0xc63293(0xebe),_0x121b44);try{const _0x1f1dd4=await getDoc(_0x1489ca);if(_0x1f1dd4['exists']()){const _0x12d2df=_0x1f1dd4[_0xc63293(0x7f7)]();_0x12d2df[_0xc63293(0x320)]&&await saveGameResultsAsSubmissions(_0x12d2df);}await updateDoc(_0x1489ca,{'status':'podium'});}catch(_0x7612be){console[_0xc63293(0x7cd)](_0xc63293(0x61b),_0x7612be);}}function updateAdminTeamDashboard(_0x1e3cf9){const _0x56de11=_0x4b15a0,_0x4f90d3=document[_0x56de11(0xb9f)](_0x56de11(0x272));if(!_0x4f90d3)return;const _0x569efb=_0x1e3cf9[_0x56de11(0x884)]||'team',_0x3d6dce=currentQuizData[_0x56de11(0xa09)][_0x56de11(0x8da)];if(_0x569efb===_0x56de11(0xe59)){const _0x51611e=Object[_0x56de11(0x4a0)](_0x1e3cf9[_0x56de11(0xbeb)]||{});if(_0x51611e['length']===0x0){_0x4f90d3[_0x56de11(0x7fc)]=_0x56de11(0xd33);return;}const _0x3b97e9=[..._0x51611e]['sort']((_0x410026,_0x40aab8)=>_0x40aab8[_0x56de11(0x7e2)]-_0x410026['score']),_0x467faa=_0x3b97e9[_0x56de11(0xa0d)]((_0x2bd378,_0x82fbb5)=>{const _0x4451b7=_0x56de11,_0x1d5a07=_0x2bd378[_0x4451b7(0x80b)]?.[_0x4451b7(0x8da)]||0x0;return _0x4451b7(0x499)+(_0x82fbb5+0x1)+_0x4451b7(0x778)+_0x2bd378[_0x4451b7(0xc42)][_0x4451b7(0x510)](',\x20')+_0x4451b7(0xd69)+_0x1d5a07+'/'+_0x3d6dce+_0x4451b7(0x413)+_0x2bd378[_0x4451b7(0x7e2)]+_0x4451b7(0x9be);})['join'](''),_0x40edd8=currentQuizData[_0x56de11(0xa09)]['map']((_0x1002d7,_0x207854)=>{const _0x48f11d=_0x56de11;let _0xb4bd32=0x0,_0x1eb203=0x0;_0x51611e['forEach'](_0x52637f=>{const _0x31d42d=_0x33c9,_0x34e735=_0x52637f[_0x31d42d(0x80b)]?.['find'](_0xc05485=>_0xc05485[_0x31d42d(0x5c7)]===_0x207854);if(_0x34e735){_0x1eb203++;if(_0x34e735[_0x31d42d(0x809)])_0xb4bd32++;}});const _0x5ba838=_0x1eb203>0x0&&_0x1eb203===_0x51611e[_0x48f11d(0x8da)],_0x3e88de=_0x5ba838?_0x48f11d(0xb4d):_0x48f11d(0xcb9),_0x25f6e4=_0x5ba838?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return _0x48f11d(0x68b)+_0x3e88de+_0x48f11d(0x4dc)+(_0x207854+0x1)+_0x48f11d(0xe0f)+_0x25f6e4+_0x48f11d(0xca4)+_0xb4bd32+'/'+_0x51611e[_0x48f11d(0x8da)]+_0x48f11d(0x1ef);})[_0x56de11(0x510)]('');_0x4f90d3['innerHTML']=_0x56de11(0x7f0)+_0x467faa+_0x56de11(0x1fc)+_0x40edd8+_0x56de11(0xe9f);return;}const _0x76368=_0x1e3cf9['responses']||{},_0x3973a6=Object[_0x56de11(0xb2e)](_0x76368);if(_0x3973a6[_0x56de11(0x8da)]===0x0){_0x4f90d3[_0x56de11(0x7fc)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x753433=_0x3973a6['map'](_0x3f3735=>({'name':_0x3f3735,'score':_0x76368[_0x3f3735][_0x56de11(0x7e2)]||0x0}))[_0x56de11(0x8c7)]((_0x1745b7,_0x1bcadb)=>_0x1bcadb[_0x56de11(0x7e2)]-_0x1745b7[_0x56de11(0x7e2)]),_0x419e28=_0x753433[_0x56de11(0xa0d)](_0x42c77d=>{const _0x3a9f43=_0x56de11,_0x4e71dc=_0x76368[_0x42c77d[_0x3a9f43(0x757)]]?.['answers']?.[_0x3a9f43(0x8da)]||0x0,_0x1c5fb4=Math['ceil'](_0x3d6dce/_0x3973a6[_0x3a9f43(0x8da)]);return _0x3a9f43(0x56c)+_0x42c77d[_0x3a9f43(0x757)]+_0x3a9f43(0x832)+_0x4e71dc+'/'+_0x1c5fb4+_0x3a9f43(0xa3b)+_0x42c77d[_0x3a9f43(0x7e2)]+'\x20คะแนน</span></div>';})[_0x56de11(0x510)](''),_0x456e08=_0x3973a6[_0x56de11(0x1e3)]((_0x35700a,_0x464d97)=>_0x35700a+(_0x76368[_0x464d97]['answers']?.['length']||0x0),0x0),_0x595bf7=currentQuizData[_0x56de11(0xa09)]['map']((_0x5dde00,_0x56f073)=>{const _0x350b60=_0x56de11;let _0x4cc15c=null,_0x1bc9aa=null;for(const _0x578ee0 of _0x3973a6){const _0x6f837d=_0x76368[_0x578ee0]['answers']?.[_0x350b60(0x59d)](_0x304cf5=>_0x304cf5[_0x350b60(0x5c7)]===_0x56f073);if(_0x6f837d){_0x4cc15c=_0x6f837d,_0x1bc9aa=_0x578ee0;break;}}const _0xb3e81e=!!_0x4cc15c,_0x5a0095=_0xb3e81e&&_0x4cc15c[_0x350b60(0x809)],_0x36ad95=(Math[_0x350b60(0x426)](_0x56f073/_0x3973a6[_0x350b60(0x8da)])+0x1)*_0x3973a6[_0x350b60(0x8da)],_0x1e13e4=_0x456e08>=_0x36ad95,_0x13dd6b=_0x1e13e4?'bg-green-200\x20text-green-900':_0x350b60(0xcb9),_0x1d2c51=_0x1e13e4?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x41b095=_0x350b60(0xd88);return _0xb3e81e&&(_0x41b095=_0x1bc9aa+'\x20ตอบ'+(_0x5a0095?_0x350b60(0x25d):_0x350b60(0x23c))),_0x350b60(0x68b)+_0x13dd6b+_0x350b60(0x4dc)+(_0x56f073+0x1)+_0x350b60(0xe0f)+_0x1d2c51+_0x350b60(0xc22)+_0x41b095+_0x350b60(0x721);})['join']('');_0x4f90d3[_0x56de11(0x7fc)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x419e28+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x595bf7+_0x56de11(0xe9f);}async function handleJoinTeamQuiz(){const _0x1641b2=_0x4b15a0,_0x323caf=prompt(_0x1641b2(0xdb6));if(!_0x323caf||_0x323caf[_0x1641b2(0xbdc)]()['length']!==0x4){showMessage(_0x1641b2(0x328));return;}try{const _0x5ee18a=collection(db,_0x1641b2(0xc4a)+appId+_0x1641b2(0xebe)),_0x49be44=query(_0x5ee18a,where(_0x1641b2(0x849),'==',_0x323caf['trim']()),where('status','==',_0x1641b2(0xa70))),_0x23cafb=await getDocs(_0x49be44);if(_0x23cafb['empty']){showMessage(_0x1641b2(0x502));return;}const _0x2339b4=_0x23cafb[_0x1641b2(0x9e5)][0x0];currentTeamQuizId=_0x2339b4['id'];const _0x5c5efe=_0x2339b4[_0x1641b2(0x7f7)](),_0x471935=doc(db,_0x1641b2(0xc4a)+appId+_0x1641b2(0x47d),_0x5c5efe[_0x1641b2(0xa0f)]),_0x1ef0b8=doc(db,_0x1641b2(0xc4a)+appId+'/public/data/quizzes',_0x5c5efe[_0x1641b2(0x515)]),[_0x2412c1,_0xe8ca72]=await Promise['all']([getDoc(_0x471935),getDoc(_0x1ef0b8)]);if(!_0x2412c1['exists']()||!_0xe8ca72['exists']())throw new Error(_0x1641b2(0xae2));currentQuizData=getShuffledQuiz({'id':_0xe8ca72['id'],..._0xe8ca72['data']()});const _0x54b7db=_0x2412c1[_0x1641b2(0x7f7)]();showTeamPlayerSelection(_0x54b7db[_0x1641b2(0x813)],currentQuizData[_0x1641b2(0x257)]);}catch(_0x9c9de1){console[_0x1641b2(0x7cd)](_0x1641b2(0xab2),_0x9c9de1),showMessage('เกิดข้อผิดพลาด:\x20'+_0x9c9de1['message']);}}async function handleJoinGroupActivity(){const _0x3dac5f=_0x4b15a0,_0x579c82=prompt('กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):');if(!_0x579c82||_0x579c82[_0x3dac5f(0xbdc)]()[_0x3dac5f(0x8da)]!==0x4){showMessage(_0x3dac5f(0x3c4));return;}const _0x13492d=_0x579c82[_0x3dac5f(0xbdc)]();showMessage(_0x3dac5f(0x607));try{const _0x10b427=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0xacb511=query(_0x10b427,where(_0x3dac5f(0x849),'==',_0x13492d),where(_0x3dac5f(0x58b),'==','lobby')),_0x1c5af1=await getDocs(_0xacb511);if(!_0x1c5af1[_0x3dac5f(0xe97)]){console[_0x3dac5f(0xe84)](_0x3dac5f(0x5ab)),await proceedWithTeamQuizJoin(_0x1c5af1[_0x3dac5f(0x9e5)][0x0]);return;}const _0x33b69a=collection(db,_0x3dac5f(0xc4a)+appId+_0x3dac5f(0xcba)),_0x3619be=query(_0x33b69a,where(_0x3dac5f(0x849),'==',_0x13492d),where('status','in',['lobby',_0x3dac5f(0x9b0),_0x3dac5f(0x221),'results'])),_0xeacf1b=await getDocs(_0x3619be);if(!_0xeacf1b[_0x3dac5f(0xe97)]){console[_0x3dac5f(0xe84)](_0x3dac5f(0x6e8)),await proceedWithSyncQuizJoin(_0xeacf1b[_0x3dac5f(0x9e5)][0x0]);return;}showMessage(_0x3dac5f(0x73d));}catch(_0x4a9f61){console[_0x3dac5f(0x7cd)](_0x3dac5f(0xc6f),_0x4a9f61),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x4a9f61[_0x3dac5f(0x81b)]);}}async function proceedWithTeamQuizJoin(_0x429fae){const _0xc7c5bd=_0x4b15a0;currentTeamQuizId=_0x429fae['id'];const _0x1015ee=_0x429fae['data'](),_0x4705b8=doc(db,_0xc7c5bd(0xc4a)+appId+_0xc7c5bd(0x47d),_0x1015ee['projectId']),_0x98cce8=doc(db,'artifacts/'+appId+_0xc7c5bd(0x671),_0x1015ee['quizId']),[_0x54f5cf,_0x2717ee]=await Promise[_0xc7c5bd(0x2d8)]([getDoc(_0x4705b8),getDoc(_0x98cce8)]);if(!_0x54f5cf['exists']()||!_0x2717ee['exists']())throw new Error(_0xc7c5bd(0xae2));currentQuizData=getShuffledQuiz({'id':_0x2717ee['id'],..._0x2717ee[_0xc7c5bd(0x7f7)]()}),showTeamPlayerSelection(_0x54f5cf[_0xc7c5bd(0x7f7)]()['students'],currentQuizData[_0xc7c5bd(0x257)],_0x1015ee[_0xc7c5bd(0x884)]||_0xc7c5bd(0x975)),messageModal[_0xc7c5bd(0xbd3)][_0xc7c5bd(0x72b)](_0xc7c5bd(0x81c));}async function proceedWithSyncQuizJoin(_0x44f401){const _0x1a0225=_0x4b15a0;currentLiveGameId=_0x44f401['id'];const _0x2681a5=_0x44f401[_0x1a0225(0x7f7)](),_0x224aea=doc(db,'artifacts/'+appId+_0x1a0225(0x671),_0x2681a5[_0x1a0225(0x515)]),_0x1133d2=await getDoc(_0x224aea);if(!_0x1133d2[_0x1a0225(0x37f)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x50cbc9=_0x1133d2[_0x1a0225(0x7f7)](),_0x2e3c71=doc(db,_0x1a0225(0xc4a)+appId+_0x1a0225(0x47d),_0x50cbc9[_0x1a0225(0xa0f)]),_0x3969b1=await getDoc(_0x2e3c71);if(!_0x3969b1[_0x1a0225(0x37f)]())throw new Error(_0x1a0225(0xc5d));currentQuizData=_0x2681a5[_0x1a0225(0x38d)],showView('student-team-join'),showTeamPlayerSelection(_0x3969b1['data']()[_0x1a0225(0x813)],_0x50cbc9[_0x1a0225(0x257)],'sync');const _0x34428d=document['getElementById'](_0x1a0225(0x65d)),_0x5acd75=_0x34428d[_0x1a0225(0x216)](!![]);_0x34428d[_0x1a0225(0x3ab)]['replaceChild'](_0x5acd75,_0x34428d),_0x5acd75[_0x1a0225(0x760)]=confirmAndJoinSyncGame,messageModal[_0x1a0225(0xbd3)][_0x1a0225(0x72b)](_0x1a0225(0x81c));}function getCleanApplicationHTML(){const _0x4753e3=_0x4b15a0,_0x28beec=document['getElementById'](_0x4753e3(0xbd9));if(!_0x28beec)return'';const _0x50a64a=_0x28beec[_0x4753e3(0x216)](!![]);return _0x50a64a[_0x4753e3(0x3eb)](_0x4753e3(0x756))[_0x4753e3(0x4aa)](_0x52d6cb=>{const _0x741bec=_0x4753e3;_0x52d6cb[_0x741bec(0xbd3)][_0x741bec(0x5f4)]('correct','incorrect'),_0x52d6cb[_0x741bec(0x417)]=![];}),_0x50a64a[_0x4753e3(0x7fc)];}function showTeamPlayerSelection(_0x470990,_0x3eae48,_0x586cad=_0x4b15a0(0x975)){const _0x586335=_0x4b15a0;studentInitialView[_0x586335(0xbd3)]['add'](_0x586335(0x81c)),studentJoinGameView[_0x586335(0xbd3)][_0x586335(0x72b)](_0x586335(0x81c)),document[_0x586335(0xb9f)]('student-team-selection-view')[_0x586335(0xbd3)]['remove']('hidden');let _0x304bdf=_0x586335(0x366);if(_0x586cad===_0x586335(0xe59))_0x304bdf=_0x586335(0x836);else _0x586cad==='sync'&&(_0x304bdf=_0x586335(0x344));document[_0x586335(0xb9f)](_0x586335(0x524))[_0x586335(0x1d0)]=_0x304bdf+':\x20'+_0x3eae48;const _0x47012d=document[_0x586335(0xb9f)](_0x586335(0xdb1));if(!_0x470990||_0x470990['length']===0x0){_0x47012d[_0x586335(0x7fc)]=_0x586335(0x227),document['getElementById'](_0x586335(0x65d))['disabled']=!![];return;}_0x47012d[_0x586335(0x7fc)]=_0x470990[_0x586335(0xa0d)](_0x373254=>_0x586335(0x59f)+_0x373254+_0x586335(0xc26)+_0x373254+_0x586335(0xe31))[_0x586335(0x510)](''),document[_0x586335(0xb9f)](_0x586335(0x65d))[_0x586335(0x417)]=![];}async function confirmAndStartTeamQuiz(){const _0xf26667=_0x4b15a0,_0x388b7d=Array[_0xf26667(0x7ca)](document[_0xf26667(0x3eb)](_0xf26667(0x1f2)))['map'](_0x69de5b=>_0x69de5b[_0xf26667(0x232)]);if(_0x388b7d[_0xf26667(0x8da)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x388b7d,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x5cdf6c=doc(db,_0xf26667(0xc4a)+appId+_0xf26667(0xebe),currentTeamQuizId);try{const _0x226706=await getDoc(_0x5cdf6c);if(!_0x226706[_0xf26667(0x37f)]())throw new Error(_0xf26667(0x5b2));const _0x1afb58=_0x226706[_0xf26667(0x7f7)]();if(_0x1afb58['mode']==='group'){const _0x1468b6={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x5cdf6c,_0x1468b6);}else{const _0x377782=_0x1afb58['responses']||{};localTeamPlayers[_0xf26667(0x4aa)](_0x11e2b6=>{!_0x377782[_0x11e2b6]&&(_0x377782[_0x11e2b6]={'score':0x0,'answers':[]});}),await updateDoc(_0x5cdf6c,{'responses':_0x377782});}document[_0xf26667(0xb9f)](_0xf26667(0x7d7))[_0xf26667(0xbd3)][_0xf26667(0x72b)](_0xf26667(0x81c)),renderTeamQuizQuestion();const _0x38f832={'gameId':currentTeamQuizId,'mode':_0x1afb58[_0xf26667(0x884)]||_0xf26667(0x975),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0xf26667(0x685)](_0xf26667(0x920),JSON['stringify'](_0x38f832)),listenForTeamQuizUpdates();}catch(_0x5143e1){console[_0xf26667(0x7cd)]('Error\x20confirming\x20players:',_0x5143e1),showMessage(_0xf26667(0xdd6));}}async function renderTeamQuizQuestion(){const _0x14f3c8=_0x4b15a0;if(localQuestionIndex>=currentQuizData[_0x14f3c8(0xa09)]['length']){displayTeamQuizFinalResults();return;}const _0x4c12ff=currentQuizData['questions'][localQuestionIndex],_0x3d5fd0=localTeamPlayers[localPlayerIndex],_0x1acc44=_0x4c12ff['questionType']||currentQuizData[_0x14f3c8(0xd68)];let _0x33fbd3=_0x4c12ff['stem']||_0x4c12ff[_0x14f3c8(0x931)],_0x416070='';switch(_0x1acc44){case _0x14f3c8(0x9c3):case _0x14f3c8(0xe8c):_0x416070=_0x4c12ff[_0x14f3c8(0x4d1)][_0x14f3c8(0xa0d)]((_0x488da7,_0x1989d8)=>_0x14f3c8(0x75d)+_0x1989d8+_0x14f3c8(0x2f9)+_0x1989d8+_0x14f3c8(0x372)+_0x1989d8+'\x22>'+_0x488da7+_0x14f3c8(0x4fb))[_0x14f3c8(0x510)]('');break;case _0x14f3c8(0xa29):_0x416070=_0x14f3c8(0x94b);break;case _0x14f3c8(0xc9f):case _0x14f3c8(0xb63):_0x416070=_0x14f3c8(0x514);break;case _0x14f3c8(0x50f):_0x416070='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x4c12ff[_0x14f3c8(0x816)]['map'](_0x4fdad5=>_0x14f3c8(0xe02)+_0x4fdad5+'\x22>'+_0x4fdad5+_0x14f3c8(0x36b))[_0x14f3c8(0x510)]('')+_0x14f3c8(0xdf6);break;default:_0x416070=_0x14f3c8(0x23b);break;}studentQuizArea[_0x14f3c8(0x7fc)]=_0x14f3c8(0x21e)+(localQuestionIndex+0x1)+_0x14f3c8(0xc6c)+currentQuizData[_0x14f3c8(0xa09)][_0x14f3c8(0x8da)]+_0x14f3c8(0x62e)+_0x3d5fd0+_0x14f3c8(0x2f5)+(localQuestionIndex+0x1)+'.\x20'+_0x33fbd3+_0x14f3c8(0x844)+(_0x4c12ff[_0x14f3c8(0xe33)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x4c12ff[_0x14f3c8(0xe33)]+_0x14f3c8(0xd14):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x416070+_0x14f3c8(0x9c1),studentQuizArea[_0x14f3c8(0xbd3)][_0x14f3c8(0x5f4)](_0x14f3c8(0x81c));if(window[_0x14f3c8(0x51a)])MathJax[_0x14f3c8(0xbce)]([studentQuizArea]);document[_0x14f3c8(0xb9f)]('submit-team-answer-btn')[_0x14f3c8(0x95a)](_0x14f3c8(0xd6c),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x8911e4=_0x4b15a0,_0x2d0482=currentQuizData[_0x8911e4(0xa09)][localQuestionIndex],_0x5e2d7c=_0x2d0482['questionType']||currentQuizData[_0x8911e4(0xd68)];let _0x15e5b3=null,_0x13ed98=![];if(_0x5e2d7c===_0x8911e4(0xc9f)||_0x5e2d7c===_0x8911e4(0xb63)){const _0x332357=document[_0x8911e4(0x584)](_0x8911e4(0xeb0));if(!_0x332357||!_0x332357[_0x8911e4(0x232)][_0x8911e4(0xbdc)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x15e5b3=_0x332357[_0x8911e4(0x232)]['trim'](),_0x13ed98=await gradeShortAnswer(_0x15e5b3,_0x2d0482);}else{const _0x362971=document[_0x8911e4(0x584)](_0x8911e4(0x267));if(!_0x362971||_0x362971[_0x8911e4(0x232)]===''){showMessage(_0x8911e4(0xecb));return;}_0x15e5b3=_0x362971['value'];switch(_0x5e2d7c){case _0x8911e4(0xa29):_0x13ed98=_0x15e5b3===_0x8911e4(0xb18)===_0x2d0482[_0x8911e4(0x9fb)];break;case'matching_item':_0x13ed98=_0x15e5b3===_0x2d0482[_0x8911e4(0xa54)];break;default:_0x13ed98=parseInt(_0x15e5b3)===_0x2d0482[_0x8911e4(0x82e)];break;}}const _0x284646={'questionIndex':localQuestionIndex,'isCorrect':_0x13ed98},_0x563414=userId,_0x5640cc={[_0x8911e4(0x360)+_0x563414+_0x8911e4(0xd1e)]:arrayUnion(_0x284646)};_0x13ed98&&(_0x5640cc[_0x8911e4(0x360)+_0x563414+_0x8911e4(0xb49)]=increment(0x1));try{await updateDoc(doc(db,_0x8911e4(0xc4a)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x5640cc),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x8911e4(0xa09)][_0x8911e4(0x8da)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x5dfc60){console['error'](_0x8911e4(0x7a5),_0x5dfc60),showMessage(_0x8911e4(0x202));}}async function handleTeamAnswerSubmit(){const _0x3d362e=_0x4b15a0,_0x499f58=await getDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId));if(!_0x499f58['exists']())return;const _0xe990e5=_0x499f58[_0x3d362e(0x7f7)]();if(_0xe990e5['mode']===_0x3d362e(0xe59)){handleGroupAnswerSubmit();return;}const _0x2f3e92=localTeamPlayers[localPlayerIndex],_0x30e3f6=currentQuizData[_0x3d362e(0xa09)][localQuestionIndex],_0x9f9d76=_0x30e3f6[_0x3d362e(0x899)]||currentQuizData[_0x3d362e(0xd68)];let _0x46a181=null,_0x371ec6=![];if(_0x9f9d76===_0x3d362e(0xc9f)||_0x9f9d76===_0x3d362e(0xb63)){const _0x453cd6=document[_0x3d362e(0x584)](_0x3d362e(0xeb0));if(!_0x453cd6||!_0x453cd6['value'][_0x3d362e(0xbdc)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x46a181=_0x453cd6[_0x3d362e(0x232)][_0x3d362e(0xbdc)](),_0x371ec6=await gradeShortAnswer(_0x46a181,_0x30e3f6);}else{const _0x10aaa2=document[_0x3d362e(0x584)](_0x3d362e(0x267));if(!_0x10aaa2||_0x10aaa2[_0x3d362e(0x232)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x46a181=_0x10aaa2[_0x3d362e(0x232)];switch(_0x9f9d76){case _0x3d362e(0xa29):_0x371ec6=_0x46a181===_0x3d362e(0xb18)===_0x30e3f6[_0x3d362e(0x9fb)];break;case'matching_item':_0x371ec6=_0x46a181===_0x30e3f6[_0x3d362e(0xa54)];break;default:_0x371ec6=parseInt(_0x46a181)===_0x30e3f6[_0x3d362e(0x82e)];break;}}const _0x2fb046={'questionIndex':localQuestionIndex,'isCorrect':_0x371ec6,'answerValue':_0x46a181},_0x5157a9={[_0x3d362e(0x347)+_0x2f3e92+_0x3d362e(0xd1e)]:arrayUnion(_0x2fb046)};_0x371ec6&&(_0x5157a9[_0x3d362e(0x347)+_0x2f3e92+_0x3d362e(0xb49)]=increment(0x1));try{await updateDoc(doc(db,_0x3d362e(0xc4a)+appId+_0x3d362e(0xebe),currentTeamQuizId),_0x5157a9),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x29301a){console[_0x3d362e(0x7cd)](_0x3d362e(0xd5c),_0x29301a),showMessage(_0x3d362e(0x202));}}async function displayTeamQuizFinalResults(){const _0x3c87b=_0x4b15a0;studentQuizArea[_0x3c87b(0xbd3)][_0x3c87b(0x72b)](_0x3c87b(0x81c)),studentResultArea[_0x3c87b(0xbd3)]['remove'](_0x3c87b(0x81c));const _0x154569=doc(db,_0x3c87b(0xc4a)+appId+_0x3c87b(0xebe),currentTeamQuizId),_0x508c48=await getDoc(_0x154569);if(!_0x508c48[_0x3c87b(0x37f)]()){studentResultArea[_0x3c87b(0x7fc)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x5b5d3b=_0x508c48['data']();let _0x3673dc=[];const _0x25e47f=_0x5b5d3b['mode']||_0x3c87b(0x975);if(_0x25e47f==='group'){const _0x1855a7=_0x5b5d3b[_0x3c87b(0xbeb)][userId];_0x1855a7?_0x3673dc=[{'name':_0x3c87b(0xd67)+localTeamPlayers[_0x3c87b(0x510)](',\x20'),'score':_0x1855a7[_0x3c87b(0x7e2)]||0x0}]:_0x3673dc=[{'name':'กลุ่มของคุณ','score':'N/A'}];}else _0x3673dc=localTeamPlayers[_0x3c87b(0xa0d)](_0x482f3d=>({'name':_0x482f3d,'score':_0x5b5d3b[_0x3c87b(0xdf5)][_0x482f3d]?.['score']||0x0}))[_0x3c87b(0x8c7)]((_0x320b1a,_0x27fc0c)=>_0x27fc0c[_0x3c87b(0x7e2)]-_0x320b1a['score']);studentResultArea[_0x3c87b(0x7fc)]=_0x3c87b(0x2cc)+_0x3673dc['map'](_0x2b0120=>_0x3c87b(0xc4c)+_0x2b0120['name']+_0x3c87b(0x4b1)+_0x2b0120[_0x3c87b(0x7e2)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x3c87b(0xb66),sessionStorage['removeItem'](_0x3c87b(0x920)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x376369=_0x3c87b;deleteDoc(doc(db,_0x376369(0xc4a)+appId+_0x376369(0xebe),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x4b15a0(0xa00),'pinnedProjects':[],'projectView':_0x4b15a0(0x4e1)};const allMathTopics=[{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0xc7a)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0x492)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0xac8)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0x4bd)},{'category':'จำนวนและการดำเนินการ','name':_0x4b15a0(0xe0e)},{'category':'จำนวนและการดำเนินการ','name':_0x4b15a0(0x936)},{'category':_0x4b15a0(0x94e),'name':'การคูณ'},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0xa73)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0xd3e)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':_0x4b15a0(0xd5a)},{'category':'จำนวนและการดำเนินการ','name':_0x4b15a0(0xc4f)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0xa82)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0x9eb)},{'category':'จำนวนและการดำเนินการ','name':_0x4b15a0(0xc3e)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0x2e4)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0xd48)},{'category':_0x4b15a0(0x94e),'name':'อัตราและอัตราหน่วย'},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0xcd1)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0xb40)},{'category':_0x4b15a0(0x94e),'name':'การลบเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x4b15a0(0xe1a)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0x411)},{'category':'จำนวนและการดำเนินการ','name':_0x4b15a0(0xd0a)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0x9cd)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0x256)},{'category':'จำนวนและการดำเนินการ','name':_0x4b15a0(0x7b7)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0x391)},{'category':'จำนวนและการดำเนินการ','name':_0x4b15a0(0x234)},{'category':_0x4b15a0(0x94e),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0xa3f)},{'category':'จำนวนและการดำเนินการ','name':_0x4b15a0(0xb77)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0x293)},{'category':_0x4b15a0(0x94e),'name':_0x4b15a0(0x727)},{'category':'จำนวนและการดำเนินการ','name':_0x4b15a0(0x4f4)},{'category':_0x4b15a0(0x94e),'name':'รูปสแควร์รูท\x20(surd)'},{'category':'จำนวนและการดำเนินการ','name':_0x4b15a0(0xb28)},{'category':'การวัด','name':_0x4b15a0(0x5a6)},{'category':'การวัด','name':_0x4b15a0(0x944)},{'category':'การวัด','name':_0x4b15a0(0x393)},{'category':'การวัด','name':_0x4b15a0(0x687)},{'category':_0x4b15a0(0x708),'name':_0x4b15a0(0x4ab)},{'category':_0x4b15a0(0x708),'name':_0x4b15a0(0x295)},{'category':_0x4b15a0(0x708),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x4b15a0(0x708),'name':_0x4b15a0(0x923)},{'category':_0x4b15a0(0x708),'name':_0x4b15a0(0xa60)},{'category':_0x4b15a0(0x708),'name':_0x4b15a0(0x946)},{'category':'การวัด','name':_0x4b15a0(0xbb5)},{'category':'การวัด','name':_0x4b15a0(0x70f)},{'category':'การวัด','name':'สเกลและแผนที่'},{'category':_0x4b15a0(0x708),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x4b15a0(0xc8c),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x4b15a0(0xc8c),'name':_0x4b15a0(0xd40)},{'category':_0x4b15a0(0xc8c),'name':_0x4b15a0(0xbe8)},{'category':_0x4b15a0(0xc8c),'name':_0x4b15a0(0x923)},{'category':'เรขาคณิต','name':_0x4b15a0(0xcc2)},{'category':_0x4b15a0(0xc8c),'name':_0x4b15a0(0x2b6)},{'category':_0x4b15a0(0xc8c),'name':_0x4b15a0(0x68f)},{'category':_0x4b15a0(0xc8c),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x4b15a0(0xc8c),'name':_0x4b15a0(0x83a)},{'category':_0x4b15a0(0xc8c),'name':_0x4b15a0(0x1f6)},{'category':'เรขาคณิต','name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x4b15a0(0xc8c),'name':_0x4b15a0(0x350)},{'category':_0x4b15a0(0xc8c),'name':_0x4b15a0(0x97e)},{'category':'เรขาคณิต','name':_0x4b15a0(0x39d)},{'category':_0x4b15a0(0xc8c),'name':_0x4b15a0(0xabc)},{'category':'พีชคณิตและฟังก์ชัน','name':'ตัวแปรและนิพจน์'},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0x544)},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0x8bd)},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0x619)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4b15a0(0xb7a)},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0x4c6)},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0xc0f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4b15a0(0xbc8)},{'category':_0x4b15a0(0x52d),'name':'สมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4b15a0(0x570)},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0x24b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4b15a0(0xe2c)},{'category':_0x4b15a0(0x52d),'name':'สมการลอการิทึม'},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0x498)},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0x7ec)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4b15a0(0xaae)},{'category':_0x4b15a0(0x52d),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4b15a0(0x367)},{'category':_0x4b15a0(0x52d),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0x24a)},{'category':'พีชคณิตและฟังก์ชัน','name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4b15a0(0xd0d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4b15a0(0xea3)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันพหุนาม'},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0xbe2)},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0x235)},{'category':_0x4b15a0(0x52d),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4b15a0(0x759)},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0x3f1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4b15a0(0x20f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4b15a0(0xdec)},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0x478)},{'category':_0x4b15a0(0x52d),'name':_0x4b15a0(0x70d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4b15a0(0xceb)},{'category':_0x4b15a0(0x659),'name':_0x4b15a0(0x4f9)},{'category':_0x4b15a0(0x659),'name':'ความชันและเส้นตรง'},{'category':_0x4b15a0(0x659),'name':_0x4b15a0(0xabb)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4b15a0(0x9e6)},{'category':_0x4b15a0(0x659),'name':_0x4b15a0(0x7e1)},{'category':_0x4b15a0(0x659),'name':_0x4b15a0(0xae0)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4b15a0(0x3dc)},{'category':_0x4b15a0(0x659),'name':_0x4b15a0(0x3b3)},{'category':_0x4b15a0(0x659),'name':_0x4b15a0(0x66c)},{'category':'ตรีโกณมิติ','name':_0x4b15a0(0xd95)},{'category':_0x4b15a0(0xea2),'name':_0x4b15a0(0x815)},{'category':_0x4b15a0(0xea2),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x4b15a0(0xea2),'name':'เรเดียนและการแปลงหน่วย'},{'category':_0x4b15a0(0xea2),'name':_0x4b15a0(0x32a)},{'category':_0x4b15a0(0xea2),'name':_0x4b15a0(0xd4f)},{'category':_0x4b15a0(0xea2),'name':_0x4b15a0(0xb80)},{'category':_0x4b15a0(0xea2),'name':_0x4b15a0(0x968)},{'category':_0x4b15a0(0xea2),'name':_0x4b15a0(0x52a)},{'category':_0x4b15a0(0xea2),'name':_0x4b15a0(0xe58)},{'category':_0x4b15a0(0xea2),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x4b15a0(0x96e),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x4b15a0(0x96e),'name':_0x4b15a0(0xd0b)},{'category':_0x4b15a0(0x96e),'name':_0x4b15a0(0x7c3)},{'category':_0x4b15a0(0x96e),'name':_0x4b15a0(0xd5b)},{'category':_0x4b15a0(0x96e),'name':'ฮิสโตแกรม'},{'category':'สถิติและความน่าจะเป็น','name':_0x4b15a0(0xcc7)},{'category':_0x4b15a0(0x96e),'name':'ค่าเฉลี่ย'},{'category':'สถิติและความน่าจะเป็น','name':_0x4b15a0(0xec9)},{'category':'สถิติและความน่าจะเป็น','name':_0x4b15a0(0x3f8)},{'category':_0x4b15a0(0x96e),'name':_0x4b15a0(0x1d5)},{'category':_0x4b15a0(0x96e),'name':_0x4b15a0(0x481)},{'category':_0x4b15a0(0x96e),'name':_0x4b15a0(0x480)},{'category':_0x4b15a0(0x96e),'name':_0x4b15a0(0xd0c)},{'category':_0x4b15a0(0x96e),'name':_0x4b15a0(0x2bc)},{'category':'สถิติและความน่าจะเป็น','name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':'สถิติและความน่าจะเป็น','name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x4b15a0(0x96e),'name':_0x4b15a0(0xc81)},{'category':_0x4b15a0(0x96e),'name':'แผนภาพเวนน์'},{'category':_0x4b15a0(0x96e),'name':_0x4b15a0(0x1c3)},{'category':'สถิติและความน่าจะเป็น','name':_0x4b15a0(0x472)},{'category':_0x4b15a0(0x96e),'name':_0x4b15a0(0xcfd)},{'category':'สถิติและความน่าจะเป็น','name':_0x4b15a0(0x6a8)},{'category':_0x4b15a0(0x96e),'name':_0x4b15a0(0x47a)},{'category':_0x4b15a0(0x96e),'name':_0x4b15a0(0xce5)},{'category':_0x4b15a0(0x368),'name':'ลิมิต'},{'category':'แคลคูลัสเบื้องต้น','name':'ความต่อเนื่อง'},{'category':'แคลคูลัสเบื้องต้น','name':_0x4b15a0(0x92a)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4b15a0(0xa75)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4b15a0(0x78b)},{'category':_0x4b15a0(0x368),'name':_0x4b15a0(0x44c)},{'category':_0x4b15a0(0x368),'name':_0x4b15a0(0xbd6)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4b15a0(0x91e)},{'category':_0x4b15a0(0x368),'name':_0x4b15a0(0xe41)},{'category':_0x4b15a0(0x368),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0x4b15a0(0x368),'name':'ปริพันธ์จำกัด'},{'category':_0x4b15a0(0x368),'name':_0x4b15a0(0x8b2)},{'category':_0x4b15a0(0x368),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4b15a0(0xae5)},{'category':_0x4b15a0(0x694),'name':_0x4b15a0(0x90b)},{'category':_0x4b15a0(0x694),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4b15a0(0xe5d)},{'category':_0x4b15a0(0x694),'name':'อินเวอร์สของเมทริกซ์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x4b15a0(0x210)},{'category':_0x4b15a0(0x694),'name':_0x4b15a0(0xd59)},{'category':_0x4b15a0(0xd20),'name':_0x4b15a0(0x4a7)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4b15a0(0x7fa)},{'category':'คณิตการเงิน/บูรณาการ','name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x4b15a0(0xd20),'name':_0x4b15a0(0xeb6)},{'category':_0x4b15a0(0xd20),'name':_0x4b15a0(0xc37)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x4b15a0(0xdfa)},{'category':_0x4b15a0(0x900),'name':_0x4b15a0(0x408)},{'category':_0x4b15a0(0x900),'name':_0x4b15a0(0x48e)}];function renderTopicCheckboxes(){const _0x4fac18=_0x4b15a0,_0x11a0db=document[_0x4fac18(0xb9f)](_0x4fac18(0xc55));if(!_0x11a0db)return;const _0x40336f=allMathTopics,_0x15f4cc=customMathTopics[_0x4fac18(0xa0d)](_0xd9abc2=>({'id':_0xd9abc2['id'],'category':_0x4fac18(0xc3f),'name':_0xd9abc2[_0x4fac18(0x757)]})),_0x58e3df=[..._0x40336f,..._0x15f4cc],_0x272c25=_0x58e3df[_0x4fac18(0x1e3)]((_0x497465,_0x57b9c6)=>{const _0xf673e2=_0x4fac18;return!_0x497465[_0x57b9c6[_0xf673e2(0xbff)]]&&(_0x497465[_0x57b9c6['category']]=[]),_0x497465[_0x57b9c6['category']][_0xf673e2(0x542)](_0x57b9c6),_0x497465;},{});let _0x342572='';const _0xbf292c=[_0x4fac18(0xc3f),...Object[_0x4fac18(0xb2e)](_0x272c25)[_0x4fac18(0xce3)](_0x47a4b8=>_0x47a4b8!==_0x4fac18(0xc3f))];for(const _0x32e9ab of _0xbf292c){if(_0x272c25[_0x32e9ab]){const _0x102a04=_0x32e9ab===_0x4fac18(0xc3f),_0x113d7f=_0x102a04?'fas\x20fa-user-edit':'fas\x20fa-bookmark',_0x55da4b=_0x102a04?_0x4fac18(0xc40):_0x4fac18(0x302);_0x342572+=_0x4fac18(0x209),_0x342572+=_0x4fac18(0x2f3)+_0x55da4b+_0x4fac18(0x929)+_0x113d7f+'\x20mr-2\x22></i>'+_0x32e9ab+_0x4fac18(0xe43),_0x272c25[_0x32e9ab]['forEach'](_0x44fe22=>{const _0xe87288=_0x4fac18,_0x593f08=!!_0x44fe22['id'],_0xeaab84=_0x593f08?_0xe87288(0xd10)+_0x44fe22['id']+'\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x44fe22['id']+_0xe87288(0x93f)+_0x44fe22['id']+_0xe87288(0x6f2)+_0x44fe22['id']+_0xe87288(0x709):'';_0x342572+=_0xe87288(0x53d)+(_0x44fe22['id']||'')+_0xe87288(0x725)+_0x44fe22[_0xe87288(0x757)]+_0xe87288(0xa99)+_0x44fe22['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x593f08?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x44fe22[_0xe87288(0x757)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xeaab84+_0xe87288(0xa0e);}),_0x342572+=_0x4fac18(0xd14);}}_0x11a0db[_0x4fac18(0x7fc)]=_0x342572||_0x4fac18(0xb7d),_0x11a0db['removeEventListener'](_0x4fac18(0xaa4),updateSelectedTopicsCount),_0x11a0db[_0x4fac18(0x95a)](_0x4fac18(0xaa4),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x4eb3bf,_0x2d9169){const _0x2110b2=_0x4b15a0;if(!_0x4eb3bf||!_0x2d9169[_0x2110b2(0xbdc)]()){showMessage(_0x2110b2(0x6e2));return;}try{const _0x225607=doc(db,'artifacts/'+appId+_0x2110b2(0xd27),_0x4eb3bf);await updateDoc(_0x225607,{'name':_0x2d9169[_0x2110b2(0xbdc)]()}),showMessage(_0x2110b2(0xba4));}catch(_0x3a9f3c){console[_0x2110b2(0x7cd)](_0x2110b2(0x70c),_0x3a9f3c),showMessage(_0x2110b2(0x66e));}}function toggleTopicEditMode(_0x3674f4,_0x20a898){const _0x561b11=_0x4b15a0;if(!_0x3674f4)return;const _0x4d3dce=_0x3674f4[_0x561b11(0x584)]('.topic-name-display'),_0x4ae5d8=_0x3674f4['querySelector'](_0x561b11(0xbbf)),_0x1f1310=_0x3674f4[_0x561b11(0x584)](_0x561b11(0x723)),_0x428860=_0x3674f4[_0x561b11(0x584)](_0x561b11(0x356));_0x4d3dce[_0x561b11(0xbd3)][_0x561b11(0x581)](_0x561b11(0x81c),_0x20a898),_0x4ae5d8[_0x561b11(0xbd3)][_0x561b11(0x581)](_0x561b11(0x81c),!_0x20a898),_0x1f1310[_0x561b11(0xbd3)][_0x561b11(0x581)](_0x561b11(0x81c),_0x20a898),_0x428860['classList'][_0x561b11(0x581)](_0x561b11(0x81c),!_0x20a898),_0x20a898&&(_0x4ae5d8['focus'](),_0x4ae5d8[_0x561b11(0xbd1)]());}async function handleStartLiveRace(_0x59c2a7){const _0x1d3939=_0x4b15a0;let _0x28c58f=allQuizzes[_0x1d3939(0x59d)](_0x4ec9d4=>_0x4ec9d4['id']===_0x59c2a7);if(!_0x28c58f){const _0x53f9a6=doc(db,_0x1d3939(0xc4a)+appId+'/public/data/quizzes',_0x59c2a7),_0x5912ff=await getDoc(_0x53f9a6);if(!_0x5912ff[_0x1d3939(0x37f)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x28c58f={'id':_0x5912ff['id'],..._0x5912ff[_0x1d3939(0x7f7)]()};}const _0x124c4f=getShuffledQuiz(_0x28c58f);currentQuizData=_0x124c4f;const _0x57ff15=_0x28c58f['projectId']||currentProjectId||null,_0x75ed62=Math[_0x1d3939(0x426)](0x3e8+Math[_0x1d3939(0x7c9)]()*0x2328)['toString']();currentLiveGamePin=_0x75ed62;try{const _0x3e2701=await addDoc(collection(db,'artifacts/'+appId+_0x1d3939(0x1e4)),{'quizId':_0x59c2a7,'projectId':_0x57ff15,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x75ed62,'createdAt':serverTimestamp(),'shuffledQuiz':_0x124c4f});currentLiveGameId=_0x3e2701['id'],showAdminLobbyView(_0x75ed62,_0x28c58f[_0x1d3939(0x257)]),listenForLiveGameUpdates();}catch(_0x2c3963){console['error'](_0x1d3939(0x265),_0x2c3963),showMessage(_0x1d3939(0x887));}}function updateSelectedTopicsCount(){const _0x461f38=_0x4b15a0,_0x268151=document[_0x461f38(0xb9f)](_0x461f38(0xc55)),_0x20362b=_0x268151['querySelectorAll'](_0x461f38(0x44f))[_0x461f38(0x8da)],_0x4ec6e1=document[_0x461f38(0xb9f)](_0x461f38(0x8e1));_0x20362b>0x0?_0x4ec6e1['textContent']=_0x461f38(0x575)+_0x20362b+_0x461f38(0x332):_0x4ec6e1[_0x461f38(0x1d0)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x4b15a0(0xb96),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x4b15a0(0x1c9),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;function _0x4bd2(){const _0xfb31e2=['.move-parallel-shortcut-dropdown','.edit-shortcut-btn','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','fix\x20the\x20option','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','\x22\x20class=\x22delete-project-btn\x20','ใช่','/public/data/blueprintProjects/','isPinned','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','</p>','Failed\x20to\x20get\x20hint:','_opt1\x22>ไม่ใช่</label></div>','แบบทดสอบซ่อมเสริม','beginPath','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','show_results_and_answers','bp-modal-passing-score-input','เกิดข้อผิดพลาดในการบันทึกโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','highlighter-tools-group','results-table','live-race','explanation','delete','เกิดข้อผิดพลาดในการลบแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','back-to-student-initial-btn','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','กราฟฟังก์ชันตรีโกณ','group','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','เมทริกซ์:\x20บวก/คูณ','2-digit','offsetWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','กรุณากรอกข้อมูลให้ครบทุกช่อง','use-powerup-wagerMultiplier','shortcut-modal-title','frac','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','promptFeedback','Error\x20opening\x20quiz\x20editor:','wakeLock','\x5ccdot','worksheet-topic-input','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','multiply','onSecondChance','canvas','perseverance','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','copy','timer-duration-label','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','normal','sync-timer-countdown','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','student-project-leaderboard-content','สู้ๆ\x20ลองอีกครั้งนะ','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-crown\x20text-yellow-500','.topic-category','confidence-scoring-toggle','.topic-name-display','log','numQuestions','file-shortcut-editor-modal','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','cancel-manual-bp-btn','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','fill_in_with_choices','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','shadowBlur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bank-quiz-search-input','bg-gray-500','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','visible','save-shortcut-btn','empty','.verification-result-editor','save-blueprint-as-project-btn','json','text-red-500\x20hover:text-red-700','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','อัปเดตพฤติกรรมสำหรับ\x20','/users/','</div></div></div>','clientY','bp-modal-num-choices','ตรีโกณมิติ','ฟังก์ชันกำลังสองและกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<br>','.pointsLastQuestion','touchend','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','cancel-blueprint-projects-btn','student-quiz-leaderboard-content','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','แท็บใหม่','goto-next-question-btn','shuffle-setting-select','textarea[name=\x22team_answer\x22]','practiceProblems','createElement','global-quiz-count','.live-answer-btn','ก้อนเมฆ','ค่าเสื่อมราคา','specialist','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','powerupUsedThisTurn','generate-from-link-btn','bulk-loop-until-pass-checkbox','.open-bp-project-btn','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','/public/data/teamQuizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปคะแนน\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffleSetting','แบบทดสอบนี้หมดเวลาแล้ว','pointsAwarded','reference.txt','Error\x20fetching\x20projects\x20for\x20move:','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','.pin-project-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','มัธยฐาน','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','กรุณาเลือกคำตอบของกลุ่ม','blueprintUrl','body','toDate','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','latestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','sqrt','.file-shortcut-btn[data-id=\x22','input[type=\x22checkbox\x22]','ข้อที่\x20','text-green-600','คณิตศาสตร์','/lessons','#F59E0B','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','label','pre-test-checkbox','อยู่ในสาระการเรียนรู้ใด:','countdown-display','fa-bolt\x20text-blue-500','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิซซ่าหน้าทุเรียน','ความน่าจะเป็นแบบมีเงื่อนไข','<button\x20id=\x22use-powerup-jinx\x22\x20class=\x22powerup-btn\x20bg-red-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>😈\x20คำสาป\x20(',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','จากเนื้อหาต่อไปนี้:\x20\x22','close-topic-bank-btn','rgba(255,\x20255,\x200,\x200.5)','onblur','BOOLEAN','password-error-msg','confirm-confident','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','usedBuyTime','textContent','สิงโตยิ้ม','baseVal','open-scratchpad-btn','<p><strong>คำตอบที่แนะนำ:</strong>\x20','พิสัย','player-list-lobby','<span\x20class=\x22text-red-400\x20ml-1\x22\x20title=\x22คะแนนพิเศษติดลบ\x20(มั่นใจแต่ตอบผิด)\x22>⚠️</span>','คุณไม่มีไอเทมนี้ในคลัง','reference.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','anon-show-answer-toggle','กำลังกลับเข้าสู่เกม\x20','destroy','doughnut','save-file-shortcut-btn','</td></tr>','admin','reduce','/public/data/liveGames','Invalid\x20response\x20structure\x20from\x20AI.','.isScored','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','answerValue',')\x22>','border-green-300\x20bg-green-50','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','\x20กลุ่ม</p></div>','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','quiz','input[name=\x22team_player\x22]:checked','stepByStepExamples','#open-additional-parallel-shortcuts-btn','.remove-shortcut-from-tab-btn','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','thead','redo-btn','กำลังอ่านและเตรียมไฟล์...','grabbing','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','ปวดหลัง','comparison-individual-content','student-back-to-home-btn','size','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการส่งคำตอบ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>🌗\x20คุณได้ใช้\x20\x2250:50\x22\x20ไปแล้ว</div>','text/csv;charset=utf-8;','กรุณาเลือกคำตอบก่อนครับ','เปิด\x20(จับเวลา)','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','<div\x20class=\x22mb-3\x20topic-category\x22>','submission','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22syncVariant\x22]:checked','\x5csqrt{$1}','playerNicknames','ลำดับเลขคณิต\x20(AP)','ดีเทอร์มิแนนต์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-shortcut-edit-btn','show-final-results-btn','ส้มตำปูปลาร้า','point','cloneNode','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-2\x22>','จันทร์เจ้า','หมูกระทะจะเยียวยาทุกสิ่ง','สลับไปโหมดนักเรียน','cancel-quiz-edits-btn','cancel-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','เกิดข้อผิดพลาดในการบันทึก','getBBox','summary','<i\x20class=\x22fas\x20fa-save\x22></i>','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','currentQuestionIndex','additional-parallel-shortcuts-modal','<span\x20title=\x22โดนคำสาปในตานี้\x22>😈</span>','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','#FFFFFF','เพิ่มรายการที่เลือก','\x20mb-2\x22>','open-quiz-bank-btn','sin','.shortcut-tab-btn','desc','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','value','student-progress','การหารทศนิยม','ฟังก์ชันราก\x20(root)','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','New\x20question\x20detected.\x20Clearing\x20powerup\x20flags.','insertBefore','เน็ตไอดอล','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','ผิด','การยืนยันตัวตนล้มเหลว','dragstart','.eraser-size-btn','รายการนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','สาระที่\x201','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','PERFECT_SCORE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-app-aefee.firebaseapp.com','เกิดข้อผิดพลาดในการลบนักเรียน','ฟังก์ชันผกผัน','สมการราก\x20(radical)','project-list','Error\x20deleting\x20quiz:',')</span></div>','student-project-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','1288140dDGHZj','answer','add-file-shortcut-tab-btn','use-powerup-insurance','การบวกทศนิยม','topic','<span\x20title=\x22','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','เกิดข้อผิดพลาดในการใช้ไอเทม\x20(PData)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ถูก','end-team-quiz-btn','release','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','bulk-confidence-mode-select','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-name=\x22','Error\x20starting\x20live\x20race:','<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','bg-red-200\x20text-red-800','Error\x20saving\x20blueprint\x20project:','resize','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','bg-yellow-100','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','bp-modal-shuffle-setting-select','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','team-player-status-grid','dataset','.delete-hidden-file-shortcut-btn','-tab','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','linkedQuizIds','blueprint-projects-modal','confirm-wager-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','.edit-quiz-btn','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','save-bp-settings-btn','FileReader\x20error:','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-500','standard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','confirm-game-start-modal','👻\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้เลือกใช้ไอเทมนี้ใส่','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','.move-parallel-shortcut-item','#FCE7F3','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeEventListener','จำนวนคู่:','fullscreenchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<span\x20title=\x22ใช้:\x20คูณเดิมพัน\x22>💰</span>','Refunded\x20','Error\x20processing\x20shortcut\x20click:','</span><span\x20class=\x22font-bold\x22>','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','📡\x20สแกนกลยุทธ์','เส้นรอบรูป','Failed\x20to\x20apply\x20jinx:','live-short-answer-input','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','totalPoints','text-gray-700','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','price','learningGaps','เซียนสมองไว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','write','/public/data/quizzes/','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','manual-bp-grade-level','📡\x20สแกนเสร็จสิ้น:\x20ไม่พบภัยคุกคาม\x20(ไม่มีใครมี\x20📊\x20หรือ\x20💰)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','input[name=\x22syncVariant\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','save-quiz-edits-btn','blueprint-topics-list-container','student-quiz-topic','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20จำนวน\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','targetId','หมีขั้วโลกใต้','bp-add-topic-btn','แฟนทิพย์','.move-file-shortcut-menu-btn','list','ความคล้ายของรูป','list-view-btn','Auto-linking\x20new\x20quiz\x20','Error\x20saving\x20visibility\x20settings:','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','fixed','การแจกแจงปกติและ\x20z-score','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','applicationHTML','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','📊\x20สถิติ:\x20ยังไม่มีใครตอบข้อนี้เลยครับ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','AI\x20แก้ไขคำถามสำเร็จ!','Error\x20generating\x20parallel\x20post-test:','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','project-detail','.rename-quiz-btn','data:application/vnd.ms-word;charset=utf-8,','close-additional-file-shortcuts-btn','_opt1\x22\x20name=\x22question','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','📊\x20ส่องสถิติ','dimmed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','.ai-content\x20p','topicId','bulk-quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','number','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','ระยะเวลา\x20(วินาที):','all','survivor','manual-blueprint-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','...\x22)?','หมาป่าเดียวดาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สายลมแห่งโชคชะตา','pen-tools-group','getAttributeNS','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','มี\x20Points\x20ไม่เพียงพอ','ค.ร.น.\x20(LCM)','เกิดข้อผิดพลาดในการปักหมุด','quiz-leaderboard-table-container','AI\x20request\x20was\x20blocked.\x20Reason:\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','use-powerup-strategyScan','trail-tool-btn','.ai-content\x20blockquote','STOP','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','function','student-quiz-leaderboard-table-body','<p\x20class=\x22font-bold\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','(ก่อนเรียน)','points','\x22\x20name=\x22team_answer\x22\x20value=\x22','พบข้อสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','removeItem','modal-shuffle-select','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','<div\x20class=\x22answer-space\x22></div>','presentation-modal','text-indigo-700','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input','เน็ตช้า','modal-timer-duration-input','temp-loader-text-results','text-blue-700\x20bg-blue-100','.quiz-bank-checkbox:checked','check-presentation-answer-btn','add-parallel-shortcut-tab-btn','loopUntilPass','สร้างแบบทดสอบปรนัย','both','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','student-name-input','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','<div\x20class=\x22','📡\x20สแกน:\x20ไม่มีผู้เล่นอื่น\x20(ที่ยังไม่ตอบ)\x20ให้สแกนครับ','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','cancel-export-pdf-btn','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','student-passcode-input','lowerGroupResponders','#E5E7EB','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>','quiz-form','label[for=\x22num-questions\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','shouldSaveResults','project-detail-view','.confidence-choice-btn','พอใช้','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','reference_onet.pdf','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','100px','รหัสไม่ถูกต้อง','active','กฎของไซน์','\x20\x0a\x20\x20\x20\x20','anonymous','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','perfect_score_status','onloadend','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','ไม่ใช่','\x20หัวข้อ)','source-over','text-green-700','isFinished','$1\x20\x5cfrac','<h1></h1>','result','00:00','</div><div\x20class=\x22space-y-2\x22>','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','bulk-quiz-settings-btn','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Failed\x20to\x20create/update\x20submission\x20record:','back-to-student-home-btn','bg-[#DCFCE7]\x20text-green-900','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','showInStudentDashboard','getPage','Sync\x20Mode','บันทึกการแก้ไข','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','responses.','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','confirm-quiz-settings-btn','border-indigo-400\x20ring-2\x20ring-indigo-200','numChoices','numeric','overallGroups','.use-hidden-parallel-shortcut-btn','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lineJoin','เกิดข้อผิดพลาดในการติดดาว','.topic-actions-edit','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','subTopics','touchcancel','/public/data/practiceBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','ชื่อโปรเจคห้ามว่าง','auto-fix-latex-btn','\x5ctimes','groups.','post-test','closePath','show-leaderboard-btn','passcode-input-container','สร้างใหม่','Team\x20Quiz','โดเมนและเรนจ์','แคลคูลัสเบื้องต้น','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','.edit-custom-topic-btn','</option>','players.','#add-question-editor-btn','ลบผลสอบของ\x20','Failed\x20to\x20generate\x20lesson:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แอบชอบ','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','add-shortcut-tab-btn','Error\x20saving\x20project\x20order:','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','cancel-team-selection-btn','confidenceMode','preScore','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','Failed\x20to\x20refund\x20powerup:','catch','globalCompositeOperation','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','exists','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','\x20to\x20blueprint\x20topic\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัศวินรัตติกาล','Failed\x20to\x20apply\x20forceConfident:','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','<div\x20id=\x22q-image-container-','transformOrigin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','_blank','setAttributeNS','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','shuffledQuiz','abs','project-name-input','split','การคูณทศนิยม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หน่วยเวลาและการคำนวณเวลา','สร้างคำถามแบบใช่/ไม่ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','บันทึกการตั้งค่าสำเร็จ','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','include-images-checkbox','per_question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การสร้างรูปด้วยวงเวียน–สันตรง','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','wasConfident','student-rankings-modal','bottom','(รอคะแนน)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','print','binom','results-tab-content','scoresCalculated','itemId','POST','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parentNode','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','showRankings','กำลังอ่านไฟล์อ้างอิง...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','center','getElementsByTagName','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','วงรี','parseFromString','file-shortcut-tabs-nav','<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','Firebase\x20initialization\x20failed:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','</p><div>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','width','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','use-powerup-cutOne','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','.project-card-container[data-id]','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','referenceUrl','show-in-student-dashboard-checkbox','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.bp-unlink-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','upperGroupNames','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','scores-tab-content','not_generated','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','powerups','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','.live-answer-btn,\x20#sync-submit-btn','parallel-test-tab','schedule','next-drill-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','files','พาราโบลา','insertAdjacentHTML','getItem','createdAt','subTopic','):\x20เสีย\x201P','playerName','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','P/อัน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-teal-500\x20hover:bg-teal-600\x20text-white','text/html','เพนกวินไฟ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','ต้นฉบับทั้งหมด','เกิดข้อผิดพลาดในการใช้ไอเทม','querySelectorAll','ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20','#ffffff','globalSettings','comparison-overall-tab','student-name-selection-view','ฟังก์ชันลอการิทึม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','wheel','export-leaderboard-word-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ฐานนิยม','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','\x20(Player)\x20(ID:\x20','minHeight','classStrengths','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','ครัวซองต์','$$$1$','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','.copy-quiz-id-list-btn','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','%)\x0a','jinx','bp-modal-num-questions','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','รูปแบบการให้เหตุผล','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','%</span>','\x22\x20ให้เป็นคำถามประเภท\x20\x22','name_desc','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','Error\x20adding\x20topic:','.powerups.','การหารเศษส่วน','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','bg-emerald-100','.question-editor-item:last-of-type','disabled','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','previousElementSibling','order','pow','parallel-test-upload-input','bg-yellow-200','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-settings-btn','authed_project_','isForcedConfident','รอเปิด','เกิดข้อผิดพลาดในการเข้าตลาดมืด','icon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','floor','blueprint-input-area','.delete-bp-project-btn','title','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','Error\x20loading\x20quiz\x20for\x20student:','COMEBACK_KING','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','blueprint-settings-modal','referenceFileUrl','จอมเวทย์ขนมหวาน','Authentication\x20failed:','confirm-bulk-quiz-settings-btn','memoryContent','quiz-generation-area','generate-from-parallel-test-btn','student-list','บันทึกคำถามใหม่\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','live-game-view','powerupUsed_q','สแกนผู้เล่นอื่นเพื่อดูว่าใครมี\x20📊ส่องสถิติ\x20หรือ\x20💰คูณเดิมพัน\x20อยู่ในคลัง','Error\x20saving\x20file\x20shortcut\x20config:','leaderboard-table-body','.space-y-1.pl-4','student','stroke','confirm-admin-login-btn','readAsArrayBuffer','gain','Error\x20renaming\x20quiz:','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','poll','separate-by-content-checkbox','default-2','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.move-parallel-shortcut-menu-btn','input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','scheduled_pending','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','text-emerald-900','\x20\x20\x20-\x20คำตอบ:\x20','Error\x20saving\x20game\x20results:','หนอนหนังสือ','finished','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','smooth','blueprint.pdf','some','.png','shortcut_','ai-quiz-app-aefee','results-quiz-id-display','ตัวเลือก\x20ค','✂️\x20ตัด\x201\x20ตัวเลือก',')\x22><span\x20style=\x22','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','studentName','ผู้เล่น\x20','lastIndexOf','Error\x20committing\x20score\x20updates:','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','move-quiz-modal','กำลังอัปเดตแบบทดสอบ\x20','asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cge','live-options-container','ความเป็นอิสระของเหตุการณ์','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','pen-tool-btn','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','clear-all-links-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผลรวมอนุกรม\x20(Σ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การแจกแจงทวินาม\x20(พื้นฐาน)','create-project-btn','ไม่มี','/public/data/projects','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','ความแปรปรวน','ส่วนเบี่ยงเบนเฉลี่ย','link-url-input','bar','bg-indigo-600\x20hover:bg-indigo-700','setFont','strength-weakness-analysis-container','NUMBER','passing-score-input','quick_thinker','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','checkbox','manage-tab-content','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','(ตามมาติดๆ)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','ระบบเลขและค่าประจำหลัก','idealAnswer','close','add-parallel-shortcut-btn','projectSort','shortcut-blueprint-url-input','อสมการเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','สายหมอก','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topics.','blueprint-project-manager-view','values','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','pointermove','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','OBJECT','application/json','ดอกเบี้ยอย่างง่าย','กำลังเตรียมไฟล์อ้างอิง...','นักประดิษฐ์','forEach','อุณหภูมิและการแปลง','Error\x20updating\x20old\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','ติดซีรีส์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','presentation-ai-result','</tr>','quiz-editor-modal','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','newOptionsPayload','height','key','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ลำดับการดำเนินการ\x20(PEMDAS)','.game-start-btn','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','bg-gray-400','leaderboard-quiz','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','shortcut-name-input','fileShortcutTabs','/studentProfiles','ระบบสมการเชิงเส้นสองตัวแปร','Error\x20saving\x20shortcut\x20config:','แบบปรนัย\x204\x20ตัวเลือก','qIndex','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ยกเลิกการใช้ไอเทม\x20(ไอเทมถูกคืนให้แล้ว)','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','Error\x20in\x20handleApiCall:','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','scrollHeight','options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','parseInline','cancel-wager-btn','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','bp-modal-question-complexity-select','stringify','นำแบบทดสอบออกจากคลังนี้แล้ว','earned-badges-container','documentElement','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','_opt','postScore','confident','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','grid','Error\x20preparing\x20content\x20quiz:','display','ป่าไม้','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','preTestId','student-progress-view','target','ลบโปรเจคสำเร็จแล้ว','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','results','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','API\x20call\x20failed','รากที่สองและที่สาม','gameVariant','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','Error\x20starting\x20team\x20quiz:','sync-player-list','ระยะทางและจุดกึ่งกลาง','_opt0\x22\x20name=\x22question','</label></div>','.regenerate-question-btn','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-id=\x22','<div\x20class=\x22flex-1\x22></div>','every','คุณแน่ใจหรือไม่ว่าต้องการใช้\x20\x27สถิติ\x27?\x20(หากใช้แล้วตอบผิด\x20บทลงโทษจะรุนแรงขึ้น)','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','submit-group-answer-btn','</div></div>','Error\x20fetching\x20project\x20quizzes:','half_mark_status','student-join-game-view','behaviorLog','fiftyFifty','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','getBoundingClientRect','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','url','matching_item','join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','bg-green-50','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','quizId','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20joining\x20sync\x20game:','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','MathJax','เพิ่ม\x20','open-global-live-btn','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','moveTo','practice-topic-btn','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','pollUsedThisTurn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','team-quiz-topic','toDataURL','ไม่พบไฟล์\x20Test\x20Blueprint','confirm-join-game-btn','bank-tab','wagerMultiplier','สมการตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','นักวิทยาศาสตร์','พีชคณิตและฟังก์ชัน','ตัวแทนแห่งดวงจันทร์','pointercancel','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','.auto-resize-textarea','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','ปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ARRAY','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','กำลังสร้างแบบทดสอบ:\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','.bp-present-btn','#file-shortcut-tabs-nav\x20.tab-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','Powerup\x20use\x20failed:',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22\x20value=\x22','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','push','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','การกระจายและการจัดหมู่','save-bp-reference-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','save','\x20ชุดสำเร็จ!','text-gray-400\x20hover:text-indigo-600','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','กำลังสร้างเนื้อหา:\x20','#open-additional-shortcuts-btn','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','num-questions','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','จัดการ','sync-variant-selector','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','retake-quiz-loop-btn','ที่พิมพ์ได้\x20จำนวน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','รักแรกพบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','#view-rankings-btn','dragend','bulk-results-display-select','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','confidence_single','Error\x20displaying\x20blueprint\x20project:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','round','\x20ข้อ\x20','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','progress-student-select','\x22>ไม่ใช่</p>','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','.delete-project-btn','line-through\x20text-red-700','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','สมการเหตุผล\x20(rational)','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','bg-red-500','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','(เลือกแล้ว\x20','ไม่พบข้อมูลการจับคู่','presentation-explanation','ดีมาก','line-height:\x201.3;\x20min-width:\x200;','startedAt','hint','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','เกิดข้อผิดพลาดในการอัปเดตสถานะ','reveal_at_end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','querySelector','close-presentation-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-game-btn','not-found','\x22.\x20Ideal\x20Answer:\x20\x22','status','.duplicate-quiz-btn','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','blueprint-options-container','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','.buy-time-confirm-btn','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','link-topic-input','webkitExitFullscreen','<textarea\x20name=\x22question','td,\x20th','Failed\x20to\x20generate\x20practice\x20test:','ไม่ได้ตอบ','สร้างแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','selectedTopicNames','find','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','Error\x20during\x20blueprint\x20link\x20cleanup:','<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','scratchpad-modal','competition','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','หน่วยความยาวและการแปลง','\x22...','option','fromCharCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบ\x20Team\x20Quiz!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','🛡️\x20ประกันภัยเริ่มทำงาน!\x20หากข้อนี้ตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200','fileShortcutOrder','pointerup','createdBy','ไม่พบข้อมูลเกม','nextElementSibling','admin-dashboard','score-distribution-chart','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ลาเต้ไม่หวาน','save-parallel-shortcut-btn','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','bg-gray-200\x20text-gray-700','flex','.bp-generate-lesson-btn','scratchpad-header','ไม่พบตารางสำหรับ\x20Export','padStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20blueprint\x20projects:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','questionIndex','เปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดาวTikTok','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer-counter','ผู้พิชิตดาว','latestSubmittedAt','cancel-passcode-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','pointContent','scratchpad-canvas','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','isBlackMarketEnabled','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','teachingContent','project-passcode-input','3GlPHGi','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','.delete-svg-btn','content','Failed\x20to\x20resume\x20game\x20session:','deltaY','decode','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','sum','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','select-all-topics-btn','fileShortcutsConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','max','\x22><span\x20style=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.unpair-quiz-btn','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','clearRect','visibilityState','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','checkAnswer','interesting-stats-container','remove','\x22\x20class=\x22pin-project-btn\x20','isRemedial','p-2\x20bg-black/10\x20rounded-md','Error\x20listening\x20for\x20custom\x20math\x20topics:','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','hasOwnProperty','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x0a---\x0a','คะแนน','.use-hidden-shortcut-btn','message-modal','กุ้งเต้นแร้งกา','unshift','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','กำลังสแกนหาแบบทดสอบเก่า...','กำลังค้นหากิจกรรม...','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำเตือน\x20(','table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20kick\x20player\x20','pointsLastRound','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','use-powerup-','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','manage-players-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','inactive','Error\x20adding\x20custom\x20topic:','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','.draggable-text','การแยกตัวประกอบ','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','Failed\x20to\x20end\x20group\x20mode\x20game:','enable-passcode-checkbox','กรุณาเลือกโปรเจคปลายทาง','\x22\x20name=\x22confidence','Error\x20deleting\x20submission:','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','.correct-response-input','generate-from-topic-btn','<option\x20value=\x22\x22>กำลังโหลด...</option>','set','additional-parallel-shortcuts-list','0\x200','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20generating\x20hybrid\x20quiz:','<i\x20class=\x22fas\x20fa-pen\x22></i>','\x20ชิ้น)','add-shortcut-btn','quiz-bank-modal','sync-timer-bar','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','นอนไม่พอ','.edit-file-shortcut-btn','แบบทดสอบที่ติดดาว','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','กำลังดึงไฟล์อ้างอิงจากลิงก์...','grid-view-btn','lesson-loader-text','link-input-area','export-worksheet-pdf-btn','txt','toFixed','quiz-id-input','👻\x20บังคับมั่นใจ','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','.quiz-bank-present-btn','answered','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','commit','cancel-file-shortcut-edit-btn','blueprint-topics-list','setTransform','จำนวนข้อ:','innerText','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','[data-topic-container-id]','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-bank-subtopic-name','#student-project-leaderboard-content\x20thead','สร้างชุดคำถามจับคู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','stopPropagation','sync-matching-select','block','.remove-file-shortcut-from-tab-btn','เริ่มกิจกรรม:\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','FIRST_TRY_ACE','เรขาคณิตวิเคราะห์','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','\x5cpm','confirm-team-players-btn','Error\x20updating\x20sort\x20preference:','parallelTestShortcutsConfig','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','modal-adaptive-quiz-checkbox','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ไฟล์ลัด\x201','student-reading-area','ครูใหญ่','Re-grade\x20process\x20failed:','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-status-modal','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฮเพอร์โบลา','overline','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','user','ownerSVGElement','/public/data/quizzes','transition','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','หยุดระบบจับเวลาหรี่หน้าจอ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-input-','shortcut-editor-modal','ยูทูปเบอร์ฝึกหัด','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','appendChild','ไม่ระบุ','displayName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22ใช้:\x20โอกาสครั้งที่สอง\x22>🔁</span>','lesson-view-title','setItem',',\x20r=','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','lineCap','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-2\x20rounded-md\x20','eraser','.totalPoints','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','รูปสี่เหลี่ยมและสมบัติ','confirm-rename-quiz-btn','lastAnswerCorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','confidence-mode-container','เวกเตอร์และเมทริกซ์\x20(เสริม)','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','showImproveButton','หมดเวลาสำหรับข้อนี้!','bank-input-area','red','hiddenOptions_q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','promise','focus','แบบเติมคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','forceConfident','createObjectURL','🔁\x20โอกาสครั้งที่สอง','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','loader-text','<div\x20style=\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การจัดหมู่\x20(Combination)','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','\x22><i\x20class=\x22fas\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','P)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isAdaptive','strokeStyle','projectName','.parallel-shortcut-tab-btn','hover:bg-indigo-100','bg-black/20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','mean','.group\x5c/dropdown-parallel','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','.question-editor-item','nickname-input','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','backgroundColor','topic-quiz-bank-modal','text-tab','show_results_only','Error\x20updating\x20pin\x20status:','#retake-for-improvement-btn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','add-student-btn','file-topics-list','clientX','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects/','handleGeneratePracticeTest','pointerdown','msExitFullscreen','behavior-log','parallel-shortcut-url-input','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','quiz-bank-count','ยอดนักสืบ','opacity','\x22\x5cn','index','curriculum','beforeend','num-choices-container','get','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','wasForced','undo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','isDefault','ชื่อหัวข้อห้ามว่าง','devicePixelRatio','outerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','<p\x20class=\x22text-xl\x22>','พบ\x20Sync\x20Game!','startTime','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20deleting\x20custom\x20topic:','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','onkeydown','blueprint-upload-input','wasJinxed','left','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ราชาคัมแบ็ก','บันทึกผลการเล่นเกมของ\x20','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x20รายการ\x20สำเร็จ!','modal-timer-mode-select','เสือซ่อนเล็บ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcuts-loading-msg','freeMarketEntryUsed_q','student-quiz-leaderboard-tab','lesson-view-content','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','โหลดนาน','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','starred','setAttribute','findIndex','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','การวัด','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ภูเขา','Error\x20updating\x20custom\x20topic:','ทฤษฎีทวินาม\x20(เบื้องต้น)','parallel-shortcut-name-input','มุมและการวัดมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20จุด','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','แบบทดสอบจากคลังส่วนตัว','Error\x20fetching\x20student\x20rankings:','</tbody></table>','file-default-2','parse','reference-pdf-upload','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','tabId','globalAlpha','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','เปลี่ยนชื่อโปรเจคสำเร็จ','lesson-loader','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','</p></div>','.delete-hidden-shortcut-btn','.topic-actions-view','toLowerCase','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','sync-short-answer-input','then','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add','use-powerup-buyTime','</span></div>','PROMPT_PLACEHOLDER','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','Enter','ลบแบบทดสอบสำเร็จแล้ว','translate(','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','ยอดเยี่ยม','Error\x20saving\x20questions\x20to\x20practice\x20bank:','กรุณาใส่ชื่อโปรเจค','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','mousemove','href','-\x20ข้อ\x20','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>💰\x20เดิมพัน\x20(','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x20from\x20sync\x20game:','.start-presentation-list-btn','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','applicationData','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','.view-bp-lesson-btn','Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27strategyScan\x27.','Market\x20entry\x20payment\x20failed:','additional-file-shortcuts-modal','workerSrc','ท้องฟ้า','lesson-plan-modal','position','sync-player-management','shortcutIds','use-powerup-poll','highlighter-size-slider','badgesCount','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','#6366F1','overflowY','ดูว่าคนอื่นตอบข้อไหนบ้าง\x20(คำเตือน:\x20หากใช้แล้วตอบผิด\x20บทลงโทษคะแนนจะ\x20x2)','.application-options\x20button','name','cancel-quiz-edits-btn-footer','ฟังก์ชันยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','cancel-rename-quiz-btn','ตรวจพบการออกจากหน้าจอครบ\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','onclick','ย้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22question_single\x22\x20value=\x22','blueprint-shortcut-container','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','ต้นฉบับ\x201','\x5cle','save-settings-btn','แม่น้ำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','indexOf','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','match','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','bg-red-100\x20text-red-800','answerText','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timerDuration','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','1878HiMtUX','far\x20fa-star','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-submit-short-answer-btn','bg-green-200','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','black-market-settings-container','manual-bp-content','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-800','confirm-link-quiz-btn','total','เลือกผู้เล่น\x201\x20คน\x20ให้ถูกบังคับ\x20\x22มั่นใจ\x22\x20ในข้อนี้','ondragstart','test','อนุพันธ์:\x20ผลคูณ/ผลหาร','powerupUsed','แผนการสอน','Error\x20processing\x20parallel\x20shortcut\x20click:','modal-confidence-scoring-checkbox','.pair-quiz-btn','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','-options\x22>','ไม่ใช่\x20/\x20ผิด','memory','scrollY','\x22\x20value=\x22false\x22\x20','verify-answers-btn','\x22\x20name=\x22question','realName','.toggle-actions-btn','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-initial-view','(หลังเรียน)\x20','input[type=\x22radio\x22][value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','mandatory','update-old-quizzes-btn','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','Error\x20submitting\x20group\x20answer:','Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27forceConfident\x27.','สร้างโปรเจคสำเร็จ!','\x22\x20สำเร็จ','คัดลอกรหัสแล้ว!','check-answer-btn','element','game-start-mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','per-q-countdown','คนคุย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนนักเรียน','https://corsproxy.io/?','market-timer-bar','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','การลบทศนิยม','ไม่พบข้อมูลผู้ใช้','\x20ข้อแล้ว!','passingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','comparison-chart','423938qDfqgq','(กำลังไล่ตาม)','parallelShortcutTabs','อัปเดตแบบทดสอบเก่า\x20','AI\x20did\x20not\x20return\x20any\x20content.','circle','ตารางความถี่','dblclick','bg-red-700\x20text-white\x20font-bold','show-results-btn','scheduled','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','random','from','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','error','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-600\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>⏳\x20คุณมีเวลาโบนัสในข้อนี้!</div>','Error\x20saving\x20quiz\x20edits:','wager-modal','dragover','.status','.pen-size-btn','ม้าดีดกะโหลก','quizMode','student-team-selection-view','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','<span\x20class=\x22font-bold\x20','bg-green-100','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','answeredCurrentQuestion','ช่างภาพ','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','md:col-span-1','ระยะเวลา\x20(นาที):','ระยะจากจุดถึงเส้นตรง','score','blueprint-project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tool','ไม่พบโปรเจคที่ต้องการลบ','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-question-editor-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','buy-time-quantity-input','อสมการค่าสัมบูรณ์','offset','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','240','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','default-','summaryContent','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','cos','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','data','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ดอกเบี้ยทบต้น','stem','innerHTML','prev-question-btn','student-progress-content','pdf','\x22\x20name=\x22drill_answer\x22\x20value=\x22','join-group-activity-btn','คะแนนเต็ม','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','per-question-options','div','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44','isCorrect','มือปราบสายรุ้ง','answers','ai-quiz-app-aefee.firebasestorage.app','sync-manage-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','file-input-area','</th>','กิจกรรมสิ้นสุดลงแล้ว','ผ่านฉลุย','students','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มุมพิเศษ\x2030°-60°-90°','allResponses','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>👻\x20คุณถูกบังคับให้\x20\x22มั่นใจ\x22\x20ในข้อนี้!</div>','.bp-edit-topic-btn','\x5csum','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','message','hidden','.summary-bar-item','width\x2060s\x20linear','ซามูไรสายเดี่ยว','pointerType','contentEditable','localeCompare','Error\x20saving\x20user\x20preference:','ปล่อยพลัง','confidence-modal','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','insurance','color','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','confirmation-modal','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','📡\x20ตรวจพบผู้เล่นที่เป็นภัยคุกคาม:\x0a\x0a','correctAnswerIndex','พลังคลื่นเต่า','คัดลอกแบบทดสอบสำเร็จ','global-quiz-search-input','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','fadeStartTime','เนื้อหาสำหรับสอน:\x20','close-additional-parallel-shortcuts-btn','Group\x20Mode','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','สรุปผลการวิเคราะห์:\x5cn','generated','วงกลม:\x20คอร์ดและเส้นสัมผัส','Error\x20verifying\x20answers:','กำลังวิเคราะห์หัวข้อ...','image/png','prod','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','uid','Error\x20analyzing\x20blueprint\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-100\x20opacity-70','quiz-end-time','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','pin','quiz-results','items','Error\x20listening\x20for\x20projects:','ไม่พบเกมที่กำลังเข้าร่วม','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','reset-view-btn','ท็อปฟอร์ม','shuffle','https://drive.google.com/uc?export=download&id=','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','after','.cancel-edit-topic-btn','admin-password-modal','Error\x20saving\x20lesson\x20to\x20project:','font-bold\x20text-red-700\x20line-through','lessonPlan','Error\x20creating\x20project:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','timer-mode-select','modal-loop-until-pass-checkbox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','API\x20call\x20failed\x20with\x20status:\x20','qType','แบบทดสอบฝึกฝนเรื่อง:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','เศรษฐีดูไบ','hasPerfectScoreBonus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','submit','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','update','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','shortcut-tabs-nav','กรุณาเลือกโปรเจคก่อน','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','classic','lesson-plan-title','<span\x20class=\x22text-gray-400\x20ml-1\x22\x20title=\x22คะแนนจริงเป็น\x200\x22>😥</span>','behavior-log-tab-content','scrollIntoView','#parallel-shortcut-tabs-nav\x20.tab-name-input','topicName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','settings','fullscreenElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','back-to-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x20จาก\x20','Error\x20starting\x20game:','.file-topic-selection-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','entries','mode','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','manage','เกิดข้อผิดพลาดในการสร้างห้องเกม','questionDisplayedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','<p><strong>คำตอบของคุณ:</strong>\x20','\x20|\x20','-tab-content','pointsLastQuestion','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','5121912ifAzkn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','closest','dispatchEvent','back-to-dashboard-btn','quiz-settings-modal','geq','Invalid\x20response\x20structure\x20from\x20API.','firstScore','questionType','[data-topic-id=\x22','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','parallel-shortcut-modal-title','\x20\x20\x20-\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.answeredCurrentQuestion','fixedData','.export-pdf-list-btn','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','fas\x20fa-star\x20text-yellow-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x22\x20x','text-yellow-800','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','Error\x20fetching\x20lesson\x20content:','Copy\x20command\x20failed','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','badges','quiz-start-time','scratchpad-controls','timer-duration-container','.project-card-container','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','main-correct-answer-display','style','reveal-answer-btn','.isForcedConfident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','description','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','bg-blue-100\x20text-blue-800','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x22\x20value=\x22true\x22\x20','drop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</body></html>','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','select[name=\x22question_single\x22]','เลือกผู้เล่นที่จะบังคับ\x20\x22มั่นใจ\x22\x20(ใส่ตัวเลข):\x0a','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','เพิ่มปุ่มลัดจากไฟล์ใหม่','sort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','cancel-quiz-status-btn','ไม่พบแบบทดสอบ','cancel-move-quiz-btn','str','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','dataIndex','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','บทเรียน','additional-shortcuts-list','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','ลบโปรเจค\x20\x22','submissions','กาแฟขม','length','นักเดินทาง','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','อยู่ในหัวข้อหลักใด:','bg-red-100','ศิลปิน','selected-topics-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x22.\x20','mouse','save-quiz-btn','close-market-btn','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','lesson-plan-content','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','user-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x20pointer-events-none\x22>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','ผู้ไม่ยอมแพ้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','toISOString','on_fire','Test\x20Blueprint','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','bulk-confidence-scoring-checkbox','กรุณาตั้งชื่อแท็บใหม่:','กำลังสร้างแบบทดสอบ\x20\x22','.question-editor-item[data-q-index=\x22','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.generate-lesson-btn','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','<span\x20title=\x22ใช้:\x20ตัด\x201\x20ตัวเลือก\x22>✂️</span>','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','STRING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-2\x20justify-center\x20items-center\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-market-btn\x22\x20class=\x22bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-store\x22></i>\x20ตลาดมืด\x20(มี\x20','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ในข้อนี้\x20ถ้าคุณตอบผิด\x20บทลงโทษทั้งหมดจะเป็น\x200','bp-reference-file-url','กำลังอ่านไฟล์\x20Test\x20Blueprint...','tan','modal-results-display-select','ดอทโปรดักต์\x20(dot)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','close-lesson-view-btn','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','shortcut-id-input','admin-password-input','player-count','\x20Points)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','2155596CQRanN','.txt','.move-quiz-btn','เกิดข้อผิดพลาดในการลบโปรเจค','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','open-market-btn','msRequestFullscreen','topic-input','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','ยกเลิกการเชื่อมโยงสำเร็จ','อัตราการเปลี่ยนแปลงทันที','secondChance','activeGameSession','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','พื้นที่สามเหลี่ยม','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','wager-amount-display','เกิดข้อผิดพลาดในการลบผลสอบ','text/plain','quiz-type-select','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','อนุพันธ์:\x20กฎพื้นฐาน','AI\x20Formula\x20Fix\x20Error:','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','substr','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','global-activity-quiz-list','ไม่สามารถเริ่มเกมได้','questionText','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','add-from-global-bank-btn','open-sync-scratchpad-btn','การลบ','มังกรกินจุ','สอบปกติ',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','separate-by-content-from-file-checkbox','lives','ดาบพิฆาตอสูร','ON_FIRE','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cancel-test-btn','input[name=\x22syncVariant\x22][value=\x22classic\x22]','save-project-name-btn','analyze-strengths-btn','หน่วยมวล/น้ำหนักและการแปลง','.bp-game-btn','พื้นที่ผิวรูปทรงสามมิติ','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','export-pdf-modal','Successfully\x20removed\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','ฮัลค์','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','จำนวนและการดำเนินการ','</div>\x0a</div>\x0a','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','คำอธิบาย...','<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','stdDev','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','contains','addEventListener','replace','cutOne','.edit-hidden-shortcut-btn','[data-field=\x22subTopic\x22]','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','ตอบถูก\x203\x20ข้อติดต่อกัน','</button>','ไม่สามารถเพิ่มนักเรียนได้','/public/data/blueprintProjects','quiz-editor-questions-container','readAsDataURL','fa-fire\x20text-orange-500','text-input-area','การแปลงรูปอัตลักษณ์','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','questionId','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','สถิติและความน่าจะเป็น','\x22\x20สำเร็จ!','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','Error\x20fetching\x20quiz\x20settings:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','ไอติมทอด','team','loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','mouseleave','สำหรับโปรเจค:\x20','fa-rocket\x20text-purple-500','tab_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','resultsDisplay','สมมาตร\x20(แกน/จุด)','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','shadowColor','buyTime','_opt0\x22>ใช่</label></div>','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button></div>','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','\x22\x20data-quiz-id=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','document','bg-green-100\x20text-green-800','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','leaderboard-quiz-tab-content','reviewQuestionIndex','เลือกและเริ่มสร้าง','timerMode','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','candidates','<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','right','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','endTime','hint-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','.buy-item-btn','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','load-quiz-btn','scratchpad-question','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-project-select','เกิดข้อผิดพลาดในการลบ','questionStatus','[*]','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','duration-300','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','add-file-shortcut-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','question-complexity-select','class','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text','คะแนนเต็ม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','question','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','/questionBank','parallelShortcutOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.project-card-container.opacity-50','touches','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','🌗\x2050:50','เกิดข้อผิดพลาดในการลบหัวข้อ','results-quiz-title','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','แก้ไขชื่อหัวข้อย่อย:','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-upload-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','underline','multiple_choice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','parts','.bp-create-topic-quiz-btn','Error\x20linking\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.parallel-shortcut-btn','parallel-shortcut-container','<button\x20id=\x22','ทศนิยม\x20(ค่าประจำหลัก)','#FEF3C7','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','perQuestionStats','ผ่าน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','next-question-timed-btn','.timeBonusThisQuestion','<span\x20class=\x22sort-indicator\x20ml-2\x22>','file.txt','ข้าวมันไก่พิเศษ','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.lastAnswerIndex','touchstart','เกิดข้อผิดพลาดในการสร้าง:\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-modal','คนโสด','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','keyConcepts','.use-hidden-file-shortcut-btn','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','คนดีศรีสยาม','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','docs','เส้นตรง:\x20ขนาน/ตั้งฉาก','file-shortcut-url-input','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#open-additional-file-shortcuts-btn','ตัวประกอบและตัวประกอบเฉพาะ','modal-timer-duration-label','circ','ถูกต้อง!','MathJax\x20re-render\x20failed:',';\x22\x20data-id=\x22','parallel-default-2','modal-close-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','กรุณาเลือกโปรเจคที่ต้องการบันทึก','parentElement','code','fill_in_the_blank','pinned-items','</strong></div>','confirm-delete-btn','correctAnswer','.generate-content-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','🛡️\x20ประกันภัย','date_desc','th-TH','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','scratchpad-options','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','correct','Attempting\x20to\x20save\x20game\x20results...','\x5cneq','<tr\x20class=\x22','questions','blur','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','.shortcut-list-item','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectId','admin-testing','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-green-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🔁\x20โอกาสครั้งที่สองทำงานอยู่!</div>','ไม่พบข้อมูลข้อสอบหลังเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','.delete-quiz-btn','แผนการสอน:\x20','แมวเก้าชีวิต','lower_group_count','timer-bar','จิงโจ้สโลว์ไลฟ์','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','type','getTime','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','substring','Remedial\x20quiz\x20generation\x20failed:','cdot','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','กำลังสร้างแบบทดสอบจากหัวข้อ...','text-red-700\x20bg-red-100','ชีสเค้ก','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','Error\x20saving\x20to\x20question\x20bank:','save-game-results-checkbox','<span\x20class=\x22font-bold\x20text-right\x22\x20style=\x22flex-shrink:\x200;\x22>','true_false','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','teacherSuggestions','MathJax\x20typeset\x20error\x20(analytics):','complexityValue','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','ส่งแล้ว','originalQuestionText','\x20ชุด)</span>','cancel-global-activity-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','AI\x20ไม่สามารถประมวลผลข้อมูลได้','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','includes','black-market-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','generated-quiz-container','top','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','<tr>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','เพิ่มปุ่มลัดใหม่','ร้อยละพื้นฐาน','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.admin-try-quiz-list-btn','💰\x20คูณเดิมพัน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','mode-switcher-btn','tGain','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','Error\x20deleting\x20project:','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallel-shortcut-id-input','blob','(พยายามอยู่)','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20resetting\x20project\x20order:','1188634wXhzZW','\x20ตัวเลือก)','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','correctResponse','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','rename-quiz-modal','end-game-btn','toLocaleDateString','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','\x20คะแนน\x20','end-sync-game-btn','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','createElementNS','.presentation-option','พื้นที่วงกลม/ส่วนของวงกลม','show_pass_fail_only','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','showAnswerInAnonymous','handleGenerateQuizFromBlueprintTopic','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20confirming\x20players\x20for\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-file-shortcut-tab-btn','game-start-quiz-id','แก้ไขสูตรคณิตศาสตร์\x20','fa-user-astronaut\x20text-blue-700','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','next-sync-question-btn','button','default-1','lobby','presentation-short-answer-input','startsWith','การหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','อนุพันธ์:\x20กฎลูกโซ่','interesting-stats-wrapper','Error\x20starting\x20group\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20saving\x20parallel\x20shortcut:','.highlighter-color-btn','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','เส้นจำนวน','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','restore','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','.group\x5c/dropdown','keyup','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ondragend','ธอร์ค้อนบิน','teacherTips','file-shortcut-id-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','confirm-move-quiz-btn','drill-feedback','\x20ตัวเลือก.\x20','upper_group_count','\x22>(','delete-svg-btn','หมดเวลา!\x20กำลังส่งคำตอบ...','export-word-btn','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','bg-blue-500\x20hover:bg-blue-600\x20text-white','#e21b3c','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','Error\x20toggling\x20pin\x20status:','ยอดเยี่ยม!','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','bg-yellow-50','.file-shortcut-btn','\x0a\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','change','sync-timer-enable-checkbox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-sort-select','suggestedAnswer','lineWidth','.generate-post-test-btn','toLocaleString','confidence-scoring-checkbox','SAFETY','ระบบอสมการ','text-gray-200','start-game-btn','global-activity-modal','Error\x20joining\x20team\x20quiz:','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','textarea','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-open-topic-bank-btn','กำลังสร้างคำถามข้อ\x20','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','confirm-create-project-btn','เส้นตรง:\x20รูปแบบสมการ','ทฤษฎีบทพีทาโกรัสและการประยุกต์','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','save-visibility-settings-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการจับคู่','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','reveal-names-btn','leaderboard-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Could\x20not\x20fetch\x20reference\x20file:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การปัดเศษและประมาณค่า','ดาวสภา','parallel-test-input-area','attempts','สร้างคำถามใหม่\x201\x20ข้อ\x20','cancel-quiz-bank-btn','not_confident','</form>','.answered','topic-input-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','ไม่พบข้อมูลแบบทดสอบ','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','auto','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ตอบถูกทุกข้อในแบบทดสอบนี้','#math-topics-checkbox-container\x20input:checked','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ref','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','neq','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','custom-math-topic-input','\x27,\x20\x27','วงกลม:\x20สมการและสมบัติ','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','dfrac','.verification-result','quadraticCurveTo','กระต่ายตื่นตูม','modal-confidence-mode-container','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','```json','สุดยอด!\x20ตอบถูกทุกข้อ','<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>','fa-pen','confirmation-message','0\x20(รอโบนัส)','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','source_document.pdf','highlighter-tool-btn','จากไฟล์ที่แนบมานี้,\x20','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','.move-file-shortcut-dropdown','.topic-row','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','เกิดข้อผิดพลาดในการสร้างใบงาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','#000000','classWeaknesses','open','.bp-try-btn','anon-settings-container','oninput','<p>','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','นักดนตรี','execCommand','ข้อ\x20','submission-status-chart','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upperGroupResponders','file-shortcut_','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ซื้อ\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-parallel-btn','gradeLevel','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','true','เกิดข้อผิดพลาดในการแก้ไข','fill','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','.star-quiz-btn','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','แบตหมด','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','pairedQuizId','อกหัก','date_asc','topics','สัญกรณ์วิทยาศาสตร์','.sortable-header','<option>กำลังโหลดโปรเจค...</option>','เกิดข้อผิดพลาดในการยืนยันผู้เล่น:\x20','pinnedProjects','ตัวเลือก\x20','keys','bp-modal-quiz-type-select','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','ผู้เล่นใหม่\x20','เกิดข้อผิดพลาดในการซื้อ','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-cyan-500\x20text-white\x20font-semibold\x20mb-3\x22>📊\x20คุณได้ใช้\x20\x22ส่องสถิติ\x22\x20ไปแล้ว\x20(หากตอบผิด\x20บทลงโทษ\x20x2)</div>','passcode-prompt-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','.live-answer-btn,\x20#live-submit-short-answer-btn','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','now','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#F3E8FF','px,\x20','ผู้เชี่ยวชาญ','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)\x20เพื่อเข้าตลาดมืดอีกครั้ง','ทำคะแนนได้เกินครึ่ง','helvetica','การบวกเศษส่วน','sara','</span>\x20','textarea[name=\x22question_single\x22]','getContext','.csv','onload','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','bg-red-50','.score','per-question-timer-container','lesson-view-modal','student-view','bg-green-200\x20text-green-900\x20font-bold','export-leaderboard-pdf-btn','บทเรียนเรื่อง:\x20','Error\x20duplicating\x20quiz:','.\x20แต่ละข้อมี\x20','currentTarget','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22สุดยอด!\x20(คะแนนเต็ม\x20+\x20มั่นใจทุกข้อ)\x22>👑</span>','ยังไม่สร้าง','กรุณาสร้างบทเรียนก่อน','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','application/pdf','คำถามดิบ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20clearing\x20all\x20links:','preventDefault','tooltipTarget','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x5cfrac{$1}{$2}','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','draggable-text','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','fill_in_no_choices','shortcutOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','slice','แบบทดสอบ:\x20','<div\x20class=\x22space-y-4\x22>','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','คัดลอกไม่สำเร็จ','mouseup','pre-test','close-lesson-plan-modal-footer-btn','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','opacity-50','lesson-sections-container','เพิ่มหัวข้อ\x20\x22','passcode-error-msg','fa-dumbbell\x20text-gray-700','isJinxed','bp-topic-list-container','ปรับเพิ่ม/ลดเป็นร้อยละ','scrollX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมการเชิงเส้นตัวแปรเดียว','ceil','Error\x20updating\x20quiz\x20settings:','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','projectOrder','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','tfrac','.quiz-settings-btn','CEOพันล้าน','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','text-green-700\x20bg-green-100','จับคู่แบบทดสอบสำเร็จ!','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','ยืนยันการจับคู่','isConfidenceScoringEnabled','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','results-display-select','GlobalWorkerOptions','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','student-team-join','screen_exit','ใช่\x20/\x20ถูก','<i\x20class=\x22fas\x20fa-magic\x22></i>','project-title','download','bestScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','Error\x20analyzing\x20file\x20for\x20topics:','newOptions','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','players','enable-black-market-checkbox','PERSEVERANCE','getElementById','first_try_ace','\x22\x20data-q-type=\x22','Error\x20deleting\x20shortcut:','kick-player-btn','แก้ไขหัวข้อสำเร็จ','word-break:\x20break-all;','.bp-view-analysis-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','.parallel-quiz-btn','removeChild','incorrect','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','standardTopic','none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','parent','\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','modal-passing-score-input','ปริมาตรรูปทรงสามมิติ','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','quiz-leaderboard-table-body','กองดอง','toString','timer-duration-input','#confidence-input-','scores-tab-btn','<div>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','.topic-name-input','</span>','Error\x20generating\x20from\x20link:','):\x20ฟรี','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','next-question-btn','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','matching','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','quiz-results-table-body','คะแนนยังไม่ถึงครึ่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ใหม่...','typesetPromise','</td>','หัวข้อหลักใหม่','select','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20comparing\x20results:','ความชันเส้นสัมผัส','touch','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','applicationContent','live-game','\x22\x20data-topic=\x22','trim','.move-shortcut-dropdown','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','pop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pdf','ฟังก์ชันสัมพัทธ์\x20(rational)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','start-quiz-btn','แก้ไขปุ่มลัดจากไฟล์','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','Error\x20generating\x20easy\x20version\x20quiz:','groups','<div><input\x20type=\x22radio\x22\x20id=\x22q','แปลงร่าง','bp-quiz-settings-btn','className','cursor','removeAttribute','commonMistakes','<button\x20data-shortcut-id=\x22','false','splice','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isAnonymousRevealed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','Unexpected\x20API\x20response\x20structure:','transparent','.ai-content\x20h3','category','ondrop','pathname','admin-view','confirm-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','#DBEAFE','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','medium','parallel-shortcut-editor-modal','scale','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','transform','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','student-result-area','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','comparison-individual-tab','อัปเดตการตั้งค่าของแบบทดสอบ\x20','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','analytics','(^|[^\x5c\x5c])\x5cb','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fix-lesson-latex-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut-name-input','bg-green-400\x20text-white\x20font-bold','attemptNumber','เกิดข้อผิดพลาดในการโหลดโปรเจค','#D1FAE5','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','results-table-container','bulk-shuffle-select','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','onchange','currentMode','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','submittedAt','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังโหลดคลังข้อสอบทั้งหมด...','.color-palette-btn','flex\x20flex-col\x20gap-2','file-default-1','parallel-shortcut_','.tab-name-display','😈\x20คำสาป\x20(Jinx)','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','ตะวันฉาย','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x22>ใช่</p>','ร้อยละประยุกต์','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-text-btn','<span\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีตัวช่วย</span>','Error\x20processing\x20file\x20for\x20AI:','$1\x5c%','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','ห.ร.ม.\x20(GCD)','หัวข้อที่สร้างเอง','text-blue-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','members','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','font-bold\x20text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','quiz-search-input','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','artifacts/','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','):\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ค่าสัมบูรณ์','raw','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เต่าสายฟ้า','ยืนยันการกระทำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','math-topics-checkbox-container','playerIndex','Error\x20pairing\x20quizzes:','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20(มี:\x20','export-excel-btn','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','ไม่พบข้อมูลโปรเจค','/submissions','dim-overlay','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','student-project-leaderboard-table-body','warn','บันทึกโปรเจค\x20\x22','generate-worksheet-btn','#results-table\x20thead\x20tr','parallel-shortcuts-loading-msg','behavior-log-tab-btn','manual-bp-project-name','\x20/\x20','\x20คน\x20(','เปลี่ยนชื่อแบบทดสอบสำเร็จ','Error\x20joining\x20activity:','undefined','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','confidence-choice-btn','<button\x20id=\x22use-powerup-strategyScan\x22\x20class=\x22powerup-btn\x20bg-cyan-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>📡\x20สแกน\x20(','(ไม่มีชื่อ)','ย้ายแบบทดสอบไปโปรเจคอื่น','isStarred','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','sync-timer-duration-input','analytics-tab-btn','การนับ','text-green-600\x20font-bold','back-from-results-btn','10795ATRLle','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','has','\x20สำเร็จ!','กฎบวกและกฎคูณ','Failed\x20to\x20get\x20standardized\x20topic:','confidence-scoring-description','highlighter','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','ไม่มีคำอธิบาย','Error\x20saving\x20file\x20shortcut:','use-powerup-secondChance','text-content-input','shortcuts','whole_quiz','เรขาคณิต','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard_','/preferences/main','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','กัปตัน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','bg-green-500','strategyScan','.shortcut-list-item:not(.opacity-50)','.quiz-status-btn','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','num-choices','กำลังดึงข้อมูลจากลิงก์...','verify-answers-editor-btn','No\x20player\x20data\x20to\x20save.','.live-summary-tooltip.visible','selected-answer-index-hidden','short_answer','passcode','questions_only','rows','...','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','input[type=\x22radio\x22]:checked','ยังไม่มีนักเรียนส่งงาน','shortcutId','</a>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rename-quiz-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comparison','mixed','live-player-list','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','generationConfig','svg','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','.delete-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','analytics-summary-cards','โลมาบิน','bg-black/10','/public/data/syncGames','manage-tab','ไก่ฟ้าพญาลอ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','generated-quiz-actions','live-player-management','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','ความเท่ากันทุกประการของสามเหลี่ยม','.remove-parallel-shortcut-from-tab-btn','start-sync-game-btn','เกมเมอร์','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','แผนภาพกล่อง\x20(box\x20plot)','Error\x20updating\x20project\x20color:','.quiz-bank-try-btn','scratchpad-close-btn','Blueprint\x201','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','move-quiz-project-select','ondragover','NEGATIVE_INFINITY','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','เศษส่วน\x20(ย่อ/ขยาย)','.lastAnswerValue','เกมสิ้นสุดลงแล้ว','choices_only','file-topics-list-container','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','เกี่ยวกับหัวข้อ\x20\x22','student-name-select','scratchpad-clear-btn','border-indigo-500\x20text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','???','(คัดลอก)\x20','.move-shortcut-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wager-slider','getScreenCTM','text-gray-100','filter','ก่อนเรียน','ความคาดหมาย\x20(Expected\x20value)','onerror','mjx-container','answering','modal-confidence-mode-select','cancel-bp-settings-btn','จำนวนเชิงซ้อน\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.ideal-answer-input,\x20.correct-response-input','scores','เพื่อนสนิท','null','projectView','touchmove','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ควรปรับปรุง','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','อัปเดตสถานะสำเร็จ','Error\x20rendering\x20student\x20progress:','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','comparison-modal','</span></td>','การเรียงสับเปลี่ยน\x20(Permutation)','.bp-create-content-quiz-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','.linkedQuizIds','.kick-player-btn-sync','leaderboard-quiz-tab-btn','bg-white','text-red-600','คุณแน่ใจว่าต้องการลบแท็บนี้?','สร้างแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','cancel-create-project-btn','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','จำนวนคละ','การจัดกลุ่มข้อมูล','ส่วนเบี่ยงเบนมาตรฐาน','ฟังก์ชันเชิงเส้นและกราฟ','Error\x20joining\x20live\x20game:','generate-from-file-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','confidence','</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20loading\x20user\x20preferences:','.edit-hidden-parallel-shortcut-btn','ไม่พบข้อมูลหัวข้อที่จะบันทึก','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-id-display','rgba(79,\x2070,\x20229,\x200.8)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','.answers','podium','คณิตการเงิน/บูรณาการ','<span\x20title=\x22ใช้:\x20ส่องสถิติ\x22>📊</span>','ลบหัวข้อสำเร็จ','original-mode-checkbox','sync','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','bp-modal-difficulty-level-select','/public/data/customMathTopics','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','6236946IsJOze','btn','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','requestFullscreen','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เหมียวขี้เซา','selected-answer-index-hidden-wager','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-gray-300\x20hover:text-white','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','isLooping','N/A','.project-card-container:not(.opacity-50)','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','bp-modal-include-images-checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','.pen-color-btn','.scratchpad-content-wrapper','จำนวนเต็มบวก','Error\x20showing\x20quiz\x20detail\x20view:','ความสัมพันธ์ของมุม','(คู่ขนาน)\x20','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','⏳\x20ซื้อเวลา','ไม่ผ่าน','arrayBuffer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','<li>','อัตราส่วนและสัดส่วน','summary_chart','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20shortcut:','shortcut-reference-url-input','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','\x27\x20ในหัวข้อ\x20\x27','กฎของโคไซน์','Error\x20regenerating\x20question\x20in\x20editor:','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','confirm-passcode-btn','เลือกโปรเจคเพื่อบันทึก','บันทึกการตั้งค่าแล้ว','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-blue-500\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>🛡️\x20ประกันภัยทำงานอยู่!\x20(ตอบผิดไม่เสียคะแนน)</div>','justification','แก้ระบบสมการด้วยเมทริกซ์','ศูนย์','กราฟแท่ง\x20กราฟเส้น','Error\x20submitting\x20team\x20answer:','solution','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','export-lesson-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','create-project-modal','</p><p><strong>เฉลย:</strong>\x20','<svg','text-indigo-600','bg-red-500\x20text-white\x20font-bold','back-to-dashboard-from-results-btn','กลุ่ม:\x20','quizType','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20unlinking\x20quiz:','click','finishReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cancel-bulk-quiz-settings-btn','leaderboard','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','actions-container-','market-item-list','copy-quiz-id-btn','deselect-all-topics-btn','confirm-game-start-btn','additional-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','\x20quizzes\x20into\x20global\x20cache.','includeImages','close-additional-shortcuts-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','gameData','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','visibilitychange','Error\x20displaying\x20question\x20bank:','คำถามถัดไป','รอ...','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','file-tab','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','#10B981','export-lesson-to-pdf-btn','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','ondblclick','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','.doc','q-explanation-','lastAnswerIndex','difficultyValue','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x20แล้ว!','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกและบันทึก','.tab-name-input','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','input[type=\x22text\x22]','นักกีฬา','Error\x20generating\x20lesson\x20plan:','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปิดระบบมั่นใจ\x20และเปลี่ยนเป็น\x20\x22เดิมพัน\x22\x20(ถูกได้\x20+2x,\x20ผิดเสีย\x20-1x\x20ที่เดิมพัน)','perfect_score','ไอรอนแมน','difficulty-level-select','ข้อต่อไป','pen','.shortcut-btn','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','```','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','s;\x22\x20title=\x22','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','jspdf','team-student-list','ยังไม่เต็มนะ','dashboardConfig','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','default','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','name_asc','.save-custom-topic-btn','\x22><p\x20class=\x22font-semibold\x22>','slide-counter','min','text-red-800','.quiz-result-card','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','Error\x20saving\x20submission:','quiz-leaderboard-table','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x22>','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','mousedown','bank-quiz-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','autoTable','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','สร้างคำถามแบบเติมคำในช่องว่าง','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','instructions','แบบทดสอบนี้ปิดใช้งานอยู่','%PDF',')</button>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x22\x20title=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','\x22\x20data-target-tab-id=\x22','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','bg-blue-100','webkitRequestFullscreen','Error\x20generating\x20teaching\x20content:','realScore','\x22,\x20','project-quizzes-list','</li>','sync-timer-duration-container','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไป\x20','timestamp','.file-shortcut-tab-btn','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','parallel-default-1','.edit-hidden-file-shortcut-btn','border-green-700','API\x20Error\x20Response:','keydown','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ลำดับเรขาคณิต\x20(GP)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','.bp-live-btn','totalQuestions','move','isArray','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','responses','</select>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','บักแตงโม','ค่าความจริง/ตารางค่าความจริง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','manual_release','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','topic_','.delete-shortcut-btn','.ideal-answer-input','<option\x20value=\x22','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','trail','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','AI\x20Fix\x20Error:','timeBonusThisQuestion','additional-file-shortcuts-list','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','bg-green-200\x20text-green-800','\x20link(s)\x20for\x20quiz\x20ID:\x20','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การบวก',':</span><span>','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','project-search-input','\x20(สำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-delete-topic-btn','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','.sort-indicator','text-white','ตรวจคะแนนใหม่\x20','Error\x20adding\x20students:','การคูณเศษส่วน','string','.isJinxed','mainTopics','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','ตรวจทานเฉลยเสร็จสิ้น!','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','delete-all-students-btn','\x5cdiv','confirm-not-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','rgba(239,\x2068,\x2068,\x200.9)','Error\x20saving\x20manual\x20blueprint\x20project:','Bug\x20Alert:\x20playerData\x20is\x20missing\x20in\x20\x27jinx\x27.','generate-from-blueprint-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','bg-[#4ADE80]\x20text-green-900\x20font-bold','สมการยกกำลัง','presentation-slide-container','projectSortOrder','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','temp-loader-results','imageCode'];_0x4bd2=function(){return _0xfb31e2;};return _0x4bd2();}const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x4b15a0(0xda9),scratchpadPenColor=_0x4b15a0(0xb01),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x269f6a,_0x13fdc9){const _0x1eac3a=_0x4b15a0;return Math[_0x1eac3a(0xed3)](Math['pow'](_0x269f6a['x']-_0x13fdc9['x'],0x2)+Math[_0x1eac3a(0x41b)](_0x269f6a['y']-_0x13fdc9['y'],0x2));}function getMidpoint(_0x30f5c8,_0x4c25d0){return{'x':(_0x30f5c8['x']+_0x4c25d0['x'])/0x2,'y':(_0x30f5c8['y']+_0x4c25d0['y'])/0x2};}function getTransformedPoint(_0x22ccf2,_0x146492){return{'x':(_0x22ccf2-scratchpadOffset['x'])/scratchpadScale,'y':(_0x146492-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1be486=_0x4b15a0;if(!scratchpadCtx)return;const _0x1b1911=scratchpadCtx[_0x1be486(0xe71)],_0x5d3e7e=window[_0x1be486(0x6e3)]||0x1,_0x4e168=document[_0x1be486(0xb9f)](_0x1be486(0x5be));_0x4e168&&(_0x4e168[_0x1be486(0x8b5)][_0x1be486(0x388)]=_0x1be486(0x626),_0x4e168['style'][_0x1be486(0xc0e)]=_0x1be486(0x733)+scratchpadOffset['x']+_0x1be486(0xb3b)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0x1be486(0x647)](_0x5d3e7e,0x0,0x0,_0x5d3e7e,0x0,0x0),scratchpadCtx[_0x1be486(0x5ef)](0x0,0x0,_0x1b1911[_0x1be486(0x3bf)],_0x1b1911[_0x1be486(0x4ba)]),scratchpadCtx[_0x1be486(0xa86)](),scratchpadCtx[_0x1be486(0x547)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x1be486(0xc0c)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x40a48b=>{drawStroke(_0x40a48b);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x1be486(0xa86)]();}function renderGroupModeQuestion(){const _0x1b0784=_0x4b15a0;if(localQuestionIndex>=currentQuizData[_0x1b0784(0xa09)][_0x1b0784(0x8da)]){displayTeamQuizFinalResults();return;}const _0x5bc02c=currentQuizData[_0x1b0784(0xa09)][localQuestionIndex],_0x360add=_0x5bc02c[_0x1b0784(0x899)]||currentQuizData[_0x1b0784(0xd68)];let _0x46abdc=_0x5bc02c[_0x1b0784(0x7fb)]||_0x5bc02c[_0x1b0784(0x931)],_0x5ca037='';switch(_0x360add){case _0x1b0784(0x9c3):case'fill_in_with_choices':_0x5ca037=_0x5bc02c[_0x1b0784(0x4d1)][_0x1b0784(0xa0d)]((_0x3055c0,_0x1d167a)=>_0x1b0784(0x75d)+_0x1d167a+_0x1b0784(0x2f9)+_0x1d167a+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x1d167a+'\x22>'+_0x3055c0+'</label></div>')[_0x1b0784(0x510)]('');break;case _0x1b0784(0xa29):_0x5ca037='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x1b0784(0xc9f):case _0x1b0784(0xb63):_0x5ca037=_0x1b0784(0x491);break;case _0x1b0784(0x50f):_0x5ca037=_0x1b0784(0x7f6)+_0x5bc02c[_0x1b0784(0x816)][_0x1b0784(0xa0d)](_0x327bcf=>_0x1b0784(0xe02)+_0x327bcf+'\x22>'+_0x327bcf+_0x1b0784(0x36b))[_0x1b0784(0x510)]('')+'</select>';break;default:_0x5ca037=_0x1b0784(0x23b);break;}studentQuizArea[_0x1b0784(0x7fc)]=_0x1b0784(0x21e)+(localQuestionIndex+0x1)+_0x1b0784(0xc6c)+currentQuizData[_0x1b0784(0xa09)][_0x1b0784(0x8da)]+_0x1b0784(0x719)+localTeamPlayers[_0x1b0784(0x510)](',\x20')+_0x1b0784(0x2f5)+(localQuestionIndex+0x1)+'.\x20'+_0x46abdc+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5bc02c[_0x1b0784(0xe33)]?_0x1b0784(0xcf9)+_0x5bc02c[_0x1b0784(0xe33)]+'</div>':'')+_0x1b0784(0xbaf)+_0x5ca037+_0x1b0784(0x7e7),studentQuizArea[_0x1b0784(0xbd3)]['remove'](_0x1b0784(0x81c));if(window[_0x1b0784(0x51a)])MathJax[_0x1b0784(0xbce)]([studentQuizArea]);document[_0x1b0784(0xb9f)](_0x1b0784(0x503))[_0x1b0784(0x95a)](_0x1b0784(0xd6c),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x4a926f,_0x12acb5=null,_0x3afd57,_0x1f24c6=null,_0x4471c8=![],_0x2dc33a=null){const _0x1cf940=_0x4b15a0,_0x342e26=document[_0x1cf940(0xb9f)](_0x1cf940(0x434));_0x342e26&&_0x342e26['scrollIntoView']({'behavior':_0x1cf940(0x45a),'block':_0x1cf940(0x3b0)}),generateQuiz(_0x4a926f,_0x12acb5,null,_0x2dc33a,!![],_0x3afd57,_0x1f24c6,_0x4471c8);}function handleGenerateAndShowLesson(_0x4f058e,_0x5734e0){const _0x5080f4=_0x4b15a0,_0x22b7a9=document[_0x5080f4(0xb9f)](_0x5080f4(0xb4b)),_0x3cdaf5=document['getElementById'](_0x5080f4(0x684)),_0x476c81=document[_0x5080f4(0xb9f)](_0x5080f4(0x71f)),_0x539a9a=document[_0x5080f4(0xb9f)](_0x5080f4(0xb71));['pointContent',_0x5080f4(0x433),_0x5080f4(0xbd9),_0x5080f4(0x7f3)][_0x5080f4(0x4aa)](_0x57c1f0=>{const _0x31fb02=_0x5080f4,_0x42f346=document[_0x31fb02(0xb9f)](_0x57c1f0)[_0x31fb02(0x9f5)];_0x42f346&&(_0x42f346[_0x31fb02(0x8b5)][_0x31fb02(0x4e3)]=_0x31fb02(0x653));}),_0x3cdaf5['textContent']='กำลังสร้างบทเรียน:\x20'+_0x4f058e,_0x539a9a[_0x5080f4(0xbd3)][_0x5080f4(0x72b)](_0x5080f4(0x81c)),_0x476c81[_0x5080f4(0xbd3)]['remove'](_0x5080f4(0x81c)),_0x22b7a9['classList'][_0x5080f4(0x5f4)](_0x5080f4(0x81c)),generateLesson(_0x4f058e,_0x5734e0)['catch'](_0x19cc53=>{const _0x2018a4=_0x5080f4;console[_0x2018a4(0x7cd)](_0x2018a4(0x36f),_0x19cc53),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x22b7a9[_0x2018a4(0xbd3)][_0x2018a4(0x72b)](_0x2018a4(0x81c));});}function handlePointerDown(_0x1deea5){const _0x56f341=_0x4b15a0;_0x1deea5[_0x56f341(0xb5c)]();const _0x7d00d=scratchpadCtx['canvas'],_0x16dfaf=_0x7d00d['getBoundingClientRect'](),_0x50e5fe=_0x1deea5[_0x56f341(0x820)]||(_0x1deea5[_0x56f341(0x9b6)]?_0x56f341(0xbd7):_0x56f341(0x8e4));if(_0x50e5fe===_0x56f341(0xda9)||_0x50e5fe===_0x56f341(0x8e4)){if(_0x1deea5[_0x56f341(0x820)]==='mouse'&&_0x1deea5[_0x56f341(0xa6e)]!==0x0){_0x1deea5[_0x56f341(0xa6e)]===0x1&&(isMousePanning=!![],panStart={'x':_0x1deea5[_0x56f341(0x6c9)],'y':_0x1deea5[_0x56f341(0xea0)]},_0x7d00d['style'][_0x56f341(0xbf0)]=_0x56f341(0x1fb));return;}activeTool===_0x56f341(0xe04)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x273e23=getTransformedPoint(_0x1deea5[_0x56f341(0x6c9)]-_0x16dfaf[_0x56f341(0x6f1)],_0x1deea5[_0x56f341(0xea0)]-_0x16dfaf[_0x56f341(0xa3a)]);let _0x289aec={'tool':activeTool,'points':[_0x273e23]};if(activeTool==='pen')_0x289aec[_0x56f341(0x829)]=scratchpadPenColor,_0x289aec['size']=scratchpadPenSize;else{if(activeTool==='eraser')_0x289aec[_0x56f341(0x829)]=scratchpadPenColor,_0x289aec[_0x56f341(0x200)]=scratchpadEraserSize;else{if(activeTool===_0x56f341(0xc84))_0x289aec[_0x56f341(0x829)]=scratchpadHighlighterColor,_0x289aec['size']=scratchpadHighlighterSize;else activeTool===_0x56f341(0xe04)&&(_0x289aec[_0x56f341(0x829)]=scratchpadPenColor,_0x289aec['size']=scratchpadPenSize);}}currentStroke=_0x289aec;}else _0x1deea5[_0x56f341(0x9b6)]&&(_0x1deea5['touches'][_0x56f341(0x8da)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x1deea5[_0x56f341(0x9b6)][0x0][_0x56f341(0x6c9)],'y':_0x1deea5['touches'][0x0][_0x56f341(0xea0)]},{'x':_0x1deea5[_0x56f341(0x9b6)][0x1][_0x56f341(0x6c9)],'y':_0x1deea5[_0x56f341(0x9b6)][0x1][_0x56f341(0xea0)]}),initialPinchDistance=getDistance({'x':_0x1deea5[_0x56f341(0x9b6)][0x0]['clientX'],'y':_0x1deea5['touches'][0x0][_0x56f341(0xea0)]},{'x':_0x1deea5[_0x56f341(0x9b6)][0x1][_0x56f341(0x6c9)],'y':_0x1deea5['touches'][0x1][_0x56f341(0xea0)]})));}function animateTrail(){const _0x48fc57=_0x4b15a0,_0x4e0148=Date[_0x48fc57(0xb38)]();let _0x3e27aa=![];for(let _0xb3eef5=strokes[_0x48fc57(0x8da)]-0x1;_0xb3eef5>=0x0;_0xb3eef5--){const _0x3b7192=strokes[_0xb3eef5];if(_0x3b7192['tool']===_0x48fc57(0xe04)&&_0x3b7192['fadeStartTime']){const _0x3ae041=_0x4e0148-_0x3b7192[_0x48fc57(0x833)];_0x3ae041>=TRAIL_DURATION?strokes[_0x48fc57(0xbf5)](_0xb3eef5,0x1):(_0x3b7192[_0x48fc57(0x6d5)]=0x1-_0x3ae041/TRAIL_DURATION,_0x3e27aa=!![]);}}redrawScratchpad(),_0x3e27aa?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x4c758f){const _0x5871f1=_0x4b15a0;if(!_0x4c758f||_0x4c758f[_0x5871f1(0x2f8)][_0x5871f1(0x8da)]<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x5871f1(0x354)]=_0x5871f1(0x566),scratchpadCtx['lineCap']=_0x5871f1(0x566);if(_0x4c758f[_0x5871f1(0x7e5)]===_0x5871f1(0xe04)){const _0x4748d4=_0x4c758f[_0x5871f1(0x200)]/scratchpadScale;scratchpadCtx[_0x5871f1(0x71c)]=_0x4c758f['opacity']??0x1,scratchpadCtx[_0x5871f1(0x981)]=_0x5871f1(0xe26),scratchpadCtx[_0x5871f1(0xe8f)]=_0x4748d4*0x3,scratchpadCtx[_0x5871f1(0x6b0)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0x5871f1(0xaa9)]=_0x4748d4*2.5,scratchpadCtx[_0x5871f1(0xe47)](),scratchpadCtx[_0x5871f1(0x51f)](_0x4c758f['points'][0x0]['x'],_0x4c758f[_0x5871f1(0x2f8)][0x0]['y']);for(let _0x61d3a6=0x1;_0x61d3a6<_0x4c758f[_0x5871f1(0x2f8)][_0x5871f1(0x8da)]-0x1;_0x61d3a6++){const _0x5b2a3e=getMidpoint(_0x4c758f[_0x5871f1(0x2f8)][_0x61d3a6],_0x4c758f[_0x5871f1(0x2f8)][_0x61d3a6+0x1]);scratchpadCtx[_0x5871f1(0xae9)](_0x4c758f[_0x5871f1(0x2f8)][_0x61d3a6]['x'],_0x4c758f[_0x5871f1(0x2f8)][_0x61d3a6]['y'],_0x5b2a3e['x'],_0x5b2a3e['y']);}scratchpadCtx[_0x5871f1(0x442)](),scratchpadCtx['shadowColor']=_0x5871f1(0xbfd),scratchpadCtx[_0x5871f1(0xe8f)]=0x0,scratchpadCtx[_0x5871f1(0x6b0)]='#FFFFFF',scratchpadCtx[_0x5871f1(0xaa9)]=_0x4748d4,scratchpadCtx[_0x5871f1(0x442)](),scratchpadCtx['closePath']();}else{if(_0x4c758f[_0x5871f1(0x7e5)]==='highlighter'){scratchpadCtx[_0x5871f1(0x37c)]=_0x5871f1(0xe6f),scratchpadCtx[_0x5871f1(0x6b0)]=_0x4c758f['color'],scratchpadCtx[_0x5871f1(0xaa9)]=_0x4c758f['size'],scratchpadCtx['beginPath'](),scratchpadCtx[_0x5871f1(0x51f)](_0x4c758f[_0x5871f1(0x2f8)][0x0]['x'],_0x4c758f[_0x5871f1(0x2f8)][0x0]['y']);for(let _0x5577b7=0x1;_0x5577b7<_0x4c758f[_0x5871f1(0x2f8)][_0x5871f1(0x8da)]-0x1;_0x5577b7++){const _0x229acd=getMidpoint(_0x4c758f[_0x5871f1(0x2f8)][_0x5577b7],_0x4c758f['points'][_0x5577b7+0x1]);scratchpadCtx[_0x5871f1(0xae9)](_0x4c758f[_0x5871f1(0x2f8)][_0x5577b7]['x'],_0x4c758f['points'][_0x5577b7]['y'],_0x229acd['x'],_0x229acd['y']);}scratchpadCtx[_0x5871f1(0x442)](),scratchpadCtx[_0x5871f1(0x362)]();}else{scratchpadCtx[_0x5871f1(0x37c)]=_0x4c758f[_0x5871f1(0x7e5)]===_0x5871f1(0x68c)?'destination-out':_0x5871f1(0x333),scratchpadCtx[_0x5871f1(0x6b0)]=_0x4c758f[_0x5871f1(0x829)],scratchpadCtx[_0x5871f1(0xaa9)]=_0x4c758f[_0x5871f1(0x200)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x5871f1(0x51f)](_0x4c758f['points'][0x0]['x'],_0x4c758f[_0x5871f1(0x2f8)][0x0]['y']);for(let _0x2d8bbd=0x1;_0x2d8bbd<_0x4c758f['points']['length']-0x1;_0x2d8bbd++){const _0x447c36=getMidpoint(_0x4c758f['points'][_0x2d8bbd],_0x4c758f[_0x5871f1(0x2f8)][_0x2d8bbd+0x1]);scratchpadCtx[_0x5871f1(0xae9)](_0x4c758f[_0x5871f1(0x2f8)][_0x2d8bbd]['x'],_0x4c758f[_0x5871f1(0x2f8)][_0x2d8bbd]['y'],_0x447c36['x'],_0x447c36['y']);}scratchpadCtx[_0x5871f1(0x442)](),scratchpadCtx[_0x5871f1(0x362)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0xfdb565){const _0x46eba3=_0x4b15a0;_0xfdb565[_0x46eba3(0xb5c)]();const _0x5f0592=scratchpadCtx['canvas'],_0x33770a=_0x5f0592[_0x46eba3(0x50c)]();if(_0xfdb565[_0x46eba3(0x9b6)]){if(_0xfdb565[_0x46eba3(0x9b6)]['length']===0x1&&isDrawingOnScratchpad){const _0x1d4a71=getTransformedPoint(_0xfdb565['touches'][0x0][_0x46eba3(0x6c9)]-_0x33770a[_0x46eba3(0x6f1)],_0xfdb565[_0x46eba3(0x9b6)][0x0]['clientY']-_0x33770a[_0x46eba3(0xa3a)]);currentStroke[_0x46eba3(0x2f8)][_0x46eba3(0x542)](_0x1d4a71),redrawScratchpad();}else{if(_0xfdb565[_0x46eba3(0x9b6)][_0x46eba3(0x8da)]===0x2&&isPanning){const _0x40665a=getDistance({'x':_0xfdb565[_0x46eba3(0x9b6)][0x0][_0x46eba3(0x6c9)],'y':_0xfdb565[_0x46eba3(0x9b6)][0x0][_0x46eba3(0xea0)]},{'x':_0xfdb565[_0x46eba3(0x9b6)][0x1][_0x46eba3(0x6c9)],'y':_0xfdb565['touches'][0x1]['clientY']}),_0x56af7c=getMidpoint({'x':_0xfdb565[_0x46eba3(0x9b6)][0x0][_0x46eba3(0x6c9)],'y':_0xfdb565[_0x46eba3(0x9b6)][0x0][_0x46eba3(0xea0)]},{'x':_0xfdb565[_0x46eba3(0x9b6)][0x1][_0x46eba3(0x6c9)],'y':_0xfdb565[_0x46eba3(0x9b6)][0x1][_0x46eba3(0xea0)]}),_0x1f7e78=_0x40665a/ initialPinchDistance,_0x4775bb=Math['min'](Math[_0x46eba3(0x5e9)](scratchpadScale*_0x1f7e78,MIN_SCALE),MAX_SCALE),_0x913b26=_0x56af7c['x']-panStart['x'],_0x4afb16=_0x56af7c['y']-panStart['y'];scratchpadOffset['x']=_0x56af7c['x']-(_0x56af7c['x']-scratchpadOffset['x'])*(_0x4775bb/scratchpadScale),scratchpadOffset['y']=_0x56af7c['y']-(_0x56af7c['y']-scratchpadOffset['y'])*(_0x4775bb/scratchpadScale),scratchpadOffset['x']+=_0x913b26,scratchpadOffset['y']+=_0x4afb16,scratchpadScale=_0x4775bb,initialPinchDistance=_0x40665a,panStart=_0x56af7c,redrawScratchpad();}}}else{if(isMousePanning){const _0x5aebf1=_0xfdb565[_0x46eba3(0x6c9)]-panStart['x'],_0x582594=_0xfdb565['clientY']-panStart['y'];scratchpadOffset['x']+=_0x5aebf1,scratchpadOffset['y']+=_0x582594,panStart={'x':_0xfdb565[_0x46eba3(0x6c9)],'y':_0xfdb565[_0x46eba3(0xea0)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x267843=getTransformedPoint(_0xfdb565[_0x46eba3(0x6c9)]-_0x33770a['left'],_0xfdb565[_0x46eba3(0xea0)]-_0x33770a[_0x46eba3(0xa3a)]);currentStroke[_0x46eba3(0x2f8)][_0x46eba3(0x542)](_0x267843),redrawScratchpad();}}}}function handlePointerUp(_0x4bffb7){const _0x154a10=_0x4b15a0;_0x4bffb7[_0x154a10(0xb5c)]();const _0x1d9f15=scratchpadCtx[_0x154a10(0xe71)];isMousePanning&&(isMousePanning=![],_0x1d9f15[_0x154a10(0x8b5)]['cursor']=_0x154a10(0xdb5)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x154a10(0x2f8)][_0x154a10(0x8da)]>0x1&&(strokes[_0x154a10(0x542)](currentStroke),currentStroke[_0x154a10(0x7e5)]===_0x154a10(0xe04)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x1f0350=_0x154a10,_0x3fd12f=strokes[_0x1f0350(0xce3)](_0x4ead27=>_0x4ead27[_0x1f0350(0x7e5)]==='trail'&&!_0x4ead27[_0x1f0350(0x833)]);if(_0x3fd12f[_0x1f0350(0x8da)]>0x0){const _0x50ce85=Date[_0x1f0350(0xb38)]();_0x3fd12f[_0x1f0350(0x4aa)](_0xddec8b=>_0xddec8b[_0x1f0350(0x833)]=_0x50ce85),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x4759d8){const _0x52317d=_0x4b15a0;_0x4759d8[_0x52317d(0xb5c)]();const _0x2c81bc=_0x4759d8[_0x52317d(0x5e0)]*-0.005,_0x199fe8=Math[_0x52317d(0xdbb)](Math['max'](scratchpadScale+_0x2c81bc,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x4759d8[_0x52317d(0x6c9)]-(_0x4759d8[_0x52317d(0x6c9)]-scratchpadOffset['x'])*(_0x199fe8/scratchpadScale),scratchpadOffset['y']=_0x4759d8[_0x52317d(0xea0)]-(_0x4759d8[_0x52317d(0xea0)]-scratchpadOffset['y'])*(_0x199fe8/scratchpadScale),scratchpadScale=_0x199fe8,redrawScratchpad();}function undo(){const _0x5912cd=_0x4b15a0;strokes[_0x5912cd(0x8da)]>0x0&&(redoStrokes[_0x5912cd(0x542)](strokes[_0x5912cd(0xbdf)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x544ad8=_0x4b15a0;redoStrokes[_0x544ad8(0x8da)]>0x0&&(strokes[_0x544ad8(0x542)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x2c2384=_0x4b15a0;document['getElementById'](_0x2c2384(0x6df))[_0x2c2384(0x417)]=strokes['length']===0x0,document['getElementById'](_0x2c2384(0x1f9))['disabled']=redoStrokes[_0x2c2384(0x8da)]===0x0;}function openScratchpad(_0x1a1b6c,_0x37a3e0){const _0xb68d66=_0x4b15a0,_0x5bca3f=document[_0xb68d66(0xb9f)](_0xb68d66(0x5a3)),_0x1815b9=document[_0xb68d66(0xb9f)](_0xb68d66(0x99d)),_0x1b62d6=document[_0xb68d66(0xb9f)](_0xb68d66(0xa03)),_0x563cf4=document[_0xb68d66(0xb9f)](_0xb68d66(0x8af));_0x1815b9[_0xb68d66(0x7fc)]=_0x1a1b6c[_0xb68d66(0x7fb)]||_0x1a1b6c[_0xb68d66(0x931)],_0x1b62d6[_0xb68d66(0x7fc)]=_0x37a3e0[_0xb68d66(0xa0d)]((_0x17d40a,_0x28fb13)=>_0xb68d66(0xbbd)+String[_0xb68d66(0x5a9)](0x41+_0x28fb13)+'.\x20'+_0x17d40a+_0xb68d66(0xd14))[_0xb68d66(0x510)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x5bca3f[_0xb68d66(0xbd3)][_0xb68d66(0x5f4)]('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0xb68d66(0x51a)])MathJax[_0xb68d66(0xbce)]([_0x1815b9,_0x1b62d6]);}function openBlueprintQuizSettings(){const _0x591b50=_0x4b15a0,_0x757999=document[_0x591b50(0xb9f)](_0x591b50(0x42e)),_0x385a3e=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x591b50(0xb9f)](_0x591b50(0xb2f))[_0x591b50(0x232)]=_0x385a3e[_0x591b50(0xd68)]||document[_0x591b50(0xb9f)]('quiz-type-select')[_0x591b50(0x232)],document[_0x591b50(0xb9f)]('bp-modal-difficulty-level-select')[_0x591b50(0x7fc)]=document['getElementById'](_0x591b50(0xda7))['innerHTML'],document[_0x591b50(0xb9f)](_0x591b50(0xd26))[_0x591b50(0x232)]=_0x385a3e['difficultyValue']||document['getElementById']('difficulty-level-select')['value'],document[_0x591b50(0xb9f)](_0x591b50(0x4d7))['innerHTML']=document['getElementById'](_0x591b50(0x9aa))[_0x591b50(0x7fc)],document[_0x591b50(0xb9f)](_0x591b50(0x4d7))[_0x591b50(0x232)]=_0x385a3e[_0x591b50(0xa2d)]||document[_0x591b50(0xb9f)](_0x591b50(0x9aa))[_0x591b50(0x232)],document[_0x591b50(0xb9f)](_0x591b50(0x406))['value']=_0x385a3e[_0x591b50(0xe85)]||document[_0x591b50(0xb9f)]('num-questions')[_0x591b50(0x232)],document[_0x591b50(0xb9f)](_0x591b50(0xe4b))[_0x591b50(0x232)]=_0x385a3e[_0x591b50(0x7ba)]||document[_0x591b50(0xb9f)](_0x591b50(0x488))[_0x591b50(0x232)],document['getElementById'](_0x591b50(0xea1))['value']=_0x385a3e[_0x591b50(0x34b)]||document['getElementById'](_0x591b50(0xc99))['value'],document[_0x591b50(0xb9f)](_0x591b50(0x26f))[_0x591b50(0x232)]=_0x385a3e[_0x591b50(0x851)]||document[_0x591b50(0xb9f)](_0x591b50(0xeaf))['value'],document['getElementById']('bp-modal-include-images-checkbox')[_0x591b50(0x270)]=_0x385a3e['includeImages']||document[_0x591b50(0xb9f)](_0x591b50(0x39a))[_0x591b50(0x270)],_0x757999[_0x591b50(0xbd3)]['remove'](_0x591b50(0x81c));}function handleSaveBlueprintPageSettings(){const _0x3b0d39=_0x4b15a0;blueprintPageSettings={'quizType':document['getElementById']('bp-modal-quiz-type-select')[_0x3b0d39(0x232)],'difficultyValue':document[_0x3b0d39(0xb9f)](_0x3b0d39(0xd26))[_0x3b0d39(0x232)],'complexityValue':document['getElementById'](_0x3b0d39(0x4d7))[_0x3b0d39(0x232)],'numQuestions':document[_0x3b0d39(0xb9f)](_0x3b0d39(0x406))[_0x3b0d39(0x232)],'passingScore':document[_0x3b0d39(0xb9f)]('bp-modal-passing-score-input')[_0x3b0d39(0x232)],'numChoices':document[_0x3b0d39(0xb9f)](_0x3b0d39(0xea1))[_0x3b0d39(0x232)],'shuffle':document[_0x3b0d39(0xb9f)](_0x3b0d39(0x26f))[_0x3b0d39(0x232)],'includeImages':document[_0x3b0d39(0xb9f)](_0x3b0d39(0xd38))[_0x3b0d39(0x270)]},showMessage(_0x3b0d39(0xa49)),document[_0x3b0d39(0xb9f)](_0x3b0d39(0x42e))[_0x3b0d39(0xbd3)]['add'](_0x3b0d39(0x81c));}function listenForParallelTestShortcuts(){const _0x5a7471=_0x4b15a0,_0x560d1c=doc(db,_0x5a7471(0x3ee),_0x5a7471(0x65f));onSnapshot(_0x560d1c,_0x5a6afa=>{const _0x3e4af8=_0x5a7471;let _0x318ce9=[],_0x1101b6=[],_0x44d487={};if(_0x5a6afa['exists']()){const _0x34f919=_0x5a6afa['data']();_0x318ce9=_0x34f919[_0x3e4af8(0xc8a)]||[],_0x1101b6=_0x34f919[_0x3e4af8(0x7bf)]||[],_0x44d487=_0x34f919[_0x3e4af8(0x9b3)]||{};}!_0x1101b6[_0x3e4af8(0x59d)](_0x12c8a2=>_0x12c8a2['id']==='all')&&_0x1101b6[_0x3e4af8(0x603)]({'id':_0x3e4af8(0x2d8),'name':_0x3e4af8(0x3e9),'isDefault':!![]}),!_0x318ce9[_0x3e4af8(0x59d)](_0x309472=>_0x309472['id']===_0x3e4af8(0xde6))&&_0x318ce9[_0x3e4af8(0x603)]({'id':_0x3e4af8(0xde6),'name':_0x3e4af8(0x767),'url':'','isDefault':!![]}),!_0x318ce9[_0x3e4af8(0x59d)](_0x5896cb=>_0x5896cb['id']===_0x3e4af8(0x9f1))&&_0x318ce9[_0x3e4af8(0x603)]({'id':_0x3e4af8(0x9f1),'name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x318ce9,parallelShortcutTabs=_0x1101b6,parallelShortcutOrder=_0x44d487,renderParallelTestShortcuts(),!document['getElementById'](_0x3e4af8(0x225))[_0x3e4af8(0xbd3)][_0x3e4af8(0x959)]('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x3d6433=_0x4b15a0,_0x547851=doc(db,'globalSettings',_0x3d6433(0x65f));try{await setDoc(_0x547851,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x12f97a){console[_0x3d6433(0x7cd)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x12f97a);}}function renderAdditionalParallelShortcutsModal(){const _0x4c01f5=_0x4b15a0,_0x1c0d9f=document[_0x4c01f5(0xb9f)]('parallel-shortcut-tabs-nav'),_0x4b9b79=document[_0x4c01f5(0xb9f)](_0x4c01f5(0x625));if(!_0x1c0d9f||!_0x4b9b79)return;_0x1c0d9f[_0x4c01f5(0x7fc)]=parallelShortcutTabs[_0x4c01f5(0xa0d)](_0x1a5850=>{const _0x454691=_0x4c01f5,_0x5e9a73=_0x1a5850['id']===activeParallelShortcutTabId;return _0x454691(0x752)+_0x1a5850['id']+_0x454691(0x62f)+(_0x5e9a73?_0x454691(0xcda):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x454691(0x6dc)+_0x1a5850[_0x454691(0x757)]+_0x454691(0xdd5)+_0x1a5850[_0x454691(0x757)]+_0x454691(0x72a)+(!_0x1a5850[_0x454691(0x6e1)]?'<button\x20data-tab-id=\x22'+_0x1a5850['id']+_0x454691(0x660):'')+_0x454691(0x479);})['join']('');const _0x413652=parallelShortcutTabs[_0x4c01f5(0x59d)](_0xbc184f=>_0xbc184f['id']===activeParallelShortcutTabId);let _0x877f3e=_0x413652?.[_0x4c01f5(0x6e1)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x4c01f5(0xce3)](_0x751ce4=>(_0x413652?.[_0x4c01f5(0x74e)]||[])[_0x4c01f5(0xa36)](_0x751ce4['id']));const _0x136aed=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x877f3e[_0x4c01f5(0x8c7)]((_0x3975fb,_0x3e239e)=>{const _0x753de8=_0x4c01f5,_0xbaff25=_0x136aed['indexOf'](_0x3975fb['id']),_0x252c74=_0x136aed[_0x753de8(0x76c)](_0x3e239e['id']);return(_0xbaff25===-0x1?Infinity:_0xbaff25)-(_0x252c74===-0x1?Infinity:_0x252c74);}),_0x4b9b79['innerHTML']=_0x877f3e[_0x4c01f5(0xa0d)](_0x1e949e=>{const _0x54e465=_0x4c01f5,_0x314458=_0x1e949e[_0x54e465(0x50e)]?'🔁':'🔗',_0x57c961=parallelShortcutTabs[_0x54e465(0xce3)](_0x32b8aa=>!_0x32b8aa[_0x54e465(0x6e1)]),_0x319864=_0x413652[_0x54e465(0x6e1)]&&_0x57c961['length']>0x0?_0x54e465(0xbe0)+_0x57c961[_0x54e465(0xa0d)](_0x274f68=>_0x54e465(0x657)+_0x1e949e['id']+_0x54e465(0xdd7)+_0x274f68['id']+'\x22>'+_0x274f68[_0x54e465(0x757)]+_0x54e465(0xcaa))[_0x54e465(0x510)]('')+_0x54e465(0x889):'';return _0x54e465(0xb00)+_0x1e949e['id']+_0x54e465(0xb17)+_0x314458+'\x20'+_0x1e949e[_0x54e465(0x757)]+_0x54e465(0x8f9)+_0x1e949e['id']+_0x54e465(0xa4f)+_0x1e949e['id']+_0x54e465(0x882)+(!_0x1e949e[_0x54e465(0x6e1)]?_0x54e465(0x4fe)+_0x1e949e['id']+_0x54e465(0xe7c):'')+_0x54e465(0x5e8)+(!_0x413652[_0x54e465(0x6e1)]?_0x54e465(0xbf3)+_0x1e949e['id']+_0x54e465(0x636):'')+_0x54e465(0x5e8)+_0x319864+_0x54e465(0x8c8);})[_0x4c01f5(0x510)]('')||_0x4c01f5(0x3d0),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0xefd114=_0x4b15a0;document[_0xefd114(0x3eb)](_0xefd114(0x6b2))[_0xefd114(0x4aa)](_0x1a4f9c=>{_0x1a4f9c['onclick']=_0x1b7622=>{const _0x394a6d=_0x33c9;activeParallelShortcutTabId=_0x1b7622['currentTarget'][_0x394a6d(0x273)][_0x394a6d(0x71b)],renderAdditionalParallelShortcutsModal();},_0x1a4f9c['ondblclick']=_0x6bcc9a=>{const _0x40693d=_0x33c9,_0x32116b=_0x6bcc9a[_0x40693d(0xb52)][_0x40693d(0x584)](_0x40693d(0xd9e));_0x6bcc9a[_0x40693d(0xb52)][_0x40693d(0x584)](_0x40693d(0xc2f))[_0x40693d(0xbd3)]['add'](_0x40693d(0x81c)),_0x32116b[_0x40693d(0xbd3)]['remove'](_0x40693d(0x81c)),_0x32116b[_0x40693d(0x69d)](),_0x32116b[_0x40693d(0xbd1)]();};}),document[_0xefd114(0x3eb)](_0xefd114(0x875))[_0xefd114(0x4aa)](_0x43978c=>{const _0x32b3f7=_0xefd114,_0x4c1cd1=()=>{const _0xc8b41e=_0x33c9,_0x4730de=_0x43978c[_0xc8b41e(0x892)](_0xc8b41e(0x6b2))['dataset']['tabId'],_0x557cc9=parallelShortcutTabs[_0xc8b41e(0x59d)](_0x159f16=>_0x159f16['id']===_0x4730de);_0x557cc9&&(_0x557cc9[_0xc8b41e(0x757)]=_0x43978c[_0xc8b41e(0x232)][_0xc8b41e(0xbdc)]()||_0x557cc9[_0xc8b41e(0x757)],saveParallelShortcutConfig());};_0x43978c[_0x32b3f7(0x1ca)]=_0x4c1cd1,_0x43978c[_0x32b3f7(0x6ee)]=_0x3a5165=>{const _0x4d70f9=_0x32b3f7;if(_0x3a5165[_0x4d70f9(0x4bb)]===_0x4d70f9(0x731))_0x43978c['blur']();};}),document['querySelectorAll']('.delete-parallel-shortcut-tab-btn')[_0xefd114(0x4aa)](_0x324577=>_0x324577[_0xefd114(0x760)]=_0x491fef=>{const _0x21c516=_0xefd114,_0x3ac5be=_0x491fef[_0x21c516(0xb52)][_0x21c516(0x273)][_0x21c516(0x71b)];showConfirmation(_0x21c516(0xd05),()=>{const _0x38ecd5=_0x21c516;parallelShortcutTabs=parallelShortcutTabs['filter'](_0x1e20a8=>_0x1e20a8['id']!==_0x3ac5be),delete parallelShortcutOrder[_0x3ac5be];if(activeParallelShortcutTabId===_0x3ac5be)activeParallelShortcutTabId=_0x38ecd5(0x2d8);saveParallelShortcutConfig();});}),document[_0xefd114(0x3eb)](_0xefd114(0x288))['forEach'](_0x2d1173=>_0x2d1173['onclick']=_0xd78e79=>{const _0x3a6001=_0xefd114;_0xd78e79['preventDefault']();const {shortcutId:_0xd52cd7,targetTabId:_0x37c73c}=_0xd78e79['currentTarget'][_0x3a6001(0x273)],_0x58cd16=parallelShortcutTabs[_0x3a6001(0x59d)](_0x496c9e=>_0x496c9e['id']===_0x37c73c);_0x58cd16&&!_0x58cd16[_0x3a6001(0x74e)][_0x3a6001(0xa36)](_0xd52cd7)&&(_0x58cd16[_0x3a6001(0x74e)][_0x3a6001(0x542)](_0xd52cd7),saveParallelShortcutConfig());}),document[_0xefd114(0x3eb)](_0xefd114(0xcc3))[_0xefd114(0x4aa)](_0x5cf91e=>_0x5cf91e[_0xefd114(0x760)]=_0x4c1cd7=>{const _0x55ce1f=_0xefd114,_0x32a848=_0x4c1cd7[_0x55ce1f(0xb52)][_0x55ce1f(0x273)][_0x55ce1f(0xca9)],_0x5e762e=parallelShortcutTabs[_0x55ce1f(0x59d)](_0x388480=>_0x388480['id']===activeParallelShortcutTabId);_0x5e762e&&!_0x5e762e[_0x55ce1f(0x6e1)]&&(_0x5e762e[_0x55ce1f(0x74e)]=_0x5e762e['shortcutIds']['filter'](_0x18636b=>_0x18636b!==_0x32a848),saveParallelShortcutConfig());}),document['querySelectorAll'](_0xefd114(0x44e))[_0xefd114(0x4aa)](_0x3133ea=>_0x3133ea[_0xefd114(0x760)]=_0x37836a=>{const _0xf6efc9=_0xefd114;_0x37836a[_0xf6efc9(0x651)]();const _0x1c4565=_0x37836a['currentTarget']['nextElementSibling'];document[_0xf6efc9(0x3eb)](_0xf6efc9(0xe34))[_0xf6efc9(0x4aa)](_0x432653=>_0x432653[_0xf6efc9(0xbd3)][_0xf6efc9(0x72b)]('hidden')),_0x1c4565['classList'][_0xf6efc9(0x5f4)](_0xf6efc9(0x81c));});const _0xb344d1=document['getElementById']('additional-parallel-shortcuts-list');let _0x26aec2=null;_0xb344d1[_0xefd114(0x789)]=_0x3411f5=>{const _0x9871d6=_0xefd114;_0x26aec2=_0x3411f5[_0x9871d6(0x4ee)][_0x9871d6(0x892)](_0x9871d6(0xa0c));if(_0x26aec2)setTimeout(()=>_0x26aec2['classList'][_0x9871d6(0x72b)](_0x9871d6(0xb70)),0x0);},_0xb344d1[_0xefd114(0xa8c)]=()=>{const _0x34456e=_0xefd114;_0x26aec2&&(_0x26aec2[_0x34456e(0xbd3)][_0x34456e(0x5f4)](_0x34456e(0xb70)),_0x26aec2=null);},_0xb344d1[_0xefd114(0xcce)]=_0x389751=>{const _0x3d9eb5=_0xefd114;_0x389751[_0x3d9eb5(0xb5c)]();},_0xb344d1[_0xefd114(0xc00)]=_0x301cb5=>{const _0x1aebba=_0xefd114;_0x301cb5[_0x1aebba(0xb5c)]();if(_0x26aec2){const _0x4a38cc=[..._0xb344d1[_0x1aebba(0x3eb)](_0x1aebba(0xc95))][_0x1aebba(0x1e3)]((_0x31e1c8,_0x75fca1)=>{const _0x852243=_0x1aebba,_0x5d7626=_0x75fca1[_0x852243(0x50c)](),_0xda0018=_0x301cb5[_0x852243(0xea0)]-_0x5d7626[_0x852243(0xa3a)]-_0x5d7626[_0x852243(0x4ba)]/0x2;return _0xda0018<0x0&&_0xda0018>_0x31e1c8['offset']?{'offset':_0xda0018,'element':_0x75fca1}:_0x31e1c8;},{'offset':Number['NEGATIVE_INFINITY']})[_0x1aebba(0x7ab)];_0x4a38cc==null?_0xb344d1['appendChild'](_0x26aec2):_0xb344d1[_0x1aebba(0x238)](_0x26aec2,_0x4a38cc);const _0x845c1f=[..._0xb344d1[_0x1aebba(0x3eb)](_0x1aebba(0xa0c))][_0x1aebba(0xa0d)](_0x132f9e=>_0x132f9e['dataset'][_0x1aebba(0xca9)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x845c1f,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x3864ea=_0x4b15a0,_0x25ee46=prompt(_0x3864ea(0x8f5),_0x3864ea(0xead));_0x25ee46&&_0x25ee46[_0x3864ea(0xbdc)]()&&(parallelShortcutTabs[_0x3864ea(0x542)]({'id':_0x3864ea(0x97b)+Date[_0x3864ea(0xb38)](),'name':_0x25ee46[_0x3864ea(0xbdc)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x145240=_0x4b15a0,_0xf340e7=document[_0x145240(0xb9f)](_0x145240(0x9cb)),_0x27db79=document[_0x145240(0xb9f)](_0x145240(0x625)),_0x3c4239=document['getElementById'](_0x145240(0xc69));if(_0x3c4239)_0x3c4239['classList'][_0x145240(0x72b)](_0x145240(0x81c));if(!_0xf340e7||!_0x27db79)return;const _0x1801b9=parallelTestShortcuts['slice'](0x0,0x4),_0x6cdd3e=parallelTestShortcuts['slice'](0x4);_0xf340e7['innerHTML']=_0x1801b9[_0x145240(0xa0d)](_0x451dec=>{const _0x343d68=_0x145240,_0x4abfa3=_0x451dec[_0x343d68(0x50e)]&&_0x451dec[_0x343d68(0x50e)][_0x343d68(0xbdc)]()!=='',_0x1be2bc=_0x4abfa3?_0x343d68(0x3e5):_0x343d68(0x924),_0x1f54e6=_0x4abfa3?'🔁':'🔗',_0x5d388c=!_0x451dec['isDefault']?'<button\x20data-id=\x22'+_0x451dec['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x343d68(0x76b)+_0x451dec['id']+_0x343d68(0x46a)+_0x1be2bc+_0x343d68(0x48d)+_0x1f54e6+'\x20'+_0x451dec[_0x343d68(0x757)]+_0x343d68(0xd8a)+_0x451dec['id']+_0x343d68(0xb0e)+_0x5d388c+_0x343d68(0xc29);})['join'](''),_0x6cdd3e[_0x145240(0x8da)]>0x0&&(_0xf340e7['innerHTML']+=_0x145240(0x867)),_0x6cdd3e['length']>0x0?_0x27db79[_0x145240(0x7fc)]=_0x6cdd3e[_0x145240(0xa0d)](_0x4f5601=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x4f5601[_0x145240(0x50e)]?'🔁':'🔗')+'\x20'+_0x4f5601[_0x145240(0x757)]+_0x145240(0x89e)+_0x4f5601['id']+_0x145240(0xbc5)+_0x4f5601['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4f5601['isDefault']?_0x145240(0x4fe)+_0x4f5601['id']+_0x145240(0xe7c):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x145240(0x510)](''):_0x27db79[_0x145240(0x7fc)]=_0x145240(0x1f7);}function openParallelTestShortcutEditor(_0x53e3ff=null){const _0x3d3e19=_0x4b15a0,_0x56250e=document[_0x3d3e19(0xb9f)](_0x3d3e19(0xc0b)),_0x5886f8=document[_0x3d3e19(0xb9f)](_0x3d3e19(0x89c)),_0x1d10da=document['getElementById']('parallel-shortcut-id-input'),_0x4f8b52=document[_0x3d3e19(0xb9f)](_0x3d3e19(0x70e)),_0x2c6e3c=document['getElementById'](_0x3d3e19(0x6d0));if(_0x53e3ff){const _0x4d3035=parallelTestShortcuts[_0x3d3e19(0x59d)](_0x23c65d=>_0x23c65d['id']===_0x53e3ff);if(!_0x4d3035)return;_0x5886f8[_0x3d3e19(0x1d0)]=_0x3d3e19(0xe93),_0x1d10da['value']=_0x4d3035['id'],_0x4f8b52['value']=_0x4d3035[_0x3d3e19(0x757)],_0x2c6e3c[_0x3d3e19(0x232)]=_0x4d3035['url']||'';}else _0x5886f8[_0x3d3e19(0x1d0)]=_0x3d3e19(0xc4b),_0x1d10da['value']='',_0x4f8b52[_0x3d3e19(0x232)]='',_0x2c6e3c[_0x3d3e19(0x232)]='';_0x56250e[_0x3d3e19(0xbd3)][_0x3d3e19(0x5f4)](_0x3d3e19(0x81c));}async function saveParallelTestShortcutChanges(){const _0x35ee49=_0x4b15a0,_0x14a935=document[_0x35ee49(0xb9f)](_0x35ee49(0xa4c))[_0x35ee49(0x232)],_0x2e12d3=document['getElementById'](_0x35ee49(0x70e))[_0x35ee49(0x232)][_0x35ee49(0xbdc)](),_0x2270ca=document[_0x35ee49(0xb9f)]('parallel-shortcut-url-input')[_0x35ee49(0x232)][_0x35ee49(0xbdc)]();if(!_0x2e12d3){showMessage(_0x35ee49(0x583));return;}const _0x376514={'id':_0x14a935||_0x35ee49(0xc2e)+Date[_0x35ee49(0xb38)](),'name':_0x2e12d3,'url':_0x2270ca,'isDefault':_0x14a935[_0x35ee49(0xa72)]('parallel-default-')};let _0x36ff45;_0x14a935?_0x36ff45=parallelTestShortcuts['map'](_0x4caea0=>_0x4caea0['id']===_0x14a935?_0x376514:_0x4caea0):_0x36ff45=[...parallelTestShortcuts,_0x376514];try{const _0x4c7684=doc(db,_0x35ee49(0x3ee),'parallelTestShortcutsConfig');await setDoc(_0x4c7684,{'shortcuts':_0x36ff45},{'merge':!![]}),document[_0x35ee49(0xb9f)](_0x35ee49(0xc0b))[_0x35ee49(0xbd3)]['add']('hidden');}catch(_0x330f5c){console[_0x35ee49(0x7cd)](_0x35ee49(0xa7d),_0x330f5c),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0x3ba9c9){const _0x2a5803=_0x4b15a0,_0x18f297=parallelTestShortcuts['find'](_0x26aed1=>_0x26aed1['id']===_0x3ba9c9);if(!_0x18f297)return;if(!_0x18f297[_0x2a5803(0x50e)]||_0x18f297['url'][_0x2a5803(0xbdc)]()===''){openParallelTestShortcutEditor(_0x3ba9c9);return;}const _0x256ba1=document[_0x2a5803(0xb9f)]('loader'),_0xddcceb=document[_0x2a5803(0xb9f)](_0x2a5803(0x6a5));document[_0x2a5803(0xb9f)](_0x2a5803(0x434))[_0x2a5803(0xbd3)][_0x2a5803(0x5f4)]('hidden'),document['getElementById'](_0x2a5803(0xa39))[_0x2a5803(0x7fc)]='',_0x256ba1['classList'][_0x2a5803(0x5f4)]('hidden'),_0xddcceb[_0x2a5803(0x1d0)]=_0x2a5803(0x673);try{let _0x47fcce;_0x18f297[_0x2a5803(0x50e)][_0x2a5803(0x724)]()[_0x2a5803(0xa36)]('.txt')?_0x47fcce='source_document.txt':_0x47fcce=_0x2a5803(0xaf7);const _0x431271=await fetchFileFromUrl(_0x18f297[_0x2a5803(0x50e)],_0x47fcce);await handleGenerateParallelTest(_0x431271);}catch(_0x9cc9c0){console[_0x2a5803(0x7cd)](_0x2a5803(0x78e),_0x9cc9c0),showMessage(_0x2a5803(0xe37)+_0x9cc9c0[_0x2a5803(0x81b)]),_0x256ba1[_0x2a5803(0xbd3)][_0x2a5803(0x72b)]('hidden');}}function initializeScratchpadCanvas(){const _0x9777f9=_0x4b15a0,_0x2af472=document['getElementById'](_0x9777f9(0x5d4)),_0x39aa5b=document['querySelector'](_0x9777f9(0xd3d));if(!_0x2af472||!_0x39aa5b)return;scratchpadCtx=_0x2af472[_0x9777f9(0xb44)]('2d',{'willReadFrequently':!![]});const _0x4ec407=window[_0x9777f9(0x6e3)]||0x1,_0x1909d1=_0x39aa5b['getBoundingClientRect']();_0x2af472[_0x9777f9(0x3bf)]=_0x1909d1['width']*_0x4ec407,_0x2af472[_0x9777f9(0x4ba)]=_0x1909d1[_0x9777f9(0x4ba)]*_0x4ec407,_0x2af472['style'][_0x9777f9(0x3bf)]=_0x1909d1['width']+'px',_0x2af472['style'][_0x9777f9(0x4ba)]=_0x1909d1[_0x9777f9(0x4ba)]+'px',scratchpadCtx[_0x9777f9(0xc0c)](_0x4ec407,_0x4ec407),scratchpadCtx[_0x9777f9(0x354)]='round',scratchpadCtx[_0x9777f9(0x689)]='round',_0x2af472[_0x9777f9(0x28b)](_0x9777f9(0x6cd),handlePointerDown),_0x2af472[_0x9777f9(0x28b)](_0x9777f9(0x4a3),handlePointerMove),_0x2af472['removeEventListener'](_0x9777f9(0x5b0),handlePointerUp),_0x2af472[_0x9777f9(0x28b)](_0x9777f9(0x52f),handlePointerUp),_0x2af472['removeEventListener'](_0x9777f9(0x3f3),handleWheel),_0x2af472[_0x9777f9(0x28b)](_0x9777f9(0x9da),handlePointerDown),_0x2af472[_0x9777f9(0x28b)](_0x9777f9(0xcf2),handlePointerMove),_0x2af472[_0x9777f9(0x28b)](_0x9777f9(0xea7),handlePointerUp),_0x2af472['addEventListener'](_0x9777f9(0x6cd),handlePointerDown),_0x2af472[_0x9777f9(0x95a)](_0x9777f9(0x4a3),handlePointerMove),_0x2af472['addEventListener'](_0x9777f9(0x5b0),handlePointerUp),_0x2af472[_0x9777f9(0x95a)]('pointercancel',handlePointerUp),_0x2af472[_0x9777f9(0x95a)](_0x9777f9(0x3f3),handleWheel,{'passive':![]}),_0x2af472[_0x9777f9(0x95a)](_0x9777f9(0x9da),handlePointerDown,{'passive':![]}),_0x2af472[_0x9777f9(0x95a)](_0x9777f9(0xcf2),handlePointerMove,{'passive':![]}),_0x2af472['addEventListener'](_0x9777f9(0xea7),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x4783ca=_0x4b15a0,_0x5d5ca9=document[_0x4783ca(0xb9f)](_0x4783ca(0x5a3)),_0x40b7f8=document[_0x4783ca(0xb9f)](_0x4783ca(0x8af));_0x40b7f8[_0x4783ca(0x7fc)]=_0x4783ca(0x381)+scratchpadHighlighterSize+_0x4783ca(0x614);const _0x1e276d=document['getElementById'](_0x4783ca(0x474)),_0x5e83a9=document[_0x4783ca(0xb9f)]('eraser-tool-btn'),_0x30138b=document['getElementById'](_0x4783ca(0x2eb)),_0x12c8ec=document['getElementById'](_0x4783ca(0xaf8)),_0x204402=document[_0x4783ca(0xb9f)](_0x4783ca(0x2e0)),_0x502499=document['getElementById'](_0x4783ca(0xe4e)),_0x306ae0=document[_0x4783ca(0xb9f)]('eraser-tools-group'),_0x22c14c=[_0x1e276d,_0x5e83a9,_0x30138b,_0x12c8ec];document[_0x4783ca(0xb9f)](_0x4783ca(0xcca))[_0x4783ca(0x95a)]('click',()=>_0x5d5ca9[_0x4783ca(0xbd3)][_0x4783ca(0x72b)](_0x4783ca(0x81c))),document['getElementById'](_0x4783ca(0x84f))['addEventListener'](_0x4783ca(0xd6c),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x4783ca(0xb9f)](_0x4783ca(0xcd9))[_0x4783ca(0x95a)](_0x4783ca(0xd6c),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x4783ca(0xb9f)](_0x4783ca(0x6df))[_0x4783ca(0x95a)]('click',undo),document['getElementById'](_0x4783ca(0x1f9))[_0x4783ca(0x95a)](_0x4783ca(0xd6c),redo);const _0x2d4e5f=_0x241fc2=>{const _0x329656=_0x4783ca;_0x22c14c[_0x329656(0x4aa)](_0x1969a7=>_0x1969a7['classList'][_0x329656(0x5f4)]('active')),_0x241fc2[_0x329656(0xbd3)][_0x329656(0x72b)](_0x329656(0x329)),_0x204402[_0x329656(0xbd3)][_0x329656(0x72b)](_0x329656(0x81c)),_0x502499[_0x329656(0xbd3)][_0x329656(0x72b)](_0x329656(0x81c)),_0x306ae0[_0x329656(0xbd3)][_0x329656(0x72b)]('hidden');if(activeTool===_0x329656(0xda9)||activeTool==='trail')_0x204402[_0x329656(0xbd3)][_0x329656(0x5f4)](_0x329656(0x81c));else{if(activeTool===_0x329656(0xc84))_0x502499[_0x329656(0xbd3)][_0x329656(0x5f4)]('hidden');else activeTool===_0x329656(0x68c)&&_0x306ae0['classList'][_0x329656(0x5f4)](_0x329656(0x81c));}};_0x1e276d[_0x4783ca(0x95a)]('click',()=>{const _0x445ff9=_0x4783ca;activeTool=_0x445ff9(0xda9),_0x2d4e5f(_0x1e276d);}),_0x5e83a9['addEventListener']('click',()=>{const _0x345045=_0x4783ca;activeTool=_0x345045(0x68c),_0x2d4e5f(_0x5e83a9);}),_0x30138b[_0x4783ca(0x95a)](_0x4783ca(0xd6c),()=>{const _0xd643f1=_0x4783ca;activeTool=_0xd643f1(0xe04),_0x2d4e5f(_0x30138b);}),_0x12c8ec[_0x4783ca(0x95a)](_0x4783ca(0xd6c),()=>{const _0x29fe44=_0x4783ca;activeTool=_0x29fe44(0xc84),_0x2d4e5f(_0x12c8ec);}),_0x204402[_0x4783ca(0x3eb)](_0x4783ca(0x7d4))[_0x4783ca(0x4aa)](_0x3da6c7=>{const _0x3622bd=_0x4783ca;_0x3da6c7[_0x3622bd(0x95a)](_0x3622bd(0xd6c),_0x37e1a6=>{const _0x44d090=_0x3622bd;scratchpadPenSize=parseInt(_0x37e1a6[_0x44d090(0x4ee)][_0x44d090(0x273)]['size'],0xa),_0x204402['querySelectorAll'](_0x44d090(0x7d4))['forEach'](_0xbcc4cc=>_0xbcc4cc[_0x44d090(0xbd3)][_0x44d090(0x5f4)](_0x44d090(0x329))),_0x37e1a6[_0x44d090(0x4ee)]['classList']['add'](_0x44d090(0x329));});}),_0x306ae0[_0x4783ca(0x3eb)](_0x4783ca(0x23f))[_0x4783ca(0x4aa)](_0x1e5493=>{const _0x2bcca6=_0x4783ca;_0x1e5493['addEventListener'](_0x2bcca6(0xd6c),_0x27cfc5=>{const _0x20707f=_0x2bcca6,_0x11f54a=_0x27cfc5[_0x20707f(0xb52)];scratchpadEraserSize=parseInt(_0x11f54a[_0x20707f(0x273)][_0x20707f(0x200)],0xa),_0x306ae0[_0x20707f(0x3eb)]('.eraser-size-btn')[_0x20707f(0x4aa)](_0x14b8a9=>_0x14b8a9[_0x20707f(0xbd3)][_0x20707f(0x5f4)]('active')),_0x11f54a[_0x20707f(0xbd3)][_0x20707f(0x72b)]('active');});}),_0x204402[_0x4783ca(0x3eb)](_0x4783ca(0xd3c))['forEach'](_0x2a8e30=>{const _0x3388a0=_0x4783ca;_0x2a8e30['addEventListener'](_0x3388a0(0xd6c),_0x4673e3=>{const _0x56c403=_0x3388a0;scratchpadPenColor=_0x4673e3['target'][_0x56c403(0x273)][_0x56c403(0x829)],_0x204402[_0x56c403(0x3eb)](_0x56c403(0xd3c))['forEach'](_0x239d64=>_0x239d64[_0x56c403(0xbd3)]['remove'](_0x56c403(0x329))),_0x4673e3[_0x56c403(0x4ee)]['classList'][_0x56c403(0x72b)]('active');});}),_0x502499['querySelectorAll'](_0x4783ca(0xa7e))[_0x4783ca(0x4aa)](_0x3924e2=>{const _0x57dacb=_0x4783ca;_0x3924e2[_0x57dacb(0x95a)](_0x57dacb(0xd6c),_0x141aa5=>{const _0x436454=_0x57dacb;scratchpadHighlighterColor=_0x141aa5[_0x436454(0x4ee)][_0x436454(0x273)]['color'],_0x502499[_0x436454(0x3eb)](_0x436454(0xa7e))[_0x436454(0x4aa)](_0x5bd1ef=>_0x5bd1ef[_0x436454(0xbd3)][_0x436454(0x5f4)](_0x436454(0x329))),_0x141aa5[_0x436454(0x4ee)][_0x436454(0xbd3)]['add'](_0x436454(0x329));});});const _0x5e5b0e=document[_0x4783ca(0xb9f)](_0x4783ca(0x750)),_0x64da6a=document[_0x4783ca(0xb9f)]('highlighter-size-value');_0x5e5b0e['addEventListener'](_0x4783ca(0x304),_0x1fe4a5=>{const _0x49ee67=_0x4783ca,_0x8ef58e=parseInt(_0x1fe4a5[_0x49ee67(0x4ee)][_0x49ee67(0x232)],0xa);scratchpadHighlighterSize=_0x8ef58e,_0x64da6a['textContent']=_0x8ef58e;}),window[_0x4783ca(0x95a)](_0x4783ca(0x26a),()=>{const _0x2a949c=_0x4783ca;!_0x5d5ca9[_0x2a949c(0xbd3)][_0x2a949c(0x959)](_0x2a949c(0x81c))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x4b15a0(0xda5),'name':_0x4b15a0(0x802),'description':_0x4b15a0(0xad7),'icon':_0x4b15a0(0xe80)},'QUICK_THINKER':{'id':_0x4b15a0(0x489),'name':_0x4b15a0(0x29e),'description':_0x4b15a0(0x952),'icon':_0x4b15a0(0xee0)},'ON_FIRE':{'id':_0x4b15a0(0x8f1),'name':_0x4b15a0(0x850),'description':_0x4b15a0(0x960),'icon':_0x4b15a0(0x966)},'FIRST_TRY_ACE':{'id':_0x4b15a0(0xba0),'name':_0x4b15a0(0x812),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x4b15a0(0x97a)},'COMEBACK_KING':{'id':'comeback_king','name':_0x4b15a0(0x6f3),'description':_0x4b15a0(0xc97),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x4b15a0(0xeb7),'name':_0x4b15a0(0xb3c),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x4b15a0(0xa6b)},'PERSEVERANCE':{'id':_0x4b15a0(0xe72),'name':_0x4b15a0(0x8ee),'description':_0x4b15a0(0x4f6),'icon':_0x4b15a0(0xb74)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x4b15a0(0x248),'projectId':_0x4b15a0(0x45f),'storageBucket':_0x4b15a0(0x80c),'messagingSenderId':'274192258111','appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x4b15a0(0xc70)?__app_id:'ai-quiz-generator-v3',adminView=document['getElementById'](_0x4b15a0(0xc02)),studentView=document[_0x4b15a0(0xb9f)](_0x4b15a0(0xb4c)),projectDashboardView=document['getElementById']('project-dashboard-view'),projectDetailView=document['getElementById'](_0x4b15a0(0x321)),quizResultsView=document['getElementById']('quiz-results-view'),projectList=document['getElementById'](_0x4b15a0(0x24c)),noProjectsMsg=document['getElementById']('no-projects-msg'),projectTitle=document[_0x4b15a0(0xb9f)](_0x4b15a0(0xb94)),projectIdDisplay=document['getElementById'](_0x4b15a0(0xd1b)),studentList=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x436)),messageModal=document['getElementById'](_0x4b15a0(0x601)),modalMessage=document[_0x4b15a0(0xb9f)]('modal-message'),createProjectModal=document[_0x4b15a0(0xb9f)](_0x4b15a0(0xd61)),adminPasswordModal=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x856)),confirmationModal=document['getElementById'](_0x4b15a0(0x82b)),userIdDisplay=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x8ea)),topicTab=document[_0x4b15a0(0xb9f)]('topic-tab'),textTab=document['getElementById'](_0x4b15a0(0x6c1)),topicInputArea=document['getElementById'](_0x4b15a0(0xad1)),textInputArea=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x967)),manageTab=document['getElementById'](_0x4b15a0(0xcbb)),resultsTab=document[_0x4b15a0(0xb9f)]('results-tab'),leaderboardTab=document[_0x4b15a0(0xb9f)](_0x4b15a0(0xac4)),manageTabContent=document['getElementById'](_0x4b15a0(0x48c)),resultsTabContent=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x3a6)),leaderboardTabContent=document[_0x4b15a0(0xb9f)]('leaderboard-tab-content'),projectQuizzesList=document[_0x4b15a0(0xb9f)](_0x4b15a0(0xddf)),fileTab=document[_0x4b15a0(0xb9f)](_0x4b15a0(0xd8c)),fileInputArea=document['getElementById'](_0x4b15a0(0x80f)),fileUploadInput=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x9c0)),worksheetTab=document[_0x4b15a0(0xb9f)]('worksheet-tab'),worksheetInputArea=document[_0x4b15a0(0xb9f)]('worksheet-input-area'),generateWorksheetBtn=document[_0x4b15a0(0xb9f)](_0x4b15a0(0xc67)),studentInitialView=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x79c)),studentNameSelectionView=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x3f0)),studentQuizArea=document['getElementById']('student-quiz-area'),studentResultArea=document[_0x4b15a0(0xb9f)](_0x4b15a0(0xc10)),studentReadingArea=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x664)),loadQuizBtn=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x99c)),startQuizBtn=document[_0x4b15a0(0xb9f)](_0x4b15a0(0xbe6)),studentJoinGameView=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x507)),presentationModal=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x301)),renameQuizModal=document[_0x4b15a0(0xb9f)](_0x4b15a0(0xa56)),moveQuizModal=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x46c)),quizSettingsModal=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x895)),quizStatusModal=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x669)),liveGameView=document[_0x4b15a0(0xb9f)](_0x4b15a0(0x43b));function handleFixLessonLatex(){const _0x455929=_0x4b15a0,_0x473404=document[_0x455929(0xb9f)](_0x455929(0x6fe));if(!_0x473404){showMessage(_0x455929(0xe30));return;}const _0x2cc3e8=_0x473404[_0x455929(0x3eb)]([_0x455929(0x2d0),'.ai-content\x20li',_0x455929(0x2ec),'.ai-content\x20td',_0x455929(0xbfe)][_0x455929(0x510)](','));let _0x18d8a4=0x0;const _0x511c88=_0x521e11=>_0x521e11['textContent']||'',_0x4c6815=(_0x605c64,_0x3b34e4)=>{const _0x499bb7=_0x455929;if(_0x605c64[_0x499bb7(0x584)]&&_0x605c64[_0x499bb7(0x584)](_0x499bb7(0xce7)))return;_0x605c64['textContent']=_0x3b34e4;},_0x27effb=_0x5ca946=>_0x5ca946['replace'](/\u00A0/g,'\x20')[_0x455929(0x95b)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x115ee5=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x809e61=_0x307e30=>{const _0x521845=_0x455929;let _0x45909c=_0x307e30['trim']();const _0x1c5400=[_0x521845(0xe66),_0x521845(0xae7),_0x521845(0xb81),_0x521845(0xed3),_0x521845(0x9ad),'times',_0x521845(0xa20),_0x521845(0x806),'leq','geq','le','ge','neq','pm','approx',_0x521845(0x22d),_0x521845(0x7f5),_0x521845(0x909),_0x521845(0xe84),'ln',_0x521845(0x5e3),_0x521845(0x83e),_0x521845(0x3a5),_0x521845(0x6f1),_0x521845(0x994),_0x521845(0x66d),_0x521845(0x9c2),_0x521845(0x9ed),'deg'];_0x1c5400['forEach'](_0x410c6d=>{const _0x327ab8=_0x521845;_0x45909c=_0x45909c[_0x327ab8(0x95b)](new RegExp(_0x327ab8(0xc16)+_0x410c6d+'\x5cb','g'),(_0xc89cd1,_0x24c7d1)=>_0x24c7d1+'\x5c'+_0x410c6d);});const _0x10ed56=[[/×/g,'\x5ctimes'],[/·/g,_0x521845(0xe6c)],[/÷/g,_0x521845(0xe23)],[/≤/g,'\x5cle'],[/≥/g,_0x521845(0x470)],[/≠/g,_0x521845(0xa07)],[/±/g,_0x521845(0x65c)],[/∑/g,_0x521845(0x819)],[/−/g,'-']];return _0x10ed56['forEach'](([_0x4ab999,_0x182bf7])=>{const _0xf9bb06=_0x521845;_0x45909c=_0x45909c[_0xf9bb06(0x95b)](_0x4ab999,_0x182bf7);}),_0x45909c=_0x45909c['replace'](/√\s*([A-Za-z0-9]+)/g,_0x521845(0x20d)),_0x45909c=_0x45909c[_0x521845(0x95b)](/(\d+)\s*%/g,_0x521845(0xc3c)),_0x45909c;},_0x3b3d09=_0x209652=>{const _0x261aeb=_0x455929;if(/\$|\\\(|\\\[/['test'](_0x209652))return _0x209652;if(!_0x115ee5[_0x261aeb(0x78a)](_0x209652))return _0x209652;const _0x545704=_0x209652['match'](/^\s*/)[0x0],_0x322df9=_0x209652[_0x261aeb(0x76e)](/\s*$/)[0x0],_0x41873c=_0x209652['trim']();return _0x545704+'$'+_0x809e61(_0x41873c)+'$'+_0x322df9;};_0x2cc3e8[_0x455929(0x4aa)](_0x329414=>{const _0x4d523d=_0x455929,_0x4f5129=_0x511c88(_0x329414);let _0x249015=_0x27effb(_0x4f5129);_0x249015=_0x249015[_0x4d523d(0x95b)](/\$([^$]*?)\$/g,(_0x4cb44c,_0x36e6f0)=>'$'+_0x809e61(_0x36e6f0)+'$');const _0x184ebe=_0x249015['split'](/(\s+)/),_0x3499da=_0x184ebe[_0x4d523d(0xa0d)](_0x4327ad=>{const _0x3dbfc6=_0x4d523d;if(/\s+/[_0x3dbfc6(0x78a)](_0x4327ad))return _0x4327ad;return _0x3b3d09(_0x4327ad);});_0x249015=_0x3499da['join'](''),_0x249015!==_0x4f5129&&(_0x4c6815(_0x329414,_0x249015),_0x18d8a4++);});if(_0x18d8a4>0x0){showMessage(_0x455929(0xa6a)+_0x18d8a4+'\x20จุดเรียบร้อยแล้ว');try{window[_0x455929(0x51a)]&&MathJax[_0x455929(0xbce)]&&MathJax[_0x455929(0xbce)]([_0x473404]);}catch(_0x23bf91){console[_0x455929(0x7cd)](_0x455929(0x9ef),_0x23bf91);}}else showMessage(_0x455929(0x56b));}function handleAutoFixLatex(){const _0xf818de=_0x4b15a0,_0x3a1c2b=document[_0xf818de(0xb9f)](_0xf818de(0x964))||document,_0x4be083=_0x3a1c2b[_0xf818de(0x3eb)](_0xf818de(0x847));let _0x55e0b3=0x0;const _0x385fa5=_0x6b3e6f=>'value'in _0x6b3e6f?String(_0x6b3e6f['value']):_0x6b3e6f[_0xf818de(0x649)]!==undefined?_0x6b3e6f[_0xf818de(0x649)]:_0x6b3e6f[_0xf818de(0x1d0)]||'',_0x4dfdee=(_0x135e7f,_0x4bcd50)=>{const _0x38a5f9=_0xf818de;if(_0x38a5f9(0x232)in _0x135e7f){_0x135e7f[_0x38a5f9(0x232)]=_0x4bcd50;return;}if(_0x135e7f[_0x38a5f9(0x584)]&&_0x135e7f[_0x38a5f9(0x584)]('mjx-container'))return;if(_0x135e7f[_0x38a5f9(0x649)]!==undefined)_0x135e7f[_0x38a5f9(0x649)]=_0x4bcd50;else _0x135e7f['textContent']=_0x4bcd50;},_0x215a74=_0x2aedf3=>_0x2aedf3[_0xf818de(0x95b)](/\u00A0/g,'\x20')[_0xf818de(0x95b)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x35ef41=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x41634e=_0x556725=>{const _0x30a91f=_0xf818de;let _0x372b6a=_0x556725[_0x30a91f(0xbdc)]();_0x372b6a=_0x372b6a['replace'](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x30a91f(0xb5f)),_0x372b6a=_0x372b6a[_0x30a91f(0x95b)](/\bfrac(\d)(\d)/g,_0x30a91f(0xb5f));const _0x40ca30=[_0x30a91f(0xe66),'sqrt','times',_0x30a91f(0xa20),_0x30a91f(0x806),'leq',_0x30a91f(0x896),_0x30a91f(0xadc),'pm',_0x30a91f(0x22d),_0x30a91f(0x7f5),_0x30a91f(0x909),'log','ln'];_0x40ca30[_0x30a91f(0x4aa)](_0x43d0ef=>{const _0x6efdf7=_0x30a91f;_0x372b6a=_0x372b6a[_0x6efdf7(0x95b)](new RegExp(_0x6efdf7(0xc16)+_0x43d0ef+'\x5cb','g'),(_0x2d4871,_0x1d7ba7)=>_0x1d7ba7+'\x5c'+_0x43d0ef);});const _0x37e8d4=[[/×/g,_0x30a91f(0x35f)],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,_0x30a91f(0x768)],[/≥/g,'\x5cge'],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm']];return _0x37e8d4['forEach'](([_0x46ccb6,_0x683689])=>{const _0x3a80a5=_0x30a91f;_0x372b6a=_0x372b6a[_0x3a80a5(0x95b)](_0x46ccb6,_0x683689);}),_0x372b6a;},_0xdbdc6d=_0x450d9f=>{const _0x486ba5=_0xf818de;if(/\$|\\\(|\\\[/['test'](_0x450d9f))return _0x450d9f;if(!_0x35ef41['test'](_0x450d9f))return _0x450d9f;const _0x23e1ad=_0x450d9f['match'](/^\s*/)[0x0],_0x5b9f2d=_0x450d9f[_0x486ba5(0x76e)](/\s*$/)[0x0],_0x47cf9d=_0x450d9f[_0x486ba5(0xbdc)]();return _0x23e1ad+'$'+_0x41634e(_0x47cf9d)+'$'+_0x5b9f2d;};_0x4be083['forEach'](_0x49d8ce=>{const _0x4270a5=_0xf818de,_0x4f341e=_0x385fa5(_0x49d8ce);let _0x24509f=_0x215a74(_0x4f341e);_0x24509f=_0x24509f[_0x4270a5(0x95b)](/\$([^$]*?)\$/g,(_0x18c6eb,_0x4ac000)=>'$'+_0x41634e(_0x4ac000)+'$');const _0x15fce7=_0x24509f[_0x4270a5(0x390)](/(\s+)/),_0x438650=_0x15fce7[_0x4270a5(0xa0d)](_0x96ca99=>/\s+/['test'](_0x96ca99)?_0x96ca99:_0xdbdc6d(_0x96ca99));_0x24509f=_0x438650['join'](''),_0x24509f!==_0x4f341e&&(_0x4dfdee(_0x49d8ce,_0x24509f),_0x55e0b3++);});if(_0x55e0b3>0x0){showMessage(_0xf818de(0xe15)+_0x55e0b3+_0xf818de(0x711));try{if(window['MathJax']&&MathJax[_0xf818de(0xbce)])MathJax[_0xf818de(0xbce)]();}catch(_0x20bb59){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x5475e6=_0x4b15a0,_0x189134=collection(db,_0x5475e6(0xc4a)+appId+_0x5475e6(0xd27));onSnapshot(_0x189134,_0x26b00e=>{const _0x538df8=_0x5475e6;customMathTopics=_0x26b00e[_0x538df8(0x9e5)][_0x538df8(0xa0d)](_0x3518b3=>({'id':_0x3518b3['id'],..._0x3518b3['data']()})),renderTopicCheckboxes();},_0x4d7bac=>{const _0x5cab4f=_0x5475e6;console['error'](_0x5cab4f(0x5f8),_0x4d7bac);});}function handleSelectAllTopics(){const _0xaea963=_0x4b15a0,_0x190460=document[_0xaea963(0xb9f)]('math-topics-checkbox-container'),_0x59690e=_0x190460[_0xaea963(0x3eb)](_0xaea963(0xed5));_0x59690e[_0xaea963(0x4aa)](_0x297532=>{const _0x3a3cd5=_0xaea963;_0x297532[_0x3a3cd5(0x270)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2e6fbb=_0x4b15a0,_0x43a064=document[_0x2e6fbb(0xb9f)](_0x2e6fbb(0xc55)),_0x28fd9d=_0x43a064[_0x2e6fbb(0x3eb)](_0x2e6fbb(0xed5));_0x28fd9d[_0x2e6fbb(0x4aa)](_0x2218e5=>{const _0x125cb0=_0x2e6fbb;_0x2218e5[_0x125cb0(0x270)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x17d963){const _0x98fe2b=_0x4b15a0;if(!_0x17d963)return;try{const _0x1889b0=doc(db,_0x98fe2b(0xc4a)+appId+_0x98fe2b(0xd27),_0x17d963);await deleteDoc(_0x1889b0),showMessage(_0x98fe2b(0xd22));}catch(_0x47136c){console[_0x98fe2b(0x7cd)](_0x98fe2b(0x6eb),_0x47136c),showMessage(_0x98fe2b(0x9b9));}}async function handleAddCustomMathTopic(){const _0x1bf84a=_0x4b15a0,_0x2ec356=document['getElementById'](_0x1bf84a(0xade)),_0x139010=_0x2ec356['value']['trim']();if(!_0x139010){showMessage(_0x1bf84a(0x2ac));return;}if(!userId){showMessage(_0x1bf84a(0x76f));return;}try{const _0x12995d=collection(db,_0x1bf84a(0xc4a)+appId+_0x1bf84a(0xd27));await addDoc(_0x12995d,{'name':_0x139010,'createdAt':serverTimestamp()}),_0x2ec356[_0x1bf84a(0x232)]='',showMessage(_0x1bf84a(0xb72)+_0x139010+_0x1bf84a(0x7a8));}catch(_0x56c5df){console[_0x1bf84a(0x7cd)](_0x1bf84a(0x616),_0x56c5df),showMessage(_0x1bf84a(0x401));}}async function handleUpdateOldQuizzes(){const _0x9deaed=_0x4b15a0;showConfirmation(_0x9deaed(0x93e),async()=>{const _0x319ae9=_0x9deaed,_0x1fa7d9=document[_0x319ae9(0xb9f)](_0x319ae9(0x976)),_0x543eca=document[_0x319ae9(0xb9f)](_0x319ae9(0x6a5)),_0x4b2db6=_0x543eca[_0x319ae9(0x1d0)];_0x1fa7d9[_0x319ae9(0xbd3)][_0x319ae9(0x5f4)](_0x319ae9(0x81c)),_0x543eca[_0x319ae9(0x1d0)]=_0x319ae9(0x606);try{const _0x33a44f=collection(db,_0x319ae9(0xc4a)+appId+_0x319ae9(0x671)),_0x2db4d1=await getDocs(_0x33a44f);if(_0x2db4d1[_0x319ae9(0xe97)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x16dcc2=writeBatch(db);let _0x50e54d=0x0;_0x2db4d1[_0x319ae9(0x4aa)](_0x357665=>{const _0x4cab98=_0x319ae9,_0x1fae06=_0x357665[_0x4cab98(0x7f7)](),_0x52bae6=_0x357665['id'];if(_0x1fae06[_0x4cab98(0xa09)]&&_0x1fae06[_0x4cab98(0xa09)][_0x4cab98(0x8da)]>0x0&&!_0x1fae06['questions'][0x0][_0x4cab98(0x5fc)]('id')){console[_0x4cab98(0xe84)](_0x4cab98(0x96b)+_0x52bae6+'\x20('+_0x1fae06[_0x4cab98(0x257)]+')'),_0x50e54d++;const _0x4d3066=_0x1fae06['questions'][_0x4cab98(0xa0d)]((_0x286808,_0x4a8971)=>{const _0x3fdd49=_0x4cab98;return{..._0x286808,'id':_0x286808['id']||'q_'+Date[_0x3fdd49(0xb38)]()+'_'+_0x52bae6+'_'+_0x4a8971};}),_0x3e168a=doc(db,'artifacts/'+appId+_0x4cab98(0x671),_0x52bae6);_0x16dcc2[_0x4cab98(0x86a)](_0x3e168a,{'questions':_0x4d3066});}}),_0x50e54d>0x0?(_0x543eca['textContent']=_0x319ae9(0x46d)+_0x50e54d+'\x20รายการ...',await _0x16dcc2[_0x319ae9(0x644)](),showMessage(_0x319ae9(0x7c0)+_0x50e54d+'\x20รายการสำเร็จ!')):showMessage(_0x319ae9(0xe79));}catch(_0xd4a338){console[_0x319ae9(0x7cd)](_0x319ae9(0x4ac),_0xd4a338),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0xd4a338[_0x319ae9(0x81b)]);}finally{_0x1fa7d9['classList'][_0x319ae9(0x72b)](_0x319ae9(0x81c)),_0x543eca[_0x319ae9(0x1d0)]=_0x4b2db6;}});}async function handleBulkUpdateQuizSettings(){const _0x557b5b=_0x4b15a0,_0x12f5a5={'shuffle':document['getElementById'](_0x557b5b(0xc21))[_0x557b5b(0x232)],'resultsDisplay':document['getElementById'](_0x557b5b(0x560))[_0x557b5b(0x232)],'loopUntilPass':document[_0x557b5b(0xb9f)](_0x557b5b(0xebb))['checked'],'isConfidenceScoringEnabled':document[_0x557b5b(0xb9f)](_0x557b5b(0x8f4))['checked'],'confidenceMode':document[_0x557b5b(0xb9f)](_0x557b5b(0x262))['value']};try{showMessage(_0x557b5b(0x65b));const _0x3085c1=await getDocs(collection(db,_0x557b5b(0xc4a)+appId+'/public/data/quizzes')),_0x396e3b=_0x3085c1[_0x557b5b(0x9e5)][_0x557b5b(0xa0d)](_0x18f2a3=>({'id':_0x18f2a3['id'],'data':_0x18f2a3['data']()})),_0x1a908f=_0x396e3b[_0x557b5b(0x8da)];showConfirmation(_0x557b5b(0xc23)+_0x1a908f+_0x557b5b(0x287),async()=>{const _0x3e0c1a=_0x557b5b,_0x30accf=document[_0x3e0c1a(0xb9f)](_0x3e0c1a(0x432));_0x30accf[_0x3e0c1a(0x417)]=!![],_0x30accf[_0x3e0c1a(0x7fc)]=_0x3e0c1a(0x4f0);try{const _0x33c296=writeBatch(db);_0x396e3b[_0x3e0c1a(0x4aa)](_0x5740ea=>{const _0xa54c6a=_0x3e0c1a,_0x8e253c=doc(db,_0xa54c6a(0xc4a)+appId+_0xa54c6a(0x671),_0x5740ea['id']),_0x18176d={..._0x5740ea[_0xa54c6a(0x7f7)][_0xa54c6a(0x879)]||{},..._0x12f5a5};_0x33c296[_0xa54c6a(0x86a)](_0x8e253c,{'settings':_0x18176d});}),await _0x33c296['commit'](),document[_0x3e0c1a(0xb9f)](_0x3e0c1a(0x2d2))[_0x3e0c1a(0xbd3)][_0x3e0c1a(0x72b)](_0x3e0c1a(0x81c)),showMessage(_0x3e0c1a(0xc13)+_0x1a908f+_0x3e0c1a(0x548));}catch(_0x1fdb42){console[_0x3e0c1a(0x7cd)](_0x3e0c1a(0xb15),_0x1fdb42),showMessage(_0x3e0c1a(0xc60));}finally{_0x30accf['disabled']=![],_0x30accf[_0x3e0c1a(0x7fc)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x560a61){console[_0x557b5b(0x7cd)](_0x557b5b(0xe10),_0x560a61),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x20d127=_0x4b15a0,_0x2de1e0=document['getElementById'](_0x20d127(0xb94)),_0x51422c=document[_0x20d127(0xb9f)](_0x20d127(0x942)),_0x3aab10=_0x2de1e0['textContent'][_0x20d127(0xbdc)]();if(!_0x3aab10||!currentProjectId){showMessage(_0x20d127(0x35d)),_0x2de1e0['textContent']=currentProjectData['projectName'];return;}_0x51422c['disabled']=!![],_0x51422c['innerHTML']=_0x20d127(0x864);try{const _0x26eccc=doc(db,'artifacts/'+appId+_0x20d127(0x47d),currentProjectId);await updateDoc(_0x26eccc,{'projectName':_0x3aab10}),currentProjectData&&(currentProjectData[_0x20d127(0x6b1)]=_0x3aab10),showMessage(_0x20d127(0x71e));}catch(_0x1128b5){console[_0x20d127(0x7cd)]('Error\x20updating\x20project\x20name:',_0x1128b5),showMessage(_0x20d127(0x21f)),_0x2de1e0['textContent']=currentProjectData['projectName'];}finally{_0x51422c[_0x20d127(0xbd3)][_0x20d127(0x72b)](_0x20d127(0x81c)),_0x51422c[_0x20d127(0x417)]=![],_0x51422c[_0x20d127(0x7fc)]=_0x20d127(0xebd);}}function handleGeneratePracticeTest(_0x32514e,_0x42ff20){const _0x26c28c=_0x4b15a0,_0xfc028c=document[_0x26c28c(0xb9f)]('lesson-view-modal'),_0x36d6b4=document[_0x26c28c(0xb9f)](_0x26c28c(0x684)),_0x469b9c=document['getElementById']('lesson-loader'),_0x391e9b=document['getElementById']('lesson-sections-container');_0x36d6b4['textContent']=_0x26c28c(0x539)+_0x32514e,_0x391e9b[_0x26c28c(0xbd3)][_0x26c28c(0x72b)]('hidden'),_0x469b9c[_0x26c28c(0xbd3)][_0x26c28c(0x5f4)](_0x26c28c(0x81c)),_0xfc028c[_0x26c28c(0xbd3)][_0x26c28c(0x5f4)](_0x26c28c(0x81c)),generatePracticeTest(_0x32514e,_0x42ff20)['catch'](_0x188734=>{const _0x4547c4=_0x26c28c;console['error'](_0x4547c4(0x597),_0x188734),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0xfc028c[_0x4547c4(0xbd3)][_0x4547c4(0x72b)](_0x4547c4(0x81c));});}async function generatePracticeTest(_0x1b2bed,_0x3bb24a){const _0xc51411=_0x4b15a0;['pointContent','memoryContent',_0xc51411(0xbd9),_0xc51411(0x7f3)][_0xc51411(0x4aa)](_0x413d65=>{const _0x2e00c6=_0xc51411,_0x5d2942=document[_0x2e00c6(0xb9f)](_0x413d65)[_0x2e00c6(0x9f5)];_0x5d2942&&(_0x5d2942[_0x2e00c6(0x8b5)][_0x2e00c6(0x4e3)]=_0x2e00c6(0xbae));});try{const _0x14e674=_0xc51411(0x276),_0x4b9387=_0xc51411(0x26d)+_0x3bb24a+'\x27\x20ในหัวข้อ\x20\x27'+_0x1b2bed+_0xc51411(0x61a),_0x4a258a=await callGemini(_0x4b9387,!![]),_0x3ee43f=document[_0xc51411(0xb9f)]('lesson-view-title'),_0x118f08=document[_0xc51411(0xb9f)]('lesson-loader'),_0xc7a41f=document[_0xc51411(0xb9f)]('lesson-sections-container'),_0x31e8ae=document[_0xc51411(0xb9f)](_0xc51411(0xbd9))[_0xc51411(0x9f5)];_0x3ee43f['innerText']=_0xc51411(0x863)+_0x1b2bed[_0xc51411(0x95b)](/•\s/g,'')+'\x20(สำหรับ\x20'+_0x3bb24a+')',currentApplicationData=JSON[_0xc51411(0x717)](_0x4a258a);const _0x1384eb=document[_0xc51411(0xb9f)](_0xc51411(0xbd9));_0x1384eb[_0xc51411(0x7fc)]=currentApplicationData[_0xc51411(0xa0d)]((_0x4ff3c2,_0x4d6667)=>_0xc51411(0x251)+(_0x4d6667+0x1)+'.\x20'+marked['parseInline'](_0x4ff3c2[_0xc51411(0x9b0)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x4d6667+_0xc51411(0x2ad)+_0x4ff3c2[_0xc51411(0x4d1)][_0xc51411(0xa0d)]((_0x41a7b0,_0x198ad2)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x4d6667+',\x20'+_0x198ad2+')\x22>'+String['fromCharCode'](0x61+_0x198ad2)+'.\x20'+marked[_0xc51411(0x4d3)](_0x41a7b0)+_0xc51411(0xc51))[_0xc51411(0x510)]('')+_0xc51411(0xbd4))[_0xc51411(0x510)](''),window[_0xc51411(0x51a)]&&MathJax[_0xc51411(0xbce)]([_0x1384eb]),_0x31e8ae&&(_0x31e8ae[_0xc51411(0x8b5)][_0xc51411(0x4e3)]=_0xc51411(0x653)),_0x118f08[_0xc51411(0xbd3)][_0xc51411(0x72b)](_0xc51411(0x81c)),_0xc7a41f[_0xc51411(0xbd3)][_0xc51411(0x5f4)]('hidden');}catch(_0x1b029c){console[_0xc51411(0x7cd)](_0x1b029c);throw _0x1b029c;}}async function callGemini(_0x4fc0fe,_0x29aa28=![]){const _0x1e3f29=_0x4b15a0,_0x54b4bb=_0x1e3f29(0x808),_0x10f9ae=_0x1e3f29(0xec8)+_0x54b4bb,_0x3a02f8={'contents':[{'parts':[{'text':_0x4fc0fe}]}]};_0x29aa28&&(_0x3a02f8[_0x1e3f29(0xcb2)]={'responseMimeType':_0x1e3f29(0x4a6)},_0x4fc0fe[_0x1e3f29(0xa36)](_0x1e3f29(0x8f2))?_0x3a02f8[_0x1e3f29(0xcb2)]['responseSchema']={'type':_0x1e3f29(0x4a5),'properties':{'gradeLevel':{'type':_0x1e3f29(0x902)},'curriculum':{'type':_0x1e3f29(0x537),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x1e3f29(0x902)},'mainTopics':{'type':_0x1e3f29(0x537),'items':{'type':_0x1e3f29(0x4a5),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x1e3f29(0x537),'items':{'type':_0x1e3f29(0x902)}}},'required':['topicName',_0x1e3f29(0x359)]}}},'required':['sara',_0x1e3f29(0xe1d)]}}},'required':[_0x1e3f29(0xb14),_0x1e3f29(0x6d8)]}:_0x3a02f8[_0x1e3f29(0xcb2)]['responseSchema']={'type':_0x1e3f29(0x537),'items':{'type':_0x1e3f29(0x4a5),'properties':{'question':{'type':_0x1e3f29(0x902)},'options':{'type':_0x1e3f29(0x537),'items':{'type':'STRING'}},'answer':{'type':_0x1e3f29(0x487)}},'required':[_0x1e3f29(0x9b0),_0x1e3f29(0x4d1),_0x1e3f29(0x253)]}});try{const _0x1d703c=await fetch(_0x10f9ae,{'method':_0x1e3f29(0x3a9),'headers':{'Content-Type':'application/json'},'body':JSON[_0x1e3f29(0x4d8)](_0x3a02f8)});if(!_0x1d703c['ok']){const _0x400d98=await _0x1d703c['text']();console['error']('API\x20Error\x20Body:',_0x400d98);throw new Error(_0x1e3f29(0x861)+_0x1d703c[_0x1e3f29(0x58b)]);}const _0x3dde35=await _0x1d703c[_0x1e3f29(0xe9a)]();if(_0x3dde35[_0x1e3f29(0x991)]&&_0x3dde35[_0x1e3f29(0x991)][0x0][_0x1e3f29(0x5de)]&&_0x3dde35[_0x1e3f29(0x991)][0x0][_0x1e3f29(0x5de)][_0x1e3f29(0x9c6)][0x0])return _0x3dde35['candidates'][0x0][_0x1e3f29(0x5de)][_0x1e3f29(0x9c6)][0x0][_0x1e3f29(0x9ad)];else{console['error'](_0x1e3f29(0xbfc),_0x3dde35);if(_0x3dde35[_0x1e3f29(0x991)]&&_0x3dde35[_0x1e3f29(0x991)][0x0][_0x1e3f29(0xd6d)]===_0x1e3f29(0xaad))return JSON[_0x1e3f29(0x4d8)]({'error':_0x1e3f29(0x904)});throw new Error(_0x1e3f29(0x897));}}catch(_0x5f402d){console['error']('Error\x20calling\x20Gemini\x20API:',_0x5f402d);throw _0x5f402d;}}async function generateLesson(_0x1cff41=null,_0x1cd044=null){const _0x4abed7=_0x4b15a0,_0x35efcf=_0x1cff41,_0x1ba037=_0x1cd044||_0x4abed7(0x680),_0x2e6a4a=document['getElementById']('lesson-loader'),_0x1a3320=document[_0x4abed7(0xb9f)](_0x4abed7(0x639));_0x1a3320['textContent']=_0x4abed7(0x6ed)+_0x35efcf+_0x4abed7(0x5a7);try{let _0x83aa59=[];const _0xb99f86=document['getElementById'](_0x4abed7(0x907))?.[_0x4abed7(0x232)]['trim']();if(_0xb99f86)try{_0x1a3320[_0x4abed7(0x1d0)]='กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...';const _0x5e700e=await fetchFileFromUrl(_0xb99f86,_0x4abed7(0x325)),_0x4bf9cd=await new Promise((_0x38a239,_0xcc9f97)=>{const _0x152306=_0x4abed7,_0x1e6b87=new FileReader();_0x1e6b87[_0x152306(0x965)](_0x5e700e),_0x1e6b87[_0x152306(0xb46)]=()=>_0x38a239(_0x1e6b87[_0x152306(0x338)][_0x152306(0x390)](',')[0x1]),_0x1e6b87[_0x152306(0xce6)]=_0xcc9f97;});_0x83aa59['push']({'inlineData':{'mimeType':_0x5e700e[_0x4abed7(0xa1b)],'data':_0x4bf9cd}});}catch(_0x47eaee){console[_0x4abed7(0x7cd)](_0x4abed7(0x5dc),_0x47eaee),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ');}const _0x169b93=_0x4abed7(0x701)+_0x35efcf+_0x4abed7(0xbfa)+_0x35efcf+_0x4abed7(0x72f);_0x1a3320[_0x4abed7(0x1d0)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x35efcf+_0x4abed7(0x5a7);const _0x4914d1='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x1ba037+_0x4abed7(0xd4e)+_0x35efcf+_0x4abed7(0xb8f)+_0x169b93+_0x4abed7(0x568),_0x577e34='สำหรับหัวข้อ\x20\x27'+_0x35efcf+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x1ba037+_0x4abed7(0x554)+_0x169b93+_0x4abed7(0xb56),_0x11f0cb=_0x4abed7(0x26d)+_0x1ba037+'\x27\x20ในหัวข้อ\x20\x27'+_0x35efcf+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20'+_0x169b93+_0x4abed7(0x5ad),_0x5a1f7b='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x35efcf+_0x4abed7(0x447)+_0x1ba037+_0x4abed7(0xb1c)+_0x169b93+_0x4abed7(0x5c5),_0x200146={'type':_0x4abed7(0x537),'items':{'type':_0x4abed7(0x4a5),'properties':{'question':{'type':_0x4abed7(0x902)},'options':{'type':_0x4abed7(0x537),'items':{'type':_0x4abed7(0x902)}},'answer':{'type':'NUMBER'}},'required':['question','options',_0x4abed7(0x253)]}},[_0x529dcd,_0x59f004,_0x55b4d0,_0x2dbffd]=await Promise['all']([handleApiCall([{'text':_0x4914d1},..._0x83aa59],'...',null,null,![]),handleApiCall([{'text':_0x577e34},..._0x83aa59],_0x4abed7(0xca3),null,null,![]),handleApiCall([{'text':_0x11f0cb},..._0x83aa59],'...',_0x200146,null,![]),handleApiCall([{'text':_0x5a1f7b},..._0x83aa59],_0x4abed7(0xca3),null,null,![])]),_0x529548=JSON[_0x4abed7(0x4d8)](_0x55b4d0||[]),_0x48706f=document[_0x4abed7(0xb9f)]('lesson-view-title'),_0x335377=document[_0x4abed7(0xb9f)](_0x4abed7(0xb71));_0x48706f['innerText']='บทเรียนเรื่อง:\x20'+_0x35efcf[_0x4abed7(0x95b)](/•\\s/g,'')+_0x4abed7(0xe12)+_0x1ba037+')',[_0x4abed7(0x5d3),'memoryContent',_0x4abed7(0x7f3)][_0x4abed7(0x4aa)](_0x3e0716=>{const _0x12e2b1=_0x4abed7;document[_0x12e2b1(0xb9f)](_0x3e0716)['innerHTML']='';}),document[_0x4abed7(0xb9f)]('pointContent')[_0x4abed7(0x7fc)]=_0x529dcd?marked[_0x4abed7(0x717)](_0x529dcd):_0x4abed7(0x4a4),document[_0x4abed7(0xb9f)](_0x4abed7(0x433))[_0x4abed7(0x7fc)]=_0x59f004?marked[_0x4abed7(0x717)](_0x59f004):_0x4abed7(0x4a4),document[_0x4abed7(0xb9f)](_0x4abed7(0x7f3))['innerHTML']=_0x2dbffd?marked[_0x4abed7(0x717)](_0x2dbffd):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON[_0x4abed7(0x717)](_0x529548);const _0x509577=document[_0x4abed7(0xb9f)]('applicationContent');_0x509577[_0x4abed7(0x7fc)]=(currentApplicationData||[])[_0x4abed7(0xa0d)]((_0x2b4399,_0x3ad578)=>_0x4abed7(0x251)+(_0x3ad578+0x1)+'.\x20'+marked[_0x4abed7(0x4d3)](_0x2b4399[_0x4abed7(0x9b0)]||'')+_0x4abed7(0xd07)+_0x3ad578+_0x4abed7(0x2ad)+(_0x2b4399[_0x4abed7(0x4d1)]||[])[_0x4abed7(0xa0d)]((_0x3cd663,_0x2598ce)=>_0x4abed7(0x3c1)+_0x3ad578+',\x20'+_0x2598ce+_0x4abed7(0x1eb)+String['fromCharCode'](0x61+_0x2598ce)+'.\x20'+marked[_0x4abed7(0x4d3)](_0x3cd663||'')+_0x4abed7(0xc51))[_0x4abed7(0x510)]('')+_0x4abed7(0xbd4))[_0x4abed7(0x510)]('')||_0x4abed7(0x330),window[_0x4abed7(0x51a)]&&MathJax[_0x4abed7(0xbce)]([_0x335377]),_0x2e6a4a[_0x4abed7(0xbd3)]['add'](_0x4abed7(0x81c)),_0x335377[_0x4abed7(0xbd3)][_0x4abed7(0x5f4)](_0x4abed7(0x81c));}catch(_0xa8697c){console[_0x4abed7(0x7cd)](_0xa8697c);throw _0xa8697c;}}function checkAnswer(_0x4f9572,_0x55c596){const _0x148ce6=_0x4b15a0,_0x486003=currentApplicationData[_0x4f9572],_0x4da1f9=document['getElementById']('q'+_0x4f9572+'-options'),_0x9a21c3=_0x4da1f9[_0x148ce6(0x3b1)]('button');for(let _0x562b21 of _0x9a21c3){_0x562b21[_0x148ce6(0x417)]=!![];}_0x55c596===_0x486003[_0x148ce6(0x253)]?_0x9a21c3[_0x55c596][_0x148ce6(0xbd3)][_0x148ce6(0x72b)](_0x148ce6(0xa05)):(_0x9a21c3[_0x55c596][_0x148ce6(0xbd3)][_0x148ce6(0x72b)](_0x148ce6(0xbaa)),_0x9a21c3[_0x486003[_0x148ce6(0x253)]][_0x148ce6(0xbd3)][_0x148ce6(0x72b)]('correct'));}window['handleGenerateAndShowLesson']=handleGenerateAndShowLesson,window[_0x4b15a0(0x5f2)]=checkAnswer,window[_0x4b15a0(0x6cc)]=handleGeneratePracticeTest,window[_0x4b15a0(0xa64)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x285805=_0x4b15a0;try{const _0x5bf7f2=initializeApp(firebaseConfig);db=getFirestore(_0x5bf7f2),auth=getAuth(_0x5bf7f2),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x3f8bae){console[_0x285805(0x7cd)](_0x285805(0x3b8),_0x3f8bae),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x4338bc=_0x4b15a0,_0x51e0ca=document[_0x4338bc(0xb9f)](_0x4338bc(0x4b7));if(!_0x51e0ca)return;const _0x3baef1=document[_0x4338bc(0xb9f)](_0x4338bc(0xc9b));_0x3baef1[_0x4338bc(0x417)]=!![],_0x3baef1[_0x4338bc(0x7fc)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x3376bd=_0x51e0ca['querySelectorAll']('.question-editor-item'),_0x2f78b3=Array[_0x4338bc(0x7ca)](_0x3376bd)[_0x4338bc(0xa0d)]((_0x824f5c,_0x5bcdf0)=>{const _0x3a5644=_0x4338bc,_0x473b64=_0x824f5c[_0x3a5644(0x273)]['qType'],_0x56911c=_0x824f5c[_0x3a5644(0x584)](_0x3a5644(0xab5))['value'];let _0x18f1b3=null,_0x5051ca='';switch(_0x473b64){case _0x3a5644(0x9c3):const _0xdbcc31=_0x824f5c['querySelectorAll'](_0x3a5644(0xda0));_0x18f1b3=Array[_0x3a5644(0x7ca)](_0xdbcc31)[_0x3a5644(0xa0d)](_0x19fadd=>_0x19fadd[_0x3a5644(0x232)]);const _0x57e708=_0x824f5c[_0x3a5644(0x584)](_0x3a5644(0xca7));_0x57e708&&(_0x5051ca=_0x18f1b3[parseInt(_0x57e708[_0x3a5644(0x232)])]);break;case _0x3a5644(0xc9f):_0x18f1b3=[],_0x5051ca=_0x824f5c['querySelector'](_0x3a5644(0xe01))[_0x3a5644(0x232)];break;case'true_false':_0x18f1b3=[_0x3a5644(0xb18),_0x3a5644(0xbf4)];const _0x3209bd=_0x824f5c[_0x3a5644(0x584)](_0x3a5644(0xca7));_0x5051ca=_0x3209bd?_0x3209bd[_0x3a5644(0x232)]:'';break;case _0x3a5644(0x50f):_0x18f1b3=[],_0x5051ca=_0x824f5c[_0x3a5644(0x584)](_0x3a5644(0x621))['value'];break;}return{'question':_0x56911c,'options':_0x18f1b3,'proposedAnswer':_0x5051ca};}),_0x26b491='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x4338bc(0x4d8)](_0x2f78b3)+_0x4338bc(0xcf4),_0x1ee625={'type':_0x4338bc(0x537),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x4338bc(0x1cb)},'justification':{'type':'STRING'},'correctOptionExists':{'type':_0x4338bc(0x1cb)},'suggestedAnswer':{'type':_0x4338bc(0x902)},'newOptionsPayload':{'type':'OBJECT','properties':{'newOptions':{'type':_0x4338bc(0x537),'items':{'type':_0x4338bc(0x902)}},'newCorrectIndex':{'type':_0x4338bc(0x487)}}}},'required':[_0x4338bc(0x5c7),_0x4338bc(0x809),'justification']}},_0x5e43a5=await callAnalysisApi(_0x26b491,{'type':_0x4338bc(0x4a5),'properties':{'result':_0x1ee625},'required':['result']});displayVerificationResultsInEditor(_0x5e43a5[_0x4338bc(0x338)]);}catch(_0x43fb13){console[_0x4338bc(0x7cd)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x43fb13),showMessage(_0x4338bc(0xa87));}finally{_0x3baef1[_0x4338bc(0x417)]=![],_0x3baef1[_0x4338bc(0x7fc)]=_0x4338bc(0x77b);}}function displayVerificationResultsInEditor(_0x2270bb){const _0xf1d6f0=_0x4b15a0;_0x2270bb['forEach'](_0x5c1d00=>{const _0x1c5fbb=_0x33c9,_0x3394b6=document[_0x1c5fbb(0x584)](_0x1c5fbb(0x8f7)+_0x5c1d00[_0x1c5fbb(0x5c7)]+'\x22]');if(!_0x3394b6)return;const _0x663a4d=_0x3394b6['querySelector'](_0x1c5fbb(0xe98));if(_0x663a4d)_0x663a4d[_0x1c5fbb(0x5f4)]();let _0x525433='';if(_0x5c1d00[_0x1c5fbb(0x4b9)]&&_0x5c1d00[_0x1c5fbb(0x4b9)][_0x1c5fbb(0xb9a)]){const _0x1b1b0c=_0x5c1d00[_0x1c5fbb(0x4b9)][_0x1c5fbb(0xb9a)],_0x1a347e=_0x5c1d00[_0x1c5fbb(0x4b9)]['newCorrectIndex'],_0x1d9c2f=_0x3394b6[_0x1c5fbb(0x273)][_0x1c5fbb(0x862)];if(_0x1d9c2f===_0x1c5fbb(0x9c3)){const _0x5acc86=_0x3394b6[_0x1c5fbb(0x3eb)]('input[type=\x22text\x22]');_0x5acc86[_0x1c5fbb(0x4aa)]((_0x4e558b,_0x2a3723)=>{const _0x31335c=_0x1c5fbb;_0x1b1b0c[_0x2a3723]?_0x4e558b['value']=_0x1b1b0c[_0x2a3723]:_0x4e558b['value']=_0x31335c(0x5b6);});const _0x1d9848=_0x3394b6[_0x1c5fbb(0x584)](_0x1c5fbb(0x79e)+_0x1a347e+'\x22]');_0x1d9848&&(_0x1d9848[_0x1c5fbb(0x270)]=!![]),_0x525433='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x3394b6[_0x1c5fbb(0xbd3)][_0x1c5fbb(0x72b)](_0x1c5fbb(0x41d),'transition-all','duration-300'),setTimeout(()=>{const _0x506167=_0x1c5fbb;_0x3394b6['classList'][_0x506167(0x5f4)](_0x506167(0x41d));},0x9c4);}}else{if(!_0x5c1d00[_0x1c5fbb(0x809)]&&_0x5c1d00[_0x1c5fbb(0xaa8)]){const _0x7b437f=_0x5c1d00['suggestedAnswer']?_0x1c5fbb(0xa2e):'';_0x525433=_0x1c5fbb(0x582)+_0x7b437f+_0x1c5fbb(0x27a)+_0x5c1d00[_0x1c5fbb(0xd58)]+_0x1c5fbb(0xc41)+(_0x5c1d00[_0x1c5fbb(0xaa8)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x5c1d00[_0x1c5fbb(0xaa8)]+_0x1c5fbb(0xe43):'')+_0x1c5fbb(0x7ad);const _0x5c97e7=_0x3394b6[_0x1c5fbb(0x273)][_0x1c5fbb(0x862)],_0x508e01=_0x44e40f=>{const _0x4adad8=_0x1c5fbb;if(!_0x44e40f)return;_0x44e40f[_0x4adad8(0xbd3)][_0x4adad8(0x72b)](_0x4adad8(0x780),'transition-all',_0x4adad8(0x9a4)),setTimeout(()=>{const _0x594edb=_0x4adad8;_0x44e40f['classList'][_0x594edb(0x5f4)](_0x594edb(0x780));},0x9c4);};if(_0x5c97e7==='multiple_choice'){const _0x46fb10=Array[_0x1c5fbb(0x7ca)](_0x3394b6[_0x1c5fbb(0x3eb)](_0x1c5fbb(0xda0))),_0x5f421c=_0x46fb10[_0x1c5fbb(0x706)](_0x87f8be=>_0x87f8be['value']['trim']()[_0x1c5fbb(0x724)]()===_0x5c1d00[_0x1c5fbb(0xaa8)][_0x1c5fbb(0xbdc)]()['toLowerCase']());if(_0x5f421c!==-0x1){const _0x4b2c41=_0x3394b6[_0x1c5fbb(0x584)](_0x1c5fbb(0x79e)+_0x5f421c+'\x22]');_0x4b2c41&&(_0x4b2c41['checked']=!![],_0x508e01(_0x4b2c41['closest'](_0x1c5fbb(0x806))));}}else{if(_0x5c97e7==='short_answer'||_0x5c97e7===_0x1c5fbb(0x50f)){const _0x1c8e49=_0x3394b6['querySelector'](_0x1c5fbb(0xced));_0x1c8e49&&(_0x1c8e49['value']=_0x5c1d00[_0x1c5fbb(0xaa8)],_0x508e01(_0x1c8e49));}else{if(_0x5c97e7===_0x1c5fbb(0xa29)){const _0x5a802d=_0x5c1d00[_0x1c5fbb(0xaa8)]['trim']()['toLowerCase'](),_0x5da3a7=_0x3394b6[_0x1c5fbb(0x584)](_0x1c5fbb(0x79e)+_0x5a802d+'\x22]');_0x5da3a7&&(_0x5da3a7['checked']=!![],_0x508e01(_0x5da3a7[_0x1c5fbb(0x892)](_0x1c5fbb(0x806))));}}}}else _0x5c1d00[_0x1c5fbb(0x809)]&&(_0x525433=_0x1c5fbb(0x2a7));}_0x3394b6['insertAdjacentHTML'](_0x1c5fbb(0x6d9),_0x525433);}),showMessage(_0xf1d6f0(0xe1f));}async function handleVerifyAnswers(){const _0x3528f7=_0x4b15a0;if(!currentQuizData||!currentQuizData[_0x3528f7(0xa09)]){showMessage(_0x3528f7(0xa46));return;}const _0x10dcf6=document[_0x3528f7(0xb9f)]('verify-answers-btn');_0x10dcf6['disabled']=!![],_0x10dcf6[_0x3528f7(0x7fc)]=_0x3528f7(0x242);try{const _0x3dc299=currentQuizData[_0x3528f7(0xa09)][_0x3528f7(0xa0d)]((_0x3013e9,_0x242253)=>{const _0x51abda=_0x3528f7;let _0x5a09a6='';const _0x2b64cd=_0x3013e9[_0x51abda(0x899)]||currentQuizData[_0x51abda(0xd68)];switch(_0x2b64cd){case _0x51abda(0x9c3):_0x5a09a6=_0x3013e9[_0x51abda(0x4d1)][_0x3013e9[_0x51abda(0x82e)]];break;case _0x51abda(0xc9f):_0x5a09a6=_0x3013e9[_0x51abda(0x493)];break;case'true_false':_0x5a09a6=_0x3013e9['correctAnswer'][_0x51abda(0xbb9)]();break;case _0x51abda(0x50f):_0x5a09a6=_0x3013e9[_0x51abda(0xa54)];break;}return{'question':_0x3013e9[_0x51abda(0x7fb)]||_0x3013e9[_0x51abda(0x931)],'options':_0x3013e9[_0x51abda(0x4d1)]||null,'proposedAnswer':_0x5a09a6};}),_0x6a1945=_0x3528f7(0x4d2)+JSON[_0x3528f7(0x4d8)](_0x3dc299)+_0x3528f7(0x611),_0x25773e={'type':_0x3528f7(0x537),'items':{'type':_0x3528f7(0x4a5),'properties':{'questionIndex':{'type':_0x3528f7(0x487)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x3528f7(0x902)},'suggestedAnswer':{'type':'STRING'}},'required':[_0x3528f7(0x5c7),'isCorrect',_0x3528f7(0xd58)]}},_0x3f6675=await callAnalysisApi(_0x6a1945,{'type':_0x3528f7(0x4a5),'properties':{'result':_0x25773e},'required':[_0x3528f7(0x338)]});displayVerificationResults(_0x3f6675[_0x3528f7(0x338)]);}catch(_0x1479b4){console[_0x3528f7(0x7cd)](_0x3528f7(0x83b),_0x1479b4),showMessage(_0x3528f7(0xa87));}finally{_0x10dcf6[_0x3528f7(0x417)]=![],_0x10dcf6[_0x3528f7(0x7fc)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x3131bf){const _0x142827=_0x4b15a0;_0x3131bf[_0x142827(0x4aa)](_0x18d9d1=>{const _0x3420fc=_0x142827,_0x184e64=document['querySelector']('div[data-question-index=\x22'+_0x18d9d1[_0x3420fc(0x5c7)]+'\x22]');if(_0x184e64){const _0x24f915=_0x184e64['querySelector'](_0x3420fc(0xae8));if(_0x24f915)_0x24f915[_0x3420fc(0x5f4)]();let _0x4316b6='';_0x18d9d1[_0x3420fc(0x809)]?_0x4316b6=_0x3420fc(0x383):_0x4316b6=_0x3420fc(0x6b5)+_0x18d9d1[_0x3420fc(0xd58)]+_0x3420fc(0xab6)+(_0x18d9d1[_0x3420fc(0xaa8)]?_0x3420fc(0x1d4)+_0x18d9d1['suggestedAnswer']+_0x3420fc(0xe43):'')+_0x3420fc(0x5cd),_0x184e64[_0x3420fc(0x3dd)](_0x3420fc(0x6d9),_0x4316b6);}}),showMessage(_0x142827(0xe1f));}function compareNumericalAnswers(_0x3cda75,_0x52ba06){const _0x343d56=_0x4b15a0,_0x27222a=String(_0x3cda75)[_0x343d56(0x95b)](',','.')[_0x343d56(0x95b)](/[^\d.-]/g,'')[_0x343d56(0xbdc)](),_0x182340=String(_0x52ba06)[_0x343d56(0x95b)](',','.')[_0x343d56(0x95b)](/[^\d.-]/g,'')['trim']();if(_0x27222a===''||_0x182340==='')return![];const _0x59cbc8=parseFloat(_0x27222a),_0x4412a7=parseFloat(_0x182340);if(isNaN(_0x59cbc8)||isNaN(_0x4412a7))return![];return Math[_0x343d56(0x38e)](_0x59cbc8-_0x4412a7)<0.001;}function isPotentiallyNumeric(_0x5c5fdd){const _0x481fce=_0x4b15a0;if(typeof _0x5c5fdd!==_0x481fce(0xe1b)&&typeof _0x5c5fdd!==_0x481fce(0x2d4))return![];const _0x5cb208=String(_0x5c5fdd)[_0x481fce(0x95b)](',','.')[_0x481fce(0xbdc)]();return _0x5cb208!==''&&!isNaN(parseFloat(_0x5cb208))&&isFinite(_0x5cb208);}async function gradeShortAnswer(_0xba0a22,_0x37673c){const _0x26f9ab=_0x4b15a0,_0x192e61=_0x37673c[_0x26f9ab(0x493)],_0x4109ce=String(_0xba0a22)[_0x26f9ab(0x95b)](/\$/g,'')[_0x26f9ab(0xbdc)](),_0x5331eb=String(_0x192e61)[_0x26f9ab(0x95b)](/\$/g,'')[_0x26f9ab(0xbdc)]();if(_0x4109ce[_0x26f9ab(0x724)]()===_0x5331eb['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x4109ce)&&isPotentiallyNumeric(_0x5331eb)){if(compareNumericalAnswers(_0x4109ce,_0x5331eb))return!![];}return console[_0x26f9ab(0xe84)](_0x26f9ab(0xd93)),await gradeShortAnswerWithAI(_0xba0a22,_0x192e61);}async function revealAnswerForAdmin(_0x1170dc,_0x4db95c){const _0x4d9f95=_0x4b15a0,_0x1a6347=doc(db,'artifacts/'+appId+_0x4d9f95(0x1e4),currentLiveGameId);await updateDoc(_0x1a6347,{'questionStatus':_0x4d9f95(0xd49)});}function showTop5LeaderboardView(_0x1395fc){const _0x1da377=_0x4b15a0,_0x456d06=Object['values'](_0x1395fc[_0x1da377(0xb9c)]||{})[_0x1da377(0xce3)](_0x5dbc59=>_0x5dbc59[_0x1da377(0x58b)]===_0x1da377(0x329));_0x456d06[_0x1da377(0x8c7)]((_0xc60029,_0x154537)=>_0x154537[_0x1da377(0x7e2)]-_0xc60029[_0x1da377(0x7e2)]);const _0x32cca9=_0x456d06['slice'](0x0,0x5),_0x1943f9=_0x1da377(0xd1a)+_0x32cca9['map']((_0x5330f7,_0x18b91d)=>_0x1da377(0x7b0)+(_0x18b91d+0x1)+'.\x20'+(_0x5330f7[_0x1da377(0x757)]||Object[_0x1da377(0xb2e)](_0x1395fc[_0x1da377(0xb9c)])[_0x1da377(0x59d)](_0x511bee=>_0x1395fc[_0x1da377(0xb9c)][_0x511bee]===_0x5330f7))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x5330f7['score']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1da377(0x510)]('')+_0x1da377(0x25c)+(_0x1395fc[_0x1da377(0x224)]+0x1===currentQuizData['questions']['length']?'สรุปผลสุดท้าย':'ข้อต่อไป')+_0x1da377(0xc17);liveGameView[_0x1da377(0x7fc)]=_0x1943f9,document['getElementById'](_0x1da377(0xeae))[_0x1da377(0x95a)](_0x1da377(0xd6c),async()=>{const _0x45b856=_0x1da377,_0x1de2d7=doc(db,_0x45b856(0xc4a)+appId+'/public/data/liveGames',currentLiveGameId),_0x582a9b=_0x1395fc['currentQuestionIndex']+0x1;if(_0x582a9b<currentQuizData[_0x45b856(0xa09)][_0x45b856(0x8da)]){const _0x50c773={'currentQuestionIndex':_0x582a9b,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x45b856(0xce8)};Object[_0x45b856(0xb2e)](_0x1395fc[_0x45b856(0xb9c)])[_0x45b856(0x4aa)](_0x4730d7=>{const _0x5ac0db=_0x45b856;_0x50c773[_0x5ac0db(0x36c)+_0x4730d7+_0x5ac0db(0x89f)]=![];}),await updateDoc(_0x1de2d7,_0x50c773);}else await updateDoc(_0x1de2d7,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x324041=>{const _0x12e9a4=_0x33c9;if(_0x324041){userId=_0x324041[_0x12e9a4(0x840)],userIdDisplay[_0x12e9a4(0x1d0)]=userId;const _0x3f914c=await loadUserPreferences();_0x3f914c['projectSortOrder']&&(document['getElementById'](_0x12e9a4(0xaa7))[_0x12e9a4(0x232)]=_0x3f914c[_0x12e9a4(0xe2e)]);globalDashboardSettings['projectView']=_0x3f914c[_0x12e9a4(0xcf1)]||_0x12e9a4(0x4e1);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x37191a,_0x5d778e){const _0x263063=_0x4b15a0;if(!userId)return;try{const _0x1113b1=doc(db,_0x263063(0xc4a)+appId+_0x263063(0xe9e)+userId+_0x263063(0xc8f)),_0x16440e={};_0x16440e[_0x37191a]=_0x5d778e,await setDoc(_0x1113b1,_0x16440e,{'merge':!![]});}catch(_0x257ace){console[_0x263063(0x7cd)](_0x263063(0x823),_0x257ace);}}async function loadUserPreferences(){const _0x18532b=_0x4b15a0;if(!userId)return{};try{const _0x53afab=doc(db,_0x18532b(0xc4a)+appId+'/users/'+userId+_0x18532b(0xc8f)),_0x166175=await getDoc(_0x53afab);if(_0x166175[_0x18532b(0x37f)]())return _0x166175[_0x18532b(0x7f7)]();return{};}catch(_0x21e4ba){return console[_0x18532b(0x7cd)](_0x18532b(0xd16),_0x21e4ba),{};}}function parseIndentedBlueprint(_0x1e65f4){const _0x4ce54f=_0x4b15a0,_0x4079fd=_0x1e65f4[_0x4ce54f(0x390)]('\x0a')['filter'](_0x114ba8=>_0x114ba8[_0x4ce54f(0xbdc)]()!==''),_0x110ab5=[];let _0x1b314b=null,_0x389865=null;return _0x4079fd[_0x4ce54f(0x4aa)](_0x491c8a=>{const _0x46c030=_0x4ce54f,_0x355df2=_0x491c8a['match'](/^\s*/)[0x0][_0x46c030(0x8da)],_0x50b562=_0x491c8a[_0x46c030(0xbdc)]();if(_0x355df2===0x0)_0x1b314b={'sara':_0x50b562,'mainTopics':[]},_0x110ab5[_0x46c030(0x542)](_0x1b314b),_0x389865=null;else{if(_0x355df2>0x0&&_0x355df2<0x8&&_0x1b314b)_0x389865={'topicName':_0x50b562,'subTopics':[]},_0x1b314b[_0x46c030(0xe1d)][_0x46c030(0x542)](_0x389865);else _0x355df2>=0x8&&_0x389865&&_0x389865[_0x46c030(0x359)][_0x46c030(0x542)](_0x50b562);}}),{'curriculum':_0x110ab5};}async function handleManualBlueprintSave(){const _0x275f3e=_0x4b15a0,_0x3998f1=document[_0x275f3e(0xb9f)](_0x275f3e(0xc6b))[_0x275f3e(0x232)]['trim'](),_0x31a6f4=document[_0x275f3e(0xb9f)](_0x275f3e(0x2a3))[_0x275f3e(0x232)][_0x275f3e(0xbdc)](),_0x1e1e0f=document[_0x275f3e(0xb9f)]('manual-bp-content')[_0x275f3e(0x232)];if(!_0x3998f1||!_0x31a6f4||!_0x1e1e0f){showMessage(_0x275f3e(0xe63));return;}const _0x1d6a1b=parseIndentedBlueprint(_0x1e1e0f);if(!_0x1d6a1b[_0x275f3e(0x6d8)]||_0x1d6a1b['curriculum'][_0x275f3e(0x8da)]===0x0){showMessage(_0x275f3e(0x58d));return;}const _0x103125={};let _0x39171a=0x0;_0x1d6a1b['curriculum']['forEach'](_0x2b0b61=>{const _0x4d7c53=_0x275f3e;_0x2b0b61[_0x4d7c53(0xe1d)][_0x4d7c53(0x4aa)](_0x3abd75=>{const _0x4db0ae=_0x4d7c53;_0x3abd75['subTopics'][_0x4db0ae(0x4aa)](_0x2a7ac7=>{const _0x25673f=_0x4db0ae,_0x53ed46=_0x25673f(0xdff)+Date[_0x25673f(0xb38)]()+Math[_0x25673f(0x7c9)]()[_0x25673f(0xbb9)](0x24)['substr'](0x2,0x9);_0x103125[_0x53ed46]={'sara':_0x2b0b61[_0x25673f(0xb41)],'mainTopic':_0x3abd75[_0x25673f(0x876)],'subTopic':_0x2a7ac7,'status':_0x25673f(0x3d2),'lessonContent':null,'order':_0x39171a++};});});});try{const _0x185bfd=collection(db,_0x275f3e(0xc4a)+appId+'/public/data/blueprintProjects');await addDoc(_0x185bfd,{'projectName':_0x3998f1,'gradeLevel':_0x31a6f4,'topics':_0x103125,'createdAt':serverTimestamp()}),showMessage(_0x275f3e(0xc66)+_0x3998f1+_0x275f3e(0x96f)),document[_0x275f3e(0xb9f)](_0x275f3e(0x2da))[_0x275f3e(0xbd3)][_0x275f3e(0x72b)]('hidden');}catch(_0x293464){console[_0x275f3e(0x7cd)](_0x275f3e(0xe27),_0x293464),showMessage(_0x275f3e(0xe4c));}}function handleClearAllLinksForTopic(_0x32a8f0){const _0x4f6a1a=_0x4b15a0;showConfirmation(_0x4f6a1a(0x958),async()=>{const _0x4ec09f=_0x4f6a1a;try{const _0x2d73b5=doc(db,_0x4ec09f(0xc4a)+appId+_0x4ec09f(0x963),currentBlueprintProjectId);await updateDoc(_0x2d73b5,{[_0x4ec09f(0x49e)+_0x32a8f0+_0x4ec09f(0xd00)]:[]}),showMessage(_0x4ec09f(0xe36)),openTopicQuizBank(_0x32a8f0),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2728b6){console[_0x4ec09f(0x7cd)](_0x4ec09f(0xb5b),_0x2728b6),showMessage(_0x4ec09f(0x901));}});}function showPodiumView(_0xe277d1,_0x200883='live-race',_0x4a413d=null){const _0x787383=_0x4b15a0,_0x4efa79=_0x4a413d?.[_0x787383(0x5d7)]===!![],_0x3e9193=Object['entries'](_0xe277d1)[_0x787383(0xa0d)](([_0x37a447,_0x54f3aa])=>({'name':_0x37a447,'realScore':_0x54f3aa[_0x787383(0xddd)]||0x0,'totalPoints':_0x54f3aa['totalPoints']||0x0,'badges':_0x54f3aa[_0x787383(0x8ad)]||[],'hasPerfectScoreBonus':_0x54f3aa[_0x787383(0x866)]||![]}));_0x3e9193[_0x787383(0x8c7)]((_0x2102b1,_0x391aac)=>{const _0x3fd009=_0x787383;if(_0x4efa79){const _0x22bb29=_0x391aac[_0x3fd009(0xddd)]-_0x2102b1['realScore'];if(_0x22bb29!==0x0)return _0x22bb29;const _0x5730ac=_0x391aac[_0x3fd009(0x299)]-_0x2102b1[_0x3fd009(0x299)];if(_0x5730ac!==0x0)return _0x5730ac;return _0x2102b1[_0x3fd009(0x757)][_0x3fd009(0x822)](_0x391aac[_0x3fd009(0x757)],'th');}else{const _0x466267=_0x391aac[_0x3fd009(0x299)]-_0x2102b1[_0x3fd009(0x299)];if(_0x466267!==0x0)return _0x466267;return _0x391aac['realScore']-_0x2102b1[_0x3fd009(0xddd)];}});const _0x34b1bc=_0x4ec101=>{const _0x3205c9=_0x787383;if(!_0x4ec101||_0x4ec101['length']===0x0)return'';const _0x455157={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x4ec101[_0x3205c9(0xa0d)](_0x2949de=>_0x455157[_0x2949de]||'')[_0x3205c9(0x510)]('')+'</div>';},_0x41025a=_0x3dc991=>{const _0xd7775c=_0x787383,_0x26fa9a=_0x3dc991[_0xd7775c(0x866)]?_0xd7775c(0x9bb):'';if(_0x4efa79){const _0x15e3ce=_0x3dc991[_0xd7775c(0x299)]>=0x0?'(+'+_0x3dc991[_0xd7775c(0x299)]+')':'('+_0x3dc991[_0xd7775c(0x299)]+')';return _0xd7775c(0x6e7)+_0x3dc991[_0xd7775c(0xddd)]+_0xd7775c(0xa5a)+_0x15e3ce+'\x20'+_0x26fa9a+_0xd7775c(0xe43);}else return _0xd7775c(0x6e7)+_0x3dc991['totalPoints']+_0xd7775c(0xa5a)+_0x26fa9a+_0xd7775c(0xe43);},_0x68d4d8=_0x3e9193['slice'](0x3),_0x2bf2e0=_0x68d4d8[_0x787383(0x8da)]>0x0?_0x787383(0xdc7)+_0x68d4d8[_0x787383(0xa0d)]((_0x17f642,_0x444741)=>{const _0x480380=_0x787383;return _0x480380(0x8b8)+(_0x444741+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x17f642[_0x480380(0x757)]+_0x480380(0xdc2)+_0x41025a(_0x17f642)+_0x480380(0x7b1);})[_0x787383(0x510)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x1377d1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3e9193[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x3e9193[0x1][_0x787383(0x757)]+_0x787383(0xe43)+_0x34b1bc(_0x3e9193[0x1][_0x787383(0x8ad)])+_0x41025a(_0x3e9193[0x1])+_0x787383(0x266):_0x787383(0x4ff))+_0x787383(0xcf4)+(_0x3e9193[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x3e9193[0x0][_0x787383(0x757)]+'</p>'+_0x34b1bc(_0x3e9193[0x0][_0x787383(0x8ad)])+_0x41025a(_0x3e9193[0x0])+_0x787383(0xe20):_0x787383(0x4ff))+_0x787383(0xcf4)+(_0x3e9193[0x2]?_0x787383(0x311)+_0x3e9193[0x2][_0x787383(0x757)]+_0x787383(0xe43)+_0x34b1bc(_0x3e9193[0x2]['badges'])+_0x41025a(_0x3e9193[0x2])+_0x787383(0xc43):_0x787383(0x4ff))+_0x787383(0x6a0)+_0x2bf2e0+_0x787383(0xb39)+(currentMode===_0x787383(0x1e2)?_0x787383(0x208):_0x787383(0x380))+_0x787383(0xa7c);liveGameView[_0x787383(0x7fc)]=_0x1377d1,currentMode===_0x787383(0x1e2)?document['getElementById']('close-game-final-btn')[_0x787383(0x95a)](_0x787383(0xd6c),async()=>{const _0x3d9980=_0x787383;let _0x4b63fa;_0x200883===_0x3d9980(0xd24)?_0x4b63fa=doc(db,_0x3d9980(0xc4a)+appId+_0x3d9980(0xcba),currentLiveGameId):_0x4b63fa=doc(db,_0x3d9980(0xc4a)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x4b63fa);}):document['getElementById'](_0x787383(0x1ff))?.['addEventListener'](_0x787383(0xd6c),()=>{showView('student');});}function renderSyncSummaryView(_0x40057a,_0x4276b9,_0x415bbc){const _0xb5efdb=_0x4b15a0,_0x9e23ce=_0x40057a['gameVariant']||_0xb5efdb(0x870),_0x2bd69f=_0x9e23ce===_0xb5efdb(0x32c)&&_0x40057a['isAnonymousRevealed']===![],_0x15c658=Object[_0xb5efdb(0x4a0)](_0x40057a[_0xb5efdb(0xb9c)]||{}),_0x1cf993=_0x40057a[_0xb5efdb(0x38d)]['questions'],_0x494dee=_0x4276b9['questionType']||_0x40057a[_0xb5efdb(0x38d)][_0xb5efdb(0xd68)];let _0x1cfbd0=[];_0x494dee==='true_false'?_0x1cfbd0=['ใช่\x20/\x20ถูก',_0xb5efdb(0x793)]:_0x1cfbd0=_0x4276b9[_0xb5efdb(0x4d1)]||[];const _0x65df91=new Array(_0x1cfbd0[_0xb5efdb(0x8da)])[_0xb5efdb(0xb1a)](0x0),_0x3aa74e={};_0x1cfbd0[_0xb5efdb(0x4aa)]((_0x3d7191,_0x137a83)=>{_0x3aa74e[_0x137a83]=[];}),Object['entries'](_0x40057a[_0xb5efdb(0xb9c)]||{})[_0xb5efdb(0x4aa)](([_0x5455f3,_0x3bee0d])=>{const _0x15a491=_0xb5efdb;if(_0x3bee0d['status']!==_0x15a491(0x615)&&_0x3bee0d[_0x15a491(0xd98)]!==undefined&&_0x3bee0d[_0x15a491(0xd98)]!==null){const _0x40517c=_0x3bee0d[_0x15a491(0xd98)];if(_0x3aa74e[_0x40517c]!==undefined){const _0xe8280e=_0x2bd69f?_0x40057a[_0x15a491(0x20e)][_0x5455f3]||_0x15a491(0xcdc):_0x5455f3;_0x3aa74e[_0x40517c][_0x15a491(0x542)](_0xe8280e),_0x65df91[_0x40517c]++;}}});let _0x305968='';const _0x5cefc3=_0x40057a[_0xb5efdb(0x224)]>=_0x1cf993[_0xb5efdb(0x8da)]-0x1;_0x415bbc?_0x9e23ce===_0xb5efdb(0x57e)?_0x5cefc3?_0x305968=_0xb5efdb(0x8ef):_0x305968=_0xb5efdb(0x31e):_0x305968=_0xb5efdb(0x905):_0x9e23ce==='reveal_at_end'?_0x305968=_0xb5efdb(0x49a):_0x305968=_0xb5efdb(0xc5c);const _0xcbf159=_0x415bbc?_0xb5efdb(0xe05)+_0x40057a[_0xb5efdb(0x849)]+_0xb5efdb(0x9f9):'',_0x3b1c38=_0xb5efdb(0xb12)+_0xcbf159+_0xb5efdb(0x574)+_0x4276b9['questionText']+_0xb5efdb(0x6fa)+_0x65df91['map']((_0x1e0eaf,_0x509af5)=>{const _0xf05238=_0xb5efdb,_0x298a66=_0x3aa74e[_0x509af5][_0xf05238(0x8da)]>0x0?_0x3aa74e[_0x509af5]['join'](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้',_0x2cbacf=_0xf05238(0x753);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x1e0eaf+_0xf05238(0x465)+_0x2cbacf+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x509af5+_0xf05238(0xaed)+_0x1cfbd0[_0x509af5]+_0xf05238(0x55b)+_0x509af5+_0xf05238(0x742)+_0x298a66+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0xb5efdb(0x510)]('')+_0xb5efdb(0x352)+_0x305968+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x3b1c38;if(window[_0xb5efdb(0x51a)])MathJax['typesetPromise']();if(_0x415bbc){const _0x3d9c1a=doc(db,_0xb5efdb(0xc4a)+appId+_0xb5efdb(0xcba),currentLiveGameId);document[_0xb5efdb(0xb9f)](_0xb5efdb(0x7c6))?.[_0xb5efdb(0x95a)]('click',async()=>{const _0x3f365e=_0xb5efdb;await updateDoc(_0x3d9c1a,{'status':_0x3f365e(0x4f1)});}),document['getElementById']('open-sync-scratchpad-btn')?.[_0xb5efdb(0x95a)](_0xb5efdb(0xd6c),()=>{openScratchpad(_0x4276b9,_0x1cfbd0);}),document['getElementById'](_0xb5efdb(0xa6d))?.[_0xb5efdb(0x95a)](_0xb5efdb(0xd6c),async()=>{const _0x3bd0aa=_0xb5efdb,_0x2feab0=_0x40057a[_0x3bd0aa(0x224)]+0x1,_0x278f55={};Object['keys'](_0x40057a['players'])['forEach'](_0x4ce965=>{const _0x5004ee=_0x3bd0aa;_0x278f55[_0x5004ee(0x36c)+_0x4ce965+_0x5004ee(0xad0)]=![],_0x278f55[_0x5004ee(0x36c)+_0x4ce965+'.lastAnswerIndex']=null;}),await updateDoc(_0x3d9c1a,{..._0x278f55,'status':_0x3bd0aa(0x9b0),'currentQuestionIndex':_0x2feab0,'questionDisplayedAt':serverTimestamp()});}),document[_0xb5efdb(0xb9f)](_0xb5efdb(0x213))?.[_0xb5efdb(0x95a)](_0xb5efdb(0xd6c),async()=>{const _0xf37d3c=_0xb5efdb;await updateDoc(_0x3d9c1a,{'status':_0xf37d3c(0x4f1),'reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x3e4c90){const _0x40ad43=_0x4b15a0,_0x4a40a4=_0x3e4c90[_0x40ad43(0x224)]>=_0x3e4c90[_0x40ad43(0x38d)][_0x40ad43(0xa09)][_0x40ad43(0x8da)]-0x1;let _0x12c87e='';if(_0x3e4c90[_0x40ad43(0xbf7)]===!![]){const _0x1c98a9=_0x3e4c90['players'][localTeamPlayers[0x0]],_0x451812=_0x1c98a9[_0x40ad43(0x757)],_0x188a03=_0x1c98a9[_0x40ad43(0x7e2)];_0x12c87e=_0x40ad43(0x284)+_0x451812+_0x40ad43(0x3d5)+_0x188a03+_0x40ad43(0x8ba);}else _0x12c87e=_0x40ad43(0x39c)+(_0x4a40a4?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':'รอผู้ควบคุมไปข้อต่อไป...')+_0x40ad43(0xedb);const _0x22ab24=_0x40ad43(0x9e9)+_0x12c87e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x40ad43(0x7fc)]=_0x22ab24;}async function handleShowStudentRankings(){const _0x46b55d=_0x4b15a0,_0x119e75=document[_0x46b55d(0x584)]('#student-quiz-leaderboard-content\x20thead');_0x119e75&&(_0x119e75[_0x46b55d(0x7fc)]=_0x46b55d(0x4e9));const _0x5cec13=document[_0x46b55d(0x584)](_0x46b55d(0x64e));_0x5cec13&&(_0x5cec13['innerHTML']=_0x46b55d(0xae6));const _0x3a366f=document[_0x46b55d(0xb9f)](_0x46b55d(0x3a0));_0x3a366f[_0x46b55d(0xbd3)][_0x46b55d(0x5f4)](_0x46b55d(0x81c)),document[_0x46b55d(0xb9f)]('close-student-rankings-btn')[_0x46b55d(0x760)]=()=>_0x3a366f[_0x46b55d(0xbd3)][_0x46b55d(0x72b)](_0x46b55d(0x81c));const _0x544c5e=document[_0x46b55d(0xb9f)](_0x46b55d(0x6fd)),_0x9d09e7=document[_0x46b55d(0xb9f)](_0x46b55d(0x24f)),_0x3445f9=document[_0x46b55d(0xb9f)](_0x46b55d(0xeab)),_0x5b78b0=document[_0x46b55d(0xb9f)](_0x46b55d(0xe7a));_0x544c5e[_0x46b55d(0x760)]=()=>{const _0x3a8538=_0x46b55d;_0x544c5e[_0x3a8538(0xbd3)][_0x3a8538(0x72b)](_0x3a8538(0x329)),_0x9d09e7[_0x3a8538(0xbd3)][_0x3a8538(0x5f4)](_0x3a8538(0x329)),_0x3445f9[_0x3a8538(0xbd3)][_0x3a8538(0x5f4)](_0x3a8538(0x81c)),_0x5b78b0[_0x3a8538(0xbd3)][_0x3a8538(0x72b)]('hidden');},_0x9d09e7[_0x46b55d(0x760)]=()=>{const _0x2e34ee=_0x46b55d;_0x9d09e7['classList'][_0x2e34ee(0x72b)](_0x2e34ee(0x329)),_0x544c5e[_0x2e34ee(0xbd3)][_0x2e34ee(0x5f4)](_0x2e34ee(0x329)),_0x5b78b0['classList'][_0x2e34ee(0x5f4)](_0x2e34ee(0x81c)),_0x3445f9[_0x2e34ee(0xbd3)][_0x2e34ee(0x72b)](_0x2e34ee(0x81c));};try{const _0x50e9ac=collection(db,_0x46b55d(0xc4a)+appId+_0x46b55d(0x2a1)+currentQuizData['id']+_0x46b55d(0xc5e)),_0x11d5b0=await getDocs(_0x50e9ac),_0x437779=_0x11d5b0['docs'][_0x46b55d(0xa0d)](_0x51de6c=>_0x51de6c[_0x46b55d(0x7f7)]());renderQuizLeaderboard(_0x437779,currentQuizData,'student-quiz-leaderboard-table-body');const _0x4dc111=collection(db,_0x46b55d(0xc4a)+appId+'/public/data/projects/'+currentQuizData[_0x46b55d(0xa0f)]+'/studentProfiles'),_0x1d6158=await getDocs(_0x4dc111),_0x224d52=_0x1d6158[_0x46b55d(0x9e5)][_0x46b55d(0xa0d)](_0x451d27=>_0x451d27[_0x46b55d(0x7f7)]());renderLeaderboard(_0x224d52,_0x46b55d(0xc64));}catch(_0x5241e4){console[_0x46b55d(0x7cd)](_0x46b55d(0x714),_0x5241e4),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x4e9f3f){const _0x722ae2=_0x4b15a0,_0x10e53d=_0x4e9f3f[_0x722ae2(0xb52)],_0xaee13a=_0x10e53d[_0x722ae2(0x273)]['index'],_0x362cd8=currentQuizData[_0x722ae2(0xa09)][_0xaee13a];if(!userId){showMessage(_0x722ae2(0x7b8));return;}try{const _0x2e2bfa={..._0x362cd8,'originalTopic':currentQuizData[_0x722ae2(0x257)],'savedAt':serverTimestamp()},_0x5e07ec=collection(db,_0x722ae2(0xc4a)+appId+'/users/'+userId+_0x722ae2(0x9b2));await addDoc(_0x5e07ec,_0x2e2bfa),showMessage(_0x722ae2(0x7c8)),_0x10e53d[_0x722ae2(0xbd3)][_0x722ae2(0x5f4)]('text-purple-600'),_0x10e53d[_0x722ae2(0xbd3)][_0x722ae2(0x72b)]('text-green-600'),_0x10e53d[_0x722ae2(0x417)]=!![];}catch(_0x205fdd){console[_0x722ae2(0x7cd)](_0x722ae2(0xa26),_0x205fdd),showMessage(_0x722ae2(0x21f));}}async function selectProjectAndGenerateBlueprintQuiz(_0x49067d,_0x5545fb=null,_0x4fd847=null,_0x2daca4=![]){const _0x3adc5e=_0x4b15a0;cameFromBlueprint=!![];const _0x308471=document['getElementById'](_0x3adc5e(0x907))?.['value']['trim']();let _0x39d2e2=null;if(_0x308471){showMessage(_0x3adc5e(0xcd6));try{const _0x3f213d=await fetchFileFromUrl(_0x308471,_0x3adc5e(0x325)),_0x54f0b0=await new Promise((_0x45fe6a,_0x1eb800)=>{const _0x49236d=_0x3adc5e,_0x2555a9=new FileReader();_0x2555a9[_0x49236d(0x965)](_0x3f213d),_0x2555a9[_0x49236d(0xb46)]=()=>_0x45fe6a(_0x2555a9[_0x49236d(0x338)][_0x49236d(0x390)](',')[0x1]),_0x2555a9[_0x49236d(0xce6)]=_0x1eb800;});_0x39d2e2=[{'inlineData':{'mimeType':_0x3f213d['type'],'data':_0x54f0b0}}],messageModal['classList'][_0x3adc5e(0x72b)](_0x3adc5e(0x81c));}catch(_0x4c417e){console[_0x3adc5e(0x7cd)](_0x3adc5e(0xac6),_0x4c417e),showMessage(_0x3adc5e(0xa04));}}const _0x268347=document[_0x3adc5e(0xb9f)](_0x3adc5e(0x46c)),_0x49a15a=document[_0x3adc5e(0xb9f)](_0x3adc5e(0xccd)),_0x22cfdc=_0x268347[_0x3adc5e(0x584)]('h3'),_0x716c52=document[_0x3adc5e(0xb9f)](_0x3adc5e(0xa91)),_0x513a09=document[_0x3adc5e(0xb9f)]('cancel-move-quiz-btn');_0x22cfdc[_0x3adc5e(0x1d0)]=_0x3adc5e(0x8a2),_0x716c52['textContent']=_0x3adc5e(0x98e),_0x716c52['disabled']=!![];allProjects['length']===0x0?_0x49a15a[_0x3adc5e(0x7fc)]=_0x3adc5e(0x245):(_0x49a15a[_0x3adc5e(0x7fc)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x3adc5e(0xa0d)](_0x217ca7=>'<option\x20value=\x22'+_0x217ca7['id']+'\x22>'+_0x217ca7[_0x3adc5e(0x6b1)]+_0x3adc5e(0x36b))[_0x3adc5e(0x510)](''),_0x716c52[_0x3adc5e(0x417)]=![]);_0x268347[_0x3adc5e(0xbd3)][_0x3adc5e(0x5f4)](_0x3adc5e(0x81c));const _0x1f16bb=async()=>{const _0x1a6b99=_0x3adc5e,_0x90e691=_0x49a15a[_0x1a6b99(0x232)];if(!_0x90e691){showMessage(_0x1a6b99(0x86d));return;}_0x268347[_0x1a6b99(0xbd3)][_0x1a6b99(0x72b)]('hidden'),document['getElementById'](_0x1a6b99(0x49f))[_0x1a6b99(0xbd3)][_0x1a6b99(0x72b)](_0x1a6b99(0x81c)),await loadProjectDetails(_0x90e691),showView(_0x1a6b99(0x2c6)),handleGenerateQuizFromBlueprintTopic(_0x49067d,_0x5545fb,_0x90e691,_0x4fd847,_0x2daca4,_0x39d2e2),_0x3ef408();},_0x3ef408=()=>{const _0x5a5ffd=_0x3adc5e;_0x22cfdc[_0x5a5ffd(0x1d0)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x716c52['textContent']=_0x5a5ffd(0x761),_0x716c52[_0x5a5ffd(0x28b)](_0x5a5ffd(0xd6c),_0x1f16bb),_0x513a09[_0x5a5ffd(0x28b)](_0x5a5ffd(0xd6c),_0x3ef408),_0x716c52[_0x5a5ffd(0x95a)](_0x5a5ffd(0xd6c),confirmMoveQuiz);};_0x716c52[_0x3adc5e(0x28b)]('click',confirmMoveQuiz),_0x716c52[_0x3adc5e(0x95a)](_0x3adc5e(0xd6c),_0x1f16bb),_0x513a09[_0x3adc5e(0x95a)](_0x3adc5e(0xd6c),_0x3ef408);}function listenForStarredQuizzes(){const _0x24acdb=_0x4b15a0;if(!userId)return;const _0x3da65b=collection(db,'artifacts/'+appId+_0x24acdb(0x671)),_0x49f57a=query(_0x3da65b,where(_0x24acdb(0xc76),'==',!![]));onSnapshot(_0x49f57a,_0x13d5fa=>{const _0x769c50=_0x24acdb;starredQuizzes=_0x13d5fa['docs'][_0x769c50(0xa0d)](_0x3d4a52=>({'id':_0x3d4a52['id'],..._0x3d4a52[_0x769c50(0x7f7)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x3c41c0=>{const _0x7677df=_0x24acdb;console[_0x7677df(0x7cd)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x3c41c0);});}function listenForFileShortcuts(){const _0x4b37d9=_0x4b15a0,_0xa18b25=doc(db,'globalSettings',_0x4b37d9(0x5e6));onSnapshot(_0xa18b25,_0x4f9099=>{const _0x7099e4=_0x4b37d9;let _0x3cb43a=[],_0x2354e4=[],_0x1d4901={};if(_0x4f9099[_0x7099e4(0x37f)]()){const _0x422b58=_0x4f9099[_0x7099e4(0x7f7)]();_0x3cb43a=_0x422b58['shortcuts']||[],_0x2354e4=_0x422b58[_0x7099e4(0x4c4)]||[],_0x1d4901=_0x422b58[_0x7099e4(0x5af)]||{};}!_0x2354e4[_0x7099e4(0x59d)](_0x3279db=>_0x3279db['id']===_0x7099e4(0x2d8))&&_0x2354e4['unshift']({'id':_0x7099e4(0x2d8),'name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x3cb43a[_0x7099e4(0x59d)](_0x12da16=>_0x12da16['id']===_0x7099e4(0xc2d))&&_0x3cb43a[_0x7099e4(0x603)]({'id':'file-default-1','name':_0x7099e4(0x663),'url':'','isDefault':!![]}),!_0x3cb43a[_0x7099e4(0x59d)](_0x6c2d81=>_0x6c2d81['id']===_0x7099e4(0x716))&&_0x3cb43a[_0x7099e4(0x603)]({'id':_0x7099e4(0x716),'name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0x3cb43a,fileShortcutTabs=_0x2354e4,fileShortcutOrder=_0x1d4901,renderFileShortcuts(),!document['getElementById']('additional-file-shortcuts-modal')[_0x7099e4(0xbd3)]['contains']('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0xdcddca=_0x4b15a0,_0x2d0b13=doc(db,'globalSettings',_0xdcddca(0x5e6));try{await setDoc(_0x2d0b13,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x49006a){console['error'](_0xdcddca(0x43e),_0x49006a);}}function renderAdditionalFileShortcutsModal(){const _0x26e441=_0x4b15a0,_0x202688=document[_0x26e441(0xb9f)](_0x26e441(0x3b5)),_0x28279c=document[_0x26e441(0xb9f)](_0x26e441(0xe08));if(!_0x202688||!_0x28279c)return;_0x202688[_0x26e441(0x7fc)]=fileShortcutTabs[_0x26e441(0xa0d)](_0x25bc14=>{const _0x2c462b=_0x26e441,_0x3baec9=_0x25bc14['id']===activeFileShortcutTabId;return _0x2c462b(0x752)+_0x25bc14['id']+_0x2c462b(0xd83)+(_0x3baec9?_0x2c462b(0xcda):_0x2c462b(0x980))+_0x2c462b(0x6dc)+_0x25bc14[_0x2c462b(0x757)]+_0x2c462b(0xdd5)+_0x25bc14[_0x2c462b(0x757)]+_0x2c462b(0x72a)+(!_0x25bc14['isDefault']?'<button\x20data-tab-id=\x22'+_0x25bc14['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x2c462b(0x479);})[_0x26e441(0x510)]('');const _0x2cc6cb=fileShortcutTabs[_0x26e441(0x59d)](_0x38a8f1=>_0x38a8f1['id']===activeFileShortcutTabId);let _0x5d9391=_0x2cc6cb?.[_0x26e441(0x6e1)]?[...fileShortcuts]:fileShortcuts[_0x26e441(0xce3)](_0x374882=>(_0x2cc6cb?.['shortcutIds']||[])['includes'](_0x374882['id']));const _0x1a070a=fileShortcutOrder[activeFileShortcutTabId]||[];_0x5d9391[_0x26e441(0x8c7)]((_0x4b0097,_0x2715ee)=>{const _0x2ac319=_0x26e441,_0x27372d=_0x1a070a[_0x2ac319(0x76c)](_0x4b0097['id']),_0x4f3f78=_0x1a070a[_0x2ac319(0x76c)](_0x2715ee['id']);return(_0x27372d===-0x1?Infinity:_0x27372d)-(_0x4f3f78===-0x1?Infinity:_0x4f3f78);}),_0x28279c[_0x26e441(0x7fc)]=_0x5d9391[_0x26e441(0xa0d)](_0x3763ee=>{const _0x93a988=_0x26e441,_0x49aa06=_0x3763ee[_0x93a988(0x50e)]?'📄':'🔗',_0xcba5f0=fileShortcutTabs['filter'](_0x4cb116=>!_0x4cb116[_0x93a988(0x6e1)]),_0x51c1d4=_0x2cc6cb[_0x93a988(0x6e1)]&&_0xcba5f0['length']>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcba5f0[_0x93a988(0xa0d)](_0x542f97=>_0x93a988(0xd42)+_0x3763ee['id']+_0x93a988(0xdd7)+_0x542f97['id']+'\x22>'+_0x542f97[_0x93a988(0x757)]+_0x93a988(0xcaa))[_0x93a988(0x510)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x93a988(0xb00)+_0x3763ee['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x49aa06+'\x20'+_0x3763ee[_0x93a988(0x757)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3763ee['id']+_0x93a988(0x9d8)+_0x3763ee['id']+_0x93a988(0x814)+(!_0x3763ee[_0x93a988(0x6e1)]?_0x93a988(0x4fe)+_0x3763ee['id']+_0x93a988(0xa2a):'')+_0x93a988(0x5e8)+(!_0x2cc6cb[_0x93a988(0x6e1)]?'<button\x20data-shortcut-id=\x22'+_0x3763ee['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51c1d4+_0x93a988(0x8c8);})[_0x26e441(0x510)]('')||_0x26e441(0x3d0),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x2843ca=_0x4b15a0;document[_0x2843ca(0x3eb)](_0x2843ca(0xde4))[_0x2843ca(0x4aa)](_0x2f43d0=>{const _0x1dd975=_0x2843ca;_0x2f43d0[_0x1dd975(0x760)]=_0x2d8a45=>{const _0x329451=_0x1dd975;activeFileShortcutTabId=_0x2d8a45['currentTarget'][_0x329451(0x273)][_0x329451(0x71b)],renderAdditionalFileShortcutsModal();},_0x2f43d0[_0x1dd975(0xd94)]=_0x32b551=>{const _0x54b465=_0x1dd975,_0x57c543=_0x32b551['currentTarget'][_0x54b465(0x584)]('.tab-name-input');_0x32b551[_0x54b465(0xb52)][_0x54b465(0x584)](_0x54b465(0xc2f))[_0x54b465(0xbd3)]['add'](_0x54b465(0x81c)),_0x57c543['classList']['remove'](_0x54b465(0x81c)),_0x57c543[_0x54b465(0x69d)](),_0x57c543[_0x54b465(0xbd1)]();};}),document[_0x2843ca(0x3eb)](_0x2843ca(0x53c))[_0x2843ca(0x4aa)](_0x134b73=>{const _0x151acf=_0x2843ca,_0x56c6fa=()=>{const _0x41fdcd=_0x33c9,_0x2b5780=_0x134b73[_0x41fdcd(0x892)](_0x41fdcd(0xde4))['dataset'][_0x41fdcd(0x71b)],_0x2dd7d6=fileShortcutTabs['find'](_0x5b6f60=>_0x5b6f60['id']===_0x2b5780);_0x2dd7d6&&(_0x2dd7d6[_0x41fdcd(0x757)]=_0x134b73[_0x41fdcd(0x232)][_0x41fdcd(0xbdc)]()||_0x2dd7d6[_0x41fdcd(0x757)],saveFileShortcutConfig());};_0x134b73[_0x151acf(0x1ca)]=_0x56c6fa,_0x134b73['onkeydown']=_0x50f5c4=>{const _0x573d80=_0x151acf;if(_0x50f5c4['key']===_0x573d80(0x731))_0x134b73['blur']();};}),document[_0x2843ca(0x3eb)](_0x2843ca(0xa68))[_0x2843ca(0x4aa)](_0x374ef5=>_0x374ef5[_0x2843ca(0x760)]=_0x3d6c9e=>{const _0x5cd8a2=_0x2843ca,_0x51a986=_0x3d6c9e[_0x5cd8a2(0xb52)][_0x5cd8a2(0x273)]['tabId'];showConfirmation(_0x5cd8a2(0xd05),()=>{const _0x47d41c=_0x5cd8a2;fileShortcutTabs=fileShortcutTabs['filter'](_0x155fcd=>_0x155fcd['id']!==_0x51a986),delete fileShortcutOrder[_0x51a986];if(activeFileShortcutTabId===_0x51a986)activeFileShortcutTabId=_0x47d41c(0x2d8);saveFileShortcutConfig();});}),document[_0x2843ca(0x3eb)]('.move-file-shortcut-item')[_0x2843ca(0x4aa)](_0x4b2838=>_0x4b2838[_0x2843ca(0x760)]=_0x37fbdc=>{const _0x5c907c=_0x2843ca;_0x37fbdc[_0x5c907c(0xb5c)]();const {shortcutId:_0x1b76c7,targetTabId:_0x261dd9}=_0x37fbdc['currentTarget'][_0x5c907c(0x273)],_0x430268=fileShortcutTabs[_0x5c907c(0x59d)](_0x95b18e=>_0x95b18e['id']===_0x261dd9);_0x430268&&!_0x430268[_0x5c907c(0x74e)][_0x5c907c(0xa36)](_0x1b76c7)&&(_0x430268[_0x5c907c(0x74e)][_0x5c907c(0x542)](_0x1b76c7),saveFileShortcutConfig());}),document['querySelectorAll'](_0x2843ca(0x654))[_0x2843ca(0x4aa)](_0x4d7a48=>_0x4d7a48[_0x2843ca(0x760)]=_0x1cca5f=>{const _0x12b15e=_0x2843ca,_0xb7a547=_0x1cca5f[_0x12b15e(0xb52)][_0x12b15e(0x273)]['shortcutId'],_0xdd49ae=fileShortcutTabs[_0x12b15e(0x59d)](_0x50f80a=>_0x50f80a['id']===activeFileShortcutTabId);_0xdd49ae&&!_0xdd49ae['isDefault']&&(_0xdd49ae[_0x12b15e(0x74e)]=_0xdd49ae[_0x12b15e(0x74e)]['filter'](_0x2bc653=>_0x2bc653!==_0xb7a547),saveFileShortcutConfig());}),document['querySelectorAll'](_0x2843ca(0x2b4))['forEach'](_0x2d970e=>_0x2d970e['onclick']=_0x2cd3b7=>{const _0x34ae84=_0x2843ca;_0x2cd3b7['stopPropagation']();const _0x3d6b25=_0x2cd3b7['currentTarget'][_0x34ae84(0x5b3)];document['querySelectorAll'](_0x34ae84(0xafb))[_0x34ae84(0x4aa)](_0x1dcbe4=>_0x1dcbe4[_0x34ae84(0xbd3)][_0x34ae84(0x72b)](_0x34ae84(0x81c))),_0x3d6b25[_0x34ae84(0xbd3)][_0x34ae84(0x5f4)](_0x34ae84(0x81c));});const _0x543f5f=document['getElementById'](_0x2843ca(0xe08));let _0x11e5a2=null;_0x543f5f[_0x2843ca(0x789)]=_0x4b17dd=>{const _0x3ae19b=_0x2843ca;_0x11e5a2=_0x4b17dd['target']['closest']('.shortcut-list-item');if(_0x11e5a2)setTimeout(()=>_0x11e5a2['classList'][_0x3ae19b(0x72b)](_0x3ae19b(0xb70)),0x0);},_0x543f5f[_0x2843ca(0xa8c)]=()=>{const _0x18bc20=_0x2843ca;_0x11e5a2&&(_0x11e5a2[_0x18bc20(0xbd3)][_0x18bc20(0x5f4)](_0x18bc20(0xb70)),_0x11e5a2=null);},_0x543f5f[_0x2843ca(0xcce)]=_0x3d90be=>{_0x3d90be['preventDefault']();},_0x543f5f[_0x2843ca(0xc00)]=_0x2eff20=>{const _0xa60a30=_0x2843ca;_0x2eff20[_0xa60a30(0xb5c)]();if(_0x11e5a2){const _0x40746e=[..._0x543f5f[_0xa60a30(0x3eb)](_0xa60a30(0xc95))][_0xa60a30(0x1e3)]((_0xc1ab20,_0x49c166)=>{const _0x5b15d7=_0xa60a30,_0x5697d9=_0x49c166['getBoundingClientRect'](),_0x40fb82=_0x2eff20[_0x5b15d7(0xea0)]-_0x5697d9[_0x5b15d7(0xa3a)]-_0x5697d9[_0x5b15d7(0x4ba)]/0x2;return _0x40fb82<0x0&&_0x40fb82>_0xc1ab20[_0x5b15d7(0x7ed)]?{'offset':_0x40fb82,'element':_0x49c166}:_0xc1ab20;},{'offset':Number[_0xa60a30(0xccf)]})[_0xa60a30(0x7ab)];_0x40746e==null?_0x543f5f['appendChild'](_0x11e5a2):_0x543f5f['insertBefore'](_0x11e5a2,_0x40746e);const _0x10dea5=[..._0x543f5f[_0xa60a30(0x3eb)](_0xa60a30(0xa0c))]['map'](_0x5def9a=>_0x5def9a[_0xa60a30(0x273)][_0xa60a30(0xca9)]);fileShortcutOrder[activeFileShortcutTabId]=_0x10dea5,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x3d7733=_0x4b15a0,_0x1b5520=prompt(_0x3d7733(0x8f5),'แท็บใหม่');_0x1b5520&&_0x1b5520[_0x3d7733(0xbdc)]()&&(fileShortcutTabs[_0x3d7733(0x542)]({'id':_0x3d7733(0x97b)+Date[_0x3d7733(0xb38)](),'name':_0x1b5520[_0x3d7733(0xbdc)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x5bb76a=_0x4b15a0,_0x590e57=document[_0x5bb76a(0xb9f)]('file-shortcut-container'),_0x11ad6f=document[_0x5bb76a(0xb9f)](_0x5bb76a(0xe08)),_0x55f87a=document[_0x5bb76a(0xb9f)](_0x5bb76a(0x6fb));if(_0x55f87a)_0x55f87a[_0x5bb76a(0xbd3)][_0x5bb76a(0x72b)](_0x5bb76a(0x81c));if(!_0x590e57||!_0x11ad6f)return;const _0x47daa4=fileShortcuts[_0x5bb76a(0xb67)](0x0,0x4),_0x12d717=fileShortcuts[_0x5bb76a(0xb67)](0x4);_0x590e57[_0x5bb76a(0x7fc)]=_0x47daa4['map'](_0x4675ce=>{const _0x119a05=_0x5bb76a,_0x40c497=_0x4675ce[_0x119a05(0x50e)]&&_0x4675ce[_0x119a05(0x50e)][_0x119a05(0xbdc)]()!=='',_0x1b2a46=selectedFile&&selectedFile[_0x119a05(0xca9)]===_0x4675ce['id'];let _0x1d4ad4=_0x119a05(0x924),_0x16f751='🔗';if(_0x1b2a46)_0x1d4ad4=_0x119a05(0x2e2),_0x16f751=_0x119a05(0x7f1);else _0x40c497&&(_0x1d4ad4=_0x119a05(0xa9a),_0x16f751='📄');const _0x211d84=!_0x4675ce[_0x119a05(0x6e1)]?_0x119a05(0x4fe)+_0x4675ce['id']+_0x119a05(0x379):'';return _0x119a05(0x76b)+_0x4675ce['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0x1d4ad4+_0x119a05(0x9a5)+_0x16f751+_0x119a05(0x9f3)+_0x4675ce['name']+_0x119a05(0x85b)+_0x4675ce['id']+_0x119a05(0x217)+_0x211d84+_0x119a05(0xc29);})['join'](''),_0x12d717[_0x5bb76a(0x8da)]>0x0&&(_0x590e57[_0x5bb76a(0x7fc)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x12d717['length']>0x0?_0x11ad6f['innerHTML']=_0x12d717[_0x5bb76a(0xa0d)](_0x2747e3=>_0x5bb76a(0x2d3)+(_0x2747e3['url']?'📄':'🔗')+'\x20'+_0x2747e3[_0x5bb76a(0x757)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2747e3['id']+'\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2747e3['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2747e3[_0x5bb76a(0x6e1)]?_0x5bb76a(0x4fe)+_0x2747e3['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x5bb76a(0xbd4))[_0x5bb76a(0x510)](''):_0x11ad6f[_0x5bb76a(0x7fc)]=_0x5bb76a(0x1f7);}function openFileShortcutEditor(_0xc40e09=null){const _0x2fd4eb=_0x4b15a0,_0x549fdc=document['getElementById']('file-shortcut-editor-modal'),_0x5e5969=document[_0x2fd4eb(0xb9f)]('file-shortcut-modal-title'),_0x144703=document[_0x2fd4eb(0xb9f)](_0x2fd4eb(0xa8f)),_0x294c35=document[_0x2fd4eb(0xb9f)](_0x2fd4eb(0xc1a)),_0x4452ce=document[_0x2fd4eb(0xb9f)](_0x2fd4eb(0x9e7));if(_0xc40e09){const _0xf1f9ef=fileShortcuts['find'](_0x53e9ad=>_0x53e9ad['id']===_0xc40e09);if(!_0xf1f9ef)return;_0x5e5969[_0x2fd4eb(0x1d0)]=_0x2fd4eb(0xbe7),_0x144703['value']=_0xf1f9ef['id'],_0x294c35[_0x2fd4eb(0x232)]=_0xf1f9ef[_0x2fd4eb(0x757)],_0x4452ce[_0x2fd4eb(0x232)]=_0xf1f9ef[_0x2fd4eb(0x50e)]||'';}else _0x5e5969[_0x2fd4eb(0x1d0)]=_0x2fd4eb(0x8c6),_0x144703[_0x2fd4eb(0x232)]='',_0x294c35[_0x2fd4eb(0x232)]='',_0x4452ce[_0x2fd4eb(0x232)]='';_0x549fdc['classList']['remove'](_0x2fd4eb(0x81c));}async function saveFileShortcutChanges(){const _0xc31058=_0x4b15a0,_0x115c00=document[_0xc31058(0xb9f)]('file-shortcut-id-input')[_0xc31058(0x232)],_0x3e6c1c=document['getElementById'](_0xc31058(0xc1a))[_0xc31058(0x232)][_0xc31058(0xbdc)](),_0xd65304=document[_0xc31058(0xb9f)]('file-shortcut-url-input')[_0xc31058(0x232)][_0xc31058(0xbdc)]();if(!_0x3e6c1c){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x34e681={'id':_0x115c00||_0xc31058(0xb10)+Date['now'](),'name':_0x3e6c1c,'url':_0xd65304,'isDefault':_0x115c00[_0xc31058(0xa72)]('file-default-')};let _0x327b5a;_0x115c00?_0x327b5a=fileShortcuts['map'](_0x5e23e5=>_0x5e23e5['id']===_0x115c00?_0x34e681:_0x5e23e5):_0x327b5a=[...fileShortcuts,_0x34e681];try{const _0x2eb7ce=doc(db,_0xc31058(0x3ee),'fileShortcutsConfig');await setDoc(_0x2eb7ce,{'shortcuts':_0x327b5a},{'merge':!![]}),document[_0xc31058(0xb9f)](_0xc31058(0xe86))[_0xc31058(0xbd3)][_0xc31058(0x72b)]('hidden');}catch(_0x230dc7){console[_0xc31058(0x7cd)](_0xc31058(0xc87),_0x230dc7),showMessage(_0xc31058(0x21f));}}async function handleFileShortcutClick(_0x4a2fb2){const _0x45bfe9=_0x4b15a0,_0x2b0fcd=fileShortcuts[_0x45bfe9(0x59d)](_0x50cb4e=>_0x50cb4e['id']===_0x4a2fb2);if(!_0x2b0fcd)return;if(!_0x2b0fcd[_0x45bfe9(0x50e)]||_0x2b0fcd['url'][_0x45bfe9(0xbdc)]()===''){openFileShortcutEditor(_0x4a2fb2);return;}const _0x34297d=document[_0x45bfe9(0x584)](_0x45bfe9(0xed4)+_0x4a2fb2+'\x22]');if(_0x34297d){const _0x5adf5c=_0x34297d[_0x45bfe9(0x7fc)];_0x34297d['innerHTML']=_0x45bfe9(0x231),_0x34297d[_0x45bfe9(0x417)]=!![];}document[_0x45bfe9(0x3eb)](_0x45bfe9(0xaa1))[_0x45bfe9(0x4aa)](_0x3ddc78=>{const _0xd0e788=_0x45bfe9;if(_0x3ddc78[_0xd0e788(0x273)]['id']!==_0x4a2fb2)_0x3ddc78[_0xd0e788(0xbd3)][_0xd0e788(0x72b)](_0xd0e788(0xb70),'pointer-events-none');});try{const _0x193182=new URL(_0x2b0fcd[_0x45bfe9(0x50e)])[_0x45bfe9(0xc01)],_0xe3e21f=_0x193182[_0x45bfe9(0xa1e)](_0x193182[_0x45bfe9(0x468)]('/')+0x1)||(_0x2b0fcd[_0x45bfe9(0x50e)][_0x45bfe9(0xa36)](_0x45bfe9(0x914))?_0x45bfe9(0x9d6):'file.pdf'),_0x62c1c6=await fetchFileFromUrl(_0x2b0fcd[_0x45bfe9(0x50e)],_0xe3e21f);_0x62c1c6[_0x45bfe9(0xca9)]=_0x4a2fb2,selectedFile=_0x62c1c6,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x45bfe9(0xb9f)](_0x45bfe9(0x80f))[_0x45bfe9(0x874)]({'behavior':_0x45bfe9(0x45a),'block':'center'});}catch(_0x5cbf5e){console['error']('Error\x20processing\x20file\x20shortcut\x20click:',_0x5cbf5e),showMessage(_0x45bfe9(0xd3a)+_0x5cbf5e[_0x45bfe9(0x81b)]),renderFileShortcuts();}finally{document[_0x45bfe9(0x3eb)](_0x45bfe9(0xaa1))[_0x45bfe9(0x4aa)](_0x4253b9=>{const _0x4b4c8c=_0x45bfe9;_0x4253b9['classList'][_0x4b4c8c(0x5f4)](_0x4b4c8c(0xb70),'pointer-events-none'),_0x4253b9[_0x4b4c8c(0x417)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x12073c=_0x4b15a0;if(allQuizzesGlobal[_0x12073c(0x8da)]>0x0)return;console[_0x12073c(0xe84)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage(_0x12073c(0xc2a));try{const _0x584621=await getDocs(collection(db,'artifacts/'+appId+_0x12073c(0x671)));allQuizzesGlobal=_0x584621[_0x12073c(0x9e5)][_0x12073c(0xa0d)](_0x375edf=>({'id':_0x375edf['id'],..._0x375edf['data']()})),console[_0x12073c(0xe84)]('Loaded\x20'+allQuizzesGlobal[_0x12073c(0x8da)]+_0x12073c(0xd7c)),messageModal[_0x12073c(0xbd3)]['add']('hidden');}catch(_0xd6f7c7){console['error']('Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.',_0xd6f7c7),messageModal[_0x12073c(0xbd3)][_0x12073c(0x72b)](_0x12073c(0x81c));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x505d3c=_0x4b15a0;if(!currentQuizData||!currentQuizData[_0x505d3c(0xa09)]){showMessage(_0x505d3c(0xc34));return;}const _0x51ca8d=currentQuizData,_0xaba6da=window[_0x505d3c(0xb03)]('',_0x505d3c(0x38a)),_0xebf1d2=_0x3a3e98=>String[_0x505d3c(0x5a9)](0x41+_0x3a3e98),_0x41acf4=_0x505d3c(0xd3b)+_0x51ca8d[_0x505d3c(0x257)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x51ca8d[_0x505d3c(0x257)]+_0x505d3c(0xc08)+_0x51ca8d[_0x505d3c(0xa09)]['map']((_0x2ebd45,_0x57e3a2)=>{const _0x467c2e=_0x505d3c;let _0x543463='';const _0x5ea992=_0x2ebd45['questionType']||_0x51ca8d[_0x467c2e(0xd68)];switch(_0x5ea992){case _0x467c2e(0x9c3):case _0x467c2e(0xe8c):_0x543463=_0x467c2e(0x5d8)+_0x2ebd45['options']['map']((_0x2bb954,_0x47dd48)=>_0x467c2e(0xc63)+_0xebf1d2(_0x47dd48)+'.\x20'+_0x2bb954+_0x467c2e(0xd71))[_0x467c2e(0x510)]('<br>')+_0x467c2e(0xd14);break;case _0x467c2e(0xa29):_0x543463=_0x467c2e(0x9a9);break;default:_0x543463=_0x467c2e(0x300);break;}return _0x467c2e(0x69b)+(_0x57e3a2+0x1)+_0x467c2e(0xa65)+(_0x2ebd45[_0x467c2e(0x7fb)]||_0x2ebd45[_0x467c2e(0x931)])+_0x467c2e(0xd7f)+(_0x2ebd45[_0x467c2e(0xe33)]?_0x467c2e(0x218)+_0x2ebd45['imageCode']+_0x467c2e(0xd14):'')+_0x467c2e(0x70a)+_0x543463+_0x467c2e(0x425);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0xaba6da[_0x505d3c(0x988)][_0x505d3c(0x2a0)](_0x41acf4),_0xaba6da[_0x505d3c(0x988)][_0x505d3c(0x494)](),_0xaba6da[_0x505d3c(0xb46)]=function(){setTimeout(()=>{const _0xaaad2d=_0x33c9;_0xaba6da[_0xaaad2d(0x3a4)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x55b889=_0x4b15a0;if(!currentQuizData||!currentQuizData[_0x55b889(0xa09)]){showMessage(_0x55b889(0xc34));return;}const _0x22041d=currentQuizData,_0x26e07c=window[_0x55b889(0xb03)]('',_0x55b889(0x38a)),_0x36d3a5=_0x54fe9f=>String[_0x55b889(0x5a9)](0x41+_0x54fe9f),_0x40a3fb=_0x55b889(0xdf7)+_0x22041d[_0x55b889(0x257)]+_0x55b889(0x3c2)+_0x22041d[_0x55b889(0xa09)][_0x55b889(0xa0d)]((_0xc3bc26,_0x6f10c3)=>{const _0x4255ef=_0x55b889;let _0x51f92f='';const _0x3a0ebd=_0xc3bc26[_0x4255ef(0x899)]||_0x22041d[_0x4255ef(0xd68)];switch(_0x3a0ebd){case _0x4255ef(0x9c3):case _0x4255ef(0xe8c):_0x51f92f='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0xc3bc26[_0x4255ef(0x4d1)][_0x4255ef(0xa0d)]((_0x2ffcd9,_0x37df29)=>_0x4255ef(0x80e)+_0x36d3a5(_0x37df29)+'.\x20'+_0x2ffcd9+_0x4255ef(0xbc0))['join'](_0x4255ef(0xea5))+_0x4255ef(0x7ad);break;case'true_false':_0x51f92f=_0x4255ef(0x678);break;default:_0x51f92f='';break;}return _0x4255ef(0xc49)+_0x22041d[_0x4255ef(0x257)]+_0x4255ef(0xdd4)+(_0x6f10c3+0x1)+_0x4255ef(0x643)+(_0xc3bc26[_0x4255ef(0x7fb)]||_0xc3bc26['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xc3bc26['imageCode']?'<div\x20class=\x22my-6\x22>'+_0xc3bc26[_0x4255ef(0xe33)]+_0x4255ef(0xd14):'')+_0x4255ef(0x70a)+_0x51f92f+_0x4255ef(0xa67);})[_0x55b889(0x510)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x26e07c[_0x55b889(0x988)][_0x55b889(0x2a0)](_0x40a3fb),_0x26e07c[_0x55b889(0x988)][_0x55b889(0x494)](),_0x26e07c['onload']=function(){setTimeout(()=>{const _0x2d1366=_0x33c9;_0x26e07c[_0x2d1366(0x3a4)]();},0x5dc);};}async function handleToggleStarQuiz(_0xd3dc33){const _0x590eae=_0x4b15a0,_0x209418=doc(db,_0x590eae(0xc4a)+appId+_0x590eae(0x671),_0xd3dc33);try{const _0x448c59=await getDoc(_0x209418);if(_0x448c59[_0x590eae(0x37f)]()){const _0x25a511=_0x448c59[_0x590eae(0x7f7)]()[_0x590eae(0xc76)]||![];await updateDoc(_0x209418,{'isStarred':!_0x25a511});}}catch(_0x519c02){console['error']('Error\x20toggling\x20star\x20status:',_0x519c02),showMessage(_0x590eae(0x355));}}async function displayQuestionBank(){const _0x41c2be=_0x4b15a0,_0x3df9fa=document['getElementById'](_0x41c2be(0x698));_0x3df9fa[_0x41c2be(0x7fc)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x456b91=collection(db,_0x41c2be(0xc4a)+appId+_0x41c2be(0xe9e)+userId+'/questionBank'),_0x3f9d8f=query(_0x456b91),_0x261b31=await getDocs(_0x3f9d8f);if(_0x261b31[_0x41c2be(0xe97)]){_0x3df9fa[_0x41c2be(0x7fc)]=_0x41c2be(0xc98);return;}let _0x1a5e14=_0x261b31[_0x41c2be(0x9e5)][_0x41c2be(0xa0d)](_0x150188=>{const _0xcecc99=_0x41c2be,_0xde2130=_0x150188[_0xcecc99(0x7f7)](),_0x2b9f54=_0x150188['id'];return _0xcecc99(0xa7a)+JSON['stringify'](_0xde2130)+_0xcecc99(0xdab)+(_0xde2130['questionText']||_0xde2130['stem'])+_0xcecc99(0xd8d)+_0xde2130['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x41c2be(0x510)]('');_0x3df9fa[_0x41c2be(0x7fc)]=_0x41c2be(0x69f)+_0x1a5e14+_0x41c2be(0x67d),document[_0x41c2be(0xb9f)]('create-from-bank-btn')[_0x41c2be(0x95a)]('click',createQuizFromBank);}catch(_0x20b6c8){console[_0x41c2be(0x7cd)](_0x41c2be(0xd86),_0x20b6c8),_0x3df9fa[_0x41c2be(0x7fc)]=_0x41c2be(0x695);}}async function handleExportLessonToPDF(){const _0x7e7c16=_0x4b15a0,_0x3ed2bf=document[_0x7e7c16(0xb9f)](_0x7e7c16(0xb71)),_0x5b6a5b=document[_0x7e7c16(0xb9f)]('lesson-view-title')[_0x7e7c16(0x1d0)]||_0x7e7c16(0x8d4);if(!_0x3ed2bf){showMessage(_0x7e7c16(0xe3c));return;}const _0x4939cf=window[_0x7e7c16(0xb03)]('',_0x7e7c16(0x38a)),_0x457d87=_0x7e7c16(0x49b)+_0x5b6a5b+_0x7e7c16(0x324)+_0x5b6a5b+_0x7e7c16(0xc8d)+_0x3ed2bf[_0x7e7c16(0x7fc)]+_0x7e7c16(0x7f9);_0x4939cf[_0x7e7c16(0x988)][_0x7e7c16(0x2a0)](_0x457d87),_0x4939cf['document'][_0x7e7c16(0x494)](),_0x4939cf[_0x7e7c16(0xb46)]=function(){setTimeout(()=>{const _0x5de305=_0x33c9;_0x4939cf[_0x5de305(0x3a4)]();},0x7d0);};}function showAdminLiveQuestionView(_0x2f9cf3,_0x3bb6d5,_0x5f5c94){const _0x39995d=_0x4b15a0,_0x1931d1=_0x2f9cf3[_0x39995d(0x899)]||currentQuizData[_0x39995d(0xd68)];let _0x310acd='';if(_0x1931d1==='multiple_choice'||_0x1931d1===_0x39995d(0xa29)){const _0x38adaf=_0x1931d1===_0x39995d(0xa29)?['ใช่',_0x39995d(0x331)]:_0x2f9cf3[_0x39995d(0x4d1)],_0xad29b2=_0x1931d1===_0x39995d(0xa29)?_0x2f9cf3[_0x39995d(0x9fb)]?0x0:0x1:_0x2f9cf3['correctAnswerIndex'];_0x310acd=_0x38adaf[_0x39995d(0xa0d)]((_0x394a1f,_0x5861fc)=>_0x39995d(0x52b)+(_0x5861fc===_0xad29b2)+_0x39995d(0x7cb)+_0x394a1f+_0x39995d(0xc29))['join']('');}else{if(_0x1931d1===_0x39995d(0x50f)){const _0x1ff1ca=_0x2f9cf3[_0x39995d(0x816)]||[];_0x310acd=_0x1ff1ca[_0x39995d(0xa0d)](_0x3acdc5=>_0x39995d(0x52b)+(_0x3acdc5===_0x2f9cf3[_0x39995d(0xa54)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3acdc5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}}const _0x14ca69=_0x2f9cf3[_0x39995d(0x7fb)]||_0x2f9cf3['questionText'],_0x4f236b=_0x39995d(0xe57)+(_0x3bb6d5+0x1)+_0x39995d(0xc6c)+_0x5f5c94+_0x39995d(0x5fd)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x14ca69+_0x39995d(0x5eb)+_0x310acd+_0x39995d(0x1e8);liveGameView[_0x39995d(0x7fc)]=_0x4f236b,window[_0x39995d(0x51a)]&&MathJax[_0x39995d(0xbce)]&&MathJax['typesetPromise']([liveGameView]),document[_0x39995d(0xb9f)](_0x39995d(0x8b6))[_0x39995d(0x95a)](_0x39995d(0xd6c),()=>revealAnswerForAdmin(_0x3bb6d5,_0x5f5c94)),document[_0x39995d(0xb9f)](_0x39995d(0xa57))['addEventListener'](_0x39995d(0xd6c),async()=>{const _0x36804=_0x39995d;showConfirmation(_0x36804(0xa25),async()=>{const _0x5a52fc=_0x36804,_0x48eeb8=doc(db,_0x5a52fc(0xc4a)+appId+_0x5a52fc(0x1e4),currentLiveGameId);await updateDoc(_0x48eeb8,{'status':'podium'});});}),document[_0x39995d(0xb9f)](_0x39995d(0x613))[_0x39995d(0x95a)]('click',()=>{const _0x4758cc=_0x39995d;document[_0x4758cc(0xb9f)](_0x4758cc(0xcc0))['classList'][_0x4758cc(0x581)](_0x4758cc(0x81c));});}function promptForProjectBeforeGenerating(_0x319a9c){const _0x949c82=_0x4b15a0,_0x3740a9=document[_0x949c82(0xb9f)]('move-quiz-modal'),_0x2339ba=document[_0x949c82(0xb9f)](_0x949c82(0xccd)),_0x16f169=_0x3740a9['querySelector']('h3'),_0x2adc5f=document['getElementById']('confirm-move-quiz-btn'),_0x59f5d4=document[_0x949c82(0xb9f)](_0x949c82(0x8cf));_0x16f169['textContent']=_0x949c82(0x8a2),_0x2adc5f['textContent']=_0x949c82(0x98e),_0x2adc5f[_0x949c82(0x417)]=!![];allProjects[_0x949c82(0x8da)]===0x0?_0x2339ba[_0x949c82(0x7fc)]=_0x949c82(0x245):(_0x2339ba[_0x949c82(0x7fc)]=_0x949c82(0xe1e)+allProjects[_0x949c82(0xa0d)](_0x41a1be=>_0x949c82(0xe02)+_0x41a1be['id']+'\x22>'+_0x41a1be[_0x949c82(0x6b1)]+_0x949c82(0x36b))[_0x949c82(0x510)](''),_0x2adc5f['disabled']=![]);_0x3740a9['classList'][_0x949c82(0x5f4)](_0x949c82(0x81c));const _0x3ec903=async()=>{const _0x5e4c34=_0x949c82,_0xd72f39=_0x2339ba[_0x5e4c34(0x232)];if(!_0xd72f39){showMessage(_0x5e4c34(0x86d));return;}_0x3740a9[_0x5e4c34(0xbd3)][_0x5e4c34(0x72b)](_0x5e4c34(0x81c)),await loadProjectDetails(_0xd72f39),showView(_0x5e4c34(0x2c6)),handleGenerateQuizFromBlueprintTopic(_0x319a9c),_0x542145();},_0x542145=()=>{const _0x50d52b=_0x949c82;_0x16f169['textContent']=_0x50d52b(0xc75),_0x2adc5f[_0x50d52b(0x1d0)]=_0x50d52b(0x761),_0x2adc5f['removeEventListener'](_0x50d52b(0xd6c),_0x3ec903),_0x59f5d4[_0x50d52b(0x28b)](_0x50d52b(0xd6c),_0x542145),_0x2adc5f['addEventListener'](_0x50d52b(0xd6c),confirmMoveQuiz);};_0x2adc5f['removeEventListener'](_0x949c82(0xd6c),confirmMoveQuiz),_0x2adc5f[_0x949c82(0x95a)]('click',_0x3ec903),_0x59f5d4[_0x949c82(0x95a)]('click',_0x542145);}function showStudentLiveQuestionView(_0xfbb867,_0x10ddc5,_0x1924c1){const _0x1daffe=_0x4b15a0,_0x4169d3=_0xfbb867[_0x1daffe(0x899)]||currentQuizData[_0x1daffe(0xd68)];let _0x47054c='';if(_0x4169d3===_0x1daffe(0x9c3)||_0x4169d3===_0x1daffe(0xa29)){const _0x33898f=_0x4169d3===_0x1daffe(0xa29)?[_0x1daffe(0xe3e),_0x1daffe(0x331)]:_0xfbb867[_0x1daffe(0x4d1)];_0x47054c=_0x33898f[_0x1daffe(0xa0d)]((_0xedd506,_0x1425f4)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1425f4+_0x1daffe(0x803)+_0xedd506+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1daffe(0x510)]('');}else{if(_0x4169d3===_0x1daffe(0x50f)){const _0x2e6a0d=_0xfbb867[_0x1daffe(0x816)]||[];_0x47054c=_0x2e6a0d['map']((_0x4819a3,_0x57799b)=>_0x1daffe(0x9bc)+_0x57799b+_0x1daffe(0x803)+_0x4819a3+_0x1daffe(0xa84))[_0x1daffe(0x510)]('');}else _0x4169d3===_0x1daffe(0xc9f)&&(_0x47054c=_0x1daffe(0xcab));}const _0x5692a0=_0xfbb867['stem']||_0xfbb867['questionText'],_0x1f2d87=_0x1daffe(0x6e5)+(_0x10ddc5+0x1)+'\x20/\x20'+_0x1924c1+_0x1daffe(0xc0d)+_0x5692a0+_0x1daffe(0xb57)+_0x47054c+_0x1daffe(0x993);liveGameView[_0x1daffe(0x7fc)]=_0x1f2d87;window[_0x1daffe(0x51a)]&&MathJax[_0x1daffe(0xbce)]&&MathJax['typesetPromise']([liveGameView]);const _0x5f486f=document[_0x1daffe(0xb9f)](_0x1daffe(0x77f));_0x5f486f&&_0x5f486f[_0x1daffe(0x95a)](_0x1daffe(0xd6c),()=>{const _0x1d48b3=_0x1daffe,_0x292fd7=document[_0x1d48b3(0xb9f)](_0x1d48b3(0x297))[_0x1d48b3(0x232)];handleLiveAnswer(_0x292fd7,_0xfbb867);}),document[_0x1daffe(0xb9f)](_0x1daffe(0x471))[_0x1daffe(0x95a)](_0x1daffe(0xd6c),_0x4c3730=>{const _0x538a8f=_0x1daffe,_0x2018e0=_0x4c3730[_0x538a8f(0x4ee)][_0x538a8f(0x892)](_0x538a8f(0xeb4));if(_0x2018e0){const _0xc1d9c7=parseInt(_0x2018e0[_0x538a8f(0x273)][_0x538a8f(0x6d7)]);handleLiveAnswer(_0xc1d9c7,_0xfbb867);}});}function listenForBlueprintShortcuts(){const _0x3d905f=doc(db,'globalSettings','dashboardConfig');onSnapshot(_0x3d905f,_0x8f7b37=>{const _0x5b1ea3=_0x33c9;let _0x3d197c=[],_0x3aab72=[],_0x42ef0b={};if(_0x8f7b37[_0x5b1ea3(0x37f)]()){const _0x3d82ec=_0x8f7b37[_0x5b1ea3(0x7f7)]();_0x3d197c=_0x3d82ec['blueprintShortcuts']||[],_0x3aab72=_0x3d82ec['shortcutTabs']||[],_0x42ef0b=_0x3d82ec[_0x5b1ea3(0xb64)]||{};}!_0x3aab72[_0x5b1ea3(0x59d)](_0x3a9ef1=>_0x3a9ef1['id']===_0x5b1ea3(0x2d8))&&_0x3aab72['unshift']({'id':_0x5b1ea3(0x2d8),'name':'ปุ่มลัดทั้งหมด','isDefault':!![]}),!_0x3d197c['find'](_0x3e8017=>_0x3e8017['id']===_0x5b1ea3(0xa6f))&&_0x3d197c[_0x5b1ea3(0x603)]({'id':_0x5b1ea3(0xa6f),'name':_0x5b1ea3(0xccb),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x3d197c[_0x5b1ea3(0x59d)](_0x2af94b=>_0x2af94b['id']===_0x5b1ea3(0x44b))&&_0x3d197c[_0x5b1ea3(0x603)]({'id':'default-2','name':'Blueprint\x202','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x3d197c,shortcutTabs=_0x3aab72,shortcutOrder=_0x42ef0b,renderBlueprintShortcuts(),!document[_0x5b1ea3(0xb9f)]('additional-shortcuts-modal')[_0x5b1ea3(0xbd3)][_0x5b1ea3(0x959)](_0x5b1ea3(0x81c))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x53e6b3=_0x4b15a0,_0x22b179=document['getElementById'](_0x53e6b3(0x86c)),_0x174c7f=document['getElementById']('additional-shortcuts-list');if(!_0x22b179||!_0x174c7f)return;_0x22b179['innerHTML']=shortcutTabs[_0x53e6b3(0xa0d)](_0x24b929=>{const _0x25fe11=_0x53e6b3,_0x25442a=_0x24b929['id']===activeShortcutTabId,_0x2e06e8=_0x25fe11(0xcda),_0xa84abb=_0x25fe11(0x980);return _0x25fe11(0xd60)+_0x24b929['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x25442a?_0x2e06e8:_0xa84abb)+_0x25fe11(0x85f)+_0x24b929[_0x25fe11(0x757)]+_0x25fe11(0xb5e)+_0x24b929[_0x25fe11(0x757)]+_0x25fe11(0x784)+(!_0x24b929[_0x25fe11(0x6e1)]?_0x25fe11(0xab4)+_0x24b929['id']+_0x25fe11(0x99e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');const _0x5140f8=shortcutTabs[_0x53e6b3(0x59d)](_0x427f98=>_0x427f98['id']===activeShortcutTabId);let _0x3459f3=[];if(_0x5140f8){if(_0x5140f8[_0x53e6b3(0x6e1)])_0x3459f3=[...blueprintShortcuts];else{const _0x2ef8c9=_0x5140f8[_0x53e6b3(0x74e)]||[];_0x3459f3=blueprintShortcuts[_0x53e6b3(0xce3)](_0x32fe05=>_0x2ef8c9[_0x53e6b3(0xa36)](_0x32fe05['id']));}}const _0x231681=shortcutOrder[activeShortcutTabId]||[];_0x3459f3['sort']((_0x41b047,_0x599b42)=>{const _0x337c32=_0x53e6b3,_0x4c2164=_0x231681[_0x337c32(0x76c)](_0x41b047['id']),_0x3b491e=_0x231681[_0x337c32(0x76c)](_0x599b42['id']);if(_0x4c2164===-0x1)return 0x1;if(_0x3b491e===-0x1)return-0x1;return _0x4c2164-_0x3b491e;}),_0x174c7f[_0x53e6b3(0x7fc)]=_0x3459f3['length']>0x0?_0x3459f3['map'](_0x38c443=>{const _0x4d6b80=_0x53e6b3;let _0x537ced='🧩';if(_0x38c443['blueprintUrl']&&_0x38c443['referenceUrl'])_0x537ced='📗';else{if(_0x38c443['blueprintUrl'])_0x537ced='📘';}const _0x44200f=shortcutTabs[_0x4d6b80(0xce3)](_0x4a00cb=>!_0x4a00cb['isDefault']),_0x9aadea=_0x5140f8[_0x4d6b80(0x6e1)]&&_0x44200f['length']>0x0?'\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44200f['map'](_0x46c46f=>_0x4d6b80(0x29f)+_0x38c443['id']+'\x22\x20data-target-tab-id=\x22'+_0x46c46f['id']+'\x22>'+_0x46c46f[_0x4d6b80(0x757)]+_0x4d6b80(0x3e3))[_0x4d6b80(0x510)]('')+_0x4d6b80(0x9fd):'';return _0x4d6b80(0x97c)+_0x38c443['id']+_0x4d6b80(0xec7)+_0x537ced+'\x20'+_0x38c443[_0x4d6b80(0x757)]+_0x4d6b80(0xac5)+_0x38c443['id']+_0x4d6b80(0x228)+_0x38c443['id']+_0x4d6b80(0x281)+(!_0x38c443['isDefault']?'<button\x20data-id=\x22'+_0x38c443['id']+_0x4d6b80(0x399):'')+_0x4d6b80(0x28a)+(!_0x5140f8[_0x4d6b80(0x6e1)]?'<button\x20data-shortcut-id=\x22'+_0x38c443['id']+_0x4d6b80(0x8ac):'')+_0x4d6b80(0x28a)+_0x9aadea+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x53e6b3(0x510)](''):_0x53e6b3(0x3d0),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x1728c5=_0x4b15a0;document[_0x1728c5(0x3eb)](_0x1728c5(0x22e))[_0x1728c5(0x4aa)](_0xdc850a=>{const _0x31adaf=_0x1728c5;_0xdc850a[_0x31adaf(0x95a)]('click',_0x56ad6b=>{const _0x240611=_0x31adaf;activeShortcutTabId=_0x56ad6b[_0x240611(0xb52)][_0x240611(0x273)][_0x240611(0x71b)],renderAdditionalShortcutsModal();}),_0xdc850a['addEventListener'](_0x31adaf(0x7c4),_0x82e20a=>{const _0x56bdd4=_0x31adaf,_0x2ab2ab=_0x82e20a[_0x56bdd4(0xb52)];_0x2ab2ab['querySelector'](_0x56bdd4(0xc2f))[_0x56bdd4(0xbd3)][_0x56bdd4(0x72b)](_0x56bdd4(0x81c));const _0x39de31=_0x2ab2ab[_0x56bdd4(0x584)](_0x56bdd4(0xd9e));_0x39de31['classList'][_0x56bdd4(0x5f4)](_0x56bdd4(0x81c)),_0x39de31['focus'](),_0x39de31['select']();});}),document[_0x1728c5(0x3eb)](_0x1728c5(0xd9e))['forEach'](_0x45d158=>{const _0x2abf3f=_0x1728c5,_0x13153f=()=>{const _0x337511=_0x33c9,_0x2e8c8d=_0x45d158['closest'](_0x337511(0x22e))[_0x337511(0x273)][_0x337511(0x71b)];handleRenameShortcutTab(_0x2e8c8d,_0x45d158[_0x337511(0x232)]);};_0x45d158[_0x2abf3f(0x95a)](_0x2abf3f(0xa0a),_0x13153f),_0x45d158[_0x2abf3f(0x95a)]('keydown',_0x41e545=>{const _0x2c216f=_0x2abf3f;if(_0x41e545[_0x2c216f(0x4bb)]===_0x2c216f(0x731))_0x45d158[_0x2c216f(0xa0a)]();});}),document[_0x1728c5(0x3eb)]('.delete-shortcut-tab-btn')['forEach'](_0xd05a58=>{const _0x5d6d42=_0x1728c5;_0xd05a58[_0x5d6d42(0x95a)](_0x5d6d42(0xd6c),_0x402d04=>handleDeleteShortcutTab(_0x402d04[_0x5d6d42(0xb52)][_0x5d6d42(0x273)][_0x5d6d42(0x71b)]));}),document[_0x1728c5(0x3eb)](_0x1728c5(0xcde))[_0x1728c5(0x4aa)](_0x316fc9=>{const _0x36cf76=_0x1728c5;_0x316fc9[_0x36cf76(0x95a)](_0x36cf76(0xd6c),_0x4e43e5=>{const _0x5e6a04=_0x36cf76;_0x4e43e5[_0x5e6a04(0xb5c)]();const {shortcutId:_0x204126,targetTabId:_0x12575d}=_0x4e43e5['currentTarget'][_0x5e6a04(0x273)];handleMoveShortcutToTab(_0x204126,_0x12575d);});}),document['querySelectorAll'](_0x1728c5(0x1f5))['forEach'](_0x497618=>{const _0xea7330=_0x1728c5;_0x497618['addEventListener'](_0xea7330(0xd6c),_0x39f87c=>{const _0x51e1c7=_0xea7330;handleRemoveShortcutFromTab(_0x39f87c['currentTarget'][_0x51e1c7(0x273)][_0x51e1c7(0xca9)],activeShortcutTabId);});});const _0x4af35e=document['getElementById']('additional-shortcuts-list');_0x4af35e[_0x1728c5(0x3eb)](_0x1728c5(0x600))[_0x1728c5(0x4aa)](_0x218283=>{const _0xecc9eb=_0x1728c5;_0x218283[_0xecc9eb(0x95a)]('click',()=>{const _0x48d7a7=_0xecc9eb;document['getElementById']('additional-shortcuts-modal')['classList'][_0x48d7a7(0x72b)](_0x48d7a7(0x81c)),handleShortcutClick(_0x218283[_0x48d7a7(0x273)]['id']);});});let _0x1c9659=null;_0x4af35e[_0x1728c5(0x95a)]('dragstart',_0x24fffe=>{const _0xde0b5e=_0x1728c5;_0x1c9659=_0x24fffe[_0xde0b5e(0x4ee)]['closest'](_0xde0b5e(0xa0c)),_0x1c9659&&setTimeout(()=>_0x1c9659[_0xde0b5e(0xbd3)][_0xde0b5e(0x72b)](_0xde0b5e(0xb70)),0x0);}),_0x4af35e[_0x1728c5(0x95a)](_0x1728c5(0x55f),()=>{const _0x53f78b=_0x1728c5;_0x1c9659&&(_0x1c9659[_0x53f78b(0xbd3)][_0x53f78b(0x5f4)]('opacity-50'),_0x1c9659=null);}),_0x4af35e[_0x1728c5(0x95a)]('dragover',_0x243ea4=>{const _0x26b0aa=_0x1728c5;_0x243ea4[_0x26b0aa(0xb5c)]();const _0x322d9a=[..._0x4af35e[_0x26b0aa(0x3eb)](_0x26b0aa(0xc95))][_0x26b0aa(0x1e3)]((_0x47e391,_0x24be33)=>{const _0x437894=_0x26b0aa,_0x81da3e=_0x24be33[_0x437894(0x50c)](),_0x30397e=_0x243ea4[_0x437894(0xea0)]-_0x81da3e['top']-_0x81da3e['height']/0x2;return _0x30397e<0x0&&_0x30397e>_0x47e391[_0x437894(0x7ed)]?{'offset':_0x30397e,'element':_0x24be33}:_0x47e391;},{'offset':Number[_0x26b0aa(0xccf)]})[_0x26b0aa(0x7ab)];_0x322d9a==null?_0x4af35e['appendChild'](_0x1c9659):_0x4af35e['insertBefore'](_0x1c9659,_0x322d9a);}),_0x4af35e[_0x1728c5(0x95a)](_0x1728c5(0x8bf),_0x317203=>{const _0x2dffc9=_0x1728c5;_0x317203[_0x2dffc9(0xb5c)]();if(_0x1c9659){const _0x2c7c35=[..._0x4af35e['querySelectorAll']('.shortcut-list-item')]['map'](_0x2411f4=>_0x2411f4[_0x2dffc9(0x273)][_0x2dffc9(0xca9)]);handleShortcutOrderChange(activeShortcutTabId,_0x2c7c35);}}),document[_0x1728c5(0x3eb)]('.move-shortcut-menu-btn')['forEach'](_0x25cf66=>{const _0x555b1a=_0x1728c5;_0x25cf66[_0x555b1a(0x95a)](_0x555b1a(0xd6c),_0xacdfd8=>{const _0x170962=_0x555b1a;_0xacdfd8[_0x170962(0x651)]();const _0x29f825=_0xacdfd8[_0x170962(0xb52)][_0x170962(0x5b3)],_0x2294df=_0x29f825[_0x170962(0xbd3)][_0x170962(0x959)](_0x170962(0x81c));document['querySelectorAll'](_0x170962(0xbdd))[_0x170962(0x4aa)](_0x31625c=>_0x31625c[_0x170962(0xbd3)][_0x170962(0x72b)](_0x170962(0x81c))),_0x2294df&&_0x29f825[_0x170962(0xbd3)][_0x170962(0x5f4)]('hidden');});});}document[_0x4b15a0(0x95a)]('click',_0x2fe685=>{const _0xbb4eb0=_0x4b15a0;!_0x2fe685['target'][_0xbb4eb0(0x892)](_0xbb4eb0(0xa88))&&document[_0xbb4eb0(0x3eb)]('.move-shortcut-dropdown')[_0xbb4eb0(0x4aa)](_0x48ea69=>_0x48ea69['classList'][_0xbb4eb0(0x72b)](_0xbb4eb0(0x81c)));});async function saveShortcutConfig(){const _0x539d4a=_0x4b15a0,_0x15f97e=doc(db,_0x539d4a(0x3ee),_0x539d4a(0xdb3));try{await setDoc(_0x15f97e,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x12cb88){console[_0x539d4a(0x7cd)](_0x539d4a(0x4c7),_0x12cb88);}}async function handleAddShortcutTab(){const _0x86af13=_0x4b15a0,_0x544740=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x86af13(0xead));if(!_0x544740||_0x544740[_0x86af13(0xbdc)]()==='')return;shortcutTabs[_0x86af13(0x542)]({'id':'tab_'+Date['now'](),'name':_0x544740[_0x86af13(0xbdc)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x837ccd,_0x14e40f){const _0x200af2=_0x4b15a0,_0x2e3e5b=shortcutTabs[_0x200af2(0x59d)](_0x4d953b=>_0x4d953b['id']===_0x837ccd);_0x2e3e5b&&_0x14e40f[_0x200af2(0xbdc)]()!==''&&(_0x2e3e5b[_0x200af2(0x757)]=_0x14e40f[_0x200af2(0xbdc)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x991fe5){const _0x4f2ea2=_0x4b15a0,_0x51777b=shortcutTabs[_0x4f2ea2(0x59d)](_0x39a5d4=>_0x39a5d4['id']===_0x991fe5);_0x51777b&&!_0x51777b[_0x4f2ea2(0x6e1)]&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x51777b['name']+_0x4f2ea2(0x8bb),async()=>{const _0x4a46bf=_0x4f2ea2;shortcutTabs=shortcutTabs['filter'](_0x57b999=>_0x57b999['id']!==_0x991fe5),delete shortcutOrder[_0x991fe5];if(activeShortcutTabId===_0x991fe5)activeShortcutTabId=_0x4a46bf(0x2d8);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x30382d,_0x34f80c){const _0x42e202=_0x4b15a0,_0x5a2c0a=shortcutTabs['find'](_0x53efb6=>_0x53efb6['id']===_0x34f80c);_0x5a2c0a&&!_0x5a2c0a[_0x42e202(0x74e)]['includes'](_0x30382d)&&(_0x5a2c0a[_0x42e202(0x74e)]['push'](_0x30382d),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x39e2ee,_0x544496){const _0xdbb631=_0x4b15a0,_0x5180e4=shortcutTabs[_0xdbb631(0x59d)](_0x4fa195=>_0x4fa195['id']===_0x544496);_0x5180e4&&!_0x5180e4[_0xdbb631(0x6e1)]&&(_0x5180e4['shortcutIds']=_0x5180e4[_0xdbb631(0x74e)]['filter'](_0x6e18cd=>_0x6e18cd!==_0x39e2ee),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x2bd863,_0x5496b7){shortcutOrder[_0x2bd863]=_0x5496b7,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x7f5b25=_0x4b15a0,_0x4f2e74=document['getElementById']('blueprint-shortcut-container'),_0x38941d=document[_0x7f5b25(0xb9f)](_0x7f5b25(0x8d5)),_0x5be4c1=document[_0x7f5b25(0xb9f)]('shortcuts-loading-msg');_0x5be4c1&&_0x5be4c1[_0x7f5b25(0xbd3)][_0x7f5b25(0x72b)](_0x7f5b25(0x81c));if(!_0x4f2e74||!_0x38941d)return;const _0x4302e5=blueprintShortcuts[_0x7f5b25(0xb67)](0x0,0x4),_0x5c132f=blueprintShortcuts[_0x7f5b25(0xb67)](0x4);_0x4f2e74[_0x7f5b25(0x7fc)]=_0x4302e5[_0x7f5b25(0xa0d)](_0x1add2c=>{const _0x13d93e=_0x7f5b25;let _0x26f3c8=_0x13d93e(0x924),_0xe33b51='🧩';if(_0x1add2c['blueprintUrl']&&_0x1add2c[_0x13d93e(0x3ca)])_0x26f3c8='bg-green-500\x20hover:bg-green-600\x20text-white',_0xe33b51='📗';else _0x1add2c[_0x13d93e(0xecc)]&&(_0x26f3c8=_0x13d93e(0xa9a),_0xe33b51='📘');const _0x31dcb1=!_0x1add2c['isDefault']?_0x13d93e(0x4fe)+_0x1add2c['id']+_0x13d93e(0x8dc):'';return _0x13d93e(0x76b)+_0x1add2c['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x26f3c8+_0x13d93e(0x48d)+_0xe33b51+'\x20'+_0x1add2c[_0x13d93e(0x757)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1add2c['id']+_0x13d93e(0x68a)+_0x31dcb1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x7f5b25(0x510)](''),_0x5c132f[_0x7f5b25(0x8da)]>0x0&&(_0x4f2e74[_0x7f5b25(0x7fc)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5c132f[_0x7f5b25(0x8da)]>0x0?_0x38941d[_0x7f5b25(0x7fc)]=_0x5c132f[_0x7f5b25(0xa0d)](_0x2ed977=>{const _0x28bdf5=_0x7f5b25;let _0x1cb61d='🧩';if(_0x2ed977[_0x28bdf5(0xecc)]&&_0x2ed977[_0x28bdf5(0x3ca)])_0x1cb61d='📗';else _0x2ed977[_0x28bdf5(0xecc)]&&(_0x1cb61d='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x1cb61d+'\x20'+_0x2ed977[_0x28bdf5(0x757)]+_0x28bdf5(0xac5)+_0x2ed977['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2ed977['id']+_0x28bdf5(0x281)+(!_0x2ed977[_0x28bdf5(0x6e1)]?_0x28bdf5(0x4fe)+_0x2ed977['id']+_0x28bdf5(0x399):'')+_0x28bdf5(0x46f);})[_0x7f5b25(0x510)](''):_0x38941d[_0x7f5b25(0x7fc)]=_0x7f5b25(0x1f7);}function getMimeTypeFromFilename(_0x5ce450){const _0x5b5e98=_0x4b15a0,_0x2208b1=_0x5ce450[_0x5b5e98(0x390)]('.')[_0x5b5e98(0xbdf)]()[_0x5b5e98(0x724)]();switch(_0x2208b1){case _0x5b5e98(0x7ff):return _0x5b5e98(0xb58);case _0x5b5e98(0x63c):return'text/plain';default:return _0x5b5e98(0xb58);}}function openShortcutEditor(_0x5a2be5=null){const _0x3b1a5d=_0x4b15a0,_0x47c937=document[_0x3b1a5d(0xb9f)](_0x3b1a5d(0x67b)),_0x145eff=document[_0x3b1a5d(0xb9f)](_0x3b1a5d(0xe65)),_0x483009=document[_0x3b1a5d(0xb9f)]('shortcut-id-input'),_0x1e7331=document[_0x3b1a5d(0xb9f)](_0x3b1a5d(0x4c3)),_0x4bd8e5=document[_0x3b1a5d(0xb9f)](_0x3b1a5d(0x497)),_0x3ca764=document[_0x3b1a5d(0xb9f)](_0x3b1a5d(0xd4c));if(_0x5a2be5){const _0x3846e4=blueprintShortcuts[_0x3b1a5d(0x59d)](_0x5157f6=>_0x5157f6['id']===_0x5a2be5);if(!_0x3846e4)return;_0x145eff[_0x3b1a5d(0x1d0)]='แก้ไขปุ่มลัด',_0x483009['value']=_0x3846e4['id'],_0x1e7331[_0x3b1a5d(0x232)]=_0x3846e4[_0x3b1a5d(0x757)],_0x4bd8e5['value']=_0x3846e4[_0x3b1a5d(0xecc)]||'',_0x3ca764[_0x3b1a5d(0x232)]=_0x3846e4[_0x3b1a5d(0x3ca)]||'';}else _0x145eff[_0x3b1a5d(0x1d0)]=_0x3b1a5d(0xa3e),_0x483009[_0x3b1a5d(0x232)]='',_0x1e7331['value']='',_0x4bd8e5['value']='',_0x3ca764[_0x3b1a5d(0x232)]='';_0x47c937['classList'][_0x3b1a5d(0x5f4)](_0x3b1a5d(0x81c));}async function saveShortcutChanges(){const _0x11cad2=_0x4b15a0,_0x3c7e3d=document[_0x11cad2(0xb9f)](_0x11cad2(0x90f))[_0x11cad2(0x232)],_0x4a73af=document[_0x11cad2(0xb9f)](_0x11cad2(0x4c3))[_0x11cad2(0x232)][_0x11cad2(0xbdc)](),_0x52a735=document[_0x11cad2(0xb9f)](_0x11cad2(0x497))[_0x11cad2(0x232)][_0x11cad2(0xbdc)]();if(!_0x4a73af||!_0x52a735){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27');return;}const _0x136e3a={'id':_0x3c7e3d||_0x11cad2(0x45e)+Date[_0x11cad2(0xb38)](),'name':_0x4a73af,'blueprintUrl':_0x52a735,'referenceUrl':document[_0x11cad2(0xb9f)]('shortcut-reference-url-input')[_0x11cad2(0x232)]['trim'](),'isDefault':_0x3c7e3d[_0x11cad2(0xa72)](_0x11cad2(0x7f2))};let _0x453b13;_0x3c7e3d?_0x453b13=blueprintShortcuts[_0x11cad2(0xa0d)](_0xed00f3=>_0xed00f3['id']===_0x3c7e3d?_0x136e3a:_0xed00f3):_0x453b13=[...blueprintShortcuts,_0x136e3a];try{const _0x2d2fa0=doc(db,_0x11cad2(0x3ee),_0x11cad2(0xdb3));await setDoc(_0x2d2fa0,{'blueprintShortcuts':_0x453b13},{'merge':!![]}),document[_0x11cad2(0xb9f)]('shortcut-editor-modal')[_0x11cad2(0xbd3)][_0x11cad2(0x72b)](_0x11cad2(0x81c));}catch(_0x250bcd){console['error'](_0x11cad2(0xd4b),_0x250bcd),showMessage(_0x11cad2(0x21f));}}async function handleShortcutClick(_0x5b7b4d){const _0x50ffdb=_0x4b15a0,_0x1e923f=blueprintShortcuts[_0x50ffdb(0x59d)](_0x1d9b5e=>_0x1d9b5e['id']===_0x5b7b4d);if(!_0x1e923f||!_0x1e923f[_0x50ffdb(0xecc)])return;document[_0x50ffdb(0xb9f)](_0x50ffdb(0x58e))[_0x50ffdb(0xbd3)][_0x50ffdb(0x72b)](_0x50ffdb(0x81c)),document['getElementById']('generate-from-blueprint-btn')[_0x50ffdb(0x417)]=!![];const _0x53eafd=document[_0x50ffdb(0xb9f)](_0x50ffdb(0x976)),_0x117083=document[_0x50ffdb(0xb9f)](_0x50ffdb(0x6a5));document[_0x50ffdb(0xb9f)](_0x50ffdb(0x434))[_0x50ffdb(0xbd3)][_0x50ffdb(0x5f4)]('hidden'),document[_0x50ffdb(0xb9f)]('generated-quiz-container')['innerHTML']='',_0x53eafd[_0x50ffdb(0xbd3)]['remove'](_0x50ffdb(0x81c));try{_0x117083['textContent']=_0x50ffdb(0xe88);const _0x231bc4=await fetchFileFromUrl(_0x1e923f[_0x50ffdb(0xecc)],_0x50ffdb(0x45b));let _0x12495c=null;if(_0x1e923f[_0x50ffdb(0x3ca)]){_0x117083[_0x50ffdb(0x1d0)]=_0x50ffdb(0x637);const _0x593ec3=_0x1e923f['referenceUrl'][_0x50ffdb(0x724)]()['endsWith'](_0x50ffdb(0x914))?_0x50ffdb(0xec3):_0x50ffdb(0x1d9);_0x12495c=await fetchFileFromUrl(_0x1e923f[_0x50ffdb(0x3ca)],_0x593ec3);}await handleGenerateFromBlueprintWithFiles(_0x231bc4,_0x12495c);}catch(_0x2bdab0){console[_0x50ffdb(0x7cd)](_0x50ffdb(0x291),_0x2bdab0),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2bdab0['message']),_0x53eafd[_0x50ffdb(0xbd3)][_0x50ffdb(0x72b)](_0x50ffdb(0x81c));}}function getDirectDownloadUrl(_0x554f79){const _0x56f087=_0x4b15a0,_0x4630be=_0x554f79[_0x56f087(0x76e)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x4630be&&_0x4630be[0x1])return _0x56f087(0x852)+_0x4630be[0x1];return _0x554f79;}async function fetchFileFromUrl(_0x56db10,_0x31f37b){const _0x48a65b=_0x4b15a0,_0x2f944f=getDirectDownloadUrl(_0x56db10),_0x20c64d='https://corsproxy.io/?'+encodeURIComponent(_0x2f944f),_0x24b1e5=await fetch(_0x20c64d);if(!_0x24b1e5['ok'])throw new Error(_0x48a65b(0xd4d)+_0x24b1e5[_0x48a65b(0x58b)]+')');const _0x3db659=await _0x24b1e5[_0x48a65b(0xa4d)](),_0x5cbeb2=await new Promise((_0x5cd1fb,_0x5ce231)=>{const _0x174856=_0x48a65b,_0x1a6b01=new FileReader();_0x1a6b01[_0x174856(0x32f)]=()=>_0x5cd1fb(new Uint8Array(_0x1a6b01[_0x174856(0x338)])),_0x1a6b01[_0x174856(0xce6)]=_0x5ce231,_0x1a6b01[_0x174856(0x444)](_0x3db659[_0x174856(0xb67)](0x0,0x4));});let _0x15f180='';const _0x322797=new TextDecoder()[_0x48a65b(0x5e1)](_0x5cbeb2);return _0x322797===_0x48a65b(0xdcf)?(_0x15f180='application/pdf',console[_0x48a65b(0xe84)](_0x48a65b(0x6be))):(_0x15f180=_0x48a65b(0x927),console['log'](_0x48a65b(0x27c))),new File([_0x3db659],_0x31f37b,{'type':_0x15f180});}async function handleGenerateFromBlueprintWithFiles(_0x28d26c,_0x9b2b9a=null){const _0x4072f2=_0x4b15a0;if(!_0x28d26c){showMessage(_0x4072f2(0x526));return;}const _0x26c815=document['getElementById'](_0x4072f2(0x976)),_0x783408=document[_0x4072f2(0xb9f)](_0x4072f2(0x6a5));_0x26c815[_0x4072f2(0xbd3)]['remove']('hidden'),document[_0x4072f2(0xb9f)](_0x4072f2(0x434))[_0x4072f2(0xbd3)][_0x4072f2(0x5f4)](_0x4072f2(0x81c)),document[_0x4072f2(0xb9f)](_0x4072f2(0xa39))[_0x4072f2(0x7fc)]='';try{_0x783408[_0x4072f2(0x1d0)]=_0x4072f2(0x908);const _0x561737=await new Promise((_0x321d83,_0x104fe6)=>{const _0x5881a4=_0x4072f2,_0x2828b2=new FileReader();_0x2828b2['readAsDataURL'](_0x28d26c),_0x2828b2[_0x5881a4(0xb46)]=()=>_0x321d83(_0x2828b2[_0x5881a4(0x338)]['split'](',')[0x1]),_0x2828b2['onerror']=_0x104fe6;}),_0x5a3ce8=[];if(_0x9b2b9a){_0x783408[_0x4072f2(0x1d0)]=_0x4072f2(0x3ae);const _0x9489d4=await _0x9b2b9a[_0x4072f2(0x9ad)]();_0x5a3ce8[_0x4072f2(0x542)]({'text':_0x4072f2(0x5a0)+_0x9489d4});}const _0x41579d=[{'text':_0x4072f2(0xca3)},{'inlineData':{'mimeType':_0x28d26c[_0x4072f2(0xa1b)],'data':_0x561737}},..._0x5a3ce8];await handleGenerateFromBlueprint(_0x41579d);}catch(_0x5a0add){console['error']('Error\x20in\x20generating\x20from\x20files:',_0x5a0add),showMessage(_0x4072f2(0xe37)+_0x5a0add[_0x4072f2(0x81b)]),_0x26c815[_0x4072f2(0xbd3)][_0x4072f2(0x72b)](_0x4072f2(0x81c));}}async function handleLiveAnswer(_0x3021e6,_0x49f64b){const _0x5a1059=_0x4b15a0;document[_0x5a1059(0x3eb)](_0x5a1059(0xb36))['forEach'](_0x428293=>_0x428293['disabled']=!![]);const _0x21a341=_0x49f64b[_0x5a1059(0x899)]||currentQuizData[_0x5a1059(0xd68)];let _0x1ddf05=![],_0x2e0f66=_0x3021e6;if(_0x21a341==='short_answer'){const _0x376445=(_0x3021e6||'')[_0x5a1059(0xbb9)]();_0x1ddf05=await gradeShortAnswer(_0x376445,_0x49f64b);}else{if(_0x21a341===_0x5a1059(0x9c3))_0x1ddf05=_0x3021e6===_0x49f64b[_0x5a1059(0x82e)];else{if(_0x21a341===_0x5a1059(0xa29)){const _0x40b8a9=_0x49f64b[_0x5a1059(0x9fb)];_0x1ddf05=_0x3021e6===0x0&&_0x40b8a9||_0x3021e6===0x1&&!_0x40b8a9;}else{if(_0x21a341===_0x5a1059(0x50f)){const _0x32ea45=_0x49f64b[_0x5a1059(0x816)][_0x3021e6];_0x1ddf05=_0x32ea45===_0x49f64b[_0x5a1059(0xa54)],_0x2e0f66=_0x32ea45;}}}}const _0x8a292b=doc(db,_0x5a1059(0xc4a)+appId+_0x5a1059(0x1e4),currentLiveGameId),_0x2c2ae={};_0x2c2ae['players.'+currentStudentName+_0x5a1059(0x89f)]=!![],_0x2c2ae[_0x5a1059(0x36c)+currentStudentName+'.lastAnswerCorrect']=_0x1ddf05,_0x2c2ae[_0x5a1059(0x36c)+currentStudentName+_0x5a1059(0x9d9)]=_0x21a341===_0x5a1059(0xc9f)||_0x21a341===_0x5a1059(0x50f)?null:_0x3021e6,_0x2c2ae['players.'+currentStudentName+_0x5a1059(0xcd2)]=_0x2e0f66,_0x2c2ae[_0x5a1059(0x36c)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x2c2ae[_0x5a1059(0x36c)+currentStudentName+_0x5a1059(0x1e6)]=![],await updateDoc(_0x8a292b,_0x2c2ae),liveGameView[_0x5a1059(0x7fc)]=_0x5a1059(0xe39);}function showAdminSummaryView(_0x26989e,_0x2d11d8){const _0x572aeb=_0x4b15a0,_0x2b0842=Object[_0x572aeb(0x4a0)](_0x26989e[_0x572aeb(0xb9c)]||{}),_0x1e0de3=_0x2d11d8[_0x572aeb(0x899)]||currentQuizData[_0x572aeb(0xd68)],_0x4fb63d=_0x1e0de3===_0x572aeb(0xa29)?[_0x572aeb(0xe3e),_0x572aeb(0x331)]:_0x2d11d8[_0x572aeb(0x4d1)]||_0x2d11d8['allResponses']||[],_0x508d2d={},_0x23de3c=new Array(_0x4fb63d[_0x572aeb(0x8da)])[_0x572aeb(0xb1a)](0x0);_0x4fb63d[_0x572aeb(0x4aa)]((_0x2ce7ef,_0x5ba0c2)=>{_0x508d2d[_0x5ba0c2]=[];}),Object[_0x572aeb(0x883)](_0x26989e[_0x572aeb(0xb9c)]||{})['forEach'](([_0x38034f,_0x5de58a])=>{const _0x2aff0e=_0x572aeb;if(_0x5de58a[_0x2aff0e(0x58b)]===_0x2aff0e(0x329)&&_0x5de58a[_0x2aff0e(0xd98)]!==undefined){const _0x19b1e3=_0x5de58a[_0x2aff0e(0xd98)];_0x508d2d[_0x19b1e3]&&(_0x508d2d[_0x19b1e3][_0x2aff0e(0x542)](_0x38034f),_0x23de3c[_0x19b1e3]++);}});const _0x101b86=Math[_0x572aeb(0x5e9)](..._0x23de3c,0x1),_0x4e2d35='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x2d11d8[_0x572aeb(0x7fb)]||_0x2d11d8['questionText'])+_0x572aeb(0x97f)+_0x23de3c[_0x572aeb(0xa0d)]((_0x295371,_0x8454e1)=>{const _0x10cb1f=_0x572aeb,_0x3139e9=_0x508d2d[_0x8454e1][_0x10cb1f(0x8da)]>0x0?_0x508d2d[_0x8454e1]['join'](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x8dfe2c=![];if(_0x1e0de3===_0x10cb1f(0x9c3))_0x8dfe2c=_0x8454e1===_0x2d11d8[_0x10cb1f(0x82e)];else{if(_0x1e0de3===_0x10cb1f(0xa29)){const _0x580ba9=_0x2d11d8['correctAnswer'];_0x8dfe2c=_0x580ba9&&_0x8454e1===0x0||!_0x580ba9&&_0x8454e1===0x1;}else _0x1e0de3===_0x10cb1f(0x50f)&&(_0x8dfe2c=_0x4fb63d[_0x8454e1]===_0x2d11d8[_0x10cb1f(0xa54)]);}const _0x2fca29=_0x8dfe2c?'#26890c':_0x10cb1f(0xa9b);return _0x10cb1f(0x726)+_0x295371+_0x10cb1f(0x51d)+_0x2fca29+_0x10cb1f(0x1c5)+_0x8454e1+_0x10cb1f(0x3c5)+_0x4fb63d[_0x8454e1]+_0x10cb1f(0x55b)+_0x8454e1+_0x10cb1f(0x742)+_0x3139e9+_0x10cb1f(0x1db);})[_0x572aeb(0x510)]('')+_0x572aeb(0x536);liveGameView[_0x572aeb(0x7fc)]=_0x4e2d35;if(window['MathJax'])MathJax[_0x572aeb(0xbce)]();document['getElementById'](_0x572aeb(0x363))['addEventListener']('click',async()=>{const _0x3920e2=_0x572aeb,_0x1a2023=doc(db,_0x3920e2(0xc4a)+appId+_0x3920e2(0x1e4),currentLiveGameId);await updateDoc(_0x1a2023,{'questionStatus':_0x3920e2(0xd70)});}),document[_0x572aeb(0xb9f)](_0x572aeb(0x1d3))[_0x572aeb(0x95a)](_0x572aeb(0xd6c),()=>{openScratchpad(_0x2d11d8,_0x4fb63d);});}function showPlayerSummaryView(_0x33dab2,_0x24ba6e){const _0x280743=_0x4b15a0,_0x3f0729=Object['values'](_0x33dab2['players']||{}),_0x2f99e8=_0x33dab2[_0x280743(0xb9c)][_0x24ba6e],_0x12b49e=_0x3f0729['filter'](_0x5b66c3=>_0x5b66c3[_0x280743(0x58b)]===_0x280743(0x329))['sort']((_0x37920f,_0x9ad22c)=>_0x9ad22c[_0x280743(0x7e2)]-_0x37920f['score']),_0x57918f=_0x12b49e[_0x280743(0x706)](_0x229039=>_0x229039===_0x2f99e8)+0x1,_0x11c8b5=_0x2f99e8[_0x280743(0x691)]?_0x280743(0x9ee):_0x280743(0x23c),_0x52b3b5=_0x2f99e8[_0x280743(0x691)]?_0x280743(0xc93):_0x280743(0x572),_0x4a369e=_0x2f99e8[_0x280743(0x88e)]||0x0,_0x449759=_0x280743(0x7d8),_0x52eaa2=_0x280743(0x5d6)+_0x449759+_0x280743(0x5d2)+_0x52b3b5+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>'+_0x11c8b5+_0x280743(0x8ca)+_0x4a369e+_0x280743(0xd7b)+(_0x57918f>0x0?_0x57918f:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x280743(0x7fc)]=_0x52eaa2;}function createQuizFromBank(){const _0x27872a=_0x4b15a0,_0x4a2d62=document[_0x27872a(0x3eb)](_0x27872a(0xd2b));if(_0x4a2d62['length']===0x0){showMessage(_0x27872a(0xdfe));return;}const _0x19be5d=[];_0x4a2d62[_0x27872a(0x4aa)](_0xf6b191=>{const _0x1240c4=_0x27872a;_0x19be5d['push'](JSON[_0x1240c4(0x717)](_0xf6b191[_0x1240c4(0x232)]));});const _0x1f426a={'topic':_0x27872a(0x713),'questions':_0x19be5d};displayGeneratedQuiz(_0x1f426a);}function showAdminLobbyView(_0x3e1e34,_0x36b09f){const _0x980ae3=_0x4b15a0;showView(_0x980ae3(0xbda));const _0x2d5fc2=_0x980ae3(0xcb6)+_0x36b09f+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x3e1e34+_0x980ae3(0x79f);liveGameView[_0x980ae3(0x7fc)]=_0x2d5fc2,document['getElementById'](_0x980ae3(0xab0))['addEventListener'](_0x980ae3(0xd6c),async()=>{const _0x5beecc=_0x980ae3;if(!currentQuizData||!currentQuizData[_0x5beecc(0xa09)]||currentQuizData[_0x5beecc(0xa09)][_0x5beecc(0x8da)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x106f6e=doc(db,_0x5beecc(0xc4a)+appId+_0x5beecc(0x1e4),currentLiveGameId);await updateDoc(_0x106f6e,{'status':_0x5beecc(0x9b0),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0xa2aabe=currentQuizData[_0x5beecc(0xa09)][0x0],_0x20a84c=currentQuizData['questions'][_0x5beecc(0x8da)];showAdminLiveQuestionView(_0xa2aabe,0x0,_0x20a84c);}catch(_0x50541d){console['error'](_0x5beecc(0x87f),_0x50541d),showMessage(_0x5beecc(0x930));}});}async function openQuizBankModal(){const _0x51fd87=_0x4b15a0;if(allQuizzesGlobal['length']===0x0){const _0x15b00b=await getDocs(collection(db,'artifacts/'+appId+_0x51fd87(0x671)));allQuizzesGlobal=_0x15b00b[_0x51fd87(0x9e5)][_0x51fd87(0xa0d)](_0x876283=>({'id':_0x876283['id'],..._0x876283[_0x51fd87(0x7f7)]()}));}renderQuizBankList(''),document['getElementById']('quiz-bank-modal')[_0x51fd87(0xbd3)]['remove'](_0x51fd87(0x81c));}function renderQuizBankList(_0x43f38a='',_0x2c1ecc=![]){const _0x18f88e=_0x4b15a0,_0x3b18f5=document[_0x18f88e(0xb9f)](_0x18f88e(0xdc6)),_0x2a9422=_0x43f38a['toLowerCase']()[_0x18f88e(0xbdc)](),_0x149636=allQuizzesGlobal[_0x18f88e(0xa0d)](_0x5c436f=>({..._0x5c436f,'projectName':allProjects[_0x18f88e(0x59d)](_0x34082a=>_0x34082a['id']===_0x5c436f[_0x18f88e(0xa0f)])?.['projectName']||'N/A'}))[_0x18f88e(0xce3)](_0x90f517=>(_0x90f517[_0x18f88e(0x257)]||'')[_0x18f88e(0x724)]()[_0x18f88e(0xa36)](_0x2a9422)||(_0x90f517[_0x18f88e(0x6b1)]||'')[_0x18f88e(0x724)]()[_0x18f88e(0xa36)](_0x2a9422)||_0x90f517['id'][_0x18f88e(0xbb9)]()['includes'](_0x2a9422));document['getElementById'](_0x18f88e(0x6d3))['textContent']='('+_0x149636[_0x18f88e(0x8da)]+_0x18f88e(0xee2),_0x3b18f5[_0x18f88e(0x7fc)]=_0x149636[_0x18f88e(0x8da)]?_0x149636[_0x18f88e(0xa0d)](_0x1d901d=>{const _0x19f9c9=_0x18f88e,_0x204ce7=!_0x2c1ecc?_0x19f9c9(0xb1f)+_0x1d901d['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1d901d['id']+_0x19f9c9(0x2c0)+_0x1d901d['id']+_0x19f9c9(0xd53)+_0x1d901d['id']+_0x19f9c9(0x4ca)+_0x1d901d['id']+_0x19f9c9(0x99a)+_0x1d901d['id']+_0x19f9c9(0xbdb)+_0x1d901d[_0x19f9c9(0x257)]+_0x19f9c9(0x6b6):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x1d901d['id']+_0x19f9c9(0x518)+(_0x1d901d[_0x19f9c9(0x257)]||_0x19f9c9(0xc74))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x1d901d[_0x19f9c9(0xa09)]?.[_0x19f9c9(0x8da)]||0x0)+_0x19f9c9(0x259)+_0x1d901d['projectName']+_0x19f9c9(0xcb4)+_0x1d901d['id']+_0x19f9c9(0xc4e)+_0x204ce7+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x18f88e(0x510)](''):_0x18f88e(0xaf5),!_0x2c1ecc&&(_0x3b18f5[_0x18f88e(0x3eb)]('.quiz-bank-item')['forEach'](_0x2d5ccb=>{const _0x37d26c=_0x18f88e;_0x2d5ccb[_0x37d26c(0x95a)](_0x37d26c(0xd6c),()=>{const _0x665139=_0x37d26c,_0x4ac22a=_0x2d5ccb[_0x665139(0x273)]['id'];document[_0x665139(0xb9f)](_0x665139(0x62c))[_0x665139(0xbd3)][_0x665139(0x72b)](_0x665139(0x81c)),showQuizDetailView(_0x4ac22a);});}),_0x3b18f5[_0x18f88e(0x3eb)](_0x18f88e(0xcc9))[_0x18f88e(0x4aa)](_0x1c0094=>{const _0x2a9a8c=_0x18f88e;_0x1c0094['addEventListener'](_0x2a9a8c(0xd6c),_0x2f163a=>{const _0x4891c2=_0x2a9a8c;_0x2f163a[_0x4891c2(0x651)]();const _0x37b948=_0x1c0094[_0x4891c2(0x273)]['id'],_0xfc0dd1=allQuizzesGlobal[_0x4891c2(0x59d)](_0x1844da=>_0x1844da['id']===_0x37b948);_0xfc0dd1?(currentQuizData=_0xfc0dd1,document[_0x4891c2(0xb9f)](_0x4891c2(0x62c))[_0x4891c2(0xbd3)][_0x4891c2(0x72b)](_0x4891c2(0x81c)),startAdminTest()):showMessage(_0x4891c2(0xad3));});}),_0x3b18f5[_0x18f88e(0x3eb)](_0x18f88e(0xb13))[_0x18f88e(0x4aa)](_0x551983=>{const _0x4fdcbc=_0x18f88e;_0x551983[_0x4fdcbc(0x95a)]('click',_0x10bf37=>{const _0x5e4ba8=_0x4fdcbc;_0x10bf37[_0x5e4ba8(0x651)]();const _0x3585ce=_0x551983[_0x5e4ba8(0x273)]['id'],_0x5244d8=allQuizzesGlobal[_0x5e4ba8(0x59d)](_0x2a2eb7=>_0x2a2eb7['id']===_0x3585ce);_0x5244d8?(document[_0x5e4ba8(0xb9f)]('quiz-bank-modal')[_0x5e4ba8(0xbd3)][_0x5e4ba8(0x72b)](_0x5e4ba8(0x81c)),handleGenerateParallelFromBank(_0x5244d8)):showMessage(_0x5e4ba8(0xad3));});}),_0x3b18f5[_0x18f88e(0x3eb)](_0x18f88e(0x641))[_0x18f88e(0x4aa)](_0xd5e879=>{const _0x576f7e=_0x18f88e;_0xd5e879[_0x576f7e(0x95a)](_0x576f7e(0xd6c),_0x5a209b=>{const _0x129077=_0x576f7e;_0x5a209b[_0x129077(0x651)]();const _0x18fc8a=_0xd5e879['dataset']['id'],_0x3df655=allQuizzesGlobal[_0x129077(0x59d)](_0x5c2ab9=>_0x5c2ab9['id']===_0x18fc8a);_0x3df655?(document[_0x129077(0xb9f)](_0x129077(0x62c))[_0x129077(0xbd3)][_0x129077(0x72b)](_0x129077(0x81c)),startPresentation(_0x3df655)):showMessage(_0x129077(0xad3));});}),_0x3b18f5[_0x18f88e(0x3eb)]('.quiz-bank-move-btn')[_0x18f88e(0x4aa)](_0x51ca92=>{const _0x213701=_0x18f88e;_0x51ca92['addEventListener'](_0x213701(0xd6c),_0x453597=>{const _0x676a8b=_0x213701;_0x453597['stopPropagation']();const _0x51276f=_0x51ca92[_0x676a8b(0x273)]['id'];document[_0x676a8b(0xb9f)](_0x676a8b(0x62c))['classList']['add'](_0x676a8b(0x81c)),handleMoveQuiz(_0x51276f);});}),_0x3b18f5[_0x18f88e(0x3eb)]('.quiz-bank-settings-btn')[_0x18f88e(0x4aa)](_0x27402b=>{const _0x1b7b36=_0x18f88e;_0x27402b[_0x1b7b36(0x95a)](_0x1b7b36(0xd6c),_0x420827=>{const _0x5561c3=_0x1b7b36;_0x420827[_0x5561c3(0x651)]();const _0x781e87=_0x27402b[_0x5561c3(0x273)]['id'];document[_0x5561c3(0xb9f)]('quiz-bank-modal')[_0x5561c3(0xbd3)]['add'](_0x5561c3(0x81c)),handleQuizSettings(_0x781e87);});}),_0x3b18f5[_0x18f88e(0x3eb)]('.quiz-bank-delete-btn')['forEach'](_0x57fe8b=>{const _0x570edd=_0x18f88e;_0x57fe8b[_0x570edd(0x95a)](_0x570edd(0xd6c),_0xfbf88b=>{const _0x34e702=_0x570edd;_0xfbf88b[_0x34e702(0x651)]();const _0x55970c=_0x57fe8b[_0x34e702(0x273)]['id'],_0x1ee0e9=_0x57fe8b['dataset'][_0x34e702(0x257)];showConfirmation(_0x34e702(0x4b2)+_0x1ee0e9+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x55970c));});}));}async function handleCompareResults(_0x4b5df5,_0x4ad7fc){const _0x97ad63=_0x4b15a0,_0x2879a3=document[_0x97ad63(0xb9f)](_0x97ad63(0xcfb)),_0x5cef08=document['getElementById']('comparison-overall-content'),_0x1024bc=document[_0x97ad63(0xb9f)](_0x97ad63(0x1fe));document[_0x97ad63(0xb9f)](_0x97ad63(0x3ef))[_0x97ad63(0xbd3)][_0x97ad63(0x72b)](_0x97ad63(0x329)),document[_0x97ad63(0xb9f)]('comparison-individual-tab')[_0x97ad63(0xbd3)][_0x97ad63(0x5f4)](_0x97ad63(0x329)),_0x5cef08['classList'][_0x97ad63(0x5f4)](_0x97ad63(0x81c)),_0x1024bc['classList'][_0x97ad63(0x72b)](_0x97ad63(0x81c)),_0x5cef08[_0x97ad63(0x7fc)]=_0x97ad63(0xa85),_0x1024bc[_0x97ad63(0x7fc)]='',_0x2879a3[_0x97ad63(0xbd3)][_0x97ad63(0x5f4)]('hidden');try{const _0x52eafc=doc(db,_0x97ad63(0xc4a)+appId+_0x97ad63(0x671),_0x4b5df5),_0x45f8cc=await getDoc(_0x52eafc);if(!_0x45f8cc[_0x97ad63(0x37f)]())throw new Error(_0x97ad63(0xa12));const _0x59b273=_0x45f8cc[_0x97ad63(0x7f7)](),_0xebc75c=_0x59b273[_0x97ad63(0xa09)][_0x97ad63(0x8da)],_0x351f14=collection(db,_0x97ad63(0xc4a)+appId+_0x97ad63(0x2a1)+_0x4ad7fc+'/submissions'),_0x488ca8=collection(db,'artifacts/'+appId+_0x97ad63(0x2a1)+_0x4b5df5+'/submissions'),[_0x2f12fa,_0x18aa92]=await Promise['all']([getDocs(_0x351f14),getDocs(_0x488ca8)]),_0x154aac=_0x2f12fa[_0x97ad63(0x9e5)][_0x97ad63(0xa0d)](_0x1d2de0=>_0x1d2de0[_0x97ad63(0x7f7)]()),_0x4fe2c1=_0x18aa92[_0x97ad63(0x9e5)][_0x97ad63(0xa0d)](_0xca6ac6=>_0xca6ac6['data']()),_0x454631=_0x154aac[_0x97ad63(0xa0d)](_0x40debb=>_0x40debb['latestScore']),_0x205bda=_0x4fe2c1['map'](_0x54769b=>_0x54769b['latestScore']),_0x130d4c=calculateMeanAndStdDev(_0x454631),_0x4c5c83=calculateMeanAndStdDev(_0x205bda),_0x48295b=_0x130d4c['mean'],_0x5133c9=_0x4c5c83[_0x97ad63(0x6b7)],_0x48eea8=_0x5133c9-_0x48295b;let _0x2d9e3e=_0x97ad63(0x75a)+_0x48295b[_0x97ad63(0x63d)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x5133c9[_0x97ad63(0x63d)](0x2)+_0x97ad63(0x5fa)+(_0x48eea8>=0x0?_0x97ad63(0x415):'bg-red-100')+_0x97ad63(0xa4a)+(_0x48eea8>=0x0?'text-emerald-800':_0x97ad63(0xdbc))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x48eea8>=0x0?_0x97ad63(0x453):'text-red-900')+'\x22>'+(_0x48eea8>=0x0?'+':'')+_0x48eea8[_0x97ad63(0x63d)](0x2)+_0x97ad63(0xa8a);_0x5cef08[_0x97ad63(0x7fc)]=_0x2d9e3e;const _0x1ec6dc=document['getElementById'](_0x97ad63(0x7bc))[_0x97ad63(0xb44)]('2d');if(chartInstances[_0x97ad63(0xcae)])chartInstances[_0x97ad63(0xcae)][_0x97ad63(0x1de)]();chartInstances['comparison']=new Chart(_0x1ec6dc,{'type':_0x97ad63(0x483),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x97ad63(0xce4),'data':[_0x48295b],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':'หลังเรียน','data':[_0x5133c9],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0xebc75c}}}});const _0x6bfb0f=currentProjectData[_0x97ad63(0x813)]||[],_0x18e0bc=_0x6bfb0f[_0x97ad63(0xa0d)](_0x4f3612=>{const _0x1df338=_0x97ad63,_0x8e21eb=_0x154aac['find'](_0x1878bf=>_0x1878bf[_0x1df338(0x466)]===_0x4f3612),_0x463972=_0x4fe2c1['find'](_0x3b4fbd=>_0x3b4fbd[_0x1df338(0x466)]===_0x4f3612),_0x300a0d=_0x8e21eb?_0x8e21eb[_0x1df338(0xed0)]:null,_0xc23942=_0x463972?_0x463972[_0x1df338(0xed0)]:null,_0x2a80e1=_0x300a0d!==null&&_0xc23942!==null?_0xc23942-_0x300a0d:null,_0x424e11=_0x300a0d!==null?calculateZScore(_0x300a0d,_0x130d4c[_0x1df338(0x6b7)],_0x130d4c[_0x1df338(0x957)]):null,_0x4fb6b9=_0xc23942!==null?calculateZScore(_0xc23942,_0x4c5c83['mean'],_0x4c5c83['stdDev']):null,_0x418888=_0x424e11!==null?calculateTScore(_0x424e11):null,_0x517820=_0x4fb6b9!==null?calculateTScore(_0x4fb6b9):null,_0x25f349=_0x418888!==null&&_0x517820!==null?_0x517820-_0x418888:null;return{'name':_0x4f3612,'preScore':_0x300a0d,'postScore':_0xc23942,'gain':_0x2a80e1,'preTScore':_0x418888,'postTScore':_0x517820,'tGain':_0x25f349};});renderIndividualComparisonTable(_0x18e0bc,_0x1024bc);}catch(_0x399e5d){console[_0x97ad63(0x7cd)](_0x97ad63(0xbd5),_0x399e5d),_0x5cef08['innerHTML']=_0x97ad63(0x6ec);}}async function saveBlueprintProject(){const _0x2408f6=_0x4b15a0;if(!extractedBlueprintData||!extractedBlueprintData[_0x2408f6(0x6d8)]){showMessage(_0x2408f6(0xd18));return;}const _0x3902b9=prompt(_0x2408f6(0x51e),'Blueprint\x20O-NET\x20ป.6');if(!_0x3902b9||_0x3902b9[_0x2408f6(0xbdc)]()==='')return;const _0x18d790={};extractedBlueprintData[_0x2408f6(0x6d8)]['forEach'](_0x4cb7b9=>{const _0x532fd5=_0x2408f6;_0x4cb7b9[_0x532fd5(0xe1d)][_0x532fd5(0x4aa)](_0x1e448f=>{const _0x5d4574=_0x532fd5;_0x1e448f['subTopics'][_0x5d4574(0x4aa)](_0x5661ea=>{const _0x5e3a8e=_0x5d4574,_0x3627fd=_0x5e3a8e(0xdff)+Date[_0x5e3a8e(0xb38)]()+Math[_0x5e3a8e(0x7c9)]()[_0x5e3a8e(0xbb9)](0x24)[_0x5e3a8e(0x92d)](0x2,0x9);_0x18d790[_0x3627fd]={'sara':_0x4cb7b9[_0x5e3a8e(0xb41)],'mainTopic':_0x1e448f[_0x5e3a8e(0x876)],'subTopic':_0x5661ea,'status':_0x5e3a8e(0x3d2),'lessonContent':null};});});});try{const _0x5f5517=collection(db,_0x2408f6(0xc4a)+appId+_0x2408f6(0x963));await addDoc(_0x5f5517,{'projectName':_0x3902b9[_0x2408f6(0xbdc)](),'gradeLevel':extractedBlueprintData[_0x2408f6(0xb14)],'topics':_0x18d790,'createdAt':serverTimestamp()}),showMessage(_0x2408f6(0xc66)+_0x3902b9['trim']()+_0x2408f6(0x96f)),document[_0x2408f6(0xb9f)](_0x2408f6(0xe99))[_0x2408f6(0xbd3)]['add'](_0x2408f6(0x81c));}catch(_0x4a3975){console[_0x2408f6(0x7cd)](_0x2408f6(0x269),_0x4a3975),showMessage(_0x2408f6(0xe4c));}}async function showBlueprintProjects(){const _0x16b818=_0x4b15a0,_0x52901c=document[_0x16b818(0xb9f)](_0x16b818(0x278)),_0x5210ae=document[_0x16b818(0xb9f)](_0x16b818(0x7e3));_0x5210ae[_0x16b818(0x7fc)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x52901c['classList'][_0x16b818(0x5f4)]('hidden');try{const _0x506145=collection(db,_0x16b818(0xc4a)+appId+_0x16b818(0x963)),_0x4b627b=await getDocs(_0x506145);if(_0x4b627b[_0x16b818(0xe97)]){_0x5210ae[_0x16b818(0x7fc)]=_0x16b818(0x43a);return;}const _0x8bf099=_0x4b627b['docs']['map'](_0x1d27a6=>({'id':_0x1d27a6['id'],..._0x1d27a6[_0x16b818(0x7f7)]()}));_0x8bf099[_0x16b818(0x8c7)]((_0x281029,_0x4815ce)=>_0x281029[_0x16b818(0x6b1)][_0x16b818(0x822)](_0x4815ce[_0x16b818(0x6b1)],'th')),_0x5210ae['innerHTML']=_0x8bf099['map'](_0x53da3a=>_0x16b818(0xb1b)+_0x53da3a[_0x16b818(0x6b1)]+_0x16b818(0x439)+_0x53da3a[_0x16b818(0xb14)]+_0x16b818(0x88c)+Object['keys'](_0x53da3a[_0x16b818(0xb27)])[_0x16b818(0x8da)]+_0x16b818(0xe56)+_0x53da3a['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x53da3a['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x16b818(0x510)]('');}catch(_0x450a2d){console[_0x16b818(0x7cd)](_0x16b818(0x5c2),_0x450a2d),_0x5210ae[_0x16b818(0x7fc)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x2224d6){const _0x69b3a3=_0x4b15a0;currentBlueprintProjectId=_0x2224d6,document[_0x69b3a3(0xb9f)](_0x69b3a3(0x278))[_0x69b3a3(0xbd3)]['add'](_0x69b3a3(0x81c)),showView(_0x69b3a3(0x5b4)),projectDashboardView['classList'][_0x69b3a3(0x72b)](_0x69b3a3(0x81c));const _0x243af7=document[_0x69b3a3(0xb9f)](_0x69b3a3(0x49f));_0x243af7[_0x69b3a3(0xbd3)]['remove'](_0x69b3a3(0x81c)),document[_0x69b3a3(0xb9f)](_0x69b3a3(0xb76))['innerHTML']=_0x69b3a3(0xa85);try{const _0x243e1d=doc(db,_0x69b3a3(0xc4a)+appId+_0x69b3a3(0x963),_0x2224d6),_0x4dab89=await getDoc(_0x243e1d);if(!_0x4dab89['exists']())throw new Error('ไม่พบโปรเจค');const _0x320034={'id':_0x4dab89['id'],..._0x4dab89['data']()};document[_0x69b3a3(0xb9f)]('bp-project-title')[_0x69b3a3(0x1d0)]=_0x320034[_0x69b3a3(0x6b1)],document[_0x69b3a3(0xb9f)](_0x69b3a3(0x907))[_0x69b3a3(0x232)]=_0x320034[_0x69b3a3(0x42f)]||'',renderBlueprintTopicManager(_0x320034);}catch(_0x18093a){console[_0x69b3a3(0x7cd)](_0x69b3a3(0x563),_0x18093a),showMessage(_0x18093a[_0x69b3a3(0x81b)]),showView(_0x69b3a3(0x5b4));}}function renderBlueprintTopicManager(_0x3b7359){const _0x48ad81=_0x4b15a0,_0x440263=document[_0x48ad81(0xb9f)](_0x48ad81(0xb76)),_0x47f18b=_0x3b7359['topics']||{};if(Object[_0x48ad81(0xb2e)](_0x47f18b)[_0x48ad81(0x8da)]===0x0){_0x440263[_0x48ad81(0x7fc)]=_0x48ad81(0x6ff);return;}const _0x438da5=Object[_0x48ad81(0x883)](_0x47f18b)['map'](([_0x161adc,_0x35e1b8])=>({'id':_0x161adc,..._0x35e1b8}))[_0x48ad81(0x8c7)]((_0x5379f3,_0xad5ad6)=>(_0x5379f3[_0x48ad81(0x41a)]??Infinity)-(_0xad5ad6['order']??Infinity)),_0x272c34={};_0x438da5[_0x48ad81(0x4aa)](_0x313173=>{const {sara:_0x35f018,mainTopic:_0x4a0c3d}=_0x313173;!_0x272c34[_0x35f018]&&(_0x272c34[_0x35f018]={}),!_0x272c34[_0x35f018][_0x4a0c3d]&&(_0x272c34[_0x35f018][_0x4a0c3d]=[]),_0x272c34[_0x35f018][_0x4a0c3d]['push'](_0x313173);});let _0x358993='';for(const _0x5e1958 in _0x272c34){_0x358993+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x5e1958+'</h4>';for(const _0x3518d4 in _0x272c34[_0x5e1958]){_0x358993+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x3518d4+_0x48ad81(0x280),_0x272c34[_0x5e1958][_0x3518d4][_0x48ad81(0x4aa)](_0x367aee=>{const _0x257b8c=_0x48ad81,_0x16f828=_0x367aee['id'],_0x1d3a40=_0x367aee[_0x257b8c(0x277)]||[],_0x211a5c=_0x1d3a40[_0x257b8c(0x8da)]>0x0,_0x9b016=_0x367aee[_0x257b8c(0x58b)]===_0x257b8c(0x839);let _0x4b1026='';_0x211a5c?_0x4b1026=_0x257b8c(0x397)+_0x1d3a40[_0x257b8c(0x8da)]+_0x257b8c(0xa31):_0x4b1026=_0x257b8c(0xec5)+(_0x9b016?'bg-green-200\x20text-green-800':_0x257b8c(0x5bb))+'\x22>'+(_0x9b016?_0x257b8c(0xd06):_0x257b8c(0xb54))+_0x257b8c(0xbc0);const _0x789d59=!_0x9b016?'disabled\x20bg-gray-400\x20cursor-not-allowed':'',_0x9e6336=!_0x9b016?_0x257b8c(0xb55):'';let _0x2fb485=_0x9b016?_0x257b8c(0x341):_0x257b8c(0x8c5);_0x358993+=_0x257b8c(0x8a3)+_0x16f828+_0x257b8c(0x971)+_0x367aee[_0x257b8c(0x3e0)]+_0x257b8c(0xb0d)+_0x4b1026+_0x257b8c(0x730)+_0x789d59+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x9e6336+_0x257b8c(0xa7f)+_0x2fb485+_0x257b8c(0x20b);}),_0x358993+=_0x48ad81(0x504);}_0x358993+=_0x48ad81(0xd14);}_0x440263[_0x48ad81(0x7fc)]=_0x358993;}async function handleDeepDeleteBlueprintProject(_0x41aaa1){const _0x34599e=_0x4b15a0,_0x14dad1=doc(db,_0x34599e(0xc4a)+appId+_0x34599e(0x963),_0x41aaa1),_0x217104=await getDoc(_0x14dad1);if(!_0x217104['exists']()){showMessage(_0x34599e(0x7e6));return;}const _0x5531c8=_0x217104[_0x34599e(0x7f7)]()[_0x34599e(0x6b1)];showConfirmation(_0x34599e(0xc7e)+_0x5531c8+_0x34599e(0x9a3),async()=>{const _0x3c717d=_0x34599e;showMessage(_0x3c717d(0x85c));try{const _0x12fb00=writeBatch(db),_0x2bf244=_0x217104['data'](),_0x3dc5f6=_0x2bf244['topics']||{};for(const _0x16278b in _0x3dc5f6){const _0x16cc99=doc(db,_0x3c717d(0xc4a)+appId+_0x3c717d(0xe3f)+_0x41aaa1+_0x3c717d(0xed9),_0x16278b);_0x12fb00[_0x3c717d(0xe52)](_0x16cc99);}const _0x32f32e=new Set();for(const _0x1afbd6 in _0x3dc5f6){_0x3dc5f6[_0x1afbd6][_0x3c717d(0x277)]&&_0x3dc5f6[_0x1afbd6]['linkedQuizIds'][_0x3c717d(0x4aa)](_0x4811ad=>_0x32f32e[_0x3c717d(0x72b)](_0x4811ad));}for(const _0x459883 of _0x32f32e){await handleDeleteQuiz(_0x459883,![]);}_0x12fb00[_0x3c717d(0xe52)](_0x14dad1),await _0x12fb00[_0x3c717d(0x644)](),showMessage(_0x3c717d(0x8d7)+_0x5531c8+_0x3c717d(0xa21)),showBlueprintProjects();}catch(_0x16eb15){console[_0x3c717d(0x7cd)]('Error\x20during\x20deep\x20delete:',_0x16eb15),showMessage(_0x3c717d(0x559));}});}async function openTopicQuizBank(_0x1f1044){const _0x4a8004=_0x4b15a0,_0xf168f4=document[_0x4a8004(0xb9f)]('topic-quiz-bank-modal'),_0x508f6c=document[_0x4a8004(0xb9f)]('topic-bank-list'),_0x596ad9=document[_0x4a8004(0xb9f)](_0x4a8004(0x476));try{await ensureGlobalQuizzesLoaded();const _0x481944=doc(db,_0x4a8004(0xc4a)+appId+_0x4a8004(0x963),currentBlueprintProjectId),_0x3cb41b=await getDoc(_0x481944);if(!_0x3cb41b[_0x4a8004(0x37f)]())return;const _0x29e18f=_0x3cb41b['data'](),_0xbdb80c=_0x29e18f[_0x4a8004(0xb27)][_0x1f1044];document[_0x4a8004(0xb9f)](_0x4a8004(0x64d))[_0x4a8004(0x1d0)]=_0xbdb80c['subTopic'];const _0x1b7ffe=_0xbdb80c[_0x4a8004(0x277)]||[];_0x596ad9[_0x4a8004(0xbd3)]['toggle'](_0x4a8004(0x81c),_0x1b7ffe['length']===0x0),_0x596ad9[_0x4a8004(0x760)]=()=>handleClearAllLinksForTopic(_0x1f1044);if(_0x1b7ffe['length']===0x0)_0x508f6c[_0x4a8004(0x7fc)]=_0x4a8004(0xa9c);else{const _0x405632=allQuizzesGlobal[_0x4a8004(0xce3)](_0x5883f5=>_0x1b7ffe[_0x4a8004(0xa36)](_0x5883f5['id']));_0x508f6c[_0x4a8004(0x7fc)]=_0x405632[_0x4a8004(0xa0d)](_0xd098f1=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0xd098f1['id']+'\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>'+_0xd098f1[_0x4a8004(0x257)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0xd098f1['id']+_0x4a8004(0x88c)+_0xd098f1['questions'][_0x4a8004(0x8da)]+'\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xd098f1['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xd098f1['id']+_0x4a8004(0xadd)+_0xd098f1['id']+_0x4a8004(0xe5b)+_0xd098f1['id']+_0x4a8004(0xe03)+_0xd098f1['id']+_0x4a8004(0x6b9)+_0xd098f1['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22'+_0x1f1044+_0x4a8004(0x986)+_0xd098f1['id']+_0x4a8004(0x9bf))[_0x4a8004(0x510)]('');}document['getElementById'](_0x4a8004(0x934))['onclick']=()=>{openQuizSelectorForBlueprint(_0x1f1044);},document[_0x4a8004(0xb9f)](_0x4a8004(0x1c8))[_0x4a8004(0x760)]=()=>_0xf168f4[_0x4a8004(0xbd3)][_0x4a8004(0x72b)]('hidden'),_0xf168f4[_0x4a8004(0xbd3)][_0x4a8004(0x5f4)]('hidden');}catch(_0x19ac4e){showMessage(_0x19ac4e[_0x4a8004(0x81b)]);}}async function openQuizSelectorForBlueprint(_0x1300cc){const _0x2a087f=_0x4b15a0,_0x229e75=document[_0x2a087f(0xb9f)](_0x2a087f(0x62c)),_0x8dd455=document[_0x2a087f(0xb9f)](_0x2a087f(0x6c0));_0x8dd455['classList'][_0x2a087f(0x72b)](_0x2a087f(0x81c)),document[_0x2a087f(0xb9f)](_0x2a087f(0x786))?.[_0x2a087f(0x5f4)]();const _0x5d5aa6=document[_0x2a087f(0xeb2)](_0x2a087f(0xa6e));_0x5d5aa6['id']=_0x2a087f(0x786),_0x5d5aa6['className']=_0x2a087f(0xb84),_0x5d5aa6[_0x2a087f(0x1d0)]=_0x2a087f(0x22a),_0x5d5aa6[_0x2a087f(0x417)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x229e75['classList'][_0x2a087f(0x5f4)](_0x2a087f(0x81c)),renderQuizBankListForMultiSelect(''),document[_0x2a087f(0xb9f)]('bulk-quiz-settings-btn')['style'][_0x2a087f(0x4e3)]='none',_0x229e75['querySelector']('.flex.justify-between.items-center')['appendChild'](_0x5d5aa6);const _0x4032f2=(_0x4f711d=![])=>{const _0x418c2d=_0x2a087f;_0x229e75[_0x418c2d(0xbd3)][_0x418c2d(0x72b)](_0x418c2d(0x81c)),document['getElementById'](_0x418c2d(0x33c))['style'][_0x418c2d(0x4e3)]=_0x418c2d(0x5bc),_0x5d5aa6['remove'](),_0x4f711d&&openTopicQuizBank(_0x1300cc);};_0x5d5aa6[_0x2a087f(0x760)]=async()=>{const _0x107ae3=_0x2a087f,_0x430c1b=Array['from'](document[_0x107ae3(0x3eb)](_0x107ae3(0x309)))['map'](_0x5dd569=>_0x5dd569['value']);if(_0x430c1b['length']===0x0)return;try{const _0xfba13e=doc(db,'artifacts/'+appId+_0x107ae3(0x963),currentBlueprintProjectId),_0x298726=(await getDoc(_0xfba13e))[_0x107ae3(0x7f7)](),_0x380bfa=_0x298726[_0x107ae3(0xb27)][_0x1300cc]['linkedQuizIds']||[],_0x5b6ad9=[...new Set([..._0x380bfa,..._0x430c1b])];await updateDoc(_0xfba13e,{['topics.'+_0x1300cc+_0x107ae3(0xd00)]:_0x5b6ad9}),showMessage(_0x107ae3(0x51b)+_0x430c1b[_0x107ae3(0x8da)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x4032f2(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3da619){console[_0x107ae3(0x7cd)](_0x107ae3(0x9c8),_0x3da619);}},document['getElementById']('cancel-quiz-bank-btn')[_0x2a087f(0x760)]=()=>_0x4032f2(!![]);}catch(_0x8cca63){showMessage(_0x8cca63['message']),_0x8dd455[_0x2a087f(0xbd3)][_0x2a087f(0x5f4)](_0x2a087f(0x81c));}}function handleClearLinkedQuiz(_0xe059c){const _0x56ba1b=_0x4b15a0;showConfirmation(_0x56ba1b(0x7a1),async()=>{const _0x26e7b4=_0x56ba1b;try{const _0x4ab23e=doc(db,_0x26e7b4(0xc4a)+appId+_0x26e7b4(0x963),currentBlueprintProjectId);await updateDoc(_0x4ab23e,{[_0x26e7b4(0x49e)+_0xe059c+'.linkedQuizId']:deleteField()}),showMessage(_0x26e7b4(0x91d)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5e412f){console['error']('Error\x20clearing\x20linked\x20quiz:',_0x5e412f),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x5ce215=_0x4b15a0,_0x27ec40=prompt(_0x5ce215(0xa35));if(!_0x27ec40||_0x27ec40[_0x5ce215(0xbdc)]()==='')return;const _0x3330b8=prompt(_0x5ce215(0xede),_0x5ce215(0x244)),_0x1a28af=prompt(_0x5ce215(0x8de),_0x5ce215(0xbd0)),_0x371ff4=_0x5ce215(0xdff)+Date[_0x5ce215(0xb38)]()+Math[_0x5ce215(0x7c9)]()[_0x5ce215(0xbb9)](0x24)[_0x5ce215(0x92d)](0x2,0x9),_0x497f05={'sara':_0x3330b8,'mainTopic':_0x1a28af,'subTopic':_0x27ec40[_0x5ce215(0xbdc)](),'status':_0x5ce215(0x3d2),'lessonContent':null};try{const _0x43c4b4=doc(db,_0x5ce215(0xc4a)+appId+_0x5ce215(0x963),currentBlueprintProjectId);await updateDoc(_0x43c4b4,{['topics.'+_0x371ff4]:_0x497f05}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x202b37){console['error'](_0x5ce215(0x40f),_0x202b37),showMessage(_0x5ce215(0xc3d));}}async function editTopicInProject(_0x42130c){const _0x50eb72=_0x4b15a0,_0x2e110e=document['querySelector'](_0x50eb72(0x89a)+_0x42130c+'\x22]'),_0x32073d=_0x2e110e['querySelector'](_0x50eb72(0x95e)),_0x285564=_0x32073d[_0x50eb72(0x1d0)],_0x46c381=prompt(_0x50eb72(0x9bd),_0x285564);if(!_0x46c381||_0x46c381[_0x50eb72(0xbdc)]()===''||_0x46c381['trim']()===_0x285564)return;try{const _0xcbccec=doc(db,_0x50eb72(0xc4a)+appId+_0x50eb72(0x963),currentBlueprintProjectId);await updateDoc(_0xcbccec,{['topics.'+_0x42130c+'.subTopic']:_0x46c381[_0x50eb72(0xbdc)]()}),_0x32073d['textContent']=_0x46c381['trim'](),showMessage(_0x50eb72(0xba4));}catch(_0x44388a){console[_0x50eb72(0x7cd)]('Error\x20editing\x20topic:',_0x44388a),showMessage(_0x50eb72(0xb19));}}async function deleteTopicFromProject(_0x327f1d){const _0x4e0609=_0x4b15a0;if(!confirm(_0x4e0609(0xbe5)))return;try{const _0x5cc54d=doc(db,_0x4e0609(0xc4a)+appId+_0x4e0609(0x963),currentBlueprintProjectId);await updateDoc(_0x5cc54d,{[_0x4e0609(0x49e)+_0x327f1d]:deleteField()}),document['querySelector']('[data-topic-id=\x22'+_0x327f1d+'\x22]')[_0x4e0609(0x5f4)](),showMessage(_0x4e0609(0xd22));}catch(_0x453aa2){console[_0x4e0609(0x7cd)]('Error\x20deleting\x20topic:',_0x453aa2),showMessage(_0x4e0609(0x9a0));}}async function generateAndSaveLessonForBlueprint(_0x7ce22c,_0x48a108,_0x303d1d){handleGenerateAndShowLesson(_0x48a108,_0x303d1d);const _0x2fbc75=setInterval(async()=>{const _0x5c158f=_0x33c9,_0x2695a7=document[_0x5c158f(0xb9f)](_0x5c158f(0xb4b)),_0x39e1d4=_0x2695a7[_0x5c158f(0xbd3)][_0x5c158f(0x959)](_0x5c158f(0x81c));if(_0x39e1d4){clearInterval(_0x2fbc75);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x78e354={'point':document[_0x5c158f(0xb9f)]('pointContent')['innerHTML'],'memory':document[_0x5c158f(0xb9f)](_0x5c158f(0x433))[_0x5c158f(0x7fc)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x5c158f(0x7f3))[_0x5c158f(0x7fc)]};try{const _0x461a7d=doc(db,_0x5c158f(0xc4a)+appId+_0x5c158f(0x963),currentBlueprintProjectId),_0x2933a8=doc(db,_0x5c158f(0xc4a)+appId+_0x5c158f(0xe3f)+currentBlueprintProjectId+_0x5c158f(0xed9),_0x7ce22c),_0x368078=writeBatch(db);_0x368078[_0x5c158f(0x624)](_0x2933a8,{'content':_0x78e354}),_0x368078[_0x5c158f(0x86a)](_0x461a7d,{[_0x5c158f(0x49e)+_0x7ce22c+_0x5c158f(0x7d3)]:_0x5c158f(0x839)}),await _0x368078[_0x5c158f(0x644)](),console[_0x5c158f(0xe84)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x7ce22c+'\x20สำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x340611){console[_0x5c158f(0x7cd)](_0x5c158f(0x857),_0x340611);}}}},0x3e8);}function displayHalfMarkResult(_0x2ca863,_0x101a91){const _0xffa99b=_0x4b15a0,_0x3c4434=_0x2ca863>=_0x101a91/0x2,_0x1207a6=_0x3c4434?'bg-green-100':_0xffa99b(0x8df),_0x76c115=_0x3c4434?_0xffa99b(0x50d):_0xffa99b(0xd09),_0x33cd8e=_0x3c4434?'text-green-800':_0xffa99b(0xdbc),_0x2932e8=_0x3c4434?_0xffa99b(0xb3e):_0xffa99b(0xbca),_0x4a6cdc=_0x3c4434?_0xffa99b(0xa9e):_0xffa99b(0xe7b);let _0x464d02=_0xffa99b(0x87d)+_0x1207a6+_0xffa99b(0x580)+_0x76c115+_0xffa99b(0xc04)+_0x33cd8e+_0xffa99b(0x22b)+_0x2932e8+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x4a6cdc+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x464d02,studentResultArea['classList'][_0xffa99b(0x5f4)](_0xffa99b(0x81c)),studentQuizArea[_0xffa99b(0xbd3)][_0xffa99b(0x72b)](_0xffa99b(0x81c)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x3c4434});}function displayPerfectScoreResult(_0x40bdad,_0x554ab2){const _0x1c3052=_0x4b15a0,_0x3a89e2=_0x40bdad===_0x554ab2,_0x240d37=_0x3a89e2?_0x1c3052(0x26c):_0x1c3052(0xdda),_0x34e854=_0x3a89e2?_0x1c3052(0x8e9):_0x1c3052(0xb20),_0x15b457=_0x3a89e2?_0x1c3052(0x8a8):'text-blue-800',_0x5a8dee=_0x3a89e2?_0x1c3052(0x9ae):_0x1c3052(0xdb2),_0x15e8a3=_0x3a89e2?_0x1c3052(0xaef):_0x1c3052(0xeb8);let _0x22383d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x240d37+_0x1c3052(0x580)+_0x34e854+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x15b457+_0x1c3052(0x22b)+_0x5a8dee+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x15e8a3+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x22383d,studentResultArea['classList'][_0x1c3052(0x5f4)](_0x1c3052(0x81c)),studentQuizArea[_0x1c3052(0xbd3)][_0x1c3052(0x72b)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x40bdad,'totalQuestions':_0x554ab2});}function renderIndividualComparisonTable(_0x143154,_0x5ce37d){const _0xbddaac=_0x4b15a0;_0x143154[_0xbddaac(0x8c7)]((_0x158acd,_0x1d9bd0)=>(_0x1d9bd0[_0xbddaac(0xa45)]??-Infinity)-(_0x158acd[_0xbddaac(0xa45)]??-Infinity));let _0x1240b3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x143154[_0xbddaac(0x8da)]===0x0?_0x1240b3+=_0xbddaac(0x3ac):_0x143154[_0xbddaac(0x4aa)]((_0x522b8e,_0x39e759)=>{const _0x5cec14=_0xbddaac;let _0x107e34='-',_0x12c2ca='';if(_0x522b8e[_0x5cec14(0x445)]!==null){const _0x38cb8a=_0x522b8e['gain']>0x0?_0x5cec14(0xed7):_0x522b8e['gain']<0x0?_0x5cec14(0xd04):_0x5cec14(0x282),_0x19f19b=_0x522b8e[_0x5cec14(0x445)]>0x0?'+':'';_0x107e34='<span\x20class=\x22font-bold\x20'+_0x38cb8a+'\x22>'+_0x19f19b+_0x522b8e[_0x5cec14(0x445)]+_0x5cec14(0xbc0);if(_0x522b8e[_0x5cec14(0x445)]>0x0)_0x12c2ca=_0x5cec14(0x5ee);else _0x522b8e[_0x5cec14(0x445)]<0x0?_0x12c2ca=_0x5cec14(0xbe4):_0x12c2ca=_0x5cec14(0x316);}let _0x4d7ac0='-';if(_0x522b8e[_0x5cec14(0xa45)]!==null){const _0x4da64b=_0x522b8e['tGain']>0x0?'text-green-600':_0x522b8e[_0x5cec14(0xa45)]<0x0?_0x5cec14(0xd04):_0x5cec14(0x282),_0x76cc=_0x522b8e[_0x5cec14(0xa45)]>0x0?'+':'';_0x4d7ac0=_0x5cec14(0x7d9)+_0x4da64b+'\x22>'+_0x76cc+_0x522b8e[_0x5cec14(0xa45)]['toFixed'](0x2)+'</span>';}_0x1240b3+=_0x5cec14(0xbac)+(_0x39e759+0x1)+_0x5cec14(0xc06)+_0x522b8e[_0x5cec14(0x757)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x522b8e[_0x5cec14(0x378)]??'-')+_0x5cec14(0xd19)+(_0x522b8e[_0x5cec14(0x4de)]??'-')+_0x5cec14(0xb8e)+_0x107e34+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x12c2ca+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x522b8e['preTScore']?.[_0x5cec14(0x63d)](0x2)??'-')+_0x5cec14(0x3bc)+(_0x522b8e['postTScore']?.[_0x5cec14(0x63d)](0x2)??'-')+_0x5cec14(0xb8e)+_0x4d7ac0+_0x5cec14(0x77e);}),_0x1240b3+='</tbody></table></div>',_0x5ce37d[_0xbddaac(0x7fc)]=_0x1240b3;}function handleRenameQuiz(_0x342d6b,_0x4c07c5){const _0x4cd8c0=_0x4b15a0;actionTargetId=_0x342d6b,document[_0x4cd8c0(0xb9f)](_0x4cd8c0(0xcac))['value']=_0x4c07c5,renameQuizModal['classList'][_0x4cd8c0(0x5f4)](_0x4cd8c0(0x81c));}function setupComparisonModalTabs(){const _0x48ccd4=_0x4b15a0,_0x511183=document['getElementById'](_0x48ccd4(0x3ef)),_0x269c43=document[_0x48ccd4(0xb9f)](_0x48ccd4(0xc12)),_0x23a726=document[_0x48ccd4(0xb9f)]('comparison-overall-content'),_0x31c9dd=document[_0x48ccd4(0xb9f)]('comparison-individual-content');_0x511183['addEventListener'](_0x48ccd4(0xd6c),()=>{const _0x15ab0f=_0x48ccd4;_0x511183[_0x15ab0f(0xbd3)][_0x15ab0f(0x72b)](_0x15ab0f(0x329)),_0x269c43[_0x15ab0f(0xbd3)][_0x15ab0f(0x5f4)]('active'),_0x23a726[_0x15ab0f(0xbd3)][_0x15ab0f(0x5f4)](_0x15ab0f(0x81c)),_0x31c9dd['classList']['add'](_0x15ab0f(0x81c));}),_0x269c43[_0x48ccd4(0x95a)](_0x48ccd4(0xd6c),()=>{const _0x4160a1=_0x48ccd4;_0x269c43[_0x4160a1(0xbd3)]['add']('active'),_0x511183[_0x4160a1(0xbd3)][_0x4160a1(0x5f4)](_0x4160a1(0x329)),_0x31c9dd[_0x4160a1(0xbd3)][_0x4160a1(0x5f4)](_0x4160a1(0x81c)),_0x23a726[_0x4160a1(0xbd3)]['add']('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x1584fd=_0x4b15a0;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x46f889=doc(db,'artifacts/'+appId+_0x1584fd(0x1e4),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x46f889,_0x15b2ed=>{const _0x20a70e=_0x1584fd;if(!_0x15b2ed[_0x20a70e(0x37f)]()){showMessage(_0x20a70e(0xcd3));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x20a70e(0x1e2)?showView(_0x20a70e(0x2c6)):showView(_0x20a70e(0x441));return;}const _0x469fb5=_0x15b2ed[_0x20a70e(0x7f7)]();_0x469fb5[_0x20a70e(0x38d)]&&(currentQuizData=_0x469fb5[_0x20a70e(0x38d)]);!currentQuizData&&_0x469fb5['quizId']&&((async()=>{const _0x28f52a=_0x20a70e;try{const _0x271853=doc(db,_0x28f52a(0xc4a)+appId+_0x28f52a(0x671),_0x469fb5[_0x28f52a(0x515)]),_0x4b9e52=await getDoc(_0x271853);_0x4b9e52[_0x28f52a(0x37f)]()&&(currentQuizData={'id':_0x4b9e52['id'],..._0x4b9e52[_0x28f52a(0x7f7)]()});}catch(_0x5339a5){console['error']('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x5339a5);}})());switch(_0x469fb5[_0x20a70e(0x58b)]){case _0x20a70e(0xa70):if(currentMode==='admin'){const _0x34f7ac=_0x469fb5[_0x20a70e(0xb9c)]?Object[_0x20a70e(0x883)](_0x469fb5['players']):[],_0x2db75f=_0x34f7ac[_0x20a70e(0xce3)](([_0x78071,_0x43d53a])=>_0x43d53a[_0x20a70e(0x58b)]===_0x20a70e(0x329)),_0x502851=document['getElementById'](_0x20a70e(0x911));if(_0x502851)_0x502851[_0x20a70e(0x1d0)]=_0x2db75f['length'];const _0x58f3a6=document['getElementById'](_0x20a70e(0x1d6));_0x58f3a6&&(_0x58f3a6[_0x20a70e(0x7fc)]=_0x2db75f[_0x20a70e(0xa0d)](([_0x4e4c7d,_0xde18ef])=>_0x20a70e(0x4a2)+_0x4e4c7d+_0x20a70e(0xb62)+_0x4e4c7d+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''));const _0x2e4023=document[_0x20a70e(0xb9f)](_0x20a70e(0xab0));_0x2e4023&&(_0x2e4023[_0x20a70e(0x417)]=_0x2db75f[_0x20a70e(0x8da)]===0x0);}else showView(_0x20a70e(0xbda)),liveGameView[_0x20a70e(0x7fc)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x20a70e(0xac0);break;case _0x20a70e(0x9b0):const _0x4fceee=_0x469fb5[_0x20a70e(0x224)];if(currentQuizData&&currentQuizData['questions'][_0x4fceee]){const _0x34b8f4=currentQuizData[_0x20a70e(0xa09)][_0x4fceee],_0x498852=_0x469fb5[_0x20a70e(0x9a1)]||_0x20a70e(0xce8);switch(_0x498852){case'summary_chart':currentMode===_0x20a70e(0x1e2)?showAdminSummaryView(_0x469fb5,_0x34b8f4):showPlayerSummaryView(_0x469fb5,currentStudentName);break;case _0x20a70e(0xd70):currentMode===_0x20a70e(0x1e2)&&showTop5LeaderboardView(_0x469fb5);break;case _0x20a70e(0xce8):default:if(currentMode===_0x20a70e(0x1e2)){const _0x1d73cd=writeBatch(db);let _0x2bcaf2=![];Object[_0x20a70e(0x883)](_0x469fb5['players'])['forEach'](([_0x295bdb,_0x12b986])=>{const _0x25fa04=_0x20a70e;if(_0x12b986[_0x25fa04(0x58b)]===_0x25fa04(0x329)&&_0x12b986[_0x25fa04(0xc27)]&&!_0x12b986['isScored']){_0x2bcaf2=!![];const _0x2b01c7=_0x12b986['submittedAt'][_0x25fa04(0xece)]()-_0x469fb5[_0x25fa04(0x888)][_0x25fa04(0xece)]();let _0x3ad6f8=0x0;if(_0x12b986['lastAnswerCorrect']){const _0x3750bb=0x3e8,_0x5da2f0=0x1f4,_0x630a1e=0x4e20;let _0x1df87f=_0x2b01c7/_0x630a1e;if(_0x1df87f>0x1)_0x1df87f=0x1;const _0x395b2b=Math[_0x25fa04(0x566)](_0x1df87f*_0x5da2f0);_0x3ad6f8=_0x3750bb-_0x395b2b;}const _0x18601c=doc(db,_0x25fa04(0xc4a)+appId+_0x25fa04(0x1e4),currentLiveGameId);_0x1d73cd[_0x25fa04(0x86a)](_0x18601c,{[_0x25fa04(0x36c)+_0x295bdb+_0x25fa04(0xb49)]:increment(_0x3ad6f8),['players.'+_0x295bdb+_0x25fa04(0xea6)]:_0x3ad6f8,[_0x25fa04(0x36c)+_0x295bdb+_0x25fa04(0x1e6)]:!![]});}});_0x2bcaf2&&_0x1d73cd['commit']()[_0x20a70e(0x37b)](_0x2208c7=>console['error'](_0x20a70e(0x469),_0x2208c7));lastRenderedAdminQuestionIndex!==_0x4fceee&&(showAdminLiveQuestionView(_0x34b8f4,_0x4fceee,currentQuizData[_0x20a70e(0xa09)]['length']),lastRenderedAdminQuestionIndex=_0x4fceee);const _0x23e816=_0x469fb5[_0x20a70e(0xb9c)]||{},_0x14c68c=Object[_0x20a70e(0x4a0)](_0x23e816)[_0x20a70e(0xce3)](_0x49cbce=>_0x49cbce[_0x20a70e(0x58b)]===_0x20a70e(0x329)),_0x55cad2=_0x14c68c[_0x20a70e(0x8da)],_0x3d5da9=_0x14c68c[_0x20a70e(0xce3)](_0x545455=>_0x545455[_0x20a70e(0x7dc)]===!![])[_0x20a70e(0x8da)],_0x391f17=document[_0x20a70e(0xb9f)](_0x20a70e(0x5ce));if(_0x391f17)_0x391f17[_0x20a70e(0x1d0)]=_0x3d5da9+'/'+_0x55cad2;const _0x5313d7=document['getElementById'](_0x20a70e(0xcb0));if(_0x5313d7){let _0x147212=Object[_0x20a70e(0x883)](_0x23e816)[_0x20a70e(0xce3)](([_0x5c218c,_0x42579a])=>_0x42579a[_0x20a70e(0x58b)]==='active')[_0x20a70e(0xa0d)](([_0x4efcc7,_0x24853d])=>{const _0x5bde1d=_0x20a70e,_0x26429f=_0x24853d['answeredCurrentQuestion']===!![],_0x515991=_0x26429f?_0x5bde1d(0xc93):_0x5bde1d(0xe92),_0x3bd2db=_0x26429f?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x5bde1d(0x47f);return _0x5bde1d(0x523)+_0x515991+_0x5bde1d(0x41e)+_0x3bd2db+_0x5bde1d(0x1e9)+_0x4efcc7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x4efcc7+_0x5bde1d(0x6ca);})['join']('');_0x5313d7['innerHTML']=_0x147212||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x55cad2>0x0&&_0x3d5da9===_0x55cad2&&revealAnswerForAdmin(_0x4fceee,currentQuizData[_0x20a70e(0xa09)][_0x20a70e(0x8da)]);}else{const _0x25913c=_0x469fb5['players'][currentStudentName];_0x25913c&&!_0x25913c[_0x20a70e(0x7dc)]&&showStudentLiveQuestionView(_0x34b8f4,_0x4fceee,currentQuizData[_0x20a70e(0xa09)]['length']);}break;}}break;case _0x20a70e(0xd1f):showPodiumView(_0x469fb5[_0x20a70e(0xb9c)],_0x20a70e(0xe50));break;}});}async function openGlobalActivityModal(){const _0x389af5=_0x4b15a0;if(allQuizzesGlobal[_0x389af5(0x8da)]===0x0){const _0x18da1d=await getDocs(collection(db,_0x389af5(0xc4a)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x18da1d['docs'][_0x389af5(0xa0d)](_0x3a3b7c=>({'id':_0x3a3b7c['id'],..._0x3a3b7c[_0x389af5(0x7f7)]()}));}renderGlobalActivityList(''),document[_0x389af5(0xb9f)](_0x389af5(0xab1))['classList'][_0x389af5(0x5f4)](_0x389af5(0x81c));}function renderGlobalActivityList(_0x1a1bb1=''){const _0xb2b77d=_0x4b15a0,_0x536815=document[_0xb2b77d(0xb9f)]('global-activity-quiz-list'),_0x498af0=_0x1a1bb1['toLowerCase']()[_0xb2b77d(0xbdc)](),_0x155a31=allQuizzesGlobal[_0xb2b77d(0xa0d)](_0x337387=>({..._0x337387,'projectName':allProjects[_0xb2b77d(0x59d)](_0x41d67f=>_0x41d67f['id']===_0x337387[_0xb2b77d(0xa0f)])?.[_0xb2b77d(0x6b1)]||_0xb2b77d(0xd35)}))[_0xb2b77d(0xce3)](_0x59a735=>(_0x59a735[_0xb2b77d(0x257)]||'')[_0xb2b77d(0x724)]()[_0xb2b77d(0xa36)](_0x498af0)||(_0x59a735['projectName']||'')['toLowerCase']()[_0xb2b77d(0xa36)](_0x498af0));document[_0xb2b77d(0xb9f)](_0xb2b77d(0xeb3))['textContent']='('+_0x155a31[_0xb2b77d(0x8da)]+_0xb2b77d(0xee2),_0x536815[_0xb2b77d(0x7fc)]=_0x155a31['length']?_0x155a31[_0xb2b77d(0xa0d)](_0x45fdc0=>_0xb2b77d(0x395)+(_0x45fdc0[_0xb2b77d(0x257)]||_0xb2b77d(0xc74))+_0xb2b77d(0x2db)+(_0x45fdc0[_0xb2b77d(0xa09)]?.['length']||0x0)+_0xb2b77d(0x848)+_0x45fdc0[_0xb2b77d(0x6b1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x45fdc0['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x45fdc0['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x45fdc0['id']+_0xb2b77d(0x260)+_0x45fdc0['id']+_0xb2b77d(0xbe9))[_0xb2b77d(0x510)](''):_0xb2b77d(0xaf5);}async function handleKickPlayer(_0x20e653){const _0x15f979=_0x4b15a0;if(!currentLiveGameId||!_0x20e653)return;const _0x56c4f7=doc(db,_0x15f979(0xc4a)+appId+'/public/data/liveGames',currentLiveGameId),_0x4dd340={};_0x4dd340[_0x15f979(0x36c)+_0x20e653+_0x15f979(0x7d3)]='inactive';try{await updateDoc(_0x56c4f7,_0x4dd340);}catch(_0x23d6fe){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x20e653+':',_0x23d6fe),showMessage(_0x15f979(0xab3));}}async function authenticateUser(){const _0x13bd94=_0x4b15a0;try{typeof __initial_auth_token!==_0x13bd94(0xc70)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x2163a6){console[_0x13bd94(0x7cd)](_0x13bd94(0x431),_0x2163a6),showMessage(_0x13bd94(0x23d));}}function showView(_0x11bb1b){const _0x2acc46=_0x4b15a0;adminView['classList'][_0x2acc46(0x72b)](_0x2acc46(0x81c)),studentView[_0x2acc46(0xbd3)]['add']('hidden'),projectDashboardView['classList'][_0x2acc46(0x72b)]('hidden'),projectDetailView['classList']['add']('hidden'),quizResultsView[_0x2acc46(0xbd3)][_0x2acc46(0x72b)](_0x2acc46(0x81c)),liveGameView[_0x2acc46(0xbd3)][_0x2acc46(0x72b)]('hidden'),document[_0x2acc46(0xb9f)]('blueprint-project-manager-view')['classList'][_0x2acc46(0x72b)](_0x2acc46(0x81c)),studentInitialView['classList'][_0x2acc46(0x72b)](_0x2acc46(0x81c)),studentJoinGameView['classList'][_0x2acc46(0x72b)](_0x2acc46(0x81c)),studentNameSelectionView[_0x2acc46(0xbd3)][_0x2acc46(0x72b)](_0x2acc46(0x81c)),studentQuizArea[_0x2acc46(0xbd3)][_0x2acc46(0x72b)](_0x2acc46(0x81c)),studentResultArea[_0x2acc46(0xbd3)]['add'](_0x2acc46(0x81c)),studentReadingArea[_0x2acc46(0xbd3)]['add']('hidden');const _0x479ec0=document[_0x2acc46(0xb9f)](_0x2acc46(0x7d7)),_0x2fbd92=document['getElementById']('student-progress-view');if(_0x479ec0)_0x479ec0[_0x2acc46(0xbd3)]['add'](_0x2acc46(0x81c));if(_0x2fbd92)_0x2fbd92[_0x2acc46(0xbd3)][_0x2acc46(0x72b)]('hidden');switch(_0x11bb1b){case _0x2acc46(0x5b4):adminView[_0x2acc46(0xbd3)][_0x2acc46(0x5f4)](_0x2acc46(0x81c)),projectDashboardView[_0x2acc46(0xbd3)][_0x2acc46(0x5f4)](_0x2acc46(0x81c));break;case _0x2acc46(0x2c6):adminView[_0x2acc46(0xbd3)][_0x2acc46(0x5f4)](_0x2acc46(0x81c)),projectDetailView[_0x2acc46(0xbd3)][_0x2acc46(0x5f4)]('hidden');break;case _0x2acc46(0x84a):adminView[_0x2acc46(0xbd3)][_0x2acc46(0x5f4)]('hidden'),quizResultsView[_0x2acc46(0xbd3)][_0x2acc46(0x5f4)](_0x2acc46(0x81c));break;case'student':studentView['classList'][_0x2acc46(0x5f4)]('hidden'),studentInitialView[_0x2acc46(0xbd3)]['remove']('hidden');break;case _0x2acc46(0xbda):liveGameView[_0x2acc46(0xbd3)][_0x2acc46(0x5f4)](_0x2acc46(0x81c));break;case _0x2acc46(0xb90):studentView['classList'][_0x2acc46(0x5f4)](_0x2acc46(0x81c));if(_0x479ec0)_0x479ec0['classList'][_0x2acc46(0x5f4)](_0x2acc46(0x81c));break;case _0x2acc46(0x233):studentView[_0x2acc46(0xbd3)][_0x2acc46(0x5f4)]('hidden');if(_0x2fbd92)_0x2fbd92['classList'][_0x2acc46(0x5f4)](_0x2acc46(0x81c));break;default:studentView['classList']['remove'](_0x2acc46(0x81c)),studentInitialView['classList'][_0x2acc46(0x5f4)](_0x2acc46(0x81c));break;}}function showJoinGameView(){const _0x557013=_0x4b15a0;studentInitialView[_0x557013(0xbd3)]['add']('hidden'),studentJoinGameView[_0x557013(0xbd3)]['remove'](_0x557013(0x81c));}async function handleSaveVisibilitySettings(){const _0x501474=_0x4b15a0;if(!currentProjectId)return;const _0x416a32=doc(db,_0x501474(0xc4a)+appId+_0x501474(0x47d),currentProjectId);try{await updateDoc(_0x416a32,{'settings.showInStudentDashboard':document[_0x501474(0xb9f)](_0x501474(0x3cb))[_0x501474(0x270)],'settings.isPasscodeEnabled':document[_0x501474(0xb9f)](_0x501474(0x61c))[_0x501474(0x270)],'settings.passcode':document[_0x501474(0xb9f)](_0x501474(0x5da))[_0x501474(0x232)][_0x501474(0xbdc)]()}),showMessage(_0x501474(0x96c));}catch(_0x58cb27){console['error'](_0x501474(0x2b9),_0x58cb27),showMessage(_0x501474(0x21f));}}function setupEventListeners(){const _0x26fcf6=_0x4b15a0;document['getElementById'](_0x26fcf6(0x4d4))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x38c355=_0x26fcf6;document[_0x38c355(0xb9f)](_0x38c355(0x7d1))[_0x38c355(0xbd3)][_0x38c355(0x72b)]('hidden');}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x279))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x22109e=_0x26fcf6,_0x5f168b=document[_0x22109e(0xb9f)](_0x22109e(0x7d1)),_0x4a44d5=document['getElementById'](_0x22109e(0xd30)),_0x4b71ae=document[_0x22109e(0xb9f)](_0x22109e(0xce0))[_0x22109e(0x232)],_0x18cf9f=_0x4a44d5['dataset']['answerValue'],_0x44f8b9=JSON[_0x22109e(0x717)](_0x4a44d5[_0x22109e(0x273)]['question']),_0x52eb21=JSON[_0x22109e(0x717)](_0x4a44d5[_0x22109e(0x273)][_0x22109e(0xd82)]),_0x8f4079=_0x4a44d5[_0x22109e(0x273)]['playerName'];_0x5f168b[_0x22109e(0xbd3)][_0x22109e(0x72b)](_0x22109e(0x81c)),handleSyncAnswerSubmit(_0x18cf9f,_0x44f8b9,_0x52eb21,_0x8f4079,![],_0x4b71ae);}),document[_0x26fcf6(0x3eb)](_0x26fcf6(0x2a6))['forEach'](_0x38f79c=>{const _0x4f18a7=_0x26fcf6;_0x38f79c[_0x4f18a7(0x95a)](_0x4f18a7(0xaa4),_0x506d94=>{const _0x246c16=_0x4f18a7,_0x2c6298=document[_0x246c16(0xb9f)](_0x246c16(0xb05));_0x506d94[_0x246c16(0x4ee)]['value']===_0x246c16(0x32c)?_0x2c6298['classList'][_0x246c16(0x5f4)](_0x246c16(0x81c)):_0x2c6298['classList']['add'](_0x246c16(0x81c));});}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xaa5))['addEventListener'](_0x26fcf6(0xaa4),_0x3a527f=>{const _0x4701d5=_0x26fcf6;document[_0x4701d5(0xb9f)]('sync-timer-duration-container')[_0x4701d5(0xbd3)][_0x4701d5(0x581)]('hidden',!_0x3a527f[_0x4701d5(0x4ee)][_0x4701d5(0x270)]);});const _0x2a6a8d=document[_0x26fcf6(0xb9f)]('cancel-confidence-btn'),_0x3fefd6=document[_0x26fcf6(0xb9f)](_0x26fcf6(0x825));_0x2a6a8d&&_0x3fefd6&&_0x2a6a8d['addEventListener'](_0x26fcf6(0xd6c),()=>{const _0x72182f=_0x26fcf6;_0x3fefd6[_0x72182f(0xbd3)][_0x72182f(0x72b)]('hidden'),_0x3fefd6[_0x72182f(0x273)][_0x72182f(0xc25)]='';});const _0x4d1fb4=document[_0x26fcf6(0xb9f)](_0x26fcf6(0xc5f));_0x4d1fb4&&(_0x4d1fb4[_0x26fcf6(0x95a)](_0x26fcf6(0xdc5),wakeUpScreen),_0x4d1fb4[_0x26fcf6(0x95a)](_0x26fcf6(0x9da),wakeUpScreen));document['getElementById'](_0x26fcf6(0x545))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),async()=>{const _0x5d6eab=_0x26fcf6;if(!currentBlueprintProjectId)return;const _0x146070=document[_0x5d6eab(0xb9f)]('bp-reference-file-url')[_0x5d6eab(0x232)][_0x5d6eab(0xbdc)](),_0x170418=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);try{await updateDoc(_0x170418,{'referenceFileUrl':_0x146070}),showMessage(_0x5d6eab(0x3fa));}catch(_0x3d4e60){console[_0x5d6eab(0x7cd)]('Error\x20saving\x20reference\x20URL:',_0x3d4e60),showMessage(_0x5d6eab(0x21f));}}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x30b))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),handleAddParallelShortcutTab),document[_0x26fcf6(0xb9f)]('parallel-test-input-area')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),_0x3f8959=>{const _0x204269=_0x26fcf6;_0x3f8959[_0x204269(0x4ee)][_0x204269(0x892)](_0x204269(0x1f4))&&(activeParallelShortcutTabId=_0x204269(0x2d8),renderAdditionalParallelShortcutsModal(),document[_0x204269(0xb9f)](_0x204269(0x225))[_0x204269(0xbd3)][_0x204269(0x5f4)](_0x204269(0x81c)));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x835))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x4c77c5=_0x26fcf6;document[_0x4c77c5(0xb9f)](_0x4c77c5(0x225))[_0x4c77c5(0xbd3)][_0x4c77c5(0x72b)]('hidden');}),document[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),_0x4c0ca8=>{const _0x2c5a52=_0x26fcf6;!_0x4c0ca8[_0x2c5a52(0x4ee)][_0x2c5a52(0x892)](_0x2c5a52(0x6b8))&&document[_0x2c5a52(0x3eb)](_0x2c5a52(0xe34))[_0x2c5a52(0x4aa)](_0x11084a=>_0x11084a[_0x2c5a52(0xbd3)]['add']('hidden'));}),document['getElementById'](_0x26fcf6(0x254))[_0x26fcf6(0x95a)]('click',handleAddFileShortcutTab),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x80f))['addEventListener'](_0x26fcf6(0xd6c),_0x510439=>{const _0x23d33e=_0x26fcf6;_0x510439['target'][_0x23d33e(0x892)](_0x23d33e(0x9ea))&&(activeFileShortcutTabId=_0x23d33e(0x2d8),renderAdditionalFileShortcutsModal(),document['getElementById']('additional-file-shortcuts-modal')[_0x23d33e(0xbd3)]['remove'](_0x23d33e(0x81c)));}),document['getElementById'](_0x26fcf6(0x2c9))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x4bb9dc=_0x26fcf6;document[_0x4bb9dc(0xb9f)](_0x4bb9dc(0x748))[_0x4bb9dc(0xbd3)][_0x4bb9dc(0x72b)](_0x4bb9dc(0x81c));}),document[_0x26fcf6(0x95a)]('click',_0x2fb0c9=>{const _0x28aa8a=_0x26fcf6;!_0x2fb0c9[_0x28aa8a(0x4ee)][_0x28aa8a(0x892)]('.group\x5c/dropdown-file')&&document['querySelectorAll']('.move-file-shortcut-dropdown')['forEach'](_0x1a96fc=>_0x1a96fc[_0x28aa8a(0xbd3)][_0x28aa8a(0x72b)](_0x28aa8a(0x81c)));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x373))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),handleAddShortcutTab),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x9cb))['addEventListener'](_0x26fcf6(0xd6c),_0x5f5bd8=>{const _0x246bc5=_0x26fcf6,_0x1bfad5=_0x5f5bd8[_0x246bc5(0x4ee)][_0x246bc5(0x892)](_0x246bc5(0x9ca)),_0x5a4430=_0x5f5bd8[_0x246bc5(0x4ee)]['closest']('.edit-parallel-shortcut-btn'),_0x4dfecc=_0x5f5bd8['target'][_0x246bc5(0x892)](_0x246bc5(0xcb5));if(_0x5a4430)openParallelTestShortcutEditor(_0x5a4430[_0x246bc5(0x273)]['id']);else{if(_0x4dfecc){const _0x13cf59=_0x4dfecc[_0x246bc5(0x273)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x4624cb=_0x246bc5,_0x1a8155=parallelTestShortcuts[_0x4624cb(0xce3)](_0x3c0937=>_0x3c0937['id']!==_0x13cf59),_0x5e06cb=doc(db,'globalSettings',_0x4624cb(0x65f));await setDoc(_0x5e06cb,{'shortcuts':_0x1a8155},{'merge':!![]});});}else _0x1bfad5&&handleParallelTestShortcutClick(_0x1bfad5[_0x246bc5(0x273)]['id']);}}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x495))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>openParallelTestShortcutEditor(null)),document['getElementById']('cancel-parallel-shortcut-edit-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x260b35=_0x26fcf6;document['getElementById']('parallel-shortcut-editor-modal')[_0x260b35(0xbd3)][_0x260b35(0x72b)](_0x260b35(0x81c));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x5b9))['addEventListener'](_0x26fcf6(0xd6c),saveParallelTestShortcutChanges),document['getElementById'](_0x26fcf6(0xaca))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),_0x5040e4=>{const _0x22e228=_0x26fcf6;_0x5040e4['target'][_0x22e228(0x892)]('#open-additional-parallel-shortcuts-btn')&&document['getElementById'](_0x22e228(0x225))[_0x22e228(0xbd3)]['remove'](_0x22e228(0x81c));}),document[_0x26fcf6(0xb9f)]('close-additional-parallel-shortcuts-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x11a676=_0x26fcf6;document['getElementById']('additional-parallel-shortcuts-modal')[_0x11a676(0xbd3)][_0x11a676(0x72b)]('hidden');}),document['getElementById']('additional-parallel-shortcuts-list')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),_0x2537ba=>{const _0x11026a=_0x26fcf6,_0x15c063=document['getElementById'](_0x11026a(0x225)),_0xc46d19=_0x2537ba['target'][_0x11026a(0x892)](_0x11026a(0x34e)),_0x2543a4=_0x2537ba[_0x11026a(0x4ee)][_0x11026a(0x892)](_0x11026a(0xd17)),_0x52ef14=_0x2537ba['target']['closest']('.delete-hidden-parallel-shortcut-btn');if(_0xc46d19)_0x15c063['classList'][_0x11026a(0x72b)](_0x11026a(0x81c)),handleParallelTestShortcutClick(_0xc46d19[_0x11026a(0x273)]['id']);else{if(_0x2543a4)_0x15c063[_0x11026a(0xbd3)][_0x11026a(0x72b)](_0x11026a(0x81c)),openParallelTestShortcutEditor(_0x2543a4[_0x11026a(0x273)]['id']);else{if(_0x52ef14){const _0x4cd13b=_0x52ef14[_0x11026a(0x273)]['id'];showConfirmation(_0x11026a(0xc85),async()=>{const _0x558635=_0x11026a,_0x3dec3e=parallelTestShortcuts[_0x558635(0xce3)](_0x2c8b04=>_0x2c8b04['id']!==_0x4cd13b),_0x2a82a6=doc(db,_0x558635(0x3ee),_0x558635(0x65f));await setDoc(_0x2a82a6,{'shortcuts':_0x3dec3e},{'merge':!![]});});}}}}),document[_0x26fcf6(0xb9f)]('file-shortcut-container')['addEventListener']('click',_0x13ef01=>{const _0x234f09=_0x26fcf6,_0x654623=_0x13ef01[_0x234f09(0x4ee)]['closest'](_0x234f09(0xaa1)),_0x544dc4=_0x13ef01[_0x234f09(0x4ee)]['closest'](_0x234f09(0x634)),_0x532f71=_0x13ef01[_0x234f09(0x4ee)][_0x234f09(0x892)]('.delete-file-shortcut-btn');if(_0x544dc4)openFileShortcutEditor(_0x544dc4[_0x234f09(0x273)]['id']);else{if(_0x532f71){const _0x28bab9=_0x532f71[_0x234f09(0x273)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x3d3b93=_0x234f09,_0x290096=fileShortcuts[_0x3d3b93(0xce3)](_0x25e792=>_0x25e792['id']!==_0x28bab9),_0x359b87=doc(db,_0x3d3b93(0x3ee),'fileShortcutsConfig');await setDoc(_0x359b87,{'shortcuts':_0x290096},{'merge':!![]});});}else _0x654623&&handleFileShortcutClick(_0x654623[_0x234f09(0x273)]['id']);}}),document['getElementById'](_0x26fcf6(0x9a8))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>openFileShortcutEditor(null)),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x645))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x3ab239=_0x26fcf6;document[_0x3ab239(0xb9f)]('file-shortcut-editor-modal')['classList'][_0x3ab239(0x72b)](_0x3ab239(0x81c));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x1e0))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),saveFileShortcutChanges),document[_0x26fcf6(0xb9f)]('file-input-area')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),_0x2192f7=>{const _0x4c90a1=_0x26fcf6;_0x2192f7[_0x4c90a1(0x4ee)]['closest'](_0x4c90a1(0x9ea))&&document[_0x4c90a1(0xb9f)](_0x4c90a1(0x748))['classList'][_0x4c90a1(0x5f4)](_0x4c90a1(0x81c));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x2c9))[_0x26fcf6(0x95a)]('click',()=>{const _0x2c2ab9=_0x26fcf6;document[_0x2c2ab9(0xb9f)](_0x2c2ab9(0x748))[_0x2c2ab9(0xbd3)][_0x2c2ab9(0x72b)]('hidden');}),document['getElementById'](_0x26fcf6(0xe08))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),_0x4ab21a=>{const _0x4f160f=_0x26fcf6,_0x56acd8=document[_0x4f160f(0xb9f)](_0x4f160f(0x748)),_0xc5fddf=_0x4ab21a['target'][_0x4f160f(0x892)](_0x4f160f(0x9e1)),_0x2d2dbd=_0x4ab21a['target'][_0x4f160f(0x892)](_0x4f160f(0xde7)),_0x51d476=_0x4ab21a[_0x4f160f(0x4ee)][_0x4f160f(0x892)](_0x4f160f(0x274));if(_0xc5fddf)_0x56acd8[_0x4f160f(0xbd3)][_0x4f160f(0x72b)]('hidden'),handleFileShortcutClick(_0xc5fddf[_0x4f160f(0x273)]['id']);else{if(_0x2d2dbd)_0x56acd8[_0x4f160f(0xbd3)]['add']('hidden'),openFileShortcutEditor(_0x2d2dbd[_0x4f160f(0x273)]['id']);else{if(_0x51d476){const _0x42368a=_0x51d476[_0x4f160f(0x273)]['id'];showConfirmation(_0x4f160f(0xc85),async()=>{const _0x3edf22=_0x4f160f,_0x2310a4=fileShortcuts['filter'](_0x1b2725=>_0x1b2725['id']!==_0x42368a),_0x54004f=doc(db,'globalSettings',_0x3edf22(0x5e6));await setDoc(_0x54004f,{'shortcuts':_0x2310a4},{'merge':!![]});});}}}}),document['getElementById'](_0x26fcf6(0x427))['addEventListener'](_0x26fcf6(0xd6c),_0x1b7917=>{const _0x10903b=_0x26fcf6;_0x1b7917['target'][_0x10903b(0x892)](_0x10903b(0x54c))&&(activeShortcutTabId=_0x10903b(0x2d8),renderAdditionalShortcutsModal(),document[_0x10903b(0xb9f)]('additional-shortcuts-modal')[_0x10903b(0xbd3)][_0x10903b(0x5f4)](_0x10903b(0x81c)));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xd7e))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x2c4df5=_0x26fcf6;document[_0x2c4df5(0xb9f)]('additional-shortcuts-modal')[_0x2c4df5(0xbd3)][_0x2c4df5(0x72b)]('hidden');}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x8d5))[_0x26fcf6(0x95a)]('click',_0x3d3aa7=>{const _0x277e9d=_0x26fcf6,_0x4f8ea3=_0x3d3aa7['target'][_0x277e9d(0x892)]('.use-hidden-shortcut-btn'),_0x25eacb=_0x3d3aa7[_0x277e9d(0x4ee)]['closest'](_0x277e9d(0x95d)),_0x21f944=_0x3d3aa7[_0x277e9d(0x4ee)][_0x277e9d(0x892)](_0x277e9d(0x722)),_0x47de00=document[_0x277e9d(0xb9f)](_0x277e9d(0xd77));if(_0x4f8ea3)_0x47de00[_0x277e9d(0xbd3)][_0x277e9d(0x72b)]('hidden'),handleShortcutClick(_0x4f8ea3['dataset']['id']);else{if(_0x25eacb)_0x47de00[_0x277e9d(0xbd3)]['add']('hidden'),openShortcutEditor(_0x25eacb['dataset']['id']);else{if(_0x21f944){const _0xae9188=_0x21f944[_0x277e9d(0x273)]['id'],_0xe77d28=blueprintShortcuts[_0x277e9d(0x59d)](_0x310be7=>_0x310be7['id']===_0xae9188)?.[_0x277e9d(0x757)];showConfirmation(_0x277e9d(0xb98)+_0xe77d28+'\x22?',async()=>{const _0x758737=_0x277e9d,_0x1794ca=blueprintShortcuts[_0x758737(0xce3)](_0x383a54=>_0x383a54['id']!==_0xae9188);try{const _0x2ff5a4=doc(db,_0x758737(0x3ee),_0x758737(0xdb3));await setDoc(_0x2ff5a4,{'blueprintShortcuts':_0x1794ca},{'merge':!![]});}catch(_0x1ff963){console['error'](_0x758737(0xba2),_0x1ff963);}});}}}}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x765))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),_0x3335b0=>{const _0xcca3fe=_0x26fcf6,_0x17386e=_0x3335b0[_0xcca3fe(0x4ee)]['closest'](_0xcca3fe(0xdaa)),_0x12c1be=_0x3335b0['target'][_0xcca3fe(0x892)](_0xcca3fe(0xe35)),_0x570448=_0x3335b0['target'][_0xcca3fe(0x892)](_0xcca3fe(0xe00));if(_0x12c1be)openShortcutEditor(_0x12c1be['dataset']['id']);else{if(_0x570448){const _0x36c612=_0x570448[_0xcca3fe(0x273)]['id'],_0x104f2e=blueprintShortcuts[_0xcca3fe(0x59d)](_0x2e90e6=>_0x2e90e6['id']===_0x36c612)?.[_0xcca3fe(0x757)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x104f2e+'\x22?',async()=>{const _0x4c00db=_0xcca3fe,_0x2dd26f=blueprintShortcuts[_0x4c00db(0xce3)](_0x21ea67=>_0x21ea67['id']!==_0x36c612);try{const _0x4738e0=doc(db,_0x4c00db(0x3ee),_0x4c00db(0xdb3));await setDoc(_0x4738e0,{'blueprintShortcuts':_0x2dd26f},{'merge':!![]});}catch(_0x790b9e){console[_0x4c00db(0x7cd)](_0x4c00db(0xba2),_0x790b9e);}});}else _0x17386e&&handleShortcutClick(_0x17386e['dataset']['id']);}}),document['getElementById'](_0x26fcf6(0x62b))[_0x26fcf6(0x95a)]('click',()=>openShortcutEditor(null)),document['getElementById'](_0x26fcf6(0x212))['addEventListener'](_0x26fcf6(0xd6c),()=>{const _0x2972e9=_0x26fcf6;document[_0x2972e9(0xb9f)]('shortcut-editor-modal')[_0x2972e9(0xbd3)]['add']('hidden');}),document['getElementById'](_0x26fcf6(0xe96))[_0x26fcf6(0x95a)]('click',saveShortcutChanges),document[_0x26fcf6(0xb9f)]('generate-from-blueprint-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),async()=>{const _0x594fdb=_0x26fcf6,_0x2a1964=document[_0x594fdb(0xb9f)](_0x594fdb(0x6ef)),_0x2b4853=document[_0x594fdb(0xb9f)](_0x594fdb(0x718));_0x2a1964[_0x594fdb(0x3db)][_0x594fdb(0x8da)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x2a1964[_0x594fdb(0x3db)][0x0],_0x2b4853[_0x594fdb(0x3db)][0x0]||null):showMessage(_0x594fdb(0x68e));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x6c0))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),async _0x59c6ae=>{const _0x389457=_0x26fcf6,_0x3730bd=document['getElementById'](_0x389457(0x6c0)),_0x371391=_0x59c6ae[_0x389457(0x4ee)][_0x389457(0x892)](_0x389457(0xba6)),_0x76f769=_0x59c6ae[_0x389457(0x4ee)][_0x389457(0x892)](_0x389457(0x3cd)),_0x2f4e18=_0x59c6ae[_0x389457(0x4ee)]['closest'](_0x389457(0x53b)),_0x6ec2c0=_0x59c6ae[_0x389457(0x4ee)][_0x389457(0x892)](_0x389457(0xb04)),_0x47aca7=_0x59c6ae[_0x389457(0x4ee)][_0x389457(0x892)](_0x389457(0xdef)),_0x538fc8=_0x59c6ae['target'][_0x389457(0x892)](_0x389457(0x945));if(_0x371391){cameFromBlueprint=!![];const _0x9495ff=_0x371391['dataset'][_0x389457(0x515)];showQuizDetailView(_0x9495ff),_0x3730bd[_0x389457(0xbd3)][_0x389457(0x72b)](_0x389457(0x81c));}else{if(_0x76f769){const _0x244e9b=_0x76f769[_0x389457(0x273)]['topicId'],_0x149aa2=_0x76f769[_0x389457(0x273)][_0x389457(0x515)],_0x686c85=allQuizzesGlobal[_0x389457(0x59d)](_0x437ec3=>_0x437ec3['id']===_0x149aa2),_0x232655=_0x686c85?_0x686c85[_0x389457(0x257)]:_0x389457(0x240);showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x232655+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x14e3ec=_0x389457;try{const _0x35fcab=doc(db,'artifacts/'+appId+_0x14e3ec(0x963),currentBlueprintProjectId);await updateDoc(_0x35fcab,{[_0x14e3ec(0x49e)+_0x244e9b+'.linkedQuizIds']:arrayRemove(_0x149aa2)}),showMessage(_0x14e3ec(0x4d9)),openTopicQuizBank(_0x244e9b),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4fd2ce){console[_0x14e3ec(0x7cd)](_0x14e3ec(0xd6b),_0x4fd2ce),showMessage(_0x14e3ec(0xb30));}});}else{if(_0x2f4e18){cameFromBlueprint=!![];const _0x357333=_0x2f4e18['dataset']['quizId'],_0x513d5d=allQuizzesGlobal['find'](_0x1bed4b=>_0x1bed4b['id']===_0x357333);_0x513d5d&&(startPresentation(_0x513d5d),_0x3730bd[_0x389457(0xbd3)][_0x389457(0x72b)](_0x389457(0x81c)));}else{if(_0x6ec2c0){cameFromBlueprint=!![];const _0x58672b=_0x6ec2c0[_0x389457(0x273)][_0x389457(0x515)],_0x7c5824=allQuizzesGlobal['find'](_0x3214bb=>_0x3214bb['id']===_0x58672b);_0x7c5824&&(currentQuizData=_0x7c5824,startAdminTest(),_0x3730bd[_0x389457(0xbd3)]['add'](_0x389457(0x81c)));}else{if(_0x47aca7)cameFromBlueprint=!![],handleStartLiveRace(_0x47aca7[_0x389457(0x273)][_0x389457(0x515)]),_0x3730bd[_0x389457(0xbd3)][_0x389457(0x72b)]('hidden');else{if(_0x538fc8){cameFromBlueprint=!![];const _0x142ca5=_0x538fc8[_0x389457(0x273)]['quizId'],_0x376de9=_0x538fc8[_0x389457(0x273)][_0x389457(0x884)],_0x5cae0f=allQuizzesGlobal['find'](_0x11a134=>_0x11a134['id']===_0x142ca5);_0x5cae0f&&(showGameStartConfirmationModal(_0x142ca5,_0x376de9,_0x5cae0f[_0x389457(0x257)]),_0x3730bd[_0x389457(0xbd3)][_0x389457(0x72b)](_0x389457(0x81c)));}}}}}}}),document[_0x26fcf6(0xb9f)]('manual-create-blueprint-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x4db2e1=_0x26fcf6;document[_0x4db2e1(0xb9f)]('manual-blueprint-modal')[_0x4db2e1(0xbd3)][_0x4db2e1(0x5f4)](_0x4db2e1(0x81c)),document[_0x4db2e1(0xb9f)](_0x4db2e1(0xc6b))['value']='',document[_0x4db2e1(0xb9f)](_0x4db2e1(0x2a3))[_0x4db2e1(0x232)]='',document[_0x4db2e1(0xb9f)](_0x4db2e1(0x783))['value']='';}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xe8a))['addEventListener'](_0x26fcf6(0xd6c),()=>{const _0x27e784=_0x26fcf6;document[_0x27e784(0xb9f)](_0x27e784(0x2da))['classList'][_0x27e784(0x72b)](_0x27e784(0x81c));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xc03))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),handleManualBlueprintSave),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xcea))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>document[_0x26fcf6(0xb9f)]('blueprint-settings-modal')[_0x26fcf6(0xbd3)][_0x26fcf6(0x72b)](_0x26fcf6(0x81c))),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x27d))['addEventListener'](_0x26fcf6(0xd6c),handleSaveBlueprintPageSettings),document['getElementById'](_0x26fcf6(0xbee))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),openBlueprintQuizSettings),document[_0x26fcf6(0xb9f)]('save-blueprint-as-project-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),saveBlueprintProject),document[_0x26fcf6(0xb9f)]('open-blueprint-projects-btn')['addEventListener'](_0x26fcf6(0xd6c),showBlueprintProjects),document['getElementById'](_0x26fcf6(0xeaa))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x5a32fd=_0x26fcf6;document['getElementById']('blueprint-projects-modal')[_0x5a32fd(0xbd3)][_0x5a32fd(0x72b)]('hidden');}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x7e3))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),_0x49e333=>{const _0x492fad=_0x26fcf6,_0x15ef0f=_0x49e333[_0x492fad(0x4ee)]['closest'](_0x492fad(0xebc)),_0x2695f5=_0x49e333[_0x492fad(0x4ee)][_0x492fad(0x892)](_0x492fad(0x428));if(_0x15ef0f)displayBlueprintProjectManager(_0x15ef0f[_0x492fad(0x273)]['id']);else _0x2695f5&&handleDeepDeleteBlueprintProject(_0x2695f5[_0x492fad(0x273)]['id']);}),document['getElementById']('back-to-dashboard-from-bp-btn')['addEventListener'](_0x26fcf6(0xd6c),()=>{const _0x279a19=_0x26fcf6;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0x279a19(0x49f))['classList'][_0x279a19(0x72b)]('hidden'),showView('admin-dashboard');}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x2b2))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),addTopicToProject),document['getElementById'](_0x26fcf6(0xb76))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),async _0x208703=>{const _0x5b5bca=_0x26fcf6,_0x4ba09a=_0x208703[_0x5b5bca(0x4ee)][_0x5b5bca(0x892)]('[data-topic-id]');if(!_0x4ba09a)return;const _0x454e81=_0x4ba09a['dataset'][_0x5b5bca(0x2d1)],_0x207ea6=_0x208703[_0x5b5bca(0x4ee)][_0x5b5bca(0x892)]('.bp-create-onet-quiz-btn'),_0x38bb71=_0x208703['target'][_0x5b5bca(0x892)](_0x5b5bca(0xcfe)),_0xce9dd5=_0x208703[_0x5b5bca(0x4ee)]['closest'](_0x5b5bca(0x9c7)),_0x1902fc=_0x208703[_0x5b5bca(0x4ee)][_0x5b5bca(0x892)](_0x5b5bca(0xab7)),_0x1b9695=_0x208703[_0x5b5bca(0x4ee)][_0x5b5bca(0x892)](_0x5b5bca(0x745)),_0x1ce460=_0x208703[_0x5b5bca(0x4ee)][_0x5b5bca(0x892)](_0x5b5bca(0x5bd)),_0x25b7b0=_0x208703['target'][_0x5b5bca(0x892)](_0x5b5bca(0x818)),_0x1fcf2e=_0x208703[_0x5b5bca(0x4ee)][_0x5b5bca(0x892)](_0x5b5bca(0xe14)),_0x298850=_0x5c520c=>{const _0x3018b6=_0x5b5bca,_0x467a32=_0x5c520c[_0x3018b6(0x584)](_0x3018b6(0x95e))[_0x3018b6(0x1d0)][_0x3018b6(0xbdc)](),_0x3728bf=_0x5c520c[_0x3018b6(0x892)](_0x3018b6(0x440))[_0x3018b6(0x419)],_0x4a4334=_0x3728bf?_0x3728bf['textContent']['trim']():'';return _0x4a4334+':\x20'+_0x467a32;};if(_0x1902fc)openTopicQuizBank(_0x454e81);else{if(_0x207ea6){const _0x7a867e=_0x298850(_0x4ba09a);selectProjectAndGenerateBlueprintQuiz(_0x7a867e,null,_0x454e81,!![]);}else{if(_0x38bb71){const _0x53b0a6=_0x298850(_0x4ba09a);try{const _0x5d4c8f=doc(db,_0x5b5bca(0xc4a)+appId+_0x5b5bca(0xe3f)+currentBlueprintProjectId+_0x5b5bca(0xed9),_0x454e81),_0x9a24f=await getDoc(_0x5d4c8f);if(_0x9a24f[_0x5b5bca(0x37f)]()){const _0x14fd62=_0x9a24f[_0x5b5bca(0x7f7)]()[_0x5b5bca(0x5de)],_0x5ad20e=document[_0x5b5bca(0xeb2)](_0x5b5bca(0x806)),_0x1eb402=_0x12d1a0=>{const _0x667a81=_0x5b5bca;if(!_0x12d1a0)return'';return _0x5ad20e['innerHTML']=_0x12d1a0,_0x5ad20e[_0x667a81(0x1d0)]||_0x5ad20e[_0x667a81(0x649)]||'';},_0x55b0eb=(_0x1eb402(_0x14fd62[_0x5b5bca(0x215)])+'\x20'+_0x1eb402(_0x14fd62[_0x5b5bca(0x794)])+'\x20'+_0x1eb402(_0x14fd62[_0x5b5bca(0x221)]))[_0x5b5bca(0xbdc)]();selectProjectAndGenerateBlueprintQuiz(_0x53b0a6,_0x55b0eb,_0x454e81,![]);}else showMessage(_0x5b5bca(0x4c2));}catch(_0x5ee752){console[_0x5b5bca(0x7cd)](_0x5b5bca(0x4e2),_0x5ee752),showMessage(_0x5b5bca(0xc58));}}else{if(_0xce9dd5){const _0x5cc544=_0x298850(_0x4ba09a);selectProjectAndGenerateBlueprintQuiz(_0x5cc544,null,_0x454e81,![]);}else{if(_0x1b9695){const _0xe520be=doc(db,_0x5b5bca(0xc4a)+appId+_0x5b5bca(0x963),currentBlueprintProjectId),_0x467225=await getDoc(_0xe520be);if(_0x467225[_0x5b5bca(0x37f)]()){const _0x49bf2b=_0x467225[_0x5b5bca(0x7f7)](),_0x121a7f=_0x49bf2b[_0x5b5bca(0xb27)][_0x454e81];if(_0x121a7f&&_0x121a7f[_0x5b5bca(0x58b)]==='generated')try{const _0x540467=doc(db,_0x5b5bca(0xc4a)+appId+_0x5b5bca(0xe3f)+currentBlueprintProjectId+_0x5b5bca(0xed9),_0x454e81),_0x2058de=await getDoc(_0x540467);if(_0x2058de[_0x5b5bca(0x37f)]()){const _0x42c908=_0x2058de['data']()[_0x5b5bca(0x5de)];document[_0x5b5bca(0xb9f)](_0x5b5bca(0x684))['textContent']=_0x5b5bca(0xb4f)+_0x298850(_0x4ba09a),document['getElementById']('pointContent')[_0x5b5bca(0x7fc)]=_0x42c908[_0x5b5bca(0x215)],document[_0x5b5bca(0xb9f)](_0x5b5bca(0x433))[_0x5b5bca(0x7fc)]=_0x42c908['memory'],document['getElementById'](_0x5b5bca(0x7f3))[_0x5b5bca(0x7fc)]=_0x42c908[_0x5b5bca(0x221)];const _0x99b565=document[_0x5b5bca(0xb9f)](_0x5b5bca(0xbd9));_0x42c908[_0x5b5bca(0x743)]?(currentApplicationData=_0x42c908['applicationData'],_0x99b565[_0x5b5bca(0x7fc)]=currentApplicationData[_0x5b5bca(0xa0d)]((_0x1224c9,_0x1fde74)=>_0x5b5bca(0x620)+(_0x1fde74+0x1)+'.\x20'+marked['parseInline'](_0x1224c9[_0x5b5bca(0x9b0)])+'</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x1fde74+_0x5b5bca(0x792)+_0x1224c9[_0x5b5bca(0x4d1)][_0x5b5bca(0xa0d)]((_0x54eea9,_0x1a5836)=>_0x5b5bca(0x7b6)+_0x1fde74+',\x20'+_0x1a5836+_0x5b5bca(0x1eb)+String[_0x5b5bca(0x5a9)](0x61+_0x1a5836)+'.\x20'+marked[_0x5b5bca(0x4d3)](_0x54eea9)+_0x5b5bca(0x961))['join']('')+_0x5b5bca(0x504))[_0x5b5bca(0x510)]('')):(currentApplicationData=[],_0x99b565['innerHTML']=_0x42c908[_0x5b5bca(0x2bf)]||_0x42c908['application']),document[_0x5b5bca(0xb9f)](_0x5b5bca(0x71f))[_0x5b5bca(0xbd3)][_0x5b5bca(0x72b)]('hidden'),document[_0x5b5bca(0xb9f)]('lesson-sections-container')[_0x5b5bca(0xbd3)][_0x5b5bca(0x5f4)]('hidden'),document[_0x5b5bca(0xb9f)](_0x5b5bca(0xb4b))[_0x5b5bca(0xbd3)][_0x5b5bca(0x5f4)]('hidden'),window['MathJax']&&MathJax[_0x5b5bca(0xbce)]([document['getElementById'](_0x5b5bca(0x6fe))]);}else showMessage(_0x5b5bca(0x8fc));}catch(_0x3fd428){console[_0x5b5bca(0x7cd)](_0x5b5bca(0x8aa),_0x3fd428),showMessage(_0x5b5bca(0x776));}else showMessage('ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0x1ce460){const _0x4e68b0=_0x298850(_0x4ba09a),_0xed594e=doc(db,_0x5b5bca(0xc4a)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x190567=await getDoc(_0xed594e);if(_0x190567[_0x5b5bca(0x37f)]()){const _0x527c69=_0x190567[_0x5b5bca(0x7f7)]();generateAndSaveLessonForBlueprint(_0x454e81,_0x4e68b0,_0x527c69[_0x5b5bca(0xb14)]);}}else{if(_0x25b7b0)editTopicInProject(_0x454e81);else _0x1fcf2e&&deleteTopicFromProject(_0x454e81);}}}}}}}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xc18))['addEventListener'](_0x26fcf6(0xd6c),handleFixLessonLatex),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xd90))['addEventListener']('click',handleExportLessonToPDF),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x90d))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x2b5827=_0x26fcf6;document[_0x2b5827(0xb9f)](_0x2b5827(0xb4b))['classList'][_0x2b5827(0x72b)](_0x2b5827(0x81c));});const _0x150d71=document[_0x26fcf6(0xb9f)](_0x26fcf6(0x8f4)),_0x5199b4=document[_0x26fcf6(0xb9f)]('bulk-confidence-mode-container');_0x150d71[_0x26fcf6(0x95a)]('change',()=>{const _0x46fe22=_0x26fcf6;_0x5199b4[_0x46fe22(0xbd3)][_0x46fe22(0x581)]('hidden',!_0x150d71[_0x46fe22(0x270)]);});const _0x467e12=document[_0x26fcf6(0xb9f)](_0x26fcf6(0xaac)),_0x449097=document['getElementById'](_0x26fcf6(0x693));_0x467e12[_0x26fcf6(0x95a)](_0x26fcf6(0xaa4),()=>{const _0x56dcac=_0x26fcf6;_0x449097[_0x56dcac(0xbd3)][_0x56dcac(0x581)]('hidden',!_0x467e12[_0x56dcac(0x270)]);});const _0x222a68=document[_0x26fcf6(0xb9f)]('modal-confidence-scoring-checkbox'),_0x43d1e0=document[_0x26fcf6(0xb9f)](_0x26fcf6(0xaeb));_0x222a68[_0x26fcf6(0x95a)](_0x26fcf6(0xaa4),()=>{const _0x615cab=_0x26fcf6;_0x43d1e0[_0x615cab(0xbd3)][_0x615cab(0x581)](_0x615cab(0x81c),!_0x222a68[_0x615cab(0x270)]);});const _0x17e691=document[_0x26fcf6(0xb9f)]('confidence-modal'),_0x1da042=async _0xf6ff3d=>{const _0x2f74d6=_0x26fcf6,_0x4836a9=document[_0x2f74d6(0xb9f)]('confidence-modal'),_0x37da73=_0x4836a9[_0x2f74d6(0x273)][_0x2f74d6(0xc25)],_0x275d79=document[_0x2f74d6(0xb9f)](_0x2f74d6(0xc9e));_0x4836a9[_0x2f74d6(0xbd3)][_0x2f74d6(0x72b)]('hidden');if(_0x37da73==='timed'){const _0x45776f=_0x275d79[_0x2f74d6(0x232)],_0x2ef8ff={'answer':_0x45776f,'wasConfident':_0xf6ff3d};proceedToNextQuestion(_0x2ef8ff);}else{if(_0x37da73==='sync'){const _0x7af8e0=_0x275d79[_0x2f74d6(0x273)][_0x2f74d6(0x1ea)],_0x54a956=JSON[_0x2f74d6(0x717)](_0x275d79[_0x2f74d6(0x273)][_0x2f74d6(0x9b0)]),_0x3ad71b=JSON[_0x2f74d6(0x717)](_0x275d79[_0x2f74d6(0x273)][_0x2f74d6(0xd82)]),_0x4f845b=_0x275d79['dataset'][_0x2f74d6(0x3e2)];handleSyncAnswerSubmit(_0x7af8e0,_0x54a956,_0x3ad71b,_0x4f845b,_0xf6ff3d);}}_0x4836a9['dataset'][_0x2f74d6(0xc25)]='';};document[_0x26fcf6(0xb9f)](_0x26fcf6(0x1cd))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>_0x1da042(!![])),document['getElementById'](_0x26fcf6(0xe24))['addEventListener'](_0x26fcf6(0xd6c),()=>_0x1da042(![])),liveGameView[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),_0x3b04c0=>{const _0x1c38c6=_0x26fcf6,_0x38494a=_0x3b04c0[_0x1c38c6(0x4ee)][_0x1c38c6(0x892)](_0x1c38c6(0xd01));if(_0x38494a){const _0x18794e=_0x38494a[_0x1c38c6(0x273)][_0x1c38c6(0x3e2)];_0x18794e&&handleKickPlayerSync(_0x18794e);}});const _0x1c7007=document[_0x26fcf6(0xb9f)](_0x26fcf6(0xd76)),_0x42cb78=document[_0x26fcf6(0xb9f)]('cancel-game-start-btn');_0x42cb78[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x44a084=_0x26fcf6;document[_0x44a084(0xb9f)](_0x44a084(0x285))[_0x44a084(0xbd3)][_0x44a084(0x72b)](_0x44a084(0x81c));}),_0x1c7007[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x4d1c2c=_0x26fcf6,_0x203418=document['getElementById'](_0x4d1c2c(0xa69))[_0x4d1c2c(0x232)],_0x32c1ad=document[_0x4d1c2c(0xb9f)](_0x4d1c2c(0x7ac))[_0x4d1c2c(0x232)],_0x506012=document[_0x4d1c2c(0xb9f)](_0x4d1c2c(0xa27))[_0x4d1c2c(0x270)];document[_0x4d1c2c(0xb9f)](_0x4d1c2c(0x285))[_0x4d1c2c(0xbd3)][_0x4d1c2c(0x72b)]('hidden');switch(_0x32c1ad){case'live-race':handleStartLiveRace(_0x203418,_0x506012);break;case _0x4d1c2c(0x975):handleStartTeamQuiz(_0x203418,_0x506012);break;case'group':handleStartGroupMode(_0x203418,_0x506012);break;case _0x4d1c2c(0xd24):const _0x44d12c=document[_0x4d1c2c(0x584)](_0x4d1c2c(0x20c))[_0x4d1c2c(0x232)]||_0x4d1c2c(0x870);handleStartSyncMode(_0x203418,_0x506012,_0x44d12c);break;}}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x801))['addEventListener'](_0x26fcf6(0xd6c),handleJoinGroupActivity),liveGameView[_0x26fcf6(0x95a)]('click',_0xfe6776=>{const _0x23a3fa=_0x26fcf6,_0x494129=_0xfe6776[_0x23a3fa(0x4ee)][_0x23a3fa(0x892)](_0x23a3fa(0x81d));document['querySelectorAll'](_0x23a3fa(0xc9d))['forEach'](_0x28e704=>{const _0x4a8bc1=_0x23a3fa;(!_0x494129||_0x28e704['id']!==_0x494129['dataset'][_0x4a8bc1(0xb5d)])&&_0x28e704[_0x4a8bc1(0xbd3)][_0x4a8bc1(0x5f4)]('visible');});if(!_0x494129)return;const _0x497f25=_0x494129['dataset']['tooltipTarget'],_0x31ce9e=document[_0x23a3fa(0xb9f)](_0x497f25);_0x31ce9e&&_0x31ce9e[_0x23a3fa(0xbd3)][_0x23a3fa(0x581)](_0x23a3fa(0xe95));}),liveGameView[_0x26fcf6(0x95a)]('click',_0x3d9eab=>{const _0x15fdf1=_0x26fcf6;if(_0x3d9eab[_0x15fdf1(0x4ee)][_0x15fdf1(0xbd3)][_0x15fdf1(0x959)](_0x15fdf1(0xba3))){const _0x2714ab=_0x3d9eab[_0x15fdf1(0x4ee)][_0x15fdf1(0x273)][_0x15fdf1(0x3e2)];_0x2714ab&&handleKickPlayer(_0x2714ab);}}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xb94))[_0x26fcf6(0x95a)](_0x26fcf6(0x69d),()=>document[_0x26fcf6(0xb9f)](_0x26fcf6(0x942))[_0x26fcf6(0xbd3)][_0x26fcf6(0x5f4)](_0x26fcf6(0x81c))),document[_0x26fcf6(0xb9f)]('save-project-name-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),handleSaveProjectName),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xb94))['addEventListener']('keydown',_0x48e155=>{const _0x8bc33d=_0x26fcf6;_0x48e155['key']===_0x8bc33d(0x731)&&(_0x48e155['preventDefault'](),_0x48e155[_0x8bc33d(0x4ee)][_0x8bc33d(0xa0a)](),handleSaveProjectName());}),document[_0x26fcf6(0xb9f)]('bulk-quiz-settings-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x2d3696=_0x26fcf6;document[_0x2d3696(0xb9f)](_0x2d3696(0x2d2))[_0x2d3696(0xbd3)]['remove'](_0x2d3696(0x81c));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xd6f))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x4edc96=_0x26fcf6;document[_0x4edc96(0xb9f)](_0x4edc96(0x2d2))[_0x4edc96(0xbd3)]['add'](_0x4edc96(0x81c));}),document['getElementById'](_0x26fcf6(0x432))[_0x26fcf6(0x95a)]('click',handleBulkUpdateQuizSettings),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xa44))['addEventListener'](_0x26fcf6(0xd6c),handleModeSwitch),document['getElementById'](_0x26fcf6(0x7a3))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),handleUpdateOldQuizzes),document[_0x26fcf6(0xb9f)]('reset-project-order-btn')[_0x26fcf6(0x95a)]('click',handleResetProjectOrder),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xabf))['addEventListener'](_0x26fcf6(0xd6c),handleSaveVisibilitySettings),document[_0x26fcf6(0xb9f)]('add-custom-math-topic-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),handleAddCustomMathTopic),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x5e5))['addEventListener'](_0x26fcf6(0xd6c),handleSelectAllTopics),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xd75))[_0x26fcf6(0x95a)]('click',handleDeselectAllTopics),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x894))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x2d6ff6=_0x26fcf6;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x2d6ff6(0x5b4));}}),document['getElementById'](_0x26fcf6(0x87c))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x5b8f96=_0x26fcf6;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x5b8f96(0x2c6));}}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xd66))['addEventListener'](_0x26fcf6(0xd6c),()=>{const _0x11fc54=_0x26fcf6;showView(_0x11fc54(0x5b4));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x9f2))[_0x26fcf6(0x95a)]('click',()=>{const _0x471d38=_0x26fcf6;messageModal['classList']['add'](_0x471d38(0x81c)),typeof modalConfirmAction===_0x471d38(0x2f1)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x47b))['addEventListener']('click',()=>createProjectModal[_0x26fcf6(0xbd3)][_0x26fcf6(0x5f4)](_0x26fcf6(0x81c))),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xd08))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>createProjectModal[_0x26fcf6(0xbd3)]['add'](_0x26fcf6(0x81c))),document[_0x26fcf6(0xb9f)]('cancel-admin-login-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>adminPasswordModal[_0x26fcf6(0xbd3)]['add'](_0x26fcf6(0x81c))),document['getElementById'](_0x26fcf6(0x443))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),handleAdminLogin),document['getElementById'](_0x26fcf6(0x910))[_0x26fcf6(0x95a)](_0x26fcf6(0xa89),_0x6fa5d4=>{const _0x1f94fe=_0x26fcf6;if(_0x6fa5d4[_0x1f94fe(0x4bb)]==='Enter')handleAdminLogin();}),document['getElementById'](_0x26fcf6(0x21d))[_0x26fcf6(0x95a)]('click',()=>{const _0x36425f=_0x26fcf6;confirmationModal[_0x36425f(0xbd3)]['add'](_0x36425f(0x81c)),typeof cancelAction===_0x36425f(0x2f1)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x9fa))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x201254=_0x26fcf6;confirmAction&&confirmAction(),confirmationModal[_0x201254(0xbd3)]['add'](_0x201254(0x81c)),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x26fcf6(0x75b))['addEventListener']('click',()=>renameQuizModal[_0x26fcf6(0xbd3)][_0x26fcf6(0x72b)]('hidden')),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x690))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),confirmRenameQuiz),document['getElementById'](_0x26fcf6(0x8cf))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>moveQuizModal[_0x26fcf6(0xbd3)][_0x26fcf6(0x72b)](_0x26fcf6(0x81c))),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xa91))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),confirmMoveQuiz),document['getElementById'](_0x26fcf6(0x41f))['addEventListener'](_0x26fcf6(0xd6c),()=>quizSettingsModal[_0x26fcf6(0xbd3)][_0x26fcf6(0x72b)](_0x26fcf6(0x81c))),document['getElementById'](_0x26fcf6(0x349))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),confirmQuizSettings),document['getElementById'](_0x26fcf6(0x8cd))['addEventListener'](_0x26fcf6(0xd6c),()=>quizStatusModal['classList']['add'](_0x26fcf6(0x81c))),document['getElementById']('confirm-quiz-status-btn')[_0x26fcf6(0x95a)]('click',confirmQuizStatus);const _0x3cd3e0=document[_0x26fcf6(0xb9f)]('export-pdf-modal');document[_0x26fcf6(0xb9f)](_0x26fcf6(0x315))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x110c91=_0x26fcf6;_0x3cd3e0[_0x110c91(0xbd3)][_0x110c91(0x72b)]('hidden');}),document['getElementById']('export-compact-pdf-btn')[_0x26fcf6(0x95a)]('click',async()=>{const _0x26f33c=_0x26fcf6,_0x3781df=allQuizzes['find'](_0x391b9c=>_0x391b9c['id']===actionTargetId);_0x3781df?(currentQuizData=_0x3781df,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x3cd3e0[_0x26f33c(0xbd3)]['add']('hidden');}),document[_0x26fcf6(0xb9f)]('export-tutor-pdf-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),async()=>{const _0x3a05cf=_0x26fcf6,_0x544d64=allQuizzes[_0x3a05cf(0x59d)](_0x18e236=>_0x18e236['id']===actionTargetId);_0x544d64?(currentQuizData=_0x544d64,exportQuizAsTutorPDF()):showMessage(_0x3a05cf(0xad3)),_0x3cd3e0[_0x3a05cf(0xbd3)]['add'](_0x3a05cf(0x81c));});const _0x4c3b9a=document[_0x26fcf6(0xb9f)](_0x26fcf6(0x51c));_0x4c3b9a['innerHTML']='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x4c3b9a[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),openGlobalActivityModal),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xa32))[_0x26fcf6(0x95a)]('click',()=>{const _0xc94afb=_0x26fcf6;document[_0xc94afb(0xb9f)]('global-activity-modal')[_0xc94afb(0xbd3)][_0xc94afb(0x72b)](_0xc94afb(0x81c));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x831))[_0x26fcf6(0x95a)](_0x26fcf6(0x304),_0x55ea17=>{const _0x56f4f7=_0x26fcf6;renderGlobalActivityList(_0x55ea17[_0x56f4f7(0x4ee)][_0x56f4f7(0x232)]);}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x92f))[_0x26fcf6(0x95a)]('click',_0x337b76=>{const _0x4f7593=_0x26fcf6,_0x144800=_0x337b76[_0x4f7593(0x4ee)]['closest'](_0x4f7593(0x4be));if(!_0x144800)return;const _0x10f0b1=_0x144800[_0x4f7593(0x273)]['id'],_0x2b7e90=_0x144800[_0x4f7593(0x273)][_0x4f7593(0x884)],_0x21602e=allQuizzesGlobal['find'](_0x4b1cfb=>_0x4b1cfb['id']===_0x10f0b1);_0x21602e&&(document['getElementById'](_0x4f7593(0xab1))[_0x4f7593(0xbd3)][_0x4f7593(0x72b)](_0x4f7593(0x81c)),_0x2b7e90===_0x4f7593(0xe50)?handleStartLiveRace(_0x10f0b1):showGameStartConfirmationModal(_0x10f0b1,_0x2b7e90,_0x21602e[_0x4f7593(0x257)]));}),document['getElementById'](_0x26fcf6(0xe11))[_0x26fcf6(0x95a)](_0x26fcf6(0x304),renderProjects),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xaa7))[_0x26fcf6(0x95a)]('change',async()=>{const _0x371551=_0x26fcf6,_0xaec888=document['getElementById']('project-sort-select')[_0x371551(0x232)],_0x59a3e8=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x59a3e8,{'projectSort':_0xaec888},{'merge':!![]});}catch(_0x5309fa){console[_0x371551(0x7cd)](_0x371551(0x65e),_0x5309fa),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document['getElementById'](_0x26fcf6(0xc46))[_0x26fcf6(0x95a)](_0x26fcf6(0x304),renderQuizzes),document['getElementById'](_0x26fcf6(0x638))[_0x26fcf6(0x95a)]('click',()=>{const _0x15bf99=_0x26fcf6;globalDashboardSettings[_0x15bf99(0xcf1)]=_0x15bf99(0x4e1),saveUserPreference(_0x15bf99(0xcf1),_0x15bf99(0x4e1)),renderProjects();}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x2b7))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x15a332=_0x26fcf6;globalDashboardSettings['projectView']='list',saveUserPreference(_0x15a332(0xcf1),'list'),renderProjects();}),manageTab[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>switchProjectTab('manage')),resultsTab[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>switchProjectTab(_0x26fcf6(0x4f1))),leaderboardTab['addEventListener']('click',()=>switchProjectTab(_0x26fcf6(0xd70))),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xc79))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>switchQuizDetailTab(_0x26fcf6(0xc15))),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xbbc))[_0x26fcf6(0x95a)]('click',()=>switchQuizDetailTab(_0x26fcf6(0xcee))),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xd02))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>switchQuizDetailTab(_0x26fcf6(0x4c1))),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xc6a))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>switchQuizDetailTab(_0x26fcf6(0x6cf))),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x943))[_0x26fcf6(0x95a)]('click',handleAnalyzeClass),generateWorksheetBtn[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),generateWorksheet);const _0x3ce215=document[_0x26fcf6(0xb9f)]('link-tab'),_0x5c951e=document[_0x26fcf6(0xb9f)](_0x26fcf6(0x63a)),_0x11f665=document[_0x26fcf6(0xb9f)]('blueprint-tab'),_0x2754c4=document['getElementById'](_0x26fcf6(0x427)),_0x39b6d4=document[_0x26fcf6(0xb9f)](_0x26fcf6(0x3d7)),_0x561f2d=document['getElementById'](_0x26fcf6(0xaca));topicTab[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x117119=_0x26fcf6;topicTab['classList'][_0x117119(0x72b)](_0x117119(0x329)),textTab[_0x117119(0xbd3)][_0x117119(0x5f4)](_0x117119(0x329)),fileTab['classList'][_0x117119(0x5f4)](_0x117119(0x329)),worksheetTab['classList'][_0x117119(0x5f4)](_0x117119(0x329));if(_0x3ce215)_0x3ce215[_0x117119(0xbd3)][_0x117119(0x5f4)]('active');if(_0x11f665)_0x11f665[_0x117119(0xbd3)][_0x117119(0x5f4)](_0x117119(0x329));if(_0x39b6d4)_0x39b6d4[_0x117119(0xbd3)]['remove'](_0x117119(0x329));topicInputArea[_0x117119(0xbd3)][_0x117119(0x5f4)](_0x117119(0x81c)),textInputArea[_0x117119(0xbd3)][_0x117119(0x72b)](_0x117119(0x81c)),fileInputArea[_0x117119(0xbd3)][_0x117119(0x72b)](_0x117119(0x81c)),worksheetInputArea['classList'][_0x117119(0x72b)](_0x117119(0x81c));if(_0x5c951e)_0x5c951e[_0x117119(0xbd3)][_0x117119(0x72b)](_0x117119(0x81c));if(_0x2754c4)_0x2754c4[_0x117119(0xbd3)][_0x117119(0x72b)](_0x117119(0x81c));if(_0x561f2d)_0x561f2d[_0x117119(0xbd3)][_0x117119(0x72b)]('hidden');}),textTab[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x3c25a5=_0x26fcf6;textTab[_0x3c25a5(0xbd3)][_0x3c25a5(0x72b)](_0x3c25a5(0x329)),topicTab[_0x3c25a5(0xbd3)]['remove'](_0x3c25a5(0x329)),fileTab[_0x3c25a5(0xbd3)][_0x3c25a5(0x5f4)](_0x3c25a5(0x329)),worksheetTab[_0x3c25a5(0xbd3)][_0x3c25a5(0x5f4)](_0x3c25a5(0x329));if(_0x3ce215)_0x3ce215['classList'][_0x3c25a5(0x5f4)](_0x3c25a5(0x329));if(_0x11f665)_0x11f665['classList'][_0x3c25a5(0x5f4)](_0x3c25a5(0x329));if(_0x39b6d4)_0x39b6d4[_0x3c25a5(0xbd3)][_0x3c25a5(0x5f4)](_0x3c25a5(0x329));textInputArea[_0x3c25a5(0xbd3)][_0x3c25a5(0x5f4)]('hidden'),topicInputArea[_0x3c25a5(0xbd3)][_0x3c25a5(0x72b)](_0x3c25a5(0x81c)),fileInputArea[_0x3c25a5(0xbd3)]['add'](_0x3c25a5(0x81c)),worksheetInputArea[_0x3c25a5(0xbd3)][_0x3c25a5(0x72b)](_0x3c25a5(0x81c));if(_0x5c951e)_0x5c951e[_0x3c25a5(0xbd3)]['add']('hidden');if(_0x2754c4)_0x2754c4[_0x3c25a5(0xbd3)][_0x3c25a5(0x72b)](_0x3c25a5(0x81c));if(_0x561f2d)_0x561f2d[_0x3c25a5(0xbd3)][_0x3c25a5(0x72b)](_0x3c25a5(0x81c));}),fileTab['addEventListener']('click',()=>{const _0x1153a5=_0x26fcf6;fileTab[_0x1153a5(0xbd3)][_0x1153a5(0x72b)]('active'),topicTab[_0x1153a5(0xbd3)][_0x1153a5(0x5f4)]('active'),textTab[_0x1153a5(0xbd3)][_0x1153a5(0x5f4)](_0x1153a5(0x329)),worksheetTab['classList']['remove'](_0x1153a5(0x329));if(_0x3ce215)_0x3ce215[_0x1153a5(0xbd3)][_0x1153a5(0x5f4)](_0x1153a5(0x329));if(_0x11f665)_0x11f665['classList'][_0x1153a5(0x5f4)](_0x1153a5(0x329));if(_0x39b6d4)_0x39b6d4[_0x1153a5(0xbd3)]['remove'](_0x1153a5(0x329));fileInputArea[_0x1153a5(0xbd3)][_0x1153a5(0x5f4)](_0x1153a5(0x81c)),topicInputArea['classList'][_0x1153a5(0x72b)]('hidden'),textInputArea[_0x1153a5(0xbd3)][_0x1153a5(0x72b)](_0x1153a5(0x81c)),worksheetInputArea[_0x1153a5(0xbd3)][_0x1153a5(0x72b)](_0x1153a5(0x81c));if(_0x5c951e)_0x5c951e['classList'][_0x1153a5(0x72b)]('hidden');if(_0x2754c4)_0x2754c4[_0x1153a5(0xbd3)][_0x1153a5(0x72b)]('hidden');if(_0x561f2d)_0x561f2d[_0x1153a5(0xbd3)][_0x1153a5(0x72b)]('hidden');}),worksheetTab[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x4fb395=_0x26fcf6;worksheetTab[_0x4fb395(0xbd3)][_0x4fb395(0x72b)](_0x4fb395(0x329)),topicTab['classList'][_0x4fb395(0x5f4)](_0x4fb395(0x329)),textTab[_0x4fb395(0xbd3)]['remove'](_0x4fb395(0x329)),fileTab[_0x4fb395(0xbd3)][_0x4fb395(0x5f4)]('active');if(_0x3ce215)_0x3ce215[_0x4fb395(0xbd3)][_0x4fb395(0x5f4)](_0x4fb395(0x329));if(_0x11f665)_0x11f665['classList'][_0x4fb395(0x5f4)](_0x4fb395(0x329));if(_0x39b6d4)_0x39b6d4[_0x4fb395(0xbd3)][_0x4fb395(0x5f4)]('active');worksheetInputArea[_0x4fb395(0xbd3)][_0x4fb395(0x5f4)](_0x4fb395(0x81c)),topicInputArea['classList'][_0x4fb395(0x72b)]('hidden'),textInputArea[_0x4fb395(0xbd3)][_0x4fb395(0x72b)](_0x4fb395(0x81c)),fileInputArea[_0x4fb395(0xbd3)]['add'](_0x4fb395(0x81c));if(_0x5c951e)_0x5c951e[_0x4fb395(0xbd3)]['add'](_0x4fb395(0x81c));if(_0x2754c4)_0x2754c4[_0x4fb395(0xbd3)]['add']('hidden');if(_0x561f2d)_0x561f2d[_0x4fb395(0xbd3)][_0x4fb395(0x72b)](_0x4fb395(0x81c));});const _0x2ea77f=document['getElementById'](_0x26fcf6(0x528)),_0x5be203=document[_0x26fcf6(0xb9f)](_0x26fcf6(0x698));_0x2ea77f&&_0x2ea77f[_0x26fcf6(0x95a)]('click',()=>{const _0x43226e=_0x26fcf6;topicTab[_0x43226e(0xbd3)]['remove'](_0x43226e(0x329)),textTab['classList'][_0x43226e(0x5f4)](_0x43226e(0x329)),fileTab[_0x43226e(0xbd3)][_0x43226e(0x5f4)](_0x43226e(0x329)),worksheetTab['classList'][_0x43226e(0x5f4)]('active');if(_0x3ce215)_0x3ce215['classList'][_0x43226e(0x5f4)](_0x43226e(0x329));if(_0x11f665)_0x11f665[_0x43226e(0xbd3)]['remove']('active');if(_0x39b6d4)_0x39b6d4[_0x43226e(0xbd3)]['remove'](_0x43226e(0x329));_0x2ea77f[_0x43226e(0xbd3)][_0x43226e(0x72b)](_0x43226e(0x329)),topicInputArea[_0x43226e(0xbd3)][_0x43226e(0x72b)]('hidden'),textInputArea[_0x43226e(0xbd3)][_0x43226e(0x72b)](_0x43226e(0x81c)),fileInputArea[_0x43226e(0xbd3)][_0x43226e(0x72b)](_0x43226e(0x81c)),worksheetInputArea[_0x43226e(0xbd3)][_0x43226e(0x72b)](_0x43226e(0x81c));if(_0x5c951e)_0x5c951e[_0x43226e(0xbd3)][_0x43226e(0x72b)]('hidden');if(_0x2754c4)_0x2754c4['classList']['add'](_0x43226e(0x81c));if(_0x561f2d)_0x561f2d[_0x43226e(0xbd3)]['add'](_0x43226e(0x81c));_0x5be203['classList'][_0x43226e(0x5f4)](_0x43226e(0x81c)),displayQuestionBank();});_0x3ce215&&(_0x3ce215[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x331f7a=_0x26fcf6;_0x3ce215['classList'][_0x331f7a(0x72b)](_0x331f7a(0x329)),topicTab[_0x331f7a(0xbd3)]['remove'](_0x331f7a(0x329)),textTab[_0x331f7a(0xbd3)][_0x331f7a(0x5f4)]('active'),fileTab[_0x331f7a(0xbd3)][_0x331f7a(0x5f4)](_0x331f7a(0x329)),worksheetTab['classList'][_0x331f7a(0x5f4)](_0x331f7a(0x329));if(_0x11f665)_0x11f665[_0x331f7a(0xbd3)][_0x331f7a(0x5f4)](_0x331f7a(0x329));if(_0x39b6d4)_0x39b6d4[_0x331f7a(0xbd3)]['remove']('active');_0x5c951e[_0x331f7a(0xbd3)]['remove'](_0x331f7a(0x81c)),topicInputArea[_0x331f7a(0xbd3)]['add'](_0x331f7a(0x81c)),textInputArea[_0x331f7a(0xbd3)]['add'](_0x331f7a(0x81c)),fileInputArea[_0x331f7a(0xbd3)]['add']('hidden'),worksheetInputArea[_0x331f7a(0xbd3)]['add'](_0x331f7a(0x81c));if(_0x2754c4)_0x2754c4[_0x331f7a(0xbd3)][_0x331f7a(0x72b)]('hidden');if(_0x561f2d)_0x561f2d['classList']['add']('hidden');}),document['getElementById'](_0x26fcf6(0xeba))[_0x26fcf6(0x95a)]('click',handleGenerateFromLink));_0x11f665&&_0x11f665[_0x26fcf6(0x95a)]('click',()=>{const _0x34d067=_0x26fcf6;_0x11f665[_0x34d067(0xbd3)][_0x34d067(0x72b)](_0x34d067(0x329)),topicTab[_0x34d067(0xbd3)][_0x34d067(0x5f4)](_0x34d067(0x329)),textTab[_0x34d067(0xbd3)][_0x34d067(0x5f4)]('active'),fileTab['classList']['remove'](_0x34d067(0x329)),worksheetTab[_0x34d067(0xbd3)][_0x34d067(0x5f4)]('active');if(_0x3ce215)_0x3ce215['classList']['remove'](_0x34d067(0x329));if(_0x2ea77f)_0x2ea77f['classList'][_0x34d067(0x5f4)]('active');if(_0x39b6d4)_0x39b6d4[_0x34d067(0xbd3)][_0x34d067(0x5f4)](_0x34d067(0x329));_0x2754c4[_0x34d067(0xbd3)][_0x34d067(0x5f4)]('hidden'),topicInputArea['classList'][_0x34d067(0x72b)](_0x34d067(0x81c)),textInputArea[_0x34d067(0xbd3)][_0x34d067(0x72b)](_0x34d067(0x81c)),fileInputArea[_0x34d067(0xbd3)][_0x34d067(0x72b)](_0x34d067(0x81c)),worksheetInputArea[_0x34d067(0xbd3)][_0x34d067(0x72b)](_0x34d067(0x81c));if(_0x5c951e)_0x5c951e['classList'][_0x34d067(0x72b)](_0x34d067(0x81c));if(_0x5be203)_0x5be203['classList']['add'](_0x34d067(0x81c));if(_0x561f2d)_0x561f2d['classList'][_0x34d067(0x72b)](_0x34d067(0x81c));});_0x39b6d4&&_0x39b6d4['addEventListener'](_0x26fcf6(0xd6c),()=>{const _0x140251=_0x26fcf6;_0x39b6d4[_0x140251(0xbd3)][_0x140251(0x72b)](_0x140251(0x329)),topicTab[_0x140251(0xbd3)]['remove'](_0x140251(0x329)),textTab[_0x140251(0xbd3)][_0x140251(0x5f4)](_0x140251(0x329)),fileTab[_0x140251(0xbd3)][_0x140251(0x5f4)](_0x140251(0x329)),worksheetTab[_0x140251(0xbd3)][_0x140251(0x5f4)](_0x140251(0x329));if(_0x3ce215)_0x3ce215[_0x140251(0xbd3)][_0x140251(0x5f4)](_0x140251(0x329));if(_0x11f665)_0x11f665['classList'][_0x140251(0x5f4)](_0x140251(0x329));if(_0x2ea77f)_0x2ea77f['classList'][_0x140251(0x5f4)]('active');_0x561f2d[_0x140251(0xbd3)][_0x140251(0x5f4)](_0x140251(0x81c)),topicInputArea[_0x140251(0xbd3)][_0x140251(0x72b)]('hidden'),textInputArea[_0x140251(0xbd3)]['add'](_0x140251(0x81c)),fileInputArea['classList'][_0x140251(0x72b)](_0x140251(0x81c)),worksheetInputArea[_0x140251(0xbd3)]['add'](_0x140251(0x81c));if(_0x5c951e)_0x5c951e[_0x140251(0xbd3)][_0x140251(0x72b)](_0x140251(0x81c));if(_0x2754c4)_0x2754c4[_0x140251(0xbd3)][_0x140251(0x72b)](_0x140251(0x81c));if(_0x5be203)_0x5be203[_0x140251(0xbd3)][_0x140251(0x72b)](_0x140251(0x81c));});const _0x2a444a=document['getElementById'](_0x26fcf6(0x6ef)),_0x461478=document[_0x26fcf6(0xb9f)](_0x26fcf6(0xe29));if(_0x2a444a){const _0x170656=document[_0x26fcf6(0xb9f)]('blueprint-upload-input'),_0x13517c=document[_0x26fcf6(0xb9f)](_0x26fcf6(0xe29)),_0x5f2939=document[_0x26fcf6(0xb9f)]('blueprint-options-container'),_0x144490=document[_0x26fcf6(0xb9f)](_0x26fcf6(0x44a)),_0x12d60f=document[_0x26fcf6(0xb9f)](_0x26fcf6(0x2aa)),_0x493354=document[_0x26fcf6(0xb9f)](_0x26fcf6(0x646));_0x170656&&_0x170656[_0x26fcf6(0x95a)](_0x26fcf6(0xaa4),async _0x104639=>{const _0x8be2d7=_0x26fcf6;_0x5f2939[_0x8be2d7(0xbd3)][_0x8be2d7(0x72b)](_0x8be2d7(0x81c)),_0x12d60f[_0x8be2d7(0xbd3)][_0x8be2d7(0x72b)](_0x8be2d7(0x81c)),_0x144490[_0x8be2d7(0x270)]=![],_0x13517c[_0x8be2d7(0x417)]=!![];const _0x124ae1=_0x104639[_0x8be2d7(0x4ee)]['files'][0x0];if(_0x124ae1){_0x13517c[_0x8be2d7(0x417)]=![];try{const _0x3b143e=await extractTextFromPdf(_0x124ae1);await analyzeBlueprintForTopics(_0x3b143e);}catch(_0x4ebb20){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x5f2939[_0x8be2d7(0xbd3)][_0x8be2d7(0x72b)](_0x8be2d7(0x81c));}}}),_0x144490&&_0x144490[_0x26fcf6(0x95a)](_0x26fcf6(0xaa4),_0x988805=>{const _0x1cc149=_0x26fcf6,_0x3e3c35=_0x988805['target']['checked'];_0x12d60f[_0x1cc149(0xbd3)][_0x1cc149(0x581)](_0x1cc149(0x81c),!_0x3e3c35),_0x13517c[_0x1cc149(0x417)]=_0x3e3c35;}),_0x493354&&(_0x493354&&_0x493354['addEventListener'](_0x26fcf6(0xd6c),_0x26c221=>{const _0x3dc57e=_0x26fcf6,_0x3a235e=_0x26c221[_0x3dc57e(0x4ee)][_0x3dc57e(0x892)]('.topic-selection-btn'),_0x1f6971=_0x26c221[_0x3dc57e(0x4ee)]['closest'](_0x3dc57e(0x9fc));if(_0x3a235e){const _0x430539=unescape(_0x3a235e[_0x3dc57e(0x273)][_0x3dc57e(0x257)]);generateQuizForSingleTopic(_0x430539);}else{if(_0x1f6971){const _0x4af002=unescape(_0x1f6971[_0x3dc57e(0x273)][_0x3dc57e(0x257)]);handleGenerateTeachingContent(_0x4af002);}}}));}_0x461478&&_0x461478[_0x26fcf6(0x95a)]('click',handleGenerateFromBlueprint);const _0xfb7e75=document['getElementById'](_0x26fcf6(0x41c)),_0x49e0f1=document['getElementById'](_0x26fcf6(0x435));_0xfb7e75&&_0xfb7e75[_0x26fcf6(0x95a)]('change',_0x37118a=>{const _0xde0cc9=_0x26fcf6;_0x49e0f1[_0xde0cc9(0x417)]=_0x37118a[_0xde0cc9(0x4ee)][_0xde0cc9(0x3db)][_0xde0cc9(0x8da)]===0x0;});_0x49e0f1&&_0x49e0f1['addEventListener'](_0x26fcf6(0xd6c),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),handleLoadQuiz),startQuizBtn[_0x26fcf6(0x95a)]('click',async()=>{const _0x4d5ff1=_0x26fcf6,_0x2791ca=document[_0x4d5ff1(0xb9f)](_0x4d5ff1(0xcd8));currentStudentName=_0x2791ca[_0x4d5ff1(0x232)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x428135=currentQuizData['id'],_0x22f451=doc(db,_0x4d5ff1(0xc4a)+appId+_0x4d5ff1(0x2a1)+_0x428135+_0x4d5ff1(0xc5e),currentStudentName),_0x38e35f=await getDoc(_0x22f451);!_0x38e35f[_0x4d5ff1(0x37f)]()?await setDoc(_0x22f451,{'studentName':currentStudentName,'startedAt':new Date()[_0x4d5ff1(0x8f0)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x22f451,{'startedAt':new Date()['toISOString']()});}catch(_0x4dcfe5){console[_0x4d5ff1(0x7cd)](_0x4d5ff1(0x33e),_0x4dcfe5),showMessage(_0x4d5ff1(0x7f4));return;}studentNameSelectionView[_0x4d5ff1(0xbd3)][_0x4d5ff1(0x72b)](_0x4d5ff1(0x81c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x26fcf6(0xb9f)]('join-live-game-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),showJoinGameView),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x527))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),handleJoinLiveGame),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xe55))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>showView(_0x26fcf6(0x441)));const _0xbd4554=()=>{const _0x14cc39=_0x26fcf6,_0x33225f=document[_0x14cc39(0xb9f)](_0x14cc39(0x9ba))[_0x14cc39(0x1d0)][_0x14cc39(0x95b)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x33225f||_0x14cc39(0x1f1));},_0x57d372=document['getElementById']('math-topic-search-input');_0x57d372&&_0x57d372['addEventListener'](_0x26fcf6(0x304),_0x3cc4d2=>{const _0x386e30=_0x26fcf6,_0x5467bc=_0x3cc4d2[_0x386e30(0x4ee)][_0x386e30(0x232)][_0x386e30(0x724)]()[_0x386e30(0xbdc)](),_0x2b6fdb=document[_0x386e30(0xb9f)](_0x386e30(0xc55)),_0xb2503d=_0x2b6fdb['querySelectorAll'](_0x386e30(0xe81));_0xb2503d[_0x386e30(0x4aa)](_0x37d49b=>{const _0x36de2d=_0x386e30;let _0x14e24a=![];const _0x1e879b=_0x37d49b[_0x36de2d(0x3eb)](_0x36de2d(0xafc));_0x1e879b[_0x36de2d(0x4aa)](_0x4380f6=>{const _0x94d019=_0x36de2d,_0x263286=_0x4380f6[_0x94d019(0x584)](_0x94d019(0xe83))[_0x94d019(0x1d0)]['toLowerCase']();_0x263286[_0x94d019(0xa36)](_0x5467bc)?(_0x4380f6[_0x94d019(0x8b5)]['display']='flex',_0x14e24a=!![]):_0x4380f6[_0x94d019(0x8b5)][_0x94d019(0x4e3)]=_0x94d019(0xbae);}),_0x14e24a?_0x37d49b[_0x36de2d(0x8b5)][_0x36de2d(0x4e3)]=_0x36de2d(0x653):_0x37d49b[_0x36de2d(0x8b5)]['display']=_0x36de2d(0xbae);});});document[_0x26fcf6(0xb9f)]('export-image-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>exportTableAsImage(_0x26fcf6(0xc20),_0xbd4554())),document['getElementById']('export-pdf-btn')['addEventListener']('click',()=>exportTableAsPDF('results-table',_0xbd4554())),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xa98))['addEventListener'](_0x26fcf6(0xd6c),()=>exportTableAsWord(_0x26fcf6(0xc20),_0xbd4554())),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xc5b))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>exportTableAsExcel(_0x26fcf6(0xe4f),_0xbd4554()));const _0x5bb30a=()=>{const _0x5d7228=_0x26fcf6,_0x14ba59=document[_0x5d7228(0xb9f)]('results-quiz-title')[_0x5d7228(0x1d0)][_0x5d7228(0x95b)](/[^a-z0-9]/gi,'_')[_0x5d7228(0x724)]();return _0x5d7228(0xc8e)+(_0x14ba59||_0x5d7228(0x1f1));};document[_0x26fcf6(0xb9f)]('export-leaderboard-image-btn')[_0x26fcf6(0x95a)]('click',()=>exportTableAsImage(_0x26fcf6(0x2e6),_0x5bb30a())),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xb4e))['addEventListener'](_0x26fcf6(0xd6c),()=>exportTableAsPDF(_0x26fcf6(0xdc1),_0x5bb30a())),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x3f4))['addEventListener'](_0x26fcf6(0xd6c),()=>exportTableAsWord(_0x26fcf6(0x2e6),_0x5bb30a())),document[_0x26fcf6(0xb9f)]('export-leaderboard-excel-btn')['addEventListener'](_0x26fcf6(0xd6c),()=>exportTableAsExcel(_0x26fcf6(0xdc1),_0x5bb30a())),projectQuizzesList[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),async _0x5afbd0=>{const _0x4b6d08=_0x26fcf6,_0x3f6241=_0x5afbd0[_0x4b6d08(0x4ee)]['closest'](_0x4b6d08(0xdbd)),_0x12e1ec=_0x5afbd0['target'][_0x4b6d08(0x892)](_0x4b6d08(0xaaa)),_0xc371d5=_0x5afbd0['target']['closest']('.compare-results-btn'),_0x300b59=_0x5afbd0[_0x4b6d08(0x4ee)][_0x4b6d08(0x892)](_0x4b6d08(0x8fb)),_0x8406f1=_0x5afbd0['target'][_0x4b6d08(0x892)](_0x4b6d08(0xb1d)),_0x33aad1=_0x5afbd0['target'][_0x4b6d08(0x892)](_0x4b6d08(0x402)),_0x5a0de2=_0x5afbd0['target']['closest'](_0x4b6d08(0x27b)),_0x36c7d9=_0x5afbd0[_0x4b6d08(0x4ee)][_0x4b6d08(0x892)](_0x4b6d08(0xb82)),_0x25c4ae=_0x5afbd0[_0x4b6d08(0x4ee)][_0x4b6d08(0x892)](_0x4b6d08(0x58c)),_0x538d45=_0x5afbd0[_0x4b6d08(0x4ee)][_0x4b6d08(0x892)](_0x4b6d08(0x2c7)),_0x25bbf6=_0x5afbd0['target'][_0x4b6d08(0x892)](_0x4b6d08(0xba8)),_0x50f03a=_0x5afbd0[_0x4b6d08(0x4ee)][_0x4b6d08(0x892)](_0x4b6d08(0x915)),_0x110f33=_0x5afbd0[_0x4b6d08(0x4ee)][_0x4b6d08(0x892)](_0x4b6d08(0x790)),_0x3dcfc5=_0x5afbd0[_0x4b6d08(0x4ee)][_0x4b6d08(0x892)](_0x4b6d08(0x5ec)),_0x5c2298=_0x5afbd0[_0x4b6d08(0x4ee)]['closest'](_0x4b6d08(0x741)),_0x547739=_0x5afbd0[_0x4b6d08(0x4ee)][_0x4b6d08(0x892)](_0x4b6d08(0xa41)),_0x2ce567=_0x5afbd0[_0x4b6d08(0x4ee)][_0x4b6d08(0x892)](_0x4b6d08(0x8a1)),_0x1b9213=_0x5afbd0[_0x4b6d08(0x4ee)][_0x4b6d08(0x892)](_0x4b6d08(0xa14)),_0x549479=_0x5afbd0['target'][_0x4b6d08(0x892)](_0x4b6d08(0xc96)),_0x33e655=_0x5afbd0[_0x4b6d08(0x4ee)]['closest'](_0x4b6d08(0x79a)),_0x11b8e0=_0x5afbd0[_0x4b6d08(0x4ee)]['closest']('.generate-easy-version-btn'),_0x4a0043=_0x5afbd0[_0x4b6d08(0x4ee)][_0x4b6d08(0x892)](_0x4b6d08(0x588)),_0x501b72=_0x5afbd0[_0x4b6d08(0x4ee)][_0x4b6d08(0x892)]('.start-live-race-btn');if(_0x4a0043){const _0x210a2f=_0x4a0043[_0x4b6d08(0x273)][_0x4b6d08(0x515)],_0x5d6578=_0x4a0043[_0x4b6d08(0x273)][_0x4b6d08(0x884)],_0x518a4b=allQuizzes['find'](_0x1628d7=>_0x1628d7['id']===_0x210a2f);_0x518a4b&&showGameStartConfirmationModal(_0x210a2f,_0x5d6578,_0x518a4b[_0x4b6d08(0x257)]);}else{if(_0x501b72){const _0x24dae3=_0x501b72[_0x4b6d08(0x273)][_0x4b6d08(0x515)];handleStartLiveRace(_0x24dae3);}else{if(_0x33e655){const _0x24a628=_0x33e655[_0x4b6d08(0x273)]['quizId'],_0xca200f=document[_0x4b6d08(0xb9f)](_0x4b6d08(0xd72)+_0x24a628);_0xca200f&&_0xca200f[_0x4b6d08(0xbd3)]['toggle'](_0x4b6d08(0x81c));}else{if(_0x12e1ec){const _0x511927=_0x12e1ec[_0x4b6d08(0x273)][_0x4b6d08(0x515)],_0x569299=allQuizzes[_0x4b6d08(0x59d)](_0x2135ff=>_0x2135ff['id']===_0x511927);_0x569299&&handleGenerateParallelPostTest(_0x569299);}else{if(_0xc371d5)handleCompareResults(_0xc371d5[_0x4b6d08(0x273)][_0x4b6d08(0x515)],_0xc371d5[_0x4b6d08(0x273)][_0x4b6d08(0x4ec)]);else{if(_0x300b59){const _0x62dd35=_0x300b59[_0x4b6d08(0x273)][_0x4b6d08(0x515)],_0x40f418=allQuizzes[_0x4b6d08(0x59d)](_0x4b0327=>_0x4b0327['id']===_0x62dd35);_0x40f418&&_0x40f418[_0x4b6d08(0x859)]?(displayLessonPlan(_0x40f418[_0x4b6d08(0x859)],_0x40f418),showConfirmation(_0x4b6d08(0x617),()=>handleGenerateLessonPlan(_0x62dd35)),document[_0x4b6d08(0xb9f)]('confirmation-modal')['querySelector']('h3')[_0x4b6d08(0x1d0)]=_0x4b6d08(0x78d),document[_0x4b6d08(0xb9f)](_0x4b6d08(0x9fa))[_0x4b6d08(0x1d0)]=_0x4b6d08(0x365)):handleGenerateLessonPlan(_0x62dd35);}else{if(_0x8406f1)handleToggleStarQuiz(_0x8406f1['dataset'][_0x4b6d08(0x515)]);else{if(_0x33aad1)copyTextToClipboard(_0x33aad1[_0x4b6d08(0x273)][_0x4b6d08(0x515)],_0x4b6d08(0x7a9));else{if(_0x5a0de2)handleOpenQuizEditor(_0x5a0de2[_0x4b6d08(0x273)]['quizId']);else{if(_0x36c7d9)handleQuizSettings(_0x36c7d9['dataset'][_0x4b6d08(0x515)]);else{if(_0x25c4ae)handleDuplicateQuiz(_0x25c4ae['dataset'][_0x4b6d08(0x515)]);else{if(_0x538d45)handleRenameQuiz(_0x538d45[_0x4b6d08(0x273)][_0x4b6d08(0x515)],_0x538d45[_0x4b6d08(0x273)]['topic']);else{if(_0x25bbf6){const _0x44bf82=_0x25bbf6['dataset'][_0x4b6d08(0x515)],_0x3670bd=allQuizzes[_0x4b6d08(0x59d)](_0x1d70ac=>_0x1d70ac['id']===_0x44bf82);_0x3670bd&&handleGenerateParallelFromBank(_0x3670bd);}else{if(_0x50f03a)handleMoveQuiz(_0x50f03a[_0x4b6d08(0x273)][_0x4b6d08(0x515)]);else{if(_0x110f33)handleManualQuizPairing(_0x110f33['dataset'][_0x4b6d08(0x515)]);else{if(_0x3dcfc5)handleUnpairQuiz(_0x3dcfc5[_0x4b6d08(0x273)][_0x4b6d08(0x515)]);else{if(_0x5c2298){const _0x3a20d6=_0x5c2298[_0x4b6d08(0x273)]['quizId'],_0x18f486=allQuizzes[_0x4b6d08(0x59d)](_0x44e140=>_0x44e140['id']===_0x3a20d6);if(_0x18f486)startPresentation(_0x18f486);}else{if(_0x547739){const _0x297cb7=_0x547739[_0x4b6d08(0x273)]['quizId'],_0x42d958=allQuizzes[_0x4b6d08(0x59d)](_0x57bea6=>_0x57bea6['id']===_0x297cb7);_0x42d958&&(currentQuizData=_0x42d958,startAdminTest());}else{if(_0x2ce567)actionTargetId=_0x2ce567[_0x4b6d08(0x273)][_0x4b6d08(0x515)],document[_0x4b6d08(0xb9f)](_0x4b6d08(0x948))[_0x4b6d08(0xbd3)][_0x4b6d08(0x5f4)](_0x4b6d08(0x81c));else{if(_0x1b9213)showConfirmation(_0x4b6d08(0x4b2)+_0x1b9213[_0x4b6d08(0x273)][_0x4b6d08(0x257)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x1b9213[_0x4b6d08(0x273)]['quizId']));else{if(_0x549479)handleQuizStatus(_0x549479['dataset'][_0x4b6d08(0x515)]);else{if(_0x11b8e0)handleGenerateEasyVersionQuiz(_0x11b8e0[_0x4b6d08(0x273)]['quizId']);else _0x3f6241&&showQuizDetailView(_0x3f6241[_0x4b6d08(0x273)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x26fcf6(0x376))['addEventListener'](_0x26fcf6(0xd6c),()=>showView('student')),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x65d))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),confirmAndStartTeamQuiz),document['getElementById'](_0x26fcf6(0xdc1))[_0x26fcf6(0x584)](_0x26fcf6(0x1f8))[_0x26fcf6(0x95a)]('click',_0x5b01b2=>{const _0x2bc4ed=_0x26fcf6,_0x1de4fb=_0x5b01b2[_0x2bc4ed(0x4ee)]['closest'](_0x2bc4ed(0xb29));if(!_0x1de4fb||!_0x1de4fb['dataset'][_0x2bc4ed(0x8c7)])return;const _0x48ecb8=_0x1de4fb['dataset'][_0x2bc4ed(0x8c7)];if(quizLeaderboardSortBy===_0x48ecb8)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x2bc4ed(0x46e)?_0x2bc4ed(0x22f):_0x2bc4ed(0x46e);else{quizLeaderboardSortBy=_0x48ecb8;const _0x2cd680=[_0x2bc4ed(0x466)];quizLeaderboardSortOrder=_0x2cd680[_0x2bc4ed(0xa36)](_0x48ecb8)?_0x2bc4ed(0x46e):_0x2bc4ed(0x22f);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x2bc4ed(0xbb7));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x585))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),closePresentation),document['getElementById'](_0x26fcf6(0x7fd))[_0x26fcf6(0x95a)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xbc4))[_0x26fcf6(0x95a)]('click',()=>{const _0x5b27ee=_0x26fcf6;currentQuizData[_0x5b27ee(0xa09)]&&currentPresentationSlide<currentQuizData[_0x5b27ee(0xa09)][_0x5b27ee(0x8da)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x26fcf6(0x95a)](_0x26fcf6(0x28d),()=>{const _0x12c7db=_0x26fcf6;!document['fullscreenElement']&&(presentationModal[_0x12c7db(0x8b5)][_0x12c7db(0x4e3)]=_0x12c7db(0xbae));}),document['getElementById'](_0x26fcf6(0xe22))['addEventListener']('click',handleDeleteAllStudents),studentList['addEventListener']('click',_0x36e0ea=>{const _0x478d7e=_0x26fcf6,_0x10029=_0x36e0ea[_0x478d7e(0x4ee)][_0x478d7e(0x892)]('.delete-student-btn');if(_0x10029){const _0x358138=_0x10029['dataset']['studentName'];handleDeleteStudent(_0x358138);}}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xd0f))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),handleGenerateFromFileClick),fileUploadInput[_0x26fcf6(0x95a)](_0x26fcf6(0xaa4),_0x502735=>{const _0x27f60e=_0x26fcf6,_0x338b15=_0x502735['target'][_0x27f60e(0x3db)][0x0],_0x276b41=document['getElementById'](_0x27f60e(0xd0f)),_0x10f72e=document[_0x27f60e(0xb9f)](_0x27f60e(0xcd5)),_0x6b5397=document[_0x27f60e(0xb9f)](_0x27f60e(0x93a));_0x338b15?(selectedFile=_0x338b15,_0x6b5397[_0x27f60e(0x270)]?(_0x276b41[_0x27f60e(0x417)]=!![],analyzeFileForTopics(_0x338b15)):(_0x276b41['disabled']=![],_0x10f72e[_0x27f60e(0xbd3)][_0x27f60e(0x72b)](_0x27f60e(0x81c)))):(selectedFile=null,_0x276b41[_0x27f60e(0x417)]=!![],_0x10f72e[_0x27f60e(0xbd3)][_0x27f60e(0x72b)](_0x27f60e(0x81c)));}),document[_0x26fcf6(0xb9f)]('separate-by-content-from-file-checkbox')[_0x26fcf6(0x95a)](_0x26fcf6(0xaa4),_0x52d0a2=>{const _0x3e51d1=_0x26fcf6,_0xe81f5a=_0x52d0a2[_0x3e51d1(0x4ee)]['checked'],_0x53e4d7=document[_0x3e51d1(0xb9f)]('generate-from-file-btn'),_0x666d2a=document[_0x3e51d1(0xb9f)](_0x3e51d1(0xcd5));_0xe81f5a?(_0x53e4d7[_0x3e51d1(0x417)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x666d2a['classList']['remove'](_0x3e51d1(0x81c)),document[_0x3e51d1(0xb9f)](_0x3e51d1(0x6c8))[_0x3e51d1(0x7fc)]=_0x3e51d1(0xeca))):(_0x666d2a['classList'][_0x3e51d1(0x72b)]('hidden'),_0x53e4d7['disabled']=!selectedFile);}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xcd5))['addEventListener'](_0x26fcf6(0xd6c),_0x397c14=>{const _0x144d33=_0x26fcf6,_0x38e747=_0x397c14[_0x144d33(0x4ee)][_0x144d33(0x892)](_0x144d33(0x880)),_0x243e5f=_0x397c14[_0x144d33(0x4ee)][_0x144d33(0x892)](_0x144d33(0x9fc));if(_0x38e747){const _0x5b4f18=unescape(_0x38e747[_0x144d33(0x273)][_0x144d33(0x257)]);generateHybridQuizForTopic(_0x5b4f18);}else{if(_0x243e5f){const _0xb0242c=unescape(_0x243e5f[_0x144d33(0x273)]['topic']),_0x37bd8d=document[_0x144d33(0xb9f)]('difficulty-level-select')['value'];handleGenerateAndShowLesson(_0xb0242c,_0x37bd8d);}}}),document['getElementById']('timer-mode-select')['addEventListener']('change',_0x4ad9b6=>{const _0x4cd984=_0x26fcf6,_0x17a96f=document['getElementById'](_0x4cd984(0x8b0)),_0x1d7446=document[_0x4cd984(0xb9f)](_0x4cd984(0xe75)),_0x35a7cc=document[_0x4cd984(0xb9f)](_0x4cd984(0xbba));_0x4ad9b6[_0x4cd984(0x4ee)][_0x4cd984(0x232)]===_0x4cd984(0xbae)?_0x17a96f[_0x4cd984(0xbd3)][_0x4cd984(0x72b)](_0x4cd984(0x81c)):(_0x17a96f[_0x4cd984(0xbd3)][_0x4cd984(0x5f4)]('hidden'),_0x4ad9b6[_0x4cd984(0x4ee)][_0x4cd984(0x232)]===_0x4cd984(0xc8b)?(_0x1d7446[_0x4cd984(0x1d0)]=_0x4cd984(0x7e0),_0x35a7cc['value']='10'):(_0x1d7446[_0x4cd984(0x1d0)]=_0x4cd984(0x2d7),_0x35a7cc[_0x4cd984(0x232)]='30'));}),document['getElementById']('quiz-type-select')['addEventListener'](_0x26fcf6(0xaa4),_0xa7db74=>{const _0x1f67d3=_0x26fcf6,_0x2a5af1=document['getElementById'](_0x1f67d3(0x6da)),_0x8378ec=_0xa7db74[_0x1f67d3(0x4ee)][_0x1f67d3(0x232)],_0x9b570f=document[_0x1f67d3(0x584)](_0x1f67d3(0x31d)),_0x520e36=document[_0x1f67d3(0xb9f)](_0x1f67d3(0x488)),_0x48a68d=document['getElementById']('num-questions');_0x8378ec==='matching'?_0x9b570f[_0x1f67d3(0x1d0)]=_0x1f67d3(0x28c):_0x9b570f[_0x1f67d3(0x1d0)]=_0x1f67d3(0x648),_0x8378ec==='multiple_choice'||_0x8378ec===_0x1f67d3(0xe8c)||_0x8378ec===_0x1f67d3(0xcaf)?_0x2a5af1['classList']['remove'](_0x1f67d3(0x81c)):_0x2a5af1['classList']['add'](_0x1f67d3(0x81c)),_0x520e36[_0x1f67d3(0x5e9)]=_0x48a68d[_0x1f67d3(0x232)];}),document['getElementById']('num-questions')['addEventListener'](_0x26fcf6(0x304),_0x2e1368=>{const _0x216084=_0x26fcf6;document[_0x216084(0xb9f)](_0x216084(0x488))[_0x216084(0x5e9)]=_0x2e1368[_0x216084(0x4ee)][_0x216084(0x232)];}),document[_0x26fcf6(0xb9f)]('modal-timer-mode-select')['addEventListener'](_0x26fcf6(0xaa4),_0x24b152=>{const _0x505b26=_0x26fcf6,_0x5338a0=document['getElementById']('modal-timer-duration-container'),_0x18e1bf=document[_0x505b26(0xb9f)](_0x505b26(0x9ec)),_0x581ac2=document['getElementById'](_0x505b26(0x306));_0x24b152[_0x505b26(0x4ee)][_0x505b26(0x232)]===_0x505b26(0xbae)?_0x5338a0[_0x505b26(0xbd3)][_0x505b26(0x72b)](_0x505b26(0x81c)):(_0x5338a0[_0x505b26(0xbd3)]['remove'](_0x505b26(0x81c)),_0x24b152[_0x505b26(0x4ee)]['value']==='whole_quiz'?_0x18e1bf[_0x505b26(0x1d0)]=_0x505b26(0x7e0):_0x18e1bf[_0x505b26(0x1d0)]=_0x505b26(0x2d7));}),document['getElementById'](_0x26fcf6(0x21c))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x3928a4=_0x26fcf6;document[_0x3928a4(0xb9f)](_0x3928a4(0x4b7))['classList']['add'](_0x3928a4(0x81c));}),document['getElementById'](_0x26fcf6(0x758))['addEventListener'](_0x26fcf6(0xd6c),()=>{const _0x1c9315=_0x26fcf6;document[_0x1c9315(0xb9f)](_0x1c9315(0x4b7))[_0x1c9315(0xbd3)][_0x1c9315(0x72b)](_0x1c9315(0x81c));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xc9b))[_0x26fcf6(0x95a)]('click',handleVerifyAnswersInEditor),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x2a9))[_0x26fcf6(0x95a)]('click',()=>{const _0x229f5d=_0x26fcf6;document[_0x229f5d(0xb9f)](_0x229f5d(0x4b7))[_0x229f5d(0xbd3)][_0x229f5d(0x72b)]('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0x35e))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),handleAutoFixLatex);const _0x450b80=document[_0x26fcf6(0xb9f)](_0x26fcf6(0x964));_0x450b80&&_0x450b80['addEventListener'](_0x26fcf6(0xd6c),_0x385a1b=>{const _0x1f7ea9=_0x26fcf6,_0x3245fd=_0x385a1b[_0x1f7ea9(0x4ee)][_0x1f7ea9(0x892)]('.regenerate-question-editor-btn');if(_0x3245fd){const _0xb64221=_0x3245fd['closest'](_0x1f7ea9(0x6bb)),_0xbaf1a1=parseInt(_0xb64221[_0x1f7ea9(0x273)][_0x1f7ea9(0x4c9)],0xa);handleRegenerateQuestionInEditor(_0xbaf1a1);return;}const _0x5d56b8=_0x385a1b['target'][_0x1f7ea9(0x892)](_0x1f7ea9(0x7e9));if(_0x5d56b8){const _0x5c684a=_0x5d56b8['closest'](_0x1f7ea9(0x6bb)),_0x4738f3=parseInt(_0x5c684a[_0x1f7ea9(0x273)][_0x1f7ea9(0x4c9)],0xa);handleDeleteQuestionInEditor(_0x4738f3);return;}const _0x7d0a3d=_0x385a1b[_0x1f7ea9(0x4ee)][_0x1f7ea9(0x892)](_0x1f7ea9(0x36d));if(_0x7d0a3d){handleAddQuestionInEditor();return;}});document['getElementById'](_0x26fcf6(0x22c))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),openQuizBankModal),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xacd))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x1a6658=_0x26fcf6;document[_0x1a6658(0xb9f)](_0x1a6658(0x62c))['classList']['add'](_0x1a6658(0x81c));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xe91))[_0x26fcf6(0x95a)](_0x26fcf6(0x304),_0x16782c=>renderQuizBankList(_0x16782c[_0x26fcf6(0x4ee)][_0x26fcf6(0x232)]));const _0x57eb47=document['getElementById'](_0x26fcf6(0xc55));if(_0x57eb47){let _0x2b9368=null;_0x57eb47[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),_0x311758=>{const _0x50d80d=_0x26fcf6,_0x3f5d14=_0x311758['target'],_0x58719a=_0x3f5d14['closest'](_0x50d80d(0x36a)),_0x46da6f=_0x3f5d14[_0x50d80d(0x892)]('.delete-custom-topic-btn'),_0x30abc3=_0x3f5d14[_0x50d80d(0x892)](_0x50d80d(0xdb8)),_0x3c379d=_0x3f5d14[_0x50d80d(0x892)](_0x50d80d(0x855));if(_0x46da6f){_0x311758[_0x50d80d(0xb5c)]();const _0x4f0965=_0x46da6f[_0x50d80d(0x273)]['id'],_0x473436=_0x46da6f[_0x50d80d(0x892)]('.group')[_0x50d80d(0x584)](_0x50d80d(0xe83))[_0x50d80d(0x1d0)];showConfirmation(_0x50d80d(0x201)+_0x473436+'\x22?',()=>handleDeleteCustomTopic(_0x4f0965));}else{if(_0x58719a){_0x311758[_0x50d80d(0xb5c)]();_0x2b9368&&toggleTopicEditMode(_0x2b9368,![]);const _0x4f3a18=_0x58719a[_0x50d80d(0x892)](_0x50d80d(0x64b));_0x2b9368=_0x4f3a18,toggleTopicEditMode(_0x4f3a18,!![]);}else{if(_0x30abc3){_0x311758[_0x50d80d(0xb5c)]();const _0x142526=_0x30abc3[_0x50d80d(0x273)]['id'],_0x43cc10=_0x30abc3[_0x50d80d(0x892)](_0x50d80d(0x64b)),_0xb24a8=_0x43cc10[_0x50d80d(0x584)](_0x50d80d(0xbbf))[_0x50d80d(0x232)];handleUpdateCustomTopic(_0x142526,_0xb24a8),_0x2b9368=null;}else{if(_0x3c379d){_0x311758[_0x50d80d(0xb5c)]();const _0x401f62=_0x3c379d['closest']('[data-topic-container-id]');toggleTopicEditMode(_0x401f62,![]),_0x2b9368=null;}}}}}),document['getElementById']('close-lesson-plan-modal-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x462afd=_0x26fcf6;document[_0x462afd(0xb9f)]('lesson-plan-modal')['classList'][_0x462afd(0x72b)](_0x462afd(0x81c));}),document[_0x26fcf6(0xb9f)](_0x26fcf6(0xb6e))[_0x26fcf6(0x95a)]('click',()=>{const _0x1316b9=_0x26fcf6;document[_0x1316b9(0xb9f)](_0x1316b9(0x74b))['classList'][_0x1316b9(0x72b)](_0x1316b9(0x81c));}),document['getElementById'](_0x26fcf6(0xd5f))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),handleExportLessonPDF);}document[_0x26fcf6(0xb9f)]('close-comparison-modal-btn')[_0x26fcf6(0x95a)]('click',()=>{const _0x3cc092=_0x26fcf6;document[_0x3cc092(0xb9f)](_0x3cc092(0xcfb))['classList'][_0x3cc092(0x72b)](_0x3cc092(0x81c));}),document[_0x26fcf6(0xb9f)]('close-comparison-modal-footer-btn')[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),()=>{const _0x236db6=_0x26fcf6;document['getElementById']('comparison-modal')[_0x236db6(0xbd3)][_0x236db6(0x72b)]('hidden');}),setupComparisonModalTabs(),document[_0x26fcf6(0xecd)][_0x26fcf6(0x95a)]('click',function(_0x4697e0){const _0x49b981=_0x26fcf6;if(_0x4697e0[_0x49b981(0x4ee)]['classList']['contains'](_0x49b981(0x520))){const _0x2551a7=unescape(_0x4697e0[_0x49b981(0x4ee)][_0x49b981(0x273)][_0x49b981(0x257)]);startSkillPractice(_0x2551a7);}}),document['getElementById'](_0x26fcf6(0x3d1))[_0x26fcf6(0x95a)](_0x26fcf6(0xd6c),_0x3a53fb=>{const _0x9678b9=_0x26fcf6,_0x5c919a=_0x3a53fb['target'][_0x9678b9(0x892)]('.delete-submission-btn');if(_0x5c919a){const _0x4c7cec=_0x5c919a[_0x9678b9(0x273)]['studentName'];handleDeleteSubmission(_0x4c7cec);}});}async function handleStartGroupMode(_0x49446e,_0x481b59=![]){const _0x122adf=_0x4b15a0,_0x177e8d=allQuizzes['find'](_0x5f34bb=>_0x5f34bb['id']===_0x49446e)||allQuizzesGlobal[_0x122adf(0x59d)](_0x5f4bf3=>_0x5f4bf3['id']===_0x49446e);if(!_0x177e8d){showMessage(_0x122adf(0xad3));return;}currentQuizData=getShuffledQuiz(_0x177e8d);const _0x575ace=Math[_0x122adf(0x426)](0x3e8+Math[_0x122adf(0x7c9)]()*0x2328)['toString']();try{const _0x270276=await addDoc(collection(db,_0x122adf(0xc4a)+appId+_0x122adf(0xebe)),{'quizId':_0x177e8d['id'],'projectId':_0x177e8d[_0x122adf(0xa0f)],'status':_0x122adf(0xa70),'pin':_0x575ace,'mode':_0x122adf(0xe59),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x481b59});currentTeamQuizId=_0x270276['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x575ace,_0x177e8d[_0x122adf(0x257)],_0x122adf(0xe59)),listenForTeamQuizUpdates();}catch(_0x2fce25){console[_0x122adf(0x7cd)](_0x122adf(0xa77),_0x2fce25),showMessage(_0x122adf(0xe7d));}}async function showStudentProgressView(){const _0x22dbe3=_0x4b15a0;studentInitialView[_0x22dbe3(0xbd3)]['add'](_0x22dbe3(0x81c)),document[_0x22dbe3(0xb9f)](_0x22dbe3(0x4ed))[_0x22dbe3(0xbd3)][_0x22dbe3(0x5f4)](_0x22dbe3(0x81c));const _0xb2392e=document['getElementById'](_0x22dbe3(0x99f)),_0x5aa198=document[_0x22dbe3(0xb9f)](_0x22dbe3(0x569)),_0x44e7ad=document[_0x22dbe3(0xb9f)](_0x22dbe3(0x7fe));_0x44e7ad[_0x22dbe3(0x7fc)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x5aa198[_0x22dbe3(0x7fc)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x5aa198[_0x22dbe3(0x417)]=!![],_0xb2392e['innerHTML']=_0x22dbe3(0x623);if(allProjects[_0x22dbe3(0x8da)]===0x0){const _0x1e129c=collection(db,_0x22dbe3(0xc4a)+appId+'/public/data/projects'),_0x3647a0=await getDocs(_0x1e129c);allProjects=_0x3647a0[_0x22dbe3(0x9e5)]['map'](_0x7c2415=>({'id':_0x7c2415['id'],..._0x7c2415[_0x22dbe3(0x7f7)]()}));}const _0x50abd3=allProjects[_0x22dbe3(0xce3)](_0x94a8af=>_0x94a8af[_0x22dbe3(0x879)]?.[_0x22dbe3(0x342)]!==![]);_0x50abd3[_0x22dbe3(0x8c7)]((_0x4a1b7b,_0x37fc24)=>_0x4a1b7b[_0x22dbe3(0x6b1)][_0x22dbe3(0x822)](_0x37fc24['projectName'],'th')),_0xb2392e['innerHTML']=_0x22dbe3(0xe1e)+_0x50abd3[_0x22dbe3(0xa0d)](_0x144d92=>_0x22dbe3(0xe02)+_0x144d92['id']+'\x22>'+_0x144d92[_0x22dbe3(0x6b1)]+_0x22dbe3(0x36b))[_0x22dbe3(0x510)](''),_0xb2392e[_0x22dbe3(0xc24)]=()=>{const _0x3e3ecd=_0x22dbe3,_0x21b8a8=_0x5aa198[_0x3e3ecd(0x232)],_0x24d1cd=_0xb2392e[_0x3e3ecd(0x232)];_0x5aa198[_0x3e3ecd(0x417)]=!![],_0x5aa198[_0x3e3ecd(0x7fc)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x44e7ad['innerHTML']=_0x3e3ecd(0x7ea);if(!_0x24d1cd)return;const _0x23322a=allProjects['find'](_0xb99439=>_0xb99439['id']===_0x24d1cd);if(!_0x23322a||!_0x23322a[_0x3e3ecd(0x813)])return;const _0x226b95=()=>{const _0x5c8936=_0x3e3ecd;_0x5aa198[_0x5c8936(0x7fc)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x23322a[_0x5c8936(0x813)][_0x5c8936(0xa0d)](_0x3f497f=>_0x5c8936(0xe02)+_0x3f497f+'\x22>'+_0x3f497f+'</option>')[_0x5c8936(0x510)](''),_0x5aa198[_0x5c8936(0x417)]=![];const _0x475018=Array[_0x5c8936(0x7ca)](_0x5aa198[_0x5c8936(0x4d1)])[_0x5c8936(0xa0d)](_0x5d631a=>_0x5d631a[_0x5c8936(0x232)]);if(_0x21b8a8&&_0x475018[_0x5c8936(0xa36)](_0x21b8a8))_0x5aa198['value']=_0x21b8a8,_0x5aa198[_0x5c8936(0x893)](new Event(_0x5c8936(0xaa4)));else _0x23322a['students'][_0x5c8936(0x8da)]===0x1&&(_0x5aa198['value']=_0x23322a[_0x5c8936(0x813)][0x0],_0x5aa198[_0x5c8936(0x893)](new Event(_0x5c8936(0xaa4))));};if(_0x23322a[_0x3e3ecd(0x879)]?.['isPasscodeEnabled']){if(sessionStorage[_0x3e3ecd(0x3de)](_0x3e3ecd(0x420)+_0x24d1cd)===_0x3e3ecd(0xb18)){_0x226b95();return;}const _0x89b9f5=document[_0x3e3ecd(0xb9f)](_0x3e3ecd(0x9dd)),_0x327535=document[_0x3e3ecd(0xb9f)](_0x3e3ecd(0xd54)),_0x54cb14=document['getElementById'](_0x3e3ecd(0x5d1)),_0x8c415=document[_0x3e3ecd(0xb9f)](_0x3e3ecd(0x318)),_0x44c6a6=document['getElementById'](_0x3e3ecd(0xb73));document['getElementById'](_0x3e3ecd(0xb34))[_0x3e3ecd(0x1d0)]=_0x3e3ecd(0x979)+_0x23322a[_0x3e3ecd(0x6b1)],_0x8c415[_0x3e3ecd(0x232)]='',_0x44c6a6['classList'][_0x3e3ecd(0x72b)](_0x3e3ecd(0x81c)),_0x89b9f5[_0x3e3ecd(0xbd3)][_0x3e3ecd(0x5f4)](_0x3e3ecd(0x81c));const _0x36846c=()=>{const _0x56dabc=_0x3e3ecd,_0x32630c=_0x8c415[_0x56dabc(0x232)][_0x56dabc(0xbdc)]();_0x32630c===_0x23322a[_0x56dabc(0x879)][_0x56dabc(0xca0)]?(sessionStorage['setItem'](_0x56dabc(0x420)+_0x24d1cd,'true'),_0x89b9f5['classList']['add']('hidden'),_0x226b95(),_0x327535['removeEventListener']('click',_0x36846c)):_0x44c6a6['classList'][_0x56dabc(0x5f4)](_0x56dabc(0x81c));};_0x327535[_0x3e3ecd(0x760)]=_0x36846c,_0x54cb14[_0x3e3ecd(0x760)]=()=>{const _0x3caf81=_0x3e3ecd;_0x89b9f5[_0x3caf81(0xbd3)][_0x3caf81(0x72b)](_0x3caf81(0x81c)),_0xb2392e[_0x3caf81(0x232)]='',_0x327535[_0x3caf81(0x28b)](_0x3caf81(0xd6c),_0x36846c);};}else _0x226b95();},_0x5aa198[_0x22dbe3(0xc24)]=()=>{const _0x564497=_0x22dbe3,_0x330f3c=_0xb2392e[_0x564497(0x232)],_0x216db2=_0x5aa198[_0x564497(0x232)];_0x330f3c&&_0x216db2&&renderStudentProgressDashboard(_0x330f3c,_0x216db2);};}async function confirmAndJoinSyncGame(){const _0x2e09e3=_0x4b15a0;lastSeenQuestionIndex=-0x1,sessionStorage[_0x2e09e3(0x2fd)](_0x2e09e3(0x522)),sessionStorage['removeItem']('onSecondChance'),sessionStorage[_0x2e09e3(0x2fd)]('pollUsedThisTurn'),Object[_0x2e09e3(0xb2e)](sessionStorage)['forEach'](_0x4e72c9=>{const _0x905636=_0x2e09e3;(_0x4e72c9[_0x905636(0xa72)](_0x905636(0x6fc))||_0x4e72c9[_0x905636(0xa72)]('powerupUsed_q')||_0x4e72c9[_0x905636(0xa72)](_0x905636(0x69a)))&&sessionStorage[_0x905636(0x2fd)](_0x4e72c9);});const _0x48bdda=Array[_0x2e09e3(0x7ca)](document['querySelectorAll'](_0x2e09e3(0x1f2)))[_0x2e09e3(0xa0d)](_0x4c9302=>_0x4c9302[_0x2e09e3(0x232)]);if(_0x48bdda[_0x2e09e3(0x8da)]===0x0){showMessage(_0x2e09e3(0x4b8));return;}localTeamPlayers=_0x48bdda,localPlayerTurnIndex=0x0;const _0x33c390=doc(db,_0x2e09e3(0xc4a)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x31b825=await getDoc(_0x33c390);if(!_0x31b825['exists']())throw new Error(_0x2e09e3(0x84d));const _0xdb2b3a=_0x31b825[_0x2e09e3(0x7f7)](),_0x142a18=_0xdb2b3a[_0x2e09e3(0x4f5)]||_0x2e09e3(0x870),_0x3bb4ad={};_0x48bdda['forEach'](_0x366025=>{const _0x1bf020=_0x2e09e3,_0x9d830=_0xdb2b3a[_0x1bf020(0xb9c)][_0x366025];if(_0x9d830){console[_0x1bf020(0xe84)](_0x1bf020(0x467)+_0x366025+'\x20กลับเข้าสู่เกม!'),_0x3bb4ad[_0x1bf020(0x36c)+_0x366025+_0x1bf020(0x7d3)]=_0x1bf020(0x329);const _0x14c5e7=_0x9d830[_0x1bf020(0x80b)]?.[_0x9d830[_0x1bf020(0x80b)]['length']-0x1],_0x33798a=!!(_0x14c5e7&&_0x14c5e7[_0x1bf020(0x5c7)]===_0xdb2b3a[_0x1bf020(0x224)]);_0x3bb4ad[_0x1bf020(0x36c)+_0x366025+_0x1bf020(0xad0)]=_0x33798a;}else{console[_0x1bf020(0xe84)](_0x1bf020(0xb31)+_0x366025+'\x20เข้าร่วมกลางเกม');const _0x43a2d4={'name':_0x366025,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0},'answered':![],'status':_0x1bf020(0x329),'answers':[]};_0x142a18===_0x1bf020(0x2d9)&&(typeof STARTING_LIVES!=='undefined'?_0x43a2d4[_0x1bf020(0x93b)]=STARTING_LIVES:(console[_0x1bf020(0x7cd)]('STARTING_LIVES\x20is\x20not\x20defined!\x20Defaulting\x20to\x203.'),_0x43a2d4[_0x1bf020(0x93b)]=0x3)),_0x3bb4ad[_0x1bf020(0x36c)+_0x366025]=_0x43a2d4;}}),await updateDoc(_0x33c390,_0x3bb4ad),showView(_0x2e09e3(0xbda)),document[_0x2e09e3(0xb9f)]('student-team-selection-view')[_0x2e09e3(0xbd3)][_0x2e09e3(0x72b)](_0x2e09e3(0x81c)),currentStudentName=_0x48bdda[0x0],listenForSyncGameUpdates();const _0x31b9fb={'gameId':currentLiveGameId,'mode':_0x2e09e3(0xd24),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x2e09e3(0x685)](_0x2e09e3(0x920),JSON[_0x2e09e3(0x4d8)](_0x31b9fb)),currentMode!==_0x2e09e3(0xa10)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x2e09e3(0x95a)](_0x2e09e3(0x28d),handleFullscreenChange),document[_0x2e09e3(0x95a)](_0x2e09e3(0xd85),handleVisibilityChange),enterFullscreen(),window[_0x2e09e3(0x95a)]('mousemove',resetDimTimer),window[_0x2e09e3(0x95a)]('mousedown',resetDimTimer),window['addEventListener']('touchstart',resetDimTimer),window[_0x2e09e3(0x95a)](_0x2e09e3(0xdea),resetDimTimer),resetDimTimer());}catch(_0x3e3360){console['error'](_0x2e09e3(0xa66),_0x3e3360),showMessage(_0x2e09e3(0xb2b)+_0x3e3360[_0x2e09e3(0x81b)]);}}async function resumeActiveGameSession(){const _0x45345a=_0x4b15a0,_0x2f5d85=sessionStorage[_0x45345a(0x3de)](_0x45345a(0x920));if(!_0x2f5d85)return;const _0x47b023=JSON[_0x45345a(0x717)](_0x2f5d85),{gameId:_0x41e70a,mode:_0x4dbdf0,role:_0x65b79,players:_0x229a23,turnIndex:_0x101e30}=_0x47b023;try{if(_0x65b79==='admin'&&_0x4dbdf0===_0x45345a(0xd24)){const _0x2e1f80=doc(db,'artifacts/'+appId+_0x45345a(0xcba),_0x41e70a),_0x316702=await getDoc(_0x2e1f80);if(!_0x316702[_0x45345a(0x37f)]()||_0x316702[_0x45345a(0x7f7)]()[_0x45345a(0x58b)]==='podium'||_0x316702[_0x45345a(0x7f7)]()[_0x45345a(0x58b)]===_0x45345a(0x457)){sessionStorage[_0x45345a(0x2fd)](_0x45345a(0x920));return;}console['log']('กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20'+_0x41e70a+')'),currentMode=_0x45345a(0x1e2),currentLiveGameId=_0x41e70a,currentQuizData=_0x316702[_0x45345a(0x7f7)]()[_0x45345a(0x38d)],showView(_0x45345a(0xbda)),listenForSyncGameUpdates();}else{if(_0x4dbdf0==='sync'&&_0x229a23){const _0x171933=doc(db,_0x45345a(0xc4a)+appId+_0x45345a(0xcba),_0x41e70a),_0x18cea2=await getDoc(_0x171933);if(!_0x18cea2['exists']()||_0x18cea2['data']()[_0x45345a(0x58b)]==='podium'||_0x18cea2[_0x45345a(0x7f7)]()['status']==='finished'){sessionStorage[_0x45345a(0x2fd)](_0x45345a(0x920));return;}console['log'](_0x45345a(0x375)+_0x41e70a+')'),currentLiveGameId=_0x41e70a,currentStudentName=_0x229a23[0x0],localTeamPlayers=_0x229a23,showView(_0x45345a(0xbda)),listenForSyncGameUpdates();}else{if((_0x4dbdf0===_0x45345a(0x975)||_0x4dbdf0===_0x45345a(0xe59))&&_0x229a23){const _0x2177b0=doc(db,'artifacts/'+appId+_0x45345a(0xebe),_0x41e70a),_0x4f39f4=await getDoc(_0x2177b0);if(!_0x4f39f4['exists']()||_0x4f39f4['data']()[_0x45345a(0x58b)]==='podium'||_0x4f39f4[_0x45345a(0x7f7)]()[_0x45345a(0x58b)]===_0x45345a(0x457)){sessionStorage[_0x45345a(0x2fd)](_0x45345a(0x920));return;}console[_0x45345a(0xe84)](_0x45345a(0x1dd)+_0x4dbdf0+_0x45345a(0x3fb)+_0x41e70a+')'),currentTeamQuizId=_0x41e70a,localTeamPlayers=_0x229a23,localQuestionIndex=_0x47b023['questionIndex']||0x0,localPlayerIndex=_0x47b023[_0x45345a(0xc56)]||0x0;const _0x1ebdae=_0x4f39f4[_0x45345a(0x7f7)](),_0xa24fb7=doc(db,_0x45345a(0xc4a)+appId+'/public/data/quizzes',_0x1ebdae['quizId']),_0x34aedf=await getDoc(_0xa24fb7);_0x34aedf['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x34aedf['id'],..._0x34aedf[_0x45345a(0x7f7)]()}),showView(_0x45345a(0x441)),studentInitialView[_0x45345a(0xbd3)][_0x45345a(0x72b)](_0x45345a(0x81c)),_0x4dbdf0===_0x45345a(0xe59)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x1fe0d0){console[_0x45345a(0x7cd)](_0x45345a(0x5df),_0x1fe0d0),sessionStorage['removeItem'](_0x45345a(0x920));}}async function handleUsePowerup(_0x370892,_0x3adf12,_0x2de3d6,_0x14babd,_0x301e0a){const _0x4c585b=_0x4b15a0,_0x56e5f8=_0x14babd['currentQuestionIndex'],_0x2cf5ac=_0x4c585b(0x43c)+_0x56e5f8+'_p'+_0x370892,_0xf38072=sessionStorage['getItem'](_0x2cf5ac);if(_0xf38072&&_0x3adf12!=='buyTime'&&_0x3adf12!==_0x4c585b(0xc94)){showMessage('คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ\x20(ยกเว้น\x20\x27ซื้อเวลา\x27\x20และ\x20\x27สแกน\x27)');const _0x4215b6=document['getElementById'](_0x4c585b(0x610)+_0x3adf12);if(_0x4215b6)_0x4215b6['disabled']=![];return;}const _0x3969ad=doc(db,'artifacts/'+appId+_0x4c585b(0xcba),currentLiveGameId);try{await runTransaction(db,async _0x390d04=>{const _0x3e3d3a=_0x4c585b,_0x209ad0=await _0x390d04[_0x3e3d3a(0x6db)](_0x3969ad);if(!_0x209ad0[_0x3e3d3a(0x37f)]())throw _0x3e3d3a(0x5b2);const _0x42a590=_0x209ad0['data'](),_0x4d0cf4=_0x42a590[_0x3e3d3a(0xb9c)][_0x370892]?.[_0x3e3d3a(0x3d4)]||{},_0x1c19fb=_0x4d0cf4[_0x3adf12]||0x0;if(_0x1c19fb<=0x0)throw _0x3e3d3a(0x1d8);const _0x1d7209={};_0x1d7209[_0x3e3d3a(0x36c)+_0x370892+_0x3e3d3a(0x410)+_0x3adf12]=increment(-0x1);if(_0x3adf12===_0x3e3d3a(0x982)){const _0x47e357=(_0x14babd[_0x3e3d3a(0x775)]||0xf0)*0x3e8,_0x3f7cbc=_0x47e357*0.25;_0x1d7209[_0x3e3d3a(0x36c)+_0x370892+_0x3e3d3a(0x9d4)]=increment(_0x3f7cbc);}_0x390d04['update'](_0x3969ad,_0x1d7209);}),_0x3adf12==='poll'&&sessionStorage[_0x4c585b(0x685)]('pollUsedThisTurn','true'),_0x3adf12!=='buyTime'&&_0x3adf12!==_0x4c585b(0xc94)&&sessionStorage[_0x4c585b(0x685)](_0x2cf5ac,_0x3adf12),applyPowerupEffect(_0x370892,_0x3adf12,_0x2de3d6,_0x14babd,_0x301e0a);}catch(_0x3f8c97){console['error'](_0x4c585b(0x53e),_0x3f8c97),showMessage(typeof _0x3f8c97==='string'?_0x3f8c97:'เกิดข้อผิดพลาดในการใช้ตัวช่วย');const _0x484ab9=document[_0x4c585b(0xb9f)](_0x4c585b(0x610)+_0x3adf12);if(_0x484ab9)_0x484ab9[_0x4c585b(0x417)]=![];}}function applyPowerupEffect(_0x306700,_0x51534a,_0x445a0a,_0x4556d3,_0x12fe85){const _0x3f2814=_0x4b15a0,_0x141102=_0x445a0a,_0x8b1b04=_0x4556d3['currentQuestionIndex'],_0x5960f8='powerupUsed_q'+_0x8b1b04+'_p'+_0x306700;switch(_0x51534a){case'poll':const _0x2c5def=Object[_0x3f2814(0x4a0)](_0x4556d3[_0x3f2814(0xb9c)]||{}),_0x45d3f0=_0x2c5def[_0x3f2814(0xce3)](_0x18feb3=>{const _0x41474e=_0x3f2814,_0x45f196=(_0x18feb3[_0x41474e(0x80b)]||[])['find'](_0x372aab=>_0x372aab[_0x41474e(0x5c7)]===_0x4556d3['currentQuestionIndex']);return _0x45f196!==undefined;}),_0xf1a7a0=_0x45d3f0[_0x3f2814(0x8da)];if(_0xf1a7a0===0x0){showMessage(_0x3f2814(0x2c1));return;}const _0x2c96d7={};(_0x445a0a[_0x3f2814(0x4d1)]||[])[_0x3f2814(0x4aa)]((_0x5f5176,_0x368e84)=>{_0x2c96d7[_0x368e84]=0x0;}),_0x45d3f0['forEach'](_0x12e152=>{const _0x4819ff=_0x3f2814,_0x423120=(_0x12e152['answers']||[])[_0x4819ff(0x59d)](_0x1835b6=>_0x1835b6['questionIndex']===_0x4556d3['currentQuestionIndex']);_0x423120&&_0x2c96d7[_0x423120['answer']]!==undefined&&_0x2c96d7[_0x423120[_0x4819ff(0x253)]]++;});let _0x39550d='📊\x20สถิติการตอบ\x20(จากผู้เล่นที่ตอบแล้ว):\x0a\x0a';Object[_0x3f2814(0x883)](_0x2c96d7)[_0x3f2814(0x4aa)](([_0x1a211f,_0x3658a3])=>{const _0x283959=_0x3f2814,_0xa1d30a=(_0x3658a3/_0xf1a7a0*0x64)[_0x283959(0x63d)](0x0),_0x4b4cff=_0x283959(0xb2d)+(parseInt(_0x1a211f)+0x1);_0x39550d+=_0x4b4cff+':\x20'+_0x3658a3+_0x283959(0xc6d)+_0xa1d30a+_0x283959(0x404);}),showMessage(_0x39550d);break;case _0x3f2814(0x982):const _0x806445=(_0x4556d3['timerDuration']||0xf0)*0.25;showMessage('⏳\x20ซื้อเวลาสำเร็จ!\x20คุณได้รับเวลาเพิ่ม\x20'+_0x806445+'\x20วินาทีสำหรับข้อนี้');break;case _0x3f2814(0x95c):case _0x3f2814(0x509):const _0xc8dd20=document['querySelectorAll'](_0x3f2814(0xeb4));if(_0xc8dd20[_0x3f2814(0x8da)]===0x0){showMessage(_0x3f2814(0xa55));return;}const _0x37c240='hiddenOptions_q'+_0x8b1b04+'_p'+_0x306700,_0x44090b=JSON[_0x3f2814(0x717)](sessionStorage[_0x3f2814(0x3de)](_0x37c240)||'[]');let _0x318985;if(_0x141102[_0x3f2814(0x899)]===_0x3f2814(0xa29)){const _0x2583c6=_0x141102[_0x3f2814(0x9fb)]===!![]||String(_0x141102[_0x3f2814(0x9fb)])[_0x3f2814(0x724)]()==='true';_0x318985=_0x2583c6?0x0:0x1;}else _0x318985=_0x141102[_0x3f2814(0x82e)];const _0x2a6bec=Array[_0x3f2814(0x7ca)](_0xc8dd20)['filter'](_0x1b71c6=>{const _0x3a9cfa=_0x3f2814,_0x330833=_0x1b71c6[_0x3a9cfa(0x273)][_0x3a9cfa(0x232)],_0x1e4c1b=parseInt(_0x330833)===_0x318985,_0x27452c=_0x44090b[_0x3a9cfa(0xa36)](_0x330833);return!_0x1e4c1b&&!_0x27452c;});if(_0x2a6bec['length']===0x0){showMessage(_0x3f2814(0x5ca));return;}shuffleArray(_0x2a6bec);let _0x32c04f=[..._0x44090b];if(_0x51534a==='cutOne'){const _0x53f74e=_0x2a6bec[0x0];if(_0x53f74e){const _0x3cf6ed=_0x53f74e['dataset'][_0x3f2814(0x232)];_0x53f74e[_0x3f2814(0xbd3)][_0x3f2814(0x72b)](_0x3f2814(0x81c)),_0x32c04f[_0x3f2814(0x542)](_0x3cf6ed),showMessage('⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!');}}else{let _0x148b17=0x0;const _0x79acb2=_0x2a6bec[0x0],_0x5d6ab7=_0x2a6bec[0x1];if(_0x79acb2){const _0x4d2f63=_0x79acb2[_0x3f2814(0x273)][_0x3f2814(0x232)];_0x79acb2[_0x3f2814(0xbd3)][_0x3f2814(0x72b)](_0x3f2814(0x81c)),_0x32c04f[_0x3f2814(0x542)](_0x4d2f63),_0x148b17++;}if(_0x5d6ab7){const _0x1f70aa=_0x5d6ab7[_0x3f2814(0x273)][_0x3f2814(0x232)];_0x5d6ab7[_0x3f2814(0xbd3)][_0x3f2814(0x72b)](_0x3f2814(0x81c)),_0x32c04f[_0x3f2814(0x542)](_0x1f70aa),_0x148b17++;}showMessage(_0x3f2814(0xde2)+_0x148b17+_0x3f2814(0x7b9));}sessionStorage[_0x3f2814(0x685)](_0x37c240,JSON[_0x3f2814(0x4d8)](_0x32c04f));break;case _0x3f2814(0xc94):if(!_0x12fe85){console[_0x3f2814(0x7cd)](_0x3f2814(0x746)),showMessage(_0x3f2814(0x25a)),handleRefundPowerup(_0x306700,'strategyScan');break;}const _0x25ecc8=_0x12fe85[_0x3f2814(0x757)],_0x29e567=Object['values'](_0x4556d3[_0x3f2814(0xb9c)])['filter'](_0x15fc08=>_0x15fc08[_0x3f2814(0x757)]!==_0x25ecc8&&_0x15fc08[_0x3f2814(0x58b)]===_0x3f2814(0x329)&&_0x15fc08[_0x3f2814(0x642)]===![]);if(_0x29e567[_0x3f2814(0x8da)]===0x0){showMessage(_0x3f2814(0x313)),handleRefundPowerup(_0x306700,_0x3f2814(0xc94));break;}const _0x321a46=_0x4556d3[_0x3f2814(0x4f5)]===_0x3f2814(0x32c),_0x1e3be7=_0x4556d3[_0x3f2814(0x5d7)]===!![],_0x14c5fb=_0x12fe85;let _0x416473=[];_0x29e567[_0x3f2814(0x4aa)](_0x1cca05=>{const _0x59b54c=_0x3f2814,_0xf4afaa=_0x1cca05[_0x59b54c(0x3d4)]||{},_0x2ebbc3=(_0xf4afaa[_0x59b54c(0x449)]||0x0)>0x0,_0x213952=(_0xf4afaa[_0x59b54c(0x529)]||0x0)>0x0;if(_0x2ebbc3||_0x213952){const _0x500311=_0x1cca05[_0x59b54c(0x757)],_0x4e7690=_0x4556d3[_0x59b54c(0x20e)][_0x500311]||_0x59b54c(0xcdc);let _0x4c2ba5=![];if(_0x1e3be7){const _0x4db444=_0x14c5fb[_0x59b54c(0x7e2)]||0x0,_0x58e334=_0x1cca05[_0x59b54c(0x7e2)]||0x0,_0xe122d6=_0x14c5fb['pointsLastRound']||0x0,_0x528040=_0x1cca05[_0x59b54c(0x60e)]||0x0;_0x4c2ba5=_0x4db444>_0x58e334||_0x4db444===_0x58e334&&_0xe122d6>_0x528040;}else{const _0x3dae08=_0x14c5fb['pointsLastRound']||0x0,_0x4e2b59=_0x1cca05[_0x59b54c(0x60e)]||0x0;_0x4c2ba5=_0x3dae08>_0x4e2b59;}let _0x1c378c;_0x321a46&&!_0x4c2ba5?_0x1c378c=_0x4e7690:_0x1c378c=_0x500311+'\x20('+_0x4e7690+')';let _0x378e51=[];if(_0x2ebbc3)_0x378e51['push']('📊');if(_0x213952)_0x378e51[_0x59b54c(0x542)]('💰');_0x416473[_0x59b54c(0x542)]('-\x20'+_0x1c378c+_0x59b54c(0xc5a)+_0x378e51[_0x59b54c(0x510)](',\x20')+')');}});let _0x4b14b0='';_0x416473[_0x3f2814(0x8da)]>0x0?_0x4b14b0=_0x3f2814(0x82d)+_0x416473['join']('\x0a'):_0x4b14b0=_0x3f2814(0x2a4);showMessage(_0x4b14b0);break;case _0x3f2814(0x6a1):if(!_0x12fe85){console[_0x3f2814(0x7cd)](_0x3f2814(0x7a6)),showMessage(_0x3f2814(0x25a));break;}const _0x54b79d=_0x12fe85['name'],_0x33b28b=Object[_0x3f2814(0x4a0)](_0x4556d3['players'])[_0x3f2814(0xce3)](_0x56f961=>_0x56f961[_0x3f2814(0x757)]!==_0x54b79d&&_0x56f961[_0x3f2814(0x58b)]===_0x3f2814(0x329)&&_0x56f961[_0x3f2814(0x642)]===![]);if(_0x33b28b[_0x3f2814(0x8da)]===0x0){showMessage(_0x3f2814(0x286)),sessionStorage[_0x3f2814(0x2fd)](_0x5960f8),handleRefundPowerup(_0x306700,'forceConfident');break;}const _0x5265e6=_0x4556d3[_0x3f2814(0x4f5)]==='anonymous',_0x185b5c=_0x4556d3['isBlackMarketEnabled']===!![],_0x5f051e=_0x12fe85,_0x307ec1=_0x33b28b[_0x3f2814(0xa0d)]((_0x3360ed,_0x28769f)=>{const _0x1d55cc=_0x3f2814,_0x55b1be=_0x3360ed[_0x1d55cc(0x757)],_0x25201c=_0x4556d3[_0x1d55cc(0x20e)][_0x55b1be]||'???';let _0x583e39=![];if(_0x185b5c){const _0x3b15fc=_0x5f051e[_0x1d55cc(0x7e2)]||0x0,_0x4fd642=_0x3360ed[_0x1d55cc(0x7e2)]||0x0,_0x41ef87=_0x5f051e[_0x1d55cc(0x60e)]||0x0,_0x2cd483=_0x3360ed['pointsLastRound']||0x0;_0x583e39=_0x3b15fc>_0x4fd642||_0x3b15fc===_0x4fd642&&_0x41ef87>_0x2cd483;}else{const _0x3c1180=_0x5f051e[_0x1d55cc(0x60e)]||0x0,_0x6dfa8e=_0x3360ed[_0x1d55cc(0x60e)]||0x0;_0x583e39=_0x3c1180>_0x6dfa8e;}let _0x498519;return _0x5265e6&&!_0x583e39?_0x498519=_0x25201c:_0x498519=_0x55b1be+'\x20('+_0x25201c+')',{'index':_0x28769f+0x1,'realName':_0x55b1be,'displayName':_0x498519};}),_0x4f308e=_0x307ec1['map'](_0x328d70=>_0x328d70['index']+':\x20'+_0x328d70[_0x3f2814(0x681)])[_0x3f2814(0x510)]('\x0a'),_0x57ac59=prompt(_0x3f2814(0x8c4)+_0x4f308e),_0x48bbfa=parseInt(_0x57ac59)-0x1;if(_0x48bbfa>=0x0&&_0x48bbfa<_0x307ec1[_0x3f2814(0x8da)]){const _0x3e59c4=_0x307ec1[_0x48bbfa];handleForceConfident(_0x3e59c4[_0x3f2814(0x799)],_0x3e59c4[_0x3f2814(0x681)]);}else showMessage(_0x3f2814(0x4cb)),sessionStorage[_0x3f2814(0x2fd)](_0x5960f8),handleRefundPowerup(_0x306700,_0x3f2814(0x6a1));break;case _0x3f2814(0x828):showMessage(_0x3f2814(0x5ae));break;case _0x3f2814(0x529):showMessage('💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน\x20(ถูกได้\x20+2x,\x20ผิดเสีย\x20-1x)');break;case _0x3f2814(0x405):if(!_0x12fe85){console['error'](_0x3f2814(0xe28)),showMessage(_0x3f2814(0x25a));break;}const _0x21b06b=_0x12fe85['name'],_0x1b696b=Object['values'](_0x4556d3[_0x3f2814(0xb9c)])['filter'](_0x3d6d93=>_0x3d6d93[_0x3f2814(0x757)]!==_0x21b06b&&_0x3d6d93['status']===_0x3f2814(0x329)&&_0x3d6d93[_0x3f2814(0x642)]===![]);if(_0x1b696b[_0x3f2814(0x8da)]===0x0){showMessage(_0x3f2814(0x286)),sessionStorage[_0x3f2814(0x2fd)](_0x5960f8),handleRefundPowerup(_0x306700,_0x3f2814(0x405));break;}const _0x5a3393=_0x4556d3[_0x3f2814(0x4f5)]==='anonymous',_0x12e59b=_0x4556d3[_0x3f2814(0x5d7)]===!![],_0x1c5fd8=_0x12fe85,_0x37f564=_0x1b696b[_0x3f2814(0xa0d)]((_0x4ac5fa,_0xfce7e8)=>{const _0x487267=_0x3f2814,_0xdffa1c=_0x4ac5fa[_0x487267(0x757)],_0x5a419f=_0x4556d3[_0x487267(0x20e)][_0xdffa1c]||_0x487267(0xcdc);let _0x5625ae=![];if(_0x12e59b){const _0x3249ce=_0x1c5fd8[_0x487267(0x7e2)]||0x0,_0x3fced5=_0x4ac5fa[_0x487267(0x7e2)]||0x0,_0x21d937=_0x1c5fd8[_0x487267(0x60e)]||0x0,_0x68a986=_0x4ac5fa['pointsLastRound']||0x0;_0x5625ae=_0x3249ce>_0x3fced5||_0x3249ce===_0x3fced5&&_0x21d937>_0x68a986;}else{const _0x3fb447=_0x1c5fd8['pointsLastRound']||0x0,_0x1f8325=_0x4ac5fa['pointsLastRound']||0x0;_0x5625ae=_0x3fb447>_0x1f8325;}let _0x56cb9a;return _0x5a3393&&!_0x5625ae?_0x56cb9a=_0x5a419f:_0x56cb9a=_0xdffa1c+'\x20('+_0x5a419f+')',{'index':_0xfce7e8+0x1,'realName':_0xdffa1c,'displayName':_0x56cb9a};}),_0x16c0f7=_0x37f564[_0x3f2814(0xa0d)](_0x2091bb=>_0x2091bb[_0x3f2814(0x6d7)]+':\x20'+_0x2091bb['displayName'])[_0x3f2814(0x510)]('\x0a'),_0x453d6a=prompt('เลือกผู้เล่นที่จะ\x20\x22สาป\x22\x20(ใส่ตัวเลข):\x0a'+_0x16c0f7),_0x1b1456=parseInt(_0x453d6a)-0x1;if(_0x1b1456>=0x0&&_0x1b1456<_0x37f564[_0x3f2814(0x8da)]){const _0x20e8cc=_0x37f564[_0x1b1456];handleApplyJinx(_0x20e8cc[_0x3f2814(0x799)],_0x20e8cc[_0x3f2814(0x681)]);}else showMessage(_0x3f2814(0x4cb)),sessionStorage[_0x3f2814(0x2fd)](_0x5960f8),handleRefundPowerup(_0x306700,_0x3f2814(0x405));break;case _0x3f2814(0x91f):showMessage(_0x3f2814(0x2cb));break;default:showMessage('ใช้ไอเทม\x20'+_0x51534a+_0x3f2814(0xd9b));}}async function handleForceConfident(_0x2d7298,_0x4856da){const _0x55e75f=_0x4b15a0;if(!currentLiveGameId||!_0x2d7298)return;const _0x5e8923=doc(db,_0x55e75f(0xc4a)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x2f1fd8={};_0x2f1fd8[_0x55e75f(0x36c)+_0x2d7298+_0x55e75f(0x8b7)]=!![],await updateDoc(_0x5e8923,_0x2f1fd8),showMessage(_0x55e75f(0x3ec)+_0x4856da+_0x55e75f(0xc80));}catch(_0x553e55){console['error'](_0x55e75f(0x385),_0x553e55),showMessage(_0x55e75f(0x3ea));}}async function handleRefundPowerup(_0x4a495d,_0x1b23fc){const _0x17f383=_0x4b15a0,_0x34961a=doc(db,_0x17f383(0xc4a)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x4a4a82={};_0x4a4a82[_0x17f383(0x36c)+_0x4a495d+'.powerups.'+_0x1b23fc]=increment(0x1),await updateDoc(_0x34961a,_0x4a4a82),console['log'](_0x17f383(0x290)+_0x1b23fc+'\x20to\x20'+_0x4a495d);}catch(_0x4fe37e){console[_0x17f383(0x7cd)](_0x17f383(0x37a),_0x4fe37e);}}async function handleApplyJinx(_0x28d179,_0x60273a){const _0x2109f3=_0x4b15a0;if(!currentLiveGameId||!_0x28d179)return;const _0x5e0b36=doc(db,_0x2109f3(0xc4a)+appId+_0x2109f3(0xcba),currentLiveGameId);try{const _0x336a5d={};_0x336a5d['players.'+_0x28d179+'.isJinxed']=!![],await updateDoc(_0x5e0b36,_0x336a5d),showMessage('ใช้\x20\x22คำสาป\x22\x20กับ\x20'+_0x60273a+_0x2109f3(0xc80));}catch(_0x2b4898){console[_0x2109f3(0x7cd)](_0x2109f3(0x296),_0x2b4898),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}function activateFileInputAreaWithLoadedFile(){const _0x1190b1=_0x4b15a0,_0x3b6f74=document['getElementById'](_0x1190b1(0xd0f)),_0x5834b6=document[_0x1190b1(0xb9f)]('file-topics-list-container'),_0x308a90=document[_0x1190b1(0xb9f)]('separate-by-content-from-file-checkbox');selectedFile?_0x308a90['checked']?(_0x3b6f74['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x3b6f74[_0x1190b1(0x417)]=![],_0x5834b6[_0x1190b1(0xbd3)]['add'](_0x1190b1(0x81c))):(_0x3b6f74[_0x1190b1(0x417)]=!![],_0x5834b6[_0x1190b1(0xbd3)][_0x1190b1(0x72b)](_0x1190b1(0x81c)));}async function handleKickPlayerSync(_0x274d4b){const _0x25f560=_0x4b15a0;if(!currentLiveGameId||!_0x274d4b)return;const _0x492d10=doc(db,_0x25f560(0xc4a)+appId+_0x25f560(0xcba),currentLiveGameId),_0x4611af={};_0x4611af[_0x25f560(0x36c)+_0x274d4b+_0x25f560(0x7d3)]='inactive';try{await updateDoc(_0x492d10,_0x4611af);}catch(_0x440b2c){console[_0x25f560(0x7cd)](_0x25f560(0x60d)+_0x274d4b+_0x25f560(0x740),_0x440b2c),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}function _0x33c9(_0x4a455e,_0x446c15){const _0x4bd2cf=_0x4bd2();return _0x33c9=function(_0x33c9ff,_0x104346){_0x33c9ff=_0x33c9ff-0x1c1;let _0x508bfa=_0x4bd2cf[_0x33c9ff];return _0x508bfa;},_0x33c9(_0x4a455e,_0x446c15);}async function renderStudentProgressDashboard(_0x421257,_0x522915){const _0x4299a9=_0x4b15a0,_0x13f986=document[_0x4299a9(0xb9f)](_0x4299a9(0x7fe));_0x13f986['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x5509a7=collection(db,_0x4299a9(0xc4a)+appId+'/public/data/quizzes'),_0x507a07=query(_0x5509a7,where(_0x4299a9(0xa0f),'==',_0x421257)),_0x21d1d9=await getDocs(_0x507a07),_0x540af1=_0x21d1d9[_0x4299a9(0x9e5)][_0x4299a9(0xa0d)](_0x1bb5f9=>({'id':_0x1bb5f9['id'],..._0x1bb5f9[_0x4299a9(0x7f7)]()})),_0x43cf67=_0x540af1[_0x4299a9(0xa0d)](_0x29df89=>getDoc(doc(db,_0x4299a9(0xc4a)+appId+_0x4299a9(0x2a1)+_0x29df89['id']+'/submissions',_0x522915))),_0x5da43d=await Promise[_0x4299a9(0x2d8)](_0x43cf67),_0x3d611a=_0x5da43d[_0x4299a9(0xce3)](_0x2159d9=>_0x2159d9[_0x4299a9(0x37f)]())[_0x4299a9(0xa0d)](_0x298387=>({'quizId':_0x298387[_0x4299a9(0xada)][_0x4299a9(0xbb0)][_0x4299a9(0xbb0)]['id'],..._0x298387[_0x4299a9(0x7f7)]()}));if(_0x3d611a[_0x4299a9(0x8da)]===0x0){_0x13f986[_0x4299a9(0x7fc)]=_0x4299a9(0x8a9);return;}let _0x36e766=_0x4299a9(0xb69);_0x3d611a[_0x4299a9(0x4aa)](_0x5df9cb=>{const _0x18afbb=_0x4299a9,_0x3ed5dc=_0x540af1[_0x18afbb(0x59d)](_0x3e0c4c=>_0x3e0c4c['id']===_0x5df9cb[_0x18afbb(0x515)]),_0x523ff5=_0x3ed5dc[_0x18afbb(0x879)]?.['resultsDisplay']||_0x18afbb(0xe4a),_0x5d601a=_0x3ed5dc[_0x18afbb(0x879)]?.[_0x18afbb(0x7ba)]??0x0,_0x397571=_0x5df9cb[_0x18afbb(0xb96)]>=_0x5d601a;let _0x415441='',_0x3f2605='bg-gray-50';switch(_0x523ff5){case'show_results_and_answers':case _0x18afbb(0x6c2):_0x3f2605=_0x397571?_0x18afbb(0x513):_0x18afbb(0xb48),_0x415441=_0x18afbb(0x4ea)+(_0x397571?_0x18afbb(0x334):'text-red-700')+'\x22>'+_0x5df9cb[_0x18afbb(0xb96)]+_0x18afbb(0xc6c)+_0x5df9cb[_0x18afbb(0xdf0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x397571?_0x18afbb(0xe0a):_0x18afbb(0x268))+'\x22>'+(_0x397571?_0x18afbb(0x9d1):_0x18afbb(0xd44))+_0x18afbb(0x844);break;case _0x18afbb(0xa61):_0x3f2605=_0x397571?_0x18afbb(0x513):_0x18afbb(0xb48),_0x415441=_0x18afbb(0x918)+(_0x397571?_0x18afbb(0xe0a):_0x18afbb(0x268))+'\x22>'+(_0x397571?'ผ่าน':_0x18afbb(0xd44))+_0x18afbb(0x844);break;case _0x18afbb(0xdfd):_0x3f2605=_0x18afbb(0xaa0),_0x415441=_0x18afbb(0x5c1);break;}_0x36e766+=_0x18afbb(0x3da)+_0x3f2605+_0x18afbb(0x5c6)+_0x3ed5dc[_0x18afbb(0x257)]+_0x18afbb(0x804)+_0x5df9cb[_0x18afbb(0xacb)][_0x18afbb(0x8da)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x5df9cb[_0x18afbb(0x5d0)])['toLocaleDateString'](_0x18afbb(0xa01))+_0x18afbb(0x995)+_0x415441+_0x18afbb(0x241);}),_0x36e766+='</div>',_0x13f986['innerHTML']=_0x36e766;}catch(_0x184d94){console[_0x4299a9(0x7cd)](_0x4299a9(0xcf8),_0x184d94),_0x13f986[_0x4299a9(0x7fc)]=_0x4299a9(0xe8d);}}function renderQuizBankListForMultiSelect(_0x5041d6=''){const _0x15926a=_0x4b15a0,_0x4ab09e=document[_0x15926a(0xb9f)](_0x15926a(0xdc6)),_0x3ad259=_0x5041d6[_0x15926a(0x724)]()[_0x15926a(0xbdc)](),_0x30add0=allQuizzesGlobal[_0x15926a(0xa0d)](_0x23b06b=>({..._0x23b06b,'projectName':allProjects[_0x15926a(0x59d)](_0x180926=>_0x180926['id']===_0x23b06b['projectId'])?.[_0x15926a(0x6b1)]||'N/A'}))[_0x15926a(0xce3)](_0xbb2b7c=>(_0xbb2b7c[_0x15926a(0x257)]||'')['toLowerCase']()[_0x15926a(0xa36)](_0x3ad259)||(_0xbb2b7c[_0x15926a(0x6b1)]||'')[_0x15926a(0x724)]()['includes'](_0x3ad259)||_0xbb2b7c['id'][_0x15926a(0xbb9)]()['includes'](_0x3ad259));_0x4ab09e[_0x15926a(0x7fc)]=_0x30add0[_0x15926a(0x8da)]?_0x30add0[_0x15926a(0xa0d)](_0x56cb15=>_0x15926a(0xe54)+_0x56cb15['id']+_0x15926a(0x662)+(_0x56cb15[_0x15926a(0x257)]||_0x15926a(0xc74))+_0x15926a(0xa90)+_0x56cb15[_0x15926a(0x6b1)]+'\x20|\x20ID:\x20'+_0x56cb15['id']+_0x15926a(0x9a6))[_0x15926a(0x510)](''):_0x15926a(0xaf5),_0x4ab09e[_0x15926a(0xc24)]=()=>{const _0x501db7=_0x15926a,_0x3f3c75=document[_0x501db7(0x584)](_0x501db7(0x309));document[_0x501db7(0xb9f)](_0x501db7(0x786))[_0x501db7(0x417)]=!_0x3f3c75;};}function setupStudentProgressListeners(){const _0x58675e=_0x4b15a0;document[_0x58675e(0xb9f)]('view-my-progress-btn')['addEventListener'](_0x58675e(0xd6c),showStudentProgressView),document[_0x58675e(0xb9f)](_0x58675e(0x33f))[_0x58675e(0x95a)](_0x58675e(0xd6c),()=>{const _0x1836a3=_0x58675e;document[_0x1836a3(0xb9f)](_0x1836a3(0x4ed))['classList']['add'](_0x1836a3(0x81c)),document[_0x1836a3(0xb9f)]('student-initial-view')['classList']['remove']('hidden');});}async function startSkillPractice(_0x37429b){const _0x104dd4=_0x4b15a0;studentResultArea[_0x104dd4(0xbd3)][_0x104dd4(0x72b)]('hidden'),studentQuizArea[_0x104dd4(0x7fc)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x104dd4(0xbd3)][_0x104dd4(0x5f4)]('hidden');try{const _0x379a5d=await getStandardizedTopic(_0x37429b);console[_0x104dd4(0xe84)](_0x104dd4(0xb59)+_0x37429b+_0x104dd4(0x6dd)+_0x379a5d+'\x22'),studentQuizArea['querySelector']('p')['textContent']='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x379a5d+_0x104dd4(0x5a7);const _0x32d05a=collection(db,'artifacts/'+appId+_0x104dd4(0x35b)),_0x444fef=query(_0x32d05a,where(_0x104dd4(0x257),'==',_0x379a5d)),_0x150f6b=await getDocs(_0x444fef);if(_0x150f6b[_0x104dd4(0x9e5)][_0x104dd4(0x8da)]>=0x3){console[_0x104dd4(0xe84)](_0x104dd4(0x2fa)+_0x150f6b[_0x104dd4(0x9e5)][_0x104dd4(0x8da)]+_0x104dd4(0x236)+_0x379a5d+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x498844=_0x150f6b[_0x104dd4(0x9e5)][_0x104dd4(0xa0d)](_0x13c4f6=>_0x13c4f6[_0x104dd4(0x7f7)]());shuffleArray(_0x498844);const _0x1c7dc4={'topic':_0x379a5d,'questions':_0x498844['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x1c7dc4);}else{console[_0x104dd4(0xe84)](_0x104dd4(0x573)+_0x379a5d+_0x104dd4(0x712));const _0x12299b=await generatePracticeQuestions(_0x379a5d);await saveDrillToPracticeBank(_0x12299b,_0x379a5d),displaySkillPracticeDrill(_0x12299b);}}catch(_0x1155f9){console[_0x104dd4(0x7cd)](_0x104dd4(0xab9),_0x1155f9),showMessage(_0x104dd4(0x3be)),studentQuizArea['classList'][_0x104dd4(0x72b)](_0x104dd4(0x81c)),studentResultArea[_0x104dd4(0xbd3)][_0x104dd4(0x5f4)](_0x104dd4(0x81c));}}async function saveDrillToPracticeBank(_0x2f1350,_0x3bfcaf){const _0x5ec730=_0x4b15a0,_0x39845c=collection(db,_0x5ec730(0xc4a)+appId+_0x5ec730(0x35b)),_0x58f96e=writeBatch(db);_0x2f1350[_0x5ec730(0xa09)][_0x5ec730(0x4aa)](_0x4f753e=>{const _0x256d05=_0x5ec730,_0x832aad=doc(_0x39845c);_0x58f96e[_0x256d05(0x624)](_0x832aad,{'topic':_0x3bfcaf,'questionText':_0x4f753e[_0x256d05(0x931)],'options':_0x4f753e[_0x256d05(0x4d1)],'correctAnswerIndex':_0x4f753e[_0x256d05(0x82e)],'explanation':_0x4f753e[_0x256d05(0xe51)],'createdAt':serverTimestamp()});});try{await _0x58f96e[_0x5ec730(0x644)](),console[_0x5ec730(0xe84)](_0x5ec730(0x437)+_0x2f1350[_0x5ec730(0xa09)][_0x5ec730(0x8da)]+_0x5ec730(0x969));}catch(_0x5d74e7){console[_0x5ec730(0x7cd)](_0x5ec730(0x736),_0x5d74e7);}}async function getStandardizedTopic(_0x53cabe){const _0x24e03f=_0x4b15a0,_0x430a1c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x53cabe+_0x24e03f(0x7a0),_0x5acfab={'type':'OBJECT','properties':{'standardTopic':{'type':_0x24e03f(0x902)}},'required':[_0x24e03f(0xbad)]};try{const _0x2a10ea=await callAnalysisApi(_0x430a1c,_0x5acfab);return _0x2a10ea[_0x24e03f(0xbad)];}catch(_0x244d84){return console[_0x24e03f(0x7cd)](_0x24e03f(0xc82),_0x244d84),_0x53cabe;}}async function handleGenerateEasyVersionQuiz(_0x107283){const _0x1864c0=_0x4b15a0,_0x1e7651=document[_0x1864c0(0xb9f)](_0x1864c0(0x3a6)),_0x8553dd=document['getElementById'](_0x1864c0(0xddf));_0x8553dd[_0x1864c0(0xbd3)][_0x1864c0(0x72b)](_0x1864c0(0x81c));const _0x175cdf=_0x1864c0(0x71a);_0x1e7651[_0x1864c0(0x3dd)]('beforeend',_0x175cdf);try{const _0x537a76=allQuizzes[_0x1864c0(0x59d)](_0x36a224=>_0x36a224['id']===_0x107283);if(!_0x537a76)throw new Error(_0x1864c0(0x386));const _0x35b9f5=_0x1864c0(0x6ad)+JSON[_0x1864c0(0x4d8)](_0x537a76[_0x1864c0(0xa09)])+_0x1864c0(0x3aa),_0x53fb4c={'type':'OBJECT','properties':{'questionText':{'type':_0x1864c0(0x902)},'questionType':{'type':_0x1864c0(0x902)},'options':{'type':_0x1864c0(0x537),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1864c0(0x487)},'idealAnswer':{'type':_0x1864c0(0x902)},'explanation':{'type':_0x1864c0(0x902)},'imageCode':{'type':_0x1864c0(0x902)}},'required':[_0x1864c0(0x931),'questionType',_0x1864c0(0xe51)]},_0x3d6fbe={'type':_0x1864c0(0x4a5),'properties':{'questions':{'type':_0x1864c0(0x537),'items':_0x53fb4c}},'required':['questions']},_0x27c25f=await callAnalysisApi(_0x35b9f5,_0x3d6fbe);_0x27c25f&&_0x27c25f[_0x1864c0(0xa09)]&&_0x27c25f[_0x1864c0(0xa09)][_0x1864c0(0x4aa)](_0x3d426c=>{const _0x1653c6=_0x1864c0;if(_0x3d426c[_0x1653c6(0x5fc)](_0x1653c6(0xe33))){const _0x470146=String(_0x3d426c[_0x1653c6(0xe33)])[_0x1653c6(0xbdc)]();(_0x470146===''||_0x470146[_0x1653c6(0x724)]()===_0x1653c6(0xcf0)||!_0x470146[_0x1653c6(0xa72)](_0x1653c6(0xd63)))&&delete _0x3d426c[_0x1653c6(0xe33)];}});if(!_0x27c25f||!_0x27c25f[_0x1864c0(0xa09)]||_0x27c25f[_0x1864c0(0xa09)][_0x1864c0(0x8da)]===0x0)throw new Error(_0x1864c0(0xa83));const _0x4189ec=_0x27c25f[_0x1864c0(0xa09)][_0x1864c0(0xa0d)]((_0x3a29a8,_0x54e0aa)=>({..._0x3a29a8,'id':'q_'+Date[_0x1864c0(0xb38)]()+'_'+_0x54e0aa})),_0x11eb34={'projectId':_0x537a76[_0x1864c0(0xa0f)],'quizType':_0x537a76[_0x1864c0(0xd68)],'settings':_0x537a76[_0x1864c0(0x879)],'createdBy':_0x537a76[_0x1864c0(0x5b1)],'status':_0x1864c0(0x329),'topic':'(ฉบับง่าย)\x20'+_0x537a76[_0x1864c0(0x257)],'questions':_0x4189ec,'createdAt':new Date()[_0x1864c0(0x8f0)](),'quizMode':'standard','pairedQuizId':null};let _0x48f8bc;while(!![]){_0x48f8bc=Math[_0x1864c0(0x426)](0x3e8+Math[_0x1864c0(0x7c9)]()*0x2328)[_0x1864c0(0xbb9)]();const _0x348d77=await getDoc(doc(db,'artifacts/'+appId+_0x1864c0(0x671),_0x48f8bc));if(!_0x348d77['exists']())break;}await setDoc(doc(db,_0x1864c0(0xc4a)+appId+_0x1864c0(0x671),_0x48f8bc),_0x11eb34),showMessage(_0x1864c0(0x96d));}catch(_0x325de5){console['error'](_0x1864c0(0xbea),_0x325de5),showMessage(_0x1864c0(0xe37)+_0x325de5[_0x1864c0(0x81b)]);}finally{const _0xb6988d=document[_0x1864c0(0xb9f)](_0x1864c0(0xe32));_0xb6988d&&_0xb6988d[_0x1864c0(0x5f4)](),_0x8553dd[_0x1864c0(0xbd3)][_0x1864c0(0x5f4)]('hidden');}}async function generatePracticeQuestions(_0x1e6e7c){const _0xc150ef=_0x4b15a0,_0x306f48=_0xc150ef(0x8eb)+_0x1e6e7c+_0xc150ef(0xad4)+simpleMathPrompt+_0xc150ef(0xa7b),_0x46d56f={'type':_0xc150ef(0x4a5),'properties':{'questionText':{'type':_0xc150ef(0x902)},'options':{'type':_0xc150ef(0x537),'items':{'type':_0xc150ef(0x902)}},'correctAnswerIndex':{'type':_0xc150ef(0x487)},'explanation':{'type':_0xc150ef(0x902)}},'required':[_0xc150ef(0x931),_0xc150ef(0x4d1),_0xc150ef(0x82e),'explanation']},_0x91f862={'type':_0xc150ef(0x4a5),'properties':{'topic':{'type':_0xc150ef(0x902)},'questions':{'type':_0xc150ef(0x537),'items':_0x46d56f}},'required':[_0xc150ef(0x257),'questions']};return await callAnalysisApi(_0x306f48,_0x91f862);}function displayLessonPlan(_0x2c21f5,_0x132cd3){const _0x3da5dc=_0x4b15a0,_0xdd7d05=_0x3da5dc(0xaf6)+_0x132cd3[_0x3da5dc(0x257)]+_0x3da5dc(0x546)+_0x2c21f5[_0x3da5dc(0x29d)][_0x3da5dc(0xa0d)](_0x2735e2=>'<li>'+_0x2735e2+_0x3da5dc(0xde0))[_0x3da5dc(0x510)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x2c21f5[_0x3da5dc(0x5d9)]+_0x3da5dc(0xcbe)+_0x2c21f5[_0x3da5dc(0xeb1)][_0x3da5dc(0xa0d)](_0x2f9d17=>_0x3da5dc(0x8cc)+_0x2f9d17['question']+'</p><p><strong>เฉลย:</strong>\x20'+_0x2f9d17[_0x3da5dc(0xd5d)]+_0x3da5dc(0x721))[_0x3da5dc(0x510)]('')+_0x3da5dc(0x2a8);document[_0x3da5dc(0xb9f)](_0x3da5dc(0x871))['textContent']=_0x3da5dc(0xa15)+_0x132cd3[_0x3da5dc(0x257)],document[_0x3da5dc(0xb9f)]('lesson-plan-content')['innerHTML']=_0xdd7d05,document['getElementById']('lesson-plan-modal')[_0x3da5dc(0xbd3)][_0x3da5dc(0x5f4)]('hidden');if(window[_0x3da5dc(0x51a)])MathJax[_0x3da5dc(0xbce)]();}function displaySkillPracticeDrill(_0x54e6f5){const _0x2a986b=_0x4b15a0;let _0x43f399=0x0;const _0x4d5c6a=_0x54e6f5[_0x2a986b(0xa09)],_0x5bd1b7=()=>{const _0x3a6cbb=_0x2a986b,_0x5242df=_0x4d5c6a[_0x43f399],_0x2107e7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x43f399+0x1)+_0x3a6cbb(0xc6c)+_0x4d5c6a[_0x3a6cbb(0x8da)]+_0x3a6cbb(0x3a3)+_0x5242df['questionText']+_0x3a6cbb(0x564)+_0x5242df[_0x3a6cbb(0x4d1)][_0x3a6cbb(0xa0d)]((_0xa48d83,_0xee69cf)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0xee69cf+_0x3a6cbb(0x800)+_0xee69cf+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0xee69cf+'\x22>'+_0xa48d83+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3a6cbb(0x510)]('')+_0x3a6cbb(0x5b7);studentQuizArea[_0x3a6cbb(0x7fc)]=_0x2107e7;if(window[_0x3a6cbb(0x51a)])MathJax[_0x3a6cbb(0xbce)]([studentQuizArea]);document[_0x3a6cbb(0xb9f)](_0x3a6cbb(0x997))[_0x3a6cbb(0x95a)](_0x3a6cbb(0xd6c),async()=>{const _0x2b110c=_0x3a6cbb,_0x11b298=await getHintForQuestion(_0x5242df[_0x2b110c(0x931)]);showMessage(_0x11b298);}),document[_0x3a6cbb(0xb9f)](_0x3a6cbb(0x7aa))[_0x3a6cbb(0x95a)](_0x3a6cbb(0xd6c),()=>{const _0x465e98=_0x3a6cbb,_0x10caf2=document[_0x465e98(0x584)]('input[name=\x22drill_answer\x22]:checked');if(!_0x10caf2){showMessage(_0x465e98(0x206));return;}const _0xf5ca0c=document[_0x465e98(0xb9f)](_0x465e98(0xa92)),_0x4e98d5=parseInt(_0x10caf2['value'])===_0x5242df[_0x465e98(0x82e)];_0x4e98d5?(_0xf5ca0c[_0x465e98(0xbef)]=_0x465e98(0x6f6),_0xf5ca0c[_0x465e98(0x7fc)]=_0x465e98(0x6a9)+_0x5242df[_0x465e98(0xe51)]):(_0xf5ca0c[_0x465e98(0xbef)]=_0x465e98(0x970),_0xf5ca0c[_0x465e98(0x7fc)]=_0x465e98(0x6ac)+_0x5242df[_0x465e98(0xe51)]);_0xf5ca0c[_0x465e98(0xbd3)][_0x465e98(0x5f4)](_0x465e98(0x81c));if(window['MathJax'])MathJax[_0x465e98(0xbce)]([_0xf5ca0c]);document[_0x465e98(0xb9f)]('check-answer-btn')['classList']['add']('hidden'),document[_0x465e98(0xb9f)]('hint-btn')[_0x465e98(0xbd3)]['add'](_0x465e98(0x81c)),document[_0x465e98(0xb9f)](_0x465e98(0x3d9))['classList']['remove'](_0x465e98(0x81c));}),document[_0x3a6cbb(0xb9f)](_0x3a6cbb(0x3d9))['addEventListener'](_0x3a6cbb(0xd6c),()=>{const _0x17dfbc=_0x3a6cbb;_0x43f399++,_0x43f399<_0x4d5c6a[_0x17dfbc(0x8da)]?_0x5bd1b7():(studentQuizArea[_0x17dfbc(0x7fc)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x17dfbc(0xb9f)]('back-to-results-btn')[_0x17dfbc(0x95a)]('click',()=>{const _0x334375=_0x17dfbc;studentQuizArea['classList'][_0x334375(0x72b)](_0x334375(0x81c)),studentResultArea[_0x334375(0xbd3)][_0x334375(0x5f4)](_0x334375(0x81c));}));});};_0x5bd1b7();}async function getHintForQuestion(_0x66288f){const _0x10be1b=_0x4b15a0,_0x535e2f=_0x10be1b(0x464)+_0x66288f+_0x10be1b(0xa6c),_0x38baec={'type':'OBJECT','properties':{'hint':{'type':'STRING'}},'required':['hint']};try{const _0x547e4d=await callAnalysisApi(_0x535e2f,_0x38baec);return _0x547e4d[_0x10be1b(0x57b)];}catch(_0x144d68){return console[_0x10be1b(0x7cd)](_0x10be1b(0xe44),_0x144d68),_0x10be1b(0xd84);}}async function extractTextFromPdf(_0x51a706){const _0x230f3e=_0x4b15a0;pdfjsLib[_0x230f3e(0xb8c)][_0x230f3e(0x749)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0xf30de4=await _0x51a706[_0x230f3e(0xd45)](),_0x1263c6=await pdfjsLib['getDocument'](_0xf30de4)[_0x230f3e(0x69c)],_0x3c06e6=_0x1263c6['numPages'];let _0x14d80f='';for(let _0x2355d1=0x1;_0x2355d1<=_0x3c06e6;_0x2355d1++){const _0x1e6946=await _0x1263c6[_0x230f3e(0x343)](_0x2355d1),_0x7b6420=await _0x1e6946['getTextContent'](),_0x311b0e=_0x7b6420[_0x230f3e(0x84b)][_0x230f3e(0xa0d)](_0x5f5963=>_0x5f5963[_0x230f3e(0x8d0)])[_0x230f3e(0x510)]('\x20');_0x14d80f+=_0x311b0e+'\x0a\x0a';}return _0x14d80f;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x5af119){const _0x8d971b=_0x4b15a0,_0x1e3b77=document[_0x8d971b(0xb9f)](_0x8d971b(0x58e)),_0x39ebd1=document['getElementById'](_0x8d971b(0x646)),_0x408b73=document[_0x8d971b(0xb9f)](_0x8d971b(0xe99));_0x1e3b77[_0x8d971b(0xbd3)][_0x8d971b(0x5f4)]('hidden'),_0x39ebd1[_0x8d971b(0x7fc)]=_0x8d971b(0xbc3),_0x408b73['classList'][_0x8d971b(0x72b)](_0x8d971b(0x81c));try{const _0x21bc9d=_0x8d971b(0xc33)+_0x5af119+_0x8d971b(0x592),_0xb48e68={'type':_0x8d971b(0x4a5),'properties':{'gradeLevel':{'type':_0x8d971b(0x902)},'curriculum':{'type':_0x8d971b(0x537),'items':{'type':_0x8d971b(0x4a5),'properties':{'sara':{'type':_0x8d971b(0x902)},'mainTopics':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'topicName':{'type':_0x8d971b(0x902)},'subTopics':{'type':_0x8d971b(0x537),'items':{'type':'STRING'}}},'required':[_0x8d971b(0x876),_0x8d971b(0x359)]}}},'required':[_0x8d971b(0xb41),_0x8d971b(0xe1d)]}}},'required':[_0x8d971b(0xb14),_0x8d971b(0x6d8)]},_0x38ed7b=await callAnalysisApi(_0x21bc9d,_0xb48e68);if(_0x38ed7b&&_0x38ed7b[_0x8d971b(0x6d8)])extractedBlueprintData=_0x38ed7b,renderBlueprintTopics(_0x38ed7b),_0x408b73[_0x8d971b(0xbd3)][_0x8d971b(0x5f4)](_0x8d971b(0x81c));else throw new Error(_0x8d971b(0x4cc));}catch(_0xd6ca7d){console[_0x8d971b(0x7cd)](_0x8d971b(0x841),_0xd6ca7d),_0x39ebd1[_0x8d971b(0x7fc)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>';}}function renderBlueprintTopics(_0x44d5dd){const _0x67aab5=_0x4b15a0,_0x44b45e=document[_0x67aab5(0xb9f)]('blueprint-topics-list'),_0xd49c08=_0x44d5dd[_0x67aab5(0xb14)],_0x2dd8ad=_0x67aab5(0xa59)+_0xd49c08+'</h3>';let _0x1c1a82='';_0x44d5dd['curriculum'][_0x67aab5(0x4aa)](_0x4d8f2e=>{const _0x1f886c=_0x67aab5;_0x1c1a82+=_0x1f886c(0xcfa)+_0x4d8f2e['sara']+'</h4>',_0x4d8f2e[_0x1f886c(0xe1d)]['forEach'](_0x4d67a6=>{const _0x535d7f=_0x1f886c;_0x1c1a82+=_0x535d7f(0xbf8)+_0x4d67a6[_0x535d7f(0x876)]+_0x535d7f(0xd2d),_0x4d67a6['subTopics'][_0x535d7f(0x4aa)](_0x4dfb96=>{const _0x5086a1=_0x535d7f;_0x1c1a82+=_0x5086a1(0xd12)+_0x4dfb96[_0x5086a1(0x95b)](/'/g,'\x5c\x27')+_0x5086a1(0xadf)+_0xd49c08[_0x5086a1(0x95b)](/'/g,'\x5c\x27')+_0x5086a1(0x3fe)+_0x4dfb96+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x4dfb96[_0x5086a1(0x95b)](/'/g,'\x5c\x27')+_0x5086a1(0x55d);}),_0x1c1a82+='</div></div>';}),_0x1c1a82+='</div>';}),_0x44b45e[_0x67aab5(0x7fc)]=_0x2dd8ad+_0x1c1a82;}async function handleGenerateTeachingContent(_0x521fdc){const _0x2410c0=_0x4b15a0,_0x1297ef=document[_0x2410c0(0xb9f)](_0x2410c0(0x74b)),_0x57bd49=document[_0x2410c0(0xb9f)]('lesson-plan-content');document[_0x2410c0(0xb9f)](_0x2410c0(0x871))['textContent']=_0x2410c0(0x54b)+_0x521fdc,_0x57bd49[_0x2410c0(0x7fc)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x1297ef[_0x2410c0(0xbd3)]['remove'](_0x2410c0(0x81c));try{const _0x425a20=_0x2410c0(0xe38)+_0x521fdc+_0x2410c0(0x4e5),_0x45848c={'type':_0x2410c0(0x4a5),'properties':{'keyConcepts':{'type':_0x2410c0(0x537),'items':{'type':_0x2410c0(0x902)}},'commonMistakes':{'type':_0x2410c0(0x537),'items':{'type':_0x2410c0(0x902)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x2410c0(0x4a5),'properties':{'question':{'type':_0x2410c0(0x902)},'solution':{'type':'STRING'}},'required':[_0x2410c0(0x9b0),_0x2410c0(0xd5d)]}},'teacherTips':{'type':_0x2410c0(0x537),'items':{'type':_0x2410c0(0x902)}}},'required':[_0x2410c0(0x9e0),_0x2410c0(0xbf2),_0x2410c0(0x1f3),'teacherTips']},_0x433cce=await callAnalysisApi(_0x425a20,_0x45848c);displayTeachingContent(_0x433cce,_0x521fdc);}catch(_0x3a46b0){console['error'](_0x2410c0(0xddc),_0x3a46b0),_0x57bd49[_0x2410c0(0x7fc)]=_0x2410c0(0xcff)+_0x3a46b0['message']+_0x2410c0(0xe43);}}function displayTeachingContent(_0x185cfa,_0x3e9c8c){const _0x508cc8=_0x4b15a0,_0x5f418b=document[_0x508cc8(0xb9f)](_0x508cc8(0x8e8));document[_0x508cc8(0xb9f)](_0x508cc8(0x871))[_0x508cc8(0x1d0)]=_0x508cc8(0x834)+_0x3e9c8c;const _0xd454b3=_0x508cc8(0x450)+_0x185cfa[_0x508cc8(0x9e0)][_0x508cc8(0xa0d)](_0x438de1=>'<li>'+_0x438de1+_0x508cc8(0xde0))[_0x508cc8(0x510)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x185cfa[_0x508cc8(0xbf2)][_0x508cc8(0xa0d)](_0xaded34=>_0x508cc8(0xd47)+_0xaded34+'</li>')[_0x508cc8(0x510)]('')+_0x508cc8(0x3b2)+_0x185cfa[_0x508cc8(0x1f3)]['map'](_0x4abc00=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x4abc00[_0x508cc8(0x9b0)]+_0x508cc8(0x38c)+_0x4abc00['solution']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x508cc8(0x773)+_0x185cfa[_0x508cc8(0xa8e)][_0x508cc8(0xa0d)](_0x19607e=>_0x508cc8(0xd47)+_0x19607e+'</li>')[_0x508cc8(0x510)]('')+_0x508cc8(0x3cc);_0x5f418b['innerHTML']=_0xd454b3;if(window[_0x508cc8(0x51a)])MathJax['typesetPromise']([_0x5f418b]);}async function generateQuizForSingleTopic(_0x3d6fc5){const _0x494696=_0x4b15a0;console[_0x494696(0xe84)](_0x494696(0xd92)+_0x3d6fc5+'\x22');const _0xc9e86c=document[_0x494696(0xb9f)](_0x494696(0x718)),_0xa7ce50=_0xc9e86c[_0x494696(0x3db)][_0x494696(0x8da)]>0x0?_0xc9e86c[_0x494696(0x3db)][0x0]:null;let _0x65ec7c=null;if(_0xa7ce50)try{const _0x2b4d69=new FileReader();_0x2b4d69['readAsDataURL'](_0xa7ce50);const _0x1e7383=await new Promise((_0xad2c26,_0x3dd3a5)=>{const _0x205318=_0x494696;_0x2b4d69[_0x205318(0xb46)]=()=>_0xad2c26(_0x2b4d69[_0x205318(0x338)][_0x205318(0x390)](',')[0x1]),_0x2b4d69[_0x205318(0xce6)]=_0x40e1e4=>_0x3dd3a5(_0x40e1e4);});_0x65ec7c=[{'inlineData':{'mimeType':_0xa7ce50[_0x494696(0xa1b)],'data':_0x1e7383}}];}catch(_0x114ae8){console[_0x494696(0x7cd)]('Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:',_0x114ae8),showMessage(_0x494696(0x932));return;}generateQuiz(_0x3d6fc5,null,null,_0x65ec7c,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0xd99bb1=null){const _0xb0c432=_0x4b15a0,_0x4cee92=document[_0xb0c432(0xb9f)]('loader'),_0x47c1e2=document[_0xb0c432(0xb9f)](_0xb0c432(0x6a5));let _0x4202c6,_0x5adcfb=[];if(_0xd99bb1)_0x4202c6=_0xd99bb1,_0x5adcfb=_0x4202c6[_0xb0c432(0xb67)](0x2);else{const _0x116b36=document[_0xb0c432(0xb9f)]('blueprint-upload-input'),_0x3d041d=document[_0xb0c432(0xb9f)]('reference-pdf-upload'),_0x110262=_0x116b36[_0xb0c432(0x3db)][0x0];if(!_0x110262){showMessage(_0xb0c432(0x734));return;}_0x47c1e2[_0xb0c432(0x1d0)]='กำลังเตรียมไฟล์...';const _0x428441=await new Promise((_0x4bbc15,_0x4f1878)=>{const _0x437541=_0xb0c432,_0xa6821=new FileReader();_0xa6821[_0x437541(0x965)](_0x110262),_0xa6821[_0x437541(0xb46)]=()=>_0x4bbc15(_0xa6821[_0x437541(0x338)][_0x437541(0x390)](',')[0x1]),_0xa6821['onerror']=_0x4f1878;});_0x4202c6=[{'text':_0xb0c432(0x72e)},{'inlineData':{'mimeType':_0x110262[_0xb0c432(0xa1b)],'data':_0x428441}}];if(_0x3d041d['files'][_0xb0c432(0x8da)]>0x0){const _0x479a87=_0x3d041d[_0xb0c432(0x3db)][0x0];_0x47c1e2[_0xb0c432(0x1d0)]=_0xb0c432(0x4a8);const _0x3ace1c=await new Promise((_0x710f00,_0x5991e3)=>{const _0x481e9e=_0xb0c432,_0x110ee5=new FileReader();_0x110ee5[_0x481e9e(0x965)](_0x479a87),_0x110ee5[_0x481e9e(0xb46)]=()=>_0x710f00(_0x110ee5[_0x481e9e(0x338)][_0x481e9e(0x390)](',')[0x1]),_0x110ee5['onerror']=_0x5991e3;}),_0x473126={'inlineData':{'mimeType':_0x479a87['type'],'data':_0x3ace1c}};_0x4202c6[_0xb0c432(0x542)](_0x473126),_0x5adcfb[_0xb0c432(0x542)](_0x473126);}}const _0x1ba5a8=_0xb0c432(0x8ed),_0x560c0d=_0xb0c432(0x9a7);let _0x50e380='';_0x5adcfb&&_0x5adcfb[_0xb0c432(0x8da)]>0x0?_0x50e380=_0x1ba5a8:_0x50e380=_0x560c0d;const _0x283789=_0xb0c432(0x473)+_0x50e380+_0xb0c432(0x34f),_0x4fda1f={'type':_0xb0c432(0x4a5),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0xb0c432(0x902),'enum':[_0xb0c432(0x9c3),_0xb0c432(0xc9f),_0xb0c432(0xa29),_0xb0c432(0x50f)]},'options':{'type':_0xb0c432(0x537),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xb0c432(0x487)},'idealAnswer':{'type':_0xb0c432(0x902)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0xb0c432(0x902)},'imageCode':{'type':_0xb0c432(0x902)}},'required':[_0xb0c432(0x899),_0xb0c432(0xe51)]},_0x1d1d78={'type':'OBJECT','properties':{'topic':{'type':_0xb0c432(0x902)},'questions':{'type':_0xb0c432(0x537),'items':_0x4fda1f}},'required':['topic',_0xb0c432(0xa09)]};_0x4202c6[0x0][_0xb0c432(0x9ad)]=_0x283789,await handleApiCall(_0x4202c6,_0xb0c432(0xc61),_0x1d1d78);}function proceedToNextQuestion(_0x3cc56c){const _0x2584d5=_0x4b15a0;studentAnswersPerQuestion[_0x2584d5(0x542)](_0x3cc56c),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x2584d5(0x8da)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function renderAdminSyncDashboard(_0xabd36,_0x10622f,_0x50e63e){const _0x3c37df=_0x4b15a0,_0x452852=Object['values'](_0xabd36[_0x3c37df(0xb9c)]||{}),_0x550c7b=_0x452852[_0x3c37df(0x8da)],_0x1cedd0=_0x50e63e,_0x1ac45a=_0xabd36[_0x3c37df(0x4f5)]||_0x3c37df(0x870),_0x3442d4=_0x1ac45a==='anonymous',_0x150398=_0xabd36[_0x3c37df(0xbf7)]===!![],_0x37575f=_0x1ac45a===_0x3c37df(0x5a4),_0x35c525=_0xabd36[_0x3c37df(0x38d)]['questions'],_0xc7fc52=_0x35c525[_0x1cedd0],_0x11900d=_0x285b48=>String[_0x3c37df(0x5a9)](0x41+_0x285b48),_0x5ac58b=_0x452852['map'](_0x581f1d=>{const _0x575b45=_0x3c37df,_0x2a0ec3=_0x581f1d[_0x575b45(0x7e2)]||0x0,_0x159e1c=_0x581f1d[_0x575b45(0x299)]||0x0,_0x3c1bc1=(_0x581f1d[_0x575b45(0x80b)]||[])[_0x575b45(0xce3)](_0x1a4504=>{const _0x58448b=_0x575b45;if(_0x1ac45a===_0x58448b(0x57e))return _0x1a4504['questionIndex']<=_0x1cedd0;return!![];});return{..._0x581f1d,'realScore':_0x2a0ec3,'totalPoints':_0x159e1c,'answers':_0x3c1bc1};}),_0x3c36e4=_0xabd36[_0x3c37df(0x5d7)]===!![],_0x23339b=[..._0x5ac58b][_0x3c37df(0x8c7)]((_0x155316,_0x4c61fb)=>{const _0x2fb7f3=_0x3c37df;if(_0x3c36e4){const _0x225ac1=_0x4c61fb[_0x2fb7f3(0xddd)]-_0x155316[_0x2fb7f3(0xddd)];if(_0x225ac1!==0x0)return _0x225ac1;const _0x2c220f=_0x4c61fb['totalPoints']-_0x155316[_0x2fb7f3(0x299)];if(_0x2c220f!==0x0)return _0x2c220f;return(_0x155316[_0x2fb7f3(0x757)]||'')[_0x2fb7f3(0x822)](_0x4c61fb[_0x2fb7f3(0x757)]||'','th');}else{const _0x5ef6d3=_0x4c61fb[_0x2fb7f3(0x299)]-_0x155316['totalPoints'];if(_0x5ef6d3!==0x0)return _0x5ef6d3;const _0x53346a=_0x4c61fb[_0x2fb7f3(0xddd)]-_0x155316[_0x2fb7f3(0xddd)];if(_0x53346a!==0x0)return _0x53346a;return(_0x155316['name']||'')[_0x2fb7f3(0x822)](_0x4c61fb[_0x2fb7f3(0x757)]||'','th');}}),_0x230bb3=Math[_0x3c37df(0x5e9)](..._0x5ac58b[_0x3c37df(0xa0d)](_0x531765=>_0x531765[_0x3c37df(0x299)]),0x0),_0x140df9=_0x50e63e+0x1,_0x329e3d=_0x5ac58b['filter'](_0x4c9c48=>_0x4c9c48[_0x3c37df(0xddd)]===_0x140df9&&(_0x4c9c48[_0x3c37df(0x80b)]||[])[_0x3c37df(0x8da)]===_0x140df9&&_0x140df9>0x0),_0x2f352c=_0x329e3d[_0x3c37df(0x8da)]>0x0?Math[_0x3c37df(0x5e9)](..._0x329e3d['map'](_0x309a22=>_0x309a22[_0x3c37df(0x299)])):-Infinity;let _0x5d07ee='';const _0x389e3f=!_0x37575f&&!(_0x3442d4&&_0xabd36[_0x3c37df(0xa63)]===![]);if(_0xc7fc52&&_0x389e3f){let _0x138a25='',_0xf701b5='';const _0x3a395a=_0xc7fc52['questionType']||_0xabd36[_0x3c37df(0x38d)][_0x3c37df(0xd68)];if(_0x3a395a==='multiple_choice'&&_0xc7fc52[_0x3c37df(0x4d1)]&&_0xc7fc52[_0x3c37df(0x82e)]!==undefined){const _0x421c6f=_0xc7fc52['correctAnswerIndex'];_0x138a25=_0xc7fc52[_0x3c37df(0x4d1)][_0x421c6f],_0xf701b5=_0x11900d(_0x421c6f)+'.';}else{if(_0x3a395a===_0x3c37df(0xa29)){const _0x44765d=_0xc7fc52[_0x3c37df(0x9fb)]===!![]||String(_0xc7fc52[_0x3c37df(0x9fb)])['toLowerCase']()===_0x3c37df(0xb18);_0x44765d?(_0x138a25=_0x3c37df(0xb92),_0xf701b5='ก.'):(_0x138a25=_0x3c37df(0x793),_0xf701b5='ข.');}else{if(_0x3a395a==='matching_item')_0x138a25=_0xc7fc52[_0x3c37df(0xa54)]||'-',_0xf701b5='';else _0x3a395a===_0x3c37df(0xc9f)&&(_0x138a25=_0xc7fc52[_0x3c37df(0x493)]||'-',_0xf701b5='');}}_0x138a25&&(_0x5d07ee=_0x3c37df(0x3ce)+(_0x1cedd0+0x1)+_0x3c37df(0x630)+_0xf701b5+'\x20'+_0x138a25+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x77ff79=_0x23339b[_0x3c37df(0xa0d)](_0xaeb205=>{const _0x3dd31c=_0x3c37df,_0x234d6f=_0xaeb205[_0x3dd31c(0xddd)],_0xb02b17=_0xaeb205[_0x3dd31c(0x299)],_0x1537f4=_0xaeb205['answers'][_0x3dd31c(0x8da)],_0x9073c=(_0xaeb205[_0x3dd31c(0x80b)]||[])[_0x3dd31c(0x59d)](_0x1c9edb=>_0x1c9edb[_0x3dd31c(0x5c7)]===_0x50e63e);let _0x3838ff='';if(_0x9073c){_0x9073c[_0x3dd31c(0x6de)]&&(_0x3838ff+='<span\x20title=\x22โดนบังคับมั่นใจในตานี้\x22>👻</span>');_0x9073c[_0x3dd31c(0x6f0)]&&(_0x3838ff+=_0x3dd31c(0x226));_0x9073c[_0x3dd31c(0x1cf)]&&(_0x3838ff+=_0x3dd31c(0x6f5));const _0x5d7d11=_0x9073c[_0x3dd31c(0x78c)];if(_0x5d7d11)switch(_0x5d7d11){case _0x3dd31c(0x449):_0x3838ff+=_0x3dd31c(0xd21);break;case _0x3dd31c(0x95c):_0x3838ff+=_0x3dd31c(0x8fe);break;case _0x3dd31c(0x828):_0x3838ff+='<span\x20title=\x22ใช้:\x20ประกันภัย\x22>🛡️</span>';break;case _0x3dd31c(0x509):_0x3838ff+='<span\x20title=\x22ใช้:\x2050:50\x22>🌗</span>';break;case _0x3dd31c(0x529):_0x3838ff+='<span\x20title=\x22ใช้:\x20คูณเดิมพัน\x22>💰</span>';break;case _0x3dd31c(0x91f):_0x3838ff+=_0x3dd31c(0x683);break;}}let _0x2a21cc='';if(!_0x37575f&&_0x1537f4>0x0){const _0x1fc875=_0xaeb205[_0x3dd31c(0x80b)]['length'],_0x4adfc0=_0xaeb205[_0x3dd31c(0xddd)]===_0x140df9&&_0x1fc875===_0x140df9&&_0x140df9>0x0;if(_0x3c36e4){const _0x8b1837=_0x4adfc0&&_0xaeb205[_0x3dd31c(0x299)]===_0x2f352c;if(_0x8b1837)_0x2a21cc='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>';else _0x4adfc0&&(_0x2a21cc=_0x3dd31c(0x31b));}else{if(_0x1fc875===_0x140df9&&_0x140df9>0x0){let _0x2dfea9=_0x140df9;_0xabd36[_0x3dd31c(0xb89)]&&(_0x2dfea9=_0x140df9*0x2);const _0x2d2427=_0xaeb205[_0x3dd31c(0x299)]===_0x2dfea9;if(_0x2d2427)_0x2a21cc=_0x3dd31c(0xb53);else _0x4adfc0&&(_0x2a21cc='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>');}}if(_0x2a21cc===''){if(_0xb02b17<0x0)_0x2a21cc=_0x3dd31c(0x1d7);else _0x234d6f===0x0&&_0x1fc875>0x0&&(_0x2a21cc=_0x3dd31c(0x872));}}let _0x2de9c6=_0x3dd31c(0x6b4);if(!_0x37575f){const _0x5f519d=(_0xaeb205[_0x3dd31c(0x80b)]||[])[_0x3dd31c(0x59d)](_0x22337f=>_0x22337f[_0x3dd31c(0x5c7)]===_0x1cedd0);if(_0x5f519d){const _0x42da59=_0x5f519d[_0x3dd31c(0x809)],_0x308b0c=_0x5f519d[_0x3dd31c(0x39f)]===!![]||_0x5f519d['wasConfident']==='confident',_0x4980dd=_0x5f519d['powerupUsed'];if(_0x4980dd===_0x3dd31c(0x529))_0x42da59?_0x2de9c6='bg-yellow-300\x20text-yellow-900\x20font-bold':_0x2de9c6='bg-red-700\x20text-white\x20font-bold';else{if(_0x308b0c)_0x42da59?_0x2de9c6='bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x2de9c6='bg-[#EF4444]\x20text-white\x20font-bold';else _0x42da59&&(_0x2de9c6=_0x3dd31c(0x340));}}}let _0x21f924='';const _0x1b8e1e=_0xaeb205[_0x3dd31c(0x757)],_0x5d5c30=_0xabd36[_0x3dd31c(0x20e)][_0xaeb205[_0x3dd31c(0x757)]]||_0x3dd31c(0xcdc),_0x4d4595='line-height:\x201.3;\x20min-width:\x200;',_0x47e102='word-break:\x20break-all;';let _0x14c3bf='';const _0x3d472e=_0xb02b17>=0x0?'(+'+_0xb02b17+')':'('+_0xb02b17+')',_0x2461cf=_0x3dd31c(0xa28)+_0xaeb205['realScore']+_0x3dd31c(0xa5a)+_0x3d472e+_0x3dd31c(0xbc0);if(_0x10622f){if(_0x3442d4&&!_0x150398)_0x21f924='<div\x20style=\x22'+_0x4d4595+'\x22\x20title=\x22'+_0x5d5c30+_0x3dd31c(0x5ea)+_0x47e102+'\x22>'+_0x5d5c30+_0x3dd31c(0xb42)+_0x3838ff+'\x20'+_0x2a21cc+'</div>',_0x14c3bf=_0x2461cf;else{if(_0x3442d4&&_0x150398)_0x21f924=_0x3dd31c(0x6a6)+_0x4d4595+'\x22\x20title=\x22'+_0x1b8e1e+'\x20('+_0x5d5c30+')\x22><span\x20style=\x22'+_0x47e102+'\x22>'+_0x1b8e1e+'</span>\x20'+_0x3838ff+'\x20'+_0x2a21cc+_0x3dd31c(0x954)+_0x47e102+_0x3dd31c(0xa95)+_0x5d5c30+')</span></div>',_0x14c3bf=_0x2461cf;else _0x37575f?(_0x21f924=_0x3dd31c(0x6a6)+_0x4d4595+_0x3dd31c(0xdd3)+_0x1b8e1e+_0x3dd31c(0x5ea)+_0x47e102+'\x22>'+_0x1b8e1e+_0x3dd31c(0xb42)+_0x3838ff+'</div>',_0x14c3bf=''):(_0x21f924='<div\x20style=\x22'+_0x4d4595+_0x3dd31c(0xdd3)+_0x1b8e1e+'\x22><span\x20style=\x22'+_0x47e102+'\x22>'+_0x1b8e1e+_0x3dd31c(0xb42)+_0x3838ff+'\x20'+_0x2a21cc+_0x3dd31c(0xd14),_0x14c3bf=_0x2461cf);}}else{const _0x155b11=localTeamPlayers[_0x3dd31c(0xa36)](_0x1b8e1e),_0x3f90a8=viewerPlayer['totalPoints'],_0x280c0b=_0xaeb205[_0x3dd31c(0x299)];if(_0x3442d4)_0x150398?_0x21f924='<div\x20style=\x22'+_0x4d4595+_0x3dd31c(0xdd3)+_0x1b8e1e+'\x20('+_0x5d5c30+_0x3dd31c(0x463)+_0x47e102+'\x22>'+_0x1b8e1e+_0x3dd31c(0xb42)+_0x3838ff+'\x20'+_0x2a21cc+_0x3dd31c(0x954)+_0x47e102+_0x3dd31c(0xa95)+_0x5d5c30+_0x3dd31c(0x24e):_0x155b11?isViewerTopScorer?_0x21f924=_0x3dd31c(0x6a6)+_0x4d4595+_0x3dd31c(0xdd3)+_0x1b8e1e+'\x20('+_0x5d5c30+_0x3dd31c(0x463)+_0x47e102+'\x22>'+_0x1b8e1e+_0x3dd31c(0xb42)+_0x3838ff+'\x20'+_0x2a21cc+_0x3dd31c(0x954)+_0x47e102+'\x22>('+_0x5d5c30+_0x3dd31c(0x24e):_0x21f924='<div\x20style=\x22'+_0x4d4595+_0x3dd31c(0xdd3)+_0x5d5c30+_0x3dd31c(0x5ea)+_0x47e102+'\x22>'+_0x5d5c30+_0x3dd31c(0xb42)+_0x3838ff+'\x20'+_0x2a21cc+'</div>':_0x3f90a8>_0x280c0b?_0x21f924='<div\x20style=\x22'+_0x4d4595+'\x22\x20title=\x22'+_0x1b8e1e+'\x20('+_0x5d5c30+')\x22><span\x20style=\x22'+_0x47e102+'\x22>'+_0x1b8e1e+'</span>\x20'+_0x3838ff+'\x20'+_0x2a21cc+_0x3dd31c(0x954)+_0x47e102+_0x3dd31c(0xa95)+_0x5d5c30+_0x3dd31c(0x24e):_0x21f924=_0x3dd31c(0x6a6)+_0x4d4595+'\x22\x20title=\x22'+_0x5d5c30+_0x3dd31c(0x5ea)+_0x47e102+'\x22>'+_0x5d5c30+_0x3dd31c(0xb42)+_0x3838ff+'\x20'+_0x2a21cc+_0x3dd31c(0xd14),_0x14c3bf=_0x2461cf;else _0x37575f?(_0x21f924='<div\x20style=\x22'+_0x4d4595+'\x22\x20title=\x22'+_0x1b8e1e+_0x3dd31c(0x5ea)+_0x47e102+'\x22>'+_0x1b8e1e+'</span>\x20'+_0x3838ff+_0x3dd31c(0xd14),_0x14c3bf=''):(_0x21f924='<div\x20style=\x22'+_0x4d4595+_0x3dd31c(0xdd3)+_0x1b8e1e+_0x3dd31c(0x5ea)+_0x47e102+'\x22>'+_0x1b8e1e+_0x3dd31c(0xb42)+_0x3838ff+'\x20'+_0x2a21cc+'</div>',_0x14c3bf=_0x2461cf);}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x2de9c6+_0x3dd31c(0x448)+_0x21f924+_0x3dd31c(0xcf4)+_0x14c3bf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x3c37df(0x510)](''),_0x2b44ac=_0x35c525[_0x3c37df(0xa0d)]((_0x4e2d40,_0x2250d5)=>{const _0x4647d2=_0x3c37df;if(_0x1ac45a==='reveal_at_end'&&_0x2250d5>_0x1cedd0||_0x37575f)return'';const _0x4cee38=_0x5ac58b['filter'](_0x5e8da1=>_0x5e8da1[_0x4647d2(0x80b)]&&_0x5e8da1[_0x4647d2(0x80b)]['find'](_0x1f89ab=>_0x1f89ab[_0x4647d2(0x5c7)]===_0x2250d5&&_0x1f89ab[_0x4647d2(0x809)]))[_0x4647d2(0x8da)],_0x470690=_0x2250d5===_0x1cedd0,_0x45c546=_0x470690?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x4647d2(0x5f7);return _0x4647d2(0x3b7)+_0x45c546+_0x4647d2(0xad2)+(_0x2250d5+0x1)+_0x4647d2(0x939)+_0x4cee38+_0x4647d2(0xc6c)+_0x550c7b+_0x4647d2(0x5e4);})[_0x3c37df(0x510)]('');let _0x3f2c71='',_0x40fb90='';if(_0x10622f){const _0x36aa65=_0x1ac45a===_0x3c37df(0x870)&&_0xabd36[_0x3c37df(0x224)]>=_0x35c525['length']-0x1,_0x2a907f=_0x1ac45a===_0x3c37df(0x57e)&&_0xabd36['reviewQuestionIndex']>=_0x35c525[_0x3c37df(0x8da)]-0x1,_0x316e24=_0x1ac45a===_0x3c37df(0x32c)&&_0xabd36[_0x3c37df(0x224)]>=_0x35c525[_0x3c37df(0x8da)]-0x1,_0x1d3110=_0x1ac45a===_0x3c37df(0x5a4)&&_0xabd36['currentQuestionIndex']>=_0x35c525[_0x3c37df(0x8da)]-0x1;_0x36aa65||_0x2a907f||_0x316e24||_0x1d3110?_0x3442d4&&!_0x150398?_0x3f2c71=_0x3c37df(0x984):_0x3f2c71=_0x3c37df(0xc09):_0x3f2c71=_0x3c37df(0xb60),_0x40fb90='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x1d89ba=_0x37575f||_0x3442d4&&!_0xabd36[_0x3c37df(0xa63)]?'':'<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x2b44ac+_0x3c37df(0x504),_0x294932=_0x37575f||_0x3442d4&&!_0xabd36[_0x3c37df(0xa63)]?'md:col-span-3':_0x3c37df(0x7df),_0x69320b=_0x3c37df(0x389)+_0xabd36[_0x3c37df(0x38d)][_0x3c37df(0x257)]+_0x3c37df(0x88a)+_0xabd36[_0x3c37df(0x849)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40fb90+_0x3c37df(0x6a0)+_0x5d07ee+_0x3c37df(0x59a)+_0x294932+_0x3c37df(0xdf3)+(_0x77ff79||_0x3c37df(0x95f))+_0x3c37df(0xdad)+_0x1d89ba+_0x3c37df(0xc19)+(_0x10622f?_0x3c37df(0x551)+_0x3f2c71+_0x3c37df(0xd14):'')+_0x3c37df(0x650);liveGameView['innerHTML']=_0x69320b;if(window[_0x3c37df(0x51a)]){const _0xee14c1=document['getElementById'](_0x3c37df(0x8b4));_0xee14c1&&MathJax[_0x3c37df(0xbce)]([_0xee14c1]);}if(_0x10622f){document[_0x3c37df(0xb9f)](_0x3c37df(0xa6d))[_0x3c37df(0x760)]=async()=>{const _0x4c7bb5=_0x3c37df,_0xd25bf4=doc(db,_0x4c7bb5(0xc4a)+appId+_0x4c7bb5(0xcba),currentLiveGameId),_0xe03e45=_0x1ac45a===_0x4c7bb5(0x870)&&_0xabd36[_0x4c7bb5(0x224)]>=_0x35c525[_0x4c7bb5(0x8da)]-0x1,_0x3e0e03=_0x1ac45a===_0x4c7bb5(0x57e)&&_0xabd36['reviewQuestionIndex']>=_0x35c525[_0x4c7bb5(0x8da)]-0x1,_0x593e18=_0x1ac45a===_0x4c7bb5(0x32c)&&_0xabd36[_0x4c7bb5(0x224)]>=_0x35c525[_0x4c7bb5(0x8da)]-0x1,_0x1a5452=_0x1ac45a==='competition'&&_0xabd36[_0x4c7bb5(0x224)]>=_0x35c525[_0x4c7bb5(0x8da)]-0x1;if(_0x1ac45a===_0x4c7bb5(0x57e))!_0x3e0e03?await updateDoc(_0xd25bf4,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0xd25bf4,{'status':_0x4c7bb5(0xd1f)});else{if(!_0xe03e45&&!_0x593e18&&!_0x1a5452){const _0x232f4c=_0xabd36['currentQuestionIndex']+0x1,_0xfd4e73={};Object[_0x4c7bb5(0xb2e)](_0xabd36[_0x4c7bb5(0xb9c)])['forEach'](_0x135e08=>{const _0x2ebaef=_0x4c7bb5;_0xfd4e73[_0x2ebaef(0x36c)+_0x135e08+_0x2ebaef(0xad0)]=![],_0xfd4e73[_0x2ebaef(0x36c)+_0x135e08+'.lastAnswerIndex']=null,_0xfd4e73[_0x2ebaef(0x36c)+_0x135e08+_0x2ebaef(0xe1c)]=![],_0xfd4e73[_0x2ebaef(0x36c)+_0x135e08+_0x2ebaef(0x8b7)]=![];}),await updateDoc(_0xd25bf4,{..._0xfd4e73,'status':_0x4c7bb5(0x9b0),'currentQuestionIndex':_0x232f4c,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0xd25bf4,{'status':'podium'});}},document[_0x3c37df(0xb9f)](_0x3c37df(0xac3))?.[_0x3c37df(0x95a)](_0x3c37df(0xd6c),async()=>{const _0x1630cc=_0x3c37df;await updateDoc(doc(db,_0x1630cc(0xc4a)+appId+_0x1630cc(0xcba),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x455b58=document['getElementById'](_0x3c37df(0xa5b));_0x455b58&&(_0x455b58['onclick']=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x3fa48c=_0x33c9;await updateDoc(doc(db,_0x3fa48c(0xc4a)+appId+_0x3fa48c(0xcba),currentLiveGameId),{'status':_0x3fa48c(0xd1f)});});});}}async function handleGenerateParallelFromBank(_0x153351){const _0x1dc701=_0x4b15a0,_0x1b8f35=document[_0x1dc701(0xb9f)]('results-tab-content'),_0x58d099=document[_0x1dc701(0xb9f)]('project-quizzes-list');_0x58d099[_0x1dc701(0xbd3)]['add']('hidden');const _0x313494=_0x1dc701(0x688)+_0x153351[_0x1dc701(0x257)]+_0x1dc701(0xa40);_0x1b8f35['insertAdjacentHTML'](_0x1dc701(0x6d9),_0x313494);const _0x341901=document[_0x1dc701(0xb9f)](_0x1dc701(0x307));try{const _0x57648d=_0x153351[_0x1dc701(0xa09)][_0x1dc701(0xa0d)]((_0x417740,_0x504585)=>{const _0x5911eb=_0x1dc701;let _0x5326b1=_0x504585+0x1+'.\x20'+(_0x417740[_0x5911eb(0x931)]||_0x417740['stem'])+'\x0a';if(_0x417740[_0x5911eb(0x4d1)])_0x5326b1+=_0x417740[_0x5911eb(0x4d1)][_0x5911eb(0xa0d)]((_0x43ae6f,_0x3afef7)=>_0x5911eb(0x89d)+(_0x3afef7===_0x417740[_0x5911eb(0x82e)]?_0x5911eb(0x9a2):'')+'\x20'+_0x43ae6f)[_0x5911eb(0x510)]('\x0a');else _0x417740[_0x5911eb(0x493)]&&(_0x5326b1+=_0x5911eb(0x454)+_0x417740[_0x5911eb(0x493)]);return _0x5326b1;})[_0x1dc701(0x510)]('\x0a\x0a');_0x341901[_0x1dc701(0x1d0)]=_0x1dc701(0xdcc);const _0x5419bd=_0x1dc701(0xdfc)+_0x153351['topic']+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57648d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x1dc701(0xe0d),_0x490896={'type':_0x1dc701(0x4a5),'properties':{'questionText':{'type':_0x1dc701(0x902)},'questionType':{'type':_0x1dc701(0x902),'enum':[_0x1dc701(0x9c3),_0x1dc701(0xc9f),_0x1dc701(0xa29),'matching_item']},'options':{'type':_0x1dc701(0x537),'items':{'type':_0x1dc701(0x902)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1dc701(0x902)},'correctAnswer':{'type':_0x1dc701(0x1cb)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x1dc701(0x902)},'allResponses':{'type':'ARRAY','items':{'type':_0x1dc701(0x902)}},'explanation':{'type':_0x1dc701(0x902)},'imageCode':{'type':_0x1dc701(0x902)}},'required':[_0x1dc701(0x899),_0x1dc701(0xe51)]},_0x16619d={'type':_0x1dc701(0x4a5),'properties':{'topic':{'type':_0x1dc701(0x902)},'questions':{'type':'ARRAY','items':_0x490896}},'required':[_0x1dc701(0x257),'questions']},_0x960e2e=await callAnalysisApi(_0x5419bd,_0x16619d),_0x4a12b8=_0x960e2e[_0x1dc701(0xa09)][_0x1dc701(0xa0d)]((_0x3cb685,_0x387c50)=>({..._0x3cb685,'id':'q_'+Date[_0x1dc701(0xb38)]()+'_'+_0x387c50})),_0x4766dc=_0x1dc701(0xd41)+_0x153351[_0x1dc701(0x257)],_0x4ff30a={'topic':_0x4766dc,'questions':_0x4a12b8,'quizType':_0x153351[_0x1dc701(0xd68)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1dc701(0x8f0)](),'status':_0x1dc701(0x329),'settings':_0x153351['settings'],'quizMode':_0x1dc701(0x283),'pairedQuizId':null,'lessonPlan':null};let _0x613dfe;while(!![]){_0x613dfe=Math[_0x1dc701(0x426)](0x3e8+Math['random']()*0x2328)[_0x1dc701(0xbb9)]();const _0x387f22=await getDoc(doc(db,_0x1dc701(0xc4a)+appId+_0x1dc701(0x671),_0x613dfe));if(!_0x387f22[_0x1dc701(0x37f)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x613dfe),_0x4ff30a),showMessage(_0x1dc701(0x4e7));}catch(_0x4dc6d3){console[_0x1dc701(0x7cd)]('Error\x20generating\x20parallel\x20test\x20from\x20bank:',_0x4dc6d3),showMessage(_0x1dc701(0xe37)+_0x4dc6d3[_0x1dc701(0x81b)]);}finally{const _0xe2e43e=document['getElementById']('temp-loader-results');_0xe2e43e&&_0xe2e43e[_0x1dc701(0x5f4)](),_0x58d099[_0x1dc701(0xbd3)][_0x1dc701(0x5f4)](_0x1dc701(0x81c));}}async function handleGenerateParallelPostTest(_0x18030a){const _0x439ad0=_0x4b15a0,_0x3ce0bb=document[_0x439ad0(0xb9f)](_0x439ad0(0x3a6)),_0x5763d7=document[_0x439ad0(0xb9f)](_0x439ad0(0xddf));_0x5763d7[_0x439ad0(0xbd3)][_0x439ad0(0x72b)]('hidden');const _0x5338a8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x3ce0bb[_0x439ad0(0x3dd)](_0x439ad0(0x6d9),_0x5338a8);try{const _0x21e2fd=_0x18030a[_0x439ad0(0xa09)]['map']((_0x5117a2,_0x27dfc6)=>{const _0x4dee49=_0x439ad0;let _0x3466de=_0x27dfc6+0x1+'.\x20'+(_0x5117a2[_0x4dee49(0x931)]||_0x5117a2['stem']);if(_0x5117a2['options'])_0x3466de+=_0x4dee49(0x7b5)+_0x5117a2[_0x4dee49(0x4d1)][_0x4dee49(0x510)](',\x20');return _0x3466de;})[_0x439ad0(0x510)]('\x0a\x0a'),_0x526bdd=_0x439ad0(0x4d6)+_0x18030a[_0x439ad0(0x257)]+_0x439ad0(0x99b)+_0x21e2fd+_0x439ad0(0x710)+simpleMathPrompt+_0x439ad0(0xe0d),_0x1ae76b={'type':_0x439ad0(0x4a5),'properties':{'topic':{'type':_0x439ad0(0x902)},'questions':{'type':_0x439ad0(0x537),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x439ad0(0x902)},'questionType':{'type':_0x439ad0(0x902)},'options':{'type':_0x439ad0(0x537),'items':{'type':_0x439ad0(0x902)}},'correctAnswerIndex':{'type':_0x439ad0(0x487)},'idealAnswer':{'type':_0x439ad0(0x902)},'explanation':{'type':_0x439ad0(0x902)}},'required':[_0x439ad0(0x931),_0x439ad0(0xe51)]}}},'required':['topic','questions']},_0x5b4609=await callAnalysisApi(_0x526bdd,_0x1ae76b),_0x29c64=_0x18030a[_0x439ad0(0x257)][_0x439ad0(0x95b)](_0x439ad0(0x2f7),'')[_0x439ad0(0xbdc)](),_0x135e0f='(หลังเรียน)\x20'+_0x29c64,_0x1959fa={..._0x5b4609,'topic':_0x135e0f,'quizType':_0x18030a[_0x439ad0(0xd68)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x439ad0(0x8f0)](),'status':_0x439ad0(0x329),'settings':_0x18030a[_0x439ad0(0x879)],'quizMode':_0x439ad0(0x361),'pairedQuizId':_0x18030a['id']};let _0x5b7d80;while(!![]){_0x5b7d80=Math[_0x439ad0(0x426)](0x3e8+Math[_0x439ad0(0x7c9)]()*0x2328)[_0x439ad0(0xbb9)]();const _0xae4874=await getDoc(doc(db,_0x439ad0(0xc4a)+appId+_0x439ad0(0x671),_0x5b7d80));if(!_0xae4874['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x439ad0(0x671),_0x5b7d80),_0x1959fa);const _0x1a6702=doc(db,_0x439ad0(0xc4a)+appId+_0x439ad0(0x671),_0x18030a['id']);await updateDoc(_0x1a6702,{'pairedQuizId':_0x5b7d80}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x3b5254){console[_0x439ad0(0x7cd)](_0x439ad0(0x2c4),_0x3b5254),showMessage(_0x439ad0(0xe37)+_0x3b5254['message']);}finally{const _0x1d683f=document[_0x439ad0(0xb9f)]('temp-loader-results');if(_0x1d683f)_0x1d683f[_0x439ad0(0x5f4)]();_0x5763d7[_0x439ad0(0xbd3)][_0x439ad0(0x5f4)](_0x439ad0(0x81c));}}async function handleGenerateParallelTest(_0x5d7ad6=null){const _0x492e75=_0x4b15a0;let _0x417da9=_0x5d7ad6;if(!_0x417da9){const _0x178ee3=document[_0x492e75(0xb9f)](_0x492e75(0x41c));_0x178ee3['files'][_0x492e75(0x8da)]>0x0&&(_0x417da9=_0x178ee3[_0x492e75(0x3db)][0x0]);}if(!_0x417da9){showMessage(_0x492e75(0x5fb));return;}const _0x221f32=document[_0x492e75(0xb9f)](_0x492e75(0x976)),_0x37d54f=document[_0x492e75(0xb9f)](_0x492e75(0x6a5)),_0x530493=document[_0x492e75(0xb9f)](_0x492e75(0xa39)),_0x27f727=document['getElementById'](_0x492e75(0x435));_0x27f727[_0x492e75(0x417)]=!![],document[_0x492e75(0xb9f)]('quiz-generation-area')[_0x492e75(0xbd3)]['remove'](_0x492e75(0x81c)),_0x530493[_0x492e75(0x7fc)]='',_0x221f32['classList'][_0x492e75(0x5f4)](_0x492e75(0x81c)),_0x37d54f[_0x492e75(0x1d0)]=_0x492e75(0x57c);const _0x296856=new FileReader();_0x296856['readAsDataURL'](_0x417da9),_0x296856[_0x492e75(0xb46)]=async()=>{const _0x34fb64=_0x492e75;try{const _0xef3ff4=_0x296856[_0x34fb64(0x338)][_0x34fb64(0x390)](',')[0x1],_0xfee3be=_0x417da9[_0x34fb64(0xa1b)];_0x37d54f['textContent']=_0x34fb64(0xd52);const _0x5d8b73=document[_0x34fb64(0xb9f)](_0x34fb64(0x39a))[_0x34fb64(0x270)],_0x492e70=_0x5d8b73?_0x34fb64(0x475):'',_0x1c9851='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x2c5f29={'type':_0x34fb64(0x4a5),'properties':{'questionText':{'type':_0x34fb64(0x902)},'questionType':{'type':_0x34fb64(0x902),'enum':['multiple_choice',_0x34fb64(0xc9f)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x34fb64(0x487)},'idealAnswer':{'type':_0x34fb64(0x902)},'explanation':{'type':_0x34fb64(0x902)},'imageCode':{'type':_0x34fb64(0x902)}},'required':['questionText',_0x34fb64(0x899),'explanation']},_0x5b4dfd={'type':'OBJECT','properties':{'topic':{'type':_0x34fb64(0x902)},'questions':{'type':_0x34fb64(0x537),'items':_0x2c5f29}},'required':['topic',_0x34fb64(0xa09)]},_0x1fe29e=[{'text':_0x1c9851},{'inlineData':{'mimeType':_0xfee3be,'data':_0xef3ff4}}];await handleApiCall(_0x1fe29e,_0x34fb64(0xae4),_0x5b4dfd);}catch(_0x3c675f){console['error']('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x3c675f),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3c675f[_0x34fb64(0x81b)]),_0x530493[_0x34fb64(0x7fc)]=_0x34fb64(0x348);}finally{_0x221f32[_0x34fb64(0xbd3)]['add'](_0x34fb64(0x81c)),_0x27f727[_0x34fb64(0x417)]=![];}},_0x296856[_0x492e75(0xce6)]=_0x17acfd=>{const _0x4e3bfe=_0x492e75;console['error'](_0x4e3bfe(0x27e),_0x17acfd),showMessage(_0x4e3bfe(0x612)),_0x221f32[_0x4e3bfe(0xbd3)][_0x4e3bfe(0x72b)]('hidden'),_0x27f727[_0x4e3bfe(0x417)]=![];};}async function handleRegenerateQuestionInEditor(_0x1ffe52){const _0x15080c=_0x4b15a0;if(currentEditingQuizData===null)return;const _0x40cae1=document[_0x15080c(0x584)](_0x15080c(0x8f7)+_0x1ffe52+'\x22]');_0x40cae1&&(_0x40cae1[_0x15080c(0x7fc)]=_0x15080c(0x5f9));const _0x46e056=currentEditingQuizData[_0x15080c(0xa09)][_0x1ffe52],_0x35720e=currentEditingQuizData[_0x15080c(0x257)],_0x31267f=_0x46e056[_0x15080c(0x899)],_0x355d3f={'type':_0x15080c(0x4a5),'properties':{'questionText':{'type':_0x15080c(0x902)},'options':{'type':_0x15080c(0x537),'items':{'type':_0x15080c(0x902)}},'correctAnswerIndex':{'type':_0x15080c(0x487)},'explanation':{'type':_0x15080c(0x902)}},'required':[_0x15080c(0x931),_0x15080c(0x4d1),_0x15080c(0x82e),_0x15080c(0xe51)]},_0x57ce8e={'type':_0x15080c(0x4a5),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x15080c(0x902)},'explanation':{'type':_0x15080c(0x902)}},'required':[_0x15080c(0x931),_0x15080c(0x493),_0x15080c(0xe51)]};let _0x113906,_0x2d426f='';_0x31267f===_0x15080c(0x9c3)?(_0x113906=_0x355d3f,_0x2d426f=_0x15080c(0x4c8)):(_0x113906=_0x57ce8e,_0x2d426f=_0x15080c(0x69e));const _0x1d253d=_0x15080c(0x351)+_0x35720e+_0x15080c(0x40b)+_0x2d426f+_0x15080c(0x791)+(_0x46e056['questionText']||_0x46e056[_0x15080c(0x7fb)])+_0x15080c(0x8e3)+simpleMathPrompt;try{const _0x5bb246=await callAnalysisApi(_0x1d253d,_0x113906);currentEditingQuizData[_0x15080c(0xa09)][_0x1ffe52]={..._0x46e056,..._0x5bb246},renderQuizEditor(currentEditingQuizData);}catch(_0x3b557a){console[_0x15080c(0x7cd)](_0x15080c(0xd50),_0x3b557a),showMessage(_0x15080c(0x591)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x29acf6=_0x4b15a0,_0x41ba0e=document[_0x29acf6(0xb9f)](_0x29acf6(0xa44));currentMode===_0x29acf6(0x441)?(adminPasswordModal['classList']['remove'](_0x29acf6(0x81c)),document[_0x29acf6(0xb9f)]('admin-password-input')[_0x29acf6(0x69d)]()):(currentMode=_0x29acf6(0x441),_0x41ba0e[_0x29acf6(0x7fc)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x41ba0e['title']='สลับไปโหมดผู้ควบคุม',showView('student'));}function handleAdminLogin(){const _0xb6d8bc=_0x4b15a0,_0x232c28=document[_0xb6d8bc(0xb9f)]('admin-password-input'),_0x4fcb8b=document[_0xb6d8bc(0xb9f)](_0xb6d8bc(0x1cc));if(_0x232c28['value']===_0xb6d8bc(0x3c0)){adminPasswordModal[_0xb6d8bc(0xbd3)][_0xb6d8bc(0x72b)](_0xb6d8bc(0x81c)),_0x232c28[_0xb6d8bc(0x232)]='',_0x4fcb8b[_0xb6d8bc(0xbd3)][_0xb6d8bc(0x72b)](_0xb6d8bc(0x81c)),currentMode='admin';const _0x8d2593=document['getElementById'](_0xb6d8bc(0xa44));_0x8d2593[_0xb6d8bc(0x7fc)]=_0xb6d8bc(0xdaf),_0x8d2593[_0xb6d8bc(0x429)]=_0xb6d8bc(0x21b),showView('admin-dashboard');}else _0x4fcb8b[_0xb6d8bc(0xbd3)][_0xb6d8bc(0x5f4)](_0xb6d8bc(0x81c)),_0x232c28[_0xb6d8bc(0x232)]='';}function switchProjectTab(_0x2d6851){const _0x2ced3a=_0x4b15a0;[_0x2ced3a(0x886),_0x2ced3a(0x4f1),'leaderboard'][_0x2ced3a(0x4aa)](_0x38494c=>{const _0x58d6f8=_0x2ced3a;document[_0x58d6f8(0xb9f)](_0x38494c+_0x58d6f8(0x275))['classList'][_0x58d6f8(0x5f4)]('active'),document[_0x58d6f8(0xb9f)](_0x38494c+_0x58d6f8(0x88d))[_0x58d6f8(0xbd3)][_0x58d6f8(0x72b)](_0x58d6f8(0x81c));}),document[_0x2ced3a(0xb9f)](_0x2d6851+'-tab')[_0x2ced3a(0xbd3)][_0x2ced3a(0x72b)](_0x2ced3a(0x329)),document[_0x2ced3a(0xb9f)](_0x2d6851+_0x2ced3a(0x88d))['classList'][_0x2ced3a(0x5f4)](_0x2ced3a(0x81c));}function switchQuizDetailTab(_0x48477a){const _0x235a04=_0x4b15a0,_0x457c90={'analytics':{'btn':_0x235a04(0xc79),'content':'analytics-tab-content'},'scores':{'btn':_0x235a04(0xbbc),'content':_0x235a04(0x3d1)},'leaderboard-quiz':{'btn':_0x235a04(0xd02),'content':_0x235a04(0x98c)},'behavior-log':{'btn':_0x235a04(0xc6a),'content':_0x235a04(0x873)}};for(const _0x5aad9a in _0x457c90){document['getElementById'](_0x457c90[_0x5aad9a][_0x235a04(0xd2a)])[_0x235a04(0xbd3)]['remove'](_0x235a04(0x329)),document[_0x235a04(0xb9f)](_0x457c90[_0x5aad9a][_0x235a04(0x5de)])[_0x235a04(0xbd3)][_0x235a04(0x72b)](_0x235a04(0x81c));}document[_0x235a04(0xb9f)](_0x457c90[_0x48477a][_0x235a04(0xd2a)])[_0x235a04(0xbd3)][_0x235a04(0x72b)](_0x235a04(0x329)),document[_0x235a04(0xb9f)](_0x457c90[_0x48477a][_0x235a04(0x5de)])['classList'][_0x235a04(0x5f4)](_0x235a04(0x81c));}function showMessage(_0x3713b3,_0x5348c5=null){const _0x40d8a1=_0x4b15a0;modalMessage[_0x40d8a1(0x7fc)]=_0x3713b3[_0x40d8a1(0x95b)](/\n/g,'<br>'),modalConfirmAction=_0x5348c5,messageModal[_0x40d8a1(0xbd3)][_0x40d8a1(0x5f4)]('hidden');}function showConfirmation(_0x4e3872,_0x58c2c8,_0x48a574=null){const _0x53ed56=_0x4b15a0;document[_0x53ed56(0xb9f)](_0x53ed56(0xaf2))[_0x53ed56(0x1d0)]=_0x4e3872,document[_0x53ed56(0xb9f)](_0x53ed56(0x82b))[_0x53ed56(0x584)]('h3')['textContent']=_0x53ed56(0xc53),confirmAction=_0x58c2c8,cancelAction=_0x48a574,confirmationModal['classList'][_0x53ed56(0x5f4)](_0x53ed56(0x81c));}function listenForProjects(){const _0x270d72=_0x4b15a0,_0x41577e=doc(db,_0x270d72(0x3ee),_0x270d72(0xdb3));onSnapshot(_0x41577e,_0x23bbab=>{const _0x3cac25=_0x270d72;if(_0x23bbab[_0x3cac25(0x37f)]()){const _0x4fc41a=_0x23bbab[_0x3cac25(0x7f7)]();globalDashboardSettings[_0x3cac25(0x496)]=_0x4fc41a[_0x3cac25(0x496)]||_0x3cac25(0xa00),globalDashboardSettings[_0x3cac25(0xb2c)]=_0x4fc41a[_0x3cac25(0xb2c)]||[],globalDashboardSettings[_0x3cac25(0xb7e)]=_0x4fc41a[_0x3cac25(0xb7e)]||[];}allProjects[_0x3cac25(0x8da)]>0x0&&renderProjects();});const _0x23a9de=collection(db,_0x270d72(0xc4a)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x23a9de,_0xe841f4=>{const _0x252dd7=_0x270d72;allProjects=_0xe841f4[_0x252dd7(0x9e5)][_0x252dd7(0xa0d)](_0x5f451f=>({'id':_0x5f451f['id'],..._0x5f451f[_0x252dd7(0x7f7)]()})),renderProjects();},_0x2751ac=>{const _0x26d78f=_0x270d72;console[_0x26d78f(0x7cd)](_0x26d78f(0x84c),_0x2751ac),showMessage(_0x26d78f(0xc1d));});}function showColorPalette(_0x117eb8,_0x333657){const _0x5e8266=_0x4b15a0;document[_0x5e8266(0x3eb)]('.color-palette-popup')[_0x5e8266(0x4aa)](_0x14126d=>_0x14126d[_0x5e8266(0x5f4)]());const _0x3db989=[_0x5e8266(0x229),'#FEE2E2',_0x5e8266(0x9ce),_0x5e8266(0xc1e),_0x5e8266(0xc05),'#E0E7FF',_0x5e8266(0xb3a),_0x5e8266(0x289),_0x5e8266(0x31a)],_0x2da9fb=document[_0x5e8266(0xeb2)](_0x5e8266(0x806));_0x2da9fb[_0x5e8266(0xbef)]=_0x5e8266(0x27f),_0x3db989[_0x5e8266(0x4aa)](_0xf5732c=>{const _0x2d1f39=_0x5e8266,_0x2fc0c8=document[_0x2d1f39(0xeb2)](_0x2d1f39(0x806));_0x2fc0c8['className']='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x2fc0c8[_0x2d1f39(0x8b5)][_0x2d1f39(0x6bf)]=_0xf5732c,_0x2fc0c8[_0x2d1f39(0x95a)](_0x2d1f39(0xd6c),()=>{handleProjectColorChange(_0x333657,_0xf5732c),_0x2da9fb['remove']();}),_0x2da9fb[_0x2d1f39(0x67f)](_0x2fc0c8);}),document[_0x5e8266(0xecd)][_0x5e8266(0x67f)](_0x2da9fb);const _0x2c81e3=_0x117eb8[_0x5e8266(0x50c)]();_0x2da9fb[_0x5e8266(0x8b5)][_0x5e8266(0xa3a)]=_0x2c81e3[_0x5e8266(0x3a1)]+window[_0x5e8266(0x795)]+'px',_0x2da9fb[_0x5e8266(0x8b5)][_0x5e8266(0x6f1)]=_0x2c81e3[_0x5e8266(0x6f1)]+window[_0x5e8266(0xb78)]-_0x2da9fb[_0x5e8266(0xe5f)]/0x2+'px';}async function handleProjectColorChange(_0x43a1a6,_0x10ca04){const _0x9e9bdd=_0x4b15a0,_0xc86273=doc(db,_0x9e9bdd(0xc4a)+appId+_0x9e9bdd(0x47d),_0x43a1a6);try{await updateDoc(_0xc86273,{'color':_0x10ca04});}catch(_0x1cdb2f){console['error'](_0x9e9bdd(0xcc8),_0x1cdb2f),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x495a93=_0x4b15a0,_0x291535=globalDashboardSettings[_0x495a93(0x496)]||'date_desc',_0x9be086=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x5c0d9f=globalDashboardSettings[_0x495a93(0xcf1)]||_0x495a93(0x4e1),_0x383a24=document[_0x495a93(0xb9f)](_0x495a93(0x638)),_0x4fa9d2=document[_0x495a93(0xb9f)](_0x495a93(0x2b7));_0x383a24[_0x495a93(0xbd3)]['toggle']('active',_0x5c0d9f===_0x495a93(0x4e1)),_0x4fa9d2['classList'][_0x495a93(0x581)](_0x495a93(0x329),_0x5c0d9f===_0x495a93(0x2b5)),document[_0x495a93(0xb9f)](_0x495a93(0xaa7))[_0x495a93(0x232)]=_0x291535;const _0x11a143=document['getElementById'](_0x495a93(0xe11))[_0x495a93(0x232)][_0x495a93(0x724)]();let _0x4bf2e2=allProjects['filter'](_0x44a0df=>_0x44a0df['projectName'][_0x495a93(0x724)]()[_0x495a93(0xa36)](_0x11a143));const _0x50a707=_0x4bf2e2[_0x495a93(0xce3)](_0x322d75=>_0x9be086[_0x495a93(0xc7f)](_0x322d75['id'])),_0x15163a=_0x4bf2e2[_0x495a93(0xce3)](_0xf82845=>!_0x9be086[_0x495a93(0xc7f)](_0xf82845['id'])),_0x20c387=(_0x244afb,_0x38c60c)=>{const _0x364ed6=_0x495a93;switch(_0x291535){case _0x364ed6(0xdb7):return _0x244afb[_0x364ed6(0x6b1)][_0x364ed6(0x822)](_0x38c60c[_0x364ed6(0x6b1)],'th');case _0x364ed6(0x40c):return _0x38c60c[_0x364ed6(0x6b1)][_0x364ed6(0x822)](_0x244afb[_0x364ed6(0x6b1)],'th');case _0x364ed6(0xb26):return new Date(_0x244afb['createdAt'])-new Date(_0x38c60c[_0x364ed6(0x3df)]);default:return new Date(_0x38c60c[_0x364ed6(0x3df)])-new Date(_0x244afb[_0x364ed6(0x3df)]);}};_0x50a707[_0x495a93(0x8c7)](_0x20c387),_0x15163a[_0x495a93(0x8c7)](_0x20c387);const _0x1eb71e=[..._0x50a707,..._0x15163a],_0x3888c3=globalDashboardSettings[_0x495a93(0xb7e)]||[];_0x3888c3['length']>0x0&&_0x5c0d9f===_0x495a93(0x4e1)&&_0x1eb71e['sort']((_0x27a11c,_0x1c7cc0)=>{const _0x4c2884=_0x495a93,_0x577688=_0x3888c3[_0x4c2884(0x76c)](_0x27a11c['id']),_0x12b5cc=_0x3888c3[_0x4c2884(0x76c)](_0x1c7cc0['id']);if(_0x577688===-0x1)return 0x1;if(_0x12b5cc===-0x1)return-0x1;return _0x577688-_0x12b5cc;});const _0x191053={};await Promise['all'](_0x1eb71e[_0x495a93(0xa0d)](async _0x421667=>{const _0x4900e0=_0x495a93,_0x4fd5ab=query(collection(db,_0x4900e0(0xc4a)+appId+_0x4900e0(0x671)),where(_0x4900e0(0xa0f),'==',_0x421667['id'])),_0x3d0fdc=await getDocs(_0x4fd5ab);_0x191053[_0x421667['id']]=_0x3d0fdc[_0x4900e0(0x200)];}));const _0x30c33b=document[_0x495a93(0xb9f)]('project-list');let _0x4842a1='';if(_0x5c0d9f==='grid'){_0x30c33b['className']='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x495a93(0x8da)]>0x0&&_0x11a143===''){const _0x12bf43=starredQuizzes[_0x495a93(0xa0d)](_0x4ba73c=>{const _0x2d6a11=_0x495a93,_0x4f3bc2=allProjects[_0x2d6a11(0x59d)](_0x5daa97=>_0x5daa97['id']===_0x4ba73c['projectId']);return{..._0x4ba73c,'projectName':_0x4f3bc2?_0x4f3bc2[_0x2d6a11(0x6b1)]:_0x2d6a11(0xd35)};});_0x4842a1+=_0x495a93(0x6a7)+_0x12bf43[_0x495a93(0xa0d)](_0x4c4f2e=>_0x495a93(0xbcb)+_0x4c4f2e[_0x495a93(0x257)]+'\x22>'+_0x4c4f2e[_0x495a93(0x257)]+_0x495a93(0xe2a)+_0x4c4f2e['projectName']+'\x22>จาก:\x20'+_0x4c4f2e[_0x495a93(0x6b1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x495a93(0x510)]('')+_0x495a93(0x878)+starredQuizzes[_0x495a93(0x8da)]+_0x495a93(0xa53);}_0x1eb71e['forEach'](_0x11c3b6=>{const _0xdfb948=_0x495a93,_0x180403=_0x191053[_0x11c3b6['id']]??0x0,_0x1bf8d9=_0x9be086[_0xdfb948(0xc7f)](_0x11c3b6['id']),_0x4d67ff=_0x11c3b6[_0xdfb948(0x829)]||_0xdfb948(0x229),_0x2d1c66=parseInt(_0x4d67ff['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x4d67ff['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x4d67ff[_0xdfb948(0xa1e)](0x5,0x7),0x10)*0.114<0xba,_0x1d3efa=_0x2d1c66?'text-white':_0xdfb948(0x785),_0x317b85=_0x2d1c66?_0xdfb948(0xaaf):'text-gray-500';_0x4842a1+=_0xdfb948(0x977)+(_0x1bf8d9?_0xdfb948(0x34a):'border-gray-200')+_0xdfb948(0x2ef)+_0x4d67ff+_0xdfb948(0x9f0)+_0x11c3b6['id']+_0xdfb948(0xd79)+_0x11c3b6['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x2d1c66?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0xdfb948(0xa4b)+_0x11c3b6['id']+_0xdfb948(0x5f5)+(_0x2d1c66?_0xdfb948(0xd32):_0xdfb948(0x549))+_0xdfb948(0x571)+(_0x1bf8d9?_0x2d1c66?'text-yellow-300':'text-indigo-600':'')+_0xdfb948(0x59b)+_0x11c3b6['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x1d3efa+_0xdfb948(0x8ec)+_0x11c3b6[_0xdfb948(0x6b1)]+_0xdfb948(0x4d5)+_0x317b85+_0xdfb948(0x6a4)+new Date(_0x11c3b6[_0xdfb948(0x3df)])[_0xdfb948(0xa58)]('th-TH')+_0xdfb948(0x77a)+(_0x2d1c66?_0xdfb948(0xce2):_0xdfb948(0x29a))+_0xdfb948(0x707)+_0x180403+_0xdfb948(0x668)+_0x11c3b6['id']+_0xdfb948(0x264)+_0x11c3b6[_0xdfb948(0x6b1)]+_0xdfb948(0xe3d)+(_0x2d1c66?'text-red-300\x20hover:text-red-100':_0xdfb948(0xe9b))+_0xdfb948(0x44d);});}else _0x30c33b[_0x495a93(0xbef)]=_0x495a93(0xc2c),starredQuizzes[_0x495a93(0x8da)]>0x0&&_0x11a143===''&&(_0x4842a1+=_0x495a93(0xa1d)+starredQuizzes['length']+_0x495a93(0x33d)),_0x4842a1+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x1eb71e[_0x495a93(0x4aa)](_0xdce949=>{const _0x3f5955=_0x495a93,_0x23dc9f=_0x191053[_0xdce949['id']]??0x0,_0x2146f0=_0x9be086[_0x3f5955(0xc7f)](_0xdce949['id']);_0x4842a1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0xdce949[_0x3f5955(0x829)]||'#E5E7EB')+_0x3f5955(0x720)+_0xdce949['id']+_0x3f5955(0x5c4)+_0xdce949['projectName']+_0x3f5955(0x3e8)+_0x23dc9f+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0xdce949[_0x3f5955(0x3df)])[_0x3f5955(0xaab)](_0x3f5955(0xa01))+_0x3f5955(0xdfb)+_0xdce949['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x2146f0?_0x3f5955(0xd64):'')+_0x3f5955(0xaa3)+_0xdce949['id']+_0x3f5955(0x264)+_0xdce949[_0x3f5955(0x6b1)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList['innerHTML']=_0x4842a1,noProjectsMsg[_0x495a93(0xbd3)][_0x495a93(0x581)]('hidden',_0x4842a1[_0x495a93(0x8da)]>0x0);}document['getElementById'](_0x4b15a0(0xaba))['addEventListener'](_0x4b15a0(0xd6c),async()=>{const _0x18f2a9=_0x4b15a0,_0x4b8782=document[_0x18f2a9(0xb9f)](_0x18f2a9(0x38f)),_0x21bc39=_0x4b8782[_0x18f2a9(0x232)][_0x18f2a9(0xbdc)]();if(!_0x21bc39){showMessage(_0x18f2a9(0x737));return;}try{const _0x22383e=doc(collection(db,_0x18f2a9(0xc4a)+appId+'/public/data/projects'));await setDoc(_0x22383e,{'projectName':_0x21bc39,'students':[],'settings':{'resultsDisplay':_0x18f2a9(0xe4a),'shuffleSetting':_0x18f2a9(0xbae),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x18f2a9(0xbae),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x18f2a9(0x8f0)]()}),_0x4b8782[_0x18f2a9(0x232)]='',createProjectModal['classList'][_0x18f2a9(0x72b)](_0x18f2a9(0x81c)),showMessage(_0x18f2a9(0x7a7));}catch(_0x191f80){console[_0x18f2a9(0x7cd)](_0x18f2a9(0x85a),_0x191f80),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList['addEventListener'](_0x4b15a0(0xd6c),async _0x41a23f=>{const _0x1e2c9d=_0x4b15a0,_0x1f7d47=_0x41a23f[_0x1e2c9d(0x4ee)][_0x1e2c9d(0x892)]('.project-card-content'),_0x2076a1=_0x41a23f[_0x1e2c9d(0x4ee)]['closest'](_0x1e2c9d(0x56d)),_0x3d85ce=_0x41a23f['target'][_0x1e2c9d(0x892)](_0x1e2c9d(0xec6)),_0xef689e=_0x41a23f[_0x1e2c9d(0x4ee)][_0x1e2c9d(0x892)](_0x1e2c9d(0xc2b));if(_0x3d85ce){const _0x4551b0=_0x3d85ce['dataset']['id'],_0x37c7fd=doc(db,_0x1e2c9d(0x3ee),_0x1e2c9d(0xdb3)),_0x3c6d7b=globalDashboardSettings[_0x1e2c9d(0xb2c)];let _0x4e4c2b;_0x3c6d7b['includes'](_0x4551b0)?_0x4e4c2b=_0x3c6d7b[_0x1e2c9d(0xce3)](_0x5eb2a2=>_0x5eb2a2!==_0x4551b0):_0x4e4c2b=[..._0x3c6d7b,_0x4551b0];try{await setDoc(_0x37c7fd,{'pinnedProjects':_0x4e4c2b},{'merge':!![]});}catch(_0x3fff28){console['error'](_0x1e2c9d(0x6c3),_0x3fff28),showMessage(_0x1e2c9d(0x2e5));}}else{if(_0xef689e){const _0x5d8ff5=_0xef689e[_0x1e2c9d(0x273)]['id'];showColorPalette(_0xef689e,_0x5d8ff5);}else{if(_0x1f7d47){const _0x151780=_0x1f7d47[_0x1e2c9d(0x273)]['id'];_0x151780==='starred-project'?showStarredProjectView():(currentProjectId=_0x151780,await loadProjectDetails(currentProjectId),showView(_0x1e2c9d(0x2c6)));}else{if(_0x2076a1){const _0x2070db=_0x2076a1[_0x1e2c9d(0x273)]['id'],_0x34c78=_0x2076a1['dataset'][_0x1e2c9d(0x757)];showConfirmation(_0x1e2c9d(0x418)+_0x34c78+_0x1e2c9d(0x9fe),()=>handleDeleteProject(_0x2070db));}}}}}),projectList[_0x4b15a0(0x95a)](_0x4b15a0(0x23e),_0x45906d=>{const _0x2b0f4b=_0x4b15a0,_0x539923=_0x45906d[_0x2b0f4b(0x4ee)][_0x2b0f4b(0x892)](_0x2b0f4b(0x8b1));_0x539923&&_0x539923['classList'][_0x2b0f4b(0x72b)](_0x2b0f4b(0xb70));}),projectList[_0x4b15a0(0x95a)](_0x4b15a0(0x55f),_0x552a92=>{const _0x13b6ee=_0x4b15a0,_0xa26fe1=_0x552a92[_0x13b6ee(0x4ee)][_0x13b6ee(0x892)]('.project-card-container');_0xa26fe1&&_0xa26fe1[_0x13b6ee(0xbd3)][_0x13b6ee(0x5f4)]('opacity-50');}),projectList['addEventListener'](_0x4b15a0(0x7d2),_0x52b308=>{const _0x5be53e=_0x4b15a0;_0x52b308[_0x5be53e(0xb5c)]();const _0x1b703d=document[_0x5be53e(0x584)](_0x5be53e(0x9b5));if(!_0x1b703d)return;const _0x560199=getDragAfterElement(projectList,_0x52b308[_0x5be53e(0xea0)]);_0x560199==null?projectList[_0x5be53e(0x67f)](_0x1b703d):projectList[_0x5be53e(0x238)](_0x1b703d,_0x560199);}),projectList[_0x4b15a0(0x95a)](_0x4b15a0(0x8bf),_0x2ccc87=>{const _0x9d0668=_0x4b15a0;_0x2ccc87[_0x9d0668(0xb5c)]();const _0x2e7b6e=[...projectList['querySelectorAll'](_0x9d0668(0x3c7))]['map'](_0xadf6cf=>_0xadf6cf['dataset']['id']);saveProjectOrder(_0x2e7b6e);});function renderBehaviorLog(_0x36d13e){const _0x2025e9=_0x4b15a0,_0x321921=document['getElementById']('behavior-log-container');if(!_0x321921)return;const _0x147584=_0x36d13e[_0x2025e9(0xce3)](_0x1f335c=>_0x1f335c[_0x2025e9(0x508)]&&_0x1f335c[_0x2025e9(0x508)][_0x2025e9(0x8da)]>0x0);if(_0x147584[_0x2025e9(0x8da)]===0x0){_0x321921[_0x2025e9(0x7fc)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x1da46d='';_0x147584[_0x2025e9(0x4aa)](_0x11bec3=>{const _0x229fa7=_0x2025e9;_0x1da46d+=_0x229fa7(0x90c)+_0x11bec3['studentName']+_0x229fa7(0xbe3),_0x11bec3[_0x229fa7(0x508)][_0x229fa7(0x8c7)]((_0x5d811b,_0x15f956)=>new Date(_0x15f956['timestamp'])-new Date(_0x5d811b['timestamp']))[_0x229fa7(0x4aa)](_0x533c1b=>{const _0x49e38d=_0x229fa7,_0x3c7016=new Date(_0x533c1b[_0x49e38d(0xde3)])[_0x49e38d(0xaab)](_0x49e38d(0xa01),{'dateStyle':'short','timeStyle':_0x49e38d(0xc0a)});_0x1da46d+=_0x49e38d(0x35c)+_0x533c1b[_0x49e38d(0xc1c)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x3c7016+_0x49e38d(0xee1);}),_0x1da46d+=_0x229fa7(0xbd4);}),_0x321921[_0x2025e9(0x7fc)]=_0x1da46d;}function getDragAfterElement(_0x231854,_0x5af9e5){const _0x4d8784=_0x4b15a0,_0x42101a=[..._0x231854[_0x4d8784(0x3eb)](_0x4d8784(0xd36))];return _0x42101a[_0x4d8784(0x1e3)]((_0x13bfaa,_0xd3bf98)=>{const _0x531491=_0x4d8784,_0x800f08=_0xd3bf98['getBoundingClientRect'](),_0x41a96e=_0x5af9e5-_0x800f08['top']-_0x800f08['height']/0x2;return _0x41a96e<0x0&&_0x41a96e>_0x13bfaa[_0x531491(0x7ed)]?{'offset':_0x41a96e,'element':_0xd3bf98}:_0x13bfaa;},{'offset':Number[_0x4d8784(0xccf)]})[_0x4d8784(0x7ab)];}async function saveProjectOrder(_0x4bbe59){const _0x76322e=_0x4b15a0,_0x1550db=doc(db,'globalSettings',_0x76322e(0xdb3));try{await setDoc(_0x1550db,{'projectOrder':_0x4bbe59},{'merge':!![]});}catch(_0x264a72){console[_0x76322e(0x7cd)](_0x76322e(0x374),_0x264a72),showMessage(_0x76322e(0xc35));}}async function logBehaviorEvent(_0x1b09e7,_0x1281cb={}){const _0x882b1a=_0x4b15a0;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn'](_0x882b1a(0x83f));return;}const _0x1df7d1=doc(db,_0x882b1a(0xc4a)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x882b1a(0xc5e),currentStudentName),_0x336458={'event':_0x1b09e7,'timestamp':new Date()[_0x882b1a(0x8f0)](),..._0x1281cb};try{await updateDoc(_0x1df7d1,{'behaviorLog':arrayUnion(_0x336458)}),console[_0x882b1a(0xe84)](_0x882b1a(0xe9d)+currentStudentName+_0x882b1a(0x700));}catch(_0x14b79e){_0x14b79e[_0x882b1a(0x9f6)]===_0x882b1a(0x589)?console[_0x882b1a(0xc65)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x882b1a(0x7cd)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x14b79e);}}function getScoreTier(_0x2862b7,_0x579e9a){const _0x3cd47e=_0x4b15a0;if(_0x579e9a===0x0){if(_0x2862b7===0x0)return{'text':_0x3cd47e(0x3a2),'icon':'⏳'};return{'text':_0x3cd47e(0xa4e),'icon':'😥'};}const _0x3bc6c2=_0x2862b7/(_0x579e9a===0x0?0x1:_0x579e9a);if(_0x3bc6c2===0x1)return{'text':'(นำโด่ง)','icon':'👑'};if(_0x3bc6c2>=0.7)return{'text':_0x3cd47e(0x48f),'icon':'🔥'};if(_0x3bc6c2>=0.4)return{'text':_0x3cd47e(0x7be),'icon':'🏃'};return{'text':_0x3cd47e(0xa4e),'icon':'😥'};}function calculateMeanAndStdDev(_0x226ecd){const _0x588010=_0x4b15a0;if(_0x226ecd['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x6881c2=_0x226ecd[_0x588010(0x1e3)]((_0x248a11,_0x2b6c90)=>_0x248a11+_0x2b6c90,0x0)/_0x226ecd[_0x588010(0x8da)];if(_0x226ecd['length']===0x1)return{'mean':_0x6881c2,'stdDev':0x0};const _0x2e9b16=Math[_0x588010(0xed3)](_0x226ecd[_0x588010(0xa0d)](_0x94d75e=>Math['pow'](_0x94d75e-_0x6881c2,0x2))[_0x588010(0x1e3)]((_0x384885,_0x1c7549)=>_0x384885+_0x1c7549,0x0)/(_0x226ecd[_0x588010(0x8da)]-0x1));return{'mean':_0x6881c2,'stdDev':_0x2e9b16};}function calculateZScore(_0x5e12e6,_0x2fecc2,_0x176278){if(_0x176278===0x0)return 0x0;return(_0x5e12e6-_0x2fecc2)/_0x176278;}function calculateTScore(_0x1c3569){return 0xa*_0x1c3569+0x32;}function showStarredProjectView(){const _0x548205=_0x4b15a0;currentProjectId=_0x548205(0x704),currentProjectData=null,projectTitle[_0x548205(0x1d0)]=_0x548205(0x635),projectIdDisplay[_0x548205(0x1d0)]=_0x548205(0x9f8),showView('project-detail'),manageTab[_0x548205(0xbd3)]['add'](_0x548205(0x81c)),leaderboardTab[_0x548205(0xbd3)]['add'](_0x548205(0x81c)),switchProjectTab(_0x548205(0x4f1)),renderQuizzes();}async function loadProjectDetails(_0x47c764){const _0x1fad94=_0x4b15a0,_0x473bb6=doc(db,'artifacts/'+appId+_0x1fad94(0x47d),_0x47c764),_0x4342e2=await getDoc(_0x473bb6);if(_0x4342e2[_0x1fad94(0x37f)]()){manageTab[_0x1fad94(0xbd3)][_0x1fad94(0x5f4)]('hidden'),leaderboardTab[_0x1fad94(0xbd3)]['remove'](_0x1fad94(0x81c)),currentProjectData=_0x4342e2[_0x1fad94(0x7f7)](),projectTitle[_0x1fad94(0x1d0)]=currentProjectData[_0x1fad94(0x6b1)],projectIdDisplay['textContent']=_0x47c764;const _0x1e4397=currentProjectData[_0x1fad94(0x879)]||{};document['getElementById'](_0x1fad94(0xeaf))[_0x1fad94(0x232)]=_0x1e4397[_0x1fad94(0xec0)]||_0x1fad94(0xbae);const _0x5f3c27=document[_0x1fad94(0xb9f)]('show-in-student-dashboard-checkbox');_0x5f3c27[_0x1fad94(0x270)]=_0x1e4397['showInStudentDashboard']!==![];const _0x100290=document[_0x1fad94(0xb9f)]('enable-passcode-checkbox'),_0x481d7e=document[_0x1fad94(0xb9f)](_0x1fad94(0x364)),_0x50beb1=document[_0x1fad94(0xb9f)](_0x1fad94(0x5da)),_0x4a345a=_0x1e4397['isPasscodeEnabled']||![];_0x100290[_0x1fad94(0x270)]=_0x4a345a,_0x50beb1['value']=_0x1e4397[_0x1fad94(0xca0)]||'',_0x481d7e['classList'][_0x1fad94(0x581)](_0x1fad94(0x81c),!_0x4a345a),_0x100290[_0x1fad94(0xc24)]=()=>{const _0x16653c=_0x1fad94;_0x481d7e[_0x16653c(0xbd3)][_0x16653c(0x581)](_0x16653c(0x81c),!_0x100290[_0x16653c(0x270)]);},document['getElementById'](_0x1fad94(0xaac))['checked']=_0x1e4397['isConfidenceScoringEnabled']||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x47c764),listenForProjectQuizzes(_0x47c764),listenForStudentProfiles(_0x47c764);}else showMessage('ไม่พบโปรเจค'),showView(_0x1fad94(0x5b4));}async function handleResetProjectOrder(){const _0x852d9a=_0x4b15a0,_0x188479=doc(db,_0x852d9a(0x3ee),'dashboardConfig');try{await setDoc(_0x188479,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x5ac64f){console[_0x852d9a(0x7cd)](_0x852d9a(0xa50),_0x5ac64f),showMessage(_0x852d9a(0x7ce));}}async function handleTogglePinProject(_0x3230f5){const _0x6e5dd5=_0x4b15a0;if(!_0x3230f5)return;const _0x38f8c5=doc(db,_0x6e5dd5(0xc4a)+appId+_0x6e5dd5(0x47d),_0x3230f5);try{const _0x3b3a2f=await getDoc(_0x38f8c5);if(_0x3b3a2f[_0x6e5dd5(0x37f)]()){const _0x26deac=_0x3b3a2f[_0x6e5dd5(0x7f7)]()[_0x6e5dd5(0xe40)]||![];await updateDoc(_0x38f8c5,{'isPinned':!_0x26deac});}}catch(_0x1dc336){console[_0x6e5dd5(0x7cd)](_0x6e5dd5(0xa9d),_0x1dc336),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x3421ff){const _0x407c42=_0x4b15a0;try{const _0x270fe9=writeBatch(db),_0x13d544=collection(db,_0x407c42(0xc4a)+appId+_0x407c42(0x671)),_0x40c67a=query(_0x13d544,where(_0x407c42(0xa0f),'==',_0x3421ff)),_0x409717=await getDocs(_0x40c67a);for(const _0x517648 of _0x409717[_0x407c42(0x9e5)]){const _0x3d7b5d=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x517648['id']+_0x407c42(0xc5e)),_0x1b8132=await getDocs(_0x3d7b5d);_0x1b8132['forEach'](_0x694a5=>{const _0x274aee=_0x407c42;_0x270fe9[_0x274aee(0xe52)](_0x694a5[_0x274aee(0xada)]);}),_0x270fe9[_0x407c42(0xe52)](_0x517648[_0x407c42(0xada)]);}const _0x7619c8=collection(db,'artifacts/'+appId+_0x407c42(0x6cb)+_0x3421ff+_0x407c42(0x4c5)),_0x33c3e2=await getDocs(_0x7619c8);_0x33c3e2[_0x407c42(0x4aa)](_0x420f3f=>{const _0x47cb6f=_0x407c42;_0x270fe9[_0x47cb6f(0xe52)](_0x420f3f[_0x47cb6f(0xada)]);});const _0x58db9a=doc(db,'artifacts/'+appId+'/public/data/projects',_0x3421ff);_0x270fe9[_0x407c42(0xe52)](_0x58db9a),await _0x270fe9[_0x407c42(0x644)](),showMessage(_0x407c42(0x4ef)),showView(_0x407c42(0x5b4));}catch(_0x68b921){console['error'](_0x407c42(0xa48),_0x68b921),showMessage(_0x407c42(0x916));}}document[_0x4b15a0(0xb9f)](_0x4b15a0(0x769))['addEventListener'](_0x4b15a0(0xd6c),async()=>{const _0x323ad0=_0x4b15a0;if(!currentProjectId)return;const _0x1f9673={'defaultNumQuestions':parseInt(document['getElementById'](_0x323ad0(0x550))[_0x323ad0(0x232)]),'defaultNumChoices':parseInt(document[_0x323ad0(0xb9f)](_0x323ad0(0xc99))['value']),'defaultPassingScore':parseInt(document[_0x323ad0(0xb9f)](_0x323ad0(0x488))[_0x323ad0(0x232)]),'resultsDisplay':document[_0x323ad0(0xb9f)](_0x323ad0(0xb8b))[_0x323ad0(0x232)],'shuffleSetting':document[_0x323ad0(0xb9f)](_0x323ad0(0xeaf))[_0x323ad0(0x232)],'timerMode':document[_0x323ad0(0xb9f)](_0x323ad0(0x85d))['value'],'timerDuration':parseInt(document[_0x323ad0(0xb9f)](_0x323ad0(0xbba))[_0x323ad0(0x232)]),'isConfidenceScoringEnabled':document[_0x323ad0(0xb9f)](_0x323ad0(0xaac))[_0x323ad0(0x270)],'confidenceMode':document['getElementById']('confidence-mode-select')[_0x323ad0(0x232)]};try{const _0x2deaca=doc(db,'artifacts/'+appId+_0x323ad0(0x47d),currentProjectId);await updateDoc(_0x2deaca,{'settings':_0x1f9673}),showMessage(_0x323ad0(0xd56));}catch(_0x1912c0){console[_0x323ad0(0x7cd)]('Error\x20saving\x20settings:',_0x1912c0),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x444277){const _0x169f19=_0x4b15a0,_0x1c9d6c=doc(db,_0x169f19(0xc4a)+appId+_0x169f19(0x47d),_0x444277);unsubscribeStudentsListener=onSnapshot(_0x1c9d6c,_0x51137a=>{const _0x34b25f=_0x169f19;if(_0x51137a[_0x34b25f(0x37f)]()){const _0x5bb271=_0x51137a[_0x34b25f(0x7f7)]();currentProjectData=_0x5bb271,renderStudentList(_0x5bb271['students']||[]);}});}function renderStudentList(_0xc39894){const _0x586293=_0x4b15a0,_0x5a3081=document[_0x586293(0xb9f)](_0x586293(0xe22));_0xc39894[_0x586293(0x8da)]===0x0?(studentList[_0x586293(0x7fc)]=_0x586293(0x2ee),_0x5a3081[_0x586293(0xbd3)][_0x586293(0x72b)](_0x586293(0x81c))):(studentList[_0x586293(0x7fc)]=_0xc39894['map'](_0x4aab26=>_0x586293(0x631)+_0x4aab26+_0x586293(0xa43)+_0x4aab26+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x586293(0x510)](''),_0x5a3081[_0x586293(0xbd3)][_0x586293(0x5f4)](_0x586293(0x81c)));}document[_0x4b15a0(0xb9f)](_0x4b15a0(0x6c7))[_0x4b15a0(0x95a)]('click',async()=>{const _0x541b6d=_0x4b15a0;if(!currentProjectId)return;const _0x588cb9=document[_0x541b6d(0xb9f)](_0x541b6d(0x310)),_0x533799=_0x588cb9[_0x541b6d(0x232)][_0x541b6d(0xbdc)]();if(!_0x533799){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0xdd52d3=_0x533799['split']('\x0a')[_0x541b6d(0xa0d)](_0x142bdc=>_0x142bdc[_0x541b6d(0xbdc)]())[_0x541b6d(0xce3)](_0x1e2a82=>_0x1e2a82);if(_0xdd52d3['length']===0x0)return;try{const _0x3e68a2=doc(db,_0x541b6d(0xc4a)+appId+'/public/data/projects',currentProjectId),_0x1206e9=await getDoc(_0x3e68a2);if(_0x1206e9[_0x541b6d(0x37f)]()){const _0x337be9=_0x1206e9[_0x541b6d(0x7f7)]()['students']||[],_0x338d47=[...new Set([..._0x337be9,..._0xdd52d3])];await updateDoc(_0x3e68a2,{'students':_0x338d47}),_0x588cb9[_0x541b6d(0x232)]='';}}catch(_0x1dfc85){console[_0x541b6d(0x7cd)](_0x541b6d(0xe19),_0x1dfc85),showMessage(_0x541b6d(0x962));}});async function handleManualQuizPairing(_0x363729){const _0x433ce5=_0x4b15a0,_0x24d47b=document[_0x433ce5(0xb9f)](_0x433ce5(0x46c)),_0x2ac88b=document['getElementById'](_0x433ce5(0xccd)),_0x5573d2=_0x24d47b['querySelector']('h3'),_0x218ed2=document[_0x433ce5(0xb9f)]('confirm-move-quiz-btn'),_0x55d24b=document[_0x433ce5(0xb9f)]('cancel-move-quiz-btn');_0x5573d2[_0x433ce5(0x1d0)]='จับคู่เพื่อเปรียบเทียบผล',_0x2ac88b['innerHTML']=_0x433ce5(0x950),_0x218ed2[_0x433ce5(0x1d0)]=_0x433ce5(0xb88),_0x24d47b[_0x433ce5(0xbd3)]['remove'](_0x433ce5(0x81c));const _0x4ca6d7=allQuizzes['filter'](_0x4b69ff=>_0x4b69ff['id']!==_0x363729);_0x4ca6d7[_0x433ce5(0x8da)]===0x0?(_0x2ac88b[_0x433ce5(0x7fc)]=_0x433ce5(0x31f),_0x218ed2[_0x433ce5(0x417)]=!![]):(_0x2ac88b[_0x433ce5(0x7fc)]=_0x433ce5(0xb9b)+_0x4ca6d7[_0x433ce5(0xa0d)](_0x2e3917=>_0x433ce5(0xe02)+_0x2e3917['id']+'\x22>'+_0x2e3917[_0x433ce5(0x257)]+_0x433ce5(0x36b))[_0x433ce5(0x510)](''),_0x218ed2['disabled']=![]);const _0x5dfac0=async()=>{const _0x2abc5f=_0x433ce5,_0x5afaeb=_0x2ac88b[_0x2abc5f(0x232)];if(!_0x5afaeb){showMessage(_0x2abc5f(0xafd));return;}_0x218ed2[_0x2abc5f(0x417)]=!![],_0x218ed2[_0x2abc5f(0x1d0)]='กำลังจับคู่...';try{const _0x13333e=doc(db,_0x2abc5f(0xc4a)+appId+_0x2abc5f(0x671),_0x363729),_0x4912f4=doc(db,_0x2abc5f(0xc4a)+appId+_0x2abc5f(0x671),_0x5afaeb),_0x1c760c=writeBatch(db);_0x1c760c[_0x2abc5f(0x86a)](_0x13333e,{'pairedQuizId':_0x5afaeb}),_0x1c760c[_0x2abc5f(0x86a)](_0x4912f4,{'pairedQuizId':_0x363729}),await _0x1c760c[_0x2abc5f(0x644)](),showMessage(_0x2abc5f(0xb86)),_0x24d47b[_0x2abc5f(0xbd3)][_0x2abc5f(0x72b)]('hidden');}catch(_0x299265){console[_0x2abc5f(0x7cd)](_0x2abc5f(0xc57),_0x299265),showMessage(_0x2abc5f(0xac1));}finally{_0x5573d2[_0x2abc5f(0x1d0)]=_0x2abc5f(0xc75),_0x218ed2[_0x2abc5f(0x1d0)]=_0x2abc5f(0x761),_0x218ed2[_0x2abc5f(0x417)]=![],_0x218ed2['removeEventListener'](_0x2abc5f(0xd6c),_0x5dfac0),_0x55d24b[_0x2abc5f(0x28b)](_0x2abc5f(0xd6c),_0x396f87);}},_0x396f87=()=>{const _0xdf41b7=_0x433ce5;_0x24d47b['classList'][_0xdf41b7(0x72b)](_0xdf41b7(0x81c)),_0x5573d2['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x218ed2[_0xdf41b7(0x1d0)]=_0xdf41b7(0x761),_0x218ed2[_0xdf41b7(0x28b)]('click',_0x5dfac0),_0x55d24b[_0xdf41b7(0x28b)](_0xdf41b7(0xd6c),_0x396f87);};_0x218ed2['addEventListener']('click',_0x5dfac0),_0x55d24b['addEventListener'](_0x433ce5(0xd6c),_0x396f87);}function handleDeleteStudent(_0x2795ff){const _0x43d3b7=_0x4b15a0;showConfirmation(_0x43d3b7(0xeac)+_0x2795ff+_0x43d3b7(0x223),async()=>{const _0x1f9149=_0x43d3b7;if(!currentProjectId||!currentProjectData)return;const _0xec432f=currentProjectData[_0x1f9149(0x813)][_0x1f9149(0xce3)](_0x4410d2=>_0x4410d2!==_0x2795ff);try{const _0x460d2d=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x56f23b=doc(db,_0x1f9149(0xc4a)+appId+_0x1f9149(0x6cb)+currentProjectId+_0x1f9149(0x4c5),_0x2795ff),_0x4b0e9a=writeBatch(db);_0x4b0e9a[_0x1f9149(0x86a)](_0x460d2d,{'students':_0xec432f}),_0x4b0e9a['delete'](_0x56f23b),await _0x4b0e9a[_0x1f9149(0x644)]();}catch(_0x35a76e){console[_0x1f9149(0x7cd)]('Error\x20deleting\x20student:',_0x35a76e),showMessage(_0x1f9149(0x249));}});}function handleDeleteAllStudents(){const _0x16d09a=_0x4b15a0;showConfirmation(_0x16d09a(0xccc),async()=>{const _0x47518d=_0x16d09a;if(!currentProjectId)return;try{const _0x4f7257=doc(db,_0x47518d(0xc4a)+appId+_0x47518d(0x47d),currentProjectId),_0x23643d=collection(db,_0x47518d(0xc4a)+appId+_0x47518d(0x6cb)+currentProjectId+_0x47518d(0x4c5)),_0x1740d8=await getDocs(_0x23643d),_0x830678=writeBatch(db);_0x830678[_0x47518d(0x86a)](_0x4f7257,{'students':[]}),_0x1740d8[_0x47518d(0x4aa)](_0x5ac33f=>_0x830678[_0x47518d(0xe52)](_0x5ac33f[_0x47518d(0xada)])),await _0x830678[_0x47518d(0x644)]();}catch(_0x23e3af){console['error']('Error\x20deleting\x20all\x20students:',_0x23e3af),showMessage(_0x47518d(0xd37));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x3590c6){const _0x29d491=_0x4b15a0,_0x19aa56=document['getElementById'](_0x29d491(0xcd5)),_0x57764f=document[_0x29d491(0xb9f)](_0x29d491(0x6c8));_0x19aa56[_0x29d491(0xbd3)][_0x29d491(0x5f4)](_0x29d491(0x81c)),_0x57764f[_0x29d491(0x7fc)]='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x438519=new FileReader();_0x438519[_0x29d491(0x965)](_0x3590c6),await new Promise((_0x2071ad,_0x5eedd3)=>{const _0x1c06b6=_0x29d491;_0x438519[_0x1c06b6(0xb46)]=()=>{const _0x14ae2b=_0x1c06b6;fileDataBase64=_0x438519[_0x14ae2b(0x338)][_0x14ae2b(0x390)](',')[0x1],fileMimeType=_0x3590c6['type'],_0x2071ad();},_0x438519[_0x1c06b6(0xce6)]=_0xbf0602=>_0x5eedd3(_0xbf0602);});if(!fileDataBase64)throw new Error(_0x29d491(0xe2f));const _0xd6eeb1=_0x29d491(0x247),_0x5f0fd9={'type':'OBJECT','properties':{'topics':{'type':_0x29d491(0x537),'items':{'type':_0x29d491(0x902)}}},'required':[_0x29d491(0xb27)]},_0x2981b3=[{'text':_0xd6eeb1},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x55cd22=await handleApiCall(_0x2981b3,_0x29d491(0x83c),_0x5f0fd9,null,![]);if(_0x55cd22&&_0x55cd22[_0x29d491(0xb27)])extractedFileTopics=_0x55cd22[_0x29d491(0xb27)],renderFileTopics();else throw new Error(_0x29d491(0x766));}catch(_0x3fbb21){console[_0x29d491(0x7cd)](_0x29d491(0xb99),_0x3fbb21),_0x57764f[_0x29d491(0x7fc)]=_0x29d491(0x987)+_0x3fbb21['message']+_0x29d491(0xe43);}}function renderFileTopics(){const _0x37fd7d=_0x4b15a0,_0x42d26f=document['getElementById'](_0x37fd7d(0x6c8));if(extractedFileTopics['length']===0x0){_0x42d26f[_0x37fd7d(0x7fc)]=_0x37fd7d(0xe61);return;}_0x42d26f['innerHTML']=extractedFileTopics[_0x37fd7d(0xa0d)](_0x3a46b5=>_0x37fd7d(0x9cf)+_0x3a46b5+_0x37fd7d(0xd81)+escape(_0x3a46b5)+_0x37fd7d(0x490)+escape(_0x3a46b5)+_0x37fd7d(0xd15))[_0x37fd7d(0x510)]('');}async function generateHybridQuizForTopic(_0x25e9be){const _0x15f261=_0x4b15a0,_0x295bb7=parseInt(document[_0x15f261(0xb9f)](_0x15f261(0x550))['value'],0xa),_0x1c7d7c=document[_0x15f261(0xb9f)](_0x15f261(0x928))['value'],_0x3351fa=document[_0x15f261(0xb9f)]('num-choices')[_0x15f261(0x232)],_0x1ce97c=document[_0x15f261(0xb9f)]('include-images-checkbox')['checked'],_0x153778=_0x1ce97c?_0x15f261(0x541):_0x15f261(0x369);let _0xe9d089='',_0x2e6406;const _0x114c8f={'type':_0x15f261(0x4a5),'properties':{'questionText':{'type':_0x15f261(0x902)},'options':{'type':_0x15f261(0x537),'items':{'type':_0x15f261(0x902)}},'correctAnswerIndex':{'type':_0x15f261(0x487)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x15f261(0x931),'options',_0x15f261(0x82e),'explanation']},_0x512bcd={'type':_0x15f261(0x4a5),'properties':{'questionText':{'type':_0x15f261(0x902)},'correctAnswer':{'type':_0x15f261(0x1cb)},'explanation':{'type':_0x15f261(0x902)},'imageCode':{'type':_0x15f261(0x902)}},'required':[_0x15f261(0x931),_0x15f261(0x9fb),'explanation']},_0x217e3d={'type':_0x15f261(0x4a5),'properties':{'questionText':{'type':_0x15f261(0x902)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x15f261(0x902)}},'required':['questionText','idealAnswer',_0x15f261(0xe51)]},_0x3a3bf4={'type':_0x15f261(0x4a5),'properties':{'questionType':{'type':_0x15f261(0x902),'enum':[_0x15f261(0x50f)]},'stem':{'type':_0x15f261(0x902)},'correctResponse':{'type':_0x15f261(0x902)},'allResponses':{'type':_0x15f261(0x537),'items':{'type':'STRING'}},'explanation':{'type':_0x15f261(0x902)},'imageCode':{'type':'STRING'}},'required':[_0x15f261(0x899),_0x15f261(0x7fb),_0x15f261(0xa54),_0x15f261(0x816),_0x15f261(0xe51)]};switch(_0x1c7d7c){case'multiple_choice':_0xe9d089='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x3351fa+_0x15f261(0xa52),_0x2e6406=_0x114c8f;break;case'true_false':_0xe9d089=_0x15f261(0x3bb),_0x2e6406=_0x512bcd;break;case'fill_in_no_choices':_0xe9d089='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x2e6406=_0x217e3d;break;case _0x15f261(0xbc6):_0xe9d089=_0x15f261(0xa81),_0x2e6406=_0x3a3bf4;break;case'fill_in_with_choices':_0xe9d089=_0x15f261(0x998)+_0x3351fa+_0x15f261(0xa52),_0x2e6406=_0x114c8f;break;default:_0xe9d089=_0x15f261(0x9e2)+_0x3351fa+_0x15f261(0xa52),_0x2e6406=_0x114c8f;break;}const _0x1f12f3=_0x15f261(0xde5),_0x829fbd=document[_0x15f261(0xb9f)]('loader'),_0x5a9ee3=document['getElementById'](_0x15f261(0x6a5)),_0x387db8=document['getElementById']('generated-quiz-container');document[_0x15f261(0xb9f)](_0x15f261(0x434))[_0x15f261(0xbd3)][_0x15f261(0x5f4)](_0x15f261(0x81c)),_0x387db8[_0x15f261(0x7fc)]='',_0x829fbd['classList'][_0x15f261(0x5f4)](_0x15f261(0x81c)),_0x5a9ee3[_0x15f261(0x1d0)]=_0x15f261(0xaf4)+_0x25e9be+_0x15f261(0x2ae)+_0x295bb7+'\x20ข้อ...';try{const _0xae2b80=_0x15f261(0x6bd),_0x26cbd8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x25e9be+_0x15f261(0x2ba)+_0x295bb7+_0x15f261(0x8ff)+_0x25e9be+'\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20'+_0x295bb7+_0x15f261(0xd51)+_0x153778+_0x15f261(0xa47)+_0xe9d089+_0x15f261(0x6ba)+_0x1f12f3+_0x15f261(0xbf6)+_0xae2b80+_0x15f261(0x5ac)+simpleMathPrompt+_0x15f261(0xe0d),_0x3d6a30={'type':_0x15f261(0x4a5),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x15f261(0x537),'items':_0x2e6406}},'required':[_0x15f261(0x257),_0x15f261(0xa09)]},_0x730c65=[{'text':_0x26cbd8},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x730c65,_0x15f261(0x8f6)+_0x25e9be+_0x15f261(0x5a7),_0x3d6a30);}catch(_0x310e00){console[_0x15f261(0x7cd)](_0x15f261(0x628),_0x310e00),showMessage(_0x15f261(0xe37)+_0x310e00[_0x15f261(0x81b)]),_0x387db8['innerHTML']=_0x15f261(0x412);}finally{_0x829fbd[_0x15f261(0xbd3)][_0x15f261(0x72b)](_0x15f261(0x81c));}}async function handleGenerateFromFileClick(){const _0x407f86=_0x4b15a0;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x4cd197=document[_0x407f86(0xb9f)](_0x407f86(0x976)),_0x3fec30=document[_0x407f86(0xb9f)](_0x407f86(0x6a5)),_0x9eaa05=document[_0x407f86(0xb9f)](_0x407f86(0xa39)),_0x4f0f5d=document['getElementById'](_0x407f86(0xd0f));_0x4f0f5d[_0x407f86(0x417)]=!![],document[_0x407f86(0xb9f)](_0x407f86(0x434))[_0x407f86(0xbd3)][_0x407f86(0x5f4)]('hidden'),_0x9eaa05[_0x407f86(0x7fc)]='',_0x4cd197['classList'][_0x407f86(0x5f4)]('hidden'),_0x3fec30[_0x407f86(0x1d0)]=_0x407f86(0x1fa);try{const _0x52e37e=await new Promise((_0x370c99,_0x166c49)=>{const _0x44daf8=_0x407f86,_0x1016d1=new FileReader();_0x1016d1['readAsDataURL'](selectedFile),_0x1016d1['onload']=()=>_0x370c99(_0x1016d1[_0x44daf8(0x338)][_0x44daf8(0x390)](',')[0x1]),_0x1016d1['onerror']=_0x4d274d=>_0x166c49(_0x4d274d);});await generateQuizFromFile(selectedFile[_0x407f86(0xa1b)],_0x52e37e);}catch(_0x4869cf){console['error'](_0x407f86(0xc3b),_0x4869cf),showMessage(_0x407f86(0xb1e)+_0x4869cf[_0x407f86(0x81b)]),_0x4cd197['classList']['add']('hidden'),_0x4f0f5d[_0x407f86(0x417)]=![];}}function autoFormatMath(_0x394f2c){const _0x489da2=_0x4b15a0;if(typeof _0x394f2c!==_0x489da2(0xe1b)||!_0x394f2c)return _0x394f2c;const _0x5393c7=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x51ad02=_0x394f2c[_0x489da2(0x95b)](_0x5393c7,_0xb162b2=>{return'$'+_0xb162b2['trim']()+'$';});return _0x51ad02;}function sanitizeQuizData(_0x3510c5){const _0x53e81a=_0x4b15a0;if(!_0x3510c5||!_0x3510c5[_0x53e81a(0xa09)])return _0x3510c5;const _0x47a432={'imes':_0x53e81a(0x35f),'div':'\x5cdiv'},_0x315b0e=_0x7914f8=>{const _0x42af58=_0x53e81a;if(typeof _0x7914f8!==_0x42af58(0xe1b))return _0x7914f8;let _0x57d91c=_0x7914f8;for(const [_0x393138,_0x163ada]of Object[_0x42af58(0x883)](_0x47a432)){const _0x33c11b=new RegExp('\x5cb'+_0x393138+'\x5cb','g');_0x57d91c=_0x57d91c[_0x42af58(0x95b)](_0x33c11b,_0x163ada);}return _0x57d91c=_0x57d91c[_0x42af58(0x95b)](/\\\//g,_0x42af58(0xe23)),_0x57d91c=_0x57d91c['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x42af58(0xe23))[_0x42af58(0x95b)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x42af58(0x35f))['replace'](/÷/g,'\x5cdiv')[_0x42af58(0x95b)](/×/g,_0x42af58(0x35f)),_0x57d91c=_0x57d91c[_0x42af58(0x95b)](/(\d)(\\frac)/g,_0x42af58(0x336)),_0x57d91c=autoFormatMath(_0x57d91c),_0x57d91c;};return _0x3510c5['topic']&&(_0x3510c5['topic']=_0x315b0e(_0x3510c5[_0x53e81a(0x257)])),_0x3510c5[_0x53e81a(0xa09)][_0x53e81a(0x4aa)](_0x21549e=>{const _0x5debc0=_0x53e81a;_0x21549e[_0x5debc0(0x931)]=_0x315b0e(_0x21549e[_0x5debc0(0x931)]),_0x21549e[_0x5debc0(0x4d1)]&&(_0x21549e[_0x5debc0(0x4d1)]=_0x21549e[_0x5debc0(0x4d1)][_0x5debc0(0xa0d)](_0x315b0e)),_0x21549e[_0x5debc0(0xe51)]&&(_0x21549e[_0x5debc0(0xe51)]=_0x315b0e(_0x21549e[_0x5debc0(0xe51)])),_0x21549e[_0x5debc0(0x7fb)]&&(_0x21549e[_0x5debc0(0x7fb)]=_0x315b0e(_0x21549e[_0x5debc0(0x7fb)])),_0x21549e[_0x5debc0(0xa54)]&&(_0x21549e[_0x5debc0(0xa54)]=_0x315b0e(_0x21549e[_0x5debc0(0xa54)])),_0x21549e[_0x5debc0(0x816)]&&(_0x21549e[_0x5debc0(0x816)]=_0x21549e['allResponses'][_0x5debc0(0xa0d)](_0x315b0e));}),_0x3510c5;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x3faca6=_0x4b15a0,_0x2f1cec=document[_0x3faca6(0xb9f)](_0x3faca6(0x482)),_0x40604d=document[_0x3faca6(0xb9f)](_0x3faca6(0x593)),_0x1a6376=_0x2f1cec[_0x3faca6(0x232)][_0x3faca6(0xbdc)](),_0xb528ea=_0x40604d['value']['trim']();if(!_0x1a6376){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x12cb9c=document[_0x3faca6(0xb9f)]('loader'),_0x176096=document[_0x3faca6(0xb9f)]('loader-text'),_0x4c4ef0=document[_0x3faca6(0xb9f)]('generated-quiz-container'),_0x309b95=document['getElementById'](_0x3faca6(0xeba));document['getElementById'](_0x3faca6(0x434))['classList']['remove'](_0x3faca6(0x81c)),_0x4c4ef0[_0x3faca6(0x7fc)]='',_0x12cb9c[_0x3faca6(0xbd3)][_0x3faca6(0x5f4)](_0x3faca6(0x81c)),_0x176096[_0x3faca6(0x1d0)]=_0x3faca6(0xc9a),_0x309b95['disabled']=!![];try{const _0x1127b2=_0x3faca6(0x7b3)+encodeURIComponent(_0x1a6376),_0xccaf47=await fetch(_0x1127b2);if(!_0xccaf47['ok'])throw new Error(_0x3faca6(0x88f)+_0xccaf47[_0x3faca6(0x58b)]+')');const _0x47e0d6=await _0xccaf47[_0x3faca6(0x9ad)](),_0x19c879=extractTextFromHtml(_0x47e0d6);if(!_0x19c879||_0x19c879['length']<0x64)throw new Error(_0x3faca6(0xb08));await generateQuiz(_0xb528ea,_0x19c879);}catch(_0x47c094){console[_0x3faca6(0x7cd)](_0x3faca6(0xbc1),_0x47c094),showMessage(_0x3faca6(0xe37)+_0x47c094[_0x3faca6(0x81b)]),_0x4c4ef0['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x12cb9c[_0x3faca6(0xbd3)][_0x3faca6(0x72b)](_0x3faca6(0x81c)),_0x309b95[_0x3faca6(0x417)]=![];}}function extractTextFromHtml(_0x47013f){const _0x111681=_0x4b15a0,_0x40c252=new DOMParser()[_0x111681(0x3b4)](_0x47013f,_0x111681(0x3e6));return _0x40c252[_0x111681(0x3eb)](_0x111681(0x667))['forEach'](_0x495837=>_0x495837[_0x111681(0x5f4)]()),_0x40c252['body'][_0x111681(0x1d0)]||'';}document[_0x4b15a0(0xb9f)]('generate-from-topic-btn')[_0x4b15a0(0x95a)](_0x4b15a0(0xd6c),()=>{const _0x464407=_0x4b15a0,_0x243236=document[_0x464407(0xb9f)](_0x464407(0x91b))['value'][_0x464407(0xbdc)]();generateQuiz(_0x243236,null);}),document[_0x4b15a0(0xb9f)](_0x4b15a0(0xc39))[_0x4b15a0(0x95a)]('click',()=>{const _0x13efa6=_0x4b15a0,_0x439348=document['getElementById'](_0x13efa6(0xc89))[_0x13efa6(0x232)][_0x13efa6(0xbdc)]();if(!_0x439348){showMessage(_0x13efa6(0x357));return;}const _0x26f0b8=document[_0x13efa6(0xb9f)](_0x13efa6(0x91b))[_0x13efa6(0x232)]['trim']();generateQuiz(_0x26f0b8,_0x439348);});async function generateQuiz(_0x420e11,_0xba5f9d,_0x715c7a=null,_0x3d8e68=null,_0x6629f0=![],_0x1eaba0=null,_0x2ef140=null,_0x5316ab=![]){const _0x48c044=_0x4b15a0;let _0x5678d2={};if(_0x6629f0&&blueprintPageSettings)_0x5678d2=blueprintPageSettings;else{const _0x3e2163=document[_0x48c044(0x3eb)](_0x48c044(0xad8));_0x5678d2={'quizType':document[_0x48c044(0xb9f)](_0x48c044(0x928))[_0x48c044(0x232)],'numQuestions':document[_0x48c044(0xb9f)](_0x48c044(0x550))[_0x48c044(0x232)],'numChoices':document[_0x48c044(0xb9f)](_0x48c044(0xc99))['value'],'includeImages':document[_0x48c044(0xb9f)](_0x48c044(0x39a))[_0x48c044(0x270)],'isNormalTopic':document[_0x48c044(0xb9f)]('force-math-checkbox')[_0x48c044(0x270)],'difficultyValue':document['getElementById'](_0x48c044(0xda7))['value'],'complexityValue':document[_0x48c044(0xb9f)]('question-complexity-select')[_0x48c044(0x232)],'selectedTopicNames':Array[_0x48c044(0x7ca)](_0x3e2163)[_0x48c044(0xa0d)](_0x22d2b9=>_0x22d2b9[_0x48c044(0x232)])};}const _0x1cabef=_0x5678d2['isNormalTopic']?'':_0x48c044(0xed8),_0x1f2bc4=_0x5678d2[_0x48c044(0xd99)]!==_0x48c044(0xad5)?_0x48c044(0xbbe)+_0x5678d2[_0x48c044(0xd99)]+'\x22':'',_0x5857b3=_0x5678d2[_0x48c044(0xa2d)]!=='mixed'?_0x48c044(0xdca)+_0x5678d2[_0x48c044(0xa2d)]+_0x48c044(0x6e6):'';let _0x28ce6f='';_0x5678d2[_0x48c044(0x59c)]&&_0x5678d2[_0x48c044(0x59c)][_0x48c044(0x8da)]>0x0&&(_0x28ce6f=_0x48c044(0x4e8)+_0x5678d2['selectedTopicNames'][_0x48c044(0x510)](',\x20')+'.');let _0x3d9e9f='';_0x3d8e68&&(_0x3d9e9f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x3be50a='',_0x3af4d5='',_0x21c37f,_0x54b56c=_0x48c044(0xcd7)+_0x420e11+'\x22';if(!_0x420e11&&_0xba5f9d)_0x54b56c=_0x48c044(0x4bf);else!_0x420e11&&!_0xba5f9d&&(_0x54b56c=_0x48c044(0xe76));const _0x186b38={'type':_0x48c044(0x4a5),'properties':{'questionText':{'type':_0x48c044(0x902)},'options':{'type':_0x48c044(0x537),'items':{'type':_0x48c044(0x902)}},'correctAnswerIndex':{'type':_0x48c044(0x487)},'explanation':{'type':_0x48c044(0x902)},'imageCode':{'type':_0x48c044(0x902)}},'required':[_0x48c044(0x931),'options',_0x48c044(0x82e),_0x48c044(0xe51)]},_0x17742c={'type':'OBJECT','properties':{'questionText':{'type':_0x48c044(0x902)},'idealAnswer':{'type':_0x48c044(0x902)},'explanation':{'type':_0x48c044(0x902)},'imageCode':{'type':'STRING'}},'required':[_0x48c044(0x931),_0x48c044(0x493),_0x48c044(0xe51)]},_0x5decf7={'type':_0x48c044(0x4a5),'properties':{'questionText':{'type':_0x48c044(0x902)},'questionType':{'type':_0x48c044(0x902),'enum':[_0x48c044(0x9c3),'short_answer']},'options':{'type':_0x48c044(0x537),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x48c044(0x487)},'idealAnswer':{'type':_0x48c044(0x902)},'explanation':{'type':_0x48c044(0x902)},'imageCode':{'type':_0x48c044(0x902)}},'required':[_0x48c044(0x931),_0x48c044(0x899),'explanation']},_0x5cadcf={'type':_0x48c044(0x4a5),'properties':{'questionText':{'type':_0x48c044(0x902)},'correctAnswer':{'type':_0x48c044(0x1cb)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x48c044(0x902)}},'required':[_0x48c044(0x931),_0x48c044(0x9fb),_0x48c044(0xe51)]},_0x49f759={'type':_0x48c044(0x4a5),'properties':{'questionType':{'type':'STRING','enum':[_0x48c044(0x50f)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x48c044(0x902)},'allResponses':{'type':_0x48c044(0x537),'items':{'type':'STRING'}},'explanation':{'type':_0x48c044(0x902)},'imageCode':{'type':_0x48c044(0x902)}},'required':['questionType',_0x48c044(0x7fb),'correctResponse',_0x48c044(0x816),_0x48c044(0xe51)]};let _0x9de333;if(_0x715c7a!==null){const _0x3b1a94=currentQuizData['questions'][_0x715c7a][_0x48c044(0x899)],_0x4fd26f=_0x5678d2[_0x48c044(0xd7d)]?_0x48c044(0x9df):'';_0x3be50a=_0x48c044(0xacc)+_0x54b56c+'\x20'+_0x28ce6f+'\x20'+_0x1f2bc4+_0x48c044(0xd5e)+_0x4fd26f+'\x20'+simpleMathPrompt;if(_0x3b1a94===_0x48c044(0x9c3))_0x21c37f=_0x186b38;else{if(_0x3b1a94==='matching_item')_0x21c37f={'type':_0x48c044(0x4a5),'properties':{'questionType':{'type':_0x48c044(0x902),'enum':[_0x48c044(0x50f)]},'stem':{'type':_0x48c044(0x902)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x48c044(0x902)},'imageCode':{'type':_0x48c044(0x902)}},'required':[_0x48c044(0x899),_0x48c044(0x7fb),_0x48c044(0xa54),'explanation']};else _0x21c37f=_0x17742c;}_0x9de333=_0x21c37f;}else{const _0x130a09=_0x5678d2[_0x48c044(0xd7d)]?_0x48c044(0x298):'';switch(_0x5678d2[_0x48c044(0xd68)]){case'multiple_choice':_0x3be50a=_0x48c044(0x30d)+_0x1cabef+'\x20'+_0x5678d2[_0x48c044(0xe85)]+_0x48c044(0x567)+_0x54b56c+'\x20'+_0x28ce6f+'\x20'+_0x1f2bc4+'\x20'+_0x5857b3+'\x20'+_0x3d9e9f+_0x48c044(0xb51)+_0x5678d2[_0x48c044(0x34b)]+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x130a09+'\x20'+simpleMathPrompt,_0x21c37f=_0x186b38;break;case _0x48c044(0xe8c):_0x3be50a=_0x48c044(0xdcb)+_0x1cabef+'\x20'+_0x5678d2[_0x48c044(0xe85)]+_0x48c044(0x567)+_0x54b56c+'\x20'+_0x28ce6f+'\x20'+_0x1f2bc4+'\x20'+_0x5857b3+'\x20'+_0x3d9e9f+_0x48c044(0x530)+_0x5678d2['numChoices']+_0x48c044(0x1ce)+_0x130a09+'\x20'+simpleMathPrompt,_0x21c37f=_0x186b38;break;case _0x48c044(0xb63):_0x3be50a=_0x48c044(0xdcb)+_0x1cabef+'\x20'+_0x5678d2['numQuestions']+_0x48c044(0x567)+_0x54b56c+'\x20'+_0x28ce6f+'\x20'+_0x1f2bc4+'\x20'+_0x5857b3+'\x20'+_0x3d9e9f+_0x48c044(0x772)+_0x130a09+'\x20'+simpleMathPrompt,_0x21c37f=_0x17742c;break;case _0x48c044(0xcaf):_0x3be50a=_0x48c044(0x599)+_0x1cabef+'\x20'+_0x5678d2[_0x48c044(0xe85)]+_0x48c044(0x567)+_0x54b56c+'\x20'+_0x28ce6f+'\x20'+_0x1f2bc4+'\x20'+_0x5857b3+'\x20'+_0x3d9e9f+_0x48c044(0x53f)+_0x5678d2[_0x48c044(0x34b)]+_0x48c044(0xa93)+_0x130a09+'\x20'+simpleMathPrompt+'.',_0x21c37f=_0x5decf7;break;case'true_false':_0x3be50a=_0x48c044(0x394)+_0x1cabef+'\x20'+_0x5678d2[_0x48c044(0xe85)]+_0x48c044(0x567)+_0x54b56c+'\x20'+_0x28ce6f+'\x20'+_0x1f2bc4+'\x20'+_0x5857b3+'\x20'+_0x3d9e9f+_0x48c044(0x9c5)+_0x130a09+'\x20'+simpleMathPrompt,_0x21c37f=_0x5cadcf;break;case _0x48c044(0xbc6):_0x3be50a=_0x48c044(0x64f)+_0x1cabef+'\x20'+_0x5678d2['numQuestions']+'\x20คู่\x20'+_0x54b56c+'\x20'+_0x28ce6f+'\x20'+_0x1f2bc4+'\x20'+_0x5857b3+'\x20'+_0x3d9e9f+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x130a09+'\x20'+simpleMathPrompt,_0x21c37f=_0x49f759;break;}_0x9de333={'type':_0x48c044(0x4a5),'properties':{'topic':{'type':_0x48c044(0x902)},'questions':{'type':_0x48c044(0x537),'items':_0x21c37f}},'required':[_0x48c044(0x257),_0x48c044(0xa09)]};}const _0x1e0e63='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a';_0xba5f9d?(_0x5316ab?_0x3be50a=_0x48c044(0x1c7)+_0xba5f9d+'\x22,\x20'+_0x3be50a+_0x1e0e63:_0x3be50a='จากเนื้อหาต่อไปนี้:\x20\x22'+_0xba5f9d+_0x48c044(0xdde)+_0x3be50a,_0x3af4d5='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):(_0x5316ab&&(_0x3be50a+=_0x1e0e63),_0x3af4d5=_0x48c044(0xa22));let _0x284e57;return _0x3d8e68?(_0x284e57=[{'text':_0x3be50a},..._0x3d8e68],_0x3af4d5=_0x48c044(0x54d)):_0x284e57=_0x3be50a,handleApiCall(_0x284e57,_0x3af4d5,_0x9de333,_0x715c7a,!![],_0x1eaba0,_0x2ef140);}async function generateQuizFromFile(_0x661d2b,_0x4e4a14){const _0x58e025=_0x4b15a0,_0x52c49b=document['getElementById']('file-topic-input')[_0x58e025(0x232)][_0x58e025(0xbdc)](),_0xec4cfe=document[_0x58e025(0xb9f)](_0x58e025(0x928))['value'],_0x50e3e0=document[_0x58e025(0xb9f)](_0x58e025(0x550))[_0x58e025(0x232)],_0x332b4f=document[_0x58e025(0xb9f)]('num-choices')['value'],_0x393f1c=document[_0x58e025(0xb9f)](_0x58e025(0x39a))[_0x58e025(0x270)],_0x263deb=document[_0x58e025(0xb9f)]('force-math-checkbox')[_0x58e025(0x270)],_0x590cee=_0x263deb?'':_0x58e025(0xed8),_0x383fa3=document['getElementById'](_0x58e025(0xd23))[_0x58e025(0x270)];let _0x1ff6d1='',_0x1aeae1;const _0x53a5d7=_0x393f1c?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x383fa3)_0x1ff6d1=_0x58e025(0xafa)+_0x53a5d7+'\x0a'+simpleMathPrompt+'\x0a',_0x1aeae1={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x58e025(0x9c3),'short_answer',_0x58e025(0xa29),_0x58e025(0x50f)]},'options':{'type':_0x58e025(0x537),'items':{'type':_0x58e025(0x902)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x58e025(0x902)},'correctAnswer':{'type':_0x58e025(0x1cb)},'stem':{'type':_0x58e025(0x902)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x58e025(0x537),'items':{'type':'STRING'}},'explanation':{'type':_0x58e025(0x902)},'imageCode':{'type':_0x58e025(0x902)}},'required':['questionType',_0x58e025(0xe51)]};else{let _0x2ab912='เกี่ยวกับหัวข้อ\x20\x22'+_0x52c49b+'\x22';!_0x52c49b&&(_0x2ab912=_0x58e025(0xdd8));switch(_0xec4cfe){case _0x58e025(0x9c3):_0x1ff6d1='สร้างแบบทดสอบปรนัย'+_0x590cee+'\x20'+_0x50e3e0+_0x58e025(0x567)+_0x2ab912+'.\x20แต่ละข้อมี\x20'+_0x332b4f+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x53a5d7+'\x20'+simpleMathPrompt,_0x1aeae1={'type':'OBJECT','properties':{'questionText':{'type':_0x58e025(0x902)},'options':{'type':_0x58e025(0x537),'items':{'type':_0x58e025(0x902)}},'correctAnswerIndex':{'type':_0x58e025(0x487)},'explanation':{'type':_0x58e025(0x902)},'imageCode':{'type':_0x58e025(0x902)}},'required':[_0x58e025(0x931),_0x58e025(0x4d1),'correctAnswerIndex',_0x58e025(0xe51)]};break;case _0x58e025(0xe8c):_0x1ff6d1='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x590cee+'\x20'+_0x50e3e0+_0x58e025(0x567)+_0x2ab912+_0x58e025(0x530)+_0x332b4f+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x53a5d7+'\x20'+simpleMathPrompt,_0x1aeae1={'type':_0x58e025(0x4a5),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x58e025(0x537),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x58e025(0x902)},'imageCode':{'type':_0x58e025(0x902)}},'required':['questionText',_0x58e025(0x4d1),_0x58e025(0x82e),_0x58e025(0xe51)]};break;case _0x58e025(0xb63):_0x1ff6d1=_0x58e025(0xdcb)+_0x590cee+'\x20'+_0x50e3e0+_0x58e025(0x567)+_0x2ab912+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x53a5d7+'\x20'+simpleMathPrompt,_0x1aeae1={'type':_0x58e025(0x4a5),'properties':{'questionText':{'type':_0x58e025(0x902)},'idealAnswer':{'type':_0x58e025(0x902)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x58e025(0x931),'idealAnswer','explanation']};break;case'mixed':_0x1ff6d1='สร้างแบบทดสอบ'+_0x590cee+'\x20'+_0x50e3e0+_0x58e025(0x567)+_0x2ab912+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x332b4f+_0x58e025(0x7db)+_0x53a5d7+'\x20'+simpleMathPrompt+_0x58e025(0x91c),_0x1aeae1={'type':_0x58e025(0x4a5),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x58e025(0x902),'enum':[_0x58e025(0x9c3),_0x58e025(0xc9f)]},'options':{'type':_0x58e025(0x537),'items':{'type':_0x58e025(0x902)}},'correctAnswerIndex':{'type':_0x58e025(0x487)},'idealAnswer':{'type':_0x58e025(0x902)},'explanation':{'type':_0x58e025(0x902)},'imageCode':{'type':_0x58e025(0x902)}},'required':[_0x58e025(0x931),_0x58e025(0x899),_0x58e025(0xe51)]};break;case'true_false':_0x1ff6d1=_0x58e025(0x394)+_0x590cee+'\x20'+_0x50e3e0+_0x58e025(0x567)+_0x2ab912+_0x58e025(0x2e8)+_0x53a5d7+'\x20'+simpleMathPrompt,_0x1aeae1={'type':'OBJECT','properties':{'questionText':{'type':_0x58e025(0x902)},'correctAnswer':{'type':_0x58e025(0x1cb)},'explanation':{'type':_0x58e025(0x902)},'imageCode':{'type':_0x58e025(0x902)}},'required':[_0x58e025(0x931),_0x58e025(0x9fb),_0x58e025(0xe51)]};break;case _0x58e025(0xbc6):_0x1ff6d1=_0x58e025(0x64f)+_0x590cee+'\x20'+_0x50e3e0+'\x20คู่\x20'+_0x2ab912+_0x58e025(0x6ab)+_0x50e3e0+_0x58e025(0xdd1)+_0x53a5d7+'\x20'+simpleMathPrompt,_0x1aeae1={'type':_0x58e025(0x4a5),'properties':{'questionType':{'type':_0x58e025(0x902),'enum':[_0x58e025(0x50f)]},'stem':{'type':_0x58e025(0x902)},'correctResponse':{'type':_0x58e025(0x902)},'allResponses':{'type':'ARRAY','items':{'type':_0x58e025(0x902)}},'explanation':{'type':_0x58e025(0x902)},'imageCode':{'type':_0x58e025(0x902)}},'required':['questionType',_0x58e025(0x7fb),_0x58e025(0xa54),'allResponses',_0x58e025(0xe51)]};break;}}const _0x59e5ce={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x58e025(0x537),'items':_0x1aeae1}},'required':[_0x58e025(0x257),_0x58e025(0xa09)]},_0xe05ed9=_0x58e025(0xaf9)+_0x1ff6d1,_0xa4d06c={'contents':[{'parts':[{'text':_0xe05ed9},{'inlineData':{'mimeType':_0x661d2b,'data':_0x4e4a14}}]}],'generationConfig':{'responseMimeType':_0x58e025(0x4a6),'responseSchema':_0x59e5ce}};return handleApiCall(_0xa4d06c['contents'][0x0][_0x58e025(0x9c6)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x59e5ce);}async function handleApiCall(_0x17a7cf,_0xfad6a0,_0x4dbed3,_0x516abe=null,_0x4288e6=!![],_0x5469a2=null,_0x47f77a=null){const _0x230abd=_0x4b15a0,_0x93e13=document[_0x230abd(0xb9f)](_0x230abd(0x434)),_0x5f02fb=document['getElementById'](_0x230abd(0x976)),_0xc7db7a=document[_0x230abd(0xb9f)]('loader-text'),_0x5e5544=document[_0x230abd(0xb9f)](_0x230abd(0xa39));_0x93e13[_0x230abd(0xbd3)][_0x230abd(0x5f4)](_0x230abd(0x81c));_0x516abe===null&&_0x4288e6&&(_0x5e5544[_0x230abd(0x7fc)]='');_0x5f02fb[_0x230abd(0xbd3)][_0x230abd(0x5f4)](_0x230abd(0x81c)),_0xc7db7a[_0x230abd(0x1d0)]=_0xfad6a0,document[_0x230abd(0xb9f)](_0x230abd(0x622))[_0x230abd(0x417)]=!![],document[_0x230abd(0xb9f)](_0x230abd(0xc39))[_0x230abd(0x417)]=!![],document['getElementById']('generate-from-link-btn')[_0x230abd(0x417)]=!![];const _0x1e698f=document[_0x230abd(0xb9f)]('generate-from-file-btn');if(_0x1e698f)_0x1e698f[_0x230abd(0x417)]=!![];const _0x2d73c2=document[_0x230abd(0xb9f)](_0x230abd(0xe29));if(_0x2d73c2)_0x2d73c2[_0x230abd(0x417)]=!![];const _0x33f013=document[_0x230abd(0xb9f)](_0x230abd(0x435));if(_0x33f013)_0x33f013[_0x230abd(0x417)]=!![];try{const _0x5cb1f7=Array[_0x230abd(0xdf2)](_0x17a7cf)?_0x17a7cf:[{'text':_0x17a7cf}],_0x35914d={'contents':[{'role':'user','parts':_0x5cb1f7}]};_0x4dbed3&&(_0x35914d[_0x230abd(0xcb2)]={'responseMimeType':_0x230abd(0x4a6),'responseSchema':_0x4dbed3});const _0x13f674=_0x230abd(0x5f1),_0x51389c='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x13f674,_0x4e20fc=await fetch(_0x51389c,{'method':_0x230abd(0x3a9),'headers':{'Content-Type':_0x230abd(0x4a6)},'body':JSON[_0x230abd(0x4d8)](_0x35914d)});if(!_0x4e20fc['ok']){const _0x329801=await _0x4e20fc[_0x230abd(0x9ad)]();console[_0x230abd(0x7cd)](_0x230abd(0xde9),_0x329801);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x4e20fc[_0x230abd(0x58b)]);}const _0x5bed31=await _0x4e20fc[_0x230abd(0xe9a)]();if(!_0x5bed31['candidates']||_0x5bed31[_0x230abd(0x991)][_0x230abd(0x8da)]===0x0){let _0x5f3307=_0x230abd(0x7c1);return _0x5bed31[_0x230abd(0xe69)]?.['blockReason']&&(_0x5f3307=_0x230abd(0x9b7)+_0x5bed31['promptFeedback'][_0x230abd(0x955)]+'.'),console[_0x230abd(0x7cd)](_0x5f3307,JSON[_0x230abd(0x4d8)](_0x5bed31)),null;}const _0x4e16c2=_0x5bed31[_0x230abd(0x991)][0x0][_0x230abd(0x5de)][_0x230abd(0x9c6)][0x0][_0x230abd(0x9ad)];if(_0x4dbed3){let _0x480d6f=_0x4e16c2;if(_0x480d6f[_0x230abd(0xa72)](_0x230abd(0xaee)))_0x480d6f=_0x480d6f[_0x230abd(0xa1e)](0x7,_0x480d6f[_0x230abd(0x8da)]-0x3)[_0x230abd(0xbdc)]();else _0x480d6f[_0x230abd(0xa72)](_0x230abd(0xdac))&&(_0x480d6f=_0x480d6f[_0x230abd(0xa1e)](0x3,_0x480d6f['length']-0x3)[_0x230abd(0xbdc)]());let _0x537ebc=JSON[_0x230abd(0x717)](_0x480d6f);if(_0x4288e6){if(_0x516abe!==null){}else currentQuizData=_0x537ebc,displayGeneratedQuiz(currentQuizData,_0x5469a2,_0x47f77a);}return _0x537ebc;}else return _0x4e16c2;}catch(_0x354829){console[_0x230abd(0x7cd)](_0x230abd(0x4cd),_0x354829),showMessage(_0x230abd(0x9db)+_0x354829[_0x230abd(0x81b)]);_0x4288e6&&(_0x5e5544['innerHTML']=_0x230abd(0xa3d));throw _0x354829;}finally{_0x5f02fb[_0x230abd(0xbd3)][_0x230abd(0x72b)](_0x230abd(0x81c)),document[_0x230abd(0xb9f)](_0x230abd(0x622))[_0x230abd(0x417)]=![],document[_0x230abd(0xb9f)](_0x230abd(0xc39))[_0x230abd(0x417)]=![],document[_0x230abd(0xb9f)](_0x230abd(0xeba))[_0x230abd(0x417)]=![];if(_0x1e698f)_0x1e698f[_0x230abd(0x417)]=![];if(_0x2d73c2)_0x2d73c2[_0x230abd(0x417)]=![];if(_0x33f013)_0x33f013['disabled']=![];}}function exitFullscreen(){const _0x463bfe=_0x4b15a0;if(document[_0x463bfe(0x2d5)])document[_0x463bfe(0x2d5)]()[_0x463bfe(0x37b)](_0x494954=>console['error'](_0x494954));else{if(document[_0x463bfe(0x594)])document[_0x463bfe(0x594)]();else document[_0x463bfe(0x6ce)]&&document[_0x463bfe(0x6ce)]();}}function enterFullscreen(){const _0x3dfc06=_0x4b15a0,_0x2f73dd=document[_0x3dfc06(0x4db)];if(_0x2f73dd[_0x3dfc06(0xd2c)])_0x2f73dd[_0x3dfc06(0xd2c)]()[_0x3dfc06(0x37b)](_0x552750=>{const _0x101523=_0x3dfc06;console['error'](_0x101523(0x66a)+_0x552750['message']+'\x20('+_0x552750[_0x101523(0x757)]+')');});else{if(_0x2f73dd[_0x3dfc06(0xddb)])_0x2f73dd[_0x3dfc06(0xddb)]();else _0x2f73dd[_0x3dfc06(0x91a)]&&_0x2f73dd[_0x3dfc06(0x91a)]();}}function handleCheatingEvent(){const _0x44c163=_0x4b15a0;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x44c163(0xb91),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x44c163(0x75c)+maxCheatAttempts+_0x44c163(0xadb)),document[_0x44c163(0xb9f)](_0x44c163(0x31c))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x44c163(0x28b)](_0x44c163(0xd85),handleVisibilityChange),document[_0x44c163(0x28b)]('fullscreenchange',handleFullscreenChange)):showMessage(_0x44c163(0x60a)+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x5dede6=_0x4b15a0;if(currentMode===_0x5dede6(0xa10)||!isQuizActive)return;if(document[_0x5dede6(0x5f0)]===_0x5dede6(0x81c))handleCheatingEvent();else document['visibilityState']===_0x5dede6(0xe95)&&(console[_0x5dede6(0xe84)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){if(currentMode==='admin-testing'||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x473e89,_0x221de7=null,_0x5300fe=null){const _0x592259=_0x4b15a0,_0x23b685=document[_0x592259(0xb9f)](_0x592259(0xa39));let _0x23e66b=_0x592259(0xd89)+_0x473e89[_0x592259(0x257)]+'</h3>';_0x473e89[_0x592259(0xa09)]['forEach']((_0x3cc562,_0xc5d9ec)=>{const _0x2143fe=_0x592259;!_0x3cc562['id']&&(_0x3cc562['id']='q_'+Date[_0x2143fe(0xb38)]()+'_'+_0xc5d9ec);const _0x4ee779=_0x3cc562[_0x2143fe(0x899)]||_0x473e89[_0x2143fe(0xd68)];_0x23e66b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0xc5d9ec+_0x2143fe(0x5c3)+_0xc5d9ec+_0x2143fe(0x53a)+_0xc5d9ec+_0x2143fe(0xe68);switch(_0x4ee779){case _0x2143fe(0x50f):_0x23e66b+=_0x2143fe(0x608)+_0xc5d9ec+'\x22>'+(_0xc5d9ec+0x1)+'.\x20'+_0x3cc562[_0x2143fe(0x7fb)]+_0x2143fe(0xe43);_0x3cc562[_0x2143fe(0xe33)]&&(_0x23e66b+=_0x2143fe(0x387)+_0xc5d9ec+_0x2143fe(0x76d)+_0x3cc562['imageCode']+_0x2143fe(0xd14));_0x23e66b+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0xc5d9ec+'\x22>'+_0x3cc562[_0x2143fe(0xa54)]+_0x2143fe(0x72d),_0x23e66b+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0xc5d9ec+'\x22>'+_0x3cc562[_0x2143fe(0xe51)]+_0x2143fe(0x72d);break;case _0x2143fe(0xc9f):_0x23e66b+=_0x2143fe(0x608)+_0xc5d9ec+'\x22>'+(_0xc5d9ec+0x1)+'.\x20'+_0x3cc562[_0x2143fe(0x931)]+'</p>';_0x3cc562['imageCode']&&(_0x23e66b+=_0x2143fe(0x387)+_0xc5d9ec+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3cc562[_0x2143fe(0xe33)]+_0x2143fe(0xd14));_0x23e66b+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0xc5d9ec+'\x22>'+_0x3cc562['idealAnswer']+_0x2143fe(0x72d),_0x23e66b+=_0x2143fe(0xe5c)+_0xc5d9ec+'\x22>'+_0x3cc562[_0x2143fe(0xe51)]+_0x2143fe(0x72d);break;case _0x2143fe(0xa29):_0x23e66b+=_0x2143fe(0x608)+_0xc5d9ec+'\x22>'+(_0xc5d9ec+0x1)+'.\x20'+_0x3cc562['questionText']+_0x2143fe(0xe43);_0x3cc562[_0x2143fe(0xe33)]&&(_0x23e66b+=_0x2143fe(0x387)+_0xc5d9ec+_0x2143fe(0x76d)+_0x3cc562['imageCode']+_0x2143fe(0xd14));_0x23e66b+=_0x2143fe(0x314)+(_0x3cc562['correctAnswer']===!![]?'text-green-600\x20font-bold':'')+_0x2143fe(0xd28)+(_0x3cc562[_0x2143fe(0x9fb)]===![]?_0x2143fe(0xc7b):'')+_0x2143fe(0x326),_0x23e66b+=_0x2143fe(0xe5c)+_0xc5d9ec+'\x22>'+_0x3cc562[_0x2143fe(0xe51)]+_0x2143fe(0x72d);break;case _0x2143fe(0x9f7):case _0x2143fe(0x9c3):default:_0x23e66b+=_0x2143fe(0x608)+_0xc5d9ec+'\x22>'+(_0xc5d9ec+0x1)+'.\x20'+_0x3cc562[_0x2143fe(0x931)]+_0x2143fe(0xe43);_0x3cc562['imageCode']&&(_0x23e66b+=_0x2143fe(0x387)+_0xc5d9ec+_0x2143fe(0x76d)+_0x3cc562[_0x2143fe(0xe33)]+'</div>');_0x23e66b+=_0x2143fe(0xc71)+_0xc5d9ec+_0x2143fe(0x60f)+(_0x3cc562[_0x2143fe(0x4d1)]||[])['map']((_0x397f05,_0x5caf33)=>'<li\x20class=\x22'+(_0x5caf33===_0x3cc562[_0x2143fe(0x82e)]?_0x2143fe(0xc7b):'')+'\x22>'+_0x397f05+_0x2143fe(0xde0))[_0x2143fe(0x510)]('')+_0x2143fe(0x511),_0x23e66b+=_0x2143fe(0xe5c)+_0xc5d9ec+'\x22>'+_0x3cc562[_0x2143fe(0xe51)]+_0x2143fe(0x72d);break;}_0x23e66b+='</div>';}),_0x23e66b+=_0x592259(0x922),_0x23b685['innerHTML']=_0x23e66b,document['querySelectorAll']('.edit-question-btn')['forEach'](_0x474a9a=>_0x474a9a[_0x592259(0x95a)](_0x592259(0xd6c),handleEditQuestion)),document['querySelectorAll'](_0x592259(0x4fc))[_0x592259(0x4aa)](_0x5eb19e=>_0x5eb19e[_0x592259(0x95a)](_0x592259(0xd6c),handleRegenerateQuestion)),document[_0x592259(0xb9f)](_0x592259(0x63b))[_0x592259(0x95a)]('click',exportQuizAsWorksheetPDF),document['getElementById'](_0x592259(0x797))[_0x592259(0x95a)](_0x592259(0xd6c),handleVerifyAnswers);const _0xdb1324=document[_0x592259(0xb9f)](_0x592259(0x8e5));if(_0xdb1324){const _0xb56269=_0x221de7||currentProjectId;_0xdb1324[_0x592259(0x95a)](_0x592259(0xd6c),()=>saveQuiz(_0xb56269,_0x5300fe));}if(window[_0x592259(0x51a)])window['MathJax'][_0x592259(0xbce)]([_0x23b685]);}function handleRegenerateQuestion(_0x3d7f41){const _0x780a69=_0x4b15a0,_0x30f8a7=_0x3d7f41[_0x780a69(0xb52)][_0x780a69(0x273)][_0x780a69(0x6d7)],_0x5831a1=currentQuizData[_0x780a69(0x257)];showMessage(_0x780a69(0xab8)+(parseInt(_0x30f8a7)+0x1)+_0x780a69(0xbcd)),generateQuiz(_0x5831a1,null,parseInt(_0x30f8a7));}function getPointerPosition(_0x2764d9,_0x3af78a){const _0x4effe1=_0x4b15a0,_0x2529a5=_0x2764d9[_0x4effe1(0xce1)]();let _0x4c4970,_0x47843f;return _0x3af78a[_0x4effe1(0x9b6)]&&_0x3af78a[_0x4effe1(0x9b6)]['length']>0x0?(_0x4c4970=_0x3af78a[_0x4effe1(0x9b6)][0x0][_0x4effe1(0x6c9)],_0x47843f=_0x3af78a[_0x4effe1(0x9b6)][0x0]['clientY']):(_0x4c4970=_0x3af78a[_0x4effe1(0x6c9)],_0x47843f=_0x3af78a['clientY']),{'x':(_0x4c4970-_0x2529a5['e'])/_0x2529a5['a'],'y':(_0x47843f-_0x2529a5['f'])/_0x2529a5['d']};}function startDrag(_0x3ed162){const _0x1b421a=_0x4b15a0;_0x3ed162[_0x1b421a(0xa1b)]===_0x1b421a(0x9da)&&_0x3ed162[_0x1b421a(0xb5c)]();const _0x52c6b7=_0x3ed162[_0x1b421a(0x4ee)][_0x1b421a(0x892)](_0x1b421a(0x618));if(_0x52c6b7){draggedSvgElement=_0x52c6b7;const _0x13d8bd=draggedSvgElement[_0x1b421a(0x670)],_0x15e5c2=getPointerPosition(_0x13d8bd,_0x3ed162);svgOffset['x']=_0x15e5c2['x']-parseFloat(draggedSvgElement[_0x1b421a(0x2e1)](null,'x')),svgOffset['y']=_0x15e5c2['y']-parseFloat(draggedSvgElement[_0x1b421a(0x2e1)](null,'y'));}}function calculateItemAnalysis(_0x850fb8,_0x3662e8){const _0x36e1f1=_0x4b15a0,_0x407562={};if(_0x3662e8[_0x36e1f1(0x8da)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x59d30f=[..._0x3662e8][_0x36e1f1(0x8c7)]((_0x236165,_0x256131)=>{const _0x2987f8=_0x36e1f1,_0x1c9771=_0x256131['latestScore']-_0x236165[_0x2987f8(0xed0)];if(_0x1c9771!==0x0)return _0x1c9771;const _0x627fda=_0x236165[_0x2987f8(0xacb)]?.[_0x2987f8(0x8da)]||0x1,_0x68e944=_0x256131[_0x2987f8(0xacb)]?.['length']||0x1,_0x102f39=_0x627fda-_0x68e944;if(_0x102f39!==0x0)return _0x102f39;const _0x1575fc=new Date(_0x236165[_0x2987f8(0x5d0)]),_0x293a06=new Date(_0x256131[_0x2987f8(0x5d0)]),_0x431818=_0x1575fc-_0x293a06;if(_0x431818!==0x0)return _0x431818;return _0x236165['studentName'][_0x2987f8(0x822)](_0x256131[_0x2987f8(0x466)],'th');}),_0x255335=_0x59d30f[_0x36e1f1(0x8da)],_0x52005f=Math['max'](0x1,Math[_0x36e1f1(0x426)](_0x255335*0.33));if(_0x52005f===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x5217f4=_0x59d30f['slice'](0x0,_0x52005f),_0xa8ca5a=_0x59d30f[_0x36e1f1(0xb67)](-_0x52005f),_0x56aefa=_0x5217f4[_0x36e1f1(0xa0d)](_0x210781=>_0x210781['studentName']),_0x284005=_0xa8ca5a[_0x36e1f1(0xa0d)](_0x4be15b=>_0x4be15b[_0x36e1f1(0x466)]);return _0x850fb8['questions']['forEach']((_0x208d8f,_0x1e284e)=>{const _0x1c27b7=_0x36e1f1,_0x3dc08d=_0x208d8f[_0x1c27b7(0x7fb)]||_0x208d8f[_0x1c27b7(0x931)];let _0x3d5bd7=0x0,_0x1e4812=0x0,_0x4a0874=0x0;const _0x10e02c=[],_0x2cb8fa=[];_0x5217f4['forEach'](_0x66a0ee=>{const _0x549b93=_0x1c27b7,_0x1e4520=_0x66a0ee[_0x549b93(0xacb)][_0x66a0ee[_0x549b93(0xacb)][_0x549b93(0x8da)]-0x1],_0x2f6a3a=_0x1e4520['answers']['find'](_0x1e875c=>_0x1e875c['originalQuestionText']===_0x3dc08d);_0x10e02c['push']({'name':_0x66a0ee[_0x549b93(0x466)],'isCorrect':_0x2f6a3a?_0x2f6a3a[_0x549b93(0x809)]:![]}),_0x2f6a3a&&_0x2f6a3a[_0x549b93(0x809)]&&_0x1e4812++;}),_0xa8ca5a[_0x1c27b7(0x4aa)](_0x48d33b=>{const _0x469bcb=_0x1c27b7,_0x24b7ca=_0x48d33b[_0x469bcb(0xacb)][_0x48d33b[_0x469bcb(0xacb)][_0x469bcb(0x8da)]-0x1],_0x4a8e50=_0x24b7ca[_0x469bcb(0x80b)][_0x469bcb(0x59d)](_0x9468f4=>_0x9468f4[_0x469bcb(0xa30)]===_0x3dc08d);_0x2cb8fa['push']({'name':_0x48d33b[_0x469bcb(0x466)],'isCorrect':_0x4a8e50?_0x4a8e50['isCorrect']:![]}),_0x4a8e50&&_0x4a8e50[_0x469bcb(0x809)]&&_0x4a0874++;}),_0x3662e8[_0x1c27b7(0x4aa)](_0x54623e=>{const _0xf9f03c=_0x1c27b7,_0xe0979d=_0x54623e['attempts'][_0x54623e['attempts'][_0xf9f03c(0x8da)]-0x1],_0x40247d=_0xe0979d[_0xf9f03c(0x80b)]['find'](_0x256a0f=>_0x256a0f['originalQuestionText']===_0x3dc08d);_0x40247d&&_0x40247d['isCorrect']&&_0x3d5bd7++;});const _0x183c56=_0x255335>0x0?_0x3d5bd7/_0x255335:0x0,_0xc661ab=_0x52005f>0x0?_0x1e4812/_0x52005f-_0x4a0874/_0x52005f:0x0;_0x407562[_0x1e284e]={'p':_0x183c56,'r':_0xc661ab,'upperGroupResponders':_0x10e02c,'lowerGroupResponders':_0x2cb8fa};}),{'perQuestionStats':_0x407562,'overallGroups':{'upperGroupNames':_0x56aefa,'lowerGroupNames':_0x284005}};}function drag(_0x28ac53){const _0x4a686e=_0x4b15a0;if(draggedSvgElement){_0x28ac53[_0x4a686e(0xb5c)]();const _0x1d2522=draggedSvgElement[_0x4a686e(0x670)],_0x311b40=getPointerPosition(_0x1d2522,_0x28ac53),_0x2e78e1=_0x1d2522['viewBox'][_0x4a686e(0x1d2)];let _0x5901a2=_0x311b40['x']-svgOffset['x'],_0x57e767=_0x311b40['y']-svgOffset['y'];const _0xb7b297=draggedSvgElement[_0x4a686e(0x220)]();_0x5901a2=Math['max'](_0x2e78e1['x'],Math[_0x4a686e(0xdbb)](_0x5901a2,_0x2e78e1['x']+_0x2e78e1['width']-_0xb7b297[_0x4a686e(0x3bf)])),_0x57e767=Math[_0x4a686e(0x5e9)](_0x2e78e1['y'],Math[_0x4a686e(0xdbb)](_0x57e767,_0x2e78e1['y']+_0x2e78e1[_0x4a686e(0x4ba)]-_0xb7b297[_0x4a686e(0x4ba)])),draggedSvgElement['setAttributeNS'](null,'x',_0x5901a2),draggedSvgElement[_0x4a686e(0x38b)](null,'y',_0x57e767);}}function endDrag(_0x170c00){draggedSvgElement=null;}function handleSvgEditClick(_0x218d81){const _0x1ddf1c=_0x4b15a0;if(_0x218d81[_0x1ddf1c(0x4ee)][_0x1ddf1c(0xbd3)][_0x1ddf1c(0x959)](_0x1ddf1c(0xa96))){const _0x5f13ac=_0x218d81[_0x1ddf1c(0x4ee)][_0x1ddf1c(0x273)][_0x1ddf1c(0x2b0)],_0x3e56ad=_0x218d81['currentTarget'],_0x7d5891=_0x3e56ad[_0x1ddf1c(0x584)]('#'+_0x5f13ac);_0x7d5891&&_0x7d5891[_0x1ddf1c(0x5f4)](),_0x218d81[_0x1ddf1c(0x4ee)][_0x1ddf1c(0x5f4)]();}}function handleEditQuestion(_0x5d2d2f){const _0x270088=_0x4b15a0,_0x2e49ae=_0x5d2d2f[_0x270088(0xb52)],_0x725906=_0x2e49ae['dataset'][_0x270088(0x6d7)],_0x1f4260=currentQuizData[_0x270088(0xa09)][_0x725906],_0x5b37c6=document[_0x270088(0xb9f)]('q-text-'+_0x725906),_0x4da06e=document[_0x270088(0xb9f)](_0x270088(0xd97)+_0x725906),_0x53af6f=document[_0x270088(0xb9f)]('q-image-container-'+_0x725906);if(_0x2e49ae[_0x270088(0x7fc)][_0x270088(0xa36)](_0x270088(0xaf1))){_0x2e49ae[_0x270088(0x7fc)]=_0x270088(0x222),_0x2e49ae[_0x270088(0x429)]=_0x270088(0x345);if(_0x5b37c6)_0x5b37c6[_0x270088(0x821)]=!![];if(_0x4da06e)_0x4da06e['contentEditable']=!![];if(_0x53af6f){const _0x12a733=_0x53af6f[_0x270088(0x584)](_0x270088(0xcb3));if(_0x12a733){const _0x10a91=_0x12a733[_0x270088(0x3eb)]('text');_0x10a91['forEach']((_0x2dfb00,_0x57053e)=>{const _0x1bf40d=_0x270088,_0x4aead5='editable-text-'+_0x725906+'-'+_0x57053e;_0x2dfb00['id']=_0x4aead5,_0x2dfb00[_0x1bf40d(0xbd3)]['add']('draggable-text'),_0x2dfb00[_0x1bf40d(0x8b5)][_0x1bf40d(0xbf0)]=_0x1bf40d(0xdf1);const _0x4afb6c=document[_0x1bf40d(0xa5e)]('http://www.w3.org/2000/svg',_0x1bf40d(0x7c2)),_0x32fe43=_0x2dfb00[_0x1bf40d(0x220)]();_0x4afb6c[_0x1bf40d(0x705)]('cx',String(_0x32fe43['x']+_0x32fe43[_0x1bf40d(0x3bf)]+0x5)),_0x4afb6c['setAttribute']('cy',String(_0x32fe43['y']+_0x32fe43[_0x1bf40d(0x4ba)]/0x2-0x5)),_0x4afb6c['setAttribute']('r','5'),_0x4afb6c[_0x1bf40d(0x705)](_0x1bf40d(0xb1a),_0x1bf40d(0x699)),_0x4afb6c[_0x1bf40d(0x705)](_0x1bf40d(0x9ab),_0x1bf40d(0xa96)),_0x4afb6c[_0x1bf40d(0x273)][_0x1bf40d(0x2b0)]=_0x4aead5,_0x2dfb00[_0x1bf40d(0x854)](_0x4afb6c);}),_0x12a733[_0x270088(0x95a)]('mousedown',startDrag),_0x12a733[_0x270088(0x95a)](_0x270088(0x73a),drag),_0x12a733[_0x270088(0x95a)](_0x270088(0xb6c),endDrag),_0x12a733['addEventListener'](_0x270088(0x978),endDrag),_0x12a733[_0x270088(0x95a)]('touchstart',startDrag,{'passive':![]}),_0x12a733[_0x270088(0x95a)](_0x270088(0xcf2),drag,{'passive':![]}),_0x12a733[_0x270088(0x95a)](_0x270088(0xea7),endDrag),_0x12a733['addEventListener'](_0x270088(0x35a),endDrag),_0x12a733[_0x270088(0x95a)](_0x270088(0xd6c),handleSvgEditClick);}}if(_0x5b37c6)_0x5b37c6[_0x270088(0x69d)]();}else{_0x2e49ae[_0x270088(0x7fc)]=_0x270088(0x629),_0x2e49ae[_0x270088(0x429)]='แก้ไขข้อนี้';if(_0x5b37c6){_0x5b37c6[_0x270088(0x821)]=![];const _0x5bf85d=_0x1f4260[_0x270088(0x899)]||currentQuizData[_0x270088(0xd68)];_0x5bf85d===_0x270088(0x50f)?_0x1f4260[_0x270088(0x7fb)]=_0x5b37c6[_0x270088(0x649)][_0x270088(0xa1e)](_0x5b37c6[_0x270088(0x649)][_0x270088(0x76c)]('.')+0x2)[_0x270088(0xbdc)]():_0x1f4260[_0x270088(0x931)]=_0x5b37c6[_0x270088(0x649)][_0x270088(0xa1e)](_0x5b37c6['innerText'][_0x270088(0x76c)]('.')+0x2)['trim']();}_0x4da06e&&(_0x4da06e['contentEditable']=![],_0x1f4260[_0x270088(0xe51)]=_0x4da06e[_0x270088(0x649)]);if(_0x53af6f){const _0x17d435=_0x53af6f[_0x270088(0x584)]('svg');if(_0x17d435){const _0x3ba7ac=_0x17d435[_0x270088(0x216)](!![]);_0x3ba7ac[_0x270088(0x3eb)](_0x270088(0x5dd))[_0x270088(0x4aa)](_0x2c6309=>_0x2c6309[_0x270088(0x5f4)]()),_0x3ba7ac[_0x270088(0x3eb)](_0x270088(0x618))['forEach'](_0x2e2c89=>{const _0x252a83=_0x270088;_0x2e2c89['classList'][_0x252a83(0x5f4)](_0x252a83(0xb61)),_0x2e2c89[_0x252a83(0x8b5)][_0x252a83(0xbf0)]='default',_0x2e2c89[_0x252a83(0xbf1)]('id');}),_0x1f4260[_0x270088(0xe33)]=_0x3ba7ac[_0x270088(0x6e4)],_0x17d435[_0x270088(0x28b)](_0x270088(0xdc5),startDrag),_0x17d435['removeEventListener'](_0x270088(0x73a),drag),_0x17d435[_0x270088(0x28b)](_0x270088(0xb6c),endDrag),_0x17d435[_0x270088(0x28b)](_0x270088(0x978),endDrag),_0x17d435[_0x270088(0x28b)](_0x270088(0x9da),startDrag),_0x17d435[_0x270088(0x28b)](_0x270088(0xcf2),drag),_0x17d435[_0x270088(0x28b)](_0x270088(0xea7),endDrag),_0x17d435[_0x270088(0x28b)]('touchcancel',endDrag),_0x17d435[_0x270088(0x28b)](_0x270088(0xd6c),handleSvgEditClick),_0x17d435[_0x270088(0x3eb)](_0x270088(0x5dd))['forEach'](_0x508e43=>_0x508e43[_0x270088(0x5f4)]()),_0x17d435[_0x270088(0x3eb)]('.draggable-text')[_0x270088(0x4aa)](_0x12d109=>{const _0x2d1698=_0x270088;_0x12d109[_0x2d1698(0xbd3)][_0x2d1698(0x5f4)](_0x2d1698(0xb61)),_0x12d109[_0x2d1698(0x8b5)][_0x2d1698(0xbf0)]=_0x2d1698(0xdb5);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x58c1dd){const _0x141b45=_0x4b15a0,_0x490757=document[_0x141b45(0xb9f)]('quiz-editor-modal'),_0x2585e7=document[_0x141b45(0xb9f)]('quiz-editor-questions-container');_0x2585e7[_0x141b45(0x7fc)]=_0x141b45(0xa85),_0x490757[_0x141b45(0xbd3)][_0x141b45(0x5f4)](_0x141b45(0x81c));try{const _0x1f2ec9=doc(db,'artifacts/'+appId+_0x141b45(0x671),_0x58c1dd),_0xc82137=await getDoc(_0x1f2ec9);if(!_0xc82137[_0x141b45(0x37f)]())throw new Error(_0x141b45(0x8ce));currentEditingQuizData={'id':_0x58c1dd,..._0xc82137[_0x141b45(0x7f7)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x1c9096){console[_0x141b45(0x7cd)](_0x141b45(0xe6a),_0x1c9096),showMessage(_0x141b45(0x3f9)),_0x490757[_0x141b45(0xbd3)][_0x141b45(0x72b)]('hidden');}}function renderQuizEditor(_0x3afbbe){const _0x52e476=_0x4b15a0;document[_0x52e476(0xb9f)](_0x52e476(0x2bd))[_0x52e476(0x232)]=_0x3afbbe[_0x52e476(0x257)];const _0x3afda6=document['getElementById'](_0x52e476(0x964));let _0x3a53d6=_0x3afbbe[_0x52e476(0xa09)][_0x52e476(0xa0d)]((_0x1f0896,_0x535b8f)=>{const _0xc52e06=_0x52e476;let _0x3fc0c6='';const _0x473e62=_0x1f0896[_0xc52e06(0x899)]||_0x3afbbe['quizType'];switch(_0x473e62){case _0xc52e06(0x9c3):const _0x46066a=(_0x1f0896[_0xc52e06(0x4d1)]||[])['map']((_0x4e1cdb,_0x4c1db9)=>_0xc52e06(0x25b)+_0x535b8f+_0xc52e06(0x540)+_0x4c1db9+'\x22\x20'+(_0x4c1db9===_0x1f0896[_0xc52e06(0x82e)]?_0xc52e06(0x270):'')+_0xc52e06(0x82a)+_0x4e1cdb+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xc52e06(0x510)]('');_0x3fc0c6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x46066a+_0xc52e06(0x8fa);break;case _0xc52e06(0xc9f):_0x3fc0c6=_0xc52e06(0x956)+(_0x1f0896[_0xc52e06(0x493)]||'')+_0xc52e06(0x64c);break;case _0xc52e06(0xa29):_0x3fc0c6=_0xc52e06(0x8e2)+_0x535b8f+_0xc52e06(0x8be)+(_0x1f0896[_0xc52e06(0x9fb)]===!![]?'checked':'')+_0xc52e06(0x5ba)+_0x535b8f+_0xc52e06(0x796)+(_0x1f0896['correctAnswer']===![]?_0xc52e06(0x270):'')+_0xc52e06(0x459);break;case _0xc52e06(0x50f):_0x3fc0c6=_0xc52e06(0x28e)+(_0x1f0896['correctResponse']||'')+_0xc52e06(0xc47);break;}let _0x5dea2c=_0x1f0896['questionText']||_0x1f0896['stem']||'';return _0x5dea2c=_0x5dea2c[_0xc52e06(0x95b)](/<br\s*\/?>/gi,'\x0a'),'\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x535b8f+_0xc52e06(0xba1)+_0x473e62+_0xc52e06(0xcb1)+(_0x535b8f+0x1)+'\x20('+_0x473e62+_0xc52e06(0x75e)+_0x5dea2c+_0xc52e06(0xabd)+_0x3fc0c6+_0xc52e06(0x94f);})[_0x52e476(0x510)]('');_0x3afda6['innerHTML']=_0x3a53d6;const _0x11f0c2=_0x52e476(0xcdf);_0x3afda6[_0x52e476(0x3dd)](_0x52e476(0x6d9),_0x11f0c2),_0x3afda6['querySelectorAll'](_0x52e476(0x531))['forEach'](_0xfed618=>{const _0x7f8ff3=_0x52e476;_0xfed618['style'][_0x7f8ff3(0x754)]='hidden',_0xfed618['style'][_0x7f8ff3(0x3fc)]=_0x7f8ff3(0x327),_0xfed618[_0x7f8ff3(0xca2)]=0x4;const _0x33572b=()=>{const _0x39bcae=_0x7f8ff3;_0xfed618['style'][_0x39bcae(0x4ba)]=_0x39bcae(0xad5),_0xfed618[_0x39bcae(0x8b5)]['height']=_0xfed618[_0x39bcae(0x4d0)]+'px';};_0xfed618[_0x7f8ff3(0x95a)](_0x7f8ff3(0x304),_0x33572b),_0x33572b();}),_0x3afda6[_0x52e476(0x3eb)]('.ai-fix-question-btn')[_0x52e476(0x4aa)](_0x55fbae=>{const _0x2cfc5d=_0x52e476;_0x55fbae[_0x2cfc5d(0x95a)](_0x2cfc5d(0xd6c),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x17901d){const _0x5a9a57=_0x4b15a0;if(!currentEditingQuizData||!currentEditingQuizData['questions'][_0x17901d])return;const _0x865fc8=currentEditingQuizData[_0x5a9a57(0xa09)][_0x17901d][_0x5a9a57(0x931)]||currentEditingQuizData[_0x5a9a57(0xa09)][_0x17901d]['stem'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20'+(_0x17901d+0x1)+'\x20(\x22'+_0x865fc8[_0x5a9a57(0xa1e)](0x0,0x14)+_0x5a9a57(0x2dc),()=>{const _0x36afc5=_0x5a9a57;currentEditingQuizData['questions'][_0x36afc5(0xbf5)](_0x17901d,0x1),renderQuizEditor(currentEditingQuizData),showMessage('ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)');});}function handleAddQuestionInEditor(){const _0x2cfb36=_0x4b15a0;if(!currentEditingQuizData)return;const _0x3d9956={'id':'q_'+Date['now']()+'_new','questionType':_0x2cfb36(0x9c3),'questionText':'---\x20[คำถามใหม่]\x20---','options':['ตัวเลือก\x20ก','ตัวเลือก\x20ข',_0x2cfb36(0x461),'ตัวเลือก\x20ง'],'correctAnswerIndex':0x0,'explanation':_0x2cfb36(0x953)};currentEditingQuizData['questions'][_0x2cfb36(0x542)](_0x3d9956),renderQuizEditor(currentEditingQuizData);const _0x4663b9=document[_0x2cfb36(0x584)](_0x2cfb36(0x416));_0x4663b9&&(_0x4663b9[_0x2cfb36(0x874)]({'behavior':_0x2cfb36(0x45a),'block':_0x2cfb36(0x3b0)}),_0x4663b9[_0x2cfb36(0x584)](_0x2cfb36(0xab5))[_0x2cfb36(0x69d)]());}async function handleAiFixQuestion(_0xd4cfdc){const _0x24d9f2=_0x4b15a0,_0x176857=_0xd4cfdc['currentTarget'],_0x23c06f=_0x176857[_0x24d9f2(0x892)](_0x24d9f2(0x6bb));if(!_0x23c06f)return;const _0x510285=parseInt(_0x23c06f[_0x24d9f2(0x273)][_0x24d9f2(0x4c9)],0xa);if(isNaN(_0x510285)||!currentEditingQuizData['questions'][_0x510285]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x502c40=currentEditingQuizData['questions'][_0x510285];_0x176857[_0x24d9f2(0x7fc)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x176857[_0x24d9f2(0x417)]=!![];const _0x32a946=_0x24d9f2(0x1da)+JSON[_0x24d9f2(0x4d8)](_0x502c40)+_0x24d9f2(0xa74);let _0x3ad216;const _0x4e193d=_0x502c40[_0x24d9f2(0x899)]||currentEditingQuizData[_0x24d9f2(0xd68)];switch(_0x4e193d){case _0x24d9f2(0xc9f):_0x3ad216={'type':_0x24d9f2(0x4a5),'properties':{'questionText':{'type':_0x24d9f2(0x902)},'idealAnswer':{'type':_0x24d9f2(0x902)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x24d9f2(0x902)}},'required':[_0x24d9f2(0x931),_0x24d9f2(0x493),'explanation']};break;case'multiple_choice':default:_0x3ad216={'type':'OBJECT','properties':{'questionText':{'type':_0x24d9f2(0x902)},'options':{'type':_0x24d9f2(0x537),'items':{'type':_0x24d9f2(0x902)}},'correctAnswerIndex':{'type':_0x24d9f2(0x487)},'explanation':{'type':_0x24d9f2(0x902)},'imageCode':{'type':_0x24d9f2(0x902)}},'required':['questionText',_0x24d9f2(0x4d1),_0x24d9f2(0x82e),_0x24d9f2(0xe51)]};break;}try{let _0x56f929=await callAnalysisApi(_0x32a946,_0x3ad216);_0x56f929[_0x24d9f2(0x4d1)]&&Array[_0x24d9f2(0xdf2)](_0x56f929['options'])&&(_0x56f929[_0x24d9f2(0x4d1)]=_0x56f929[_0x24d9f2(0x4d1)]['map'](_0x35b904=>typeof _0x35b904==='string'?_0x35b904[_0x24d9f2(0x95b)](/S(\s*[\d_]+?\s*)S/g,_0x24d9f2(0x400)):_0x35b904)),_0x502c40[_0x24d9f2(0xe33)]&&_0x502c40[_0x24d9f2(0xe33)][_0x24d9f2(0xa36)](_0x24d9f2(0xe3b))&&(_0x56f929['imageCode']=''),currentEditingQuizData[_0x24d9f2(0xa09)][_0x510285]={..._0x502c40,..._0x56f929},renderQuizEditor(currentEditingQuizData),showMessage(_0x24d9f2(0x2c3));}catch(_0x3d2a2d){console[_0x24d9f2(0x7cd)](_0x24d9f2(0xe06),_0x3d2a2d),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x253bdd=_0x4b15a0,_0x3b338f=document[_0x253bdd(0xb9f)](_0x253bdd(0x2a9));_0x3b338f['disabled']=!![],_0x3b338f[_0x253bdd(0x7fc)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x3846f9=document[_0x253bdd(0xb9f)](_0x253bdd(0x2bd))[_0x253bdd(0x232)],_0x5c9934=document[_0x253bdd(0x3eb)]('.question-editor-item');let _0x4f9ec3=[];const _0xefab2c=Array[_0x253bdd(0x7ca)](_0x5c9934)[_0x253bdd(0xa0d)]((_0x522cf5,_0x99bc4)=>{const _0x5e71a1=_0x253bdd,_0x3be694=_0x522cf5[_0x5e71a1(0x273)][_0x5e71a1(0x862)],_0x1d7b39=_0x522cf5[_0x5e71a1(0x584)]('textarea')[_0x5e71a1(0x232)]['replace'](/\n/g,_0x5e71a1(0xea5));let _0x144277={'questionType':_0x3be694};const _0x4a1c11=currentEditingQuizData[_0x5e71a1(0xa09)][_0x99bc4];switch(_0x3be694){case _0x5e71a1(0x9c3):_0x144277[_0x5e71a1(0x931)]=_0x1d7b39;const _0x3fde79=_0x522cf5[_0x5e71a1(0x3eb)](_0x5e71a1(0xda0));_0x144277[_0x5e71a1(0x4d1)]=Array[_0x5e71a1(0x7ca)](_0x3fde79)[_0x5e71a1(0xa0d)](_0x395840=>_0x395840['value']);const _0x44f096=_0x522cf5[_0x5e71a1(0x584)](_0x5e71a1(0xca7));_0x144277[_0x5e71a1(0x82e)]=_0x44f096?parseInt(_0x44f096[_0x5e71a1(0x232)]):0x0;break;case _0x5e71a1(0xc9f):_0x144277[_0x5e71a1(0x931)]=_0x1d7b39,_0x144277['idealAnswer']=_0x522cf5[_0x5e71a1(0x584)](_0x5e71a1(0xe01))['value'];break;case _0x5e71a1(0xa29):_0x144277['questionText']=_0x1d7b39;const _0x4d90c3=_0x522cf5['querySelector'](_0x5e71a1(0xca7));_0x144277[_0x5e71a1(0x9fb)]=_0x4d90c3?_0x4d90c3[_0x5e71a1(0x232)]===_0x5e71a1(0xb18):!![];break;case _0x5e71a1(0x50f):_0x144277[_0x5e71a1(0x7fb)]=_0x1d7b39;const _0x269888=_0x522cf5[_0x5e71a1(0x584)](_0x5e71a1(0x621));_0x144277[_0x5e71a1(0xa54)]=_0x269888?_0x269888[_0x5e71a1(0x232)]:'',_0x4f9ec3[_0x5e71a1(0x542)](_0x144277[_0x5e71a1(0xa54)]);break;default:_0x144277[_0x5e71a1(0x931)]=_0x1d7b39;break;}return{..._0x4a1c11,..._0x144277};});_0x4f9ec3[_0x253bdd(0x8da)]>0x0&&_0xefab2c[_0x253bdd(0x4aa)](_0x3dffc5=>{const _0xa70147=_0x253bdd;_0x3dffc5[_0xa70147(0x899)]===_0xa70147(0x50f)&&(_0x3dffc5['allResponses']=_0x4f9ec3);});const _0x5bdd2f=currentEditingQuizData['id'],_0x5eca3e=doc(db,'artifacts/'+appId+_0x253bdd(0x671),_0x5bdd2f);await updateDoc(_0x5eca3e,{'topic':_0x3846f9,'questions':_0xefab2c}),document['getElementById']('quiz-editor-modal')[_0x253bdd(0xbd3)]['add'](_0x253bdd(0x81c)),showMessage(_0x253bdd(0x703),()=>initiateReGradeProcess(_0x5bdd2f));}catch(_0x175172){console[_0x253bdd(0x7cd)](_0x253bdd(0x7d0),_0x175172),showMessage(_0x253bdd(0x21f));}finally{_0x3b338f[_0x253bdd(0x417)]=![],_0x3b338f[_0x253bdd(0x7fc)]=_0x253bdd(0x59e);}}async function initiateReGradeProcess(_0x30143c){const _0x5cd3d3=_0x4b15a0;showMessage(_0x5cd3d3(0x9b1));try{const _0x2e26ee=doc(db,'artifacts/'+appId+_0x5cd3d3(0x671),_0x30143c),_0x25f895=await getDoc(_0x2e26ee);if(!_0x25f895[_0x5cd3d3(0x37f)]())throw new Error(_0x5cd3d3(0xad3));const _0x123adc={'id':_0x30143c,..._0x25f895[_0x5cd3d3(0x7f7)]()},_0x562d4c=collection(db,_0x5cd3d3(0xc4a)+appId+_0x5cd3d3(0x671),_0x30143c,'submissions'),_0x3b2f73=await getDocs(_0x562d4c);if(_0x3b2f73[_0x5cd3d3(0xe97)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x36b93f=_0x3b2f73[_0x5cd3d3(0x9e5)][_0x5cd3d3(0xa0d)](_0xebe47f=>reGradeSingleSubmission(_0xebe47f,_0x123adc));await Promise[_0x5cd3d3(0x2d8)](_0x36b93f);if(_0x123adc[_0x5cd3d3(0xa0f)]){const _0x145eb2=doc(db,_0x5cd3d3(0xc4a)+appId+_0x5cd3d3(0x47d),_0x123adc[_0x5cd3d3(0xa0f)]),_0x54dc21=await getDoc(_0x145eb2);if(_0x54dc21[_0x5cd3d3(0x37f)]()&&_0x54dc21[_0x5cd3d3(0x7f7)]()[_0x5cd3d3(0x813)]){const _0x252db2=_0x54dc21[_0x5cd3d3(0x7f7)]()[_0x5cd3d3(0x813)][_0x5cd3d3(0xa0d)](_0x2de790=>updateStudentProfile(_0x123adc[_0x5cd3d3(0xa0f)],_0x2de790));await Promise['all'](_0x252db2);}}showMessage(_0x5cd3d3(0xe18)+_0x3b2f73[_0x5cd3d3(0x200)]+_0x5cd3d3(0x8e7));}catch(_0x13a9b0){console[_0x5cd3d3(0x7cd)](_0x5cd3d3(0x666),_0x13a9b0),showMessage(_0x5cd3d3(0x4eb)+_0x13a9b0[_0x5cd3d3(0x81b)]);}}async function reGradeSingleSubmission(_0x47068b,_0x22ef87){const _0x2e64b6=_0x4b15a0,_0x112bb4=_0x47068b[_0x2e64b6(0x7f7)](),_0x4ab311=_0x112bb4[_0x2e64b6(0x466)],_0x52d109=_0x112bb4[_0x2e64b6(0xacb)]||[],_0x46c8e5=[];for(const _0x2cc85f of _0x52d109){let _0x104d93=0x0,_0x21b7c1=[],_0x29556d=0x0;const _0x4b01f9=[];for(const _0x34c004 of _0x2cc85f['answers']){let _0x29273e;_0x34c004['questionId']&&(_0x29273e=_0x22ef87[_0x2e64b6(0xa09)][_0x2e64b6(0x59d)](_0x4f4179=>_0x4f4179['id']===_0x34c004['questionId']));!_0x29273e&&_0x34c004[_0x2e64b6(0xa30)]&&(_0x29273e=_0x22ef87['questions'][_0x2e64b6(0x59d)](_0x2bea8f=>(_0x2bea8f[_0x2e64b6(0x7fb)]||_0x2bea8f['questionText'])===_0x34c004['originalQuestionText']));let _0x111944=![];if(_0x29273e){const _0x4dc56b=_0x29273e[_0x2e64b6(0x899)]||_0x22ef87[_0x2e64b6(0xd68)];switch(_0x4dc56b){case _0x2e64b6(0x9c3):if(_0x29273e['options']&&_0x29273e[_0x2e64b6(0x82e)]<_0x29273e['options']['length']){const _0x3de729=_0x29273e['options'][_0x29273e[_0x2e64b6(0x82e)]];_0x111944=_0x34c004[_0x2e64b6(0x771)]===_0x3de729;}break;case _0x2e64b6(0xa29):const _0x27a736=_0x34c004[_0x2e64b6(0x253)]===!![]||_0x34c004[_0x2e64b6(0x253)]===_0x2e64b6(0xb18);_0x111944=_0x27a736===_0x29273e[_0x2e64b6(0x9fb)];break;case _0x2e64b6(0x50f):_0x111944=_0x34c004[_0x2e64b6(0x253)]===_0x29273e['correctResponse'];break;case _0x2e64b6(0xc9f):_0x111944=await gradeShortAnswer(_0x34c004[_0x2e64b6(0x253)],_0x29273e);break;default:_0x111944=_0x34c004[_0x2e64b6(0x809)];break;}}if(_0x111944){_0x104d93++,_0x29556d++;if(_0x29556d===0x3)_0x21b7c1[_0x2e64b6(0x542)](BADGES[_0x2e64b6(0x93d)]['id']);}else _0x29556d=0x0;_0x4b01f9['push']({..._0x34c004,'isCorrect':_0x111944});}let _0xdaa971=_0x104d93*0xa;_0x104d93===_0x22ef87[_0x2e64b6(0xa09)][_0x2e64b6(0x8da)]&&(_0xdaa971+=0x32,_0x21b7c1[_0x2e64b6(0x542)](BADGES[_0x2e64b6(0x246)]['id'])),_0x46c8e5[_0x2e64b6(0x542)]({..._0x2cc85f,'score':_0x104d93,'points':_0xdaa971,'badges':Array[_0x2e64b6(0x7ca)](new Set(_0x21b7c1)),'answers':_0x4b01f9});}const _0x13a053=_0x46c8e5[_0x2e64b6(0x8da)]>0x0?_0x46c8e5[0x0]['score']:0x0,_0x55ecc1=Math['max'](..._0x46c8e5[_0x2e64b6(0xa0d)](_0x144746=>_0x144746[_0x2e64b6(0x7e2)])),_0x3350eb=_0x46c8e5[_0x2e64b6(0x8da)]>0x0?_0x46c8e5[_0x46c8e5[_0x2e64b6(0x8da)]-0x1][_0x2e64b6(0x7e2)]:0x0,_0x21a4d6=_0x46c8e5[_0x2e64b6(0x8da)]>0x0?_0x46c8e5[_0x46c8e5['length']-0x1][_0x2e64b6(0x2f8)]:0x0,_0x1d88f0=doc(db,_0x2e64b6(0xc4a)+appId+_0x2e64b6(0x2a1)+_0x22ef87['id']+_0x2e64b6(0xc5e),_0x4ab311);await updateDoc(_0x1d88f0,{'attempts':_0x46c8e5,'firstScore':_0x13a053,'bestScore':_0x55ecc1,'latestScore':_0x3350eb,'points':_0x21a4d6});}function cleanupQuizOptions(_0x3913d5){const _0x268715=_0x4b15a0,_0x5d3caf=(_0x5183dc,_0x3e681c)=>_0x3e681c===0x0?_0x5183dc:_0x5d3caf(_0x3e681c,_0x5183dc%_0x3e681c),_0x29c0b5=_0x2fd57a=>{const _0x5ece53=_0x33c9;if(typeof _0x2fd57a!==_0x5ece53(0xe1b))return null;_0x2fd57a=_0x2fd57a['trim']();const _0x48d695=_0x2fd57a[_0x5ece53(0x390)](/[ /]/)['filter'](_0x1e096c=>_0x1e096c!=='');if(_0x48d695['length']===0x3)return parseInt(_0x48d695[0x0])+parseInt(_0x48d695[0x1])/parseInt(_0x48d695[0x2]);else{if(_0x48d695[_0x5ece53(0x8da)]===0x2)return parseInt(_0x48d695[0x0])/parseInt(_0x48d695[0x1]);else{if(_0x48d695['length']===0x1&&!isNaN(_0x48d695[0x0]))return parseFloat(_0x48d695[0x0]);}}return null;},_0x536e10=_0x3c588f=>{const _0xc9c1f3=_0x33c9;if(typeof _0x3c588f!==_0xc9c1f3(0xe1b))return _0x3c588f;const _0x3739bf=_0x3c588f['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x3739bf){const _0x4bdeac=parseInt(_0x3739bf[0x1]);let _0x2d9478=parseInt(_0x3739bf[0x2]),_0x5ad58d=parseInt(_0x3739bf[0x3]);const _0x3d76f1=_0x5d3caf(_0x2d9478,_0x5ad58d);_0x2d9478/=_0x3d76f1,_0x5ad58d/=_0x3d76f1;if(_0x5ad58d===0x1)return(_0x4bdeac+_0x2d9478)[_0xc9c1f3(0xbb9)]();return _0x4bdeac+'\x20'+_0x2d9478+'/'+_0x5ad58d;}return _0x3c588f;};return _0x3913d5&&_0x3913d5[_0x268715(0xa09)]&&_0x3913d5[_0x268715(0xa09)][_0x268715(0x4aa)](_0x1e1703=>{const _0x1f65c8=_0x268715;if(_0x1e1703['questionType']===_0x1f65c8(0x9c3)&&_0x1e1703[_0x1f65c8(0x4d1)]){const _0x57931e=new Map(),_0x1bf68a=_0x1e1703[_0x1f65c8(0x4d1)][_0x1e1703['correctAnswerIndex']];_0x1e1703[_0x1f65c8(0x4d1)][_0x1f65c8(0x4aa)](_0x1d53d6=>{const _0x20eb4a=_0x1f65c8,_0x77a4df=_0x536e10(_0x1d53d6),_0x570488=_0x29c0b5(_0x77a4df);_0x570488!==null&&!_0x57931e['has'](_0x570488)&&_0x57931e[_0x20eb4a(0x624)](_0x570488,_0x77a4df);}),_0x1e1703['options']=Array[_0x1f65c8(0x7ca)](_0x57931e['values']());const _0x543a27=_0x1e1703[_0x1f65c8(0x4d1)]['findIndex'](_0x5d1a48=>_0x5d1a48===_0x536e10(_0x1bf68a));_0x1e1703['correctAnswerIndex']=_0x543a27!==-0x1?_0x543a27:0x0;}}),_0x3913d5;}function showGameStartConfirmationModal(_0x3abd0b,_0x11d483,_0x377ca6){const _0x4fcced=_0x4b15a0,_0x34240d=document['getElementById'](_0x4fcced(0x285));document[_0x4fcced(0xb9f)]('game-start-modal-title')[_0x4fcced(0x1d0)]=_0x4fcced(0x655)+_0x377ca6,document['getElementById']('game-start-quiz-id')[_0x4fcced(0x232)]=_0x3abd0b,document[_0x4fcced(0xb9f)](_0x4fcced(0x7ac))[_0x4fcced(0x232)]=_0x11d483,document[_0x4fcced(0xb9f)](_0x4fcced(0xa27))['checked']=!![];const _0x459a7d=document[_0x4fcced(0xb9f)](_0x4fcced(0x553)),_0x434401=document[_0x4fcced(0xb9f)](_0x4fcced(0xaa5)),_0x5b87b2=document[_0x4fcced(0xb9f)](_0x4fcced(0xde1)),_0x4184ad=document[_0x4fcced(0xb9f)](_0x4fcced(0x782));_0x11d483==='sync'?(_0x459a7d[_0x4fcced(0xbd3)]['remove'](_0x4fcced(0x81c)),document[_0x4fcced(0x584)](_0x4fcced(0x941))[_0x4fcced(0x270)]=!![],_0x434401[_0x4fcced(0x270)]=!![],_0x5b87b2[_0x4fcced(0xbd3)][_0x4fcced(0x5f4)](_0x4fcced(0x81c)),document['getElementById'](_0x4fcced(0xc78))[_0x4fcced(0x232)]=_0x4fcced(0x7ef),_0x4184ad[_0x4fcced(0xbd3)]['remove'](_0x4fcced(0x81c)),document['getElementById'](_0x4fcced(0xb9d))[_0x4fcced(0x270)]=!![]):(_0x459a7d[_0x4fcced(0xbd3)][_0x4fcced(0x72b)](_0x4fcced(0x81c)),_0x434401[_0x4fcced(0x270)]=![],_0x5b87b2[_0x4fcced(0xbd3)][_0x4fcced(0x72b)](_0x4fcced(0x81c)),_0x4184ad[_0x4fcced(0xbd3)][_0x4fcced(0x72b)]('hidden')),_0x34240d[_0x4fcced(0xbd3)][_0x4fcced(0x5f4)](_0x4fcced(0x81c));}async function saveGameResultsAsSubmissions(_0x138348){const _0x3b9ce1=_0x4b15a0;console[_0x3b9ce1(0xe84)](_0x3b9ce1(0xa06),_0x138348);const _0x1cdfe8=_0x138348[_0x3b9ce1(0x515)];let _0x5461e8=[];if(_0x138348[_0x3b9ce1(0xb9c)])_0x5461e8=Object[_0x3b9ce1(0x883)](_0x138348[_0x3b9ce1(0xb9c)])[_0x3b9ce1(0xa0d)](([_0x111b5d,_0x5132e4])=>({'name':_0x111b5d,..._0x5132e4}));else{if(_0x138348[_0x3b9ce1(0xbeb)])Object['values'](_0x138348[_0x3b9ce1(0xbeb)])[_0x3b9ce1(0x4aa)](_0x2a5b36=>{const _0x29cc07=_0x3b9ce1;_0x2a5b36[_0x29cc07(0xc42)][_0x29cc07(0x4aa)](_0x4dcdff=>{const _0x13a0ee=_0x29cc07;_0x5461e8[_0x13a0ee(0x542)]({'name':_0x4dcdff,'score':_0x2a5b36[_0x13a0ee(0x7e2)],'answers':_0x2a5b36[_0x13a0ee(0x80b)]});});});else _0x138348['responses']&&Object[_0x3b9ce1(0x883)](_0x138348[_0x3b9ce1(0xdf5)])[_0x3b9ce1(0x4aa)](([_0x39ed23,_0x49b2a3])=>{const _0x3daf9e=_0x3b9ce1;_0x5461e8[_0x3daf9e(0x542)]({'name':_0x39ed23,..._0x49b2a3});});}if(_0x5461e8['length']===0x0){console['log'](_0x3b9ce1(0xc9c));return;}const _0x4a40ec=_0x138348[_0x3b9ce1(0x38d)]?.['questions'][_0x3b9ce1(0x8da)]||currentQuizData[_0x3b9ce1(0xa09)]['length'],_0x16ef31=writeBatch(db);for(const _0x488ade of _0x5461e8){const _0x3f459d=doc(db,_0x3b9ce1(0xc4a)+appId+_0x3b9ce1(0x2a1)+_0x1cdfe8+_0x3b9ce1(0xc5e),_0x488ade['name']),_0x502d9e=(_0x488ade[_0x3b9ce1(0x80b)]||[])[_0x3b9ce1(0xce3)](_0x5587d3=>_0x5587d3[_0x3b9ce1(0x809)])[_0x3b9ce1(0x8da)];let _0x2e2a10=_0x502d9e;_0x138348[_0x3b9ce1(0xb89)]&&_0x488ade[_0x3b9ce1(0x80b)]&&_0x488ade[_0x3b9ce1(0x80b)][_0x3b9ce1(0x4aa)](_0x752f21=>{const _0xa7d915=_0x3b9ce1;if(_0x752f21[_0xa7d915(0x809)]&&(_0x752f21[_0xa7d915(0x39f)]===!![]||_0x752f21[_0xa7d915(0x39f)]===_0xa7d915(0x4df)))_0x2e2a10+=0x1;else!_0x752f21['isCorrect']&&(_0x752f21[_0xa7d915(0x39f)]===!![]||_0x752f21['wasConfident']===_0xa7d915(0x4df))&&(_0x2e2a10-=0x1);});_0x4a40ec>0x0&&_0x502d9e===_0x4a40ec&&(_0x2e2a10+=0x1);const _0x23346f={'score':_0x502d9e,'points':_0x2e2a10,'badges':_0x488ade[_0x3b9ce1(0x8ad)]||[],'submittedAt':new Date()[_0x3b9ce1(0x8f0)](),'answers':(_0x488ade[_0x3b9ce1(0x80b)]||[])[_0x3b9ce1(0xa0d)](_0x5e29af=>({'questionId':_0x5e29af[_0x3b9ce1(0x96a)],'answer':_0x5e29af[_0x3b9ce1(0x253)],'answerText':_0x5e29af['answerText'],'isCorrect':_0x5e29af[_0x3b9ce1(0x809)],'originalQuestionText':_0x5e29af[_0x3b9ce1(0xa30)],'wasConfident':_0x5e29af[_0x3b9ce1(0x39f)]}))},_0x55627e=await getDoc(_0x3f459d),_0x48e80a=_0x55627e[_0x3b9ce1(0x37f)]()?_0x55627e[_0x3b9ce1(0x7f7)]():{},_0x44a599=_0x48e80a[_0x3b9ce1(0xb96)]||0x0,_0x12cc58=_0x48e80a[_0x3b9ce1(0xacb)]||[],_0x2e03bd={'studentName':_0x488ade[_0x3b9ce1(0x757)],'totalQuestions':_0x4a40ec,'attempts':arrayUnion(_0x23346f),'latestScore':_0x502d9e,'points':_0x2e2a10,'latestSubmittedAt':_0x23346f[_0x3b9ce1(0xc27)],'bestScore':Math['max'](_0x44a599,_0x502d9e),'firstScore':_0x12cc58[_0x3b9ce1(0x8da)]===0x0?_0x502d9e:_0x48e80a[_0x3b9ce1(0x898)]||0x0};_0x16ef31['set'](_0x3f459d,_0x2e03bd,{'merge':!![]});}try{await _0x16ef31[_0x3b9ce1(0x644)](),showMessage(_0x3b9ce1(0x6f4)+_0x5461e8[_0x3b9ce1(0x8da)]+_0x3b9ce1(0x6f7));const _0x38fa89=_0x138348[_0x3b9ce1(0x38d)]?.[_0x3b9ce1(0xa0f)]||currentQuizData?.['projectId']||currentProjectId;if(_0x38fa89){const _0xd6d9bd=[...new Set(_0x5461e8[_0x3b9ce1(0xa0d)](_0x8f5360=>_0x8f5360[_0x3b9ce1(0x757)]))];for(const _0x96a5f3 of _0xd6d9bd){await updateStudentProfile(_0x38fa89,_0x96a5f3);}}}catch(_0xa81b70){console[_0x3b9ce1(0x7cd)](_0x3b9ce1(0x455),_0xa81b70),showMessage(_0x3b9ce1(0xe8e));}}async function saveQuiz(_0x2d06dc=null,_0x81dcbe=null){const _0x4f8cf7=_0x4b15a0,_0x5490fe=_0x2d06dc||currentProjectId;if(!_0x5490fe){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0xe8e6cf=document[_0x4f8cf7(0xb9f)](_0x4f8cf7(0x8e5));_0xe8e6cf[_0x4f8cf7(0x417)]=!![],_0xe8e6cf[_0x4f8cf7(0x7fc)]=_0x4f8cf7(0x4e6);const _0x49863b=document[_0x4f8cf7(0xb9f)](_0x4f8cf7(0xedd))['checked'];let _0x45affe=document[_0x4f8cf7(0xb9f)]('editable-quiz-topic')[_0x4f8cf7(0x649)][_0x4f8cf7(0xbdc)]();_0x49863b&&!_0x45affe['startsWith'](_0x4f8cf7(0x2f7))&&(_0x45affe='(ก่อนเรียน)\x20'+_0x45affe);try{const _0x4bbbae={'resultsDisplay':document['getElementById'](_0x4f8cf7(0xb8b))[_0x4f8cf7(0x232)],'shuffle':document[_0x4f8cf7(0xb9f)](_0x4f8cf7(0xeaf))[_0x4f8cf7(0x232)],'timerMode':document[_0x4f8cf7(0xb9f)](_0x4f8cf7(0x85d))['value'],'timerDuration':parseInt(document[_0x4f8cf7(0xb9f)]('timer-duration-input')[_0x4f8cf7(0x232)])||0xa,'passingScore':parseInt(document[_0x4f8cf7(0xb9f)]('passing-score-input')[_0x4f8cf7(0x232)])||0x0,'isAdaptive':document[_0x4f8cf7(0xb9f)]('adaptive-quiz-checkbox')[_0x4f8cf7(0x270)],'loopUntilPass':document[_0x4f8cf7(0xb9f)]('loop-until-pass-checkbox')[_0x4f8cf7(0x270)]},_0x20c822=(currentQuizData['questions']||[])[_0x4f8cf7(0xa0d)]((_0x288182,_0x3e3b15)=>{const _0x24f322=_0x4f8cf7,_0x1f791e=document[_0x24f322(0xb9f)](_0x24f322(0x928))['value'],_0x12f527={'id':'q_'+Date[_0x24f322(0xb38)]()+'_'+_0x3e3b15,'questionText':_0x288182[_0x24f322(0x931)]||'','explanation':_0x288182[_0x24f322(0xe51)]||_0x24f322(0xc86),'questionType':_0x288182[_0x24f322(0x899)]||_0x1f791e,'imageCode':_0x288182[_0x24f322(0xe33)]||null};return(_0x12f527[_0x24f322(0x899)]==='multiple_choice'||_0x12f527[_0x24f322(0x899)]===_0x24f322(0xe8c)||_0x12f527[_0x24f322(0x899)]===_0x24f322(0xcaf)&&_0x288182[_0x24f322(0x4d1)])&&(_0x12f527[_0x24f322(0x4d1)]=_0x288182[_0x24f322(0x4d1)]||[],_0x12f527['correctAnswerIndex']=_0x288182[_0x24f322(0x82e)]!==undefined?_0x288182[_0x24f322(0x82e)]:0x0),(_0x12f527[_0x24f322(0x899)]===_0x24f322(0xc9f)||_0x12f527['questionType']===_0x24f322(0xb63)||_0x12f527[_0x24f322(0x899)]===_0x24f322(0xcaf)&&_0x288182[_0x24f322(0x493)])&&(_0x12f527[_0x24f322(0x493)]=_0x288182[_0x24f322(0x493)]||''),_0x12f527['questionType']===_0x24f322(0xa29)&&(_0x12f527[_0x24f322(0x9fb)]=_0x288182[_0x24f322(0x9fb)]===!![]),_0x12f527[_0x24f322(0x899)]===_0x24f322(0x50f)&&(_0x12f527[_0x24f322(0x7fb)]=_0x288182[_0x24f322(0x7fb)]||'',_0x12f527[_0x24f322(0xa54)]=_0x288182[_0x24f322(0xa54)]||'',_0x12f527[_0x24f322(0x816)]=_0x288182[_0x24f322(0x816)]||[]),_0x12f527;}),_0x91885b={'topic':_0x45affe,'quizType':currentQuizData[_0x4f8cf7(0xd68)]||'multiple_choice','questions':_0x20c822,'projectId':_0x5490fe,'createdBy':userId,'createdAt':new Date()[_0x4f8cf7(0x8f0)](),'status':'active','settings':_0x4bbbae,'quizMode':_0x49863b?'pre-test':_0x4f8cf7(0x283),'pairedQuizId':null,'lessonPlan':null};let _0x2f59e2;while(!![]){_0x2f59e2=Math[_0x4f8cf7(0x426)](0x3e8+Math[_0x4f8cf7(0x7c9)]()*0x2328)[_0x4f8cf7(0xbb9)]();const _0x13c4eb=await getDoc(doc(db,_0x4f8cf7(0xc4a)+appId+_0x4f8cf7(0x671),_0x2f59e2));if(!_0x13c4eb[_0x4f8cf7(0x37f)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0x4f8cf7(0x671),_0x2f59e2),_0x91885b);if(_0x81dcbe&&currentBlueprintProjectId){console[_0x4f8cf7(0xe84)](_0x4f8cf7(0x2b8)+_0x2f59e2+_0x4f8cf7(0x382)+_0x81dcbe);try{const _0x424791=doc(db,_0x4f8cf7(0xc4a)+appId+_0x4f8cf7(0x963),currentBlueprintProjectId);await updateDoc(_0x424791,{[_0x4f8cf7(0x49e)+_0x81dcbe+_0x4f8cf7(0xd00)]:arrayUnion(_0x2f59e2)});}catch(_0x85f75a){console['error'](_0x4f8cf7(0xbc7),_0x85f75a);}}currentQuizData['settings']=_0x4bbbae,currentQuizData['id']=_0x2f59e2;const _0x2f70c1=document[_0x4f8cf7(0xb9f)](_0x4f8cf7(0xcbf));_0x2f70c1['innerHTML']=_0x4f8cf7(0x7bb)+_0x2f59e2+_0x4f8cf7(0xd7a),document[_0x4f8cf7(0xb9f)](_0x4f8cf7(0xd74))[_0x4f8cf7(0x95a)](_0x4f8cf7(0xd6c),()=>copyTextToClipboard(_0x2f59e2,_0x4f8cf7(0x7a9))),document[_0x4f8cf7(0xb9f)]('start-live-race-generated-btn')[_0x4f8cf7(0x95a)](_0x4f8cf7(0xd6c),()=>handleStartLiveRace(_0x2f59e2)),document['getElementById']('start-presentation-btn')[_0x4f8cf7(0x95a)](_0x4f8cf7(0xd6c),()=>startPresentation(currentQuizData)),document[_0x4f8cf7(0xb9f)]('admin-try-quiz-btn')[_0x4f8cf7(0x95a)]('click',startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x34ee6b){console[_0x4f8cf7(0x7cd)]('Error\x20saving\x20quiz:',_0x34ee6b),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0xe8e6cf[_0x4f8cf7(0x417)]=![],_0xe8e6cf['innerHTML']=_0x4f8cf7(0x947);}}function promptForProjectAndSave(){const _0x9d1c37=_0x4b15a0,_0x343acd=document['getElementById'](_0x9d1c37(0x46c)),_0x4ff187=document[_0x9d1c37(0xb9f)](_0x9d1c37(0xccd)),_0x1c2c65=_0x343acd[_0x9d1c37(0x584)]('h3'),_0x5e41ed=document[_0x9d1c37(0xb9f)](_0x9d1c37(0xa91));_0x1c2c65['textContent']=_0x9d1c37(0xd55),_0x5e41ed[_0x9d1c37(0x1d0)]=_0x9d1c37(0xd9d);allProjects[_0x9d1c37(0x8da)]===0x0?(_0x4ff187['innerHTML']=_0x9d1c37(0x42a),_0x5e41ed[_0x9d1c37(0x417)]=!![]):(_0x4ff187[_0x9d1c37(0x7fc)]=allProjects[_0x9d1c37(0xa0d)](_0x553931=>'<option\x20value=\x22'+_0x553931['id']+'\x22>'+_0x553931[_0x9d1c37(0x6b1)]+_0x9d1c37(0x36b))[_0x9d1c37(0x510)](''),_0x5e41ed[_0x9d1c37(0x417)]=![]);_0x343acd['classList']['remove']('hidden');const _0xfed566=()=>{const _0x4fcd2a=_0x9d1c37,_0x4794e0=_0x4ff187[_0x4fcd2a(0x232)];_0x4794e0?(currentProjectId=_0x4794e0,_0x343acd[_0x4fcd2a(0xbd3)]['add'](_0x4fcd2a(0x81c)),saveQuiz(),_0x1c2c65[_0x4fcd2a(0x1d0)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x5e41ed[_0x4fcd2a(0x1d0)]='ย้าย',_0x5e41ed[_0x4fcd2a(0x28b)]('click',_0xfed566),_0x5e41ed[_0x4fcd2a(0x95a)](_0x4fcd2a(0xd6c),confirmMoveQuiz)):showMessage(_0x4fcd2a(0x9f4));};_0x5e41ed[_0x9d1c37(0x28b)]('click',confirmMoveQuiz),_0x5e41ed[_0x9d1c37(0x95a)]('click',_0xfed566);}function copyTextToClipboard(_0x30c424,_0x55578b){const _0x465455=_0x4b15a0,_0x26f749=document['createElement']('textarea');_0x26f749[_0x465455(0x232)]=_0x30c424,_0x26f749[_0x465455(0x8b5)][_0x465455(0x74c)]=_0x465455(0x2bb),_0x26f749[_0x465455(0x8b5)][_0x465455(0x6d5)]='0',document[_0x465455(0xecd)]['appendChild'](_0x26f749),_0x26f749['focus'](),_0x26f749[_0x465455(0xbd1)]();try{const _0x312f29=document[_0x465455(0xb0a)](_0x465455(0xe74));showMessage(_0x312f29?_0x55578b:_0x465455(0xb6b));}catch(_0x46e5c0){showMessage(_0x465455(0xb6b)),console[_0x465455(0x7cd)](_0x465455(0x8ab),_0x46e5c0);}document[_0x465455(0xecd)][_0x465455(0xba9)](_0x26f749);}function listenForProjectQuizzes(_0x15a751){const _0x2ba443=_0x4b15a0,_0x572808=collection(db,_0x2ba443(0xc4a)+appId+'/public/data/quizzes'),_0x4daba2=query(_0x572808,where(_0x2ba443(0xa0f),'==',_0x15a751));unsubscribeQuizzesListener=onSnapshot(_0x4daba2,async _0x21a6af=>{const _0x5f7398=_0x2ba443;allQuizzes=_0x21a6af['docs'][_0x5f7398(0xa0d)](_0x590ffb=>({'id':_0x590ffb['id'],..._0x590ffb[_0x5f7398(0x7f7)]()})),renderQuizzes();},_0x327560=>{const _0x5d1ac3=_0x2ba443;console[_0x5d1ac3(0x7cd)](_0x5d1ac3(0x505),_0x327560),document[_0x5d1ac3(0xb9f)]('project-quizzes-list')[_0x5d1ac3(0x7fc)]=_0x5d1ac3(0xcc6);});}async function renderQuizzes(){const _0x67f3c5=_0x4b15a0,_0x2e1973=document[_0x67f3c5(0xb9f)](_0x67f3c5(0xddf)),_0x2a947f=document[_0x67f3c5(0xb9f)](_0x67f3c5(0xc46))['value'][_0x67f3c5(0x724)]();let _0x591f1e;currentProjectId==='starred'?_0x591f1e=starredQuizzes:_0x591f1e=allQuizzes;let _0x3b45be=_0x591f1e[_0x67f3c5(0xce3)](_0x3ec10b=>_0x3ec10b[_0x67f3c5(0x257)]['toLowerCase']()['includes'](_0x2a947f));_0x3b45be[_0x67f3c5(0x8c7)]((_0x3cc44a,_0x54122d)=>new Date(_0x54122d[_0x67f3c5(0x3df)])-new Date(_0x3cc44a[_0x67f3c5(0x3df)]));if(_0x3b45be[_0x67f3c5(0x8da)]===0x0){_0x2e1973[_0x67f3c5(0x7fc)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x5b1219={},_0x2c2be8=_0x3b45be[_0x67f3c5(0xa0d)](async _0x55d665=>{const _0x30d257=_0x67f3c5,_0x5a83ee=collection(db,_0x30d257(0xc4a)+appId+'/public/data/quizzes/'+_0x55d665['id']+_0x30d257(0xc5e)),_0x4958d0=await getDocs(_0x5a83ee);_0x5b1219[_0x55d665['id']]=_0x4958d0[_0x30d257(0x200)];});await Promise[_0x67f3c5(0x2d8)](_0x2c2be8);let _0x2035f2='';_0x3b45be[_0x67f3c5(0x4aa)](_0x442a34=>{const _0x1085bd=_0x67f3c5,_0x45e99a=_0x5b1219[_0x442a34['id']]||0x0,_0x812a77=_0x442a34[_0x1085bd(0x58b)]||_0x1085bd(0x329),_0x8acee4=_0x442a34[_0x1085bd(0x879)]?.['timerMode']||_0x1085bd(0xbae);let _0x3e65ce='',_0x4675cb='';const _0x18095a=new Date();let _0x188f60=_0x812a77;if(_0x812a77===_0x1085bd(0x7c7)){const _0x48483b=_0x442a34['startTime']?new Date(_0x442a34[_0x1085bd(0x6e9)]):null,_0x208946=_0x442a34['endTime']?new Date(_0x442a34['endTime']):null;if(_0x208946&&_0x18095a>_0x208946)_0x188f60=_0x1085bd(0x615);else _0x48483b&&_0x18095a<_0x48483b?_0x188f60=_0x1085bd(0x451):_0x188f60=_0x1085bd(0x329);}switch(_0x188f60){case _0x1085bd(0x615):_0x3e65ce=_0x1085bd(0x534),_0x4675cb=_0x1085bd(0xa23);break;case'scheduled_pending':_0x3e65ce=_0x1085bd(0x422),_0x4675cb=_0x1085bd(0x308);break;case'active':_0x3e65ce=_0x8acee4!==_0x1085bd(0xbae)?_0x1085bd(0x207):_0x1085bd(0x5c8),_0x4675cb=_0x1085bd(0xb85);break;default:_0x3e65ce='ตั้งเวลา\x20(เปิด)',_0x4675cb=_0x1085bd(0xb85);break;}let _0x463226='';const _0xf977fd={'day':_0x1085bd(0xe5e),'month':_0x1085bd(0xe5e),'year':_0x1085bd(0x34c),'hour':'2-digit','minute':_0x1085bd(0xe5e),'hour12':![]};if(_0x812a77===_0x1085bd(0x7c7)){if(_0x442a34['startTime'])_0x463226+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x442a34[_0x1085bd(0x6e9)])[_0x1085bd(0xaab)](_0x1085bd(0xa01),_0xf977fd)+_0x1085bd(0xe43);if(_0x442a34[_0x1085bd(0x996)])_0x463226+=_0x1085bd(0xca5)+new Date(_0x442a34[_0x1085bd(0x996)])[_0x1085bd(0xaab)]('th-TH',_0xf977fd)+_0x1085bd(0xe43);}let _0x339809='';if(_0x442a34['pairedQuizId']){const _0x3b95a3=allQuizzes[_0x1085bd(0x59d)](_0x3feb64=>_0x3feb64['id']===_0x442a34[_0x1085bd(0xb24)]);if(_0x3b95a3){let _0x3e3609,_0x33675a;new Date(_0x442a34[_0x1085bd(0x3df)])<new Date(_0x3b95a3[_0x1085bd(0x3df)])?(_0x3e3609=_0x442a34['id'],_0x33675a=_0x3b95a3['id']):(_0x3e3609=_0x3b95a3['id'],_0x33675a=_0x442a34['id']),_0x339809+=_0x1085bd(0x632)+_0x33675a+'\x22\x20data-pre-test-id=\x22'+_0x3e3609+_0x1085bd(0xda3);}}else _0x442a34[_0x1085bd(0x7d6)]===_0x1085bd(0xb6d)&&(_0x339809+=_0x1085bd(0xd6e)+_0x442a34['id']+_0x1085bd(0x7de));if(_0x442a34[_0x1085bd(0x7d6)]==='pre-test'&&_0x45e99a>0x0)_0x339809+=_0x1085bd(0xd6e)+_0x442a34['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x442a34[_0x1085bd(0xb24)]&&_0x442a34[_0x1085bd(0x7d6)]!==_0x1085bd(0xb6d)&&_0x45e99a>0x0&&(_0x339809+=_0x1085bd(0xd6e)+_0x442a34['id']+_0x1085bd(0xa1a));let _0x1ca283='';_0x442a34[_0x1085bd(0xb24)]?_0x1ca283=_0x1085bd(0x3b6)+_0x442a34['id']+_0x1085bd(0x2c5):_0x1ca283=_0x1085bd(0x3b6)+_0x442a34['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x2035f2+=_0x1085bd(0x2d6)+_0x442a34['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x442a34['topic']+_0x1085bd(0xb8d)+_0x442a34['questions']['length']+_0x1085bd(0xc31)+new Date(_0x442a34['createdAt'])[_0x1085bd(0xaab)]('th-TH')+_0x1085bd(0xa02)+_0x45e99a+_0x1085bd(0x49d)+_0x463226+_0x1085bd(0xdd2)+_0x4675cb+'\x22>'+_0x3e65ce+_0x1085bd(0xad9)+_0x442a34['id']+_0x1085bd(0x9e4)+_0x442a34['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x442a34['isStarred']?_0x1085bd(0x8a5):_0x1085bd(0x77d))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x339809+_0x1085bd(0xa8b)+_0x442a34['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x442a34['id']+_0x1085bd(0x48a)+_0x442a34['id']+_0x1085bd(0x92c)+_0x442a34['id']+_0x1085bd(0x5e2)+_0x442a34['id']+_0x1085bd(0xc59)+_0x442a34['id']+_0x1085bd(0xe3a)+_0x442a34['id']+_0x1085bd(0xbdb)+_0x442a34[_0x1085bd(0x257)]+_0x1085bd(0xd2e)+_0x442a34['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x442a34['id']+_0x1085bd(0x1c1)+_0x1ca283+_0x1085bd(0x2de)+_0x442a34['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x442a34['id']+_0x1085bd(0x90e)+_0x442a34['id']+_0x1085bd(0xcf6)+_0x442a34['id']+_0x1085bd(0x6ea)+_0x442a34['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x442a34['id']+_0x1085bd(0xdeb)+_0x442a34['id']+_0x1085bd(0x9e8)+_0x442a34['id']+_0x1085bd(0xbdb)+_0x442a34[_0x1085bd(0x257)]+_0x1085bd(0x2f0)+_0x442a34['id']+_0x1085bd(0xe0c);}),_0x2e1973['innerHTML']=_0x2035f2,document[_0x67f3c5(0x3eb)](_0x67f3c5(0xdbd))['forEach'](_0x2262f1=>{const _0x3fab90=_0x67f3c5;_0x2262f1[_0x3fab90(0x95a)](_0x3fab90(0xd6c),()=>{const _0x52bebe=_0x3fab90,_0x24cf27=_0x2262f1[_0x52bebe(0x273)]['quizId'];showQuizDetailView(_0x24cf27);});});}async function handleUnpairQuiz(_0x1f5a90){const _0x42355f=_0x4b15a0,_0x2ae942=allQuizzes[_0x42355f(0x59d)](_0x4f724e=>_0x4f724e['id']===_0x1f5a90);if(!_0x2ae942||!_0x2ae942[_0x42355f(0xb24)]){showMessage(_0x42355f(0x576));return;}showConfirmation(_0x42355f(0xdc3),async()=>{const _0x374f72=_0x42355f;try{const _0x335983=doc(db,_0x374f72(0xc4a)+appId+_0x374f72(0x671),_0x1f5a90),_0x18cf18=doc(db,_0x374f72(0xc4a)+appId+'/public/data/quizzes',_0x2ae942[_0x374f72(0xb24)]),_0x15ffe3=writeBatch(db);_0x15ffe3[_0x374f72(0x86a)](_0x335983,{'pairedQuizId':null}),_0x15ffe3['update'](_0x18cf18,{'pairedQuizId':null}),await _0x15ffe3[_0x374f72(0x644)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x34842c){console[_0x374f72(0x7cd)]('Error\x20unpairing\x20quizzes:',_0x34842c),showMessage(_0x374f72(0xa80));}});}function formatAndPrintLessonPlan(_0x49cb9d,_0x284987){const _0x1bc307=_0x4b15a0,_0x1ac3be=window[_0x1bc307(0xb03)]('','_blank'),_0x34c0b2=_0x1bc307(0x535)+_0x284987['topic']+_0x1bc307(0x2fc)+_0x284987[_0x1bc307(0x257)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49cb9d[_0x1bc307(0x29d)]['map'](_0x5ee959=>_0x1bc307(0xd47)+_0x5ee959+'</li>')[_0x1bc307(0x510)]('')+_0x1bc307(0xd78)+_0x49cb9d['teachingContent']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49cb9d[_0x1bc307(0xeb1)][_0x1bc307(0xa0d)](_0x2bccbb=>_0x1bc307(0x2cf)+_0x2bccbb[_0x1bc307(0x9b0)]+_0x1bc307(0x438)+_0x2bccbb['solution']+_0x1bc307(0x458))[_0x1bc307(0x510)]('')+_0x1bc307(0x843);_0x1ac3be[_0x1bc307(0x988)]['write'](_0x34c0b2),_0x1ac3be[_0x1bc307(0x988)]['close'](),_0x1ac3be['onload']=function(){setTimeout(()=>{_0x1ac3be['print']();},0x3e8);};}async function handleAiFixFormula(_0x78c4fa){const _0x134021=_0x4b15a0,_0x27e22b=document[_0x134021(0x584)]('.question-editor-item[data-q-index=\x22'+_0x78c4fa+'\x22]');if(!_0x27e22b)return;const _0x29d5e0=_0x27e22b[_0x134021(0x273)][_0x134021(0x862)],_0x3ccddc=_0x27e22b[_0x134021(0x584)]('.ai-fix-formula-btn');let _0x1814b9={'question':_0x27e22b[_0x134021(0x584)](_0x134021(0xab5))[_0x134021(0x232)]};switch(_0x29d5e0){case _0x134021(0x9c3):_0x1814b9[_0x134021(0x4d1)]=Array[_0x134021(0x7ca)](_0x27e22b[_0x134021(0x3eb)](_0x134021(0xda0)))[_0x134021(0xa0d)](_0x377bcc=>_0x377bcc[_0x134021(0x232)]);break;case _0x134021(0xc9f):_0x1814b9[_0x134021(0x493)]=_0x27e22b[_0x134021(0x584)](_0x134021(0xe01))[_0x134021(0x232)];break;case'matching_item':_0x1814b9[_0x134021(0xa54)]=_0x27e22b['querySelector'](_0x134021(0x621))[_0x134021(0x232)];break;}_0x3ccddc[_0x134021(0x7fc)]=_0x134021(0x864),_0x3ccddc[_0x134021(0x417)]=!![];try{const _0x2630c3=_0x134021(0x8dd)+JSON[_0x134021(0x4d8)](_0x1814b9)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x318664={'type':'OBJECT','properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x134021(0x902)},'options':{'type':_0x134021(0x537),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x134021(0x902)},'correctResponse':{'type':_0x134021(0x902)}},'required':[_0x134021(0x9b0)]}},'required':[_0x134021(0x8a0)]},_0x9bda6c=await callAnalysisApi(_0x2630c3,_0x318664);if(_0x9bda6c&&_0x9bda6c[_0x134021(0x8a0)]){const _0x5da5ec=_0x9bda6c[_0x134021(0x8a0)];_0x27e22b[_0x134021(0x584)](_0x134021(0xab5))[_0x134021(0x232)]=_0x5da5ec[_0x134021(0x9b0)]||_0x1814b9[_0x134021(0x9b0)];switch(_0x29d5e0){case _0x134021(0x9c3):_0x5da5ec[_0x134021(0x4d1)]&&_0x5da5ec[_0x134021(0x4d1)][_0x134021(0x8da)]>0x0&&_0x27e22b[_0x134021(0x3eb)]('input[type=\x22text\x22]')['forEach']((_0x4eba75,_0x8052d0)=>{const _0x512a5b=_0x134021;_0x4eba75[_0x512a5b(0x232)]=_0x5da5ec[_0x512a5b(0x4d1)][_0x8052d0]||_0x1814b9[_0x512a5b(0x4d1)][_0x8052d0];});break;case _0x134021(0xc9f):_0x27e22b[_0x134021(0x584)](_0x134021(0xe01))['value']=_0x5da5ec['idealAnswer']||_0x1814b9[_0x134021(0x493)];break;case _0x134021(0x50f):_0x27e22b[_0x134021(0x584)](_0x134021(0x621))[_0x134021(0x232)]=_0x5da5ec[_0x134021(0xa54)]||_0x1814b9[_0x134021(0xa54)];break;}if(_0x1814b9['question']!==_0x5da5ec['question'])try{const _0x2fef63=collection(db,_0x134021(0xc4a)+appId+'/public/data/learnedFixes');await addDoc(_0x2fef63,{'broken':_0x1814b9[_0x134021(0x9b0)],'fixed':_0x5da5ec[_0x134021(0x9b0)],'createdAt':serverTimestamp()});}catch(_0x29fe2b){console[_0x134021(0x7cd)](_0x134021(0x33b),_0x29fe2b);}showMessage(_0x134021(0x8d6));}else throw new Error(_0x134021(0xa34));}catch(_0x1e5c78){console['error'](_0x134021(0x92b),_0x1e5c78),showMessage(_0x134021(0x98a));}finally{_0x3ccddc[_0x134021(0x7fc)]=_0x134021(0xb93),_0x3ccddc[_0x134021(0x417)]=![];}}async function handleGenerateLessonPlan(_0x12cce3){const _0x78a1c5=_0x4b15a0;showMessage(_0x78a1c5(0x3d3));try{const _0x2c4901=doc(db,_0x78a1c5(0xc4a)+appId+_0x78a1c5(0x671),_0x12cce3),_0x19a097=await getDoc(_0x2c4901);if(!_0x19a097[_0x78a1c5(0x37f)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x3cb110={'id':_0x12cce3,..._0x19a097[_0x78a1c5(0x7f7)]()},_0x10ba50=collection(db,_0x78a1c5(0xc4a)+appId+_0x78a1c5(0x671),_0x12cce3,_0x78a1c5(0x8d8)),_0x54839e=await getDocs(_0x10ba50),_0x37abea=_0x54839e[_0x78a1c5(0x9e5)][_0x78a1c5(0xa0d)](_0x5d5814=>_0x5d5814[_0x78a1c5(0x7f7)]());if(_0x37abea[_0x78a1c5(0x8da)]===0x0)throw new Error(_0x78a1c5(0xca8));const _0x464d85=calculateItemAnalysis(_0x3cb110,_0x37abea)[_0x78a1c5(0x9d0)],_0x28dacd=calculateDistractorAnalysis(_0x3cb110,_0x37abea),_0x2eb62a=_0x40070e=>{const _0x101e9c=_0x78a1c5;if(!_0x40070e)return'';return _0x40070e[_0x101e9c(0x95b)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0x101e9c(0x95b)](/\n/g,'\x5cn');};let _0x45501e=_0x78a1c5(0x838);_0x3cb110['questions'][_0x78a1c5(0x4aa)]((_0x2bed63,_0x5210ef)=>{const _0x569c4c=_0x78a1c5,_0x266f4c=_0x464d85[_0x5210ef]?.['p'][_0x569c4c(0x63d)](0x2)||_0x569c4c(0xd35),_0x206461=_0x464d85[_0x5210ef]?.['r']['toFixed'](0x2)||_0x569c4c(0xd35),_0x5085b9=_0x2eb62a(_0x2bed63['questionText']||_0x2bed63[_0x569c4c(0x7fb)]);_0x45501e+=_0x569c4c(0x73c)+(_0x5210ef+0x1)+'\x20(p='+_0x266f4c+_0x569c4c(0x686)+_0x206461+_0x569c4c(0xc4d)+_0x5085b9+'\x5cn';if(_0x2bed63['questionType']===_0x569c4c(0x9c3)&&_0x28dacd[_0x5210ef]){const _0xfd1894=_0x28dacd[_0x5210ef],_0x14b8f7=Object['keys'](_0xfd1894)[_0x569c4c(0xce3)](_0x7a8731=>parseInt(_0x7a8731)!==_0x2bed63[_0x569c4c(0x82e)])[_0x569c4c(0x8c7)]((_0x298e4a,_0x24d3c5)=>_0xfd1894[_0x24d3c5][_0x569c4c(0x787)]-_0xfd1894[_0x298e4a][_0x569c4c(0x787)])[0x0];if(_0x14b8f7&&_0xfd1894[_0x14b8f7][_0x569c4c(0x787)]>0x0){const _0x510c9f=_0x2eb62a(_0xfd1894[_0x14b8f7][_0x569c4c(0x9ad)]);_0x45501e+=_0x569c4c(0x84e)+_0x510c9f+_0x569c4c(0x6d6);}}});const _0x3573e6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x3cb110[_0x78a1c5(0x257)]+_0x78a1c5(0x263)+_0x45501e+_0x78a1c5(0xb79),_0x3a9fab={'type':_0x78a1c5(0x4a5),'properties':{'learningGaps':{'type':_0x78a1c5(0x537),'items':{'type':_0x78a1c5(0x902)}},'teachingContent':{'type':_0x78a1c5(0x902)},'practiceProblems':{'type':_0x78a1c5(0x537),'items':{'type':_0x78a1c5(0x4a5),'properties':{'question':{'type':_0x78a1c5(0x902)},'solution':{'type':_0x78a1c5(0x902)}}}}},'required':[_0x78a1c5(0x29d),_0x78a1c5(0x5d9),_0x78a1c5(0xeb1)]},_0x30ae47=await callAnalysisApi(_0x3573e6,_0x3a9fab);await updateDoc(_0x2c4901,{'lessonPlan':_0x30ae47});const _0x20644f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x3cb110[_0x78a1c5(0x257)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x30ae47[_0x78a1c5(0x29d)]['map'](_0x125537=>_0x78a1c5(0xd47)+_0x125537+_0x78a1c5(0xde0))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x30ae47['teachingContent']+_0x78a1c5(0x2af)+_0x30ae47[_0x78a1c5(0xeb1)]['map'](_0x3132b9=>_0x78a1c5(0x8cc)+_0x3132b9[_0x78a1c5(0x9b0)]+_0x78a1c5(0xd62)+_0x3132b9[_0x78a1c5(0xd5d)]+_0x78a1c5(0x721))[_0x78a1c5(0x510)]('')+_0x78a1c5(0xd31);document['getElementById'](_0x78a1c5(0x871))[_0x78a1c5(0x1d0)]='แผนการสอน:\x20'+_0x3cb110['topic'],document['getElementById'](_0x78a1c5(0x8e8))[_0x78a1c5(0x7fc)]=_0x20644f,document[_0x78a1c5(0xb9f)](_0x78a1c5(0x74b))[_0x78a1c5(0xbd3)]['remove']('hidden');if(window['MathJax'])MathJax[_0x78a1c5(0xbce)]();messageModal['classList'][_0x78a1c5(0x72b)]('hidden');}catch(_0x492290){console[_0x78a1c5(0x7cd)](_0x78a1c5(0xda2),_0x492290),showMessage('เกิดข้อผิดพลาด:\x20'+_0x492290[_0x78a1c5(0x81b)]);}}async function handleDuplicateQuiz(_0x3b9134){const _0x1eef3f=_0x4b15a0;try{const _0x453afe=doc(db,_0x1eef3f(0xc4a)+appId+_0x1eef3f(0x671),_0x3b9134),_0x1acbb2=await getDoc(_0x453afe);if(_0x1acbb2[_0x1eef3f(0x37f)]()){const _0x3df97c=_0x1acbb2['data']();let _0x268d4b='',_0x1858db=_0x1eef3f(0x283),_0x482810=null;if(_0x3df97c[_0x1eef3f(0x7d6)]===_0x1eef3f(0xb6d)){let _0xe73c79=_0x3df97c[_0x1eef3f(0x257)][_0x1eef3f(0x95b)]('(ก่อนเรียน)','')['trim']();_0x268d4b=_0x1eef3f(0x79d)+_0xe73c79,_0x1858db=_0x1eef3f(0x361),_0x482810=_0x3b9134;}else _0x268d4b=_0x1eef3f(0xcdd)+_0x3df97c[_0x1eef3f(0x257)];const _0x28a7f5={..._0x3df97c,'topic':_0x268d4b,'createdAt':new Date()[_0x1eef3f(0x8f0)](),'quizMode':_0x1858db,'pairedQuizId':_0x482810};let _0x105455;while(!![]){_0x105455=Math[_0x1eef3f(0x426)](0x3e8+Math[_0x1eef3f(0x7c9)]()*0x2328)[_0x1eef3f(0xbb9)]();const _0xda9da7=await getDoc(doc(db,'artifacts/'+appId+_0x1eef3f(0x671),_0x105455));if(!_0xda9da7[_0x1eef3f(0x37f)]())break;}const _0x5d39d0=doc(db,'artifacts/'+appId+_0x1eef3f(0x671),_0x105455);await setDoc(_0x5d39d0,_0x28a7f5),_0x28a7f5['quizMode']===_0x1eef3f(0x361)&&await updateDoc(_0x453afe,{'pairedQuizId':_0x105455}),showMessage(_0x1eef3f(0x830));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x5bf2e3){console[_0x1eef3f(0x7cd)](_0x1eef3f(0xb50),_0x5bf2e3),showMessage(_0x1eef3f(0x65a));}}async function handleDeleteQuiz(_0x360124,_0x56632c=!![]){const _0x339733=_0x4b15a0;try{const _0x17972e=writeBatch(db),_0x1483b9=collection(db,'artifacts/'+appId+_0x339733(0x2a1)+_0x360124+'/submissions'),_0x4e6546=await getDocs(_0x1483b9);_0x4e6546[_0x339733(0x4aa)](_0x529a7b=>{_0x17972e['delete'](doc(_0x1483b9,_0x529a7b['id']));});const _0x4d7c6f=doc(db,_0x339733(0xc4a)+appId+_0x339733(0x671),_0x360124);_0x17972e[_0x339733(0xe52)](_0x4d7c6f),await _0x17972e[_0x339733(0x644)]();try{console[_0x339733(0xe84)]('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x360124+'\x20in\x20all\x20blueprint\x20projects.');const _0x1f8e77=collection(db,'artifacts/'+appId+_0x339733(0x963)),_0x289d67=await getDocs(_0x1f8e77),_0x24a92c=[];_0x289d67[_0x339733(0x4aa)](_0x2e565f=>{const _0x132866=_0x339733,_0x256c23=_0x2e565f[_0x132866(0x7f7)](),_0x204ef3=_0x256c23[_0x132866(0xb27)]||{};let _0x2c205e=![];for(const _0x5e6f59 in _0x204ef3){const _0x22566d=_0x204ef3[_0x5e6f59];if(_0x22566d['linkedQuizIds']&&_0x22566d[_0x132866(0x277)][_0x132866(0xa36)](_0x360124)){_0x2c205e=!![];const _0x16b1a5=doc(db,_0x132866(0xc4a)+appId+_0x132866(0x963),_0x2e565f['id']),_0x4f635c=updateDoc(_0x16b1a5,{[_0x132866(0x49e)+_0x5e6f59+_0x132866(0xd00)]:arrayRemove(_0x360124)});_0x24a92c[_0x132866(0x542)](_0x4f635c);}}}),_0x24a92c[_0x339733(0x8da)]>0x0&&(await Promise[_0x339733(0x2d8)](_0x24a92c),console['log'](_0x339733(0x949)+_0x24a92c[_0x339733(0x8da)]+_0x339733(0xe0b)+_0x360124+'.'));}catch(_0x4fb6dc){console[_0x339733(0x7cd)](_0x339733(0x5a1),_0x4fb6dc);}_0x56632c&&showMessage(_0x339733(0x732));}catch(_0x1312f3){console[_0x339733(0x7cd)](_0x339733(0x24d),_0x1312f3),_0x56632c&&showMessage(_0x339733(0xe53));}}async function showQuizDetailView(_0x519aac){const _0x26dce6=_0x4b15a0;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x26dce6(0xc15));try{const _0xe862ed=doc(db,'artifacts/'+appId+_0x26dce6(0x671),_0x519aac),_0x2cb8fd=await getDoc(_0xe862ed);if(!_0x2cb8fd[_0x26dce6(0x37f)]()){showMessage(_0x26dce6(0xad3));return;}const _0x20a84b={'id':_0x2cb8fd['id'],..._0x2cb8fd[_0x26dce6(0x7f7)]()};currentQuizData=_0x20a84b;const _0x54a8ac=doc(db,_0x26dce6(0xc4a)+appId+_0x26dce6(0x47d),_0x20a84b['projectId']),_0x3ff5ae=await getDoc(_0x54a8ac);_0x3ff5ae[_0x26dce6(0x37f)]()?(currentProjectData=_0x3ff5ae['data'](),currentProjectId=_0x20a84b[_0x26dce6(0xa0f)]):(currentProjectData={'students':[]},currentProjectId=_0x20a84b['projectId']);document[_0x26dce6(0xb9f)](_0x26dce6(0x9ba))[_0x26dce6(0x1d0)]=_0x20a84b[_0x26dce6(0x257)],document[_0x26dce6(0xb9f)](_0x26dce6(0x460))['textContent']=_0x519aac;const _0x288f0c=collection(db,'artifacts/'+appId+_0x26dce6(0x671),_0x519aac,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x288f0c,_0x12f171=>{const _0x506b8f=_0x26dce6,_0x3ae4ed=_0x12f171[_0x506b8f(0x9e5)][_0x506b8f(0xa0d)](_0x179299=>({'id':_0x179299['id'],..._0x179299[_0x506b8f(0x7f7)]()}));currentSubmissions=_0x3ae4ed;const _0x477146=_0x3ae4ed['filter'](_0x2f4876=>_0x2f4876[_0x506b8f(0xacb)]&&_0x2f4876[_0x506b8f(0xacb)][_0x506b8f(0x8da)]>0x0);renderBehaviorLog(_0x3ae4ed),renderAnswerGrid(currentProjectData[_0x506b8f(0x813)],_0x477146,_0x20a84b),renderAnalytics(_0x20a84b,_0x477146),renderQuizResultsTable(currentProjectData[_0x506b8f(0x813)],_0x3ae4ed,_0x20a84b),renderQuizLeaderboard(_0x477146,_0x20a84b,_0x506b8f(0xbb7));}),showView(_0x26dce6(0x84a));}catch(_0x173611){console[_0x26dce6(0x7cd)](_0x26dce6(0xd3f),_0x173611),showMessage(_0x26dce6(0x54f));}}function renderAnswerGrid(_0x42e8ab,_0xffe520,_0x294b6f){const _0x554a5d=_0x4b15a0,_0x1c6699=document[_0x554a5d(0xb9f)]('answer-grid-container');if(!_0x1c6699)return;if(!_0x42e8ab||_0x42e8ab[_0x554a5d(0x8da)]===0x0){_0x1c6699[_0x554a5d(0x7fc)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x1681fa=_0x294b6f[_0x554a5d(0xa09)],_0x4c364f=_0xffe520[_0x554a5d(0x1e3)]((_0x442f63,_0x49c389)=>{const _0x21f152=_0x554a5d;return _0x442f63[_0x49c389[_0x21f152(0x466)]]=_0x49c389,_0x442f63;},{}),_0x57b920=_0x52e93e=>String[_0x554a5d(0x5a9)](0x41+_0x52e93e),_0xc71661=_0x3fd17f=>{const _0x1b2e12=_0x554a5d,_0x5b3b31=_0x3fd17f['questionType']||_0x294b6f[_0x1b2e12(0xd68)];switch(_0x5b3b31){case'multiple_choice':return _0x3fd17f[_0x1b2e12(0x4d1)]&&_0x3fd17f[_0x1b2e12(0x4d1)][_0x1b2e12(0x8da)]>_0x3fd17f[_0x1b2e12(0x82e)]?_0x57b920(_0x3fd17f[_0x1b2e12(0x82e)]):'-';case'true_false':const _0x3724b2=_0x3fd17f[_0x1b2e12(0x9fb)]===!![]||String(_0x3fd17f[_0x1b2e12(0x9fb)])[_0x1b2e12(0x724)]()===_0x1b2e12(0xb18);return _0x3724b2?'ใช่':'ไม่ใช่';case'matching_item':return _0x3fd17f[_0x1b2e12(0xa54)]||'-';case'short_answer':return'พิมพ์ตอบ';default:return'-';}},_0x5151bf=(_0x16922b,_0x279f85)=>{const _0x41f612=_0x554a5d;if(_0x279f85[_0x41f612(0x253)]===null||_0x279f85[_0x41f612(0x253)]===undefined)return'-';const _0x4c1606=_0x16922b[_0x41f612(0x899)]||_0x294b6f[_0x41f612(0xd68)];switch(_0x4c1606){case'multiple_choice':const _0x1e28ea=_0x16922b[_0x41f612(0x4d1)][_0x41f612(0x706)](_0x246a63=>_0x246a63===_0x279f85[_0x41f612(0x771)]);return _0x1e28ea!==-0x1?_0x57b920(_0x1e28ea):_0x279f85[_0x41f612(0x771)]||'-';case _0x41f612(0xa29):if(_0x279f85[_0x41f612(0x253)]=='0'||_0x279f85[_0x41f612(0x253)]===!![]||_0x279f85[_0x41f612(0x253)]==='true')return _0x41f612(0xe3e);return'ไม่ใช่';default:return _0x279f85['answer'];}};let _0x46f03c=_0x554a5d(0x679)+_0x1681fa[_0x554a5d(0xa0d)]((_0x4e1d2d,_0x322a43)=>_0x554a5d(0x47e)+(_0x322a43+0x1)+_0x554a5d(0x810))['join']('')+_0x554a5d(0x9c9)+_0x1681fa[_0x554a5d(0xa0d)](_0x9dbf82=>_0x554a5d(0xed2)+_0xc71661(_0x9dbf82)+_0x554a5d(0xbcf))[_0x554a5d(0x510)]('')+_0x554a5d(0x3ba);_0x42e8ab[_0x554a5d(0x4aa)](_0x4db538=>{const _0x4f3682=_0x554a5d;_0x46f03c+=_0x4f3682(0xa3c),_0x46f03c+=_0x4f3682(0x2e9)+_0x4db538+'</td>';const _0x2e9176=_0x4c364f[_0x4db538];if(_0x2e9176){const _0x195d44=_0x2e9176[_0x4f3682(0xacb)][_0x2e9176[_0x4f3682(0xacb)][_0x4f3682(0x8da)]-0x1];_0x1681fa[_0x4f3682(0x4aa)]((_0xfaa362,_0x77eb41)=>{const _0x36cabe=_0x4f3682,_0x8787b2=_0x195d44[_0x36cabe(0x80b)][_0x36cabe(0x59d)](_0x48fec2=>_0x48fec2[_0x36cabe(0x96a)]===_0xfaa362['id']);if(_0x8787b2){let _0x5326ae='';const _0x4e6d62=_0x8787b2[_0x36cabe(0x809)]===!![],_0x2ea5a8=_0x8787b2[_0x36cabe(0x39f)]===!![]||_0x8787b2[_0x36cabe(0x39f)]===_0x36cabe(0x4df);_0x2ea5a8?_0x5326ae=_0x4e6d62?_0x36cabe(0xc1b):_0x36cabe(0xd65):_0x5326ae=_0x4e6d62?_0x36cabe(0x7da):_0x36cabe(0x8df),_0x46f03c+=_0x36cabe(0xd8e)+_0x5326ae+'\x22>'+_0x5151bf(_0xfaa362,_0x8787b2)+_0x36cabe(0xbcf);}else _0x46f03c+=_0x36cabe(0xabe);});}else _0x46f03c+=_0x1681fa[_0x4f3682(0xa0d)](()=>_0x4f3682(0x71d))[_0x4f3682(0x510)]('');_0x46f03c+=_0x4f3682(0x4b6);}),_0x46f03c+=_0x554a5d(0x715),_0x1c6699[_0x554a5d(0x7fc)]=_0x46f03c;}function renderQuizResultsTable(_0x199d47,_0x5e4509,_0x4583e4){const _0x2707db=_0x4b15a0,_0x228cde=_0x5e4509[_0x2707db(0x1e3)]((_0x12a91c,_0x5ef42f)=>{return _0x12a91c[_0x5ef42f['studentName']]=_0x5ef42f,_0x12a91c;},{}),_0x5754ea=document[_0x2707db(0x584)](_0x2707db(0xc68));_0x5754ea&&!_0x5754ea[_0x2707db(0x7fc)][_0x2707db(0xa36)](_0x2707db(0x552))&&(_0x5754ea[_0x2707db(0x7fc)]+=_0x2707db(0x827));const _0x3261fe=document[_0x2707db(0xb9f)](_0x2707db(0xbc9));if(!_0x199d47||_0x199d47['length']===0x0){_0x3261fe['innerHTML']=_0x2707db(0xe9c);return;}const _0x423320=_0x4583e4[_0x2707db(0x5f6)]===!![],_0x23d71a=_0x4583e4[_0x2707db(0x879)]?.[_0x2707db(0x7ba)]??-0x1;let _0x5cdd48='';_0x199d47[_0x2707db(0x4aa)](_0x1ef8f5=>{const _0x4b9373=_0x2707db,_0x57dee0=_0x228cde[_0x1ef8f5];let _0x8c9b54=_0x4b9373(0x8fd)+(_0x423320?'bg-amber-100\x20text-amber-800':_0x4b9373(0x8bc))+'\x22>'+(_0x423320?'สอบซ่อม':_0x4b9373(0x938))+'</span></td>';if(_0x57dee0){if(_0x57dee0[_0x4b9373(0xacb)]&&_0x57dee0[_0x4b9373(0xacb)][_0x4b9373(0x8da)]>0x0){let _0x499c2f=_0x423320?_0x57dee0[_0x4b9373(0xb96)]===_0x57dee0['totalQuestions']:_0x23d71a!==-0x1&&_0x57dee0['bestScore']>=_0x23d71a;const _0x3abb2c=_0x499c2f?_0x4b9373(0x989):'bg-red-100\x20text-red-800',_0x12917b=_0x499c2f?_0x4b9373(0x9d1):_0x4b9373(0xd44),_0x1f296f=_0x4b9373(0xd11)+_0x3abb2c+'\x22>'+_0x12917b+_0x4b9373(0xcfc),_0x11adb3=_0x4b9373(0x73f)+(_0x57dee0[_0x4b9373(0xacb)]?.['length']||0x1)+'\x20ครั้ง)</span></td>';_0x5cdd48+=_0x4b9373(0x8b3)+_0x1ef8f5+_0x4b9373(0x781)+_0x57dee0[_0x4b9373(0xb96)]+'\x20/\x20'+_0x57dee0['totalQuestions']+_0x4b9373(0x211)+_0x1f296f+_0x4b9373(0x609)+_0x8c9b54+_0x4b9373(0x3c6)+_0x57dee0['firstScore']+_0x4b9373(0xc6c)+_0x57dee0[_0x4b9373(0xdf0)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x57dee0['latestScore']+_0x4b9373(0xc6c)+_0x57dee0['totalQuestions']+_0x4b9373(0xc92)+(_0x57dee0[_0x4b9373(0x2f8)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11adb3+_0x4b9373(0x7cc)+new Date(_0x57dee0[_0x4b9373(0x5d0)])[_0x4b9373(0xaab)](_0x4b9373(0xa01))+_0x4b9373(0xac2)+_0x1ef8f5+_0x4b9373(0x37d);}else{const _0x157b1a=_0x4b9373(0x42d);_0x5cdd48+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1ef8f5+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x8c9b54+_0x4b9373(0x60c)+_0x157b1a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x57dee0[_0x4b9373(0x57a)])[_0x4b9373(0xaab)](_0x4b9373(0xa01))+_0x4b9373(0xbfb)+_0x1ef8f5+_0x4b9373(0x37d);}}else{const _0x4d68a0='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x5cdd48+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1ef8f5+_0x4b9373(0xd39)+_0x8c9b54+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d68a0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x3261fe[_0x2707db(0x7fc)]=_0x5cdd48;}async function confirmRenameQuiz(){const _0x4f44db=_0x4b15a0,_0x6979ec=document['getElementById'](_0x4f44db(0xcac))[_0x4f44db(0x232)][_0x4f44db(0xbdc)]();if(!_0x6979ec){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x48a3e8=doc(db,_0x4f44db(0xc4a)+appId+_0x4f44db(0x671),actionTargetId);try{await updateDoc(_0x48a3e8,{'topic':_0x6979ec}),showMessage(_0x4f44db(0xc6e)),renameQuizModal[_0x4f44db(0xbd3)]['add']('hidden'),actionTargetId=null;}catch(_0x55eea1){console[_0x4f44db(0x7cd)](_0x4f44db(0x446),_0x55eea1),showMessage(_0x4f44db(0x521));}}async function handleMoveQuiz(_0x12477e){const _0x1f4d63=_0x4b15a0;actionTargetId=_0x12477e;const _0x2be937=document[_0x1f4d63(0xb9f)](_0x1f4d63(0xccd));_0x2be937[_0x1f4d63(0x7fc)]=_0x1f4d63(0xb2a),moveQuizModal['classList'][_0x1f4d63(0x5f4)]('hidden');try{const _0x29c270=collection(db,'artifacts/'+appId+_0x1f4d63(0x47d)),_0x4456a6=await getDocs(_0x29c270),_0x147b26=_0x4456a6['docs'][_0x1f4d63(0xa0d)](_0x429fa8=>({'id':_0x429fa8['id'],..._0x429fa8[_0x1f4d63(0x7f7)]()})),_0x3e5948=_0x147b26['filter'](_0xd3b241=>_0xd3b241['id']!==currentProjectId);if(_0x3e5948[_0x1f4d63(0x8da)]===0x0){_0x2be937[_0x1f4d63(0x7fc)]=_0x1f4d63(0xa5c),document['getElementById'](_0x1f4d63(0xa91))[_0x1f4d63(0x417)]=!![];return;}_0x2be937[_0x1f4d63(0x7fc)]=_0x3e5948[_0x1f4d63(0xa0d)](_0x5665c=>_0x1f4d63(0xe02)+_0x5665c['id']+'\x22>'+_0x5665c[_0x1f4d63(0x6b1)]+'</option>')[_0x1f4d63(0x510)](''),document[_0x1f4d63(0xb9f)](_0x1f4d63(0xa91))[_0x1f4d63(0x417)]=![];}catch(_0xd4c54e){console[_0x1f4d63(0x7cd)](_0x1f4d63(0xec4),_0xd4c54e),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal['classList'][_0x1f4d63(0x72b)](_0x1f4d63(0x81c));}}async function confirmMoveQuiz(){const _0x30a125=_0x4b15a0,_0x338947=document[_0x30a125(0xb9f)](_0x30a125(0xccd))[_0x30a125(0x232)];if(!_0x338947){showMessage(_0x30a125(0x61d));return;}if(!actionTargetId)return;const _0x3d2309=doc(db,_0x30a125(0xc4a)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x3d2309,{'projectId':_0x338947}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x30a125(0xbd3)]['add'](_0x30a125(0x81c)),actionTargetId=null;}catch(_0x27e7bc){console['error']('Error\x20moving\x20quiz:',_0x27e7bc),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x3fc98d){const _0xee7f0a=_0x4b15a0;actionTargetId=_0x3fc98d;const _0x359c3f=doc(db,_0xee7f0a(0xc4a)+appId+_0xee7f0a(0x671),_0x3fc98d);try{const _0x30f249=await getDoc(_0x359c3f);if(_0x30f249['exists']()){const _0x4a3af7=_0x30f249['data'](),_0x44e593=_0x4a3af7['settings']||{},_0x308b79=_0x4a3af7[_0xee7f0a(0xa09)][_0xee7f0a(0x8da)];document[_0xee7f0a(0xb9f)](_0xee7f0a(0x2fe))[_0xee7f0a(0x232)]=_0x44e593[_0xee7f0a(0x851)]||_0xee7f0a(0xbae),document[_0xee7f0a(0xb9f)](_0xee7f0a(0x90a))[_0xee7f0a(0x232)]=_0x44e593['resultsDisplay']||_0xee7f0a(0xe4a),document['getElementById'](_0xee7f0a(0x6f8))[_0xee7f0a(0x232)]=_0x44e593[_0xee7f0a(0x98f)]||'none',document['getElementById']('modal-timer-duration-input')['value']=_0x44e593[_0xee7f0a(0x775)]||0xa,document[_0xee7f0a(0xb9f)](_0xee7f0a(0xbb4))[_0xee7f0a(0x232)]=_0x44e593[_0xee7f0a(0x7ba)]||Math['floor'](_0x308b79/0x2),document['getElementById'](_0xee7f0a(0xbb4))[_0xee7f0a(0x5e9)]=_0x308b79,document[_0xee7f0a(0xb9f)](_0xee7f0a(0x661))[_0xee7f0a(0x270)]=_0x44e593[_0xee7f0a(0x6af)]||![],document[_0xee7f0a(0xb9f)](_0xee7f0a(0x85e))[_0xee7f0a(0x270)]=_0x44e593[_0xee7f0a(0x30c)]||![];const _0x59a653=_0x44e593[_0xee7f0a(0xb89)]||![];document['getElementById'](_0xee7f0a(0x78f))[_0xee7f0a(0x270)]=_0x59a653,document[_0xee7f0a(0xb9f)]('modal-confidence-mode-select')[_0xee7f0a(0x232)]=_0x44e593[_0xee7f0a(0x377)]||_0xee7f0a(0x48b);const _0x49e6d5=document[_0xee7f0a(0xb9f)]('modal-confidence-mode-container');_0x49e6d5[_0xee7f0a(0xbd3)][_0xee7f0a(0x581)](_0xee7f0a(0x81c),!_0x59a653),document[_0xee7f0a(0xb9f)](_0xee7f0a(0x6f8))[_0xee7f0a(0x893)](new Event(_0xee7f0a(0xaa4))),quizSettingsModal[_0xee7f0a(0xbd3)][_0xee7f0a(0x5f4)]('hidden');}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x55052a){console['error'](_0xee7f0a(0x972),_0x55052a),showMessage(_0xee7f0a(0x2a2));}}async function confirmQuizSettings(){const _0x3031f6=_0x4b15a0;if(!actionTargetId)return;const _0x2ec36f=doc(db,_0x3031f6(0xc4a)+appId+_0x3031f6(0x671),actionTargetId),_0x57d577={'shuffle':document['getElementById'](_0x3031f6(0x2fe))[_0x3031f6(0x232)],'resultsDisplay':document[_0x3031f6(0xb9f)](_0x3031f6(0x90a))[_0x3031f6(0x232)],'timerMode':document['getElementById']('modal-timer-mode-select')[_0x3031f6(0x232)],'timerDuration':parseInt(document[_0x3031f6(0xb9f)]('modal-timer-duration-input')['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0x3031f6(0xbb4))[_0x3031f6(0x232)])||0x0,'isAdaptive':document[_0x3031f6(0xb9f)](_0x3031f6(0x661))['checked'],'loopUntilPass':document[_0x3031f6(0xb9f)](_0x3031f6(0x85e))[_0x3031f6(0x270)],'isConfidenceScoringEnabled':document[_0x3031f6(0xb9f)](_0x3031f6(0x78f))['checked'],'confidenceMode':document[_0x3031f6(0xb9f)](_0x3031f6(0xce9))[_0x3031f6(0x232)]};try{await updateDoc(_0x2ec36f,{'settings':_0x57d577}),showMessage(_0x3031f6(0x396)),quizSettingsModal[_0x3031f6(0xbd3)]['add']('hidden'),actionTargetId=null;}catch(_0x29baef){console[_0x3031f6(0x7cd)](_0x3031f6(0xb7c),_0x29baef),showMessage(_0x3031f6(0x21f));}}async function confirmQuizStatus(){const _0x510712=_0x4b15a0;if(!actionTargetId)return;const _0x33d6db=doc(db,'artifacts/'+appId+_0x510712(0x671),actionTargetId),_0x1d045b=document[_0x510712(0x584)]('input[name=\x22status-option\x22]:checked');if(!_0x1d045b){showMessage('กรุณาเลือกสถานะ');return;}const _0x365d8a=_0x1d045b[_0x510712(0x232)];let _0xf31919={};if(_0x365d8a===_0x510712(0x329)||_0x365d8a===_0x510712(0x615))_0xf31919={'status':_0x365d8a,'startTime':null,'endTime':null};else{if(_0x365d8a===_0x510712(0x3d8)){const _0x1ffa50=document['getElementById'](_0x510712(0x8ae))[_0x510712(0x232)],_0xa0993e=document[_0x510712(0xb9f)](_0x510712(0x846))['value'];if(!_0x1ffa50&&!_0xa0993e){showMessage(_0x510712(0xd8b));return;}_0xf31919={'status':'scheduled','startTime':_0x1ffa50?new Date(_0x1ffa50)[_0x510712(0x8f0)]():null,'endTime':_0xa0993e?new Date(_0xa0993e)[_0x510712(0x8f0)]():null};}}try{await updateDoc(_0x33d6db,_0xf31919),showMessage(_0x510712(0xcf7)),quizStatusModal[_0x510712(0xbd3)]['add'](_0x510712(0x81c)),actionTargetId=null;}catch(_0x17777c){console[_0x510712(0x7cd)]('Error\x20updating\x20quiz\x20status:',_0x17777c),showMessage(_0x510712(0x57d));}}function listenForStudentProfiles(_0x2988fa){const _0x474b9b=_0x4b15a0,_0x3eaea3=collection(db,_0x474b9b(0xc4a)+appId+'/public/data/projects/'+_0x2988fa+_0x474b9b(0x4c5));unsubscribeStudentProfilesListener=onSnapshot(_0x3eaea3,_0x4b6c2e=>{const _0x424b48=_0x474b9b,_0x32cd4c=_0x4b6c2e['docs'][_0x424b48(0xa0d)](_0x17a9bd=>_0x17a9bd[_0x424b48(0x7f7)]());renderLeaderboard(_0x32cd4c,_0x424b48(0x43f));},_0x1899e3=>{const _0x92b8cd=_0x474b9b;console[_0x92b8cd(0x7cd)]('Error\x20listening\x20for\x20student\x20profiles:',_0x1899e3),document[_0x92b8cd(0xb9f)](_0x92b8cd(0x43f))['innerHTML']=_0x92b8cd(0x30f);});}function renderLeaderboard(_0x5786b3,_0x1a5068){const _0x5888b3=_0x4b15a0,_0x1aa09c=document['getElementById'](_0x1a5068);if(!_0x5786b3||_0x5786b3[_0x5888b3(0x8da)]===0x0){_0x1aa09c['innerHTML']=_0x5888b3(0xba7);return;}_0x5786b3['sort']((_0x25925e,_0x50b1ce)=>{const _0x553a66=_0x5888b3,_0x5db2bb=(_0x50b1ce[_0x553a66(0x299)]||0x0)-(_0x25925e[_0x553a66(0x299)]||0x0);if(_0x5db2bb!==0x0)return _0x5db2bb;const _0xa634d9=(_0x50b1ce[_0x553a66(0x751)]?.['specialist']||0x0)-(_0x25925e[_0x553a66(0x751)]?.[_0x553a66(0xeb7)]||0x0);if(_0xa634d9!==0x0)return _0xa634d9;const _0x4a5112=(_0x50b1ce[_0x553a66(0x751)]?.[_0x553a66(0xba0)]||0x0)-(_0x25925e[_0x553a66(0x751)]?.['first_try_ace']||0x0);if(_0x4a5112!==0x0)return _0x4a5112;const _0x3f0bcc=(_0x50b1ce[_0x553a66(0x751)]?.['perfect_score']||0x0)-(_0x25925e[_0x553a66(0x751)]?.[_0x553a66(0xda5)]||0x0);if(_0x3f0bcc!==0x0)return _0x3f0bcc;const _0x3dc111=(_0x50b1ce[_0x553a66(0x751)]?.[_0x553a66(0x489)]||0x0)-(_0x25925e['badgesCount']?.['quick_thinker']||0x0);if(_0x3dc111!==0x0)return _0x3dc111;return _0x25925e[_0x553a66(0x466)][_0x553a66(0x822)](_0x50b1ce[_0x553a66(0x466)],'th');});let _0x360163='';_0x5786b3['forEach']((_0xa7ab7e,_0x17eccb)=>{const _0x5928a1=_0x5888b3,_0x4f3a7e=_0x17eccb+0x1,_0x8ab53=_0xa7ab7e[_0x5928a1(0x751)]||{};let _0x1e6023='';const _0x19e07e=['specialist',_0x5928a1(0xda5),_0x5928a1(0xba0),_0x5928a1(0x489)];_0x19e07e[_0x5928a1(0x4aa)](_0x2b5e4a=>{const _0x4153d1=_0x5928a1;if(_0x8ab53[_0x2b5e4a]>0x0){const _0x3a9170=Object['values'](BADGES)[_0x4153d1(0x59d)](_0x3fe924=>_0x3fe924['id']===_0x2b5e4a);_0x3a9170&&(_0x2b5e4a===_0x4153d1(0xeb7)?_0x1e6023+=_0x4153d1(0xe42)+_0x3a9170[_0x4153d1(0x757)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x3a9170[_0x4153d1(0x424)]+_0x4153d1(0x40d):_0x1e6023+=_0x4153d1(0xe42)+_0x3a9170[_0x4153d1(0x757)]+'\x20('+_0x8ab53[_0x2b5e4a]+_0x4153d1(0x3f7)+_0x3a9170[_0x4153d1(0x424)]+_0x4153d1(0x1c6)+_0x8ab53[_0x2b5e4a]+_0x4153d1(0xaa6));}}),_0x360163+=_0x5928a1(0x5e7)+_0x4f3a7e+_0x5928a1(0x4b4)+_0xa7ab7e['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0xa7ab7e[_0x5928a1(0x299)]||0x0)+_0x5928a1(0x4b4)+(_0x1e6023||'-')+_0x5928a1(0x5d5);}),_0x1aa09c[_0x5888b3(0x7fc)]=_0x360163;}function displayLoopScreen(_0x51c047,_0x4b3705,_0xd7a6c){const _0x55acd7=_0x4b15a0;let _0x56d680='';_0xd7a6c!==_0x55acd7(0xa61)&&(_0x56d680=_0x55acd7(0xd80)+_0x51c047+_0x55acd7(0xc6c)+_0x4b3705+'</strong></p>');const _0x19d149=_0x55acd7(0x774)+_0x56d680+_0x55acd7(0x9af);studentResultArea['innerHTML']=_0x19d149,studentResultArea[_0x55acd7(0xbd3)][_0x55acd7(0x5f4)](_0x55acd7(0x81c)),studentQuizArea[_0x55acd7(0xbd3)][_0x55acd7(0x72b)](_0x55acd7(0x81c)),document[_0x55acd7(0xb9f)](_0x55acd7(0x555))[_0x55acd7(0x95a)]('click',()=>{const _0x14abb6=_0x55acd7;studentResultArea[_0x14abb6(0xbd3)][_0x14abb6(0x72b)](_0x14abb6(0x81c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x1a95e8,_0x1aa21a,_0x38d6b6){const _0x5aaf61=_0x4b15a0,_0x3a2ea4=document['getElementById'](_0x38d6b6),_0x44ea11=_0x38d6b6===_0x5aaf61(0x2f2),_0x476103=_0x1aa21a[_0x5aaf61(0xa09)]['length'],_0x3a1a43=document[_0x5aaf61(0xb9f)](_0x38d6b6)['closest'](_0x5aaf61(0x60b));if(_0x3a1a43&&!_0x44ea11){const _0x257f95=_0x3a1a43['querySelector']('thead');_0x257f95['innerHTML']=_0x5aaf61(0x4ad);}if(!_0x1a95e8||_0x1a95e8['length']===0x0){_0x3a2ea4['innerHTML']='<tr><td\x20colspan=\x22'+(_0x44ea11?0x6:0x8)+_0x5aaf61(0xc77);return;}const _0x21c5f9=[..._0x1a95e8];_0x21c5f9[_0x5aaf61(0x8c7)]((_0x1f7478,_0x1d25b0)=>{const _0x2e1dfd=_0x5aaf61;let _0x520e7d,_0x16f108;switch(quizLeaderboardSortBy){case _0x2e1dfd(0x466):_0x520e7d=_0x1f7478[_0x2e1dfd(0x466)]||'',_0x16f108=_0x1d25b0['studentName']||'';return quizLeaderboardSortOrder===_0x2e1dfd(0x46e)?_0x520e7d[_0x2e1dfd(0x822)](_0x16f108,'th'):_0x16f108[_0x2e1dfd(0x822)](_0x520e7d,'th');case _0x2e1dfd(0x2f8):_0x520e7d=_0x1f7478[_0x2e1dfd(0x2f8)]||0x0,_0x16f108=_0x1d25b0[_0x2e1dfd(0x2f8)]||0x0;break;case _0x2e1dfd(0xacb):_0x520e7d=_0x1f7478[_0x2e1dfd(0xacb)]?.[_0x2e1dfd(0x8da)]||0x1,_0x16f108=_0x1d25b0['attempts']?.[_0x2e1dfd(0x8da)]||0x1;break;case _0x2e1dfd(0x5d0):_0x520e7d=new Date(_0x1f7478['latestSubmittedAt']),_0x16f108=new Date(_0x1d25b0[_0x2e1dfd(0x5d0)]);break;case _0x2e1dfd(0xb96):default:_0x520e7d=_0x1f7478[_0x2e1dfd(0xb96)],_0x16f108=_0x1d25b0[_0x2e1dfd(0xb96)];break;}if(_0x520e7d<_0x16f108)return quizLeaderboardSortOrder===_0x2e1dfd(0x46e)?-0x1:0x1;if(_0x520e7d>_0x16f108)return quizLeaderboardSortOrder===_0x2e1dfd(0x46e)?0x1:-0x1;return 0x0;});const _0x43366b=_0x1aa21a['isRemedial']===!![],_0x4b0a32=_0x1aa21a[_0x5aaf61(0x879)]?.[_0x5aaf61(0x7ba)]??-0x1;let _0x41f1f2='';_0x21c5f9[_0x5aaf61(0x4aa)]((_0x42d24c,_0x2e3411)=>{const _0x1e50d4=_0x5aaf61,_0x379994=_0x2e3411+0x1;let _0x2f52c2=_0x1e50d4(0xdf8);if(_0x43366b||_0x4b0a32!==-0x1){let _0x3e353f=_0x43366b?_0x42d24c['bestScore']===_0x476103:_0x42d24c['bestScore']>=_0x4b0a32;const _0x5eaf87=_0x3e353f?_0x1e50d4(0x989):_0x1e50d4(0x770),_0x23e892=_0x3e353f?_0x1e50d4(0x9d1):'ไม่ผ่าน';_0x2f52c2=_0x1e50d4(0xb16)+_0x5eaf87+'\x22>'+_0x23e892+'</span></td>';}const _0x67ae7b=_0x42d24c[_0x1e50d4(0xacb)][_0x42d24c[_0x1e50d4(0xacb)][_0x1e50d4(0x8da)]-0x1],_0x56a5b3=(_0x67ae7b['badges']||[])[_0x1e50d4(0xa0d)](_0x3f0cad=>{const _0x3f13b6=_0x1e50d4,_0x4b47bd=Object['values'](BADGES)[_0x3f13b6(0x59d)](_0x58119b=>_0x58119b['id']===_0x3f0cad);return _0x4b47bd?_0x3f13b6(0x258)+_0x4b47bd['name']+_0x3f13b6(0x6aa)+_0x4b47bd[_0x3f13b6(0x424)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})['join']('');_0x41f1f2+=_0x1e50d4(0x5c9)+_0x379994+_0x1e50d4(0x75f)+_0x42d24c[_0x1e50d4(0x466)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x42d24c[_0x1e50d4(0xb96)]+_0x1e50d4(0xc6c)+_0x476103+_0x1e50d4(0xe7f)+_0x2f52c2+_0x1e50d4(0xd1d)+(_0x42d24c['points']||0x0)+_0x1e50d4(0xe7f)+(_0x44ea11?'':_0x1e50d4(0x26e)+(_0x42d24c[_0x1e50d4(0xacb)]?.[_0x1e50d4(0x8da)]||0x1)+_0x1e50d4(0xbcf))+_0x1e50d4(0xcf4)+(_0x44ea11?'':_0x1e50d4(0x243)+new Date(_0x42d24c[_0x1e50d4(0x5d0)])[_0x1e50d4(0xaab)]('th-TH')+_0x1e50d4(0xbcf))+_0x1e50d4(0x532)+(_0x56a5b3||'-')+_0x1e50d4(0x675);}),_0x3a2ea4[_0x5aaf61(0x7fc)]=_0x41f1f2,_0x3a1a43&&!_0x44ea11&&_0x3a1a43[_0x5aaf61(0x3eb)]('thead\x20.sortable-header')[_0x5aaf61(0x4aa)](_0x2e6f3d=>{const _0x44883e=_0x5aaf61,_0x327b6e=_0x2e6f3d['querySelector'](_0x44883e(0xe16));if(_0x327b6e)_0x327b6e[_0x44883e(0x5f4)]();_0x2e6f3d[_0x44883e(0x273)]['sort']===quizLeaderboardSortBy&&(_0x2e6f3d[_0x44883e(0x7fc)]+=_0x44883e(0x9d5)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x44883e(0xbc0));});}async function handleDeleteSubmission(_0x552a26){const _0x505877=_0x4b15a0;if(!currentQuizData||!currentQuizData['id']||!_0x552a26){showMessage(_0x505877(0xdee));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x552a26+_0x505877(0xd9f),async()=>{const _0x3e03fd=_0x505877,_0xe69ea4=currentQuizData['id'],_0x918010=doc(db,_0x3e03fd(0xc4a)+appId+'/public/data/quizzes/'+_0xe69ea4+_0x3e03fd(0xc5e),_0x552a26);try{await deleteDoc(_0x918010),showMessage(_0x3e03fd(0x36e)+_0x552a26+_0x3e03fd(0x700));}catch(_0xad8043){console[_0x3e03fd(0x7cd)](_0x3e03fd(0x61f),_0xad8043),showMessage(_0x3e03fd(0x926));}});}async function handleLoadQuiz(){const _0x566493=_0x4b15a0,_0x1633f2=document[_0x566493(0xb9f)](_0x566493(0x63e)),_0x528403=_0x1633f2[_0x566493(0x232)][_0x566493(0xbdc)]();if(!_0x528403){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x566493(0x7fc)]=_0x566493(0x869);try{const _0xc1b02e=doc(db,_0x566493(0xc4a)+appId+_0x566493(0x671),_0x528403),_0x209924=await getDoc(_0xc1b02e);if(!_0x209924['exists']()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x209924['id'],..._0x209924['data']()};const _0x1f5df3=currentQuizData[_0x566493(0x58b)]||'active',_0x48c489=new Date();if(_0x1f5df3===_0x566493(0x615)){showMessage(_0x566493(0xdce));return;}if(_0x1f5df3===_0x566493(0x7c7)){const _0x38e5e8=currentQuizData[_0x566493(0x6e9)]?new Date(currentQuizData[_0x566493(0x6e9)]):null,_0x46cc7c=currentQuizData[_0x566493(0x996)]?new Date(currentQuizData[_0x566493(0x996)]):null;if(_0x38e5e8&&_0x48c489<_0x38e5e8){showMessage('แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20'+_0x38e5e8['toLocaleString']('th-TH',{'hour12':![]}));return;}if(_0x46cc7c&&_0x48c489>_0x46cc7c){showMessage(_0x566493(0xec1));return;}}const _0x5df672=currentQuizData[_0x566493(0xa0f)];currentProjectId=_0x5df672;const _0x2641d5=doc(db,'artifacts/'+appId+_0x566493(0x47d),_0x5df672),_0x21db29=await getDoc(_0x2641d5);if(!_0x21db29[_0x566493(0x37f)]()){showMessage(_0x566493(0x54e));return;}const _0x49729a=_0x21db29[_0x566493(0x7f7)]();currentStudentProjectData=_0x49729a,displayStudentNameSelector(_0x49729a[_0x566493(0x813)],currentQuizData[_0x566493(0x257)]);}catch(_0x50f3a9){console[_0x566493(0x7cd)](_0x566493(0x42b),_0x50f3a9),showMessage(_0x566493(0xea9));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x566493(0x7fc)]=_0x566493(0x807);}}async function handleJoinLiveGame(){const _0x3d42b6=_0x4b15a0,_0x14992c=document['getElementById']('game-pin-input'),_0x4a21c8=document[_0x3d42b6(0xb9f)](_0x3d42b6(0x6bc)),_0x2615e8=document[_0x3d42b6(0xb9f)](_0x3d42b6(0x527)),_0x501899=_0x14992c['value']['trim'](),_0xe36e59=_0x4a21c8[_0x3d42b6(0x232)][_0x3d42b6(0xbdc)]();if(!_0x501899||!_0xe36e59){showMessage(_0x3d42b6(0xb6f));return;}_0x2615e8[_0x3d42b6(0x417)]=!![],_0x2615e8[_0x3d42b6(0x7fc)]=_0x3d42b6(0x37e);try{const _0x14ed58=collection(db,'artifacts/'+appId+_0x3d42b6(0x1e4)),_0x4ef5fe=query(_0x14ed58,where('gamePin','==',_0x501899),where(_0x3d42b6(0x58b),'in',[_0x3d42b6(0xa70),_0x3d42b6(0x9b0)])),_0x2a3c96=await getDocs(_0x4ef5fe);if(_0x2a3c96[_0x3d42b6(0xe97)]){showMessage(_0x3d42b6(0x512));return;}const _0x436dc4=_0x2a3c96['docs'][0x0],_0x3ef141=_0x436dc4[_0x3d42b6(0x7f7)]();currentLiveGameId=_0x436dc4['id'];const _0x465289=_0x3ef141[_0x3d42b6(0x515)],_0x37bd1b=doc(db,'artifacts/'+appId+_0x3d42b6(0x671),_0x465289),_0x597bf4=await getDoc(_0x37bd1b);if(!_0x597bf4[_0x3d42b6(0x37f)]()){showMessage(_0x3d42b6(0x346));return;}currentQuizData={'id':_0x597bf4['id'],..._0x597bf4[_0x3d42b6(0x7f7)]()};if(_0x3ef141[_0x3d42b6(0xb9c)]&&_0x3ef141[_0x3d42b6(0xb9c)][_0xe36e59]){const _0x5bbc6e=_0x3ef141[_0x3d42b6(0xb9c)][_0xe36e59];if(_0x5bbc6e[_0x3d42b6(0x58b)]===_0x3d42b6(0x615)){_0x2615e8[_0x3d42b6(0x7fc)]=_0x3d42b6(0x973);const _0x235862={};_0x235862[_0x3d42b6(0x36c)+_0xe36e59+_0x3d42b6(0x7d3)]=_0x3d42b6(0x329),await updateDoc(doc(db,_0x3d42b6(0xc4a)+appId+_0x3d42b6(0x1e4),currentLiveGameId),_0x235862),showView(_0x3d42b6(0xbda)),currentStudentName=_0xe36e59,listenForLiveGameUpdates();return;}else{showMessage(_0x3d42b6(0x409));return;}}if(_0x3ef141[_0x3d42b6(0x58b)]!==_0x3d42b6(0xa70)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x2615e8[_0x3d42b6(0x7fc)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x2ed051={};_0x2ed051['players.'+_0xe36e59]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x3d42b6(0x329)},await updateDoc(doc(db,_0x3d42b6(0xc4a)+appId+_0x3d42b6(0x1e4),currentLiveGameId),_0x2ed051),currentStudentName=_0xe36e59,listenForLiveGameUpdates();}catch(_0x5308e6){console[_0x3d42b6(0x7cd)](_0x3d42b6(0xd0e),_0x5308e6),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x2615e8[_0x3d42b6(0x417)]=![],_0x2615e8[_0x3d42b6(0x7fc)]=_0x3d42b6(0x860);}}function displayStudentNameSelector(_0x53c404,_0x3ff373){const _0x25e4d7=_0x4b15a0,_0x3dad66=document[_0x25e4d7(0xb9f)](_0x25e4d7(0xcd8));document['getElementById'](_0x25e4d7(0x2ab))[_0x25e4d7(0x1d0)]=_0x25e4d7(0xb68)+_0x3ff373,!_0x53c404||_0x53c404[_0x25e4d7(0x8da)]===0x0?(_0x3dad66['innerHTML']=_0x25e4d7(0xb87),startQuizBtn['disabled']=!![]):(_0x3dad66[_0x25e4d7(0x7fc)]=_0x25e4d7(0xd9a),_0x53c404[_0x25e4d7(0x4aa)](_0x538658=>{const _0x17b09b=_0x25e4d7,_0x46e0db=document[_0x17b09b(0xeb2)](_0x17b09b(0x5a8));_0x46e0db[_0x17b09b(0x232)]=_0x538658,_0x46e0db[_0x17b09b(0x1d0)]=_0x538658,_0x3dad66[_0x17b09b(0x67f)](_0x46e0db);}),startQuizBtn['disabled']=![]),studentInitialView[_0x25e4d7(0xbd3)][_0x25e4d7(0x72b)](_0x25e4d7(0x81c)),studentNameSelectionView['classList'][_0x25e4d7(0x5f4)](_0x25e4d7(0x81c));}function shuffleArray(_0x523631){const _0x48d1e1=_0x4b15a0;for(let _0x2069ae=_0x523631[_0x48d1e1(0x8da)]-0x1;_0x2069ae>0x0;_0x2069ae--){const _0x229a12=Math['floor'](Math[_0x48d1e1(0x7c9)]()*(_0x2069ae+0x1));[_0x523631[_0x2069ae],_0x523631[_0x229a12]]=[_0x523631[_0x229a12],_0x523631[_0x2069ae]];}}function getShuffledQuiz(_0x95808d){const _0x56339e=_0x4b15a0;let _0x1e51da=JSON['parse'](JSON[_0x56339e(0x4d8)](_0x95808d));const _0x593ecf=_0x1e51da[_0x56339e(0x879)]?.[_0x56339e(0x851)]||_0x56339e(0xbae);if(_0x593ecf===_0x56339e(0xbae))return _0x1e51da;return(_0x593ecf===_0x56339e(0xca1)||_0x593ecf===_0x56339e(0x30e))&&shuffleArray(_0x1e51da['questions']),(_0x593ecf===_0x56339e(0xcd4)||_0x593ecf===_0x56339e(0x30e))&&_0x1e51da['questions']['forEach'](_0x1e3118=>{const _0x40da4c=_0x56339e,_0x1e9eff=_0x1e3118[_0x40da4c(0x899)]||_0x1e51da[_0x40da4c(0xd68)];if(_0x1e3118[_0x40da4c(0x4d1)]){let _0x49feb9=_0x1e3118[_0x40da4c(0x4d1)][_0x40da4c(0xa0d)]((_0x3df2c6,_0x5e0648)=>({'text':_0x3df2c6,'isCorrect':_0x5e0648===_0x1e3118[_0x40da4c(0x82e)]}));shuffleArray(_0x49feb9),_0x1e3118[_0x40da4c(0x4d1)]=_0x49feb9[_0x40da4c(0xa0d)](_0x4d8c7c=>_0x4d8c7c[_0x40da4c(0x9ad)]),_0x1e3118[_0x40da4c(0x82e)]=_0x49feb9['findIndex'](_0x3f1c1f=>_0x3f1c1f[_0x40da4c(0x809)]);}_0x1e9eff==='matching_item'&&_0x1e3118[_0x40da4c(0x816)]&&shuffleArray(_0x1e3118[_0x40da4c(0x816)]);}),_0x1e51da;}function displayQuizForStudent(_0x82ced){const _0x1cbe50=_0x4b15a0;studentQuizArea[_0x1cbe50(0xbd3)]['remove']('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x82ced);currentMode!==_0x1cbe50(0xa10)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x1cbe50(0x95a)](_0x1cbe50(0x28d),handleFullscreenChange),document['addEventListener'](_0x1cbe50(0xd85),handleVisibilityChange),enterFullscreen(),window[_0x1cbe50(0x95a)](_0x1cbe50(0x73a),resetDimTimer),window['addEventListener'](_0x1cbe50(0xdc5),resetDimTimer),window[_0x1cbe50(0x95a)](_0x1cbe50(0x9da),resetDimTimer),window[_0x1cbe50(0x95a)](_0x1cbe50(0xdea),resetDimTimer),resetDimTimer());const _0x6231c7=currentDisplayedQuiz['settings']?.[_0x1cbe50(0x98f)]||_0x1cbe50(0xbae);if(_0x6231c7===_0x1cbe50(0xc8b))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x1cbe50(0x879)][_0x1cbe50(0x775)]);else _0x6231c7==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x3c2694=_0x4b15a0,_0x1b2c9f=currentDisplayedQuiz[_0x3c2694(0x879)]?.[_0x3c2694(0xb89)]===!![],_0x99df2=currentDisplayedQuiz[_0x3c2694(0x879)]?.[_0x3c2694(0x377)]||_0x3c2694(0x48b);let _0x298eef='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x3c2694(0xd4a)+(currentMode===_0x3c2694(0xa10)?_0x3c2694(0x738):'')+_0x3c2694(0xa33);currentDisplayedQuiz['questions'][_0x3c2694(0x4aa)]((_0x227381,_0x5c0475)=>{const _0x21531b=_0x3c2694,_0x18cc99=_0x227381[_0x21531b(0x899)]||currentDisplayedQuiz[_0x21531b(0xd68)];_0x298eef+=_0x21531b(0x9ac);if(_0x18cc99===_0x21531b(0x50f)){}else _0x298eef+=_0x21531b(0xb07)+(_0x5c0475+0x1)+'.\x20'+(_0x227381[_0x21531b(0xdcd)]||_0x227381[_0x21531b(0x931)])+'</p>',_0x227381[_0x21531b(0xe33)]&&(_0x298eef+=_0x21531b(0xcf9)+_0x227381['imageCode']+_0x21531b(0xd14));_0x298eef+=_0x21531b(0x33a);switch(_0x18cc99){case _0x21531b(0xc9f):_0x298eef+=_0x21531b(0x595)+_0x5c0475+_0x21531b(0x881);break;case _0x21531b(0xa29):_0x298eef+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x5c0475+_0x21531b(0x4fa)+_0x5c0475+_0x21531b(0xdbf)+_0x5c0475+_0x21531b(0x983),_0x298eef+=_0x21531b(0xbec)+_0x5c0475+_0x21531b(0x2ca)+_0x5c0475+_0x21531b(0xecf)+_0x5c0475+_0x21531b(0xe45);break;case _0x21531b(0x50f):_0x298eef+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+_0x227381[_0x21531b(0x7fb)]+_0x21531b(0x565)+_0x5c0475+_0x21531b(0x8f8)+_0x227381[_0x21531b(0x816)]['map'](_0x1c5f70=>_0x21531b(0xe02)+_0x1c5f70+'\x22>'+_0x1c5f70+_0x21531b(0x36b))[_0x21531b(0x510)]('')+_0x21531b(0xd6a);break;default:_0x298eef+=_0x227381[_0x21531b(0x4d1)][_0x21531b(0xa0d)]((_0x57eb10,_0x10f525)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x5c0475+_0x21531b(0x4dd)+_0x10f525+_0x21531b(0x798)+_0x5c0475+_0x21531b(0x540)+_0x10f525+_0x21531b(0xcf3)+_0x5c0475+_0x21531b(0x4dd)+_0x10f525+'\x22>'+_0x57eb10+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x21531b(0x510)]('');break;}_0x298eef+='</div>',_0x1b2c9f&&(_0x298eef+=_0x21531b(0xe8b),_0x99df2===_0x21531b(0x7a2)?_0x298eef+=_0x21531b(0x261)+_0x5c0475+_0x21531b(0x61e)+_0x5c0475+_0x21531b(0x779)+_0x5c0475+_0x21531b(0xb22)+_0x5c0475+_0x21531b(0x79b):_0x298eef+=_0x21531b(0xe25)+_0x5c0475+'\x22\x20name=\x22confidence'+_0x5c0475+_0x21531b(0xe48)+_0x5c0475+_0x21531b(0xb37),_0x298eef+='</div>'),_0x298eef+=_0x21531b(0xd14);}),_0x298eef+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x298eef+=_0x3c2694(0xacf),studentQuizArea[_0x3c2694(0x7fc)]=_0x298eef;if(currentMode===_0x3c2694(0xa10)){const _0x50f0ff=document[_0x3c2694(0xb9f)](_0x3c2694(0x940));if(_0x50f0ff)_0x50f0ff[_0x3c2694(0x95a)](_0x3c2694(0xd6c),cancelAdminTest);}const _0x802a54=document[_0x3c2694(0xb9f)](_0x3c2694(0x31c));_0x802a54&&(_0x802a54[_0x3c2694(0x95a)](_0x3c2694(0x868),handleSubmitQuiz),_0x802a54[_0x3c2694(0x95a)](_0x3c2694(0xd6c),_0x1e2799=>{const _0x430b7f=_0x3c2694;if(_0x1e2799[_0x430b7f(0x4ee)][_0x430b7f(0xbd3)][_0x430b7f(0x959)](_0x430b7f(0xc72))){const _0x13847e=_0x1e2799[_0x430b7f(0x4ee)],_0x56c646=_0x13847e[_0x430b7f(0x273)][_0x430b7f(0x5c7)],_0xacf6a=_0x13847e[_0x430b7f(0x273)]['value'];document[_0x430b7f(0xb9f)](_0x430b7f(0x67a)+_0x56c646)['value']=_0xacf6a;const _0x5e7d1b=_0x13847e[_0x430b7f(0x9f5)];_0x5e7d1b[_0x430b7f(0x3eb)](_0x430b7f(0x322))['forEach'](_0x1e5947=>_0x1e5947[_0x430b7f(0xbd3)][_0x430b7f(0x5f4)](_0x430b7f(0x329))),_0x13847e[_0x430b7f(0xbd3)][_0x430b7f(0x72b)](_0x430b7f(0x329));}}));if(window[_0x3c2694(0x51a)])window[_0x3c2694(0x51a)][_0x3c2694(0xbce)]([studentQuizArea]);}async function handleSubmitQuiz(_0x15642c){const _0x248147=_0x4b15a0;if(_0x15642c)_0x15642c[_0x248147(0xb5c)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x44cff9=document[_0x248147(0xb9f)](_0x248147(0x31c));if(!_0x44cff9)return;const _0x34bc4a=currentDisplayedQuiz[_0x248147(0x879)]?.[_0x248147(0xb89)]===!![],_0x76b963=currentDisplayedQuiz[_0x248147(0x879)]?.[_0x248147(0x377)]||_0x248147(0x48b);if(_0x34bc4a&&_0x76b963===_0x248147(0x7a2)){let _0x30d45e=!![];for(let _0x470a9c=0x0;_0x470a9c<currentDisplayedQuiz[_0x248147(0xa09)][_0x248147(0x8da)];_0x470a9c++){const _0x23c327=_0x44cff9[_0x248147(0x584)](_0x248147(0xbbb)+_0x470a9c);if(!_0x23c327||_0x23c327[_0x248147(0x232)]===''){_0x30d45e=![];break;}}if(!_0x30d45e){showMessage(_0x248147(0xa0b));return;}}const _0x50e235=_0x44cff9[_0x248147(0x584)]('button[type=\x22submit\x22]'),_0x648358=currentDisplayedQuiz[_0x248147(0xa09)][_0x248147(0x45c)](_0x97da8=>_0x97da8[_0x248147(0x899)]===_0x248147(0xc9f));_0x50e235&&(_0x50e235[_0x248147(0x417)]=!![],_0x50e235[_0x248147(0x7fc)]=_0x648358?_0x248147(0x1e7):_0x248147(0x3f2));const _0x36f3cf=new FormData(_0x44cff9),_0xffac2c=currentDisplayedQuiz[_0x248147(0xa09)][_0x248147(0xa0d)]((_0x44ba77,_0x2733fa)=>{const _0x4d7006=_0x248147,_0x180c76=_0x36f3cf[_0x4d7006(0x6db)](_0x4d7006(0x9b0)+_0x2733fa);let _0x5e8c67;_0x76b963===_0x4d7006(0x7a2)?_0x5e8c67=_0x36f3cf['get'](_0x4d7006(0xd13)+_0x2733fa):_0x5e8c67=_0x36f3cf['get']('confidence'+_0x2733fa)==='on';let _0x4f973f=null;if(_0x180c76!==null&&_0x180c76!==undefined){const _0x49ca05=_0x44ba77['questionType']||currentDisplayedQuiz[_0x4d7006(0xd68)];_0x49ca05===_0x4d7006(0x9c3)||_0x49ca05===_0x4d7006(0x9f7)?_0x4f973f=parseInt(_0x180c76):_0x4f973f=_0x180c76;}return{'answer':_0x4f973f,'wasConfident':_0x5e8c67};}),_0x2d229c=currentQuizData['id'],_0x562820=doc(db,_0x248147(0xc4a)+appId+_0x248147(0x2a1)+_0x2d229c+_0x248147(0xc5e),currentStudentName),_0x4d1956=await getDoc(_0x562820),_0x268a1d=_0x4d1956[_0x248147(0x37f)]()?_0x4d1956[_0x248147(0x7f7)]():{},_0x2b528a=_0x268a1d[_0x248147(0xacb)]||[];await processAndSubmitAnswers(_0xffac2c,_0x2b528a);}async function gradeShortAnswerWithAI(_0x538448,_0x40ec6a){const _0x2f3795=_0x4b15a0;if(!_0x538448||!_0x40ec6a)return![];try{const _0x55a4fe=_0x2f3795(0xe67)+_0x538448+_0x2f3795(0x58a)+_0x40ec6a+_0x2f3795(0x640),_0x978934={'contents':[{'role':_0x2f3795(0x66f),'parts':[{'text':_0x55a4fe}]}]},_0x4f409d='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x52ee15=_0x2f3795(0xec8)+_0x4f409d,_0x31998d=await fetch(_0x52ee15,{'method':_0x2f3795(0x3a9),'headers':{'Content-Type':_0x2f3795(0x4a6)},'body':JSON[_0x2f3795(0x4d8)](_0x978934)});if(!_0x31998d['ok'])throw new Error(_0x2f3795(0x4f3));const _0x199b8d=await _0x31998d[_0x2f3795(0xe9a)](),_0x12dae3=_0x199b8d[_0x2f3795(0x991)][0x0][_0x2f3795(0x5de)][_0x2f3795(0x9c6)][0x0]['text'][_0x2f3795(0xbdc)]()[_0x2f3795(0x724)]();return _0x12dae3===_0x2f3795(0xb18);}catch(_0x54fb79){return console[_0x2f3795(0x7cd)]('AI\x20grading\x20failed:',_0x54fb79),![];}}async function processAndSubmitAnswers(_0x33dad2,_0x242981){const _0xd42d90=_0x4b15a0;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0xd42d90(0x28b)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0xd42d90(0xd85),handleVisibilityChange);let _0x394671=0x0;const _0x2a4da8=[],_0x55acf6=currentDisplayedQuiz[_0xd42d90(0xa09)]['length'];let _0x7a05c=0x0,_0x2f7191=[];const _0x80ead=currentDisplayedQuiz['questions'];for(let _0x572cb4=0x0;_0x572cb4<_0x80ead[_0xd42d90(0x8da)];_0x572cb4++){const _0x26a6c0=_0x80ead[_0x572cb4],_0x397da0=_0x33dad2[_0x572cb4],_0x229ace=_0x397da0?_0x397da0['answer']:null,_0x364bc2=_0x397da0?_0x397da0['wasConfident']:null;let _0x3b55f1=![],_0x1003db=0x0;if(_0x229ace!==null&&_0x229ace!==''){const _0x55a7ec=_0x26a6c0[_0xd42d90(0x899)]||currentDisplayedQuiz[_0xd42d90(0xd68)];switch(_0x55a7ec){case'matching_item':_0x3b55f1=_0x229ace===_0x26a6c0[_0xd42d90(0xa54)];break;case _0xd42d90(0xa29):const _0x3b1226=_0x229ace===!![]||_0x229ace===_0xd42d90(0xb18);_0x3b55f1=_0x3b1226===_0x26a6c0[_0xd42d90(0x9fb)];break;case _0xd42d90(0xc9f):_0x3b55f1=await gradeShortAnswer(_0x229ace,_0x26a6c0);break;case _0xd42d90(0x9c3):default:_0x3b55f1=Number(_0x229ace)===_0x26a6c0[_0xd42d90(0x82e)];break;}}if(currentDisplayedQuiz[_0xd42d90(0x879)]?.['isConfidenceScoringEnabled']){const _0x1ff437=_0x397da0?_0x397da0['wasConfident']:null;if(_0x3b55f1&&(_0x1ff437===!![]||_0x1ff437===_0xd42d90(0x4df)))_0x1003db=0x2;else{if(_0x3b55f1)_0x1003db=0x1;else{if(!_0x3b55f1&&(_0x1ff437===![]||_0x1ff437==='not_confident'||_0x1ff437===null))_0x1003db=0x0;else!_0x3b55f1&&(_0x1ff437===!![]||_0x1ff437===_0xd42d90(0x4df))&&(_0x1003db=-0x1);}}}else _0x1003db=_0x3b55f1?0x1:0x0;_0x394671+=_0x1003db;if(_0x3b55f1){_0x7a05c++;if(_0x7a05c===0x3)_0x2f7191['push'](BADGES[_0xd42d90(0x93d)]['id']);}else _0x7a05c=0x0;let _0x19f5f8=null;_0x26a6c0[_0xd42d90(0x4d1)]&&_0x229ace!==null&&(_0x19f5f8=_0x26a6c0['options'][_0x229ace]),_0x2a4da8[_0xd42d90(0x542)]({'questionId':_0x26a6c0['id'],'answer':_0x229ace,'answerText':_0x19f5f8,'isCorrect':_0x3b55f1,'wasConfident':_0x364bc2,'pointsAwarded':_0x1003db,'originalQuestionText':_0x26a6c0[_0xd42d90(0x7fb)]||_0x26a6c0['questionText']});}const _0x18eaa2=_0x2a4da8['filter'](_0x4571eb=>_0x4571eb[_0xd42d90(0x809)])[_0xd42d90(0x8da)],_0x420c60=currentDisplayedQuiz[_0xd42d90(0x879)]?.[_0xd42d90(0x7ba)]??Math[_0xd42d90(0x426)](_0x55acf6/0x2);_0x18eaa2===_0x55acf6&&_0x55acf6>0x0&&!currentDisplayedQuiz[_0xd42d90(0x5f6)]&&_0x2f7191[_0xd42d90(0x542)](BADGES[_0xd42d90(0x246)]['id']);const _0x313d69=currentDisplayedQuiz[_0xd42d90(0x879)]?.[_0xd42d90(0x98f)];if(_0x313d69===_0xd42d90(0xc8b)&&quizStartTime){const _0x20a1b2=(new Date()-quizStartTime)/0x3e8,_0x581cb7=currentDisplayedQuiz[_0xd42d90(0x879)][_0xd42d90(0x775)]*0x3c;_0x18eaa2>=_0x420c60&&_0x20a1b2<_0x581cb7/0x2&&_0x2f7191['push'](BADGES['QUICK_THINKER']['id']);}_0x242981['length']===0x0&&_0x18eaa2===_0x55acf6&&_0x55acf6>0x0&&_0x2f7191[_0xd42d90(0x542)](BADGES[_0xd42d90(0x658)]['id']);if(_0x242981['length']>0x0){const _0x36294a=_0x242981[0x0][_0xd42d90(0x7e2)];if(_0x36294a<_0x420c60&&_0x18eaa2>=_0x420c60){const _0xde27dd=_0x242981[_0xd42d90(0x45c)](_0x599b02=>(_0x599b02[_0xd42d90(0x8ad)]||[])[_0xd42d90(0xa36)](BADGES[_0xd42d90(0x42c)]['id']));!_0xde27dd&&_0x2f7191[_0xd42d90(0x542)](BADGES[_0xd42d90(0x42c)]['id']);}}_0x242981[_0xd42d90(0x8da)]===0x4&&_0x2f7191[_0xd42d90(0x542)](BADGES[_0xd42d90(0xb9e)]['id']);const _0x1e9c9e=currentDisplayedQuiz[_0xd42d90(0x879)][_0xd42d90(0x97d)];if(currentMode===_0xd42d90(0xa10)){handleResultDisplay(_0x1e9c9e,_0x18eaa2,_0x394671,_0x2f7191,_0x2a4da8,_0x55acf6);return;}const _0x87c146=currentQuizData['id'],_0x3992d=doc(db,'artifacts/'+appId+_0xd42d90(0x2a1)+_0x87c146+_0xd42d90(0xc5e),currentStudentName);try{const _0x5d2cec=[..._0x242981],_0x5b0bc3={'score':_0x18eaa2,'points':_0x394671,'badges':Array['from'](new Set(_0x2f7191)),'submittedAt':new Date()[_0xd42d90(0x8f0)](),'answers':_0x2a4da8};_0x5d2cec['push'](_0x5b0bc3);const _0x4c3053=_0x242981['length']===0x0?_0x18eaa2:_0x242981[0x0][_0xd42d90(0x7e2)]||0x0,_0x572acd=Math[_0xd42d90(0x5e9)](..._0x5d2cec[_0xd42d90(0xa0d)](_0x2829c4=>_0x2829c4[_0xd42d90(0x7e2)]));await setDoc(_0x3992d,{'studentName':currentStudentName,'totalQuestions':_0x55acf6,'attempts':_0x5d2cec,'firstScore':_0x4c3053,'bestScore':_0x572acd,'latestScore':_0x18eaa2,'points':_0x394671,'latestSubmittedAt':_0x5b0bc3['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0xd42d90(0xa0f)],currentStudentName),handleResultDisplay(_0x1e9c9e,_0x18eaa2,_0x394671,_0x2f7191,_0x2a4da8,_0x55acf6);}catch(_0x4c88de){console[_0xd42d90(0x7cd)](_0xd42d90(0xdc0),_0x4c88de),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x3f802e,_0x2fd889){const _0x4876ab=_0x4b15a0,_0x1235c6=doc(db,_0x4876ab(0xc4a)+appId+'/public/data/projects/'+_0x3f802e+'/studentProfiles',_0x2fd889);try{const _0x4cd77d=query(collection(db,_0x4876ab(0xc4a)+appId+_0x4876ab(0x671)),where(_0x4876ab(0xa0f),'==',_0x3f802e)),_0x2d354e=await getDocs(_0x4cd77d),_0x3aef87=new Map(_0x2d354e[_0x4876ab(0x9e5)]['map'](_0x13ed6f=>[_0x13ed6f['id'],_0x13ed6f[_0x4876ab(0x7f7)]()])),_0x2caa16=Array[_0x4876ab(0x7ca)](_0x3aef87[_0x4876ab(0xb2e)]());await runTransaction(db,async _0x3f9031=>{const _0x1015cc=_0x4876ab;let _0x2b2c3d=0x0;const _0x884635={};let _0x4a2761=!![],_0x3c83f8=0x0,_0x161ebe=0x0;for(const _0x5afa08 of _0x2caa16){const _0x1740a9=_0x3aef87[_0x1015cc(0x6db)](_0x5afa08),_0x336b07=doc(db,_0x1015cc(0xc4a)+appId+_0x1015cc(0x2a1)+_0x5afa08+_0x1015cc(0xc5e),_0x2fd889),_0x106659=await _0x3f9031['get'](_0x336b07);if(_0x106659[_0x1015cc(0x37f)]()){const _0x1bdb2e=_0x106659['data'](),_0xbd9aa4=_0x1bdb2e[_0x1015cc(0xacb)]||[];if(_0xbd9aa4[_0x1015cc(0x8da)]>0x0){const _0x1140a4=_0xbd9aa4[_0x1015cc(0x1e3)]((_0x139283,_0x1b8fdb)=>{const _0x1e419c=_0x1015cc;if(_0x1b8fdb[_0x1e419c(0x7e2)]>_0x139283[_0x1e419c(0x7e2)])return _0x1b8fdb;if(_0x1b8fdb['score']===_0x139283[_0x1e419c(0x7e2)])return(_0x1b8fdb['points']||0x0)>(_0x139283[_0x1e419c(0x2f8)]||0x0)?_0x1b8fdb:_0x139283;return _0x139283;},{'score':-0x1,'points':-0x1});_0x1140a4[_0x1015cc(0x7e2)]>-0x1&&(_0x2b2c3d+=_0x1140a4[_0x1015cc(0x2f8)]||0x0,(_0x1140a4[_0x1015cc(0x8ad)]||[])[_0x1015cc(0x4aa)](_0x2112af=>{_0x884635[_0x2112af]=(_0x884635[_0x2112af]||0x0)+0x1;}));}}if(_0x1740a9[_0x1015cc(0x257)]!==_0x1015cc(0xe46)){_0x161ebe++;if(_0x106659[_0x1015cc(0x37f)]()){_0x3c83f8++;const _0x55d597=_0x106659[_0x1015cc(0x7f7)]();_0x55d597[_0x1015cc(0xb96)]!==_0x55d597[_0x1015cc(0xdf0)]&&(_0x4a2761=![]);}else _0x4a2761=![];}}_0x161ebe>0x0&&_0x3c83f8===_0x161ebe&&_0x4a2761?_0x884635['specialist']=0x1:_0x884635['specialist']=0x0,_0x3f9031[_0x1015cc(0x624)](_0x1235c6,{'studentName':_0x2fd889,'totalPoints':_0x2b2c3d,'unlockedBadges':Object[_0x1015cc(0xb2e)](_0x884635)['filter'](_0x1bcdbc=>_0x884635[_0x1bcdbc]>0x0),'badgesCount':_0x884635},{'merge':!![]});});}catch(_0x106af7){console[_0x4876ab(0x7cd)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x106af7),showMessage(_0x4876ab(0xe89));}}function startAdminTest(){const _0x35ffa5=_0x4b15a0;if(!currentQuizData){showMessage(_0x35ffa5(0x5ed));return;}let _0x5e74e6=JSON[_0x35ffa5(0x717)](JSON[_0x35ffa5(0x4d8)](currentQuizData));currentMode=_0x35ffa5(0xa10),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x35ffa5(0xbd3)][_0x35ffa5(0x72b)]('hidden'),studentView['classList']['remove'](_0x35ffa5(0x81c)),studentInitialView[_0x35ffa5(0xbd3)]['add'](_0x35ffa5(0x81c)),studentNameSelectionView['classList'][_0x35ffa5(0x72b)](_0x35ffa5(0x81c)),studentResultArea[_0x35ffa5(0xbd3)][_0x35ffa5(0x72b)]('hidden'),studentQuizArea['classList']['remove'](_0x35ffa5(0x81c)),quizStartTime=new Date(),displayQuizForStudent(_0x5e74e6);}function handleResultDisplay(_0x52c517,_0x5e0dbf,_0x555195,_0x6a3ed5,_0x2d39d3,_0x12a884){const _0x115916=_0x4b15a0;if(_0x52c517===_0x115916(0xdfd)){displaySubmissionConfirmation();return;}const _0x54358d=currentDisplayedQuiz[_0x115916(0x879)]?.['passingScore']??Math[_0x115916(0x426)](_0x12a884/0x2),_0xa82a5b=currentDisplayedQuiz[_0x115916(0x879)]?.[_0x115916(0x6af)]??![],_0x25d19f=currentDisplayedQuiz[_0x115916(0x879)]?.[_0x115916(0x30c)]===!![],_0x48b12b=_0x5e0dbf<_0x54358d,_0x529076=_0x52c517==='half_mark_status'||_0x52c517===_0x115916(0x32e);if(_0x25d19f&&_0x48b12b&&!_0x529076){_0x52c517===_0x115916(0xe4a)?displayResultsWithAnswers(_0x5e0dbf,_0x555195,_0x6a3ed5,_0x2d39d3,_0x12a884,!![]):displayLoopScreen(_0x5e0dbf,_0x12a884,_0x52c517);return;}if(_0xa82a5b&&_0x48b12b){startAdaptiveFlow(_0x2d39d3,_0x5e0dbf,_0x12a884);return;}switch(_0x52c517){case _0x115916(0xe4a):displayResultsWithAnswers(_0x5e0dbf,_0x555195,_0x6a3ed5,_0x2d39d3,_0x12a884);break;case _0x115916(0x6c2):displayResultsScoreOnly(_0x5e0dbf,_0x555195,_0x6a3ed5,_0x12a884);break;case _0x115916(0xa61):displayPassFailOnly(_0x5e0dbf,_0x12a884);break;case _0x115916(0x506):displayHalfMarkResult(_0x5e0dbf,_0x12a884);break;case _0x115916(0x32e):displayPerfectScoreResult(_0x5e0dbf,_0x12a884);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x49db62){const _0x405629=_0x4b15a0;studentReadingArea[_0x405629(0x7fc)]=_0x405629(0xdf4);const _0x240deb=_0x405629(0x94a)+_0x49db62+_0x405629(0x538)+simpleMathPrompt+_0x405629(0xaa2),_0x4b4b3f={'type':_0x405629(0x4a5),'properties':{'questionText':{'type':_0x405629(0x902)},'options':{'type':_0x405629(0x537),'items':{'type':_0x405629(0x902)}},'correctAnswerIndex':{'type':_0x405629(0x487)},'explanation':{'type':'STRING'}},'required':[_0x405629(0x931),'options','correctAnswerIndex',_0x405629(0xe51)]},_0x580cad={'type':_0x405629(0x4a5),'properties':{'topic':{'type':_0x405629(0x902)},'questions':{'type':'ARRAY','items':_0x4b4b3f}},'required':[_0x405629(0x257),_0x405629(0xa09)]};try{const _0x3c952d=await callAnalysisApi(_0x240deb,_0x580cad);_0x3c952d[_0x405629(0x5f6)]=!![],studentReadingArea['classList']['add']('hidden');const _0x475db7={...currentDisplayedQuiz[_0x405629(0x879)],'isAdaptive':![],'resultsDisplay':_0x405629(0xe4a)};_0x3c952d['settings']=_0x475db7,displayQuizForStudent(_0x3c952d);}catch(_0x3b4297){console[_0x405629(0x7cd)](_0x405629(0xa1f),_0x3b4297),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView('student');}}function displayPassFailOnly(_0x87854,_0x2d4600){const _0x53391b=_0x4b15a0,_0x286eec=currentDisplayedQuiz['settings']?.[_0x53391b(0x7ba)]??-0x1,_0xece06e=currentDisplayedQuiz[_0x53391b(0x5f6)]===!![];let _0x5f382d='',_0x436853=![];if(_0xece06e||_0x286eec!==-0x1){_0x436853=_0xece06e?_0x87854===_0x2d4600:_0x87854>=_0x286eec;const _0x1e44f1=_0x436853?'bg-green-100\x20text-green-800':_0x53391b(0x770),_0x4538bf=_0x436853?_0x53391b(0x9d1):_0x53391b(0xd44);_0x5f382d=_0x53391b(0xd91)+_0x1e44f1+'\x22>'+_0x4538bf+_0x53391b(0x72d);}else _0x5f382d=_0x53391b(0x990);let _0x519053=_0x53391b(0x2c2)+currentStudentName+_0x53391b(0xae3)+_0x5f382d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x53391b(0x7fc)]=_0x519053,studentResultArea[_0x53391b(0xbd3)][_0x53391b(0x5f4)]('hidden'),studentQuizArea['classList']['add'](_0x53391b(0x81c)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x436853});}function cancelAdminTest(){const _0x35cf37=_0x4b15a0;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x35cf37(0x28b)]('fullscreenchange',handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange),currentMode=_0x35cf37(0x1e2),studentView['classList'][_0x35cf37(0x72b)]('hidden'),adminView['classList']['remove'](_0x35cf37(0x81c)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x35cf37(0x2c6));}function setupResultScreenBackButton(_0x4e6fe9){const _0x24bdf9=_0x4b15a0,_0x361d11={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x4e6fe9};if(_0x361d11[_0x24bdf9(0xd34)]){const _0x66b99=_0x24bdf9(0x8c0);studentResultArea[_0x24bdf9(0x3dd)](_0x24bdf9(0x6d9),_0x66b99),document[_0x24bdf9(0xb9f)](_0x24bdf9(0x555))['addEventListener'](_0x24bdf9(0xd6c),()=>{const _0x57be7f=_0x24bdf9;studentResultArea[_0x57be7f(0xbd3)][_0x57be7f(0x72b)](_0x57be7f(0x81c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x456074=_0x24bdf9(0xc7c),_0x490601=currentMode===_0x24bdf9(0xa10),_0x5d222b=_0x490601?_0x24bdf9(0xc14):_0x24bdf9(0x837);let _0x37fc2d='';_0x361d11[_0x24bdf9(0x3ad)]&&(_0x37fc2d+=_0x24bdf9(0x86f));let _0x3bbe95=_0x361d11[_0x24bdf9(0x696)];_0x3bbe95===undefined&&(_0x3bbe95=_0x361d11[_0x24bdf9(0x7e2)]<_0x361d11['totalQuestions']);_0x3bbe95&&(_0x37fc2d+=_0x24bdf9(0x7a4));_0x37fc2d+=_0x24bdf9(0x9cc)+_0x456074+_0x24bdf9(0x8f3)+_0x5d222b+'</button>';const _0x3a0a9b=_0x24bdf9(0x230)+_0x37fc2d+_0x24bdf9(0xd14);studentResultArea[_0x24bdf9(0x3dd)](_0x24bdf9(0x6d9),_0x3a0a9b),studentResultArea[_0x24bdf9(0x584)](_0x24bdf9(0x55e))?.[_0x24bdf9(0x95a)]('click',handleShowStudentRankings);const _0x347d95=studentResultArea[_0x24bdf9(0x584)](_0x24bdf9(0x6c4));_0x347d95&&_0x347d95['addEventListener'](_0x24bdf9(0xd6c),()=>{const _0x3d0af6=_0x24bdf9;studentResultArea[_0x3d0af6(0xbd3)][_0x3d0af6(0x72b)](_0x3d0af6(0x81c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x456074)[_0x24bdf9(0x95a)](_0x24bdf9(0xd6c),()=>{const _0x2cc552=_0x24bdf9;_0x490601?(currentMode='admin',studentView[_0x2cc552(0xbd3)][_0x2cc552(0x72b)](_0x2cc552(0x81c)),adminView[_0x2cc552(0xbd3)][_0x2cc552(0x5f4)](_0x2cc552(0x81c)),showView(_0x2cc552(0x2c6))):(showView(_0x2cc552(0x441)),document[_0x2cc552(0xb9f)](_0x2cc552(0x63e))[_0x2cc552(0x232)]='');});}function displayResultsWithAnswers(_0x510d43,_0x232937,_0x46d4f2,_0x30d7bc,_0x529a8d,_0x200b51=![]){const _0x23a6fd=_0x4b15a0,_0x1b81ba=_0x529a8d>0x0?_0x510d43/_0x529a8d*0x64:0x0,_0x2466f4=currentDisplayedQuiz['settings']?.[_0x23a6fd(0x7ba)]??-0x1,_0x8c4a5=currentDisplayedQuiz[_0x23a6fd(0x5f6)]===!![];let _0x5d2971='';if(_0x8c4a5||_0x2466f4!==-0x1){let _0x1cb931=_0x8c4a5?_0x510d43===_0x529a8d:_0x510d43>=_0x2466f4;const _0xa7ee6d=_0x1cb931?_0x23a6fd(0x989):_0x23a6fd(0x770),_0x4a84e2=_0x1cb931?'ผ่าน':_0x23a6fd(0xd44);_0x5d2971=_0x23a6fd(0x519)+_0xa7ee6d+'\x22>'+_0x4a84e2+_0x23a6fd(0xe43);}let _0x41b578=_0x23a6fd(0xad6)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x510d43+_0x23a6fd(0x885)+_0x529a8d+_0x23a6fd(0x353)+_0x5d2971+_0x23a6fd(0x739)+_0x232937+_0x23a6fd(0x558)+_0x1b81ba[_0x23a6fd(0x63d)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x23a6fd(0xa09)]['forEach']((_0x5dedc6,_0x5c5c80)=>{const _0x424d6f=_0x23a6fd,_0x1a570b=_0x30d7bc[_0x5c5c80],_0x40d048=_0x1a570b[_0x424d6f(0x253)],_0xf2012f=_0x1a570b[_0x424d6f(0x809)],_0x6b5933=_0x5dedc6[_0x424d6f(0x899)]||currentDisplayedQuiz[_0x424d6f(0xd68)];_0x41b578+=_0x424d6f(0xe09)+(_0xf2012f?_0x424d6f(0x1ec):'border-red-300\x20bg-red-50')+_0x424d6f(0xdb9)+(_0x5c5c80+0x1)+'.\x20'+(_0x5dedc6[_0x424d6f(0x7fb)]||_0x5dedc6['questionText'])+_0x424d6f(0x604);switch(_0x6b5933){case _0x424d6f(0x50f):const _0x166963=_0x40d048||_0x424d6f(0x598),_0x4e64e5=_0x5dedc6[_0x424d6f(0xa54)];_0x41b578+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0xf2012f?_0x424d6f(0x56e):'')+'\x22>'+_0x166963+'</span></p>';!_0xf2012f&&(_0x41b578+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x4e64e5+'</p>');break;case _0x424d6f(0xc9f):_0x41b578+=_0x424d6f(0x88b)+(_0x40d048||_0x424d6f(0x598))+_0x424d6f(0xe43),_0x41b578+=_0x424d6f(0x605)+_0x5dedc6[_0x424d6f(0x493)]+_0x424d6f(0xe43);break;case _0x424d6f(0xa29):_0x41b578+='<p\x20class=\x22'+(_0x5dedc6[_0x424d6f(0x9fb)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x40d048===_0x424d6f(0xb18)&&!_0xf2012f?_0x424d6f(0x56e):'')+_0x424d6f(0xc36),_0x41b578+='<p\x20class=\x22'+(_0x5dedc6[_0x424d6f(0x9fb)]===![]?_0x424d6f(0xc44):'')+'\x20'+(_0x40d048===_0x424d6f(0xbf4)&&!_0xf2012f?_0x424d6f(0x56e):'')+_0x424d6f(0x56a);break;default:_0x41b578+=_0x5dedc6[_0x424d6f(0x4d1)][_0x424d6f(0xa0d)]((_0x6ab221,_0x36d4f3)=>{const _0x53daa1=_0x424d6f;let _0x27a90f='',_0x557ac1='';if(_0x36d4f3===_0x5dedc6[_0x53daa1(0x82e)])_0x27a90f=_0x53daa1(0xc44),_0x557ac1=_0x53daa1(0xca6);else _0x36d4f3===_0x40d048&&(_0x27a90f=_0x53daa1(0x858),_0x557ac1='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return _0x53daa1(0x312)+_0x27a90f+'\x22>'+_0x557ac1+_0x6ab221+_0x53daa1(0xd14);})[_0x424d6f(0x510)]('');break;}_0x41b578+=_0x424d6f(0x50a)+(_0x5dedc6[_0x424d6f(0xe51)]||'ไม่มีคำอธิบาย')+'</div>';if(!_0xf2012f){const _0x14962b=_0x5dedc6[_0x424d6f(0x7fb)]||_0x5dedc6['questionText'];_0x41b578+=_0x424d6f(0xdd9)+escape(_0x14962b)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x41b578+=_0x424d6f(0xd14);}),studentResultArea[_0x23a6fd(0x7fc)]=_0x41b578,renderEarnedBadges(_0x46d4f2,_0x23a6fd(0x4da)),studentResultArea['classList'][_0x23a6fd(0x5f4)]('hidden'),studentQuizArea[_0x23a6fd(0xbd3)][_0x23a6fd(0x72b)](_0x23a6fd(0x81c)),setupResultScreenBackButton({'isLooping':_0x200b51,'score':_0x510d43,'totalQuestions':_0x529a8d,'showRankings':!![]});if(window[_0x23a6fd(0x51a)])window[_0x23a6fd(0x51a)][_0x23a6fd(0xbce)]([studentResultArea]);}function displayResultsScoreOnly(_0x1b0e0a,_0x2dfec0,_0xa90ff5,_0x22817f){const _0xc4a280=_0x4b15a0,_0x549316=_0x22817f>0x0?_0x1b0e0a/_0x22817f*0x64:0x0,_0x295bd1=currentDisplayedQuiz[_0xc4a280(0x879)]?.[_0xc4a280(0x7ba)]??-0x1,_0x8ed93e=currentDisplayedQuiz[_0xc4a280(0x5f6)]===!![];let _0x31c092='';if(_0x8ed93e||_0x295bd1!==-0x1){let _0x371b76=_0x8ed93e?_0x1b0e0a===_0x22817f:_0x1b0e0a>=_0x295bd1;const _0x338bac=_0x371b76?'bg-green-100\x20text-green-800':_0xc4a280(0x770),_0x5c5a7a=_0x371b76?_0xc4a280(0x9d1):_0xc4a280(0xd44);_0x31c092=_0xc4a280(0x519)+_0x338bac+'\x22>'+_0x5c5a7a+_0xc4a280(0xe43);}let _0x544b3d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0xc4a280(0xbab)+_0x1b0e0a+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x22817f+_0xc4a280(0x353)+_0x31c092+_0xc4a280(0x739)+_0x2dfec0+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x549316['toFixed'](0x0)+_0xc4a280(0x826);studentResultArea[_0xc4a280(0x7fc)]=_0x544b3d,renderEarnedBadges(_0xa90ff5,_0xc4a280(0x4da)),studentResultArea[_0xc4a280(0xbd3)][_0xc4a280(0x5f4)](_0xc4a280(0x81c)),studentQuizArea[_0xc4a280(0xbd3)][_0xc4a280(0x72b)]('hidden'),setupResultScreenBackButton({'score':_0x1b0e0a,'totalQuestions':_0x22817f,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x17fde0=_0x4b15a0;let _0x3968e8=_0x17fde0(0xc45)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x17fde0(0x7fc)]=_0x3968e8,studentResultArea[_0x17fde0(0xbd3)]['remove']('hidden'),studentQuizArea['classList'][_0x17fde0(0x72b)](_0x17fde0(0x81c)),document[_0x17fde0(0xb9f)]('back-to-home-manual-release')[_0x17fde0(0x95a)](_0x17fde0(0xd6c),()=>{const _0xdeae46=_0x17fde0;showView('student'),document[_0xdeae46(0xb9f)](_0xdeae46(0x63e))['value']='';});}function renderEarnedBadges(_0x4c3cf2,_0x6e3e6a){const _0x2ae657=_0x4b15a0,_0x802147=document['getElementById'](_0x6e3e6a);if(!_0x802147||!_0x4c3cf2||_0x4c3cf2['length']===0x0)return;let _0x30ef1e='';_0x4c3cf2[_0x2ae657(0x4aa)]((_0x2de68d,_0x42d51e)=>{const _0x1719a0=_0x2ae657,_0x1fd8a5=Object['values'](BADGES)['find'](_0x3061d8=>_0x3061d8['id']===_0x2de68d);_0x1fd8a5&&(_0x30ef1e+=_0x1719a0(0xcdb)+_0x42d51e*0.2+_0x1719a0(0xdae)+_0x1fd8a5[_0x1719a0(0x8b9)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x1fd8a5[_0x1719a0(0x424)]+_0x1719a0(0x8c2)+_0x1fd8a5[_0x1719a0(0x757)]+_0x1719a0(0xaff));}),_0x802147['innerHTML']=_0x30ef1e;}function startPresentation(_0x33ee33){const _0x51c015=_0x4b15a0;currentQuizData=getShuffledQuiz(_0x33ee33),currentPresentationSlide=0x0,presentationModal[_0x51c015(0x8b5)][_0x51c015(0x4e3)]=_0x51c015(0x5bc),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x4fc9de=_0x4b15a0;document[_0x4fc9de(0x87a)]&&document[_0x4fc9de(0x2d5)](),presentationModal[_0x4fc9de(0x8b5)][_0x4fc9de(0x4e3)]=_0x4fc9de(0xbae);}function renderPresentationSlide(_0x419611){const _0xbeb31e=_0x4b15a0,_0x303512=document[_0xbeb31e(0xb9f)](_0xbeb31e(0xe2d));if(!currentQuizData||!currentQuizData[_0xbeb31e(0xa09)]||!currentQuizData[_0xbeb31e(0xa09)][_0x419611]){_0x303512[_0xbeb31e(0x7fc)]=_0xbeb31e(0x40e);return;}const _0x5606ec=currentQuizData['questions'][_0x419611],_0xcecac5=_0x5606ec[_0xbeb31e(0x899)]||currentQuizData[_0xbeb31e(0xd68)];_0x303512[_0xbeb31e(0x7fc)]='';let _0x3148d4=_0xbeb31e(0x5aa)+(_0x5606ec[_0xbeb31e(0xe33)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x5606ec[_0xbeb31e(0xe33)]+_0xbeb31e(0xd14):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x419611+0x1)+'.\x20'+(_0x5606ec[_0xbeb31e(0x7fb)]||_0x5606ec[_0xbeb31e(0x931)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0xcecac5){case _0xbeb31e(0x50f):_0x3148d4+=_0x5606ec[_0xbeb31e(0x816)]['map'](_0x3b1d6d=>_0xbeb31e(0xac7)+_0x3b1d6d+_0xbeb31e(0x587))[_0xbeb31e(0x510)]('');break;case _0xbeb31e(0xa29):_0x3148d4+=_0xbeb31e(0xe49),_0x3148d4+=_0xbeb31e(0xc62);break;case _0xbeb31e(0xb63):case _0xbeb31e(0xc9f):_0x3148d4+=_0xbeb31e(0x66b);break;case _0xbeb31e(0x9f7):case _0xbeb31e(0x9c3):default:_0x3148d4+=_0x5606ec[_0xbeb31e(0x4d1)][_0xbeb31e(0xa0d)]((_0xf6f5ec,_0x15ce59)=>_0xbeb31e(0x762)+_0x15ce59+_0xbeb31e(0xbd8)+_0xf6f5ec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xbeb31e(0x510)]('');break;}_0x3148d4+=_0xbeb31e(0xa78)+(_0x5606ec[_0xbeb31e(0xe51)]||'ไม่มีคำอธิบาย')+_0xbeb31e(0x241),_0x303512[_0xbeb31e(0x7fc)]=_0x3148d4;if(window[_0xbeb31e(0x51a)])window[_0xbeb31e(0x51a)][_0xbeb31e(0xbce)]([_0x303512]);let _0x879ca=[];switch(_0xcecac5){case _0xbeb31e(0x50f):_0x879ca=_0x5606ec['allResponses']||[];break;case _0xbeb31e(0xa29):_0x879ca=['ใช่',_0xbeb31e(0x331)];break;default:_0x879ca=_0x5606ec[_0xbeb31e(0x4d1)]||[];break;}const _0x35ff2b=document['getElementById']('presentation-scratchpad-btn');_0x35ff2b&&(_0x35ff2b[_0xbeb31e(0x760)]=()=>{openScratchpad(_0x5606ec,_0x879ca);});document[_0xbeb31e(0x3eb)](_0xbeb31e(0xa5f))[_0xbeb31e(0x4aa)](_0xb399fb=>{const _0x55c7c6=_0xbeb31e;_0xb399fb[_0x55c7c6(0x95a)](_0x55c7c6(0xd6c),_0x5636be=>revealAnswerForPresentation(_0x419611,_0x5636be[_0x55c7c6(0xb52)]));});const _0x1fd539=document[_0xbeb31e(0xb9f)](_0xbeb31e(0x30a));_0x1fd539&&_0x1fd539[_0xbeb31e(0x95a)]('click',()=>checkShortAnswerForPresentation(_0x419611)),document[_0xbeb31e(0xb9f)](_0xbeb31e(0xdba))[_0xbeb31e(0x1d0)]=_0xbeb31e(0xed6)+(_0x419611+0x1)+_0xbeb31e(0xc6c)+currentQuizData[_0xbeb31e(0xa09)]['length'],document[_0xbeb31e(0xb9f)](_0xbeb31e(0x7fd))[_0xbeb31e(0x417)]=_0x419611===0x0,document[_0xbeb31e(0xb9f)](_0xbeb31e(0xbc4))['disabled']=_0x419611===currentQuizData['questions'][_0xbeb31e(0x8da)]-0x1;}async function checkShortAnswerForPresentation(_0x2a9ebd){const _0x3da60c=_0x4b15a0,_0x368bd6=currentQuizData[_0x3da60c(0xa09)][_0x2a9ebd],_0x1f35f2=document[_0x3da60c(0xb9f)](_0x3da60c(0xa71)),_0xabe8b1=document[_0x3da60c(0xb9f)](_0x3da60c(0x30a)),_0x7608a0=document[_0x3da60c(0xb9f)](_0x3da60c(0x4b5)),_0x26a43e=document[_0x3da60c(0xb9f)]('presentation-explanation');if(!_0x1f35f2||!_0xabe8b1||!_0x7608a0||!_0x26a43e)return;const _0x4bff08=_0x1f35f2[_0x3da60c(0x232)][_0x3da60c(0xbdc)]();if(_0x4bff08==='')return;_0xabe8b1[_0x3da60c(0x417)]=!![],_0xabe8b1[_0x3da60c(0x7fc)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x1f35f2[_0x3da60c(0x417)]=!![];const _0x43e18c=await gradeShortAnswer(_0x4bff08,_0x368bd6);_0x43e18c?_0x7608a0['innerHTML']=_0x3da60c(0x777):_0x7608a0[_0x3da60c(0x7fc)]=_0x3da60c(0x86e)+_0x368bd6[_0x3da60c(0x493)]+')',_0x7608a0[_0x3da60c(0xbd3)][_0x3da60c(0x5f4)](_0x3da60c(0x81c)),_0x26a43e[_0x3da60c(0xbd3)]['remove'](_0x3da60c(0x81c)),_0xabe8b1[_0x3da60c(0xbd3)]['add'](_0x3da60c(0x81c));}function revealAnswerForPresentation(_0x5e6868,_0x57d3ff){const _0x5d849c=_0x4b15a0,_0x3fd1ce=currentQuizData['questions'][_0x5e6868],_0x5735ea=_0x3fd1ce['questionType']||currentQuizData[_0x5d849c(0xd68)];document[_0x5d849c(0x3eb)](_0x5d849c(0xa5f))[_0x5d849c(0x4aa)](_0x5f1daf=>{const _0x1a62cf=_0x5d849c;_0x5f1daf[_0x1a62cf(0x417)]=!![],_0x5f1daf[_0x1a62cf(0xbd3)][_0x1a62cf(0x5f4)](_0x1a62cf(0x6b3));let _0x54cdca=![];if(_0x5735ea===_0x1a62cf(0x9c3)||_0x5735ea===_0x1a62cf(0x9f7)){const _0x10ac79=parseInt(_0x5f1daf[_0x1a62cf(0x273)][_0x1a62cf(0x6d7)]);_0x54cdca=_0x10ac79===_0x3fd1ce[_0x1a62cf(0x82e)];}else{if(_0x5735ea==='true_false'){const _0x48e24e=_0x5f1daf['dataset'][_0x1a62cf(0x253)]==='true';_0x54cdca=_0x48e24e===_0x3fd1ce[_0x1a62cf(0x9fb)];}else _0x5735ea===_0x1a62cf(0x50f)&&(_0x54cdca=_0x5f1daf['textContent'][_0x1a62cf(0xbdc)]()===_0x3fd1ce['correctResponse']);}_0x54cdca?_0x5f1daf[_0x1a62cf(0xbd3)][_0x1a62cf(0x72b)](_0x1a62cf(0xc93),'text-white',_0x1a62cf(0xde8)):_0x5f1daf[_0x1a62cf(0xbd3)][_0x1a62cf(0x72b)](_0x1a62cf(0xb70));}),_0x57d3ff[_0x5d849c(0xbd3)][_0x5d849c(0x5f4)](_0x5d849c(0xb70));let _0x8241f8=![];if(_0x5735ea===_0x5d849c(0x9c3))_0x8241f8=parseInt(_0x57d3ff[_0x5d849c(0x273)][_0x5d849c(0x6d7)])===_0x3fd1ce[_0x5d849c(0x82e)];else{if(_0x5735ea===_0x5d849c(0xa29))_0x8241f8=_0x57d3ff['dataset']['answer']===_0x5d849c(0xb18)===_0x3fd1ce['correctAnswer'];else _0x5735ea===_0x5d849c(0x50f)&&(_0x8241f8=_0x57d3ff['textContent'][_0x5d849c(0xbdc)]()===_0x3fd1ce[_0x5d849c(0xa54)]);}!_0x8241f8&&_0x57d3ff[_0x5d849c(0xbd3)]['add'](_0x5d849c(0x572),_0x5d849c(0xe17),'border-red-700'),document['getElementById'](_0x5d849c(0x577))[_0x5d849c(0xbd3)][_0x5d849c(0x5f4)](_0x5d849c(0x81c));}function startWholeQuizTimer(_0xa8b858){const _0x568cea=_0x4b15a0,_0x43e6d2=document[_0x568cea(0xb9f)]('timer-container');if(!_0x43e6d2)return;const _0xb1b3e9=Date[_0x568cea(0xb38)]()+_0xa8b858*0x3c*0x3e8;_0x43e6d2[_0x568cea(0x7fc)]=_0x568cea(0xe13);const _0x52035f=document['getElementById'](_0x568cea(0xedf));quizTimerInterval=setInterval(()=>{const _0xc4cd0b=_0x568cea,_0x5d1015=_0xb1b3e9-Date[_0xc4cd0b(0xb38)]();if(_0x5d1015<=0x0)clearInterval(quizTimerInterval),_0x52035f['textContent']=_0xc4cd0b(0x339),showMessage(_0xc4cd0b(0xa97)),handleSubmitQuiz(null);else{const _0x53356e=Math[_0xc4cd0b(0x426)](_0x5d1015/0x3e8/0x3c%0x3c)[_0xc4cd0b(0xbb9)]()[_0xc4cd0b(0x5c0)](0x2,'0'),_0x20ee6d=Math[_0xc4cd0b(0x426)](_0x5d1015/0x3e8%0x3c)[_0xc4cd0b(0xbb9)]()[_0xc4cd0b(0x5c0)](0x2,'0');_0x52035f['textContent']=_0x53356e+':'+_0x20ee6d;}},0x3e8);}function renderPerQuestionView(){const _0x4a0b95=_0x4b15a0;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x39630a=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x4df466=_0x39630a[_0x4a0b95(0x899)]||currentDisplayedQuiz['quizType'],_0x452129=currentDisplayedQuiz[_0x4a0b95(0x879)]?.[_0x4a0b95(0xb89)]===!![];let _0x3ae0ac='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x4a0b95(0xa09)][_0x4a0b95(0x8da)]+_0x4a0b95(0xbcc)+(currentMode===_0x4a0b95(0xa10)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x4a0b95(0x55c)+currentDisplayedQuiz['topic']+_0x4a0b95(0x4e0);studentQuizArea[_0x4a0b95(0x7fc)]=_0x3ae0ac;let _0x53a2df=_0x39630a[_0x4a0b95(0x7fb)]||_0x39630a[_0x4a0b95(0x931)];_0x39630a[_0x4a0b95(0xe33)]&&(_0x53a2df+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x39630a[_0x4a0b95(0xe33)]+_0x4a0b95(0xd14));let _0x17d155='';switch(_0x4df466){case'short_answer':case'fill_in_no_choices':_0x17d155='<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x4a0b95(0xa29):_0x17d155=_0x4a0b95(0x23a);break;case _0x4a0b95(0x50f):_0x17d155='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x39630a[_0x4a0b95(0x816)]||[])['map'](_0x3589e8=>_0x4a0b95(0xe02)+_0x3589e8+'\x22>'+_0x3589e8+_0x4a0b95(0x36b))[_0x4a0b95(0x510)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x39630a[_0x4a0b95(0x4d1)]&&(_0x17d155=_0x39630a[_0x4a0b95(0x4d1)][_0x4a0b95(0xa0d)]((_0x5b595b,_0x4eadb4)=>'<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt'+_0x4eadb4+_0x4a0b95(0x764)+_0x4eadb4+_0x4a0b95(0xb47)+_0x4eadb4+'\x22>'+_0x5b595b+_0x4a0b95(0x4fb))[_0x4a0b95(0x510)](''));break;}document[_0x4a0b95(0xb9f)]('per-question-text')[_0x4a0b95(0x7fc)]=_0x53a2df,document['getElementById'](_0x4a0b95(0x805))[_0x4a0b95(0x7fc)]=_0x17d155;const _0x4c828d=currentDisplayedQuiz[_0x4a0b95(0x879)]?.[_0x4a0b95(0xb89)]===!![],_0x9effd2=currentDisplayedQuiz[_0x4a0b95(0x879)]?.[_0x4a0b95(0x377)]||'checkbox';if(_0x4c828d&&_0x9effd2===_0x4a0b95(0x48b)){const _0xfc2d93=_0x4a0b95(0x2a5);studentQuizArea[_0x4a0b95(0x584)]('.mb-6.p-4')[_0x4a0b95(0x3dd)](_0x4a0b95(0x6d9),_0xfc2d93);}studentQuizArea[_0x4a0b95(0x3dd)](_0x4a0b95(0x6d9),_0x4a0b95(0x682)+(currentQuestionIndex===currentDisplayedQuiz[_0x4a0b95(0xa09)][_0x4a0b95(0x8da)]-0x1?'ส่งคำตอบ':_0x4a0b95(0xd87))+_0x4a0b95(0x6e0));currentMode===_0x4a0b95(0xa10)&&document[_0x4a0b95(0xb9f)](_0x4a0b95(0x940))?.[_0x4a0b95(0x95a)](_0x4a0b95(0xd6c),cancelAdminTest);document['getElementById'](_0x4a0b95(0x9d3))['addEventListener'](_0x4a0b95(0xd6c),()=>handleNextQuestionInTimedMode(![]));if(window[_0x4a0b95(0x51a)])window[_0x4a0b95(0x51a)][_0x4a0b95(0xbce)]([studentQuizArea]);currentDisplayedQuiz[_0x4a0b95(0x879)]?.[_0x4a0b95(0x98f)]===_0x4a0b95(0x39b)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x39084d=_0x4b15a0,_0xa64795=currentDisplayedQuiz[_0x39084d(0x879)][_0x39084d(0x775)],_0x4ec6f8=document['getElementById'](_0x39084d(0xb4a));if(!_0x4ec6f8)return;let _0x138ff6=_0xa64795;_0x4ec6f8[_0x39084d(0x7fc)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x138ff6+_0x39084d(0xdb4);const _0x46e6e6=document['getElementById'](_0x39084d(0xa18)),_0x5b219f=document[_0x39084d(0xb9f)](_0x39084d(0x7ae));perQuestionTimerInterval=setInterval(()=>{const _0x2684fc=_0x39084d;_0x138ff6--;const _0xc23bcf=_0x138ff6/_0xa64795*0x64;_0x46e6e6['style'][_0x2684fc(0x3bf)]=_0xc23bcf+'%',_0x5b219f[_0x2684fc(0x1d0)]=_0x138ff6,_0x138ff6<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x2684fc(0x697)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x25c3a4=![]){const _0x5a983b=_0x4b15a0;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x4e3ff8=null,_0x2e911e=![];if(!_0x25c3a4){const _0x5b17b7=currentDisplayedQuiz[_0x5a983b(0xa09)][currentQuestionIndex],_0x2fae1e=_0x5b17b7[_0x5a983b(0x899)]||currentDisplayedQuiz[_0x5a983b(0xd68)];if(_0x2fae1e===_0x5a983b(0xc9f)||_0x2fae1e==='fill_in_no_choices')_0x4e3ff8=document['querySelector'](_0x5a983b(0xb43))?.[_0x5a983b(0x232)]['trim']()??'';else{if(_0x2fae1e===_0x5a983b(0x50f))_0x4e3ff8=document[_0x5a983b(0x584)](_0x5a983b(0x8c3))?.['value']??'';else{const _0x198d9f=document[_0x5a983b(0x584)]('input[name=\x22question_single\x22]:checked');_0x198d9f&&(_0x4e3ff8=_0x198d9f['value']);}}if(_0x4e3ff8===null||_0x4e3ff8===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x10af6d=currentDisplayedQuiz['settings']?.[_0x5a983b(0xb89)]===!![],_0x2fc2c5=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x5a983b(0x48b);if(_0x10af6d&&_0x2fc2c5==='mandatory'){document['getElementById'](_0x5a983b(0x825))[_0x5a983b(0x273)][_0x5a983b(0xc25)]='timed',document[_0x5a983b(0xb9f)](_0x5a983b(0xc9e))['value']=_0x4e3ff8,document['getElementById'](_0x5a983b(0x825))[_0x5a983b(0xbd3)][_0x5a983b(0x5f4)](_0x5a983b(0x81c));return;}const _0x2a32fa=document[_0x5a983b(0xb9f)](_0x5a983b(0x562));_0x2a32fa&&(_0x2e911e=_0x2a32fa[_0x5a983b(0x270)]);}const _0x5d0182={'answer':_0x4e3ff8,'wasConfident':_0x2e911e};proceedToNextQuestion(_0x5d0182);}async function finalizePerQuestionQuiz(){const _0x2027fd=_0x4b15a0,_0x4eb76a=currentDisplayedQuiz[_0x2027fd(0xa09)][_0x2027fd(0x45c)](_0x5236da=>_0x5236da['questionType']===_0x2027fd(0xc9f));_0x4eb76a?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x2027fd(0x985));const _0x1ef584=currentQuizData['id'],_0x584d28=doc(db,_0x2027fd(0xc4a)+appId+_0x2027fd(0x2a1)+_0x1ef584+_0x2027fd(0xc5e),currentStudentName),_0x8fbfc=await getDoc(_0x584d28),_0x1dfb9a=_0x8fbfc['exists']()?_0x8fbfc['data']():{},_0x3b4835=_0x1dfb9a['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x3b4835);}function getResultsFilename(){const _0x50cb22=_0x4b15a0,_0xa85e02=document[_0x50cb22(0xb9f)](_0x50cb22(0x9ba))[_0x50cb22(0x1d0)]['replace'](/[^a-z0-9]/gi,'_')[_0x50cb22(0x724)]();return'results_'+(_0xa85e02||_0x50cb22(0x1f1));}function exportResultsAsImage(){const _0x8a49f7=_0x4b15a0,_0x1070c9=document['getElementById']('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x1070c9)[_0x8a49f7(0x729)](_0xa2211a=>{const _0x434b44=_0x8a49f7,_0x311d49=document['createElement']('a');_0x311d49[_0x434b44(0xb95)]=getResultsFilename()+_0x434b44(0x45d),_0x311d49['href']=_0xa2211a[_0x434b44(0x525)](_0x434b44(0x83d)),_0x311d49[_0x434b44(0xd6c)](),messageModal['classList'][_0x434b44(0x72b)](_0x434b44(0x81c));});}function exportResultsAsPDF(){const _0xcf667e=_0x4b15a0,{jsPDF:_0x7a4aa8}=window[_0xcf667e(0xdb0)],_0x43529c=new _0x7a4aa8();_0x43529c['setFont'](_0xcf667e(0xb3f),_0xcf667e(0xe77)),_0x43529c['autoTable']({'html':'#results-table'}),_0x43529c['save'](getResultsFilename()+_0xcf667e(0xbe1));}function exportResultsAsWord(){const _0x2414ff=_0x4b15a0,_0x58d11a=_0x2414ff(0xe87)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x2414ff(0x3c9)+_0x2414ff(0x2ff),_0x2c15e0=_0x2414ff(0x8c1),_0xe9e7e=_0x58d11a+document[_0x2414ff(0xb9f)](_0x2414ff(0xc20))[_0x2414ff(0x7fc)]+_0x2c15e0,_0x86e962='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0xe9e7e),_0x13ad6d=document[_0x2414ff(0xeb2)]('a');document[_0x2414ff(0xecd)][_0x2414ff(0x67f)](_0x13ad6d),_0x13ad6d[_0x2414ff(0x73b)]=_0x86e962,_0x13ad6d[_0x2414ff(0xb95)]=getResultsFilename()+_0x2414ff(0xd96),_0x13ad6d[_0x2414ff(0xd6c)](),document[_0x2414ff(0xecd)][_0x2414ff(0xba9)](_0x13ad6d);}function exportResultsAsExcel(){const _0x39f14e=_0x4b15a0,_0x536027=document[_0x39f14e(0xb9f)]('results-table');let _0x177fe5=[];for(let _0x382a5b=0x0;_0x382a5b<_0x536027[_0x39f14e(0xca2)]['length'];_0x382a5b++){let _0x5cbdc7=[],_0x17a121=_0x536027['rows'][_0x382a5b]['querySelectorAll'](_0x39f14e(0x596));for(let _0x4bc317=0x0;_0x4bc317<_0x17a121[_0x39f14e(0x8da)];_0x4bc317++){_0x5cbdc7[_0x39f14e(0x542)]('\x22'+_0x17a121[_0x4bc317][_0x39f14e(0x649)][_0x39f14e(0x95b)](/"/g,'\x22\x22')+'\x22');}_0x177fe5[_0x39f14e(0x542)](_0x5cbdc7['join'](','));}const _0x1dd0ee=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x177fe5[_0x39f14e(0x510)]('\x0a')],{'type':_0x39f14e(0x205)}),_0x42cab2=document[_0x39f14e(0xeb2)]('a');_0x42cab2['href']=URL[_0x39f14e(0x6a2)](_0x1dd0ee),_0x42cab2[_0x39f14e(0xb95)]=getResultsFilename()+_0x39f14e(0xb45),_0x42cab2[_0x39f14e(0xd6c)]();}function exportTableAsImage(_0x8b0326,_0x853a91){const _0x30a782=_0x4b15a0,_0x10be0c=document[_0x30a782(0xb9f)](_0x8b0326);if(!_0x10be0c){showMessage(_0x30a782(0x5bf));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x10be0c)[_0x30a782(0x729)](_0x5de318=>{const _0x1b1fa0=_0x30a782,_0x2fe999=document[_0x1b1fa0(0xeb2)]('a');_0x2fe999[_0x1b1fa0(0xb95)]=_0x853a91+_0x1b1fa0(0x45d),_0x2fe999[_0x1b1fa0(0x73b)]=_0x5de318[_0x1b1fa0(0x525)](_0x1b1fa0(0x83d)),_0x2fe999[_0x1b1fa0(0xd6c)](),messageModal[_0x1b1fa0(0xbd3)][_0x1b1fa0(0x72b)](_0x1b1fa0(0x81c));});}function exportTableAsPDF(_0x5db6ff,_0x28c1f){const _0x8e9b51=_0x4b15a0,{jsPDF:_0x146eff}=window['jspdf'],_0x227441=new _0x146eff();_0x227441[_0x8e9b51(0x485)]('helvetica',_0x8e9b51(0xe77)),_0x227441[_0x8e9b51(0xdc9)]({'html':'#'+_0x5db6ff}),_0x227441[_0x8e9b51(0x547)](_0x28c1f+_0x8e9b51(0xbe1));}function exportTableAsWord(_0x5125d3,_0x424127){const _0x5707fe=_0x4b15a0,_0x23faf0=document['getElementById'](_0x5125d3);if(!_0x23faf0){showMessage(_0x5707fe(0x5bf));return;}const _0x1b1e5f=_0x5707fe(0xe87)+_0x5707fe(0x933)+_0x5707fe(0x3c9)+_0x5707fe(0x2ff),_0x2d87e8=_0x5707fe(0x8c1),_0x30acec=_0x1b1e5f+_0x23faf0['innerHTML']+_0x2d87e8,_0x41cdf0=_0x5707fe(0x2c8)+encodeURIComponent(_0x30acec),_0x174e32=document[_0x5707fe(0xeb2)]('a');document[_0x5707fe(0xecd)][_0x5707fe(0x67f)](_0x174e32),_0x174e32[_0x5707fe(0x73b)]=_0x41cdf0,_0x174e32[_0x5707fe(0xb95)]=_0x424127+_0x5707fe(0xd96),_0x174e32[_0x5707fe(0xd6c)](),document[_0x5707fe(0xecd)][_0x5707fe(0xba9)](_0x174e32);}function exportTableAsExcel(_0x31ba27,_0x41ab71){const _0x2b46e1=_0x4b15a0,_0x395a50=document[_0x2b46e1(0xb9f)](_0x31ba27);if(!_0x395a50){showMessage(_0x2b46e1(0x5bf));return;}let _0x55c5c5=[];for(let _0x263a7f=0x0;_0x263a7f<_0x395a50['rows']['length'];_0x263a7f++){let _0x96e508=[],_0x4ca25c=_0x395a50['rows'][_0x263a7f][_0x2b46e1(0x3eb)]('td,\x20th');for(let _0x346146=0x0;_0x346146<_0x4ca25c[_0x2b46e1(0x8da)];_0x346146++){_0x96e508[_0x2b46e1(0x542)]('\x22'+_0x4ca25c[_0x346146][_0x2b46e1(0x649)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x55c5c5['push'](_0x96e508[_0x2b46e1(0x510)](','));}const _0xd68328=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x55c5c5[_0x2b46e1(0x510)]('\x0a')],{'type':_0x2b46e1(0x205)}),_0x382ea5=document[_0x2b46e1(0xeb2)]('a');_0x382ea5[_0x2b46e1(0x73b)]=URL[_0x2b46e1(0x6a2)](_0xd68328),_0x382ea5[_0x2b46e1(0xb95)]=_0x41ab71+'.csv',_0x382ea5['click']();}function renderAnalytics(_0x32b180,_0x370781){const _0x155892=_0x4b15a0,_0x293cdb=_0x370781[_0x155892(0xce3)](_0x2fbf01=>_0x2fbf01[_0x155892(0xed0)]!==undefined),_0x5c9f65=currentProjectData['students'][_0x155892(0x8da)],_0x9d28d=_0x293cdb[_0x155892(0x8da)],_0x22fb10=_0x5c9f65-_0x9d28d,_0x48fb36=_0x5c9f65>0x0?_0x9d28d/_0x5c9f65*0x64:0x0,_0x509a30=_0x293cdb[_0x155892(0xa0d)](_0xa4e3c=>_0xa4e3c['latestScore']),_0x1adc13=_0x509a30['length']>0x0?_0x509a30[_0x155892(0x1e3)]((_0x1f5146,_0x59c383)=>_0x1f5146+_0x59c383,0x0)/_0x509a30[_0x155892(0x8da)]:0x0,_0x34a84e=_0x32b180[_0x155892(0xa09)][_0x155892(0x8da)],_0x56e88c=_0x34a84e>0x0?_0x1adc13/_0x34a84e*0x64:0x0,_0x692567=calculateItemAnalysis(_0x32b180,_0x293cdb),_0x57fba3=calculateReliabilityKR20(_0x32b180,_0x293cdb,_0x692567[_0x155892(0x9d0)]);let _0x3a414a='';if(_0x57fba3!==null){let _0x548555='';if(_0x57fba3>=0.9)_0x548555=_0x155892(0x735);else{if(_0x57fba3>=0.8)_0x548555=_0x155892(0x578);else{if(_0x57fba3>=0.7)_0x548555='ดี';else{if(_0x57fba3>=0.6)_0x548555=_0x155892(0x323);else _0x548555=_0x155892(0xcf5);}}}_0x3a414a=_0x155892(0x8d1)+_0x57fba3[_0x155892(0x63d)](0x2)+_0x155892(0xdc8)+_0x548555+_0x155892(0x4b0);}const _0x5f0028=document[_0x155892(0xb9f)](_0x155892(0xcb7));_0x5f0028[_0x155892(0x7fc)]=_0x155892(0x5a5)+_0x48fb36['toFixed'](0x0)+_0x155892(0xb7f)+_0x9d28d+'/'+_0x5c9f65+_0x155892(0xe7e)+_0x1adc13[_0x155892(0x63d)](0x2)+_0x155892(0x853)+_0x56e88c[_0x155892(0x63d)](0x0)+_0x155892(0x3c8)+(_0x509a30[_0x155892(0x8da)]>0x0?Math[_0x155892(0x5e9)](..._0x509a30):'N/A')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x509a30[_0x155892(0x8da)]>0x0?Math[_0x155892(0xdbb)](..._0x509a30):'N/A')+_0x155892(0xc4e)+_0x3a414a+_0x155892(0xaa2);const _0x2066c2=document['getElementById'](_0x155892(0xa76));_0x2066c2&&_0x2066c2[_0x155892(0x5f4)]();const _0x39cf76=_0x155892(0x842);_0x5f0028[_0x155892(0x3dd)]('afterend',_0x39cf76);const _0x336344=currentProjectData[_0x155892(0x813)]||[];renderSubmissionChart(_0x9d28d,_0x22fb10,_0x293cdb,_0x336344),renderScoreDistributionChart(_0x293cdb,_0x34a84e),renderQuestionAnalytics(_0x32b180,_0x293cdb,_0x336344),renderInterestingStats(_0x32b180,_0x293cdb);}async function handleExportLessonPDF(){const _0x5c03a4=_0x4b15a0,_0x540869=document[_0x5c03a4(0xb9f)](_0x5c03a4(0x8e8)),_0x299276=document[_0x5c03a4(0xb9f)](_0x5c03a4(0x871))[_0x5c03a4(0x1d0)],_0x1efcb8=window[_0x5c03a4(0xb03)]('','_blank'),_0x24752e=_0x5c03a4(0x49b)+_0x299276+_0x5c03a4(0x9dc)+_0x540869['innerHTML']+_0x5c03a4(0x452);_0x1efcb8[_0x5c03a4(0x988)][_0x5c03a4(0x2a0)](_0x24752e),_0x1efcb8[_0x5c03a4(0x988)][_0x5c03a4(0x494)](),_0x1efcb8['onload']=function(){setTimeout(()=>{_0x1efcb8['print']();},0x5dc);};}function renderInterestingStats(_0x224b00,_0x5e2b85){const _0x1404a0=_0x4b15a0,_0xdc17d8=document[_0x1404a0(0xb9f)](_0x1404a0(0x5f3));if(!_0xdc17d8)return;if(_0x5e2b85[_0x1404a0(0x8da)]===0x0){_0xdc17d8[_0x1404a0(0x7fc)]=_0x1404a0(0xbb6);return;}const _0x37ce97=_0x224b00['questions'][_0x1404a0(0xa0d)]((_0x718be4,_0x139e55)=>({'index':_0x139e55+0x1,'text':_0x718be4[_0x1404a0(0x931)]||_0x718be4[_0x1404a0(0x7fb)],'correct':0x0}));_0x5e2b85['forEach'](_0x5b1cb4=>{const _0x1713a1=_0x1404a0,_0x4de8cc=_0x5b1cb4[_0x1713a1(0xacb)][_0x5b1cb4[_0x1713a1(0xacb)][_0x1713a1(0x8da)]-0x1];_0x4de8cc&&_0x4de8cc[_0x1713a1(0x80b)]&&_0x4de8cc[_0x1713a1(0x80b)][_0x1713a1(0x4aa)](_0x907f=>{const _0x20bdcf=_0x1713a1,_0x458a10=_0x37ce97[_0x20bdcf(0x59d)](_0xa66c47=>_0xa66c47[_0x20bdcf(0x9ad)]===_0x907f['originalQuestionText']);_0x907f[_0x20bdcf(0x809)]&&_0x458a10&&_0x458a10[_0x20bdcf(0xa05)]++;});});const _0x5927a2=_0x5e2b85[_0x1404a0(0x8da)],_0x37c885=Math[_0x1404a0(0x5e9)](..._0x37ce97[_0x1404a0(0xa0d)](_0x3fb0af=>_0x3fb0af[_0x1404a0(0xa05)])),_0x159eda=Math['min'](..._0x37ce97['map'](_0x1c2d50=>_0x1c2d50['correct'])),_0x571a39=_0x37ce97[_0x1404a0(0xce3)](_0x13b647=>_0x13b647[_0x1404a0(0xa05)]===_0x37c885)[_0x1404a0(0xa0d)](_0x563b28=>_0x1404a0(0xb0b)+_0x563b28[_0x1404a0(0x6d7)]),_0x2dec15=_0x37ce97[_0x1404a0(0xce3)](_0x44fe72=>_0x44fe72[_0x1404a0(0xa05)]===_0x159eda)[_0x1404a0(0xa0d)](_0x16f713=>_0x1404a0(0xb0b)+_0x16f713[_0x1404a0(0x6d7)]),_0x22a79c=_0x5e2b85[_0x1404a0(0x8c7)]((_0x58f886,_0x25fe4a)=>_0x25fe4a[_0x1404a0(0xed0)]-_0x58f886[_0x1404a0(0xed0)])['filter']((_0x357b4b,_0x122fcb,_0x328c4d)=>_0x357b4b[_0x1404a0(0xed0)]===_0x328c4d[0x0]['latestScore']),_0x4e84d8=_0x5e2b85[_0x1404a0(0x8c7)]((_0xb0aacb,_0x199f77)=>_0xb0aacb[_0x1404a0(0xed0)]-_0x199f77[_0x1404a0(0xed0)])[_0x1404a0(0xce3)]((_0x49e5c2,_0x5589f8,_0x28f8e6)=>_0x49e5c2['latestScore']===_0x28f8e6[0x0][_0x1404a0(0xed0)]),_0x382dbc=_0x1404a0(0xb35)+_0x571a39[_0x1404a0(0x510)](',\x20')+_0x1404a0(0xbf9)+_0x37c885+_0x1404a0(0xc6c)+_0x5927a2+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x2dec15[_0x1404a0(0x510)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x5927a2-_0x159eda)+_0x1404a0(0xc6c)+_0x5927a2+_0x1404a0(0x951)+_0x22a79c['map'](_0x419821=>_0x419821[_0x1404a0(0x466)])[_0x1404a0(0x510)](',\x20')+_0x1404a0(0xcc1)+_0x22a79c[0x0][_0x1404a0(0xed0)]+_0x1404a0(0xa79)+_0x4e84d8[_0x1404a0(0xa0d)](_0x3e08bf=>_0x3e08bf[_0x1404a0(0x466)])[_0x1404a0(0x510)](',\x20')+_0x1404a0(0xcc1)+_0x4e84d8[0x0][_0x1404a0(0xed0)]+_0x1404a0(0xe73);_0xdc17d8[_0x1404a0(0x7fc)]=_0x382dbc;}function renderSubmissionChart(_0x210fd2,_0x241d33,_0x1874e3,_0x4f96b1){const _0x46f33d=_0x4b15a0,_0x677328=document[_0x46f33d(0xb9f)](_0x46f33d(0xb0c))[_0x46f33d(0xb44)]('2d'),_0x166ce4=_0x1874e3['map'](_0x3d0eb9=>_0x3d0eb9['studentName']),_0xe624ca=_0x4f96b1[_0x46f33d(0xce3)](_0xda899f=>!_0x166ce4[_0x46f33d(0xa36)](_0xda899f));chartInstances[_0x46f33d(0x20a)]&&chartInstances[_0x46f33d(0x20a)]['destroy'](),chartInstances[_0x46f33d(0x20a)]=new Chart(_0x677328,{'type':_0x46f33d(0x1df),'data':{'labels':[_0x46f33d(0xa2f),'ยังไม่ส่ง'],'datasets':[{'data':[_0x210fd2,_0x241d33],'backgroundColor':[_0x46f33d(0xd8f),_0x46f33d(0xeda)],'borderColor':[_0x46f33d(0x3ed),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x46f33d(0x3a1)},'tooltip':{'callbacks':{'label':function(_0xcb7cd5){const _0x60ec12=_0x46f33d;let _0xd052cc=_0xcb7cd5[_0x60ec12(0xedc)]||'';return _0xd052cc&&(_0xd052cc+=':\x20'),_0xd052cc+=_0xcb7cd5[_0x60ec12(0xc50)],_0xd052cc;},'afterLabel':function(_0x437fdc){const _0x485f35=_0x46f33d;let _0x3e1df9;return _0x437fdc[_0x485f35(0x8d2)]===0x0?_0x3e1df9=_0x166ce4:_0x3e1df9=_0xe624ca,_0x3e1df9[_0x485f35(0x8da)]>0x0?_0x3e1df9[_0x485f35(0x510)]('\x0a'):_0x485f35(0x47c);}}}}}});}function renderScoreDistributionChart(_0x10434f,_0x42d088){const _0xfa3bad=_0x4b15a0,_0xa6689a=document[_0xfa3bad(0xb9f)](_0xfa3bad(0x5b5))[_0xfa3bad(0xb44)]('2d'),_0x58932a={};for(let _0x48f67f=0x0;_0x48f67f<=_0x42d088;_0x48f67f++){_0x58932a[_0x48f67f]=0x0;}_0x10434f[_0xfa3bad(0x4aa)](_0x5a26f4=>{const _0x4e8a95=_0xfa3bad;_0x58932a[_0x5a26f4[_0x4e8a95(0xed0)]]!==undefined&&_0x58932a[_0x5a26f4['latestScore']]++;}),chartInstances['score']&&chartInstances[_0xfa3bad(0x7e2)][_0xfa3bad(0x1de)](),chartInstances[_0xfa3bad(0x7e2)]=new Chart(_0xa6689a,{'type':_0xfa3bad(0x483),'data':{'labels':Object[_0xfa3bad(0xb2e)](_0x58932a),'datasets':[{'label':_0xfa3bad(0x7b2),'data':Object[_0xfa3bad(0x4a0)](_0x58932a),'backgroundColor':_0xfa3bad(0xd1c),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0xfa3bad(0x5ff)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x5db386){const _0x253b41=_0xfa3bad,_0x31b408=_0x5db386[_0x253b41(0xedc)],_0x1f03c9=_0x10434f[_0x253b41(0xce3)](_0xfbc97c=>_0xfbc97c[_0x253b41(0xed0)]==_0x31b408)[_0x253b41(0xa0d)](_0x15d28a=>_0x15d28a[_0x253b41(0x466)]);return _0x1f03c9[_0x253b41(0x8da)]>0x0?_0x1f03c9[_0x253b41(0x510)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x33d2e9,_0x2789bf,_0x1f2912){const _0x17e581=_0x4b15a0,_0x532725=document[_0x17e581(0xb9f)]('question-analytics-container');if(_0x1f2912[_0x17e581(0x8da)]===0x0){_0x532725[_0x17e581(0x7fc)]=_0x17e581(0x656);return;}const _0x18deca=calculateItemAnalysis(_0x33d2e9,_0x2789bf),_0x1fb22d=calculateDistractorAnalysis(_0x33d2e9,_0x2789bf);let _0x5b5948='';_0x18deca['overallGroups']&&(_0x5b5948='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x18deca[_0x17e581(0x34d)]['upperGroupNames'][_0x17e581(0x8da)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18deca[_0x17e581(0x34d)][_0x17e581(0x3cf)][_0x17e581(0xa0d)](_0x431bb3=>'<li>'+_0x431bb3+'</li>')[_0x17e581(0x510)]('')+_0x17e581(0x8c9)+_0x18deca[_0x17e581(0x34d)]['lowerGroupNames'][_0x17e581(0x8da)]+_0x17e581(0x303)+_0x18deca[_0x17e581(0x34d)]['lowerGroupNames']['map'](_0x6ba08c=>_0x17e581(0xd47)+_0x6ba08c+_0x17e581(0xde0))['join']('')+_0x17e581(0x877));let _0x3e7045='';const _0x5e661c=_0x2789bf[_0x17e581(0xa0d)](_0x2535d4=>_0x2535d4['studentName']),_0x53b068=_0x28df3f=>{const _0x1c9a4c=_0x17e581;if(_0x28df3f>=0.8)return _0x1c9a4c(0xbd2);if(_0x28df3f>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x28df3f>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x28df3f>=0.2)return _0x1c9a4c(0xbb2);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>';},_0x1a9a4f=_0x2da642=>{const _0x3637d1=_0x17e581;if(_0x2da642<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x2da642>=0.4)return _0x3637d1(0x26b);if(_0x2da642>=0.3)return _0x3637d1(0x6d2);if(_0x2da642>=0.2)return _0x3637d1(0x4a1);return _0x3637d1(0x4ae);},_0xf69620=_0x290c48=>{const _0x1b37c6=_0x17e581,_0x7c4c3b=_0x290c48[_0x1b37c6(0x63d)](0x0);if(parseFloat(_0x7c4c3b)===0x64)return _0x1b37c6(0x4ce)+_0x7c4c3b+_0x1b37c6(0x40a);if(_0x290c48>=0x32)return _0x1b37c6(0x54a)+_0x7c4c3b+_0x1b37c6(0x40a);return _0x1b37c6(0x81a)+_0x7c4c3b+_0x1b37c6(0x40a);};_0x33d2e9['questions'][_0x17e581(0x4aa)]((_0x3b8b55,_0x5583b3)=>{const _0x52fbfb=_0x17e581,_0x3f4942=_0x18deca['perQuestionStats'][_0x5583b3],_0x5a67c5=_0x1fb22d[_0x5583b3],_0x362329=_0x3b8b55[_0x52fbfb(0x7fb)]||_0x3b8b55[_0x52fbfb(0x931)]||_0x3b8b55['instructions'];let _0x597dc3=0x0;const _0x146a35=[],_0x44f312=[];_0x2789bf[_0x52fbfb(0x4aa)](_0x3172f0=>{const _0x3a08b6=_0x52fbfb,_0x1fe6e5=_0x3172f0[_0x3a08b6(0xacb)][_0x3172f0[_0x3a08b6(0xacb)]['length']-0x1];if(_0x1fe6e5&&_0x1fe6e5[_0x3a08b6(0x80b)]){const _0x28ad98=_0x1fe6e5['answers'][_0x3a08b6(0x59d)](_0x508365=>_0x508365[_0x3a08b6(0xa30)]===_0x362329)??_0x1fe6e5[_0x3a08b6(0x80b)][_0x5583b3]??null;_0x28ad98&&(_0x28ad98[_0x3a08b6(0x809)]?(_0x597dc3++,_0x146a35[_0x3a08b6(0x542)](_0x3172f0[_0x3a08b6(0x466)])):_0x44f312[_0x3a08b6(0x542)](_0x3172f0[_0x3a08b6(0x466)]));}});const _0x618382=_0x2789bf['length']>0x0?_0x597dc3/_0x2789bf[_0x52fbfb(0x8da)]*0x64:0x0,_0x3333e0=_0x1f2912[_0x52fbfb(0xce3)](_0x57365e=>!_0x5e661c[_0x52fbfb(0xa36)](_0x57365e)),_0x474f5b=_0x3f4942?_0x52fbfb(0x250)+_0x3f4942['p']['toFixed'](0x2)+_0x52fbfb(0x3bd)+_0x53b068(_0x3f4942['p'])+_0x52fbfb(0x67e)+_0x3f4942['r'][_0x52fbfb(0x63d)](0x2)+_0x52fbfb(0x3bd)+_0x1a9a4f(_0x3f4942['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf69620(_0x618382)+_0x52fbfb(0xc07):'';let _0x5a0471='';_0x5a67c5&&(_0x5a0471=_0x52fbfb(0xa38)+Object[_0x52fbfb(0xb2e)](_0x5a67c5)['map'](_0x2c3ae1=>{const _0x24ebe5=_0x52fbfb,_0x479e38=_0x5a67c5[_0x2c3ae1],_0x2a94ca=parseInt(_0x2c3ae1)===_0x3b8b55[_0x24ebe5(0x82e)],_0x4b1220=!_0x2a94ca&&_0x479e38[_0x24ebe5(0xa17)]>_0x479e38[_0x24ebe5(0xa94)];return _0x24ebe5(0xa08)+(_0x2a94ca?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x2a94ca?'✔\x20':'')+_0x479e38[_0x24ebe5(0x9ad)]+_0x24ebe5(0x4f2)+_0x479e38[_0x24ebe5(0xa94)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x479e38[_0x24ebe5(0xa17)]+'\x20'+(_0x4b1220?'👍':'')+_0x24ebe5(0x4f2)+_0x479e38[_0x24ebe5(0x787)]+_0x24ebe5(0x1e1);})[_0x52fbfb(0x510)]('')+_0x52fbfb(0xb65));let _0x3965bf='';_0x3f4942&&_0x3f4942['upperGroupResponders']&&(_0x3965bf=_0x52fbfb(0x692)+_0x3f4942[_0x52fbfb(0xb0f)][_0x52fbfb(0x8da)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x3f4942[_0x52fbfb(0xb0f)]['map'](_0xbc6f95=>_0x52fbfb(0xd47)+(_0xbc6f95[_0x52fbfb(0x809)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x52fbfb(0x58f))+'\x20'+_0xbc6f95[_0x52fbfb(0x757)]+_0x52fbfb(0xde0))[_0x52fbfb(0x510)]('')+_0x52fbfb(0x6c6)+_0x3f4942['lowerGroupResponders'][_0x52fbfb(0x8da)]+_0x52fbfb(0x1ed)+_0x3f4942[_0x52fbfb(0x319)][_0x52fbfb(0xa0d)](_0x397b1f=>_0x52fbfb(0xd47)+(_0x397b1f[_0x52fbfb(0x809)]?_0x52fbfb(0x921):_0x52fbfb(0x58f))+'\x20'+_0x397b1f[_0x52fbfb(0x757)]+'</li>')[_0x52fbfb(0x510)]('')+_0x52fbfb(0x677)),_0x3e7045+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x5583b3+0x1)+':\x20'+_0x362329+_0x52fbfb(0x891)+_0x474f5b+_0x52fbfb(0xe62)+_0x362329+_0x52fbfb(0x917)+_0x597dc3+_0x52fbfb(0x87e)+_0x2789bf[_0x52fbfb(0x8da)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x618382[_0x52fbfb(0x63d)](0x0)+_0x52fbfb(0x543)+_0x146a35[_0x52fbfb(0x8da)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x146a35[_0x52fbfb(0x8da)]>0x0?_0x146a35['join'](',\x20'):_0x52fbfb(0x47c))+_0x52fbfb(0xb8a)+_0x44f312[_0x52fbfb(0x8da)]+_0x52fbfb(0x46b)+(_0x44f312['length']>0x0?_0x44f312[_0x52fbfb(0x510)](',\x20'):_0x52fbfb(0x47c))+_0x52fbfb(0xc1f)+_0x3333e0[_0x52fbfb(0x8da)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x3333e0['length']>0x0?_0x3333e0[_0x52fbfb(0x510)](',\x20'):_0x52fbfb(0x47c))+_0x52fbfb(0x398)+_0x5a0471+_0x52fbfb(0x28a)+_0x3965bf+_0x52fbfb(0xe90);}),_0x532725[_0x17e581(0x7fc)]=_0x5b5948+_0x3e7045;try{window[_0x17e581(0x51a)]&&MathJax['typesetPromise']&&MathJax[_0x17e581(0xbce)]([_0x532725]);}catch(_0x1747f0){console[_0x17e581(0x7cd)](_0x17e581(0xa2c),_0x1747f0);}}function calculateDistractorAnalysis(_0x30fe84,_0x245ab2){const _0x2f28ad=_0x4b15a0,_0x5de95c={};if(_0x245ab2['length']<0x2)return _0x5de95c;const _0x3c7e50=[..._0x245ab2][_0x2f28ad(0x8c7)]((_0x35881c,_0x305364)=>{const _0x206a49=_0x2f28ad,_0x1e7f4b=_0x305364[_0x206a49(0xed0)]-_0x35881c[_0x206a49(0xed0)];if(_0x1e7f4b!==0x0)return _0x1e7f4b;const _0x26cb79=_0x35881c['attempts']?.[_0x206a49(0x8da)]||0x1,_0x34e55e=_0x305364['attempts']?.[_0x206a49(0x8da)]||0x1,_0x1453c3=_0x26cb79-_0x34e55e;if(_0x1453c3!==0x0)return _0x1453c3;const _0x5084f6=new Date(_0x35881c[_0x206a49(0x5d0)]),_0x43cdc4=new Date(_0x305364[_0x206a49(0x5d0)]),_0x1a0127=_0x5084f6-_0x43cdc4;if(_0x1a0127!==0x0)return _0x1a0127;return _0x35881c[_0x206a49(0x466)]['localeCompare'](_0x305364[_0x206a49(0x466)],'th');}),_0x3246e0=_0x3c7e50['length'],_0x4da7ee=Math[_0x2f28ad(0x5e9)](0x1,Math[_0x2f28ad(0x426)](_0x3246e0*0.33)),_0x1b86a6=_0x3c7e50[_0x2f28ad(0xb67)](0x0,_0x4da7ee),_0x350d23=_0x3c7e50[_0x2f28ad(0xb67)](-_0x4da7ee);return _0x30fe84[_0x2f28ad(0xa09)][_0x2f28ad(0x4aa)]((_0x39eb1a,_0x528f5f)=>{const _0x424294=_0x2f28ad;if(_0x39eb1a[_0x424294(0x899)]!==_0x424294(0x9c3)||!_0x39eb1a[_0x424294(0x4d1)])return;const _0x8e9e8d=_0x39eb1a[_0x424294(0x931)],_0x12ae39={};_0x39eb1a[_0x424294(0x4d1)][_0x424294(0x4aa)]((_0x507110,_0x3458a1)=>{_0x12ae39[_0x3458a1]={'text':_0x507110,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3c7e50['forEach'](_0x3caa15=>{const _0x282849=_0x424294,_0x565d10=_0x3caa15['attempts'][_0x3caa15['attempts'][_0x282849(0x8da)]-0x1],_0xb59e02=_0x565d10['answers'][_0x282849(0x59d)](_0x579bd6=>_0x579bd6[_0x282849(0xa30)]===_0x8e9e8d);if(_0xb59e02&&_0xb59e02[_0x282849(0x253)]!==null){const _0x5ec1de=_0x39eb1a[_0x282849(0x4d1)][_0x282849(0x706)](_0x26cfc3=>_0x26cfc3===_0xb59e02[_0x282849(0x771)]);_0x5ec1de!==-0x1&&_0x12ae39[_0x5ec1de]&&(_0x12ae39[_0x5ec1de][_0x282849(0x787)]++,_0x1b86a6[_0x282849(0xa36)](_0x3caa15)&&_0x12ae39[_0x5ec1de][_0x282849(0xa94)]++,_0x350d23[_0x282849(0xa36)](_0x3caa15)&&_0x12ae39[_0x5ec1de][_0x282849(0xa17)]++);}}),_0x5de95c[_0x528f5f]=_0x12ae39;}),_0x5de95c;}function calculateReliabilityKR20(_0x4bceb7,_0x267034,_0x4ca96d){const _0x1eda01=_0x4b15a0,_0x2f167b=_0x4bceb7[_0x1eda01(0xa09)]['length'];if(_0x2f167b<0x2||_0x267034[_0x1eda01(0x8da)]<0x2)return null;const _0x3cfd20=_0x267034['map'](_0x1221c9=>_0x1221c9['latestScore']),_0x2e2eaf=_0x3cfd20[_0x1eda01(0x1e3)]((_0x443a90,_0x287734)=>_0x443a90+_0x287734,0x0)/_0x3cfd20[_0x1eda01(0x8da)],_0x3a4c69=_0x3cfd20[_0x1eda01(0xa0d)](_0x4ca143=>Math[_0x1eda01(0x41b)](_0x4ca143-_0x2e2eaf,0x2))[_0x1eda01(0x1e3)]((_0x3114f6,_0x4a8a39)=>_0x3114f6+_0x4a8a39,0x0)/_0x3cfd20[_0x1eda01(0x8da)];if(_0x3a4c69===0x0)return null;let _0x67556b=0x0;for(let _0x20cb3a=0x0;_0x20cb3a<_0x2f167b;_0x20cb3a++){const _0xe021e4=_0x4ca96d[_0x20cb3a]?.['p'];if(_0xe021e4===undefined)continue;const _0x451901=0x1-_0xe021e4;_0x67556b+=_0xe021e4*_0x451901;}if(_0x67556b===0x0)return null;const _0x4e611c=_0x2f167b/(_0x2f167b-0x1)*(0x1-_0x67556b/_0x3a4c69);if(_0x4e611c>0x1)return null;return _0x4e611c;}async function handleAnalyzeClass(){const _0x13a146=_0x4b15a0;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x13a146(0x64a));return;}const _0x11eeed=collection(db,_0x13a146(0xc4a)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x13a146(0xc5e)),_0x18803a=await getDocs(_0x11eeed),_0x343cc5=_0x18803a[_0x13a146(0x9e5)][_0x13a146(0xa0d)](_0x508d03=>_0x508d03['data']());if(_0x343cc5[_0x13a146(0x8da)]<0x2){showMessage(_0x13a146(0x4cf));return;}const _0xcca32d=document[_0x13a146(0xb9f)](_0x13a146(0x486));_0xcca32d[_0x13a146(0x7fc)]=_0x13a146(0x627),document[_0x13a146(0xb9f)]('analyze-strengths-btn')['disabled']=!![];const _0x11869a=_0x343cc5[_0x13a146(0xa0d)]((_0x2a7ec0,_0x3da9f4)=>{const _0x4b72a8=_0x13a146,_0x1f9ce7=_0x2a7ec0[_0x4b72a8(0xacb)][_0x2a7ec0[_0x4b72a8(0xacb)][_0x4b72a8(0x8da)]-0x1];if(!_0x1f9ce7)return'';return _0x4b72a8(0xd46)+(_0x3da9f4+0x1)+'\x20('+_0x2a7ec0[_0x4b72a8(0x466)]+_0x4b72a8(0xd25)+_0x1f9ce7['score']+'/'+_0x2a7ec0[_0x4b72a8(0xdf0)]+_0x4b72a8(0x87b)+JSON[_0x4b72a8(0x4d8)](_0x1f9ce7[_0x4b72a8(0x80b)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x13a146(0x510)](_0x13a146(0x5fe)),_0x4fcbe2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x13a146(0x257)]+_0x13a146(0xae1)+JSON[_0x13a146(0x4d8)](currentQuizData[_0x13a146(0xa09)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11869a+_0x13a146(0x82c),_0x3e62d5={'type':_0x13a146(0x4a5),'properties':{'classStrengths':{'type':_0x13a146(0x537),'items':{'type':_0x13a146(0x902)}},'classWeaknesses':{'type':_0x13a146(0x537),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x13a146(0x537),'items':{'type':_0x13a146(0x902)}}},'required':['classStrengths',_0x13a146(0xb02),_0x13a146(0xa2b)]};try{const _0x3e548b=await callAnalysisApi(_0x4fcbe2,_0x3e62d5);displayClassAnalysis(_0x3e548b);}catch(_0x30d9f9){console['error']('Error\x20during\x20class\x20analysis:',_0x30d9f9),_0xcca32d['innerHTML']=_0x13a146(0xbde)+_0x30d9f9[_0x13a146(0x81b)]+'</p></div>';}finally{document[_0x13a146(0xb9f)](_0x13a146(0x943))['disabled']=![];}}function displayClassAnalysis(_0x51af0e){const _0x4e7259=_0x4b15a0,_0x1346f9=document[_0x4e7259(0xb9f)](_0x4e7259(0x486));if(!_0x51af0e){_0x1346f9[_0x4e7259(0x7fc)]=_0x4e7259(0x358);return;}_0x1346f9[_0x4e7259(0x7fc)]=_0x4e7259(0xed1)+_0x51af0e[_0x4e7259(0x3fd)][_0x4e7259(0xa0d)](_0x5ba1ea=>_0x4e7259(0xd47)+_0x5ba1ea+'</li>')[_0x4e7259(0x510)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51af0e['classWeaknesses'][_0x4e7259(0xa0d)](_0x6c2832=>_0x4e7259(0xd47)+_0x6c2832+_0x4e7259(0xde0))[_0x4e7259(0x510)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51af0e[_0x4e7259(0xa2b)][_0x4e7259(0xa0d)](_0x222f2d=>_0x4e7259(0xd47)+_0x222f2d+_0x4e7259(0xde0))[_0x4e7259(0x510)]('')+_0x4e7259(0xc54);}function formatAndPrintWorksheet(_0x9f6b0b,_0x45a8e4){const _0x27c004=_0x4b15a0,_0x3f0166='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x9f6b0b[_0x27c004(0x257)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x9f6b0b[_0x27c004(0x257)]+_0x27c004(0xc38)+_0x9f6b0b[_0x27c004(0xa09)]['map']((_0x3cc0e6,_0x27962a)=>_0x27c004(0xb23)+(_0x27962a+0x1)+'.\x20'+_0x3cc0e6[_0x27c004(0x931)]+_0x27c004(0x8cb)+(_0x3cc0e6[_0x27c004(0xe33)]?_0x27c004(0x98b)+_0x3cc0e6[_0x27c004(0xe33)]+_0x27c004(0xd14):'')+_0x27c004(0x57f))[_0x27c004(0x510)]('')+_0x27c004(0x7f9);_0x45a8e4[_0x27c004(0x988)][_0x27c004(0x2a0)](_0x3f0166),_0x45a8e4[_0x27c004(0x988)][_0x27c004(0x494)](),_0x45a8e4[_0x27c004(0xb46)]=function(){setTimeout(()=>{const _0x53cfac=_0x33c9;_0x45a8e4[_0x53cfac(0x3a4)]();},0x3e8);};}async function generateWorksheet(){const _0xdf81cf=_0x4b15a0,_0x52e412=document[_0xdf81cf(0xb9f)](_0xdf81cf(0xe6d))[_0xdf81cf(0x232)][_0xdf81cf(0xbdc)]();if(!_0x52e412){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x40036e=document[_0xdf81cf(0xb9f)]('force-math-checkbox')[_0xdf81cf(0x270)],_0x4e6ce7=_0x40036e?'':_0xdf81cf(0xed8),_0x6986cd=window[_0xdf81cf(0xb03)]('',_0xdf81cf(0x38a));_0x6986cd[_0xdf81cf(0x988)][_0xdf81cf(0x2a0)](_0xdf81cf(0x337));const _0x21a7c2=parseInt(document['getElementById'](_0xdf81cf(0x550))[_0xdf81cf(0x232)]),_0x93d659=document[_0xdf81cf(0xb9f)](_0xdf81cf(0x39a))['checked'],_0xdb52a0=_0x93d659?_0xdf81cf(0xa9f):'',_0x2c3799='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x4e6ce7+_0xdf81cf(0x556)+_0x21a7c2+_0xdf81cf(0xbb3)+_0x52e412+_0xdf81cf(0x4fd)+_0xdb52a0+_0xdf81cf(0x516)+simpleMathPrompt+_0xdf81cf(0x32b),_0x4daf18={'type':_0xdf81cf(0x4a5),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0xdf81cf(0x537),'items':{'type':_0xdf81cf(0x4a5),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0xdf81cf(0x902)}},'required':['questionText']}}},'required':[_0xdf81cf(0x257),'questions']};document[_0xdf81cf(0xb9f)](_0xdf81cf(0x6a5))[_0xdf81cf(0x1d0)]='',document[_0xdf81cf(0xb9f)](_0xdf81cf(0x976))['classList'][_0xdf81cf(0x5f4)]('hidden'),document[_0xdf81cf(0xb9f)](_0xdf81cf(0x434))[_0xdf81cf(0xbd3)]['remove'](_0xdf81cf(0x81c)),generateWorksheetBtn['disabled']=!![];try{const _0x21cbce=await callAnalysisApi(_0x2c3799,_0x4daf18);formatAndPrintWorksheet(_0x21cbce,_0x6986cd);}catch(_0xf99ad6){console[_0xdf81cf(0x7cd)]('Error\x20generating\x20worksheet:',_0xf99ad6);if(_0x6986cd)_0x6986cd[_0xdf81cf(0x494)]();showMessage(_0xdf81cf(0xafe));}finally{document[_0xdf81cf(0xb9f)](_0xdf81cf(0x976))['classList'][_0xdf81cf(0x72b)](_0xdf81cf(0x81c)),document[_0xdf81cf(0xb9f)](_0xdf81cf(0x434))[_0xdf81cf(0xbd3)][_0xdf81cf(0x72b)](_0xdf81cf(0x81c)),generateWorksheetBtn[_0xdf81cf(0x417)]=![];}}async function callAnalysisApi(_0x4428ba,_0x3a6668){const _0x401da5=_0x4b15a0,_0xa1ec91={'contents':[{'role':_0x401da5(0x66f),'parts':[{'text':_0x4428ba}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x3a6668}},_0x27eaae='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x5d958e=_0x401da5(0xec8)+_0x27eaae,_0x3a2004=await fetch(_0x5d958e,{'method':_0x401da5(0x3a9),'headers':{'Content-Type':_0x401da5(0x4a6)},'body':JSON[_0x401da5(0x4d8)](_0xa1ec91)});if(!_0x3a2004['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x3a2004[_0x401da5(0x58b)]);const _0x43a7ff=await _0x3a2004[_0x401da5(0xe9a)]();if(_0x43a7ff[_0x401da5(0x991)]?.[0x0]?.[_0x401da5(0x5de)]?.[_0x401da5(0x9c6)]?.[0x0])return JSON[_0x401da5(0x717)](_0x43a7ff['candidates'][0x0]['content']['parts'][0x0][_0x401da5(0x9ad)]);else{let _0x48d25b=_0x401da5(0x1e5);if(_0x43a7ff[_0x401da5(0xe69)]?.[_0x401da5(0x955)])_0x48d25b=_0x401da5(0x2e7)+_0x43a7ff[_0x401da5(0xe69)][_0x401da5(0x955)]+'.';else _0x43a7ff[_0x401da5(0x991)]?.[0x0]?.['finishReason']&&_0x43a7ff['candidates'][0x0][_0x401da5(0xd6d)]!==_0x401da5(0x2ed)&&(_0x48d25b=_0x401da5(0xa5d)+_0x43a7ff['candidates'][0x0][_0x401da5(0xd6d)]+'.');console['error'](_0x48d25b,JSON['stringify'](_0x43a7ff));throw new Error(_0x48d25b);}}async function handleStartSyncMode(_0x1ffbc5,_0x3a3cb3=![],_0x1d0af9=_0x4b15a0(0x870)){const _0x14e55d=_0x4b15a0,_0x12edb8=allQuizzes[_0x14e55d(0x59d)](_0x56df5f=>_0x56df5f['id']===_0x1ffbc5)||allQuizzesGlobal['find'](_0x245d2b=>_0x245d2b['id']===_0x1ffbc5);if(!_0x12edb8){showMessage(_0x14e55d(0xad3));return;}currentQuizData=getShuffledQuiz(_0x12edb8);const _0x5dc717=Math[_0x14e55d(0x426)](0x3e8+Math[_0x14e55d(0x7c9)]()*0x2328)[_0x14e55d(0xbb9)](),_0xaf8688=doc(db,_0x14e55d(0xc4a)+appId+_0x14e55d(0x47d),_0x12edb8[_0x14e55d(0xa0f)]),_0x45689e=await getDoc(_0xaf8688);if(!_0x45689e[_0x14e55d(0x37f)]()){showMessage(_0x14e55d(0x744));return;}const _0x131c49=_0x45689e[_0x14e55d(0x7f7)]()[_0x14e55d(0x813)]||[],_0x34dead={};if(_0x1d0af9===_0x14e55d(0x32c)){const _0xdb9ce5=[...ANONYMOUS_NAMES][_0x14e55d(0x8c7)](()=>0.5-Math[_0x14e55d(0x7c9)]());_0x131c49[_0x14e55d(0x4aa)]((_0x3eab7c,_0x16febd)=>{const _0x4e200d=_0x14e55d;_0x34dead[_0x3eab7c]=_0xdb9ce5[_0x16febd]||_0x4e200d(0x467)+(_0x16febd+0x1);});}const _0x39a8b0=document[_0x14e55d(0xb9f)](_0x14e55d(0xaa5))[_0x14e55d(0x270)],_0x2cfc40=parseInt(document[_0x14e55d(0xb9f)](_0x14e55d(0xc78))[_0x14e55d(0x232)],0xa);let _0x55e3c2={'timerMode':_0x14e55d(0xbae),'timerDuration':0x0};_0x39a8b0&&(_0x55e3c2[_0x14e55d(0x98f)]=_0x14e55d(0x39b),_0x55e3c2[_0x14e55d(0x775)]=_0x2cfc40||0xf0);const _0x2f922d=document[_0x14e55d(0xb9f)](_0x14e55d(0x1dc))[_0x14e55d(0x270)],_0x371ef8=document[_0x14e55d(0xb9f)](_0x14e55d(0xb9d))[_0x14e55d(0x270)];try{const _0x339a2f=await addDoc(collection(db,'artifacts/'+appId+_0x14e55d(0xcba)),{'quizId':_0x12edb8['id'],'pin':_0x5dc717,'status':_0x14e55d(0xa70),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3a3cb3,'players':{},'gameVariant':_0x1d0af9,'reviewQuestionIndex':0x0,'playerNicknames':_0x34dead,'isAnonymousRevealed':![],..._0x55e3c2,'showAnswerInAnonymous':_0x2f922d,'isBlackMarketEnabled':_0x371ef8});currentLiveGameId=_0x339a2f['id'],showView(_0x14e55d(0xbda)),renderSyncLobbyView(_0x5dc717,_0x12edb8['topic']),listenForSyncGameUpdates();const _0x350e6b={'gameId':currentLiveGameId,'mode':_0x14e55d(0xd24),'role':_0x14e55d(0x1e2)};sessionStorage[_0x14e55d(0x685)](_0x14e55d(0x920),JSON[_0x14e55d(0x4d8)](_0x350e6b));}catch(_0x11e001){console[_0x14e55d(0x7cd)]('Error\x20starting\x20sync\x20game:',_0x11e001),showMessage(_0x14e55d(0x86b));}}function calculateFinalPodiumScores(_0xc266b9){const _0x113fe4=_0x4b15a0;if(!_0xc266b9||!_0xc266b9['shuffledQuiz']||!_0xc266b9[_0x113fe4(0xb9c)])return _0xc266b9[_0x113fe4(0xb9c)]||{};const _0x1f9560=_0xc266b9[_0x113fe4(0x38d)]['questions'][_0x113fe4(0x8da)],_0x2502ca=JSON[_0x113fe4(0x717)](JSON[_0x113fe4(0x4d8)](_0xc266b9[_0x113fe4(0xb9c)]));return Object[_0x113fe4(0x4a0)](_0x2502ca)[_0x113fe4(0x4aa)](_0x5d2928=>{const _0x336292=_0x113fe4,_0x167511=_0x5d2928[_0x336292(0x7e2)]||0x0,_0x2b423b=_0x5d2928[_0x336292(0x299)]||0x0;_0x1f9560>0x0&&_0x167511===_0x1f9560?_0x5d2928[_0x336292(0x866)]=!![]:_0x5d2928[_0x336292(0x866)]=![],_0x5d2928[_0x336292(0xddd)]=_0x167511,_0x5d2928[_0x336292(0x299)]=_0x2b423b;}),_0x2502ca;}function listenForSyncGameUpdates(){const _0x40492e=_0x4b15a0;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2d2340=doc(db,'artifacts/'+appId+_0x40492e(0xcba),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2d2340,_0x2d8ff0=>{const _0x581ff7=_0x40492e;if(!_0x2d8ff0['exists']()){sessionStorage[_0x581ff7(0x2fd)](_0x581ff7(0x920));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x581ff7(0x811));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x581ff7(0x1e2)?showView(_0x581ff7(0x2c6)):showView(_0x581ff7(0x441));return;}const _0x1f61ee=_0x2d8ff0[_0x581ff7(0x7f7)]();currentMode==='admin'?updateAdminSyncView(_0x1f61ee):updateStudentSyncView(_0x1f61ee);});}function renderSyncLobbyView(_0x505185,_0x3b247d){const _0x1c03ea=_0x4b15a0;liveGameView['innerHTML']=_0x1c03ea(0xc48)+_0x3b247d+_0x1c03ea(0x39e)+_0x505185+_0x1c03ea(0xded);const _0x3e3f97=document[_0x1c03ea(0xb9f)](_0x1c03ea(0xe82)),_0x5a23ff=document[_0x1c03ea(0xb9f)](_0x1c03ea(0xc83));_0x3e3f97[_0x1c03ea(0x95a)](_0x1c03ea(0xaa4),()=>{const _0x37bfd8=_0x1c03ea;_0x5a23ff[_0x37bfd8(0x8b5)][_0x37bfd8(0x4e3)]=_0x3e3f97[_0x37bfd8(0x270)]?'block':_0x37bfd8(0xbae);}),document[_0x1c03ea(0xb9f)]('start-sync-game-btn')[_0x1c03ea(0x95a)](_0x1c03ea(0xd6c),async()=>{const _0x260d19=_0x1c03ea,_0x5694c2=doc(db,'artifacts/'+appId+_0x260d19(0xcba),currentLiveGameId),_0x2dcb87=document[_0x260d19(0xb9f)]('confidence-scoring-toggle')[_0x260d19(0x270)];await updateDoc(_0x5694c2,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x2dcb87});});}function updateAdminSyncView(_0x397fc8){const _0x5e4aca=_0x4b15a0;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x397fc8[_0x5e4aca(0x58b)]){case _0x5e4aca(0xa70):renderSyncLobbyView(_0x397fc8[_0x5e4aca(0x849)],_0x397fc8['shuffledQuiz'][_0x5e4aca(0x257)]);const _0x4b238b=Object['entries'](_0x397fc8[_0x5e4aca(0xb9c)]||{})[_0x5e4aca(0xce3)](([_0x1d3dce,_0x4058f0])=>_0x4058f0[_0x5e4aca(0x58b)]!==_0x5e4aca(0x615));document[_0x5e4aca(0xb9f)](_0x5e4aca(0x911))[_0x5e4aca(0x1d0)]=_0x4b238b['length'],document[_0x5e4aca(0xb9f)](_0x5e4aca(0x1d6))[_0x5e4aca(0x7fc)]=_0x4b238b[_0x5e4aca(0xa0d)](([_0x5cd84f,_0x483a3c])=>_0x5e4aca(0xcec)+_0x5cd84f+_0x5e4aca(0x9d2)+_0x5cd84f+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5e4aca(0x510)]('')||_0x5e4aca(0xe94),document[_0x5e4aca(0xb9f)](_0x5e4aca(0xcc4))[_0x5e4aca(0x417)]=_0x4b238b[_0x5e4aca(0x8da)]===0x0;break;case'question':const _0x259860=Object[_0x5e4aca(0x4a0)](_0x397fc8['players']||{})[_0x5e4aca(0xce3)](_0x536f29=>_0x536f29[_0x5e4aca(0x58b)]!==_0x5e4aca(0x615)),_0x391927=_0x259860[_0x5e4aca(0xce3)](_0xbf37f3=>_0xbf37f3[_0x5e4aca(0x642)])[_0x5e4aca(0x8da)],_0x30cdfb=_0x391927===_0x259860[_0x5e4aca(0x8da)]&&_0x259860[_0x5e4aca(0x8da)]>0x0;if(_0x30cdfb&&_0x397fc8[_0x5e4aca(0x58b)]===_0x5e4aca(0x9b0)){const _0xe3b16e=doc(db,_0x5e4aca(0xc4a)+appId+_0x5e4aca(0xcba),currentLiveGameId);updateDoc(_0xe3b16e,{'status':_0x5e4aca(0x221)});return;}if(document[_0x5e4aca(0xb9f)](_0x5e4aca(0x74d))===null)renderAdminSyncQuestionView(_0x397fc8);else{const _0xcec2e1=document[_0x5e4aca(0xb9f)](_0x5e4aca(0x5ce));_0xcec2e1&&(_0xcec2e1['textContent']=_0x391927+'/'+_0x259860[_0x5e4aca(0x8da)]);const _0x307a09=document[_0x5e4aca(0xb9f)](_0x5e4aca(0x4f8));_0x307a09&&(_0x307a09[_0x5e4aca(0x7fc)]=_0x259860[_0x5e4aca(0xa0d)](_0x481f03=>{const _0x102a54=_0x5e4aca,_0x3da759=_0x481f03[_0x102a54(0x642)]?_0x102a54(0xc93):_0x102a54(0xe92),_0x1d0ee4=_0x481f03[_0x102a54(0x642)]?_0x102a54(0x7f1):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x3da759+_0x102a54(0xd9c)+_0x1d0ee4+_0x102a54(0xea4)+_0x481f03[_0x102a54(0x757)]+_0x102a54(0x4bc)+_0x481f03[_0x102a54(0x757)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x5e4aca(0x510)](''));}const _0x2a8a50=_0x397fc8[_0x5e4aca(0x98f)]==='per_question'&&_0x397fc8[_0x5e4aca(0x888)];if(_0x2a8a50){const _0x2264de=_0x397fc8['questionDisplayedAt'][_0x5e4aca(0xece)]()[_0x5e4aca(0xa1c)](),_0x3438c8=_0x397fc8['timerDuration']*0x3e8,_0x177bd3=_0x2264de+_0x3438c8,_0x36ae88=document[_0x5e4aca(0xb9f)]('sync-timer-bar'),_0x4d8a8=document[_0x5e4aca(0xb9f)](_0x5e4aca(0xe78));syncQuestionTimerInterval=setInterval(()=>{const _0x4379b9=_0x5e4aca,_0x4d7a43=Date[_0x4379b9(0xb38)](),_0x54caf6=_0x259860['length']>0x0&&_0x259860[_0x4379b9(0x500)](_0x11713f=>{const _0x4a1594=_0x4379b9;if(_0x11713f[_0x4a1594(0x642)])return!![];const _0x345fe3=_0x11713f['timeBonusThisQuestion']||0x0,_0x267c65=_0x2264de+_0x3438c8+_0x345fe3;if(_0x267c65<=_0x4d7a43)return!![];return![];});if(_0x54caf6){clearInterval(syncQuestionTimerInterval);const _0x3e38e7=doc(db,_0x4379b9(0xc4a)+appId+_0x4379b9(0xcba),currentLiveGameId);updateDoc(_0x3e38e7,{'status':_0x4379b9(0x221)});return;}const _0xa49279=_0x177bd3-_0x4d7a43;if(_0xa49279<=0x0){if(_0x36ae88)_0x36ae88['style']['width']='0%';if(_0x4d8a8)_0x4d8a8[_0x4379b9(0x1d0)]=_0x4379b9(0xaf3);}else{if(_0x36ae88&&_0x4d8a8){const _0x28f933=_0xa49279/_0x3438c8*0x64;_0x36ae88[_0x4379b9(0x8b5)][_0x4379b9(0x3bf)]=_0x28f933+'%',_0x4d8a8[_0x4379b9(0x1d0)]=Math[_0x4379b9(0xb7b)](_0xa49279/0x3e8);}}},0x1f4);}break;case'summary':const _0x2eede8=_0x397fc8[_0x5e4aca(0x224)],_0x1b3215=_0x397fc8[_0x5e4aca(0x38d)][_0x5e4aca(0xa09)][_0x2eede8];renderSyncSummaryView(_0x397fc8,_0x1b3215,!![]);break;case _0x5e4aca(0x4f1):const _0x15592a=_0x397fc8['gameVariant']||_0x5e4aca(0x870);_0x15592a===_0x5e4aca(0x57e)?renderAdminSyncDashboard(_0x397fc8,!![],_0x397fc8[_0x5e4aca(0x98d)]):(_0x397fc8[_0x5e4aca(0x58b)]===_0x5e4aca(0x4f1)&&!_0x397fc8[_0x5e4aca(0x3a7)]&&((async()=>{const _0x35b6b7=_0x5e4aca;try{const _0x3b8d20=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x3b8d20,{'scoresCalculated':!![]}),await runTransaction(db,async _0x349015=>{const _0x196c07=_0x33c9,_0x152dcf=await _0x349015['get'](_0x3b8d20);if(!_0x152dcf[_0x196c07(0x37f)]())throw'Game\x20not\x20found';const _0x3d9a88={},_0x54ca16=_0x152dcf[_0x196c07(0x7f7)]()[_0x196c07(0x38d)][_0x196c07(0xa09)][_0x196c07(0x8da)];Object['values'](_0x152dcf[_0x196c07(0x7f7)]()[_0x196c07(0xb9c)])[_0x196c07(0x4aa)](_0x458476=>{const _0x21dccf=_0x196c07;if(_0x458476[_0x21dccf(0x58b)]!==_0x21dccf(0x615)){const _0x1aac00=_0x458476[_0x21dccf(0x757)],_0x216269=(_0x458476[_0x21dccf(0x80b)]||[])[_0x21dccf(0x59d)](_0x597610=>_0x597610['questionIndex']===_0x397fc8['currentQuestionIndex']),_0x2b2598=_0x458476['score']||0x0,_0xb047cf=_0x458476[_0x21dccf(0x299)]||0x0;let _0x2d66de=0x0;_0x216269&&(_0x2d66de=_0x216269[_0x21dccf(0xec2)]||0x0);let _0x4506ea=_0xb047cf;_0x54ca16>0x0&&_0x2b2598===_0x54ca16&&(_0x4506ea+=0x1),_0x3d9a88['players.'+_0x1aac00+_0x21dccf(0xb49)]=_0x2b2598,_0x3d9a88[_0x21dccf(0x36c)+_0x1aac00+_0x21dccf(0x68d)]=_0x4506ea,_0x3d9a88[_0x21dccf(0x36c)+_0x1aac00+'.pointsLastRound']=_0x4506ea;}}),_0x349015['update'](_0x3b8d20,{..._0x3d9a88,'scoresCalculated':![]});});}catch(_0xef4257){console[_0x35b6b7(0x7cd)]('Error\x20calculating\x20final\x20scores:',_0xef4257);}})()),renderAdminSyncDashboard(_0x397fc8,!![],_0x397fc8[_0x5e4aca(0x224)]));break;case _0x5e4aca(0xd1f):_0x397fc8[_0x5e4aca(0x320)]&&saveGameResultsAsSubmissions(_0x397fc8);sessionStorage[_0x5e4aca(0x2fd)]('activeGameSession');const _0x48b4ed=calculateFinalPodiumScores(_0x397fc8);showPodiumView(_0x48b4ed,_0x5e4aca(0xd24),_0x397fc8);break;}}function renderAdminSyncQuestionView(_0x4b8508){const _0x528a1a=_0x4b15a0,_0x173e17=_0x4b8508[_0x528a1a(0x224)],_0x45f2df=_0x4b8508[_0x528a1a(0x38d)]['questions'][_0x173e17],_0x2157c6=_0x4b8508[_0x528a1a(0x38d)]['questions'][_0x528a1a(0x8da)],_0x1b80f9=Object[_0x528a1a(0x4a0)](_0x4b8508[_0x528a1a(0xb9c)]||{})['filter'](_0xa141d1=>_0xa141d1[_0x528a1a(0x58b)]!=='inactive'),_0x3cd369=_0x1b80f9[_0x528a1a(0xce3)](_0x41e816=>_0x41e816[_0x528a1a(0x642)])[_0x528a1a(0x8da)],_0x20d826=_0x3cd369===_0x1b80f9[_0x528a1a(0x8da)]&&_0x1b80f9[_0x528a1a(0x8da)]>0x0,_0x1a934e=(_0x45f2df[_0x528a1a(0x4d1)]||[])[_0x528a1a(0xa0d)](_0x419549=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x419549+'</div>')['join']('');let _0x49d08a='';_0x4b8508[_0x528a1a(0x98f)]===_0x528a1a(0x39b)&&(_0x49d08a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x4b8508[_0x528a1a(0x775)]+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');liveGameView[_0x528a1a(0x7fc)]=_0x528a1a(0x2be)+(_0x173e17+0x1)+_0x528a1a(0xc6c)+_0x2157c6+_0x528a1a(0x5fd)+_0x4b8508['pin']+_0x528a1a(0x271)+_0x3cd369+'/'+_0x1b80f9[_0x528a1a(0x8da)]+_0x528a1a(0x763)+_0x49d08a+_0x528a1a(0x2f6)+_0x45f2df[_0x528a1a(0x931)]+_0x528a1a(0x533)+_0x1a934e+_0x528a1a(0x56f)+(!_0x20d826?_0x528a1a(0x417):'')+_0x528a1a(0x3f6);if(window[_0x528a1a(0x51a)])MathJax[_0x528a1a(0xbce)]();const _0x5207be=doc(db,_0x528a1a(0xc4a)+appId+_0x528a1a(0xcba),currentLiveGameId);document[_0x528a1a(0xb9f)](_0x528a1a(0x7c6))[_0x528a1a(0x95a)](_0x528a1a(0xd6c),async()=>{const _0x4b4b81=_0x528a1a;await updateDoc(_0x5207be,{'status':_0x4b4b81(0x221)});}),document[_0x528a1a(0xb9f)](_0x528a1a(0x935))[_0x528a1a(0x760)]=()=>{openScratchpad(_0x45f2df,_0x45f2df['options']||[]);},document[_0x528a1a(0xb9f)](_0x528a1a(0x80d))[_0x528a1a(0x95a)](_0x528a1a(0xd6c),()=>{const _0x43b762=_0x528a1a;document[_0x43b762(0xb9f)](_0x43b762(0x74d))[_0x43b762(0xbd3)][_0x43b762(0x581)](_0x43b762(0x81c));});const _0x5a70fb=document[_0x528a1a(0xb9f)](_0x528a1a(0xa5b));_0x5a70fb&&(_0x5a70fb[_0x528a1a(0x760)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x317c89=_0x33c9;await updateDoc(_0x5207be,{'status':_0x317c89(0xd1f)});});});}function renderSyncLeaderboardView(_0x5c1c29,_0x35396b){const _0x3a458d=_0x4b15a0,_0x1a6deb=Object['values'](_0x5c1c29[_0x3a458d(0xb9c)]||{});_0x1a6deb[_0x3a458d(0x8c7)]((_0x46eb4f,_0x43a930)=>_0x43a930[_0x3a458d(0x7e2)]-_0x46eb4f[_0x3a458d(0x7e2)]);const _0x2a9905=_0x1a6deb[_0x3a458d(0xb67)](0x0,0x5);let _0x302f21='';if(_0x35396b){const _0x1ee10e=_0x5c1c29[_0x3a458d(0x224)]>=_0x5c1c29[_0x3a458d(0x38d)]['questions'][_0x3a458d(0x8da)]-0x1;_0x302f21='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x1ee10e?'ดูผลสรุปสุดท้าย':_0x3a458d(0xda8))+_0x3a458d(0x32d);}else _0x302f21=_0x3a458d(0xea8);liveGameView[_0x3a458d(0x7fc)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x2a9905[_0x3a458d(0xa0d)]((_0x639fed,_0x3a0978)=>_0x3a458d(0xa62)+(_0x3a0978+0x1)+'.\x20'+_0x639fed[_0x3a458d(0x757)]+_0x3a458d(0x292)+_0x639fed['score']+_0x3a458d(0x72d))[_0x3a458d(0x510)]('')+_0x3a458d(0x203)+_0x302f21+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x35396b&&document[_0x3a458d(0xb9f)]('next-sync-question-btn')[_0x3a458d(0x95a)](_0x3a458d(0xd6c),async()=>{const _0x18531d=_0x3a458d,_0x4eb0bc=doc(db,_0x18531d(0xc4a)+appId+_0x18531d(0xcba),currentLiveGameId),_0x29a5ce=_0x5c1c29[_0x18531d(0x224)]+0x1;if(_0x29a5ce<_0x5c1c29['shuffledQuiz'][_0x18531d(0xa09)][_0x18531d(0x8da)]){const _0x3aa798={};Object[_0x18531d(0xb2e)](_0x5c1c29['players'])[_0x18531d(0x4aa)](_0x38442d=>{const _0x3ebf7d=_0x18531d;_0x3aa798[_0x3ebf7d(0x36c)+_0x38442d+_0x3ebf7d(0xad0)]=![];}),await updateDoc(_0x4eb0bc,{..._0x3aa798,'status':'question','currentQuestionIndex':_0x29a5ce,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4eb0bc,{'status':_0x18531d(0xd1f)});});}async function handleJoinSyncGame(){const _0x275007=_0x4b15a0,_0x587ddd=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x587ddd||_0x587ddd['trim']()[_0x275007(0x8da)]!==0x2){showMessage(_0x275007(0x328));return;}try{const _0x40dd65=collection(db,'artifacts/'+appId+_0x275007(0xcba)),_0x1ade4f=query(_0x40dd65,where('pin','==',_0x587ddd['trim']()),where('status','==',_0x275007(0xa70))),_0x1091d8=await getDocs(_0x1ade4f);if(_0x1091d8[_0x275007(0xe97)]){showMessage(_0x275007(0x1f0));return;}const _0xff30eb=_0x1091d8[_0x275007(0x9e5)][0x0];currentLiveGameId=_0xff30eb['id'];const _0x12cd66=_0xff30eb[_0x275007(0x7f7)](),_0x1aeae4=doc(db,_0x275007(0xc4a)+appId+_0x275007(0x671),_0x12cd66['quizId']),_0x30f293=await getDoc(_0x1aeae4);if(!_0x30f293[_0x275007(0x37f)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x43263a=_0x30f293['data'](),_0x5e60e0=doc(db,'artifacts/'+appId+_0x275007(0x47d),_0x43263a[_0x275007(0xa0f)]),_0x4aff0f=await getDoc(_0x5e60e0);if(!_0x4aff0f[_0x275007(0x37f)]())throw new Error(_0x275007(0xc5d));currentQuizData=_0x12cd66[_0x275007(0x38d)];const _0x35a7b3=_0x4aff0f[_0x275007(0x7f7)]();showView('student-team-join'),showTeamPlayerSelection(_0x35a7b3[_0x275007(0x813)],_0x43263a[_0x275007(0x257)]);const _0x531021=document['getElementById'](_0x275007(0x65d));_0x531021['onclick']=confirmAndJoinSyncGame;}catch(_0x58215d){console[_0x275007(0x7cd)](_0x275007(0x517),_0x58215d),showMessage('เกิดข้อผิดพลาด:\x20'+_0x58215d[_0x275007(0x81b)]);}}function updateStudentSyncView(_0x598bd4){const _0x5e1d8f=_0x4b15a0,_0xcba7ff=_0x598bd4['players'][localTeamPlayers[0x0]];if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x598bd4[_0x5e1d8f(0x58b)]){case _0x5e1d8f(0xa70):showView('live-game'),liveGameView[_0x5e1d8f(0x7fc)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x5e1d8f(0x9b0):if(_0x598bd4['currentQuestionIndex']!==lastSeenQuestionIndex){console[_0x5e1d8f(0xe84)](_0x5e1d8f(0x237)),sessionStorage['removeItem'](_0x5e1d8f(0xeb9)),sessionStorage['removeItem'](_0x5e1d8f(0xe70)),sessionStorage[_0x5e1d8f(0x2fd)]('pollUsedThisTurn');const _0xabb979=_0x5e1d8f(0x6fc)+lastSeenQuestionIndex,_0x58dffe=_0x5e1d8f(0x43c)+lastSeenQuestionIndex,_0xea469f='hiddenOptions_q'+lastSeenQuestionIndex;Object[_0x5e1d8f(0xb2e)](sessionStorage)[_0x5e1d8f(0x4aa)](_0xb81c47=>{const _0x1b7276=_0x5e1d8f;(_0xb81c47[_0x1b7276(0xa72)](_0xabb979)||_0xb81c47[_0x1b7276(0xa72)](_0x58dffe)||_0xb81c47[_0x1b7276(0xa72)](_0xea469f))&&sessionStorage[_0x1b7276(0x2fd)](_0xb81c47);}),lastSeenQuestionIndex=_0x598bd4['currentQuestionIndex'];}localPlayerTurnIndex=0x0;const _0x1ed76f=localTeamPlayers[_0x5e1d8f(0x500)](_0x39b930=>_0x598bd4[_0x5e1d8f(0xb9c)][_0x39b930]?.[_0x5e1d8f(0x642)]===!![]);if(_0x1ed76f)liveGameView[_0x5e1d8f(0x7fc)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>';else{renderStudentSyncQuestionView(_0x598bd4);if(_0x598bd4['timerMode']==='per_question'){if(!_0x598bd4['questionDisplayedAt']){console[_0x5e1d8f(0xe84)](_0x5e1d8f(0xdbe));return;}const _0xb7de62=_0x598bd4['questionDisplayedAt'][_0x5e1d8f(0xece)]()[_0x5e1d8f(0xa1c)](),_0x43ac05=_0x598bd4[_0x5e1d8f(0x775)]*0x3e8,_0x20a11e=localTeamPlayers[_0x5e1d8f(0xa0d)](_0x251bd0=>_0x598bd4['players'][_0x251bd0]?.[_0x5e1d8f(0xe07)]||0x0),_0x582be4=Math[_0x5e1d8f(0x5e9)](..._0x20a11e,0x0),_0x5b50b1=_0xb7de62+_0x43ac05+_0x582be4;syncQuestionTimerInterval=setInterval(()=>{const _0x494442=_0x5e1d8f,_0x5c7567=_0x5b50b1-Date[_0x494442(0xb38)](),_0x29bc37=document['getElementById'](_0x494442(0x62d)),_0x18d87b=document[_0x494442(0xb9f)](_0x494442(0xe78));if(_0x5c7567<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x29bc37)_0x29bc37[_0x494442(0x8b5)][_0x494442(0x3bf)]='0%';if(_0x18d87b)_0x18d87b[_0x494442(0x1d0)]='0';liveGameView['innerHTML']=_0x494442(0xb5a);}else{if(_0x29bc37&&_0x18d87b){const _0x46df13=_0x43ac05+_0x582be4,_0x219f57=_0x46df13>0x0?_0x5c7567/_0x46df13*0x64:0x0;_0x29bc37[_0x494442(0x8b5)][_0x494442(0x3bf)]=_0x219f57+'%',_0x18d87b[_0x494442(0x1d0)]=Math[_0x494442(0xb7b)](_0x5c7567/0x3e8);}}},0x1f4);}}break;case _0x5e1d8f(0x221):liveGameView[_0x5e1d8f(0x7fc)]=_0x5e1d8f(0x7e4);break;case _0x5e1d8f(0x4f1):localPlayerTurnIndex=0x0;const _0x1aaec1=_0x598bd4[_0x5e1d8f(0x4f5)]||_0x5e1d8f(0x870);if(_0x1aaec1==='anonymous')renderStudentAnonymousResultsView(_0x598bd4,_0x598bd4[_0x5e1d8f(0x224)]);else _0x1aaec1===_0x5e1d8f(0x5a4)?renderStudentCompetitionResultsView(_0x598bd4,_0x598bd4['currentQuestionIndex']):renderStudentSyncResultsView(_0x598bd4);break;case _0x5e1d8f(0xd1f):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x5e1d8f(0x28b)](_0x5e1d8f(0x28d),handleFullscreenChange),document[_0x5e1d8f(0x28b)](_0x5e1d8f(0xd85),handleVisibilityChange),sessionStorage['removeItem']('activeGameSession');const _0x42210d=calculateFinalPodiumScores(_0x598bd4);showPodiumView(_0x42210d,_0x5e1d8f(0xd24),_0x598bd4);break;}}function renderStudentSyncResultsView(_0x4ee518){const _0x21ed8a=_0x4b15a0,_0x5810e8=localTeamPlayers['map'](_0x247f97=>_0x4ee518[_0x21ed8a(0xb9c)][_0x247f97])['filter'](Boolean);_0x5810e8['sort']((_0x243140,_0x371742)=>(_0x371742[_0x21ed8a(0x7e2)]||0x0)-(_0x243140['score']||0x0));const _0x3681d8=_0x4ee518['gameVariant']||'classic',_0x21964b=_0x4ee518[_0x21ed8a(0x38d)][_0x21ed8a(0xa09)];let _0xfed8ab='';if(_0x3681d8===_0x21ed8a(0x57e)){const _0x362278=_0x4ee518[_0x21ed8a(0x98d)]>=_0x21964b[_0x21ed8a(0x8da)]-0x1;_0x362278?_0xfed8ab=_0x21ed8a(0x7ee):_0xfed8ab='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>';}else{const _0x59156e=_0x4ee518[_0x21ed8a(0x224)]>=_0x21964b[_0x21ed8a(0x8da)]-0x1;_0x59156e?_0xfed8ab='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0xfed8ab='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';}const _0x47d931=_0x21ed8a(0xcad)+_0x5810e8['map']((_0x59d148,_0x144a6f)=>_0x21ed8a(0x2f4)+(_0x144a6f+0x1)+_0x21ed8a(0x6c5)+_0x59d148[_0x21ed8a(0x757)]+_0x21ed8a(0x3b9)+_0x59d148[_0x21ed8a(0x7e2)]+_0x21ed8a(0x7e8))[_0x21ed8a(0x510)]('')+_0x21ed8a(0x6a0)+_0xfed8ab+_0x21ed8a(0xbb1);liveGameView[_0x21ed8a(0x7fc)]=_0x47d931;}function renderStudentAnonymousResultsView(_0x198598,_0x50157c){const _0x11dd49=_0x4b15a0,_0x4a0cf0=Object[_0x11dd49(0x4a0)](_0x198598[_0x11dd49(0xb9c)]||{}),_0x43b72b=_0x50157c,_0x4f85fc=_0x198598[_0x11dd49(0x4f5)]||_0x11dd49(0x870),_0x4731f9=_0x198598[_0x11dd49(0xbf7)]===!![],_0x58068c=_0x198598[_0x11dd49(0x38d)][_0x11dd49(0xa09)],_0x13d0e0=_0x4a0cf0[_0x11dd49(0xa0d)](_0x3b3015=>{const _0x2399e0=_0x11dd49,_0x417675=_0x3b3015['score']||0x0,_0x101882=_0x3b3015[_0x2399e0(0x299)]||0x0,_0x5410d9=(_0x3b3015[_0x2399e0(0x80b)]||[])[_0x2399e0(0xce3)](_0x2efe90=>_0x4f85fc===_0x2399e0(0x57e)?_0x2efe90[_0x2399e0(0x5c7)]<=_0x43b72b:!![]);return{..._0x3b3015,'realScore':_0x417675,'totalPoints':_0x101882,'answers':_0x5410d9};}),_0x1edf36=_0x198598[_0x11dd49(0x5d7)]===!![],_0x3c1f39=[..._0x13d0e0][_0x11dd49(0x8c7)]((_0x5c609e,_0x24cbfe)=>{const _0x8fc62e=_0x11dd49;if(_0x1edf36){const _0x572d8d=_0x24cbfe['realScore']-_0x5c609e[_0x8fc62e(0xddd)];if(_0x572d8d!==0x0)return _0x572d8d;const _0x2ad00e=_0x24cbfe['totalPoints']-_0x5c609e['totalPoints'];if(_0x2ad00e!==0x0)return _0x2ad00e;return(_0x5c609e[_0x8fc62e(0x757)]||'')['localeCompare'](_0x24cbfe[_0x8fc62e(0x757)]||'','th');}else{const _0x425ab3=_0x24cbfe[_0x8fc62e(0x299)]-_0x5c609e[_0x8fc62e(0x299)];if(_0x425ab3!==0x0)return _0x425ab3;const _0x28b4aa=_0x24cbfe[_0x8fc62e(0xddd)]-_0x5c609e[_0x8fc62e(0xddd)];if(_0x28b4aa!==0x0)return _0x28b4aa;return(_0x5c609e['name']||'')[_0x8fc62e(0x822)](_0x24cbfe['name']||'','th');}});let _0x31d7b0=null;const _0x4b1a22=_0x13d0e0[_0x11dd49(0xce3)](_0x2baf0b=>localTeamPlayers[_0x11dd49(0xa36)](_0x2baf0b[_0x11dd49(0x757)]));_0x31d7b0=_0x4b1a22[_0x11dd49(0x8da)]>0x0?_0x4b1a22['sort']((_0x756d7a,_0x44b92a)=>_0x44b92a[_0x11dd49(0x299)]-_0x756d7a[_0x11dd49(0x299)])[0x0]:null;if(!_0x31d7b0){liveGameView['innerHTML']=_0x11dd49(0x317);return;}const _0x344258=_0x1edf36?_0x31d7b0['realScore']:_0x31d7b0[_0x11dd49(0x299)],_0x2601cc=_0x1edf36?_0x31d7b0[_0x11dd49(0x299)]:_0x31d7b0[_0x11dd49(0xddd)],_0x1082aa=_0x3c1f39[0x0],_0x5b5d5f=_0x1edf36?_0x1082aa[_0x11dd49(0xddd)]:_0x1082aa[_0x11dd49(0x299)],_0x147b42=_0x1edf36?_0x1082aa[_0x11dd49(0x299)]:_0x1082aa[_0x11dd49(0xddd)],_0x89c8fc=_0x344258===_0x5b5d5f&&_0x2601cc===_0x147b42&&(_0x3c1f39[0x0][_0x11dd49(0xddd)]>0x0||_0x3c1f39[0x0][_0x11dd49(0x299)]>0x0),_0x3b28b2=_0x50157c+0x1,_0x4b44e1=_0x13d0e0[_0x11dd49(0xce3)](_0x412438=>_0x412438[_0x11dd49(0xddd)]===_0x3b28b2&&(_0x412438['answers']||[])[_0x11dd49(0x8da)]===_0x3b28b2&&_0x3b28b2>0x0),_0x5a5a7b=_0x4b44e1[_0x11dd49(0x8da)]>0x0?Math[_0x11dd49(0x5e9)](..._0x4b44e1[_0x11dd49(0xa0d)](_0x5874ef=>_0x5874ef[_0x11dd49(0x299)])):-Infinity,_0x364199=_0x3c1f39[_0x11dd49(0xa0d)]((_0x4906b3,_0xfb15ef)=>{const _0x1f7fd5=_0x11dd49,_0x28f12f=_0x4906b3[_0x1f7fd5(0xddd)],_0x76474a=_0x4906b3[_0x1f7fd5(0x299)],_0x5e7e07=_0x4906b3['answers'][_0x1f7fd5(0x8da)],_0x4e0edd=(_0x4906b3[_0x1f7fd5(0x80b)]||[])[_0x1f7fd5(0x59d)](_0x324349=>_0x324349[_0x1f7fd5(0x5c7)]===_0x50157c);let _0x3b9259='';if(_0x4e0edd){_0x4e0edd[_0x1f7fd5(0x6de)]&&(_0x3b9259+=_0x1f7fd5(0xaf0));_0x4e0edd[_0x1f7fd5(0x6f0)]&&(_0x3b9259+=_0x1f7fd5(0x226));_0x4e0edd['usedBuyTime']&&(_0x3b9259+=_0x1f7fd5(0x6f5));const _0x59490a=_0x4e0edd['powerupUsed'];if(_0x59490a)switch(_0x59490a){case _0x1f7fd5(0x449):_0x3b9259+=_0x1f7fd5(0xd21);break;case _0x1f7fd5(0x95c):_0x3b9259+=_0x1f7fd5(0x8fe);break;case _0x1f7fd5(0x828):_0x3b9259+='<span\x20title=\x22ใช้:\x20ประกันภัย\x22>🛡️</span>';break;case _0x1f7fd5(0x509):_0x3b9259+='<span\x20title=\x22ใช้:\x2050:50\x22>🌗</span>';break;case _0x1f7fd5(0x529):_0x3b9259+=_0x1f7fd5(0x28f);break;case _0x1f7fd5(0x91f):_0x3b9259+=_0x1f7fd5(0x683);break;}}let _0x4ffff2='';const _0x3bf6a9=_0x4906b3[_0x1f7fd5(0x80b)][_0x1f7fd5(0x8da)],_0x25235e=_0x4906b3[_0x1f7fd5(0xddd)]===_0x3b28b2&&_0x3bf6a9===_0x3b28b2&&_0x3b28b2>0x0;if(_0x1edf36){const _0x882f31=_0x25235e&&_0x4906b3[_0x1f7fd5(0x299)]===_0x5a5a7b;if(_0x882f31)_0x4ffff2='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม\x20และ\x20Points\x20สูงสุด!\x22>👑</span>';else _0x25235e&&(_0x4ffff2='<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22คะแนนดิบเต็ม!\x22>⭐</span>');}else{if(_0x3bf6a9===_0x3b28b2&&_0x3b28b2>0x0){let _0x40d9e7=_0x3b28b2;_0x198598['isConfidenceScoringEnabled']&&(_0x40d9e7=_0x3b28b2*0x2);const _0x30ebda=_0x4906b3[_0x1f7fd5(0x299)]===_0x40d9e7;if(_0x30ebda)_0x4ffff2=_0x1f7fd5(0xb53);else _0x25235e&&(_0x4ffff2=_0x1f7fd5(0x31b));}}if(_0x4ffff2===''){if(_0x76474a<0x0)_0x4ffff2=_0x1f7fd5(0x1d7);else _0x28f12f===0x0&&_0x3bf6a9>0x0&&(_0x4ffff2=_0x1f7fd5(0x872));}let _0x380b1b=_0x1f7fd5(0x6b4);const _0x50a250=(_0x4906b3[_0x1f7fd5(0x80b)]||[])[_0x1f7fd5(0x59d)](_0x129f2f=>_0x129f2f[_0x1f7fd5(0x5c7)]===_0x43b72b);if(_0x50a250){const _0x547b34=_0x50a250[_0x1f7fd5(0x809)],_0x373372=_0x50a250[_0x1f7fd5(0x39f)]===!![]||_0x50a250[_0x1f7fd5(0x39f)]==='confident',_0x39992e=_0x50a250[_0x1f7fd5(0x78c)];if(_0x39992e===_0x1f7fd5(0x529))_0x380b1b=_0x547b34?'bg-yellow-300\x20text-yellow-900\x20font-bold':_0x1f7fd5(0x7c5);else{if(_0x373372)_0x380b1b=_0x547b34?_0x1f7fd5(0xe2b):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x547b34&&(_0x380b1b=_0x1f7fd5(0x340));}}let _0x4b5f0a='';const _0x1ac5ea=_0x4906b3[_0x1f7fd5(0x757)],_0x231b85=_0x198598[_0x1f7fd5(0x20e)][_0x4906b3[_0x1f7fd5(0x757)]]||_0x1f7fd5(0xcdc),_0x2298a4=_0x1f7fd5(0x579),_0x54306f=_0x1f7fd5(0xba5),_0x35579f=localTeamPlayers[_0x1f7fd5(0xa36)](_0x1ac5ea),_0x54c8c2=_0x1edf36?_0x4906b3[_0x1f7fd5(0xddd)]:_0x4906b3['totalPoints'],_0x2e4a1e=_0x1edf36?_0x4906b3[_0x1f7fd5(0x299)]:_0x4906b3['realScore'];if(_0x4731f9)_0x4b5f0a=_0x1f7fd5(0x6a6)+_0x2298a4+'\x22\x20title=\x22'+_0x1ac5ea+'\x20('+_0x231b85+_0x1f7fd5(0x463)+_0x54306f+'\x22>'+_0x1ac5ea+_0x1f7fd5(0xb42)+_0x3b9259+'\x20'+_0x4ffff2+'<span\x20class=\x22block\x20text-sm\x20text-gray-300\x22\x20style=\x22'+_0x54306f+_0x1f7fd5(0xa95)+_0x231b85+')</span></div>';else{if(_0x35579f)_0x89c8fc?_0x4b5f0a='<div\x20style=\x22'+_0x2298a4+_0x1f7fd5(0xdd3)+_0x1ac5ea+'\x20('+_0x231b85+')\x22><span\x20style=\x22'+_0x54306f+'\x22>'+_0x1ac5ea+_0x1f7fd5(0xb42)+_0x3b9259+'\x20'+_0x4ffff2+_0x1f7fd5(0x954)+_0x54306f+_0x1f7fd5(0xa95)+_0x231b85+')</span></div>':_0x4b5f0a=_0x1f7fd5(0x6a6)+_0x2298a4+_0x1f7fd5(0xdd3)+_0x231b85+_0x1f7fd5(0x5ea)+_0x54306f+'\x22>'+_0x231b85+_0x1f7fd5(0xb42)+_0x3b9259+'\x20'+_0x4ffff2+_0x1f7fd5(0xd14);else{const _0xde90a3=_0x344258>_0x54c8c2||_0x344258===_0x54c8c2&&_0x2601cc>_0x2e4a1e;_0xde90a3?_0x4b5f0a=_0x1f7fd5(0x6a6)+_0x2298a4+_0x1f7fd5(0xdd3)+_0x1ac5ea+'\x20('+_0x231b85+_0x1f7fd5(0x463)+_0x54306f+'\x22>'+_0x1ac5ea+_0x1f7fd5(0xb42)+_0x3b9259+'\x20'+_0x4ffff2+_0x1f7fd5(0x954)+_0x54306f+_0x1f7fd5(0xa95)+_0x231b85+_0x1f7fd5(0x24e):_0x4b5f0a=_0x1f7fd5(0x6a6)+_0x2298a4+'\x22\x20title=\x22'+_0x231b85+_0x1f7fd5(0x5ea)+_0x54306f+'\x22>'+_0x231b85+'</span>\x20'+_0x3b9259+'\x20'+_0x4ffff2+_0x1f7fd5(0xd14);}}const _0x560593=_0x76474a>=0x0?'(+'+_0x76474a+')':'('+_0x76474a+')',_0x61b04d=_0x1f7fd5(0xa28)+_0x4906b3['realScore']+_0x1f7fd5(0xa5a)+_0x560593+_0x1f7fd5(0xbc0);return _0x1f7fd5(0xe4d)+_0x380b1b+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>'+(_0xfb15ef+0x1)+_0x1f7fd5(0x414)+_0x4b5f0a+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x61b04d+_0x1f7fd5(0x9b4);})[_0x11dd49(0x510)]('');let _0x5a8f59='';const _0xbc0804=_0x4f85fc===_0x11dd49(0x57e)?_0x198598['reviewQuestionIndex']>=_0x58068c['length']-0x1:_0x198598[_0x11dd49(0x224)]>=_0x58068c[_0x11dd49(0x8da)]-0x1;_0xbc0804?_0x5a8f59='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x5a8f59=_0x11dd49(0x49a);const _0x437e87=_0x11dd49(0xebf)+_0x364199+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a8f59+_0x11dd49(0x650);liveGameView['innerHTML']=_0x437e87;}function renderStudentCompetitionResultsView(_0x440213,_0x3b4672){const _0x2abd85=_0x4b15a0,_0x4312e4=Object[_0x2abd85(0x4a0)](_0x440213[_0x2abd85(0xb9c)]||{}),_0x15f692=_0x3b4672,_0x529db1=_0x440213[_0x2abd85(0x4f5)]||'classic',_0x100e3a=_0x440213[_0x2abd85(0x38d)][_0x2abd85(0xa09)],_0x40bdd1=_0x4312e4[_0x2abd85(0xa0d)](_0x2b4aa2=>{const _0x3218a3=_0x2abd85,_0x3caab2=_0x2b4aa2[_0x3218a3(0x7e2)]||0x0,_0xf8c6f0=_0x2b4aa2['totalPoints']||0x0,_0x55af3d=(_0x2b4aa2[_0x3218a3(0x80b)]||[])[_0x3218a3(0xce3)](_0x1716a5=>_0x529db1==='reveal_at_end'?_0x1716a5['questionIndex']<=_0x15f692:!![]);return{..._0x2b4aa2,'realScore':_0x3caab2,'totalPoints':_0xf8c6f0,'answers':_0x55af3d};}),_0x4f6318=_0x440213[_0x2abd85(0x5d7)]===!![],_0x53444b=[..._0x40bdd1]['sort']((_0xb51ecf,_0x41229a)=>{const _0x1a0446=_0x2abd85;if(_0x4f6318){const _0x4fe166=_0x41229a[_0x1a0446(0xddd)]-_0xb51ecf[_0x1a0446(0xddd)];if(_0x4fe166!==0x0)return _0x4fe166;const _0x1ec10c=_0x41229a['totalPoints']-_0xb51ecf[_0x1a0446(0x299)];if(_0x1ec10c!==0x0)return _0x1ec10c;return(_0xb51ecf[_0x1a0446(0x757)]||'')[_0x1a0446(0x822)](_0x41229a[_0x1a0446(0x757)]||'','th');}else{const _0x469b0a=_0x41229a[_0x1a0446(0x299)]-_0xb51ecf[_0x1a0446(0x299)];if(_0x469b0a!==0x0)return _0x469b0a;const _0x13f0e6=_0x41229a[_0x1a0446(0xddd)]-_0xb51ecf[_0x1a0446(0xddd)];if(_0x13f0e6!==0x0)return _0x13f0e6;return(_0xb51ecf[_0x1a0446(0x757)]||'')[_0x1a0446(0x822)](_0x41229a['name']||'','th');}}),_0x33bbdb=_0x53444b[_0x2abd85(0xa0d)]((_0x30860d,_0x5022fb)=>{const _0x1fda06=_0x2abd85,_0x1d5e34='';let _0x1b4d05='bg-black/20';const _0x4d2b82=_0x30860d[_0x1fda06(0x757)],_0x269c26=_0x1fda06(0x579),_0x17c6be=_0x1fda06(0xba5),_0x2c28ff='<div\x20style=\x22'+_0x269c26+_0x1fda06(0xdd3)+_0x4d2b82+_0x1fda06(0x5ea)+_0x17c6be+'\x22>'+_0x4d2b82+_0x1fda06(0xbc0)+_0x1d5e34+'</div>',_0x49633b='';return _0x1fda06(0xe4d)+_0x1b4d05+_0x1fda06(0x561)+(_0x5022fb+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>'+_0x2c28ff+_0x1fda06(0x586)+_0x49633b+_0x1fda06(0x9b4);})[_0x2abd85(0x510)]('');let _0x14f675='';const _0x42463=_0x529db1===_0x2abd85(0x57e)?_0x440213['reviewQuestionIndex']>=_0x100e3a[_0x2abd85(0x8da)]-0x1:_0x440213[_0x2abd85(0x224)]>=_0x100e3a['length']-0x1;_0x42463?_0x14f675=_0x2abd85(0x7ee):_0x14f675=_0x2abd85(0x49a);const _0x1c4d11=_0x2abd85(0xe60)+_0x33bbdb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14f675+_0x2abd85(0x650);liveGameView[_0x2abd85(0x7fc)]=_0x1c4d11;}function renderStudentSyncQuestionView(_0x447141){const _0x2094f0=_0x4b15a0,_0x5d42ca=localTeamPlayers['find'](_0x225511=>_0x447141[_0x2094f0(0xb9c)][_0x225511]&&_0x447141[_0x2094f0(0xb9c)][_0x225511][_0x2094f0(0x642)]===![]);if(!_0x5d42ca){console['log'](_0x2094f0(0x7f8));return;}const _0x2ed186=_0x447141[_0x2094f0(0xb9c)][_0x5d42ca],_0x231842=_0x2ed186['totalPoints']||0x0,_0x3350f5=_0x2ed186['powerups']||{},_0x38a2e6=_0x447141[_0x2094f0(0x224)],_0x43a492=_0x447141[_0x2094f0(0x38d)][_0x2094f0(0xa09)][_0x2094f0(0x8da)],_0x18dc87=_0x447141[_0x2094f0(0x38d)][_0x2094f0(0xa09)][_0x38a2e6],_0xf7d47c=_0x18dc87['questionType']||_0x447141[_0x2094f0(0x38d)][_0x2094f0(0xd68)];let _0x5c78c8='',_0x3030a8=![];const _0x21adec='hiddenOptions_q'+_0x38a2e6+'_p'+_0x5d42ca,_0x32e608=JSON[_0x2094f0(0x717)](sessionStorage[_0x2094f0(0x3de)](_0x21adec)||'[]')[_0x2094f0(0xa0d)](String);switch(_0xf7d47c){case _0x2094f0(0xa29):const _0xdce4bb=_0x32e608['includes']('0')?'':_0x2094f0(0x5a2),_0x24f71d=_0x32e608[_0x2094f0(0xa36)]('1')?'':_0x2094f0(0x50b);_0x5c78c8=_0xdce4bb+_0x24f71d;break;case _0x2094f0(0xc9f):case _0x2094f0(0xb63):_0x3030a8=!![],_0x5c78c8=_0x2094f0(0x5cb);break;case _0x2094f0(0x50f):_0x3030a8=!![],_0x5c78c8=_0x2094f0(0x2fb)+(_0x18dc87[_0x2094f0(0x816)]||[])[_0x2094f0(0xa0d)](_0x193788=>_0x2094f0(0xe02)+_0x193788+'\x22>'+_0x193788+_0x2094f0(0x36b))['join']('')+_0x2094f0(0x477);break;case _0x2094f0(0x9c3):default:_0x5c78c8=(_0x18dc87[_0x2094f0(0x4d1)]||[])[_0x2094f0(0xa0d)]((_0x592f8d,_0x38c3d5)=>{const _0x257ed5=_0x2094f0;if(_0x32e608[_0x257ed5(0xa36)](_0x38c3d5['toString']()))return'';return'<button\x20data-value=\x22'+_0x38c3d5+_0x257ed5(0x8a4)+_0x592f8d+_0x257ed5(0x961);})['join']('');break;}let _0x5e3f83='';_0x447141[_0x2094f0(0x98f)]===_0x2094f0(0x39b)&&(_0x5e3f83=_0x2094f0(0xa13)+_0x447141[_0x2094f0(0x775)]+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x10897b='';if(_0x447141[_0x2094f0(0x5d7)]===!![]){const _0x309873=[_0x3350f5[_0x2094f0(0x509)]>0x0?_0x2094f0(0x992)+_0x3350f5['fiftyFifty']+_0x2094f0(0xdd0):'',_0x3350f5[_0x2094f0(0x95c)]>0x0?_0x2094f0(0xc90)+_0x3350f5[_0x2094f0(0x95c)]+_0x2094f0(0xdd0):'',_0x3350f5[_0x2094f0(0x449)]>0x0?'<button\x20id=\x22use-powerup-poll\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>📊\x20สถิติ\x20('+_0x3350f5['poll']+_0x2094f0(0xdd0):'',_0x3350f5[_0x2094f0(0x828)]>0x0?'<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20('+_0x3350f5[_0x2094f0(0x828)]+_0x2094f0(0xdd0):'',_0x3350f5[_0x2094f0(0x529)]>0x0?_0x2094f0(0x73e)+_0x3350f5['wagerMultiplier']+')</button>':'',_0x3350f5['forceConfident']>0x0?'<button\x20id=\x22use-powerup-forceConfident\x22\x20class=\x22powerup-btn\x20bg-red-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>👻\x20บังคับมั่นใจ\x20('+_0x3350f5[_0x2094f0(0x6a1)]+')</button>':'',_0x3350f5['jinx']>0x0?_0x2094f0(0x1c4)+_0x3350f5[_0x2094f0(0x405)]+_0x2094f0(0xdd0):'',_0x3350f5['secondChance']>0x0?_0x2094f0(0x94d)+_0x3350f5[_0x2094f0(0x91f)]+_0x2094f0(0xdd0):'',_0x3350f5['buyTime']>0x0?_0x2094f0(0x6d1)+_0x3350f5[_0x2094f0(0x982)]+')</button>':'',_0x3350f5[_0x2094f0(0xc94)]>0x0?_0x2094f0(0xc73)+_0x3350f5[_0x2094f0(0xc94)]+_0x2094f0(0xdd0):''][_0x2094f0(0xce3)](Boolean)[_0x2094f0(0x510)]('\x20');_0x10897b=_0x2094f0(0x903)+_0x231842+_0x2094f0(0x912)+(_0x309873||_0x2094f0(0xc3a))+_0x2094f0(0xbd4);}const _0x519ef8=_0x2094f0(0x43c)+_0x38a2e6+'_p'+_0x5d42ca,_0x30cb6c=sessionStorage[_0x2094f0(0x3de)](_0x519ef8);let _0x14e0a7='';_0x2ed186['isJinxed']===!![]&&(_0x14e0a7+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-red-800\x20text-white\x20font-semibold\x20mb-3\x20animate-pulse\x22>😈\x20คุณโดนคำสาป!\x20(หากตอบผิด\x20บทลงโทษ\x20x2)</div>');_0x2ed186[_0x2094f0(0x421)]===!![]&&(_0x14e0a7+=_0x2094f0(0x817));if(_0x30cb6c)switch(_0x30cb6c){case _0x2094f0(0x828):_0x14e0a7+=_0x2094f0(0xd57);break;case'wagerMultiplier':_0x14e0a7+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-semibold\x20mb-3\x20animate-pulse\x22>💰\x20โหมดเดิมพันทำงานอยู่!\x20(เลือกคำตอบเพื่อเดิมพัน)</div>';break;case _0x2094f0(0x91f):_0x14e0a7+=_0x2094f0(0xa11);break;case'poll':_0x14e0a7+=_0x2094f0(0xb33);break;case _0x2094f0(0x95c):_0x14e0a7+='<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-gray-500\x20text-white\x20font-semibold\x20mb-3\x22>✂️\x20คุณได้ใช้\x20\x22ตัด\x201\x20ตัวเลือก\x22\x20ไปแล้ว</div>';break;case _0x2094f0(0x509):_0x14e0a7+=_0x2094f0(0x204);break;}(_0x2ed186['timeBonusThisQuestion']||0x0)>0x0&&(_0x14e0a7+=_0x2094f0(0x7cf));liveGameView[_0x2094f0(0x7fc)]=_0x2094f0(0x3af)+(_0x38a2e6+0x1)+_0x2094f0(0xc6c)+_0x43a492+_0x2094f0(0x8a6)+_0x5d42ca+_0x2094f0(0x370)+_0x5e3f83+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10897b+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x14e0a7+_0x2094f0(0xcbd)+(_0x18dc87['questionText']||_0x18dc87[_0x2094f0(0x7fb)])+_0x2094f0(0x533)+_0x5c78c8+_0x2094f0(0x392);if(window[_0x2094f0(0x51a)])MathJax[_0x2094f0(0xbce)]();function _0x54a1ac(_0x1e4bed,_0x5bd31a,_0x10a4d5,_0x45bd4d){const _0x346eba=_0x2094f0,_0x18aecf=_0x10a4d5['isConfidenceScoringEnabled']===!![],_0x4ab9be=_0x10a4d5['currentQuestionIndex'],_0x3aff80='powerupUsed_q'+_0x4ab9be+'_p'+_0x45bd4d,_0x680fd1=sessionStorage[_0x346eba(0x3de)](_0x3aff80),_0x171b99=_0x680fd1===_0x346eba(0x529),_0x34a559=_0x10a4d5[_0x346eba(0xb9c)][_0x45bd4d];if(_0x171b99){const _0x364dcb=document[_0x346eba(0xb9f)](_0x346eba(0x7d1)),_0x3dbcba=document[_0x346eba(0xb9f)](_0x346eba(0xce0)),_0x18fb43=document[_0x346eba(0xb9f)](_0x346eba(0x925)),_0x142c3e=document[_0x346eba(0xb9f)]('wager-max-points'),_0x12541e=_0x34a559[_0x346eba(0x299)]||0x0;_0x3dbcba['max']=_0x12541e,_0x3dbcba[_0x346eba(0x232)]=0x0,_0x18fb43['textContent']=0x0,_0x142c3e[_0x346eba(0x1d0)]=_0x12541e,_0x3dbcba[_0x346eba(0xb06)]=()=>{const _0x120178=_0x346eba;_0x18fb43['textContent']=_0x3dbcba[_0x120178(0x232)];};const _0x4e6a5a=document[_0x346eba(0xb9f)](_0x346eba(0xd30));_0x4e6a5a[_0x346eba(0x273)][_0x346eba(0x1ea)]=_0x1e4bed,_0x4e6a5a['dataset']['question']=JSON['stringify'](_0x5bd31a),_0x4e6a5a['dataset'][_0x346eba(0xd82)]=JSON[_0x346eba(0x4d8)](_0x10a4d5),_0x4e6a5a['dataset'][_0x346eba(0x3e2)]=_0x45bd4d,_0x364dcb[_0x346eba(0xbd3)][_0x346eba(0x5f4)](_0x346eba(0x81c));}else{if(_0x18aecf){document['getElementById'](_0x346eba(0x825))['dataset']['currentMode']=_0x346eba(0xd24);const _0x231870=document[_0x346eba(0xb9f)]('selected-answer-index-hidden');_0x231870[_0x346eba(0x273)]['answerValue']=_0x1e4bed,_0x231870[_0x346eba(0x273)][_0x346eba(0x9b0)]=JSON['stringify'](_0x5bd31a),_0x231870[_0x346eba(0x273)][_0x346eba(0xd82)]=JSON[_0x346eba(0x4d8)](_0x10a4d5),_0x231870[_0x346eba(0x273)]['playerName']=_0x45bd4d,document[_0x346eba(0xb9f)](_0x346eba(0x825))[_0x346eba(0xbd3)][_0x346eba(0x5f4)]('hidden');}else handleSyncAnswerSubmit(_0x1e4bed,_0x5bd31a,_0x10a4d5,_0x45bd4d,![],0x0);}}_0x3030a8?document[_0x2094f0(0xb9f)]('sync-submit-btn')[_0x2094f0(0x95a)](_0x2094f0(0xd6c),()=>{const _0x566e8c=_0x2094f0,_0x5006f3=document[_0x566e8c(0xb9f)](_0x566e8c(0x728))||document[_0x566e8c(0xb9f)](_0x566e8c(0x652));if(_0x5006f3[_0x566e8c(0x232)][_0x566e8c(0xbdc)]()===''){showMessage(_0x566e8c(0x92e));return;}_0x54a1ac(_0x5006f3[_0x566e8c(0x232)],_0x18dc87,_0x447141,_0x5d42ca);}):document['querySelectorAll'](_0x2094f0(0xeb4))[_0x2094f0(0x4aa)](_0x4e2fa4=>{const _0x201afc=_0x2094f0;_0x4e2fa4[_0x201afc(0x95a)](_0x201afc(0xd6c),()=>{const _0x40ab42=_0x201afc;_0x54a1ac(_0x4e2fa4[_0x40ab42(0x273)][_0x40ab42(0x232)],_0x18dc87,_0x447141,_0x5d42ca);});});if(_0x447141[_0x2094f0(0x5d7)]===!![]){const _0x9030da=document[_0x2094f0(0xb9f)](_0x2094f0(0x919));_0x9030da&&_0x9030da['addEventListener'](_0x2094f0(0xd6c),()=>{const _0x3350a0=_0x2094f0,_0x37d883=_0x447141['currentQuestionIndex'],_0x43e6c4=_0x5d42ca,_0x4f7c25=_0x3350a0(0x6fc)+_0x37d883+'_p'+_0x43e6c4,_0x544b1b=sessionStorage[_0x3350a0(0x3de)](_0x4f7c25)==='true';if(!_0x544b1b)console['log']('เข้าตลาดมืดครั้งแรก\x20(ข้อ\x20'+_0x37d883+_0x3350a0(0xbc2)),openBlackMarket(_0x447141,_0x2ed186),sessionStorage[_0x3350a0(0x685)](_0x4f7c25,'true');else{console[_0x3350a0(0xe84)]('เข้าตลาดมืดครั้งที่\x202+\x20(ข้อ\x20'+_0x37d883+_0x3350a0(0x3e1));if(_0x2ed186[_0x3350a0(0x299)]<0x1){showMessage(_0x3350a0(0xb3d));return;}showConfirmation('การเข้าตลาดมืดครั้งต่อไปในข้อนี้\x20จะเสียค่าธรรมเนียม\x201\x20Point\x20คุณต้องการเข้าหรือไม่?',()=>{handlePayForMarketEntry(_0x5d42ca,_0x447141,_0x2ed186);});}}),document['getElementById'](_0x2094f0(0x74f))?.[_0x2094f0(0x95a)](_0x2094f0(0xd6c),_0xca3cd4=>{const _0x38739b=_0x2094f0,_0x2aaec3=_0xca3cd4[_0x38739b(0x4ee)];_0x2aaec3[_0x38739b(0x417)]=!![],showConfirmation(_0x38739b(0x501),()=>{const _0x318d05=_0x38739b;handleUsePowerup(_0x5d42ca,_0x318d05(0x449),_0x18dc87,_0x447141,_0x2ed186);},()=>{_0x2aaec3['disabled']=![];});}),document[_0x2094f0(0xb9f)](_0x2094f0(0x72c))?.[_0x2094f0(0x95a)](_0x2094f0(0xd6c),_0x1994d8=>{const _0x4e09f4=_0x2094f0;_0x1994d8[_0x4e09f4(0x4ee)][_0x4e09f4(0x417)]=!![],handleUsePowerup(_0x5d42ca,_0x4e09f4(0x982),_0x18dc87,_0x447141,_0x2ed186);}),document[_0x2094f0(0xb9f)]('use-powerup-jinx')?.[_0x2094f0(0x95a)](_0x2094f0(0xd6c),_0x466009=>{const _0x1f4654=_0x2094f0;_0x466009['target'][_0x1f4654(0x417)]=!![],handleUsePowerup(_0x5d42ca,_0x1f4654(0x405),_0x18dc87,_0x447141,_0x2ed186);}),document[_0x2094f0(0xb9f)](_0x2094f0(0x3c3))?.['addEventListener']('click',_0x477933=>{const _0x2684ab=_0x2094f0;_0x477933[_0x2684ab(0x4ee)][_0x2684ab(0x417)]=!![],handleUsePowerup(_0x5d42ca,_0x2684ab(0x95c),_0x18dc87,_0x447141,_0x2ed186);}),document['getElementById'](_0x2094f0(0x255))?.[_0x2094f0(0x95a)](_0x2094f0(0xd6c),_0x52aed7=>{const _0x4f22e9=_0x2094f0;_0x52aed7['target']['disabled']=!![],handleUsePowerup(_0x5d42ca,_0x4f22e9(0x828),_0x18dc87,_0x447141,_0x2ed186);}),document[_0x2094f0(0xb9f)](_0x2094f0(0xe64))?.['addEventListener'](_0x2094f0(0xd6c),_0x2e3105=>{const _0x56c871=_0x2094f0;_0x2e3105[_0x56c871(0x4ee)][_0x56c871(0x417)]=!![],handleUsePowerup(_0x5d42ca,_0x56c871(0x529),_0x18dc87,_0x447141,_0x2ed186);}),document['getElementById']('use-powerup-forceConfident')?.[_0x2094f0(0x95a)]('click',_0x472708=>{const _0x223a8b=_0x2094f0;_0x472708[_0x223a8b(0x4ee)][_0x223a8b(0x417)]=!![],handleUsePowerup(_0x5d42ca,'forceConfident',_0x18dc87,_0x447141,_0x2ed186);}),document[_0x2094f0(0xb9f)]('use-powerup-fiftyFifty')?.['addEventListener'](_0x2094f0(0xd6c),_0x62f9f1=>{const _0xfc37a4=_0x2094f0;_0x62f9f1[_0xfc37a4(0x4ee)]['disabled']=!![],handleUsePowerup(_0x5d42ca,'fiftyFifty',_0x18dc87,_0x447141,_0x2ed186);}),document['getElementById'](_0x2094f0(0xc88))?.[_0x2094f0(0x95a)]('click',_0x133d48=>{const _0x28df59=_0x2094f0;_0x133d48[_0x28df59(0x4ee)][_0x28df59(0x417)]=!![],handleUsePowerup(_0x5d42ca,_0x28df59(0x91f),_0x18dc87,_0x447141,_0x2ed186);}),document[_0x2094f0(0xb9f)](_0x2094f0(0x2ea))?.[_0x2094f0(0x95a)](_0x2094f0(0xd6c),_0x4ae999=>{const _0x2d3484=_0x2094f0;_0x4ae999['target']['disabled']=!![],handleUsePowerup(_0x5d42ca,_0x2d3484(0xc94),_0x18dc87,_0x447141,_0x2ed186);});}}async function handleSyncAnswerSubmit(_0x33bbae,_0xe1aced,_0x4d70ed,_0x169753,_0x46f35d,_0x1876b8=0x0){const _0x312cd2=_0x4b15a0;document[_0x312cd2(0x3eb)](_0x312cd2(0x3d6))['forEach'](_0x4b920c=>_0x4b920c[_0x312cd2(0x417)]=!![]);const _0x4ef8c3=_0x4d70ed['currentQuestionIndex'],_0x399824=_0x312cd2(0x43c)+_0x4ef8c3+'_p'+_0x169753,_0x5514be=sessionStorage[_0x312cd2(0x3de)](_0x399824),_0x50606=_0x4d70ed[_0x312cd2(0xb9c)][_0x169753]?.['isForcedConfident']===!![],_0x13a7cb=sessionStorage['getItem'](_0x312cd2(0xe70))===_0x312cd2(0xb18),_0x4651c2=_0xe1aced[_0x312cd2(0x899)]||_0x4d70ed[_0x312cd2(0x38d)][_0x312cd2(0xd68)];let _0x381be1=![],_0x85d337=_0x33bbae;switch(_0x4651c2){case _0x312cd2(0xa29):const _0x550e1f=parseInt(_0x33bbae),_0x605cb8=_0xe1aced['correctAnswer']===!![]||String(_0xe1aced[_0x312cd2(0x9fb)])['toLowerCase']()===_0x312cd2(0xb18);_0x381be1=_0x550e1f===0x0&&_0x605cb8||_0x550e1f===0x1&&!_0x605cb8,_0x85d337=_0x550e1f===0x0?_0x312cd2(0xb92):_0x312cd2(0x793);break;case _0x312cd2(0xc9f):case _0x312cd2(0xb63):_0x381be1=await gradeShortAnswer(_0x33bbae,_0xe1aced);break;case _0x312cd2(0x50f):_0x381be1=_0x33bbae===_0xe1aced[_0x312cd2(0xa54)];break;case _0x312cd2(0x9c3):default:const _0x1bd710=parseInt(_0x33bbae);_0x381be1=_0x1bd710===_0xe1aced[_0x312cd2(0x82e)];_0xe1aced[_0x312cd2(0x4d1)]&&_0xe1aced[_0x312cd2(0x4d1)][_0x1bd710]&&(_0x85d337=_0xe1aced[_0x312cd2(0x4d1)][_0x1bd710]);break;}if(!_0x381be1&&_0x5514be===_0x312cd2(0x91f)&&!_0x13a7cb){sessionStorage[_0x312cd2(0x2fd)](_0x399824),sessionStorage[_0x312cd2(0x685)](_0x312cd2(0xe70),_0x312cd2(0xb18)),showMessage(_0x312cd2(0x8d3)),document[_0x312cd2(0x3eb)](_0x312cd2(0x3d6))['forEach'](_0x18bd4a=>{const _0x2ffa45=_0x312cd2;!_0x18bd4a['classList'][_0x2ffa45(0x959)](_0x2ffa45(0x81c))&&(_0x18bd4a[_0x2ffa45(0x417)]=![]);});return;}const _0x13a772=doc(db,_0x312cd2(0xc4a)+appId+_0x312cd2(0xcba),currentLiveGameId),_0x1050b2={},_0x2bee0f=_0x4d70ed[_0x312cd2(0xb9c)][_0x169753]?.[_0x312cd2(0x80b)]||[];let _0x3ac90f=0x0;const _0x5c9a52=_0x5514be===_0x312cd2(0x529),_0x2ec145=_0x5514be===_0x312cd2(0x828),_0x15d426=sessionStorage[_0x312cd2(0x3de)](_0x312cd2(0x522))==='true',_0x1f091c=_0x4d70ed[_0x312cd2(0xb9c)][_0x169753]?.[_0x312cd2(0xb75)]===!![];if(_0x5c9a52){const _0x7f97d8=parseInt(_0x1876b8,0xa)||0x0;_0x3ac90f=_0x381be1?_0x7f97d8*0x2:-_0x7f97d8;}else{if(_0x15d426&&!_0x381be1)_0x46f35d===!![]||_0x46f35d===_0x312cd2(0x4df)||_0x50606?_0x3ac90f=-0x4:_0x3ac90f=-0x2;else{if(_0x50606)_0x3ac90f=_0x381be1?0x2:-0x1;else{if(_0x4d70ed[_0x312cd2(0xb89)]){if(_0x381be1&&(_0x46f35d===!![]||_0x46f35d===_0x312cd2(0x4df)))_0x3ac90f=0x2;else{if(_0x381be1)_0x3ac90f=0x1;else{if(!_0x381be1&&(_0x46f35d===![]||_0x46f35d===_0x312cd2(0xace)||_0x46f35d===null))_0x3ac90f=0x0;else!_0x381be1&&(_0x46f35d===!![]||_0x46f35d===_0x312cd2(0x4df))&&(_0x3ac90f=-0x1);}}}else _0x3ac90f=_0x381be1?0x1:0x0;}}}_0x1f091c&&!_0x381be1&&_0x3ac90f<0x0&&(_0x3ac90f*=0x2);!_0x381be1&&_0x2ec145&&(_0x3ac90f=0x0);const _0x36f6f3=(_0x4d70ed['players'][_0x169753]?.[_0x312cd2(0xe07)]||0x0)>0x0,_0x325a4e={'questionIndex':_0x4d70ed[_0x312cd2(0x224)],'questionId':_0xe1aced['id'],'answer':_0x33bbae,'answerText':_0x85d337,'isCorrect':_0x381be1,'originalQuestionText':_0xe1aced[_0x312cd2(0x931)]||_0xe1aced[_0x312cd2(0x7fb)],'wasConfident':_0x50606?'confident':_0x46f35d||![],'pointsAwarded':_0x3ac90f,'powerupUsed':_0x5514be||null,'wasJinxed':_0x1f091c||![],'wasForced':_0x50606||![],'usedPoll':_0x15d426||![],'usedBuyTime':_0x36f6f3},_0x2a6db1=_0x2bee0f[_0x312cd2(0xce3)](_0x515a71=>_0x515a71[_0x312cd2(0x5c7)]!==_0x4d70ed[_0x312cd2(0x224)]),_0x5c3b32=[..._0x2a6db1,_0x325a4e],_0x195e10=_0x5c3b32[_0x312cd2(0xce3)](_0x316917=>_0x316917[_0x312cd2(0x809)])[_0x312cd2(0x8da)];_0x1050b2[_0x312cd2(0x36c)+_0x169753+_0x312cd2(0xd1e)]=_0x5c3b32,_0x1050b2[_0x312cd2(0x36c)+_0x169753+_0x312cd2(0xb49)]=_0x195e10,_0x1050b2['players.'+_0x169753+_0x312cd2(0x68d)]=increment(_0x3ac90f),_0x1050b2[_0x312cd2(0x36c)+_0x169753+'.answered']=!![];_0x36f6f3&&(_0x1050b2[_0x312cd2(0x36c)+_0x169753+_0x312cd2(0x9d4)]=0x0);_0x50606&&(_0x1050b2[_0x312cd2(0x36c)+_0x169753+_0x312cd2(0x8b7)]=![]);_0x13a7cb&&sessionStorage[_0x312cd2(0x2fd)](_0x312cd2(0xe70));let _0xb31760=null;(_0x4651c2===_0x312cd2(0x9c3)||_0x4651c2===_0x312cd2(0xa29)||_0x4651c2===_0x312cd2(0xe8c))&&(_0xb31760=parseInt(_0x33bbae)),_0x1050b2[_0x312cd2(0x36c)+_0x169753+_0x312cd2(0x9d9)]=_0xb31760,await updateDoc(_0x13a772,_0x1050b2);}const allMarketItems=[{'id':_0x4b15a0(0x982),'name':_0x4b15a0(0xd43),'price':0x1,'desc':_0x4b15a0(0xc11)},{'id':_0x4b15a0(0x449),'name':_0x4b15a0(0x2cd),'price':0x2,'desc':_0x4b15a0(0x755)},{'id':_0x4b15a0(0x95c),'name':_0x4b15a0(0x462),'price':0x2,'desc':_0x4b15a0(0x29b)},{'id':_0x4b15a0(0x828),'name':_0x4b15a0(0x9ff),'price':0x2,'desc':_0x4b15a0(0x906)},{'id':_0x4b15a0(0xc94),'name':_0x4b15a0(0x294),'price':0x2,'desc':_0x4b15a0(0x43d)},{'id':'forceConfident','name':_0x4b15a0(0x63f),'price':0x3,'desc':_0x4b15a0(0x788)},{'id':_0x4b15a0(0x509),'name':_0x4b15a0(0x9b8),'price':0x5,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)'},{'id':_0x4b15a0(0x529),'name':_0x4b15a0(0xa42),'price':0x5,'desc':_0x4b15a0(0xda4)},{'id':_0x4b15a0(0x405),'name':_0x4b15a0(0xc30),'price':0x5,'desc':'เลือกผู้เล่น\x201\x20คน\x20หากผู้เล่นนั้นตอบผิดในข้อนี้\x20\x22บทลงโทษทั้งหมด\x22\x20จะ\x20x2\x20(ถ้าตอบถูกได้คะแนนปกติ)'},{'id':_0x4b15a0(0x91f),'name':_0x4b15a0(0x6a3),'price':0x7,'desc':_0x4b15a0(0xc28)}];function openBlackMarket(_0x3c5852,_0x85668c){const _0x3cb5c0=_0x4b15a0;let _0x12c0e4=null;const _0x24b10b=document[_0x3cb5c0(0xb9f)](_0x3cb5c0(0xa37)),_0x58f7e2=document['getElementById'](_0x3cb5c0(0xd73)),_0x413461=document['getElementById']('market-current-points'),_0x3e834d=document[_0x3cb5c0(0xb9f)](_0x3cb5c0(0x7b4)),_0x15cb13=_0x85668c['totalPoints']||0x0;_0x413461['textContent']=_0x15cb13;const _0x33e029=allMarketItems;_0x58f7e2[_0x3cb5c0(0x7fc)]=_0x33e029[_0x3cb5c0(0xa0d)](_0x26c44c=>{const _0x29cc1a=_0x3cb5c0,_0xc316c6=_0x15cb13>=_0x26c44c[_0x29cc1a(0x29c)];if(_0x26c44c['id']===_0x29cc1a(0x982)){const _0x251e14=_0xc316c6?Math[_0x29cc1a(0x426)](_0x15cb13/_0x26c44c['price']):0x0,_0x310d06=_0x15cb13>=_0x26c44c[_0x29cc1a(0x29c)];return _0x29cc1a(0x9c4)+(!_0x310d06?'bg-gray-100\x20opacity-70':'bg-white')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>'+_0x26c44c['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x26c44c[_0x29cc1a(0x22f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22'+_0x251e14+'\x22\x20'+(!_0x310d06?_0x29cc1a(0x417):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20'+(_0x310d06?_0x29cc1a(0x484):_0x29cc1a(0x4c0))+_0x29cc1a(0xaec)+_0x26c44c['id']+_0x29cc1a(0x89b)+_0x26c44c[_0x29cc1a(0x29c)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x310d06?'disabled':'')+_0x29cc1a(0xe6e)+_0x26c44c[_0x29cc1a(0x29c)]+_0x29cc1a(0x3e4);}else{const _0x434572=!_0xc316c6?'disabled':'',_0x4960cc=_0xc316c6?_0x29cc1a(0x484):_0x29cc1a(0x4c0);return _0x29cc1a(0x9c4)+(!_0xc316c6?_0x29cc1a(0x845):_0x29cc1a(0xd03))+_0x29cc1a(0xe21)+_0x26c44c[_0x29cc1a(0x757)]+_0x29cc1a(0x439)+_0x26c44c['desc']+_0x29cc1a(0x3f5)+_0x4960cc+_0x29cc1a(0x4af)+_0x26c44c['id']+_0x29cc1a(0xe5a)+_0x26c44c[_0x29cc1a(0x29c)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x434572+_0x29cc1a(0xb11)+_0x26c44c['price']+_0x29cc1a(0x6ae);}})['join'](''),_0x24b10b[_0x3cb5c0(0xbd3)][_0x3cb5c0(0x5f4)](_0x3cb5c0(0x81c)),_0x3e834d[_0x3cb5c0(0x8b5)][_0x3cb5c0(0x672)]=_0x3cb5c0(0xbae),_0x3e834d[_0x3cb5c0(0x8b5)]['width']='100%',setTimeout(()=>{const _0x55420c=_0x3cb5c0;_0x3e834d[_0x55420c(0x8b5)][_0x55420c(0x672)]=_0x55420c(0x81e),_0x3e834d[_0x55420c(0x8b5)][_0x55420c(0x3bf)]='0%';},0x32),_0x12c0e4=setTimeout(()=>{const _0x5d2349=_0x3cb5c0;_0x24b10b[_0x5d2349(0xbd3)][_0x5d2349(0x72b)](_0x5d2349(0x81c));},0xea60),document[_0x3cb5c0(0xb9f)](_0x3cb5c0(0x8e6))['onclick']=()=>{const _0x4a5ac7=_0x3cb5c0;clearTimeout(_0x12c0e4),_0x24b10b['classList'][_0x4a5ac7(0x72b)](_0x4a5ac7(0x81c));},_0x58f7e2[_0x3cb5c0(0x3eb)](_0x3cb5c0(0x999))[_0x3cb5c0(0x4aa)](_0x3c4b8d=>{const _0x57559d=_0x3cb5c0;_0x3c4b8d[_0x57559d(0x760)]=_0x3a03f8=>{const _0x32e03e=_0x57559d,_0x50f63f=_0x3a03f8[_0x32e03e(0x4ee)][_0x32e03e(0x273)][_0x32e03e(0x3a8)],_0x45bbd0=parseInt(_0x3a03f8[_0x32e03e(0x4ee)][_0x32e03e(0x273)]['price'],0xa);clearTimeout(_0x12c0e4),_0x24b10b[_0x32e03e(0xbd3)][_0x32e03e(0x72b)](_0x32e03e(0x81c)),handleBuyItem(_0x85668c[_0x32e03e(0x757)],_0x50f63f,_0x45bbd0,0x1);};}),_0x58f7e2['querySelectorAll'](_0x3cb5c0(0x590))['forEach'](_0x5a2a2c=>{_0x5a2a2c['onclick']=_0x1d0074=>{const _0x2838cf=_0x33c9,_0x4016a6=_0x1d0074[_0x2838cf(0x4ee)][_0x2838cf(0x273)][_0x2838cf(0x3a8)],_0x451c01=parseInt(_0x1d0074[_0x2838cf(0x4ee)]['dataset'][_0x2838cf(0x29c)],0xa),_0x17fb01=document['getElementById'](_0x2838cf(0x7eb)),_0xc12d7=parseInt(_0x17fb01[_0x2838cf(0x232)],0xa),_0x2fb20f=parseInt(_0x17fb01['max'],0xa);if(!_0xc12d7||_0xc12d7<0x1){showMessage('กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)');return;}if(_0xc12d7>_0x2fb20f){showMessage(_0x2838cf(0xb6a)+_0x2fb20f+_0x2838cf(0x62a));return;}clearTimeout(_0x12c0e4),_0x24b10b[_0x2838cf(0xbd3)]['add'](_0x2838cf(0x81c)),handleBuyItem(_0x85668c['name'],_0x4016a6,_0x451c01,_0xc12d7);};});}async function handleBuyItem(_0x74f829,_0x6d6853,_0x343fe1,_0x4e8b5a=0x1){const _0x43ecb0=_0x4b15a0,_0x1c2ea8=doc(db,_0x43ecb0(0xc4a)+appId+_0x43ecb0(0xcba),currentLiveGameId);try{await runTransaction(db,async _0x285109=>{const _0x4c34cb=_0x43ecb0,_0x5beb44=await _0x285109['get'](_0x1c2ea8);if(!_0x5beb44['exists']())throw'ไม่พบข้อมูลเกม';const _0xb75d9e=_0x5beb44[_0x4c34cb(0x7f7)](),_0x161e07=_0xb75d9e[_0x4c34cb(0xb9c)][_0x74f829]?.[_0x4c34cb(0x299)]||0x0,_0x534c1a=_0x343fe1*_0x4e8b5a;if(_0x161e07<_0x534c1a)throw _0x4c34cb(0x2e3);const _0x4ec1fa={};_0x4ec1fa[_0x4c34cb(0x36c)+_0x74f829+_0x4c34cb(0x68d)]=increment(-_0x534c1a),_0x4ec1fa[_0x4c34cb(0x36c)+_0x74f829+'.powerups.'+_0x6d6853]=increment(_0x4e8b5a),_0x285109[_0x4c34cb(0x86a)](_0x1c2ea8,_0x4ec1fa);}),showMessage('ซื้อ\x20\x22'+_0x6d6853+_0x43ecb0(0x8a7)+_0x4e8b5a+_0x43ecb0(0xc80));}catch(_0x1ae744){console[_0x43ecb0(0x7cd)]('Transactionล้มเหลว:\x20',_0x1ae744),showMessage(typeof _0x1ae744===_0x43ecb0(0xe1b)?_0x1ae744:_0x43ecb0(0xb32));}}async function handlePayForMarketEntry(_0x30d700,_0x2790e4,_0x27bff8){const _0x16fb30=_0x4b15a0,_0x213ce8=doc(db,_0x16fb30(0xc4a)+appId+_0x16fb30(0xcba),currentLiveGameId);try{await runTransaction(db,async _0x567a06=>{const _0x5cb798=_0x16fb30,_0x527ea3=await _0x567a06['get'](_0x213ce8);if(!_0x527ea3['exists']())throw _0x5cb798(0x5b2);const _0x2c18be=_0x527ea3[_0x5cb798(0x7f7)](),_0x46042b=_0x2c18be[_0x5cb798(0xb9c)][_0x30d700]?.['totalPoints']||0x0;if(_0x46042b<0x1)throw'มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)';const _0x5878af={};_0x5878af[_0x5cb798(0x36c)+_0x30d700+'.totalPoints']=increment(-0x1),_0x567a06[_0x5cb798(0x86a)](_0x213ce8,_0x5878af);});const _0x5a564d={..._0x27bff8,'totalPoints':(_0x27bff8['totalPoints']||0x0)-0x1};openBlackMarket(_0x2790e4,_0x5a564d);}catch(_0x422d9d){console[_0x16fb30(0x7cd)](_0x16fb30(0x747),_0x422d9d),showMessage(typeof _0x422d9d===_0x16fb30(0xe1b)?_0x422d9d:_0x16fb30(0x423));}}initialize();
