const _0x56a724=_0x3686;(function(_0x5aec23,_0x3b1e5b){const _0x26fd83=_0x3686,_0x5b8d1b=_0x5aec23();while(!![]){try{const _0x4a746b=-parseInt(_0x26fd83(0xde))/0x1+parseInt(_0x26fd83(0x700))/0x2+-parseInt(_0x26fd83(0x654))/0x3*(-parseInt(_0x26fd83(0x38e))/0x4)+parseInt(_0x26fd83(0x383))/0x5*(-parseInt(_0x26fd83(0x76a))/0x6)+parseInt(_0x26fd83(0x4bf))/0x7+parseInt(_0x26fd83(0x31c))/0x8*(parseInt(_0x26fd83(0x28a))/0x9)+parseInt(_0x26fd83(0x903))/0xa*(-parseInt(_0x26fd83(0x954))/0xb);if(_0x4a746b===_0x3b1e5b)break;else _0x5b8d1b['push'](_0x5b8d1b['shift']());}catch(_0x25dbe0){_0x5b8d1b['push'](_0x5b8d1b['shift']());}}}(_0x3eee,0xbe5c4));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x14f251=_0x3686;if(_0x14f251(0x3b4)in navigator)try{wakeLock=await navigator['wakeLock'][_0x14f251(0x1bc)](_0x14f251(0x26a)),console[_0x14f251(0x458)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x14f251(0x86b)](_0x14f251(0x10f),()=>{const _0x455e29=_0x14f251;console[_0x455e29(0x458)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x32870e){console[_0x14f251(0x33a)](_0x14f251(0x673)+_0x32870e[_0x14f251(0x1f8)]+',\x20'+_0x32870e[_0x14f251(0x26e)]);}else console[_0x14f251(0x184)](_0x14f251(0x331));},releaseWakeLock=async()=>{const _0x3b95a9=_0x3686;wakeLock!==null&&(await wakeLock[_0x3b95a9(0x10f)](),wakeLock=null,console['log'](_0x3b95a9(0xf6)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x33b6c3=_0x3686;if(dimTimer)clearTimeout(dimTimer);document[_0x33b6c3(0xc0)]['classList'][_0x33b6c3(0x1cf)]('dimmed'),dimTimer=setTimeout(()=>{const _0x14da04=_0x33b6c3;document[_0x14da04(0xc0)][_0x14da04(0x20d)][_0x14da04(0x8cb)](_0x14da04(0x114)),console[_0x14da04(0x458)](_0x14da04(0x8ac));},inactivityTime);}function stopDimTimer(){const _0xa79fb6=_0x3686;if(dimTimer)clearTimeout(dimTimer);document[_0xa79fb6(0xc0)]['classList'][_0xa79fb6(0x1cf)](_0xa79fb6(0x114)),window['removeEventListener'](_0xa79fb6(0x2cc),resetDimTimer),window['removeEventListener'](_0xa79fb6(0x63c),resetDimTimer),window[_0xa79fb6(0x6e7)](_0xa79fb6(0x147),resetDimTimer),window[_0xa79fb6(0x6e7)](_0xa79fb6(0x4db),resetDimTimer),console[_0xa79fb6(0x458)](_0xa79fb6(0x90f));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0;async function handleStartTeamQuiz(_0x2236ea,_0x308e69=![]){const _0x1a1000=_0x3686,_0x512537=allQuizzes['find'](_0x4dade9=>_0x4dade9['id']===_0x2236ea)||allQuizzesGlobal[_0x1a1000(0xcc)](_0x9ea539=>_0x9ea539['id']===_0x2236ea);if(!_0x512537){showMessage(_0x1a1000(0x73));return;}currentQuizData=getShuffledQuiz(_0x512537);const _0xbcc892=Math['floor'](0x3e8+Math[_0x1a1000(0x95a)]()*0x2328)[_0x1a1000(0x239)]();try{const _0x19a890=await addDoc(collection(db,_0x1a1000(0x4e3)+appId+'/public/data/teamQuizzes'),{'quizId':_0x512537['id'],'projectId':_0x512537[_0x1a1000(0x6ab)],'status':_0x1a1000(0x1ff),'pin':_0xbcc892,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x308e69});currentTeamQuizId=_0x19a890['id'],showView(_0x1a1000(0x873)),renderAdminTeamQuizDashboard(_0xbcc892,_0x512537[_0x1a1000(0x58e)]),listenForTeamQuizUpdates();}catch(_0x2c41e0){console[_0x1a1000(0x33a)](_0x1a1000(0x53c),_0x2c41e0),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x505cba,_0x21f769,_0x23f595='team'){const _0x18672e=_0x3686,_0x4d4b2=_0x23f595===_0x18672e(0x6b4)?_0x18672e(0xf7):_0x18672e(0x877);liveGameView['innerHTML']=_0x18672e(0x3c6)+_0x4d4b2+':\x20'+_0x21f769+_0x18672e(0x17e)+_0x505cba+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['getElementById'](_0x18672e(0x8f0))[_0x18672e(0x86b)](_0x18672e(0x12e),async()=>{const _0x249c12=_0x18672e;showConfirmation(_0x249c12(0x22c),async()=>{const _0x47191a=_0x249c12;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,'artifacts/'+appId+_0x47191a(0x5cc),currentTeamQuizId)),showView(_0x47191a(0x9c5));});});}function listenForTeamQuizUpdates(){const _0x351e31=_0x3686;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x4c7eb8=doc(db,_0x351e31(0x4e3)+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x4c7eb8,_0xfcb9d0=>{const _0x2e5a9c=_0x351e31;if(!_0xfcb9d0[_0x2e5a9c(0x14e)]()){sessionStorage['removeItem'](_0x2e5a9c(0x1f9));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode===_0x2e5a9c(0x912))showMessage(_0x2e5a9c(0x133));showView(currentMode===_0x2e5a9c(0x912)?_0x2e5a9c(0x9c5):_0x2e5a9c(0x740));return;}const _0x5ec68a=_0xfcb9d0[_0x2e5a9c(0x2fb)]();if(currentMode===_0x2e5a9c(0x912)){if(_0x5ec68a[_0x2e5a9c(0x214)]===_0x2e5a9c(0x6b4)&&_0x5ec68a[_0x2e5a9c(0x992)]!=='podium'&&_0x5ec68a[_0x2e5a9c(0x992)]!=='finished'){const _0x29d33e=Object['values'](_0x5ec68a[_0x2e5a9c(0x3c0)]||{});if(_0x29d33e['length']>0x0){const _0x2a8f89=_0x29d33e['every'](_0x4679ff=>_0x4679ff['isFinished']===!![]);_0x2a8f89&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x5ec68a);}else{if(_0x5ec68a[_0x2e5a9c(0x992)]===_0x2e5a9c(0x93c)||_0x5ec68a[_0x2e5a9c(0x992)]===_0x2e5a9c(0x279)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x5ec68a['mode']===_0x2e5a9c(0x6b4)){const _0x4c7a54=_0x5ec68a[_0x2e5a9c(0x3c0)][userId];(!_0x4c7a54||!_0x4c7a54[_0x2e5a9c(0x73a)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x1c88e9){const _0x8ca9b5=_0x3686;console['log'](_0x8ca9b5(0x668));const _0x4cf1dc=doc(db,_0x8ca9b5(0x4e3)+appId+'/public/data/teamQuizzes',_0x1c88e9);try{const _0x350464=await getDoc(_0x4cf1dc);if(_0x350464[_0x8ca9b5(0x14e)]()){const _0x6ae858=_0x350464[_0x8ca9b5(0x2fb)]();_0x6ae858[_0x8ca9b5(0x7b1)]&&await saveGameResultsAsSubmissions(_0x6ae858);}await updateDoc(_0x4cf1dc,{'status':_0x8ca9b5(0x93c)});}catch(_0x52e102){console[_0x8ca9b5(0x33a)](_0x8ca9b5(0x6d9),_0x52e102);}}function updateAdminTeamDashboard(_0x23796d){const _0x472408=_0x3686,_0xb03d39=document[_0x472408(0x5a0)](_0x472408(0x1ac));if(!_0xb03d39)return;const _0x69e2d=_0x23796d[_0x472408(0x214)]||'team';if(_0x69e2d===_0x472408(0x6b4)){const _0x32baf0=Object[_0x472408(0x7d9)](_0x23796d['groups']||{});if(_0x32baf0[_0x472408(0x2fd)]===0x0){_0xb03d39['innerHTML']='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x7f16b7=[..._0x32baf0]['sort']((_0x29d5d8,_0x25f1f0)=>_0x25f1f0[_0x472408(0x2cf)]-_0x29d5d8[_0x472408(0x2cf)]),_0x3f74d0=_0x7f16b7[_0x472408(0xbf)]((_0x4bdf0e,_0x553d41)=>_0x472408(0x35f)+(_0x553d41+0x1)+_0x472408(0x6c7)+_0x4bdf0e[_0x472408(0x983)][_0x472408(0x13f)](',\x20')+_0x472408(0x182)+_0x4bdf0e[_0x472408(0x2cf)]+_0x472408(0x81f))['join']('');let _0x2963ab='';currentQuizData&&currentQuizData['questions']&&(_0x2963ab=currentQuizData['questions'][_0x472408(0xbf)]((_0xae237b,_0x11feb0)=>{const _0x2ce049=_0x472408;let _0x1a6b68=0x0;return _0x32baf0['forEach'](_0x86d2b9=>{const _0x16753a=_0x3686,_0x20ac5b=_0x86d2b9[_0x16753a(0x570)]||[],_0x4b683b=_0x20ac5b['find'](_0x25c549=>_0x25c549[_0x16753a(0x459)]===_0x11feb0);_0x4b683b&&_0x4b683b[_0x16753a(0x29a)]&&_0x1a6b68++;}),_0x2ce049(0x66d)+(_0x11feb0+0x1)+_0x2ce049(0xce)+_0x1a6b68+_0x2ce049(0x747)+_0x32baf0[_0x2ce049(0x2fd)]+'\x20กลุ่ม\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x472408(0x13f)]('')),_0xb03d39[_0x472408(0x65a)]=_0x472408(0xe0)+_0x3f74d0+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x2963ab+_0x472408(0x9ce);}else{const _0x2d3c38=_0x23796d[_0x472408(0x927)]||{},_0x237560=Object[_0x472408(0x86c)](_0x2d3c38);if(_0x237560[_0x472408(0x2fd)]===0x0){_0xb03d39[_0x472408(0x65a)]=_0x472408(0x5a8);return;}const _0x53152d=_0x237560[_0x472408(0xbf)](_0x5ba707=>({'name':_0x5ba707,'score':_0x2d3c38[_0x5ba707][_0x472408(0x2cf)]||0x0}))[_0x472408(0x905)]((_0x6ed851,_0x1214e7)=>_0x1214e7['score']-_0x6ed851['score']);let _0x508fe8='';currentQuizData&&currentQuizData[_0x472408(0x528)]&&(_0x508fe8=currentQuizData['questions']['map']((_0x2da34a,_0x25c9b5)=>{const _0x36f7d9=_0x472408;let _0x10d8e4=0x0;return _0x237560[_0x36f7d9(0x573)](_0x1248da=>{const _0x4e7a86=_0x36f7d9,_0x4d2ea9=_0x2d3c38[_0x1248da][_0x4e7a86(0x570)]||[],_0x43714f=_0x4d2ea9['find'](_0x58954a=>_0x58954a[_0x4e7a86(0x459)]===_0x25c9b5);if(_0x43714f&&_0x43714f['isCorrect'])_0x10d8e4++;}),'<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22><p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x25c9b5+0x1)+_0x36f7d9(0x66f)+_0x10d8e4+_0x36f7d9(0x747)+_0x237560[_0x36f7d9(0x2fd)]+_0x36f7d9(0x2ca);})[_0x472408(0x13f)]('')),_0xb03d39[_0x472408(0x65a)]=_0x472408(0x271)+_0x53152d[_0x472408(0xbf)](_0x1ab51b=>_0x472408(0x789)+_0x1ab51b[_0x472408(0x1f8)]+_0x472408(0x1d0)+_0x1ab51b[_0x472408(0x2cf)]+'\x20คะแนน</span></div>')['join']('')+_0x472408(0x547)+_0x508fe8+_0x472408(0x7ed);}}async function handleJoinTeamQuiz(){const _0x4e9c34=_0x3686,_0x116b27=prompt(_0x4e9c34(0x92b));if(!_0x116b27||_0x116b27[_0x4e9c34(0x3fa)]()[_0x4e9c34(0x2fd)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0xd5b82b=collection(db,_0x4e9c34(0x4e3)+appId+_0x4e9c34(0x5cc)),_0x15e897=query(_0xd5b82b,where(_0x4e9c34(0x1aa),'==',_0x116b27['trim']()),where(_0x4e9c34(0x992),'==',_0x4e9c34(0x1ff))),_0x2b36b0=await getDocs(_0x15e897);if(_0x2b36b0[_0x4e9c34(0x3f7)]){showMessage(_0x4e9c34(0x2a9));return;}const _0x4f41fb=_0x2b36b0[_0x4e9c34(0x465)][0x0];currentTeamQuizId=_0x4f41fb['id'];const _0x2ca536=_0x4f41fb[_0x4e9c34(0x2fb)](),_0x1f42fa=doc(db,_0x4e9c34(0x4e3)+appId+_0x4e9c34(0x3b0),_0x2ca536['projectId']),_0x24de9f=doc(db,_0x4e9c34(0x4e3)+appId+_0x4e9c34(0x73b),_0x2ca536['quizId']),[_0x4c6070,_0x3e441c]=await Promise[_0x4e9c34(0x9c4)]([getDoc(_0x1f42fa),getDoc(_0x24de9f)]);if(!_0x4c6070[_0x4e9c34(0x14e)]()||!_0x3e441c[_0x4e9c34(0x14e)]())throw new Error(_0x4e9c34(0x44a));currentQuizData=getShuffledQuiz({'id':_0x3e441c['id'],..._0x3e441c[_0x4e9c34(0x2fb)]()});const _0x351583=_0x4c6070[_0x4e9c34(0x2fb)]();showTeamPlayerSelection(_0x351583[_0x4e9c34(0x75c)],currentQuizData[_0x4e9c34(0x58e)]);}catch(_0x54cf3d){console['error'](_0x4e9c34(0x21c),_0x54cf3d),showMessage(_0x4e9c34(0x864)+_0x54cf3d[_0x4e9c34(0x26e)]);}}async function handleJoinGroupActivity(){const _0x3ed6d5=_0x3686,_0x6b98a4=prompt(_0x3ed6d5(0x2b1));if(!_0x6b98a4||_0x6b98a4[_0x3ed6d5(0x3fa)]()[_0x3ed6d5(0x2fd)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x240a7d=_0x6b98a4[_0x3ed6d5(0x3fa)]();showMessage('กำลังค้นหากิจกรรม...');try{const _0x11c3e6=collection(db,'artifacts/'+appId+_0x3ed6d5(0x5cc)),_0x4c6be8=query(_0x11c3e6,where(_0x3ed6d5(0x1aa),'==',_0x240a7d),where(_0x3ed6d5(0x992),'==','lobby')),_0x5e4bd4=await getDocs(_0x4c6be8);if(!_0x5e4bd4[_0x3ed6d5(0x3f7)]){console[_0x3ed6d5(0x458)](_0x3ed6d5(0xb0)),await proceedWithTeamQuizJoin(_0x5e4bd4[_0x3ed6d5(0x465)][0x0]);return;}const _0x37b76e=collection(db,_0x3ed6d5(0x4e3)+appId+_0x3ed6d5(0xb7)),_0x58cf5e=query(_0x37b76e,where(_0x3ed6d5(0x1aa),'==',_0x240a7d),where('status','==',_0x3ed6d5(0x1ff))),_0x332bfe=await getDocs(_0x58cf5e);if(!_0x332bfe[_0x3ed6d5(0x3f7)]){console[_0x3ed6d5(0x458)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x332bfe[_0x3ed6d5(0x465)][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x58a04e){console[_0x3ed6d5(0x33a)]('Error\x20joining\x20activity:',_0x58a04e),showMessage(_0x3ed6d5(0x5d6)+_0x58a04e[_0x3ed6d5(0x26e)]);}}async function proceedWithTeamQuizJoin(_0x10f929){const _0x2c5b9b=_0x3686;currentTeamQuizId=_0x10f929['id'];const _0x2d89b3=_0x10f929[_0x2c5b9b(0x2fb)](),_0x4e5995=doc(db,_0x2c5b9b(0x4e3)+appId+'/public/data/projects',_0x2d89b3['projectId']),_0x1893bc=doc(db,_0x2c5b9b(0x4e3)+appId+_0x2c5b9b(0x73b),_0x2d89b3[_0x2c5b9b(0x9a5)]),[_0x1bbeb9,_0x180655]=await Promise[_0x2c5b9b(0x9c4)]([getDoc(_0x4e5995),getDoc(_0x1893bc)]);if(!_0x1bbeb9[_0x2c5b9b(0x14e)]()||!_0x180655[_0x2c5b9b(0x14e)]())throw new Error(_0x2c5b9b(0x44a));currentQuizData=getShuffledQuiz({'id':_0x180655['id'],..._0x180655[_0x2c5b9b(0x2fb)]()}),showTeamPlayerSelection(_0x1bbeb9[_0x2c5b9b(0x2fb)]()[_0x2c5b9b(0x75c)],currentQuizData[_0x2c5b9b(0x58e)],_0x2d89b3[_0x2c5b9b(0x214)]||'team'),messageModal[_0x2c5b9b(0x20d)][_0x2c5b9b(0x8cb)]('hidden');}async function proceedWithSyncQuizJoin(_0x302a0e){const _0x150564=_0x3686;currentLiveGameId=_0x302a0e['id'];const _0x56d8c4=_0x302a0e[_0x150564(0x2fb)](),_0x745c10=doc(db,_0x150564(0x4e3)+appId+_0x150564(0x73b),_0x56d8c4['quizId']),_0x5937b1=await getDoc(_0x745c10);if(!_0x5937b1[_0x150564(0x14e)]())throw new Error(_0x150564(0x73));const _0x54e453=_0x5937b1[_0x150564(0x2fb)](),_0x454d62=doc(db,_0x150564(0x4e3)+appId+_0x150564(0x3b0),_0x54e453['projectId']),_0xa02922=await getDoc(_0x454d62);if(!_0xa02922[_0x150564(0x14e)]())throw new Error(_0x150564(0x6bc));currentQuizData=_0x56d8c4[_0x150564(0x303)],showView(_0x150564(0x66c)),showTeamPlayerSelection(_0xa02922[_0x150564(0x2fb)]()['students'],_0x54e453[_0x150564(0x58e)],_0x150564(0x273)),document[_0x150564(0x5a0)]('confirm-team-players-btn')['onclick']=confirmAndJoinSyncGame,messageModal[_0x150564(0x20d)][_0x150564(0x8cb)](_0x150564(0x5cf));}function showTeamPlayerSelection(_0x546adb,_0x33df03,_0x227520=_0x56a724(0x7a1)){const _0x1c9dbc=_0x56a724;studentInitialView[_0x1c9dbc(0x20d)][_0x1c9dbc(0x8cb)](_0x1c9dbc(0x5cf)),studentJoinGameView[_0x1c9dbc(0x20d)][_0x1c9dbc(0x8cb)]('hidden'),document[_0x1c9dbc(0x5a0)](_0x1c9dbc(0x4e0))[_0x1c9dbc(0x20d)][_0x1c9dbc(0x1cf)](_0x1c9dbc(0x5cf));let _0x316564=_0x1c9dbc(0x877);if(_0x227520===_0x1c9dbc(0x6b4))_0x316564=_0x1c9dbc(0xf7);else _0x227520===_0x1c9dbc(0x273)&&(_0x316564=_0x1c9dbc(0x2c3));document['getElementById'](_0x1c9dbc(0x68c))['textContent']=_0x316564+':\x20'+_0x33df03;const _0xdab9d=document['getElementById'](_0x1c9dbc(0x813));if(!_0x546adb||_0x546adb[_0x1c9dbc(0x2fd)]===0x0){_0xdab9d[_0x1c9dbc(0x65a)]=_0x1c9dbc(0x16b),document[_0x1c9dbc(0x5a0)]('confirm-team-players-btn')[_0x1c9dbc(0x2df)]=!![];return;}_0xdab9d[_0x1c9dbc(0x65a)]=_0x546adb[_0x1c9dbc(0xbf)](_0x1f85a4=>_0x1c9dbc(0x8e5)+_0x1f85a4+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x1f85a4+_0x1c9dbc(0x5b8))[_0x1c9dbc(0x13f)](''),document[_0x1c9dbc(0x5a0)](_0x1c9dbc(0x92e))[_0x1c9dbc(0x2df)]=![];}async function confirmAndStartTeamQuiz(){const _0xd31cbd=_0x56a724,_0x10df2e=Array[_0xd31cbd(0x4d1)](document[_0xd31cbd(0x81b)](_0xd31cbd(0x11c)))[_0xd31cbd(0xbf)](_0xf7e614=>_0xf7e614[_0xd31cbd(0x8f1)]);if(_0x10df2e[_0xd31cbd(0x2fd)]===0x0){showMessage(_0xd31cbd(0x377));return;}localTeamPlayers=_0x10df2e,localPlayerTurnIndex=0x0;const _0x5192ab=doc(db,_0xd31cbd(0x4e3)+appId+_0xd31cbd(0x5cc),currentTeamQuizId),_0x2179c2=await getDoc(_0x5192ab);if(!_0x2179c2[_0xd31cbd(0x14e)]()){showMessage('ไม่พบข้อมูลเกม');return;}const _0xa709e1=_0x2179c2['data']();_0xa709e1[_0xd31cbd(0x214)]===_0xd31cbd(0x6b4)&&(localGroupQuestionIndex=0x0);try{if(_0xa709e1[_0xd31cbd(0x214)]===_0xd31cbd(0x6b4)){const _0x52b55f=userId,_0x138183={};_0x138183[_0xd31cbd(0x449)+_0x52b55f]={'members':localTeamPlayers,'score':0x0,'answers':[]},await updateDoc(_0x5192ab,_0x138183);}else{const _0x4ed4de={};localTeamPlayers[_0xd31cbd(0x573)](_0xf75aac=>{const _0x37009e=_0xd31cbd;_0x4ed4de[_0x37009e(0x63d)+_0xf75aac]={'score':0x0,'answers':[]};}),await updateDoc(_0x5192ab,_0x4ed4de);}document[_0xd31cbd(0x5a0)](_0xd31cbd(0x4e0))['classList']['add'](_0xd31cbd(0x5cf)),renderTeamQuizQuestion();const _0x40d3d2={'gameId':currentTeamQuizId,'mode':_0xa709e1[_0xd31cbd(0x214)]||_0xd31cbd(0x7a1),'players':localTeamPlayers,'turnIndex':localPlayerTurnIndex};sessionStorage[_0xd31cbd(0x9a0)](_0xd31cbd(0x1f9),JSON[_0xd31cbd(0x5f1)](_0x40d3d2)),listenForTeamQuizUpdates();}catch(_0x412b10){console[_0xd31cbd(0x33a)](_0xd31cbd(0x2c6),_0x412b10),showMessage(_0xd31cbd(0xc8));}}async function renderTeamQuizQuestion(){const _0x15e371=_0x56a724,_0x9f9f49=doc(db,'artifacts/'+appId+_0x15e371(0x5cc),currentTeamQuizId),_0x8b4464=await getDoc(_0x9f9f49);if(!_0x8b4464[_0x15e371(0x14e)]())return;const _0x41ab9b=_0x8b4464[_0x15e371(0x2fb)](),_0xb9d23f=_0x41ab9b[_0x15e371(0x214)]||_0x15e371(0x7a1);let _0x5534b8,_0x1b5432;_0xb9d23f===_0x15e371(0x6b4)?(_0x5534b8=localGroupQuestionIndex,_0x1b5432='กลุ่ม:\x20'+localTeamPlayers['join'](',\x20')):(_0x5534b8=Math[_0x15e371(0x917)](localPlayerTurnIndex/localTeamPlayers['length']),_0x1b5432=_0x15e371(0x963)+localTeamPlayers[localPlayerTurnIndex%localTeamPlayers[_0x15e371(0x2fd)]]);if(_0x5534b8>=currentQuizData[_0x15e371(0x528)][_0x15e371(0x2fd)]){displayTeamQuizFinalResults();return;}const _0x6ad9be=currentQuizData[_0x15e371(0x528)][_0x5534b8],_0x5df765=_0x6ad9be[_0x15e371(0x45e)]||currentQuizData[_0x15e371(0x2f1)];let _0x36e2b3=_0x6ad9be[_0x15e371(0x55a)]||_0x6ad9be[_0x15e371(0x417)],_0x2d336a='';switch(_0x5df765){case _0x15e371(0x420):case'fill_in_with_choices':_0x2d336a=_0x6ad9be[_0x15e371(0xbd)][_0x15e371(0xbf)]((_0xd3f9ce,_0x2a0123)=>_0x15e371(0x3d0)+_0x2a0123+_0x15e371(0x65c)+_0x2a0123+_0x15e371(0x40c)+_0x2a0123+'\x22>'+_0xd3f9ce+_0x15e371(0x83d))[_0x15e371(0x13f)]('');break;case _0x15e371(0x142):_0x2d336a=_0x15e371(0x74d);break;case _0x15e371(0x341):case _0x15e371(0x25c):_0x2d336a=_0x15e371(0x64c);break;case _0x15e371(0x85b):_0x2d336a=_0x15e371(0x170)+_0x6ad9be[_0x15e371(0x5fd)][_0x15e371(0xbf)](_0x50017f=>_0x15e371(0x7ca)+_0x50017f+'\x22>'+_0x50017f+_0x15e371(0x7d4))[_0x15e371(0x13f)]('')+_0x15e371(0x3ad);break;default:_0x2d336a=_0x15e371(0x1a1);break;}studentQuizArea[_0x15e371(0x65a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(_0x5534b8+0x1)+_0x15e371(0x747)+currentQuizData[_0x15e371(0x528)]['length']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>'+_0x1b5432+_0x15e371(0x409)+(_0x5534b8+0x1)+'.\x20'+_0x36e2b3+_0x15e371(0x40d)+(_0x6ad9be[_0x15e371(0x223)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x6ad9be[_0x15e371(0x223)]+_0x15e371(0x5bd):'')+_0x15e371(0x52a)+_0x2d336a+_0x15e371(0x630),studentQuizArea[_0x15e371(0x20d)]['remove'](_0x15e371(0x5cf));if(window[_0x15e371(0x7d2)])MathJax[_0x15e371(0x66b)]([studentQuizArea]);const _0x31575a=document[_0x15e371(0x5a0)](_0x15e371(0x4d6));_0xb9d23f===_0x15e371(0x6b4)?_0x31575a[_0x15e371(0x86b)](_0x15e371(0x12e),handleGroupAnswerSubmit):_0x31575a['addEventListener'](_0x15e371(0x12e),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x153714=_0x56a724,_0x12e363=doc(db,'artifacts/'+appId+_0x153714(0x5cc),currentTeamQuizId),_0x266535=localGroupQuestionIndex,_0x51763f=currentQuizData['questions'][_0x266535],_0x2cd098=_0x51763f['questionType']||currentQuizData[_0x153714(0x2f1)];let _0x3512c1=null,_0x523237=![];if(_0x2cd098===_0x153714(0x341)||_0x2cd098==='fill_in_no_choices'){const _0x3554d3=document[_0x153714(0x4aa)](_0x153714(0x848));if(!_0x3554d3||!_0x3554d3[_0x153714(0x8f1)][_0x153714(0x3fa)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x3512c1=_0x3554d3['value'][_0x153714(0x3fa)](),_0x523237=await gradeShortAnswer(_0x3512c1,_0x51763f);}else{const _0x2e1a98=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x2e1a98||_0x2e1a98[_0x153714(0x8f1)]===''){showMessage(_0x153714(0x193));return;}_0x3512c1=_0x2e1a98[_0x153714(0x8f1)];switch(_0x2cd098){case _0x153714(0x142):_0x523237=_0x3512c1===_0x153714(0x25a)===_0x51763f['correctAnswer'];break;case _0x153714(0x85b):_0x523237=_0x3512c1===_0x51763f[_0x153714(0x93f)];break;default:_0x523237=parseInt(_0x3512c1)===_0x51763f['correctAnswerIndex'];break;}}const _0x29b7ea={'questionIndex':_0x266535,'isCorrect':_0x523237},_0x4334c9=userId,_0x3b403f={};_0x3b403f[_0x153714(0x449)+_0x4334c9+_0x153714(0x709)]=arrayUnion(_0x29b7ea);_0x523237&&(_0x3b403f[_0x153714(0x449)+_0x4334c9+'.score']=increment(0x1));try{await updateDoc(_0x12e363,_0x3b403f),localGroupQuestionIndex++,renderTeamQuizQuestion();}catch(_0xd2885c){console[_0x153714(0x33a)]('Error\x20submitting\x20group\x20answer:',_0xd2885c),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x3af8ff=_0x56a724,_0x1311d0=localTeamPlayers[localPlayerTurnIndex%localTeamPlayers['length']],_0x363a98=Math[_0x3af8ff(0x917)](localPlayerTurnIndex/localTeamPlayers[_0x3af8ff(0x2fd)]),_0x2248fb=currentQuizData[_0x3af8ff(0x528)][_0x363a98],_0x326048=_0x2248fb[_0x3af8ff(0x45e)]||currentQuizData['quizType'];let _0x4ccca9=null,_0x49594a=![];if(_0x326048===_0x3af8ff(0x341)||_0x326048===_0x3af8ff(0x25c)){const _0x3dd2ad=document[_0x3af8ff(0x4aa)](_0x3af8ff(0x848));if(!_0x3dd2ad||!_0x3dd2ad['value'][_0x3af8ff(0x3fa)]()){showMessage(_0x3af8ff(0x759));return;}_0x4ccca9=_0x3dd2ad['value'][_0x3af8ff(0x3fa)](),_0x49594a=await gradeShortAnswer(_0x4ccca9,_0x2248fb);}else{const _0x18e87d=document[_0x3af8ff(0x4aa)](_0x3af8ff(0x38c));if(!_0x18e87d||_0x18e87d[_0x3af8ff(0x8f1)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x4ccca9=_0x18e87d[_0x3af8ff(0x8f1)];switch(_0x326048){case'true_false':const _0x1c6eaf=_0x4ccca9===_0x3af8ff(0x25a);_0x49594a=_0x1c6eaf===_0x2248fb[_0x3af8ff(0xc1)];break;case _0x3af8ff(0x85b):_0x49594a=_0x4ccca9===_0x2248fb['correctResponse'];break;default:const _0x40b433=parseInt(_0x4ccca9);_0x49594a=_0x40b433===_0x2248fb[_0x3af8ff(0x3d2)];break;}}const _0x490253={'questionIndex':_0x363a98,'isCorrect':_0x49594a,'answerValue':_0x4ccca9},_0x1f916e=doc(db,_0x3af8ff(0x4e3)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0xda0f65={};_0xda0f65[_0x3af8ff(0x63d)+_0x1311d0+'.answers']=arrayUnion(_0x490253);_0x49594a&&(_0xda0f65[_0x3af8ff(0x63d)+_0x1311d0+_0x3af8ff(0x384)]=increment(0x1));try{await updateDoc(_0x1f916e,_0xda0f65),localPlayerTurnIndex++;const _0x1037ec=JSON[_0x3af8ff(0x9cd)](sessionStorage[_0x3af8ff(0x81e)](_0x3af8ff(0x1f9))||'{}');_0x1037ec[_0x3af8ff(0x306)]=localPlayerTurnIndex,sessionStorage[_0x3af8ff(0x9a0)](_0x3af8ff(0x1f9),JSON[_0x3af8ff(0x5f1)](_0x1037ec)),renderTeamQuizQuestion();}catch(_0x57fff2){console[_0x3af8ff(0x33a)](_0x3af8ff(0x356),_0x57fff2),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x5aacbc=_0x56a724;studentQuizArea[_0x5aacbc(0x20d)]['add']('hidden'),studentResultArea[_0x5aacbc(0x20d)]['remove'](_0x5aacbc(0x5cf));const _0x1ef508=doc(db,_0x5aacbc(0x4e3)+appId+_0x5aacbc(0x5cc),currentTeamQuizId),_0xc72c39=await getDoc(_0x1ef508);if(!_0xc72c39['exists']()){studentResultArea[_0x5aacbc(0x65a)]=_0x5aacbc(0x6f5);return;}const _0x52c441=_0xc72c39[_0x5aacbc(0x2fb)]();let _0x189840=[];const _0x4f76ce=_0x52c441[_0x5aacbc(0x214)]||_0x5aacbc(0x7a1);if(_0x4f76ce===_0x5aacbc(0x6b4)){const _0x3a9d56=_0x52c441['groups'][userId];_0x3a9d56?_0x189840=[{'name':_0x5aacbc(0x7a5)+localTeamPlayers[_0x5aacbc(0x13f)](',\x20'),'score':_0x3a9d56[_0x5aacbc(0x2cf)]||0x0}]:_0x189840=[{'name':_0x5aacbc(0x8be),'score':_0x5aacbc(0x3e5)}];}else _0x189840=localTeamPlayers['map'](_0x1ea32c=>({'name':_0x1ea32c,'score':_0x52c441[_0x5aacbc(0x927)][_0x1ea32c]?.[_0x5aacbc(0x2cf)]||0x0}))[_0x5aacbc(0x905)]((_0x35d606,_0xf2e27d)=>_0xf2e27d['score']-_0x35d606[_0x5aacbc(0x2cf)]);studentResultArea[_0x5aacbc(0x65a)]=_0x5aacbc(0x42f)+_0x189840['map'](_0x3d109e=>_0x5aacbc(0x87c)+_0x3d109e[_0x5aacbc(0x1f8)]+_0x5aacbc(0xfc)+_0x3d109e[_0x5aacbc(0x2cf)]+_0x5aacbc(0x7cc))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x5aacbc(0x898)](_0x5aacbc(0x1f9)),currentMode===_0x5aacbc(0x912)&&currentTeamQuizId&&setTimeout(()=>{deleteDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x56a724(0x381)};const allMathTopics=[{'category':_0x56a724(0x27d),'name':_0x56a724(0x586)},{'category':'จำนวนและการดำเนินการ','name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x56a724(0x27d),'name':_0x56a724(0x556)},{'category':_0x56a724(0x27d),'name':_0x56a724(0x5d4)},{'category':'จำนวนและการดำเนินการ','name':'การบวก'},{'category':_0x56a724(0x27d),'name':'การลบ'},{'category':_0x56a724(0x27d),'name':_0x56a724(0x59d)},{'category':_0x56a724(0x27d),'name':_0x56a724(0x6f0)},{'category':'จำนวนและการดำเนินการ','name':_0x56a724(0x689)},{'category':_0x56a724(0x27d),'name':_0x56a724(0x39e)},{'category':_0x56a724(0x27d),'name':'ศูนย์'},{'category':_0x56a724(0x27d),'name':_0x56a724(0x13c)},{'category':'จำนวนและการดำเนินการ','name':_0x56a724(0x6cd)},{'category':_0x56a724(0x27d),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x56a724(0x27d),'name':_0x56a724(0x305)},{'category':'จำนวนและการดำเนินการ','name':_0x56a724(0x173)},{'category':_0x56a724(0x27d),'name':_0x56a724(0x6cc)},{'category':'จำนวนและการดำเนินการ','name':_0x56a724(0x746)},{'category':_0x56a724(0x27d),'name':_0x56a724(0x6dd)},{'category':'จำนวนและการดำเนินการ','name':_0x56a724(0x1c1)},{'category':_0x56a724(0x27d),'name':_0x56a724(0x22a)},{'category':_0x56a724(0x27d),'name':_0x56a724(0x3a0)},{'category':'จำนวนและการดำเนินการ','name':_0x56a724(0x7f6)},{'category':_0x56a724(0x27d),'name':_0x56a724(0x4b0)},{'category':_0x56a724(0x27d),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x56a724(0x27d),'name':_0x56a724(0x1b9)},{'category':'จำนวนและการดำเนินการ','name':_0x56a724(0x761)},{'category':_0x56a724(0x27d),'name':_0x56a724(0x667)},{'category':'จำนวนและการดำเนินการ','name':'การหารทศนิยม'},{'category':_0x56a724(0x27d),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x56a724(0x27d),'name':'ร้อยละพื้นฐาน'},{'category':_0x56a724(0x27d),'name':_0x56a724(0x580)},{'category':_0x56a724(0x27d),'name':_0x56a724(0x18c)},{'category':_0x56a724(0x27d),'name':_0x56a724(0x518)},{'category':'จำนวนและการดำเนินการ','name':_0x56a724(0x8d7)},{'category':_0x56a724(0x27d),'name':_0x56a724(0x675)},{'category':_0x56a724(0x27d),'name':_0x56a724(0x361)},{'category':_0x56a724(0x7fa),'name':'หน่วยความยาวและการแปลง'},{'category':_0x56a724(0x7fa),'name':_0x56a724(0x22e)},{'category':_0x56a724(0x7fa),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x56a724(0x7fa),'name':_0x56a724(0x10b)},{'category':_0x56a724(0x7fa),'name':'อุณหภูมิและการแปลง'},{'category':_0x56a724(0x7fa),'name':_0x56a724(0x33f)},{'category':_0x56a724(0x7fa),'name':_0x56a724(0xeb)},{'category':_0x56a724(0x7fa),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x56a724(0x7fa),'name':_0x56a724(0x3f8)},{'category':'การวัด','name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':'การวัด','name':'มุมและการวัดมุม'},{'category':'การวัด','name':_0x56a724(0x1fc)},{'category':'การวัด','name':_0x56a724(0x7b)},{'category':'เรขาคณิต','name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x56a724(0x59f),'name':_0x56a724(0x124)},{'category':_0x56a724(0x59f),'name':_0x56a724(0x67c)},{'category':_0x56a724(0x59f),'name':_0x56a724(0x1e7)},{'category':_0x56a724(0x59f),'name':_0x56a724(0x5c3)},{'category':_0x56a724(0x59f),'name':'ความคล้ายของรูป'},{'category':_0x56a724(0x59f),'name':_0x56a724(0x16f)},{'category':_0x56a724(0x59f),'name':_0x56a724(0x966)},{'category':_0x56a724(0x59f),'name':_0x56a724(0x676)},{'category':'เรขาคณิต','name':_0x56a724(0x4eb)},{'category':_0x56a724(0x59f),'name':_0x56a724(0xa4)},{'category':_0x56a724(0x59f),'name':_0x56a724(0x6c6)},{'category':_0x56a724(0x59f),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x56a724(0x59f),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x56a724(0x59f),'name':_0x56a724(0x9c)},{'category':_0x56a724(0x143),'name':_0x56a724(0x94a)},{'category':_0x56a724(0x143),'name':_0x56a724(0x226)},{'category':'พีชคณิตและฟังก์ชัน','name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x56a724(0x143),'name':_0x56a724(0x686)},{'category':_0x56a724(0x143),'name':_0x56a724(0x5bb)},{'category':_0x56a724(0x143),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x56a724(0x143),'name':_0x56a724(0x3a4)},{'category':_0x56a724(0x143),'name':_0x56a724(0x584)},{'category':_0x56a724(0x143),'name':'สมการค่าสัมบูรณ์'},{'category':_0x56a724(0x143),'name':_0x56a724(0x11b)},{'category':_0x56a724(0x143),'name':_0x56a724(0x988)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x56a724(0x7e7)},{'category':_0x56a724(0x143),'name':_0x56a724(0x549)},{'category':_0x56a724(0x143),'name':_0x56a724(0x7a7)},{'category':_0x56a724(0x143),'name':_0x56a724(0x446)},{'category':_0x56a724(0x143),'name':_0x56a724(0x7f9)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x56a724(0x93)},{'category':_0x56a724(0x143),'name':'โดเมนและเรนจ์'},{'category':_0x56a724(0x143),'name':'องค์ประกอบของฟังก์ชัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x56a724(0x9a)},{'category':_0x56a724(0x143),'name':_0x56a724(0x3a2)},{'category':_0x56a724(0x143),'name':_0x56a724(0x1b1)},{'category':_0x56a724(0x143),'name':_0x56a724(0x706)},{'category':_0x56a724(0x143),'name':_0x56a724(0x7fd)},{'category':_0x56a724(0x143),'name':_0x56a724(0x73c)},{'category':_0x56a724(0x143),'name':_0x56a724(0x7da)},{'category':_0x56a724(0x143),'name':_0x56a724(0x5ce)},{'category':_0x56a724(0x143),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x56a724(0x52e)},{'category':_0x56a724(0x143),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x56a724(0x143),'name':_0x56a724(0x14a)},{'category':_0x56a724(0x143),'name':_0x56a724(0x6b7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x56a724(0x407)},{'category':_0x56a724(0x143),'name':_0x56a724(0x4e2)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x56a724(0x595)},{'category':_0x56a724(0x604),'name':_0x56a724(0x5f9)},{'category':_0x56a724(0x604),'name':_0x56a724(0x688)},{'category':_0x56a724(0x604),'name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x56a724(0x604),'name':_0x56a724(0x64f)},{'category':_0x56a724(0x604),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x56a724(0x604),'name':_0x56a724(0x945)},{'category':_0x56a724(0x604),'name':_0x56a724(0x960)},{'category':_0x56a724(0x604),'name':_0x56a724(0x731)},{'category':_0x56a724(0x604),'name':_0x56a724(0x256)},{'category':_0x56a724(0x8a5),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x56a724(0x8a5),'name':_0x56a724(0x8aa)},{'category':_0x56a724(0x8a5),'name':_0x56a724(0x14d)},{'category':_0x56a724(0x8a5),'name':_0x56a724(0x5ec)},{'category':_0x56a724(0x8a5),'name':_0x56a724(0x132)},{'category':_0x56a724(0x8a5),'name':_0x56a724(0x297)},{'category':_0x56a724(0x8a5),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x56a724(0x8a5),'name':_0x56a724(0x36e)},{'category':_0x56a724(0x8a5),'name':_0x56a724(0x385)},{'category':_0x56a724(0x8a5),'name':_0x56a724(0xee)},{'category':_0x56a724(0x8a5),'name':_0x56a724(0x8b2)},{'category':_0x56a724(0x990),'name':_0x56a724(0x9af)},{'category':'สถิติและความน่าจะเป็น','name':_0x56a724(0x85f)},{'category':_0x56a724(0x990),'name':_0x56a724(0x34f)},{'category':_0x56a724(0x990),'name':_0x56a724(0x8c)},{'category':_0x56a724(0x990),'name':'ฮิสโตแกรม'},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x56a724(0x990),'name':_0x56a724(0x369)},{'category':_0x56a724(0x990),'name':_0x56a724(0x455)},{'category':'สถิติและความน่าจะเป็น','name':_0x56a724(0x7d1)},{'category':_0x56a724(0x990),'name':_0x56a724(0x41c)},{'category':'สถิติและความน่าจะเป็น','name':_0x56a724(0x263)},{'category':_0x56a724(0x990),'name':'ความแปรปรวน'},{'category':_0x56a724(0x990),'name':_0x56a724(0x83)},{'category':_0x56a724(0x990),'name':_0x56a724(0x9d1)},{'category':_0x56a724(0x990),'name':_0x56a724(0x6b2)},{'category':_0x56a724(0x990),'name':_0x56a724(0x241)},{'category':_0x56a724(0x990),'name':'กฎบวกและกฎคูณ'},{'category':_0x56a724(0x990),'name':_0x56a724(0x762)},{'category':_0x56a724(0x990),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x56a724(0x990),'name':_0x56a724(0x997)},{'category':_0x56a724(0x990),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x56a724(0x990),'name':_0x56a724(0xa9)},{'category':'สถิติและความน่าจะเป็น','name':_0x56a724(0x754)},{'category':_0x56a724(0x990),'name':_0x56a724(0x1b0)},{'category':_0x56a724(0x8e3),'name':_0x56a724(0x3b5)},{'category':_0x56a724(0x8e3),'name':_0x56a724(0x26c)},{'category':_0x56a724(0x8e3),'name':_0x56a724(0x123)},{'category':_0x56a724(0x8e3),'name':_0x56a724(0x803)},{'category':'แคลคูลัสเบื้องต้น','name':_0x56a724(0x6ea)},{'category':_0x56a724(0x8e3),'name':_0x56a724(0xc6)},{'category':_0x56a724(0x8e3),'name':'ความชันเส้นสัมผัส'},{'category':_0x56a724(0x8e3),'name':_0x56a724(0x3a9)},{'category':_0x56a724(0x8e3),'name':_0x56a724(0xd1)},{'category':_0x56a724(0x8e3),'name':'ปริพันธ์ไม่จำกัด'},{'category':_0x56a724(0x8e3),'name':'ปริพันธ์จำกัด'},{'category':_0x56a724(0x8e3),'name':_0x56a724(0x3df)},{'category':_0x56a724(0x8e3),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x56a724(0x2eb),'name':_0x56a724(0xe3)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x56a724(0x37c)},{'category':_0x56a724(0x2eb),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x56a724(0x2eb),'name':_0x56a724(0x49b)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดีเทอร์มิแนนต์'},{'category':_0x56a724(0x2eb),'name':_0x56a724(0x788)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x56a724(0x3d8)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x56a724(0x27b)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x56a724(0x200)},{'category':_0x56a724(0x868),'name':_0x56a724(0x68e)},{'category':_0x56a724(0x868),'name':_0x56a724(0x5c2)},{'category':_0x56a724(0x84),'name':_0x56a724(0x7bc)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x56a724(0xc5)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x56a724(0x62f)}];function renderTopicCheckboxes(){const _0x131231=_0x56a724,_0x1e315b=document['getElementById']('math-topics-checkbox-container');if(!_0x1e315b)return;const _0x2b6b7b=allMathTopics,_0x377d65=customMathTopics['map'](_0x59c69c=>({'id':_0x59c69c['id'],'category':_0x131231(0x2ad),'name':_0x59c69c[_0x131231(0x1f8)]})),_0x28f39a=[..._0x2b6b7b,..._0x377d65],_0x4b8dbb=_0x28f39a[_0x131231(0x73f)]((_0x9f695d,_0xaa8477)=>{const _0x2ade23=_0x131231;return!_0x9f695d[_0xaa8477[_0x2ade23(0x891)]]&&(_0x9f695d[_0xaa8477['category']]=[]),_0x9f695d[_0xaa8477[_0x2ade23(0x891)]][_0x2ade23(0x6ae)](_0xaa8477),_0x9f695d;},{});let _0xe0c0af='';const _0x52a25c=['หัวข้อที่สร้างเอง',...Object[_0x131231(0x86c)](_0x4b8dbb)[_0x131231(0x5e1)](_0x2f9a6e=>_0x2f9a6e!==_0x131231(0x2ad))];for(const _0x414572 of _0x52a25c){if(_0x4b8dbb[_0x414572]){const _0x4a2c7b=_0x414572===_0x131231(0x2ad),_0x4062ae=_0x4a2c7b?'fas\x20fa-user-edit':'fas\x20fa-bookmark',_0x19f3cb=_0x4a2c7b?'text-blue-700':_0x131231(0x899);_0xe0c0af+=_0x131231(0x666),_0xe0c0af+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x19f3cb+_0x131231(0x2aa)+_0x4062ae+_0x131231(0x432)+_0x414572+'</p>',_0x4b8dbb[_0x414572]['forEach'](_0x56a920=>{const _0x5c1e7f=_0x131231,_0x31da5d=!!_0x56a920['id'],_0x2ebb26=_0x31da5d?_0x5c1e7f(0x463)+_0x56a920['id']+_0x5c1e7f(0x893)+_0x56a920['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x56a920['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x56a920['id']+_0x5c1e7f(0x93a):'';_0xe0c0af+=_0x5c1e7f(0x661)+(_0x56a920['id']||'')+_0x5c1e7f(0x79f)+_0x56a920['name']+_0x5c1e7f(0x755)+_0x56a920['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x31da5d?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x56a920[_0x5c1e7f(0x1f8)]+'\x22>':'')+_0x5c1e7f(0xd7)+_0x2ebb26+_0x5c1e7f(0x21d);}),_0xe0c0af+=_0x131231(0x5bd);}}_0x1e315b[_0x131231(0x65a)]=_0xe0c0af||_0x131231(0xcd),_0x1e315b[_0x131231(0x6e7)](_0x131231(0x3f3),updateSelectedTopicsCount),_0x1e315b[_0x131231(0x86b)](_0x131231(0x3f3),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x365d19,_0x562007){const _0x2365bf=_0x56a724;if(!_0x365d19||!_0x562007['trim']()){showMessage(_0x2365bf(0x61b));return;}try{const _0x4baa10=doc(db,'artifacts/'+appId+_0x2365bf(0x1cd),_0x365d19);await updateDoc(_0x4baa10,{'name':_0x562007[_0x2365bf(0x3fa)]()}),showMessage(_0x2365bf(0x1de));}catch(_0x34d89e){console[_0x2365bf(0x33a)](_0x2365bf(0x44c),_0x34d89e),showMessage(_0x2365bf(0x129));}}function toggleTopicEditMode(_0x46cef2,_0x5065d7){const _0x2b5ba8=_0x56a724;if(!_0x46cef2)return;const _0x432a4f=_0x46cef2[_0x2b5ba8(0x4aa)](_0x2b5ba8(0xab)),_0x3e2b22=_0x46cef2[_0x2b5ba8(0x4aa)](_0x2b5ba8(0x309)),_0x581ca5=_0x46cef2[_0x2b5ba8(0x4aa)](_0x2b5ba8(0x8ea)),_0x4b8cd8=_0x46cef2['querySelector']('.topic-actions-edit');_0x432a4f[_0x2b5ba8(0x20d)][_0x2b5ba8(0x964)](_0x2b5ba8(0x5cf),_0x5065d7),_0x3e2b22[_0x2b5ba8(0x20d)][_0x2b5ba8(0x964)](_0x2b5ba8(0x5cf),!_0x5065d7),_0x581ca5[_0x2b5ba8(0x20d)][_0x2b5ba8(0x964)]('hidden',_0x5065d7),_0x4b8cd8[_0x2b5ba8(0x20d)][_0x2b5ba8(0x964)](_0x2b5ba8(0x5cf),!_0x5065d7),_0x5065d7&&(_0x3e2b22['focus'](),_0x3e2b22[_0x2b5ba8(0x77b)]());}async function handleStartLiveRace(_0x2b94b6){const _0x4d6c16=_0x56a724;let _0x13789f=allQuizzes['find'](_0x378ff3=>_0x378ff3['id']===_0x2b94b6);if(!_0x13789f){const _0x2fb0ac=doc(db,_0x4d6c16(0x4e3)+appId+_0x4d6c16(0x73b),_0x2b94b6),_0x19672b=await getDoc(_0x2fb0ac);if(!_0x19672b[_0x4d6c16(0x14e)]()){showMessage(_0x4d6c16(0x73));return;}_0x13789f={'id':_0x19672b['id'],..._0x19672b[_0x4d6c16(0x2fb)]()};}const _0x18492a=getShuffledQuiz(_0x13789f);currentQuizData=_0x18492a;const _0x139634=_0x13789f[_0x4d6c16(0x6ab)]||currentProjectId||null,_0x57b670=Math['floor'](0x3e8+Math[_0x4d6c16(0x95a)]()*0x2328)[_0x4d6c16(0x239)]();currentLiveGamePin=_0x57b670;try{const _0x337924=await addDoc(collection(db,_0x4d6c16(0x4e3)+appId+_0x4d6c16(0x826)),{'quizId':_0x2b94b6,'projectId':_0x139634,'status':_0x4d6c16(0x1ff),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x57b670,'createdAt':serverTimestamp(),'shuffledQuiz':_0x18492a});currentLiveGameId=_0x337924['id'],showAdminLobbyView(_0x57b670,_0x13789f[_0x4d6c16(0x58e)]),listenForLiveGameUpdates();}catch(_0xd1130b){console[_0x4d6c16(0x33a)]('Error\x20starting\x20live\x20race:',_0xd1130b),showMessage(_0x4d6c16(0x412));}}function updateSelectedTopicsCount(){const _0x8bdbfd=_0x56a724,_0x48cb25=document[_0x8bdbfd(0x5a0)](_0x8bdbfd(0x2d6)),_0x316d70=_0x48cb25['querySelectorAll'](_0x8bdbfd(0x8c1))[_0x8bdbfd(0x2fd)],_0xd71a4b=document[_0x8bdbfd(0x5a0)]('selected-topics-count');_0x316d70>0x0?_0xd71a4b[_0x8bdbfd(0x83f)]=_0x8bdbfd(0x10d)+_0x316d70+_0x8bdbfd(0x2f4):_0xd71a4b[_0x8bdbfd(0x83f)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x56a724(0x8a0),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x56a724(0x858),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x56a724(0x58a),scratchpadPenColor=_0x56a724(0x80),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x19d79b,_0x7ac967){const _0x165dee=_0x56a724;return Math[_0x165dee(0x693)](Math[_0x165dee(0x4dc)](_0x19d79b['x']-_0x7ac967['x'],0x2)+Math[_0x165dee(0x4dc)](_0x19d79b['y']-_0x7ac967['y'],0x2));}function getMidpoint(_0x45cf67,_0x504825){return{'x':(_0x45cf67['x']+_0x504825['x'])/0x2,'y':(_0x45cf67['y']+_0x504825['y'])/0x2};}function getTransformedPoint(_0x49d272,_0x59b92a){return{'x':(_0x49d272-scratchpadOffset['x'])/scratchpadScale,'y':(_0x59b92a-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x30c4d1=_0x56a724;if(!scratchpadCtx)return;const _0x509d54=scratchpadCtx[_0x30c4d1(0x764)],_0x12a2a8=window[_0x30c4d1(0x58c)]||0x1,_0x414206=document[_0x30c4d1(0x5a0)](_0x30c4d1(0x606));_0x414206&&(_0x414206[_0x30c4d1(0x716)][_0x30c4d1(0x703)]='0\x200',_0x414206[_0x30c4d1(0x716)][_0x30c4d1(0xbe)]='translate('+scratchpadOffset['x']+_0x30c4d1(0x254)+scratchpadOffset['y']+_0x30c4d1(0x7d7)+scratchpadScale+')'),scratchpadCtx[_0x30c4d1(0x69b)](),scratchpadCtx[_0x30c4d1(0x312)](_0x12a2a8,0x0,0x0,_0x12a2a8,0x0,0x0),scratchpadCtx[_0x30c4d1(0x711)](0x0,0x0,_0x509d54[_0x30c4d1(0x109)],_0x509d54['height']),scratchpadCtx[_0x30c4d1(0x216)](),scratchpadCtx[_0x30c4d1(0x69b)](),scratchpadCtx[_0x30c4d1(0xaf)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x30c4d1(0x8de)](scratchpadScale,scratchpadScale),strokes[_0x30c4d1(0x573)](_0x26cbe2=>{drawStroke(_0x26cbe2);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function handlePointerDown(_0x37c05d){const _0x1276a9=_0x56a724;_0x37c05d[_0x1276a9(0x7b0)]();const _0x3b6ce0=scratchpadCtx['canvas'],_0x45ca67=_0x3b6ce0['getBoundingClientRect'](),_0x5330d0=_0x37c05d[_0x1276a9(0x3d7)]||(_0x37c05d[_0x1276a9(0x8f5)]?_0x1276a9(0x60f):_0x1276a9(0x8dc));if(_0x5330d0===_0x1276a9(0x58a)||_0x5330d0===_0x1276a9(0x8dc)){if(_0x37c05d[_0x1276a9(0x3d7)]===_0x1276a9(0x8dc)&&_0x37c05d['button']!==0x0){_0x37c05d[_0x1276a9(0x732)]===0x1&&(isMousePanning=!![],panStart={'x':_0x37c05d['clientX'],'y':_0x37c05d[_0x1276a9(0x7ef)]},_0x3b6ce0[_0x1276a9(0x716)][_0x1276a9(0x278)]=_0x1276a9(0x85));return;}activeTool===_0x1276a9(0x24d)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x550e71=getTransformedPoint(_0x37c05d[_0x1276a9(0x566)]-_0x45ca67[_0x1276a9(0x644)],_0x37c05d[_0x1276a9(0x7ef)]-_0x45ca67[_0x1276a9(0x662)]);let _0x57ff68={'tool':activeTool,'points':[_0x550e71]};if(activeTool===_0x1276a9(0x7f5))_0x57ff68[_0x1276a9(0x2c9)]=scratchpadHighlighterColor,_0x57ff68['size']=scratchpadHighlighterSize;else activeTool===_0x1276a9(0x24d)?(_0x57ff68['color']=scratchpadPenColor,_0x57ff68[_0x1276a9(0x9b3)]=scratchpadPenSize):(_0x57ff68[_0x1276a9(0x2c9)]=scratchpadPenColor,_0x57ff68[_0x1276a9(0x9b3)]=scratchpadPenSize);currentStroke=_0x57ff68;}else _0x37c05d[_0x1276a9(0x8f5)]&&(_0x37c05d[_0x1276a9(0x8f5)]['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x37c05d[_0x1276a9(0x8f5)][0x0]['clientX'],'y':_0x37c05d['touches'][0x0]['clientY']},{'x':_0x37c05d[_0x1276a9(0x8f5)][0x1][_0x1276a9(0x566)],'y':_0x37c05d['touches'][0x1][_0x1276a9(0x7ef)]}),initialPinchDistance=getDistance({'x':_0x37c05d[_0x1276a9(0x8f5)][0x0][_0x1276a9(0x566)],'y':_0x37c05d[_0x1276a9(0x8f5)][0x0][_0x1276a9(0x7ef)]},{'x':_0x37c05d[_0x1276a9(0x8f5)][0x1][_0x1276a9(0x566)],'y':_0x37c05d[_0x1276a9(0x8f5)][0x1]['clientY']})));}function animateTrail(){const _0x2ac23e=_0x56a724,_0x41163a=Date['now']();let _0x4051db=![];for(let _0x4cc159=strokes[_0x2ac23e(0x2fd)]-0x1;_0x4cc159>=0x0;_0x4cc159--){const _0x430a5b=strokes[_0x4cc159];if(_0x430a5b[_0x2ac23e(0x820)]===_0x2ac23e(0x24d)&&_0x430a5b[_0x2ac23e(0x1b7)]){const _0x1ce081=_0x41163a-_0x430a5b[_0x2ac23e(0x1b7)];_0x1ce081>=TRAIL_DURATION?strokes['splice'](_0x4cc159,0x1):(_0x430a5b[_0x2ac23e(0x68f)]=0x1-_0x1ce081/TRAIL_DURATION,_0x4051db=!![]);}}redrawScratchpad(),_0x4051db?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x154e19){const _0x3852c9=_0x56a724;if(!_0x154e19||_0x154e19[_0x3852c9(0x985)][_0x3852c9(0x2fd)]<0x1)return;scratchpadCtx[_0x3852c9(0x69b)](),scratchpadCtx[_0x3852c9(0x301)]=_0x3852c9(0x6fa),scratchpadCtx['lineCap']=_0x3852c9(0x6fa);if(_0x154e19['tool']===_0x3852c9(0x24d)){const _0x30f6f2=_0x154e19[_0x3852c9(0x9b3)]/scratchpadScale;scratchpadCtx[_0x3852c9(0x32b)]=_0x154e19[_0x3852c9(0x68f)]??0x1,scratchpadCtx[_0x3852c9(0x879)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x3852c9(0x882)]=_0x30f6f2*0x3,scratchpadCtx[_0x3852c9(0x511)]=_0x3852c9(0x63b),scratchpadCtx[_0x3852c9(0x96b)]=_0x30f6f2*2.5,scratchpadCtx[_0x3852c9(0x7dd)](),scratchpadCtx['moveTo'](_0x154e19[_0x3852c9(0x985)][0x0]['x'],_0x154e19[_0x3852c9(0x985)][0x0]['y']);for(let _0x281970=0x1;_0x281970<_0x154e19['points'][_0x3852c9(0x2fd)]-0x1;_0x281970++){const _0x35c013=getMidpoint(_0x154e19['points'][_0x281970],_0x154e19['points'][_0x281970+0x1]);scratchpadCtx[_0x3852c9(0x772)](_0x154e19['points'][_0x281970]['x'],_0x154e19[_0x3852c9(0x985)][_0x281970]['y'],_0x35c013['x'],_0x35c013['y']);}scratchpadCtx[_0x3852c9(0x15f)](),scratchpadCtx[_0x3852c9(0x879)]=_0x3852c9(0x2f6),scratchpadCtx[_0x3852c9(0x882)]=0x0,scratchpadCtx[_0x3852c9(0x511)]='#FFFFFF',scratchpadCtx[_0x3852c9(0x96b)]=_0x30f6f2,scratchpadCtx[_0x3852c9(0x15f)](),scratchpadCtx[_0x3852c9(0x24e)]();}else{if(_0x154e19[_0x3852c9(0x820)]===_0x3852c9(0x7f5)){scratchpadCtx['globalCompositeOperation']=_0x3852c9(0x565),scratchpadCtx[_0x3852c9(0x511)]=_0x154e19[_0x3852c9(0x2c9)],scratchpadCtx[_0x3852c9(0x96b)]=_0x154e19['size'],scratchpadCtx[_0x3852c9(0x7dd)](),scratchpadCtx[_0x3852c9(0x3cf)](_0x154e19[_0x3852c9(0x985)][0x0]['x'],_0x154e19['points'][0x0]['y']);for(let _0x27603c=0x1;_0x27603c<_0x154e19[_0x3852c9(0x985)]['length']-0x1;_0x27603c++){const _0x20f8a0=getMidpoint(_0x154e19['points'][_0x27603c],_0x154e19[_0x3852c9(0x985)][_0x27603c+0x1]);scratchpadCtx[_0x3852c9(0x772)](_0x154e19['points'][_0x27603c]['x'],_0x154e19[_0x3852c9(0x985)][_0x27603c]['y'],_0x20f8a0['x'],_0x20f8a0['y']);}scratchpadCtx[_0x3852c9(0x15f)](),scratchpadCtx[_0x3852c9(0x24e)]();}else{scratchpadCtx[_0x3852c9(0x36c)]=_0x154e19['tool']===_0x3852c9(0x937)?'destination-out':_0x3852c9(0xb9),scratchpadCtx[_0x3852c9(0x511)]=_0x154e19['color'],scratchpadCtx[_0x3852c9(0x96b)]=_0x154e19[_0x3852c9(0x9b3)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x3852c9(0x3cf)](_0x154e19[_0x3852c9(0x985)][0x0]['x'],_0x154e19[_0x3852c9(0x985)][0x0]['y']);for(let _0x4d2d91=0x1;_0x4d2d91<_0x154e19[_0x3852c9(0x985)][_0x3852c9(0x2fd)]-0x1;_0x4d2d91++){const _0x16cf53=getMidpoint(_0x154e19[_0x3852c9(0x985)][_0x4d2d91],_0x154e19[_0x3852c9(0x985)][_0x4d2d91+0x1]);scratchpadCtx['quadraticCurveTo'](_0x154e19['points'][_0x4d2d91]['x'],_0x154e19[_0x3852c9(0x985)][_0x4d2d91]['y'],_0x16cf53['x'],_0x16cf53['y']);}scratchpadCtx[_0x3852c9(0x15f)](),scratchpadCtx[_0x3852c9(0x24e)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x1853ef){const _0xa479cd=_0x56a724;_0x1853ef[_0xa479cd(0x7b0)]();const _0x166297=scratchpadCtx[_0xa479cd(0x764)],_0x4fc171=_0x166297[_0xa479cd(0x7e)]();if(_0x1853ef[_0xa479cd(0x8f5)]){if(_0x1853ef[_0xa479cd(0x8f5)][_0xa479cd(0x2fd)]===0x1&&isDrawingOnScratchpad){const _0x51e933=getTransformedPoint(_0x1853ef['touches'][0x0][_0xa479cd(0x566)]-_0x4fc171[_0xa479cd(0x644)],_0x1853ef[_0xa479cd(0x8f5)][0x0][_0xa479cd(0x7ef)]-_0x4fc171['top']);currentStroke['points'][_0xa479cd(0x6ae)](_0x51e933),redrawScratchpad();}else{if(_0x1853ef[_0xa479cd(0x8f5)]['length']===0x2&&isPanning){const _0x1d2288=getDistance({'x':_0x1853ef[_0xa479cd(0x8f5)][0x0]['clientX'],'y':_0x1853ef[_0xa479cd(0x8f5)][0x0][_0xa479cd(0x7ef)]},{'x':_0x1853ef[_0xa479cd(0x8f5)][0x1]['clientX'],'y':_0x1853ef['touches'][0x1][_0xa479cd(0x7ef)]}),_0x33ddbc=getMidpoint({'x':_0x1853ef[_0xa479cd(0x8f5)][0x0][_0xa479cd(0x566)],'y':_0x1853ef[_0xa479cd(0x8f5)][0x0]['clientY']},{'x':_0x1853ef[_0xa479cd(0x8f5)][0x1][_0xa479cd(0x566)],'y':_0x1853ef[_0xa479cd(0x8f5)][0x1]['clientY']}),_0x1da877=_0x1d2288/ initialPinchDistance,_0x39f1f3=Math[_0xa479cd(0x211)](Math['max'](scratchpadScale*_0x1da877,MIN_SCALE),MAX_SCALE),_0x50df78=_0x33ddbc['x']-panStart['x'],_0x41ad48=_0x33ddbc['y']-panStart['y'];scratchpadOffset['x']=_0x33ddbc['x']-(_0x33ddbc['x']-scratchpadOffset['x'])*(_0x39f1f3/scratchpadScale),scratchpadOffset['y']=_0x33ddbc['y']-(_0x33ddbc['y']-scratchpadOffset['y'])*(_0x39f1f3/scratchpadScale),scratchpadOffset['x']+=_0x50df78,scratchpadOffset['y']+=_0x41ad48,scratchpadScale=_0x39f1f3,initialPinchDistance=_0x1d2288,panStart=_0x33ddbc,redrawScratchpad();}}}else{if(isMousePanning){const _0x36b7db=_0x1853ef['clientX']-panStart['x'],_0xfa028f=_0x1853ef[_0xa479cd(0x7ef)]-panStart['y'];scratchpadOffset['x']+=_0x36b7db,scratchpadOffset['y']+=_0xfa028f,panStart={'x':_0x1853ef[_0xa479cd(0x566)],'y':_0x1853ef[_0xa479cd(0x7ef)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x39b8d1=getTransformedPoint(_0x1853ef[_0xa479cd(0x566)]-_0x4fc171[_0xa479cd(0x644)],_0x1853ef['clientY']-_0x4fc171['top']);currentStroke[_0xa479cd(0x985)][_0xa479cd(0x6ae)](_0x39b8d1),redrawScratchpad();}}}}function handlePointerUp(_0x15d758){const _0x51d25a=_0x56a724;_0x15d758[_0x51d25a(0x7b0)]();const _0x13bdeb=scratchpadCtx[_0x51d25a(0x764)];isMousePanning&&(isMousePanning=![],_0x13bdeb['style'][_0x51d25a(0x278)]=_0x51d25a(0x5b2)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x51d25a(0x985)]['length']>0x1&&(strokes[_0x51d25a(0x6ae)](currentStroke),currentStroke['tool']==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x1cdf46=_0x51d25a,_0x1acc70=strokes[_0x1cdf46(0x5e1)](_0x595ec4=>_0x595ec4[_0x1cdf46(0x820)]==='trail'&&!_0x595ec4[_0x1cdf46(0x1b7)]);if(_0x1acc70[_0x1cdf46(0x2fd)]>0x0){const _0x41a33d=Date['now']();_0x1acc70[_0x1cdf46(0x573)](_0x4cb137=>_0x4cb137[_0x1cdf46(0x1b7)]=_0x41a33d),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x5ae88e){const _0x488358=_0x56a724;_0x5ae88e[_0x488358(0x7b0)]();const _0xf1b0a3=_0x5ae88e[_0x488358(0x7cd)]*-0.005,_0x593db2=Math[_0x488358(0x211)](Math[_0x488358(0x505)](scratchpadScale+_0xf1b0a3,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x5ae88e[_0x488358(0x566)]-(_0x5ae88e[_0x488358(0x566)]-scratchpadOffset['x'])*(_0x593db2/scratchpadScale),scratchpadOffset['y']=_0x5ae88e[_0x488358(0x7ef)]-(_0x5ae88e[_0x488358(0x7ef)]-scratchpadOffset['y'])*(_0x593db2/scratchpadScale),scratchpadScale=_0x593db2,redrawScratchpad();}function undo(){const _0x59f7d8=_0x56a724;strokes[_0x59f7d8(0x2fd)]>0x0&&(redoStrokes[_0x59f7d8(0x6ae)](strokes[_0x59f7d8(0x906)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x2140f8=_0x56a724;redoStrokes[_0x2140f8(0x2fd)]>0x0&&(strokes[_0x2140f8(0x6ae)](redoStrokes[_0x2140f8(0x906)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x44a460=_0x56a724;document[_0x44a460(0x5a0)](_0x44a460(0x973))[_0x44a460(0x2df)]=strokes['length']===0x0,document['getElementById']('redo-btn')[_0x44a460(0x2df)]=redoStrokes[_0x44a460(0x2fd)]===0x0;}function openScratchpad(_0xec820d,_0x4cb76d){const _0x2c1dcb=_0x56a724,_0x10fbb5=document[_0x2c1dcb(0x5a0)](_0x2c1dcb(0x450)),_0x3647c2=document['getElementById'](_0x2c1dcb(0x1fd)),_0x107944=document[_0x2c1dcb(0x5a0)](_0x2c1dcb(0x8a1)),_0x101d53=document[_0x2c1dcb(0x5a0)](_0x2c1dcb(0x283));_0x3647c2[_0x2c1dcb(0x83f)]=_0xec820d[_0x2c1dcb(0x55a)]||_0xec820d[_0x2c1dcb(0x417)],_0x107944[_0x2c1dcb(0x65a)]=_0x4cb76d[_0x2c1dcb(0xbf)]((_0x3f2bce,_0x2766c1)=>_0x2c1dcb(0x888)+String[_0x2c1dcb(0x307)](0x41+_0x2766c1)+'.\x20'+_0x3f2bce+_0x2c1dcb(0x5bd))[_0x2c1dcb(0x13f)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x10fbb5[_0x2c1dcb(0x20d)]['remove'](_0x2c1dcb(0x5cf)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x2c1dcb(0x7d2)])MathJax[_0x2c1dcb(0x66b)]([_0x3647c2,_0x107944]);}function initializeScratchpadCanvas(){const _0xcaa4b8=_0x56a724,_0x5cbb31=document['getElementById'](_0xcaa4b8(0x63e)),_0x2bcfc3=document['querySelector'](_0xcaa4b8(0x250));if(!_0x5cbb31||!_0x2bcfc3)return;scratchpadCtx=_0x5cbb31[_0xcaa4b8(0x400)]('2d',{'willReadFrequently':!![]});const _0x499f40=window['devicePixelRatio']||0x1,_0x317d9d=_0x2bcfc3[_0xcaa4b8(0x7e)]();_0x5cbb31[_0xcaa4b8(0x109)]=_0x317d9d['width']*_0x499f40,_0x5cbb31[_0xcaa4b8(0x11e)]=_0x317d9d['height']*_0x499f40,_0x5cbb31[_0xcaa4b8(0x716)][_0xcaa4b8(0x109)]=_0x317d9d[_0xcaa4b8(0x109)]+'px',_0x5cbb31[_0xcaa4b8(0x716)][_0xcaa4b8(0x11e)]=_0x317d9d[_0xcaa4b8(0x11e)]+'px',scratchpadCtx[_0xcaa4b8(0x8de)](_0x499f40,_0x499f40),scratchpadCtx[_0xcaa4b8(0x301)]='round',scratchpadCtx[_0xcaa4b8(0x952)]=_0xcaa4b8(0x6fa),_0x5cbb31[_0xcaa4b8(0x6e7)](_0xcaa4b8(0x4cd),handlePointerDown),_0x5cbb31['removeEventListener']('pointermove',handlePointerMove),_0x5cbb31['removeEventListener']('pointerup',handlePointerUp),_0x5cbb31[_0xcaa4b8(0x6e7)](_0xcaa4b8(0x2ea),handlePointerUp),_0x5cbb31['removeEventListener'](_0xcaa4b8(0x2e4),handleWheel),_0x5cbb31[_0xcaa4b8(0x6e7)](_0xcaa4b8(0x147),handlePointerDown),_0x5cbb31[_0xcaa4b8(0x6e7)]('touchmove',handlePointerMove),_0x5cbb31['removeEventListener'](_0xcaa4b8(0x326),handlePointerUp),_0x5cbb31['addEventListener'](_0xcaa4b8(0x4cd),handlePointerDown),_0x5cbb31[_0xcaa4b8(0x86b)](_0xcaa4b8(0x8ca),handlePointerMove),_0x5cbb31['addEventListener'](_0xcaa4b8(0x87b),handlePointerUp),_0x5cbb31[_0xcaa4b8(0x86b)](_0xcaa4b8(0x2ea),handlePointerUp),_0x5cbb31[_0xcaa4b8(0x86b)](_0xcaa4b8(0x2e4),handleWheel,{'passive':![]}),_0x5cbb31['addEventListener'](_0xcaa4b8(0x147),handlePointerDown,{'passive':![]}),_0x5cbb31[_0xcaa4b8(0x86b)](_0xcaa4b8(0x437),handlePointerMove,{'passive':![]}),_0x5cbb31[_0xcaa4b8(0x86b)](_0xcaa4b8(0x326),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x4bc262=_0x56a724,_0x585d1f=document['getElementById'](_0x4bc262(0x450)),_0x43b66c=document[_0x4bc262(0x5a0)]('scratchpad-controls');_0x43b66c['innerHTML']=_0x4bc262(0x249)+scratchpadHighlighterSize+_0x4bc262(0x605);const _0x3451d9=document[_0x4bc262(0x5a0)](_0x4bc262(0x88b)),_0x1ba6de=document[_0x4bc262(0x5a0)](_0x4bc262(0x577)),_0x2fb483=document[_0x4bc262(0x5a0)](_0x4bc262(0x434)),_0x9f357e=document['getElementById'](_0x4bc262(0x836)),_0x2cde00=document[_0x4bc262(0x5a0)](_0x4bc262(0x3dd)),_0x2cbe00=document[_0x4bc262(0x5a0)](_0x4bc262(0x367)),_0x40d3eb=[_0x3451d9,_0x1ba6de,_0x2fb483,_0x9f357e];document[_0x4bc262(0x5a0)](_0x4bc262(0x10e))['addEventListener']('click',()=>_0x585d1f[_0x4bc262(0x20d)]['add'](_0x4bc262(0x5cf))),document[_0x4bc262(0x5a0)]('reset-view-btn')[_0x4bc262(0x86b)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x4bc262(0x5a0)](_0x4bc262(0x935))[_0x4bc262(0x86b)](_0x4bc262(0x12e),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x4bc262(0x5a0)]('undo-btn')['addEventListener'](_0x4bc262(0x12e),undo),document[_0x4bc262(0x5a0)](_0x4bc262(0x890))[_0x4bc262(0x86b)]('click',redo);const _0x4722ee=_0xb8435e=>{const _0x1c2359=_0x4bc262;_0x40d3eb[_0x1c2359(0x573)](_0x3782d3=>_0x3782d3[_0x1c2359(0x20d)][_0x1c2359(0x1cf)](_0x1c2359(0x742))),_0xb8435e['classList'][_0x1c2359(0x8cb)](_0x1c2359(0x742));const _0xd9a5ba=_0xb8435e===_0x9f357e;_0x2cde00[_0x1c2359(0x20d)][_0x1c2359(0x964)]('hidden',_0xd9a5ba),_0x2cbe00[_0x1c2359(0x20d)][_0x1c2359(0x964)](_0x1c2359(0x5cf),!_0xd9a5ba);};_0x3451d9[_0x4bc262(0x86b)](_0x4bc262(0x12e),()=>{const _0xcd9b55=_0x4bc262;activeTool=_0xcd9b55(0x58a),_0x4722ee(_0x3451d9);}),_0x1ba6de['addEventListener'](_0x4bc262(0x12e),()=>{activeTool='eraser',_0x4722ee(_0x1ba6de);}),_0x2fb483['addEventListener'](_0x4bc262(0x12e),()=>{activeTool='trail',_0x4722ee(_0x2fb483);}),_0x9f357e[_0x4bc262(0x86b)](_0x4bc262(0x12e),()=>{const _0x152034=_0x4bc262;activeTool=_0x152034(0x7f5),_0x4722ee(_0x9f357e);}),_0x2cde00['querySelectorAll']('.pen-size-btn')['forEach'](_0x1bdc98=>{const _0xa13fc1=_0x4bc262;_0x1bdc98[_0xa13fc1(0x86b)](_0xa13fc1(0x12e),_0x36e4d3=>{const _0x4ad16c=_0xa13fc1;scratchpadPenSize=parseInt(_0x36e4d3[_0x4ad16c(0x6e2)][_0x4ad16c(0x513)][_0x4ad16c(0x9b3)],0xa),_0x2cde00[_0x4ad16c(0x81b)]('.pen-size-btn')['forEach'](_0x3cfb69=>_0x3cfb69[_0x4ad16c(0x20d)]['remove'](_0x4ad16c(0x742))),_0x36e4d3['target']['classList']['add'](_0x4ad16c(0x742));});}),_0x2cde00[_0x4bc262(0x81b)](_0x4bc262(0x2b6))['forEach'](_0x512b02=>{const _0xec8eba=_0x4bc262;_0x512b02[_0xec8eba(0x86b)]('click',_0x453334=>{const _0x3162ab=_0xec8eba;scratchpadPenColor=_0x453334['target'][_0x3162ab(0x513)]['color'],_0x2cde00['querySelectorAll'](_0x3162ab(0x2b6))[_0x3162ab(0x573)](_0x56c1f4=>_0x56c1f4[_0x3162ab(0x20d)][_0x3162ab(0x1cf)](_0x3162ab(0x742))),_0x453334['target'][_0x3162ab(0x20d)][_0x3162ab(0x8cb)]('active');});}),_0x2cbe00[_0x4bc262(0x81b)](_0x4bc262(0x696))['forEach'](_0x5e673a=>{const _0x8d89f5=_0x4bc262;_0x5e673a[_0x8d89f5(0x86b)](_0x8d89f5(0x12e),_0x31c754=>{const _0x346da4=_0x8d89f5;scratchpadHighlighterColor=_0x31c754[_0x346da4(0x6e2)][_0x346da4(0x513)][_0x346da4(0x2c9)],_0x2cbe00[_0x346da4(0x81b)]('.highlighter-color-btn')['forEach'](_0x1f78a3=>_0x1f78a3['classList'][_0x346da4(0x1cf)]('active')),_0x31c754[_0x346da4(0x6e2)][_0x346da4(0x20d)][_0x346da4(0x8cb)](_0x346da4(0x742));});});const _0x2bdaa9=document['getElementById'](_0x4bc262(0x96f)),_0x396b12=document[_0x4bc262(0x5a0)]('highlighter-size-value');_0x2bdaa9[_0x4bc262(0x86b)](_0x4bc262(0x70f),_0x577dcf=>{const _0x59a8a0=_0x4bc262,_0x9760d8=parseInt(_0x577dcf[_0x59a8a0(0x6e2)]['value'],0xa);scratchpadHighlighterSize=_0x9760d8,_0x396b12['textContent']=_0x9760d8;}),window[_0x4bc262(0x86b)](_0x4bc262(0x692),()=>{const _0x3fc4d0=_0x4bc262;!_0x585d1f[_0x3fc4d0(0x20d)]['contains'](_0x3fc4d0(0x5cf))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x56a724(0x640),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x56a724(0x745)},'QUICK_THINKER':{'id':_0x56a724(0x9de),'name':'เซียนสมองไว','description':_0x56a724(0x79),'icon':_0x56a724(0x961)},'ON_FIRE':{'id':_0x56a724(0x7ac),'name':_0x56a724(0x29b),'description':_0x56a724(0x808),'icon':_0x56a724(0x823)},'FIRST_TRY_ACE':{'id':_0x56a724(0x163),'name':'ผ่านฉลุย','description':_0x56a724(0x51e),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':'comeback_king','name':_0x56a724(0x766),'description':_0x56a724(0x2a2),'icon':_0x56a724(0x867)},'SPECIALIST':{'id':_0x56a724(0x128),'name':_0x56a724(0x67f),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x56a724(0x5c4)},'PERSEVERANCE':{'id':_0x56a724(0x65b),'name':_0x56a724(0x5b1),'description':_0x56a724(0x6f6),'icon':_0x56a724(0x2bc)}},firebaseConfig={'apiKey':_0x56a724(0x844),'authDomain':_0x56a724(0x6c4),'projectId':'ai-quiz-app-aefee','storageBucket':_0x56a724(0x863),'messagingSenderId':_0x56a724(0x107),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x56a724(0x786)},appId=typeof __app_id!==_0x56a724(0x6eb)?__app_id:_0x56a724(0x4ad),adminView=document[_0x56a724(0x5a0)](_0x56a724(0x522)),studentView=document['getElementById'](_0x56a724(0x7e0)),projectDashboardView=document[_0x56a724(0x5a0)](_0x56a724(0x76f)),projectDetailView=document['getElementById'](_0x56a724(0x161)),quizResultsView=document[_0x56a724(0x5a0)]('quiz-results-view'),projectList=document[_0x56a724(0x5a0)]('project-list'),noProjectsMsg=document[_0x56a724(0x5a0)]('no-projects-msg'),projectTitle=document[_0x56a724(0x5a0)](_0x56a724(0x5e3)),projectIdDisplay=document[_0x56a724(0x5a0)](_0x56a724(0x1d8)),studentList=document[_0x56a724(0x5a0)](_0x56a724(0x1fa)),messageModal=document['getElementById'](_0x56a724(0x90)),modalMessage=document[_0x56a724(0x5a0)](_0x56a724(0xf3)),createProjectModal=document[_0x56a724(0x5a0)](_0x56a724(0x72a)),adminPasswordModal=document[_0x56a724(0x5a0)](_0x56a724(0x194)),confirmationModal=document['getElementById'](_0x56a724(0x7ff)),userIdDisplay=document[_0x56a724(0x5a0)](_0x56a724(0x5d8)),topicTab=document[_0x56a724(0x5a0)](_0x56a724(0x63a)),textTab=document[_0x56a724(0x5a0)](_0x56a724(0x4ac)),topicInputArea=document[_0x56a724(0x5a0)]('topic-input-area'),textInputArea=document[_0x56a724(0x5a0)](_0x56a724(0x2a7)),manageTab=document[_0x56a724(0x5a0)](_0x56a724(0x60b)),resultsTab=document[_0x56a724(0x5a0)]('results-tab'),leaderboardTab=document[_0x56a724(0x5a0)]('leaderboard-tab'),manageTabContent=document[_0x56a724(0x5a0)](_0x56a724(0x4d0)),resultsTabContent=document[_0x56a724(0x5a0)](_0x56a724(0x4f6)),leaderboardTabContent=document[_0x56a724(0x5a0)](_0x56a724(0x79c)),projectQuizzesList=document[_0x56a724(0x5a0)]('project-quizzes-list'),fileTab=document[_0x56a724(0x5a0)]('file-tab'),fileInputArea=document[_0x56a724(0x5a0)](_0x56a724(0x733)),fileUploadInput=document[_0x56a724(0x5a0)](_0x56a724(0x7df)),worksheetTab=document[_0x56a724(0x5a0)](_0x56a724(0x94b)),worksheetInputArea=document['getElementById'](_0x56a724(0x674)),generateWorksheetBtn=document['getElementById'](_0x56a724(0x224)),studentInitialView=document[_0x56a724(0x5a0)](_0x56a724(0x6a6)),studentNameSelectionView=document[_0x56a724(0x5a0)](_0x56a724(0x64b)),studentQuizArea=document[_0x56a724(0x5a0)](_0x56a724(0x6a2)),studentResultArea=document[_0x56a724(0x5a0)]('student-result-area'),studentReadingArea=document[_0x56a724(0x5a0)](_0x56a724(0x348)),loadQuizBtn=document['getElementById']('load-quiz-btn'),startQuizBtn=document[_0x56a724(0x5a0)](_0x56a724(0x230)),studentJoinGameView=document[_0x56a724(0x5a0)](_0x56a724(0x770)),presentationModal=document['getElementById'](_0x56a724(0x97f)),renameQuizModal=document[_0x56a724(0x5a0)](_0x56a724(0x404)),moveQuizModal=document[_0x56a724(0x5a0)]('move-quiz-modal'),quizSettingsModal=document[_0x56a724(0x5a0)](_0x56a724(0x90b)),quizStatusModal=document[_0x56a724(0x5a0)](_0x56a724(0x41f)),liveGameView=document[_0x56a724(0x5a0)](_0x56a724(0x50d));function handleAutoFixLatex(){const _0x54a428=_0x56a724,_0x1c3ba1=document[_0x54a428(0x5a0)](_0x54a428(0x102))||document,_0x1ac6f7=_0x1c3ba1[_0x54a428(0x81b)](['textarea',_0x54a428(0x92d),_0x54a428(0x3e7),_0x54a428(0x51b),_0x54a428(0x3d6),_0x54a428(0x345),_0x54a428(0x512),_0x54a428(0x8fe),'.answer-text'][_0x54a428(0x13f)](','));let _0x69d295=0x0;const _0x448aec=_0x1fb24a=>'value'in _0x1fb24a?String(_0x1fb24a[_0x54a428(0x8f1)]):_0x1fb24a[_0x54a428(0x7de)]!==undefined?_0x1fb24a[_0x54a428(0x7de)]:_0x1fb24a['textContent']||'',_0x43fb07=(_0x5adab2,_0x15f885)=>{const _0x39a912=_0x54a428;if(_0x39a912(0x8f1)in _0x5adab2){_0x5adab2[_0x39a912(0x8f1)]=_0x15f885;return;}if(_0x5adab2['querySelector']&&_0x5adab2[_0x39a912(0x4aa)](_0x39a912(0x6a9)))return;if(_0x5adab2[_0x39a912(0x7de)]!==undefined)_0x5adab2['innerText']=_0x15f885;else _0x5adab2[_0x39a912(0x83f)]=_0x15f885;},_0x1b9409=_0x26b566=>_0x26b566['replace'](/\u00A0/g,'\x20')[_0x54a428(0x3c8)](/\u200B/g,'')[_0x54a428(0x3c8)](/\r\n?/g,'\x0a'),_0x49f208=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x33dac0=_0x16eea3=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x54a428(0x7a2)](_0x16eea3),_0x3d75c1=_0x12523e=>{const _0x5044bf=_0x54a428,_0x225435=(_0x12523e['match'](/\{/g)||[])[_0x5044bf(0x2fd)],_0x5d3250=(_0x12523e[_0x5044bf(0x503)](/\}/g)||[])[_0x5044bf(0x2fd)];if(_0x225435>_0x5d3250)_0x12523e=_0x12523e+'}'[_0x5044bf(0x541)](_0x225435-_0x5d3250);return _0x12523e;},_0x2e5122=_0x489360=>{const _0x453caf=_0x54a428;let _0x33ec8a=_0x489360[_0x453caf(0x3fa)]();const _0x43b998=[_0x453caf(0x10c),_0x453caf(0x78e),_0x453caf(0x4be),_0x453caf(0x693),_0x453caf(0x708),_0x453caf(0x37d),_0x453caf(0x87d),'div',_0x453caf(0x9d5),_0x453caf(0x401),'le','ge',_0x453caf(0x596),'pm','approx',_0x453caf(0x4cb),_0x453caf(0x717),_0x453caf(0x975),_0x453caf(0x458),'ln',_0x453caf(0x782),'prod','binom',_0x453caf(0x644),'right','overline',_0x453caf(0x2c7),_0x453caf(0x2be),_0x453caf(0x8b6)];_0x33ec8a=_0x33ec8a[_0x453caf(0x3c8)](new RegExp(_0x453caf(0x364)+_0x43b998[_0x453caf(0x13f)]('|')+')\x5cb)','g'),'\x5c'),_0x43b998[_0x453caf(0x573)](_0x3aad3a=>{const _0x16c1dc=_0x453caf;_0x33ec8a=_0x33ec8a[_0x16c1dc(0x3c8)](new RegExp(_0x16c1dc(0x8e4)+_0x3aad3a+'\x5cb','g'),(_0x27f5d5,_0x192f7b)=>_0x192f7b+'\x5c'+_0x3aad3a);});const _0x545e41=[[/×/g,_0x453caf(0x322)],[/·/g,_0x453caf(0x8a8)],[/÷/g,_0x453caf(0x7c7)],[/≤/g,_0x453caf(0x99a)],[/≥/g,_0x453caf(0x21f)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm'],[/∑/g,_0x453caf(0x8d)],[/−/g,'-']];_0x545e41[_0x453caf(0x573)](([_0x2d5a71,_0x3eecc0])=>{const _0x1619b2=_0x453caf;_0x33ec8a=_0x33ec8a[_0x1619b2(0x3c8)](_0x2d5a71,_0x3eecc0);}),_0x33ec8a=_0x33ec8a[_0x453caf(0x3c8)](/√\s*\(([^)]*)\)/g,_0x453caf(0x3f5)),_0x33ec8a=_0x33ec8a['replace'](/√\s*([A-Za-z0-9]+)/g,_0x453caf(0x3f5)),_0x33ec8a=_0x33ec8a[_0x453caf(0x3c8)](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x453caf(0x3c8)](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')[_0x453caf(0x3c8)](/(^|[^\\])ext\{/g,_0x453caf(0x507))[_0x453caf(0x3c8)](/(^|[^\\])ext\(/g,_0x453caf(0x7ad))[_0x453caf(0x3c8)](/\\text\(([^)]*)\)/g,_0x453caf(0x6f1))['replace'](/\s\\frac/g,_0x453caf(0x5ac)),_0x33ec8a=_0x33ec8a[_0x453caf(0x3c8)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x4a3acb,_0x5ba393,_0x5d7f05,_0x3d5ae9)=>_0x5ba393+_0x453caf(0x415)+_0x5d7f05+'}{'+_0x3d5ae9+'}'),_0x33ec8a=_0x33ec8a[_0x453caf(0x3c8)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x453caf(0x5ad))[_0x453caf(0x3c8)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x453caf(0x5ad))[_0x453caf(0x3c8)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x453caf(0x5ad)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x453caf(0x656)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x453caf(0x656)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x453caf(0x656)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x453caf(0x656)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x453caf(0x656)],[/(\d+)\s*°\s*C/g,_0x453caf(0x656)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x453caf(0x656)]][_0x453caf(0x573)](([_0x20b881,_0x347318])=>{const _0x4fa924=_0x453caf;_0x33ec8a=_0x33ec8a[_0x4fa924(0x3c8)](_0x20b881,_0x347318);}),_0x33ec8a=_0x33ec8a[_0x453caf(0x3c8)](/(\d+)\s*%/g,_0x453caf(0x51c)),_0x33ec8a=_0x33ec8a['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1^{$2}')[_0x453caf(0x3c8)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x453caf(0x139))[_0x453caf(0x3c8)](/\{\{([^\{\}]+)\}\}/g,_0x453caf(0x5c0)),['sin','cos','tan',_0x453caf(0x458),'ln']['forEach'](_0x5b322d=>{const _0x46bf79=_0x453caf;_0x33ec8a=_0x33ec8a[_0x46bf79(0x3c8)](new RegExp(_0x46bf79(0x8e4)+_0x5b322d+_0x46bf79(0x5eb),'g'),(_0x1fdcb0,_0x97e906)=>_0x97e906+'\x5c'+_0x5b322d+'(');});const _0x24388d=(_0x33ec8a[_0x453caf(0x503)](/\\left\b/g)||[])['length'],_0x57a007=(_0x33ec8a[_0x453caf(0x503)](/\\right\b/g)||[])[_0x453caf(0x2fd)];if(_0x24388d!==_0x57a007)_0x33ec8a=_0x33ec8a[_0x453caf(0x3c8)](/\\left\b/g,'')[_0x453caf(0x3c8)](/\\right\b/g,'');return _0x33ec8a=_0x3d75c1(_0x33ec8a),_0x33ec8a;},_0x3478a8=_0x15290a=>{const _0x105039=_0x54a428;if(/\$|\\\(|\\\[/[_0x105039(0x7a2)](_0x15290a))return _0x15290a;if(!_0x49f208[_0x105039(0x7a2)](_0x15290a))return _0x15290a;const _0x261bf8=_0x15290a[_0x105039(0x503)](/^\s*/)[0x0],_0x84575=_0x15290a[_0x105039(0x503)](/\s*$/)[0x0],_0x5ef46f=_0x15290a[_0x105039(0x3fa)]();return _0x261bf8+'$'+_0x2e5122(_0x5ef46f)+'$'+_0x84575;},_0x2e9845=_0x29f6a2=>_0x29f6a2['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x1ac6f7['forEach'](_0x137b40=>{const _0x42dc72=_0x54a428;if(_0x137b40[_0x42dc72(0x4aa)]&&_0x137b40[_0x42dc72(0x4aa)]('mjx-container'))return;const _0x37ea49=_0x448aec(_0x137b40);let _0x5c312d=_0x1b9409(_0x37ea49);_0x5c312d=_0x5c312d[_0x42dc72(0x3c8)](/\$\$([\s\S]*?)\$\$/g,(_0x5102d9,_0x5b13c1)=>'$$'+_0x2e5122(_0x5b13c1)+'$$')['replace'](/\$([^$]*?)\$/g,(_0x22aca6,_0x1495d9)=>'$'+_0x2e5122(_0x1495d9)+'$')[_0x42dc72(0x3c8)](/\\\(([\s\S]*?)\\\)/g,(_0x583039,_0x2e6ea3)=>'\x5c('+_0x2e5122(_0x2e6ea3)+'\x5c)')[_0x42dc72(0x3c8)](/\\\[([\s\S]*?)\\\]/g,(_0x574765,_0x2d88fe)=>'\x5c['+_0x2e5122(_0x2d88fe)+'\x5c]');let _0x271d17=_0x5c312d,_0x7dd594=0x0;const _0x471a90=_0x1bc0b3=>_0x1bc0b3[_0x42dc72(0x3c8)](/S([^S]{0,2000}?)S/g,(_0x5bc7d4,_0x3335a5)=>_0x49f208[_0x42dc72(0x7a2)](_0x3335a5)?'$'+_0x2e5122(_0x3335a5)+'$':_0x5bc7d4);while(_0x7dd594++<0x14){const _0x270840=_0x471a90(_0x271d17);if(_0x270840===_0x271d17)break;_0x271d17=_0x270840;}_0x5c312d=_0x271d17,_0x5c312d=_0x5c312d['split']('\x0a')[_0x42dc72(0xbf)](_0x248d9e=>{const _0x34f500=_0x42dc72;if(!(/[,\u3001，;；]/[_0x34f500(0x7a2)](_0x248d9e)||/\s(?:และ|หรือ)\s/[_0x34f500(0x7a2)](_0x248d9e))||!_0x49f208[_0x34f500(0x7a2)](_0x248d9e))return _0x248d9e;return _0x2e9845(_0x248d9e)[_0x34f500(0xbf)](_0x137ef9=>{const _0x406da4=_0x34f500;if(/^\s(?:และ|หรือ)\s$/[_0x406da4(0x7a2)](_0x137ef9)||/^[,\u3001，;；]$/[_0x406da4(0x7a2)](_0x137ef9))return _0x137ef9;return _0x3478a8(_0x137ef9);})[_0x34f500(0x13f)]('');})['join']('\x0a'),_0x5c312d=_0x5c312d[_0x42dc72(0x60e)]('\x0a')['map'](_0x383b0a=>{const _0x2ead9f=_0x42dc72,_0x46af2d=_0x383b0a[_0x2ead9f(0x3fa)]();if(!_0x46af2d)return _0x383b0a;const _0x309528=/\$|\\\(|\\\[/[_0x2ead9f(0x7a2)](_0x46af2d),_0x33dce9=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x2ead9f(0x7a2)](_0x46af2d);if(_0x309528||!_0x33dce9||_0x33dac0(_0x46af2d))return _0x383b0a;return _0x383b0a[_0x2ead9f(0x3c8)](_0x46af2d,'$'+_0x2e5122(_0x46af2d)+'$');})['join']('\x0a'),_0x5c312d=_0x5c312d[_0x42dc72(0x3c8)](/(\d+)\s*°\s*C\b/g,(_0x38e3c5,_0x96b59f,_0x1740b1,_0x3520df)=>{const _0x2c6194=_0x3520df[_0x1740b1-0x1];if(_0x2c6194==='$'||_0x2c6194==='S'||_0x2c6194==='\x5c')return _0x38e3c5;return'$'+_0x96b59f+'^{\x5ccirc}\x5ctext{C}$';})['replace'](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x352a7d,_0x369a2e,_0x3fb1ad,_0x2421cf)=>{const _0x457b45=_0x42dc72,_0x1011cc=_0x2421cf[_0x3fb1ad-0x1];if(_0x1011cc==='$'||_0x1011cc==='S'||_0x1011cc==='\x5c')return _0x352a7d;return'$'+_0x369a2e+_0x457b45(0x4a1);})[_0x42dc72(0x3c8)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x110732,_0x4c470e,_0x424986,_0x40b8af)=>{const _0x3d67b4=_0x40b8af[_0x424986-0x1];if(_0x3d67b4==='$'||_0x3d67b4==='S'||_0x3d67b4==='\x5c')return _0x110732;return'$'+_0x4c470e+'^{\x5ccirc}\x5ctext{C}$';}),_0x5c312d=_0x5c312d[_0x42dc72(0x3c8)](/\$\s*\$/g,'$$'),_0x5c312d!==_0x37ea49&&(_0x43fb07(_0x137b40,_0x5c312d),_0x69d295++);});if(_0x69d295>0x0){showMessage(_0x54a428(0x52c)+_0x69d295+'\x20ช่อง');try{if(window[_0x54a428(0x7d2)]&&MathJax[_0x54a428(0x66b)])MathJax[_0x54a428(0x66b)]();window[_0x54a428(0x11d)]&&typeof renderMathInElement==='function'&&renderMathInElement(_0x1c3ba1,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x488eb4){}}else showMessage(_0x54a428(0x192));}async function listenForCustomMathTopics(){const _0x58f8df=collection(db,'artifacts/'+appId+'/public/data/customMathTopics');onSnapshot(_0x58f8df,_0x508c23=>{const _0x4f91fc=_0x3686;customMathTopics=_0x508c23[_0x4f91fc(0x465)][_0x4f91fc(0xbf)](_0x1a46f4=>({'id':_0x1a46f4['id'],..._0x1a46f4[_0x4f91fc(0x2fb)]()})),renderTopicCheckboxes();},_0x2e03ed=>{const _0x51a091=_0x3686;console[_0x51a091(0x33a)](_0x51a091(0x195),_0x2e03ed);});}function handleSelectAllTopics(){const _0x933c19=_0x56a724,_0x16a490=document[_0x933c19(0x5a0)](_0x933c19(0x2d6)),_0x177e5e=_0x16a490['querySelectorAll']('input[type=\x22checkbox\x22]');_0x177e5e['forEach'](_0x5f0ba2=>{const _0x26db19=_0x933c19;_0x5f0ba2[_0x26db19(0x71e)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x4196bd=_0x56a724,_0x1db2d9=document[_0x4196bd(0x5a0)](_0x4196bd(0x2d6)),_0x55b81d=_0x1db2d9['querySelectorAll']('input[type=\x22checkbox\x22]');_0x55b81d[_0x4196bd(0x573)](_0x5867c9=>{_0x5867c9['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x1196f6){const _0xd23f5a=_0x56a724;if(!_0x1196f6)return;try{const _0x4a85de=doc(db,_0xd23f5a(0x4e3)+appId+'/public/data/customMathTopics',_0x1196f6);await deleteDoc(_0x4a85de),showMessage(_0xd23f5a(0x153));}catch(_0x25015e){console['error']('Error\x20deleting\x20custom\x20topic:',_0x25015e),showMessage(_0xd23f5a(0x344));}}async function handleAddCustomMathTopic(){const _0x54eb90=_0x56a724,_0x313bd6=document[_0x54eb90(0x5a0)](_0x54eb90(0x7be)),_0x58d401=_0x313bd6[_0x54eb90(0x8f1)][_0x54eb90(0x3fa)]();if(!_0x58d401){showMessage(_0x54eb90(0x9c2));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x13fb22=collection(db,_0x54eb90(0x4e3)+appId+'/public/data/customMathTopics');await addDoc(_0x13fb22,{'name':_0x58d401,'createdAt':serverTimestamp()}),_0x313bd6[_0x54eb90(0x8f1)]='',showMessage(_0x54eb90(0x13d)+_0x58d401+_0x54eb90(0x524));}catch(_0x53f037){console['error']('Error\x20adding\x20custom\x20topic:',_0x53f037),showMessage(_0x54eb90(0x2f9));}}async function handleUpdateOldQuizzes(){const _0x2e4526=_0x56a724;showConfirmation(_0x2e4526(0x22f),async()=>{const _0x3342f0=_0x2e4526,_0x2d558b=document[_0x3342f0(0x5a0)](_0x3342f0(0x876)),_0x38951f=document[_0x3342f0(0x5a0)](_0x3342f0(0x370)),_0xc8fbb9=_0x38951f[_0x3342f0(0x83f)];_0x2d558b[_0x3342f0(0x20d)][_0x3342f0(0x1cf)](_0x3342f0(0x5cf)),_0x38951f[_0x3342f0(0x83f)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x4667a5=collection(db,'artifacts/'+appId+_0x3342f0(0x73b)),_0x9cf481=await getDocs(_0x4667a5);if(_0x9cf481[_0x3342f0(0x3f7)]){showMessage(_0x3342f0(0x3da));return;}const _0xcca9f5=writeBatch(db);let _0x48f2c4=0x0;_0x9cf481[_0x3342f0(0x573)](_0x151771=>{const _0x5a4c2f=_0x3342f0,_0x4f7acb=_0x151771[_0x5a4c2f(0x2fb)](),_0x378672=_0x151771['id'];if(_0x4f7acb['questions']&&_0x4f7acb[_0x5a4c2f(0x528)][_0x5a4c2f(0x2fd)]>0x0&&!_0x4f7acb['questions'][0x0]['hasOwnProperty']('id')){console['log'](_0x5a4c2f(0x757)+_0x378672+'\x20('+_0x4f7acb[_0x5a4c2f(0x58e)]+')'),_0x48f2c4++;const _0x4367e1=_0x4f7acb[_0x5a4c2f(0x528)][_0x5a4c2f(0xbf)]((_0x2f07a2,_0x25211a)=>{return{..._0x2f07a2,'id':_0x2f07a2['id']||'q_'+Date['now']()+'_'+_0x378672+'_'+_0x25211a};}),_0x59881f=doc(db,_0x5a4c2f(0x4e3)+appId+_0x5a4c2f(0x73b),_0x378672);_0xcca9f5[_0x5a4c2f(0x98c)](_0x59881f,{'questions':_0x4367e1});}}),_0x48f2c4>0x0?(_0x38951f[_0x3342f0(0x83f)]=_0x3342f0(0x422)+_0x48f2c4+'\x20รายการ...',await _0xcca9f5[_0x3342f0(0x8c6)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x48f2c4+'\x20รายการสำเร็จ!')):showMessage(_0x3342f0(0x18e));}catch(_0x2bb754){console[_0x3342f0(0x33a)](_0x3342f0(0x671),_0x2bb754),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x2bb754[_0x3342f0(0x26e)]);}finally{_0x2d558b[_0x3342f0(0x20d)][_0x3342f0(0x8cb)]('hidden'),_0x38951f['textContent']=_0xc8fbb9;}});}async function handleBulkUpdateQuizSettings(){const _0x360863=_0x56a724,_0x1a2b34={'shuffle':document[_0x360863(0x5a0)]('bulk-shuffle-select')[_0x360863(0x8f1)],'resultsDisplay':document[_0x360863(0x5a0)]('bulk-results-display-select')[_0x360863(0x8f1)],'loopUntilPass':document['getElementById'](_0x360863(0x16d))[_0x360863(0x71e)],'isConfidenceScoringEnabled':document[_0x360863(0x5a0)](_0x360863(0x7ce))[_0x360863(0x71e)],'confidenceMode':document[_0x360863(0x5a0)](_0x360863(0x456))[_0x360863(0x8f1)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x35014b=await getDocs(collection(db,_0x360863(0x4e3)+appId+_0x360863(0x73b))),_0xeaf86e=_0x35014b[_0x360863(0x465)][_0x360863(0xbf)](_0x4fa682=>({'id':_0x4fa682['id'],'data':_0x4fa682[_0x360863(0x2fb)]()})),_0x3b0457=_0xeaf86e[_0x360863(0x2fd)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x3b0457+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x5d2a6e=_0x360863,_0x47129e=document[_0x5d2a6e(0x5a0)](_0x5d2a6e(0x5a6));_0x47129e[_0x5d2a6e(0x2df)]=!![],_0x47129e[_0x5d2a6e(0x65a)]=_0x5d2a6e(0x44e);try{const _0x3c6980=writeBatch(db);_0xeaf86e['forEach'](_0xd80a79=>{const _0x4f2527=_0x5d2a6e,_0x1c5f5a=doc(db,_0x4f2527(0x4e3)+appId+'/public/data/quizzes',_0xd80a79['id']),_0x1baa07={..._0xd80a79[_0x4f2527(0x2fb)][_0x4f2527(0x681)]||{},..._0x1a2b34};_0x3c6980[_0x4f2527(0x98c)](_0x1c5f5a,{'settings':_0x1baa07});}),await _0x3c6980[_0x5d2a6e(0x8c6)](),document[_0x5d2a6e(0x5a0)](_0x5d2a6e(0x2bf))[_0x5d2a6e(0x20d)][_0x5d2a6e(0x8cb)](_0x5d2a6e(0x5cf)),showMessage(_0x5d2a6e(0x248)+_0x3b0457+_0x5d2a6e(0x621));}catch(_0x144641){console[_0x5d2a6e(0x33a)](_0x5d2a6e(0x687),_0x144641),showMessage(_0x5d2a6e(0x517));}finally{_0x47129e[_0x5d2a6e(0x2df)]=![],_0x47129e['innerHTML']=_0x5d2a6e(0x767);}});}catch(_0x756de8){console[_0x360863(0x33a)](_0x360863(0x7aa),_0x756de8),showMessage(_0x360863(0x776));}}async function handleSaveProjectName(){const _0x49fe48=_0x56a724,_0x4090f7=document[_0x49fe48(0x5a0)](_0x49fe48(0x5e3)),_0x1afa9d=document['getElementById']('save-project-name-btn'),_0x554b5c=_0x4090f7[_0x49fe48(0x83f)]['trim']();if(!_0x554b5c||!currentProjectId){showMessage(_0x49fe48(0x957)),_0x4090f7[_0x49fe48(0x83f)]=currentProjectData['projectName'];return;}_0x1afa9d[_0x49fe48(0x2df)]=!![],_0x1afa9d['innerHTML']=_0x49fe48(0x533);try{const _0x22f2e5=doc(db,'artifacts/'+appId+_0x49fe48(0x3b0),currentProjectId);await updateDoc(_0x22f2e5,{'projectName':_0x554b5c}),currentProjectData&&(currentProjectData[_0x49fe48(0x319)]=_0x554b5c),showMessage(_0x49fe48(0x120));}catch(_0x444e6e){console['error']('Error\x20updating\x20project\x20name:',_0x444e6e),showMessage(_0x49fe48(0x965)),_0x4090f7[_0x49fe48(0x83f)]=currentProjectData[_0x49fe48(0x319)];}finally{_0x1afa9d[_0x49fe48(0x20d)][_0x49fe48(0x8cb)](_0x49fe48(0x5cf)),_0x1afa9d[_0x49fe48(0x2df)]=![],_0x1afa9d[_0x49fe48(0x65a)]=_0x49fe48(0x205);}}async function initialize(){const _0xac0085=_0x56a724;try{const _0x5231c7=initializeApp(firebaseConfig);db=getFirestore(_0x5231c7),auth=getAuth(_0x5231c7),setupAuthListener(),setupEventListeners(),showView(_0xac0085(0x740)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x4eedbe){console[_0xac0085(0x33a)](_0xac0085(0x373),_0x4eedbe),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x5b596b=_0x56a724,_0x5b91d6=document[_0x5b596b(0x5a0)]('quiz-editor-modal');if(!_0x5b91d6)return;const _0x486378=document['getElementById'](_0x5b596b(0x49e));_0x486378[_0x5b596b(0x2df)]=!![],_0x486378[_0x5b596b(0x65a)]=_0x5b596b(0x4b8);try{const _0x177999=_0x5b91d6[_0x5b596b(0x81b)](_0x5b596b(0x1e8)),_0x18eeae=Array[_0x5b596b(0x4d1)](_0x177999)[_0x5b596b(0xbf)]((_0x1483a9,_0x42e2a1)=>{const _0x1958fe=_0x5b596b,_0x5055e1=_0x1483a9[_0x1958fe(0x513)][_0x1958fe(0x490)],_0x5e2950=_0x1483a9['querySelector'](_0x1958fe(0x683))[_0x1958fe(0x8f1)];let _0x544c4d=null,_0x452d83='';switch(_0x5055e1){case _0x1958fe(0x420):const _0x12e575=_0x1483a9['querySelectorAll']('input[type=\x22text\x22]');_0x544c4d=Array[_0x1958fe(0x4d1)](_0x12e575)[_0x1958fe(0xbf)](_0x3ca49f=>_0x3ca49f[_0x1958fe(0x8f1)]);const _0x439c2b=_0x1483a9[_0x1958fe(0x4aa)](_0x1958fe(0x49d));_0x439c2b&&(_0x452d83=_0x544c4d[parseInt(_0x439c2b[_0x1958fe(0x8f1)])]);break;case _0x1958fe(0x341):_0x452d83=_0x1483a9[_0x1958fe(0x4aa)]('.ideal-answer-input')[_0x1958fe(0x8f1)];break;case'true_false':const _0x3c3d15=_0x1483a9[_0x1958fe(0x4aa)](_0x1958fe(0x49d));_0x452d83=_0x3c3d15?_0x3c3d15[_0x1958fe(0x8f1)]:'';break;case _0x1958fe(0x85b):_0x452d83=_0x1483a9[_0x1958fe(0x4aa)]('.correct-response-input')[_0x1958fe(0x8f1)];break;}return{'question':_0x5e2950,'options':_0x544c4d,'proposedAnswer':_0x452d83};}),_0x30c8d2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x5b596b(0x5f1)](_0x18eeae)+_0x5b596b(0x262),_0x58dce1={'type':_0x5b596b(0x2ae),'items':{'type':_0x5b596b(0x3db),'properties':{'questionIndex':{'type':_0x5b596b(0x166)},'isCorrect':{'type':_0x5b596b(0x19f)},'justification':{'type':_0x5b596b(0x52f)},'suggestedAnswer':{'type':_0x5b596b(0x52f)}},'required':[_0x5b596b(0x459),_0x5b596b(0x29a),_0x5b596b(0x612)]}},_0x498889=await callAnalysisApi(_0x30c8d2,{'type':_0x5b596b(0x3db),'properties':{'result':_0x58dce1},'required':[_0x5b596b(0x15c)]});displayVerificationResultsInEditor(_0x498889[_0x5b596b(0x15c)]);}catch(_0xfd87d5){console['error'](_0x5b596b(0x3ef),_0xfd87d5),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x486378[_0x5b596b(0x2df)]=![],_0x486378[_0x5b596b(0x65a)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x1d4a45){const _0x39b931=_0x56a724;_0x1d4a45[_0x39b931(0x573)](_0x230899=>{const _0x3dd237=_0x39b931,_0x174965=document[_0x3dd237(0x4aa)]('.question-editor-item[data-q-index=\x22'+_0x230899['questionIndex']+'\x22]');if(!_0x174965)return;const _0x1db677=_0x174965[_0x3dd237(0x4aa)]('.verification-result-editor');if(_0x1db677)_0x1db677[_0x3dd237(0x1cf)]();let _0x9fc603='';if(_0x230899[_0x3dd237(0x29a)])_0x9fc603=_0x3dd237(0x5df);else{const _0x4c6df1=_0x230899['suggestedAnswer']?_0x3dd237(0x3d3):'';_0x9fc603=_0x3dd237(0x2c8)+_0x4c6df1+_0x3dd237(0x769)+_0x230899[_0x3dd237(0x612)]+_0x3dd237(0x69e)+(_0x230899[_0x3dd237(0x971)]?_0x3dd237(0x636)+_0x230899['suggestedAnswer']+_0x3dd237(0x8d8):'')+_0x3dd237(0x9b1);}_0x174965[_0x3dd237(0x7cb)](_0x3dd237(0x1f2),_0x9fc603);if(!_0x230899['isCorrect']&&_0x230899[_0x3dd237(0x971)]){const _0x9febb8=_0x174965[_0x3dd237(0x513)]['qType'],_0x108e61=_0x1d23ad=>{const _0x3a2179=_0x3dd237;if(!_0x1d23ad)return;_0x1d23ad['classList']['add'](_0x3a2179(0x2ac),_0x3a2179(0x9ca),_0x3a2179(0x551)),setTimeout(()=>{const _0x543743=_0x3a2179;_0x1d23ad[_0x543743(0x20d)]['remove'](_0x543743(0x2ac));},0x9c4);};if(_0x9febb8===_0x3dd237(0x420)){const _0x513a50=Array[_0x3dd237(0x4d1)](_0x174965[_0x3dd237(0x81b)]('input[type=\x22text\x22]')),_0x3d0edb=_0x513a50['findIndex'](_0x2f42b7=>_0x2f42b7[_0x3dd237(0x8f1)]['trim']()[_0x3dd237(0x527)]()===_0x230899[_0x3dd237(0x971)][_0x3dd237(0x3fa)]()[_0x3dd237(0x527)]());if(_0x3d0edb!==-0x1){const _0x35d350=_0x174965[_0x3dd237(0x4aa)](_0x3dd237(0x97b)+_0x3d0edb+'\x22]');_0x35d350&&(_0x35d350['checked']=!![],_0x108e61(_0x35d350[_0x3dd237(0x5dd)](_0x3dd237(0x9d))));}}else{if(_0x9febb8===_0x3dd237(0x341)||_0x9febb8===_0x3dd237(0x85b)){const _0x5899e1=_0x174965['querySelector'](_0x3dd237(0x72e));_0x5899e1&&(_0x5899e1[_0x3dd237(0x8f1)]=_0x230899[_0x3dd237(0x971)],_0x108e61(_0x5899e1));}else{if(_0x9febb8===_0x3dd237(0x142)){const _0xfa2c8a=_0x230899[_0x3dd237(0x971)][_0x3dd237(0x3fa)]()[_0x3dd237(0x527)](),_0x354a49=_0x174965['querySelector'](_0x3dd237(0x97b)+_0xfa2c8a+'\x22]');_0x354a49&&(_0x354a49[_0x3dd237(0x71e)]=!![],_0x108e61(_0x354a49[_0x3dd237(0x5dd)]('div')));}}}}}),showMessage(_0x39b931(0x7b8));}async function handleVerifyAnswers(){const _0x23e61b=_0x56a724;if(!currentQuizData||!currentQuizData[_0x23e61b(0x528)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x1b789d=document[_0x23e61b(0x5a0)]('verify-answers-btn');_0x1b789d[_0x23e61b(0x2df)]=!![],_0x1b789d['innerHTML']=_0x23e61b(0x4b8);try{const _0x2360ca=currentQuizData[_0x23e61b(0x528)]['map']((_0x4d5989,_0x42c478)=>{const _0x28a19a=_0x23e61b;let _0x44c762='';const _0x46b54d=_0x4d5989[_0x28a19a(0x45e)]||currentQuizData[_0x28a19a(0x2f1)];switch(_0x46b54d){case _0x28a19a(0x420):_0x44c762=_0x4d5989[_0x28a19a(0xbd)][_0x4d5989[_0x28a19a(0x3d2)]];break;case _0x28a19a(0x341):_0x44c762=_0x4d5989[_0x28a19a(0x38d)];break;case'true_false':_0x44c762=_0x4d5989['correctAnswer']['toString']();break;case _0x28a19a(0x85b):_0x44c762=_0x4d5989[_0x28a19a(0x93f)];break;}return{'question':_0x4d5989[_0x28a19a(0x55a)]||_0x4d5989[_0x28a19a(0x417)],'options':_0x4d5989['options']||null,'proposedAnswer':_0x44c762};}),_0x2b9e90='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x23e61b(0x5f1)](_0x2360ca)+_0x23e61b(0x87f),_0x118f17={'type':_0x23e61b(0x2ae),'items':{'type':_0x23e61b(0x3db),'properties':{'questionIndex':{'type':_0x23e61b(0x166)},'isCorrect':{'type':_0x23e61b(0x19f)},'justification':{'type':_0x23e61b(0x52f)},'suggestedAnswer':{'type':_0x23e61b(0x52f)}},'required':[_0x23e61b(0x459),_0x23e61b(0x29a),_0x23e61b(0x612)]}},_0x58722c=await callAnalysisApi(_0x2b9e90,{'type':_0x23e61b(0x3db),'properties':{'result':_0x118f17},'required':[_0x23e61b(0x15c)]});displayVerificationResults(_0x58722c[_0x23e61b(0x15c)]);}catch(_0x3f4ba0){console[_0x23e61b(0x33a)](_0x23e61b(0x6c9),_0x3f4ba0),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x1b789d[_0x23e61b(0x2df)]=![],_0x1b789d[_0x23e61b(0x65a)]=_0x23e61b(0x705);}}function displayVerificationResults(_0x2852f1){const _0x35cad6=_0x56a724;_0x2852f1[_0x35cad6(0x573)](_0x2bbacd=>{const _0x4b4c14=_0x35cad6,_0x3a54ed=document[_0x4b4c14(0x4aa)](_0x4b4c14(0x47b)+_0x2bbacd['questionIndex']+'\x22]');if(_0x3a54ed){const _0x4ff512=_0x3a54ed['querySelector'](_0x4b4c14(0xe5));if(_0x4ff512)_0x4ff512['remove']();let _0x3c1017='';_0x2bbacd[_0x4b4c14(0x29a)]?_0x3c1017=_0x4b4c14(0x4e8):_0x3c1017='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x2bbacd['justification']+_0x4b4c14(0x39f)+(_0x2bbacd['suggestedAnswer']?_0x4b4c14(0x636)+_0x2bbacd[_0x4b4c14(0x971)]+_0x4b4c14(0x8d8):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3a54ed[_0x4b4c14(0x7cb)](_0x4b4c14(0x1f2),_0x3c1017);}}),showMessage(_0x35cad6(0x7b8));}function compareNumericalAnswers(_0x34a2ba,_0x69e088){const _0x2b532d=_0x56a724,_0x1a5936=String(_0x34a2ba)[_0x2b532d(0x3c8)](',','.')[_0x2b532d(0x3c8)](/[^\d.-]/g,'')[_0x2b532d(0x3fa)](),_0x52ef15=String(_0x69e088)[_0x2b532d(0x3c8)](',','.')[_0x2b532d(0x3c8)](/[^\d.-]/g,'')[_0x2b532d(0x3fa)]();if(_0x1a5936===''||_0x52ef15==='')return![];const _0x51f78c=parseFloat(_0x1a5936),_0x7d49c5=parseFloat(_0x52ef15);if(isNaN(_0x51f78c)||isNaN(_0x7d49c5))return![];return Math['abs'](_0x51f78c-_0x7d49c5)<0.001;}function isPotentiallyNumeric(_0x3ff73e){const _0x2a83d3=_0x56a724;if(typeof _0x3ff73e!=='string'&&typeof _0x3ff73e!=='number')return![];const _0x1be5e1=String(_0x3ff73e)['replace'](',','.')[_0x2a83d3(0x3fa)]();return _0x1be5e1!==''&&!isNaN(parseFloat(_0x1be5e1))&&isFinite(_0x1be5e1);}async function gradeShortAnswer(_0x4c3b13,_0xf82a46){const _0x13bbb9=_0x56a724,_0x1aab65=_0xf82a46[_0x13bbb9(0x38d)],_0x9fe456=String(_0x4c3b13)[_0x13bbb9(0x3c8)](/\$/g,'')[_0x13bbb9(0x3fa)](),_0x30ed96=String(_0x1aab65)[_0x13bbb9(0x3c8)](/\$/g,'')[_0x13bbb9(0x3fa)]();if(_0x9fe456[_0x13bbb9(0x527)]()===_0x30ed96[_0x13bbb9(0x527)]())return!![];if(isPotentiallyNumeric(_0x9fe456)&&isPotentiallyNumeric(_0x30ed96)){if(compareNumericalAnswers(_0x9fe456,_0x30ed96))return!![];}return console[_0x13bbb9(0x458)](_0x13bbb9(0x840)),await gradeShortAnswerWithAI(_0x4c3b13,_0x1aab65);}async function revealAnswerForAdmin(_0x22c43b,_0x457b70){const _0x1c26bd=_0x56a724,_0x12ae33=doc(db,'artifacts/'+appId+_0x1c26bd(0x826),currentLiveGameId);await updateDoc(_0x12ae33,{'questionStatus':_0x1c26bd(0x8c3)});}function showTop5LeaderboardView(_0x36d899){const _0x3b5bc0=_0x56a724,_0x164fb9=Object[_0x3b5bc0(0x7d9)](_0x36d899[_0x3b5bc0(0x125)]||{})['filter'](_0x1fc059=>_0x1fc059[_0x3b5bc0(0x992)]===_0x3b5bc0(0x742));_0x164fb9[_0x3b5bc0(0x905)]((_0xb0be8f,_0x202d03)=>_0x202d03[_0x3b5bc0(0x2cf)]-_0xb0be8f['score']);const _0x4ba845=_0x164fb9[_0x3b5bc0(0x545)](0x0,0x5),_0x139b9b=_0x3b5bc0(0x7f3)+_0x4ba845[_0x3b5bc0(0xbf)]((_0x393314,_0x184073)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x184073+0x1)+'.\x20'+(_0x393314['name']||Object[_0x3b5bc0(0x86c)](_0x36d899[_0x3b5bc0(0x125)])[_0x3b5bc0(0xcc)](_0x31ba03=>_0x36d899[_0x3b5bc0(0x125)][_0x31ba03]===_0x393314))+_0x3b5bc0(0x156)+_0x393314[_0x3b5bc0(0x2cf)]+_0x3b5bc0(0x578))[_0x3b5bc0(0x13f)]('')+_0x3b5bc0(0x131)+(_0x36d899[_0x3b5bc0(0x795)]+0x1===currentQuizData[_0x3b5bc0(0x528)]['length']?_0x3b5bc0(0x5c6):_0x3b5bc0(0x7f8))+_0x3b5bc0(0x9b5);liveGameView['innerHTML']=_0x139b9b,document[_0x3b5bc0(0x5a0)](_0x3b5bc0(0x477))[_0x3b5bc0(0x86b)]('click',async()=>{const _0x3969c6=_0x3b5bc0,_0x398570=doc(db,_0x3969c6(0x4e3)+appId+_0x3969c6(0x826),currentLiveGameId),_0x566705=_0x36d899['currentQuestionIndex']+0x1;if(_0x566705<currentQuizData[_0x3969c6(0x528)][_0x3969c6(0x2fd)]){const _0x204f6c={'currentQuestionIndex':_0x566705,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x3969c6(0x4a3)};Object[_0x3969c6(0x86c)](_0x36d899['players'])[_0x3969c6(0x573)](_0x4e0996=>{const _0x585824=_0x3969c6;_0x204f6c[_0x585824(0x270)+_0x4e0996+_0x585824(0x23b)]=![];}),await updateDoc(_0x398570,_0x204f6c);}else await updateDoc(_0x398570,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x21244a=>{const _0xfba926=_0x3686;if(_0x21244a){userId=_0x21244a[_0xfba926(0x201)],userIdDisplay['textContent']=userId;const _0x24ccaa=await loadUserPreferences();_0x24ccaa[_0xfba926(0x7c8)]&&(document[_0xfba926(0x5a0)]('project-sort-select')[_0xfba926(0x8f1)]=_0x24ccaa['projectSortOrder']);globalDashboardSettings['projectView']=_0x24ccaa[_0xfba926(0x645)]||_0xfba926(0x381);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x4b1278,_0x332c76){const _0x228624=_0x56a724;if(!userId)return;try{const _0x4f3ca1=doc(db,_0x228624(0x4e3)+appId+_0x228624(0xfa)+userId+_0x228624(0x4b3)),_0xb93ca6={};_0xb93ca6[_0x4b1278]=_0x332c76,await setDoc(_0x4f3ca1,_0xb93ca6,{'merge':!![]});}catch(_0x4e19e9){console['error'](_0x228624(0x5d5),_0x4e19e9);}}async function loadUserPreferences(){const _0x200852=_0x56a724;if(!userId)return{};try{const _0x373af6=doc(db,_0x200852(0x4e3)+appId+'/users/'+userId+_0x200852(0x4b3)),_0x51c3ff=await getDoc(_0x373af6);if(_0x51c3ff[_0x200852(0x14e)]())return _0x51c3ff[_0x200852(0x2fb)]();return{};}catch(_0x50b881){return console['error']('Error\x20loading\x20user\x20preferences:',_0x50b881),{};}}function showPodiumView(_0x5e6386,_0x4a18e6='live-race'){const _0x3f2151=_0x56a724,_0x2a9e32=Object['entries'](_0x5e6386)['map'](([_0x4e7001,_0x121b98])=>({'name':_0x4e7001,'score':_0x121b98[_0x3f2151(0x2cf)]||0x0,'badges':_0x121b98[_0x3f2151(0x5c7)]||[],'hasPerfectScoreBonus':_0x121b98['hasPerfectScoreBonus']||![]}));_0x2a9e32[_0x3f2151(0x905)]((_0x338fde,_0x11df25)=>{const _0x33d52c=_0x3f2151,_0xa8e347=_0x11df25[_0x33d52c(0x2cf)]-_0x338fde['score'];if(_0xa8e347!==0x0)return _0xa8e347;return(_0x11df25[_0x33d52c(0x5c7)][_0x33d52c(0x2fd)]||0x0)-(_0x338fde['badges'][_0x33d52c(0x2fd)]||0x0);});const _0x3d3e2b=_0x214732=>{const _0x5f422e=_0x3f2151;if(!_0x214732||_0x214732['length']===0x0)return'';const _0x10a185={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x214732[_0x5f422e(0xbf)](_0x987a63=>_0x10a185[_0x987a63]||'')[_0x5f422e(0x13f)]('')+_0x5f422e(0x5bd);},_0x4cdade=_0x2a9e32['slice'](0x3),_0x1b452b=_0x4cdade[_0x3f2151(0x2fd)]>0x0?_0x3f2151(0x7b7)+_0x4cdade[_0x3f2151(0xbf)]((_0x549270,_0x3d6281)=>{const _0x826ae2=_0x3f2151,_0x1ad45e=_0x549270[_0x826ae2(0x3d9)]?_0x826ae2(0x546):'';return _0x826ae2(0x28f)+(_0x3d6281+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x549270[_0x826ae2(0x1f8)]+_0x826ae2(0x48f)+_0x549270[_0x826ae2(0x2cf)]+_0x826ae2(0x3be)+_0x1ad45e+_0x826ae2(0x2d0);})[_0x3f2151(0x13f)]('')+_0x3f2151(0x785):'',_0x2ad4db=_0x3f2151(0x561)+(_0x2a9e32[0x1]?_0x3f2151(0x856)+_0x2a9e32[0x1][_0x3f2151(0x1f8)]+_0x3f2151(0x8d8)+_0x3d3e2b(_0x2a9e32[0x1][_0x3f2151(0x5c7)])+_0x3f2151(0x569)+_0x2a9e32[0x1][_0x3f2151(0x2cf)]+_0x3f2151(0x3be)+(_0x2a9e32[0x1]['hasPerfectScoreBonus']?_0x3f2151(0x774):'')+_0x3f2151(0x89a):_0x3f2151(0x288))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2a9e32[0x0]?_0x3f2151(0x3b1)+_0x2a9e32[0x0][_0x3f2151(0x1f8)]+_0x3f2151(0x8d8)+_0x3d3e2b(_0x2a9e32[0x0][_0x3f2151(0x5c7)])+_0x3f2151(0x84d)+_0x2a9e32[0x0][_0x3f2151(0x2cf)]+'\x20คะแนน\x20'+(_0x2a9e32[0x0][_0x3f2151(0x3d9)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x3f2151(0x854):'<div\x20class=\x22flex-1\x22></div>')+_0x3f2151(0x506)+(_0x2a9e32[0x2]?_0x3f2151(0x579)+_0x2a9e32[0x2]['name']+_0x3f2151(0x8d8)+_0x3d3e2b(_0x2a9e32[0x2][_0x3f2151(0x5c7)])+_0x3f2151(0x569)+_0x2a9e32[0x2][_0x3f2151(0x2cf)]+_0x3f2151(0x3be)+(_0x2a9e32[0x2][_0x3f2151(0x3d9)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x3f2151(0x1a6):_0x3f2151(0x288))+_0x3f2151(0x2db)+_0x1b452b+_0x3f2151(0x790)+(currentMode===_0x3f2151(0x912)?_0x3f2151(0x371):_0x3f2151(0x3bb))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView[_0x3f2151(0x65a)]=_0x2ad4db,currentMode==='admin'&&document[_0x3f2151(0x5a0)](_0x3f2151(0x36f))[_0x3f2151(0x86b)](_0x3f2151(0x12e),async()=>{const _0x2034c7=_0x3f2151;let _0x469b10;_0x4a18e6===_0x2034c7(0x273)?_0x469b10=doc(db,_0x2034c7(0x4e3)+appId+'/public/data/syncGames',currentLiveGameId):_0x469b10=doc(db,_0x2034c7(0x4e3)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x469b10);});}function renderSyncSummaryView(_0x3b5ba8,_0x487c8d,_0x13ed84){const _0x3048d1=_0x56a724,_0x18f70f=Object[_0x3048d1(0x7d9)](_0x3b5ba8[_0x3048d1(0x125)]||{}),_0x29e808=_0x487c8d[_0x3048d1(0x45e)]||_0x3b5ba8['shuffledQuiz'][_0x3048d1(0x2f1)];let _0x210f3a=[];_0x29e808===_0x3048d1(0x142)?_0x210f3a=['ใช่\x20/\x20ถูก','ไม่ใช่\x20/\x20ผิด']:_0x210f3a=_0x487c8d['options']||[];const _0x217c78=new Array(_0x210f3a[_0x3048d1(0x2fd)])[_0x3048d1(0x991)](0x0),_0x318351={};_0x210f3a[_0x3048d1(0x573)]((_0x2abd5e,_0x1103ff)=>{_0x318351[_0x1103ff]=[];}),Object[_0x3048d1(0xe4)](_0x3b5ba8[_0x3048d1(0x125)]||{})[_0x3048d1(0x573)](([_0xe5e9e7,_0x5b2d32])=>{const _0x5a8c46=_0x3048d1;if(_0x5b2d32[_0x5a8c46(0x992)]!==_0x5a8c46(0x7ba)&&_0x5b2d32[_0x5a8c46(0x925)]!==undefined&&_0x5b2d32['lastAnswerIndex']!==null){const _0x1c8c96=_0x5b2d32[_0x5a8c46(0x925)];_0x318351[_0x1c8c96]!==undefined&&(_0x318351[_0x1c8c96][_0x5a8c46(0x6ae)](_0xe5e9e7),_0x217c78[_0x1c8c96]++);}});let _0x9bd6b4='';_0x13ed84?_0x9bd6b4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x9bd6b4=_0x3048d1(0x669);const _0x1011be=_0x3048d1(0x74b)+_0x487c8d[_0x3048d1(0x417)]+_0x3048d1(0x6c3)+_0x217c78[_0x3048d1(0xbf)]((_0x5aeac7,_0x2dd12b)=>{const _0x114683=_0x3048d1,_0x992b7a=_0x318351[_0x2dd12b][_0x114683(0x2fd)]>0x0?_0x318351[_0x2dd12b][_0x114683(0x13f)](',\x20'):_0x114683(0x811),_0x403ef8=_0x114683(0x41b);return _0x114683(0x86)+_0x5aeac7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x403ef8+_0x114683(0x847)+_0x2dd12b+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x210f3a[_0x2dd12b]+_0x114683(0x3f6)+_0x2dd12b+_0x114683(0x103)+_0x992b7a+_0x114683(0x8f9);})[_0x3048d1(0x13f)]('')+_0x3048d1(0x71a)+_0x9bd6b4+_0x3048d1(0x6d0);liveGameView[_0x3048d1(0x65a)]=_0x1011be;if(window[_0x3048d1(0x7d2)])MathJax[_0x3048d1(0x66b)]();_0x13ed84&&(document[_0x3048d1(0x5a0)](_0x3048d1(0x14f))[_0x3048d1(0x86b)]('click',async()=>{const _0xf69a47=_0x3048d1,_0x445b3d=doc(db,_0xf69a47(0x4e3)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x445b3d,{'status':_0xf69a47(0x8e9)});}),document[_0x3048d1(0x5a0)]('open-sync-scratchpad-btn')['onclick']=()=>{openScratchpad(_0x487c8d,_0x210f3a);});}async function handleShowStudentRankings(){const _0x27b315=_0x56a724,_0x4c511d=document['querySelector'](_0x27b315(0x3e2));_0x4c511d&&(_0x4c511d[_0x27b315(0x65a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x471eeb=document[_0x27b315(0x4aa)](_0x27b315(0x6d7));_0x471eeb&&(_0x471eeb[_0x27b315(0x65a)]=_0x27b315(0x9e));const _0x502ae6=document[_0x27b315(0x5a0)](_0x27b315(0x96d));_0x502ae6[_0x27b315(0x20d)][_0x27b315(0x1cf)]('hidden'),document[_0x27b315(0x5a0)](_0x27b315(0x6c5))[_0x27b315(0x756)]=()=>_0x502ae6[_0x27b315(0x20d)][_0x27b315(0x8cb)](_0x27b315(0x5cf));const _0x47940e=document[_0x27b315(0x5a0)](_0x27b315(0x58f)),_0x6d4071=document[_0x27b315(0x5a0)](_0x27b315(0x244)),_0x37a857=document['getElementById']('student-quiz-leaderboard-content'),_0x497109=document[_0x27b315(0x5a0)]('student-project-leaderboard-content');_0x47940e[_0x27b315(0x756)]=()=>{const _0x2cb596=_0x27b315;_0x47940e[_0x2cb596(0x20d)][_0x2cb596(0x8cb)](_0x2cb596(0x742)),_0x6d4071[_0x2cb596(0x20d)][_0x2cb596(0x1cf)](_0x2cb596(0x742)),_0x37a857[_0x2cb596(0x20d)][_0x2cb596(0x1cf)](_0x2cb596(0x5cf)),_0x497109[_0x2cb596(0x20d)][_0x2cb596(0x8cb)](_0x2cb596(0x5cf));},_0x6d4071[_0x27b315(0x756)]=()=>{const _0x5eadc4=_0x27b315;_0x6d4071[_0x5eadc4(0x20d)][_0x5eadc4(0x8cb)](_0x5eadc4(0x742)),_0x47940e[_0x5eadc4(0x20d)]['remove'](_0x5eadc4(0x742)),_0x497109[_0x5eadc4(0x20d)][_0x5eadc4(0x1cf)](_0x5eadc4(0x5cf)),_0x37a857[_0x5eadc4(0x20d)][_0x5eadc4(0x8cb)]('hidden');};try{const _0x5c3b0d=collection(db,'artifacts/'+appId+_0x27b315(0x395)+currentQuizData['id']+_0x27b315(0x874)),_0x7788a5=await getDocs(_0x5c3b0d),_0x3ff33f=_0x7788a5['docs']['map'](_0x1fe397=>_0x1fe397[_0x27b315(0x2fb)]());renderQuizLeaderboard(_0x3ff33f,currentQuizData,_0x27b315(0x8c4));const _0x3f7fd8=collection(db,_0x27b315(0x4e3)+appId+_0x27b315(0x1d4)+currentQuizData['projectId']+_0x27b315(0x7f1)),_0x11af49=await getDocs(_0x3f7fd8),_0x23c1f0=_0x11af49[_0x27b315(0x465)][_0x27b315(0xbf)](_0x11c5ae=>_0x11c5ae[_0x27b315(0x2fb)]());renderLeaderboard(_0x23c1f0,_0x27b315(0x1ab));}catch(_0x184c0c){console[_0x27b315(0x33a)](_0x27b315(0x972),_0x184c0c),showMessage(_0x27b315(0x591));}}async function handleSaveToBank(_0x829733){const _0x3d5602=_0x56a724,_0x540aee=_0x829733[_0x3d5602(0x3cb)],_0x4eeb2b=_0x540aee[_0x3d5602(0x513)]['index'],_0x1bec55=currentQuizData[_0x3d5602(0x528)][_0x4eeb2b];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x1f46b8={..._0x1bec55,'originalTopic':currentQuizData[_0x3d5602(0x58e)],'savedAt':serverTimestamp()},_0x376f2e=collection(db,_0x3d5602(0x4e3)+appId+_0x3d5602(0xfa)+userId+_0x3d5602(0x942));await addDoc(_0x376f2e,_0x1f46b8),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x540aee[_0x3d5602(0x20d)]['remove'](_0x3d5602(0x2b3)),_0x540aee[_0x3d5602(0x20d)][_0x3d5602(0x8cb)](_0x3d5602(0x473)),_0x540aee[_0x3d5602(0x2df)]=!![];}catch(_0x2e8382){console[_0x3d5602(0x33a)]('Error\x20saving\x20to\x20question\x20bank:',_0x2e8382),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x1bd43c=_0x56a724;if(!userId)return;const _0x2089ab=collection(db,_0x1bd43c(0x4e3)+appId+_0x1bd43c(0x73b)),_0x463a30=query(_0x2089ab,where(_0x1bd43c(0x321),'==',!![]));onSnapshot(_0x463a30,_0x164289=>{const _0x73aac=_0x1bd43c;starredQuizzes=_0x164289['docs'][_0x73aac(0xbf)](_0x163e4a=>({'id':_0x163e4a['id'],..._0x163e4a[_0x73aac(0x2fb)]()})),currentProjectId===_0x73aac(0x46d)?renderQuizzes():renderProjects();},_0xccfbeb=>{const _0x1392f2=_0x1bd43c;console[_0x1392f2(0x33a)](_0x1392f2(0x175),_0xccfbeb);});}function exportQuizAsWorksheetPDF(){const _0x1b86f4=_0x56a724;if(!currentQuizData||!currentQuizData[_0x1b86f4(0x528)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x367109=currentQuizData,_0x38ce95=window['open']('','_blank'),_0x6216c8=_0x395e6e=>String[_0x1b86f4(0x307)](0x41+_0x395e6e),_0x53adbe=_0x1b86f4(0x970)+_0x367109[_0x1b86f4(0x58e)]+_0x1b86f4(0x779)+_0x367109['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x367109['questions']['map']((_0x334012,_0x2f12d2)=>{const _0x2adcf0=_0x1b86f4;let _0x7137e8='';const _0x2f208f=_0x334012[_0x2adcf0(0x45e)]||_0x367109[_0x2adcf0(0x2f1)];switch(_0x2f208f){case _0x2adcf0(0x420):case'fill_in_with_choices':_0x7137e8=_0x2adcf0(0x6c8)+_0x334012[_0x2adcf0(0xbd)][_0x2adcf0(0xbf)]((_0x49cb75,_0x5433e8)=>_0x2adcf0(0x190)+_0x6216c8(_0x5433e8)+'.\x20'+_0x49cb75+_0x2adcf0(0x376))[_0x2adcf0(0x13f)](_0x2adcf0(0x146))+_0x2adcf0(0x5bd);break;case'true_false':_0x7137e8=_0x2adcf0(0x979);break;default:_0x7137e8=_0x2adcf0(0x1d7);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x2f12d2+0x1)+_0x2adcf0(0x366)+(_0x334012['stem']||_0x334012[_0x2adcf0(0x417)])+_0x2adcf0(0x9c0)+(_0x334012['imageCode']?_0x2adcf0(0xd0)+_0x334012[_0x2adcf0(0x223)]+'</div>':'')+_0x2adcf0(0x233)+_0x7137e8+_0x2adcf0(0x492);})['join']('')+_0x1b86f4(0x587);_0x38ce95[_0x1b86f4(0x2a0)][_0x1b86f4(0x5ed)](_0x53adbe),_0x38ce95[_0x1b86f4(0x2a0)][_0x1b86f4(0x5ff)](),_0x38ce95[_0x1b86f4(0x8f8)]=function(){setTimeout(()=>{const _0x17d488=_0x3686;_0x38ce95[_0x17d488(0x622)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x3941b1=_0x56a724;if(!currentQuizData||!currentQuizData[_0x3941b1(0x528)]){showMessage(_0x3941b1(0x5e4));return;}const _0x2eb259=currentQuizData,_0x9844c5=window[_0x3941b1(0x70)]('','_blank'),_0x4a6c22=_0x406f13=>String[_0x3941b1(0x307)](0x41+_0x406f13),_0x1d81ff=_0x3941b1(0x7d0)+_0x2eb259[_0x3941b1(0x58e)]+_0x3941b1(0x1c4)+_0x2eb259[_0x3941b1(0x528)]['map']((_0x534c68,_0x2115e9)=>{const _0x46a3a8=_0x3941b1;let _0x6822b8='';const _0x3dde4a=_0x534c68[_0x46a3a8(0x45e)]||_0x2eb259['quizType'];switch(_0x3dde4a){case _0x46a3a8(0x420):case'fill_in_with_choices':_0x6822b8='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x534c68[_0x46a3a8(0xbd)][_0x46a3a8(0xbf)]((_0x482c49,_0x3866b)=>_0x46a3a8(0x5fb)+_0x4a6c22(_0x3866b)+'.\x20'+_0x482c49+_0x46a3a8(0x8c7))[_0x46a3a8(0x13f)](_0x46a3a8(0x146))+_0x46a3a8(0x9b1);break;case _0x46a3a8(0x142):_0x6822b8=_0x46a3a8(0x18a);break;default:_0x6822b8='';break;}return _0x46a3a8(0x22d)+_0x2eb259['topic']+_0x46a3a8(0x9c9)+(_0x2115e9+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x534c68['stem']||_0x534c68['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x534c68[_0x46a3a8(0x223)]?_0x46a3a8(0xa7)+_0x534c68[_0x46a3a8(0x223)]+_0x46a3a8(0x5bd):'')+_0x46a3a8(0x233)+_0x6822b8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+_0x3941b1(0x33d);_0x9844c5[_0x3941b1(0x2a0)]['write'](_0x1d81ff),_0x9844c5[_0x3941b1(0x2a0)][_0x3941b1(0x5ff)](),_0x9844c5['onload']=function(){setTimeout(()=>{const _0x12fbc1=_0x3686;_0x9844c5[_0x12fbc1(0x622)]();},0x5dc);};}async function handleToggleStarQuiz(_0x74f387){const _0x4267c1=_0x56a724,_0x5eb364=doc(db,_0x4267c1(0x4e3)+appId+'/public/data/quizzes',_0x74f387);try{const _0x28e665=await getDoc(_0x5eb364);if(_0x28e665['exists']()){const _0x529d56=_0x28e665[_0x4267c1(0x2fb)]()[_0x4267c1(0x321)]||![];await updateDoc(_0x5eb364,{'isStarred':!_0x529d56});}}catch(_0x506fbc){console[_0x4267c1(0x33a)](_0x4267c1(0x1e9),_0x506fbc),showMessage(_0x4267c1(0x4c3));}}async function displayQuestionBank(){const _0x60e25d=_0x56a724,_0x1e3f6f=document[_0x60e25d(0x5a0)](_0x60e25d(0x2b7));_0x1e3f6f['innerHTML']=_0x60e25d(0x2f0);try{const _0x235f9b=collection(db,_0x60e25d(0x4e3)+appId+_0x60e25d(0xfa)+userId+_0x60e25d(0x942)),_0x4f9b97=query(_0x235f9b),_0x94cdd2=await getDocs(_0x4f9b97);if(_0x94cdd2[_0x60e25d(0x3f7)]){_0x1e3f6f['innerHTML']=_0x60e25d(0x9dd);return;}let _0x17d31a=_0x94cdd2[_0x60e25d(0x465)]['map'](_0x49b859=>{const _0x39679d=_0x60e25d,_0xa680d5=_0x49b859[_0x39679d(0x2fb)](),_0x4be41d=_0x49b859['id'];return _0x39679d(0x9b8)+JSON[_0x39679d(0x5f1)](_0xa680d5)+_0x39679d(0x89b)+(_0xa680d5[_0x39679d(0x417)]||_0xa680d5[_0x39679d(0x55a)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0xa680d5[_0x39679d(0x6e0)]+_0x39679d(0x59e);})[_0x60e25d(0x13f)]('');_0x1e3f6f[_0x60e25d(0x65a)]=_0x60e25d(0x1e2)+_0x17d31a+_0x60e25d(0x80c),document['getElementById'](_0x60e25d(0x707))[_0x60e25d(0x86b)]('click',createQuizFromBank);}catch(_0x4fdeff){console[_0x60e25d(0x33a)](_0x60e25d(0xc9),_0x4fdeff),_0x1e3f6f['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}function showAdminLiveQuestionView(_0x562599,_0x35039e,_0x44286d){const _0x53cfd9=_0x56a724,_0x2989ba=_0x562599[_0x53cfd9(0x45e)]||currentQuizData[_0x53cfd9(0x2f1)];let _0x45122e='';if(_0x2989ba===_0x53cfd9(0x420)||_0x2989ba===_0x53cfd9(0x142)){const _0x2090c4=_0x2989ba===_0x53cfd9(0x142)?['ใช่',_0x53cfd9(0x8b1)]:_0x562599[_0x53cfd9(0xbd)],_0x2e566b=_0x2989ba==='true_false'?_0x562599[_0x53cfd9(0xc1)]?0x0:0x1:_0x562599[_0x53cfd9(0x3d2)];_0x45122e=_0x2090c4[_0x53cfd9(0xbf)]((_0x2ce07a,_0x5acd91)=>_0x53cfd9(0x4bd)+(_0x5acd91===_0x2e566b)+_0x53cfd9(0x8ec)+_0x2ce07a+_0x53cfd9(0x2f5))['join']('');}else{if(_0x2989ba==='matching_item'){const _0x36d963=_0x562599['allResponses']||[];_0x45122e=_0x36d963[_0x53cfd9(0xbf)](_0x1094e1=>_0x53cfd9(0x4bd)+(_0x1094e1===_0x562599[_0x53cfd9(0x93f)])+_0x53cfd9(0x8ec)+_0x1094e1+_0x53cfd9(0x2f5))['join']('');}}const _0x204cb6=_0x562599[_0x53cfd9(0x55a)]||_0x562599[_0x53cfd9(0x417)],_0x1abc5b=_0x53cfd9(0x57c)+(_0x35039e+0x1)+_0x53cfd9(0x747)+_0x44286d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x204cb6+_0x53cfd9(0x8ba)+_0x45122e+_0x53cfd9(0x6ca);liveGameView[_0x53cfd9(0x65a)]=_0x1abc5b,window['MathJax']&&MathJax[_0x53cfd9(0x66b)]&&MathJax[_0x53cfd9(0x66b)]([liveGameView]),document[_0x53cfd9(0x5a0)]('reveal-answer-btn')[_0x53cfd9(0x86b)](_0x53cfd9(0x12e),()=>revealAnswerForAdmin(_0x35039e,_0x44286d)),document[_0x53cfd9(0x5a0)]('end-game-btn')[_0x53cfd9(0x86b)](_0x53cfd9(0x12e),async()=>{const _0x1cc927=_0x53cfd9;showConfirmation(_0x1cc927(0x454),async()=>{const _0x1d8667=_0x1cc927,_0x1dd3ce=doc(db,_0x1d8667(0x4e3)+appId+_0x1d8667(0x826),currentLiveGameId);await updateDoc(_0x1dd3ce,{'status':'podium'});});}),document[_0x53cfd9(0x5a0)](_0x53cfd9(0x68b))['addEventListener'](_0x53cfd9(0x12e),()=>{const _0x408d79=_0x53cfd9;document[_0x408d79(0x5a0)](_0x408d79(0x6b9))[_0x408d79(0x20d)][_0x408d79(0x964)](_0x408d79(0x5cf));});}function showStudentLiveQuestionView(_0x19ce2c,_0xe52df5,_0x2bd533){const _0x381ef6=_0x56a724,_0xd5d38a=_0x19ce2c[_0x381ef6(0x45e)]||currentQuizData[_0x381ef6(0x2f1)];let _0x555ec4='';if(_0xd5d38a===_0x381ef6(0x420)||_0xd5d38a===_0x381ef6(0x142)){const _0x207034=_0xd5d38a===_0x381ef6(0x142)?[_0x381ef6(0x9b7),_0x381ef6(0x8b1)]:_0x19ce2c[_0x381ef6(0xbd)];_0x555ec4=_0x207034[_0x381ef6(0xbf)]((_0x3560b3,_0x43df4f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x43df4f+_0x381ef6(0x4dd)+_0x3560b3+_0x381ef6(0x346))['join']('');}else{if(_0xd5d38a===_0x381ef6(0x85b)){const _0x4c016b=_0x19ce2c['allResponses']||[];_0x555ec4=_0x4c016b[_0x381ef6(0xbf)]((_0xd97362,_0x39130c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x39130c+_0x381ef6(0x4dd)+_0xd97362+_0x381ef6(0x346))[_0x381ef6(0x13f)]('');}else _0xd5d38a==='short_answer'&&(_0x555ec4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x48eda6=_0x19ce2c[_0x381ef6(0x55a)]||_0x19ce2c[_0x381ef6(0x417)],_0x3ca302='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0xe52df5+0x1)+_0x381ef6(0x747)+_0x2bd533+_0x381ef6(0x1f0)+_0x48eda6+_0x381ef6(0x145)+_0x555ec4+_0x381ef6(0x79a);liveGameView[_0x381ef6(0x65a)]=_0x3ca302;window[_0x381ef6(0x7d2)]&&MathJax[_0x381ef6(0x66b)]&&MathJax['typesetPromise']([liveGameView]);const _0x335236=document[_0x381ef6(0x5a0)](_0x381ef6(0x8e6));_0x335236&&_0x335236[_0x381ef6(0x86b)](_0x381ef6(0x12e),()=>{const _0x525674=_0x381ef6,_0x1aaff0=document[_0x525674(0x5a0)](_0x525674(0x8a4))[_0x525674(0x8f1)];handleLiveAnswer(_0x1aaff0,_0x19ce2c);}),document[_0x381ef6(0x5a0)]('live-options-container')['addEventListener'](_0x381ef6(0x12e),_0x24959f=>{const _0xe7b48e=_0x381ef6,_0x40b1fb=_0x24959f['target'][_0xe7b48e(0x5dd)](_0xe7b48e(0x728));if(_0x40b1fb){const _0x2f71d3=parseInt(_0x40b1fb[_0xe7b48e(0x513)][_0xe7b48e(0x982)]);handleLiveAnswer(_0x2f71d3,_0x19ce2c);}});}async function handleLiveAnswer(_0x493ca2,_0x41b114){const _0x36136b=_0x56a724;document[_0x36136b(0x81b)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x36136b(0x573)](_0x103369=>_0x103369[_0x36136b(0x2df)]=!![]);const _0x2717d2=_0x41b114['questionType']||currentQuizData[_0x36136b(0x2f1)];let _0x5f49cf=![],_0x56b6af=_0x493ca2;if(_0x2717d2===_0x36136b(0x341)){const _0x223435=(_0x493ca2||'')[_0x36136b(0x239)]();_0x5f49cf=await gradeShortAnswer(_0x223435,_0x41b114);}else{if(_0x2717d2==='multiple_choice')_0x5f49cf=_0x493ca2===_0x41b114[_0x36136b(0x3d2)];else{if(_0x2717d2==='true_false'){const _0x1ac057=_0x41b114[_0x36136b(0xc1)];_0x5f49cf=_0x493ca2===0x0&&_0x1ac057||_0x493ca2===0x1&&!_0x1ac057;}else{if(_0x2717d2===_0x36136b(0x85b)){const _0xefc3a5=_0x41b114[_0x36136b(0x5fd)][_0x493ca2];_0x5f49cf=_0xefc3a5===_0x41b114[_0x36136b(0x93f)],_0x56b6af=_0xefc3a5;}}}}const _0x2675bc=doc(db,_0x36136b(0x4e3)+appId+'/public/data/liveGames',currentLiveGameId),_0x3d3503={};_0x3d3503['players.'+currentStudentName+_0x36136b(0x23b)]=!![],_0x3d3503[_0x36136b(0x270)+currentStudentName+'.lastAnswerCorrect']=_0x5f49cf,_0x3d3503['players.'+currentStudentName+'.lastAnswerIndex']=_0x2717d2==='short_answer'||_0x2717d2==='matching_item'?null:_0x493ca2,_0x3d3503[_0x36136b(0x270)+currentStudentName+_0x36136b(0xb8)]=_0x56b6af,_0x3d3503['players.'+currentStudentName+_0x36136b(0x242)]=serverTimestamp(),_0x3d3503[_0x36136b(0x270)+currentStudentName+'.isScored']=![],await updateDoc(_0x2675bc,_0x3d3503),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x474fd6,_0x146bd3){const _0x207523=_0x56a724,_0x5eb38d=Object[_0x207523(0x7d9)](_0x474fd6[_0x207523(0x125)]||{}),_0x4f1bc2=_0x146bd3['questionType']||currentQuizData[_0x207523(0x2f1)],_0x49b94d=_0x4f1bc2==='true_false'?[_0x207523(0x9b7),_0x207523(0x8b1)]:_0x146bd3[_0x207523(0xbd)]||_0x146bd3[_0x207523(0x5fd)]||[],_0x41961b={},_0x86a91f=new Array(_0x49b94d[_0x207523(0x2fd)])[_0x207523(0x991)](0x0);_0x49b94d[_0x207523(0x573)]((_0x131a81,_0x1fa273)=>{_0x41961b[_0x1fa273]=[];}),Object[_0x207523(0xe4)](_0x474fd6[_0x207523(0x125)]||{})[_0x207523(0x573)](([_0x38e823,_0x468758])=>{const _0x22ad61=_0x207523;if(_0x468758[_0x22ad61(0x992)]==='active'&&_0x468758[_0x22ad61(0x925)]!==undefined){const _0x261a76=_0x468758['lastAnswerIndex'];_0x41961b[_0x261a76]&&(_0x41961b[_0x261a76][_0x22ad61(0x6ae)](_0x38e823),_0x86a91f[_0x261a76]++);}});const _0x22a6fb=Math[_0x207523(0x505)](..._0x86a91f,0x1),_0x43caf8=_0x207523(0x4d7)+(_0x146bd3['stem']||_0x146bd3[_0x207523(0x417)])+_0x207523(0x77f)+_0x86a91f[_0x207523(0xbf)]((_0x32167e,_0x984fcb)=>{const _0x1f1133=_0x207523,_0x2f0490=_0x41961b[_0x984fcb][_0x1f1133(0x2fd)]>0x0?_0x41961b[_0x984fcb]['join'](',\x20'):_0x1f1133(0x811);let _0xd67e5e=![];if(_0x4f1bc2===_0x1f1133(0x420))_0xd67e5e=_0x984fcb===_0x146bd3[_0x1f1133(0x3d2)];else{if(_0x4f1bc2===_0x1f1133(0x142)){const _0x2b363e=_0x146bd3[_0x1f1133(0xc1)];_0xd67e5e=_0x2b363e&&_0x984fcb===0x0||!_0x2b363e&&_0x984fcb===0x1;}else _0x4f1bc2===_0x1f1133(0x85b)&&(_0xd67e5e=_0x49b94d[_0x984fcb]===_0x146bd3[_0x1f1133(0x93f)]);}const _0x3d73d1=_0xd67e5e?_0x1f1133(0x93e):_0x1f1133(0x286);return _0x1f1133(0xe2)+_0x32167e+_0x1f1133(0x411)+_0x3d73d1+_0x1f1133(0x847)+_0x984fcb+_0x1f1133(0x94c)+_0x49b94d[_0x984fcb]+_0x1f1133(0x3f6)+_0x984fcb+_0x1f1133(0x103)+_0x2f0490+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x207523(0x13f)]('')+_0x207523(0x39a);liveGameView[_0x207523(0x65a)]=_0x43caf8;if(window['MathJax'])MathJax['typesetPromise']();document[_0x207523(0x5a0)](_0x207523(0x955))[_0x207523(0x86b)]('click',async()=>{const _0x1fc960=_0x207523,_0x1f85fd=doc(db,_0x1fc960(0x4e3)+appId+_0x1fc960(0x826),currentLiveGameId);await updateDoc(_0x1f85fd,{'questionStatus':_0x1fc960(0x931)});}),document['getElementById']('open-scratchpad-btn')[_0x207523(0x86b)]('click',()=>{openScratchpad(_0x146bd3,_0x49b94d);});}function showPlayerSummaryView(_0x310327,_0x39a095){const _0x16f5de=_0x56a724,_0x1478ca=Object[_0x16f5de(0x7d9)](_0x310327[_0x16f5de(0x125)]||{}),_0x2554b2=_0x310327[_0x16f5de(0x125)][_0x39a095],_0x283f54=_0x1478ca[_0x16f5de(0x5e1)](_0x261350=>_0x261350[_0x16f5de(0x992)]===_0x16f5de(0x742))[_0x16f5de(0x905)]((_0x47ce8d,_0x58bea0)=>_0x58bea0[_0x16f5de(0x2cf)]-_0x47ce8d[_0x16f5de(0x2cf)]),_0x598bb7=_0x283f54[_0x16f5de(0x6bb)](_0x24606e=>_0x24606e===_0x2554b2)+0x1,_0x1ee908=_0x2554b2[_0x16f5de(0x26b)]?_0x16f5de(0x1cb):_0x16f5de(0x11a),_0x55f659=_0x2554b2[_0x16f5de(0x26b)]?_0x16f5de(0x197):'bg-red-500',_0x10d0e4=_0x2554b2[_0x16f5de(0x92f)]||0x0,_0x30027e=_0x16f5de(0x5d2),_0x303ba7=_0x16f5de(0x2bb)+_0x30027e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x55f659+_0x16f5de(0x5a5)+_0x1ee908+_0x16f5de(0x62c)+_0x10d0e4+_0x16f5de(0x1dc)+(_0x598bb7>0x0?_0x598bb7:'-')+_0x16f5de(0x2d5);liveGameView[_0x16f5de(0x65a)]=_0x303ba7;}function createQuizFromBank(){const _0x4f3431=_0x56a724,_0x41bdbb=document[_0x4f3431(0x81b)](_0x4f3431(0x838));if(_0x41bdbb[_0x4f3431(0x2fd)]===0x0){showMessage(_0x4f3431(0x82f));return;}const _0x4eb429=[];_0x41bdbb['forEach'](_0x3f5c2d=>{const _0x65cdd9=_0x4f3431;_0x4eb429[_0x65cdd9(0x6ae)](JSON['parse'](_0x3f5c2d[_0x65cdd9(0x8f1)]));});const _0x23e4ad={'topic':_0x4f3431(0x9da),'questions':_0x4eb429};displayGeneratedQuiz(_0x23e4ad);}function showAdminLobbyView(_0x4418cd,_0x570e9a){const _0x1d5a75=_0x56a724;showView(_0x1d5a75(0x873));const _0x1bfaf8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x570e9a+_0x1d5a75(0x17e)+_0x4418cd+_0x1d5a75(0x641);liveGameView[_0x1d5a75(0x65a)]=_0x1bfaf8,document[_0x1d5a75(0x5a0)](_0x1d5a75(0x685))['addEventListener'](_0x1d5a75(0x12e),async()=>{const _0x4cfd79=_0x1d5a75;if(!currentQuizData||!currentQuizData[_0x4cfd79(0x528)]||currentQuizData[_0x4cfd79(0x528)][_0x4cfd79(0x2fd)]===0x0){showMessage(_0x4cfd79(0x97d));return;}try{const _0x3c92cc=doc(db,_0x4cfd79(0x4e3)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x3c92cc,{'status':_0x4cfd79(0x697),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x76969d=currentQuizData['questions'][0x0],_0xea1d3d=currentQuizData[_0x4cfd79(0x528)][_0x4cfd79(0x2fd)];showAdminLiveQuestionView(_0x76969d,0x0,_0xea1d3d);}catch(_0x37ff09){console[_0x4cfd79(0x33a)]('Error\x20starting\x20game:',_0x37ff09),showMessage(_0x4cfd79(0x261));}});}async function openGlobalLiveModal(){const _0x13ca3a=_0x56a724;if(allQuizzesGlobal['length']===0x0){const _0x59d6f8=await getDocs(collection(db,'artifacts/'+appId+_0x13ca3a(0x73b)));allQuizzesGlobal=_0x59d6f8[_0x13ca3a(0x465)]['map'](_0x4445bc=>({'id':_0x4445bc['id'],..._0x4445bc[_0x13ca3a(0x2fb)]()}));}renderGlobalQuizList(''),document[_0x13ca3a(0x5a0)]('global-live-game-modal')[_0x13ca3a(0x20d)][_0x13ca3a(0x1cf)](_0x13ca3a(0x5cf));}async function openQuizBankModal(){const _0x5ad124=_0x56a724;if(allQuizzesGlobal[_0x5ad124(0x2fd)]===0x0){const _0x2f92b1=await getDocs(collection(db,'artifacts/'+appId+_0x5ad124(0x73b)));allQuizzesGlobal=_0x2f92b1['docs'][_0x5ad124(0xbf)](_0x2cc6d0=>({'id':_0x2cc6d0['id'],..._0x2cc6d0[_0x5ad124(0x2fb)]()}));}renderQuizBankList(''),document['getElementById'](_0x5ad124(0x8f3))[_0x5ad124(0x20d)][_0x5ad124(0x1cf)](_0x5ad124(0x5cf));}function renderQuizBankList(_0x2fa1fb=''){const _0x39bcf4=_0x56a724,_0x2cc096=document[_0x39bcf4(0x5a0)]('bank-quiz-list'),_0x51244c=_0x2fa1fb[_0x39bcf4(0x527)]()[_0x39bcf4(0x3fa)](),_0x34c6f7=allQuizzesGlobal[_0x39bcf4(0xbf)](_0x472430=>({..._0x472430,'projectName':allProjects[_0x39bcf4(0xcc)](_0x502cf5=>_0x502cf5['id']===_0x472430[_0x39bcf4(0x6ab)])?.[_0x39bcf4(0x319)]||_0x39bcf4(0x3e5)}))['filter'](_0xc35ce3=>(_0xc35ce3[_0x39bcf4(0x58e)]||'')['toLowerCase']()['includes'](_0x51244c)||(_0xc35ce3[_0x39bcf4(0x319)]||'')['toLowerCase']()[_0x39bcf4(0x5c1)](_0x51244c)||_0xc35ce3['id'][_0x39bcf4(0x239)]()[_0x39bcf4(0x5c1)](_0x51244c));document[_0x39bcf4(0x5a0)](_0x39bcf4(0x72b))[_0x39bcf4(0x83f)]='('+_0x34c6f7[_0x39bcf4(0x2fd)]+_0x39bcf4(0xda),_0x2cc096[_0x39bcf4(0x65a)]=_0x34c6f7[_0x39bcf4(0x2fd)]?_0x34c6f7[_0x39bcf4(0xbf)](_0x16b147=>_0x39bcf4(0x775)+_0x16b147['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x16b147['topic']||_0x39bcf4(0x2d4))+_0x39bcf4(0x1c0)+(_0x16b147['questions']?.[_0x39bcf4(0x2fd)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x16b147['projectName']+_0x39bcf4(0x634)+_0x16b147['id']+_0x39bcf4(0x8af)+_0x16b147['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x16b147['id']+_0x39bcf4(0xc4)+_0x16b147['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x16b147['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x16b147['id']+_0x39bcf4(0x5ae)+_0x16b147['id']+_0x39bcf4(0x4a0)+_0x16b147[_0x39bcf4(0x58e)]+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x39bcf4(0x13f)](''):_0x39bcf4(0x302),_0x2cc096[_0x39bcf4(0x81b)]('.quiz-bank-item')[_0x39bcf4(0x573)](_0x298ede=>{const _0x3d6bf9=_0x39bcf4;_0x298ede[_0x3d6bf9(0x86b)]('click',()=>{const _0x455d4e=_0x3d6bf9,_0xbda632=_0x298ede[_0x455d4e(0x513)]['id'];document[_0x455d4e(0x5a0)]('quiz-bank-modal')[_0x455d4e(0x20d)][_0x455d4e(0x8cb)](_0x455d4e(0x5cf)),showQuizDetailView(_0xbda632);});}),_0x2cc096[_0x39bcf4(0x81b)](_0x39bcf4(0x467))[_0x39bcf4(0x573)](_0x1dc88a=>{const _0x49fd42=_0x39bcf4;_0x1dc88a[_0x49fd42(0x86b)]('click',_0x3d2235=>{const _0x4f561b=_0x49fd42;_0x3d2235[_0x4f561b(0x84a)]();const _0x5a528b=_0x1dc88a[_0x4f561b(0x513)]['id'],_0x17e9e6=allQuizzesGlobal[_0x4f561b(0xcc)](_0x34e98e=>_0x34e98e['id']===_0x5a528b);_0x17e9e6?(currentQuizData=_0x17e9e6,document[_0x4f561b(0x5a0)](_0x4f561b(0x8f3))[_0x4f561b(0x20d)][_0x4f561b(0x8cb)](_0x4f561b(0x5cf)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x2cc096[_0x39bcf4(0x81b)](_0x39bcf4(0x466))['forEach'](_0x15afce=>{const _0x397d88=_0x39bcf4;_0x15afce[_0x397d88(0x86b)](_0x397d88(0x12e),_0x46b59b=>{const _0x5d5763=_0x397d88;_0x46b59b[_0x5d5763(0x84a)]();const _0x1d9e17=_0x15afce[_0x5d5763(0x513)]['id'],_0x596d20=allQuizzesGlobal[_0x5d5763(0xcc)](_0x1c80a4=>_0x1c80a4['id']===_0x1d9e17);_0x596d20?(document['getElementById'](_0x5d5763(0x8f3))[_0x5d5763(0x20d)]['add'](_0x5d5763(0x5cf)),handleGenerateParallelFromBank(_0x596d20)):showMessage(_0x5d5763(0x73));});}),_0x2cc096[_0x39bcf4(0x81b)](_0x39bcf4(0x632))[_0x39bcf4(0x573)](_0x1c9acf=>{_0x1c9acf['addEventListener']('click',_0x31500e=>{const _0x557a5c=_0x3686;_0x31500e[_0x557a5c(0x84a)]();const _0x178e4c=_0x1c9acf[_0x557a5c(0x513)]['id'],_0x4fde99=allQuizzesGlobal['find'](_0x2fa944=>_0x2fa944['id']===_0x178e4c);_0x4fde99?(document['getElementById'](_0x557a5c(0x8f3))[_0x557a5c(0x20d)][_0x557a5c(0x8cb)]('hidden'),startPresentation(_0x4fde99)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x2cc096['querySelectorAll'](_0x39bcf4(0x80a))[_0x39bcf4(0x573)](_0x4e623d=>{const _0x44b995=_0x39bcf4;_0x4e623d['addEventListener'](_0x44b995(0x12e),_0x5e4b7e=>{const _0x5c2ec5=_0x44b995;_0x5e4b7e[_0x5c2ec5(0x84a)]();const _0xeaed74=_0x4e623d[_0x5c2ec5(0x513)]['id'];document['getElementById']('quiz-bank-modal')[_0x5c2ec5(0x20d)][_0x5c2ec5(0x8cb)](_0x5c2ec5(0x5cf)),handleMoveQuiz(_0xeaed74);});}),_0x2cc096['querySelectorAll'](_0x39bcf4(0x1dd))[_0x39bcf4(0x573)](_0x1fc58d=>{const _0x4ba130=_0x39bcf4;_0x1fc58d['addEventListener'](_0x4ba130(0x12e),_0x3b3c3d=>{const _0x4478fc=_0x4ba130;_0x3b3c3d[_0x4478fc(0x84a)]();const _0x1167da=_0x1fc58d['dataset']['id'];document[_0x4478fc(0x5a0)](_0x4478fc(0x8f3))[_0x4478fc(0x20d)]['add'](_0x4478fc(0x5cf)),handleQuizSettings(_0x1167da);});}),_0x2cc096['querySelectorAll'](_0x39bcf4(0x2c1))[_0x39bcf4(0x573)](_0x5f35d3=>{const _0x3ed48f=_0x39bcf4;_0x5f35d3[_0x3ed48f(0x86b)](_0x3ed48f(0x12e),_0xe22ab5=>{const _0x358c99=_0x3ed48f;_0xe22ab5[_0x358c99(0x84a)]();const _0x49952b=_0x5f35d3[_0x358c99(0x513)]['id'],_0x4938e3=_0x5f35d3[_0x358c99(0x513)]['topic'];showConfirmation(_0x358c99(0x386)+_0x4938e3+_0x358c99(0x4a2),()=>handleDeleteQuiz(_0x49952b));});});}async function handleCompareResults(_0x102d02,_0x133a94){const _0x4cc43a=_0x56a724,_0x1a44b5=document[_0x4cc43a(0x5a0)](_0x4cc43a(0x96e)),_0x12cc82=document[_0x4cc43a(0x5a0)](_0x4cc43a(0xa1)),_0x283c56=document['getElementById'](_0x4cc43a(0x54c));document['getElementById'](_0x4cc43a(0x62d))[_0x4cc43a(0x20d)][_0x4cc43a(0x8cb)](_0x4cc43a(0x742)),document[_0x4cc43a(0x5a0)](_0x4cc43a(0x781))['classList']['remove'](_0x4cc43a(0x742)),_0x12cc82['classList'][_0x4cc43a(0x1cf)](_0x4cc43a(0x5cf)),_0x283c56[_0x4cc43a(0x20d)]['add'](_0x4cc43a(0x5cf)),_0x12cc82[_0x4cc43a(0x65a)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x283c56['innerHTML']='',_0x1a44b5[_0x4cc43a(0x20d)][_0x4cc43a(0x1cf)](_0x4cc43a(0x5cf));try{const _0x38c590=doc(db,_0x4cc43a(0x4e3)+appId+'/public/data/quizzes',_0x102d02),_0x407167=await getDoc(_0x38c590);if(!_0x407167['exists']())throw new Error(_0x4cc43a(0x25d));const _0x5a5ec2=_0x407167[_0x4cc43a(0x2fb)](),_0x29466e=_0x5a5ec2[_0x4cc43a(0x528)][_0x4cc43a(0x2fd)],_0x3da3c6=collection(db,_0x4cc43a(0x4e3)+appId+'/public/data/quizzes/'+_0x133a94+'/submissions'),_0x7f5c0a=collection(db,_0x4cc43a(0x4e3)+appId+_0x4cc43a(0x395)+_0x102d02+_0x4cc43a(0x874)),[_0x1a6838,_0x275bac]=await Promise[_0x4cc43a(0x9c4)]([getDocs(_0x3da3c6),getDocs(_0x7f5c0a)]),_0x397e5f=_0x1a6838[_0x4cc43a(0x465)]['map'](_0x440477=>_0x440477[_0x4cc43a(0x2fb)]()),_0x26b82a=_0x275bac['docs'][_0x4cc43a(0xbf)](_0xc501e1=>_0xc501e1[_0x4cc43a(0x2fb)]()),_0x1b50fb=_0x397e5f[_0x4cc43a(0xbf)](_0x5612d5=>_0x5612d5[_0x4cc43a(0x613)]),_0x1bab95=_0x26b82a[_0x4cc43a(0xbf)](_0x3c5d8c=>_0x3c5d8c[_0x4cc43a(0x613)]),_0x16de43=calculateMeanAndStdDev(_0x1b50fb),_0x257ec4=calculateMeanAndStdDev(_0x1bab95),_0xf687c=_0x16de43[_0x4cc43a(0xd2)],_0xa7b930=_0x257ec4[_0x4cc43a(0xd2)],_0x39bb8e=_0xa7b930-_0xf687c;let _0x24aa24=_0x4cc43a(0x5e6)+_0xf687c[_0x4cc43a(0x2c0)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0xa7b930[_0x4cc43a(0x2c0)](0x2)+_0x4cc43a(0x816)+(_0x39bb8e>=0x0?_0x4cc43a(0x209):'bg-red-100')+_0x4cc43a(0x902)+(_0x39bb8e>=0x0?_0x4cc43a(0x3fd):'text-red-800')+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x39bb8e>=0x0?_0x4cc43a(0x857):_0x4cc43a(0x93b))+'\x22>'+(_0x39bb8e>=0x0?'+':'')+_0x39bb8e['toFixed'](0x2)+_0x4cc43a(0x76c);_0x12cc82['innerHTML']=_0x24aa24;const _0x299653=document[_0x4cc43a(0x5a0)]('comparison-chart')[_0x4cc43a(0x400)]('2d');if(chartInstances[_0x4cc43a(0x1f4)])chartInstances[_0x4cc43a(0x1f4)][_0x4cc43a(0x20c)]();chartInstances['comparison']=new Chart(_0x299653,{'type':'bar','data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':'ก่อนเรียน','data':[_0xf687c],'backgroundColor':_0x4cc43a(0x300)},{'label':_0x4cc43a(0x3fb),'data':[_0xa7b930],'backgroundColor':_0x4cc43a(0x121)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x29466e}}}});const _0x2cff2f=currentProjectData[_0x4cc43a(0x75c)]||[],_0x54ba3c=_0x2cff2f[_0x4cc43a(0xbf)](_0x44c895=>{const _0x16c47f=_0x4cc43a,_0xbdb774=_0x397e5f[_0x16c47f(0xcc)](_0x5beca1=>_0x5beca1[_0x16c47f(0x6d5)]===_0x44c895),_0x2e5855=_0x26b82a[_0x16c47f(0xcc)](_0x14b55a=>_0x14b55a['studentName']===_0x44c895),_0x3193de=_0xbdb774?_0xbdb774[_0x16c47f(0x613)]:null,_0x35b8a5=_0x2e5855?_0x2e5855[_0x16c47f(0x613)]:null,_0x1ab870=_0x3193de!==null&&_0x35b8a5!==null?_0x35b8a5-_0x3193de:null,_0x13ed9a=_0x3193de!==null?calculateZScore(_0x3193de,_0x16de43[_0x16c47f(0xd2)],_0x16de43[_0x16c47f(0x4f0)]):null,_0xf3de99=_0x35b8a5!==null?calculateZScore(_0x35b8a5,_0x257ec4[_0x16c47f(0xd2)],_0x257ec4['stdDev']):null,_0x336f65=_0x13ed9a!==null?calculateTScore(_0x13ed9a):null,_0x5dad7c=_0xf3de99!==null?calculateTScore(_0xf3de99):null,_0x253379=_0x336f65!==null&&_0x5dad7c!==null?_0x5dad7c-_0x336f65:null;return{'name':_0x44c895,'preScore':_0x3193de,'postScore':_0x35b8a5,'gain':_0x1ab870,'preTScore':_0x336f65,'postTScore':_0x5dad7c,'tGain':_0x253379};});renderIndividualComparisonTable(_0x54ba3c,_0x283c56);}catch(_0xc2446b){console[_0x4cc43a(0x33a)]('Error\x20comparing\x20results:',_0xc2446b),_0x12cc82[_0x4cc43a(0x65a)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x595b1f,_0x5c7c88){const _0x243983=_0x56a724,_0x1b3dd2=_0x595b1f>=_0x5c7c88/0x2,_0x163332=_0x1b3dd2?_0x243983(0x627):_0x243983(0x53e),_0x38374d=_0x1b3dd2?_0x243983(0x2ff):_0x243983(0x884),_0x29a376=_0x1b3dd2?'text-green-800':_0x243983(0x444),_0x357d49=_0x1b3dd2?'ทำคะแนนได้เกินครึ่ง':_0x243983(0x403),_0x32b198=_0x1b3dd2?_0x243983(0x886):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x4434f5=_0x243983(0x85d)+_0x163332+_0x243983(0x84b)+_0x38374d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x29a376+'\x20mb-2\x22>'+_0x357d49+_0x243983(0x398)+_0x32b198+_0x243983(0x869);studentResultArea['innerHTML']=_0x4434f5,studentResultArea[_0x243983(0x20d)][_0x243983(0x1cf)]('hidden'),studentQuizArea[_0x243983(0x20d)][_0x243983(0x8cb)](_0x243983(0x5cf)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x1b3dd2});}function displayPerfectScoreResult(_0x39b4a9,_0x3aa46b){const _0x36ddd5=_0x56a724,_0x2720a7=_0x39b4a9===_0x3aa46b,_0x4e86c3=_0x2720a7?'bg-yellow-100':_0x36ddd5(0x94d),_0x5031ed=_0x2720a7?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x36ddd5(0xb2),_0x2a4cc8=_0x2720a7?_0x36ddd5(0x457):_0x36ddd5(0x9d6),_0x535003=_0x2720a7?'คะแนนเต็ม!':'ยังไม่เต็มนะ',_0x1d8692=_0x2720a7?_0x36ddd5(0x4e6):_0x36ddd5(0x999);let _0x58f9fa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x4e86c3+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5031ed+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x2a4cc8+_0x36ddd5(0x2cd)+_0x535003+_0x36ddd5(0x398)+_0x1d8692+_0x36ddd5(0x869);studentResultArea[_0x36ddd5(0x65a)]=_0x58f9fa,studentResultArea['classList']['remove'](_0x36ddd5(0x5cf)),studentQuizArea[_0x36ddd5(0x20d)][_0x36ddd5(0x8cb)](_0x36ddd5(0x5cf)),setupResultScreenBackButton({'showRankings':![],'score':_0x39b4a9,'totalQuestions':_0x3aa46b});}function renderIndividualComparisonTable(_0x4bdd8e,_0x5efe80){const _0x4d11ac=_0x56a724;_0x4bdd8e[_0x4d11ac(0x905)]((_0x49c88e,_0x4d119f)=>(_0x4d119f[_0x4d11ac(0x743)]??-Infinity)-(_0x49c88e[_0x4d11ac(0x743)]??-Infinity));let _0x7f3296='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x4bdd8e[_0x4d11ac(0x2fd)]===0x0?_0x7f3296+=_0x4d11ac(0x7f2):_0x4bdd8e[_0x4d11ac(0x573)]((_0x55929f,_0x100b20)=>{const _0x3d460f=_0x4d11ac;let _0x4ec90a='-',_0x80ab76='';if(_0x55929f['gain']!==null){const _0x5807b6=_0x55929f[_0x3d460f(0x818)]>0x0?_0x3d460f(0x473):_0x55929f[_0x3d460f(0x818)]<0x0?_0x3d460f(0x8c2):_0x3d460f(0x311),_0x583f12=_0x55929f['gain']>0x0?'+':'';_0x4ec90a=_0x3d460f(0x5a2)+_0x5807b6+'\x22>'+_0x583f12+_0x55929f[_0x3d460f(0x818)]+'</span>';if(_0x55929f['gain']>0x0)_0x80ab76='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x55929f['gain']<0x0?_0x80ab76=_0x3d460f(0x70e):_0x80ab76=_0x3d460f(0x65f);}let _0x370ef2='-';if(_0x55929f['tGain']!==null){const _0xdf2ec5=_0x55929f[_0x3d460f(0x743)]>0x0?_0x3d460f(0x473):_0x55929f[_0x3d460f(0x743)]<0x0?'text-red-600':_0x3d460f(0x311),_0x1013cc=_0x55929f[_0x3d460f(0x743)]>0x0?'+':'';_0x370ef2=_0x3d460f(0x5a2)+_0xdf2ec5+'\x22>'+_0x1013cc+_0x55929f[_0x3d460f(0x743)][_0x3d460f(0x2c0)](0x2)+_0x3d460f(0x8c7);}_0x7f3296+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x100b20+0x1)+_0x3d460f(0x680)+_0x55929f[_0x3d460f(0x1f8)]+_0x3d460f(0x7ec)+(_0x55929f[_0x3d460f(0x8ff)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x55929f[_0x3d460f(0x4ba)]??'-')+_0x3d460f(0x7ec)+_0x4ec90a+_0x3d460f(0x4c2)+_0x80ab76+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x55929f[_0x3d460f(0x8ef)]?.['toFixed'](0x2)??'-')+_0x3d460f(0x89f)+(_0x55929f[_0x3d460f(0x4c5)]?.[_0x3d460f(0x2c0)](0x2)??'-')+_0x3d460f(0x7ec)+_0x370ef2+_0x3d460f(0x76d);}),_0x7f3296+=_0x4d11ac(0x30c),_0x5efe80[_0x4d11ac(0x65a)]=_0x7f3296;}function handleRenameQuiz(_0x3be0d6,_0x40e3e5){const _0x391c9f=_0x56a724;actionTargetId=_0x3be0d6,document['getElementById']('rename-quiz-input')[_0x391c9f(0x8f1)]=_0x40e3e5,renameQuizModal[_0x391c9f(0x20d)][_0x391c9f(0x1cf)](_0x391c9f(0x5cf));}function setupComparisonModalTabs(){const _0x1a96b3=_0x56a724,_0x1911c2=document[_0x1a96b3(0x5a0)](_0x1a96b3(0x62d)),_0x17478c=document['getElementById'](_0x1a96b3(0x781)),_0x537063=document[_0x1a96b3(0x5a0)]('comparison-overall-content'),_0x420f7d=document[_0x1a96b3(0x5a0)](_0x1a96b3(0x54c));_0x1911c2['addEventListener'](_0x1a96b3(0x12e),()=>{const _0x382c4e=_0x1a96b3;_0x1911c2[_0x382c4e(0x20d)][_0x382c4e(0x8cb)](_0x382c4e(0x742)),_0x17478c[_0x382c4e(0x20d)][_0x382c4e(0x1cf)](_0x382c4e(0x742)),_0x537063[_0x382c4e(0x20d)][_0x382c4e(0x1cf)](_0x382c4e(0x5cf)),_0x420f7d[_0x382c4e(0x20d)][_0x382c4e(0x8cb)](_0x382c4e(0x5cf));}),_0x17478c[_0x1a96b3(0x86b)](_0x1a96b3(0x12e),()=>{const _0x1782e1=_0x1a96b3;_0x17478c['classList'][_0x1782e1(0x8cb)](_0x1782e1(0x742)),_0x1911c2[_0x1782e1(0x20d)]['remove']('active'),_0x420f7d[_0x1782e1(0x20d)][_0x1782e1(0x1cf)](_0x1782e1(0x5cf)),_0x537063[_0x1782e1(0x20d)][_0x1782e1(0x8cb)](_0x1782e1(0x5cf));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x1aafe3=''){const _0x4716f2=_0x56a724,_0x4b46a2=document[_0x4716f2(0x5a0)](_0x4716f2(0x9be)),_0x46e129=_0x1aafe3[_0x4716f2(0x527)]()['trim'](),_0x3ecf48=allQuizzesGlobal[_0x4716f2(0xbf)](_0x20ff8b=>({..._0x20ff8b,'projectName':allProjects[_0x4716f2(0xcc)](_0x57945a=>_0x57945a['id']===_0x20ff8b[_0x4716f2(0x6ab)])?.[_0x4716f2(0x319)]||_0x20ff8b[_0x4716f2(0x6ab)]}))[_0x4716f2(0x5e1)](_0x51e52e=>(_0x51e52e[_0x4716f2(0x58e)]||'')[_0x4716f2(0x527)]()[_0x4716f2(0x5c1)](_0x46e129)||(_0x51e52e[_0x4716f2(0x319)]||'')['toLowerCase']()['includes'](_0x46e129));document[_0x4716f2(0x5a0)](_0x4716f2(0x277))[_0x4716f2(0x83f)]='('+_0x3ecf48[_0x4716f2(0x2fd)]+_0x4716f2(0xda),_0x4b46a2[_0x4716f2(0x65a)]=_0x3ecf48['length']?_0x3ecf48[_0x4716f2(0xbf)](_0x49d0f1=>_0x4716f2(0x647)+_0x49d0f1['id']+_0x4716f2(0x4a6)+(_0x49d0f1[_0x4716f2(0x58e)]||'(ไม่มีชื่อ)')+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x49d0f1[_0x4716f2(0x528)]?.[_0x4716f2(0x2fd)]||0x0)+_0x4716f2(0x160)+_0x49d0f1['projectName']+_0x4716f2(0x881))[_0x4716f2(0x13f)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x4716f2(0x5a0)](_0x4716f2(0x63f))['disabled']=!![],_0x4b46a2[_0x4716f2(0x81b)](_0x4716f2(0x117))[_0x4716f2(0x573)](_0x45ba2e=>{const _0x53cea4=_0x4716f2;_0x45ba2e[_0x53cea4(0x86b)](_0x53cea4(0x12e),()=>{const _0x175b7f=_0x53cea4;selectedGlobalQuizId=_0x45ba2e[_0x175b7f(0x513)]['id'],_0x4b46a2[_0x175b7f(0x81b)]('button')[_0x175b7f(0x573)](_0x2db13e=>_0x2db13e[_0x175b7f(0x20d)]['remove']('bg-purple-50','ring-2',_0x175b7f(0x9aa))),_0x45ba2e[_0x175b7f(0x20d)]['add'](_0x175b7f(0x8b5),_0x175b7f(0x598),_0x175b7f(0x9aa)),document[_0x175b7f(0x5a0)](_0x175b7f(0x63f))[_0x175b7f(0x2df)]=![];});});}function listenForLiveGameUpdates(){const _0x187fa9=_0x56a724;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x205f23=doc(db,_0x187fa9(0x4e3)+appId+_0x187fa9(0x826),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x205f23,_0x14b9d9=>{const _0x3b025c=_0x187fa9;if(!_0x14b9d9[_0x3b025c(0x14e)]()){showMessage(_0x3b025c(0x33c)),showView(currentMode);return;}const _0x5147d7=_0x14b9d9[_0x3b025c(0x2fb)]();_0x5147d7[_0x3b025c(0x303)]&&(currentQuizData=_0x5147d7[_0x3b025c(0x303)]);!currentQuizData&&_0x5147d7[_0x3b025c(0x9a5)]&&((async()=>{const _0x2a69cf=_0x3b025c;try{const _0x250560=doc(db,_0x2a69cf(0x4e3)+appId+_0x2a69cf(0x73b),_0x5147d7[_0x2a69cf(0x9a5)]),_0x28cd4c=await getDoc(_0x250560);_0x28cd4c['exists']()&&(currentQuizData={'id':_0x28cd4c['id'],..._0x28cd4c[_0x2a69cf(0x2fb)]()});}catch(_0x56a476){console[_0x2a69cf(0x33a)](_0x2a69cf(0x1a8),_0x56a476);}})());switch(_0x5147d7[_0x3b025c(0x992)]){case'lobby':if(currentMode==='admin'){const _0x5505c2=_0x5147d7[_0x3b025c(0x125)]?Object['entries'](_0x5147d7[_0x3b025c(0x125)]):[],_0x246392=_0x5505c2['filter'](([_0x2d38c9,_0x3e3568])=>_0x3e3568['status']==='active'),_0x36971d=document[_0x3b025c(0x5a0)]('player-count');if(_0x36971d)_0x36971d[_0x3b025c(0x83f)]=_0x246392[_0x3b025c(0x2fd)];const _0x425477=document[_0x3b025c(0x5a0)](_0x3b025c(0x735));_0x425477&&(_0x425477['innerHTML']=_0x246392[_0x3b025c(0xbf)](([_0x158ec9,_0x53a414])=>_0x3b025c(0x4bc)+_0x158ec9+_0x3b025c(0x9b6)+_0x158ec9+_0x3b025c(0x514))['join'](''));const _0x1589c6=document[_0x3b025c(0x5a0)]('start-game-btn');_0x1589c6&&(_0x1589c6['disabled']=_0x246392['length']===0x0);}else showView('live-game'),liveGameView['innerHTML']=_0x3b025c(0x94e)+currentStudentName+_0x3b025c(0x324);break;case _0x3b025c(0x697):const _0x376617=_0x5147d7['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x3b025c(0x528)][_0x376617]){const _0x212fc9=currentQuizData[_0x3b025c(0x528)][_0x376617],_0x17a0ef=_0x5147d7[_0x3b025c(0x3cd)]||_0x3b025c(0x4a3);switch(_0x17a0ef){case _0x3b025c(0x8c3):currentMode===_0x3b025c(0x912)?showAdminSummaryView(_0x5147d7,_0x212fc9):showPlayerSummaryView(_0x5147d7,currentStudentName);break;case'leaderboard':currentMode===_0x3b025c(0x912)&&showTop5LeaderboardView(_0x5147d7);break;case _0x3b025c(0x4a3):default:if(currentMode===_0x3b025c(0x912)){const _0x1b3238=writeBatch(db);let _0x210860=![];Object[_0x3b025c(0xe4)](_0x5147d7['players'])[_0x3b025c(0x573)](([_0x719c5e,_0x52bfe3])=>{const _0x49c138=_0x3b025c;if(_0x52bfe3[_0x49c138(0x992)]===_0x49c138(0x742)&&_0x52bfe3[_0x49c138(0x12d)]&&!_0x52bfe3[_0x49c138(0x86d)]){_0x210860=!![];const _0x1d375e=_0x52bfe3[_0x49c138(0x12d)][_0x49c138(0x943)]()-_0x5147d7[_0x49c138(0x900)][_0x49c138(0x943)]();let _0x1bf535=0x0;if(_0x52bfe3[_0x49c138(0x26b)]){const _0x106951=0x3e8,_0x363ca2=0x1f4,_0x5cffb8=0x4e20;let _0x5577dd=_0x1d375e/_0x5cffb8;if(_0x5577dd>0x1)_0x5577dd=0x1;const _0x1cf138=Math['round'](_0x5577dd*_0x363ca2);_0x1bf535=_0x106951-_0x1cf138;}const _0x400f4f=doc(db,'artifacts/'+appId+_0x49c138(0x826),currentLiveGameId);_0x1b3238['update'](_0x400f4f,{[_0x49c138(0x270)+_0x719c5e+_0x49c138(0x384)]:increment(_0x1bf535),[_0x49c138(0x270)+_0x719c5e+_0x49c138(0x694)]:_0x1bf535,[_0x49c138(0x270)+_0x719c5e+_0x49c138(0x22b)]:!![]});}});_0x210860&&_0x1b3238[_0x3b025c(0x8c6)]()[_0x3b025c(0x1e5)](_0x59eac0=>console['error'](_0x3b025c(0x16e),_0x59eac0));lastRenderedAdminQuestionIndex!==_0x376617&&(showAdminLiveQuestionView(_0x212fc9,_0x376617,currentQuizData[_0x3b025c(0x528)][_0x3b025c(0x2fd)]),lastRenderedAdminQuestionIndex=_0x376617);const _0x1ca97f=_0x5147d7['players']||{},_0x461b13=Object[_0x3b025c(0x7d9)](_0x1ca97f)[_0x3b025c(0x5e1)](_0xb03dd0=>_0xb03dd0[_0x3b025c(0x992)]===_0x3b025c(0x742)),_0xe0f54f=_0x461b13['length'],_0xa07a76=_0x461b13[_0x3b025c(0x5e1)](_0x40356d=>_0x40356d['answeredCurrentQuestion']===!![])[_0x3b025c(0x2fd)],_0x51b86a=document['getElementById'](_0x3b025c(0x5fc));if(_0x51b86a)_0x51b86a[_0x3b025c(0x83f)]=_0xa07a76+'/'+_0xe0f54f;const _0xfc0c5c=document[_0x3b025c(0x5a0)]('live-player-list');if(_0xfc0c5c){let _0x1856c4=Object[_0x3b025c(0xe4)](_0x1ca97f)['filter'](([_0x5a97a1,_0x1ce788])=>_0x1ce788[_0x3b025c(0x992)]===_0x3b025c(0x742))[_0x3b025c(0xbf)](([_0x5224b8,_0x1acf48])=>{const _0x2a919d=_0x3b025c,_0x2c593d=_0x1acf48['answeredCurrentQuestion']===!![],_0x4954a9=_0x2c593d?_0x2a919d(0x197):_0x2a919d(0x62a),_0x3c3a76=_0x2c593d?_0x2a919d(0x4ff):_0x2a919d(0x1d9);return _0x2a919d(0x70d)+_0x4954a9+_0x2a919d(0x658)+_0x3c3a76+_0x2a919d(0x152)+_0x5224b8+_0x2a919d(0x7c5)+_0x5224b8+_0x2a919d(0x282);})[_0x3b025c(0x13f)]('');_0xfc0c5c[_0x3b025c(0x65a)]=_0x1856c4||_0x3b025c(0x42d);}_0xe0f54f>0x0&&_0xa07a76===_0xe0f54f&&revealAnswerForAdmin(_0x376617,currentQuizData['questions'][_0x3b025c(0x2fd)]);}else{const _0x391fd0=_0x5147d7[_0x3b025c(0x125)][currentStudentName];_0x391fd0&&!_0x391fd0[_0x3b025c(0x281)]&&showStudentLiveQuestionView(_0x212fc9,_0x376617,currentQuizData[_0x3b025c(0x528)][_0x3b025c(0x2fd)]);}break;}}break;case _0x3b025c(0x93c):showPodiumView(_0x5147d7[_0x3b025c(0x125)],_0x3b025c(0x13a));break;}});}async function handleKickPlayer(_0x4100a5){const _0x51c859=_0x56a724;if(!currentLiveGameId||!_0x4100a5)return;const _0x2b294b=doc(db,'artifacts/'+appId+_0x51c859(0x826),currentLiveGameId),_0x2c7934={};_0x2c7934[_0x51c859(0x270)+_0x4100a5+'.status']=_0x51c859(0x7ba);try{await updateDoc(_0x2b294b,_0x2c7934);}catch(_0x395d18){console[_0x51c859(0x33a)](_0x51c859(0x91)+_0x4100a5+':',_0x395d18),showMessage(_0x51c859(0x571));}}async function authenticateUser(){const _0x4620c1=_0x56a724;try{typeof __initial_auth_token!==_0x4620c1(0x6eb)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x2f47ff){console['error']('Authentication\x20failed:',_0x2f47ff),showMessage(_0x4620c1(0x259));}}function showView(_0x56134e){const _0x2b20f4=_0x56a724;adminView[_0x2b20f4(0x20d)]['add']('hidden'),studentView[_0x2b20f4(0x20d)][_0x2b20f4(0x8cb)]('hidden'),projectDashboardView[_0x2b20f4(0x20d)][_0x2b20f4(0x8cb)](_0x2b20f4(0x5cf)),projectDetailView['classList'][_0x2b20f4(0x8cb)](_0x2b20f4(0x5cf)),quizResultsView[_0x2b20f4(0x20d)][_0x2b20f4(0x8cb)]('hidden'),liveGameView['classList'][_0x2b20f4(0x8cb)](_0x2b20f4(0x5cf)),studentInitialView[_0x2b20f4(0x20d)][_0x2b20f4(0x8cb)]('hidden'),studentJoinGameView[_0x2b20f4(0x20d)][_0x2b20f4(0x8cb)](_0x2b20f4(0x5cf)),studentNameSelectionView[_0x2b20f4(0x20d)][_0x2b20f4(0x8cb)](_0x2b20f4(0x5cf)),studentQuizArea[_0x2b20f4(0x20d)][_0x2b20f4(0x8cb)](_0x2b20f4(0x5cf)),studentResultArea[_0x2b20f4(0x20d)]['add'](_0x2b20f4(0x5cf)),studentReadingArea['classList'][_0x2b20f4(0x8cb)](_0x2b20f4(0x5cf));const _0x47cfab=document[_0x2b20f4(0x5a0)](_0x2b20f4(0x4e0)),_0x944292=document[_0x2b20f4(0x5a0)](_0x2b20f4(0x7b6));if(_0x47cfab)_0x47cfab['classList'][_0x2b20f4(0x8cb)](_0x2b20f4(0x5cf));if(_0x944292)_0x944292[_0x2b20f4(0x20d)]['add'](_0x2b20f4(0x5cf));switch(_0x56134e){case _0x2b20f4(0x994):adminView[_0x2b20f4(0x20d)][_0x2b20f4(0x1cf)]('hidden'),projectDashboardView['classList'][_0x2b20f4(0x1cf)]('hidden');break;case _0x2b20f4(0x9c5):adminView[_0x2b20f4(0x20d)][_0x2b20f4(0x1cf)](_0x2b20f4(0x5cf)),projectDetailView[_0x2b20f4(0x20d)][_0x2b20f4(0x1cf)](_0x2b20f4(0x5cf));break;case _0x2b20f4(0x3de):adminView[_0x2b20f4(0x20d)][_0x2b20f4(0x1cf)](_0x2b20f4(0x5cf)),quizResultsView[_0x2b20f4(0x20d)][_0x2b20f4(0x1cf)](_0x2b20f4(0x5cf));break;case'student':studentView[_0x2b20f4(0x20d)][_0x2b20f4(0x1cf)](_0x2b20f4(0x5cf)),studentInitialView['classList'][_0x2b20f4(0x1cf)](_0x2b20f4(0x5cf));break;case _0x2b20f4(0x873):liveGameView[_0x2b20f4(0x20d)]['remove']('hidden');break;case _0x2b20f4(0x66c):studentView[_0x2b20f4(0x20d)][_0x2b20f4(0x1cf)]('hidden');if(_0x47cfab)_0x47cfab['classList'][_0x2b20f4(0x1cf)]('hidden');break;case _0x2b20f4(0x1f3):studentView['classList']['remove']('hidden');if(_0x944292)_0x944292[_0x2b20f4(0x20d)]['remove'](_0x2b20f4(0x5cf));break;default:studentView[_0x2b20f4(0x20d)][_0x2b20f4(0x1cf)](_0x2b20f4(0x5cf)),studentInitialView['classList'][_0x2b20f4(0x1cf)](_0x2b20f4(0x5cf));break;}}function showJoinGameView(){const _0x220f47=_0x56a724;studentInitialView[_0x220f47(0x20d)][_0x220f47(0x8cb)](_0x220f47(0x5cf)),studentJoinGameView[_0x220f47(0x20d)][_0x220f47(0x1cf)](_0x220f47(0x5cf));}async function handleSaveVisibilitySettings(){const _0x50e3b=_0x56a724;if(!currentProjectId)return;const _0x56e0de=doc(db,_0x50e3b(0x4e3)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x56e0de,{'settings.showInStudentDashboard':document[_0x50e3b(0x5a0)](_0x50e3b(0x6e4))[_0x50e3b(0x71e)],'settings.isPasscodeEnabled':document['getElementById']('enable-passcode-checkbox')[_0x50e3b(0x71e)],'settings.passcode':document[_0x50e3b(0x5a0)](_0x50e3b(0x110))[_0x50e3b(0x8f1)]['trim']()}),showMessage(_0x50e3b(0x791));}catch(_0x159727){console[_0x50e3b(0x33a)]('Error\x20saving\x20visibility\x20settings:',_0x159727),showMessage(_0x50e3b(0x965));}}function setupEventListeners(){const _0x24207a=_0x56a724,_0x4eb418=document[_0x24207a(0x5a0)]('bulk-confidence-scoring-checkbox'),_0x368b5f=document[_0x24207a(0x5a0)](_0x24207a(0x652));_0x4eb418[_0x24207a(0x86b)](_0x24207a(0x3f3),()=>{const _0x532088=_0x24207a;_0x368b5f[_0x532088(0x20d)][_0x532088(0x964)](_0x532088(0x5cf),!_0x4eb418[_0x532088(0x71e)]);});const _0x29167f=document[_0x24207a(0x5a0)](_0x24207a(0x6fe)),_0x1a1b13=document['getElementById'](_0x24207a(0x3e8));_0x29167f[_0x24207a(0x86b)](_0x24207a(0x3f3),()=>{const _0x3569fc=_0x24207a;_0x1a1b13['classList']['toggle'](_0x3569fc(0x5cf),!_0x29167f[_0x3569fc(0x71e)]);});const _0x14e518=document['getElementById']('modal-confidence-scoring-checkbox'),_0xdf8741=document['getElementById']('modal-confidence-mode-container');_0x14e518[_0x24207a(0x86b)](_0x24207a(0x3f3),()=>{const _0x2854d7=_0x24207a;_0xdf8741['classList'][_0x2854d7(0x964)]('hidden',!_0x14e518[_0x2854d7(0x71e)]);});const _0x50687c=document[_0x24207a(0x5a0)](_0x24207a(0x2f7)),_0x496b5c=async _0x2cb260=>{const _0x52ac67=_0x24207a,_0x359dff=document['getElementById'](_0x52ac67(0x2f7)),_0x1fcd24=_0x359dff['dataset'][_0x52ac67(0x758)],_0x322179=document[_0x52ac67(0x5a0)](_0x52ac67(0x651));_0x359dff['classList'][_0x52ac67(0x8cb)]('hidden');if(_0x1fcd24==='timed'){const _0x572692=_0x322179[_0x52ac67(0x8f1)],_0x597def={'answer':_0x572692,'wasConfident':_0x2cb260};proceedToNextQuestion(_0x597def);}else{if(_0x1fcd24===_0x52ac67(0x273)){const _0x35657c=_0x322179[_0x52ac67(0x513)][_0x52ac67(0x736)],_0xb13aa7=JSON['parse'](_0x322179['dataset'][_0x52ac67(0x697)]),_0x204498=JSON[_0x52ac67(0x9cd)](_0x322179['dataset'][_0x52ac67(0x793)]),_0x4081ff=_0x322179['dataset']['playerName'];handleSyncAnswerSubmit(_0x35657c,_0xb13aa7,_0x204498,_0x4081ff,_0x2cb260);}}_0x359dff['dataset']['currentMode']='';};document[_0x24207a(0x5a0)](_0x24207a(0x753))[_0x24207a(0x86b)]('click',()=>_0x496b5c(!![])),document[_0x24207a(0x5a0)](_0x24207a(0x55b))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>_0x496b5c(![])),liveGameView[_0x24207a(0x86b)](_0x24207a(0x12e),_0x13920d=>{const _0x505a9d=_0x24207a,_0x5ade54=_0x13920d['target']['closest'](_0x505a9d(0x741));if(_0x5ade54){const _0x14d3ec=_0x5ade54[_0x505a9d(0x513)][_0x505a9d(0x1ce)];_0x14d3ec&&handleKickPlayerSync(_0x14d3ec);}});const _0x88107a=document[_0x24207a(0x5a0)](_0x24207a(0x23c)),_0x57ce85=document[_0x24207a(0x5a0)](_0x24207a(0x410));_0x57ce85[_0x24207a(0x86b)](_0x24207a(0x12e),()=>{const _0x50111e=_0x24207a;document[_0x50111e(0x5a0)](_0x50111e(0x439))['classList']['add'](_0x50111e(0x5cf));}),_0x88107a['addEventListener'](_0x24207a(0x12e),()=>{const _0x18d97a=_0x24207a,_0x4d34ae=document[_0x18d97a(0x5a0)]('game-start-quiz-id')['value'],_0x433cf5=document['getElementById'](_0x18d97a(0x9b4))['value'],_0x5db06f=document[_0x18d97a(0x5a0)](_0x18d97a(0x23f))['checked'];document[_0x18d97a(0x5a0)](_0x18d97a(0x439))['classList']['add'](_0x18d97a(0x5cf));switch(_0x433cf5){case _0x18d97a(0x13a):handleStartLiveRace(_0x4d34ae,_0x5db06f);break;case'team':handleStartTeamQuiz(_0x4d34ae,_0x5db06f);break;case _0x18d97a(0x6b4):handleStartGroupMode(_0x4d34ae,_0x5db06f);break;case _0x18d97a(0x273):handleStartSyncMode(_0x4d34ae,_0x5db06f);break;}}),document[_0x24207a(0x5a0)](_0x24207a(0x780))[_0x24207a(0x86b)](_0x24207a(0x12e),handleJoinGroupActivity),liveGameView[_0x24207a(0x86b)](_0x24207a(0x12e),_0x42d1e5=>{const _0x4929db=_0x24207a,_0x23857c=_0x42d1e5[_0x4929db(0x6e2)][_0x4929db(0x5dd)]('.summary-bar-item');document[_0x4929db(0x81b)](_0x4929db(0x695))['forEach'](_0x5a9d5f=>{const _0x1237be=_0x4929db;(!_0x23857c||_0x5a9d5f['id']!==_0x23857c[_0x1237be(0x513)][_0x1237be(0x1cc)])&&_0x5a9d5f[_0x1237be(0x20d)]['remove'](_0x1237be(0x17b));});if(!_0x23857c)return;const _0x22ef05=_0x23857c['dataset'][_0x4929db(0x1cc)],_0x4e3c9d=document[_0x4929db(0x5a0)](_0x22ef05);_0x4e3c9d&&_0x4e3c9d[_0x4929db(0x20d)]['toggle'](_0x4929db(0x17b));}),liveGameView[_0x24207a(0x86b)](_0x24207a(0x12e),_0x4bb867=>{const _0x1a6957=_0x24207a;if(_0x4bb867[_0x1a6957(0x6e2)][_0x1a6957(0x20d)][_0x1a6957(0x9e0)](_0x1a6957(0x97c))){const _0x32d443=_0x4bb867['target'][_0x1a6957(0x513)][_0x1a6957(0x1ce)];_0x32d443&&handleKickPlayer(_0x32d443);}}),document[_0x24207a(0x5a0)](_0x24207a(0x5e3))[_0x24207a(0x86b)]('focus',()=>document[_0x24207a(0x5a0)](_0x24207a(0x798))[_0x24207a(0x20d)]['remove'](_0x24207a(0x5cf))),document['getElementById'](_0x24207a(0x798))[_0x24207a(0x86b)](_0x24207a(0x12e),handleSaveProjectName),document['getElementById'](_0x24207a(0x5e3))[_0x24207a(0x86b)]('keydown',_0x58604e=>{const _0x1b2486=_0x24207a;_0x58604e[_0x1b2486(0x8ae)]===_0x1b2486(0x4ef)&&(_0x58604e[_0x1b2486(0x7b0)](),_0x58604e[_0x1b2486(0x6e2)][_0x1b2486(0x472)](),handleSaveProjectName());}),document[_0x24207a(0x5a0)](_0x24207a(0x4ee))['addEventListener'](_0x24207a(0x12e),()=>{const _0x13fecc=_0x24207a;document[_0x13fecc(0x5a0)](_0x13fecc(0x2bf))[_0x13fecc(0x20d)][_0x13fecc(0x1cf)](_0x13fecc(0x5cf));}),document[_0x24207a(0x5a0)]('cancel-bulk-quiz-settings-btn')['addEventListener'](_0x24207a(0x12e),()=>{const _0x45a6c9=_0x24207a;document[_0x45a6c9(0x5a0)](_0x45a6c9(0x2bf))[_0x45a6c9(0x20d)][_0x45a6c9(0x8cb)](_0x45a6c9(0x5cf));}),document['getElementById'](_0x24207a(0x5a6))['addEventListener'](_0x24207a(0x12e),handleBulkUpdateQuizSettings),document[_0x24207a(0x5a0)](_0x24207a(0x8c0))[_0x24207a(0x86b)](_0x24207a(0x12e),handleModeSwitch),document[_0x24207a(0x5a0)](_0x24207a(0x83e))[_0x24207a(0x86b)](_0x24207a(0x12e),handleUpdateOldQuizzes),document['getElementById'](_0x24207a(0x8a7))[_0x24207a(0x86b)](_0x24207a(0x12e),handleResetProjectOrder),document[_0x24207a(0x5a0)](_0x24207a(0x3ae))[_0x24207a(0x86b)](_0x24207a(0x12e),handleSaveVisibilitySettings),document[_0x24207a(0x5a0)](_0x24207a(0x55e))[_0x24207a(0x86b)](_0x24207a(0x12e),handleAddCustomMathTopic),document[_0x24207a(0x5a0)]('select-all-topics-btn')[_0x24207a(0x86b)](_0x24207a(0x12e),handleSelectAllTopics),document['getElementById'](_0x24207a(0x1f6))[_0x24207a(0x86b)]('click',handleDeselectAllTopics),document[_0x24207a(0x5a0)](_0x24207a(0x837))[_0x24207a(0x86b)]('click',()=>{const _0x53d143=_0x24207a;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x53d143(0x994));}),document[_0x24207a(0x5a0)]('back-to-project-btn')['addEventListener']('click',()=>{const _0x27078d=_0x24207a;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x27078d(0x9c5));}),document[_0x24207a(0x5a0)]('back-to-dashboard-from-results-btn')['addEventListener']('click',()=>{const _0x3db0aa=_0x24207a;showView(_0x3db0aa(0x994));}),document['getElementById'](_0x24207a(0x679))['addEventListener'](_0x24207a(0x12e),()=>{const _0x3f69c1=_0x24207a;messageModal[_0x3f69c1(0x20d)][_0x3f69c1(0x8cb)](_0x3f69c1(0x5cf)),typeof modalConfirmAction===_0x3f69c1(0x6bd)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x24207a(0x5a0)](_0x24207a(0x650))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>createProjectModal[_0x24207a(0x20d)]['remove'](_0x24207a(0x5cf))),document[_0x24207a(0x5a0)](_0x24207a(0x96))[_0x24207a(0x86b)]('click',()=>createProjectModal[_0x24207a(0x20d)][_0x24207a(0x8cb)](_0x24207a(0x5cf))),document[_0x24207a(0x5a0)]('cancel-admin-login-btn')[_0x24207a(0x86b)](_0x24207a(0x12e),()=>adminPasswordModal[_0x24207a(0x20d)][_0x24207a(0x8cb)](_0x24207a(0x5cf))),document['getElementById'](_0x24207a(0x335))[_0x24207a(0x86b)]('click',handleAdminLogin),document[_0x24207a(0x5a0)]('admin-password-input')[_0x24207a(0x86b)](_0x24207a(0x901),_0x506b9c=>{const _0x4e09ae=_0x24207a;if(_0x506b9c[_0x4e09ae(0x8ae)]===_0x4e09ae(0x4ef))handleAdminLogin();}),document[_0x24207a(0x5a0)]('cancel-delete-btn')['addEventListener'](_0x24207a(0x12e),()=>{const _0x3f88d0=_0x24207a;confirmationModal[_0x3f88d0(0x20d)]['add'](_0x3f88d0(0x5cf)),confirmAction=null;}),document[_0x24207a(0x5a0)](_0x24207a(0x257))[_0x24207a(0x86b)]('click',()=>{const _0x3c9ce6=_0x24207a;confirmAction&&confirmAction(),confirmationModal['classList'][_0x3c9ce6(0x8cb)]('hidden'),confirmAction=null;}),document[_0x24207a(0x5a0)]('cancel-rename-quiz-btn')[_0x24207a(0x86b)](_0x24207a(0x12e),()=>renameQuizModal['classList'][_0x24207a(0x8cb)](_0x24207a(0x5cf))),document[_0x24207a(0x5a0)](_0x24207a(0x46b))[_0x24207a(0x86b)](_0x24207a(0x12e),confirmRenameQuiz),document[_0x24207a(0x5a0)](_0x24207a(0x453))[_0x24207a(0x86b)]('click',()=>moveQuizModal[_0x24207a(0x20d)]['add'](_0x24207a(0x5cf))),document['getElementById'](_0x24207a(0x516))[_0x24207a(0x86b)](_0x24207a(0x12e),confirmMoveQuiz),document[_0x24207a(0x5a0)](_0x24207a(0x4c7))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>quizSettingsModal[_0x24207a(0x20d)][_0x24207a(0x8cb)](_0x24207a(0x5cf))),document[_0x24207a(0x5a0)]('confirm-quiz-settings-btn')[_0x24207a(0x86b)](_0x24207a(0x12e),confirmQuizSettings),document['getElementById'](_0x24207a(0x589))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>quizStatusModal[_0x24207a(0x20d)][_0x24207a(0x8cb)](_0x24207a(0x5cf))),document[_0x24207a(0x5a0)](_0x24207a(0x7a))[_0x24207a(0x86b)](_0x24207a(0x12e),confirmQuizStatus);const _0x466ec4=document['getElementById']('export-pdf-modal');document['getElementById']('cancel-export-pdf-btn')[_0x24207a(0x86b)](_0x24207a(0x12e),()=>{const _0xca47a9=_0x24207a;_0x466ec4[_0xca47a9(0x20d)][_0xca47a9(0x8cb)](_0xca47a9(0x5cf));}),document[_0x24207a(0x5a0)]('export-compact-pdf-btn')['addEventListener'](_0x24207a(0x12e),async()=>{const _0x19acc0=_0x24207a,_0x56e3c3=allQuizzes[_0x19acc0(0xcc)](_0x3506ad=>_0x3506ad['id']===actionTargetId);_0x56e3c3?(currentQuizData=_0x56e3c3,exportQuizAsWorksheetPDF()):showMessage(_0x19acc0(0x73)),_0x466ec4[_0x19acc0(0x20d)]['add'](_0x19acc0(0x5cf));}),document[_0x24207a(0x5a0)]('export-tutor-pdf-btn')[_0x24207a(0x86b)](_0x24207a(0x12e),async()=>{const _0xc2e7b=_0x24207a,_0x207fdd=allQuizzes[_0xc2e7b(0xcc)](_0x3828c6=>_0x3828c6['id']===actionTargetId);_0x207fdd?(currentQuizData=_0x207fdd,exportQuizAsTutorPDF()):showMessage(_0xc2e7b(0x73)),_0x466ec4[_0xc2e7b(0x20d)][_0xc2e7b(0x8cb)](_0xc2e7b(0x5cf));}),document[_0x24207a(0x5a0)](_0x24207a(0x532))[_0x24207a(0x86b)](_0x24207a(0x12e),openGlobalLiveModal),document['getElementById'](_0x24207a(0x7ae))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>{const _0x1ec564=_0x24207a;document[_0x1ec564(0x5a0)](_0x1ec564(0x723))[_0x1ec564(0x20d)]['add'](_0x1ec564(0x5cf)),selectedGlobalQuizId=null;}),document[_0x24207a(0x5a0)](_0x24207a(0x183))['addEventListener'](_0x24207a(0x70f),_0x4f7db3=>renderGlobalQuizList(_0x4f7db3[_0x24207a(0x6e2)][_0x24207a(0x8f1)])),document['getElementById'](_0x24207a(0x63f))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>{const _0xcf5871=_0x24207a,_0x458078=selectedGlobalQuizId;if(!_0x458078)return;document[_0xcf5871(0x5a0)](_0xcf5871(0x723))[_0xcf5871(0x20d)][_0xcf5871(0x8cb)](_0xcf5871(0x5cf)),handleStartLiveRace(_0x458078);}),document['getElementById'](_0x24207a(0x727))[_0x24207a(0x86b)](_0x24207a(0x70f),renderProjects),document[_0x24207a(0x5a0)](_0x24207a(0x360))[_0x24207a(0x86b)](_0x24207a(0x3f3),async()=>{const _0x1f724a=_0x24207a,_0xfb92aa=document[_0x1f724a(0x5a0)]('project-sort-select')[_0x1f724a(0x8f1)],_0x9926d6=doc(db,_0x1f724a(0x7cf),'dashboardConfig');try{await setDoc(_0x9926d6,{'projectSort':_0xfb92aa},{'merge':!![]});}catch(_0x11db8a){console[_0x1f724a(0x33a)](_0x1f724a(0x221),_0x11db8a),showMessage(_0x1f724a(0x535));}}),document[_0x24207a(0x5a0)](_0x24207a(0x620))[_0x24207a(0x86b)](_0x24207a(0x70f),renderQuizzes),document[_0x24207a(0x5a0)]('grid-view-btn')[_0x24207a(0x86b)]('click',()=>{const _0x2788ba=_0x24207a;globalDashboardSettings[_0x2788ba(0x645)]=_0x2788ba(0x381),saveUserPreference(_0x2788ba(0x645),_0x2788ba(0x381)),renderProjects();}),document[_0x24207a(0x5a0)](_0x24207a(0xfe))['addEventListener'](_0x24207a(0x12e),()=>{const _0x1c46ef=_0x24207a;globalDashboardSettings[_0x1c46ef(0x645)]=_0x1c46ef(0x5a7),saveUserPreference(_0x1c46ef(0x645),_0x1c46ef(0x5a7)),renderProjects();}),manageTab[_0x24207a(0x86b)](_0x24207a(0x12e),()=>switchProjectTab(_0x24207a(0x82b))),resultsTab[_0x24207a(0x86b)]('click',()=>switchProjectTab(_0x24207a(0x8e9))),leaderboardTab[_0x24207a(0x86b)](_0x24207a(0x12e),()=>switchProjectTab('leaderboard')),document[_0x24207a(0x5a0)](_0x24207a(0xff))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>switchQuizDetailTab(_0x24207a(0x2d8))),document['getElementById'](_0x24207a(0x74a))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>switchQuizDetailTab(_0x24207a(0x58b))),document[_0x24207a(0x5a0)](_0x24207a(0x460))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>switchQuizDetailTab(_0x24207a(0x3b2))),document[_0x24207a(0x5a0)](_0x24207a(0x17a))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>switchQuizDetailTab('behavior-log')),document[_0x24207a(0x5a0)](_0x24207a(0x13b))['addEventListener'](_0x24207a(0x12e),handleAnalyzeClass),generateWorksheetBtn[_0x24207a(0x86b)]('click',generateWorksheet);const _0x444eee=document[_0x24207a(0x5a0)](_0x24207a(0x342)),_0x290cd4=document[_0x24207a(0x5a0)]('link-input-area'),_0x177b4e=document['getElementById'](_0x24207a(0x933)),_0xcd718f=document[_0x24207a(0x5a0)](_0x24207a(0x30d)),_0x401e96=document['getElementById']('parallel-test-tab'),_0x33a058=document[_0x24207a(0x5a0)](_0x24207a(0x106));topicTab[_0x24207a(0x86b)](_0x24207a(0x12e),()=>{const _0x2440e8=_0x24207a;topicTab[_0x2440e8(0x20d)][_0x2440e8(0x8cb)](_0x2440e8(0x742)),textTab['classList'][_0x2440e8(0x1cf)](_0x2440e8(0x742)),fileTab[_0x2440e8(0x20d)]['remove'](_0x2440e8(0x742)),worksheetTab[_0x2440e8(0x20d)][_0x2440e8(0x1cf)](_0x2440e8(0x742));if(_0x444eee)_0x444eee[_0x2440e8(0x20d)][_0x2440e8(0x1cf)](_0x2440e8(0x742));if(_0x177b4e)_0x177b4e[_0x2440e8(0x20d)]['remove']('active');if(_0x401e96)_0x401e96[_0x2440e8(0x20d)]['remove']('active');topicInputArea['classList'][_0x2440e8(0x1cf)]('hidden'),textInputArea[_0x2440e8(0x20d)][_0x2440e8(0x8cb)](_0x2440e8(0x5cf)),fileInputArea['classList']['add'](_0x2440e8(0x5cf)),worksheetInputArea[_0x2440e8(0x20d)][_0x2440e8(0x8cb)](_0x2440e8(0x5cf));if(_0x290cd4)_0x290cd4[_0x2440e8(0x20d)]['add'](_0x2440e8(0x5cf));if(_0xcd718f)_0xcd718f['classList'][_0x2440e8(0x8cb)]('hidden');if(_0x33a058)_0x33a058['classList'][_0x2440e8(0x8cb)]('hidden');}),textTab['addEventListener'](_0x24207a(0x12e),()=>{const _0x1aee2c=_0x24207a;textTab[_0x1aee2c(0x20d)]['add'](_0x1aee2c(0x742)),topicTab[_0x1aee2c(0x20d)][_0x1aee2c(0x1cf)](_0x1aee2c(0x742)),fileTab[_0x1aee2c(0x20d)]['remove'](_0x1aee2c(0x742)),worksheetTab[_0x1aee2c(0x20d)][_0x1aee2c(0x1cf)](_0x1aee2c(0x742));if(_0x444eee)_0x444eee['classList'][_0x1aee2c(0x1cf)](_0x1aee2c(0x742));if(_0x177b4e)_0x177b4e[_0x1aee2c(0x20d)]['remove']('active');if(_0x401e96)_0x401e96['classList'][_0x1aee2c(0x1cf)]('active');textInputArea[_0x1aee2c(0x20d)][_0x1aee2c(0x1cf)](_0x1aee2c(0x5cf)),topicInputArea[_0x1aee2c(0x20d)][_0x1aee2c(0x8cb)]('hidden'),fileInputArea['classList'][_0x1aee2c(0x8cb)]('hidden'),worksheetInputArea[_0x1aee2c(0x20d)]['add'](_0x1aee2c(0x5cf));if(_0x290cd4)_0x290cd4[_0x1aee2c(0x20d)][_0x1aee2c(0x8cb)](_0x1aee2c(0x5cf));if(_0xcd718f)_0xcd718f[_0x1aee2c(0x20d)][_0x1aee2c(0x8cb)](_0x1aee2c(0x5cf));if(_0x33a058)_0x33a058['classList']['add'](_0x1aee2c(0x5cf));}),fileTab[_0x24207a(0x86b)](_0x24207a(0x12e),()=>{const _0x84e8d2=_0x24207a;fileTab[_0x84e8d2(0x20d)][_0x84e8d2(0x8cb)](_0x84e8d2(0x742)),topicTab['classList'][_0x84e8d2(0x1cf)](_0x84e8d2(0x742)),textTab[_0x84e8d2(0x20d)][_0x84e8d2(0x1cf)]('active'),worksheetTab[_0x84e8d2(0x20d)][_0x84e8d2(0x1cf)]('active');if(_0x444eee)_0x444eee['classList'][_0x84e8d2(0x1cf)]('active');if(_0x177b4e)_0x177b4e[_0x84e8d2(0x20d)][_0x84e8d2(0x1cf)]('active');if(_0x401e96)_0x401e96[_0x84e8d2(0x20d)][_0x84e8d2(0x1cf)](_0x84e8d2(0x742));fileInputArea[_0x84e8d2(0x20d)][_0x84e8d2(0x1cf)](_0x84e8d2(0x5cf)),topicInputArea[_0x84e8d2(0x20d)][_0x84e8d2(0x8cb)](_0x84e8d2(0x5cf)),textInputArea[_0x84e8d2(0x20d)][_0x84e8d2(0x8cb)](_0x84e8d2(0x5cf)),worksheetInputArea[_0x84e8d2(0x20d)][_0x84e8d2(0x8cb)]('hidden');if(_0x290cd4)_0x290cd4[_0x84e8d2(0x20d)][_0x84e8d2(0x8cb)](_0x84e8d2(0x5cf));if(_0xcd718f)_0xcd718f[_0x84e8d2(0x20d)]['add']('hidden');if(_0x33a058)_0x33a058[_0x84e8d2(0x20d)][_0x84e8d2(0x8cb)](_0x84e8d2(0x5cf));}),worksheetTab['addEventListener'](_0x24207a(0x12e),()=>{const _0xbc89d3=_0x24207a;worksheetTab[_0xbc89d3(0x20d)][_0xbc89d3(0x8cb)](_0xbc89d3(0x742)),topicTab[_0xbc89d3(0x20d)][_0xbc89d3(0x1cf)](_0xbc89d3(0x742)),textTab['classList']['remove'](_0xbc89d3(0x742)),fileTab[_0xbc89d3(0x20d)]['remove']('active');if(_0x444eee)_0x444eee[_0xbc89d3(0x20d)][_0xbc89d3(0x1cf)](_0xbc89d3(0x742));if(_0x177b4e)_0x177b4e[_0xbc89d3(0x20d)]['remove'](_0xbc89d3(0x742));if(_0x401e96)_0x401e96[_0xbc89d3(0x20d)]['remove'](_0xbc89d3(0x742));worksheetInputArea['classList'][_0xbc89d3(0x1cf)](_0xbc89d3(0x5cf)),topicInputArea[_0xbc89d3(0x20d)]['add']('hidden'),textInputArea[_0xbc89d3(0x20d)][_0xbc89d3(0x8cb)](_0xbc89d3(0x5cf)),fileInputArea[_0xbc89d3(0x20d)][_0xbc89d3(0x8cb)]('hidden');if(_0x290cd4)_0x290cd4['classList']['add'](_0xbc89d3(0x5cf));if(_0xcd718f)_0xcd718f[_0xbc89d3(0x20d)][_0xbc89d3(0x8cb)](_0xbc89d3(0x5cf));if(_0x33a058)_0x33a058[_0xbc89d3(0x20d)]['add'](_0xbc89d3(0x5cf));});const _0x529b48=document[_0x24207a(0x5a0)]('bank-tab'),_0x835f0e=document['getElementById'](_0x24207a(0x2b7));_0x529b48&&_0x529b48[_0x24207a(0x86b)](_0x24207a(0x12e),()=>{const _0x26da45=_0x24207a;topicTab['classList'][_0x26da45(0x1cf)](_0x26da45(0x742)),textTab[_0x26da45(0x20d)]['remove'](_0x26da45(0x742)),fileTab['classList']['remove']('active'),worksheetTab[_0x26da45(0x20d)][_0x26da45(0x1cf)](_0x26da45(0x742));if(_0x444eee)_0x444eee[_0x26da45(0x20d)][_0x26da45(0x1cf)](_0x26da45(0x742));if(_0x177b4e)_0x177b4e[_0x26da45(0x20d)]['remove'](_0x26da45(0x742));if(_0x401e96)_0x401e96[_0x26da45(0x20d)][_0x26da45(0x1cf)]('active');_0x529b48[_0x26da45(0x20d)]['add'](_0x26da45(0x742)),topicInputArea['classList'][_0x26da45(0x8cb)](_0x26da45(0x5cf)),textInputArea[_0x26da45(0x20d)][_0x26da45(0x8cb)](_0x26da45(0x5cf)),fileInputArea[_0x26da45(0x20d)]['add'](_0x26da45(0x5cf)),worksheetInputArea['classList'][_0x26da45(0x8cb)](_0x26da45(0x5cf));if(_0x290cd4)_0x290cd4[_0x26da45(0x20d)][_0x26da45(0x8cb)](_0x26da45(0x5cf));if(_0xcd718f)_0xcd718f['classList'][_0x26da45(0x8cb)](_0x26da45(0x5cf));if(_0x33a058)_0x33a058[_0x26da45(0x20d)][_0x26da45(0x8cb)](_0x26da45(0x5cf));_0x835f0e[_0x26da45(0x20d)][_0x26da45(0x1cf)](_0x26da45(0x5cf)),displayQuestionBank();});_0x444eee&&(_0x444eee[_0x24207a(0x86b)]('click',()=>{const _0x14e3c5=_0x24207a;_0x444eee[_0x14e3c5(0x20d)][_0x14e3c5(0x8cb)](_0x14e3c5(0x742)),topicTab[_0x14e3c5(0x20d)][_0x14e3c5(0x1cf)](_0x14e3c5(0x742)),textTab['classList']['remove'](_0x14e3c5(0x742)),fileTab[_0x14e3c5(0x20d)][_0x14e3c5(0x1cf)](_0x14e3c5(0x742)),worksheetTab[_0x14e3c5(0x20d)][_0x14e3c5(0x1cf)](_0x14e3c5(0x742));if(_0x177b4e)_0x177b4e['classList'][_0x14e3c5(0x1cf)](_0x14e3c5(0x742));if(_0x401e96)_0x401e96[_0x14e3c5(0x20d)][_0x14e3c5(0x1cf)](_0x14e3c5(0x742));_0x290cd4[_0x14e3c5(0x20d)][_0x14e3c5(0x1cf)](_0x14e3c5(0x5cf)),topicInputArea[_0x14e3c5(0x20d)][_0x14e3c5(0x8cb)](_0x14e3c5(0x5cf)),textInputArea[_0x14e3c5(0x20d)][_0x14e3c5(0x8cb)](_0x14e3c5(0x5cf)),fileInputArea[_0x14e3c5(0x20d)]['add'](_0x14e3c5(0x5cf)),worksheetInputArea[_0x14e3c5(0x20d)][_0x14e3c5(0x8cb)]('hidden');if(_0xcd718f)_0xcd718f[_0x14e3c5(0x20d)][_0x14e3c5(0x8cb)](_0x14e3c5(0x5cf));if(_0x33a058)_0x33a058['classList'][_0x14e3c5(0x8cb)](_0x14e3c5(0x5cf));}),document[_0x24207a(0x5a0)](_0x24207a(0x2dd))[_0x24207a(0x86b)](_0x24207a(0x12e),handleGenerateFromLink));_0x177b4e&&_0x177b4e[_0x24207a(0x86b)](_0x24207a(0x12e),()=>{const _0x3adfca=_0x24207a;_0x177b4e['classList']['add'](_0x3adfca(0x742)),topicTab[_0x3adfca(0x20d)][_0x3adfca(0x1cf)](_0x3adfca(0x742)),textTab[_0x3adfca(0x20d)][_0x3adfca(0x1cf)](_0x3adfca(0x742)),fileTab[_0x3adfca(0x20d)][_0x3adfca(0x1cf)](_0x3adfca(0x742)),worksheetTab['classList'][_0x3adfca(0x1cf)](_0x3adfca(0x742));if(_0x444eee)_0x444eee[_0x3adfca(0x20d)][_0x3adfca(0x1cf)](_0x3adfca(0x742));if(_0x529b48)_0x529b48['classList'][_0x3adfca(0x1cf)](_0x3adfca(0x742));if(_0x401e96)_0x401e96[_0x3adfca(0x20d)][_0x3adfca(0x1cf)](_0x3adfca(0x742));_0xcd718f[_0x3adfca(0x20d)][_0x3adfca(0x1cf)](_0x3adfca(0x5cf)),topicInputArea[_0x3adfca(0x20d)][_0x3adfca(0x8cb)]('hidden'),textInputArea[_0x3adfca(0x20d)][_0x3adfca(0x8cb)](_0x3adfca(0x5cf)),fileInputArea['classList'][_0x3adfca(0x8cb)](_0x3adfca(0x5cf)),worksheetInputArea[_0x3adfca(0x20d)][_0x3adfca(0x8cb)](_0x3adfca(0x5cf));if(_0x290cd4)_0x290cd4['classList']['add'](_0x3adfca(0x5cf));if(_0x835f0e)_0x835f0e[_0x3adfca(0x20d)][_0x3adfca(0x8cb)](_0x3adfca(0x5cf));if(_0x33a058)_0x33a058['classList'][_0x3adfca(0x8cb)](_0x3adfca(0x5cf));});_0x401e96&&_0x401e96[_0x24207a(0x86b)]('click',()=>{const _0x52091d=_0x24207a;_0x401e96[_0x52091d(0x20d)][_0x52091d(0x8cb)](_0x52091d(0x742)),topicTab['classList'][_0x52091d(0x1cf)](_0x52091d(0x742)),textTab[_0x52091d(0x20d)][_0x52091d(0x1cf)](_0x52091d(0x742)),fileTab[_0x52091d(0x20d)][_0x52091d(0x1cf)](_0x52091d(0x742)),worksheetTab['classList']['remove']('active');if(_0x444eee)_0x444eee[_0x52091d(0x20d)][_0x52091d(0x1cf)](_0x52091d(0x742));if(_0x177b4e)_0x177b4e[_0x52091d(0x20d)][_0x52091d(0x1cf)](_0x52091d(0x742));if(_0x529b48)_0x529b48[_0x52091d(0x20d)]['remove'](_0x52091d(0x742));_0x33a058[_0x52091d(0x20d)][_0x52091d(0x1cf)]('hidden'),topicInputArea[_0x52091d(0x20d)][_0x52091d(0x8cb)](_0x52091d(0x5cf)),textInputArea[_0x52091d(0x20d)][_0x52091d(0x8cb)](_0x52091d(0x5cf)),fileInputArea[_0x52091d(0x20d)][_0x52091d(0x8cb)](_0x52091d(0x5cf)),worksheetInputArea['classList'][_0x52091d(0x8cb)](_0x52091d(0x5cf));if(_0x290cd4)_0x290cd4[_0x52091d(0x20d)][_0x52091d(0x8cb)](_0x52091d(0x5cf));if(_0xcd718f)_0xcd718f[_0x52091d(0x20d)]['add'](_0x52091d(0x5cf));if(_0x835f0e)_0x835f0e[_0x52091d(0x20d)][_0x52091d(0x8cb)](_0x52091d(0x5cf));});const _0x2055a3=document[_0x24207a(0x5a0)](_0x24207a(0x5f0)),_0x12534e=document['getElementById'](_0x24207a(0x48b));_0x2055a3&&_0x2055a3[_0x24207a(0x86b)](_0x24207a(0x3f3),_0xef8809=>{const _0x560e1d=_0x24207a;_0xef8809[_0x560e1d(0x6e2)][_0x560e1d(0xac)]['length']>0x0?_0x12534e[_0x560e1d(0x2df)]=![]:_0x12534e['disabled']=!![];});_0x12534e&&_0x12534e[_0x24207a(0x86b)](_0x24207a(0x12e),handleGenerateFromBlueprint);const _0x2f8012=document[_0x24207a(0x5a0)](_0x24207a(0x82d)),_0x31e999=document['getElementById']('generate-from-parallel-test-btn');_0x2f8012&&_0x2f8012['addEventListener'](_0x24207a(0x3f3),_0x38ee84=>{const _0x4bbb74=_0x24207a;_0x31e999[_0x4bbb74(0x2df)]=_0x38ee84[_0x4bbb74(0x6e2)][_0x4bbb74(0xac)][_0x4bbb74(0x2fd)]===0x0;});_0x31e999&&_0x31e999['addEventListener'](_0x24207a(0x12e),handleGenerateParallelTest);loadQuizBtn[_0x24207a(0x86b)]('click',handleLoadQuiz),startQuizBtn[_0x24207a(0x86b)](_0x24207a(0x12e),async()=>{const _0x1812b2=_0x24207a,_0x3e3e60=document['getElementById'](_0x1812b2(0x5b9));currentStudentName=_0x3e3e60[_0x1812b2(0x8f1)];if(!currentStudentName){showMessage(_0x1812b2(0x812));return;}try{const _0x4e58d8=currentQuizData['id'],_0x5293f8=doc(db,_0x1812b2(0x4e3)+appId+'/public/data/quizzes/'+_0x4e58d8+'/submissions',currentStudentName),_0x59a283=await getDoc(_0x5293f8);!_0x59a283[_0x1812b2(0x14e)]()?await setDoc(_0x5293f8,{'studentName':currentStudentName,'startedAt':new Date()[_0x1812b2(0x357)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x5293f8,{'startedAt':new Date()[_0x1812b2(0x357)]()});}catch(_0x301b24){console[_0x1812b2(0x33a)](_0x1812b2(0x564),_0x301b24),showMessage(_0x1812b2(0x7a0));return;}studentNameSelectionView['classList'][_0x1812b2(0x8cb)](_0x1812b2(0x5cf)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x24207a(0x1e3))[_0x24207a(0x86b)]('click',showJoinGameView),document[_0x24207a(0x5a0)](_0x24207a(0x354))[_0x24207a(0x86b)](_0x24207a(0x12e),handleJoinLiveGame),document[_0x24207a(0x5a0)](_0x24207a(0x15a))['addEventListener'](_0x24207a(0x12e),()=>showView(_0x24207a(0x740)));const _0x3cc6cd=()=>{const _0x137d95=_0x24207a,_0xb84145=document[_0x137d95(0x5a0)]('results-quiz-title')[_0x137d95(0x83f)][_0x137d95(0x3c8)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x137d95(0x690)+(_0xb84145||_0x137d95(0x559));},_0x136e2b=document['getElementById'](_0x24207a(0x15b));_0x136e2b&&_0x136e2b[_0x24207a(0x86b)](_0x24207a(0x70f),_0x5be925=>{const _0x205f5e=_0x24207a,_0x23ee00=_0x5be925[_0x205f5e(0x6e2)]['value'][_0x205f5e(0x527)]()[_0x205f5e(0x3fa)](),_0x55f08d=document['getElementById'](_0x205f5e(0x2d6)),_0x5a1d61=_0x55f08d[_0x205f5e(0x81b)](_0x205f5e(0x3ee));_0x5a1d61[_0x205f5e(0x573)](_0x44cbcd=>{const _0x2eee21=_0x205f5e;let _0xfc85da=![];const _0x43563e=_0x44cbcd[_0x2eee21(0x81b)](_0x2eee21(0x130));_0x43563e[_0x2eee21(0x573)](_0x755ee=>{const _0x18ec14=_0x2eee21,_0x48e92e=_0x755ee[_0x18ec14(0x4aa)](_0x18ec14(0xab))[_0x18ec14(0x83f)][_0x18ec14(0x527)]();_0x48e92e['includes'](_0x23ee00)?(_0x755ee[_0x18ec14(0x716)]['display']=_0x18ec14(0x896),_0xfc85da=!![]):_0x755ee[_0x18ec14(0x716)][_0x18ec14(0x1c3)]=_0x18ec14(0x9bc);}),_0xfc85da?_0x44cbcd['style'][_0x2eee21(0x1c3)]='block':_0x44cbcd[_0x2eee21(0x716)][_0x2eee21(0x1c3)]=_0x2eee21(0x9bc);});});document[_0x24207a(0x5a0)](_0x24207a(0x608))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>exportTableAsImage(_0x24207a(0x4ea),_0x3cc6cd())),document['getElementById']('export-pdf-btn')[_0x24207a(0x86b)](_0x24207a(0x12e),()=>exportTableAsPDF(_0x24207a(0x113),_0x3cc6cd())),document[_0x24207a(0x5a0)](_0x24207a(0x8d9))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>exportTableAsWord('results-table-container',_0x3cc6cd())),document[_0x24207a(0x5a0)](_0x24207a(0x429))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>exportTableAsExcel(_0x24207a(0x113),_0x3cc6cd()));const _0x1e259a=()=>{const _0x3e5cae=_0x24207a,_0x593bc2=document[_0x3e5cae(0x5a0)]('results-quiz-title')[_0x3e5cae(0x83f)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return'leaderboard_'+(_0x593bc2||'quiz');};document[_0x24207a(0x5a0)](_0x24207a(0x67a))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>exportTableAsImage(_0x24207a(0x939),_0x1e259a())),document[_0x24207a(0x5a0)](_0x24207a(0x5bc))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>exportTableAsPDF(_0x24207a(0x339),_0x1e259a())),document[_0x24207a(0x5a0)](_0x24207a(0x199))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>exportTableAsWord(_0x24207a(0x939),_0x1e259a())),document[_0x24207a(0x5a0)]('export-leaderboard-excel-btn')[_0x24207a(0x86b)](_0x24207a(0x12e),()=>exportTableAsExcel(_0x24207a(0x339),_0x1e259a())),projectQuizzesList[_0x24207a(0x86b)]('click',async _0x4297dc=>{const _0x180e77=_0x24207a,_0x6ee2aa=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)](_0x180e77(0x3ed)),_0x174a0a=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)](_0x180e77(0x84c)),_0x2cc95a=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)]('.compare-results-btn'),_0x559e76=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)]('.generate-lesson-btn'),_0x54c251=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)](_0x180e77(0x45d)),_0x1c75bc=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)]('.copy-quiz-id-list-btn'),_0x94f1a1=_0x4297dc['target'][_0x180e77(0x5dd)](_0x180e77(0xf9)),_0x5692bd=_0x4297dc['target'][_0x180e77(0x5dd)](_0x180e77(0x88f)),_0x4b5b28=_0x4297dc['target']['closest'](_0x180e77(0x91b)),_0x14a566=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)]('.rename-quiz-btn'),_0x47fd2e=_0x4297dc[_0x180e77(0x6e2)]['closest'](_0x180e77(0x115)),_0x40bddd=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)](_0x180e77(0x9a7)),_0x1ffd14=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)]('.pair-quiz-btn'),_0x32a889=_0x4297dc['target']['closest'](_0x180e77(0x895)),_0xb5ec59=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)](_0x180e77(0x78d)),_0x327e79=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)](_0x180e77(0x154)),_0x544f9b=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)](_0x180e77(0x7b2)),_0x562ad6=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)](_0x180e77(0x313)),_0x4a485a=_0x4297dc[_0x180e77(0x6e2)]['closest']('.quiz-status-btn'),_0x415710=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)](_0x180e77(0x39b)),_0x34b252=_0x4297dc['target'][_0x180e77(0x5dd)](_0x180e77(0x5ca)),_0x46c8d6=_0x4297dc[_0x180e77(0x6e2)]['closest']('.start-game-btn'),_0x3ffa04=_0x4297dc[_0x180e77(0x6e2)][_0x180e77(0x5dd)](_0x180e77(0x20a));if(_0x46c8d6){const _0x3b31fe=_0x46c8d6[_0x180e77(0x513)]['quizId'],_0x4d1c84=_0x46c8d6[_0x180e77(0x513)][_0x180e77(0x214)],_0x1cd9c2=allQuizzes[_0x180e77(0xcc)](_0x1db90a=>_0x1db90a['id']===_0x3b31fe);_0x1cd9c2&&showGameStartConfirmationModal(_0x3b31fe,_0x4d1c84,_0x1cd9c2['topic']);}else{if(_0x3ffa04){const _0x70f4b6=_0x3ffa04[_0x180e77(0x513)][_0x180e77(0x9a5)];handleStartLiveRace(_0x70f4b6);}else{if(_0x415710){const _0x464845=_0x415710['dataset'][_0x180e77(0x9a5)],_0x246462=document[_0x180e77(0x5a0)](_0x180e77(0x46c)+_0x464845);_0x246462&&_0x246462[_0x180e77(0x20d)]['toggle'](_0x180e77(0x5cf));}else{if(_0x174a0a){const _0x2e511f=_0x174a0a[_0x180e77(0x513)][_0x180e77(0x9a5)],_0x4a20a4=allQuizzes[_0x180e77(0xcc)](_0x32908e=>_0x32908e['id']===_0x2e511f);_0x4a20a4&&handleGenerateParallelPostTest(_0x4a20a4);}else{if(_0x2cc95a)handleCompareResults(_0x2cc95a['dataset'][_0x180e77(0x9a5)],_0x2cc95a['dataset'][_0x180e77(0x218)]);else{if(_0x559e76){const _0x3448ce=_0x559e76['dataset'][_0x180e77(0x9a5)],_0x1ba4f8=allQuizzes[_0x180e77(0xcc)](_0x581784=>_0x581784['id']===_0x3448ce);_0x1ba4f8&&_0x1ba4f8[_0x180e77(0x4fe)]?(displayLessonPlan(_0x1ba4f8[_0x180e77(0x4fe)],_0x1ba4f8),showConfirmation(_0x180e77(0x5a9),()=>handleGenerateLessonPlan(_0x3448ce)),document[_0x180e77(0x5a0)](_0x180e77(0x7ff))[_0x180e77(0x4aa)]('h3')[_0x180e77(0x83f)]=_0x180e77(0x8d2),document[_0x180e77(0x5a0)]('confirm-delete-btn')['textContent']=_0x180e77(0x797)):handleGenerateLessonPlan(_0x3448ce);}else{if(_0x54c251)handleToggleStarQuiz(_0x54c251[_0x180e77(0x513)][_0x180e77(0x9a5)]);else{if(_0x1c75bc)copyTextToClipboard(_0x1c75bc[_0x180e77(0x513)][_0x180e77(0x9a5)],_0x180e77(0x95f));else{if(_0x94f1a1)handleOpenQuizEditor(_0x94f1a1[_0x180e77(0x513)][_0x180e77(0x9a5)]);else{if(_0x5692bd)handleQuizSettings(_0x5692bd['dataset'][_0x180e77(0x9a5)]);else{if(_0x4b5b28)handleDuplicateQuiz(_0x4b5b28[_0x180e77(0x513)][_0x180e77(0x9a5)]);else{if(_0x14a566)handleRenameQuiz(_0x14a566['dataset']['quizId'],_0x14a566[_0x180e77(0x513)]['topic']);else{if(_0x47fd2e){const _0x269acc=_0x47fd2e[_0x180e77(0x513)][_0x180e77(0x9a5)],_0x34e2b5=allQuizzes[_0x180e77(0xcc)](_0x42bf7d=>_0x42bf7d['id']===_0x269acc);_0x34e2b5&&handleGenerateParallelFromBank(_0x34e2b5);}else{if(_0x40bddd)handleMoveQuiz(_0x40bddd[_0x180e77(0x513)][_0x180e77(0x9a5)]);else{if(_0x1ffd14)handleManualQuizPairing(_0x1ffd14[_0x180e77(0x513)][_0x180e77(0x9a5)]);else{if(_0x32a889)handleUnpairQuiz(_0x32a889['dataset'][_0x180e77(0x9a5)]);else{if(_0xb5ec59){const _0x55651e=_0xb5ec59[_0x180e77(0x513)][_0x180e77(0x9a5)],_0xf6f5a8=allQuizzes[_0x180e77(0xcc)](_0x23e8a9=>_0x23e8a9['id']===_0x55651e);if(_0xf6f5a8)startPresentation(_0xf6f5a8);}else{if(_0x327e79){const _0x127de1=_0x327e79[_0x180e77(0x513)][_0x180e77(0x9a5)],_0x393694=allQuizzes[_0x180e77(0xcc)](_0x54cf0e=>_0x54cf0e['id']===_0x127de1);_0x393694&&(currentQuizData=_0x393694,startAdminTest());}else{if(_0x544f9b)actionTargetId=_0x544f9b[_0x180e77(0x513)]['quizId'],document[_0x180e77(0x5a0)](_0x180e77(0x96c))[_0x180e77(0x20d)]['remove'](_0x180e77(0x5cf));else{if(_0x562ad6)showConfirmation(_0x180e77(0x386)+_0x562ad6[_0x180e77(0x513)][_0x180e77(0x58e)]+_0x180e77(0x1a3),()=>handleDeleteQuiz(_0x562ad6[_0x180e77(0x513)][_0x180e77(0x9a5)]));else{if(_0x4a485a)handleQuizStatus(_0x4a485a[_0x180e77(0x513)][_0x180e77(0x9a5)]);else{if(_0x34b252)handleGenerateEasyVersionQuiz(_0x34b252[_0x180e77(0x513)][_0x180e77(0x9a5)]);else _0x6ee2aa&&showQuizDetailView(_0x6ee2aa[_0x180e77(0x513)][_0x180e77(0x9a5)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x24207a(0x5a0)]('cancel-team-selection-btn')[_0x24207a(0x86b)](_0x24207a(0x12e),()=>showView(_0x24207a(0x740))),document[_0x24207a(0x5a0)](_0x24207a(0x92e))[_0x24207a(0x86b)](_0x24207a(0x12e),confirmAndStartTeamQuiz),document[_0x24207a(0x5a0)]('quiz-leaderboard-table')[_0x24207a(0x4aa)](_0x24207a(0xb3))[_0x24207a(0x86b)](_0x24207a(0x12e),_0x193d03=>{const _0x471b4c=_0x24207a,_0x1c871=_0x193d03['target'][_0x471b4c(0x5dd)](_0x471b4c(0x3e6));if(!_0x1c871||!_0x1c871['dataset']['sort'])return;const _0x6658b8=_0x1c871[_0x471b4c(0x513)]['sort'];if(quizLeaderboardSortBy===_0x6658b8)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x471b4c(0x347)?_0x471b4c(0x8a0):_0x471b4c(0x347);else{quizLeaderboardSortBy=_0x6658b8;const _0x3203db=['studentName'];quizLeaderboardSortOrder=_0x3203db[_0x471b4c(0x5c1)](_0x6658b8)?'asc':'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x471b4c(0x9cf));}),document[_0x24207a(0x5a0)]('close-presentation-btn')[_0x24207a(0x86b)](_0x24207a(0x12e),closePresentation),document[_0x24207a(0x5a0)]('prev-question-btn')[_0x24207a(0x86b)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x24207a(0x5a0)](_0x24207a(0x914))[_0x24207a(0x86b)]('click',()=>{const _0x49befc=_0x24207a;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x49befc(0x528)][_0x49befc(0x2fd)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x24207a(0x86b)]('fullscreenchange',()=>{const _0x2cc901=_0x24207a;!document[_0x2cc901(0x8f2)]&&(presentationModal['style'][_0x2cc901(0x1c3)]=_0x2cc901(0x9bc));}),document[_0x24207a(0x5a0)](_0x24207a(0x8d1))[_0x24207a(0x86b)](_0x24207a(0x12e),handleDeleteAllStudents),studentList[_0x24207a(0x86b)](_0x24207a(0x12e),_0xe9c459=>{const _0x10f557=_0x24207a,_0x305f89=_0xe9c459[_0x10f557(0x6e2)][_0x10f557(0x5dd)](_0x10f557(0x78));if(_0x305f89){const _0x31dc2d=_0x305f89[_0x10f557(0x513)][_0x10f557(0x6d5)];handleDeleteStudent(_0x31dc2d);}}),document[_0x24207a(0x5a0)]('generate-from-file-btn')['addEventListener']('click',handleGenerateFromFileClick),fileUploadInput[_0x24207a(0x86b)]('change',_0x5eecff=>{const _0x2e6eb6=_0x24207a,_0x3d58d0=_0x5eecff[_0x2e6eb6(0x6e2)]['files'][0x0],_0x283882=document['getElementById'](_0x2e6eb6(0x3af));_0x3d58d0?(selectedFile=_0x3d58d0,_0x283882['disabled']=![]):(selectedFile=null,_0x283882['disabled']=!![]);}),document[_0x24207a(0x5a0)](_0x24207a(0x179))[_0x24207a(0x86b)](_0x24207a(0x3f3),_0x39cf71=>{const _0x28ef01=_0x24207a,_0x490b5f=document['getElementById'](_0x28ef01(0x7f7)),_0x3218e3=document[_0x28ef01(0x5a0)]('timer-duration-label'),_0x57cc25=document[_0x28ef01(0x5a0)](_0x28ef01(0x3d5));_0x39cf71['target'][_0x28ef01(0x8f1)]===_0x28ef01(0x9bc)?_0x490b5f[_0x28ef01(0x20d)]['add'](_0x28ef01(0x5cf)):(_0x490b5f[_0x28ef01(0x20d)][_0x28ef01(0x1cf)]('hidden'),_0x39cf71['target']['value']===_0x28ef01(0x2d2)?(_0x3218e3[_0x28ef01(0x83f)]=_0x28ef01(0x260),_0x57cc25[_0x28ef01(0x8f1)]='10'):(_0x3218e3[_0x28ef01(0x83f)]=_0x28ef01(0x81d),_0x57cc25[_0x28ef01(0x8f1)]='30'));}),document[_0x24207a(0x5a0)](_0x24207a(0x74f))['addEventListener'](_0x24207a(0x3f3),_0x4d524d=>{const _0x199534=_0x24207a,_0x566066=document[_0x199534(0x5a0)](_0x199534(0x7fb)),_0x395cb6=_0x4d524d['target'][_0x199534(0x8f1)],_0x41562c=document['querySelector'](_0x199534(0x543)),_0x46181f=document[_0x199534(0x5a0)](_0x199534(0x6e6)),_0x238113=document[_0x199534(0x5a0)](_0x199534(0x220));_0x395cb6===_0x199534(0x787)?_0x41562c[_0x199534(0x83f)]='จำนวนคู่:':_0x41562c[_0x199534(0x83f)]=_0x199534(0x590),_0x395cb6===_0x199534(0x420)||_0x395cb6===_0x199534(0x892)||_0x395cb6===_0x199534(0x624)?_0x566066['classList']['remove'](_0x199534(0x5cf)):_0x566066[_0x199534(0x20d)][_0x199534(0x8cb)]('hidden'),_0x46181f[_0x199534(0x505)]=_0x238113[_0x199534(0x8f1)];}),document[_0x24207a(0x5a0)](_0x24207a(0x220))['addEventListener'](_0x24207a(0x70f),_0x2d173d=>{const _0x4b203a=_0x24207a;document[_0x4b203a(0x5a0)](_0x4b203a(0x6e6))['max']=_0x2d173d[_0x4b203a(0x6e2)]['value'];}),document[_0x24207a(0x5a0)](_0x24207a(0x35d))[_0x24207a(0x86b)](_0x24207a(0x3f3),_0x331fc4=>{const _0xbea1e4=_0x24207a,_0x18a68e=document['getElementById'](_0xbea1e4(0x2e1)),_0x3a8bf5=document['getElementById'](_0xbea1e4(0x127)),_0xa280b5=document['getElementById'](_0xbea1e4(0x6ad));_0x331fc4[_0xbea1e4(0x6e2)]['value']==='none'?_0x18a68e[_0xbea1e4(0x20d)][_0xbea1e4(0x8cb)](_0xbea1e4(0x5cf)):(_0x18a68e[_0xbea1e4(0x20d)][_0xbea1e4(0x1cf)](_0xbea1e4(0x5cf)),_0x331fc4[_0xbea1e4(0x6e2)][_0xbea1e4(0x8f1)]===_0xbea1e4(0x2d2)?_0x3a8bf5['textContent']=_0xbea1e4(0x260):_0x3a8bf5[_0xbea1e4(0x83f)]=_0xbea1e4(0x81d));}),document[_0x24207a(0x5a0)](_0x24207a(0xc2))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>{const _0x5b3644=_0x24207a;document['getElementById'](_0x5b3644(0x670))['classList']['add'](_0x5b3644(0x5cf));}),document['getElementById'](_0x24207a(0x1eb))[_0x24207a(0x86b)]('click',()=>{const _0x29a2c0=_0x24207a;document[_0x29a2c0(0x5a0)](_0x29a2c0(0x670))[_0x29a2c0(0x20d)][_0x29a2c0(0x8cb)](_0x29a2c0(0x5cf));}),document[_0x24207a(0x5a0)](_0x24207a(0x49e))[_0x24207a(0x86b)](_0x24207a(0x12e),handleVerifyAnswersInEditor),document[_0x24207a(0x5a0)](_0x24207a(0x682))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>{const _0x21c26d=_0x24207a;document['getElementById'](_0x21c26d(0x670))[_0x21c26d(0x20d)]['add']('hidden'),showConfirmation(_0x21c26d(0x61a),handleSaveChanges);}),document[_0x24207a(0x5a0)](_0x24207a(0x84e))['addEventListener'](_0x24207a(0x12e),handleAutoFixLatex);const _0x32c0bf=document[_0x24207a(0x5a0)](_0x24207a(0x102));_0x32c0bf&&_0x32c0bf[_0x24207a(0x86b)](_0x24207a(0x12e),_0x4f46e1=>{const _0x195318=_0x24207a,_0x55b502=_0x4f46e1[_0x195318(0x6e2)]['closest'](_0x195318(0x55d)),_0x112ebc=_0x4f46e1['target']['closest'](_0x195318(0x904));if(_0x55b502){const _0x5a0606=_0x55b502[_0x195318(0x5dd)](_0x195318(0x1e8)),_0x4b52d0=parseInt(_0x5a0606[_0x195318(0x513)][_0x195318(0x800)],0xa);handleRegenerateQuestionInEditor(_0x4b52d0);}else{if(_0x112ebc){const _0x3b54ee=_0x112ebc[_0x195318(0x5dd)](_0x195318(0x1e8)),_0x2abf43=parseInt(_0x3b54ee[_0x195318(0x513)]['qIndex'],0xa);handleAiFixFormula(_0x2abf43);}}});document[_0x24207a(0x5a0)](_0x24207a(0x29c))[_0x24207a(0x86b)](_0x24207a(0x12e),openQuizBankModal),document[_0x24207a(0x5a0)](_0x24207a(0x351))['addEventListener'](_0x24207a(0x12e),()=>{const _0x248657=_0x24207a;document[_0x248657(0x5a0)](_0x248657(0x8f3))[_0x248657(0x20d)][_0x248657(0x8cb)](_0x248657(0x5cf));}),document[_0x24207a(0x5a0)](_0x24207a(0x208))[_0x24207a(0x86b)]('input',_0x895a5d=>renderQuizBankList(_0x895a5d[_0x24207a(0x6e2)]['value']));const _0x216b4a=document['getElementById'](_0x24207a(0x2d6));if(_0x216b4a){let _0x5c09ce=null;_0x216b4a[_0x24207a(0x86b)](_0x24207a(0x12e),_0x35f9e4=>{const _0xb5549=_0x24207a,_0xbba955=_0x35f9e4[_0xb5549(0x6e2)],_0x193fbb=_0xbba955[_0xb5549(0x5dd)]('.edit-custom-topic-btn'),_0x393257=_0xbba955['closest'](_0xb5549(0x7f)),_0x14f076=_0xbba955[_0xb5549(0x5dd)](_0xb5549(0x655)),_0x1dbeba=_0xbba955[_0xb5549(0x5dd)](_0xb5549(0x8df));if(_0x393257){_0x35f9e4[_0xb5549(0x7b0)]();const _0x1c2be0=_0x393257[_0xb5549(0x513)]['id'],_0x2f7c42=_0x393257[_0xb5549(0x5dd)](_0xb5549(0x8d3))[_0xb5549(0x4aa)](_0xb5549(0xab))[_0xb5549(0x83f)];showConfirmation(_0xb5549(0x3ea)+_0x2f7c42+'\x22?',()=>handleDeleteCustomTopic(_0x1c2be0));}else{if(_0x193fbb){_0x35f9e4[_0xb5549(0x7b0)]();_0x5c09ce&&toggleTopicEditMode(_0x5c09ce,![]);const _0x5cdc76=_0x193fbb[_0xb5549(0x5dd)]('[data-topic-container-id]');_0x5c09ce=_0x5cdc76,toggleTopicEditMode(_0x5cdc76,!![]);}else{if(_0x14f076){_0x35f9e4[_0xb5549(0x7b0)]();const _0x2ce098=_0x14f076['dataset']['id'],_0x403608=_0x14f076[_0xb5549(0x5dd)](_0xb5549(0x5bf)),_0x1520c3=_0x403608['querySelector'](_0xb5549(0x309))['value'];handleUpdateCustomTopic(_0x2ce098,_0x1520c3),_0x5c09ce=null;}else{if(_0x1dbeba){_0x35f9e4[_0xb5549(0x7b0)]();const _0x438279=_0x1dbeba['closest'](_0xb5549(0x5bf));toggleTopicEditMode(_0x438279,![]),_0x5c09ce=null;}}}}}),document[_0x24207a(0x5a0)]('close-lesson-plan-modal-btn')[_0x24207a(0x86b)](_0x24207a(0x12e),()=>{const _0x4f903b=_0x24207a;document[_0x4f903b(0x5a0)](_0x4f903b(0x45a))['classList'][_0x4f903b(0x8cb)]('hidden');}),document['getElementById'](_0x24207a(0x2ef))['addEventListener'](_0x24207a(0x12e),()=>{const _0xc3dab9=_0x24207a;document[_0xc3dab9(0x5a0)]('lesson-plan-modal')['classList'][_0xc3dab9(0x8cb)](_0xc3dab9(0x5cf));}),document[_0x24207a(0x5a0)](_0x24207a(0x495))[_0x24207a(0x86b)]('click',handleExportLessonPDF);}document['getElementById'](_0x24207a(0x702))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>{const _0x2a97cd=_0x24207a;document[_0x2a97cd(0x5a0)]('comparison-modal')['classList'][_0x2a97cd(0x8cb)]('hidden');}),document[_0x24207a(0x5a0)](_0x24207a(0x15d))[_0x24207a(0x86b)](_0x24207a(0x12e),()=>{const _0x116761=_0x24207a;document[_0x116761(0x5a0)](_0x116761(0x96e))[_0x116761(0x20d)][_0x116761(0x8cb)](_0x116761(0x5cf));}),setupComparisonModalTabs(),document[_0x24207a(0xc0)]['addEventListener'](_0x24207a(0x12e),function(_0x18322d){const _0x23e87d=_0x24207a;if(_0x18322d['target'][_0x23e87d(0x20d)]['contains'](_0x23e87d(0x105))){const _0x2ba410=unescape(_0x18322d[_0x23e87d(0x6e2)][_0x23e87d(0x513)]['topic']);startSkillPractice(_0x2ba410);}}),document[_0x24207a(0x5a0)](_0x24207a(0x619))[_0x24207a(0x86b)](_0x24207a(0x12e),_0x54bd8f=>{const _0x1581fc=_0x24207a,_0x28b2fe=_0x54bd8f[_0x1581fc(0x6e2)][_0x1581fc(0x5dd)](_0x1581fc(0x57b));if(_0x28b2fe){const _0x3fb67c=_0x28b2fe['dataset'][_0x1581fc(0x6d5)];handleDeleteSubmission(_0x3fb67c);}});}async function handleStartGroupMode(_0x56ff15,_0x52faea=![]){const _0x116108=_0x56a724,_0x2002af=allQuizzes['find'](_0x4836c9=>_0x4836c9['id']===_0x56ff15)||allQuizzesGlobal[_0x116108(0xcc)](_0xdb7738=>_0xdb7738['id']===_0x56ff15);if(!_0x2002af){showMessage(_0x116108(0x73));return;}currentQuizData=getShuffledQuiz(_0x2002af);const _0xaefec0=Math[_0x116108(0x917)](0x3e8+Math[_0x116108(0x95a)]()*0x2328)[_0x116108(0x239)]();try{const _0xe56ae8=await addDoc(collection(db,_0x116108(0x4e3)+appId+_0x116108(0x5cc)),{'quizId':_0x2002af['id'],'projectId':_0x2002af[_0x116108(0x6ab)],'status':_0x116108(0x1ff),'pin':_0xaefec0,'mode':_0x116108(0x6b4),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x52faea});currentTeamQuizId=_0xe56ae8['id'],showView(_0x116108(0x873)),renderAdminTeamQuizDashboard(_0xaefec0,_0x2002af[_0x116108(0x58e)],_0x116108(0x6b4)),listenForTeamQuizUpdates();}catch(_0x467a57){console[_0x116108(0x33a)]('Error\x20starting\x20group\x20quiz:',_0x467a57),showMessage(_0x116108(0x24c));}}async function showStudentProgressView(){const _0x36d41a=_0x56a724;studentInitialView[_0x36d41a(0x20d)]['add'](_0x36d41a(0x5cf)),document[_0x36d41a(0x5a0)](_0x36d41a(0x7b6))[_0x36d41a(0x20d)][_0x36d41a(0x1cf)](_0x36d41a(0x5cf));const _0x311531=document[_0x36d41a(0x5a0)](_0x36d41a(0x42e)),_0x3a7075=document[_0x36d41a(0x5a0)]('progress-student-select'),_0xa08b13=document[_0x36d41a(0x5a0)](_0x36d41a(0x468));_0xa08b13[_0x36d41a(0x65a)]=_0x36d41a(0x330),_0x3a7075['innerHTML']=_0x36d41a(0x424),_0x3a7075[_0x36d41a(0x2df)]=!![],_0x311531[_0x36d41a(0x65a)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x36d41a(0x2fd)]===0x0){const _0x5e47ed=collection(db,_0x36d41a(0x4e3)+appId+_0x36d41a(0x3b0)),_0x51935b=await getDocs(_0x5e47ed);allProjects=_0x51935b['docs']['map'](_0x5db16c=>({'id':_0x5db16c['id'],..._0x5db16c[_0x36d41a(0x2fb)]()}));}const _0x428ae7=allProjects[_0x36d41a(0x5e1)](_0x7b52=>_0x7b52[_0x36d41a(0x681)]?.[_0x36d41a(0x5a1)]!==![]);_0x428ae7[_0x36d41a(0x905)]((_0x77fcc1,_0x5ab023)=>_0x77fcc1[_0x36d41a(0x319)]['localeCompare'](_0x5ab023[_0x36d41a(0x319)],'th')),_0x311531[_0x36d41a(0x65a)]=_0x36d41a(0x18b)+_0x428ae7[_0x36d41a(0xbf)](_0xe17957=>_0x36d41a(0x7ca)+_0xe17957['id']+'\x22>'+_0xe17957['projectName']+_0x36d41a(0x7d4))['join'](''),_0x311531[_0x36d41a(0x7bf)]=()=>{const _0x12f995=_0x36d41a,_0x2c5412=_0x3a7075[_0x12f995(0x8f1)],_0x23bd86=_0x311531[_0x12f995(0x8f1)];_0x3a7075[_0x12f995(0x2df)]=!![],_0x3a7075[_0x12f995(0x65a)]=_0x12f995(0x424),_0xa08b13[_0x12f995(0x65a)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x23bd86)return;const _0x2b4df8=allProjects[_0x12f995(0xcc)](_0x5574a7=>_0x5574a7['id']===_0x23bd86);if(!_0x2b4df8||!_0x2b4df8[_0x12f995(0x75c)])return;const _0x58d6af=()=>{const _0x11210f=_0x12f995;_0x3a7075[_0x11210f(0x65a)]=_0x11210f(0x424)+_0x2b4df8[_0x11210f(0x75c)]['map'](_0x55e6d3=>_0x11210f(0x7ca)+_0x55e6d3+'\x22>'+_0x55e6d3+_0x11210f(0x7d4))[_0x11210f(0x13f)](''),_0x3a7075[_0x11210f(0x2df)]=![];const _0x5cc0b6=Array[_0x11210f(0x4d1)](_0x3a7075[_0x11210f(0xbd)])['map'](_0x3d482=>_0x3d482[_0x11210f(0x8f1)]);if(_0x2c5412&&_0x5cc0b6['includes'](_0x2c5412))_0x3a7075[_0x11210f(0x8f1)]=_0x2c5412,_0x3a7075['dispatchEvent'](new Event('change'));else _0x2b4df8[_0x11210f(0x75c)]['length']===0x1&&(_0x3a7075['value']=_0x2b4df8['students'][0x0],_0x3a7075[_0x11210f(0x834)](new Event(_0x11210f(0x3f3))));};if(_0x2b4df8[_0x12f995(0x681)]?.['isPasscodeEnabled']){if(sessionStorage['getItem'](_0x12f995(0x56a)+_0x23bd86)===_0x12f995(0x25a)){_0x58d6af();return;}const _0x140345=document[_0x12f995(0x5a0)](_0x12f995(0x9bf)),_0x3977d1=document['getElementById'](_0x12f995(0x188)),_0x20d1a3=document[_0x12f995(0x5a0)](_0x12f995(0x6d6)),_0x4bf486=document[_0x12f995(0x5a0)](_0x12f995(0x7c2)),_0x4cdcc4=document['getElementById']('passcode-error-msg');document[_0x12f995(0x5a0)](_0x12f995(0x64e))['textContent']=_0x12f995(0x60d)+_0x2b4df8['projectName'],_0x4bf486[_0x12f995(0x8f1)]='',_0x4cdcc4[_0x12f995(0x20d)]['add'](_0x12f995(0x5cf)),_0x140345[_0x12f995(0x20d)]['remove'](_0x12f995(0x5cf));const _0x3da565=()=>{const _0x4e3eba=_0x12f995,_0x569acc=_0x4bf486['value'][_0x4e3eba(0x3fa)]();_0x569acc===_0x2b4df8[_0x4e3eba(0x681)]['passcode']?(sessionStorage[_0x4e3eba(0x9a0)](_0x4e3eba(0x56a)+_0x23bd86,_0x4e3eba(0x25a)),_0x140345[_0x4e3eba(0x20d)][_0x4e3eba(0x8cb)]('hidden'),_0x58d6af(),_0x3977d1[_0x4e3eba(0x6e7)]('click',_0x3da565)):_0x4cdcc4[_0x4e3eba(0x20d)][_0x4e3eba(0x1cf)](_0x4e3eba(0x5cf));};_0x3977d1[_0x12f995(0x756)]=_0x3da565,_0x20d1a3[_0x12f995(0x756)]=()=>{const _0x58896f=_0x12f995;_0x140345[_0x58896f(0x20d)][_0x58896f(0x8cb)]('hidden'),_0x311531[_0x58896f(0x8f1)]='',_0x3977d1['removeEventListener'](_0x58896f(0x12e),_0x3da565);};}else _0x58d6af();},_0x3a7075[_0x36d41a(0x7bf)]=()=>{const _0x479683=_0x36d41a,_0x2eb276=_0x311531['value'],_0x3660d6=_0x3a7075[_0x479683(0x8f1)];_0x2eb276&&_0x3660d6&&renderStudentProgressDashboard(_0x2eb276,_0x3660d6);};}async function confirmAndJoinSyncGame(){const _0xd0aec0=_0x56a724,_0x38a1d2=Array[_0xd0aec0(0x4d1)](document['querySelectorAll'](_0xd0aec0(0x11c)))[_0xd0aec0(0xbf)](_0x550c76=>_0x550c76[_0xd0aec0(0x8f1)]);if(_0x38a1d2[_0xd0aec0(0x2fd)]===0x0){showMessage(_0xd0aec0(0x377));return;}localTeamPlayers=_0x38a1d2,localPlayerTurnIndex=0x0;const _0x1f3ea8=doc(db,_0xd0aec0(0x4e3)+appId+_0xd0aec0(0xb7),currentLiveGameId),_0x70ff9c={};_0x38a1d2[_0xd0aec0(0x573)](_0x80816f=>{const _0x47115f=_0xd0aec0;_0x70ff9c[_0x47115f(0x270)+_0x80816f]={'name':_0x80816f,'score':0x0,'answered':![]};});try{await updateDoc(_0x1f3ea8,_0x70ff9c),document[_0xd0aec0(0x5a0)](_0xd0aec0(0x4e0))[_0xd0aec0(0x20d)]['add'](_0xd0aec0(0x5cf)),currentStudentName=_0x38a1d2[0x0],listenForSyncGameUpdates();const _0x356234={'gameId':currentLiveGameId,'mode':_0xd0aec0(0x273),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0xd0aec0(0x9a0)](_0xd0aec0(0x1f9),JSON[_0xd0aec0(0x5f1)](_0x356234));}catch(_0x5d51cd){console['error'](_0xd0aec0(0x215),_0x5d51cd),showMessage(_0xd0aec0(0xc8));}}async function resumeActiveGameSession(){const _0x590c18=_0x56a724,_0x1d264f=sessionStorage[_0x590c18(0x81e)]('activeGameSession');if(!_0x1d264f)return;const _0x1e2108=JSON[_0x590c18(0x9cd)](_0x1d264f),{gameId:_0x515b82,mode:_0x564bbf,players:_0x2f3d6f,turnIndex:_0x404c42}=_0x1e2108;try{let _0x277eba,_0x57a584;_0x564bbf===_0x590c18(0x273)?_0x277eba=doc(db,_0x590c18(0x4e3)+appId+_0x590c18(0xb7),_0x515b82):_0x277eba=doc(db,_0x590c18(0x4e3)+appId+_0x590c18(0x5cc),_0x515b82);_0x57a584=await getDoc(_0x277eba);if(!_0x57a584[_0x590c18(0x14e)]()||_0x57a584['data']()['status']==='finished'||_0x57a584[_0x590c18(0x2fb)]()[_0x590c18(0x992)]===_0x590c18(0x93c)){sessionStorage[_0x590c18(0x898)]('activeGameSession');return;}console['log'](_0x590c18(0x715)+_0x564bbf+'\x20(ID:\x20'+_0x515b82+')'),localTeamPlayers=_0x2f3d6f,localPlayerTurnIndex=_0x404c42;if(_0x564bbf===_0x590c18(0x273))currentLiveGameId=_0x515b82,currentStudentName=_0x2f3d6f[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x515b82;const _0x125b8d=_0x57a584[_0x590c18(0x2fb)](),_0x1bd381=doc(db,_0x590c18(0x4e3)+appId+_0x590c18(0x73b),_0x125b8d[_0x590c18(0x9a5)]),_0x29a8fe=await getDoc(_0x1bd381);_0x29a8fe[_0x590c18(0x14e)]()&&(currentQuizData=getShuffledQuiz({'id':_0x29a8fe['id'],..._0x29a8fe[_0x590c18(0x2fb)]()}),showView(_0x590c18(0x740)),studentInitialView[_0x590c18(0x20d)]['add'](_0x590c18(0x5cf)),renderTeamQuizQuestion());}}catch(_0x26f143){console['error'](_0x590c18(0x393),_0x26f143),sessionStorage['removeItem'](_0x590c18(0x1f9));}}async function handleKickPlayerSync(_0x400cd9){const _0x143cdf=_0x56a724;if(!currentLiveGameId||!_0x400cd9)return;const _0x270ee4=doc(db,_0x143cdf(0x4e3)+appId+_0x143cdf(0xb7),currentLiveGameId),_0x31b3a4={};_0x31b3a4[_0x143cdf(0x270)+_0x400cd9+_0x143cdf(0x92)]=_0x143cdf(0x7ba);try{await updateDoc(_0x270ee4,_0x31b3a4);}catch(_0x45f4d7){console[_0x143cdf(0x33a)](_0x143cdf(0x91)+_0x400cd9+_0x143cdf(0x8a),_0x45f4d7),showMessage(_0x143cdf(0x571));}}async function renderStudentProgressDashboard(_0x116efa,_0x410f2d){const _0x2a78db=_0x56a724,_0x5dfac5=document[_0x2a78db(0x5a0)]('student-progress-content');_0x5dfac5['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x83f9b1=collection(db,_0x2a78db(0x4e3)+appId+_0x2a78db(0x73b)),_0x53bf27=query(_0x83f9b1,where(_0x2a78db(0x6ab),'==',_0x116efa)),_0x2c8f7e=await getDocs(_0x53bf27),_0x5018f6=_0x2c8f7e[_0x2a78db(0x465)][_0x2a78db(0xbf)](_0x2e3a89=>({'id':_0x2e3a89['id'],..._0x2e3a89[_0x2a78db(0x2fb)]()})),_0x556a4b=_0x5018f6[_0x2a78db(0xbf)](_0x15d139=>getDoc(doc(db,_0x2a78db(0x4e3)+appId+_0x2a78db(0x395)+_0x15d139['id']+'/submissions',_0x410f2d))),_0x26495b=await Promise[_0x2a78db(0x9c4)](_0x556a4b),_0x2e4d97=_0x26495b[_0x2a78db(0x5e1)](_0x9ea32e=>_0x9ea32e[_0x2a78db(0x14e)]())['map'](_0x5e81bb=>({'quizId':_0x5e81bb[_0x2a78db(0x45f)][_0x2a78db(0x750)][_0x2a78db(0x750)]['id'],..._0x5e81bb['data']()}));if(_0x2e4d97[_0x2a78db(0x2fd)]===0x0){_0x5dfac5[_0x2a78db(0x65a)]=_0x2a78db(0x986);return;}let _0x45444d=_0x2a78db(0x1df);_0x2e4d97[_0x2a78db(0x573)](_0xb069ba=>{const _0x21a707=_0x2a78db,_0x4e3d03=_0x5018f6[_0x21a707(0xcc)](_0x4caeca=>_0x4caeca['id']===_0xb069ba[_0x21a707(0x9a5)]),_0x37a782=_0x4e3d03['settings']?.[_0x21a707(0x4e4)]||'show_results_and_answers',_0x22092e=_0x4e3d03['settings']?.[_0x21a707(0x4e7)]??0x0,_0x1fa7d5=_0xb069ba[_0x21a707(0x37b)]>=_0x22092e;let _0x2ec2e2='',_0x312237=_0x21a707(0x542);switch(_0x37a782){case _0x21a707(0x8fc):case _0x21a707(0x272):_0x312237=_0x1fa7d5?'bg-green-50':_0x21a707(0x4cc),_0x2ec2e2=_0x21a707(0x9d3)+(_0x1fa7d5?_0x21a707(0x860):'text-red-700')+'\x22>'+_0xb069ba[_0x21a707(0x37b)]+_0x21a707(0x747)+_0xb069ba[_0x21a707(0x212)]+_0x21a707(0x1ed)+(_0x1fa7d5?_0x21a707(0x611):'bg-red-200\x20text-red-800')+'\x22>'+(_0x1fa7d5?_0x21a707(0x69d):_0x21a707(0x162))+_0x21a707(0x40d);break;case _0x21a707(0x6ba):_0x312237=_0x1fa7d5?_0x21a707(0x436):_0x21a707(0x4cc),_0x2ec2e2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x1fa7d5?_0x21a707(0x611):_0x21a707(0x554))+'\x22>'+(_0x1fa7d5?_0x21a707(0x69d):_0x21a707(0x162))+_0x21a707(0x40d);break;case'manual_release':_0x312237='bg-yellow-50',_0x2ec2e2=_0x21a707(0x6fb);break;}_0x45444d+=_0x21a707(0x8bd)+_0x312237+_0x21a707(0x28e)+_0x4e3d03[_0x21a707(0x58e)]+_0x21a707(0x629)+_0xb069ba['attempts'][_0x21a707(0x2fd)]+_0x21a707(0x9d8)+new Date(_0xb069ba[_0x21a707(0x1c9)])['toLocaleDateString'](_0x21a707(0x9b2))+_0x21a707(0x7a4)+_0x2ec2e2+_0x21a707(0x484);}),_0x45444d+=_0x2a78db(0x5bd),_0x5dfac5[_0x2a78db(0x65a)]=_0x45444d;}catch(_0x155ce6){console['error'](_0x2a78db(0xec),_0x155ce6),_0x5dfac5[_0x2a78db(0x65a)]=_0x2a78db(0x328);}}function setupStudentProgressListeners(){const _0xa3c510=_0x56a724;document[_0xa3c510(0x5a0)](_0xa3c510(0x643))[_0xa3c510(0x86b)](_0xa3c510(0x12e),showStudentProgressView),document[_0xa3c510(0x5a0)](_0xa3c510(0x80d))[_0xa3c510(0x86b)](_0xa3c510(0x12e),()=>{const _0x569ff6=_0xa3c510;document[_0x569ff6(0x5a0)](_0x569ff6(0x7b6))[_0x569ff6(0x20d)][_0x569ff6(0x8cb)](_0x569ff6(0x5cf)),document[_0x569ff6(0x5a0)](_0x569ff6(0x6a6))['classList'][_0x569ff6(0x1cf)]('hidden');});}async function startSkillPractice(_0x8fa3c0){const _0x1c8eea=_0x56a724;studentResultArea[_0x1c8eea(0x20d)][_0x1c8eea(0x8cb)](_0x1c8eea(0x5cf)),studentQuizArea[_0x1c8eea(0x65a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x1c8eea(0x20d)][_0x1c8eea(0x1cf)](_0x1c8eea(0x5cf));try{const _0x33f3ed=await getStandardizedTopic(_0x8fa3c0);console['log']('คำถามดิบ:\x20\x22'+_0x8fa3c0+_0x1c8eea(0x501)+_0x33f3ed+'\x22'),studentQuizArea[_0x1c8eea(0x4aa)]('p')[_0x1c8eea(0x83f)]=_0x1c8eea(0x480)+_0x33f3ed+'\x22...';const _0x1c835c=collection(db,_0x1c8eea(0x4e3)+appId+'/public/data/practiceBank'),_0x131caa=query(_0x1c835c,where(_0x1c8eea(0x58e),'==',_0x33f3ed)),_0xedb3f=await getDocs(_0x131caa);if(_0xedb3f[_0x1c8eea(0x465)][_0x1c8eea(0x2fd)]>=0x3){console[_0x1c8eea(0x458)](_0x1c8eea(0x923)+_0xedb3f[_0x1c8eea(0x465)]['length']+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x33f3ed+_0x1c8eea(0x56f));let _0x2e2494=_0xedb3f[_0x1c8eea(0x465)]['map'](_0x44cb88=>_0x44cb88[_0x1c8eea(0x2fb)]());shuffleArray(_0x2e2494);const _0x1da6e8={'topic':_0x33f3ed,'questions':_0x2e2494[_0x1c8eea(0x545)](0x0,0x3)};displaySkillPracticeDrill(_0x1da6e8);}else{console[_0x1c8eea(0x458)](_0x1c8eea(0x4f8)+_0x33f3ed+_0x1c8eea(0xd5));const _0x3894f9=await generatePracticeQuestions(_0x33f3ed);await saveDrillToPracticeBank(_0x3894f9,_0x33f3ed),displaySkillPracticeDrill(_0x3894f9);}}catch(_0x57efcc){console[_0x1c8eea(0x33a)](_0x1c8eea(0x67e),_0x57efcc),showMessage(_0x1c8eea(0x9db)),studentQuizArea[_0x1c8eea(0x20d)][_0x1c8eea(0x8cb)]('hidden'),studentResultArea[_0x1c8eea(0x20d)][_0x1c8eea(0x1cf)](_0x1c8eea(0x5cf));}}async function saveDrillToPracticeBank(_0x2a7791,_0xdd03b9){const _0x416c88=_0x56a724,_0xb5bba1=collection(db,_0x416c88(0x4e3)+appId+_0x416c88(0x929)),_0x3c87ec=writeBatch(db);_0x2a7791['questions'][_0x416c88(0x573)](_0x3c7bb7=>{const _0x544b60=_0x416c88,_0x26a2a9=doc(_0xb5bba1);_0x3c87ec['set'](_0x26a2a9,{'topic':_0xdd03b9,'questionText':_0x3c7bb7[_0x544b60(0x417)],'options':_0x3c7bb7['options'],'correctAnswerIndex':_0x3c7bb7[_0x544b60(0x3d2)],'explanation':_0x3c7bb7['explanation'],'createdAt':serverTimestamp()});});try{await _0x3c87ec[_0x416c88(0x8c6)](),console['log'](_0x416c88(0x4b7)+_0x2a7791[_0x416c88(0x528)][_0x416c88(0x2fd)]+_0x416c88(0x8c9));}catch(_0x107c22){console[_0x416c88(0x33a)](_0x416c88(0x534),_0x107c22);}}async function getStandardizedTopic(_0x20935c){const _0x8b6458=_0x56a724,_0x4421f4=_0x8b6458(0x49c)+_0x20935c+_0x8b6458(0x2af),_0x2fb672={'type':'OBJECT','properties':{'standardTopic':{'type':_0x8b6458(0x52f)}},'required':[_0x8b6458(0x978)]};try{const _0xb46414=await callAnalysisApi(_0x4421f4,_0x2fb672);return _0xb46414[_0x8b6458(0x978)];}catch(_0x641cb3){return console[_0x8b6458(0x33a)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x641cb3),_0x20935c;}}async function handleGenerateEasyVersionQuiz(_0x186935){const _0x468a48=_0x56a724,_0xebadf9=document[_0x468a48(0x5a0)](_0x468a48(0x4f6)),_0x3f65a7=document[_0x468a48(0x5a0)](_0x468a48(0x4d9));_0x3f65a7['classList'][_0x468a48(0x8cb)]('hidden');const _0x198fa3=_0x468a48(0x953);_0xebadf9[_0x468a48(0x7cb)](_0x468a48(0x1f2),_0x198fa3);try{const _0x5a8dd7=allQuizzes[_0x468a48(0xcc)](_0x142eb5=>_0x142eb5['id']===_0x186935);if(!_0x5a8dd7)throw new Error(_0x468a48(0x237));const _0x143f4e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x468a48(0x5f1)](_0x5a8dd7[_0x468a48(0x528)])+_0x468a48(0xe9),_0x3724cb={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x468a48(0x2ae),'items':{'type':_0x468a48(0x52f)}},'correctAnswerIndex':{'type':_0x468a48(0x166)},'idealAnswer':{'type':_0x468a48(0x52f)},'explanation':{'type':_0x468a48(0x52f)},'imageCode':{'type':_0x468a48(0x52f)}},'required':[_0x468a48(0x417),_0x468a48(0x45e),'explanation']},_0x24129b={'type':'OBJECT','properties':{'questions':{'type':_0x468a48(0x2ae),'items':_0x3724cb}},'required':[_0x468a48(0x528)]},_0x2ba3e7=await callAnalysisApi(_0x143f4e,_0x24129b);_0x2ba3e7&&_0x2ba3e7[_0x468a48(0x528)]&&_0x2ba3e7['questions']['forEach'](_0xaf27c5=>{const _0x34bf36=_0x468a48;if(_0xaf27c5[_0x34bf36(0x7e9)](_0x34bf36(0x223))){const _0xb70a18=String(_0xaf27c5[_0x34bf36(0x223)])[_0x34bf36(0x3fa)]();(_0xb70a18===''||_0xb70a18[_0x34bf36(0x527)]()===_0x34bf36(0x134)||!_0xb70a18[_0x34bf36(0x1bd)](_0x34bf36(0xa2)))&&delete _0xaf27c5['imageCode'];}});if(!_0x2ba3e7||!_0x2ba3e7['questions']||_0x2ba3e7[_0x468a48(0x528)]['length']===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x5e02f7=_0x2ba3e7['questions'][_0x468a48(0xbf)]((_0x55510c,_0x3f5da3)=>({..._0x55510c,'id':'q_'+Date[_0x468a48(0x64a)]()+'_'+_0x3f5da3})),_0x404090={'projectId':_0x5a8dd7[_0x468a48(0x6ab)],'quizType':_0x5a8dd7[_0x468a48(0x2f1)],'settings':_0x5a8dd7['settings'],'createdBy':_0x5a8dd7[_0x468a48(0x639)],'status':_0x468a48(0x742),'topic':_0x468a48(0x91a)+_0x5a8dd7[_0x468a48(0x58e)],'questions':_0x5e02f7,'createdAt':new Date()[_0x468a48(0x357)](),'quizMode':_0x468a48(0x35e),'pairedQuizId':null};let _0x4fdccf;while(!![]){_0x4fdccf=Math[_0x468a48(0x917)](0x3e8+Math['random']()*0x2328)[_0x468a48(0x239)]();const _0x2c511c=await getDoc(doc(db,_0x468a48(0x4e3)+appId+_0x468a48(0x73b),_0x4fdccf));if(!_0x2c511c[_0x468a48(0x14e)]())break;}await setDoc(doc(db,_0x468a48(0x4e3)+appId+_0x468a48(0x73b),_0x4fdccf),_0x404090),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x6f9383){console[_0x468a48(0x33a)](_0x468a48(0x86a),_0x6f9383),showMessage('เกิดข้อผิดพลาด:\x20'+_0x6f9383['message']);}finally{const _0xaba715=document[_0x468a48(0x5a0)]('temp-loader-results');_0xaba715&&_0xaba715[_0x468a48(0x1cf)](),_0x3f65a7['classList'][_0x468a48(0x1cf)](_0x468a48(0x5cf));}}async function generatePracticeQuestions(_0x5504cc){const _0x17b7cb=_0x56a724,_0x45ec44=_0x17b7cb(0x749)+_0x5504cc+_0x17b7cb(0x416)+simpleMathPrompt+_0x17b7cb(0x792),_0x58e3a6={'type':'OBJECT','properties':{'questionText':{'type':_0x17b7cb(0x52f)},'options':{'type':_0x17b7cb(0x2ae),'items':{'type':_0x17b7cb(0x52f)}},'correctAnswerIndex':{'type':_0x17b7cb(0x166)},'explanation':{'type':_0x17b7cb(0x52f)}},'required':['questionText',_0x17b7cb(0xbd),_0x17b7cb(0x3d2),_0x17b7cb(0x6b3)]},_0x543387={'type':_0x17b7cb(0x3db),'properties':{'topic':{'type':_0x17b7cb(0x52f)},'questions':{'type':_0x17b7cb(0x2ae),'items':_0x58e3a6}},'required':[_0x17b7cb(0x58e),_0x17b7cb(0x528)]};return await callAnalysisApi(_0x45ec44,_0x543387);}function displayLessonPlan(_0x1eb05c,_0x1b35ed){const _0x18d9e8=_0x56a724,_0x188835=_0x18d9e8(0x575)+_0x1b35ed[_0x18d9e8(0x58e)]+_0x18d9e8(0x617)+_0x1eb05c[_0x18d9e8(0x64d)][_0x18d9e8(0xbf)](_0x4431e1=>_0x18d9e8(0x544)+_0x4431e1+_0x18d9e8(0x841))['join']('')+_0x18d9e8(0x3b8)+_0x1eb05c[_0x18d9e8(0x2da)]+_0x18d9e8(0x418)+_0x1eb05c[_0x18d9e8(0x91d)][_0x18d9e8(0xbf)](_0x5ddec0=>_0x18d9e8(0x67b)+_0x5ddec0[_0x18d9e8(0x697)]+_0x18d9e8(0x713)+_0x5ddec0[_0x18d9e8(0xed)]+_0x18d9e8(0x478))[_0x18d9e8(0x13f)]('')+_0x18d9e8(0x4f9);document[_0x18d9e8(0x5a0)](_0x18d9e8(0x7e1))['textContent']='แผนการสอน:\x20'+_0x1b35ed[_0x18d9e8(0x58e)],document['getElementById'](_0x18d9e8(0x61f))[_0x18d9e8(0x65a)]=_0x188835,document[_0x18d9e8(0x5a0)](_0x18d9e8(0x45a))[_0x18d9e8(0x20d)][_0x18d9e8(0x1cf)](_0x18d9e8(0x5cf));if(window[_0x18d9e8(0x7d2)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x20190c){let _0x503705=0x0;const _0x1b5f40=_0x20190c['questions'],_0x514df7=()=>{const _0x4ce516=_0x3686,_0x3b04eb=_0x1b5f40[_0x503705],_0x28fb59=_0x4ce516(0x98f)+(_0x503705+0x1)+_0x4ce516(0x747)+_0x1b5f40[_0x4ce516(0x2fd)]+_0x4ce516(0x78b)+_0x3b04eb[_0x4ce516(0x417)]+_0x4ce516(0x31d)+_0x3b04eb['options']['map']((_0x5c1bb5,_0x52103c)=>_0x4ce516(0x26d)+_0x52103c+_0x4ce516(0x872)+_0x52103c+_0x4ce516(0x34e)+_0x52103c+'\x22>'+_0x5c1bb5+_0x4ce516(0x74))[_0x4ce516(0x13f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x4ce516(0x65a)]=_0x28fb59;if(window[_0x4ce516(0x7d2)])MathJax[_0x4ce516(0x66b)]([studentQuizArea]);document[_0x4ce516(0x5a0)](_0x4ce516(0x880))['addEventListener']('click',async()=>{const _0x437eaf=_0x4ce516,_0x40c2bd=await getHintForQuestion(_0x3b04eb[_0x437eaf(0x417)]);showMessage(_0x40c2bd);}),document[_0x4ce516(0x5a0)](_0x4ce516(0x56d))[_0x4ce516(0x86b)](_0x4ce516(0x12e),()=>{const _0x221d20=_0x4ce516,_0x5e8734=document[_0x221d20(0x4aa)]('input[name=\x22drill_answer\x22]:checked');if(!_0x5e8734){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x243542=document[_0x221d20(0x5a0)]('drill-feedback'),_0x3adbab=parseInt(_0x5e8734[_0x221d20(0x8f1)])===_0x3b04eb['correctAnswerIndex'];_0x3adbab?(_0x243542[_0x221d20(0x1f5)]=_0x221d20(0x51f),_0x243542[_0x221d20(0x65a)]=_0x221d20(0x293)+_0x3b04eb[_0x221d20(0x6b3)]):(_0x243542[_0x221d20(0x1f5)]=_0x221d20(0x5e9),_0x243542[_0x221d20(0x65a)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x3b04eb['explanation']);_0x243542[_0x221d20(0x20d)][_0x221d20(0x1cf)]('hidden');if(window[_0x221d20(0x7d2)])MathJax[_0x221d20(0x66b)]([_0x243542]);document[_0x221d20(0x5a0)](_0x221d20(0x56d))[_0x221d20(0x20d)]['add'](_0x221d20(0x5cf)),document[_0x221d20(0x5a0)](_0x221d20(0x880))[_0x221d20(0x20d)][_0x221d20(0x8cb)](_0x221d20(0x5cf)),document[_0x221d20(0x5a0)]('next-drill-btn')[_0x221d20(0x20d)][_0x221d20(0x1cf)]('hidden');}),document[_0x4ce516(0x5a0)](_0x4ce516(0x993))['addEventListener'](_0x4ce516(0x12e),()=>{const _0x4585de=_0x4ce516;_0x503705++,_0x503705<_0x1b5f40[_0x4585de(0x2fd)]?_0x514df7():(studentQuizArea[_0x4585de(0x65a)]=_0x4585de(0x8ad),document[_0x4585de(0x5a0)](_0x4585de(0x35a))[_0x4585de(0x86b)](_0x4585de(0x12e),()=>{const _0x304d46=_0x4585de;studentQuizArea[_0x304d46(0x20d)][_0x304d46(0x8cb)](_0x304d46(0x5cf)),studentResultArea[_0x304d46(0x20d)][_0x304d46(0x1cf)](_0x304d46(0x5cf));}));});};_0x514df7();}async function getHintForQuestion(_0xe2eda4){const _0x208493=_0x56a724,_0x32bb47=_0x208493(0x264)+_0xe2eda4+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x5bb5ba={'type':_0x208493(0x3db),'properties':{'hint':{'type':'STRING'}},'required':[_0x208493(0xe8)]};try{const _0x1ed143=await callAnalysisApi(_0x32bb47,_0x5bb5ba);return _0x1ed143[_0x208493(0xe8)];}catch(_0x3442b0){return console[_0x208493(0x33a)]('Failed\x20to\x20get\x20hint:',_0x3442b0),_0x208493(0x519);}}async function extractTextFromPdf(_0x2dee10){const _0x2a6220=_0x56a724;pdfjsLib[_0x2a6220(0x521)][_0x2a6220(0x5a4)]=_0x2a6220(0x44d);const _0x65b594=await _0x2dee10[_0x2a6220(0x57d)](),_0x2e1d92=await pdfjsLib['getDocument'](_0x65b594)[_0x2a6220(0x95b)],_0x4cb84d=_0x2e1d92[_0x2a6220(0x698)];let _0x52d9bd='';for(let _0x70f902=0x1;_0x70f902<=_0x4cb84d;_0x70f902++){const _0x63a403=await _0x2e1d92['getPage'](_0x70f902),_0x59921a=await _0x63a403[_0x2a6220(0x930)](),_0x27cb75=_0x59921a[_0x2a6220(0x80b)]['map'](_0x2c4d42=>_0x2c4d42[_0x2a6220(0xba)])['join']('\x20');_0x52d9bd+=_0x27cb75+'\x0a\x0a';}return _0x52d9bd;}async function handleGenerateFromBlueprint(){const _0x4066d0=_0x56a724,_0x2bdd72=document[_0x4066d0(0x5a0)](_0x4066d0(0x5f0)),_0xda5ca4=document[_0x4066d0(0x5a0)](_0x4066d0(0x413)),_0x3ef01f=_0x2bdd72['files'][0x0],_0x30cc0b=_0xda5ca4[_0x4066d0(0xac)][_0x4066d0(0x2fd)]>0x0?_0xda5ca4[_0x4066d0(0xac)][0x0]:null;if(!_0x3ef01f){showMessage(_0x4066d0(0x802));return;}const _0x911f82=document[_0x4066d0(0x5a0)](_0x4066d0(0x876)),_0x152767=document[_0x4066d0(0x5a0)](_0x4066d0(0x370)),_0x4c5341=document[_0x4066d0(0x5a0)]('generated-quiz-container'),_0x2effea=document['getElementById'](_0x4066d0(0x48b));_0x2effea['disabled']=!![],document['getElementById'](_0x4066d0(0xa8))[_0x4066d0(0x20d)]['remove'](_0x4066d0(0x5cf)),_0x4c5341[_0x4066d0(0x65a)]='',_0x911f82[_0x4066d0(0x20d)]['remove']('hidden');try{_0x152767['textContent']=_0x4066d0(0x240);const _0x5cbc73=await extractTextFromPdf(_0x3ef01f);if(!_0x5cbc73[_0x4066d0(0x3fa)]())throw new Error(_0x4066d0(0x538));let _0x20127c='';_0x30cc0b&&(_0x152767[_0x4066d0(0x83f)]=_0x4066d0(0x5e5),_0x20127c=await extractTextFromPdf(_0x30cc0b));_0x152767[_0x4066d0(0x83f)]=_0x4066d0(0x6d2);const _0x2bc07a=document[_0x4066d0(0x5a0)](_0x4066d0(0x50a))[_0x4066d0(0x71e)],_0x4849a0=_0x2bc07a?_0x4066d0(0x870):'',_0x3c9f37=_0x20127c?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x20127c+_0x4066d0(0x75a):'',_0x4230fa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x20127c?_0x4066d0(0x1a5):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5cbc73+_0x4066d0(0x75a)+_0x3c9f37+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4849a0+_0x4066d0(0x32f)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xdbd7f0={'type':_0x4066d0(0x3db),'properties':{'questionText':{'type':_0x4066d0(0x52f)},'questionType':{'type':_0x4066d0(0x52f),'enum':[_0x4066d0(0x420),_0x4066d0(0x341)]},'options':{'type':_0x4066d0(0x2ae),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4066d0(0x166)},'idealAnswer':{'type':_0x4066d0(0x52f)},'explanation':{'type':_0x4066d0(0x52f)},'imageCode':{'type':_0x4066d0(0x52f)}},'required':['questionText',_0x4066d0(0x45e),_0x4066d0(0x6b3)]},_0x1720c8={'type':_0x4066d0(0x3db),'properties':{'topic':{'type':_0x4066d0(0x52f)},'questions':{'type':_0x4066d0(0x2ae),'items':_0xdbd7f0}},'required':[_0x4066d0(0x58e),'questions']};await handleApiCall(_0x4230fa,_0x4066d0(0x2e0),_0x1720c8);}catch(_0x59ecda){console[_0x4066d0(0x33a)]('Error\x20generating\x20from\x20blueprint:',_0x59ecda),showMessage(_0x4066d0(0x864)+_0x59ecda[_0x4066d0(0x26e)]),_0x4c5341[_0x4066d0(0x65a)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x911f82['classList'][_0x4066d0(0x8cb)](_0x4066d0(0x5cf)),_0x2effea[_0x4066d0(0x2df)]=![];}}function proceedToNextQuestion(_0x450803){const _0x1dacdd=_0x56a724;studentAnswersPerQuestion[_0x1dacdd(0x6ae)](_0x450803),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x1dacdd(0x528)]['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x1beeb0,_0x5e4179){const _0x56cb0d=_0x56a724,_0x2c49cd=Object[_0x56cb0d(0x7d9)](_0x1beeb0['players']||{}),_0xd3820d=_0x2c49cd[_0x56cb0d(0x2fd)],_0x4d46c5=[..._0x2c49cd][_0x56cb0d(0x905)]((_0x22ab16,_0x210b89)=>_0x210b89[_0x56cb0d(0x2cf)]-_0x22ab16['score']),_0x4a564d=_0x1beeb0[_0x56cb0d(0x795)];let _0x5883ba='';const _0x1125dc=_0x1beeb0[_0x56cb0d(0x303)][_0x56cb0d(0x528)],_0x3105e3=_0x1125dc[_0x4a564d],_0x415289=_0x2680a8=>String[_0x56cb0d(0x307)](0x41+_0x2680a8);let _0xd38cd4='',_0x400b47='';if(_0x3105e3){const _0x32f801=_0x3105e3[_0x56cb0d(0x45e)]||_0x1beeb0[_0x56cb0d(0x303)][_0x56cb0d(0x2f1)];if(_0x32f801===_0x56cb0d(0x420)&&_0x3105e3[_0x56cb0d(0xbd)]&&_0x3105e3[_0x56cb0d(0x3d2)]!==undefined){const _0x1f2121=_0x3105e3[_0x56cb0d(0x3d2)];_0xd38cd4=_0x3105e3[_0x56cb0d(0xbd)][_0x1f2121],_0x400b47=_0x415289(_0x1f2121)+'.';}else{if(_0x32f801==='true_false'){const _0x20aed1=_0x3105e3[_0x56cb0d(0xc1)]===!![]||String(_0x3105e3[_0x56cb0d(0xc1)])['toLowerCase']()===_0x56cb0d(0x25a);_0x20aed1?(_0xd38cd4=_0x56cb0d(0x32e),_0x400b47='ก.'):(_0xd38cd4='ไม่ใช่\x20/\x20ผิด',_0x400b47='ข.');}else{if(_0x32f801===_0x56cb0d(0x85b))_0xd38cd4=_0x3105e3['correctResponse']||'-',_0x400b47='';else _0x32f801===_0x56cb0d(0x341)&&(_0xd38cd4=_0x3105e3[_0x56cb0d(0x38d)]||'-',_0x400b47='');}}}_0xd38cd4&&(_0x5883ba=_0x56cb0d(0x8b3)+(_0x4a564d+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x400b47+'\x20'+_0xd38cd4+_0x56cb0d(0x3c5));const _0x3027d2=_0x4d46c5['map'](_0x59d89a=>{const _0x5a7885=_0x56cb0d;let _0x1b2f79=![];if(_0x59d89a['answers']&&_0x4a564d!==-0x1){const _0xcede7e=_0x59d89a[_0x5a7885(0x570)][_0x5a7885(0xcc)](_0x228725=>_0x228725[_0x5a7885(0x459)]===_0x4a564d);_0xcede7e&&_0xcede7e[_0x5a7885(0x29a)]&&(_0x1b2f79=!![]);}const _0x32e0bd=_0x1b2f79?_0x5a7885(0x6ed):_0x5a7885(0x24a);return _0x5a7885(0x238)+_0x32e0bd+_0x5a7885(0x626)+_0x59d89a[_0x5a7885(0x1f8)]+'</span><span\x20class=\x22font-bold\x22>'+_0x59d89a[_0x5a7885(0x2cf)]+'\x20คะแนน</span></div>';})[_0x56cb0d(0x13f)](''),_0x58e4f5=_0x1125dc[_0x56cb0d(0xbf)]((_0x2e40fc,_0xc21859)=>{const _0x152de2=_0x56cb0d,_0x41f7ef=_0x2c49cd['filter'](_0x185780=>_0x185780['answers']&&_0x185780[_0x152de2(0x570)][_0x152de2(0xcc)](_0x4295a5=>_0x4295a5[_0x152de2(0x459)]===_0xc21859&&_0x4295a5[_0x152de2(0x29a)]))[_0x152de2(0x2fd)],_0x4258c3=_0xc21859===_0x4a564d,_0x12abb4=_0x4258c3?_0x152de2(0x158):_0x152de2(0x724);return _0x152de2(0x4d2)+_0x12abb4+_0x152de2(0x8e7)+(_0xc21859+0x1)+_0x152de2(0x72d)+_0x41f7ef+_0x152de2(0x747)+_0xd3820d+_0x152de2(0x807);})['join']('');let _0x16b4af='',_0x5686ec='';if(_0x5e4179){const _0x53adea=_0x1beeb0['currentQuestionIndex']>=_0x1125dc['length']-0x1;_0x16b4af='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>'+(_0x53adea?_0x56cb0d(0x7d8):_0x56cb0d(0x7f8))+_0x56cb0d(0x177),_0x5686ec=_0x56cb0d(0x4b2);}const _0x263bd3=_0x56cb0d(0x523)+_0x1beeb0[_0x56cb0d(0x303)][_0x56cb0d(0x58e)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5686ec+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5883ba+_0x56cb0d(0x92c)+(_0x3027d2||_0x56cb0d(0x3ce))+_0x56cb0d(0x2a3)+_0x58e4f5+_0x56cb0d(0x631)+(_0x5e4179?_0x56cb0d(0xbb)+_0x16b4af+_0x56cb0d(0x5bd):'')+_0x56cb0d(0x1bb);liveGameView[_0x56cb0d(0x65a)]=_0x263bd3;if(window[_0x56cb0d(0x7d2)]){const _0x35448e=document[_0x56cb0d(0x5a0)](_0x56cb0d(0x730));_0x35448e&&MathJax[_0x56cb0d(0x66b)]([_0x35448e]);}if(_0x5e4179){document['getElementById'](_0x56cb0d(0x3bc))['onclick']=async()=>{const _0xf61584=_0x56cb0d,_0x4434a9=doc(db,_0xf61584(0x4e3)+appId+_0xf61584(0xb7),currentLiveGameId),_0x21591f=_0x1beeb0[_0xf61584(0x795)]+0x1;if(_0x21591f<_0x1125dc[_0xf61584(0x2fd)]){const _0x9da2cc={};Object[_0xf61584(0x86c)](_0x1beeb0['players'])[_0xf61584(0x573)](_0x1c853f=>{const _0x2e0521=_0xf61584;_0x9da2cc[_0x2e0521(0x270)+_0x1c853f+_0x2e0521(0x374)]=![],_0x9da2cc[_0x2e0521(0x270)+_0x1c853f+'.lastAnswerIndex']=null;}),await updateDoc(_0x4434a9,{..._0x9da2cc,'status':_0xf61584(0x697),'currentQuestionIndex':_0x21591f,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4434a9,{'status':'podium'});};const _0x23380a=document[_0x56cb0d(0x5a0)]('end-sync-game-btn');_0x23380a&&(_0x23380a[_0x56cb0d(0x756)]=()=>{const _0x237f65=_0x56cb0d;showConfirmation(_0x237f65(0x454),async()=>{const _0x5f39a8=_0x237f65,_0x4e030b=doc(db,_0x5f39a8(0x4e3)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x4e030b,{'status':_0x5f39a8(0x93c)});});});}}async function handleGenerateParallelFromBank(_0x2ba3d3){const _0x4a419f=_0x56a724,_0x17873f=document['getElementById']('results-tab-content'),_0x18ccb2=document[_0x4a419f(0x5a0)](_0x4a419f(0x4d9));_0x18ccb2[_0x4a419f(0x20d)][_0x4a419f(0x8cb)]('hidden');const _0x128a4d=_0x4a419f(0x397)+_0x2ba3d3['topic']+_0x4a419f(0x6be);_0x17873f['insertAdjacentHTML']('beforeend',_0x128a4d);const _0x36a7db=document['getElementById'](_0x4a419f(0x850));try{const _0x262079=_0x2ba3d3[_0x4a419f(0x528)][_0x4a419f(0xbf)]((_0x106b21,_0x2398ed)=>{const _0x5fd769=_0x4a419f;let _0x46938d=_0x2398ed+0x1+'.\x20'+(_0x106b21[_0x5fd769(0x417)]||_0x106b21[_0x5fd769(0x55a)])+'\x0a';if(_0x106b21[_0x5fd769(0xbd)])_0x46938d+=_0x106b21[_0x5fd769(0xbd)][_0x5fd769(0xbf)]((_0x464002,_0x35aa01)=>_0x5fd769(0x909)+(_0x35aa01===_0x106b21[_0x5fd769(0x3d2)]?_0x5fd769(0x550):'')+'\x20'+_0x464002)[_0x5fd769(0x13f)]('\x0a');else _0x106b21['idealAnswer']&&(_0x46938d+=_0x5fd769(0x280)+_0x106b21['idealAnswer']);return _0x46938d;})[_0x4a419f(0x13f)]('\x0a\x0a');_0x36a7db[_0x4a419f(0x83f)]=_0x4a419f(0x7db);const _0x5ee2cb=_0x4a419f(0x8cf)+_0x2ba3d3[_0x4a419f(0x58e)]+_0x4a419f(0x7c9)+_0x262079+_0x4a419f(0x1e6)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x23240c={'type':_0x4a419f(0x3db),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4a419f(0x52f),'enum':[_0x4a419f(0x420),_0x4a419f(0x341),_0x4a419f(0x142),'matching_item']},'options':{'type':_0x4a419f(0x2ae),'items':{'type':_0x4a419f(0x52f)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4a419f(0x52f)},'correctAnswer':{'type':_0x4a419f(0x19f)},'stem':{'type':_0x4a419f(0x52f)},'correctResponse':{'type':_0x4a419f(0x52f)},'allResponses':{'type':_0x4a419f(0x2ae),'items':{'type':'STRING'}},'explanation':{'type':_0x4a419f(0x52f)},'imageCode':{'type':_0x4a419f(0x52f)}},'required':['questionType',_0x4a419f(0x6b3)]},_0x312e8c={'type':_0x4a419f(0x3db),'properties':{'topic':{'type':_0x4a419f(0x52f)},'questions':{'type':'ARRAY','items':_0x23240c}},'required':[_0x4a419f(0x58e),_0x4a419f(0x528)]},_0x49f5c6=await callAnalysisApi(_0x5ee2cb,_0x312e8c),_0x5f59cc=_0x49f5c6[_0x4a419f(0x528)][_0x4a419f(0xbf)]((_0x40d6da,_0x1c5688)=>({..._0x40d6da,'id':'q_'+Date['now']()+'_'+_0x1c5688})),_0x2f5a5e=_0x4a419f(0x8b)+_0x2ba3d3['topic'],_0x27e450={'topic':_0x2f5a5e,'questions':_0x5f59cc,'quizType':_0x2ba3d3['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x4a419f(0x357)](),'status':_0x4a419f(0x742),'settings':_0x2ba3d3[_0x4a419f(0x681)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x49e18d;while(!![]){_0x49e18d=Math[_0x4a419f(0x917)](0x3e8+Math[_0x4a419f(0x95a)]()*0x2328)['toString']();const _0x5b81d2=await getDoc(doc(db,_0x4a419f(0x4e3)+appId+'/public/data/quizzes',_0x49e18d));if(!_0x5b81d2[_0x4a419f(0x14e)]())break;}await setDoc(doc(db,_0x4a419f(0x4e3)+appId+_0x4a419f(0x73b),_0x49e18d),_0x27e450),showMessage(_0x4a419f(0x20e));}catch(_0x13f5f1){console[_0x4a419f(0x33a)](_0x4a419f(0x3d4),_0x13f5f1),showMessage(_0x4a419f(0x864)+_0x13f5f1[_0x4a419f(0x26e)]);}finally{const _0x834f6f=document[_0x4a419f(0x5a0)](_0x4a419f(0x1b2));_0x834f6f&&_0x834f6f['remove'](),_0x18ccb2['classList']['remove'](_0x4a419f(0x5cf));}}async function handleGenerateParallelPostTest(_0x58359b){const _0x280fc8=_0x56a724,_0x47529d=document[_0x280fc8(0x5a0)](_0x280fc8(0x4f6)),_0x2a1120=document[_0x280fc8(0x5a0)](_0x280fc8(0x4d9));_0x2a1120[_0x280fc8(0x20d)]['add']('hidden');const _0x457407=_0x280fc8(0x3bd);_0x47529d[_0x280fc8(0x7cb)](_0x280fc8(0x1f2),_0x457407);try{const _0x302c3c=_0x58359b[_0x280fc8(0x528)][_0x280fc8(0xbf)]((_0x40a637,_0x261eff)=>{const _0x23149e=_0x280fc8;let _0x3280ed=_0x261eff+0x1+'.\x20'+(_0x40a637['questionText']||_0x40a637['stem']);if(_0x40a637[_0x23149e(0xbd)])_0x3280ed+=_0x23149e(0x1d5)+_0x40a637[_0x23149e(0xbd)]['join'](',\x20');return _0x3280ed;})['join']('\x0a\x0a'),_0x373195='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x58359b[_0x280fc8(0x58e)]+_0x280fc8(0x822)+_0x302c3c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x40b55d={'type':_0x280fc8(0x3db),'properties':{'topic':{'type':_0x280fc8(0x52f)},'questions':{'type':'ARRAY','items':{'type':_0x280fc8(0x3db),'properties':{'questionText':{'type':_0x280fc8(0x52f)},'questionType':{'type':'STRING'},'options':{'type':_0x280fc8(0x2ae),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x280fc8(0x166)},'idealAnswer':{'type':_0x280fc8(0x52f)},'explanation':{'type':_0x280fc8(0x52f)}},'required':[_0x280fc8(0x417),'explanation']}}},'required':['topic','questions']},_0x1d8900=await callAnalysisApi(_0x373195,_0x40b55d),_0x2643a4=_0x58359b[_0x280fc8(0x58e)][_0x280fc8(0x3c8)](_0x280fc8(0x76),'')['trim'](),_0x46d49e='(หลังเรียน)\x20'+_0x2643a4,_0x52d261={..._0x1d8900,'topic':_0x46d49e,'quizType':_0x58359b[_0x280fc8(0x2f1)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x280fc8(0x357)](),'status':_0x280fc8(0x742),'settings':_0x58359b[_0x280fc8(0x681)],'quizMode':_0x280fc8(0x1ec),'pairedQuizId':_0x58359b['id']};let _0x54f0cc;while(!![]){_0x54f0cc=Math['floor'](0x3e8+Math[_0x280fc8(0x95a)]()*0x2328)[_0x280fc8(0x239)]();const _0x1d85ac=await getDoc(doc(db,_0x280fc8(0x4e3)+appId+'/public/data/quizzes',_0x54f0cc));if(!_0x1d85ac[_0x280fc8(0x14e)]())break;}await setDoc(doc(db,_0x280fc8(0x4e3)+appId+_0x280fc8(0x73b),_0x54f0cc),_0x52d261);const _0x22a0d8=doc(db,_0x280fc8(0x4e3)+appId+'/public/data/quizzes',_0x58359b['id']);await updateDoc(_0x22a0d8,{'pairedQuizId':_0x54f0cc}),showMessage(_0x280fc8(0x2f8));}catch(_0x1ca39e){console['error']('Error\x20generating\x20parallel\x20post-test:',_0x1ca39e),showMessage(_0x280fc8(0x864)+_0x1ca39e[_0x280fc8(0x26e)]);}finally{const _0x829aef=document[_0x280fc8(0x5a0)](_0x280fc8(0x1b2));if(_0x829aef)_0x829aef[_0x280fc8(0x1cf)]();_0x2a1120[_0x280fc8(0x20d)][_0x280fc8(0x1cf)](_0x280fc8(0x5cf));}}async function handleGenerateParallelTest(){const _0x5f7ca=_0x56a724,_0x1f087f=document[_0x5f7ca(0x5a0)](_0x5f7ca(0x82d)),_0x429803=_0x1f087f['files'][0x0];if(!_0x429803){showMessage(_0x5f7ca(0x97e));return;}const _0x22c08c=document['getElementById'](_0x5f7ca(0x876)),_0x316861=document[_0x5f7ca(0x5a0)]('loader-text'),_0x360dc3=document[_0x5f7ca(0x5a0)](_0x5f7ca(0x6ce)),_0x28583d=document[_0x5f7ca(0x5a0)](_0x5f7ca(0x267));_0x28583d['disabled']=!![],document[_0x5f7ca(0x5a0)]('quiz-generation-area')[_0x5f7ca(0x20d)][_0x5f7ca(0x1cf)](_0x5f7ca(0x5cf)),_0x360dc3[_0x5f7ca(0x65a)]='',_0x22c08c['classList'][_0x5f7ca(0x1cf)](_0x5f7ca(0x5cf)),_0x316861['textContent']=_0x5f7ca(0x78f);try{const _0x33afec=await extractTextFromPdf(_0x429803);if(!_0x33afec[_0x5f7ca(0x3fa)]())throw new Error(_0x5f7ca(0x4fb));_0x316861[_0x5f7ca(0x83f)]=_0x5f7ca(0x7db);const _0x567c5a=document['getElementById'](_0x5f7ca(0x50a))[_0x5f7ca(0x71e)],_0x4bd3f8=_0x567c5a?_0x5f7ca(0x870):'',_0x512c0d=_0x5f7ca(0x1d2)+_0x33afec+_0x5f7ca(0x7b5)+_0x4bd3f8+_0x5f7ca(0x32f)+simpleMathPrompt+_0x5f7ca(0x72f),_0x2e64b3={'type':_0x5f7ca(0x3db),'properties':{'questionText':{'type':_0x5f7ca(0x52f)},'questionType':{'type':_0x5f7ca(0x52f),'enum':[_0x5f7ca(0x420),'short_answer']},'options':{'type':_0x5f7ca(0x2ae),'items':{'type':_0x5f7ca(0x52f)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5f7ca(0x52f)},'imageCode':{'type':_0x5f7ca(0x52f)}},'required':['questionText',_0x5f7ca(0x45e),'explanation']},_0x5d3d72={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x2e64b3}},'required':[_0x5f7ca(0x58e),_0x5f7ca(0x528)]};await handleApiCall(_0x512c0d,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0x5d3d72);}catch(_0x21dccf){console['error'](_0x5f7ca(0x6b0),_0x21dccf),showMessage(_0x5f7ca(0x864)+_0x21dccf[_0x5f7ca(0x26e)]),_0x360dc3[_0x5f7ca(0x65a)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x22c08c[_0x5f7ca(0x20d)][_0x5f7ca(0x8cb)](_0x5f7ca(0x5cf)),_0x28583d[_0x5f7ca(0x2df)]=![];}}async function handleRegenerateQuestionInEditor(_0x57e68c){const _0x2dbc90=_0x56a724;if(currentEditingQuizData===null)return;const _0x160599=document['querySelector'](_0x2dbc90(0x938)+_0x57e68c+'\x22]');_0x160599&&(_0x160599['innerHTML']=_0x2dbc90(0x4ab));const _0x183b7f=currentEditingQuizData['questions'][_0x57e68c],_0x199bd0=currentEditingQuizData[_0x2dbc90(0x58e)],_0x3a3401=_0x183b7f[_0x2dbc90(0x45e)],_0x2a5ea1={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2dbc90(0x2ae),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2dbc90(0x166)},'explanation':{'type':_0x2dbc90(0x52f)}},'required':[_0x2dbc90(0x417),'options',_0x2dbc90(0x3d2),_0x2dbc90(0x6b3)]},_0x5e7ba2={'type':_0x2dbc90(0x3db),'properties':{'questionText':{'type':_0x2dbc90(0x52f)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2dbc90(0x52f)}},'required':['questionText','idealAnswer',_0x2dbc90(0x6b3)]};let _0x45bea9,_0x17866f='';_0x3a3401===_0x2dbc90(0x420)?(_0x45bea9=_0x2a5ea1,_0x17866f=_0x2dbc90(0x50e)):(_0x45bea9=_0x5e7ba2,_0x17866f=_0x2dbc90(0x27a));const _0x2759b3='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x199bd0+_0x2dbc90(0x91f)+_0x17866f+_0x2dbc90(0x227)+(_0x183b7f[_0x2dbc90(0x417)]||_0x183b7f['stem'])+'\x22.\x20'+simpleMathPrompt;try{const _0xe100d1=await callAnalysisApi(_0x2759b3,_0x45bea9);currentEditingQuizData[_0x2dbc90(0x528)][_0x57e68c]={..._0x183b7f,..._0xe100d1},renderQuizEditor(currentEditingQuizData);}catch(_0x5874e6){console[_0x2dbc90(0x33a)](_0x2dbc90(0x299),_0x5874e6),showMessage(_0x2dbc90(0x79b)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x165ee4=_0x56a724,_0x448004=document[_0x165ee4(0x5a0)](_0x165ee4(0x8c0));currentMode===_0x165ee4(0x740)?(adminPasswordModal[_0x165ee4(0x20d)][_0x165ee4(0x1cf)](_0x165ee4(0x5cf)),document[_0x165ee4(0x5a0)](_0x165ee4(0x45c))[_0x165ee4(0x99)]()):(currentMode=_0x165ee4(0x740),_0x448004['innerHTML']='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x448004['title']=_0x165ee4(0x426),showView(_0x165ee4(0x740)));}function handleAdminLogin(){const _0x1b7df7=_0x56a724,_0x58f702=document[_0x1b7df7(0x5a0)](_0x1b7df7(0x45c)),_0xcda8f8=document[_0x1b7df7(0x5a0)]('password-error-msg');if(_0x58f702[_0x1b7df7(0x8f1)]===_0x1b7df7(0x494)){adminPasswordModal[_0x1b7df7(0x20d)][_0x1b7df7(0x8cb)]('hidden'),_0x58f702[_0x1b7df7(0x8f1)]='',_0xcda8f8['classList'][_0x1b7df7(0x8cb)]('hidden'),currentMode='admin';const _0x8ad3ee=document[_0x1b7df7(0x5a0)](_0x1b7df7(0x8c0));_0x8ad3ee[_0x1b7df7(0x65a)]=_0x1b7df7(0x72c),_0x8ad3ee[_0x1b7df7(0x701)]=_0x1b7df7(0x987),showView(_0x1b7df7(0x994));}else _0xcda8f8[_0x1b7df7(0x20d)][_0x1b7df7(0x1cf)](_0x1b7df7(0x5cf)),_0x58f702[_0x1b7df7(0x8f1)]='';}function switchProjectTab(_0x2098b9){const _0x2cb909=_0x56a724;[_0x2cb909(0x82b),'results',_0x2cb909(0x931)][_0x2cb909(0x573)](_0x492e90=>{const _0x272c7a=_0x2cb909;document[_0x272c7a(0x5a0)](_0x492e90+_0x272c7a(0x3ba))[_0x272c7a(0x20d)]['remove'](_0x272c7a(0x742)),document[_0x272c7a(0x5a0)](_0x492e90+_0x272c7a(0x833))[_0x272c7a(0x20d)]['add']('hidden');}),document['getElementById'](_0x2098b9+_0x2cb909(0x3ba))[_0x2cb909(0x20d)][_0x2cb909(0x8cb)](_0x2cb909(0x742)),document['getElementById'](_0x2098b9+_0x2cb909(0x833))['classList'][_0x2cb909(0x1cf)](_0x2cb909(0x5cf));}function switchQuizDetailTab(_0x556c55){const _0x52cb69=_0x56a724,_0x10bafb={'analytics':{'btn':'analytics-tab-btn','content':_0x52cb69(0x471)},'scores':{'btn':_0x52cb69(0x74a),'content':_0x52cb69(0x619)},'leaderboard-quiz':{'btn':_0x52cb69(0x460),'content':_0x52cb69(0x19d)},'behavior-log':{'btn':_0x52cb69(0x17a),'content':_0x52cb69(0x112)}};for(const _0x9cd4a0 in _0x10bafb){document[_0x52cb69(0x5a0)](_0x10bafb[_0x9cd4a0][_0x52cb69(0x310)])[_0x52cb69(0x20d)][_0x52cb69(0x1cf)](_0x52cb69(0x742)),document[_0x52cb69(0x5a0)](_0x10bafb[_0x9cd4a0][_0x52cb69(0x58d)])[_0x52cb69(0x20d)][_0x52cb69(0x8cb)](_0x52cb69(0x5cf));}document[_0x52cb69(0x5a0)](_0x10bafb[_0x556c55]['btn'])[_0x52cb69(0x20d)][_0x52cb69(0x8cb)]('active'),document[_0x52cb69(0x5a0)](_0x10bafb[_0x556c55]['content'])[_0x52cb69(0x20d)][_0x52cb69(0x1cf)](_0x52cb69(0x5cf));}function showMessage(_0x29784a,_0x181363=null){const _0x1cf7f5=_0x56a724;modalMessage[_0x1cf7f5(0x83f)]=_0x29784a,modalConfirmAction=_0x181363,messageModal[_0x1cf7f5(0x20d)][_0x1cf7f5(0x1cf)](_0x1cf7f5(0x5cf));}function showConfirmation(_0x5bb7e1,_0x4f5b4d){const _0x3bf234=_0x56a724;document[_0x3bf234(0x5a0)](_0x3bf234(0x37f))['textContent']=_0x5bb7e1,document[_0x3bf234(0x5a0)](_0x3bf234(0x7ff))[_0x3bf234(0x4aa)]('h3')[_0x3bf234(0x83f)]='ยืนยันการกระทำ',confirmAction=_0x4f5b4d,confirmationModal[_0x3bf234(0x20d)][_0x3bf234(0x1cf)](_0x3bf234(0x5cf));}function listenForProjects(){const _0x30f372=_0x56a724,_0x5f1245=doc(db,_0x30f372(0x7cf),_0x30f372(0x827));onSnapshot(_0x5f1245,_0x2f8856=>{const _0x2c0374=_0x30f372;if(_0x2f8856[_0x2c0374(0x14e)]()){const _0x109f97=_0x2f8856['data']();globalDashboardSettings['projectSort']=_0x109f97[_0x2c0374(0x557)]||_0x2c0374(0x95),globalDashboardSettings[_0x2c0374(0x9f)]=_0x109f97['pinnedProjects']||[],globalDashboardSettings[_0x2c0374(0x4e5)]=_0x109f97['projectOrder']||[];}allProjects[_0x2c0374(0x2fd)]>0x0&&renderProjects();});const _0x4d7dd9=collection(db,'artifacts/'+appId+_0x30f372(0x3b0));unsubscribeProjectsListener=onSnapshot(_0x4d7dd9,_0x22c9a0=>{const _0x51066b=_0x30f372;allProjects=_0x22c9a0[_0x51066b(0x465)][_0x51066b(0xbf)](_0x3fe316=>({'id':_0x3fe316['id'],..._0x3fe316[_0x51066b(0x2fb)]()})),renderProjects();},_0x4596dc=>{const _0x124d23=_0x30f372;console[_0x124d23(0x33a)]('Error\x20listening\x20for\x20projects:',_0x4596dc),showMessage(_0x124d23(0x95d));});}function showColorPalette(_0x4bcd53,_0x5548e7){const _0x576916=_0x56a724;document[_0x576916(0x81b)](_0x576916(0x101))[_0x576916(0x573)](_0x38d5d6=>_0x38d5d6['remove']());const _0x23831d=[_0x576916(0x7c6),'#FEE2E2','#FEF3C7','#D1FAE5',_0x576916(0x32a),'#E0E7FF',_0x576916(0x739),'#FCE7F3',_0x576916(0x9d2)],_0x417311=document[_0x576916(0x39d)](_0x576916(0x9d));_0x417311['className']=_0x576916(0x85e),_0x23831d[_0x576916(0x573)](_0x4e3846=>{const _0x7db35c=_0x576916,_0x348f5b=document[_0x7db35c(0x39d)]('div');_0x348f5b[_0x7db35c(0x1f5)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x348f5b[_0x7db35c(0x716)]['backgroundColor']=_0x4e3846,_0x348f5b['addEventListener'](_0x7db35c(0x12e),()=>{handleProjectColorChange(_0x5548e7,_0x4e3846),_0x417311['remove']();}),_0x417311[_0x7db35c(0x7eb)](_0x348f5b);}),document['body']['appendChild'](_0x417311);const _0x38615b=_0x4bcd53['getBoundingClientRect']();_0x417311[_0x576916(0x716)]['top']=_0x38615b['bottom']+window[_0x576916(0x7a3)]+'px',_0x417311[_0x576916(0x716)][_0x576916(0x644)]=_0x38615b['left']+window[_0x576916(0xe7)]-_0x417311[_0x576916(0x135)]/0x2+'px';}async function handleProjectColorChange(_0x314856,_0x4380d8){const _0x441d5f=_0x56a724,_0x4e1f62=doc(db,'artifacts/'+appId+_0x441d5f(0x3b0),_0x314856);try{await updateDoc(_0x4e1f62,{'color':_0x4380d8});}catch(_0x336ae4){console[_0x441d5f(0x33a)]('Error\x20updating\x20project\x20color:',_0x336ae4),showMessage(_0x441d5f(0x399));}}async function renderProjects(){const _0x5169a1=_0x56a724,_0xdcbdb9=globalDashboardSettings['projectSort']||_0x5169a1(0x95),_0x225ecf=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x4f4cde=globalDashboardSettings[_0x5169a1(0x645)]||_0x5169a1(0x381),_0x501f18=document['getElementById']('grid-view-btn'),_0x590daf=document['getElementById'](_0x5169a1(0xfe));_0x501f18[_0x5169a1(0x20d)]['toggle'](_0x5169a1(0x742),_0x4f4cde===_0x5169a1(0x381)),_0x590daf[_0x5169a1(0x20d)]['toggle'](_0x5169a1(0x742),_0x4f4cde===_0x5169a1(0x5a7)),document[_0x5169a1(0x5a0)](_0x5169a1(0x360))['value']=_0xdcbdb9;const _0x57e8ee=document[_0x5169a1(0x5a0)](_0x5169a1(0x727))['value'][_0x5169a1(0x527)]();let _0x18bae2=allProjects['filter'](_0x584f0e=>_0x584f0e[_0x5169a1(0x319)][_0x5169a1(0x527)]()['includes'](_0x57e8ee));const _0x55fec3=_0x18bae2[_0x5169a1(0x5e1)](_0x2e2188=>_0x225ecf[_0x5169a1(0x8fa)](_0x2e2188['id'])),_0x262392=_0x18bae2[_0x5169a1(0x5e1)](_0x25cf6b=>!_0x225ecf[_0x5169a1(0x8fa)](_0x25cf6b['id'])),_0x17930f=(_0x23af0c,_0x306d37)=>{const _0x5245dc=_0x5169a1;switch(_0xdcbdb9){case _0x5245dc(0x95e):return _0x23af0c[_0x5245dc(0x319)]['localeCompare'](_0x306d37[_0x5245dc(0x319)],'th');case _0x5245dc(0x3aa):return _0x306d37[_0x5245dc(0x319)]['localeCompare'](_0x23af0c[_0x5245dc(0x319)],'th');case'date_asc':return new Date(_0x23af0c[_0x5245dc(0x389)])-new Date(_0x306d37['createdAt']);default:return new Date(_0x306d37['createdAt'])-new Date(_0x23af0c[_0x5245dc(0x389)]);}};_0x55fec3['sort'](_0x17930f),_0x262392[_0x5169a1(0x905)](_0x17930f);const _0x4996c8=[..._0x55fec3,..._0x262392],_0x5ecd05=globalDashboardSettings[_0x5169a1(0x4e5)]||[];_0x5ecd05[_0x5169a1(0x2fd)]>0x0&&_0x4f4cde===_0x5169a1(0x381)&&_0x4996c8[_0x5169a1(0x905)]((_0x4480f5,_0x546975)=>{const _0x13b78d=_0x5169a1,_0x23ec63=_0x5ecd05['indexOf'](_0x4480f5['id']),_0x11b962=_0x5ecd05[_0x13b78d(0x2e6)](_0x546975['id']);if(_0x23ec63===-0x1)return 0x1;if(_0x11b962===-0x1)return-0x1;return _0x23ec63-_0x11b962;});const _0x167c3c={};await Promise['all'](_0x4996c8[_0x5169a1(0xbf)](async _0x26e0c9=>{const _0x5c1cb5=_0x5169a1,_0x361355=query(collection(db,_0x5c1cb5(0x4e3)+appId+_0x5c1cb5(0x73b)),where(_0x5c1cb5(0x6ab),'==',_0x26e0c9['id'])),_0x2fd5b8=await getDocs(_0x361355);_0x167c3c[_0x26e0c9['id']]=_0x2fd5b8[_0x5c1cb5(0x9b3)];}));const _0x3ac6c0=document[_0x5169a1(0x5a0)](_0x5169a1(0x4b4));let _0x39a26b='';if(_0x4f4cde===_0x5169a1(0x381)){_0x3ac6c0[_0x5169a1(0x1f5)]=_0x5169a1(0x4cf);if(starredQuizzes['length']>0x0&&_0x57e8ee===''){const _0x2a87af=starredQuizzes[_0x5169a1(0xbf)](_0x2e48d3=>{const _0x4e5265=_0x5169a1,_0x158fee=allProjects[_0x4e5265(0xcc)](_0x1e2dd1=>_0x1e2dd1['id']===_0x2e48d3[_0x4e5265(0x6ab)]);return{..._0x2e48d3,'projectName':_0x158fee?_0x158fee[_0x4e5265(0x319)]:_0x4e5265(0x3e5)};});_0x39a26b+=_0x5169a1(0x616)+_0x2a87af['map'](_0x868db0=>_0x5169a1(0x169)+_0x868db0['topic']+'\x22>'+_0x868db0[_0x5169a1(0x58e)]+_0x5169a1(0x8a9)+_0x868db0[_0x5169a1(0x319)]+_0x5169a1(0x352)+_0x868db0[_0x5169a1(0x319)]+_0x5169a1(0x97a))[_0x5169a1(0x13f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x5169a1(0x2fd)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x4996c8[_0x5169a1(0x573)](_0x3c273a=>{const _0x336d10=_0x5169a1,_0x197336=_0x167c3c[_0x3c273a['id']]??0x0,_0x58acd9=_0x225ecf[_0x336d10(0x8fa)](_0x3c273a['id']),_0x2db7d5=_0x3c273a[_0x336d10(0x2c9)]||_0x336d10(0x7c6),_0x401c27=parseInt(_0x2db7d5[_0x336d10(0x8bb)](0x1,0x3),0x10)*0.299+parseInt(_0x2db7d5['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x2db7d5[_0x336d10(0x8bb)](0x5,0x7),0x10)*0.114<0xba,_0x37d0e1=_0x401c27?_0x336d10(0x89):_0x336d10(0x926),_0x31a94c=_0x401c27?_0x336d10(0x5ab):_0x336d10(0x311);_0x39a26b+=_0x336d10(0x20b)+(_0x58acd9?_0x336d10(0x4b9):_0x336d10(0x618))+_0x336d10(0x7d5)+_0x2db7d5+_0x336d10(0x592)+_0x3c273a['id']+_0x336d10(0x17d)+_0x3c273a['id']+_0x336d10(0x27e)+(_0x401c27?'text-gray-300\x20hover:text-white':_0x336d10(0x43e))+_0x336d10(0x5f6)+_0x3c273a['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x401c27?_0x336d10(0x889):'text-gray-400\x20hover:text-indigo-600')+_0x336d10(0x7d3)+(_0x58acd9?_0x401c27?_0x336d10(0x38a):'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x3c273a['id']+_0x336d10(0x998)+_0x37d0e1+'\x20pointer-events-none\x22>'+_0x3c273a[_0x336d10(0x319)]+_0x336d10(0x71c)+_0x31a94c+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x3c273a[_0x336d10(0x389)])[_0x336d10(0x9c1)](_0x336d10(0x9b2))+_0x336d10(0x3cc)+(_0x401c27?_0x336d10(0x29d):_0x336d10(0x382))+_0x336d10(0x38f)+_0x197336+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3c273a['id']+_0x336d10(0x6f8)+_0x3c273a[_0x336d10(0x319)]+_0x336d10(0x7bb)+(_0x401c27?'text-red-300\x20hover:text-red-100':_0x336d10(0x878))+_0x336d10(0x85a);});}else _0x3ac6c0[_0x5169a1(0x1f5)]=_0x5169a1(0x23e),starredQuizzes[_0x5169a1(0x2fd)]>0x0&&_0x57e8ee===''&&(_0x39a26b+=_0x5169a1(0x583)+starredQuizzes[_0x5169a1(0x2fd)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x39a26b+=_0x5169a1(0x8e2),_0x4996c8[_0x5169a1(0x573)](_0x3f540a=>{const _0x460d99=_0x5169a1,_0x53b3e1=_0x167c3c[_0x3f540a['id']]??0x0,_0x4f3d06=_0x225ecf['has'](_0x3f540a['id']);_0x39a26b+=_0x460d99(0x80e)+(_0x3f540a[_0x460d99(0x2c9)]||_0x460d99(0x9d2))+_0x460d99(0x4c1)+_0x3f540a['id']+_0x460d99(0x4a7)+_0x3f540a[_0x460d99(0x319)]+_0x460d99(0x1d6)+_0x53b3e1+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x3f540a[_0x460d99(0x389)])[_0x460d99(0x165)](_0x460d99(0x9b2))+_0x460d99(0x5e0)+_0x3f540a['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x4f3d06?'text-indigo-600':'')+_0x460d99(0x274)+_0x3f540a['id']+_0x460d99(0x6f8)+_0x3f540a[_0x460d99(0x319)]+_0x460d99(0x4af);});projectList['innerHTML']=_0x39a26b,noProjectsMsg[_0x5169a1(0x20d)][_0x5169a1(0x964)](_0x5169a1(0x5cf),_0x39a26b['length']>0x0);}document[_0x56a724(0x5a0)](_0x56a724(0x924))[_0x56a724(0x86b)](_0x56a724(0x12e),async()=>{const _0x278d86=_0x56a724,_0x25355c=document[_0x278d86(0x5a0)](_0x278d86(0x7ee)),_0x326ccd=_0x25355c[_0x278d86(0x8f1)]['trim']();if(!_0x326ccd){showMessage(_0x278d86(0x36a));return;}try{const _0x18e142=doc(collection(db,_0x278d86(0x4e3)+appId+_0x278d86(0x3b0)));await setDoc(_0x18e142,{'projectName':_0x326ccd,'students':[],'settings':{'resultsDisplay':_0x278d86(0x8fc),'shuffleSetting':_0x278d86(0x9bc),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x278d86(0x357)]()}),_0x25355c[_0x278d86(0x8f1)]='',createProjectModal[_0x278d86(0x20d)]['add'](_0x278d86(0x5cf)),showMessage(_0x278d86(0xea));}catch(_0x548309){console['error']('Error\x20creating\x20project:',_0x548309),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x56a724(0x86b)]('click',async _0x13c216=>{const _0x15f152=_0x56a724,_0x3fdcea=_0x13c216[_0x15f152(0x6e2)]['closest']('.project-card-content'),_0x59163c=_0x13c216[_0x15f152(0x6e2)][_0x15f152(0x5dd)](_0x15f152(0x231)),_0x36e1f9=_0x13c216[_0x15f152(0x6e2)][_0x15f152(0x5dd)](_0x15f152(0x40f)),_0x2d3417=_0x13c216[_0x15f152(0x6e2)][_0x15f152(0x5dd)](_0x15f152(0x7bd));if(_0x36e1f9){const _0x3aff28=_0x36e1f9[_0x15f152(0x513)]['id'],_0xb0a55=doc(db,_0x15f152(0x7cf),_0x15f152(0x827)),_0x1b1ba5=globalDashboardSettings[_0x15f152(0x9f)];let _0x207657;_0x1b1ba5[_0x15f152(0x5c1)](_0x3aff28)?_0x207657=_0x1b1ba5[_0x15f152(0x5e1)](_0x46a65e=>_0x46a65e!==_0x3aff28):_0x207657=[..._0x1b1ba5,_0x3aff28];try{await setDoc(_0xb0a55,{'pinnedProjects':_0x207657},{'merge':!![]});}catch(_0x43e1ce){console['error'](_0x15f152(0x138),_0x43e1ce),showMessage(_0x15f152(0x95c));}}else{if(_0x2d3417){const _0xbc2687=_0x2d3417[_0x15f152(0x513)]['id'];showColorPalette(_0x2d3417,_0xbc2687);}else{if(_0x3fdcea){const _0x20edc9=_0x3fdcea[_0x15f152(0x513)]['id'];_0x20edc9===_0x15f152(0x294)?showStarredProjectView():(currentProjectId=_0x20edc9,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x59163c){const _0x3827f6=_0x59163c['dataset']['id'],_0x74ce2b=_0x59163c['dataset'][_0x15f152(0x1f8)];showConfirmation(_0x15f152(0xf4)+_0x74ce2b+_0x15f152(0x1a3),()=>handleDeleteProject(_0x3827f6));}}}}}),projectList[_0x56a724(0x86b)](_0x56a724(0x210),_0x220d2d=>{const _0x5389b2=_0x56a724,_0x53cc18=_0x220d2d[_0x5389b2(0x6e2)][_0x5389b2(0x5dd)](_0x5389b2(0x851));_0x53cc18&&_0x53cc18[_0x5389b2(0x20d)]['add'](_0x5389b2(0x88e));}),projectList[_0x56a724(0x86b)](_0x56a724(0x433),_0xb78775=>{const _0x1a13ef=_0x56a724,_0x2ec44e=_0xb78775[_0x1a13ef(0x6e2)]['closest'](_0x1a13ef(0x851));_0x2ec44e&&_0x2ec44e[_0x1a13ef(0x20d)][_0x1a13ef(0x1cf)]('opacity-50');}),projectList[_0x56a724(0x86b)](_0x56a724(0x3e4),_0x3b884a=>{const _0x2f88f9=_0x56a724;_0x3b884a[_0x2f88f9(0x7b0)]();const _0x73daf1=document['querySelector'](_0x2f88f9(0x425));if(!_0x73daf1)return;const _0x39084a=getDragAfterElement(projectList,_0x3b884a[_0x2f88f9(0x7ef)]);_0x39084a==null?projectList[_0x2f88f9(0x7eb)](_0x73daf1):projectList[_0x2f88f9(0x962)](_0x73daf1,_0x39084a);}),projectList['addEventListener'](_0x56a724(0x52d),_0x21ee01=>{const _0x492dbe=_0x56a724;_0x21ee01[_0x492dbe(0x7b0)]();const _0x243360=[...projectList['querySelectorAll'](_0x492dbe(0x560))][_0x492dbe(0xbf)](_0x22e1ca=>_0x22e1ca[_0x492dbe(0x513)]['id']);saveProjectOrder(_0x243360);});function renderBehaviorLog(_0x4d6faa){const _0x2ebc52=_0x56a724,_0x555bfe=document[_0x2ebc52(0x5a0)](_0x2ebc52(0x4c4));if(!_0x555bfe)return;const _0x48bb15=_0x4d6faa[_0x2ebc52(0x5e1)](_0x39f6f6=>_0x39f6f6[_0x2ebc52(0xcf)]&&_0x39f6f6['behaviorLog'][_0x2ebc52(0x2fd)]>0x0);if(_0x48bb15['length']===0x0){_0x555bfe[_0x2ebc52(0x65a)]=_0x2ebc52(0x81a);return;}let _0x153f09='';_0x48bb15[_0x2ebc52(0x573)](_0x4e40e4=>{const _0x118f7c=_0x2ebc52;_0x153f09+=_0x118f7c(0x7f4)+_0x4e40e4[_0x118f7c(0x6d5)]+_0x118f7c(0x83a),_0x4e40e4[_0x118f7c(0xcf)][_0x118f7c(0x905)]((_0x367c1a,_0x20a2c0)=>new Date(_0x20a2c0[_0x118f7c(0x430)])-new Date(_0x367c1a[_0x118f7c(0x430)]))['forEach'](_0x48f97f=>{const _0x1da616=_0x118f7c,_0x5b9211=new Date(_0x48f97f[_0x1da616(0x430)])[_0x1da616(0x165)](_0x1da616(0x9b2),{'dateStyle':_0x1da616(0x7af),'timeStyle':'medium'});_0x153f09+=_0x1da616(0x12a)+_0x48f97f['attemptNumber']+_0x1da616(0x5f7)+_0x5b9211+_0x1da616(0x1ca);}),_0x153f09+=_0x118f7c(0x50b);}),_0x555bfe[_0x2ebc52(0x65a)]=_0x153f09;}function getDragAfterElement(_0x914117,_0x871550){const _0x512134=_0x56a724,_0x1b127d=[..._0x914117['querySelectorAll'](_0x512134(0x585))];return _0x1b127d['reduce']((_0x39f0f7,_0x46b52e)=>{const _0x289a95=_0x512134,_0x282bec=_0x46b52e[_0x289a95(0x7e)](),_0xba3848=_0x871550-_0x282bec[_0x289a95(0x662)]-_0x282bec[_0x289a95(0x11e)]/0x2;return _0xba3848<0x0&&_0xba3848>_0x39f0f7[_0x289a95(0x172)]?{'offset':_0xba3848,'element':_0x46b52e}:_0x39f0f7;},{'offset':Number['NEGATIVE_INFINITY']})[_0x512134(0x222)];}async function saveProjectOrder(_0x36b9ec){const _0x362dbb=_0x56a724,_0x5844d1=doc(db,_0x362dbb(0x7cf),'dashboardConfig');try{await setDoc(_0x5844d1,{'projectOrder':_0x36b9ec},{'merge':!![]});}catch(_0x56e021){console[_0x362dbb(0x33a)](_0x362dbb(0x16c),_0x56e021),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x2f7728,_0xd5502f={}){const _0x2520b0=_0x56a724;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console['warn']('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0xe52af9=doc(db,_0x2520b0(0x4e3)+appId+_0x2520b0(0x395)+currentQuizData['id']+_0x2520b0(0x874),currentStudentName),_0x19c896={'event':_0x2f7728,'timestamp':new Date()[_0x2520b0(0x357)](),..._0xd5502f};try{await updateDoc(_0xe52af9,{'behaviorLog':arrayUnion(_0x19c896)}),console[_0x2520b0(0x458)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x2520b0(0x41e));}catch(_0x4aea49){_0x4aea49[_0x2520b0(0x451)]===_0x2520b0(0x470)?console['warn'](_0x2520b0(0x314)+currentStudentName+_0x2520b0(0x8c5)):console[_0x2520b0(0x33a)](_0x2520b0(0x3fe),_0x4aea49);}}function calculateMeanAndStdDev(_0x51944c){const _0x4e6356=_0x56a724;if(_0x51944c['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x17f983=_0x51944c[_0x4e6356(0x73f)]((_0x179da8,_0x58f4c7)=>_0x179da8+_0x58f4c7,0x0)/_0x51944c['length'];if(_0x51944c[_0x4e6356(0x2fd)]===0x1)return{'mean':_0x17f983,'stdDev':0x0};const _0xc1f46e=Math[_0x4e6356(0x693)](_0x51944c[_0x4e6356(0xbf)](_0x24a366=>Math[_0x4e6356(0x4dc)](_0x24a366-_0x17f983,0x2))['reduce']((_0x3ba447,_0x4e0c4a)=>_0x3ba447+_0x4e0c4a,0x0)/(_0x51944c[_0x4e6356(0x2fd)]-0x1));return{'mean':_0x17f983,'stdDev':_0xc1f46e};}function calculateZScore(_0x153990,_0x32782e,_0x4f6abd){if(_0x4f6abd===0x0)return 0x0;return(_0x153990-_0x32782e)/_0x4f6abd;}function calculateTScore(_0x1c5207){return 0xa*_0x1c5207+0x32;}function showStarredProjectView(){const _0x8478ac=_0x56a724;currentProjectId=_0x8478ac(0x46d),currentProjectData=null,projectTitle['textContent']='แบบทดสอบที่ติดดาว',projectIdDisplay[_0x8478ac(0x83f)]='pinned-items',showView(_0x8478ac(0x9c5)),manageTab[_0x8478ac(0x20d)][_0x8478ac(0x8cb)]('hidden'),leaderboardTab[_0x8478ac(0x20d)][_0x8478ac(0x8cb)]('hidden'),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x5285c4){const _0x24aa4e=_0x56a724,_0x3407e1=doc(db,_0x24aa4e(0x4e3)+appId+_0x24aa4e(0x3b0),_0x5285c4),_0x55d60c=await getDoc(_0x3407e1);if(_0x55d60c[_0x24aa4e(0x14e)]()){manageTab[_0x24aa4e(0x20d)]['remove'](_0x24aa4e(0x5cf)),leaderboardTab['classList'][_0x24aa4e(0x1cf)](_0x24aa4e(0x5cf)),currentProjectData=_0x55d60c[_0x24aa4e(0x2fb)](),projectTitle[_0x24aa4e(0x83f)]=currentProjectData[_0x24aa4e(0x319)],projectIdDisplay[_0x24aa4e(0x83f)]=_0x5285c4;const _0x468fc0=currentProjectData[_0x24aa4e(0x681)]||{};document[_0x24aa4e(0x5a0)]('shuffle-setting-select')[_0x24aa4e(0x8f1)]=_0x468fc0[_0x24aa4e(0x3e3)]||'none';const _0x4a3101=document['getElementById'](_0x24aa4e(0x6e4));_0x4a3101[_0x24aa4e(0x71e)]=_0x468fc0[_0x24aa4e(0x5a1)]!==![];const _0x5cd89a=document[_0x24aa4e(0x5a0)](_0x24aa4e(0xa0)),_0x32a6cb=document[_0x24aa4e(0x5a0)](_0x24aa4e(0x504)),_0x5de035=document[_0x24aa4e(0x5a0)](_0x24aa4e(0x110)),_0x550139=_0x468fc0['isPasscodeEnabled']||![];_0x5cd89a['checked']=_0x550139,_0x5de035[_0x24aa4e(0x8f1)]=_0x468fc0[_0x24aa4e(0x111)]||'',_0x32a6cb[_0x24aa4e(0x20d)][_0x24aa4e(0x964)](_0x24aa4e(0x5cf),!_0x550139),_0x5cd89a[_0x24aa4e(0x7bf)]=()=>{const _0x55ecdb=_0x24aa4e;_0x32a6cb[_0x55ecdb(0x20d)]['toggle'](_0x55ecdb(0x5cf),!_0x5cd89a[_0x55ecdb(0x71e)]);},document[_0x24aa4e(0x5a0)](_0x24aa4e(0x6fe))[_0x24aa4e(0x71e)]=_0x468fc0[_0x24aa4e(0x738)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5285c4),listenForProjectQuizzes(_0x5285c4),listenForStudentProfiles(_0x5285c4);}else showMessage(_0x24aa4e(0x48e)),showView(_0x24aa4e(0x994));}async function handleResetProjectOrder(){const _0x9c6ad3=_0x56a724,_0x317fbe=doc(db,_0x9c6ad3(0x7cf),_0x9c6ad3(0x827));try{await setDoc(_0x317fbe,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x517bbb){console['error'](_0x9c6ad3(0x28b),_0x517bbb),showMessage(_0x9c6ad3(0x778));}}async function handleTogglePinProject(_0x433a20){const _0x66c8a4=_0x56a724;if(!_0x433a20)return;const _0x330fbc=doc(db,_0x66c8a4(0x4e3)+appId+_0x66c8a4(0x3b0),_0x433a20);try{const _0x4137c6=await getDoc(_0x330fbc);if(_0x4137c6[_0x66c8a4(0x14e)]()){const _0x1d1030=_0x4137c6['data']()[_0x66c8a4(0x4ce)]||![];await updateDoc(_0x330fbc,{'isPinned':!_0x1d1030});}}catch(_0x22f8ab){console[_0x66c8a4(0x33a)](_0x66c8a4(0x12b),_0x22f8ab),showMessage(_0x66c8a4(0x95c));}}async function handleDeleteProject(_0x281481){const _0x263fce=_0x56a724;try{const _0x328c65=writeBatch(db),_0x39de88=collection(db,_0x263fce(0x4e3)+appId+'/public/data/quizzes'),_0x612467=query(_0x39de88,where(_0x263fce(0x6ab),'==',_0x281481)),_0x14180e=await getDocs(_0x612467);for(const _0x23f181 of _0x14180e[_0x263fce(0x465)]){const _0x43b2f7=collection(db,_0x263fce(0x4e3)+appId+_0x263fce(0x395)+_0x23f181['id']+_0x263fce(0x874)),_0x4ad6ab=await getDocs(_0x43b2f7);_0x4ad6ab['forEach'](_0x445e80=>{const _0x55b48b=_0x263fce;_0x328c65[_0x55b48b(0x5af)](_0x445e80[_0x55b48b(0x45f)]);}),_0x328c65[_0x263fce(0x5af)](_0x23f181[_0x263fce(0x45f)]);}const _0x2e966e=collection(db,_0x263fce(0x4e3)+appId+_0x263fce(0x1d4)+_0x281481+_0x263fce(0x7f1)),_0x53698d=await getDocs(_0x2e966e);_0x53698d[_0x263fce(0x573)](_0xa14274=>{const _0xafe189=_0x263fce;_0x328c65['delete'](_0xa14274[_0xafe189(0x45f)]);});const _0x4375d5=doc(db,_0x263fce(0x4e3)+appId+_0x263fce(0x3b0),_0x281481);_0x328c65[_0x263fce(0x5af)](_0x4375d5),await _0x328c65[_0x263fce(0x8c6)](),showMessage(_0x263fce(0x31a)),showView(_0x263fce(0x994));}catch(_0x38f94c){console[_0x263fce(0x33a)](_0x263fce(0x936),_0x38f94c),showMessage(_0x263fce(0x104));}}document[_0x56a724(0x5a0)]('save-settings-btn')['addEventListener'](_0x56a724(0x12e),async()=>{const _0x4250fc=_0x56a724;if(!currentProjectId)return;const _0xf321d2={'defaultNumQuestions':parseInt(document[_0x4250fc(0x5a0)](_0x4250fc(0x220))[_0x4250fc(0x8f1)]),'defaultNumChoices':parseInt(document[_0x4250fc(0x5a0)]('num-choices')['value']),'defaultPassingScore':parseInt(document[_0x4250fc(0x5a0)](_0x4250fc(0x6e6))[_0x4250fc(0x8f1)]),'resultsDisplay':document['getElementById'](_0x4250fc(0xdc))[_0x4250fc(0x8f1)],'shuffleSetting':document[_0x4250fc(0x5a0)](_0x4250fc(0x71))['value'],'timerMode':document[_0x4250fc(0x5a0)](_0x4250fc(0x179))[_0x4250fc(0x8f1)],'timerDuration':parseInt(document[_0x4250fc(0x5a0)]('timer-duration-input')[_0x4250fc(0x8f1)]),'isConfidenceScoringEnabled':document[_0x4250fc(0x5a0)]('confidence-scoring-checkbox')['checked'],'confidenceMode':document['getElementById'](_0x4250fc(0x637))[_0x4250fc(0x8f1)]};try{const _0x3c7ba4=doc(db,_0x4250fc(0x4e3)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x3c7ba4,{'settings':_0xf321d2}),showMessage(_0x4250fc(0x7b4));}catch(_0x28cf6f){console['error'](_0x4250fc(0x7e4),_0x28cf6f),showMessage(_0x4250fc(0x98));}});function listenForStudents(_0x28060f){const _0x2b59f1=_0x56a724,_0x17d38d=doc(db,_0x2b59f1(0x4e3)+appId+_0x2b59f1(0x3b0),_0x28060f);unsubscribeStudentsListener=onSnapshot(_0x17d38d,_0xe17e55=>{const _0x36e683=_0x2b59f1;if(_0xe17e55['exists']()){const _0x186d27=_0xe17e55[_0x36e683(0x2fb)]();currentProjectData=_0x186d27,renderStudentList(_0x186d27[_0x36e683(0x75c)]||[]);}});}function renderStudentList(_0x4f1306){const _0x5351e0=_0x56a724,_0x228395=document[_0x5351e0(0x5a0)](_0x5351e0(0x8d1));_0x4f1306['length']===0x0?(studentList['innerHTML']='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x228395[_0x5351e0(0x20d)][_0x5351e0(0x8cb)](_0x5351e0(0x5cf))):(studentList[_0x5351e0(0x65a)]=_0x4f1306['map'](_0x5286b9=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5286b9+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x5286b9+_0x5351e0(0x365))[_0x5351e0(0x13f)](''),_0x228395[_0x5351e0(0x20d)][_0x5351e0(0x1cf)](_0x5351e0(0x5cf)));}document[_0x56a724(0x5a0)](_0x56a724(0x846))['addEventListener'](_0x56a724(0x12e),async()=>{const _0x275b81=_0x56a724;if(!currentProjectId)return;const _0xec5a63=document['getElementById'](_0x275b81(0x33b)),_0x1e99aa=_0xec5a63[_0x275b81(0x8f1)][_0x275b81(0x3fa)]();if(!_0x1e99aa){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x2315b2=_0x1e99aa[_0x275b81(0x60e)]('\x0a')['map'](_0x235e56=>_0x235e56[_0x275b81(0x3fa)]())[_0x275b81(0x5e1)](_0x141eaa=>_0x141eaa);if(_0x2315b2[_0x275b81(0x2fd)]===0x0)return;try{const _0xe76ccb=doc(db,'artifacts/'+appId+_0x275b81(0x3b0),currentProjectId),_0x1c6b9f=await getDoc(_0xe76ccb);if(_0x1c6b9f[_0x275b81(0x14e)]()){const _0x1317b1=_0x1c6b9f[_0x275b81(0x2fb)]()[_0x275b81(0x75c)]||[],_0x5d277e=[...new Set([..._0x1317b1,..._0x2315b2])];await updateDoc(_0xe76ccb,{'students':_0x5d277e}),_0xec5a63[_0x275b81(0x8f1)]='';}}catch(_0x26cbc3){console[_0x275b81(0x33a)](_0x275b81(0x941),_0x26cbc3),showMessage(_0x275b81(0x441));}});async function handleManualQuizPairing(_0x5105fb){const _0x19eac2=_0x56a724,_0xae81a9=document[_0x19eac2(0x5a0)](_0x19eac2(0x355)),_0x8b52a0=document['getElementById'](_0x19eac2(0x3c9)),_0x18f662=_0xae81a9[_0x19eac2(0x4aa)]('h3'),_0x302864=document[_0x19eac2(0x5a0)]('confirm-move-quiz-btn'),_0x5249a7=document[_0x19eac2(0x5a0)](_0x19eac2(0x453));_0x18f662['textContent']=_0x19eac2(0x30f),_0x8b52a0['innerHTML']=_0x19eac2(0x967),_0x302864['textContent']='ยืนยันการจับคู่',_0xae81a9[_0x19eac2(0x20d)][_0x19eac2(0x1cf)](_0x19eac2(0x5cf));const _0x50f193=allQuizzes[_0x19eac2(0x5e1)](_0x390f1e=>_0x390f1e['id']!==_0x5105fb);_0x50f193['length']===0x0?(_0x8b52a0[_0x19eac2(0x65a)]=_0x19eac2(0x7c3),_0x302864[_0x19eac2(0x2df)]=!![]):(_0x8b52a0['innerHTML']=_0x19eac2(0x186)+_0x50f193[_0x19eac2(0xbf)](_0x38e470=>_0x19eac2(0x7ca)+_0x38e470['id']+'\x22>'+_0x38e470[_0x19eac2(0x58e)]+'</option>')['join'](''),_0x302864[_0x19eac2(0x2df)]=![]);const _0x1adac9=async()=>{const _0x48f06a=_0x19eac2,_0x253199=_0x8b52a0[_0x48f06a(0x8f1)];if(!_0x253199){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x302864[_0x48f06a(0x2df)]=!![],_0x302864['textContent']=_0x48f06a(0x4e1);try{const _0x35080f=doc(db,_0x48f06a(0x4e3)+appId+_0x48f06a(0x73b),_0x5105fb),_0xba968a=doc(db,_0x48f06a(0x4e3)+appId+_0x48f06a(0x73b),_0x253199),_0x3900f6=writeBatch(db);_0x3900f6[_0x48f06a(0x98c)](_0x35080f,{'pairedQuizId':_0x253199}),_0x3900f6[_0x48f06a(0x98c)](_0xba968a,{'pairedQuizId':_0x5105fb}),await _0x3900f6[_0x48f06a(0x8c6)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0xae81a9[_0x48f06a(0x20d)][_0x48f06a(0x8cb)](_0x48f06a(0x5cf));}catch(_0x39e1ce){console[_0x48f06a(0x33a)](_0x48f06a(0x56b),_0x39e1ce),showMessage(_0x48f06a(0x317));}finally{_0x18f662[_0x48f06a(0x83f)]=_0x48f06a(0x2f2),_0x302864['textContent']=_0x48f06a(0x1d3),_0x302864[_0x48f06a(0x2df)]=![],_0x302864[_0x48f06a(0x6e7)](_0x48f06a(0x12e),_0x1adac9),_0x5249a7[_0x48f06a(0x6e7)](_0x48f06a(0x12e),_0x1b44b4);}},_0x1b44b4=()=>{const _0x10b0f2=_0x19eac2;_0xae81a9[_0x10b0f2(0x20d)][_0x10b0f2(0x8cb)](_0x10b0f2(0x5cf)),_0x18f662[_0x10b0f2(0x83f)]=_0x10b0f2(0x2f2),_0x302864['textContent']=_0x10b0f2(0x1d3),_0x302864[_0x10b0f2(0x6e7)]('click',_0x1adac9),_0x5249a7[_0x10b0f2(0x6e7)]('click',_0x1b44b4);};_0x302864['addEventListener'](_0x19eac2(0x12e),_0x1adac9),_0x5249a7[_0x19eac2(0x86b)](_0x19eac2(0x12e),_0x1b44b4);}function handleDeleteStudent(_0x27fadf){const _0x2ba0e6=_0x56a724;showConfirmation(_0x2ba0e6(0x921)+_0x27fadf+_0x2ba0e6(0x42c),async()=>{const _0x175979=_0x2ba0e6;if(!currentProjectId||!currentProjectData)return;const _0x1be4dd=currentProjectData['students'][_0x175979(0x5e1)](_0x350de0=>_0x350de0!==_0x27fadf);try{const _0x5ec3d8=doc(db,_0x175979(0x4e3)+appId+_0x175979(0x3b0),currentProjectId),_0x39755e=doc(db,_0x175979(0x4e3)+appId+'/public/data/projects/'+currentProjectId+_0x175979(0x7f1),_0x27fadf),_0x16d25e=writeBatch(db);_0x16d25e[_0x175979(0x98c)](_0x5ec3d8,{'students':_0x1be4dd}),_0x16d25e[_0x175979(0x5af)](_0x39755e),await _0x16d25e[_0x175979(0x8c6)]();}catch(_0x205d2d){console[_0x175979(0x33a)](_0x175979(0x4d5),_0x205d2d),showMessage(_0x175979(0x54b));}});}function handleDeleteAllStudents(){const _0x31a8fc=_0x56a724;showConfirmation(_0x31a8fc(0x4f3),async()=>{const _0xfedfef=_0x31a8fc;if(!currentProjectId)return;try{const _0x4982d6=doc(db,_0xfedfef(0x4e3)+appId+_0xfedfef(0x3b0),currentProjectId),_0x4795be=collection(db,_0xfedfef(0x4e3)+appId+'/public/data/projects/'+currentProjectId+_0xfedfef(0x7f1)),_0x9e57ed=await getDocs(_0x4795be),_0x12a3f3=writeBatch(db);_0x12a3f3[_0xfedfef(0x98c)](_0x4982d6,{'students':[]}),_0x9e57ed[_0xfedfef(0x573)](_0x21499f=>_0x12a3f3[_0xfedfef(0x5af)](_0x21499f[_0xfedfef(0x45f)])),await _0x12a3f3[_0xfedfef(0x8c6)]();}catch(_0x491cb1){console[_0xfedfef(0x33a)](_0xfedfef(0x325),_0x491cb1),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}async function handleGenerateFromFileClick(){const _0x2ac416=_0x56a724;if(!selectedFile){showMessage(_0x2ac416(0x4ca));return;}const _0x1ee92e=document[_0x2ac416(0x5a0)](_0x2ac416(0x876)),_0x499722=document[_0x2ac416(0x5a0)](_0x2ac416(0x370)),_0x143251=document['getElementById']('generated-quiz-container'),_0x268ee1=document[_0x2ac416(0x5a0)](_0x2ac416(0x3af));_0x268ee1['disabled']=!![],document['getElementById']('quiz-generation-area')['classList']['remove']('hidden'),_0x143251[_0x2ac416(0x65a)]='',_0x1ee92e[_0x2ac416(0x20d)][_0x2ac416(0x1cf)](_0x2ac416(0x5cf)),_0x499722['textContent']=_0x2ac416(0x340);const _0x2f207f=new FileReader();_0x2f207f[_0x2ac416(0x7ab)](selectedFile),_0x2f207f[_0x2ac416(0x8f8)]=async()=>{const _0x42e402=_0x2ac416;try{const _0x691dc6=_0x2f207f[_0x42e402(0x15c)][_0x42e402(0x60e)](',')[0x1],_0x3a4dff=selectedFile[_0x42e402(0x73e)];await generateQuizFromFile(_0x3a4dff,_0x691dc6);}catch(_0x21b4d3){console[_0x42e402(0x33a)](_0x42e402(0x90d),_0x21b4d3),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x21b4d3[_0x42e402(0x26e)]),_0x1ee92e[_0x42e402(0x20d)]['add'](_0x42e402(0x5cf));}finally{}},_0x2f207f[_0x2ac416(0xdd)]=_0xe90baf=>{const _0x2c298f=_0x2ac416;console['error'](_0x2c298f(0x529),_0xe90baf),showMessage(_0x2c298f(0x628)),_0x1ee92e[_0x2c298f(0x20d)][_0x2c298f(0x8cb)](_0x2c298f(0x5cf)),_0x268ee1[_0x2c298f(0x2df)]=![];};}function autoFormatMath(_0x128f92){if(typeof _0x128f92!=='string'||!_0x128f92)return _0x128f92;const _0x31d256=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x385b5f=_0x128f92['replace'](_0x31d256,_0x55e730=>{const _0x4e7623=_0x3686;return'$'+_0x55e730[_0x4e7623(0x3fa)]()+'$';});return _0x385b5f;}function sanitizeQuizData(_0x55dc43){const _0xb36dcf=_0x56a724;if(!_0x55dc43||!_0x55dc43[_0xb36dcf(0x528)])return _0x55dc43;const _0x1ca34e={'imes':_0xb36dcf(0x322),'div':_0xb36dcf(0x7c7)},_0x34f7d8=_0x42cd3c=>{const _0x4be2ad=_0xb36dcf;if(typeof _0x42cd3c!==_0x4be2ad(0x1ae))return _0x42cd3c;let _0x494eec=_0x42cd3c;for(const [_0x553234,_0x198d19]of Object[_0x4be2ad(0xe4)](_0x1ca34e)){const _0x4583cf=new RegExp('\x5cb'+_0x553234+'\x5cb','g');_0x494eec=_0x494eec[_0x4be2ad(0x3c8)](_0x4583cf,_0x198d19);}return _0x494eec=_0x494eec['replace'](/\\\//g,'\x5cdiv'),_0x494eec=_0x494eec[_0x4be2ad(0x3c8)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x4be2ad(0x7c7))[_0x4be2ad(0x3c8)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x4be2ad(0x322))[_0x4be2ad(0x3c8)](/÷/g,_0x4be2ad(0x7c7))[_0x4be2ad(0x3c8)](/×/g,_0x4be2ad(0x322)),_0x494eec=_0x494eec[_0x4be2ad(0x3c8)](/(\d)(\\frac)/g,_0x4be2ad(0x440)),_0x494eec=autoFormatMath(_0x494eec),_0x494eec;};return _0x55dc43[_0xb36dcf(0x58e)]&&(_0x55dc43[_0xb36dcf(0x58e)]=_0x34f7d8(_0x55dc43[_0xb36dcf(0x58e)])),_0x55dc43[_0xb36dcf(0x528)][_0xb36dcf(0x573)](_0x346ae4=>{const _0x4fc95a=_0xb36dcf;_0x346ae4[_0x4fc95a(0x417)]=_0x34f7d8(_0x346ae4[_0x4fc95a(0x417)]),_0x346ae4[_0x4fc95a(0xbd)]&&(_0x346ae4['options']=_0x346ae4[_0x4fc95a(0xbd)]['map'](_0x34f7d8)),_0x346ae4[_0x4fc95a(0x6b3)]&&(_0x346ae4[_0x4fc95a(0x6b3)]=_0x34f7d8(_0x346ae4[_0x4fc95a(0x6b3)])),_0x346ae4[_0x4fc95a(0x55a)]&&(_0x346ae4[_0x4fc95a(0x55a)]=_0x34f7d8(_0x346ae4[_0x4fc95a(0x55a)])),_0x346ae4[_0x4fc95a(0x93f)]&&(_0x346ae4[_0x4fc95a(0x93f)]=_0x34f7d8(_0x346ae4['correctResponse'])),_0x346ae4[_0x4fc95a(0x5fd)]&&(_0x346ae4['allResponses']=_0x346ae4['allResponses'][_0x4fc95a(0xbf)](_0x34f7d8));}),_0x55dc43;}const simpleMathPrompt=_0x56a724(0x47f);async function handleGenerateFromLink(){const _0x38c5b4=_0x56a724,_0x334783=document['getElementById']('link-url-input'),_0x440d8e=document[_0x38c5b4(0x5a0)](_0x38c5b4(0x2cb)),_0x36f9b5=_0x334783[_0x38c5b4(0x8f1)]['trim'](),_0x5830de=_0x440d8e[_0x38c5b4(0x8f1)]['trim']();if(!_0x36f9b5){showMessage(_0x38c5b4(0x41a));return;}const _0x2fa11c=document[_0x38c5b4(0x5a0)]('loader'),_0x5f1de2=document[_0x38c5b4(0x5a0)](_0x38c5b4(0x370)),_0x23fd14=document[_0x38c5b4(0x5a0)](_0x38c5b4(0x6ce)),_0x2cfd41=document[_0x38c5b4(0x5a0)](_0x38c5b4(0x2dd));document[_0x38c5b4(0x5a0)](_0x38c5b4(0xa8))[_0x38c5b4(0x20d)][_0x38c5b4(0x1cf)](_0x38c5b4(0x5cf)),_0x23fd14[_0x38c5b4(0x65a)]='',_0x2fa11c['classList'][_0x38c5b4(0x1cf)](_0x38c5b4(0x5cf)),_0x5f1de2[_0x38c5b4(0x83f)]=_0x38c5b4(0x2a4),_0x2cfd41[_0x38c5b4(0x2df)]=!![];try{const _0x18b501='https://corsproxy.io/?'+encodeURIComponent(_0x36f9b5),_0x305e57=await fetch(_0x18b501);if(!_0x305e57['ok'])throw new Error(_0x38c5b4(0xad)+_0x305e57[_0x38c5b4(0x992)]+')');const _0x5765ae=await _0x305e57[_0x38c5b4(0x708)](),_0x5cb87b=extractTextFromHtml(_0x5765ae);if(!_0x5cb87b||_0x5cb87b['length']<0x64)throw new Error(_0x38c5b4(0x4a9));await generateQuiz(_0x5830de,_0x5cb87b);}catch(_0x39f286){console[_0x38c5b4(0x33a)](_0x38c5b4(0x252),_0x39f286),showMessage(_0x38c5b4(0x864)+_0x39f286[_0x38c5b4(0x26e)]),_0x23fd14['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x2fa11c[_0x38c5b4(0x20d)]['add'](_0x38c5b4(0x5cf)),_0x2cfd41['disabled']=![];}}function extractTextFromHtml(_0x5357c7){const _0x258c11=_0x56a724,_0x26c97c=new DOMParser()[_0x258c11(0x359)](_0x5357c7,_0x258c11(0x6b8));return _0x26c97c[_0x258c11(0x81b)](_0x258c11(0x8d6))['forEach'](_0x2a4a5=>_0x2a4a5[_0x258c11(0x1cf)]()),_0x26c97c[_0x258c11(0xc0)][_0x258c11(0x83f)]||'';}document[_0x56a724(0x5a0)](_0x56a724(0x405))[_0x56a724(0x86b)]('click',()=>{const _0x2ef797=_0x56a724,_0x4cda92=document[_0x2ef797(0x5a0)](_0x2ef797(0x45b))[_0x2ef797(0x8f1)][_0x2ef797(0x3fa)]();generateQuiz(_0x4cda92,null);}),document[_0x56a724(0x5a0)](_0x56a724(0x448))['addEventListener'](_0x56a724(0x12e),()=>{const _0x243566=_0x56a724,_0x2ff7db=document['getElementById'](_0x243566(0x49f))[_0x243566(0x8f1)][_0x243566(0x3fa)]();if(!_0x2ff7db){showMessage(_0x243566(0x53d));return;}const _0x1aec2c=document['getElementById'](_0x243566(0x45b))[_0x243566(0x8f1)][_0x243566(0x3fa)]();generateQuiz(_0x1aec2c,_0x2ff7db);});async function generateQuiz(_0x5f0590,_0x2ac997,_0x59b595=null){const _0x55284e=_0x56a724,_0x1846a1=document[_0x55284e(0x5a0)](_0x55284e(0x50a))[_0x55284e(0x71e)],_0x729ac8=document[_0x55284e(0x5a0)](_0x55284e(0x74f))[_0x55284e(0x8f1)],_0x4f6336=document['getElementById']('num-questions')[_0x55284e(0x8f1)],_0x296eba=document[_0x55284e(0x5a0)](_0x55284e(0x1af))['value'],_0x3365a1=document[_0x55284e(0x5a0)]('force-math-checkbox')[_0x55284e(0x71e)],_0x891918=_0x3365a1?'':_0x55284e(0x318),_0x29be02=document[_0x55284e(0x5a0)](_0x55284e(0x71b)),_0x1510eb=_0x29be02[_0x55284e(0x8f1)];let _0x3a60f7='';_0x1510eb!==_0x55284e(0x268)&&(_0x3a60f7=_0x55284e(0x796)+_0x1510eb+'\x22');const _0x1e03ea=document[_0x55284e(0x5a0)](_0x55284e(0x6d4)),_0x488e3f=_0x1e03ea[_0x55284e(0x8f1)];let _0x4c82e9='';_0x488e3f!=='mixed'&&(_0x4c82e9=_0x55284e(0x1e0)+_0x488e3f+_0x55284e(0x57a));const _0x5a3d2d=document['querySelectorAll'](_0x55284e(0x4d4)),_0x9a033f=Array[_0x55284e(0x4d1)](_0x5a3d2d)[_0x55284e(0xbf)](_0x4ed5e4=>_0x4ed5e4[_0x55284e(0x8f1)]);let _0x4badd4='';_0x9a033f[_0x55284e(0x2fd)]>0x0&&(_0x4badd4=_0x55284e(0x476)+_0x9a033f[_0x55284e(0x13f)](',\x20')+_0x55284e(0x75e));let _0x3097a5='',_0x2c11dd='',_0x3bc52c,_0x19928c=_0x55284e(0x777)+_0x5f0590+'\x22';if(!_0x5f0590&&_0x2ac997)_0x19928c='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x5f0590&&!_0x2ac997&&(_0x19928c=_0x55284e(0x582));const _0x121358={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x55284e(0x52f)}},'correctAnswerIndex':{'type':_0x55284e(0x166)},'explanation':{'type':_0x55284e(0x52f)},'imageCode':{'type':'STRING'}},'required':[_0x55284e(0x417),_0x55284e(0xbd),_0x55284e(0x3d2),'explanation']},_0x4331f4={'type':_0x55284e(0x3db),'properties':{'questionText':{'type':_0x55284e(0x52f)},'idealAnswer':{'type':_0x55284e(0x52f)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x55284e(0x52f)}},'required':[_0x55284e(0x417),'idealAnswer',_0x55284e(0x6b3)]},_0x3827f2={'type':_0x55284e(0x3db),'properties':{'questionText':{'type':_0x55284e(0x52f)},'questionType':{'type':_0x55284e(0x52f),'enum':[_0x55284e(0x420),_0x55284e(0x341)]},'options':{'type':_0x55284e(0x2ae),'items':{'type':_0x55284e(0x52f)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x55284e(0x52f)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x55284e(0x52f)}},'required':[_0x55284e(0x417),_0x55284e(0x45e),_0x55284e(0x6b3)]},_0xb2beed={'type':_0x55284e(0x3db),'properties':{'questionText':{'type':_0x55284e(0x52f)},'correctAnswer':{'type':_0x55284e(0x19f)},'explanation':{'type':_0x55284e(0x52f)},'imageCode':{'type':_0x55284e(0x52f)}},'required':[_0x55284e(0x417),_0x55284e(0xc1),_0x55284e(0x6b3)]},_0x3dacdd={'type':_0x55284e(0x3db),'properties':{'questionType':{'type':_0x55284e(0x52f),'enum':['matching_item']},'stem':{'type':_0x55284e(0x52f)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x55284e(0x2ae),'items':{'type':_0x55284e(0x52f)}},'explanation':{'type':_0x55284e(0x52f)},'imageCode':{'type':_0x55284e(0x52f)}},'required':['questionType',_0x55284e(0x55a),_0x55284e(0x93f),_0x55284e(0x5fd),_0x55284e(0x6b3)]};let _0x490d83;if(_0x59b595!==null){const _0x2408e9=currentQuizData['questions'][_0x59b595][_0x55284e(0x45e)],_0x3c20bc=_0x1846a1?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x3097a5='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x19928c+'\x20'+_0x4badd4+'\x20'+_0x3a60f7+_0x55284e(0x8da)+_0x3c20bc+'\x20'+simpleMathPrompt;if(_0x2408e9===_0x55284e(0x420))_0x3bc52c=_0x121358;else{if(_0x2408e9==='matching_item')_0x3bc52c={'type':_0x55284e(0x3db),'properties':{'questionType':{'type':_0x55284e(0x52f),'enum':[_0x55284e(0x85b)]},'stem':{'type':_0x55284e(0x52f)},'correctResponse':{'type':_0x55284e(0x52f)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x55284e(0x52f)}},'required':[_0x55284e(0x45e),_0x55284e(0x55a),'correctResponse',_0x55284e(0x6b3)]};else _0x3bc52c=_0x4331f4;}_0x490d83=_0x3bc52c;}else{const _0x1304a4=_0x1846a1?_0x55284e(0x1ba):'',_0x1fd406='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0x729ac8){case _0x55284e(0x420):_0x3097a5=_0x55284e(0x298)+_0x891918+'\x20'+_0x4f6336+'\x20ข้อ\x20'+_0x19928c+'\x20'+_0x4badd4+'\x20'+_0x3a60f7+'\x20'+_0x4c82e9+'.\x20แต่ละข้อมี\x20'+_0x296eba+_0x55284e(0x29e)+_0x1304a4+'\x20'+simpleMathPrompt,_0x3bc52c=_0x121358;break;case _0x55284e(0x892):_0x3097a5=_0x55284e(0x481)+_0x891918+'\x20'+_0x4f6336+_0x55284e(0x593)+_0x19928c+'\x20'+_0x4badd4+'\x20'+_0x3a60f7+'\x20'+_0x4c82e9+_0x55284e(0x9a3)+_0x296eba+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1304a4+'\x20'+simpleMathPrompt,_0x3bc52c=_0x121358;break;case _0x55284e(0x25c):_0x3097a5=_0x55284e(0x481)+_0x891918+'\x20'+_0x4f6336+'\x20ข้อ\x20'+_0x19928c+'\x20'+_0x4badd4+'\x20'+_0x3a60f7+'\x20'+_0x4c82e9+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1304a4+'\x20'+simpleMathPrompt,_0x3bc52c=_0x4331f4;break;case _0x55284e(0x624):_0x3097a5=_0x55284e(0x56c)+_0x891918+'\x20'+_0x4f6336+_0x55284e(0x593)+_0x19928c+'\x20'+_0x4badd4+'\x20'+_0x3a60f7+'\x20'+_0x4c82e9+_0x55284e(0x866)+_0x296eba+'\x20ตัวเลือก.\x20'+_0x1304a4+'\x20'+simpleMathPrompt+'.',_0x3bc52c=_0x3827f2;break;case _0x55284e(0x142):_0x3097a5='สร้างคำถามแบบใช่/ไม่ใช่'+_0x891918+'\x20'+_0x4f6336+_0x55284e(0x593)+_0x19928c+'\x20'+_0x4badd4+'\x20'+_0x3a60f7+'\x20'+_0x4c82e9+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x1304a4+'\x20'+simpleMathPrompt,_0x3bc52c=_0xb2beed;break;case _0x55284e(0x787):_0x3097a5='สร้างชุดคำถามจับคู่'+_0x891918+'\x20'+_0x4f6336+_0x55284e(0x187)+_0x19928c+'\x20'+_0x4badd4+'\x20'+_0x3a60f7+'\x20'+_0x4c82e9+_0x55284e(0x720)+_0x1304a4+'\x20'+simpleMathPrompt,_0x3bc52c=_0x3dacdd;break;}_0x490d83={'type':_0x55284e(0x3db),'properties':{'topic':{'type':_0x55284e(0x52f)},'questions':{'type':_0x55284e(0x2ae),'items':_0x3bc52c}},'required':[_0x55284e(0x58e),_0x55284e(0x528)]};}return _0x2ac997?(_0x3097a5=_0x55284e(0x70a)+_0x2ac997+_0x55284e(0x8a6)+_0x3097a5,_0x2c11dd=_0x55284e(0x4fa)):_0x2c11dd=_0x55284e(0x447),handleApiCall(_0x3097a5,_0x2c11dd,_0x490d83,_0x59b595);}async function generateQuizFromFile(_0x411781,_0x4fcfa5){const _0x3264c9=_0x56a724,_0x42f851=document[_0x3264c9(0x5a0)](_0x3264c9(0xaa))['value'][_0x3264c9(0x3fa)](),_0x14cb4e=document[_0x3264c9(0x5a0)](_0x3264c9(0x74f))[_0x3264c9(0x8f1)],_0x57ccdc=document[_0x3264c9(0x5a0)](_0x3264c9(0x220))[_0x3264c9(0x8f1)],_0x2d7800=document[_0x3264c9(0x5a0)](_0x3264c9(0x1af))['value'],_0x3c66ed=document[_0x3264c9(0x5a0)](_0x3264c9(0x50a))[_0x3264c9(0x71e)],_0x2b61a7=document['getElementById'](_0x3264c9(0x9a4))[_0x3264c9(0x71e)],_0x2e99ee=_0x2b61a7?'':'คณิตศาสตร์';let _0x1d502c='',_0x20b98d,_0xe8711c=_0x3264c9(0x777)+_0x42f851+'\x22';!_0x42f851&&(_0xe8711c=_0x3264c9(0x30a));const _0x4fdd13=_0x3c66ed?_0x3264c9(0x1ba):'';switch(_0x14cb4e){case _0x3264c9(0x420):_0x1d502c=_0x3264c9(0x298)+_0x2e99ee+'\x20'+_0x57ccdc+'\x20ข้อ\x20'+_0xe8711c+'.\x20แต่ละข้อมี\x20'+_0x2d7800+_0x3264c9(0x29e)+_0x4fdd13+'\x20'+simpleMathPrompt,_0x20b98d={'type':_0x3264c9(0x3db),'properties':{'questionText':{'type':_0x3264c9(0x52f)},'options':{'type':_0x3264c9(0x2ae),'items':{'type':_0x3264c9(0x52f)}},'correctAnswerIndex':{'type':_0x3264c9(0x166)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3264c9(0x52f)}},'required':[_0x3264c9(0x417),_0x3264c9(0xbd),_0x3264c9(0x3d2),_0x3264c9(0x6b3)]};break;case _0x3264c9(0x892):_0x1d502c=_0x3264c9(0x481)+_0x2e99ee+'\x20'+_0x57ccdc+_0x3264c9(0x593)+_0xe8711c+_0x3264c9(0x9a3)+_0x2d7800+_0x3264c9(0x623)+_0x4fdd13+'\x20'+simpleMathPrompt,_0x20b98d={'type':_0x3264c9(0x3db),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3264c9(0x2ae),'items':{'type':_0x3264c9(0x52f)}},'correctAnswerIndex':{'type':_0x3264c9(0x166)},'explanation':{'type':_0x3264c9(0x52f)},'imageCode':{'type':_0x3264c9(0x52f)}},'required':[_0x3264c9(0x417),_0x3264c9(0xbd),_0x3264c9(0x3d2),'explanation']};break;case'fill_in_no_choices':_0x1d502c=_0x3264c9(0x481)+_0x2e99ee+'\x20'+_0x57ccdc+_0x3264c9(0x593)+_0xe8711c+_0x3264c9(0x871)+_0x4fdd13+'\x20'+simpleMathPrompt,_0x20b98d={'type':_0x3264c9(0x3db),'properties':{'questionText':{'type':_0x3264c9(0x52f)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3264c9(0x52f)},'imageCode':{'type':'STRING'}},'required':[_0x3264c9(0x417),_0x3264c9(0x38d),'explanation']};break;case _0x3264c9(0x624):_0x1d502c='สร้างแบบทดสอบ'+_0x2e99ee+'\x20'+_0x57ccdc+'\x20ข้อ\x20'+_0xe8711c+_0x3264c9(0x6cb)+_0x2d7800+'\x20ตัวเลือก.\x20'+_0x4fdd13+'\x20'+simpleMathPrompt+_0x3264c9(0x168),_0x20b98d={'type':_0x3264c9(0x3db),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x3264c9(0x420),_0x3264c9(0x341)]},'options':{'type':_0x3264c9(0x2ae),'items':{'type':_0x3264c9(0x52f)}},'correctAnswerIndex':{'type':_0x3264c9(0x166)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3264c9(0x52f)}},'required':[_0x3264c9(0x417),_0x3264c9(0x45e),_0x3264c9(0x6b3)]};break;case _0x3264c9(0x142):_0x1d502c=_0x3264c9(0x39c)+_0x2e99ee+'\x20'+_0x57ccdc+'\x20ข้อ\x20'+_0xe8711c+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x4fdd13+'\x20'+simpleMathPrompt,_0x20b98d={'type':'OBJECT','properties':{'questionText':{'type':_0x3264c9(0x52f)},'correctAnswer':{'type':_0x3264c9(0x19f)},'explanation':{'type':_0x3264c9(0x52f)},'imageCode':{'type':_0x3264c9(0x52f)}},'required':[_0x3264c9(0x417),_0x3264c9(0xc1),_0x3264c9(0x6b3)]};break;case _0x3264c9(0x787):_0x1d502c='สร้างชุดคำถามจับคู่'+_0x2e99ee+'\x20'+_0x57ccdc+_0x3264c9(0x187)+_0xe8711c+_0x3264c9(0x1b8)+_0x57ccdc+_0x3264c9(0x7b9)+_0x4fdd13+'\x20'+simpleMathPrompt,_0x20b98d={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x3264c9(0x85b)]},'stem':{'type':_0x3264c9(0x52f)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x3264c9(0x52f)},'imageCode':{'type':'STRING'}},'required':['questionType',_0x3264c9(0x55a),'correctResponse',_0x3264c9(0x5fd),_0x3264c9(0x6b3)]};break;}const _0x1d9d31={'type':'OBJECT','properties':{'topic':{'type':_0x3264c9(0x52f)},'questions':{'type':'ARRAY','items':_0x20b98d}},'required':[_0x3264c9(0x58e),_0x3264c9(0x528)]},_0x3ef3b4=_0x3264c9(0x34a)+_0x1d502c,_0x22a87c={'contents':[{'parts':[{'text':_0x3ef3b4},{'inlineData':{'mimeType':_0x411781,'data':_0x4fcfa5}}]}],'generationConfig':{'responseMimeType':_0x3264c9(0x31f),'responseSchema':_0x1d9d31}};return handleApiCall(_0x22a87c[_0x3264c9(0x5fe)][0x0][_0x3264c9(0x6e3)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x1d9d31);}async function handleApiCall(_0x2100b3,_0xde99ba,_0x259bd2,_0x3c6ff7=null){const _0xaa7898=_0x56a724,_0x4bb471=document[_0xaa7898(0x5a0)](_0xaa7898(0xa8)),_0x7d7d76=document[_0xaa7898(0x5a0)](_0xaa7898(0x876)),_0xf96029=document['getElementById'](_0xaa7898(0x370)),_0x57f6fe=document[_0xaa7898(0x5a0)](_0xaa7898(0x6ce));_0x4bb471[_0xaa7898(0x20d)][_0xaa7898(0x1cf)](_0xaa7898(0x5cf));_0x3c6ff7===null&&(_0x57f6fe[_0xaa7898(0x65a)]='');_0x7d7d76[_0xaa7898(0x20d)][_0xaa7898(0x1cf)](_0xaa7898(0x5cf)),_0xf96029['textContent']=_0xde99ba,document[_0xaa7898(0x5a0)](_0xaa7898(0x405))[_0xaa7898(0x2df)]=!![],document[_0xaa7898(0x5a0)](_0xaa7898(0x448))[_0xaa7898(0x2df)]=!![],document['getElementById'](_0xaa7898(0x2dd))[_0xaa7898(0x2df)]=!![];try{const _0x46fdd8={'responseMimeType':_0xaa7898(0x31f),'responseSchema':_0x259bd2},_0x326940=Array[_0xaa7898(0x9b0)](_0x2100b3)?_0x2100b3:[{'text':_0x2100b3}],_0x4aebd1={'contents':[{'role':'user','parts':_0x326940}],'generationConfig':_0x46fdd8},_0x16c486=_0xaa7898(0x625),_0x476b57=_0xaa7898(0x82a)+_0x16c486,_0x2ef90d=await fetch(_0x476b57,{'method':_0xaa7898(0x849),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x4aebd1)});if(!_0x2ef90d['ok'])throw new Error(_0xaa7898(0x744)+_0x2ef90d[_0xaa7898(0x992)]);const _0x4926ab=await _0x2ef90d[_0xaa7898(0x3f2)]();if(_0x4926ab[_0xaa7898(0x287)]?.[0x0]?.['content']?.[_0xaa7898(0x6e3)]?.[0x0]){let _0x46ce4d=_0x4926ab['candidates'][0x0][_0xaa7898(0x58d)][_0xaa7898(0x6e3)][0x0]['text'],_0x7c89c2;try{if(_0x46ce4d[_0xaa7898(0x1bd)](_0xaa7898(0x89e)))_0x46ce4d=_0x46ce4d[_0xaa7898(0x8bb)](0x7,_0x46ce4d['length']-0x3)[_0xaa7898(0x3fa)]();else _0x46ce4d['startsWith']('```')&&(_0x46ce4d=_0x46ce4d['substring'](0x3,_0x46ce4d['length']-0x3)[_0xaa7898(0x3fa)]());_0x7c89c2=JSON['parse'](_0x46ce4d);}catch(_0x4b8c2b){console[_0xaa7898(0x33a)](_0xaa7898(0x402),_0x4b8c2b,_0x46ce4d);throw new Error(_0xaa7898(0x42b));}if(_0x3c6ff7!==null){if(_0x7c89c2[_0xaa7898(0x45e)]===_0xaa7898(0x85b)){const _0x453fb0=currentQuizData[_0xaa7898(0x528)][_0xaa7898(0xbf)](_0xf017d5=>_0xf017d5[_0xaa7898(0x93f)]);_0x7c89c2['allResponses']=_0x453fb0;const _0x370531=currentQuizData['questions'][_0x3c6ff7]['correctResponse'],_0x4c17f3=_0x453fb0[_0xaa7898(0x2e6)](_0x370531);_0x4c17f3>-0x1&&(_0x453fb0[_0x4c17f3]=_0x7c89c2[_0xaa7898(0x93f)]),currentQuizData['questions'][_0xaa7898(0x573)](_0x5d87a3=>{const _0x161a2c=_0xaa7898;if(_0x5d87a3[_0x161a2c(0x45e)]===_0x161a2c(0x85b))_0x5d87a3[_0x161a2c(0x5fd)]=_0x453fb0;});}currentQuizData[_0xaa7898(0x528)][_0x3c6ff7]=_0x7c89c2,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x7c89c2;const _0x1d1d52=document[_0xaa7898(0x5a0)](_0xaa7898(0x74f))[_0xaa7898(0x8f1)];currentQuizData[_0xaa7898(0x2f1)]=_0x1d1d52,currentQuizData[_0xaa7898(0x528)]&&currentQuizData['questions']['forEach'](_0x88577f=>{const _0x4dca74=_0xaa7898;if(!_0x88577f[_0x4dca74(0x45e)]){if(_0x1d1d52==='fill_in_with_choices')_0x88577f[_0x4dca74(0x45e)]='multiple_choice';else _0x1d1d52===_0x4dca74(0x25c)?_0x88577f[_0x4dca74(0x45e)]=_0x4dca74(0x341):_0x88577f['questionType']=_0x1d1d52;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0xaa7898(0x33a)](_0xaa7898(0x831),JSON[_0xaa7898(0x5f1)](_0x4926ab));throw new Error(_0xaa7898(0x42b));}}catch(_0xa1d7fe){console[_0xaa7898(0x33a)](_0xaa7898(0x913),_0xa1d7fe),showMessage(_0xaa7898(0x372)),_0x3c6ff7===null&&(_0x57f6fe[_0xaa7898(0x65a)]=_0xaa7898(0x784));}finally{_0x7d7d76[_0xaa7898(0x20d)][_0xaa7898(0x8cb)](_0xaa7898(0x5cf)),document[_0xaa7898(0x5a0)](_0xaa7898(0x405))[_0xaa7898(0x2df)]=![],document[_0xaa7898(0x5a0)](_0xaa7898(0x448))['disabled']=![],document[_0xaa7898(0x5a0)](_0xaa7898(0x2dd))[_0xaa7898(0x2df)]=![];const _0x1e648f=document['getElementById'](_0xaa7898(0x3af));_0x1e648f&&(_0x1e648f['disabled']=![]);}}function exitFullscreen(){const _0x36b41e=_0x56a724;if(document['exitFullscreen'])document[_0x36b41e(0x315)]()['catch'](_0x2db146=>console[_0x36b41e(0x33a)](_0x2db146));else{if(document[_0x36b41e(0x2dc)])document[_0x36b41e(0x2dc)]();else document[_0x36b41e(0x1b4)]&&document[_0x36b41e(0x1b4)]();}}function enterFullscreen(){const _0x11e471=_0x56a724,_0x475b01=document[_0x11e471(0x9cc)];if(_0x475b01[_0x11e471(0x362)])_0x475b01[_0x11e471(0x362)]()[_0x11e471(0x1e5)](_0xd87645=>{const _0x36fb2a=_0x11e471;console['error'](_0x36fb2a(0x235)+_0xd87645['message']+'\x20('+_0xd87645[_0x36fb2a(0x1f8)]+')');});else{if(_0x475b01['webkitRequestFullscreen'])_0x475b01['webkitRequestFullscreen']();else _0x475b01[_0x11e471(0x610)]&&_0x475b01[_0x11e471(0x610)]();}}function handleCheatingEvent(){const _0x3d9569=_0x56a724;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x3d9569(0x243),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x3d9569(0xd8)+maxCheatAttempts+_0x3d9569(0xb4)),document[_0x3d9569(0x5a0)](_0x3d9569(0x1fb))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x3d9569(0x6e7)](_0x3d9569(0x6c1),handleVisibilityChange),document[_0x3d9569(0x6e7)](_0x3d9569(0x61c),handleFullscreenChange)):showMessage(_0x3d9569(0xc3)+cheatAttempts+'/'+maxCheatAttempts+_0x3d9569(0x73d),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x4f4f48=_0x56a724;if(currentMode===_0x4f4f48(0x265)||!isQuizActive)return;if(document[_0x4f4f48(0x7fc)]===_0x4f4f48(0x5cf))handleCheatingEvent();else document[_0x4f4f48(0x7fc)]===_0x4f4f48(0x17b)&&(console[_0x4f4f48(0x458)](_0x4f4f48(0x464)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x119cf7=_0x56a724;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x119cf7(0x8f2)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4ea001){const _0x11417f=_0x56a724,_0x13fed9=document['getElementById'](_0x11417f(0x6ce));let _0x31b97d='<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>'+_0x4ea001['topic']+_0x11417f(0x540);_0x4ea001['questions'][_0x11417f(0x573)]((_0x21c7e8,_0xda976)=>{const _0x3c14e9=_0x11417f;!_0x21c7e8['id']&&(_0x21c7e8['id']='q_'+Date[_0x3c14e9(0x64a)]()+'_'+_0xda976);const _0x59b30b=_0x21c7e8[_0x3c14e9(0x45e)]||_0x4ea001[_0x3c14e9(0x2f1)];_0x31b97d+=_0x3c14e9(0x14b)+_0xda976+_0x3c14e9(0x922)+_0xda976+_0x3c14e9(0x176)+_0xda976+_0x3c14e9(0x9c8)+_0xda976+_0x3c14e9(0x4a4);switch(_0x59b30b){case _0x3c14e9(0x85b):_0x31b97d+=_0x3c14e9(0x1ef)+_0xda976+'\x22>'+(_0xda976+0x1)+'.\x20'+_0x21c7e8['stem']+_0x3c14e9(0x8d8);_0x21c7e8[_0x3c14e9(0x223)]&&(_0x31b97d+=_0x3c14e9(0x773)+_0xda976+_0x3c14e9(0x817)+_0x21c7e8[_0x3c14e9(0x223)]+_0x3c14e9(0x5bd));_0x31b97d+=_0x3c14e9(0x2a8)+_0xda976+'\x22>'+_0x21c7e8['correctResponse']+_0x3c14e9(0x275),_0x31b97d+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0xda976+'\x22>'+_0x21c7e8['explanation']+_0x3c14e9(0x275);break;case _0x3c14e9(0x341):_0x31b97d+=_0x3c14e9(0x1ef)+_0xda976+'\x22>'+(_0xda976+0x1)+'.\x20'+_0x21c7e8['questionText']+'</p>';_0x21c7e8[_0x3c14e9(0x223)]&&(_0x31b97d+=_0x3c14e9(0x773)+_0xda976+_0x3c14e9(0x817)+_0x21c7e8['imageCode']+_0x3c14e9(0x5bd));_0x31b97d+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0xda976+'\x22>'+_0x21c7e8[_0x3c14e9(0x38d)]+_0x3c14e9(0x275),_0x31b97d+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0xda976+'\x22>'+_0x21c7e8['explanation']+'</span></div>';break;case _0x3c14e9(0x142):_0x31b97d+=_0x3c14e9(0x1ef)+_0xda976+'\x22>'+(_0xda976+0x1)+'.\x20'+_0x21c7e8[_0x3c14e9(0x417)]+'</p>';_0x21c7e8['imageCode']&&(_0x31b97d+=_0x3c14e9(0x773)+_0xda976+_0x3c14e9(0x817)+_0x21c7e8['imageCode']+_0x3c14e9(0x5bd));_0x31b97d+=_0x3c14e9(0x1c5)+(_0x21c7e8[_0x3c14e9(0xc1)]===!![]?'text-green-600\x20font-bold':'')+_0x3c14e9(0x4da)+(_0x21c7e8[_0x3c14e9(0xc1)]===![]?_0x3c14e9(0x8dd):'')+_0x3c14e9(0x910),_0x31b97d+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0xda976+'\x22>'+_0x21c7e8['explanation']+_0x3c14e9(0x275);break;case _0x3c14e9(0x635):case _0x3c14e9(0x420):default:_0x31b97d+=_0x3c14e9(0x1ef)+_0xda976+'\x22>'+(_0xda976+0x1)+'.\x20'+_0x21c7e8[_0x3c14e9(0x417)]+_0x3c14e9(0x8d8);_0x21c7e8[_0x3c14e9(0x223)]&&(_0x31b97d+=_0x3c14e9(0x773)+_0xda976+_0x3c14e9(0x817)+_0x21c7e8[_0x3c14e9(0x223)]+_0x3c14e9(0x5bd));_0x31b97d+=_0x3c14e9(0x944)+_0xda976+_0x3c14e9(0x329)+_0x21c7e8[_0x3c14e9(0xbd)][_0x3c14e9(0xbf)]((_0xfce811,_0x447946)=>_0x3c14e9(0x657)+(_0x447946===_0x21c7e8[_0x3c14e9(0x3d2)]?'text-green-600\x20font-bold':'')+'\x22>'+_0xfce811+'</li>')[_0x3c14e9(0x13f)]('')+_0x3c14e9(0x36d),_0x31b97d+=_0x3c14e9(0x7b3)+_0xda976+'\x22>'+_0x21c7e8[_0x3c14e9(0x6b3)]+_0x3c14e9(0x275);break;}_0x31b97d+=_0x3c14e9(0x5bd);}),_0x31b97d+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x13fed9[_0x11417f(0x65a)]=_0x31b97d,document[_0x11417f(0x81b)](_0x11417f(0x6ef))['forEach'](_0x146326=>_0x146326[_0x11417f(0x86b)](_0x11417f(0x12e),handleEditQuestion)),document['querySelectorAll']('.regenerate-question-btn')[_0x11417f(0x573)](_0x4ab581=>_0x4ab581['addEventListener']('click',handleRegenerateQuestion)),document[_0x11417f(0x81b)](_0x11417f(0x633))[_0x11417f(0x573)](_0x342f55=>_0x342f55['addEventListener'](_0x11417f(0x12e),handleSaveToBank)),document[_0x11417f(0x5a0)](_0x11417f(0xa6))[_0x11417f(0x86b)]('click',exportQuizAsWorksheetPDF),document[_0x11417f(0x5a0)](_0x11417f(0x2ab))[_0x11417f(0x86b)]('click',saveQuiz),document[_0x11417f(0x5a0)](_0x11417f(0xae))[_0x11417f(0x86b)](_0x11417f(0x12e),handleVerifyAnswers);if(window['MathJax'])window['MathJax']['typesetPromise']([_0x13fed9]);}function handleRegenerateQuestion(_0x57238b){const _0x43bf18=_0x56a724,_0x5f0bfd=_0x57238b[_0x43bf18(0x3cb)][_0x43bf18(0x513)]['index'],_0x3cf120=currentQuizData[_0x43bf18(0x58e)];showMessage(_0x43bf18(0x6e9)+(parseInt(_0x5f0bfd)+0x1)+'\x20ใหม่...'),generateQuiz(_0x3cf120,null,parseInt(_0x5f0bfd));}function getPointerPosition(_0x113d74,_0x5bab4e){const _0x2700b8=_0x56a724,_0x3bfc56=_0x113d74[_0x2700b8(0x8ce)]();let _0x518c5f,_0x179fb9;return _0x5bab4e[_0x2700b8(0x8f5)]&&_0x5bab4e[_0x2700b8(0x8f5)][_0x2700b8(0x2fd)]>0x0?(_0x518c5f=_0x5bab4e[_0x2700b8(0x8f5)][0x0][_0x2700b8(0x566)],_0x179fb9=_0x5bab4e[_0x2700b8(0x8f5)][0x0][_0x2700b8(0x7ef)]):(_0x518c5f=_0x5bab4e[_0x2700b8(0x566)],_0x179fb9=_0x5bab4e[_0x2700b8(0x7ef)]),{'x':(_0x518c5f-_0x3bfc56['e'])/_0x3bfc56['a'],'y':(_0x179fb9-_0x3bfc56['f'])/_0x3bfc56['d']};}function startDrag(_0x202b3c){const _0x685158=_0x56a724;_0x202b3c['type']===_0x685158(0x147)&&_0x202b3c[_0x685158(0x7b0)]();const _0x1f18e2=_0x202b3c[_0x685158(0x6e2)]['closest'](_0x685158(0x5b6));if(_0x1f18e2){draggedSvgElement=_0x1f18e2;const _0x6099fc=draggedSvgElement[_0x685158(0x8ab)],_0x4c503c=getPointerPosition(_0x6099fc,_0x202b3c);svgOffset['x']=_0x4c503c['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x4c503c['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x10e0ce,_0x310b18){const _0x117f35=_0x56a724,_0x5bbf10={};if(_0x310b18[_0x117f35(0x2fd)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x2ca167=[..._0x310b18][_0x117f35(0x905)]((_0xce9598,_0x5ba050)=>{const _0x4a9a6d=_0x117f35,_0x7c95e2=_0x5ba050[_0x4a9a6d(0x613)]-_0xce9598[_0x4a9a6d(0x613)];if(_0x7c95e2!==0x0)return _0x7c95e2;const _0x21bd77=_0xce9598['attempts']?.[_0x4a9a6d(0x2fd)]||0x1,_0xbda950=_0x5ba050[_0x4a9a6d(0x6a8)]?.[_0x4a9a6d(0x2fd)]||0x1,_0x56d9b0=_0x21bd77-_0xbda950;if(_0x56d9b0!==0x0)return _0x56d9b0;const _0x343d81=new Date(_0xce9598['latestSubmittedAt']),_0x303301=new Date(_0x5ba050[_0x4a9a6d(0x1c9)]),_0x5a1638=_0x343d81-_0x303301;if(_0x5a1638!==0x0)return _0x5a1638;return _0xce9598['studentName'][_0x4a9a6d(0xc7)](_0x5ba050[_0x4a9a6d(0x6d5)],'th');}),_0x49a382=_0x2ca167[_0x117f35(0x2fd)],_0x17aa35=Math[_0x117f35(0x505)](0x1,Math['floor'](_0x49a382*0.33));if(_0x17aa35===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4faec0=_0x2ca167[_0x117f35(0x545)](0x0,_0x17aa35),_0x4f0735=_0x2ca167[_0x117f35(0x545)](-_0x17aa35),_0x453ed7=_0x4faec0[_0x117f35(0xbf)](_0x2b27dc=>_0x2b27dc[_0x117f35(0x6d5)]),_0x362d17=_0x4f0735[_0x117f35(0xbf)](_0x227d88=>_0x227d88[_0x117f35(0x6d5)]);return _0x10e0ce['questions'][_0x117f35(0x573)]((_0x11a809,_0x54e821)=>{const _0x5bebc3=_0x117f35,_0x4a49fa=_0x11a809[_0x5bebc3(0x55a)]||_0x11a809['questionText'];let _0x1d3f93=0x0,_0xba3303=0x0,_0x3fc523=0x0;const _0x36d6fc=[],_0x3878a1=[];_0x4faec0['forEach'](_0x5a404d=>{const _0x3cd44b=_0x5bebc3,_0x18e301=_0x5a404d[_0x3cd44b(0x6a8)][_0x5a404d[_0x3cd44b(0x6a8)][_0x3cd44b(0x2fd)]-0x1],_0x3e03e8=_0x18e301[_0x3cd44b(0x570)][_0x3cd44b(0xcc)](_0xe984d9=>_0xe984d9[_0x3cd44b(0x5d1)]===_0x4a49fa);_0x36d6fc[_0x3cd44b(0x6ae)]({'name':_0x5a404d[_0x3cd44b(0x6d5)],'isCorrect':_0x3e03e8?_0x3e03e8[_0x3cd44b(0x29a)]:![]}),_0x3e03e8&&_0x3e03e8['isCorrect']&&_0xba3303++;}),_0x4f0735[_0x5bebc3(0x573)](_0x99c7c3=>{const _0x541492=_0x5bebc3,_0x838b80=_0x99c7c3[_0x541492(0x6a8)][_0x99c7c3[_0x541492(0x6a8)]['length']-0x1],_0x1fc286=_0x838b80['answers'][_0x541492(0xcc)](_0x263036=>_0x263036[_0x541492(0x5d1)]===_0x4a49fa);_0x3878a1[_0x541492(0x6ae)]({'name':_0x99c7c3[_0x541492(0x6d5)],'isCorrect':_0x1fc286?_0x1fc286[_0x541492(0x29a)]:![]}),_0x1fc286&&_0x1fc286[_0x541492(0x29a)]&&_0x3fc523++;}),_0x310b18[_0x5bebc3(0x573)](_0x794177=>{const _0x195ff2=_0x5bebc3,_0x433251=_0x794177[_0x195ff2(0x6a8)][_0x794177[_0x195ff2(0x6a8)][_0x195ff2(0x2fd)]-0x1],_0x6ec69c=_0x433251[_0x195ff2(0x570)][_0x195ff2(0xcc)](_0x4e370f=>_0x4e370f['originalQuestionText']===_0x4a49fa);_0x6ec69c&&_0x6ec69c[_0x195ff2(0x29a)]&&_0x1d3f93++;});const _0x4abc8e=_0x49a382>0x0?_0x1d3f93/_0x49a382:0x0,_0x396a28=_0x17aa35>0x0?_0xba3303/_0x17aa35-_0x3fc523/_0x17aa35:0x0;_0x5bbf10[_0x54e821]={'p':_0x4abc8e,'r':_0x396a28,'upperGroupResponders':_0x36d6fc,'lowerGroupResponders':_0x3878a1};}),{'perQuestionStats':_0x5bbf10,'overallGroups':{'upperGroupNames':_0x453ed7,'lowerGroupNames':_0x362d17}};}function drag(_0x269064){const _0x5881b8=_0x56a724;if(draggedSvgElement){_0x269064[_0x5881b8(0x7b0)]();const _0x5c4fdf=draggedSvgElement['ownerSVGElement'],_0x34c997=getPointerPosition(_0x5c4fdf,_0x269064),_0x33b6f3=_0x5c4fdf[_0x5881b8(0x167)]['baseVal'];let _0x4d5ddd=_0x34c997['x']-svgOffset['x'],_0xc3c7af=_0x34c997['y']-svgOffset['y'];const _0x3404f6=draggedSvgElement[_0x5881b8(0x12f)]();_0x4d5ddd=Math[_0x5881b8(0x505)](_0x33b6f3['x'],Math[_0x5881b8(0x211)](_0x4d5ddd,_0x33b6f3['x']+_0x33b6f3['width']-_0x3404f6[_0x5881b8(0x109)])),_0xc3c7af=Math[_0x5881b8(0x505)](_0x33b6f3['y'],Math[_0x5881b8(0x211)](_0xc3c7af,_0x33b6f3['y']+_0x33b6f3['height']-_0x3404f6[_0x5881b8(0x11e)])),draggedSvgElement[_0x5881b8(0x947)](null,'x',_0x4d5ddd),draggedSvgElement[_0x5881b8(0x947)](null,'y',_0xc3c7af);}}function endDrag(_0x4d4ecd){draggedSvgElement=null;}function handleSvgEditClick(_0x50da96){const _0x5c009b=_0x56a724;if(_0x50da96[_0x5c009b(0x6e2)]['classList'][_0x5c009b(0x9e0)](_0x5c009b(0x607))){const _0x409f0e=_0x50da96[_0x5c009b(0x6e2)][_0x5c009b(0x513)][_0x5c009b(0x149)],_0x2934b6=_0x50da96[_0x5c009b(0x3cb)],_0x313af0=_0x2934b6[_0x5c009b(0x4aa)]('#'+_0x409f0e);_0x313af0&&_0x313af0['remove'](),_0x50da96['target'][_0x5c009b(0x1cf)]();}}function handleEditQuestion(_0x5d6eb2){const _0x3c8383=_0x56a724,_0x46dc9d=_0x5d6eb2[_0x3c8383(0x3cb)],_0x407068=_0x46dc9d['dataset'][_0x3c8383(0x982)],_0x905e8d=currentQuizData[_0x3c8383(0x528)][_0x407068],_0x401e0b=document['getElementById'](_0x3c8383(0x6bf)+_0x407068),_0x326d31=document[_0x3c8383(0x5a0)](_0x3c8383(0x751)+_0x407068),_0xbad21a=document[_0x3c8383(0x5a0)]('q-image-container-'+_0x407068);if(_0x46dc9d[_0x3c8383(0x65a)][_0x3c8383(0x5c1)](_0x3c8383(0x9dc))){_0x46dc9d['innerHTML']=_0x3c8383(0x9a9),_0x46dc9d[_0x3c8383(0x701)]=_0x3c8383(0x8f7);if(_0x401e0b)_0x401e0b[_0x3c8383(0x653)]=!![];if(_0x326d31)_0x326d31['contentEditable']=!![];if(_0xbad21a){const _0x30ed2b=_0xbad21a['querySelector']('svg');if(_0x30ed2b){const _0x1f3da2=_0x30ed2b['querySelectorAll'](_0x3c8383(0x708));_0x1f3da2[_0x3c8383(0x573)]((_0x1d9a83,_0x52b7fb)=>{const _0x42807e=_0x3c8383,_0x280cbd=_0x42807e(0x91e)+_0x407068+'-'+_0x52b7fb;_0x1d9a83['id']=_0x280cbd,_0x1d9a83[_0x42807e(0x20d)][_0x42807e(0x8cb)](_0x42807e(0x729)),_0x1d9a83['style'][_0x42807e(0x278)]='move';const _0x4ebd17=document[_0x42807e(0x748)](_0x42807e(0x3a3),_0x42807e(0x94f)),_0x128232=_0x1d9a83[_0x42807e(0x12f)]();_0x4ebd17[_0x42807e(0x7dc)]('cx',String(_0x128232['x']+_0x128232[_0x42807e(0x109)]+0x5)),_0x4ebd17[_0x42807e(0x7dc)]('cy',String(_0x128232['y']+_0x128232[_0x42807e(0x11e)]/0x2-0x5)),_0x4ebd17[_0x42807e(0x7dc)]('r','5'),_0x4ebd17[_0x42807e(0x7dc)](_0x42807e(0x991),_0x42807e(0x43d)),_0x4ebd17[_0x42807e(0x7dc)]('class',_0x42807e(0x607)),_0x4ebd17[_0x42807e(0x513)][_0x42807e(0x149)]=_0x280cbd,_0x1d9a83['after'](_0x4ebd17);}),_0x30ed2b[_0x3c8383(0x86b)](_0x3c8383(0x63c),startDrag),_0x30ed2b[_0x3c8383(0x86b)](_0x3c8383(0x2cc),drag),_0x30ed2b['addEventListener'](_0x3c8383(0x3c2),endDrag),_0x30ed2b[_0x3c8383(0x86b)](_0x3c8383(0x48a),endDrag),_0x30ed2b[_0x3c8383(0x86b)](_0x3c8383(0x147),startDrag,{'passive':![]}),_0x30ed2b[_0x3c8383(0x86b)](_0x3c8383(0x437),drag,{'passive':![]}),_0x30ed2b[_0x3c8383(0x86b)](_0x3c8383(0x326),endDrag),_0x30ed2b[_0x3c8383(0x86b)]('touchcancel',endDrag),_0x30ed2b[_0x3c8383(0x86b)](_0x3c8383(0x12e),handleSvgEditClick);}}if(_0x401e0b)_0x401e0b[_0x3c8383(0x99)]();}else{_0x46dc9d[_0x3c8383(0x65a)]=_0x3c8383(0x99f),_0x46dc9d[_0x3c8383(0x701)]=_0x3c8383(0x496);if(_0x401e0b){_0x401e0b[_0x3c8383(0x653)]=![];const _0x598750=_0x905e8d['questionType']||currentQuizData['quizType'];_0x598750===_0x3c8383(0x85b)?_0x905e8d[_0x3c8383(0x55a)]=_0x401e0b['innerText'][_0x3c8383(0x8bb)](_0x401e0b['innerText'][_0x3c8383(0x2e6)]('.')+0x2)[_0x3c8383(0x3fa)]():_0x905e8d[_0x3c8383(0x417)]=_0x401e0b[_0x3c8383(0x7de)]['substring'](_0x401e0b[_0x3c8383(0x7de)]['indexOf']('.')+0x2)[_0x3c8383(0x3fa)]();}_0x326d31&&(_0x326d31[_0x3c8383(0x653)]=![],_0x905e8d[_0x3c8383(0x6b3)]=_0x326d31[_0x3c8383(0x7de)]);if(_0xbad21a){const _0x3e374d=_0xbad21a[_0x3c8383(0x4aa)](_0x3c8383(0x285));if(_0x3e374d){const _0x13e77a=_0x3e374d['cloneNode'](!![]);_0x13e77a[_0x3c8383(0x81b)]('.delete-svg-btn')[_0x3c8383(0x573)](_0x8b87af=>_0x8b87af[_0x3c8383(0x1cf)]()),_0x13e77a[_0x3c8383(0x81b)](_0x3c8383(0x5b6))[_0x3c8383(0x573)](_0x98260e=>{const _0x502c53=_0x3c8383;_0x98260e[_0x502c53(0x20d)][_0x502c53(0x1cf)]('draggable-text'),_0x98260e[_0x502c53(0x716)]['cursor']=_0x502c53(0x5b2),_0x98260e[_0x502c53(0x537)]('id');}),_0x905e8d[_0x3c8383(0x223)]=_0x13e77a[_0x3c8383(0x8a2)],_0x3e374d[_0x3c8383(0x6e7)]('mousedown',startDrag),_0x3e374d[_0x3c8383(0x6e7)](_0x3c8383(0x2cc),drag),_0x3e374d[_0x3c8383(0x6e7)]('mouseup',endDrag),_0x3e374d[_0x3c8383(0x6e7)](_0x3c8383(0x48a),endDrag),_0x3e374d[_0x3c8383(0x6e7)](_0x3c8383(0x147),startDrag),_0x3e374d[_0x3c8383(0x6e7)](_0x3c8383(0x437),drag),_0x3e374d[_0x3c8383(0x6e7)](_0x3c8383(0x326),endDrag),_0x3e374d[_0x3c8383(0x6e7)]('touchcancel',endDrag),_0x3e374d[_0x3c8383(0x6e7)](_0x3c8383(0x12e),handleSvgEditClick),_0x3e374d[_0x3c8383(0x81b)](_0x3c8383(0x2ed))[_0x3c8383(0x573)](_0x26b27a=>_0x26b27a['remove']()),_0x3e374d[_0x3c8383(0x81b)](_0x3c8383(0x5b6))[_0x3c8383(0x573)](_0x368a59=>{const _0x4e6c73=_0x3c8383;_0x368a59['classList'][_0x4e6c73(0x1cf)](_0x4e6c73(0x729)),_0x368a59[_0x4e6c73(0x716)][_0x4e6c73(0x278)]=_0x4e6c73(0x5b2);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x3be132){const _0x1a9580=_0x56a724,_0x4b4391=document[_0x1a9580(0x5a0)](_0x1a9580(0x670)),_0x74989d=document[_0x1a9580(0x5a0)](_0x1a9580(0x102));_0x74989d[_0x1a9580(0x65a)]=_0x1a9580(0x2f0),_0x4b4391[_0x1a9580(0x20d)]['remove'](_0x1a9580(0x5cf));try{const _0xf1be0f=doc(db,_0x1a9580(0x4e3)+appId+_0x1a9580(0x73b),_0x3be132),_0x433035=await getDoc(_0xf1be0f);if(!_0x433035[_0x1a9580(0x14e)]())throw new Error(_0x1a9580(0x6e1));currentEditingQuizData={'id':_0x3be132,..._0x433035[_0x1a9580(0x2fb)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x56a041){console['error'](_0x1a9580(0x548),_0x56a041),showMessage(_0x1a9580(0x828)),_0x4b4391[_0x1a9580(0x20d)][_0x1a9580(0x8cb)]('hidden');}}function renderQuizEditor(_0x47fdd6){const _0x848cdc=_0x56a724;document[_0x848cdc(0x5a0)](_0x848cdc(0x9bb))[_0x848cdc(0x8f1)]=_0x47fdd6[_0x848cdc(0x58e)];const _0xe1951b=document[_0x848cdc(0x5a0)](_0x848cdc(0x102));let _0x25bfb6=_0x47fdd6[_0x848cdc(0x528)]['map']((_0x452a51,_0x58f645)=>{const _0x397e85=_0x848cdc;let _0x2e4ce6='';const _0x3cdfdd=_0x452a51[_0x397e85(0x45e)]||_0x47fdd6[_0x397e85(0x2f1)];switch(_0x3cdfdd){case _0x397e85(0x420):const _0x42b4cc=(_0x452a51['options']||[])[_0x397e85(0xbf)]((_0xb49cf9,_0x56f39c)=>_0x397e85(0x2e7)+_0x58f645+_0x397e85(0x488)+_0x56f39c+'\x22\x20'+(_0x56f39c===_0x452a51[_0x397e85(0x3d2)]?_0x397e85(0x71e):'')+_0x397e85(0x489)+_0xb49cf9+_0x397e85(0x3a6))[_0x397e85(0x13f)]('');_0x2e4ce6=_0x397e85(0x52b)+_0x42b4cc+_0x397e85(0x349);break;case'short_answer':_0x2e4ce6=_0x397e85(0x51d)+(_0x452a51[_0x397e85(0x38d)]||'')+_0x397e85(0x66e);break;case _0x397e85(0x142):_0x2e4ce6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x58f645+_0x397e85(0x2d7)+(_0x452a51[_0x397e85(0xc1)]===!![]?'checked':'')+_0x397e85(0x26f)+_0x58f645+_0x397e85(0x59a)+(_0x452a51['correctAnswer']===![]?'checked':'')+_0x397e85(0x76b);break;case _0x397e85(0x85b):_0x2e4ce6=_0x397e85(0x292)+(_0x452a51[_0x397e85(0x93f)]||'')+_0x397e85(0x845);break;}const _0x2ec956=_0x452a51[_0x397e85(0x417)]||_0x452a51[_0x397e85(0x55a)]||'';return _0x397e85(0x568)+_0x58f645+_0x397e85(0x246)+_0x3cdfdd+_0x397e85(0xdf)+(_0x58f645+0x1)+'\x20('+_0x3cdfdd+_0x397e85(0x951)+_0x2ec956+_0x397e85(0x75f)+_0x2e4ce6+_0x397e85(0x81);})[_0x848cdc(0x13f)]('');_0xe1951b[_0x848cdc(0x65a)]=_0x25bfb6,_0xe1951b[_0x848cdc(0x81b)]('.ai-fix-question-btn')['forEach'](_0x56b8b2=>{const _0x57b52f=_0x848cdc;_0x56b8b2[_0x57b52f(0x86b)](_0x57b52f(0x12e),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x3ebe1b){const _0x55a204=_0x56a724,_0x528854=_0x3ebe1b['currentTarget'],_0x3f8259=_0x528854[_0x55a204(0x5dd)](_0x55a204(0x1e8));if(!_0x3f8259)return;const _0x453f94=parseInt(_0x3f8259[_0x55a204(0x513)][_0x55a204(0x800)],0xa);if(isNaN(_0x453f94)||!currentEditingQuizData[_0x55a204(0x528)][_0x453f94]){showMessage(_0x55a204(0x47e));return;}const _0x2d8925=currentEditingQuizData[_0x55a204(0x528)][_0x453f94];_0x528854['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x528854[_0x55a204(0x2df)]=!![];const _0xc16768=_0x55a204(0x684)+JSON[_0x55a204(0x5f1)](_0x2d8925)+_0x55a204(0x88d);let _0x4c1f94;const _0xe0f926=_0x2d8925[_0x55a204(0x45e)]||currentEditingQuizData[_0x55a204(0x2f1)];switch(_0xe0f926){case _0x55a204(0x341):_0x4c1f94={'type':_0x55a204(0x3db),'properties':{'questionText':{'type':_0x55a204(0x52f)},'idealAnswer':{'type':_0x55a204(0x52f)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x55a204(0x52f)}},'required':[_0x55a204(0x417),_0x55a204(0x38d),_0x55a204(0x6b3)]};break;case _0x55a204(0x420):default:_0x4c1f94={'type':_0x55a204(0x3db),'properties':{'questionText':{'type':_0x55a204(0x52f)},'options':{'type':_0x55a204(0x2ae),'items':{'type':_0x55a204(0x52f)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x55a204(0x52f)}},'required':['questionText',_0x55a204(0xbd),_0x55a204(0x3d2),_0x55a204(0x6b3)]};break;}try{let _0x4e9ac1=await callAnalysisApi(_0xc16768,_0x4c1f94);_0x4e9ac1['options']&&Array[_0x55a204(0x9b0)](_0x4e9ac1[_0x55a204(0xbd)])&&(_0x4e9ac1[_0x55a204(0xbd)]=_0x4e9ac1[_0x55a204(0xbd)][_0x55a204(0xbf)](_0x4de56f=>typeof _0x4de56f===_0x55a204(0x1ae)?_0x4de56f[_0x55a204(0x3c8)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x4de56f)),_0x2d8925[_0x55a204(0x223)]&&_0x2d8925[_0x55a204(0x223)]['includes'](_0x55a204(0x8e))&&(_0x4e9ac1[_0x55a204(0x223)]=''),currentEditingQuizData[_0x55a204(0x528)][_0x453f94]={..._0x2d8925,..._0x4e9ac1},renderQuizEditor(currentEditingQuizData),showMessage(_0x55a204(0x699));}catch(_0x598e62){console[_0x55a204(0x33a)](_0x55a204(0x334),_0x598e62),showMessage(_0x55a204(0xfb)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x4594f1=_0x56a724,_0x34d648=document['getElementById'](_0x4594f1(0x682));_0x34d648[_0x4594f1(0x2df)]=!![],_0x34d648[_0x4594f1(0x65a)]=_0x4594f1(0x6f9);try{const _0x192e7f=document[_0x4594f1(0x5a0)](_0x4594f1(0x9bb))[_0x4594f1(0x8f1)],_0x4b32b3=document[_0x4594f1(0x81b)]('.question-editor-item');let _0x5a6a6c=[];const _0x45a5a3=Array[_0x4594f1(0x4d1)](_0x4b32b3)[_0x4594f1(0xbf)]((_0x1c113e,_0x33fa46)=>{const _0x4a42f6=_0x4594f1,_0x796b3d=_0x1c113e[_0x4a42f6(0x513)][_0x4a42f6(0x490)],_0x2f7b43=_0x1c113e['querySelector'](_0x4a42f6(0x683))[_0x4a42f6(0x8f1)];let _0x4e8ef5={'questionType':_0x796b3d};const _0x13f1f0=currentEditingQuizData[_0x4a42f6(0x528)][_0x33fa46];switch(_0x796b3d){case _0x4a42f6(0x420):_0x4e8ef5['questionText']=_0x2f7b43;const _0x45be69=_0x1c113e[_0x4a42f6(0x81b)]('input[type=\x22text\x22]');_0x4e8ef5[_0x4a42f6(0xbd)]=Array[_0x4a42f6(0x4d1)](_0x45be69)[_0x4a42f6(0xbf)](_0x45fb54=>_0x45fb54[_0x4a42f6(0x8f1)]);const _0x3f6ece=_0x1c113e[_0x4a42f6(0x4aa)](_0x4a42f6(0x49d));_0x4e8ef5['correctAnswerIndex']=_0x3f6ece?parseInt(_0x3f6ece[_0x4a42f6(0x8f1)]):0x0;break;case _0x4a42f6(0x341):_0x4e8ef5[_0x4a42f6(0x417)]=_0x2f7b43,_0x4e8ef5[_0x4a42f6(0x38d)]=_0x1c113e[_0x4a42f6(0x4aa)](_0x4a42f6(0x6ac))['value'];break;case'true_false':_0x4e8ef5[_0x4a42f6(0x417)]=_0x2f7b43;const _0x3546c7=_0x1c113e[_0x4a42f6(0x4aa)](_0x4a42f6(0x49d));_0x4e8ef5[_0x4a42f6(0xc1)]=_0x3546c7?_0x3546c7[_0x4a42f6(0x8f1)]===_0x4a42f6(0x25a):!![];break;case _0x4a42f6(0x85b):_0x4e8ef5[_0x4a42f6(0x55a)]=_0x2f7b43;const _0x2da5c8=_0x1c113e[_0x4a42f6(0x4aa)](_0x4a42f6(0x588));_0x4e8ef5['correctResponse']=_0x2da5c8?_0x2da5c8['value']:'',_0x5a6a6c[_0x4a42f6(0x6ae)](_0x4e8ef5[_0x4a42f6(0x93f)]);break;default:_0x4e8ef5[_0x4a42f6(0x417)]=_0x2f7b43;break;}return{..._0x13f1f0,..._0x4e8ef5};});_0x5a6a6c['length']>0x0&&_0x45a5a3[_0x4594f1(0x573)](_0x5a6e18=>{const _0x107ce9=_0x4594f1;_0x5a6e18[_0x107ce9(0x45e)]===_0x107ce9(0x85b)&&(_0x5a6e18[_0x107ce9(0x5fd)]=_0x5a6a6c);});const _0x155e0c=currentEditingQuizData['id'],_0x225399=doc(db,'artifacts/'+appId+_0x4594f1(0x73b),_0x155e0c);await updateDoc(_0x225399,{'topic':_0x192e7f,'questions':_0x45a5a3}),document[_0x4594f1(0x5a0)](_0x4594f1(0x670))[_0x4594f1(0x20d)]['add'](_0x4594f1(0x5cf)),showMessage(_0x4594f1(0x9d7),()=>initiateReGradeProcess(_0x155e0c));}catch(_0x175a5a){console[_0x4594f1(0x33a)]('Error\x20saving\x20quiz\x20edits:',_0x175a5a),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x34d648[_0x4594f1(0x2df)]=![],_0x34d648[_0x4594f1(0x65a)]=_0x4594f1(0x4f2);}}async function initiateReGradeProcess(_0x16fc81){const _0x56d915=_0x56a724;showMessage(_0x56d915(0x8bc));try{const _0x3357d8=doc(db,_0x56d915(0x4e3)+appId+'/public/data/quizzes',_0x16fc81),_0x30f202=await getDoc(_0x3357d8);if(!_0x30f202[_0x56d915(0x14e)]())throw new Error(_0x56d915(0x73));const _0x1c0742={'id':_0x16fc81,..._0x30f202[_0x56d915(0x2fb)]()},_0x41fbbe=collection(db,_0x56d915(0x4e3)+appId+_0x56d915(0x73b),_0x16fc81,'submissions'),_0x4315e2=await getDocs(_0x41fbbe);if(_0x4315e2[_0x56d915(0x3f7)]){showMessage(_0x56d915(0x3d1));return;}const _0x2c95c9=_0x4315e2['docs']['map'](_0x1fc157=>reGradeSingleSubmission(_0x1fc157,_0x1c0742));await Promise['all'](_0x2c95c9);if(_0x1c0742['projectId']){const _0x4d4928=doc(db,_0x56d915(0x4e3)+appId+_0x56d915(0x3b0),_0x1c0742[_0x56d915(0x6ab)]),_0x39e92a=await getDoc(_0x4d4928);if(_0x39e92a['exists']()&&_0x39e92a[_0x56d915(0x2fb)]()[_0x56d915(0x75c)]){const _0x38ce22=_0x39e92a[_0x56d915(0x2fb)]()[_0x56d915(0x75c)][_0x56d915(0xbf)](_0x57f6a7=>updateStudentProfile(_0x1c0742[_0x56d915(0x6ab)],_0x57f6a7));await Promise[_0x56d915(0x9c4)](_0x38ce22);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x4315e2[_0x56d915(0x9b3)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x321135){console['error'](_0x56d915(0x443),_0x321135),showMessage(_0x56d915(0x14c)+_0x321135[_0x56d915(0x26e)]);}}async function reGradeSingleSubmission(_0x2e0a6e,_0x5bc512){const _0x11077e=_0x56a724,_0x34cc6d=_0x2e0a6e['data'](),_0x51a4ba=_0x34cc6d['studentName'],_0x1ba1f4=_0x34cc6d[_0x11077e(0x6a8)]||[],_0x20477e=[];for(const _0x44e607 of _0x1ba1f4){let _0xc2f557=0x0,_0x42937d=[],_0x3cc4de=0x0;const _0xd3c815=[];for(const _0x2b1ca6 of _0x44e607[_0x11077e(0x570)]){let _0x19787c;_0x2b1ca6[_0x11077e(0x327)]&&(_0x19787c=_0x5bc512[_0x11077e(0x528)][_0x11077e(0xcc)](_0x44e5c2=>_0x44e5c2['id']===_0x2b1ca6['questionId']));!_0x19787c&&_0x2b1ca6[_0x11077e(0x5d1)]&&(_0x19787c=_0x5bc512[_0x11077e(0x528)]['find'](_0xe3bab2=>(_0xe3bab2['stem']||_0xe3bab2[_0x11077e(0x417)])===_0x2b1ca6[_0x11077e(0x5d1)]));let _0x2ad377=![];if(_0x19787c){const _0x5cbf6f=_0x19787c[_0x11077e(0x45e)]||_0x5bc512[_0x11077e(0x2f1)];switch(_0x5cbf6f){case _0x11077e(0x420):if(_0x19787c[_0x11077e(0xbd)]&&_0x19787c[_0x11077e(0x3d2)]<_0x19787c[_0x11077e(0xbd)][_0x11077e(0x2fd)]){const _0xb70261=_0x19787c[_0x11077e(0xbd)][_0x19787c[_0x11077e(0x3d2)]];_0x2ad377=_0x2b1ca6['answerText']===_0xb70261;}break;case'true_false':const _0x172228=_0x2b1ca6[_0x11077e(0x995)]===!![]||_0x2b1ca6['answer']===_0x11077e(0x25a);_0x2ad377=_0x172228===_0x19787c[_0x11077e(0xc1)];break;case _0x11077e(0x85b):_0x2ad377=_0x2b1ca6[_0x11077e(0x995)]===_0x19787c['correctResponse'];break;case'short_answer':_0x2ad377=await gradeShortAnswer(_0x2b1ca6[_0x11077e(0x995)],_0x19787c);break;default:_0x2ad377=_0x2b1ca6[_0x11077e(0x29a)];break;}}if(_0x2ad377){_0xc2f557++,_0x3cc4de++;if(_0x3cc4de===0x3)_0x42937d[_0x11077e(0x6ae)](BADGES[_0x11077e(0x934)]['id']);}else _0x3cc4de=0x0;_0xd3c815[_0x11077e(0x6ae)]({..._0x2b1ca6,'isCorrect':_0x2ad377});}let _0x4e7e2c=_0xc2f557*0xa;_0xc2f557===_0x5bc512['questions'][_0x11077e(0x2fd)]&&(_0x4e7e2c+=0x32,_0x42937d[_0x11077e(0x6ae)](BADGES['PERFECT_SCORE']['id'])),_0x20477e[_0x11077e(0x6ae)]({..._0x44e607,'score':_0xc2f557,'points':_0x4e7e2c,'badges':Array[_0x11077e(0x4d1)](new Set(_0x42937d)),'answers':_0xd3c815});}const _0x2d04b8=_0x20477e['length']>0x0?_0x20477e[0x0][_0x11077e(0x2cf)]:0x0,_0x54e276=Math['max'](..._0x20477e[_0x11077e(0xbf)](_0x1eb52a=>_0x1eb52a[_0x11077e(0x2cf)])),_0x477aa2=_0x20477e[_0x11077e(0x2fd)]>0x0?_0x20477e[_0x20477e[_0x11077e(0x2fd)]-0x1][_0x11077e(0x2cf)]:0x0,_0x3724a1=_0x20477e[_0x11077e(0x2fd)]>0x0?_0x20477e[_0x20477e['length']-0x1]['points']:0x0,_0x25b3bf=doc(db,'artifacts/'+appId+_0x11077e(0x395)+_0x5bc512['id']+'/submissions',_0x51a4ba);await updateDoc(_0x25b3bf,{'attempts':_0x20477e,'firstScore':_0x2d04b8,'bestScore':_0x54e276,'latestScore':_0x477aa2,'points':_0x3724a1});}function cleanupQuizOptions(_0x4dfd41){const _0x25d233=_0x56a724,_0x176a8f=(_0xeb84fe,_0x35cf68)=>_0x35cf68===0x0?_0xeb84fe:_0x176a8f(_0x35cf68,_0xeb84fe%_0x35cf68),_0x2378d4=_0x4b0f59=>{const _0x4e178b=_0x3686;if(typeof _0x4b0f59!==_0x4e178b(0x1ae))return null;_0x4b0f59=_0x4b0f59[_0x4e178b(0x3fa)]();const _0x11f181=_0x4b0f59[_0x4e178b(0x60e)](/[ /]/)[_0x4e178b(0x5e1)](_0x3c8a3e=>_0x3c8a3e!=='');if(_0x11f181[_0x4e178b(0x2fd)]===0x3)return parseInt(_0x11f181[0x0])+parseInt(_0x11f181[0x1])/parseInt(_0x11f181[0x2]);else{if(_0x11f181[_0x4e178b(0x2fd)]===0x2)return parseInt(_0x11f181[0x0])/parseInt(_0x11f181[0x1]);else{if(_0x11f181[_0x4e178b(0x2fd)]===0x1&&!isNaN(_0x11f181[0x0]))return parseFloat(_0x11f181[0x0]);}}return null;},_0x2d23a7=_0x27ef49=>{const _0x3cc0e3=_0x3686;if(typeof _0x27ef49!==_0x3cc0e3(0x1ae))return _0x27ef49;const _0x2d14fe=_0x27ef49[_0x3cc0e3(0x503)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x2d14fe){const _0x2ddd2b=parseInt(_0x2d14fe[0x1]);let _0x392341=parseInt(_0x2d14fe[0x2]),_0x562124=parseInt(_0x2d14fe[0x3]);const _0x21fd67=_0x176a8f(_0x392341,_0x562124);_0x392341/=_0x21fd67,_0x562124/=_0x21fd67;if(_0x562124===0x1)return(_0x2ddd2b+_0x392341)[_0x3cc0e3(0x239)]();return _0x2ddd2b+'\x20'+_0x392341+'/'+_0x562124;}return _0x27ef49;};return _0x4dfd41&&_0x4dfd41[_0x25d233(0x528)]&&_0x4dfd41[_0x25d233(0x528)][_0x25d233(0x573)](_0x1001f8=>{const _0x356134=_0x25d233;if(_0x1001f8[_0x356134(0x45e)]==='multiple_choice'&&_0x1001f8['options']){const _0x49addc=new Map(),_0x1ef369=_0x1001f8[_0x356134(0xbd)][_0x1001f8[_0x356134(0x3d2)]];_0x1001f8['options']['forEach'](_0x948792=>{const _0x29af41=_0x356134,_0x19896a=_0x2d23a7(_0x948792),_0x54bcaa=_0x2378d4(_0x19896a);_0x54bcaa!==null&&!_0x49addc[_0x29af41(0x8fa)](_0x54bcaa)&&_0x49addc[_0x29af41(0x4fc)](_0x54bcaa,_0x19896a);}),_0x1001f8[_0x356134(0xbd)]=Array[_0x356134(0x4d1)](_0x49addc['values']());const _0x46a944=_0x1001f8[_0x356134(0xbd)][_0x356134(0x6bb)](_0xb02744=>_0xb02744===_0x2d23a7(_0x1ef369));_0x1001f8[_0x356134(0x3d2)]=_0x46a944!==-0x1?_0x46a944:0x0;}}),_0x4dfd41;}function showGameStartConfirmationModal(_0x4aea97,_0x2f3b50,_0x56d73f){const _0x17bffc=_0x56a724,_0xc42f62=document[_0x17bffc(0x5a0)](_0x17bffc(0x439));document['getElementById'](_0x17bffc(0x526))[_0x17bffc(0x83f)]='เริ่มกิจกรรม:\x20'+_0x56d73f,document['getElementById'](_0x17bffc(0x562))['value']=_0x4aea97,document['getElementById'](_0x17bffc(0x9b4))[_0x17bffc(0x8f1)]=_0x2f3b50,document['getElementById'](_0x17bffc(0x23f))[_0x17bffc(0x71e)]=!![],_0xc42f62[_0x17bffc(0x20d)][_0x17bffc(0x1cf)]('hidden');}async function saveGameResultsAsSubmissions(_0x767f0f){const _0x2ffeb3=_0x56a724;console[_0x2ffeb3(0x458)](_0x2ffeb3(0x1ad),_0x767f0f);const _0x105c00=_0x767f0f['quizId'];let _0x2f50a3=[];if(_0x767f0f[_0x2ffeb3(0x125)])_0x2f50a3=Object['entries'](_0x767f0f[_0x2ffeb3(0x125)])[_0x2ffeb3(0xbf)](([_0x3866d5,_0x20a838])=>({'name':_0x3866d5,..._0x20a838}));else{if(_0x767f0f[_0x2ffeb3(0x3c0)])Object[_0x2ffeb3(0x7d9)](_0x767f0f[_0x2ffeb3(0x3c0)])[_0x2ffeb3(0x573)](_0x29c665=>{const _0x46e8d0=_0x2ffeb3;_0x29c665[_0x46e8d0(0x983)][_0x46e8d0(0x573)](_0x4e57fb=>{const _0x2a1768=_0x46e8d0;_0x2f50a3['push']({'name':_0x4e57fb,'score':_0x29c665[_0x2a1768(0x2cf)]});});});else _0x767f0f['responses']&&Object[_0x2ffeb3(0xe4)](_0x767f0f[_0x2ffeb3(0x927)])[_0x2ffeb3(0x573)](([_0x117e24,_0x3ea4a2])=>{const _0x55fff4=_0x2ffeb3;_0x2f50a3[_0x55fff4(0x6ae)]({'name':_0x117e24,..._0x3ea4a2});});}if(_0x2f50a3[_0x2ffeb3(0x2fd)]===0x0){console[_0x2ffeb3(0x458)](_0x2ffeb3(0x5e8));return;}const _0x5bfc5e=_0x767f0f[_0x2ffeb3(0x303)]?.['questions'][_0x2ffeb3(0x2fd)]||currentQuizData[_0x2ffeb3(0x528)][_0x2ffeb3(0x2fd)],_0x5840b1=writeBatch(db);for(const _0x179316 of _0x2f50a3){const _0x1051ec=_0x179316[_0x2ffeb3(0x2cf)]||0x0,_0x1bd373=doc(db,_0x2ffeb3(0x4e3)+appId+_0x2ffeb3(0x395)+_0x105c00+_0x2ffeb3(0x874),_0x179316['name']),_0x2a9c3c={'score':_0x1051ec,'points':_0x1051ec*0xa,'badges':_0x179316['badges']||[],'submittedAt':new Date()[_0x2ffeb3(0x357)](),'answers':(_0x179316[_0x2ffeb3(0x570)]||[])[_0x2ffeb3(0xbf)](_0x1d05d1=>({'questionId':_0x1d05d1['questionId'],'answer':_0x1d05d1['answer'],'answerText':_0x1d05d1['answerText'],'isCorrect':_0x1d05d1[_0x2ffeb3(0x29a)],'originalQuestionText':_0x1d05d1[_0x2ffeb3(0x5d1)]}))},_0xef578=await getDoc(_0x1bd373),_0x373ddf=_0xef578['exists']()?_0xef578[_0x2ffeb3(0x2fb)]():{},_0x4ad2c8=_0x373ddf[_0x2ffeb3(0x37b)]||0x0,_0x47ea49=_0x373ddf[_0x2ffeb3(0x6a8)]||[],_0x304fa5={'studentName':_0x179316['name'],'totalQuestions':_0x5bfc5e,'attempts':arrayUnion(_0x2a9c3c),'latestScore':_0x1051ec,'latestSubmittedAt':_0x2a9c3c[_0x2ffeb3(0x12d)],'bestScore':Math[_0x2ffeb3(0x505)](_0x4ad2c8,_0x1051ec),'firstScore':_0x47ea49['length']===0x0?_0x1051ec:_0x373ddf[_0x2ffeb3(0x9d4)]||0x0};_0x5840b1['set'](_0x1bd373,_0x304fa5,{'merge':!![]});}try{await _0x5840b1[_0x2ffeb3(0x8c6)](),showMessage(_0x2ffeb3(0x57f)+_0x2f50a3[_0x2ffeb3(0x2fd)]+'\x20รายการ\x20สำเร็จ!');const _0x40aa26=_0x767f0f['shuffledQuiz']?.[_0x2ffeb3(0x6ab)]||currentQuizData?.[_0x2ffeb3(0x6ab)]||currentProjectId;if(_0x40aa26){const _0x42da9e=[...new Set(_0x2f50a3[_0x2ffeb3(0xbf)](_0x5a6ea1=>_0x5a6ea1[_0x2ffeb3(0x1f8)]))];for(const _0x59b0f7 of _0x42da9e){await updateStudentProfile(_0x40aa26,_0x59b0f7);}}}catch(_0x10a828){console['error'](_0x2ffeb3(0x375),_0x10a828),showMessage(_0x2ffeb3(0x8c8));}}async function saveQuiz(){const _0x18262b=_0x56a724;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x18262b(0x528)]||!userId){showMessage(_0x18262b(0x350));return;}const _0xf501e4=document[_0x18262b(0x5a0)](_0x18262b(0x2ab));_0xf501e4['disabled']=!![],_0xf501e4[_0x18262b(0x65a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0xeaace5=document[_0x18262b(0x5a0)](_0x18262b(0x980))[_0x18262b(0x71e)];let _0xf00306=document[_0x18262b(0x5a0)]('editable-quiz-topic')[_0x18262b(0x7de)][_0x18262b(0x3fa)]();_0xeaace5&&!_0xf00306[_0x18262b(0x1bd)](_0x18262b(0x76))&&(_0xf00306='(ก่อนเรียน)\x20'+_0xf00306);try{const _0x11baba={'resultsDisplay':document[_0x18262b(0x5a0)]('results-display-select')[_0x18262b(0x8f1)],'shuffle':document[_0x18262b(0x5a0)](_0x18262b(0x71))[_0x18262b(0x8f1)],'timerMode':document[_0x18262b(0x5a0)]('timer-mode-select')[_0x18262b(0x8f1)],'timerDuration':parseInt(document[_0x18262b(0x5a0)](_0x18262b(0x3d5))[_0x18262b(0x8f1)])||0xa,'passingScore':parseInt(document[_0x18262b(0x5a0)]('passing-score-input')[_0x18262b(0x8f1)])||0x0,'isAdaptive':document['getElementById'](_0x18262b(0x6a5))[_0x18262b(0x71e)],'loopUntilPass':document[_0x18262b(0x5a0)](_0x18262b(0x47c))[_0x18262b(0x71e)]},_0x3db8bc=(currentQuizData[_0x18262b(0x528)]||[])[_0x18262b(0xbf)]((_0x518222,_0xf7d694)=>{const _0xff7f7a=_0x18262b,_0x5558fe=document[_0xff7f7a(0x5a0)](_0xff7f7a(0x74f))['value'],_0x37318f={'id':'q_'+Date[_0xff7f7a(0x64a)]()+'_'+_0xf7d694,'questionText':_0x518222[_0xff7f7a(0x417)]||'','explanation':_0x518222[_0xff7f7a(0x6b3)]||_0xff7f7a(0x497),'questionType':_0x518222[_0xff7f7a(0x45e)]||_0x5558fe,'imageCode':_0x518222[_0xff7f7a(0x223)]||null};return(_0x37318f[_0xff7f7a(0x45e)]===_0xff7f7a(0x420)||_0x37318f[_0xff7f7a(0x45e)]==='fill_in_with_choices'||_0x37318f[_0xff7f7a(0x45e)]===_0xff7f7a(0x624)&&_0x518222['options'])&&(_0x37318f[_0xff7f7a(0xbd)]=_0x518222[_0xff7f7a(0xbd)]||[],_0x37318f[_0xff7f7a(0x3d2)]=_0x518222[_0xff7f7a(0x3d2)]!==undefined?_0x518222[_0xff7f7a(0x3d2)]:0x0),(_0x37318f[_0xff7f7a(0x45e)]===_0xff7f7a(0x341)||_0x37318f[_0xff7f7a(0x45e)]==='fill_in_no_choices'||_0x37318f[_0xff7f7a(0x45e)]===_0xff7f7a(0x624)&&_0x518222[_0xff7f7a(0x38d)])&&(_0x37318f[_0xff7f7a(0x38d)]=_0x518222['idealAnswer']||''),_0x37318f[_0xff7f7a(0x45e)]===_0xff7f7a(0x142)&&(_0x37318f[_0xff7f7a(0xc1)]=_0x518222[_0xff7f7a(0xc1)]===!![]),_0x37318f[_0xff7f7a(0x45e)]===_0xff7f7a(0x85b)&&(_0x37318f[_0xff7f7a(0x55a)]=_0x518222[_0xff7f7a(0x55a)]||'',_0x37318f[_0xff7f7a(0x93f)]=_0x518222[_0xff7f7a(0x93f)]||'',_0x37318f['allResponses']=_0x518222[_0xff7f7a(0x5fd)]||[]),_0x37318f;}),_0x217b2e={'topic':_0xf00306,'quizType':currentQuizData[_0x18262b(0x2f1)]||_0x18262b(0x420),'questions':_0x3db8bc,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x18262b(0x357)](),'status':_0x18262b(0x742),'settings':_0x11baba,'quizMode':_0xeaace5?_0x18262b(0x806):'standard','pairedQuizId':null,'lessonPlan':null};let _0x4e420f;while(!![]){_0x4e420f=Math[_0x18262b(0x917)](0x3e8+Math['random']()*0x2328)[_0x18262b(0x239)]();const _0x572ccf=await getDoc(doc(db,_0x18262b(0x4e3)+appId+_0x18262b(0x73b),_0x4e420f));if(!_0x572ccf[_0x18262b(0x14e)]())break;}await setDoc(doc(db,_0x18262b(0x4e3)+appId+'/public/data/quizzes',_0x4e420f),_0x217b2e),currentQuizData[_0x18262b(0x681)]=_0x11baba,currentQuizData['id']=_0x4e420f;const _0x328a91=document[_0x18262b(0x5a0)](_0x18262b(0x8e0));_0x328a91['innerHTML']=_0x18262b(0x151)+_0x4e420f+_0x18262b(0xd4),document[_0x18262b(0x5a0)]('copy-quiz-id-btn')['addEventListener']('click',()=>copyTextToClipboard(_0x4e420f,_0x18262b(0x95f))),document[_0x18262b(0x5a0)]('start-live-race-generated-btn')['addEventListener']('click',()=>handleStartLiveRace(_0x4e420f)),document[_0x18262b(0x5a0)](_0x18262b(0x2fc))[_0x18262b(0x86b)]('click',()=>startPresentation(currentQuizData)),document[_0x18262b(0x5a0)](_0x18262b(0x3c1))[_0x18262b(0x86b)](_0x18262b(0x12e),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x27c0d4){console['error'](_0x18262b(0x599),_0x27c0d4),showMessage(_0x18262b(0x79d)),_0xf501e4[_0x18262b(0x2df)]=![],_0xf501e4['innerHTML']=_0x18262b(0x219);}}function promptForProjectAndSave(){const _0x49c586=_0x56a724,_0xda0401=document['getElementById'](_0x49c586(0x355)),_0x1cb6d3=document[_0x49c586(0x5a0)](_0x49c586(0x3c9)),_0x4bb538=_0xda0401[_0x49c586(0x4aa)]('h3'),_0x225180=document[_0x49c586(0x5a0)](_0x49c586(0x516));_0x4bb538[_0x49c586(0x83f)]=_0x49c586(0x140),_0x225180['textContent']=_0x49c586(0xd6);allProjects[_0x49c586(0x2fd)]===0x0?(_0x1cb6d3[_0x49c586(0x65a)]=_0x49c586(0x228),_0x225180['disabled']=!![]):(_0x1cb6d3[_0x49c586(0x65a)]=allProjects[_0x49c586(0xbf)](_0x2a814a=>_0x49c586(0x7ca)+_0x2a814a['id']+'\x22>'+_0x2a814a[_0x49c586(0x319)]+_0x49c586(0x7d4))['join'](''),_0x225180[_0x49c586(0x2df)]=![]);_0xda0401[_0x49c586(0x20d)][_0x49c586(0x1cf)](_0x49c586(0x5cf));const _0x54e4e0=()=>{const _0x52c42a=_0x49c586,_0x14a4a8=_0x1cb6d3[_0x52c42a(0x8f1)];_0x14a4a8?(currentProjectId=_0x14a4a8,_0xda0401[_0x52c42a(0x20d)][_0x52c42a(0x8cb)](_0x52c42a(0x5cf)),saveQuiz(),_0x4bb538[_0x52c42a(0x83f)]=_0x52c42a(0x2f2),_0x225180[_0x52c42a(0x83f)]=_0x52c42a(0x1d3),_0x225180[_0x52c42a(0x6e7)](_0x52c42a(0x12e),_0x54e4e0),_0x225180[_0x52c42a(0x86b)](_0x52c42a(0x12e),confirmMoveQuiz)):showMessage(_0x52c42a(0x894));};_0x225180[_0x49c586(0x6e7)](_0x49c586(0x12e),confirmMoveQuiz),_0x225180[_0x49c586(0x86b)](_0x49c586(0x12e),_0x54e4e0);}function copyTextToClipboard(_0x6e0ecd,_0x33e81e){const _0x4e673d=_0x56a724,_0x35eb8d=document[_0x4e673d(0x39d)](_0x4e673d(0x683));_0x35eb8d[_0x4e673d(0x8f1)]=_0x6e0ecd,_0x35eb8d['style'][_0x4e673d(0x5ef)]=_0x4e673d(0x4b6),_0x35eb8d[_0x4e673d(0x716)][_0x4e673d(0x68f)]='0',document[_0x4e673d(0xc0)][_0x4e673d(0x7eb)](_0x35eb8d),_0x35eb8d[_0x4e673d(0x99)](),_0x35eb8d['select']();try{const _0x347f64=document[_0x4e673d(0x5cd)](_0x4e673d(0x6af));showMessage(_0x347f64?_0x33e81e:_0x4e673d(0x1be));}catch(_0x5e824c){showMessage('คัดลอกไม่สำเร็จ'),console[_0x4e673d(0x33a)](_0x4e673d(0x801),_0x5e824c);}document[_0x4e673d(0xc0)][_0x4e673d(0x247)](_0x35eb8d);}function listenForProjectQuizzes(_0x1187e6){const _0x24be04=_0x56a724,_0x286667=collection(db,_0x24be04(0x4e3)+appId+'/public/data/quizzes'),_0x96e2fb=query(_0x286667,where(_0x24be04(0x6ab),'==',_0x1187e6));unsubscribeQuizzesListener=onSnapshot(_0x96e2fb,async _0x282cd0=>{const _0x214d32=_0x24be04;allQuizzes=_0x282cd0[_0x214d32(0x465)]['map'](_0x1e7695=>({'id':_0x1e7695['id'],..._0x1e7695[_0x214d32(0x2fb)]()})),renderQuizzes();},_0x12646f=>{const _0x4fb7c3=_0x24be04;console['error'](_0x4fb7c3(0x1a0),_0x12646f),document[_0x4fb7c3(0x5a0)](_0x4fb7c3(0x4d9))[_0x4fb7c3(0x65a)]=_0x4fb7c3(0x2b5);});}async function renderQuizzes(){const _0x115dc5=_0x56a724,_0x3c8b5c=document[_0x115dc5(0x5a0)](_0x115dc5(0x4d9)),_0x263f5c=document[_0x115dc5(0x5a0)](_0x115dc5(0x620))[_0x115dc5(0x8f1)]['toLowerCase']();let _0x610f55;currentProjectId===_0x115dc5(0x46d)?_0x610f55=starredQuizzes:_0x610f55=allQuizzes;let _0x2118a9=_0x610f55['filter'](_0x2cf05d=>_0x2cf05d[_0x115dc5(0x58e)][_0x115dc5(0x527)]()[_0x115dc5(0x5c1)](_0x263f5c));_0x2118a9[_0x115dc5(0x905)]((_0x15c8f1,_0x191eef)=>new Date(_0x191eef[_0x115dc5(0x389)])-new Date(_0x15c8f1[_0x115dc5(0x389)]));if(_0x2118a9[_0x115dc5(0x2fd)]===0x0){_0x3c8b5c[_0x115dc5(0x65a)]=_0x115dc5(0x16a);return;}const _0x3fcd29={},_0x2fb347=_0x2118a9[_0x115dc5(0xbf)](async _0x538580=>{const _0x44e538=_0x115dc5,_0x572953=collection(db,_0x44e538(0x4e3)+appId+_0x44e538(0x395)+_0x538580['id']+_0x44e538(0x874)),_0x3ec596=await getDocs(_0x572953);_0x3fcd29[_0x538580['id']]=_0x3ec596['size'];});await Promise[_0x115dc5(0x9c4)](_0x2fb347);let _0x1373a7='';_0x2118a9[_0x115dc5(0x573)](_0x26f587=>{const _0x5a288c=_0x115dc5,_0x268ae4=_0x3fcd29[_0x26f587['id']]||0x0,_0x35e9f9=_0x26f587[_0x5a288c(0x992)]||_0x5a288c(0x742),_0x4932fb=_0x26f587[_0x5a288c(0x681)]?.['timerMode']||_0x5a288c(0x9bc);let _0x578ef8='',_0x368997='';const _0x5300b8=new Date();let _0x49958d=_0x35e9f9;if(_0x35e9f9===_0x5a288c(0x91c)){const _0x5dac68=_0x26f587[_0x5a288c(0x53f)]?new Date(_0x26f587[_0x5a288c(0x53f)]):null,_0x4741d9=_0x26f587[_0x5a288c(0x601)]?new Date(_0x26f587['endTime']):null;if(_0x4741d9&&_0x5300b8>_0x4741d9)_0x49958d=_0x5a288c(0x7ba);else _0x5dac68&&_0x5300b8<_0x5dac68?_0x49958d=_0x5a288c(0x815):_0x49958d=_0x5a288c(0x742);}switch(_0x49958d){case _0x5a288c(0x7ba):_0x578ef8=_0x5a288c(0x3fc),_0x368997=_0x5a288c(0x479);break;case _0x5a288c(0x815):_0x578ef8=_0x5a288c(0x253),_0x368997='text-blue-700\x20bg-blue-100';break;case _0x5a288c(0x742):_0x578ef8=_0x4932fb!=='none'?_0x5a288c(0x809):_0x5a288c(0x18d),_0x368997=_0x5a288c(0x74e);break;default:_0x578ef8=_0x5a288c(0x3a1),_0x368997=_0x5a288c(0x74e);break;}let _0x13eabc='';const _0x471d83={'day':_0x5a288c(0x752),'month':'2-digit','year':_0x5a288c(0x8b8),'hour':'2-digit','minute':_0x5a288c(0x752),'hour12':![]};if(_0x35e9f9===_0x5a288c(0x91c)){if(_0x26f587[_0x5a288c(0x53f)])_0x13eabc+=_0x5a288c(0x276)+new Date(_0x26f587[_0x5a288c(0x53f)])[_0x5a288c(0x165)](_0x5a288c(0x9b2),_0x471d83)+'</p>';if(_0x26f587[_0x5a288c(0x601)])_0x13eabc+=_0x5a288c(0x6dc)+new Date(_0x26f587[_0x5a288c(0x601)])['toLocaleString']('th-TH',_0x471d83)+'</p>';}let _0x4d7c6a='';if(_0x26f587[_0x5a288c(0x1a9)]){const _0x17f32b=allQuizzes['find'](_0x4c9672=>_0x4c9672['id']===_0x26f587[_0x5a288c(0x1a9)]);if(_0x17f32b){let _0x5abda4,_0x59a0c6;new Date(_0x26f587[_0x5a288c(0x389)])<new Date(_0x17f32b[_0x5a288c(0x389)])?(_0x5abda4=_0x26f587['id'],_0x59a0c6=_0x17f32b['id']):(_0x5abda4=_0x17f32b['id'],_0x59a0c6=_0x26f587['id']),_0x4d7c6a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x59a0c6+_0x5a288c(0x3e0)+_0x5abda4+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x26f587[_0x5a288c(0x553)]===_0x5a288c(0x806)&&(_0x4d7c6a+=_0x5a288c(0x7f0)+_0x26f587['id']+_0x5a288c(0x41d));if(_0x26f587['quizMode']===_0x5a288c(0x806)&&_0x268ae4>0x0)_0x4d7c6a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26f587['id']+_0x5a288c(0x2a1);else!_0x26f587[_0x5a288c(0x1a9)]&&_0x26f587[_0x5a288c(0x553)]!=='pre-test'&&_0x268ae4>0x0&&(_0x4d7c6a+=_0x5a288c(0x7f0)+_0x26f587['id']+_0x5a288c(0x50f));let _0x4f8e0b='';_0x26f587['pairedQuizId']?_0x4f8e0b=_0x5a288c(0x62e)+_0x26f587['id']+_0x5a288c(0x284):_0x4f8e0b=_0x5a288c(0x62e)+_0x26f587['id']+_0x5a288c(0x24b),_0x1373a7+=_0x5a288c(0x829)+_0x26f587['id']+_0x5a288c(0x1fe)+_0x26f587[_0x5a288c(0x58e)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x26f587[_0x5a288c(0x528)]['length']+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x26f587[_0x5a288c(0x389)])[_0x5a288c(0x165)]('th-TH')+_0x5a288c(0x567)+_0x268ae4+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13eabc+_0x5a288c(0x1f7)+_0x368997+'\x22>'+_0x578ef8+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26f587['id']+_0x5a288c(0x89c)+_0x26f587['id']+_0x5a288c(0x419)+(_0x26f587[_0x5a288c(0x321)]?_0x5a288c(0x3b9):'far\x20fa-star')+_0x5a288c(0x6f3)+_0x4d7c6a+_0x5a288c(0x380)+_0x26f587['id']+_0x5a288c(0x174)+_0x26f587['id']+_0x5a288c(0x60c)+_0x26f587['id']+_0x5a288c(0x323)+_0x26f587['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26f587['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26f587['id']+_0x5a288c(0x87a)+_0x26f587['id']+_0x5a288c(0x4a0)+_0x26f587[_0x5a288c(0x58e)]+_0x5a288c(0x805)+_0x26f587['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26f587['id']+_0x5a288c(0x2ba)+_0x4f8e0b+_0x5a288c(0x119)+_0x26f587['id']+_0x5a288c(0x21e)+_0x26f587['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26f587['id']+_0x5a288c(0x6fc)+_0x26f587['id']+_0x5a288c(0x855)+_0x26f587['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x26f587['id']+_0x5a288c(0x1d1)+_0x26f587['id']+_0x5a288c(0x6b1)+_0x26f587['id']+_0x5a288c(0x4a0)+_0x26f587[_0x5a288c(0x58e)]+_0x5a288c(0x2d9)+_0x26f587['id']+'\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3c8b5c[_0x115dc5(0x65a)]=_0x1373a7,document['querySelectorAll'](_0x115dc5(0x3ed))[_0x115dc5(0x573)](_0x1a0866=>{const _0x53c0ca=_0x115dc5;_0x1a0866[_0x53c0ca(0x86b)](_0x53c0ca(0x12e),()=>{const _0x1a274d=_0x53c0ca,_0x590770=_0x1a0866[_0x1a274d(0x513)][_0x1a274d(0x9a5)];showQuizDetailView(_0x590770);});});}async function handleUnpairQuiz(_0x2b1582){const _0xeb248a=_0x56a724,_0x17ca45=allQuizzes[_0xeb248a(0xcc)](_0x57e396=>_0x57e396['id']===_0x2b1582);if(!_0x17ca45||!_0x17ca45['pairedQuizId']){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0xeb248a(0x5c8),async()=>{const _0x2a0b96=_0xeb248a;try{const _0x203f98=doc(db,_0x2a0b96(0x4e3)+appId+'/public/data/quizzes',_0x2b1582),_0x363e64=doc(db,_0x2a0b96(0x4e3)+appId+_0x2a0b96(0x73b),_0x17ca45['pairedQuizId']),_0x1ba7e4=writeBatch(db);_0x1ba7e4[_0x2a0b96(0x98c)](_0x203f98,{'pairedQuizId':null}),_0x1ba7e4[_0x2a0b96(0x98c)](_0x363e64,{'pairedQuizId':null}),await _0x1ba7e4[_0x2a0b96(0x8c6)](),showMessage(_0x2a0b96(0x726));}catch(_0x41f850){console[_0x2a0b96(0x33a)]('Error\x20unpairing\x20quizzes:',_0x41f850),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x33adaf,_0x157885){const _0xb358b4=_0x56a724,_0x581c6b=window[_0xb358b4(0x70)]('',_0xb358b4(0x442)),_0x1d17fe=_0xb358b4(0x4c0)+_0x157885[_0xb358b4(0x58e)]+_0xb358b4(0x984)+_0x157885['topic']+_0xb358b4(0x9d0)+_0x33adaf[_0xb358b4(0x64d)][_0xb358b4(0xbf)](_0x393590=>_0xb358b4(0x544)+_0x393590+_0xb358b4(0x841))['join']('')+_0xb358b4(0x83c)+_0x33adaf[_0xb358b4(0x2da)]+_0xb358b4(0x5db)+_0x33adaf[_0xb358b4(0x91d)][_0xb358b4(0xbf)](_0x34e365=>_0xb358b4(0x392)+_0x34e365[_0xb358b4(0x697)]+_0xb358b4(0x6a3)+_0x34e365[_0xb358b4(0xed)]+_0xb358b4(0x908))[_0xb358b4(0x13f)]('')+_0xb358b4(0x74c);_0x581c6b[_0xb358b4(0x2a0)][_0xb358b4(0x5ed)](_0x1d17fe),_0x581c6b[_0xb358b4(0x2a0)][_0xb358b4(0x5ff)](),_0x581c6b[_0xb358b4(0x8f8)]=function(){setTimeout(()=>{_0x581c6b['print']();},0x3e8);};}async function handleAiFixFormula(_0x5d3da1){const _0x1f4311=_0x56a724,_0x547223=document[_0x1f4311(0x4aa)]('.question-editor-item[data-q-index=\x22'+_0x5d3da1+'\x22]');if(!_0x547223)return;const _0x3937f9=_0x547223[_0x1f4311(0x513)][_0x1f4311(0x490)],_0x4724aa=_0x547223[_0x1f4311(0x4aa)](_0x1f4311(0x904));let _0x21717d={'question':_0x547223[_0x1f4311(0x4aa)](_0x1f4311(0x683))[_0x1f4311(0x8f1)]};switch(_0x3937f9){case _0x1f4311(0x420):_0x21717d[_0x1f4311(0xbd)]=Array[_0x1f4311(0x4d1)](_0x547223[_0x1f4311(0x81b)](_0x1f4311(0x92d)))['map'](_0x303f0f=>_0x303f0f[_0x1f4311(0x8f1)]);break;case'short_answer':_0x21717d[_0x1f4311(0x38d)]=_0x547223[_0x1f4311(0x4aa)](_0x1f4311(0x6ac))[_0x1f4311(0x8f1)];break;case _0x1f4311(0x85b):_0x21717d[_0x1f4311(0x93f)]=_0x547223[_0x1f4311(0x4aa)](_0x1f4311(0x588))['value'];break;}_0x4724aa['innerHTML']=_0x1f4311(0x533),_0x4724aa[_0x1f4311(0x2df)]=!![];try{const _0x1866de=_0x1f4311(0x9ae)+JSON[_0x1f4311(0x5f1)](_0x21717d)+_0x1f4311(0x911),_0xbc09bd={'type':'OBJECT','properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x1f4311(0x52f)},'options':{'type':_0x1f4311(0x2ae),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x1f4311(0x52f)},'correctResponse':{'type':_0x1f4311(0x52f)}},'required':['question']}},'required':[_0x1f4311(0x40e)]},_0x2592c6=await callAnalysisApi(_0x1866de,_0xbc09bd);if(_0x2592c6&&_0x2592c6[_0x1f4311(0x40e)]){const _0x44bae1=_0x2592c6[_0x1f4311(0x40e)];_0x547223[_0x1f4311(0x4aa)](_0x1f4311(0x683))[_0x1f4311(0x8f1)]=_0x44bae1[_0x1f4311(0x697)]||_0x21717d[_0x1f4311(0x697)];switch(_0x3937f9){case _0x1f4311(0x420):_0x44bae1[_0x1f4311(0xbd)]&&_0x44bae1['options'][_0x1f4311(0x2fd)]>0x0&&_0x547223[_0x1f4311(0x81b)](_0x1f4311(0x92d))[_0x1f4311(0x573)]((_0x120f7d,_0x34be58)=>{const _0x428c8c=_0x1f4311;_0x120f7d[_0x428c8c(0x8f1)]=_0x44bae1[_0x428c8c(0xbd)][_0x34be58]||_0x21717d[_0x428c8c(0xbd)][_0x34be58];});break;case _0x1f4311(0x341):_0x547223[_0x1f4311(0x4aa)](_0x1f4311(0x6ac))['value']=_0x44bae1[_0x1f4311(0x38d)]||_0x21717d[_0x1f4311(0x38d)];break;case _0x1f4311(0x85b):_0x547223[_0x1f4311(0x4aa)](_0x1f4311(0x588))[_0x1f4311(0x8f1)]=_0x44bae1[_0x1f4311(0x93f)]||_0x21717d[_0x1f4311(0x93f)];break;}if(_0x21717d[_0x1f4311(0x697)]!==_0x44bae1[_0x1f4311(0x697)])try{const _0x1795d4=collection(db,_0x1f4311(0x4e3)+appId+'/public/data/learnedFixes');await addDoc(_0x1795d4,{'broken':_0x21717d[_0x1f4311(0x697)],'fixed':_0x44bae1['question'],'createdAt':serverTimestamp()});}catch(_0x25ff40){console[_0x1f4311(0x33a)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x25ff40);}showMessage(_0x1f4311(0x7c0));}else throw new Error(_0x1f4311(0x7e6));}catch(_0x163453){console[_0x1f4311(0x33a)](_0x1f4311(0x126),_0x163453),showMessage(_0x1f4311(0x9c7));}finally{_0x4724aa[_0x1f4311(0x65a)]=_0x1f4311(0x6f4),_0x4724aa[_0x1f4311(0x2df)]=![];}}async function handleGenerateLessonPlan(_0x42d1ad){const _0x20bb78=_0x56a724;showMessage(_0x20bb78(0x77c));try{const _0x5acff2=doc(db,_0x20bb78(0x4e3)+appId+_0x20bb78(0x73b),_0x42d1ad),_0x4e06f5=await getDoc(_0x5acff2);if(!_0x4e06f5[_0x20bb78(0x14e)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x2fcfe1={'id':_0x42d1ad,..._0x4e06f5[_0x20bb78(0x2fb)]()},_0x3c3f61=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x42d1ad,_0x20bb78(0x99c)),_0x5de51a=await getDocs(_0x3c3f61),_0x679c87=_0x5de51a[_0x20bb78(0x465)][_0x20bb78(0xbf)](_0xdfa0f8=>_0xdfa0f8[_0x20bb78(0x2fb)]());if(_0x679c87['length']===0x0)throw new Error(_0x20bb78(0x5f2));const _0x3b9782=calculateItemAnalysis(_0x2fcfe1,_0x679c87)[_0x20bb78(0x3f9)],_0x1a3776=calculateDistractorAnalysis(_0x2fcfe1,_0x679c87),_0x70e890=_0x3f3e5e=>{const _0x46adb3=_0x20bb78;if(!_0x3f3e5e)return'';return _0x3f3e5e[_0x46adb3(0x3c8)](/\\/g,'\x5c\x5c')[_0x46adb3(0x3c8)](/"/g,'\x5c\x22')[_0x46adb3(0x3c8)](/\n/g,'\x5cn');};let _0x1845e8=_0x20bb78(0x90e);_0x2fcfe1[_0x20bb78(0x528)]['forEach']((_0x35bee2,_0x4a99da)=>{const _0x3cb5dc=_0x20bb78,_0x4c3580=_0x3b9782[_0x4a99da]?.['p'][_0x3cb5dc(0x2c0)](0x2)||_0x3cb5dc(0x3e5),_0x4a0e84=_0x3b9782[_0x4a99da]?.['r']['toFixed'](0x2)||_0x3cb5dc(0x3e5),_0x31d912=_0x70e890(_0x35bee2[_0x3cb5dc(0x417)]||_0x35bee2[_0x3cb5dc(0x55a)]);_0x1845e8+=_0x3cb5dc(0x21b)+(_0x4a99da+0x1)+_0x3cb5dc(0x97)+_0x4c3580+_0x3cb5dc(0x1db)+_0x4a0e84+_0x3cb5dc(0x406)+_0x31d912+'\x5cn';if(_0x35bee2[_0x3cb5dc(0x45e)]===_0x3cb5dc(0x420)&&_0x1a3776[_0x4a99da]){const _0x5476f4=_0x1a3776[_0x4a99da],_0x13b410=Object[_0x3cb5dc(0x86c)](_0x5476f4)[_0x3cb5dc(0x5e1)](_0x1740eb=>parseInt(_0x1740eb)!==_0x35bee2[_0x3cb5dc(0x3d2)])['sort']((_0x95af19,_0x3c992d)=>_0x5476f4[_0x3c992d]['total']-_0x5476f4[_0x95af19][_0x3cb5dc(0x68d)])[0x0];if(_0x13b410&&_0x5476f4[_0x13b410][_0x3cb5dc(0x68d)]>0x0){const _0x496d71=_0x70e890(_0x5476f4[_0x13b410]['text']);_0x1845e8+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x496d71+_0x3cb5dc(0x865);}}});const _0x40f2a3=_0x20bb78(0x974)+_0x2fcfe1[_0x20bb78(0x58e)]+_0x20bb78(0x6ff)+_0x1845e8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x231639={'type':_0x20bb78(0x3db),'properties':{'learningGaps':{'type':_0x20bb78(0x2ae),'items':{'type':_0x20bb78(0x52f)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x20bb78(0x2ae),'items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'solution':{'type':_0x20bb78(0x52f)}}}}},'required':[_0x20bb78(0x64d),_0x20bb78(0x2da),_0x20bb78(0x91d)]},_0x432735=await callAnalysisApi(_0x40f2a3,_0x231639);await updateDoc(_0x5acff2,{'lessonPlan':_0x432735});const _0x3a7ca0=_0x20bb78(0x576)+_0x2fcfe1[_0x20bb78(0x58e)]+_0x20bb78(0x6ec)+_0x432735['learningGaps'][_0x20bb78(0xbf)](_0x2d2744=>_0x20bb78(0x544)+_0x2d2744+'</li>')[_0x20bb78(0x13f)]('')+_0x20bb78(0x8b9)+_0x432735[_0x20bb78(0x2da)]+_0x20bb78(0x10a)+_0x432735[_0x20bb78(0x91d)][_0x20bb78(0xbf)](_0x44de56=>_0x20bb78(0x67b)+_0x44de56[_0x20bb78(0x697)]+_0x20bb78(0x713)+_0x44de56[_0x20bb78(0xed)]+_0x20bb78(0x478))[_0x20bb78(0x13f)]('')+_0x20bb78(0x35c);document[_0x20bb78(0x5a0)]('lesson-plan-title')[_0x20bb78(0x83f)]=_0x20bb78(0x9b)+_0x2fcfe1[_0x20bb78(0x58e)],document[_0x20bb78(0x5a0)]('lesson-plan-content')[_0x20bb78(0x65a)]=_0x3a7ca0,document[_0x20bb78(0x5a0)](_0x20bb78(0x45a))[_0x20bb78(0x20d)][_0x20bb78(0x1cf)](_0x20bb78(0x5cf));if(window[_0x20bb78(0x7d2)])MathJax[_0x20bb78(0x66b)]();messageModal[_0x20bb78(0x20d)][_0x20bb78(0x8cb)](_0x20bb78(0x5cf));}catch(_0x545664){console['error']('Error\x20generating\x20lesson\x20plan:',_0x545664),showMessage(_0x20bb78(0x864)+_0x545664['message']);}}async function handleDuplicateQuiz(_0xa53584){const _0x217521=_0x56a724;try{const _0x464298=doc(db,_0x217521(0x4e3)+appId+_0x217521(0x73b),_0xa53584),_0x37acde=await getDoc(_0x464298);if(_0x37acde['exists']()){const _0x895d6d=_0x37acde[_0x217521(0x2fb)]();let _0x28149b='',_0x9cbfdd=_0x217521(0x35e),_0x513e7d=null;if(_0x895d6d[_0x217521(0x553)]===_0x217521(0x806)){let _0x5d7c78=_0x895d6d[_0x217521(0x58e)]['replace'](_0x217521(0x76),'')[_0x217521(0x3fa)]();_0x28149b=_0x217521(0x8f6)+_0x5d7c78,_0x9cbfdd='post-test',_0x513e7d=_0xa53584;}else _0x28149b=_0x217521(0x30b)+_0x895d6d[_0x217521(0x58e)];const _0x587c25={..._0x895d6d,'topic':_0x28149b,'createdAt':new Date()[_0x217521(0x357)](),'quizMode':_0x9cbfdd,'pairedQuizId':_0x513e7d};let _0x4166f0;while(!![]){_0x4166f0=Math[_0x217521(0x917)](0x3e8+Math['random']()*0x2328)[_0x217521(0x239)]();const _0x7d2de=await getDoc(doc(db,_0x217521(0x4e3)+appId+_0x217521(0x73b),_0x4166f0));if(!_0x7d2de['exists']())break;}const _0xb23d18=doc(db,'artifacts/'+appId+_0x217521(0x73b),_0x4166f0);await setDoc(_0xb23d18,_0x587c25),_0x587c25[_0x217521(0x553)]==='post-test'&&await updateDoc(_0x464298,{'pairedQuizId':_0x4166f0}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x217521(0xf2));}catch(_0x49890e){console[_0x217521(0x33a)](_0x217521(0x54a),_0x49890e),showMessage(_0x217521(0x225));}}async function handleDeleteQuiz(_0x4a867e,_0x4bf29c=!![]){const _0x537e8f=_0x56a724;try{const _0x2b9a72=writeBatch(db),_0x22a46a=collection(db,_0x537e8f(0x4e3)+appId+_0x537e8f(0x395)+_0x4a867e+_0x537e8f(0x874)),_0x314dea=await getDocs(_0x22a46a);_0x314dea['forEach'](_0x535f00=>{const _0x16af32=_0x537e8f;_0x2b9a72[_0x16af32(0x5af)](doc(_0x22a46a,_0x535f00['id']));});const _0x2d21a7=doc(db,_0x537e8f(0x4e3)+appId+_0x537e8f(0x73b),_0x4a867e);_0x2b9a72['delete'](_0x2d21a7),await _0x2b9a72[_0x537e8f(0x8c6)](),_0x4bf29c&&showMessage(_0x537e8f(0x483));}catch(_0x4522ca){console[_0x537e8f(0x33a)](_0x537e8f(0x31e),_0x4522ca),_0x4bf29c&&showMessage(_0x537e8f(0x672));}}async function showQuizDetailView(_0x1949bf){const _0x1b56cd=_0x56a724;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x1b56cd(0x2d8));try{const _0x2c7d98=doc(db,'artifacts/'+appId+_0x1b56cd(0x73b),_0x1949bf),_0x50786d=await getDoc(_0x2c7d98);if(!_0x50786d['exists']()){showMessage(_0x1b56cd(0x73));return;}const _0x47330a={'id':_0x50786d['id'],..._0x50786d['data']()};currentQuizData=_0x47330a;const _0x57ccea=doc(db,_0x1b56cd(0x4e3)+appId+_0x1b56cd(0x3b0),_0x47330a[_0x1b56cd(0x6ab)]),_0x388604=await getDoc(_0x57ccea);_0x388604[_0x1b56cd(0x14e)]()?(currentProjectData=_0x388604[_0x1b56cd(0x2fb)](),currentProjectId=_0x47330a[_0x1b56cd(0x6ab)]):(currentProjectData={'students':[]},currentProjectId=_0x47330a[_0x1b56cd(0x6ab)]);document[_0x1b56cd(0x5a0)](_0x1b56cd(0x969))[_0x1b56cd(0x83f)]=_0x47330a[_0x1b56cd(0x58e)],document[_0x1b56cd(0x5a0)](_0x1b56cd(0x677))[_0x1b56cd(0x83f)]=_0x1949bf;const _0xf3573e=collection(db,_0x1b56cd(0x4e3)+appId+_0x1b56cd(0x73b),_0x1949bf,_0x1b56cd(0x99c));unsubscribeSubmissionsListener=onSnapshot(_0xf3573e,_0xa03b8c=>{const _0xca4729=_0x1b56cd,_0x400142=_0xa03b8c[_0xca4729(0x465)][_0xca4729(0xbf)](_0x3b32a5=>({'id':_0x3b32a5['id'],..._0x3b32a5[_0xca4729(0x2fb)]()}));currentSubmissions=_0x400142;const _0x577fef=_0x400142['filter'](_0x494ed5=>_0x494ed5[_0xca4729(0x6a8)]&&_0x494ed5[_0xca4729(0x6a8)][_0xca4729(0x2fd)]>0x0);renderBehaviorLog(_0x400142),renderAnswerGrid(currentProjectData[_0xca4729(0x75c)],_0x577fef,_0x47330a),renderAnalytics(_0x47330a,_0x577fef),renderQuizResultsTable(currentProjectData[_0xca4729(0x75c)],_0x400142,_0x47330a),renderQuizLeaderboard(_0x577fef,_0x47330a,'quiz-leaderboard-table-body');}),showView(_0x1b56cd(0x3de));}catch(_0x247e43){console[_0x1b56cd(0x33a)](_0x1b56cd(0x760),_0x247e43),showMessage(_0x1b56cd(0x5d3));}}function renderAnswerGrid(_0x352700,_0x4792ba,_0x366561){const _0xc0a3f0=_0x56a724,_0xe62372=document[_0xc0a3f0(0x5a0)](_0xc0a3f0(0x92a));if(!_0xe62372)return;if(!_0x352700||_0x352700[_0xc0a3f0(0x2fd)]===0x0){_0xe62372[_0xc0a3f0(0x65a)]=_0xc0a3f0(0x343);return;}const _0x164a51=_0x366561[_0xc0a3f0(0x528)],_0x46a869=_0x4792ba['reduce']((_0x44c2dd,_0x563740)=>{const _0x50266c=_0xc0a3f0;return _0x44c2dd[_0x563740[_0x50266c(0x6d5)]]=_0x563740,_0x44c2dd;},{}),_0x69b166=_0x4874c8=>String[_0xc0a3f0(0x307)](0x41+_0x4874c8),_0x37b13d=_0x559fd5=>{const _0x4607fa=_0xc0a3f0,_0x50084c=_0x559fd5['questionType']||_0x366561[_0x4607fa(0x2f1)];switch(_0x50084c){case _0x4607fa(0x420):return _0x559fd5['options']&&_0x559fd5[_0x4607fa(0xbd)][_0x4607fa(0x2fd)]>_0x559fd5['correctAnswerIndex']?_0x69b166(_0x559fd5[_0x4607fa(0x3d2)]):'-';case _0x4607fa(0x142):const _0x946448=_0x559fd5['correctAnswer']===!![]||String(_0x559fd5[_0x4607fa(0xc1)])[_0x4607fa(0x527)]()===_0x4607fa(0x25a);return _0x946448?'ใช่':'ไม่ใช่';case _0x4607fa(0x85b):return _0x559fd5['correctResponse']||'-';case _0x4607fa(0x341):return'พิมพ์ตอบ';default:return'-';}},_0x1062b6=(_0x5c955d,_0x2cac87)=>{const _0x2db619=_0xc0a3f0;if(_0x2cac87['answer']===null||_0x2cac87[_0x2db619(0x995)]===undefined)return'-';const _0x52a093=_0x5c955d[_0x2db619(0x45e)]||_0x366561[_0x2db619(0x2f1)];switch(_0x52a093){case _0x2db619(0x420):const _0x9a1b75=_0x5c955d['options']['findIndex'](_0x5e321f=>_0x5e321f===_0x2cac87['answerText']);return _0x9a1b75!==-0x1?_0x69b166(_0x9a1b75):_0x2cac87[_0x2db619(0x663)]||'-';case _0x2db619(0x142):if(_0x2cac87[_0x2db619(0x995)]=='0'||_0x2cac87[_0x2db619(0x995)]===!![]||_0x2cac87[_0x2db619(0x995)]===_0x2db619(0x25a))return _0x2db619(0x9b7);return _0x2db619(0x8b1);default:return _0x2cac87['answer'];}};let _0x55bf3c=_0xc0a3f0(0xa5)+_0x164a51[_0xc0a3f0(0xbf)]((_0x5af980,_0x2ce7b9)=>_0xc0a3f0(0x18f)+(_0x2ce7b9+0x1)+'</th>')[_0xc0a3f0(0x13f)]('')+_0xc0a3f0(0x710)+_0x164a51[_0xc0a3f0(0xbf)](_0x3a004d=>_0xc0a3f0(0x19a)+_0x37b13d(_0x3a004d)+_0xc0a3f0(0x5b0))[_0xc0a3f0(0x13f)]('')+_0xc0a3f0(0x9df);_0x352700['forEach'](_0x5ce362=>{const _0x395b59=_0xc0a3f0;_0x55bf3c+='<tr>',_0x55bf3c+=_0x395b59(0x118)+_0x5ce362+'</td>';const _0x313444=_0x46a869[_0x5ce362];if(_0x313444){const _0x140471=_0x313444[_0x395b59(0x6a8)][_0x313444[_0x395b59(0x6a8)][_0x395b59(0x2fd)]-0x1];_0x164a51['forEach']((_0x4beafb,_0x100fb0)=>{const _0x55ecab=_0x395b59,_0x21d314=_0x140471[_0x55ecab(0x570)]['find'](_0x438efb=>_0x438efb[_0x55ecab(0x327)]===_0x4beafb['id']);if(_0x21d314){let _0x66c346='';const _0x3dd255=_0x21d314[_0x55ecab(0x29a)]===!![],_0xe3914c=_0x21d314[_0x55ecab(0x82e)]===!![]||_0x21d314[_0x55ecab(0x82e)]==='confident';_0xe3914c?_0x66c346=_0x3dd255?_0x55ecab(0x9c3):'bg-red-500\x20text-white\x20font-bold':_0x66c346=_0x3dd255?_0x55ecab(0x627):_0x55ecab(0x53e),_0x55bf3c+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x66c346+'\x22>'+_0x1062b6(_0x4beafb,_0x21d314)+_0x55ecab(0x5b0);}else _0x55bf3c+=_0x55ecab(0x4e9);});}else _0x55bf3c+=_0x164a51['map'](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')['join']('');_0x55bf3c+=_0x395b59(0x396);}),_0x55bf3c+=_0xc0a3f0(0x378),_0xe62372[_0xc0a3f0(0x65a)]=_0x55bf3c;}function renderQuizResultsTable(_0x3fc080,_0x28c281,_0x13ed0a){const _0x939455=_0x56a724,_0x4b3467=_0x28c281[_0x939455(0x73f)]((_0x4eba54,_0x58bfd8)=>{const _0x523f00=_0x939455;return _0x4eba54[_0x58bfd8[_0x523f00(0x6d5)]]=_0x58bfd8,_0x4eba54;},{}),_0x409511=document[_0x939455(0x4aa)](_0x939455(0x4c9));_0x409511&&!_0x409511[_0x939455(0x65a)]['includes'](_0x939455(0x5f5))&&(_0x409511[_0x939455(0x65a)]+=_0x939455(0x57e));const _0x3fc0b5=document[_0x939455(0x5a0)](_0x939455(0x2e9));if(!_0x3fc080||_0x3fc080[_0x939455(0x2fd)]===0x0){_0x3fc0b5[_0x939455(0x65a)]=_0x939455(0x6a1);return;}const _0x39d749=_0x13ed0a[_0x939455(0x88c)]===!![],_0x305ee7=_0x13ed0a[_0x939455(0x681)]?.[_0x939455(0x4e7)]??-0x1;let _0x31327a='';_0x3fc080[_0x939455(0x573)](_0x1c1795=>{const _0x33e4e2=_0x939455,_0x199227=_0x4b3467[_0x1c1795];let _0x157e90='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x39d749?_0x33e4e2(0x603):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x39d749?_0x33e4e2(0x8f):'สอบปกติ')+_0x33e4e2(0x8eb);if(_0x199227){if(_0x199227[_0x33e4e2(0x6a8)]&&_0x199227['attempts']['length']>0x0){let _0x3d85cb=_0x39d749?_0x199227['bestScore']===_0x199227[_0x33e4e2(0x212)]:_0x305ee7!==-0x1&&_0x199227[_0x33e4e2(0x37b)]>=_0x305ee7;const _0x2d649d=_0x3d85cb?'bg-green-100\x20text-green-800':_0x33e4e2(0x5ea),_0x179dad=_0x3d85cb?_0x33e4e2(0x69d):_0x33e4e2(0x162),_0xe3308a=_0x33e4e2(0x6da)+_0x2d649d+'\x22>'+_0x179dad+'</span></td>',_0xa9b71e=_0x33e4e2(0xdb)+(_0x199227[_0x33e4e2(0x6a8)]?.['length']||0x1)+_0x33e4e2(0x821);_0x31327a+=_0x33e4e2(0x46e)+_0x1c1795+_0x33e4e2(0x332)+_0x199227[_0x33e4e2(0x37b)]+_0x33e4e2(0x747)+_0x199227[_0x33e4e2(0x212)]+_0x33e4e2(0x71f)+_0xe3308a+_0x33e4e2(0x37e)+_0x157e90+_0x33e4e2(0x6e5)+_0x199227[_0x33e4e2(0x9d4)]+_0x33e4e2(0x747)+_0x199227[_0x33e4e2(0x212)]+_0x33e4e2(0x59c)+_0x199227[_0x33e4e2(0x613)]+_0x33e4e2(0x747)+_0x199227['totalQuestions']+_0x33e4e2(0x54d)+(_0x199227['points']||0x0)+_0x33e4e2(0x71f)+_0xa9b71e+_0x33e4e2(0x946)+new Date(_0x199227[_0x33e4e2(0x1c9)])[_0x33e4e2(0x165)](_0x33e4e2(0x9b2))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x1c1795+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x2103dd=_0x33e4e2(0x90c);_0x31327a+=_0x33e4e2(0x236)+_0x1c1795+_0x33e4e2(0x1ea)+_0x157e90+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2103dd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x199227[_0x33e4e2(0x7c)])[_0x33e4e2(0x165)](_0x33e4e2(0x9b2))+_0x33e4e2(0x55c)+_0x1c1795+_0x33e4e2(0x78c);}}else{const _0x680b48=_0x33e4e2(0x178);_0x31327a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1c1795+_0x33e4e2(0x734)+_0x157e90+_0x33e4e2(0x6c0)+_0x680b48+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x3fc0b5[_0x939455(0x65a)]=_0x31327a;}async function confirmRenameQuiz(){const _0x2f94c5=_0x56a724,_0x393145=document[_0x2f94c5(0x5a0)]('rename-quiz-input')[_0x2f94c5(0x8f1)][_0x2f94c5(0x3fa)]();if(!_0x393145){showMessage(_0x2f94c5(0x6a7));return;}if(!actionTargetId)return;const _0x1cc415=doc(db,_0x2f94c5(0x4e3)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x1cc415,{'topic':_0x393145}),showMessage(_0x2f94c5(0x269)),renameQuizModal[_0x2f94c5(0x20d)][_0x2f94c5(0x8cb)](_0x2f94c5(0x5cf)),actionTargetId=null;}catch(_0x4ed732){console[_0x2f94c5(0x33a)](_0x2f94c5(0x722),_0x4ed732),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x143351){const _0x1e4bb0=_0x56a724;actionTargetId=_0x143351;const _0x5324fd=document[_0x1e4bb0(0x5a0)](_0x1e4bb0(0x3c9));_0x5324fd[_0x1e4bb0(0x65a)]=_0x1e4bb0(0x77e),moveQuizModal['classList'][_0x1e4bb0(0x1cf)]('hidden');try{const _0x4f560d=collection(db,_0x1e4bb0(0x4e3)+appId+'/public/data/projects'),_0x2e12e9=await getDocs(_0x4f560d),_0x3e9982=_0x2e12e9[_0x1e4bb0(0x465)]['map'](_0x5568ed=>({'id':_0x5568ed['id'],..._0x5568ed[_0x1e4bb0(0x2fb)]()})),_0x27edb9=_0x3e9982[_0x1e4bb0(0x5e1)](_0xae7f9c=>_0xae7f9c['id']!==currentProjectId);if(_0x27edb9[_0x1e4bb0(0x2fd)]===0x0){_0x5324fd['innerHTML']=_0x1e4bb0(0x5d7),document['getElementById'](_0x1e4bb0(0x516))[_0x1e4bb0(0x2df)]=!![];return;}_0x5324fd[_0x1e4bb0(0x65a)]=_0x27edb9[_0x1e4bb0(0xbf)](_0x9976fa=>_0x1e4bb0(0x7ca)+_0x9976fa['id']+'\x22>'+_0x9976fa['projectName']+'</option>')[_0x1e4bb0(0x13f)](''),document[_0x1e4bb0(0x5a0)](_0x1e4bb0(0x516))[_0x1e4bb0(0x2df)]=![];}catch(_0x5c8f77){console['error'](_0x1e4bb0(0x4ed),_0x5c8f77),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal['classList']['add']('hidden');}}async function confirmMoveQuiz(){const _0x1b6386=_0x56a724,_0x41bc88=document[_0x1b6386(0x5a0)](_0x1b6386(0x3c9))[_0x1b6386(0x8f1)];if(!_0x41bc88){showMessage(_0x1b6386(0xb5));return;}if(!actionTargetId)return;const _0x55f342=doc(db,'artifacts/'+appId+_0x1b6386(0x73b),actionTargetId);try{await updateDoc(_0x55f342,{'projectId':_0x41bc88}),showMessage(_0x1b6386(0x8e8)),moveQuizModal['classList'][_0x1b6386(0x8cb)](_0x1b6386(0x5cf)),actionTargetId=null;}catch(_0x2bd1b0){console[_0x1b6386(0x33a)](_0x1b6386(0x48d),_0x2bd1b0),showMessage(_0x1b6386(0x61e));}}async function handleQuizSettings(_0x4331a2){const _0x1fdfe2=_0x56a724;actionTargetId=_0x4331a2;const _0x213f15=doc(db,_0x1fdfe2(0x4e3)+appId+'/public/data/quizzes',_0x4331a2);try{const _0x1d8ead=await getDoc(_0x213f15);if(_0x1d8ead['exists']()){const _0x2bce0b=_0x1d8ead[_0x1fdfe2(0x2fb)](),_0x4f0d0c=_0x2bce0b[_0x1fdfe2(0x681)]||{},_0xd5c024=_0x2bce0b[_0x1fdfe2(0x528)][_0x1fdfe2(0x2fd)];document[_0x1fdfe2(0x5a0)](_0x1fdfe2(0x660))['value']=_0x4f0d0c[_0x1fdfe2(0x918)]||_0x1fdfe2(0x9bc),document['getElementById']('modal-results-display-select')[_0x1fdfe2(0x8f1)]=_0x4f0d0c[_0x1fdfe2(0x4e4)]||'show_results_and_answers',document[_0x1fdfe2(0x5a0)]('modal-timer-mode-select')[_0x1fdfe2(0x8f1)]=_0x4f0d0c[_0x1fdfe2(0x461)]||_0x1fdfe2(0x9bc),document[_0x1fdfe2(0x5a0)]('modal-timer-duration-input')[_0x1fdfe2(0x8f1)]=_0x4f0d0c[_0x1fdfe2(0x159)]||0xa,document[_0x1fdfe2(0x5a0)](_0x1fdfe2(0x7ea))[_0x1fdfe2(0x8f1)]=_0x4f0d0c[_0x1fdfe2(0x4e7)]||Math[_0x1fdfe2(0x917)](_0xd5c024/0x2),document[_0x1fdfe2(0x5a0)]('modal-passing-score-input')[_0x1fdfe2(0x505)]=_0xd5c024,document[_0x1fdfe2(0x5a0)](_0x1fdfe2(0x768))[_0x1fdfe2(0x71e)]=_0x4f0d0c[_0x1fdfe2(0x1b3)]||![],document[_0x1fdfe2(0x5a0)](_0x1fdfe2(0x71d))[_0x1fdfe2(0x71e)]=_0x4f0d0c[_0x1fdfe2(0x2ec)]||![];const _0x2e309e=_0x4f0d0c['isConfidenceScoringEnabled']||![];document['getElementById'](_0x1fdfe2(0x414))[_0x1fdfe2(0x71e)]=_0x2e309e,document['getElementById'](_0x1fdfe2(0x859))[_0x1fdfe2(0x8f1)]=_0x4f0d0c['confidenceMode']||_0x1fdfe2(0x234);const _0x182c45=document[_0x1fdfe2(0x5a0)]('modal-confidence-mode-container');_0x182c45['classList']['toggle'](_0x1fdfe2(0x5cf),!_0x2e309e),document[_0x1fdfe2(0x5a0)](_0x1fdfe2(0x35d))[_0x1fdfe2(0x834)](new Event(_0x1fdfe2(0x3f3))),quizSettingsModal['classList'][_0x1fdfe2(0x1cf)](_0x1fdfe2(0x5cf));}else showMessage(_0x1fdfe2(0x73));}catch(_0x573f69){console[_0x1fdfe2(0x33a)](_0x1fdfe2(0x9a6),_0x573f69),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x37ecce=_0x56a724;if(!actionTargetId)return;const _0x947f41=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId),_0x56ee79={'shuffle':document[_0x37ecce(0x5a0)](_0x37ecce(0x660))[_0x37ecce(0x8f1)],'resultsDisplay':document[_0x37ecce(0x5a0)]('modal-results-display-select')[_0x37ecce(0x8f1)],'timerMode':document[_0x37ecce(0x5a0)]('modal-timer-mode-select')['value'],'timerDuration':parseInt(document[_0x37ecce(0x5a0)](_0x37ecce(0x6ad))[_0x37ecce(0x8f1)])||0xa,'passingScore':parseInt(document[_0x37ecce(0x5a0)](_0x37ecce(0x7ea))[_0x37ecce(0x8f1)])||0x0,'isAdaptive':document[_0x37ecce(0x5a0)]('modal-adaptive-quiz-checkbox')[_0x37ecce(0x71e)],'loopUntilPass':document['getElementById'](_0x37ecce(0x71d))['checked'],'isConfidenceScoringEnabled':document['getElementById'](_0x37ecce(0x414))[_0x37ecce(0x71e)],'confidenceMode':document[_0x37ecce(0x5a0)](_0x37ecce(0x859))[_0x37ecce(0x8f1)]};try{await updateDoc(_0x947f41,{'settings':_0x56ee79}),showMessage(_0x37ecce(0x916)),quizSettingsModal[_0x37ecce(0x20d)][_0x37ecce(0x8cb)]('hidden'),actionTargetId=null;}catch(_0x245e44){console['error'](_0x37ecce(0x5b3),_0x245e44),showMessage(_0x37ecce(0x965));}}function _0x3eee(){const _0xdd5152=['\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin','Error\x20generating\x20quiz:','next-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าสำเร็จ','floor','shuffle','table','(ฉบับง่าย)\x20','.duplicate-quiz-btn','scheduled','practiceProblems','editable-text-','\x22\x20ให้เป็นคำถามประเภท\x20\x22','createObjectURL','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','พบข้อสอบ\x20','confirm-create-project-btn','lastAnswerIndex','text-indigo-800','responses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/practiceBank','answer-grid-container','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','input[type=\x22text\x22]','confirm-team-players-btn','pointsLastQuestion','getTextContent','leaderboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-tab','ON_FIRE','scratchpad-clear-btn','Error\x20deleting\x20project:','eraser','.question-editor-item[data-q-index=\x22','quiz-leaderboard-table-container','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-900','podium','countdown-display','#26890c','correctResponse','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20students:','/questionBank','toDate','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','วงกลม:\x20สมการและสมบัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','setAttributeNS','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','ตัวแปรและนิพจน์','worksheet-tab','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','bg-blue-100','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','circle','totalPoints','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','lineCap','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','1491149dzZZKs','show-leaderboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','ชื่อโปรเจคห้ามว่าง','\x22><p\x20class=\x22font-semibold\x22>','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','random','promise','เกิดข้อผิดพลาดในการปักหมุด','เกิดข้อผิดพลาดในการโหลดโปรเจค','name_asc','คัดลอกรหัสแล้ว!','พาราโบลา','fa-bolt\x20text-blue-500','insertBefore','ตาของ:\x20','toggle','เกิดข้อผิดพลาดในการบันทึก','รูปหลายเหลี่ยมและมุมภายใน','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','question-analytics-container','results-quiz-title','manual_release','lineWidth','export-pdf-modal','student-rankings-modal','comparison-modal','highlighter-size-slider','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','suggestedAnswer','Error\x20fetching\x20student\x20rankings:','undo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','tan','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','submission-status-chart','standardTopic','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22radio\x22][value=\x22','kick-player-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','presentation-modal','pre-test-checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','index','members','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','points','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','สลับไปโหมดนักเรียน','สมการราก\x20(radical)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','Leaderboard\x20update\x20transaction\x20failed:\x20','update','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','สถิติและความน่าจะเป็น','fill','status','next-drill-btn','admin-dashboard','answer','sync-matching-select','ความเป็นอิสระของเหตุการณ์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x5cle','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','submissions','font-bold\x20text-green-700','<button\x20data-value=\x22','<i\x20class=\x22fas\x20fa-pen\x22></i>','setItem','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','force-math-checkbox','quizId','Error\x20fetching\x20quiz\x20settings:','.move-quiz-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','<i\x20class=\x22fas\x20fa-save\x22></i>','ring-purple-400','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','summary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','ชนิดของข้อมูลและการเก็บข้อมูล','isArray','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','th-TH','size','game-start-mode','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','ใช่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','editor-quiz-topic','none','เกิดข้อผิดพลาดในการลบผลสอบ','global-quiz-list','project-passcode-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleDateString','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','bg-green-400\x20text-white\x20font-bold','all','project-detail','.live-answer-btn,\x20#sync-submit-btn','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','transition-all','\x22\x20name=\x22question','documentElement','parse','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-leaderboard-table-body','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงปกติและ\x20z-score','#E5E7EB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','firstScore','leq','text-blue-800','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','questions_only','แบบทดสอบจากคลังส่วนตัว','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','fa-pen','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','quick_thinker','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','contains','open','shuffle-setting-select','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','ไม่พบข้อมูลแบบทดสอบ','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)','_opt1\x22>ไม่ใช่</label></div>','.delete-student-btn','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','confirm-quiz-status-btn','ค่าคลาดเคลื่อนของการวัด','startedAt','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','getBoundingClientRect','.delete-custom-topic-btn','#000000','</div>\x0a</div>\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนเบี่ยงเบนมาตรฐาน','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','grabbing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','คำถามถัดไป','rgba(79,\x2070,\x20229,\x201)','text-white','\x20from\x20sync\x20game:','(คู่ขนาน)\x20','กราฟแท่ง\x20กราฟเส้น','\x5csum','fix\x20the\x20option','สอบซ่อม','message-modal','Failed\x20to\x20kick\x20player\x20','.status','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','per-question-timer-container','date_desc','cancel-create-project-btn','\x20(p=','ไม่สามารถบันทึกการตั้งค่าได้','focus','ฟังก์ชันผกผัน','แผนการสอน:\x20','ทฤษฎีบทพีทาโกรัสและการประยุกต์','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','pinnedProjects','enable-passcode-checkbox','comparison-overall-content','<svg','ยอดเยี่ยม','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-worksheet-pdf-btn','<div\x20class=\x22my-6\x22>','quiz-generation-area','การจัดหมู่\x20(Combination)','file-topic-input','.topic-name-display','files','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','verify-answers-btn','translate','พบ\x20Team\x20Quiz!','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','thead','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','กรุณาเลือกโปรเจคปลายทาง','line-through\x20text-red-700','/public/data/syncGames','.lastAnswerValue','source-over','str','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','border-red-300\x20bg-red-50','options','transform','map','body','correctAnswer','cancel-quiz-edits-btn','คำเตือน\x20(','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','รูปแบบการให้เหตุผล','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','localeCompare','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','Error\x20displaying\x20question\x20bank:','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','image/png','find','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','behaviorLog','<div\x20class=\x22my-2\x22>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','mean','cancel-test-btn','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','เลือกและบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจพบการออกจากหน้าจอครบ\x20','confidence_single','\x20ชุด)','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','results-display-select','onerror','980301vIzkbY','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','PERFECT_SCORE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ดอทโปรดักต์\x20(dot)','entries','.verification-result','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollX','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างโปรเจคสำเร็จ!','พื้นที่สี่เหลี่ยม','Error\x20rendering\x20student\x20progress:','solution','กราฟฟังก์ชันตรีโกณ','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','Original\x20quiz\x20not\x20found','modal-message','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x20mx-1\x20text-lg\x22></i></span>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','Group\x20Mode','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','.edit-quiz-btn','/users/','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','list-view-btn','analytics-tab-btn','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','.color-palette-popup','quiz-editor-questions-container','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบโปรเจค','practice-topic-btn','parallel-test-input-area','274192258111','perfect_score_status','width','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ปริมาตร/ความจุและการแปลง','frac','(เลือกแล้ว\x20','scratchpad-close-btn','release','project-passcode-input','passcode','behavior-log-tab-content','results-table','dimmed','.parallel-quiz-btn','helvetica','button[data-id]','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ผิด','สมการเหตุผล\x20(rational)','input[name=\x22team_player\x22]:checked','katex','height','bg-red-500','เปลี่ยนชื่อโปรเจคสำเร็จ','rgba(16,\x20185,\x20129,\x200.7)','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อนุพันธ์:\x20กฎพื้นฐาน','ความสัมพันธ์ของมุม','players','AI\x20Formula\x20Fix\x20Error:','modal-timer-duration-label','specialist','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','Error\x20toggling\x20pin\x20status:','.mb-6.p-4','submittedAt','click','getBBox','.topic-row','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎของไซน์','กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว','null','offsetWidth','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','Error\x20updating\x20pin\x20status:','$1_{$2}','live-race','analyze-strengths-btn','ค่าสัมบูรณ์','เพิ่มหัวข้อ\x20\x22','\x20จาก\x20','join','เลือกโปรเจคเพื่อบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','true_false','พีชคณิตและฟังก์ชัน','ที่พิมพ์ได้\x20จำนวน\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<br>','touchstart','ส่งคำตอบ','targetId','ลำดับเลขคณิต\x20(AP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','มุมพิเศษ\x2045°-45°-90°','exists','show-results-btn','ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ลบหัวข้อสำเร็จ','.admin-try-quiz-list-btn','blockReason','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','timerDuration','back-to-student-initial-btn','math-topic-search-input','result','close-comparison-modal-footer-btn','COMEBACK_KING','stroke','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','project-detail-view','ไม่ผ่าน','first_try_ace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLocaleString','NUMBER','viewBox','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','Error\x20saving\x20project\x20order:','bulk-loop-until-pass-checkbox','Error\x20committing\x20score\x20updates:','รูปสี่เหลี่ยมและสมบัติ','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','แบบทดสอบซ่อมเสริม','offset','ค.ร.น.\x20(LCM)','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','Error\x20listening\x20for\x20starred\x20quizzes:','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','timer-mode-select','behavior-log-tab-btn','visible','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','thead\x20.sortable-header','</form>','showRankings','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','global-quiz-search-input','warn','<h1></h1>','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','\x20คู่\x20','confirm-passcode-btn','earned-badges-container','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','เปิดใช้งาน','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','toDataURL','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','กรุณาเลือกคำตอบของกลุ่ม','admin-password-modal','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-500','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','export-leaderboard-word-btn','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','leaderboard-quiz-tab-content','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','BOOLEAN','Error\x20fetching\x20project\x20quizzes:','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','Error\x20joining\x20sync\x20game:','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','พอใช้','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','pairedQuizId','pin','student-project-leaderboard-table-body','team-player-status-grid','Attempting\x20to\x20save\x20game\x20results...','string','num-choices','ความคาดหมาย\x20(Expected\x20value)','ฟังก์ชันเชิงเส้นและกราฟ','temp-loader-results','isAdaptive','msExitFullscreen','setFont','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fadeStartTime','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','การบวกทศนิยม','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','request','startsWith','คัดลอกไม่สำเร็จ','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','การบวกเศษส่วน','sync-player-management','display','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','คะแนน','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','latestSubmittedAt','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ถูกต้อง!','tooltipTarget','/public/data/customMathTopics','playerName','remove','</span><span\x20class=\x22font-bold\x22>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้าย','/public/data/projects/','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','<div\x20class=\x22answer-space\x22></div>','project-id-display','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',',\x20r=','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','.quiz-bank-settings-btn','แก้ไขหัวข้อสำเร็จ','<div\x20class=\x22space-y-4\x22>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','join-live-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','.question-editor-item','Error\x20toggling\x20star\x20status:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-edits-btn-footer','post-test','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','quiz-id-input','beforeend','student-progress','comparison','className','deselect-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','name','activeGameSession','student-list','quiz-form','สเกลและแผนที่','scratchpad-question','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','lobby','เงินงวด\x20(อนุกรมเงินงวด)','uid','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','href','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','upperGroupResponders','bank-quiz-search-input','bg-emerald-100','.start-live-race-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','destroy','classList','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','raw','dragstart','min','totalQuestions','dataIndex','mode','Error\x20confirming\x20players\x20for\x20sync\x20game:','restore','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','preTestId','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','get','-\x20ข้อ\x20','Error\x20joining\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x5cge','num-questions','Error\x20updating\x20sort\x20preference:','element','imageCode','generate-worksheet-btn','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','การกระจายและการจัดหมู่','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','การลบเศษส่วน','.isScored','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','หน่วยมวล/น้ำหนักและการแปลง','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','start-quiz-btn','.delete-project-btn','description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checkbox','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','toString','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','.answeredCurrentQuestion','confirm-game-start-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','flex\x20flex-col\x20gap-2','save-game-results-checkbox','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','.submittedAt','screen_exit','student-project-leaderboard-tab','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x22\x20data-q-type=\x22','removeChild','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','bg-black/20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','trail','closePath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.scratchpad-content-wrapper','font-bold\x20text-red-700\x20line-through','Error\x20generating\x20from\x20link:','รอเปิด','px,\x20','bg-green-100\x20font-bold','ไฮเพอร์โบลา','confirm-delete-btn','bar','การยืนยันตัวตนล้มเหลว','true','schedule','fill_in_no_choices','ไม่พบข้อมูลข้อสอบหลังเรียน','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','ระยะเวลา\x20(นาที):','ไม่สามารถเริ่มเกมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนเบี่ยงเบนเฉลี่ย','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','admin-testing','classWeaknesses','generate-from-parallel-test-btn','auto','เปลี่ยนชื่อแบบทดสอบสำเร็จ','screen','lastAnswerCorrect','ความต่อเนื่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','message','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','players.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20text-lg\x22>','show_results_only','sync','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span></div>','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','global-live-game-count','cursor','finished','แบบเติมคำตอบ','ดอกเบี้ยทบต้น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนและการดำเนินการ','\x22\x20class=\x22color-palette-btn\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','\x20\x20\x20-\x20คำตอบ:\x20','answeredCurrentQuestion','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-controls','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','svg','#e21b3c','candidates','<div\x20class=\x22flex-1\x22></div>','s;\x22\x20title=\x22','135CxORbp','Error\x20resetting\x20project\x20order:','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','slide-counter','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','</td></tr>','<button\x20id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','starred-project','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','</span></p>','กฎของโคไซน์','สร้างแบบทดสอบปรนัย','Error\x20regenerating\x20question\x20in\x20editor:','isCorrect','ท็อปฟอร์ม','open-quiz-bank-btn','text-gray-100','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','#ffffff','document','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','กำลังดึงข้อมูลจากลิงก์...','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','text-input-area','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','save-quiz-btn','bg-green-200','หัวข้อที่สร้างเอง','ARRAY','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','text-purple-600','timed','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','.pen-color-btn','bank-input-area','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รหัสไม่ถูกต้อง','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','fa-dumbbell\x20text-gray-700','.confidence-choice-btn','circ','bulk-quiz-settings-modal','toFixed','.quiz-bank-delete-btn','แบบทดสอบนี้หมดเวลาแล้ว','Sync\x20Mode','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','.presentation-option','Error\x20confirming\x20players:','underline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','color','\x20คน\x20ตอบถูก</p></div>','link-topic-input','mousemove','\x20mb-2\x22>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','score','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</span>','whole_quiz','<p\x20class=\x22','(ไม่มีชื่อ)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','math-topics-checkbox-container','\x22\x20value=\x22true\x22\x20','analytics','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','teachingContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','webkitExitFullscreen','generate-from-link-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','disabled','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','modal-timer-duration-container','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','wheel','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','indexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','quiz-results-table-body','pointercancel','เวกเตอร์และเมทริกซ์\x20(เสริม)','loopUntilPass','.delete-svg-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','close-lesson-plan-modal-footer-btn','<div\x20class=\x22loader\x20mx-auto\x22></div>','quizType','ย้ายแบบทดสอบไปโปรเจคอื่น','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x20หัวข้อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','transparent','confidence-modal','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','data','start-presentation-btn','length','correct','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','rgba(59,\x20130,\x20246,\x200.7)','lineJoin','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','shuffledQuiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','ห.ร.ม.\x20(GCD)','turnIndex','fromCharCode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-name-input','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','(คัดลอก)\x20','</tbody></table></div>','blueprint-input-area','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','จับคู่เพื่อเปรียบเทียบผล','btn','text-gray-500','setTransform','.delete-quiz-btn','ไม่พบเอกสารการส่งงานของ\x20','exitFullscreen','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','เกิดข้อผิดพลาดในการจับคู่','คณิตศาสตร์','projectName','ลบโปรเจคสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','26992HFKpEb','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20quiz:','application/json','Error\x20deleting\x20submission:','isStarred','\x5ctimes','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20deleting\x20all\x20students:','touchend','questionId','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#DBEAFE','globalAlpha','_opt0\x22>ใช่</label></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','ใช่\x20/\x20ถูก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','AI\x20Fix\x20Error:','confirm-admin-login-btn','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','mandatory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','quiz-leaderboard-table','error','student-name-input','เกมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','เส้นรอบรูป','กำลังอ่านและเตรียมไฟล์...','short_answer','link-tab','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','เกิดข้อผิดพลาดในการลบหัวข้อ','label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','asc','student-reading-area','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จากไฟล์ที่แนบมานี้,\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','ตารางความถี่','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','cancel-quiz-bank-btn','\x22>จาก:\x20','ลบผลสอบของ\x20','confirm-join-game-btn','move-quiz-modal','Error\x20submitting\x20team\x20answer:','toISOString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parseFromString','back-to-results-btn','Error\x20updating\x20quiz\x20status:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','modal-timer-mode-select','standard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','project-sort-select','สัญกรณ์วิทยาศาสตร์','requestFullscreen','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','\x5c\x5c\x5c\x5c(?=(','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','highlighter-tools-group','perfect_score','ค่าเฉลี่ย','กรุณาใส่ชื่อโปรเจค','Remedial\x20quiz\x20generation\x20failed:','globalCompositeOperation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','การแปลงรูปอัตลักษณ์','close-game-final-btn','loader-text','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','Firebase\x20initialization\x20failed:','.answered','Error\x20saving\x20game\x20results:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','</tbody></table>','PERSEVERANCE','ดีมาก','bestScore','การประยุกต์เวกเตอร์พื้นฐาน','times','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','grid','text-gray-700','60XDUVIz','.score','สมการตรีโกณมิติ','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','createdAt','text-yellow-300','per-q-countdown','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','idealAnswer','72kReDDt','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','FIRST_TRY_ACE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','Failed\x20to\x20resume\x20game\x20session:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','/public/data/quizzes/','</tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.toggle-actions-btn','สร้างคำถามแบบใช่/ไม่ใช่','createElement','จำนวนเต็มลบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การคูณเศษส่วน','ตั้งเวลา\x20(เปิด)','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','http://www.w3.org/2000/svg','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','อัตราการเปลี่ยนแปลงทันที','name_desc','instructions','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','</select>','save-visibility-settings-btn','generate-from-file-btn','/public/data/projects','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','leaderboard-quiz','upperGroupNames','wakeLock','ลิมิต','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','</p><div>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','fas\x20fa-star\x20text-yellow-500','-tab','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','next-sync-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20คะแนน\x20','normal','groups','admin-try-quiz-btn','mouseup','jspdf','user','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','replace','move-quiz-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','currentTarget','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','questionStatus','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','moveTo','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','correctAnswerIndex','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','timer-duration-input','.ql-editor','pointerType','ดอกเบี้ยอย่างง่าย','hasPerfectScoreBonus','ไม่พบแบบทดสอบในระบบเลย','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pen-tools-group','quiz-results','ทฤษฎีบทพื้นฐานของแคลคูลัส','\x22\x20data-pre-test-id=\x22','#F59E0B','#student-quiz-leaderboard-content\x20thead','shuffleSetting','dragover','N/A','.sortable-header','[contenteditable=\x22true\x22]','confidence-mode-container','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','.quiz-result-card','.topic-category','Error\x20verifying\x20answers\x20in\x20editor:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','json','change','block','\x5csqrt{$1}','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','empty','พื้นที่วงกลม/ส่วนของวงกลม','perQuestionStats','trim','หลังเรียน','ปิดใช้งาน','text-emerald-800','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getContext','geq','Failed\x20to\x20parse\x20JSON\x20from\x20AI','คะแนนยังไม่ถึงครึ่ง','rename-quiz-modal','generate-from-topic-btn','):\x20','ผลรวมอนุกรม\x20(Σ)','timer-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x22.\x20Ideal\x20Answer:\x20\x22','confidence-input-','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fixedData','.pin-project-btn','cancel-game-start-btn','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','reference-pdf-upload','modal-confidence-scoring-checkbox','\x5cfrac{','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','questionText','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','กรุณาวาง\x20URL\x20ของบทความก่อน','#6366F1','พิสัย','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20สำเร็จ','quiz-status-modal','multiple_choice','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','กำลังอัปเดตแบบทดสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','.project-card-container.opacity-50','สลับไปโหมดผู้ควบคุม','lowerGroupNames','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','export-excel-btn','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','Invalid\x20response\x20structure\x20from\x20AI.','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','progress-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timestamp','MathJax\x20typeset\x20error\x20(analytics):','\x20mr-2\x22></i>','dragend','trail-tool-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','bg-green-50','touchmove','bg-green-100\x20text-green-800','confirm-game-start-modal','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','red','text-gray-400\x20hover:text-indigo-600','classStrengths','$1\x20\x5cfrac','ไม่สามารถเพิ่มนักเรียนได้','_blank','Re-grade\x20process\x20failed:','text-red-800','sync-manage-players-btn','อสมการค่าสัมบูรณ์','กำลังสร้างแบบทดสอบจากหัวข้อ...','generate-from-text-btn','groups.','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','Error\x20updating\x20custom\x20topic:','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','ไม่ได้ตอบ','scratchpad-modal','code','\x22\x20name=\x22confidence','cancel-move-quiz-btn','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','มัธยฐาน','bulk-confidence-mode-select','text-yellow-800','log','questionIndex','lesson-plan-modal','topic-input','admin-password-input','.star-quiz-btn','questionType','ref','leaderboard-quiz-tab-btn','timerMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','docs','.quiz-bank-parallel-btn','.quiz-bank-try-btn','student-progress-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','กำลังสร้างรูปภาพ...','confirm-rename-quiz-btn','actions-container-','starred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<div\x20class=\x22','not-found','analytics-tab-content','blur','text-green-600','.pdf','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','goto-next-question-btn','</p></div>','text-red-700\x20bg-red-100','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','div[data-question-index=\x22','loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','สร้างคำถามแบบเติมคำในช่องว่าง','</body></html>','ลบแบบทดสอบสำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','<p><strong>คำตอบของคุณ:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x22\x20value=\x22','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','mouseleave','generate-from-blueprint-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Error\x20moving\x20quiz:','ไม่พบโปรเจค','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','qType','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ควรปรับปรุง','27411472','export-lesson-pdf-btn','แก้ไขข้อนี้','ไม่มีคำอธิบาย','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อินเวอร์สของเมทริกซ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','input[type=\x22radio\x22]:checked','verify-answers-editor-btn','text-content-input','\x22\x20data-topic=\x22','^{\x5ccirc}\x5ctext{C}$','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','answering','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบสำหรับรหัสนี้','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','querySelector','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','text-tab','ai-quiz-generator-v3','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนคละ','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','/preferences/main','project-list','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','fixed','บันทึกคำถามใหม่\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','border-indigo-400\x20ring-2\x20ring-indigo-200','postScore','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','tfrac','6736821kIFRgr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','เกิดข้อผิดพลาดในการติดดาว','behavior-log-container','postTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-settings-btn','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','#results-table\x20thead\x20tr','กรุณาเลือกไฟล์ก่อน','sin','bg-red-50','pointerdown','isPinned','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','manage-tab-content','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','textarea[name=\x22question_single\x22]','#math-topics-checkbox-container\x20input:checked','Error\x20deleting\x20student:','submit-team-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','score-distribution-chart','project-quizzes-list','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','keydown','pow','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-team-selection-view','กำลังจับคู่...','ทฤษฎีทวินาม\x20(เบื้องต้น)','artifacts/','resultsDisplay','projectOrder','สุดยอด!\x20ตอบถูกทุกข้อ','passingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','results-table-container','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','เกิดข้อผิดพลาดในการอัปเดตสถานะ','Error\x20fetching\x20projects\x20for\x20move:','bulk-quiz-settings-btn','Enter','stdDev','choices_only','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','results-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','lessonPlan','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','match','passcode-input-container','max','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1\x5ctext{','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sync-submit-btn','live-game-view','แบบปรนัย\x204\x20ตัวเลือก','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upper_group_count','strokeStyle','.choice-text','dataset','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนนักเรียน','confirm-move-quiz-btn','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','[role=\x22textbox\x22]','$1\x5c%','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ทำคะแนนเต็มในการทำครั้งแรก','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','เกิดข้อผิดพลาดในการเข้าร่วมเกม','GlobalWorkerOptions','admin-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','\x22\x20สำเร็จ','interesting-stats-container','game-start-modal-title','toLowerCase','questions','FileReader\x20error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','drop','ฟังก์ชันยกกำลัง','STRING','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','open-global-live-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','Error\x20saving\x20questions\x20to\x20practice\x20bank:','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','<span\x20class=\x22sort-indicator\x20ml-2\x22>','removeAttribute','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','.csv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','Error\x20starting\x20team\x20quiz:','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','bg-red-100','startTime','</h3>','repeat','bg-gray-50','label[for=\x22num-questions\x22]','<li>','slice','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','Error\x20opening\x20quiz\x20editor:','สมการลอการิทึม','Error\x20duplicating\x20quiz:','เกิดข้อผิดพลาดในการลบนักเรียน','comparison-individual-content','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','quiz-start-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','[*]','duration-300','Error\x20listening\x20for\x20student\x20profiles:','quizMode','bg-red-200\x20text-red-800','back-from-results-btn','การปัดเศษและประมาณค่า','projectSort','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','quiz','stem','confirm-not-confident','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.regenerate-question-editor-btn','add-custom-math-topic-btn','API\x20call\x20failed','.project-card-container[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-start-quiz-id','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20create/update\x20submission\x20record:','multiply','clientX','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','<p\x20class=\x22text-xl\x22>','authed_project_','Error\x20pairing\x20quizzes:','สร้างแบบทดสอบ','check-answer-btn','not_confident','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','answers','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','forEach','per_question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','eraser-tool-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','.delete-submission-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','arrayBuffer','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','บันทึกผลการเล่นเกมของ\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','autoTable','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','.project-card-container:not(.opacity-50)','การนับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.correct-response-input','cancel-quiz-status-btn','pen','scores','devicePixelRatio','content','topic','student-quiz-leaderboard-tab','จำนวนข้อ:','ไม่สามารถโหลดข้อมูลอันดับได้',';\x22\x20data-id=\x22','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','จำนวนเชิงซ้อน\x20(เสริม)','neq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','ring-2','Error\x20saving\x20quiz:','\x22\x20value=\x22false\x22\x20','presentation-ai-result','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','การคูณ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิต','getElementById','showInStudentDashboard','<span\x20class=\x22font-bold\x20','อัปเดตสถานะสำเร็จ','workerSrc','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','confirm-bulk-quiz-settings-btn','list','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-200','\x5cfrac','\x5cfrac{$1}{$2}','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','delete','</td>','ผู้ไม่ยอมแพ้','default','Error\x20updating\x20quiz\x20settings:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','</strong></p>','.draggable-text','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','student-name-select','<textarea\x20name=\x22question','สมการเชิงเส้นตัวแปรเดียว','export-leaderboard-pdf-btn','</div>','start-sync-game-btn','[data-topic-container-id]','{$1}','includes','ร้อยละประยุกต์','ความเท่ากันทุกประการของสามเหลี่ยม','fa-user-astronaut\x20text-blue-700','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','สรุปผลสุดท้าย','badges','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','.generate-easy-version-btn','answered','/public/data/teamQuizzes','execCommand','ฟังก์ชันค่าสัมบูรณ์','hidden','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','originalQuestionText','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','ลำดับการดำเนินการ\x20(PEMDAS)','Error\x20saving\x20user\x20preference:','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','user-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.png','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.doc','closest','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','filter','icon','project-title','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','td,\x20th','No\x20player\x20data\x20to\x20save.','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','bg-red-100\x20text-red-800','\x5cs*\x5c(','เรเดียนและการแปลงหน่วย','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','position','blueprint-upload-input','stringify','ยังไม่มีนักเรียนส่งงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','จัดการ','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','ไม่มี','ระยะทางและจุดกึ่งกลาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','answer-counter','allResponses','contents','close','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','endTime','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bg-amber-100\x20text-amber-800','เรขาคณิตวิเคราะห์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scratchpad-header','delete-svg-btn','export-image-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','manage-tab','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สำหรับโปรเจค:\x20','split','touch','msRequestFullscreen','bg-green-200\x20text-green-800','justification','latestScore','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','game-pin-input','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','border-gray-200','scores-tab-content','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','ชื่อหัวข้อห้ามว่าง','fullscreenchange','nickname-input','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','lesson-plan-content','quiz-search-input','\x20ชุดสำเร็จ!','print','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','mixed','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','\x22><span>','bg-green-100','เกิดข้อผิดพลาดในการอ่านไฟล์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','bg-gray-500','lower_group_count','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','comparison-overall-tab','<button\x20data-quiz-id=\x22','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-present-btn','.save-to-bank-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','fill_in_the_blank','<p><strong>คำตอบที่แนะนำ:</strong>\x20','confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createdBy','topic-tab','rgba(239,\x2068,\x2068,\x200.7)','mousedown','responses.','scratchpad-canvas','confirm-global-live-btn','คะแนนเต็ม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lowerGroupResponders','view-my-progress-btn','left','projectView','ไม่ใช่\x20/\x20ผิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','now','student-name-selection-view','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','learningGaps','passcode-prompt-message','เส้นตรง:\x20ขนาน/ตั้งฉาก','create-project-btn','selected-answer-index-hidden','bulk-confidence-mode-container','contentEditable','58011bECkoX','.save-custom-topic-btn','$1^{\x5ccirc}\x5ctext{C}','<li\x20class=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ไม่ใช่</p>','innerHTML','perseverance','\x22\x20name=\x22team_answer\x22\x20value=\x22','Error\x20starting\x20sync\x20game:','rows','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','modal-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','top','answerText','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','showImproveButton','<div\x20class=\x22mb-3\x20topic-category\x22>','การคูณทศนิยม','All\x20groups\x20have\x20finished.\x20Ending\x20game.','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','half_mark_status','typesetPromise','student-team-join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20bg-black/10\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',':</p><p\x20class=\x22text-xs\x22>','quiz-editor-modal','Error\x20updating\x20old\x20quizzes:','เกิดข้อผิดพลาดในการลบแบบทดสอบ','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','worksheet-input-area','รูปสแควร์รูท\x20(surd)','วงกลม:\x20คอร์ดและเส้นสัมผัส','results-quiz-id-display','data:application/vnd.ms-word;charset=utf-8,','modal-close-btn','export-leaderboard-image-btn','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','leaderboard-table-body','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','ผู้เชี่ยวชาญ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','settings','save-quiz-edits-btn','textarea','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','start-game-btn','การแยกตัวประกอบ','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','ความชันและเส้นตรง','จำนวนเต็มบวก','some','manage-players-btn','team-quiz-topic','total','ค่าเสื่อมราคา','opacity','results_','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','resize','sqrt','.pointsLastQuestion','.live-summary-tooltip.visible','.highlighter-color-btn','question','numPages','AI\x20แก้ไขคำถามสำเร็จ!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','save','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ผ่าน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','student-quiz-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','adaptive-quiz-checkbox','student-initial-view','กรุณาใส่ชื่อใหม่','attempts','mjx-container','hover:bg-indigo-100','projectId','.ideal-answer-input','modal-timer-duration-input','push','copy','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','explanation','group','เกิดข้อผิดพลาดในการสร้างใบงาน','กรุณาป้อนรหัสแบบทดสอบ','ลำดับเรขาคณิต\x20(GP)','text/html','live-player-management','show_pass_fail_only','findIndex','ไม่พบข้อมูลโปรเจค','function','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','visibilitychange','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ai-quiz-app-aefee.firebaseapp.com','close-student-rankings-btn','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','Error\x20verifying\x20answers:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','อัตราส่วนและสัดส่วน','เส้นจำนวน','generated-quiz-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','</button>','question-complexity-select','studentName','cancel-passcode-btn','#student-project-leaderboard-content\x20thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','Failed\x20to\x20end\x20group\x20mode\x20game:','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','เศษส่วน\x20(ย่อ/ขยาย)','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','originalTopic','ไม่พบแบบทดสอบ','target','parts','show-in-student-dashboard-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','passing-score-input','removeEventListener','ส่งแล้ว','กำลังสร้างคำถามข้อ\x20','อนุพันธ์:\x20ผลคูณ/ผลหาร','undefined','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','.edit-question-btn','การหาร','\x5ctext{$1}','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-magic\x22></i>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x22\x20data-name=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','isLooping','confidence-scoring-checkbox','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1856664KJgRUt','title','close-comparison-modal-btn','transformOrigin','\x20\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','ฟังก์ชันกำลังสองและกราฟ','create-from-bank-btn','text','.answers','จากเนื้อหาต่อไปนี้:\x20\x22','_opt','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clearRect','border-red-700','</p><p><strong>เฉลย:</strong>\x20','timer-bar','กำลังกลับเข้าสู่เกม\x20','style','cos','false','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','difficulty-level-select','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','modal-loop-until-pass-checkbox','checked','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','open-sync-scratchpad-btn','Error\x20renaming\x20quiz:','global-live-game-modal','p-2\x20bg-black/10\x20rounded-md','presentation-short-answer-input','ยกเลิกการจับคู่สำเร็จ','project-search-input','.live-answer-btn','draggable-text','create-project-modal','quiz-bank-count','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','.ideal-answer-input,\x20.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','main-correct-answer-display','วงรี','button','file-input-area','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','player-list-lobby','answerValue','badgesCount','isConfidenceScoringEnabled','#F3E8FF','isFinished','/public/data/quizzes','ฟังก์ชันสัมพัทธ์\x20(rational)','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','type','reduce','student','.kick-player-btn-sync','active','tGain','API\x20call\x20failed\x20with\x20status:\x20','fa-crown\x20text-yellow-500','อัตราและอัตราหน่วย','\x20/\x20','createElementNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','scores-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','text-green-700\x20bg-green-100','quiz-type-select','parent','q-explanation-','2-digit','confirm-confident','การแจกแจงทวินาม\x20(พื้นฐาน)','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','onclick','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','currentMode','กรุณาพิมพ์คำตอบของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','students','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','Error\x20showing\x20quiz\x20detail\x20view:','การลบทศนิยม','แผนภาพเวนน์','\x22><i\x20class=\x22fas\x20','canvas','strength-weakness-analysis-container','ราชาคัมแบ็ก','ยืนยันและอัปเดตทั้งหมด','modal-adaptive-quiz-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','129138xFSnQS','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','project-dashboard-view','student-join-game-view','input[name=\x22question_single\x22]:checked','quadraticCurveTo','<div\x20id=\x22q-image-container-','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','เกี่ยวกับหัวข้อ\x20\x22','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','select','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','<option>กำลังโหลดโปรเจค...</option>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join-group-activity-btn','comparison-individual-tab','sum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','G-V90KRM0L63','matching','แก้ระบบสมการด้วยเมทริกซ์','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','กรุณาป้อนหัวข้อสำหรับใบงาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-presentation-list-btn','dfrac','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','gameData','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','currentQuestionIndex','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','สร้างใหม่','save-project-name-btn','_opt1\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','leaderboard-tab-content','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','แบบทดสอบนี้ปิดใช้งานอยู่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','team','test','scrollY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กลุ่ม:\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อสมการเชิงเส้น','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','readAsDataURL','on_fire','$1\x5ctext(','cancel-global-live-btn','short','preventDefault','shouldSaveResults','.export-pdf-list-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','บันทึกการตั้งค่าแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-progress-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจทานเฉลยเสร็จสิ้น!','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','inactive','\x22\x20class=\x22delete-project-btn\x20','ค่าความจริง/ตารางค่าความจริง','.color-palette-btn','custom-math-topic-input','onchange','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','student-passcode-input','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','.sort-indicator','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','#FFFFFF','\x5cdiv','projectSortOrder','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22','insertAdjacentHTML','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deltaY','bulk-confidence-scoring-checkbox','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','ฐานนิยม','MathJax','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','</option>','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','px)\x20scale(','ดูผลสรุปสุดท้าย','values','ฟังก์ชันราก\x20(root)','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','setAttribute','beginPath','innerText','file-upload-input','student-view','lesson-plan-title','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','interesting-stats-wrapper','Error\x20saving\x20settings:','per-question-text','AI\x20ไม่สามารถประมวลผลข้อมูลได้','สมการยกกำลัง','Error\x20during\x20class\x20analysis:','hasOwnProperty','modal-passing-score-input','appendChild','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','project-name-input','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','/studentProfiles','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','highlighter','การหารเศษส่วน','timer-duration-container','ข้อต่อไป','ระบบอสมการ','การวัด','num-choices-container','visibilityState','ฟังก์ชันพหุนาม','presentation-explanation','confirmation-modal','qIndex','Copy\x20command\x20failed','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','อนุพันธ์:\x20กฎลูกโซ่','doughnut','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','pre-test','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ตอบถูก\x203\x20ข้อติดต่อกัน','เปิด\x20(จับเวลา)','.quiz-bank-move-btn','items','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-home-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','promptFeedback','ไม่มีผู้ตอบตัวเลือกนี้','กรุณาเลือกชื่อของคุณ','team-student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scheduled_pending','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','gain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','querySelectorAll','\x0a---\x0a','ระยะเวลา\x20(วินาที):','getItem','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','tool','\x20ครั้ง)</span></td>','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-fire\x20text-orange-500','presentation-slide-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','/public/data/liveGames','dashboardConfig','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','manage','หมดเวลา!\x20กำลังส่งคำตอบ...','parallel-test-upload-input','wasConfident','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','submit','Invalid\x20response\x20structure\x20from\x20AI:','<div><input\x20type=\x22radio\x22\x20id=\x22q','-tab-content','dispatchEvent','#results-table','highlighter-tool-btn','back-to-dashboard-btn','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','</label></div>','update-old-quizzes-btn','textContent','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','</li>','finishReason','text/csv;charset=utf-8;','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add-student-btn',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','textarea[name=\x22team_answer\x22]','POST','stopPropagation','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.generate-post-test-btn','<p\x20class=\x22text-2xl\x22>','auto-fix-latex-btn','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','temp-loader-text-results','.project-card-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','text-emerald-900','rgba(255,\x20255,\x200,\x200.5)','modal-confidence-mode-select','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','matching_item','padStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','การจัดกลุ่มข้อมูล','text-green-700','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','ai-quiz-app-aefee.firebasestorage.app','เกิดข้อผิดพลาด:\x20','\x22\x5cn',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','fa-shield-alt\x20text-gray-600','คณิตการเงิน/บูรณาการ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20generating\x20easy\x20version\x20quiz:','addEventListener','keys','isScored','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x22\x20name=\x22drill_answer\x22\x20value=\x22','live-game','/submissions','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','loader','Team\x20Quiz','text-red-500\x20hover:text-red-700','shadowColor','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','pointerup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','cdot','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hint-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','shadowBlur','then','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','both','ยอดเยี่ยม!','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','<div>','text-gray-300\x20hover:text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','pen-tool-btn','isRemedial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','opacity-50','.quiz-settings-btn','redo-btn','category','fill_in_with_choices','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาเลือกโปรเจคที่ต้องการบันทึก','.unpair-quiz-btn','flex','confidenceMode','removeItem','text-indigo-700','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','```json','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','desc','scratchpad-options','outerHTML','teacherSuggestions','live-short-answer-input','ตรีโกณมิติ','\x22,\x20','reset-project-order-btn','\x5ccdot','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','มุมพิเศษ\x2030°-60°-90°','ownerSVGElement','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','key','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','confidence-choice-btn','ไม่ใช่','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','submission','bg-purple-50','deg','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','numeric','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substring','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','กลุ่มของคุณ','overallGroups','mode-switcher-btn','input[type=\x22checkbox\x22]:checked','text-red-600','summary_chart','student-quiz-leaderboard-table-body','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','commit','</span>','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','pointermove','add','Error\x20saving\x20submission:','quiz-end-time','getScreenCTM','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','ผู้ควบคุม\x20(ทดสอบ)','delete-all-students-btn','แผนการสอน','.group','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','รากที่สองและที่สาม','</p>','export-word-btn','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouse','text-green-600\x20font-bold','scale','.cancel-edit-topic-btn','generated-quiz-actions','download','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','แคลคูลัสเบื้องต้น','(^|[^\x5c\x5c])\x5cb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','live-submit-short-answer-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','ย้ายแบบทดสอบสำเร็จ','results','.topic-actions-view','</span></td>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่ส่ง','sync-short-answer-input','preTScore','end-team-quiz-btn','value','fullscreenElement','quiz-bank-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','touches','(หลังเรียน)\x20','บันทึกการแก้ไข','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','show_results_and_answers','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','.option-text','preScore','questionDisplayedAt','keyup','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','20lmrydR','.ai-fix-formula-btn','sort','pop','input[name=\x22status-option\x22]:checked','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20-\x20','STOP','quiz-settings-modal','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','Error\x20processing\x20file\x20for\x20AI:','สรุปผลการวิเคราะห์:\x5cn','หยุดระบบจับเวลาหรี่หน้าจอ','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'];_0x3eee=function(){return _0xdd5152;};return _0x3eee();}async function confirmQuizStatus(){const _0x3f622d=_0x56a724;if(!actionTargetId)return;const _0x243720=doc(db,_0x3f622d(0x4e3)+appId+_0x3f622d(0x73b),actionTargetId),_0x15f14e=document['querySelector'](_0x3f622d(0x907));if(!_0x15f14e){showMessage('กรุณาเลือกสถานะ');return;}const _0x261a67=_0x15f14e['value'];let _0x2206ec={};if(_0x261a67===_0x3f622d(0x742)||_0x261a67===_0x3f622d(0x7ba))_0x2206ec={'status':_0x261a67,'startTime':null,'endTime':null};else{if(_0x261a67===_0x3f622d(0x25b)){const _0x516444=document['getElementById'](_0x3f622d(0x54e))['value'],_0x590337=document[_0x3f622d(0x5a0)](_0x3f622d(0x8cd))[_0x3f622d(0x8f1)];if(!_0x516444&&!_0x590337){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x2206ec={'status':_0x3f622d(0x91c),'startTime':_0x516444?new Date(_0x516444)['toISOString']():null,'endTime':_0x590337?new Date(_0x590337)['toISOString']():null};}}try{await updateDoc(_0x243720,_0x2206ec),showMessage(_0x3f622d(0x5a3)),quizStatusModal[_0x3f622d(0x20d)]['add'](_0x3f622d(0x5cf)),actionTargetId=null;}catch(_0x1049f9){console[_0x3f622d(0x33a)](_0x3f622d(0x35b),_0x1049f9),showMessage(_0x3f622d(0x4ec));}}function listenForStudentProfiles(_0x427cc4){const _0x5e1621=_0x56a724,_0x4e473d=collection(db,'artifacts/'+appId+_0x5e1621(0x1d4)+_0x427cc4+_0x5e1621(0x7f1));unsubscribeStudentProfilesListener=onSnapshot(_0x4e473d,_0x342c10=>{const _0x5c59da=_0x5e1621,_0x40f539=_0x342c10[_0x5c59da(0x465)][_0x5c59da(0xbf)](_0x1cee12=>_0x1cee12[_0x5c59da(0x2fb)]());renderLeaderboard(_0x40f539,_0x5c59da(0x67d));},_0x263d8e=>{const _0x4d9d94=_0x5e1621;console[_0x4d9d94(0x33a)](_0x4d9d94(0x552),_0x263d8e),document[_0x4d9d94(0x5a0)](_0x4d9d94(0x67d))[_0x4d9d94(0x65a)]=_0x4d9d94(0x43c);});}function renderLeaderboard(_0x5c880f,_0x43eba1){const _0x4514b8=_0x56a724,_0x2b7952=document[_0x4514b8(0x5a0)](_0x43eba1);if(!_0x5c880f||_0x5c880f[_0x4514b8(0x2fd)]===0x0){_0x2b7952[_0x4514b8(0x65a)]=_0x4514b8(0x8b7);return;}_0x5c880f[_0x4514b8(0x905)]((_0x58aff9,_0x507977)=>{const _0x59bff9=_0x4514b8,_0x488a57=(_0x507977[_0x59bff9(0x950)]||0x0)-(_0x58aff9[_0x59bff9(0x950)]||0x0);if(_0x488a57!==0x0)return _0x488a57;const _0x26e1e5=(_0x507977[_0x59bff9(0x737)]?.[_0x59bff9(0x128)]||0x0)-(_0x58aff9[_0x59bff9(0x737)]?.['specialist']||0x0);if(_0x26e1e5!==0x0)return _0x26e1e5;const _0xc87508=(_0x507977[_0x59bff9(0x737)]?.[_0x59bff9(0x163)]||0x0)-(_0x58aff9[_0x59bff9(0x737)]?.[_0x59bff9(0x163)]||0x0);if(_0xc87508!==0x0)return _0xc87508;const _0xb533df=(_0x507977['badgesCount']?.[_0x59bff9(0x368)]||0x0)-(_0x58aff9[_0x59bff9(0x737)]?.[_0x59bff9(0x368)]||0x0);if(_0xb533df!==0x0)return _0xb533df;const _0x579810=(_0x507977[_0x59bff9(0x737)]?.[_0x59bff9(0x9de)]||0x0)-(_0x58aff9[_0x59bff9(0x737)]?.['quick_thinker']||0x0);if(_0x579810!==0x0)return _0x579810;return _0x58aff9[_0x59bff9(0x6d5)][_0x59bff9(0xc7)](_0x507977[_0x59bff9(0x6d5)],'th');});let _0x101328='';_0x5c880f[_0x4514b8(0x573)]((_0x1088b3,_0x12d53f)=>{const _0x53ce89=_0x4514b8,_0x489b57=_0x12d53f+0x1,_0x4472f3=_0x1088b3['badgesCount']||{};let _0x5a4605='';const _0x2e5db3=[_0x53ce89(0x128),_0x53ce89(0x368),_0x53ce89(0x163),_0x53ce89(0x9de)];_0x2e5db3['forEach'](_0x2dfb72=>{const _0xebf376=_0x53ce89;if(_0x4472f3[_0x2dfb72]>0x0){const _0xf225c9=Object[_0xebf376(0x7d9)](BADGES)[_0xebf376(0xcc)](_0x2f6c7f=>_0x2f6c7f['id']===_0x2dfb72);_0xf225c9&&(_0x2dfb72===_0xebf376(0x128)?_0x5a4605+=_0xebf376(0x6ee)+_0xf225c9[_0xebf376(0x1f8)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0xf225c9['icon']+_0xebf376(0x49a):_0x5a4605+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0xf225c9[_0xebf376(0x1f8)]+'\x20('+_0x4472f3[_0x2dfb72]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0xf225c9[_0xebf376(0x5e2)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x4472f3[_0x2dfb72]+_0xebf376(0x691));}}),_0x101328+=_0x53ce89(0x8fb)+_0x489b57+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1088b3[_0x53ce89(0x6d5)]+_0x53ce89(0x485)+(_0x1088b3['totalPoints']||0x0)+_0x53ce89(0x5d0)+(_0x5a4605||'-')+_0x53ce89(0x989);}),_0x2b7952['innerHTML']=_0x101328;}function displayLoopScreen(_0x1bc9f5,_0x522714,_0x16f998){const _0xfce0f5=_0x56a724;let _0x17d5d7='';_0x16f998!==_0xfce0f5(0x6ba)&&(_0x17d5d7=_0xfce0f5(0x509)+_0x1bc9f5+_0xfce0f5(0x747)+_0x522714+_0xfce0f5(0x5b5));const _0x15a79a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17d5d7+_0xfce0f5(0x783);studentResultArea[_0xfce0f5(0x65a)]=_0x15a79a,studentResultArea[_0xfce0f5(0x20d)]['remove'](_0xfce0f5(0x5cf)),studentQuizArea[_0xfce0f5(0x20d)]['add'](_0xfce0f5(0x5cf)),document['getElementById']('retake-quiz-loop-btn')[_0xfce0f5(0x86b)](_0xfce0f5(0x12e),()=>{const _0x5186a5=_0xfce0f5;studentResultArea[_0x5186a5(0x20d)][_0x5186a5(0x8cb)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4f626d,_0x19019b,_0x2421c0){const _0x326ffb=_0x56a724,_0x22ef3d=document['getElementById'](_0x2421c0),_0x3102dc=_0x2421c0===_0x326ffb(0x8c4),_0xbbfcc4=_0x19019b[_0x326ffb(0x528)][_0x326ffb(0x2fd)],_0x4ea30f=document[_0x326ffb(0x5a0)](_0x2421c0)[_0x326ffb(0x5dd)](_0x326ffb(0x919));if(_0x4ea30f&&!_0x3102dc){const _0x8b6b1c=_0x4ea30f[_0x326ffb(0x4aa)](_0x326ffb(0xb3));_0x8b6b1c['innerHTML']=_0x326ffb(0x5d9);}if(!_0x4f626d||_0x4f626d[_0x326ffb(0x2fd)]===0x0){_0x22ef3d[_0x326ffb(0x65a)]='<tr><td\x20colspan=\x22'+(_0x3102dc?0x6:0x8)+_0x326ffb(0x600);return;}const _0x5aaf85=[..._0x4f626d];_0x5aaf85['sort']((_0x557587,_0xc82f1)=>{const _0x20f199=_0x326ffb;let _0x5a1b83,_0x354ebc;switch(quizLeaderboardSortBy){case'studentName':_0x5a1b83=_0x557587[_0x20f199(0x6d5)]||'',_0x354ebc=_0xc82f1[_0x20f199(0x6d5)]||'';return quizLeaderboardSortOrder===_0x20f199(0x347)?_0x5a1b83['localeCompare'](_0x354ebc,'th'):_0x354ebc[_0x20f199(0xc7)](_0x5a1b83,'th');case'points':_0x5a1b83=_0x557587[_0x20f199(0x985)]||0x0,_0x354ebc=_0xc82f1[_0x20f199(0x985)]||0x0;break;case _0x20f199(0x6a8):_0x5a1b83=_0x557587[_0x20f199(0x6a8)]?.[_0x20f199(0x2fd)]||0x1,_0x354ebc=_0xc82f1[_0x20f199(0x6a8)]?.[_0x20f199(0x2fd)]||0x1;break;case _0x20f199(0x1c9):_0x5a1b83=new Date(_0x557587['latestSubmittedAt']),_0x354ebc=new Date(_0xc82f1[_0x20f199(0x1c9)]);break;case _0x20f199(0x37b):default:_0x5a1b83=_0x557587[_0x20f199(0x37b)],_0x354ebc=_0xc82f1[_0x20f199(0x37b)];break;}if(_0x5a1b83<_0x354ebc)return quizLeaderboardSortOrder===_0x20f199(0x347)?-0x1:0x1;if(_0x5a1b83>_0x354ebc)return quizLeaderboardSortOrder===_0x20f199(0x347)?0x1:-0x1;return 0x0;});const _0x1c8173=_0x19019b[_0x326ffb(0x88c)]===!![],_0x4b4854=_0x19019b[_0x326ffb(0x681)]?.['passingScore']??-0x1;let _0x3e9f68='';_0x5aaf85['forEach']((_0x5a29cd,_0x5d23aa)=>{const _0x12f075=_0x326ffb,_0x12044c=_0x5d23aa+0x1;let _0x244722='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x1c8173||_0x4b4854!==-0x1){let _0xd3d101=_0x1c8173?_0x5a29cd['bestScore']===_0xbbfcc4:_0x5a29cd[_0x12f075(0x37b)]>=_0x4b4854;const _0x1ac525=_0xd3d101?'bg-green-100\x20text-green-800':_0x12f075(0x5ea),_0x38cca5=_0xd3d101?_0x12f075(0x69d):'ไม่ผ่าน';_0x244722=_0x12f075(0xef)+_0x1ac525+'\x22>'+_0x38cca5+_0x12f075(0x8eb);}const _0xdbe9d0=_0x5a29cd[_0x12f075(0x6a8)][_0x5a29cd['attempts'][_0x12f075(0x2fd)]-0x1],_0x21e480=(_0xdbe9d0[_0x12f075(0x5c7)]||[])['map'](_0x5b87c4=>{const _0x8f11b1=_0x12f075,_0x413879=Object[_0x8f11b1(0x7d9)](BADGES)['find'](_0x3a8e43=>_0x3a8e43['id']===_0x5b87c4);return _0x413879?'<span\x20title=\x22'+_0x413879[_0x8f11b1(0x1f8)]+_0x8f11b1(0x763)+_0x413879[_0x8f11b1(0x5e2)]+_0x8f11b1(0xf5):'';})[_0x12f075(0x13f)]('');_0x3e9f68+=_0x12f075(0x469)+_0x12044c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5a29cd[_0x12f075(0x6d5)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x5a29cd[_0x12f075(0x37b)]+_0x12f075(0x747)+_0xbbfcc4+_0x12f075(0x1a2)+_0x244722+_0x12f075(0x2e3)+(_0x5a29cd[_0x12f075(0x985)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3102dc?'':_0x12f075(0x2e8)+(_0x5a29cd[_0x12f075(0x6a8)]?.[_0x12f075(0x2fd)]||0x1)+_0x12f075(0x5b0))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3102dc?'':_0x12f075(0x48c)+new Date(_0x5a29cd['latestSubmittedAt'])[_0x12f075(0x165)](_0x12f075(0x9b2))+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x21e480||'-')+_0x12f075(0x981);}),_0x22ef3d[_0x326ffb(0x65a)]=_0x3e9f68,_0x4ea30f&&!_0x3102dc&&_0x4ea30f[_0x326ffb(0x81b)](_0x326ffb(0x17f))[_0x326ffb(0x573)](_0x69e584=>{const _0x110783=_0x326ffb,_0x4529ad=_0x69e584[_0x110783(0x4aa)](_0x110783(0x7c4));if(_0x4529ad)_0x4529ad[_0x110783(0x1cf)]();_0x69e584[_0x110783(0x513)]['sort']===quizLeaderboardSortBy&&(_0x69e584[_0x110783(0x65a)]+=_0x110783(0x536)+(quizLeaderboardSortOrder===_0x110783(0x347)?'▲':'▼')+_0x110783(0x8c7));});}async function handleDeleteSubmission(_0x38f889){const _0x4f27e2=_0x56a724;if(!currentQuizData||!currentQuizData['id']||!_0x38f889){showMessage(_0x4f27e2(0x198));return;}showConfirmation(_0x4f27e2(0x28c)+_0x38f889+_0x4f27e2(0x959),async()=>{const _0x5ad1c3=_0x4f27e2,_0x27eb7a=currentQuizData['id'],_0x438cc7=doc(db,_0x5ad1c3(0x4e3)+appId+_0x5ad1c3(0x395)+_0x27eb7a+_0x5ad1c3(0x874),_0x38f889);try{await deleteDoc(_0x438cc7),showMessage(_0x5ad1c3(0x353)+_0x38f889+_0x5ad1c3(0x41e));}catch(_0x534b5f){console[_0x5ad1c3(0x33a)](_0x5ad1c3(0x320),_0x534b5f),showMessage(_0x5ad1c3(0x9bd));}});}async function handleLoadQuiz(){const _0x187fd2=_0x56a724,_0x506a1f=document['getElementById'](_0x187fd2(0x1f1)),_0x16b7c1=_0x506a1f[_0x187fd2(0x8f1)][_0x187fd2(0x3fa)]();if(!_0x16b7c1){showMessage(_0x187fd2(0x6b6));return;}loadQuizBtn[_0x187fd2(0x2df)]=!![],loadQuizBtn[_0x187fd2(0x65a)]=_0x187fd2(0x664);try{const _0x32d465=doc(db,_0x187fd2(0x4e3)+appId+_0x187fd2(0x73b),_0x16b7c1),_0x1ce39b=await getDoc(_0x32d465);if(!_0x1ce39b['exists']()){showMessage(_0x187fd2(0x4a5));return;}currentQuizData={'id':_0x1ce39b['id'],..._0x1ce39b['data']()};const _0x2d5cd6=currentQuizData[_0x187fd2(0x992)]||_0x187fd2(0x742),_0x2fd4b4=new Date();if(_0x2d5cd6==='inactive'){showMessage(_0x187fd2(0x79e));return;}if(_0x2d5cd6===_0x187fd2(0x91c)){const _0x22ec16=currentQuizData[_0x187fd2(0x53f)]?new Date(currentQuizData[_0x187fd2(0x53f)]):null,_0x4e5abf=currentQuizData['endTime']?new Date(currentQuizData[_0x187fd2(0x601)]):null;if(_0x22ec16&&_0x2fd4b4<_0x22ec16){showMessage(_0x187fd2(0x87e)+_0x22ec16[_0x187fd2(0x165)](_0x187fd2(0x9b2),{'hour12':![]}));return;}if(_0x4e5abf&&_0x2fd4b4>_0x4e5abf){showMessage(_0x187fd2(0x2c2));return;}}const _0xefe533=currentQuizData[_0x187fd2(0x6ab)];currentProjectId=_0xefe533;const _0x428ee9=doc(db,_0x187fd2(0x4e3)+appId+_0x187fd2(0x3b0),_0xefe533),_0x2a3df6=await getDoc(_0x428ee9);if(!_0x2a3df6[_0x187fd2(0x14e)]()){showMessage(_0x187fd2(0x4f4));return;}const _0x4da819=_0x2a3df6[_0x187fd2(0x2fb)]();currentStudentProjectData=_0x4da819,displayStudentNameSelector(_0x4da819[_0x187fd2(0x75c)],currentQuizData[_0x187fd2(0x58e)]);}catch(_0x4f44a7){console[_0x187fd2(0x33a)]('Error\x20loading\x20quiz\x20for\x20student:',_0x4f44a7),showMessage(_0x187fd2(0x6f2));}finally{loadQuizBtn[_0x187fd2(0x2df)]=![],loadQuizBtn[_0x187fd2(0x65a)]=_0x187fd2(0x5c5);}}async function handleJoinLiveGame(){const _0x3dba49=_0x56a724,_0x17b024=document[_0x3dba49(0x5a0)](_0x3dba49(0x615)),_0x51f477=document['getElementById'](_0x3dba49(0x61d)),_0x16ac49=document['getElementById']('confirm-join-game-btn'),_0x468ec5=_0x17b024['value'][_0x3dba49(0x3fa)](),_0x178757=_0x51f477[_0x3dba49(0x8f1)][_0x3dba49(0x3fa)]();if(!_0x468ec5||!_0x178757){showMessage(_0x3dba49(0x9a2));return;}_0x16ac49[_0x3dba49(0x2df)]=!![],_0x16ac49[_0x3dba49(0x65a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0x1faf85=collection(db,_0x3dba49(0x4e3)+appId+_0x3dba49(0x826)),_0x33cb23=query(_0x1faf85,where('gamePin','==',_0x468ec5),where('status','in',['lobby',_0x3dba49(0x697)])),_0x3ebc1a=await getDocs(_0x33cb23);if(_0x3ebc1a[_0x3dba49(0x3f7)]){showMessage(_0x3dba49(0x4de));return;}const _0x4b69a6=_0x3ebc1a[_0x3dba49(0x465)][0x0],_0x17523a=_0x4b69a6[_0x3dba49(0x2fb)]();currentLiveGameId=_0x4b69a6['id'];const _0x355d5b=_0x17523a[_0x3dba49(0x9a5)],_0x545c14=doc(db,_0x3dba49(0x4e3)+appId+_0x3dba49(0x73b),_0x355d5b),_0x1c175e=await getDoc(_0x545c14);if(!_0x1c175e[_0x3dba49(0x14e)]()){showMessage(_0x3dba49(0x2a6));return;}currentQuizData={'id':_0x1c175e['id'],..._0x1c175e[_0x3dba49(0x2fb)]()};if(_0x17523a[_0x3dba49(0x125)]&&_0x17523a[_0x3dba49(0x125)][_0x178757]){const _0x100a7f=_0x17523a['players'][_0x178757];if(_0x100a7f[_0x3dba49(0x992)]===_0x3dba49(0x7ba)){_0x16ac49[_0x3dba49(0x65a)]=_0x3dba49(0x76e);const _0x4c860c={};_0x4c860c['players.'+_0x178757+'.status']='active',await updateDoc(doc(db,_0x3dba49(0x4e3)+appId+_0x3dba49(0x826),currentLiveGameId),_0x4c860c),showView('live-game'),currentStudentName=_0x178757,listenForLiveGameUpdates();return;}else{showMessage(_0x3dba49(0x47a));return;}}if(_0x17523a['status']!==_0x3dba49(0x1ff)){showMessage(_0x3dba49(0x1e1));return;}_0x16ac49[_0x3dba49(0x65a)]=_0x3dba49(0x98a);const _0x57db2d={};_0x57db2d[_0x3dba49(0x270)+_0x178757]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x3dba49(0x742)},await updateDoc(doc(db,_0x3dba49(0x4e3)+appId+_0x3dba49(0x826),currentLiveGameId),_0x57db2d),currentStudentName=_0x178757,listenForLiveGameUpdates();}catch(_0x56cd36){console[_0x3dba49(0x33a)]('Error\x20joining\x20live\x20game:',_0x56cd36),showMessage(_0x3dba49(0x520));}finally{_0x16ac49[_0x3dba49(0x2df)]=![],_0x16ac49[_0x3dba49(0x65a)]=_0x3dba49(0x2a5);}}function displayStudentNameSelector(_0x244344,_0x21c01c){const _0xbbfea4=_0x56a724,_0x147a8c=document[_0xbbfea4(0x5a0)](_0xbbfea4(0x5b9));document[_0xbbfea4(0x5a0)]('student-quiz-topic')[_0xbbfea4(0x83f)]='แบบทดสอบ:\x20'+_0x21c01c,!_0x244344||_0x244344[_0xbbfea4(0x2fd)]===0x0?(_0x147a8c[_0xbbfea4(0x65a)]=_0xbbfea4(0x333),startQuizBtn[_0xbbfea4(0x2df)]=!![]):(_0x147a8c[_0xbbfea4(0x65a)]=_0xbbfea4(0x491),_0x244344[_0xbbfea4(0x573)](_0x1fa430=>{const _0x58d316=_0xbbfea4,_0x365c86=document['createElement']('option');_0x365c86['value']=_0x1fa430,_0x365c86[_0x58d316(0x83f)]=_0x1fa430,_0x147a8c['appendChild'](_0x365c86);}),startQuizBtn[_0xbbfea4(0x2df)]=![]),studentInitialView[_0xbbfea4(0x20d)]['add'](_0xbbfea4(0x5cf)),studentNameSelectionView['classList']['remove'](_0xbbfea4(0x5cf));}function shuffleArray(_0x26a64c){const _0xc42865=_0x56a724;for(let _0x2ac0f2=_0x26a64c[_0xc42865(0x2fd)]-0x1;_0x2ac0f2>0x0;_0x2ac0f2--){const _0x189888=Math['floor'](Math[_0xc42865(0x95a)]()*(_0x2ac0f2+0x1));[_0x26a64c[_0x2ac0f2],_0x26a64c[_0x189888]]=[_0x26a64c[_0x189888],_0x26a64c[_0x2ac0f2]];}}function getShuffledQuiz(_0x15f7c0){const _0x188e43=_0x56a724;let _0x39d988=JSON[_0x188e43(0x9cd)](JSON[_0x188e43(0x5f1)](_0x15f7c0));const _0xc19e0c=_0x39d988[_0x188e43(0x681)]?.[_0x188e43(0x918)]||_0x188e43(0x9bc);if(_0xc19e0c==='none')return _0x39d988;return(_0xc19e0c===_0x188e43(0x9d9)||_0xc19e0c===_0x188e43(0x885))&&shuffleArray(_0x39d988[_0x188e43(0x528)]),(_0xc19e0c===_0x188e43(0x4f1)||_0xc19e0c===_0x188e43(0x885))&&_0x39d988[_0x188e43(0x528)][_0x188e43(0x573)](_0x35cc84=>{const _0x46ce8d=_0x188e43,_0x5d1afa=_0x35cc84[_0x46ce8d(0x45e)]||_0x39d988['quizType'];if(_0x35cc84[_0x46ce8d(0xbd)]){let _0x463c84=_0x35cc84[_0x46ce8d(0xbd)][_0x46ce8d(0xbf)]((_0x1e1b77,_0x12cfff)=>({'text':_0x1e1b77,'isCorrect':_0x12cfff===_0x35cc84[_0x46ce8d(0x3d2)]}));shuffleArray(_0x463c84),_0x35cc84['options']=_0x463c84[_0x46ce8d(0xbf)](_0x40e633=>_0x40e633[_0x46ce8d(0x708)]),_0x35cc84[_0x46ce8d(0x3d2)]=_0x463c84[_0x46ce8d(0x6bb)](_0x4ac38f=>_0x4ac38f[_0x46ce8d(0x29a)]);}_0x5d1afa===_0x46ce8d(0x85b)&&_0x35cc84[_0x46ce8d(0x5fd)]&&shuffleArray(_0x35cc84['allResponses']);}),_0x39d988;}function displayQuizForStudent(_0x2773a3){const _0x353af0=_0x56a724;studentQuizArea[_0x353af0(0x20d)][_0x353af0(0x1cf)](_0x353af0(0x5cf)),currentDisplayedQuiz=getShuffledQuiz(_0x2773a3);currentMode!==_0x353af0(0x265)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x353af0(0x86b)](_0x353af0(0x61c),handleFullscreenChange),document[_0x353af0(0x86b)](_0x353af0(0x6c1),handleVisibilityChange),enterFullscreen(),window[_0x353af0(0x86b)](_0x353af0(0x2cc),resetDimTimer),window['addEventListener']('mousedown',resetDimTimer),window[_0x353af0(0x86b)](_0x353af0(0x147),resetDimTimer),window['addEventListener'](_0x353af0(0x4db),resetDimTimer),resetDimTimer());const _0x53c89b=currentDisplayedQuiz[_0x353af0(0x681)]?.['timerMode']||_0x353af0(0x9bc);if(_0x53c89b==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x353af0(0x159)]);else _0x53c89b===_0x353af0(0x574)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x12795e=_0x56a724,_0x5aed15=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![],_0x406b83=currentDisplayedQuiz[_0x12795e(0x681)]?.[_0x12795e(0x897)]||'checkbox';let _0x3f9258=_0x12795e(0x4a8)+currentDisplayedQuiz[_0x12795e(0x58e)]+_0x12795e(0x122)+(currentMode==='admin-testing'?_0x12795e(0x4c8):'')+_0x12795e(0x6a0);currentDisplayedQuiz[_0x12795e(0x528)][_0x12795e(0x573)]((_0x316274,_0x2abfb4)=>{const _0x891a2c=_0x12795e,_0x3b99b8=_0x316274['questionType']||currentDisplayedQuiz['quizType'];_0x3f9258+=_0x891a2c(0x1b6);if(_0x3b99b8===_0x891a2c(0x85b)){}else _0x3f9258+='<p>'+(_0x2abfb4+0x1)+'.\x20'+(_0x316274[_0x891a2c(0x3ab)]||_0x316274[_0x891a2c(0x417)])+_0x891a2c(0x8d8),_0x316274[_0x891a2c(0x223)]&&(_0x3f9258+=_0x891a2c(0x2f3)+_0x316274['imageCode']+'</div>');_0x3f9258+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x3b99b8){case _0x891a2c(0x341):_0x3f9258+=_0x891a2c(0x5ba)+_0x2abfb4+_0x891a2c(0x9a8);break;case'true_false':_0x3f9258+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x2abfb4+'_opt0\x22\x20name=\x22question'+_0x2abfb4+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x2abfb4+_0x891a2c(0x32c),_0x3f9258+=_0x891a2c(0x832)+_0x2abfb4+_0x891a2c(0x799)+_0x2abfb4+_0x891a2c(0x6a4)+_0x2abfb4+_0x891a2c(0x77);break;case _0x891a2c(0x85b):_0x3f9258+=_0x891a2c(0x19c)+_0x316274[_0x891a2c(0x55a)]+_0x891a2c(0x75b)+_0x2abfb4+_0x891a2c(0x6de)+_0x316274[_0x891a2c(0x5fd)]['map'](_0x137592=>'<option\x20value=\x22'+_0x137592+'\x22>'+_0x137592+_0x891a2c(0x7d4))['join']('')+_0x891a2c(0x9b9);break;default:_0x3f9258+=_0x316274[_0x891a2c(0xbd)][_0x891a2c(0xbf)]((_0x3f6963,_0x4a5aa8)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x2abfb4+_0x891a2c(0x70b)+_0x4a5aa8+_0x891a2c(0x9cb)+_0x2abfb4+'\x22\x20value=\x22'+_0x4a5aa8+_0x891a2c(0x794)+_0x2abfb4+_0x891a2c(0x70b)+_0x4a5aa8+'\x22>'+_0x3f6963+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x891a2c(0x13f)]('');break;}_0x3f9258+=_0x891a2c(0x5bd),_0x5aed15&&(_0x3f9258+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x406b83===_0x891a2c(0x337)?_0x3f9258+=_0x891a2c(0x338)+_0x2abfb4+'\x22\x20name=\x22confidence'+_0x2abfb4+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x2abfb4+_0x891a2c(0x336)+_0x2abfb4+_0x891a2c(0x43a):_0x3f9258+=_0x891a2c(0x88a)+_0x2abfb4+_0x891a2c(0x452)+_0x2abfb4+_0x891a2c(0x229)+_0x2abfb4+_0x891a2c(0x563),_0x3f9258+='</div>'),_0x3f9258+=_0x891a2c(0x5bd);}),_0x3f9258+=_0x12795e(0x7e2),_0x3f9258+=_0x12795e(0x180),studentQuizArea['innerHTML']=_0x3f9258;if(currentMode===_0x12795e(0x265)){const _0x50862f=document[_0x12795e(0x5a0)](_0x12795e(0xd3));if(_0x50862f)_0x50862f['addEventListener'](_0x12795e(0x12e),cancelAdminTest);}const _0x4a3cdd=document[_0x12795e(0x5a0)](_0x12795e(0x1fb));_0x4a3cdd&&(_0x4a3cdd[_0x12795e(0x86b)](_0x12795e(0x830),handleSubmitQuiz),_0x4a3cdd['addEventListener'](_0x12795e(0x12e),_0x1236e6=>{const _0x19e0a6=_0x12795e;if(_0x1236e6[_0x19e0a6(0x6e2)]['classList'][_0x19e0a6(0x9e0)](_0x19e0a6(0x8b0))){const _0x163cfc=_0x1236e6[_0x19e0a6(0x6e2)],_0x378c2a=_0x163cfc[_0x19e0a6(0x513)][_0x19e0a6(0x459)],_0x37785b=_0x163cfc[_0x19e0a6(0x513)][_0x19e0a6(0x8f1)];document[_0x19e0a6(0x5a0)](_0x19e0a6(0x40b)+_0x378c2a)[_0x19e0a6(0x8f1)]=_0x37785b;const _0x5d26e9=_0x163cfc['parentElement'];_0x5d26e9['querySelectorAll'](_0x19e0a6(0x2bd))[_0x19e0a6(0x573)](_0x33b9fb=>_0x33b9fb[_0x19e0a6(0x20d)][_0x19e0a6(0x1cf)]('active')),_0x163cfc[_0x19e0a6(0x20d)][_0x19e0a6(0x8cb)](_0x19e0a6(0x742));}}));if(window[_0x12795e(0x7d2)])window['MathJax'][_0x12795e(0x66b)]([studentQuizArea]);}async function handleSubmitQuiz(_0x3d715e){const _0x5e374a=_0x56a724;if(_0x3d715e)_0x3d715e['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x2638b9=document[_0x5e374a(0x5a0)](_0x5e374a(0x1fb));if(!_0x2638b9)return;const _0x41fea2=currentDisplayedQuiz['settings']?.[_0x5e374a(0x738)]===!![],_0x2b5891=currentDisplayedQuiz[_0x5e374a(0x681)]?.[_0x5e374a(0x897)]||'checkbox';if(_0x41fea2&&_0x2b5891==='mandatory'){let _0x44f28b=!![];for(let _0x1611df=0x0;_0x1611df<currentDisplayedQuiz[_0x5e374a(0x528)][_0x5e374a(0x2fd)];_0x1611df++){const _0x105ff1=_0x2638b9[_0x5e374a(0x4aa)]('#confidence-input-'+_0x1611df);if(!_0x105ff1||_0x105ff1['value']===''){_0x44f28b=![];break;}}if(!_0x44f28b){showMessage(_0x5e374a(0x1bf));return;}}const _0x26e16f=_0x2638b9[_0x5e374a(0x4aa)]('button[type=\x22submit\x22]'),_0x3da4f9=currentDisplayedQuiz[_0x5e374a(0x528)][_0x5e374a(0x68a)](_0x379318=>_0x379318['questionType']===_0x5e374a(0x341));_0x26e16f&&(_0x26e16f[_0x5e374a(0x2df)]=!![],_0x26e16f[_0x5e374a(0x65a)]=_0x3da4f9?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x5e374a(0x3a5));const _0x508c7e=new FormData(_0x2638b9),_0x32550f=currentDisplayedQuiz[_0x5e374a(0x528)]['map']((_0x2ca7f1,_0x308d7d)=>{const _0x3ccbc7=_0x5e374a,_0x46d1f6=_0x508c7e[_0x3ccbc7(0x21a)]('question'+_0x308d7d);let _0x48ffa9;_0x2b5891===_0x3ccbc7(0x337)?_0x48ffa9=_0x508c7e['get']('confidence'+_0x308d7d):_0x48ffa9=_0x508c7e[_0x3ccbc7(0x21a)]('confidence'+_0x308d7d)==='on';let _0xff76ec=null;if(_0x46d1f6!==null&&_0x46d1f6!==undefined){const _0x4f5226=_0x2ca7f1[_0x3ccbc7(0x45e)]||currentDisplayedQuiz['quizType'];_0x4f5226===_0x3ccbc7(0x420)||_0x4f5226===_0x3ccbc7(0x635)?_0xff76ec=parseInt(_0x46d1f6):_0xff76ec=_0x46d1f6;}return{'answer':_0xff76ec,'wasConfident':_0x48ffa9};}),_0x5a07af=currentQuizData['id'],_0x3a2398=doc(db,'artifacts/'+appId+_0x5e374a(0x395)+_0x5a07af+_0x5e374a(0x874),currentStudentName),_0x126201=await getDoc(_0x3a2398),_0x16852d=_0x126201[_0x5e374a(0x14e)]()?_0x126201['data']():{},_0x28c536=_0x16852d[_0x5e374a(0x6a8)]||[];await processAndSubmitAnswers(_0x32550f,_0x28c536);}async function gradeShortAnswerWithAI(_0x38eb1b,_0x21807f){const _0x4099fc=_0x56a724;if(!_0x38eb1b||!_0x21807f)return![];try{const _0xbdabc2=_0x4099fc(0x83b)+_0x38eb1b+_0x4099fc(0x40a)+_0x21807f+_0x4099fc(0x3ec),_0x516afe={'contents':[{'role':_0x4099fc(0x3c4),'parts':[{'text':_0xbdabc2}]}]},_0x4092b9=_0x4099fc(0x625),_0x554d2a=_0x4099fc(0x82a)+_0x4092b9,_0x389d53=await fetch(_0x554d2a,{'method':_0x4099fc(0x849),'headers':{'Content-Type':_0x4099fc(0x31f)},'body':JSON[_0x4099fc(0x5f1)](_0x516afe)});if(!_0x389d53['ok'])throw new Error(_0x4099fc(0x55f));const _0x4d95c6=await _0x389d53['json'](),_0x221da2=_0x4d95c6[_0x4099fc(0x287)][0x0][_0x4099fc(0x58d)][_0x4099fc(0x6e3)][0x0][_0x4099fc(0x708)][_0x4099fc(0x3fa)]()[_0x4099fc(0x527)]();return _0x221da2===_0x4099fc(0x25a);}catch(_0x114f6f){return console[_0x4099fc(0x33a)]('AI\x20grading\x20failed:',_0x114f6f),![];}}async function processAndSubmitAnswers(_0x566589,_0x2a0da8){const _0x5a5343=_0x56a724;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x5a5343(0x6e7)](_0x5a5343(0x61c),handleFullscreenChange),document[_0x5a5343(0x6e7)](_0x5a5343(0x6c1),handleVisibilityChange);let _0x10571f=0x0;const _0xa61a47=[],_0x3e3b65=currentDisplayedQuiz[_0x5a5343(0x528)][_0x5a5343(0x2fd)];let _0x3e12f8=0x0,_0x825a5a=[];const _0x2acb94=currentDisplayedQuiz[_0x5a5343(0x528)];for(let _0x396555=0x0;_0x396555<_0x2acb94[_0x5a5343(0x2fd)];_0x396555++){const _0x768642=_0x2acb94[_0x396555],_0x43065a=_0x566589[_0x396555],_0x436a90=_0x43065a?_0x43065a[_0x5a5343(0x995)]:null,_0x1686d8=_0x43065a?_0x43065a[_0x5a5343(0x82e)]:null;let _0x2c27f5=![],_0x5ac231=0x0;if(_0x436a90!==null&&_0x436a90!==''){const _0x3bb674=_0x768642[_0x5a5343(0x45e)]||currentDisplayedQuiz['quizType'];switch(_0x3bb674){case _0x5a5343(0x85b):_0x2c27f5=_0x436a90===_0x768642[_0x5a5343(0x93f)];break;case'true_false':const _0x3662e2=_0x436a90===!![]||_0x436a90==='true';_0x2c27f5=_0x3662e2===_0x768642['correctAnswer'];break;case _0x5a5343(0x341):_0x2c27f5=await gradeShortAnswer(_0x436a90,_0x768642);break;case _0x5a5343(0x420):default:_0x2c27f5=Number(_0x436a90)===_0x768642[_0x5a5343(0x3d2)];break;}}if(currentDisplayedQuiz[_0x5a5343(0x681)]?.[_0x5a5343(0x738)]){const _0x57cf99=_0x43065a?_0x43065a[_0x5a5343(0x82e)]:null;if(_0x2c27f5&&(_0x57cf99===!![]||_0x57cf99===_0x5a5343(0x69f)))_0x5ac231=0x2;else{if(_0x2c27f5)_0x5ac231=0x1;else{if(!_0x2c27f5&&(_0x57cf99===![]||_0x57cf99===_0x5a5343(0x56e)||_0x57cf99===null))_0x5ac231=0x0;else!_0x2c27f5&&(_0x57cf99===!![]||_0x57cf99===_0x5a5343(0x69f))&&(_0x5ac231=-0x1);}}}else _0x5ac231=_0x2c27f5?0x1:0x0;_0x10571f+=_0x5ac231;if(_0x2c27f5){_0x3e12f8++;if(_0x3e12f8===0x3)_0x825a5a['push'](BADGES[_0x5a5343(0x934)]['id']);}else _0x3e12f8=0x0;let _0x509067=null;_0x768642[_0x5a5343(0xbd)]&&_0x436a90!==null&&(_0x509067=_0x768642['options'][_0x436a90]),_0xa61a47[_0x5a5343(0x6ae)]({'questionId':_0x768642['id'],'answer':_0x436a90,'answerText':_0x509067,'isCorrect':_0x2c27f5,'wasConfident':_0x1686d8,'pointsAwarded':_0x5ac231,'originalQuestionText':_0x768642[_0x5a5343(0x55a)]||_0x768642[_0x5a5343(0x417)]});}const _0x9221f9=_0xa61a47['filter'](_0x58fe2f=>_0x58fe2f['isCorrect'])[_0x5a5343(0x2fd)],_0x510dc4=currentDisplayedQuiz[_0x5a5343(0x681)]?.['passingScore']??Math[_0x5a5343(0x917)](_0x3e3b65/0x2);_0x9221f9===_0x3e3b65&&_0x3e3b65>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x825a5a[_0x5a5343(0x6ae)](BADGES[_0x5a5343(0xe1)]['id']);const _0x66632=currentDisplayedQuiz['settings']?.[_0x5a5343(0x461)];if(_0x66632==='whole_quiz'&&quizStartTime){const _0x4b3c14=(new Date()-quizStartTime)/0x3e8,_0x865213=currentDisplayedQuiz[_0x5a5343(0x681)]['timerDuration']*0x3c;_0x9221f9>=_0x510dc4&&_0x4b3c14<_0x865213/0x2&&_0x825a5a['push'](BADGES['QUICK_THINKER']['id']);}_0x2a0da8[_0x5a5343(0x2fd)]===0x0&&_0x9221f9===_0x3e3b65&&_0x3e3b65>0x0&&_0x825a5a[_0x5a5343(0x6ae)](BADGES[_0x5a5343(0x390)]['id']);if(_0x2a0da8[_0x5a5343(0x2fd)]>0x0){const _0x14e0c2=_0x2a0da8[0x0][_0x5a5343(0x2cf)];if(_0x14e0c2<_0x510dc4&&_0x9221f9>=_0x510dc4){const _0xfc9cb8=_0x2a0da8[_0x5a5343(0x68a)](_0x541c97=>(_0x541c97['badges']||[])[_0x5a5343(0x5c1)](BADGES[_0x5a5343(0x15e)]['id']));!_0xfc9cb8&&_0x825a5a[_0x5a5343(0x6ae)](BADGES[_0x5a5343(0x15e)]['id']);}}_0x2a0da8[_0x5a5343(0x2fd)]===0x4&&_0x825a5a[_0x5a5343(0x6ae)](BADGES[_0x5a5343(0x379)]['id']);const _0x2f78ba=currentDisplayedQuiz[_0x5a5343(0x681)]['resultsDisplay'];if(currentMode===_0x5a5343(0x265)){handleResultDisplay(_0x2f78ba,_0x9221f9,_0x10571f,_0x825a5a,_0xa61a47,_0x3e3b65);return;}const _0x2228eb=currentQuizData['id'],_0x31ea8e=doc(db,_0x5a5343(0x4e3)+appId+_0x5a5343(0x395)+_0x2228eb+_0x5a5343(0x874),currentStudentName);try{const _0x152be1=[..._0x2a0da8],_0x2f2f49={'score':_0x9221f9,'points':_0x10571f,'badges':Array[_0x5a5343(0x4d1)](new Set(_0x825a5a)),'submittedAt':new Date()[_0x5a5343(0x357)](),'answers':_0xa61a47};_0x152be1['push'](_0x2f2f49);const _0x61aae3=_0x2a0da8['length']===0x0?_0x9221f9:_0x2a0da8[0x0][_0x5a5343(0x2cf)]||0x0,_0x214e7f=Math[_0x5a5343(0x505)](..._0x152be1[_0x5a5343(0xbf)](_0x4157d6=>_0x4157d6[_0x5a5343(0x2cf)]));await setDoc(_0x31ea8e,{'studentName':currentStudentName,'totalQuestions':_0x3e3b65,'attempts':_0x152be1,'firstScore':_0x61aae3,'bestScore':_0x214e7f,'latestScore':_0x9221f9,'points':_0x10571f,'latestSubmittedAt':_0x2f2f49['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x5a5343(0x6ab)],currentStudentName),handleResultDisplay(_0x2f78ba,_0x9221f9,_0x10571f,_0x825a5a,_0xa61a47,_0x3e3b65);}catch(_0x57c7a3){console['error'](_0x5a5343(0x8cc),_0x57c7a3),showMessage(_0x5a5343(0x98d));}}async function updateStudentProfile(_0x4fb87c,_0x525c77){const _0x4d20e8=_0x56a724,_0xfe2798=doc(db,_0x4d20e8(0x4e3)+appId+_0x4d20e8(0x1d4)+_0x4fb87c+_0x4d20e8(0x7f1),_0x525c77);try{const _0x5e6e3f=query(collection(db,'artifacts/'+appId+_0x4d20e8(0x73b)),where(_0x4d20e8(0x6ab),'==',_0x4fb87c)),_0x57281e=await getDocs(_0x5e6e3f),_0x26a0ca=new Map(_0x57281e['docs']['map'](_0x46f316=>[_0x46f316['id'],_0x46f316['data']()])),_0x5ca647=Array[_0x4d20e8(0x4d1)](_0x26a0ca['keys']());await runTransaction(db,async _0x19f196=>{const _0x306e89=_0x4d20e8;let _0x448d2b=0x0;const _0x57a869={};let _0x416191=!![],_0x2fd606=0x0,_0x4a9f15=0x0;for(const _0x16b71e of _0x5ca647){const _0x52764b=_0x26a0ca['get'](_0x16b71e),_0x4abd90=doc(db,_0x306e89(0x4e3)+appId+'/public/data/quizzes/'+_0x16b71e+_0x306e89(0x874),_0x525c77),_0x4de0b8=await _0x19f196[_0x306e89(0x21a)](_0x4abd90);if(_0x4de0b8['exists']()){const _0x3a7fd5=_0x4de0b8[_0x306e89(0x2fb)](),_0x34833e=_0x3a7fd5[_0x306e89(0x6a8)]||[];if(_0x34833e[_0x306e89(0x2fd)]>0x0){const _0x495fe1=_0x34833e[_0x306e89(0x73f)]((_0x1d8e5a,_0x35b0a1)=>{const _0xb2bc1c=_0x306e89;if(_0x35b0a1[_0xb2bc1c(0x2cf)]>_0x1d8e5a[_0xb2bc1c(0x2cf)])return _0x35b0a1;if(_0x35b0a1[_0xb2bc1c(0x2cf)]===_0x1d8e5a[_0xb2bc1c(0x2cf)])return(_0x35b0a1[_0xb2bc1c(0x985)]||0x0)>(_0x1d8e5a[_0xb2bc1c(0x985)]||0x0)?_0x35b0a1:_0x1d8e5a;return _0x1d8e5a;},{'score':-0x1,'points':-0x1});_0x495fe1[_0x306e89(0x2cf)]>-0x1&&(_0x448d2b+=_0x495fe1['points']||0x0,(_0x495fe1[_0x306e89(0x5c7)]||[])[_0x306e89(0x573)](_0x4546a1=>{_0x57a869[_0x4546a1]=(_0x57a869[_0x4546a1]||0x0)+0x1;}));}}if(_0x52764b['topic']!==_0x306e89(0x171)){_0x4a9f15++;if(_0x4de0b8[_0x306e89(0x14e)]()){_0x2fd606++;const _0x47bab0=_0x4de0b8[_0x306e89(0x2fb)]();_0x47bab0['bestScore']!==_0x47bab0[_0x306e89(0x212)]&&(_0x416191=![]);}else _0x416191=![];}}_0x4a9f15>0x0&&_0x2fd606===_0x4a9f15&&_0x416191?_0x57a869[_0x306e89(0x128)]=0x1:_0x57a869[_0x306e89(0x128)]=0x0,_0x19f196[_0x306e89(0x4fc)](_0xfe2798,{'studentName':_0x525c77,'totalPoints':_0x448d2b,'unlockedBadges':Object[_0x306e89(0x86c)](_0x57a869)['filter'](_0x48bd5c=>_0x57a869[_0x48bd5c]>0x0),'badgesCount':_0x57a869},{'merge':!![]});});}catch(_0x2f291d){console[_0x4d20e8(0x33a)](_0x4d20e8(0x98b),_0x2f291d),showMessage(_0x4d20e8(0x7c1));}}function startAdminTest(){const _0x1bf750=_0x56a724;if(!currentQuizData){showMessage(_0x1bf750(0x157));return;}let _0x1f15f2=JSON[_0x1bf750(0x9cd)](JSON[_0x1bf750(0x5f1)](currentQuizData));currentMode=_0x1bf750(0x265),currentStudentName=_0x1bf750(0x8d0),adminView[_0x1bf750(0x20d)]['add'](_0x1bf750(0x5cf)),studentView[_0x1bf750(0x20d)]['remove'](_0x1bf750(0x5cf)),studentInitialView[_0x1bf750(0x20d)]['add'](_0x1bf750(0x5cf)),studentNameSelectionView[_0x1bf750(0x20d)][_0x1bf750(0x8cb)](_0x1bf750(0x5cf)),studentResultArea[_0x1bf750(0x20d)][_0x1bf750(0x8cb)](_0x1bf750(0x5cf)),studentQuizArea[_0x1bf750(0x20d)][_0x1bf750(0x1cf)](_0x1bf750(0x5cf)),quizStartTime=new Date(),displayQuizForStudent(_0x1f15f2);}function handleResultDisplay(_0xf87fd2,_0x10f52a,_0x43512c,_0x5804b8,_0x1d7a89,_0x7595b5){const _0x390d98=_0x56a724;if(_0xf87fd2===_0x390d98(0x96a)){displaySubmissionConfirmation();return;}const _0x3ca726=currentDisplayedQuiz[_0x390d98(0x681)]?.[_0x390d98(0x4e7)]??Math[_0x390d98(0x917)](_0x7595b5/0x2),_0x1cdb6e=currentDisplayedQuiz['settings']?.[_0x390d98(0x1b3)]??![],_0x4b3566=currentDisplayedQuiz[_0x390d98(0x681)]?.[_0x390d98(0x2ec)]===!![],_0x4b83f8=_0x10f52a<_0x3ca726,_0x188640=_0xf87fd2===_0x390d98(0x66a)||_0xf87fd2===_0x390d98(0x108);if(_0x4b3566&&_0x4b83f8&&!_0x188640){_0xf87fd2==='show_results_and_answers'?displayResultsWithAnswers(_0x10f52a,_0x43512c,_0x5804b8,_0x1d7a89,_0x7595b5,!![]):displayLoopScreen(_0x10f52a,_0x7595b5,_0xf87fd2);return;}if(_0x1cdb6e&&_0x4b83f8){startAdaptiveFlow(_0x1d7a89,_0x10f52a,_0x7595b5);return;}switch(_0xf87fd2){case _0x390d98(0x8fc):displayResultsWithAnswers(_0x10f52a,_0x43512c,_0x5804b8,_0x1d7a89,_0x7595b5);break;case _0x390d98(0x272):displayResultsScoreOnly(_0x10f52a,_0x43512c,_0x5804b8,_0x7595b5);break;case _0x390d98(0x6ba):displayPassFailOnly(_0x10f52a,_0x7595b5);break;case _0x390d98(0x66a):displayHalfMarkResult(_0x10f52a,_0x7595b5);break;case _0x390d98(0x108):displayPerfectScoreResult(_0x10f52a,_0x7595b5);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x397029){const _0x505b69=_0x56a724;studentReadingArea[_0x505b69(0x65a)]=_0x505b69(0x19b);const _0x30d3a2=_0x505b69(0x5f3)+_0x397029+_0x505b69(0x23a)+simpleMathPrompt+_0x505b69(0x6d1),_0x83388a={'type':_0x505b69(0x3db),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x505b69(0x2ae),'items':{'type':_0x505b69(0x52f)}},'correctAnswerIndex':{'type':_0x505b69(0x166)},'explanation':{'type':_0x505b69(0x52f)}},'required':['questionText','options','correctAnswerIndex','explanation']},_0x10f930={'type':'OBJECT','properties':{'topic':{'type':_0x505b69(0x52f)},'questions':{'type':_0x505b69(0x2ae),'items':_0x83388a}},'required':[_0x505b69(0x58e),_0x505b69(0x528)]};try{const _0x38d62c=await callAnalysisApi(_0x30d3a2,_0x10f930);_0x38d62c[_0x505b69(0x88c)]=!![],studentReadingArea[_0x505b69(0x20d)]['add'](_0x505b69(0x5cf));const _0x27c32e={...currentDisplayedQuiz[_0x505b69(0x681)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x38d62c['settings']=_0x27c32e,displayQuizForStudent(_0x38d62c);}catch(_0x143898){console['error'](_0x505b69(0x36b),_0x143898),showMessage(_0x505b69(0x5b7)),showView(_0x505b69(0x740));}}function displayPassFailOnly(_0x31e54b,_0x2dbc9d){const _0x5dec64=_0x56a724,_0x1fc3a0=currentDisplayedQuiz[_0x5dec64(0x681)]?.[_0x5dec64(0x4e7)]??-0x1,_0x441a05=currentDisplayedQuiz['isRemedial']===!![];let _0x5566b1='',_0x3c07ec=![];if(_0x441a05||_0x1fc3a0!==-0x1){_0x3c07ec=_0x441a05?_0x31e54b===_0x2dbc9d:_0x31e54b>=_0x1fc3a0;const _0x38b3bc=_0x3c07ec?_0x5dec64(0x438):_0x5dec64(0x5ea),_0x34d94f=_0x3c07ec?'ผ่าน':_0x5dec64(0x162);_0x5566b1=_0x5dec64(0x7d)+_0x38b3bc+'\x22>'+_0x34d94f+'</span></div>';}else _0x5566b1=_0x5dec64(0x7a9);let _0x2e7510=_0x5dec64(0x137)+currentStudentName+_0x5dec64(0x7a6)+_0x5566b1+_0x5dec64(0x1bb);studentResultArea[_0x5dec64(0x65a)]=_0x2e7510,studentResultArea[_0x5dec64(0x20d)]['remove'](_0x5dec64(0x5cf)),studentQuizArea[_0x5dec64(0x20d)][_0x5dec64(0x8cb)](_0x5dec64(0x5cf)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x3c07ec});}function cancelAdminTest(){const _0x126662=_0x56a724;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x126662(0x6e7)](_0x126662(0x61c),handleFullscreenChange),document[_0x126662(0x6e7)](_0x126662(0x6c1),handleVisibilityChange),currentMode=_0x126662(0x912),studentView[_0x126662(0x20d)][_0x126662(0x8cb)](_0x126662(0x5cf)),adminView[_0x126662(0x20d)][_0x126662(0x1cf)](_0x126662(0x5cf)),showView('project-detail');}function setupResultScreenBackButton(_0x588623){const _0x5637ae=_0x56a724,_0x56dfe9={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x588623};if(_0x56dfe9[_0x5637ae(0x6fd)]){const _0x300607=_0x5637ae(0x915);studentResultArea[_0x5637ae(0x7cb)]('beforeend',_0x300607),document['getElementById']('retake-quiz-loop-btn')[_0x5637ae(0x86b)](_0x5637ae(0x12e),()=>{const _0x99b8fa=_0x5637ae;studentResultArea[_0x99b8fa(0x20d)][_0x99b8fa(0x8cb)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4afd25=_0x5637ae(0x555),_0xffad3b=currentMode==='admin-testing',_0x29f589=_0xffad3b?_0x5637ae(0xb1):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x4d3461='';_0x56dfe9[_0x5637ae(0x181)]&&(_0x4d3461+=_0x5637ae(0x428));let _0x44f54a=_0x56dfe9[_0x5637ae(0x665)];_0x44f54a===undefined&&(_0x44f54a=_0x56dfe9[_0x5637ae(0x2cf)]<_0x56dfe9[_0x5637ae(0x212)]);_0x44f54a&&(_0x4d3461+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x4d3461+=_0x5637ae(0x291)+_0x4afd25+_0x5637ae(0x6f7)+_0x29f589+_0x5637ae(0x6d3);const _0x38883e=_0x5637ae(0x949)+_0x4d3461+_0x5637ae(0x5bd);studentResultArea[_0x5637ae(0x7cb)](_0x5637ae(0x1f2),_0x38883e),studentResultArea[_0x5637ae(0x4aa)]('#view-rankings-btn')?.[_0x5637ae(0x86b)]('click',handleShowStudentRankings);const _0x1c104c=studentResultArea[_0x5637ae(0x4aa)]('#retake-for-improvement-btn');_0x1c104c&&_0x1c104c[_0x5637ae(0x86b)](_0x5637ae(0x12e),()=>{const _0x9fbc2f=_0x5637ae;studentResultArea[_0x9fbc2f(0x20d)][_0x9fbc2f(0x8cb)](_0x9fbc2f(0x5cf)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x4afd25)[_0x5637ae(0x86b)]('click',()=>{const _0xfecc9f=_0x5637ae;_0xffad3b?(currentMode='admin',studentView[_0xfecc9f(0x20d)][_0xfecc9f(0x8cb)](_0xfecc9f(0x5cf)),adminView[_0xfecc9f(0x20d)][_0xfecc9f(0x1cf)](_0xfecc9f(0x5cf)),showView(_0xfecc9f(0x9c5))):(showView(_0xfecc9f(0x740)),document['getElementById']('quiz-id-input')[_0xfecc9f(0x8f1)]='');});}function displayResultsWithAnswers(_0x240dfe,_0x34022d,_0x5babaa,_0x96af78,_0x530084,_0x5986d5=![]){const _0x48c78e=_0x56a724,_0x12551c=_0x530084>0x0?_0x240dfe/_0x530084*0x64:0x0,_0x25a137=currentDisplayedQuiz[_0x48c78e(0x681)]?.[_0x48c78e(0x4e7)]??-0x1,_0x1ce13f=currentDisplayedQuiz['isRemedial']===!![];let _0x4a92a5='';if(_0x1ce13f||_0x25a137!==-0x1){let _0x1d83c4=_0x1ce13f?_0x240dfe===_0x530084:_0x240dfe>=_0x25a137;const _0x4aee60=_0x1d83c4?'bg-green-100\x20text-green-800':_0x48c78e(0x5ea),_0x22b841=_0x1d83c4?_0x48c78e(0x69d):_0x48c78e(0x162);_0x4a92a5=_0x48c78e(0x3a7)+_0x4aee60+'\x22>'+_0x22b841+'</p>';}let _0x1086bf=_0x48c78e(0x5fa)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x240dfe+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x530084+_0x48c78e(0x34b)+_0x4a92a5+_0x48c78e(0x597)+_0x34022d+_0x48c78e(0xf8)+_0x12551c[_0x48c78e(0x2c0)](0x0)+_0x48c78e(0x25f);currentDisplayedQuiz['questions'][_0x48c78e(0x573)]((_0x16227d,_0xbf72ee)=>{const _0x3d126=_0x48c78e,_0x46f5e0=_0x96af78[_0xbf72ee],_0x126115=_0x46f5e0['answer'],_0x3a34b9=_0x46f5e0[_0x3d126(0x29a)],_0x6fd979=_0x16227d['questionType']||currentDisplayedQuiz['quizType'];_0x1086bf+=_0x3d126(0x9ac)+(_0x3a34b9?'border-green-300\x20bg-green-50':_0x3d126(0xbc))+_0x3d126(0x958)+(_0xbf72ee+0x1)+'.\x20'+(_0x16227d['stem']||_0x16227d[_0x3d126(0x417)])+_0x3d126(0x42a);switch(_0x6fd979){case _0x3d126(0x85b):const _0x1a336c=_0x126115||_0x3d126(0x44f),_0x10b5d6=_0x16227d['correctResponse'];_0x1086bf+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x3a34b9?_0x3d126(0xb6):'')+'\x22>'+_0x1a336c+_0x3d126(0x296);!_0x3a34b9&&(_0x1086bf+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x10b5d6+_0x3d126(0x8d8));break;case _0x3d126(0x341):_0x1086bf+=_0x3d126(0x486)+(_0x126115||_0x3d126(0x44f))+'</p>',_0x1086bf+=_0x3d126(0x4b1)+_0x16227d['idealAnswer']+_0x3d126(0x8d8);break;case _0x3d126(0x142):_0x1086bf+=_0x3d126(0x2d3)+(_0x16227d[_0x3d126(0xc1)]===!![]?_0x3d126(0x99d):'')+'\x20'+(_0x126115==='true'&&!_0x3a34b9?'line-through\x20text-red-700':'')+'\x22>ใช่</p>',_0x1086bf+=_0x3d126(0x2d3)+(_0x16227d[_0x3d126(0xc1)]===![]?_0x3d126(0x99d):'')+'\x20'+(_0x126115===_0x3d126(0x718)&&!_0x3a34b9?'line-through\x20text-red-700':'')+_0x3d126(0x659);break;default:_0x1086bf+=_0x16227d['options']['map']((_0x2f3ffa,_0x10fb60)=>{const _0x34f491=_0x3d126;let _0x5d2841='',_0x265b7d='';if(_0x10fb60===_0x16227d[_0x34f491(0x3d2)])_0x5d2841=_0x34f491(0x99d),_0x265b7d=_0x34f491(0x861);else _0x10fb60===_0x126115&&(_0x5d2841=_0x34f491(0x251),_0x265b7d=_0x34f491(0x502));return _0x34f491(0x46f)+_0x5d2841+'\x22>'+_0x265b7d+_0x2f3ffa+_0x34f491(0x5bd);})[_0x3d126(0x13f)]('');break;}_0x1086bf+=_0x3d126(0x2ce)+(_0x16227d[_0x3d126(0x6b3)]||_0x3d126(0x497))+_0x3d126(0x5bd);if(!_0x3a34b9){const _0x3df235=_0x16227d[_0x3d126(0x55a)]||_0x16227d[_0x3d126(0x417)];_0x1086bf+=_0x3d126(0x887)+escape(_0x3df235)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x1086bf+=_0x3d126(0x5bd);}),studentResultArea[_0x48c78e(0x65a)]=_0x1086bf,renderEarnedBadges(_0x5babaa,_0x48c78e(0x189)),studentResultArea[_0x48c78e(0x20d)]['remove'](_0x48c78e(0x5cf)),studentQuizArea[_0x48c78e(0x20d)][_0x48c78e(0x8cb)](_0x48c78e(0x5cf)),setupResultScreenBackButton({'isLooping':_0x5986d5,'score':_0x240dfe,'totalQuestions':_0x530084,'showRankings':!![]});if(window[_0x48c78e(0x7d2)])window[_0x48c78e(0x7d2)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x2c87aa,_0x5d5988,_0x5736e4,_0x7bb36){const _0x1c91fd=_0x56a724,_0x450d9b=_0x7bb36>0x0?_0x2c87aa/_0x7bb36*0x64:0x0,_0x525284=currentDisplayedQuiz[_0x1c91fd(0x681)]?.['passingScore']??-0x1,_0x39a2ba=currentDisplayedQuiz[_0x1c91fd(0x88c)]===!![];let _0xea3d1e='';if(_0x39a2ba||_0x525284!==-0x1){let _0x55200b=_0x39a2ba?_0x2c87aa===_0x7bb36:_0x2c87aa>=_0x525284;const _0x4b83ae=_0x55200b?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x300fdc=_0x55200b?'ผ่าน':_0x1c91fd(0x162);_0xea3d1e=_0x1c91fd(0x3a7)+_0x4b83ae+'\x22>'+_0x300fdc+_0x1c91fd(0x8d8);}let _0x222289='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x2c87aa+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x7bb36+_0x1c91fd(0x34b)+_0xea3d1e+_0x1c91fd(0x597)+_0x5d5988+_0x1c91fd(0x51a)+_0x450d9b[_0x1c91fd(0x2c0)](0x0)+_0x1c91fd(0x719);studentResultArea[_0x1c91fd(0x65a)]=_0x222289,renderEarnedBadges(_0x5736e4,_0x1c91fd(0x189)),studentResultArea[_0x1c91fd(0x20d)][_0x1c91fd(0x1cf)]('hidden'),studentQuizArea[_0x1c91fd(0x20d)][_0x1c91fd(0x8cb)](_0x1c91fd(0x5cf)),setupResultScreenBackButton({'score':_0x2c87aa,'totalQuestions':_0x7bb36,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x475eb2=_0x56a724;let _0xf857f8=_0x475eb2(0x609)+currentStudentName+_0x475eb2(0x1da);studentResultArea['innerHTML']=_0xf857f8,studentResultArea[_0x475eb2(0x20d)]['remove']('hidden'),studentQuizArea[_0x475eb2(0x20d)][_0x475eb2(0x8cb)](_0x475eb2(0x5cf)),document[_0x475eb2(0x5a0)]('back-to-home-manual-release')[_0x475eb2(0x86b)]('click',()=>{const _0x1ae668=_0x475eb2;showView('student'),document[_0x1ae668(0x5a0)]('quiz-id-input')['value']='';});}function renderEarnedBadges(_0x2abe6b,_0x4de238){const _0x586610=_0x56a724,_0x16bd63=document['getElementById'](_0x4de238);if(!_0x16bd63||!_0x2abe6b||_0x2abe6b[_0x586610(0x2fd)]===0x0)return;let _0x26ce85='';_0x2abe6b['forEach']((_0x1fd727,_0x2b1720)=>{const _0x5dc2d7=_0x586610,_0x3882c5=Object[_0x5dc2d7(0x7d9)](BADGES)['find'](_0x331571=>_0x331571['id']===_0x1fd727);_0x3882c5&&(_0x26ce85+=_0x5dc2d7(0x594)+_0x2b1720*0.2+_0x5dc2d7(0x289)+_0x3882c5[_0x5dc2d7(0x232)]+_0x5dc2d7(0x34d)+_0x3882c5[_0x5dc2d7(0x5e2)]+_0x5dc2d7(0x8fd)+_0x3882c5[_0x5dc2d7(0x1f8)]+_0x5dc2d7(0x475));}),_0x16bd63[_0x586610(0x65a)]=_0x26ce85;}function startPresentation(_0x415914){const _0x148d7c=_0x56a724;currentQuizData=getShuffledQuiz(_0x415914),currentPresentationSlide=0x0,presentationModal[_0x148d7c(0x716)]['display']=_0x148d7c(0x896),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x37c0bf=_0x56a724;document[_0x37c0bf(0x8f2)]&&document['exitFullscreen'](),presentationModal['style'][_0x37c0bf(0x1c3)]='none';}function renderPresentationSlide(_0x4a6444){const _0x247904=_0x56a724,_0x43bd00=document[_0x247904(0x5a0)](_0x247904(0x824));if(!currentQuizData||!currentQuizData[_0x247904(0x528)]||!currentQuizData[_0x247904(0x528)][_0x4a6444]){_0x43bd00[_0x247904(0x65a)]=_0x247904(0x948);return;}const _0x144bd7=currentQuizData['questions'][_0x4a6444],_0x5ca60d=_0x144bd7['questionType']||currentQuizData[_0x247904(0x2f1)];_0x43bd00[_0x247904(0x65a)]='';let _0x58bcde='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x144bd7['imageCode']?_0x247904(0x2f3)+_0x144bd7[_0x247904(0x223)]+'</div>':'')+_0x247904(0x649)+(_0x4a6444+0x1)+'.\x20'+(_0x144bd7[_0x247904(0x55a)]||_0x144bd7[_0x247904(0x417)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x5ca60d){case'matching_item':_0x58bcde+=_0x144bd7[_0x247904(0x5fd)][_0x247904(0xbf)](_0x1628d2=>_0x247904(0x638)+_0x1628d2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x247904(0x13f)]('');break;case _0x247904(0x142):_0x58bcde+=_0x247904(0x3ac),_0x58bcde+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x247904(0x25c):case _0x247904(0x341):_0x58bcde+=_0x247904(0x86f);break;case _0x247904(0x635):case _0x247904(0x420):default:_0x58bcde+=_0x144bd7[_0x247904(0xbd)]['map']((_0x442d16,_0xd9c93c)=>_0x247904(0x3f1)+_0xd9c93c+_0x247904(0xe6)+_0x442d16+_0x247904(0x4c6))[_0x247904(0x13f)]('');break;}_0x58bcde+=_0x247904(0x75d)+(_0x144bd7[_0x247904(0x6b3)]||'ไม่มีคำอธิบาย')+_0x247904(0x484),_0x43bd00[_0x247904(0x65a)]=_0x58bcde;if(window[_0x247904(0x7d2)])window['MathJax'][_0x247904(0x66b)]([_0x43bd00]);let _0x18bc7a=[];switch(_0x5ca60d){case _0x247904(0x85b):_0x18bc7a=_0x144bd7[_0x247904(0x5fd)]||[];break;case'true_false':_0x18bc7a=[_0x247904(0x9b7),_0x247904(0x8b1)];break;default:_0x18bc7a=_0x144bd7[_0x247904(0xbd)]||[];break;}const _0x31ee6b=document[_0x247904(0x5a0)]('presentation-scratchpad-btn');_0x31ee6b&&(_0x31ee6b[_0x247904(0x756)]=()=>{openScratchpad(_0x144bd7,_0x18bc7a);});document[_0x247904(0x81b)](_0x247904(0x2c5))[_0x247904(0x573)](_0x3ec554=>{const _0xc2d0bc=_0x247904;_0x3ec554['addEventListener']('click',_0x200359=>revealAnswerForPresentation(_0x4a6444,_0x200359[_0xc2d0bc(0x3cb)]));});const _0x428d83=document[_0x247904(0x5a0)](_0x247904(0x43b));_0x428d83&&_0x428d83[_0x247904(0x86b)](_0x247904(0x12e),()=>checkShortAnswerForPresentation(_0x4a6444)),document['getElementById'](_0x247904(0x28d))[_0x247904(0x83f)]='ข้อที่\x20'+(_0x4a6444+0x1)+_0x247904(0x747)+currentQuizData[_0x247904(0x528)][_0x247904(0x2fd)],document[_0x247904(0x5a0)]('prev-question-btn')[_0x247904(0x2df)]=_0x4a6444===0x0,document[_0x247904(0x5a0)]('next-question-btn')[_0x247904(0x2df)]=_0x4a6444===currentQuizData[_0x247904(0x528)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x352e2c){const _0x2a15b7=_0x56a724,_0x377d57=currentQuizData[_0x2a15b7(0x528)][_0x352e2c],_0x4d0f3b=document[_0x2a15b7(0x5a0)](_0x2a15b7(0x725)),_0x121a65=document[_0x2a15b7(0x5a0)](_0x2a15b7(0x43b)),_0x232385=document[_0x2a15b7(0x5a0)](_0x2a15b7(0x59b)),_0x1b1168=document[_0x2a15b7(0x5a0)](_0x2a15b7(0x7fe));if(!_0x4d0f3b||!_0x121a65||!_0x232385||!_0x1b1168)return;const _0x31b3e4=_0x4d0f3b[_0x2a15b7(0x8f1)]['trim']();if(_0x31b3e4==='')return;_0x121a65[_0x2a15b7(0x2df)]=!![],_0x121a65[_0x2a15b7(0x65a)]=_0x2a15b7(0x8d5),_0x4d0f3b[_0x2a15b7(0x2df)]=!![];const _0x41c103=await gradeShortAnswer(_0x31b3e4,_0x377d57);_0x41c103?_0x232385[_0x2a15b7(0x65a)]=_0x2a15b7(0x875):_0x232385[_0x2a15b7(0x65a)]=_0x2a15b7(0x839)+_0x377d57['idealAnswer']+')',_0x232385[_0x2a15b7(0x20d)][_0x2a15b7(0x1cf)]('hidden'),_0x1b1168['classList'][_0x2a15b7(0x1cf)](_0x2a15b7(0x5cf)),_0x121a65[_0x2a15b7(0x20d)][_0x2a15b7(0x8cb)](_0x2a15b7(0x5cf));}function revealAnswerForPresentation(_0x2905fe,_0x314614){const _0x34c0e8=_0x56a724,_0x5e19fd=currentQuizData[_0x34c0e8(0x528)][_0x2905fe],_0x271054=_0x5e19fd[_0x34c0e8(0x45e)]||currentQuizData[_0x34c0e8(0x2f1)];document[_0x34c0e8(0x81b)](_0x34c0e8(0x2c5))[_0x34c0e8(0x573)](_0x1d889e=>{const _0x30b734=_0x34c0e8;_0x1d889e['disabled']=!![],_0x1d889e[_0x30b734(0x20d)]['remove'](_0x30b734(0x6aa));let _0x2f97dc=![];if(_0x271054===_0x30b734(0x420)||_0x271054===_0x30b734(0x635)){const _0x5b0e94=parseInt(_0x1d889e[_0x30b734(0x513)][_0x30b734(0x982)]);_0x2f97dc=_0x5b0e94===_0x5e19fd['correctAnswerIndex'];}else{if(_0x271054===_0x30b734(0x142)){const _0x3e9285=_0x1d889e[_0x30b734(0x513)][_0x30b734(0x995)]==='true';_0x2f97dc=_0x3e9285===_0x5e19fd['correctAnswer'];}else _0x271054===_0x30b734(0x85b)&&(_0x2f97dc=_0x1d889e['textContent'][_0x30b734(0x3fa)]()===_0x5e19fd[_0x30b734(0x93f)]);}_0x2f97dc?_0x1d889e['classList'][_0x30b734(0x8cb)]('bg-green-500',_0x30b734(0x89),'border-green-700'):_0x1d889e[_0x30b734(0x20d)][_0x30b734(0x8cb)]('opacity-50');}),_0x314614['classList'][_0x34c0e8(0x1cf)](_0x34c0e8(0x88e));let _0x1fa5f7=![];if(_0x271054==='multiple_choice')_0x1fa5f7=parseInt(_0x314614[_0x34c0e8(0x513)]['index'])===_0x5e19fd[_0x34c0e8(0x3d2)];else{if(_0x271054===_0x34c0e8(0x142))_0x1fa5f7=_0x314614[_0x34c0e8(0x513)]['answer']===_0x34c0e8(0x25a)===_0x5e19fd['correctAnswer'];else _0x271054===_0x34c0e8(0x85b)&&(_0x1fa5f7=_0x314614[_0x34c0e8(0x83f)][_0x34c0e8(0x3fa)]()===_0x5e19fd[_0x34c0e8(0x93f)]);}!_0x1fa5f7&&_0x314614['classList'][_0x34c0e8(0x8cb)](_0x34c0e8(0x11f),'text-white',_0x34c0e8(0x712)),document['getElementById'](_0x34c0e8(0x7fe))[_0x34c0e8(0x20d)][_0x34c0e8(0x1cf)]('hidden');}function _0x3686(_0x395f2a,_0x492900){const _0x3eee31=_0x3eee();return _0x3686=function(_0x36864f,_0x6bab5a){_0x36864f=_0x36864f-0x70;let _0x525349=_0x3eee31[_0x36864f];return _0x525349;},_0x3686(_0x395f2a,_0x492900);}function startWholeQuizTimer(_0xb2b4ce){const _0x144d31=_0x56a724,_0x39abe0=document['getElementById'](_0x144d31(0x408));if(!_0x39abe0)return;const _0x5c9f8b=Date[_0x144d31(0x64a)]()+_0xb2b4ce*0x3c*0x3e8;_0x39abe0[_0x144d31(0x65a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x124011=document[_0x144d31(0x5a0)](_0x144d31(0x93d));quizTimerInterval=setInterval(()=>{const _0x3dbef4=_0x144d31,_0x39309b=_0x5c9f8b-Date['now']();if(_0x39309b<=0x0)clearInterval(quizTimerInterval),_0x124011[_0x3dbef4(0x83f)]='00:00',showMessage(_0x3dbef4(0x82c)),handleSubmitQuiz(null);else{const _0x471901=Math[_0x3dbef4(0x917)](_0x39309b/0x3e8/0x3c%0x3c)['toString']()['padStart'](0x2,'0'),_0x120bc1=Math[_0x3dbef4(0x917)](_0x39309b/0x3e8%0x3c)[_0x3dbef4(0x239)]()[_0x3dbef4(0x85c)](0x2,'0');_0x124011['textContent']=_0x471901+':'+_0x120bc1;}},0x3e8);}function renderPerQuestionView(){const _0xe10f44=_0x56a724;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x53bcd8=currentDisplayedQuiz[_0xe10f44(0x528)][currentQuestionIndex],_0x58fbbd=_0x53bcd8[_0xe10f44(0x45e)]||currentDisplayedQuiz[_0xe10f44(0x2f1)],_0x4eb880=currentDisplayedQuiz[_0xe10f44(0x681)]?.['isConfidenceScoringEnabled']===!![];let _0x27f10a=_0xe10f44(0x4fd)+(currentQuestionIndex+0x1)+_0xe10f44(0x13e)+currentDisplayedQuiz[_0xe10f44(0x528)][_0xe10f44(0x2fd)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0xe10f44(0x265)?_0xe10f44(0x4c8):'')+_0xe10f44(0x819)+currentDisplayedQuiz['topic']+_0xe10f44(0x602);studentQuizArea[_0xe10f44(0x65a)]=_0x27f10a;let _0x3140ce=_0x53bcd8[_0xe10f44(0x55a)]||_0x53bcd8['questionText'];_0x53bcd8[_0xe10f44(0x223)]&&(_0x3140ce+=_0xe10f44(0x2f3)+_0x53bcd8[_0xe10f44(0x223)]+_0xe10f44(0x5bd));let _0x569d25='';switch(_0x58fbbd){case'short_answer':case _0xe10f44(0x25c):_0x569d25=_0xe10f44(0x6df);break;case _0xe10f44(0x142):_0x569d25='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0xe10f44(0x85b):_0x569d25=_0xe10f44(0x6c2)+(_0x53bcd8[_0xe10f44(0x5fd)]||[])['map'](_0x4a94b5=>_0xe10f44(0x7ca)+_0x4a94b5+'\x22>'+_0x4a94b5+_0xe10f44(0x7d4))[_0xe10f44(0x13f)]('')+_0xe10f44(0x956);break;default:_0x53bcd8[_0xe10f44(0xbd)]&&(_0x569d25=_0x53bcd8[_0xe10f44(0xbd)][_0xe10f44(0xbf)]((_0x275f0a,_0x21ddee)=>_0xe10f44(0x614)+_0x21ddee+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x21ddee+_0xe10f44(0x203)+_0x21ddee+'\x22>'+_0x275f0a+_0xe10f44(0x83d))[_0xe10f44(0x13f)](''));break;}document[_0xe10f44(0x5a0)](_0xe10f44(0x7e5))[_0xe10f44(0x65a)]=_0x3140ce,document['getElementById']('per-question-options')[_0xe10f44(0x65a)]=_0x569d25;const _0x479a7f=currentDisplayedQuiz[_0xe10f44(0x681)]?.[_0xe10f44(0x738)]===!![],_0x1e878f=currentDisplayedQuiz['settings']?.['confidenceMode']||_0xe10f44(0x234);if(_0x479a7f&&_0x1e878f===_0xe10f44(0x234)){const _0x3b742c=_0xe10f44(0x31b);studentQuizArea['querySelector'](_0xe10f44(0x12c))[_0xe10f44(0x7cb)]('beforeend',_0x3b742c);}studentQuizArea[_0xe10f44(0x7cb)]('beforeend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0xe10f44(0x528)][_0xe10f44(0x2fd)]-0x1?_0xe10f44(0x148):_0xe10f44(0x87))+_0xe10f44(0x852));currentMode===_0xe10f44(0x265)&&document['getElementById']('cancel-test-btn')?.[_0xe10f44(0x86b)](_0xe10f44(0x12e),cancelAdminTest);document['getElementById']('next-question-timed-btn')[_0xe10f44(0x86b)](_0xe10f44(0x12e),()=>handleNextQuestionInTimedMode(![]));if(window[_0xe10f44(0x7d2)])window[_0xe10f44(0x7d2)][_0xe10f44(0x66b)]([studentQuizArea]);currentDisplayedQuiz[_0xe10f44(0x681)]?.['timerMode']==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x47a61e=_0x56a724,_0x438f4a=currentDisplayedQuiz[_0x47a61e(0x681)][_0x47a61e(0x159)],_0x1233c8=document[_0x47a61e(0x5a0)](_0x47a61e(0x94));if(!_0x1233c8)return;let _0x4c4b5f=_0x438f4a;_0x1233c8['innerHTML']=_0x47a61e(0x304)+_0x4c4b5f+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x5682a6=document['getElementById'](_0x47a61e(0x714)),_0x2da35d=document['getElementById'](_0x47a61e(0x38b));perQuestionTimerInterval=setInterval(()=>{const _0x931068=_0x47a61e;_0x4c4b5f--;const _0x15f571=_0x4c4b5f/_0x438f4a*0x64;_0x5682a6[_0x931068(0x716)][_0x931068(0x109)]=_0x15f571+'%',_0x2da35d[_0x931068(0x83f)]=_0x4c4b5f,_0x4c4b5f<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0xe44b2d=![]){const _0x59374b=_0x56a724;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1d7402=null,_0x104a4d=![];if(!_0xe44b2d){const _0x55dc63=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x244d84=_0x55dc63[_0x59374b(0x45e)]||currentDisplayedQuiz[_0x59374b(0x2f1)];if(_0x244d84===_0x59374b(0x341)||_0x244d84===_0x59374b(0x25c))_0x1d7402=document[_0x59374b(0x4aa)](_0x59374b(0x4d3))?.[_0x59374b(0x8f1)][_0x59374b(0x3fa)]()??'';else{if(_0x244d84==='matching_item')_0x1d7402=document['querySelector']('select[name=\x22question_single\x22]')?.['value']??'';else{const _0x564963=document[_0x59374b(0x4aa)](_0x59374b(0x771));_0x564963&&(_0x1d7402=_0x564963[_0x59374b(0x8f1)]);}}if(_0x1d7402===null||_0x1d7402===''){showMessage(_0x59374b(0x976)),startPerQuestionTimer();return;}const _0x2ca2ac=currentDisplayedQuiz[_0x59374b(0x681)]?.[_0x59374b(0x738)]===!![],_0x54174f=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x59374b(0x234);if(_0x2ca2ac&&_0x54174f==='mandatory'){document[_0x59374b(0x5a0)](_0x59374b(0x2f7))[_0x59374b(0x513)]['currentMode']=_0x59374b(0x2b4),document[_0x59374b(0x5a0)](_0x59374b(0x651))[_0x59374b(0x8f1)]=_0x1d7402,document['getElementById'](_0x59374b(0x2f7))['classList']['remove'](_0x59374b(0x5cf));return;}const _0x9ad0d9=document[_0x59374b(0x5a0)](_0x59374b(0xd9));_0x9ad0d9&&(_0x104a4d=_0x9ad0d9['checked']);}const _0x1dd589={'answer':_0x1d7402,'wasConfident':_0x104a4d};proceedToNextQuestion(_0x1dd589);}async function finalizePerQuestionQuiz(){const _0x51b5ac=_0x56a724,_0x51e4ac=currentDisplayedQuiz[_0x51b5ac(0x528)][_0x51b5ac(0x68a)](_0x382aeb=>_0x382aeb['questionType']===_0x51b5ac(0x341));_0x51e4ac?showMessage(_0x51b5ac(0x316)):showMessage(_0x51b5ac(0x77d));const _0x3e75c8=currentQuizData['id'],_0x5c3e05=doc(db,_0x51b5ac(0x4e3)+appId+_0x51b5ac(0x395)+_0x3e75c8+_0x51b5ac(0x874),currentStudentName),_0x1139b7=await getDoc(_0x5c3e05),_0x14aee8=_0x1139b7['exists']()?_0x1139b7[_0x51b5ac(0x2fb)]():{},_0x168cd9=_0x14aee8['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x168cd9);}function getResultsFilename(){const _0x39541a=_0x56a724,_0x2e5738=document[_0x39541a(0x5a0)](_0x39541a(0x969))[_0x39541a(0x83f)][_0x39541a(0x3c8)](/[^a-z0-9]/gi,'_')[_0x39541a(0x527)]();return _0x39541a(0x690)+(_0x2e5738||_0x39541a(0x559));}function exportResultsAsImage(){const _0x51ea00=_0x56a724,_0x2a971f=document[_0x51ea00(0x5a0)](_0x51ea00(0x4ea));showMessage(_0x51ea00(0x46a)),html2canvas(_0x2a971f)['then'](_0x12fc21=>{const _0x2b279a=_0x51ea00,_0x29db2f=document['createElement']('a');_0x29db2f[_0x2b279a(0x8e1)]=getResultsFilename()+_0x2b279a(0x5da),_0x29db2f[_0x2b279a(0x204)]=_0x12fc21[_0x2b279a(0x191)](_0x2b279a(0xcb)),_0x29db2f[_0x2b279a(0x12e)](),messageModal[_0x2b279a(0x20d)][_0x2b279a(0x8cb)](_0x2b279a(0x5cf));});}function exportResultsAsPDF(){const _0x1bf66c=_0x56a724,{jsPDF:_0x53e1c2}=window[_0x1bf66c(0x3c3)],_0x520e09=new _0x53e1c2();_0x520e09['setFont'](_0x1bf66c(0x116),'normal'),_0x520e09[_0x1bf66c(0x581)]({'html':_0x1bf66c(0x835)}),_0x520e09[_0x1bf66c(0x69b)](getResultsFilename()+_0x1bf66c(0x474));}function exportResultsAsWord(){const _0xea6874=_0x56a724,_0x2d7e08=_0xea6874(0xf0)+_0xea6874(0x6db)+_0xea6874(0x2c4)+_0xea6874(0x500),_0x2c696c='</body></html>',_0x3d44e0=_0x2d7e08+document['getElementById'](_0xea6874(0x4ea))[_0xea6874(0x65a)]+_0x2c696c,_0x5ee2d8=_0xea6874(0x678)+encodeURIComponent(_0x3d44e0),_0x360222=document[_0xea6874(0x39d)]('a');document[_0xea6874(0xc0)][_0xea6874(0x7eb)](_0x360222),_0x360222[_0xea6874(0x204)]=_0x5ee2d8,_0x360222[_0xea6874(0x8e1)]=getResultsFilename()+'.doc',_0x360222['click'](),document[_0xea6874(0xc0)][_0xea6874(0x247)](_0x360222);}function exportResultsAsExcel(){const _0x830d85=_0x56a724,_0x13faca=document['getElementById'](_0x830d85(0x113));let _0x29ae31=[];for(let _0x36a397=0x0;_0x36a397<_0x13faca[_0x830d85(0x65e)][_0x830d85(0x2fd)];_0x36a397++){let _0x8802ec=[],_0x4019ee=_0x13faca[_0x830d85(0x65e)][_0x36a397][_0x830d85(0x81b)](_0x830d85(0x5e7));for(let _0x303a5a=0x0;_0x303a5a<_0x4019ee[_0x830d85(0x2fd)];_0x303a5a++){_0x8802ec['push']('\x22'+_0x4019ee[_0x303a5a]['innerText'][_0x830d85(0x3c8)](/"/g,'\x22\x22')+'\x22');}_0x29ae31[_0x830d85(0x6ae)](_0x8802ec[_0x830d85(0x13f)](','));}const _0x2d073f=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x29ae31[_0x830d85(0x13f)]('\x0a')],{'type':_0x830d85(0x843)}),_0x5b8fa4=document[_0x830d85(0x39d)]('a');_0x5b8fa4[_0x830d85(0x204)]=URL[_0x830d85(0x920)](_0x2d073f),_0x5b8fa4[_0x830d85(0x8e1)]=getResultsFilename()+'.csv',_0x5b8fa4[_0x830d85(0x12e)]();}function exportTableAsImage(_0x5097d5,_0x415143){const _0x347464=_0x56a724,_0x25d8ac=document['getElementById'](_0x5097d5);if(!_0x25d8ac){showMessage(_0x347464(0x5f4));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x25d8ac)[_0x347464(0x883)](_0x361f01=>{const _0xcd0bc5=_0x347464,_0x44fedb=document['createElement']('a');_0x44fedb[_0xcd0bc5(0x8e1)]=_0x415143+_0xcd0bc5(0x5da),_0x44fedb[_0xcd0bc5(0x204)]=_0x361f01[_0xcd0bc5(0x191)]('image/png'),_0x44fedb['click'](),messageModal[_0xcd0bc5(0x20d)][_0xcd0bc5(0x8cb)](_0xcd0bc5(0x5cf));});}function exportTableAsPDF(_0x3a71cb,_0x29a627){const _0x134f09=_0x56a724,{jsPDF:_0x4a1f86}=window[_0x134f09(0x3c3)],_0x3d6280=new _0x4a1f86();_0x3d6280[_0x134f09(0x1b5)]('helvetica',_0x134f09(0x3bf)),_0x3d6280[_0x134f09(0x581)]({'html':'#'+_0x3a71cb}),_0x3d6280[_0x134f09(0x69b)](_0x29a627+'.pdf');}function exportTableAsWord(_0x5b7ec7,_0x4a590b){const _0x377fd7=_0x56a724,_0x2a3962=document[_0x377fd7(0x5a0)](_0x5b7ec7);if(!_0x2a3962){showMessage(_0x377fd7(0x5f4));return;}const _0x373431='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x377fd7(0x6db)+_0x377fd7(0x2c4)+_0x377fd7(0x500),_0x2ecfe4=_0x377fd7(0x482),_0x38db88=_0x373431+_0x2a3962['innerHTML']+_0x2ecfe4,_0x15a57='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x38db88),_0x48d0c7=document[_0x377fd7(0x39d)]('a');document[_0x377fd7(0xc0)][_0x377fd7(0x7eb)](_0x48d0c7),_0x48d0c7[_0x377fd7(0x204)]=_0x15a57,_0x48d0c7[_0x377fd7(0x8e1)]=_0x4a590b+_0x377fd7(0x5dc),_0x48d0c7[_0x377fd7(0x12e)](),document[_0x377fd7(0xc0)]['removeChild'](_0x48d0c7);}function exportTableAsExcel(_0x404053,_0x1fdcba){const _0x3cdcdb=_0x56a724,_0x2777ab=document['getElementById'](_0x404053);if(!_0x2777ab){showMessage(_0x3cdcdb(0x5f4));return;}let _0x9a35=[];for(let _0x5c5135=0x0;_0x5c5135<_0x2777ab[_0x3cdcdb(0x65e)][_0x3cdcdb(0x2fd)];_0x5c5135++){let _0x2eab40=[],_0x46a8d2=_0x2777ab[_0x3cdcdb(0x65e)][_0x5c5135][_0x3cdcdb(0x81b)]('td,\x20th');for(let _0x3c973f=0x0;_0x3c973f<_0x46a8d2[_0x3cdcdb(0x2fd)];_0x3c973f++){_0x2eab40[_0x3cdcdb(0x6ae)]('\x22'+_0x46a8d2[_0x3c973f][_0x3cdcdb(0x7de)][_0x3cdcdb(0x3c8)](/"/g,'\x22\x22')+'\x22');}_0x9a35[_0x3cdcdb(0x6ae)](_0x2eab40['join'](','));}const _0x22a5b4=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x9a35[_0x3cdcdb(0x13f)]('\x0a')],{'type':_0x3cdcdb(0x843)}),_0x3b3a5e=document[_0x3cdcdb(0x39d)]('a');_0x3b3a5e[_0x3cdcdb(0x204)]=URL[_0x3cdcdb(0x920)](_0x22a5b4),_0x3b3a5e[_0x3cdcdb(0x8e1)]=_0x1fdcba+_0x3cdcdb(0x539),_0x3b3a5e[_0x3cdcdb(0x12e)]();}function renderAnalytics(_0xd94138,_0x3cac2c){const _0x4777fa=_0x56a724,_0xd46d94=_0x3cac2c['filter'](_0x3a9916=>_0x3a9916[_0x4777fa(0x613)]!==undefined),_0x4711ca=currentProjectData['students'][_0x4777fa(0x2fd)],_0x105e22=_0xd46d94[_0x4777fa(0x2fd)],_0x5d584a=_0x4711ca-_0x105e22,_0x5987b6=_0x4711ca>0x0?_0x105e22/_0x4711ca*0x64:0x0,_0x96ac97=_0xd46d94[_0x4777fa(0xbf)](_0x7a8db4=>_0x7a8db4[_0x4777fa(0x613)]),_0x29fc27=_0x96ac97[_0x4777fa(0x2fd)]>0x0?_0x96ac97[_0x4777fa(0x73f)]((_0x5ad31c,_0x3672b9)=>_0x5ad31c+_0x3672b9,0x0)/_0x96ac97[_0x4777fa(0x2fd)]:0x0,_0x1395ed=_0xd94138[_0x4777fa(0x528)][_0x4777fa(0x2fd)],_0x4ad6fc=_0x1395ed>0x0?_0x29fc27/_0x1395ed*0x64:0x0,_0x435b29=calculateItemAnalysis(_0xd94138,_0xd46d94),_0x56444e=calculateReliabilityKR20(_0xd94138,_0xd46d94,_0x435b29[_0x4777fa(0x3f9)]);let _0x55680d='';if(_0x56444e!==null){let _0x47d52d='';if(_0x56444e>=0.9)_0x47d52d=_0x4777fa(0xa3);else{if(_0x56444e>=0.8)_0x47d52d=_0x4777fa(0x37a);else{if(_0x56444e>=0.7)_0x47d52d='ดี';else{if(_0x56444e>=0.6)_0x47d52d=_0x4777fa(0x1a7);else _0x47d52d=_0x4777fa(0x493);}}}_0x55680d=_0x4777fa(0x394)+_0x56444e['toFixed'](0x2)+_0x4777fa(0x32d)+_0x47d52d+_0x4777fa(0x4df);}const _0x8b50ae=document['getElementById']('analytics-summary-cards');_0x8b50ae[_0x4777fa(0x65a)]=_0x4777fa(0x825)+_0x5987b6['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x105e22+'/'+_0x4711ca+_0x4777fa(0x3b6)+_0x29fc27['toFixed'](0x2)+_0x4777fa(0x530)+_0x4ad6fc[_0x4777fa(0x2c0)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x96ac97[_0x4777fa(0x2fd)]>0x0?Math[_0x4777fa(0x505)](..._0x96ac97):_0x4777fa(0x3e5))+_0x4777fa(0x4f5)+(_0x96ac97[_0x4777fa(0x2fd)]>0x0?Math[_0x4777fa(0x211)](..._0x96ac97):_0x4777fa(0x3e5))+_0x4777fa(0x27c)+_0x55680d+_0x4777fa(0x6d1);const _0x3162a5=document['getElementById'](_0x4777fa(0x7e3));_0x3162a5&&_0x3162a5[_0x4777fa(0x1cf)]();const _0x75c82c=_0x4777fa(0x3dc);_0x8b50ae['insertAdjacentHTML']('afterend',_0x75c82c);const _0x4940c7=currentProjectData['students']||[];renderSubmissionChart(_0x105e22,_0x5d584a,_0xd46d94,_0x4940c7),renderScoreDistributionChart(_0xd46d94,_0x1395ed),renderQuestionAnalytics(_0xd94138,_0xd46d94,_0x4940c7),renderInterestingStats(_0xd94138,_0xd46d94);}async function handleExportLessonPDF(){const _0x222af0=_0x56a724,_0x21ea80=document[_0x222af0(0x5a0)](_0x222af0(0x61f)),_0x3c7447=document[_0x222af0(0x5a0)](_0x222af0(0x7e1))[_0x222af0(0x83f)],_0x255969=window[_0x222af0(0x70)]('',_0x222af0(0x442)),_0x39b6f7=_0x222af0(0x487)+_0x3c7447+_0x222af0(0x3ff)+_0x21ea80[_0x222af0(0x65a)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x255969[_0x222af0(0x2a0)]['write'](_0x39b6f7),_0x255969[_0x222af0(0x2a0)][_0x222af0(0x5ff)](),_0x255969[_0x222af0(0x8f8)]=function(){setTimeout(()=>{const _0x21ca8d=_0x3686;_0x255969[_0x21ca8d(0x622)]();},0x5dc);};}function renderInterestingStats(_0x47ae64,_0x3488b7){const _0x449807=_0x56a724,_0x39e89f=document[_0x449807(0x5a0)](_0x449807(0x525));if(!_0x39e89f)return;if(_0x3488b7[_0x449807(0x2fd)]===0x0){_0x39e89f[_0x449807(0x65a)]=_0x449807(0x100);return;}const _0x5cc0c3=_0x47ae64[_0x449807(0x528)][_0x449807(0xbf)]((_0x83b483,_0x192076)=>({'index':_0x192076+0x1,'text':_0x83b483[_0x449807(0x417)]||_0x83b483[_0x449807(0x55a)],'correct':0x0}));_0x3488b7[_0x449807(0x573)](_0x440476=>{const _0x5bda1a=_0x449807,_0x47847d=_0x440476[_0x5bda1a(0x6a8)][_0x440476['attempts'][_0x5bda1a(0x2fd)]-0x1];_0x47847d&&_0x47847d[_0x5bda1a(0x570)]&&_0x47847d[_0x5bda1a(0x570)][_0x5bda1a(0x573)](_0x246215=>{const _0x28176e=_0x5bda1a,_0x3a5a71=_0x5cc0c3[_0x28176e(0xcc)](_0x478661=>_0x478661[_0x28176e(0x708)]===_0x246215['originalQuestionText']);_0x246215[_0x28176e(0x29a)]&&_0x3a5a71&&_0x3a5a71[_0x28176e(0x2fe)]++;});});const _0x3ab69c=_0x3488b7[_0x449807(0x2fd)],_0x21c39f=Math[_0x449807(0x505)](..._0x5cc0c3['map'](_0x65949a=>_0x65949a[_0x449807(0x2fe)])),_0x5900d1=Math['min'](..._0x5cc0c3[_0x449807(0xbf)](_0x3be956=>_0x3be956[_0x449807(0x2fe)])),_0x18f587=_0x5cc0c3[_0x449807(0x5e1)](_0x456ca1=>_0x456ca1[_0x449807(0x2fe)]===_0x21c39f)[_0x449807(0xbf)](_0x2fb204=>_0x449807(0x150)+_0x2fb204[_0x449807(0x982)]),_0x2b6e8d=_0x5cc0c3[_0x449807(0x5e1)](_0x2c083e=>_0x2c083e[_0x449807(0x2fe)]===_0x5900d1)[_0x449807(0xbf)](_0x136e02=>_0x449807(0x150)+_0x136e02[_0x449807(0x982)]),_0x19b32a=_0x3488b7[_0x449807(0x905)]((_0x589d12,_0x22e2dd)=>_0x22e2dd[_0x449807(0x613)]-_0x589d12[_0x449807(0x613)])[_0x449807(0x5e1)]((_0x29af4a,_0xc117f7,_0x1dcf0b)=>_0x29af4a[_0x449807(0x613)]===_0x1dcf0b[0x0][_0x449807(0x613)]),_0x26d75f=_0x3488b7[_0x449807(0x905)]((_0xc9fbb2,_0x1d09f2)=>_0xc9fbb2[_0x449807(0x613)]-_0x1d09f2[_0x449807(0x613)])['filter']((_0x62347e,_0xcf643c,_0x50092b)=>_0x62347e[_0x449807(0x613)]===_0x50092b[0x0][_0x449807(0x613)]),_0x8c24e0=_0x449807(0x6d8)+_0x18f587[_0x449807(0x13f)](',\x20')+_0x449807(0x558)+_0x21c39f+_0x449807(0x747)+_0x3ab69c+_0x449807(0x2de)+_0x2b6e8d[_0x449807(0x13f)](',\x20')+_0x449807(0x558)+(_0x3ab69c-_0x5900d1)+_0x449807(0x747)+_0x3ab69c+_0x449807(0xca)+_0x19b32a[_0x449807(0xbf)](_0x20ee14=>_0x20ee14[_0x449807(0x6d5)])[_0x449807(0x13f)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x19b32a[0x0][_0x449807(0x613)]+_0x449807(0x5c9)+_0x26d75f[_0x449807(0xbf)](_0x49b5a3=>_0x49b5a3[_0x449807(0x6d5)])[_0x449807(0x13f)](',\x20')+_0x449807(0x69a)+_0x26d75f[0x0][_0x449807(0x613)]+_0x449807(0x3e9);_0x39e89f[_0x449807(0x65a)]=_0x8c24e0;}function renderSubmissionChart(_0xb2e4e2,_0x239519,_0x4204db,_0x995ae8){const _0x3bfb37=_0x56a724,_0x13741f=document['getElementById'](_0x3bfb37(0x977))[_0x3bfb37(0x400)]('2d'),_0x2b9431=_0x4204db[_0x3bfb37(0xbf)](_0x4fdec7=>_0x4fdec7['studentName']),_0x420790=_0x995ae8[_0x3bfb37(0x5e1)](_0x20bd72=>!_0x2b9431[_0x3bfb37(0x5c1)](_0x20bd72));chartInstances['submission']&&chartInstances[_0x3bfb37(0x8b4)][_0x3bfb37(0x20c)](),chartInstances[_0x3bfb37(0x8b4)]=new Chart(_0x13741f,{'type':_0x3bfb37(0x804),'data':{'labels':[_0x3bfb37(0x6e8),_0x3bfb37(0x8ed)],'datasets':[{'data':[_0xb2e4e2,_0x239519],'backgroundColor':['#10B981',_0x3bfb37(0x3e1)],'borderColor':[_0x3bfb37(0x29f),_0x3bfb37(0x29f)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x55cf00){const _0x6b226c=_0x3bfb37;let _0x57320b=_0x55cf00[_0x6b226c(0x345)]||'';return _0x57320b&&(_0x57320b+=':\x20'),_0x57320b+=_0x55cf00[_0x6b226c(0x20f)],_0x57320b;},'afterLabel':function(_0x3b0b1d){const _0x48d5e8=_0x3bfb37;let _0x4c57d5;return _0x3b0b1d[_0x48d5e8(0x213)]===0x0?_0x4c57d5=_0x2b9431:_0x4c57d5=_0x420790,_0x4c57d5[_0x48d5e8(0x2fd)]>0x0?_0x4c57d5['join']('\x0a'):_0x48d5e8(0x5f8);}}}}}});}function renderScoreDistributionChart(_0x4c1f27,_0x5b0cd9){const _0x41cc51=_0x56a724,_0x1559d7=document[_0x41cc51(0x5a0)](_0x41cc51(0x4d8))['getContext']('2d'),_0x19c65c={};for(let _0x3bee89=0x0;_0x3bee89<=_0x5b0cd9;_0x3bee89++){_0x19c65c[_0x3bee89]=0x0;}_0x4c1f27['forEach'](_0x4d59f1=>{_0x19c65c[_0x4d59f1['latestScore']]!==undefined&&_0x19c65c[_0x4d59f1['latestScore']]++;}),chartInstances[_0x41cc51(0x2cf)]&&chartInstances[_0x41cc51(0x2cf)]['destroy'](),chartInstances[_0x41cc51(0x2cf)]=new Chart(_0x1559d7,{'type':_0x41cc51(0x258),'data':{'labels':Object['keys'](_0x19c65c),'datasets':[{'label':_0x41cc51(0x515),'data':Object['values'](_0x19c65c),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x41cc51(0x88),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x41cc51(0x1c6)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x8b3127){const _0xefba2b=_0x41cc51,_0x14496b=_0x8b3127[_0xefba2b(0x345)],_0x4800b3=_0x4c1f27[_0xefba2b(0x5e1)](_0x331d6a=>_0x331d6a[_0xefba2b(0x613)]==_0x14496b)[_0xefba2b(0xbf)](_0x268a53=>_0x268a53[_0xefba2b(0x6d5)]);return _0x4800b3[_0xefba2b(0x2fd)]>0x0?_0x4800b3[_0xefba2b(0x13f)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x254324,_0x5073c9,_0x3e9bd0){const _0x27211f=_0x56a724,_0x288098=document[_0x27211f(0x5a0)](_0x27211f(0x968));if(_0x3e9bd0[_0x27211f(0x2fd)]===0x0){_0x288098[_0x27211f(0x65a)]=_0x27211f(0x27f);return;}const _0xba967=calculateItemAnalysis(_0x254324,_0x5073c9),_0xeadcc5=calculateDistractorAnalysis(_0x254324,_0x5073c9);let _0x14df16='';_0xba967['overallGroups']&&(_0x14df16=_0x27211f(0xf1)+_0xba967[_0x27211f(0x8bf)][_0x27211f(0x3b3)][_0x27211f(0x2fd)]+_0x27211f(0x8db)+_0xba967[_0x27211f(0x8bf)]['upperGroupNames']['map'](_0x453afa=>_0x27211f(0x544)+_0x453afa+_0x27211f(0x841))[_0x27211f(0x13f)]('')+_0x27211f(0x33e)+_0xba967[_0x27211f(0x8bf)][_0x27211f(0x427)]['length']+_0x27211f(0x8db)+_0xba967['overallGroups']['lowerGroupNames'][_0x27211f(0xbf)](_0x2dba84=>'<li>'+_0x2dba84+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x43704a='';const _0x27efd8=_0x5073c9[_0x27211f(0xbf)](_0x5e5deb=>_0x5e5deb[_0x27211f(0x6d5)]),_0x16cd29=_0x3f6ca1=>{const _0x5a7f5b=_0x27211f;if(_0x3f6ca1>=0.8)return _0x5a7f5b(0x3eb);if(_0x3f6ca1>=0.6)return _0x5a7f5b(0x1ee);if(_0x3f6ca1>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x3f6ca1>=0.2)return _0x5a7f5b(0x2e2);return _0x5a7f5b(0x72);},_0x2b472b=_0x4f9ec5=>{const _0xcf8e07=_0x27211f;if(_0x4f9ec5<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x4f9ec5>=0.4)return _0xcf8e07(0x206);if(_0x4f9ec5>=0.3)return _0xcf8e07(0x23d);if(_0x4f9ec5>=0.2)return _0xcf8e07(0x435);return _0xcf8e07(0x245);},_0x190427=_0x596d48=>{const _0x1004a9=_0x27211f,_0x52ea8a=_0x596d48['toFixed'](0x0);if(parseFloat(_0x52ea8a)===0x64)return _0x1004a9(0x84f)+_0x52ea8a+_0x1004a9(0x2d1);if(_0x596d48>=0x32)return _0x1004a9(0xfd)+_0x52ea8a+_0x1004a9(0x2d1);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x52ea8a+'%</span>';};_0x254324[_0x27211f(0x528)]['forEach']((_0xd4fab5,_0x4e891c)=>{const _0x3803b7=_0x27211f,_0x547c62=_0xba967[_0x3803b7(0x3f9)][_0x4e891c],_0x2f1ac6=_0xeadcc5[_0x4e891c],_0x571369=_0xd4fab5[_0x3803b7(0x55a)]||_0xd4fab5[_0x3803b7(0x417)]||_0xd4fab5[_0x3803b7(0x3ab)];let _0x5db55e=0x0;const _0xef60a3=[],_0x59a643=[];_0x5073c9[_0x3803b7(0x573)](_0x514ae9=>{const _0x3c6b10=_0x3803b7,_0x2e3e8d=_0x514ae9[_0x3c6b10(0x6a8)][_0x514ae9['attempts'][_0x3c6b10(0x2fd)]-0x1];if(_0x2e3e8d&&_0x2e3e8d[_0x3c6b10(0x570)]){const _0x35127d=_0x2e3e8d[_0x3c6b10(0x570)][_0x3c6b10(0xcc)](_0x38783b=>_0x38783b[_0x3c6b10(0x5d1)]===_0x571369)??_0x2e3e8d[_0x3c6b10(0x570)][_0x4e891c]??null;_0x35127d&&(_0x35127d[_0x3c6b10(0x29a)]?(_0x5db55e++,_0xef60a3['push'](_0x514ae9[_0x3c6b10(0x6d5)])):_0x59a643[_0x3c6b10(0x6ae)](_0x514ae9[_0x3c6b10(0x6d5)]));}});const _0x11e85c=_0x5073c9[_0x3803b7(0x2fd)]>0x0?_0x5db55e/_0x5073c9[_0x3803b7(0x2fd)]*0x64:0x0,_0x6038a0=_0x3e9bd0[_0x3803b7(0x5e1)](_0x4f41d2=>!_0x27efd8[_0x3803b7(0x5c1)](_0x4f41d2)),_0x18be28=_0x547c62?_0x3803b7(0x141)+_0x547c62['p'][_0x3803b7(0x2c0)](0x2)+_0x3803b7(0x3b7)+_0x16cd29(_0x547c62['p'])+_0x3803b7(0x70c)+_0x547c62['r'][_0x3803b7(0x2c0)](0x2)+_0x3803b7(0x3b7)+_0x2b472b(_0x547c62['r'])+_0x3803b7(0x17c)+_0x190427(_0x11e85c)+_0x3803b7(0x24f):'';let _0x50fcab='';_0x2f1ac6&&(_0x50fcab=_0x3803b7(0x862)+Object[_0x3803b7(0x86c)](_0x2f1ac6)['map'](_0x3d20f3=>{const _0x90825f=_0x3803b7,_0x2ce89d=_0x2f1ac6[_0x3d20f3],_0x5c1f50=parseInt(_0x3d20f3)===_0xd4fab5[_0x90825f(0x3d2)],_0x707a73=!_0x5c1f50&&_0x2ce89d[_0x90825f(0x62b)]>_0x2ce89d[_0x90825f(0x510)];return'<tr\x20class=\x22'+(_0x5c1f50?_0x90825f(0x255):'')+_0x90825f(0x7a8)+(_0x5c1f50?'✔\x20':'')+_0x2ce89d[_0x90825f(0x708)]+_0x90825f(0x53b)+_0x2ce89d[_0x90825f(0x510)]+_0x90825f(0x53b)+_0x2ce89d[_0x90825f(0x62b)]+'\x20'+(_0x707a73?'👍':'')+_0x90825f(0x53b)+_0x2ce89d[_0x90825f(0x68d)]+_0x90825f(0x290);})[_0x3803b7(0x13f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0xfd6723='';_0x547c62&&_0x547c62['upperGroupResponders']&&(_0xfd6723=_0x3803b7(0x531)+_0x547c62[_0x3803b7(0x207)][_0x3803b7(0x2fd)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x547c62[_0x3803b7(0x207)][_0x3803b7(0xbf)](_0x52f432=>_0x3803b7(0x544)+(_0x52f432['isCorrect']?_0x3803b7(0x498):_0x3803b7(0x99b))+'\x20'+_0x52f432[_0x3803b7(0x1f8)]+_0x3803b7(0x841))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x547c62[_0x3803b7(0x642)][_0x3803b7(0x2fd)]+_0x3803b7(0x44b)+_0x547c62[_0x3803b7(0x642)][_0x3803b7(0xbf)](_0x114941=>_0x3803b7(0x544)+(_0x114941[_0x3803b7(0x29a)]?_0x3803b7(0x498):_0x3803b7(0x99b))+'\x20'+_0x114941['name']+'</li>')[_0x3803b7(0x13f)]('')+_0x3803b7(0x69c)),_0x43704a+=_0x3803b7(0x5ee)+(_0x4e891c+0x1)+':\x20'+_0x571369+_0x3803b7(0x4bb)+_0x18be28+_0x3803b7(0x4b5)+_0x571369+_0x3803b7(0x9ba)+_0x5db55e+_0x3803b7(0x13e)+_0x5073c9['length']+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x11e85c[_0x3803b7(0x2c0)](0x0)+_0x3803b7(0x8d4)+_0xef60a3[_0x3803b7(0x2fd)]+_0x3803b7(0x572)+(_0xef60a3[_0x3803b7(0x2fd)]>0x0?_0xef60a3[_0x3803b7(0x13f)](',\x20'):_0x3803b7(0x5f8))+_0x3803b7(0x3a8)+_0x59a643[_0x3803b7(0x2fd)]+_0x3803b7(0x572)+(_0x59a643[_0x3803b7(0x2fd)]>0x0?_0x59a643[_0x3803b7(0x13f)](',\x20'):'ไม่มี')+_0x3803b7(0x648)+_0x6038a0[_0x3803b7(0x2fd)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x6038a0[_0x3803b7(0x2fd)]>0x0?_0x6038a0[_0x3803b7(0x13f)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50fcab+_0x3803b7(0x358)+_0xfd6723+_0x3803b7(0x5aa);}),_0x288098[_0x27211f(0x65a)]=_0x14df16+_0x43704a;try{window[_0x27211f(0x7d2)]&&MathJax[_0x27211f(0x66b)]&&MathJax['typesetPromise']([_0x288098]);}catch(_0x3e9bd5){console[_0x27211f(0x33a)](_0x27211f(0x431),_0x3e9bd5);}}function calculateDistractorAnalysis(_0x181643,_0x190156){const _0x4bb85a=_0x56a724,_0x571113={};if(_0x190156[_0x4bb85a(0x2fd)]<0x2)return _0x571113;const _0x112dac=[..._0x190156]['sort']((_0x591b8a,_0x41f60b)=>{const _0x47fdee=_0x4bb85a,_0x3853c5=_0x41f60b[_0x47fdee(0x613)]-_0x591b8a[_0x47fdee(0x613)];if(_0x3853c5!==0x0)return _0x3853c5;const _0x5932c3=_0x591b8a['attempts']?.['length']||0x1,_0x1642d4=_0x41f60b[_0x47fdee(0x6a8)]?.[_0x47fdee(0x2fd)]||0x1,_0x11a79b=_0x5932c3-_0x1642d4;if(_0x11a79b!==0x0)return _0x11a79b;const _0x303a5f=new Date(_0x591b8a[_0x47fdee(0x1c9)]),_0x3fee32=new Date(_0x41f60b[_0x47fdee(0x1c9)]),_0xcf8883=_0x303a5f-_0x3fee32;if(_0xcf8883!==0x0)return _0xcf8883;return _0x591b8a[_0x47fdee(0x6d5)]['localeCompare'](_0x41f60b[_0x47fdee(0x6d5)],'th');}),_0x25191b=_0x112dac[_0x4bb85a(0x2fd)],_0x30501b=Math[_0x4bb85a(0x505)](0x1,Math[_0x4bb85a(0x917)](_0x25191b*0.33)),_0x718956=_0x112dac[_0x4bb85a(0x545)](0x0,_0x30501b),_0x2bfa8e=_0x112dac['slice'](-_0x30501b);return _0x181643['questions']['forEach']((_0x54a4f4,_0x271f0d)=>{const _0x3e00f2=_0x4bb85a;if(_0x54a4f4[_0x3e00f2(0x45e)]!==_0x3e00f2(0x420)||!_0x54a4f4['options'])return;const _0x19a20c=_0x54a4f4[_0x3e00f2(0x417)],_0x3ae81c={};_0x54a4f4['options'][_0x3e00f2(0x573)]((_0x4fe5f1,_0x50e358)=>{_0x3ae81c[_0x50e358]={'text':_0x4fe5f1,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x112dac[_0x3e00f2(0x573)](_0x1d3a65=>{const _0x36c423=_0x3e00f2,_0x1b4055=_0x1d3a65[_0x36c423(0x6a8)][_0x1d3a65['attempts']['length']-0x1],_0x29b8e2=_0x1b4055[_0x36c423(0x570)]['find'](_0x54af03=>_0x54af03[_0x36c423(0x5d1)]===_0x19a20c);if(_0x29b8e2&&_0x29b8e2[_0x36c423(0x995)]!==null){const _0x5a7129=_0x54a4f4[_0x36c423(0xbd)][_0x36c423(0x6bb)](_0x46eba1=>_0x46eba1===_0x29b8e2[_0x36c423(0x663)]);_0x5a7129!==-0x1&&_0x3ae81c[_0x5a7129]&&(_0x3ae81c[_0x5a7129][_0x36c423(0x68d)]++,_0x718956[_0x36c423(0x5c1)](_0x1d3a65)&&_0x3ae81c[_0x5a7129]['upper_group_count']++,_0x2bfa8e['includes'](_0x1d3a65)&&_0x3ae81c[_0x5a7129][_0x36c423(0x62b)]++);}}),_0x571113[_0x271f0d]=_0x3ae81c;}),_0x571113;}function calculateReliabilityKR20(_0x3166cc,_0x1ba675,_0x3247af){const _0x904fad=_0x56a724,_0x9d4c94=_0x3166cc[_0x904fad(0x528)][_0x904fad(0x2fd)];if(_0x9d4c94<0x2||_0x1ba675[_0x904fad(0x2fd)]<0x2)return null;const _0x11833d=_0x1ba675[_0x904fad(0xbf)](_0x11861d=>_0x11861d['latestScore']),_0xceb656=_0x11833d['reduce']((_0x1558a4,_0x8d3369)=>_0x1558a4+_0x8d3369,0x0)/_0x11833d[_0x904fad(0x2fd)],_0x400c25=_0x11833d[_0x904fad(0xbf)](_0x336ef8=>Math[_0x904fad(0x4dc)](_0x336ef8-_0xceb656,0x2))[_0x904fad(0x73f)]((_0x37a832,_0x5baefa)=>_0x37a832+_0x5baefa,0x0)/_0x11833d[_0x904fad(0x2fd)];if(_0x400c25===0x0)return null;let _0x1aa29f=0x0;for(let _0x592ee9=0x0;_0x592ee9<_0x9d4c94;_0x592ee9++){const _0x546b6a=_0x3247af[_0x592ee9]?.['p'];if(_0x546b6a===undefined)continue;const _0x35c760=0x1-_0x546b6a;_0x1aa29f+=_0x546b6a*_0x35c760;}if(_0x1aa29f===0x0)return null;const _0x352caf=_0x9d4c94/(_0x9d4c94-0x1)*(0x1-_0x1aa29f/_0x400c25);if(_0x352caf>0x1)return null;return _0x352caf;}async function handleAnalyzeClass(){const _0x3bc943=_0x56a724;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x329719=collection(db,_0x3bc943(0x4e3)+appId+_0x3bc943(0x395)+currentQuizData['id']+_0x3bc943(0x874)),_0x36b703=await getDocs(_0x329719),_0x54a2fb=_0x36b703[_0x3bc943(0x465)][_0x3bc943(0xbf)](_0x11db6a=>_0x11db6a[_0x3bc943(0x2fb)]());if(_0x54a2fb[_0x3bc943(0x2fd)]<0x2){showMessage(_0x3bc943(0x136));return;}const _0x577326=document[_0x3bc943(0x5a0)](_0x3bc943(0x765));_0x577326[_0x3bc943(0x65a)]=_0x3bc943(0x54f),document['getElementById']('analyze-strengths-btn')[_0x3bc943(0x2df)]=!![];const _0x51df71=_0x54a2fb[_0x3bc943(0xbf)]((_0x4dd067,_0x5c0942)=>{const _0x3b21b3=_0x3bc943,_0xbc71fa=_0x4dd067[_0x3b21b3(0x6a8)][_0x4dd067[_0x3b21b3(0x6a8)][_0x3b21b3(0x2fd)]-0x1];if(!_0xbc71fa)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x5c0942+0x1)+'\x20('+_0x4dd067[_0x3b21b3(0x6d5)]+_0x3b21b3(0x2e5)+_0xbc71fa[_0x3b21b3(0x2cf)]+'/'+_0x4dd067[_0x3b21b3(0x212)]+_0x3b21b3(0x60a)+JSON['stringify'](_0xbc71fa['answers'])+_0x3b21b3(0x72f);})[_0x3bc943(0x13f)](_0x3bc943(0x81c)),_0x2eb351='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x3bc943(0x58e)]+_0x3bc943(0x388)+JSON[_0x3bc943(0x5f1)](currentQuizData[_0x3bc943(0x528)])+_0x3bc943(0x202)+_0x51df71+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x48f892={'type':_0x3bc943(0x3db),'properties':{'classStrengths':{'type':_0x3bc943(0x2ae),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x3bc943(0x2ae),'items':{'type':_0x3bc943(0x52f)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x3bc943(0x52f)}}},'required':[_0x3bc943(0x43f),'classWeaknesses',_0x3bc943(0x8a3)]};try{const _0x36b88e=await callAnalysisApi(_0x2eb351,_0x48f892);displayClassAnalysis(_0x36b88e);}catch(_0x57a9ee){console[_0x3bc943(0x33a)](_0x3bc943(0x7e8),_0x57a9ee),_0x577326[_0x3bc943(0x65a)]=_0x3bc943(0x1c7)+_0x57a9ee[_0x3bc943(0x26e)]+_0x3bc943(0x478);}finally{document[_0x3bc943(0x5a0)]('analyze-strengths-btn')[_0x3bc943(0x2df)]=![];}}function displayClassAnalysis(_0x12199f){const _0x4f1e9b=_0x56a724,_0x99b18=document[_0x4f1e9b(0x5a0)]('strength-weakness-analysis-container');if(!_0x12199f){_0x99b18[_0x4f1e9b(0x65a)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x99b18[_0x4f1e9b(0x65a)]=_0x4f1e9b(0x1e4)+_0x12199f[_0x4f1e9b(0x43f)]['map'](_0x3ee96e=>'<li>'+_0x3ee96e+_0x4f1e9b(0x841))[_0x4f1e9b(0x13f)]('')+_0x4f1e9b(0x814)+_0x12199f[_0x4f1e9b(0x266)][_0x4f1e9b(0xbf)](_0x34414b=>'<li>'+_0x34414b+_0x4f1e9b(0x841))[_0x4f1e9b(0x13f)]('')+_0x4f1e9b(0x423)+_0x12199f[_0x4f1e9b(0x8a3)][_0x4f1e9b(0xbf)](_0xaf7c7=>'<li>'+_0xaf7c7+_0x4f1e9b(0x841))[_0x4f1e9b(0x13f)]('')+_0x4f1e9b(0x4f7);}function formatAndPrintWorksheet(_0x3ecc08,_0x3ac58a){const _0x44dc34=_0x56a724,_0x3c4170=_0x44dc34(0x8f4)+_0x3ecc08[_0x44dc34(0x58e)]+_0x44dc34(0x4ae)+_0x3ecc08[_0x44dc34(0x58e)]+_0x44dc34(0x2b8)+_0x3ecc08[_0x44dc34(0x528)][_0x44dc34(0xbf)]((_0x257ffe,_0x222b96)=>_0x44dc34(0x3ca)+(_0x222b96+0x1)+'.\x20'+_0x257ffe[_0x44dc34(0x417)]+_0x44dc34(0x508)+(_0x257ffe[_0x44dc34(0x223)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x257ffe['imageCode']+_0x44dc34(0x5bd):'')+_0x44dc34(0x932))['join']('')+_0x44dc34(0x587);_0x3ac58a[_0x44dc34(0x2a0)][_0x44dc34(0x5ed)](_0x3c4170),_0x3ac58a[_0x44dc34(0x2a0)][_0x44dc34(0x5ff)](),_0x3ac58a[_0x44dc34(0x8f8)]=function(){setTimeout(()=>{_0x3ac58a['print']();},0x3e8);};}async function generateWorksheet(){const _0x480f2b=_0x56a724,_0x13397c=document[_0x480f2b(0x5a0)]('worksheet-topic-input')['value'][_0x480f2b(0x3fa)]();if(!_0x13397c){showMessage(_0x480f2b(0x78a));return;}const _0x197dda=document[_0x480f2b(0x5a0)](_0x480f2b(0x9a4))[_0x480f2b(0x71e)],_0x4dad07=_0x197dda?'':_0x480f2b(0x318),_0x3246ec=window['open']('',_0x480f2b(0x442));_0x3246ec[_0x480f2b(0x2a0)][_0x480f2b(0x5ed)](_0x480f2b(0x185));const _0x3fd5c6=parseInt(document['getElementById']('num-questions')[_0x480f2b(0x8f1)]),_0x5d176f=document[_0x480f2b(0x5a0)](_0x480f2b(0x50a))[_0x480f2b(0x71e)],_0x137334=_0x5d176f?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x1a3a51=_0x480f2b(0x387)+_0x4dad07+_0x480f2b(0x144)+_0x3fd5c6+_0x480f2b(0x421)+_0x13397c+_0x480f2b(0x86e)+_0x137334+_0x480f2b(0x7d6)+simpleMathPrompt+_0x480f2b(0x704),_0x35acc3={'type':_0x480f2b(0x3db),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x480f2b(0x2ae),'items':{'type':_0x480f2b(0x3db),'properties':{'questionText':{'type':_0x480f2b(0x52f)},'imageCode':{'type':_0x480f2b(0x52f)}},'required':[_0x480f2b(0x417)]}}},'required':[_0x480f2b(0x58e),_0x480f2b(0x528)]};document['getElementById']('loader-text')[_0x480f2b(0x83f)]='',document['getElementById'](_0x480f2b(0x876))['classList']['remove'](_0x480f2b(0x5cf)),document['getElementById']('quiz-generation-area')[_0x480f2b(0x20d)][_0x480f2b(0x1cf)](_0x480f2b(0x5cf)),generateWorksheetBtn[_0x480f2b(0x2df)]=!![];try{const _0x37470e=await callAnalysisApi(_0x1a3a51,_0x35acc3);formatAndPrintWorksheet(_0x37470e,_0x3246ec);}catch(_0x3de2e1){console[_0x480f2b(0x33a)]('Error\x20generating\x20worksheet:',_0x3de2e1);if(_0x3246ec)_0x3246ec[_0x480f2b(0x5ff)]();showMessage(_0x480f2b(0x6b5));}finally{document[_0x480f2b(0x5a0)]('loader')[_0x480f2b(0x20d)]['add'](_0x480f2b(0x5cf)),document['getElementById'](_0x480f2b(0xa8))['classList']['add'](_0x480f2b(0x5cf)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x374e7f,_0x4f98fe){const _0x18a2d5=_0x56a724,_0x3b9150={'contents':[{'role':_0x18a2d5(0x3c4),'parts':[{'text':_0x374e7f}]}],'generationConfig':{'responseMimeType':_0x18a2d5(0x31f),'responseSchema':_0x4f98fe}},_0x3717d3=_0x18a2d5(0x625),_0x4fb40e=_0x18a2d5(0x82a)+_0x3717d3,_0x2bac66=await fetch(_0x4fb40e,{'method':_0x18a2d5(0x849),'headers':{'Content-Type':'application/json'},'body':JSON[_0x18a2d5(0x5f1)](_0x3b9150)});if(!_0x2bac66['ok'])throw new Error(_0x18a2d5(0x744)+_0x2bac66[_0x18a2d5(0x992)]);const _0x4cb090=await _0x2bac66[_0x18a2d5(0x3f2)]();if(_0x4cb090[_0x18a2d5(0x287)]?.[0x0]?.[_0x18a2d5(0x58d)]?.[_0x18a2d5(0x6e3)]?.[0x0])return JSON[_0x18a2d5(0x9cd)](_0x4cb090[_0x18a2d5(0x287)][0x0][_0x18a2d5(0x58d)][_0x18a2d5(0x6e3)][0x0][_0x18a2d5(0x708)]);else{let _0x30bda8=_0x18a2d5(0x42b);if(_0x4cb090[_0x18a2d5(0x810)]?.[_0x18a2d5(0x155)])_0x30bda8='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x4cb090['promptFeedback'][_0x18a2d5(0x155)]+'.';else _0x4cb090[_0x18a2d5(0x287)]?.[0x0]?.[_0x18a2d5(0x842)]&&_0x4cb090[_0x18a2d5(0x287)][0x0][_0x18a2d5(0x842)]!==_0x18a2d5(0x90a)&&(_0x30bda8=_0x18a2d5(0x295)+_0x4cb090[_0x18a2d5(0x287)][0x0][_0x18a2d5(0x842)]+'.');console[_0x18a2d5(0x33a)](_0x30bda8,JSON[_0x18a2d5(0x5f1)](_0x4cb090));throw new Error(_0x30bda8);}}async function handleStartSyncMode(_0x116bfd,_0x1a8b6e=![]){const _0x43016a=_0x56a724,_0x40847f=allQuizzes[_0x43016a(0xcc)](_0x46db20=>_0x46db20['id']===_0x116bfd)||allQuizzesGlobal[_0x43016a(0xcc)](_0x2af82b=>_0x2af82b['id']===_0x116bfd);if(!_0x40847f){showMessage(_0x43016a(0x73));return;}currentQuizData=getShuffledQuiz(_0x40847f);const _0x5963c6=Math[_0x43016a(0x917)](0x3e8+Math[_0x43016a(0x95a)]()*0x2328)[_0x43016a(0x239)]();try{const _0x381253=await addDoc(collection(db,_0x43016a(0x4e3)+appId+_0x43016a(0xb7)),{'quizId':_0x40847f['id'],'pin':_0x5963c6,'status':_0x43016a(0x1ff),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1a8b6e,'players':{}});currentLiveGameId=_0x381253['id'],showView('live-game'),renderSyncLobbyView(_0x5963c6,_0x40847f[_0x43016a(0x58e)]),listenForSyncGameUpdates();}catch(_0x388f83){console[_0x43016a(0x33a)](_0x43016a(0x65d),_0x388f83),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x44fb9f){const _0x4f4723=_0x56a724;if(!_0x44fb9f||!_0x44fb9f['shuffledQuiz']||!_0x44fb9f['players'])return _0x44fb9f[_0x4f4723(0x125)]||{};const _0x3175e0=_0x44fb9f[_0x4f4723(0x303)]['questions']['length'],_0x4fa8b8=JSON[_0x4f4723(0x9cd)](JSON['stringify'](_0x44fb9f['players']));return Object[_0x4f4723(0x7d9)](_0x4fa8b8)['forEach'](_0x49c7df=>{const _0x55899f=_0x4f4723,_0x3b14f3=_0x49c7df[_0x55899f(0x2cf)];let _0x2e1920=0x0;_0x44fb9f[_0x55899f(0x738)]&&_0x49c7df['answers']&&_0x49c7df['answers'][_0x55899f(0x573)](_0x5591e1=>{const _0x4f2651=_0x55899f;if(_0x5591e1[_0x4f2651(0x29a)]&&_0x5591e1[_0x4f2651(0x82e)])_0x2e1920+=0x1;else!_0x5591e1[_0x4f2651(0x29a)]&&_0x5591e1[_0x4f2651(0x82e)]&&(_0x2e1920-=0x1);}),_0x49c7df[_0x55899f(0x2cf)]=_0x3b14f3+_0x2e1920,_0x3175e0>0x0&&_0x3b14f3===_0x3175e0&&(_0x49c7df[_0x55899f(0x2cf)]+=0x1,_0x49c7df['hasPerfectScoreBonus']=!![]);}),_0x4fa8b8;}function listenForSyncGameUpdates(){const _0x26dea3=_0x56a724;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2d7781=doc(db,'artifacts/'+appId+_0x26dea3(0xb7),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2d7781,_0x34a6a9=>{const _0x582d89=_0x26dea3;if(!_0x34a6a9[_0x582d89(0x14e)]()){sessionStorage[_0x582d89(0x898)](_0x582d89(0x1f9));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว'),showView(currentMode===_0x582d89(0x912)?'project-detail':_0x582d89(0x740));return;}const _0x2cc093=_0x34a6a9[_0x582d89(0x2fb)]();currentMode===_0x582d89(0x912)?updateAdminSyncView(_0x2cc093):updateStudentSyncView(_0x2cc093);});}function renderSyncLobbyView(_0x4a39ad,_0x1ee94c){const _0x13263a=_0x56a724;liveGameView[_0x13263a(0x65a)]=_0x13263a(0x853)+_0x1ee94c+_0x13263a(0x17e)+_0x4a39ad+_0x13263a(0x2b0);const _0x1aea91=document[_0x13263a(0x5a0)]('confidence-scoring-toggle'),_0x43a4cf=document[_0x13263a(0x5a0)]('confidence-scoring-description');_0x1aea91[_0x13263a(0x86b)](_0x13263a(0x3f3),()=>{const _0x4d0efb=_0x13263a;_0x43a4cf['style'][_0x4d0efb(0x1c3)]=_0x1aea91[_0x4d0efb(0x71e)]?_0x4d0efb(0x3f4):'none';}),document[_0x13263a(0x5a0)](_0x13263a(0x5be))[_0x13263a(0x86b)](_0x13263a(0x12e),async()=>{const _0x101e27=_0x13263a,_0xae2ac4=doc(db,_0x101e27(0x4e3)+appId+'/public/data/syncGames',currentLiveGameId),_0x3b9754=document[_0x101e27(0x5a0)]('confidence-scoring-toggle')['checked'];await updateDoc(_0xae2ac4,{'status':_0x101e27(0x697),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x3b9754});});}function updateAdminSyncView(_0x3aec16){const _0x1fa35a=_0x56a724;switch(_0x3aec16['status']){case'lobby':renderSyncLobbyView(_0x3aec16[_0x1fa35a(0x1aa)],_0x3aec16['shuffledQuiz'][_0x1fa35a(0x58e)]);const _0x572157=Object[_0x1fa35a(0xe4)](_0x3aec16[_0x1fa35a(0x125)]||{})[_0x1fa35a(0x5e1)](([_0x51e738,_0x802feb])=>_0x802feb[_0x1fa35a(0x992)]!==_0x1fa35a(0x7ba));document['getElementById']('player-count')[_0x1fa35a(0x83f)]=_0x572157[_0x1fa35a(0x2fd)],document[_0x1fa35a(0x5a0)]('player-list-lobby')['innerHTML']=_0x572157[_0x1fa35a(0xbf)](([_0x211de3,_0x29891f])=>_0x1fa35a(0x391)+_0x211de3+_0x1fa35a(0x19e)+_0x211de3+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1fa35a(0x13f)]('')||_0x1fa35a(0x80f),document[_0x1fa35a(0x5a0)](_0x1fa35a(0x5be))[_0x1fa35a(0x2df)]=_0x572157[_0x1fa35a(0x2fd)]===0x0;break;case _0x1fa35a(0x697):const _0x28df8f=Object[_0x1fa35a(0x7d9)](_0x3aec16[_0x1fa35a(0x125)]||{})['filter'](_0xefb163=>_0xefb163[_0x1fa35a(0x992)]!==_0x1fa35a(0x7ba)),_0x3d1ccb=_0x28df8f[_0x1fa35a(0x5e1)](_0x347575=>_0x347575['answered'])[_0x1fa35a(0x2fd)],_0x52afd6=_0x3d1ccb===_0x28df8f[_0x1fa35a(0x2fd)]&&_0x28df8f['length']>0x0;if(_0x52afd6&&_0x3aec16['status']===_0x1fa35a(0x697)){const _0x4f93fe=doc(db,_0x1fa35a(0x4e3)+appId+_0x1fa35a(0xb7),currentLiveGameId);updateDoc(_0x4f93fe,{'status':_0x1fa35a(0x9ad)});}else{if(document[_0x1fa35a(0x5a0)](_0x1fa35a(0x1c2))===null)renderAdminSyncQuestionView(_0x3aec16);else{const _0x479bb4=document[_0x1fa35a(0x5a0)](_0x1fa35a(0x5fc));_0x479bb4&&(_0x479bb4[_0x1fa35a(0x83f)]=_0x3d1ccb+'/'+_0x28df8f[_0x1fa35a(0x2fd)]);const _0x18ff69=document[_0x1fa35a(0x5a0)]('sync-player-list');_0x18ff69&&(_0x18ff69[_0x1fa35a(0x65a)]=_0x28df8f[_0x1fa35a(0xbf)](_0x485f29=>{const _0x4ef6db=_0x1fa35a,_0x356235=_0x485f29[_0x4ef6db(0x5cb)]?_0x4ef6db(0x197):_0x4ef6db(0x62a),_0x3c8181=_0x485f29[_0x4ef6db(0x5cb)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x4ef6db(0x1d9);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x356235+_0x4ef6db(0x196)+_0x3c8181+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x485f29[_0x4ef6db(0x1f8)]+_0x4ef6db(0x6cf)+_0x485f29['name']+_0x4ef6db(0x499);})[_0x1fa35a(0x13f)](''));}}break;case _0x1fa35a(0x9ad):const _0x19a2cf=_0x3aec16[_0x1fa35a(0x795)],_0x2394fb=_0x3aec16[_0x1fa35a(0x303)]['questions'][_0x19a2cf];renderSyncSummaryView(_0x3aec16,_0x2394fb,!![]);break;case _0x1fa35a(0x8e9):renderAdminSyncDashboard(_0x3aec16,!![]);break;case _0x1fa35a(0x93c):_0x3aec16[_0x1fa35a(0x7b1)]&&saveGameResultsAsSubmissions(_0x3aec16);sessionStorage[_0x1fa35a(0x898)](_0x1fa35a(0x1f9));const _0x353c7a=calculateFinalPodiumScores(_0x3aec16);showPodiumView(_0x353c7a,'sync');break;}}function renderAdminSyncQuestionView(_0x106c49){const _0x229f8e=_0x56a724,_0x4eb839=_0x106c49[_0x229f8e(0x795)],_0x1839ba=_0x106c49['shuffledQuiz']['questions'][_0x4eb839],_0x55ad5a=_0x106c49['shuffledQuiz'][_0x229f8e(0x528)][_0x229f8e(0x2fd)],_0x159424=Object[_0x229f8e(0x7d9)](_0x106c49[_0x229f8e(0x125)]||{})[_0x229f8e(0x5e1)](_0x51c37c=>_0x51c37c[_0x229f8e(0x992)]!==_0x229f8e(0x7ba)),_0x36137b=_0x159424[_0x229f8e(0x5e1)](_0xee7549=>_0xee7549['answered'])[_0x229f8e(0x2fd)],_0x3e9963=_0x36137b===_0x159424[_0x229f8e(0x2fd)]&&_0x159424[_0x229f8e(0x2fd)]>0x0,_0x45dca3=(_0x1839ba[_0x229f8e(0xbd)]||[])[_0x229f8e(0xbf)](_0xff033d=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0xff033d+_0x229f8e(0x5bd))[_0x229f8e(0x13f)]('');liveGameView[_0x229f8e(0x65a)]=_0x229f8e(0x47d)+(_0x4eb839+0x1)+_0x229f8e(0x747)+_0x55ad5a+_0x229f8e(0x217)+_0x36137b+'/'+_0x159424[_0x229f8e(0x2fd)]+'</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x1839ba[_0x229f8e(0x417)]+_0x229f8e(0x3f0)+_0x45dca3+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x3e9963?_0x229f8e(0x2df):'')+_0x229f8e(0x98e);if(window[_0x229f8e(0x7d2)])MathJax[_0x229f8e(0x66b)]();document[_0x229f8e(0x5a0)](_0x229f8e(0x14f))[_0x229f8e(0x86b)](_0x229f8e(0x12e),async()=>{const _0x3bb8d5=_0x229f8e,_0x248dac=doc(db,_0x3bb8d5(0x4e3)+appId+_0x3bb8d5(0xb7),currentLiveGameId);await updateDoc(_0x248dac,{'status':_0x3bb8d5(0x8e9)});}),document['getElementById'](_0x229f8e(0x721))['onclick']=()=>{const _0x3b3135=_0x229f8e;openScratchpad(_0x1839ba,_0x1839ba[_0x3b3135(0xbd)]||[]);},document['getElementById'](_0x229f8e(0x445))[_0x229f8e(0x86b)](_0x229f8e(0x12e),()=>{const _0x220636=_0x229f8e;document[_0x220636(0x5a0)]('sync-player-management')[_0x220636(0x20d)][_0x220636(0x964)]('hidden');});}function renderSyncLeaderboardView(_0x51f5ae,_0x4bddbf){const _0x31370f=_0x56a724,_0x199c48=Object['values'](_0x51f5ae['players']||{});_0x199c48[_0x31370f(0x905)]((_0x330b0d,_0x2f81a9)=>_0x2f81a9[_0x31370f(0x2cf)]-_0x330b0d[_0x31370f(0x2cf)]);const _0x1909f7=_0x199c48[_0x31370f(0x545)](0x0,0x5);let _0x459e53='';if(_0x4bddbf){const _0x4ad545=_0x51f5ae[_0x31370f(0x795)]>=_0x51f5ae[_0x31370f(0x303)][_0x31370f(0x528)][_0x31370f(0x2fd)]-0x1;_0x459e53=_0x31370f(0x2ee)+(_0x4ad545?_0x31370f(0x7d8):_0x31370f(0x7f8))+_0x31370f(0x177);}else _0x459e53=_0x31370f(0x5de);liveGameView[_0x31370f(0x65a)]=_0x31370f(0x2b2)+_0x1909f7[_0x31370f(0xbf)]((_0x4cfbbe,_0x4c24a9)=>_0x31370f(0x3c7)+(_0x4c24a9+0x1)+'.\x20'+_0x4cfbbe[_0x31370f(0x1f8)]+_0x31370f(0x1d0)+_0x4cfbbe['score']+_0x31370f(0x275))[_0x31370f(0x13f)]('')+_0x31370f(0x940)+_0x459e53+_0x31370f(0x1bb),_0x4bddbf&&document[_0x31370f(0x5a0)](_0x31370f(0x3bc))[_0x31370f(0x86b)]('click',async()=>{const _0x2c5564=_0x31370f,_0x44f4b6=doc(db,_0x2c5564(0x4e3)+appId+'/public/data/syncGames',currentLiveGameId),_0xf8c730=_0x51f5ae[_0x2c5564(0x795)]+0x1;if(_0xf8c730<_0x51f5ae['shuffledQuiz'][_0x2c5564(0x528)][_0x2c5564(0x2fd)]){const _0x47bb02={};Object[_0x2c5564(0x86c)](_0x51f5ae[_0x2c5564(0x125)])[_0x2c5564(0x573)](_0x557af9=>{const _0x3063e6=_0x2c5564;_0x47bb02[_0x3063e6(0x270)+_0x557af9+_0x3063e6(0x374)]=![];}),await updateDoc(_0x44f4b6,{..._0x47bb02,'status':_0x2c5564(0x697),'currentQuestionIndex':_0xf8c730,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x44f4b6,{'status':_0x2c5564(0x93c)});});}async function handleJoinSyncGame(){const _0x48e275=_0x56a724,_0x418590=prompt(_0x48e275(0x34c));if(!_0x418590||_0x418590['trim']()['length']!==0x2){showMessage(_0x48e275(0x2b9));return;}try{const _0x28bdda=collection(db,_0x48e275(0x4e3)+appId+_0x48e275(0xb7)),_0x268e0b=query(_0x28bdda,where(_0x48e275(0x1aa),'==',_0x418590[_0x48e275(0x3fa)]()),where('status','==',_0x48e275(0x1ff))),_0x427ecb=await getDocs(_0x268e0b);if(_0x427ecb[_0x48e275(0x3f7)]){showMessage(_0x48e275(0x9ab));return;}const _0x1f75fa=_0x427ecb[_0x48e275(0x465)][0x0];currentLiveGameId=_0x1f75fa['id'];const _0x461e53=_0x1f75fa['data'](),_0x37314f=doc(db,_0x48e275(0x4e3)+appId+'/public/data/quizzes',_0x461e53[_0x48e275(0x9a5)]),_0x22f5c6=await getDoc(_0x37314f);if(!_0x22f5c6[_0x48e275(0x14e)]())throw new Error(_0x48e275(0x77a));const _0x1cb648=_0x22f5c6[_0x48e275(0x2fb)](),_0x5710e4=doc(db,'artifacts/'+appId+'/public/data/projects',_0x1cb648['projectId']),_0x212265=await getDoc(_0x5710e4);if(!_0x212265[_0x48e275(0x14e)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x461e53[_0x48e275(0x303)];const _0x4cf5df=_0x212265[_0x48e275(0x2fb)]();showView(_0x48e275(0x66c)),showTeamPlayerSelection(_0x4cf5df[_0x48e275(0x75c)],_0x1cb648[_0x48e275(0x58e)]);const _0x1d0b10=document[_0x48e275(0x5a0)](_0x48e275(0x92e));_0x1d0b10['onclick']=confirmAndJoinSyncGame;}catch(_0x3f1eaa){console[_0x48e275(0x33a)](_0x48e275(0x1a4),_0x3f1eaa),showMessage(_0x48e275(0x864)+_0x3f1eaa[_0x48e275(0x26e)]);}}function updateStudentSyncView(_0x75f3b2){const _0x43da31=_0x56a724,_0x55fbd5=_0x75f3b2['players'][localTeamPlayers[0x0]];switch(_0x75f3b2[_0x43da31(0x992)]){case'lobby':showView('live-game'),liveGameView['innerHTML']=_0x43da31(0x89d);break;case _0x43da31(0x697):const _0x459d63=localTeamPlayers['every'](_0x4f0480=>_0x75f3b2[_0x43da31(0x125)][_0x4f0480]?.['answered']===!![]);_0x459d63?liveGameView[_0x43da31(0x65a)]=_0x43da31(0x363):renderStudentSyncQuestionView(_0x75f3b2);break;case _0x43da31(0x9ad):liveGameView['innerHTML']=_0x43da31(0x75);break;case _0x43da31(0x8e9):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x75f3b2);break;case'podium':sessionStorage[_0x43da31(0x898)](_0x43da31(0x1f9));const _0x8ddbab=calculateFinalPodiumScores(_0x75f3b2);showPodiumView(_0x8ddbab,_0x43da31(0x273));break;}}function renderStudentSyncResultsView(_0x36f3f6){const _0x5d8629=_0x56a724,_0x367258=localTeamPlayers[_0x5d8629(0xbf)](_0x163926=>_0x36f3f6[_0x5d8629(0x125)][_0x163926])[_0x5d8629(0x5e1)](Boolean);_0x367258[_0x5d8629(0x905)]((_0x7972a3,_0x527692)=>(_0x527692['score']||0x0)-(_0x7972a3[_0x5d8629(0x2cf)]||0x0));const _0x5a802e=_0x36f3f6['currentQuestionIndex']>=_0x36f3f6[_0x5d8629(0x303)][_0x5d8629(0x528)][_0x5d8629(0x2fd)]-0x1;let _0x7fd634='';_0x5a802e?_0x7fd634=_0x5d8629(0x30e):_0x7fd634=_0x5d8629(0x2fa);const _0x50e90b=_0x5d8629(0x164)+_0x367258[_0x5d8629(0xbf)]((_0x3f2ea8,_0x5d59b6)=>_0x5d8629(0x462)+(_0x5d59b6+0x1)+_0x5d8629(0x1c8)+_0x3f2ea8['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x3f2ea8[_0x5d8629(0x2cf)]+_0x5d8629(0x7cc))[_0x5d8629(0x13f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x7fd634+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x5d8629(0x65a)]=_0x50e90b;}function renderStudentSyncQuestionView(_0x3f1d09){const _0x53d075=_0x56a724;while(localPlayerTurnIndex<localTeamPlayers[_0x53d075(0x2fd)]&&_0x3f1d09[_0x53d075(0x125)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x53d075(0x5cb)]===!![]){localPlayerTurnIndex++;}const _0x68d39c=localTeamPlayers[localPlayerTurnIndex];if(!_0x68d39c)return;const _0x4c8844=_0x3f1d09[_0x53d075(0x795)],_0x8f83ba=_0x3f1d09[_0x53d075(0x303)][_0x53d075(0x528)][_0x53d075(0x2fd)],_0x252ce7=_0x3f1d09[_0x53d075(0x303)][_0x53d075(0x528)][_0x4c8844],_0x3e129d=_0x252ce7['questionType']||_0x3f1d09['shuffledQuiz']['quizType'];let _0x37deda='',_0x590d3f=![];switch(_0x3e129d){case'true_false':_0x37deda=_0x53d075(0x928);break;case'short_answer':case'fill_in_no_choices':_0x590d3f=!![],_0x37deda=_0x53d075(0x308);break;case'matching_item':_0x590d3f=!![],_0x37deda=_0x53d075(0x82)+(_0x252ce7[_0x53d075(0x5fd)]||[])['map'](_0x3fd32b=>_0x53d075(0x7ca)+_0x3fd32b+'\x22>'+_0x3fd32b+'</option>')[_0x53d075(0x13f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x53d075(0x420):default:_0x37deda=(_0x252ce7[_0x53d075(0xbd)]||[])['map']((_0x2191e1,_0x5e6239)=>_0x53d075(0x99e)+_0x5e6239+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x2191e1+_0x53d075(0x6d3))['join']('');break;}liveGameView[_0x53d075(0x65a)]=_0x53d075(0x53a)+(_0x4c8844+0x1)+_0x53d075(0x747)+_0x8f83ba+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x68d39c+_0x53d075(0x9a1)+(_0x252ce7['questionText']||_0x252ce7[_0x53d075(0x55a)])+_0x53d075(0x5b4)+_0x37deda+_0x53d075(0x9ce);if(window[_0x53d075(0x7d2)])MathJax[_0x53d075(0x66b)]();function _0x129247(_0x58d1ae,_0x4c8f1,_0x555154,_0x5d557d){const _0x584d3f=_0x53d075,_0x26a002=_0x555154['isConfidenceScoringEnabled']===!![];if(_0x26a002){document[_0x584d3f(0x5a0)](_0x584d3f(0x2f7))[_0x584d3f(0x513)][_0x584d3f(0x758)]=_0x584d3f(0x273);const _0x5a70bf=document[_0x584d3f(0x5a0)](_0x584d3f(0x651));_0x5a70bf[_0x584d3f(0x513)][_0x584d3f(0x736)]=_0x58d1ae,_0x5a70bf[_0x584d3f(0x513)][_0x584d3f(0x697)]=JSON[_0x584d3f(0x5f1)](_0x4c8f1),_0x5a70bf['dataset']['gameData']=JSON[_0x584d3f(0x5f1)](_0x555154),_0x5a70bf[_0x584d3f(0x513)][_0x584d3f(0x1ce)]=_0x5d557d,document['getElementById']('confidence-modal')[_0x584d3f(0x20d)][_0x584d3f(0x1cf)]('hidden');}else handleSyncAnswerSubmit(_0x58d1ae,_0x4c8f1,_0x555154,_0x5d557d,![]);}_0x590d3f?document[_0x53d075(0x5a0)](_0x53d075(0x50c))[_0x53d075(0x86b)](_0x53d075(0x12e),()=>{const _0x3e3ed8=_0x53d075,_0x42a799=document[_0x3e3ed8(0x5a0)](_0x3e3ed8(0x8ee))||document['getElementById'](_0x3e3ed8(0x996));if(_0x42a799[_0x3e3ed8(0x8f1)]['trim']()===''){showMessage(_0x3e3ed8(0x25e));return;}_0x129247(_0x42a799[_0x3e3ed8(0x8f1)],_0x252ce7,_0x3f1d09,_0x68d39c);}):document[_0x53d075(0x81b)](_0x53d075(0x728))['forEach'](_0x508703=>{const _0x1b328d=_0x53d075;_0x508703[_0x1b328d(0x86b)]('click',()=>{const _0x20afa4=_0x1b328d;_0x129247(_0x508703['dataset'][_0x20afa4(0x8f1)],_0x252ce7,_0x3f1d09,_0x68d39c);});});}async function handleSyncAnswerSubmit(_0x488e07,_0x1c0958,_0x3128b9,_0x170d5e,_0x38983f){const _0x231a64=_0x56a724;document[_0x231a64(0x81b)](_0x231a64(0x9c6))['forEach'](_0x3b5d29=>_0x3b5d29['disabled']=!![]);const _0x363a0e=_0x1c0958[_0x231a64(0x45e)]||_0x3128b9[_0x231a64(0x303)][_0x231a64(0x2f1)];let _0xd1d6a6=![],_0xc4cdce=_0x488e07;switch(_0x363a0e){case _0x231a64(0x142):const _0x5e61d2=parseInt(_0x488e07),_0x1ad67e=_0x1c0958[_0x231a64(0xc1)]===!![]||String(_0x1c0958[_0x231a64(0xc1)])[_0x231a64(0x527)]()==='true';_0xd1d6a6=_0x5e61d2===0x0&&_0x1ad67e||_0x5e61d2===0x1&&!_0x1ad67e,_0xc4cdce=_0x5e61d2===0x0?'ใช่\x20/\x20ถูก':_0x231a64(0x646);break;case _0x231a64(0x341):case _0x231a64(0x25c):_0xd1d6a6=await gradeShortAnswer(_0x488e07,_0x1c0958);break;case'matching_item':_0xd1d6a6=_0x488e07===_0x1c0958[_0x231a64(0x93f)];break;case'multiple_choice':default:const _0x4fffed=parseInt(_0x488e07);_0xd1d6a6=_0x4fffed===_0x1c0958['correctAnswerIndex'];_0x1c0958[_0x231a64(0xbd)]&&_0x1c0958[_0x231a64(0xbd)][_0x4fffed]&&(_0xc4cdce=_0x1c0958[_0x231a64(0xbd)][_0x4fffed]);break;}const _0x1c1db5=_0xd1d6a6?0x1:0x0,_0x27bba6=doc(db,_0x231a64(0x4e3)+appId+_0x231a64(0xb7),currentLiveGameId),_0x534b74={};_0x534b74[_0x231a64(0x270)+_0x170d5e+_0x231a64(0x384)]=increment(_0x1c1db5),_0x534b74['players.'+_0x170d5e+_0x231a64(0x374)]=!![];let _0x5a890a=null;(_0x363a0e==='multiple_choice'||_0x363a0e===_0x231a64(0x142)||_0x363a0e==='fill_in_with_choices')&&(_0x5a890a=parseInt(_0x488e07));_0x534b74[_0x231a64(0x270)+_0x170d5e+'.lastAnswerIndex']=_0x5a890a;const _0x4f1f27={'questionIndex':_0x3128b9[_0x231a64(0x795)],'questionId':_0x1c0958['id'],'answer':_0x488e07,'answerText':_0xc4cdce,'isCorrect':_0xd1d6a6,'originalQuestionText':_0x1c0958[_0x231a64(0x417)]||_0x1c0958[_0x231a64(0x55a)],'wasConfident':_0x38983f};_0x534b74[_0x231a64(0x270)+_0x170d5e+_0x231a64(0x709)]=arrayUnion(_0x4f1f27),await updateDoc(_0x27bba6,_0x534b74);}initialize();
