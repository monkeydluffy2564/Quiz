const _0xc7d29a=_0x3c23;(function(_0x4cbc46,_0x4da096){const _0x2b1d71=_0x3c23,_0x207cd5=_0x4cbc46();while(!![]){try{const _0x16f574=-parseInt(_0x2b1d71(0x268))/0x1+-parseInt(_0x2b1d71(0x8d6))/0x2+-parseInt(_0x2b1d71(0x34e))/0x3*(-parseInt(_0x2b1d71(0x93a))/0x4)+parseInt(_0x2b1d71(0x9b9))/0x5+-parseInt(_0x2b1d71(0x899))/0x6*(parseInt(_0x2b1d71(0xc92))/0x7)+parseInt(_0x2b1d71(0xdc))/0x8+parseInt(_0x2b1d71(0xdd3))/0x9;if(_0x16f574===_0x4da096)break;else _0x207cd5['push'](_0x207cd5['shift']());}catch(_0x337c05){_0x207cd5['push'](_0x207cd5['shift']());}}}(_0x4368,0xdea75));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove,getCountFromServer}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0xc7d29a(0x347),_0xc7d29a(0xaee),_0xc7d29a(0xd8e),_0xc7d29a(0x7be),_0xc7d29a(0x58d),_0xc7d29a(0x2f5),_0xc7d29a(0x527),_0xc7d29a(0x903),_0xc7d29a(0x552),_0xc7d29a(0x5f3),_0xc7d29a(0xbbd),'มือปราบสายรุ้ง',_0xc7d29a(0x14e),_0xc7d29a(0x394),_0xc7d29a(0x12d),_0xc7d29a(0xcf),_0xc7d29a(0x3b5),_0xc7d29a(0xcf7),'โจรสลัดอวกาศ',_0xc7d29a(0x362),_0xc7d29a(0x64a),_0xc7d29a(0xc3f),_0xc7d29a(0x75b),_0xc7d29a(0xdbf),_0xc7d29a(0x2f7),_0xc7d29a(0x72b),'กระต่ายตื่นตูม',_0xc7d29a(0xd29),_0xc7d29a(0x747),_0xc7d29a(0x438),_0xc7d29a(0x6c7),_0xc7d29a(0xb44),_0xc7d29a(0x305),_0xc7d29a(0x185),_0xc7d29a(0xab6),_0xc7d29a(0xca4),_0xc7d29a(0x460),_0xc7d29a(0x69e),_0xc7d29a(0x625),_0xc7d29a(0x1a4),_0xc7d29a(0x761),'ชาไข่มุก',_0xc7d29a(0xe57),_0xc7d29a(0x407),'ไอติมทอด','ข้าวมันไก่พิเศษ',_0xc7d29a(0xd7c),_0xc7d29a(0xd9a),'ชีสเค้ก',_0xc7d29a(0x1c5),'สายตาสั้น',_0xc7d29a(0xf4),_0xc7d29a(0x602),_0xc7d29a(0xcc5),'ติดซีรีส์',_0xc7d29a(0x9e8),'เน็ตช้า',_0xc7d29a(0x5bf),'404\x20Not\x20Found',_0xc7d29a(0xb3a),'จันทร์เจ้า','ตะวันฉาย',_0xc7d29a(0xb5e),_0xc7d29a(0x3ae),'ดวงดาว',_0xc7d29a(0xb80),_0xc7d29a(0x9b2),_0xc7d29a(0xc59),_0xc7d29a(0xbcb),_0xc7d29a(0x8b5),'นักเดินทาง','ช่างภาพ',_0xc7d29a(0xdbe),'ศิลปิน',_0xc7d29a(0xf3),_0xc7d29a(0x117),_0xc7d29a(0xaa2),_0xc7d29a(0x6c1),_0xc7d29a(0x10d),_0xc7d29a(0xe2a),_0xc7d29a(0x28d),_0xc7d29a(0xe60),'แปลงร่าง',_0xc7d29a(0xd3b),'ดาบพิฆาตอสูร',_0xc7d29a(0x180),_0xc7d29a(0xa21),'ไอรอนแมน',_0xc7d29a(0x99c),_0xc7d29a(0xdc2),'รักแรกพบ',_0xc7d29a(0x3b9),_0xc7d29a(0xbb6),_0xc7d29a(0x8f0),_0xc7d29a(0xdb7),_0xc7d29a(0xacc),_0xc7d29a(0x6a8),'คนคุย',_0xc7d29a(0xae8),'มูเตลู'];let lastSeenQuestionIndex=-0x1,orderedPlayerSelection=[],clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0xc7d29a(0x1fd),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0xc7d29a(0x1fd),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0xc7d29a(0x1fd),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x20d90f=_0xc7d29a;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x20d90f(0xe7c)][_0x20d90f(0x92a)]('screen'),console[_0x20d90f(0xcde)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock['addEventListener'](_0x20d90f(0xb6c),()=>{const _0x5ccfc5=_0x20d90f;console[_0x5ccfc5(0xcde)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x404a81){console[_0x20d90f(0x3e8)](_0x20d90f(0x6d3)+_0x404a81['name']+',\x20'+_0x404a81[_0x20d90f(0xd5f)]);}else console[_0x20d90f(0x6d4)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x5913eb=_0xc7d29a;wakeLock!==null&&(await wakeLock[_0x5913eb(0xb6c)](),wakeLock=null,console[_0x5913eb(0xcde)](_0x5913eb(0xdbc)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x212e11=_0xc7d29a;if(!document[_0x212e11(0x8dc)]['classList'][_0x212e11(0x3c8)]('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x507263=_0x212e11;document[_0x507263(0x8dc)]['classList'][_0x507263(0x743)]('dimmed'),console[_0x507263(0xcde)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}}function wakeUpScreen(_0x446cac){const _0x55c1f9=_0xc7d29a;_0x446cac&&(_0x446cac['stopPropagation'](),_0x446cac['preventDefault']());document[_0x55c1f9(0x8dc)][_0x55c1f9(0x144)][_0x55c1f9(0xc8b)](_0x55c1f9(0x785));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x198c27=_0x55c1f9;document[_0x198c27(0x8dc)][_0x198c27(0x144)][_0x198c27(0x743)](_0x198c27(0x785));},inactivityTime);}function stopDimTimer(){const _0x153c39=_0xc7d29a;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x153c39(0x144)][_0x153c39(0xc8b)](_0x153c39(0x785)),window['removeEventListener'](_0x153c39(0xdb2),resetDimTimer),window[_0x153c39(0xdf5)](_0x153c39(0xb03),resetDimTimer),window[_0x153c39(0xdf5)](_0x153c39(0x1ce),resetDimTimer),window[_0x153c39(0xdf5)]('keydown',resetDimTimer),console[_0x153c39(0xcde)](_0x153c39(0x9ab));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x5f0709,_0x5d1bd8=![]){const _0x3a20d9=_0xc7d29a,_0x37b4bd=allQuizzes[_0x3a20d9(0x7d2)](_0x2a3d95=>_0x2a3d95['id']===_0x5f0709)||allQuizzesGlobal[_0x3a20d9(0x7d2)](_0x5bc842=>_0x5bc842['id']===_0x5f0709);if(!_0x37b4bd){showMessage(_0x3a20d9(0x47c));return;}currentQuizData=getShuffledQuiz(_0x37b4bd);const _0x250979=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();try{const _0x4957b8=await addDoc(collection(db,_0x3a20d9(0x9c2)+appId+_0x3a20d9(0x387)),{'quizId':_0x37b4bd['id'],'projectId':_0x37b4bd[_0x3a20d9(0x8d2)],'status':'lobby','pin':_0x250979,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5d1bd8});currentTeamQuizId=_0x4957b8['id'],showView(_0x3a20d9(0xcb9)),renderAdminTeamQuizDashboard(_0x250979,_0x37b4bd[_0x3a20d9(0x664)]),listenForTeamQuizUpdates();}catch(_0x2beb2f){console[_0x3a20d9(0x3e8)]('Error\x20starting\x20team\x20quiz:',_0x2beb2f),showMessage(_0x3a20d9(0x24d));}}function renderAdminTeamQuizDashboard(_0xd445ea,_0x64a2d5,_0x1df756='team'){const _0x3264a9=_0xc7d29a,_0x42b445=_0x1df756==='group'?_0x3264a9(0x421):_0x3264a9(0x88a);liveGameView[_0x3264a9(0x22a)]=_0x3264a9(0x912)+_0x42b445+':\x20'+_0x64a2d5+_0x3264a9(0xe45)+_0xd445ea+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x3264a9(0x8cb)](_0x3264a9(0x48d))[_0x3264a9(0x38d)](_0x3264a9(0x9b4),async()=>{const _0x10469a=_0x3264a9;showConfirmation(_0x10469a(0x3f2),async()=>{const _0x3dfd2f=_0x10469a;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,'artifacts/'+appId+_0x3dfd2f(0x387),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x1c0b38=_0xc7d29a;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x58232c=doc(db,_0x1c0b38(0x9c2)+appId+_0x1c0b38(0x387),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x58232c,_0x529f60=>{const _0x2d8b35=_0x1c0b38;if(!_0x529f60[_0x2d8b35(0x45f)]()){sessionStorage[_0x2d8b35(0xd5b)](_0x2d8b35(0x499));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x2d8b35(0xbfb));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2d8b35(0x87c)?showView(_0x2d8b35(0x753)):showView(_0x2d8b35(0x24c));return;}const _0x3f0e5b=_0x529f60[_0x2d8b35(0x241)]();if(currentMode==='admin'){if(_0x3f0e5b[_0x2d8b35(0xaec)]==='group'&&_0x3f0e5b[_0x2d8b35(0x20a)]!=='podium'&&_0x3f0e5b[_0x2d8b35(0x20a)]!==_0x2d8b35(0x201)){const _0x58d7ec=Object[_0x2d8b35(0xc37)](_0x3f0e5b[_0x2d8b35(0xe2c)]||{});if(_0x58d7ec[_0x2d8b35(0x3bb)]>0x0){const _0x164385=_0x58d7ec[_0x2d8b35(0xd31)](_0x31533e=>_0x31533e[_0x2d8b35(0x5c2)]===!![]);_0x164385&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x3f0e5b);}else{if(_0x3f0e5b[_0x2d8b35(0x20a)]==='podium'||_0x3f0e5b[_0x2d8b35(0x20a)]===_0x2d8b35(0x201)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x3f0e5b[_0x2d8b35(0xaec)]===_0x2d8b35(0x523)){const _0x789e40=_0x3f0e5b[_0x2d8b35(0xe2c)][userId];(!_0x789e40||!_0x789e40['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x54aa2e){const _0x5697ab=_0xc7d29a;console['log'](_0x5697ab(0x290));const _0x35a0d9=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',_0x54aa2e);try{const _0x1d02e0=await getDoc(_0x35a0d9);if(_0x1d02e0[_0x5697ab(0x45f)]()){const _0x104e5f=_0x1d02e0[_0x5697ab(0x241)]();_0x104e5f[_0x5697ab(0x367)]&&await saveGameResultsAsSubmissions(_0x104e5f);}await updateDoc(_0x35a0d9,{'status':_0x5697ab(0xba3)});}catch(_0x23709d){console[_0x5697ab(0x3e8)](_0x5697ab(0x711),_0x23709d);}}function updateAdminTeamDashboard(_0x1f7542){const _0x34c4da=_0xc7d29a,_0xa3c564=document[_0x34c4da(0x8cb)]('team-player-status-grid');if(!_0xa3c564)return;const _0xa5bed4=_0x1f7542['mode']||_0x34c4da(0xc7d),_0x265d38=currentQuizData[_0x34c4da(0x763)][_0x34c4da(0x3bb)];if(_0xa5bed4==='group'){const _0xbe9579=Object[_0x34c4da(0xc37)](_0x1f7542[_0x34c4da(0xe2c)]||{});if(_0xbe9579[_0x34c4da(0x3bb)]===0x0){_0xa3c564[_0x34c4da(0x22a)]=_0x34c4da(0xc58);return;}const _0x470d35=[..._0xbe9579][_0x34c4da(0x9a7)]((_0x3f3e4b,_0xa69869)=>_0xa69869[_0x34c4da(0x1f9)]-_0x3f3e4b[_0x34c4da(0x1f9)]),_0x12eff=_0x470d35['map']((_0x14cc0d,_0x2429b9)=>{const _0x256c3a=_0x34c4da,_0x122eec=_0x14cc0d[_0x256c3a(0xea)]?.[_0x256c3a(0x3bb)]||0x0;return _0x256c3a(0x76c)+(_0x2429b9+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x14cc0d[_0x256c3a(0x7c7)][_0x256c3a(0x922)](',\x20')+_0x256c3a(0x43b)+_0x122eec+'/'+_0x265d38+_0x256c3a(0x238)+_0x14cc0d[_0x256c3a(0x1f9)]+_0x256c3a(0xd64);})[_0x34c4da(0x922)](''),_0x54c3a7=currentQuizData[_0x34c4da(0x763)]['map']((_0x39b0ee,_0x5a07f7)=>{const _0x125fb9=_0x34c4da;let _0xe781a2=0x0,_0x82705e=0x0;_0xbe9579['forEach'](_0x872876=>{const _0x35c7f0=_0x3c23,_0x38daeb=_0x872876[_0x35c7f0(0xea)]?.[_0x35c7f0(0x7d2)](_0xd28f36=>_0xd28f36[_0x35c7f0(0x47e)]===_0x5a07f7);if(_0x38daeb){_0x82705e++;if(_0x38daeb[_0x35c7f0(0x2a6)])_0xe781a2++;}});const _0x4adadd=_0x82705e>0x0&&_0x82705e===_0xbe9579[_0x125fb9(0x3bb)],_0x3953b8=_0x4adadd?_0x125fb9(0xdd7):_0x125fb9(0x916),_0x50ebac=_0x4adadd?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return _0x125fb9(0x7b5)+_0x3953b8+_0x125fb9(0x2fb)+(_0x5a07f7+0x1)+':</span><span>'+_0x50ebac+_0x125fb9(0x472)+_0xe781a2+'/'+_0xbe9579[_0x125fb9(0x3bb)]+'\x20กลุ่ม</p></div>';})['join']('');_0xa3c564[_0x34c4da(0x22a)]=_0x34c4da(0xce)+_0x12eff+_0x34c4da(0x1f7)+_0x54c3a7+'</div></div></div>';return;}const _0x51ab64=_0x1f7542['responses']||{},_0x4c4d0e=Object['keys'](_0x51ab64);if(_0x4c4d0e[_0x34c4da(0x3bb)]===0x0){_0xa3c564[_0x34c4da(0x22a)]=_0x34c4da(0xc01);return;}const _0xb73709=_0x4c4d0e[_0x34c4da(0x283)](_0x11796b=>({'name':_0x11796b,'score':_0x51ab64[_0x11796b][_0x34c4da(0x1f9)]||0x0}))[_0x34c4da(0x9a7)]((_0x9056ce,_0x1648fc)=>_0x1648fc[_0x34c4da(0x1f9)]-_0x9056ce[_0x34c4da(0x1f9)]),_0x4f06bf=_0xb73709[_0x34c4da(0x283)](_0x9a6819=>{const _0x1cb489=_0x34c4da,_0x3e55f0=_0x51ab64[_0x9a6819[_0x1cb489(0xa48)]]?.[_0x1cb489(0xea)]?.[_0x1cb489(0x3bb)]||0x0,_0x391b96=Math[_0x1cb489(0x1be)](_0x265d38/_0x4c4d0e[_0x1cb489(0x3bb)]);return _0x1cb489(0x239)+_0x9a6819['name']+_0x1cb489(0x98d)+_0x3e55f0+'/'+_0x391b96+'\x20ตา)</span></span><span\x20class=\x22font-bold\x22>'+_0x9a6819['score']+_0x1cb489(0x7aa);})[_0x34c4da(0x922)](''),_0x97c82a=_0x4c4d0e[_0x34c4da(0xcb0)]((_0x1e003b,_0xc94bee)=>_0x1e003b+(_0x51ab64[_0xc94bee][_0x34c4da(0xea)]?.[_0x34c4da(0x3bb)]||0x0),0x0),_0x195026=currentQuizData[_0x34c4da(0x763)][_0x34c4da(0x283)]((_0x42e321,_0x10274a)=>{const _0x565bf8=_0x34c4da;let _0x44a178=null,_0x3f065f=null;for(const _0x28b80a of _0x4c4d0e){const _0xc63a5d=_0x51ab64[_0x28b80a][_0x565bf8(0xea)]?.[_0x565bf8(0x7d2)](_0xf151a7=>_0xf151a7[_0x565bf8(0x47e)]===_0x10274a);if(_0xc63a5d){_0x44a178=_0xc63a5d,_0x3f065f=_0x28b80a;break;}}const _0x280731=!!_0x44a178,_0x3e9e33=_0x280731&&_0x44a178[_0x565bf8(0x2a6)],_0xf25fbb=(Math[_0x565bf8(0x6da)](_0x10274a/_0x4c4d0e['length'])+0x1)*_0x4c4d0e[_0x565bf8(0x3bb)],_0x5941c4=_0x97c82a>=_0xf25fbb,_0x6e58c6=_0x5941c4?'bg-green-200\x20text-green-900':_0x565bf8(0x916),_0x55f412=_0x5941c4?_0x565bf8(0xb52):'';let _0x25ea07=_0x565bf8(0xbdb);return _0x280731&&(_0x25ea07=_0x3f065f+_0x565bf8(0x731)+(_0x3e9e33?_0x565bf8(0x948):_0x565bf8(0x2b4))),_0x565bf8(0x7b5)+_0x6e58c6+_0x565bf8(0x2fb)+(_0x10274a+0x1)+_0x565bf8(0x864)+_0x55f412+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x25ea07+'</p></div>';})[_0x34c4da(0x922)]('');_0xa3c564[_0x34c4da(0x22a)]=_0x34c4da(0x680)+_0x4f06bf+_0x34c4da(0xe59)+_0x195026+_0x34c4da(0x695);}async function handleJoinTeamQuiz(){const _0x253601=_0xc7d29a,_0x2d07b5=prompt(_0x253601(0x619));if(!_0x2d07b5||_0x2d07b5[_0x253601(0x649)]()['length']!==0x4){showMessage(_0x253601(0x61b));return;}try{const _0x420cc9=collection(db,_0x253601(0x9c2)+appId+_0x253601(0x387)),_0x10b88f=query(_0x420cc9,where(_0x253601(0x87e),'==',_0x2d07b5[_0x253601(0x649)]()),where(_0x253601(0x20a),'==','lobby')),_0x4a4a6e=await getDocs(_0x10b88f);if(_0x4a4a6e[_0x253601(0x7de)]){showMessage(_0x253601(0x71c));return;}const _0x5f3732=_0x4a4a6e[_0x253601(0xd86)][0x0];currentTeamQuizId=_0x5f3732['id'];const _0x313697=_0x5f3732[_0x253601(0x241)](),_0x2d735b=doc(db,_0x253601(0x9c2)+appId+_0x253601(0xaad),_0x313697[_0x253601(0x8d2)]),_0x22879a=doc(db,'artifacts/'+appId+_0x253601(0x843),_0x313697[_0x253601(0x9fe)]),[_0x450fd3,_0x1aa0a2]=await Promise['all']([getDoc(_0x2d735b),getDoc(_0x22879a)]);if(!_0x450fd3[_0x253601(0x45f)]()||!_0x1aa0a2[_0x253601(0x45f)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x1aa0a2['id'],..._0x1aa0a2['data']()});const _0x3d1dd0=_0x450fd3[_0x253601(0x241)]();showTeamPlayerSelection(_0x3d1dd0[_0x253601(0xa0d)],currentQuizData[_0x253601(0x664)]);}catch(_0x497cac){console[_0x253601(0x3e8)](_0x253601(0x415),_0x497cac),showMessage('เกิดข้อผิดพลาด:\x20'+_0x497cac[_0x253601(0xd5f)]);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x136d4e=_0xc7d29a;currentInputPin='',updatePinDisplay(),document[_0x136d4e(0x8cb)](_0x136d4e(0x2a3))[_0x136d4e(0x144)]['remove']('hidden');}function updatePinDisplay(){const _0x253fe1=_0xc7d29a,_0x4cf4f2=document[_0x253fe1(0xb9f)](_0x253fe1(0x139));_0x4cf4f2['forEach']((_0x531cc3,_0x3e8829)=>{const _0x2252db=_0x253fe1;_0x3e8829<currentInputPin['length']?(_0x531cc3[_0x2252db(0x1ae)]=currentInputPin[_0x3e8829],_0x531cc3[_0x2252db(0x144)][_0x2252db(0x743)](_0x2252db(0x9aa),_0x2252db(0xba6)),_0x531cc3[_0x2252db(0x144)][_0x2252db(0xc8b)](_0x2252db(0x2ae),'bg-gray-50')):(_0x531cc3[_0x2252db(0x1ae)]='',_0x531cc3[_0x2252db(0x144)][_0x2252db(0xc8b)](_0x2252db(0x9aa),'bg-white'),_0x531cc3[_0x2252db(0x144)]['add'](_0x2252db(0x2ae),_0x2252db(0x910)));});}async function handlePinKeyPress(_0x4dabf9){const _0x260e09=_0xc7d29a;if(_0x4dabf9===_0x260e09(0xa69))currentInputPin=currentInputPin[_0x260e09(0xe54)](0x0,-0x1);else currentInputPin[_0x260e09(0x3bb)]<0x4&&(currentInputPin+=_0x4dabf9);updatePinDisplay(),currentInputPin[_0x260e09(0x3bb)]===0x4&&setTimeout(async()=>{const _0x62fa38=_0x260e09;document[_0x62fa38(0x8cb)]('pin-entry-modal')['classList'][_0x62fa38(0x743)](_0x62fa38(0x1c9)),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x17bf52){const _0x14fb8c=_0xc7d29a,_0x36b372=_0x17bf52['trim']();showMessage(_0x14fb8c(0x6bd));try{const _0x2d1a75=collection(db,_0x14fb8c(0x9c2)+appId+_0x14fb8c(0x387)),_0x3ce390=query(_0x2d1a75,where('pin','==',_0x36b372),where(_0x14fb8c(0x20a),'==','lobby')),_0xd60232=await getDocs(_0x3ce390);if(!_0xd60232['empty']){console[_0x14fb8c(0xcde)]('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0xd60232[_0x14fb8c(0xd86)][0x0]);return;}const _0x5e3a68=collection(db,_0x14fb8c(0x9c2)+appId+_0x14fb8c(0xde7)),_0x58df39=query(_0x5e3a68,where(_0x14fb8c(0x87e),'==',_0x36b372),where(_0x14fb8c(0x20a),'in',['lobby',_0x14fb8c(0x5e5),'summary',_0x14fb8c(0x586)])),_0x2eaa38=await getDocs(_0x58df39);if(!_0x2eaa38[_0x14fb8c(0x7de)]){console[_0x14fb8c(0xcde)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x2eaa38[_0x14fb8c(0xd86)][0x0]);return;}showMessage(_0x14fb8c(0xae));}catch(_0x5a14b5){console[_0x14fb8c(0x3e8)](_0x14fb8c(0x713),_0x5a14b5),showMessage(_0x14fb8c(0xd7e)+_0x5a14b5[_0x14fb8c(0xd5f)]);}}async function proceedWithTeamQuizJoin(_0x5d8fdc){const _0x4cb379=_0xc7d29a;currentTeamQuizId=_0x5d8fdc['id'];const _0x27c46f=_0x5d8fdc[_0x4cb379(0x241)](),_0x5a4b38=doc(db,_0x4cb379(0x9c2)+appId+_0x4cb379(0xaad),_0x27c46f['projectId']),_0x2d7e8d=doc(db,'artifacts/'+appId+_0x4cb379(0x843),_0x27c46f[_0x4cb379(0x9fe)]),[_0x13ece7,_0x14040d]=await Promise[_0x4cb379(0x1fd)]([getDoc(_0x5a4b38),getDoc(_0x2d7e8d)]);if(!_0x13ece7['exists']()||!_0x14040d[_0x4cb379(0x45f)]())throw new Error(_0x4cb379(0x623));currentQuizData=getShuffledQuiz({'id':_0x14040d['id'],..._0x14040d['data']()}),showTeamPlayerSelection(_0x13ece7[_0x4cb379(0x241)]()[_0x4cb379(0xa0d)],currentQuizData[_0x4cb379(0x664)],_0x27c46f[_0x4cb379(0xaec)]||_0x4cb379(0xc7d)),messageModal[_0x4cb379(0x144)][_0x4cb379(0x743)](_0x4cb379(0x1c9));}async function proceedWithSyncQuizJoin(_0x13a3a5){const _0x58b008=_0xc7d29a;currentLiveGameId=_0x13a3a5['id'];const _0x1aa574=_0x13a3a5[_0x58b008(0x241)](),_0xeea994=doc(db,_0x58b008(0x9c2)+appId+_0x58b008(0x843),_0x1aa574['quizId']),_0x425417=await getDoc(_0xeea994);if(!_0x425417[_0x58b008(0x45f)]())throw new Error(_0x58b008(0x47c));const _0x28edb5=_0x425417[_0x58b008(0x241)](),_0x15cd7b=doc(db,'artifacts/'+appId+_0x58b008(0xaad),_0x28edb5[_0x58b008(0x8d2)]),_0x4c59f9=await getDoc(_0x15cd7b);if(!_0x4c59f9[_0x58b008(0x45f)]())throw new Error(_0x58b008(0xdaa));currentQuizData=_0x1aa574[_0x58b008(0xb2d)],showView('student-team-join'),showTeamPlayerSelection(_0x4c59f9[_0x58b008(0x241)]()[_0x58b008(0xa0d)],_0x28edb5[_0x58b008(0x664)],'sync');const _0x153b6e=document[_0x58b008(0x8cb)](_0x58b008(0x6e8)),_0x171dc8=_0x153b6e[_0x58b008(0xb2f)](!![]);_0x153b6e[_0x58b008(0x42b)][_0x58b008(0x4ff)](_0x171dc8,_0x153b6e),_0x171dc8[_0x58b008(0x312)]=confirmAndJoinSyncGame,messageModal[_0x58b008(0x144)][_0x58b008(0x743)]('hidden');}function getCleanApplicationHTML(){const _0x339603=_0xc7d29a,_0x44d516=document[_0x339603(0x8cb)]('applicationContent');if(!_0x44d516)return'';const _0x22de47=_0x44d516[_0x339603(0xb2f)](!![]);return _0x22de47[_0x339603(0xb9f)](_0x339603(0x7f9))[_0x339603(0x3f4)](_0x1f5a49=>{const _0x209e74=_0x339603;_0x1f5a49[_0x209e74(0x144)][_0x209e74(0xc8b)](_0x209e74(0x890),_0x209e74(0x411)),_0x1f5a49[_0x209e74(0xc2b)]=![];}),_0x22de47[_0x339603(0x22a)];}function showTeamPlayerSelection(_0x4b36eb,_0x31876c,_0x31bae2=_0xc7d29a(0xc7d)){const _0x264a01=_0xc7d29a;studentInitialView[_0x264a01(0x144)]['add'](_0x264a01(0x1c9)),studentJoinGameView[_0x264a01(0x144)][_0x264a01(0x743)]('hidden'),document['getElementById']('student-team-selection-view')[_0x264a01(0x144)][_0x264a01(0xc8b)](_0x264a01(0x1c9)),orderedPlayerSelection=[];let _0x45cc8c=_0x264a01(0x88a);if(_0x31bae2===_0x264a01(0x523))_0x45cc8c=_0x264a01(0x421);else _0x31bae2===_0x264a01(0x7ea)&&(_0x45cc8c='Sync\x20Mode');document[_0x264a01(0x8cb)](_0x264a01(0x9ff))['textContent']=_0x45cc8c+':\x20'+_0x31876c;const _0x38ebe6=document[_0x264a01(0x8cb)](_0x264a01(0x2c7));if(!_0x4b36eb||_0x4b36eb[_0x264a01(0x3bb)]===0x0){_0x38ebe6[_0x264a01(0x22a)]=_0x264a01(0xdf3),document[_0x264a01(0x8cb)]('confirm-team-players-btn')[_0x264a01(0xc2b)]=!![];return;}_0x38ebe6[_0x264a01(0x22a)]=_0x4b36eb[_0x264a01(0x283)](_0x5a829c=>_0x264a01(0xadd)+_0x5a829c+_0x264a01(0x827)+_0x5a829c+_0x264a01(0xb7))['join'](''),document[_0x264a01(0x8cb)](_0x264a01(0x6e8))['disabled']=![];const _0x32a308=_0x38ebe6[_0x264a01(0xb9f)](_0x264a01(0x8f5));_0x32a308[_0x264a01(0x3f4)](_0x383085=>{const _0x5cb770=_0x264a01;_0x383085[_0x5cb770(0x38d)](_0x5cb770(0xd8f),_0x40a29d=>{const _0x3461ef=_0x5cb770,_0x204333=_0x40a29d[_0x3461ef(0x7b9)]['value'];_0x40a29d[_0x3461ef(0x7b9)][_0x3461ef(0x4d7)]?!orderedPlayerSelection[_0x3461ef(0xd33)](_0x204333)&&orderedPlayerSelection[_0x3461ef(0x77f)](_0x204333):orderedPlayerSelection=orderedPlayerSelection['filter'](_0x2d6b2c=>_0x2d6b2c!==_0x204333),updateSelectionOrderVisuals(_0x38ebe6);});});}function updateSelectionOrderVisuals(_0x172e6f){const _0x6ad6b0=_0xc7d29a,_0x474b50=_0x172e6f[_0x6ad6b0(0xb9f)](_0x6ad6b0(0x8f5));_0x474b50[_0x6ad6b0(0x3f4)](_0x1b4fb2=>{const _0x436079=_0x6ad6b0,_0x13dce3=_0x1b4fb2[_0x436079(0x575)](_0x436079(0x2a7)),_0x34a23e=_0x13dce3[_0x436079(0x947)](_0x436079(0xd35));if(_0x1b4fb2[_0x436079(0x4d7)]){const _0x402193=orderedPlayerSelection[_0x436079(0x7a7)](_0x1b4fb2[_0x436079(0xb66)]);_0x402193!==-0x1&&(_0x34a23e['textContent']=_0x436079(0x81a)+(_0x402193+0x1),_0x34a23e[_0x436079(0x144)]['remove']('hidden'),_0x13dce3[_0x436079(0x144)][_0x436079(0x743)](_0x436079(0x257),_0x436079(0x6b6)));}else _0x34a23e['classList'][_0x436079(0x743)](_0x436079(0x1c9)),_0x13dce3[_0x436079(0x144)]['remove']('bg-indigo-50','border-indigo-200');});}async function confirmAndStartTeamQuiz(){const _0xe0ba40=_0xc7d29a,_0x47b1ba=[...orderedPlayerSelection];if(_0x47b1ba[_0xe0ba40(0x3bb)]===0x0){showMessage(_0xe0ba40(0x68c));return;}localTeamPlayers=_0x47b1ba,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x46b4d7=doc(db,'artifacts/'+appId+_0xe0ba40(0x387),currentTeamQuizId);try{const _0x2a6e87=await getDoc(_0x46b4d7);if(!_0x2a6e87[_0xe0ba40(0x45f)]())throw new Error(_0xe0ba40(0x494));const _0xed383b=_0x2a6e87[_0xe0ba40(0x241)]();if(_0xed383b[_0xe0ba40(0xaec)]==='group'){const _0x3a341e={[_0xe0ba40(0x65b)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x46b4d7,_0x3a341e);}else{const _0xdb1275=_0xed383b['responses']||{};localTeamPlayers[_0xe0ba40(0x3f4)](_0x3b07dc=>{!_0xdb1275[_0x3b07dc]&&(_0xdb1275[_0x3b07dc]={'score':0x0,'answers':[]});}),await updateDoc(_0x46b4d7,{'responses':_0xdb1275});}document[_0xe0ba40(0x8cb)](_0xe0ba40(0x73e))[_0xe0ba40(0x144)]['add'](_0xe0ba40(0x1c9)),renderTeamQuizQuestion();const _0xe45d7f={'gameId':currentTeamQuizId,'mode':_0xed383b['mode']||_0xe0ba40(0xc7d),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0xe0ba40(0xdfb)]('activeGameSession',JSON[_0xe0ba40(0xa7e)](_0xe45d7f)),listenForTeamQuizUpdates();}catch(_0x2a9863){console['error']('Error\x20confirming\x20players:',_0x2a9863),showMessage(_0xe0ba40(0x925));}}async function renderTeamQuizQuestion(){const _0x1ef977=_0xc7d29a;if(localQuestionIndex>=currentQuizData[_0x1ef977(0x763)][_0x1ef977(0x3bb)]){displayTeamQuizFinalResults();return;}const _0x43586a=currentQuizData['questions'][localQuestionIndex],_0x4f64c8=localTeamPlayers[localPlayerIndex],_0x46ed57=_0x43586a['questionType']||currentQuizData[_0x1ef977(0x7f3)];let _0x36f3da=_0x43586a[_0x1ef977(0x23b)]||_0x43586a['questionText'],_0x4a51ae='';switch(_0x46ed57){case _0x1ef977(0xc7b):case _0x1ef977(0x7ec):_0x4a51ae=_0x43586a[_0x1ef977(0x764)][_0x1ef977(0x283)]((_0x3e7c0a,_0x4003f2)=>_0x1ef977(0x21b)+_0x4003f2+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x4003f2+_0x1ef977(0x828)+_0x4003f2+'\x22>'+_0x3e7c0a+_0x1ef977(0xd40))[_0x1ef977(0x922)]('');break;case'true_false':_0x4a51ae=_0x1ef977(0xc21);break;case _0x1ef977(0xc34):case _0x1ef977(0x8f8):_0x4a51ae=_0x1ef977(0x453);break;case'matching_item':_0x4a51ae='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x43586a[_0x1ef977(0x872)][_0x1ef977(0x283)](_0x277925=>_0x1ef977(0xb0b)+_0x277925+'\x22>'+_0x277925+_0x1ef977(0x4d9))[_0x1ef977(0x922)]('')+_0x1ef977(0x9a1);break;default:_0x4a51ae=_0x1ef977(0xe29);break;}studentQuizArea['innerHTML']=_0x1ef977(0xa61)+(localQuestionIndex+0x1)+_0x1ef977(0x99b)+currentQuizData[_0x1ef977(0x763)][_0x1ef977(0x3bb)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x4f64c8+_0x1ef977(0x3c4)+(localQuestionIndex+0x1)+'.\x20'+_0x36f3da+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x43586a[_0x1ef977(0xb24)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x43586a['imageCode']+_0x1ef977(0x1d2):'')+_0x1ef977(0x850)+_0x4a51ae+_0x1ef977(0x748),studentQuizArea['classList'][_0x1ef977(0xc8b)]('hidden');if(window[_0x1ef977(0x608)])MathJax[_0x1ef977(0x31d)]([studentQuizArea]);document[_0x1ef977(0x8cb)](_0x1ef977(0x52f))[_0x1ef977(0x38d)](_0x1ef977(0x9b4),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x50e055=_0xc7d29a,_0x45e489=currentQuizData[_0x50e055(0x763)][localQuestionIndex],_0xcde3aa=_0x45e489[_0x50e055(0xd53)]||currentQuizData['quizType'];let _0x57ec1c=null,_0x38c7fe=![];if(_0xcde3aa===_0x50e055(0xc34)||_0xcde3aa===_0x50e055(0x8f8)){const _0x140aef=document[_0x50e055(0x947)](_0x50e055(0x517));if(!_0x140aef||!_0x140aef['value'][_0x50e055(0x649)]()){showMessage(_0x50e055(0xbd4));return;}_0x57ec1c=_0x140aef[_0x50e055(0xb66)]['trim'](),_0x38c7fe=await gradeShortAnswer(_0x57ec1c,_0x45e489);}else{const _0x3bc006=document[_0x50e055(0x947)](_0x50e055(0x53a));if(!_0x3bc006||_0x3bc006[_0x50e055(0xb66)]===''){showMessage(_0x50e055(0x2e1));return;}_0x57ec1c=_0x3bc006['value'];switch(_0xcde3aa){case'true_false':_0x38c7fe=_0x57ec1c===_0x50e055(0xa81)===_0x45e489[_0x50e055(0x124)];break;case _0x50e055(0x6cf):_0x38c7fe=_0x57ec1c===_0x45e489['correctResponse'];break;default:_0x38c7fe=parseInt(_0x57ec1c)===_0x45e489[_0x50e055(0xcd4)];break;}}const _0x16aeed={'questionIndex':localQuestionIndex,'isCorrect':_0x38c7fe},_0x47063b=userId,_0x22fb99={[_0x50e055(0x65b)+_0x47063b+_0x50e055(0x7d1)]:arrayUnion(_0x16aeed)};_0x38c7fe&&(_0x22fb99['groups.'+_0x47063b+_0x50e055(0xdc0)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x50e055(0x387),currentTeamQuizId),_0x22fb99),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x50e055(0x763)][_0x50e055(0x3bb)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x5b9ead){console[_0x50e055(0x3e8)](_0x50e055(0xd22),_0x5b9ead),showMessage(_0x50e055(0x35b));}}async function handleTeamAnswerSubmit(){const _0x33e82f=_0xc7d29a,_0x1b4c42=await getDoc(doc(db,_0x33e82f(0x9c2)+appId+_0x33e82f(0x387),currentTeamQuizId));if(!_0x1b4c42[_0x33e82f(0x45f)]())return;const _0x5c8f84=_0x1b4c42['data']();if(_0x5c8f84[_0x33e82f(0xaec)]===_0x33e82f(0x523)){handleGroupAnswerSubmit();return;}const _0x14351e=localTeamPlayers[localPlayerIndex],_0x1f8e65=currentQuizData[_0x33e82f(0x763)][localQuestionIndex],_0x2fb963=_0x1f8e65[_0x33e82f(0xd53)]||currentQuizData[_0x33e82f(0x7f3)];let _0x92288c=null,_0x4f688a=![];if(_0x2fb963===_0x33e82f(0xc34)||_0x2fb963==='fill_in_no_choices'){const _0x33fc59=document[_0x33e82f(0x947)](_0x33e82f(0x517));if(!_0x33fc59||!_0x33fc59[_0x33e82f(0xb66)][_0x33e82f(0x649)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x92288c=_0x33fc59['value']['trim'](),_0x4f688a=await gradeShortAnswer(_0x92288c,_0x1f8e65);}else{const _0x178170=document['querySelector'](_0x33e82f(0x53a));if(!_0x178170||_0x178170['value']===''){showMessage(_0x33e82f(0xb0f));return;}_0x92288c=_0x178170['value'];switch(_0x2fb963){case _0x33e82f(0x206):_0x4f688a=_0x92288c===_0x33e82f(0xa81)===_0x1f8e65[_0x33e82f(0x124)];break;case _0x33e82f(0x6cf):_0x4f688a=_0x92288c===_0x1f8e65['correctResponse'];break;default:_0x4f688a=parseInt(_0x92288c)===_0x1f8e65[_0x33e82f(0xcd4)];break;}}const _0x1f09df={'questionIndex':localQuestionIndex,'isCorrect':_0x4f688a,'answerValue':_0x92288c},_0x48b946={['responses.'+_0x14351e+'.answers']:arrayUnion(_0x1f09df)};_0x4f688a&&(_0x48b946[_0x33e82f(0xa3f)+_0x14351e+_0x33e82f(0xdc0)]=increment(0x1));try{await updateDoc(doc(db,_0x33e82f(0x9c2)+appId+_0x33e82f(0x387),currentTeamQuizId),_0x48b946),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x44d531){console['error'](_0x33e82f(0xd8),_0x44d531),showMessage(_0x33e82f(0x35b));}}async function displayTeamQuizFinalResults(){const _0x31f55d=_0xc7d29a;studentQuizArea['classList']['add']('hidden'),studentResultArea[_0x31f55d(0x144)][_0x31f55d(0xc8b)](_0x31f55d(0x1c9));const _0x47f821=doc(db,_0x31f55d(0x9c2)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x5c2722=await getDoc(_0x47f821);if(!_0x5c2722[_0x31f55d(0x45f)]()){studentResultArea['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x59eeaa=_0x5c2722[_0x31f55d(0x241)]();let _0x3ce90a=[];const _0x5f5ca6=_0x59eeaa[_0x31f55d(0xaec)]||'team';if(_0x5f5ca6===_0x31f55d(0x523)){const _0x524b27=_0x59eeaa[_0x31f55d(0xe2c)][userId];_0x524b27?_0x3ce90a=[{'name':_0x31f55d(0x883)+localTeamPlayers['join'](',\x20'),'score':_0x524b27[_0x31f55d(0x1f9)]||0x0}]:_0x3ce90a=[{'name':'กลุ่มของคุณ','score':_0x31f55d(0x89b)}];}else _0x3ce90a=localTeamPlayers[_0x31f55d(0x283)](_0x2f20c1=>({'name':_0x2f20c1,'score':_0x59eeaa[_0x31f55d(0x11d)][_0x2f20c1]?.[_0x31f55d(0x1f9)]||0x0}))['sort']((_0x2f3575,_0x56d337)=>_0x56d337[_0x31f55d(0x1f9)]-_0x2f3575[_0x31f55d(0x1f9)]);studentResultArea[_0x31f55d(0x22a)]=_0x31f55d(0x8ba)+_0x3ce90a[_0x31f55d(0x283)](_0x30034d=>_0x31f55d(0xe18)+_0x30034d[_0x31f55d(0xa48)]+_0x31f55d(0x1e8)+_0x30034d[_0x31f55d(0x1f9)]+_0x31f55d(0x2e5))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x31f55d(0xd5b)]('activeGameSession'),currentMode===_0x31f55d(0x87c)&&currentTeamQuizId&&setTimeout(()=>{deleteDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0xc7d29a(0x5d2)};const allMathTopics=[{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0xb1b)},{'category':_0xc7d29a(0x80b),'name':'ระบบเลขและค่าประจำหลัก'},{'category':'จำนวนและการดำเนินการ','name':_0xc7d29a(0xcba)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x734)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0xbf)},{'category':_0xc7d29a(0x80b),'name':'การลบ'},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x3b1)},{'category':'จำนวนและการดำเนินการ','name':_0xc7d29a(0xa74)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x53f)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x1b5)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x352)},{'category':_0xc7d29a(0x80b),'name':'ค่าสัมบูรณ์'},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x765)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0xed)},{'category':'จำนวนและการดำเนินการ','name':_0xc7d29a(0xd20)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0xdc1)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0xcb6)},{'category':'จำนวนและการดำเนินการ','name':'อัตราและอัตราหน่วย'},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x441)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x23a)},{'category':'จำนวนและการดำเนินการ','name':'การลบเศษส่วน'},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x3ec)},{'category':'จำนวนและการดำเนินการ','name':_0xc7d29a(0x159)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x295)},{'category':_0xc7d29a(0x80b),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x8e9)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x459)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x559)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0xa1b)},{'category':_0xc7d29a(0x80b),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x447)},{'category':_0xc7d29a(0x80b),'name':_0xc7d29a(0x9fb)},{'category':_0xc7d29a(0x80b),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0xc7d29a(0x80b),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0xc7d29a(0x80b),'name':'รากที่สองและที่สาม'},{'category':'จำนวนและการดำเนินการ','name':'รูปสแควร์รูท\x20(surd)'},{'category':'จำนวนและการดำเนินการ','name':_0xc7d29a(0x923)},{'category':_0xc7d29a(0xb4e),'name':'หน่วยความยาวและการแปลง'},{'category':_0xc7d29a(0xb4e),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0xc7d29a(0xb4e),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0xc7d29a(0xb4e),'name':_0xc7d29a(0x61c)},{'category':'การวัด','name':_0xc7d29a(0x2d5)},{'category':_0xc7d29a(0xb4e),'name':_0xc7d29a(0x8ae)},{'category':'การวัด','name':_0xc7d29a(0x7b7)},{'category':_0xc7d29a(0xb4e),'name':_0xc7d29a(0x749)},{'category':'การวัด','name':_0xc7d29a(0x781)},{'category':_0xc7d29a(0xb4e),'name':_0xc7d29a(0x7f1)},{'category':_0xc7d29a(0xb4e),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':'การวัด','name':_0xc7d29a(0xc36)},{'category':_0xc7d29a(0xb4e),'name':'สเกลและแผนที่'},{'category':'การวัด','name':_0xc7d29a(0xc5f)},{'category':_0xc7d29a(0x288),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0xc7d29a(0x288),'name':_0xc7d29a(0xe3)},{'category':_0xc7d29a(0x288),'name':_0xc7d29a(0xbf3)},{'category':_0xc7d29a(0x288),'name':'พื้นที่สามเหลี่ยม'},{'category':_0xc7d29a(0x288),'name':_0xc7d29a(0xc2a)},{'category':_0xc7d29a(0x288),'name':_0xc7d29a(0x60d)},{'category':_0xc7d29a(0x288),'name':_0xc7d29a(0xae3)},{'category':_0xc7d29a(0x288),'name':_0xc7d29a(0x7ab)},{'category':_0xc7d29a(0x288),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0xc7d29a(0x288),'name':_0xc7d29a(0x1b8)},{'category':_0xc7d29a(0x288),'name':_0xc7d29a(0x5af)},{'category':_0xc7d29a(0x288),'name':_0xc7d29a(0x5c4)},{'category':_0xc7d29a(0x288),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0xc7d29a(0x288),'name':_0xc7d29a(0x840)},{'category':'เรขาคณิต','name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x5d0)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x298)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x5df)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0xe1a)},{'category':_0xc7d29a(0x318),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x44c)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x96e)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x230)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x86c)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x600)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการราก\x20(radical)'},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x2d9)},{'category':_0xc7d29a(0x318),'name':'สมการลอการิทึม'},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x4b9)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x50e)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x80a)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x293)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x5a4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xc7d29a(0x549)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0xc30)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xc7d29a(0x386)},{'category':_0xc7d29a(0x318),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0xc7d29a(0x318),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x4bb)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0xd7f)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x660)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x616)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x803)},{'category':'พีชคณิตและฟังก์ชัน','name':_0xc7d29a(0xc1c)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0xb21)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0xa18)},{'category':_0xc7d29a(0x318),'name':_0xc7d29a(0x52a)},{'category':'พีชคณิตและฟังก์ชัน','name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0xc7d29a(0x313),'name':_0xc7d29a(0x68a)},{'category':_0xc7d29a(0x313),'name':_0xc7d29a(0x486)},{'category':'เรขาคณิตวิเคราะห์','name':_0xc7d29a(0xd39)},{'category':_0xc7d29a(0x313),'name':_0xc7d29a(0x717)},{'category':'เรขาคณิตวิเคราะห์','name':_0xc7d29a(0x917)},{'category':_0xc7d29a(0x313),'name':_0xc7d29a(0x43e)},{'category':_0xc7d29a(0x313),'name':_0xc7d29a(0xe55)},{'category':_0xc7d29a(0x313),'name':_0xc7d29a(0x681)},{'category':_0xc7d29a(0x313),'name':_0xc7d29a(0x401)},{'category':_0xc7d29a(0x74b),'name':_0xc7d29a(0xe38)},{'category':_0xc7d29a(0x74b),'name':_0xc7d29a(0xb71)},{'category':'ตรีโกณมิติ','name':_0xc7d29a(0x350)},{'category':_0xc7d29a(0x74b),'name':_0xc7d29a(0x39a)},{'category':_0xc7d29a(0x74b),'name':_0xc7d29a(0x997)},{'category':_0xc7d29a(0x74b),'name':_0xc7d29a(0x999)},{'category':_0xc7d29a(0x74b),'name':_0xc7d29a(0xbab)},{'category':_0xc7d29a(0x74b),'name':_0xc7d29a(0x71a)},{'category':_0xc7d29a(0x74b),'name':_0xc7d29a(0xbe0)},{'category':'ตรีโกณมิติ','name':_0xc7d29a(0x5e7)},{'category':_0xc7d29a(0x74b),'name':_0xc7d29a(0x109)},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0x3ba)},{'category':'สถิติและความน่าจะเป็น','name':_0xc7d29a(0x3fd)},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0xb3f)},{'category':'สถิติและความน่าจะเป็น','name':_0xc7d29a(0xae4)},{'category':_0xc7d29a(0xba),'name':'ฮิสโตแกรม'},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0x4f3)},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0x87b)},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0x173)},{'category':_0xc7d29a(0xba),'name':'ฐานนิยม'},{'category':_0xc7d29a(0xba),'name':'พิสัย'},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0xc9)},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0xa31)},{'category':_0xc7d29a(0xba),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0x1cb)},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0xcb5)},{'category':'สถิติและความน่าจะเป็น','name':_0xc7d29a(0x261)},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0x1e0)},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0xa30)},{'category':_0xc7d29a(0xba),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0x732)},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0xcd6)},{'category':'สถิติและความน่าจะเป็น','name':_0xc7d29a(0xda2)},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0x40b)},{'category':_0xc7d29a(0xba),'name':_0xc7d29a(0x254)},{'category':_0xc7d29a(0x6ae),'name':'ลิมิต'},{'category':_0xc7d29a(0x6ae),'name':'ความต่อเนื่อง'},{'category':_0xc7d29a(0x6ae),'name':_0xc7d29a(0xe63)},{'category':_0xc7d29a(0x6ae),'name':_0xc7d29a(0x942)},{'category':_0xc7d29a(0x6ae),'name':_0xc7d29a(0x4d4)},{'category':_0xc7d29a(0x6ae),'name':_0xc7d29a(0x693)},{'category':_0xc7d29a(0x6ae),'name':_0xc7d29a(0x91c)},{'category':_0xc7d29a(0x6ae),'name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0xc7d29a(0x6ae),'name':_0xc7d29a(0xd18)},{'category':_0xc7d29a(0x6ae),'name':'ปริพันธ์ไม่จำกัด'},{'category':'แคลคูลัสเบื้องต้น','name':_0xc7d29a(0x9f1)},{'category':_0xc7d29a(0x6ae),'name':_0xc7d29a(0xd72)},{'category':_0xc7d29a(0x6ae),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0xc7d29a(0x5bb),'name':_0xc7d29a(0xc17)},{'category':_0xc7d29a(0x5bb),'name':'ดอทโปรดักต์\x20(dot)'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0xc7d29a(0x259)},{'category':_0xc7d29a(0x5bb),'name':_0xc7d29a(0x8e7)},{'category':_0xc7d29a(0x5bb),'name':_0xc7d29a(0x440)},{'category':_0xc7d29a(0x5bb),'name':_0xc7d29a(0xe5b)},{'category':_0xc7d29a(0x5bb),'name':_0xc7d29a(0x253)},{'category':_0xc7d29a(0x3bc),'name':_0xc7d29a(0x75c)},{'category':_0xc7d29a(0x3bc),'name':_0xc7d29a(0x1af)},{'category':_0xc7d29a(0x3bc),'name':_0xc7d29a(0x964)},{'category':_0xc7d29a(0x3bc),'name':_0xc7d29a(0xd9f)},{'category':'คณิตการเงิน/บูรณาการ','name':_0xc7d29a(0xbb4)},{'category':_0xc7d29a(0x853),'name':_0xc7d29a(0xe1e)},{'category':_0xc7d29a(0x853),'name':_0xc7d29a(0xe5f)},{'category':_0xc7d29a(0x853),'name':_0xc7d29a(0x65c)}];function renderTopicCheckboxes(){const _0x380228=_0xc7d29a,_0x52d8f2=document[_0x380228(0x8cb)]('math-topics-checkbox-container');if(!_0x52d8f2)return;const _0x104214=allMathTopics,_0x4acc43=customMathTopics[_0x380228(0x283)](_0x53ecd9=>({'id':_0x53ecd9['id'],'category':_0x380228(0xdfd),'name':_0x53ecd9[_0x380228(0xa48)]})),_0x38ff4d=[..._0x104214,..._0x4acc43],_0x1084cb=_0x38ff4d['reduce']((_0x2e9157,_0xd9c951)=>{const _0x453647=_0x380228;return!_0x2e9157[_0xd9c951['category']]&&(_0x2e9157[_0xd9c951[_0x453647(0x10a)]]=[]),_0x2e9157[_0xd9c951[_0x453647(0x10a)]][_0x453647(0x77f)](_0xd9c951),_0x2e9157;},{});let _0xb3a610='';const _0x3eb713=['หัวข้อที่สร้างเอง',...Object[_0x380228(0xb23)](_0x1084cb)[_0x380228(0xb8e)](_0x50e365=>_0x50e365!=='หัวข้อที่สร้างเอง')];for(const _0x47efca of _0x3eb713){if(_0x1084cb[_0x47efca]){const _0x4e4c4a=_0x47efca===_0x380228(0xdfd),_0x26e178=_0x4e4c4a?'fas\x20fa-user-edit':_0x380228(0x7f8),_0x8607d=_0x4e4c4a?_0x380228(0x27f):'text-indigo-700';_0xb3a610+=_0x380228(0x61e),_0xb3a610+=_0x380228(0x55e)+_0x8607d+_0x380228(0xe40)+_0x26e178+_0x380228(0x233)+_0x47efca+_0x380228(0x4f2),_0x1084cb[_0x47efca]['forEach'](_0x319a9c=>{const _0xec1a21=_0x380228,_0x1feffa=!!_0x319a9c['id'],_0x2f74e1=_0x1feffa?_0xec1a21(0x99e)+_0x319a9c['id']+_0xec1a21(0x9d9)+_0x319a9c['id']+_0xec1a21(0x6b3)+_0x319a9c['id']+_0xec1a21(0xca)+_0x319a9c['id']+_0xec1a21(0xa5d):'';_0xb3a610+=_0xec1a21(0x2b2)+(_0x319a9c['id']||'')+_0xec1a21(0x6bc)+_0x319a9c['name']+_0xec1a21(0xbf2)+_0x319a9c[_0xec1a21(0xa48)]+_0xec1a21(0x754)+(_0x1feffa?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x319a9c['name']+'\x22>':'')+_0xec1a21(0xcca)+_0x2f74e1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xb3a610+=_0x380228(0x1d2);}}_0x52d8f2[_0x380228(0x22a)]=_0xb3a610||_0x380228(0x7c9),_0x52d8f2[_0x380228(0xdf5)]('change',updateSelectedTopicsCount),_0x52d8f2['addEventListener'](_0x380228(0xd8f),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x1a4fe6,_0x205fa3){const _0x14b9a7=_0xc7d29a;if(!_0x1a4fe6||!_0x205fa3[_0x14b9a7(0x649)]()){showMessage(_0x14b9a7(0x11b));return;}try{const _0xc43bde=doc(db,_0x14b9a7(0x9c2)+appId+_0x14b9a7(0x907),_0x1a4fe6);await updateDoc(_0xc43bde,{'name':_0x205fa3[_0x14b9a7(0x649)]()}),showMessage(_0x14b9a7(0xb13));}catch(_0x25f71d){console[_0x14b9a7(0x3e8)](_0x14b9a7(0x70c),_0x25f71d),showMessage(_0x14b9a7(0xafd));}}function toggleTopicEditMode(_0x3fdf60,_0x55ed49){const _0x1ab967=_0xc7d29a;if(!_0x3fdf60)return;const _0x244e1d=_0x3fdf60[_0x1ab967(0x947)](_0x1ab967(0xc03)),_0x3d135e=_0x3fdf60[_0x1ab967(0x947)](_0x1ab967(0x359)),_0x6bcb2=_0x3fdf60['querySelector'](_0x1ab967(0x70b)),_0x528cac=_0x3fdf60[_0x1ab967(0x947)](_0x1ab967(0xd3));_0x244e1d[_0x1ab967(0x144)][_0x1ab967(0x463)](_0x1ab967(0x1c9),_0x55ed49),_0x3d135e[_0x1ab967(0x144)][_0x1ab967(0x463)]('hidden',!_0x55ed49),_0x6bcb2[_0x1ab967(0x144)][_0x1ab967(0x463)](_0x1ab967(0x1c9),_0x55ed49),_0x528cac[_0x1ab967(0x144)][_0x1ab967(0x463)](_0x1ab967(0x1c9),!_0x55ed49),_0x55ed49&&(_0x3d135e[_0x1ab967(0x663)](),_0x3d135e[_0x1ab967(0x15d)]());}async function handleStartLiveRace(_0x48a849){const _0x4da5b4=_0xc7d29a;let _0x19881d=allQuizzes[_0x4da5b4(0x7d2)](_0x53a46e=>_0x53a46e['id']===_0x48a849);if(!_0x19881d){const _0x501794=doc(db,'artifacts/'+appId+_0x4da5b4(0x843),_0x48a849),_0x176f5f=await getDoc(_0x501794);if(!_0x176f5f['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x19881d={'id':_0x176f5f['id'],..._0x176f5f['data']()};}const _0x3a3b29=getShuffledQuiz(_0x19881d);currentQuizData=_0x3a3b29;const _0xbb3cf0=_0x19881d[_0x4da5b4(0x8d2)]||currentProjectId||null,_0x3b43a8=Math[_0x4da5b4(0x6da)](0x3e8+Math[_0x4da5b4(0xe46)]()*0x2328)[_0x4da5b4(0x225)]();currentLiveGamePin=_0x3b43a8;try{const _0x5c7850=await addDoc(collection(db,_0x4da5b4(0x9c2)+appId+_0x4da5b4(0x927)),{'quizId':_0x48a849,'projectId':_0xbb3cf0,'status':'lobby','currentQuestionIndex':-0x1,'players':{},'gamePin':_0x3b43a8,'createdAt':serverTimestamp(),'shuffledQuiz':_0x3a3b29});currentLiveGameId=_0x5c7850['id'],showAdminLobbyView(_0x3b43a8,_0x19881d[_0x4da5b4(0x664)]),listenForLiveGameUpdates();}catch(_0x24f8fa){console['error']('Error\x20starting\x20live\x20race:',_0x24f8fa),showMessage(_0x4da5b4(0xd68));}}function updateSelectedTopicsCount(){const _0x3731a5=_0xc7d29a,_0x380788=document[_0x3731a5(0x8cb)](_0x3731a5(0xe71)),_0xafb6da=_0x380788[_0x3731a5(0xb9f)]('input[type=\x22checkbox\x22]:checked')[_0x3731a5(0x3bb)],_0x124363=document[_0x3731a5(0x8cb)](_0x3731a5(0x77e));_0xafb6da>0x0?_0x124363[_0x3731a5(0x1ae)]=_0x3731a5(0xb08)+_0xafb6da+'\x20หัวข้อ)':_0x124363[_0x3731a5(0x1ae)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0xc7d29a(0x24c),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0xc7d29a(0x143),quizLeaderboardSortOrder=_0xc7d29a(0x57f),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0xc7d29a(0xcd1),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0xc7d29a(0x2f0),scratchpadPenColor='#000000',scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x5bd110,_0x2628a8){const _0x5b2a76=_0xc7d29a;return Math[_0x5b2a76(0xc1d)](Math[_0x5b2a76(0x64e)](_0x5bd110['x']-_0x2628a8['x'],0x2)+Math[_0x5b2a76(0x64e)](_0x5bd110['y']-_0x2628a8['y'],0x2));}function getMidpoint(_0x49d62d,_0x14d363){return{'x':(_0x49d62d['x']+_0x14d363['x'])/0x2,'y':(_0x49d62d['y']+_0x14d363['y'])/0x2};}function getTransformedPoint(_0x5f1e58,_0x27c9f4){return{'x':(_0x5f1e58-scratchpadOffset['x'])/scratchpadScale,'y':(_0x27c9f4-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x2bfc39=_0xc7d29a;if(!scratchpadCtx)return;const _0x1f16a6=scratchpadCtx[_0x2bfc39(0xb63)],_0x56dbf1=window['devicePixelRatio']||0x1,_0x591c33=document[_0x2bfc39(0x8cb)](_0x2bfc39(0xbed));_0x591c33&&(_0x591c33['style']['transformOrigin']='0\x200',_0x591c33['style'][_0x2bfc39(0xa98)]=_0x2bfc39(0xae7)+scratchpadOffset['x']+_0x2bfc39(0x788)+scratchpadOffset['y']+_0x2bfc39(0xd08)+scratchpadScale+')'),scratchpadCtx[_0x2bfc39(0xcdb)](),scratchpadCtx[_0x2bfc39(0xd4e)](_0x56dbf1,0x0,0x0,_0x56dbf1,0x0,0x0),scratchpadCtx[_0x2bfc39(0x954)](0x0,0x0,_0x1f16a6[_0x2bfc39(0x958)],_0x1f16a6[_0x2bfc39(0x810)]),scratchpadCtx[_0x2bfc39(0x80e)](),scratchpadCtx[_0x2bfc39(0xcdb)](),scratchpadCtx[_0x2bfc39(0x768)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x2bfc39(0xcb8)](scratchpadScale,scratchpadScale),strokes['forEach'](_0x4877f0=>{drawStroke(_0x4877f0);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x2bfc39(0x80e)]();}function renderGroupModeQuestion(){const _0x58dc1b=_0xc7d29a;if(localQuestionIndex>=currentQuizData[_0x58dc1b(0x763)][_0x58dc1b(0x3bb)]){displayTeamQuizFinalResults();return;}const _0x8364e0=currentQuizData[_0x58dc1b(0x763)][localQuestionIndex],_0x4c7f75=_0x8364e0[_0x58dc1b(0xd53)]||currentQuizData[_0x58dc1b(0x7f3)];let _0x2717cc=_0x8364e0['stem']||_0x8364e0[_0x58dc1b(0x3ab)],_0x547950='';switch(_0x4c7f75){case _0x58dc1b(0xc7b):case'fill_in_with_choices':_0x547950=_0x8364e0[_0x58dc1b(0x764)][_0x58dc1b(0x283)]((_0x3f35a3,_0x492faf)=>_0x58dc1b(0x21b)+_0x492faf+_0x58dc1b(0x8a9)+_0x492faf+_0x58dc1b(0x828)+_0x492faf+'\x22>'+_0x3f35a3+_0x58dc1b(0xd40))['join']('');break;case _0x58dc1b(0x206):_0x547950='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case'short_answer':case'fill_in_no_choices':_0x547950=_0x58dc1b(0x145);break;case _0x58dc1b(0x6cf):_0x547950=_0x58dc1b(0x9a8)+_0x8364e0['allResponses'][_0x58dc1b(0x283)](_0x19aa30=>_0x58dc1b(0xb0b)+_0x19aa30+'\x22>'+_0x19aa30+_0x58dc1b(0x4d9))[_0x58dc1b(0x922)]('')+_0x58dc1b(0x9a1);break;default:_0x547950=_0x58dc1b(0xe29);break;}studentQuizArea[_0x58dc1b(0x22a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x58dc1b(0x99b)+currentQuizData[_0x58dc1b(0x763)][_0x58dc1b(0x3bb)]+_0x58dc1b(0x724)+localTeamPlayers[_0x58dc1b(0x922)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x2717cc+_0x58dc1b(0x4b0)+(_0x8364e0[_0x58dc1b(0xb24)]?_0x58dc1b(0x8b2)+_0x8364e0[_0x58dc1b(0xb24)]+_0x58dc1b(0x1d2):'')+_0x58dc1b(0x850)+_0x547950+_0x58dc1b(0xd8a),studentQuizArea[_0x58dc1b(0x144)][_0x58dc1b(0xc8b)](_0x58dc1b(0x1c9));if(window[_0x58dc1b(0x608)])MathJax[_0x58dc1b(0x31d)]([studentQuizArea]);document['getElementById'](_0x58dc1b(0xc22))[_0x58dc1b(0x38d)](_0x58dc1b(0x9b4),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x3e8e8b,_0x5c2a9f=null,_0x5a6b1a,_0x3e356a=null,_0x5194c8=![],_0x28e712=null){const _0x47f5e3=_0xc7d29a,_0x25ad09=document[_0x47f5e3(0x8cb)](_0x47f5e3(0xa93));_0x25ad09&&_0x25ad09[_0x47f5e3(0x816)]({'behavior':'smooth','block':_0x47f5e3(0x57d)}),generateQuiz(_0x3e8e8b,_0x5c2a9f,null,_0x28e712,!![],_0x5a6b1a,_0x3e356a,_0x5194c8);}function handleGenerateAndShowLesson(_0x57df1d,_0x8f1bd8){const _0x1dc8e9=_0xc7d29a,_0x1fde54=document[_0x1dc8e9(0x8cb)](_0x1dc8e9(0x774)),_0x1f6557=document['getElementById'](_0x1dc8e9(0xa9b)),_0x1c8afc=document[_0x1dc8e9(0x8cb)](_0x1dc8e9(0x3e2)),_0xe9fde8=document['getElementById']('lesson-sections-container');['pointContent',_0x1dc8e9(0x7cc),'applicationContent',_0x1dc8e9(0x7af)]['forEach'](_0x3de65a=>{const _0x441a47=_0x1dc8e9,_0x1b6edd=document[_0x441a47(0x8cb)](_0x3de65a)[_0x441a47(0x17d)];_0x1b6edd&&(_0x1b6edd[_0x441a47(0x220)][_0x441a47(0xa5a)]=_0x441a47(0x6b5));}),_0x1f6557['textContent']=_0x1dc8e9(0x19f)+_0x57df1d,_0xe9fde8[_0x1dc8e9(0x144)]['add'](_0x1dc8e9(0x1c9)),_0x1c8afc[_0x1dc8e9(0x144)][_0x1dc8e9(0xc8b)](_0x1dc8e9(0x1c9)),_0x1fde54[_0x1dc8e9(0x144)][_0x1dc8e9(0xc8b)](_0x1dc8e9(0x1c9)),generateLesson(_0x57df1d,_0x8f1bd8)[_0x1dc8e9(0xa65)](_0x2e328b=>{const _0x2fb634=_0x1dc8e9;console[_0x2fb634(0x3e8)]('Failed\x20to\x20generate\x20lesson:',_0x2e328b),showMessage(_0x2fb634(0xc11)),_0x1fde54[_0x2fb634(0x144)][_0x2fb634(0x743)]('hidden');});}function handlePointerDown(_0x438bb3){const _0x3e1261=_0xc7d29a;_0x438bb3[_0x3e1261(0x862)]();const _0x271e55=scratchpadCtx[_0x3e1261(0xb63)],_0x4241a7=_0x271e55[_0x3e1261(0xa99)](),_0x39ed25=_0x438bb3['pointerType']||(_0x438bb3[_0x3e1261(0x641)]?'touch':_0x3e1261(0xda3));if(_0x39ed25===_0x3e1261(0x2f0)||_0x39ed25===_0x3e1261(0xda3)){if(_0x438bb3[_0x3e1261(0x9fc)]==='mouse'&&_0x438bb3[_0x3e1261(0x1c6)]!==0x0){_0x438bb3[_0x3e1261(0x1c6)]===0x1&&(isMousePanning=!![],panStart={'x':_0x438bb3['clientX'],'y':_0x438bb3[_0x3e1261(0xb7a)]},_0x271e55[_0x3e1261(0x220)][_0x3e1261(0x9be)]=_0x3e1261(0xe67));return;}activeTool===_0x3e1261(0x67f)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x4f7b0c=getTransformedPoint(_0x438bb3[_0x3e1261(0xc5c)]-_0x4241a7[_0x3e1261(0x705)],_0x438bb3['clientY']-_0x4241a7[_0x3e1261(0x6f2)]);let _0x343b26={'tool':activeTool,'points':[_0x4f7b0c]};if(activeTool===_0x3e1261(0x2f0))_0x343b26[_0x3e1261(0x455)]=scratchpadPenColor,_0x343b26[_0x3e1261(0x63f)]=scratchpadPenSize;else{if(activeTool==='eraser')_0x343b26['color']=scratchpadPenColor,_0x343b26[_0x3e1261(0x63f)]=scratchpadEraserSize;else{if(activeTool===_0x3e1261(0xc28))_0x343b26[_0x3e1261(0x455)]=scratchpadHighlighterColor,_0x343b26[_0x3e1261(0x63f)]=scratchpadHighlighterSize;else activeTool==='trail'&&(_0x343b26['color']=scratchpadPenColor,_0x343b26['size']=scratchpadPenSize);}}currentStroke=_0x343b26;}else _0x438bb3[_0x3e1261(0x641)]&&(_0x438bb3[_0x3e1261(0x641)][_0x3e1261(0x3bb)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x438bb3[_0x3e1261(0x641)][0x0]['clientX'],'y':_0x438bb3[_0x3e1261(0x641)][0x0]['clientY']},{'x':_0x438bb3['touches'][0x1]['clientX'],'y':_0x438bb3['touches'][0x1][_0x3e1261(0xb7a)]}),initialPinchDistance=getDistance({'x':_0x438bb3[_0x3e1261(0x641)][0x0][_0x3e1261(0xc5c)],'y':_0x438bb3['touches'][0x0][_0x3e1261(0xb7a)]},{'x':_0x438bb3[_0x3e1261(0x641)][0x1]['clientX'],'y':_0x438bb3[_0x3e1261(0x641)][0x1][_0x3e1261(0xb7a)]})));}function animateTrail(){const _0x70d894=_0xc7d29a,_0x602147=Date[_0x70d894(0x2da)]();let _0x3010a7=![];for(let _0xc5b1d2=strokes['length']-0x1;_0xc5b1d2>=0x0;_0xc5b1d2--){const _0x2c3362=strokes[_0xc5b1d2];if(_0x2c3362[_0x70d894(0xdec)]==='trail'&&_0x2c3362[_0x70d894(0xa04)]){const _0x2fe422=_0x602147-_0x2c3362['fadeStartTime'];_0x2fe422>=TRAIL_DURATION?strokes[_0x70d894(0xfe)](_0xc5b1d2,0x1):(_0x2c3362[_0x70d894(0xaff)]=0x1-_0x2fe422/TRAIL_DURATION,_0x3010a7=!![]);}}redrawScratchpad(),_0x3010a7?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x243b78){const _0x3ddc98=_0xc7d29a;if(!_0x243b78||_0x243b78[_0x3ddc98(0x5c8)][_0x3ddc98(0x3bb)]<0x1)return;scratchpadCtx[_0x3ddc98(0xcdb)](),scratchpadCtx[_0x3ddc98(0x6cd)]='round',scratchpadCtx[_0x3ddc98(0xbea)]='round';if(_0x243b78[_0x3ddc98(0xdec)]===_0x3ddc98(0x67f)){const _0x5496c7=_0x243b78[_0x3ddc98(0x63f)]/scratchpadScale;scratchpadCtx[_0x3ddc98(0x595)]=_0x243b78[_0x3ddc98(0xaff)]??0x1,scratchpadCtx[_0x3ddc98(0x6be)]=_0x3ddc98(0x183),scratchpadCtx[_0x3ddc98(0xa5b)]=_0x5496c7*0x3,scratchpadCtx[_0x3ddc98(0x60e)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx['lineWidth']=_0x5496c7*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x3ddc98(0x468)](_0x243b78[_0x3ddc98(0x5c8)][0x0]['x'],_0x243b78[_0x3ddc98(0x5c8)][0x0]['y']);for(let _0x3a903b=0x1;_0x3a903b<_0x243b78[_0x3ddc98(0x5c8)][_0x3ddc98(0x3bb)]-0x1;_0x3a903b++){const _0x1b7f0c=getMidpoint(_0x243b78[_0x3ddc98(0x5c8)][_0x3a903b],_0x243b78[_0x3ddc98(0x5c8)][_0x3a903b+0x1]);scratchpadCtx[_0x3ddc98(0xd8c)](_0x243b78[_0x3ddc98(0x5c8)][_0x3a903b]['x'],_0x243b78[_0x3ddc98(0x5c8)][_0x3a903b]['y'],_0x1b7f0c['x'],_0x1b7f0c['y']);}scratchpadCtx[_0x3ddc98(0xd0)](),scratchpadCtx[_0x3ddc98(0x6be)]=_0x3ddc98(0x716),scratchpadCtx[_0x3ddc98(0xa5b)]=0x0,scratchpadCtx[_0x3ddc98(0x60e)]=_0x3ddc98(0x48f),scratchpadCtx['lineWidth']=_0x5496c7,scratchpadCtx[_0x3ddc98(0xd0)](),scratchpadCtx['closePath']();}else{if(_0x243b78[_0x3ddc98(0xdec)]==='highlighter'){scratchpadCtx[_0x3ddc98(0x98e)]=_0x3ddc98(0xab),scratchpadCtx[_0x3ddc98(0x60e)]=_0x243b78['color'],scratchpadCtx['lineWidth']=_0x243b78[_0x3ddc98(0x63f)],scratchpadCtx[_0x3ddc98(0x7c5)](),scratchpadCtx[_0x3ddc98(0x468)](_0x243b78[_0x3ddc98(0x5c8)][0x0]['x'],_0x243b78['points'][0x0]['y']);for(let _0x45a7ba=0x1;_0x45a7ba<_0x243b78[_0x3ddc98(0x5c8)]['length']-0x1;_0x45a7ba++){const _0x58ef99=getMidpoint(_0x243b78[_0x3ddc98(0x5c8)][_0x45a7ba],_0x243b78['points'][_0x45a7ba+0x1]);scratchpadCtx[_0x3ddc98(0xd8c)](_0x243b78[_0x3ddc98(0x5c8)][_0x45a7ba]['x'],_0x243b78[_0x3ddc98(0x5c8)][_0x45a7ba]['y'],_0x58ef99['x'],_0x58ef99['y']);}scratchpadCtx[_0x3ddc98(0xd0)](),scratchpadCtx[_0x3ddc98(0x9f3)]();}else{scratchpadCtx[_0x3ddc98(0x98e)]=_0x243b78['tool']===_0x3ddc98(0xa3b)?'destination-out':'source-over',scratchpadCtx[_0x3ddc98(0x60e)]=_0x243b78[_0x3ddc98(0x455)],scratchpadCtx['lineWidth']=_0x243b78['size'],scratchpadCtx['beginPath'](),scratchpadCtx[_0x3ddc98(0x468)](_0x243b78[_0x3ddc98(0x5c8)][0x0]['x'],_0x243b78['points'][0x0]['y']);for(let _0x4707c3=0x1;_0x4707c3<_0x243b78[_0x3ddc98(0x5c8)]['length']-0x1;_0x4707c3++){const _0xc3ae6d=getMidpoint(_0x243b78[_0x3ddc98(0x5c8)][_0x4707c3],_0x243b78['points'][_0x4707c3+0x1]);scratchpadCtx[_0x3ddc98(0xd8c)](_0x243b78[_0x3ddc98(0x5c8)][_0x4707c3]['x'],_0x243b78[_0x3ddc98(0x5c8)][_0x4707c3]['y'],_0xc3ae6d['x'],_0xc3ae6d['y']);}scratchpadCtx[_0x3ddc98(0xd0)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x3ddc98(0x80e)]();}function handlePointerMove(_0x464e12){const _0x52993f=_0xc7d29a;_0x464e12[_0x52993f(0x862)]();const _0x1c7391=scratchpadCtx[_0x52993f(0xb63)],_0x2b8869=_0x1c7391[_0x52993f(0xa99)]();if(_0x464e12[_0x52993f(0x641)]){if(_0x464e12[_0x52993f(0x641)][_0x52993f(0x3bb)]===0x1&&isDrawingOnScratchpad){const _0x29b14d=getTransformedPoint(_0x464e12['touches'][0x0]['clientX']-_0x2b8869[_0x52993f(0x705)],_0x464e12[_0x52993f(0x641)][0x0][_0x52993f(0xb7a)]-_0x2b8869[_0x52993f(0x6f2)]);currentStroke[_0x52993f(0x5c8)][_0x52993f(0x77f)](_0x29b14d),redrawScratchpad();}else{if(_0x464e12[_0x52993f(0x641)][_0x52993f(0x3bb)]===0x2&&isPanning){const _0x12e47b=getDistance({'x':_0x464e12[_0x52993f(0x641)][0x0][_0x52993f(0xc5c)],'y':_0x464e12['touches'][0x0][_0x52993f(0xb7a)]},{'x':_0x464e12['touches'][0x1][_0x52993f(0xc5c)],'y':_0x464e12[_0x52993f(0x641)][0x1]['clientY']}),_0x32bade=getMidpoint({'x':_0x464e12[_0x52993f(0x641)][0x0][_0x52993f(0xc5c)],'y':_0x464e12[_0x52993f(0x641)][0x0][_0x52993f(0xb7a)]},{'x':_0x464e12[_0x52993f(0x641)][0x1]['clientX'],'y':_0x464e12[_0x52993f(0x641)][0x1][_0x52993f(0xb7a)]}),_0x1892b3=_0x12e47b/ initialPinchDistance,_0x35697d=Math[_0x52993f(0xb5d)](Math[_0x52993f(0xa73)](scratchpadScale*_0x1892b3,MIN_SCALE),MAX_SCALE),_0x42740c=_0x32bade['x']-panStart['x'],_0x2d3416=_0x32bade['y']-panStart['y'];scratchpadOffset['x']=_0x32bade['x']-(_0x32bade['x']-scratchpadOffset['x'])*(_0x35697d/scratchpadScale),scratchpadOffset['y']=_0x32bade['y']-(_0x32bade['y']-scratchpadOffset['y'])*(_0x35697d/scratchpadScale),scratchpadOffset['x']+=_0x42740c,scratchpadOffset['y']+=_0x2d3416,scratchpadScale=_0x35697d,initialPinchDistance=_0x12e47b,panStart=_0x32bade,redrawScratchpad();}}}else{if(isMousePanning){const _0xa33b5b=_0x464e12[_0x52993f(0xc5c)]-panStart['x'],_0x4565ca=_0x464e12['clientY']-panStart['y'];scratchpadOffset['x']+=_0xa33b5b,scratchpadOffset['y']+=_0x4565ca,panStart={'x':_0x464e12[_0x52993f(0xc5c)],'y':_0x464e12[_0x52993f(0xb7a)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x16cc58=getTransformedPoint(_0x464e12[_0x52993f(0xc5c)]-_0x2b8869['left'],_0x464e12['clientY']-_0x2b8869[_0x52993f(0x6f2)]);currentStroke[_0x52993f(0x5c8)][_0x52993f(0x77f)](_0x16cc58),redrawScratchpad();}}}}function handlePointerUp(_0x2b1809){const _0x70e6a6=_0xc7d29a;_0x2b1809[_0x70e6a6(0x862)]();const _0x54663d=scratchpadCtx[_0x70e6a6(0xb63)];isMousePanning&&(isMousePanning=![],_0x54663d[_0x70e6a6(0x220)][_0x70e6a6(0x9be)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x70e6a6(0x3bb)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x70e6a6(0xdec)]===_0x70e6a6(0x67f)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x51c61b=_0x70e6a6,_0x33214d=strokes[_0x51c61b(0xb8e)](_0x4d6f5d=>_0x4d6f5d[_0x51c61b(0xdec)]===_0x51c61b(0x67f)&&!_0x4d6f5d[_0x51c61b(0xa04)]);if(_0x33214d[_0x51c61b(0x3bb)]>0x0){const _0x2476d8=Date['now']();_0x33214d[_0x51c61b(0x3f4)](_0xaf146e=>_0xaf146e[_0x51c61b(0xa04)]=_0x2476d8),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x33b39f){const _0x58a2a4=_0xc7d29a;_0x33b39f[_0x58a2a4(0x862)]();const _0x2efad2=_0x33b39f[_0x58a2a4(0x55c)]*-0.005,_0x28bc01=Math['min'](Math['max'](scratchpadScale+_0x2efad2,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x33b39f[_0x58a2a4(0xc5c)]-(_0x33b39f['clientX']-scratchpadOffset['x'])*(_0x28bc01/scratchpadScale),scratchpadOffset['y']=_0x33b39f[_0x58a2a4(0xb7a)]-(_0x33b39f[_0x58a2a4(0xb7a)]-scratchpadOffset['y'])*(_0x28bc01/scratchpadScale),scratchpadScale=_0x28bc01,redrawScratchpad();}function undo(){const _0x482115=_0xc7d29a;strokes[_0x482115(0x3bb)]>0x0&&(redoStrokes[_0x482115(0x77f)](strokes[_0x482115(0x55b)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x4372aa=_0xc7d29a;redoStrokes[_0x4372aa(0x3bb)]>0x0&&(strokes[_0x4372aa(0x77f)](redoStrokes[_0x4372aa(0x55b)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0xf0cc8e=_0xc7d29a;document['getElementById'](_0xf0cc8e(0x420))[_0xf0cc8e(0xc2b)]=strokes[_0xf0cc8e(0x3bb)]===0x0,document[_0xf0cc8e(0x8cb)](_0xf0cc8e(0x27c))[_0xf0cc8e(0xc2b)]=redoStrokes[_0xf0cc8e(0x3bb)]===0x0;}function openScratchpad(_0x237fe7,_0x47ea67){const _0x220161=_0xc7d29a,_0x2d7e90=document[_0x220161(0x8cb)](_0x220161(0x2ca)),_0x3d8eb8=document['getElementById']('scratchpad-question'),_0x3e643e=document['getElementById'](_0x220161(0xde0)),_0x227415=document[_0x220161(0x8cb)](_0x220161(0xd96));_0x3d8eb8['innerHTML']=_0x237fe7[_0x220161(0x23b)]||_0x237fe7[_0x220161(0x3ab)],_0x3e643e['innerHTML']=_0x47ea67[_0x220161(0x283)]((_0x4c0a18,_0x23431f)=>'<div>'+String[_0x220161(0x6a1)](0x41+_0x23431f)+'.\x20'+_0x4c0a18+_0x220161(0x1d2))[_0x220161(0x922)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x2d7e90['classList']['remove'](_0x220161(0x1c9)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax['typesetPromise']([_0x3d8eb8,_0x3e643e]);}function openBlueprintQuizSettings(){const _0x1b9109=_0xc7d29a,_0x8ccd39=document['getElementById'](_0x1b9109(0xbdf)),_0x44d4ee=blueprintPageSettings||(currentProjectData?currentProjectData[_0x1b9109(0x7c2)]:{})||{};document[_0x1b9109(0x8cb)](_0x1b9109(0xd94))[_0x1b9109(0xb66)]=_0x44d4ee[_0x1b9109(0x7f3)]||document[_0x1b9109(0x8cb)](_0x1b9109(0x9b0))[_0x1b9109(0xb66)],document[_0x1b9109(0x8cb)](_0x1b9109(0x505))[_0x1b9109(0x22a)]=document[_0x1b9109(0x8cb)](_0x1b9109(0xb88))['innerHTML'],document[_0x1b9109(0x8cb)](_0x1b9109(0x505))[_0x1b9109(0xb66)]=_0x44d4ee[_0x1b9109(0x935)]||document['getElementById'](_0x1b9109(0xb88))['value'],document[_0x1b9109(0x8cb)]('bp-modal-question-complexity-select')[_0x1b9109(0x22a)]=document['getElementById'](_0x1b9109(0x43f))[_0x1b9109(0x22a)],document[_0x1b9109(0x8cb)](_0x1b9109(0xbcd))['value']=_0x44d4ee[_0x1b9109(0xaba)]||document[_0x1b9109(0x8cb)](_0x1b9109(0x43f))[_0x1b9109(0xb66)],document[_0x1b9109(0x8cb)]('bp-modal-num-questions')[_0x1b9109(0xb66)]=_0x44d4ee[_0x1b9109(0x915)]||document['getElementById']('num-questions')[_0x1b9109(0xb66)],document[_0x1b9109(0x8cb)](_0x1b9109(0xdcf))[_0x1b9109(0xb66)]=_0x44d4ee[_0x1b9109(0x1b7)]||document[_0x1b9109(0x8cb)](_0x1b9109(0x4f0))[_0x1b9109(0xb66)],document[_0x1b9109(0x8cb)](_0x1b9109(0x1f5))[_0x1b9109(0xb66)]=_0x44d4ee[_0x1b9109(0x4f6)]||document[_0x1b9109(0x8cb)](_0x1b9109(0x8e2))[_0x1b9109(0xb66)],document['getElementById'](_0x1b9109(0x54a))[_0x1b9109(0xb66)]=_0x44d4ee['shuffle']||document[_0x1b9109(0x8cb)](_0x1b9109(0xba2))[_0x1b9109(0xb66)],document['getElementById'](_0x1b9109(0x85a))[_0x1b9109(0x4d7)]=_0x44d4ee['includeImages']||document['getElementById'](_0x1b9109(0xe36))[_0x1b9109(0x4d7)],_0x8ccd39['classList'][_0x1b9109(0xc8b)]('hidden');}function handleSaveBlueprintPageSettings(){const _0x30349a=_0xc7d29a;blueprintPageSettings={'quizType':document[_0x30349a(0x8cb)]('bp-modal-quiz-type-select')[_0x30349a(0xb66)],'difficultyValue':document[_0x30349a(0x8cb)](_0x30349a(0x505))['value'],'complexityValue':document[_0x30349a(0x8cb)](_0x30349a(0xbcd))[_0x30349a(0xb66)],'numQuestions':document['getElementById'](_0x30349a(0x43d))['value'],'passingScore':document['getElementById'](_0x30349a(0xdcf))['value'],'numChoices':document[_0x30349a(0x8cb)](_0x30349a(0x1f5))['value'],'shuffle':document[_0x30349a(0x8cb)](_0x30349a(0x54a))[_0x30349a(0xb66)],'includeImages':document[_0x30349a(0x8cb)](_0x30349a(0x85a))['checked']},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document['getElementById'](_0x30349a(0xbdf))['classList'][_0x30349a(0x743)]('hidden');}function listenForParallelTestShortcuts(){const _0xdbc2eb=_0xc7d29a,_0x1f9331=doc(db,'globalSettings',_0xdbc2eb(0x871));onSnapshot(_0x1f9331,_0x934ce0=>{const _0x2ac018=_0xdbc2eb;let _0x5db9b4=[],_0xe1842e=[],_0x46b36b={};if(_0x934ce0[_0x2ac018(0x45f)]()){const _0x2e2793=_0x934ce0['data']();_0x5db9b4=_0x2e2793[_0x2ac018(0xda9)]||[],_0xe1842e=_0x2e2793['parallelShortcutTabs']||[],_0x46b36b=_0x2e2793['parallelShortcutOrder']||{};}!_0xe1842e[_0x2ac018(0x7d2)](_0x78f76f=>_0x78f76f['id']===_0x2ac018(0x1fd))&&_0xe1842e[_0x2ac018(0x901)]({'id':_0x2ac018(0x1fd),'name':_0x2ac018(0x92e),'isDefault':!![]}),!_0x5db9b4[_0x2ac018(0x7d2)](_0x5baa8a=>_0x5baa8a['id']===_0x2ac018(0xc5d))&&_0x5db9b4['unshift']({'id':_0x2ac018(0xc5d),'name':_0x2ac018(0x918),'url':'','isDefault':!![]}),!_0x5db9b4[_0x2ac018(0x7d2)](_0x525f91=>_0x525f91['id']===_0x2ac018(0x4a2))&&_0x5db9b4[_0x2ac018(0x901)]({'id':'parallel-default-2','name':_0x2ac018(0x536),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x5db9b4,parallelShortcutTabs=_0xe1842e,parallelShortcutOrder=_0x46b36b,renderParallelTestShortcuts(),!document['getElementById'](_0x2ac018(0xbfd))[_0x2ac018(0x144)][_0x2ac018(0x3c8)](_0x2ac018(0x1c9))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x4d8f2a=_0xc7d29a,_0x35dc0a=doc(db,'globalSettings','parallelTestShortcutsConfig');try{await setDoc(_0x35dc0a,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0xf247da){console[_0x4d8f2a(0x3e8)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0xf247da);}}function renderAdditionalParallelShortcutsModal(){const _0x4ca067=_0xc7d29a,_0x18efb8=document[_0x4ca067(0x8cb)]('parallel-shortcut-tabs-nav'),_0x4b7ade=document[_0x4ca067(0x8cb)]('additional-parallel-shortcuts-list');if(!_0x18efb8||!_0x4b7ade)return;_0x18efb8[_0x4ca067(0x22a)]=parallelShortcutTabs[_0x4ca067(0x283)](_0x576420=>{const _0x1bd020=_0x4ca067,_0x223bcc=_0x576420['id']===activeParallelShortcutTabId;return _0x1bd020(0x553)+_0x576420['id']+_0x1bd020(0x524)+(_0x223bcc?_0x1bd020(0x8dd):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x1bd020(0x49a)+_0x576420[_0x1bd020(0xa48)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x576420['name']+_0x1bd020(0xe28)+(!_0x576420[_0x1bd020(0x73d)]?_0x1bd020(0x6c4)+_0x576420['id']+_0x1bd020(0x3a2):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('');const _0x145d88=parallelShortcutTabs[_0x4ca067(0x7d2)](_0x2189c3=>_0x2189c3['id']===activeParallelShortcutTabId);let _0x118521=_0x145d88?.[_0x4ca067(0x73d)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x4ca067(0xb8e)](_0x4f8041=>(_0x145d88?.[_0x4ca067(0x297)]||[])[_0x4ca067(0xd33)](_0x4f8041['id']));const _0x98e5fb=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x118521[_0x4ca067(0x9a7)]((_0x4fc58e,_0x5a54e3)=>{const _0x246203=_0x4ca067,_0x33465d=_0x98e5fb[_0x246203(0x7a7)](_0x4fc58e['id']),_0x5365f3=_0x98e5fb[_0x246203(0x7a7)](_0x5a54e3['id']);return(_0x33465d===-0x1?Infinity:_0x33465d)-(_0x5365f3===-0x1?Infinity:_0x5365f3);}),_0x4b7ade[_0x4ca067(0x22a)]=_0x118521['map'](_0x160a00=>{const _0x4c5dfe=_0x4ca067,_0x10dd81=_0x160a00['url']?'🔁':'🔗',_0x1869c3=parallelShortcutTabs['filter'](_0x12416a=>!_0x12416a['isDefault']),_0x3d3c32=_0x145d88[_0x4c5dfe(0x73d)]&&_0x1869c3[_0x4c5dfe(0x3bb)]>0x0?_0x4c5dfe(0x2e7)+_0x1869c3['map'](_0x33c044=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x160a00['id']+_0x4c5dfe(0x41c)+_0x33c044['id']+'\x22>'+_0x33c044[_0x4c5dfe(0xa48)]+_0x4c5dfe(0x8d9))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x4c5dfe(0x782)+_0x160a00['id']+_0x4c5dfe(0xc71)+_0x10dd81+'\x20'+_0x160a00[_0x4c5dfe(0xa48)]+_0x4c5dfe(0x652)+_0x160a00['id']+_0x4c5dfe(0x1db)+_0x160a00['id']+_0x4c5dfe(0xbca)+(!_0x160a00[_0x4c5dfe(0x73d)]?_0x4c5dfe(0x9b8)+_0x160a00['id']+_0x4c5dfe(0x66c):'')+_0x4c5dfe(0x5f7)+(!_0x145d88['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x160a00['id']+'\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x4c5dfe(0x5f7)+_0x3d3c32+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x4ca067(0x922)]('')||_0x4ca067(0xc91),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x4a780c=_0xc7d29a;document[_0x4a780c(0xb9f)](_0x4a780c(0xa6e))[_0x4a780c(0x3f4)](_0x888665=>{const _0x588f11=_0x4a780c;_0x888665[_0x588f11(0x312)]=_0x2efab6=>{const _0x362729=_0x588f11;activeParallelShortcutTabId=_0x2efab6[_0x362729(0x4e1)][_0x362729(0x5fd)][_0x362729(0x97d)],renderAdditionalParallelShortcutsModal();},_0x888665[_0x588f11(0x737)]=_0x482257=>{const _0x5523e2=_0x588f11,_0x533f90=_0x482257[_0x5523e2(0x4e1)][_0x5523e2(0x947)](_0x5523e2(0x6c9));_0x482257[_0x5523e2(0x4e1)][_0x5523e2(0x947)](_0x5523e2(0xcc9))[_0x5523e2(0x144)][_0x5523e2(0x743)]('hidden'),_0x533f90[_0x5523e2(0x144)][_0x5523e2(0xc8b)](_0x5523e2(0x1c9)),_0x533f90[_0x5523e2(0x663)](),_0x533f90[_0x5523e2(0x15d)]();};}),document[_0x4a780c(0xb9f)](_0x4a780c(0x2d2))['forEach'](_0xe3095c=>{const _0x4c25a3=_0x4a780c,_0x242251=()=>{const _0x3b2ed5=_0x3c23,_0x185941=_0xe3095c[_0x3b2ed5(0x575)](_0x3b2ed5(0xa6e))[_0x3b2ed5(0x5fd)][_0x3b2ed5(0x97d)],_0x1b9ed5=parallelShortcutTabs[_0x3b2ed5(0x7d2)](_0x1b0521=>_0x1b0521['id']===_0x185941);_0x1b9ed5&&(_0x1b9ed5[_0x3b2ed5(0xa48)]=_0xe3095c[_0x3b2ed5(0xb66)][_0x3b2ed5(0x649)]()||_0x1b9ed5[_0x3b2ed5(0xa48)],saveParallelShortcutConfig());};_0xe3095c[_0x4c25a3(0xd85)]=_0x242251,_0xe3095c[_0x4c25a3(0x146)]=_0x1075b4=>{const _0x4dcb61=_0x4c25a3;if(_0x1075b4[_0x4dcb61(0x181)]==='Enter')_0xe3095c[_0x4dcb61(0x96c)]();};}),document[_0x4a780c(0xb9f)]('.delete-parallel-shortcut-tab-btn')[_0x4a780c(0x3f4)](_0x1c63d4=>_0x1c63d4[_0x4a780c(0x312)]=_0x2b5e86=>{const _0x376ce1=_0x4a780c,_0x3f5d2f=_0x2b5e86[_0x376ce1(0x4e1)][_0x376ce1(0x5fd)][_0x376ce1(0x97d)];showConfirmation(_0x376ce1(0x9d1),()=>{parallelShortcutTabs=parallelShortcutTabs['filter'](_0x9a0166=>_0x9a0166['id']!==_0x3f5d2f),delete parallelShortcutOrder[_0x3f5d2f];if(activeParallelShortcutTabId===_0x3f5d2f)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x4a780c(0xb9f)](_0x4a780c(0x3ee))[_0x4a780c(0x3f4)](_0x476837=>_0x476837[_0x4a780c(0x312)]=_0x2c60ab=>{const _0x2ee106=_0x4a780c;_0x2c60ab[_0x2ee106(0x862)]();const {shortcutId:_0x33caeb,targetTabId:_0x548b45}=_0x2c60ab['currentTarget'][_0x2ee106(0x5fd)],_0xe544b3=parallelShortcutTabs[_0x2ee106(0x7d2)](_0x3d24be=>_0x3d24be['id']===_0x548b45);_0xe544b3&&!_0xe544b3[_0x2ee106(0x297)][_0x2ee106(0xd33)](_0x33caeb)&&(_0xe544b3[_0x2ee106(0x297)][_0x2ee106(0x77f)](_0x33caeb),saveParallelShortcutConfig());}),document[_0x4a780c(0xb9f)](_0x4a780c(0xe49))[_0x4a780c(0x3f4)](_0x9f4c5f=>_0x9f4c5f['onclick']=_0x251671=>{const _0x5b5b63=_0x4a780c,_0x403b34=_0x251671['currentTarget'][_0x5b5b63(0x5fd)][_0x5b5b63(0xb62)],_0x39fa68=parallelShortcutTabs[_0x5b5b63(0x7d2)](_0x1b1b13=>_0x1b1b13['id']===activeParallelShortcutTabId);_0x39fa68&&!_0x39fa68[_0x5b5b63(0x73d)]&&(_0x39fa68[_0x5b5b63(0x297)]=_0x39fa68['shortcutIds']['filter'](_0x19375b=>_0x19375b!==_0x403b34),saveParallelShortcutConfig());}),document[_0x4a780c(0xb9f)](_0x4a780c(0xa37))[_0x4a780c(0x3f4)](_0x5ea370=>_0x5ea370['onclick']=_0x599f29=>{const _0x52c86d=_0x4a780c;_0x599f29[_0x52c86d(0x6e5)]();const _0x157375=_0x599f29[_0x52c86d(0x4e1)]['nextElementSibling'];document[_0x52c86d(0xb9f)](_0x52c86d(0x427))['forEach'](_0x127aba=>_0x127aba[_0x52c86d(0x144)][_0x52c86d(0x743)](_0x52c86d(0x1c9))),_0x157375[_0x52c86d(0x144)][_0x52c86d(0xc8b)]('hidden');});const _0x4b93ef=document[_0x4a780c(0x8cb)](_0x4a780c(0x644));let _0x5b18cb=null;_0x4b93ef['ondragstart']=_0x2c190e=>{const _0x4a4e5c=_0x4a780c;_0x5b18cb=_0x2c190e[_0x4a4e5c(0x7b9)][_0x4a4e5c(0x575)]('.shortcut-list-item');if(_0x5b18cb)setTimeout(()=>_0x5b18cb[_0x4a4e5c(0x144)][_0x4a4e5c(0x743)]('opacity-50'),0x0);},_0x4b93ef[_0x4a780c(0x131)]=()=>{const _0x5d441a=_0x4a780c;_0x5b18cb&&(_0x5b18cb['classList']['remove'](_0x5d441a(0xce6)),_0x5b18cb=null);},_0x4b93ef['ondragover']=_0x1e2963=>{_0x1e2963['preventDefault']();},_0x4b93ef[_0x4a780c(0xa7b)]=_0x3333f3=>{const _0xe073c7=_0x4a780c;_0x3333f3[_0xe073c7(0x862)]();if(_0x5b18cb){const _0x26f69d=[..._0x4b93ef[_0xe073c7(0xb9f)](_0xe073c7(0xd56))]['reduce']((_0x183dcd,_0x5042f1)=>{const _0x408867=_0xe073c7,_0x1760c8=_0x5042f1[_0x408867(0xa99)](),_0x55829c=_0x3333f3[_0x408867(0xb7a)]-_0x1760c8[_0x408867(0x6f2)]-_0x1760c8['height']/0x2;return _0x55829c<0x0&&_0x55829c>_0x183dcd['offset']?{'offset':_0x55829c,'element':_0x5042f1}:_0x183dcd;},{'offset':Number[_0xe073c7(0x272)]})[_0xe073c7(0x58f)];_0x26f69d==null?_0x4b93ef[_0xe073c7(0x4cf)](_0x5b18cb):_0x4b93ef[_0xe073c7(0x5a9)](_0x5b18cb,_0x26f69d);const _0xe578=[..._0x4b93ef[_0xe073c7(0xb9f)](_0xe073c7(0xca9))]['map'](_0x244dab=>_0x244dab[_0xe073c7(0x5fd)][_0xe073c7(0xb62)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0xe578,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x255730=_0xc7d29a,_0x4f306f=prompt(_0x255730(0xbc4),_0x255730(0x320));_0x4f306f&&_0x4f306f['trim']()&&(parallelShortcutTabs[_0x255730(0x77f)]({'id':_0x255730(0x3b7)+Date[_0x255730(0x2da)](),'name':_0x4f306f[_0x255730(0x649)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x27b3d0=_0xc7d29a,_0x3ea4ec=document['getElementById'](_0x27b3d0(0x377)),_0x2f0547=document[_0x27b3d0(0x8cb)](_0x27b3d0(0x644)),_0x22197d=document['getElementById'](_0x27b3d0(0xdca));if(_0x22197d)_0x22197d['classList'][_0x27b3d0(0x743)](_0x27b3d0(0x1c9));if(!_0x3ea4ec||!_0x2f0547)return;const _0x1a5c05=parallelTestShortcuts['slice'](0x0,0x4),_0x892f43=parallelTestShortcuts['slice'](0x4);_0x3ea4ec[_0x27b3d0(0x22a)]=_0x1a5c05['map'](_0x2b55d2=>{const _0x2a0ebb=_0x27b3d0,_0x1dbb04=_0x2b55d2[_0x2a0ebb(0x589)]&&_0x2b55d2[_0x2a0ebb(0x589)][_0x2a0ebb(0x649)]()!=='',_0x3365dc=_0x1dbb04?_0x2a0ebb(0x698):_0x2a0ebb(0x905),_0x24e8bd=_0x1dbb04?'🔁':'🔗',_0x3c9212=!_0x2b55d2[_0x2a0ebb(0x73d)]?_0x2a0ebb(0x9b8)+_0x2b55d2['id']+_0x2a0ebb(0x467):'';return _0x2a0ebb(0x4de)+_0x2b55d2['id']+_0x2a0ebb(0xdfa)+_0x3365dc+_0x2a0ebb(0xb46)+_0x24e8bd+'\x20'+_0x2b55d2[_0x2a0ebb(0xa48)]+_0x2a0ebb(0x8a6)+_0x2b55d2['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c9212+_0x2a0ebb(0xe07);})[_0x27b3d0(0x922)](''),_0x892f43[_0x27b3d0(0x3bb)]>0x0&&(_0x3ea4ec[_0x27b3d0(0x22a)]+=_0x27b3d0(0x5f8)),_0x892f43['length']>0x0?_0x2f0547[_0x27b3d0(0x22a)]=_0x892f43[_0x27b3d0(0x283)](_0x17c18d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x17c18d[_0x27b3d0(0x589)]?'🔁':'🔗')+'\x20'+_0x17c18d['name']+_0x27b3d0(0x5e9)+_0x17c18d['id']+_0x27b3d0(0xdb4)+_0x17c18d['id']+_0x27b3d0(0x3d7)+(!_0x17c18d[_0x27b3d0(0x73d)]?'<button\x20data-id=\x22'+_0x17c18d['id']+_0x27b3d0(0x66c):'')+_0x27b3d0(0x874))[_0x27b3d0(0x922)](''):_0x2f0547[_0x27b3d0(0x22a)]=_0x27b3d0(0x97f);}function openParallelTestShortcutEditor(_0x4ed5c2=null){const _0x40abec=_0xc7d29a,_0x363983=document[_0x40abec(0x8cb)](_0x40abec(0xdae)),_0x5713fb=document[_0x40abec(0x8cb)]('parallel-shortcut-modal-title'),_0x138d78=document[_0x40abec(0x8cb)](_0x40abec(0x5d8)),_0x4185da=document[_0x40abec(0x8cb)](_0x40abec(0x101)),_0x78051a=document[_0x40abec(0x8cb)]('parallel-shortcut-url-input');if(_0x4ed5c2){const _0x24e5a0=parallelTestShortcuts[_0x40abec(0x7d2)](_0x5d733a=>_0x5d733a['id']===_0x4ed5c2);if(!_0x24e5a0)return;_0x5713fb[_0x40abec(0x1ae)]=_0x40abec(0x2f4),_0x138d78['value']=_0x24e5a0['id'],_0x4185da['value']=_0x24e5a0[_0x40abec(0xa48)],_0x78051a['value']=_0x24e5a0['url']||'';}else _0x5713fb[_0x40abec(0x1ae)]=_0x40abec(0x248),_0x138d78['value']='',_0x4185da[_0x40abec(0xb66)]='',_0x78051a[_0x40abec(0xb66)]='';_0x363983[_0x40abec(0x144)]['remove'](_0x40abec(0x1c9));}async function saveParallelTestShortcutChanges(){const _0x3f6699=_0xc7d29a,_0x5ea9ee=document['getElementById']('parallel-shortcut-id-input')[_0x3f6699(0xb66)],_0x1efa57=document['getElementById'](_0x3f6699(0x101))['value'][_0x3f6699(0x649)](),_0x1c6551=document[_0x3f6699(0x8cb)](_0x3f6699(0xd0a))['value'][_0x3f6699(0x649)]();if(!_0x1efa57){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0x39c130={'id':_0x5ea9ee||_0x3f6699(0x8c9)+Date[_0x3f6699(0x2da)](),'name':_0x1efa57,'url':_0x1c6551,'isDefault':_0x5ea9ee[_0x3f6699(0xdd8)](_0x3f6699(0x336))};let _0x438668;_0x5ea9ee?_0x438668=parallelTestShortcuts['map'](_0x17aab9=>_0x17aab9['id']===_0x5ea9ee?_0x39c130:_0x17aab9):_0x438668=[...parallelTestShortcuts,_0x39c130];try{const _0x1ad13d=doc(db,_0x3f6699(0xb14),_0x3f6699(0x871));await setDoc(_0x1ad13d,{'shortcuts':_0x438668},{'merge':!![]}),document[_0x3f6699(0x8cb)](_0x3f6699(0xdae))['classList'][_0x3f6699(0x743)](_0x3f6699(0x1c9));}catch(_0x4a03eb){console[_0x3f6699(0x3e8)](_0x3f6699(0x49e),_0x4a03eb),showMessage(_0x3f6699(0x5e1));}}async function handleParallelTestShortcutClick(_0x10f93a){const _0x3c1859=_0xc7d29a,_0x46a1f8=parallelTestShortcuts['find'](_0xc40adc=>_0xc40adc['id']===_0x10f93a);if(!_0x46a1f8)return;if(!_0x46a1f8['url']||_0x46a1f8[_0x3c1859(0x589)][_0x3c1859(0x649)]()===''){openParallelTestShortcutEditor(_0x10f93a);return;}const _0x1a892c=document['getElementById'](_0x3c1859(0x8aa)),_0x446dfa=document['getElementById'](_0x3c1859(0xc8d));document[_0x3c1859(0x8cb)](_0x3c1859(0xa93))[_0x3c1859(0x144)]['remove'](_0x3c1859(0x1c9)),document['getElementById'](_0x3c1859(0xfc))[_0x3c1859(0x22a)]='',_0x1a892c['classList'][_0x3c1859(0xc8b)](_0x3c1859(0x1c9)),_0x446dfa[_0x3c1859(0x1ae)]=_0x3c1859(0x1b3);try{let _0x38e7cf;_0x46a1f8[_0x3c1859(0x589)][_0x3c1859(0xdfe)]()['includes'](_0x3c1859(0x766))?_0x38e7cf=_0x3c1859(0x8e4):_0x38e7cf='source_document.pdf';const _0x56120e=await fetchFileFromUrl(_0x46a1f8[_0x3c1859(0x589)],_0x38e7cf);await handleGenerateParallelTest(_0x56120e);}catch(_0x103d49){console[_0x3c1859(0x3e8)]('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x103d49),showMessage(_0x3c1859(0x506)+_0x103d49[_0x3c1859(0xd5f)]),_0x1a892c[_0x3c1859(0x144)][_0x3c1859(0x743)](_0x3c1859(0x1c9));}}function initializeScratchpadCanvas(){const _0x25771f=_0xc7d29a,_0x5a834c=document[_0x25771f(0x8cb)](_0x25771f(0x585)),_0x29aaab=document['querySelector'](_0x25771f(0x4a0));if(!_0x5a834c||!_0x29aaab)return;scratchpadCtx=_0x5a834c[_0x25771f(0x956)]('2d',{'willReadFrequently':!![]});const _0x3e6ce9=window[_0x25771f(0xbb)]||0x1,_0x487bd7=_0x29aaab[_0x25771f(0xa99)]();_0x5a834c[_0x25771f(0x958)]=_0x487bd7[_0x25771f(0x958)]*_0x3e6ce9,_0x5a834c[_0x25771f(0x810)]=_0x487bd7[_0x25771f(0x810)]*_0x3e6ce9,_0x5a834c[_0x25771f(0x220)][_0x25771f(0x958)]=_0x487bd7[_0x25771f(0x958)]+'px',_0x5a834c[_0x25771f(0x220)][_0x25771f(0x810)]=_0x487bd7['height']+'px',scratchpadCtx[_0x25771f(0xcb8)](_0x3e6ce9,_0x3e6ce9),scratchpadCtx[_0x25771f(0x6cd)]='round',scratchpadCtx[_0x25771f(0xbea)]=_0x25771f(0x72a),_0x5a834c[_0x25771f(0xdf5)]('pointerdown',handlePointerDown),_0x5a834c[_0x25771f(0xdf5)]('pointermove',handlePointerMove),_0x5a834c[_0x25771f(0xdf5)](_0x25771f(0x4a6),handlePointerUp),_0x5a834c['removeEventListener']('pointercancel',handlePointerUp),_0x5a834c[_0x25771f(0xdf5)]('wheel',handleWheel),_0x5a834c['removeEventListener'](_0x25771f(0x1ce),handlePointerDown),_0x5a834c[_0x25771f(0xdf5)]('touchmove',handlePointerMove),_0x5a834c[_0x25771f(0xdf5)](_0x25771f(0x566),handlePointerUp),_0x5a834c[_0x25771f(0x38d)](_0x25771f(0x1d7),handlePointerDown),_0x5a834c[_0x25771f(0x38d)](_0x25771f(0xb83),handlePointerMove),_0x5a834c[_0x25771f(0x38d)](_0x25771f(0x4a6),handlePointerUp),_0x5a834c[_0x25771f(0x38d)](_0x25771f(0xb60),handlePointerUp),_0x5a834c['addEventListener'](_0x25771f(0x1a8),handleWheel,{'passive':![]}),_0x5a834c[_0x25771f(0x38d)](_0x25771f(0x1ce),handlePointerDown,{'passive':![]}),_0x5a834c[_0x25771f(0x38d)]('touchmove',handlePointerMove,{'passive':![]}),_0x5a834c[_0x25771f(0x38d)](_0x25771f(0x566),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x428596=_0xc7d29a,_0x290ee6=document[_0x428596(0x8cb)](_0x428596(0x2ca)),_0x4e983b=document[_0x428596(0x8cb)]('scratchpad-controls');_0x4e983b['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x428596(0xe5);const _0x2f85d7=document['getElementById'](_0x428596(0x17e)),_0x413bb6=document['getElementById'](_0x428596(0x555)),_0x17b5c8=document['getElementById'](_0x428596(0xcbb)),_0xb3eab0=document[_0x428596(0x8cb)](_0x428596(0x92d)),_0x3cd22b=document[_0x428596(0x8cb)](_0x428596(0xdf9)),_0x6d9355=document[_0x428596(0x8cb)](_0x428596(0x65e)),_0x5e4385=document[_0x428596(0x8cb)](_0x428596(0xca0)),_0x119d7b=[_0x2f85d7,_0x413bb6,_0x17b5c8,_0xb3eab0];document[_0x428596(0x8cb)](_0x428596(0x6b8))[_0x428596(0x38d)](_0x428596(0x9b4),()=>_0x290ee6['classList'][_0x428596(0x743)](_0x428596(0x1c9))),document[_0x428596(0x8cb)](_0x428596(0x955))[_0x428596(0x38d)](_0x428596(0x9b4),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x428596(0x8cb)](_0x428596(0x462))[_0x428596(0x38d)](_0x428596(0x9b4),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x428596(0x8cb)](_0x428596(0x420))[_0x428596(0x38d)](_0x428596(0x9b4),undo),document[_0x428596(0x8cb)]('redo-btn')[_0x428596(0x38d)](_0x428596(0x9b4),redo);const _0x58ae1d=_0x79b06d=>{const _0x27c099=_0x428596;_0x119d7b[_0x27c099(0x3f4)](_0x209f1d=>_0x209f1d['classList'][_0x27c099(0xc8b)](_0x27c099(0xb26))),_0x79b06d[_0x27c099(0x144)][_0x27c099(0x743)]('active'),_0x3cd22b[_0x27c099(0x144)][_0x27c099(0x743)](_0x27c099(0x1c9)),_0x6d9355[_0x27c099(0x144)][_0x27c099(0x743)](_0x27c099(0x1c9)),_0x5e4385['classList']['add']('hidden');if(activeTool===_0x27c099(0x2f0)||activeTool===_0x27c099(0x67f))_0x3cd22b[_0x27c099(0x144)][_0x27c099(0xc8b)](_0x27c099(0x1c9));else{if(activeTool==='highlighter')_0x6d9355[_0x27c099(0x144)][_0x27c099(0xc8b)](_0x27c099(0x1c9));else activeTool===_0x27c099(0xa3b)&&_0x5e4385[_0x27c099(0x144)]['remove']('hidden');}};_0x2f85d7[_0x428596(0x38d)]('click',()=>{const _0x196f58=_0x428596;activeTool=_0x196f58(0x2f0),_0x58ae1d(_0x2f85d7);}),_0x413bb6[_0x428596(0x38d)](_0x428596(0x9b4),()=>{const _0x370f8a=_0x428596;activeTool=_0x370f8a(0xa3b),_0x58ae1d(_0x413bb6);}),_0x17b5c8['addEventListener'](_0x428596(0x9b4),()=>{const _0x18f559=_0x428596;activeTool=_0x18f559(0x67f),_0x58ae1d(_0x17b5c8);}),_0xb3eab0['addEventListener']('click',()=>{const _0x2e401a=_0x428596;activeTool=_0x2e401a(0xc28),_0x58ae1d(_0xb3eab0);}),_0x3cd22b['querySelectorAll']('.pen-size-btn')['forEach'](_0x5a9dbe=>{const _0x2dedd0=_0x428596;_0x5a9dbe[_0x2dedd0(0x38d)]('click',_0xd70334=>{const _0x33a13a=_0x2dedd0;scratchpadPenSize=parseInt(_0xd70334[_0x33a13a(0x7b9)][_0x33a13a(0x5fd)][_0x33a13a(0x63f)],0xa),_0x3cd22b['querySelectorAll'](_0x33a13a(0xa96))[_0x33a13a(0x3f4)](_0x165dd1=>_0x165dd1['classList'][_0x33a13a(0xc8b)](_0x33a13a(0xb26))),_0xd70334[_0x33a13a(0x7b9)][_0x33a13a(0x144)][_0x33a13a(0x743)](_0x33a13a(0xb26));});}),_0x5e4385[_0x428596(0xb9f)](_0x428596(0x21d))[_0x428596(0x3f4)](_0x4dbeb0=>{const _0x599ff0=_0x428596;_0x4dbeb0[_0x599ff0(0x38d)](_0x599ff0(0x9b4),_0x58f4e=>{const _0x4457b6=_0x599ff0,_0x257dbf=_0x58f4e[_0x4457b6(0x4e1)];scratchpadEraserSize=parseInt(_0x257dbf['dataset'][_0x4457b6(0x63f)],0xa),_0x5e4385[_0x4457b6(0xb9f)](_0x4457b6(0x21d))['forEach'](_0x1cb046=>_0x1cb046['classList'][_0x4457b6(0xc8b)]('active')),_0x257dbf[_0x4457b6(0x144)][_0x4457b6(0x743)](_0x4457b6(0xb26));});}),_0x3cd22b[_0x428596(0xb9f)](_0x428596(0x618))[_0x428596(0x3f4)](_0x5bc033=>{const _0x3678ad=_0x428596;_0x5bc033[_0x3678ad(0x38d)]('click',_0x262f4b=>{const _0x3f7f74=_0x3678ad;scratchpadPenColor=_0x262f4b[_0x3f7f74(0x7b9)][_0x3f7f74(0x5fd)][_0x3f7f74(0x455)],_0x3cd22b[_0x3f7f74(0xb9f)](_0x3f7f74(0x618))[_0x3f7f74(0x3f4)](_0x38d47b=>_0x38d47b[_0x3f7f74(0x144)][_0x3f7f74(0xc8b)](_0x3f7f74(0xb26))),_0x262f4b[_0x3f7f74(0x7b9)][_0x3f7f74(0x144)][_0x3f7f74(0x743)](_0x3f7f74(0xb26));});}),_0x6d9355[_0x428596(0xb9f)](_0x428596(0xa90))['forEach'](_0x569762=>{const _0x41ea28=_0x428596;_0x569762[_0x41ea28(0x38d)](_0x41ea28(0x9b4),_0xbe705a=>{const _0x4668fd=_0x41ea28;scratchpadHighlighterColor=_0xbe705a['target'][_0x4668fd(0x5fd)][_0x4668fd(0x455)],_0x6d9355[_0x4668fd(0xb9f)](_0x4668fd(0xa90))[_0x4668fd(0x3f4)](_0x57c7b3=>_0x57c7b3[_0x4668fd(0x144)][_0x4668fd(0xc8b)]('active')),_0xbe705a['target']['classList'][_0x4668fd(0x743)]('active');});});const _0xef4f77=document[_0x428596(0x8cb)]('highlighter-size-slider'),_0x3dc13d=document['getElementById'](_0x428596(0xad9));_0xef4f77[_0x428596(0x38d)](_0x428596(0x397),_0x4fe774=>{const _0x1b56a1=_0x428596,_0x5e1dcd=parseInt(_0x4fe774[_0x1b56a1(0x7b9)]['value'],0xa);scratchpadHighlighterSize=_0x5e1dcd,_0x3dc13d[_0x1b56a1(0x1ae)]=_0x5e1dcd;}),window[_0x428596(0x38d)](_0x428596(0x4e4),()=>{const _0x5af481=_0x428596;!_0x290ee6[_0x5af481(0x144)][_0x5af481(0x3c8)](_0x5af481(0x1c9))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0xc7d29a(0xdcb),'description':_0xc7d29a(0x744),'icon':_0xc7d29a(0x3d6)},'QUICK_THINKER':{'id':'quick_thinker','name':'เซียนสมองไว','description':_0xc7d29a(0x89c),'icon':_0xc7d29a(0xa50)},'ON_FIRE':{'id':_0xc7d29a(0xa58),'name':_0xc7d29a(0xe48),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':'fa-fire\x20text-orange-500'},'FIRST_TRY_ACE':{'id':_0xc7d29a(0xbe3),'name':_0xc7d29a(0x5b0),'description':_0xc7d29a(0x7e1),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0xc7d29a(0xb7f),'name':_0xc7d29a(0x78b),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0xc7d29a(0x6b9)},'SPECIALIST':{'id':_0xc7d29a(0x48b),'name':'ผู้เชี่ยวชาญ','description':_0xc7d29a(0x887),'icon':_0xc7d29a(0xd6d)},'PERSEVERANCE':{'id':'perseverance','name':_0xc7d29a(0xe21),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0xc7d29a(0x172),'authDomain':_0xc7d29a(0xc9f),'projectId':_0xc7d29a(0x457),'storageBucket':_0xc7d29a(0x18a),'messagingSenderId':_0xc7d29a(0xe04),'appId':_0xc7d29a(0x13f),'measurementId':_0xc7d29a(0xe41)},appId=typeof __app_id!==_0xc7d29a(0x702)?__app_id:'ai-quiz-generator-v3',adminView=document['getElementById'](_0xc7d29a(0xd19)),studentView=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x68e)),projectDashboardView=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x502)),projectDetailView=document['getElementById'](_0xc7d29a(0x829)),quizResultsView=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x46d)),projectList=document['getElementById'](_0xc7d29a(0x371)),noProjectsMsg=document[_0xc7d29a(0x8cb)](_0xc7d29a(0xac1)),projectTitle=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x7ac)),projectIdDisplay=document[_0xc7d29a(0x8cb)](_0xc7d29a(0xb20)),studentList=document[_0xc7d29a(0x8cb)](_0xc7d29a(0xa59)),messageModal=document[_0xc7d29a(0x8cb)](_0xc7d29a(0xa27)),modalMessage=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x49b)),createProjectModal=document[_0xc7d29a(0x8cb)]('create-project-modal'),adminPasswordModal=document[_0xc7d29a(0x8cb)](_0xc7d29a(0xbf1)),confirmationModal=document['getElementById'](_0xc7d29a(0xa9c)),userIdDisplay=document[_0xc7d29a(0x8cb)](_0xc7d29a(0xd81)),topicTab=document[_0xc7d29a(0x8cb)]('topic-tab'),textTab=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x2ce)),topicInputArea=document[_0xc7d29a(0x8cb)]('topic-input-area'),textInputArea=document['getElementById']('text-input-area'),manageTab=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x39e)),resultsTab=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x231)),leaderboardTab=document['getElementById'](_0xc7d29a(0x9ce)),manageTabContent=document[_0xc7d29a(0x8cb)](_0xc7d29a(0xc12)),resultsTabContent=document['getElementById'](_0xc7d29a(0xc38)),leaderboardTabContent=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x8df)),projectQuizzesList=document[_0xc7d29a(0x8cb)](_0xc7d29a(0xe3e)),fileTab=document[_0xc7d29a(0x8cb)](_0xc7d29a(0xc6e)),fileInputArea=document['getElementById']('file-input-area'),fileUploadInput=document['getElementById'](_0xc7d29a(0x75e)),worksheetTab=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x6cc)),worksheetInputArea=document['getElementById'](_0xc7d29a(0x51a)),generateWorksheetBtn=document['getElementById'](_0xc7d29a(0xd9d)),studentInitialView=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x7f7)),studentNameSelectionView=document[_0xc7d29a(0x8cb)](_0xc7d29a(0xaa5)),studentQuizArea=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x677)),studentResultArea=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x70f)),studentReadingArea=document['getElementById'](_0xc7d29a(0x688)),loadQuizBtn=document['getElementById'](_0xc7d29a(0xa14)),startQuizBtn=document['getElementById'](_0xc7d29a(0x83a)),studentJoinGameView=document[_0xc7d29a(0x8cb)]('student-join-game-view'),presentationModal=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x78d)),renameQuizModal=document[_0xc7d29a(0x8cb)]('rename-quiz-modal'),moveQuizModal=document[_0xc7d29a(0x8cb)](_0xc7d29a(0x66e)),quizSettingsModal=document[_0xc7d29a(0x8cb)](_0xc7d29a(0xc2e)),quizStatusModal=document[_0xc7d29a(0x8cb)]('quiz-status-modal'),liveGameView=document['getElementById'](_0xc7d29a(0x9c4));function handleFixLessonLatex(){const _0x3fb94e=_0xc7d29a,_0x5be6fc=document[_0x3fb94e(0x8cb)](_0x3fb94e(0x9a9));if(!_0x5be6fc){showMessage(_0x3fb94e(0x7eb));return;}const _0x19e77b=_0x5be6fc[_0x3fb94e(0xb9f)]([_0x3fb94e(0x6e4),_0x3fb94e(0x780),'.ai-content\x20blockquote',_0x3fb94e(0xb64),'.ai-content\x20h3'][_0x3fb94e(0x922)](','));let _0x4467b5=0x0;const _0x34eabf=_0x3b6454=>_0x3b6454[_0x3fb94e(0x1ae)]||'',_0x4060dd=(_0x4d942b,_0x406253)=>{const _0x5e75cd=_0x3fb94e;if(_0x4d942b['querySelector']&&_0x4d942b['querySelector'](_0x5e75cd(0xb16)))return;_0x4d942b[_0x5e75cd(0x1ae)]=_0x406253;},_0x52e9fc=_0x4a4900=>_0x4a4900[_0x3fb94e(0xb91)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x3fb94e(0xb91)](/\r\n?/g,'\x0a'),_0x424811=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x2940e0=_0x554ba1=>{const _0x203c34=_0x3fb94e;let _0x180fbe=_0x554ba1[_0x203c34(0x649)]();const _0x341984=[_0x203c34(0x188),'dfrac',_0x203c34(0xc56),_0x203c34(0xc1d),_0x203c34(0xb0d),_0x203c34(0xb79),_0x203c34(0x94f),_0x203c34(0x36e),'leq',_0x203c34(0xd0e),'le','ge',_0x203c34(0x9e9),'pm',_0x203c34(0x815),_0x203c34(0xbc3),_0x203c34(0x8bb),'tan',_0x203c34(0xcde),'ln',_0x203c34(0x7c6),_0x203c34(0xae5),_0x203c34(0x78f),_0x203c34(0x705),_0x203c34(0x1d9),_0x203c34(0x511),_0x203c34(0x73a),'circ',_0x203c34(0xbc0)];_0x341984['forEach'](_0x4a1731=>{const _0x306636=_0x203c34;_0x180fbe=_0x180fbe[_0x306636(0xb91)](new RegExp(_0x306636(0xc13)+_0x4a1731+'\x5cb','g'),(_0x54be3c,_0x5b299b)=>_0x5b299b+'\x5c'+_0x4a1731);});const _0x59de3e=[[/×/g,'\x5ctimes'],[/·/g,_0x203c34(0x7dd)],[/÷/g,_0x203c34(0x9e1)],[/≤/g,_0x203c34(0x25d)],[/≥/g,_0x203c34(0x62c)],[/≠/g,_0x203c34(0x7a1)],[/±/g,_0x203c34(0x134)],[/∑/g,_0x203c34(0x4a1)],[/−/g,'-']];return _0x59de3e['forEach'](([_0x5329ae,_0x55fedd])=>{const _0x14f76e=_0x203c34;_0x180fbe=_0x180fbe[_0x14f76e(0xb91)](_0x5329ae,_0x55fedd);}),_0x180fbe=_0x180fbe[_0x203c34(0xb91)](/√\s*([A-Za-z0-9]+)/g,_0x203c34(0xbd6)),_0x180fbe=_0x180fbe[_0x203c34(0xb91)](/(\d+)\s*%/g,_0x203c34(0x204)),_0x180fbe;},_0x6c29a8=_0x15d575=>{const _0x3b5422=_0x3fb94e;if(/\$|\\\(|\\\[/[_0x3b5422(0x46c)](_0x15d575))return _0x15d575;if(!_0x424811[_0x3b5422(0x46c)](_0x15d575))return _0x15d575;const _0x475089=_0x15d575[_0x3b5422(0x6fc)](/^\s*/)[0x0],_0x4ba3d7=_0x15d575[_0x3b5422(0x6fc)](/\s*$/)[0x0],_0x4ad547=_0x15d575[_0x3b5422(0x649)]();return _0x475089+'$'+_0x2940e0(_0x4ad547)+'$'+_0x4ba3d7;};_0x19e77b[_0x3fb94e(0x3f4)](_0x5a0508=>{const _0x479a0a=_0x3fb94e,_0x130316=_0x34eabf(_0x5a0508);let _0x13d1be=_0x52e9fc(_0x130316);_0x13d1be=_0x13d1be[_0x479a0a(0xb91)](/\$([^$]*?)\$/g,(_0x73e1ac,_0x4c5efd)=>'$'+_0x2940e0(_0x4c5efd)+'$');const _0x48e8e8=_0x13d1be[_0x479a0a(0xbaa)](/(\s+)/),_0x36c693=_0x48e8e8[_0x479a0a(0x283)](_0x23cb0c=>{const _0x521c84=_0x479a0a;if(/\s+/[_0x521c84(0x46c)](_0x23cb0c))return _0x23cb0c;return _0x6c29a8(_0x23cb0c);});_0x13d1be=_0x36c693['join'](''),_0x13d1be!==_0x130316&&(_0x4060dd(_0x5a0508,_0x13d1be),_0x4467b5++);});if(_0x4467b5>0x0){showMessage(_0x3fb94e(0xc72)+_0x4467b5+_0x3fb94e(0x141));try{window[_0x3fb94e(0x608)]&&MathJax[_0x3fb94e(0x31d)]&&MathJax[_0x3fb94e(0x31d)]([_0x5be6fc]);}catch(_0x215322){console[_0x3fb94e(0x3e8)](_0x3fb94e(0x306),_0x215322);}}else showMessage(_0x3fb94e(0xdb5));}function handleAutoFixLatex(){const _0x232d3f=_0xc7d29a,_0x42070f=document[_0x232d3f(0x8cb)](_0x232d3f(0x2ac))||document,_0x3387c6=_0x42070f[_0x232d3f(0xb9f)](_0x232d3f(0x89d));let _0x7a08e0=0x0;const _0x48dc93=_0x4f15a4=>_0x232d3f(0xb66)in _0x4f15a4?String(_0x4f15a4[_0x232d3f(0xb66)]):_0x4f15a4[_0x232d3f(0x8ab)]!==undefined?_0x4f15a4['innerText']:_0x4f15a4[_0x232d3f(0x1ae)]||'',_0x7f192d=(_0x24c9ec,_0x403532)=>{const _0x52b8ad=_0x232d3f;if(_0x52b8ad(0xb66)in _0x24c9ec){_0x24c9ec[_0x52b8ad(0xb66)]=_0x403532;return;}if(_0x24c9ec[_0x52b8ad(0x947)]&&_0x24c9ec['querySelector'](_0x52b8ad(0xb16)))return;if(_0x24c9ec[_0x52b8ad(0x8ab)]!==undefined)_0x24c9ec[_0x52b8ad(0x8ab)]=_0x403532;else _0x24c9ec[_0x52b8ad(0x1ae)]=_0x403532;},_0x307272=_0x48c3c0=>_0x48c3c0['replace'](/\u00A0/g,'\x20')[_0x232d3f(0xb91)](/\u200B/g,'')[_0x232d3f(0xb91)](/\r\n?/g,'\x0a'),_0x5b2dbd=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x36d8db=_0x5b40a4=>{const _0x314567=_0x232d3f;let _0x39e401=_0x5b40a4[_0x314567(0x649)]();_0x39e401=_0x39e401[_0x314567(0xb91)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x314567(0xbc)),_0x39e401=_0x39e401[_0x314567(0xb91)](/\bfrac(\d)(\d)/g,_0x314567(0xbc));const _0x149e2c=['frac',_0x314567(0xc1d),_0x314567(0xb79),_0x314567(0x94f),_0x314567(0x36e),_0x314567(0x3be),'geq','neq','pm',_0x314567(0xbc3),_0x314567(0x8bb),'tan','log','ln'];_0x149e2c['forEach'](_0x490743=>{_0x39e401=_0x39e401['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x490743+'\x5cb','g'),(_0x16c57c,_0x5d5b52)=>_0x5d5b52+'\x5c'+_0x490743);});const _0x2c7327=[[/×/g,_0x314567(0xe15)],[/·/g,_0x314567(0x7dd)],[/÷/g,_0x314567(0x9e1)],[/≤/g,_0x314567(0x25d)],[/≥/g,_0x314567(0x62c)],[/≠/g,_0x314567(0x7a1)],[/±/g,'\x5cpm']];return _0x2c7327[_0x314567(0x3f4)](([_0x5c8c1e,_0xa3988d])=>{const _0x52fb4b=_0x314567;_0x39e401=_0x39e401[_0x52fb4b(0xb91)](_0x5c8c1e,_0xa3988d);}),_0x39e401;},_0x4d93d0=_0x104c94=>{const _0x41b625=_0x232d3f;if(/\$|\\\(|\\\[/[_0x41b625(0x46c)](_0x104c94))return _0x104c94;if(!_0x5b2dbd['test'](_0x104c94))return _0x104c94;const _0x2b1d9b=_0x104c94[_0x41b625(0x6fc)](/^\s*/)[0x0],_0x46a8bc=_0x104c94[_0x41b625(0x6fc)](/\s*$/)[0x0],_0x19d770=_0x104c94[_0x41b625(0x649)]();return _0x2b1d9b+'$'+_0x36d8db(_0x19d770)+'$'+_0x46a8bc;};_0x3387c6['forEach'](_0x2b97e4=>{const _0x4d2436=_0x232d3f,_0x300f67=_0x48dc93(_0x2b97e4);let _0xc934d7=_0x307272(_0x300f67);_0xc934d7=_0xc934d7[_0x4d2436(0xb91)](/\$([^$]*?)\$/g,(_0x2aa1e7,_0x769425)=>'$'+_0x36d8db(_0x769425)+'$');const _0xa17453=_0xc934d7[_0x4d2436(0xbaa)](/(\s+)/),_0x4ac99d=_0xa17453[_0x4d2436(0x283)](_0x515b8e=>/\s+/['test'](_0x515b8e)?_0x515b8e:_0x4d93d0(_0x515b8e));_0xc934d7=_0x4ac99d['join'](''),_0xc934d7!==_0x300f67&&(_0x7f192d(_0x2b97e4,_0xc934d7),_0x7a08e0++);});if(_0x7a08e0>0x0){showMessage(_0x232d3f(0x795)+_0x7a08e0+_0x232d3f(0x6ba));try{if(window[_0x232d3f(0x608)]&&MathJax[_0x232d3f(0x31d)])MathJax[_0x232d3f(0x31d)]();}catch(_0xed6fae){}}else showMessage(_0x232d3f(0xe4a));}async function listenForCustomMathTopics(){const _0x44b11c=_0xc7d29a,_0x3a218b=collection(db,_0x44b11c(0x9c2)+appId+'/public/data/customMathTopics');onSnapshot(_0x3a218b,_0x6fc6df=>{const _0x45d100=_0x44b11c;customMathTopics=_0x6fc6df[_0x45d100(0xd86)][_0x45d100(0x283)](_0xfbe0bd=>({'id':_0xfbe0bd['id'],..._0xfbe0bd['data']()})),renderTopicCheckboxes();},_0x13adb9=>{const _0x51bbcf=_0x44b11c;console[_0x51bbcf(0x3e8)](_0x51bbcf(0x33d),_0x13adb9);});}function handleSelectAllTopics(){const _0x4388d8=_0xc7d29a,_0x9f0f9c=document[_0x4388d8(0x8cb)](_0x4388d8(0xe71)),_0x109fc=_0x9f0f9c['querySelectorAll'](_0x4388d8(0xaf));_0x109fc[_0x4388d8(0x3f4)](_0x44754e=>{const _0x518212=_0x4388d8;_0x44754e[_0x518212(0x4d7)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x52af3a=_0xc7d29a,_0x51bbff=document[_0x52af3a(0x8cb)]('math-topics-checkbox-container'),_0x4cc3b0=_0x51bbff['querySelectorAll'](_0x52af3a(0xaf));_0x4cc3b0[_0x52af3a(0x3f4)](_0x3bdb08=>{const _0x21045c=_0x52af3a;_0x3bdb08[_0x21045c(0x4d7)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4d66fc){const _0x27c878=_0xc7d29a;if(!_0x4d66fc)return;try{const _0x40b81a=doc(db,_0x27c878(0x9c2)+appId+_0x27c878(0x907),_0x4d66fc);await deleteDoc(_0x40b81a),showMessage(_0x27c878(0xb1f));}catch(_0x489570){console[_0x27c878(0x3e8)]('Error\x20deleting\x20custom\x20topic:',_0x489570),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x40a897=_0xc7d29a,_0x5ed6fd=document[_0x40a897(0x8cb)](_0x40a897(0x1f3)),_0x4ced09=_0x5ed6fd['value'][_0x40a897(0x649)]();if(!_0x4ced09){showMessage(_0x40a897(0x4e5));return;}if(!userId){showMessage(_0x40a897(0xc0e));return;}try{const _0x1f61b0=collection(db,_0x40a897(0x9c2)+appId+_0x40a897(0x907));await addDoc(_0x1f61b0,{'name':_0x4ced09,'createdAt':serverTimestamp()}),_0x5ed6fd[_0x40a897(0xb66)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x4ced09+_0x40a897(0xd00));}catch(_0x15a7a1){console['error'](_0x40a897(0x60a),_0x15a7a1),showMessage(_0x40a897(0x6eb));}}async function handleUpdateOldQuizzes(){const _0x56cee5=_0xc7d29a;showConfirmation(_0x56cee5(0xcd8),async()=>{const _0x217728=_0x56cee5,_0x2778e7=document[_0x217728(0x8cb)](_0x217728(0x8aa)),_0x5589a7=document[_0x217728(0x8cb)](_0x217728(0xc8d)),_0x754cb8=_0x5589a7['textContent'];_0x2778e7[_0x217728(0x144)][_0x217728(0xc8b)](_0x217728(0x1c9)),_0x5589a7[_0x217728(0x1ae)]='กำลังสแกนหาแบบทดสอบเก่า...';try{const _0x35446f=collection(db,'artifacts/'+appId+_0x217728(0x843)),_0x3bb70d=await getDocs(_0x35446f);if(_0x3bb70d['empty']){showMessage(_0x217728(0x789));return;}const _0x47e5be=writeBatch(db);let _0x13d8f6=0x0;_0x3bb70d[_0x217728(0x3f4)](_0x2600fd=>{const _0x55997c=_0x217728,_0x3e46aa=_0x2600fd[_0x55997c(0x241)](),_0x11787f=_0x2600fd['id'];if(_0x3e46aa[_0x55997c(0x763)]&&_0x3e46aa['questions'][_0x55997c(0x3bb)]>0x0&&!_0x3e46aa[_0x55997c(0x763)][0x0][_0x55997c(0x3c1)]('id')){console['log'](_0x55997c(0x5c3)+_0x11787f+'\x20('+_0x3e46aa['topic']+')'),_0x13d8f6++;const _0xf2e1b2=_0x3e46aa[_0x55997c(0x763)][_0x55997c(0x283)]((_0x3bae0b,_0x3b8d82)=>{return{..._0x3bae0b,'id':_0x3bae0b['id']||'q_'+Date['now']()+'_'+_0x11787f+'_'+_0x3b8d82};}),_0x45a251=doc(db,_0x55997c(0x9c2)+appId+_0x55997c(0x843),_0x11787f);_0x47e5be[_0x55997c(0x733)](_0x45a251,{'questions':_0xf2e1b2});}}),_0x13d8f6>0x0?(_0x5589a7[_0x217728(0x1ae)]=_0x217728(0x91e)+_0x13d8f6+_0x217728(0xc02),await _0x47e5be[_0x217728(0x6ea)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x13d8f6+_0x217728(0x493))):showMessage(_0x217728(0x2fa));}catch(_0x2147dd){console[_0x217728(0x3e8)](_0x217728(0xc67),_0x2147dd),showMessage(_0x217728(0x56f)+_0x2147dd[_0x217728(0xd5f)]);}finally{_0x2778e7['classList'][_0x217728(0x743)](_0x217728(0x1c9)),_0x5589a7[_0x217728(0x1ae)]=_0x754cb8;}});}async function handleBulkUpdateQuizSettings(){const _0x53656d=_0xc7d29a,_0x568a28={'shuffle':document[_0x53656d(0x8cb)](_0x53656d(0x157))['value'],'resultsDisplay':document[_0x53656d(0x8cb)](_0x53656d(0x52c))[_0x53656d(0xb66)],'loopUntilPass':document[_0x53656d(0x8cb)](_0x53656d(0x80c))[_0x53656d(0x4d7)],'isConfidenceScoringEnabled':document[_0x53656d(0x8cb)](_0x53656d(0x53c))[_0x53656d(0x4d7)],'confidenceMode':document[_0x53656d(0x8cb)]('bulk-confidence-mode-select')[_0x53656d(0xb66)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x340537=await getDocs(collection(db,_0x53656d(0x9c2)+appId+_0x53656d(0x843))),_0xa7b35=_0x340537[_0x53656d(0xd86)][_0x53656d(0x283)](_0x4a69f9=>({'id':_0x4a69f9['id'],'data':_0x4a69f9[_0x53656d(0x241)]()})),_0x31dc72=_0xa7b35[_0x53656d(0x3bb)];showConfirmation(_0x53656d(0x96f)+_0x31dc72+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x4f3945=_0x53656d,_0x188c73=document[_0x4f3945(0x8cb)](_0x4f3945(0x64b));_0x188c73[_0x4f3945(0xc2b)]=!![],_0x188c73[_0x4f3945(0x22a)]=_0x4f3945(0x983);try{const _0x139acc=writeBatch(db);_0xa7b35[_0x4f3945(0x3f4)](_0x80be05=>{const _0xf8f630=_0x4f3945,_0x5b3550=doc(db,_0xf8f630(0x9c2)+appId+'/public/data/quizzes',_0x80be05['id']),_0x1b4f33={..._0x80be05[_0xf8f630(0x241)]['settings']||{},..._0x568a28};_0x139acc[_0xf8f630(0x733)](_0x5b3550,{'settings':_0x1b4f33});}),await _0x139acc[_0x4f3945(0x6ea)](),document[_0x4f3945(0x8cb)](_0x4f3945(0x195))['classList']['add']('hidden'),showMessage(_0x4f3945(0x82b)+_0x31dc72+'\x20ชุดสำเร็จ!');}catch(_0x334f35){console[_0x4f3945(0x3e8)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x334f35),showMessage(_0x4f3945(0x9e3));}finally{_0x188c73[_0x4f3945(0xc2b)]=![],_0x188c73[_0x4f3945(0x22a)]=_0x4f3945(0x3dd);}});}catch(_0x43e900){console[_0x53656d(0x3e8)](_0x53656d(0x742),_0x43e900),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x53ca96=_0xc7d29a,_0x1181f8=document[_0x53ca96(0x8cb)](_0x53ca96(0x7ac)),_0xc64a6b=document['getElementById']('save-project-name-btn'),_0x3e15d9=_0x1181f8[_0x53ca96(0x1ae)][_0x53ca96(0x649)]();if(!_0x3e15d9||!currentProjectId){showMessage(_0x53ca96(0x879)),_0x1181f8[_0x53ca96(0x1ae)]=currentProjectData[_0x53ca96(0xde4)];return;}_0xc64a6b[_0x53ca96(0xc2b)]=!![],_0xc64a6b[_0x53ca96(0x22a)]=_0x53ca96(0x6fe);try{const _0x5affcb=doc(db,_0x53ca96(0x9c2)+appId+_0x53ca96(0xaad),currentProjectId);await updateDoc(_0x5affcb,{'projectName':_0x3e15d9}),currentProjectData&&(currentProjectData[_0x53ca96(0xde4)]=_0x3e15d9),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x1b5547){console['error'](_0x53ca96(0x2f6),_0x1b5547),showMessage(_0x53ca96(0x5e1)),_0x1181f8['textContent']=currentProjectData[_0x53ca96(0xde4)];}finally{_0xc64a6b[_0x53ca96(0x144)][_0x53ca96(0x743)](_0x53ca96(0x1c9)),_0xc64a6b[_0x53ca96(0xc2b)]=![],_0xc64a6b['innerHTML']=_0x53ca96(0x250);}}function handleGeneratePracticeTest(_0x2eefb4,_0x4717d7){const _0x414512=_0xc7d29a,_0xaf7201=document[_0x414512(0x8cb)](_0x414512(0x774)),_0xd40e3e=document['getElementById'](_0x414512(0xa9b)),_0x27b77b=document[_0x414512(0x8cb)]('lesson-loader'),_0x1d6165=document[_0x414512(0x8cb)](_0x414512(0x19b));_0xd40e3e['textContent']=_0x414512(0xcbe)+_0x2eefb4,_0x1d6165['classList'][_0x414512(0x743)](_0x414512(0x1c9)),_0x27b77b[_0x414512(0x144)]['remove']('hidden'),_0xaf7201[_0x414512(0x144)]['remove']('hidden'),generatePracticeTest(_0x2eefb4,_0x4717d7)[_0x414512(0xa65)](_0x2f59b7=>{const _0x4d4b82=_0x414512;console[_0x4d4b82(0x3e8)](_0x4d4b82(0x2af),_0x2f59b7),showMessage(_0x4d4b82(0x487)),_0xaf7201[_0x4d4b82(0x144)][_0x4d4b82(0x743)](_0x4d4b82(0x1c9));});}async function generatePracticeTest(_0x3e8676,_0x7f2d94){const _0x3b8076=_0xc7d29a;['pointContent',_0x3b8076(0x7cc),_0x3b8076(0x49c),_0x3b8076(0x7af)]['forEach'](_0x1415dd=>{const _0x5e6b38=_0x3b8076,_0x5218dd=document[_0x5e6b38(0x8cb)](_0x1415dd)[_0x5e6b38(0x17d)];_0x5218dd&&(_0x5218dd[_0x5e6b38(0x220)][_0x5e6b38(0xa5a)]='none');});try{const _0x4a81af='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x185bbf=_0x3b8076(0x2fe)+_0x7f2d94+'\x27\x20ในหัวข้อ\x20\x27'+_0x3e8676+_0x3b8076(0x79d),_0x135aa1=await callGemini(_0x185bbf,!![]),_0x43edc9=document[_0x3b8076(0x8cb)](_0x3b8076(0xa9b)),_0x4f0a47=document[_0x3b8076(0x8cb)](_0x3b8076(0x3e2)),_0x3d3f8c=document[_0x3b8076(0x8cb)]('lesson-sections-container'),_0xede625=document[_0x3b8076(0x8cb)](_0x3b8076(0x49c))[_0x3b8076(0x17d)];_0x43edc9[_0x3b8076(0x8ab)]=_0x3b8076(0x70d)+_0x3e8676[_0x3b8076(0xb91)](/•\s/g,'')+_0x3b8076(0xd8b)+_0x7f2d94+')',currentApplicationData=JSON[_0x3b8076(0x208)](_0x135aa1);const _0x4f4289=document[_0x3b8076(0x8cb)]('applicationContent');_0x4f4289[_0x3b8076(0x22a)]=currentApplicationData[_0x3b8076(0x283)]((_0x241772,_0x359d29)=>_0x3b8076(0x16f)+(_0x359d29+0x1)+'.\x20'+marked[_0x3b8076(0x5e4)](_0x241772[_0x3b8076(0x5e5)])+_0x3b8076(0x461)+_0x359d29+_0x3b8076(0xd52)+_0x241772[_0x3b8076(0x764)][_0x3b8076(0x283)]((_0xeadbb,_0x4afd51)=>_0x3b8076(0x342)+_0x359d29+',\x20'+_0x4afd51+')\x22>'+String[_0x3b8076(0x6a1)](0x61+_0x4afd51)+'.\x20'+marked[_0x3b8076(0x5e4)](_0xeadbb)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x3b8076(0x874))[_0x3b8076(0x922)](''),window['MathJax']&&MathJax[_0x3b8076(0x31d)]([_0x4f4289]),_0xede625&&(_0xede625['style']['display']=_0x3b8076(0x6b5)),_0x4f0a47[_0x3b8076(0x144)][_0x3b8076(0x743)](_0x3b8076(0x1c9)),_0x3d3f8c['classList'][_0x3b8076(0xc8b)](_0x3b8076(0x1c9));}catch(_0x49b0f8){console[_0x3b8076(0x3e8)](_0x49b0f8);throw _0x49b0f8;}}async function callGemini(_0x568011,_0x20df48=![]){const _0x20449f=_0xc7d29a,_0x8bd52d=_0x20449f(0xa5c),_0x415e14=_0x20449f(0x700)+_0x8bd52d,_0x5506e4={'contents':[{'parts':[{'text':_0x568011}]}]};_0x20df48&&(_0x5506e4['generationConfig']={'responseMimeType':_0x20449f(0x7fd)},_0x568011['includes']('Test\x20Blueprint')?_0x5506e4[_0x20449f(0x22f)][_0x20449f(0xb1d)]={'type':_0x20449f(0x2c9),'properties':{'gradeLevel':{'type':_0x20449f(0x47b)},'curriculum':{'type':'ARRAY','items':{'type':_0x20449f(0x2c9),'properties':{'sara':{'type':_0x20449f(0x47b)},'mainTopics':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'topicName':{'type':_0x20449f(0x47b)},'subTopics':{'type':_0x20449f(0x991),'items':{'type':_0x20449f(0x47b)}}},'required':[_0x20449f(0xa43),'subTopics']}}},'required':[_0x20449f(0xaed),_0x20449f(0x647)]}}},'required':[_0x20449f(0x2c5),'curriculum']}:_0x5506e4['generationConfig'][_0x20449f(0xb1d)]={'type':_0x20449f(0x991),'items':{'type':_0x20449f(0x2c9),'properties':{'question':{'type':_0x20449f(0x47b)},'options':{'type':'ARRAY','items':{'type':_0x20449f(0x47b)}},'answer':{'type':_0x20449f(0x894)}},'required':['question',_0x20449f(0x764),_0x20449f(0x2b9)]}});try{const _0x5880ec=await fetch(_0x415e14,{'method':_0x20449f(0xd6),'headers':{'Content-Type':_0x20449f(0x7fd)},'body':JSON['stringify'](_0x5506e4)});if(!_0x5880ec['ok']){const _0x3cc27f=await _0x5880ec['text']();console[_0x20449f(0x3e8)](_0x20449f(0x3df),_0x3cc27f);throw new Error(_0x20449f(0xb33)+_0x5880ec[_0x20449f(0x20a)]);}const _0x1f7790=await _0x5880ec['json']();if(_0x1f7790[_0x20449f(0xa9f)]&&_0x1f7790['candidates'][0x0][_0x20449f(0xd24)]&&_0x1f7790['candidates'][0x0][_0x20449f(0xd24)][_0x20449f(0xa22)][0x0])return _0x1f7790[_0x20449f(0xa9f)][0x0][_0x20449f(0xd24)][_0x20449f(0xa22)][0x0][_0x20449f(0xb0d)];else{console[_0x20449f(0x3e8)](_0x20449f(0x7ba),_0x1f7790);if(_0x1f7790[_0x20449f(0xa9f)]&&_0x1f7790[_0x20449f(0xa9f)][0x0][_0x20449f(0xe7a)]===_0x20449f(0x12f))return JSON['stringify']({'error':_0x20449f(0x235)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x27b62a){console[_0x20449f(0x3e8)]('Error\x20calling\x20Gemini\x20API:',_0x27b62a);throw _0x27b62a;}}async function generateLesson(_0x59ee93=null,_0x5c0275=null){const _0x119479=_0xc7d29a,_0x35f82b=_0x59ee93,_0x33444e=_0x5c0275||'ไม่ระบุ',_0x2dfe88=document[_0x119479(0x8cb)](_0x119479(0x3e2)),_0x2b536c=document['getElementById'](_0x119479(0xda1));_0x2b536c[_0x119479(0x1ae)]=_0x119479(0xd75)+_0x35f82b+_0x119479(0xcfc);try{let _0x3bb833=[];const _0x1512fa=document[_0x119479(0x8cb)](_0x119479(0xcaa))?.[_0x119479(0xb66)][_0x119479(0x649)]();if(_0x1512fa)try{_0x2b536c[_0x119479(0x1ae)]=_0x119479(0x8ad);const _0x20dcd5=await fetchFileFromUrl(_0x1512fa,_0x119479(0xb05)),_0x70ba69=await new Promise((_0x5b0fde,_0x2add2b)=>{const _0xcb29d3=_0x119479,_0x5cce0f=new FileReader();_0x5cce0f[_0xcb29d3(0x73c)](_0x20dcd5),_0x5cce0f[_0xcb29d3(0xa2d)]=()=>_0x5b0fde(_0x5cce0f['result'][_0xcb29d3(0xbaa)](',')[0x1]),_0x5cce0f['onerror']=_0x2add2b;});_0x3bb833[_0x119479(0x77f)]({'inlineData':{'mimeType':_0x20dcd5['type'],'data':_0x70ba69}});}catch(_0x245b8d){console['error'](_0x119479(0xac4),_0x245b8d),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ');}const _0x57ccee='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22'+_0x35f82b+_0x119479(0x1d4)+_0x35f82b+_0x119479(0x2b5);_0x2b536c[_0x119479(0x1ae)]=_0x119479(0xd75)+_0x35f82b+_0x119479(0xcfc);const _0x1d4572=_0x119479(0x34b)+_0x33444e+'\x27\x20ในหัวข้อ\x20\x27'+_0x35f82b+_0x119479(0xb4a)+_0x57ccee+_0x119479(0x5e8),_0x277832='สำหรับหัวข้อ\x20\x27'+_0x35f82b+_0x119479(0xe2d)+_0x33444e+_0x119479(0x247)+_0x57ccee+_0x119479(0x29f),_0x464b91=_0x119479(0x4dc),_0x1948cb=_0x119479(0x2fe)+_0x33444e+'\x27\x20ในหัวข้อ\x20\x27'+_0x35f82b+_0x119479(0xe9)+_0x57ccee+_0x119479(0xc33)+_0x464b91+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x316ebb='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x35f82b+_0x119479(0x7b2)+_0x33444e+_0x119479(0xcfb)+_0x57ccee+_0x119479(0x84b),_0x5e73de={'type':_0x119479(0x991),'items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':_0x119479(0x991),'items':{'type':_0x119479(0x47b)}},'answer':{'type':_0x119479(0x894)}},'required':[_0x119479(0x5e5),_0x119479(0x764),_0x119479(0x2b9)]}},[_0x47805e,_0x4881f2,_0x50aae9,_0x4c32c0]=await Promise[_0x119479(0x1fd)]([handleApiCall([{'text':_0x1d4572},..._0x3bb833],'...',null,null,![]),handleApiCall([{'text':_0x277832},..._0x3bb833],_0x119479(0x392),null,null,![]),handleApiCall([{'text':_0x1948cb},..._0x3bb833],_0x119479(0x392),_0x5e73de,null,![]),handleApiCall([{'text':_0x316ebb},..._0x3bb833],_0x119479(0x392),null,null,![])]),_0x260d40=JSON['stringify'](_0x50aae9||[]),_0x4ac1e8=document[_0x119479(0x8cb)](_0x119479(0xa9b)),_0x329057=document['getElementById'](_0x119479(0x19b));_0x4ac1e8['innerText']=_0x119479(0xdd0)+_0x35f82b['replace'](/•\s/g,'')+_0x119479(0xd8b)+_0x33444e+')',['pointContent',_0x119479(0x7cc),_0x119479(0x7af)][_0x119479(0x3f4)](_0x23d286=>{const _0x4ee7fe=_0x119479;document[_0x4ee7fe(0x8cb)](_0x23d286)['innerHTML']='';}),document[_0x119479(0x8cb)](_0x119479(0x8e1))[_0x119479(0x22a)]=_0x47805e?marked[_0x119479(0x208)](_0x47805e):_0x119479(0xabb),document[_0x119479(0x8cb)](_0x119479(0x7cc))['innerHTML']=_0x4881f2?marked[_0x119479(0x208)](_0x4881f2):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document['getElementById']('summaryContent')[_0x119479(0x22a)]=_0x4c32c0?marked[_0x119479(0x208)](_0x4c32c0):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON[_0x119479(0x208)](_0x260d40);const _0x594083=document[_0x119479(0x8cb)]('applicationContent');_0x594083[_0x119479(0x22a)]=(currentApplicationData||[])[_0x119479(0x283)]((_0x583075,_0xab84e7)=>_0x119479(0x16f)+(_0xab84e7+0x1)+'.\x20'+marked[_0x119479(0x5e4)](_0x583075[_0x119479(0x5e5)]||'')+_0x119479(0x461)+_0xab84e7+_0x119479(0xd52)+(_0x583075['options']||[])[_0x119479(0x283)]((_0x47c741,_0x132928)=>_0x119479(0x342)+_0xab84e7+',\x20'+_0x132928+_0x119479(0xb59)+String[_0x119479(0x6a1)](0x61+_0x132928)+'.\x20'+marked[_0x119479(0x5e4)](_0x47c741||'')+_0x119479(0x1e1))[_0x119479(0x922)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x119479(0x922)]('')||_0x119479(0xc88),window[_0x119479(0x608)]&&MathJax[_0x119479(0x31d)]([_0x329057]),_0x2dfe88[_0x119479(0x144)][_0x119479(0x743)](_0x119479(0x1c9)),_0x329057[_0x119479(0x144)]['remove']('hidden');}catch(_0x1ac712){console[_0x119479(0x3e8)](_0x1ac712);throw _0x1ac712;}}function checkAnswer(_0x3b927e,_0x525ee2){const _0x5cf981=_0xc7d29a,_0x40e432=currentApplicationData[_0x3b927e],_0x9cd96a=document['getElementById']('q'+_0x3b927e+'-options'),_0x20c66c=_0x9cd96a[_0x5cf981(0x413)]('button');for(let _0x5acc9c of _0x20c66c){_0x5acc9c['disabled']=!![];}_0x525ee2===_0x40e432[_0x5cf981(0x2b9)]?_0x20c66c[_0x525ee2]['classList'][_0x5cf981(0x743)](_0x5cf981(0x890)):(_0x20c66c[_0x525ee2][_0x5cf981(0x144)][_0x5cf981(0x743)](_0x5cf981(0x411)),_0x20c66c[_0x40e432[_0x5cf981(0x2b9)]]['classList']['add']('correct'));}window[_0xc7d29a(0xa09)]=handleGenerateAndShowLesson,window['checkAnswer']=checkAnswer,window[_0xc7d29a(0x95f)]=handleGeneratePracticeTest,window[_0xc7d29a(0x65d)]=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x45ceaf=_0xc7d29a;if(document[_0x45ceaf(0x8cb)](_0x45ceaf(0xc24)))return;const _0x40034a='\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>';document[_0x45ceaf(0x8dc)][_0x45ceaf(0x358)](_0x45ceaf(0xd15),_0x40034a),setupCropperButtons();}function setupCropperButtons(){const _0x971b9b=_0xc7d29a;document[_0x971b9b(0x8cb)](_0x971b9b(0xc97))[_0x971b9b(0x38d)](_0x971b9b(0x9b4),()=>{const _0x2d6f03=_0x971b9b;document[_0x2d6f03(0x8cb)]('cropper-modal')[_0x2d6f03(0x144)][_0x2d6f03(0x743)](_0x2d6f03(0x1c9)),cropperInstance&&(cropperInstance[_0x2d6f03(0xcfe)](),cropperInstance=null),document['getElementById']('camera-input')[_0x2d6f03(0xb66)]='';}),document['getElementById'](_0x971b9b(0x880))[_0x971b9b(0x38d)]('click',()=>{const _0x443536=_0x971b9b;if(!cropperInstance)return;const _0x1014bf=document[_0x443536(0x8cb)](_0x443536(0x880)),_0x31bb73=_0x1014bf[_0x443536(0x22a)];_0x1014bf['innerHTML']=_0x443536(0xc5a),_0x1014bf[_0x443536(0xc2b)]=!![],cropperInstance['getCroppedCanvas']()[_0x443536(0x3f7)](async _0x3eb755=>{const _0x1c6249=_0x443536;document['getElementById']('cropper-modal')[_0x1c6249(0x144)]['add']('hidden');const _0x28fadd=new File([_0x3eb755],_0x1c6249(0x113),{'type':'image/png'});await handleScanImageForText(_0x28fadd),_0x1014bf[_0x1c6249(0x22a)]=_0x31bb73,_0x1014bf[_0x1c6249(0xc2b)]=![],cropperInstance[_0x1c6249(0xcfe)](),cropperInstance=null;},_0x443536(0x5ed));});}function startCropper(_0x1efba7){const _0x182fdc=_0xc7d29a;ensureCropperModalExists();const _0xac829c=document[_0x182fdc(0x8cb)](_0x182fdc(0xc24)),_0x5518f4=document[_0x182fdc(0x8cb)](_0x182fdc(0xd93)),_0x5af703=new FileReader();_0x5af703['onload']=_0x2f177a=>{const _0x569966=_0x182fdc;_0x5518f4[_0x569966(0xac3)]=_0x2f177a[_0x569966(0x7b9)][_0x569966(0x10b)],_0xac829c['classList'][_0x569966(0xc8b)]('hidden');if(cropperInstance)cropperInstance[_0x569966(0xcfe)]();cropperInstance=new Cropper(_0x5518f4,{'viewMode':0x1,'dragMode':_0x569966(0x2aa),'autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x5af703[_0x182fdc(0x73c)](_0x1efba7);}document[_0xc7d29a(0x38d)](_0xc7d29a(0x9e0),()=>{const _0x48e5e4=_0xc7d29a,_0x5a2180=document[_0x48e5e4(0x8cb)]('camera-input'),_0x4f3212=document[_0x48e5e4(0x8cb)](_0x48e5e4(0x691));_0x4f3212&&_0x5a2180&&(_0x4f3212['addEventListener'](_0x48e5e4(0x9b4),()=>{_0x5a2180['value']='',_0x5a2180['click']();}),_0x5a2180['addEventListener'](_0x48e5e4(0xd8f),_0x8750fc=>{const _0x2d4f8f=_0x48e5e4;_0x8750fc[_0x2d4f8f(0x7b9)][_0x2d4f8f(0x9cf)]&&_0x8750fc[_0x2d4f8f(0x7b9)][_0x2d4f8f(0x9cf)][_0x2d4f8f(0x3bb)]>0x0&&startCropper(_0x8750fc[_0x2d4f8f(0x7b9)]['files'][0x0]);}));});async function handleScanImageForText(_0x40db60){const _0x23dad7=_0xc7d29a,_0x465a2a=document[_0x23dad7(0x8cb)]('text-content-input'),_0x22d3a6=document[_0x23dad7(0x8cb)](_0x23dad7(0xb8a));if(!_0x40db60)return;_0x22d3a6[_0x23dad7(0xc2b)]=!![],_0x22d3a6['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...',_0x465a2a[_0x23dad7(0x3e7)]=_0x23dad7(0x8f6);try{const _0x3b5498=await new Promise((_0x2bf093,_0x38acb8)=>{const _0x118a8d=_0x23dad7,_0xa33991=new FileReader();_0xa33991[_0x118a8d(0x73c)](_0x40db60),_0xa33991[_0x118a8d(0xa2d)]=()=>_0x2bf093(_0xa33991[_0x118a8d(0x10b)][_0x118a8d(0xbaa)](',')[0x1]),_0xa33991[_0x118a8d(0x9c6)]=_0x38acb8;}),_0x1391b4=_0x23dad7(0x115),_0x3b6711=[{'text':_0x1391b4},{'inlineData':{'mimeType':_0x40db60[_0x23dad7(0x255)],'data':_0x3b5498}}],_0x5a5538=await handleApiCall(_0x3b6711,'AI\x20กำลังสแกนข้อความ...',null,null,![]);if(_0x5a5538){const _0xa6c533=_0x465a2a['value']['trim']();_0x465a2a['value']=_0xa6c533?_0xa6c533+'\x0a\x0a'+_0x5a5538:_0x5a5538,showMessage(_0x23dad7(0x262));}else throw new Error(_0x23dad7(0xb87));}catch(_0x23ab9a){console[_0x23dad7(0x3e8)]('OCR\x20Error:',_0x23ab9a),showMessage(_0x23dad7(0x835)+_0x23ab9a[_0x23dad7(0xd5f)]);}finally{_0x22d3a6[_0x23dad7(0xc2b)]=![],_0x22d3a6[_0x23dad7(0x22a)]=_0x23dad7(0xc05),document['getElementById'](_0x23dad7(0x4ca))['value']='';}}async function initialize(){const _0x52d92f=_0xc7d29a;try{const _0x49f372=initializeApp(firebaseConfig);db=getFirestore(_0x49f372),auth=getAuth(_0x49f372),setupAuthListener(),setupEventListeners(),showView(_0x52d92f(0x24c)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x1ecaf0){console['error']('Firebase\x20initialization\x20failed:',_0x1ecaf0),showMessage(_0x52d92f(0xae0));}}async function handleVerifyAnswersInEditor(){const _0x21856f=_0xc7d29a,_0x34a002=document[_0x21856f(0x8cb)](_0x21856f(0x58e));if(!_0x34a002)return;const _0x9e6ce4=document[_0x21856f(0x8cb)]('verify-answers-editor-btn');_0x9e6ce4[_0x21856f(0xc2b)]=!![],_0x9e6ce4['innerHTML']=_0x21856f(0x4f1);try{const _0x490844=_0x34a002['querySelectorAll']('.question-editor-item'),_0x3dd42b=Array[_0x21856f(0x617)](_0x490844)['map']((_0x3459a9,_0x529131)=>{const _0x4e2527=_0x21856f,_0x564901=_0x3459a9[_0x4e2527(0x5fd)][_0x4e2527(0x41b)],_0x2c01e3=_0x3459a9['querySelector']('textarea')['value'];let _0x5088b9=null,_0x5f45b1='';switch(_0x564901){case _0x4e2527(0xc7b):const _0x471831=_0x3459a9[_0x4e2527(0xb9f)](_0x4e2527(0x66d));_0x5088b9=Array[_0x4e2527(0x617)](_0x471831)[_0x4e2527(0x283)](_0x3483f1=>_0x3483f1[_0x4e2527(0xb66)]);const _0x2fb36f=_0x3459a9[_0x4e2527(0x947)](_0x4e2527(0x550));_0x2fb36f&&(_0x5f45b1=_0x5088b9[parseInt(_0x2fb36f[_0x4e2527(0xb66)])]||'');break;case _0x4e2527(0xc34):case _0x4e2527(0x8f8):_0x5088b9=[],_0x5f45b1=_0x3459a9[_0x4e2527(0x947)](_0x4e2527(0x6ad))[_0x4e2527(0xb66)];break;case _0x4e2527(0x206):_0x5088b9=[_0x4e2527(0xa81),_0x4e2527(0xc78)];const _0x2bd04d=_0x3459a9[_0x4e2527(0x947)](_0x4e2527(0x550));_0x5f45b1=_0x2bd04d?_0x2bd04d['value']:'';break;case _0x4e2527(0x6cf):_0x5088b9=[],_0x5f45b1=_0x3459a9['querySelector']('.correct-response-input')[_0x4e2527(0xb66)];break;}return{'questionIndex':_0x529131,'questionType':_0x564901,'question':_0x2c01e3,'options':_0x5088b9,'proposedAnswer':_0x5f45b1};}),_0x3192fc=_0x21856f(0xb15)+JSON['stringify'](_0x3dd42b)+_0x21856f(0x5d3),_0x5510df={'type':_0x21856f(0x991),'items':{'type':_0x21856f(0x2c9),'properties':{'questionIndex':{'type':_0x21856f(0x894)},'isCorrect':{'type':_0x21856f(0x329)},'justification':{'type':_0x21856f(0x47b)},'correctOptionExists':{'type':'BOOLEAN'},'suggestedAnswer':{'type':_0x21856f(0x47b)},'newOptionsPayload':{'type':_0x21856f(0x2c9),'properties':{'newOptions':{'type':_0x21856f(0x991),'items':{'type':'STRING'}},'newCorrectIndex':{'type':'NUMBER'}},'required':[_0x21856f(0x88c),_0x21856f(0xa67)]}},'required':[_0x21856f(0x47e),_0x21856f(0x2a6),'justification']}},_0x273c18=await callAnalysisApi(_0x3192fc,{'type':_0x21856f(0x2c9),'properties':{'result':_0x5510df},'required':[_0x21856f(0x10b)]});if(_0x273c18&&_0x273c18[_0x21856f(0x10b)])displayVerificationResultsInEditor(_0x273c18[_0x21856f(0x10b)]);else throw new Error(_0x21856f(0xa63));}catch(_0x527bc6){console[_0x21856f(0x3e8)](_0x21856f(0xd5a),_0x527bc6),showMessage(_0x21856f(0x164)+_0x527bc6[_0x21856f(0xd5f)]);}finally{_0x9e6ce4[_0x21856f(0xc2b)]=![],_0x9e6ce4[_0x21856f(0x22a)]=_0x21856f(0xbdd);}}function displayVerificationResultsInEditor(_0x15b198){const _0xe45df3=_0xc7d29a;_0x15b198[_0xe45df3(0x3f4)](_0x2bed00=>{const _0x230ac2=_0xe45df3,_0x5d1bfb=document['querySelector'](_0x230ac2(0xb90)+_0x2bed00[_0x230ac2(0x47e)]+'\x22]');if(!_0x5d1bfb)return;const _0x183e5d=_0x5d1bfb['querySelector']('.verification-result-editor');if(_0x183e5d)_0x183e5d[_0x230ac2(0xc8b)]();let _0x5541ab='';if(_0x2bed00[_0x230ac2(0xa26)]&&_0x2bed00[_0x230ac2(0xa26)][_0x230ac2(0x88c)]){const _0x4a207d=_0x2bed00[_0x230ac2(0xa26)]['newOptions'],_0x2828fd=_0x2bed00[_0x230ac2(0xa26)][_0x230ac2(0xa67)],_0xaddc5=_0x5d1bfb[_0x230ac2(0x5fd)][_0x230ac2(0x41b)];if(_0xaddc5===_0x230ac2(0xc7b)){const _0xee249=_0x5d1bfb[_0x230ac2(0xb9f)]('input[type=\x22text\x22]');_0xee249[_0x230ac2(0x3f4)]((_0x21c3bc,_0x2128da)=>{const _0x465cdb=_0x230ac2;_0x4a207d[_0x2128da]?_0x21c3bc[_0x465cdb(0xb66)]=_0x4a207d[_0x2128da]:_0x21c3bc[_0x465cdb(0xb66)]=_0x465cdb(0x108);});const _0x4c9729=_0x5d1bfb[_0x230ac2(0x947)](_0x230ac2(0x30e)+_0x2828fd+'\x22]');_0x4c9729&&(_0x4c9729[_0x230ac2(0x4d7)]=!![]),_0x5541ab=_0x230ac2(0x4fd),_0x5d1bfb[_0x230ac2(0x144)][_0x230ac2(0x743)](_0x230ac2(0xace),'transition-all',_0x230ac2(0xd63)),setTimeout(()=>{const _0x368a44=_0x230ac2;_0x5d1bfb['classList'][_0x368a44(0xc8b)](_0x368a44(0xace));},0x9c4);}}else{if(!_0x2bed00[_0x230ac2(0x2a6)]&&_0x2bed00[_0x230ac2(0x3d8)]){const _0x54552c=_0x2bed00['suggestedAnswer']?_0x230ac2(0xaeb):'';_0x5541ab=_0x230ac2(0x287)+_0x54552c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x2bed00[_0x230ac2(0xa41)]+_0x230ac2(0x473)+(_0x2bed00[_0x230ac2(0x3d8)]?_0x230ac2(0xcc4)+_0x2bed00[_0x230ac2(0x3d8)]+_0x230ac2(0x4f2):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';const _0x2371fc=_0x5d1bfb[_0x230ac2(0x5fd)][_0x230ac2(0x41b)],_0x104d15=_0x582536=>{const _0x56e8fb=_0x230ac2;if(!_0x582536)return;_0x582536['classList'][_0x56e8fb(0x743)](_0x56e8fb(0x4be),_0x56e8fb(0x59e),_0x56e8fb(0xd63)),setTimeout(()=>{const _0x31e93e=_0x56e8fb;_0x582536[_0x31e93e(0x144)]['remove'](_0x31e93e(0x4be));},0x9c4);};if(_0x2371fc===_0x230ac2(0xc7b)){const _0x4d35fd=Array[_0x230ac2(0x617)](_0x5d1bfb['querySelectorAll'](_0x230ac2(0x66d))),_0x420113=_0x4d35fd[_0x230ac2(0x57c)](_0x316bbe=>_0x316bbe[_0x230ac2(0xb66)][_0x230ac2(0x649)]()[_0x230ac2(0xdfe)]()===_0x2bed00[_0x230ac2(0x3d8)][_0x230ac2(0x649)]()[_0x230ac2(0xdfe)]());if(_0x420113!==-0x1){const _0x3f1b55=_0x5d1bfb[_0x230ac2(0x947)]('input[type=\x22radio\x22][value=\x22'+_0x420113+'\x22]');_0x3f1b55&&(_0x3f1b55['checked']=!![],_0x104d15(_0x3f1b55['closest']('div')));}}else{if(_0x2371fc==='short_answer'||_0x2371fc===_0x230ac2(0x6cf)){const _0x489671=_0x5d1bfb[_0x230ac2(0x947)](_0x230ac2(0x265));_0x489671&&(_0x489671['value']=_0x2bed00[_0x230ac2(0x3d8)],_0x104d15(_0x489671));}else{if(_0x2371fc===_0x230ac2(0x206)){const _0x2e8f2e=_0x2bed00[_0x230ac2(0x3d8)][_0x230ac2(0x649)]()[_0x230ac2(0xdfe)](),_0x4ac03e=_0x5d1bfb[_0x230ac2(0x947)](_0x230ac2(0x30e)+_0x2e8f2e+'\x22]');_0x4ac03e&&(_0x4ac03e[_0x230ac2(0x4d7)]=!![],_0x104d15(_0x4ac03e[_0x230ac2(0x575)](_0x230ac2(0x36e))));}}}}else _0x2bed00[_0x230ac2(0x2a6)]&&(_0x5541ab=_0x230ac2(0xbe9));}_0x5d1bfb[_0x230ac2(0x358)](_0x230ac2(0xd15),_0x5541ab);}),showMessage(_0xe45df3(0xa05));}async function handleVerifyAnswers(){const _0x2bea4e=_0xc7d29a;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x2bea4e(0x902));return;}const _0x2ec573=document[_0x2bea4e(0x8cb)](_0x2bea4e(0xd2b));_0x2ec573[_0x2bea4e(0xc2b)]=!![],_0x2ec573[_0x2bea4e(0x22a)]=_0x2bea4e(0x4f1);try{const _0x19d76f=currentQuizData[_0x2bea4e(0x763)][_0x2bea4e(0x283)]((_0x275372,_0xea464f)=>{const _0x5b2fc3=_0x2bea4e;let _0x59c32f='';const _0x57467c=_0x275372['questionType']||currentQuizData[_0x5b2fc3(0x7f3)];switch(_0x57467c){case _0x5b2fc3(0xc7b):_0x59c32f=_0x275372[_0x5b2fc3(0x764)][_0x275372['correctAnswerIndex']];break;case'short_answer':_0x59c32f=_0x275372[_0x5b2fc3(0xd16)];break;case'true_false':_0x59c32f=_0x275372['correctAnswer']['toString']();break;case _0x5b2fc3(0x6cf):_0x59c32f=_0x275372[_0x5b2fc3(0x9b7)];break;}return{'question':_0x275372[_0x5b2fc3(0x23b)]||_0x275372[_0x5b2fc3(0x3ab)],'options':_0x275372['options']||null,'proposedAnswer':_0x59c32f};}),_0x4d31bc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x2bea4e(0xa7e)](_0x19d76f)+_0x2bea4e(0x6c3),_0x4eac42={'type':'ARRAY','items':{'type':_0x2bea4e(0x2c9),'properties':{'questionIndex':{'type':_0x2bea4e(0x894)},'isCorrect':{'type':_0x2bea4e(0x329)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x2bea4e(0x47b)}},'required':[_0x2bea4e(0x47e),_0x2bea4e(0x2a6),'justification']}},_0x293366=await callAnalysisApi(_0x4d31bc,{'type':_0x2bea4e(0x2c9),'properties':{'result':_0x4eac42},'required':[_0x2bea4e(0x10b)]});displayVerificationResults(_0x293366[_0x2bea4e(0x10b)]);}catch(_0x2d8eb3){console[_0x2bea4e(0x3e8)]('Error\x20verifying\x20answers:',_0x2d8eb3),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x2ec573[_0x2bea4e(0xc2b)]=![],_0x2ec573['innerHTML']=_0x2bea4e(0x714);}}function displayVerificationResults(_0x38f257){const _0x32f97b=_0xc7d29a;_0x38f257[_0x32f97b(0x3f4)](_0x553d25=>{const _0x153534=_0x32f97b,_0x1227ba=document[_0x153534(0x947)](_0x153534(0x21f)+_0x553d25[_0x153534(0x47e)]+'\x22]');if(_0x1227ba){const _0x443ea0=_0x1227ba['querySelector'](_0x153534(0xd91));if(_0x443ea0)_0x443ea0[_0x153534(0xc8b)]();let _0x11f9ac='';_0x553d25['isCorrect']?_0x11f9ac='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x11f9ac='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x553d25[_0x153534(0xa41)]+_0x153534(0x85f)+(_0x553d25[_0x153534(0x3d8)]?_0x153534(0xcc4)+_0x553d25[_0x153534(0x3d8)]+'</p>':'')+_0x153534(0xcbd),_0x1227ba[_0x153534(0x358)](_0x153534(0xd15),_0x11f9ac);}}),showMessage(_0x32f97b(0xa05));}function compareNumericalAnswers(_0x2bc0c1,_0x1d7627){const _0x50674f=_0xc7d29a,_0x11aa3c=String(_0x2bc0c1)[_0x50674f(0xb91)](',','.')[_0x50674f(0xb91)](/[^\d.-]/g,'')[_0x50674f(0x649)](),_0x57f866=String(_0x1d7627)[_0x50674f(0xb91)](',','.')['replace'](/[^\d.-]/g,'')[_0x50674f(0x649)]();if(_0x11aa3c===''||_0x57f866==='')return![];const _0x453960=parseFloat(_0x11aa3c),_0x49b144=parseFloat(_0x57f866);if(isNaN(_0x453960)||isNaN(_0x49b144))return![];return Math['abs'](_0x453960-_0x49b144)<0.001;}function isPotentiallyNumeric(_0x151a79){const _0x429996=_0xc7d29a;if(typeof _0x151a79!=='string'&&typeof _0x151a79!==_0x429996(0x345))return![];const _0x114021=String(_0x151a79)[_0x429996(0xb91)](',','.')[_0x429996(0x649)]();return _0x114021!==''&&!isNaN(parseFloat(_0x114021))&&isFinite(_0x114021);}async function gradeShortAnswer(_0x5a09ad,_0x7cd6a1){const _0x758f76=_0xc7d29a,_0x5a087d=_0x7cd6a1[_0x758f76(0xd16)],_0x3b742e=String(_0x5a09ad)[_0x758f76(0xb91)](/\$/g,'')[_0x758f76(0x649)](),_0x4c570e=String(_0x5a087d)['replace'](/\$/g,'')[_0x758f76(0x649)]();if(_0x3b742e[_0x758f76(0xdfe)]()===_0x4c570e[_0x758f76(0xdfe)]())return!![];if(isPotentiallyNumeric(_0x3b742e)&&isPotentiallyNumeric(_0x4c570e)){if(compareNumericalAnswers(_0x3b742e,_0x4c570e))return!![];}return console[_0x758f76(0xcde)](_0x758f76(0x757)),![];}async function revealAnswerForAdmin(_0x3e98eb,_0x510fe2){const _0x18a707=_0xc7d29a,_0x20731f=doc(db,_0x18a707(0x9c2)+appId+_0x18a707(0x927),currentLiveGameId);await updateDoc(_0x20731f,{'questionStatus':_0x18a707(0x326)});}function showTop5LeaderboardView(_0x4468dc){const _0x1eeb95=_0xc7d29a,_0x321b93=Object[_0x1eeb95(0xc37)](_0x4468dc[_0x1eeb95(0x14d)]||{})['filter'](_0x57c83f=>_0x57c83f['status']===_0x1eeb95(0xb26));_0x321b93[_0x1eeb95(0x9a7)]((_0x34b844,_0x1b3948)=>_0x1b3948[_0x1eeb95(0x1f9)]-_0x34b844['score']);const _0x1364b0=_0x321b93[_0x1eeb95(0xe54)](0x0,0x5),_0x379b3e=_0x1eeb95(0xd9)+_0x1364b0[_0x1eeb95(0x283)]((_0x1dd750,_0x1b91f5)=>_0x1eeb95(0x6c6)+(_0x1b91f5+0x1)+'.\x20'+(_0x1dd750[_0x1eeb95(0xa48)]||Object['keys'](_0x4468dc[_0x1eeb95(0x14d)])[_0x1eeb95(0x7d2)](_0x5dbac5=>_0x4468dc['players'][_0x5dbac5]===_0x1dd750))+_0x1eeb95(0xd1c)+_0x1dd750[_0x1eeb95(0x1f9)]+_0x1eeb95(0x3de))['join']('')+_0x1eeb95(0x8bc)+(_0x4468dc['currentQuestionIndex']+0x1===currentQuizData[_0x1eeb95(0x763)]['length']?_0x1eeb95(0x7fa):_0x1eeb95(0x696))+_0x1eeb95(0xe3f);liveGameView[_0x1eeb95(0x22a)]=_0x379b3e,document[_0x1eeb95(0x8cb)](_0x1eeb95(0x12e))['addEventListener'](_0x1eeb95(0x9b4),async()=>{const _0x48ddd5=_0x1eeb95,_0x13bf65=doc(db,_0x48ddd5(0x9c2)+appId+_0x48ddd5(0x927),currentLiveGameId),_0x519c28=_0x4468dc[_0x48ddd5(0xc74)]+0x1;if(_0x519c28<currentQuizData[_0x48ddd5(0x763)][_0x48ddd5(0x3bb)]){const _0x28ed0e={'currentQuestionIndex':_0x519c28,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x48ddd5(0xbb9)};Object[_0x48ddd5(0xb23)](_0x4468dc[_0x48ddd5(0x14d)])[_0x48ddd5(0x3f4)](_0x2df60a=>{const _0x36940b=_0x48ddd5;_0x28ed0e[_0x36940b(0x770)+_0x2df60a+_0x36940b(0x756)]=![];}),await updateDoc(_0x13bf65,_0x28ed0e);}else await updateDoc(_0x13bf65,{'status':_0x48ddd5(0xba3)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x2de588=>{const _0xa28482=_0x3c23;if(_0x2de588){userId=_0x2de588[_0xa28482(0x8a7)],userIdDisplay[_0xa28482(0x1ae)]=userId;const _0x5cba42=await loadUserPreferences();_0x5cba42[_0xa28482(0x286)]&&(document[_0xa28482(0x8cb)](_0xa28482(0x507))[_0xa28482(0xb66)]=_0x5cba42['projectSortOrder']);globalDashboardSettings[_0xa28482(0x72e)]=_0x5cba42[_0xa28482(0x72e)]||_0xa28482(0x5d2);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x3d437a,_0x4b82d6){const _0x2873f0=_0xc7d29a;if(!userId)return;try{const _0x1be31d=doc(db,_0x2873f0(0x9c2)+appId+_0x2873f0(0x84c)+userId+_0x2873f0(0xbe5)),_0xa499ad={};_0xa499ad[_0x3d437a]=_0x4b82d6,await setDoc(_0x1be31d,_0xa499ad,{'merge':!![]});}catch(_0x14c875){console[_0x2873f0(0x3e8)]('Error\x20saving\x20user\x20preference:',_0x14c875);}}async function loadUserPreferences(){const _0x2bd3c4=_0xc7d29a;if(!userId)return{};try{const _0x58651e=doc(db,_0x2bd3c4(0x9c2)+appId+_0x2bd3c4(0x84c)+userId+_0x2bd3c4(0xbe5)),_0x585bc3=await getDoc(_0x58651e);if(_0x585bc3[_0x2bd3c4(0x45f)]())return _0x585bc3[_0x2bd3c4(0x241)]();return{};}catch(_0x4cfc6e){return console[_0x2bd3c4(0x3e8)](_0x2bd3c4(0xe3d),_0x4cfc6e),{};}}function parseIndentedBlueprint(_0x46e96a){const _0x5eb9b3=_0xc7d29a,_0x577499=_0x46e96a['split']('\x0a')[_0x5eb9b3(0xb8e)](_0x4bba69=>_0x4bba69[_0x5eb9b3(0x649)]()!==''),_0x5c9d4a=[];let _0x233818=null,_0x493374=null;return _0x577499[_0x5eb9b3(0x3f4)](_0x50d4a2=>{const _0x35c534=_0x5eb9b3,_0x574997=_0x50d4a2[_0x35c534(0x6fc)](/^\s*/)[0x0][_0x35c534(0x3bb)],_0x1122e4=_0x50d4a2[_0x35c534(0x649)]();if(_0x574997===0x0)_0x233818={'sara':_0x1122e4,'mainTopics':[]},_0x5c9d4a[_0x35c534(0x77f)](_0x233818),_0x493374=null;else{if(_0x574997>0x0&&_0x574997<0x8&&_0x233818)_0x493374={'topicName':_0x1122e4,'subTopics':[]},_0x233818['mainTopics'][_0x35c534(0x77f)](_0x493374);else _0x574997>=0x8&&_0x493374&&_0x493374['subTopics'][_0x35c534(0x77f)](_0x1122e4);}}),{'curriculum':_0x5c9d4a};}async function handleManualBlueprintSave(){const _0x2520bd=_0xc7d29a,_0x19fa8c=document[_0x2520bd(0x8cb)](_0x2520bd(0x904))[_0x2520bd(0xb66)]['trim'](),_0x24bcce=document['getElementById'](_0x2520bd(0x4fc))[_0x2520bd(0xb66)][_0x2520bd(0x649)](),_0x44bcca=document['getElementById'](_0x2520bd(0x866))['value'];if(!_0x19fa8c||!_0x24bcce||!_0x44bcca){showMessage(_0x2520bd(0x920));return;}const _0x25c614=parseIndentedBlueprint(_0x44bcca);if(!_0x25c614['curriculum']||_0x25c614[_0x2520bd(0x111)][_0x2520bd(0x3bb)]===0x0){showMessage(_0x2520bd(0x6aa));return;}const _0x57403d={};let _0x247a90=0x0;_0x25c614[_0x2520bd(0x111)][_0x2520bd(0x3f4)](_0x72cda2=>{const _0x3074c9=_0x2520bd;_0x72cda2[_0x3074c9(0x647)][_0x3074c9(0x3f4)](_0x208f0d=>{const _0xe5b356=_0x3074c9;_0x208f0d['subTopics'][_0xe5b356(0x3f4)](_0x137a20=>{const _0x4dac7a=_0xe5b356,_0x2e99f6=_0x4dac7a(0x43c)+Date[_0x4dac7a(0x2da)]()+Math[_0x4dac7a(0xe46)]()['toString'](0x24)[_0x4dac7a(0x4b3)](0x2,0x9);_0x57403d[_0x2e99f6]={'sara':_0x72cda2[_0x4dac7a(0xaed)],'mainTopic':_0x208f0d['topicName'],'subTopic':_0x137a20,'status':_0x4dac7a(0x996),'lessonContent':null,'order':_0x247a90++};});});});try{const _0x5285a8=collection(db,'artifacts/'+appId+_0x2520bd(0x8a2));await addDoc(_0x5285a8,{'projectName':_0x19fa8c,'gradeLevel':_0x24bcce,'topics':_0x57403d,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x19fa8c+_0x2520bd(0xaf7)),document[_0x2520bd(0x8cb)](_0x2520bd(0xa6b))['classList'][_0x2520bd(0x743)]('hidden');}catch(_0x42d416){console[_0x2520bd(0x3e8)](_0x2520bd(0x972),_0x42d416),showMessage(_0x2520bd(0x343));}}function handleClearAllLinksForTopic(_0x5bd0da){const _0x27b314=_0xc7d29a;showConfirmation(_0x27b314(0x21c),async()=>{const _0x409868=_0x27b314;try{const _0x59c083=doc(db,'artifacts/'+appId+_0x409868(0x8a2),currentBlueprintProjectId);await updateDoc(_0x59c083,{['topics.'+_0x5bd0da+_0x409868(0x16c)]:[]}),showMessage(_0x409868(0xb17)),openTopicQuizBank(_0x5bd0da),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x16140d){console[_0x409868(0x3e8)](_0x409868(0x6ed),_0x16140d),showMessage(_0x409868(0x990));}});}function showPodiumView(_0x19c88f,_0x3e00c0=_0xc7d29a(0xdbb),_0x342596=null){const _0x96f403=_0xc7d29a,_0x57ebc7=_0x342596?.[_0x96f403(0xddc)]===!![],_0x22c6d8=Object[_0x96f403(0x9b1)](_0x19c88f)[_0x96f403(0x283)](([_0x5e4480,_0x1d8872])=>({'name':_0x5e4480,'realScore':_0x1d8872[_0x96f403(0x31e)]||_0x1d8872[_0x96f403(0x1f9)]||0x0,'totalPoints':_0x1d8872[_0x96f403(0x540)]||0x0,'badges':_0x1d8872[_0x96f403(0x175)]||[],'hasPerfectScoreBonus':_0x1d8872[_0x96f403(0xef)]||![],'correctStreak':_0x1d8872[_0x96f403(0x291)]||0x0})),_0x227147=Math['max'](..._0x22c6d8[_0x96f403(0x283)](_0x202a01=>_0x202a01[_0x96f403(0x540)]),-Infinity),_0x474ea7=Math[_0x96f403(0xa73)](..._0x22c6d8[_0x96f403(0x283)](_0x5a8420=>_0x5a8420[_0x96f403(0x31e)]),-Infinity);_0x22c6d8[_0x96f403(0x9a7)]((_0x74bdac,_0x4b67ea)=>{const _0x1d5ce2=_0x96f403;if(_0x57ebc7){const _0x3566d3=_0x4b67ea['totalPoints']-_0x74bdac['totalPoints'];if(_0x3566d3!==0x0)return _0x3566d3;const _0x298194=_0x4b67ea[_0x1d5ce2(0x31e)]-_0x74bdac[_0x1d5ce2(0x31e)];if(_0x298194!==0x0)return _0x298194;return _0x74bdac[_0x1d5ce2(0xa48)][_0x1d5ce2(0xb18)](_0x4b67ea[_0x1d5ce2(0xa48)],'th');}else{const _0x533d17=_0x4b67ea[_0x1d5ce2(0x540)]-_0x74bdac[_0x1d5ce2(0x540)];if(_0x533d17!==0x0)return _0x533d17;const _0x42e68e=_0x4b67ea['realScore']-_0x74bdac[_0x1d5ce2(0x31e)];if(_0x42e68e!==0x0)return _0x42e68e;return _0x74bdac['name'][_0x1d5ce2(0xb18)](_0x4b67ea[_0x1d5ce2(0xa48)],'th');}});let _0x17ac5a=0x1;for(let _0x5b853c=0x0;_0x5b853c<_0x22c6d8[_0x96f403(0x3bb)];_0x5b853c++){if(_0x5b853c>0x0){const _0x74ce2d=_0x22c6d8[_0x5b853c-0x1],_0x292b31=_0x22c6d8[_0x5b853c],_0x4b3f3a=_0x292b31[_0x96f403(0x540)]===_0x74ce2d[_0x96f403(0x540)]&&_0x292b31[_0x96f403(0x31e)]===_0x74ce2d[_0x96f403(0x31e)];!_0x4b3f3a&&(_0x17ac5a=_0x5b853c+0x1);}_0x22c6d8[_0x5b853c][_0x96f403(0xa70)]=_0x17ac5a;}const _0x3d9ea1=_0x1a830a=>{const _0x288298=_0x96f403;if(!_0x1a830a||_0x1a830a[_0x288298(0x3bb)]===0x0)return'';const _0x18ad98={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x288298(0x426)+_0x1a830a[_0x288298(0x283)](_0x7b4b40=>_0x18ad98[_0x7b4b40]||'')[_0x288298(0x922)]('')+'</div>';},_0x306f3b=_0x5f0d6e=>{const _0x43aba9=_0x96f403;let _0x225c5e='';if(_0x57ebc7){if(_0x5f0d6e['totalPoints']===_0x227147&&_0x227147>0x0)_0x225c5e+='<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20';if(_0x5f0d6e[_0x43aba9(0x31e)]===_0x474ea7&&_0x474ea7>0x0)_0x225c5e+=_0x43aba9(0xd0f);}else{if(_0x5f0d6e[_0x43aba9(0xef)])_0x225c5e='<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>';}let _0x4644fa='';_0x5f0d6e['correctStreak']>=0x3&&(_0x4644fa=_0x43aba9(0x1b6)+_0x5f0d6e[_0x43aba9(0x291)]+_0x43aba9(0xd5c));if(_0x57ebc7){const _0x5f5b0e=_0x5f0d6e['totalPoints']>=0x0?'(+'+_0x5f0d6e['totalPoints']['toLocaleString']()+')':'('+_0x5f0d6e[_0x43aba9(0x540)]['toLocaleString']()+')';return _0x43aba9(0x78c)+_0x5f0d6e['realScore']+'\x20คะแนน\x20'+_0x5f5b0e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>'+_0x225c5e+_0x4644fa+_0x43aba9(0x7e8);}else return _0x43aba9(0x78c)+_0x5f0d6e[_0x43aba9(0x540)]['toLocaleString']()+_0x43aba9(0x40d)+_0x225c5e+_0x4644fa+_0x43aba9(0x7e8);},_0x46ca5e=_0x3e0286=>{const _0x5093b5=_0x96f403;if(_0x3e0286>=0x3)return _0x5093b5(0x95b)+_0x3e0286+'</span>';return'';},_0x522d1e=_0x22c6d8[_0x96f403(0xe54)](0x3),_0x1eaec0=_0x522d1e[_0x96f403(0x3bb)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x522d1e[_0x96f403(0x283)]((_0x1b66ce,_0xa330c0)=>{const _0x188e65=_0x96f403;let _0x596f7c='';if(_0x57ebc7){if(_0x1b66ce['totalPoints']===_0x227147&&_0x227147>0x0)_0x596f7c+=_0x188e65(0x94b);if(_0x1b66ce[_0x188e65(0x31e)]===_0x474ea7&&_0x474ea7>0x0)_0x596f7c+=_0x188e65(0x567);}let _0x54aa2b='';return _0x57ebc7?_0x54aa2b=_0x1b66ce['realScore']+_0x188e65(0xdd)+_0x1b66ce['totalPoints'][_0x188e65(0x546)]()+')':_0x54aa2b=_0x1b66ce[_0x188e65(0x540)]['toLocaleString']()+_0x188e65(0x962),_0x188e65(0x5c0)+_0x1b66ce['displayRank']+_0x188e65(0xa64)+_0x1b66ce[_0x188e65(0xa48)]+_0x188e65(0x1fc)+_0x46ca5e(_0x1b66ce[_0x188e65(0x291)])+_0x188e65(0x4df)+_0x54aa2b+'\x20'+_0x596f7c+_0x188e65(0x42d);})[_0x96f403(0x922)]('')+_0x96f403(0xb28):'',_0x4b4469='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x22c6d8[0x1]?_0x96f403(0xc1b)+_0x22c6d8[0x1][_0x96f403(0xa48)]+'</p>'+_0x306f3b(_0x22c6d8[0x1])+'<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x20shadow-lg\x20border-t-4\x20border-gray-300\x22>'+_0x22c6d8[0x1][_0x96f403(0xa70)]+_0x96f403(0x940):_0x96f403(0x3f1))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x22c6d8[0x0]?_0x96f403(0x364)+_0x22c6d8[0x0][_0x96f403(0xa48)]+'</p>'+_0x306f3b(_0x22c6d8[0x0])+_0x96f403(0x69c)+_0x22c6d8[0x0][_0x96f403(0xa70)]+_0x96f403(0x940):_0x96f403(0x3f1))+_0x96f403(0x476)+(_0x22c6d8[0x2]?_0x96f403(0x5e6)+_0x22c6d8[0x2]['name']+_0x96f403(0x4f2)+_0x306f3b(_0x22c6d8[0x2])+_0x96f403(0x588)+_0x22c6d8[0x2][_0x96f403(0xa70)]+_0x96f403(0x940):_0x96f403(0x3f1))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1eaec0+_0x96f403(0x965)+(currentMode===_0x96f403(0x87c)?_0x96f403(0xaf8):_0x96f403(0x914))+_0x96f403(0x535);liveGameView[_0x96f403(0x22a)]=_0x4b4469,currentMode==='admin'?document[_0x96f403(0x8cb)]('close-game-final-btn')[_0x96f403(0x38d)](_0x96f403(0x9b4),async()=>{const _0x18df2b=_0x96f403;let _0x3a6789;_0x3e00c0===_0x18df2b(0x7ea)?_0x3a6789=doc(db,_0x18df2b(0x9c2)+appId+_0x18df2b(0xde7),currentLiveGameId):_0x3a6789=doc(db,'artifacts/'+appId+_0x18df2b(0x927),currentLiveGameId),await deleteDoc(_0x3a6789);}):document[_0x96f403(0x8cb)](_0x96f403(0xba9))?.[_0x96f403(0x38d)](_0x96f403(0x9b4),()=>{const _0x56ab5d=_0x96f403;showView(_0x56ab5d(0x24c));});}function renderSyncSummaryView(_0x59c914,_0x33544a,_0x41ed27){const _0x2f7cd1=_0xc7d29a,_0x5c122d=_0x59c914[_0x2f7cd1(0xa15)]||'classic',_0x12c307=(_0x5c122d===_0x2f7cd1(0x2ec)||_0x5c122d===_0x2f7cd1(0x37b))&&_0x59c914['isAnonymousRevealed']===![],_0x28e87e=_0x5c122d===_0x2f7cd1(0x75d)||_0x5c122d===_0x2f7cd1(0x37b),_0x34f3e4=_0x59c914[_0x2f7cd1(0xb2d)]['questions'],_0x358675=_0x33544a['questionType']||_0x59c914['shuffledQuiz']['quizType'],_0x42b41e=_0x358675===_0x2f7cd1(0xc34)||_0x358675===_0x2f7cd1(0x8f8)||_0x358675===_0x2f7cd1(0x6cf);let _0x343dc6='';if(_0x42b41e){let _0x2c58da=0x0,_0x235051=0x0;const _0x43fd98=[],_0x1f13cd=[];Object[_0x2f7cd1(0x9b1)](_0x59c914[_0x2f7cd1(0x14d)]||{})[_0x2f7cd1(0x3f4)](([_0x4c581c,_0x2ad8ed])=>{const _0x46233f=_0x2f7cd1,_0x5c7b77=(_0x2ad8ed[_0x46233f(0xea)]||[])[_0x46233f(0x7d2)](_0x4d3352=>_0x4d3352[_0x46233f(0x47e)]===_0x59c914['currentQuestionIndex']);if(_0x2ad8ed['status']!==_0x46233f(0xd03)&&_0x5c7b77){const _0x2f15dd=_0x5c7b77[_0x46233f(0xa72)],_0x4a7461=_0x12c307?_0x59c914[_0x46233f(0x4c0)][_0x4c581c]||_0x46233f(0x82f):_0x4c581c;_0x5c7b77[_0x46233f(0x2a6)]?(_0x2c58da++,_0x43fd98[_0x46233f(0x77f)](_0x4a7461)):(_0x235051++,_0x1f13cd[_0x46233f(0x77f)](_0x46233f(0x26a)+_0x4a7461+_0x46233f(0xc4)+(_0x2f15dd||_0x46233f(0x88b))));}}),_0x343dc6=_0x2f7cd1(0xcc6)+_0x2c58da+_0x2f7cd1(0x9d7)+(_0x43fd98[_0x2f7cd1(0x3bb)]>0x0?_0x43fd98['join'](',\x20'):'-')+_0x2f7cd1(0x4e8)+_0x235051+_0x2f7cd1(0x654)+(_0x1f13cd[_0x2f7cd1(0x3bb)]>0x0?_0x1f13cd['join'](_0x2f7cd1(0x603)):'-')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}else{let _0x126413=[];_0x358675==='true_false'?_0x126413=[_0x2f7cd1(0xa66),'ไม่ใช่\x20/\x20ผิด']:_0x126413=_0x33544a['options']||[];const _0x448432=new Array(_0x126413[_0x2f7cd1(0x3bb)])[_0x2f7cd1(0x1ba)](0x0),_0x19c53b={};_0x126413[_0x2f7cd1(0x3f4)]((_0xfa6a98,_0x33ac10)=>{_0x19c53b[_0x33ac10]=[];}),Object['entries'](_0x59c914[_0x2f7cd1(0x14d)]||{})['forEach'](([_0x1b31c6,_0x1479e0])=>{const _0xb4adc6=_0x2f7cd1,_0x7e2436=(_0x1479e0[_0xb4adc6(0xea)]||[])[_0xb4adc6(0x7d2)](_0x3384bd=>_0x3384bd[_0xb4adc6(0x47e)]===_0x59c914[_0xb4adc6(0xc74)]);if(_0x1479e0[_0xb4adc6(0x20a)]!==_0xb4adc6(0xd03)&&_0x7e2436&&_0x7e2436[_0xb4adc6(0x2b9)]!==null){const _0x6ae12a=parseInt(_0x7e2436['answer']);if(!isNaN(_0x6ae12a)&&_0x19c53b[_0x6ae12a]!==undefined){const _0x22c2a9=_0x12c307?_0x59c914[_0xb4adc6(0x4c0)][_0x1b31c6]||'???':_0x1b31c6;_0x19c53b[_0x6ae12a]['push'](_0x22c2a9),_0x448432[_0x6ae12a]++;}}}),_0x343dc6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x448432[_0x2f7cd1(0x283)]((_0x51a348,_0x587fff)=>{const _0x23de80=_0x2f7cd1,_0x2d9637=_0x19c53b[_0x587fff][_0x23de80(0x3bb)]>0x0?_0x19c53b[_0x587fff][_0x23de80(0x922)](',\x20'):_0x23de80(0x14c),_0x4c6008=_0x23de80(0xc8);return _0x23de80(0x545)+_0x51a348+_0x23de80(0xca3)+_0x4c6008+';\x22\x20data-tooltip-target=\x22tooltip-'+_0x587fff+_0x23de80(0x79f)+_0x126413[_0x587fff]+_0x23de80(0x1a6)+_0x587fff+_0x23de80(0x2cc)+_0x2d9637+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x2f7cd1(0x922)]('')+_0x2f7cd1(0x7fe);}let _0x382c53='';const _0x4243c3=_0x59c914['currentQuestionIndex']>=_0x34f3e4[_0x2f7cd1(0x3bb)]-0x1;_0x41ed27?_0x28e87e?_0x4243c3?_0x382c53='<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>':_0x382c53='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>':_0x382c53=_0x2f7cd1(0x202):_0x28e87e?_0x382c53='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0x382c53=_0x2f7cd1(0x81e);const _0x42a2a8=_0x41ed27?_0x2f7cd1(0x3af)+_0x59c914[_0x2f7cd1(0x87e)]+'</strong></div>':'',_0x1b8a90=_0x2f7cd1(0xd2c)+_0x42a2a8+_0x2f7cd1(0xaa9)+(_0x33544a['questionText']||_0x33544a[_0x2f7cd1(0x23b)]||'')+_0x2f7cd1(0xd6b)+_0x343dc6+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>'+_0x382c53+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x1b8a90;if(window[_0x2f7cd1(0x608)])MathJax['typesetPromise']();if(_0x41ed27){const _0x101e29=doc(db,_0x2f7cd1(0x9c2)+appId+'/public/data/syncGames',currentLiveGameId);document[_0x2f7cd1(0x8cb)]('show-results-btn')?.['addEventListener'](_0x2f7cd1(0x9b4),async()=>{const _0x45a2a9=_0x2f7cd1,_0xee749a=Object['values'](_0x59c914[_0x45a2a9(0x14d)]||{})['map'](_0x5de2ee=>({'name':_0x5de2ee[_0x45a2a9(0xa48)],'score':_0x5de2ee[_0x45a2a9(0x1f9)]||0x0,'totalPoints':_0x5de2ee[_0x45a2a9(0x540)]||0x0,'pointsLastRound':_0x5de2ee[_0x45a2a9(0x93e)]||0x0,'answers':_0x5de2ee['answers']||[],'correctStreak':_0x5de2ee['correctStreak']||0x0}));await updateDoc(_0x101e29,{'status':_0x45a2a9(0x586),'publicLeaderboard':_0xee749a});}),document['getElementById'](_0x2f7cd1(0xade))?.[_0x2f7cd1(0x38d)](_0x2f7cd1(0x9b4),()=>{const _0x1f75b5=_0x2f7cd1;openScratchpad(_0x33544a,_0x33544a[_0x1f75b5(0x764)]||_0x33544a['allResponses']||[]);}),document['getElementById'](_0x2f7cd1(0x520))?.[_0x2f7cd1(0x38d)](_0x2f7cd1(0x9b4),async()=>{const _0x5a880d=_0x2f7cd1,_0x2554dd=_0x59c914[_0x5a880d(0xc74)]+0x1;await updateDoc(_0x101e29,{'status':'question','currentQuestionIndex':_0x2554dd,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0x2f7cd1(0x8cb)](_0x2f7cd1(0xb43))?.[_0x2f7cd1(0x38d)](_0x2f7cd1(0x9b4),async()=>{const _0x5f5658=_0x2f7cd1,_0x6e4bfa=Object['values'](_0x59c914[_0x5f5658(0x14d)]||{})[_0x5f5658(0x283)](_0x5d746e=>({'name':_0x5d746e[_0x5f5658(0xa48)],'score':_0x5d746e[_0x5f5658(0x1f9)]||0x0,'totalPoints':_0x5d746e['totalPoints']||0x0,'pointsLastRound':_0x5d746e[_0x5f5658(0x93e)]||0x0,'answers':_0x5d746e[_0x5f5658(0xea)]||[],'correctStreak':_0x5d746e[_0x5f5658(0x291)]||0x0}));await updateDoc(_0x101e29,{'status':'results','reviewQuestionIndex':0x0,'publicLeaderboard':_0x6e4bfa});});}}function renderAnonymousStudentResultsView(_0x23be90){const _0x359c38=_0xc7d29a,_0x2cf666=_0x23be90[_0x359c38(0xc74)]>=_0x23be90[_0x359c38(0xb2d)]['questions'][_0x359c38(0x3bb)]-0x1;let _0x443914='';if(_0x23be90[_0x359c38(0x381)]===!![]){const _0x1d7b04=_0x23be90[_0x359c38(0x14d)][localTeamPlayers[0x0]],_0x433b67=_0x1d7b04['name'],_0x4e2ffd=_0x1d7b04[_0x359c38(0x1f9)];_0x443914=_0x359c38(0x557)+_0x433b67+_0x359c38(0xc23)+_0x4e2ffd+_0x359c38(0xc54);}else _0x443914='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x2cf666?'รอผู้ควบคุมแสดงผลสรุปสุดท้าย...':_0x359c38(0xa44))+_0x359c38(0x777);const _0x54f190='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x443914+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x359c38(0x22a)]=_0x54f190;}async function handleShowStudentRankings(){const _0x2de385=_0xc7d29a,_0x104fa5=document[_0x2de385(0x947)]('#student-quiz-leaderboard-content\x20thead');_0x104fa5&&(_0x104fa5[_0x2de385(0x22a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x41b1c4=document[_0x2de385(0x947)](_0x2de385(0x80d));_0x41b1c4&&(_0x41b1c4['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x4cc916=document[_0x2de385(0x8cb)]('student-rankings-modal');_0x4cc916[_0x2de385(0x144)][_0x2de385(0xc8b)](_0x2de385(0x1c9)),document[_0x2de385(0x8cb)](_0x2de385(0x361))[_0x2de385(0x312)]=()=>_0x4cc916[_0x2de385(0x144)][_0x2de385(0x743)](_0x2de385(0x1c9));const _0x24f978=document[_0x2de385(0x8cb)](_0x2de385(0xc0c)),_0x22547a=document[_0x2de385(0x8cb)](_0x2de385(0x40f)),_0x80e62e=document[_0x2de385(0x8cb)](_0x2de385(0x59d)),_0x35921f=document[_0x2de385(0x8cb)](_0x2de385(0x289));_0x24f978['onclick']=()=>{const _0x3d69e1=_0x2de385;_0x24f978['classList'][_0x3d69e1(0x743)](_0x3d69e1(0xb26)),_0x22547a[_0x3d69e1(0x144)][_0x3d69e1(0xc8b)](_0x3d69e1(0xb26)),_0x80e62e['classList'][_0x3d69e1(0xc8b)](_0x3d69e1(0x1c9)),_0x35921f[_0x3d69e1(0x144)][_0x3d69e1(0x743)](_0x3d69e1(0x1c9));},_0x22547a[_0x2de385(0x312)]=()=>{const _0x2e7598=_0x2de385;_0x22547a['classList']['add']('active'),_0x24f978[_0x2e7598(0x144)][_0x2e7598(0xc8b)](_0x2e7598(0xb26)),_0x35921f[_0x2e7598(0x144)][_0x2e7598(0xc8b)](_0x2e7598(0x1c9)),_0x80e62e['classList'][_0x2e7598(0x743)](_0x2e7598(0x1c9));};try{const _0x2c72c6=collection(db,_0x2de385(0x9c2)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x2de385(0x17c)),_0x1813ec=await getDocs(_0x2c72c6),_0x5cacc7=_0x1813ec[_0x2de385(0xd86)][_0x2de385(0x283)](_0x53bcd4=>_0x53bcd4[_0x2de385(0x241)]());renderQuizLeaderboard(_0x5cacc7,currentQuizData,_0x2de385(0xa4a));const _0x3c72fd=collection(db,_0x2de385(0x9c2)+appId+_0x2de385(0x8f3)+currentQuizData[_0x2de385(0x8d2)]+_0x2de385(0x876)),_0x75deeb=await getDocs(_0x3c72fd),_0x18fe77=_0x75deeb['docs'][_0x2de385(0x283)](_0x5d84ab=>_0x5d84ab[_0x2de385(0x241)]());renderLeaderboard(_0x18fe77,_0x2de385(0x409));}catch(_0x470b0d){console[_0x2de385(0x3e8)]('Error\x20fetching\x20student\x20rankings:',_0x470b0d),showMessage(_0x2de385(0x851));}}async function handleSaveToBank(_0x1673f9){const _0x53d6d6=_0xc7d29a,_0x2f49ff=_0x1673f9['currentTarget'],_0x2d8103=_0x2f49ff[_0x53d6d6(0x5fd)][_0x53d6d6(0xb94)],_0x5a0968=currentQuizData[_0x53d6d6(0x763)][_0x2d8103];if(!userId){showMessage(_0x53d6d6(0xce9));return;}try{const _0x5b7610={..._0x5a0968,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x20521f=collection(db,_0x53d6d6(0x9c2)+appId+_0x53d6d6(0x84c)+userId+_0x53d6d6(0x84f));await addDoc(_0x20521f,_0x5b7610),showMessage(_0x53d6d6(0x442)),_0x2f49ff['classList'][_0x53d6d6(0xc8b)](_0x53d6d6(0x217)),_0x2f49ff['classList'][_0x53d6d6(0x743)](_0x53d6d6(0x17f)),_0x2f49ff['disabled']=!![];}catch(_0x66282c){console[_0x53d6d6(0x3e8)](_0x53d6d6(0x103),_0x66282c),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function selectProjectAndGenerateBlueprintQuiz(_0x130b34,_0x29fe82=null,_0x3d31c7=null,_0x45d4c7=![]){const _0x10d741=_0xc7d29a;cameFromBlueprint=!![];const _0x2914b5=document[_0x10d741(0x8cb)](_0x10d741(0xcaa))?.[_0x10d741(0xb66)][_0x10d741(0x649)]();let _0x3df9a3=null;if(_0x2914b5){showMessage(_0x10d741(0x8ad));try{const _0x4129e8=await fetchFileFromUrl(_0x2914b5,_0x10d741(0xb05)),_0x561d4f=await new Promise((_0x4044c0,_0x22d56)=>{const _0x2f931c=_0x10d741,_0xaddd84=new FileReader();_0xaddd84['readAsDataURL'](_0x4129e8),_0xaddd84[_0x2f931c(0xa2d)]=()=>_0x4044c0(_0xaddd84[_0x2f931c(0x10b)]['split'](',')[0x1]),_0xaddd84[_0x2f931c(0x9c6)]=_0x22d56;});_0x3df9a3=[{'inlineData':{'mimeType':_0x4129e8['type'],'data':_0x561d4f}}],messageModal[_0x10d741(0x144)][_0x10d741(0x743)](_0x10d741(0x1c9));}catch(_0x103979){console[_0x10d741(0x3e8)]('Could\x20not\x20fetch\x20reference\x20file:',_0x103979),showMessage(_0x10d741(0xded));}}const _0xdecaaf=document[_0x10d741(0x8cb)](_0x10d741(0x66e)),_0xbf4c24=document[_0x10d741(0x8cb)]('move-quiz-project-select'),_0x622c3a=_0xdecaaf[_0x10d741(0x947)]('h3'),_0x480ce6=document[_0x10d741(0x8cb)](_0x10d741(0x1b2)),_0x4fd5af=document[_0x10d741(0x8cb)](_0x10d741(0x36f));_0x622c3a[_0x10d741(0x1ae)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x480ce6['textContent']=_0x10d741(0xa97),_0x480ce6[_0x10d741(0xc2b)]=!![];allProjects[_0x10d741(0x3bb)]===0x0?_0xbf4c24[_0x10d741(0x22a)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0xbf4c24[_0x10d741(0x22a)]=_0x10d741(0x93b)+allProjects[_0x10d741(0x283)](_0x463d4b=>_0x10d741(0xb0b)+_0x463d4b['id']+'\x22>'+_0x463d4b[_0x10d741(0xde4)]+'</option>')[_0x10d741(0x922)](''),_0x480ce6[_0x10d741(0xc2b)]=![]);_0xdecaaf[_0x10d741(0x144)][_0x10d741(0xc8b)](_0x10d741(0x1c9));const _0x4f9081=async()=>{const _0x449773=_0x10d741,_0x1fc95f=_0xbf4c24[_0x449773(0xb66)];if(!_0x1fc95f){showMessage(_0x449773(0x44a));return;}_0xdecaaf[_0x449773(0x144)][_0x449773(0x743)](_0x449773(0x1c9)),document[_0x449773(0x8cb)]('blueprint-project-manager-view')[_0x449773(0x144)][_0x449773(0x743)](_0x449773(0x1c9)),await loadProjectDetails(_0x1fc95f),showView(_0x449773(0x753)),handleGenerateQuizFromBlueprintTopic(_0x130b34,_0x29fe82,_0x1fc95f,_0x3d31c7,_0x45d4c7,_0x3df9a3),_0x3041e7();},_0x3041e7=()=>{const _0x140db4=_0x10d741;_0x622c3a[_0x140db4(0x1ae)]=_0x140db4(0x5f4),_0x480ce6[_0x140db4(0x1ae)]=_0x140db4(0xa49),_0x480ce6[_0x140db4(0xdf5)](_0x140db4(0x9b4),_0x4f9081),_0x4fd5af[_0x140db4(0xdf5)](_0x140db4(0x9b4),_0x3041e7),_0x480ce6[_0x140db4(0x38d)](_0x140db4(0x9b4),confirmMoveQuiz);};_0x480ce6['removeEventListener']('click',confirmMoveQuiz),_0x480ce6[_0x10d741(0x38d)]('click',_0x4f9081),_0x4fd5af[_0x10d741(0x38d)]('click',_0x3041e7);}function listenForStarredQuizzes(){const _0x3e6e3f=_0xc7d29a;if(!userId)return;const _0x6447f4=collection(db,_0x3e6e3f(0x9c2)+appId+_0x3e6e3f(0x843)),_0x1c8b18=query(_0x6447f4,where(_0x3e6e3f(0x84e),'==',!![]));onSnapshot(_0x1c8b18,_0x70516b=>{const _0x2afa4b=_0x3e6e3f;starredQuizzes=_0x70516b['docs']['map'](_0x1f6b35=>({'id':_0x1f6b35['id'],..._0x1f6b35[_0x2afa4b(0x241)]()})),currentProjectId===_0x2afa4b(0x42a)?renderQuizzes():renderProjects();},_0x122fed=>{const _0x24fe0e=_0x3e6e3f;console[_0x24fe0e(0x3e8)](_0x24fe0e(0x1bb),_0x122fed);});}function listenForFileShortcuts(){const _0x18a9a7=_0xc7d29a,_0x2ecf78=doc(db,_0x18a9a7(0xb14),_0x18a9a7(0xd69));onSnapshot(_0x2ecf78,_0x4a2a54=>{const _0x32e014=_0x18a9a7;let _0x22f982=[],_0x571fb5=[],_0x13bee4={};if(_0x4a2a54['exists']()){const _0x3ca53e=_0x4a2a54[_0x32e014(0x241)]();_0x22f982=_0x3ca53e['shortcuts']||[],_0x571fb5=_0x3ca53e[_0x32e014(0x772)]||[],_0x13bee4=_0x3ca53e[_0x32e014(0x584)]||{};}!_0x571fb5['find'](_0x1c2e9=>_0x1c2e9['id']===_0x32e014(0x1fd))&&_0x571fb5[_0x32e014(0x901)]({'id':_0x32e014(0x1fd),'name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x22f982[_0x32e014(0x7d2)](_0x27d3de=>_0x27d3de['id']===_0x32e014(0x78a))&&_0x22f982[_0x32e014(0x901)]({'id':_0x32e014(0x78a),'name':_0x32e014(0x25a),'url':'','isDefault':!![]}),!_0x22f982[_0x32e014(0x7d2)](_0x2f9575=>_0x2f9575['id']==='file-default-2')&&_0x22f982[_0x32e014(0x901)]({'id':'file-default-2','name':_0x32e014(0x684),'url':'','isDefault':!![]}),fileShortcuts=_0x22f982,fileShortcutTabs=_0x571fb5,fileShortcutOrder=_0x13bee4,renderFileShortcuts(),!document[_0x32e014(0x8cb)](_0x32e014(0xd12))[_0x32e014(0x144)][_0x32e014(0x3c8)]('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x5bad02=_0xc7d29a,_0x18b0d2=doc(db,_0x5bad02(0xb14),_0x5bad02(0xd69));try{await setDoc(_0x18b0d2,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x37d8e6){console[_0x5bad02(0x3e8)](_0x5bad02(0x812),_0x37d8e6);}}function renderAdditionalFileShortcutsModal(){const _0x4839ad=_0xc7d29a,_0x481459=document[_0x4839ad(0x8cb)](_0x4839ad(0x22e)),_0x83c1a0=document[_0x4839ad(0x8cb)](_0x4839ad(0xcc2));if(!_0x481459||!_0x83c1a0)return;_0x481459[_0x4839ad(0x22a)]=fileShortcutTabs[_0x4839ad(0x283)](_0x44e88c=>{const _0x54d609=_0x4839ad,_0x3ab10c=_0x44e88c['id']===activeFileShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x44e88c['id']+_0x54d609(0x2bb)+(_0x3ab10c?_0x54d609(0x8dd):_0x54d609(0x91b))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x44e88c[_0x54d609(0xa48)]+_0x54d609(0x634)+_0x44e88c['name']+_0x54d609(0xe28)+(!_0x44e88c[_0x54d609(0x73d)]?'<button\x20data-tab-id=\x22'+_0x44e88c['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x4839ad(0x922)]('');const _0x4198a4=fileShortcutTabs[_0x4839ad(0x7d2)](_0x1e591c=>_0x1e591c['id']===activeFileShortcutTabId);let _0x2625b5=_0x4198a4?.['isDefault']?[...fileShortcuts]:fileShortcuts[_0x4839ad(0xb8e)](_0x5276ad=>(_0x4198a4?.['shortcutIds']||[])[_0x4839ad(0xd33)](_0x5276ad['id']));const _0x1d2adb=fileShortcutOrder[activeFileShortcutTabId]||[];_0x2625b5['sort']((_0x216455,_0x3628ac)=>{const _0x16fa93=_0x4839ad,_0xc51256=_0x1d2adb[_0x16fa93(0x7a7)](_0x216455['id']),_0x30c1e3=_0x1d2adb[_0x16fa93(0x7a7)](_0x3628ac['id']);return(_0xc51256===-0x1?Infinity:_0xc51256)-(_0x30c1e3===-0x1?Infinity:_0x30c1e3);}),_0x83c1a0[_0x4839ad(0x22a)]=_0x2625b5[_0x4839ad(0x283)](_0x29c431=>{const _0x250331=_0x4839ad,_0x55e5f2=_0x29c431[_0x250331(0x589)]?'📄':'🔗',_0x18803f=fileShortcutTabs[_0x250331(0xb8e)](_0x576fcd=>!_0x576fcd[_0x250331(0x73d)]),_0x4b789c=_0x4198a4[_0x250331(0x73d)]&&_0x18803f[_0x250331(0x3bb)]>0x0?_0x250331(0xa20)+_0x18803f[_0x250331(0x283)](_0x108aa6=>_0x250331(0x46f)+_0x29c431['id']+_0x250331(0x41c)+_0x108aa6['id']+'\x22>'+_0x108aa6[_0x250331(0xa48)]+_0x250331(0x8d9))[_0x250331(0x922)]('')+_0x250331(0x9f0):'';return _0x250331(0x782)+_0x29c431['id']+_0x250331(0x895)+_0x55e5f2+'\x20'+_0x29c431[_0x250331(0xa48)]+_0x250331(0x652)+_0x29c431['id']+_0x250331(0x95d)+_0x29c431['id']+_0x250331(0x20f)+(!_0x29c431[_0x250331(0x73d)]?'<button\x20data-id=\x22'+_0x29c431['id']+_0x250331(0x963):'')+_0x250331(0x5f7)+(!_0x4198a4[_0x250331(0x73d)]?_0x250331(0x1f6)+_0x29c431['id']+_0x250331(0x950):'')+_0x250331(0x5f7)+_0x4b789c+_0x250331(0x51b);})[_0x4839ad(0x922)]('')||_0x4839ad(0xc91),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x3da040=_0xc7d29a;document[_0x3da040(0xb9f)]('.file-shortcut-tab-btn')[_0x3da040(0x3f4)](_0x2fca18=>{const _0x3466d8=_0x3da040;_0x2fca18[_0x3466d8(0x312)]=_0x1bd155=>{const _0x547bc1=_0x3466d8;activeFileShortcutTabId=_0x1bd155[_0x547bc1(0x4e1)][_0x547bc1(0x5fd)][_0x547bc1(0x97d)],renderAdditionalFileShortcutsModal();},_0x2fca18[_0x3466d8(0x737)]=_0x1af68c=>{const _0x1e7d10=_0x3466d8,_0x4f8da8=_0x1af68c[_0x1e7d10(0x4e1)]['querySelector']('.tab-name-input');_0x1af68c[_0x1e7d10(0x4e1)][_0x1e7d10(0x947)](_0x1e7d10(0xcc9))[_0x1e7d10(0x144)][_0x1e7d10(0x743)](_0x1e7d10(0x1c9)),_0x4f8da8[_0x1e7d10(0x144)]['remove'](_0x1e7d10(0x1c9)),_0x4f8da8[_0x1e7d10(0x663)](),_0x4f8da8[_0x1e7d10(0x15d)]();};}),document['querySelectorAll'](_0x3da040(0x26f))[_0x3da040(0x3f4)](_0x5c6978=>{const _0x57ebc0=_0x3da040,_0x29739a=()=>{const _0x169e01=_0x3c23,_0xcee8e6=_0x5c6978['closest'](_0x169e01(0x791))[_0x169e01(0x5fd)][_0x169e01(0x97d)],_0x17be9d=fileShortcutTabs[_0x169e01(0x7d2)](_0x19e67b=>_0x19e67b['id']===_0xcee8e6);_0x17be9d&&(_0x17be9d['name']=_0x5c6978[_0x169e01(0xb66)][_0x169e01(0x649)]()||_0x17be9d[_0x169e01(0xa48)],saveFileShortcutConfig());};_0x5c6978[_0x57ebc0(0xd85)]=_0x29739a,_0x5c6978[_0x57ebc0(0x146)]=_0x4d170a=>{const _0x1b7ae9=_0x57ebc0;if(_0x4d170a[_0x1b7ae9(0x181)]===_0x1b7ae9(0x379))_0x5c6978[_0x1b7ae9(0x96c)]();};}),document[_0x3da040(0xb9f)]('.delete-file-shortcut-tab-btn')[_0x3da040(0x3f4)](_0x5744dd=>_0x5744dd[_0x3da040(0x312)]=_0x12c184=>{const _0x5baf46=_0x3da040,_0x613553=_0x12c184[_0x5baf46(0x4e1)][_0x5baf46(0x5fd)][_0x5baf46(0x97d)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{fileShortcutTabs=fileShortcutTabs['filter'](_0x3b2c87=>_0x3b2c87['id']!==_0x613553),delete fileShortcutOrder[_0x613553];if(activeFileShortcutTabId===_0x613553)activeFileShortcutTabId='all';saveFileShortcutConfig();});}),document[_0x3da040(0xb9f)](_0x3da040(0x1dc))[_0x3da040(0x3f4)](_0x198716=>_0x198716[_0x3da040(0x312)]=_0x389ca8=>{const _0x42d505=_0x3da040;_0x389ca8['preventDefault']();const {shortcutId:_0x3022f3,targetTabId:_0x15f501}=_0x389ca8[_0x42d505(0x4e1)][_0x42d505(0x5fd)],_0x2310c5=fileShortcutTabs[_0x42d505(0x7d2)](_0x51d7c9=>_0x51d7c9['id']===_0x15f501);_0x2310c5&&!_0x2310c5[_0x42d505(0x297)]['includes'](_0x3022f3)&&(_0x2310c5[_0x42d505(0x297)][_0x42d505(0x77f)](_0x3022f3),saveFileShortcutConfig());}),document['querySelectorAll'](_0x3da040(0x708))[_0x3da040(0x3f4)](_0x1afb67=>_0x1afb67[_0x3da040(0x312)]=_0x117b96=>{const _0x7a4cd2=_0x3da040,_0x29dbd9=_0x117b96[_0x7a4cd2(0x4e1)][_0x7a4cd2(0x5fd)][_0x7a4cd2(0xb62)],_0x5447ce=fileShortcutTabs[_0x7a4cd2(0x7d2)](_0x190db2=>_0x190db2['id']===activeFileShortcutTabId);_0x5447ce&&!_0x5447ce[_0x7a4cd2(0x73d)]&&(_0x5447ce[_0x7a4cd2(0x297)]=_0x5447ce[_0x7a4cd2(0x297)]['filter'](_0x9e0938=>_0x9e0938!==_0x29dbd9),saveFileShortcutConfig());}),document[_0x3da040(0xb9f)]('.move-file-shortcut-menu-btn')[_0x3da040(0x3f4)](_0x2d616f=>_0x2d616f[_0x3da040(0x312)]=_0x2f824c=>{const _0x482d7b=_0x3da040;_0x2f824c[_0x482d7b(0x6e5)]();const _0x1ddc91=_0x2f824c[_0x482d7b(0x4e1)][_0x482d7b(0x49f)];document[_0x482d7b(0xb9f)]('.move-file-shortcut-dropdown')[_0x482d7b(0x3f4)](_0x2413e6=>_0x2413e6['classList'][_0x482d7b(0x743)](_0x482d7b(0x1c9))),_0x1ddc91[_0x482d7b(0x144)][_0x482d7b(0xc8b)](_0x482d7b(0x1c9));});const _0x4bdc0e=document[_0x3da040(0x8cb)](_0x3da040(0xcc2));let _0x22dd9e=null;_0x4bdc0e[_0x3da040(0x356)]=_0x141d6e=>{const _0x34abb8=_0x3da040;_0x22dd9e=_0x141d6e['target']['closest'](_0x34abb8(0xca9));if(_0x22dd9e)setTimeout(()=>_0x22dd9e[_0x34abb8(0x144)][_0x34abb8(0x743)](_0x34abb8(0xce6)),0x0);},_0x4bdc0e[_0x3da040(0x131)]=()=>{const _0x1377f0=_0x3da040;_0x22dd9e&&(_0x22dd9e[_0x1377f0(0x144)][_0x1377f0(0xc8b)](_0x1377f0(0xce6)),_0x22dd9e=null);},_0x4bdc0e[_0x3da040(0x315)]=_0x11ecdc=>{const _0x2f2214=_0x3da040;_0x11ecdc[_0x2f2214(0x862)]();},_0x4bdc0e['ondrop']=_0x5e2774=>{const _0x18359e=_0x3da040;_0x5e2774[_0x18359e(0x862)]();if(_0x22dd9e){const _0x5a33aa=[..._0x4bdc0e[_0x18359e(0xb9f)](_0x18359e(0xd56))][_0x18359e(0xcb0)]((_0x2dd5a0,_0x3a301c)=>{const _0x178d42=_0x18359e,_0x3e6c0e=_0x3a301c[_0x178d42(0xa99)](),_0x3dbf56=_0x5e2774[_0x178d42(0xb7a)]-_0x3e6c0e[_0x178d42(0x6f2)]-_0x3e6c0e[_0x178d42(0x810)]/0x2;return _0x3dbf56<0x0&&_0x3dbf56>_0x2dd5a0[_0x178d42(0x818)]?{'offset':_0x3dbf56,'element':_0x3a301c}:_0x2dd5a0;},{'offset':Number[_0x18359e(0x272)]})[_0x18359e(0x58f)];_0x5a33aa==null?_0x4bdc0e[_0x18359e(0x4cf)](_0x22dd9e):_0x4bdc0e[_0x18359e(0x5a9)](_0x22dd9e,_0x5a33aa);const _0x3f1770=[..._0x4bdc0e[_0x18359e(0xb9f)](_0x18359e(0xca9))][_0x18359e(0x283)](_0x3369a4=>_0x3369a4[_0x18359e(0x5fd)][_0x18359e(0xb62)]);fileShortcutOrder[activeFileShortcutTabId]=_0x3f1770,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x304ac9=_0xc7d29a,_0x542200=prompt(_0x304ac9(0xbc4),'แท็บใหม่');_0x542200&&_0x542200[_0x304ac9(0x649)]()&&(fileShortcutTabs[_0x304ac9(0x77f)]({'id':_0x304ac9(0x3b7)+Date[_0x304ac9(0x2da)](),'name':_0x542200[_0x304ac9(0x649)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x123f0b=_0xc7d29a,_0x3b258d=document[_0x123f0b(0x8cb)](_0x123f0b(0x423)),_0x499380=document[_0x123f0b(0x8cb)](_0x123f0b(0xcc2)),_0x44eca0=document[_0x123f0b(0x8cb)](_0x123f0b(0x14f));if(_0x44eca0)_0x44eca0['classList'][_0x123f0b(0x743)](_0x123f0b(0x1c9));if(!_0x3b258d||!_0x499380)return;const _0x2ec5d5=fileShortcuts[_0x123f0b(0xe54)](0x0,0x4),_0x5415b=fileShortcuts['slice'](0x4);_0x3b258d[_0x123f0b(0x22a)]=_0x2ec5d5[_0x123f0b(0x283)](_0x17ef78=>{const _0x5e5efc=_0x123f0b,_0xc60f53=_0x17ef78[_0x5e5efc(0x589)]&&_0x17ef78[_0x5e5efc(0x589)][_0x5e5efc(0x649)]()!=='',_0x22abdf=selectedFile&&selectedFile[_0x5e5efc(0xb62)]===_0x17ef78['id'];let _0xf01eb8='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x42636a='🔗';if(_0x22abdf)_0xf01eb8='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x42636a=_0x5e5efc(0x1ee);else _0xc60f53&&(_0xf01eb8=_0x5e5efc(0x630),_0x42636a='📄');const _0x28b7ac=!_0x17ef78[_0x5e5efc(0x73d)]?_0x5e5efc(0x9b8)+_0x17ef78['id']+_0x5e5efc(0x96b):'';return _0x5e5efc(0x4de)+_0x17ef78['id']+_0x5e5efc(0x776)+_0xf01eb8+_0x5e5efc(0x5de)+_0x42636a+_0x5e5efc(0x7b6)+_0x17ef78['name']+_0x5e5efc(0x884)+_0x17ef78['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x28b7ac+_0x5e5efc(0xe07);})['join'](''),_0x5415b[_0x123f0b(0x3bb)]>0x0&&(_0x3b258d[_0x123f0b(0x22a)]+=_0x123f0b(0x4ea)),_0x5415b[_0x123f0b(0x3bb)]>0x0?_0x499380[_0x123f0b(0x22a)]=_0x5415b[_0x123f0b(0x283)](_0x18ea1f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+(_0x18ea1f[_0x123f0b(0x589)]?'📄':'🔗')+'\x20'+_0x18ea1f[_0x123f0b(0xa48)]+_0x123f0b(0x5e9)+_0x18ea1f['id']+_0x123f0b(0xe3a)+_0x18ea1f['id']+_0x123f0b(0x9c1)+(!_0x18ea1f[_0x123f0b(0x73d)]?'<button\x20data-id=\x22'+_0x18ea1f['id']+_0x123f0b(0x963):'')+_0x123f0b(0x874))['join'](''):_0x499380[_0x123f0b(0x22a)]=_0x123f0b(0x97f);}function openFileShortcutEditor(_0x373586=null){const _0x20a18c=_0xc7d29a,_0x44edcf=document[_0x20a18c(0x8cb)](_0x20a18c(0xe2b)),_0x3990ae=document[_0x20a18c(0x8cb)](_0x20a18c(0x81c)),_0x418628=document[_0x20a18c(0x8cb)](_0x20a18c(0xaf0)),_0x1a87d3=document[_0x20a18c(0x8cb)](_0x20a18c(0xe6)),_0x5ab98b=document[_0x20a18c(0x8cb)]('file-shortcut-url-input');if(_0x373586){const _0x2b8790=fileShortcuts[_0x20a18c(0x7d2)](_0x374384=>_0x374384['id']===_0x373586);if(!_0x2b8790)return;_0x3990ae[_0x20a18c(0x1ae)]='แก้ไขปุ่มลัดจากไฟล์',_0x418628['value']=_0x2b8790['id'],_0x1a87d3['value']=_0x2b8790[_0x20a18c(0xa48)],_0x5ab98b['value']=_0x2b8790['url']||'';}else _0x3990ae['textContent']=_0x20a18c(0x9ec),_0x418628[_0x20a18c(0xb66)]='',_0x1a87d3[_0x20a18c(0xb66)]='',_0x5ab98b[_0x20a18c(0xb66)]='';_0x44edcf['classList']['remove']('hidden');}async function saveFileShortcutChanges(){const _0xd82471=_0xc7d29a,_0x26f351=document[_0xd82471(0x8cb)](_0xd82471(0xaf0))[_0xd82471(0xb66)],_0x36eaa5=document[_0xd82471(0x8cb)](_0xd82471(0xe6))[_0xd82471(0xb66)][_0xd82471(0x649)](),_0x473295=document[_0xd82471(0x8cb)](_0xd82471(0x395))[_0xd82471(0xb66)][_0xd82471(0x649)]();if(!_0x36eaa5){showMessage(_0xd82471(0x638));return;}const _0x2e1983={'id':_0x26f351||_0xd82471(0xd62)+Date[_0xd82471(0x2da)](),'name':_0x36eaa5,'url':_0x473295,'isDefault':_0x26f351[_0xd82471(0xdd8)](_0xd82471(0xaaf))};let _0x2c217f;_0x26f351?_0x2c217f=fileShortcuts[_0xd82471(0x283)](_0x5ea3a0=>_0x5ea3a0['id']===_0x26f351?_0x2e1983:_0x5ea3a0):_0x2c217f=[...fileShortcuts,_0x2e1983];try{const _0xd45189=doc(db,_0xd82471(0xb14),_0xd82471(0xd69));await setDoc(_0xd45189,{'shortcuts':_0x2c217f},{'merge':!![]}),document[_0xd82471(0x8cb)]('file-shortcut-editor-modal')['classList'][_0xd82471(0x743)](_0xd82471(0x1c9));}catch(_0x4fb500){console['error'](_0xd82471(0xae6),_0x4fb500),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x102a23){const _0x26ada5=_0xc7d29a,_0x931950=fileShortcuts[_0x26ada5(0x7d2)](_0x1d0f0f=>_0x1d0f0f['id']===_0x102a23);if(!_0x931950)return;if(!_0x931950[_0x26ada5(0x589)]||_0x931950[_0x26ada5(0x589)][_0x26ada5(0x649)]()===''){openFileShortcutEditor(_0x102a23);return;}const _0x1a3398=document[_0x26ada5(0x947)](_0x26ada5(0xcf3)+_0x102a23+'\x22]');if(_0x1a3398){const _0x44b9fb=_0x1a3398[_0x26ada5(0x22a)];_0x1a3398['innerHTML']='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x1a3398[_0x26ada5(0xc2b)]=!![];}document[_0x26ada5(0xb9f)](_0x26ada5(0x6f0))['forEach'](_0x306ef5=>{const _0x342e77=_0x26ada5;if(_0x306ef5[_0x342e77(0x5fd)]['id']!==_0x102a23)_0x306ef5['classList'][_0x342e77(0x743)](_0x342e77(0xce6),_0x342e77(0xe52));});try{const _0x5117d4=new URL(_0x931950[_0x26ada5(0x589)])['pathname'],_0x3e066d=_0x5117d4[_0x26ada5(0x299)](_0x5117d4[_0x26ada5(0x8c3)]('/')+0x1)||(_0x931950[_0x26ada5(0x589)][_0x26ada5(0xd33)](_0x26ada5(0x766))?_0x26ada5(0xc7e):_0x26ada5(0x669)),_0x14bba8=await fetchFileFromUrl(_0x931950['url'],_0x3e066d);_0x14bba8[_0x26ada5(0xb62)]=_0x102a23,selectedFile=_0x14bba8,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById'](_0x26ada5(0xab5))[_0x26ada5(0x816)]({'behavior':_0x26ada5(0x10f),'block':_0x26ada5(0x57d)});}catch(_0x3d7227){console[_0x26ada5(0x3e8)](_0x26ada5(0xc20),_0x3d7227),showMessage(_0x26ada5(0xa1a)+_0x3d7227[_0x26ada5(0xd5f)]),renderFileShortcuts();}finally{document[_0x26ada5(0xb9f)](_0x26ada5(0x6f0))[_0x26ada5(0x3f4)](_0x14cb7c=>{const _0xc8ee46=_0x26ada5;_0x14cb7c[_0xc8ee46(0x144)]['remove'](_0xc8ee46(0xce6),_0xc8ee46(0xe52)),_0x14cb7c[_0xc8ee46(0xc2b)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x4be70f=_0xc7d29a;if(allQuizzesGlobal[_0x4be70f(0x3bb)]>0x0)return;console[_0x4be70f(0xcde)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage(_0x4be70f(0x9bd));try{const _0x200c85=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x200c85['docs'][_0x4be70f(0x283)](_0x168b47=>({'id':_0x168b47['id'],..._0x168b47[_0x4be70f(0x241)]()})),console[_0x4be70f(0xcde)](_0x4be70f(0x2f3)+allQuizzesGlobal[_0x4be70f(0x3bb)]+_0x4be70f(0x26b)),messageModal['classList']['add']('hidden');}catch(_0x4fa0df){console['error'](_0x4be70f(0xd6e),_0x4fa0df),messageModal[_0x4be70f(0x144)][_0x4be70f(0x743)](_0x4be70f(0x1c9));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x2eb61e=_0xc7d29a;if(!currentQuizData||!currentQuizData[_0x2eb61e(0x763)]){showMessage(_0x2eb61e(0x621));return;}const _0x10227e=currentQuizData,_0x47c005=window[_0x2eb61e(0x898)]('',_0x2eb61e(0x38f)),_0x347753=_0x384fc4=>String[_0x2eb61e(0x6a1)](0x41+_0x384fc4),_0xdbf57=_0x2eb61e(0xc9e)+_0x10227e['topic']+_0x2eb61e(0x189)+_0x10227e[_0x2eb61e(0x664)]+_0x2eb61e(0x75f)+_0x10227e[_0x2eb61e(0x763)][_0x2eb61e(0x283)]((_0x4af343,_0x5c31ba)=>{const _0x13beb5=_0x2eb61e;let _0x495af3='';const _0x3e107a=_0x4af343[_0x13beb5(0xd53)]||_0x10227e[_0x13beb5(0x7f3)];switch(_0x3e107a){case'multiple_choice':case _0x13beb5(0x7ec):_0x495af3=_0x13beb5(0x168)+_0x4af343[_0x13beb5(0x764)][_0x13beb5(0x283)]((_0x5ac679,_0x1201d8)=>_0x13beb5(0x790)+_0x347753(_0x1201d8)+'.\x20'+_0x5ac679+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x13beb5(0x922)](_0x13beb5(0x603))+_0x13beb5(0x1d2);break;case _0x13beb5(0x206):_0x495af3='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x495af3=_0x13beb5(0xde5);break;}return _0x13beb5(0x416)+(_0x5c31ba+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x4af343[_0x13beb5(0x23b)]||_0x4af343['questionText'])+_0x13beb5(0xb9b)+(_0x4af343[_0x13beb5(0xb24)]?_0x13beb5(0x8c0)+_0x4af343[_0x13beb5(0xb24)]+_0x13beb5(0x1d2):'')+_0x13beb5(0x4d3)+_0x495af3+_0x13beb5(0x6af);})[_0x2eb61e(0x922)]('')+_0x2eb61e(0x4db);_0x47c005[_0x2eb61e(0xaa0)]['write'](_0xdbf57),_0x47c005[_0x2eb61e(0xaa0)][_0x2eb61e(0x838)](),_0x47c005[_0x2eb61e(0xa2d)]=function(){setTimeout(()=>{const _0x410054=_0x3c23;_0x47c005[_0x410054(0xcf1)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x5756f3=_0xc7d29a;if(!currentQuizData||!currentQuizData[_0x5756f3(0x763)]){showMessage(_0x5756f3(0x621));return;}const _0x4875b5=currentQuizData,_0x1a0b2d=window[_0x5756f3(0x898)]('','_blank'),_0x14cccb=_0x5062ea=>String[_0x5756f3(0x6a1)](0x41+_0x5062ea),_0x3fd8de=_0x5756f3(0x590)+_0x4875b5[_0x5756f3(0x664)]+_0x5756f3(0xc10)+_0x4875b5[_0x5756f3(0x763)][_0x5756f3(0x283)]((_0x22c0c2,_0x5b465c)=>{const _0x501788=_0x5756f3;let _0x4bb1a6='';const _0x31dc4d=_0x22c0c2['questionType']||_0x4875b5[_0x501788(0x7f3)];switch(_0x31dc4d){case _0x501788(0xc7b):case _0x501788(0x7ec):_0x4bb1a6=_0x501788(0x7c0)+_0x22c0c2[_0x501788(0x764)][_0x501788(0x283)]((_0x1775cc,_0x102734)=>_0x501788(0xb11)+_0x14cccb(_0x102734)+'.\x20'+_0x1775cc+'</span>')[_0x501788(0x922)]('<br>')+_0x501788(0x6bb);break;case _0x501788(0x206):_0x4bb1a6='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x4bb1a6='';break;}return _0x501788(0x944)+_0x4875b5['topic']+_0x501788(0x94c)+(_0x5b465c+0x1)+_0x501788(0x106)+(_0x22c0c2[_0x501788(0x23b)]||_0x22c0c2[_0x501788(0x3ab)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x22c0c2[_0x501788(0xb24)]?_0x501788(0x229)+_0x22c0c2['imageCode']+_0x501788(0x1d2):'')+_0x501788(0x4d3)+_0x4bb1a6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1a0b2d[_0x5756f3(0xaa0)][_0x5756f3(0xe6d)](_0x3fd8de),_0x1a0b2d[_0x5756f3(0xaa0)][_0x5756f3(0x838)](),_0x1a0b2d[_0x5756f3(0xa2d)]=function(){setTimeout(()=>{_0x1a0b2d['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x4b3887){const _0x2e7f2c=_0xc7d29a,_0x494008=doc(db,_0x2e7f2c(0x9c2)+appId+_0x2e7f2c(0x843),_0x4b3887);try{const _0x2d37a4=await getDoc(_0x494008);if(_0x2d37a4[_0x2e7f2c(0x45f)]()){const _0x121a2f=_0x2d37a4[_0x2e7f2c(0x241)]()[_0x2e7f2c(0x84e)]||![];await updateDoc(_0x494008,{'isStarred':!_0x121a2f});}}catch(_0x3708ea){console[_0x2e7f2c(0x3e8)](_0x2e7f2c(0xbb3),_0x3708ea),showMessage(_0x2e7f2c(0x64c));}}async function displayQuestionBank(){const _0x1380ac=_0xc7d29a,_0x3d52a8=document['getElementById'](_0x1380ac(0x9fd));_0x3d52a8['innerHTML']=_0x1380ac(0xe58);try{const _0x180c92=collection(db,_0x1380ac(0x9c2)+appId+_0x1380ac(0x84c)+userId+'/questionBank'),_0x6b91f8=query(_0x180c92),_0x4401ac=await getDocs(_0x6b91f8);if(_0x4401ac[_0x1380ac(0x7de)]){_0x3d52a8[_0x1380ac(0x22a)]=_0x1380ac(0x19e);return;}let _0x11722c=_0x4401ac[_0x1380ac(0xd86)][_0x1380ac(0x283)](_0x9804bb=>{const _0x2c212b=_0x1380ac,_0x463271=_0x9804bb[_0x2c212b(0x241)](),_0x3d6175=_0x9804bb['id'];return _0x2c212b(0x70a)+JSON['stringify'](_0x463271)+_0x2c212b(0xbf0)+(_0x463271['questionText']||_0x463271[_0x2c212b(0x23b)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x463271[_0x2c212b(0xb2a)]+_0x2c212b(0x284);})[_0x1380ac(0x922)]('');_0x3d52a8[_0x1380ac(0x22a)]=_0x1380ac(0x71e)+_0x11722c+_0x1380ac(0xa4d),document['getElementById'](_0x1380ac(0xc80))[_0x1380ac(0x38d)]('click',createQuizFromBank);}catch(_0x121e07){console[_0x1380ac(0x3e8)](_0x1380ac(0x317),_0x121e07),_0x3d52a8[_0x1380ac(0x22a)]=_0x1380ac(0x214);}}async function handleExportLessonToPDF(){const _0x57e6b4=_0xc7d29a,_0x52497b=document[_0x57e6b4(0x8cb)](_0x57e6b4(0x19b)),_0x2b12ae=document[_0x57e6b4(0x8cb)](_0x57e6b4(0xa9b))['textContent']||_0x57e6b4(0xac);if(!_0x52497b){showMessage(_0x57e6b4(0x408));return;}const _0xe264ab=window[_0x57e6b4(0x898)]('',_0x57e6b4(0x38f)),_0x4726bb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x2b12ae+_0x57e6b4(0x4fe)+_0x2b12ae+_0x57e6b4(0x6d6)+_0x52497b[_0x57e6b4(0x22a)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0xe264ab[_0x57e6b4(0xaa0)]['write'](_0x4726bb),_0xe264ab[_0x57e6b4(0xaa0)]['close'](),_0xe264ab[_0x57e6b4(0xa2d)]=function(){setTimeout(()=>{const _0x4532da=_0x3c23;_0xe264ab[_0x4532da(0xcf1)]();},0x7d0);};}function showAdminLiveQuestionView(_0xb4a7ed,_0xb56a3b,_0x41eff7){const _0x3bdb62=_0xc7d29a,_0x4e6f2b=_0xb4a7ed['questionType']||currentQuizData[_0x3bdb62(0x7f3)];let _0xdf5def='';if(_0x4e6f2b==='multiple_choice'||_0x4e6f2b===_0x3bdb62(0x206)){const _0x14e14d=_0x4e6f2b==='true_false'?['ใช่',_0x3bdb62(0xe1f)]:_0xb4a7ed[_0x3bdb62(0x764)],_0x1d9c5e=_0x4e6f2b===_0x3bdb62(0x206)?_0xb4a7ed['correctAnswer']?0x0:0x1:_0xb4a7ed['correctAnswerIndex'];_0xdf5def=_0x14e14d[_0x3bdb62(0x283)]((_0x26d2b3,_0x1a2bb4)=>_0x3bdb62(0x525)+(_0x1a2bb4===_0x1d9c5e)+_0x3bdb62(0x4a5)+_0x26d2b3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else{if(_0x4e6f2b===_0x3bdb62(0x6cf)){const _0x35d8c7=_0xb4a7ed[_0x3bdb62(0x872)]||[];_0xdf5def=_0x35d8c7[_0x3bdb62(0x283)](_0x4155a6=>_0x3bdb62(0x525)+(_0x4155a6===_0xb4a7ed['correctResponse'])+_0x3bdb62(0x4a5)+_0x4155a6+_0x3bdb62(0xe07))[_0x3bdb62(0x922)]('');}}const _0x20af64=_0xb4a7ed[_0x3bdb62(0x23b)]||_0xb4a7ed[_0x3bdb62(0x3ab)],_0x1e8bab=_0x3bdb62(0xe2)+(_0xb56a3b+0x1)+_0x3bdb62(0x99b)+_0x41eff7+_0x3bdb62(0x8b6)+currentLiveGamePin+_0x3bdb62(0xbf6)+_0x20af64+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xdf5def+_0x3bdb62(0x3d0);liveGameView[_0x3bdb62(0x22a)]=_0x1e8bab,window[_0x3bdb62(0x608)]&&MathJax[_0x3bdb62(0x31d)]&&MathJax[_0x3bdb62(0x31d)]([liveGameView]),document[_0x3bdb62(0x8cb)](_0x3bdb62(0x140))[_0x3bdb62(0x38d)](_0x3bdb62(0x9b4),()=>revealAnswerForAdmin(_0xb56a3b,_0x41eff7)),document[_0x3bdb62(0x8cb)](_0x3bdb62(0x90c))['addEventListener'](_0x3bdb62(0x9b4),async()=>{const _0xcec2d8=_0x3bdb62;showConfirmation(_0xcec2d8(0x23f),async()=>{const _0xd1a57c=_0xcec2d8,_0x5e5edc=doc(db,_0xd1a57c(0x9c2)+appId+_0xd1a57c(0x927),currentLiveGameId);await updateDoc(_0x5e5edc,{'status':_0xd1a57c(0xba3)});});}),document['getElementById']('manage-players-btn')[_0x3bdb62(0x38d)](_0x3bdb62(0x9b4),()=>{const _0x145a67=_0x3bdb62;document[_0x145a67(0x8cb)]('live-player-management')[_0x145a67(0x144)][_0x145a67(0x463)]('hidden');});}function promptForProjectBeforeGenerating(_0x3e8989){const _0x3dd71a=_0xc7d29a,_0x490307=document[_0x3dd71a(0x8cb)](_0x3dd71a(0x66e)),_0x2b91fe=document[_0x3dd71a(0x8cb)](_0x3dd71a(0x1cf)),_0x127fc4=_0x490307[_0x3dd71a(0x947)]('h3'),_0x506550=document['getElementById'](_0x3dd71a(0x1b2)),_0x2f6987=document[_0x3dd71a(0x8cb)]('cancel-move-quiz-btn');_0x127fc4[_0x3dd71a(0x1ae)]=_0x3dd71a(0xc46),_0x506550[_0x3dd71a(0x1ae)]=_0x3dd71a(0xa97),_0x506550['disabled']=!![];allProjects[_0x3dd71a(0x3bb)]===0x0?_0x2b91fe['innerHTML']=_0x3dd71a(0x7a3):(_0x2b91fe[_0x3dd71a(0x22a)]=_0x3dd71a(0x93b)+allProjects['map'](_0x431b98=>'<option\x20value=\x22'+_0x431b98['id']+'\x22>'+_0x431b98[_0x3dd71a(0xde4)]+_0x3dd71a(0x4d9))[_0x3dd71a(0x922)](''),_0x506550[_0x3dd71a(0xc2b)]=![]);_0x490307['classList'][_0x3dd71a(0xc8b)](_0x3dd71a(0x1c9));const _0x49d44d=async()=>{const _0x306694=_0x3dd71a,_0x4d0d94=_0x2b91fe[_0x306694(0xb66)];if(!_0x4d0d94){showMessage(_0x306694(0x44a));return;}_0x490307[_0x306694(0x144)][_0x306694(0x743)]('hidden'),await loadProjectDetails(_0x4d0d94),showView(_0x306694(0x753)),handleGenerateQuizFromBlueprintTopic(_0x3e8989),_0x4abad6();},_0x4abad6=()=>{const _0x111fc5=_0x3dd71a;_0x127fc4[_0x111fc5(0x1ae)]=_0x111fc5(0x5f4),_0x506550['textContent']=_0x111fc5(0xa49),_0x506550[_0x111fc5(0xdf5)](_0x111fc5(0x9b4),_0x49d44d),_0x2f6987[_0x111fc5(0xdf5)](_0x111fc5(0x9b4),_0x4abad6),_0x506550[_0x111fc5(0x38d)](_0x111fc5(0x9b4),confirmMoveQuiz);};_0x506550[_0x3dd71a(0xdf5)](_0x3dd71a(0x9b4),confirmMoveQuiz),_0x506550[_0x3dd71a(0x38d)](_0x3dd71a(0x9b4),_0x49d44d),_0x2f6987[_0x3dd71a(0x38d)](_0x3dd71a(0x9b4),_0x4abad6);}function showStudentLiveQuestionView(_0x1f6cf1,_0x1367ac,_0x3e2c9e){const _0x5e0d64=_0xc7d29a,_0x478317=_0x1f6cf1[_0x5e0d64(0xd53)]||currentQuizData[_0x5e0d64(0x7f3)];let _0x4eaa5f='';if(_0x478317==='multiple_choice'||_0x478317===_0x5e0d64(0x206)){const _0x1ecbc9=_0x478317==='true_false'?['ใช่','ไม่ใช่']:_0x1f6cf1['options'];_0x4eaa5f=_0x1ecbc9[_0x5e0d64(0x283)]((_0x22083a,_0x3f10a1)=>_0x5e0d64(0xe50)+_0x3f10a1+_0x5e0d64(0x9ba)+_0x22083a+_0x5e0d64(0x631))[_0x5e0d64(0x922)]('');}else{if(_0x478317===_0x5e0d64(0x6cf)){const _0x4b7b6a=_0x1f6cf1[_0x5e0d64(0x872)]||[];_0x4eaa5f=_0x4b7b6a[_0x5e0d64(0x283)]((_0x4d7ed3,_0x42050c)=>_0x5e0d64(0xe50)+_0x42050c+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d7ed3+_0x5e0d64(0x631))[_0x5e0d64(0x922)]('');}else _0x478317===_0x5e0d64(0xc34)&&(_0x4eaa5f=_0x5e0d64(0x668));}const _0x46b46e=_0x1f6cf1[_0x5e0d64(0x23b)]||_0x1f6cf1[_0x5e0d64(0x3ab)],_0x43c0a5=_0x5e0d64(0xc8f)+(_0x1367ac+0x1)+_0x5e0d64(0x99b)+_0x3e2c9e+_0x5e0d64(0xe68)+_0x46b46e+_0x5e0d64(0x57a)+_0x4eaa5f+_0x5e0d64(0xa07);liveGameView[_0x5e0d64(0x22a)]=_0x43c0a5;window[_0x5e0d64(0x608)]&&MathJax[_0x5e0d64(0x31d)]&&MathJax[_0x5e0d64(0x31d)]([liveGameView]);const _0x53f3a4=document[_0x5e0d64(0x8cb)]('live-submit-short-answer-btn');_0x53f3a4&&_0x53f3a4[_0x5e0d64(0x38d)](_0x5e0d64(0x9b4),()=>{const _0x78ed3e=_0x5e0d64,_0x4572f4=document[_0x78ed3e(0x8cb)](_0x78ed3e(0xcfa))[_0x78ed3e(0xb66)];handleLiveAnswer(_0x4572f4,_0x1f6cf1);}),document[_0x5e0d64(0x8cb)](_0x5e0d64(0x583))[_0x5e0d64(0x38d)](_0x5e0d64(0x9b4),_0x44eb86=>{const _0x3b1598=_0x5e0d64,_0x53bb84=_0x44eb86[_0x3b1598(0x7b9)][_0x3b1598(0x575)](_0x3b1598(0xd10));if(_0x53bb84){const _0x5ee1e8=parseInt(_0x53bb84[_0x3b1598(0x5fd)][_0x3b1598(0xb94)]);handleLiveAnswer(_0x5ee1e8,_0x1f6cf1);}});}function listenForBlueprintShortcuts(){const _0x2fae73=_0xc7d29a,_0x34391d=doc(db,_0x2fae73(0xb14),_0x2fae73(0x5b3));onSnapshot(_0x34391d,_0x50a23f=>{const _0x35c121=_0x2fae73;let _0x13324d=[],_0x4f20b7=[],_0x4dbee5={};if(_0x50a23f['exists']()){const _0x1dfd06=_0x50a23f[_0x35c121(0x241)]();_0x13324d=_0x1dfd06[_0x35c121(0x941)]||[],_0x4f20b7=_0x1dfd06[_0x35c121(0xa1c)]||[],_0x4dbee5=_0x1dfd06['shortcutOrder']||{};}!_0x4f20b7['find'](_0x4db5df=>_0x4db5df['id']===_0x35c121(0x1fd))&&_0x4f20b7[_0x35c121(0x901)]({'id':_0x35c121(0x1fd),'name':_0x35c121(0xcee),'isDefault':!![]}),!_0x13324d[_0x35c121(0x7d2)](_0x5e508a=>_0x5e508a['id']===_0x35c121(0x571))&&_0x13324d['unshift']({'id':_0x35c121(0x571),'name':_0x35c121(0x773),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x13324d[_0x35c121(0x7d2)](_0x5052cc=>_0x5052cc['id']===_0x35c121(0x75a))&&_0x13324d[_0x35c121(0x901)]({'id':_0x35c121(0x75a),'name':'Blueprint\x202','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x13324d,shortcutTabs=_0x4f20b7,shortcutOrder=_0x4dbee5,renderBlueprintShortcuts(),!document[_0x35c121(0x8cb)]('additional-shortcuts-modal')[_0x35c121(0x144)][_0x35c121(0x3c8)](_0x35c121(0x1c9))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x575046=_0xc7d29a,_0x556bfa=document[_0x575046(0x8cb)](_0x575046(0xbbe)),_0x82f877=document['getElementById'](_0x575046(0x5ad));if(!_0x556bfa||!_0x82f877)return;_0x556bfa[_0x575046(0x22a)]=shortcutTabs[_0x575046(0x283)](_0xcf7413=>{const _0x3e6c1b=_0x575046,_0x5b1a1c=_0xcf7413['id']===activeShortcutTabId,_0x4bcae4=_0x3e6c1b(0x8dd),_0x509a0b=_0x3e6c1b(0x91b);return _0x3e6c1b(0x6a4)+_0xcf7413['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x5b1a1c?_0x4bcae4:_0x509a0b)+_0x3e6c1b(0x856)+_0xcf7413[_0x3e6c1b(0xa48)]+_0x3e6c1b(0xbaf)+_0xcf7413[_0x3e6c1b(0xa48)]+_0x3e6c1b(0x820)+(!_0xcf7413['isDefault']?_0x3e6c1b(0x77c)+_0xcf7413['id']+_0x3e6c1b(0x4b8):'')+_0x3e6c1b(0xe07);})[_0x575046(0x922)]('');const _0x37f36d=shortcutTabs['find'](_0x26c06b=>_0x26c06b['id']===activeShortcutTabId);let _0x17463e=[];if(_0x37f36d){if(_0x37f36d[_0x575046(0x73d)])_0x17463e=[...blueprintShortcuts];else{const _0x13afd1=_0x37f36d['shortcutIds']||[];_0x17463e=blueprintShortcuts['filter'](_0xb20676=>_0x13afd1[_0x575046(0xd33)](_0xb20676['id']));}}const _0x3e3348=shortcutOrder[activeShortcutTabId]||[];_0x17463e[_0x575046(0x9a7)]((_0x1b4144,_0x153159)=>{const _0x537ad7=_0x575046,_0x44758a=_0x3e3348[_0x537ad7(0x7a7)](_0x1b4144['id']),_0x49a5df=_0x3e3348[_0x537ad7(0x7a7)](_0x153159['id']);if(_0x44758a===-0x1)return 0x1;if(_0x49a5df===-0x1)return-0x1;return _0x44758a-_0x49a5df;}),_0x82f877[_0x575046(0x22a)]=_0x17463e[_0x575046(0x3bb)]>0x0?_0x17463e[_0x575046(0x283)](_0x114f5d=>{const _0x4f243c=_0x575046;let _0xafe628='🧩';if(_0x114f5d[_0x4f243c(0x779)]&&_0x114f5d[_0x4f243c(0x531)])_0xafe628='📗';else{if(_0x114f5d[_0x4f243c(0x779)])_0xafe628='📘';}const _0x5f4266=shortcutTabs['filter'](_0x2667f0=>!_0x2667f0[_0x4f243c(0x73d)]),_0x3d2548=_0x37f36d[_0x4f243c(0x73d)]&&_0x5f4266[_0x4f243c(0x3bb)]>0x0?_0x4f243c(0x74e)+_0x5f4266['map'](_0x33be49=>_0x4f243c(0x518)+_0x114f5d['id']+_0x4f243c(0x41c)+_0x33be49['id']+'\x22>'+_0x33be49[_0x4f243c(0xa48)]+_0x4f243c(0x805))['join']('')+_0x4f243c(0xbee):'';return _0x4f243c(0x83c)+_0x114f5d['id']+_0x4f243c(0x5b5)+_0xafe628+'\x20'+_0x114f5d['name']+_0x4f243c(0x7b4)+_0x114f5d['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x114f5d['id']+_0x4f243c(0x7e6)+(!_0x114f5d['isDefault']?_0x4f243c(0x9b8)+_0x114f5d['id']+_0x4f243c(0x6cb):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x37f36d['isDefault']?'<button\x20data-shortcut-id=\x22'+_0x114f5d['id']+_0x4f243c(0x8cf):'')+_0x4f243c(0xd44)+_0x3d2548+_0x4f243c(0xd9c);})['join'](''):_0x575046(0xc91),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x2701b5=_0xc7d29a;document[_0x2701b5(0xb9f)]('.shortcut-tab-btn')[_0x2701b5(0x3f4)](_0x1a98c8=>{const _0xf8695d=_0x2701b5;_0x1a98c8[_0xf8695d(0x38d)](_0xf8695d(0x9b4),_0x3ba49c=>{const _0x5257a4=_0xf8695d;activeShortcutTabId=_0x3ba49c[_0x5257a4(0x4e1)]['dataset'][_0x5257a4(0x97d)],renderAdditionalShortcutsModal();}),_0x1a98c8[_0xf8695d(0x38d)](_0xf8695d(0xa06),_0xef7950=>{const _0x7ba2cb=_0xf8695d,_0x44fb38=_0xef7950[_0x7ba2cb(0x4e1)];_0x44fb38[_0x7ba2cb(0x947)](_0x7ba2cb(0xcc9))[_0x7ba2cb(0x144)]['add'](_0x7ba2cb(0x1c9));const _0x537325=_0x44fb38['querySelector'](_0x7ba2cb(0x6c9));_0x537325['classList'][_0x7ba2cb(0xc8b)](_0x7ba2cb(0x1c9)),_0x537325[_0x7ba2cb(0x663)](),_0x537325[_0x7ba2cb(0x15d)]();});}),document[_0x2701b5(0xb9f)](_0x2701b5(0x6c9))[_0x2701b5(0x3f4)](_0x386f82=>{const _0x14abfb=_0x2701b5,_0x1c192b=()=>{const _0x1f2fdc=_0x3c23,_0x2dcec0=_0x386f82[_0x1f2fdc(0x575)](_0x1f2fdc(0xd87))['dataset']['tabId'];handleRenameShortcutTab(_0x2dcec0,_0x386f82[_0x1f2fdc(0xb66)]);};_0x386f82[_0x14abfb(0x38d)]('blur',_0x1c192b),_0x386f82['addEventListener'](_0x14abfb(0xd17),_0x4a100d=>{const _0xfa8e94=_0x14abfb;if(_0x4a100d[_0xfa8e94(0x181)]===_0xfa8e94(0x379))_0x386f82['blur']();});}),document[_0x2701b5(0xb9f)](_0x2701b5(0x92c))[_0x2701b5(0x3f4)](_0x693139=>{const _0x13f2be=_0x2701b5;_0x693139[_0x13f2be(0x38d)](_0x13f2be(0x9b4),_0x5e107d=>handleDeleteShortcutTab(_0x5e107d[_0x13f2be(0x4e1)][_0x13f2be(0x5fd)][_0x13f2be(0x97d)]));}),document[_0x2701b5(0xb9f)](_0x2701b5(0x9af))[_0x2701b5(0x3f4)](_0x45f793=>{const _0x33665f=_0x2701b5;_0x45f793[_0x33665f(0x38d)]('click',_0x1bbc3f=>{const _0x3cdaef=_0x33665f;_0x1bbc3f[_0x3cdaef(0x862)]();const {shortcutId:_0x335fa8,targetTabId:_0x5ca00b}=_0x1bbc3f[_0x3cdaef(0x4e1)]['dataset'];handleMoveShortcutToTab(_0x335fa8,_0x5ca00b);});}),document['querySelectorAll'](_0x2701b5(0xb3d))[_0x2701b5(0x3f4)](_0x30e3a9=>{const _0x211d7e=_0x2701b5;_0x30e3a9[_0x211d7e(0x38d)](_0x211d7e(0x9b4),_0x302d9c=>{const _0x2e3ad8=_0x211d7e;handleRemoveShortcutFromTab(_0x302d9c[_0x2e3ad8(0x4e1)][_0x2e3ad8(0x5fd)]['shortcutId'],activeShortcutTabId);});});const _0x1d1ecc=document[_0x2701b5(0x8cb)]('additional-shortcuts-list');_0x1d1ecc[_0x2701b5(0xb9f)](_0x2701b5(0x59b))['forEach'](_0x58d74e=>{const _0x2fd437=_0x2701b5;_0x58d74e[_0x2fd437(0x38d)](_0x2fd437(0x9b4),()=>{const _0x6d74ac=_0x2fd437;document['getElementById'](_0x6d74ac(0x28b))[_0x6d74ac(0x144)][_0x6d74ac(0x743)]('hidden'),handleShortcutClick(_0x58d74e[_0x6d74ac(0x5fd)]['id']);});});let _0x1f33d9=null;_0x1d1ecc[_0x2701b5(0x38d)](_0x2701b5(0x8f7),_0x502a82=>{const _0x44eea9=_0x2701b5;_0x1f33d9=_0x502a82[_0x44eea9(0x7b9)][_0x44eea9(0x575)](_0x44eea9(0xca9)),_0x1f33d9&&setTimeout(()=>_0x1f33d9[_0x44eea9(0x144)]['add']('opacity-50'),0x0);}),_0x1d1ecc[_0x2701b5(0x38d)](_0x2701b5(0xc16),()=>{const _0x31ffc1=_0x2701b5;_0x1f33d9&&(_0x1f33d9['classList'][_0x31ffc1(0xc8b)](_0x31ffc1(0xce6)),_0x1f33d9=null);}),_0x1d1ecc['addEventListener'](_0x2701b5(0xbe1),_0x233d68=>{const _0x5857de=_0x2701b5;_0x233d68['preventDefault']();const _0x47e095=[..._0x1d1ecc[_0x5857de(0xb9f)](_0x5857de(0xd56))][_0x5857de(0xcb0)]((_0x28579b,_0x294a29)=>{const _0x124251=_0x5857de,_0x56fd21=_0x294a29[_0x124251(0xa99)](),_0x34af1f=_0x233d68[_0x124251(0xb7a)]-_0x56fd21[_0x124251(0x6f2)]-_0x56fd21[_0x124251(0x810)]/0x2;return _0x34af1f<0x0&&_0x34af1f>_0x28579b[_0x124251(0x818)]?{'offset':_0x34af1f,'element':_0x294a29}:_0x28579b;},{'offset':Number[_0x5857de(0x272)]})[_0x5857de(0x58f)];_0x47e095==null?_0x1d1ecc[_0x5857de(0x4cf)](_0x1f33d9):_0x1d1ecc[_0x5857de(0x5a9)](_0x1f33d9,_0x47e095);}),_0x1d1ecc['addEventListener'](_0x2701b5(0x682),_0x257bfe=>{const _0x45d202=_0x2701b5;_0x257bfe[_0x45d202(0x862)]();if(_0x1f33d9){const _0x4da85f=[..._0x1d1ecc[_0x45d202(0xb9f)]('.shortcut-list-item')][_0x45d202(0x283)](_0x2d6cb0=>_0x2d6cb0[_0x45d202(0x5fd)][_0x45d202(0xb62)]);handleShortcutOrderChange(activeShortcutTabId,_0x4da85f);}}),document['querySelectorAll'](_0x2701b5(0x370))[_0x2701b5(0x3f4)](_0x155cd9=>{const _0x59e4fc=_0x2701b5;_0x155cd9['addEventListener'](_0x59e4fc(0x9b4),_0x172522=>{const _0x181f2e=_0x59e4fc;_0x172522[_0x181f2e(0x6e5)]();const _0x3ad969=_0x172522[_0x181f2e(0x4e1)]['nextElementSibling'],_0x4fb07d=_0x3ad969[_0x181f2e(0x144)][_0x181f2e(0x3c8)]('hidden');document[_0x181f2e(0xb9f)](_0x181f2e(0xbe2))[_0x181f2e(0x3f4)](_0x27d844=>_0x27d844['classList'][_0x181f2e(0x743)](_0x181f2e(0x1c9))),_0x4fb07d&&_0x3ad969[_0x181f2e(0x144)]['remove']('hidden');});});}document[_0xc7d29a(0x38d)]('click',_0x5c9899=>{const _0x3881d2=_0xc7d29a;!_0x5c9899['target'][_0x3881d2(0x575)]('.group\x5c/dropdown')&&document[_0x3881d2(0xb9f)](_0x3881d2(0xbe2))['forEach'](_0x2cec73=>_0x2cec73['classList'][_0x3881d2(0x743)](_0x3881d2(0x1c9)));});async function saveShortcutConfig(){const _0x15c3e3=_0xc7d29a,_0x1eee05=doc(db,_0x15c3e3(0xb14),'dashboardConfig');try{await setDoc(_0x1eee05,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x5a67bf){console[_0x15c3e3(0x3e8)](_0x15c3e3(0xc2f),_0x5a67bf);}}async function handleAddShortcutTab(){const _0x319591=_0xc7d29a,_0x357e8b=prompt(_0x319591(0xbc4),_0x319591(0x320));if(!_0x357e8b||_0x357e8b[_0x319591(0x649)]()==='')return;shortcutTabs[_0x319591(0x77f)]({'id':_0x319591(0x3b7)+Date[_0x319591(0x2da)](),'name':_0x357e8b['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x2201f2,_0x5132b5){const _0x419ad2=_0xc7d29a,_0x40d46c=shortcutTabs[_0x419ad2(0x7d2)](_0x2f5bd9=>_0x2f5bd9['id']===_0x2201f2);_0x40d46c&&_0x5132b5[_0x419ad2(0x649)]()!==''&&(_0x40d46c[_0x419ad2(0xa48)]=_0x5132b5[_0x419ad2(0x649)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x4f0657){const _0x3fd79d=_0xc7d29a,_0x39eef0=shortcutTabs['find'](_0x42231c=>_0x42231c['id']===_0x4f0657);_0x39eef0&&!_0x39eef0['isDefault']&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x39eef0[_0x3fd79d(0xa48)]+_0x3fd79d(0xb65),async()=>{const _0xd97f07=_0x3fd79d;shortcutTabs=shortcutTabs[_0xd97f07(0xb8e)](_0x10a558=>_0x10a558['id']!==_0x4f0657),delete shortcutOrder[_0x4f0657];if(activeShortcutTabId===_0x4f0657)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x266dc0,_0x338ec3){const _0x56f8f6=_0xc7d29a,_0x5d8b1d=shortcutTabs[_0x56f8f6(0x7d2)](_0x346f56=>_0x346f56['id']===_0x338ec3);_0x5d8b1d&&!_0x5d8b1d[_0x56f8f6(0x297)][_0x56f8f6(0xd33)](_0x266dc0)&&(_0x5d8b1d[_0x56f8f6(0x297)][_0x56f8f6(0x77f)](_0x266dc0),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x4f8889,_0x99dfee){const _0x4ba884=_0xc7d29a,_0x51524f=shortcutTabs[_0x4ba884(0x7d2)](_0x498f5d=>_0x498f5d['id']===_0x99dfee);_0x51524f&&!_0x51524f[_0x4ba884(0x73d)]&&(_0x51524f['shortcutIds']=_0x51524f['shortcutIds'][_0x4ba884(0xb8e)](_0x1fd764=>_0x1fd764!==_0x4f8889),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x123fb3,_0x27fed3){shortcutOrder[_0x123fb3]=_0x27fed3,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x4221ff=_0xc7d29a,_0x2b330f=document['getElementById'](_0x4221ff(0x578)),_0x3db26e=document[_0x4221ff(0x8cb)](_0x4221ff(0x5ad)),_0x61b4e6=document[_0x4221ff(0x8cb)](_0x4221ff(0xe72));_0x61b4e6&&_0x61b4e6['classList'][_0x4221ff(0x743)](_0x4221ff(0x1c9));if(!_0x2b330f||!_0x3db26e)return;const _0x3bbfc2=blueprintShortcuts[_0x4221ff(0xe54)](0x0,0x4),_0x292775=blueprintShortcuts[_0x4221ff(0xe54)](0x4);_0x2b330f[_0x4221ff(0x22a)]=_0x3bbfc2[_0x4221ff(0x283)](_0x1a0374=>{const _0x1680f5=_0x4221ff;let _0xcfe71c='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x7cf8e4='🧩';if(_0x1a0374['blueprintUrl']&&_0x1a0374[_0x1680f5(0x531)])_0xcfe71c='bg-green-500\x20hover:bg-green-600\x20text-white',_0x7cf8e4='📗';else _0x1a0374['blueprintUrl']&&(_0xcfe71c=_0x1680f5(0x630),_0x7cf8e4='📘');const _0x5b8554=!_0x1a0374[_0x1680f5(0x73d)]?_0x1680f5(0x9b8)+_0x1a0374['id']+_0x1680f5(0x187):'';return _0x1680f5(0x4de)+_0x1a0374['id']+_0x1680f5(0xbbb)+_0xcfe71c+_0x1680f5(0xb46)+_0x7cf8e4+'\x20'+_0x1a0374[_0x1680f5(0xa48)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1a0374['id']+_0x1680f5(0x568)+_0x5b8554+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4221ff(0x922)](''),_0x292775['length']>0x0&&(_0x2b330f['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x292775[_0x4221ff(0x3bb)]>0x0?_0x3db26e['innerHTML']=_0x292775['map'](_0x4617f7=>{const _0x2b9e46=_0x4221ff;let _0xb7a5ee='🧩';if(_0x4617f7['blueprintUrl']&&_0x4617f7[_0x2b9e46(0x531)])_0xb7a5ee='📗';else _0x4617f7['blueprintUrl']&&(_0xb7a5ee='📘');return _0x2b9e46(0x5b6)+_0xb7a5ee+'\x20'+_0x4617f7[_0x2b9e46(0xa48)]+_0x2b9e46(0x7b4)+_0x4617f7['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4617f7['id']+_0x2b9e46(0x7e6)+(!_0x4617f7[_0x2b9e46(0x73d)]?_0x2b9e46(0x9b8)+_0x4617f7['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x2b9e46(0xb07);})[_0x4221ff(0x922)](''):_0x3db26e['innerHTML']=_0x4221ff(0x97f);}function getMimeTypeFromFilename(_0x5322b0){const _0x2b8b29=_0xc7d29a,_0x1602ec=_0x5322b0['split']('.')[_0x2b8b29(0x55b)]()[_0x2b8b29(0xdfe)]();switch(_0x1602ec){case _0x2b8b29(0x6f7):return _0x2b8b29(0xb5a);case _0x2b8b29(0x976):return _0x2b8b29(0xd65);default:return _0x2b8b29(0xb5a);}}function openShortcutEditor(_0x2fc5dd=null){const _0x1e8c05=_0xc7d29a,_0x17ea21=document[_0x1e8c05(0x8cb)](_0x1e8c05(0x2db)),_0x19dc9e=document[_0x1e8c05(0x8cb)]('shortcut-modal-title'),_0x379d7e=document[_0x1e8c05(0x8cb)](_0x1e8c05(0x57e)),_0x2ba9a3=document[_0x1e8c05(0x8cb)](_0x1e8c05(0x4a9)),_0x3af11c=document[_0x1e8c05(0x8cb)]('shortcut-blueprint-url-input'),_0x581390=document[_0x1e8c05(0x8cb)](_0x1e8c05(0xa36));if(_0x2fc5dd){const _0x3471c9=blueprintShortcuts[_0x1e8c05(0x7d2)](_0x2e60f9=>_0x2e60f9['id']===_0x2fc5dd);if(!_0x3471c9)return;_0x19dc9e[_0x1e8c05(0x1ae)]='แก้ไขปุ่มลัด',_0x379d7e[_0x1e8c05(0xb66)]=_0x3471c9['id'],_0x2ba9a3[_0x1e8c05(0xb66)]=_0x3471c9[_0x1e8c05(0xa48)],_0x3af11c[_0x1e8c05(0xb66)]=_0x3471c9['blueprintUrl']||'',_0x581390[_0x1e8c05(0xb66)]=_0x3471c9[_0x1e8c05(0x531)]||'';}else _0x19dc9e[_0x1e8c05(0x1ae)]=_0x1e8c05(0xdb),_0x379d7e[_0x1e8c05(0xb66)]='',_0x2ba9a3['value']='',_0x3af11c['value']='',_0x581390['value']='';_0x17ea21[_0x1e8c05(0x144)]['remove']('hidden');}async function saveShortcutChanges(){const _0x3b5f8f=_0xc7d29a,_0x54dab7=document['getElementById']('shortcut-id-input')['value'],_0x4252b5=document['getElementById']('shortcut-name-input')[_0x3b5f8f(0xb66)]['trim'](),_0x134fc2=document['getElementById'](_0x3b5f8f(0x9bc))['value'][_0x3b5f8f(0x649)]();if(!_0x4252b5||!_0x134fc2){showMessage(_0x3b5f8f(0xdb8));return;}const _0x500de3={'id':_0x54dab7||_0x3b5f8f(0x3fb)+Date[_0x3b5f8f(0x2da)](),'name':_0x4252b5,'blueprintUrl':_0x134fc2,'referenceUrl':document[_0x3b5f8f(0x8cb)](_0x3b5f8f(0xa36))['value']['trim'](),'isDefault':_0x54dab7['startsWith'](_0x3b5f8f(0x37f))};let _0x37667e;_0x54dab7?_0x37667e=blueprintShortcuts[_0x3b5f8f(0x283)](_0xe403ab=>_0xe403ab['id']===_0x54dab7?_0x500de3:_0xe403ab):_0x37667e=[...blueprintShortcuts,_0x500de3];try{const _0x4a2904=doc(db,_0x3b5f8f(0xb14),_0x3b5f8f(0x5b3));await setDoc(_0x4a2904,{'blueprintShortcuts':_0x37667e},{'merge':!![]}),document[_0x3b5f8f(0x8cb)]('shortcut-editor-modal')[_0x3b5f8f(0x144)][_0x3b5f8f(0x743)]('hidden');}catch(_0x5b3f70){console[_0x3b5f8f(0x3e8)]('Error\x20saving\x20shortcut:',_0x5b3f70),showMessage(_0x3b5f8f(0x5e1));}}async function handleShortcutClick(_0x735969){const _0x2d7c8f=_0xc7d29a,_0x3c2b9b=blueprintShortcuts[_0x2d7c8f(0x7d2)](_0x230ac5=>_0x230ac5['id']===_0x735969);if(!_0x3c2b9b||!_0x3c2b9b[_0x2d7c8f(0x779)])return;document[_0x2d7c8f(0x8cb)](_0x2d7c8f(0x418))[_0x2d7c8f(0x144)][_0x2d7c8f(0x743)](_0x2d7c8f(0x1c9)),document[_0x2d7c8f(0x8cb)](_0x2d7c8f(0xe14))[_0x2d7c8f(0xc2b)]=!![];const _0x2561cb=document['getElementById'](_0x2d7c8f(0x8aa)),_0x116364=document[_0x2d7c8f(0x8cb)]('loader-text');document['getElementById'](_0x2d7c8f(0xa93))[_0x2d7c8f(0x144)][_0x2d7c8f(0xc8b)](_0x2d7c8f(0x1c9)),document['getElementById'](_0x2d7c8f(0xfc))[_0x2d7c8f(0x22a)]='',_0x2561cb[_0x2d7c8f(0x144)]['remove']('hidden');try{_0x116364['textContent']=_0x2d7c8f(0x508);const _0x53b750=await fetchFileFromUrl(_0x3c2b9b[_0x2d7c8f(0x779)],_0x2d7c8f(0xe01));let _0x59d883=null;if(_0x3c2b9b['referenceUrl']){_0x116364['textContent']=_0x2d7c8f(0x933);const _0xdcf5eb=_0x3c2b9b[_0x2d7c8f(0x531)][_0x2d7c8f(0xdfe)]()[_0x2d7c8f(0xbd7)](_0x2d7c8f(0x766))?'reference.txt':_0x2d7c8f(0x190);_0x59d883=await fetchFileFromUrl(_0x3c2b9b[_0x2d7c8f(0x531)],_0xdcf5eb);}await handleGenerateFromBlueprintWithFiles(_0x53b750,_0x59d883);}catch(_0x171606){console[_0x2d7c8f(0x3e8)]('Error\x20processing\x20shortcut\x20click:',_0x171606),showMessage(_0x2d7c8f(0x506)+_0x171606['message']),_0x2561cb[_0x2d7c8f(0x144)][_0x2d7c8f(0x743)](_0x2d7c8f(0x1c9));}}function getDirectDownloadUrl(_0x4233e7){const _0xb50e7a=_0xc7d29a,_0x2cbd59=_0x4233e7[_0xb50e7a(0x6fc)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x2cbd59&&_0x2cbd59[0x1])return _0xb50e7a(0x3ea)+_0x2cbd59[0x1];return _0x4233e7;}async function fetchFileFromUrl(_0x6369d3,_0x1bf013){const _0x587a74=_0xc7d29a,_0x56756f=getDirectDownloadUrl(_0x6369d3),_0x5472e6=_0x587a74(0x6d8)+encodeURIComponent(_0x56756f),_0x453284=await fetch(_0x5472e6);if(!_0x453284['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0x453284['status']+')');const _0x13e302=await _0x453284[_0x587a74(0x1cc)](),_0x2fb211=await new Promise((_0x43f875,_0x5a0734)=>{const _0x448f80=_0x587a74,_0x1aaa74=new FileReader();_0x1aaa74[_0x448f80(0x6bf)]=()=>_0x43f875(new Uint8Array(_0x1aaa74[_0x448f80(0x10b)])),_0x1aaa74['onerror']=_0x5a0734,_0x1aaa74[_0x448f80(0xb00)](_0x13e302[_0x448f80(0xe54)](0x0,0x4));});let _0x5f2a4e='';const _0x2d11e9=new TextDecoder()[_0x587a74(0x5ff)](_0x2fb211);return _0x2d11e9===_0x587a74(0x44b)?(_0x5f2a4e=_0x587a74(0xb5a),console[_0x587a74(0xcde)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x5f2a4e=_0x587a74(0xd65),console[_0x587a74(0xcde)](_0x587a74(0x4e7))),new File([_0x13e302],_0x1bf013,{'type':_0x5f2a4e});}async function handleGenerateFromBlueprintWithFiles(_0x3f4db1,_0x3cb95a=null){const _0x4dd562=_0xc7d29a;if(!_0x3f4db1){showMessage('ไม่พบไฟล์\x20Test\x20Blueprint');return;}const _0x1f88a7=document['getElementById'](_0x4dd562(0x8aa)),_0x5f4a18=document[_0x4dd562(0x8cb)](_0x4dd562(0xc8d));_0x1f88a7[_0x4dd562(0x144)][_0x4dd562(0xc8b)](_0x4dd562(0x1c9)),document[_0x4dd562(0x8cb)](_0x4dd562(0xa93))['classList']['remove'](_0x4dd562(0x1c9)),document['getElementById']('generated-quiz-container')[_0x4dd562(0x22a)]='';try{_0x5f4a18[_0x4dd562(0x1ae)]=_0x4dd562(0x54d);const _0xe4063f=await new Promise((_0x41a613,_0x566413)=>{const _0x15b263=_0x4dd562,_0x59084e=new FileReader();_0x59084e[_0x15b263(0x73c)](_0x3f4db1),_0x59084e[_0x15b263(0xa2d)]=()=>_0x41a613(_0x59084e[_0x15b263(0x10b)][_0x15b263(0xbaa)](',')[0x1]),_0x59084e[_0x15b263(0x9c6)]=_0x566413;}),_0xab5bde=[];if(_0x3cb95a){_0x5f4a18[_0x4dd562(0x1ae)]=_0x4dd562(0x7a4);const _0x1627a6=await _0x3cb95a[_0x4dd562(0xb0d)]();_0xab5bde['push']({'text':_0x4dd562(0x51e)+_0x1627a6});}const _0x48a9f6=[{'text':_0x4dd562(0x392)},{'inlineData':{'mimeType':_0x3f4db1[_0x4dd562(0x255)],'data':_0xe4063f}},..._0xab5bde];await handleGenerateFromBlueprint(_0x48a9f6);}catch(_0x3be8b5){console[_0x4dd562(0x3e8)]('Error\x20in\x20generating\x20from\x20files:',_0x3be8b5),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3be8b5[_0x4dd562(0xd5f)]),_0x1f88a7[_0x4dd562(0x144)][_0x4dd562(0x743)]('hidden');}}async function handleLiveAnswer(_0xccc66e,_0x4b4f2c){const _0xcb9749=_0xc7d29a;document['querySelectorAll'](_0xcb9749(0x61d))[_0xcb9749(0x3f4)](_0x500945=>_0x500945['disabled']=!![]);const _0x3d5710=_0x4b4f2c['questionType']||currentQuizData[_0xcb9749(0x7f3)];let _0x1359eb=![],_0x4de0b2=_0xccc66e;if(_0x3d5710===_0xcb9749(0xc34)){const _0x525a41=(_0xccc66e||'')['toString']();_0x1359eb=await gradeShortAnswer(_0x525a41,_0x4b4f2c);}else{if(_0x3d5710===_0xcb9749(0xc7b))_0x1359eb=_0xccc66e===_0x4b4f2c[_0xcb9749(0xcd4)];else{if(_0x3d5710===_0xcb9749(0x206)){const _0x5a3fa1=_0x4b4f2c[_0xcb9749(0x124)];_0x1359eb=_0xccc66e===0x0&&_0x5a3fa1||_0xccc66e===0x1&&!_0x5a3fa1;}else{if(_0x3d5710===_0xcb9749(0x6cf)){const _0x4307ee=_0x4b4f2c[_0xcb9749(0x872)][_0xccc66e];_0x1359eb=_0x4307ee===_0x4b4f2c[_0xcb9749(0x9b7)],_0x4de0b2=_0x4307ee;}}}}const _0x22513d=doc(db,_0xcb9749(0x9c2)+appId+_0xcb9749(0x927),currentLiveGameId),_0x4028a0={};_0x4028a0[_0xcb9749(0x770)+currentStudentName+_0xcb9749(0x756)]=!![],_0x4028a0['players.'+currentStudentName+'.lastAnswerCorrect']=_0x1359eb,_0x4028a0[_0xcb9749(0x770)+currentStudentName+'.lastAnswerIndex']=_0x3d5710==='short_answer'||_0x3d5710===_0xcb9749(0x6cf)?null:_0xccc66e,_0x4028a0['players.'+currentStudentName+'.lastAnswerValue']=_0x4de0b2,_0x4028a0[_0xcb9749(0x770)+currentStudentName+_0xcb9749(0x3ff)]=serverTimestamp(),_0x4028a0[_0xcb9749(0x770)+currentStudentName+'.isScored']=![],await updateDoc(_0x22513d,_0x4028a0),liveGameView[_0xcb9749(0x22a)]=_0xcb9749(0xa75);}function showAdminSummaryView(_0x13d02e,_0x356a88){const _0x2d41cc=_0xc7d29a,_0x198b6e=Object[_0x2d41cc(0xc37)](_0x13d02e[_0x2d41cc(0x14d)]||{}),_0x4a7844=_0x356a88[_0x2d41cc(0xd53)]||currentQuizData[_0x2d41cc(0x7f3)],_0x5b8245=_0x4a7844===_0x2d41cc(0x206)?[_0x2d41cc(0x304),'ไม่ใช่']:_0x356a88[_0x2d41cc(0x764)]||_0x356a88[_0x2d41cc(0x872)]||[],_0x1b908c={},_0x3fa39f=new Array(_0x5b8245[_0x2d41cc(0x3bb)])[_0x2d41cc(0x1ba)](0x0);_0x5b8245[_0x2d41cc(0x3f4)]((_0x22c753,_0x2658fe)=>{_0x1b908c[_0x2658fe]=[];}),Object['entries'](_0x13d02e[_0x2d41cc(0x14d)]||{})[_0x2d41cc(0x3f4)](([_0xadd18f,_0x89ef1f])=>{const _0x1dcddb=_0x2d41cc;if(_0x89ef1f[_0x1dcddb(0x20a)]===_0x1dcddb(0xb26)&&_0x89ef1f[_0x1dcddb(0x4ce)]!==undefined){const _0x4af41e=_0x89ef1f[_0x1dcddb(0x4ce)];_0x1b908c[_0x4af41e]&&(_0x1b908c[_0x4af41e][_0x1dcddb(0x77f)](_0xadd18f),_0x3fa39f[_0x4af41e]++);}});const _0x3dea8f=Math[_0x2d41cc(0xa73)](..._0x3fa39f,0x1),_0x3f7e71=_0x2d41cc(0x1df)+(_0x356a88['stem']||_0x356a88[_0x2d41cc(0x3ab)])+_0x2d41cc(0x629)+_0x3fa39f['map']((_0x23712c,_0x477df6)=>{const _0x59a0d6=_0x2d41cc,_0x3872d0=_0x1b908c[_0x477df6][_0x59a0d6(0x3bb)]>0x0?_0x1b908c[_0x477df6][_0x59a0d6(0x922)](',\x20'):_0x59a0d6(0x14c);let _0x135d8c=![];if(_0x4a7844===_0x59a0d6(0xc7b))_0x135d8c=_0x477df6===_0x356a88[_0x59a0d6(0xcd4)];else{if(_0x4a7844===_0x59a0d6(0x206)){const _0xda0002=_0x356a88[_0x59a0d6(0x124)];_0x135d8c=_0xda0002&&_0x477df6===0x0||!_0xda0002&&_0x477df6===0x1;}else _0x4a7844===_0x59a0d6(0x6cf)&&(_0x135d8c=_0x5b8245[_0x477df6]===_0x356a88['correctResponse']);}const _0x2169f9=_0x135d8c?'#26890c':_0x59a0d6(0xb37);return _0x59a0d6(0x977)+_0x23712c+_0x59a0d6(0x1a5)+_0x2169f9+_0x59a0d6(0xc3a)+_0x477df6+_0x59a0d6(0x232)+_0x5b8245[_0x477df6]+_0x59a0d6(0x5b4)+_0x477df6+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3872d0+_0x59a0d6(0x3ef);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x2d41cc(0x22a)]=_0x3f7e71;if(window[_0x2d41cc(0x608)])MathJax[_0x2d41cc(0x31d)]();document[_0x2d41cc(0x8cb)](_0x2d41cc(0x722))[_0x2d41cc(0x38d)]('click',async()=>{const _0x1802ef=_0x2d41cc,_0x134bfb=doc(db,_0x1802ef(0x9c2)+appId+_0x1802ef(0x927),currentLiveGameId);await updateDoc(_0x134bfb,{'questionStatus':'leaderboard'});}),document[_0x2d41cc(0x8cb)](_0x2d41cc(0x9ca))['addEventListener']('click',()=>{openScratchpad(_0x356a88,_0x5b8245);});}function showPlayerSummaryView(_0x28ba1e,_0x488ef7){const _0x3f1654=_0xc7d29a,_0x2ec289=Object[_0x3f1654(0xc37)](_0x28ba1e[_0x3f1654(0x14d)]||{}),_0x258b7f=_0x28ba1e[_0x3f1654(0x14d)][_0x488ef7],_0x3b2bd4=_0x2ec289[_0x3f1654(0xb8e)](_0x30a627=>_0x30a627['status']===_0x3f1654(0xb26))['sort']((_0x5a1cec,_0x33ecd5)=>_0x33ecd5[_0x3f1654(0x1f9)]-_0x5a1cec['score']),_0x3a999c=_0x3b2bd4[_0x3f1654(0x57c)](_0x255c95=>_0x255c95===_0x258b7f)+0x1,_0x3aeea3=_0x258b7f[_0x3f1654(0x775)]?_0x3f1654(0x643):_0x3f1654(0x2b4),_0x37d4fd=_0x258b7f[_0x3f1654(0x775)]?_0x3f1654(0x162):'bg-red-500',_0x49fc62=_0x258b7f[_0x3f1654(0xb0a)]||0x0,_0x1f92cd=_0x3f1654(0x877),_0x533f24=_0x3f1654(0xc0d)+_0x1f92cd+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x37d4fd+_0x3f1654(0x24b)+_0x3aeea3+_0x3f1654(0xa3e)+_0x49fc62+_0x3f1654(0x6e3)+(_0x3a999c>0x0?_0x3a999c:'-')+_0x3f1654(0xc73);liveGameView['innerHTML']=_0x533f24;}function createQuizFromBank(){const _0x1b99e0=_0xc7d29a,_0x290a97=document['querySelectorAll'](_0x1b99e0(0xdeb));if(_0x290a97[_0x1b99e0(0x3bb)]===0x0){showMessage(_0x1b99e0(0xa11));return;}const _0x2334bc=[];_0x290a97[_0x1b99e0(0x3f4)](_0x12581f=>{const _0x263a6c=_0x1b99e0;_0x2334bc[_0x263a6c(0x77f)](JSON['parse'](_0x12581f[_0x263a6c(0xb66)]));});const _0x3db58c={'topic':_0x1b99e0(0x65a),'questions':_0x2334bc};displayGeneratedQuiz(_0x3db58c);}function showAdminLobbyView(_0x3c26aa,_0x5d23df){const _0x3b924c=_0xc7d29a;showView(_0x3b924c(0xcb9));const _0x369b90=_0x3b924c(0x5d9)+_0x5d23df+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x3c26aa+_0x3b924c(0xda4);liveGameView['innerHTML']=_0x369b90,document['getElementById']('start-game-btn')['addEventListener'](_0x3b924c(0x9b4),async()=>{const _0x5dcdbc=_0x3b924c;if(!currentQuizData||!currentQuizData[_0x5dcdbc(0x763)]||currentQuizData[_0x5dcdbc(0x763)][_0x5dcdbc(0x3bb)]===0x0){showMessage(_0x5dcdbc(0x404));return;}try{const _0x1065e5=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x1065e5,{'status':_0x5dcdbc(0x5e5),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2b6358=currentQuizData[_0x5dcdbc(0x763)][0x0],_0xeb97e3=currentQuizData[_0x5dcdbc(0x763)][_0x5dcdbc(0x3bb)];showAdminLiveQuestionView(_0x2b6358,0x0,_0xeb97e3);}catch(_0x3f2bf0){console[_0x5dcdbc(0x3e8)]('Error\x20starting\x20game:',_0x3f2bf0),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x186aad=_0xc7d29a;if(allQuizzesGlobal[_0x186aad(0x3bb)]===0x0){const _0x2386e5=await getDocs(collection(db,_0x186aad(0x9c2)+appId+_0x186aad(0x843)));allQuizzesGlobal=_0x2386e5[_0x186aad(0xd86)]['map'](_0xfdead2=>({'id':_0xfdead2['id'],..._0xfdead2[_0x186aad(0x241)]()}));}renderQuizBankList(''),document[_0x186aad(0x8cb)](_0x186aad(0xb29))[_0x186aad(0x144)][_0x186aad(0xc8b)]('hidden');}function renderQuizBankList(_0xa8b010='',_0x3a5752=![]){const _0xcce7ac=_0xc7d29a,_0x49f6e8=document[_0xcce7ac(0x8cb)](_0xcce7ac(0x197)),_0x479963=_0xa8b010[_0xcce7ac(0xdfe)]()[_0xcce7ac(0x649)](),_0x353ad1=allQuizzesGlobal[_0xcce7ac(0x283)](_0x468951=>({..._0x468951,'projectName':allProjects['find'](_0x99264d=>_0x99264d['id']===_0x468951[_0xcce7ac(0x8d2)])?.[_0xcce7ac(0xde4)]||'N/A'}))[_0xcce7ac(0xb8e)](_0x46f714=>(_0x46f714['topic']||'')[_0xcce7ac(0xdfe)]()[_0xcce7ac(0xd33)](_0x479963)||(_0x46f714[_0xcce7ac(0xde4)]||'')[_0xcce7ac(0xdfe)]()[_0xcce7ac(0xd33)](_0x479963)||_0x46f714['id'][_0xcce7ac(0x225)]()[_0xcce7ac(0xd33)](_0x479963));document[_0xcce7ac(0x8cb)](_0xcce7ac(0x154))[_0xcce7ac(0x1ae)]='('+_0x353ad1[_0xcce7ac(0x3bb)]+_0xcce7ac(0x1e3),_0x49f6e8[_0xcce7ac(0x22a)]=_0x353ad1[_0xcce7ac(0x3bb)]?_0x353ad1[_0xcce7ac(0x283)](_0x2758b9=>{const _0x309077=_0xcce7ac,_0x31301e=!_0x3a5752?_0x309077(0x9d6)+_0x2758b9['id']+_0x309077(0x674)+_0x2758b9['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2758b9['id']+_0x309077(0x4c2)+_0x2758b9['id']+_0x309077(0x193)+_0x2758b9['id']+_0x309077(0x5be)+_0x2758b9['id']+'\x22\x20data-topic=\x22'+_0x2758b9['topic']+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return _0x309077(0x483)+_0x2758b9['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x2758b9[_0x309077(0x664)]||_0x309077(0x62a))+_0x309077(0xac6)+(_0x2758b9[_0x309077(0x763)]?.['length']||0x0)+_0x309077(0x8c4)+_0x2758b9[_0x309077(0xde4)]+_0x309077(0x400)+_0x2758b9['id']+_0x309077(0x3bf)+_0x31301e+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0xcce7ac(0x922)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x3a5752&&(_0x49f6e8[_0xcce7ac(0xb9f)](_0xcce7ac(0xe5a))['forEach'](_0x4b47c6=>{const _0x35c66a=_0xcce7ac;_0x4b47c6[_0x35c66a(0x38d)](_0x35c66a(0x9b4),()=>{const _0x5071c9=_0x35c66a,_0x73db20=_0x4b47c6[_0x5071c9(0x5fd)]['id'];document[_0x5071c9(0x8cb)](_0x5071c9(0xb29))[_0x5071c9(0x144)]['add']('hidden'),showQuizDetailView(_0x73db20);});}),_0x49f6e8['querySelectorAll'](_0xcce7ac(0x18d))[_0xcce7ac(0x3f4)](_0x279f68=>{const _0xff11fc=_0xcce7ac;_0x279f68[_0xff11fc(0x38d)](_0xff11fc(0x9b4),_0x116b85=>{const _0x1f0244=_0xff11fc;_0x116b85[_0x1f0244(0x6e5)]();const _0x50e294=_0x279f68[_0x1f0244(0x5fd)]['id'],_0x2dc5ab=allQuizzesGlobal[_0x1f0244(0x7d2)](_0x59019a=>_0x59019a['id']===_0x50e294);_0x2dc5ab?(currentQuizData=_0x2dc5ab,document[_0x1f0244(0x8cb)](_0x1f0244(0xb29))[_0x1f0244(0x144)]['add']('hidden'),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x49f6e8[_0xcce7ac(0xb9f)](_0xcce7ac(0x1da))[_0xcce7ac(0x3f4)](_0x46c03e=>{const _0x365bd2=_0xcce7ac;_0x46c03e[_0x365bd2(0x38d)](_0x365bd2(0x9b4),_0x1b4a91=>{const _0x190954=_0x365bd2;_0x1b4a91[_0x190954(0x6e5)]();const _0xff7e2=_0x46c03e['dataset']['id'],_0xc478e4=allQuizzesGlobal[_0x190954(0x7d2)](_0x9259fd=>_0x9259fd['id']===_0xff7e2);_0xc478e4?(document[_0x190954(0x8cb)](_0x190954(0xb29))[_0x190954(0x144)]['add'](_0x190954(0x1c9)),handleGenerateParallelFromBank(_0xc478e4)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x49f6e8[_0xcce7ac(0xb9f)](_0xcce7ac(0x474))[_0xcce7ac(0x3f4)](_0x15bfe0=>{const _0x51ab2f=_0xcce7ac;_0x15bfe0[_0x51ab2f(0x38d)]('click',_0x57504b=>{const _0x1e396b=_0x51ab2f;_0x57504b[_0x1e396b(0x6e5)]();const _0x4a82d7=_0x15bfe0['dataset']['id'],_0x28291d=allQuizzesGlobal[_0x1e396b(0x7d2)](_0x2f67cf=>_0x2f67cf['id']===_0x4a82d7);_0x28291d?(document['getElementById']('quiz-bank-modal')[_0x1e396b(0x144)][_0x1e396b(0x743)]('hidden'),startPresentation(_0x28291d)):showMessage(_0x1e396b(0x47c));});}),_0x49f6e8[_0xcce7ac(0xb9f)](_0xcce7ac(0x2b7))[_0xcce7ac(0x3f4)](_0x49f774=>{const _0x543e97=_0xcce7ac;_0x49f774[_0x543e97(0x38d)]('click',_0x5d3981=>{const _0x1bf6e4=_0x543e97;_0x5d3981['stopPropagation']();const _0x525fd5=_0x49f774[_0x1bf6e4(0x5fd)]['id'];document[_0x1bf6e4(0x8cb)](_0x1bf6e4(0xb29))[_0x1bf6e4(0x144)]['add'](_0x1bf6e4(0x1c9)),handleMoveQuiz(_0x525fd5);});}),_0x49f6e8['querySelectorAll'](_0xcce7ac(0xa03))[_0xcce7ac(0x3f4)](_0x5a5614=>{const _0x583d41=_0xcce7ac;_0x5a5614['addEventListener'](_0x583d41(0x9b4),_0x9e8bc3=>{const _0x3e3c54=_0x583d41;_0x9e8bc3[_0x3e3c54(0x6e5)]();const _0x54007d=_0x5a5614[_0x3e3c54(0x5fd)]['id'];document[_0x3e3c54(0x8cb)](_0x3e3c54(0xb29))['classList']['add']('hidden'),handleQuizSettings(_0x54007d);});}),_0x49f6e8[_0xcce7ac(0xb9f)](_0xcce7ac(0x1e9))[_0xcce7ac(0x3f4)](_0x266fd5=>{const _0x42dc95=_0xcce7ac;_0x266fd5[_0x42dc95(0x38d)](_0x42dc95(0x9b4),_0x2f1688=>{const _0x2b3fbc=_0x42dc95;_0x2f1688[_0x2b3fbc(0x6e5)]();const _0x3e67cf=_0x266fd5[_0x2b3fbc(0x5fd)]['id'],_0x471ac5=_0x266fd5['dataset'][_0x2b3fbc(0x664)];showConfirmation(_0x2b3fbc(0xdd9)+_0x471ac5+_0x2b3fbc(0x84d),()=>handleDeleteQuiz(_0x3e67cf));});}));}async function handleCompareResults(_0x485810,_0x1aa241){const _0x28b056=_0xc7d29a,_0x2160e6=document[_0x28b056(0x8cb)](_0x28b056(0x50b)),_0x26dd92=document[_0x28b056(0x8cb)](_0x28b056(0x9df)),_0x4bfa5b=document[_0x28b056(0x8cb)](_0x28b056(0x2e3));document[_0x28b056(0x8cb)](_0x28b056(0x249))['classList'][_0x28b056(0x743)](_0x28b056(0xb26)),document['getElementById']('comparison-individual-tab')[_0x28b056(0x144)][_0x28b056(0xc8b)](_0x28b056(0xb26)),_0x26dd92[_0x28b056(0x144)][_0x28b056(0xc8b)](_0x28b056(0x1c9)),_0x4bfa5b[_0x28b056(0x144)][_0x28b056(0x743)](_0x28b056(0x1c9)),_0x26dd92[_0x28b056(0x22a)]=_0x28b056(0xe58),_0x4bfa5b[_0x28b056(0x22a)]='',_0x2160e6[_0x28b056(0x144)][_0x28b056(0xc8b)](_0x28b056(0x1c9));try{const _0xf0b187=doc(db,_0x28b056(0x9c2)+appId+_0x28b056(0x843),_0x485810),_0x3aa1b5=await getDoc(_0xf0b187);if(!_0x3aa1b5[_0x28b056(0x45f)]())throw new Error(_0x28b056(0xb6a));const _0x526440=_0x3aa1b5[_0x28b056(0x241)](),_0x5d0001=_0x526440[_0x28b056(0x763)]['length'],_0x460c6a=collection(db,_0x28b056(0x9c2)+appId+_0x28b056(0x360)+_0x1aa241+_0x28b056(0x17c)),_0x4c86de=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x485810+_0x28b056(0x17c)),[_0x4adce1,_0x37960a]=await Promise['all']([getDocs(_0x460c6a),getDocs(_0x4c86de)]),_0x5cb7df=_0x4adce1[_0x28b056(0xd86)][_0x28b056(0x283)](_0xcf301a=>_0xcf301a[_0x28b056(0x241)]()),_0x4a8664=_0x37960a[_0x28b056(0xd86)][_0x28b056(0x283)](_0x2a54d8=>_0x2a54d8[_0x28b056(0x241)]()),_0x38a670=_0x5cb7df['map'](_0xc217b4=>_0xc217b4[_0x28b056(0xbbc)]),_0x6bc134=_0x4a8664[_0x28b056(0x283)](_0x418931=>_0x418931[_0x28b056(0xbbc)]),_0x3b9b10=calculateMeanAndStdDev(_0x38a670),_0x588037=calculateMeanAndStdDev(_0x6bc134),_0x57d11f=_0x3b9b10[_0x28b056(0x384)],_0x133371=_0x588037[_0x28b056(0x384)],_0x2d7b87=_0x133371-_0x57d11f;let _0x14097c=_0x28b056(0xa0b)+_0x57d11f['toFixed'](0x2)+_0x28b056(0x5a3)+_0x133371[_0x28b056(0xd28)](0x2)+_0x28b056(0xdb9)+(_0x2d7b87>=0x0?'bg-emerald-100':_0x28b056(0x4af))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x2d7b87>=0x0?_0x28b056(0x931):_0x28b056(0xe1b))+_0x28b056(0xdb3)+(_0x2d7b87>=0x0?_0x28b056(0xca8):'text-red-900')+'\x22>'+(_0x2d7b87>=0x0?'+':'')+_0x2d7b87[_0x28b056(0xd28)](0x2)+_0x28b056(0x24f);_0x26dd92[_0x28b056(0x22a)]=_0x14097c;const _0x4e558b=document[_0x28b056(0x8cb)](_0x28b056(0x6d0))['getContext']('2d');if(chartInstances[_0x28b056(0x166)])chartInstances[_0x28b056(0x166)]['destroy']();chartInstances[_0x28b056(0x166)]=new Chart(_0x4e558b,{'type':'bar','data':{'labels':[_0x28b056(0x200)],'datasets':[{'label':_0x28b056(0x4c8),'data':[_0x57d11f],'backgroundColor':_0x28b056(0x534)},{'label':_0x28b056(0x402),'data':[_0x133371],'backgroundColor':_0x28b056(0x182)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x5d0001}}}});const _0x47b112=currentProjectData[_0x28b056(0xa0d)]||[],_0x53387d=_0x47b112['map'](_0x3767f5=>{const _0x5d9f2a=_0x28b056,_0x14b0bf=_0x5cb7df[_0x5d9f2a(0x7d2)](_0x350bb8=>_0x350bb8[_0x5d9f2a(0x1fe)]===_0x3767f5),_0x424793=_0x4a8664['find'](_0x4ab816=>_0x4ab816['studentName']===_0x3767f5),_0xc087b8=_0x14b0bf?_0x14b0bf[_0x5d9f2a(0xbbc)]:null,_0x22abaf=_0x424793?_0x424793[_0x5d9f2a(0xbbc)]:null,_0x1277dd=_0xc087b8!==null&&_0x22abaf!==null?_0x22abaf-_0xc087b8:null,_0x63b6fc=_0xc087b8!==null?calculateZScore(_0xc087b8,_0x3b9b10[_0x5d9f2a(0x384)],_0x3b9b10[_0x5d9f2a(0x5a8)]):null,_0x5eb627=_0x22abaf!==null?calculateZScore(_0x22abaf,_0x588037[_0x5d9f2a(0x384)],_0x588037['stdDev']):null,_0xb9f0fb=_0x63b6fc!==null?calculateTScore(_0x63b6fc):null,_0x2585f3=_0x5eb627!==null?calculateTScore(_0x5eb627):null,_0x5db317=_0xb9f0fb!==null&&_0x2585f3!==null?_0x2585f3-_0xb9f0fb:null;return{'name':_0x3767f5,'preScore':_0xc087b8,'postScore':_0x22abaf,'gain':_0x1277dd,'preTScore':_0xb9f0fb,'postTScore':_0x2585f3,'tGain':_0x5db317};});renderIndividualComparisonTable(_0x53387d,_0x4bfa5b);}catch(_0x3249eb){console['error'](_0x28b056(0x3f5),_0x3249eb),_0x26dd92[_0x28b056(0x22a)]=_0x28b056(0x863);}}async function saveBlueprintProject(){const _0x2ce539=_0xc7d29a;if(!extractedBlueprintData||!extractedBlueprintData[_0x2ce539(0x111)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x5996b2=prompt(_0x2ce539(0xb06),_0x2ce539(0x5aa));if(!_0x5996b2||_0x5996b2[_0x2ce539(0x649)]()==='')return;const _0x371db8={};extractedBlueprintData[_0x2ce539(0x111)][_0x2ce539(0x3f4)](_0x1aa8f6=>{const _0x49719f=_0x2ce539;_0x1aa8f6['mainTopics'][_0x49719f(0x3f4)](_0x3c6497=>{const _0x30b99f=_0x49719f;_0x3c6497[_0x30b99f(0x15f)]['forEach'](_0x490ebd=>{const _0x525290=_0x30b99f,_0x2e4096=_0x525290(0x43c)+Date['now']()+Math[_0x525290(0xe46)]()[_0x525290(0x225)](0x24)[_0x525290(0x4b3)](0x2,0x9);_0x371db8[_0x2e4096]={'sara':_0x1aa8f6[_0x525290(0xaed)],'mainTopic':_0x3c6497['topicName'],'subTopic':_0x490ebd,'status':'not_generated','lessonContent':null};});});});try{const _0x840782=collection(db,_0x2ce539(0x9c2)+appId+'/public/data/blueprintProjects');await addDoc(_0x840782,{'projectName':_0x5996b2[_0x2ce539(0x649)](),'gradeLevel':extractedBlueprintData[_0x2ce539(0x2c5)],'topics':_0x371db8,'createdAt':serverTimestamp()}),showMessage(_0x2ce539(0x17b)+_0x5996b2['trim']()+_0x2ce539(0xaf7)),document[_0x2ce539(0x8cb)](_0x2ce539(0xc3c))[_0x2ce539(0x144)][_0x2ce539(0x743)](_0x2ce539(0x1c9));}catch(_0x228cf8){console[_0x2ce539(0x3e8)](_0x2ce539(0x2e6),_0x228cf8),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}async function showBlueprintProjects(){const _0x1c7e3c=_0xc7d29a,_0x47ccf8=document[_0x1c7e3c(0x8cb)]('blueprint-projects-modal'),_0x9ca25f=document['getElementById'](_0x1c7e3c(0x4c4));_0x9ca25f[_0x1c7e3c(0x22a)]=_0x1c7e3c(0x88e),_0x47ccf8[_0x1c7e3c(0x144)][_0x1c7e3c(0xc8b)](_0x1c7e3c(0x1c9));try{const _0x1cc55f=collection(db,_0x1c7e3c(0x9c2)+appId+_0x1c7e3c(0x8a2)),_0x1373e9=await getDocs(_0x1cc55f);if(_0x1373e9[_0x1c7e3c(0x7de)]){_0x9ca25f[_0x1c7e3c(0x22a)]=_0x1c7e3c(0x5fe);return;}const _0x16b138=_0x1373e9['docs'][_0x1c7e3c(0x283)](_0x2db9cf=>({'id':_0x2db9cf['id'],..._0x2db9cf['data']()}));_0x16b138['sort']((_0xbb344a,_0x432456)=>_0xbb344a[_0x1c7e3c(0xde4)]['localeCompare'](_0x432456[_0x1c7e3c(0xde4)],'th')),_0x9ca25f['innerHTML']=_0x16b138['map'](_0x192fb1=>_0x1c7e3c(0xd4d)+_0x192fb1['projectName']+_0x1c7e3c(0x841)+_0x192fb1[_0x1c7e3c(0x2c5)]+_0x1c7e3c(0x88f)+Object[_0x1c7e3c(0xb23)](_0x192fb1[_0x1c7e3c(0x544)])[_0x1c7e3c(0x3bb)]+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x192fb1['id']+_0x1c7e3c(0x9f7)+_0x192fb1['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1c7e3c(0x922)]('');}catch(_0x38b96f){console[_0x1c7e3c(0x3e8)](_0x1c7e3c(0x3c3),_0x38b96f),_0x9ca25f[_0x1c7e3c(0x22a)]=_0x1c7e3c(0x3c7);}}async function displayBlueprintProjectManager(_0x31d4e0){const _0x31a461=_0xc7d29a;currentBlueprintProjectId=_0x31d4e0,document[_0x31a461(0x8cb)]('blueprint-projects-modal')[_0x31a461(0x144)]['add'](_0x31a461(0x1c9)),showView(_0x31a461(0x9db)),projectDashboardView['classList'][_0x31a461(0x743)]('hidden');const _0x1555ba=document[_0x31a461(0x8cb)]('blueprint-project-manager-view');_0x1555ba[_0x31a461(0x144)][_0x31a461(0xc8b)](_0x31a461(0x1c9)),document[_0x31a461(0x8cb)]('bp-topic-list-container')[_0x31a461(0x22a)]=_0x31a461(0xe58);try{const _0x47aa0a=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',_0x31d4e0),_0x4bd00c=await getDoc(_0x47aa0a);if(!_0x4bd00c[_0x31a461(0x45f)]())throw new Error(_0x31a461(0xe20));const _0x2dbd8e={'id':_0x4bd00c['id'],..._0x4bd00c[_0x31a461(0x241)]()};document['getElementById'](_0x31a461(0xa12))['textContent']=_0x2dbd8e[_0x31a461(0xde4)],document[_0x31a461(0x8cb)](_0x31a461(0xcaa))[_0x31a461(0xb66)]=_0x2dbd8e[_0x31a461(0x937)]||'',renderBlueprintTopicManager(_0x2dbd8e);}catch(_0x59973b){console['error'](_0x31a461(0x2ff),_0x59973b),showMessage(_0x59973b[_0x31a461(0xd5f)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x2db802){const _0x514900=_0xc7d29a,_0xed777=document[_0x514900(0x8cb)]('bp-topic-list-container'),_0x448933=_0x2db802['topics']||{};if(Object[_0x514900(0xb23)](_0x448933)['length']===0x0){_0xed777[_0x514900(0x22a)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x59f510=Object[_0x514900(0x9b1)](_0x448933)['map'](([_0x5e7913,_0x5cd26d])=>({'id':_0x5e7913,..._0x5cd26d}))[_0x514900(0x9a7)]((_0x43b614,_0x351bfd)=>(_0x43b614['order']??Infinity)-(_0x351bfd['order']??Infinity)),_0x23b4d6={};_0x59f510[_0x514900(0x3f4)](_0x1abbc8=>{const _0x5d8bd8=_0x514900,{sara:_0x40a3d4,mainTopic:_0x28d811}=_0x1abbc8;!_0x23b4d6[_0x40a3d4]&&(_0x23b4d6[_0x40a3d4]={}),!_0x23b4d6[_0x40a3d4][_0x28d811]&&(_0x23b4d6[_0x40a3d4][_0x28d811]=[]),_0x23b4d6[_0x40a3d4][_0x28d811][_0x5d8bd8(0x77f)](_0x1abbc8);});let _0x1e6d42='';for(const _0xe08cb8 in _0x23b4d6){_0x1e6d42+=_0x514900(0xe4)+_0xe08cb8+_0x514900(0x8fe);for(const _0x3f4e8e in _0x23b4d6[_0xe08cb8]){_0x1e6d42+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x3f4e8e+_0x514900(0x66f),_0x23b4d6[_0xe08cb8][_0x3f4e8e][_0x514900(0x3f4)](_0x4e93c9=>{const _0x48b182=_0x514900,_0x445845=_0x4e93c9['id'],_0x131f58=_0x4e93c9['linkedQuizIds']||[],_0xa99a61=_0x131f58[_0x48b182(0x3bb)]>0x0,_0x1e2c99=_0x4e93c9[_0x48b182(0x20a)]==='generated';let _0x550749='';_0xa99a61?_0x550749=_0x48b182(0x7ad)+_0x131f58['length']+_0x48b182(0xb6f):_0x550749=_0x48b182(0xbda)+(_0x1e2c99?_0x48b182(0xca7):_0x48b182(0x446))+'\x22>'+(_0x1e2c99?_0x48b182(0x59f):_0x48b182(0x5dc))+_0x48b182(0xd5c);const _0x4e1c86=!_0x1e2c99?_0x48b182(0x282):'',_0x3b7f82=!_0x1e2c99?_0x48b182(0x7da):'';let _0x386c80=_0x1e2c99?_0x48b182(0x847):_0x48b182(0xc4c);_0x1e6d42+=_0x48b182(0x186)+_0x445845+_0x48b182(0x2be)+_0x4e93c9[_0x48b182(0x216)]+_0x48b182(0x8e8)+_0x550749+_0x48b182(0xcd5)+_0x4e1c86+_0x48b182(0x96a)+_0x3b7f82+_0x48b182(0x3d5)+_0x386c80+_0x48b182(0x480);}),_0x1e6d42+=_0x514900(0x940);}_0x1e6d42+=_0x514900(0x1d2);}_0xed777[_0x514900(0x22a)]=_0x1e6d42;}async function handleDeepDeleteBlueprintProject(_0x1dbf56){const _0x45ff33=_0xc7d29a,_0x1ba19c=doc(db,_0x45ff33(0x9c2)+appId+_0x45ff33(0x8a2),_0x1dbf56),_0x533d35=await getDoc(_0x1ba19c);if(!_0x533d35['exists']()){showMessage(_0x45ff33(0x1ea));return;}const _0x1177bd=_0x533d35[_0x45ff33(0x241)]()[_0x45ff33(0xde4)];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x1177bd+_0x45ff33(0xe75),async()=>{const _0x264c03=_0x45ff33;showMessage(_0x264c03(0x405));try{const _0x47e709=writeBatch(db),_0x52ee3a=_0x533d35[_0x264c03(0x241)](),_0x2460f9=_0x52ee3a[_0x264c03(0x544)]||{};for(const _0xef3d61 in _0x2460f9){const _0x42a11a=doc(db,'artifacts/'+appId+_0x264c03(0x2eb)+_0x1dbf56+'/lessons',_0xef3d61);_0x47e709[_0x264c03(0x1f2)](_0x42a11a);}const _0x15a8e3=new Set();for(const _0x5de862 in _0x2460f9){_0x2460f9[_0x5de862][_0x264c03(0x6b7)]&&_0x2460f9[_0x5de862]['linkedQuizIds'][_0x264c03(0x3f4)](_0x606286=>_0x15a8e3['add'](_0x606286));}for(const _0x4a062e of _0x15a8e3){await handleDeleteQuiz(_0x4a062e,![]);}_0x47e709['delete'](_0x1ba19c),await _0x47e709[_0x264c03(0x6ea)](),showMessage(_0x264c03(0x54f)+_0x1177bd+'\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!'),showBlueprintProjects();}catch(_0x182be7){console[_0x264c03(0x3e8)](_0x264c03(0x513),_0x182be7),showMessage(_0x264c03(0xc4d));}});}async function openTopicQuizBank(_0x4a02c5){const _0x591165=_0xc7d29a,_0x29ed5d=document[_0x591165(0x8cb)]('topic-quiz-bank-modal'),_0x18024a=document[_0x591165(0x8cb)](_0x591165(0xa4c)),_0x312089=document[_0x591165(0x8cb)]('clear-all-links-btn');try{await ensureGlobalQuizzesLoaded();const _0x455e9e=doc(db,'artifacts/'+appId+_0x591165(0x8a2),currentBlueprintProjectId),_0x2d030d=await getDoc(_0x455e9e);if(!_0x2d030d[_0x591165(0x45f)]())return;const _0x145347=_0x2d030d[_0x591165(0x241)](),_0x1688e1=_0x145347[_0x591165(0x544)][_0x4a02c5];document[_0x591165(0x8cb)](_0x591165(0x3a6))['textContent']=_0x1688e1[_0x591165(0x216)];const _0x298a30=_0x1688e1['linkedQuizIds']||[];_0x312089['classList'][_0x591165(0x463)]('hidden',_0x298a30['length']===0x0),_0x312089[_0x591165(0x312)]=()=>handleClearAllLinksForTopic(_0x4a02c5);if(_0x298a30[_0x591165(0x3bb)]===0x0)_0x18024a[_0x591165(0x22a)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x38efdf=allQuizzesGlobal['filter'](_0x480241=>_0x298a30['includes'](_0x480241['id']));_0x18024a[_0x591165(0x22a)]=_0x38efdf[_0x591165(0x283)](_0x42689a=>_0x591165(0x79a)+_0x42689a['id']+_0x591165(0xb42)+_0x42689a[_0x591165(0x664)]+_0x591165(0xe35)+_0x42689a['id']+_0x591165(0x88f)+_0x42689a['questions'][_0x591165(0x3bb)]+_0x591165(0xba1)+_0x42689a['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22'+_0x42689a['id']+_0x591165(0xa1d)+_0x42689a['id']+_0x591165(0xbf7)+_0x42689a['id']+_0x591165(0x2f2)+_0x4a02c5+'\x22\x20data-quiz-id=\x22'+_0x42689a['id']+_0x591165(0xe4e))[_0x591165(0x922)]('');}document[_0x591165(0x8cb)](_0x591165(0xf9))[_0x591165(0x312)]=()=>{openQuizSelectorForBlueprint(_0x4a02c5);},document[_0x591165(0x8cb)](_0x591165(0xd4))[_0x591165(0x312)]=()=>_0x29ed5d['classList'][_0x591165(0x743)]('hidden'),_0x29ed5d[_0x591165(0x144)][_0x591165(0xc8b)](_0x591165(0x1c9));}catch(_0x229ef6){showMessage(_0x229ef6[_0x591165(0xd5f)]);}}async function openQuizSelectorForBlueprint(_0x180057){const _0x27c128=_0xc7d29a,_0x541798=document['getElementById'](_0x27c128(0xb29)),_0x1c05f2=document['getElementById'](_0x27c128(0x9c5));_0x1c05f2[_0x27c128(0x144)][_0x27c128(0x743)](_0x27c128(0x1c9)),document[_0x27c128(0x8cb)](_0x27c128(0xe00))?.[_0x27c128(0xc8b)]();const _0x447c5e=document[_0x27c128(0x4d6)](_0x27c128(0x1c6));_0x447c5e['id']=_0x27c128(0xe00),_0x447c5e['className']='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x447c5e['textContent']='เพิ่มรายการที่เลือก',_0x447c5e[_0x27c128(0xc2b)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x541798[_0x27c128(0x144)][_0x27c128(0xc8b)]('hidden'),renderQuizBankListForMultiSelect(''),document[_0x27c128(0x8cb)]('bulk-quiz-settings-btn')[_0x27c128(0x220)][_0x27c128(0xa5a)]=_0x27c128(0xcab),_0x541798[_0x27c128(0x947)]('.flex.justify-between.items-center')[_0x27c128(0x4cf)](_0x447c5e);const _0xaf5234=(_0x1339a9=![])=>{const _0x4cdb84=_0x27c128;_0x541798['classList'][_0x4cdb84(0x743)](_0x4cdb84(0x1c9)),document['getElementById'](_0x4cdb84(0x94a))[_0x4cdb84(0x220)][_0x4cdb84(0xa5a)]='flex',_0x447c5e[_0x4cdb84(0xc8b)](),_0x1339a9&&openTopicQuizBank(_0x180057);};_0x447c5e['onclick']=async()=>{const _0x5c42b4=_0x27c128,_0x533950=Array[_0x5c42b4(0x617)](document[_0x5c42b4(0xb9f)](_0x5c42b4(0xd9b)))[_0x5c42b4(0x283)](_0x2f9e00=>_0x2f9e00[_0x5c42b4(0xb66)]);if(_0x533950[_0x5c42b4(0x3bb)]===0x0)return;try{const _0x1dd152=doc(db,_0x5c42b4(0x9c2)+appId+_0x5c42b4(0x8a2),currentBlueprintProjectId),_0x114c69=(await getDoc(_0x1dd152))[_0x5c42b4(0x241)](),_0xad7e69=_0x114c69['topics'][_0x180057]['linkedQuizIds']||[],_0x1dddad=[...new Set([..._0xad7e69,..._0x533950])];await updateDoc(_0x1dd152,{['topics.'+_0x180057+_0x5c42b4(0x16c)]:_0x1dddad}),showMessage('เพิ่ม\x20'+_0x533950[_0x5c42b4(0x3bb)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0xaf5234(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1613f4){console[_0x5c42b4(0x3e8)](_0x5c42b4(0x86f),_0x1613f4);}},document[_0x27c128(0x8cb)](_0x27c128(0xb40))[_0x27c128(0x312)]=()=>_0xaf5234(!![]);}catch(_0x1a9649){showMessage(_0x1a9649[_0x27c128(0xd5f)]),_0x1c05f2[_0x27c128(0x144)][_0x27c128(0xc8b)](_0x27c128(0x1c9));}}function handleClearLinkedQuiz(_0x27c53c){const _0x3c10b0=_0xc7d29a;showConfirmation(_0x3c10b0(0xccd),async()=>{const _0x45a72b=_0x3c10b0;try{const _0x593736=doc(db,_0x45a72b(0x9c2)+appId+_0x45a72b(0x8a2),currentBlueprintProjectId);await updateDoc(_0x593736,{[_0x45a72b(0x68d)+_0x27c53c+_0x45a72b(0x7b1)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x302b14){console[_0x45a72b(0x3e8)](_0x45a72b(0x989),_0x302b14),showMessage(_0x45a72b(0x21e));}});}async function addTopicToProject(){const _0x416833=_0xc7d29a,_0x3db083=prompt(_0x416833(0x5fc));if(!_0x3db083||_0x3db083[_0x416833(0x649)]()==='')return;const _0x219c00=prompt('อยู่ในสาระการเรียนรู้ใด:',_0x416833(0xeb)),_0x16e820=prompt('อยู่ในหัวข้อหลักใด:',_0x416833(0xb61)),_0x8d143e=_0x416833(0x43c)+Date['now']()+Math[_0x416833(0xe46)]()[_0x416833(0x225)](0x24)[_0x416833(0x4b3)](0x2,0x9),_0x36bec9={'sara':_0x219c00,'mainTopic':_0x16e820,'subTopic':_0x3db083[_0x416833(0x649)](),'status':_0x416833(0x996),'lessonContent':null};try{const _0x1c8fd0=doc(db,_0x416833(0x9c2)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x1c8fd0,{['topics.'+_0x8d143e]:_0x36bec9}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x133553){console[_0x416833(0x3e8)](_0x416833(0x9ad),_0x133553),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x13a8cd){const _0x4ff28c=_0xc7d29a,_0x15f4eb=document[_0x4ff28c(0x947)](_0x4ff28c(0xb1c)+_0x13a8cd+'\x22]'),_0xd56020=_0x15f4eb[_0x4ff28c(0x947)](_0x4ff28c(0x63d)),_0x3b5dd9=_0xd56020['textContent'],_0x30e41f=prompt(_0x4ff28c(0x729),_0x3b5dd9);if(!_0x30e41f||_0x30e41f[_0x4ff28c(0x649)]()===''||_0x30e41f[_0x4ff28c(0x649)]()===_0x3b5dd9)return;try{const _0x3dd407=doc(db,_0x4ff28c(0x9c2)+appId+_0x4ff28c(0x8a2),currentBlueprintProjectId);await updateDoc(_0x3dd407,{['topics.'+_0x13a8cd+_0x4ff28c(0x357)]:_0x30e41f[_0x4ff28c(0x649)]()}),_0xd56020[_0x4ff28c(0x1ae)]=_0x30e41f['trim'](),showMessage(_0x4ff28c(0xb13));}catch(_0x463ac9){console['error']('Error\x20editing\x20topic:',_0x463ac9),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x130a0a){const _0x4fa77f=_0xc7d29a;if(!confirm(_0x4fa77f(0xdb1)))return;try{const _0x427070=doc(db,_0x4fa77f(0x9c2)+appId+_0x4fa77f(0x8a2),currentBlueprintProjectId);await updateDoc(_0x427070,{['topics.'+_0x130a0a]:deleteField()}),document[_0x4fa77f(0x947)](_0x4fa77f(0xb1c)+_0x130a0a+'\x22]')[_0x4fa77f(0xc8b)](),showMessage(_0x4fa77f(0xb1f));}catch(_0x2a0ba2){console[_0x4fa77f(0x3e8)](_0x4fa77f(0xf5),_0x2a0ba2),showMessage(_0x4fa77f(0x727));}}async function generateAndSaveLessonForBlueprint(_0x33ab76,_0x10dfd2,_0x35cba8){handleGenerateAndShowLesson(_0x10dfd2,_0x35cba8);const _0x3f42f3=setInterval(async()=>{const _0x2d3267=_0x3c23,_0x363cb3=document[_0x2d3267(0x8cb)](_0x2d3267(0x774)),_0x196333=_0x363cb3[_0x2d3267(0x144)][_0x2d3267(0x3c8)]('hidden');if(_0x196333){clearInterval(_0x3f42f3);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x7cc8ea={'point':document[_0x2d3267(0x8cb)]('pointContent')[_0x2d3267(0x22a)],'memory':document['getElementById'](_0x2d3267(0x7cc))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x2d3267(0x8cb)](_0x2d3267(0x7af))[_0x2d3267(0x22a)]};try{const _0x1c756b=doc(db,_0x2d3267(0x9c2)+appId+_0x2d3267(0x8a2),currentBlueprintProjectId),_0x151887=doc(db,'artifacts/'+appId+_0x2d3267(0x2eb)+currentBlueprintProjectId+_0x2d3267(0x9e5),_0x33ab76),_0x4b5d27=writeBatch(db);_0x4b5d27['set'](_0x151887,{'content':_0x7cc8ea}),_0x4b5d27['update'](_0x1c756b,{[_0x2d3267(0x68d)+_0x33ab76+_0x2d3267(0xd3a)]:_0x2d3267(0x1e5)}),await _0x4b5d27[_0x2d3267(0x6ea)](),console[_0x2d3267(0xcde)](_0x2d3267(0xad)+_0x33ab76+_0x2d3267(0xb7c)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5b60c7){console['error'](_0x2d3267(0x118),_0x5b60c7);}}}},0x3e8);}function displayHalfMarkResult(_0x1bc2c6,_0x238590){const _0x189301=_0xc7d29a,_0x40874b=_0x1bc2c6>=_0x238590/0x2,_0x547182=_0x40874b?'bg-green-100':_0x189301(0x4af),_0x2c87bd=_0x40874b?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x4a6369=_0x40874b?_0x189301(0xba0):'text-red-800',_0x45f522=_0x40874b?_0x189301(0xd51):'คะแนนยังไม่ถึงครึ่ง',_0x4bb7ea=_0x40874b?_0x189301(0xa78):_0x189301(0x4a8);let _0xb53031=_0x189301(0x2de)+_0x547182+_0x189301(0xa45)+_0x2c87bd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x4a6369+_0x189301(0x846)+_0x45f522+_0x189301(0x97c)+_0x4bb7ea+_0x189301(0xab7);studentResultArea[_0x189301(0x22a)]=_0xb53031,studentResultArea[_0x189301(0x144)][_0x189301(0xc8b)](_0x189301(0x1c9)),studentQuizArea[_0x189301(0x144)][_0x189301(0x743)](_0x189301(0x1c9)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x40874b});}function displayPerfectScoreResult(_0x4c0913,_0xe3588e){const _0x4a58a9=_0xc7d29a,_0x17aff1=_0x4c0913===_0xe3588e,_0x36d44c=_0x17aff1?_0x4a58a9(0x5ae):_0x4a58a9(0x834),_0x3d512d=_0x17aff1?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x3174d3=_0x17aff1?_0x4a58a9(0x4c5):_0x4a58a9(0x71f),_0x3a8119=_0x17aff1?_0x4a58a9(0x859):'ยังไม่เต็มนะ',_0x426589=_0x17aff1?_0x4a58a9(0xad2):_0x4a58a9(0x2c6);let _0x4ef0d0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x36d44c+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d512d+_0x4a58a9(0x639)+_0x3174d3+_0x4a58a9(0x846)+_0x3a8119+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x426589+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x4a58a9(0x22a)]=_0x4ef0d0,studentResultArea['classList']['remove'](_0x4a58a9(0x1c9)),studentQuizArea[_0x4a58a9(0x144)]['add'](_0x4a58a9(0x1c9)),setupResultScreenBackButton({'showRankings':![],'score':_0x4c0913,'totalQuestions':_0xe3588e});}function renderIndividualComparisonTable(_0x30ff4c,_0x450f96){const _0xca46c7=_0xc7d29a;_0x30ff4c['sort']((_0x347f85,_0x4fd778)=>(_0x4fd778[_0xca46c7(0xd6f)]??-Infinity)-(_0x347f85[_0xca46c7(0xd6f)]??-Infinity));let _0x586527='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x30ff4c[_0xca46c7(0x3bb)]===0x0?_0x586527+=_0xca46c7(0x746):_0x30ff4c[_0xca46c7(0x3f4)]((_0x10a47c,_0x4a1b2e)=>{const _0x5d9bd9=_0xca46c7;let _0x29525f='-',_0x1fce9a='';if(_0x10a47c[_0x5d9bd9(0xa92)]!==null){const _0x2a037b=_0x10a47c[_0x5d9bd9(0xa92)]>0x0?'text-green-600':_0x10a47c[_0x5d9bd9(0xa92)]<0x0?_0x5d9bd9(0xb1):_0x5d9bd9(0x891),_0x45d6bf=_0x10a47c[_0x5d9bd9(0xa92)]>0x0?'+':'';_0x29525f=_0x5d9bd9(0x822)+_0x2a037b+'\x22>'+_0x45d6bf+_0x10a47c[_0x5d9bd9(0xa92)]+_0x5d9bd9(0xd5c);if(_0x10a47c[_0x5d9bd9(0xa92)]>0x0)_0x1fce9a=_0x5d9bd9(0x27d);else _0x10a47c[_0x5d9bd9(0xa92)]<0x0?_0x1fce9a=_0x5d9bd9(0xcff):_0x1fce9a=_0x5d9bd9(0xa52);}let _0x1764ec='-';if(_0x10a47c['tGain']!==null){const _0x1ee6a2=_0x10a47c['tGain']>0x0?_0x5d9bd9(0x17f):_0x10a47c[_0x5d9bd9(0xd6f)]<0x0?_0x5d9bd9(0xb1):_0x5d9bd9(0x891),_0x1e8f20=_0x10a47c[_0x5d9bd9(0xd6f)]>0x0?'+':'';_0x1764ec=_0x5d9bd9(0x822)+_0x1ee6a2+'\x22>'+_0x1e8f20+_0x10a47c[_0x5d9bd9(0xd6f)][_0x5d9bd9(0xd28)](0x2)+'</span>';}_0x586527+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x4a1b2e+0x1)+_0x5d9bd9(0x240)+_0x10a47c[_0x5d9bd9(0xa48)]+_0x5d9bd9(0x50d)+(_0x10a47c[_0x5d9bd9(0xc27)]??'-')+_0x5d9bd9(0x562)+(_0x10a47c[_0x5d9bd9(0xaf1)]??'-')+_0x5d9bd9(0x50d)+_0x29525f+_0x5d9bd9(0x1bf)+_0x1fce9a+_0x5d9bd9(0xa76)+(_0x10a47c[_0x5d9bd9(0x7c8)]?.[_0x5d9bd9(0xd28)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>'+(_0x10a47c['postTScore']?.['toFixed'](0x2)??'-')+_0x5d9bd9(0x50d)+_0x1764ec+_0x5d9bd9(0x3ed);}),_0x586527+=_0xca46c7(0x243),_0x450f96[_0xca46c7(0x22a)]=_0x586527;}function handleRenameQuiz(_0x1f8ce3,_0x98b6cb){const _0x3604c3=_0xc7d29a;actionTargetId=_0x1f8ce3,document['getElementById']('rename-quiz-input')[_0x3604c3(0xb66)]=_0x98b6cb,renameQuizModal[_0x3604c3(0x144)][_0x3604c3(0xc8b)](_0x3604c3(0x1c9));}function setupComparisonModalTabs(){const _0x3bf0cc=_0xc7d29a,_0x3afdd8=document[_0x3bf0cc(0x8cb)]('comparison-overall-tab'),_0x7d9c37=document[_0x3bf0cc(0x8cb)](_0x3bf0cc(0x21a)),_0x45ac07=document[_0x3bf0cc(0x8cb)]('comparison-overall-content'),_0x40607b=document[_0x3bf0cc(0x8cb)]('comparison-individual-content');_0x3afdd8['addEventListener'](_0x3bf0cc(0x9b4),()=>{const _0x535b3f=_0x3bf0cc;_0x3afdd8['classList'][_0x535b3f(0x743)](_0x535b3f(0xb26)),_0x7d9c37[_0x535b3f(0x144)]['remove'](_0x535b3f(0xb26)),_0x45ac07[_0x535b3f(0x144)][_0x535b3f(0xc8b)](_0x535b3f(0x1c9)),_0x40607b[_0x535b3f(0x144)][_0x535b3f(0x743)](_0x535b3f(0x1c9));}),_0x7d9c37[_0x3bf0cc(0x38d)](_0x3bf0cc(0x9b4),()=>{const _0x881aa6=_0x3bf0cc;_0x7d9c37[_0x881aa6(0x144)][_0x881aa6(0x743)](_0x881aa6(0xb26)),_0x3afdd8['classList'][_0x881aa6(0xc8b)](_0x881aa6(0xb26)),_0x40607b[_0x881aa6(0x144)]['remove'](_0x881aa6(0x1c9)),_0x45ac07['classList'][_0x881aa6(0x743)](_0x881aa6(0x1c9));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x2237f0=_0xc7d29a;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x260b67=doc(db,_0x2237f0(0x9c2)+appId+_0x2237f0(0x927),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x260b67,_0x335bb4=>{const _0x5a0caa=_0x2237f0;if(!_0x335bb4[_0x5a0caa(0x45f)]()){showMessage(_0x5a0caa(0xce3));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x5a0caa(0x87c)?showView(_0x5a0caa(0x753)):showView(_0x5a0caa(0x24c));return;}const _0x1b365f=_0x335bb4[_0x5a0caa(0x241)]();_0x1b365f[_0x5a0caa(0xb2d)]&&(currentQuizData=_0x1b365f['shuffledQuiz']);!currentQuizData&&_0x1b365f[_0x5a0caa(0x9fe)]&&((async()=>{const _0x30914e=_0x5a0caa;try{const _0x456d2b=doc(db,_0x30914e(0x9c2)+appId+_0x30914e(0x843),_0x1b365f[_0x30914e(0x9fe)]),_0x4d7e78=await getDoc(_0x456d2b);_0x4d7e78[_0x30914e(0x45f)]()&&(currentQuizData={'id':_0x4d7e78['id'],..._0x4d7e78['data']()});}catch(_0x36d237){console[_0x30914e(0x3e8)](_0x30914e(0x42c),_0x36d237);}})());switch(_0x1b365f[_0x5a0caa(0x20a)]){case _0x5a0caa(0x130):if(currentMode===_0x5a0caa(0x87c)){const _0x29d56f=_0x1b365f[_0x5a0caa(0x14d)]?Object['entries'](_0x1b365f['players']):[],_0x1ce7b9=_0x29d56f['filter'](([_0x38bc6c,_0x7d1238])=>_0x7d1238['status']===_0x5a0caa(0xb26)),_0x37426d=document[_0x5a0caa(0x8cb)](_0x5a0caa(0x4b7));if(_0x37426d)_0x37426d[_0x5a0caa(0x1ae)]=_0x1ce7b9[_0x5a0caa(0x3bb)];const _0x3f58e9=document[_0x5a0caa(0x8cb)](_0x5a0caa(0x27a));_0x3f58e9&&(_0x3f58e9[_0x5a0caa(0x22a)]=_0x1ce7b9['map'](([_0x44f87b,_0x1cb690])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x44f87b+_0x5a0caa(0xe33)+_0x44f87b+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''));const _0x583c19=document[_0x5a0caa(0x8cb)](_0x5a0caa(0x7a0));_0x583c19&&(_0x583c19[_0x5a0caa(0xc2b)]=_0x1ce7b9[_0x5a0caa(0x3bb)]===0x0);}else showView(_0x5a0caa(0xcb9)),liveGameView[_0x5a0caa(0x22a)]=_0x5a0caa(0xe3c)+currentStudentName+_0x5a0caa(0xa94);break;case _0x5a0caa(0x5e5):const _0x155a22=_0x1b365f['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x5a0caa(0x763)][_0x155a22]){const _0x5bd6fd=currentQuizData['questions'][_0x155a22],_0xcf19db=_0x1b365f[_0x5a0caa(0x122)]||_0x5a0caa(0xbb9);switch(_0xcf19db){case'summary_chart':currentMode==='admin'?showAdminSummaryView(_0x1b365f,_0x5bd6fd):showPlayerSummaryView(_0x1b365f,currentStudentName);break;case _0x5a0caa(0xd30):currentMode===_0x5a0caa(0x87c)&&showTop5LeaderboardView(_0x1b365f);break;case'answering':default:if(currentMode===_0x5a0caa(0x87c)){const _0x219475=writeBatch(db);let _0x3e30b0=![];Object['entries'](_0x1b365f[_0x5a0caa(0x14d)])['forEach'](([_0x30a057,_0x227dcc])=>{const _0x26eca1=_0x5a0caa;if(_0x227dcc['status']===_0x26eca1(0xb26)&&_0x227dcc[_0x26eca1(0x85e)]&&!_0x227dcc[_0x26eca1(0x98f)]){_0x3e30b0=!![];const _0x12609d=_0x227dcc[_0x26eca1(0x85e)]['toDate']()-_0x1b365f[_0x26eca1(0x1f8)]['toDate']();let _0x131cff=0x0;if(_0x227dcc['lastAnswerCorrect']){const _0x3fe09d=0x3e8,_0x17a9e2=0x1f4,_0x3a3ab2=0x4e20;let _0x113eb7=_0x12609d/_0x3a3ab2;if(_0x113eb7>0x1)_0x113eb7=0x1;const _0x45dadb=Math[_0x26eca1(0x72a)](_0x113eb7*_0x17a9e2);_0x131cff=_0x3fe09d-_0x45dadb;}const _0x5c4e9e=doc(db,_0x26eca1(0x9c2)+appId+_0x26eca1(0x927),currentLiveGameId);_0x219475[_0x26eca1(0x733)](_0x5c4e9e,{['players.'+_0x30a057+_0x26eca1(0xdc0)]:increment(_0x131cff),[_0x26eca1(0x770)+_0x30a057+_0x26eca1(0x38c)]:_0x131cff,['players.'+_0x30a057+_0x26eca1(0x7e0)]:!![]});}});_0x3e30b0&&_0x219475['commit']()[_0x5a0caa(0xa65)](_0x3ff6b8=>console[_0x5a0caa(0x3e8)](_0x5a0caa(0x966),_0x3ff6b8));lastRenderedAdminQuestionIndex!==_0x155a22&&(showAdminLiveQuestionView(_0x5bd6fd,_0x155a22,currentQuizData[_0x5a0caa(0x763)][_0x5a0caa(0x3bb)]),lastRenderedAdminQuestionIndex=_0x155a22);const _0x4bc99a=_0x1b365f[_0x5a0caa(0x14d)]||{},_0x304fc3=Object[_0x5a0caa(0xc37)](_0x4bc99a)[_0x5a0caa(0xb8e)](_0x4554d4=>_0x4554d4[_0x5a0caa(0x20a)]==='active'),_0x288a8b=_0x304fc3[_0x5a0caa(0x3bb)],_0x5b5142=_0x304fc3[_0x5a0caa(0xb8e)](_0x11cbcb=>_0x11cbcb[_0x5a0caa(0x98b)]===!![])['length'],_0x5cb108=document[_0x5a0caa(0x8cb)](_0x5a0caa(0xc0));if(_0x5cb108)_0x5cb108[_0x5a0caa(0x1ae)]=_0x5b5142+'/'+_0x288a8b;const _0x4c2427=document['getElementById'](_0x5a0caa(0x433));if(_0x4c2427){let _0xc924fc=Object[_0x5a0caa(0x9b1)](_0x4bc99a)['filter'](([_0x198999,_0x17105a])=>_0x17105a[_0x5a0caa(0x20a)]===_0x5a0caa(0xb26))[_0x5a0caa(0x283)](([_0x3430e7,_0x4fef1b])=>{const _0x48e47c=_0x5a0caa,_0xa8f6c0=_0x4fef1b[_0x48e47c(0x98b)]===!![],_0x3dc804=_0xa8f6c0?_0x48e47c(0x162):'bg-gray-500',_0x27baa2=_0xa8f6c0?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x48e47c(0x593);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x3dc804+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x27baa2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3430e7+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x3430e7+_0x48e47c(0x53b);})[_0x5a0caa(0x922)]('');_0x4c2427[_0x5a0caa(0x22a)]=_0xc924fc||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x288a8b>0x0&&_0x5b5142===_0x288a8b&&revealAnswerForAdmin(_0x155a22,currentQuizData['questions'][_0x5a0caa(0x3bb)]);}else{const _0x37152b=_0x1b365f[_0x5a0caa(0x14d)][currentStudentName];_0x37152b&&!_0x37152b[_0x5a0caa(0x98b)]&&showStudentLiveQuestionView(_0x5bd6fd,_0x155a22,currentQuizData[_0x5a0caa(0x763)][_0x5a0caa(0x3bb)]);}break;}}break;case _0x5a0caa(0xba3):showPodiumView(_0x1b365f[_0x5a0caa(0x14d)],_0x5a0caa(0xdbb));break;}});}async function openGlobalActivityModal(){const _0x3c754f=_0xc7d29a;if(allQuizzesGlobal[_0x3c754f(0x3bb)]===0x0){const _0x31f784=await getDocs(collection(db,_0x3c754f(0x9c2)+appId+_0x3c754f(0x843)));allQuizzesGlobal=_0x31f784[_0x3c754f(0xd86)][_0x3c754f(0x283)](_0x4c5b7e=>({'id':_0x4c5b7e['id'],..._0x4c5b7e['data']()}));}renderGlobalActivityList(''),document[_0x3c754f(0x8cb)](_0x3c754f(0xadc))[_0x3c754f(0x144)]['remove']('hidden');}function renderGlobalActivityList(_0x3d1b5c=''){const _0x18aa3e=_0xc7d29a,_0x457e76=document[_0x18aa3e(0x8cb)](_0x18aa3e(0xa80)),_0x5eb777=_0x3d1b5c[_0x18aa3e(0xdfe)]()['trim'](),_0xf2dbce=allQuizzesGlobal[_0x18aa3e(0x283)](_0x38e374=>({..._0x38e374,'projectName':allProjects['find'](_0x569c9d=>_0x569c9d['id']===_0x38e374[_0x18aa3e(0x8d2)])?.[_0x18aa3e(0xde4)]||_0x18aa3e(0x89b)}))[_0x18aa3e(0xb8e)](_0x2fe778=>(_0x2fe778[_0x18aa3e(0x664)]||'')[_0x18aa3e(0xdfe)]()[_0x18aa3e(0xd33)](_0x5eb777)||(_0x2fe778[_0x18aa3e(0xde4)]||'')[_0x18aa3e(0xdfe)]()['includes'](_0x5eb777));document[_0x18aa3e(0x8cb)](_0x18aa3e(0x4d5))[_0x18aa3e(0x1ae)]='('+_0xf2dbce[_0x18aa3e(0x3bb)]+_0x18aa3e(0x1e3),_0x457e76[_0x18aa3e(0x22a)]=_0xf2dbce[_0x18aa3e(0x3bb)]?_0xf2dbce['map'](_0x35064b=>_0x18aa3e(0x6f5)+(_0x35064b[_0x18aa3e(0x664)]||_0x18aa3e(0x62a))+_0x18aa3e(0x79e)+(_0x35064b[_0x18aa3e(0x763)]?.[_0x18aa3e(0x3bb)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x35064b['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x35064b['id']+_0x18aa3e(0xcb2)+_0x35064b['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')['join'](''):_0x18aa3e(0xbac);}async function handleKickPlayer(_0x3a0008){const _0x157dda=_0xc7d29a;if(!currentLiveGameId||!_0x3a0008)return;const _0x297bad=doc(db,'artifacts/'+appId+_0x157dda(0x927),currentLiveGameId),_0x431717={};_0x431717['players.'+_0x3a0008+_0x157dda(0xd3a)]=_0x157dda(0xd03);try{await updateDoc(_0x297bad,_0x431717);}catch(_0x20ce7d){console['error'](_0x157dda(0x2b0)+_0x3a0008+':',_0x20ce7d),showMessage(_0x157dda(0x436));}}async function authenticateUser(){const _0x721a4=_0xc7d29a;try{typeof __initial_auth_token!==_0x721a4(0x702)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x1b6697){console[_0x721a4(0x3e8)]('Authentication\x20failed:',_0x1b6697),showMessage(_0x721a4(0xd34));}}function showView(_0x14ec14){const _0x537674=_0xc7d29a;adminView['classList'][_0x537674(0x743)]('hidden'),studentView[_0x537674(0x144)][_0x537674(0x743)](_0x537674(0x1c9)),projectDashboardView['classList']['add'](_0x537674(0x1c9)),projectDetailView[_0x537674(0x144)]['add'](_0x537674(0x1c9)),quizResultsView['classList'][_0x537674(0x743)]('hidden'),liveGameView[_0x537674(0x144)][_0x537674(0x743)](_0x537674(0x1c9)),document['getElementById'](_0x537674(0xb3))[_0x537674(0x144)][_0x537674(0x743)](_0x537674(0x1c9)),studentInitialView[_0x537674(0x144)][_0x537674(0x743)](_0x537674(0x1c9)),studentJoinGameView[_0x537674(0x144)]['add'](_0x537674(0x1c9)),studentNameSelectionView[_0x537674(0x144)][_0x537674(0x743)](_0x537674(0x1c9)),studentQuizArea['classList']['add'](_0x537674(0x1c9)),studentResultArea[_0x537674(0x144)][_0x537674(0x743)](_0x537674(0x1c9)),studentReadingArea[_0x537674(0x144)][_0x537674(0x743)](_0x537674(0x1c9));const _0x2a35d1=document['getElementById'](_0x537674(0x73e)),_0x2a89eb=document[_0x537674(0x8cb)](_0x537674(0x548));if(_0x2a35d1)_0x2a35d1['classList'][_0x537674(0x743)](_0x537674(0x1c9));if(_0x2a89eb)_0x2a89eb[_0x537674(0x144)][_0x537674(0x743)](_0x537674(0x1c9));switch(_0x14ec14){case _0x537674(0x9db):adminView[_0x537674(0x144)]['remove'](_0x537674(0x1c9)),projectDashboardView[_0x537674(0x144)][_0x537674(0xc8b)](_0x537674(0x1c9));break;case _0x537674(0x753):adminView['classList']['remove'](_0x537674(0x1c9)),projectDetailView[_0x537674(0x144)][_0x537674(0xc8b)](_0x537674(0x1c9));break;case'quiz-results':adminView['classList'][_0x537674(0xc8b)](_0x537674(0x1c9)),quizResultsView[_0x537674(0x144)]['remove']('hidden');break;case _0x537674(0x24c):studentView[_0x537674(0x144)][_0x537674(0xc8b)](_0x537674(0x1c9)),studentInitialView['classList'][_0x537674(0xc8b)]('hidden');break;case _0x537674(0xcb9):liveGameView[_0x537674(0x144)][_0x537674(0xc8b)]('hidden');break;case _0x537674(0x9da):studentView[_0x537674(0x144)][_0x537674(0xc8b)](_0x537674(0x1c9));if(_0x2a35d1)_0x2a35d1[_0x537674(0x144)][_0x537674(0xc8b)]('hidden');break;case _0x537674(0xe51):studentView[_0x537674(0x144)][_0x537674(0xc8b)](_0x537674(0x1c9));if(_0x2a89eb)_0x2a89eb[_0x537674(0x144)][_0x537674(0xc8b)](_0x537674(0x1c9));break;default:studentView[_0x537674(0x144)][_0x537674(0xc8b)](_0x537674(0x1c9)),studentInitialView[_0x537674(0x144)][_0x537674(0xc8b)](_0x537674(0x1c9));break;}}function showJoinGameView(){const _0x3e6995=_0xc7d29a;studentInitialView[_0x3e6995(0x144)]['add'](_0x3e6995(0x1c9)),studentJoinGameView[_0x3e6995(0x144)][_0x3e6995(0xc8b)]('hidden');}async function handleSaveVisibilitySettings(){const _0x413e4a=_0xc7d29a;if(!currentProjectId)return;const _0x488cde=doc(db,_0x413e4a(0x9c2)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x488cde,{'settings.showInStudentDashboard':document[_0x413e4a(0x8cb)](_0x413e4a(0x503))[_0x413e4a(0x4d7)],'settings.isPasscodeEnabled':document[_0x413e4a(0x8cb)]('enable-passcode-checkbox')[_0x413e4a(0x4d7)],'settings.passcode':document['getElementById'](_0x413e4a(0xc1f))[_0x413e4a(0xb66)]['trim']()}),showMessage(_0x413e4a(0xd57));}catch(_0x251982){console[_0x413e4a(0x3e8)](_0x413e4a(0xcb4),_0x251982),showMessage(_0x413e4a(0x5e1));}}function setupEventListeners(){const _0x12c9e1=_0xc7d29a,_0x500bab=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x4ca)),_0x4416c2=document[_0x12c9e1(0x8cb)](_0x12c9e1(0xb8a));_0x500bab&&_0x4416c2&&(_0x4416c2['addEventListener'](_0x12c9e1(0x9b4),()=>_0x500bab[_0x12c9e1(0x9b4)]()),_0x500bab[_0x12c9e1(0x38d)](_0x12c9e1(0xd8f),_0x1b2eda=>{const _0x407fd1=_0x12c9e1;_0x1b2eda[_0x407fd1(0x7b9)][_0x407fd1(0x9cf)][_0x407fd1(0x3bb)]>0x0&&handleScanImageForText(_0x1b2eda[_0x407fd1(0x7b9)][_0x407fd1(0x9cf)][0x0]);}));const _0x807275=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x346));_0x807275&&_0x807275[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x5dd393=_0x12c9e1,_0x315579=document[_0x5dd393(0x8cb)]('wager-slider'),_0x147027=document[_0x5dd393(0x8cb)](_0x5dd393(0xa71));_0x315579&&(_0x315579['value']=_0x315579[_0x5dd393(0xa73)],_0x147027&&(_0x147027[_0x5dd393(0x1ae)]=_0x315579[_0x5dd393(0xb66)],_0x147027[_0x5dd393(0x144)][_0x5dd393(0xc8b)](_0x5dd393(0x98a)),void _0x147027['offsetWidth'],_0x147027['classList'][_0x5dd393(0x743)]('transform',_0x5dd393(0xd73),_0x5dd393(0x98a),_0x5dd393(0xb1)),setTimeout(()=>_0x147027['classList'][_0x5dd393(0xc8b)](_0x5dd393(0x98a),_0x5dd393(0xb1)),0xc8)));});document['getElementById']('cancel-wager-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x40768b=_0x12c9e1;document[_0x40768b(0x8cb)](_0x40768b(0x73f))['classList'][_0x40768b(0x743)]('hidden');}),document[_0x12c9e1(0x8cb)]('confirm-wager-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x1e7976=_0x12c9e1,_0x1a06a6=document[_0x1e7976(0x8cb)](_0x1e7976(0x73f)),_0x355849=document[_0x1e7976(0x8cb)]('selected-answer-index-hidden-wager'),_0x27d5bf=document[_0x1e7976(0x8cb)]('wager-slider')[_0x1e7976(0xb66)],_0x4211af=_0x355849[_0x1e7976(0x5fd)][_0x1e7976(0xe5e)],_0x1e8edc=JSON[_0x1e7976(0x208)](_0x355849[_0x1e7976(0x5fd)][_0x1e7976(0x5e5)]),_0x4df91a=JSON[_0x1e7976(0x208)](_0x355849['dataset'][_0x1e7976(0x28e)]),_0x348ba1=_0x355849[_0x1e7976(0x5fd)][_0x1e7976(0xd45)];_0x1a06a6[_0x1e7976(0x144)]['add'](_0x1e7976(0x1c9)),handleSyncAnswerSubmit(_0x4211af,_0x1e8edc,_0x4df91a,_0x348ba1,![],_0x27d5bf);}),document[_0x12c9e1(0xb9f)](_0x12c9e1(0x105))[_0x12c9e1(0x3f4)](_0x344248=>{const _0x5e7eff=_0x12c9e1;_0x344248[_0x5e7eff(0x38d)](_0x5e7eff(0xd8f),_0x23e761=>{const _0x154533=_0x5e7eff,_0x4aea1d=document['getElementById'](_0x154533(0xd88));_0x23e761[_0x154533(0x7b9)][_0x154533(0xb66)]===_0x154533(0x2ec)?_0x4aea1d[_0x154533(0x144)]['remove'](_0x154533(0x1c9)):_0x4aea1d[_0x154533(0x144)]['add']('hidden');});}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xd70))[_0x12c9e1(0x38d)](_0x12c9e1(0xd8f),_0x35b053=>{const _0x39e456=_0x12c9e1;document['getElementById']('sync-timer-duration-container')[_0x39e456(0x144)][_0x39e456(0x463)](_0x39e456(0x1c9),!_0x35b053[_0x39e456(0x7b9)]['checked']);});const _0x35ba41=document['getElementById']('cancel-confidence-btn'),_0x1bdb8d=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x2fc));_0x35ba41&&_0x1bdb8d&&_0x35ba41[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x3f3a0b=_0x12c9e1;_0x1bdb8d['classList'][_0x3f3a0b(0x743)](_0x3f3a0b(0x1c9)),_0x1bdb8d[_0x3f3a0b(0x5fd)][_0x3f3a0b(0x20e)]='';});const _0x3d6c2e=document[_0x12c9e1(0x8cb)](_0x12c9e1(0xdd5));_0x3d6c2e&&(_0x3d6c2e['addEventListener'](_0x12c9e1(0xb03),wakeUpScreen),_0x3d6c2e[_0x12c9e1(0x38d)](_0x12c9e1(0x1ce),wakeUpScreen));document[_0x12c9e1(0x8cb)](_0x12c9e1(0x477))['addEventListener'](_0x12c9e1(0x9b4),async()=>{const _0x45cd1a=_0x12c9e1;if(!currentBlueprintProjectId)return;const _0x488ebf=document['getElementById'](_0x45cd1a(0xcaa))[_0x45cd1a(0xb66)][_0x45cd1a(0x649)](),_0x54d29e=doc(db,_0x45cd1a(0x9c2)+appId+_0x45cd1a(0x8a2),currentBlueprintProjectId);try{await updateDoc(_0x54d29e,{'referenceFileUrl':_0x488ebf}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0x1a169e){console[_0x45cd1a(0x3e8)](_0x45cd1a(0xb38),_0x1a169e),showMessage(_0x45cd1a(0x5e1));}}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x3c9))[_0x12c9e1(0x38d)]('click',handleAddParallelShortcutTab),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x993))[_0x12c9e1(0x38d)]('click',_0x27a89d=>{const _0x19c13e=_0x12c9e1;_0x27a89d[_0x19c13e(0x7b9)][_0x19c13e(0x575)](_0x19c13e(0xd80))&&(activeParallelShortcutTabId=_0x19c13e(0x1fd),renderAdditionalParallelShortcutsModal(),document[_0x19c13e(0x8cb)](_0x19c13e(0xbfd))['classList'][_0x19c13e(0xc8b)](_0x19c13e(0x1c9)));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x244))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x212eef=_0x12c9e1;document[_0x212eef(0x8cb)]('additional-parallel-shortcuts-modal')[_0x212eef(0x144)][_0x212eef(0x743)]('hidden');}),document[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),_0x249d75=>{const _0x20d4fb=_0x12c9e1;!_0x249d75[_0x20d4fb(0x7b9)][_0x20d4fb(0x575)](_0x20d4fb(0x5dd))&&document[_0x20d4fb(0xb9f)](_0x20d4fb(0x427))['forEach'](_0x4c6c51=>_0x4c6c51[_0x20d4fb(0x144)][_0x20d4fb(0x743)]('hidden'));}),document[_0x12c9e1(0x8cb)]('add-file-shortcut-tab-btn')['addEventListener'](_0x12c9e1(0x9b4),handleAddFileShortcutTab),document[_0x12c9e1(0x8cb)]('file-input-area')[_0x12c9e1(0x38d)]('click',_0x4e122f=>{const _0x5e6c62=_0x12c9e1;_0x4e122f['target'][_0x5e6c62(0x575)](_0x5e6c62(0x7fb))&&(activeFileShortcutTabId=_0x5e6c62(0x1fd),renderAdditionalFileShortcutsModal(),document[_0x5e6c62(0x8cb)](_0x5e6c62(0xd12))[_0x5e6c62(0x144)][_0x5e6c62(0xc8b)](_0x5e6c62(0x1c9)));}),document['getElementById']('close-additional-file-shortcuts-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x31654c=_0x12c9e1;document[_0x31654c(0x8cb)](_0x31654c(0xd12))[_0x31654c(0x144)]['add'](_0x31654c(0x1c9));}),document[_0x12c9e1(0x38d)]('click',_0x556bb1=>{const _0x1c5f15=_0x12c9e1;!_0x556bb1[_0x1c5f15(0x7b9)][_0x1c5f15(0x575)]('.group\x5c/dropdown-file')&&document[_0x1c5f15(0xb9f)](_0x1c5f15(0x38a))[_0x1c5f15(0x3f4)](_0x5d0cc7=>_0x5d0cc7[_0x1c5f15(0x144)][_0x1c5f15(0x743)](_0x1c5f15(0x1c9)));}),document[_0x12c9e1(0x8cb)]('add-shortcut-tab-btn')['addEventListener'](_0x12c9e1(0x9b4),handleAddShortcutTab),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x377))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),_0x16f73a=>{const _0x47b8ac=_0x12c9e1,_0x17b527=_0x16f73a[_0x47b8ac(0x7b9)][_0x47b8ac(0x575)](_0x47b8ac(0xbdc)),_0x579197=_0x16f73a[_0x47b8ac(0x7b9)]['closest']('.edit-parallel-shortcut-btn'),_0x20be90=_0x16f73a[_0x47b8ac(0x7b9)][_0x47b8ac(0x575)](_0x47b8ac(0x709));if(_0x579197)openParallelTestShortcutEditor(_0x579197[_0x47b8ac(0x5fd)]['id']);else{if(_0x20be90){const _0x3e47d7=_0x20be90['dataset']['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x3f55ba=_0x47b8ac,_0x39cd89=parallelTestShortcuts[_0x3f55ba(0xb8e)](_0x73e4cb=>_0x73e4cb['id']!==_0x3e47d7),_0x3aa52f=doc(db,_0x3f55ba(0xb14),_0x3f55ba(0x871));await setDoc(_0x3aa52f,{'shortcuts':_0x39cd89},{'merge':!![]});});}else _0x17b527&&handleParallelTestShortcutClick(_0x17b527[_0x47b8ac(0x5fd)]['id']);}}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xb48))[_0x12c9e1(0x38d)]('click',()=>openParallelTestShortcutEditor(null)),document[_0x12c9e1(0x8cb)]('cancel-parallel-shortcut-edit-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x2bf567=_0x12c9e1;document['getElementById'](_0x2bf567(0xdae))[_0x2bf567(0x144)]['add']('hidden');}),document['getElementById'](_0x12c9e1(0x1c7))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),saveParallelTestShortcutChanges),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x993))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),_0x485e36=>{const _0x9bc029=_0x12c9e1;_0x485e36[_0x9bc029(0x7b9)][_0x9bc029(0x575)](_0x9bc029(0xd80))&&document[_0x9bc029(0x8cb)](_0x9bc029(0xbfd))[_0x9bc029(0x144)][_0x9bc029(0xc8b)](_0x9bc029(0x1c9));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x244))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x490fea=_0x12c9e1;document[_0x490fea(0x8cb)](_0x490fea(0xbfd))[_0x490fea(0x144)]['add']('hidden');}),document[_0x12c9e1(0x8cb)]('additional-parallel-shortcuts-list')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),_0x342e49=>{const _0x33ec04=_0x12c9e1,_0x1f22b0=document[_0x33ec04(0x8cb)](_0x33ec04(0xbfd)),_0x2848ee=_0x342e49[_0x33ec04(0x7b9)]['closest'](_0x33ec04(0xb1e)),_0x31b2a5=_0x342e49['target'][_0x33ec04(0x575)](_0x33ec04(0xafa)),_0x147ca5=_0x342e49[_0x33ec04(0x7b9)][_0x33ec04(0x575)]('.delete-hidden-parallel-shortcut-btn');if(_0x2848ee)_0x1f22b0[_0x33ec04(0x144)][_0x33ec04(0x743)](_0x33ec04(0x1c9)),handleParallelTestShortcutClick(_0x2848ee[_0x33ec04(0x5fd)]['id']);else{if(_0x31b2a5)_0x1f22b0[_0x33ec04(0x144)][_0x33ec04(0x743)](_0x33ec04(0x1c9)),openParallelTestShortcutEditor(_0x31b2a5[_0x33ec04(0x5fd)]['id']);else{if(_0x147ca5){const _0x136451=_0x147ca5[_0x33ec04(0x5fd)]['id'];showConfirmation(_0x33ec04(0x2b3),async()=>{const _0x4b971d=_0x33ec04,_0x4e2956=parallelTestShortcuts['filter'](_0x2415f8=>_0x2415f8['id']!==_0x136451),_0x9d00c1=doc(db,_0x4b971d(0xb14),_0x4b971d(0x871));await setDoc(_0x9d00c1,{'shortcuts':_0x4e2956},{'merge':!![]});});}}}}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x423))['addEventListener'](_0x12c9e1(0x9b4),_0x1526b6=>{const _0x19bb04=_0x12c9e1,_0x35f9a0=_0x1526b6[_0x19bb04(0x7b9)][_0x19bb04(0x575)](_0x19bb04(0x6f0)),_0x4c5dbc=_0x1526b6['target'][_0x19bb04(0x575)]('.edit-file-shortcut-btn'),_0x4165b9=_0x1526b6[_0x19bb04(0x7b9)][_0x19bb04(0x575)](_0x19bb04(0x87d));if(_0x4c5dbc)openFileShortcutEditor(_0x4c5dbc[_0x19bb04(0x5fd)]['id']);else{if(_0x4165b9){const _0x2e744f=_0x4165b9[_0x19bb04(0x5fd)]['id'];showConfirmation(_0x19bb04(0x2b3),async()=>{const _0x9004b7=_0x19bb04,_0x2abee3=fileShortcuts[_0x9004b7(0xb8e)](_0x589d20=>_0x589d20['id']!==_0x2e744f),_0x3466be=doc(db,_0x9004b7(0xb14),_0x9004b7(0xd69));await setDoc(_0x3466be,{'shortcuts':_0x2abee3},{'merge':!![]});});}else _0x35f9a0&&handleFileShortcutClick(_0x35f9a0[_0x19bb04(0x5fd)]['id']);}}),document['getElementById'](_0x12c9e1(0x7d5))['addEventListener']('click',()=>openFileShortcutEditor(null)),document[_0x12c9e1(0x8cb)]('cancel-file-shortcut-edit-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x32b401=_0x12c9e1;document[_0x32b401(0x8cb)](_0x32b401(0xe2b))[_0x32b401(0x144)][_0x32b401(0x743)]('hidden');}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xd41))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),saveFileShortcutChanges),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xab5))['addEventListener'](_0x12c9e1(0x9b4),_0x445dbe=>{const _0x2f069e=_0x12c9e1;_0x445dbe['target'][_0x2f069e(0x575)](_0x2f069e(0x7fb))&&document[_0x2f069e(0x8cb)]('additional-file-shortcuts-modal')[_0x2f069e(0x144)][_0x2f069e(0xc8b)](_0x2f069e(0x1c9));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x429))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0xc9d569=_0x12c9e1;document[_0xc9d569(0x8cb)](_0xc9d569(0xd12))['classList'][_0xc9d569(0x743)](_0xc9d569(0x1c9));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xcc2))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),_0x33d45f=>{const _0x5e43ce=_0x12c9e1,_0x2a7d3f=document[_0x5e43ce(0x8cb)](_0x5e43ce(0xd12)),_0x5d45b7=_0x33d45f[_0x5e43ce(0x7b9)][_0x5e43ce(0x575)](_0x5e43ce(0x30a)),_0x51c6b4=_0x33d45f['target']['closest'](_0x5e43ce(0x987)),_0x1ba527=_0x33d45f[_0x5e43ce(0x7b9)]['closest'](_0x5e43ce(0xb4f));if(_0x5d45b7)_0x2a7d3f[_0x5e43ce(0x144)][_0x5e43ce(0x743)](_0x5e43ce(0x1c9)),handleFileShortcutClick(_0x5d45b7[_0x5e43ce(0x5fd)]['id']);else{if(_0x51c6b4)_0x2a7d3f['classList']['add']('hidden'),openFileShortcutEditor(_0x51c6b4[_0x5e43ce(0x5fd)]['id']);else{if(_0x1ba527){const _0x51a8d2=_0x1ba527[_0x5e43ce(0x5fd)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x459775=_0x5e43ce,_0x1a04c2=fileShortcuts[_0x459775(0xb8e)](_0x539dda=>_0x539dda['id']!==_0x51a8d2),_0x2eecb3=doc(db,_0x459775(0xb14),'fileShortcutsConfig');await setDoc(_0x2eecb3,{'shortcuts':_0x1a04c2},{'merge':!![]});});}}}}),document['getElementById'](_0x12c9e1(0xcac))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),_0x192624=>{const _0x4e70b6=_0x12c9e1;_0x192624[_0x4e70b6(0x7b9)][_0x4e70b6(0x575)](_0x4e70b6(0xe08))&&(activeShortcutTabId=_0x4e70b6(0x1fd),renderAdditionalShortcutsModal(),document['getElementById'](_0x4e70b6(0x28b))[_0x4e70b6(0x144)][_0x4e70b6(0xc8b)]('hidden'));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xcb3))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x2170f9=_0x12c9e1;document['getElementById']('additional-shortcuts-modal')['classList'][_0x2170f9(0x743)](_0x2170f9(0x1c9));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x5ad))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),_0x1af316=>{const _0x3c0a27=_0x12c9e1,_0x5c61c9=_0x1af316[_0x3c0a27(0x7b9)][_0x3c0a27(0x575)](_0x3c0a27(0x59b)),_0x402a6b=_0x1af316['target']['closest'](_0x3c0a27(0xb72)),_0x493f51=_0x1af316['target'][_0x3c0a27(0x575)](_0x3c0a27(0x155)),_0x37aa1f=document[_0x3c0a27(0x8cb)](_0x3c0a27(0x28b));if(_0x5c61c9)_0x37aa1f[_0x3c0a27(0x144)][_0x3c0a27(0x743)]('hidden'),handleShortcutClick(_0x5c61c9['dataset']['id']);else{if(_0x402a6b)_0x37aa1f[_0x3c0a27(0x144)][_0x3c0a27(0x743)](_0x3c0a27(0x1c9)),openShortcutEditor(_0x402a6b[_0x3c0a27(0x5fd)]['id']);else{if(_0x493f51){const _0x5e4446=_0x493f51[_0x3c0a27(0x5fd)]['id'],_0x4e225a=blueprintShortcuts['find'](_0x18afb9=>_0x18afb9['id']===_0x5e4446)?.[_0x3c0a27(0xa48)];showConfirmation(_0x3c0a27(0xdda)+_0x4e225a+'\x22?',async()=>{const _0xfce61f=_0x3c0a27,_0x49a9bf=blueprintShortcuts[_0xfce61f(0xb8e)](_0x2406bf=>_0x2406bf['id']!==_0x5e4446);try{const _0x15271f=doc(db,_0xfce61f(0xb14),_0xfce61f(0x5b3));await setDoc(_0x15271f,{'blueprintShortcuts':_0x49a9bf},{'merge':!![]});}catch(_0x35f1de){console['error'](_0xfce61f(0x4fa),_0x35f1de);}});}}}}),document['getElementById'](_0x12c9e1(0x578))['addEventListener'](_0x12c9e1(0x9b4),_0x531323=>{const _0x2573fd=_0x12c9e1,_0x36b25f=_0x531323[_0x2573fd(0x7b9)][_0x2573fd(0x575)](_0x2573fd(0x97a)),_0x33b5e5=_0x531323['target'][_0x2573fd(0x575)]('.edit-shortcut-btn'),_0x1bd3a6=_0x531323[_0x2573fd(0x7b9)]['closest'](_0x2573fd(0x580));if(_0x33b5e5)openShortcutEditor(_0x33b5e5[_0x2573fd(0x5fd)]['id']);else{if(_0x1bd3a6){const _0x1ad815=_0x1bd3a6['dataset']['id'],_0x2b2163=blueprintShortcuts[_0x2573fd(0x7d2)](_0x490fab=>_0x490fab['id']===_0x1ad815)?.['name'];showConfirmation(_0x2573fd(0xdda)+_0x2b2163+'\x22?',async()=>{const _0xbd1436=_0x2573fd,_0xe4c39c=blueprintShortcuts[_0xbd1436(0xb8e)](_0x4fd7b3=>_0x4fd7b3['id']!==_0x1ad815);try{const _0x5074ee=doc(db,_0xbd1436(0xb14),'dashboardConfig');await setDoc(_0x5074ee,{'blueprintShortcuts':_0xe4c39c},{'merge':!![]});}catch(_0x2c1910){console[_0xbd1436(0x3e8)](_0xbd1436(0x4fa),_0x2c1910);}});}else _0x36b25f&&handleShortcutClick(_0x36b25f['dataset']['id']);}}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xa00))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>openShortcutEditor(null)),document['getElementById'](_0x12c9e1(0x6a2))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x2aff31=_0x12c9e1;document[_0x2aff31(0x8cb)](_0x2aff31(0x2db))[_0x2aff31(0x144)][_0x2aff31(0x743)](_0x2aff31(0x1c9));}),document[_0x12c9e1(0x8cb)]('save-shortcut-btn')[_0x12c9e1(0x38d)]('click',saveShortcutChanges),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xe14))['addEventListener']('click',async()=>{const _0x126d34=_0x12c9e1,_0x5d4af6=document[_0x126d34(0x8cb)](_0x126d34(0x6ca)),_0x1f9f39=document[_0x126d34(0x8cb)](_0x126d34(0x89e));_0x5d4af6[_0x126d34(0x9cf)][_0x126d34(0x3bb)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x5d4af6[_0x126d34(0x9cf)][0x0],_0x1f9f39[_0x126d34(0x9cf)][0x0]||null):showMessage(_0x126d34(0xcb7));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x9c5))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),async _0x4c0aca=>{const _0x344c83=_0x12c9e1,_0x6b0794=document['getElementById'](_0x344c83(0x9c5)),_0x44b70a=_0x4c0aca[_0x344c83(0x7b9)][_0x344c83(0x575)]('.bp-view-analysis-btn'),_0x1ddd67=_0x4c0aca[_0x344c83(0x7b9)][_0x344c83(0x575)](_0x344c83(0x331)),_0x1fa379=_0x4c0aca[_0x344c83(0x7b9)][_0x344c83(0x575)](_0x344c83(0x686)),_0x3bd1b1=_0x4c0aca[_0x344c83(0x7b9)][_0x344c83(0x575)](_0x344c83(0x9bf)),_0x270ec9=_0x4c0aca[_0x344c83(0x7b9)]['closest']('.bp-live-btn'),_0x4d4583=_0x4c0aca[_0x344c83(0x7b9)][_0x344c83(0x575)](_0x344c83(0x18c));if(_0x44b70a){cameFromBlueprint=!![];const _0x5d5971=_0x44b70a['dataset'][_0x344c83(0x9fe)];showQuizDetailView(_0x5d5971),_0x6b0794[_0x344c83(0x144)][_0x344c83(0x743)]('hidden');}else{if(_0x1ddd67){const _0x5dd2b5=_0x1ddd67[_0x344c83(0x5fd)][_0x344c83(0xc93)],_0x489b3c=_0x1ddd67[_0x344c83(0x5fd)][_0x344c83(0x9fe)],_0x1dc813=allQuizzesGlobal[_0x344c83(0x7d2)](_0x18e9b9=>_0x18e9b9['id']===_0x489b3c),_0x2bda7c=_0x1dc813?_0x1dc813[_0x344c83(0x664)]:_0x344c83(0x422);showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22'+_0x2bda7c+_0x344c83(0x374),async()=>{const _0x3996e9=_0x344c83;try{const _0x16fbf8=doc(db,_0x3996e9(0x9c2)+appId+_0x3996e9(0x8a2),currentBlueprintProjectId);await updateDoc(_0x16fbf8,{['topics.'+_0x5dd2b5+_0x3996e9(0x16c)]:arrayRemove(_0x489b3c)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x5dd2b5),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xe426ba){console[_0x3996e9(0x3e8)]('Error\x20unlinking\x20quiz:',_0xe426ba),showMessage(_0x3996e9(0x909));}});}else{if(_0x1fa379){cameFromBlueprint=!![];const _0x4643f1=_0x1fa379[_0x344c83(0x5fd)][_0x344c83(0x9fe)],_0x1abb97=allQuizzesGlobal[_0x344c83(0x7d2)](_0x44f226=>_0x44f226['id']===_0x4643f1);_0x1abb97&&(startPresentation(_0x1abb97),_0x6b0794[_0x344c83(0x144)][_0x344c83(0x743)]('hidden'));}else{if(_0x3bd1b1){cameFromBlueprint=!![];const _0x42f86f=_0x3bd1b1[_0x344c83(0x5fd)][_0x344c83(0x9fe)],_0x91e3a6=allQuizzesGlobal[_0x344c83(0x7d2)](_0x18669a=>_0x18669a['id']===_0x42f86f);_0x91e3a6&&(currentQuizData=_0x91e3a6,startAdminTest(),_0x6b0794[_0x344c83(0x144)][_0x344c83(0x743)](_0x344c83(0x1c9)));}else{if(_0x270ec9)cameFromBlueprint=!![],handleStartLiveRace(_0x270ec9[_0x344c83(0x5fd)][_0x344c83(0x9fe)]),_0x6b0794['classList'][_0x344c83(0x743)]('hidden');else{if(_0x4d4583){cameFromBlueprint=!![];const _0x37f42=_0x4d4583['dataset'][_0x344c83(0x9fe)],_0xe58448=_0x4d4583['dataset'][_0x344c83(0xaec)],_0x2b0721=allQuizzesGlobal['find'](_0x23564f=>_0x23564f['id']===_0x37f42);_0x2b0721&&(showGameStartConfirmationModal(_0x37f42,_0xe58448,_0x2b0721['topic']),_0x6b0794[_0x344c83(0x144)][_0x344c83(0x743)](_0x344c83(0x1c9)));}}}}}}}),document['getElementById'](_0x12c9e1(0x980))['addEventListener'](_0x12c9e1(0x9b4),()=>{const _0xecf924=_0x12c9e1;document[_0xecf924(0x8cb)]('manual-blueprint-modal')[_0xecf924(0x144)][_0xecf924(0xc8b)]('hidden'),document['getElementById'](_0xecf924(0x904))[_0xecf924(0xb66)]='',document[_0xecf924(0x8cb)](_0xecf924(0x4fc))[_0xecf924(0xb66)]='',document[_0xecf924(0x8cb)](_0xecf924(0x866))[_0xecf924(0xb66)]='';}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xdaf))['addEventListener'](_0x12c9e1(0x9b4),()=>{const _0x39ccf9=_0x12c9e1;document[_0x39ccf9(0x8cb)]('manual-blueprint-modal')['classList'][_0x39ccf9(0x743)](_0x39ccf9(0x1c9));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x679))['addEventListener'](_0x12c9e1(0x9b4),handleManualBlueprintSave),document[_0x12c9e1(0x8cb)]('cancel-bp-settings-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>document[_0x12c9e1(0x8cb)]('blueprint-settings-modal')[_0x12c9e1(0x144)][_0x12c9e1(0x743)](_0x12c9e1(0x1c9))),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x1ad))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleSaveBlueprintPageSettings),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xdcc))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),openBlueprintQuizSettings),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xc3c))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),saveBlueprintProject),document['getElementById'](_0x12c9e1(0xda7))[_0x12c9e1(0x38d)]('click',showBlueprintProjects),document['getElementById'](_0x12c9e1(0x191))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x5753b3=_0x12c9e1;document[_0x5753b3(0x8cb)](_0x5753b3(0x530))[_0x5753b3(0x144)][_0x5753b3(0x743)](_0x5753b3(0x1c9));}),document['getElementById'](_0x12c9e1(0x4c4))['addEventListener']('click',_0x532755=>{const _0xfe761f=_0x12c9e1,_0x1725b9=_0x532755[_0xfe761f(0x7b9)][_0xfe761f(0x575)]('.open-bp-project-btn'),_0x935d08=_0x532755[_0xfe761f(0x7b9)]['closest'](_0xfe761f(0x8d8));if(_0x1725b9)displayBlueprintProjectManager(_0x1725b9['dataset']['id']);else _0x935d08&&handleDeepDeleteBlueprintProject(_0x935d08[_0xfe761f(0x5fd)]['id']);}),document[_0x12c9e1(0x8cb)]('back-to-dashboard-from-bp-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x40d647=_0x12c9e1;currentBlueprintProjectId=null,currentProjectId=null,document[_0x40d647(0x8cb)](_0x40d647(0xb3))['classList']['add']('hidden'),showView(_0x40d647(0x9db));}),document[_0x12c9e1(0x8cb)]('bp-add-topic-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),addTopicToProject),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xcc1))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),async _0x28a580=>{const _0x1e04e7=_0x12c9e1,_0x3772d3=_0x28a580[_0x1e04e7(0x7b9)][_0x1e04e7(0x575)]('[data-topic-id]');if(!_0x3772d3)return;const _0x4df01a=_0x3772d3['dataset']['topicId'],_0x5f5e0d=_0x28a580[_0x1e04e7(0x7b9)][_0x1e04e7(0x575)](_0x1e04e7(0xb96)),_0x5a57ba=_0x28a580[_0x1e04e7(0x7b9)][_0x1e04e7(0x575)](_0x1e04e7(0xc00)),_0x5d37c5=_0x28a580['target'][_0x1e04e7(0x575)]('.bp-create-topic-quiz-btn'),_0xad2ecf=_0x28a580['target'][_0x1e04e7(0x575)](_0x1e04e7(0xb09)),_0x38cdf1=_0x28a580[_0x1e04e7(0x7b9)]['closest'](_0x1e04e7(0xcbc)),_0x2a218c=_0x28a580[_0x1e04e7(0x7b9)][_0x1e04e7(0x575)]('.bp-generate-lesson-btn'),_0x171c3e=_0x28a580['target'][_0x1e04e7(0x575)](_0x1e04e7(0x678)),_0x429c0b=_0x28a580[_0x1e04e7(0x7b9)][_0x1e04e7(0x575)](_0x1e04e7(0x8fc)),_0x4c3108=_0xc6d00e=>{const _0x4cb64e=_0x1e04e7,_0x4187a0=_0xc6d00e[_0x4cb64e(0x947)](_0x4cb64e(0x63d))['textContent']['trim'](),_0x54eb09=_0xc6d00e['closest'](_0x4cb64e(0xdc6))[_0x4cb64e(0x3f0)],_0x4fbbb5=_0x54eb09?_0x54eb09[_0x4cb64e(0x1ae)][_0x4cb64e(0x649)]():'';return _0x4fbbb5+':\x20'+_0x4187a0;};if(_0xad2ecf)openTopicQuizBank(_0x4df01a);else{if(_0x5f5e0d){const _0x532db4=_0x4c3108(_0x3772d3);selectProjectAndGenerateBlueprintQuiz(_0x532db4,null,_0x4df01a,!![]);}else{if(_0x5a57ba){const _0xc20859=_0x4c3108(_0x3772d3);try{const _0x2ac533=doc(db,'artifacts/'+appId+_0x1e04e7(0x2eb)+currentBlueprintProjectId+_0x1e04e7(0x9e5),_0x4df01a),_0x43177e=await getDoc(_0x2ac533);if(_0x43177e['exists']()){const _0x53a443=_0x43177e[_0x1e04e7(0x241)]()[_0x1e04e7(0xd24)],_0x2b4a0=document['createElement'](_0x1e04e7(0x36e)),_0x537f02=_0x4727f5=>{const _0x3b0135=_0x1e04e7;if(!_0x4727f5)return'';return _0x2b4a0[_0x3b0135(0x22a)]=_0x4727f5,_0x2b4a0['textContent']||_0x2b4a0[_0x3b0135(0x8ab)]||'';},_0x39783a=(_0x537f02(_0x53a443['point'])+'\x20'+_0x537f02(_0x53a443[_0x1e04e7(0x610)])+'\x20'+_0x537f02(_0x53a443[_0x1e04e7(0x692)]))['trim']();selectProjectAndGenerateBlueprintQuiz(_0xc20859,_0x39783a,_0x4df01a,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x3568c7){console[_0x1e04e7(0x3e8)](_0x1e04e7(0x601),_0x3568c7),showMessage(_0x1e04e7(0x2c8));}}else{if(_0x5d37c5){const _0x511cfa=_0x4c3108(_0x3772d3);selectProjectAndGenerateBlueprintQuiz(_0x511cfa,null,_0x4df01a,![]);}else{if(_0x38cdf1){const _0x3e482f=doc(db,'artifacts/'+appId+_0x1e04e7(0x8a2),currentBlueprintProjectId),_0x34ab78=await getDoc(_0x3e482f);if(_0x34ab78[_0x1e04e7(0x45f)]()){const _0x2eb88e=_0x34ab78[_0x1e04e7(0x241)](),_0x4ef757=_0x2eb88e[_0x1e04e7(0x544)][_0x4df01a];if(_0x4ef757&&_0x4ef757['status']===_0x1e04e7(0x1e5))try{const _0x4fa94d=doc(db,_0x1e04e7(0x9c2)+appId+_0x1e04e7(0x2eb)+currentBlueprintProjectId+_0x1e04e7(0x9e5),_0x4df01a),_0x550bc4=await getDoc(_0x4fa94d);if(_0x550bc4[_0x1e04e7(0x45f)]()){const _0x50c8ff=_0x550bc4['data']()['content'];document[_0x1e04e7(0x8cb)](_0x1e04e7(0xa9b))[_0x1e04e7(0x1ae)]=_0x1e04e7(0xdd0)+_0x4c3108(_0x3772d3),document[_0x1e04e7(0x8cb)](_0x1e04e7(0x8e1))[_0x1e04e7(0x22a)]=_0x50c8ff['point'],document[_0x1e04e7(0x8cb)]('memoryContent')[_0x1e04e7(0x22a)]=_0x50c8ff[_0x1e04e7(0x610)],document[_0x1e04e7(0x8cb)](_0x1e04e7(0x7af))['innerHTML']=_0x50c8ff[_0x1e04e7(0x692)];const _0x1ed07c=document['getElementById'](_0x1e04e7(0x49c));_0x50c8ff[_0x1e04e7(0xd11)]?(currentApplicationData=_0x50c8ff[_0x1e04e7(0xd11)],_0x1ed07c[_0x1e04e7(0x22a)]=currentApplicationData[_0x1e04e7(0x283)]((_0x2465db,_0x2b7a74)=>'<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>'+(_0x2b7a74+0x1)+'.\x20'+marked[_0x1e04e7(0x5e4)](_0x2465db['question'])+_0x1e04e7(0x3e6)+_0x2b7a74+'-options\x22>'+_0x2465db[_0x1e04e7(0x764)][_0x1e04e7(0x283)]((_0x2d7c7a,_0x173b7d)=>_0x1e04e7(0x978)+_0x2b7a74+',\x20'+_0x173b7d+')\x22>'+String[_0x1e04e7(0x6a1)](0x61+_0x173b7d)+'.\x20'+marked['parseInline'](_0x2d7c7a)+_0x1e04e7(0x4b6))['join']('')+_0x1e04e7(0x940))[_0x1e04e7(0x922)]('')):(currentApplicationData=[],_0x1ed07c[_0x1e04e7(0x22a)]=_0x50c8ff[_0x1e04e7(0x7ee)]||_0x50c8ff['application']),document[_0x1e04e7(0x8cb)]('lesson-loader')[_0x1e04e7(0x144)]['add']('hidden'),document[_0x1e04e7(0x8cb)](_0x1e04e7(0x19b))[_0x1e04e7(0x144)]['remove'](_0x1e04e7(0x1c9)),document['getElementById'](_0x1e04e7(0x774))[_0x1e04e7(0x144)][_0x1e04e7(0xc8b)](_0x1e04e7(0x1c9)),window['MathJax']&&MathJax[_0x1e04e7(0x31d)]([document[_0x1e04e7(0x8cb)](_0x1e04e7(0x9a9))]);}else showMessage(_0x1e04e7(0x929));}catch(_0x148f13){console[_0x1e04e7(0x3e8)](_0x1e04e7(0xaaa),_0x148f13),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage(_0x1e04e7(0x951));}}else{if(_0x2a218c){const _0x223695=_0x4c3108(_0x3772d3),_0x1d4501=doc(db,'artifacts/'+appId+_0x1e04e7(0x8a2),currentBlueprintProjectId),_0x29abd6=await getDoc(_0x1d4501);if(_0x29abd6['exists']()){const _0x2acde8=_0x29abd6[_0x1e04e7(0x241)]();generateAndSaveLessonForBlueprint(_0x4df01a,_0x223695,_0x2acde8[_0x1e04e7(0x2c5)]);}}else{if(_0x171c3e)editTopicInProject(_0x4df01a);else _0x429c0b&&deleteTopicFromProject(_0x4df01a);}}}}}}}),document['getElementById'](_0x12c9e1(0xc3d))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleFixLessonLatex),document[_0x12c9e1(0x8cb)]('export-lesson-to-pdf-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleExportLessonToPDF),document[_0x12c9e1(0x8cb)]('close-lesson-view-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x43586e=_0x12c9e1;document[_0x43586e(0x8cb)]('lesson-view-modal')[_0x43586e(0x144)][_0x43586e(0x743)](_0x43586e(0x1c9));});const _0x41b212=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x53c)),_0x3d5fba=document['getElementById']('bulk-confidence-mode-container');_0x41b212[_0x12c9e1(0x38d)](_0x12c9e1(0xd8f),()=>{const _0x8ac7bc=_0x12c9e1;_0x3d5fba[_0x8ac7bc(0x144)][_0x8ac7bc(0x463)](_0x8ac7bc(0x1c9),!_0x41b212['checked']);});const _0x3cceda=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x819)),_0xc28ad0=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x281));_0x3cceda['addEventListener'](_0x12c9e1(0xd8f),()=>{const _0x3c5357=_0x12c9e1;_0xc28ad0['classList']['toggle']('hidden',!_0x3cceda[_0x3c5357(0x4d7)]);});const _0x1fa2d6=document['getElementById'](_0x12c9e1(0xca5)),_0x256301=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x431));_0x1fa2d6[_0x12c9e1(0x38d)](_0x12c9e1(0xd8f),()=>{const _0x9cea7d=_0x12c9e1;_0x256301[_0x9cea7d(0x144)]['toggle']('hidden',!_0x1fa2d6[_0x9cea7d(0x4d7)]);});const _0xb35a55=document['getElementById'](_0x12c9e1(0x2fc)),_0x5c1a21=async _0x2b4616=>{const _0x1492f3=_0x12c9e1,_0x1e2e0f=document[_0x1492f3(0x8cb)](_0x1492f3(0x2fc)),_0x5bc5b1=_0x1e2e0f['dataset'][_0x1492f3(0x20e)],_0xe6b624=document[_0x1492f3(0x8cb)](_0x1492f3(0xa60));_0x1e2e0f['classList']['add'](_0x1492f3(0x1c9));if(_0x5bc5b1===_0x1492f3(0x857)){const _0x422098=_0xe6b624['value'],_0x5dc3ee={'answer':_0x422098,'wasConfident':_0x2b4616};proceedToNextQuestion(_0x5dc3ee);}else{if(_0x5bc5b1===_0x1492f3(0x7ea)){const _0x28e418=_0xe6b624['dataset'][_0x1492f3(0xe5e)],_0x19f2ba=JSON['parse'](_0xe6b624['dataset'][_0x1492f3(0x5e5)]),_0x3eb132=JSON['parse'](_0xe6b624['dataset'][_0x1492f3(0x28e)]),_0x12d8bc=_0xe6b624[_0x1492f3(0x5fd)]['playerName'];handleSyncAnswerSubmit(_0x28e418,_0x19f2ba,_0x3eb132,_0x12d8bc,_0x2b4616);}}_0x1e2e0f[_0x1492f3(0x5fd)][_0x1492f3(0x20e)]='';};document['getElementById'](_0x12c9e1(0xa29))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>_0x5c1a21(!![])),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xaf2))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>_0x5c1a21(![])),liveGameView[_0x12c9e1(0x38d)]('click',_0x37dea8=>{const _0x30e0cf=_0x12c9e1,_0x582c09=_0x37dea8[_0x30e0cf(0x7b9)][_0x30e0cf(0x575)]('.kick-player-btn-sync');if(_0x582c09){const _0x451247=_0x582c09[_0x30e0cf(0x5fd)]['playerName'];_0x451247&&handleKickPlayerSync(_0x451247);}});const _0x2103a8=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x7ff)),_0x7844c8=document[_0x12c9e1(0x8cb)]('cancel-game-start-btn');_0x7844c8[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x221324=_0x12c9e1;document[_0x221324(0x8cb)](_0x221324(0x222))['classList']['add'](_0x221324(0x1c9));}),_0x2103a8[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x508796=_0x12c9e1,_0x3b1b38=document[_0x508796(0x8cb)](_0x508796(0x39f))['value'],_0x29a0a1=document['getElementById']('game-start-mode')[_0x508796(0xb66)],_0x4266bb=document[_0x508796(0x8cb)](_0x508796(0x7bd))['checked'];document[_0x508796(0x8cb)](_0x508796(0x222))[_0x508796(0x144)][_0x508796(0x743)]('hidden');switch(_0x29a0a1){case _0x508796(0xdbb):handleStartLiveRace(_0x3b1b38,_0x4266bb);break;case'team':handleStartTeamQuiz(_0x3b1b38,_0x4266bb);break;case'group':handleStartGroupMode(_0x3b1b38,_0x4266bb);break;case _0x508796(0x7ea):const _0x20c550=document[_0x508796(0x947)](_0x508796(0x8cd))[_0x508796(0xb66)]||'classic';handleStartSyncMode(_0x3b1b38,_0x4266bb,_0x20c550);break;}}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x64d))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleJoinGroupActivity),liveGameView[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),_0x51509e=>{const _0x4c040d=_0x12c9e1,_0x3c3955=_0x51509e[_0x4c040d(0x7b9)][_0x4c040d(0x575)](_0x4c040d(0xb49));document[_0x4c040d(0xb9f)](_0x4c040d(0xd13))[_0x4c040d(0x3f4)](_0xcfd0bd=>{const _0x1b8bd2=_0x4c040d;(!_0x3c3955||_0xcfd0bd['id']!==_0x3c3955[_0x1b8bd2(0x5fd)][_0x1b8bd2(0x13a)])&&_0xcfd0bd[_0x1b8bd2(0x144)][_0x1b8bd2(0xc8b)](_0x1b8bd2(0x368));});if(!_0x3c3955)return;const _0x261ba=_0x3c3955['dataset']['tooltipTarget'],_0x50ad5b=document[_0x4c040d(0x8cb)](_0x261ba);_0x50ad5b&&_0x50ad5b['classList'][_0x4c040d(0x463)](_0x4c040d(0x368));}),liveGameView[_0x12c9e1(0x38d)]('click',_0x5809b4=>{const _0x302ed1=_0x12c9e1;if(_0x5809b4['target'][_0x302ed1(0x144)][_0x302ed1(0x3c8)]('kick-player-btn')){const _0x26cd1b=_0x5809b4[_0x302ed1(0x7b9)][_0x302ed1(0x5fd)][_0x302ed1(0xd45)];_0x26cd1b&&handleKickPlayer(_0x26cd1b);}}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x7ac))[_0x12c9e1(0x38d)](_0x12c9e1(0x663),()=>document[_0x12c9e1(0x8cb)](_0x12c9e1(0xc55))[_0x12c9e1(0x144)][_0x12c9e1(0xc8b)](_0x12c9e1(0x1c9))),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xc55))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleSaveProjectName),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x7ac))['addEventListener']('keydown',_0x746f30=>{const _0x27da1d=_0x12c9e1;_0x746f30[_0x27da1d(0x181)]===_0x27da1d(0x379)&&(_0x746f30[_0x27da1d(0x862)](),_0x746f30[_0x27da1d(0x7b9)]['blur'](),handleSaveProjectName());}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x94a))[_0x12c9e1(0x38d)]('click',()=>{const _0x20e220=_0x12c9e1;document[_0x20e220(0x8cb)]('bulk-quiz-settings-modal')[_0x20e220(0x144)][_0x20e220(0xc8b)](_0x20e220(0x1c9));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xb34))['addEventListener'](_0x12c9e1(0x9b4),()=>{const _0x49edd2=_0x12c9e1;document[_0x49edd2(0x8cb)](_0x49edd2(0x195))['classList']['add'](_0x49edd2(0x1c9));}),document['getElementById'](_0x12c9e1(0x64b))['addEventListener'](_0x12c9e1(0x9b4),handleBulkUpdateQuizSettings),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xc62))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleModeSwitch),document['getElementById'](_0x12c9e1(0x640))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleUpdateOldQuizzes),document[_0x12c9e1(0x8cb)]('reset-project-order-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleResetProjectOrder),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x8b3))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleSaveVisibilitySettings),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x151))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleAddCustomMathTopic),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x55f))['addEventListener'](_0x12c9e1(0x9b4),handleSelectAllTopics),document[_0x12c9e1(0x8cb)]('deselect-all-topics-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleDeselectAllTopics),document['getElementById'](_0x12c9e1(0x581))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x39e232=_0x12c9e1;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x39e232(0x9db));}}),document['getElementById'](_0x12c9e1(0x564))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x277d04=_0x12c9e1;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x277d04(0x753));}}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x334))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x49cf8a=_0x12c9e1;showView(_0x49cf8a(0x9db));}),document[_0x12c9e1(0x8cb)]('modal-close-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x1d0268=_0x12c9e1;messageModal[_0x1d0268(0x144)]['add'](_0x1d0268(0x1c9)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x12c9e1(0x8cb)]('create-project-btn')['addEventListener']('click',()=>createProjectModal['classList'][_0x12c9e1(0xc8b)]('hidden')),document['getElementById'](_0x12c9e1(0x7f5))['addEventListener'](_0x12c9e1(0x9b4),()=>createProjectModal['classList'][_0x12c9e1(0x743)](_0x12c9e1(0x1c9))),document[_0x12c9e1(0x8cb)]('cancel-admin-login-btn')['addEventListener'](_0x12c9e1(0x9b4),()=>adminPasswordModal['classList'][_0x12c9e1(0x743)]('hidden')),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x34a))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleAdminLogin),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x37a))['addEventListener'](_0x12c9e1(0x2dc),_0x208aba=>{const _0x3bccc1=_0x12c9e1;if(_0x208aba[_0x3bccc1(0x181)]===_0x3bccc1(0x379))handleAdminLogin();}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xc96))[_0x12c9e1(0x38d)]('click',()=>{const _0x248313=_0x12c9e1;confirmationModal['classList'][_0x248313(0x743)](_0x248313(0x1c9)),typeof cancelAction===_0x248313(0x6e6)&&cancelAction(),confirmAction=null,cancelAction=null;}),document['getElementById'](_0x12c9e1(0x16a))[_0x12c9e1(0x38d)]('click',()=>{const _0x496169=_0x12c9e1;confirmAction&&confirmAction(),confirmationModal[_0x496169(0x144)][_0x496169(0x743)](_0x496169(0x1c9)),confirmAction=null,cancelAction=null;}),document[_0x12c9e1(0x8cb)]('cancel-rename-quiz-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>renameQuizModal[_0x12c9e1(0x144)][_0x12c9e1(0x743)](_0x12c9e1(0x1c9))),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x878))[_0x12c9e1(0x38d)]('click',confirmRenameQuiz),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x36f))['addEventListener'](_0x12c9e1(0x9b4),()=>moveQuizModal['classList']['add'](_0x12c9e1(0x1c9))),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x1b2))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),confirmMoveQuiz),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xb2e))[_0x12c9e1(0x38d)]('click',()=>quizSettingsModal[_0x12c9e1(0x144)]['add']('hidden')),document['getElementById'](_0x12c9e1(0x1e6))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),confirmQuizSettings),document[_0x12c9e1(0x8cb)]('cancel-quiz-status-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>quizStatusModal['classList'][_0x12c9e1(0x743)]('hidden')),document['getElementById'](_0x12c9e1(0x471))[_0x12c9e1(0x38d)]('click',confirmQuizStatus);const _0x4dcb28=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x8da));document[_0x12c9e1(0x8cb)](_0x12c9e1(0x6e1))[_0x12c9e1(0x38d)]('click',()=>{const _0x723ef9=_0x12c9e1;_0x4dcb28[_0x723ef9(0x144)][_0x723ef9(0x743)](_0x723ef9(0x1c9));}),document[_0x12c9e1(0x8cb)]('export-compact-pdf-btn')['addEventListener'](_0x12c9e1(0x9b4),async()=>{const _0x44cd03=_0x12c9e1,_0x3dd7ca=allQuizzes[_0x44cd03(0x7d2)](_0x44cc4d=>_0x44cc4d['id']===actionTargetId);_0x3dd7ca?(currentQuizData=_0x3dd7ca,exportQuizAsWorksheetPDF()):showMessage(_0x44cd03(0x47c)),_0x4dcb28[_0x44cd03(0x144)]['add'](_0x44cd03(0x1c9));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xcf4))[_0x12c9e1(0x38d)]('click',async()=>{const _0x128c04=_0x12c9e1,_0x1c35db=allQuizzes[_0x128c04(0x7d2)](_0x4218ea=>_0x4218ea['id']===actionTargetId);_0x1c35db?(currentQuizData=_0x1c35db,exportQuizAsTutorPDF()):showMessage(_0x128c04(0x47c)),_0x4dcb28[_0x128c04(0x144)][_0x128c04(0x743)](_0x128c04(0x1c9));});const _0x3f8127=document[_0x12c9e1(0x8cb)](_0x12c9e1(0xb78));_0x3f8127[_0x12c9e1(0x22a)]='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x3f8127[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),openGlobalActivityModal),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xab1))[_0x12c9e1(0x38d)]('click',()=>{const _0xba145d=_0x12c9e1;document[_0xba145d(0x8cb)](_0xba145d(0xadc))['classList'][_0xba145d(0x743)](_0xba145d(0x1c9));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x29a))[_0x12c9e1(0x38d)](_0x12c9e1(0x397),_0x1b5ddc=>{const _0x2c0fb8=_0x12c9e1;renderGlobalActivityList(_0x1b5ddc[_0x2c0fb8(0x7b9)][_0x2c0fb8(0xb66)]);}),document['getElementById']('global-activity-quiz-list')[_0x12c9e1(0x38d)]('click',_0x3491de=>{const _0x191d7f=_0x12c9e1,_0x1e3525=_0x3491de['target'][_0x191d7f(0x575)](_0x191d7f(0x25c));if(!_0x1e3525)return;const _0x2e10e8=_0x1e3525[_0x191d7f(0x5fd)]['id'],_0x225dbe=_0x1e3525[_0x191d7f(0x5fd)][_0x191d7f(0xaec)],_0x4fda49=allQuizzesGlobal['find'](_0x183799=>_0x183799['id']===_0x2e10e8);_0x4fda49&&(document[_0x191d7f(0x8cb)](_0x191d7f(0xadc))['classList'][_0x191d7f(0x743)](_0x191d7f(0x1c9)),_0x225dbe==='live-race'?handleStartLiveRace(_0x2e10e8):showGameStartConfirmationModal(_0x2e10e8,_0x225dbe,_0x4fda49[_0x191d7f(0x664)]));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xe09))[_0x12c9e1(0x38d)](_0x12c9e1(0x397),renderProjects),document['getElementById'](_0x12c9e1(0x507))[_0x12c9e1(0x38d)](_0x12c9e1(0xd8f),async()=>{const _0x599be7=_0x12c9e1,_0x281cb3=document[_0x599be7(0x8cb)]('project-sort-select')[_0x599be7(0xb66)],_0x4dd83a=doc(db,_0x599be7(0xb14),_0x599be7(0x5b3));try{await setDoc(_0x4dd83a,{'projectSort':_0x281cb3},{'merge':!![]});}catch(_0x4765dd){console[_0x599be7(0x3e8)](_0x599be7(0xe4c),_0x4765dd),showMessage(_0x599be7(0x6d9));}}),document['getElementById'](_0x12c9e1(0xda6))[_0x12c9e1(0x38d)](_0x12c9e1(0x397),renderQuizzes),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x179))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x41ce69=_0x12c9e1;globalDashboardSettings[_0x41ce69(0x72e)]=_0x41ce69(0x5d2),saveUserPreference(_0x41ce69(0x72e),_0x41ce69(0x5d2)),renderProjects();}),document['getElementById']('list-view-btn')[_0x12c9e1(0x38d)]('click',()=>{const _0x5b7a23=_0x12c9e1;globalDashboardSettings[_0x5b7a23(0x72e)]='list',saveUserPreference(_0x5b7a23(0x72e),'list'),renderProjects();}),manageTab[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>switchProjectTab('manage')),resultsTab['addEventListener'](_0x12c9e1(0x9b4),()=>switchProjectTab(_0x12c9e1(0x586))),leaderboardTab[_0x12c9e1(0x38d)]('click',()=>switchProjectTab('leaderboard')),document['getElementById']('analytics-tab-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>switchQuizDetailTab('analytics')),document['getElementById'](_0x12c9e1(0x701))['addEventListener'](_0x12c9e1(0x9b4),()=>switchQuizDetailTab(_0x12c9e1(0xd92))),document['getElementById'](_0x12c9e1(0x624))[_0x12c9e1(0x38d)]('click',()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xda5))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>switchQuizDetailTab(_0x12c9e1(0xad8))),document['getElementById'](_0x12c9e1(0xc7))['addEventListener'](_0x12c9e1(0x9b4),handleAnalyzeClass),generateWorksheetBtn[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),generateWorksheet);const _0x3f465c=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x4ee)),_0xfd5b81=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x728)),_0x3e5aac=document[_0x12c9e1(0x8cb)](_0x12c9e1(0xc5b)),_0x2199a1=document[_0x12c9e1(0x8cb)](_0x12c9e1(0xcac)),_0x5749b2=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x63c)),_0x17bd80=document[_0x12c9e1(0x8cb)]('parallel-test-input-area');topicTab['addEventListener'](_0x12c9e1(0x9b4),()=>{const _0xbfbb31=_0x12c9e1;topicTab[_0xbfbb31(0x144)][_0xbfbb31(0x743)](_0xbfbb31(0xb26)),textTab[_0xbfbb31(0x144)][_0xbfbb31(0xc8b)]('active'),fileTab['classList'][_0xbfbb31(0xc8b)](_0xbfbb31(0xb26)),worksheetTab['classList']['remove']('active');if(_0x3f465c)_0x3f465c[_0xbfbb31(0x144)][_0xbfbb31(0xc8b)](_0xbfbb31(0xb26));if(_0x3e5aac)_0x3e5aac[_0xbfbb31(0x144)][_0xbfbb31(0xc8b)](_0xbfbb31(0xb26));if(_0x5749b2)_0x5749b2['classList'][_0xbfbb31(0xc8b)](_0xbfbb31(0xb26));topicInputArea[_0xbfbb31(0x144)][_0xbfbb31(0xc8b)](_0xbfbb31(0x1c9)),textInputArea['classList'][_0xbfbb31(0x743)](_0xbfbb31(0x1c9)),fileInputArea[_0xbfbb31(0x144)][_0xbfbb31(0x743)]('hidden'),worksheetInputArea[_0xbfbb31(0x144)]['add'](_0xbfbb31(0x1c9));if(_0xfd5b81)_0xfd5b81[_0xbfbb31(0x144)][_0xbfbb31(0x743)]('hidden');if(_0x2199a1)_0x2199a1[_0xbfbb31(0x144)][_0xbfbb31(0x743)](_0xbfbb31(0x1c9));if(_0x17bd80)_0x17bd80[_0xbfbb31(0x144)][_0xbfbb31(0x743)](_0xbfbb31(0x1c9));}),textTab[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x115e4d=_0x12c9e1;textTab['classList']['add'](_0x115e4d(0xb26)),topicTab[_0x115e4d(0x144)][_0x115e4d(0xc8b)](_0x115e4d(0xb26)),fileTab[_0x115e4d(0x144)][_0x115e4d(0xc8b)](_0x115e4d(0xb26)),worksheetTab[_0x115e4d(0x144)][_0x115e4d(0xc8b)](_0x115e4d(0xb26));if(_0x3f465c)_0x3f465c[_0x115e4d(0x144)][_0x115e4d(0xc8b)](_0x115e4d(0xb26));if(_0x3e5aac)_0x3e5aac[_0x115e4d(0x144)][_0x115e4d(0xc8b)](_0x115e4d(0xb26));if(_0x5749b2)_0x5749b2['classList']['remove'](_0x115e4d(0xb26));textInputArea['classList'][_0x115e4d(0xc8b)](_0x115e4d(0x1c9)),topicInputArea[_0x115e4d(0x144)]['add'](_0x115e4d(0x1c9)),fileInputArea['classList'][_0x115e4d(0x743)](_0x115e4d(0x1c9)),worksheetInputArea[_0x115e4d(0x144)][_0x115e4d(0x743)](_0x115e4d(0x1c9));if(_0xfd5b81)_0xfd5b81[_0x115e4d(0x144)][_0x115e4d(0x743)](_0x115e4d(0x1c9));if(_0x2199a1)_0x2199a1[_0x115e4d(0x144)][_0x115e4d(0x743)](_0x115e4d(0x1c9));if(_0x17bd80)_0x17bd80['classList'][_0x115e4d(0x743)](_0x115e4d(0x1c9));}),fileTab['addEventListener'](_0x12c9e1(0x9b4),()=>{const _0x3dca73=_0x12c9e1;fileTab[_0x3dca73(0x144)][_0x3dca73(0x743)]('active'),topicTab[_0x3dca73(0x144)][_0x3dca73(0xc8b)](_0x3dca73(0xb26)),textTab[_0x3dca73(0x144)][_0x3dca73(0xc8b)](_0x3dca73(0xb26)),worksheetTab['classList'][_0x3dca73(0xc8b)](_0x3dca73(0xb26));if(_0x3f465c)_0x3f465c[_0x3dca73(0x144)][_0x3dca73(0xc8b)](_0x3dca73(0xb26));if(_0x3e5aac)_0x3e5aac['classList'][_0x3dca73(0xc8b)]('active');if(_0x5749b2)_0x5749b2['classList'][_0x3dca73(0xc8b)](_0x3dca73(0xb26));fileInputArea[_0x3dca73(0x144)]['remove']('hidden'),topicInputArea[_0x3dca73(0x144)][_0x3dca73(0x743)](_0x3dca73(0x1c9)),textInputArea[_0x3dca73(0x144)][_0x3dca73(0x743)](_0x3dca73(0x1c9)),worksheetInputArea['classList']['add'](_0x3dca73(0x1c9));if(_0xfd5b81)_0xfd5b81['classList'][_0x3dca73(0x743)]('hidden');if(_0x2199a1)_0x2199a1[_0x3dca73(0x144)][_0x3dca73(0x743)](_0x3dca73(0x1c9));if(_0x17bd80)_0x17bd80[_0x3dca73(0x144)][_0x3dca73(0x743)](_0x3dca73(0x1c9));}),worksheetTab[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0xd78270=_0x12c9e1;worksheetTab[_0xd78270(0x144)][_0xd78270(0x743)](_0xd78270(0xb26)),topicTab[_0xd78270(0x144)][_0xd78270(0xc8b)](_0xd78270(0xb26)),textTab[_0xd78270(0x144)]['remove'](_0xd78270(0xb26)),fileTab[_0xd78270(0x144)]['remove'](_0xd78270(0xb26));if(_0x3f465c)_0x3f465c[_0xd78270(0x144)]['remove'](_0xd78270(0xb26));if(_0x3e5aac)_0x3e5aac[_0xd78270(0x144)][_0xd78270(0xc8b)](_0xd78270(0xb26));if(_0x5749b2)_0x5749b2[_0xd78270(0x144)][_0xd78270(0xc8b)](_0xd78270(0xb26));worksheetInputArea[_0xd78270(0x144)][_0xd78270(0xc8b)](_0xd78270(0x1c9)),topicInputArea['classList'][_0xd78270(0x743)](_0xd78270(0x1c9)),textInputArea[_0xd78270(0x144)][_0xd78270(0x743)]('hidden'),fileInputArea['classList'][_0xd78270(0x743)](_0xd78270(0x1c9));if(_0xfd5b81)_0xfd5b81['classList'][_0xd78270(0x743)](_0xd78270(0x1c9));if(_0x2199a1)_0x2199a1[_0xd78270(0x144)]['add']('hidden');if(_0x17bd80)_0x17bd80[_0xd78270(0x144)]['add'](_0xd78270(0x1c9));});const _0x1482ec=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x35e)),_0x509e3b=document['getElementById'](_0x12c9e1(0x9fd));_0x1482ec&&_0x1482ec['addEventListener'](_0x12c9e1(0x9b4),()=>{const _0x2add5d=_0x12c9e1;topicTab[_0x2add5d(0x144)][_0x2add5d(0xc8b)]('active'),textTab[_0x2add5d(0x144)][_0x2add5d(0xc8b)](_0x2add5d(0xb26)),fileTab[_0x2add5d(0x144)][_0x2add5d(0xc8b)](_0x2add5d(0xb26)),worksheetTab['classList']['remove'](_0x2add5d(0xb26));if(_0x3f465c)_0x3f465c[_0x2add5d(0x144)][_0x2add5d(0xc8b)]('active');if(_0x3e5aac)_0x3e5aac['classList'][_0x2add5d(0xc8b)](_0x2add5d(0xb26));if(_0x5749b2)_0x5749b2[_0x2add5d(0x144)][_0x2add5d(0xc8b)](_0x2add5d(0xb26));_0x1482ec['classList'][_0x2add5d(0x743)](_0x2add5d(0xb26)),topicInputArea[_0x2add5d(0x144)][_0x2add5d(0x743)](_0x2add5d(0x1c9)),textInputArea['classList']['add'](_0x2add5d(0x1c9)),fileInputArea[_0x2add5d(0x144)][_0x2add5d(0x743)](_0x2add5d(0x1c9)),worksheetInputArea[_0x2add5d(0x144)][_0x2add5d(0x743)](_0x2add5d(0x1c9));if(_0xfd5b81)_0xfd5b81['classList'][_0x2add5d(0x743)]('hidden');if(_0x2199a1)_0x2199a1[_0x2add5d(0x144)][_0x2add5d(0x743)]('hidden');if(_0x17bd80)_0x17bd80[_0x2add5d(0x144)][_0x2add5d(0x743)]('hidden');_0x509e3b[_0x2add5d(0x144)][_0x2add5d(0xc8b)](_0x2add5d(0x1c9)),displayQuestionBank();});_0x3f465c&&(_0x3f465c[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x25e6b7=_0x12c9e1;_0x3f465c[_0x25e6b7(0x144)][_0x25e6b7(0x743)]('active'),topicTab[_0x25e6b7(0x144)][_0x25e6b7(0xc8b)]('active'),textTab['classList']['remove'](_0x25e6b7(0xb26)),fileTab[_0x25e6b7(0x144)][_0x25e6b7(0xc8b)](_0x25e6b7(0xb26)),worksheetTab[_0x25e6b7(0x144)][_0x25e6b7(0xc8b)]('active');if(_0x3e5aac)_0x3e5aac[_0x25e6b7(0x144)]['remove'](_0x25e6b7(0xb26));if(_0x5749b2)_0x5749b2[_0x25e6b7(0x144)][_0x25e6b7(0xc8b)]('active');_0xfd5b81[_0x25e6b7(0x144)][_0x25e6b7(0xc8b)](_0x25e6b7(0x1c9)),topicInputArea['classList'][_0x25e6b7(0x743)](_0x25e6b7(0x1c9)),textInputArea[_0x25e6b7(0x144)][_0x25e6b7(0x743)](_0x25e6b7(0x1c9)),fileInputArea['classList'][_0x25e6b7(0x743)](_0x25e6b7(0x1c9)),worksheetInputArea[_0x25e6b7(0x144)][_0x25e6b7(0x743)](_0x25e6b7(0x1c9));if(_0x2199a1)_0x2199a1[_0x25e6b7(0x144)][_0x25e6b7(0x743)](_0x25e6b7(0x1c9));if(_0x17bd80)_0x17bd80[_0x25e6b7(0x144)][_0x25e6b7(0x743)](_0x25e6b7(0x1c9));}),document['getElementById'](_0x12c9e1(0x34d))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleGenerateFromLink));_0x3e5aac&&_0x3e5aac[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x49c0db=_0x12c9e1;_0x3e5aac[_0x49c0db(0x144)][_0x49c0db(0x743)](_0x49c0db(0xb26)),topicTab[_0x49c0db(0x144)][_0x49c0db(0xc8b)](_0x49c0db(0xb26)),textTab[_0x49c0db(0x144)]['remove'](_0x49c0db(0xb26)),fileTab[_0x49c0db(0x144)][_0x49c0db(0xc8b)]('active'),worksheetTab['classList']['remove']('active');if(_0x3f465c)_0x3f465c[_0x49c0db(0x144)]['remove']('active');if(_0x1482ec)_0x1482ec['classList'][_0x49c0db(0xc8b)](_0x49c0db(0xb26));if(_0x5749b2)_0x5749b2[_0x49c0db(0x144)][_0x49c0db(0xc8b)]('active');_0x2199a1[_0x49c0db(0x144)][_0x49c0db(0xc8b)](_0x49c0db(0x1c9)),topicInputArea[_0x49c0db(0x144)]['add'](_0x49c0db(0x1c9)),textInputArea[_0x49c0db(0x144)][_0x49c0db(0x743)](_0x49c0db(0x1c9)),fileInputArea[_0x49c0db(0x144)]['add'](_0x49c0db(0x1c9)),worksheetInputArea[_0x49c0db(0x144)]['add'](_0x49c0db(0x1c9));if(_0xfd5b81)_0xfd5b81[_0x49c0db(0x144)][_0x49c0db(0x743)]('hidden');if(_0x509e3b)_0x509e3b[_0x49c0db(0x144)]['add'](_0x49c0db(0x1c9));if(_0x17bd80)_0x17bd80[_0x49c0db(0x144)][_0x49c0db(0x743)](_0x49c0db(0x1c9));});_0x5749b2&&_0x5749b2[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x48166b=_0x12c9e1;_0x5749b2[_0x48166b(0x144)][_0x48166b(0x743)](_0x48166b(0xb26)),topicTab[_0x48166b(0x144)]['remove'](_0x48166b(0xb26)),textTab[_0x48166b(0x144)][_0x48166b(0xc8b)](_0x48166b(0xb26)),fileTab[_0x48166b(0x144)][_0x48166b(0xc8b)](_0x48166b(0xb26)),worksheetTab['classList'][_0x48166b(0xc8b)]('active');if(_0x3f465c)_0x3f465c[_0x48166b(0x144)][_0x48166b(0xc8b)](_0x48166b(0xb26));if(_0x3e5aac)_0x3e5aac[_0x48166b(0x144)]['remove'](_0x48166b(0xb26));if(_0x1482ec)_0x1482ec['classList'][_0x48166b(0xc8b)](_0x48166b(0xb26));_0x17bd80['classList'][_0x48166b(0xc8b)](_0x48166b(0x1c9)),topicInputArea[_0x48166b(0x144)][_0x48166b(0x743)](_0x48166b(0x1c9)),textInputArea[_0x48166b(0x144)]['add'](_0x48166b(0x1c9)),fileInputArea['classList']['add'](_0x48166b(0x1c9)),worksheetInputArea[_0x48166b(0x144)][_0x48166b(0x743)](_0x48166b(0x1c9));if(_0xfd5b81)_0xfd5b81[_0x48166b(0x144)]['add']('hidden');if(_0x2199a1)_0x2199a1[_0x48166b(0x144)][_0x48166b(0x743)]('hidden');if(_0x509e3b)_0x509e3b[_0x48166b(0x144)][_0x48166b(0x743)](_0x48166b(0x1c9));});const _0x306a4e=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x6ca)),_0x2855b7=document[_0x12c9e1(0x8cb)](_0x12c9e1(0xe14));if(_0x306a4e){const _0x4eafe6=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x6ca)),_0x164864=document['getElementById'](_0x12c9e1(0xe14)),_0x3c5b19=document['getElementById']('blueprint-options-container'),_0x4571da=document[_0x12c9e1(0x8cb)]('separate-by-content-checkbox'),_0x15975e=document[_0x12c9e1(0x8cb)](_0x12c9e1(0xbe7)),_0x110256=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x95e));_0x4eafe6&&_0x4eafe6[_0x12c9e1(0x38d)](_0x12c9e1(0xd8f),async _0x577b1a=>{const _0x223a86=_0x12c9e1;_0x3c5b19[_0x223a86(0x144)][_0x223a86(0x743)]('hidden'),_0x15975e[_0x223a86(0x144)][_0x223a86(0x743)]('hidden'),_0x4571da[_0x223a86(0x4d7)]=![],_0x164864[_0x223a86(0xc2b)]=!![];const _0xef5aa1=_0x577b1a[_0x223a86(0x7b9)][_0x223a86(0x9cf)][0x0];if(_0xef5aa1){_0x164864[_0x223a86(0xc2b)]=![];try{const _0x595138=await extractTextFromPdf(_0xef5aa1);await analyzeBlueprintForTopics(_0x595138);}catch(_0x1959e4){showMessage(_0x223a86(0x79c)),_0x3c5b19['classList'][_0x223a86(0x743)](_0x223a86(0x1c9));}}}),_0x4571da&&_0x4571da[_0x12c9e1(0x38d)](_0x12c9e1(0xd8f),_0x5d0d5e=>{const _0x337a5d=_0x12c9e1,_0x37298c=_0x5d0d5e[_0x337a5d(0x7b9)]['checked'];_0x15975e[_0x337a5d(0x144)][_0x337a5d(0x463)](_0x337a5d(0x1c9),!_0x37298c),_0x164864[_0x337a5d(0xc2b)]=_0x37298c;}),_0x110256&&(_0x110256&&_0x110256[_0x12c9e1(0x38d)]('click',_0xcbd19b=>{const _0xc33837=_0x12c9e1,_0x3fba2b=_0xcbd19b['target'][_0xc33837(0x575)](_0xc33837(0x351)),_0x183298=_0xcbd19b[_0xc33837(0x7b9)][_0xc33837(0x575)](_0xc33837(0x479));if(_0x3fba2b){const _0x248651=unescape(_0x3fba2b[_0xc33837(0x5fd)][_0xc33837(0x664)]);generateQuizForSingleTopic(_0x248651);}else{if(_0x183298){const _0x162e00=unescape(_0x183298[_0xc33837(0x5fd)][_0xc33837(0x664)]);handleGenerateTeachingContent(_0x162e00);}}}));}_0x2855b7&&_0x2855b7[_0x12c9e1(0x38d)]('click',handleGenerateFromBlueprint);const _0x1814d7=document['getElementById'](_0x12c9e1(0xa01)),_0x141f5f=document[_0x12c9e1(0x8cb)]('generate-from-parallel-test-btn');_0x1814d7&&_0x1814d7['addEventListener'](_0x12c9e1(0xd8f),_0x553fa5=>{const _0x5e12f8=_0x12c9e1;_0x141f5f[_0x5e12f8(0xc2b)]=_0x553fa5[_0x5e12f8(0x7b9)][_0x5e12f8(0x9cf)][_0x5e12f8(0x3bb)]===0x0;});_0x141f5f&&_0x141f5f[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleLoadQuiz),startQuizBtn[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),async()=>{const _0x57f497=_0x12c9e1,_0x488532=document[_0x57f497(0x8cb)]('student-name-select');currentStudentName=_0x488532[_0x57f497(0xb66)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x2dcc4a=currentQuizData['id'],_0x2f1983=doc(db,_0x57f497(0x9c2)+appId+_0x57f497(0x360)+_0x2dcc4a+'/submissions',currentStudentName),_0x15297e=await getDoc(_0x2f1983);!_0x15297e[_0x57f497(0x45f)]()?await setDoc(_0x2f1983,{'studentName':currentStudentName,'startedAt':new Date()[_0x57f497(0x77d)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x2f1983,{'startedAt':new Date()['toISOString']()});}catch(_0x1efe38){console[_0x57f497(0x3e8)](_0x57f497(0xab3),_0x1efe38),showMessage(_0x57f497(0x1b1));return;}studentNameSelectionView[_0x57f497(0x144)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xddf))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),showJoinGameView),document['getElementById']('confirm-join-game-btn')[_0x12c9e1(0x38d)]('click',handleJoinLiveGame),document['getElementById'](_0x12c9e1(0x95c))['addEventListener'](_0x12c9e1(0x9b4),()=>showView(_0x12c9e1(0x24c)));const _0x22536c=()=>{const _0x316470=_0x12c9e1,_0x16c5a1=document[_0x316470(0x8cb)]('results-quiz-title')[_0x316470(0x1ae)][_0x316470(0xb91)](/[^a-z0-9]/gi,'_')[_0x316470(0xdfe)]();return _0x316470(0xc76)+(_0x16c5a1||'quiz');},_0x5bdc7f=document['getElementById']('math-topic-search-input');_0x5bdc7f&&_0x5bdc7f[_0x12c9e1(0x38d)](_0x12c9e1(0x397),_0x29692b=>{const _0x4ae295=_0x12c9e1,_0x405a11=_0x29692b[_0x4ae295(0x7b9)][_0x4ae295(0xb66)][_0x4ae295(0xdfe)]()['trim'](),_0x4a59f4=document['getElementById'](_0x4ae295(0xe71)),_0x459004=_0x4a59f4[_0x4ae295(0xb9f)](_0x4ae295(0xd5));_0x459004[_0x4ae295(0x3f4)](_0x24e14f=>{const _0x5eabe7=_0x4ae295;let _0x38a4e9=![];const _0x507595=_0x24e14f[_0x5eabe7(0xb9f)]('.topic-row');_0x507595[_0x5eabe7(0x3f4)](_0x364830=>{const _0xd48c04=_0x5eabe7,_0x5911b3=_0x364830[_0xd48c04(0x947)](_0xd48c04(0xc03))['textContent'][_0xd48c04(0xdfe)]();_0x5911b3['includes'](_0x405a11)?(_0x364830[_0xd48c04(0x220)][_0xd48c04(0xa5a)]=_0xd48c04(0xe23),_0x38a4e9=!![]):_0x364830[_0xd48c04(0x220)][_0xd48c04(0xa5a)]=_0xd48c04(0xcab);}),_0x38a4e9?_0x24e14f['style'][_0x5eabe7(0xa5a)]=_0x5eabe7(0x6b5):_0x24e14f[_0x5eabe7(0x220)][_0x5eabe7(0xa5a)]=_0x5eabe7(0xcab);});});document['getElementById'](_0x12c9e1(0xd2d))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>exportTableAsImage(_0x12c9e1(0xa51),_0x22536c())),document['getElementById'](_0x12c9e1(0x8bf))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>exportTableAsPDF(_0x12c9e1(0x161),_0x22536c())),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x7ca))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>exportTableAsWord(_0x12c9e1(0xa51),_0x22536c())),document[_0x12c9e1(0x8cb)]('export-excel-btn')[_0x12c9e1(0x38d)]('click',()=>exportTableAsExcel(_0x12c9e1(0x161),_0x22536c()));const _0xcd311f=()=>{const _0xdcfc80=_0x12c9e1,_0x4b455d=document[_0xdcfc80(0x8cb)](_0xdcfc80(0xdde))[_0xdcfc80(0x1ae)][_0xdcfc80(0xb91)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0xdcfc80(0xd5d)+(_0x4b455d||_0xdcfc80(0x256));};document['getElementById'](_0x12c9e1(0x11e))[_0x12c9e1(0x38d)]('click',()=>exportTableAsImage(_0x12c9e1(0x9ac),_0xcd311f())),document['getElementById'](_0x12c9e1(0x94e))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>exportTableAsPDF('quiz-leaderboard-table',_0xcd311f())),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x296))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>exportTableAsWord(_0x12c9e1(0x9ac),_0xcd311f())),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x2c2))['addEventListener'](_0x12c9e1(0x9b4),()=>exportTableAsExcel(_0x12c9e1(0x5cf),_0xcd311f())),projectQuizzesList[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),async _0x5ceee9=>{const _0x35e676=_0x12c9e1,_0x5c8625=_0x5ceee9[_0x35e676(0x7b9)]['closest']('.quiz-result-card'),_0x124fd1=_0x5ceee9[_0x35e676(0x7b9)]['closest'](_0x35e676(0x919)),_0x47a4c2=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)](_0x35e676(0xe06)),_0x5f80e4=_0x5ceee9[_0x35e676(0x7b9)]['closest'](_0x35e676(0xb86)),_0x177752=_0x5ceee9['target'][_0x35e676(0x575)]('.star-quiz-btn'),_0x3d7062=_0x5ceee9['target'][_0x35e676(0x575)]('.copy-quiz-id-list-btn'),_0x126739=_0x5ceee9['target']['closest'](_0x35e676(0x3d4)),_0x1dcaa8=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)](_0x35e676(0x533)),_0x3f0d50=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)]('.duplicate-quiz-btn'),_0x427369=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)](_0x35e676(0x906)),_0x4dea71=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)]('.parallel-quiz-btn'),_0x5dd710=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)](_0x35e676(0xc29)),_0x1fd293=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)](_0x35e676(0x434)),_0x44c1fc=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)]('.unpair-quiz-btn'),_0x474997=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)](_0x35e676(0x778)),_0x1d7549=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)]('.admin-try-quiz-list-btn'),_0x3f69dd=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)]('.export-pdf-list-btn'),_0x24da19=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)]('.delete-quiz-btn'),_0x2081fd=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)](_0x35e676(0x332)),_0x5e1fc5=_0x5ceee9[_0x35e676(0x7b9)]['closest'](_0x35e676(0x752)),_0x3162f3=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)](_0x35e676(0xa54)),_0x295dc7=_0x5ceee9[_0x35e676(0x7b9)]['closest'](_0x35e676(0x893)),_0x5a355d=_0x5ceee9[_0x35e676(0x7b9)][_0x35e676(0x575)](_0x35e676(0x9cb));if(_0x295dc7){const _0x24ff0d=_0x295dc7[_0x35e676(0x5fd)][_0x35e676(0x9fe)],_0x45b79d=_0x295dc7[_0x35e676(0x5fd)][_0x35e676(0xaec)],_0x2dcda3=allQuizzes[_0x35e676(0x7d2)](_0x2ec244=>_0x2ec244['id']===_0x24ff0d);_0x2dcda3&&showGameStartConfirmationModal(_0x24ff0d,_0x45b79d,_0x2dcda3[_0x35e676(0x664)]);}else{if(_0x5a355d){const _0x243f6c=_0x5a355d[_0x35e676(0x5fd)][_0x35e676(0x9fe)];handleStartLiveRace(_0x243f6c);}else{if(_0x5e1fc5){const _0x5168e6=_0x5e1fc5[_0x35e676(0x5fd)][_0x35e676(0x9fe)],_0x1b4e36=document['getElementById']('actions-container-'+_0x5168e6);_0x1b4e36&&_0x1b4e36[_0x35e676(0x144)][_0x35e676(0x463)](_0x35e676(0x1c9));}else{if(_0x124fd1){const _0x6f408d=_0x124fd1[_0x35e676(0x5fd)][_0x35e676(0x9fe)],_0x24de13=allQuizzes[_0x35e676(0x7d2)](_0x380ba9=>_0x380ba9['id']===_0x6f408d);_0x24de13&&handleGenerateParallelPostTest(_0x24de13);}else{if(_0x47a4c2)handleCompareResults(_0x47a4c2[_0x35e676(0x5fd)][_0x35e676(0x9fe)],_0x47a4c2[_0x35e676(0x5fd)][_0x35e676(0x481)]);else{if(_0x5f80e4){const _0x2477bc=_0x5f80e4[_0x35e676(0x5fd)][_0x35e676(0x9fe)],_0x2b7501=allQuizzes[_0x35e676(0x7d2)](_0x5e61e6=>_0x5e61e6['id']===_0x2477bc);_0x2b7501&&_0x2b7501['lessonPlan']?(displayLessonPlan(_0x2b7501['lessonPlan'],_0x2b7501),showConfirmation(_0x35e676(0xe42),()=>handleGenerateLessonPlan(_0x2477bc)),document['getElementById'](_0x35e676(0xa9c))[_0x35e676(0x947)]('h3')[_0x35e676(0x1ae)]=_0x35e676(0xd1d),document[_0x35e676(0x8cb)](_0x35e676(0x16a))[_0x35e676(0x1ae)]=_0x35e676(0x86d)):handleGenerateLessonPlan(_0x2477bc);}else{if(_0x177752)handleToggleStarQuiz(_0x177752[_0x35e676(0x5fd)][_0x35e676(0x9fe)]);else{if(_0x3d7062)copyTextToClipboard(_0x3d7062[_0x35e676(0x5fd)][_0x35e676(0x9fe)],_0x35e676(0x53e));else{if(_0x126739)handleOpenQuizEditor(_0x126739['dataset']['quizId']);else{if(_0x1dcaa8)handleQuizSettings(_0x1dcaa8['dataset'][_0x35e676(0x9fe)]);else{if(_0x3f0d50)handleDuplicateQuiz(_0x3f0d50[_0x35e676(0x5fd)][_0x35e676(0x9fe)]);else{if(_0x427369)handleRenameQuiz(_0x427369[_0x35e676(0x5fd)][_0x35e676(0x9fe)],_0x427369[_0x35e676(0x5fd)][_0x35e676(0x664)]);else{if(_0x4dea71){const _0x3594cc=_0x4dea71[_0x35e676(0x5fd)][_0x35e676(0x9fe)],_0x40a51b=allQuizzes[_0x35e676(0x7d2)](_0x2cd064=>_0x2cd064['id']===_0x3594cc);_0x40a51b&&handleGenerateParallelFromBank(_0x40a51b);}else{if(_0x5dd710)handleMoveQuiz(_0x5dd710['dataset'][_0x35e676(0x9fe)]);else{if(_0x1fd293)handleManualQuizPairing(_0x1fd293[_0x35e676(0x5fd)][_0x35e676(0x9fe)]);else{if(_0x44c1fc)handleUnpairQuiz(_0x44c1fc[_0x35e676(0x5fd)][_0x35e676(0x9fe)]);else{if(_0x474997){const _0x593c9b=_0x474997[_0x35e676(0x5fd)][_0x35e676(0x9fe)],_0x209e54=allQuizzes[_0x35e676(0x7d2)](_0x1bb47d=>_0x1bb47d['id']===_0x593c9b);if(_0x209e54)startPresentation(_0x209e54);}else{if(_0x1d7549){const _0x139b54=_0x1d7549[_0x35e676(0x5fd)][_0x35e676(0x9fe)],_0x2f03ec=allQuizzes[_0x35e676(0x7d2)](_0x2613da=>_0x2613da['id']===_0x139b54);_0x2f03ec&&(currentQuizData=_0x2f03ec,startAdminTest());}else{if(_0x3f69dd)actionTargetId=_0x3f69dd['dataset'][_0x35e676(0x9fe)],document[_0x35e676(0x8cb)]('export-pdf-modal')[_0x35e676(0x144)][_0x35e676(0xc8b)](_0x35e676(0x1c9));else{if(_0x24da19)showConfirmation(_0x35e676(0xdd9)+_0x24da19[_0x35e676(0x5fd)]['topic']+_0x35e676(0xc2),()=>handleDeleteQuiz(_0x24da19[_0x35e676(0x5fd)][_0x35e676(0x9fe)]));else{if(_0x2081fd)handleQuizStatus(_0x2081fd[_0x35e676(0x5fd)][_0x35e676(0x9fe)]);else{if(_0x3162f3)handleGenerateEasyVersionQuiz(_0x3162f3[_0x35e676(0x5fd)][_0x35e676(0x9fe)]);else _0x5c8625&&showQuizDetailView(_0x5c8625['dataset'][_0x35e676(0x9fe)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x12c9e1(0x4c3))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>showView(_0x12c9e1(0x24c))),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x6e8))['addEventListener'](_0x12c9e1(0x9b4),confirmAndStartTeamQuiz),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x5cf))[_0x12c9e1(0x947)]('thead')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),_0x15a2d4=>{const _0xf7b791=_0x12c9e1,_0x196ab9=_0x15a2d4[_0xf7b791(0x7b9)][_0xf7b791(0x575)]('.sortable-header');if(!_0x196ab9||!_0x196ab9[_0xf7b791(0x5fd)][_0xf7b791(0x9a7)])return;const _0x19a589=_0x196ab9['dataset'][_0xf7b791(0x9a7)];if(quizLeaderboardSortBy===_0x19a589)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0xf7b791(0x57f):'asc';else{quizLeaderboardSortBy=_0x19a589;const _0x15e864=[_0xf7b791(0x1fe)];quizLeaderboardSortOrder=_0x15e864[_0xf7b791(0xd33)](_0x19a589)?_0xf7b791(0xa23):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0xf7b791(0x5a7));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x32a))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),closePresentation),document[_0x12c9e1(0x8cb)]('prev-question-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x129))['addEventListener']('click',()=>{const _0x388572=_0x12c9e1;currentQuizData[_0x388572(0x763)]&&currentPresentationSlide<currentQuizData[_0x388572(0x763)][_0x388572(0x3bb)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x12c9e1(0x38d)](_0x12c9e1(0xa2f),()=>{const _0x3eddbf=_0x12c9e1;!document[_0x3eddbf(0x4f5)]&&(presentationModal[_0x3eddbf(0x220)][_0x3eddbf(0xa5a)]='none');}),document[_0x12c9e1(0x8cb)]('delete-all-students-btn')['addEventListener'](_0x12c9e1(0x9b4),handleDeleteAllStudents),studentList[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),_0x116ef7=>{const _0x5d23b8=_0x12c9e1,_0x23da3e=_0x116ef7['target'][_0x5d23b8(0x575)](_0x5d23b8(0xd9e));if(_0x23da3e){const _0x3f1906=_0x23da3e[_0x5d23b8(0x5fd)][_0x5d23b8(0x1fe)];handleDeleteStudent(_0x3f1906);}}),document[_0x12c9e1(0x8cb)]('generate-from-file-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleGenerateFromFileClick),fileUploadInput[_0x12c9e1(0x38d)](_0x12c9e1(0xd8f),_0x1b089c=>{const _0x28b181=_0x12c9e1,_0x4175cb=_0x1b089c[_0x28b181(0x7b9)][_0x28b181(0x9cf)][0x0],_0x53db62=document[_0x28b181(0x8cb)](_0x28b181(0x85b)),_0xdcb1eb=document[_0x28b181(0x8cb)](_0x28b181(0x23d)),_0x1f8bf1=document[_0x28b181(0x8cb)](_0x28b181(0xdf));_0x4175cb?(selectedFile=_0x4175cb,_0x1f8bf1[_0x28b181(0x4d7)]?(_0x53db62['disabled']=!![],analyzeFileForTopics(_0x4175cb)):(_0x53db62[_0x28b181(0xc2b)]=![],_0xdcb1eb[_0x28b181(0x144)]['add']('hidden'))):(selectedFile=null,_0x53db62[_0x28b181(0xc2b)]=!![],_0xdcb1eb['classList']['add'](_0x28b181(0x1c9)));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xdf))[_0x12c9e1(0x38d)]('change',_0x128660=>{const _0x3723e0=_0x12c9e1,_0x5768d6=_0x128660[_0x3723e0(0x7b9)][_0x3723e0(0x4d7)],_0x36e9de=document[_0x3723e0(0x8cb)]('generate-from-file-btn'),_0x708ae9=document['getElementById'](_0x3723e0(0x23d));_0x5768d6?(_0x36e9de[_0x3723e0(0xc2b)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x708ae9[_0x3723e0(0x144)]['remove'](_0x3723e0(0x1c9)),document[_0x3723e0(0x8cb)](_0x3723e0(0x3f3))[_0x3723e0(0x22a)]=_0x3723e0(0x264))):(_0x708ae9[_0x3723e0(0x144)]['add']('hidden'),_0x36e9de['disabled']=!selectedFile);}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x23d))['addEventListener'](_0x12c9e1(0x9b4),_0x3773a7=>{const _0x561183=_0x12c9e1,_0x5f1222=_0x3773a7[_0x561183(0x7b9)][_0x561183(0x575)](_0x561183(0x614)),_0x44eb0d=_0x3773a7[_0x561183(0x7b9)]['closest'](_0x561183(0x479));if(_0x5f1222){const _0x313667=unescape(_0x5f1222[_0x561183(0x5fd)][_0x561183(0x664)]);generateHybridQuizForTopic(_0x313667);}else{if(_0x44eb0d){const _0xfc56bd=unescape(_0x44eb0d[_0x561183(0x5fd)]['topic']),_0x3b2912=document[_0x561183(0x8cb)]('difficulty-level-select')[_0x561183(0xb66)];handleGenerateAndShowLesson(_0xfc56bd,_0x3b2912);}}}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xe1))[_0x12c9e1(0x38d)](_0x12c9e1(0xd8f),_0x4e46b5=>{const _0x36e204=_0x12c9e1,_0x13cbc1=document['getElementById']('timer-duration-container'),_0x40fbe4=document[_0x36e204(0x8cb)](_0x36e204(0x354)),_0x141b17=document[_0x36e204(0x8cb)](_0x36e204(0x4cb));_0x4e46b5[_0x36e204(0x7b9)][_0x36e204(0xb66)]==='none'?_0x13cbc1[_0x36e204(0x144)][_0x36e204(0x743)]('hidden'):(_0x13cbc1[_0x36e204(0x144)][_0x36e204(0xc8b)]('hidden'),_0x4e46b5['target'][_0x36e204(0xb66)]===_0x36e204(0x251)?(_0x40fbe4[_0x36e204(0x1ae)]=_0x36e204(0xb93),_0x141b17[_0x36e204(0xb66)]='10'):(_0x40fbe4[_0x36e204(0x1ae)]=_0x36e204(0xb25),_0x141b17[_0x36e204(0xb66)]='30'));}),document['getElementById'](_0x12c9e1(0x9b0))['addEventListener'](_0x12c9e1(0xd8f),_0x311f1f=>{const _0x3e604d=_0x12c9e1,_0x3b143b=document[_0x3e604d(0x8cb)](_0x3e604d(0x366)),_0x52078d=_0x311f1f[_0x3e604d(0x7b9)][_0x3e604d(0xb66)],_0x2d1e08=document['querySelector']('label[for=\x22num-questions\x22]'),_0x35840c=document[_0x3e604d(0x8cb)](_0x3e604d(0x4f0)),_0x21887c=document[_0x3e604d(0x8cb)]('num-questions');_0x52078d===_0x3e604d(0x842)?_0x2d1e08['textContent']=_0x3e604d(0x344):_0x2d1e08[_0x3e604d(0x1ae)]='จำนวนข้อ:',_0x52078d==='multiple_choice'||_0x52078d===_0x3e604d(0x7ec)||_0x52078d===_0x3e604d(0xbd0)?_0x3b143b[_0x3e604d(0x144)][_0x3e604d(0xc8b)](_0x3e604d(0x1c9)):_0x3b143b[_0x3e604d(0x144)][_0x3e604d(0x743)](_0x3e604d(0x1c9)),_0x35840c[_0x3e604d(0xa73)]=_0x21887c['value'];}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x76d))['addEventListener'](_0x12c9e1(0x397),_0x3ae42b=>{const _0x5ba1cd=_0x12c9e1;document[_0x5ba1cd(0x8cb)](_0x5ba1cd(0x4f0))['max']=_0x3ae42b['target']['value'];}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x27b))[_0x12c9e1(0x38d)](_0x12c9e1(0xd8f),_0x220c85=>{const _0x47517e=_0x12c9e1,_0x409992=document[_0x47517e(0x8cb)]('modal-timer-duration-container'),_0x371064=document[_0x47517e(0x8cb)](_0x47517e(0xb5b)),_0x57c06b=document[_0x47517e(0x8cb)]('modal-timer-duration-input');_0x220c85[_0x47517e(0x7b9)]['value']===_0x47517e(0xcab)?_0x409992['classList'][_0x47517e(0x743)](_0x47517e(0x1c9)):(_0x409992[_0x47517e(0x144)][_0x47517e(0xc8b)](_0x47517e(0x1c9)),_0x220c85['target'][_0x47517e(0xb66)]===_0x47517e(0x251)?_0x371064[_0x47517e(0x1ae)]=_0x47517e(0xb93):_0x371064[_0x47517e(0x1ae)]=_0x47517e(0xb25));}),document['getElementById']('cancel-quiz-edits-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x46a863=_0x12c9e1;document[_0x46a863(0x8cb)](_0x46a863(0x58e))[_0x46a863(0x144)][_0x46a863(0x743)](_0x46a863(0x1c9));}),document[_0x12c9e1(0x8cb)]('cancel-quiz-edits-btn-footer')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x5e3e1b=_0x12c9e1;document[_0x5e3e1b(0x8cb)](_0x5e3e1b(0x58e))[_0x5e3e1b(0x144)][_0x5e3e1b(0x743)](_0x5e3e1b(0x1c9));}),document['getElementById'](_0x12c9e1(0x46a))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleVerifyAnswersInEditor),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xcd0))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x4662b1=_0x12c9e1;document[_0x4662b1(0x8cb)]('quiz-editor-modal')[_0x4662b1(0x144)][_0x4662b1(0x743)](_0x4662b1(0x1c9)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x4ed))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleAutoFixLatex);const _0x2921f7=document[_0x12c9e1(0x8cb)](_0x12c9e1(0x2ac));_0x2921f7&&_0x2921f7[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),_0x264e73=>{const _0x35cd7e=_0x12c9e1,_0x37137b=_0x264e73['target'][_0x35cd7e(0x575)]('.regenerate-question-editor-btn');if(_0x37137b){const _0x46a29c=_0x37137b[_0x35cd7e(0x575)](_0x35cd7e(0x1ec)),_0x3d603d=parseInt(_0x46a29c['dataset']['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x3d603d);return;}const _0xf98b25=_0x264e73[_0x35cd7e(0x7b9)][_0x35cd7e(0x575)](_0x35cd7e(0x302));if(_0xf98b25){const _0x59bb48=_0xf98b25[_0x35cd7e(0x575)](_0x35cd7e(0x1ec)),_0x595ab9=parseInt(_0x59bb48[_0x35cd7e(0x5fd)][_0x35cd7e(0x563)],0xa);handleDeleteQuestionInEditor(_0x595ab9);return;}const _0x4f25ab=_0x264e73['target'][_0x35cd7e(0x575)](_0x35cd7e(0x574));if(_0x4f25ab){handleAddQuestionInEditor();return;}});document['getElementById'](_0x12c9e1(0x9d4))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),openQuizBankModal),document['getElementById'](_0x12c9e1(0xb40))['addEventListener'](_0x12c9e1(0x9b4),()=>{const _0x5c2d36=_0x12c9e1;document['getElementById'](_0x5c2d36(0xb29))['classList'][_0x5c2d36(0x743)](_0x5c2d36(0x1c9));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xd84))['addEventListener'](_0x12c9e1(0x397),_0x5a5484=>renderQuizBankList(_0x5a5484[_0x12c9e1(0x7b9)][_0x12c9e1(0xb66)]));const _0x1c13bb=document[_0x12c9e1(0x8cb)](_0x12c9e1(0xe71));if(_0x1c13bb){let _0x188120=null;_0x1c13bb[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),_0x27f1b8=>{const _0x45aaad=_0x12c9e1,_0x431ccb=_0x27f1b8[_0x45aaad(0x7b9)],_0x22dcc0=_0x431ccb['closest'](_0x45aaad(0x348)),_0x59d052=_0x431ccb[_0x45aaad(0x575)](_0x45aaad(0xc18)),_0x43eba8=_0x431ccb[_0x45aaad(0x575)]('.save-custom-topic-btn'),_0x26a92f=_0x431ccb[_0x45aaad(0x575)](_0x45aaad(0x30b));if(_0x59d052){_0x27f1b8[_0x45aaad(0x862)]();const _0x2da3ca=_0x59d052[_0x45aaad(0x5fd)]['id'],_0x453c64=_0x59d052[_0x45aaad(0x575)](_0x45aaad(0xc5))[_0x45aaad(0x947)](_0x45aaad(0xc03))[_0x45aaad(0x1ae)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x453c64+'\x22?',()=>handleDeleteCustomTopic(_0x2da3ca));}else{if(_0x22dcc0){_0x27f1b8['preventDefault']();_0x188120&&toggleTopicEditMode(_0x188120,![]);const _0x5dff67=_0x22dcc0[_0x45aaad(0x575)]('[data-topic-container-id]');_0x188120=_0x5dff67,toggleTopicEditMode(_0x5dff67,!![]);}else{if(_0x43eba8){_0x27f1b8[_0x45aaad(0x862)]();const _0x4f8561=_0x43eba8[_0x45aaad(0x5fd)]['id'],_0x2a4b59=_0x43eba8[_0x45aaad(0x575)](_0x45aaad(0x759)),_0x9b43e=_0x2a4b59['querySelector']('.topic-name-input')[_0x45aaad(0xb66)];handleUpdateCustomTopic(_0x4f8561,_0x9b43e),_0x188120=null;}else{if(_0x26a92f){_0x27f1b8[_0x45aaad(0x862)]();const _0x34ee4c=_0x26a92f[_0x45aaad(0x575)](_0x45aaad(0x759));toggleTopicEditMode(_0x34ee4c,![]),_0x188120=null;}}}}}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x945))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x5dbc5b=_0x12c9e1;document[_0x5dbc5b(0x8cb)](_0x5dbc5b(0x41f))[_0x5dbc5b(0x144)][_0x5dbc5b(0x743)](_0x5dbc5b(0x1c9));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x138))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x18a69b=_0x12c9e1;document[_0x18a69b(0x8cb)](_0x18a69b(0x41f))['classList']['add'](_0x18a69b(0x1c9));}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x16d))[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),handleExportLessonPDF);}document[_0x12c9e1(0x8cb)](_0x12c9e1(0xa9a))['addEventListener'](_0x12c9e1(0x9b4),()=>{const _0x55025e=_0x12c9e1;document[_0x55025e(0x8cb)]('comparison-modal')['classList'][_0x55025e(0x743)](_0x55025e(0x1c9));}),document[_0x12c9e1(0x8cb)]('close-comparison-modal-footer-btn')[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x5385db=_0x12c9e1;document[_0x5385db(0x8cb)]('comparison-modal')[_0x5385db(0x144)][_0x5385db(0x743)](_0x5385db(0x1c9));}),setupComparisonModalTabs(),document[_0x12c9e1(0x8dc)][_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),function(_0x36a3a5){const _0x4e92f0=_0x12c9e1;if(_0x36a3a5[_0x4e92f0(0x7b9)][_0x4e92f0(0x144)]['contains'](_0x4e92f0(0xad0))){const _0x571b21=unescape(_0x36a3a5[_0x4e92f0(0x7b9)][_0x4e92f0(0x5fd)]['topic']);startSkillPractice(_0x571b21);}}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0x3f6))['addEventListener']('click',_0x43d020=>{const _0x1af8a1=_0x12c9e1,_0x5ee284=_0x43d020[_0x1af8a1(0x7b9)][_0x1af8a1(0x575)](_0x1af8a1(0x470));if(_0x5ee284){const _0x5e6de3=_0x5ee284[_0x1af8a1(0x5fd)][_0x1af8a1(0x1fe)];handleDeleteSubmission(_0x5e6de3);return;}const _0x347e61=_0x43d020[_0x1af8a1(0x7b9)][_0x1af8a1(0x575)](_0x1af8a1(0xc08));if(_0x347e61){const _0x400ebb=_0x347e61[_0x1af8a1(0x5fd)]['studentName'],_0x4fdfd5=_0x347e61[_0x1af8a1(0x5fd)][_0x1af8a1(0xdee)],_0x4621bd=prompt(_0x1af8a1(0x449)+_0x400ebb+_0x1af8a1(0x50c),_0x4fdfd5);if(_0x4621bd!==null&&_0x4621bd[_0x1af8a1(0x649)]()!==''){const _0x33b53f=parseInt(_0x4621bd,0xa);!isNaN(_0x33b53f)?handleManualEditPoints(_0x400ebb,_0x33b53f):alert(_0x1af8a1(0x604));}}}),document[_0x12c9e1(0x8cb)](_0x12c9e1(0xab9))?.[_0x12c9e1(0x38d)](_0x12c9e1(0x9b4),()=>{const _0x4911b5=_0x12c9e1;document['getElementById'](_0x4911b5(0x2a3))[_0x4911b5(0x144)][_0x4911b5(0x743)](_0x4911b5(0x1c9));}),document[_0x12c9e1(0xb9f)](_0x12c9e1(0x1a1))[_0x12c9e1(0x3f4)](_0x8bb917=>{const _0x7e6347=_0x12c9e1;_0x8bb917[_0x7e6347(0x38d)](_0x7e6347(0x9b4),()=>{handlePinKeyPress(_0x8bb917['dataset']['val']);});}),document[_0x12c9e1(0x8cb)]('pin-backspace-btn')?.['addEventListener'](_0x12c9e1(0x9b4),()=>{const _0x403b2b=_0x12c9e1;handlePinKeyPress(_0x403b2b(0xa69));});}async function handleStartGroupMode(_0x30fdf4,_0x46accf=![]){const _0x4a187a=_0xc7d29a,_0x53105f=allQuizzes[_0x4a187a(0x7d2)](_0x1b2420=>_0x1b2420['id']===_0x30fdf4)||allQuizzesGlobal[_0x4a187a(0x7d2)](_0x53f84d=>_0x53f84d['id']===_0x30fdf4);if(!_0x53105f){showMessage(_0x4a187a(0x47c));return;}currentQuizData=getShuffledQuiz(_0x53105f);const _0x3186f2=Math[_0x4a187a(0x6da)](0x3e8+Math['random']()*0x2328)[_0x4a187a(0x225)]();try{const _0x2790fe=await addDoc(collection(db,'artifacts/'+appId+_0x4a187a(0x387)),{'quizId':_0x53105f['id'],'projectId':_0x53105f['projectId'],'status':_0x4a187a(0x130),'pin':_0x3186f2,'mode':_0x4a187a(0x523),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x46accf});currentTeamQuizId=_0x2790fe['id'],showView(_0x4a187a(0xcb9)),renderAdminTeamQuizDashboard(_0x3186f2,_0x53105f['topic'],'group'),listenForTeamQuizUpdates();}catch(_0x1340eb){console[_0x4a187a(0x3e8)](_0x4a187a(0x5ca),_0x1340eb),showMessage(_0x4a187a(0xa8b));}}async function showStudentProgressView(){const _0x313376=_0xc7d29a;studentInitialView[_0x313376(0x144)][_0x313376(0x743)](_0x313376(0x1c9)),document[_0x313376(0x8cb)](_0x313376(0x548))[_0x313376(0x144)][_0x313376(0xc8b)](_0x313376(0x1c9));const _0x2329e9=document[_0x313376(0x8cb)](_0x313376(0x981)),_0x22598d=document[_0x313376(0x8cb)](_0x313376(0xce1)),_0x29ad4b=document[_0x313376(0x8cb)](_0x313376(0xcf2));_0x29ad4b[_0x313376(0x22a)]=_0x313376(0xbb7),_0x22598d[_0x313376(0x22a)]=_0x313376(0x7b8),_0x22598d[_0x313376(0xc2b)]=!![],_0x2329e9[_0x313376(0x22a)]=_0x313376(0x8d5);if(allProjects['length']===0x0){const _0x47f5bf=collection(db,'artifacts/'+appId+_0x313376(0xaad)),_0x137f0d=await getDocs(_0x47f5bf);allProjects=_0x137f0d[_0x313376(0xd86)][_0x313376(0x283)](_0xb95e02=>({'id':_0xb95e02['id'],..._0xb95e02[_0x313376(0x241)]()}));}const _0x3780c1=allProjects[_0x313376(0xb8e)](_0x14ab93=>_0x14ab93[_0x313376(0x7c2)]?.['showInStudentDashboard']!==![]);_0x3780c1['sort']((_0x408d52,_0x5ce857)=>_0x408d52[_0x313376(0xde4)][_0x313376(0xb18)](_0x5ce857[_0x313376(0xde4)],'th')),_0x2329e9[_0x313376(0x22a)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x3780c1[_0x313376(0x283)](_0x5b7283=>_0x313376(0xb0b)+_0x5b7283['id']+'\x22>'+_0x5b7283[_0x313376(0xde4)]+_0x313376(0x4d9))['join'](''),_0x2329e9[_0x313376(0x93c)]=()=>{const _0x14a06d=_0x313376,_0x4970e9=_0x22598d[_0x14a06d(0xb66)],_0x645d9c=_0x2329e9[_0x14a06d(0xb66)];_0x22598d[_0x14a06d(0xc2b)]=!![],_0x22598d[_0x14a06d(0x22a)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x29ad4b['innerHTML']=_0x14a06d(0x2ed);if(!_0x645d9c)return;const _0x4e701c=allProjects['find'](_0x3d3fc3=>_0x3d3fc3['id']===_0x645d9c);if(!_0x4e701c||!_0x4e701c[_0x14a06d(0xa0d)])return;const _0x197f1d=()=>{const _0x4c78ff=_0x14a06d;_0x22598d[_0x4c78ff(0x22a)]=_0x4c78ff(0x7b8)+_0x4e701c['students'][_0x4c78ff(0x283)](_0x52729f=>'<option\x20value=\x22'+_0x52729f+'\x22>'+_0x52729f+_0x4c78ff(0x4d9))[_0x4c78ff(0x922)](''),_0x22598d['disabled']=![];const _0x21c9b4=Array[_0x4c78ff(0x617)](_0x22598d[_0x4c78ff(0x764)])[_0x4c78ff(0x283)](_0x3644c1=>_0x3644c1[_0x4c78ff(0xb66)]);if(_0x4970e9&&_0x21c9b4[_0x4c78ff(0xd33)](_0x4970e9))_0x22598d[_0x4c78ff(0xb66)]=_0x4970e9,_0x22598d[_0x4c78ff(0x6f6)](new Event(_0x4c78ff(0xd8f)));else _0x4e701c[_0x4c78ff(0xa0d)]['length']===0x1&&(_0x22598d[_0x4c78ff(0xb66)]=_0x4e701c[_0x4c78ff(0xa0d)][0x0],_0x22598d['dispatchEvent'](new Event(_0x4c78ff(0xd8f))));};if(_0x4e701c['settings']?.[_0x14a06d(0x799)]){if(sessionStorage[_0x14a06d(0xb47)]('authed_project_'+_0x645d9c)===_0x14a06d(0xa81)){_0x197f1d();return;}const _0x5cc9fb=document[_0x14a06d(0x8cb)](_0x14a06d(0x40a)),_0x26d3ac=document[_0x14a06d(0x8cb)](_0x14a06d(0x3b0)),_0x4a4060=document['getElementById'](_0x14a06d(0x607)),_0x9d0645=document[_0x14a06d(0x8cb)](_0x14a06d(0x970)),_0x4ae0c7=document['getElementById']('passcode-error-msg');document['getElementById']('passcode-prompt-message')[_0x14a06d(0x1ae)]=_0x14a06d(0x25f)+_0x4e701c[_0x14a06d(0xde4)],_0x9d0645[_0x14a06d(0xb66)]='',_0x4ae0c7['classList'][_0x14a06d(0x743)](_0x14a06d(0x1c9)),_0x5cc9fb[_0x14a06d(0x144)]['remove'](_0x14a06d(0x1c9));const _0x2298ec=()=>{const _0x3545d8=_0x14a06d,_0x8152a5=_0x9d0645[_0x3545d8(0xb66)][_0x3545d8(0x649)]();_0x8152a5===_0x4e701c['settings'][_0x3545d8(0x273)]?(sessionStorage[_0x3545d8(0xdfb)](_0x3545d8(0x1cd)+_0x645d9c,_0x3545d8(0xa81)),_0x5cc9fb['classList'][_0x3545d8(0x743)](_0x3545d8(0x1c9)),_0x197f1d(),_0x26d3ac[_0x3545d8(0xdf5)]('click',_0x2298ec)):_0x4ae0c7['classList'][_0x3545d8(0xc8b)](_0x3545d8(0x1c9));};_0x26d3ac[_0x14a06d(0x312)]=_0x2298ec,_0x4a4060[_0x14a06d(0x312)]=()=>{const _0x220c4f=_0x14a06d;_0x5cc9fb[_0x220c4f(0x144)]['add'](_0x220c4f(0x1c9)),_0x2329e9[_0x220c4f(0xb66)]='',_0x26d3ac[_0x220c4f(0xdf5)]('click',_0x2298ec);};}else _0x197f1d();},_0x22598d[_0x313376(0x93c)]=()=>{const _0x270c93=_0x313376,_0x102a31=_0x2329e9[_0x270c93(0xb66)],_0x2a59ec=_0x22598d[_0x270c93(0xb66)];_0x102a31&&_0x2a59ec&&renderStudentProgressDashboard(_0x102a31,_0x2a59ec);};}async function confirmAndJoinSyncGame(){const _0xbf3e02=_0xc7d29a;lastSeenQuestionIndex=-0x1,sessionStorage['removeItem'](_0xbf3e02(0x31f)),sessionStorage['removeItem'](_0xbf3e02(0xaa8)),Object[_0xbf3e02(0xb23)](sessionStorage)[_0xbf3e02(0x3f4)](_0x3bd898=>{const _0x45f722=_0xbf3e02;(_0x3bd898['startsWith'](_0x45f722(0x5c5))||_0x3bd898[_0x45f722(0xdd8)](_0x45f722(0x594))||_0x3bd898[_0x45f722(0xdd8)]('hiddenOptions_q'))&&sessionStorage[_0x45f722(0xd5b)](_0x3bd898);});const _0x4f87fb=[...orderedPlayerSelection];if(_0x4f87fb[_0xbf3e02(0x3bb)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x4f87fb,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x488cf2=writeBatch(db),_0x57d0fd=serverTimestamp();for(const _0x23a199 of _0x4f87fb){const _0xf0cf95=doc(db,_0xbf3e02(0x9c2)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0x23a199),_0x35d262=await getDoc(_0xf0cf95);if(_0x35d262[_0xbf3e02(0x45f)]())_0x488cf2[_0xbf3e02(0x733)](_0xf0cf95,{'status':_0xbf3e02(0xb26)});else{const _0x585421={'name':_0x23a199,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':'active','answers':[],'joinedAt':_0x57d0fd,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x488cf2[_0xbf3e02(0x12a)](_0xf0cf95,_0x585421);}}await _0x488cf2[_0xbf3e02(0x6ea)](),showView(_0xbf3e02(0xcb9)),document[_0xbf3e02(0x8cb)]('student-team-selection-view')[_0xbf3e02(0x144)][_0xbf3e02(0x743)](_0xbf3e02(0x1c9)),currentStudentName=_0x4f87fb[0x0],listenForSyncGameUpdates();const _0x5cf692={'gameId':currentLiveGameId,'mode':_0xbf3e02(0x7ea),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0xbf3e02(0xdfb)](_0xbf3e02(0x499),JSON['stringify'](_0x5cf692)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0xbf3e02(0x38d)]('fullscreenchange',handleFullscreenChange),document[_0xbf3e02(0x38d)](_0xbf3e02(0xb56),handleVisibilityChange),enterFullscreen(),window[_0xbf3e02(0x38d)](_0xbf3e02(0xdb2),resetDimTimer),window[_0xbf3e02(0x38d)](_0xbf3e02(0xb03),resetDimTimer),window[_0xbf3e02(0x38d)](_0xbf3e02(0x1ce),resetDimTimer),window[_0xbf3e02(0x38d)]('keydown',resetDimTimer),resetDimTimer());}catch(_0x2f9c96){console['error'](_0xbf3e02(0x24a),_0x2f9c96),showMessage('เกิดข้อผิดพลาดในการเข้าร่วม:\x20'+_0x2f9c96['message']);}}async function resumeActiveGameSession(){const _0x3da600=_0xc7d29a,_0x4b611f=sessionStorage[_0x3da600(0xb47)](_0x3da600(0x499));if(!_0x4b611f)return;const _0x309959=JSON['parse'](_0x4b611f),{gameId:_0x3d46f4,mode:_0x8a13de,role:_0xa3f22f,players:_0x1fdf74,turnIndex:_0x2decf7}=_0x309959;try{if(_0xa3f22f===_0x3da600(0x87c)&&_0x8a13de===_0x3da600(0x7ea)){const _0x467c39=doc(db,_0x3da600(0x9c2)+appId+_0x3da600(0xde7),_0x3d46f4),_0x5c7ad4=await getDoc(_0x467c39);if(!_0x5c7ad4[_0x3da600(0x45f)]()||_0x5c7ad4[_0x3da600(0x241)]()[_0x3da600(0x20a)]===_0x3da600(0xba3)||_0x5c7ad4[_0x3da600(0x241)]()[_0x3da600(0x20a)]==='finished'){sessionStorage['removeItem'](_0x3da600(0x499));return;}console['log']('กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20'+_0x3d46f4+')'),currentMode='admin',currentLiveGameId=_0x3d46f4,currentQuizData=_0x5c7ad4[_0x3da600(0x241)]()['shuffledQuiz'],showView(_0x3da600(0xcb9)),listenForSyncGameUpdates();}else{if(_0x8a13de===_0x3da600(0x7ea)&&_0x1fdf74){const _0x4cf2f4=doc(db,'artifacts/'+appId+_0x3da600(0xde7),_0x3d46f4),_0x4af92b=await getDoc(_0x4cf2f4);if(!_0x4af92b[_0x3da600(0x45f)]()||_0x4af92b[_0x3da600(0x241)]()[_0x3da600(0x20a)]===_0x3da600(0xba3)||_0x4af92b['data']()[_0x3da600(0x20a)]===_0x3da600(0x201)){sessionStorage[_0x3da600(0xd5b)](_0x3da600(0x499));return;}console['log'](_0x3da600(0x9f8)+_0x3d46f4+')'),currentLiveGameId=_0x3d46f4,currentStudentName=_0x1fdf74[0x0],localTeamPlayers=_0x1fdf74,showView(_0x3da600(0xcb9)),listenForSyncGameUpdates();}else{if((_0x8a13de===_0x3da600(0xc7d)||_0x8a13de===_0x3da600(0x523))&&_0x1fdf74){const _0x55ca52=doc(db,_0x3da600(0x9c2)+appId+_0x3da600(0x387),_0x3d46f4),_0x40c563=await getDoc(_0x55ca52);if(!_0x40c563[_0x3da600(0x45f)]()||_0x40c563[_0x3da600(0x241)]()[_0x3da600(0x20a)]===_0x3da600(0xba3)||_0x40c563[_0x3da600(0x241)]()[_0x3da600(0x20a)]===_0x3da600(0x201)){sessionStorage[_0x3da600(0xd5b)](_0x3da600(0x499));return;}console[_0x3da600(0xcde)](_0x3da600(0xd50)+_0x8a13de+_0x3da600(0xc32)+_0x3d46f4+')'),currentTeamQuizId=_0x3d46f4,localTeamPlayers=_0x1fdf74,localQuestionIndex=_0x309959[_0x3da600(0x47e)]||0x0,localPlayerIndex=_0x309959[_0x3da600(0xf6)]||0x0;const _0x2fd816=_0x40c563['data'](),_0x1a1cbc=doc(db,_0x3da600(0x9c2)+appId+_0x3da600(0x843),_0x2fd816[_0x3da600(0x9fe)]),_0x379bc2=await getDoc(_0x1a1cbc);_0x379bc2['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x379bc2['id'],..._0x379bc2['data']()}),showView('student'),studentInitialView[_0x3da600(0x144)][_0x3da600(0x743)](_0x3da600(0x1c9)),_0x8a13de==='group'?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x567dda){console[_0x3da600(0x3e8)](_0x3da600(0xb12),_0x567dda),sessionStorage['removeItem'](_0x3da600(0x499));}}async function handleUsePowerup(_0x1965cd,_0x1de47e,_0x5827cc,_0x4a181c,_0x47e99){const _0x47ace4=_0xc7d29a,_0x659b16=_0x4a181c['currentQuestionIndex'],_0xb17c19=_0x47ace4(0x594)+_0x659b16+'_p'+_0x1965cd,_0x3b77e4=sessionStorage[_0x47ace4(0xb47)](_0xb17c19);if(_0x3b77e4&&_0x1de47e!=='buyTime'&&_0x1de47e!=='strategyScan'){showMessage(_0x47ace4(0x9ed));const _0x461879=document[_0x47ace4(0x8cb)](_0x47ace4(0x723)+_0x1de47e);if(_0x461879)_0x461879[_0x47ace4(0xc2b)]=![];return;}if(_0x1de47e===_0x47ace4(0xcf9)){sessionStorage[_0x47ace4(0xdfb)](_0xb17c19,_0x1de47e),playSystemSound(_0x47ace4(0xd3c)),renderStudentSyncQuestionView(_0x4a181c);return;}const _0x1f30ea=doc(db,'artifacts/'+appId+_0x47ace4(0x47f)+currentLiveGameId+_0x47ace4(0xc39),_0x1965cd);try{await runTransaction(db,async _0x1b87fe=>{const _0x3592aa=_0x47ace4,_0x28364c=await _0x1b87fe[_0x3592aa(0xba4)](_0x1f30ea);if(!_0x28364c[_0x3592aa(0x45f)]())throw _0x3592aa(0x802);const _0x57eaf1=_0x28364c[_0x3592aa(0x241)](),_0x5169fa=_0x57eaf1[_0x3592aa(0xc49)]||{},_0x10e541=_0x5169fa[_0x1de47e]||0x0;if(_0x10e541<=0x0)throw'คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)';const _0x4e0ed5={};_0x4e0ed5[_0x3592aa(0x178)+_0x1de47e]=increment(-0x1);_0x1de47e!==_0x3592aa(0xcf9)&&(_0x4e0ed5[_0x3592aa(0x291)]=0x0);if(_0x1de47e==='buyTime'){const _0x3a60a2=(_0x4a181c['timerDuration']||0xf0)*0x3e8,_0x574063=_0x3a60a2*0.25;_0x4e0ed5[_0x3592aa(0xbba)]=increment(_0x574063);}_0x1b87fe['update'](_0x1f30ea,_0x4e0ed5);}),_0x1de47e===_0x47ace4(0x62e)&&sessionStorage[_0x47ace4(0xdfb)](_0x47ace4(0x31f),'true'),_0x1de47e!=='buyTime'&&_0x1de47e!==_0x47ace4(0xa86)&&sessionStorage[_0x47ace4(0xdfb)](_0xb17c19,_0x1de47e),playSystemSound(_0x47ace4(0xd3c)),applyPowerupEffect(_0x1965cd,_0x1de47e,_0x5827cc,_0x4a181c,_0x47e99),(_0x1de47e===_0x47ace4(0xde8)||_0x1de47e===_0x47ace4(0xcef)||_0x1de47e===_0x47ace4(0x8be)||_0x1de47e===_0x47ace4(0xb45))&&renderStudentSyncQuestionView(_0x4a181c),_0x1de47e!==_0x47ace4(0xcf9)&&_0x47e99[_0x47ace4(0x291)]>0x0&&showMessage('คุณใช้ตัวช่วย\x20\x22'+_0x1de47e+_0x47ace4(0xb98));}catch(_0x4d2c32){console['error'](_0x47ace4(0x532),_0x4d2c32),showMessage(typeof _0x4d2c32===_0x47ace4(0xcdc)?_0x4d2c32:_0x47ace4(0xc7c));const _0x497d86=document[_0x47ace4(0x8cb)](_0x47ace4(0x723)+_0x1de47e);if(_0x497d86)_0x497d86[_0x47ace4(0xc2b)]=![];}}async function getCachedOtherPlayers(_0xf9467f,_0x119b85){const _0xae9e5a=_0xc7d29a,_0x4dc722=_0xf9467f[_0xae9e5a(0xc74)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x4dc722)return console['log']('ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)'),cachedOtherPlayersForQuestion;console[_0xae9e5a(0xcde)]('โหลดข้อมูลเพื่อนใหม่จาก\x20Server...');const _0x552d20=collection(db,'artifacts/'+appId+_0xae9e5a(0x47f)+currentLiveGameId+_0xae9e5a(0xc39)),_0x5c6f96=query(_0x552d20,where(_0xae9e5a(0x20a),'==',_0xae9e5a(0xb26))),_0x5d9a90=await getDocs(_0x5c6f96),_0x450c68=[];return _0x5d9a90[_0xae9e5a(0x3f4)](_0x2bcc95=>{const _0x220081=_0xae9e5a,_0x3c6a8e=_0x2bcc95[_0x220081(0x241)]();_0x450c68['push'](_0x3c6a8e);}),cachedOtherPlayersForQuestion=_0x450c68,cachedQuestionIndexForPlayers=_0x4dc722,_0x450c68;}async function applyPowerupEffect(_0x29125b,_0x5a6a20,_0x2c06a3,_0x14a01a,_0x362a98){const _0x5980b2=_0xc7d29a,_0xf63453=_0x2c06a3,_0x5d8fa1=_0x14a01a[_0x5980b2(0xc74)];switch(_0x5a6a20){case'wagerMultiplier':showMessage(_0x5980b2(0x4f8));break;case _0x5980b2(0xdf4):showMessage(_0x5980b2(0x8f9));break;case _0x5980b2(0xb39):const _0x4a1efb=(_0x14a01a['timerDuration']||0xf0)*0.25;showMessage(_0x5980b2(0x656)+_0x4a1efb+'\x20วินาที');break;case _0x5980b2(0xde8):case _0x5980b2(0xcef):const _0x2da8b9=document[_0x5980b2(0xb9f)](_0x5980b2(0xd10));if(_0x2da8b9['length']===0x0){showMessage(_0x5980b2(0x836));return;}const _0x670263=_0x5980b2(0x61f)+_0x5d8fa1+'_p'+_0x29125b,_0x4bb4c3=JSON[_0x5980b2(0x208)](sessionStorage[_0x5980b2(0xb47)](_0x670263)||'[]');let _0x19fbc3;const _0x612efd=_0xf63453[_0x5980b2(0xd53)]||_0x14a01a[_0x5980b2(0xb2d)][_0x5980b2(0x7f3)];_0x612efd===_0x5980b2(0x206)?_0x19fbc3=String(_0xf63453[_0x5980b2(0x124)])['toLowerCase']()==='true'?0x0:0x1:_0x19fbc3=_0xf63453['correctAnswerIndex'];const _0x2ecccb=Array[_0x5980b2(0x617)](_0x2da8b9)['filter'](_0x55f8e4=>parseInt(_0x55f8e4['dataset'][_0x5980b2(0xb66)])!==_0x19fbc3&&!_0x4bb4c3['includes'](_0x55f8e4['dataset']['value']));if(_0x2ecccb[_0x5980b2(0x3bb)]===0x0){showMessage('ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!');return;}shuffleArray(_0x2ecccb);const _0x32511e=_0x5a6a20===_0x5980b2(0xde8)?0x1:0x2,_0x130f45=[];for(let _0x1269fe=0x0;_0x1269fe<_0x32511e;_0x1269fe++){_0x2ecccb[_0x1269fe]&&(_0x2ecccb[_0x1269fe][_0x5980b2(0x144)]['add'](_0x5980b2(0x1c9)),_0x130f45[_0x5980b2(0x77f)](_0x2ecccb[_0x1269fe][_0x5980b2(0x5fd)][_0x5980b2(0xb66)]));}const _0x4de97a=[..._0x4bb4c3,..._0x130f45];sessionStorage[_0x5980b2(0xdfb)](_0x670263,JSON[_0x5980b2(0xa7e)](_0x4de97a)),showMessage(_0x5a6a20===_0x5980b2(0xde8)?_0x5980b2(0x410):'⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!');break;default:showMessage(_0x5980b2(0x547)+_0x5a6a20+_0x5980b2(0x2d4));}}async function handleForceConfident(_0xc70478,_0x5b2ccb){const _0x355592=_0xc7d29a;if(!currentLiveGameId||!_0xc70478)return;const _0x5e3c5f=doc(db,_0x355592(0x9c2)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players',_0xc70478);try{await updateDoc(_0x5e3c5f,{'isForcedConfident':!![]}),showMessage('ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20'+_0x5b2ccb+_0x355592(0xbce));}catch(_0x5b6638){console['error'](_0x355592(0xc4f),_0x5b6638),showMessage(_0x355592(0xb75));}}async function handleRefundPowerup(_0x47599d,_0x1456c7){const _0x2add9b=_0xc7d29a,_0x161db8=doc(db,_0x2add9b(0x9c2)+appId+_0x2add9b(0x47f)+currentLiveGameId+_0x2add9b(0xc39),_0x47599d);try{const _0x457bd3={};_0x457bd3[_0x2add9b(0x178)+_0x1456c7]=increment(0x1),await updateDoc(_0x161db8,_0x457bd3),console['log'](_0x2add9b(0x7d0)+_0x1456c7+_0x2add9b(0xe5c)+_0x47599d);}catch(_0xb5ae45){console[_0x2add9b(0x3e8)](_0x2add9b(0xb2c),_0xb5ae45);}}async function handleApplyJinx(_0x330ded,_0x59f2ad){const _0x341ab1=_0xc7d29a;if(!currentLiveGameId||!_0x330ded)return;const _0x2b9ea5=doc(db,_0x341ab1(0x9c2)+appId+_0x341ab1(0x47f)+currentLiveGameId+_0x341ab1(0xc39),_0x330ded);try{await updateDoc(_0x2b9ea5,{'isJinxed':!![]}),showMessage('ใช้\x20\x22คำสาป\x22\x20กับ\x20'+_0x59f2ad+'\x20สำเร็จ!');}catch(_0x21fc44){console[_0x341ab1(0x3e8)](_0x341ab1(0xd89),_0x21fc44),showMessage(_0x341ab1(0xb75));}}function activateFileInputAreaWithLoadedFile(){const _0x845615=_0xc7d29a,_0x37a0cb=document[_0x845615(0x8cb)](_0x845615(0x85b)),_0x3d7c18=document['getElementById'](_0x845615(0x23d)),_0x1b7f4d=document[_0x845615(0x8cb)](_0x845615(0xdf));selectedFile?_0x1b7f4d[_0x845615(0x4d7)]?(_0x37a0cb['disabled']=!![],analyzeFileForTopics(selectedFile)):(_0x37a0cb[_0x845615(0xc2b)]=![],_0x3d7c18[_0x845615(0x144)][_0x845615(0x743)](_0x845615(0x1c9))):(_0x37a0cb[_0x845615(0xc2b)]=!![],_0x3d7c18[_0x845615(0x144)][_0x845615(0x743)](_0x845615(0x1c9)));}async function handleKickPlayerSync(_0x29776f){const _0x534725=_0xc7d29a;if(!currentLiveGameId||!_0x29776f)return;const _0x461ed8=doc(db,_0x534725(0x9c2)+appId+_0x534725(0x47f)+currentLiveGameId+_0x534725(0xc39),_0x29776f);try{await updateDoc(_0x461ed8,{'status':_0x534725(0xd03)});}catch(_0xc3173b){console['error'](_0x534725(0x2b0)+_0x29776f+':',_0xc3173b),showMessage(_0x534725(0x436));}}async function renderStudentProgressDashboard(_0x56695b,_0x4df046){const _0x197620=_0xc7d29a,_0x25f13f=document['getElementById']('student-progress-content');_0x25f13f[_0x197620(0x22a)]=_0x197620(0xe58);try{const _0x10a688=collection(db,_0x197620(0x9c2)+appId+_0x197620(0x843)),_0x1660b7=query(_0x10a688,where('projectId','==',_0x56695b)),_0x475d2a=await getDocs(_0x1660b7),_0x2dcb92=_0x475d2a[_0x197620(0xd86)][_0x197620(0x283)](_0x1aac35=>({'id':_0x1aac35['id'],..._0x1aac35['data']()})),_0x5bf85c=_0x2dcb92[_0x197620(0x283)](_0x5af3b5=>getDoc(doc(db,'artifacts/'+appId+_0x197620(0x360)+_0x5af3b5['id']+_0x197620(0x17c),_0x4df046))),_0x94fcc4=await Promise[_0x197620(0x1fd)](_0x5bf85c),_0x25e070=_0x94fcc4[_0x197620(0xb8e)](_0x338819=>_0x338819['exists']())[_0x197620(0x283)](_0x333158=>({'quizId':_0x333158[_0x197620(0x9dc)]['parent'][_0x197620(0xbe4)]['id'],..._0x333158[_0x197620(0x241)]()}));if(_0x25e070[_0x197620(0x3bb)]===0x0){_0x25f13f[_0x197620(0x22a)]=_0x197620(0x372);return;}let _0x5ecf34=_0x197620(0xbd1);_0x25e070[_0x197620(0x3f4)](_0x664d1e=>{const _0x26a50a=_0x197620,_0x16cad9=_0x2dcb92[_0x26a50a(0x7d2)](_0x2f9e68=>_0x2f9e68['id']===_0x664d1e[_0x26a50a(0x9fe)]),_0x51ea58=_0x16cad9[_0x26a50a(0x7c2)]?.[_0x26a50a(0xab0)]||'show_results_and_answers',_0x4fb58b=_0x16cad9[_0x26a50a(0x7c2)]?.['passingScore']??0x0,_0x47dba6=_0x664d1e[_0x26a50a(0x143)]>=_0x4fb58b;let _0x4cd8fa='',_0x4dd673='bg-gray-50';switch(_0x51ea58){case _0x26a50a(0xb3b):case _0x26a50a(0xe32):_0x4dd673=_0x47dba6?'bg-green-50':_0x26a50a(0x6c5),_0x4cd8fa=_0x26a50a(0x31b)+(_0x47dba6?'text-green-700':_0x26a50a(0xb10))+'\x22>'+_0x664d1e[_0x26a50a(0x143)]+_0x26a50a(0x99b)+_0x664d1e['totalQuestions']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x47dba6?_0x26a50a(0xca7):_0x26a50a(0x3eb))+'\x22>'+(_0x47dba6?'ผ่าน':_0x26a50a(0x7b3))+_0x26a50a(0x4b0);break;case'show_pass_fail_only':_0x4dd673=_0x47dba6?'bg-green-50':_0x26a50a(0x6c5),_0x4cd8fa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x47dba6?_0x26a50a(0xca7):_0x26a50a(0x3eb))+'\x22>'+(_0x47dba6?'ผ่าน':_0x26a50a(0x7b3))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x26a50a(0xf0):_0x4dd673=_0x26a50a(0xafe),_0x4cd8fa=_0x26a50a(0xb5);break;}_0x5ecf34+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x4dd673+_0x26a50a(0xadf)+_0x16cad9[_0x26a50a(0x664)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x664d1e['attempts'][_0x26a50a(0x3bb)]+_0x26a50a(0x6ee)+new Date(_0x664d1e[_0x26a50a(0x199)])['toLocaleDateString'](_0x26a50a(0x3a4))+_0x26a50a(0x8ee)+_0x4cd8fa+_0x26a50a(0xbfc);}),_0x5ecf34+=_0x197620(0x1d2),_0x25f13f['innerHTML']=_0x5ecf34;}catch(_0x1c049c){console['error'](_0x197620(0x29e),_0x1c049c),_0x25f13f[_0x197620(0x22a)]=_0x197620(0x209);}}function renderQuizBankListForMultiSelect(_0x3f69c3=''){const _0x5ae1ad=_0xc7d29a,_0x222582=document[_0x5ae1ad(0x8cb)](_0x5ae1ad(0x197)),_0xd260b7=_0x3f69c3[_0x5ae1ad(0xdfe)]()[_0x5ae1ad(0x649)](),_0x25d79b=allQuizzesGlobal['map'](_0x5076c6=>({..._0x5076c6,'projectName':allProjects['find'](_0x377dcf=>_0x377dcf['id']===_0x5076c6[_0x5ae1ad(0x8d2)])?.[_0x5ae1ad(0xde4)]||_0x5ae1ad(0x89b)}))[_0x5ae1ad(0xb8e)](_0x34143f=>(_0x34143f[_0x5ae1ad(0x664)]||'')['toLowerCase']()['includes'](_0xd260b7)||(_0x34143f['projectName']||'')[_0x5ae1ad(0xdfe)]()[_0x5ae1ad(0xd33)](_0xd260b7)||_0x34143f['id'][_0x5ae1ad(0x225)]()[_0x5ae1ad(0xd33)](_0xd260b7));_0x222582[_0x5ae1ad(0x22a)]=_0x25d79b[_0x5ae1ad(0x3bb)]?_0x25d79b['map'](_0x41d9e7=>_0x5ae1ad(0x2c4)+_0x41d9e7['id']+_0x5ae1ad(0x126)+(_0x41d9e7[_0x5ae1ad(0x664)]||_0x5ae1ad(0x62a))+_0x5ae1ad(0x280)+_0x41d9e7[_0x5ae1ad(0xde4)]+_0x5ae1ad(0x152)+_0x41d9e7['id']+_0x5ae1ad(0x500))[_0x5ae1ad(0x922)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x222582[_0x5ae1ad(0x93c)]=()=>{const _0x4c105e=_0x5ae1ad,_0x134734=document[_0x4c105e(0x947)](_0x4c105e(0xd9b));document['getElementById']('confirm-link-quiz-btn')[_0x4c105e(0xc2b)]=!_0x134734;};}function setupStudentProgressListeners(){const _0x384c9a=_0xc7d29a;document['getElementById'](_0x384c9a(0xab4))[_0x384c9a(0x38d)]('click',showStudentProgressView),document[_0x384c9a(0x8cb)](_0x384c9a(0x800))[_0x384c9a(0x38d)]('click',()=>{const _0x3eacf9=_0x384c9a;document[_0x3eacf9(0x8cb)](_0x3eacf9(0x548))[_0x3eacf9(0x144)][_0x3eacf9(0x743)](_0x3eacf9(0x1c9)),document[_0x3eacf9(0x8cb)](_0x3eacf9(0x7f7))[_0x3eacf9(0x144)][_0x3eacf9(0xc8b)](_0x3eacf9(0x1c9));});}async function startSkillPractice(_0x5892e3){const _0x14554f=_0xc7d29a;studentResultArea[_0x14554f(0x144)]['add'](_0x14554f(0x1c9)),studentQuizArea[_0x14554f(0x22a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea['classList'][_0x14554f(0xc8b)](_0x14554f(0x1c9));try{const _0x517fac=await getStandardizedTopic(_0x5892e3);console[_0x14554f(0xcde)](_0x14554f(0x213)+_0x5892e3+_0x14554f(0x8a5)+_0x517fac+'\x22'),studentQuizArea[_0x14554f(0x947)]('p')['textContent']=_0x14554f(0x738)+_0x517fac+'\x22...';const _0x53ff74=collection(db,'artifacts/'+appId+_0x14554f(0x245)),_0x3c2149=query(_0x53ff74,where(_0x14554f(0x664),'==',_0x517fac)),_0x5f38c4=await getDocs(_0x3c2149);if(_0x5f38c4[_0x14554f(0xd86)][_0x14554f(0x3bb)]>=0x3){console[_0x14554f(0xcde)](_0x14554f(0xd76)+_0x5f38c4[_0x14554f(0xd86)][_0x14554f(0x3bb)]+_0x14554f(0x8f1)+_0x517fac+_0x14554f(0x383));let _0x516fe7=_0x5f38c4[_0x14554f(0xd86)][_0x14554f(0x283)](_0x20510a=>_0x20510a['data']());shuffleArray(_0x516fe7);const _0x197754={'topic':_0x517fac,'questions':_0x516fe7[_0x14554f(0xe54)](0x0,0x3)};displaySkillPracticeDrill(_0x197754);}else{console[_0x14554f(0xcde)](_0x14554f(0xd43)+_0x517fac+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x376dc2=await generatePracticeQuestions(_0x517fac);await saveDrillToPracticeBank(_0x376dc2,_0x517fac),displaySkillPracticeDrill(_0x376dc2);}}catch(_0x262d5b){console[_0x14554f(0x3e8)]('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x262d5b),showMessage(_0x14554f(0x1a9)),studentQuizArea[_0x14554f(0x144)][_0x14554f(0x743)](_0x14554f(0x1c9)),studentResultArea[_0x14554f(0x144)][_0x14554f(0xc8b)]('hidden');}}async function saveDrillToPracticeBank(_0x1873c4,_0x33879c){const _0x4b0a9a=_0xc7d29a,_0x11bdb4=collection(db,'artifacts/'+appId+_0x4b0a9a(0x245)),_0x486e19=writeBatch(db);_0x1873c4['questions']['forEach'](_0x5aa4a1=>{const _0x1254b8=_0x4b0a9a,_0x911f1f=doc(_0x11bdb4);_0x486e19['set'](_0x911f1f,{'topic':_0x33879c,'questionText':_0x5aa4a1[_0x1254b8(0x3ab)],'options':_0x5aa4a1[_0x1254b8(0x764)],'correctAnswerIndex':_0x5aa4a1[_0x1254b8(0xcd4)],'explanation':_0x5aa4a1[_0x1254b8(0x9f2)],'createdAt':serverTimestamp()});});try{await _0x486e19[_0x4b0a9a(0x6ea)](),console[_0x4b0a9a(0xcde)](_0x4b0a9a(0x104)+_0x1873c4['questions']['length']+_0x4b0a9a(0xe56));}catch(_0x2d1458){console[_0x4b0a9a(0x3e8)](_0x4b0a9a(0xde2),_0x2d1458);}}async function getStandardizedTopic(_0x2adb5c){const _0x14b798=_0xc7d29a,_0x3d1735='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x2adb5c+_0x14b798(0x7f2),_0xd6a4bb={'type':_0x14b798(0x2c9),'properties':{'standardTopic':{'type':_0x14b798(0x47b)}},'required':[_0x14b798(0xa4e)]};try{const _0x2228ba=await callAnalysisApi(_0x3d1735,_0xd6a4bb);return _0x2228ba[_0x14b798(0xa4e)];}catch(_0x8a3d7e){return console[_0x14b798(0x3e8)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x8a3d7e),_0x2adb5c;}}async function handleGenerateEasyVersionQuiz(_0x23855a){const _0x285904=_0xc7d29a,_0x5c2506=document[_0x285904(0x8cb)](_0x285904(0xc38)),_0x52b537=document[_0x285904(0x8cb)](_0x285904(0xe3e));_0x52b537[_0x285904(0x144)][_0x285904(0x743)](_0x285904(0x1c9));const _0x25d77e=_0x285904(0x237);_0x5c2506[_0x285904(0x358)](_0x285904(0xd15),_0x25d77e);try{const _0x11c7f1=allQuizzes[_0x285904(0x7d2)](_0x4dd6ef=>_0x4dd6ef['id']===_0x23855a);if(!_0x11c7f1)throw new Error(_0x285904(0x801));const _0x2211ca=_0x285904(0xa25)+JSON[_0x285904(0xa7e)](_0x11c7f1['questions'])+_0x285904(0x412),_0x7af2c6={'type':'OBJECT','properties':{'questionText':{'type':_0x285904(0x47b)},'questionType':{'type':_0x285904(0x47b)},'options':{'type':_0x285904(0x991),'items':{'type':_0x285904(0x47b)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x285904(0x47b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x285904(0x47b)}},'required':['questionText',_0x285904(0xd53),_0x285904(0x9f2)]},_0x59ca11={'type':'OBJECT','properties':{'questions':{'type':'ARRAY','items':_0x7af2c6}},'required':[_0x285904(0x763)]},_0x32b662=await callAnalysisApi(_0x2211ca,_0x59ca11);_0x32b662&&_0x32b662['questions']&&_0x32b662['questions'][_0x285904(0x3f4)](_0xfd4f0=>{const _0x3d5c35=_0x285904;if(_0xfd4f0['hasOwnProperty'](_0x3d5c35(0xb24))){const _0x30fad0=String(_0xfd4f0['imageCode'])['trim']();(_0x30fad0===''||_0x30fad0[_0x3d5c35(0xdfe)]()===_0x3d5c35(0x7d3)||!_0x30fad0[_0x3d5c35(0xdd8)]('<svg'))&&delete _0xfd4f0[_0x3d5c35(0xb24)];}});if(!_0x32b662||!_0x32b662[_0x285904(0x763)]||_0x32b662['questions']['length']===0x0)throw new Error(_0x285904(0x5ab));const _0x38bc4f=_0x32b662[_0x285904(0x763)]['map']((_0x2c87e1,_0x3ab999)=>({..._0x2c87e1,'id':'q_'+Date[_0x285904(0x2da)]()+'_'+_0x3ab999})),_0x41f060={'projectId':_0x11c7f1[_0x285904(0x8d2)],'quizType':_0x11c7f1[_0x285904(0x7f3)],'settings':_0x11c7f1[_0x285904(0x7c2)],'createdBy':_0x11c7f1['createdBy'],'status':_0x285904(0xb26),'topic':_0x285904(0x671)+_0x11c7f1['topic'],'questions':_0x38bc4f,'createdAt':new Date()[_0x285904(0x77d)](),'quizMode':_0x285904(0x67a),'pairedQuizId':null};let _0x48b5a4;while(!![]){_0x48b5a4=Math[_0x285904(0x6da)](0x3e8+Math[_0x285904(0xe46)]()*0x2328)[_0x285904(0x225)]();const _0x2a0df1=await getDoc(doc(db,_0x285904(0x9c2)+appId+_0x285904(0x843),_0x48b5a4));if(!_0x2a0df1[_0x285904(0x45f)]())break;}await setDoc(doc(db,_0x285904(0x9c2)+appId+_0x285904(0x843),_0x48b5a4),_0x41f060),showMessage(_0x285904(0x4ac));}catch(_0x37b4cf){console['error'](_0x285904(0x676),_0x37b4cf),showMessage(_0x285904(0x506)+_0x37b4cf['message']);}finally{const _0x112654=document[_0x285904(0x8cb)](_0x285904(0x1c8));_0x112654&&_0x112654[_0x285904(0xc8b)](),_0x52b537['classList'][_0x285904(0xc8b)](_0x285904(0x1c9));}}async function generatePracticeQuestions(_0x58bfec){const _0x5815f1=_0xc7d29a,_0x183e0f=_0x5815f1(0x37c)+_0x58bfec+_0x5815f1(0xd7d)+simpleMathPrompt+_0x5815f1(0xbe6),_0x57b0cf={'type':_0x5815f1(0x2c9),'properties':{'questionText':{'type':_0x5815f1(0x47b)},'options':{'type':_0x5815f1(0x991),'items':{'type':_0x5815f1(0x47b)}},'correctAnswerIndex':{'type':_0x5815f1(0x894)},'explanation':{'type':_0x5815f1(0x47b)}},'required':[_0x5815f1(0x3ab),_0x5815f1(0x764),_0x5815f1(0xcd4),'explanation']},_0xd977ed={'type':_0x5815f1(0x2c9),'properties':{'topic':{'type':_0x5815f1(0x47b)},'questions':{'type':_0x5815f1(0x991),'items':_0x57b0cf}},'required':[_0x5815f1(0x664),_0x5815f1(0x763)]};return await callAnalysisApi(_0x183e0f,_0xd977ed);}function displayLessonPlan(_0x2a8502,_0x1e05d4){const _0x13ff43=_0xc7d29a,_0x4616d7=_0x13ff43(0x9ae)+_0x1e05d4[_0x13ff43(0x664)]+_0x13ff43(0xa84)+_0x2a8502[_0x13ff43(0x403)][_0x13ff43(0x283)](_0x5e8f93=>_0x13ff43(0x561)+_0x5e8f93+_0x13ff43(0x19c))[_0x13ff43(0x922)]('')+_0x13ff43(0x83b)+_0x2a8502[_0x13ff43(0xe8)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x2a8502['practiceProblems'][_0x13ff43(0x283)](_0x12f27d=>_0x13ff43(0x14b)+_0x12f27d['question']+_0x13ff43(0x192)+_0x12f27d[_0x13ff43(0x6fd)]+_0x13ff43(0x121))[_0x13ff43(0x922)]('')+_0x13ff43(0xabd);document[_0x13ff43(0x8cb)](_0x13ff43(0x710))[_0x13ff43(0x1ae)]='แผนการสอน:\x20'+_0x1e05d4[_0x13ff43(0x664)],document['getElementById'](_0x13ff43(0xc75))[_0x13ff43(0x22a)]=_0x4616d7,document['getElementById'](_0x13ff43(0x41f))[_0x13ff43(0x144)]['remove']('hidden');if(window[_0x13ff43(0x608)])MathJax[_0x13ff43(0x31d)]();}function displaySkillPracticeDrill(_0x35d1ea){const _0x53b353=_0xc7d29a;let _0x233f89=0x0;const _0x5cb62f=_0x35d1ea[_0x53b353(0x763)],_0x482b77=()=>{const _0x4bd762=_0x53b353,_0x3c7f55=_0x5cb62f[_0x233f89],_0x3a5057='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x233f89+0x1)+_0x4bd762(0x99b)+_0x5cb62f[_0x4bd762(0x3bb)]+_0x4bd762(0x5ec)+_0x3c7f55[_0x4bd762(0x3ab)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c7f55[_0x4bd762(0x764)][_0x4bd762(0x283)]((_0x3049ef,_0x576ca4)=>_0x4bd762(0xd3d)+_0x576ca4+_0x4bd762(0xc85)+_0x576ca4+_0x4bd762(0x7c4)+_0x576ca4+'\x22>'+_0x3049ef+_0x4bd762(0x1c0))[_0x4bd762(0x922)]('')+_0x4bd762(0xcb);studentQuizArea['innerHTML']=_0x3a5057;if(window[_0x4bd762(0x608)])MathJax[_0x4bd762(0x31d)]([studentQuizArea]);document['getElementById'](_0x4bd762(0x3fe))[_0x4bd762(0x38d)](_0x4bd762(0x9b4),async()=>{const _0xd600e5=_0x4bd762,_0x2086ef=await getHintForQuestion(_0x3c7f55[_0xd600e5(0x3ab)]);showMessage(_0x2086ef);}),document[_0x4bd762(0x8cb)](_0x4bd762(0x205))[_0x4bd762(0x38d)](_0x4bd762(0x9b4),()=>{const _0x57f8bf=_0x4bd762,_0x649e71=document[_0x57f8bf(0x947)](_0x57f8bf(0x7e7));if(!_0x649e71){showMessage(_0x57f8bf(0xdc5));return;}const _0x5a1232=document['getElementById'](_0x57f8bf(0x817)),_0x3901e0=parseInt(_0x649e71[_0x57f8bf(0xb66)])===_0x3c7f55[_0x57f8bf(0xcd4)];_0x3901e0?(_0x5a1232['className']=_0x57f8bf(0x35c),_0x5a1232[_0x57f8bf(0x22a)]=_0x57f8bf(0x31a)+_0x3c7f55['explanation']):(_0x5a1232[_0x57f8bf(0x7cb)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x5a1232['innerHTML']='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x3c7f55[_0x57f8bf(0x9f2)]);_0x5a1232[_0x57f8bf(0x144)][_0x57f8bf(0xc8b)](_0x57f8bf(0x1c9));if(window[_0x57f8bf(0x608)])MathJax[_0x57f8bf(0x31d)]([_0x5a1232]);document[_0x57f8bf(0x8cb)](_0x57f8bf(0x205))[_0x57f8bf(0x144)][_0x57f8bf(0x743)]('hidden'),document[_0x57f8bf(0x8cb)]('hint-btn')[_0x57f8bf(0x144)]['add'](_0x57f8bf(0x1c9)),document[_0x57f8bf(0x8cb)](_0x57f8bf(0x706))[_0x57f8bf(0x144)][_0x57f8bf(0xc8b)](_0x57f8bf(0x1c9));}),document[_0x4bd762(0x8cb)](_0x4bd762(0x706))[_0x4bd762(0x38d)]('click',()=>{const _0x2bd5c2=_0x4bd762;_0x233f89++,_0x233f89<_0x5cb62f[_0x2bd5c2(0x3bb)]?_0x482b77():(studentQuizArea[_0x2bd5c2(0x22a)]=_0x2bd5c2(0xd49),document[_0x2bd5c2(0x8cb)]('back-to-results-btn')[_0x2bd5c2(0x38d)](_0x2bd5c2(0x9b4),()=>{const _0x577cd2=_0x2bd5c2;studentQuizArea[_0x577cd2(0x144)][_0x577cd2(0x743)](_0x577cd2(0x1c9)),studentResultArea[_0x577cd2(0x144)]['remove'](_0x577cd2(0x1c9));}));});};_0x482b77();}async function getHintForQuestion(_0x9e0bb5){const _0x3dbf05=_0xc7d29a,_0x14de32=_0x3dbf05(0x926)+_0x9e0bb5+_0x3dbf05(0x5d4),_0xab8d85={'type':'OBJECT','properties':{'hint':{'type':_0x3dbf05(0x47b)}},'required':['hint']};try{const _0x3a5a21=await callAnalysisApi(_0x14de32,_0xab8d85);return _0x3a5a21['hint'];}catch(_0xf4a431){return console['error'](_0x3dbf05(0x56e),_0xf4a431),_0x3dbf05(0x554);}}async function extractTextFromPdf(_0x331695){const _0x5b0560=_0xc7d29a;pdfjsLib[_0x5b0560(0xad3)]['workerSrc']=_0x5b0560(0x20d);const _0x57a61d=await _0x331695[_0x5b0560(0xae1)](),_0xc86abf=await pdfjsLib[_0x5b0560(0xd1)](_0x57a61d)[_0x5b0560(0xb54)],_0x4678ce=_0xc86abf['numPages'];let _0x3b96bf='';for(let _0xa3d87d=0x1;_0xa3d87d<=_0x4678ce;_0xa3d87d++){const _0x4999f7=await _0xc86abf[_0x5b0560(0x4cc)](_0xa3d87d),_0xc0c364=await _0x4999f7[_0x5b0560(0xd36)](),_0x3c4e31=_0xc0c364[_0x5b0560(0xb82)]['map'](_0x331757=>_0x331757[_0x5b0560(0xddd)])[_0x5b0560(0x922)]('\x20');_0x3b96bf+=_0x3c4e31+'\x0a\x0a';}return _0x3b96bf;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x10b6ee){const _0x320e5e=_0xc7d29a,_0x2cbaeb=document['getElementById'](_0x320e5e(0x418)),_0xbe6d0=document[_0x320e5e(0x8cb)](_0x320e5e(0x95e)),_0x129b7c=document[_0x320e5e(0x8cb)]('save-blueprint-as-project-btn');_0x2cbaeb['classList']['remove'](_0x320e5e(0x1c9)),_0xbe6d0['innerHTML']=_0x320e5e(0x30f),_0x129b7c[_0x320e5e(0x144)]['add']('hidden');try{const _0x361f91='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x10b6ee+_0x320e5e(0x809),_0x7e1b58={'type':_0x320e5e(0x2c9),'properties':{'gradeLevel':{'type':_0x320e5e(0x47b)},'curriculum':{'type':_0x320e5e(0x991),'items':{'type':_0x320e5e(0x2c9),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'topicName':{'type':'STRING'},'subTopics':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0x320e5e(0xa43),_0x320e5e(0x15f)]}}},'required':[_0x320e5e(0xaed),'mainTopics']}}},'required':[_0x320e5e(0x2c5),_0x320e5e(0x111)]},_0x4831e5=await callAnalysisApi(_0x361f91,_0x7e1b58);if(_0x4831e5&&_0x4831e5[_0x320e5e(0x111)])extractedBlueprintData=_0x4831e5,renderBlueprintTopics(_0x4831e5),_0x129b7c[_0x320e5e(0x144)][_0x320e5e(0xc8b)](_0x320e5e(0x1c9));else throw new Error(_0x320e5e(0xe0c));}catch(_0x1f6d62){console[_0x320e5e(0x3e8)](_0x320e5e(0x133),_0x1f6d62),_0xbe6d0['innerHTML']=_0x320e5e(0x542);}}function renderBlueprintTopics(_0x3472a1){const _0x1a51d9=_0xc7d29a,_0x3e9b20=document[_0x1a51d9(0x8cb)](_0x1a51d9(0x95e)),_0x31044c=_0x3472a1[_0x1a51d9(0x2c5)],_0x47c475=_0x1a51d9(0xd7)+_0x31044c+'</h3>';let _0x2b3b7f='';_0x3472a1['curriculum'][_0x1a51d9(0x3f4)](_0x1b4ee0=>{const _0xecf509=_0x1a51d9;_0x2b3b7f+=_0xecf509(0x971)+_0x1b4ee0[_0xecf509(0xaed)]+_0xecf509(0x8fe),_0x1b4ee0['mainTopics'][_0xecf509(0x3f4)](_0x434a07=>{const _0x16cc72=_0xecf509;_0x2b3b7f+=_0x16cc72(0x3a0)+_0x434a07['topicName']+_0x16cc72(0x495),_0x434a07[_0x16cc72(0x15f)]['forEach'](_0x32a18b=>{const _0x5eba57=_0x16cc72;_0x2b3b7f+=_0x5eba57(0x266)+_0x32a18b['replace'](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x31044c['replace'](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x32a18b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x32a18b[_0x5eba57(0xb91)](/'/g,'\x5c\x27')+_0x5eba57(0x5ea);}),_0x2b3b7f+=_0x16cc72(0x940);}),_0x2b3b7f+=_0xecf509(0x1d2);}),_0x3e9b20[_0x1a51d9(0x22a)]=_0x47c475+_0x2b3b7f;}async function handleGenerateTeachingContent(_0x119cdc){const _0x47fb4f=_0xc7d29a,_0x3404c5=document[_0x47fb4f(0x8cb)]('lesson-plan-modal'),_0x9584ae=document[_0x47fb4f(0x8cb)](_0x47fb4f(0xc75));document[_0x47fb4f(0x8cb)](_0x47fb4f(0x710))['textContent']=_0x47fb4f(0xd0c)+_0x119cdc,_0x9584ae[_0x47fb4f(0x22a)]=_0x47fb4f(0xd82),_0x3404c5[_0x47fb4f(0x144)][_0x47fb4f(0xc8b)]('hidden');try{const _0x14e5e8=_0x47fb4f(0xbde)+_0x119cdc+_0x47fb4f(0xde9),_0x5d9693={'type':_0x47fb4f(0x2c9),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':'STRING'}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x47fb4f(0x47b)}},'stepByStepExamples':{'type':_0x47fb4f(0x991),'items':{'type':_0x47fb4f(0x2c9),'properties':{'question':{'type':_0x47fb4f(0x47b)},'solution':{'type':'STRING'}},'required':[_0x47fb4f(0x5e5),_0x47fb4f(0x6fd)]}},'teacherTips':{'type':_0x47fb4f(0x991),'items':{'type':_0x47fb4f(0x47b)}}},'required':['keyConcepts',_0x47fb4f(0xac7),'stepByStepExamples',_0x47fb4f(0x80f)]},_0xf52561=await callAnalysisApi(_0x14e5e8,_0x5d9693);displayTeachingContent(_0xf52561,_0x119cdc);}catch(_0xd86441){console['error'](_0x47fb4f(0xc43),_0xd86441),_0x9584ae[_0x47fb4f(0x22a)]=_0x47fb4f(0x9c0)+_0xd86441['message']+_0x47fb4f(0x4f2);}}function displayTeachingContent(_0x52f430,_0x17c681){const _0x32d399=_0xc7d29a,_0x2172ae=document['getElementById']('lesson-plan-content');document['getElementById'](_0x32d399(0x710))['textContent']=_0x32d399(0xc50)+_0x17c681;const _0x4c859f=_0x32d399(0x10c)+_0x52f430['keyConcepts'][_0x32d399(0x283)](_0x37141e=>_0x32d399(0x561)+_0x37141e+_0x32d399(0x19c))[_0x32d399(0x922)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x52f430['commonMistakes']['map'](_0x1688f3=>_0x32d399(0x561)+_0x1688f3+'</li>')[_0x32d399(0x922)]('')+_0x32d399(0x498)+_0x52f430[_0x32d399(0x921)][_0x32d399(0x283)](_0x530fc0=>_0x32d399(0x730)+_0x530fc0[_0x32d399(0x5e5)]+_0x32d399(0x33f)+_0x530fc0[_0x32d399(0x6fd)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x52f430[_0x32d399(0x80f)][_0x32d399(0x283)](_0x4e2fd6=>_0x32d399(0x561)+_0x4e2fd6+_0x32d399(0x19c))[_0x32d399(0x922)]('')+_0x32d399(0x719);_0x2172ae['innerHTML']=_0x4c859f;if(window[_0x32d399(0x608)])MathJax[_0x32d399(0x31d)]([_0x2172ae]);}async function generateQuizForSingleTopic(_0x3d2cc4){const _0x36fa30=_0xc7d29a;console[_0x36fa30(0xcde)](_0x36fa30(0x4bd)+_0x3d2cc4+'\x22');const _0x330433=document['getElementById'](_0x36fa30(0x89e)),_0x584b88=_0x330433[_0x36fa30(0x9cf)][_0x36fa30(0x3bb)]>0x0?_0x330433[_0x36fa30(0x9cf)][0x0]:null;let _0x1225eb=null;if(_0x584b88)try{const _0x3baea0=new FileReader();_0x3baea0[_0x36fa30(0x73c)](_0x584b88);const _0x4edb3c=await new Promise((_0x839ca0,_0x38291d)=>{const _0x2ebb64=_0x36fa30;_0x3baea0['onload']=()=>_0x839ca0(_0x3baea0[_0x2ebb64(0x10b)]['split'](',')[0x1]),_0x3baea0['onerror']=_0x2b90cb=>_0x38291d(_0x2b90cb);});_0x1225eb=[{'inlineData':{'mimeType':_0x584b88[_0x36fa30(0x255)],'data':_0x4edb3c}}];}catch(_0x234eb0){console['error'](_0x36fa30(0xc0a),_0x234eb0),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x3d2cc4,null,null,_0x1225eb,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x4f52d6=null){const _0x4a91df=_0xc7d29a,_0x364a9c=document['getElementById'](_0x4a91df(0x8aa)),_0x2b5981=document['getElementById']('loader-text');let _0x453619,_0x1bfbcd=[];if(_0x4f52d6)_0x453619=_0x4f52d6,_0x1bfbcd=_0x453619['slice'](0x2);else{const _0x4c2d16=document[_0x4a91df(0x8cb)](_0x4a91df(0x6ca)),_0x389968=document[_0x4a91df(0x8cb)](_0x4a91df(0x89e)),_0x5e3ff5=_0x4c2d16[_0x4a91df(0x9cf)][0x0];if(!_0x5e3ff5){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}_0x2b5981[_0x4a91df(0x1ae)]='กำลังเตรียมไฟล์...';const _0x2037a6=await new Promise((_0x23f1a7,_0x562528)=>{const _0x30c70f=_0x4a91df,_0x43dc69=new FileReader();_0x43dc69[_0x30c70f(0x73c)](_0x5e3ff5),_0x43dc69[_0x30c70f(0xa2d)]=()=>_0x23f1a7(_0x43dc69['result']['split'](',')[0x1]),_0x43dc69['onerror']=_0x562528;});_0x453619=[{'text':_0x4a91df(0xa1f)},{'inlineData':{'mimeType':_0x5e3ff5[_0x4a91df(0x255)],'data':_0x2037a6}}];if(_0x389968['files'][_0x4a91df(0x3bb)]>0x0){const _0x3a7f1c=_0x389968['files'][0x0];_0x2b5981[_0x4a91df(0x1ae)]='กำลังเตรียมไฟล์อ้างอิง...';const _0x37e6df=await new Promise((_0x2adfc7,_0x33ee4f)=>{const _0x21e629=_0x4a91df,_0x535b7d=new FileReader();_0x535b7d['readAsDataURL'](_0x3a7f1c),_0x535b7d['onload']=()=>_0x2adfc7(_0x535b7d[_0x21e629(0x10b)][_0x21e629(0xbaa)](',')[0x1]),_0x535b7d['onerror']=_0x33ee4f;}),_0x53f20b={'inlineData':{'mimeType':_0x3a7f1c['type'],'data':_0x37e6df}};_0x453619[_0x4a91df(0x77f)](_0x53f20b),_0x1bfbcd[_0x4a91df(0x77f)](_0x53f20b);}}const _0x3c75a0=_0x4a91df(0x33b),_0x37e47d=_0x4a91df(0x31c);let _0x4ba3c1='';_0x1bfbcd&&_0x1bfbcd[_0x4a91df(0x3bb)]>0x0?_0x4ba3c1=_0x3c75a0:_0x4ba3c1=_0x37e47d;const _0x14fbe4=_0x4a91df(0x5e2)+_0x4ba3c1+_0x4a91df(0x1d8),_0x36eddc={'type':_0x4a91df(0x2c9),'properties':{'questionText':{'type':_0x4a91df(0x47b)},'questionType':{'type':_0x4a91df(0x47b),'enum':[_0x4a91df(0xc7b),_0x4a91df(0xc34),_0x4a91df(0x206),_0x4a91df(0x6cf)]},'options':{'type':_0x4a91df(0x991),'items':{'type':_0x4a91df(0x47b)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x4a91df(0x47b)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x4a91df(0x47b)},'imageCode':{'type':_0x4a91df(0x47b)}},'required':[_0x4a91df(0xd53),_0x4a91df(0x9f2)]},_0x580741={'type':_0x4a91df(0x2c9),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x4a91df(0x991),'items':_0x36eddc}},'required':[_0x4a91df(0x664),'questions']};_0x453619[0x0][_0x4a91df(0xb0d)]=_0x14fbe4,await handleApiCall(_0x453619,_0x4a91df(0x510),_0x580741);}function proceedToNextQuestion(_0x40d63c){const _0x10e18f=_0xc7d29a;studentAnswersPerQuestion['push'](_0x40d63c),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0x10e18f(0x3bb)]?finalizePerQuestionQuiz():renderPerQuestionView();}function getCentralPotHTML(_0x88ec33){const _0x36aea2=_0xc7d29a,_0x291ab1=_0x88ec33[_0x36aea2(0xc5e)]||0x0,_0x1cb759=_0x88ec33['isBlackMarketEnabled']===!![];if(!_0x1cb759)return'';if(_0x291ab1===0x0)return _0x36aea2(0x52d);return _0x36aea2(0x90f)+_0x291ab1[_0x36aea2(0x546)]()+_0x36aea2(0x7df);}function renderAdminSyncDashboard(_0x53d6d3,_0xba77e3,_0x49f9a5){const _0x426f5e=_0xc7d29a,_0x59cb5e=Object[_0x426f5e(0xc37)](_0x53d6d3['players']||{}),_0x345921=_0x59cb5e[_0x426f5e(0x3bb)],_0x209497=_0x49f9a5,_0x39dc25=_0x53d6d3[_0x426f5e(0xa15)]||'classic',_0x5f4dc6=_0x39dc25==='anonymous'||_0x39dc25===_0x426f5e(0x37b),_0x120363=_0x39dc25===_0x426f5e(0x75d)||_0x39dc25==='anonymous_reveal_end',_0x462a1f=_0x53d6d3['isAnonymousRevealed']===!![],_0x8654fe=_0x39dc25===_0x426f5e(0x5a6),_0x4eb0e0=_0x53d6d3[_0x426f5e(0xb2d)][_0x426f5e(0x763)],_0x4c43ee=_0x4eb0e0[_0x209497],_0x4da5e1=_0x264c09=>String[_0x426f5e(0x6a1)](0x41+_0x264c09),_0x295e42=_0x59cb5e['map'](_0x145adb=>{const _0x3b15e3=_0x426f5e,_0x2992c7=(_0x145adb[_0x3b15e3(0xea)]||[])[_0x3b15e3(0xb8e)](_0x5a83b9=>{const _0x1ef346=_0x3b15e3;if(_0x120363)return _0x5a83b9[_0x1ef346(0x47e)]<=_0x209497;return!![];});let _0x2898eb=0x0,_0x10b517=0x0;_0x120363?(_0x2898eb=_0x2992c7[_0x3b15e3(0xb8e)](_0x32aa4f=>_0x32aa4f[_0x3b15e3(0x2a6)])[_0x3b15e3(0x3bb)],_0x10b517=_0x2992c7[_0x3b15e3(0xcb0)]((_0x5d4eee,_0x3a7e01)=>_0x5d4eee+(_0x3a7e01[_0x3b15e3(0xc89)]||0x0),0x0)):(_0x2898eb=_0x145adb[_0x3b15e3(0x1f9)]||0x0,_0x10b517=_0x145adb[_0x3b15e3(0x540)]||0x0);let _0x369a07=0x0;for(let _0x4aa5a3=0x0;_0x4aa5a3<=_0x209497;_0x4aa5a3++){const _0x10233f=_0x2992c7['find'](_0x4bab26=>_0x4bab26[_0x3b15e3(0x47e)]===_0x4aa5a3);if(_0x10233f){const _0x2f4b5b=_0x10233f['powerupUsed']&&_0x10233f[_0x3b15e3(0x1a0)]!==_0x3b15e3(0xcf9)||_0x10233f[_0x3b15e3(0x194)];_0x10233f[_0x3b15e3(0x2a6)]?_0x2f4b5b?_0x369a07=0x0:_0x369a07++:_0x369a07=0x0;}else _0x369a07=0x0;}return{..._0x145adb,'realScore':_0x2898eb,'totalPoints':_0x10b517,'answers':_0x2992c7,'correctStreak':_0x369a07};}),_0x190743=Math[_0x426f5e(0xa73)](..._0x295e42[_0x426f5e(0x283)](_0x7a14ee=>_0x7a14ee[_0x426f5e(0x540)]),-Infinity),_0x3e188d=Math[_0x426f5e(0xa73)](..._0x295e42[_0x426f5e(0x283)](_0x48e202=>_0x48e202[_0x426f5e(0x31e)]),-Infinity),_0x40378f=_0x53d6d3[_0x426f5e(0xddc)]===!![],_0xe2d25f=[..._0x295e42]['sort']((_0x11a0fa,_0x366622)=>{const _0x48a661=_0x426f5e;if(_0x40378f){const _0x46d7d2=_0x366622[_0x48a661(0x540)]-_0x11a0fa[_0x48a661(0x540)];if(_0x46d7d2!==0x0)return _0x46d7d2;const _0x321a62=_0x366622[_0x48a661(0x31e)]-_0x11a0fa[_0x48a661(0x31e)];if(_0x321a62!==0x0)return _0x321a62;return(_0x11a0fa[_0x48a661(0xa48)]||'')[_0x48a661(0xb18)](_0x366622['name']||'','th');}else{const _0x31e086=_0x366622[_0x48a661(0x540)]-_0x11a0fa['totalPoints'];if(_0x31e086!==0x0)return _0x31e086;const _0x3bd18a=_0x366622['realScore']-_0x11a0fa[_0x48a661(0x31e)];if(_0x3bd18a!==0x0)return _0x3bd18a;return(_0x11a0fa[_0x48a661(0xa48)]||'')['localeCompare'](_0x366622['name']||'','th');}});let _0x1f0775=0x1;for(let _0x5b8459=0x0;_0x5b8459<_0xe2d25f['length'];_0x5b8459++){if(_0x5b8459>0x0){const _0x5e536f=_0xe2d25f[_0x5b8459-0x1],_0x4f12bb=_0xe2d25f[_0x5b8459];let _0x46b95d=![];_0x40378f?_0x46b95d=_0x4f12bb['totalPoints']===_0x5e536f[_0x426f5e(0x540)]&&_0x4f12bb[_0x426f5e(0x31e)]===_0x5e536f[_0x426f5e(0x31e)]:_0x46b95d=_0x4f12bb[_0x426f5e(0x540)]===_0x5e536f['totalPoints']&&_0x4f12bb[_0x426f5e(0x31e)]===_0x5e536f['realScore'],!_0x46b95d&&(_0x1f0775=_0x5b8459+0x1);}_0xe2d25f[_0x5b8459]['displayRank']=_0x1f0775;}let _0x4b527c='';const _0x3304e2=!_0x8654fe&&!(_0x5f4dc6&&_0x53d6d3['showAnswerInAnonymous']===![]);if(_0x4c43ee&&_0x3304e2){let _0x507532='',_0x2b5f6c='';const _0xc86f3d=_0x4c43ee[_0x426f5e(0xd53)]||_0x53d6d3[_0x426f5e(0xb2d)][_0x426f5e(0x7f3)];if(_0xc86f3d===_0x426f5e(0xc7b)&&_0x4c43ee[_0x426f5e(0x764)]){const _0x5e7cef=_0x4c43ee['correctAnswerIndex'];_0x507532=_0x4c43ee[_0x426f5e(0x764)][_0x5e7cef],_0x2b5f6c=_0x4da5e1(_0x5e7cef)+'.';}else{if(_0xc86f3d===_0x426f5e(0x206)){const _0x59861e=String(_0x4c43ee[_0x426f5e(0x124)])[_0x426f5e(0xdfe)]()===_0x426f5e(0xa81);_0x507532=_0x59861e?'ใช่\x20/\x20ถูก':_0x426f5e(0x419),_0x2b5f6c=_0x59861e?'ก.':'ข.';}else{if(_0xc86f3d==='matching_item')_0x507532=_0x4c43ee[_0x426f5e(0x9b7)]||'-';else(_0xc86f3d==='short_answer'||_0xc86f3d===_0x426f5e(0x8f8))&&(_0x507532=_0x4c43ee[_0x426f5e(0xd16)]||'-');}}_0x507532&&(_0x4b527c=_0x426f5e(0xa2a)+(_0x209497+0x1)+_0x426f5e(0x736)+_0x2b5f6c+'\x20'+_0x507532+_0x426f5e(0x792));}const _0x244291=_0xe2d25f['map']((_0xcae337,_0x334339)=>{const _0x3df1df=_0x426f5e,_0x5a5eea=_0xcae337[_0x3df1df(0x31e)],_0xaf7f09=_0xcae337[_0x3df1df(0x540)],_0x3e9c4c=(_0xcae337[_0x3df1df(0xea)]||[])[_0x3df1df(0x7d2)](_0x56b499=>_0x56b499['questionIndex']===_0x49f9a5),_0x266f41=_0xcae337[_0x3df1df(0xea)][_0x3df1df(0x3bb)];let _0x2f6e0c='';_0x3e9c4c&&_0x3e9c4c['potBonus']>0x0&&(_0x2f6e0c=_0x3df1df(0x551)+_0x3e9c4c[_0x3df1df(0x543)]+_0x3df1df(0x19d));let _0x62a898='';if(_0x3e9c4c){if(_0x3e9c4c[_0x3df1df(0xabc)])_0x62a898+=_0x3df1df(0x7bf);if(_0x3e9c4c[_0x3df1df(0x6ce)])_0x62a898+=_0x3df1df(0x26e);if(_0x3e9c4c[_0x3df1df(0x194)])_0x62a898+=_0x3df1df(0x399);const _0x30ca90=_0x3e9c4c[_0x3df1df(0x1a0)];if(_0x30ca90){const _0x1b0691={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':'👁️'};if(_0x1b0691[_0x30ca90])_0x62a898+=_0x3df1df(0x2c3)+_0x1b0691[_0x30ca90]+_0x3df1df(0xd5c);}}let _0x21bc44='';const _0x525569=_0xcae337[_0x3df1df(0x291)]||0x0,_0x57f601=_0x3e9c4c&&_0x3e9c4c[_0x3df1df(0x194)],_0x3f220e=_0x3e9c4c&&_0x3e9c4c[_0x3df1df(0x1a0)]&&_0x3e9c4c[_0x3df1df(0x1a0)]!==_0x3df1df(0xcf9);!_0x8654fe&&_0x525569>=0x3&&!_0x57f601&&!_0x3f220e&&(_0x21bc44+='\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x'+_0x525569+_0x3df1df(0xd5c));if(!_0x8654fe&&_0x266f41>0x0){if(_0x40378f){if(_0xaf7f09===_0x190743&&_0x190743>0x0)_0x21bc44+=_0x3df1df(0x451);if(_0x5a5eea===_0x3e188d&&_0x3e188d>0x0)_0x21bc44+=_0x3df1df(0x6c2);}else{const _0x443f69=_0xcae337[_0x3df1df(0x31e)]===_0x49f9a5+0x1;if(_0x443f69)_0x21bc44+='<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>';}if(_0x21bc44===''&&_0xaf7f09<0x0)_0x21bc44+=_0x3df1df(0x3e1);}let _0x429864=_0x3df1df(0xa83),_0x10bdcf=![],_0x2b7008=![];if(!_0x8654fe){const _0x4f98f9=(_0xcae337[_0x3df1df(0xea)]||[])[_0x3df1df(0x7d2)](_0x5b3914=>_0x5b3914[_0x3df1df(0x47e)]===_0x209497);if(_0x4f98f9){const _0x30ec76=_0x4f98f9[_0x3df1df(0x2a6)],_0x20a3f2=_0x4f98f9[_0x3df1df(0xb1a)]===!![]||_0x4f98f9[_0x3df1df(0xb1a)]===_0x3df1df(0x8ff),_0x2b6dcf=_0x4f98f9[_0x3df1df(0x1a0)];if(_0x2b6dcf===_0x3df1df(0xcf9))_0x30ec76?(_0x429864=_0x3df1df(0x8e3),_0x10bdcf=!![]):(_0x429864=_0x3df1df(0xc6d),_0x2b7008=!![]);else{if(_0x20a3f2)_0x429864=_0x30ec76?_0x3df1df(0x9d5):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x30ec76&&(_0x429864='bg-[#DCFCE7]\x20text-green-900');}}}let _0x42cc56='';const _0x5ab23f=_0xcae337[_0x3df1df(0xa48)],_0x55d1fe=_0x53d6d3[_0x3df1df(0x4c0)][_0xcae337[_0x3df1df(0xa48)]]||_0x3df1df(0x82f),_0x3824f0=_0x3df1df(0x33e),_0x2b88e7=_0x3df1df(0xcea),_0x499649=_0x10bdcf?_0x3df1df(0x4c5):_0x3df1df(0x3e4);let _0x58dcab='';const _0x5ed3e1=_0xaf7f09>=0x0?'(+'+_0xaf7f09[_0x3df1df(0x546)]()+')':'('+_0xaf7f09['toLocaleString']()+')',_0x4da737=_0x3df1df(0xa40)+_0x5a5eea+'\x20คะแนน\x20'+_0x5ed3e1+'\x20'+_0x2f6e0c+_0x3df1df(0x5c7);if(_0xba77e3){if(_0x5f4dc6&&!_0x462a1f)_0x2b7008?_0x42cc56='<div\x20style=\x22'+_0x3824f0+_0x3df1df(0x22d)+_0x5ab23f+'\x20('+_0x55d1fe+_0x3df1df(0x174)+_0x2b88e7+'\x22>'+_0x5ab23f+'</span>\x20'+_0x62a898+'\x20'+_0x21bc44+_0x3df1df(0xb53)+_0x499649+_0x3df1df(0x45a)+_0x2b88e7+_0x3df1df(0x4c9)+_0x55d1fe+_0x3df1df(0x758):_0x42cc56=_0x3df1df(0xabf)+_0x3824f0+_0x3df1df(0x22d)+_0x55d1fe+_0x3df1df(0x888)+_0x2b88e7+'\x22>'+_0x55d1fe+'</span>\x20'+_0x62a898+'\x20'+_0x21bc44+'</div>',_0x58dcab=_0x4da737;else{if(_0x5f4dc6&&_0x462a1f)_0x42cc56=_0x3df1df(0xabf)+_0x3824f0+_0x3df1df(0x22d)+_0x5ab23f+_0x3df1df(0x888)+_0x2b88e7+'\x22>'+_0x5ab23f+_0x3df1df(0x953)+_0x62a898+'\x20'+_0x21bc44+'<span\x20class=\x22block\x20text-sm\x20'+_0x499649+_0x3df1df(0x45a)+_0x2b88e7+_0x3df1df(0x4c9)+_0x55d1fe+_0x3df1df(0x758),_0x58dcab=_0x4da737;else _0x8654fe?(_0x42cc56=_0x3df1df(0xabf)+_0x3824f0+_0x3df1df(0x22d)+_0x5ab23f+_0x3df1df(0x888)+_0x2b88e7+'\x22>'+_0x5ab23f+_0x3df1df(0x953)+_0x62a898+'\x20'+_0x21bc44+_0x3df1df(0x1d2),_0x58dcab=''):(_0x42cc56=_0x3df1df(0xabf)+_0x3824f0+'\x22\x20title=\x22'+_0x5ab23f+_0x3df1df(0x888)+_0x2b88e7+'\x22>'+_0x5ab23f+_0x3df1df(0x953)+_0x62a898+'\x20'+_0x21bc44+_0x3df1df(0x1d2),_0x58dcab=_0x4da737);}}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20'+_0x429864+_0x3df1df(0x72f)+_0xcae337[_0x3df1df(0xa70)]+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x42cc56+_0x3df1df(0xc81)+_0x58dcab+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x426f5e(0x922)](''),_0x50c24c=_0x4eb0e0['map']((_0x3f8959,_0x4caf03)=>{const _0x43a832=_0x426f5e;if(_0x120363&&_0x4caf03>_0x209497||_0x8654fe)return'';const _0x42bce1=_0x295e42['filter'](_0x4dcc18=>_0x4dcc18[_0x43a832(0xea)]&&_0x4dcc18[_0x43a832(0xea)]['find'](_0x42e0d0=>_0x42e0d0[_0x43a832(0x47e)]===_0x4caf03&&_0x42e0d0['isCorrect']))[_0x43a832(0x3bb)],_0x3c3356=_0x4caf03===_0x209497,_0x3cdf4e=_0x3c3356?_0x43a832(0xd1a):'p-2\x20bg-black/10\x20rounded-md';return _0x43a832(0x651)+_0x3cdf4e+_0x43a832(0x212)+(_0x4caf03+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x42bce1+_0x43a832(0x99b)+_0x345921+_0x43a832(0x107);})['join']('');let _0x66dcb1='',_0x4329aa='';if(_0xba77e3){const _0x2710e6=_0x39dc25===_0x426f5e(0xb4d)&&_0x53d6d3[_0x426f5e(0xc74)]>=_0x4eb0e0[_0x426f5e(0x3bb)]-0x1,_0x27f5f4=_0x120363&&_0x53d6d3[_0x426f5e(0x2d3)]>=_0x4eb0e0[_0x426f5e(0x3bb)]-0x1,_0x2a0449=_0x39dc25===_0x426f5e(0x5a6)&&_0x53d6d3[_0x426f5e(0xc74)]>=_0x4eb0e0[_0x426f5e(0x3bb)]-0x1,_0x5ad338=_0x5f4dc6&&!_0x120363&&_0x53d6d3[_0x426f5e(0xc74)]>=_0x4eb0e0[_0x426f5e(0x3bb)]-0x1;if(_0x120363)_0x27f5f4?_0x5f4dc6&&!_0x462a1f?_0x66dcb1=_0x426f5e(0x7dc):_0x66dcb1='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>':_0x66dcb1=_0x426f5e(0x465);else _0x2710e6||_0x2a0449||_0x5ad338?_0x5f4dc6&&!_0x462a1f?_0x66dcb1=_0x426f5e(0x7dc):_0x66dcb1='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>':_0x66dcb1='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';_0x4329aa=_0x426f5e(0x3b3);}const _0xdb0d5c=_0x8654fe||_0x5f4dc6&&!_0x53d6d3['showAnswerInAnonymous']?'':_0x426f5e(0xd27)+_0x50c24c+_0x426f5e(0x940),_0x12b4e3=_0x8654fe||_0x5f4dc6&&!_0x53d6d3[_0x426f5e(0x135)]?_0x426f5e(0x5f2):_0x426f5e(0x376),_0x1d6684=getCentralPotHTML(_0x53d6d3),_0x1415a4=_0x426f5e(0xc9d)+_0x53d6d3[_0x426f5e(0xb2d)]['topic']+_0x426f5e(0x1c3)+_0x53d6d3[_0x426f5e(0x87e)]+_0x426f5e(0x25e)+_0x1d6684+_0x426f5e(0xc81)+_0x4329aa+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b527c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x12b4e3+_0x426f5e(0x1ca)+(_0x244291||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x426f5e(0xb9d)+_0xdb0d5c+_0x426f5e(0x9bb)+(_0xba77e3?_0x426f5e(0x2a5)+_0x66dcb1+_0x426f5e(0x1d2):'')+_0x426f5e(0xc8c);liveGameView[_0x426f5e(0x22a)]=_0x1415a4;if(window[_0x426f5e(0x608)]){const _0x19aed1=document[_0x426f5e(0x8cb)](_0x426f5e(0x645));_0x19aed1&&MathJax[_0x426f5e(0x31d)]([_0x19aed1]);}if(_0xba77e3){const _0x35002b=document[_0x426f5e(0x8cb)](_0x426f5e(0x520));_0x35002b&&(_0x35002b[_0x426f5e(0x312)]=async()=>{const _0x25b356=_0x426f5e,_0x6e6815=doc(db,'artifacts/'+appId+_0x25b356(0xde7),currentLiveGameId),_0x4671a5=_0x53d6d3[_0x25b356(0xc74)]+0x1,_0x33cb04=_0x53d6d3[_0x25b356(0xb2d)][_0x25b356(0x763)][_0x25b356(0x3bb)];!_0x120363&&_0x4671a5<_0x33cb04?await updateDoc(_0x6e6815,{'status':_0x25b356(0x5e5),'currentQuestionIndex':_0x4671a5,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x6e6815,{'status':_0x25b356(0xba3)});});const _0x2f37f9=document[_0x426f5e(0x8cb)]('next-review-question-btn');_0x2f37f9&&(_0x2f37f9[_0x426f5e(0x312)]=async()=>{const _0x21a7f0=_0x426f5e,_0x26a194=doc(db,_0x21a7f0(0x9c2)+appId+_0x21a7f0(0xde7),currentLiveGameId);await updateDoc(_0x26a194,{'reviewQuestionIndex':increment(0x1)});});document[_0x426f5e(0x8cb)]('reveal-names-btn')?.[_0x426f5e(0x38d)]('click',async()=>{const _0x58939b=_0x426f5e;await updateDoc(doc(db,_0x58939b(0x9c2)+appId+_0x58939b(0xde7),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x546867=document['getElementById'](_0x426f5e(0xa57));_0x546867&&(_0x546867['onclick']=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{await updateDoc(doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x90116c){const _0x1ce64d=_0xc7d29a,_0x387603=document[_0x1ce64d(0x8cb)](_0x1ce64d(0xc38)),_0x27b058=document[_0x1ce64d(0x8cb)](_0x1ce64d(0xe3e));_0x27b058[_0x1ce64d(0x144)][_0x1ce64d(0x743)]('hidden');const _0x533007=_0x1ce64d(0x9a4)+_0x90116c[_0x1ce64d(0x664)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x387603[_0x1ce64d(0x358)](_0x1ce64d(0xd15),_0x533007);const _0x1dc839=document[_0x1ce64d(0x8cb)](_0x1ce64d(0x6ef));try{const _0xca1332=_0x90116c[_0x1ce64d(0x763)][_0x1ce64d(0x283)]((_0x29672b,_0x43d270)=>{const _0x1427be=_0x1ce64d;let _0x144327=_0x43d270+0x1+'.\x20'+(_0x29672b[_0x1427be(0x3ab)]||_0x29672b[_0x1427be(0x23b)])+'\x0a';if(_0x29672b[_0x1427be(0x764)])_0x144327+=_0x29672b[_0x1427be(0x764)][_0x1427be(0x283)]((_0x51dcf8,_0x2f3511)=>_0x1427be(0xb0c)+(_0x2f3511===_0x29672b['correctAnswerIndex']?_0x1427be(0xa4f):'')+'\x20'+_0x51dcf8)[_0x1427be(0x922)]('\x0a');else _0x29672b[_0x1427be(0xd16)]&&(_0x144327+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x29672b[_0x1427be(0xd16)]);return _0x144327;})['join']('\x0a\x0a');_0x1dc839[_0x1ce64d(0x1ae)]=_0x1ce64d(0xc25);const _0x4a5df9=_0x1ce64d(0xad4)+_0x90116c[_0x1ce64d(0x664)]+_0x1ce64d(0xc83)+_0xca1332+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x1ce64d(0x5d3),_0xda28e3={'type':_0x1ce64d(0x2c9),'properties':{'questionText':{'type':_0x1ce64d(0x47b)},'questionType':{'type':_0x1ce64d(0x47b),'enum':[_0x1ce64d(0xc7b),'short_answer',_0x1ce64d(0x206),_0x1ce64d(0x6cf)]},'options':{'type':_0x1ce64d(0x991),'items':{'type':_0x1ce64d(0x47b)}},'correctAnswerIndex':{'type':_0x1ce64d(0x894)},'idealAnswer':{'type':_0x1ce64d(0x47b)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x1ce64d(0x47b)},'correctResponse':{'type':_0x1ce64d(0x47b)},'allResponses':{'type':'ARRAY','items':{'type':_0x1ce64d(0x47b)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1ce64d(0x47b)}},'required':[_0x1ce64d(0xd53),_0x1ce64d(0x9f2)]},_0x297261={'type':'OBJECT','properties':{'topic':{'type':_0x1ce64d(0x47b)},'questions':{'type':_0x1ce64d(0x991),'items':_0xda28e3}},'required':[_0x1ce64d(0x664),_0x1ce64d(0x763)]},_0x5b11f2=await callAnalysisApi(_0x4a5df9,_0x297261),_0x4556eb=_0x5b11f2[_0x1ce64d(0x763)][_0x1ce64d(0x283)]((_0x362a4d,_0x4a0499)=>({..._0x362a4d,'id':'q_'+Date[_0x1ce64d(0x2da)]()+'_'+_0x4a0499})),_0x241931='(คู่ขนาน)\x20'+_0x90116c[_0x1ce64d(0x664)],_0x377491={'topic':_0x241931,'questions':_0x4556eb,'quizType':_0x90116c[_0x1ce64d(0x7f3)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x1ce64d(0x77d)](),'status':_0x1ce64d(0xb26),'settings':_0x90116c[_0x1ce64d(0x7c2)],'quizMode':_0x1ce64d(0x67a),'pairedQuizId':null,'lessonPlan':null};let _0x1cc926;while(!![]){_0x1cc926=Math[_0x1ce64d(0x6da)](0x3e8+Math[_0x1ce64d(0xe46)]()*0x2328)[_0x1ce64d(0x225)]();const _0x31beab=await getDoc(doc(db,_0x1ce64d(0x9c2)+appId+_0x1ce64d(0x843),_0x1cc926));if(!_0x31beab[_0x1ce64d(0x45f)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x1cc926),_0x377491),showMessage(_0x1ce64d(0x258));}catch(_0x8b9813){console['error'](_0x1ce64d(0x469),_0x8b9813),showMessage(_0x1ce64d(0x506)+_0x8b9813[_0x1ce64d(0xd5f)]);}finally{const _0xbc0e5e=document['getElementById'](_0x1ce64d(0x1c8));_0xbc0e5e&&_0xbc0e5e[_0x1ce64d(0xc8b)](),_0x27b058[_0x1ce64d(0x144)][_0x1ce64d(0xc8b)](_0x1ce64d(0x1c9));}}async function handleGenerateParallelPostTest(_0x279b5a){const _0x5c2ea7=_0xc7d29a,_0x32f57f=document[_0x5c2ea7(0x8cb)](_0x5c2ea7(0xc38)),_0x1576f1=document[_0x5c2ea7(0x8cb)](_0x5c2ea7(0xe3e));_0x1576f1[_0x5c2ea7(0x144)][_0x5c2ea7(0x743)](_0x5c2ea7(0x1c9));const _0xb4d9c6=_0x5c2ea7(0x2a2);_0x32f57f[_0x5c2ea7(0x358)](_0x5c2ea7(0xd15),_0xb4d9c6);try{const _0x1e487b=_0x279b5a[_0x5c2ea7(0x763)][_0x5c2ea7(0x283)]((_0x4ea566,_0x3cb886)=>{const _0x2e1f8e=_0x5c2ea7;let _0x2b54aa=_0x3cb886+0x1+'.\x20'+(_0x4ea566['questionText']||_0x4ea566[_0x2e1f8e(0x23b)]);if(_0x4ea566[_0x2e1f8e(0x764)])_0x2b54aa+=_0x2e1f8e(0xd97)+_0x4ea566[_0x2e1f8e(0x764)][_0x2e1f8e(0x922)](',\x20');return _0x2b54aa;})[_0x5c2ea7(0x922)]('\x0a\x0a'),_0x3e6d16=_0x5c2ea7(0x165)+_0x279b5a[_0x5c2ea7(0x664)]+_0x5c2ea7(0x5e3)+_0x1e487b+_0x5c2ea7(0xc8a)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2ef6ba={'type':'OBJECT','properties':{'topic':{'type':_0x5c2ea7(0x47b)},'questions':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionText':{'type':_0x5c2ea7(0x47b)},'questionType':{'type':_0x5c2ea7(0x47b)},'options':{'type':_0x5c2ea7(0x991),'items':{'type':_0x5c2ea7(0x47b)}},'correctAnswerIndex':{'type':_0x5c2ea7(0x894)},'idealAnswer':{'type':_0x5c2ea7(0x47b)},'explanation':{'type':_0x5c2ea7(0x47b)}},'required':[_0x5c2ea7(0x3ab),_0x5c2ea7(0x9f2)]}}},'required':[_0x5c2ea7(0x664),'questions']},_0x54d381=await callAnalysisApi(_0x3e6d16,_0x2ef6ba),_0x16f1d0=_0x279b5a[_0x5c2ea7(0x664)]['replace'](_0x5c2ea7(0xda8),'')['trim'](),_0x34653c=_0x5c2ea7(0xadb)+_0x16f1d0,_0x1e82e8={..._0x54d381,'topic':_0x34653c,'quizType':_0x279b5a[_0x5c2ea7(0x7f3)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5c2ea7(0x77d)](),'status':_0x5c2ea7(0xb26),'settings':_0x279b5a[_0x5c2ea7(0x7c2)],'quizMode':_0x5c2ea7(0x541),'pairedQuizId':_0x279b5a['id']};let _0x2555d8;while(!![]){_0x2555d8=Math['floor'](0x3e8+Math[_0x5c2ea7(0xe46)]()*0x2328)[_0x5c2ea7(0x225)]();const _0x17b354=await getDoc(doc(db,'artifacts/'+appId+_0x5c2ea7(0x843),_0x2555d8));if(!_0x17b354[_0x5c2ea7(0x45f)]())break;}await setDoc(doc(db,_0x5c2ea7(0x9c2)+appId+'/public/data/quizzes',_0x2555d8),_0x1e82e8);const _0x5ecc22=doc(db,'artifacts/'+appId+_0x5c2ea7(0x843),_0x279b5a['id']);await updateDoc(_0x5ecc22,{'pairedQuizId':_0x2555d8}),showMessage(_0x5c2ea7(0xd47));}catch(_0x45069b){console[_0x5c2ea7(0x3e8)](_0x5c2ea7(0x492),_0x45069b),showMessage(_0x5c2ea7(0x506)+_0x45069b[_0x5c2ea7(0xd5f)]);}finally{const _0x12eb92=document[_0x5c2ea7(0x8cb)](_0x5c2ea7(0x1c8));if(_0x12eb92)_0x12eb92[_0x5c2ea7(0xc8b)]();_0x1576f1[_0x5c2ea7(0x144)][_0x5c2ea7(0xc8b)](_0x5c2ea7(0x1c9));}}async function handleGenerateParallelTest(_0x5ed42f=null){const _0x61cc60=_0xc7d29a;let _0x22c8cc=_0x5ed42f;if(!_0x22c8cc){const _0xf6dfcd=document[_0x61cc60(0x8cb)]('parallel-test-upload-input');_0xf6dfcd[_0x61cc60(0x9cf)][_0x61cc60(0x3bb)]>0x0&&(_0x22c8cc=_0xf6dfcd['files'][0x0]);}if(!_0x22c8cc){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด');return;}const _0x1158ef=document[_0x61cc60(0x8cb)](_0x61cc60(0x8aa)),_0x4026b4=document[_0x61cc60(0x8cb)]('loader-text'),_0xb1d440=document[_0x61cc60(0x8cb)](_0x61cc60(0xfc)),_0x162e38=document[_0x61cc60(0x8cb)](_0x61cc60(0xdab));_0x162e38[_0x61cc60(0xc2b)]=!![],document[_0x61cc60(0x8cb)]('quiz-generation-area')[_0x61cc60(0x144)][_0x61cc60(0xc8b)](_0x61cc60(0x1c9)),_0xb1d440[_0x61cc60(0x22a)]='',_0x1158ef[_0x61cc60(0x144)][_0x61cc60(0xc8b)](_0x61cc60(0x1c9)),_0x4026b4[_0x61cc60(0x1ae)]='กำลังอ่านและเตรียมไฟล์ต้นฉบับ...';const _0x26495b=new FileReader();_0x26495b[_0x61cc60(0x73c)](_0x22c8cc),_0x26495b[_0x61cc60(0xa2d)]=async()=>{const _0x55770c=_0x61cc60;try{const _0x3f823b=_0x26495b[_0x55770c(0x10b)][_0x55770c(0xbaa)](',')[0x1],_0x39cb88=_0x22c8cc['type'];_0x4026b4[_0x55770c(0x1ae)]=_0x55770c(0x48a);const _0x3c4e89=document[_0x55770c(0x8cb)]('include-images-checkbox')[_0x55770c(0x4d7)],_0x2d461d=_0x3c4e89?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x1c706f=_0x55770c(0x12c),_0x205d6d={'type':_0x55770c(0x2c9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x55770c(0x47b),'enum':[_0x55770c(0xc7b),'short_answer']},'options':{'type':_0x55770c(0x991),'items':{'type':_0x55770c(0x47b)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x55770c(0x47b)},'explanation':{'type':_0x55770c(0x47b)},'imageCode':{'type':_0x55770c(0x47b)}},'required':[_0x55770c(0x3ab),'questionType',_0x55770c(0x9f2)]},_0x16ccb2={'type':_0x55770c(0x2c9),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x55770c(0x991),'items':_0x205d6d}},'required':[_0x55770c(0x664),_0x55770c(0x763)]},_0x3a0d46=[{'text':_0x1c706f},{'inlineData':{'mimeType':_0x39cb88,'data':_0x3f823b}}];await handleApiCall(_0x3a0d46,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x16ccb2);}catch(_0x43d7cb){console['error'](_0x55770c(0x1e4),_0x43d7cb),showMessage(_0x55770c(0x506)+_0x43d7cb[_0x55770c(0xd5f)]),_0xb1d440['innerHTML']=_0x55770c(0x353);}finally{_0x1158ef[_0x55770c(0x144)]['add']('hidden'),_0x162e38[_0x55770c(0xc2b)]=![];}},_0x26495b[_0x61cc60(0x9c6)]=_0x1a1c20=>{const _0x56052b=_0x61cc60;console['error']('FileReader\x20error:',_0x1a1c20),showMessage(_0x56052b(0xc99)),_0x1158ef[_0x56052b(0x144)][_0x56052b(0x743)](_0x56052b(0x1c9)),_0x162e38[_0x56052b(0xc2b)]=![];};}async function handleRegenerateQuestionInEditor(_0x52b1ee){const _0x48103c=_0xc7d29a;if(currentEditingQuizData===null)return;const _0x5ea37f=document[_0x48103c(0x947)](_0x48103c(0xb90)+_0x52b1ee+'\x22]');_0x5ea37f&&(_0x5ea37f[_0x48103c(0x22a)]=_0x48103c(0x5f9));const _0x320eff=currentEditingQuizData[_0x48103c(0x763)][_0x52b1ee],_0x41aeca=currentEditingQuizData[_0x48103c(0x664)],_0x158dfd=_0x320eff[_0x48103c(0xd53)],_0x16e43d={'type':_0x48103c(0x2c9),'properties':{'questionText':{'type':_0x48103c(0x47b)},'options':{'type':_0x48103c(0x991),'items':{'type':_0x48103c(0x47b)}},'correctAnswerIndex':{'type':_0x48103c(0x894)},'explanation':{'type':_0x48103c(0x47b)}},'required':[_0x48103c(0x3ab),_0x48103c(0x764),'correctAnswerIndex',_0x48103c(0x9f2)]},_0x41dac9={'type':_0x48103c(0x2c9),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x48103c(0x47b)}},'required':[_0x48103c(0x3ab),_0x48103c(0xd16),'explanation']};let _0x283fb5,_0x3c5b4f='';_0x158dfd===_0x48103c(0xc7b)?(_0x283fb5=_0x16e43d,_0x3c5b4f='แบบปรนัย\x204\x20ตัวเลือก'):(_0x283fb5=_0x41dac9,_0x3c5b4f=_0x48103c(0xe79));const _0x549e03=_0x48103c(0x3dc)+_0x41aeca+_0x48103c(0x5cd)+_0x3c5b4f+_0x48103c(0xe05)+(_0x320eff[_0x48103c(0x3ab)]||_0x320eff[_0x48103c(0x23b)])+_0x48103c(0x985)+simpleMathPrompt;try{const _0x419a43=await callAnalysisApi(_0x549e03,_0x283fb5);currentEditingQuizData[_0x48103c(0x763)][_0x52b1ee]={..._0x320eff,..._0x419a43},renderQuizEditor(currentEditingQuizData);}catch(_0x551c02){console[_0x48103c(0x3e8)](_0x48103c(0xba5),_0x551c02),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0xd86e1d=_0xc7d29a,_0x591b45=document['getElementById'](_0xd86e1d(0xc62));currentMode===_0xd86e1d(0x24c)?(adminPasswordModal['classList'][_0xd86e1d(0xc8b)]('hidden'),document[_0xd86e1d(0x8cb)](_0xd86e1d(0x37a))[_0xd86e1d(0x663)]()):(currentMode='student',_0x591b45[_0xd86e1d(0x22a)]=_0xd86e1d(0x4b5),_0x591b45['title']='สลับไปโหมดผู้ควบคุม',showView('student'));}function handleAdminLogin(){const _0x1e82e4=_0xc7d29a,_0xf73348=document[_0x1e82e4(0x8cb)](_0x1e82e4(0x37a)),_0x531dcb=document[_0x1e82e4(0x8cb)]('password-error-msg');if(_0xf73348['value']===_0x1e82e4(0x44d)){adminPasswordModal[_0x1e82e4(0x144)][_0x1e82e4(0x743)](_0x1e82e4(0x1c9)),_0xf73348['value']='',_0x531dcb[_0x1e82e4(0x144)]['add'](_0x1e82e4(0x1c9)),currentMode=_0x1e82e4(0x87c);const _0x2eab67=document[_0x1e82e4(0x8cb)](_0x1e82e4(0xc62));_0x2eab67[_0x1e82e4(0x22a)]=_0x1e82e4(0x51c),_0x2eab67[_0x1e82e4(0xce4)]=_0x1e82e4(0xa24),showView(_0x1e82e4(0x9db));}else _0x531dcb[_0x1e82e4(0x144)][_0x1e82e4(0xc8b)](_0x1e82e4(0x1c9)),_0xf73348[_0x1e82e4(0xb66)]='';}function switchProjectTab(_0x42be2d){const _0x4f0115=_0xc7d29a;['manage','results',_0x4f0115(0xd30)][_0x4f0115(0x3f4)](_0x1c0b0a=>{const _0x53af66=_0x4f0115;document[_0x53af66(0x8cb)](_0x1c0b0a+_0x53af66(0xe2e))['classList'][_0x53af66(0xc8b)]('active'),document[_0x53af66(0x8cb)](_0x1c0b0a+_0x53af66(0x9c9))[_0x53af66(0x144)][_0x53af66(0x743)]('hidden');}),document['getElementById'](_0x42be2d+'-tab')['classList'][_0x4f0115(0x743)]('active'),document[_0x4f0115(0x8cb)](_0x42be2d+_0x4f0115(0x9c9))[_0x4f0115(0x144)][_0x4f0115(0xc8b)](_0x4f0115(0x1c9));}function switchQuizDetailTab(_0x17af10){const _0x4c4fa5=_0xc7d29a,_0x462382={'analytics':{'btn':_0x4c4fa5(0xafc),'content':_0x4c4fa5(0xfa)},'scores':{'btn':_0x4c4fa5(0x701),'content':_0x4c4fa5(0x3f6)},'leaderboard-quiz':{'btn':_0x4c4fa5(0x624),'content':_0x4c4fa5(0xc82)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x4c4fa5(0xd6a)}};for(const _0x398739 in _0x462382){document['getElementById'](_0x462382[_0x398739][_0x4c4fa5(0x5c9)])['classList']['remove'](_0x4c4fa5(0xb26)),document[_0x4c4fa5(0x8cb)](_0x462382[_0x398739][_0x4c4fa5(0xd24)])[_0x4c4fa5(0x144)][_0x4c4fa5(0x743)](_0x4c4fa5(0x1c9));}document[_0x4c4fa5(0x8cb)](_0x462382[_0x17af10][_0x4c4fa5(0x5c9)])[_0x4c4fa5(0x144)][_0x4c4fa5(0x743)](_0x4c4fa5(0xb26)),document[_0x4c4fa5(0x8cb)](_0x462382[_0x17af10][_0x4c4fa5(0xd24)])[_0x4c4fa5(0x144)][_0x4c4fa5(0xc8b)](_0x4c4fa5(0x1c9));}function showMessage(_0x369e06,_0x36164e=null){const _0x196496=_0xc7d29a;modalMessage[_0x196496(0x22a)]=_0x369e06['replace'](/\n/g,_0x196496(0x603)),modalConfirmAction=_0x36164e,messageModal['classList'][_0x196496(0xc8b)](_0x196496(0x1c9));}function showConfirmation(_0x5a0729,_0x497d4f,_0x571ff6=null){const _0x46b741=_0xc7d29a;document[_0x46b741(0x8cb)](_0x46b741(0x984))[_0x46b741(0x1ae)]=_0x5a0729,document[_0x46b741(0x8cb)](_0x46b741(0xa9c))[_0x46b741(0x947)]('h3')['textContent']=_0x46b741(0xde6),confirmAction=_0x497d4f,cancelAction=_0x571ff6,confirmationModal['classList'][_0x46b741(0xc8b)](_0x46b741(0x1c9));}function listenForProjects(){const _0x13e00d=_0xc7d29a,_0x568d1f=doc(db,'globalSettings',_0x13e00d(0x5b3));onSnapshot(_0x568d1f,_0x2f5f57=>{const _0x20625f=_0x13e00d;if(_0x2f5f57[_0x20625f(0x45f)]()){const _0xba9393=_0x2f5f57[_0x20625f(0x241)]();globalDashboardSettings[_0x20625f(0x26c)]=_0xba9393['projectSort']||_0x20625f(0x4ba),globalDashboardSettings['pinnedProjects']=_0xba9393[_0x20625f(0xcc8)]||[],globalDashboardSettings[_0x20625f(0x5d7)]=_0xba9393[_0x20625f(0x5d7)]||[];}allProjects[_0x20625f(0x3bb)]>0x0&&renderProjects();});const _0x2b05db=collection(db,_0x13e00d(0x9c2)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x2b05db,_0x32def6=>{const _0x4e26c1=_0x13e00d;allProjects=_0x32def6[_0x4e26c1(0xd86)][_0x4e26c1(0x283)](_0x3ddc7c=>({'id':_0x3ddc7c['id'],..._0x3ddc7c[_0x4e26c1(0x241)]()})),renderProjects();},_0x2617d5=>{const _0x3a0dc0=_0x13e00d;console[_0x3a0dc0(0x3e8)](_0x3a0dc0(0x32b),_0x2617d5),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x1ceada,_0x4e73d4){const _0xb4ba39=_0xc7d29a;document[_0xb4ba39(0xb9f)](_0xb4ba39(0xa08))[_0xb4ba39(0x3f4)](_0xf7c9fa=>_0xf7c9fa[_0xb4ba39(0xc8b)]());const _0xfe8bdd=[_0xb4ba39(0x48f),_0xb4ba39(0x4e0),_0xb4ba39(0x196),_0xb4ba39(0x1b4),_0xb4ba39(0x3fa),_0xb4ba39(0x5cc),_0xb4ba39(0x2d6),'#FCE7F3',_0xb4ba39(0x611)],_0x1cb48f=document['createElement'](_0xb4ba39(0x36e));_0x1cb48f['className']=_0xb4ba39(0x6dc),_0xfe8bdd[_0xb4ba39(0x3f4)](_0x586e6f=>{const _0x3b6418=_0xb4ba39,_0x18c47e=document[_0x3b6418(0x4d6)](_0x3b6418(0x36e));_0x18c47e[_0x3b6418(0x7cb)]=_0x3b6418(0xb31),_0x18c47e[_0x3b6418(0x220)][_0x3b6418(0xc7a)]=_0x586e6f,_0x18c47e[_0x3b6418(0x38d)]('click',()=>{const _0x4e643c=_0x3b6418;handleProjectColorChange(_0x4e73d4,_0x586e6f),_0x1cb48f[_0x4e643c(0xc8b)]();}),_0x1cb48f[_0x3b6418(0x4cf)](_0x18c47e);}),document[_0xb4ba39(0x8dc)][_0xb4ba39(0x4cf)](_0x1cb48f);const _0x4d4114=_0x1ceada[_0xb4ba39(0xa99)]();_0x1cb48f[_0xb4ba39(0x220)][_0xb4ba39(0x6f2)]=_0x4d4114[_0xb4ba39(0x1ab)]+window['scrollY']+'px',_0x1cb48f['style'][_0xb4ba39(0x705)]=_0x4d4114['left']+window[_0xb4ba39(0x8a1)]-_0x1cb48f['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x1ea75d,_0x196f03){const _0x49c00f=_0xc7d29a,_0x1d70cc=doc(db,_0x49c00f(0x9c2)+appId+_0x49c00f(0xaad),_0x1ea75d);try{await updateDoc(_0x1d70cc,{'color':_0x196f03});}catch(_0x5eb31f){console[_0x49c00f(0x3e8)]('Error\x20updating\x20project\x20color:',_0x5eb31f),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x14afda=_0xc7d29a,_0x464ec9=globalDashboardSettings['projectSort']||_0x14afda(0x4ba),_0x2f9118=new Set(globalDashboardSettings[_0x14afda(0xcc8)]||[]),_0x5136f5=globalDashboardSettings['projectView']||_0x14afda(0x5d2),_0x539b28=document['getElementById'](_0x14afda(0x179)),_0x73cc96=document[_0x14afda(0x8cb)](_0x14afda(0x39b));_0x539b28['classList'][_0x14afda(0x463)]('active',_0x5136f5===_0x14afda(0x5d2)),_0x73cc96[_0x14afda(0x144)][_0x14afda(0x463)](_0x14afda(0xb26),_0x5136f5===_0x14afda(0xdc9)),document[_0x14afda(0x8cb)](_0x14afda(0x507))[_0x14afda(0xb66)]=_0x464ec9;const _0x16c5d1=document[_0x14afda(0x8cb)](_0x14afda(0xe09))[_0x14afda(0xb66)][_0x14afda(0xdfe)]();let _0xaf97e4=allProjects[_0x14afda(0xb8e)](_0x1224c8=>_0x1224c8[_0x14afda(0xde4)][_0x14afda(0xdfe)]()[_0x14afda(0xd33)](_0x16c5d1));const _0x23a82c=_0xaf97e4[_0x14afda(0xb8e)](_0xc88bf7=>_0x2f9118[_0x14afda(0xbc5)](_0xc88bf7['id'])),_0x5807a7=_0xaf97e4[_0x14afda(0xb8e)](_0x5aaa2a=>!_0x2f9118[_0x14afda(0xbc5)](_0x5aaa2a['id'])),_0xce6f06=(_0x3a8daa,_0x4d9e7b)=>{const _0x2ff4de=_0x14afda;switch(_0x464ec9){case _0x2ff4de(0xb3c):return _0x3a8daa['projectName'][_0x2ff4de(0xb18)](_0x4d9e7b['projectName'],'th');case'name_desc':return _0x4d9e7b['projectName']['localeCompare'](_0x3a8daa[_0x2ff4de(0xde4)],'th');case _0x2ff4de(0x861):return new Date(_0x3a8daa['createdAt'])-new Date(_0x4d9e7b[_0x2ff4de(0x99a)]);default:return new Date(_0x4d9e7b['createdAt'])-new Date(_0x3a8daa[_0x2ff4de(0x99a)]);}};_0x23a82c[_0x14afda(0x9a7)](_0xce6f06),_0x5807a7[_0x14afda(0x9a7)](_0xce6f06);const _0x517d1b=[..._0x23a82c,..._0x5807a7],_0x3322d0=globalDashboardSettings[_0x14afda(0x5d7)]||[];_0x3322d0['length']>0x0&&_0x5136f5===_0x14afda(0x5d2)&&_0x517d1b[_0x14afda(0x9a7)]((_0x39159a,_0x17c190)=>{const _0x1d48e5=_0x14afda,_0x1b3ba4=_0x3322d0[_0x1d48e5(0x7a7)](_0x39159a['id']),_0x51751a=_0x3322d0['indexOf'](_0x17c190['id']);if(_0x1b3ba4===-0x1)return 0x1;if(_0x51751a===-0x1)return-0x1;return _0x1b3ba4-_0x51751a;});const _0x3225df={};await Promise[_0x14afda(0x1fd)](_0x517d1b[_0x14afda(0x283)](async _0x3296c2=>{const _0x3794dd=_0x14afda,_0x1eda85=query(collection(db,_0x3794dd(0x9c2)+appId+_0x3794dd(0x843)),where('projectId','==',_0x3296c2['id'])),_0x545558=await getCountFromServer(_0x1eda85);_0x3225df[_0x3296c2['id']]=_0x545558['data']()['count'];}));const _0x350e06=document[_0x14afda(0x8cb)](_0x14afda(0x371));let _0x4d20e5='';if(_0x5136f5===_0x14afda(0x5d2)){_0x350e06[_0x14afda(0x7cb)]=_0x14afda(0x369);if(starredQuizzes[_0x14afda(0x3bb)]>0x0&&_0x16c5d1===''){const _0x50960d=starredQuizzes[_0x14afda(0x283)](_0x103c0c=>{const _0x1eb3bc=_0x14afda,_0x8292b3=allProjects[_0x1eb3bc(0x7d2)](_0x27b1de=>_0x27b1de['id']===_0x103c0c[_0x1eb3bc(0x8d2)]);return{..._0x103c0c,'projectName':_0x8292b3?_0x8292b3[_0x1eb3bc(0xde4)]:_0x1eb3bc(0x89b)};});_0x4d20e5+=_0x14afda(0x808)+_0x50960d['map'](_0x1ee605=>_0x14afda(0xb36)+_0x1ee605['topic']+'\x22>'+_0x1ee605[_0x14afda(0x664)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x1ee605[_0x14afda(0xde4)]+'\x22>จาก:\x20'+_0x1ee605[_0x14afda(0xde4)]+_0x14afda(0x992))[_0x14afda(0x922)]('')+_0x14afda(0x7d7)+starredQuizzes[_0x14afda(0x3bb)]+_0x14afda(0x57b);}_0x517d1b[_0x14afda(0x3f4)](_0x12cd6c=>{const _0x1b6859=_0x14afda,_0x2d55b2=_0x3225df[_0x12cd6c['id']]??0x0,_0xc2da9=_0x2f9118[_0x1b6859(0xbc5)](_0x12cd6c['id']),_0x166fac=_0x12cd6c[_0x1b6859(0x455)]||_0x1b6859(0x48f),_0x4771ed=parseInt(_0x166fac[_0x1b6859(0x299)](0x1,0x3),0x10)*0.299+parseInt(_0x166fac[_0x1b6859(0x299)](0x3,0x5),0x10)*0.587+parseInt(_0x166fac[_0x1b6859(0x299)](0x5,0x7),0x10)*0.114<0xba,_0x384552=_0x4771ed?_0x1b6859(0x2f9):_0x1b6859(0x85d),_0x4c87dd=_0x4771ed?_0x1b6859(0xab8):_0x1b6859(0x891);_0x4d20e5+=_0x1b6859(0xdb0)+(_0xc2da9?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x1b6859(0xcd9))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x166fac+_0x1b6859(0x7ce)+_0x12cd6c['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x12cd6c['id']+_0x1b6859(0x1a2)+(_0x4771ed?_0x1b6859(0x2e0):'text-gray-400\x20hover:text-indigo-600')+_0x1b6859(0x380)+_0x12cd6c['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x4771ed?'text-gray-300\x20hover:text-white':_0x1b6859(0x4e3))+_0x1b6859(0x9e2)+(_0xc2da9?_0x4771ed?_0x1b6859(0x1d1):'text-indigo-600':'')+_0x1b6859(0x73b)+_0x12cd6c['id']+_0x1b6859(0x36c)+_0x384552+'\x20pointer-events-none\x22>'+_0x12cd6c[_0x1b6859(0xde4)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x4c87dd+_0x1b6859(0x2b8)+new Date(_0x12cd6c[_0x1b6859(0x99a)])['toLocaleDateString'](_0x1b6859(0x3a4))+_0x1b6859(0x3e9)+(_0x4771ed?'text-gray-100':_0x1b6859(0x65f))+_0x1b6859(0x90a)+_0x2d55b2+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x12cd6c['id']+_0x1b6859(0x9d8)+_0x12cd6c[_0x1b6859(0xde4)]+_0x1b6859(0x735)+(_0x4771ed?'text-red-300\x20hover:text-red-100':_0x1b6859(0x3b8))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x350e06['className']=_0x14afda(0x83f),starredQuizzes[_0x14afda(0x3bb)]>0x0&&_0x16c5d1===''&&(_0x4d20e5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x14afda(0x3bb)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x4d20e5+=_0x14afda(0x14a),_0x517d1b[_0x14afda(0x3f4)](_0x23723c=>{const _0x5f4baa=_0x14afda,_0x3c42cc=_0x3225df[_0x23723c['id']]??0x0,_0x39e11c=_0x2f9118['has'](_0x23723c['id']);_0x4d20e5+=_0x5f4baa(0x99f)+(_0x23723c[_0x5f4baa(0x455)]||_0x5f4baa(0x611))+_0x5f4baa(0x425)+_0x23723c['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x23723c[_0x5f4baa(0xde4)]+_0x5f4baa(0x2d7)+_0x3c42cc+_0x5f4baa(0x860)+new Date(_0x23723c[_0x5f4baa(0x99a)])[_0x5f4baa(0x546)](_0x5f4baa(0x3a4))+_0x5f4baa(0xb67)+_0x23723c['id']+_0x5f4baa(0x936)+(_0x39e11c?_0x5f4baa(0xbf9):'')+_0x5f4baa(0xc06)+_0x23723c['id']+'\x22\x20data-name=\x22'+_0x23723c[_0x5f4baa(0xde4)]+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});_0x350e06['innerHTML']=_0x4d20e5,noProjectsMsg[_0x14afda(0x144)]['toggle']('hidden',_0x4d20e5['length']>0x0);}document[_0xc7d29a(0x8cb)]('confirm-create-project-btn')['addEventListener'](_0xc7d29a(0x9b4),async()=>{const _0xcbeeb0=_0xc7d29a,_0x5468c7=document['getElementById'](_0xcbeeb0(0xe64)),_0x37bbc6=_0x5468c7['value'][_0xcbeeb0(0x649)]();if(!_0x37bbc6){showMessage(_0xcbeeb0(0xda0));return;}try{const _0x14a6a6=doc(collection(db,_0xcbeeb0(0x9c2)+appId+_0xcbeeb0(0xaad)));await setDoc(_0x14a6a6,{'projectName':_0x37bbc6,'students':[],'settings':{'resultsDisplay':_0xcbeeb0(0xb3b),'shuffleSetting':_0xcbeeb0(0xcab),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0xcbeeb0(0xcab),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0xcbeeb0(0x77d)]()}),_0x5468c7[_0xcbeeb0(0xb66)]='',createProjectModal[_0xcbeeb0(0x144)][_0xcbeeb0(0x743)](_0xcbeeb0(0x1c9)),showMessage(_0xcbeeb0(0xc9c));}catch(_0x25f92a){console[_0xcbeeb0(0x3e8)](_0xcbeeb0(0x1aa),_0x25f92a),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0xc7d29a(0x38d)](_0xc7d29a(0x9b4),async _0x48ae65=>{const _0x1e4aef=_0xc7d29a,_0x47e84b=_0x48ae65[_0x1e4aef(0x7b9)]['closest']('.project-card-content'),_0x242f17=_0x48ae65[_0x1e4aef(0x7b9)][_0x1e4aef(0x575)](_0x1e4aef(0x391)),_0x204e0c=_0x48ae65['target']['closest'](_0x1e4aef(0xcc0)),_0x53524a=_0x48ae65[_0x1e4aef(0x7b9)][_0x1e4aef(0x575)](_0x1e4aef(0xe02));if(_0x204e0c){const _0x342f46=_0x204e0c['dataset']['id'],_0x4b34ec=doc(db,_0x1e4aef(0xb14),'dashboardConfig'),_0x148939=globalDashboardSettings[_0x1e4aef(0xcc8)];let _0x17ed5f;_0x148939['includes'](_0x342f46)?_0x17ed5f=_0x148939[_0x1e4aef(0xb8e)](_0x1b6bea=>_0x1b6bea!==_0x342f46):_0x17ed5f=[..._0x148939,_0x342f46];try{await setDoc(_0x4b34ec,{'pinnedProjects':_0x17ed5f},{'merge':!![]});}catch(_0x9be289){console[_0x1e4aef(0x3e8)](_0x1e4aef(0x355),_0x9be289),showMessage(_0x1e4aef(0x71d));}}else{if(_0x53524a){const _0xcde856=_0x53524a[_0x1e4aef(0x5fd)]['id'];showColorPalette(_0x53524a,_0xcde856);}else{if(_0x47e84b){const _0x4a6a53=_0x47e84b[_0x1e4aef(0x5fd)]['id'];_0x4a6a53==='starred-project'?showStarredProjectView():(currentProjectId=_0x4a6a53,await loadProjectDetails(currentProjectId),showView(_0x1e4aef(0x753)));}else{if(_0x242f17){const _0x11b108=_0x242f17[_0x1e4aef(0x5fd)]['id'],_0x5db3=_0x242f17[_0x1e4aef(0x5fd)]['name'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x5db3+_0x1e4aef(0xc2),()=>handleDeleteProject(_0x11b108));}}}}}),projectList['addEventListener']('dragstart',_0x588380=>{const _0x2254fc=_0xc7d29a,_0x274056=_0x588380[_0x2254fc(0x7b9)][_0x2254fc(0x575)]('.project-card-container');_0x274056&&_0x274056['classList']['add'](_0x2254fc(0xce6));}),projectList[_0xc7d29a(0x38d)](_0xc7d29a(0xc16),_0x20bfc7=>{const _0xc0e61c=_0xc7d29a,_0x15a560=_0x20bfc7[_0xc0e61c(0x7b9)][_0xc0e61c(0x575)](_0xc0e61c(0x99d));_0x15a560&&_0x15a560['classList'][_0xc0e61c(0xc8b)]('opacity-50');}),projectList[_0xc7d29a(0x38d)](_0xc7d29a(0xbe1),_0xa28b1c=>{const _0x16652e=_0xc7d29a;_0xa28b1c[_0x16652e(0x862)]();const _0x452106=document[_0x16652e(0x947)](_0x16652e(0x2e2));if(!_0x452106)return;const _0x3d524a=getDragAfterElement(projectList,_0xa28b1c[_0x16652e(0xb7a)]);_0x3d524a==null?projectList[_0x16652e(0x4cf)](_0x452106):projectList[_0x16652e(0x5a9)](_0x452106,_0x3d524a);}),projectList[_0xc7d29a(0x38d)](_0xc7d29a(0x682),_0x35aaa0=>{const _0x23c30c=_0xc7d29a;_0x35aaa0[_0x23c30c(0x862)]();const _0x420f56=[...projectList[_0x23c30c(0xb9f)](_0x23c30c(0x3b2))][_0x23c30c(0x283)](_0x14ac66=>_0x14ac66[_0x23c30c(0x5fd)]['id']);saveProjectOrder(_0x420f56);});function renderBehaviorLog(_0x3fbdec){const _0x253fab=_0xc7d29a,_0x7643b=document[_0x253fab(0x8cb)](_0x253fab(0xb57));if(!_0x7643b)return;const _0x1655ac=_0x3fbdec['filter'](_0xa0e885=>_0xa0e885[_0x253fab(0xe4d)]&&_0xa0e885[_0x253fab(0xe4d)][_0x253fab(0x3bb)]>0x0);if(_0x1655ac[_0x253fab(0x3bb)]===0x0){_0x7643b[_0x253fab(0x22a)]=_0x253fab(0x16b);return;}let _0x4dd3e8='';_0x1655ac[_0x253fab(0x3f4)](_0x20761b=>{const _0x58c24b=_0x253fab;_0x4dd3e8+=_0x58c24b(0xa77)+_0x20761b[_0x58c24b(0x1fe)]+_0x58c24b(0x7fc),_0x20761b[_0x58c24b(0xe4d)]['sort']((_0x2dac5c,_0x58a478)=>new Date(_0x58a478[_0x58c24b(0xaf9)])-new Date(_0x2dac5c[_0x58c24b(0xaf9)]))[_0x58c24b(0x3f4)](_0x4d8b01=>{const _0x1503a5=_0x58c24b,_0x5bf866=new Date(_0x4d8b01[_0x1503a5(0xaf9)])[_0x1503a5(0x546)](_0x1503a5(0x3a4),{'dateStyle':_0x1503a5(0xad6),'timeStyle':_0x1503a5(0xee)});_0x4dd3e8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x4d8b01[_0x1503a5(0x84a)]+_0x1503a5(0x417)+_0x5bf866+_0x1503a5(0x8bd);}),_0x4dd3e8+=_0x58c24b(0x874);}),_0x7643b[_0x253fab(0x22a)]=_0x4dd3e8;}function getDragAfterElement(_0x56605c,_0x37fa43){const _0x5159fc=_0xc7d29a,_0x5183ba=[..._0x56605c[_0x5159fc(0xb9f)](_0x5159fc(0x58c))];return _0x5183ba[_0x5159fc(0xcb0)]((_0x2915e6,_0x26dc15)=>{const _0x36174c=_0x5159fc,_0x203de3=_0x26dc15[_0x36174c(0xa99)](),_0x6fda73=_0x37fa43-_0x203de3[_0x36174c(0x6f2)]-_0x203de3['height']/0x2;return _0x6fda73<0x0&&_0x6fda73>_0x2915e6['offset']?{'offset':_0x6fda73,'element':_0x26dc15}:_0x2915e6;},{'offset':Number[_0x5159fc(0x272)]})[_0x5159fc(0x58f)];}async function saveProjectOrder(_0x17d51f){const _0xa7ef4c=_0xc7d29a,_0x571daf=doc(db,_0xa7ef4c(0xb14),_0xa7ef4c(0x5b3));try{await setDoc(_0x571daf,{'projectOrder':_0x17d51f},{'merge':!![]});}catch(_0xd046c4){console[_0xa7ef4c(0x3e8)](_0xa7ef4c(0x633),_0xd046c4),showMessage(_0xa7ef4c(0x913));}}async function logBehaviorEvent(_0x6e276a,_0x32444c={}){const _0x591cf1=_0xc7d29a;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x591cf1(0x6d4)](_0x591cf1(0xbc1));return;}const _0x3b83ef=doc(db,_0x591cf1(0x9c2)+appId+_0x591cf1(0x360)+currentQuizData['id']+_0x591cf1(0x17c),currentStudentName),_0x586b01={'event':_0x6e276a,'timestamp':new Date()[_0x591cf1(0x77d)](),..._0x32444c};try{await updateDoc(_0x3b83ef,{'behaviorLog':arrayUnion(_0x586b01)}),console['log']('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+_0x591cf1(0xb7c));}catch(_0x213055){_0x213055[_0x591cf1(0xc15)]===_0x591cf1(0x60b)?console[_0x591cf1(0x6d4)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x591cf1(0x2ee)):console[_0x591cf1(0x3e8)](_0x591cf1(0xe25),_0x213055);}}function getScoreTier(_0x2a3571,_0x5582c8){const _0x40ab42=_0xc7d29a;if(_0x5582c8===0x0){if(_0x2a3571===0x0)return{'text':_0x40ab42(0x158),'icon':'⏳'};return{'text':_0x40ab42(0x8e5),'icon':'😥'};}const _0x14ce8c=_0x2a3571/(_0x5582c8===0x0?0x1:_0x5582c8);if(_0x14ce8c===0x1)return{'text':_0x40ab42(0xb74),'icon':'👑'};if(_0x14ce8c>=0.7)return{'text':_0x40ab42(0x4c7),'icon':'🔥'};if(_0x14ce8c>=0.4)return{'text':'(กำลังไล่ตาม)','icon':'🏃'};return{'text':_0x40ab42(0x8e5),'icon':'😥'};}function calculateMeanAndStdDev(_0x8acedf){const _0xe96dc1=_0xc7d29a;if(_0x8acedf[_0xe96dc1(0x3bb)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x15fb08=_0x8acedf[_0xe96dc1(0xcb0)]((_0x4e5570,_0x4bdb17)=>_0x4e5570+_0x4bdb17,0x0)/_0x8acedf[_0xe96dc1(0x3bb)];if(_0x8acedf[_0xe96dc1(0x3bb)]===0x1)return{'mean':_0x15fb08,'stdDev':0x0};const _0x5b2b86=Math[_0xe96dc1(0xc1d)](_0x8acedf['map'](_0x25b031=>Math['pow'](_0x25b031-_0x15fb08,0x2))[_0xe96dc1(0xcb0)]((_0x635b82,_0x746482)=>_0x635b82+_0x746482,0x0)/(_0x8acedf['length']-0x1));return{'mean':_0x15fb08,'stdDev':_0x5b2b86};}function calculateZScore(_0x1020ef,_0x50a0e6,_0x188c23){if(_0x188c23===0x0)return 0x0;return(_0x1020ef-_0x50a0e6)/_0x188c23;}function calculateTScore(_0x486f42){return 0xa*_0x486f42+0x32;}function showStarredProjectView(){const _0xe7cb93=_0xc7d29a;currentProjectId=_0xe7cb93(0x42a),currentProjectData=null,projectTitle['textContent']=_0xe7cb93(0x90b),projectIdDisplay[_0xe7cb93(0x1ae)]=_0xe7cb93(0xdff),showView(_0xe7cb93(0x753)),manageTab[_0xe7cb93(0x144)]['add'](_0xe7cb93(0x1c9)),leaderboardTab[_0xe7cb93(0x144)]['add'](_0xe7cb93(0x1c9)),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x5334a6){const _0x55ee33=_0xc7d29a,_0xcb5093=doc(db,_0x55ee33(0x9c2)+appId+'/public/data/projects',_0x5334a6),_0x64b53c=await getDoc(_0xcb5093);if(_0x64b53c['exists']()){manageTab['classList'][_0x55ee33(0xc8b)]('hidden'),leaderboardTab['classList'][_0x55ee33(0xc8b)](_0x55ee33(0x1c9)),currentProjectData=_0x64b53c['data'](),projectTitle['textContent']=currentProjectData[_0x55ee33(0xde4)],projectIdDisplay[_0x55ee33(0x1ae)]=_0x5334a6;const _0x5f29bb=currentProjectData[_0x55ee33(0x7c2)]||{};document[_0x55ee33(0x8cb)](_0x55ee33(0xba2))[_0x55ee33(0xb66)]=_0x5f29bb[_0x55ee33(0xb8f)]||_0x55ee33(0xcab);const _0x4c4e94=document['getElementById'](_0x55ee33(0x503));_0x4c4e94[_0x55ee33(0x4d7)]=_0x5f29bb['showInStudentDashboard']!==![];const _0x2a2bd8=document['getElementById'](_0x55ee33(0xa62)),_0x2f6975=document[_0x55ee33(0x8cb)]('passcode-input-container'),_0x218c74=document[_0x55ee33(0x8cb)](_0x55ee33(0xc1f)),_0x387ee8=_0x5f29bb[_0x55ee33(0x799)]||![];_0x2a2bd8[_0x55ee33(0x4d7)]=_0x387ee8,_0x218c74['value']=_0x5f29bb[_0x55ee33(0x273)]||'',_0x2f6975['classList'][_0x55ee33(0x463)](_0x55ee33(0x1c9),!_0x387ee8),_0x2a2bd8[_0x55ee33(0x93c)]=()=>{const _0x558e73=_0x55ee33;_0x2f6975[_0x558e73(0x144)]['toggle']('hidden',!_0x2a2bd8[_0x558e73(0x4d7)]);},document[_0x55ee33(0x8cb)](_0x55ee33(0x819))[_0x55ee33(0x4d7)]=_0x5f29bb[_0x55ee33(0xe0b)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x5334a6),listenForProjectQuizzes(_0x5334a6),listenForStudentProfiles(_0x5334a6);}else showMessage(_0x55ee33(0xe20)),showView(_0x55ee33(0x9db));}async function handleResetProjectOrder(){const _0x332121=_0xc7d29a,_0x3b3d02=doc(db,_0x332121(0xb14),'dashboardConfig');try{await setDoc(_0x3b3d02,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x2af860){console[_0x332121(0x3e8)](_0x332121(0x3c2),_0x2af860),showMessage(_0x332121(0x659));}}async function handleTogglePinProject(_0x58c6c9){const _0x5d212d=_0xc7d29a;if(!_0x58c6c9)return;const _0x541b8f=doc(db,_0x5d212d(0x9c2)+appId+_0x5d212d(0xaad),_0x58c6c9);try{const _0x461b2a=await getDoc(_0x541b8f);if(_0x461b2a[_0x5d212d(0x45f)]()){const _0x2fd285=_0x461b2a[_0x5d212d(0x241)]()[_0x5d212d(0x464)]||![];await updateDoc(_0x541b8f,{'isPinned':!_0x2fd285});}}catch(_0x384662){console[_0x5d212d(0x3e8)](_0x5d212d(0xc98),_0x384662),showMessage(_0x5d212d(0x71d));}}async function handleDeleteProject(_0x4e9bdd){const _0x372726=_0xc7d29a;try{const _0x21be10=writeBatch(db),_0x32b6e0=collection(db,_0x372726(0x9c2)+appId+_0x372726(0x843)),_0x353f78=query(_0x32b6e0,where(_0x372726(0x8d2),'==',_0x4e9bdd)),_0x209aaa=await getDocs(_0x353f78);for(const _0x1fedc7 of _0x209aaa['docs']){const _0x11f2b7=collection(db,_0x372726(0x9c2)+appId+_0x372726(0x360)+_0x1fedc7['id']+_0x372726(0x17c)),_0x2c3163=await getDocs(_0x11f2b7);_0x2c3163[_0x372726(0x3f4)](_0x8a05f4=>{const _0x278a7a=_0x372726;_0x21be10['delete'](_0x8a05f4[_0x278a7a(0x9dc)]);}),_0x21be10[_0x372726(0x1f2)](_0x1fedc7['ref']);}const _0x462d61=collection(db,_0x372726(0x9c2)+appId+'/public/data/projects/'+_0x4e9bdd+_0x372726(0x876)),_0x358bc0=await getDocs(_0x462d61);_0x358bc0[_0x372726(0x3f4)](_0x2667ce=>{const _0x5cc00=_0x372726;_0x21be10[_0x5cc00(0x1f2)](_0x2667ce[_0x5cc00(0x9dc)]);});const _0xa3a53=doc(db,'artifacts/'+appId+_0x372726(0xaad),_0x4e9bdd);_0x21be10[_0x372726(0x1f2)](_0xa3a53),await _0x21be10['commit'](),showMessage(_0x372726(0xc64)),showView(_0x372726(0x9db));}catch(_0x1ce945){console['error'](_0x372726(0xd05),_0x1ce945),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0xc7d29a(0x8cb)](_0xc7d29a(0xde))[_0xc7d29a(0x38d)]('click',async()=>{const _0x148c54=_0xc7d29a;if(!currentProjectId)return;const _0x381918={'defaultNumQuestions':parseInt(document[_0x148c54(0x8cb)](_0x148c54(0x76d))[_0x148c54(0xb66)]),'defaultNumChoices':parseInt(document[_0x148c54(0x8cb)](_0x148c54(0x8e2))[_0x148c54(0xb66)]),'defaultPassingScore':parseInt(document['getElementById'](_0x148c54(0x4f0))[_0x148c54(0xb66)]),'resultsDisplay':document[_0x148c54(0x8cb)](_0x148c54(0xba8))[_0x148c54(0xb66)],'shuffleSetting':document[_0x148c54(0x8cb)](_0x148c54(0xba2))['value'],'timerMode':document['getElementById']('timer-mode-select')[_0x148c54(0xb66)],'timerDuration':parseInt(document['getElementById'](_0x148c54(0x4cb))[_0x148c54(0xb66)]),'isConfidenceScoringEnabled':document[_0x148c54(0x8cb)](_0x148c54(0x819))[_0x148c54(0x4d7)],'confidenceMode':document[_0x148c54(0x8cb)](_0x148c54(0xa47))[_0x148c54(0xb66)]};try{const _0x4bef78=doc(db,'artifacts/'+appId+_0x148c54(0xaad),currentProjectId);await updateDoc(_0x4bef78,{'settings':_0x381918}),showMessage(_0x148c54(0xaa3));}catch(_0x506979){console['error'](_0x148c54(0xc84),_0x506979),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x54fc5a){const _0x2f0cad=doc(db,'artifacts/'+appId+'/public/data/projects',_0x54fc5a);unsubscribeStudentsListener=onSnapshot(_0x2f0cad,_0x1b5e7e=>{const _0x20f96e=_0x3c23;if(_0x1b5e7e[_0x20f96e(0x45f)]()){const _0x40b369=_0x1b5e7e[_0x20f96e(0x241)]();currentProjectData=_0x40b369,renderStudentList(_0x40b369[_0x20f96e(0xa0d)]||[]);}});}function renderStudentList(_0x3a47f4){const _0x4dc117=_0xc7d29a,_0x12cbbf=document['getElementById'](_0x4dc117(0x385));_0x3a47f4['length']===0x0?(studentList[_0x4dc117(0x22a)]=_0x4dc117(0x38e),_0x12cbbf['classList'][_0x4dc117(0x743)](_0x4dc117(0x1c9))):(studentList[_0x4dc117(0x22a)]=_0x3a47f4[_0x4dc117(0x283)](_0x1ce15f=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1ce15f+_0x4dc117(0x572)+_0x1ce15f+_0x4dc117(0x5d6))['join'](''),_0x12cbbf[_0x4dc117(0x144)][_0x4dc117(0xc8b)](_0x4dc117(0x1c9)));}document[_0xc7d29a(0x8cb)](_0xc7d29a(0x635))[_0xc7d29a(0x38d)](_0xc7d29a(0x9b4),async()=>{const _0x34563d=_0xc7d29a;if(!currentProjectId)return;const _0x4a3393=document[_0x34563d(0x8cb)]('student-name-input'),_0x4b459f=_0x4a3393[_0x34563d(0xb66)][_0x34563d(0x649)]();if(!_0x4b459f){showMessage(_0x34563d(0x1d6));return;}const _0x22e71d=_0x4b459f['split']('\x0a')[_0x34563d(0x283)](_0x2fbbd6=>_0x2fbbd6[_0x34563d(0x649)]())[_0x34563d(0xb8e)](_0x330751=>_0x330751);if(_0x22e71d[_0x34563d(0x3bb)]===0x0)return;try{const _0x5a246f=doc(db,_0x34563d(0x9c2)+appId+'/public/data/projects',currentProjectId),_0x1ae62a=await getDoc(_0x5a246f);if(_0x1ae62a[_0x34563d(0x45f)]()){const _0x533a8c=_0x1ae62a[_0x34563d(0x241)]()[_0x34563d(0xa0d)]||[],_0x1e3657=[...new Set([..._0x533a8c,..._0x22e71d])];await updateDoc(_0x5a246f,{'students':_0x1e3657}),_0x4a3393[_0x34563d(0xb66)]='';}}catch(_0x1a050d){console[_0x34563d(0x3e8)](_0x34563d(0x7d4),_0x1a050d),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x2351cf){const _0x386434=_0xc7d29a,_0x9418b4=document['getElementById'](_0x386434(0x66e)),_0xe5e6d2=document['getElementById']('move-quiz-project-select'),_0x6dc7e3=_0x9418b4[_0x386434(0x947)]('h3'),_0x2a501b=document[_0x386434(0x8cb)](_0x386434(0x1b2)),_0x30c416=document[_0x386434(0x8cb)](_0x386434(0x36f));_0x6dc7e3['textContent']='จับคู่เพื่อเปรียบเทียบผล',_0xe5e6d2['innerHTML']='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x2a501b[_0x386434(0x1ae)]=_0x386434(0x491),_0x9418b4[_0x386434(0x144)][_0x386434(0xc8b)](_0x386434(0x1c9));const _0x43fce5=allQuizzes[_0x386434(0xb8e)](_0x307f73=>_0x307f73['id']!==_0x2351cf);_0x43fce5['length']===0x0?(_0xe5e6d2[_0x386434(0x22a)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x2a501b[_0x386434(0xc2b)]=!![]):(_0xe5e6d2[_0x386434(0x22a)]=_0x386434(0xfd)+_0x43fce5[_0x386434(0x283)](_0x4df527=>_0x386434(0xb0b)+_0x4df527['id']+'\x22>'+_0x4df527['topic']+_0x386434(0x4d9))[_0x386434(0x922)](''),_0x2a501b[_0x386434(0xc2b)]=![]);const _0x2d80cd=async()=>{const _0x5c8167=_0x386434,_0x5ca3e3=_0xe5e6d2['value'];if(!_0x5ca3e3){showMessage(_0x5c8167(0x47d));return;}_0x2a501b['disabled']=!![],_0x2a501b[_0x5c8167(0x1ae)]=_0x5c8167(0x560);try{const _0x3400fd=doc(db,_0x5c8167(0x9c2)+appId+'/public/data/quizzes',_0x2351cf),_0x358a48=doc(db,'artifacts/'+appId+_0x5c8167(0x843),_0x5ca3e3),_0x127f7a=writeBatch(db);_0x127f7a[_0x5c8167(0x733)](_0x3400fd,{'pairedQuizId':_0x5ca3e3}),_0x127f7a[_0x5c8167(0x733)](_0x358a48,{'pairedQuizId':_0x2351cf}),await _0x127f7a[_0x5c8167(0x6ea)](),showMessage(_0x5c8167(0x128)),_0x9418b4[_0x5c8167(0x144)][_0x5c8167(0x743)](_0x5c8167(0x1c9));}catch(_0x1085f7){console[_0x5c8167(0x3e8)](_0x5c8167(0xb95),_0x1085f7),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x6dc7e3[_0x5c8167(0x1ae)]=_0x5c8167(0x5f4),_0x2a501b['textContent']=_0x5c8167(0xa49),_0x2a501b[_0x5c8167(0xc2b)]=![],_0x2a501b['removeEventListener']('click',_0x2d80cd),_0x30c416['removeEventListener'](_0x5c8167(0x9b4),_0x1d5b56);}},_0x1d5b56=()=>{const _0x52c5c3=_0x386434;_0x9418b4[_0x52c5c3(0x144)][_0x52c5c3(0x743)](_0x52c5c3(0x1c9)),_0x6dc7e3[_0x52c5c3(0x1ae)]=_0x52c5c3(0x5f4),_0x2a501b['textContent']=_0x52c5c3(0xa49),_0x2a501b['removeEventListener'](_0x52c5c3(0x9b4),_0x2d80cd),_0x30c416[_0x52c5c3(0xdf5)](_0x52c5c3(0x9b4),_0x1d5b56);};_0x2a501b[_0x386434(0x38d)]('click',_0x2d80cd),_0x30c416[_0x386434(0x38d)](_0x386434(0x9b4),_0x1d5b56);}function handleDeleteStudent(_0x1408bd){const _0x727e64=_0xc7d29a;showConfirmation(_0x727e64(0x3aa)+_0x1408bd+_0x727e64(0xb02),async()=>{const _0x125dd9=_0x727e64;if(!currentProjectId||!currentProjectData)return;const _0x4c2140=currentProjectData[_0x125dd9(0xa0d)]['filter'](_0x484480=>_0x484480!==_0x1408bd);try{const _0x51466=doc(db,_0x125dd9(0x9c2)+appId+_0x125dd9(0xaad),currentProjectId),_0x3d7e3a=doc(db,_0x125dd9(0x9c2)+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles',_0x1408bd),_0x42fa7d=writeBatch(db);_0x42fa7d[_0x125dd9(0x733)](_0x51466,{'students':_0x4c2140}),_0x42fa7d[_0x125dd9(0x1f2)](_0x3d7e3a),await _0x42fa7d[_0x125dd9(0x6ea)]();}catch(_0x102794){console[_0x125dd9(0x3e8)](_0x125dd9(0xcdf),_0x102794),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x39d142=_0xc7d29a;showConfirmation(_0x39d142(0xc86),async()=>{const _0x2500f5=_0x39d142;if(!currentProjectId)return;try{const _0x269f03=doc(db,_0x2500f5(0x9c2)+appId+_0x2500f5(0xaad),currentProjectId),_0x5da6e7=collection(db,_0x2500f5(0x9c2)+appId+_0x2500f5(0x8f3)+currentProjectId+_0x2500f5(0x876)),_0x319002=await getDocs(_0x5da6e7),_0x1aaa45=writeBatch(db);_0x1aaa45[_0x2500f5(0x733)](_0x269f03,{'students':[]}),_0x319002[_0x2500f5(0x3f4)](_0x5946ff=>_0x1aaa45[_0x2500f5(0x1f2)](_0x5946ff[_0x2500f5(0x9dc)])),await _0x1aaa45[_0x2500f5(0x6ea)]();}catch(_0x38bb79){console[_0x2500f5(0x3e8)](_0x2500f5(0x390),_0x38bb79),showMessage(_0x2500f5(0x9dd));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x4ff91b){const _0x65049b=_0xc7d29a,_0x2089a4=document[_0x65049b(0x8cb)]('file-topics-list-container'),_0x3525fd=document['getElementById'](_0x65049b(0x3f3));_0x2089a4[_0x65049b(0x144)][_0x65049b(0xc8b)](_0x65049b(0x1c9)),_0x3525fd[_0x65049b(0x22a)]=_0x65049b(0x2d1);try{const _0xd0154d=new FileReader();_0xd0154d[_0x65049b(0x73c)](_0x4ff91b),await new Promise((_0x1af449,_0x24b2a1)=>{const _0x23fb98=_0x65049b;_0xd0154d[_0x23fb98(0xa2d)]=()=>{const _0x152f57=_0x23fb98;fileDataBase64=_0xd0154d[_0x152f57(0x10b)][_0x152f57(0xbaa)](',')[0x1],fileMimeType=_0x4ff91b[_0x152f57(0x255)],_0x1af449();},_0xd0154d[_0x23fb98(0x9c6)]=_0x1c06a6=>_0x24b2a1(_0x1c06a6);});if(!fileDataBase64)throw new Error('ไม่สามารถอ่านข้อมูลจากไฟล์ได้');const _0x45d6d9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3e03a4={'type':_0x65049b(0x2c9),'properties':{'topics':{'type':_0x65049b(0x991),'items':{'type':_0x65049b(0x47b)}}},'required':[_0x65049b(0x544)]},_0x582be0=[{'text':_0x45d6d9},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x30e0e3=await handleApiCall(_0x582be0,_0x65049b(0xa3c),_0x3e03a4,null,![]);if(_0x30e0e3&&_0x30e0e3['topics'])extractedFileTopics=_0x30e0e3['topics'],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x42c730){console['error'](_0x65049b(0x340),_0x42c730),_0x3525fd[_0x65049b(0x22a)]=_0x65049b(0x596)+_0x42c730[_0x65049b(0xd5f)]+_0x65049b(0x4f2);}}function renderFileTopics(){const _0x3fbc66=_0xc7d29a,_0x1fa544=document['getElementById'](_0x3fbc66(0x3f3));if(extractedFileTopics[_0x3fbc66(0x3bb)]===0x0){_0x1fa544['innerHTML']=_0x3fbc66(0xe44);return;}_0x1fa544[_0x3fbc66(0x22a)]=extractedFileTopics[_0x3fbc66(0x283)](_0x2962b8=>_0x3fbc66(0x4da)+_0x2962b8+_0x3fbc66(0x9a5)+escape(_0x2962b8)+_0x3fbc66(0x4c6)+escape(_0x2962b8)+_0x3fbc66(0xc1e))['join']('');}async function generateHybridQuizForTopic(_0x39fcb4){const _0x3ff51b=_0xc7d29a,_0xe4c419=parseInt(document[_0x3ff51b(0x8cb)](_0x3ff51b(0x76d))['value'],0xa),_0xb17047=document[_0x3ff51b(0x8cb)]('quiz-type-select')['value'],_0x5889e7=document[_0x3ff51b(0x8cb)](_0x3ff51b(0x8e2))[_0x3ff51b(0xb66)],_0x363b98=document[_0x3ff51b(0x8cb)](_0x3ff51b(0xe36))['checked'],_0x265262=_0x363b98?_0x3ff51b(0xd7b):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x1f8e37='',_0x5aef07;const _0x587b86={'type':_0x3ff51b(0x2c9),'properties':{'questionText':{'type':_0x3ff51b(0x47b)},'options':{'type':_0x3ff51b(0x991),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3ff51b(0x894)},'explanation':{'type':_0x3ff51b(0x47b)},'imageCode':{'type':_0x3ff51b(0x47b)}},'required':['questionText',_0x3ff51b(0x764),_0x3ff51b(0xcd4),_0x3ff51b(0x9f2)]},_0x471e4a={'type':_0x3ff51b(0x2c9),'properties':{'questionText':{'type':_0x3ff51b(0x47b)},'correctAnswer':{'type':_0x3ff51b(0x329)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3ff51b(0x47b)}},'required':[_0x3ff51b(0x3ab),'correctAnswer',_0x3ff51b(0x9f2)]},_0x3293e2={'type':'OBJECT','properties':{'questionText':{'type':_0x3ff51b(0x47b)},'idealAnswer':{'type':_0x3ff51b(0x47b)},'explanation':{'type':_0x3ff51b(0x47b)},'imageCode':{'type':_0x3ff51b(0x47b)}},'required':['questionText',_0x3ff51b(0xd16),'explanation']},_0x32819a={'type':_0x3ff51b(0x2c9),'properties':{'questionType':{'type':'STRING','enum':[_0x3ff51b(0x6cf)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x3ff51b(0x47b)},'allResponses':{'type':_0x3ff51b(0x991),'items':{'type':'STRING'}},'explanation':{'type':_0x3ff51b(0x47b)},'imageCode':{'type':_0x3ff51b(0x47b)}},'required':['questionType','stem',_0x3ff51b(0x9b7),'allResponses',_0x3ff51b(0x9f2)]};switch(_0xb17047){case _0x3ff51b(0xc7b):const _0x13569f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด';prompt='สร้างแบบทดสอบปรนัย'+subjectPrefix+'\x20'+settings['numQuestions']+_0x3ff51b(0xd42)+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+_0x3ff51b(0x1d0)+settings['numChoices']+_0x3ff51b(0xd3f)+_0x13569f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x265262+'\x20'+simpleMathPrompt,schema=_0x587b86;break;case'true_false':_0x1f8e37='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x5aef07=_0x471e4a;break;case _0x3ff51b(0x8f8):_0x1f8e37=_0x3ff51b(0xb6b),_0x5aef07=_0x3293e2;break;case _0x3ff51b(0x842):_0x1f8e37=_0x3ff51b(0xb85),_0x5aef07=_0x32819a;break;case _0x3ff51b(0x7ec):_0x1f8e37=_0x3ff51b(0xb35)+_0x5889e7+_0x3ff51b(0xaab),_0x5aef07=_0x587b86;break;default:_0x1f8e37=_0x3ff51b(0x223)+_0x5889e7+'\x20ตัวเลือก)',_0x5aef07=_0x587b86;break;}const _0x21553c='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x4c0f50=document[_0x3ff51b(0x8cb)](_0x3ff51b(0x8aa)),_0x1c31e5=document['getElementById'](_0x3ff51b(0xc8d)),_0x54fe5d=document['getElementById'](_0x3ff51b(0xfc));document['getElementById'](_0x3ff51b(0xa93))[_0x3ff51b(0x144)]['remove']('hidden'),_0x54fe5d[_0x3ff51b(0x22a)]='',_0x4c0f50[_0x3ff51b(0x144)][_0x3ff51b(0xc8b)]('hidden'),_0x1c31e5['textContent']=_0x3ff51b(0x44e)+_0x39fcb4+_0x3ff51b(0x6b0)+_0xe4c419+'\x20ข้อ...';try{const _0x2bc258=_0x3ff51b(0x227),_0x5aa630=_0x3ff51b(0xc52)+_0x39fcb4+_0x3ff51b(0x328)+_0xe4c419+_0x3ff51b(0x338)+_0x39fcb4+_0x3ff51b(0xa02)+_0xe4c419+_0x3ff51b(0xbb8)+_0x265262+_0x3ff51b(0x72d)+_0x1f8e37+_0x3ff51b(0x825)+_0x21553c+'**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2bc258+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x3ff51b(0x5d3),_0x4fd1aa={'type':_0x3ff51b(0x2c9),'properties':{'topic':{'type':_0x3ff51b(0x47b)},'questions':{'type':_0x3ff51b(0x991),'items':_0x5aef07}},'required':[_0x3ff51b(0x664),_0x3ff51b(0x763)]},_0x4dc64b=[{'text':_0x5aa630},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x4dc64b,_0x3ff51b(0x7e9)+_0x39fcb4+'\x22...',_0x4fd1aa);}catch(_0x3870b4){console[_0x3ff51b(0x3e8)](_0x3ff51b(0xb55),_0x3870b4),showMessage(_0x3ff51b(0x506)+_0x3870b4[_0x3ff51b(0xd5f)]),_0x54fe5d[_0x3ff51b(0x22a)]=_0x3ff51b(0x325);}finally{_0x4c0f50['classList'][_0x3ff51b(0x743)]('hidden');}}async function handleGenerateFromFileClick(){const _0x5e4ef9=_0xc7d29a;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x3371cf=document['getElementById']('loader'),_0x278f68=document[_0x5e4ef9(0x8cb)](_0x5e4ef9(0xc8d)),_0x5a9528=document['getElementById'](_0x5e4ef9(0xfc)),_0x57b823=document[_0x5e4ef9(0x8cb)](_0x5e4ef9(0x85b));_0x57b823[_0x5e4ef9(0xc2b)]=!![],document[_0x5e4ef9(0x8cb)](_0x5e4ef9(0xa93))['classList'][_0x5e4ef9(0xc8b)](_0x5e4ef9(0x1c9)),_0x5a9528['innerHTML']='',_0x3371cf[_0x5e4ef9(0x144)][_0x5e4ef9(0xc8b)](_0x5e4ef9(0x1c9)),_0x278f68[_0x5e4ef9(0x1ae)]='กำลังอ่านและเตรียมไฟล์...';try{const _0x30a421=await new Promise((_0x235c90,_0x1340cc)=>{const _0x42f2a0=_0x5e4ef9,_0x351597=new FileReader();_0x351597[_0x42f2a0(0x73c)](selectedFile),_0x351597[_0x42f2a0(0xa2d)]=()=>_0x235c90(_0x351597[_0x42f2a0(0x10b)][_0x42f2a0(0xbaa)](',')[0x1]),_0x351597[_0x42f2a0(0x9c6)]=_0x1e8790=>_0x1340cc(_0x1e8790);});await generateQuizFromFile(selectedFile[_0x5e4ef9(0x255)],_0x30a421);}catch(_0x143a3a){console[_0x5e4ef9(0x3e8)]('Error\x20processing\x20file\x20for\x20AI:',_0x143a3a),showMessage(_0x5e4ef9(0xe11)+_0x143a3a[_0x5e4ef9(0xd5f)]),_0x3371cf['classList'][_0x5e4ef9(0x743)](_0x5e4ef9(0x1c9)),_0x57b823[_0x5e4ef9(0xc2b)]=![];}}function autoFormatMath(_0x1b2576){const _0x219e94=_0xc7d29a;if(typeof _0x1b2576!==_0x219e94(0xcdc)||!_0x1b2576)return _0x1b2576;const _0x2d9f45=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x2ac604=_0x1b2576['replace'](_0x2d9f45,_0x54942d=>{const _0x3dfed6=_0x219e94;return'$'+_0x54942d[_0x3dfed6(0x649)]()+'$';});return _0x2ac604;}function sanitizeQuizData(_0x55a12c){const _0x1d4a09=_0xc7d29a;if(!_0x55a12c||!_0x55a12c['questions'])return _0x55a12c;const _0x220c8c=_0x16e16a=>{const _0x4918aa=_0x3c23;if(typeof _0x16e16a!==_0x4918aa(0xcdc))return _0x16e16a;let _0x405301=_0x16e16a;_0x405301=_0x405301[_0x4918aa(0xb91)](/\\\(/g,'$')[_0x4918aa(0xb91)](/\\\)/g,'$'),_0x405301=_0x405301['replace'](/\\\[/g,'$$')[_0x4918aa(0xb91)](/\\\]/g,'$$'),_0x405301=_0x405301[_0x4918aa(0xb91)](/\\?imes\b/g,_0x4918aa(0xe15)),_0x405301=_0x405301[_0x4918aa(0xb91)](/\\?text\b/g,_0x4918aa(0x2cf)),_0x405301=_0x405301[_0x4918aa(0xb91)](/\\?sqrt\b/g,'\x5csqrt'),_0x405301=_0x405301[_0x4918aa(0xb91)](/\\?frac\b/g,_0x4918aa(0x1e2)),_0x405301=_0x405301[_0x4918aa(0xb91)](/\\?cdot\b/g,_0x4918aa(0x7dd)),_0x405301=_0x405301[_0x4918aa(0xb91)](/\\?pi\b/g,_0x4918aa(0x522)),_0x405301=_0x405301[_0x4918aa(0xb91)](/\\?div\b/g,'\x5cdiv'),_0x405301=_0x405301['replace'](/\\?leq\b/g,_0x4918aa(0x3e0)),_0x405301=_0x405301['replace'](/\\?geq\b/g,_0x4918aa(0xa35)),_0x405301=_0x405301[_0x4918aa(0xb91)](/\\?approx\b/g,_0x4918aa(0x76e)),_0x405301=_0x405301[_0x4918aa(0xb91)](/\\?ne\b/g,'\x5cne');const _0x5040e4=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x405301=_0x405301['replace'](_0x5040e4,_0x553fa6=>{const _0x9fc891=_0x4918aa;return'$'+_0x553fa6[_0x9fc891(0x649)]()+'$';}),_0x405301;};return _0x55a12c[_0x1d4a09(0x664)]&&(_0x55a12c[_0x1d4a09(0x664)]=_0x220c8c(_0x55a12c[_0x1d4a09(0x664)])),_0x55a12c['questions'][_0x1d4a09(0x3f4)](_0x4ef0be=>{const _0x3be6b3=_0x1d4a09;_0x4ef0be[_0x3be6b3(0x3ab)]=_0x220c8c(_0x4ef0be['questionText']),_0x4ef0be[_0x3be6b3(0x23b)]=_0x220c8c(_0x4ef0be[_0x3be6b3(0x23b)]),_0x4ef0be[_0x3be6b3(0x764)]&&(_0x4ef0be[_0x3be6b3(0x764)]=_0x4ef0be['options']['map'](_0x385d70=>_0x220c8c(_0x385d70))),_0x4ef0be['explanation']&&(_0x4ef0be[_0x3be6b3(0x9f2)]=_0x220c8c(_0x4ef0be[_0x3be6b3(0x9f2)])),_0x4ef0be[_0x3be6b3(0x9b7)]&&(_0x4ef0be[_0x3be6b3(0x9b7)]=_0x220c8c(_0x4ef0be['correctResponse'])),_0x4ef0be[_0x3be6b3(0x872)]&&(_0x4ef0be[_0x3be6b3(0x872)]=_0x4ef0be['allResponses'][_0x3be6b3(0x283)](_0x431bb5=>_0x220c8c(_0x431bb5))),_0x4ef0be[_0x3be6b3(0xd16)]&&(_0x4ef0be[_0x3be6b3(0xd16)]=_0x220c8c(_0x4ef0be[_0x3be6b3(0xd16)]));}),_0x55a12c;}const simpleMathPrompt=_0xc7d29a(0x9f4);async function handleGenerateFromLink(){const _0x5a6cd1=_0xc7d29a,_0x536cd4=document[_0x5a6cd1(0x8cb)](_0x5a6cd1(0x5b8)),_0x19cefa=document[_0x5a6cd1(0x8cb)]('link-topic-input'),_0x4f639a=_0x536cd4['value'][_0x5a6cd1(0x649)](),_0x49c363=_0x19cefa[_0x5a6cd1(0xb66)]['trim']();if(!_0x4f639a){showMessage(_0x5a6cd1(0xa0a));return;}const _0x3fde23=document[_0x5a6cd1(0x8cb)]('loader'),_0x109981=document['getElementById'](_0x5a6cd1(0xc8d)),_0x313284=document[_0x5a6cd1(0x8cb)](_0x5a6cd1(0xfc)),_0xa900de=document[_0x5a6cd1(0x8cb)]('generate-from-link-btn');document['getElementById'](_0x5a6cd1(0xa93))[_0x5a6cd1(0x144)][_0x5a6cd1(0xc8b)]('hidden'),_0x313284['innerHTML']='',_0x3fde23['classList']['remove']('hidden'),_0x109981[_0x5a6cd1(0x1ae)]=_0x5a6cd1(0x4e9),_0xa900de[_0x5a6cd1(0xc2b)]=!![];try{const _0x15056c=_0x5a6cd1(0x6d8)+encodeURIComponent(_0x4f639a),_0x3aa1f6=await fetch(_0x15056c);if(!_0x3aa1f6['ok'])throw new Error(_0x5a6cd1(0x9b3)+_0x3aa1f6[_0x5a6cd1(0x20a)]+')');const _0x12adcc=await _0x3aa1f6[_0x5a6cd1(0xb0d)](),_0x219f3a=extractTextFromHtml(_0x12adcc);if(!_0x219f3a||_0x219f3a['length']<0x64)throw new Error(_0x5a6cd1(0xe1c));await generateQuiz(_0x49c363,_0x219f3a);}catch(_0x339e8c){console[_0x5a6cd1(0x3e8)](_0x5a6cd1(0xb92),_0x339e8c),showMessage(_0x5a6cd1(0x506)+_0x339e8c[_0x5a6cd1(0xd5f)]),_0x313284[_0x5a6cd1(0x22a)]=_0x5a6cd1(0xfb);}finally{_0x3fde23[_0x5a6cd1(0x144)][_0x5a6cd1(0x743)](_0x5a6cd1(0x1c9)),_0xa900de['disabled']=![];}}function extractTextFromHtml(_0x41848f){const _0x42d6d5=_0xc7d29a,_0x1c5662=new DOMParser()[_0x42d6d5(0xd26)](_0x41848f,_0x42d6d5(0xdbd));return _0x1c5662['querySelectorAll'](_0x42d6d5(0x2bd))['forEach'](_0x116dd6=>_0x116dd6[_0x42d6d5(0xc8b)]()),_0x1c5662[_0x42d6d5(0x8dc)][_0x42d6d5(0x1ae)]||'';}document['getElementById'](_0xc7d29a(0x275))[_0xc7d29a(0x38d)]('click',()=>{const _0x5ee31a=_0xc7d29a,_0x440a8b=document[_0x5ee31a(0x8cb)](_0x5ee31a(0x110))[_0x5ee31a(0xb66)][_0x5ee31a(0x649)]();generateQuiz(_0x440a8b,null);}),document[_0xc7d29a(0x8cb)](_0xc7d29a(0xd0b))['addEventListener'](_0xc7d29a(0x9b4),()=>{const _0x19913d=_0xc7d29a,_0x515e04=document[_0x19913d(0x8cb)](_0x19913d(0x198))[_0x19913d(0xb66)][_0x19913d(0x649)]();if(!_0x515e04){showMessage(_0x19913d(0x6ec));return;}const _0xe33d0a=document[_0x19913d(0x8cb)](_0x19913d(0x110))[_0x19913d(0xb66)][_0x19913d(0x649)]();generateQuiz(_0xe33d0a,_0x515e04);});async function generateQuiz(_0x51495b,_0x241b2a,_0xec22c5=null,_0x3674b6=null,_0x4e381e=![],_0x2a6751=null,_0x44b86d=null,_0x205192=![]){const _0xa7fad7=_0xc7d29a;let _0x184e38={};if(_0x4e381e&&blueprintPageSettings)_0x184e38=blueprintPageSettings;else{const _0x59c659=document[_0xa7fad7(0xb9f)](_0xa7fad7(0xaca));_0x184e38={'quizType':document[_0xa7fad7(0x8cb)](_0xa7fad7(0x9b0))[_0xa7fad7(0xb66)],'numQuestions':document[_0xa7fad7(0x8cb)](_0xa7fad7(0x76d))[_0xa7fad7(0xb66)],'numChoices':document[_0xa7fad7(0x8cb)]('num-choices')[_0xa7fad7(0xb66)],'includeImages':document[_0xa7fad7(0x8cb)](_0xa7fad7(0xe36))[_0xa7fad7(0x4d7)],'isNormalTopic':document['getElementById']('force-math-checkbox')[_0xa7fad7(0x4d7)],'difficultyValue':document[_0xa7fad7(0x8cb)]('difficulty-level-select')['value'],'complexityValue':document[_0xa7fad7(0x8cb)](_0xa7fad7(0x43f))[_0xa7fad7(0xb66)],'selectedTopicNames':Array[_0xa7fad7(0x617)](_0x59c659)[_0xa7fad7(0x283)](_0x23093a=>_0x23093a[_0xa7fad7(0xb66)])};}const _0x6d3cd5=_0x184e38['isNormalTopic']?'':_0xa7fad7(0x39c),_0x548fff=_0x184e38[_0xa7fad7(0x935)]!==_0xa7fad7(0x1c4)?_0xa7fad7(0x576)+_0x184e38[_0xa7fad7(0x935)]+'\x22':'',_0x220c81=_0x184e38[_0xa7fad7(0xaba)]!==_0xa7fad7(0xbd0)?_0xa7fad7(0x123)+_0x184e38[_0xa7fad7(0xaba)]+_0xa7fad7(0x882):'';let _0x557a5d='';_0x184e38['selectedTopicNames']&&_0x184e38[_0xa7fad7(0xa79)][_0xa7fad7(0x3bb)]>0x0&&(_0x557a5d=_0xa7fad7(0xe4f)+_0x184e38[_0xa7fad7(0xa79)][_0xa7fad7(0x922)](',\x20')+'.');let _0x1f0729='';_0x3674b6&&(_0x1f0729=_0xa7fad7(0x2bf));let _0x18902e='',_0x9ca60a='',_0x59a10a,_0x192b19=_0xa7fad7(0x740)+_0x51495b+'\x22';if(!_0x51495b&&_0x241b2a)_0x192b19=_0xa7fad7(0x100);else!_0x51495b&&!_0x241b2a&&(_0x192b19=_0xa7fad7(0x521));const _0x153ac6={'type':_0xa7fad7(0x2c9),'properties':{'questionText':{'type':_0xa7fad7(0x47b)},'options':{'type':'ARRAY','items':{'type':_0xa7fad7(0x47b)}},'correctAnswerIndex':{'type':_0xa7fad7(0x894)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xa7fad7(0x47b)}},'required':[_0xa7fad7(0x3ab),_0xa7fad7(0x764),'correctAnswerIndex',_0xa7fad7(0x9f2)]},_0x2bc1c2={'type':_0xa7fad7(0x2c9),'properties':{'questionText':{'type':_0xa7fad7(0x47b)},'idealAnswer':{'type':_0xa7fad7(0x47b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xa7fad7(0x47b)}},'required':[_0xa7fad7(0x3ab),_0xa7fad7(0xd16),_0xa7fad7(0x9f2)]},_0x43e1a3={'type':_0xa7fad7(0x2c9),'properties':{'questionText':{'type':_0xa7fad7(0x47b)},'questionType':{'type':_0xa7fad7(0x47b),'enum':[_0xa7fad7(0xc7b),_0xa7fad7(0xc34)]},'options':{'type':_0xa7fad7(0x991),'items':{'type':_0xa7fad7(0x47b)}},'correctAnswerIndex':{'type':_0xa7fad7(0x894)},'idealAnswer':{'type':_0xa7fad7(0x47b)},'explanation':{'type':_0xa7fad7(0x47b)},'imageCode':{'type':_0xa7fad7(0x47b)}},'required':[_0xa7fad7(0x3ab),_0xa7fad7(0xd53),_0xa7fad7(0x9f2)]},_0x4adb92={'type':'OBJECT','properties':{'questionText':{'type':_0xa7fad7(0x47b)},'correctAnswer':{'type':_0xa7fad7(0x329)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xa7fad7(0x47b)}},'required':['questionText',_0xa7fad7(0x124),_0xa7fad7(0x9f2)]},_0x4f82a2={'type':_0xa7fad7(0x2c9),'properties':{'questionType':{'type':'STRING','enum':[_0xa7fad7(0x6cf)]},'stem':{'type':_0xa7fad7(0x47b)},'correctResponse':{'type':_0xa7fad7(0x47b)},'allResponses':{'type':_0xa7fad7(0x991),'items':{'type':_0xa7fad7(0x47b)}},'explanation':{'type':_0xa7fad7(0x47b)},'imageCode':{'type':_0xa7fad7(0x47b)}},'required':[_0xa7fad7(0xd53),'stem','correctResponse',_0xa7fad7(0x872),'explanation']};let _0x351cc6;if(_0xec22c5!==null){const _0x2d7074=currentQuizData[_0xa7fad7(0x763)][_0xec22c5][_0xa7fad7(0xd53)],_0x4b880c=_0x184e38[_0xa7fad7(0x42e)]?_0xa7fad7(0x804):'';_0x18902e=_0xa7fad7(0x9f9)+_0x192b19+'\x20'+_0x557a5d+'\x20'+_0x548fff+_0xa7fad7(0x24e)+_0x4b880c+'\x20'+simpleMathPrompt;if(_0x2d7074===_0xa7fad7(0xc7b))_0x59a10a=_0x153ac6;else{if(_0x2d7074===_0xa7fad7(0x6cf))_0x59a10a=_0x4f82a2;else{if(_0x2d7074===_0xa7fad7(0x206))_0x59a10a=_0x4adb92;else _0x59a10a=_0x2bc1c2;}}_0x351cc6=_0x59a10a;}else{const _0x43093c=_0x184e38[_0xa7fad7(0x42e)]?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์.':'';switch(_0x184e38[_0xa7fad7(0x7f3)]){case'multiple_choice':const _0x4b86d1=_0xa7fad7(0xaa4);_0x18902e=_0xa7fad7(0x4b2)+_0x6d3cd5+'\x20'+_0x184e38[_0xa7fad7(0x915)]+_0xa7fad7(0xd42)+_0x192b19+'\x20'+_0x557a5d+'\x20'+_0x548fff+'\x20'+_0x220c81+'\x20'+_0x1f0729+'.\x20แต่ละข้อมี\x20'+_0x184e38[_0xa7fad7(0x4f6)]+_0xa7fad7(0x826)+_0x4b86d1+'\x20ระบุคำตอบที่ถูกต้อง\x20และคำอธิบาย.\x20'+_0x43093c+'\x20'+simpleMathPrompt,_0x59a10a=_0x153ac6;break;case _0xa7fad7(0x7ec):_0x18902e=_0xa7fad7(0xb7e)+_0x6d3cd5+'\x20'+_0x184e38[_0xa7fad7(0x915)]+_0xa7fad7(0xd42)+_0x192b19+_0xa7fad7(0xe78)+_0x184e38[_0xa7fad7(0x4f6)]+_0xa7fad7(0x569)+_0x43093c+'\x20'+simpleMathPrompt,_0x59a10a=_0x153ac6;break;case _0xa7fad7(0x8f8):_0x18902e=_0xa7fad7(0xb7e)+_0x6d3cd5+'\x20'+_0x184e38[_0xa7fad7(0x915)]+_0xa7fad7(0xd42)+_0x192b19+_0xa7fad7(0x673)+_0x43093c+'\x20'+simpleMathPrompt,_0x59a10a=_0x2bc1c2;break;case'mixed':_0x18902e=_0xa7fad7(0xce0)+_0x6d3cd5+'\x20'+_0x184e38[_0xa7fad7(0x915)]+_0xa7fad7(0xd42)+_0x192b19+_0xa7fad7(0xcec)+_0x43093c+'\x20'+simpleMathPrompt+'.',_0x59a10a=_0x43e1a3;break;case _0xa7fad7(0x206):_0x18902e=_0xa7fad7(0x74d)+_0x6d3cd5+'\x20'+_0x184e38[_0xa7fad7(0x915)]+_0xa7fad7(0xd42)+_0x192b19+'\x20'+_0x557a5d+'\x20'+_0x548fff+'\x20'+_0x220c81+'\x20'+_0x1f0729+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20สำหรับสูตรคณิตศาสตร์\x20(LaTeX)\x20ต้องใช้\x20Double\x20Backslash\x20(\x5c\x5c)\x20นำหน้าคำสั่งเสมอ**\x20'+_0x43093c+'\x20'+simpleMathPrompt,_0x59a10a=_0x4adb92;break;case'matching':_0x18902e=_0xa7fad7(0xc87)+_0x6d3cd5+'\x20'+_0x184e38[_0xa7fad7(0x915)]+_0xa7fad7(0x7e2)+_0x192b19+_0xa7fad7(0xc61)+_0x43093c+'\x20'+simpleMathPrompt,_0x59a10a=_0x4f82a2;break;}_0x351cc6={'type':_0xa7fad7(0x2c9),'properties':{'topic':{'type':_0xa7fad7(0x47b)},'questions':{'type':_0xa7fad7(0x991),'items':_0x59a10a}},'required':[_0xa7fad7(0x664),_0xa7fad7(0x763)]};}const _0xfcb712='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a';if(_0x241b2a)_0x18902e=_0x205192?_0xa7fad7(0x37e)+_0x241b2a+_0xa7fad7(0x13d)+_0x18902e+_0xfcb712:_0xa7fad7(0x37e)+_0x241b2a+_0xa7fad7(0x13d)+_0x18902e,_0x9ca60a='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...';else{if(_0x205192)_0x18902e+=_0xfcb712;_0x9ca60a='กำลังสร้างแบบทดสอบจากหัวข้อ...';}let _0x2b3b13;_0x3674b6?(_0x2b3b13=[{'text':_0x18902e},..._0x3674b6],_0x9ca60a=_0xa7fad7(0xccc)):_0x2b3b13=_0x18902e;const _0x4aadd9=await handleApiCall(_0x2b3b13,_0x9ca60a,_0x351cc6,_0xec22c5,!![],_0x2a6751,_0x44b86d);return _0x4aadd9&&currentQuizData&&(currentQuizData['quizType']=_0x184e38[_0xa7fad7(0x7f3)]),_0x4aadd9;}async function generateQuizFromFile(_0x2e35b1,_0x44529a){const _0x24c989=_0xc7d29a,_0x121c54=document[_0x24c989(0x8cb)](_0x24c989(0x685))[_0x24c989(0xb66)][_0x24c989(0x649)](),_0x48160e=document['getElementById']('quiz-type-select')[_0x24c989(0xb66)],_0x219cc1=document[_0x24c989(0x8cb)]('num-questions')[_0x24c989(0xb66)],_0x5358a2=document[_0x24c989(0x8cb)](_0x24c989(0x8e2))[_0x24c989(0xb66)],_0x5ea665=document[_0x24c989(0x8cb)]('include-images-checkbox')[_0x24c989(0x4d7)],_0x3ba9bb=document[_0x24c989(0x8cb)]('force-math-checkbox')[_0x24c989(0x4d7)],_0x4518d3=_0x3ba9bb?'':_0x24c989(0x39c),_0x37ccd4=document[_0x24c989(0x8cb)]('original-mode-checkbox')[_0x24c989(0x4d7)];let _0x1e2620='',_0x174f82;const _0x2e1def=_0x5ea665?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x37ccd4)_0x1e2620='\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a'+_0x2e1def+'\x0a'+simpleMathPrompt+'\x0a',_0x174f82={'type':_0x24c989(0x2c9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x24c989(0x47b),'enum':[_0x24c989(0xc7b),'short_answer',_0x24c989(0x206),_0x24c989(0x6cf)]},'options':{'type':_0x24c989(0x991),'items':{'type':_0x24c989(0x47b)}},'correctAnswerIndex':{'type':_0x24c989(0x894)},'idealAnswer':{'type':_0x24c989(0x47b)},'correctAnswer':{'type':_0x24c989(0x329)},'stem':{'type':_0x24c989(0x47b)},'correctResponse':{'type':_0x24c989(0x47b)},'allResponses':{'type':_0x24c989(0x991),'items':{'type':_0x24c989(0x47b)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x24c989(0xd53),_0x24c989(0x9f2)]};else{let _0x417613='เกี่ยวกับหัวข้อ\x20\x22'+_0x121c54+'\x22';!_0x121c54&&(_0x417613=_0x24c989(0xc8e));switch(_0x48160e){case _0x24c989(0xc7b):const _0x6cd412=_0x24c989(0x277);_0x1e2620=_0x24c989(0x4b2)+_0x4518d3+'\x20'+_0x219cc1+_0x24c989(0xd42)+_0x417613+_0x24c989(0x707)+_0x5358a2+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20'+_0x6cd412+_0x24c989(0xbae)+_0x2e1def+'\x20'+simpleMathPrompt,_0x174f82={'type':_0x24c989(0x2c9),'properties':{'questionText':{'type':_0x24c989(0x47b)},'options':{'type':_0x24c989(0x991),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x24c989(0x47b)}},'required':['questionText',_0x24c989(0x764),_0x24c989(0xcd4),_0x24c989(0x9f2)]};break;case _0x24c989(0x7ec):_0x1e2620=_0x24c989(0xb7e)+_0x4518d3+'\x20'+_0x219cc1+_0x24c989(0xd42)+_0x417613+_0x24c989(0x294)+_0x5358a2+_0x24c989(0xc77)+_0x2e1def+'\x20'+simpleMathPrompt,_0x174f82={'type':_0x24c989(0x2c9),'properties':{'questionText':{'type':_0x24c989(0x47b)},'options':{'type':_0x24c989(0x991),'items':{'type':_0x24c989(0x47b)}},'correctAnswerIndex':{'type':_0x24c989(0x894)},'explanation':{'type':_0x24c989(0x47b)},'imageCode':{'type':_0x24c989(0x47b)}},'required':[_0x24c989(0x3ab),'options',_0x24c989(0xcd4),_0x24c989(0x9f2)]};break;case _0x24c989(0x8f8):_0x1e2620='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4518d3+'\x20'+_0x219cc1+'\x20ข้อ\x20'+_0x417613+_0x24c989(0xb9a)+_0x2e1def+'\x20'+simpleMathPrompt,_0x174f82={'type':_0x24c989(0x2c9),'properties':{'questionText':{'type':_0x24c989(0x47b)},'idealAnswer':{'type':_0x24c989(0x47b)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x24c989(0x3ab),'idealAnswer',_0x24c989(0x9f2)]};break;case'mixed':_0x1e2620=_0x24c989(0xce0)+_0x4518d3+'\x20'+_0x219cc1+'\x20ข้อ\x20'+_0x417613+_0x24c989(0x4e2)+_0x5358a2+_0x24c989(0xbec)+_0x2e1def+'\x20'+simpleMathPrompt+_0x24c989(0xd2e),_0x174f82={'type':_0x24c989(0x2c9),'properties':{'questionText':{'type':_0x24c989(0x47b)},'questionType':{'type':_0x24c989(0x47b),'enum':[_0x24c989(0xc7b),_0x24c989(0xc34)]},'options':{'type':'ARRAY','items':{'type':_0x24c989(0x47b)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x24c989(0x47b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x24c989(0x47b)}},'required':[_0x24c989(0x3ab),_0x24c989(0xd53),_0x24c989(0x9f2)]};break;case'true_false':_0x1e2620=_0x24c989(0x74d)+_0x4518d3+'\x20'+_0x219cc1+_0x24c989(0xd42)+_0x417613+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2e1def+'\x20'+simpleMathPrompt,_0x174f82={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x24c989(0x329)},'explanation':{'type':_0x24c989(0x47b)},'imageCode':{'type':_0x24c989(0x47b)}},'required':[_0x24c989(0x3ab),_0x24c989(0x124),_0x24c989(0x9f2)]};break;case _0x24c989(0x842):_0x1e2620=_0x24c989(0xc87)+_0x4518d3+'\x20'+_0x219cc1+_0x24c989(0x7e2)+_0x417613+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x219cc1+_0x24c989(0x2b1)+_0x2e1def+'\x20'+simpleMathPrompt,_0x174f82={'type':_0x24c989(0x2c9),'properties':{'questionType':{'type':_0x24c989(0x47b),'enum':[_0x24c989(0x6cf)]},'stem':{'type':_0x24c989(0x47b)},'correctResponse':{'type':_0x24c989(0x47b)},'allResponses':{'type':_0x24c989(0x991),'items':{'type':'STRING'}},'explanation':{'type':_0x24c989(0x47b)},'imageCode':{'type':_0x24c989(0x47b)}},'required':[_0x24c989(0xd53),'stem','correctResponse',_0x24c989(0x872),_0x24c989(0x9f2)]};break;}}const _0x1c2c6e={'type':'OBJECT','properties':{'topic':{'type':_0x24c989(0x47b)},'questions':{'type':'ARRAY','items':_0x174f82}},'required':[_0x24c989(0x664),_0x24c989(0x763)]},_0x374bea=_0x24c989(0xe5d)+_0x1e2620,_0x477181={'contents':[{'parts':[{'text':_0x374bea},{'inlineData':{'mimeType':_0x2e35b1,'data':_0x44529a}}]}],'generationConfig':{'responseMimeType':_0x24c989(0x7fd),'responseSchema':_0x1c2c6e}};return handleApiCall(_0x477181[_0x24c989(0xa8a)][0x0][_0x24c989(0xa22)],_0x24c989(0xa0e),_0x1c2c6e);}async function handleApiCall(_0x134d74,_0x49aeb0,_0x8ef89a,_0x5c0e52=null,_0x2da114=!![],_0x38a45f=null,_0x4a9130=null){const _0x5b692f=_0xc7d29a,_0x4f1ac3=document[_0x5b692f(0x8cb)]('quiz-generation-area'),_0x30ebc9=document[_0x5b692f(0x8cb)]('loader'),_0x3cb8d2=document[_0x5b692f(0x8cb)]('loader-text'),_0x37921c=document[_0x5b692f(0x8cb)]('generated-quiz-container');_0x4f1ac3['classList'][_0x5b692f(0xc8b)](_0x5b692f(0x1c9));_0x5c0e52===null&&_0x2da114&&(_0x37921c['innerHTML']='');_0x30ebc9[_0x5b692f(0x144)][_0x5b692f(0xc8b)]('hidden'),_0x3cb8d2[_0x5b692f(0x1ae)]=_0x49aeb0,document[_0x5b692f(0x8cb)](_0x5b692f(0x275))[_0x5b692f(0xc2b)]=!![],document[_0x5b692f(0x8cb)](_0x5b692f(0xd0b))[_0x5b692f(0xc2b)]=!![],document[_0x5b692f(0x8cb)](_0x5b692f(0x34d))['disabled']=!![];const _0x209c08=document[_0x5b692f(0x8cb)](_0x5b692f(0x85b));if(_0x209c08)_0x209c08[_0x5b692f(0xc2b)]=!![];const _0x5ed4e4=document[_0x5b692f(0x8cb)](_0x5b692f(0xe14));if(_0x5ed4e4)_0x5ed4e4[_0x5b692f(0xc2b)]=!![];const _0x19ecb4=document[_0x5b692f(0x8cb)](_0x5b692f(0xdab));if(_0x19ecb4)_0x19ecb4['disabled']=!![];try{const _0x505ada=Array[_0x5b692f(0x63a)](_0x134d74)?_0x134d74:[{'text':_0x134d74}],_0x5f0347={'contents':[{'role':_0x5b692f(0xdd4),'parts':_0x505ada}]};_0x8ef89a&&(_0x5f0347[_0x5b692f(0x22f)]={'responseMimeType':_0x5b692f(0x7fd),'responseSchema':_0x8ef89a});const _0xa3f4f7=_0x5b692f(0xa5c),_0x23f9be=_0x5b692f(0x700)+_0xa3f4f7,_0x3f6501=await fetch(_0x23f9be,{'method':_0x5b692f(0xd6),'headers':{'Content-Type':_0x5b692f(0x7fd)},'body':JSON[_0x5b692f(0xa7e)](_0x5f0347)});if(!_0x3f6501['ok']){const _0x193924=await _0x3f6501[_0x5b692f(0xb0d)]();console[_0x5b692f(0x3e8)](_0x5b692f(0x4b4),_0x193924);throw new Error(_0x5b692f(0xb33)+_0x3f6501[_0x5b692f(0x20a)]);}const _0x5608e7=await _0x3f6501[_0x5b692f(0xbd9)]();if(!_0x5608e7[_0x5b692f(0xa9f)]||_0x5608e7[_0x5b692f(0xa9f)][_0x5b692f(0x3bb)]===0x0){let _0x1db869=_0x5b692f(0xc60);return _0x5608e7[_0x5b692f(0xbb2)]?.[_0x5b692f(0x29b)]&&(_0x1db869=_0x5b692f(0x794)+_0x5608e7[_0x5b692f(0xbb2)]['blockReason']+'.'),console[_0x5b692f(0x3e8)](_0x1db869,JSON[_0x5b692f(0xa7e)](_0x5608e7)),null;}const _0x431329=_0x5608e7[_0x5b692f(0xa9f)][0x0][_0x5b692f(0xd24)]['parts'][0x0][_0x5b692f(0xb0d)];if(_0x8ef89a){let _0x5569e3=_0x431329;if(_0x5569e3[_0x5b692f(0xdd8)](_0x5b692f(0xb58)))_0x5569e3=_0x5569e3['substring'](0x7,_0x5569e3['length']-0x3)[_0x5b692f(0x649)]();else _0x5569e3[_0x5b692f(0xdd8)]('```')&&(_0x5569e3=_0x5569e3[_0x5b692f(0x299)](0x3,_0x5569e3[_0x5b692f(0x3bb)]-0x3)[_0x5b692f(0x649)]());let _0x5e46a6=JSON[_0x5b692f(0x208)](_0x5569e3);if(_0x5e46a6[_0x5b692f(0x763)]&&Array[_0x5b692f(0x63a)](_0x5e46a6[_0x5b692f(0x763)])){const _0x239824=_0x5e46a6[_0x5b692f(0x763)][_0x5b692f(0xb8e)](_0x46f731=>_0x46f731[_0x5b692f(0xd53)]===_0x5b692f(0x6cf));if(_0x239824[_0x5b692f(0x3bb)]>0x1){const _0xc6e791=_0x239824[_0x5b692f(0x283)](_0x5d7ffb=>_0x5d7ffb[_0x5b692f(0x9b7)])[_0x5b692f(0xb8e)](_0x29c1ac=>_0x29c1ac&&_0x29c1ac[_0x5b692f(0x649)]()!=='');shuffleArray(_0xc6e791),_0x239824[_0x5b692f(0x3f4)](_0xbb5f02=>{const _0x334777=_0x5b692f;_0xbb5f02[_0x334777(0x872)]=[..._0xc6e791];}),console['log'](_0x5b692f(0xa6d),_0xc6e791);}}if(_0x2da114){if(_0x5c0e52!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x5b692f(0x763)]){}}else currentQuizData=_0x5e46a6,displayGeneratedQuiz(currentQuizData,_0x38a45f,_0x4a9130);}return _0x5e46a6;}else return _0x431329;}catch(_0x205ea7){console[_0x5b692f(0x3e8)](_0x5b692f(0xbd),_0x205ea7),showMessage(_0x5b692f(0xd04)+_0x205ea7['message']);_0x2da114&&(_0x37921c[_0x5b692f(0x22a)]=_0x5b692f(0xd71));throw _0x205ea7;}finally{_0x30ebc9[_0x5b692f(0x144)][_0x5b692f(0x743)](_0x5b692f(0x1c9)),document['getElementById'](_0x5b692f(0x275))['disabled']=![],document[_0x5b692f(0x8cb)](_0x5b692f(0xd0b))[_0x5b692f(0xc2b)]=![],document['getElementById'](_0x5b692f(0x34d))[_0x5b692f(0xc2b)]=![];if(_0x209c08)_0x209c08[_0x5b692f(0xc2b)]=![];if(_0x5ed4e4)_0x5ed4e4[_0x5b692f(0xc2b)]=![];if(_0x19ecb4)_0x19ecb4[_0x5b692f(0xc2b)]=![];}}function exitFullscreen(){const _0x2e2ee8=_0xc7d29a;if(document['exitFullscreen'])document[_0x2e2ee8(0x488)]()[_0x2e2ee8(0xa65)](_0x58f794=>console['error'](_0x58f794));else{if(document['webkitExitFullscreen'])document[_0x2e2ee8(0xd55)]();else document[_0x2e2ee8(0x7f0)]&&document[_0x2e2ee8(0x7f0)]();}}function enterFullscreen(){const _0x117441=_0xc7d29a,_0x2b259c=document[_0x117441(0xc07)];if(_0x2b259c['requestFullscreen'])_0x2b259c[_0x117441(0xd32)]()[_0x117441(0xa65)](_0x69767f=>{const _0x2ea351=_0x117441;console[_0x2ea351(0x3e8)](_0x2ea351(0x8e6)+_0x69767f[_0x2ea351(0xd5f)]+'\x20('+_0x69767f[_0x2ea351(0xa48)]+')');});else{if(_0x2b259c['webkitRequestFullscreen'])_0x2b259c['webkitRequestFullscreen']();else _0x2b259c['msRequestFullscreen']&&_0x2b259c[_0x117441(0x43a)]();}}function handleCheatingEvent(){const _0x447589=_0xc7d29a;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x447589(0x8c7),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x447589(0xa87)+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document['getElementById']('quiz-form')?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x447589(0xdf5)](_0x447589(0xb56),handleVisibilityChange),document[_0x447589(0xdf5)](_0x447589(0xa2f),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+'):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ',enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x3ed082=_0xc7d29a;if(currentMode===_0x3ed082(0x755)||!isQuizActive)return;if(document[_0x3ed082(0x529)]==='hidden')handleCheatingEvent();else document[_0x3ed082(0x529)]===_0x3ed082(0x368)&&(console['log'](_0x3ed082(0x528)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x85678a=_0xc7d29a;if(currentMode===_0x85678a(0x755)||!isQuizActive)return;!document[_0x85678a(0x4f5)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x5c2a92,_0x2aa223=null,_0x3c58e3=null){const _0x12a5d5=_0xc7d29a,_0x556f2a=document[_0x12a5d5(0x8cb)](_0x12a5d5(0xfc));let _0x54a0ad=_0x12a5d5(0xb30)+_0x5c2a92[_0x12a5d5(0x664)]+_0x12a5d5(0x83d);_0x5c2a92[_0x12a5d5(0x763)][_0x12a5d5(0x3f4)]((_0x569dbf,_0x16daed)=>{const _0x57eaa3=_0x12a5d5;!_0x569dbf['id']&&(_0x569dbf['id']='q_'+Date[_0x57eaa3(0x2da)]()+'_'+_0x16daed);const _0x25f027=_0x569dbf[_0x57eaa3(0xd53)]||_0x5c2a92[_0x57eaa3(0x7f3)];_0x54a0ad+=_0x57eaa3(0x5a0)+_0x16daed+_0x57eaa3(0xe6c)+_0x16daed+_0x57eaa3(0x15b)+_0x16daed+_0x57eaa3(0xe4b);_0x25f027===_0x57eaa3(0x6cf)?_0x54a0ad+=_0x57eaa3(0xa4b)+_0x16daed+'\x22>'+(_0x16daed+0x1)+'.\x20'+_0x569dbf['stem']+_0x57eaa3(0x4f2):_0x54a0ad+=_0x57eaa3(0xa4b)+_0x16daed+'\x22>'+(_0x16daed+0x1)+'.\x20'+_0x569dbf[_0x57eaa3(0x3ab)]+_0x57eaa3(0x4f2);_0x569dbf[_0x57eaa3(0xb24)]&&(_0x54a0ad+='<div\x20id=\x22q-image-container-'+_0x16daed+_0x57eaa3(0x3fc)+_0x569dbf[_0x57eaa3(0xb24)]+'</div>');if(_0x569dbf[_0x57eaa3(0x764)]&&Array[_0x57eaa3(0x63a)](_0x569dbf[_0x57eaa3(0x764)])&&_0x569dbf['options']['length']>0x0)_0x54a0ad+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x16daed+_0x57eaa3(0x7d8)+_0x569dbf['options'][_0x57eaa3(0x283)]((_0x52722e,_0x258371)=>_0x57eaa3(0x3b6)+(_0x258371===_0x569dbf[_0x57eaa3(0xcd4)]?_0x57eaa3(0x1c1):'')+'\x22>'+_0x52722e+_0x57eaa3(0x19c))[_0x57eaa3(0x922)]('')+_0x57eaa3(0xac8);else{if(_0x25f027==='matching_item'||_0x569dbf[_0x57eaa3(0x9b7)])_0x54a0ad+=_0x57eaa3(0xa2e)+_0x16daed+'\x22>'+_0x569dbf[_0x57eaa3(0x9b7)]+_0x57eaa3(0x823);else{if(_0x25f027===_0x57eaa3(0x206)||typeof _0x569dbf['correctAnswer']==='boolean')_0x54a0ad+=_0x57eaa3(0x4ec)+(_0x569dbf[_0x57eaa3(0x124)]===!![]?_0x57eaa3(0x1c1):'')+_0x57eaa3(0x606)+(_0x569dbf[_0x57eaa3(0x124)]===![]?_0x57eaa3(0x1c1):'')+_0x57eaa3(0x6db);else _0x569dbf[_0x57eaa3(0xd16)]?_0x54a0ad+=_0x57eaa3(0xc2d)+_0x16daed+'\x22>'+_0x569dbf['idealAnswer']+_0x57eaa3(0x823):_0x54a0ad+=_0x57eaa3(0x87a);}}_0x54a0ad+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x16daed+'\x22>'+_0x569dbf[_0x57eaa3(0x9f2)]+_0x57eaa3(0x823),_0x54a0ad+=_0x57eaa3(0x1d2);}),_0x54a0ad+=_0x12a5d5(0x211),_0x556f2a[_0x12a5d5(0x22a)]=_0x54a0ad,document[_0x12a5d5(0xb9f)](_0x12a5d5(0xac9))[_0x12a5d5(0x3f4)](_0x455aed=>_0x455aed[_0x12a5d5(0x38d)](_0x12a5d5(0x9b4),handleEditQuestion)),document['querySelectorAll']('.regenerate-question-btn')[_0x12a5d5(0x3f4)](_0x57dda5=>_0x57dda5['addEventListener'](_0x12a5d5(0x9b4),handleRegenerateQuestion)),document[_0x12a5d5(0x8cb)](_0x12a5d5(0xc04))['addEventListener'](_0x12a5d5(0x9b4),exportQuizAsWorksheetPDF),document[_0x12a5d5(0x8cb)]('verify-answers-btn')[_0x12a5d5(0x38d)](_0x12a5d5(0x9b4),handleVerifyAnswers);const _0x163aeb=document['getElementById'](_0x12a5d5(0xd58));if(_0x163aeb){const _0x59ef81=_0x2aa223||currentProjectId;_0x163aeb[_0x12a5d5(0x38d)](_0x12a5d5(0x9b4),()=>saveQuiz(_0x59ef81,_0x3c58e3));}if(window['MathJax'])window[_0x12a5d5(0x608)][_0x12a5d5(0x31d)]([_0x556f2a]);}function handleRegenerateQuestion(_0x5a57e5){const _0x49a6e6=_0xc7d29a,_0x260c31=_0x5a57e5[_0x49a6e6(0x4e1)][_0x49a6e6(0x5fd)]['index'],_0x233c90=currentQuizData[_0x49a6e6(0x664)];showMessage(_0x49a6e6(0x279)+(parseInt(_0x260c31)+0x1)+_0x49a6e6(0x382)),generateQuiz(_0x233c90,null,parseInt(_0x260c31));}function getPointerPosition(_0x204db5,_0x2a95a4){const _0x18728f=_0xc7d29a,_0x36c583=_0x204db5['getScreenCTM']();let _0x2dce53,_0x3a77fb;return _0x2a95a4[_0x18728f(0x641)]&&_0x2a95a4[_0x18728f(0x641)]['length']>0x0?(_0x2dce53=_0x2a95a4[_0x18728f(0x641)][0x0][_0x18728f(0xc5c)],_0x3a77fb=_0x2a95a4[_0x18728f(0x641)][0x0][_0x18728f(0xb7a)]):(_0x2dce53=_0x2a95a4[_0x18728f(0xc5c)],_0x3a77fb=_0x2a95a4[_0x18728f(0xb7a)]),{'x':(_0x2dce53-_0x36c583['e'])/_0x36c583['a'],'y':(_0x3a77fb-_0x36c583['f'])/_0x36c583['d']};}function startDrag(_0x3c2b83){const _0x20bc73=_0xc7d29a;_0x3c2b83[_0x20bc73(0x255)]===_0x20bc73(0x1ce)&&_0x3c2b83[_0x20bc73(0x862)]();const _0x3a6dd4=_0x3c2b83[_0x20bc73(0x7b9)]['closest'](_0x20bc73(0x579));if(_0x3a6dd4){draggedSvgElement=_0x3a6dd4;const _0x331dbe=draggedSvgElement[_0x20bc73(0xae9)],_0x2ecdc9=getPointerPosition(_0x331dbe,_0x3c2b83);svgOffset['x']=_0x2ecdc9['x']-parseFloat(draggedSvgElement[_0x20bc73(0x8a0)](null,'x')),svgOffset['y']=_0x2ecdc9['y']-parseFloat(draggedSvgElement[_0x20bc73(0x8a0)](null,'y'));}}function calculateItemAnalysis(_0x2f4ca5,_0xb6faa7){const _0x5af00c=_0xc7d29a,_0x21a27c={};if(_0xb6faa7[_0x5af00c(0x3bb)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x27dde1=[..._0xb6faa7][_0x5af00c(0x9a7)]((_0x3081a2,_0x15d6a9)=>{const _0x2a9ccb=_0x5af00c,_0x3017eb=_0x15d6a9[_0x2a9ccb(0xbbc)]-_0x3081a2['latestScore'];if(_0x3017eb!==0x0)return _0x3017eb;const _0x4e078d=_0x3081a2[_0x2a9ccb(0x7cd)]?.[_0x2a9ccb(0x3bb)]||0x1,_0x11f7b6=_0x15d6a9[_0x2a9ccb(0x7cd)]?.[_0x2a9ccb(0x3bb)]||0x1,_0x503876=_0x4e078d-_0x11f7b6;if(_0x503876!==0x0)return _0x503876;const _0x3df65a=new Date(_0x3081a2[_0x2a9ccb(0x199)]),_0x25ec31=new Date(_0x15d6a9[_0x2a9ccb(0x199)]),_0x2a0d8c=_0x3df65a-_0x25ec31;if(_0x2a0d8c!==0x0)return _0x2a0d8c;return _0x3081a2['studentName'][_0x2a9ccb(0xb18)](_0x15d6a9[_0x2a9ccb(0x1fe)],'th');}),_0x11cf2a=_0x27dde1[_0x5af00c(0x3bb)],_0x2d3784=Math[_0x5af00c(0xa73)](0x1,Math[_0x5af00c(0x6da)](_0x11cf2a*0.33));if(_0x2d3784===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x285730=_0x27dde1['slice'](0x0,_0x2d3784),_0x3b00ae=_0x27dde1[_0x5af00c(0xe54)](-_0x2d3784),_0x29dc6d=_0x285730[_0x5af00c(0x283)](_0x15905a=>_0x15905a['studentName']),_0x5b7a9f=_0x3b00ae[_0x5af00c(0x283)](_0x538933=>_0x538933[_0x5af00c(0x1fe)]);return _0x2f4ca5['questions'][_0x5af00c(0x3f4)]((_0x397b1a,_0x3f05b0)=>{const _0x330087=_0x5af00c,_0x38d738=_0x397b1a['stem']||_0x397b1a[_0x330087(0x3ab)];let _0x369887=0x0,_0x4075b5=0x0,_0x182dc7=0x0;const _0x5c4436=[],_0x85deaa=[];_0x285730[_0x330087(0x3f4)](_0x21f180=>{const _0x1dde7c=_0x330087,_0x37af86=_0x21f180[_0x1dde7c(0x7cd)][_0x21f180['attempts']['length']-0x1],_0x30ac4d=_0x37af86[_0x1dde7c(0xea)][_0x1dde7c(0x7d2)](_0x19cd16=>_0x19cd16[_0x1dde7c(0x37d)]===_0x38d738);_0x5c4436['push']({'name':_0x21f180[_0x1dde7c(0x1fe)],'isCorrect':_0x30ac4d?_0x30ac4d[_0x1dde7c(0x2a6)]:![]}),_0x30ac4d&&_0x30ac4d[_0x1dde7c(0x2a6)]&&_0x4075b5++;}),_0x3b00ae['forEach'](_0x30b50d=>{const _0x1d531b=_0x330087,_0x24bf94=_0x30b50d[_0x1d531b(0x7cd)][_0x30b50d['attempts'][_0x1d531b(0x3bb)]-0x1],_0x24fff8=_0x24bf94[_0x1d531b(0xea)][_0x1d531b(0x7d2)](_0x44be5a=>_0x44be5a[_0x1d531b(0x37d)]===_0x38d738);_0x85deaa[_0x1d531b(0x77f)]({'name':_0x30b50d[_0x1d531b(0x1fe)],'isCorrect':_0x24fff8?_0x24fff8['isCorrect']:![]}),_0x24fff8&&_0x24fff8[_0x1d531b(0x2a6)]&&_0x182dc7++;}),_0xb6faa7[_0x330087(0x3f4)](_0x33f221=>{const _0x44d62f=_0x330087,_0x226cc8=_0x33f221[_0x44d62f(0x7cd)][_0x33f221[_0x44d62f(0x7cd)][_0x44d62f(0x3bb)]-0x1],_0x256af2=_0x226cc8['answers'][_0x44d62f(0x7d2)](_0x5f0776=>_0x5f0776[_0x44d62f(0x37d)]===_0x38d738);_0x256af2&&_0x256af2[_0x44d62f(0x2a6)]&&_0x369887++;});const _0x446db3=_0x11cf2a>0x0?_0x369887/_0x11cf2a:0x0,_0x15b7f7=_0x2d3784>0x0?_0x4075b5/_0x2d3784-_0x182dc7/_0x2d3784:0x0;_0x21a27c[_0x3f05b0]={'p':_0x446db3,'r':_0x15b7f7,'upperGroupResponders':_0x5c4436,'lowerGroupResponders':_0x85deaa};}),{'perQuestionStats':_0x21a27c,'overallGroups':{'upperGroupNames':_0x29dc6d,'lowerGroupNames':_0x5b7a9f}};}function drag(_0xb72a97){const _0x5773af=_0xc7d29a;if(draggedSvgElement){_0xb72a97['preventDefault']();const _0x365d02=draggedSvgElement['ownerSVGElement'],_0x5c9c5f=getPointerPosition(_0x365d02,_0xb72a97),_0x5c39c9=_0x365d02[_0x5773af(0xc6f)]['baseVal'];let _0x3cfe77=_0x5c9c5f['x']-svgOffset['x'],_0xafd4f3=_0x5c9c5f['y']-svgOffset['y'];const _0x4d6fe9=draggedSvgElement['getBBox']();_0x3cfe77=Math['max'](_0x5c39c9['x'],Math['min'](_0x3cfe77,_0x5c39c9['x']+_0x5c39c9['width']-_0x4d6fe9[_0x5773af(0x958)])),_0xafd4f3=Math[_0x5773af(0xa73)](_0x5c39c9['y'],Math[_0x5773af(0xb5d)](_0xafd4f3,_0x5c39c9['y']+_0x5c39c9[_0x5773af(0x810)]-_0x4d6fe9[_0x5773af(0x810)])),draggedSvgElement[_0x5773af(0xc42)](null,'x',_0x3cfe77),draggedSvgElement[_0x5773af(0xc42)](null,'y',_0xafd4f3);}}function endDrag(_0x5c0aa3){draggedSvgElement=null;}function handleSvgEditClick(_0x30d0cd){const _0x419322=_0xc7d29a;if(_0x30d0cd[_0x419322(0x7b9)]['classList'][_0x419322(0x3c8)]('delete-svg-btn')){const _0x1d70d2=_0x30d0cd[_0x419322(0x7b9)][_0x419322(0x5fd)][_0x419322(0x7a2)],_0xefe679=_0x30d0cd[_0x419322(0x4e1)],_0x2fed5e=_0xefe679[_0x419322(0x947)]('#'+_0x1d70d2);_0x2fed5e&&_0x2fed5e[_0x419322(0xc8b)](),_0x30d0cd[_0x419322(0x7b9)][_0x419322(0xc8b)]();}}function handleEditQuestion(_0x37c2a0){const _0x104c12=_0xc7d29a,_0x5ad1f4=_0x37c2a0[_0x104c12(0x4e1)],_0x56032d=_0x5ad1f4[_0x104c12(0x5fd)]['index'],_0x32f863=currentQuizData[_0x104c12(0x763)][_0x56032d],_0x3d146b=document[_0x104c12(0x8cb)](_0x104c12(0x137)+_0x56032d),_0x3f157f=document['getElementById']('q-explanation-'+_0x56032d),_0x2c2e13=document['getElementById']('q-image-container-'+_0x56032d);if(_0x5ad1f4[_0x104c12(0x22a)][_0x104c12(0xd33)](_0x104c12(0xe6f))){_0x5ad1f4[_0x104c12(0x22a)]=_0x104c12(0x1eb),_0x5ad1f4[_0x104c12(0xce4)]=_0x104c12(0x813);if(_0x3d146b)_0x3d146b[_0x104c12(0xa3d)]=!![];if(_0x3f157f)_0x3f157f[_0x104c12(0xa3d)]=!![];if(_0x2c2e13){const _0x24dc23=_0x2c2e13[_0x104c12(0x947)](_0x104c12(0x7d9));if(_0x24dc23){const _0x4f611a=_0x24dc23[_0x104c12(0xb9f)](_0x104c12(0xb0d));_0x4f611a[_0x104c12(0x3f4)]((_0x180b52,_0x38e1c6)=>{const _0x52e147=_0x104c12,_0xbec4e8=_0x52e147(0xa32)+_0x56032d+'-'+_0x38e1c6;_0x180b52['id']=_0xbec4e8,_0x180b52[_0x52e147(0x144)]['add'](_0x52e147(0x28f)),_0x180b52['style'][_0x52e147(0x9be)]=_0x52e147(0x2aa);const _0xea75f7=document[_0x52e147(0x16e)]('http://www.w3.org/2000/svg',_0x52e147(0x5d1)),_0x1b06d7=_0x180b52[_0x52e147(0xaea)]();_0xea75f7[_0x52e147(0x5c6)]('cx',String(_0x1b06d7['x']+_0x1b06d7[_0x52e147(0x958)]+0x5)),_0xea75f7[_0x52e147(0x5c6)]('cy',String(_0x1b06d7['y']+_0x1b06d7[_0x52e147(0x810)]/0x2-0x5)),_0xea75f7[_0x52e147(0x5c6)]('r','5'),_0xea75f7['setAttribute'](_0x52e147(0x1ba),'red'),_0xea75f7[_0x52e147(0x5c6)](_0x52e147(0x3ac),_0x52e147(0xd78)),_0xea75f7[_0x52e147(0x5fd)][_0x52e147(0x7a2)]=_0xbec4e8,_0x180b52[_0x52e147(0x3bd)](_0xea75f7);}),_0x24dc23['addEventListener'](_0x104c12(0xb03),startDrag),_0x24dc23['addEventListener'](_0x104c12(0xdb2),drag),_0x24dc23[_0x104c12(0x38d)](_0x104c12(0xa3a),endDrag),_0x24dc23[_0x104c12(0x38d)](_0x104c12(0x636),endDrag),_0x24dc23[_0x104c12(0x38d)](_0x104c12(0x1ce),startDrag,{'passive':![]}),_0x24dc23[_0x104c12(0x38d)](_0x104c12(0xc66),drag,{'passive':![]}),_0x24dc23[_0x104c12(0x38d)](_0x104c12(0x566),endDrag),_0x24dc23[_0x104c12(0x38d)](_0x104c12(0x456),endDrag),_0x24dc23['addEventListener']('click',handleSvgEditClick);}}if(_0x3d146b)_0x3d146b[_0x104c12(0x663)]();}else{_0x5ad1f4[_0x104c12(0x22a)]=_0x104c12(0xdf0),_0x5ad1f4[_0x104c12(0xce4)]='แก้ไขข้อนี้';if(_0x3d146b){_0x3d146b[_0x104c12(0xa3d)]=![];const _0x1aea1c=_0x32f863[_0x104c12(0xd53)]||currentQuizData[_0x104c12(0x7f3)];_0x1aea1c===_0x104c12(0x6cf)?_0x32f863['stem']=_0x3d146b['innerText']['substring'](_0x3d146b['innerText'][_0x104c12(0x7a7)]('.')+0x2)[_0x104c12(0x649)]():_0x32f863['questionText']=_0x3d146b[_0x104c12(0x8ab)][_0x104c12(0x299)](_0x3d146b['innerText'][_0x104c12(0x7a7)]('.')+0x2)['trim']();}_0x3f157f&&(_0x3f157f[_0x104c12(0xa3d)]=![],_0x32f863[_0x104c12(0x9f2)]=_0x3f157f[_0x104c12(0x8ab)]);if(_0x2c2e13){const _0x1d93ee=_0x2c2e13[_0x104c12(0x947)](_0x104c12(0x7d9));if(_0x1d93ee){const _0x2bd4c9=_0x1d93ee[_0x104c12(0xb2f)](!![]);_0x2bd4c9['querySelectorAll'](_0x104c12(0x739))['forEach'](_0x11eb81=>_0x11eb81[_0x104c12(0xc8b)]()),_0x2bd4c9[_0x104c12(0xb9f)](_0x104c12(0x579))[_0x104c12(0x3f4)](_0x2419ea=>{const _0x3a9649=_0x104c12;_0x2419ea['classList']['remove'](_0x3a9649(0x28f)),_0x2419ea[_0x3a9649(0x220)][_0x3a9649(0x9be)]=_0x3a9649(0x873),_0x2419ea[_0x3a9649(0xd5e)]('id');}),_0x32f863[_0x104c12(0xb24)]=_0x2bd4c9[_0x104c12(0x8cc)],_0x1d93ee['removeEventListener']('mousedown',startDrag),_0x1d93ee[_0x104c12(0xdf5)]('mousemove',drag),_0x1d93ee[_0x104c12(0xdf5)]('mouseup',endDrag),_0x1d93ee['removeEventListener'](_0x104c12(0x636),endDrag),_0x1d93ee[_0x104c12(0xdf5)](_0x104c12(0x1ce),startDrag),_0x1d93ee[_0x104c12(0xdf5)](_0x104c12(0xc66),drag),_0x1d93ee['removeEventListener'](_0x104c12(0x566),endDrag),_0x1d93ee[_0x104c12(0xdf5)](_0x104c12(0x456),endDrag),_0x1d93ee[_0x104c12(0xdf5)](_0x104c12(0x9b4),handleSvgEditClick),_0x1d93ee[_0x104c12(0xb9f)]('.delete-svg-btn')['forEach'](_0x14ba3c=>_0x14ba3c[_0x104c12(0xc8b)]()),_0x1d93ee[_0x104c12(0xb9f)]('.draggable-text')['forEach'](_0x9e5efb=>{const _0x244101=_0x104c12;_0x9e5efb['classList']['remove'](_0x244101(0x28f)),_0x9e5efb[_0x244101(0x220)][_0x244101(0x9be)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x136f13){const _0x29450b=_0xc7d29a,_0x1111f1=document[_0x29450b(0x8cb)](_0x29450b(0x58e)),_0x46b4fb=document['getElementById'](_0x29450b(0x2ac));_0x46b4fb[_0x29450b(0x22a)]=_0x29450b(0xe58),_0x1111f1['classList'][_0x29450b(0xc8b)](_0x29450b(0x1c9));try{const _0x49eaf2=doc(db,_0x29450b(0x9c2)+appId+_0x29450b(0x843),_0x136f13),_0x5b5424=await getDoc(_0x49eaf2);if(!_0x5b5424['exists']())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x136f13,..._0x5b5424[_0x29450b(0x241)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x225424){console[_0x29450b(0x3e8)](_0x29450b(0x8e0),_0x225424),showMessage(_0x29450b(0xb2)),_0x1111f1[_0x29450b(0x144)][_0x29450b(0x743)](_0x29450b(0x1c9));}}function renderQuizEditor(_0x901f68){const _0x1f3783=_0xc7d29a;document[_0x1f3783(0x8cb)](_0x1f3783(0xd98))[_0x1f3783(0xb66)]=_0x901f68[_0x1f3783(0x664)];const _0x356dc7=document[_0x1f3783(0x8cb)](_0x1f3783(0x2ac));let _0x9fa664=_0x901f68['questions'][_0x1f3783(0x283)]((_0x4fee58,_0x255e10)=>{const _0x373c98=_0x1f3783;let _0x5c89b5='';const _0xcbba2d=_0x4fee58[_0x373c98(0xd53)]||_0x901f68[_0x373c98(0x7f3)],_0x1914e6=(_0xcbba2d===_0x373c98(0xc34)||_0xcbba2d===_0x373c98(0x8f8))&&_0x4fee58[_0x373c98(0x764)]&&_0x4fee58[_0x373c98(0x764)]['length']>0x0;switch(_0xcbba2d){case _0x373c98(0xc7b):const _0x529375=(_0x4fee58['options']||[])['map']((_0x12c987,_0x44f244)=>_0x373c98(0xc1a)+_0x255e10+'\x22\x20value=\x22'+_0x44f244+'\x22\x20'+(_0x44f244===_0x4fee58[_0x373c98(0xcd4)]?_0x373c98(0x4d7):'')+_0x373c98(0x11f)+_0x12c987+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x373c98(0x922)]('');_0x5c89b5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>'+_0x529375+_0x373c98(0x22b);break;case _0x373c98(0x8f8):case _0x373c98(0xc34):_0x5c89b5=_0x373c98(0x928)+(_0x4fee58[_0x373c98(0xd16)]||'')+_0x373c98(0x79b);if(_0x1914e6){const _0x3f8a3d=(_0x4fee58['options']||[])[_0x373c98(0x283)]((_0x4f1b9c,_0x2e3979)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-'+_0x255e10+_0x373c98(0x39d)+_0x2e3979+'\x22\x20'+(_0x2e3979===_0x4fee58[_0x373c98(0xcd4)]?'checked':'')+_0x373c98(0xae2)+_0x4f1b9c+_0x373c98(0x662))[_0x373c98(0x922)]('');_0x5c89b5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>'+_0x3f8a3d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}break;case _0x373c98(0x206):_0x5c89b5=_0x373c98(0xb81)+_0x255e10+_0x373c98(0xb4)+(_0x4fee58['correctAnswer']===!![]?_0x373c98(0x4d7):'')+_0x373c98(0x8fa)+_0x255e10+_0x373c98(0xc53)+(_0x4fee58[_0x373c98(0x124)]===![]?_0x373c98(0x4d7):'')+_0x373c98(0x389);break;case'matching_item':_0x5c89b5=_0x373c98(0x489)+(_0x4fee58[_0x373c98(0x9b7)]||'')+_0x373c98(0x8c2);break;}let _0x2ec09f=_0x4fee58[_0x373c98(0x3ab)]||_0x4fee58[_0x373c98(0x23b)]||'';_0x2ec09f=_0x2ec09f['replace'](/<br\s*\/?>/gi,'\x0a');let _0x5e2928='';if(_0xcbba2d===_0x373c98(0xc7b))_0x5e2928=_0x373c98(0xcad);else _0x1914e6&&(_0x5e2928='<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x255e10+_0x373c98(0xa6f)+_0xcbba2d+_0x373c98(0x1bc)+_0x5e2928+'\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x255e10+0x1)+'\x20('+_0xcbba2d+_0x373c98(0x4bf)+_0x2ec09f+_0x373c98(0x952)+_0x5c89b5+_0x373c98(0x68f);})[_0x1f3783(0x922)]('');_0x356dc7[_0x1f3783(0x22a)]=_0x9fa664;const _0x408ec5=_0x1f3783(0x3a3);_0x356dc7['insertAdjacentHTML'](_0x1f3783(0xd15),_0x408ec5),_0x356dc7[_0x1f3783(0xb9f)](_0x1f3783(0x798))[_0x1f3783(0x3f4)](_0x1c22bc=>{const _0xc6888a=_0x1f3783;_0x1c22bc[_0xc6888a(0x220)]['overflowY']=_0xc6888a(0x1c9),_0x1c22bc['style'][_0xc6888a(0x573)]='100px',_0x1c22bc['rows']=0x4;const _0x13f05f=()=>{const _0x14e233=_0xc6888a;_0x1c22bc[_0x14e233(0x220)][_0x14e233(0x810)]=_0x14e233(0x1c4),_0x1c22bc[_0x14e233(0x220)][_0x14e233(0x810)]=_0x1c22bc[_0x14e233(0xd09)]+'px';};_0x1c22bc[_0xc6888a(0x38d)]('input',_0x13f05f),_0x13f05f();}),_0x356dc7[_0x1f3783(0xb9f)](_0x1f3783(0x184))[_0x1f3783(0x3f4)](_0x56ce0b=>{const _0x48cf56=_0x1f3783;_0x56ce0b[_0x48cf56(0x38d)]('click',handleAiFixQuestion);}),_0x356dc7[_0x1f3783(0xb9f)](_0x1f3783(0xe30))['forEach'](_0x2ae308=>{const _0x19d3a7=_0x1f3783;_0x2ae308[_0x19d3a7(0x38d)](_0x19d3a7(0x9b4),_0x1ecc1f=>{const _0x1b6681=_0x19d3a7,_0x352916=parseInt(_0x1ecc1f[_0x1b6681(0x4e1)][_0x1b6681(0x575)](_0x1b6681(0x1ec))[_0x1b6681(0x5fd)][_0x1b6681(0x563)],0xa);handleAiFixFormula(_0x352916);});}),_0x356dc7[_0x1f3783(0xb9f)](_0x1f3783(0xe03))[_0x1f3783(0x3f4)](_0x418a3b=>{const _0x3d7e34=_0x1f3783;_0x418a3b[_0x3d7e34(0x38d)](_0x3d7e34(0x9b4),_0x34b270=>{const _0x114b88=_0x3d7e34,_0x4d871c=parseInt(_0x34b270[_0x114b88(0x4e1)][_0x114b88(0x575)](_0x114b88(0x1ec))[_0x114b88(0x5fd)][_0x114b88(0x563)],0xa);handleToggleHiddenOptions(_0x4d871c);});});}function handleToggleHiddenOptions(_0x5b79cf){const _0x482db4=_0xc7d29a;if(!currentEditingQuizData||!currentEditingQuizData[_0x482db4(0x763)][_0x5b79cf])return;const _0x19dceb=currentEditingQuizData[_0x482db4(0x763)][_0x5b79cf],_0x3eb580=_0x19dceb[_0x482db4(0xd53)]||_0x482db4(0xc7b),_0x4ba1c2=document[_0x482db4(0x947)]('.question-editor-item[data-q-index=\x22'+_0x5b79cf+'\x22]');if(_0x4ba1c2){_0x19dceb[_0x482db4(0x3ab)]=_0x4ba1c2[_0x482db4(0x947)]('textarea')[_0x482db4(0xb66)];if(_0x3eb580===_0x482db4(0xc7b)){const _0x8be2e5=_0x4ba1c2['querySelectorAll'](_0x482db4(0x339));_0x19dceb[_0x482db4(0x764)]=Array['from'](_0x8be2e5)[_0x482db4(0x283)](_0x3a750c=>_0x3a750c[_0x482db4(0xb66)]);const _0x3154d7=_0x4ba1c2[_0x482db4(0x947)](_0x482db4(0x550));if(_0x3154d7)_0x19dceb[_0x482db4(0xcd4)]=parseInt(_0x3154d7['value']);}else{if(_0x3eb580==='short_answer'||_0x3eb580===_0x482db4(0x8f8)){const _0x38bcec=_0x4ba1c2[_0x482db4(0x947)](_0x482db4(0x6ad));if(_0x38bcec)_0x19dceb[_0x482db4(0xd16)]=_0x38bcec[_0x482db4(0xb66)];const _0x96054a=_0x4ba1c2[_0x482db4(0xb9f)](_0x482db4(0x8c1));_0x96054a['length']>0x0&&(_0x19dceb[_0x482db4(0x764)]=Array[_0x482db4(0x617)](_0x96054a)[_0x482db4(0x283)](_0x4fa034=>_0x4fa034['value']));}}}_0x3eb580==='multiple_choice'?(_0x19dceb[_0x482db4(0xd53)]='short_answer',_0x19dceb['options']&&_0x19dceb[_0x482db4(0xcd4)]!==undefined&&(_0x19dceb[_0x482db4(0xd16)]=_0x19dceb[_0x482db4(0x764)][_0x19dceb[_0x482db4(0xcd4)]]||'')):_0x19dceb[_0x482db4(0xd53)]='multiple_choice',renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x28f31d){const _0x6170ca=_0xc7d29a;if(!currentEditingQuizData||!currentEditingQuizData['questions'][_0x28f31d])return;const _0xdd4ff6=currentEditingQuizData[_0x6170ca(0x763)][_0x28f31d][_0x6170ca(0x3ab)]||currentEditingQuizData[_0x6170ca(0x763)][_0x28f31d][_0x6170ca(0x23b)];showConfirmation(_0x6170ca(0xc7f)+(_0x28f31d+0x1)+'\x20(\x22'+_0xdd4ff6[_0x6170ca(0x299)](0x0,0x14)+_0x6170ca(0xe12),()=>{const _0x31abce=_0x6170ca;currentEditingQuizData[_0x31abce(0x763)][_0x31abce(0xfe)](_0x28f31d,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x31abce(0xb8));});}function handleAddQuestionInEditor(){const _0x1953ae=_0xc7d29a;if(!currentEditingQuizData)return;const _0x585661=document[_0x1953ae(0x8cb)](_0x1953ae(0x683)),_0x331c31=_0x585661?_0x585661[_0x1953ae(0xb66)]:_0x1953ae(0xc7b);let _0x502e93={'id':'q_'+Date[_0x1953ae(0x2da)]()+'_new','questionType':_0x331c31,'questionText':'---\x20[คำถามใหม่]\x20---','explanation':_0x1953ae(0xb70)};switch(_0x331c31){case _0x1953ae(0xc7b):_0x502e93['options']=[_0x1953ae(0x260),_0x1953ae(0x2a4),_0x1953ae(0xb01),_0x1953ae(0x6e7)],_0x502e93[_0x1953ae(0xcd4)]=0x0;break;case _0x1953ae(0xc34):case _0x1953ae(0x8f8):_0x502e93[_0x1953ae(0xd16)]='คำตอบที่ถูกต้อง';break;case _0x1953ae(0x206):_0x502e93[_0x1953ae(0x124)]=!![];break;case _0x1953ae(0x6cf):_0x502e93['stem']=_0x1953ae(0xa7d),_0x502e93[_0x1953ae(0x9b7)]=_0x1953ae(0xbf8),_0x502e93[_0x1953ae(0x3ab)]=_0x1953ae(0xa7d);break;}currentEditingQuizData['questions'][_0x1953ae(0x77f)](_0x502e93),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0x4eda73=_0x1953ae,_0x38ef8e=document[_0x4eda73(0x947)](_0x4eda73(0xe31));if(_0x38ef8e){_0x38ef8e[_0x4eda73(0x816)]({'behavior':_0x4eda73(0x10f),'block':'center'});const _0x4d3aa7=_0x38ef8e[_0x4eda73(0x947)](_0x4eda73(0x147));if(_0x4d3aa7)_0x4d3aa7[_0x4eda73(0x663)]();}},0x64);}async function handleAiFixQuestion(_0xbce39e){const _0x1853c9=_0xc7d29a,_0x46d4b1=_0xbce39e[_0x1853c9(0x4e1)],_0x699fe1=_0x46d4b1['closest'](_0x1853c9(0x1ec));if(!_0x699fe1)return;const _0x4824bc=parseInt(_0x699fe1[_0x1853c9(0x5fd)]['qIndex'],0xa);if(isNaN(_0x4824bc)||!currentEditingQuizData[_0x1853c9(0x763)][_0x4824bc]){showMessage(_0x1853c9(0x5f1));return;}const _0x29d3fd=currentEditingQuizData['questions'][_0x4824bc];_0x46d4b1[_0x1853c9(0x22a)]=_0x1853c9(0x6fe),_0x46d4b1[_0x1853c9(0xc2b)]=!![];const _0x36f95d=_0x1853c9(0xc31)+JSON['stringify'](_0x29d3fd)+_0x1853c9(0x2a1);let _0x17e8ae;const _0x40622c=_0x29d3fd[_0x1853c9(0xd53)]||currentEditingQuizData['quizType'];switch(_0x40622c){case _0x1853c9(0xc34):_0x17e8ae={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x1853c9(0x47b)},'explanation':{'type':_0x1853c9(0x47b)},'imageCode':{'type':'STRING'}},'required':[_0x1853c9(0x3ab),_0x1853c9(0xd16),_0x1853c9(0x9f2)]};break;case'multiple_choice':default:_0x17e8ae={'type':'OBJECT','properties':{'questionText':{'type':_0x1853c9(0x47b)},'options':{'type':_0x1853c9(0x991),'items':{'type':_0x1853c9(0x47b)}},'correctAnswerIndex':{'type':_0x1853c9(0x894)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1853c9(0x47b)}},'required':[_0x1853c9(0x3ab),'options','correctAnswerIndex',_0x1853c9(0x9f2)]};break;}try{let _0x2baa65=await callAnalysisApi(_0x36f95d,_0x17e8ae);_0x2baa65['options']&&Array['isArray'](_0x2baa65[_0x1853c9(0x764)])&&(_0x2baa65[_0x1853c9(0x764)]=_0x2baa65[_0x1853c9(0x764)][_0x1853c9(0x283)](_0x2bd4d5=>typeof _0x2bd4d5===_0x1853c9(0xcdc)?_0x2bd4d5[_0x1853c9(0xb91)](/S(\s*[\d_]+?\s*)S/g,_0x1853c9(0xbf5)):_0x2bd4d5)),_0x29d3fd['imageCode']&&_0x29d3fd[_0x1853c9(0xb24)][_0x1853c9(0xd33)](_0x1853c9(0x3cf))&&(_0x2baa65['imageCode']=''),currentEditingQuizData['questions'][_0x4824bc]={..._0x29d3fd,..._0x2baa65},renderQuizEditor(currentEditingQuizData),showMessage(_0x1853c9(0x712));}catch(_0x4cebcb){console[_0x1853c9(0x3e8)](_0x1853c9(0x6a5),_0x4cebcb),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x1d2278=_0xc7d29a,_0x468585=document[_0x1d2278(0x8cb)](_0x1d2278(0xcd0));_0x468585[_0x1d2278(0xc2b)]=!![],_0x468585[_0x1d2278(0x22a)]=_0x1d2278(0x2ba);try{const _0x399c83=document[_0x1d2278(0x8cb)]('editor-quiz-topic')['value'],_0x594895=document['querySelectorAll']('.question-editor-item');let _0x5988e9=[];const _0x22df4b=Array[_0x1d2278(0x617)](_0x594895)[_0x1d2278(0x283)]((_0x1d834b,_0x4d4c14)=>{const _0x1c7ece=_0x1d2278,_0x4afc6d=_0x1d834b['dataset'][_0x1c7ece(0x41b)],_0x268306=_0x1d834b['querySelector']('textarea')[_0x1c7ece(0xb66)][_0x1c7ece(0xb91)](/\n/g,'<br>');let _0xc4ea4f={'questionType':_0x4afc6d};const _0x42da0b=currentEditingQuizData[_0x1c7ece(0x763)][_0x4d4c14]||{};switch(_0x4afc6d){case _0x1c7ece(0xc7b):_0xc4ea4f['questionText']=_0x268306;const _0x2210d4=_0x1d834b['querySelectorAll'](_0x1c7ece(0x339));_0xc4ea4f['options']=Array[_0x1c7ece(0x617)](_0x2210d4)[_0x1c7ece(0x283)](_0xb53ae2=>_0xb53ae2[_0x1c7ece(0xb66)]);const _0x228bd6=_0x1d834b[_0x1c7ece(0x947)](_0x1c7ece(0x550));_0xc4ea4f[_0x1c7ece(0xcd4)]=_0x228bd6?parseInt(_0x228bd6[_0x1c7ece(0xb66)]):0x0;break;case _0x1c7ece(0x8f8):case _0x1c7ece(0xc34):_0xc4ea4f['questionText']=_0x268306,_0xc4ea4f[_0x1c7ece(0xd16)]=_0x1d834b[_0x1c7ece(0x947)](_0x1c7ece(0x6ad))[_0x1c7ece(0xb66)];const _0x393e60=_0x1d834b[_0x1c7ece(0xb9f)](_0x1c7ece(0x8c1));_0x393e60[_0x1c7ece(0x3bb)]>0x0?(_0xc4ea4f[_0x1c7ece(0x764)]=Array['from'](_0x393e60)[_0x1c7ece(0x283)](_0x40475c=>_0x40475c[_0x1c7ece(0xb66)]),_0x42da0b['correctAnswerIndex']!==undefined?_0xc4ea4f[_0x1c7ece(0xcd4)]=_0x42da0b[_0x1c7ece(0xcd4)]:_0xc4ea4f['correctAnswerIndex']=0x0):(delete _0xc4ea4f[_0x1c7ece(0x764)],delete _0xc4ea4f[_0x1c7ece(0xcd4)]);break;case _0x1c7ece(0x206):_0xc4ea4f['questionText']=_0x268306;const _0x27362a=_0x1d834b['querySelector']('input[type=\x22radio\x22]:checked');_0xc4ea4f[_0x1c7ece(0x124)]=_0x27362a?_0x27362a[_0x1c7ece(0xb66)]==='true':!![];break;case _0x1c7ece(0x6cf):_0xc4ea4f[_0x1c7ece(0x23b)]=_0x268306;const _0x1b7827=_0x1d834b[_0x1c7ece(0x947)](_0x1c7ece(0xe2f));_0xc4ea4f[_0x1c7ece(0x9b7)]=_0x1b7827?_0x1b7827[_0x1c7ece(0xb66)]:'',_0x5988e9[_0x1c7ece(0x77f)](_0xc4ea4f[_0x1c7ece(0x9b7)]);break;default:_0xc4ea4f[_0x1c7ece(0x3ab)]=_0x268306;break;}return{..._0x42da0b,..._0xc4ea4f};});_0x5988e9['length']>0x0&&_0x22df4b[_0x1d2278(0x3f4)](_0x3f9db5=>{const _0x4b1f88=_0x1d2278;_0x3f9db5[_0x4b1f88(0xd53)]===_0x4b1f88(0x6cf)&&(_0x3f9db5[_0x4b1f88(0x872)]=_0x5988e9);});const _0x40f7ea=currentEditingQuizData['id'],_0x2546fc=doc(db,_0x1d2278(0x9c2)+appId+_0x1d2278(0x843),_0x40f7ea);await updateDoc(_0x2546fc,{'topic':_0x399c83,'questions':_0x22df4b}),document[_0x1d2278(0x8cb)](_0x1d2278(0x58e))[_0x1d2278(0x144)]['add']('hidden'),showMessage(_0x1d2278(0xc1),()=>initiateReGradeProcess(_0x40f7ea));}catch(_0x1bb18d){console['error'](_0x1d2278(0x150),_0x1bb18d),showMessage(_0x1d2278(0x5e1));}finally{_0x468585[_0x1d2278(0xc2b)]=![],_0x468585['innerHTML']=_0x1d2278(0x974);}}async function initiateReGradeProcess(_0x55127e){const _0x51a030=_0xc7d29a;showMessage(_0x51a030(0xaa6));try{const _0x2716ba=doc(db,'artifacts/'+appId+_0x51a030(0x843),_0x55127e),_0x2f98f7=await getDoc(_0x2716ba);if(!_0x2f98f7[_0x51a030(0x45f)]())throw new Error(_0x51a030(0x47c));const _0x163692={'id':_0x55127e,..._0x2f98f7[_0x51a030(0x241)]()},_0x1fd52c=collection(db,_0x51a030(0x9c2)+appId+'/public/data/quizzes',_0x55127e,_0x51a030(0xc26)),_0x1fa9de=await getDocs(_0x1fd52c);if(_0x1fa9de[_0x51a030(0x7de)]){showMessage(_0x51a030(0xb5f));return;}const _0x3d03b5=_0x1fa9de[_0x51a030(0xd86)][_0x51a030(0x283)](_0x6fb473=>reGradeSingleSubmission(_0x6fb473,_0x163692));await Promise[_0x51a030(0x1fd)](_0x3d03b5);if(_0x163692['projectId']){const _0x1aa2d9=doc(db,'artifacts/'+appId+'/public/data/projects',_0x163692[_0x51a030(0x8d2)]),_0xcb109b=await getDoc(_0x1aa2d9);if(_0xcb109b[_0x51a030(0x45f)]()&&_0xcb109b[_0x51a030(0x241)]()['students']){const _0x2e864a=_0xcb109b[_0x51a030(0x241)]()[_0x51a030(0xa0d)][_0x51a030(0x283)](_0x19feb3=>updateStudentProfile(_0x163692['projectId'],_0x19feb3));await Promise['all'](_0x2e864a);}}showMessage(_0x51a030(0x1c2)+_0x1fa9de[_0x51a030(0x63f)]+_0x51a030(0x9a2));}catch(_0x4ffa0a){console['error'](_0x51a030(0x62d),_0x4ffa0a),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x4ffa0a[_0x51a030(0xd5f)]);}}async function reGradeSingleSubmission(_0x337819,_0x21483d){const _0x46e938=_0xc7d29a,_0x516593=_0x337819[_0x46e938(0x241)](),_0x435492=_0x516593['studentName'],_0x3f4de9=_0x516593['attempts']||[],_0x2c3dce=[];for(const _0x38e796 of _0x3f4de9){let _0x15f676=0x0,_0x32f2de=[],_0x470b94=0x0;const _0xb5e32d=[];for(const _0xddf4d1 of _0x38e796[_0x46e938(0xea)]){let _0x28ea44;_0xddf4d1[_0x46e938(0x1f0)]&&(_0x28ea44=_0x21483d[_0x46e938(0x763)][_0x46e938(0x7d2)](_0x4c0774=>_0x4c0774['id']===_0xddf4d1[_0x46e938(0x1f0)]));!_0x28ea44&&_0xddf4d1[_0x46e938(0x37d)]&&(_0x28ea44=_0x21483d[_0x46e938(0x763)][_0x46e938(0x7d2)](_0x405bb5=>(_0x405bb5[_0x46e938(0x23b)]||_0x405bb5[_0x46e938(0x3ab)])===_0xddf4d1[_0x46e938(0x37d)]));let _0x3d9d26=![];if(_0x28ea44){const _0x2895ba=_0x28ea44[_0x46e938(0xd53)]||_0x21483d[_0x46e938(0x7f3)];switch(_0x2895ba){case _0x46e938(0xc7b):if(_0x28ea44[_0x46e938(0x764)]&&_0x28ea44['correctAnswerIndex']<_0x28ea44[_0x46e938(0x764)][_0x46e938(0x3bb)]){const _0x1a4e4b=_0x28ea44[_0x46e938(0x764)][_0x28ea44[_0x46e938(0xcd4)]];_0x3d9d26=_0xddf4d1[_0x46e938(0xa72)]===_0x1a4e4b;}break;case'true_false':const _0x41dbc0=_0xddf4d1['answer']===!![]||_0xddf4d1[_0x46e938(0x2b9)]==='true';_0x3d9d26=_0x41dbc0===_0x28ea44[_0x46e938(0x124)];break;case _0x46e938(0x6cf):_0x3d9d26=_0xddf4d1[_0x46e938(0x2b9)]===_0x28ea44[_0x46e938(0x9b7)];break;case'short_answer':_0x3d9d26=await gradeShortAnswer(_0xddf4d1['answer'],_0x28ea44);break;default:_0x3d9d26=_0xddf4d1['isCorrect'];break;}}if(_0x3d9d26){_0x15f676++,_0x470b94++;if(_0x470b94===0x3)_0x32f2de[_0x46e938(0x77f)](BADGES[_0x46e938(0x60f)]['id']);}else _0x470b94=0x0;_0xb5e32d[_0x46e938(0x77f)]({..._0xddf4d1,'isCorrect':_0x3d9d26});}let _0x29915a=0x0;const _0x2e4f5f=_0x38e796[_0x46e938(0x219)]===!![]||_0x38e796['points']>_0x21483d[_0x46e938(0x763)][_0x46e938(0x3bb)]*0x14;_0x2e4f5f?_0x29915a=_0x38e796[_0x46e938(0x5c8)]:(_0x29915a=_0x15f676*0xa,_0x15f676===_0x21483d[_0x46e938(0x763)]['length']&&(_0x29915a+=0x32,_0x32f2de[_0x46e938(0x77f)](BADGES[_0x46e938(0xa28)]['id']))),_0x2c3dce[_0x46e938(0x77f)]({..._0x38e796,'score':_0x15f676,'points':_0x29915a,'badges':Array[_0x46e938(0x617)](new Set(_0x32f2de)),'answers':_0xb5e32d});}const _0x2fc947=_0x2c3dce['length']>0x0?_0x2c3dce[0x0][_0x46e938(0x1f9)]:0x0,_0x40a50c=Math[_0x46e938(0xa73)](..._0x2c3dce[_0x46e938(0x283)](_0x5b7acf=>_0x5b7acf[_0x46e938(0x1f9)])),_0x25ec5c=_0x2c3dce[_0x46e938(0x3bb)]>0x0?_0x2c3dce[_0x2c3dce[_0x46e938(0x3bb)]-0x1]['score']:0x0,_0x5b7980=_0x2c3dce[_0x46e938(0x3bb)]>0x0?_0x2c3dce[_0x2c3dce[_0x46e938(0x3bb)]-0x1][_0x46e938(0x5c8)]:0x0,_0x29d1d0=doc(db,_0x46e938(0x9c2)+appId+_0x46e938(0x360)+_0x21483d['id']+_0x46e938(0x17c),_0x435492);await updateDoc(_0x29d1d0,{'attempts':_0x2c3dce,'firstScore':_0x2fc947,'bestScore':_0x40a50c,'latestScore':_0x25ec5c,'points':_0x5b7980});}function _0x4368(){const _0x14d5bf=['cutOne','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-join-game-btn','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','tool','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','currentPoints','ตลาดมืด\x20(','<i\x20class=\x22fas\x20fa-pen\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','รอเปิด','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','secondChance','removeEventListener','00:00','check-presentation-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-1\x20sm:gap-3\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pen-tools-group','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','setItem','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','หัวข้อที่สร้างเอง','toLowerCase','pinned-items','confirm-link-quiz-btn','blueprint.pdf','.color-palette-btn','.toggle-hidden-options-btn','274192258111','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','.compare-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#open-additional-shortcuts-btn','project-search-input','\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>(ตอบถูก\x20x2\x20/\x20ตอบผิดเสียเงินเข้ากองกลาง!)</span></div>','isConfidenceScoringEnabled','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','connect','.pdf','text-indigo-700','<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','...\x22)?','</td>','generate-from-blueprint-btn','\x5ctimes',',\x20r=','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','\x22><i\x20class=\x22fas\x20','การแยกตัวประกอบ','text-red-800','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','ค่าความจริง/ตารางค่าความจริง','ไม่ใช่','ไม่พบโปรเจค','ผู้ไม่ยอมแพ้','font-bold\x20text-green-700','flex','บันทึกแบบทดสอบสำเร็จแล้ว!','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','start-sync-game-btn','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','ครูใหญ่','file-shortcut-editor-modal','groups','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','-tab','.correct-response-input','.ai-fix-formula-btn','.question-editor-item:last-of-type','show_results_only','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','include-images-checkbox','quiz-form','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','คัดลอกแบบทดสอบสำเร็จ','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22',')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','Error\x20loading\x20user\x20preferences:','project-quizzes-list','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','G-V90KRM0L63','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','random','timerMode','ท็อปฟอร์ม','.remove-parallel-shortcut-from-tab-btn','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20sort\x20preference:','behaviorLog','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','student-progress','pointer-events-none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20scale-110\x22>','slice','พาราโบลา','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','ส้มตำปูปลาร้า','<div\x20class=\x22loader\x20mx-auto\x22></div>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','.quiz-bank-item','ดีเทอร์มิแนนต์','\x20to\x20','จากไฟล์ที่แนบมานี้,\x20','answerValue','รูปแบบการให้เหตุผล','ปล่อยพลัง','bg-red-500\x20text-white\x20font-bold','<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>','อนุพันธ์:\x20กฎพื้นฐาน','project-name-input','slide-counter','-9999px','grabbing','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ผ่าน','back-to-home-manual-release','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','write','<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','fa-pen','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','math-topics-checkbox-container','shortcuts-loading-msg','sync-timer-duration-input','itemId','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','Successfully\x20removed\x20','close-responder-overlay','.\x20มีตัวเลือก\x20','แบบเติมคำตอบ','finishReason','Error\x20joining\x20live\x20game:','wakeLock','multiply','บทเรียน','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','input[type=\x22checkbox\x22]','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','text-red-600','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','blueprint-project-manager-view','\x22\x20value=\x22true\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isRemedial','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22order-badge\x20bg-indigo-600\x20text-white\x20text-xs\x20font-bold\x20px-2\x20py-1\x20rounded-full\x20hidden\x20shadow-sm\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div><p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p></div>','สถิติและความน่าจะเป็น','devicePixelRatio','\x5cfrac{$1}{$2}','Error\x20in\x20handleApiCall:','<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ</button></div>','การบวก','answer-counter','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','</span>:\x20','.group','quiz-id-input','analyze-strengths-btn','#6366F1','ส่วนเบี่ยงเบนเฉลี่ย','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','จอมเวทย์ขนมหวาน','stroke','getDocument','AI\x20request\x20was\x20blocked.\x20Reason:\x20','.topic-actions-edit','close-topic-bank-btn','.topic-category','POST','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','Error\x20submitting\x20team\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มปุ่มลัดใหม่','7453976OKfxRX','\x20คะแนน\x20(','save-settings-btn','separate-by-content-from-file-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','ความสัมพันธ์ของมุม','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-shortcut-name-input','close-market-btn','teachingContent','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','answers','สาระที่\x201','#ffffff','ตัวประกอบและตัวประกอบเฉพาะ','medium','hasPerfectScoreBonus','manual_release','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','bg-green-400\x20text-white\x20font-bold','นักดนตรี','ปวดหลัง','Error\x20deleting\x20topic:','playerIndex','\x20รายการเรียบร้อยแล้ว','.doc','add-from-global-bank-btn','analytics-tab-content','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','generated-quiz-container','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','splice','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','parallel-shortcut-name-input','Error\x20moving\x20quiz:','Error\x20saving\x20to\x20question\x20bank:','บันทึกคำถามใหม่\x20','input[name=\x22syncVariant\x22]','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','category','result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','นักกีฬา','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','smooth','topic-input','curriculum','\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cropped_image.png','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','นักเขียน','Error\x20saving\x20lesson\x20to\x20project:','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','shuffle','ชื่อหัวข้อห้ามว่าง','dataIndex','responses','export-leaderboard-image-btn','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้?','</p></div>','questionStatus','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','correctAnswer','s;\x22\x20title=\x22','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','เกิดข้อผิดพลาดในการซื้อ','จับคู่แบบทดสอบสำเร็จ!','next-question-btn','set','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัศวินรัตติกาล','goto-next-question-btn','SAFETY','lobby','ondragend','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','Error\x20analyzing\x20blueprint\x20topics:','\x5cpm','showAnswerInAnonymous','<tr><td\x20colspan=\x2211\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','q-text-','close-lesson-plan-modal-footer-btn','.pin-digit-box','tooltipTarget','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x22,\x20','use-powerup-wagerMultiplier','1:274192258111:web:4120c9118229b5644dd48a','reveal-answer-btn','\x20จุดเรียบร้อยแล้ว','</span>\x20/\x20','bestScore','classList','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','onkeydown','textarea','bulk-delete-submissions-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','ไม่มีผู้ตอบตัวเลือกนี้','players','เงาปริศนา','file-shortcuts-loading-msg','Error\x20saving\x20quiz\x20edits:','add-custom-math-topic-btn','\x20|\x20ID:\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','quiz-bank-count','.delete-hidden-shortcut-btn','/3</span></div>','bulk-shuffle-select','(รอคะแนน)','การหารเศษส่วน','bg-[#EF4444]\x20text-white\x20font-bold','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','select','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','subTopics','jspdf','results-table','bg-green-500','perQuestionStats','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','comparison','start-presentation-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','confirm-delete-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','.linkedQuizIds','export-lesson-pdf-btn','createElementNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x20leading-tight\x20max-w-5xl\x22>','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','มัธยฐาน',')\x22><span\x20style=\x22','badges','badgesToAdd','fixedData','powerups.','grid-view-btn','editable-quiz-topic','บันทึกโปรเจค\x20\x22','/submissions','parentElement','pen-tool-btn','text-green-600','คาถาแยกเงาพันร่าง','key','rgba(16,\x20185,\x20129,\x200.7)','rgba(239,\x2068,\x2068,\x200.9)','.ai-fix-question-btn','ดาวTikTok','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','frac','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','ai-quiz-app-aefee.firebasestorage.app','bg-red-100\x20text-red-900','.bp-game-btn','.quiz-bank-try-btn','\x20คนสุดท้าย!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-3xl\x20font-extrabold\x20text-yellow-300\x20tracking-wide\x20drop-shadow-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','option','reference.pdf','cancel-blueprint-projects-btn','</p><p><strong>เฉลย:</strong>\x20','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','usedBuyTime','bulk-quiz-settings-modal','#FEF3C7','bank-quiz-list','text-content-input','latestSubmittedAt','isForcedConfident','lesson-sections-container','</li>','\x20Pot</span>','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','กำลังสร้างบทเรียน:\x20','powerupUsed','.pin-key','\x22\x20class=\x22color-palette-btn\x20','sync-manage-players-btn','ดาวสภา','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','sync-player-list','wheel','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','Error\x20creating\x20project:','bottom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','save-bp-settings-btn','textContent','ดอกเบี้ยทบต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','confirm-move-quiz-btn','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','#D1FAE5','จำนวนเต็มลบ','\x20<span\x20class=\x22text-orange-400\x20font-bold\x20animate-pulse\x20ml-1\x20text-lg\x20drop-shadow-sm\x22>🔥\x20x','passingScore','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','สอบซ่อม','fill','Error\x20listening\x20for\x20starred\x20quizzes:','\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','ceil','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600\x20font-bold','ตรวจคะแนนใหม่\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','auto','ลาเต้ไม่หวาน','button','save-parallel-shortcut-btn','temp-loader-results','hidden','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','การแจกแจงปกติและ\x20z-score','blob','authed_project_','touchstart','move-quiz-project-select','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','text-yellow-300','</div>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อนักเรียน','pointerdown','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','right','.quiz-bank-parallel-btn','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.move-file-shortcut-item','👁️','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','กฎบวกและกฎคูณ','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac','\x20ชุด)','Error\x20generating\x20from\x20parallel\x20test\x20file:','generated','confirm-quiz-settings-btn','black-market-settings-container','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.quiz-bank-delete-btn','ไม่พบโปรเจคที่ต้องการลบ','<i\x20class=\x22fas\x20fa-save\x22></i>','.question-editor-item','createGain','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','raw','questionId','><span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span></button>','delete','custom-math-topic-input','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','bp-modal-num-choices','<button\x20data-shortcut-id=\x22','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','questionDisplayedAt','score','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','all','studentName','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x20ml-1\x20hover:bg-red-500/20\x20rounded-full\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>','คะแนนเฉลี่ย','finished','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','badgesCount','$1\x5c%','check-answer-btn','true_false','z-index:\x20','parse','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','status','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','ไม่พบแบบทดสอบสำหรับรหัสนี้','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','currentMode','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','prev-question-btn','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','คำถามดิบ:\x20\x22','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-600\x20text-white\x20text-center\x20py-4\x20px-6\x20rounded-xl\x20shadow-2xl\x20animate-pulse\x20border-4\x20border-red-800\x20relative\x20overflow-hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-0\x20left-0\x20w-full\x20h-full\x20bg-white\x20opacity-10\x20transform\x20-skew-x-12\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20mb-2\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-shipping-fast\x20fa-lg\x22></i>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>รออีก\x20','subTopic','text-purple-600','AI\x20grading\x20failed:','isSyncGame','comparison-individual-tab','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','.eraser-size-btn','เกิดข้อผิดพลาด','div[data-question-index=\x22','style','cancel-test-btn','confirm-game-start-modal','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','publicLeaderboard','toString','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','sawtooth','<div\x20class=\x22my-6\x22>','innerHTML','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.png','\x22\x20title=\x22','file-shortcut-tabs-nav','generationConfig','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','results-tab','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x20mr-2\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','การบวกเศษส่วน','stem','🌗\x2050:50','file-topics-list-container','perfect_score','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','data','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','</tbody></table></div>','close-additional-parallel-shortcuts-btn','/public/data/practiceBank','selected-text-','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','comparison-overall-tab','Error\x20joining\x20sync\x20game:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','student','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','whole_quiz','fontWeight','แก้ระบบสมการด้วยเมทริกซ์','ความคาดหมาย\x20(Expected\x20value)','type','quiz','bg-indigo-50','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','การประยุกต์เวกเตอร์พื้นฐาน','ไฟล์ลัด\x201','bg-[#DCFCE7]\x20text-green-900','.game-start-btn','\x5cle','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับโปรเจค:\x20','ตัวเลือก\x20ก','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ','lowerGroupResponders','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','.ideal-answer-input,\x20.correct-response-input','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','Error\x20updating\x20quiz\x20settings:','1054264bwhblB','modal-results-display-select','<span\x20class=\x22text-yellow-200\x20font-bold\x22>','\x20quizzes\x20into\x20global\x20cache.','projectSort','presentation-slide-container','<span\x20title=\x22โดนคำสาป\x22>😈</span>','#file-shortcut-tabs-nav\x20.tab-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','NEGATIVE_INFINITY','passcode','table','generate-from-topic-btn','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างคำถามข้อ\x20','player-list-lobby','modal-timer-mode-select','redo-btn','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','ยังไม่ส่ง','text-blue-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','confidence-mode-container','disabled\x20bg-gray-400\x20cursor-not-allowed','map','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','projectSortOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','เรขาคณิต','student-project-leaderboard-content','toDataURL','additional-shortcuts-modal','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','พลังคลื่นเต่า','gameData','draggable-text','All\x20groups\x20have\x20finished.\x20Ending\x20game.','correctStreak','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','จำนวนคละ','export-leaderboard-word-btn','shortcutIds','การกระจายและการจัดหมู่','substring','global-quiz-search-input','blockReason','!\x20ข้อมูลของคุณถูกกู้คืนแล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','Error\x20rendering\x20student\x20progress:','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','<input\x20type=\x22checkbox\x22\x20class=\x22submission-checkbox\x20h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x20cursor-pointer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pin-entry-modal','ตัวเลือก\x20ข','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','isCorrect','label','แก้ไข\x20Points\x20ของ\x20','countdown-display','move','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','quiz-editor-questions-container','</span><span\x20class=\x22font-bold\x22>','border-gray-300','Failed\x20to\x20generate\x20practice\x20test:','Failed\x20to\x20kick\x20player\x20','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','ผิด','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','.quiz-bank-move-btn','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','answer','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','leaderboard-table-body','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20','game-start-modal-title','student-quiz-topic','export-leaderboard-excel-btn','<span\x20title=\x22ใช้ไอเทม\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','gradeLevel','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','team-student-list','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','OBJECT','scratchpad-modal','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-tab','\x5ctext','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','#parallel-shortcut-tabs-nav\x20.tab-name-input','reviewQuestionIndex','\x20แล้ว!','อุณหภูมิและการแปลง','#F3E8FF','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สมการยกกำลัง','now','shortcut-editor-modal','keyup','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','text-gray-300\x20hover:text-white','กรุณาเลือกคำตอบของกลุ่ม','.project-card-container.opacity-50','comparison-individual-content','ยินดีต้อนรับกลับ\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20blueprint\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>','upperGroupNames','choices_only','/public/data/blueprintProjects/','anonymous','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','_opt','pen','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22','Loaded\x20','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','เต่าสายฟ้า','Error\x20updating\x20project\x20name:','กุ้งเต้นแร้งกา','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','text-white','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','confidence-modal','</form>','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','Error\x20displaying\x20blueprint\x20project:','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','price','.delete-question-editor-btn','เลือกและบันทึก','ใช่','คนดีศรีสยาม','MathJax\x20re-render\x20failed:','confidence-input-','bg-red-100\x20text-red-800','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','.use-hidden-file-shortcut-btn','.cancel-edit-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','input[type=\x22radio\x22][value=\x22','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20w-full\x20max-w-4xl\x20mx-auto\x20px-4\x20fade-in\x22\x20id=\x22slow-responder-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-600\x20text-white\x20text-center\x20py-3\x20px-6\x20rounded-xl\x20shadow-2xl\x20animate-pulse\x20border-4\x20border-red-800\x20relative\x20overflow-hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-bold\x20mb-1\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-shipping-fast\x22></i>\x20<span>รออีก\x20','timerDuration','onclick','เรขาคณิตวิเคราะห์','sync-timer-bar','ondragover','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','Error\x20displaying\x20question\x20bank:','พีชคณิตและฟังก์ชัน','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','typesetPromise','realScore','pollUsedThisTurn','แท็บใหม่','text-gray-800','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x20จาก\x20','text/csv;charset=utf-8;','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','summary_chart','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','BOOLEAN','close-presentation-btn','Error\x20listening\x20for\x20projects:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-try-quiz-btn','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.bp-unlink-quiz-btn','.quiz-status-btn','<div\x20class=\x22flex\x20items-center\x20gap-2\x22><div>','back-to-dashboard-from-results-btn','mandatory','parallel-default-','Error\x20saving\x20quiz:','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','.option-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','data:application/vnd.ms-word;charset=utf-8,','Error\x20listening\x20for\x20custom\x20math\x20topics:','line-height:\x201.3;\x20min-width:\x200;','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','Error\x20analyzing\x20file\x20for\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','เกิดข้อผิดพลาดในการบันทึกโปรเจค','จำนวนคู่:','number','wager-all-in-btn','นักล่าฝัน','.edit-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','confirm-admin-login-btn','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','generate-from-link-btn','1413ciRJOv','🔁\x20โอกาสครั้งที่สอง','มุมพิเศษ\x2045°-45°-90°','.topic-selection-btn','ศูนย์','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','timer-duration-label','Error\x20updating\x20pin\x20status:','ondragstart','.subTopic','insertAdjacentHTML','.topic-name-input','):\x20','เกิดข้อผิดพลาดในการส่งคำตอบ','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','score-distribution-chart','bank-tab','<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20(','/public/data/quizzes/','close-student-rankings-btn','มังกรกินจุ','next-question-timed-btn','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x20z-10\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x20animate-bounce\x22></i><p\x20class=\x22font-bold\x20text-3xl\x20truncate\x22>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','num-choices-container','shouldSaveResults','visible','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','start-live-race-generated-btn','quizMode','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','div','cancel-move-quiz-btn','.move-shortcut-menu-btn','project-list','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hand-holding-usd\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>เดิมพันผิด!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>💸\x20เงินถูกยึดเข้ากองกลาง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ออกจากคลังนี้?','nickname-input','md:col-span-1','parallel-shortcut-container','normal','Enter','admin-password-input','anonymous_reveal_end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','originalQuestionText','จากเนื้อหาต่อไปนี้:\x20\x22','default-','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isAnonymousRevealed','\x20ใหม่...','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','mean','delete-all-students-btn','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','/public/data/teamQuizzes','fontSize','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-file-shortcut-dropdown','ส่งคำตอบ','.pointsLastQuestion','addEventListener','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','_blank','Error\x20deleting\x20all\x20students:','.delete-project-btn','...','\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-','สายลมแห่งโชคชะตา','file-shortcut-url-input','selectSyncOption','input','total','<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>','เรเดียนและการแปลงหน่วย','list-view-btn','คณิตศาสตร์','\x22\x20value=\x22','manage-tab','game-start-quiz-id','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','sine','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','th-TH','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20sm:justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x20w-full\x20sm:w-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-bank-subtopic-name','presentation-scratchpad-btn','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','questionText','class','some','ก้อนเมฆ','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','confirm-passcode-btn','การคูณ','.project-card-container[data-id]','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','นินจาชาเขียว','<li\x20class=\x22','tab_','text-red-500\x20hover:text-red-700','คนโสด','ชนิดของข้อมูลและการเก็บข้อมูล','length','คณิตการเงิน/บูรณาการ','after','leq','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ข้อ\x20','hasOwnProperty','Error\x20resetting\x20project\x20order:','Error\x20loading\x20blueprint\x20projects:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','contains','add-parallel-shortcut-tab-btn','numeric','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','dropdown-list-','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','fix\x20the\x20option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','.edit-quiz-btn','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-crown\x20text-yellow-500','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','suggestedAnswer','bg-amber-100\x20text-amber-800','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','instantWager','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','ยืนยันและอัปเดตทั้งหมด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','API\x20Error\x20Body:','\x5cleq','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','lesson-loader','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','text-gray-300','slowResponderCount','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','placeholder','error','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','https://drive.google.com/uc?export=download&id=','bg-red-200\x20text-red-800','การคูณเศษส่วน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-parallel-shortcut-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','previousElementSibling','<div\x20class=\x22flex-1\x22></div>','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','file-topics-list','forEach','Error\x20comparing\x20results:','scores-tab-content','toBlob','show_pass_fail_only','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','#DBEAFE','shortcut_','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','การจัดกลุ่มข้อมูล','hint-btn','.submittedAt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','ไฮเพอร์โบลา','หลังเรียน','learningGaps','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','พิซซ่าหน้าทุเรียน','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','student-project-leaderboard-table-body','project-passcode-modal','การแจกแจงทวินาม\x20(พื้นฐาน)','strength-weakness-analysis-container','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>','🚀\x20คุณเดิมพันหมดหน้าตัก!','student-project-leaderboard-tab','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','incorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getElementsByTagName','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20joining\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','blueprint-options-container','ไม่ใช่\x20/\x20ผิด','Error\x20fetching\x20projects\x20for\x20move:','qType','\x22\x20data-target-tab-id=\x22','retake-quiz-loop-btn','modal-shuffle-select','lesson-plan-modal','undo-btn','Group\x20Mode','รายการนี้','file-shortcut-container','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','.move-parallel-shortcut-dropdown','Error\x20fetching\x20quiz\x20settings:','close-additional-file-shortcuts-btn','starred','parentNode','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includeImages','Error\x20calculating\x20final\x20scores\x20with\x20pot:','showImproveButton','modal-confidence-mode-container','\x20ครั้ง)</span></td>','live-player-list','.pair-quiz-btn','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','เกิดข้อผิดพลาดในการนำผู้เล่นออก','interesting-stats-wrapper','หนอนหนังสือ','\x20เป็น\x20','msRequestFullscreen','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','topic_','bp-modal-num-questions','วงกลม:\x20สมการและสมบัติ','question-complexity-select','อินเวอร์สของเมทริกซ์','เศษส่วน\x20(ย่อ/ขยาย)','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play-circle\x20text-3xl\x20text-indigo-400\x20group-hover:text-indigo-600\x20transition-colors\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','ตั้งเวลา\x20(เปิด)','[id^=\x22dropdown-list-\x22]','bg-gray-200\x20text-gray-700','ร้อยละพื้นฐาน','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','กรุณาเลือกโปรเจคก่อน','%PDF','ระบบสมการเชิงเส้นสองตัวแปร','27411472','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','upper_group_count','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','confidence-scoring-description','color','touchcancel','ai-quiz-app-aefee','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','การลบทศนิยม','\x22\x20style=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-lg\x20text-gray-800\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-value=\x22','</span>\x20วินาที</p></div>','กรุณาป้อนหัวข้อสำหรับใบงาน','exists','เศรษฐีดูไบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','scratchpad-clear-btn','toggle','isPinned','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','moveTo','Error\x20generating\x20parallel\x20test\x20from\x20bank:','verify-answers-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','test','quiz-results-view','ยังไม่มีนักเรียนส่งงาน','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','.delete-submission-btn','confirm-quiz-status-btn','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-present-btn','stop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-bp-reference-btn','both','.generate-content-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','STRING','ไม่พบข้อมูลแบบทดสอบ','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','questionIndex','/public/data/syncGames/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preTestId','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','per_question','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','ความชันและเส้นตรง','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','exitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','specialist','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','end-team-quiz-btn','student-name-select','#FFFFFF','quiz-start-time','ยืนยันการจับคู่','Error\x20generating\x20parallel\x20post-test:','\x20รายการสำเร็จ!','ไม่พบข้อมูลเกม','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ข้อที่\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','activeGameSession','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','modal-message','applicationContent','anon-show-answer-toggle','Error\x20saving\x20parallel\x20shortcut:','nextElementSibling','.scratchpad-content-wrapper','\x5csum','parallel-default-2','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','สู้ๆ\x20ลองอีกครั้งนะ','shortcut-name-input','Error\x20saving\x20submission:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','checkbox','bg-red-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-manage-btn','สร้างแบบทดสอบปรนัย','substr','API\x20Error\x20Response:','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','</button>','player-count','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อสมการเชิงเส้น','date_desc','ฟังก์ชันพหุนาม','เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','bg-green-200','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','playerNicknames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cancel-team-selection-btn','blueprint-project-list','text-yellow-800','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','(ตามมาติดๆ)','ก่อนเรียน','\x22>(','scan-text-image-input','timer-duration-input','getPage','FIRST_TRY_ACE','lastAnswerIndex','appendChild','zIndex','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22><i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','<span\x20class=\x22text-blue-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อนุพันธ์:\x20ผลคูณ/ผลหาร','global-quiz-count','createElement','checked','<span\x20title=\x22โดนบังคับ\x22>👻</span>','</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20','switch-responder-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#FEE2E2','currentTarget',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','text-gray-400\x20hover:text-indigo-600','resize','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22><i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i><p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p></div>','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','กำลังดึงข้อมูลจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สอบปกติ','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','auto-fix-latex-btn','link-tab','per-question-text','passing-score-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','</p>','แผนภาพกล่อง\x20(box\x20plot)','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','fullscreenElement','numChoices','manage-waiting-players','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20shortcut:','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','manual-bp-grade-level','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','replaceChild','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','rows','project-dashboard-view','show-in-student-dashboard-checkbox','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','bp-modal-difficulty-level-select','เกิดข้อผิดพลาด:\x20','project-sort-select','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','comparison-modal','\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','อสมการค่าสัมบูรณ์','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','overline','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20during\x20deep\x20delete:','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','use-powerup-wagerMultiplier-instant','selectMathOption','textarea[name=\x22team_answer\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','worksheet-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','คำถามถัดไป','next-sync-question-btn','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','\x5cpi','group','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','pre-test','โลมาบิน','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','visibilityState','ทฤษฎีทวินาม\x20(เบื้องต้น)','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p></div>','bulk-results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20bg-black/20\x20px-3\x20py-1\x20rounded-full\x20border\x20border-white/10\x20text-gray-300\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sack-dollar\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>กองกลาง:\x200</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','submit-team-answer-btn','blueprint-projects-modal','referenceUrl','Powerup\x20use\x20failed:','.quiz-settings-btn','rgba(59,\x20130,\x20246,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ต้นฉบับ\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x20sync-custom-dropdown\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22sync-matching-input\x22\x20value=\x22\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.toggleSyncDropdown()\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20max-w-lg\x20p-4\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22sync-dropdown-display\x22\x20class=\x22text-gray-400\x20text-lg\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-dropdown-list\x22\x20class=\x22hidden\x20absolute\x20top-20\x20w-full\x20max-w-lg\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','doughnut','toDate','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-confidence-scoring-checkbox','quiz-results','คัดลอกรหัสแล้ว!','จำนวนเต็มบวก','totalPoints','post-test','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','potBonus','topics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','toLocaleString','ใช้ไอเทม\x20','student-progress-view','องค์ประกอบของฟังก์ชัน','bp-modal-shuffle-setting-select','\x22\x20class=\x22w-12\x20p-0.5\x20text-black\x20text-center\x20rounded\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-manage-btn\x22\x20class=\x22text-gray-400\x20hover:text-white\x20px-2\x22><i\x20class=\x22fas\x20fa-chevron-up\x22></i>\x20ซ่อน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-start\x20gap-2\x20max-h-32\x20overflow-y-auto\x20custom-scrollbar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select-all-submissions','กำลังอ่านไฟล์\x20Test\x20Blueprint...','.quiz-result-card','ลบโปรเจค\x20\x22','input[type=\x22radio\x22]:checked','<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20border\x20border-yellow-300\x20shadow-sm\x22\x20title=\x22ส่วนแบ่งจากกองกลาง\x22>+','เพนกวินไฟ','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','eraser-tool-btn','presentation-explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','<input\x20type=\x22checkbox\x22\x20disabled\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-200\x20text-gray-300\x20cursor-not-allowed\x22>','การคูณทศนิยม','confidence_single','pop','deltaY','game-start-mode','<p\x20class=\x22font-bold\x20text-sm\x20','select-all-topics-btn','กำลังจับคู่...','<li>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','qIndex','back-to-project-btn','พิมพ์ตอบ','touchend','🎓\x20','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัว.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','endTime','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','Failed\x20to\x20get\x20hint:','เกิดข้อผิดพลาดในการอัปเดต:\x20','suspended','default-1','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','minHeight','#add-question-editor-btn','closest','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','blueprint-shortcut-container','.draggable-text','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','findIndex','center','shortcut-id-input','desc','.delete-shortcut-btn','back-to-dashboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','live-options-container','fileShortcutOrder','scratchpad-canvas','results','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x20shadow-lg\x20border-t-4\x20border-amber-600\x22>','url','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20auto-link\x20quiz:','.project-card-container:not(.opacity-50)','นกฮูกกลางวัน','quiz-editor-modal','element','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','powerupUsed_q','globalAlpha','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','300','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p></div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.use-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-leaderboard-content','transition-all','สร้างแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','border-green-300\x20bg-green-50','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','โดเมนและเรนจ์','<p\x20class=\x22','competition','quiz-leaderboard-table-body','stdDev','insertBefore','Blueprint\x20O-NET\x20ป.6','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','execCommand','additional-shortcuts-list','bg-yellow-100','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','ผ่านฉลุย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','dashboardConfig','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','link-url-input','sync-dropdown-list','เกิดข้อผิดพลาดในการสร้างใบงาน','เวกเตอร์และเมทริกซ์\x20(เสริม)','use-powerup-cutOne','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','โหลดนาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x20drop-shadow-md\x22>ตาของ:\x20','isFinished','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','freeMarketEntryUsed_q','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>','points','btn','Error\x20starting\x20group\x20quiz:','gamePin','#E0E7FF','\x22\x20ให้เป็นคำถามประเภท\x20\x22','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','quiz-leaderboard-table','ตัวแปรและนิพจน์','circle','grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','input[name=\x22status-option\x22]:checked','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectOrder','parallel-shortcut-id-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','select[name=\x22question_single\x22]','Invalid\x20response\x20structure\x20from\x20AI.','ยังไม่สร้าง','.group\x5c/dropdown-parallel','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','เกิดข้อผิดพลาดในการบันทึก','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parseInline','question','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-700\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>','กราฟฟังก์ชันตรีโกณ','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20shadow-sm\x20border\x20border-yellow-300\x22\x20title=\x22ส่วนแบ่งจากคนตอบผิด\x22>+','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','image/png','ข้อมูลแบบทดสอบไม่ถูกต้อง','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','market-item-list','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','md:col-span-3','จิงโจ้สโลว์ไลฟ์','ย้ายแบบทดสอบไปโปรเจคอื่น','firstElementChild','เกิดข้อผิดพลาดในการลบข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','เกิดข้อผิดพลาดในการบันทึกผลคะแนน','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','dataset','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','decode','สมการเหตุผล\x20(rational)','Error\x20preparing\x20content\x20quiz:','ออฟฟิศซินโดรม','<br>','กรุณากรอกเป็นตัวเลขเท่านั้น','adaptive-quiz-checkbox','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','cancel-passcode-btn','MathJax','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20adding\x20custom\x20topic:','not-found','Pot\x20Distributed.\x20Leaderboard\x20Updated.','ความคล้ายของรูป','strokeStyle','ON_FIRE','memory','#E5E7EB','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.file-topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','ฟังก์ชันยกกำลัง','from','.pen-color-btn','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','setValueAtTime','รหัสไม่ถูกต้อง','ปริมาตร/ความจุและการแปลง','.live-answer-btn,\x20#live-submit-short-answer-btn','<div\x20class=\x22mb-3\x20topic-category\x22>','hiddenOptions_q','⏳\x20ซื้อเวลา','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','leaderboard-quiz-tab-btn','เน็ตไอดอล','worksheet-topic-input','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ไม่มีชื่อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cge','Re-grade\x20process\x20failed:','poll','ไม่มี','bg-blue-500\x20hover:bg-blue-600\x20text-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.csv','Error\x20saving\x20project\x20order:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','add-student-btn','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','isArray','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x20border\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users-cog\x20mr-1\x22></i>\x20จัดการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-sm\x20border\x20border-white/10\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20justify-between\x20mb-3\x20pb-2\x20border-b\x20border-white/10\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20cursor-pointer\x20text-yellow-300\x20hover:text-yellow-200\x20select-none\x20bg-black/20\x20px-2\x20py-1\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22toggle-slow-responders\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20rounded\x22\x20','parallel-test-tab','[data-field=\x22subTopic\x22]','API\x20call\x20failed','size','update-old-quizzes-btn','touches','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','ถูกต้อง!','additional-parallel-shortcuts-list','main-correct-answer-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','mainTopics','scheduled','trim','หมีขั้วโลกใต้','confirm-bulk-quiz-settings-btn','เกิดข้อผิดพลาดในการติดดาว','join-group-activity-btn','pow','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','per-question-timer-container','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20','timer-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','แบบทดสอบจากคลังส่วนตัว','groups.','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','handleGenerateQuizFromBlueprintTopic','highlighter-tools-group','text-gray-700','ฟังก์ชันค่าสัมบูรณ์','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','focus','topic','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','P/อัน)','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file.pdf','><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20','enable-black-market-checkbox','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','input[type=\x22text\x22]','move-quiz-modal','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','Error\x20generating\x20worksheet:','(ฉบับง่าย)\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20พิมพ์ตอบเอง.\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20easy\x20version\x20quiz:','student-quiz-area','.bp-edit-topic-btn','confirm-manual-bp-btn','standard','maxHeight','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20bg-white\x20text-indigo-700\x20font-bold\x20py-4\x20px-6\x20rounded-xl\x20shadow-md\x20hover:shadow-lg\x20transition-all\x20transform\x20hover:scale-105\x20flex\x20justify-between\x20items-center\x20group\x20select-responder-btn\x22\x20data-name=\x22','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','trail','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','วงรี','drop','new-question-type-select','ไฟล์ลัด\x202','file-topic-input','.bp-present-btn','sync-matching-input','student-reading-area','เลือกโปรเจคเพื่อบันทึก','ระยะทางและจุดกึ่งกลาง','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','topics.','student-view','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sync-submit-btn','camera-crop-btn','summary','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','input[name=\x22syncVariant\x22][value=\x22','</div></div></div>','ข้อต่อไป','showSlowResponders','bg-teal-500\x20hover:bg-teal-600\x20text-white','oninput','กรุณาป้อนรหัสแบบทดสอบ','modal-passing-score-input','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x20shadow-xl\x20border-t-4\x20border-yellow-300\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','อินฟลูเอนเซอร์','กรุณาเลือกโปรเจคปลายทาง','download','fromCharCode','cancel-shortcut-edit-btn','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','AI\x20Fix\x20Error:','textarea[name=\x22question_single\x22]','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','แฟนทิพย์','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','.ideal-answer-input','แคลคูลัสเบื้องต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20จำนวน\x20','per-question-options','บันทึกการตั้งค่าสำเร็จ','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-gray-400','block','border-indigo-200','linkedQuizIds','scratchpad-close-btn','fa-shield-alt\x20text-gray-600','\x20จุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','กำลังค้นหากิจกรรม...','shadowColor','onloadend','isJinxed','นักประดิษฐ์','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-tab-id=\x22','bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','ยอดนักสืบ','destination','.tab-name-input','blueprint-upload-input','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','worksheet-tab','lineJoin','wasJinxed','matching_item','comparison-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x27Sarabun\x27,\x20sans-serif','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','warn','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','https://corsproxy.io/?','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','floor','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','resultsSaved','font-bold\x20text-red-700\x20line-through','\x22\x20data-index=\x22','cancel-export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','.ai-content\x20p','stopPropagation','function','ตัวเลือก\x20ง','confirm-team-players-btn','<span\x20title=\x22','commit','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','Error\x20clearing\x20all\x20links:','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','temp-loader-text-results','.file-shortcut-btn','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','top','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','dispatchEvent','pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกู้คืนข้อมูล...','manage-total-players','match','solution','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','scores-tab-btn','undefined','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','left','next-drill-btn','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','.remove-file-shortcut-from-tab-btn','.delete-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','.topic-actions-view','Error\x20updating\x20custom\x20topic:','แบบทดสอบฝึกฝนเรื่อง:\x20','description','student-result-area','lesson-plan-title','Failed\x20to\x20end\x20group\x20mode\x20game:','AI\x20แก้ไขคำถามสำเร็จ!','Error\x20joining\x20activity:','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','transparent','เส้นตรง:\x20ขนาน/ตั้งฉาก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การแปลงรูปอัตลักษณ์','thead\x20.sortable-header','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','เกิดข้อผิดพลาดในการปักหมุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','text-blue-800','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','presentation-short-answer-input','show-leaderboard-btn','use-powerup-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','เกิดข้อผิดพลาดในการลบ','link-input-area','แก้ไขชื่อหัวข้อย่อย:','round','หมาป่าเดียวดาย','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','projectView','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x20ตอบ','ความเป็นอิสระของเหตุการณ์','update','ลำดับการดำเนินการ\x20(PEMDAS)','\x22\x20class=\x22delete-project-btn\x20',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','ondblclick','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','.delete-svg-btn','underline','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','readAsDataURL','isDefault','student-team-selection-view','wager-modal','เกี่ยวกับหัวข้อ\x20\x22','sync-matching-select','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','add','ตอบถูกทุกข้อในแบบทดสอบนี้','ลบแบบทดสอบสำเร็จแล้ว','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','ม้าดีดกะโหลก','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','\x20P)','ตรีโกณมิติ','<span\x20class=\x22font-bold\x22>','สร้างคำถามแบบใช่/ไม่ใช่','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectSyncOption(this.getAttribute(\x27data-value\x27))\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ได้ตอบ','Export\x20Image\x20Error:','.toggle-actions-btn','project-detail','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-testing','.answeredCurrentQuestion','Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.',')</span></div>','[data-topic-container-id]','default-2','ปลาทูคะนอง','ดอกเบี้ยอย่างง่าย','reveal_at_end','file-upload-input','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กาแฟขม','timer-bar','questions','options','เส้นจำนวน','.txt','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','translate','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','rename-quiz-input','wager-slider','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','num-questions','\x5capprox','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)','players.','</p><div>','fileShortcutTabs','Blueprint\x201','lesson-view-modal','lastAnswerCorrect','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.start-presentation-list-btn','blueprintUrl',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','toISOString','selected-topics-count','push','.ai-content\x20li','พื้นที่วงกลม/ส่วนของวงกลม','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','fas\x20fa-star\x20text-yellow-500','\x20border\x20border-white/10\x20shadow-sm\x22>','dimmed','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px,\x20','ไม่พบแบบทดสอบในระบบเลย','file-default-1','ราชาคัมแบ็ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','presentation-modal','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','binom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.file-shortcut-tab-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(p=','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','lower_group_count','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.auto-resize-textarea','isPasscodeEnabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','start-game-btn','\x5cneq','targetId','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','กำลังอ่านไฟล์อ้างอิง...','\x20คนที่เลือก?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','indexOf','กำลังสร้างรูปภาพ...','Game\x20results\x20already\x20saved.\x20Skipping.','\x20คะแนน</span></div>','รูปหลายเหลี่ยมและมุมภายใน','project-title','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','Error\x20fetching\x20project\x20quizzes:','summaryContent','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','.linkedQuizId','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','ไม่ผ่าน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22p-2\x20rounded-md\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','พื้นที่สี่เหลี่ยม','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','target','Unexpected\x20API\x20response\x20structure:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quick_thinker','save-game-results-checkbox','เหมียวขี้เซา','<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','settings','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','beginPath','sum','members','preTScore','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','export-word-btn','className','memoryContent','attempts',';\x22\x20data-id=\x22','<p><strong>คำตอบของคุณ:</strong>\x20','Refunded\x20','.answers','find','null','Error\x20adding\x20students:','add-file-shortcut-btn','quiz-results-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','svg','กรุณาสร้างบทเรียนก่อน','pointsToAdd','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','\x5ccdot','empty','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.isScored','ทำคะแนนเต็มในการทำครั้งแรก','\x20คู่\x20','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','อัปเดตสถานะสำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22drill_answer\x22]:checked','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กำลังสร้างแบบทดสอบ\x20\x22','sync','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','fill_in_with_choices','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','applicationHTML','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','msExitFullscreen','พื้นที่ผิวรูปทรงสามมิติ','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','quizType','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','cancel-create-project-btn','</div><span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20whitespace-nowrap\x22>คุณ</span></div>','student-initial-view','fas\x20fa-bookmark','.application-options\x20button','สรุปผลสุดท้าย','#open-additional-file-shortcuts-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','application/json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confirm-game-start-btn','back-to-student-home-btn','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','ไม่พบข้อมูลผู้เล่น','ฟังก์ชันลอการิทึม','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์.','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','resume','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','ระบบอสมการ','จำนวนและการดำเนินการ','bulk-loop-until-pass-checkbox','#student-project-leaderboard-content\x20thead','restore','teacherTips','height','Error\x20renaming\x20quiz:','Error\x20saving\x20file\x20shortcut\x20config:','บันทึกการแก้ไข','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','approx','scrollIntoView','drill-feedback','offset','confidence-scoring-checkbox','คนที่\x20','.select-responder-btn','file-shortcut-modal-title','bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','_opt1\x22\x20name=\x22question','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','<span\x20class=\x22font-bold\x20','</span></div>','bg-green-100\x20font-bold','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','\x20ตัวเลือก.\x20','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x20text-gray-700\x22>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','project-detail-view','transition','อัปเดตการตั้งค่าของแบบทดสอบ\x20','\x22.\x20Ideal\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','<tr><td\x20colspan=\x22','???','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','💰\x20โหมดเดิมพันทำงานอยู่!','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x0a\x20\x20\x20\x20','bg-blue-100','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','doc','close','กรุณาเลือกสถานะ','start-quiz-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','</h3>','.live-answer-btn,\x20#sync-submit-btn','flex\x20flex-col\x20gap-2','การสร้างรูปด้วยวงเวียน–สันตรง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','matching','/public/data/quizzes','บันทึกผลการเรียนเรียบร้อยแล้ว!\x20(โหมดประหยัดทรัพยากร)','count','\x20mb-2\x22>','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','attemptNumber','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','/users/','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','isStarred','/questionBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','ไม่สามารถโหลดข้อมูลอันดับได้','scoresCalculated','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','triangle','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','timed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','คะแนนเต็ม!','bp-modal-include-images-checkbox','generate-from-file-btn','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','text-indigo-800','submittedAt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','date_asc','preventDefault','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>',':</span><span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','manual-bp-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','Error\x20deleting\x20submission:','startTime','<span\x20title=\x22ใช้\x20','สมการค่าสัมบูรณ์','สร้างใหม่','lowerGroupNames','Error\x20linking\x20quizzes:','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallelTestShortcutsConfig','allResponses','default','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x20backdrop-blur-sm\x20border\x20border-white/10\x20shadow-sm\x22>','/studentProfiles','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','confirm-rename-quiz-btn','ชื่อโปรเจคห้ามว่าง','<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>','ค่าเฉลี่ย','admin','.delete-file-shortcut-btn','pin','#10B981','confirm-crop-btn','analytics-summary-cards','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','กลุ่ม:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','\x22><span\x20style=\x22','confidence','Team\x20Quiz','(ไม่ตอบ)','newOptions','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','\x20|\x20','correct','text-gray-500','position','.start-game-btn','NUMBER','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open','6oNeVBe','STOP','N/A','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','reference-pdf-upload','confidenceMode','getAttributeNS','scrollX','/public/data/blueprintProjects','border-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','uid','(ก่อนเรียน)\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','loader','innerText','input-slow-count','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','เส้นรอบรูป','use-powerup-fiftyFifty','font-bold','use-powerup-secondChance','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','save-visibility-settings-btn','text-gray-400','แม่น้ำ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','icon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cos','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','insurance','export-pdf-btn','<div\x20class=\x22my-2\x22>','.hidden-option-input','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lastIndexOf','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','ลบผลสอบของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','screen_exit','text-green-700\x20bg-green-100','parallel-shortcut_','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','outerHTML','input[name=\x22syncVariant\x22]:checked','Error\x20updating\x20points:','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.submission-checkbox:checked','projectId','&quot;','#F59E0B','<option\x20value=\x22\x22>กำลังโหลด...</option>','609364mLHuFU','ควรปรับปรุง','.delete-bp-project-btn','</a>','export-pdf-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','body','border-indigo-500\x20text-indigo-600','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','leaderboard-tab-content','Error\x20opening\x20quiz\x20editor:','pointContent','num-choices','bg-yellow-300\x20text-yellow-900\x20font-bold','source_document.txt','(พยายามอยู่)','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','เมทริกซ์:\x20บวก/คูณ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การบวกทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','sync-player-management','marginBottom','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','อกหัก','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x22><p\x20class=\x22font-semibold\x22>','/public/data/projects/','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','input[name=\x22team_player\x22]','AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...','dragstart','fill_in_no_choices','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','generated-quiz-actions','.bp-delete-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h4>','confident','instructions','unshift','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','สิงโตยิ้ม','manual-bp-project-name','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','.rename-quiz-btn','/public/data/customMathTopics','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','แบบทดสอบที่ติดดาว','end-game-btn','Error\x20listening\x20for\x20student\x20profiles:','<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20bg-gradient-to-r\x20from-yellow-500\x20to-amber-600\x20text-white\x20px-4\x20py-1\x20rounded-full\x20border-2\x20border-yellow-200\x20shadow-lg\x20shadow-yellow-500/50\x20animate-pulse\x20transform\x20hover:scale-105\x20transition-transform\x20cursor-help\x22\x20title=\x22เงินรางวัลส่วนเกินจากรอบที่แล้ว\x20จะถูกนำมาหารเพิ่มให้ผู้ชนะในรอบนี้!\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sack-dollar\x20text-xl\x20animate-bounce\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20drop-shadow-md\x22>กองกลาง:\x20','bg-gray-50','👁️\x20เผยตัวเลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','เกิดข้อผิดพลาดในการบันทึกลำดับ','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','numQuestions','bg-black/10','ระยะจากจุดถึงเส้นตรง','ต้นฉบับ\x201','.generate-post-test-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','ความชันเส้นสัมผัส','Copy\x20command\x20failed','กำลังอัปเดตแบบทดสอบ\x20','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i><span>เวลาโบนัสทำงาน!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p></div>','กรุณากรอกข้อมูลให้ครบทุกช่อง','stepByStepExamples','join','สัญกรณ์วิทยาศาสตร์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','/public/data/liveGames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','request','<div\x20class=\x22space-y-2\x22>','.delete-shortcut-tab-btn','highlighter-tool-btn','ต้นฉบับทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>','text-emerald-800','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','difficultyValue','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','referenceFileUrl','#scores-tab-content\x20.mb-4.flex','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','1116gzSSuS','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','onchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-3\x20items-center\x20mb-4\x20relative\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointsLastRound','</tbody></table>','</div></div>','blueprintShortcuts','อนุพันธ์:\x20กฎลูกโซ่','\x22\x20name=\x22confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','close-lesson-plan-modal-btn','results-quiz-id-display','querySelector','ถูก','.submission-checkbox','bulk-quiz-settings-btn','👑\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','removeChild','export-leaderboard-pdf-btn','cdot','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','</span>\x20','clearRect','reset-view-btn','getContext','modal-adaptive-quiz-checkbox','width','<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22responder-selection-overlay\x22\x20class=\x22fixed\x20inset-0\x20bg-indigo-700\x20z-[999]\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-6\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/20\x20px-4\x20py-1\x20rounded-full\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-white\x20text-sm\x22>ข้อที่\x20','<span\x20class=\x22text-orange-400\x20font-bold\x20ml-2\x20text-sm\x20animate-pulse\x22>🔥\x20x','back-to-student-initial-btn','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','blueprint-topics-list','handleGeneratePracticeTest','href','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x20คะแนน','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','เงินงวด\x20(อนุกรมเงินงวด)','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20committing\x20score\x20updates:','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','toggleSyncDropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','blur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','student-passcode-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','Error\x20saving\x20manual\x20blueprint\x20project:','<textarea\x20name=\x22question','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','#results-table\x20thead\x20tr','txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','.shortcut-btn','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','tabId','selected-answer-index-hidden-wager','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','manual-create-blueprint-btn','progress-project-select','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-2\x20font-semibold\x22><i\x20class=\x22fas\x20fa-bell\x22></i>\x20แจ้งเตือนคนช้า</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20text-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>เตือนเมื่อเหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22input-slow-count\x22\x20value=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','confirmation-message','\x22.\x20','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','.edit-hidden-file-shortcut-btn','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','Error\x20clearing\x20linked\x20quiz:','scale-125','answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','globalCompositeOperation','isScored','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','ARRAY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-input-area','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','not_generated','กฎของไซน์','สรุปผลการวิเคราะห์:\x5cn','กฎของโคไซน์','createdAt','\x20/\x20','กัปตัน','.project-card-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','ส่งแล้ว','</select>','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','wager-max-points','sort','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','lesson-view-content','border-indigo-500','หยุดระบบจับเวลาหรี่หน้าจอ','quiz-leaderboard-table-container','Error\x20adding\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','.move-shortcut-item','quiz-type-select','entries','ทะเล','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','click','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','\x20in\x20all\x20blueprint\x20projects.','correctResponse','<button\x20data-id=\x22','4636385lbiPVI','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-blueprint-url-input','กำลังโหลดคลังข้อสอบทั้งหมด...','cursor','.bp-try-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','artifacts/','sync-timer-countdown','live-game-view','topic-quiz-bank-modal','onerror','modal-loop-until-pass-checkbox','bg-red-500','-tab-content','open-scratchpad-btn','.start-live-race-btn','Error\x20saving\x20game\x20results:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-responder-overlay\x22\x20class=\x22mt-12\x20text-indigo-200\x20hover:text-white\x20underline\x20text-sm\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กลับไปตามลำดับปกติ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','leaderboard-tab','files','sync-short-answer-input','คุณแน่ใจว่าต้องการลบแท็บนี้?','<button\x20data-value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-quiz-bank-btn','bg-[#4ADE80]\x20text-green-900\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','\x22\x20data-name=\x22','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','student-team-join','admin-dashboard','ref','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','comparison-overall-content','DOMContentLoaded','\x5cdiv','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','/lessons','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','แบตหมด','neq','เตรียมพบกับผลสรุปสุดท้าย','<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>','เพิ่มปุ่มลัดจากไฟล์ใหม่','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x20mr-2\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ปริพันธ์จำกัด','explanation','closePath','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','modal-timer-duration-input','\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','pointerType','bank-input-area','quizId','team-quiz-topic','add-shortcut-btn','parallel-test-upload-input','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','.quiz-bank-settings-btn','fadeStartTime','ตรวจทานเฉลยเสร็จสิ้น!','dblclick','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.color-palette-popup','handleGenerateAndShowLesson','กรุณาวาง\x20URL\x20ของบทความก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','หมดเวลา!\x20กำลังส่งคำตอบ...','students','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','open-market-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','bp-project-title','<div\x20class=\x22flex\x20justify-center\x20my-4\x22><button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22><div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div><span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span></button></div>','load-quiz-btn','gameVariant','เริ่มกิจกรรม:\x20','schedule','ผลรวมอนุกรม\x20(Σ)','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','การหารทศนิยม','shortcutTabs','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22','answered','PROMPT_PLACEHOLDER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ธอร์ค้อนบิน','parts','asc','สลับไปโหมดนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','newOptionsPayload','message-modal','PERFECT_SCORE','confirm-confident','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','20px','half_mark_status','onload','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','fullscreenchange','แผนภาพเวนน์','ความแปรปรวน','editable-text-','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x5cgeq','shortcut-reference-url-input','.move-parallel-shortcut-menu-btn','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','mouseup','eraser','กำลังวิเคราะห์หัวข้อ...','contentEditable','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','responses.','<span\x20class=\x22font-bold\x20text-right\x20flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-1\x22\x20style=\x22flex-shrink:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','justification','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','topicName','รอผู้ควบคุมไปข้อต่อไป...','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confidence-mode-select','name','ย้าย','student-quiz-leaderboard-table-body','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','topic-bank-list','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','standardTopic','[*]','fa-bolt\x20text-blue-500','results-table-container','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','.generate-easy-version-btn','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','end-sync-game-btn','on_fire','student-list','display','shadowBlur','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รอผู้ควบคุม','\x22\x20id=\x22input-','selected-answer-index-hidden','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','enable-passcode-checkbox','AI\x20ไม่ส่งผลลัพธ์กลับมา','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','catch','ใช่\x20/\x20ถูก','newCorrectIndex','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','backspace','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','manual-blueprint-modal','bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md','Matching\x20options\x20synced:','.parallel-shortcut-tab-btn','\x22\x20data-q-type=\x22','displayRank','wager-amount-display','answerText','max','การหาร','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','ยอดเยี่ยม!','selectedTopicNames','classStrengths','ondrop','sync-dropdown-display','คำถาม...','stringify','เปิด\x20(จับเวลา)','global-activity-quiz-list','true','</td></tr>','bg-black/20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','strategyScan','ตรวจพบการออกจากหน้าจอครบ\x20','\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','contents','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','then','.highlighter-color-btn','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','gain','quiz-generation-area','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','.pen-size-btn','เลือกและเริ่มสร้าง','transform','getBoundingClientRect','close-comparison-modal-btn','lesson-view-title','confirmation-modal','ไม่พบห้องเกมด้วยรหัสนี้\x20หรือเกมจบไปแล้ว','linearRampToValueAtTime','candidates','document','</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นักวิทยาศาสตร์','บันทึกการตั้งค่าแล้ว','**กฎเหล็กการสร้างตัวเลือก:**\x20ห้ามสุ่มตัวเลขมั่ว,\x20ตัวเลือกผิดต้องเกิดจากความเข้าใจผิดที่พบบ่อย,\x20ตัวเลือกต้องดูสมเหตุสมผล','student-name-selection-view','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','onSecondChance','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','Error\x20fetching\x20lesson\x20content:','\x20ตัวเลือก)','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','file-default-','resultsDisplay','cancel-global-activity-btn','earned-badges-container','Failed\x20to\x20create/update\x20submission\x20record:','view-my-progress-btn','file-input-area','ยูทูปเบอร์ฝึกหัด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-gray-200','close-pin-modal-btn','complexityValue','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','wasForced','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20style=\x22','Error\x20during\x20class\x20analysis:','no-projects-msg','</th>','src','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','commonMistakes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','.edit-question-btn','#math-topics-checkbox-container\x20input:checked','game-pin-input','คู่จิ้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-200','<div\x20id=\x22slow-responder-container\x22\x20class=\x22mt-6\x20w-full\x20max-w-4xl\x20mx-auto\x20px-4\x22></div>','practice-topic-btn','exponentialRampToValueAtTime','สุดยอด!\x20ตอบถูกทุกข้อ','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','submission','short','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','behavior-log','highlighter-size-value','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','(หลังเรียน)\x20','global-activity-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20rounded-md\x20hover:bg-gray-100\x20cursor-pointer\x20border\x20border-transparent\x20hover:border-gray-200\x20transition-all\x20select-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','open-sync-scratchpad-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','arrayBuffer','\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','รูปสี่เหลี่ยมและสมบัติ','กราฟแท่ง\x20กราฟเส้น','prod','Error\x20saving\x20file\x20shortcut:','translate(','สถานะไม่ชัดเจน','ownerSVGElement','getBBox','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','mode','sara','บักแตงโม','30px','file-shortcut-id-input','postScore','confirm-not-confident','#results-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','.custom-math-dropdown','answer-grid-container','\x22\x20สำเร็จ!','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','timestamp','.edit-hidden-parallel-shortcut-btn','_opt1\x22>ไม่ใช่</label></div>','analytics-tab-btn','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','bg-yellow-50','opacity','readAsArrayBuffer','ตัวเลือก\x20ค','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','mousedown','textAlign','reference_onet.pdf','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(เลือกแล้ว\x20','.bp-open-topic-bank-btn','pointsLastQuestion','<option\x20value=\x22','\x20\x20\x20-\x20','text','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','กรุณาเลือกคำตอบ','text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Failed\x20to\x20resume\x20game\x20session:','แก้ไขหัวข้อสำเร็จ','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20**ตรวจสอบความถูกต้อง:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้อง\x20->\x20ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20**กรณีผิดหรือข้อมูลไม่ครบ\x20(สำคัญ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20หรือเป็นค่าว่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20หรือถ้า\x20\x22options\x22\x20ว่างเปล่า\x20หรือมีแต่ค่าขยะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และ\x20**ต้องสร้าง\x20\x22newOptionsPayload\x22**\x20ขึ้นมาใหม่\x20โดยมีกฎเหล็กดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20**ต้องเป็น\x20Array\x20ที่มี\x20String\x20จำนวน\x204\x20ตัวเลือกเสมอ**\x20(ห้ามขาด\x20ห้ามเกิน)\x20ประกอบด้วยคำตอบที่ถูก\x201\x20ข้อ\x20และตัวลวงสมเหตุสมผล\x203\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20ตำแหน่ง\x20(0-3)\x20ของข้อที่ถูก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องตรวจสอบ:\x20','mjx-container','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','localeCompare','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','wasConfident','การนับ','[data-topic-id=\x22','responseSchema','.use-hidden-parallel-shortcut-btn','ลบหัวข้อสำเร็จ','project-id-display','ลำดับเรขาคณิต\x20(GP)','<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>','keys','imageCode','ระยะเวลา\x20(วินาที):','active','_opt0\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','quiz-bank-modal','originalTopic','<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20(','Failed\x20to\x20refund\x20powerup:','shuffledQuiz','cancel-quiz-settings-btn','cloneNode','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','border-red-700','API\x20call\x20failed\x20with\x20status:\x20','cancel-bulk-quiz-settings-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','#e21b3c','Error\x20saving\x20reference\x20URL:','buyTime','กองดอง','show_results_and_answers','name_asc','.remove-shortcut-from-tab-btn','<button\x20data-quiz-id=\x22','ตารางความถี่','cancel-quiz-bank-btn','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','show-final-results-btn','สายลับจับบ้านเล็ก','revealOptions','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','getItem','add-parallel-shortcut-btn','.summary-bar-item','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','not_confident','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','classic','การวัด','.delete-hidden-file-shortcut-btn','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','<span\x20class=\x22block\x20text-sm\x20','promise','Error\x20generating\x20hybrid\x20quiz:','visibilitychange','behavior-log-container','```json',')\x22>','application/pdf','modal-timer-duration-label','<div\x20class=\x22','min','สายหมอก','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','pointercancel','หัวข้อหลักใหม่','shortcutId','canvas','.ai-content\x20td','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','value','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-white\x20text-gray-800','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','ไม่พบข้อมูลข้อสอบหลังเรียน','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','release','.answered','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)</span>','คำอธิบาย...','มุมพิเศษ\x2030°-60°-90°','.edit-hidden-shortcut-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','(นำโด่ง)','เกิดข้อผิดพลาดในการใช้ไอเทม','PERSEVERANCE','rgba(79,\x2070,\x20229,\x201)','open-global-live-btn','times','clientY','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20สำเร็จ','scheduled_pending','สร้างคำถามแบบเติมคำในช่องว่าง','comeback_king','ท้องฟ้า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','items','pointermove','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','.generate-lesson-btn','AI\x20ไม่สามารถอ่านข้อความได้','difficulty-level-select','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','scan-text-image-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','#retake-for-improvement-btn','filter','shuffleSetting','.question-editor-item[data-q-index=\x22','replace','Error\x20generating\x20from\x20link:','ระยะเวลา\x20(นาที):','index','Error\x20pairing\x20quizzes:','.bp-create-onet-quiz-btn','frequency','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show-results-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submit','querySelectorAll','text-green-800','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','shuffle-setting-select','podium','get','Error\x20regenerating\x20question\x20in\x20editor:','bg-white','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','results-display-select','student-back-to-home-btn','split','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','docChanges','แบบทดสอบนี้ปิดใช้งานอยู่','promptFeedback','Error\x20toggling\x20star\x20status:','ร้อยละประยุกต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','แอบชอบ','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','answering','timeBonusThisQuestion','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','latestScore','ผู้พิชิตดาว','shortcut-tabs-nav','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','deg','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','modal-confidence-mode-select','sin','กรุณาตั้งชื่อแท็บใหม่:','has','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','showRankings','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-100\x20text-green-800','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ป่าไม้','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','bp-modal-question-complexity-select','\x20สำเร็จ!','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p></div>','mixed','<div\x20class=\x22space-y-4\x22>','padStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาพิมพ์คำตอบของกลุ่ม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','\x5csqrt{$1}','endsWith','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','json','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','รอ...','.parallel-shortcut-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','blueprint-settings-modal','สมการตรีโกณมิติ','dragover','.move-shortcut-dropdown','first_try_ace','parent','/preferences/main','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','blueprint-topics-list-container','startedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','lineCap','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','scratchpad-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','admin-password-modal','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','$$$1$','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22','คู่คำตอบ...','text-indigo-600','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','กิจกรรมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-parallel-shortcuts-modal','COMEBACK_KING','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.bp-create-content-quiz-btn','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','\x20รายการ...','.topic-name-display','export-worksheet-pdf-btn','<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','documentElement','.edit-points-btn','<button\x20id=\x22','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','Error\x20starting\x20sync\x20game:','student-quiz-leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','manage-tab-content','(^|[^\x5c\x5c])\x5cb','2-digit','code','dragend','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','.delete-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>','ลำดับเลขคณิต\x20(AP)','sqrt','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-passcode-input','Error\x20processing\x20file\x20shortcut\x20click:','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','submit-group-answer-btn','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','cropper-modal','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','submissions','preScore','highlighter','.move-quiz-btn','ความเท่ากันทุกประการของสามเหลี่ยม','disabled','border-red-300\x20bg-red-50','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','quiz-settings-modal','Error\x20saving\x20shortcut\x20config:','ฟังก์ชันผกผัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','\x20(Player)\x20(ID:\x20','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','short_answer','ที่พิมพ์ได้\x20จำนวน\x20','มุมและการวัดมุม','values','results-tab-content','/players',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','save-blueprint-as-project-btn','fix-lesson-latex-btn','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','แมวเก้าชีวิต','Error\x20duplicating\x20quiz:','market-current-points','setAttributeNS','Error\x20generating\x20teaching\x20content:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22switch-responder-btn\x22\x20class=\x22bg-white/20\x20hover:bg-white/30\x20text-white\x20text-sm\x20font-semibold\x20px-3\x20py-2\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20transition-all\x20border\x20border-white/30\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x22></i>\x20เปลี่ยน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','🛡️','submission-status-chart','powerups','<input\x20type=\x22text\x22\x20id=\x22sync-short-answer-input\x22\x20inputmode=\x22decimal\x22\x20class=\x22w-full\x20max-w-lg\x20p-4\x20border-2\x20border-gray-300\x20rounded-lg\x20text-gray-800\x20text-3xl\x20text-center\x20font-bold\x20focus:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20outline-none\x22\x20placeholder=\x220\x22\x20autocomplete=\x22off\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','pairedQuizId','Failed\x20to\x20apply\x20forceConfident:','เนื้อหาสำหรับสอน:\x20','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','\x22\x20value=\x22false\x22\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','save-project-name-btn','tfrac','setFont','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','ภูเขา','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...','blueprint-tab','clientX','parallel-default-1','centralPot','ค่าคลาดเคลื่อนของการวัด','AI\x20did\x20not\x20return\x20any\x20content.','.\x20**กฎสำคัญ:\x20สำหรับสูตรคณิตศาสตร์\x20(LaTeX)\x20ต้องใช้\x20Double\x20Backslash\x20(\x5c\x5c)\x20นำหน้าคำสั่งเสมอ**\x20','mode-switcher-btn','fill_in_the_blank','ลบโปรเจคสำเร็จแล้ว','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','touchmove','Error\x20updating\x20old\x20quizzes:','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','AI\x20Formula\x20Fix\x20Error:','Error\x20during\x20blueprint\x20link\x20cleanup:','bg-red-700\x20text-white\x20font-bold','file-tab','viewBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','แก้ไขสูตรคณิตศาสตร์\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentQuestionIndex','lesson-plan-content','results_','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','false','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','backgroundColor','multiple_choice','เกิดข้อผิดพลาดในการใช้ตัวช่วย','team','file.txt','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','create-from-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz-tab-content','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20settings:','\x22\x20name=\x22drill_answer\x22\x20value=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','สร้างชุดคำถามจับคู่','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','pointsAwarded','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','loader-text','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ย้ายแบบทดสอบสำเร็จ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','9833537HuLQBS','topicId','totalQuestions','Error\x20generating\x20lesson\x20plan:','cancel-delete-btn','cancel-crop-btn','Error\x20toggling\x20pin\x20status:','เกิดข้อผิดพลาดในการอ่านไฟล์','responder-selection-overlay','ซื้อ\x20(','สร้างโปรเจคสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','ai-quiz-app-aefee.firebaseapp.com','eraser-tools-group','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20','CEOพันล้าน','modal-confidence-scoring-checkbox','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-800','text-emerald-900','.shortcut-list-item','bp-reference-file-url','none','blueprint-input-area','<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','createOscillator','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','reduce','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','close-additional-shortcuts-btn','Error\x20saving\x20visibility\x20settings:','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','อัตราส่วนและสัดส่วน','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','scale','live-game','การปัดเศษและประมาณค่า','trail-tool-btn','.view-bp-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบ:\x20','Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):','.pin-project-btn','bp-topic-list-container','additional-file-shortcuts-list','<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','นอนไม่พอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','pinnedProjects','.tab-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#view-rankings-btn','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','Original\x20quiz\x20not\x20found','hidden\x20bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20flex\x20items-center\x20gap-2\x20ml-auto\x20transition-all','save-quiz-edits-btn','rgba(255,\x20255,\x200,\x200.5)','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','correctAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','การเรียงสับเปลี่ยน\x20(Permutation)','.presentation-option','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','border-gray-200','bg-gray-100\x20opacity-70','save','string','✂️\x20ตัด\x201\x20ตัวเลือก','log','Error\x20deleting\x20student:','สร้างแบบทดสอบ','progress-student-select','รายงานผลคะแนน','เกมสิ้นสุดลงแล้ว','title','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','opacity-50','ยอดเยี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','ไม่พบข้อมูลผู้ใช้','word-break:\x20break-all;','28px',',\x20คละกันระหว่างปรนัยและเติมคำ.\x20','<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','ปุ่มลัดทั้งหมด','fiftyFifty','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x20leading-tight\x22>','print','student-progress-content','.file-shortcut-btn[data-id=\x22','export-tutor-pdf-btn','getTime','bg-indigo-600\x20hover:bg-indigo-700','ซามูไรสายเดี่ยว','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','wagerMultiplier','live-short-answer-input','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','\x22...','button[type=\x22submit\x22]','destroy','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','\x22\x20สำเร็จ','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loopUntilPass','inactive','เกิดข้อผิดพลาดในการสร้าง:\x20','Error\x20deleting\x20project:','New\x20question\x20detected.\x20Cleaning\x20up.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','px)\x20scale(','scrollHeight','parallel-shortcut-url-input','generate-from-text-btn','กำลังสร้างเนื้อหา:\x20','</span><button\x20data-player-name=\x22','geq','<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20','.live-answer-btn','applicationData','additional-file-shortcuts-modal','.live-summary-tooltip.visible','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','beforeend','idealAnswer','keydown','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','admin-view','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','\x22\x5cn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','แผนการสอน','ดูผลสรุปสุดท้าย','input[name=\x22question_single\x22]:checked','ห.ร.ม.\x20(GCD)','sync-timer-duration-container','Error\x20submitting\x20group\x20answer:','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','content','firstScore','parseFromString','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','toFixed','เสือซ่อนเล็บ','use-powerup-revealOptions','verify-answers-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','export-image-btn','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','currentTime','leaderboard','every','requestFullscreen','includes','การยืนยันตัวตนล้มเหลว','.order-badge','getTextContent','<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20','overallGroups','เส้นตรง:\x20รูปแบบสมการ','.status','ตัวแทนแห่งดวงจันทร์','powerup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label></div>','save-file-shortcut-btn','\x20ข้อ\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','playerName','isAdaptive','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','1000px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>','td,\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','setTransform','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','กำลังกลับเข้าสู่เกม\x20','ทำคะแนนได้เกินครึ่ง','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','webkitExitFullscreen','.shortcut-list-item:not(.opacity-50)','บันทึกการตั้งค่าการแสดงผลสำเร็จ','save-quiz-btn','practiceProblems','Error\x20verifying\x20answers\x20in\x20editor:','removeItem','</span>','leaderboard_','removeAttribute','message','\x22\x20data-topic=\x22','teacherSuggestions','file-shortcut_','duration-300','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/plain','width\x2060s\x20linear','<tr>','เกิดข้อผิดพลาดในการสร้างห้องเกม','fileShortcutsConfig','behavior-log-tab-content','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr\x20class=\x22','fa-user-astronaut\x20text-blue-700','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','tGain','sync-timer-enable-checkbox','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','ทฤษฎีบทพื้นฐานของแคลคูลัส','transition-transform','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','พบข้อสอบ\x20','text-red-700\x20bg-red-100','delete-svg-btn','Detecting\x20unsaved\x20game\x20upon\x20resume...\x20Saving\x20now.','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','หมูกระทะจะเยียวยาทุกสิ่ง','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','ฟังก์ชันราก\x20(root)','#open-additional-parallel-shortcuts-btn','user-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ชิ้น)','bank-quiz-search-input','onblur','docs','.shortcut-tab-btn','anon-settings-container','Failed\x20to\x20apply\x20jinx:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20(สำหรับ\x20','quadraticCurveTo','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','เทพทรู','change','ไม่มีคำอธิบาย','.verification-result','scores','image-to-crop','bp-modal-quiz-type-select','per-q-countdown','scratchpad-controls','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','editor-quiz-topic',')</button>','ครัวซองต์','.quiz-bank-checkbox:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','generate-worksheet-btn','.delete-student-btn','ค่าเสื่อมราคา','กรุณาใส่ชื่อโปรเจค','lesson-loader-text','การจัดหมู่\x20(Combination)','mouse','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','behavior-log-tab-btn','quiz-search-input','open-blueprint-projects-btn','(ก่อนเรียน)','shortcuts','ไม่พบข้อมูลโปรเจค','generate-from-parallel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loop-until-pass-checkbox','parallel-shortcut-editor-modal','cancel-manual-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','mousemove','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','copy','เพื่อนสนิท','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x22\x20min=\x221\x22\x20max=\x22','live-race','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','text/html','เกมเมอร์','ไก่ฟ้าพญาลอ','.score','ค.ร.น.\x20(LCM)','ฮัลค์','added','QUICK_THINKER','กรุณาเลือกคำตอบก่อนครับ','.space-y-1.pl-4','autoTable','helvetica','list','parallel-shortcuts-loading-msg','คะแนนเต็ม','bp-quiz-settings-btn','สรุปอันดับ','ตลาดมืด\x20(-1\x20P)','bp-modal-passing-score-input','บทเรียนเรื่อง:\x20','afterend','เกิดข้อผิดพลาดในการลบผลสอบ','15167637KOUghg','user','dim-overlay','<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22><div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i><span>ON\x20FIRE!\x20คะแนน\x20x2</span><i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i></div></div>','bg-green-200\x20text-green-900\x20font-bold','startsWith','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','state','isBlackMarketEnabled','str','results-quiz-title','join-live-game-btn','scratchpad-options','upperGroupResponders','Error\x20saving\x20questions\x20to\x20practice\x20bank:','<h1></h1>','projectName','<div\x20class=\x22answer-space\x22></div>','ยืนยันการกระทำ','/public/data/syncGames'];_0x4368=function(){return _0x14d5bf;};return _0x4368();}function cleanupQuizOptions(_0x4a3ac0){const _0x157b30=_0xc7d29a,_0xe2765=(_0x3b222d,_0x6c7c4b)=>_0x6c7c4b===0x0?_0x3b222d:_0xe2765(_0x6c7c4b,_0x3b222d%_0x6c7c4b),_0x335559=_0xa0b73e=>{const _0x71152a=_0x3c23;if(typeof _0xa0b73e!==_0x71152a(0xcdc))return null;_0xa0b73e=_0xa0b73e[_0x71152a(0x649)]();const _0x19e1a4=_0xa0b73e[_0x71152a(0xbaa)](/[ /]/)['filter'](_0x4e45d1=>_0x4e45d1!=='');if(_0x19e1a4[_0x71152a(0x3bb)]===0x3)return parseInt(_0x19e1a4[0x0])+parseInt(_0x19e1a4[0x1])/parseInt(_0x19e1a4[0x2]);else{if(_0x19e1a4['length']===0x2)return parseInt(_0x19e1a4[0x0])/parseInt(_0x19e1a4[0x1]);else{if(_0x19e1a4[_0x71152a(0x3bb)]===0x1&&!isNaN(_0x19e1a4[0x0]))return parseFloat(_0x19e1a4[0x0]);}}return null;},_0x171f03=_0x6a4048=>{const _0x1d2059=_0x3c23;if(typeof _0x6a4048!==_0x1d2059(0xcdc))return _0x6a4048;const _0x25d170=_0x6a4048[_0x1d2059(0x6fc)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x25d170){const _0x15bb34=parseInt(_0x25d170[0x1]);let _0x21e76f=parseInt(_0x25d170[0x2]),_0x27be0a=parseInt(_0x25d170[0x3]);const _0x570ce5=_0xe2765(_0x21e76f,_0x27be0a);_0x21e76f/=_0x570ce5,_0x27be0a/=_0x570ce5;if(_0x27be0a===0x1)return(_0x15bb34+_0x21e76f)[_0x1d2059(0x225)]();return _0x15bb34+'\x20'+_0x21e76f+'/'+_0x27be0a;}return _0x6a4048;};return _0x4a3ac0&&_0x4a3ac0[_0x157b30(0x763)]&&_0x4a3ac0[_0x157b30(0x763)][_0x157b30(0x3f4)](_0x2f222f=>{const _0x11867e=_0x157b30;if(_0x2f222f[_0x11867e(0xd53)]===_0x11867e(0xc7b)&&_0x2f222f[_0x11867e(0x764)]){const _0x2055f5=new Map(),_0x40e3c4=_0x2f222f[_0x11867e(0x764)][_0x2f222f[_0x11867e(0xcd4)]];_0x2f222f[_0x11867e(0x764)]['forEach'](_0x385eb5=>{const _0x4fa774=_0x11867e,_0xf213e4=_0x171f03(_0x385eb5),_0x48f1a3=_0x335559(_0xf213e4);_0x48f1a3!==null&&!_0x2055f5['has'](_0x48f1a3)&&_0x2055f5[_0x4fa774(0x12a)](_0x48f1a3,_0xf213e4);}),_0x2f222f[_0x11867e(0x764)]=Array[_0x11867e(0x617)](_0x2055f5[_0x11867e(0xc37)]());const _0x435bce=_0x2f222f[_0x11867e(0x764)][_0x11867e(0x57c)](_0x57fc06=>_0x57fc06===_0x171f03(_0x40e3c4));_0x2f222f['correctAnswerIndex']=_0x435bce!==-0x1?_0x435bce:0x0;}}),_0x4a3ac0;}function showGameStartConfirmationModal(_0x47aee6,_0x24e125,_0x11a76b){const _0x1bc09b=_0xc7d29a,_0x57f7ab=document['getElementById'](_0x1bc09b(0x222));document['getElementById'](_0x1bc09b(0x2c0))[_0x1bc09b(0x1ae)]=_0x1bc09b(0xa16)+_0x11a76b,document[_0x1bc09b(0x8cb)]('game-start-quiz-id')[_0x1bc09b(0xb66)]=_0x47aee6,document[_0x1bc09b(0x8cb)](_0x1bc09b(0x55d))[_0x1bc09b(0xb66)]=_0x24e125,document[_0x1bc09b(0x8cb)](_0x1bc09b(0x7bd))[_0x1bc09b(0x4d7)]=!![];const _0x2976a0=document[_0x1bc09b(0x8cb)]('sync-variant-selector'),_0x2597f5=document[_0x1bc09b(0x8cb)](_0x1bc09b(0xd70)),_0x17f344=document[_0x1bc09b(0x8cb)](_0x1bc09b(0xd21)),_0xbb7608=document[_0x1bc09b(0x8cb)](_0x1bc09b(0x1e7)),_0x2b2d05=document[_0x1bc09b(0x8cb)](_0x1bc09b(0xd88));if(_0x24e125===_0x1bc09b(0x7ea)){_0x2976a0['classList'][_0x1bc09b(0xc8b)](_0x1bc09b(0x1c9));const _0x1d92b4=_0x1bc09b(0x2ec);document[_0x1bc09b(0x947)](_0x1bc09b(0x694)+_0x1d92b4+'\x22]')['checked']=!![];if(_0x2b2d05)_0x2b2d05[_0x1bc09b(0x144)][_0x1bc09b(0xc8b)](_0x1bc09b(0x1c9));_0x2597f5[_0x1bc09b(0x4d7)]=!![],_0x17f344[_0x1bc09b(0x144)][_0x1bc09b(0xc8b)](_0x1bc09b(0x1c9)),document['getElementById'](_0x1bc09b(0xe73))[_0x1bc09b(0xb66)]=_0x1bc09b(0x598),_0xbb7608['classList'][_0x1bc09b(0xc8b)](_0x1bc09b(0x1c9)),document[_0x1bc09b(0x8cb)](_0x1bc09b(0x66b))['checked']=!![];}else{_0x2976a0[_0x1bc09b(0x144)][_0x1bc09b(0x743)]('hidden');if(_0x2b2d05)_0x2b2d05[_0x1bc09b(0x144)][_0x1bc09b(0x743)](_0x1bc09b(0x1c9));_0x2597f5[_0x1bc09b(0x4d7)]=![],_0x17f344[_0x1bc09b(0x144)][_0x1bc09b(0x743)](_0x1bc09b(0x1c9)),_0xbb7608[_0x1bc09b(0x144)]['add'](_0x1bc09b(0x1c9));}_0x57f7ab[_0x1bc09b(0x144)]['remove']('hidden');}async function saveGameResultsAsSubmissions(_0x570eac){const _0x1c4cec=_0xc7d29a;if(_0x570eac[_0x1c4cec(0x6de)]){console[_0x1c4cec(0xcde)](_0x1c4cec(0x7a9));return;}console[_0x1c4cec(0xcde)]('Saving\x20game\x20results\x20(Optimized)...',_0x570eac);const _0x55ee95=_0x570eac[_0x1c4cec(0x9fe)];let _0x5b1baa=[];if(_0x570eac['players'])_0x5b1baa=Object[_0x1c4cec(0x9b1)](_0x570eac[_0x1c4cec(0x14d)])[_0x1c4cec(0x283)](([_0x399077,_0x148941])=>({'name':_0x399077,..._0x148941}));else _0x570eac[_0x1c4cec(0xe2c)]&&Object[_0x1c4cec(0xc37)](_0x570eac[_0x1c4cec(0xe2c)])[_0x1c4cec(0x3f4)](_0x3928ae=>{const _0x5bf485=_0x1c4cec;_0x3928ae[_0x5bf485(0x7c7)]['forEach'](_0x1ea522=>{const _0x1fd154=_0x5bf485;_0x5b1baa['push']({'name':_0x1ea522,'score':_0x3928ae['score'],'answers':_0x3928ae[_0x1fd154(0xea)]});});});if(_0x5b1baa[_0x1c4cec(0x3bb)]===0x0)return;const _0x3fcb9f=_0x570eac['shuffledQuiz']?.['questions'][_0x1c4cec(0x3bb)]||currentQuizData[_0x1c4cec(0x763)][_0x1c4cec(0x3bb)],_0x57a441=writeBatch(db),_0x61d4ad=_0x570eac['shuffledQuiz']?.[_0x1c4cec(0x8d2)]||currentQuizData?.[_0x1c4cec(0x8d2)]||currentProjectId,_0x4f5fbe={};for(const _0x42e2fc of _0x5b1baa){const _0x1fb88c=doc(db,'artifacts/'+appId+_0x1c4cec(0x360)+_0x55ee95+'/submissions',_0x42e2fc[_0x1c4cec(0xa48)]),_0x4cfd14=(_0x42e2fc[_0x1c4cec(0xea)]||[])['filter'](_0x4eecaf=>_0x4eecaf['isCorrect'])['length'];let _0x17b5d5=_0x42e2fc['totalPoints']!==undefined?_0x42e2fc[_0x1c4cec(0x540)]:_0x4cfd14,_0x1b4483=_0x42e2fc[_0x1c4cec(0x175)]||[];if(_0x4cfd14===_0x3fcb9f&&_0x3fcb9f>0x0){if(!_0x1b4483['includes']('perfect_score'))_0x1b4483[_0x1c4cec(0x77f)](_0x1c4cec(0x23e));}const _0x54b003={'score':_0x4cfd14,'points':_0x17b5d5,'badges':_0x1b4483,'submittedAt':new Date()[_0x1c4cec(0x77d)](),'isSyncGame':!![],'answers':(_0x42e2fc['answers']||[])['map'](_0x31fa34=>({'questionId':_0x31fa34[_0x1c4cec(0x1f0)],'answer':_0x31fa34[_0x1c4cec(0x2b9)],'answerText':_0x31fa34[_0x1c4cec(0xa72)],'isCorrect':_0x31fa34[_0x1c4cec(0x2a6)],'originalQuestionText':_0x31fa34[_0x1c4cec(0x37d)],'wasConfident':_0x31fa34[_0x1c4cec(0xb1a)],'powerupUsed':_0x31fa34[_0x1c4cec(0x1a0)]||null}))},_0x30326e=await getDoc(_0x1fb88c),_0x4ce894=_0x30326e[_0x1c4cec(0x45f)]()?_0x30326e[_0x1c4cec(0x241)]():{},_0x57672e=_0x4ce894['points']||0x0;let _0x17d581=0x0;_0x17b5d5>_0x57672e&&(_0x17d581=_0x17b5d5-_0x57672e);const _0x30d6a9={'studentName':_0x42e2fc[_0x1c4cec(0xa48)],'totalQuestions':_0x3fcb9f,'attempts':arrayUnion(_0x54b003),'latestScore':_0x4cfd14,'points':Math[_0x1c4cec(0xa73)](_0x57672e,_0x17b5d5),'latestSubmittedAt':_0x54b003[_0x1c4cec(0x85e)],'bestScore':Math['max'](_0x4ce894[_0x1c4cec(0x143)]||0x0,_0x4cfd14),'firstScore':_0x4ce894['firstScore']!==undefined?_0x4ce894[_0x1c4cec(0xd25)]:_0x4cfd14};_0x57a441['set'](_0x1fb88c,_0x30d6a9,{'merge':!![]}),_0x61d4ad&&(!_0x4f5fbe[_0x42e2fc[_0x1c4cec(0xa48)]]&&(_0x4f5fbe[_0x42e2fc[_0x1c4cec(0xa48)]]={'pointsToAdd':0x0,'badgesToAdd':[]}),_0x4f5fbe[_0x42e2fc[_0x1c4cec(0xa48)]][_0x1c4cec(0x7db)]+=_0x17d581,_0x1b4483[_0x1c4cec(0x3f4)](_0x4111fa=>{const _0x1c2bbf=_0x1c4cec;_0x4f5fbe[_0x42e2fc['name']][_0x1c2bbf(0x176)][_0x1c2bbf(0x77f)](_0x4111fa);}));}if(_0x61d4ad)for(const [_0x5f010e,_0x10e44f]of Object[_0x1c4cec(0x9b1)](_0x4f5fbe)){if(_0x10e44f[_0x1c4cec(0x7db)]>0x0||_0x10e44f[_0x1c4cec(0x176)][_0x1c4cec(0x3bb)]>0x0){const _0x11bca5=doc(db,_0x1c4cec(0x9c2)+appId+'/public/data/projects/'+_0x61d4ad+'/studentProfiles',_0x5f010e),_0x4db721={'studentName':_0x5f010e,'totalPoints':increment(_0x10e44f['pointsToAdd'])};_0x10e44f[_0x1c4cec(0x176)][_0x1c4cec(0x3f4)](_0x212e05=>{_0x4db721['badgesCount.'+_0x212e05]=increment(0x1);}),_0x57a441['set'](_0x11bca5,_0x4db721,{'merge':!![]});}}try{if(currentLiveGameId){const _0x3f4715=doc(db,_0x1c4cec(0x9c2)+appId+_0x1c4cec(0xde7),currentLiveGameId);_0x57a441[_0x1c4cec(0x733)](_0x3f4715,{'resultsSaved':!![]});}await _0x57a441[_0x1c4cec(0x6ea)](),console[_0x1c4cec(0xcde)]('Save\x20complete\x20(Optimized\x20Read)'),showMessage(_0x1c4cec(0x844));}catch(_0x1c86da){console['error'](_0x1c4cec(0x9cc),_0x1c86da),showMessage(_0x1c4cec(0x5fb));}}async function saveQuiz(_0x2c7f00=null,_0x567169=null){const _0x1c356e=_0xc7d29a,_0xbc4323=_0x2c7f00||currentProjectId;if(!_0xbc4323){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x1c356e(0x309));return;}const _0x25d2e3=document[_0x1c356e(0x8cb)](_0x1c356e(0xd58));_0x25d2e3[_0x1c356e(0xc2b)]=!![],_0x25d2e3[_0x1c356e(0x22a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x2f4354=document['getElementById']('pre-test-checkbox')['checked'];let _0x3a78e0=document[_0x1c356e(0x8cb)](_0x1c356e(0x17a))['innerText']['trim']();_0x2f4354&&!_0x3a78e0[_0x1c356e(0xdd8)](_0x1c356e(0xda8))&&(_0x3a78e0=_0x1c356e(0x8a8)+_0x3a78e0);try{const _0x2caa9f={'resultsDisplay':document[_0x1c356e(0x8cb)](_0x1c356e(0xba8))[_0x1c356e(0xb66)],'shuffle':document[_0x1c356e(0x8cb)](_0x1c356e(0xba2))['value'],'timerMode':document[_0x1c356e(0x8cb)](_0x1c356e(0xe1))[_0x1c356e(0xb66)],'timerDuration':parseInt(document['getElementById'](_0x1c356e(0x4cb))[_0x1c356e(0xb66)])||0xa,'passingScore':parseInt(document[_0x1c356e(0x8cb)](_0x1c356e(0x4f0))[_0x1c356e(0xb66)])||0x0,'isAdaptive':document[_0x1c356e(0x8cb)](_0x1c356e(0x605))[_0x1c356e(0x4d7)],'loopUntilPass':document[_0x1c356e(0x8cb)](_0x1c356e(0xdad))[_0x1c356e(0x4d7)]},_0x23dfb3=currentQuizData[_0x1c356e(0x7f3)]||document[_0x1c356e(0x8cb)](_0x1c356e(0x9b0))[_0x1c356e(0xb66)],_0x4657b8=(currentQuizData[_0x1c356e(0x763)]||[])[_0x1c356e(0x283)]((_0x37c85f,_0x5b650a)=>{const _0x43fa77=_0x1c356e,_0x3a3602={'id':'q_'+Date[_0x43fa77(0x2da)]()+'_'+_0x5b650a,'questionText':_0x37c85f[_0x43fa77(0x3ab)]||'','explanation':_0x37c85f['explanation']||_0x43fa77(0xd90),'questionType':_0x37c85f[_0x43fa77(0xd53)]||_0x23dfb3,'imageCode':_0x37c85f[_0x43fa77(0xb24)]||null};return(_0x3a3602[_0x43fa77(0xd53)]===_0x43fa77(0xc7b)||_0x3a3602[_0x43fa77(0xd53)]===_0x43fa77(0x7ec)||_0x3a3602[_0x43fa77(0xd53)]==='mixed'&&_0x37c85f['options'])&&(_0x3a3602['options']=_0x37c85f[_0x43fa77(0x764)]||[],_0x3a3602[_0x43fa77(0xcd4)]=_0x37c85f[_0x43fa77(0xcd4)]!==undefined?_0x37c85f[_0x43fa77(0xcd4)]:0x0),(_0x3a3602[_0x43fa77(0xd53)]===_0x43fa77(0xc34)||_0x3a3602[_0x43fa77(0xd53)]===_0x43fa77(0x8f8)||_0x3a3602[_0x43fa77(0xd53)]===_0x43fa77(0xbd0)&&_0x37c85f[_0x43fa77(0xd16)])&&(_0x3a3602['idealAnswer']=_0x37c85f[_0x43fa77(0xd16)]||''),_0x3a3602[_0x43fa77(0xd53)]===_0x43fa77(0x206)&&(_0x3a3602[_0x43fa77(0x124)]=_0x37c85f['correctAnswer']===!![]),_0x3a3602[_0x43fa77(0xd53)]===_0x43fa77(0x6cf)&&(_0x3a3602[_0x43fa77(0x23b)]=_0x37c85f[_0x43fa77(0x23b)]||'',_0x3a3602[_0x43fa77(0x9b7)]=_0x37c85f[_0x43fa77(0x9b7)]||'',_0x3a3602['allResponses']=_0x37c85f[_0x43fa77(0x872)]||[]),_0x3a3602;}),_0x19d841={'topic':_0x3a78e0,'quizType':_0x23dfb3,'questions':_0x4657b8,'projectId':_0xbc4323,'createdBy':userId,'createdAt':new Date()[_0x1c356e(0x77d)](),'status':'active','settings':_0x2caa9f,'quizMode':_0x2f4354?_0x1c356e(0x526):'standard','pairedQuizId':null,'lessonPlan':null};let _0x193eb0;while(!![]){_0x193eb0=Math[_0x1c356e(0x6da)](0x3e8+Math[_0x1c356e(0xe46)]()*0x2328)[_0x1c356e(0x225)]();const _0xf3bcc0=await getDoc(doc(db,'artifacts/'+appId+_0x1c356e(0x843),_0x193eb0));if(!_0xf3bcc0[_0x1c356e(0x45f)]())break;}await setDoc(doc(db,_0x1c356e(0x9c2)+appId+_0x1c356e(0x843),_0x193eb0),_0x19d841);if(_0x567169&&currentBlueprintProjectId)try{const _0x571971=doc(db,_0x1c356e(0x9c2)+appId+_0x1c356e(0x8a2),currentBlueprintProjectId);await updateDoc(_0x571971,{[_0x1c356e(0x68d)+_0x567169+'.linkedQuizIds']:arrayUnion(_0x193eb0)});}catch(_0x3a4825){console['error'](_0x1c356e(0x58b),_0x3a4825);}currentQuizData[_0x1c356e(0x7c2)]=_0x2caa9f,currentQuizData['id']=_0x193eb0;const _0xd65f24=document['getElementById'](_0x1c356e(0x8fb));_0xd65f24[_0x1c356e(0x22a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x193eb0+_0x1c356e(0x48c),document[_0x1c356e(0x8cb)]('copy-quiz-id-btn')[_0x1c356e(0x38d)](_0x1c356e(0x9b4),()=>copyTextToClipboard(_0x193eb0,_0x1c356e(0x53e))),document[_0x1c356e(0x8cb)](_0x1c356e(0x36a))[_0x1c356e(0x38d)](_0x1c356e(0x9b4),()=>handleStartLiveRace(_0x193eb0)),document[_0x1c356e(0x8cb)](_0x1c356e(0x167))[_0x1c356e(0x38d)](_0x1c356e(0x9b4),()=>startPresentation(currentQuizData)),document[_0x1c356e(0x8cb)](_0x1c356e(0x32d))['addEventListener'](_0x1c356e(0x9b4),startAdminTest),showMessage(_0x1c356e(0xe24));}catch(_0x19d850){console[_0x1c356e(0x3e8)](_0x1c356e(0x337),_0x19d850),showMessage(_0x1c356e(0x6d7));}finally{_0x25d2e3['disabled']=![],_0x25d2e3[_0x1c356e(0x22a)]=_0x1c356e(0xa91);}}function promptForProjectAndSave(){const _0x304e19=_0xc7d29a,_0x541410=document['getElementById']('move-quiz-modal'),_0x5515dc=document[_0x304e19(0x8cb)]('move-quiz-project-select'),_0x100109=_0x541410[_0x304e19(0x947)]('h3'),_0x324abf=document['getElementById'](_0x304e19(0x1b2));_0x100109[_0x304e19(0x1ae)]=_0x304e19(0x689),_0x324abf[_0x304e19(0x1ae)]=_0x304e19(0x303);allProjects[_0x304e19(0x3bb)]===0x0?(_0x5515dc['innerHTML']=_0x304e19(0x2dd),_0x324abf[_0x304e19(0xc2b)]=!![]):(_0x5515dc[_0x304e19(0x22a)]=allProjects[_0x304e19(0x283)](_0xda4d4a=>_0x304e19(0xb0b)+_0xda4d4a['id']+'\x22>'+_0xda4d4a['projectName']+_0x304e19(0x4d9))[_0x304e19(0x922)](''),_0x324abf[_0x304e19(0xc2b)]=![]);_0x541410['classList'][_0x304e19(0xc8b)](_0x304e19(0x1c9));const _0xda0602=()=>{const _0xa498a9=_0x304e19,_0x56fa8e=_0x5515dc[_0xa498a9(0xb66)];_0x56fa8e?(currentProjectId=_0x56fa8e,_0x541410['classList']['add']('hidden'),saveQuiz(),_0x100109[_0xa498a9(0x1ae)]=_0xa498a9(0x5f4),_0x324abf['textContent']='ย้าย',_0x324abf['removeEventListener'](_0xa498a9(0x9b4),_0xda0602),_0x324abf['addEventListener'](_0xa498a9(0x9b4),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x324abf[_0x304e19(0xdf5)]('click',confirmMoveQuiz),_0x324abf[_0x304e19(0x38d)](_0x304e19(0x9b4),_0xda0602);}function copyTextToClipboard(_0x57e692,_0x172c2e){const _0x4ed232=_0xc7d29a,_0x2ee4f1=document[_0x4ed232(0x4d6)](_0x4ed232(0x147));_0x2ee4f1[_0x4ed232(0xb66)]=_0x57e692,_0x2ee4f1['style'][_0x4ed232(0x892)]=_0x4ed232(0xa8d),_0x2ee4f1['style'][_0x4ed232(0xaff)]='0',document[_0x4ed232(0x8dc)][_0x4ed232(0x4cf)](_0x2ee4f1),_0x2ee4f1['focus'](),_0x2ee4f1['select']();try{const _0x26775e=document[_0x4ed232(0x5ac)](_0x4ed232(0xdb6));showMessage(_0x26775e?_0x172c2e:_0x4ed232(0x4a3));}catch(_0x1c57bb){showMessage('คัดลอกไม่สำเร็จ'),console[_0x4ed232(0x3e8)](_0x4ed232(0x91d),_0x1c57bb);}document[_0x4ed232(0x8dc)][_0x4ed232(0x94d)](_0x2ee4f1);}function listenForProjectQuizzes(_0x53a32d){const _0x2d2f34=_0xc7d29a,_0x4831c9=collection(db,_0x2d2f34(0x9c2)+appId+_0x2d2f34(0x843)),_0x47927e=query(_0x4831c9,where(_0x2d2f34(0x8d2),'==',_0x53a32d));unsubscribeQuizzesListener=onSnapshot(_0x47927e,async _0x48d9c2=>{const _0x56a6f0=_0x2d2f34;allQuizzes=_0x48d9c2[_0x56a6f0(0xd86)][_0x56a6f0(0x283)](_0x1180de=>({'id':_0x1180de['id'],..._0x1180de['data']()})),renderQuizzes();},_0x473cea=>{const _0x42e135=_0x2d2f34;console[_0x42e135(0x3e8)](_0x42e135(0x7ae),_0x473cea),document[_0x42e135(0x8cb)](_0x42e135(0xe3e))[_0x42e135(0x22a)]=_0x42e135(0xad7);});}async function renderQuizzes(){const _0x2ce249=_0xc7d29a,_0x13bfd6=document[_0x2ce249(0x8cb)]('project-quizzes-list'),_0x496285=document['getElementById'](_0x2ce249(0xda6))[_0x2ce249(0xb66)][_0x2ce249(0xdfe)]();let _0x3df68b;currentProjectId===_0x2ce249(0x42a)?_0x3df68b=starredQuizzes:_0x3df68b=allQuizzes;let _0xe4a75e=_0x3df68b[_0x2ce249(0xb8e)](_0x163d5f=>_0x163d5f[_0x2ce249(0x664)][_0x2ce249(0xdfe)]()['includes'](_0x496285));_0xe4a75e[_0x2ce249(0x9a7)]((_0x4aaa8d,_0x313915)=>new Date(_0x313915[_0x2ce249(0x99a)])-new Date(_0x4aaa8d['createdAt']));if(_0xe4a75e[_0x2ce249(0x3bb)]===0x0){_0x13bfd6[_0x2ce249(0x22a)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x560fdc={},_0x3947a1=_0xe4a75e[_0x2ce249(0x283)](async _0x1697ab=>{const _0x4c05dd=_0x2ce249,_0x1d7ede=collection(db,_0x4c05dd(0x9c2)+appId+'/public/data/quizzes/'+_0x1697ab['id']+_0x4c05dd(0x17c)),_0x150b3f=await getCountFromServer(_0x1d7ede);_0x560fdc[_0x1697ab['id']]=_0x150b3f['data']()[_0x4c05dd(0x845)];});await Promise[_0x2ce249(0x1fd)](_0x3947a1);let _0x3ec55a='';_0xe4a75e[_0x2ce249(0x3f4)](_0x5a5d4b=>{const _0x515528=_0x2ce249,_0x1551c0=_0x560fdc[_0x5a5d4b['id']]||0x0,_0x5d9ccf=_0x5a5d4b[_0x515528(0x20a)]||_0x515528(0xb26),_0x667c8f=_0x5a5d4b[_0x515528(0x7c2)]?.['timerMode']||_0x515528(0xcab);let _0x4bd029='',_0x5f2397='';const _0x1d1a27=new Date();let _0x5c6329=_0x5d9ccf;if(_0x5d9ccf===_0x515528(0x648)){const _0x51351d=_0x5a5d4b[_0x515528(0x86a)]?new Date(_0x5a5d4b[_0x515528(0x86a)]):null,_0x1123d0=_0x5a5d4b[_0x515528(0x56b)]?new Date(_0x5a5d4b[_0x515528(0x56b)]):null;if(_0x1123d0&&_0x1d1a27>_0x1123d0)_0x5c6329=_0x515528(0xd03);else _0x51351d&&_0x1d1a27<_0x51351d?_0x5c6329=_0x515528(0xb7d):_0x5c6329=_0x515528(0xb26);}switch(_0x5c6329){case'inactive':_0x4bd029='ปิดใช้งาน',_0x5f2397=_0x515528(0xd77);break;case _0x515528(0xb7d):_0x4bd029=_0x515528(0xdf2),_0x5f2397='text-blue-700\x20bg-blue-100';break;case _0x515528(0xb26):_0x4bd029=_0x667c8f!==_0x515528(0xcab)?_0x515528(0xa7f):'เปิดใช้งาน',_0x5f2397=_0x515528(0x8c8);break;default:_0x4bd029=_0x515528(0x444),_0x5f2397='text-green-700\x20bg-green-100';break;}let _0x51503e='';const _0x541f11={'day':_0x515528(0xc14),'month':_0x515528(0xc14),'year':_0x515528(0x3ca),'hour':_0x515528(0xc14),'minute':_0x515528(0xc14),'hour12':![]};if(_0x5d9ccf===_0x515528(0x648)){if(_0x5a5d4b[_0x515528(0x86a)])_0x51503e+=_0x515528(0x504)+new Date(_0x5a5d4b[_0x515528(0x86a)])[_0x515528(0x546)]('th-TH',_0x541f11)+'</p>';if(_0x5a5d4b[_0x515528(0x56b)])_0x51503e+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x5a5d4b[_0x515528(0x56b)])[_0x515528(0x546)](_0x515528(0x3a4),_0x541f11)+_0x515528(0x4f2);}let _0x2fdcf8='';if(_0x5a5d4b['pairedQuizId']){const _0x25bc7c=allQuizzes[_0x515528(0x7d2)](_0x253d7f=>_0x253d7f['id']===_0x5a5d4b[_0x515528(0xc4e)]);if(_0x25bc7c){let _0x5d7ccd,_0x9af3c2;new Date(_0x5a5d4b['createdAt'])<new Date(_0x25bc7c['createdAt'])?(_0x5d7ccd=_0x5a5d4b['id'],_0x9af3c2=_0x25bc7c['id']):(_0x5d7ccd=_0x25bc7c['id'],_0x9af3c2=_0x5a5d4b['id']),_0x2fdcf8+=_0x515528(0x1ac)+_0x9af3c2+'\x22\x20data-pre-test-id=\x22'+_0x5d7ccd+_0x515528(0xe6b);}}else _0x5a5d4b[_0x515528(0x36b)]===_0x515528(0x526)&&(_0x2fdcf8+=_0x515528(0x854)+_0x5a5d4b['id']+_0x515528(0x870));if(_0x5a5d4b['quizMode']===_0x515528(0x526)&&_0x1551c0>0x0)_0x2fdcf8+=_0x515528(0x854)+_0x5a5d4b['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x5a5d4b[_0x515528(0xc4e)]&&_0x5a5d4b[_0x515528(0x36b)]!=='pre-test'&&_0x1551c0>0x0&&(_0x2fdcf8+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5a5d4b['id']+_0x515528(0xca1));let _0x274a81='';_0x5a5d4b['pairedQuizId']?_0x274a81=_0x515528(0xb3e)+_0x5a5d4b['id']+_0x515528(0x32f):_0x274a81=_0x515528(0xb3e)+_0x5a5d4b['id']+_0x515528(0xd74);const _0x16b25c=_0x515528(0xa89)+_0x5a5d4b['id']+_0x515528(0x3c6);_0x3ec55a+=_0x515528(0x821)+_0x5a5d4b['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x5a5d4b[_0x515528(0x664)]+_0x515528(0xb0e)+_0x5a5d4b[_0x515528(0x763)][_0x515528(0x3bb)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x5a5d4b['createdAt'])[_0x515528(0x546)](_0x515528(0x3a4))+_0x515528(0x452)+_0x1551c0+_0x515528(0x672)+_0x51503e+_0x515528(0xc79)+_0x5f2397+'\x22>'+_0x4bd029+_0x515528(0x59a)+_0x5a5d4b['id']+_0x515528(0xbff)+_0x5a5d4b['id']+_0x515528(0x830)+(_0x5a5d4b['isStarred']?_0x515528(0x783):'far\x20fa-star')+_0x515528(0x7a6)+_0x2fdcf8+_0x515528(0x5f7)+_0x16b25c+_0x515528(0xcaf)+_0x5a5d4b['id']+_0x515528(0x5e0)+_0x5a5d4b['id']+_0x515528(0x6ab)+_0x5a5d4b['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5a5d4b['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5a5d4b['id']+_0x515528(0x806)+_0x5a5d4b['id']+_0x515528(0x512)+_0x5a5d4b['id']+_0x515528(0xd60)+_0x5a5d4b[_0x515528(0x664)]+_0x515528(0x78e)+_0x5a5d4b['id']+_0x515528(0x3a8)+_0x5a5d4b['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x274a81+_0x515528(0x934)+_0x5a5d4b['id']+_0x515528(0xa6a)+_0x5a5d4b['id']+_0x515528(0x36d)+_0x5a5d4b['id']+_0x515528(0xa56)+_0x5a5d4b['id']+_0x515528(0x330)+_0x5a5d4b['id']+_0x515528(0xd60)+_0x5a5d4b[_0x515528(0x664)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5a5d4b['id']+_0x515528(0x5bd);}),_0x13bfd6['innerHTML']=_0x3ec55a,document['querySelectorAll'](_0x2ce249(0x54e))[_0x2ce249(0x3f4)](_0x49c718=>{const _0x1efa38=_0x2ce249;_0x49c718[_0x1efa38(0x38d)](_0x1efa38(0x9b4),()=>{const _0x527a6a=_0x1efa38,_0x13d5a7=_0x49c718[_0x527a6a(0x5fd)][_0x527a6a(0x9fe)];showQuizDetailView(_0x13d5a7);});});}async function handleUnpairQuiz(_0x3e868a){const _0x546aa3=_0xc7d29a,_0x4589ae=allQuizzes[_0x546aa3(0x7d2)](_0x284597=>_0x284597['id']===_0x3e868a);if(!_0x4589ae||!_0x4589ae[_0x546aa3(0xc4e)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x546aa3(0xbfa),async()=>{const _0x4f4863=_0x546aa3;try{const _0x2dee20=doc(db,_0x4f4863(0x9c2)+appId+_0x4f4863(0x843),_0x3e868a),_0x3f7499=doc(db,'artifacts/'+appId+_0x4f4863(0x843),_0x4589ae['pairedQuizId']),_0x116a7f=writeBatch(db);_0x116a7f['update'](_0x2dee20,{'pairedQuizId':null}),_0x116a7f[_0x4f4863(0x733)](_0x3f7499,{'pairedQuizId':null}),await _0x116a7f[_0x4f4863(0x6ea)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x51502e){console[_0x4f4863(0x3e8)]('Error\x20unpairing\x20quizzes:',_0x51502e),showMessage(_0x4f4863(0xcd2));}});}function formatAndPrintLessonPlan(_0x218a46,_0x5febf8){const _0x15ebb1=_0xc7d29a,_0x4e7472=window['open']('','_blank'),_0x3bd7d7=_0x15ebb1(0x628)+_0x5febf8[_0x15ebb1(0x664)]+_0x15ebb1(0x3c5)+_0x5febf8[_0x15ebb1(0x664)]+_0x15ebb1(0x9fa)+_0x218a46['learningGaps'][_0x15ebb1(0x283)](_0x58bc8f=>'<li>'+_0x58bc8f+_0x15ebb1(0x19c))[_0x15ebb1(0x922)]('')+_0x15ebb1(0x82d)+_0x218a46[_0x15ebb1(0xe8)]+_0x15ebb1(0x897)+_0x218a46[_0x15ebb1(0xd59)]['map'](_0x1b04ba=>_0x15ebb1(0x96d)+_0x1b04ba['question']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x1b04ba[_0x15ebb1(0x6fd)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x15ebb1(0x961);_0x4e7472['document']['write'](_0x3bd7d7),_0x4e7472[_0x15ebb1(0xaa0)][_0x15ebb1(0x838)](),_0x4e7472[_0x15ebb1(0xa2d)]=function(){setTimeout(()=>{const _0xe8d922=_0x3c23;_0x4e7472[_0xe8d922(0xcf1)]();},0x3e8);};}async function handleAiFixFormula(_0x522927){const _0x510f4d=_0xc7d29a,_0x42300d=document['querySelector'](_0x510f4d(0xb90)+_0x522927+'\x22]');if(!_0x42300d)return;const _0x7151df=_0x42300d[_0x510f4d(0x5fd)][_0x510f4d(0x41b)],_0x338571=_0x42300d[_0x510f4d(0x947)]('.ai-fix-formula-btn');let _0x52bbb6={'question':_0x42300d[_0x510f4d(0x947)](_0x510f4d(0x147))[_0x510f4d(0xb66)]};switch(_0x7151df){case _0x510f4d(0xc7b):_0x52bbb6[_0x510f4d(0x764)]=Array[_0x510f4d(0x617)](_0x42300d[_0x510f4d(0xb9f)]('input[type=\x22text\x22]'))[_0x510f4d(0x283)](_0x34f976=>_0x34f976[_0x510f4d(0xb66)]);break;case'fill_in_no_choices':case _0x510f4d(0xc34):_0x52bbb6[_0x510f4d(0xd16)]=_0x42300d['querySelector']('.ideal-answer-input')[_0x510f4d(0xb66)];break;case _0x510f4d(0x6cf):_0x52bbb6[_0x510f4d(0x9b7)]=_0x42300d[_0x510f4d(0x947)](_0x510f4d(0xe2f))[_0x510f4d(0xb66)];break;}_0x338571[_0x510f4d(0x22a)]=_0x510f4d(0x6fe),_0x338571[_0x510f4d(0xc2b)]=!![];try{const _0x3b7f8a=_0x510f4d(0xce8)+JSON[_0x510f4d(0xa7e)](_0x52bbb6)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x232436={'type':'OBJECT','properties':{'fixedData':{'type':_0x510f4d(0x2c9),'properties':{'question':{'type':_0x510f4d(0x47b)},'options':{'type':_0x510f4d(0x991),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x510f4d(0x47b)},'correctResponse':{'type':_0x510f4d(0x47b)}},'required':['question']}},'required':[_0x510f4d(0x177)]},_0x3b3fce=await callAnalysisApi(_0x3b7f8a,_0x232436);if(_0x3b3fce&&_0x3b3fce['fixedData']){const _0x373b4a=_0x3b3fce[_0x510f4d(0x177)];_0x42300d[_0x510f4d(0x947)](_0x510f4d(0x147))[_0x510f4d(0xb66)]=_0x373b4a[_0x510f4d(0x5e5)]||_0x52bbb6[_0x510f4d(0x5e5)];switch(_0x7151df){case'multiple_choice':_0x373b4a[_0x510f4d(0x764)]&&_0x373b4a['options']['length']>0x0&&_0x42300d[_0x510f4d(0xb9f)](_0x510f4d(0x66d))[_0x510f4d(0x3f4)]((_0xd1339c,_0x542cb0)=>{const _0x434562=_0x510f4d;_0xd1339c[_0x434562(0xb66)]=_0x373b4a[_0x434562(0x764)][_0x542cb0]||_0x52bbb6['options'][_0x542cb0];});break;case'fill_in_no_choices':case'short_answer':_0x42300d[_0x510f4d(0x947)](_0x510f4d(0x6ad))[_0x510f4d(0xb66)]=_0x373b4a[_0x510f4d(0xd16)]||_0x52bbb6[_0x510f4d(0xd16)];break;case _0x510f4d(0x6cf):_0x42300d[_0x510f4d(0x947)](_0x510f4d(0xe2f))[_0x510f4d(0xb66)]=_0x373b4a[_0x510f4d(0x9b7)]||_0x52bbb6[_0x510f4d(0x9b7)];break;}showMessage(_0x510f4d(0x85c));}else throw new Error(_0x510f4d(0xac5));}catch(_0x25c5f9){console['error'](_0x510f4d(0xc6b),_0x25c5f9),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x338571[_0x510f4d(0x22a)]=_0x510f4d(0x959),_0x338571[_0x510f4d(0xc2b)]=![];}}async function handleGenerateLessonPlan(_0x456f88){const _0x3e1625=_0xc7d29a;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0xa5998e=doc(db,_0x3e1625(0x9c2)+appId+_0x3e1625(0x843),_0x456f88),_0x54b46b=await getDoc(_0xa5998e);if(!_0x54b46b[_0x3e1625(0x45f)]())throw new Error(_0x3e1625(0x47c));const _0x29c9ce={'id':_0x456f88,..._0x54b46b['data']()},_0x3aafd9=collection(db,_0x3e1625(0x9c2)+appId+_0x3e1625(0x843),_0x456f88,_0x3e1625(0xc26)),_0x3d3d17=await getDocs(_0x3aafd9),_0x12d0ad=_0x3d3d17[_0x3e1625(0xd86)][_0x3e1625(0x283)](_0x9cd55c=>_0x9cd55c[_0x3e1625(0x241)]());if(_0x12d0ad[_0x3e1625(0x3bb)]===0x0)throw new Error(_0x3e1625(0x46e));const _0x24038c=calculateItemAnalysis(_0x29c9ce,_0x12d0ad)[_0x3e1625(0x163)],_0x597d21=calculateDistractorAnalysis(_0x29c9ce,_0x12d0ad),_0x247648=_0x20d927=>{const _0x1a2974=_0x3e1625;if(!_0x20d927)return'';return _0x20d927['replace'](/\\/g,'\x5c\x5c')[_0x1a2974(0xb91)](/"/g,'\x5c\x22')[_0x1a2974(0xb91)](/\n/g,'\x5cn');};let _0x5292c4=_0x3e1625(0x998);_0x29c9ce[_0x3e1625(0x763)][_0x3e1625(0x3f4)]((_0x35a4ec,_0x455ae0)=>{const _0x50572b=_0x3e1625,_0x16d75f=_0x24038c[_0x455ae0]?.['p']['toFixed'](0x2)||_0x50572b(0x89b),_0x2ce544=_0x24038c[_0x455ae0]?.['r'][_0x50572b(0xd28)](0x2)||_0x50572b(0x89b),_0x3e7b73=_0x247648(_0x35a4ec[_0x50572b(0x3ab)]||_0x35a4ec[_0x50572b(0x23b)]);_0x5292c4+='-\x20ข้อ\x20'+(_0x455ae0+0x1)+_0x50572b(0x793)+_0x16d75f+_0x50572b(0xe16)+_0x2ce544+_0x50572b(0x35a)+_0x3e7b73+'\x5cn';if(_0x35a4ec[_0x50572b(0xd53)]===_0x50572b(0xc7b)&&_0x597d21[_0x455ae0]){const _0x278175=_0x597d21[_0x455ae0],_0x315f36=Object['keys'](_0x278175)[_0x50572b(0xb8e)](_0x2e5f87=>parseInt(_0x2e5f87)!==_0x35a4ec[_0x50572b(0xcd4)])[_0x50572b(0x9a7)]((_0x41b1dc,_0x4e8d1c)=>_0x278175[_0x4e8d1c][_0x50572b(0x398)]-_0x278175[_0x41b1dc]['total'])[0x0];if(_0x315f36&&_0x278175[_0x315f36][_0x50572b(0x398)]>0x0){const _0x41fc6a=_0x247648(_0x278175[_0x315f36][_0x50572b(0xb0d)]);_0x5292c4+=_0x50572b(0x932)+_0x41fc6a+_0x50572b(0xd1b);}}});const _0x41963d=_0x3e1625(0x655)+_0x29c9ce[_0x3e1625(0x664)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5292c4+_0x3e1625(0x760),_0x334a46={'type':_0x3e1625(0x2c9),'properties':{'learningGaps':{'type':_0x3e1625(0x991),'items':{'type':_0x3e1625(0x47b)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x3e1625(0x991),'items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'solution':{'type':_0x3e1625(0x47b)}}}}},'required':[_0x3e1625(0x403),_0x3e1625(0xe8),_0x3e1625(0xd59)]},_0x153a7c=await callAnalysisApi(_0x41963d,_0x334a46);await updateDoc(_0xa5998e,{'lessonPlan':_0x153a7c});const _0x251903='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x29c9ce[_0x3e1625(0x664)]+_0x3e1625(0x612)+_0x153a7c['learningGaps'][_0x3e1625(0x283)](_0x4611aa=>_0x3e1625(0x561)+_0x4611aa+_0x3e1625(0x19c))[_0x3e1625(0x922)]('')+_0x3e1625(0x514)+_0x153a7c[_0x3e1625(0xe8)]+_0x3e1625(0x6a9)+_0x153a7c['practiceProblems']['map'](_0x15765f=>_0x3e1625(0x14b)+_0x15765f[_0x3e1625(0x5e5)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x15765f['solution']+_0x3e1625(0x121))[_0x3e1625(0x922)]('')+_0x3e1625(0xa33);document['getElementById'](_0x3e1625(0x710))[_0x3e1625(0x1ae)]='แผนการสอน:\x20'+_0x29c9ce[_0x3e1625(0x664)],document[_0x3e1625(0x8cb)](_0x3e1625(0xc75))['innerHTML']=_0x251903,document['getElementById'](_0x3e1625(0x41f))[_0x3e1625(0x144)][_0x3e1625(0xc8b)](_0x3e1625(0x1c9));if(window['MathJax'])MathJax[_0x3e1625(0x31d)]();messageModal[_0x3e1625(0x144)][_0x3e1625(0x743)](_0x3e1625(0x1c9));}catch(_0x2fed77){console[_0x3e1625(0x3e8)](_0x3e1625(0xc95),_0x2fed77),showMessage(_0x3e1625(0x506)+_0x2fed77['message']);}}async function handleDuplicateQuiz(_0x49aad8){const _0x5c4bab=_0xc7d29a;try{const _0x1968bd=doc(db,_0x5c4bab(0x9c2)+appId+'/public/data/quizzes',_0x49aad8),_0xf0755c=await getDoc(_0x1968bd);if(_0xf0755c['exists']()){const _0x51defd=_0xf0755c[_0x5c4bab(0x241)]();let _0x107be3='',_0x1ab6ed=_0x5c4bab(0x67a),_0x352906=null;if(_0x51defd[_0x5c4bab(0x36b)]==='pre-test'){let _0x451204=_0x51defd[_0x5c4bab(0x664)][_0x5c4bab(0xb91)]('(ก่อนเรียน)','')[_0x5c4bab(0x649)]();_0x107be3='(หลังเรียน)\x20'+_0x451204,_0x1ab6ed=_0x5c4bab(0x541),_0x352906=_0x49aad8;}else _0x107be3='(คัดลอก)\x20'+_0x51defd[_0x5c4bab(0x664)];const _0x59df0b={..._0x51defd,'topic':_0x107be3,'createdAt':new Date()['toISOString'](),'quizMode':_0x1ab6ed,'pairedQuizId':_0x352906};let _0x2b51a4;while(!![]){_0x2b51a4=Math['floor'](0x3e8+Math['random']()*0x2328)['toString']();const _0x17be44=await getDoc(doc(db,'artifacts/'+appId+_0x5c4bab(0x843),_0x2b51a4));if(!_0x17be44['exists']())break;}const _0x9fdfb7=doc(db,_0x5c4bab(0x9c2)+appId+_0x5c4bab(0x843),_0x2b51a4);await setDoc(_0x9fdfb7,_0x59df0b),_0x59df0b[_0x5c4bab(0x36b)]===_0x5c4bab(0x541)&&await updateDoc(_0x1968bd,{'pairedQuizId':_0x2b51a4}),showMessage(_0x5c4bab(0xe39));}else throw new Error(_0x5c4bab(0xcce));}catch(_0x408665){console[_0x5c4bab(0x3e8)](_0x5c4bab(0xc40),_0x408665),showMessage(_0x5c4bab(0x814));}}async function handleDeleteQuiz(_0x522f9c,_0x4a9a63=!![]){const _0x9f2b81=_0xc7d29a;try{const _0x18e7a2=writeBatch(db),_0x4ed1e6=collection(db,_0x9f2b81(0x9c2)+appId+'/public/data/quizzes/'+_0x522f9c+_0x9f2b81(0x17c)),_0x5330a3=await getDocs(_0x4ed1e6);_0x5330a3['forEach'](_0x28180d=>{const _0x4cf103=_0x9f2b81;_0x18e7a2[_0x4cf103(0x1f2)](doc(_0x4ed1e6,_0x28180d['id']));});const _0x482ae1=doc(db,'artifacts/'+appId+_0x9f2b81(0x843),_0x522f9c);_0x18e7a2[_0x9f2b81(0x1f2)](_0x482ae1),await _0x18e7a2[_0x9f2b81(0x6ea)]();try{console['log']('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x522f9c+_0x9f2b81(0x9b6));const _0x4102d7=collection(db,_0x9f2b81(0x9c2)+appId+_0x9f2b81(0x8a2)),_0xe7e916=await getDocs(_0x4102d7),_0x470f87=[];_0xe7e916[_0x9f2b81(0x3f4)](_0x216c68=>{const _0x330b49=_0x9f2b81,_0x4e9853=_0x216c68[_0x330b49(0x241)](),_0xafb8b5=_0x4e9853[_0x330b49(0x544)]||{};let _0x27ca90=![];for(const _0x4d684c in _0xafb8b5){const _0x26581f=_0xafb8b5[_0x4d684c];if(_0x26581f[_0x330b49(0x6b7)]&&_0x26581f['linkedQuizIds'][_0x330b49(0xd33)](_0x522f9c)){_0x27ca90=!![];const _0x3937b1=doc(db,_0x330b49(0x9c2)+appId+_0x330b49(0x8a2),_0x216c68['id']),_0x100ae6=updateDoc(_0x3937b1,{['topics.'+_0x4d684c+_0x330b49(0x16c)]:arrayRemove(_0x522f9c)});_0x470f87[_0x330b49(0x77f)](_0x100ae6);}}}),_0x470f87[_0x9f2b81(0x3bb)]>0x0&&(await Promise[_0x9f2b81(0x1fd)](_0x470f87),console[_0x9f2b81(0xcde)](_0x9f2b81(0xe76)+_0x470f87[_0x9f2b81(0x3bb)]+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x522f9c+'.'));}catch(_0x5309f4){console[_0x9f2b81(0x3e8)](_0x9f2b81(0xc6c),_0x5309f4);}_0x4a9a63&&showMessage(_0x9f2b81(0x745));}catch(_0x1e2353){console[_0x9f2b81(0x3e8)]('Error\x20deleting\x20quiz:',_0x1e2353),_0x4a9a63&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x28f798){const _0x376352=_0xc7d29a;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x5ef4ce=doc(db,_0x376352(0x9c2)+appId+'/public/data/quizzes',_0x28f798),_0x49d981=await getDoc(_0x5ef4ce);if(!_0x49d981[_0x376352(0x45f)]()){showMessage(_0x376352(0x47c));return;}const _0x3cd4af={'id':_0x49d981['id'],..._0x49d981[_0x376352(0x241)]()};currentQuizData=_0x3cd4af;const _0x2389f8=doc(db,_0x376352(0x9c2)+appId+_0x376352(0xaad),_0x3cd4af[_0x376352(0x8d2)]),_0x487283=await getDoc(_0x2389f8);_0x487283[_0x376352(0x45f)]()?(currentProjectData=_0x487283[_0x376352(0x241)](),currentProjectId=_0x3cd4af['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x3cd4af[_0x376352(0x8d2)]);document[_0x376352(0x8cb)]('results-quiz-title')[_0x376352(0x1ae)]=_0x3cd4af['topic'],document[_0x376352(0x8cb)](_0x376352(0x946))[_0x376352(0x1ae)]=_0x28f798;const _0x503552=collection(db,_0x376352(0x9c2)+appId+_0x376352(0x843),_0x28f798,_0x376352(0xc26));unsubscribeSubmissionsListener=onSnapshot(_0x503552,_0x505574=>{const _0x47aa35=_0x376352,_0x52cd4a=_0x505574['docs']['map'](_0x40089e=>({'id':_0x40089e['id'],..._0x40089e[_0x47aa35(0x241)]()}));currentSubmissions=_0x52cd4a;const _0x2ca9cb=_0x52cd4a[_0x47aa35(0xb8e)](_0x133cff=>_0x133cff[_0x47aa35(0x7cd)]&&_0x133cff[_0x47aa35(0x7cd)][_0x47aa35(0x3bb)]>0x0);renderBehaviorLog(_0x52cd4a),renderAnswerGrid(currentProjectData['students'],_0x2ca9cb,_0x3cd4af),renderAnalytics(_0x3cd4af,_0x2ca9cb),renderQuizResultsTable(currentProjectData[_0x47aa35(0xa0d)],_0x52cd4a,_0x3cd4af),renderQuizLeaderboard(_0x2ca9cb,_0x3cd4af,'quiz-leaderboard-table-body');}),showView(_0x376352(0x53d));}catch(_0x3553d7){console[_0x376352(0x3e8)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x3553d7),showMessage(_0x376352(0x319));}}function renderAnswerGrid(_0x247a9b,_0x4c47e3,_0xcf59fb){const _0x52a538=_0xc7d29a,_0x5b61a4=document['getElementById'](_0x52a538(0xaf6));if(!_0x5b61a4)return;if(!_0x247a9b||_0x247a9b[_0x52a538(0x3bb)]===0x0){_0x5b61a4[_0x52a538(0x22a)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x30f123=_0xcf59fb[_0x52a538(0x763)],_0x3f7a8c=_0x4c47e3[_0x52a538(0xcb0)]((_0x38242d,_0x56a9cf)=>{const _0x161928=_0x52a538;return _0x38242d[_0x56a9cf[_0x161928(0x1fe)]]=_0x56a9cf,_0x38242d;},{}),_0x3f9ed7=_0x542492=>String[_0x52a538(0x6a1)](0x41+_0x542492),_0x557a37=_0x55a079=>{const _0x380510=_0x52a538,_0x151c8d=_0x55a079[_0x380510(0xd53)]||_0xcf59fb[_0x380510(0x7f3)];switch(_0x151c8d){case _0x380510(0xc7b):return _0x55a079[_0x380510(0x764)]&&_0x55a079[_0x380510(0x764)]['length']>_0x55a079[_0x380510(0xcd4)]?_0x3f9ed7(_0x55a079[_0x380510(0xcd4)]):'-';case'true_false':const _0x4d532c=_0x55a079[_0x380510(0x124)]===!![]||String(_0x55a079[_0x380510(0x124)])['toLowerCase']()===_0x380510(0xa81);return _0x4d532c?_0x380510(0x304):'ไม่ใช่';case _0x380510(0x6cf):return _0x55a079['correctResponse']||'-';case'short_answer':return _0x380510(0x565);default:return'-';}},_0x2da646=(_0x711701,_0x157e87)=>{const _0x52e862=_0x52a538;if(_0x157e87[_0x52e862(0x2b9)]===null||_0x157e87['answer']===undefined)return'-';const _0x4a8054=_0x711701[_0x52e862(0xd53)]||_0xcf59fb[_0x52e862(0x7f3)];switch(_0x4a8054){case _0x52e862(0xc7b):const _0x1d8d03=_0x711701[_0x52e862(0x764)][_0x52e862(0x57c)](_0x185378=>_0x185378===_0x157e87[_0x52e862(0xa72)]);return _0x1d8d03!==-0x1?_0x3f9ed7(_0x1d8d03):_0x157e87[_0x52e862(0xa72)]||'-';case'true_false':if(_0x157e87[_0x52e862(0x2b9)]=='0'||_0x157e87[_0x52e862(0x2b9)]===!![]||_0x157e87[_0x52e862(0x2b9)]==='true')return _0x52e862(0x304);return'ไม่ใช่';default:return _0x157e87['answer'];}};let _0x2292c1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x30f123[_0x52a538(0x283)]((_0x42719f,_0x27370f)=>_0x52a538(0x169)+(_0x27370f+0x1)+_0x52a538(0xac2))['join']('')+_0x52a538(0x62b)+_0x30f123[_0x52a538(0x283)](_0x33593f=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x557a37(_0x33593f)+_0x52a538(0xe13))[_0x52a538(0x922)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x247a9b['forEach'](_0x294e94=>{const _0x329dca=_0x52a538;_0x2292c1+=_0x329dca(0xd67),_0x2292c1+=_0x329dca(0x5fa)+_0x294e94+_0x329dca(0xe13);const _0x14f3d1=_0x3f7a8c[_0x294e94];if(_0x14f3d1){const _0x2a115c=_0x14f3d1[_0x329dca(0x7cd)][_0x14f3d1[_0x329dca(0x7cd)][_0x329dca(0x3bb)]-0x1];_0x30f123[_0x329dca(0x3f4)]((_0x440f9b,_0x49082b)=>{const _0x1588c8=_0x329dca,_0x34cccc=_0x2a115c['answers'][_0x1588c8(0x7d2)](_0x48a4e2=>_0x48a4e2[_0x1588c8(0x1f0)]===_0x440f9b['id']);if(_0x34cccc){let _0x55e3e6='';const _0x1062fa=_0x34cccc[_0x1588c8(0x2a6)]===!![],_0xb0121e=_0x34cccc[_0x1588c8(0xb1a)]===!![]||_0x34cccc[_0x1588c8(0xb1a)]===_0x1588c8(0x8ff),_0x5d0485=_0x34cccc['powerupUsed'];if(_0x5d0485===_0x1588c8(0xcf9))_0x1062fa?_0x55e3e6=_0x1588c8(0x8e3):_0x55e3e6=_0x1588c8(0xc6d);else _0xb0121e?_0x55e3e6=_0x1062fa?_0x1588c8(0xf2):_0x1588c8(0xe61):_0x55e3e6=_0x1062fa?_0x1588c8(0xbc9):_0x1588c8(0x308);_0x2292c1+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x55e3e6+'\x22>'+_0x2da646(_0x440f9b,_0x34cccc)+_0x1588c8(0xe13);}else _0x2292c1+=_0x1588c8(0x832);});}else _0x2292c1+=_0x30f123[_0x329dca(0x283)](()=>_0x329dca(0x519))[_0x329dca(0x922)]('');_0x2292c1+='</tr>';}),_0x2292c1+=_0x52a538(0x93f),_0x5b61a4[_0x52a538(0x22a)]=_0x2292c1;}function renderQuizResultsTable(_0x18c5c1,_0x1ed57f,_0x12ac07){const _0x369f27=_0xc7d29a,_0x1ab568=_0x1ed57f[_0x369f27(0xcb0)]((_0x46cd9f,_0x5a4c79)=>{return _0x46cd9f[_0x5a4c79['studentName']]=_0x5a4c79,_0x46cd9f;},{}),_0x10d00d=document['querySelector'](_0x369f27(0x938));if(_0x10d00d&&!document[_0x369f27(0x8cb)]('bulk-delete-submissions-btn')){const _0xc449f3=document[_0x369f27(0x4d6)](_0x369f27(0x1c6));_0xc449f3['id']='bulk-delete-submissions-btn',_0xc449f3['className']=_0x369f27(0xccf),_0xc449f3['innerHTML']='<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบรายการที่เลือก\x20(<span\x20id=\x22selected-count\x22>0</span>)',_0x10d00d[_0x369f27(0x4cf)](_0xc449f3),_0xc449f3[_0x369f27(0x38d)](_0x369f27(0x9b4),handleBulkDeleteSubmissions);}const _0x319b60=document[_0x369f27(0x947)](_0x369f27(0x975));_0x319b60&&(_0x319b60[_0x369f27(0x22a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22select-all-submissions\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ประเภท</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>คะแนนครั้งแรก</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>คะแนนล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>สถานะ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');const _0x4f978b=document[_0x369f27(0x8cb)](_0x369f27(0x7d6));if(!_0x18c5c1||_0x18c5c1[_0x369f27(0x3bb)]===0x0){_0x4f978b['innerHTML']=_0x369f27(0x136);return;}const _0x1657f6=_0x12ac07[_0x369f27(0xb6)]===!![],_0x39c82e=_0x12ac07[_0x369f27(0x7c2)]?.['passingScore']??-0x1;let _0x35fb41='';_0x18c5c1[_0x369f27(0x3f4)](_0x3b58c7=>{const _0x5a2d5f=_0x369f27,_0x4a696d=_0x1ab568[_0x3b58c7];let _0x1613f9=_0x5a2d5f(0xc3b)+(_0x1657f6?_0x5a2d5f(0x3d9):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x1657f6?_0x5a2d5f(0x1b9):_0x5a2d5f(0x4eb))+_0x5a2d5f(0x2e8),_0x194244='';_0x4a696d?_0x194244=_0x5a2d5f(0x2a0)+_0x3b58c7+'\x22>':_0x194244=_0x5a2d5f(0x558);if(_0x4a696d){if(_0x4a696d[_0x5a2d5f(0x7cd)]&&_0x4a696d[_0x5a2d5f(0x7cd)][_0x5a2d5f(0x3bb)]>0x0){let _0x4a6a51=_0x1657f6?_0x4a696d['bestScore']===_0x4a696d['totalQuestions']:_0x39c82e!==-0x1&&_0x4a696d[_0x5a2d5f(0x143)]>=_0x39c82e;const _0xc75dec=_0x4a6a51?_0x5a2d5f(0xbc9):_0x5a2d5f(0x308),_0x1a00aa=_0x4a6a51?_0x5a2d5f(0xe69):_0x5a2d5f(0x7b3),_0xca9abb=_0x5a2d5f(0x458)+_0xc75dec+'\x22>'+_0x1a00aa+_0x5a2d5f(0x2e8),_0x37a793=_0x5a2d5f(0x69d)+(_0x4a696d[_0x5a2d5f(0x7cd)]?.[_0x5a2d5f(0x3bb)]||0x1)+_0x5a2d5f(0x432),_0x4c1de2=_0x5a2d5f(0x4a4)+(_0x4a696d[_0x5a2d5f(0x5c8)]||0x0)[_0x5a2d5f(0x546)]()+_0x5a2d5f(0x12b)+_0x3b58c7+_0x5a2d5f(0x8b9)+(_0x4a696d['points']||0x0)+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x35fb41+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+_0x194244+_0x5a2d5f(0x865)+_0x3b58c7+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x4a696d['bestScore']+'\x20/\x20'+_0x4a696d[_0x5a2d5f(0xc94)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xca9abb+_0x5a2d5f(0x5f7)+_0x1613f9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x4a696d[_0x5a2d5f(0xd25)]+'\x20/\x20'+_0x4a696d[_0x5a2d5f(0xc94)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x4a696d['latestScore']+_0x5a2d5f(0x99b)+_0x4a696d[_0x5a2d5f(0xc94)]+_0x5a2d5f(0x865)+_0x4c1de2+_0x5a2d5f(0x32c)+_0x37a793+_0x5a2d5f(0xbb5)+new Date(_0x4a696d[_0x5a2d5f(0x199)])[_0x5a2d5f(0x546)](_0x5a2d5f(0x3a4))+_0x5a2d5f(0xa42)+_0x3b58c7+_0x5a2d5f(0x613);}else{const _0x34dbe8='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x35fb41+=_0x5a2d5f(0xe1d)+_0x194244+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x3b58c7+_0x5a2d5f(0x924)+_0x1613f9+_0x5a2d5f(0x885)+_0x34dbe8+_0x5a2d5f(0xbb5)+new Date(_0x4a696d[_0x5a2d5f(0xbe8)])[_0x5a2d5f(0x546)]('th-TH')+_0x5a2d5f(0xe17)+_0x3b58c7+_0x5a2d5f(0x613);}}else{const _0x3dc7fe=_0x5a2d5f(0x45b);_0x35fb41+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+_0x194244+_0x5a2d5f(0xf1)+_0x3b58c7+_0x5a2d5f(0xb7b)+_0x1613f9+_0x5a2d5f(0xc44)+_0x3dc7fe+_0x5a2d5f(0xdac);}}),_0x4f978b[_0x369f27(0x22a)]=_0x35fb41;const _0x24faa2=document[_0x369f27(0x8cb)]('select-all-submissions'),_0x2e7fbb=document['querySelectorAll'](_0x369f27(0x949)),_0x397d98=document[_0x369f27(0x8cb)](_0x369f27(0x148)),_0x257080=document['getElementById']('selected-count'),_0x57de2b=()=>{const _0x14cbea=_0x369f27,_0x59662b=document[_0x14cbea(0xb9f)]('.submission-checkbox:checked')['length'];if(_0x257080)_0x257080['textContent']=_0x59662b;_0x59662b>0x0?_0x397d98[_0x14cbea(0x144)][_0x14cbea(0xc8b)]('hidden'):_0x397d98[_0x14cbea(0x144)][_0x14cbea(0x743)](_0x14cbea(0x1c9));};_0x24faa2&&_0x24faa2['addEventListener']('change',_0x179952=>{const _0x29b1f9=_0x369f27;_0x2e7fbb[_0x29b1f9(0x3f4)](_0xd6f8d2=>_0xd6f8d2[_0x29b1f9(0x4d7)]=_0x179952[_0x29b1f9(0x7b9)][_0x29b1f9(0x4d7)]),_0x57de2b();}),_0x2e7fbb['forEach'](_0x5609de=>{_0x5609de['addEventListener']('change',()=>{const _0x4f7d51=_0x3c23;if(!_0x5609de['checked']&&_0x24faa2)_0x24faa2['checked']=![];if(_0x5609de[_0x4f7d51(0x4d7)]&&_0x24faa2){const _0x5785f2=document[_0x4f7d51(0xb9f)](_0x4f7d51(0x8d1))['length']===_0x2e7fbb[_0x4f7d51(0x3bb)];if(_0x5785f2)_0x24faa2[_0x4f7d51(0x4d7)]=!![];}_0x57de2b();});});}async function handleBulkDeleteSubmissions(){const _0x5ddf54=_0xc7d29a,_0xe73e4e=document[_0x5ddf54(0xb9f)](_0x5ddf54(0x8d1)),_0x5b2a2f=Array['from'](_0xe73e4e)[_0x5ddf54(0x283)](_0x4e3ce0=>_0x4e3ce0[_0x5ddf54(0xb66)]);if(_0x5b2a2f[_0x5ddf54(0x3bb)]===0x0)return;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x5ddf54(0x5ee));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของนักเรียน\x20'+_0x5b2a2f[_0x5ddf54(0x3bb)]+_0x5ddf54(0x7a5),async()=>{const _0x5b749a=_0x5ddf54,_0x17b472=currentQuizData['id'],_0x265646=writeBatch(db);_0x5b2a2f[_0x5b749a(0x3f4)](_0x31376b=>{const _0x63832b=_0x5b749a,_0x2ebb85=doc(db,_0x63832b(0x9c2)+appId+_0x63832b(0x360)+_0x17b472+'/submissions',_0x31376b);_0x265646[_0x63832b(0x1f2)](_0x2ebb85);});try{await _0x265646[_0x5b749a(0x6ea)](),showMessage('ลบผลการสอบ\x20'+_0x5b2a2f['length']+_0x5b749a(0xf7)),document[_0x5b749a(0x8cb)](_0x5b749a(0x148))[_0x5b749a(0x144)][_0x5b749a(0x743)](_0x5b749a(0x1c9));const _0x57e285=document[_0x5b749a(0x8cb)](_0x5b749a(0x54c));if(_0x57e285)_0x57e285[_0x5b749a(0x4d7)]=![];}catch(_0xf1d37a){console[_0x5b749a(0x3e8)]('Error\x20bulk\x20deleting\x20submissions:',_0xf1d37a),showMessage(_0x5b749a(0x5f6));}});}async function confirmRenameQuiz(){const _0x2c94bb=_0xc7d29a,_0xa6a9c1=document[_0x2c94bb(0x8cb)](_0x2c94bb(0x76a))[_0x2c94bb(0xb66)]['trim']();if(!_0xa6a9c1){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x118952=doc(db,_0x2c94bb(0x9c2)+appId+_0x2c94bb(0x843),actionTargetId);try{await updateDoc(_0x118952,{'topic':_0xa6a9c1}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal['classList'][_0x2c94bb(0x743)](_0x2c94bb(0x1c9)),actionTargetId=null;}catch(_0x16eae8){console[_0x2c94bb(0x3e8)](_0x2c94bb(0x811),_0x16eae8),showMessage(_0x2c94bb(0xb8c));}}async function handleMoveQuiz(_0x2512b0){const _0x1e3681=_0xc7d29a;actionTargetId=_0x2512b0;const _0x29b3b9=document[_0x1e3681(0x8cb)](_0x1e3681(0x1cf));_0x29b3b9[_0x1e3681(0x22a)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x1e3681(0x144)][_0x1e3681(0xc8b)]('hidden');try{const _0x1d71cb=collection(db,_0x1e3681(0x9c2)+appId+_0x1e3681(0xaad)),_0x5d4b3d=await getDocs(_0x1d71cb),_0x3eeea6=_0x5d4b3d['docs'][_0x1e3681(0x283)](_0x334312=>({'id':_0x334312['id'],..._0x334312['data']()})),_0x5948a0=_0x3eeea6['filter'](_0x439de0=>_0x439de0['id']!==currentProjectId);if(_0x5948a0[_0x1e3681(0x3bb)]===0x0){_0x29b3b9[_0x1e3681(0x22a)]=_0x1e3681(0x34c),document[_0x1e3681(0x8cb)]('confirm-move-quiz-btn')[_0x1e3681(0xc2b)]=!![];return;}_0x29b3b9[_0x1e3681(0x22a)]=_0x5948a0[_0x1e3681(0x283)](_0x1cbd80=>_0x1e3681(0xb0b)+_0x1cbd80['id']+'\x22>'+_0x1cbd80[_0x1e3681(0xde4)]+'</option>')[_0x1e3681(0x922)](''),document['getElementById'](_0x1e3681(0x1b2))['disabled']=![];}catch(_0x2ea478){console['error'](_0x1e3681(0x41a),_0x2ea478),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x1e3681(0x144)][_0x1e3681(0x743)](_0x1e3681(0x1c9));}}async function confirmMoveQuiz(){const _0x4ec17a=_0xc7d29a,_0x528dd9=document[_0x4ec17a(0x8cb)](_0x4ec17a(0x1cf))[_0x4ec17a(0xb66)];if(!_0x528dd9){showMessage(_0x4ec17a(0x69f));return;}if(!actionTargetId)return;const _0x2981b5=doc(db,_0x4ec17a(0x9c2)+appId+_0x4ec17a(0x843),actionTargetId);try{await updateDoc(_0x2981b5,{'projectId':_0x528dd9}),showMessage(_0x4ec17a(0xc90)),moveQuizModal[_0x4ec17a(0x144)][_0x4ec17a(0x743)](_0x4ec17a(0x1c9)),actionTargetId=null;}catch(_0x50b103){console['error'](_0x4ec17a(0x102),_0x50b103),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x30e862){const _0x486361=_0xc7d29a;actionTargetId=_0x30e862;const _0x2f92f3=doc(db,'artifacts/'+appId+_0x486361(0x843),_0x30e862);try{const _0x3d07ce=await getDoc(_0x2f92f3);if(_0x3d07ce[_0x486361(0x45f)]()){const _0x13f6cb=_0x3d07ce['data'](),_0x3f3827=_0x13f6cb['settings']||{},_0xb6bacd=_0x13f6cb['questions'][_0x486361(0x3bb)];document[_0x486361(0x8cb)](_0x486361(0x41e))['value']=_0x3f3827['shuffle']||_0x486361(0xcab),document[_0x486361(0x8cb)](_0x486361(0x269))[_0x486361(0xb66)]=_0x3f3827[_0x486361(0xab0)]||'show_results_and_answers',document[_0x486361(0x8cb)]('modal-timer-mode-select')[_0x486361(0xb66)]=_0x3f3827[_0x486361(0xe47)]||'none',document[_0x486361(0x8cb)](_0x486361(0x9f5))[_0x486361(0xb66)]=_0x3f3827[_0x486361(0x311)]||0xa,document['getElementById'](_0x486361(0x69b))[_0x486361(0xb66)]=_0x3f3827['passingScore']||Math['floor'](_0xb6bacd/0x2),document['getElementById']('modal-passing-score-input')[_0x486361(0xa73)]=_0xb6bacd,document[_0x486361(0x8cb)](_0x486361(0x957))[_0x486361(0x4d7)]=_0x3f3827[_0x486361(0xd46)]||![],document['getElementById'](_0x486361(0x9c7))[_0x486361(0x4d7)]=_0x3f3827['loopUntilPass']||![];const _0x279d96=_0x3f3827[_0x486361(0xe0b)]||![];document[_0x486361(0x8cb)](_0x486361(0xca5))[_0x486361(0x4d7)]=_0x279d96,document['getElementById']('modal-confidence-mode-select')[_0x486361(0xb66)]=_0x3f3827[_0x486361(0x89f)]||_0x486361(0x4ae);const _0x4be2aa=document[_0x486361(0x8cb)](_0x486361(0x431));_0x4be2aa[_0x486361(0x144)][_0x486361(0x463)](_0x486361(0x1c9),!_0x279d96),document[_0x486361(0x8cb)](_0x486361(0x27b))[_0x486361(0x6f6)](new Event(_0x486361(0xd8f))),quizSettingsModal['classList'][_0x486361(0xc8b)](_0x486361(0x1c9));}else showMessage(_0x486361(0x47c));}catch(_0x4345df){console[_0x486361(0x3e8)](_0x486361(0x428),_0x4345df),showMessage(_0x486361(0x424));}}async function confirmQuizSettings(){const _0x399a3b=_0xc7d29a;if(!actionTargetId)return;const _0x3f5e42=doc(db,'artifacts/'+appId+_0x399a3b(0x843),actionTargetId),_0x588ca2={'shuffle':document[_0x399a3b(0x8cb)](_0x399a3b(0x41e))[_0x399a3b(0xb66)],'resultsDisplay':document[_0x399a3b(0x8cb)](_0x399a3b(0x269))[_0x399a3b(0xb66)],'timerMode':document[_0x399a3b(0x8cb)](_0x399a3b(0x27b))[_0x399a3b(0xb66)],'timerDuration':parseInt(document['getElementById'](_0x399a3b(0x9f5))[_0x399a3b(0xb66)])||0xa,'passingScore':parseInt(document['getElementById'](_0x399a3b(0x69b))[_0x399a3b(0xb66)])||0x0,'isAdaptive':document['getElementById'](_0x399a3b(0x957))[_0x399a3b(0x4d7)],'loopUntilPass':document['getElementById']('modal-loop-until-pass-checkbox')[_0x399a3b(0x4d7)],'isConfidenceScoringEnabled':document['getElementById'](_0x399a3b(0xca5))[_0x399a3b(0x4d7)],'confidenceMode':document[_0x399a3b(0x8cb)](_0x399a3b(0xbc2))['value']};try{await updateDoc(_0x3f5e42,{'settings':_0x588ca2}),showMessage(_0x399a3b(0x6b2)),quizSettingsModal[_0x399a3b(0x144)][_0x399a3b(0x743)]('hidden'),actionTargetId=null;}catch(_0x1f82f2){console[_0x399a3b(0x3e8)](_0x399a3b(0x267),_0x1f82f2),showMessage(_0x399a3b(0x5e1));}}async function confirmQuizStatus(){const _0x14fbd0=_0xc7d29a;if(!actionTargetId)return;const _0xc6b15b=doc(db,_0x14fbd0(0x9c2)+appId+_0x14fbd0(0x843),actionTargetId),_0x2dcdc3=document[_0x14fbd0(0x947)](_0x14fbd0(0x5d5));if(!_0x2dcdc3){showMessage(_0x14fbd0(0x839));return;}const _0x5a9e35=_0x2dcdc3['value'];let _0x36a8dc={};if(_0x5a9e35==='active'||_0x5a9e35===_0x14fbd0(0xd03))_0x36a8dc={'status':_0x5a9e35,'startTime':null,'endTime':null};else{if(_0x5a9e35===_0x14fbd0(0xa17)){const _0x2e9f9f=document['getElementById'](_0x14fbd0(0x490))[_0x14fbd0(0xb66)],_0x3e2284=document[_0x14fbd0(0x8cb)]('quiz-end-time')[_0x14fbd0(0xb66)];if(!_0x2e9f9f&&!_0x3e2284){showMessage(_0x14fbd0(0x5b7));return;}_0x36a8dc={'status':_0x14fbd0(0x648),'startTime':_0x2e9f9f?new Date(_0x2e9f9f)[_0x14fbd0(0x77d)]():null,'endTime':_0x3e2284?new Date(_0x3e2284)['toISOString']():null};}}try{await updateDoc(_0xc6b15b,_0x36a8dc),showMessage(_0x14fbd0(0x7e4)),quizStatusModal[_0x14fbd0(0x144)][_0x14fbd0(0x743)]('hidden'),actionTargetId=null;}catch(_0x12e6dc){console[_0x14fbd0(0x3e8)]('Error\x20updating\x20quiz\x20status:',_0x12e6dc),showMessage(_0x14fbd0(0xb41));}}function listenForStudentProfiles(_0x241cb8){const _0x25df4d=_0xc7d29a,_0x2f142b=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x241cb8+_0x25df4d(0x876));unsubscribeStudentProfilesListener=onSnapshot(_0x2f142b,_0xb96d47=>{const _0x10325f=_0x25df4d,_0x31b3ff=_0xb96d47[_0x10325f(0xd86)][_0x10325f(0x283)](_0x200f97=>_0x200f97[_0x10325f(0x241)]());renderLeaderboard(_0x31b3ff,_0x10325f(0x2bc));},_0x47eae8=>{const _0x1d40cd=_0x25df4d;console[_0x1d40cd(0x3e8)](_0x1d40cd(0x90d),_0x47eae8),document[_0x1d40cd(0x8cb)](_0x1d40cd(0x2bc))[_0x1d40cd(0x22a)]=_0x1d40cd(0x2f1);});}function renderLeaderboard(_0x3404dd,_0x21b89d){const _0x487b84=_0xc7d29a,_0x460e04=document[_0x487b84(0x8cb)](_0x21b89d);if(!_0x3404dd||_0x3404dd[_0x487b84(0x3bb)]===0x0){_0x460e04['innerHTML']=_0x487b84(0x482);return;}_0x3404dd[_0x487b84(0x9a7)]((_0x2eec96,_0x590836)=>{const _0x55063e=_0x487b84,_0x1832d1=(_0x590836[_0x55063e(0x540)]||0x0)-(_0x2eec96[_0x55063e(0x540)]||0x0);if(_0x1832d1!==0x0)return _0x1832d1;const _0x9856cb=(_0x590836[_0x55063e(0x203)]?.['specialist']||0x0)-(_0x2eec96[_0x55063e(0x203)]?.[_0x55063e(0x48b)]||0x0);if(_0x9856cb!==0x0)return _0x9856cb;const _0x1399a6=(_0x590836['badgesCount']?.['first_try_ace']||0x0)-(_0x2eec96[_0x55063e(0x203)]?.['first_try_ace']||0x0);if(_0x1399a6!==0x0)return _0x1399a6;const _0x20dbb3=(_0x590836[_0x55063e(0x203)]?.[_0x55063e(0x23e)]||0x0)-(_0x2eec96[_0x55063e(0x203)]?.[_0x55063e(0x23e)]||0x0);if(_0x20dbb3!==0x0)return _0x20dbb3;const _0x5731cc=(_0x590836[_0x55063e(0x203)]?.['quick_thinker']||0x0)-(_0x2eec96['badgesCount']?.['quick_thinker']||0x0);if(_0x5731cc!==0x0)return _0x5731cc;return _0x2eec96[_0x55063e(0x1fe)]['localeCompare'](_0x590836['studentName'],'th');});let _0xaee646='';_0x3404dd['forEach']((_0x56d844,_0x35a06e)=>{const _0x9e2e06=_0x487b84,_0x46f71a=_0x35a06e+0x1,_0x1b3542=_0x56d844[_0x9e2e06(0x203)]||{};let _0x3c56f9='';const _0x108067=[_0x9e2e06(0x48b),_0x9e2e06(0x23e),'first_try_ace',_0x9e2e06(0x7bc)];_0x108067[_0x9e2e06(0x3f4)](_0x41de19=>{const _0x3a323e=_0x9e2e06;if(_0x1b3542[_0x41de19]>0x0){const _0x19ae94=Object[_0x3a323e(0xc37)](BADGES)['find'](_0x50b0a4=>_0x50b0a4['id']===_0x41de19);_0x19ae94&&(_0x41de19==='specialist'?_0x3c56f9+=_0x3a323e(0x3b4)+_0x19ae94['name']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x19ae94[_0x3a323e(0x8b7)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x3c56f9+=_0x3a323e(0x3b4)+_0x19ae94['name']+'\x20('+_0x1b3542[_0x41de19]+_0x3a323e(0xb51)+_0x19ae94[_0x3a323e(0x8b7)]+_0x3a323e(0x47a)+_0x1b3542[_0x41de19]+_0x3a323e(0x908));}}),_0xaee646+=_0x9e2e06(0x703)+_0x46f71a+_0x9e2e06(0x865)+_0x56d844[_0x9e2e06(0x1fe)]+_0x9e2e06(0xd7a)+(_0x56d844[_0x9e2e06(0x540)]||0x0)[_0x9e2e06(0x546)]()+_0x9e2e06(0x865)+(_0x3c56f9||'-')+_0x9e2e06(0xb8b);}),_0x460e04[_0x487b84(0x22a)]=_0xaee646;}function displayLoopScreen(_0x2034c0,_0x1ee34f,_0x24ebb2){const _0x330347=_0xc7d29a;let _0x4254c5='';_0x24ebb2!==_0x330347(0x3f8)&&(_0x4254c5=_0x330347(0x3d2)+_0x2034c0+'\x20/\x20'+_0x1ee34f+'</strong></p>');const _0x1bc181=_0x330347(0x6e2)+_0x4254c5+_0x330347(0x6f8);studentResultArea[_0x330347(0x22a)]=_0x1bc181,studentResultArea[_0x330347(0x144)][_0x330347(0xc8b)](_0x330347(0x1c9)),studentQuizArea[_0x330347(0x144)][_0x330347(0x743)](_0x330347(0x1c9)),document[_0x330347(0x8cb)](_0x330347(0x41d))['addEventListener'](_0x330347(0x9b4),()=>{const _0x1ce2b9=_0x330347;studentResultArea[_0x1ce2b9(0x144)][_0x1ce2b9(0x743)](_0x1ce2b9(0x1c9)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x14ffd2,_0x5982b6,_0x26114f){const _0x2342a5=_0xc7d29a,_0x497395=document[_0x2342a5(0x8cb)](_0x26114f),_0x2d95f6=_0x26114f===_0x2342a5(0xa4a),_0x10acfb=_0x5982b6[_0x2342a5(0x763)]['length'],_0x3638c2=document['getElementById'](_0x26114f)[_0x2342a5(0x575)](_0x2342a5(0x274));if(_0x3638c2&&!_0x2d95f6){const _0x1186e9=_0x3638c2[_0x2342a5(0x947)]('thead');_0x1186e9[_0x2342a5(0x22a)]=_0x2342a5(0x592);}if(!_0x14ffd2||_0x14ffd2[_0x2342a5(0x3bb)]===0x0){_0x497395[_0x2342a5(0x22a)]=_0x2342a5(0x82e)+(_0x2d95f6?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x5d343b=[..._0x14ffd2];_0x5d343b['sort']((_0x22639f,_0x3e2cba)=>{const _0x51cc63=_0x2342a5;let _0x450e0d,_0x4790e8;switch(quizLeaderboardSortBy){case _0x51cc63(0x1fe):_0x450e0d=_0x22639f['studentName']||'',_0x4790e8=_0x3e2cba[_0x51cc63(0x1fe)]||'';return quizLeaderboardSortOrder===_0x51cc63(0xa23)?_0x450e0d[_0x51cc63(0xb18)](_0x4790e8,'th'):_0x4790e8[_0x51cc63(0xb18)](_0x450e0d,'th');case _0x51cc63(0x5c8):_0x450e0d=_0x22639f['points']||0x0,_0x4790e8=_0x3e2cba[_0x51cc63(0x5c8)]||0x0;break;case _0x51cc63(0x7cd):_0x450e0d=_0x22639f[_0x51cc63(0x7cd)]?.[_0x51cc63(0x3bb)]||0x1,_0x4790e8=_0x3e2cba[_0x51cc63(0x7cd)]?.[_0x51cc63(0x3bb)]||0x1;break;case _0x51cc63(0x199):_0x450e0d=new Date(_0x22639f[_0x51cc63(0x199)]),_0x4790e8=new Date(_0x3e2cba[_0x51cc63(0x199)]);break;case _0x51cc63(0x143):default:_0x450e0d=_0x22639f[_0x51cc63(0x143)],_0x4790e8=_0x3e2cba['bestScore'];break;}if(_0x450e0d<_0x4790e8)return quizLeaderboardSortOrder===_0x51cc63(0xa23)?-0x1:0x1;if(_0x450e0d>_0x4790e8)return quizLeaderboardSortOrder===_0x51cc63(0xa23)?0x1:-0x1;return 0x0;});const _0x289430=_0x5982b6['isRemedial']===!![],_0x3b0813=_0x5982b6[_0x2342a5(0x7c2)]?.[_0x2342a5(0x1b7)]??-0x1;let _0x593905='';_0x5d343b[_0x2342a5(0x3f4)]((_0x42b536,_0x166de0)=>{const _0x50ea6b=_0x2342a5,_0x5ceedb=_0x166de0+0x1;let _0x37a010='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x289430||_0x3b0813!==-0x1){let _0x5be0db=_0x289430?_0x42b536[_0x50ea6b(0x143)]===_0x10acfb:_0x42b536['bestScore']>=_0x3b0813;const _0xc0dd97=_0x5be0db?_0x50ea6b(0xbc9):_0x50ea6b(0x308),_0x57bf3b=_0x5be0db?_0x50ea6b(0xe69):_0x50ea6b(0x7b3);_0x37a010=_0x50ea6b(0xb89)+_0xc0dd97+'\x22>'+_0x57bf3b+_0x50ea6b(0x2e8);}const _0x160cf4=_0x42b536[_0x50ea6b(0x7cd)][_0x42b536[_0x50ea6b(0x7cd)][_0x50ea6b(0x3bb)]-0x1],_0x5e6a85=(_0x160cf4['badges']||[])['map'](_0x58d9f8=>{const _0x59588c=_0x50ea6b,_0x135968=Object[_0x59588c(0xc37)](BADGES)[_0x59588c(0x7d2)](_0x5d2fc3=>_0x5d2fc3['id']===_0x58d9f8);return _0x135968?_0x59588c(0x6e9)+_0x135968[_0x59588c(0xa48)]+_0x59588c(0xe19)+_0x135968[_0x59588c(0x8b7)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x50ea6b(0x922)]('');_0x593905+=_0x50ea6b(0x868)+_0x5ceedb+_0x50ea6b(0xdf1)+_0x42b536[_0x50ea6b(0x1fe)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x42b536['bestScore']+_0x50ea6b(0x99b)+_0x10acfb+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37a010+_0x50ea6b(0x9e6)+(_0x42b536['points']||0x0)[_0x50ea6b(0x546)]()+_0x50ea6b(0xca6)+(_0x2d95f6?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x42b536['attempts']?.[_0x50ea6b(0x3bb)]||0x1)+_0x50ea6b(0xe13))+_0x50ea6b(0x476)+(_0x2d95f6?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x42b536['latestSubmittedAt'])['toLocaleString'](_0x50ea6b(0x3a4))+_0x50ea6b(0xe13))+_0x50ea6b(0x6d1)+(_0x5e6a85||'-')+_0x50ea6b(0x4f9);}),_0x497395['innerHTML']=_0x593905,_0x3638c2&&!_0x2d95f6&&_0x3638c2['querySelectorAll'](_0x2342a5(0x71b))[_0x2342a5(0x3f4)](_0x358506=>{const _0x51f452=_0x2342a5,_0x31fa00=_0x358506[_0x51f452(0x947)]('.sort-indicator');if(_0x31fa00)_0x31fa00[_0x51f452(0xc8b)]();_0x358506['dataset'][_0x51f452(0x9a7)]===quizLeaderboardSortBy&&(_0x358506[_0x51f452(0x22a)]+=_0x51f452(0x322)+(quizLeaderboardSortOrder===_0x51f452(0xa23)?'▲':'▼')+_0x51f452(0xd5c));});}async function handleDeleteSubmission(_0x431ee0){const _0x41ca09=_0xc7d29a;if(!currentQuizData||!currentQuizData['id']||!_0x431ee0){showMessage(_0x41ca09(0xd23));return;}showConfirmation(_0x41ca09(0x6d5)+_0x431ee0+_0x41ca09(0x7f4),async()=>{const _0xdbf659=_0x41ca09,_0x16afd9=currentQuizData['id'],_0x3f9cf5=doc(db,_0xdbf659(0x9c2)+appId+_0xdbf659(0x360)+_0x16afd9+'/submissions',_0x431ee0);try{await deleteDoc(_0x3f9cf5),showMessage(_0xdbf659(0x8c5)+_0x431ee0+_0xdbf659(0xb7c));}catch(_0x5e925b){console[_0xdbf659(0x3e8)](_0xdbf659(0x869),_0x5e925b),showMessage(_0xdbf659(0xdd2));}});}async function handleLoadQuiz(){const _0x2e7536=_0xc7d29a,_0x2ccca3=document[_0x2e7536(0x8cb)](_0x2e7536(0xc6)),_0x5ab9ea=_0x2ccca3[_0x2e7536(0xb66)]['trim']();if(!_0x5ab9ea){showMessage(_0x2e7536(0x69a));return;}loadQuizBtn[_0x2e7536(0xc2b)]=!![],loadQuizBtn[_0x2e7536(0x22a)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x158a33=doc(db,'artifacts/'+appId+_0x2e7536(0x843),_0x5ab9ea),_0x46a8ef=await getDoc(_0x158a33);if(!_0x46a8ef['exists']()){showMessage(_0x2e7536(0x20c));return;}currentQuizData={'id':_0x46a8ef['id'],..._0x46a8ef[_0x2e7536(0x241)]()};const _0x21675c=currentQuizData[_0x2e7536(0x20a)]||_0x2e7536(0xb26),_0x40c5b4=new Date();if(_0x21675c===_0x2e7536(0xd03)){showMessage(_0x2e7536(0xbb1));return;}if(_0x21675c===_0x2e7536(0x648)){const _0x1d7502=currentQuizData[_0x2e7536(0x86a)]?new Date(currentQuizData[_0x2e7536(0x86a)]):null,_0x556e50=currentQuizData[_0x2e7536(0x56b)]?new Date(currentQuizData['endTime']):null;if(_0x1d7502&&_0x40c5b4<_0x1d7502){showMessage(_0x2e7536(0x450)+_0x1d7502[_0x2e7536(0x546)]('th-TH',{'hour12':![]}));return;}if(_0x556e50&&_0x40c5b4>_0x556e50){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x14f577=currentQuizData['projectId'];currentProjectId=_0x14f577;const _0x2d4730=doc(db,_0x2e7536(0x9c2)+appId+_0x2e7536(0xaad),_0x14f577),_0x4cce2f=await getDoc(_0x2d4730);if(!_0x4cce2f[_0x2e7536(0x45f)]()){showMessage(_0x2e7536(0x485));return;}const _0x121626=_0x4cce2f[_0x2e7536(0x241)]();currentStudentProjectData=_0x121626,displayStudentNameSelector(_0x121626['students'],currentQuizData[_0x2e7536(0x664)]);}catch(_0x42ec7d){console[_0x2e7536(0x3e8)]('Error\x20loading\x20quiz\x20for\x20student:',_0x42ec7d),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn[_0x2e7536(0xc2b)]=![],loadQuizBtn[_0x2e7536(0x22a)]=_0x2e7536(0xcd3);}}async function handleManualEditPoints(_0x15edff,_0x2340c2){const _0x22180a=_0xc7d29a;if(!currentQuizData||!currentQuizData['id'])return;const _0x87effb=currentQuizData['id'],_0xbbc9d0=doc(db,_0x22180a(0x9c2)+appId+_0x22180a(0x360)+_0x87effb+_0x22180a(0x17c),_0x15edff);try{const _0x1ef3bc=await getDoc(_0xbbc9d0);if(!_0x1ef3bc[_0x22180a(0x45f)]())return;const _0x5abaf9=_0x1ef3bc[_0x22180a(0x241)](),_0x3ef687=_0x5abaf9[_0x22180a(0x7cd)]||[];_0x3ef687[_0x22180a(0x3bb)]>0x0&&(_0x3ef687[_0x3ef687[_0x22180a(0x3bb)]-0x1]['points']=_0x2340c2,_0x3ef687[_0x3ef687[_0x22180a(0x3bb)]-0x1][_0x22180a(0x219)]=!![]),await updateDoc(_0xbbc9d0,{'points':_0x2340c2,'attempts':_0x3ef687}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x15edff),showMessage(_0x22180a(0x2a8)+_0x15edff+_0x22180a(0x439)+_0x2340c2+_0x22180a(0xbce));}catch(_0x51c88f){console[_0x22180a(0x3e8)](_0x22180a(0x8ce),_0x51c88f),showMessage('เกิดข้อผิดพลาดในการบันทึกคะแนน');}}async function handleJoinLiveGame(){const _0x496bf9=_0xc7d29a,_0x10ebe3=document[_0x496bf9(0x8cb)](_0x496bf9(0xacb)),_0x123d69=document[_0x496bf9(0x8cb)](_0x496bf9(0x375)),_0x30d6ce=document['getElementById'](_0x496bf9(0xdea)),_0x41a972=_0x10ebe3[_0x496bf9(0xb66)][_0x496bf9(0x649)](),_0x4dee33=_0x123d69[_0x496bf9(0xb66)][_0x496bf9(0x649)]();if(!_0x41a972||!_0x4dee33){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x30d6ce[_0x496bf9(0xc2b)]=!![],_0x30d6ce[_0x496bf9(0x22a)]=_0x496bf9(0xa10);try{const _0x5281ca=collection(db,_0x496bf9(0x9c2)+appId+_0x496bf9(0xde7)),_0x2a6f48=query(_0x5281ca,where('pin','==',_0x41a972),where('status','in',['lobby',_0x496bf9(0x5e5),_0x496bf9(0x692),'results'])),_0x120372=await getDocs(_0x2a6f48);if(_0x120372[_0x496bf9(0x7de)]){const _0x245bb6=collection(db,'artifacts/'+appId+'/public/data/liveGames'),_0x144882=query(_0x245bb6,where(_0x496bf9(0x5cb),'==',_0x41a972)),_0xbfd16f=await getDocs(_0x144882);if(!_0xbfd16f[_0x496bf9(0x7de)]){await proceedWithTeamQuizJoin(_0xbfd16f[_0x496bf9(0xd86)][0x0]);return;}showMessage(_0x496bf9(0xa9d));return;}const _0x546eed=_0x120372[_0x496bf9(0xd86)][0x0];currentLiveGameId=_0x546eed['id'];const _0x53f7f8=_0x546eed[_0x496bf9(0x241)](),_0x3aea3b=doc(db,_0x496bf9(0x9c2)+appId+_0x496bf9(0x843),_0x53f7f8[_0x496bf9(0x9fe)]),_0x16ff62=await getDoc(_0x3aea3b);_0x16ff62[_0x496bf9(0x45f)]()&&(currentQuizData=_0x53f7f8[_0x496bf9(0xb2d)]);const _0xd77bc5=doc(db,_0x496bf9(0x9c2)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x496bf9(0xc39),_0x4dee33),_0x3f585c=await getDoc(_0xd77bc5);if(_0x3f585c[_0x496bf9(0x45f)]())_0x30d6ce[_0x496bf9(0x22a)]=_0x496bf9(0x6fa),await updateDoc(_0xd77bc5,{'status':_0x496bf9(0xb26)}),showMessage(_0x496bf9(0x2e4)+_0x4dee33+_0x496bf9(0x29c));else{if(_0x53f7f8['status']!==_0x496bf9(0x130)){}_0x30d6ce[_0x496bf9(0x22a)]=_0x496bf9(0x658);const _0x3e9232={'name':_0x4dee33,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':_0x496bf9(0xb26),'answers':[],'joinedAt':serverTimestamp(),'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};await setDoc(_0xd77bc5,_0x3e9232);}currentStudentName=_0x4dee33,localTeamPlayers=[_0x4dee33],showView('live-game'),listenForSyncGameUpdates();const _0x319b82={'gameId':currentLiveGameId,'mode':_0x496bf9(0x7ea),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x496bf9(0xdfb)](_0x496bf9(0x499),JSON[_0x496bf9(0xa7e)](_0x319b82));}catch(_0x446d24){console['error'](_0x496bf9(0xe7b),_0x446d24),showMessage(_0x496bf9(0xcf8)+_0x446d24[_0x496bf9(0xd5f)]);}finally{_0x30d6ce[_0x496bf9(0xc2b)]=![];if(_0x30d6ce['innerHTML'][_0x496bf9(0xd33)]('spinner'))_0x30d6ce[_0x496bf9(0x22a)]=_0x496bf9(0x769);}}function displayStudentNameSelector(_0x697d72,_0x1e8b29){const _0x1387b9=_0xc7d29a,_0x80cbd1=document[_0x1387b9(0x8cb)](_0x1387b9(0x48e));document[_0x1387b9(0x8cb)](_0x1387b9(0x2c1))['textContent']='แบบทดสอบ:\x20'+_0x1e8b29,!_0x697d72||_0x697d72[_0x1387b9(0x3bb)]===0x0?(_0x80cbd1[_0x1387b9(0x22a)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x1387b9(0xc2b)]=!![]):(_0x80cbd1['innerHTML']='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x697d72['forEach'](_0x574938=>{const _0x1790bc=_0x1387b9,_0x4edbef=document[_0x1790bc(0x4d6)](_0x1790bc(0x18f));_0x4edbef[_0x1790bc(0xb66)]=_0x574938,_0x4edbef[_0x1790bc(0x1ae)]=_0x574938,_0x80cbd1[_0x1790bc(0x4cf)](_0x4edbef);}),startQuizBtn[_0x1387b9(0xc2b)]=![]),studentInitialView[_0x1387b9(0x144)]['add'](_0x1387b9(0x1c9)),studentNameSelectionView['classList'][_0x1387b9(0xc8b)](_0x1387b9(0x1c9));}function shuffleArray(_0xbca388){const _0xab69b4=_0xc7d29a;for(let _0x323c22=_0xbca388[_0xab69b4(0x3bb)]-0x1;_0x323c22>0x0;_0x323c22--){const _0x1166b3=Math['floor'](Math[_0xab69b4(0xe46)]()*(_0x323c22+0x1));[_0xbca388[_0x323c22],_0xbca388[_0x1166b3]]=[_0xbca388[_0x1166b3],_0xbca388[_0x323c22]];}}function getShuffledQuiz(_0x23a57a){const _0x5a1aa8=_0xc7d29a;let _0x18ef90=JSON[_0x5a1aa8(0x208)](JSON[_0x5a1aa8(0xa7e)](_0x23a57a));const _0x5e8412=_0x18ef90[_0x5a1aa8(0x7c2)]?.[_0x5a1aa8(0x11a)]||_0x5a1aa8(0xcab);if(_0x5e8412===_0x5a1aa8(0xcab))return _0x18ef90;return(_0x5e8412===_0x5a1aa8(0xc51)||_0x5e8412==='both')&&shuffleArray(_0x18ef90['questions']),(_0x5e8412===_0x5a1aa8(0x2ea)||_0x5e8412===_0x5a1aa8(0x478))&&_0x18ef90['questions']['forEach'](_0x34255f=>{const _0x5cbc84=_0x5a1aa8,_0x5c9c99=_0x34255f['questionType']||_0x18ef90[_0x5cbc84(0x7f3)];if(_0x34255f[_0x5cbc84(0x764)]){let _0x16dde2=_0x34255f[_0x5cbc84(0x764)][_0x5cbc84(0x283)]((_0x25fc23,_0x108364)=>({'text':_0x25fc23,'isCorrect':_0x108364===_0x34255f[_0x5cbc84(0xcd4)]}));shuffleArray(_0x16dde2),_0x34255f[_0x5cbc84(0x764)]=_0x16dde2[_0x5cbc84(0x283)](_0x4a0fb2=>_0x4a0fb2[_0x5cbc84(0xb0d)]),_0x34255f[_0x5cbc84(0xcd4)]=_0x16dde2['findIndex'](_0x20a9aa=>_0x20a9aa[_0x5cbc84(0x2a6)]);}_0x5c9c99===_0x5cbc84(0x6cf)&&_0x34255f['allResponses']&&shuffleArray(_0x34255f['allResponses']);}),_0x18ef90;}function displayQuizForStudent(_0x10c3d7){const _0x871ad0=_0xc7d29a;studentQuizArea[_0x871ad0(0x144)][_0x871ad0(0xc8b)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x10c3d7);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document['addEventListener'](_0x871ad0(0xb56),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0x871ad0(0xdb2),resetDimTimer),window[_0x871ad0(0x38d)]('mousedown',resetDimTimer),window['addEventListener'](_0x871ad0(0x1ce),resetDimTimer),window[_0x871ad0(0x38d)](_0x871ad0(0xd17),resetDimTimer),resetDimTimer());const _0x3af7df=currentDisplayedQuiz[_0x871ad0(0x7c2)]?.['timerMode']||_0x871ad0(0xcab);if(_0x3af7df==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x871ad0(0x7c2)][_0x871ad0(0x311)]);else _0x3af7df===_0x871ad0(0x484)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window['toggleMathDropdown']=function(_0x306327){const _0x3912f2=_0xc7d29a,_0x3c96f5=document[_0x3912f2(0x8cb)](_0x3912f2(0x3cc)+_0x306327),_0x23aea3=document['querySelectorAll']('[id^=\x22dropdown-list-\x22]');_0x23aea3[_0x3912f2(0x3f4)](_0x1f9237=>{const _0x604c6d=_0x3912f2;if(_0x1f9237['id']!==_0x604c6d(0x3cc)+_0x306327)_0x1f9237['classList']['add'](_0x604c6d(0x1c9));});if(_0x3c96f5)_0x3c96f5['classList'][_0x3912f2(0x463)](_0x3912f2(0x1c9));},window[_0xc7d29a(0x516)]=function(_0x408273,_0x347ca1){const _0x4924b6=_0xc7d29a,_0x495bcf=currentDisplayedQuiz;if(!_0x495bcf)return;const _0x557933=_0x495bcf[_0x4924b6(0x763)][_0x408273],_0xcfa0fc=_0x557933[_0x4924b6(0x872)][_0x347ca1],_0x1b8bc0=document['getElementById']('input-'+_0x408273);if(_0x1b8bc0)_0x1b8bc0[_0x4924b6(0xb66)]=_0xcfa0fc;const _0x36644e=document[_0x4924b6(0x8cb)](_0x4924b6(0x246)+_0x408273);if(_0x36644e){_0x36644e[_0x4924b6(0x22a)]=_0xcfa0fc;if(window[_0x4924b6(0x608)])MathJax[_0x4924b6(0x31d)]([_0x36644e]);_0x36644e[_0x4924b6(0x144)]['add'](_0x4924b6(0xe0f),_0x4924b6(0x8b0));}const _0x97bc58=document['getElementById'](_0x4924b6(0x3cc)+_0x408273);if(_0x97bc58)_0x97bc58['classList']['add']('hidden');},document[_0xc7d29a(0x38d)]('click',_0x58f4fc=>{const _0x323775=_0xc7d29a;!_0x58f4fc['target'][_0x323775(0x575)](_0x323775(0xaf5))&&document[_0x323775(0xb9f)](_0x323775(0x445))[_0x323775(0x3f4)](_0x17abfe=>_0x17abfe[_0x323775(0x144)][_0x323775(0x743)](_0x323775(0x1c9)));});function renderFullQuizForm(){const _0x23c1ae=_0xc7d29a,_0x56cf29=currentDisplayedQuiz[_0x23c1ae(0x7c2)]?.[_0x23c1ae(0xe0b)]===!![],_0x1643c9=currentDisplayedQuiz['settings']?.[_0x23c1ae(0x89f)]||_0x23c1ae(0x4ae);let _0x589e62=![],_0x21fa06='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?_0x23c1ae(0x7c1):'')+_0x23c1ae(0x622);currentDisplayedQuiz[_0x23c1ae(0x763)][_0x23c1ae(0x3f4)]((_0x4fee18,_0x2f1f9b)=>{const _0x2c67f9=_0x23c1ae,_0x29a8ef=_0x4fee18[_0x2c67f9(0xd53)]||currentDisplayedQuiz[_0x2c67f9(0x7f3)],_0x3b2248=_0x2c67f9(0x207)+(0x64-_0x2f1f9b)+';';_0x29a8ef===_0x2c67f9(0x6cf)&&!_0x589e62&&(_0x21fa06+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x589e62=!![]);_0x21fa06+=_0x2c67f9(0x661)+_0x3b2248+'\x22>';_0x29a8ef!==_0x2c67f9(0x6cf)&&(_0x21fa06+=_0x2c67f9(0x5b1)+(_0x2f1f9b+0x1)+'.\x20'+(_0x4fee18['instructions']||_0x4fee18[_0x2c67f9(0x3ab)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4fee18['imageCode']?_0x2c67f9(0x8b2)+_0x4fee18['imageCode']+_0x2c67f9(0x1d2):'')+_0x2c67f9(0xacd));_0x21fa06+=_0x2c67f9(0x92b);if(_0x29a8ef==='matching_item'&&_0x4fee18[_0x2c67f9(0x872)])_0x21fa06+=_0x2c67f9(0xcb1)+(_0x2f1f9b+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>'+_0x4fee18[_0x2c67f9(0x23b)]+_0x2c67f9(0x29d)+_0x2f1f9b+_0x2c67f9(0xa5f)+_0x2f1f9b+'\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown('+_0x2f1f9b+_0x2c67f9(0x77a)+_0x2f1f9b+_0x2c67f9(0x393)+_0x2f1f9b+_0x2c67f9(0x995)+_0x4fee18[_0x2c67f9(0x872)]['map']((_0x261665,_0x3b3ae5)=>_0x2c67f9(0xc19)+_0x2f1f9b+',\x20'+_0x3b3ae5+')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x261665+_0x2c67f9(0xabe))[_0x2c67f9(0x922)]('')+_0x2c67f9(0x8fd);else{if(_0x29a8ef===_0x2c67f9(0x206))_0x21fa06+=_0x2c67f9(0xc4b)+_0x2f1f9b+_0x2c67f9(0xb27)+_0x2f1f9b+_0x2c67f9(0x435)+_0x2f1f9b+'_opt0\x22>ใช่</label></div>',_0x21fa06+=_0x2c67f9(0xc4b)+_0x2f1f9b+_0x2c67f9(0x81f)+_0x2f1f9b+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x2f1f9b+_0x2c67f9(0xafb);else _0x4fee18[_0x2c67f9(0x764)]&&Array[_0x2c67f9(0x63a)](_0x4fee18[_0x2c67f9(0x764)])&&_0x4fee18[_0x2c67f9(0x764)]['length']>0x0?_0x21fa06+=_0x4fee18['options'][_0x2c67f9(0x283)]((_0x16fd33,_0x29764e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x2f1f9b+_0x2c67f9(0x2ef)+_0x29764e+_0x2c67f9(0xa88)+_0x2f1f9b+_0x2c67f9(0x39d)+_0x29764e+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0x2f1f9b+_0x2c67f9(0x2ef)+_0x29764e+'\x22>'+_0x16fd33+_0x2c67f9(0xaac))[_0x2c67f9(0x922)](''):_0x21fa06+=_0x2c67f9(0x973)+_0x2f1f9b+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';}_0x21fa06+='</div>',_0x56cf29&&(_0x21fa06+=_0x2c67f9(0x8f4),_0x1643c9===_0x2c67f9(0x335)?_0x21fa06+=_0x2c67f9(0x5b2)+_0x2f1f9b+'\x22\x20name=\x22confidence'+_0x2f1f9b+_0x2c67f9(0x9f6)+_0x2f1f9b+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x2f1f9b+_0x2c67f9(0x64f):_0x21fa06+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x2f1f9b+_0x2c67f9(0x943)+_0x2f1f9b+_0x2c67f9(0x786)+_0x2f1f9b+_0x2c67f9(0xc0f),_0x21fa06+=_0x2c67f9(0x1d2)),_0x21fa06+=_0x2c67f9(0x1d2);}),_0x21fa06+=_0x23c1ae(0x56d),_0x21fa06+=_0x23c1ae(0x2fd),studentQuizArea[_0x23c1ae(0x22a)]=_0x21fa06;if(currentMode===_0x23c1ae(0x755)){const _0x20d25c=document['getElementById'](_0x23c1ae(0x221));if(_0x20d25c)_0x20d25c[_0x23c1ae(0x38d)](_0x23c1ae(0x9b4),cancelAdminTest);}const _0x1b83f9=document['getElementById'](_0x23c1ae(0xe37));_0x1b83f9&&(_0x1b83f9[_0x23c1ae(0x38d)](_0x23c1ae(0xb9e),handleSubmitQuiz),_0x1b83f9['addEventListener'](_0x23c1ae(0x9b4),_0x3e16ea=>{const _0x41a381=_0x23c1ae;if(_0x3e16ea['target'][_0x41a381(0x144)][_0x41a381(0x3c8)]('confidence-choice-btn')){const _0x196296=_0x3e16ea[_0x41a381(0x7b9)],_0x533974=_0x196296[_0x41a381(0x5fd)][_0x41a381(0x47e)],_0x58fd60=_0x196296[_0x41a381(0x5fd)][_0x41a381(0xb66)];document[_0x41a381(0x8cb)](_0x41a381(0x307)+_0x533974)[_0x41a381(0xb66)]=_0x58fd60;const _0x503c34=_0x196296[_0x41a381(0x17d)];_0x503c34[_0x41a381(0xb9f)]('.confidence-choice-btn')['forEach'](_0x1c347c=>_0x1c347c[_0x41a381(0x144)][_0x41a381(0xc8b)](_0x41a381(0xb26))),_0x196296['classList'][_0x41a381(0x743)](_0x41a381(0xb26));}})),window[_0x23c1ae(0x608)]&&setTimeout(()=>{const _0x4cf215=_0x23c1ae;window[_0x4cf215(0x608)][_0x4cf215(0x31d)]([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x414389){const _0x4ec3cd=_0xc7d29a;if(_0x414389)_0x414389['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x305b9a=document[_0x4ec3cd(0x8cb)](_0x4ec3cd(0xe37));if(!_0x305b9a)return;const _0x1a9047=currentDisplayedQuiz[_0x4ec3cd(0x7c2)]?.['isConfidenceScoringEnabled']===!![],_0x3817a5=currentDisplayedQuiz[_0x4ec3cd(0x7c2)]?.[_0x4ec3cd(0x89f)]||'checkbox';if(_0x1a9047&&_0x3817a5===_0x4ec3cd(0x335)){let _0xfbf7b9=!![];for(let _0xd74eea=0x0;_0xd74eea<currentDisplayedQuiz['questions'][_0x4ec3cd(0x3bb)];_0xd74eea++){const _0x3ccacc=_0x305b9a[_0x4ec3cd(0x947)]('#confidence-input-'+_0xd74eea);if(!_0x3ccacc||_0x3ccacc['value']===''){_0xfbf7b9=![];break;}}if(!_0xfbf7b9){showMessage(_0x4ec3cd(0x20b));return;}}const _0x37e84d=_0x305b9a[_0x4ec3cd(0x947)](_0x4ec3cd(0xcfd)),_0x4ff687=currentDisplayedQuiz['questions'][_0x4ec3cd(0x3ad)](_0x1b5bbf=>_0x1b5bbf[_0x4ec3cd(0xd53)]===_0x4ec3cd(0xc34));_0x37e84d&&(_0x37e84d['disabled']=!![],_0x37e84d[_0x4ec3cd(0x22a)]=_0x4ff687?_0x4ec3cd(0x68b):_0x4ec3cd(0x7ed));const _0x373ead=new FormData(_0x305b9a),_0x4daab2=currentDisplayedQuiz[_0x4ec3cd(0x763)][_0x4ec3cd(0x283)]((_0x69d9d0,_0x54718a)=>{const _0x15fb44=_0x4ec3cd,_0x284457=_0x373ead['get']('question'+_0x54718a);let _0x1e1237;_0x3817a5==='mandatory'?_0x1e1237=_0x373ead['get'](_0x15fb44(0x889)+_0x54718a):_0x1e1237=_0x373ead['get']('confidence'+_0x54718a)==='on';let _0x287a0f=null;if(_0x284457!==null&&_0x284457!==undefined){const _0x51a9ea=_0x69d9d0['questionType']||currentDisplayedQuiz['quizType'];_0x51a9ea===_0x15fb44(0xc7b)||_0x51a9ea==='fill_in_the_blank'?_0x287a0f=parseInt(_0x284457):_0x287a0f=_0x284457;}return{'answer':_0x287a0f,'wasConfident':_0x1e1237};}),_0x3c4a43=currentQuizData['id'],_0x2ff3da=doc(db,_0x4ec3cd(0x9c2)+appId+_0x4ec3cd(0x360)+_0x3c4a43+_0x4ec3cd(0x17c),currentStudentName),_0x23bbeb=await getDoc(_0x2ff3da),_0x589313=_0x23bbeb[_0x4ec3cd(0x45f)]()?_0x23bbeb[_0x4ec3cd(0x241)]():{},_0x32ddc5=_0x589313[_0x4ec3cd(0x7cd)]||[];await processAndSubmitAnswers(_0x4daab2,_0x32ddc5);}async function gradeShortAnswerWithAI(_0x5c838c,_0x48e08e){const _0x4e1469=_0xc7d29a;if(!_0x5c838c||!_0x48e08e)return![];try{const _0x23f3dd='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x5c838c+_0x4e1469(0x82c)+_0x48e08e+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x271a19={'contents':[{'role':'user','parts':[{'text':_0x23f3dd}]}]},_0x5b1da8=_0x4e1469(0xa5c),_0x316ac3=_0x4e1469(0x700)+_0x5b1da8,_0x10f37a=await fetch(_0x316ac3,{'method':_0x4e1469(0xd6),'headers':{'Content-Type':'application/json'},'body':JSON[_0x4e1469(0xa7e)](_0x271a19)});if(!_0x10f37a['ok'])throw new Error(_0x4e1469(0x63e));const _0x1c4fc7=await _0x10f37a[_0x4e1469(0xbd9)](),_0x24a31d=_0x1c4fc7[_0x4e1469(0xa9f)][0x0]['content'][_0x4e1469(0xa22)][0x0][_0x4e1469(0xb0d)]['trim']()[_0x4e1469(0xdfe)]();return _0x24a31d===_0x4e1469(0xa81);}catch(_0x139345){return console[_0x4e1469(0x3e8)](_0x4e1469(0x218),_0x139345),![];}}async function processAndSubmitAnswers(_0x1eac10,_0x4df33b){const _0x35e016=_0xc7d29a;releaseWakeLock(),stopDimTimer();try{document['fullscreenElement']&&await document[_0x35e016(0x488)]();}catch(_0x1afb2f){console[_0x35e016(0x6d4)](_0x35e016(0xcbf),_0x1afb2f);}isQuizActive=![],document[_0x35e016(0xdf5)](_0x35e016(0xa2f),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange);let _0x196c50=0x0;const _0x30f0a9=[],_0x20086b=currentDisplayedQuiz['questions'][_0x35e016(0x3bb)];let _0x38377c=0x0,_0x38ed27=[];const _0x4ee2c7=currentDisplayedQuiz[_0x35e016(0x763)];for(let _0x3950bc=0x0;_0x3950bc<_0x4ee2c7[_0x35e016(0x3bb)];_0x3950bc++){const _0x2ce5f0=_0x4ee2c7[_0x3950bc],_0x437c35=_0x1eac10[_0x3950bc],_0x5a0327=_0x437c35?_0x437c35[_0x35e016(0x2b9)]:null,_0x40c827=_0x437c35?_0x437c35[_0x35e016(0xb1a)]:null;let _0x49bb99=![],_0x1a6928=0x0;if(_0x5a0327!==null&&_0x5a0327!==''){const _0x2ab192=_0x2ce5f0[_0x35e016(0xd53)]||currentDisplayedQuiz[_0x35e016(0x7f3)];switch(_0x2ab192){case _0x35e016(0x6cf):_0x49bb99=_0x5a0327===_0x2ce5f0[_0x35e016(0x9b7)];break;case _0x35e016(0x206):const _0xa4bd8f=_0x5a0327===!![]||_0x5a0327===_0x35e016(0xa81);_0x49bb99=_0xa4bd8f===_0x2ce5f0[_0x35e016(0x124)];break;case'fill_in_no_choices':case'short_answer':_0x49bb99=await gradeShortAnswer(_0x5a0327,_0x2ce5f0);break;case'multiple_choice':case'fill_in_with_choices':default:_0x49bb99=Number(_0x5a0327)===_0x2ce5f0['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x35e016(0x7c2)]?.[_0x35e016(0xe0b)]){const _0x26bc41=_0x437c35?_0x437c35[_0x35e016(0xb1a)]:null;if(_0x49bb99&&(_0x26bc41===!![]||_0x26bc41===_0x35e016(0x8ff)))_0x1a6928=0x2;else{if(_0x49bb99)_0x1a6928=0x1;else{if(!_0x49bb99&&(_0x26bc41===![]||_0x26bc41==='not_confident'||_0x26bc41===null))_0x1a6928=0x0;else!_0x49bb99&&(_0x26bc41===!![]||_0x26bc41===_0x35e016(0x8ff))&&(_0x1a6928=-0x1);}}}else _0x1a6928=_0x49bb99?0x1:0x0;_0x196c50+=_0x1a6928;if(_0x49bb99){_0x38377c++;if(_0x38377c===0x3)_0x38ed27[_0x35e016(0x77f)](BADGES[_0x35e016(0x60f)]['id']);}else _0x38377c=0x0;let _0x27906c=null;_0x2ce5f0['options']&&(_0x2ce5f0[_0x35e016(0xd53)]===_0x35e016(0xc7b)||_0x2ce5f0[_0x35e016(0xd53)]===_0x35e016(0x7ec))&&_0x5a0327!==null?_0x27906c=_0x2ce5f0[_0x35e016(0x764)][_0x5a0327]:_0x27906c=_0x5a0327,_0x30f0a9[_0x35e016(0x77f)]({'questionId':_0x2ce5f0['id'],'answer':_0x5a0327,'answerText':_0x27906c,'isCorrect':_0x49bb99,'wasConfident':_0x40c827,'pointsAwarded':_0x1a6928,'originalQuestionText':_0x2ce5f0['stem']||_0x2ce5f0[_0x35e016(0x3ab)]});}const _0x34172e=_0x30f0a9['filter'](_0x12be92=>_0x12be92['isCorrect'])[_0x35e016(0x3bb)],_0x172f4b=currentDisplayedQuiz[_0x35e016(0x7c2)]?.[_0x35e016(0x1b7)]??Math['floor'](_0x20086b/0x2);_0x34172e===_0x20086b&&_0x20086b>0x0&&!currentDisplayedQuiz[_0x35e016(0xb6)]&&_0x38ed27[_0x35e016(0x77f)](BADGES[_0x35e016(0xa28)]['id']);const _0x55ed28=currentDisplayedQuiz[_0x35e016(0x7c2)]?.[_0x35e016(0xe47)];if(_0x55ed28===_0x35e016(0x251)&&quizStartTime){const _0x2007dd=(new Date()-quizStartTime)/0x3e8,_0xaab4c4=currentDisplayedQuiz[_0x35e016(0x7c2)][_0x35e016(0x311)]*0x3c;_0x34172e>=_0x172f4b&&_0x2007dd<_0xaab4c4/0x2&&_0x38ed27[_0x35e016(0x77f)](BADGES[_0x35e016(0xdc4)]['id']);}_0x4df33b[_0x35e016(0x3bb)]===0x0&&_0x34172e===_0x20086b&&_0x20086b>0x0&&_0x38ed27['push'](BADGES[_0x35e016(0x4cd)]['id']);if(_0x4df33b[_0x35e016(0x3bb)]>0x0){const _0x3c769c=_0x4df33b[0x0][_0x35e016(0x1f9)];if(_0x3c769c<_0x172f4b&&_0x34172e>=_0x172f4b){const _0x227f59=_0x4df33b[_0x35e016(0x3ad)](_0x567ca1=>(_0x567ca1[_0x35e016(0x175)]||[])[_0x35e016(0xd33)](BADGES['COMEBACK_KING']['id']));!_0x227f59&&_0x38ed27['push'](BADGES[_0x35e016(0xbfe)]['id']);}}_0x4df33b['length']===0x4&&_0x38ed27[_0x35e016(0x77f)](BADGES[_0x35e016(0xb76)]['id']);const _0x2e8727=currentDisplayedQuiz[_0x35e016(0x7c2)][_0x35e016(0xab0)];if(currentMode===_0x35e016(0x755)){handleResultDisplay(_0x2e8727,_0x34172e,_0x196c50,_0x38ed27,_0x30f0a9,_0x20086b);return;}const _0x522da1=currentQuizData['id'],_0xe3a554=doc(db,_0x35e016(0x9c2)+appId+'/public/data/quizzes/'+_0x522da1+_0x35e016(0x17c),currentStudentName);try{const _0x2dee4d=[..._0x4df33b],_0x20b895={'score':_0x34172e,'points':_0x196c50,'badges':Array[_0x35e016(0x617)](new Set(_0x38ed27)),'submittedAt':new Date()['toISOString'](),'answers':_0x30f0a9};_0x2dee4d[_0x35e016(0x77f)](_0x20b895);const _0x292115=_0x4df33b[_0x35e016(0x3bb)]===0x0?_0x34172e:_0x4df33b[0x0][_0x35e016(0x1f9)]||0x0,_0x580a43=Math['max'](..._0x2dee4d[_0x35e016(0x283)](_0x39e140=>_0x39e140[_0x35e016(0x1f9)]));await setDoc(_0xe3a554,{'studentName':currentStudentName,'totalQuestions':_0x20086b,'attempts':_0x2dee4d,'firstScore':_0x292115,'bestScore':_0x580a43,'latestScore':_0x34172e,'points':_0x196c50,'latestSubmittedAt':_0x20b895[_0x35e016(0x85e)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x35e016(0x8d2)],currentStudentName),handleResultDisplay(_0x2e8727,_0x34172e,_0x196c50,_0x38ed27,_0x30f0a9,_0x20086b);}catch(_0x1844a1){console[_0x35e016(0x3e8)](_0x35e016(0x4aa),_0x1844a1),showMessage(_0x35e016(0xaae));}}async function updateStudentProfile(_0x2a1633,_0x16a24){const _0x55f080=_0xc7d29a,_0x312528=doc(db,_0x55f080(0x9c2)+appId+'/public/data/projects/'+_0x2a1633+_0x55f080(0x876),_0x16a24);try{const _0x32e7f9=query(collection(db,'artifacts/'+appId+_0x55f080(0x843)),where('projectId','==',_0x2a1633)),_0x53796e=await getDocs(_0x32e7f9),_0xc9d9a1=_0x53796e['docs'][_0x55f080(0x283)](_0x29c9c7=>_0x29c9c7['id']);let _0x537b17=0x0;const _0x53cc34={},_0x430f7f=_0xc9d9a1[_0x55f080(0x283)](_0x48075b=>getDoc(doc(db,_0x55f080(0x9c2)+appId+_0x55f080(0x360)+_0x48075b+_0x55f080(0x17c),_0x16a24))),_0x57ebf6=await Promise[_0x55f080(0x1fd)](_0x430f7f);_0x57ebf6[_0x55f080(0x3f4)](_0x433e24=>{const _0x4d484b=_0x55f080;if(_0x433e24['exists']()){const _0x419c95=_0x433e24[_0x4d484b(0x241)]();_0x537b17+=_0x419c95['points']||0x0,_0x419c95[_0x4d484b(0x7cd)]&&_0x419c95['attempts'][_0x4d484b(0x3f4)](_0x1470c8=>{const _0x38a87f=_0x4d484b;_0x1470c8[_0x38a87f(0x175)]&&_0x1470c8[_0x38a87f(0x175)]['forEach'](_0x3ac825=>{});});}}),await setDoc(_0x312528,{'studentName':_0x16a24,'totalPoints':_0x537b17},{'merge':!![]});}catch(_0x16f8d0){console['error']('Profile\x20recalculation\x20error:',_0x16f8d0);}}function startAdminTest(){const _0x47c426=_0xc7d29a;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0xf7ed08=JSON[_0x47c426(0x208)](JSON[_0x47c426(0xa7e)](currentQuizData));currentMode=_0x47c426(0x755),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x47c426(0x144)]['add'](_0x47c426(0x1c9)),studentView[_0x47c426(0x144)]['remove'](_0x47c426(0x1c9)),studentInitialView[_0x47c426(0x144)][_0x47c426(0x743)](_0x47c426(0x1c9)),studentNameSelectionView[_0x47c426(0x144)][_0x47c426(0x743)](_0x47c426(0x1c9)),studentResultArea[_0x47c426(0x144)][_0x47c426(0x743)]('hidden'),studentQuizArea[_0x47c426(0x144)][_0x47c426(0xc8b)](_0x47c426(0x1c9)),quizStartTime=new Date(),displayQuizForStudent(_0xf7ed08);}function handleResultDisplay(_0x155f81,_0x184aca,_0x506f9b,_0x5ec06c,_0x262035,_0x306d0a){const _0x2d4159=_0xc7d29a;if(_0x155f81===_0x2d4159(0xf0)){displaySubmissionConfirmation();return;}const _0x4dd4cf=currentDisplayedQuiz[_0x2d4159(0x7c2)]?.[_0x2d4159(0x1b7)]??Math[_0x2d4159(0x6da)](_0x306d0a/0x2),_0x2a4fdb=currentDisplayedQuiz[_0x2d4159(0x7c2)]?.[_0x2d4159(0xd46)]??![],_0x5c3264=currentDisplayedQuiz[_0x2d4159(0x7c2)]?.[_0x2d4159(0xd02)]===!![],_0x59b830=_0x184aca<_0x4dd4cf,_0x572765=_0x155f81===_0x2d4159(0xa2c)||_0x155f81==='perfect_score_status';if(_0x5c3264&&_0x59b830&&!_0x572765){_0x155f81===_0x2d4159(0xb3b)?displayResultsWithAnswers(_0x184aca,_0x506f9b,_0x5ec06c,_0x262035,_0x306d0a,!![]):displayLoopScreen(_0x184aca,_0x306d0a,_0x155f81);return;}if(_0x2a4fdb&&_0x59b830){startAdaptiveFlow(_0x262035,_0x184aca,_0x306d0a);return;}switch(_0x155f81){case'show_results_and_answers':displayResultsWithAnswers(_0x184aca,_0x506f9b,_0x5ec06c,_0x262035,_0x306d0a);break;case'show_results_only':displayResultsScoreOnly(_0x184aca,_0x506f9b,_0x5ec06c,_0x306d0a);break;case _0x2d4159(0x3f8):displayPassFailOnly(_0x184aca,_0x306d0a);break;case _0x2d4159(0xa2c):displayHalfMarkResult(_0x184aca,_0x306d0a);break;case'perfect_score_status':displayPerfectScoreResult(_0x184aca,_0x306d0a);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x5cc2bb){const _0x42300a=_0xc7d29a;studentReadingArea[_0x42300a(0x22a)]=_0x42300a(0x341);const _0x3d0832=_0x42300a(0xbf4)+_0x5cc2bb+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x42300a(0x833),_0xd9c9bc={'type':'OBJECT','properties':{'questionText':{'type':_0x42300a(0x47b)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x42300a(0x894)},'explanation':{'type':_0x42300a(0x47b)}},'required':[_0x42300a(0x3ab),'options',_0x42300a(0xcd4),_0x42300a(0x9f2)]},_0x29d9f6={'type':_0x42300a(0x2c9),'properties':{'topic':{'type':_0x42300a(0x47b)},'questions':{'type':'ARRAY','items':_0xd9c9bc}},'required':[_0x42300a(0x664),_0x42300a(0x763)]};try{const _0x5285d1=await callAnalysisApi(_0x3d0832,_0x29d9f6);_0x5285d1['isRemedial']=!![],studentReadingArea[_0x42300a(0x144)][_0x42300a(0x743)](_0x42300a(0x1c9));const _0x5446c5={...currentDisplayedQuiz[_0x42300a(0x7c2)],'isAdaptive':![],'resultsDisplay':_0x42300a(0xb3b)};_0x5285d1['settings']=_0x5446c5,displayQuizForStudent(_0x5285d1);}catch(_0x465fa0){console['error']('Remedial\x20quiz\x20generation\x20failed:',_0x465fa0),showMessage(_0x42300a(0x939)),showView(_0x42300a(0x24c));}}function displayPassFailOnly(_0x279a00,_0x5c666e){const _0x1b64f4=_0xc7d29a,_0x4e6bd2=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x37b9e3=currentDisplayedQuiz[_0x1b64f4(0xb6)]===!![];let _0x2afa9c='',_0x317823=![];if(_0x37b9e3||_0x4e6bd2!==-0x1){_0x317823=_0x37b9e3?_0x279a00===_0x5c666e:_0x279a00>=_0x4e6bd2;const _0x120c86=_0x317823?_0x1b64f4(0xbc9):_0x1b64f4(0x308),_0x3ff1b1=_0x317823?_0x1b64f4(0xe69):'ไม่ผ่าน';_0x2afa9c=_0x1b64f4(0x3e3)+_0x120c86+'\x22>'+_0x3ff1b1+_0x1b64f4(0x823);}else _0x2afa9c=_0x1b64f4(0xbad);let _0x771fa4=_0x1b64f4(0x3ce)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2afa9c+_0x1b64f4(0xc8c);studentResultArea[_0x1b64f4(0x22a)]=_0x771fa4,studentResultArea[_0x1b64f4(0x144)][_0x1b64f4(0xc8b)](_0x1b64f4(0x1c9)),studentQuizArea[_0x1b64f4(0x144)][_0x1b64f4(0x743)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x317823});}function cancelAdminTest(){const _0x42797a=_0xc7d29a;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x42797a(0xdf5)]('fullscreenchange',handleFullscreenChange),document[_0x42797a(0xdf5)]('visibilitychange',handleVisibilityChange),currentMode=_0x42797a(0x87c),studentView[_0x42797a(0x144)][_0x42797a(0x743)](_0x42797a(0x1c9)),adminView[_0x42797a(0x144)]['remove'](_0x42797a(0x1c9)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x10dc04){const _0x2840d4=_0xc7d29a,_0x481833={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x10dc04};if(_0x481833['isLooping']){const _0x4786a5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x2840d4(0x358)](_0x2840d4(0xd15),_0x4786a5),document[_0x2840d4(0x8cb)](_0x2840d4(0x41d))[_0x2840d4(0x38d)](_0x2840d4(0x9b4),()=>{const _0xbe3f77=_0x2840d4;studentResultArea['classList']['add'](_0xbe3f77(0x1c9)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x5e8f29='back-from-results-btn',_0xbe9772=currentMode===_0x2840d4(0x755),_0x1c2802=_0xbe9772?_0x2840d4(0x28c):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก';let _0x25819a='';_0x481833[_0x2840d4(0xbc7)]&&(_0x25819a+=_0x2840d4(0x365));let _0x1ed37d=_0x481833[_0x2840d4(0x430)];_0x1ed37d===undefined&&(_0x1ed37d=_0x481833[_0x2840d4(0x1f9)]<_0x481833['totalQuestions']);_0x1ed37d&&(_0x25819a+=_0x2840d4(0x8ed));_0x25819a+=_0x2840d4(0xc09)+_0x5e8f29+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x1c2802+'</button>';const _0x393171=_0x2840d4(0x119)+_0x25819a+_0x2840d4(0x1d2);studentResultArea[_0x2840d4(0x358)]('beforeend',_0x393171),studentResultArea[_0x2840d4(0x947)](_0x2840d4(0xccb))?.[_0x2840d4(0x38d)]('click',handleShowStudentRankings);const _0x2b3ba6=studentResultArea[_0x2840d4(0x947)](_0x2840d4(0xb8d));_0x2b3ba6&&_0x2b3ba6[_0x2840d4(0x38d)](_0x2840d4(0x9b4),()=>{const _0x1ef8ac=_0x2840d4;studentResultArea[_0x1ef8ac(0x144)][_0x1ef8ac(0x743)](_0x1ef8ac(0x1c9)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x5e8f29)['addEventListener'](_0x2840d4(0x9b4),()=>{const _0x596e0e=_0x2840d4;_0xbe9772?(currentMode=_0x596e0e(0x87c),studentView['classList']['add'](_0x596e0e(0x1c9)),adminView[_0x596e0e(0x144)][_0x596e0e(0xc8b)]('hidden'),showView(_0x596e0e(0x753))):(showView(_0x596e0e(0x24c)),document[_0x596e0e(0x8cb)](_0x596e0e(0xc6))[_0x596e0e(0xb66)]='');});}function displayResultsWithAnswers(_0x54c364,_0xc2e3b1,_0x5bfaa8,_0x1a14dd,_0x4b0f44,_0x36de3b=![]){const _0x146ee6=_0xc7d29a,_0xea9065=_0x4b0f44>0x0?_0x54c364/_0x4b0f44*0x64:0x0,_0x196a1c=currentDisplayedQuiz[_0x146ee6(0x7c2)]?.[_0x146ee6(0x1b7)]??-0x1,_0xf0ad66=currentDisplayedQuiz[_0x146ee6(0xb6)]===!![];let _0x43a9ab='';if(_0xf0ad66||_0x196a1c!==-0x1){let _0x5ebbc0=_0xf0ad66?_0x54c364===_0x4b0f44:_0x54c364>=_0x196a1c;const _0x1ba12e=_0x5ebbc0?_0x146ee6(0xbc9):_0x146ee6(0x308),_0xec8ccc=_0x5ebbc0?_0x146ee6(0xe69):'ไม่ผ่าน';_0x43a9ab=_0x146ee6(0x285)+_0x1ba12e+'\x22>'+_0xec8ccc+'</p>';}let _0x3a327a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x54c364+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x4b0f44+_0x146ee6(0xd14)+_0x43a9ab+_0x146ee6(0xc70)+_0xc2e3b1+_0x146ee6(0xa68)+_0xea9065[_0x146ee6(0xd28)](0x0)+_0x146ee6(0xc6a);currentDisplayedQuiz['questions']['forEach']((_0x294ecf,_0x42340a)=>{const _0x443436=_0x146ee6,_0x18f481=_0x1a14dd[_0x42340a],_0x109ca4=_0x18f481[_0x443436(0x2b9)],_0x3c1236=_0x18f481[_0x443436(0x2a6)],_0xbae4f1=_0x294ecf[_0x443436(0xd53)]||currentDisplayedQuiz[_0x443436(0x7f3)];_0x3a327a+=_0x443436(0x242)+(_0x3c1236?_0x443436(0x5a2):_0x443436(0xc2c))+_0x443436(0x8f2)+(_0x42340a+0x1)+'.\x20'+(_0x294ecf['stem']||_0x294ecf[_0x443436(0x3ab)])+_0x443436(0x13b);switch(_0xbae4f1){case _0x443436(0x6cf):const _0x48625a=_0x109ca4||_0x443436(0x750),_0x1c5bf0=_0x294ecf[_0x443436(0x9b7)];_0x3a327a+=_0x443436(0x448)+(!_0x3c1236?'line-through\x20text-red-700':'')+'\x22>'+_0x48625a+_0x443436(0xd4b);!_0x3c1236&&(_0x3a327a+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x1c5bf0+_0x443436(0x4f2));break;case _0x443436(0x8f8):case _0x443436(0xc34):_0x3a327a+=_0x443436(0x7cf)+(_0x109ca4||'ไม่ได้ตอบ')+_0x443436(0x4f2),_0x3a327a+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x294ecf[_0x443436(0xd16)]+_0x443436(0x4f2);break;case _0x443436(0x206):_0x3a327a+=_0x443436(0x5a5)+(_0x294ecf[_0x443436(0x124)]===!![]?_0x443436(0xe22):'')+'\x20'+(_0x109ca4===_0x443436(0xa81)&&!_0x3c1236?'line-through\x20text-red-700':'')+'\x22>ใช่</p>',_0x3a327a+='<p\x20class=\x22'+(_0x294ecf[_0x443436(0x124)]===![]?_0x443436(0xe22):'')+'\x20'+(_0x109ca4===_0x443436(0xc78)&&!_0x3c1236?'line-through\x20text-red-700':'')+'\x22>ไม่ใช่</p>';break;case _0x443436(0xc7b):case'fill_in_with_choices':default:if(_0x294ecf['options']&&Array[_0x443436(0x63a)](_0x294ecf['options']))_0x3a327a+=_0x294ecf[_0x443436(0x764)][_0x443436(0x283)]((_0x4252b4,_0x5b9fbd)=>{const _0x149218=_0x443436;let _0x4e4388='',_0x53b650='';if(_0x5b9fbd===_0x294ecf[_0x149218(0xcd4)])_0x4e4388=_0x149218(0xe22),_0x53b650=_0x149218(0xa55);else _0x5b9fbd===_0x109ca4&&(_0x4e4388=_0x149218(0x6df),_0x53b650=_0x149218(0xb69));return _0x149218(0xb5c)+_0x4e4388+'\x22>'+_0x53b650+_0x4252b4+_0x149218(0x1d2);})['join']('');else{_0x3a327a+=_0x443436(0x7cf)+(_0x109ca4||_0x443436(0x750))+'</p>';if(!_0x3c1236)_0x3a327a+=_0x443436(0x2df);}break;}_0x3a327a+=_0x443436(0x3f9)+(_0x294ecf[_0x443436(0x9f2)]||_0x443436(0xd90))+_0x443436(0x1d2);if(!_0x3c1236){const _0x3d1e13=_0x294ecf[_0x443436(0x23b)]||_0x294ecf['questionText'];_0x3a327a+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x3d1e13)+_0x443436(0xb50);}_0x3a327a+='</div>';}),studentResultArea['innerHTML']=_0x3a327a,renderEarnedBadges(_0x5bfaa8,'earned-badges-container'),studentResultArea[_0x146ee6(0x144)][_0x146ee6(0xc8b)](_0x146ee6(0x1c9)),studentQuizArea[_0x146ee6(0x144)][_0x146ee6(0x743)]('hidden'),setupResultScreenBackButton({'isLooping':_0x36de3b,'score':_0x54c364,'totalQuestions':_0x4b0f44,'showRankings':!![]});if(window[_0x146ee6(0x608)])window[_0x146ee6(0x608)][_0x146ee6(0x31d)]([studentResultArea]);}function displayResultsScoreOnly(_0x508cdc,_0xe60fa8,_0x5bf200,_0x3307ac){const _0x44b906=_0xc7d29a,_0x2bc05b=_0x3307ac>0x0?_0x508cdc/_0x3307ac*0x64:0x0,_0x1e5f4b=currentDisplayedQuiz[_0x44b906(0x7c2)]?.[_0x44b906(0x1b7)]??-0x1,_0x397e87=currentDisplayedQuiz['isRemedial']===!![];let _0x188b13='';if(_0x397e87||_0x1e5f4b!==-0x1){let _0x5af7cf=_0x397e87?_0x508cdc===_0x3307ac:_0x508cdc>=_0x1e5f4b;const _0x8fc89b=_0x5af7cf?_0x44b906(0xbc9):_0x44b906(0x308),_0x5e13b8=_0x5af7cf?_0x44b906(0xe69):_0x44b906(0x7b3);_0x188b13=_0x44b906(0x285)+_0x8fc89b+'\x22>'+_0x5e13b8+_0x44b906(0x4f2);}let _0x44ce77=_0x44b906(0x3ce)+currentStudentName+_0x44b906(0x10e)+_0x508cdc+_0x44b906(0xa38)+_0x3307ac+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x188b13+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0xe60fa8+_0x44b906(0xce5)+_0x2bc05b[_0x44b906(0xd28)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x44b906(0x22a)]=_0x44ce77,renderEarnedBadges(_0x5bf200,_0x44b906(0xab2)),studentResultArea[_0x44b906(0x144)][_0x44b906(0xc8b)](_0x44b906(0x1c9)),studentQuizArea[_0x44b906(0x144)][_0x44b906(0x743)](_0x44b906(0x1c9)),setupResultScreenBackButton({'score':_0x508cdc,'totalQuestions':_0x3307ac,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x5e0419=_0xc7d29a;let _0x16b9ec=_0x5e0419(0x4c1)+currentStudentName+_0x5e0419(0x3cd);studentResultArea[_0x5e0419(0x22a)]=_0x16b9ec,studentResultArea[_0x5e0419(0x144)][_0x5e0419(0xc8b)](_0x5e0419(0x1c9)),studentQuizArea['classList'][_0x5e0419(0x743)](_0x5e0419(0x1c9)),document['getElementById'](_0x5e0419(0xe6a))[_0x5e0419(0x38d)]('click',()=>{const _0x39fdbb=_0x5e0419;showView(_0x39fdbb(0x24c)),document[_0x39fdbb(0x8cb)](_0x39fdbb(0xc6))[_0x39fdbb(0xb66)]='';});}function renderEarnedBadges(_0x27aaf7,_0x5edf93){const _0x2944d0=_0xc7d29a,_0x2bd9c3=document['getElementById'](_0x5edf93);if(!_0x2bd9c3||!_0x27aaf7||_0x27aaf7[_0x2944d0(0x3bb)]===0x0)return;let _0x5068e4='';_0x27aaf7[_0x2944d0(0x3f4)]((_0x187531,_0xf8e6fb)=>{const _0x36f305=_0x2944d0,_0x38ac5c=Object[_0x36f305(0xc37)](BADGES)[_0x36f305(0x7d2)](_0x5bf047=>_0x5bf047['id']===_0x187531);_0x38ac5c&&(_0x5068e4+=_0x36f305(0x615)+_0xf8e6fb*0.2+_0x36f305(0x125)+_0x38ac5c[_0x36f305(0x70e)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x38ac5c[_0x36f305(0x8b7)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x38ac5c[_0x36f305(0xa48)]+_0x36f305(0x992));}),_0x2bd9c3['innerHTML']=_0x5068e4;}function startPresentation(_0x3554e3){const _0x43495c=_0xc7d29a;currentQuizData=getShuffledQuiz(_0x3554e3),currentPresentationSlide=0x0,presentationModal['style']['display']=_0x43495c(0xe23),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x415621=_0xc7d29a;document['fullscreenElement']&&document['exitFullscreen'](),presentationModal[_0x415621(0x220)][_0x415621(0xa5a)]=_0x415621(0xcab);}function renderPresentationSlide(_0x4f3678){const _0x494017=_0xc7d29a,_0x352255=document[_0x494017(0x8cb)](_0x494017(0x26d));if(!currentQuizData||!currentQuizData[_0x494017(0x763)]||!currentQuizData[_0x494017(0x763)][_0x4f3678]){_0x352255[_0x494017(0x22a)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x121c29=currentQuizData[_0x494017(0x763)][_0x4f3678],_0x4557f8=_0x121c29['questionType']||currentQuizData[_0x494017(0x7f3)];_0x352255[_0x494017(0x22a)]='';let _0x5cd047=_0x494017(0x2cd)+(_0x121c29[_0x494017(0xb24)]?_0x494017(0x8b2)+_0x121c29[_0x494017(0xb24)]+_0x494017(0x1d2):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x4f3678+0x1)+'.\x20'+(_0x121c29['stem']||_0x121c29[_0x494017(0x3ab)])+_0x494017(0x725);switch(_0x4557f8){case'matching_item':_0x5cd047+=_0x121c29[_0x494017(0x872)][_0x494017(0x283)](_0xb65472=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb65472+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x494017(0x922)]('');break;case _0x494017(0x206):_0x5cd047+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x5cd047+=_0x494017(0xb19);break;case'fill_in_no_choices':case _0x494017(0xc34):_0x5cd047+=_0x494017(0x33a);break;case'fill_in_the_blank':case _0x494017(0xc7b):default:_0x5cd047+=_0x121c29[_0x494017(0x764)]['map']((_0x1d8258,_0xedb1f)=>_0x494017(0x718)+_0xedb1f+_0x494017(0x56c)+_0x1d8258+_0x494017(0x9d3))[_0x494017(0x922)]('');break;}_0x5cd047+=_0x494017(0x858)+(_0x121c29[_0x494017(0x9f2)]||'ไม่มีคำอธิบาย')+_0x494017(0xbfc),_0x352255[_0x494017(0x22a)]=_0x5cd047;if(window[_0x494017(0x608)])window['MathJax'][_0x494017(0x31d)]([_0x352255]);let _0x5a4946=[];switch(_0x4557f8){case'matching_item':_0x5a4946=_0x121c29[_0x494017(0x872)]||[];break;case _0x494017(0x206):_0x5a4946=[_0x494017(0x304),_0x494017(0xe1f)];break;default:_0x5a4946=_0x121c29[_0x494017(0x764)]||[];break;}const _0x1789c0=document[_0x494017(0x8cb)](_0x494017(0x3a7));_0x1789c0&&(_0x1789c0['onclick']=()=>{openScratchpad(_0x121c29,_0x5a4946);});document[_0x494017(0xb9f)](_0x494017(0xcd7))['forEach'](_0x3c7f7e=>{const _0x1d90e9=_0x494017;_0x3c7f7e[_0x1d90e9(0x38d)](_0x1d90e9(0x9b4),_0x3d4e1e=>revealAnswerForPresentation(_0x4f3678,_0x3d4e1e[_0x1d90e9(0x4e1)]));});const _0xd16423=document[_0x494017(0x8cb)](_0x494017(0xdf7));_0xd16423&&_0xd16423['addEventListener']('click',()=>checkShortAnswerForPresentation(_0x4f3678)),document[_0x494017(0x8cb)](_0x494017(0xe65))[_0x494017(0x1ae)]=_0x494017(0x497)+(_0x4f3678+0x1)+_0x494017(0x99b)+currentQuizData[_0x494017(0x763)]['length'],document[_0x494017(0x8cb)](_0x494017(0x210))['disabled']=_0x4f3678===0x0,document[_0x494017(0x8cb)](_0x494017(0x129))[_0x494017(0xc2b)]=_0x4f3678===currentQuizData[_0x494017(0x763)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x99e534){const _0x2139b9=_0xc7d29a,_0x4df674=currentQuizData[_0x2139b9(0x763)][_0x99e534],_0x1b55cc=document['getElementById'](_0x2139b9(0x721)),_0x5483d0=document[_0x2139b9(0x8cb)](_0x2139b9(0xdf7)),_0x15f1e8=document[_0x2139b9(0x8cb)]('presentation-ai-result'),_0x26f447=document[_0x2139b9(0x8cb)](_0x2139b9(0x556));if(!_0x1b55cc||!_0x5483d0||!_0x15f1e8||!_0x26f447)return;const _0x2bc8e6=_0x1b55cc[_0x2139b9(0xb66)][_0x2139b9(0x649)]();if(_0x2bc8e6==='')return;_0x5483d0['disabled']=!![],_0x5483d0[_0x2139b9(0x22a)]=_0x2139b9(0x715),_0x1b55cc['disabled']=!![];const _0x2c1aec=await gradeShortAnswer(_0x2bc8e6,_0x4df674);_0x2c1aec?_0x15f1e8[_0x2139b9(0x22a)]=_0x2139b9(0xb99):_0x15f1e8[_0x2139b9(0x22a)]=_0x2139b9(0x2cb)+_0x4df674[_0x2139b9(0xd16)]+')',_0x15f1e8[_0x2139b9(0x144)][_0x2139b9(0xc8b)](_0x2139b9(0x1c9)),_0x26f447[_0x2139b9(0x144)][_0x2139b9(0xc8b)]('hidden'),_0x5483d0[_0x2139b9(0x144)][_0x2139b9(0x743)](_0x2139b9(0x1c9));}function revealAnswerForPresentation(_0x168746,_0x1ea4a6){const _0x2e2459=_0xc7d29a,_0x4798f0=currentQuizData[_0x2e2459(0x763)][_0x168746],_0x1f8b85=_0x4798f0[_0x2e2459(0xd53)]||currentQuizData[_0x2e2459(0x7f3)];document['querySelectorAll'](_0x2e2459(0xcd7))[_0x2e2459(0x3f4)](_0x54c7c8=>{const _0x5d2321=_0x2e2459;_0x54c7c8['disabled']=!![],_0x54c7c8[_0x5d2321(0x144)][_0x5d2321(0xc8b)]('hover:bg-indigo-100');let _0x2ccb64=![];if(_0x1f8b85===_0x5d2321(0xc7b)||_0x1f8b85===_0x5d2321(0xc63)){const _0x410b36=parseInt(_0x54c7c8[_0x5d2321(0x5fd)]['index']);_0x2ccb64=_0x410b36===_0x4798f0[_0x5d2321(0xcd4)];}else{if(_0x1f8b85===_0x5d2321(0x206)){const _0x35fa74=_0x54c7c8[_0x5d2321(0x5fd)][_0x5d2321(0x2b9)]==='true';_0x2ccb64=_0x35fa74===_0x4798f0[_0x5d2321(0x124)];}else _0x1f8b85==='matching_item'&&(_0x2ccb64=_0x54c7c8['textContent'][_0x5d2321(0x649)]()===_0x4798f0[_0x5d2321(0x9b7)]);}_0x2ccb64?_0x54c7c8['classList'][_0x5d2321(0x743)](_0x5d2321(0x162),'text-white',_0x5d2321(0x8a3)):_0x54c7c8[_0x5d2321(0x144)][_0x5d2321(0x743)](_0x5d2321(0xce6));}),_0x1ea4a6[_0x2e2459(0x144)][_0x2e2459(0xc8b)]('opacity-50');let _0x79e735=![];if(_0x1f8b85===_0x2e2459(0xc7b))_0x79e735=parseInt(_0x1ea4a6[_0x2e2459(0x5fd)][_0x2e2459(0xb94)])===_0x4798f0[_0x2e2459(0xcd4)];else{if(_0x1f8b85===_0x2e2459(0x206))_0x79e735=_0x1ea4a6[_0x2e2459(0x5fd)][_0x2e2459(0x2b9)]===_0x2e2459(0xa81)===_0x4798f0[_0x2e2459(0x124)];else _0x1f8b85===_0x2e2459(0x6cf)&&(_0x79e735=_0x1ea4a6[_0x2e2459(0x1ae)][_0x2e2459(0x649)]()===_0x4798f0[_0x2e2459(0x9b7)]);}!_0x79e735&&_0x1ea4a6[_0x2e2459(0x144)][_0x2e2459(0x743)](_0x2e2459(0x9c8),_0x2e2459(0x2f9),_0x2e2459(0xb32)),document['getElementById'](_0x2e2459(0x556))['classList'][_0x2e2459(0xc8b)]('hidden');}function startWholeQuizTimer(_0x1938e5){const _0x563dc9=_0xc7d29a,_0x4b3b92=document[_0x563dc9(0x8cb)](_0x563dc9(0x657));if(!_0x4b3b92)return;const _0x1ff8c7=Date[_0x563dc9(0x2da)]()+_0x1938e5*0x3c*0x3e8;_0x4b3b92[_0x563dc9(0x22a)]=_0x563dc9(0x8c6);const _0x1574b9=document[_0x563dc9(0x8cb)](_0x563dc9(0x2a9));quizTimerInterval=setInterval(()=>{const _0x238490=_0x563dc9,_0x1a76a1=_0x1ff8c7-Date['now']();if(_0x1a76a1<=0x0)clearInterval(quizTimerInterval),_0x1574b9[_0x238490(0x1ae)]=_0x238490(0xdf6),showMessage(_0x238490(0xa0c)),handleSubmitQuiz(null);else{const _0x253190=Math['floor'](_0x1a76a1/0x3e8/0x3c%0x3c)[_0x238490(0x225)]()[_0x238490(0xbd2)](0x2,'0'),_0x248f54=Math[_0x238490(0x6da)](_0x1a76a1/0x3e8%0x3c)[_0x238490(0x225)]()[_0x238490(0xbd2)](0x2,'0');_0x1574b9[_0x238490(0x1ae)]=_0x253190+':'+_0x248f54;}},0x3e8);}function renderPerQuestionView(){const _0x5b56aa=_0xc7d29a;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x4c0776=currentDisplayedQuiz[_0x5b56aa(0x763)][currentQuestionIndex],_0x197d52=_0x4c0776[_0x5b56aa(0xd53)]||currentDisplayedQuiz[_0x5b56aa(0x7f3)],_0x1f4f30=currentDisplayedQuiz[_0x5b56aa(0x7c2)]?.[_0x5b56aa(0xe0b)]===!![];let _0xdcc39=_0x5b56aa(0x13c)+(currentQuestionIndex+0x1)+_0x5b56aa(0x323)+currentDisplayedQuiz[_0x5b56aa(0x763)][_0x5b56aa(0x3bb)]+_0x5b56aa(0x278)+(currentMode===_0x5b56aa(0x755)?_0x5b56aa(0x7c1):'')+_0x5b56aa(0x969)+currentDisplayedQuiz['topic']+_0x5b56aa(0x15e);studentQuizArea[_0x5b56aa(0x22a)]=_0xdcc39;let _0x2c3a62=_0x4c0776['stem']||_0x4c0776['questionText'];_0x4c0776[_0x5b56aa(0xb24)]&&(_0x2c3a62+=_0x5b56aa(0x8b2)+_0x4c0776['imageCode']+_0x5b56aa(0x1d2));let _0x17eec2='';switch(_0x197d52){case _0x5b56aa(0xc34):case _0x5b56aa(0x8f8):_0x17eec2=_0x5b56aa(0x97b);break;case _0x5b56aa(0x206):_0x17eec2=_0x5b56aa(0x9e7);break;case'matching_item':_0x17eec2=_0x5b56aa(0xa85)+(_0x4c0776[_0x5b56aa(0x872)]||[])[_0x5b56aa(0x283)](_0x2744f0=>'<option\x20value=\x22'+_0x2744f0+'\x22>'+_0x2744f0+'</option>')[_0x5b56aa(0x922)]('')+_0x5b56aa(0x1fb);break;default:_0x4c0776[_0x5b56aa(0x764)]&&(_0x17eec2=_0x4c0776[_0x5b56aa(0x764)][_0x5b56aa(0x283)]((_0x119eae,_0x520ac9)=>_0x5b56aa(0x3da)+_0x520ac9+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x520ac9+_0x5b56aa(0xbcc)+_0x520ac9+'\x22>'+_0x119eae+_0x5b56aa(0xd40))[_0x5b56aa(0x922)](''));break;}document['getElementById'](_0x5b56aa(0x4ef))[_0x5b56aa(0x22a)]=_0x2c3a62,document['getElementById'](_0x5b56aa(0x6b1))[_0x5b56aa(0x22a)]=_0x17eec2;const _0x307615=currentDisplayedQuiz[_0x5b56aa(0x7c2)]?.['isConfidenceScoringEnabled']===!![],_0x58a721=currentDisplayedQuiz[_0x5b56aa(0x7c2)]?.['confidenceMode']||_0x5b56aa(0x4ae);if(_0x307615&&_0x58a721===_0x5b56aa(0x4ae)){const _0x4009b1=_0x5b56aa(0x496);studentQuizArea[_0x5b56aa(0x947)]('.mb-6.p-4')[_0x5b56aa(0x358)](_0x5b56aa(0xd15),_0x4009b1);}studentQuizArea['insertAdjacentHTML'](_0x5b56aa(0xd15),_0x5b56aa(0x59c)+(currentQuestionIndex===currentDisplayedQuiz[_0x5b56aa(0x763)][_0x5b56aa(0x3bb)]-0x1?_0x5b56aa(0x38b):_0x5b56aa(0x51f))+_0x5b56aa(0x234));currentMode==='admin-testing'&&document[_0x5b56aa(0x8cb)]('cancel-test-btn')?.[_0x5b56aa(0x38d)]('click',cancelAdminTest);document[_0x5b56aa(0x8cb)](_0x5b56aa(0x363))[_0x5b56aa(0x38d)](_0x5b56aa(0x9b4),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x5b56aa(0x608)][_0x5b56aa(0x31d)]([studentQuizArea]);currentDisplayedQuiz[_0x5b56aa(0x7c2)]?.[_0x5b56aa(0xe47)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x437f4c=_0xc7d29a,_0x3fcd39=currentDisplayedQuiz[_0x437f4c(0x7c2)]['timerDuration'],_0x3fcbda=document[_0x437f4c(0x8cb)](_0x437f4c(0x653));if(!_0x3fcbda)return;let _0x4a228c=_0x3fcd39;_0x3fcbda[_0x437f4c(0x22a)]=_0x437f4c(0x1bd)+_0x4a228c+_0x437f4c(0xd01);const _0x4398be=document[_0x437f4c(0x8cb)](_0x437f4c(0x762)),_0x25eea6=document[_0x437f4c(0x8cb)](_0x437f4c(0xd95));perQuestionTimerInterval=setInterval(()=>{const _0x4b97d0=_0x437f4c;_0x4a228c--;const _0x2ddeb4=_0x4a228c/_0x3fcd39*0x64;_0x4398be[_0x4b97d0(0x220)][_0x4b97d0(0x958)]=_0x2ddeb4+'%',_0x25eea6['textContent']=_0x4a228c,_0x4a228c<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x2dc0e7=![]){const _0x46df0b=_0xc7d29a;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x37998c=null,_0x493e4b=![];if(!_0x2dc0e7){const _0x36d527=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x35dd98=_0x36d527[_0x46df0b(0xd53)]||currentDisplayedQuiz[_0x46df0b(0x7f3)];if(_0x35dd98===_0x46df0b(0xc34)||_0x35dd98===_0x46df0b(0x8f8))_0x37998c=document[_0x46df0b(0x947)](_0x46df0b(0x6a6))?.[_0x46df0b(0xb66)][_0x46df0b(0x649)]()??'';else{if(_0x35dd98===_0x46df0b(0x6cf))_0x37998c=document[_0x46df0b(0x947)](_0x46df0b(0x5da))?.[_0x46df0b(0xb66)]??'';else{const _0x573873=document[_0x46df0b(0x947)](_0x46df0b(0xd1f));_0x573873&&(_0x37998c=_0x573873[_0x46df0b(0xb66)]);}}if(_0x37998c===null||_0x37998c===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x55df44=currentDisplayedQuiz[_0x46df0b(0x7c2)]?.[_0x46df0b(0xe0b)]===!![],_0x40a0d1=currentDisplayedQuiz[_0x46df0b(0x7c2)]?.[_0x46df0b(0x89f)]||_0x46df0b(0x4ae);if(_0x55df44&&_0x40a0d1===_0x46df0b(0x335)){document[_0x46df0b(0x8cb)](_0x46df0b(0x2fc))[_0x46df0b(0x5fd)]['currentMode']='timed',document[_0x46df0b(0x8cb)](_0x46df0b(0xa60))[_0x46df0b(0xb66)]=_0x37998c,document[_0x46df0b(0x8cb)](_0x46df0b(0x2fc))['classList'][_0x46df0b(0xc8b)](_0x46df0b(0x1c9));return;}const _0x4435da=document[_0x46df0b(0x8cb)](_0x46df0b(0x55a));_0x4435da&&(_0x493e4b=_0x4435da[_0x46df0b(0x4d7)]);}const _0x40165f={'answer':_0x37998c,'wasConfident':_0x493e4b};proceedToNextQuestion(_0x40165f);}async function finalizePerQuestionQuiz(){const _0x55011c=_0xc7d29a,_0x28429a=currentDisplayedQuiz[_0x55011c(0x763)][_0x55011c(0x3ad)](_0x1f4d57=>_0x1f4d57[_0x55011c(0xd53)]===_0x55011c(0xc34));_0x28429a?showMessage(_0x55011c(0x236)):showMessage(_0x55011c(0x9ef));const _0x2a65f8=currentQuizData['id'],_0x2510f6=doc(db,_0x55011c(0x9c2)+appId+_0x55011c(0x360)+_0x2a65f8+_0x55011c(0x17c),currentStudentName),_0x4ca50f=await getDoc(_0x2510f6),_0x17ea58=_0x4ca50f[_0x55011c(0x45f)]()?_0x4ca50f[_0x55011c(0x241)]():{},_0x4db033=_0x17ea58['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x4db033);}function getResultsFilename(){const _0x3d5b0c=_0xc7d29a,_0x232403=document['getElementById'](_0x3d5b0c(0xdde))[_0x3d5b0c(0x1ae)]['replace'](/[^a-z0-9]/gi,'_')[_0x3d5b0c(0xdfe)]();return _0x3d5b0c(0xc76)+(_0x232403||_0x3d5b0c(0x256));}function exportResultsAsImage(){const _0x5ce397=_0xc7d29a,_0x42612e=document[_0x5ce397(0x8cb)](_0x5ce397(0xa51));showMessage(_0x5ce397(0x7a8)),html2canvas(_0x42612e)[_0x5ce397(0xa8f)](_0x3a60ac=>{const _0x831e41=_0x5ce397,_0x5cffdf=document[_0x831e41(0x4d6)]('a');_0x5cffdf[_0x831e41(0x6a0)]=getResultsFilename()+_0x831e41(0x22c),_0x5cffdf[_0x831e41(0x960)]=_0x3a60ac[_0x831e41(0x28a)]('image/png'),_0x5cffdf['click'](),messageModal[_0x831e41(0x144)][_0x831e41(0x743)](_0x831e41(0x1c9));});}function exportResultsAsPDF(){const _0x207f4a=_0xc7d29a,{jsPDF:_0x1d00f5}=window[_0x207f4a(0x160)],_0x3150de=new _0x1d00f5();_0x3150de[_0x207f4a(0xc57)](_0x207f4a(0xdc8),'normal'),_0x3150de[_0x207f4a(0xdc7)]({'html':_0x207f4a(0xaf3)}),_0x3150de['save'](getResultsFilename()+_0x207f4a(0xe0e));}function exportResultsAsWord(){const _0x57c49a=_0xc7d29a,_0xeacf3=_0x57c49a(0xe34)+_0x57c49a(0x9e4)+_0x57c49a(0x300)+_0x57c49a(0xa39),_0x40e2f4='</body></html>',_0x17afa4=_0xeacf3+document[_0x57c49a(0x8cb)]('results-table-container')['innerHTML']+_0x40e2f4,_0x2cb053=_0x57c49a(0x33c)+encodeURIComponent(_0x17afa4),_0x52cc02=document[_0x57c49a(0x4d6)]('a');document['body'][_0x57c49a(0x4cf)](_0x52cc02),_0x52cc02[_0x57c49a(0x960)]=_0x2cb053,_0x52cc02[_0x57c49a(0x6a0)]=getResultsFilename()+'.doc',_0x52cc02[_0x57c49a(0x9b4)](),document[_0x57c49a(0x8dc)][_0x57c49a(0x94d)](_0x52cc02);}function exportResultsAsExcel(){const _0x22eda5=_0xc7d29a,_0x207a0e=document[_0x22eda5(0x8cb)](_0x22eda5(0x161));let _0x58c7d6=[];for(let _0x2d0f9b=0x0;_0x2d0f9b<_0x207a0e[_0x22eda5(0x501)][_0x22eda5(0x3bb)];_0x2d0f9b++){let _0x572e7b=[],_0x184ced=_0x207a0e[_0x22eda5(0x501)][_0x2d0f9b][_0x22eda5(0xb9f)](_0x22eda5(0xd4c));for(let _0x1d2045=0x0;_0x1d2045<_0x184ced[_0x22eda5(0x3bb)];_0x1d2045++){_0x572e7b[_0x22eda5(0x77f)]('\x22'+_0x184ced[_0x1d2045][_0x22eda5(0x8ab)][_0x22eda5(0xb91)](/"/g,'\x22\x22')+'\x22');}_0x58c7d6['push'](_0x572e7b['join'](','));}const _0xcc0823=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x58c7d6[_0x22eda5(0x922)]('\x0a')],{'type':_0x22eda5(0x324)}),_0x4fe685=document[_0x22eda5(0x4d6)]('a');_0x4fe685[_0x22eda5(0x960)]=URL['createObjectURL'](_0xcc0823),_0x4fe685[_0x22eda5(0x6a0)]=getResultsFilename()+_0x22eda5(0x632),_0x4fe685[_0x22eda5(0x9b4)]();}function exportTableAsImage(_0x73fc60,_0x2d4a46){const _0x140634=_0xc7d29a,_0x52aa25=document['getElementById'](_0x73fc60),_0x5ecefe=document[_0x140634(0x8cb)](_0x140634(0xdde));if(!_0x52aa25){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x140634(0x726));const _0x1fc66a=document['createElement']('div');_0x1fc66a[_0x140634(0x220)][_0x140634(0xc7a)]=_0x140634(0xec),_0x1fc66a['style']['padding']=_0x140634(0xaef),_0x1fc66a[_0x140634(0x220)][_0x140634(0x958)]=_0x140634(0xd48),_0x1fc66a[_0x140634(0x220)][_0x140634(0x892)]=_0x140634(0xa8d),_0x1fc66a[_0x140634(0x220)][_0x140634(0x705)]=_0x140634(0xe66),_0x1fc66a[_0x140634(0x220)][_0x140634(0x6f2)]='0',_0x1fc66a[_0x140634(0x220)][_0x140634(0x4d0)]='-1';const _0x470457=document[_0x140634(0x4d6)]('h1');_0x470457[_0x140634(0x8ab)]=_0x5ecefe?_0x5ecefe[_0x140634(0x8ab)]:_0x140634(0xce2),_0x470457[_0x140634(0x220)][_0x140634(0xb04)]=_0x140634(0x57d),_0x470457['style']['fontFamily']=_0x140634(0x6d2),_0x470457[_0x140634(0x220)][_0x140634(0x388)]=_0x140634(0xceb),_0x470457[_0x140634(0x220)][_0x140634(0x252)]='bold',_0x470457['style'][_0x140634(0x455)]='#4338ca',_0x470457[_0x140634(0x220)][_0x140634(0x8ec)]=_0x140634(0xa2b);const _0x40c285=_0x52aa25[_0x140634(0xb2f)](!![]);_0x40c285[_0x140634(0x220)][_0x140634(0x67b)]=_0x140634(0xcab),_0x40c285[_0x140634(0x220)]['overflow']=_0x140634(0x368);const _0x363059=_0x40c285[_0x140634(0xb9f)]('th');let _0x2fee09=-0x1;_0x363059[_0x140634(0x3f4)]((_0x58c691,_0x13f970)=>{const _0x5dc55b=_0x140634;_0x58c691['textContent']['trim']()==='ผล'&&(_0x58c691['style'][_0x5dc55b(0xa5a)]=_0x5dc55b(0xcab),_0x2fee09=_0x13f970);});if(_0x2fee09!==-0x1){const _0x2f7ba3=_0x40c285[_0x140634(0xb9f)]('tr');_0x2f7ba3['forEach'](_0x1f72ee=>{const _0x1a01fc=_0x140634,_0x267143=_0x1f72ee['querySelectorAll']('td');_0x267143['length']>_0x2fee09&&(_0x267143[_0x2fee09][_0x1a01fc(0x220)][_0x1a01fc(0xa5a)]='none');});}_0x1fc66a['appendChild'](_0x470457),_0x1fc66a[_0x140634(0x4cf)](_0x40c285),document[_0x140634(0x8dc)][_0x140634(0x4cf)](_0x1fc66a),html2canvas(_0x1fc66a,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x140634(0xec)})[_0x140634(0xa8f)](_0x9cb22d=>{const _0x60a125=_0x140634,_0x44dd8e=document[_0x60a125(0x4d6)]('a');_0x44dd8e['download']=_0x2d4a46+_0x60a125(0x22c),_0x44dd8e[_0x60a125(0x960)]=_0x9cb22d[_0x60a125(0x28a)]('image/png'),_0x44dd8e[_0x60a125(0x9b4)](),document[_0x60a125(0x8dc)][_0x60a125(0x94d)](_0x1fc66a),messageModal['classList'][_0x60a125(0x743)](_0x60a125(0x1c9));})[_0x140634(0xa65)](_0x4eac44=>{const _0x5f345f=_0x140634;console[_0x5f345f(0x3e8)](_0x5f345f(0x751),_0x4eac44),document[_0x5f345f(0x8dc)][_0x5f345f(0x94d)](_0x1fc66a),showMessage('เกิดข้อผิดพลาดในการสร้างรูปภาพ');});}function exportTableAsPDF(_0x51ec89,_0x175f08){const _0x3ee342=_0xc7d29a,{jsPDF:_0x547d95}=window[_0x3ee342(0x160)],_0x4a898a=new _0x547d95();_0x4a898a[_0x3ee342(0xc57)](_0x3ee342(0xdc8),_0x3ee342(0x378)),_0x4a898a[_0x3ee342(0xdc7)]({'html':'#'+_0x51ec89}),_0x4a898a[_0x3ee342(0xcdb)](_0x175f08+_0x3ee342(0xe0e));}function exportTableAsWord(_0x44d461,_0x315e70){const _0x3d0812=_0xc7d29a,_0x4ebc1e=document['getElementById'](_0x44d461);if(!_0x4ebc1e){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x4d1c05='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x3d0812(0x9e4)+_0x3d0812(0x300)+_0x3d0812(0xa39),_0x2f28d7='</body></html>',_0x3c98b0=_0x4d1c05+_0x4ebc1e['innerHTML']+_0x2f28d7,_0x96885c=_0x3d0812(0x33c)+encodeURIComponent(_0x3c98b0),_0x18bd1f=document['createElement']('a');document[_0x3d0812(0x8dc)][_0x3d0812(0x4cf)](_0x18bd1f),_0x18bd1f['href']=_0x96885c,_0x18bd1f[_0x3d0812(0x6a0)]=_0x315e70+_0x3d0812(0xf8),_0x18bd1f[_0x3d0812(0x9b4)](),document[_0x3d0812(0x8dc)][_0x3d0812(0x94d)](_0x18bd1f);}function exportTableAsExcel(_0xd33f09,_0x18497e){const _0x2292b2=_0xc7d29a,_0x3e8acc=document[_0x2292b2(0x8cb)](_0xd33f09);if(!_0x3e8acc){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0x13b758=[];for(let _0x252c52=0x0;_0x252c52<_0x3e8acc[_0x2292b2(0x501)][_0x2292b2(0x3bb)];_0x252c52++){let _0x46ad77=[],_0x699ae0=_0x3e8acc[_0x2292b2(0x501)][_0x252c52][_0x2292b2(0xb9f)](_0x2292b2(0xd4c));for(let _0x1746b2=0x0;_0x1746b2<_0x699ae0[_0x2292b2(0x3bb)];_0x1746b2++){_0x46ad77[_0x2292b2(0x77f)]('\x22'+_0x699ae0[_0x1746b2]['innerText'][_0x2292b2(0xb91)](/"/g,'\x22\x22')+'\x22');}_0x13b758[_0x2292b2(0x77f)](_0x46ad77[_0x2292b2(0x922)](','));}const _0x257861=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x13b758[_0x2292b2(0x922)]('\x0a')],{'type':_0x2292b2(0x324)}),_0x22a793=document[_0x2292b2(0x4d6)]('a');_0x22a793[_0x2292b2(0x960)]=URL['createObjectURL'](_0x257861),_0x22a793[_0x2292b2(0x6a0)]=_0x18497e+_0x2292b2(0x632),_0x22a793['click']();}function renderAnalytics(_0xde5c92,_0x2c814e){const _0x1e10f3=_0xc7d29a,_0x100a0d=_0x2c814e[_0x1e10f3(0xb8e)](_0x558c2d=>_0x558c2d[_0x1e10f3(0xbbc)]!==undefined),_0x44ccc3=currentProjectData[_0x1e10f3(0xa0d)][_0x1e10f3(0x3bb)],_0x4757cd=_0x100a0d[_0x1e10f3(0x3bb)],_0x2ab670=_0x44ccc3-_0x4757cd,_0x4d328f=_0x44ccc3>0x0?_0x4757cd/_0x44ccc3*0x64:0x0,_0x9a0114=_0x100a0d[_0x1e10f3(0x283)](_0x3042ee=>_0x3042ee['latestScore']),_0x4fdd32=_0x9a0114[_0x1e10f3(0x3bb)]>0x0?_0x9a0114[_0x1e10f3(0xcb0)]((_0x972fab,_0xc47bc2)=>_0x972fab+_0xc47bc2,0x0)/_0x9a0114['length']:0x0,_0x447d97=_0xde5c92['questions'][_0x1e10f3(0x3bb)],_0x5bac66=_0x447d97>0x0?_0x4fdd32/_0x447d97*0x64:0x0,_0x4d373a=calculateItemAnalysis(_0xde5c92,_0x100a0d),_0x555a5c=calculateReliabilityKR20(_0xde5c92,_0x100a0d,_0x4d373a[_0x1e10f3(0x163)]);let _0x2b0b30='';if(_0x555a5c!==null){let _0x4121ae='';if(_0x555a5c>=0.9)_0x4121ae=_0x1e10f3(0xce7);else{if(_0x555a5c>=0.8)_0x4121ae='ดีมาก';else{if(_0x555a5c>=0.7)_0x4121ae='ดี';else{if(_0x555a5c>=0.6)_0x4121ae='พอใช้';else _0x4121ae=_0x1e10f3(0x8d7);}}}_0x2b0b30=_0x1e10f3(0x92f)+_0x555a5c['toFixed'](0x2)+_0x1e10f3(0xbbf)+_0x4121ae+_0x1e10f3(0x7e5);}const _0x4fdc3d=document[_0x1e10f3(0x8cb)](_0x1e10f3(0x881));_0x4fdc3d[_0x1e10f3(0x22a)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x4d328f[_0x1e10f3(0xd28)](0x0)+_0x1e10f3(0x627)+_0x4757cd+'/'+_0x44ccc3+_0x1e10f3(0x7c3)+_0x4fdd32[_0x1e10f3(0xd28)](0x2)+_0x1e10f3(0xa8c)+_0x5bac66[_0x1e10f3(0xd28)](0x0)+_0x1e10f3(0xa53)+(_0x9a0114[_0x1e10f3(0x3bb)]>0x0?Math['max'](..._0x9a0114):_0x1e10f3(0x89b))+_0x1e10f3(0x650)+(_0x9a0114[_0x1e10f3(0x3bb)]>0x0?Math[_0x1e10f3(0xb5d)](..._0x9a0114):'N/A')+_0x1e10f3(0x3bf)+_0x2b0b30+_0x1e10f3(0x833);const _0x173ca3=document['getElementById'](_0x1e10f3(0x437));_0x173ca3&&_0x173ca3[_0x1e10f3(0xc8b)]();const _0x2fe9c8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x4fdc3d[_0x1e10f3(0x358)](_0x1e10f3(0xdd1),_0x2fe9c8);const _0x1b51d5=currentProjectData[_0x1e10f3(0xa0d)]||[];renderSubmissionChart(_0x4757cd,_0x2ab670,_0x100a0d,_0x1b51d5),renderScoreDistributionChart(_0x100a0d,_0x447d97),renderQuestionAnalytics(_0xde5c92,_0x100a0d,_0x1b51d5),renderInterestingStats(_0xde5c92,_0x100a0d);}function _0x3c23(_0x32819a,_0x304e0e){const _0x436804=_0x4368();return _0x3c23=function(_0x3c23bd,_0x302f88){_0x3c23bd=_0x3c23bd-0xab;let _0x401162=_0x436804[_0x3c23bd];return _0x401162;},_0x3c23(_0x32819a,_0x304e0e);}async function handleExportLessonPDF(){const _0x86fba5=_0xc7d29a,_0x563780=document[_0x86fba5(0x8cb)](_0x86fba5(0xc75)),_0x115849=document[_0x86fba5(0x8cb)]('lesson-plan-title')['textContent'],_0x501412=window['open']('',_0x86fba5(0x38f)),_0x5e5856=_0x86fba5(0x56a)+_0x115849+_0x86fba5(0x665)+_0x563780[_0x86fba5(0x22a)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x501412[_0x86fba5(0xaa0)]['write'](_0x5e5856),_0x501412[_0x86fba5(0xaa0)][_0x86fba5(0x838)](),_0x501412[_0x86fba5(0xa2d)]=function(){setTimeout(()=>{const _0x389e6f=_0x3c23;_0x501412[_0x389e6f(0xcf1)]();},0x5dc);};}function renderInterestingStats(_0x5b8de4,_0x381115){const _0x518e43=_0xc7d29a,_0x3304bc=document[_0x518e43(0x8cb)]('interesting-stats-container');if(!_0x3304bc)return;if(_0x381115['length']===0x0){_0x3304bc[_0x518e43(0x22a)]=_0x518e43(0xc3e);return;}const _0x5b0e74=_0x5b8de4[_0x518e43(0x763)][_0x518e43(0x283)]((_0x2573e6,_0x17aee7)=>({'index':_0x17aee7+0x1,'text':_0x2573e6[_0x518e43(0x3ab)]||_0x2573e6[_0x518e43(0x23b)],'correct':0x0}));_0x381115[_0x518e43(0x3f4)](_0x5cfcd1=>{const _0x16b374=_0x518e43,_0x2a8aee=_0x5cfcd1[_0x16b374(0x7cd)][_0x5cfcd1['attempts'][_0x16b374(0x3bb)]-0x1];_0x2a8aee&&_0x2a8aee[_0x16b374(0xea)]&&_0x2a8aee[_0x16b374(0xea)]['forEach'](_0x2304ba=>{const _0xb9b33e=_0x16b374,_0x55bf9c=_0x5b0e74[_0xb9b33e(0x7d2)](_0xa9ff3c=>_0xa9ff3c[_0xb9b33e(0xb0d)]===_0x2304ba[_0xb9b33e(0x37d)]);_0x2304ba[_0xb9b33e(0x2a6)]&&_0x55bf9c&&_0x55bf9c[_0xb9b33e(0x890)]++;});});const _0x1db29e=_0x381115[_0x518e43(0x3bb)],_0x17316b=Math['max'](..._0x5b0e74[_0x518e43(0x283)](_0x24043a=>_0x24043a['correct'])),_0x1d5bad=Math[_0x518e43(0xb5d)](..._0x5b0e74[_0x518e43(0x283)](_0x4172f7=>_0x4172f7[_0x518e43(0x890)])),_0x3ec7aa=_0x5b0e74[_0x518e43(0xb8e)](_0x204a53=>_0x204a53[_0x518e43(0x890)]===_0x17316b)['map'](_0x55f745=>_0x518e43(0x3c0)+_0x55f745[_0x518e43(0xb94)]),_0x5a533b=_0x5b0e74[_0x518e43(0xb8e)](_0x5294cc=>_0x5294cc[_0x518e43(0x890)]===_0x1d5bad)[_0x518e43(0x283)](_0x1f3a48=>'ข้อ\x20'+_0x1f3a48[_0x518e43(0xb94)]),_0x13e547=_0x381115[_0x518e43(0x9a7)]((_0x251f62,_0x65147e)=>_0x65147e[_0x518e43(0xbbc)]-_0x251f62[_0x518e43(0xbbc)])['filter']((_0x519ad0,_0x2d65d8,_0x69ffb1)=>_0x519ad0[_0x518e43(0xbbc)]===_0x69ffb1[0x0][_0x518e43(0xbbc)]),_0x384066=_0x381115[_0x518e43(0x9a7)]((_0x184b19,_0x569952)=>_0x184b19[_0x518e43(0xbbc)]-_0x569952[_0x518e43(0xbbc)])[_0x518e43(0xb8e)]((_0x3e8c28,_0x74f2d3,_0x581961)=>_0x3e8c28['latestScore']===_0x581961[0x0][_0x518e43(0xbbc)]),_0x4cf861=_0x518e43(0x349)+_0x3ec7aa[_0x518e43(0x922)](',\x20')+_0x518e43(0xbd5)+_0x17316b+_0x518e43(0x99b)+_0x1db29e+_0x518e43(0x316)+_0x5a533b[_0x518e43(0x922)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x1db29e-_0x1d5bad)+_0x518e43(0x99b)+_0x1db29e+_0x518e43(0x132)+_0x13e547['map'](_0x42169f=>_0x42169f['studentName'])[_0x518e43(0x922)](',\x20')+_0x518e43(0xbd8)+_0x13e547[0x0][_0x518e43(0xbbc)]+_0x518e43(0x67c)+_0x384066[_0x518e43(0x283)](_0x4ed034=>_0x4ed034[_0x518e43(0x1fe)])[_0x518e43(0x922)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x384066[0x0][_0x518e43(0xbbc)]+_0x518e43(0x2d8);_0x3304bc['innerHTML']=_0x4cf861;}function renderSubmissionChart(_0x528659,_0x4f933d,_0x2b0c74,_0x263e6b){const _0xf1b8a5=_0xc7d29a,_0x1c9216=document[_0xf1b8a5(0x8cb)](_0xf1b8a5(0xc48))[_0xf1b8a5(0x956)]('2d'),_0x336b53=_0x2b0c74['map'](_0x37d9bf=>_0x37d9bf[_0xf1b8a5(0x1fe)]),_0x318011=_0x263e6b[_0xf1b8a5(0xb8e)](_0x427fda=>!_0x336b53[_0xf1b8a5(0xd33)](_0x427fda));chartInstances[_0xf1b8a5(0xad5)]&&chartInstances[_0xf1b8a5(0xad5)][_0xf1b8a5(0xcfe)](),chartInstances['submission']=new Chart(_0x1c9216,{'type':_0xf1b8a5(0x538),'data':{'labels':[_0xf1b8a5(0x9a0),_0xf1b8a5(0x27e)],'datasets':[{'data':[_0x528659,_0x4f933d],'backgroundColor':[_0xf1b8a5(0x87f),_0xf1b8a5(0x8d4)],'borderColor':[_0xf1b8a5(0xec),_0xf1b8a5(0xec)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0xf1b8a5(0x1ab)},'tooltip':{'callbacks':{'label':function(_0x6fcb65){const _0xd4413=_0xf1b8a5;let _0x20218c=_0x6fcb65['label']||'';return _0x20218c&&(_0x20218c+=':\x20'),_0x20218c+=_0x6fcb65[_0xd4413(0x1ef)],_0x20218c;},'afterLabel':function(_0x3804c6){const _0x5bd5aa=_0xf1b8a5;let _0x14e911;return _0x3804c6[_0x5bd5aa(0x11c)]===0x0?_0x14e911=_0x336b53:_0x14e911=_0x318011,_0x14e911[_0x5bd5aa(0x3bb)]>0x0?_0x14e911[_0x5bd5aa(0x922)]('\x0a'):_0x5bd5aa(0x62f);}}}}}});}function renderScoreDistributionChart(_0x2fcae0,_0x23e888){const _0x45c098=_0xc7d29a,_0x5c5159=document[_0x45c098(0x8cb)](_0x45c098(0x35d))[_0x45c098(0x956)]('2d'),_0x3fa825={};for(let _0x28e67d=0x0;_0x28e67d<=_0x23e888;_0x28e67d++){_0x3fa825[_0x28e67d]=0x0;}_0x2fcae0[_0x45c098(0x3f4)](_0x161683=>{const _0x461bd4=_0x45c098;_0x3fa825[_0x161683[_0x461bd4(0xbbc)]]!==undefined&&_0x3fa825[_0x161683[_0x461bd4(0xbbc)]]++;}),chartInstances[_0x45c098(0x1f9)]&&chartInstances[_0x45c098(0x1f9)][_0x45c098(0xcfe)](),chartInstances[_0x45c098(0x1f9)]=new Chart(_0x5c5159,{'type':'bar','data':{'labels':Object[_0x45c098(0xb23)](_0x3fa825),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x45c098(0xc37)](_0x3fa825),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x45c098(0xb77),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0xd56228){const _0x56b86b=_0x45c098,_0x50b922=_0xd56228[_0x56b86b(0x2a7)],_0x3ccc3c=_0x2fcae0[_0x56b86b(0xb8e)](_0x3a82c4=>_0x3a82c4[_0x56b86b(0xbbc)]==_0x50b922)['map'](_0x53cc47=>_0x53cc47[_0x56b86b(0x1fe)]);return _0x3ccc3c['length']>0x0?_0x3ccc3c[_0x56b86b(0x922)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x2cf8f8,_0x59bd3e,_0x4fe756){const _0x51cca2=_0xc7d29a,_0x910cd0=document[_0x51cca2(0x8cb)]('question-analytics-container');if(_0x4fe756[_0x51cca2(0x3bb)]===0x0){_0x910cd0[_0x51cca2(0x22a)]=_0x51cca2(0xd8d);return;}const _0xf1b83f=calculateItemAnalysis(_0x2cf8f8,_0x59bd3e),_0x1e58ea=calculateDistractorAnalysis(_0x2cf8f8,_0x59bd3e);let _0x221d7a='';_0xf1b83f['overallGroups']&&(_0x221d7a=_0x51cca2(0x3cb)+_0xf1b83f[_0x51cca2(0xd38)]['upperGroupNames']['length']+_0x51cca2(0xb6e)+_0xf1b83f[_0x51cca2(0xd38)][_0x51cca2(0x2e9)]['map'](_0x27ee40=>_0x51cca2(0x561)+_0x27ee40+_0x51cca2(0x19c))[_0x51cca2(0x922)]('')+_0x51cca2(0xcc7)+_0xf1b83f['overallGroups'][_0x51cca2(0x86e)][_0x51cca2(0x3bb)]+_0x51cca2(0xb6e)+_0xf1b83f[_0x51cca2(0xd38)][_0x51cca2(0x86e)][_0x51cca2(0x283)](_0x669f5e=>_0x51cca2(0x561)+_0x669f5e+_0x51cca2(0x19c))[_0x51cca2(0x922)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x28be3c='';const _0x15e5cf=_0x59bd3e[_0x51cca2(0x283)](_0x138469=>_0x138469[_0x51cca2(0x1fe)]),_0x3cc686=_0x95a849=>{const _0x298255=_0x51cca2;if(_0x95a849>=0.8)return _0x298255(0x15c);if(_0x95a849>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x95a849>=0.4)return _0x298255(0x226);if(_0x95a849>=0.2)return _0x298255(0x2ab);return _0x298255(0xb73);},_0xabca93=_0xf2b4a3=>{const _0x18c015=_0x51cca2;if(_0xf2b4a3<0x0)return _0x18c015(0x7e3);if(_0xf2b4a3>=0.4)return _0x18c015(0x50f);if(_0xf2b4a3>=0.3)return _0x18c015(0x979);if(_0xf2b4a3>=0.2)return _0x18c015(0x8de);return _0x18c015(0xc69);},_0x288c55=_0x4fde3d=>{const _0x2420d4=_0x51cca2,_0x51befb=_0x4fde3d['toFixed'](0x0);if(parseFloat(_0x51befb)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x51befb+'%</span>';if(_0x4fde3d>=0x32)return _0x2420d4(0xe70)+_0x51befb+'%</span>';return _0x2420d4(0x767)+_0x51befb+'%</span>';};_0x2cf8f8['questions']['forEach']((_0x5ce51a,_0x2d21f9)=>{const _0x327382=_0x51cca2,_0x39ef5a=_0xf1b83f[_0x327382(0x163)][_0x2d21f9],_0x5414b4=_0x1e58ea[_0x2d21f9],_0x185b84=_0x5ce51a['stem']||_0x5ce51a[_0x327382(0x3ab)]||_0x5ce51a[_0x327382(0x900)];let _0x5f504b=0x0;const _0x53f4f9=[],_0x576e0e=[];_0x59bd3e[_0x327382(0x3f4)](_0x3d3c23=>{const _0x7576c7=_0x327382,_0x9dc2a7=_0x3d3c23[_0x7576c7(0x7cd)][_0x3d3c23[_0x7576c7(0x7cd)][_0x7576c7(0x3bb)]-0x1];if(_0x9dc2a7&&_0x9dc2a7['answers']){const _0x200e91=_0x9dc2a7[_0x7576c7(0xea)][_0x7576c7(0x7d2)](_0x30238c=>_0x30238c[_0x7576c7(0x37d)]===_0x185b84)??_0x9dc2a7[_0x7576c7(0xea)][_0x2d21f9]??null;_0x200e91&&(_0x200e91[_0x7576c7(0x2a6)]?(_0x5f504b++,_0x53f4f9[_0x7576c7(0x77f)](_0x3d3c23[_0x7576c7(0x1fe)])):_0x576e0e[_0x7576c7(0x77f)](_0x3d3c23['studentName']));}});const _0x3af2d4=_0x59bd3e['length']>0x0?_0x5f504b/_0x59bd3e['length']*0x64:0x0,_0x475c6a=_0x4fe756['filter'](_0x5d39ea=>!_0x15e5cf[_0x327382(0xd33)](_0x5d39ea)),_0x241efd=_0x39ef5a?_0x327382(0x8ea)+_0x39ef5a['p'][_0x327382(0xd28)](0x2)+_0x327382(0x771)+_0x3cc686(_0x39ef5a['p'])+_0x327382(0x114)+_0x39ef5a['r'][_0x327382(0xd28)](0x2)+_0x327382(0x771)+_0xabca93(_0x39ef5a['r'])+_0x327382(0x4ab)+_0x288c55(_0x3af2d4)+_0x327382(0x609):'';let _0x35e6f9='';_0x5414b4&&(_0x35e6f9=_0x327382(0xd54)+Object[_0x327382(0xb23)](_0x5414b4)[_0x327382(0x283)](_0x3be115=>{const _0x386152=_0x327382,_0x554990=_0x5414b4[_0x3be115],_0x5e8114=parseInt(_0x3be115)===_0x5ce51a['correctAnswerIndex'],_0x196050=!_0x5e8114&&_0x554990[_0x386152(0x796)]>_0x554990[_0x386152(0x44f)];return _0x386152(0xd6c)+(_0x5e8114?_0x386152(0x824):'')+_0x386152(0xbeb)+(_0x5e8114?'✔\x20':'')+_0x554990['text']+_0x386152(0x896)+_0x554990[_0x386152(0x44f)]+_0x386152(0x896)+_0x554990['lower_group_count']+'\x20'+(_0x196050?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x554990[_0x386152(0x398)]+_0x386152(0xa82);})[_0x327382(0x922)]('')+_0x327382(0xe0));let _0x44e734='';_0x39ef5a&&_0x39ef5a[_0x327382(0xde1)]&&(_0x44e734=_0x327382(0x1b0)+_0x39ef5a[_0x327382(0xde1)][_0x327382(0x3bb)]+_0x327382(0x3d1)+_0x39ef5a[_0x327382(0xde1)]['map'](_0x3bf2b9=>'<li>'+(_0x3bf2b9[_0x327382(0x2a6)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x327382(0xba7))+'\x20'+_0x3bf2b9['name']+_0x327382(0x19c))[_0x327382(0x922)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x39ef5a[_0x327382(0x263)]['length']+_0x327382(0x3d1)+_0x39ef5a[_0x327382(0x263)][_0x327382(0x283)](_0x1d78dc=>_0x327382(0x561)+(_0x1d78dc[_0x327382(0x2a6)]?_0x327382(0xa34):_0x327382(0xba7))+'\x20'+_0x1d78dc['name']+_0x327382(0x19c))[_0x327382(0x922)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x28be3c+=_0x327382(0xaf4)+(_0x2d21f9+0x1)+':\x20'+_0x185b84+_0x327382(0x51d)+_0x241efd+_0x327382(0x9b5)+_0x185b84+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x5f504b+'\x20จาก\x20'+_0x59bd3e['length']+_0x327382(0x153)+_0x3af2d4[_0x327382(0xd28)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x53f4f9[_0x327382(0x3bb)]+_0x327382(0x509)+(_0x53f4f9[_0x327382(0x3bb)]>0x0?_0x53f4f9['join'](',\x20'):'ไม่มี')+_0x327382(0x6f4)+_0x576e0e['length']+_0x327382(0x509)+(_0x576e0e[_0x327382(0x3bb)]>0x0?_0x576e0e[_0x327382(0x922)](',\x20'):_0x327382(0x62f))+_0x327382(0x466)+_0x475c6a[_0x327382(0x3bb)]+_0x327382(0x509)+(_0x475c6a['length']>0x0?_0x475c6a[_0x327382(0x922)](',\x20'):_0x327382(0x62f))+_0x327382(0x149)+_0x35e6f9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44e734+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x910cd0['innerHTML']=_0x221d7a+_0x28be3c;try{window[_0x51cca2(0x608)]&&MathJax[_0x51cca2(0x31d)]&&MathJax[_0x51cca2(0x31d)]([_0x910cd0]);}catch(_0x5f3cfd){console['error']('MathJax\x20typeset\x20error\x20(analytics):',_0x5f3cfd);}}function calculateDistractorAnalysis(_0x3d63db,_0x4763f2){const _0x108a4b=_0xc7d29a,_0x121374={};if(_0x4763f2[_0x108a4b(0x3bb)]<0x2)return _0x121374;const _0x2617c4=[..._0x4763f2][_0x108a4b(0x9a7)]((_0x309818,_0x40e959)=>{const _0x211736=_0x108a4b,_0x4adbdc=_0x40e959[_0x211736(0xbbc)]-_0x309818[_0x211736(0xbbc)];if(_0x4adbdc!==0x0)return _0x4adbdc;const _0x19ae6a=_0x309818['attempts']?.['length']||0x1,_0x37b27e=_0x40e959[_0x211736(0x7cd)]?.[_0x211736(0x3bb)]||0x1,_0x451312=_0x19ae6a-_0x37b27e;if(_0x451312!==0x0)return _0x451312;const _0x3aa97e=new Date(_0x309818[_0x211736(0x199)]),_0x3fd3fd=new Date(_0x40e959[_0x211736(0x199)]),_0x211148=_0x3aa97e-_0x3fd3fd;if(_0x211148!==0x0)return _0x211148;return _0x309818[_0x211736(0x1fe)][_0x211736(0xb18)](_0x40e959[_0x211736(0x1fe)],'th');}),_0xf846f0=_0x2617c4[_0x108a4b(0x3bb)],_0x25bff4=Math[_0x108a4b(0xa73)](0x1,Math['floor'](_0xf846f0*0.33)),_0x5f0af5=_0x2617c4['slice'](0x0,_0x25bff4),_0x3f5b6c=_0x2617c4[_0x108a4b(0xe54)](-_0x25bff4);return _0x3d63db['questions']['forEach']((_0x9ced45,_0x2cb6a3)=>{const _0x197a9f=_0x108a4b;if(_0x9ced45['questionType']!=='multiple_choice'||!_0x9ced45['options'])return;const _0x206826=_0x9ced45[_0x197a9f(0x3ab)],_0x53da67={};_0x9ced45[_0x197a9f(0x764)][_0x197a9f(0x3f4)]((_0x50f113,_0x6c4c5c)=>{_0x53da67[_0x6c4c5c]={'text':_0x50f113,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x2617c4[_0x197a9f(0x3f4)](_0x3ddb14=>{const _0x3b5672=_0x197a9f,_0x451830=_0x3ddb14[_0x3b5672(0x7cd)][_0x3ddb14['attempts']['length']-0x1],_0x4825ed=_0x451830[_0x3b5672(0xea)][_0x3b5672(0x7d2)](_0xcc7577=>_0xcc7577[_0x3b5672(0x37d)]===_0x206826);if(_0x4825ed&&_0x4825ed['answer']!==null){const _0x258520=_0x9ced45[_0x3b5672(0x764)]['findIndex'](_0x26c000=>_0x26c000===_0x4825ed['answerText']);_0x258520!==-0x1&&_0x53da67[_0x258520]&&(_0x53da67[_0x258520][_0x3b5672(0x398)]++,_0x5f0af5[_0x3b5672(0xd33)](_0x3ddb14)&&_0x53da67[_0x258520][_0x3b5672(0x44f)]++,_0x3f5b6c['includes'](_0x3ddb14)&&_0x53da67[_0x258520][_0x3b5672(0x796)]++);}}),_0x121374[_0x2cb6a3]=_0x53da67;}),_0x121374;}function calculateReliabilityKR20(_0x2c3705,_0x1775ed,_0x34dfac){const _0x5389c6=_0xc7d29a,_0x306415=_0x2c3705[_0x5389c6(0x763)][_0x5389c6(0x3bb)];if(_0x306415<0x2||_0x1775ed[_0x5389c6(0x3bb)]<0x2)return null;const _0x137138=_0x1775ed[_0x5389c6(0x283)](_0x3fb5b9=>_0x3fb5b9[_0x5389c6(0xbbc)]),_0x33ae27=_0x137138['reduce']((_0x47cc3c,_0x2f32a5)=>_0x47cc3c+_0x2f32a5,0x0)/_0x137138[_0x5389c6(0x3bb)],_0x2f2abb=_0x137138[_0x5389c6(0x283)](_0x1c60fd=>Math['pow'](_0x1c60fd-_0x33ae27,0x2))['reduce']((_0x104383,_0x3f33f7)=>_0x104383+_0x3f33f7,0x0)/_0x137138[_0x5389c6(0x3bb)];if(_0x2f2abb===0x0)return null;let _0x421212=0x0;for(let _0xd50ef4=0x0;_0xd50ef4<_0x306415;_0xd50ef4++){const _0x4d92a6=_0x34dfac[_0xd50ef4]?.['p'];if(_0x4d92a6===undefined)continue;const _0x550033=0x1-_0x4d92a6;_0x421212+=_0x4d92a6*_0x550033;}if(_0x421212===0x0)return null;const _0x41a508=_0x306415/(_0x306415-0x1)*(0x1-_0x421212/_0x2f2abb);if(_0x41a508>0x1)return null;return _0x41a508;}async function handleAnalyzeClass(){const _0x4211b3=_0xc7d29a;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x4211b3(0x6ac));return;}const _0x4f8a3d=collection(db,_0x4211b3(0x9c2)+appId+_0x4211b3(0x360)+currentQuizData['id']+_0x4211b3(0x17c)),_0x3401ff=await getDocs(_0x4f8a3d),_0x84ccd8=_0x3401ff[_0x4211b3(0xd86)][_0x4211b3(0x283)](_0x5bea24=>_0x5bea24[_0x4211b3(0x241)]());if(_0x84ccd8[_0x4211b3(0x3bb)]<0x2){showMessage(_0x4211b3(0xff));return;}const _0x1d087d=document['getElementById'](_0x4211b3(0x40c));_0x1d087d[_0x4211b3(0x22a)]=_0x4211b3(0x406),document[_0x4211b3(0x8cb)](_0x4211b3(0xc7))[_0x4211b3(0xc2b)]=!![];const _0x373fcd=_0x84ccd8[_0x4211b3(0x283)]((_0x6d4e1c,_0x197b1a)=>{const _0x3078c5=_0x4211b3,_0x235b32=_0x6d4e1c[_0x3078c5(0x7cd)][_0x6d4e1c[_0x3078c5(0x7cd)][_0x3078c5(0x3bb)]-0x1];if(!_0x235b32)return'';return _0x3078c5(0x98c)+(_0x197b1a+0x1)+'\x20('+_0x6d4e1c[_0x3078c5(0x1fe)]+_0x3078c5(0x4f4)+_0x235b32[_0x3078c5(0x1f9)]+'/'+_0x6d4e1c[_0x3078c5(0xc94)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x3078c5(0xa7e)](_0x235b32['answers'])+_0x3078c5(0x5d3);})[_0x4211b3(0x922)]('\x0a---\x0a'),_0x30e42e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x4211b3(0x664)]+_0x4211b3(0x327)+JSON[_0x4211b3(0xa7e)](currentQuizData[_0x4211b3(0x763)])+_0x4211b3(0x8ca)+_0x373fcd+_0x4211b3(0xb4c),_0x558043={'type':_0x4211b3(0x2c9),'properties':{'classStrengths':{'type':_0x4211b3(0x991),'items':{'type':_0x4211b3(0x47b)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x4211b3(0x47b)}},'teacherSuggestions':{'type':_0x4211b3(0x991),'items':{'type':_0x4211b3(0x47b)}}},'required':[_0x4211b3(0xa7a),'classWeaknesses',_0x4211b3(0xd61)]};try{const _0x595b61=await callAnalysisApi(_0x30e42e,_0x558043);displayClassAnalysis(_0x595b61);}catch(_0x4a8030){console[_0x4211b3(0x3e8)](_0x4211b3(0xac0),_0x4a8030),_0x1d087d[_0x4211b3(0x22a)]=_0x4211b3(0x32e)+_0x4a8030[_0x4211b3(0xd5f)]+'</p></div>';}finally{document['getElementById'](_0x4211b3(0xc7))[_0x4211b3(0xc2b)]=![];}}function displayClassAnalysis(_0x447dab){const _0x1c5259=_0xc7d29a,_0x146476=document[_0x1c5259(0x8cb)]('strength-weakness-analysis-container');if(!_0x447dab){_0x146476[_0x1c5259(0x22a)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x146476[_0x1c5259(0x22a)]=_0x1c5259(0x787)+_0x447dab['classStrengths']['map'](_0x298ae4=>_0x1c5259(0x561)+_0x298ae4+'</li>')[_0x1c5259(0x922)]('')+_0x1c5259(0xda)+_0x447dab['classWeaknesses'][_0x1c5259(0x283)](_0x508720=>_0x1c5259(0x561)+_0x508720+'</li>')[_0x1c5259(0x922)]('')+_0x1c5259(0xbd3)+_0x447dab['teacherSuggestions'][_0x1c5259(0x283)](_0x1b6019=>_0x1c5259(0x561)+_0x1b6019+_0x1c5259(0x19c))[_0x1c5259(0x922)]('')+_0x1c5259(0xd07);}function formatAndPrintWorksheet(_0x21c906,_0x463b65){const _0x4fc8dc=_0xc7d29a,_0x2aad36=_0x4fc8dc(0x577)+_0x21c906['topic']+_0x4fc8dc(0x7b0)+_0x21c906[_0x4fc8dc(0x664)]+_0x4fc8dc(0x587)+_0x21c906['questions'][_0x4fc8dc(0x283)]((_0x1417b3,_0x460d50)=>_0x4fc8dc(0x4a7)+(_0x460d50+0x1)+'.\x20'+_0x1417b3[_0x4fc8dc(0x3ab)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1417b3[_0x4fc8dc(0xb24)]?_0x4fc8dc(0xc68)+_0x1417b3[_0x4fc8dc(0xb24)]+_0x4fc8dc(0x1d2):'')+_0x4fc8dc(0x867))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x463b65[_0x4fc8dc(0xaa0)][_0x4fc8dc(0xe6d)](_0x2aad36),_0x463b65[_0x4fc8dc(0xaa0)]['close'](),_0x463b65['onload']=function(){setTimeout(()=>{_0x463b65['print']();},0x3e8);};}async function generateWorksheet(){const _0xd5321e=_0xc7d29a,_0x218607=document[_0xd5321e(0x8cb)](_0xd5321e(0x626))[_0xd5321e(0xb66)]['trim']();if(!_0x218607){showMessage(_0xd5321e(0x45e));return;}const _0x2f95c0=document[_0xd5321e(0x8cb)]('force-math-checkbox')[_0xd5321e(0x4d7)],_0x1f54ed=_0x2f95c0?'':'คณิตศาสตร์',_0x266c37=window[_0xd5321e(0x898)]('',_0xd5321e(0x38f));_0x266c37[_0xd5321e(0xaa0)][_0xd5321e(0xe6d)](_0xd5321e(0xde3));const _0x4dfb7b=parseInt(document[_0xd5321e(0x8cb)](_0xd5321e(0x76d))[_0xd5321e(0xb66)]),_0x356782=document[_0xd5321e(0x8cb)](_0xd5321e(0xe36))[_0xd5321e(0x4d7)],_0x5b8574=_0x356782?_0xd5321e(0x276):'',_0x50016b=_0xd5321e(0x270)+_0x1f54ed+_0xd5321e(0xc35)+_0x4dfb7b+_0xd5321e(0x591)+_0x218607+_0xd5321e(0x7ef)+_0x5b8574+_0xd5321e(0xd4a)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x2256ae={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0xd5321e(0x991),'items':{'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0xd5321e(0x47b)}},'required':[_0xd5321e(0x3ab)]}}},'required':[_0xd5321e(0x664),_0xd5321e(0x763)]};document['getElementById'](_0xd5321e(0xc8d))['textContent']='',document[_0xd5321e(0x8cb)](_0xd5321e(0x8aa))[_0xd5321e(0x144)][_0xd5321e(0xc8b)](_0xd5321e(0x1c9)),document['getElementById'](_0xd5321e(0xa93))['classList'][_0xd5321e(0xc8b)](_0xd5321e(0x1c9)),generateWorksheetBtn[_0xd5321e(0xc2b)]=!![];try{const _0x2009e4=await callAnalysisApi(_0x50016b,_0x2256ae);formatAndPrintWorksheet(_0x2009e4,_0x266c37);}catch(_0x972aa3){console[_0xd5321e(0x3e8)](_0xd5321e(0x670),_0x972aa3);if(_0x266c37)_0x266c37[_0xd5321e(0x838)]();showMessage(_0xd5321e(0x5ba));}finally{document['getElementById']('loader')[_0xd5321e(0x144)][_0xd5321e(0x743)](_0xd5321e(0x1c9)),document[_0xd5321e(0x8cb)](_0xd5321e(0xa93))[_0xd5321e(0x144)][_0xd5321e(0x743)](_0xd5321e(0x1c9)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x4ce9a3,_0x1dc2bf){const _0x3cb1f1=_0xc7d29a,_0x33967f={'contents':[{'role':_0x3cb1f1(0xdd4),'parts':[{'text':_0x4ce9a3}]}],'generationConfig':{'responseMimeType':_0x3cb1f1(0x7fd),'responseSchema':_0x1dc2bf}},_0x3f4f5c='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0x45dd7a='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key='+_0x3f4f5c,_0x30d88b=await fetch(_0x45dd7a,{'method':_0x3cb1f1(0xd6),'headers':{'Content-Type':_0x3cb1f1(0x7fd)},'body':JSON[_0x3cb1f1(0xa7e)](_0x33967f)});if(!_0x30d88b['ok'])throw new Error(_0x3cb1f1(0xb33)+_0x30d88b['status']);const _0x5bd824=await _0x30d88b[_0x3cb1f1(0xbd9)]();if(_0x5bd824[_0x3cb1f1(0xa9f)]?.[0x0]?.[_0x3cb1f1(0xd24)]?.['parts']?.[0x0])return JSON['parse'](_0x5bd824[_0x3cb1f1(0xa9f)][0x0][_0x3cb1f1(0xd24)][_0x3cb1f1(0xa22)][0x0][_0x3cb1f1(0xb0d)]);else{let _0x27d4cc=_0x3cb1f1(0x5db);if(_0x5bd824[_0x3cb1f1(0xbb2)]?.[_0x3cb1f1(0x29b)])_0x27d4cc=_0x3cb1f1(0xd2)+_0x5bd824[_0x3cb1f1(0xbb2)][_0x3cb1f1(0x29b)]+'.';else _0x5bd824[_0x3cb1f1(0xa9f)]?.[0x0]?.[_0x3cb1f1(0xe7a)]&&_0x5bd824[_0x3cb1f1(0xa9f)][0x0][_0x3cb1f1(0xe7a)]!==_0x3cb1f1(0x89a)&&(_0x27d4cc=_0x3cb1f1(0x5ce)+_0x5bd824[_0x3cb1f1(0xa9f)][0x0][_0x3cb1f1(0xe7a)]+'.');console['error'](_0x27d4cc,JSON[_0x3cb1f1(0xa7e)](_0x5bd824));throw new Error(_0x27d4cc);}}async function handleStartSyncMode(_0x5357b4,_0xdfbc98=![],_0x2fb587=_0xc7d29a(0xb4d)){const _0x152709=_0xc7d29a,_0x4d869e=allQuizzes['find'](_0x215658=>_0x215658['id']===_0x5357b4)||allQuizzesGlobal[_0x152709(0x7d2)](_0x5c2581=>_0x5c2581['id']===_0x5357b4);if(!_0x4d869e){showMessage(_0x152709(0x47c));return;}currentQuizData=getShuffledQuiz(_0x4d869e);const _0x576353=Math['floor'](0x3e8+Math[_0x152709(0xe46)]()*0x2328)[_0x152709(0x225)](),_0x5b95c1=doc(db,'artifacts/'+appId+_0x152709(0xaad),_0x4d869e['projectId']),_0x4315ec=await getDoc(_0x5b95c1);if(!_0x4315ec['exists']()){showMessage(_0x152709(0x967));return;}const _0x18a358=_0x4315ec[_0x152709(0x241)]()[_0x152709(0xa0d)]||[],_0x37f292={};if(_0x2fb587===_0x152709(0x2ec)||_0x2fb587==='anonymous_reveal_end'){const _0x2c44a5=[...ANONYMOUS_NAMES][_0x152709(0x9a7)](()=>0.5-Math[_0x152709(0xe46)]());_0x18a358[_0x152709(0x3f4)]((_0x2b3207,_0x4f3d28)=>{_0x37f292[_0x2b3207]=_0x2c44a5[_0x4f3d28]||'ผู้เล่น\x20'+(_0x4f3d28+0x1);});}const _0x53358c=document[_0x152709(0x8cb)](_0x152709(0xd70))[_0x152709(0x4d7)],_0x879e44=parseInt(document[_0x152709(0x8cb)](_0x152709(0xe73))[_0x152709(0xb66)],0xa);let _0x5d7389={'timerMode':_0x152709(0xcab),'timerDuration':0x0};_0x53358c&&(_0x5d7389[_0x152709(0xe47)]=_0x152709(0x484),_0x5d7389[_0x152709(0x311)]=_0x879e44||0xf0);const _0x1228e1=document[_0x152709(0x8cb)](_0x152709(0x49d))[_0x152709(0x4d7)],_0x101e73=document[_0x152709(0x8cb)]('enable-black-market-checkbox')[_0x152709(0x4d7)];try{const _0x1baee3=await addDoc(collection(db,'artifacts/'+appId+'/public/data/syncGames'),{'quizId':_0x4d869e['id'],'pin':_0x576353,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xdfbc98,'players':{},'gameVariant':_0x2fb587,'reviewQuestionIndex':0x0,'playerNicknames':_0x37f292,'isAnonymousRevealed':![],..._0x5d7389,'showAnswerInAnonymous':_0x1228e1,'isBlackMarketEnabled':_0x101e73,'showSlowResponders':!![],'slowResponderCount':0x3});currentLiveGameId=_0x1baee3['id'],showView(_0x152709(0xcb9)),renderSyncLobbyView(_0x576353,_0x4d869e[_0x152709(0x664)]),listenForSyncGameUpdates();const _0x38fdb7={'gameId':currentLiveGameId,'mode':_0x152709(0x7ea),'role':_0x152709(0x87c)};sessionStorage[_0x152709(0xdfb)](_0x152709(0x499),JSON['stringify'](_0x38fdb7));}catch(_0x1a7c75){console[_0x152709(0x3e8)](_0x152709(0xc0b),_0x1a7c75),showMessage(_0x152709(0x1f4));}}function calculateFinalPodiumScores(_0x30c365){const _0x175a8a=_0xc7d29a;if(!_0x30c365||!_0x30c365[_0x175a8a(0xb2d)]||!_0x30c365[_0x175a8a(0x14d)])return _0x30c365['players']||{};const _0x1f69b8=_0x30c365[_0x175a8a(0xb2d)][_0x175a8a(0x763)][_0x175a8a(0x3bb)],_0x55d5f0=JSON[_0x175a8a(0x208)](JSON[_0x175a8a(0xa7e)](_0x30c365[_0x175a8a(0x14d)]));return Object[_0x175a8a(0xc37)](_0x55d5f0)[_0x175a8a(0x3f4)](_0x59ce27=>{const _0x165367=_0x175a8a,_0x4b6d2e=_0x59ce27[_0x165367(0x1f9)]||0x0,_0x4c0b63=_0x59ce27[_0x165367(0x540)]||0x0;_0x1f69b8>0x0&&_0x4b6d2e===_0x1f69b8?_0x59ce27[_0x165367(0xef)]=!![]:_0x59ce27['hasPerfectScoreBonus']=![],_0x59ce27[_0x165367(0x31e)]=_0x4b6d2e,_0x59ce27[_0x165367(0x540)]=_0x4c0b63;}),_0x55d5f0;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x5802cb=_0xc7d29a;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0x1c08cc=doc(db,_0x5802cb(0x9c2)+appId+_0x5802cb(0xde7),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x1c08cc,_0x4353f3=>{const _0x2605d4=_0x5802cb;if(!_0x4353f3['exists']()){sessionStorage[_0x2605d4(0xd5b)](_0x2605d4(0x499)),showMessage(_0x2605d4(0xbfb));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x2605d4(0x753)):showView(_0x2605d4(0x24c));return;}cachedGameData=_0x4353f3[_0x2605d4(0x241)](),cachedGameData[_0x2605d4(0xb2d)]&&(currentQuizData=cachedGameData['shuffledQuiz']),syncDataAndRender();});const _0x3f8f10=collection(db,_0x5802cb(0x9c2)+appId+'/public/data/syncGames/'+currentLiveGameId+'/players');if(currentMode===_0x5802cb(0x87c))unsubscribePlayersCollectionListener=onSnapshot(_0x3f8f10,_0x2e2a32=>{const _0x2b9c80=_0x5802cb;_0x2e2a32['docChanges']()[_0x2b9c80(0x3f4)](_0x1de2fa=>{const _0x19077b=_0x2b9c80;if(_0x1de2fa['type']===_0x19077b(0xdc3)||_0x1de2fa[_0x19077b(0x255)]==='modified')cachedPlayerData[_0x1de2fa[_0x19077b(0x837)]['id']]=_0x1de2fa[_0x19077b(0x837)]['data']();else _0x1de2fa[_0x19077b(0x255)]==='removed'&&delete cachedPlayerData[_0x1de2fa[_0x19077b(0x837)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers['length']>0x0){const _0x37b7c7=query(_0x3f8f10,where('name','in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x37b7c7,_0x5972d9=>{const _0x1f4d0e=_0x5802cb;_0x5972d9[_0x1f4d0e(0xbb0)]()[_0x1f4d0e(0x3f4)](_0x12b365=>{const _0x280b3f=_0x1f4d0e;(_0x12b365[_0x280b3f(0x255)]===_0x280b3f(0xdc3)||_0x12b365[_0x280b3f(0x255)]==='modified')&&(cachedPlayerData[_0x12b365[_0x280b3f(0x837)]['id']]=_0x12b365['doc'][_0x280b3f(0x241)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x230984=_0xc7d29a;if(!cachedGameData)return;const _0x4b1d44={},_0x3ca10a=cachedGameData[_0x230984(0xc74)];Object[_0x230984(0xb23)](cachedPlayerData)[_0x230984(0x3f4)](_0x468536=>{const _0x700bc4=_0x230984,_0x4a005c=cachedPlayerData[_0x468536],_0x47f887=_0x4a005c[_0x700bc4(0xea)]&&_0x4a005c[_0x700bc4(0xea)][_0x700bc4(0x3ad)](_0x143bdd=>_0x143bdd[_0x700bc4(0x47e)]===_0x3ca10a);_0x4b1d44[_0x468536]={..._0x4a005c,'answered':_0x47f887};});const _0x25449d={...cachedGameData,'players':_0x4b1d44};currentMode===_0x230984(0x87c)?updateAdminSyncView(_0x25449d):updateStudentSyncView(_0x25449d);}function renderSyncLobbyView(_0x5bad83,_0x394c2a){const _0x387dc6=_0xc7d29a;liveGameView['innerHTML']=_0x387dc6(0x637)+_0x394c2a+_0x387dc6(0xe45)+_0x5bad83+_0x387dc6(0x646);const _0x55f23b=document[_0x387dc6(0x8cb)]('confidence-scoring-toggle'),_0x41d6f0=document['getElementById'](_0x387dc6(0x454));_0x55f23b[_0x387dc6(0x38d)]('change',()=>{const _0x6c7339=_0x387dc6;_0x41d6f0['style'][_0x6c7339(0xa5a)]=_0x55f23b['checked']?_0x6c7339(0x6b5):_0x6c7339(0xcab);}),document['getElementById'](_0x387dc6(0xe27))[_0x387dc6(0x38d)](_0x387dc6(0x9b4),async()=>{const _0x11c2ac=_0x387dc6,_0xa6ebe9=doc(db,'artifacts/'+appId+_0x11c2ac(0xde7),currentLiveGameId),_0x4f73ef=document[_0x11c2ac(0x8cb)]('confidence-scoring-toggle')[_0x11c2ac(0x4d7)];await updateDoc(_0xa6ebe9,{'status':_0x11c2ac(0x5e5),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x4f73ef});});}function updateAdminSyncView(_0x20a446){const _0x400372=_0xc7d29a;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x20a446[_0x400372(0x20a)]){case _0x400372(0x130):renderSyncLobbyView(_0x20a446[_0x400372(0x87e)],_0x20a446[_0x400372(0xb2d)][_0x400372(0x664)]);const _0x2c2e1a=Object[_0x400372(0x9b1)](_0x20a446[_0x400372(0x14d)]||{})[_0x400372(0xb8e)](([_0x4082cc,_0x5a3dcc])=>_0x5a3dcc[_0x400372(0x20a)]!==_0x400372(0xd03));document[_0x400372(0x8cb)](_0x400372(0x4b7))[_0x400372(0x1ae)]=_0x2c2e1a[_0x400372(0x3bb)],document[_0x400372(0x8cb)](_0x400372(0x27a))[_0x400372(0x22a)]=_0x2c2e1a[_0x400372(0x283)](([_0x596f82,_0x2970b0])=>_0x400372(0x8db)+_0x596f82+_0x400372(0x848)+_0x596f82+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x400372(0x922)]('')||_0x400372(0xd3e),document[_0x400372(0x8cb)](_0x400372(0xe27))['disabled']=_0x2c2e1a[_0x400372(0x3bb)]===0x0;break;case _0x400372(0x5e5):const _0xb7c658=Object[_0x400372(0xc37)](_0x20a446['players']||{})[_0x400372(0xb8e)](_0x1c0cf5=>_0x1c0cf5['status']!=='inactive'),_0x5250aa=_0xb7c658[_0x400372(0xb8e)](_0x52453e=>_0x52453e['answered']===!![]||_0x52453e[_0x400372(0x98b)]===!![]),_0x397bd2=_0xb7c658[_0x400372(0xb8e)](_0x177a4e=>!_0x177a4e[_0x400372(0xa1e)]&&!_0x177a4e[_0x400372(0x98b)]),_0x344199=_0x5250aa[_0x400372(0x3bb)],_0x1c9ab4=_0x397bd2[_0x400372(0x3bb)],_0xcd63bc=_0xb7c658[_0x400372(0x3bb)],_0x5a1765=_0x344199===_0xcd63bc&&_0xcd63bc>0x0;if(_0x5a1765&&_0x20a446['status']===_0x400372(0x5e5)){const _0x104e18=doc(db,_0x400372(0x9c2)+appId+_0x400372(0xde7),currentLiveGameId);updateDoc(_0x104e18,{'status':_0x400372(0x692)});return;}if(document[_0x400372(0x8cb)](_0x400372(0x8eb))===null)renderAdminSyncQuestionView(_0x20a446);else{const _0x150d92=document[_0x400372(0x8cb)](_0x400372(0xc0));_0x150d92&&(_0x150d92[_0x400372(0x1ae)]=_0x344199+'/'+_0xcd63bc);const _0x65e392=document[_0x400372(0x8cb)](_0x400372(0xb9c));if(_0x65e392)_0x65e392[_0x400372(0xc2b)]=!_0x5a1765;const _0x5e0da2=document[_0x400372(0x8cb)](_0x400372(0x1a7));_0x5e0da2&&(_0x5e0da2[_0x400372(0x22a)]=_0xb7c658[_0x400372(0x283)](_0x3c8ae6=>{const _0x48e49e=_0x400372,_0x32e772=_0x3c8ae6['answered']===!![]||_0x3c8ae6[_0x48e49e(0x98b)]===!![],_0x1bf7f1=_0x32e772?_0x48e49e(0x162):'bg-gray-600',_0x1d8048=_0x32e772?_0x48e49e(0x1ee):_0x48e49e(0x593);return _0x48e49e(0xced)+_0x1bf7f1+_0x48e49e(0x784)+_0x1d8048+_0x48e49e(0x90e)+_0x3c8ae6[_0x48e49e(0xa48)]+'</span><button\x20data-player-name=\x22'+_0x3c8ae6[_0x48e49e(0xa48)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x20ml-1\x20hover:bg-red-500/20\x20rounded-full\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>';})[_0x400372(0x922)](''));const _0x3b3da5=document[_0x400372(0x8cb)](_0x400372(0x6fb)),_0x42aef5=document[_0x400372(0x8cb)](_0x400372(0x4f7));if(_0x3b3da5)_0x3b3da5['textContent']=_0xcd63bc;if(_0x42aef5)_0x42aef5[_0x400372(0x1ae)]=_0x1c9ab4;const _0x17009e=_0x20a446[_0x400372(0x697)]!==![],_0x498ff1=parseInt(_0x20a446[_0x400372(0x3e5)]||0x3,0xa),_0x288a59=document[_0x400372(0x8cb)]('slow-responder-container');if(_0x288a59){if(_0x17009e&&_0x1c9ab4>0x0&&_0x1c9ab4<=_0x498ff1&&_0xcd63bc>_0x1c9ab4){const _0x19caaa=_0x397bd2[_0x400372(0x283)](_0x3f90d8=>_0x3f90d8['name'])['join'](',\x20');_0x288a59['innerHTML']=_0x400372(0x215)+_0x1c9ab4+_0x400372(0x18e)+_0x19caaa+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20mt-2\x20opacity-90\x20font-medium\x20bg-black/20\x20inline-block\x20px-3\x20py-1\x20rounded-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20รีบตอบหน่อยจ้า!\x20เพื่อนรออยู่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}else _0x288a59[_0x400372(0x22a)]='';}}const _0x452f05=_0x20a446[_0x400372(0xe47)]===_0x400372(0x484)&&_0x20a446[_0x400372(0x1f8)];if(_0x452f05){const _0x2c0fce=_0x20a446['questionDisplayedAt'][_0x400372(0x539)]()[_0x400372(0xcf5)](),_0x1363b4=_0x20a446[_0x400372(0x311)]*0x3e8,_0x4fe483=_0x2c0fce+_0x1363b4,_0x2dd96e=document[_0x400372(0x8cb)]('sync-timer-bar'),_0x1ae1ed=document['getElementById'](_0x400372(0x9c3));syncQuestionTimerInterval=setInterval(()=>{const _0x3346de=_0x400372,_0x1ce3fb=Date[_0x3346de(0x2da)](),_0x1a0ca2=_0xb7c658[_0x3346de(0x3bb)]>0x0&&_0xb7c658['every'](_0x7e9f57=>{const _0x155d92=_0x3346de;if(_0x7e9f57[_0x155d92(0xa1e)])return!![];const _0x528295=_0x7e9f57[_0x155d92(0xbba)]||0x0;return _0x1ce3fb>=_0x2c0fce+_0x1363b4+_0x528295;});if(_0x1a0ca2){clearInterval(syncQuestionTimerInterval);const _0x285daf=doc(db,_0x3346de(0x9c2)+appId+_0x3346de(0xde7),currentLiveGameId);updateDoc(_0x285daf,{'status':_0x3346de(0x692)});return;}const _0x4245c0=_0x4fe483-_0x1ce3fb;if(_0x4245c0<=0x0){if(_0x2dd96e)_0x2dd96e[_0x3346de(0x220)]['width']='0%';if(_0x1ae1ed)_0x1ae1ed[_0x3346de(0x1ae)]='0\x20(รอโบนัส)';}else{if(_0x2dd96e&&_0x1ae1ed){const _0x4c5854=_0x4245c0/_0x1363b4*0x64;_0x2dd96e[_0x3346de(0x220)]['width']=_0x4c5854+'%',_0x1ae1ed[_0x3346de(0x1ae)]=Math[_0x3346de(0x1be)](_0x4245c0/0x3e8);}}},0x1f4);}break;case _0x400372(0x692):const _0x11776b=_0x20a446['currentQuestionIndex'],_0x8ee6b1=_0x20a446[_0x400372(0xb2d)][_0x400372(0x763)][_0x11776b];renderSyncSummaryView(_0x20a446,_0x8ee6b1,!![]);break;case _0x400372(0x586):const _0x4a308e=_0x20a446[_0x400372(0xa15)]||_0x400372(0xb4d);_0x4a308e===_0x400372(0x75d)||_0x4a308e==='anonymous_reveal_end'?renderAdminSyncDashboard(_0x20a446,!![],_0x20a446[_0x400372(0x2d3)]):(_0x20a446[_0x400372(0x20a)]===_0x400372(0x586)&&!_0x20a446[_0x400372(0x852)]&&((async()=>{const _0x841e51=_0x400372;try{const _0x59df29=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x59df29,{'scoresCalculated':!![]});const _0x5ac134=cachedPlayerData||{},_0x36e9f6=_0x20a446[_0x841e51(0xb2d)]['questions'][_0x841e51(0x3bb)],_0x7dc61e=_0x20a446[_0x841e51(0xc74)],_0x58ced0=writeBatch(db);let _0x34e9be=0x0;const _0x5223a1=[];Object[_0x841e51(0x9b1)](_0x5ac134)['forEach'](([_0x49708b,_0x52be11])=>{const _0x37f170=_0x841e51;if(_0x52be11[_0x37f170(0x20a)]!=='inactive'){const _0xe16319=(_0x52be11[_0x37f170(0xea)]||[])['find'](_0x28481c=>_0x28481c['questionIndex']===_0x7dc61e);if(_0xe16319&&_0xe16319[_0x37f170(0x1a0)]===_0x37f170(0xcf9)){const _0x58d3b5=_0xe16319['wagerAmount']||0x0;_0xe16319['isCorrect']?_0x5223a1[_0x37f170(0x77f)](_0x49708b):_0x34e9be+=_0x58d3b5;}}});const _0x46bedf=_0x20a446[_0x841e51(0xc5e)]||0x0,_0x5ee5ff=_0x46bedf+_0x34e9be;let _0x116993=0x0,_0x318643=_0x5ee5ff;_0x5223a1[_0x841e51(0x3bb)]>0x0&&_0x5ee5ff>0x0&&(_0x116993=Math['floor'](_0x5ee5ff/_0x5223a1[_0x841e51(0x3bb)]),_0x318643=_0x5ee5ff%_0x5223a1[_0x841e51(0x3bb)]);const _0x462bbb=[];Object[_0x841e51(0xc37)](_0x5ac134)[_0x841e51(0x3f4)](_0x1c9f64=>{const _0x357d41=_0x841e51;if(_0x1c9f64['status']!==_0x357d41(0xd03)){const _0x279022=_0x1c9f64[_0x357d41(0xa48)],_0x5b63a0=doc(db,_0x357d41(0x9c2)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x357d41(0xc39),_0x279022),_0x51b5d5=(_0x1c9f64[_0x357d41(0xea)]||[])[_0x357d41(0x7d2)](_0x275d94=>_0x275d94['questionIndex']===_0x7dc61e);let _0x1bc883=0x0,_0x226a8d=_0x1c9f64[_0x357d41(0xea)],_0x146783=_0x1c9f64[_0x357d41(0x291)];!_0x51b5d5&&(_0x146783=0x0);_0x5223a1['includes'](_0x279022)&&_0x116993>0x0&&(_0x1bc883=_0x116993,_0x226a8d=(_0x1c9f64[_0x357d41(0xea)]||[])[_0x357d41(0x283)](_0x201e7f=>{const _0x362b17=_0x357d41;if(_0x201e7f[_0x362b17(0x47e)]===_0x7dc61e)return{..._0x201e7f,'potBonus':_0x116993};return _0x201e7f;}),_0x58ced0['update'](_0x5b63a0,{'answers':_0x226a8d}));const _0x3ca35a=_0x1c9f64[_0x357d41(0x1f9)]||0x0;let _0x28430a=_0x1c9f64[_0x357d41(0x540)]||0x0;_0x28430a+=_0x1bc883,_0x36e9f6>0x0&&_0x3ca35a===_0x36e9f6&&(_0x28430a+=0x1),_0x58ced0[_0x357d41(0x733)](_0x5b63a0,{'score':_0x3ca35a,'totalPoints':_0x28430a,'pointsLastRound':_0x28430a,'correctStreak':_0x146783}),_0x462bbb[_0x357d41(0x77f)]({..._0x1c9f64,'score':_0x3ca35a,'totalPoints':_0x28430a,'pointsLastRound':_0x28430a,'answers':_0x226a8d,'correctStreak':_0x146783});}}),_0x58ced0[_0x841e51(0x733)](_0x59df29,{'centralPot':_0x318643,'publicLeaderboard':_0x462bbb}),await _0x58ced0[_0x841e51(0x6ea)](),console[_0x841e51(0xcde)](_0x841e51(0x60c));}catch(_0x30d67a){console['error'](_0x841e51(0x42f),_0x30d67a);}})()),renderAdminSyncDashboard(_0x20a446,!![],_0x20a446[_0x400372(0xc74)]));break;case _0x400372(0xba3):const _0x4a2665=Object[_0x400372(0xb23)](_0x20a446[_0x400372(0x14d)]||{})[_0x400372(0x3bb)]>0x0,_0x554e90=_0x20a446[_0x400372(0x6de)]===!![],_0xe89051=_0x20a446[_0x400372(0x367)]===!![];_0xe89051&&!_0x554e90&&_0x4a2665&&(console[_0x400372(0xcde)](_0x400372(0xd79)),saveGameResultsAsSubmissions(_0x20a446));sessionStorage[_0x400372(0xd5b)]('activeGameSession');const _0x58c840=calculateFinalPodiumScores(_0x20a446);showPodiumView(_0x58c840,_0x400372(0x7ea),_0x20a446);break;}}function renderAdminSyncQuestionView(_0x55a189){const _0x3f596d=_0xc7d29a,_0x34a6c1=_0x55a189[_0x3f596d(0xc74)],_0x172d8d=_0x55a189[_0x3f596d(0xb2d)][_0x3f596d(0x763)][_0x34a6c1],_0xb5e8ef=_0x55a189['shuffledQuiz']['questions'][_0x3f596d(0x3bb)],_0x25e217=Object[_0x3f596d(0xc37)](_0x55a189[_0x3f596d(0x14d)]||{})['filter'](_0x378158=>_0x378158[_0x3f596d(0x20a)]!==_0x3f596d(0xd03)),_0x193a10=_0x25e217[_0x3f596d(0xb8e)](_0x46545e=>_0x46545e['answered']===!![]||_0x46545e[_0x3f596d(0x98b)]===!![]),_0xb20763=_0x25e217[_0x3f596d(0xb8e)](_0x5dd2ce=>!_0x5dd2ce['answered']&&!_0x5dd2ce[_0x3f596d(0x98b)]),_0x5a11df=_0x193a10[_0x3f596d(0x3bb)],_0x348aad=_0x25e217[_0x3f596d(0x3bb)],_0x3f2874=_0xb20763[_0x3f596d(0x3bb)],_0x231481=_0x5a11df===_0x348aad&&_0x348aad>0x0,_0x567b9a=_0x55a189[_0x3f596d(0x697)]!==![],_0x3dd423=parseInt(_0x55a189['slowResponderCount']||0x3,0xa),_0x4a1da8=getCentralPotHTML(_0x55a189),_0x20c2dc=_0x172d8d[_0x3f596d(0xd53)]||_0x55a189[_0x3f596d(0xb2d)][_0x3f596d(0x7f3)];let _0x1e104d='';(_0x20c2dc==='short_answer'||_0x20c2dc===_0x3f596d(0x8f8))&&_0x172d8d[_0x3f596d(0x764)]&&_0x172d8d[_0x3f596d(0x764)][_0x3f596d(0x3bb)]>0x0?_0x1e104d=_0x3f596d(0x4e6):_0x1e104d=(_0x172d8d[_0x3f596d(0x764)]||[])[_0x3f596d(0x283)](_0x2eb1de=>_0x3f596d(0x875)+_0x2eb1de+_0x3f596d(0x1d2))[_0x3f596d(0x922)]('');let _0x415866='';_0x55a189[_0x3f596d(0xe47)]===_0x3f596d(0x484)&&(_0x415866='<div\x20class=\x22my-4\x22><div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div></div><p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x55a189[_0x3f596d(0x311)]+_0x3f596d(0x45d));const _0x4282fd=_0x25e217[_0x3f596d(0x283)](_0x2f28a3=>{const _0x473ece=_0x3f596d,_0x383b7c=_0x2f28a3['answered']===!![]||_0x2f28a3[_0x473ece(0x98b)]===!![],_0x538283=_0x383b7c?_0x473ece(0x162):'bg-gray-600',_0x516bfa=_0x383b7c?_0x473ece(0x1ee):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x473ece(0xced)+_0x538283+_0x473ece(0x784)+_0x516bfa+_0x473ece(0x90e)+_0x2f28a3[_0x473ece(0xa48)]+_0x473ece(0xd0d)+_0x2f28a3[_0x473ece(0xa48)]+_0x473ece(0x1ff);})[_0x3f596d(0x922)]('');let _0x1bea9d='';if(_0x567b9a&&_0x3f2874>0x0&&_0x3f2874<=_0x3dd423&&_0x348aad>_0x3f2874){const _0x2c472d=_0xb20763['map'](_0x9d6ec=>_0x9d6ec[_0x3f596d(0xa48)])['join'](',\x20');_0x1bea9d=_0x3f596d(0x310)+_0x3f2874+'\x20คนสุดท้าย!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20font-extrabold\x20text-yellow-300\x20drop-shadow-md\x22>'+_0x2c472d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x1bea9d=_0x3f596d(0xacf);liveGameView[_0x3f596d(0x22a)]=_0x3f596d(0x8a4)+(_0x34a6c1+0x1)+_0x3f596d(0x99b)+_0xb5e8ef+_0x3f596d(0x4d1)+_0x55a189[_0x3f596d(0x87e)]+_0x3f596d(0x414)+_0x4a1da8+_0x3f596d(0xaa7)+_0x5a11df+'/'+_0x348aad+_0x3f596d(0x63b)+(_0x567b9a?_0x3f596d(0x4d7):'')+_0x3f596d(0x982)+_0x3dd423+_0x3f596d(0xdba)+Math[_0x3f596d(0xa73)](0x1,_0x348aad-0x1)+_0x3f596d(0x54b)+_0x4282fd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x415866+_0x3f596d(0x171)+(_0x172d8d['questionText']||_0x172d8d[_0x3f596d(0x23b)])+_0x3f596d(0x91a)+_0x1e104d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1bea9d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/20\x20hover:bg-white/30\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x20backdrop-blur-sm\x20border\x20border-white/20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-500\x20disabled:cursor-not-allowed\x20shadow-lg\x22\x20'+(!_0x231481?_0x3f596d(0xc2b):'')+_0x3f596d(0x9ee);if(window[_0x3f596d(0x608)])MathJax[_0x3f596d(0x31d)]();const _0x51df04=doc(db,_0x3f596d(0x9c2)+appId+_0x3f596d(0xde7),currentLiveGameId);document[_0x3f596d(0x8cb)](_0x3f596d(0xb9c))[_0x3f596d(0x38d)]('click',async()=>{await updateDoc(_0x51df04,{'status':'summary'});}),document[_0x3f596d(0x8cb)](_0x3f596d(0xade))[_0x3f596d(0x312)]=()=>{const _0x53995b=_0x3f596d;openScratchpad(_0x172d8d,_0x172d8d[_0x53995b(0x764)]||[]);};const _0x35b5e5=document[_0x3f596d(0x8cb)]('sync-player-management');document[_0x3f596d(0x8cb)](_0x3f596d(0x1a3))[_0x3f596d(0x38d)](_0x3f596d(0x9b4),()=>{const _0x243be6=_0x3f596d;_0x35b5e5[_0x243be6(0x144)][_0x243be6(0xc8b)](_0x243be6(0x1c9));}),document[_0x3f596d(0x8cb)](_0x3f596d(0x4b1))[_0x3f596d(0x38d)](_0x3f596d(0x9b4),()=>{const _0x55b465=_0x3f596d;_0x35b5e5[_0x55b465(0x144)][_0x55b465(0x743)](_0x55b465(0x1c9));}),document[_0x3f596d(0x8cb)]('toggle-slow-responders')[_0x3f596d(0x38d)](_0x3f596d(0xd8f),async _0x174c32=>{const _0x323c07=_0x3f596d;await updateDoc(_0x51df04,{'showSlowResponders':_0x174c32[_0x323c07(0x7b9)]['checked']});}),document[_0x3f596d(0x8cb)](_0x3f596d(0x8ac))[_0x3f596d(0x38d)](_0x3f596d(0xd8f),async _0x1a15ef=>{const _0x5104db=_0x3f596d;let _0x594fd7=parseInt(_0x1a15ef[_0x5104db(0x7b9)][_0x5104db(0xb66)]);if(_0x594fd7<0x1)_0x594fd7=0x1;await updateDoc(_0x51df04,{'slowResponderCount':_0x594fd7});});const _0x56b661=document[_0x3f596d(0x8cb)](_0x3f596d(0xa57));_0x56b661&&(_0x56b661[_0x3f596d(0x312)]=()=>{const _0x4dcafd=_0x3f596d;showConfirmation(_0x4dcafd(0x120),async()=>{await updateDoc(_0x51df04,{'status':'podium'});});});}function renderSyncLeaderboardView(_0xcc0ef0,_0x450c90){const _0x2cfdc2=_0xc7d29a,_0x3e4705=Object[_0x2cfdc2(0xc37)](_0xcc0ef0[_0x2cfdc2(0x14d)]||{});_0x3e4705['sort']((_0x1ca1d1,_0x49b289)=>_0x49b289[_0x2cfdc2(0x1f9)]-_0x1ca1d1[_0x2cfdc2(0x1f9)]);const _0x28a735=_0x3e4705[_0x2cfdc2(0xe54)](0x0,0x5);let _0x4d0ee5='';if(_0x450c90){const _0x483c75=_0xcc0ef0[_0x2cfdc2(0xc74)]>=_0xcc0ef0[_0x2cfdc2(0xb2d)][_0x2cfdc2(0x763)]['length']-0x1;_0x4d0ee5=_0x2cfdc2(0x1de)+(_0x483c75?_0x2cfdc2(0xd1e):_0x2cfdc2(0x696))+_0x2cfdc2(0xca2);}else _0x4d0ee5='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x2cfdc2(0x22a)]=_0x2cfdc2(0x8b8)+_0x28a735[_0x2cfdc2(0x283)]((_0x7d003c,_0x1c4eab)=>_0x2cfdc2(0x4fb)+(_0x1c4eab+0x1)+'.\x20'+_0x7d003c['name']+_0x2cfdc2(0x2ad)+_0x7d003c[_0x2cfdc2(0x1f9)]+'</span></div>')[_0x2cfdc2(0x922)]('')+_0x2cfdc2(0xbc8)+_0x4d0ee5+_0x2cfdc2(0xc8c),_0x450c90&&document[_0x2cfdc2(0x8cb)](_0x2cfdc2(0x520))[_0x2cfdc2(0x38d)](_0x2cfdc2(0x9b4),async()=>{const _0x2b2d4d=_0x2cfdc2,_0x1c4333=doc(db,_0x2b2d4d(0x9c2)+appId+_0x2b2d4d(0xde7),currentLiveGameId),_0x2f02ee=_0xcc0ef0['currentQuestionIndex']+0x1;if(_0x2f02ee<_0xcc0ef0[_0x2b2d4d(0xb2d)][_0x2b2d4d(0x763)][_0x2b2d4d(0x3bb)]){const _0x3c1ca3={};Object[_0x2b2d4d(0xb23)](_0xcc0ef0[_0x2b2d4d(0x14d)])[_0x2b2d4d(0x3f4)](_0x1d7b5f=>{const _0x25b301=_0x2b2d4d;_0x3c1ca3[_0x25b301(0x770)+_0x1d7b5f+_0x25b301(0xb6d)]=![];}),await updateDoc(_0x1c4333,{'status':'question','currentQuestionIndex':_0x2f02ee,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x1c4333,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x1328a8=_0xc7d29a,_0x30c8a3=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x30c8a3||_0x30c8a3['trim']()[_0x1328a8(0x3bb)]!==0x2){showMessage(_0x1328a8(0x61b));return;}try{const _0x4283f4=collection(db,_0x1328a8(0x9c2)+appId+'/public/data/syncGames'),_0x4e8bdb=query(_0x4283f4,where(_0x1328a8(0x87e),'==',_0x30c8a3[_0x1328a8(0x649)]()),where(_0x1328a8(0x20a),'==',_0x1328a8(0x130))),_0x2fbd2e=await getDocs(_0x4e8bdb);if(_0x2fbd2e['empty']){showMessage(_0x1328a8(0xd4f));return;}const _0x44c27f=_0x2fbd2e[_0x1328a8(0xd86)][0x0];currentLiveGameId=_0x44c27f['id'];const _0x1aaa98=_0x44c27f[_0x1328a8(0x241)](),_0x892bf5=doc(db,_0x1328a8(0x9c2)+appId+'/public/data/quizzes',_0x1aaa98[_0x1328a8(0x9fe)]),_0x1aa0a0=await getDoc(_0x892bf5);if(!_0x1aa0a0[_0x1328a8(0x45f)]())throw new Error(_0x1328a8(0x52e));const _0x454211=_0x1aa0a0[_0x1328a8(0x241)](),_0x3f1d26=doc(db,_0x1328a8(0x9c2)+appId+_0x1328a8(0xaad),_0x454211[_0x1328a8(0x8d2)]),_0x4026b1=await getDoc(_0x3f1d26);if(!_0x4026b1[_0x1328a8(0x45f)]())throw new Error(_0x1328a8(0xdaa));currentQuizData=_0x1aaa98['shuffledQuiz'];const _0x7fbb68=_0x4026b1[_0x1328a8(0x241)]();showView(_0x1328a8(0x9da)),showTeamPlayerSelection(_0x7fbb68[_0x1328a8(0xa0d)],_0x454211[_0x1328a8(0x664)]);const _0x4c50b8=document['getElementById'](_0x1328a8(0x6e8));_0x4c50b8[_0x1328a8(0x312)]=confirmAndJoinSyncGame;}catch(_0x9146d1){console['error'](_0x1328a8(0x24a),_0x9146d1),showMessage('เกิดข้อผิดพลาด:\x20'+_0x9146d1[_0x1328a8(0xd5f)]);}}function updateStudentSyncView(_0x15958e){const _0x7ac421=_0xc7d29a,_0x20d2f4=localTeamPlayers[0x0],_0x38b2de=_0x15958e[_0x7ac421(0x14d)][_0x20d2f4]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x15958e[_0x7ac421(0x20a)]){case _0x7ac421(0x130):showView(_0x7ac421(0xcb9)),liveGameView[_0x7ac421(0x22a)]=_0x7ac421(0x271);break;case'question':if(_0x15958e[_0x7ac421(0xc74)]!==lastSeenQuestionIndex){console[_0x7ac421(0xcde)](_0x7ac421(0xd06)),localPlayerTurnIndex=0x0,sessionStorage[_0x7ac421(0xd5b)]('powerupUsedThisTurn'),sessionStorage[_0x7ac421(0xd5b)](_0x7ac421(0xaa8)),sessionStorage[_0x7ac421(0xd5b)]('pollUsedThisTurn');const _0x11758a='freeMarketEntryUsed_q'+lastSeenQuestionIndex,_0x5ad2e0='powerupUsed_q'+lastSeenQuestionIndex,_0x3227de=_0x7ac421(0x61f)+lastSeenQuestionIndex;Object[_0x7ac421(0xb23)](sessionStorage)[_0x7ac421(0x3f4)](_0x47ead6=>{const _0x1af8b3=_0x7ac421;(_0x47ead6[_0x1af8b3(0xdd8)](_0x11758a)||_0x47ead6[_0x1af8b3(0xdd8)](_0x5ad2e0)||_0x47ead6[_0x1af8b3(0xdd8)](_0x3227de))&&sessionStorage['removeItem'](_0x47ead6);});if(_0x38b2de[_0x7ac421(0x6c0)]||_0x38b2de[_0x7ac421(0x19a)]||(_0x38b2de[_0x7ac421(0xbba)]||0x0)>0x0){const _0x3b275f=doc(db,'artifacts/'+appId+_0x7ac421(0x47f)+currentLiveGameId+_0x7ac421(0xc39),_0x20d2f4);updateDoc(_0x3b275f,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x7ac421(0xa65)](_0x5eae40=>console[_0x7ac421(0x3e8)]('Auto-cleanup\x20failed:',_0x5eae40));}lastSeenQuestionIndex=_0x15958e['currentQuestionIndex'];}const _0x222f83=localTeamPlayers[_0x7ac421(0xd31)](_0x2259bb=>_0x15958e[_0x7ac421(0x14d)][_0x2259bb]?.[_0x7ac421(0xa1e)]===!![]);if(_0x222f83)liveGameView[_0x7ac421(0x22a)]=_0x7ac421(0x9a3);else{renderStudentSyncQuestionView(_0x15958e);if(_0x15958e[_0x7ac421(0xe47)]===_0x7ac421(0x484)){if(!_0x15958e[_0x7ac421(0x1f8)])return;const _0x113090=_0x15958e[_0x7ac421(0x1f8)]['toDate']()[_0x7ac421(0xcf5)](),_0x1871c5=_0x15958e[_0x7ac421(0x311)]*0x3e8,_0x18360f=localTeamPlayers[_0x7ac421(0x283)](_0x3012fb=>_0x15958e['players'][_0x3012fb]?.[_0x7ac421(0xbba)]||0x0),_0xcec799=Math[_0x7ac421(0xa73)](..._0x18360f,0x0),_0x36b619=_0x113090+_0x1871c5+_0xcec799;syncQuestionTimerInterval=setInterval(()=>{const _0x1aced7=_0x7ac421,_0x2b18b8=_0x36b619-Date['now'](),_0x1c44cc=document[_0x1aced7(0x8cb)](_0x1aced7(0x314)),_0xe03314=document[_0x1aced7(0x8cb)](_0x1aced7(0x9c3));if(_0x2b18b8<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x1c44cc)_0x1c44cc['style'][_0x1aced7(0x958)]='0%';if(_0xe03314)_0xe03314[_0x1aced7(0x1ae)]='0';const _0x5bfe6b=localTeamPlayers[localPlayerTurnIndex];_0x15958e[_0x1aced7(0x14d)][_0x5bfe6b]?.[_0x1aced7(0xa1e)]!==!![]&&(liveGameView[_0x1aced7(0x22a)]=_0x1aced7(0x8d0));}else{if(_0x1c44cc&&_0xe03314){const _0x183df0=_0x1871c5+_0xcec799,_0x1e32bb=_0x183df0>0x0?_0x2b18b8/_0x183df0*0x64:0x0;_0x1c44cc[_0x1aced7(0x220)]['width']=_0x1e32bb+'%',_0xe03314[_0x1aced7(0x1ae)]=Math[_0x1aced7(0x1be)](_0x2b18b8/0x3e8);}}},0x1f4);}}break;case'summary':liveGameView[_0x7ac421(0x22a)]=_0x7ac421(0xcc);break;case _0x7ac421(0x586):localPlayerTurnIndex=0x0;const _0x53b126=_0x15958e[_0x7ac421(0xa15)]||'classic';if(_0x53b126===_0x7ac421(0x2ec)||_0x53b126===_0x7ac421(0x37b))renderStudentAnonymousResultsView(_0x15958e,_0x15958e['currentQuestionIndex']);else _0x53b126===_0x7ac421(0x5a6)?renderStudentCompetitionResultsView(_0x15958e,_0x15958e[_0x7ac421(0xc74)]):renderStudentSyncResultsView(_0x15958e);break;case _0x7ac421(0xba3):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x7ac421(0xdf5)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x7ac421(0xb56),handleVisibilityChange),sessionStorage[_0x7ac421(0xd5b)]('activeGameSession');const _0x468339=liveGameView['innerHTML'],_0x5bce4f=_0x468339[_0x7ac421(0xd33)]('สรุปคะแนนของคุณ')||_0x468339[_0x7ac421(0xd33)](_0x7ac421(0xdcd));if(!_0x5bce4f){const _0x5b6f7e=_0x15958e[_0x7ac421(0xa15)]||_0x7ac421(0xb4d),_0x373717=_0x15958e[_0x7ac421(0xb2d)][_0x7ac421(0x763)][_0x7ac421(0x3bb)]-0x1;if(_0x5b6f7e===_0x7ac421(0x2ec)||_0x5b6f7e===_0x7ac421(0x37b))renderStudentAnonymousResultsView(_0x15958e,_0x373717);else _0x5b6f7e===_0x7ac421(0x5a6)?renderStudentCompetitionResultsView(_0x15958e,_0x373717):renderStudentSyncResultsView(_0x15958e);}const _0xe517bb=liveGameView[_0x7ac421(0xb9f)]('p');_0xe517bb[_0x7ac421(0x3f4)](_0x58f92f=>{const _0x5cdf58=_0x7ac421;(_0x58f92f[_0x5cdf58(0x1ae)]['includes'](_0x5cdf58(0x9ea))||_0x58f92f[_0x5cdf58(0x1ae)]['includes'](_0x5cdf58(0xa5e)))&&(_0x58f92f['style']['display']=_0x5cdf58(0xcab));});if(!document[_0x7ac421(0x8cb)]('student-exit-game-btn')){const _0x560548='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22student-exit-game-btn\x22\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['firstElementChild']?liveGameView[_0x7ac421(0x5f5)][_0x7ac421(0x358)](_0x7ac421(0xd15),_0x560548):liveGameView[_0x7ac421(0x358)]('beforeend',_0x560548);}break;}}function renderStudentSyncResultsView(_0x2c0cd3){const _0x102243=_0xc7d29a;let _0x11c3ef=[];_0x2c0cd3[_0x102243(0x224)]&&Array[_0x102243(0x63a)](_0x2c0cd3[_0x102243(0x224)])&&_0x2c0cd3[_0x102243(0x224)][_0x102243(0x3bb)]>0x0?_0x11c3ef=_0x2c0cd3[_0x102243(0x224)]:_0x11c3ef=Object['values'](_0x2c0cd3[_0x102243(0x14d)]||{});const _0x2ace7e=_0x2c0cd3['gameVariant']||_0x102243(0xb4d),_0xd3471=_0x2ace7e==='reveal_at_end'||_0x2ace7e===_0x102243(0x37b),_0x360387=_0x2c0cd3['shuffledQuiz'][_0x102243(0x763)],_0x5f8111=_0xd3471&&_0x2c0cd3[_0x102243(0x2d3)]!==undefined?_0x2c0cd3[_0x102243(0x2d3)]:_0x2c0cd3['currentQuestionIndex'],_0x5c8d29=_0xd3471?_0x2c0cd3[_0x102243(0x2d3)]:_0x2c0cd3[_0x102243(0xc74)],_0x259cb5=_0x11c3ef['map'](_0x3baddc=>{const _0xa68125=_0x102243,_0x131e19=(_0x3baddc[_0xa68125(0xea)]||[])[_0xa68125(0xb8e)](_0x252419=>_0x252419[_0xa68125(0x47e)]<=_0x5f8111);let _0xefcc3c=0x0,_0x4edd61=0x0;_0xd3471?(_0xefcc3c=_0x131e19[_0xa68125(0xb8e)](_0x2e6c2d=>_0x2e6c2d[_0xa68125(0x2a6)])[_0xa68125(0x3bb)],_0x4edd61=_0x131e19[_0xa68125(0xcb0)]((_0x366859,_0x5745ce)=>_0x366859+(_0x5745ce[_0xa68125(0xc89)]||0x0),0x0)):(_0xefcc3c=_0x3baddc[_0xa68125(0x1f9)]||0x0,_0x4edd61=_0x3baddc['totalPoints']||0x0);let _0x181e62=0x0;for(let _0x162d3d=0x0;_0x162d3d<=_0x5f8111;_0x162d3d++){const _0x5690ec=_0x131e19[_0xa68125(0x7d2)](_0x4f06c1=>_0x4f06c1[_0xa68125(0x47e)]===_0x162d3d);if(_0x5690ec){const _0x55b644=_0x5690ec[_0xa68125(0x1a0)]&&_0x5690ec[_0xa68125(0x1a0)]!==_0xa68125(0xcf9)||_0x5690ec['usedBuyTime'];_0x5690ec[_0xa68125(0x2a6)]?_0x181e62=_0x55b644?0x0:_0x181e62+0x1:_0x181e62=0x0;}else _0x181e62=0x0;}return{..._0x3baddc,'realScore':_0xefcc3c,'totalPoints':_0x4edd61,'answers':_0x3baddc['answers'],'correctStreak':_0x181e62};}),_0x1c940e=Math[_0x102243(0xa73)](..._0x259cb5[_0x102243(0x283)](_0x247b51=>_0x247b51['totalPoints']),-Infinity),_0x12f248=Math['max'](..._0x259cb5['map'](_0x1c62fc=>_0x1c62fc['realScore']),-Infinity),_0x5c3c09=_0x2c0cd3[_0x102243(0xddc)]===!![],_0x1f5dba=[..._0x259cb5][_0x102243(0x9a7)]((_0x288408,_0x334b13)=>{const _0x14761e=_0x102243;if(_0x5c3c09){const _0x5399fa=_0x334b13[_0x14761e(0x540)]-_0x288408['totalPoints'];if(_0x5399fa!==0x0)return _0x5399fa;const _0x5c3442=_0x334b13[_0x14761e(0x31e)]-_0x288408[_0x14761e(0x31e)];if(_0x5c3442!==0x0)return _0x5c3442;return(_0x288408[_0x14761e(0xa48)]||'')[_0x14761e(0xb18)](_0x334b13[_0x14761e(0xa48)]||'','th');}else{const _0x25d737=_0x334b13[_0x14761e(0x540)]-_0x288408[_0x14761e(0x540)];if(_0x25d737!==0x0)return _0x25d737;const _0x49e334=_0x334b13['realScore']-_0x288408[_0x14761e(0x31e)];if(_0x49e334!==0x0)return _0x49e334;return(_0x288408[_0x14761e(0xa48)]||'')[_0x14761e(0xb18)](_0x334b13[_0x14761e(0xa48)]||'','th');}});let _0x16e417=0x1;for(let _0x307408=0x0;_0x307408<_0x1f5dba[_0x102243(0x3bb)];_0x307408++){if(_0x307408>0x0){const _0xc6289e=_0x1f5dba[_0x307408-0x1],_0x554c06=_0x1f5dba[_0x307408];let _0x1041ec=![];_0x5c3c09?_0x1041ec=_0x554c06[_0x102243(0x540)]===_0xc6289e['totalPoints']&&_0x554c06['realScore']===_0xc6289e[_0x102243(0x31e)]:_0x1041ec=_0x554c06['totalPoints']===_0xc6289e[_0x102243(0x540)]&&_0x554c06[_0x102243(0x31e)]===_0xc6289e[_0x102243(0x31e)],!_0x1041ec&&(_0x16e417=_0x307408+0x1);}_0x1f5dba[_0x307408][_0x102243(0xa70)]=_0x16e417;}let _0x3d7f5c=_0x1f5dba[_0x102243(0xb8e)](_0x47de6e=>localTeamPlayers['includes'](_0x47de6e[_0x102243(0xa48)]));_0x3d7f5c['sort']((_0x5f4035,_0x54ca39)=>(_0x54ca39['totalPoints']||0x0)-(_0x5f4035[_0x102243(0x540)]||0x0));let _0x36a06f='';const _0x4e7cfb=_0xd3471?_0x5f8111>=_0x360387['length']-0x1:_0x2c0cd3[_0x102243(0xc74)]>=_0x360387[_0x102243(0x3bb)]-0x1;if(_0x2c0cd3[_0x102243(0x20a)]===_0x102243(0xba3))_0x36a06f='';else _0x4e7cfb?_0x36a06f=_0x102243(0x30d):_0x36a06f=_0x102243(0xb84);const _0x5cbc14=getCentralPotHTML(_0x2c0cd3),_0x223ed5=_0x102243(0xe53)+_0x5cbc14+_0x102243(0xaa1)+_0x3d7f5c[_0x102243(0x283)]((_0x1ad95c,_0x5b7e75)=>{const _0x891c8e=_0x102243;let _0x1a07a1=_0x891c8e(0xb68);const _0x4b4d0c=(_0x1ad95c['answers']||[])[_0x891c8e(0x7d2)](_0x537b22=>_0x537b22['questionIndex']===_0x5c8d29);let _0x47bf16='';_0x4b4d0c&&_0x4b4d0c[_0x891c8e(0x543)]>0x0&&(_0x47bf16='<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20shadow-sm\x20border\x20border-yellow-300\x22\x20title=\x22ส่วนแบ่งจากคนตอบผิด\x22>+'+_0x4b4d0c[_0x891c8e(0x543)]+_0x891c8e(0x19d));let _0xef7f78='';if(_0x4b4d0c){if(_0x4b4d0c[_0x891c8e(0xabc)])_0xef7f78+='<span\x20title=\x22โดนบังคับ\x22>👻</span>';if(_0x4b4d0c[_0x891c8e(0x6ce)])_0xef7f78+=_0x891c8e(0x26e);if(_0x4b4d0c[_0x891c8e(0x194)])_0xef7f78+=_0x891c8e(0x988);const _0x4be324=_0x4b4d0c[_0x891c8e(0x1a0)];if(_0x4be324){const _0x43631e={'poll':'📊','cutOne':'✂️','insurance':_0x891c8e(0xc47),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':'👁️'};if(_0x43631e[_0x4be324])_0xef7f78+='<span\x20title=\x22ใช้\x20'+_0x4be324+'\x22>'+_0x43631e[_0x4be324]+_0x891c8e(0xd5c);}}if(_0x4b4d0c){const _0x100b10=_0x4b4d0c[_0x891c8e(0x2a6)],_0x1151f0=_0x4b4d0c[_0x891c8e(0xb1a)]===!![]||_0x4b4d0c[_0x891c8e(0xb1a)]==='confident',_0x469a6a=_0x4b4d0c[_0x891c8e(0x1a0)];if(_0x469a6a===_0x891c8e(0xcf9))_0x1a07a1=_0x100b10?_0x891c8e(0x8e3):_0x891c8e(0xc6d);else{if(_0x1151f0)_0x1a07a1=_0x100b10?_0x891c8e(0x9d5):_0x891c8e(0x15a);else _0x100b10?_0x1a07a1='bg-[#DCFCE7]\x20text-green-900':_0x1a07a1=_0x891c8e(0x18b);}}else _0x1a07a1='bg-red-100\x20text-red-900';let _0x523357='';_0x4b4d0c&&_0x4b4d0c[_0x891c8e(0x1a0)]==='wagerMultiplier'&&!_0x4b4d0c['isCorrect']&&(_0x523357=_0x891c8e(0x373));const _0x59b04c=_0x1ad95c[_0x891c8e(0x540)]>=0x0?'(+'+_0x1ad95c['totalPoints'][_0x891c8e(0x546)]()+')':'('+_0x1ad95c[_0x891c8e(0x540)][_0x891c8e(0x546)]()+')';let _0x2e924d='';const _0x438287=_0x1ad95c[_0x891c8e(0xea)]['length'],_0x5e18ee=_0x5f8111+0x1;if(_0x438287>0x0){if(_0x5c3c09){if(_0x1ad95c[_0x891c8e(0x540)]===_0x1c940e&&_0x1c940e>0x0)_0x2e924d+=_0x891c8e(0xb22);if(_0x1ad95c[_0x891c8e(0x31e)]===_0x12f248&&_0x12f248>0x0)_0x2e924d+=_0x891c8e(0xe10);}else{if(_0x1ad95c[_0x891c8e(0x31e)]===_0x5e18ee)_0x2e924d+=_0x891c8e(0xcc3);}const _0x46c388=_0x2e924d['includes']('👑')||_0x2e924d[_0x891c8e(0xd33)]('🎓')||_0x2e924d[_0x891c8e(0xd33)]('⭐');if(!_0x46c388&&_0x1ad95c[_0x891c8e(0x540)]<0x0)_0x2e924d+='<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>';}let _0x5babf8='';const _0x4b4777=_0x4b4d0c&&_0x4b4d0c['usedBuyTime'],_0x217ebc=_0x4b4d0c&&_0x4b4d0c[_0x891c8e(0x1a0)]&&_0x4b4d0c[_0x891c8e(0x1a0)]!==_0x891c8e(0xcf9);if(!_0x4b4777&&!_0x217ebc){const _0x35a1fa=_0x1ad95c['correctStreak']||0x0;_0x35a1fa>=0x3&&(_0x5babf8='<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x'+_0x35a1fa+_0x891c8e(0xd5c));}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x1a07a1+_0x891c8e(0x3a5)+_0x1ad95c[_0x891c8e(0xa70)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20gap-1\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20truncate\x20break-words\x20max-w-[180px]\x20sm:max-w-xs\x20leading-tight\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ad95c['name']+_0x891c8e(0x7bb)+_0xef7f78+'\x20'+_0x2e924d+'\x20'+_0x5babf8+_0x891c8e(0x3d3)+_0x1ad95c[_0x891c8e(0x31e)]+_0x891c8e(0x2b6)+_0x59b04c+_0x891c8e(0x1d5)+_0x47bf16+_0x891c8e(0x58a)+_0x523357+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x102243(0x922)]('')+_0x102243(0x77b)+_0x36a06f+_0x102243(0x849);liveGameView['innerHTML']=_0x223ed5;}function renderStudentAnonymousResultsView(_0x137778,_0x2a9055){const _0x70ee93=_0xc7d29a;let _0x2fdf46=[];_0x137778[_0x70ee93(0x224)]?_0x2fdf46=_0x137778[_0x70ee93(0x224)]:_0x2fdf46=Object[_0x70ee93(0xc37)](_0x137778[_0x70ee93(0x14d)]||{});const _0x2bd904=_0x137778[_0x70ee93(0xa15)]||_0x70ee93(0xb4d),_0x3745b5=_0x2bd904===_0x70ee93(0x75d)||_0x2bd904===_0x70ee93(0x37b),_0x3dea81=_0x137778[_0x70ee93(0x381)]===!![],_0x234bf1=_0x137778[_0x70ee93(0xb2d)]['questions'],_0x59a92a=_0x3745b5&&_0x137778['reviewQuestionIndex']!==undefined?_0x137778[_0x70ee93(0x2d3)]:_0x2a9055,_0x98f423=_0x2fdf46[_0x70ee93(0x283)](_0x42bddf=>{const _0x207dd3=_0x70ee93,_0xf07784=(_0x42bddf['answers']||[])['filter'](_0x53b8ff=>_0x53b8ff['questionIndex']<=_0x59a92a);let _0x3bd7a1=0x0,_0x22d789=0x0;_0x3745b5?(_0x3bd7a1=_0xf07784[_0x207dd3(0xb8e)](_0x2da78d=>_0x2da78d['isCorrect'])[_0x207dd3(0x3bb)],_0x22d789=_0xf07784[_0x207dd3(0xcb0)]((_0xc74a8e,_0x167da3)=>_0xc74a8e+(_0x167da3[_0x207dd3(0xc89)]||0x0),0x0)):(_0x3bd7a1=_0x42bddf['score']||0x0,_0x22d789=_0x42bddf[_0x207dd3(0x540)]||0x0);let _0x51e37d=0x0;for(let _0x4b84e0=0x0;_0x4b84e0<=_0x59a92a;_0x4b84e0++){const _0x15de26=_0xf07784[_0x207dd3(0x7d2)](_0x17734e=>_0x17734e['questionIndex']===_0x4b84e0);if(_0x15de26){const _0x2bb2ec=_0x15de26[_0x207dd3(0x1a0)]&&_0x15de26['powerupUsed']!==_0x207dd3(0xcf9)||_0x15de26['usedBuyTime'];_0x15de26[_0x207dd3(0x2a6)]?_0x51e37d=_0x2bb2ec?0x0:_0x51e37d+0x1:_0x51e37d=0x0;}else _0x51e37d=0x0;}return{..._0x42bddf,'realScore':_0x3bd7a1,'totalPoints':_0x22d789,'answers':_0xf07784,'correctStreak':_0x51e37d};}),_0xf8123=Math[_0x70ee93(0xa73)](..._0x98f423['map'](_0xa5d7fe=>_0xa5d7fe[_0x70ee93(0x540)]),-Infinity),_0x3e26df=Math[_0x70ee93(0xa73)](..._0x98f423['map'](_0x1a7420=>_0x1a7420[_0x70ee93(0x31e)]),-Infinity),_0x3b9a82=_0x137778[_0x70ee93(0xddc)]===!![],_0x42624c=[..._0x98f423][_0x70ee93(0x9a7)]((_0x44c28b,_0x5abd02)=>{const _0x540179=_0x70ee93;if(_0x3b9a82){if(_0x5abd02[_0x540179(0x540)]!==_0x44c28b[_0x540179(0x540)])return _0x5abd02[_0x540179(0x540)]-_0x44c28b[_0x540179(0x540)];if(_0x5abd02[_0x540179(0x31e)]!==_0x44c28b[_0x540179(0x31e)])return _0x5abd02[_0x540179(0x31e)]-_0x44c28b[_0x540179(0x31e)];}else{if(_0x5abd02[_0x540179(0x540)]!==_0x44c28b['totalPoints'])return _0x5abd02['totalPoints']-_0x44c28b[_0x540179(0x540)];if(_0x5abd02[_0x540179(0x31e)]!==_0x44c28b[_0x540179(0x31e)])return _0x5abd02[_0x540179(0x31e)]-_0x44c28b[_0x540179(0x31e)];}return(_0x44c28b['name']||'')[_0x540179(0xb18)](_0x5abd02[_0x540179(0xa48)]||'','th');});let _0x2ce47f=0x1;for(let _0x1861fe=0x0;_0x1861fe<_0x42624c['length'];_0x1861fe++){if(_0x1861fe>0x0){const _0x5600b3=_0x42624c[_0x1861fe-0x1],_0x271dbd=_0x42624c[_0x1861fe];let _0x4b5d3e=_0x271dbd['totalPoints']===_0x5600b3[_0x70ee93(0x540)]&&_0x271dbd[_0x70ee93(0x31e)]===_0x5600b3[_0x70ee93(0x31e)];!_0x4b5d3e&&(_0x2ce47f=_0x1861fe+0x1);}_0x42624c[_0x1861fe][_0x70ee93(0xa70)]=_0x2ce47f;}let _0x47ad14=null;const _0x4f2195=_0x98f423['filter'](_0x10ce16=>localTeamPlayers[_0x70ee93(0xd33)](_0x10ce16[_0x70ee93(0xa48)]));_0x47ad14=_0x4f2195[_0x70ee93(0x3bb)]>0x0?_0x4f2195['sort']((_0x4258ad,_0x3fbef9)=>_0x3fbef9[_0x70ee93(0x540)]-_0x4258ad['totalPoints'])[0x0]:null;if(!_0x47ad14){liveGameView['innerHTML']=_0x70ee93(0xa19);return;}const _0x2b9905=_0x3b9a82?_0x47ad14[_0x70ee93(0x540)]:_0x47ad14['totalPoints'],_0x50c9b6=_0x59a92a+0x1,_0x3d31ba=_0x42624c['map']((_0x4c6213,_0x23a27e)=>{const _0x5f0796=_0x70ee93,_0x5e2363=_0x4c6213[_0x5f0796(0x31e)],_0x4aebcc=_0x4c6213['totalPoints'],_0x59f864=(_0x4c6213[_0x5f0796(0xea)]||[])[_0x5f0796(0x7d2)](_0x4b465c=>_0x4b465c[_0x5f0796(0x47e)]===_0x59a92a);let _0x138534='';_0x59f864&&_0x59f864['potBonus']>0x0&&(_0x138534=_0x5f0796(0x5eb)+_0x59f864[_0x5f0796(0x543)]+_0x5f0796(0x19d));let _0xee240d='';if(_0x59f864){if(_0x59f864[_0x5f0796(0xabc)])_0xee240d+=_0x5f0796(0x4d8);if(_0x59f864['wasJinxed'])_0xee240d+=_0x5f0796(0x26e);if(_0x59f864[_0x5f0796(0x194)])_0xee240d+=_0x5f0796(0x988);const _0x40f6fe=_0x59f864['powerupUsed'];if(_0x40f6fe){const _0x1ade5c={'poll':'📊','cutOne':'✂️','insurance':_0x5f0796(0xc47),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x5f0796(0x1dd)};if(_0x1ade5c[_0x40f6fe])_0xee240d+=_0x5f0796(0x86b)+_0x40f6fe+'\x22>'+_0x1ade5c[_0x40f6fe]+_0x5f0796(0xd5c);}}let _0x3e1191='';if(_0x50c9b6>0x0){if(_0x3b9a82){if(_0x4aebcc===_0xf8123&&_0xf8123>0x0)_0x3e1191+='<span\x20class=\x22text-yellow-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>';if(_0x5e2363===_0x3e26df&&_0x3e26df>0x0)_0x3e1191+=_0x5f0796(0x4d2);}else{const _0x53ddfa=_0x4c6213['realScore']===_0x50c9b6&&_0x50c9b6>0x0;if(_0x53ddfa)_0x3e1191=_0x5f0796(0xcd);}if(_0x3e1191===''&&_0x4aebcc<0x0)_0x3e1191=_0x5f0796(0x3e1);}let _0x507e7f='';const _0x3e0e97=_0x59f864&&_0x59f864[_0x5f0796(0x194)],_0x30c680=_0x59f864&&_0x59f864['powerupUsed']&&_0x59f864['powerupUsed']!==_0x5f0796(0xcf9);if(!_0x3e0e97&&!_0x30c680){const _0x5a16ba=_0x4c6213[_0x5f0796(0x291)]||0x0;_0x5a16ba>=0x3&&(_0x507e7f=_0x5f0796(0xbc6)+_0x5a16ba+_0x5f0796(0xd5c));}let _0x3c3533=_0x5f0796(0xa83),_0x55622b=![];if(_0x59f864){const _0xd535b0=_0x59f864[_0x5f0796(0x2a6)],_0x453c9b=_0x59f864[_0x5f0796(0xb1a)]===!![]||_0x59f864[_0x5f0796(0xb1a)]===_0x5f0796(0x8ff),_0x4902b3=_0x59f864[_0x5f0796(0x1a0)];if(_0x4902b3===_0x5f0796(0xcf9))_0xd535b0?(_0x3c3533=_0x5f0796(0x8e3),_0x55622b=!![]):_0x3c3533=_0x5f0796(0xc6d);else{if(_0x453c9b)_0x3c3533=_0xd535b0?_0x5f0796(0x9d5):'bg-[#EF4444]\x20text-white\x20font-bold';else _0xd535b0&&(_0x3c3533=_0x5f0796(0x25b));}}let _0x2ce1c4='';const _0xaa3014=_0x4c6213[_0x5f0796(0xa48)],_0x11c8b1=_0x137778[_0x5f0796(0x4c0)][_0x4c6213['name']]||_0x5f0796(0x82f),_0x519117=localTeamPlayers[_0x5f0796(0xd33)](_0xaa3014),_0x280096=_0x55622b?_0x5f0796(0x4c5):_0x5f0796(0x3e4),_0x21fb9b=_0x3b9a82?_0x4c6213[_0x5f0796(0x540)]:_0x4c6213[_0x5f0796(0x540)],_0x88755d=_0x3dea81||_0x519117||_0x2b9905>_0x21fb9b;_0x88755d?_0x2ce1c4=_0x5f0796(0x886)+_0xaa3014+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20'+_0x280096+_0x5f0796(0x4c9)+_0x11c8b1+_0x5f0796(0xe3b):_0x2ce1c4=_0x5f0796(0x74c)+_0x11c8b1+'</span>';_0x519117&&(_0x2ce1c4=_0x5f0796(0x333)+_0x2ce1c4+_0x5f0796(0x7f6));const _0x15b936='<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x22>'+_0xee240d+'\x20'+_0x3e1191+'\x20'+_0x507e7f+_0x5f0796(0x1d2),_0x22b6ac=_0x4aebcc>=0x0?'(+'+_0x4aebcc[_0x5f0796(0x546)]()+')':'('+_0x4aebcc[_0x5f0796(0x546)]()+')';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0x3c3533+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20w-full\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20sm:items-center\x20gap-3\x20flex-grow\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c6213[_0x5f0796(0xa70)]+_0x5f0796(0xdf8)+_0x2ce1c4+_0x5f0796(0x3a9)+_0x15b936+_0x5f0796(0x582)+_0x5e2363+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>'+_0x22b6ac+_0x5f0796(0x1fc)+_0x138534+_0x5f0796(0x112);})[_0x70ee93(0x922)]('');let _0x1d39b5='';const _0x2fe1b3=_0x3745b5?_0x59a92a>=_0x234bf1['length']-0x1:_0x137778[_0x70ee93(0xc74)]>=_0x234bf1[_0x70ee93(0x3bb)]-0x1;if(_0x137778[_0x70ee93(0x20a)]===_0x70ee93(0xba3))_0x1d39b5='';else _0x2fe1b3?_0x1d39b5='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x1d39b5=_0x70ee93(0xb84);const _0x604684=getCentralPotHTML(_0x137778),_0x4c05a2=_0x70ee93(0xe53)+_0x604684+_0x70ee93(0x4ad)+_0x3d31ba+_0x70ee93(0xbc8)+_0x1d39b5+_0x70ee93(0xc8c);liveGameView[_0x70ee93(0x22a)]=_0x4c05a2;}function renderStudentCompetitionResultsView(_0x5237f1,_0x42f5f9){const _0x157404=_0xc7d29a,_0x4a003f=Object[_0x157404(0xc37)](_0x5237f1[_0x157404(0x14d)]||{}),_0x2eef81=_0x42f5f9,_0x3d4c1c=_0x5237f1['gameVariant']||'classic',_0x1cf061=_0x5237f1[_0x157404(0xb2d)]['questions'],_0x9d5d72=_0x4a003f['map'](_0xfe71d=>{const _0x4f5720=_0x157404,_0x5d7908=_0xfe71d[_0x4f5720(0x1f9)]||0x0,_0x10ee42=_0xfe71d[_0x4f5720(0x540)]||0x0,_0x2577e9=(_0xfe71d[_0x4f5720(0xea)]||[])[_0x4f5720(0xb8e)](_0x1e2533=>_0x3d4c1c===_0x4f5720(0x75d)?_0x1e2533[_0x4f5720(0x47e)]<=_0x2eef81:!![]);return{..._0xfe71d,'realScore':_0x5d7908,'totalPoints':_0x10ee42,'answers':_0x2577e9};}),_0xd5d66a=_0x5237f1[_0x157404(0xddc)]===!![],_0x8b2ec=[..._0x9d5d72][_0x157404(0x9a7)]((_0x378dd3,_0x5e3371)=>{const _0xc673bb=_0x157404;if(_0xd5d66a){const _0x3dd650=_0x5e3371[_0xc673bb(0x31e)]-_0x378dd3[_0xc673bb(0x31e)];if(_0x3dd650!==0x0)return _0x3dd650;const _0x186a32=_0x5e3371[_0xc673bb(0x540)]-_0x378dd3[_0xc673bb(0x540)];if(_0x186a32!==0x0)return _0x186a32;return(_0x378dd3['name']||'')['localeCompare'](_0x5e3371[_0xc673bb(0xa48)]||'','th');}else{const _0x2589d2=_0x5e3371['totalPoints']-_0x378dd3[_0xc673bb(0x540)];if(_0x2589d2!==0x0)return _0x2589d2;const _0x3c47ef=_0x5e3371[_0xc673bb(0x31e)]-_0x378dd3[_0xc673bb(0x31e)];if(_0x3c47ef!==0x0)return _0x3c47ef;return(_0x378dd3[_0xc673bb(0xa48)]||'')['localeCompare'](_0x5e3371[_0xc673bb(0xa48)]||'','th');}});let _0x2d17c9=0x1;for(let _0x15c997=0x0;_0x15c997<_0x8b2ec[_0x157404(0x3bb)];_0x15c997++){if(_0x15c997>0x0){const _0x3f2d09=_0x8b2ec[_0x15c997-0x1],_0x55c0f8=_0x8b2ec[_0x15c997];let _0x505570=![];_0xd5d66a?_0x505570=_0x55c0f8[_0x157404(0x31e)]===_0x3f2d09[_0x157404(0x31e)]&&_0x55c0f8[_0x157404(0x540)]===_0x3f2d09[_0x157404(0x540)]:_0x505570=_0x55c0f8[_0x157404(0x540)]===_0x3f2d09['totalPoints']&&_0x55c0f8['realScore']===_0x3f2d09[_0x157404(0x31e)],!_0x505570&&(_0x2d17c9=_0x15c997+0x1);}_0x8b2ec[_0x15c997][_0x157404(0xa70)]=_0x2d17c9;}const _0x6fa924=_0x8b2ec[_0x157404(0x283)]((_0x979819,_0x5e5658)=>{const _0x585fc9=_0x157404,_0xa5685d='';let _0x5170bf='bg-black/20';const _0xc68f50=_0x979819[_0x585fc9(0xa48)],_0x433cd0=_0x585fc9(0x33e),_0x22142f='word-break:\x20break-all;',_0x2eafe7='<div\x20style=\x22'+_0x433cd0+'\x22\x20title=\x22'+_0xc68f50+'\x22><span\x20style=\x22'+_0x22142f+'\x22>'+_0xc68f50+_0x585fc9(0xd5c)+_0xa5685d+_0x585fc9(0x1d2),_0x1a6785='';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20'+_0x5170bf+_0x585fc9(0x72c)+_0x979819[_0x585fc9(0xa70)]+_0x585fc9(0xb0)+_0x2eafe7+_0x585fc9(0x22b)+_0x1a6785+_0x585fc9(0x7fe);})[_0x157404(0x922)]('');let _0x96c064='';const _0x1659c6=_0x3d4c1c===_0x157404(0x75d)?_0x5237f1[_0x157404(0x2d3)]>=_0x1cf061[_0x157404(0x3bb)]-0x1:_0x5237f1[_0x157404(0xc74)]>=_0x1cf061[_0x157404(0x3bb)]-0x1;_0x1659c6?_0x96c064=_0x157404(0x30d):_0x96c064=_0x157404(0xb84);const _0x171b0d=_0x157404(0x675)+_0x6fa924+_0x157404(0x9bb)+_0x96c064+_0x157404(0xc8c);liveGameView[_0x157404(0x22a)]=_0x171b0d;}function renderStudentSyncQuestionView(_0x4756e5){const _0x57ead5=_0xc7d29a;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x4756e5[_0x57ead5(0x14d)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x57ead5(0xa1e)]===!![]){localPlayerTurnIndex++;}localPlayerTurnIndex>=localTeamPlayers[_0x57ead5(0x3bb)]&&(localPlayerTurnIndex=localTeamPlayers[_0x57ead5(0x57c)](_0x7dec86=>_0x4756e5['players'][_0x7dec86]?.[_0x57ead5(0xa1e)]!==!![]));const _0x58b588=localTeamPlayers[localPlayerTurnIndex];if(!_0x58b588)return;const _0x1c1fe6=_0x4756e5[_0x57ead5(0x14d)][_0x58b588],_0x38544b=_0x4756e5[_0x57ead5(0xc74)],_0x4e1db2=_0x4756e5[_0x57ead5(0xb2d)]['questions'][_0x57ead5(0x3bb)],_0x54fbd7=_0x4756e5[_0x57ead5(0xb2d)][_0x57ead5(0x763)][_0x38544b],_0x4063f1=_0x54fbd7[_0x57ead5(0xd53)]||_0x4756e5[_0x57ead5(0xb2d)][_0x57ead5(0x7f3)];let _0x225a3b='',_0x1634fe=![];const _0x20bd11=_0x57ead5(0x594)+_0x38544b+'_p'+_0x58b588,_0x163670=sessionStorage['getItem'](_0x20bd11),_0x5ad5dc=_0x163670==='revealOptions',_0x5dfad5=_0x57ead5(0x61f)+_0x38544b+'_p'+_0x58b588,_0x29de8f=JSON[_0x57ead5(0x208)](sessionStorage[_0x57ead5(0xb47)](_0x5dfad5)||'[]')[_0x57ead5(0x283)](String);if((_0x4063f1===_0x57ead5(0xc34)||_0x4063f1===_0x57ead5(0x8f8))&&_0x5ad5dc&&_0x54fbd7[_0x57ead5(0x764)]&&_0x54fbd7[_0x57ead5(0x764)]['length']>0x0)_0x225a3b=_0x54fbd7[_0x57ead5(0x764)][_0x57ead5(0x283)]((_0x1bc72a,_0x1a6617)=>{const _0x20e7d6=_0x57ead5;if(_0x29de8f[_0x20e7d6(0xd33)](String(_0x1a6617)))return'';return _0x20e7d6(0x9d2)+_0x1bc72a+_0x20e7d6(0x6e0)+_0x1a6617+_0x20e7d6(0x292)+_0x1bc72a+'</button>';})[_0x57ead5(0x922)]('');else{if(_0x4063f1===_0x57ead5(0xc34)||_0x4063f1===_0x57ead5(0x8f8)){_0x1634fe=!![];const _0x4e3dbc=_0x54fbd7['idealAnswer']&&/^-?[\d.,]+$/[_0x57ead5(0x46c)](String(_0x54fbd7['idealAnswer'])['trim']());let _0x2f3d67=_0x4e3dbc?_0x57ead5(0xc4a):_0x57ead5(0xe6e);_0x225a3b=_0x57ead5(0xe62)+_0x2f3d67+_0x57ead5(0xbe);}else switch(_0x4063f1){case _0x57ead5(0x206):const _0x3866d0=_0x29de8f[_0x57ead5(0xd33)]('0')?'':_0x57ead5(0x986),_0x517778=_0x29de8f['includes']('1')?'':_0x57ead5(0x6a7);_0x225a3b=_0x3866d0+_0x517778;break;case _0x57ead5(0x6cf):_0x1634fe=!![];const _0x37dc1a=(_0x54fbd7[_0x57ead5(0x872)]||[])['map'](_0x4380ca=>{const _0x3445c4=_0x57ead5,_0x2b69a5=_0x4380ca[_0x3445c4(0xb91)](/"/g,_0x3445c4(0x8d3));return _0x3445c4(0x45c)+_0x2b69a5+_0x3445c4(0x74f)+_0x4380ca+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x57ead5(0x922)]('');_0x225a3b=_0x57ead5(0x537)+_0x37dc1a+_0x57ead5(0xa46);break;case _0x57ead5(0xc7b):default:_0x225a3b=(_0x54fbd7[_0x57ead5(0x764)]||[])[_0x57ead5(0x283)]((_0x5ca52e,_0x1902b9)=>{const _0x498abe=_0x57ead5;if(_0x29de8f['includes'](String(_0x1902b9)))return'';return _0x498abe(0x9d2)+_0x1902b9+_0x498abe(0x6e0)+_0x1902b9+_0x498abe(0xe43)+_0x5ca52e+_0x498abe(0x4b6);})[_0x57ead5(0x922)]('');break;}}let _0x5b519c='';_0x4756e5[_0x57ead5(0xe47)]==='per_question'&&(_0x5b519c='<div\x20class=\x22my-4\x22><div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div></div><p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>'+_0x4756e5['timerDuration']+_0x57ead5(0x45d));let _0x500923='';const _0x25bb8e=_0x4756e5[_0x57ead5(0xa15)]||'classic',_0xb4f73a=[_0x57ead5(0x75d),_0x57ead5(0x37b),_0x57ead5(0x5a6)][_0x57ead5(0xd33)](_0x25bb8e);if(_0x4756e5[_0x57ead5(0xddc)]===!![]){if(_0xb4f73a)!_0x163670&&(_0x500923=_0x57ead5(0xa13));else{const _0x4f4525=_0x1c1fe6[_0x57ead5(0x540)]||0x0,_0x252b06=_0x1c1fe6[_0x57ead5(0xc49)]||{},_0x4a01d5=[_0x252b06['buyTime']>0x0?_0x57ead5(0xc65)+_0x252b06[_0x57ead5(0xb39)]+_0x57ead5(0xd99):'',_0x252b06[_0x57ead5(0xb45)]>0x0?_0x57ead5(0xb2b)+_0x252b06['revealOptions']+_0x57ead5(0xd99):'',_0x252b06[_0x57ead5(0xde8)]>0x0?_0x57ead5(0x35f)+_0x252b06[_0x57ead5(0xde8)]+_0x57ead5(0xd99):'',_0x252b06[_0x57ead5(0x8be)]>0x0?'<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20('+_0x252b06['insurance']+_0x57ead5(0xd99):'',_0x252b06[_0x57ead5(0xcef)]>0x0?'<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20('+_0x252b06[_0x57ead5(0xcef)]+_0x57ead5(0xd99):'',_0x252b06[_0x57ead5(0xdf4)]>0x0?_0x57ead5(0x67e)+_0x252b06[_0x57ead5(0xdf4)]+_0x57ead5(0xd99):''][_0x57ead5(0xb8e)](Boolean)[_0x57ead5(0x922)]('\x20'),_0x51f7d7=_0x57ead5(0x5c5)+_0x38544b+'_p'+_0x58b588,_0x4b4ab7=sessionStorage[_0x57ead5(0xb47)](_0x51f7d7)===_0x57ead5(0xa81),_0x4aa073=_0x4f4525>0x0&&(!_0x4b4ab7||_0x4f4525>=0x1),_0x130c71=_0x4f4525===0x0?'ตลาดมืด\x20(0\x20P)':_0x4b4ab7?_0x57ead5(0xdce):_0x57ead5(0xdef)+_0x4f4525+_0x57ead5(0x74a),_0x27af36=_0x4aa073?_0x57ead5(0xa6c):_0x57ead5(0x6a3),_0x3ae750=_0x4aa073?'':_0x57ead5(0xc2b);let _0x4873ed='<button\x20id=\x22open-market-btn\x22\x20class=\x22'+_0x27af36+_0x57ead5(0x8ef)+_0x3ae750+_0x57ead5(0x66a)+_0x130c71+_0x57ead5(0x4b6);if(!_0x163670){const _0x442ea0=_0x4f4525>0x0,_0x276b03=_0x442ea0?_0x57ead5(0x720):_0x57ead5(0x81d),_0xc96f2a=_0x442ea0?_0x57ead5(0xe26):_0x57ead5(0x6f1),_0x2f0660=_0x442ea0?'':_0x57ead5(0xc2b);_0x4873ed+='<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22'+_0x276b03+_0x57ead5(0xada)+_0x2f0660+'><span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span></button><button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22'+_0xc96f2a+_0x57ead5(0xada)+_0x2f0660+_0x57ead5(0x1f1);}_0x500923=_0x57ead5(0x930)+_0x4873ed+'</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>'+(_0x4a01d5||'')+_0x57ead5(0x940);}}let _0x20e3ba='';if(_0x1c1fe6['isJinxed'])_0x20e3ba+=_0x57ead5(0xb9);if(_0x1c1fe6[_0x57ead5(0x19a)])_0x20e3ba+='<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div><p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p></div>';if((_0x1c1fe6[_0x57ead5(0xbba)]||0x0)>0x0)_0x20e3ba+=_0x57ead5(0x91f);if(_0x163670){if(_0x163670===_0x57ead5(0xcf9)){const _0x23f82e=_0xb4f73a?_0x57ead5(0x40e):_0x57ead5(0x831);_0x20e3ba+=_0x57ead5(0x9eb)+_0x23f82e+_0x57ead5(0xe0a);}else{if(_0x163670==='cutOne')_0x20e3ba+=_0x57ead5(0x599);else{if(_0x163670===_0x57ead5(0xcef))_0x20e3ba+=_0x57ead5(0xbcf);else{if(_0x163670===_0x57ead5(0xdf4))_0x20e3ba+='<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p></div>';else{if(_0x163670===_0x57ead5(0xb45))_0x20e3ba+='<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22><div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div><p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p></div>';else _0x163670===_0x57ead5(0x8be)?_0x20e3ba+=_0x57ead5(0x52b):_0x20e3ba+=_0x57ead5(0x642)+_0x163670+'\x20ทำงานอยู่!</div>';}}}}}let _0x4c990d='';if(!_0xb4f73a){const _0x212e5b=_0x1c1fe6[_0x57ead5(0x291)]||0x0;if(_0x212e5b>=0x3)_0x4c990d=_0x57ead5(0xdd6);else _0x212e5b>0x0&&(_0x4c990d=_0x57ead5(0xd37)+_0x212e5b+_0x57ead5(0x156));}const _0x39893d=getCentralPotHTML(_0x4756e5);let _0x340cc0='';const _0x2228ee=localTeamPlayers[_0x57ead5(0xb8e)](_0x2905aa=>_0x4756e5[_0x57ead5(0x14d)][_0x2905aa]?.[_0x57ead5(0xa1e)]!==!![]);localTeamPlayers[_0x57ead5(0x3bb)]>0x1&&_0x2228ee[_0x57ead5(0x3bb)]>0x1&&(_0x340cc0=_0x57ead5(0xc45));liveGameView[_0x57ead5(0x22a)]=_0x57ead5(0x93d)+_0x340cc0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-900/50\x20px-4\x20py-1.5\x20rounded-full\x20border\x20border-indigo-400/30\x20backdrop-blur-sm\x20shadow-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x20font-bold\x20text-white\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อที่\x20<span\x20class=\x22text-yellow-300\x22>'+(_0x38544b+0x1)+_0x57ead5(0x142)+_0x4e1db2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-end\x20transform\x20scale-90\x20origin-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x39893d+_0x57ead5(0x5c1)+_0x58b588+_0x57ead5(0x1fa)+_0x4c990d+_0x57ead5(0x965)+_0x5b519c+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x500923+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x20e3ba+_0x57ead5(0xcf0)+(_0x54fbd7[_0x57ead5(0x3ab)]||_0x54fbd7['stem'])+_0x57ead5(0x91a)+_0x225a3b+_0x57ead5(0x6ff);if(window[_0x57ead5(0x608)])MathJax[_0x57ead5(0x31d)]();function _0x49d6f8(_0x5bf03a,_0x164434,_0x20a8fa,_0xd41e98){const _0x100f6e=_0x57ead5,_0xc754b=_0x20a8fa[_0x100f6e(0xe0b)]===!![],_0x14e55f=_0x20a8fa[_0x100f6e(0xc74)],_0x184fef='powerupUsed_q'+_0x14e55f+'_p'+_0xd41e98,_0x20204f=sessionStorage[_0x100f6e(0xb47)](_0x184fef),_0x524049=_0x20204f===_0x100f6e(0xcf9),_0x299bfe=_0x20a8fa[_0x100f6e(0x14d)][_0xd41e98];if(_0x524049){const _0x1a485f=sessionStorage[_0x100f6e(0xb47)](_0x100f6e(0x3db))===_0x100f6e(0xa81);if(_0xb4f73a||_0x1a485f){const _0x178561=_0x299bfe[_0x100f6e(0x540)]||0x0;sessionStorage[_0x100f6e(0xd5b)](_0x100f6e(0x3db)),handleSyncAnswerSubmit(_0x5bf03a,_0x164434,_0x20a8fa,_0xd41e98,![],_0x178561);}else{const _0x9442da=document[_0x100f6e(0x8cb)]('wager-modal'),_0x235af9=document[_0x100f6e(0x8cb)](_0x100f6e(0x76b)),_0x49979c=document[_0x100f6e(0x8cb)]('wager-amount-display'),_0x404081=document[_0x100f6e(0x8cb)](_0x100f6e(0x9a6)),_0x498a24=_0x299bfe[_0x100f6e(0x540)]||0x0;_0x235af9[_0x100f6e(0xa73)]=_0x498a24,_0x235af9['value']=_0x498a24,_0x49979c[_0x100f6e(0x1ae)]=_0x498a24,_0x404081[_0x100f6e(0x1ae)]=_0x498a24,_0x235af9[_0x100f6e(0x699)]=()=>{const _0x530026=_0x100f6e;_0x49979c['textContent']=_0x235af9[_0x530026(0xb66)];};const _0x2b119c=document[_0x100f6e(0x8cb)](_0x100f6e(0x97e));_0x2b119c[_0x100f6e(0x5fd)][_0x100f6e(0xe5e)]=_0x5bf03a,_0x2b119c[_0x100f6e(0x5fd)][_0x100f6e(0x5e5)]=JSON[_0x100f6e(0xa7e)](_0x164434),_0x2b119c['dataset'][_0x100f6e(0x28e)]=JSON['stringify'](_0x20a8fa),_0x2b119c[_0x100f6e(0x5fd)][_0x100f6e(0xd45)]=_0xd41e98,_0x9442da['classList'][_0x100f6e(0xc8b)](_0x100f6e(0x1c9));}}else{if(_0xc754b){document[_0x100f6e(0x8cb)](_0x100f6e(0x2fc))[_0x100f6e(0x5fd)]['currentMode']=_0x100f6e(0x7ea);const _0x1dc90f=document[_0x100f6e(0x8cb)]('selected-answer-index-hidden');_0x1dc90f['dataset'][_0x100f6e(0xe5e)]=_0x5bf03a,_0x1dc90f[_0x100f6e(0x5fd)][_0x100f6e(0x5e5)]=JSON['stringify'](_0x164434),_0x1dc90f[_0x100f6e(0x5fd)]['gameData']=JSON['stringify'](_0x20a8fa),_0x1dc90f[_0x100f6e(0x5fd)][_0x100f6e(0xd45)]=_0xd41e98,document['getElementById'](_0x100f6e(0x2fc))['classList'][_0x100f6e(0xc8b)]('hidden');}else handleSyncAnswerSubmit(_0x5bf03a,_0x164434,_0x20a8fa,_0xd41e98,![],0x0);}}_0x1634fe?document['getElementById'](_0x57ead5(0x690))[_0x57ead5(0x38d)](_0x57ead5(0x9b4),()=>{const _0x2ee8cc=_0x57ead5,_0x5c3e86=document[_0x2ee8cc(0x8cb)](_0x2ee8cc(0x9d0))||document['getElementById'](_0x2ee8cc(0x741));let _0x2bc58e='';if(_0x5c3e86)_0x2bc58e=_0x5c3e86[_0x2ee8cc(0xb66)][_0x2ee8cc(0x649)]();else{const _0x3d23e8=document[_0x2ee8cc(0x8cb)](_0x2ee8cc(0x687));if(_0x3d23e8)_0x2bc58e=_0x3d23e8[_0x2ee8cc(0xb66)];}if(_0x2bc58e===''){showMessage(_0x2ee8cc(0xdfc));return;}_0x49d6f8(_0x2bc58e,_0x54fbd7,_0x4756e5,_0x58b588);}):document[_0x57ead5(0xb9f)](_0x57ead5(0xd10))['forEach'](_0x4aa338=>{const _0x46a129=_0x57ead5;_0x4aa338[_0x46a129(0x38d)](_0x46a129(0x9b4),()=>{const _0x471870=_0x46a129;_0x49d6f8(_0x4aa338[_0x471870(0x5fd)][_0x471870(0xb66)],_0x54fbd7,_0x4756e5,_0x58b588);});});const _0x3abe53=document['getElementById'](_0x57ead5(0x4dd));_0x3abe53&&_0x3abe53['addEventListener'](_0x57ead5(0x9b4),()=>{showResponderSelectionModal(_0x4756e5);});if(_0x4756e5['isBlackMarketEnabled']===!![]&&!_0xb4f73a){const _0x25ebd4=document[_0x57ead5(0x8cb)](_0x57ead5(0xa0f));_0x25ebd4&&_0x25ebd4[_0x57ead5(0x38d)](_0x57ead5(0x9b4),()=>{const _0x5d3ee9=_0x57ead5,_0x59c4e5='freeMarketEntryUsed_q'+_0x38544b+'_p'+_0x58b588,_0x1d552d=sessionStorage[_0x5d3ee9(0xb47)](_0x59c4e5)==='true';if(!_0x1d552d)openBlackMarket(_0x4756e5,_0x1c1fe6),sessionStorage[_0x5d3ee9(0xdfb)](_0x59c4e5,_0x5d3ee9(0xa81)),renderStudentSyncQuestionView(_0x4756e5);else{if(_0x1c1fe6[_0x5d3ee9(0x540)]<0x1){showMessage(_0x5d3ee9(0x76f));return;}showConfirmation(_0x5d3ee9(0x5ef),()=>{handlePayForMarketEntry(_0x58b588,_0x4756e5,_0x1c1fe6);});}}),document[_0x57ead5(0x8cb)]('use-powerup-buyTime')?.[_0x57ead5(0x38d)](_0x57ead5(0x9b4),_0xfa7ffc=>{const _0x46763b=_0x57ead5;_0xfa7ffc[_0x46763b(0x7b9)][_0x46763b(0xc2b)]=!![],handleUsePowerup(_0x58b588,_0x46763b(0xb39),_0x54fbd7,_0x4756e5,_0x1c1fe6);}),document[_0x57ead5(0x8cb)](_0x57ead5(0x5bc))?.[_0x57ead5(0x38d)](_0x57ead5(0x9b4),_0x2ce341=>{const _0x491cde=_0x57ead5;_0x2ce341[_0x491cde(0x7b9)][_0x491cde(0xc2b)]=!![],handleUsePowerup(_0x58b588,_0x491cde(0xde8),_0x54fbd7,_0x4756e5,_0x1c1fe6);}),document[_0x57ead5(0x8cb)]('use-powerup-insurance')?.[_0x57ead5(0x38d)](_0x57ead5(0x9b4),_0x5130a8=>{const _0x130771=_0x57ead5;_0x5130a8['target'][_0x130771(0xc2b)]=!![],handleUsePowerup(_0x58b588,'insurance',_0x54fbd7,_0x4756e5,_0x1c1fe6);}),document[_0x57ead5(0x8cb)](_0x57ead5(0x8af))?.[_0x57ead5(0x38d)]('click',_0x259b09=>{const _0x4dc263=_0x57ead5;_0x259b09[_0x4dc263(0x7b9)][_0x4dc263(0xc2b)]=!![],handleUsePowerup(_0x58b588,'fiftyFifty',_0x54fbd7,_0x4756e5,_0x1c1fe6);}),document['getElementById'](_0x57ead5(0x8b1))?.[_0x57ead5(0x38d)](_0x57ead5(0x9b4),_0x124bdd=>{const _0x43214a=_0x57ead5;_0x124bdd[_0x43214a(0x7b9)][_0x43214a(0xc2b)]=!![],handleUsePowerup(_0x58b588,'secondChance',_0x54fbd7,_0x4756e5,_0x1c1fe6);}),document[_0x57ead5(0x8cb)](_0x57ead5(0xd2a))?.[_0x57ead5(0x38d)](_0x57ead5(0x9b4),_0x3ca632=>{const _0x4d85b0=_0x57ead5;_0x3ca632['target'][_0x4d85b0(0xc2b)]=!![],handleUsePowerup(_0x58b588,_0x4d85b0(0xb45),_0x54fbd7,_0x4756e5,_0x1c1fe6);}),document['getElementById'](_0x57ead5(0x13e))?.[_0x57ead5(0x38d)]('click',_0x42cf09=>{const _0x26556b=_0x57ead5;_0x42cf09['target'][_0x26556b(0xc2b)]=!![],sessionStorage[_0x26556b(0xdfb)](_0x26556b(0x3db),_0x26556b(0xc78)),handleUsePowerup(_0x58b588,_0x26556b(0xcf9),_0x54fbd7,_0x4756e5,_0x1c1fe6);});}_0x4756e5['isBlackMarketEnabled']===!![]&&document[_0x57ead5(0x8cb)](_0x57ead5(0x515))?.[_0x57ead5(0x38d)](_0x57ead5(0x9b4),_0x49fdd3=>{const _0x5c45c9=_0x57ead5;_0x49fdd3['target'][_0x5c45c9(0xc2b)]=!![],sessionStorage['setItem'](_0x5c45c9(0x3db),'true'),handleUsePowerup(_0x58b588,_0x5c45c9(0xcf9),_0x54fbd7,_0x4756e5,_0x1c1fe6);});}window[_0xc7d29a(0x968)]=function(){const _0x515cd9=_0xc7d29a,_0x1ba17b=document[_0x515cd9(0x8cb)](_0x515cd9(0x5b9));if(_0x1ba17b)_0x1ba17b[_0x515cd9(0x144)][_0x515cd9(0x463)](_0x515cd9(0x1c9));},window[_0xc7d29a(0x396)]=function(_0x2beca2){const _0x44c420=_0xc7d29a,_0x4dc288=document[_0x44c420(0x8cb)](_0x44c420(0x687));if(_0x4dc288)_0x4dc288[_0x44c420(0xb66)]=_0x2beca2;const _0x4d1d6c=document[_0x44c420(0x8cb)](_0x44c420(0xa7c));if(_0x4d1d6c){_0x4d1d6c[_0x44c420(0x22a)]=_0x2beca2,_0x4d1d6c[_0x44c420(0x144)][_0x44c420(0xc8b)](_0x44c420(0x8b4)),_0x4d1d6c[_0x44c420(0x144)][_0x44c420(0x743)](_0x44c420(0x321),_0x44c420(0x8b0));if(window[_0x44c420(0x608)])MathJax[_0x44c420(0x31d)]([_0x4d1d6c]);}document[_0x44c420(0x8cb)](_0x44c420(0x5b9))['classList'][_0x44c420(0x743)]('hidden');},document[_0xc7d29a(0x38d)](_0xc7d29a(0x9b4),_0x4006b8=>{const _0x2a39d6=_0xc7d29a;if(!_0x4006b8['target'][_0x2a39d6(0x575)]('.sync-custom-dropdown')){const _0x112a41=document['getElementById'](_0x2a39d6(0x5b9));if(_0x112a41)_0x112a41[_0x2a39d6(0x144)]['add'](_0x2a39d6(0x1c9));}});function showResponderSelectionModal(_0x3d4ed9){const _0x276996=_0xc7d29a,_0x4f5724=_0x3d4ed9[_0x276996(0xc74)],_0x2727e3=_0x3d4ed9['shuffledQuiz'][_0x276996(0x763)][_0x276996(0x3bb)],_0x26a1ec=localTeamPlayers['filter'](_0x37d256=>_0x3d4ed9[_0x276996(0x14d)][_0x37d256]?.[_0x276996(0xa1e)]!==!![]),_0x1614a7=_0x26a1ec[_0x276996(0x283)](_0xa411ea=>_0x276996(0x67d)+_0xa411ea+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x22>'+_0xa411ea+_0x276996(0x443))['join'](''),_0x5e93fa=_0x276996(0x95a)+(_0x4f5724+0x1)+'\x20/\x20'+_0x2727e3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mb-8\x20drop-shadow-md\x22>ใครพร้อมตอบ?</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1614a7+_0x276996(0x9cd);document[_0x276996(0x8dc)]['insertAdjacentHTML'](_0x276996(0xd15),_0x5e93fa),document[_0x276996(0xb9f)](_0x276996(0x81b))[_0x276996(0x3f4)](_0x29dd4e=>{const _0x1fb1c9=_0x276996;_0x29dd4e[_0x1fb1c9(0x38d)](_0x1fb1c9(0x9b4),()=>{const _0x24a380=_0x1fb1c9,_0x2bc6a4=_0x29dd4e[_0x24a380(0x5fd)][_0x24a380(0xa48)];switchPlayerOnDevice(_0x2bc6a4,_0x3d4ed9),document[_0x24a380(0x8cb)](_0x24a380(0xc9a))[_0x24a380(0xc8b)]();});}),document[_0x276996(0x8cb)](_0x276996(0xe77))[_0x276996(0x38d)]('click',()=>{const _0x19c5c7=_0x276996;document[_0x19c5c7(0x8cb)]('responder-selection-overlay')[_0x19c5c7(0xc8b)]();});}function switchPlayerOnDevice(_0x1313b9,_0x546f51){const _0x4ca886=_0xc7d29a,_0x24a351=localTeamPlayers[_0x4ca886(0x7a7)](_0x1313b9);_0x24a351!==-0x1&&(localPlayerTurnIndex=_0x24a351,renderStudentSyncQuestionView(_0x546f51));}async function handleSyncAnswerSubmit(_0x4c3d3f,_0x5b2e9f,_0x758924,_0x27d3a4,_0xc2d800,_0x7139f5=0x0){const _0x1b2bc1=_0xc7d29a;document[_0x1b2bc1(0xb9f)](_0x1b2bc1(0x83e))['forEach'](_0x1667eb=>_0x1667eb['disabled']=!![]);const _0x1beacd=_0x758924[_0x1b2bc1(0xc74)],_0x7b2530=_0x1b2bc1(0x594)+_0x1beacd+'_p'+_0x27d3a4,_0x550e86=sessionStorage[_0x1b2bc1(0xb47)](_0x7b2530),_0x21db18=_0x758924[_0x1b2bc1(0x14d)][_0x27d3a4]||{},_0xff0fdc=_0x21db18[_0x1b2bc1(0x19a)]===!![],_0x41b4f3=sessionStorage[_0x1b2bc1(0xb47)](_0x1b2bc1(0xaa8))===_0x1b2bc1(0xa81);let _0x11bdbb=_0x21db18['correctStreak']||0x0;_0x550e86&&_0x550e86!==_0x1b2bc1(0xcf9)&&(_0x11bdbb=0x0);const _0x430244=_0x11bdbb>=0x3,_0x567079=_0x5b2e9f[_0x1b2bc1(0xd53)]||_0x758924[_0x1b2bc1(0xb2d)][_0x1b2bc1(0x7f3)];let _0x3d5c3=![],_0x716b83=_0x4c3d3f;switch(_0x567079){case _0x1b2bc1(0x206):const _0x50d254=parseInt(_0x4c3d3f),_0x18b4a6=_0x5b2e9f[_0x1b2bc1(0x124)]===!![]||String(_0x5b2e9f['correctAnswer'])[_0x1b2bc1(0xdfe)]()===_0x1b2bc1(0xa81);_0x3d5c3=_0x50d254===0x0&&_0x18b4a6||_0x50d254===0x1&&!_0x18b4a6,_0x716b83=_0x50d254===0x0?_0x1b2bc1(0xa66):'ไม่ใช่\x20/\x20ผิด';break;case'short_answer':case'fill_in_no_choices':_0x3d5c3=await gradeShortAnswer(_0x4c3d3f,_0x5b2e9f);break;case _0x1b2bc1(0x6cf):_0x3d5c3=_0x4c3d3f===_0x5b2e9f['correctResponse'];break;case'multiple_choice':default:const _0x10cd40=parseInt(_0x4c3d3f);_0x3d5c3=_0x10cd40===_0x5b2e9f[_0x1b2bc1(0xcd4)];_0x5b2e9f[_0x1b2bc1(0x764)]&&_0x5b2e9f[_0x1b2bc1(0x764)][_0x10cd40]&&(_0x716b83=_0x5b2e9f[_0x1b2bc1(0x764)][_0x10cd40]);break;}if(!_0x3d5c3&&_0x550e86===_0x1b2bc1(0xdf4)&&!_0x41b4f3){sessionStorage[_0x1b2bc1(0xd5b)](_0x7b2530),sessionStorage['setItem'](_0x1b2bc1(0xaa8),_0x1b2bc1(0xa81)),showMessage(_0x1b2bc1(0x667)),document[_0x1b2bc1(0xb9f)]('.live-answer-btn,\x20#sync-submit-btn')[_0x1b2bc1(0x3f4)](_0x114b48=>{const _0x1a9f32=_0x1b2bc1;if(!_0x114b48['classList'][_0x1a9f32(0x3c8)](_0x1a9f32(0x1c9)))_0x114b48[_0x1a9f32(0xc2b)]=![];});return;}let _0x82a94b=0x0;const _0x17cae1=_0x550e86===_0x1b2bc1(0xcf9),_0x408897=_0x550e86===_0x1b2bc1(0x8be),_0x1b6758=sessionStorage[_0x1b2bc1(0xb47)](_0x1b2bc1(0x31f))===_0x1b2bc1(0xa81),_0x8f24c3=_0x21db18[_0x1b2bc1(0x6c0)]===!![];if(_0x17cae1){const _0x5df3a8=parseInt(_0x7139f5,0xa)||0x0;_0x82a94b=_0x3d5c3?_0x5df3a8*0x2:-_0x5df3a8;}else{if(_0x1b6758&&!_0x3d5c3)_0x82a94b=_0xc2d800===!![]||_0xc2d800===_0x1b2bc1(0x8ff)||_0xff0fdc?-0x4:-0x2;else{if(_0xff0fdc)_0x82a94b=_0x3d5c3?0x2:-0x1;else{if(_0x758924[_0x1b2bc1(0xe0b)]){if(_0x3d5c3&&(_0xc2d800===!![]||_0xc2d800==='confident'))_0x82a94b=0x2;else{if(_0x3d5c3)_0x82a94b=0x1;else{if(!_0x3d5c3&&(_0xc2d800===![]||_0xc2d800===_0x1b2bc1(0xb4b)||_0xc2d800===null))_0x82a94b=0x0;else{if(!_0x3d5c3&&(_0xc2d800===!![]||_0xc2d800===_0x1b2bc1(0x8ff)))_0x82a94b=-0x1;}}}}else _0x82a94b=_0x3d5c3?0x1:0x0;}}}_0x430244&&_0x82a94b>0x0&&(_0x82a94b*=0x2);_0x8f24c3&&!_0x3d5c3&&_0x82a94b<0x0&&(_0x82a94b*=0x2);!_0x3d5c3&&_0x408897&&(_0x82a94b=0x0);const _0x3cd07c=(_0x21db18[_0x1b2bc1(0xbba)]||0x0)>0x0,_0x1b191d=_0x550e86&&_0x550e86!==_0x1b2bc1(0xcf9);let _0x51f2ab=0x0;_0x3d5c3&&(_0x51f2ab=_0x1b191d?0x0:_0x11bdbb+0x1);const _0xb488cd={'questionIndex':_0x758924[_0x1b2bc1(0xc74)],'questionId':_0x5b2e9f['id'],'answer':_0x4c3d3f,'answerText':_0x716b83,'isCorrect':_0x3d5c3,'originalQuestionText':_0x5b2e9f[_0x1b2bc1(0x3ab)]||_0x5b2e9f[_0x1b2bc1(0x23b)],'wasConfident':_0xff0fdc?'confident':_0xc2d800||![],'pointsAwarded':_0x82a94b,'powerupUsed':_0x550e86||null,'wagerAmount':_0x17cae1?parseInt(_0x7139f5,0xa)||0x0:0x0,'wasJinxed':_0x8f24c3||![],'wasForced':_0xff0fdc||![],'usedPoll':_0x1b6758||![],'usedBuyTime':_0x3cd07c,'streakActive':_0x430244},_0x35a64a=doc(db,_0x1b2bc1(0x9c2)+appId+_0x1b2bc1(0x47f)+currentLiveGameId+_0x1b2bc1(0xc39),_0x27d3a4),_0x39490b=_0x21db18['answers']||[],_0xb65568=_0x39490b[_0x1b2bc1(0xb8e)](_0x30d4b2=>_0x30d4b2[_0x1b2bc1(0x47e)]!==_0x758924['currentQuestionIndex']),_0x203712=[..._0xb65568,_0xb488cd],_0x5b505d=_0x203712['filter'](_0xb438ec=>_0xb438ec[_0x1b2bc1(0x2a6)])[_0x1b2bc1(0x3bb)],_0x840b38={'answers':_0x203712,'score':_0x5b505d,'totalPoints':increment(_0x82a94b),'answered':!![],'lastAnswerIndex':_0x567079===_0x1b2bc1(0xc7b)||_0x567079===_0x1b2bc1(0x206)?parseInt(_0x4c3d3f):null,'lastAnswerValue':_0x716b83,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x51f2ab};if(_0x41b4f3)sessionStorage['removeItem'](_0x1b2bc1(0xaa8));try{await updateDoc(_0x35a64a,_0x840b38);}catch(_0x3d90a3){console['error']('Error\x20submitting\x20answer:',_0x3d90a3),showMessage(_0x1b2bc1(0x2f8)),document[_0x1b2bc1(0xb9f)](_0x1b2bc1(0x83e))['forEach'](_0x473b27=>_0x473b27['disabled']=![]);}}const allMarketItems=[{'id':_0xc7d29a(0xb39),'name':_0xc7d29a(0x620),'price':0x1,'desc':_0xc7d29a(0x4bc)},{'id':'cutOne','name':_0xc7d29a(0xcdd),'price':0x2,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ'},{'id':_0xc7d29a(0xcef),'name':_0xc7d29a(0x23c),'price':0x5,'desc':_0xc7d29a(0x170)},{'id':'secondChance','name':_0xc7d29a(0x34f),'price':0x7,'desc':_0xc7d29a(0xbef)},{'id':_0xc7d29a(0xb45),'name':_0xc7d29a(0x911),'price':0xc,'desc':_0xc7d29a(0x9de)}];function openBlackMarket(_0x5b1095,_0x270505){const _0x106393=_0xc7d29a;let _0x478c20=null;const _0x3cb1e8=document[_0x106393(0x8cb)]('black-market-modal'),_0x4006cc=document[_0x106393(0x8cb)](_0x106393(0x5f0)),_0x41125d=document[_0x106393(0x8cb)](_0x106393(0xc41)),_0x2693d3=document[_0x106393(0x8cb)]('market-timer-bar'),_0xbfc5e8=_0x270505[_0x106393(0x540)]||0x0;_0x41125d[_0x106393(0x1ae)]=_0xbfc5e8;const _0x13560c=_0x5b1095[_0x106393(0xc74)],_0x44ea09=_0x5b1095[_0x106393(0xb2d)][_0x106393(0x763)][_0x13560c],_0x486b37=_0x44ea09['questionType']||_0x5b1095[_0x106393(0xb2d)][_0x106393(0x7f3)],_0x3e4875=_0x5b1095[_0x106393(0xe47)]===_0x106393(0x484),_0x29b96b=allMarketItems;_0x4006cc[_0x106393(0x22a)]=_0x29b96b[_0x106393(0x283)](_0x322c44=>{const _0x220b84=_0x106393,_0x25388c=_0xbfc5e8>=_0x322c44[_0x220b84(0x301)];if(_0x322c44['id']===_0x220b84(0xb39)){const _0x3b5863=_0x25388c?Math['floor'](_0xbfc5e8/_0x322c44[_0x220b84(0x301)]):0x0,_0x4fac3f=_0x25388c&&_0x3e4875;let _0x48c516=_0x220b84(0xc9b)+_0x322c44['price']+_0x220b84(0x666),_0x5bf684=_0x4fac3f?_0x220b84(0xcf6):_0x220b84(0x6b4);return!_0x3e4875&&(_0x48c516='<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา',_0x5bf684=_0x220b84(0x6dd)),_0x220b84(0x46b)+(!_0x4fac3f?_0x220b84(0xcda):_0x220b84(0xba6))+_0x220b84(0x5a1)+_0x322c44[_0x220b84(0xa48)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x322c44[_0x220b84(0x57f)]+_0x220b84(0xc3)+_0x3b5863+'\x22\x20'+(!_0x4fac3f?'disabled':'')+_0x220b84(0x1d3)+_0x5bf684+_0x220b84(0x2d0)+_0x322c44['id']+_0x220b84(0xa95)+_0x322c44[_0x220b84(0x301)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4fac3f?_0x220b84(0xc2b):'')+_0x220b84(0x797)+_0x48c516+_0x220b84(0xa8e);}else{let _0x21ccd5=!_0x25388c,_0xe2918=_0x25388c?_0x220b84(0xcf6):_0x220b84(0x6b4),_0x433e78=_0x220b84(0xc9b)+_0x322c44[_0x220b84(0x301)]+'P)';if(_0x322c44['id']===_0x220b84(0xb45)){const _0x5338eb=_0x44ea09['options']&&_0x44ea09[_0x220b84(0x764)][_0x220b84(0x3bb)]>0x0,_0x34903c=_0x486b37===_0x220b84(0xc34)||_0x486b37===_0x220b84(0x8f8);(!_0x5338eb||!_0x34903c)&&(_0x21ccd5=!![],_0xe2918='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300',_0x433e78='<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้');}if(_0x322c44['id']===_0x220b84(0xde8)||_0x322c44['id']===_0x220b84(0xcef)){const _0x36965e=_0x486b37==='short_answer'||_0x486b37===_0x220b84(0x8f8),_0x39228e=_0x44ea09[_0x220b84(0x764)]&&_0x44ea09['options'][_0x220b84(0x3bb)]>0x0;(_0x36965e||!_0x39228e)&&(_0x21ccd5=!![],_0xe2918='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300',_0x433e78=_0x220b84(0x116));}return _0x220b84(0x46b)+(_0x21ccd5?_0x220b84(0xcda):_0x220b84(0xba6))+_0x220b84(0x5a1)+_0x322c44['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0x322c44[_0x220b84(0x57f)]+_0x220b84(0x704)+_0xe2918+_0x220b84(0x88d)+_0x322c44['id']+_0x220b84(0x994)+_0x322c44[_0x220b84(0x301)]+_0x220b84(0x597)+(_0x21ccd5?_0x220b84(0xc2b):'')+_0x220b84(0x6f3)+_0x433e78+_0x220b84(0x30c);}})[_0x106393(0x922)](''),_0x3cb1e8[_0x106393(0x144)][_0x106393(0xc8b)](_0x106393(0x1c9)),_0x2693d3[_0x106393(0x220)][_0x106393(0x82a)]=_0x106393(0xcab),_0x2693d3[_0x106393(0x220)]['width']='100%',setTimeout(()=>{const _0x1e77ce=_0x106393;_0x2693d3[_0x1e77ce(0x220)][_0x1e77ce(0x82a)]=_0x1e77ce(0xd66),_0x2693d3[_0x1e77ce(0x220)][_0x1e77ce(0x958)]='0%';},0x32),_0x478c20=setTimeout(()=>{const _0x368a42=_0x106393;_0x3cb1e8['classList'][_0x368a42(0x743)]('hidden');},0xea60),document['getElementById'](_0x106393(0xe7))[_0x106393(0x312)]=()=>{const _0x57868c=_0x106393;clearTimeout(_0x478c20),_0x3cb1e8['classList'][_0x57868c(0x743)](_0x57868c(0x1c9));},_0x4006cc[_0x106393(0xb9f)]('.buy-item-btn')[_0x106393(0x3f4)](_0x23e1d4=>{_0x23e1d4['onclick']=_0x5ef1a5=>{const _0x4ad59c=_0x3c23,_0x3eb727=_0x5ef1a5[_0x4ad59c(0x7b9)][_0x4ad59c(0x5fd)][_0x4ad59c(0xe74)],_0x2cbf2d=parseInt(_0x5ef1a5[_0x4ad59c(0x7b9)][_0x4ad59c(0x5fd)]['price'],0xa);clearTimeout(_0x478c20),_0x3cb1e8[_0x4ad59c(0x144)][_0x4ad59c(0x743)]('hidden'),handleBuyItem(_0x270505[_0x4ad59c(0xa48)],_0x3eb727,_0x2cbf2d,0x1);};}),_0x4006cc[_0x106393(0xb9f)]('.buy-time-confirm-btn')[_0x106393(0x3f4)](_0x491337=>{const _0x415c29=_0x106393;_0x491337[_0x415c29(0x312)]=_0x1de8a7=>{const _0x5c72d4=_0x415c29,_0x1a5d7e=_0x1de8a7['target'][_0x5c72d4(0x5fd)]['itemId'],_0x596bc2=parseInt(_0x1de8a7['target'][_0x5c72d4(0x5fd)][_0x5c72d4(0x301)],0xa),_0x3ca8f4=document[_0x5c72d4(0x8cb)]('buy-time-quantity-input'),_0x13c0a7=parseInt(_0x3ca8f4[_0x5c72d4(0xb66)],0xa),_0x3b5bbb=parseInt(_0x3ca8f4['max'],0xa);if(!_0x13c0a7||_0x13c0a7<0x1){showMessage(_0x5c72d4(0x6f9));return;}if(_0x13c0a7>_0x3b5bbb){showMessage(_0x5c72d4(0x50a)+_0x3b5bbb+_0x5c72d4(0xd83));return;}clearTimeout(_0x478c20),_0x3cb1e8['classList'][_0x5c72d4(0x743)](_0x5c72d4(0x1c9)),handleBuyItem(_0x270505[_0x5c72d4(0xa48)],_0x1a5d7e,_0x596bc2,_0x13c0a7);};});}async function handleBuyItem(_0x295fbe,_0xbc47e7,_0x2f54f7,_0x21a706=0x1){const _0x58e6e0=_0xc7d29a,_0x341980=doc(db,_0x58e6e0(0x9c2)+appId+_0x58e6e0(0x47f)+currentLiveGameId+_0x58e6e0(0xc39),_0x295fbe);try{await runTransaction(db,async _0x225041=>{const _0x133776=_0x58e6e0,_0x4c3bf1=await _0x225041[_0x133776(0xba4)](_0x341980);if(!_0x4c3bf1[_0x133776(0x45f)]())throw'ไม่พบข้อมูลผู้เล่น';const _0xc59b44=_0x4c3bf1[_0x133776(0x241)]()[_0x133776(0x540)]||0x0,_0x2d8bbd=_0x2f54f7*_0x21a706;if(_0xc59b44<_0x2d8bbd)throw'มี\x20Points\x20ไม่เพียงพอ';const _0x3a1ab9={};_0x3a1ab9[_0x133776(0x540)]=increment(-_0x2d8bbd),_0x3a1ab9['powerups.'+_0xbc47e7]=increment(_0x21a706),_0x225041[_0x133776(0x733)](_0x341980,_0x3a1ab9);}),showMessage('ซื้อ\x20\x22'+_0xbc47e7+'\x22\x20x'+_0x21a706+_0x58e6e0(0xbce));}catch(_0x1dbd89){console[_0x58e6e0(0x3e8)]('Buy\x20Item\x20failed:\x20',_0x1dbd89),showMessage(typeof _0x1dbd89==='string'?_0x1dbd89:_0x58e6e0(0x127));}}async function handlePayForMarketEntry(_0x3cbc26,_0xa025d3,_0x42f4e6){const _0x935a17=_0xc7d29a,_0xeb85ea=doc(db,_0x935a17(0x9c2)+appId+_0x935a17(0x47f)+currentLiveGameId+_0x935a17(0xc39),_0x3cbc26);try{await runTransaction(db,async _0x2089d1=>{const _0x33e1bb=_0x935a17,_0x1e7d71=await _0x2089d1['get'](_0xeb85ea);if(!_0x1e7d71[_0x33e1bb(0x45f)]())throw _0x33e1bb(0x802);const _0x1a179a=_0x1e7d71['data']()[_0x33e1bb(0x540)]||0x0;if(_0x1a179a<0x1)throw'มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)';const _0x1c2687={};_0x1c2687[_0x33e1bb(0x540)]=increment(-0x1),_0x2089d1['update'](_0xeb85ea,_0x1c2687);});const _0x265cf4={..._0x42f4e6,'totalPoints':(_0x42f4e6[_0x935a17(0x540)]||0x0)-0x1};openBlackMarket(_0xa025d3,_0x265cf4);}catch(_0x27f2bb){console[_0x935a17(0x3e8)]('Market\x20entry\x20payment\x20failed:',_0x27f2bb),showMessage(typeof _0x27f2bb===_0x935a17(0xcdc)?_0x27f2bb:'เกิดข้อผิดพลาดในการเข้าตลาดมืด');}}const audioCtx=new(window['AudioContext']||window['webkitAudioContext'])();function playSystemSound(_0xfd0d49){const _0x56ec09=_0xc7d29a;if(audioCtx[_0x56ec09(0xddb)]===_0x56ec09(0x570))audioCtx[_0x56ec09(0x807)]();const _0x556e07=audioCtx[_0x56ec09(0xcae)](),_0x33f853=audioCtx[_0x56ec09(0x1ed)]();_0x556e07['connect'](_0x33f853),_0x33f853[_0x56ec09(0xe0d)](audioCtx[_0x56ec09(0x6c8)]);const _0x2edf9a=audioCtx[_0x56ec09(0xd2f)];if(_0xfd0d49===_0x56ec09(0x890))_0x556e07[_0x56ec09(0x255)]=_0x56ec09(0x3a1),_0x556e07['frequency'][_0x56ec09(0x61a)](0x258,_0x2edf9a),_0x556e07[_0x56ec09(0xb97)][_0x56ec09(0xad1)](0x4b0,_0x2edf9a+0.1),_0x33f853[_0x56ec09(0xa92)]['setValueAtTime'](0.1,_0x2edf9a),_0x33f853[_0x56ec09(0xa92)]['exponentialRampToValueAtTime'](0.01,_0x2edf9a+0.5),_0x556e07['start'](_0x2edf9a),_0x556e07[_0x56ec09(0x475)](_0x2edf9a+0.5);else{if(_0xfd0d49===_0x56ec09(0x411))_0x556e07[_0x56ec09(0x255)]=_0x56ec09(0x228),_0x556e07[_0x56ec09(0xb97)][_0x56ec09(0x61a)](0x96,_0x2edf9a),_0x556e07[_0x56ec09(0xb97)]['exponentialRampToValueAtTime'](0x64,_0x2edf9a+0.2),_0x33f853[_0x56ec09(0xa92)][_0x56ec09(0x61a)](0.1,_0x2edf9a),_0x33f853[_0x56ec09(0xa92)][_0x56ec09(0xad1)](0.01,_0x2edf9a+0.3),_0x556e07['start'](_0x2edf9a),_0x556e07[_0x56ec09(0x475)](_0x2edf9a+0.3);else _0xfd0d49===_0x56ec09(0xd3c)&&(_0x556e07['type']=_0x56ec09(0x855),_0x556e07['frequency'][_0x56ec09(0x61a)](0x12c,_0x2edf9a),_0x556e07[_0x56ec09(0xb97)][_0x56ec09(0xa9e)](0x258,_0x2edf9a+0.1),_0x33f853[_0x56ec09(0xa92)][_0x56ec09(0x61a)](0.1,_0x2edf9a),_0x33f853[_0x56ec09(0xa92)]['linearRampToValueAtTime'](0.01,_0x2edf9a+0.3),_0x556e07['start'](_0x2edf9a),_0x556e07[_0x56ec09(0x475)](_0x2edf9a+0.3));}}initialize();
